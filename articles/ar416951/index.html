<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ฉ๐ปโโ๏ธ ๐๏ธ ูุฌููุนุงุช Kubernetes ูู ุฎุฏูุฉ VPC ๐ฉ๐ฟโ๐ค ๐จ๐ผ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ููุฏ ุฃุถููุง ุงููุฏุฑุฉ ุนูู ุชุดุบูู Kubernetes ุจุณูููุฉ ูู ุฎุฏูุฉ Virtual Private Cloud ูู ูุถุน ุงูุงุฎุชุจุงุฑ ุงูุชุฌุฑูุจู ุงููุจูุฑ. 


 ุณุชููู ูุฐู ุงููุธููุฉ ูููุฏุฉ ูููุณุชุฎุฏููู ุงูุฐ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุฌููุนุงุช Kubernetes ูู ุฎุฏูุฉ VPC</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/selectel/blog/416951/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/bc/b6/cy/bcb6cykv49fwewsnhfr-7ny-0uc.png"><br><p style=";text-align:right;direction:rtl"><br>  ููุฏ ุฃุถููุง ุงููุฏุฑุฉ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow noopener noreferrer">ุชุดุบูู Kubernetes ุจุณูููุฉ</a> ูู ุฎุฏูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="noopener noreferrer">Virtual Private Cloud</a> ูู ูุถุน ุงูุงุฎุชุจุงุฑ ุงูุชุฌุฑูุจู ุงููุจูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุณุชููู ูุฐู ุงููุธููุฉ ูููุฏุฉ ูููุณุชุฎุฏููู ุงูุฐูู ูุญุชุงุฌูู ุฅูู ุฅุฏุงุฑุฉ ูุฑูุญุฉ ูุนุฏุฏ ูุจูุฑ ูู ุงูุชุทุจููุงุช ุงูุชู ุชุนูู ูุญุงููุงุช.  ุชูุฏู Kubernetes ุฃุฏูุงุช ูุชุบููุฑ ุงูุญุฌู ูุงูุดูุงุก ุงูุฐุงุชู ูููุงุฒูุฉ ููุญุงููุงุช ุงูุชู ุชุนูู ุฏุงุฎู ูุฌููุนุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู ุฎุฏูุฉ <strong>Virtual Private Cloud</strong> ุชุณุชูุฏ ุฅูู OpenStack ุ ูุฅููุง ูุณุชุฎุฏู ุฃุญุฏ ููููุงุชูุง - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow noopener noreferrer">OpenStack Magnum</a> .  ูุณูุญ ูู ุจุฅูุดุงุก ูุฌููุนุงุช Kubernetes ุงูุฎุงุตุฉ ุจุณุฑุนุฉ ูุน ุงูุนุฏุฏ ุงููุทููุจ ูู ุงูุนูุฏ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูููุช ุงูุญุงูู ุ ูููู ูุฃู ูุณุชุฎุฏู ูุฎุฏูุชูุง ุฅูุดุงุก ุนุฏุฉ ูุฌููุนุงุช ูุณุชููุฉ ูู ูุดุฑูุนู.  ูุนูุฏ ุงููุชูุฉ ุ ุณูุชู ุงุณุชุฎุฏุงู ุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ุ ูุงูุชู ูููู ุชุญุฏูุฏ ุชูููููุง ูุชุบููุฑูุง. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูููุงูุฉ ุ ุณูุชุญุฏุซ ุนู ุงููุงุฆูุงุช ุงูุฑุฆูุณูุฉ ููุฌููุนุฉ Kubernetes ููุณุชุฎุฏู ุงูุฃูุซูุฉ ูููุธุฑ ูู ุนูููุฉ ุฅูุดุงุก ูุฌููุนุฉ ุจุงุณุชุฎุฏุงู OpenStack Magnum. </p><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุฅุฏุงุฑุฉ ูุฌููุนุฉ Kubernetes </h2><br><p style=";text-align:right;direction:rtl">  ุญุงูููุง ุ ูุง ูููู ุฅูุดุงุก ูุฌููุนุฉ Kubernetes ุฅูุง ูู ุฎูุงู ุฃุฏูุงุช ูุญุฏุฉ ุงูุชุญูู ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow noopener noreferrer">OpenStack API</a> ูู ููุทูุชู ุงูุชููุฑ <strong>ru-1a</strong> ู <strong>ru-1b</strong> (ุณุงูุช ุจุทุฑุณุจุฑุบ). </p><br><p style=";text-align:right;direction:rtl">  ููุจุฏุก ุ ุณุชุญุชุงุฌ ุฅูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ ุฃู ุงุณุชุฎุฏุงู ูุดุฑูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="noopener noreferrer">VPC</a> ููุฌูุฏ ุ </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="noopener noreferrer">ูุณุชุฎุฏู ุจููุชุงุญ SSH</a> ุ </li><li style=";text-align:right;direction:rtl">  ุฅุถุงูุฉ ูุณุชุฎุฏู ุฅูู ุงููุดุฑูุน ุงูุฐู ุชู ุฅูุดุงุคู ูู ุตูุญุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="noopener noreferrer">ุฅุฏุงุฑุฉ</a> ุงููุดุฑูุน ุ </li><li style=";text-align:right;direction:rtl">  ุงูุชูู ุฅูู ุงููุดุฑูุน ูุงุญุตู ุนูู ููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="noopener noreferrer">ุงููุตูู ูู</a> ุนูุงูุฉ ุชุจููุจ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="noopener noreferrer">ุงููุตูู</a> ุ </li><li style=";text-align:right;direction:rtl">  ุชุซุจูุช ุนููู ูุญุฏุฉ ุงูุชุญูู <strong>openstack</strong> ูุน <strong>ููุชุจุฉ python-magnumclient</strong> ุ </li><li style=";text-align:right;direction:rtl">  ูู ุจุชุซุจูุช ุนููู ูุญุฏุฉ ุงูุชุญูู <strong>kubectl</strong> . </li></ul><br><p style=";text-align:right;direction:rtl">  ูุชุซุจูุช ุนููู ูุญุฏุฉ ุงูุชุญูู <strong>openstack</strong> ุ <strong>ููููู</strong> ุงุณุชุฎุฏุงู ุงูุฅุฑุดุงุฏุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="noopener noreferrer">ุงูููุฌูุฏุฉ ุนูู ุงูุฑุงุจุท</a> ุ ููุน ุฐูู ุ ูุฌุจ ุฃู ููุถุน ูู ุงูุงุนุชุจุงุฑ ุฃูู ุจุงููุณุจุฉ ููุฐุง ุงูุนููู ุ ุณุชุญุชุงุฌ ุฃูุถูุง ุฅูู ุชุซุจูุช ููุชุจุฉ <strong>python-magnumclient</strong> ูุฏุนู ุฅูุดุงุก ูุฌููุนุงุช Kubernetes. </p><br><p style=";text-align:right;direction:rtl">  ุงููุฌููุนุฉ ุงููุงููุฉ ูู ุงูุฃูุงูุฑ ูุชุซุจูุช ุนููู openstack ูุน ุงููููู ุงูุฅุถุงูู ุงููุทููุจ ูุฃูุธูุฉ ุชุดุบูู ุนุงุฆูุฉ Ubuntu / Debian: </p><br><pre style=";text-align:right;direction:rtl"><code class="bash hljs">$ sudo apt update $ sudo apt -y install curl python-pip python-dev python3-dev git libxml2-dev libxslt1-dev python-openssl python3-openssl python-pyasn1 libffi-dev libssl-dev build-essential $ sudo pip install -UI pbr setuptools pytz $ sudo pip install -UI git+https://github.com/openstack/python-openstackclient $ sudo pip install -UI git+https://github.com/openstack/python-magnumclient</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงููุฌููุนุฉ ุงููุงููุฉ ูู ุงูุฃูุงูุฑ ูุชุซุจูุช ุนููู openstack ูุน ุงููููู ุงูุฅุถุงูู ุงููุทููุจ ูุฃูุธูุฉ ุชุดุบูู ุนุงุฆูุฉ Fedora / CentOS: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ sudo yum -y install python-pip gcc libffi-devel python-devel libxslt-devel openssl-devel git libffi-devel $ sudo pip install -UI pbr setuptools pytz $ sudo pip install -UI git+https://github.com/openstack/python-openstackclient $ sudo pip install -UI git+https://github.com/openstack/python-magnumclient</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฅุฏุงุฑุฉ ูุงุฆูุงุช Kubernetes ุ ุชุญุชุงุฌ ุฅูู ุนููู ูุญุฏุฉ ุงูุชุญูู <strong>kubectl</strong> .  ูุชู ูุตู ุทุฑู ุงูุชุซุจูุช ููุฎุชูู ุฃูุธูุฉ ุงูุชุดุบูู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="noopener noreferrer">ุงููุซุงุฆู ุงูุฑุณููุฉ</a> . </p><br><p style=";text-align:right;direction:rtl">  ูุฅูุดุงุก ูุฌููุนุฉ ุ ุณุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ูุฌููุนุงุช ููุฌูุฏุฉ ุฃู ุงุณุชุฎุฏุงููุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>ูุงูุจ</strong> ุงููุชูุฉ </li><li style=";text-align:right;direction:rtl">  ูุฌููุนุฉ ูู ุงููุนููุงุช ููุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ููุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ( <strong>ุงููููุฉ</strong> ). </li></ul><br><p style=";text-align:right;direction:rtl">  ููููู ุฅูุดุงุก ูุงูุจ ูุธุงู ุงููุฌููุนุฉ ูุงููููุฉ ุจููุณู ุ ุฃู ุงุณุชุฎุฏุงู ููุงูุจ ุนุงูุฉ ุชู ุฅูุดุงุคูุง ูุณุจููุง. </p><br><p style=";text-align:right;direction:rtl">  ุณุชุญุชุงุฌ ุฃูุถูุง ุฅูู ุชุญุฏูุฏ ููุทูุฉ ุงูุฅุชุงุญุฉ ุ ูููุน ุงูุฃูุฑุงุต ูููุชูุฉ ุ ูุนุฏุฏ ุงูุนูุฏ.  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃููุง ูุง ูุฏุนู ุจุนุฏ ุฅููุงููุฉ ุฅูุดุงุก ูุฌููุนุฉ ูุงุญุฏุฉ ูู ุนุฏุฉ ููุงุทู.  ููููู ุงุฎุชูุงุฑ ุฃู ููุน ูู ูุญุฑูุงุช ุฃูุฑุงุต ุงูุดุจูุฉ (ุณุฑูุนุฉ ุฃู ุนุงูุฉ ุฃู ุฃุณุงุณูุฉ). <br>  ููููู ูุนุฑูุฉ ุงููุฒูุฏ ุญูู ุฃููุงุน ูุญุฑูุงุช ุงูุฃูุฑุงุต ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="noopener noreferrer">ูุงุนุฏุฉ ูุนุงุฑููุง</a> . </p><br><p style=";text-align:right;direction:rtl">  ูููู ุฃู ูุฎุชูู ุนุฏุฏ ุงูุนูุฏ <strong>ูููุงุฌุณุชูุฑ</strong> <strong>ููุฃุฏูุงุฑ ุงูุนููู</strong> .  ุนูู ุงูุนูุฏ ุงูุชู ุชุคุฏู ุงูุฏูุฑ ุงูุฑุฆูุณู ุ ุณูุชู ุฅุทูุงู ุนูุงุตุฑ ุงูุชุญูู ูู ุงููุชูุฉ - <strong>ูุฏูุฑ ุงูุชุญูู</strong> ุ <strong>ุงููุฌุฏูู</strong> ุ <strong>ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช</strong> .  ุนูู ุงูุนูุฏ ุงูุฃุฎุฑู ุ ุณูุชู ุฅุทูุงู ุฎุฏูุงุช <strong>kubelet</strong> ู <strong>kube-proxy</strong> ูุฌููุน ุญุงููุงุช ุงูุชุทุจููุงุช.  ููููู ูุนุฑูุฉ ุงููุฒูุฏ ุญูู ุงูููููุงุช ุงูุชู ุชุนูู ุนูู ุนููุฏ ูุธุงู ุงููุฌููุนุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow noopener noreferrer">ุงููุซุงุฆู ุงูุฑุณููุฉ</a> . </p><br><p style=";text-align:right;direction:rtl">  ูููุตูู ุฅูู ุงูุนูุฏ ุนุจุฑ SSH ุ ุณุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู ููุชุงุญ SSH ุงูุฐู ุชู ุฅูุดุงุคู ุณุงุจููุง.  ุณุชุณุชุฎุฏู ุฃูุงูุฑ ุงูุนููุฉ ููุชุงุญูุง ูุณูู <strong>ุงุฎุชุจุงุฑ ssh</strong> . </p><br><p style=";text-align:right;direction:rtl">  ุณูุณุชุฎุฏู ูุงูุจ ููููุฉ ุงููุชูุฉ ุงูุนุงูุฉ ุ ูููุน ุงููุฑุต ุงูุณุฑูุน ุ ูููุทูุฉ ุชููุฑ <strong>ru-1b</strong> . <br>  ูู ูุฌููุนุชูุง ุ ุณูุชู ุฅุทูุงู ุนูุฏุชูู ุฑุฆูุณูุชูู ู 3 ุนูุฏ ูููููู ูู ุงูุจุฏุงูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุชุญูู ูู ูุฐู ุงููุนููุงุช ุ ูุณุชุฎุฏู ุฃูุงูุฑ openstackclient ูููู ุงููุตูู ุงูุฐู ุชู ุชูุฒููู ( <strong>rc.sh</strong> ): </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#          . $ source rc.sh #  ,         $ openstack flavor show BL1.2-4096 -c ram -c vcpus +-------+-------+ | Field | Value | +-------+-------+ | ram | 4096 | | vcpus | 2 | +-------+-------+ #       ru-1b $ openstack volume type show fast.ru-1b -c name +-------+------------+ | Field | Value | +-------+------------+ | name | fast.ru-1b | +-------+------------+ #    Kubernetes $ openstack coe cluster template list -c name +---------------------------------------+ | name | +---------------------------------------+ | kubernetes-nofloatingips-ru-1b-v1.9.3 | | kubernetes-nofloatingips-ru-1b-v1.9.6 | | kubernetes-nofloatingips-ru-1b-v1.9.9 | | kubernetes-floatingips-ru-1b-v1.9.3 | | kubernetes-floatingips-ru-1b-v1.9.6 | | kubernetes-floatingips-ru-1b-v1.9.9 | | kubernetes-nofloatingips-ru-1a-v1.9.3 | | kubernetes-nofloatingips-ru-1a-v1.9.6 | | kubernetes-nofloatingips-ru-1a-v1.9.9 | | kubernetes-floatingips-ru-1a-v1.9.3 | | kubernetes-floatingips-ru-1a-v1.9.6 | | kubernetes-floatingips-ru-1a-v1.9.9 | +---------------------------------------+</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ุณูุฎุชุงุฑ ูุงูุจ ุงููุฌููุนุฉ ุงูุซุงูู ุ ูู ูุชู ุฅูุดุงุก ุงูุนูุงููู ุงูุนุงุฆูุฉ ุงููุชุงุญุฉ ููุฌูููุฑ ููู ุนูุฏ ูููุง.  ูู ูุญุชุงุฌูู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">#   Kubernetes   test-cluster #   keypair   ,   $ openstack coe cluster create \ --cluster-template kubernetes-nofloatingips-ru-1b-v1.9.9 \ --master-count 2 \ --node-count 3 \ --keypair ssh-test \ --master-flavor BL1.2-4096 \ --flavor BL1.2-4096 \ test-cluster</code> </pre> <br><p style=";text-align:right;direction:rtl">  <em>ูุฑุฌู ููุงุญุธุฉ ุฃููุง ุงุฎุชุฑูุง ููุณ ุงูุชูููู ููุนูุฏ ุงููุฎุชููุฉ (ูุนููุงุช ุงููููุฉ ุงูุฑุฆูุณูุฉ ูุงููููุฉ) ุ ููููู ุงุฎุชูุงุฑ ูุฌููุนุงุช ุชูููู ูุฎุชููุฉ ุงุนุชูุงุฏูุง ุนูู ูุชุทูุจุงุช ุงููุฌููุนุฉ.</em>  <em>ุชุบููุฑูู ูููู ุจุนุฏ ุฅูุดุงุฆู.</em> </p><br><p style=";text-align:right;direction:rtl">  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฃูุถูุง ุฅูู ุฃูู ุนูุฏ ุฅูุดุงุก ูุฌููุนุฉ ุชุญุชูู ุนูู ุนุฏุฉ ุนูุฏ ุฑุฆูุณูุฉ ุ ุณูุชู ุฅูุดุงุก ููุงุฒู ุชุญููู ุชููุงุฆููุง ูููุตูู ุฅูู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Kubernetes. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุจุถุน ุฏูุงุฆู ุ ุณุชุธูุฑ ูุฌููุนุฉ Kubernetes ูู ูุดุฑูุนู.  ูู ููุญุฉ ุชุญูู ุงููุดุฑูุน ุ ุณุชุฑู ุฃุฌูุฒุฉ ุงูุชุฑุงุถูุฉ ูุฃูุฑุงุต ููุงุฆูุงุช ุดุจูุฉ ุฌุฏูุฏุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููููู ุงูุชุญูู ูู ุญุงูุฉ ูุฌููุนุชู ูู ุฎูุงู openstackclient: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">openstack coe cluster list -c name -c status +--------------+--------------------+ | name | status | +--------------+--------------------+ | <span class="hljs-built_in"><span class="hljs-built_in">test</span></span>-cluster | CREATE_IN_PROGRESS | +--------------+--------------------+</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฏุฎูู ุงููุชูุฉ ูู ุญุงูุฉ CREATE_COMPLETE ุ ููููู ุฅุฏุงุฑุฉ ูุงุฆูุงุชูุง ูู ุฎูุงู ุฃุฏุงุฉ kubectl ุนู ุทุฑูู ุชูุฒูู ููู ุงูุชูููู ุจุงุณุชุฎุฏุงู ุงูุฃูุงูุฑ ุงูุชุงููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ mkdir -p ~/<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>-cluster $ openstack coe cluster config <span class="hljs-built_in"><span class="hljs-built_in">test</span></span>-cluster --dir ~/<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>-cluster</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ููููู ุงูุนูู ูุน ุงููุชูุฉ ุจุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ kubectl: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> KUBECONFIG=~/<span class="hljs-built_in"><span class="hljs-built_in">test</span></span>-cluster/config $ kubectl get pods --all-namespaces -o=custom-columns=NAME:.metadata.name,STATUS:.status.phase NAME STATUS coredns-785dcf9c58-6gnfp Running heapster-6846cdc674-rm4k6 Running kube-dns-autoscaler-6b94f7bbf8-x5clt Running kubernetes-dashboard-747575c864-wlg6p Running monitoring-grafana-84b4596dd7-zf5rx Running monitoring-influxdb-c8486fc95-bqqb6 Running node-exporter-test-cluster-robvp4cvwpt7-minion-0 Running</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ููููู ุฒูุงุฏุฉ ุฃู ุชูููู ุนุฏุฏ ุนูุฏ ุงูุนููู ูู ุงููุฌููุนุฉ ูู ุฎูุงู openstackclient ุจุชูุฑูุฑ ูููุฉ node_count ุงูุฌุฏูุฏุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ openstack coe cluster update <span class="hljs-built_in"><span class="hljs-built_in">test</span></span>-cluster replace node_count=4</code> </pre> <br><h2 style=";text-align:right;direction:rtl">  ูุงุฆูุงุช ุงููุชูุฉ Kubernetes ุงูุฑุฆูุณูุฉ </h2><br><h3 style=";text-align:right;direction:rtl">  ุงููุฑูู </h3><br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุฃู Kubernetes ุชุฏูุฑ ูุฌููุนุฉ ูู ุงูุญุงููุงุช ุ ูุฅู ุงูููุงู ุงูุฃุณุงุณู ุงูุฐู ุชุฏูุฑู Kubernetes ููุณ ุญุงููุฉ ุ ุจู <strong>Pod</strong> . </p><br><p style=";text-align:right;direction:rtl">  Pod ูู ูุฌููุนุฉ ูู ูุณุงุญุงุช ุฃุณูุงุก ููุงุฉ Linux ูุฅุนุฏุงุฏุงุช ููุฏุณ ุงูุดุจูุฉ ุงูุชู ุชุณูุญ ูู ุจุชุฌููุน ูุฌููุนุฉ ูู ุงูุญุงููุงุช ูู ููุงู ูุงุญุฏ. <br>  ูู ูุซูุฑ ูู ุงูุฃุญูุงู ุ ูุชู ุชุดุบูู ุญุงููุฉ ูุงุญุฏุฉ ูุน ุงูุชุทุจูู ุฏุงุฎู Pod ูููุตู ูุงุญุฏ. <br>  ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ููููู ุชุดุบูู ุนุฏุฉ ุญุงููุงุช ุฏุงุฎู Pod ูุงุญุฏ ุ ูููู ุฃู ูููู ูุฐุง ูููุฏูุง ุนูุฏูุง ุชุญุชุงุฌ ุฅูู ุชูููุฑ ุงููุตูู ูู ุญุงููุฉ ุฅูู ุฃุฎุฑู ูู ุฎูุงู ูุงุฌูุฉ ุดุจูุฉ localhost ุ ุฃู ูุณุจุจ ุขุฎุฑ ุชุดุบูู ุนุฏุฉ ุญุงููุงุช ุนูู ููุณ ุงููุถูู. <br>  ุณูููู ูุฌููุน ุงูุญุงููุงุช ุงูุชู ุชุนูู ูู ููุณ Pod ุงุณู ูุถูู ูุงุญุฏ ูุนููุงู IP ูุฌุฏูู ุชูุฌูู ูุฃูุฑุงุต. </p><br><p style=";text-align:right;direction:rtl">  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ุนูุฏ ููุงุณ ุนุฏุฏ ูุซููุงุช ุชุทุจููู ุฏุงุฎู Kubernetes ุ ูู ุงูุถุฑูุฑู ุฒูุงุฏุฉ ุนุฏุฏ Pods ุ ูููุณ ุนุฏุฏ ุงูุญุงููุงุช ูู Pod ูุงุญุฏ ูุญุฏุฏ. <br>  ูุฒูุฏ ูู ุงูุชูุงุตูู ูู ูุซุงุฆู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow noopener noreferrer">Pods</a> ุงูุฑุณููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ูููู ุจุฅูุดุงุก ุฃุจุณุท Pod ุจุงุณุชุฎุฏุงู Nginx ุจุงุณุชุฎุฏุงู ุงููุตู ุจุชูุณูู yaml: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># nginx-basic.yaml apiVersion: v1 kind: Pod metadata: name: nginx spec: containers: - name: nginx image: library/nginx:1.14-alpine ports: - containerPort: 80</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฅูุดุงุก Pod ุ ูููููุง ุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ <strong>kubectl</strong> . <br>  ุฃุถููุง ุฌููุน ุงูุฃูุซูุฉ ุงูููุฏูุฉ ูู ุงูููุงูุฉ ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow noopener noreferrer">ูุฌููุนุฉ Github</a> ุ ูุฐูู ูุง ููููู ุฅูุดุงุก ูููุงุช ุนูู ุฌูุงุฒ ุงูููุจููุชุฑ ุงูุฎุงุต ุจู ุ ูููู ุงุณุชุฎุฏุงู ุนููุงู URL ุงูุฎุงุต ุจุงูููู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow noopener noreferrer">ุงููุณุชูุฏุน</a> ุงูุนุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl create \ -f https://raw.githubusercontent.com/selectel/kubernetes-examples/master/pods/nginx-basic.yaml</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุฅูุดุงุก ุ ูููููุง ุทูุจ ูุนูููุงุช ูุงููุฉ ุนู ุญุงูุฉ Pod ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ kubectl description: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl describe pod nginx Name: nginx Namespace: default Node: <span class="hljs-built_in"><span class="hljs-built_in">test</span></span>-cluster-nd5c5y6lsfxb-minion-0/10.0.0.5 Start Time: Sun, 17 Jun 2018 12:29:03 +0000 Labels: &lt;none&gt; Annotations: &lt;none&gt; Status: Running IP: 10.100.88.9 Containers: nginx: Container ID: docker://6ca6383b66686c05c61c1f690737110e0f8994eda393f44a7ebfbbf2b2026267 Image: library/nginx:1.14-alpine Image ID: docker-pullable://docker.io/nginx@sha256:944b79ca7dbe456ce72e73e70816c1990e39967c8f010349a388c00b77ec519c Port: 80/TCP Host Port: 0/TCP State: Running Started: Sun, 17 Jun 2018 12:29:16 +0000 Ready: True Restart Count: 0 Environment: &lt;none&gt; Mounts: /var/run/secrets/kubernetes.io/serviceaccount from default-token-rp5ls (ro) Conditions: Type Status Initialized True Ready True PodScheduled True Volumes: default-token-rp5ls: Type: Secret (a volume populated by a Secret) SecretName: default-token-rp5ls Optional: <span class="hljs-literal"><span class="hljs-literal">false</span></span> QoS Class: BestEffort Node-Selectors: &lt;none&gt; Tolerations: &lt;none&gt; Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal Scheduled 52s default-scheduler Successfully assigned nginx to <span class="hljs-built_in"><span class="hljs-built_in">test</span></span>-cluster-nd5c5y6lsfxb-minion-0 Normal SuccessfulMountVolume 51s kubelet, <span class="hljs-built_in"><span class="hljs-built_in">test</span></span>-cluster-nd5c5y6lsfxb-minion-0 MountVolume.SetUp succeeded <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> volume <span class="hljs-string"><span class="hljs-string">"default-token-rp5ls"</span></span> Normal Pulling 50s kubelet, <span class="hljs-built_in"><span class="hljs-built_in">test</span></span>-cluster-nd5c5y6lsfxb-minion-0 pulling image <span class="hljs-string"><span class="hljs-string">"library/nginx:1.14-alpine"</span></span> Normal Pulled 39s kubelet, <span class="hljs-built_in"><span class="hljs-built_in">test</span></span>-cluster-nd5c5y6lsfxb-minion-0 Successfully pulled image <span class="hljs-string"><span class="hljs-string">"library/nginx:1.14-alpine"</span></span> Normal Created 39s kubelet, <span class="hljs-built_in"><span class="hljs-built_in">test</span></span>-cluster-nd5c5y6lsfxb-minion-0 Created container Normal Started 39s kubelet, <span class="hljs-built_in"><span class="hljs-built_in">test</span></span>-cluster-nd5c5y6lsfxb-minion-0 Started container</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑู ุ ุจุฏุฃ Pod ุนูู ุนูุฏุฉ ุจุงุณู test-ุงููุชูุฉ-nd5c5y6lsfxb-minion-0 ูุชููู ุนููุงู IP ุฏุงุฎูููุง 10.100.88.9. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุณู ุงูุฃุญุฏุงุซ ุ ููููู ูุดุงูุฏุฉ ุฃุญุฏุงุซ ุงูุฅุทูุงู ุงูุฑุฆูุณูุฉ - ุชุญุฏูุฏ ุนูุฏุฉ ูุจุฏุก ุงูุตูุฑุฉ ูุชูุฒูููุง. </p><br><p style=";text-align:right;direction:rtl">  ูููููุง ุงูุฏุฎูู ุฅูู Pod ูุงูุชุญูู ูู ุญุงูุฉ ุงูุนูููุงุช ุฏุงุฎู ุงูุญุงููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> -it nginx sh ps aux PID USER TIME COMMAND 1 root 0:00 nginx: master process nginx -g daemon off; 7 nginx 0:00 nginx: worker process 20 root 0:00 sh 24 root 0:00 ps aux <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุคุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฃู ุนููุงู IP 10.100.88.9 ูู ูููู ูุชุงุญูุง ููุชุทุจููุงุช ุงูุฃุฎุฑู ุฏุงุฎู ูุฎุงุฑุฌ ูุฌููุนุฉ Kubernetes ุ ููู ูููู ุงููุตูู ุฅูู Nginx ููุฏ ุงูุชุดุบูู ูููููุง ุฅูุง ูู ุฏุงุฎู Pod ููุณูุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ ping -c 1 10.100.88.9 PING 10.100.88.9 (10.100.88.9): 56 data bytes --- 10.100.88.9 ping statistics --- 1 packets transmitted, 0 packets received, 100% packet loss $ kubectl <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> nginx -- ping -c1 10.100.88.9 PING 10.100.88.9 (10.100.88.9): 56 data bytes 64 bytes from 10.100.88.9: seq=0 ttl=64 time=0.075 ms --- 10.100.88.9 ping statistics --- 1 packets transmitted, 1 packets received, 0% packet loss round-trip min/avg/max = 0.075/0.075/0.075 ms</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ุญูููุฉ ุฃู ุนููุงู IP ุงููุญุฏุฏ ูููู ุงููุตูู ุฅููู ููุท ูู ุงูุญุงููุฉ ุ ููู ููุณ ุฏุงุฆููุง.  ูุฐุง ูุนูู ุฃูู ุฅุฐุง ุชู ุฅุนุงุฏุฉ ุฅูุดุงุก ูุฐุง Pod ุ ูููููู ุงูุญุตูู ุนูู ุนููุงู IP ูุฎุชูู. </p><br><p style=";text-align:right;direction:rtl">  ูุญู ูุฐู ุงููุดุงูู ุ ููููู ุงุณุชุฎุฏุงู ูุงุฆู ูุณูู ุงูุฎุฏูุฉ. </p><br><h3 style=";text-align:right;direction:rtl">  ุงูุฎุฏูุงุช </h3><br><p style=";text-align:right;direction:rtl">  ุชุชูุญ ูู ุงูุฎุฏูุฉ ุชุนููู ุนูุงููู IP ุฏุงุฆูุฉ ูู Pods ุ ูุชุฒููุฏูู ุจุงููุตูู ูู ุงูุดุจูุงุช ุงูุฎุงุฑุฌูุฉ ูุชุญููู ุงูุชูุงุฒู ุจูู ุทูุจุงุช Pods. <br>  ููููู ูุนุฑูุฉ ุงููุฒูุฏ ุนู ุงูุฎุฏูุฉ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow noopener noreferrer">ุงููุซุงุฆู ุงูุฑุณููุฉ</a> . </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ูุญุชุงุฌ ุฅูู ุฅุฒุงูุฉ Pod ุชุดุบูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl delete pod nginx</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃุถู ุฅูู ูุตู Pod p ุชุณููุฉ (Label) ุงููุทููุจุฉ ููุฎุฏูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># nginx-labeled.yaml apiVersion: v1 kind: Pod metadata: name: nginx labels: app: webservice spec: containers: - name: nginx image: library/nginx:1.14-alpine ports: - containerPort: 80</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณูุญุชุงุฌ ุฃูุถูุง ุฅูู ูุตู ููุฎุฏูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># nginx-nodeport.yaml apiVersion: v1 kind: Service metadata: name: nginx-nodeport labels: app: webservice spec: type: NodePort ports: - port: 80 nodePort: 30001 protocol: TCP selector: app: webservice</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุจูุฏ ูุฎุฏูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl create \ -f https://raw.githubusercontent.com/selectel/kubernetes-examples/master/pods/nginx-labeled.yaml \ -f https://raw.githubusercontent.com/selectel/kubernetes-examples/master/services/nginx-nodeport.yaml</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู ุงูุฎุฏูุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ูู ูู ููุน NodePort ุ ูุณูุชู ูุชุญ ุงููููุฐ 30001 ุงูุฐู ุฃุดุฑูุง ุฅููู ูู ุฌููุน ูุงุฌูุงุช ุงูุดุจูุฉ ุนูู ุฌููุน ุนููุฏ ุงููุฌููุนุฉ. <br>  ูุฐุง ูุนูู ุฃูู ุฅุฐุง ุฃุถููุง ุนููุงู IP ุฎุงุฑุฌููุง ุฅูู ุฃู ุนูุฏุฉ ุ ููููููุง ุงููุตูู ุฅูู Pod ุงูุนุงููุฉ ุจุงุณุชุฎุฏุงู Nginx ูู ุดุจูุฉ ุฎุงุฑุฌูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูู ุฃุฌู ุนุฏู ุงุณุชุฎุฏุงู ุงูุนูุงููู ุงูุฎุงุฑุฌูุฉ ูุนูุฏ ุงููุชูุฉ ูููุตูู ุฅูู ุงูุฎุฏูุฉ ุ ูููููุง ุงุณุชุฎุฏุงู ููุน LoadBalancer ุจุฏูุงู ูู NodePort. <br>  ุณูุญุชุงุฌ ุฅูู ูุตู ุฌุฏูุฏ ููุฎุฏูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># nginx-loadbalancer.yaml apiVersion: v1 kind: Service metadata: name: nginx-loadbalancer labels: app: webservice spec: type: LoadBalancer ports: - port: 80 protocol: TCP selector: app: webservice</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงุญุฐู ุงูุฎุฏูุฉ ุงูุญุงููุฉ ููู ุจุชุทุจูู ุงููุตู ุงูุฌุฏูุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl delete service nginx-service $ kubectl create \ -f https://raw.githubusercontent.com/selectel/kubernetes-examples/master/services/nginx-loadbalancer.yaml</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุจุฏุก ุงูุฎุฏูุฉ ุ ุณุชุชููุฑ Nginx ุนูู ูููุฐ TCP 80 ูู ุดุจูุฉ ุฎุงุฑุฌูุฉ ุ ููู ุชููู ููุงู ุญุงุฌุฉ ูุชุนููู ูุงุณุชุฎุฏุงู ุนูุงููู ุฎุงุฑุฌูุฉ ูุนูุฏ ูุธุงู ุงููุฌููุนุฉ.  ุณุชููู ุงูุฎุฏูุฉ ูู ุงูููุน LoadBalancer ุชููุงุฆููุง ุจุชุฎุตูุต ุนููุงู ุฎุงุฑุฌู ุฌุฏูุฏ ููุดุฑูุน VPC ุงูุฎุงุต ุจู ูุจุฏุก ุงุณุชุฎุฏุงูู. </p><br><p style=";text-align:right;direction:rtl">  ููููู ุงูุญุตูู ุนูู ูุนูููุงุช ุญูู ุงูุนููุงู ุงูุฎุงุฑุฌู ุงููููุฒ ุจุงุณุชุฎุฏุงู kubectl: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl get service nginx-service -o=custom-columns=IP:status.loadBalancer.ingress[0].ip IP xxx.xxx.xxx.xxx</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุฃูุซูุฉูุง ุ ุชู ุฅุทูุงู Pod ูุงุญุฏ ููุท ูุน Nginx.  ูุชูุณูุน ูุทุงู ุงูุชุทุจูู ุฅูู ุนุฏุฏ ุฃูุจุฑ ูู Pods ุ ูููููุง ุงุณุชุฎุฏุงู ุงููุดุฑ. </p><br><h3 style=";text-align:right;direction:rtl">  ุนูููุงุช ุงููุดุฑ </h3><br><p style=";text-align:right;direction:rtl">  ุงููุดุฑ ูู ุฌููุฑ ูุฌููุนุฉ Kubernetes ุ ูุงูุฐู ูุณูุญ ูู ุจุชูุณูุน Pods ูุชุญุฏูุซ ุงูุฅุตุฏุงุฑุงุช ุจุณูููุฉ ุฃู ุงุณุชุฑุฌุงุนูุง ูุนุฏุฏ ูุจูุฑ ูู Pods. <br>  ุจุฏูุงู ูู ุงููุดุฑ ุ ููููู ุฃูุถูุง ุงุณุชุฎุฏุงู ูุงุฆู ReplicaSet ุ ููููุง ูู ูุชุทุฑู ุฅููู ูู ุฃูุซูุฉูุง. <br>  ููููู ูุนุฑูุฉ ุงููุฒูุฏ ุญูู ุงููุดุฑ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow noopener noreferrer">ุงููุซุงุฆู ุงูุฑุณููุฉ</a> . </p><br><p style=";text-align:right;direction:rtl">  ุณูุญุชุงุฌ ูุฑุฉ ุฃุฎุฑู ุฅูู ุฅุฒุงูุฉ Pod (ูุง ูุญุชุงุฌ ุฅูู ุฅุฒุงูุฉ ุงูุฎุฏูุฉ): </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl delete pod nginx</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฃุถู ูุตู ุงููุดุฑ ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># nginx-1.14.yaml apiVersion: apps/v1 kind: Deployment metadata: name: nginx-deployment spec: replicas: 10 selector: matchLabels: app: webservice minReadySeconds: 10 strategy: type: RollingUpdate rollingUpdate: maxUnavailable: 1 maxSurge: 1 template: metadata: labels: app: webservice spec: containers: - name: nginx image: library/nginx:1.14-alpine ports: - containerPort: 80</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุงููุดุฑ ุงููุญุฏุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl create -f \ https://raw.githubusercontent.com/selectel/kubernetes-examples/master/deployments/nginx-1.14.yaml</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงุฎุชุฑูุง 10 ููุนููุฉ ุงููุณุฎ ุงููุชูุงุซูุฉ ุ ูุฐูู ุณูุชู ุฅูุดุงุก 10 Pods ูุน ุชุทุจูู Nginx ูู ูุฌููุนุชูุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl get pods --selector app=webservice NAME READY STATUS RESTARTS AGE nginx-deployment-54bfdc4489-42rrb 1/1 Running 0 4m nginx-deployment-54bfdc4489-5lvtc 1/1 Running 0 4m nginx-deployment-54bfdc4489-g7rk2 1/1 Running 0 4m nginx-deployment-54bfdc4489-h5rxp 1/1 Running 0 4m nginx-deployment-54bfdc4489-l9l2d 1/1 Running 0 4m nginx-deployment-54bfdc4489-pjpvg 1/1 Running 0 4m nginx-deployment-54bfdc4489-q8dnp 1/1 Running 0 4m nginx-deployment-54bfdc4489-s4wzf 1/1 Running 0 4m nginx-deployment-54bfdc4489-tfxf9 1/1 Running 0 4m nginx-deployment-54bfdc4489-xjzb5 1/1 Running 0 4m</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููู ุงููุตูู ุฅูู ุงูุชุทุจูู ุงูุฌุงุฑู ุชุดุบููู ูู ุงูุดุจูุฉ ุงูุฎุงุฑุฌูุฉ ุจุงุณุชุฎุฏุงู ุงูุฎุฏูุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ูู ุงููุณู ุงูุณุงุจู.  ุณุชูุงุฒู ุงูุฎุฏูุฉ ุชููุงุฆููุง ุจูู ุงูุทูุจุงุช ุงููุงุฑุฏุฉ ูู ุงูุดุจูุฉ ุงูุฎุงุฑุฌูุฉ ูุจูู 10 ูุซููุงุช Nginx. </p><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ูููููุง ุชุญุฏูุซ ุฅุตุฏุงุฑ Nginx.  ุชุญุฏูุซ ูุตู ุงููุดุฑ ุจุชุบููุฑ ุฅุตุฏุงุฑ ุงูุตูุฑุฉ ูู 1.14-alpine ุฅูู 1.15-alpine: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># nginx-1.15.yaml apiVersion: apps/v1 kind: Deployment metadata: name: nginx-deployment spec: replicas: 10 selector: matchLabels: app: webservice minReadySeconds: 10 strategy: type: RollingUpdate rollingUpdate: maxUnavailable: 1 maxSurge: 1 template: metadata: labels: app: webservice spec: containers: - name: nginx image: library/nginx:1.15-alpine # &lt;-- changed ports: - containerPort: 80</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุจุฏุก ุนูููุฉ ุชุญุฏูุซ Pods ุ ูุณุชุฎุฏู ุงูุฃูุฑ kubectl.  ุงูุชุจู ุฅูู ุงูุญุฌุฉ - ุณุฌู ุ ูู ุงููููุฏ ููุง ุงูุชุฑุงุฌุน ุงููุฑูุญ ุงููุงุญู ูุฅุตุฏุงุฑ Nginx: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl apply -f \ https://raw.githubusercontent.com/selectel/kubernetes-examples/master/deployments/nginx-1.15.yaml \ --record</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููู ูุฑุงูุจุฉ ุชูุฏู ุงูุชุญุฏูุซ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl rollout status deployment nginx-deployment Waiting <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> rollout to finish: 4 out of 10 new replicas have been updated...</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุณุชูุชุธุฑ Kubernetes 10 ุซูุงูู ุจุนุฏ ุงูุชุญุฏูุซ ุงููุงุฌุญ ููุฑุต ุตูุชู ูุงุญุฏ ุ ุญูุซ ุญุฏุฏูุง ูููุฉ 10 ููุนููุฉ minReadySeconds ูู ูุตู ุงููุดุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุชูุงู ุงูุชุญุฏูุซ ุ ุณุชุตุจุญ ูู Pods ูููุดุฑ ูู ุญุงูุฉ ูุดุทุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl get deployment --selector app=webservice NAME DESIRED CURRENT UP-TO-DATE AVAILABLE AGE nginx-deployment 10 10 10 10 23m</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููููุง ุงูุชุฑุงุฌุน ุนู ุฅุตุฏุงุฑ ุงูุชุทุจูู ุฅุฐุง ุญุฏุซ ุฎุทุฃ ูุง.  ููููุงู ุจุฐูู ุ ูุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ูุฑุงุฌุนุฉ ุงููุดุฑ ุงููุทููุจุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl rollout <span class="hljs-built_in"><span class="hljs-built_in">history</span></span> deployment nginx-deployment deployments <span class="hljs-string"><span class="hljs-string">"nginx-deployment"</span></span> REVISION CHANGE-CAUSE 1 &lt;none&gt; 2 kubectl apply --filename=https://raw.githubusercontent.com/selectel/kubernetes-examples/master/deployments/nginx-1.15.yaml --record=<span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุงู ุชูููุญุชุงู ูู ุฅุฎุฑุงุฌ ุงูุฃูุฑ - ุงูุฃูู ูู ุงูุฅูุดุงุก ุงูุฃููู ูููุดุฑ ุ ูุงูุซุงูู ุชุญุฏูุซ.  ูุธุฑูุง ูุฃููุง ุงุณุชุฎุฏููุง ุงููุณูุทุฉ --record ุนูุฏ ุงูุชุญุฏูุซ ุ ูุฅููุง ูุฑู ุงูุฃูุฑ ุงูุฐู ุฃูุดุฃ ุงููุฑุงุฌุนุฉ ุงูุซุงููุฉ ูููุดุฑ. </p><br><p style=";text-align:right;direction:rtl">  ูุชุฑุงุฌุน ุงููุณุฎุฉ ุ ุงุณุชุฎุฏู ุงูุฃูุฑ ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl rollout undo deployment nginx-deployment --to-revision=1</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุจุงููุซู ูุน ุงูุชุญุฏูุซ ุ ูููููุง ูุฑุงูุจุฉ ุงูุชุฑุงุฌุน ุนู ุงูุฅุตุฏุงุฑ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl rollout status deployment nginx-deployment Waiting <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> rollout to finish: 6 out of 10 new replicas have been updatedโฆ</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุฌููุน ุฃูุซูุฉูุง ุ ุงุณุชุฎุฏููุง ุญุงููุงุช ุจุฏูู ูุฎุฒู ุจูุงูุงุช ูุณุชูุฑ.  ูู ุงููุณู ุงูุชุงูู ุณูููู ุจุฅุตูุงุญู. </p><br><h2 style=";text-align:right;direction:rtl">  ุชุฎุฒูู ุงูุจูุงูุงุช </h2><br><p style=";text-align:right;direction:rtl">  ุจุดูู ุงูุชุฑุงุถู ุ ุชููู ุฌููุน ุงูุจูุงูุงุช ูู ุงูุญุงููุงุช ุงูุชู ุชุนูู ุฏุงุฎู Pods ุฒุงุฆูุฉ ูุณุชููุฏ ุนูุฏ ุชุญุทู Pods. </p><br><p style=";text-align:right;direction:rtl">  ููููู ุงุณุชุฎุฏุงู ูุงุฆู PersistentVolumeClaim ูุชุดุบูู Pods ูุน ูุณุชูุฏุน ุจูุงูุงุช ูุณุชูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ุฅู ุฅูุดุงุก ูุซู ูุฐุง ุงููุงุฆู ูู ูุฌููุนุฉ ุฃูุฑ ุจุณูุท ููุบุงูุฉ - ูุง ุนููู ุณูู ุฅุถุงูุฉ ูุตูู ุ ุนูู ุบุฑุงุฑ ุงูุทุฑููุฉ ุงูุชู ุฃูุดุฃูุง ุจูุง Pod ุฃู Service ุฃู Deployment ูู ุงูุฃูุณุงู ุงูุณุงุจูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูููู ุงูุนุซูุฑ ุนูู ูุฒูุฏ ูู ุงููุนูููุงุช ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow noopener noreferrer">ุงููุซุงุฆู ุงูุฑุณููุฉ</a> . </p><br><p style=";text-align:right;direction:rtl">  ูุซุงู ุนูู ูุตู PersistentVolumeClaim ูุฅูุดุงุก ูุฑุต 10 ุฌูุฌุง ุจุงูุช: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">apiVersion: v1 kind: PersistentVolumeClaim metadata: name: my-pv-claim spec: accessModes: - ReadWriteOnce resources: requests: storage: 10Gi</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููููุง ุชูุตููู ููุฑุต ุฅูู Pod ูู ุฎูุงู ุชุญุฏูุซ ูุตู Pod ูุน Nginx ุงูุฐู ุชู ุฅูุดุงุคู ุณุงุจููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># nginx-with-volume.yaml apiVersion: v1 kind: Pod metadata: name: nginx spec: containers: - name: nginx image: library/nginx:1.14-alpine ports: - containerPort: 80 volumeMounts: - mountPath: "/var/www/html" name: data volumes: - name: data persistentVolumeClaim: claimName: my-pv-claim</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุน ุฐูู ุ ูู ุฃุฌู ุฅูุดุงุก ุงููุฑุต ุ ุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ุฎุตุงุฆุต ุงููุฑุต ุงูุฐู ุชู ุฅูุดุงุคู ูู ุดูู StorageClass.  ูู ุฎุฏูุฉ "Virtual Private Cloud" ุ ููููู ุงุณุชุฎุฏุงู ูุญุฑูุงุช ุฃูุฑุงุต ุงูุดุจูุฉ ูู ุงูุฃููุงุน ุงูุณุฑูุนุฉ ูุงูุนุงูุฉ ูุงูุฃุณุงุณูุฉ ููุฎุฒู ุฏุงุฆู ูุจูุงูุงุช Kubernetes Pod. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ูุฅูุดุงุก StorageClass ุงูุฐู ูุณูุญ ูู ุจุงุณุชุฎุฏุงู ุงูุฃูุฑุงุต ุงูุณุฑูุนุฉ ูู ููุทูุฉ ุชููุฑ ru-1b ุ ุชุญุชุงุฌ ุฅูู ุงููุตู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># fast.ru-1b.yaml kind: StorageClass apiVersion: storage.k8s.io/v1 metadata: name: fast.ru-1b annotations: storageclass.beta.kubernetes.io/is-default-class: "true" provisioner: kubernetes.io/cinder parameters: type: fast.ru-1b availability: ru-1b</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุจู ุฅูุดุงุก ุงููุงุฆูุงุช ุงููุญุฏุฏุฉ ุ ุงุญุฐู ุงููุดุฑ ุงูุฐู ุชู ุฅูุดุงุคู ุณุงุจููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl delete deployment nginx-deployment</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ุฏุนูุง ููุดุฆ StorageClass ุ ูุฐูู ุณุชุตุจุญ ุงููุฆุฉ ุงูุงูุชุฑุงุถูุฉ ุ ูุณูุณุชุฎุฏููุง PersistentVolumeClaim ุงูุฐู ุชู ุฅูุดุงุคู ูุงุญููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl create -f \ https://raw.githubusercontent.com/selectel/kubernetes-examples/master/storageclasses/fast.ru-1b.yaml</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅูุดุงุก PersistentVolumeClaim and Pod: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl create \ -f https://raw.githubusercontent.com/selectel/kubernetes-examples/master/persistentvolumeclaims/my-pv-claim.yaml \ -f https://raw.githubusercontent.com/selectel/kubernetes-examples/master/pods/nginx-with-volume.yaml</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุณูุชู ุฅูุดุงุก ูุฑุต ุชููุงุฆููุง ูู ูุดุฑูุนู ุณูุชู ุชูุตููู ุจุฅุญุฏู ุนูุฏ ุงูุนููู ูู ุงููุฌููุนุฉ.  ุนูุฏูุง ูุณูุท ุ ูุชุญูู ุงููุฑุต ุชููุงุฆููุง ุฅูู ุนูุฏุฉ ุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ูููููุง ุฑุคูุฉ ุงููุฑุต ุฏุงุฎู ุงูุญุงููุฉ ุจุงุณุชุฎุฏุงู Nginx: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span> -it nginx sh mount | grep <span class="hljs-string"><span class="hljs-string">"/var/www/html"</span></span> /dev/sdc on /var/www/html <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> ext4 (rw,seclabel,relatime,data=ordered) <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููู ุชูุตูู ูุญุฑู ุงูุฃูุฑุงุต ุจุงููุดุฑ.  ูููู ุงูุนุซูุฑ ุนูู ูุซุงู ูุทุงุจู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow noopener noreferrer">ุงููุซุงุฆู ุงูุฑุณููุฉ</a> . </p><br><h2 style=";text-align:right;direction:rtl">  ููุญุฉ ุชุญูู Kubernetes </h2><br><p style=";text-align:right;direction:rtl">  ููููู ุงุณุชุฎุฏุงู ููุญุฉ ุงูุชุญูู ุงููุฏูุฌุฉ ูู Kubernetes ููุณูุง ูุนุฑุถ ุญุงูุฉ ูุงุฆูุงุช ุงูุนูููุฏ ูุฅุฏุงุฑุชูุง. </p><br><p style=";text-align:right;direction:rtl">  ูููุตูู ุฅูู ุฌููุน ููุฒุงุช ุงูููุญุฉ ุ ุณุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ุญุณุงุจ ูุน ุฏูุฑ ุงููุณุคูู ูู ูุฌููุนุชู. </p><br><p style=";text-align:right;direction:rtl">  ููููุงู ุจุฐูู ุ ูุญุชุงุฌ ุฅูู ูุตู ุงูุญุณุงุจ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># admin-user.yaml apiVersion: v1 kind: ServiceAccount metadata: name: admin-user namespace: kube-system</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุตู ุงูุฏูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># cluster-admin.yaml apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRoleBinding metadata: name: admin-user roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: cluster-admin subjects: - kind: ServiceAccount name: admin-user namespace: kube-system</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุงููุงุฆูุงุช ุงููุญุฏุฏุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl create \ -f https://raw.githubusercontent.com/selectel/kubernetes-examples/master/accounts/admin-user.yaml \ -f https://raw.githubusercontent.com/selectel/kubernetes-examples/master/clusterrolebindings/cluster-admin.yaml</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู ุ ุณุชุญุชุงุฌ ุฅูู ูุนุฑูุฉ ูููุฉ ุงูุฑูุฒ ุงููููุฒ ุงูุฐู ุชู ุฅูุดุงุคู ููุฐุง ุงูุญุณุงุจ. <br>  ููููุงู ุจุฐูู ุ ุงุจุญุซ ุนู ุงููุงุฆู ุงูุณุฑู ุงูููุงุจู ูู ุงููุฌููุนุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl get secret --namespace=kube-system | grep <span class="hljs-string"><span class="hljs-string">"admin-user-token"</span></span> admin-user-token-bkfhb kubernetes.io/service-account-token 3 22m</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฅููุงุก ูุธุฑุฉ ุนูู ูููุฉ ุงูุฑูุฒ ุงููููุฒ ููุณุฑ ุงูููุฌูุฏ ุจุงุณู admin-user-token-bkfhb: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl describe secret admin-user-token-bkfhb --namespace=kube-system | grep <span class="hljs-string"><span class="hljs-string">"token:"</span></span> token: XXXXXX...</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฑุฏูุง ุนูู ุฐูู ุ ุณุชุชููู ูููุฉ ุงูุฑูุฒ ุงููููุฒ ุ ุงุญูุธู ุ ุณูููู ูููุฏูุง ููุง ูู ุงููุณุชูุจู. <br>  ููุญุตูู ุนูู ุชูุงุตูู ุงูุชุญูู ูู ุงููุตูู ููุงุฆูุงุช Kubernetes ุ ุฑุงุฌุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow noopener noreferrer">ุงููุซุงุฆู ุงูุฑุณููุฉ</a> . </p><br><p style=";text-align:right;direction:rtl">  ูู ุญุงูุฉ ุฅูุดุงุก ูุฌููุนุฉ ูู ูุงูุจ ุนุงู ุ ูุฅู Pod and Service ููุฌูุฏุงู ุจุงููุนู ููู ูุถูุงู ุชุดุบูู ุงูููุญุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl get svc kubernetes-dashboard --namespace=kube-system 206ms Tue Jun 19 14:35:19 2018 NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE kubernetes-dashboard ClusterIP 10.254.122.245 &lt;none&gt; 443/TCP 2d $ kubectl get pod --namespace=kube-system --selector k8s-app=kubernetes-dashboard 119ms Tue Jun 19 14:36:48 2018 NAME READY STATUS RESTARTS AGE kubernetes-dashboard-747575c864-jpxvt 1/1 Running 0 2d</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู ุงูุฎุฏูุฉ ูู ููุน ClusterIP ุ ููู ุชุชููุฑ ุฅูุง ูู ุฏุงุฎู ุงููุฌููุนุฉ ููุณูุง. <br>  ููููู ุงููุตูู ุฅูู ุงูููุญุฉ ูู ุงูููุจููุชุฑ ุงูุนุงูู ุจุงุณุชุฎุฏุงู ููู ุชูููู ุงููุชูุฉ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ kubectl: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">$ kubectl proxy Starting to serve on 127.0.0.1:8001</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงุฎุชุจุฑ ุงููููู ุนู ุทุฑูู ูุชุญ ุงูุนููุงู ุงููุญุฏุฏ ูู ุงููุชุตูุญ: </p><br><img src="https://habrastorage.org/webt/lc/zm/k1/lczmk1ud4tjatfu3lthvkrcu66e.png"><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ุฑุฃูุช ุฅุฌุงุจุฉ ุดุจููุฉ ุจููุทุฉ ุงูุดุงุดุฉ ุ ูููููู ุงูุงูุชูุงู ุฅูู ุดุงุดุฉ ููุญุฉ ุงูุชุญูู ุจุงุณุชุฎุฏุงู ุงูุนููุงู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">http://127.0.0.1:8001/api/v1/namespaces/kube-system/services/https:kubernetes-dashboard:/proxy/</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุฎูุงู ุฐูู ุ ูุฌุจ ุฃู ุชุดุงูุฏ ุดุงุดุฉ ุชุณุฌูู ุงูุฏุฎูู ูู ุงูููุญุฉ: </p><br><img src="https://habrastorage.org/webt/60/fj/p5/60fjp5-2xjyn_p5mz-jh_ozwzxe.png"><br><p style=";text-align:right;direction:rtl">  ุณุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ุงูุฑูุฒ ุงููููุฒ ุงูุฐู ุชู ุชูููู ุณุงุจููุง.  ุจุนุฏ ุชุณุฌูู ุงูุฏุฎูู ุ ููููู ุงุณุชุฎุฏุงู ููุญุฉ ุงูุชุญูู: </p><br><img src="https://habrastorage.org/webt/38/ry/dr/38rydrraxndpo0hyqhnm-k1nb_k.png"><br><p style=";text-align:right;direction:rtl">  ููููู ุงูุชุนุฑู ุนูู ุฌููุน ููุฒุงุช ููุญุฉ ุงูุชุญูู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow noopener noreferrer">ุงููุซุงุฆู ุงูุฑุณููุฉ</a> . </p><br><h2 style=";text-align:right;direction:rtl">  ูุฑุงูุจุฉ ูุงุฆูุงุช Kubernetes </h2><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุชุณุชุฎุฏู ูุงูุจ ุงููุชูุฉ ุงูุนุงู ุ ูุณุชููู ุชููุงุฆููุง ุจุชุดุบูู ููููุงุช ุฌูุน ูุนุฑุถ ุงูููุงููุณ - Prometheus ู Grafana. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุบุฑุงุฑ ููุญุฉ ุงูุชุญูู ุ ูุชู ุชุซุจูุช ClusterIP ูููุน ุงูุฎุฏูุฉ ุ ููุง ูููู ุงููุตูู ุฅููู ุฅูุง ูู ุฏุงุฎู ุงููุฌููุนุฉ ุฃู ูู ุฎูุงู ูููู kubectl.  ููููู ุงููุตูู ุฅูู Grafana ูู ููุจููุชุฑ ุงูุนูู ุงูุฎุงุต ุจู ุนูู ุงูุนููุงู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">http://127.0.0.1:8001/api/v1/proxy/namespaces/kube-system/services/monitoring-grafana:80</code> </pre> <br><img src="https://habrastorage.org/webt/p3/7e/go/p37egoksdoz8bvp8tsq2fgpsuru.png"><br><h2 style=";text-align:right;direction:rtl">  ุงูุฎูุงุตุฉ </h2><br><p style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูููุงูุฉ ุ ูููุง ุจูุญุต ูุงุฆูุงุช Kubernetes ุงูุฃูุซุฑ ุงุณุชุฎุฏุงููุง ููุธุฑูุง ูู ุฃูุซูุฉ ุนูู ุจุฏุก ูุฅุฏุงุฑุฉ ูุฌููุนุฉ ุจุงุณุชุฎุฏุงู OpenStack Magnum. </p><br><p style=";text-align:right;direction:rtl">  ูู ุงููุณุชูุจู ุงููุฑูุจ ุ ุณูููู ูู ุงููููู ุงุณุชุฎุฏุงู ุฃุญุฏุซ ุฅุตุฏุงุฑุงุช Kubernetes ุ ูุณุชููู ุฅุฏุงุฑุฉ ุงููุฌููุนุฉ ูุชุงุญุฉ ูู ุฎูุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุญุฉ ุงูุชุญูู</a> . </p><br><p style=";text-align:right;direction:rtl">  ุณูููู ุณุนุฏุงุก ุฅุฐุง ุงุณุชุฎุฏูุช ุฎุฏูุชูุง ูู ูุถุน ุงูุงุฎุชุจุงุฑ ููุฏูุช ููุงุญุธุงุช. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar416951/">https://habr.com/ru/post/ar416951/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar416941/index.html">ูุธุฑูุฉ ุงูุณุนุงุฏุฉ. ููุฏูุฉ ูู ุนูู ุงูููุฑููููุฌูุง</a></li>
<li><a href="../ar416943/index.html">ููุงุฏ ูููุฏุฉ ูุชุตููู ุงููุงุฌูุงุช ุงูุตูุชูุฉ</a></li>
<li><a href="../ar416945/index.html">ููุง ูุนููุง BelAZ. ุงูุฌุฒุก 1 - ุงูุญุฏูุฏ</a></li>
<li><a href="../ar416947/index.html">ุงูุนุจ ุงููุนุจุฉ ูุจู ุงูุฃูููุจูุงุฏ: ุชุตุจุญ ุงูุฑูุงุถุงุช ุงูุฅููุชุฑูููุฉ ุฑุณููุฉ</a></li>
<li><a href="../ar416949/index.html">ุชู ุงูุงูุชูุงุก ูู ุชุฑููุฉ ุงูุณูุฏ ุณุชููู ูุงุณุนุฉ ุงููุทุงู ูุชุซุจูุช ุดุจูุฉ ุตูุฏ ุฃูุจุฑ ุจุฃุฑุจุนุฉ ุฃุถุนุงู</a></li>
<li><a href="../ar416953/index.html">ุฅูุดุงุก ุชุธููู ุงูููุงู ุงููุฑุชูู ููููุจ. ุงูุฌุฒุก ุงูุฃูู</a></li>
<li><a href="../ar416955/index.html">ุญูู ุตุบูุฑุฉ ูุน Elasticsearch</a></li>
<li><a href="../ar416957/index.html">ุฃู ุฌูุงุฒ ููุฒุฑ ุชุดุชุฑููุ ููุซููุฉ Raylogic 11G ููุฒุฑ ูุฑุงุฌุนุฉ ุงูุฌูุงุฒ</a></li>
<li><a href="../ar416961/index.html">ุญู ุงูุตุฑุงุน ุงูุชููุงุฆู ุจุงุณุชุฎุฏุงู ุงูุชุญููุงุช ุงูุชุดุบูููุฉ</a></li>
<li><a href="../ar416963/index.html">ููุง ูุนููุง BelAZ. ุงูุฌุฒุก 2 - ุงูุงุฎุชุจุงุฑุงุช ุงููุนูููุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>