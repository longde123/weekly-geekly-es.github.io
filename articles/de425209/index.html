<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕺🏾 🤹🏼 ◻️ Sunrise Manually # 2: Laut dem Hardcore für die IDE, Cmake und meiner Enttäuschung bei Tieren 💎 👩🏾‍🤝‍👩🏽 📲</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In einem früheren Artikel hatte ich die Kühnheit, CLion als IDE zu verwenden. Und dann kam ein Mann mit einer Frage angerannt: Oh, ein proprietäres be...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sunrise Manually # 2: Laut dem Hardcore für die IDE, Cmake und meiner Enttäuschung bei Tieren</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425209/"><p> In einem früheren Artikel hatte ich die Kühnheit, CLion als IDE zu verwenden.  Und dann kam ein Mann mit einer Frage angerannt: Oh, ein proprietäres bezahltes Handwerk, ausverkauft, gekichert usw.  Fairerweise gab es nur einen solchen Kommentar zu Habré, aber in Wirklichkeit gibt es Tausende von ihnen.  Zum Beispiel das letzte aktive <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">LOR-</a> Konto, das ich seit 2010 registriert habe, und in fast jeder Diskussion über proprietäre Software beginnt diese Hölle.  Es ist klar, dass ich niemandem etwas beweisen werde, aber es kann seltenen Wanderungen in der Vergangenheit helfen. </p><br><p>  Der Artikel ist bedingt in zwei Teile unterteilt: sozial motivierend und technisch (wie man CMake unter Windows unter verschiedenen IDEs erstellt). </p><br><p><img src="https://habrastorage.org/webt/9g/45/pb/9g45pbrivllf4bxi6-yxx3ejxno.png"><br></p><a name="habracut"></a><br><h1 id="otkuda-vsyo-poshlo">  Wo ist das alles geblieben? </h1><br><p>  Dieser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kommentar aus dem letzten Artikel war die</a> Grundlage <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">des Artikels</a> : "Wenn der Podcast für Anfänger und Laien gedacht ist, warum haben Sie dann nicht die IDE-Lizenz berücksichtigt :(" und im Folgenden. </p><br><p>  Der Artikel basiert auf den Ergebnissen eines <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Twitch-Streams</a> und Ihrem Feedback dazu.  Die Aufzeichnung ist auf YouTube.  Dieser Artikel ist keine Abschrift eines Podcasts, sondern ein Produkt des Verständnisses. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/y8U8iTrV9PU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h1 id="ishodnyy-posyl">  Quellnachricht </h1><br><p>  Lassen Sie uns zunächst die Gültigkeit der ursprünglichen Annahme überprüfen: Software ist teuer.  Wenn Sie auf die Website gehen, stellt sich heraus, dass CLion 8,90 Dollar pro Monat kostet.  580 Rubel.  Es ist klar, dass für eine Person, die nicht für ihren Lebensunterhalt programmiert, dies manchmal einen anständigen Betrag anzeigen kann, der für etwas Nützlicheres ausgegeben werden kann.  Kaufen Sie zum Beispiel eine Mahlzeit. </p><br><p>  Für einen Profi ist alles ganz anders, aber lassen wir dieses Thema.  Ein Journalist unterscheidet sich von einem Mitarbeiter der Marketingabteilung eines Software- oder Spieleherstellers dadurch, dass er die Parteipolitik nicht fördert und keine Schritte unternimmt, um für das Produkt zu werben.  Er spricht wie es ist.  Wie ist das alles wirklich, wie sieht ein Journalist wirklich eine Frage.  Das gleiche gilt für echte Evangelisten. </p><br><blockquote>  Die Essenz der Phänomene und die Reihe der Jahre, <br>  Gesichter von Freunden und Masken von Feinden, <br>  Gut sichtbar und kann sich nicht verstecken <br>  Aus den Augen des Dichters - des Besitzers von Jahrhunderten. <br><br>  Das Licht entfernter Sterne und der Beginn der Morgendämmerung <br>  Die Geheimnisse des Lebens und die Geheimnisse der Liebe <br>  In einem Moment der Inspiration, erwärmt von der Sonne - <br>  Alles spiegelt sich in den Seelen des Dichters wider - <br>  Im Spiegel der Welt ... <br><br>  (c) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Konstantin Nikolsky, Spiegel der Welt</a> <br></blockquote><p>  Wenn es wirklich interessant ist, wie CLion Ihr Einkommen erhöht, finden Sie jemanden, mit dem Sie Kontakt aufnehmen können, und hier sprechen wir über etwas anderes. </p><br><h1 id="tipologiya">  Typologie </h1><br><p>  Betrachten Sie stattdessen Gruppen von Menschen, die so viel wie möglich von geschlossener Software bombardiert werden. </p><br><p>  Wie Sie bereits verstanden haben, bin ich kein Nifiga, kein Soziologe, und ich habe nur die Typologie, die sich in der Hitze der Forum-Showdowns entwickelt hat.  Es hat nur den Vorteil, dass es möglich ist, eine Person einer bestimmten Gruppe praktisch zuzuordnen, ohne das Gehirn einzubeziehen, indem man sich die ersten beiden Kommentare ansieht. </p><br><p>  Die Leute sind also: </p><br><ul><li>  Freiheitskämpfer und Open Source </li><li>  Ehrlich gesagt falsch </li><li>  Tiere </li></ul><br><p>  Ich schlage vor, die Unrichtigkeit des Autors nicht zu berücksichtigen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ich bin eine andere Sache</a> . </p><br><h1 id="borcy-za-svobodu-i-opensorc">  Freiheitskämpfer und Open Source </h1><br><p>  Die reinsten und hellsten sind die Kämpfer für den Openor.  Ich selbst bin einer von denen, die, nachdem sie das Wort "Linux" gehört haben, ständig korrigieren, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"nicht Linux, sondern GNU / Linux".</a>  Das Problem ist, dass die reale Welt niemals schwarz und weiß ist.  Wir haben ein gewisses Maß an Freiheit, und dies ist eine Ressource, die bei Bedarf genutzt werden kann.  Wie jemand vom Mozilla-Management scherzte (oder nicht), "warum brauchen wir einen Vertrauenskredit, wenn wir ihn nicht ausgeben?". </p><br><p>  Beispiel: Es gab eine solche Person, Miguel de Icaza.  Er hat Gnome gemacht und war am Aufbau eines zerstörerischen GNU / Linux beteiligt, wie wir es kennen.  Und dann wurde er aus der Gemeinde vertrieben, und Stallman nannte ihn einen „Verräter der Freiheit“: </p><br><blockquote>  „Miguel de Icaza ist im Wesentlichen ein Verräter der Community für Freie Software.  &lt;...&gt; Das Projekt zielt darauf ab, die Funktionsweise von angeblich "Open Source" -Programmen auf der Windows-Plattform zu regeln.  Daher wird die unschätzbare Zeit der Entwickler auf freien Plattformen verbracht. “ <br></blockquote><p>  Und wo ist Miguel jetzt?  Er und sein Team arbeiten Seite an Seite mit einem der größten Projekte der letzten Jahre - der Portierung von .NET auf GNU / Linux unter zulässigen Lizenzen.  Er hat wirklich seine Zeit verbracht. </p><br><p>  Im Stream habe ich mindestens zwanzig Minuten getötet, um CMake unter Visual Studio Code zu stolpern.  Hat nicht funktioniert.  Und im kostenlosen, aber nicht kostenlosen Visual Studio stellte sich heraus, dass es das erste Mal war.  Genau das bekommen wir so oft, wenn wir versuchen, freie Software zu verwenden: In Open Source bleibt aus offensichtlichen Gründen keine Zeit, End-to-End-Skripte zu durchdenken und sich um das gesamte Produkt zu kümmern.  Vielen Dank an die Entwickler, die zumindest etwas getan haben.  Aber für uns als Benutzer haben wir immer noch eine moralische und ethische Wahl: Entweder wählen Sie die Freiheit und verbringen viel Zeit damit, freie Software zu treten, oder im Gegenteil, wir verbringen unsere Freiheit damit, Zeit zu kaufen, die dann für einige gute Taten ausgegeben werden kann. </p><br><p>  Da dieses Problem den Rahmen technischer Probleme sprengt, werden wir hier enden.  Ein wahrhaft ideologischer Mensch ist seiner Idee treu. </p><br><h1 id="zhivotnye">  Tiere </h1><br><p>  Oh, aber diese Kategorie bombardiert mich. </p><br><blockquote>  "Die spezifischen Merkmale eines Menschen, die ihn von anderen Tieren unterscheiden, sind eine aufrechte Haltung, ein hoch entwickeltes Gehirn, das Denken und die artikulierte Sprache. Ein Mensch studiert und verändert sich selbst und die Welt um ihn herum, schafft eine Kultur und seine eigene Geschichte."  (c) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wikipedia</a> . </blockquote><p>  Leider stellt sich in einem Gespräch über die IDE oft heraus, dass der Gesprächspartner nicht in der Lage ist, unabhängig zu denken. Statt Sprache zu artikulieren, murmelt er "und ich habe bereits Normen" und isst, was sie geben.  Aufgrund der aufrechten Haltung ist es leicht, sie mit einer Person zu verwechseln, aber machen Sie keinen Fehler. </p><br><p>  Diese Kreaturen reiten alles zu irgendjemandem.  In Spielen verkaufen sie Beutekisten und DLC mit nostalgischer Musik.  In den Redakteuren werden verschiedene anal besetzte Dinge behandelt, mit dem Ziel, den Patienten an eine bestimmte Umgebung, ein bestimmtes Ökosystem und so viel zu binden, dass kein <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Phenazepam</a> benötigt wird.  Sie werden alles essen.  <em>"Und so sind die Normen für mich."</em> </p><br><p>  Es ist wichtig hinzuzufügen, dass nicht nur Vermarkter auf ihren Ohren fahren, sondern auch nur Trolle oder natürliche klinische Schizics.  Es gibt viele Schizos, Sie werden nicht glauben, wie viel. </p><br><p>  Erinnern Sie sich zum Beispiel an das Manifest, das Nikitonsky kürzlich veröffentlicht hat (genauer gesagt seine Übersetzung in Habr): <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Meine Enttäuschung über Software</a> ?  Wie ich von ihm bombardiert werde.  Ich hoffe aufrichtig, dass Nikitonsky all dies geschrieben hat, um es wissentlich zu berühren, und nicht wirklich. </p><br><p>  Schauen Sie, welche Thesen es gibt: </p><br><ul><li>  Alles ist unerträglich langsam - ein modernes Telefon ist leistungsfähiger als Computer, die Menschen zum Mond geschickt haben; </li><li>  Alles ist riesig - Android wiegt 6 Gigabyte; </li><li>  Alles verrottet - alte Geräte funktionieren nicht oder schlecht; </li><li>  Schauen Sie sich im Programmier-Chaos die Abhängigkeitsgraphen in npm und im linken Feld an. </li></ul><br><p>  Trolling ist Trolling, aber es ist jemandem vielleicht nicht bekannt, dass die Größe des Quellcodes „die Person zum Mond gebracht hat“, dh Apollo 11, so dass der Autor sie kaum lesen möchte. </p><br><p><img src="https://habrastorage.org/webt/rc/uc/fb/rcucfbhz3eka-xvpqmer_ofdnow.jpeg"><br></p><br><p>  Dass moderne Betriebssysteme jede Ausrüstung definieren und für jeden Anlass alles bieten.  Dass die Verlangsamung der Geräte zu einer wunderbaren Situation führte, als sich die Merissa-Kapitalisten bückten und Eisen auf ein modernes Niveau entwickelten, dank dessen wir für alle Gelegenheiten ein Megadevice in der Tasche haben.  Auch Handtücher sind nicht nötig, es ist bei Google Play.  Das erwähnte npm ermöglicht es einem gewöhnlichen Menschen, Dinge von unvorstellbarer Komplexität zu schreiben, die Jahre zuvor dauern würden. </p><br><p>  Und dann, zu all diesen Kameraden, die "essen, was sie geben", fliegen mir plötzlich Mega-Ideen aus der obigen Liste in den Kopf.  Lassen Sie uns auf die IDE erweitern: </p><br><ul><li>  Bei Anwendungen auf Electron (Visual Studio Code, Atom) werden Buchstaben zu langsam auf dem Bildschirm angezeigt, unabhängig davon, ob es sich um Vim oder Emacs handelt. </li><li>  Die Eclipse-IDE wird langsamer. </li><li>  Im Allgemeinen verlangsamt sich Java - zusammen mit allem, was darauf geschrieben ist, einschließlich NetBeans, IDEA und Clion; </li><li>  Jede IDE, die langsamer wird, frisst einfach so Prozent. </li><li>  Eigentum ist böse; </li><li>  Die Liste geht weiter. </li></ul><br><p>  Diese Liste reicht bereits aus, um das Dach zu überholen.  Glaube keinem Müll.  Wenn vim in einigen Fällen besser ist als Eclipse (oder umgekehrt), liegt dies definitiv nicht daran, dass die Nachbarn Vimers mit einer Mikrowelle bestrahlen und Außerirdische nachts Eclipser entführen. </p><br><p>  Leider wurde durch lange vernetzte Kriegskriege genau festgestellt: Hier kann es keinen Dialog geben.  Für Mensch - Mensch und Tier - Tier.  So ist das Leben arrangiert.  Die Wahrscheinlichkeit, dass jemand diesen Artikel liest und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">seine Meinung ändert,</a> ist äußerst gering und wird <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">verbessert</a> . </p><br><h1 id="chestno-zabluzhdayuschiesya">  Ehrlich gesagt falsch </h1><br><p>  Jetzt sind wir mit Extremen fertig: Besonders klug von der Stallman-Sekte auf der einen Seite des Spektrums und nicht sehr klugen Tieren auf der anderen Seite, lassen Sie uns über gewöhnliche Menschen sprechen. </p><br><p>  Das erste Missverständnis ist, dass wir irgendwie an die IDE genagelt sind.  Es ging aus der Zeit, als die Leute eine Art Delphi 7 und alte Versionen von Microsoft Visual Studio verwendeten.  Sie sagen, dass im neuen Vizhualka alles in Ordnung mit den Projektdateien war.  Hallo, jetzt ist das Jahr 2018, es gibt keine Sklaverei mehr. </p><br><p>  Um die Sklaverei loszuwerden, haben wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CMake</a> von oben erhalten: ein plattformübergreifendes Open-Source-Dienstprogramm, mit dem Sie Anwendungen erstellen, testen und verpacken können. </p><br><p> Es sagt dem Neuling immer noch nichts und seine Arme greifen nach der IDE.  All dies aus Angst und Missverständnissen darüber, was passiert.  Ich selbst komme aus Java und weiß daher genau, wie sich die Augen einer Person, die <code>pom.xml</code> zum ersten Mal gesehen hat, zum ersten Mal erweitern. </p><br><p>  Lassen Sie uns herausfinden, woraus das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zuletzt erstellte Projekt</a> besteht und wie es in allen möglichen IDEs erstellt werden kann. </p><br><p>  Dateizusammensetzung: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CMakeLists.txt</a> </li><li>  <a href="">main.cpp</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">shaders.shader</a> </li></ul><br><p>  Der Shader wird direkt zur Laufzeit <a href="">mit der Funktion D3DCompile</a> kompiliert.  Der D3DCompiler aus dem DirectX SDK (das jetzt das Windows SDK ist) funktioniert.  Zum Erstellen ist keine IDE erforderlich. </p><br><p>  <code>main.cpp</code> ist die einzige zu erstellende Datei.  Und es wird mit Informationen gesammelt, die vollständig in <code>CMakeLists.txt</code> . </p><br><p>  In die entgegengesetzte Richtung: Es gibt <code>CMakeLists.txt</code> , die uns sagt, was genau wir kompilieren werden.  Die Assembly <code>main.cpp</code> registriert.  Dies reicht aus, um das Projekt zu kompilieren.  Nach dem Kompilieren wird eine exe-Datei abgerufen, die nach dem Start den Shader sammelt und auf dem Bildschirm anzeigt.  Alles ist sehr einfach, die IDE ist nicht an dieser Kette beteiligt und kann alles sein. </p><br><p>  IDE ist optional.  Im Allgemeinen.  Was ist hier unverständlich? </p><br><h1 id="sborka">  Montage </h1><br><h2 id="podgotovitelnye-momenty">  Vorbereitende Momente </h2><br><p>  Wie immer nimmt die Vorbereitung den größten Teil des Prozesses ein.  Es gibt einige Dinge, die geklärt werden müssen. </p><br><p>  Es wird davon ausgegangen, dass alles auf der Basis von Msys2 erfolgt, das wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zuletzt installiert haben</a> .  Wenn dies nicht der Fall ist, müssen Sie sich entwirren :) </p><br><h3 id="kak-ustanovit-cmake-i-ninja">  So installieren Sie CMake und Ninja </h3><br><p>  Um etwas sammeln zu können, müssen Sie CMake installieren, sofern Sie dies noch nicht getan haben. </p><br><ul><li>  Download von der Website: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://cmake.org/download</a> .  Ich habe cmake-3.12.2-win64-x64; </li><li>  Entpacken Sie den Pfad und fügen Sie ihn an der Stelle hinzu, an der cmake.exe in der Windows-Umgebungsvariablen PATH liegt. </li><li>  Laden Sie den Ninja-Generator <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der neuesten Version</a> von der Website herunter. </li><li>  Auspacken und auch irgendwo in den PFAD legen. </li></ul><br><h3 id="kak-redaktirovat-path-chtoby-ne-poehat-kukuhoy">  Wie man PATH bearbeitet, um nicht als Kuckuck zu reisen </h3><br><p>  Der erste Weg ist allen bekannt: win + pause -&gt; Erweiterte Systemeinstellungen -&gt; Erweitert -&gt; Umgebungsvariablen.  Leider ist dies selbst in Windows 10, in dem der PATH-Variableneditor hinzugefügt wurde, immer noch nicht sehr praktisch. </p><br><p>  Wenn Sie häufig mit PATH herumspielen, ist die Verwendung des Standardbearbeitungsfensters sehr ärgerlich.  Ich rate Ihnen, den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rapid Environment Editor zu verwenden</a> - er ist kostenlos und spart viel Nerven. </p><br><h3 id="kak-podklyuchat-dll-iz-mingw-v-rezhime-razrabotki">  So verbinden Sie DLL von MinGW im Entwicklungsmodus </h3><br><p>  Um die Anwendung zu starten, benötigen Sie DLL-Dateien von mindestens <code>mingw64\bin</code> . </p><br><p>  Leider konnte ich keine wirklich bequeme Lösung finden, um Bibliotheken von MinGW nach PATH zu werfen.  Wenn ein Weiser in den Kommentaren sagen kann, werde ich sehr dankbar sein. </p><br><p>  Der einfachste Weg ist jetzt, das MinGW-Bin-Verzeichnis direkt an die erste Stelle in PATH anzuhängen.  (Im Fall von Visual Studio können Sie Bibliotheken einfach in das Assembly-Verzeichnis ablegen.) Leider hat diese Methode ein großes Minus: Ein Teil der Software in Windows fällt unmittelbar nach der PATH-Änderung ab.  Zum Beispiel hat Overwatch aufgehört, für mich zu arbeiten, und das ist eine völlig fatale Sache. </p><br><p>  Wenn Sie wie ich in einem Computer leben und ihn nicht nur während der Geschäftszeiten einschalten, wird das folgende Schema vorgeschlagen: Fügen Sie vor dem Programmieren MinGW zu PATH hinzu und entfernen Sie es dann.  Um den Vorgang zu vereinfachen, müssen Sie zwei Batchdateien erstellen, die durch Doppelklicken gestartet werden können: </p><br><p>  before.bat: </p><br><pre> <code class="hljs tex">setx path "Z:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">msys</span></span></span></span>64<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mingw</span></span></span></span>64<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bin</span></span></span></span>;<span class="hljs-comment"><span class="hljs-comment">%path%"</span></span></code> </pre> <br><p>  after.bat: </p><br><pre> <code class="hljs pgsql">setx <span class="hljs-type"><span class="hljs-type">PATH</span></span> "%PATH:Z:\msys64\mingw64\bin;=%"</code> </pre><br><h3 id="kak-podklyuchat-dll-v-rezhime-testovogo-reliza">  So verbinden Sie DLL im Test Release-Modus </h3><br><p>  Es ist klar, dass die vorherige Methode nur funktioniert, wenn sich <code>mingw64\bin</code> in PATH befindet, <code>mingw64\bin</code> nur auf dem Computer des Entwicklers.  Und selbst dort möchten Sie PATH nicht immer verstümmeln.  Wenn es einen gewöhnlichen Menschen (oder uns selbst nach after.bat) startet, dann so etwas wie: </p><br><img width="400" src="https://habrastorage.org/webt/d2/ka/-b/d2ka-bup2zcih2chipoohkcj6u8.png"><br><p><img width="400" src="https://habrastorage.org/webt/tf/ia/zh/tfiazhyj4f-f_-omq2tojpkykmk.png"><br></p><br><p>  Der einfachste Weg, um dieses Problem zu lösen, besteht darin, die erforderliche DLL neben die ausführbare Datei zu stellen.  Aber dafür müssen Sie wissen, welche DLLs verwendet werden! </p><br><p>  Wir haben bereits einige von Microsoft erstellte Dienstprogramme dafür. </p><br><ul><li>  Eine vollständige Liste einer laufenden Anwendung kann <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mit ListDLLs angezeigt werden</a> , zeigt jedoch nicht an, was noch nicht geladen ist. </li><li>  Wenn Sie <code>dumpbin /dependents "Z:\game\build\Mingw64-Debug\src.exe"</code> -&gt; Visual Studio-Eingabeaufforderung, <code>dumpbin /dependents "Z:\game\build\Mingw64-Debug\src.exe"</code> , wird nur die DLL der ersten Ebene angezeigt.  Mit anderen Worten, wenn Sie nur das beenden, was der Dumpbin Ihnen sagt, treten nach dem Start immer noch Fehler auf - es handelt sich lediglich um andere DLLs. </li></ul><br><p>  Um die Abhängigkeiten eingehend zu untersuchen, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gibt es ein solches Skript</a> , das direkt über die Befehlszeile ausgeführt werden kann (msys2, cygwin usw. - genug, um Python2 / 3 und objdump darin zu installieren). </p><br><ul><li>  Laden Sie das Skript mingw-bundledlls herunter. </li><li>  Neben die Datei stellen, </li><li>  In einem Texteditor in der <code>blacklist = [</code> Array <code>blacklist = [</code> fügen Sie unsere DirectX-Teile hinzu: <code>d3d10.dll, d3d11.dll, d3dcompiler_43.dll</code> , </li><li>  <code>chmod 755 ./mingw-bundledlls</code> , </li><li>  So zeigen Sie die verwendeten <code>./mingw-bundledlls ./src.exe</code> : <code>./mingw-bundledlls ./src.exe</code> (also jede ausführbare Datei, an der Sie mehr interessiert sind), </li><li>  So kopieren und kopieren <code>./mingw-bundledlls --copy ./src.exe</code> : <code>./mingw-bundledlls --copy ./src.exe</code> </li><li>  GEWINN: Die ausführbare Datei wird einfach so gestartet, indem Sie auf die exe-Datei doppelklicken und in Visual Studio. </li></ul><br><p>  Es gibt immer noch verschiedene knifflige Möglichkeiten, CMake mit dem Kopieren der DLL selbst zu beauftragen. Wenn Sie sich jedoch mit Verteilungsproblemen befassen, können Sie diesen Artikel niemals fertigstellen. </p><br><h1 id="sborka-vruchnuyu">  Manuelle Montage </h1><br><ul><li>  before.bat </li><li>  Start -&gt; Ausführen -&gt; cmd.exe </li><li> <code>cd /dz://game/src</code> </li> <li> <code>cmake -G "Ninja" -D EXECUTABLE_OUTPUT_PATH="bin" -D CMAKE_CXX_COMPILER="Z:/msys64/mingw64/bin/g++.exe" -D CMAKE_C_COMPILER="Z:/msys64/mingw64/bin/gcc.exe" .</code> </li> <li>  Ninja </li><li>  Führen Sie die in bin generierte Datei sofort aus oder hängen Sie die DLL gemäß den obigen Anweisungen an und führen Sie after.bat aus </li></ul><br><p>  Wir haben bewiesen, dass wir überhaupt nicht an die IDE gebunden sind. </p><br><h1 id="sborka-v-visual-studio">  In Visual Studio erstellen </h1><br><p>  Dennoch ist die Entwicklung ohne IDE nicht das Richtige.  Beim letzten Mal haben wir bereits eine Testanwendung mit CLion zusammengestellt.  Aber das ist bezahltes Eigentum und zashkvar, richtig?  Vergiss es.  Jetzt nur noch frei. </p><br><p>  In Visual Studio ist die Reihenfolge der erforderlichen Aktionen sehr einfach. </p><br><ul><li>  before.bat </li><li>  Starten Sie Visual Studio. </li><li>  Datei -&gt; Öffnen -&gt; CMake; </li><li>  Wählen Sie CMakeLists.txt aus. </li><li>  Der Visualizer denkt nach und zeigt das Projekt eine Weile an. </li><li>  Hauptmenü -&gt; Cache -&gt; Generieren -&gt; Projektname; </li><li>  Wir schauen uns die Ausgabe an und beheben die Fehler (zum Beispiel habe ich bei der CMake-Version geschworen, sie auf 3.11 anstatt auf 3.12 zu senken); </li><li>  Hauptmenü -&gt; CMake -&gt; CMake-Einstellungen ändern (MinGW64-Debug auswählen); </li><li>  Eine CMakeSettings.json-Datei wird automatisch im Projekt generiert.  Wir geben dort den Pfad zu MinGW an (ich hatte ihn im vorherigen Video "Z: \ msys64 \ mingw64"), speichern Sie die Datei; </li><li>  Hauptmenü -&gt; Cache -&gt; Generieren -&gt; CMakeLists.txt; </li><li>  Hauptmenü -&gt; Cache -&gt; Generieren -&gt; Projektname; </li><li>  Wenn alles korrekt ausgeführt wurde, wird im Menü Wählen Sie ein gültiges Startelement aus (neben dem grünen Pfeil zum Starten der Anwendung) ein Element mit dem Namen des Projekts angezeigt. </li><li>  Wir fangen an. </li></ul><br><p>  Wie bei der Konsole können Sie sie entweder richtig starten (wobei Sie sich daran erinnern, dass sich MinGW in PATH befindet) oder after.bat ausführen und die erforderlichen DLLs gemäß den Anweisungen einfügen.  Die DLL muss direkt in dem Verzeichnis abgelegt werden, in dem sich die Anwendung befindet.  Sie kann im Parameter buildRoot in der Datei CMakeSettings.json angegeben werden. </p><br><p>  Also, meine Herren, das Wichtigste: In Visual Studio wird alles perfekt kompiliert und ausgeführt.  Wir haben bewiesen, dass wir nicht an eine kommerzielle IDE gebunden sind. </p><br><h1 id="sborka-v-visual-studio-code">  Erstellen Sie Visual Studio-Code </h1><br><p>  Leider ist Visual Studio immer noch keine proprietäre Closed-Source-Software.  Wir müssen zu etwas Freierem übergehen, und dies ist Visual Studio Code. </p><br><p>  Erster lustiger Mindfak.  Wenn Sie VSCode auf einem Monitor mit großer Skalierung ausführen (ich sitze beispielsweise zu Hause und sehe fern), wird die VSCode-Oberfläche zu einem Chaos.  Um dies zu verhindern, müssen Sie es mit dem Schlüssel <code>--force-device-scale-factor</code> ( <code>--force-device-scale-factor</code> eine Verknüpfung zum Desktop oder ähnliches). </p><br><p>  Leider habe ich das PATH-Management für VSCode nicht beherrscht. Der einzige Weg, es zu starten, besteht darin, PATH mit before.bat und einem weiteren Hack zu ändern, den ich unten beschreiben werde. </p><br><p>  Als Nächstes müssen Sie VSCode konfigurieren. </p><br><ul><li>  CMake Tools installieren: Ansicht -&gt; Erweiterungen -&gt; Geben Sie in der Suche "CMake Tools" ein und klicken Sie auf "Installieren" vor dem Paket, das der Vector-of-Bool-Autor erstellt hat. </li><li>  Ansicht -&gt; Explorer -&gt; Ordner öffnen (wählen Sie das Verzeichnis mit unserem Projekt aus); </li><li>  Befehlspalette (CP, Tastenkombination Strg + P) -&gt; "&gt; CMake: Nach Kits suchen"; </li><li>  Wählen Sie unser "GCC 8.2.0", zu dem es an den richtigen Ort führt, an dem msys2 installiert ist oder was Sie dort verwenden. </li><li>  Datei&gt; Einstellungen&gt; Einstellungen; </li><li>  Gehen Sie zur Registerkarte Benutzereinstellungen. </li><li>  Klicken Sie auf die drei Punkte in der oberen rechten Ecke des Bedienfelds und wählen Sie "Open settings.json" aus dem Menü. </li><li>  Fügen Sie die folgenden Optionen hinzu: </li></ul><br><pre> <code class="hljs powershell"><span class="hljs-string"><span class="hljs-string">"cmake.configureOnOpen"</span></span>: true, <span class="hljs-string"><span class="hljs-string">"terminal.integrated.shell.windows"</span></span>: <span class="hljs-string"><span class="hljs-string">"D:/msys64/usr/bin/bash.exe"</span></span>, <span class="hljs-string"><span class="hljs-string">"terminal.integrated.shellArgs.windows"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"-i"</span></span> ], <span class="hljs-string"><span class="hljs-string">"terminal.integrated.env.windows"</span></span>: { <span class="hljs-string"><span class="hljs-string">"PATH"</span></span>: <span class="hljs-string"><span class="hljs-string">"/mingw64/bin;/usr/local/bin;/usr/bin;/bin;Z:/msys64/bin/;Z:/msys64/usr/local/bin;Z:/msys64/usr/bin;Z:/msys64/bin;Z:/msys64/mingw64/bin/;%PATH%"</span></span> }, <span class="hljs-string"><span class="hljs-string">"cmake.buildDirectory"</span></span>: <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$</span></span></span><span class="hljs-string">{workspaceRoot}/build/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$</span></span></span><span class="hljs-string">{buildType}"</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.clearOutputBeforeBuild"</span></span>: true, <span class="hljs-string"><span class="hljs-string">"cmake.generator"</span></span>: <span class="hljs-string"><span class="hljs-string">"Ninja"</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.cmakePath"</span></span>: <span class="hljs-string"><span class="hljs-string">"C:\\my\\opt\\cmake-3.12.2-win64-x64\\cmake-3.12.2-win64-x64\\bin\\cmake.exe"</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.mingwSearchDirs"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"Z:/msys64/mingw64"</span></span>, ], <span class="hljs-string"><span class="hljs-string">"cmake.preferredGenerators"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"Ninja"</span></span> ], <span class="hljs-string"><span class="hljs-string">"cmake.loggingLevel"</span></span>: <span class="hljs-string"><span class="hljs-string">"debug"</span></span></code> </pre> <br><ul><li>  Der Build sollte automatisch erfolgen und der Build wird in das <code>build</code> Verzeichnis gefaltet.  Wenn dies nicht der Fall ist, müssen Sie mit der Maus auf die Schaltfläche <code>Build</code> mit dem Zahnrad in der Statuszeile klicken. </li></ul><br><p>  Es ist klar, dass Sie dort den Pfad zu mingw und cmake direkt angeben müssen.  "Aber ich habe PFAD!"  Bitte geben Sie einfach an, dass dies eine ganze Reihe von Problemen lösen wird. </p><br><p>  Es gibt jedoch eine exklusive Möglichkeit, PATH nicht zu verwerfen. </p><br><ul><li> <code>"cmake.generator": "MSYS Makefiles"</code> </li> <li> <code>"cmake.preferredGenerators": [ "MSYS Makefiles"]</code> </li> <li>  Stellen Sie sicher, dass sich MinGW nicht in PATH befindet (after.bat). </li><li>  Stellen Sie sicher, dass Sie das Build-Verzeichnis im Projekt entfernt haben. </li><li>  Starten Sie die Msys2-Konsole. </li><li>  <code>export PATH=/z/msys64/mingw64/bin;$PATH</code> (Sie können es dann in eine Art <code>"~/.bashrc"</code> ) </li><li>  Führen Sie VSCode beispielsweise folgendermaßen aus: <code>"C:\Users\olegchir\AppData\Local\Programs\Microsoft VS Code\Code.exe"</code> </li><li>  Und dann ist alles wie vorher.  Die Datei sollte normal generiert werden. </li><li>  Wenn Sie versuchen, es sofort mit einem Doppelklick aus dem Explorer zu starten, führt dies sofort zu DLL-Suchfehlern. Dies bedeutet, dass alles korrekt ist. Wir verwenden wirklich einen speziellen Pfad innerhalb von VSCode, aber nicht außerhalb. </li></ul><br><p>  Wir haben also bewiesen, dass wir in einer kostenlosen IDE auch ganz für uns selbst leben können. </p><br><h1 id="itogi">  Zusammenfassung </h1><br><p>  Zusammenfassend gesagt, wenn Sie eine normale Person sind, können Sie CMake, MinGW verwenden und nicht in den Schnurrbart blasen.  Alles ist frei tragbar zwischen der IDE, alles funktioniert einfach.  Wir können jederzeit jede bezahlte, geschlossene, nicht kostenlose IDE verwenden, und wir werden nichts dafür sein.  Aber alle anderen werden leiden, und das zu Recht. </p><br><p>  Zukünftige Artikel werden Ihre Meinung berücksichtigen.  Sie können Fragen stellen und Vorschläge in den Kommentaren direkt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">während des Twitch-Streams machen</a> .  Ob diese Artikel überhaupt erscheinen, hängt davon ab, wie heftig Sie den Pfeil unter diesem Kommentar nach oben bewegen. </p><br><pre> <code class="hljs">                </code> </pre> <br><p>  © Alexander Raevsky </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de425209/">https://habr.com/ru/post/de425209/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de425199/index.html">Was schützt Käufer vor kontaktlosem Zahlungsbetrug?</a></li>
<li><a href="../de425201/index.html">„Ich kämpfe seit drei Jahren gegen das Betrugssyndrom“ - 10 Fragen an einen Programmierer, Ausgabe 7</a></li>
<li><a href="../de425203/index.html">Alte UPnP-Schwachstelle auf neue Weise</a></li>
<li><a href="../de425205/index.html">Soft Skills im Projektmanagement: Konzept, Ziele und Tipps für eine erfolgreiche geschäftliche Nutzung</a></li>
<li><a href="../de425207/index.html">Designtests: Top 10 Heisenbug 2018 Piter Talks</a></li>
<li><a href="../de425211/index.html">286 und Netzwerk</a></li>
<li><a href="../de425213/index.html">Pläne für die nächste Version von Vue.js</a></li>
<li><a href="../de425215/index.html">4 Tipps zur Optimierung Ihrer Webpack-Anwendung</a></li>
<li><a href="../de425217/index.html">Anwendungsfehlertoleranz beim Upgrade des Kubernetes-Clusters</a></li>
<li><a href="../de425219/index.html">Was ist psychische Gesundheit: eine Perspektive aus der Psychologie / Psychotherapie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>