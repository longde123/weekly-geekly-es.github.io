<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСЭ ЁЯФЛ ЁЯЪ╢ЁЯП╛ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рд╕рд┐рдореБрд▓реЗрд╢рди рд╡рд┐рд╕реНрддрд╛рд░ рдмреЛрд░реНрдб ЁЯд┤ЁЯП╛ ЁЯд╜ ЁЯСиЁЯП╗тАНЁЯМ╛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд▓рдВрдмреЗ рд╕рдордп рддрдХ, рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдорд╛рдЗрдХреНрд░реЛ рдХрдВрдкреНрдпреВрдЯрд░ рдиреЗ рдЧреАрдХреНрд╕, рд╕рд┐рд╕реНрдЯрдо рдкреНрд░рд╢рд╛рд╕рдХ, рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдФрд░ рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХ рдЗрдВрдЬреАрдирд┐рдпрд░реЛрдВ рдХреЗ рдЬреАрд╡рди рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд┐рдпрд╛ рд╣реИред рдЕрдкрдиреЗ рд╡рд░реНрдЧ рдХреЗ рд▓...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рд╕рд┐рдореБрд▓реЗрд╢рди рд╡рд┐рд╕реНрддрд╛рд░ рдмреЛрд░реНрдб</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/401089/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рдВрдмреЗ рд╕рдордп рддрдХ, рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдорд╛рдЗрдХреНрд░реЛ рдХрдВрдкреНрдпреВрдЯрд░ рдиреЗ рдЧреАрдХреНрд╕, рд╕рд┐рд╕реНрдЯрдо рдкреНрд░рд╢рд╛рд╕рдХ, рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдФрд░ рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХ рдЗрдВрдЬреАрдирд┐рдпрд░реЛрдВ рдХреЗ рдЬреАрд╡рди рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд┐рдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЕрдкрдиреЗ рд╡рд░реНрдЧ рдХреЗ рд▓рд┐рдП рд╕рд╕реНрддреА рдФрд░ рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рд╢рдХреНрддрд┐рд╢рд╛рд▓реА, рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд I / O рдмрдВрджрд░рдЧрд╛рд╣реЛрдВ рдХреЗ рд╕рд╛рде, рдпрд╣ рд╡рд┐рднрд┐рдиреНрди рдХрд╛рд░реНрдпреЛрдВ рдХрд╛ рд╕рд╛рдордирд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреА рдЬрд░реВрд░рддреЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдЦрд░реАрджрдиреЗ рдХреЗ рдмрд╛рдж, рдореБрдЭреЗ рдмрд╛рд╣рд░реА рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдЪрд╛рд▓реВ рдХрд░рдиреЗ, рдорд╛рдкрдиреЗ рдФрд░ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдЪрд╛рд╣рд┐рдП рдерд╛ред </font><font style="vertical-align: inherit;">рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдмрдбрд╝реА рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд╛рд░реНрдб рдмреЗрдЪреЗ рдЬрд╛ рд░рд╣реЗ рд╣реИрдВ, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреИрд╕реЗ рдХрд┐ рдпрд╣рд╛рдВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдЖрдк рд░реИрдкрд┐рдб рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк рдХреЗ рд▓рд┐рдП рддрд╛рд░реЛрдВ рдХреЗ рд╕рд╛рде рдмреНрд░реЗрдбрдмреЛрд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдореИрдВ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рджрдо рдкрд░ рдбрд┐рд╡рд╛рдЗрд╕ рдмрдирд╛рдирд╛ рдкрд╕рдВрдж рдХрд░рддрд╛ рд╣реВрдВред </font><font style="vertical-align: inherit;">рдкрд╣рд▓реА рдмрд╛рд░, рдореИрдВрдиреЗ рд╕рднреА рдЖрдЙрдЯрдкреБрдЯ рдХреЗ рд▓рд┐рдП рджреЛ-рдкрдВрдХреНрддрд┐ рд╡рд╛рд▓реА рдХрдВрдШреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛, рд▓реЗрдХрд┐рди рдЦреБрдж рдХреЛ рдХрдИ I / O рдкреЛрд░реНрдЯ, SPI, I2C рдФрд░ UART рдмрд╕ рддрдХ рд╕реАрдорд┐рдд рдХрд░ рджрд┐рдпрд╛ред </font><font style="vertical-align: inherit;">рдореИрдВрдиреЗ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдХреЛ "рдорд╛рдБ-рдорд╛рдБ" рдХреЗ рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк рдХреЗ рд▓рд┐рдП рд▓рдХреНрд╖реНрдп рддрд╛рд░реЛрдВ рд╕реЗ рдЬреЛрдбрд╝рд╛ред </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/eef/18f/ae2/eef18fae242d47dab3f10bb6a4cfb21b.jpg" alt="рдЫрд╡рд┐"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рд╕рдВрдмрдВрдз рдореЗрдВ, рддреАрди рдкреНрд░реЛрдЯреЛрдЯрд╛рдЗрдк рдмреЛрд░реНрдб рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рд╡рд┐рдХрд╕рд┐рдд рдХреА рдЧрдИ рдереА, рдЙрдирдореЗрдВ рд╕реЗ рдПрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ, рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдореИрдВ рд╕рдмрд╕реЗ рд╕рд░рд▓ рдЪрд░реНрдЪрд╛ рдХрд░реВрдВрдЧрд╛ред</font></font><a name="habracut"></a> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рддреЛ рдореБрдЭреЗ рдХреНрдпрд╛ рдЪрд╛рд╣рд┐рдП:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPIO рдХреЗ рд╕рд╛рде рдЗрдирдкреБрдЯ рдФрд░ рдЖрдЙрдЯрдкреБрдЯ рджреЛрдиреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдВ; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рднрд╛рд░ рдкреНрд░рдмрдВрдзрди; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1-рддрд╛рд░ рдмрд╕ рдкрд░ рддрд╛рдкрдорд╛рди рд╕реЗрдВрд╕рд░ рдХрд╛ рдХрдиреЗрдХреНрд╢рди; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡реЛрд▓реНрдЯреЗрдЬ рдорд╛рдк; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдШрдбрд╝реА; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> RS485 рдмрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдмрд╛рд╣рд░реА рдЙрдкрдХрд░рдг рдХреА рдирд┐рдЧрд░рд╛рдиреА рдФрд░ рдирд┐рдпрдВрддреНрд░рдг; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╡рд┐рд╕реНрддрд╛рд░ рдХрд╛рд░реНрдб рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ рдмрд┐рдЬрд▓реА рдХреА рдЖрдкреВрд░реНрддрд┐; </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЙрдкрд░реЛрдХреНрдд рд╕реВрдЪреА рдХреЗ рдЕрдиреБрд╕рд╛рд░, рдПрдХ рд╡рд┐рджреНрдпреБрдд рд╕рд░реНрдХрд┐рдЯ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ: </font></font><br>
<img src="https://habrastorage.org/files/cc4/136/432/cc41364328f3449094dc0b05a940a987.jpg" alt="рдЫрд╡рд┐"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
тЖТ </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рдЙрдЪреНрдЪ-рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди рд╕реНрдЯреЛрд░реЗрдЬ рд╕реЗ рдПрдХ</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
рд╕рд░реНрдХрд┐рдЯ рджреЛ рдЖрдЙрдЯрдкреБрдЯ рд╡рд╛рдЗрдВрдбрд┐рдВрдЧреНрд╕ рдХреЗ рд╕рд╛рде рдПрдХ рдЯреНрд░рд╛рдВрд╕рдлреЙрд░реНрдорд░ рдкрд╛рд╡рд░ рд╕реНрд░реЛрдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред RS485 рдбреНрд░рд╛рдЗрд╡рд░ рдЪрд┐рдк рдФрд░ рд░реАрдпрд▓-рдЯрд╛рдЗрдо рдШрдбрд╝реА рдХреЛ рдкрд╛рд╡рд░ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП 5V рдЖрдЙрдЯрдкреБрдЯ рдХреЗ рд╕рд╛рде рдПрдХ рд▓реАрдирд┐рдпрд░ рд╡реЛрд▓реНрдЯреЗрдЬ рд░реЗрдЧреБрд▓реЗрдЯрд░ рдкрд░ рдкрд╣рд▓реА рд╡рд╛рдЗрдВрдбрд┐рдВрдЧ рдЪрд▓рддреА рд╣реИред рджреВрд╕рд░реА рд╡рд┐рдВрдбрд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдбрд╛рд░реНрд▓рд┐рдВрдЧрдЯрди рдЯреНрд░рд╛рдВрдЬрд┐рд╕реНрдЯрд░ рдХреЗ рд╕рд╛рде рд╡рд┐рджреНрдпреБрдд рдЪреБрдореНрдмрдХреАрдп рд░рд┐рд▓реЗ рдФрд░ рд╡рд┐рдзрд╛рдирд╕рднрд╛ рдХреЛ рдмрд┐рдЬрд▓реА рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DS18B20 рддрд╛рдкрдорд╛рди рд╕реЗрдВрд╕рд░ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдмреЛрд░реНрдб рд╕реЗ + 3.3V рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЪрд╛рд▓рд┐рдд рд╣реЛрддрд╛ рд╣реИ, рдмреЛрд░реНрдб рдореЗрдВ рдмрд╛рд╣рд░реА DS18B20 рд╕реЗрдВрд╕рд░ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрдиреЗрдХреНрдЯрд░ рд╣реЛрддрд╛ рд╣реИ, рд╡рд╣реА рд╡реЛрд▓реНрдЯреЗрдЬ ADC рдФрд░ рдорд┐рд▓рд╛рди рд╕реНрддрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдШрдбрд╝реА рдХреЗ рд╕рд╛рде рд▓рд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдХрдо рддрд░реНрдХ рд╕реНрддрд░ рдкрд░ рд╕рдВрдЪрд╛рд▓рд┐рдд рдХрд┐рд╕реА рднреА рдХреНрд░рд┐рдпрд╛ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд░реНрдХрд┐рдЯ рдЪрд╛рд░ рдмрдЯрди S1-S4 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рднрд╛рд░ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рд░реНрдорд┐рдд рд╕реБрд░рдХреНрд╖рд╛рддреНрдордХ рдбрд╛рдпреЛрдб рдХреЗ рд╕рд╛рде рдЯреНрд░рд╛рдВрдЬрд┐рд╕реНрдЯрд░ рдЕрд╕реЗрдВрдмрд▓реА DD1 ULN2003 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рд░рд┐рд▓реЗ K1 рдФрд░ K2 рдкрд┐рдВрд╕ 16, 15 рдЯреНрд░рд╛рдВрдЬрд┐рд╕реНрдЯрд░ рдЕрд╕реЗрдВрдмрд▓реА рд╕реЗ рдЬреБрдбрд╝реЗ рд╣реИрдВ, рдЗрдВрдбрд┐рдХреЗрд╢рди рдХреЗ рд▓рд┐рдП рдПрд▓рдИрдбреА 14-12 рдкрд┐рди рд╕реЗ рдЬреБрдбрд╝реЗ рд╣реИрдВ, рдкрд┐рдВрд╕ 11, 10 рдХреЛ рдПрдХ рдЖрдо рдХрд▓реЗрдХреНрдЯрд░ рдХреЗ рд╕рд╛рде рдпреЛрдЬрдирд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдмрд╛рд╣рд░реА рдЙрдкрдХрд░рдгреЛрдВ рд╕реЗ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ рдпрд╛ + 12 рд╡реА рдХреЗ рдШреБрдорд╛рд╡рджрд╛рд░ рд╡реЛрд▓реНрдЯреЗрдЬ рдХреЗ рд╕рд╛рде рдЕрддрд┐рд░рд┐рдХреНрдд рдХрд┐рд░рдгреЗрдВ рд╣реИрдВред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡реЛрд▓реНрдЯреЗрдЬ рдХреЛ рдорд╛рдкрдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдЗрдирдкреБрдЯ рдмрд┐рдЯ-рдкрд╛рд╕ рдлрд┐рд▓реНрдЯрд░ рдХреЗ рд╕рд╛рде рдПрдХ рдПрд╕рдкреАрдЖрдИ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд╕рд╛рде 10-рдмрд┐рдЯ рдПрдбреАрд╕реА рдбреАрдбреА 3 рдПрдорд╕реАрдкреА 3008 рдХреЗ рджреЛ рдЪреИрдирд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдПрдирд╛рд▓реЙрдЧ рдиреЛрдб рдХреЛ рдкреНрд░рд╛рдердорд┐рдХ рд░реВрдк рд╕реЗ рд╢реИрдХреНрд╖рдгрд┐рдХ рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдпрд╛ рддреНрд╡рд░рд┐рдд рдбрд┐рдмрдЧрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред рдпрджрд┐ рдПрдХ рдПрдирд╛рд▓реЙрдЧ рд╕рд┐рдЧреНрдирд▓ рдХреЗ рдЧреБрдгрд╛рддреНрдордХ рдорд╛рдк рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рд╡рд╛рд▓ рдЙрдарддрд╛ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рдбрд┐рдЬрд┐рдЯрд▓ рдФрд░ рдПрдирд╛рд▓реЙрдЧ рдЧреНрд░рд╛рдЙрдВрдб рдХреЛ рдбрд┐рдХреВрдк рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдПрдХ рдмрд╛рд╣рд░реА рд╡реЛрд▓реНрдЯреЗрдЬ рд╕рдВрджрд░реНрдн рд╕реНрд░реЛрдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ, рдПрдирд╛рд▓реЙрдЧ рднрд╛рдЧ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: </font></font><br>
<br>
<img src="https://habrastorage.org/files/d8d/148/dee/d8d148deee074957a46ab433620aea05.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрд╕рдкреАрдЖрдИ рдмрд╕ рдореЗрдВ рдЯреАрдЯреАрдПрд▓ тЖТ рдПрд▓рд╡реАрдЯреАрдЯреАрдПрд▓ рд╕реНрддрд░ рдХрдирд╡рд░реНрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реЛрдЧрд╛ред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдХреА рдШрдбрд╝реА DD4 DS1307 рдЪрд┐рдк рдкрд░ рдмрдирд╛рдИ рдЧрдИ рд╣реИ, рдФрд░ 32.768 kHz рдкрд░ рдХреНрд╡рд╛рд░реНрдЯреНрдЬ рдЧреБрдВрдЬрдпрдорд╛рди Q1 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреНрд▓реЙрдХрд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдмреЛрд░реНрдб рдореЗрдВ рдЯрд╛рдВрдХрд╛ рд▓рдЧрд╛рдиреЗ рд╡рд╛рд▓реА 3 рд╡реЛрд▓реНрдЯ рдХреА рд▓рд┐рдерд┐рдпрдо рдмреИрдЯрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдШрдбрд╝реА рдХреА рд░реИрдо рдЪрд┐рдк рдХреЛ рдкрд╛рд╡рд░ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред Microcircuit MOS рдЯреНрд░рд╛рдВрдЬрд┐рд╕реНрдЯрд░ VT2, VT3 рдкрд░ рдмрдирд╛ рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рд╕реЗ I2C рдмрд╕ (CAD рд╕реНрдкрд╖реНрдЯ рдХрдиреЗрдХреНрд╢рди рдХреЗ рдмрд┐рдирд╛ рд▓рд╛рдЗрдиреЛрдВ рдХреЗ рд▓рд┐рдП рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд┐рдпрд╛ рдХрдиреЗрдХреНрд╢рди) рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ 5V-3.3V рд╕реНрддрд░ рдХрдирд╡рд░реНрдЯрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UART тЖТ RS485 рдбреНрд░рд╛рдЗрд╡рд░ рдХреЗ рд░реВрдк рдореЗрдВ, DD2 ST485 рдЪрд┐рдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред рдЯреНрд░рд╛рдВрдЬрд┐рд╕реНрдЯрд░ VT1 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рд░реНрдХрд┐рдЯ рд╕рдорд╛рдзрд╛рди рдиреЗ рдЯреНрд░рд╛рдВрд╕реАрд╡рд░ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рдЫреЛрдбрд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреАред рдЬрдм UART рдбреЗрдЯрд╛ рд╕рдВрдЪрд╛рд░рд┐рдд рдХрд░ рд░рд╣рд╛ рд╣реЛрддрд╛ рд╣реИ, рддрдм рдпрд╣ рдХреЗрд╡рд▓ рдореЛрдб рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рд┐рдЪ рдХрд░рддрд╛ рд╣реИ, рдмрд╛рдХреА рд╕рдордп ST485 рдкреНрд░рд╛рдкреНрдд рдореЛрдб рдореЗрдВ рд╣реЛрддрд╛ рд╣реИред рдЯреНрд░рд╛рдВрд╕реАрд╡рд░ рдХрдВрдЯреНрд░реЛрд▓ рдХрдорд╛рдВрдб рдХреЛ рдЯреНрд░рд╛рдВрдЬрд┐рд╕реНрдЯрд░ VT1 рдХреЗ рдХрд▓реЗрдХреНрдЯрд░ рд╕реЗ рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЛ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ рдпреЛрдЬрдирд╛ ST485 рдбреНрд░рд╛рдЗрд╡рд░ рдХреЗ TTL рд╕реНрддрд░реЛрдВ рдХреЗ рд╕рд╛рде UART рд░рд╛рд╕реНрдкрдмреЗрд░реА рдкрд╛рдИ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ LVTTL рд╕реНрддрд░реЛрдВ рдХреЗ рдорд┐рд▓рд╛рди рдХрд╛ рдХрд╛рд░реНрдп рднреА рдХрд░рддреА рд╣реИред </font><font style="vertical-align: inherit;">рдЯреНрд░рд╛рдВрдЬрд┐рд╕реНрдЯрд░ VT1 рдХреЗ рдХрд▓реЗрдХреНрдЯрд░ рд╕реЗ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рд╕рдВрдХреЗрдд DI рдЗрдирдкреБрдЯ рдкрд░ рд╕реНрддрд░ 5V рддрдХ рдЦреАрдВрдЪрддрд╛ рд╣реИ, рдФрд░ рд░реЛрдХрдиреЗрд╡рд╛рд▓рд╛ R16 рдФрд░ рдЬреЗрдирд░ рдбрд╛рдпреЛрдб VD8 рдЖрдЙрдЯрдкреБрдЯ R0 рд╕реЗ 3.3V рддрдХ рдХреЗ рд╕реНрддрд░ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд░реЛрдХрдиреЗрд╡рд╛рд▓рд╛ R11 рдкрд░ рдзреНрдпрд╛рди рди рджреЗрдВ, рдпрд╣ рдбреАрдмрдЧрд┐рдВрдЧ рдХреЗ рджреМрд░рд╛рди рд╕рд░реНрдХрд┐рдЯ рдореЗрдВ рдмрдирд╛ рд░рд╣рд╛ред </font><font style="vertical-align: inherit;">RS485 рдХреЛ 115200 рдмреЙрдб рдкрд░ рдореЙрдбрдмрд╕ рдЖрд░рдЯреАрдпреВ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ рд╕рд╛рде рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рддрджрдиреБрд╕рд╛рд░, рдПрдХ рд╕рд░реНрдХрд┐рдЯ рдмреЛрд░реНрдб рдХреЛ рдФрд░ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛:</font></font><br>
<br>
<img src="https://habrastorage.org/files/2ca/501/7a8/2ca5017a8cba4f22b49cb6c8ea588855.png"><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореБрджреНрд░рд┐рдд рд╕рд░реНрдХрд┐рдЯ рдмреЛрд░реНрдб рдХреЗ 3 рдбреА рдореЙрдбрд▓</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/0d3/058/62d/0d305862d003420aa0dfaa41f5a57d78.png"><br>
<img src="https://habrastorage.org/files/cbc/3d6/3b3/cbc3d63b39b44d2aa22887874155660c.bmp"><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддреИрдпрд╛рд░ рдбрд┐рд╡рд╛рдЗрд╕ рдХреА рдлреЛрдЯреЛ рдФрд░ рд╡рд┐рд╕реНрддрд╛рд░ рдмреЛрд░реНрдб рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдВ:</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/files/e60/3b4/9d7/e603b49d769b4fc1888d7350b9dbe63f.jpg"><br>
<br>
<img src="https://habrastorage.org/files/2fb/710/6e3/2fb7106e3cec47ea9de5b947ebc091ed.jpg"><br>
<br>
<img src="https://habrastorage.org/files/132/e3e/4d0/132e3e4d025a47ebb5a982e69ed7c213.jpg"><br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдмрд╛рд╣рд░реА рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рдХрдиреЗрдХреНрд╢рди рдпреЛрдЬрдирд╛ рдХреЗ рд╡реЗрд░рд┐рдПрдВрдЯ: </font></font><br>
<img src="https://habrastorage.org/files/4bb/b2f/c3c/4bbb2fc3c13849398f32165e87ce506f.JPG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд┐рд╕реНрддрд╛рд░ рдмреЛрд░реНрдб рдХреЗ рдиреЛрдбреНрд╕ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдЕрдЬрдЧрд░ рдореЗрдВ рдХрдИ рд▓рд┐рдкрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ (рдореБрдЭреЗ рдпрд╣ рднрд╛рд╖рд╛ рдирд╣реАрдВ рдкрддрд╛ рд╣реИ, рдореИрдВрдиреЗ рдкрд░реАрдХреНрд╖рдг рдФрд░ рддреНрд░реБрдЯрд┐, рд╡рд┐рд╢реЗрд╖рдЬреНрдЮреЛрдВ рдХреЗ рдХреЛрдб рдкрд░ peering) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓рд┐рдЦрд╛ рд╣реИ рдЬреЛ ADC рдЪреИрдирд▓реЛрдВ рд╕реЗ рдЬреБрдбрд╝реЗ рдПрдХ рдкреЛрдЯреЗрдВрд╢рд┐рдпреЛрдореАрдЯрд░ рд╕реЗ рд╡реЛрд▓реНрдЯреЗрдЬ рдХреЛ рдорд╛рдкрдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдПрдХ рд╕рд░рд▓ рд▓рд┐рдЦрд╛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MCP3008 рдкрд╛рдпрдерди рд╕реНрд░реЛрдд</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/python</span></span><font></font>
<font></font>
<span class="hljs-comment"><span class="hljs-comment"># Example program to read data from MCP3008 10 bit ADC</span></span><font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> spidev
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os<font></font>
 <font></font>
<span class="hljs-comment"><span class="hljs-comment"># Open SPI bus</span></span><font></font>
spi = spidev.SpiDev()<font></font>
spi.open(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>)<font></font>
 <font></font>
<span class="hljs-comment"><span class="hljs-comment"># Function to read SPI data from MCP3008 chip</span></span>
<span class="hljs-comment"><span class="hljs-comment"># Channel must be an integer 0-7</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReadChannel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(channel)</span></span></span><span class="hljs-function">:</span></span>
  adc = spi.xfer2([<span class="hljs-number"><span class="hljs-number">1</span></span>,(<span class="hljs-number"><span class="hljs-number">8</span></span>+channel)&lt;&lt;<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>])<font></font>
  data = ((adc[<span class="hljs-number"><span class="hljs-number">1</span></span>]&amp;<span class="hljs-number"><span class="hljs-number">3</span></span>) &lt;&lt; <span class="hljs-number"><span class="hljs-number">8</span></span>) + adc[<span class="hljs-number"><span class="hljs-number">2</span></span>]
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> data<font></font>
 <font></font>
<span class="hljs-comment"><span class="hljs-comment"># Function to convert data to voltage level,</span></span>
<span class="hljs-comment"><span class="hljs-comment"># rounded to specified number of decimal places.</span></span>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ConvertVolts</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data,places)</span></span></span><span class="hljs-function">:</span></span>
  volts = (data * <span class="hljs-number"><span class="hljs-number">3.3</span></span>) / float(<span class="hljs-number"><span class="hljs-number">1023</span></span>)<font></font>
  volts = round(volts,places)<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> volts<font></font>
 <font></font>
<span class="hljs-comment"><span class="hljs-comment"># Define sensor channels</span></span>
first_channel = <span class="hljs-number"><span class="hljs-number">0</span></span>
second_channel  = <span class="hljs-number"><span class="hljs-number">1</span></span><font></font>
 <font></font>
<span class="hljs-comment"><span class="hljs-comment"># Define delay between readings</span></span>
delay = <span class="hljs-number"><span class="hljs-number">5</span></span><font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"------------------------------------------------------"</span></span><font></font>
 <font></font>
<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>:<font></font>
 <font></font>
  <span class="hljs-comment"><span class="hljs-comment"># Read the first channel data</span></span><font></font>
  first_level = ReadChannel(first_channel)<font></font>
  first_channel_volts = ConvertVolts(first_level,<span class="hljs-number"><span class="hljs-number">2</span></span>)<font></font>
 <font></font>
  <span class="hljs-comment"><span class="hljs-comment"># Read the second channel data</span></span><font></font>
  second_level = ReadChannel(second_channel)<font></font>
  second_channel_volts = ConvertVolts(second_level,<span class="hljs-number"><span class="hljs-number">2</span></span>)<font></font>
  <font></font>
 <font></font>
  <span class="hljs-comment"><span class="hljs-comment"># Print out results</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> <span class="hljs-string"><span class="hljs-string">"------------------------------------------------------"</span></span>
  print(<span class="hljs-string"><span class="hljs-string">"First ADC channel: {} ({}V)"</span></span>.format(first_level,first_channel_volts))<font></font>
  print(<span class="hljs-string"><span class="hljs-string">"Second ADC channel : {} ({}V)"</span></span>.format(second_level,second_channel_volts))<font></font>
 <font></font>
  <span class="hljs-comment"><span class="hljs-comment"># Wait before repeating loop</span></span><font></font>
  time.sleep(delay)<font></font>
</code></pre><br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ DS18B20 рдерд░реНрдорд╛рдореАрдЯрд░ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DS18B20 рдЕрдЬрдЧрд░ рд╕реНрд░реЛрдд</font></font></b><div class="spoiler_text">   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="></a><br>
<pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># Example program to read data from DS18B20</span></span>
<span class="hljs-comment"><span class="hljs-comment"># This code taken from</span></span>
<span class="hljs-comment"><span class="hljs-comment"># https://kropochev.com/?go=all/raspberry-pi-and-onewire-sensor/</span></span><font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> glob
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time<font></font>
<font></font>
os.system(<span class="hljs-string"><span class="hljs-string">'modprobe w1-gpio'</span></span>)<font></font>
os.system(<span class="hljs-string"><span class="hljs-string">'modprobe w1-therm'</span></span>)<font></font>
<font></font>
base_dir = <span class="hljs-string"><span class="hljs-string">'/sys/bus/w1/devices/'</span></span>
device_folder = glob.glob(base_dir + <span class="hljs-string"><span class="hljs-string">'10*'</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>]<font></font>
device_file = device_folder + <span class="hljs-string"><span class="hljs-string">'/w1_slave'</span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read_temp_raw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span>
    f = open(device_file, <span class="hljs-string"><span class="hljs-string">'r'</span></span>)<font></font>
    lines = f.readlines()<font></font>
    f.close()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> lines<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">read_temp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span><font></font>
    lines = read_temp_raw()<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> lines[<span class="hljs-number"><span class="hljs-number">0</span></span>].strip()[<span class="hljs-number"><span class="hljs-number">-3</span></span>:] != <span class="hljs-string"><span class="hljs-string">'YES'</span></span>:<font></font>
        time.sleep(<span class="hljs-number"><span class="hljs-number">0.2</span></span>)<font></font>
        lines = read_temp_raw()<font></font>
    equals_pos = lines[<span class="hljs-number"><span class="hljs-number">1</span></span>].find(<span class="hljs-string"><span class="hljs-string">'t='</span></span>)
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> equals_pos != <span class="hljs-number"><span class="hljs-number">-1</span></span>:<font></font>
        temp_string = lines[<span class="hljs-number"><span class="hljs-number">1</span></span>][equals_pos+<span class="hljs-number"><span class="hljs-number">2</span></span>:]<font></font>
        temp_c = float(temp_string) / <span class="hljs-number"><span class="hljs-number">1000.0</span></span>
        temp_f = temp_c * <span class="hljs-number"><span class="hljs-number">9.0</span></span> / <span class="hljs-number"><span class="hljs-number">5.0</span></span> + <span class="hljs-number"><span class="hljs-number">32.0</span></span>
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp_c, temp_f<font></font>
<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>:<font></font>
    print(read_temp())<font></font>
    time.sleep(<span class="hljs-number"><span class="hljs-number">1</span></span>)
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореИрдВрдиреЗ рд░рд╛рд╕реНрдкрд┐рдпрди рдореЗрдВ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХрд╛ рджрд╕реНрддрд╛рд╡реЗрдЬреАрдХрд░рдг рднреА рдХрд┐рдпрд╛:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрдкрдХрд░рдгреЛрдВ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ</font></font></b><div class="spoiler_text"><blockquote> тАФ 1 Wire settings:<br>
 тАФ Raspbian wheezy<br>
<br>
Enter command in console:<br>
pi@raspberrypi~$ sudo modprobe w1-gpio<br>
pi@raspberrypi~$ sudo modprobe w1_therm<br>
<br>
Then check sensor in system:<br>
pi@raspberrypi ~ $ sudo ls /sys/bus/w1/devices/w1_bus_master1/<br>
<br>
You can see the tabel below entered comman and<br>
there you should find HEX like 28-000002da8328; <br>
This is DS18B20 address;<br>
<br>
Next read the data from DS18B20 sensor using command:<br>
pi@raspberrypi ~ $ cat /sys/bus/w1/devices/w1_bus_master1/28-000002da8328/w1_sla <br>
<br>
And you are going see temperature in console like:<br>
6f 01 4b 46 7f ff 01 10 67: crc=67 YES<br>
6f 01 4b 46 7f ff 01 10 67 t=22937<br>
<br>
t=22937 тАФ you should divide this number on 1000 and you will have temperature in Celsius;<br>
<br>
 тАФ Raspbian Jezzy<br>
<br>
Enter command:<br>
pi@raspberrypi~$ sudo nano /boot/config.txt<br>
<br>
On next step you should write in config file <br>
dtoverlay=w1-gpio,gpiopin=4 <br>
dtoverlay=w1-gpio-pullup<br>
<br>
Then you should reboot your raspberry Pi;<br>
<br>
 тАФ I2C Real Time Clock settings:<br>
 тАФ Update your system if it needed and install i2c-tools:<br>
pi@raspberrypi~$ sudo apt-get update<br>
pi@raspberrypi~$ sudo apt-get -y upgrade<br>
pi@raspberrypi~$ sudo apt-get i2c-tools:<br>
<br>
Enter command:<br>
pi@raspberrypi~$ sudo nano /etc/modules<br>
Add these lines:<br>
i2c-bcm2708<br>
i2c-dev<br>
rtc_ds1307<br>
 <br>
Comment one line in file:<br>
pi@raspberrypi~$ sudo nano /etc/modprobe.d/raspi-blacklist.conf<br>
Add # Symbol in beginning of line<br>
<br>
blacklist i2c-bcm2708<br>
________________________________________________________<br>
Reboot system;<br>
Enter command:<br>
pi@raspberrypi~$ sudo lsmod<br>
<br>
You will see lines like:<br>
rtc_ds1307 7715 0<br>
i2c_dev 5277 0 <br>
i2c_bcm2708 4719 0<br>
________________________________________________________<br>
<br>
Get DS1307 address:<br>
pi@raspberrypi~$ sudo i2cdetect -y 1<br>
<br>
You will see table in console:<br>
<br>
0 1 2 3 4 5 6 7 8 9 a b c d e f<br>
00: тАФ -- тАФ -- тАФ -- тАФ -- тАФ -- тАФ -- тАФ 10: тАФ -- тАФ -- тАФ -- тАФ -- тАФ -- тАФ -- тАФ -- тАФ --<br>
20: тАФ -- тАФ -- тАФ -- тАФ -- тАФ -- тАФ -- тАФ -- тАФ --<br>
30: тАФ -- тАФ -- тАФ -- тАФ -- тАФ -- тАФ UU тАФ -- тАФ --<br>
40: тАФ -- тАФ -- тАФ -- тАФ -- тАФ -- тАФ -- тАФ -- тАФ --<br>
50: тАФ -- тАФ -- тАФ -- тАФ -- тАФ -- тАФ -- тАФ -- тАФ --<br>
60: тАФ -- тАФ -- тАФ -- тАФ -- 68 тАФ -- тАФ -- тАФ -- тАФ 70: тАФ -- тАФ -- тАФ -- тАФ --<br>
 <br>
In address 0x3b some device without driver and 0x68 perhaps DS1307 clock address. <br>
<br>
Enter command:<br>
echo ds1307 0x68 &gt; /sys/class/i2c-adapter/i2c-1/new_device<br>
<br>
Read clock:<br>
pi@raspberrypi~$ sudo hwclock -r<br>
<br>
Set time:<br>
pi@raspberrypi~$ sudo hwclock -w<br>
Set system time from RTC:<br>
pi@raspberrypi~$ sudo hwclock -s<br>
<br>
Automatic RTC start;<br>
Add lines in /etc/rc.local file<br>
<br>
echo ds1307 0x68 &gt; /sys/class/i2c-adapter/i2c-1/new_device<br>
sudo hwclock -s<br>
Before last line in file looks like:<br>
<br>
exit 0<br>
 тАФ Uart settings:<br>
 тАФ Back up files:<br>
cp /boot/cmdline.txt /boot/cmdline.bak<br>
cp /etc/inittab /etc/inittab.bak<br>
<br>
Delete ┬лconsole=ttyAMA0,115200┬╗  ┬лkgdboc=ttyAMA0,115200┬╗ lines from configuration file:<br>
pi@raspberrypi~$ nano /boot/cmdline.txt<br>
<br>
Comment last line looks like ┬лT0:23:respawn:/sbin/getty -L ttyAMA0 115200 vt100: in /etc/inittab file: using # symbol:<br>
pi@raspberrypi~$ nano /etc/inittab<br>
</blockquote><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рд░реНрдХрд┐рдЯ рдмреЛрд░реНрдб рдХреА рддрддреНрдХрд╛рд▓ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдереА, рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ LUT рддрдХрдиреАрдХ рдФрд░ рдХреБрдЫ рдШрдВрдЯреЛрдВ рдХреЗ рдЦрд╛рд▓реА рд╕рдордп рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕реЗ рд╕реНрд╡рдпрдВ рдмрдирд╛рдпрд╛ред </font><font style="vertical-align: inherit;">рдХрд╛рдо рдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рдиреЗ рдФрд░ рд╕рдордп рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рд╕рд░реНрдХрд┐рдЯ рдмреЛрд░реНрдб рдХреЛ рдПрдордЬреАрдПрд╕рд╡реАрд╡реА 0.5 рд╕реЗ рдЬрдВрдкрд░реНрд╕ рдХреЗ рд╕рд╛рде рдПрдХрддрд░рдлрд╛ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛ред </font><font style="vertical-align: inherit;">рдбрд┐рдкреНрд░реЗрд╕ рд╕рд░реНрдХрд┐рдЯ рдФрд░ рдкреАрд╕реАрдмреА рдбрд┐рдЬрд╝рд╛рдЗрди, рдЯреЗрд╕реНрдЯ рд╕реЛрд░реНрд╕ рдХреЛрдб, рдШрдЯрдХреЛрдВ рдХреА рд╕реВрдЪреА рдФрд░ </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдХреЗ рд▓рд┐рдП рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреБрдирд╢реНрдЪ:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рд╡реАрдбрд┐рдпреЛ рдореЗрдВ, рдмрд╣реБрдд рдкрд╣рд▓реЗ рд╕рд┐рдореБрд▓реЗрд╢рди рдмреЛрд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕реЗ 20 рдорд┐рдирдЯ рдореЗрдВ рдмрдЯрди рдФрд░ рдПрд▓рдИрдбреА рдХреЗ рд╕рд╛рде рдмреНрд░реЗрдбрдмреЛрд░реНрдб рдкрд░ рдЗрдХрдЯреНрдард╛ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдЗрд╕рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рдВрд╕реНрдХрд░рдг рджрд┐рдЦрд╛рдИ рджрд┐рдП:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/5uCV_gNWw2Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi401089/">https://habr.com/ru/post/hi401089/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi401077/index.html">рдЪреАрди рдмрд╛рджрд▓реЛрдВ рдореЗрдВ 168 рдорд┐рд▓рд┐рдпрди рдбреЙрд▓рд░ рдХрд╛ рдирд┐рд╡реЗрд╢ рдХрд░реЗрдЧрд╛ рддрд╛рдХрд┐ рджреЗрд╢ рдХреЗ рдЙрддреНрддрд░-рдкрд╢реНрдЪрд┐рдо рдореЗрдВ рдЕрдзрд┐рдХ рдмрд╛рд░рд┐рд╢ рд╣реЛ</a></li>
<li><a href="../hi401079/index.html">рд╕реНрдкрд╖реНрдЯ: рдмрд╛рдерд░реВрдо рдкреНрд░рдХрд╛рд╢ рд╡реНрдпрд╡рд╕реНрдерд╛ рдХрд╛ рд╕реНрд╡рдд: рдирд┐рдпрдВрддреНрд░рдг</a></li>
<li><a href="../hi401083/index.html">рд░реЗрдЯреНрд░реЛрдХреНрд▓реЙрдХрд┐рдВрдЧ: рдпрджрд┐ рддрд░рд▓ рдирд╛рдЗрдЯреНрд░реЛрдЬрди рдФрд░ рд╣реАрд▓рд┐рдпрдо рдХреЗ рд╕рд╛рде рдкреБрд░рд╛рдиреЗ рд▓реЛрд╣реЗ рдХреЛ "рдлрдЯрд╛" рдЬрд╛рдП рддреЛ рдХреНрдпрд╛ рд╣реЛрдЧрд╛?</a></li>
<li><a href="../hi401085/index.html">Lakhta Terra Incognita: рдПрдХ рдЧрдЧрдирдЪреБрдВрдмреА рдЗрдорд╛рд░рдд рдХреА рд╕реНрдерд┐рд░рддрд╛ рдХреЗ рд▓рд┐рдП рд▓рдбрд╝рд╛рдИ</a></li>
<li><a href="../hi401087/index.html">AI: рдмреНрд▓рдлрд╝рд┐рдВрдЧ, рдЖрдмрд╛рджреА рд╕реЗ рдкреИрд╕рд╛ рд▓реЗрдирд╛ рдФрд░ рдЕрдирд┐рд╢реНрдЪрд┐рддрддрд╛ рдХреЛ рд╣рд░рд╛рдирд╛</a></li>
<li><a href="../hi401091/index.html">2017 рдореЗрдВ 7 рдбреЗрд╕реНрдХрдЯреЙрдк рдбрд┐рдЬрд┐рдЯрд▓ рдЙрддреНрдкрд╛рдж рдлрдЯреЗ</a></li>
<li><a href="../hi401093/index.html">Sony Xperia Ear Xea10: рдЖрд╡рд╛рдЬ рд╕рд╣рд╛рдпрдХреЛрдВ рдХреЛ рдХрд╛рдиреЛрдВ рдореЗрдВ рд░реЗрдВрдЧрддреЗ рд╣реБрдП</a></li>
<li><a href="../hi401095/index.html">рдореИрдВ рддреБрдореНрд╣реЗрдВ рдХреНрдпрд╛ рджреВрдВ, рдореЗрд░реЗ рдкреНрдпрд╛рд░реЗ рдЖрджрдореА?</a></li>
<li><a href="../hi401097/index.html">рдирдП рд╕реНрдкреЗрдХреНрдЯреНрд░рдо рд╕реЗ рдорд┐рд▓реЛ</a></li>
<li><a href="../hi401101/index.html">рд╣рдЯрд╛рдП рдЧрдП рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдбреНрд░реЙрдкрдмреЙрдХреНрд╕ рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рд╡рд╛рдкрд╕ рд▓реМрдЯрдирд╛ рд╢реБрд░реВ рд╣реБрдЖред рдмрдЧ рдареАрдХ рдХрд┐рдпрд╛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>