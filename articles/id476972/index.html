<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛍️ 🌸 👩🏿 Deno: Node.JS waktunya hampir habis? 👩🏽‍🤝‍👩🏼 👲 🤑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sekitar 18 bulan telah berlalu sejak rilis internal Deno, rilis pratinjau telah dirilis, beberapa artikel telah muncul di Habré, dan Ryan pergi ke kon...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Deno: Node.JS waktunya hampir habis?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476972/"><p><img src="https://habrastorage.org/webt/ph/0g/t5/ph0gt5rsvagsf2ysoqple3gg7oo.png"></p><br><p>  Sekitar 18 bulan telah berlalu sejak rilis internal Deno, rilis pratinjau telah dirilis, beberapa artikel telah muncul di Habré, dan Ryan pergi ke konferensi dan berbicara tentang dia.  Namun, saya belum pernah melihat analisis mendalam tentang proyek ini di mana pun - untuk beberapa alasan semua orang terbatas pada menerjemahkan dokumentasi ... </p><br><p> Baiklah, mari kita coba lakukan sekarang.  Selama 5 tahun terakhir saya telah menulis di Node.JS, dan perusahaan OneTwoTrip, tempat saya bekerja sekarang, telah menulis proyek pada node selama sekitar 9 tahun (ya, saya menulis cerita sekitar <a href="https://habr.com/ru/post/459206/">9 tahun dalam monolit pada node</a> ).  Jadi analisisnya harus bagus.  Selain itu, saya sudah memberi tahu dia di <a href="https://axept.timepad.ru/event/1110942/">Moscow Node.JS Meetup 10</a> , dan itu menarik.  Omong-omong, jika lebih mudah bagi Anda untuk mendengarkan, tidak membaca, maka Anda <a href="https://youtu.be/4414kjKYekM">dapat</a> mendengarkan dan menonton di <a href="https://youtu.be/4414kjKYekM">sini</a> .  Pidato kedua saya, saya seorang pria dengan kemeja merah muda. </p><a name="habracut"></a><br><p>  Anehnya, untuk memahami dari mana proyek itu berasal dan mengapa, perlu untuk jatuh ke masa lalu.  Jadi kami melempar beberapa plutonium, menaikkan pintu delorean kami, dan memulai perjalanan - lihat 10 tahun penting yang membuat Node. Apa yang kita lihat sekarang. </p><br><p><img src="https://habrastorage.org/webt/sv/f7/xa/svf7xamhyfsi4rzxzdkwxlkfum0.jpeg"></p><br><h2 id="vperyod-v-proshloe">  Maju ke masa lalu </h2><br><h3 id="2009">  2009 </h3><br><p>  Ryan Dahl mengumumkan Node.JS, ini <a href="https://www.youtube.com/watch%3Fv%3DztspvPYybIY">dia</a> - presentasi pertama di JSConf 2009. </p><br><h3 id="2010">  2010 </h3><br><p>  Express, socket.io muncul - batu bata utama saat ini hampir semua layanan. </p><br><p>  Ada orang gila yang benar-benar menulis kode server tentang ini! </p><br><h3 id="2011">  2011 </h3><br><p>  Orang-orang besar mulai menggoda dengan Node.JS - termasuk Uber dan Linkedin. </p><br><p>  Npm 1.0 rilis. </p><br><p>  Node mulai bekerja di Windows. </p><br><h3 id="2012">  2012 </h3><br><p>  Ryan menjauh dari pengembangan Node.JS.  <strong>Ingat</strong> .  Itu tahun 2012.  Jadi Ryan tentu pencipta, dan telah melakukan banyak hal untuk ekosistem - tetapi 7 tahun berikutnya berlalu <strong>tanpa</strong> partisipasinya. </p><br><h3 id="2013">  2013 </h3><br><p>  Simpul di Paypal, Walmart, eBay. </p><br><p>  Koa muncul - ingat berapa banyak salinan yang rusak tentang generator? </p><br><h3 id="2014">  2014 </h3><br><p>  Node di Netflix.  Upaya mulai memformalkan proyek menjadi sesuatu yang lebih matang, dengan model terbuka untuk mengelola dewan penasihat.  Ada stagnasi teknis yang mengarah ke persimpangan io.js. </p><br><h3 id="2015">  2015 </h3><br><p>  Bekerja pada bug.  Penggabungan io.js dan Node dalam ekstasi di bawah naungan Node Foundation dan pelepasan Node 4. Saya harus mengatakan, ini adalah versi yang saya anggap sebagai yang pertama di mana sangat mungkin untuk mengembangkan sesuatu.  Jika seseorang menulis pada versi 0.xx - maka Anda ingat tentang var, panggilan balik neraka, sekelompok perpustakaan yang berbeda untuk menyederhanakan pekerjaan asinkron (seperti langkah dan async. Ya, async tidak hanya menunggu async, tetapi juga perpustakaan npm). </p><br><h3 id="2016">  2016 </h3><br><p>  Insiden dengan panel kiri, yang masih lidah jahat mengingatkan ekosistem.  Berapa banyak artikel dan serangan.  Baik pembenci akan membenci.  Namun, pelajaran penting dari ini telah dipelajari. </p><br><h3 id="2017">  2017 </h3><br><p>  Tahun terobosan.  Saya tidak akan menyebutkan semua rilis node dan peningkatan jumlah instalasi modul dengan npm, namun tahun ini jumlah layanan di Node.JS melebihi 8 juta, dan jumlah instalasi adalah 3 miliar per minggu.  Benar-benar tokoh kosmik yang sulit dibayangkan. </p><br><p>  N-API juga muncul, dan Node.JS bercabang dua lagi di Ayo.js.  Sebuah cerita yang sangat lucu dan instruktif tentang SJW - layak artikel yang terpisah, jadi saya tidak akan memikirkannya - saya hanya merekomendasikan membacanya di waktu luang Anda.  Hanya untuk prospoiler garpu itu mati dengan aman. </p><br><h3 id="2018">  2018 </h3><br><p>  Histeria massal kedua sejak kiri - sekarang tentang bagaimana peristiwa-aliran mencuri bitcoin.  Ratusan pos tentang kerawanan ekosistem.  Posting fantasi tentang bagaimana paket npm mencuri informasi kartu kredit.  Masyarakat menyemprot lumpur seperti selang.  Harus saya katakan, itu sangat berguna, dan kesimpulan juga dibuat - tentang mereka sedikit kemudian. </p><br><p>  Juga, Ryan tiba-tiba meledakkan posting komunitas tentang fakta bahwa layanan serius layak ditulis di Go, menjelaskan 10 hal di Node yang ia sesali, dan mengumumkan Deno, yang menyelesaikan semua masalah. </p><br><h3 id="2019">  2019 </h3><br><p>  Deno pergi ke rilis pratinjau, banyak artikel muncul di hub, dan sekarang Anda membaca salah satunya. </p><br><p><img src="https://habrastorage.org/webt/r2/df/4i/r2df4igff7g0bhkz6a0sl0hq_cs.jpeg"></p><br><h2 id="nazad-v-nastoyaschee">  Kembali ke masa sekarang </h2><br><p>  Saya berharap bahwa setelah tur ini menjadi lebih jelas seperti apa bintik-bintik sakit yang dimiliki ekosistem dan bagaimana ia berkembang - dengan konteks ini, akan lebih mudah untuk memahami apa yang terjadi sekarang. </p><br><h2 id="10-veschey-v-nodejs-o-kotoryh-sozhaleet-rayan-dal">  10 hal yang disesalkan Ryan Dahl tentang Node.JS </h2><br><p>  Sayangnya, saya tidak menemukan artikel itu dengan terjemahan laporan itu, jadi saya akan menuliskannya di sini sebentar, dan di sini saya akan berkomentar. </p><br><ol><li>  <strong>Kurangnya dukungan untuk janji di awal perjalanan</strong> .  Ya, akan lebih mudah jika Ryan tidak menepati janji, menganggapnya sebagai komplikasi tambahan yang tidak lepas landas pada awal pengembangan node.  Kehilangan waktu untuk semua panggilan balik ini tentu saja sangat disayangkan - tetapi pada tahun 2019, semua perpustakaan waras memiliki janji sebagai antarmuka utama.  Selain itu, bahkan perpustakaan sistem akhirnya memberikan janji. </li><li>  <strong>Keamanan panggilan sistem dan panggilan jaringan.</strong>  Di satu sisi - ya, itu baik ketika semuanya aman.  Di sisi lain, tidak jelas bagaimana dalam hal ini simpul tersebut ternyata lebih buruk daripada media lainnya .... </li><li>  <strong>Bangun modul asli menggunakan GYP.</strong>  Ya, mungkin itu berlebihan, tetapi siapa yang tahu bahwa krom akan meninggalkannya.  Lagi - jika kromnya hilang, maka kita juga bisa pergi .... </li><li>  <strong>Package.json berlebihan</strong>  <strong>NPM sebagai register monopoli.</strong>  Argumen tentang package.json agak aneh.  Misalnya, Ryan mengatakan bahwa ada sampah di sana seperti lisensi.  Tetapi jika itu tidak ada di sana, bagaimana Anda bisa dengan cepat mengetahui lisensi dari modul yang digunakan dalam proyek Anda? .. Argumen tentang NPM lebih seperti kebenaran, tetapi kami akan membahas ini lebih terinci nanti. </li><li>  <strong>Modul simpul.</strong>  <strong>Resolusi dependensi yang kompleks tidak berfungsi seperti di browser.</strong>  Ya itu benar.  Ketergantungan stabil mulai diletakkan tanpa mukjizat hanya pada versi 4-5 npm.  Tetapi mekanismenya bekerja, dan memungkinkan Anda untuk melakukan hal-hal luar biasa - pada saat ini baik-baik saja.  Adapun kompatibilitas dengan browser, apa pun yang Anda lakukan, masih akan ada tahapan pemrosesan kode seperti kompilasi dan pengumpulan bundel.  Jadi, modul simpul tidak mungkin memiliki makna dalam konteks ini. </li><li>  <strong>Membutuhkan tanpa ekstensi dan ketidakpastiannya</strong> .  Ya, mungkin buruk.  Tetapi tidak cukup untuk menyebutkannya ... </li><li>  <strong>index.js sebagai komplikasi yang tidak perlu.</strong>  Juga terlalu sepele dan membosankan untuk dijelaskan. </li></ol><br><p>  Ngomong-ngomong, ingatlah, saya mengatakan bahwa Ryan menyesali 10 hal, tetapi hanya 7 poin. Ini bukan kesalahan, saya meninjau laporannya beberapa kali dan ulasan laporan.  Entah itu lelucon rumit tentang topik pemrosesan nilai numerik, atau Ryan terlalu malu untuk menyebutkan 3 poin lagi ... </p><br><p>  Tapi baiklah, kami memahami masalahnya, dan melanjutkan.  Secara logis, di Deno, Ryan memutuskan untuk menyingkirkan semua masalah Node.JS.  Mari kita lihat apa yang terjadi padanya. </p><br><h2 id="iz-chego-sostoit-deno">  Terdiri dari apa Deno </h2><br><ol><li>  Deno ditulis dalam Karat. </li><li>  Sebagai loop Peristiwa, Deno menggunakan Tokio, ditulis lagi dalam Rust. </li><li>  Deno mendukung naskah dalam kotak. </li><li>  Nah, kode dieksekusi menggunakan V8 yang sama, yang menangkap seluruh dunia. </li></ol><br><p>  Sepintas kedengarannya bagus, tapi mari kita lihat lebih dekat pada poin-poin ini. </p><br><p>  <strong>Karat</strong> .  Tidak, tolong mengerti saya dengan benar - Saya percaya bahwa Rust dan Go adalah bahasa yang luar biasa, dan saya sangat senang mereka melakukannya.  Mereka memungkinkan untuk menulis kode tingkat rendah lebih cepat dan lebih aman daripada di C ++.  Namun, ada nuansa - dalam kasus terbaik, itu tidak akan lebih lambat daripada implementasi di C ++.  Jadi saya pribadi tidak melihat titik penulisan analog lengkap untaian sistem dan loop peristiwa - tidak mungkin membawa manfaat nyata, karena ini adalah hal-hal yang pada titik tertentu hanya mencapai keadaan optimal dan tidak benar-benar dioptimalkan lebih lanjut. </p><br><p>  <strong>TypeScript</strong>  Sekali lagi - Saya tidak menentang TS.  Sejumlah besar perusahaan dan pengembang menggunakannya, dan itu sudah menunjukkan nilainya.  Tetapi Deno hanya menyembunyikan transpiler dalam biner, dan kode yang diubah dalam direktori khusus.  Artinya, semuanya sama di bawah tenda, dan tidak ada manfaatnya, kecuali untuk estetika.  Tapi ada minus - versi transpiler dipaku dengan erat ke versi Deno.  Saya tidak yakin ini bagus - mudah membayangkan situasi di mana Anda ingin memperbarui transpiler atau runtime.  Namun tidak keduanya sekaligus. </p><br><p>  Jadi sementara tidak ada yang enak terlihat.  Mari kita melangkah lebih jauh, lihat fitur-fitur utamanya. </p><br><h2 id="osnovnye-otlichiya-deno-i-nodejs">  Perbedaan utama antara Deno dan Node.JS </h2><br><h3 id="deno-ne-ispolzuet-npm-net-centralizovannogo-reestra-moduli-importiruyutsya-po-url-net-packagejson">  Deno tidak menggunakan npm.  Tidak ada registry pusat.  Modul diimpor oleh URL.  Tidak ada package.json. </h3><br><p>  Artinya, kode tersebut terlihat seperti ini: </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { test, runIfMain } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"https://deno.land/std/testing/mod.ts"</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { assertEquals } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"https://deno.land/std/testing/asserts.ts"</span></span>;

test(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">t1</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{
  assertEquals(<span class="hljs-string"><span class="hljs-string">"hello"</span></span>, <span class="hljs-string"><span class="hljs-string">"hello"</span></span>);
});
</code></pre><br>
<p>      ,    .        .  ,       .       :</p><br>
<ol>
<li>      .         ,    ,      . .  ,     :<br>
1.1.  ,      ,      .<br>
1.2.    ,       ,    ,       .<br>
1.3.       ,         .       2012 ,  npm  ,  ?     , " "?</li>
<li> ,  .      github, gitlab,    ,       .   .   .  npm , ,  —   ,     ?       —   .     Entropic, , ,   —    .</li>
</ol><br>
<p>     .    ,     -       (       ) —   …        …    2019? ,    ,   2012   Node.JS   shrinkwrap,   lock file?      ,   ?</p><br>
<p>  ,    URL —     ,    —     .</p><br>
<h3 id="vse-asinhronnye-operacii-v-deno-vozvraschayut-promise">    Deno  Promise.</h3><br>
<p>  , .   2012      —          .        .     -  .</p><br>
<h3 id="deno-vsegda-zavershaet-rabotu-na-uncaught-errors">Deno     Uncaught Errors</h3><br>
<p>      .  Node.JS       .    .</p><br>
<h3 id="ispolzuyutsya-es-modules-a-ne-require"> ES Modules,   require</h3><br>
<p>, ,        .  ,  Node.JS     ES Modules...</p><br>
<h3 id="deno-trebuet-razresheniya-na-rabotu-s-setyu-faylami-i-peremennymi-okruzheniya">Deno      ,    .</h3><br>
<p> !  …  —     allow-read, allow-net, allow-run, allow-env.   - :</p><br>
<pre><code class="bash hljs">deno --allow-read=/etc https://deno.land/std/examples/cat.ts /etc/passwd</code></pre><br>
<p>      :</p><br>
<ol>
<li>        .</li>
<li> ,          --allow-all.</li>
<li>        .      .    ,                ,    .       .   ,     —   .</li>
<li>  .    ,     ,      .      .  ,     2019       2012,      —        ...</li>
</ol><br>
<h2 id="nashe-vremya-nashi-dni-npm"> .  . NPM.</h2><br>
<p><img src="https://habrastorage.org/webt/zk/gz/ei/zkgzeiqxfwe_gxqhgbndrhi3sem.png"></p><br>
<p>      ,    npm  2012 :</p><br>
<ol>
<li>  .      .</li>
<li>Lock file   .</li>
<li>  .    github, snyk   npm.</li>
<li>    .</li>
<li>  .</li>
<li>       — , ,  .</li>
<li>  .</li>
</ol><br>
<p>   npm  … ,         .  ,  ,   …   " ",        — facebook, google, microsoft, gitlab…         ,  npm       .</p><br>
<h2 id="podvodya-itogi"> </h2><br>
<p>  :</p><br>
<ol>
<li>Rust —  .</li>
<li>TypeScript —  .</li>
<li>   URL  NPM —    .</li>
<li>  —  .</li>
<li>  .   .  .  !</li>
</ol><br>
<p><img src="https://habrastorage.org/webt/qw/v8/qc/qwv8qcrwbqujdxridpefbeet4-0.png"></p><br>
<p>         Deno.     " ,  " — ,     ,  Deno   —      .</p><br>
<p>     ,    ,    ,     ,       .    Deno  , ,      Moscow Node.JS Meetup —       .        — ,     -     ?</p></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id476972/">https://habr.com/ru/post/id476972/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id476948/index.html">Lintasan kuantum dan apa yang mereka makan</a></li>
<li><a href="../id476954/index.html">Bekerja bukan serigala, bagian 3. Pemula - tumbuh atau bertahan?</a></li>
<li><a href="../id476956/index.html">Sudut tanpa zone.js: kinerja maksimum</a></li>
<li><a href="../id476958/index.html">Omega Red + PS1 Emulator = Kojima Genius</a></li>
<li><a href="../id476970/index.html">Rapat EkbDotNet No. 1 - Yekaterinburg Bergabung dengan Komunitas DotNet.Ru</a></li>
<li><a href="../id476974/index.html">Pelajari Desain Web Responsif dalam 5 Menit</a></li>
<li><a href="../id476976/index.html">6 kesalahan berbicara di depan umum di konferensi</a></li>
<li><a href="../id476980/index.html">Apa itu Dukungan Hukum: rekomendasi untuk pengacara perusahaan IT</a></li>
<li><a href="../id476982/index.html">Pengembang di situs jarak jauh - dari awal hingga pahlawan</a></li>
<li><a href="../id476984/index.html">Kasus dari Narcade: Pengembang Turki berbicara tentang pelokalan game mobile dan pasar game Turki</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>