<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐บ ๐จ๐ฝโโ๏ธ ๐๐ฟ ููุชุจ ูุธุงู ุงูุชุดุบูู ุนูู ุงูุตุฏุฃ. ุชูุธูู ุงูุตูุญุฉ ูู ุงูุฐุงูุฑุฉ ๐ โ๏ธ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ูุฐู ุงูููุงูุฉ ุ ููุฏู ุตูุญุงุช ุ ูุธุงู ุฅุฏุงุฑุฉ ุฐุงูุฑุฉ ุดุงุฆุน ุฌุฏูุง ูุทุจูู ุฃูุถูุง ุนูู ูุธุงู ุงูุชุดุบูู ุงูุฎุงุต ุจูุง. ุชุดุฑุญ ุงูููุงูุฉ ุณุจุจ ุงูุญุงุฌุฉ ุฅูู ุนุฒู ุงูุฐุงูุฑุฉ ุ ูููููุฉ ุนูู ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ููุชุจ ูุธุงู ุงูุชุดุบูู ุนูู ุงูุตุฏุฃ. ุชูุธูู ุงูุตูุญุฉ ูู ุงูุฐุงูุฑุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436606/" style=";text-align:right;direction:rtl">  ูู ูุฐู ุงูููุงูุฉ ุ ููุฏู <i>ุตูุญุงุช</i> ุ ูุธุงู ุฅุฏุงุฑุฉ ุฐุงูุฑุฉ ุดุงุฆุน ุฌุฏูุง ูุทุจูู ุฃูุถูุง ุนูู ูุธุงู ุงูุชุดุบูู ุงูุฎุงุต ุจูุง.  ุชุดุฑุญ ุงูููุงูุฉ ุณุจุจ ุงูุญุงุฌุฉ ุฅูู ุนุฒู ุงูุฐุงูุฑุฉ ุ ูููููุฉ ุนูู <i>ุงูุชุฌุฒุฆุฉ</i> ุ ููุง <i>ูู ุงูุฐุงูุฑุฉ ุงูุงูุชุฑุงุถูุฉ ุ</i> ูููู ุชุญู ุงูุตูุญุงุช ูุดููุฉ ุงูุชุฌุฒุฆุฉ.  ูุณุชูุดู ุฃูุถูุง ูุฎุทุท ุฌุฏุงูู ุงูุตูุญุงุช ูุชุนุฏุฏุฉ ุงููุณุชููุงุช ูู ุจููุฉ x86_64. <br><br>  ุชู ูุดุฑ ูุฐู ุงููุฏููุฉ ุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌูุซุจ</a> .  ุฅุฐุง ูุงู ูุฏูู ุฃู ุฃุณุฆูุฉ ุฃู ูุดุงูู ุ ุงูุชุญ ุงูุทูุจ ุงูููุงุจู ููุงู. <br><a name="habracut"></a><br><h1 style=";text-align:right;direction:rtl">  ุญูุงูุฉ ุงูุฐุงูุฑุฉ </h1><br>  ุฅุญุฏู ุงูููุงู ุงูุฑุฆูุณูุฉ ููุธุงู ุงูุชุดุบูู ูู ุนุฒู ุงูุจุฑุงูุฌ ุนู ุจุนุถูุง ุงูุจุนุถ.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฌุจ ุฃูุง ูุชุฏุงุฎู ุงููุณุชุนุฑุถ ูุน ูุญุฑุฑ ุงููุตูุต.  ููุงู ุทุฑู ูุฎุชููุฉ ุญุณุจ ุงูุฃุฌูุฒุฉ ูุชุทุจูู ูุธุงู ุงูุชุดุบูู. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ุชุญุชูู ุจุนุถ ูุนุงูุฌุงุช ARM Cortex-M (ูู ุงูุฃูุธูุฉ ุงููุถูููุฉ) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><i>ุนูู ูุญุฏุฉ ุญูุงูุฉ ููุฐุงูุฑุฉ</i></a> (MPU) ุชุญุฏุฏ ุนุฏุฏูุง ุตุบูุฑูุง (ุนูู ุณุจูู ุงููุซุงู ุ 8) ูู ููุงุทู ุงูุฐุงูุฑุฉ ุจุฃุฐููุงุช ูุตูู ูุฎุชููุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ูุง ููุฌุฏ ูุตูู ุ ูููุฑุงุกุฉ ููุท ุ ูุฑุงุกุฉ ู ุงูุณุฌูุงุช).  ูู ูู ูุฑุฉ ูุชู ุงููุตูู ุฅูู ุงูุฐุงูุฑุฉ ุ ุชุถูู ูุญุฏุฉ MPU ุฃู ุงูุนููุงู ููุฌูุฏ ูู ุงูููุทูุฉ ูุน ุงูุฃุฐููุงุช ุงูุตุญูุญุฉ ุ ูุฅูุง ูุฅูู ูููู ุงุณุชุซูุงุก.  ูู ุฎูุงู ุชุบููุฑ ุงููุทุงู ูุฃุฐููุงุช ุงููุตูู ุ ูุถูู ูุธุงู ุงูุชุดุบูู ุฃู ูู ุนูููุฉ ูุฏููุง ูุตูู ููุท ุฅูู ุฐุงูุฑุชูุง ูู ุฃุฌู ุนุฒู ุงูุนูููุงุช ุนู ุจุนุถูุง ุงูุจุนุถ. <br><br>  ูู x86 ุ ูุชู ุฏุนู ุทุฑููุชูู ูุฎุชููุชูู ูุญูุงูุฉ ุงูุฐุงูุฑุฉ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุฌุฒุฆุฉ</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงูุชุฑุญูู</a> . <br><br><h1 style=";text-align:right;direction:rtl">  ุชุฌุฒุฆุฉ </h1><br>  ุชู ุชูููุฐ ุงูุชูุณูู ูุฑุฉ ุฃุฎุฑู ูู ุนุงู 1978 ุ ูู ุงูุจุฏุงูุฉ ูุฒูุงุฏุฉ ููุฏุงุฑ ุงูุฐุงูุฑุฉ ุนูููุฉ.  ูู ุฐูู ุงูููุช ุ ูุงูุช ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุชุฏุนู ุนูุงููู 16 ุจุช ููุท ุ ููุง ุญุฏ ูู ูููุฉ ุงูุฐุงูุฑุฉ ุงููุงุจูุฉ ููุชูุฌูู ุฅูู 64 ูููู ุจุงูุช.  ูุฒูุงุฏุฉ ูุฐุง ุงูุญุฌู ุ ุชู ุชูุฏูู ุณุฌูุงุช ูุทุนุฉ ุฅุถุงููุฉ ุ ูู ูููุง ูุญุชูู ุนูู ุนููุงู ุฅุฒุงุญุฉ.  ุชุถูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูุฐู ุงูุฅุฒุงุญุฉ ุชููุงุฆููุง ุนูุฏ ูู ูุตูู ุฅูู ุงูุฐุงูุฑุฉ ุ ูุจุงูุชุงูู ูุนุงูุฌุฉ ูุง ูุตู ุฅูู 1 ููุบุงุจุงูุช ูู ุงูุฐุงูุฑุฉ. <br><br>  ุชููู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุชููุงุฆููุง ุจุชุญุฏูุฏ ุณุฌู ูุทุนุฉ ุงุนุชูุงุฏูุง ุนูู ููุน ุงููุตูู ุฅูู ุงูุฐุงูุฑุฉ: ูุชู ุงุณุชุฎุฏุงู ุณุฌู ูุทุนุฉ ููุฏ <code>CS</code> ูุชููู ุงูุฅุฑุดุงุฏุงุช ุ ููุณุชุฎุฏู ุณุฌู ุดุฑูุญุฉ ููุฏุณ <code>SS</code> ูุนูููุงุช ุงูููุฏุณ (ุงูุถุบุท / ุงูุจูุจ).  ุฅุฑุดุงุฏุงุช ุฃุฎุฑู ุงุณุชุฎุฏู ุณุฌู ููุทุน ุจูุงูุงุช <code>DS</code> ุฃู ุณุฌู ููุทุน <code>ES</code> ุงูุงุฎุชูุงุฑู.  ูู ููุช ูุงุญู ุ ุชู ุฅุถุงูุฉ ุงุซููู ูู ุณุฌูุงุช ุงููุทุงุน <code>FS</code> ู <code>GS</code> ููุงุณุชุฎุฏุงู ุงููุฌุงูู. <br><br>  ูู ุงูุฅุตุฏุงุฑ ุงูุฃูู ูู ุงูุชุฌุฒุฆุฉ ุ ุงุญุชูุช ุงูุณุฌูุงุช ูุจุงุดุฑุฉู ุนูู ุงูุฅุฒุงุญุฉ ููู ูุชู ุฅุฌุฑุงุก ุงูุชุญูู ูู ุงููุตูู.  ูุน ุธููุฑ <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุถุน ุงููุญูู ุ</a></i> ุชุบูุฑุช ุงูุขููุฉ.  ุนูุฏูุง ุชุนูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูู ูุฐุง ุงููุถุน ุ ุชุฎุฒู ูุงุตูุงุช ุงููุทุนุฉ ุงูููุฑุณ ูู ุฌุฏูู ูุงุตู ูุญูู ุฃู ุนุงููู ุ ูุงูุฐู ูุญุชูู ุจุงูุฅุถุงูุฉ ุฅูู ุนููุงู ุงูุฅุฒุงุญุฉ ุนูู ุญุฌู ุงููุทุนุฉ ูุฃุฐููุงุช ุงููุตูู.  ุนู ุทุฑูู ุชุญููู ุฌุฏุงูู ูุตู ุนุงู / ูุญูู ูููุตูุฉ ููู ุนูููุฉ ุ ูููู ููุธุงู ุงูุชุดุบูู ุนุฒู ุงูุนูููุงุช ุนู ุจุนุถูุง ุงูุจุนุถ. <br><br>  ูู ุฎูุงู ุชุบููุฑ ุนูุงููู ุงูุฐุงูุฑุฉ ูุจู ุงููุตูู ุงููุนูู ุ ุทุจู ุงูุชุฌุฒูุก ุทุฑููุฉ ูุชู ุงุณุชุฎุฏุงููุง ุงูุขู ูู ูู ููุงู ุชูุฑูุจูุง: ุฅููุง <i>ุฐุงูุฑุฉ ุงูุชุฑุงุถูุฉ</i> . <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฐุงูุฑุฉ ุงูุงูุชุฑุงุถูุฉ </h3><br>  ููุฑุฉ ุงูุฐุงูุฑุฉ ุงูุงูุชุฑุงุถูุฉ ูู ุชุฌุฑูุฏ ุนูุงููู ุงูุฐุงูุฑุฉ ูู ุฌูุงุฒ ูุนูู.  ุจุฏูุงู ูู ุงููุตูู ูุจุงุดุฑุฉ ุฅูู ุฌูุงุฒ ุงูุชุฎุฒูู ุ ูุชู ุชูููุฐ ุฎุทูุฉ ุงูุชุญููู ุฃููุงู.  ูู ุญุงูุฉ ุงูุชุฌุฒุฆุฉ ุ ุชุชู ุฅุถุงูุฉ ุนููุงู ุงูุฅุฒุงุญุฉ ููุฌุฒุก ุงููุดุท ูู ูุฑุญูุฉ ุงูุชุฑุฌูุฉ.  ุชุฎูู ุงูุจุฑูุงูุฌ ุงูุฐู ูุตู ุฅูู ุนููุงู ุงูุฐุงูุฑุฉ <code>0x1234000</code> ูู ูุทุนุฉ ูุน ุฅุฒุงุญุฉ <code>0x1111000</code> : ูู ุงููุงูุน ุ ููุชูู ุงูุนููุงู ุฅูู <code>0x2345000</code> . <br><br>  ููุชูููุฒ ุจูู ููุนูู ูู ุงูุนูุงููู ุ ุชุณูู ุงูุนูุงููู ูุจู ุงูุชุญููู " <i>ุงูุชุฑุงุถูุฉ"</i> ุ ูุชุณูู ุงูุนูุงููู ุจุนุฏ ุงูุชุญููู " <i>ุงููุนูู"</i> .  ููุงู ุงุฎุชูุงู ููู ูุงุญุฏ ุจููููุง: ุงูุนูุงููู ุงููุนููุฉ ูุฑูุฏุฉ ูู ููุนูุง ูุชุดูุฑ ุฏุงุฆููุง ุฅูู ููุณ ุงููููุน ุงููุฑูุฏ ูู ุงูุฐุงูุฑุฉ.  ุงูุนูุงููู ุงูุงูุชุฑุงุถูุฉ ุ ูู ูุงุญูุฉ ุฃุฎุฑู ุ ุชุนุชูุฏ ุนูู ูุธููุฉ ุงูุชุฑุฌูุฉ.  ูุฏ ูุดูุฑ ุนููุงูุงู ุงูุชุฑุงุถูุงู ูุฎุชููุงู ุฅูู ููุณ ุงูุนููุงู ุงููุนูู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูููู ุฃู ุชุดูุฑ ุงูุนูุงููู ุงูุงูุชุฑุงุถูุฉ ุงููุชุทุงุจูุฉ ุฅูู ุนูุงููู ูุนููุฉ ูุฎุชููุฉ ุจุนุฏ ุงูุชุญููู. <br><br>  ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู ุงููููุฏ ููุฐู ุงูุฎุงุตูุฉ ูู ุงูุชุดุบูู ุงููุชูุงุฒู ูููุณ ุงูุจุฑูุงูุฌ ูุฑุชูู: <br><br><img src="https://habrastorage.org/webt/qm/zz/nz/qmzznz4rei5d-xxygzcabu2latw.png"><br><br>  ููุง ุ ูุชู ุชุดุบูู ุงูุจุฑูุงูุฌ ููุณู ูุฑุชูู ุ ูููู ูุน ูุธุงุฆู ุชุญููู ูุฎุชููุฉ.  ูุฏู ุงููุซูู ุงูุฃูู ุฅุฒุงุญุฉ ูุทุงุนูุฉ ูุฏุฑูุง 100 ุ ูุฐูู ูุชู ุชุญููู ุนูุงููููุง ุงูุงูุชุฑุงุถูุฉ 0-150 ุฅูู ุนูุงููู ูุนููุฉ 100-250.  ูุฏู ุงููุซูู ุงูุซุงูู ุฅุฒุงุญุฉ 300 ุ ูุงูุฐู ูุชุฑุฌู ุงูุนูุงููู ุงูุงูุชุฑุงุถูุฉ 0-150 ุฅูู ุนูุงููู ูุนููุฉ 300-450.  ูุฐุง ูุณูุญ ูููุง ุงูุจุฑูุงูุฌูู ุจุชูููุฐ ููุณ ุงูููุฏ ูุงุณุชุฎุฏุงู ููุณ ุงูุนูุงููู ุงูุงูุชุฑุงุถูุฉ ุฏูู ุงูุชุฏุฎู ูู ุจุนุถููุง ุงูุจุนุถ. <br><br>  ููุฒุฉ ุฃุฎุฑู ูู ุฃูู ูููู ุงูุขู ูุถุน ุงูุจุฑุงูุฌ ูู ุฃูุงูู ุนุดูุงุฆูุฉ ุนูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ.  ูุจุงูุชุงูู ุ ูุณุชุฎุฏู ูุธุงู ุงูุชุดุบูู ูุงูู ููุฏุงุฑ ุงูุฐุงูุฑุฉ ุงููุชููุฑุฉ ุฏูู ุงูุญุงุฌุฉ ุฅูู ุฅุนุงุฏุฉ ุชุฑุฌูุฉ ุงูุจุฑุงูุฌ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุชูุชุช </h3><br>  ุงููุฑู ุจูู ุงูุนูุงููู ุงูุงูุชุฑุงุถูุฉ ูุงููุงุฏูุฉ ูู ุฅูุฌุงุฒ ุญูููู ููุชุฌุฒุฆุฉ.  ูููู ููุงู ูุดููุฉ.  ุชุฎูู ุฃููุง ูุฑูุฏ ุชุดุบูู ุงููุณุฎุฉ ุงูุซุงูุซุฉ ูู ุงูุจุฑูุงูุฌ ุงูุชู ุฑุฃููุงูุง ุฃุนูุงู: <br><br><img src="https://habrastorage.org/webt/rr/np/1m/rrnp1m95lefyki9vwhnwe4uocom.png"><br><br>  ุนูู ุงูุฑุบู ูู ูุฌูุฏ ูุณุงุญุฉ ูุงููุฉ ูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ุ ุฅูุง ุฃู ุงููุณุฎุฉ ุงูุซุงูุซุฉ ูุง ุชูุงุณุจ ุฃู ููุงู.  ุงููุดููุฉ ูู ุฃูู ูุญุชุงุฌ ุฅูู ุฌุฒุก <i>ูุชูุงุตู</i> ูู ุงูุฐุงูุฑุฉ ููุง ูููููุง ุงุณุชุฎุฏุงู ุฃูุณุงู ุญุฑุฉ ูููุตูุฉ. <br><br>  ุชุชูุซู ุฅุญุฏู ุทุฑู ููุงูุญุฉ ุงูุชุฌุฒุค ูู ุฅููุงู ุชูููุฐ ุงูุจุฑูุงูุฌ ูุคูุชูุง ุ ูููู ุฃุฌุฒุงุก ุงูุฐุงูุฑุฉ ุงููุณุชุฎุฏูุฉ ุฃูุฑุจ ุฅูู ุจุนุถูุง ุงูุจุนุถ ุ ูุชุญุฏูุซ ุงูุชุญููู ุ ุซู ุงุณุชุฆูุงู ุงูุชูููุฐ: <br><br><img src="https://habrastorage.org/webt/hd/rm/zo/hdrmzooae2xt4huangnbzebq3o0.png"><br><br>  ุงูุขู ููุงู ูุณุงุญุฉ ูุงููุฉ ูุฅุทูุงู ุงููุซูู ุงูุซุงูุซ. <br><br>  ุนูุจ ูุฐุง ุฅูุบุงุก ุงูุชุฌุฒุฆุฉ ูู ุงูุญุงุฌุฉ ุฅูู ูุณุฎ ูููุงุช ูุจูุฑุฉ ูู ุงูุฐุงูุฑุฉ ุ ููุง ูููู ูู ุงูุฃุฏุงุก.  ูุฌุจ ุชูููุฐ ูุฐุง ุงูุฅุฌุฑุงุก ุจุงูุชุธุงู ุญุชู ุชุตุจุญ ุงูุฐุงูุฑุฉ ูุฌุฒุฃุฉ ุฌุฏูุง.  ูุตุจุญ ุงูุฃุฏุงุก ุบูุฑ ูุชููุน ุ ูุชุชููู ุงูุจุฑุงูุฌ ูู ุฃู ููุช ููุฏ ุชุชููู ุนู ุงูุงุณุชุฌุงุจุฉ. <br><br>  ุงูุชูุชุช ูู ุฃุญุฏ ุฃุณุจุงุจ ุนุฏู ุงุณุชุฎุฏุงู ุงูุชุฌุฒุฆุฉ ูู ูุนุธู ุงูุฃูุธูุฉ.  ูู ุงููุงูุน ุ ูู ูุนุฏ ูุฏุนูููุง ุญุชู ูู ูุถุน 64 ุจุช ุนูู x86.  ุจุฏูุงู ูู ุงูุชุฌุฒุฆุฉ ุ ูุชู ุงุณุชุฎุฏุงู ุงูุตูุญุงุช ุงูุชู ุชูุถู ุชูุงููุง ุนูู ูุดููุฉ ุงูุชุฌุฒุฆุฉ. <br><br><h1 style=";text-align:right;direction:rtl">  ุชูุธูู ุงูุตูุญุฉ ูู ุงูุฐุงูุฑุฉ </h1><br>  ูุงูููุฑุฉ ูู ุชูุณูู ูุณุงุญุฉ ุงูุฐุงูุฑุฉ ุงูุธุงูุฑูุฉ ูุงูููุฒูุงุฆูุฉ ุฅูู ูุชู ุตุบูุฑุฉ ุฐุงุช ุญุฌู ุซุงุจุช.  ุชุณูู ูุชู ุงูุฐุงูุฑุฉ ุงูุธุงูุฑูุฉ ุงูุตูุญุงุช ุ ูุชุณูู ูุชู ูุณุงุญุฉ ุงูุนููุงู ุงููุนููุฉ ุงูุฅุทุงุฑุงุช.  ูุชู ุชุนููู ูู ุตูุญุฉ ุจุดูู ูููุฑุฏ ุฅูู ุฅุทุงุฑ ุ ูุงูุฐู ูุณูุญ ูู ุจุชูุณูู ูุณุงุญุงุช ูุจูุฑุฉ ูู ุงูุฐุงูุฑุฉ ุจูู ุงูุฅุทุงุฑุงุช ุงููุงุฏูุฉ ุบูุฑ ุงููุฌุงูุฑุฉ. <br><br>  ุชุตุจุญ ุงูููุฒุฉ ูุงุถุญุฉ ุฅุฐุง ูุฑุฑุช ุงููุซุงู ุจูุณุงุญุฉ ุฐุงูุฑุฉ ูุฌุฒุฃุฉ ุ ูููู ูุฐู ุงููุฑุฉ ุจุงุณุชุฎุฏุงู ุงูุตูุญุงุช ุจุฏูุงู ูู ุงูุชุฌุฒุฆุฉ: <br><br><img src="https://habrastorage.org/webt/29/rg/95/29rg95blzryjql4qjy_txkbx2uo.png"><br><br>  ูู ูุฐุง ุงููุซุงู ุ ูููู ุญุฌู ุงูุตูุญุฉ 50 ุจุงูุช ุ ุฃู ุ ูุชู ุชูุณูู ูู ููุทูุฉ ูู ููุงุทู ุงูุฐุงูุฑุฉ ุฅูู ุซูุงุซ ุตูุญุงุช.  ูุชู ุชุนููู ูู ุตูุญุฉ ุฅูู ุฅุทุงุฑ ูููุตู ุ ุจุญูุซ ูููู ุชุนููู ููุทูุฉ ูุชุฌุงูุฑุฉ ูู ุงูุฐุงูุฑุฉ ุงูุธุงูุฑูุฉ ุฅูู ุฅุทุงุฑุงุช ูุนููุฉ ูุนุฒููุฉ.  ูุฐุง ูุณูุญ ูู ุจุชุดุบูู ุงููุซูู ุงูุซุงูุซ ููุจุฑูุงูุฌ ุฏูู ุฅูุบุงุก ุงูุชุฌุฒุฆุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุฌุฒุฆุฉ ุฎููุฉ </h3><br>  ุจุงูููุงุฑูุฉ ูุน ุงูุชุฌุฒุฆุฉ ุ ุชุณุชุฎุฏู ูุคุณุณุฉ ุงูุชุฑุญูู ุงูุนุฏูุฏ ูู ูุณุงุญุงุช ุงูุฐุงูุฑุฉ ุงูุซุงุจุชุฉ ุตุบูุฑุฉ ุงูุญุฌู ุจุฏูุงู ูู ุงูุนุฏูุฏ ูู ุงููุณุงุญุงุช ุงููุจูุฑุฉ ูุงููุชุบูุฑุฉ ุงูุญุฌู.  ูู ุฅุทุงุฑ ูู ููุณ ุงูุญุฌู ุ ูุฐุง ูุฅู ุงูุชุฌุฒุฆุฉ ุจุณุจุจ ุงูุฅุทุงุฑุงุช ุงูุตุบูุฑุฉ ุฌุฏูุง ุบูุฑ ูููู. <br><br>  ูููู ูุฐุง ููุณ ุณูู <i>ูุธูุฑ</i> .  ูู ุงููุงูุน ุ ููุงู ุดูู ูุฎูู ูู ุงูุชุฌุฒุฆุฉ ุ ูุง ูุณูู <i>ุงูุชุฌุฒุฆุฉ ุงูุฏุงุฎููุฉ</i> ุจุณุจุจ ุญูููุฉ ุฃู ููุณ ูู ููุทูุฉ ุงูุฐุงูุฑุฉ ูู ุจุงูุถุจุท ูุชุนุฏุฏุฉ ูู ุญุฌู ุงูุตูุญุฉ.  ุชุฎูู ูู ุงููุซุงู ุฃุนูุงู ุ ุจุฑูุงูุฌ ุจุญุฌู 101: ุณูุธู ุจุญุงุฌุฉ ุฅูู ุซูุงุซ ุตูุญุงุช ุจุญุฌู 50 ุ ูุฐูู ุณูู ูุณุชุบุฑู 49 ุจุงูุช ุฃูุซุฑ ููุง ุชุญุชุงุฌ.  ูู ุฃุฌู ุงููุถูุญ ุ ููุทูู ุนูู ุงูุชุฌุฒุฆุฉ ุจุณุจุจ ุงูุชุฌุฒุฆุฉ. <br><br>  ูุง ููุฌุฏ ุดูุก ุฌูุฏ ูู ุงูุชุดุฑุฐู ุงูุฏุงุฎูู ุ ูููู ูู ูุซูุฑ ูู ุงูุฃุญูุงู ูููู ุฃูู ุดุฑ ูู ุงูุชุดุฑุฐู ุงูุฎุงุฑุฌู.  ูุง ุชุฒุงู ุชุณุชููู ุฐุงูุฑุฉ ุฅุถุงููุฉ ุ ูููู ุงูุขู ูุง ุชุญุชุงุฌ ุฅูู ุฅูุบุงุก ุชุฌุฒุฆุชูุง ุ ููููู ุชููุน ุญุฌู ุงูุชุฌุฒุฆุฉ (ูู ุงููุชูุณุท โโุ ูุตู ุตูุญุฉ ููู ููุทูุฉ ุฐุงูุฑุฉ). <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฌุฏุงูู ุงูุตูุญุฉ </h3><br>  ููุฏ ุฑุฃููุง ุฃู ูู ูู ููุงููู ุงูุตูุญุงุช ุงููุญุชููุฉ ูุชู ุชุนููููุง ุจุดูู ูุฑุฏู ุฅูู ุฅุทุงุฑ.  ูุฌุจ ุฃู ูุชู ุชุฎุฒูู ูุนูููุงุช ุชุฑุฌูุฉ ุงูุนููุงู ูู ููุงู ูุง.  ุนูุฏ ุงูุชุฌุฒุฆุฉ ุ ูุชู ุงุณุชุฎุฏุงู ุณุฌูุงุช ูุทุนุฉ ูููุตูุฉ ููู ููุทูุฉ ุฐุงูุฑุฉ ูุดุทุฉ ุ ููู ุฃูุฑ ูุณุชุญูู ูู ุญุงูุฉ ุงูุตูุญุงุช ุ ูุฃู ุนุฏุฏูู ุฃูุจุฑ ุจูุซูุฑ ูู ุงูุณุฌูุงุช.  ุจุฏูุงู ูู ุฐูู ุ ูุณุชุฎุฏู ุจููุฉ ุชุณูู <i>ุฌุฏูู ุตูุญุฉ</i> . <br><br>  ุนูู ุณุจูู ุงููุซุงู ุฃุนูุงู ุ ุณุชุจุฏู ุงูุฌุฏุงูู ููุง ููู: <br><br><img src="https://habrastorage.org/webt/ij/g0/93/ijg093nmmxzlvn8fkj3n2fxvujg.png"><br><br>  ููุง ุชุฑูู ุ ูู ูุซูู ููุจุฑูุงูุฌ ูุฏูู ุฌุฏูู ุตูุญุฉ ุฎุงุต ุจู.  ูุชู ุชุฎุฒูู ูุคุดุฑ ุฅูู ุงูุฌุฏูู ุงููุดุท ุงูุญุงูู ูู ุณุฌู ุฎุงุต ูู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ.  ุนูู <code>x86</code> ูุทูู ุนููู <code>CR3</code> .  ูุจู ุจุฏุก ูู ูุซูู ูู ุงูุจุฑูุงูุฌ ุ ูุฌุจ ุฃู ูููู ูุธุงู ุงูุชุดุบูู ุจุชุญููู ูุคุดุฑ ุฅูู ุฌุฏูู ุงูุตูุญุฉ ุงูุตุญูุญ ููุงู. <br><br>  ูู ูู ูุฑุฉ ูุชู ุงููุตูู ุฅูู ุงูุฐุงูุฑุฉ ุ ุชูุฑุฃ ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูุคุดุฑ ุงูุฌุฏูู ูู ุงูุณุฌู ูุชุจุญุซ ุนู ุงูุฅุทุงุฑ ุงูููุงุจู ูู ุงูุฌุฏูู.  ูุฐู ูู ูุธููุฉ ุงูุฃุฌูุฒุฉ ุจุงููุงูู ุงูุชู ุชุนูู ุจุดูุงููุฉ ูุงููุฉ ูุจุฑูุงูุฌ ููุฏ ุงูุชุดุบูู.  ูุชุณุฑูุน ุงูุนูููุฉ ุ ุชุญุชูู ุงูุนุฏูุฏ ูู ุจููุงุช ุงููุนุงูุฌ ุนูู ุฐุงูุฑุฉ ุชุฎุฒูู ูุคูุช ุฎุงุตุฉ ุชุชุฐูุฑ ูุชุงุฆุฌ ุขุฎุฑ ุงูุชุญูููุงุช. <br><br>  ุจูุงุกู ุนูู ุงูุจููุฉ ุ ูููู ุฃูุถูุง ุชุฎุฒูู ุณูุงุช ูุซู ุงูุฃุฐููุงุช ูู ุญูู ุงูุนูุงูุฉ ุจุฌุฏูู ุงูุตูุญุฉ.  ูู ุงููุซุงู ุฃุนูุงู ุ ุชุฌุนู ุนูุงูุฉ <code>r/w</code> ุงูุตูุญุฉ ูุงุจูุฉ ูููุฑุงุกุฉ ูุงููุชุงุจุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุฌุฏุงูู ุตูุญุงุช ุงูุทุจูุงุช </h3><br>  ุชูุงุฌู ุฌุฏุงูู ุงูุตูุญุงุช ุงูุจุณูุทุฉ ูุดููุฉ ูู ูุณุงุญุงุช ุงูุนูุงููู ุงููุจูุฑุฉ: ูุชู ุฅูุฏุงุฑ ุงูุฐุงูุฑุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูุณุชุฎุฏู ุงูุจุฑูุงูุฌ ุฃุฑุจุน ุตูุญุงุช ุงูุชุฑุงุถูุฉ <code>0</code> ู <code>1_000_000</code> ู <code>1_000_050</code> ู <code>1_000_100</code> (ูุณุชุฎุฏู <code>_</code> ููุงุตู ููุฃุฑูุงู): <br><br><img src="https://habrastorage.org/webt/oh/hc/2d/ohhc2dbnzmw-3qfq1bjmjsksydg.png"><br><br>  ููุงู ุฃุฑุจุนุฉ ุฅุทุงุฑุงุช ูุนููุฉ ูุทููุจุฉ ููุท ุ ูููู ููุฌุฏ ุฃูุซุฑ ูู ููููู ุณุฌู ูู ุฌุฏูู ุงูุตูุญุงุช.  ูุง ูููููุง ุชุฎุทู ุงูุฅุฏุฎุงูุงุช ุงููุงุฑุบุฉ ุ ูุฃู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุฃุซูุงุก ุนูููุฉ ุงูุชุญููู ูู ุชุชููู ูู ุงูุงูุชูุงู ูุจุงุดุฑุฉู ุฅูู ุงูุฅุฏุฎุงู ุงูุตุญูุญ (ุนูู ุณุจูู ุงููุซุงู ุ ูู ูุนุฏ ูุถููููุง ุฃู ุงูุตูุญุฉ ุงูุฑุงุจุนุฉ ุชุณุชุฎุฏู ุงูุฅุฏุฎุงู ุงูุฑุงุจุน). <br><br>  ูุชูููู ููุฏ ุงูุฐุงูุฑุฉ ุ ููููู ุงุณุชุฎุฏุงู ููุธูุฉ <b>ูู ูุณุชูููู</b> .  ุงูููุฑุฉ ูู ุฃููุง ูุณุชุฎุฏู ุฌุฏุงูู ูุฎุชููุฉ ููููุงุทู ุงููุฎุชููุฉ.  ูุชู ุชุญููู ุฌุฏูู ุฅุถุงูู ุ ูุณูู ุฌุฏูู ุตูุญุงุช <i>ุงููุณุชูู ุงูุซุงูู</i> ุ ุจูู ูุณุงุญุงุช ุงูุนูุงููู ูุฌุฏุงูู ุตูุญุงุช ุงููุณุชูู ุงูุฃูู. <br><br>  ูุฃูุถู ุชูุณูุฑ ููุฐุง ูู ุงููุซุงู.  ูุญุฏุฏ ุฃู ูู ุฌุฏูู ูู ุตูุญุงุช ุงููุณุชูู 1 ูุณุคูู ุนู ูุณุงุญุฉ ุจุญุฌู <code>10_000</code> .  ุซู ูู ุงููุซุงู ุฃุนูุงู ุ ุณุชููู ุงูุฌุฏุงูู ุงูุชุงููุฉ ููุฌูุฏุฉ: <br><br><img src="https://habrastorage.org/webt/7w/3s/qk/7w3sqkqe6zbpna2z4kcnsxqokco.png"><br><br>  ุชูุน ุงูุตูุญุฉ 0 ูู ุงููุณุงุญุฉ ุงูุฃููู ุงูุจุงูุบุฉ <code>10_000</code> ุจุงูุช ุ ูุฐูู ุชุณุชุฎุฏู ุงูุณุฌู ุงูุฃูู ูู ุฌุฏูู ุตูุญุงุช ุงููุณุชูู ุงูุซุงูู.  ูุดูุฑ ูุฐุง ุงูุฅุฏุฎุงู ุฅูู ุฌุฏูู ุตูุญุฉ ุงููุณุชูู ุงูุฃูู T1 ุ ูุงูุฐู ูุญุฏุฏ ุฃู ุงูุตูุญุฉ 0 ุชุดูุฑ ุฅูู ุงูุฅุทุงุฑ 0. <br><br>  ุชูุน ุงูุตูุญุงุช <code>1_000_000</code> ู <code>1_000_050</code> ู <code>1_000_100</code> ูู ููุทูุฉ ุงูุจุงูุช 100 ูู <code>10_000</code> ุ ูุฐูู ูุณุชุฎุฏููู ุงูุณุฌู 100 ูุฌุฏูู ุตูุญุฉ ุงููุณุชูู 2. ูุดูุฑ ูุฐุง ุงูุณุฌู ุฅูู ุฌุฏูู ุงููุณุชูู ุงูุฃูู ุงูุขุฎุฑ T2 ุ ูุงูุฐู ูุชุฑุฌู ุซูุงุซ ุตูุญุงุช ุฅูู ุฅุทุงุฑุงุช 100 ู 150 ู 200. ููุงุญุธุฉ ุฃู ุนููุงู ุงูุตูุญุฉ ูู ุฌุฏุงูู ุงููุณุชูู ุงูุฃูู ูุง ูุญุชูู ุนูู ุฅุฒุงุญุฉ ููุทูุฉ ุ ูุฐูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุณุฌู ุงูุตูุญุฉ <code>1_000_050</code> ูู <code>50</code> ููุท. <br><br>  ูุง ูุฒุงู ูุฏููุง 100 ุฅุฏุฎุงู ูุงุฑุบ ูู ุฌุฏูู ุงููุณุชูู ุงูุซุงูู ุ ูููู ูุฐุง ุฃูู ุจูุซูุฑ ูู ุงูููููู ุงูุณุงุจู.  ุณุจุจ ุงูุชูููุฑ ูู ุฃูู ูุณุช ุจุญุงุฌุฉ ุฅูู ุฅูุดุงุก ุฌุฏุงูู ุตูุญุงุช ุงููุณุชูู ุงูุฃูู ูููุงุทู ุงูุฐุงูุฑุฉ ุบูุฑ <code>10_000</code> ุจูู <code>10_000</code> ู <code>1_000_000</code> . <br><br>  ูููู ุชูุฏูุฏ ูุจุฏุฃ ุงูุฌุฏุงูู ุฐุงุช ุงููุณุชูููู ุฅูู ุซูุงุซุฉ ุฃู ุฃุฑุจุนุฉ ูุณุชููุงุช ุฃู ุฃูุซุฑ.  ุจุดูู ุนุงู ุ ููุทูู ุนูู ูุฐุง ุงููุธุงู ุฌุฏูู ุตูุญุงุช <i>ูุชุนุฏุฏ ุงููุณุชููุงุช</i> ุฃู <i>ูุฑูู</i> . <br><br>  ุนูุฏ ูุนุฑูุฉ ุชูุธูู ุงูุตูุญุฉ ูุงูุฌุฏุงูู ูุชุนุฏุฏุฉ ุงููุณุชููุงุช ุ ููููู ูุนุฑูุฉ ููููุฉ ุชูููุฐ ุชูุธูู ุงูุตูุญุฉ ูู ุจููุฉ x86_64 (ููุชุฑุถ ุฃู ุงููุนุงูุฌ ูุนูู ูู ูุถุน 64 ุจุช). <br><br><h1 style=";text-align:right;direction:rtl">  ุชูุธูู ุงูุตูุญุฉ ุนูู x86_64 </h1><br>  ุชุณุชุฎุฏู ููุฏุณุฉ x86_64 ุฌุฏููุงู ูู ุฃุฑุจุนุฉ ูุณุชููุงุช ุจุญุฌู ุตูุญุฉ 4 ููููุจุงูุช.  ุจุบุถ ุงููุธุฑ ุนู ุงููุณุชูู ุ ูุญุชูู ูู ุฌุฏูู ุตูุญุฉ ุนูู 512 ุนูุตุฑ.  ูุจูุบ ุญุฌู ูู ุณุฌู 8 ุจุงูุช ุ ูุจุงูุชุงูู ูุฅู ุญุฌู ุงูุฌุฏุงูู 512 ร 8 ุจุงูุช = 4 ููููุจุงูุช. <br><br><img src="https://habrastorage.org/webt/tp/o9/x-/tpo9x-ibzvx7spvyvspck7_rtrq.png"><br><br>  ููุง ุชุฑูู ุ ูุญุชูู ูู ููุฑุณ ุฌุฏูู ุนูู 9 ุจุชุงุช ุ ููุฐุง ุฃูุฑ ููุทูู ุ ูุฃู ุงูุฌุฏุงูู ุชุญุชูู ุนูู 2 ^ 9 = 512 ุฅุฏุฎุงู.  ุฃูู 12 ุจุช ูู ุฅุฒุงุญุฉ ุงูุตูุญุฉ 4 ููููุจุงูุช (2 ^ 12 ุจุงูุช = 4 ููููุจุงูุช).  ูุชู ุชุฌุงูู ุงูุจุชุงุช ูู 48 ุฅูู 64 ุ ูุจุงูุชุงูู ูุฅู x86_64 ููุณ ูู ุงููุงูุน ูุธุงููุง 64 ุจุช ุ ูููู ูุฏุนู ุนูุงููู 48 ุจุช ููุท.  ููุงู ุฎุทุท ูุชูุณูุน ุญุฌู ุงูุนููุงู ุฅูู 57 ุจุช ูู ุฎูุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌุฏูู ุตูุญุงุช ูู 5 ูุณุชููุงุช</a> ุ ูููู ูู ูุชู ุฅูุดุงุก ูุฐุง ุงููุนุงูุฌ ุจุนุฏ. <br><br>  ุนูู ุงูุฑุบู ูู ุชุฌุงูู ุงูุจุชุงุช ูู 48 ุฅูู 64 ุ ุฅูุง ุฃูู ูุง ูููู ุถุจุทูุง ุนูู ููู ุนุดูุงุฆูุฉ.  ูุฌุจ ุฃู ุชููู ุฌููุน ุงูุจุชุงุช ูู ูุฐุง ุงููุทุงู ูุณุฎูุง ูู ุงูุจุชุฉ 47 ููุญูุงุธ ุนูู ุงูุนูุงููู ุงููุฑูุฏุฉ ูุงูุณูุงุญ ุจุงูุชูุณุน ูู ุงููุณุชูุจู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฅูู ุฌุฏูู ุตูุญุงุช ูู 5 ูุณุชููุงุช.  ููุฐุง ูุง ูุณูู ุงูุชุฏุงุฏ ุงูุฅุดุงุฑุฉ ุ ูุฃูู ูุดุจู ุฅูู ุญุฏ ุจุนูุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุฏุงุฏ ุนูุงูุฉ ูู ุฑูุฒ ุฅุถุงูู</a> .  ุฅุฐุง ุชู ุชูุณูุน ุงูุนููุงู ุจุดูู ุบูุฑ ุตุญูุญ ุ ูุฅู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ูุชู ุทุฑุญ ุงุณุชุซูุงุก. <br><br><h3 style=";text-align:right;direction:rtl">  ูุซุงู ุงูุชุญููู </h3><br>  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ูุซุงู ุนู ููููุฉ ุนูู ุชุฑุฌูุฉ ุงูุนููุงู: <br><br><img src="https://habrastorage.org/webt/zj/ox/fe/zjoxfeno1sahwas8h-ffyxechgm.png"><br><br>  ูุชู ุชุฎุฒูู ุงูุนููุงู ุงููุนูู ูุฌุฏูู ุงูุตูุญุฉ ุงููุดุท ุงูุญุงูู ูุตูุญุงุช ุงููุณุชูู 4 ุ ููู ุงูุฌุฏูู ุงูุฌุฐุฑ ูุตูุญุงุช ุงูุตูุญุงุช ูู ูุฐุง ุงููุณุชูู ุ ูู <code>CR3</code> .  ูู ุฅุฏุฎุงู ุฌุฏูู ุตูุญุฉ ุซู ูุดูุฑ ุฅูู ุงูุฅุทุงุฑ ุงููุนูู ูุฌุฏูู ุงููุณุชูู ุงูุชุงูู.  ูุดูุฑ ุฅุฏุฎุงู ุฌุฏูู ุงููุณุชูู ุงูุฃูู ุฅูู ุงูุฅุทุงุฑ ุงููุนุฑูุถ.  ูุฑุฌู ููุงุญุธุฉ ุฃู ุฌููุน ุงูุนูุงููู ุงูููุฌูุฏุฉ ูู ุฌุฏุงูู ุงูุตูุญุงุช ูุงุฏูุฉ ูููุณุช ุงูุชุฑุงุถูุฉ ุ ูุฃู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุณุชุญุชุงุฌ ุฅูู ุชุญููู ูุฐู ุงูุนูุงููู (ููุง ูุฏ ูุคุฏู ุฅูู ุชูุฑุงุฑ ุบูุฑ ูุญุฏูุฏ). <br><br>  ุงูุชุณูุณู ุงููุฑูู ุฃุนูุงู ูุญูู ุตูุญุชูู (ุจุงูููู ุงูุฃุฒุฑู).  ูู ุงููุคุดุฑุงุช ุ ูููููุง ุฃู ูุณุชูุชุฌ ุฃู ุงูุนูุงููู ุงูุงูุชุฑุงุถูุฉ ููุฐู ุงูุตูุญุงุช ูู <code>0x803fe7f000</code> ู <code>0x803FE00000</code> .  ุฏุนููุง ูุฑู ูุง ูุญุฏุซ ุนูุฏูุง ูุญุงูู ุจุฑูุงูุฌ ูุฑุงุกุฉ ุงูุฐุงูุฑุฉ ุนูู ุงูุนููุงู <code>0x803FE7F5CE</code> .  ุฃููุงู ุ ูู ุจุชุญููู ุงูุนููุงู ุฅูู ุซูุงุฆู ูุญุฏุฏ ููุงุฑุณ ุฌุฏูู ุงูุตูุญุฉ ูุงูุฅุฒุงุญุฉ ููุนููุงู: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/600/d08/367/600d08367d49e110f1852796c23f9754.png"><br><br>  ุจุงุณุชุฎุฏุงู ูุฐู ุงูููุงุฑุณ ุ ูููููุง ุงูุขู ุงูุงุทูุงุน ุนูู ุงูุชุณูุณู ุงููุฑูู ูุฌุฏุงูู ุงูุตูุญุงุช ูุงูุนุซูุฑ ุนูู ุงูุฅุทุงุฑ ุงูููุงุจู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุฑุฃ ุนููุงู ุฌุฏูู ุงููุณุชูู ุงูุฑุงุจุน ูู <code>CR3</code> . </li><li style=";text-align:right;direction:rtl">  ูุคุดุฑ ุงููุณุชูู ุงูุฑุงุจุน ูู 1 ุ ูุฐูู ูุญู ููุธุฑ ุฅูู ุงูุณุฌู ูุน ุงูููุฑุณ 1 ูู ูุฐุง ุงูุฌุฏูู.  ูุชููู ุฅู ุงููุณุชูู ุงูุซุงูุซ ูู ุงูุฌุฏูู ูุชู ุชุฎุฒููู ุนูู 16 ููููุจุงูุช. </li><li style=";text-align:right;direction:rtl">  ูููู ุจุชุญููู ุฌุฏูู ุงููุณุชูู ุงูุซุงูุซ ูู ูุฐุง ุงูุนููุงู ูููุธุฑ ุฅูู ุงูุณุฌู ูุน ุงูููุฑุณ 0 ุ ูุงูุฐู ูุดูุฑ ุฅูู ุฌุฏูู ุงููุณุชูู ุงูุซุงูู ุนูู 24 ูููู ุจุงูุช. </li><li style=";text-align:right;direction:rtl">  ูุคุดุฑ ุงููุณุชูู ุงูุซุงูู ูู 511 ุ ูุฐูู ูุญู ูุจุญุซ ุนู ุงูุณุฌู ุงูุฃุฎูุฑ ูู ูุฐู ุงูุตูุญุฉ ููุนุฑูุฉ ุนููุงู ุฌุฏูู ุงููุณุชูู ุงูุฃูู. </li><li style=";text-align:right;direction:rtl">  ูู ุงูุฅุฏุฎุงู ุงูุฐู ูุญุชูู ุนูู ููุฑุณ 127 ูู ุฌุฏูู ุงููุณุชูู ุงูุฃูู ุ ุงูุชุดููุง ุฃุฎูุฑูุง ุฃู ุงูุตูุญุฉ ุชุชูุงูู ูุน ุฅุทุงุฑ ุจุญุฌู 12 ููููุจุงูุช ุฃู 0xc000 ุจุชูุณูู ุณุฏุงุณู ุนุดุฑู. </li><li style=";text-align:right;direction:rtl">  ุงูุฎุทูุฉ ุงูุฃุฎูุฑุฉ ูู ุฅุถุงูุฉ ุฅุฒุงุญุฉ ุฅูู ุนููุงู ุงูุฅุทุงุฑ ููุญุตูู ุนูู ุงูุนููุงู ุงููุนูู: 0xc000 + 0x5ce = 0xc5ce. </li></ul><br><img src="https://habrastorage.org/webt/mo/iq/-g/moiq-grelw6eyagqsuygebpugkm.png"><br><br>  ุจุงููุณุจุฉ ููุตูุญุฉ ุงูููุฌูุฏุฉ ูู ุฌุฏูู ุงููุณุชูู ุงูุฃูู ุ ูุชู ุชุญุฏูุฏ ุนูุงูุฉ <code>r</code> ุ ุฃู ููุณูุญ ุจุงููุฑุงุกุฉ ููุท.  ุณูุชู ุทุฑุญ ุงุณุชุซูุงุก ุนูู ูุณุชูู ุงูุฃุฌูุฒุฉ ุฅุฐุง ุญุงูููุง ุงูุชุณุฌูู ููุงู.  ุชูุชุฏ ุฃุฐููุงุช ุงูุฌุฏุงูู ุฐุงุช ุงููุณุชูู ุงูุฃุนูู ุฅูู ุงููุณุชููุงุช ุงูุฃุฏูู ุ ูุฐุง ุฅุฐุง ูุถุนูุง ุนูุงูุฉ ุงููุฑุงุกุฉ ููุท ุนูู ุงููุณุชูู ุงูุซุงูุซ ุ ููู ุชููู ููุงู ุตูุญุฉ ูุงุญูุฉ ูู ุงููุณุชูู ุงูุฃุฏูู ูุงุจูุฉ ูููุชุงุจุฉ ุ ุญุชู ุฅุฐุง ูุงูุช ููุงู ุนูุงูุงุช ุชุณูุญ ุจุงููุชุงุจุฉ. <br><br>  ุนูู ุงูุฑุบู ูู ุฃู ูุฐุง ุงููุซุงู ูุณุชุฎุฏู ูุซูู ูุงุญุฏ ููุท ูู ูู ุฌุฏูู ุ ุฅูุง ุฃูู ูู ูู ูุณุงุญุฉ ุนููุงู ุชูุฌุฏ ุนุฏุฉ ูุซููุงุช ููู ูุณุชูู.  ุงูุญุฏ ุงูุฃูุตู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฌุฏูู ูุงุญุฏ ูู ุงููุณุชูู ุงูุฑุงุจุน ุ </li><li style=";text-align:right;direction:rtl">  512 ุฌุฏูููุง ูู ุงููุณุชูู ุงูุซุงูุซ (ูุธุฑูุง ููุฌูุฏ 512 ุณุฌููุง ูู ุฌุฏูู ุงููุณุชูู ุงูุฑุงุจุน) ุ </li><li style=";text-align:right;direction:rtl">  512 * 512 ุงูุฌุฏุงูู ุงููุณุชูู ุงูุซุงูู (ูุฃู ูู ูู ุงูุฌุฏุงูู ุงููุณุชูู ุงูุซุงูุซ ูุญุชูู ุนูู 512 ุฅุฏุฎุงูุงุช) ุ ู </li><li style=";text-align:right;direction:rtl">  512 * 512 * 512 ุงูุฌุฏุงูู ูู ุงููุณุชูู ุงูุฃูู (512 ุณุฌูุงุช ููู ุฌุฏูู ูู ุงููุณุชูู ุงูุซุงูู). </li></ul><br><h3 style=";text-align:right;direction:rtl">  ุชูุณูู ุฌุฏูู ุงูุตูุญุฉ </h3><br>  ูู ุจููุฉ x86_64 ุ ุชุนุฏ ุฌุฏุงูู ุงูุตูุญุงุช ูู ุงูุฃุณุงุณ ุตูุงุฆู ูู 512 ุฅุฏุฎุงู.  ูู ุจูุงุก ุฌููุฉ Rust: <br><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-meta"><span class="hljs-meta">#[repr(align(4096))]</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pub</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PageTable</span></span></span></span> { entries: [PageTableEntry; <span class="hljs-number"><span class="hljs-number">512</span></span>], }</code> </pre> <br>  ููุง ูู ููุถุญ ูู ุณูุฉ <code>repr</code> ุ ูุฌุจ ูุญุงุฐุงุฉ ุงูุฌุฏุงูู ูู ุงูุตูุญุฉ ุ ุฃู ุนูู ุงูุญุฏ 4 ููููุจุงูุช.  ูุถูู ูุฐุง ุงููุชุทูุจ ุฃู ูููุฃ ุงูุฌุฏูู ุฏุงุฆููุง ุงูุตูุญุฉ ุจุฃููููุง ุนูู ุงููุญู ุงูุฃูุซู ุ ููุง ูุฌุนู ุงูุฅุฏุฎุงูุงุช ูุถุบูุทุฉ ุฌุฏูุง. <br><br>  ุญุฌู ูู ุณุฌู 8 ุจุงูุช (64 ุจุช) ูุงูุชูุณูู ุงูุชุงูู: <br><br><table style=";text-align:right;direction:rtl"><thead><tr><th>  ุจุช (ู) </th><th>  ุงูุนููุงู </th><th>  ุงููููุฉ </th></tr></thead><tbody><tr><td>  0 </td><td>  ุญุงุถุฑ </td><td>  ุตูุญุฉ ูู ุงูุฐุงูุฑุฉ </td></tr><tr><td>  1 </td><td>  ูุงุจู ูููุชุงุจุฉ </td><td>  ุณุฌู ุงููุณููุญ ุจูุง </td></tr><tr><td>  2 </td><td>  ุงููุณุชุฎุฏู ูู ูุชูุงูู </td><td>  ุฅุฐุง ูู ูุชู ุถุจุท ุงูุจุชุฉ ุ ุนูุฏูุง ููุท ูููู ููููุงุฉ ุงููุตูู ุฅูู ุงูุตูุญุฉ </td></tr><tr><td>  3 </td><td>  ุงููุชุงุจุฉ ูู ุฎูุงู ุงูุชุฎุฒูู ุงููุคูุช </td><td>  ุงูุชุจ ูุจุงุดุฑุฉ ุฅูู ุงูุฐุงูุฑุฉ </td></tr><tr><td>  4 </td><td>  ุชุนุทูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช </td><td>  ุชุนุทูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุฐู ุงูุตูุญุฉ </td></tr><tr><td>  5 </td><td>  ุงููุตูู ุฅูููุง </td><td>  ุชููู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุจุชุนููู ูุฐุง ุงูุจุช ุนูุฏูุง ุชููู ุงูุตูุญุฉ ููุฏ ุงูุงุณุชุฎุฏุงู. </td></tr><tr><td>  6 </td><td>  ูุชุณุฎ </td><td>  ุชููู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุจุชุนููู ูุฐุง ุงูุจุช ุนูุฏ ุงููุชุงุจุฉ ุฅูู ุงูุตูุญุฉ </td></tr><tr><td>  7 </td><td>  ุตูุญุฉ ุถุฎูุฉ / ูุงุฑุบุฉ </td><td>  ููุดุฆ ุตูุฑ ุจุช ูู P1 ู P4 ุตูุญุงุช 1 ูููู ุจุงูุช ูู P3 ุ ุตูุญุฉ 2 ููุบุงุจุงูุช ูู P2 </td></tr><tr><td>  8 </td><td>  ุงูุนุงูููุฉ </td><td>  ูุง ูุชู ุชุนุจุฆุฉ ุงูุตูุญุฉ ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุนูุฏ ุชุจุฏูู ูุณุงุญุฉ ุงูุนููุงู (ูุฌุจ ุชุนููู ุจุช PGE ูุณุฌู CR4) </td></tr><tr><td>  9-11 </td><td>  ูุชุงุญ </td><td>  ูููู ููุธุงู ุงูุชุดุบูู ุงุณุชุฎุฏุงููุง ุจุญุฑูุฉ </td></tr><tr><td>  12-51 </td><td>  ุงูุนููุงู ุงููุนูู </td><td>  ูุญุงุฐุงุฉ ุงูุตูุญุฉ ุงูุนููุงู ุงููุนูู 52 ุจุช ูู ุงูุฅุทุงุฑ ุฃู ุงูุฌุฏูู ุงูุตูุญุฉ ุงูุชุงููุฉ </td></tr><tr><td>  52-62 </td><td>  ูุชุงุญ </td><td>  ูููู ููุธุงู ุงูุชุดุบูู ุงุณุชุฎุฏุงููุง ุจุญุฑูุฉ </td></tr><tr><td>  63 </td><td>  ูุง ุชูููุฐ </td><td>  ูุญุธุฑ ุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู ูุฐู ุงูุตูุญุฉ (ูุฌุจ ุชุนููู ุจุช NXE ูู ุณุฌู EFER) </td></tr></tbody></table><br>  ูุฑู ุฃูู ูุชู ุงุณุชุฎุฏุงู ุงูุจุชุงุช 12-51 ููุท ูุชุฎุฒูู ุงูุนููุงู ุงููุนูู ููุฅุทุงุฑ ุ ุจูููุง ูุนูู ุงูุจุงูู ูุฃุนูุงู ุฃู ูููู ุงุณุชุฎุฏุงูู ุจุญุฑูุฉ ุจูุงุณุทุฉ ูุธุงู ุงูุชุดุบูู.  ูุฐุง ูููู ูุฃููุง ูุดูุฑ ุฏุงุฆููุง ุฅูุง ุฅูู ุนููุงู ูุญุงุฐุงุฉ 4096 ุจุงูุช ุ ุฃู ุฅูู ุตูุญุฉ ุงูุฌุฏุงูู ุงููุญุงุฐูุฉ ุ ุฃู ุฅูู ุจุฏุงูุฉ ุงูุฅุทุงุฑ ุงูููุงุจู.  ูุฐุง ูุนูู ุฃู ุงูุจุชุงุช ูู 0 ุฅูู 11 ุชููู ุฏุงุฆููุง ุตูุฑูุฉ ุ ูุฐุง ูุง ูููู ุชุฎุฒูููุง ุ ููู ุจุจุณุงุทุฉ ุชุชู ุฅุนุงุฏุฉ ุถุจุทูุง ุนูู ูุณุชูู ุงูุฌูุงุฒ ูุจู ุงุณุชุฎุฏุงู ุงูุนููุงู.  ููุทุจู ุงูุดูุก ููุณู ุนูู ุงูุจุชุงุช 52-63 ุ ุญูุซ ุฃู ุจููุฉ x86_64 ุชุฏุนู ููุท ุงูุนูุงููู ุงููุนููุฉ 52 ุจุช (ูุงูุนูุงููู ุงูุงูุชุฑุงุถูุฉ 48 ุจุช ููุท). <br><br>  ุฏุนููุง ูููู ูุธุฑุฉ ูุงุญุตุฉ ุนูู ุงูุฃุนูุงู ุงููุชุงุญุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูููุฒ ุงูุนูู <code>present</code> ุงูุตูุญุงุช ุงููุนุฑูุถุฉ ุนู ุงูุตูุญุงุช ุบูุฑ ุงููุนุฑูุถุฉ.  ูููู ุงุณุชุฎุฏุงูู ูุญูุธ ุงูุตูุญุงุช ูุคูุชูุง ุนูู ุงููุฑุต ุนูุฏ ุงูุชูุงุก ุงูุฐุงูุฑุฉ ุงูุฑุฆูุณูุฉ.  ูู ุงููุฑุฉ ุงูุชุงููุฉ ุงูุชู ูุชู ูููุง ุงููุตูู ุฅูู ุงูุตูุญุฉ ุ ูุญุฏุซ ุงุณุชุซูุงุก PageFault ุฎุงุต ุ ูุณุชุฌูุจ ูู ูุธุงู ุงูุชุดุบูู ุนู ุทุฑูู ุชุจุฏูู ุงูุตูุญุฉ ูู ุงููุฑุต - ูุณุชูุฑ ุงูุจุฑูุงูุฌ ูู ุงูุนูู. </li><li style=";text-align:right;direction:rtl">  ุชุญุฏุฏ ุงูุนูุงูุงุช <code>writable</code> ูุนุฏู <code>no execute</code> ูุง ุฅุฐุง ูุงู ูุญุชูู ุงูุตูุญุฉ ูุงุจู ูููุชุงุจุฉ ุฃู ูุญุชูู ุนูู ุฅุฑุดุงุฏุงุช ูุงุจูุฉ ููุชูููุฐ ุ ุนูู ุงูุชูุงูู. </li><li style=";text-align:right;direction:rtl">  ูุชู ุชุนููู ุงูุฃุนูุงู ุงูุชู ูุชู <code>accessed</code> <code>dirty</code> ุชููุงุฆููุง ุจูุงุณุทุฉ ุงููุนุงูุฌ ุนูุฏ ุงููุฑุงุกุฉ ุฃู ุงููุชุงุจุฉ ุฅูู ุงูุตูุญุฉ.  ูููู ููุธุงู ุงูุชุดุบูู ุงุณุชุฎุฏุงู ูุฐู ุงููุนูููุงุช ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุญุงูุฉ ุชุจุฏูู ุงูุตูุญุงุช ุฃู ุนูุฏ ุงูุชุญูู ููุนุฑูุฉ ูุง ุฅุฐุง ูุงูุช ูุญุชููุงุช ุงูุตูุญุฉ ูุฏ ุชุบูุฑุช ููุฐ ุขุฎุฑ ุนูููุฉ ุถุฎ ุนูู ุงููุฑุต. </li><li style=";text-align:right;direction:rtl">  ุชุชูุญ ูู <code>write through caching</code> <code>disable cache</code> ุฅุดุงุฑุงุช <code>disable cache</code> ุฅุฏุงุฑุฉ ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููู ุตูุญุฉ ุนูู ุญุฏุฉ. </li><li style=";text-align:right;direction:rtl">  ุชุฌุนู ุนูุงูุฉ <code>user accessible</code> ุงูุตูุญุฉ ูุงุจูุฉ ูููุตูู ููุฑูุฒ ูู ูุณุงุญุฉ ุงููุณุชุฎุฏู ุ ูุฅูุง ููู ูุชููุฑุฉ ููุท ููููุงุฉ.  ูููู ุงุณุชุฎุฏุงู ูุฐู ุงููุธููุฉ ูุชุณุฑูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงููุงุช ุงููุธุงู</a> ูุน ุงูุญูุงุธ ุนูู ุชุนููู ุงูุนูุงููู ููููุงุฉ ุฃุซูุงุก ุชุดุบูู ุจุฑูุงูุฌ ุงููุณุชุฎุฏู.  ููุน ุฐูู ุ ุชุณูุญ ูุดููุฉ ุนุฏู ุญุตุงูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Specter</a> ุจูุฑุงุกุฉ ูุฐู ุงูุตูุญุงุช ุจูุงุณุทุฉ ุงูุจุฑุงูุฌ ูู ูุณุงุญุฉ ุงููุณุชุฎุฏู. </li><li style=";text-align:right;direction:rtl">  <code>global</code>  ,                (.   TLB )     (address space switch).     user <code>accessible</code>        . </li><li style=";text-align:right;direction:rtl">  <code>huge page</code>     ,      2  3     .      512 :     2  = 512 ร 4 ,      1  = 512 ร 2 .             . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุนุฑู X86_64 ุงูุนูุงุฑุฉ ุดูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฌุฏุงูู ุงูุตูุญุฉ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุณุฌูุงุช</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูุฐูู ูู ููู ูุฏูู ูุฅูุดุงุก ูุฐู ุงูููุงูู ุฃููุณูู.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุชุฑุฌูุฉ ุงูุชุญุฑูุฑูุฉ ุงูุชุฑุงุจุทูุฉ (TLB) </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุณุจุจ ุงููุณุชููุงุช ุงูุฃุฑุจุนุฉ ุ ูุชุทูุจ ูู ุชุฑุฌูุฉ ุนููุงู ุฃุฑุจุนุฉ ุนูููุงุช ุงููุตูู ุฅูู ุงูุฐุงูุฑุฉ. ูุฃุณุจุงุจ ุชุชุนูู ุจุงูุฃุฏุงุก ุ ุชููู x86_64 ุจุชุฎุฒูู ุงูุชุฑุฌูุงุช ุงูููููุฉ ุงูุฃุฎูุฑุฉ ูู ูุง ูุณูู ุจูุฎุฒู ูุคูุช ุงูุชุฑุฌูุฉ ุงูุชุฑุงุจุทูุฉ (TLB). ูุชูุญ ูู ูุฐุง ุชุฎุทู ุงูุชุญููู ุฅุฐุง ูุงู ูุง ูุฒุงู ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุฎูุงู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ูููุนุงูุฌุงุช ุงูุฃุฎุฑู ุ TLB ุบูุฑ ุดูุงู ุชูุงููุง ุ ููุง ูููู ุจุชุญุฏูุซ ุฃู ุญุฐู ุงูุชุญูููุงุช ุนูุฏ ุชุบููุฑ ูุญุชููุงุช ุฌุฏุงูู ุงูุตูุญุงุช. ูุฐุง ูุนูู ุฃู ุงูููุงุฉ ูุฌุจ ุฃู ุชููู ุจุชุญุฏูุซ TLB ููุณู ูููุง ูุงู ุจุชุนุฏูู ุฌุฏูู ุงูุตูุญุฉ. ููููุงู ุจุฐูู ุ ููุงู ุชุนูููุฉ CPU ุฎุงุตุฉ ุชุณูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>invlpg</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ุตูุญุฉ ุบูุฑ ุตุงูุญุฉ) ุ ูุงูุชู ุชุฒูู ุชุฑุฌูุฉ ุงูุตูุญุฉ ุงููุญุฏุฏุฉ ูู TLB ุ ุจุญูุซ ูุชู ุชุญููููุง ูุฑุฉ ุฃุฎุฑู ูู ุฌุฏูู ุงูุตูุญุฉ ูู ุงููุฑุฉ ุงูุชุงููุฉ. ูุชู ูุณุญ TLB ุชูุงููุง ุจูุงุณุทุฉ ุชุญุฏูุซ ุงูุณุฌู</font></font><code>CR3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃู ูุญุงูู ููุชุงุญ ูุณุงุญุฉ ุงูุนููุงู. </font><font style="vertical-align: inherit;">ููุง ุงูุฎูุงุฑูู ูุชุงุญ ูู </font><font style="vertical-align: inherit;">ุฎูุงู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุฏุฉ tlb</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูู Rust. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูููู ุฃูุง ุชูุณู ุชูุธูู TLB ุจุนุฏ ุชุบููุฑ ุฌุฏูู ูู ุตูุญุฉ ุ ูุฅูุง ุณุชูุงุตู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุงุณุชุฎุฏุงู ุงูุชุฑุฌูุฉ ุงููุฏููุฉ ุ ููุง ุณูุคุฏู ุฅูู ุฃุฎุทุงุก ุบูุฑ ูุชููุนุฉ ูุตุนุจ ุชุตุญูุญูุง.</font></font><br><br><h1 style=";text-align:right;direction:rtl">  ุงูุชูููุฐ </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ูุฐูุฑ ุดูุฆูุง ูุงุญุฏูุง: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฌููุฑูุง ูุฏุนู ุจุงููุนู ุชูุธูู ุงูุตูุญุฉ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ุฃูุดุฃ </font><font style="vertical-align: inherit;">ูุญูู ุงูุฅููุงุน ูู ููุงูุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Minimal Kernel on Rust"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุงููุนู ุชุณูุณู ูุฑูู ูู ุฃุฑุจุนุฉ ูุณุชููุงุช ูุฑุณู ูู ุตูุญุฉ ูู ููุงุฉ ูุฏููุง ุฅูู ุฅุทุงุฑ ูุงุฏู ุ ูุฃู ุชูุธูู ุงูุตูุญุฉ ูุทููุจ ูู ูุถุน 64 ุจุช ุนูู x86_64. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐุง ูุนูู ุฃูู ูู ุฌููุฑูุง ุฌููุน ุนูุงููู ุงูุฐุงูุฑุฉ ุงูุชุฑุงุถูุฉ. ูุนูู ุงููุตูู ุฅูู ุงููุฎุฒู ุงููุคูุช VGA ูู ุงูุนููุงู </font></font><code>0xb8000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุท ูุฃู ูุนุฑู ุฃุฏุงุฉ ุชุญููู ุงูุชุดุบูู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุฑุฌู</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฐู ุงูุตูุญุฉ ุฅูู ุงูุฐุงูุฑุฉ ุ ุฃู ุฃูู ูุงู ุจุชุนููู ุงูุฎุฑูุทุฉ ุงูุงูุชุฑุงุถูุฉ </font></font><code>0xb8000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูู ุงูุฅุทุงุฑ ุงููุนูู </font></font><code>0xb8000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจูุถู ุชูุธูู ุงูุตูุญุฉ ุ ุฃุตุจุญ kernel ุขูููุง ูุณุจููุง: ูู ูุตูู ูุชุฌุงูุฒ ุงูุฐุงูุฑุฉ ุงููุณููุญ ุจูุง ูุชุณุจุจ ูู ุญุฏูุซ ุฎุทุฃ ูู ุงูุตูุญุฉ ุ ููุง ูุณูุญ ุจุงููุชุงุจุฉ ุฅูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ. </font><font style="vertical-align: inherit;">ูููู ุงููุญูู ุญุชู ุจุชุนููู ุฃุฐููุงุช ุงููุตูู ุงูุตุญูุญุฉ ููู ุตูุญุฉ: ููุท ุงูุตูุญุงุช ุงูุชู ุจูุง ุชุนูููุงุช ุจุฑูุฌูุฉ ุณุชููู ูุงุจูุฉ ููุชูููุฐ ุ ูุชุชููุฑ ููุท ุงูุตูุญุงุช ุงูุชู ุชุญุชูู ุนูู ุจูุงูุงุช ูููุชุงุจุฉ</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฃุฎุทุงุก ุงูุตูุญุฉ (PageFault) </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏุนููุง ูุญุงูู ุงุณุชุฏุนุงุก PageFault ุนู ุทุฑูู ุงููุตูู ุฅูู ุงูุฐุงูุฑุฉ ุฎุงุฑุฌ ุงูููุงุฉ. </font><font style="vertical-align: inherit;">ุฃููุงู ุ ูู ุจุฅูุดุงุก ูุนุงูุฌ ุฎุทุฃ ูุชุณุฌููู ูู IDT ุงูุฎุงุต ุจูุง ูุฑุคูุฉ ุงุณุชุซูุงุก ูุญุฏุฏ ุจุฏูุงู ูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฎุทุฃ ูุฒุฏูุฌ ูู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุน ุนุงู:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-comment"><span class="hljs-comment">// in src/interrupts.rs lazy_static! { static ref IDT: InterruptDescriptorTable = { let mut idt = InterruptDescriptorTable::new(); [โฆ] idt.page_fault.set_handler_fn(page_fault_handler); // new idt }; } use x86_64::structures::idt::PageFaultErrorCode; extern "x86-interrupt" fn page_fault_handler( stack_frame: &amp;mut ExceptionStackFrame, _error_code: PageFaultErrorCode, ) { use crate::hlt_loop; use x86_64::registers::control::Cr2; println!("EXCEPTION: PAGE FAULT"); println!("Accessed Address: {:?}", Cr2::read()); println!("{:#?}", stack_frame); hlt_loop(); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุญุงูุฉ ูุดู ุงูุตูุญุฉ ุ ุชููู ูุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุชููุงุฆููุง ุจุชุนููู ุงูุญุงูุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>CR2</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุฃูู ูุญุชูู ุนูู ุงูุนููุงู ุงูุธุงูุฑู ููุตูุญุฉ ุงูุชู ุชุณุจุจุช ูู ุงููุดู. ููุฑุงุกุฉ ูุนุฑุถ ูุฐุง ุงูุนููุงู ุ ุงุณุชุฎุฏู ุงููุธููุฉ </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Cr2::read</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุนุงุฏุฉู ูุง </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PageFaultErrorCode</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุฑ </font><font style="vertical-align: inherit;">ุงูููุน </font><font style="vertical-align: inherit;">ูุฒูุฏูุง ูู ุงููุนูููุงุช ุญูู ููุน ุงููุตูู ุฅูู ุงูุฐุงูุฑุฉ ุงูุฐู ุชุณุจุจ ูู ุญุฏูุซ ุงูุฎุทุฃ ุ ูููู </font><font style="vertical-align: inherit;">ูุชู ุฅุฑุณุงู ุฑูุฒ ุฎุทุฃ ุบูุฑ ุตุงูุญ </font><font style="vertical-align: inherit;">ุจุณุจุจ </font><font style="vertical-align: inherit;">ุฎุทุฃ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LLVM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ูุฐูู ุณูุชุฌุงูู ูุฐู ุงููุนูููุงุช ูู ุงูููุช ุงูุญุงูู. ูุง ูููู ูุชุงุจุนุฉ ุชูููุฐ ุงูุจุฑูุงูุฌ ุญุชู ูุชู ุญู ุฎุทุฃ ุงูุตูุญุฉ ุ ูุฐูู ุ ุฃุฏุฎู ูู ุงูููุงูุฉ </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">hlt_loop</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุตู ุงูุขู ุฅูู ุงูุฐุงูุฑุฉ ุฎุงุฑุฌ ุงูููุงุฉ:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-comment"><span class="hljs-comment">// in src/main.rs #[cfg(not(test))] #[no_mangle] pub extern "C" fn _start() -&gt; ! { use blog_os::interrupts::PICS; println!("Hello World{}", "!"); // set up the IDT first, otherwise we would enter a boot loop instead of // invoking our page fault handler blog_os::gdt::init(); blog_os::interrupts::init_idt(); unsafe { PICS.lock().initialize() }; x86_64::instructions::interrupts::enable(); // new let ptr = 0xdeadbeaf as *mut u32; unsafe { *ptr = 42; } println!("It did not crash!"); blog_os::hlt_loop(); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุฏ ุงูุจุฏุก ุ ูุฑู ุฃู ูุนุงูุฌ ุฃุฎุทุงุก ุงูุตูุญุฉ ูุณูู: </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/81e/aad/666/81eaad666e7980ce90867ffe3fcb0be3.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุณุฌู </font></font><code>CR2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชูู ุญููุง ุนูู ุงูุนููุงู </font></font><code>0xdeadbeaf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฐู ุฃุฑุฏูุง ุงููุตูู ุฅููู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุคุดุฑ ุงูุชุนูููุงุช ุงูุญุงูู ูู </font></font><code>0x20430a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุฐูู ูุญู ูุนุฑู ุฃู ูุฐุง ุงูุนููุงู ูุดูุฑ ุฅูู ุตูุญุฉ ุงูุฑููุฒ. </font><font style="vertical-align: inherit;">ูุชู ุนุฑุถ ุตูุญุงุช ุงูุฑููุฒ ุจูุงุณุทุฉ ุฃุฏุงุฉ ุชุญููู ูููุฑุงุกุฉ ููุท ุ ูุฐูู ุชุนูู ุงููุฑุงุกุฉ ูู ูุฐุง ุงูุนููุงู ุ ูุณุชุชุณุจุจ ุงููุชุงุจุฉ ูู ุญุฏูุซ ุฎุทุฃ. </font><font style="vertical-align: inherit;">ุญุงูู ุชุบููุฑ ุงููุคุดุฑ </font></font><code>0xdeadbeaf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅูู </font></font><code>0x20430a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-comment"><span class="hljs-comment">// Note: The actual address might be different for you. Use the address that // your page fault handler reports. let ptr = 0x20430a as *mut u32; // read from a code page -&gt; works unsafe { let x = *ptr; } // write to a code page -&gt; page fault unsafe { *ptr = 42; }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅุฐุง ุนูููุง ุนูู ุงูุณุทุฑ ุงูุฃุฎูุฑ ุ ููููููุง ุงูุชุฃูุฏ ูู ุฃู ุงููุฑุงุกุฉ ุชุนูู ูุฃู ุงููุชุงุจุฉ ุชุณุจุจ ุฎุทุฃ PageFault. </font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููุตูู ุฅูู ุฌุฏุงูู ุงูุตูุญุงุช </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฃููู ูุธุฑุฉ ุงูุขู ุนูู ุฌุฏุงูู ุงูุตูุญุงุช ุงูุฎุงุตุฉ ุจุงูููุงุฉ: </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-comment"><span class="hljs-comment">// in src/main.rs #[cfg(not(test))] #[no_mangle] pub extern "C" fn _start() -&gt; ! { use x86_64::registers::control::Cr3; let (level_4_page_table, _) = Cr3::read(); println!("Level 4 page table at: {:?}", level_4_page_table.start_address()); [โฆ] }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฏุงูุฉ </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Cr3::read</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู </font></font><code>x86_64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฑุฌุงุน ูู ุชุณุฌูู </font></font><code>CR3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฌุฏูู ุงููุดุท ุงูุญุงูู ูุตูุญุงุช ุงููุณุชูู ุงูุฑุงุจุน. ุนูุงุฆุฏ ุฒูุฌูู </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">PhysFrame</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Cr3Flags</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุญู ููุชููู ููุท ูู ุงูุฃูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุฏ ุงูุจุฏุก ุ ูุฑู ูุฐู ุงููุชูุฌุฉ: </font></font><br><br> <code>Level 4 page table at: PhysAddr(0x1000)</code> <br> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุฐุง ุ ูู ุงูููุช ุงูุญุงูู ุ ูุชู ุชุฎุฒูู ุงูุฌุฏูู ุงููุดุท ูุตูุญุงุช ุงููุณุชูู ุงูุฑุงุจุน ูู </font><font style="vertical-align: inherit;">ุงูุฐุงูุฑุฉ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุนููุฉ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุนูู ุงูุนููุงู </font></font><code>0x1000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง ูู ููุถุญ ุจุงูููุน </font></font><code>PhysAddr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุงูุณุคุงู ุงูุขู ูู: ููููุฉ ุงููุตูู ุฅูู ูุฐุง ุงูุฌุฏูู ูู ุงูููุงุฉุ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุน ุชูุธูู ุงูุตูุญุฉ ุ ูุง ูููู ุงููุตูู ุงููุจุงุดุฑ ุฅูู ุงูุฐุงูุฑุฉ ุงููุนููุฉ ุ ูุฅูุง ุณุชุชููู ุงูุจุฑุงูุฌ ูู ุชุฌุงูุฒ ุงูุญูุงูุฉ ุจุณูููุฉ ูุงููุตูู ุฅูู ุฐุงูุฑุฉ ุงูุจุฑุงูุฌ ุงูุฃุฎุฑู. ูุจุงูุชุงูู ุ ูุฅู ุงูุทุฑููุฉ ุงููุญูุฏุฉ ูููุตูู ุฅูู ุฐูู ูู ูู ุฎูุงู ุจุนุถ ุงูุตูุญุงุช ุงูุงูุชุฑุงุถูุฉ ุ ูุงูุชู ุชูุชุฑุฌู ุฅูู ุฅุทุงุฑ ูุนูู ูู</font></font><code>0x1000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุฐู ูุดููุฉ ูููุฐุฌูุฉ ูุฃูู ูุฌุจ ุนูู kernel ุงููุตูู ุจุงูุชุธุงู ุฅูู ุฌุฏุงูู ุงูุตูุญุงุช ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนูุฏ ุชุฎุตูุต ููุฏุณ ููุคุดุฑ ุชุฑุงุจุท ุฌุฏูุฏ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณูุชู ูุตู ุญููู ูุฐู ุงููุดููุฉ ุจุงูุชูุตูู ูู ุงูููุงูุฉ ุงูุชุงููุฉ. ุงูุขู ุ ุฏุนูุง ูููู ููุท ุฃู ุฃุฏุงุฉ ุงูุชุญููู ุชุณุชุฎุฏู ุทุฑููุฉ ุชุณูู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฌุฏุงูู ุงูุตูุญุงุช ุงูุนูุฏูุฉ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ุงูุตูุญุฉ ุงูุฃุฎูุฑุฉ ูู ูุณุงุญุฉ ุงูุนููุงู ุงูุงูุชุฑุงุถูุฉ ูู </font></font><code>0xffff_ffff_ffff_f000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุณุชุฎุฏููุง ููุฑุงุกุฉ ุจุนุถ ุงูุฅุฏุฎุงูุงุช ูู ูุฐุง ุงูุฌุฏูู:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-comment"><span class="hljs-comment">// in src/main.rs #[cfg(not(test))] #[no_mangle] pub extern "C" fn _start() -&gt; ! { let level_4_table_pointer = 0xffff_ffff_ffff_f000 as *const u64; for i in 0..10 { let entry = unsafe { *level_4_table_pointer.offset(i) }; println!("Entry {}: {:#x}", i, entry); } [โฆ] }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฏ ุฎูุถูุง ุนููุงู ุงูุตูุญุฉ ุงูุงูุชุฑุงุถูุฉ ุงูุฃุฎูุฑุฉ ุฅูู ูุคุดุฑ ุฅูู </font></font><code>u64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ููุง ูู ูุฐููุฑ ูู ุงููุณู ุงูุณุงุจู ุ ูุจูุบ ุญุฌู ุฅุฏุฎุงู ุฌุฏูู ุงูุตูุญุฉ 8 ุจุงูุช (64 ุจุช) ุ ูุจุงูุชุงูู </font></font><code>u64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุซู ุฅุฏุฎุงููุง ูุงุญุฏูุง ุจุงูุถุจุท. ุจุงุณุชุฎุฏุงู ุงูุญููุฉ ุ </font></font><code>for</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนุฑุถ ุงูุณุฌูุงุช ุงูุนุดุฑุฉ ุงูุฃููู ูู ุงูุฌุฏูู. ุฏุงุฎู ุงูุญููุฉ ุ ูุณุชุฎุฏู ูุชูุฉ ุบูุฑ ุขููุฉ ูููุฑุงุกุฉ ูุจุงุดุฑุฉ ูู ุงููุคุดุฑ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code> offset</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุญุณุงุจ ุงููุคุดุฑ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุฏ ุจุฏุก ูุฑู ุงููุชุงุฆุฌ ุงูุชุงููุฉ: </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/725/8b0/9cb/7258b09cb744af09041bb3a2ee05fd54.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุง ููุตูุบุฉ ุงููุฐููุฑุฉ ุฃุนูุงูุ ููููุฉ </font></font><code>0x2023</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุณุงุฆู ุชุณุฌูู ูุฌูุฏ ุฃุนูุงู 0 </font></font><code>present</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ </font></font><code>writable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ </font></font><code>accessed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชุฑุฌูุชูุง ุฅูู ุฅุทุงุฑ </font></font><code>0x2000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุชู ุจุซ ุงูุณุฌู 1 ูู ุงูุฅุทุงุฑ </font></font><code>0x6e2000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฏูู ููุณ ุงูุนูุงูุงุช ุ ุจุงูุฅุถุงูุฉ ุฅูู</font></font><code>dirty</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุงูุฅุฏุฎุงูุงุช 2โ9 ููููุฏุฉ ุ ูุฐูู ูุง ูุชู ุชุนููู ูุทุงูุงุช ุงูุนูุงููู ุงูุงูุชุฑุงุถูุฉ ูุฐู ุฅูู ุฃู ุนูุงููู ูุนููุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุฏูุงู ูู ุงูุนูู ูุน ูุคุดุฑุงุช ุบูุฑ ุขููุฉ ูุจุงุดุฑุฉ ุ ููููู ุงุณุชุฎุฏุงู ููุน </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><code>PageTable</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู </font></font><code>x86_64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="rust hljs"><span class="hljs-comment"><span class="hljs-comment">// in src/main.rs #[cfg(not(test))] #[no_mangle] pub extern "C" fn _start() -&gt; ! { use x86_64::structures::paging::PageTable; let level_4_table_ptr = 0xffff_ffff_ffff_f000 as *const PageTable; let level_4_table = unsafe {&amp;*level_4_table_ptr}; for i in 0..10 { println!("Entry {}: {:?}", i, level_4_table[i]); } [โฆ] }</span></span></code> </pre> <br>     <code>0xffff_ffff_ffff_f000</code>  ,       Rust.  - ,      ,      .        <code>&amp;PageTable</code> ,        ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a> . <br><br> <code>x86_64</code>       ,     : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/70a/d89/73d/70ad8973d35a531c7ad5943ef5144ef8.png"><br><br>   โ      0   1     3.       ,  <code>0x2000</code>  <code>0x6e5000</code>    ,         .       . <br><br><h1 style=";text-align:right;direction:rtl">  ููุฎุต </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชูุฏู ุงูููุงูุฉ ุทุฑููุชูู ูุญูุงูุฉ ุงูุฐุงูุฑุฉ: ุงูุชุฌุฒุฆุฉ ูุชูุธูู ุงูุตูุญุฉ. ุชุณุชุฎุฏู ุงูุทุฑููุฉ ุงูุฃููู ููุงุทู ุฐุงูุฑุฉ ูุชุบูุฑุฉ ุงูุญุฌู ูุชุนุงูู ูู ุชุฌุฒุฆุฉ ุฎุงุฑุฌูุฉ ุ ุจูููุง ุชุณุชุฎุฏู ุงูุทุฑููุฉ ุงูุซุงููุฉ ุตูุญุงุช ุฐุงุช ุญุฌู ุซุงุจุช ูุชุณูุญ ุจูุฒูุฏ ูู ุงูุชุญูู ุงูุฏููู ูู ุญููู ุงููุตูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุฎุฒู ูุคุณุณุฉ ุงูุตูุญุฉ ูุนูููุงุช ุชุฑุฌูุฉ ุงูุตูุญุฉ ูู ุฌุฏุงูู ุจูุณุชูู ูุงุญุฏ ุฃู ุฃูุซุฑ. ุชุณุชุฎุฏู ููุฏุณุฉ x86_64 ุฌุฏุงูู ูู ุฃุฑุจุนุฉ ูุณุชููุงุช ุจุญุฌู ุตูุญุฉ 4 ููููุจุงูุช. ุชุชุฌุงูุฒ ุงููุนุฏุงุช ุชููุงุฆููุง ุฌุฏุงูู ุงูุตูุญุงุช ูุชุฎุฒูู ูุชุงุฆุฌ ุงูุชุญููู ูุคูุชูุง ูู ูุฎุฒู ุงูุชุฑุฌูุฉ ุงูุชุฑุงุจุทู (TLB). ุนูุฏ ุชุบููุฑ ุฌุฏุงูู ุงูุตูุญุงุช ุ ูุฌุจ ุฅุฌุจุงุฑูุง ุนูู ุงูุชูุธูู.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฏ ุชุนูููุง ุฃู ุฌููุฑูุง ูุฏุนู ุจุงููุนู ุชูุธูู ุงูุตูุญุฉ ุ ูุฃู ุงููุตูู ุบูุฑ ุงููุตุฑุญ ุจู ุฅูู ุงูุฐุงูุฑุฉ ูุณูุท PageFault. </font><font style="vertical-align: inherit;">ููุฏ ุญุงูููุง ุงููุตูู ุฅูู ุฌุฏุงูู ุงูุตูุญุงุช ุงููุดุทุฉ ุญุงูููุง ุ ููููุง ุชูููุง ูู ุงููุตูู ุฅูู ุฌุฏูู ุงููุณุชูู ุงูุฑุงุจุน ููุท ุ ูุฃู ุนูุงููู ุงูุตูุญุงุช ุชุฎุฒู ุงูุนูุงููู ุงููุนููุฉ ุ ููุง ูููููุง ุงููุตูู ุฅูููุง ูุจุงุดุฑุฉ ูู ุงูููุงุฉ.</font></font><br><br><h1 style=";text-align:right;direction:rtl">  ูุง ุงูุชุงููุ </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุณุชูุฏ ุงูููุงูุฉ ุงูุชุงููุฉ ุฅูู ุงูุฃุณุณ ุงูุฃุณุงุณูุฉ ุงูุชู ุชุนูููุงูุง ุงูุขู. </font><font style="vertical-align: inherit;">ูููุตูู ุฅูู ุฌุฏุงูู ุงูุตูุญุงุช ูู ุงูููุงุฉ ุ ูุชู ุงุณุชุฎุฏุงู ุชูููุฉ ูุชูุฏูุฉ ุชุณูู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฌุฏุงูู ุงูุตูุญุงุช ุงูุนูุฏูุฉ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุงุฌุชูุงุฒ ุงูุชุณูุณู ุงููุฑูู ููุฌุฏูู ูุชูููุฐ ุชุฑุฌูุฉ ุงูุนููุงู ุงูุจุฑูุงูุฌู. </font><font style="vertical-align: inherit;">ูุดุฑุญ ุงูููุงู ุฃูุถูุง ููููุฉ ุฅูุดุงุก ุชุฑุฌูุงุช ุฌุฏูุฏุฉ ูู ุฌุฏุงูู ุงูุตูุญุงุช.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar436606/">https://habr.com/ru/post/ar436606/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar436594/index.html">ูุฏุงุนุง ุชุดููู ูููุช: ูุตุต ูุฃุณุงุทูุฑ ุงููุฌูู ุงููุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุดุญู</a></li>
<li><a href="../ar436596/index.html">ูุทูุฑูู ููุฏุณ ูุงูู ูู ุงููุงูุน ุนุงูููู ูู ุงููุณุชูู ุงููุชูุณุท. ุชุฌูุจ ููุณู ูู ุงููุนุงูุงุฉ - ูุง ุชุณูู ูุฐุง ุงูุทุฑูู</a></li>
<li><a href="../ar436598/index.html">ุฎุทูุฉ ูุงุญุฏุฉ ุนููุงูุฉ ูุขูุฉ ุงูุดุทุฑูุฌ</a></li>
<li><a href="../ar436600/index.html">ุชุฌุงูุฒ ุญููู ุงูุทุจุน ูุงููุดุฑ ูููุฑูุบุฑุงููุง: ุฑูุน ุฏุนูู ุถุฏ ุงููุจุฏุนูู Fortnite ุจุณุจุจ ุดุฎุตูุงุช ูุนุจุฉ ุงูุฑูุต ุณูููุง</a></li>
<li><a href="../ar436602/index.html">ูุญุฏุฉ ุดุญู ุงููุฌุฑ: 20 ุณูุฉ ูู ุงููุฏุงุฑ</a></li>
<li><a href="../ar436608/index.html">[SAP] SAPUI5 ููุฏูู: ุชูุฑูู ุชุฏุฑูุฌู ูุงูู</a></li>
<li><a href="../ar436610/index.html">ููู ุชุนูู ุฎุตูุตูุฉ CSS ูู ุงููุชุตูุญ</a></li>
<li><a href="../ar436612/index.html">ุจุฑุงูู ูุฑูุจุณ: ูุงุนุฏุฉ ุจูุงูุงุช ุญุณุงุจ ุงูุชุณุฑุจ ุงูุถุฎู ุชุญุชูู ุนูู ูุฆุงุช ุงูููุงููู ูู ุงูุณุฌูุงุช ุ 2-3 ุณููุงุช</a></li>
<li><a href="../ar436614/index.html">ุณูู ุชุณูุง ุชูููู ุนุฏุฏ ุงูููุธููู ุงูุฏุงุฆููู ูู ุฌููุน ุฃูุญุงุก ุงูุนุงูู ุจูุณุจุฉ 7 ูช</a></li>
<li><a href="../ar436616/index.html">ููู ุชุนูู ุณูุบุงููุฑุฉ ูุน ุงูุงุจุชูุงุฑ: ูู ุงูููุงุฆุญ ุงูุญููููุฉ ุฅูู ุงูููุงุฏู ุงูููููุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>