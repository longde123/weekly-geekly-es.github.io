<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìñ üöü üë®üèø‚ÄçüöÄ Altium Designer: que faire si un projet se complique? üõ∂ üë®‚Äçüè≠ üë®üèø‚Äç‚úàÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salutations! Je pense que tout ing√©nieur ou tout simplement amateur / bricoleur / fabricant impliqu√© dans le d√©veloppement de l'√©lectronique, essaie d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Altium Designer: que faire si un projet se complique?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426951/">  Salutations!  Je pense que tout ing√©nieur ou tout simplement amateur / bricoleur / fabricant impliqu√© dans le d√©veloppement de l'√©lectronique, essaie de d√©velopper ses comp√©tences, qui grandissent avec la complexit√© des projets.  √Ä un moment donn√©, une personne atteint un niveau o√π il lui semble que les projets sont devenus tr√®s complexes, prennent beaucoup de temps √† se d√©velopper et que vous devez y faire quelque chose - vous devez optimiser votre travail.  Aujourd'hui, je vais vous dire comment augmenter la productivit√© de mon travail intellectuel dans Altium Designer 18 (ci-apr√®s d√©nomm√© AD ou AD18) et gagner du temps, des nerfs et de l'argent. <br><br><img src="https://habrastorage.org/webt/gu/zt/o5/guzto50uwjuf0q39ju0n_fvxzg4.jpeg"><br><a name="habracut"></a><br><h2>  Pr√©sentation </h2><br>  Maintenant, quelques informations pour ceux qui ne savent pas ce qu'est Altium Designer.  Il s'agit de l'un des trois syst√®mes de CAO professionnels les plus populaires qui vous permettent de d√©velopper des composants √©lectroniques de pratiquement n'importe quelle complexit√©.  Les deux packages restants sont Mentor Expedition (et PADS probablement) et Allegro Cadence.  Chacun de ces 3 packages a ses avantages et ses inconv√©nients, ainsi qu'une sp√©cialisation conditionnelle.  Il n'y aura pas de comparaison aujourd'hui, donc je vais juste dire pourquoi j'ai choisi Altium pour moi: <br><br><ul><li>  L'excellente conception et l'interface r√©fl√©chie de ce programme sont tout simplement hors de comp√©tition.  Il suffit de regarder les concurrents et tout devient clair.  Oui, la conception et la convivialit√© sont importantes lorsque vous passez plusieurs heures au travail chaque jour.  Il facilite √©galement le processus d'apprentissage pour les d√©butants, car √©tudier dans un CAD compr√©hensible et logique est beaucoup plus facile; </li><li>  La possibilit√© de travailler directement avec du "titane" m√©canique tel que SolidWorks.  Nous pouvons simplement ouvrir la carte d'AD en solide et l'ajouter dans le cadre de l'assemblage sans perte de qualit√©.  Adieu la conversion via STEP.  Pour moi, et certainement pour vous, c'est important, car  un appareil √©lectronique n'est pas seulement une carte avec des composants, c'est presque toujours aussi un bo√Ætier.  Cette fonctionnalit√© vous permet de cr√©er facilement un mod√®le d'assemblage de l'ensemble de l'appareil et d'√©viter les erreurs de conception et de fabrication de moules pour 3 √† 5 000 $ chacune; </li><li>  La pr√©sence d'une quantit√© suffisamment importante d'informations en russe, ce qui fournit un seuil d'entr√©e assez bas.  C'est la principale raison pour laquelle Altium domine dans la CEI, et pas autre chose.  Essayez de trouver quelque chose en russe par Mentor ou Cadence, voulez imm√©diatement apprendre √† travailler en eux; </li><li>  Dans la CEI et en Asie, la plupart des entreprises travaillent √† Altium et aux √âtats-Unis, elles d√©tiennent une part de march√© importante.  En Europe, ils adorent SolidWorks PCB, qui est exactement la m√™me AD int√©gr√©e.  Qu'est-ce que √ßa donne?  Vous pouvez facilement trouver un emploi si vous d√©cidez de travailler dans le domaine du d√©veloppement √©lectronique. </li></ul><br>  Oui, oui, je n'ai pas parl√© de toutes sortes de fonctionnalit√©s de simulation, d'outils et plus encore, mais ce n'est pas n√©cessaire.  Les 3 syst√®mes de CAO d√©crits ci-dessus du c√¥t√© technique sont capables de faire √† peu pr√®s la m√™me chose, juste avec diff√©rents degr√©s de commodit√© et de b√©quilles. <br><br><h2>  Je veux apprendre √† travailler dans Altium, mais √ßa me fait peur </h2><br>  Une fois, en 2011-2012, j'ai eu l'opportunit√© de travailler pour la premi√®re fois en AD, √ßa m'a paru cool, mais effrayant, car  √† ce moment, l'anglais √©tait un obstacle pour moi et en g√©n√©ral, on ne savait pas comment y travailler.  Pour surmonter ma peur d'un grand nombre d'outils et de fonctionnalit√©s, les vid√©os de Camarade m'ont aid√©.  Sabunina (merci √† lui), qui sont sur youtube en russe et d√©crivent les choses de base de base qui vous ont permis de faire les premiers pas dans le mastering.  Au cours des 6 derni√®res ann√©es, il y a eu encore plus d'informations sur la MA en russe, donc le seuil d'entr√©e est devenu encore plus bas, alors n'ayez pas peur et apprenez. <br><br>  Pour vous permettre de ma√Ætriser plus facilement Altium Designer, je vous propose quelques "pain d'√©pices": <br><br><ul><li>  Le cycle des cours de formation vid√©o est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Les vid√©os ont une longue dur√©e, mais contiennent des informations compl√®tes sur la fonction de base (du moins ils le disent) et permettront √† tout √©tudiant de concevoir facilement son premier appareil; </li><li>  Biblioth√®ques pour Altium Designer - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> .  Vous trouverez ici tous les composants passifs (r√©sistances, condensateurs, etc.), ainsi qu'un grand nombre de transistors, diodes et microcircuits populaires, y compris MK et FPGA.  La cr√©ation de biblioth√®ques au d√©but prend beaucoup de temps, donc j'esp√®re que je vous ferai gagner beaucoup de temps. </li></ul><br>  Si en cours d'√©tude, vous avez des questions et des difficult√©s, vous pouvez m'√©crire dans des messages priv√©s, si possible j'essaie de r√©pondre √† tout le monde. <br><br><h2>  Quand un projet se complique-t-il? </h2><br>  Tout projet plus ou moins s√©rieux, qu'il s'agisse du code source d'un programme ou d'un sch√©ma de circuit d'un appareil √©lectronique, il y a toujours une ligne apr√®s laquelle le chaos s'installe, le projet devient incompr√©hensible, il est difficile √† v√©rifier et √† tester, il √©chappe √† tout contr√¥le. <br>  Cette limite est individuelle pour chaque d√©veloppeur: on peut parfaitement comprendre un appareil de 1000 composants, et l'autre commence √† faire des erreurs et a du mal avec un projet de 200 composants.  En g√©n√©ral, l'estimation du nombre de composants √©lectroniques est un peu subjective, mais elle nous permet de comprendre l'essence g√©n√©rale du probl√®me. <br><br>  De ce qui pr√©c√®de, nous pouvons tirer la conclusion suivante: <br><blockquote>  Un projet se complique lorsqu'il devient n√©cessaire pour un d√©veloppeur de prendre des mesures pour pr√©server la lisibilit√© et l'intelligibilit√© de la source du projet. </blockquote><br>  Jusqu'√† un certain moment, vous pouvez certainement marquer n'importe quoi et ¬´dessiner¬ª sur le diagramme n'importe quoi et n'importe quelle mani√®re, par exemple, comme ceci: <br> <a href=""><img src="https://habrastorage.org/webt/vd/w2/dq/vdw2dq_hwfhik-wmtoqughhf3_4.png"></a> <br><br>  Tout fusionne, le circuit est b√¢cl√©, et finalement cela conduira √† un chemin tortueux ou erron√©, ils n'ont pas imm√©diatement remarqu√© dans ce chaos et en cons√©quence couper les conducteurs sur les planches et souder la morve. <br><br>  Regardons un autre chef-d'≈ìuvre - le circuit Arduino fabriqu√© en AD: <br> <a href=""><img src="https://habrastorage.org/webt/nm/sy/za/nmsyzah9v2a4utjzaknyirhrxbg.png"></a> <br><br>  Comment √ßa vous plait?  √áa me fait mal ... Je regarde R2 et R3, il semble clair que ce sont des bretelles pour I2C, mais o√π est ce I2C et quel connecteur devraient-ils √™tre un myst√®re pour moi et je dois le chercher longtemps et fastidieux, et quel est le sch√©ma avec un petit nombre de composants et simple, mais d√©j√† chaotique. <br><br>  Maintenant, comme alternative, un exemple de mes travaux (cliquable): <br> <a href=""><img src="https://habrastorage.org/webt/bj/qa/8n/bjqa8npbvzuprpktybwldilk_zs.png"></a> <br><br>  Regardez le sch√©ma et je pense que vous comprenez imm√©diatement au moins o√π est l'entr√©e, et o√π la sortie est les "fl√®ches", et nous ne sommes pas arabes, nous lisons (y compris les sch√©mas) de gauche √† droite.  Le module a une fonction - un filtre en mode commun triphas√© et rien de plus.  Le sch√©ma est fait avec soin et occupe 1 feuille dans la documentation.  1 feuille - 1 fonction. <br><br>  En fait, ce que j'ai √©crit ci-dessus, ce sont des bagatelles qui sont importantes et qui facilitent la vie, mais qui sont encore des bagatelles.  Bien que j'esp√®re que vous saisissez l'id√©ologie g√©n√©rale, r√©sumons maintenant comment "faire": <br><br><ul><li>  Le principe d'encapsulation est √©galement applicable dans les circuits: <b>chaque module effectue une seule t√¢che simple</b> .  Un module est g√©n√©ralement une seule feuille dans la documentation, par exemple, certains A3; </li><li>  Le sch√©ma de circuit doit √™tre r√©alis√© dans le m√™me style et tr√®s soigneusement.  La pr√©cision lorsque vous travaillez √† l'avenir sera pleinement payante.  Et lorsque vous montrez √† l'entrevue un plan compr√©hensible et soigneusement ex√©cut√©, vous aurez imm√©diatement une bonne impression.  Ils voient les mains √† la fois et n'aiment g√©n√©ralement pas; </li><li>  N'utilisez pas de feuilles plus grandes que A2, m√™me si vous avez quelques milliers de composants.  Si vous voulez coller A1, vous faites quelque chose de mal.  Vous devrez probablement s√©lectionner certains modules sur le diagramme et les transf√©rer sur une feuille s√©par√©e. </li></ul><br><h2>  √ätes-vous en train de critiquer?  Sugg√©rez! </h2><br>  Maintenant, apr√®s avoir critiqu√© les autres, il est n√©cessaire de proposer une alternative ¬´comment faire¬ª.  Il faut comprendre que l‚Äôopinion subjective de l‚Äôauteur d√©crite dans l‚Äôarticle se fonde sur son exp√©rience professionnelle et sa propre vision du monde. <br><br>  Je propose de faire comme tous les gens normaux, c'est-√†-dire que nous allons d'abord faire <s>une</s> mauvaise version du sch√©ma <s>par le cul</s> , puis r√©soudre h√©ro√Øquement tous les probl√®mes et amener √† un √©tat acceptable.  C'est parti! <br><br>  Cr√©ez un projet dans Altium Designer.  Dans celui-ci, par exemple, je vais d√©crire un convertisseur DC / DC buck 6 phases.  J'aurai 6 canaux de puissance et 1 MK pour contr√¥ler toutes les phases.  Chaque canal d'alimentation ressemblera √† ceci (cliquable): <br><br> <a href=""><img src="https://habrastorage.org/webt/jx/v0/9b/jxv09bgcfh7u5xrlw3ieaw1rumw.png"></a> <br><br>  Le canal d'alimentation lui-m√™me que j'ai dessin√© correctement √† l'origine.  Si vous regardez attentivement, j'ai une entr√©e de signal sur le circuit - 2 PWM √† gauche + VCCIN avec GND, il y a une sortie - VCC5V et GND.  Le module lui-m√™me effectue une t√¢che - convertit VCCIN en 5V.  Ensuite, nous faisons mal ... <br><br>  Nous rencontrons ici la premi√®re restriction - un canal occupe presque la totalit√© de la feuille A3, nous en avons 6, donc si j'augmente la feuille √† A2, cela ne correspond toujours pas.  Vous pouvez augmenter la feuille √† A1 - excellent, pour l'instant nous <s>sommes</s> des d√©veloppeurs inexp√©riment√©s, et nous suivons un tel chemin et observons l'image suivante (cliquable): <br><br> <a href=""><img src="https://habrastorage.org/webt/ek/wh/6n/ekwh6nzv6qis3ns0ee_gqw5mhfm.jpeg"></a> <br><br>  Il semble que ce soit clair pour l'instant - il y a 6 morceaux du circuit, il y a MK ci-dessous.  Cela ne repr√©sente que 30% du r√©gime, que faut-il d'autre?  Reliure MK + commentaires?  Bien s√ªr!  L'appareil doit-il communiquer avec le monde ext√©rieur?  Bien s√ªr, ajoutez RS485.  Ahhh, vous avez toujours besoin d'alimentation pour les pilotes, c'est-√†-dire que vous devez obtenir + 12V de VCCIN et ajouter DC / DC pour cela!  Un autre MK ... il a besoin de 1 DC / DC suppl√©mentaire et ajoute maintenant tout cela - regardez (cliquable): <br><br> <a href=""><img src="https://habrastorage.org/webt/ve/dt/5s/vedt5s9enrmszzqgnkcvx2hpuhm.jpeg"></a> <br><br>  Il est clair ce qui est l√†?  Et si je ne disais pas d'abord sur la fonctionnalit√© de l'appareil?  Et si, en plus de cela, il peignait aussi maladroitement des morceaux maladroits du circuit?  Et si les composants UGO dans les biblioth√®ques sont dessin√©s initialement de mani√®re tordue?  Peur?  C'est pareil ... <br><br><h2>  Que faire? </h2><br>  R√©fl√©chissons maintenant ... Dans cet appareil, il y a 150 composants en tout, dans mes projets moyens li√©s √† l'√©lectronique de puissance, ils sont g√©n√©ralement de 1500 √† 4000, c'est-√†-dire l'ampleur du d√©sastre que vous imaginez quand il y a 10 feuilles A1 comme ci-dessus et qu'elles sont toutes encombr√©es et obstru√©es.  Les erreurs sont in√©vitables! <br><br>  Nous regardons et pensons plus loin.  La premi√®re chose √† faire est de former les modules.  Je les ai tous form√©s, car  Je viens de les copier √† partir d'un artisanat domestique, mais j'ai cass√© un module - la m√©moire EEPROM fonctionnant sur I2C.  J'ai fait la m√™me erreur que dans le sch√©ma Arduino, comment le faire: <br><br><img src="https://habrastorage.org/webt/my/te/ui/myteuiwqvk4dwi6s8_uehdlodug.png"><br><br>  Comme vous pouvez le voir, j'ai rassembl√© une puce m√©moire dans un ¬´tas¬ª qui bloque le condensateur de puissance, qui se tiendra pr√®s de lui et tirera jusqu'√† + 3,3 V.  Maintenant, je n'ai pas √† chercher tous les composants n√©cessaires pour lier une puce m√©moire, selon le sch√©ma, ils sont tous au m√™me endroit.  Soit dit en passant, il n'est pas n√©cessaire d'allouer une feuille distincte pour chaque petite puce, mais l'EEPROM n'est pas un module s√©par√©, mais plut√¥t une partie de la liaison du microcontr√¥leur.  MK avec cerclage - maintenant c'est un module digne d'une feuille s√©par√©e. <br><br>  Passons √† autre chose ... Nous avons des parties r√©p√©titives du circuit, par exemple, 2 canaux absolument identiques pour la r√©troaction sur un amplificateur op√©rationnel (OA), 6 canaux de puissance plus exactement identiques.  Cela peut √©galement √™tre optimis√©. <br><br>  Une autre pens√©e brillante est que si les 6 canaux buck sont identiques, leur trace sera probablement la m√™me.  Cela doit √™tre utilis√©.  Peut-√™tre que vous pouvez s√©parer les routes pour un module, puis les 5 autres disent "bien, r√©p√©tez"?  Il s'av√®re que AD nous permet de simplifier consid√©rablement nos vies. <br><br><h2>  Faisons-le magnifiquement! </h2><br>  O√π commence tout appareil √©lectronique?  Avec une id√©e, bien s√ªr.  Comment transformer cette id√©e en quelque chose de tangible?  Par exemple, vous pouvez dessiner un diagramme o√π la fonctionnalit√© de macro sera affich√©e.  Pas besoin d'√™tre tr√®s intelligent, juste une photo sur une planche ou un morceau de papier: <br><br><img src="https://habrastorage.org/webt/zc/o3/sr/zco3srognsucoj_w2aaclx9ngze.png"><br><br>  Sur la feuille se trouvent toutes les fonctionnalit√©s de notre appareil.  Tout d'abord, ce circuit nous permet de comprendre comment fonctionne fondamentalement l'appareil: il y a une partie de puissance √† 6 canaux (Buck), qui est contr√¥l√©e par le MCU, qui pour le contr√¥le g√©n√®re 2 signaux de retour via l'ampli-op (Amp.), Et ainsi de suite il y a aussi quelques cc / cc pour l'auto-alimentation et une interface Modbus pour la communication avec le monde.  Deuxi√®mement, selon le sch√©ma, les blocs fonctionnels pr√™ts √† l'emploi sont imm√©diatement visibles. <br><br>  Maintenant, nous devons cr√©er 5 feuilles d'A3 dans AD et transf√©rer la partie correspondante du circuit √† chacun, mais avant cela, nous devons consid√©rer les types de connexions et de circuits que nous utiliserons dans AD: <br><br><ul><li>  <b>Port d'alimentation</b> <br><img src="https://habrastorage.org/webt/c5/mb/it/c5mbitcaqsofvn-ufyayajxglzq.png"><br>  Ce type est global tout au long du projet.  Autrement dit, si nous mettons un tel port sur une feuille et sur une autre, ils fusionneront en un seul circuit avec le nom "VCC3V3".  En cons√©quence, en outre, les circuits de puissance sur diff√©rentes feuilles n'ont pas besoin d'√™tre connect√©s.  Ce type de port d√©finit uniquement l'alimentation et la masse (GND); </li><li>  <b>√âtiquette nette</b> <br><img src="https://habrastorage.org/webt/uq/qh/yg/uqqhygfvtvqpwecsopyvy0nqb4q.png"><br>  Un outil pour nommer un circuit sp√©cifique dans un circuit.  Les cha√Ænes portant le m√™me nom (NetLabel) sont combin√©es √† la fois au sein d'une m√™me feuille et au-del√†.  Nous utiliserons cet outil casher, c'est-√†-dire uniquement pour sp√©cifier des noms et des connexions dans une seule feuille; </li><li>  <b>Placer le port</b> <br><img src="https://habrastorage.org/webt/5s/ew/di/5sewdiqhjjqltwansn6bn-uhcfc.png"><br>  Outil pour les connexions intermodulaires.  Contrairement √† NetLabel, qui est utilis√© pour se connecter √† l'int√©rieur d'un module / feuille, ce port est utilis√© pour communiquer avec le "monde ext√©rieur".  Nous connectons les modules entre eux, tous les circuits sauf l'alimentation et la terre (GND). </li></ul><br><br>  Maintenant, nous devons d√©finir des signaux √† l'aide de Place Port qui iront au-del√† du module.  Par exemple, pour un module avec un amplificateur op√©rationnel, cela ressemblera √† ceci: <br><br> <a href=""><img src="https://habrastorage.org/webt/rn/ei/gp/rneigpk1jw6ug4opk96df6jsu9w.png"></a> <br><br>  Maintenant, notre module est devenu une partie compl√®tement logique du circuit: il a une entr√©e (INPUT), une sortie (ADC-OUT) et 2 connexions globales (Power Port) - GND et VCC3V3.  Rien de plus.  Nous ferons de m√™me pour les autres modules et effectuerons l'affectation automatique des num√©ros aux symboles (d√©signateur) en allant dans <i>Outils -&gt; Annotations -&gt; Annoter les sch√©mas</i> et en cliquant sur <i>Mettre √† jour la liste des modifications</i> : <br><br> <a href=""><img src="https://habrastorage.org/webt/6p/ct/5e/6pct5e8yygpyhzvg0uyfxyjrdja.png"></a> <br><br>  Ensuite, cliquez sur <i>Accepter les modifications</i> et dans la fen√™tre qui s'ouvre, cliquez sur <i>Ex√©cuter les modifications</i> : <br><br> <a href=""><img src="https://habrastorage.org/webt/l5/vt/ur/l5vturkknxvohhatyk4viimvl-g.png"></a> <br><br>  Nous fermons les fen√™tres suppl√©mentaires et voyons que nos d√©signations (D?, R?, C ?, etc.) ont re√ßu des num√©ros uniques.  Apr√®s les actions effectu√©es, nous arrivons ici √† un tel projet - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PDF</a> . <br><br>  Comment?  Je pense que personne ne discutera - tout est net, il est clair comment cela fonctionne √† premi√®re vue, il n'y a pas de d√©chets dans le diagramme.  Maintenant, cela reste pour les petits - nous devons en quelque sorte cr√©er 6 canaux √† partir d'une feuille et, en g√©n√©ral, tout assembler. <br><br>  Pour ce faire, cr√©ez une nouvelle feuille, je vais juste l'avoir appel√©e <i>Conception principale</i> , mais le nom peut √™tre n'importe quoi.  Dans cette feuille, nous aurons un sch√©ma fonctionnel que j'ai pr√©c√©demment dessin√© √† la main.  Pour cr√©er le module, allez <i>Placer -&gt; Symbole de feuille</i> .  Maintenant, d√©finissons notre √©l√©ment sur le style de l'ensemble du projet, c'est-√†-dire la police (j'ai ISOCPEUR), la largeur et la couleur du cadre, l'indicateur, etc., et √©crivons √©galement le nom de la feuille avec notre module: <br><br><img src="https://habrastorage.org/webt/zj/uv/0w/zjuv0w3hkefzuvnq8xc6dnmhcku.png"><br><br>  Maintenant, faites un clic droit sur notre module (carr√© orange) et allez dans <i>Actions des symboles de feuille -&gt; Synchroniser les entr√©es et le port de la feuille</i> et une fen√™tre s'ouvrira: <br><br><img src="https://habrastorage.org/webt/fr/gs/l3/frgsl3n9uo2xcqdhnrgpirshcjk.png"><br><br>  Nous y voyons une liste de notre Place Port.  Nous s√©lectionnons tout et cliquez sur <i>Ajouter des entr√©es de feuille</i> , installez-le dans notre module et d√©finissez le type g√©n√©ral de police, nous obtenons le module suivant: <br><br><img src="https://habrastorage.org/webt/u1/8b/-6/u18b-6hcubunivyggssoyyvw6-a.png"><br><br>  Maintenant, nous r√©p√©tons la m√™me chose pour les 4 modules restants et √† la sortie, nous obtenons cette structure: <br><br><img src="https://habrastorage.org/webt/5h/km/o9/5hkmo9yrrttkgr7xjqyedxsyuoi.png"><br><br>  Ici, il convient de pr√™ter attention √† 2 points: <br><br><ul><li>  La 5√®me feuille (Page 5) avec dc / dc ne d√©tecte pas Place Port lorsque vous essayez de synchroniser, et si vous regardez le sch√©ma du module, ils ne sont vraiment pas l√†, seulement Power Port.  MAIS!  Il est n√©cessaire de retirer le module √† coup s√ªr, sinon les composants de cette feuille n'appara√Ætront tout simplement pas sur la carte; </li><li>  Notez que l'outil Placer un port a un param√®tre de directivit√©: entr√©e, sortie et bidirectionnel.  Vous devez d√©terminer correctement le type de port pour votre signal, par exemple, les ports PWM-H sont en sortie (sortie) pour le module MCU et en entr√©e (entr√©e) pour le module Buck. </li></ul><br><br><h2>  Clone </h2><br>  Maintenant que nous avons cr√©√© tous les modules, nous devons augmenter leur nombre afin d'obtenir 6 canaux pour la section puissance et 2 canaux pour les amplificateurs op√©rationnels.  Comme le dit le proverbe, il y a toujours deux sorties, m√™me si vous avez √©t√© mang√© et ce cas ne fait pas exception.  Je vais montrer les deux fa√ßons: <br><br><ul><li>  <b>Copie en main √† main</b> <br>  Tout est simple ici - copier-coller ordinaire.  S√©lectionnez notre module, Ctrl + C et Ctrl + V - nous obtenons un nouveau module.  Reste √† changer simplement le num√©ro de d√©signation de M3 √† M6.  Ensuite, nous connectons tout et obtenons une version interm√©diaire du circuit: <br><br> <a href=""><img src="https://habrastorage.org/webt/sj/z8/-z/sjz8-zjktmvg7pybeqcjcyuathe.png"></a> <br><br>  J'ai copi√© le module d'ampli op, ajout√© quelques connecteurs et bus GND et VCCIN, ils sont maintenant globaux et sont connect√©s imm√©diatement dans tous les modules o√π ils se trouvent.  Dans ce cas, cela n'a aucun sens de les faire glisser s√©par√©ment Place Port.  J'ai √©galement connect√© tous les circuits externes √† l'exception du module Buck, sur celui-ci je vais d√©montrer la 2√®me mani√®re, plus compacte. </li><li>  <b>Copie Jedi</b> <br>  Contrairement √† la version pr√©c√©dente, tout ici est difficile √† comprendre, mais plus facile √† mettre en ≈ìuvre et surtout plus comp√©tent.  Plusieurs canaux seront cr√©√©s √† l'aide de la directive <i>REPEAT</i> .  Pour ce faire, au lieu de d√©signer M1, nous √©crivons la commande <i>REPEAT (BUCK, 1, 6)</i> .  Cette √©quipe cr√©era des cha√Ænes avec des d√©signateurs de BUCK1 √† BUCK6, c'est-√†-dire nos 6 pi√®ces.  Appuyez sur <i>Entr√©e</i> et voyez comment AD a cr√©√© le nombre de canaux requis: <br><br><img src="https://habrastorage.org/webt/-o/sl/dy/-osldyuu0iuv_x-zbtpij1vmybq.png"><br><br>  Vous devez maintenant connecter le circuit.  Je vais commencer par une simple - nos sorties OUT-5V sur tous les canaux doivent √™tre combin√©es, car  toutes nos phases fonctionnent comme un seul convertisseur pour une sortie commune.  Pour ce faire, il suffit de dessiner un circuit normal √† partir de Place Port et de le connecter au connecteur de sortie: <br><br><img src="https://habrastorage.org/webt/e9/hn/n9/e9hnn95pdp_ojpwm9yekqleigq0.png"><br><br>  Maintenant, vous devez dire √† AD que nos ports PWM-H ne sont pas un port / circuit, mais 6 canaux distincts.  Pour ce faire, cliquez sur Placer le port avec le nom PWM-H et √©crivez <i>REPEAT (PWM-H)</i> dans la colonne avec le nom, cela cr√©era 6 cha√Ænes diff√©rentes: <br><br><img src="https://habrastorage.org/webt/rl/8s/fb/rl8sfbllpq1iip970vwc_4y4xh8.png"><br><br>  Vous devez maintenant sortir la cha√Æne normale (Ctrl + W) de Place Port avec le nom REPEAT (PWM-H) et donner √† cette cha√Æne le nom PWM-H √† l'aide de l'outil NetLabel.  Il faut ensuite retirer le bus du circuit et lui donner le nom <i>PWM-H [1..6]</i> .  Ainsi, √† partir d'un port, nous avons d√©riv√© 6 circuits diff√©rents qui auront les noms PWM-H1, PWM-H2 et ainsi de suite: <br><br><img src="https://habrastorage.org/webt/13/w6/ak/13w6akm1gjnn3pgt1gdvciyuyua.png"><br><br>  Ensuite, nous connectons le bus <i>PWM-H [1..6]</i> √† la sortie de bus sur le module MCU pour les transistors en demi-pont sup√©rieur.  Des proc√©dures similaires doivent √©galement √™tre effectu√©es pour les transistors inf√©rieurs et juste jeter le bus, √† la fin, nous aurons un circuit de la forme suivante: <br><br><img src="https://habrastorage.org/webt/cf/ha/mj/cfhamjkazr69f7wkvqken9jgbo4.png"><br><br>  Maintenant que nous avons appris le Zen, refaisons le module Jedi avec un amplificateur op√©rationnel afin de ne pas laisser de b√©quille sous forme de copier-coller.  En cons√©quence, nous obtenons la version finale du sch√©ma de circuit: <br><br> <a href=""><img src="https://habrastorage.org/webt/li/o6/qs/lio6qs-imr6-dtzxjzqfwm3d3au.jpeg"></a> </li></ul><br><br>  C'est l√† que nous terminerons avec le sch√©ma du circuit, le r√©sultat final est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PDF</a> .  Comme vous pouvez le voir, le sch√©ma le plus simple est sorti, juste quelques feuilles A3 √† moiti√© vides, tout op√©rateur radio amateur avec un minimum de temps et de nerfs peut le comprendre. <br><br><h2>  √âconomisez des dizaines d'heures de travail par trace </h2><br>  Dans les r√©alit√©s modernes, lorsque le degr√© d'int√©gration des composants (microcircuits) est assez √©lev√©, l'√©laboration d'un sch√©ma de circuit prend de moins en moins de temps.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©j√† pas si souvent que vous rencontrerez 90% de monstres analogiques et c'est bien. Le ¬´point faible¬ª du processus de d√©veloppement de l'appareil reste la conception de la carte de circuit imprim√© (PCB). Les syst√®mes de CAO modernes fournissent de nombreux outils diff√©rents pour r√©duire les co√ªts de main-d'≈ìuvre li√©s au d√©veloppement d'une carte, et c'√©tait pr√©cis√©ment l'objectif principal de cet article. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme je l'ai soulign√© plus t√¥t, il existe plusieurs modules r√©p√©titifs dans notre appareil: buck et ampli-op. Si vous regardez les appareils modernes, il y en aura beaucoup dans de nombreuses r√©p√©titions, par exemple, un oscilloscope √† 4 canaux dans lequel tous les canaux sont identiques. Bien s√ªr, nous pouvons tracer chaque canal avec nos mains et nous pouvons simplifier notre vie. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout ce qui a √©t√© d√©crit pr√©c√©demment dans l'article s'appelle simplement - un </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sch√©ma multicanal</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">semble simple et de bon go√ªt. </font><font style="vertical-align: inherit;">Nous avons cr√©√© un tel sch√©ma de circuit et maintenant il nous permettra de faire ce qui suit - de s√©parer les circuits pour un canal abaisseur, puis de copier simplement dans les 5 restants l'emplacement des composants (disposition) et de tous les conducteurs. </font><font style="vertical-align: inherit;">Tout d'abord, transf√©rez tous nos composants du sch√©ma de circuit vers le fichier avec la carte de circuit imprim√©, cliquez sur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conception -&gt; Mettre √† jour le document PCB</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><font style="vertical-align: inherit;">Maintenant, cliquez sur </font><i><font style="vertical-align: inherit;">Ex√©cuter les modifications,</font></i><font style="vertical-align: inherit;"> et en cons√©quence, nous obtenons une telle carte de circuit imprim√©:</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/-s/md/vs/-smdvse1gmy6i_qrhjkyjyf_xck.png"></a> <br><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br><br> <a href=""><img src="https://habrastorage.org/webt/rh/di/zr/rhdizrfl3abzwrw7bdj6sos-bii.png"></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme vous pouvez le voir, 6 zones rouges sont apparues sur le tableau, appel√©es chambres. </font><font style="vertical-align: inherit;">Chaque chambre a des composants √©lectroniques pour un canal et rien de plus. </font><font style="vertical-align: inherit;">Vous devez maintenant d√©finir les dimensions de la pi√®ce, c'est-√†-dire indiquer la zone sp√©cifique que les composants de notre cha√Æne occuperont et faire la disposition des d√©tails.</font></font> Cela ressemble √† ceci: <br><br> <a href=""><img src="https://habrastorage.org/webt/b0/e7/pm/b0e7pm-noct7bcnkrkwhsgggmrw.png"></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ainsi, les composants de chaque canal seront localis√©s et occuperont exactement une telle zone. C'est vrai, je n'aime pas quelque chose ici ... Ouais! Les d√©signations des composants dans la couche s√©rigraphique (lettres blanches) n'ont pas de num√©rotation de bout en bout, mais une num√©rotation au format "Room_Name", c'est-√†-dire que nous avons des r√©sistances R6_BUCK1, R6_BUCK2 et ainsi de suite. Je veux √©viter le pr√©fixe "_BUCK1" et chaque composant a son propre num√©ro. Appuyez sur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ctrl + L</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , puis acc√©dez au menu </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Options d'annotation</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o√π nous voyons un tel menu: </font><font style="vertical-align: inherit;">Maintenant, vous devez s√©lectionner l'option de num√©rotation </font><i><font style="vertical-align: inherit;">$ ComponentPrefix $ GlobalIndex</font></i><font style="vertical-align: inherit;"> et cliquez sur OK. Cliquez sur </font><i><font style="vertical-align: inherit;">R√©initialiser tout</font></i><font style="vertical-align: inherit;"> pour </font><i><font style="vertical-align: inherit;">supprimer</font></i><font style="vertical-align: inherit;"> toutes les valeurs, puis sur </font><i><font style="vertical-align: inherit;">Anotate Designated.</font></i></font><br><br> <a href=""><img src="https://habrastorage.org/webt/jo/iq/o9/joiqo9-1gdxlwdttbuvrf29uxne.png"></a> <br><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Comme vous pouvez le voir dans le canal BUCK2, les composants ont chang√© leurs d√©signations de R6_BUCK2 aux d√©signations plus famili√®res R6, R7, etc.: il </font></font><br><br><img src="https://habrastorage.org/webt/c2/0c/mz/c20cmzv77sxz1jb2iy7auzw5mzi.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reste √† accepter les modifications en cliquant sur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Accepter les modifications</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et dans la fen√™tre qui s'ouvre, confirmez tout en cliquant sur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ex√©cuter les modifications</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Nous transf√©rons les modifications du circuit vers le circuit imprim√© </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Design -&gt; Update PCB Documet</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comme nous l'avons d√©j√† fait. </font><font style="vertical-align: inherit;">En cons√©quence, nous observons des d√©signations ¬´humaines¬ª qui n'occupent pas la totalit√© de la carte et de la merde: </font></font><br><br><img src="https://habrastorage.org/webt/v9/a-/s8/v9a-s8fylb11ljgqwbq9atwc3ya.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ayant une disposition et des d√©signations ad√©quates, nous proc√©dons au tra√ßage - nous allons tracer les circuits √† l'int√©rieur d'une pi√®ce BUCK6 et obtenir l'image suivante:</font></font><br><br><img src="https://habrastorage.org/webt/sl/g_/jb/slg_jb6wz8ia-ivopkpuau2tr6e.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je n'ai pas tout reproduit, GND l'a laiss√© intact, car </font><font style="vertical-align: inherit;">il est g√©n√©ralement rempli d'un seul polygone. </font><font style="vertical-align: inherit;">Assez pour une d√©monstration. </font><font style="vertical-align: inherit;">Proc√©dez maintenant comme suit:</font></font><br><br><ul><li>  <i>Design -&gt; Rooms -&gt; Cope Room Format</i> </li><li> Altium    <i>Choose source room</i> ,           ,     BUCK6 </li><li>  altium  <i>ChooseDestination Room</i> ,            .    BUCK-. </li><li>        <i>Apply To Specified Channel</i> ,  ,        ,    . <br> <a href=""><img src="https://habrastorage.org/webt/v5/-e/qj/v5-eqjm_va7esddyjkzku5oulle.png"></a> </li><li>    ! </li></ul><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je n'ai pas mis de gueule et cliqu√© sur 2 canaux, car Il existe des situations o√π, par exemple, tous les canaux ne sont pas identiques. N'oubliez pas le VRM sur la carte m√®re du CPU, il y a souvent 3-4 phases d'une part, et 3-4 autres de l'autre. Pour mon cas, il peut s'agir de 3 phases avec un c√¢blage et de 3 phases suppl√©mentaires avec un autre. Je pense que l'id√©ologie g√©n√©rale est compr√©hensible. Regardons maintenant le r√©sultat: nous observons </font><font style="vertical-align: inherit;">3 canaux identiques et, surtout, j'ai pass√© du temps sur tous les canaux comme 1. Dans ce cas abstrait, je gagne du temps par 6 fois, mais dans les probl√®mes r√©els, la proc√©dure de r√©duction des co√ªts de main-d'≈ìuvre est √† peu pr√®s la m√™me. Et ce n'est pas un facteur sans importance - si vous faites 6 canaux avec vos mains, alors "l'≈ìil est flou" en raison du m√™me type de travail et il est tr√®s probable qu'il fasse une erreur ou fasse une courbe de mise en page.</font></font><br><br> <a href=""><img src="https://habrastorage.org/webt/je/p6/zt/jep6ztsxyvoosu1x00wflcgfeii.png"></a> <br><br><font style="vertical-align: inherit;"></font><br><br><h2>  R√©sum√© </h2><br>                 -   .   ‚Äî   ,               . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr426951/">https://habr.com/ru/post/fr426951/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr426941/index.html">Sur la question de la vitesse et de sa mesure en Arduino</a></li>
<li><a href="../fr426943/index.html">La traduction russe la plus compl√®te du cours de programmation Harvard CS50 2015 2015, gratuite sur YouTube</a></li>
<li><a href="../fr426945/index.html">Ce que j'ai aim√© chez Paul Allen</a></li>
<li><a href="../fr426947/index.html">"Le diable m'a pouss√© √† aller travailler au bureau" - 10 questions au programmeur, 9√®me √©dition</a></li>
<li><a href="../fr426949/index.html">Recr√©ation du son THX Deep Note</a></li>
<li><a href="../fr426953/index.html">Exemple d'archivage Linux et m√©thodes d'installation</a></li>
<li><a href="../fr426957/index.html">Introduction aux serveurs WSGI: premi√®re partie</a></li>
<li><a href="../fr426959/index.html">Installer kubernetes via kubespray (stockage local, installer Elasticsearch + Fluentd + Kibana, prometheus)</a></li>
<li><a href="../fr426961/index.html">Comment Microsoft a r√©√©crit le compilateur C # en C # et l'a ouvert</a></li>
<li><a href="../fr426963/index.html">Les applications Flutter r√™vent-elles de widgets bas√©s sur une plateforme?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>