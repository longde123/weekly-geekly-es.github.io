<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐คท๐ป โ๐ฟ ๐จ๐ผโ๐ผ ุงูููุงุฑุณ ูู PostgreSQL - 9 (BRIN) ๐ ๐ง๐ผ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุงูุดูุง ูู ุงูููุงูุงุช ุงูุณุงุจูุฉ ูุญุฑู ููุฑุณุฉ PostgreSQL ุ ููุงุฌูุฉ ุทุฑู ุงููุตูู ุ ูุงูุฃุณุงููุจ ุงูุชุงููุฉ: ููุงุฑุณ ุงูุชุฌุฒุฆุฉ ุ ูุฃุดุฌุงุฑ B ุ ู GiST ุ ู SP-GiST ุ ู GIN ุ ู RU...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงูููุงุฑุณ ูู PostgreSQL - 9 (BRIN)</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/postgrespro/blog/452900/" style=";text-align:right;direction:rtl">  ูุงูุดูุง ูู ุงูููุงูุงุช ุงูุณุงุจูุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุฑู ููุฑุณุฉ</a> PostgreSQL ุ ููุงุฌูุฉ ุทุฑู ุงููุตูู ุ ูุงูุฃุณุงููุจ ุงูุชุงููุฉ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงุฑุณ ุงูุชุฌุฒุฆุฉ</a> ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฃุดุฌุงุฑ B</a> ุ ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GiST</a> ุ ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SP-GiST</a> ุ ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GIN</a> ุ ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">RUM</a> .  ููุถูุน ูุฐู ุงูููุงูุฉ ูู ููุงุฑุณ BRIN. <br><br><h1 style=";text-align:right;direction:rtl">  BRIN </h1><br><h2 style=";text-align:right;direction:rtl">  ุงูููููู ุงูุนุงู </h2><br>  ุนูู ุนูุณ ุงูููุงุฑุณ ุงูุชู ุฌูุนูุงูุง ุจุงููุนู ุ ูุฅู ููุฑุฉ BRIN ูู ุชุฌูุจ ุงููุธุฑ ูู ุตููู ุบูุฑ ููุงุณุจุฉ ุจุงูุชุฃููุฏ ุจุฏูุงู ูู ุงูุนุซูุฑ ุนูู ุชูู ุงููุทุงุจูุฉ ุจุณุฑุนุฉ.  ูุฐุง ูู ุฏุงุฆููุง ููุฑุณ ุบูุฑ ุฏููู: ูุง ูุญุชูู ุนูู ุฃุฑูุงู TID ูุตููู ุงูุฌุฏูู ุนูู ุงูุฅุทูุงู. <br><br>  ุจุดูู ูุจุณุท ุ ูุนูู BRIN ุจุดูู ุฌูุฏ ูุน ุงูุฃุนูุฏุฉ ุญูุซ ุชุฑุชุจุท ุงูููู ูุน ูููุนูุง ุงููุนูู ูู ุงูุฌุฏูู.  ุจูุนูู ุขุฎุฑ ุ ุฅุฐุง ูุงู ุงุณุชุนูุงู ุจุฏูู ุฌููุฉ ORDER BY ููุฑุฌุน ููู ุงูุนููุฏ ุชูุฑูุจูุง ุจุงูุชุฑุชูุจ ุงููุชุฒุงูุฏ ุฃู ุงูุชูุงุฒูู (ููุง ุชูุฌุฏ ููุงุฑุณ ูู ูุฐุง ุงูุนููุฏ). <br><br>  ุชู ุฅูุดุงุก ุทุฑููุฉ ุงููุตูู ูุฐู ูู ูุทุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Axle</a> ุ ุงููุดุฑูุน ุงูุฃูุฑูุจู ูููุงุนุฏ ุงูุจูุงูุงุช ุงูุชุญููููุฉ ุงูุถุฎูุฉ ููุบุงูุฉ ุ ูุน ุงูุชุฑููุฒ ุนูู ุงูุฌุฏุงูู ุงูุชู ูุจูุบ ุญุฌููุง ุนุฏุฉ ุชูุฑุงุจุงูุช ุฃู ุนุดุฑุงุช ุชูุฑุงุจุงูุช ุงููุจูุฑุฉ.  ูู ุงูููุฒุงุช ุงููููุฉ ูู BRIN ุงูุชู ุชููููุง ูู ุฅูุดุงุก ููุงุฑุณ ุนูู ูุฐู ุงูุฌุฏุงูู ูู ุงูุญุฌู ุงูุตุบูุฑ ูุงูุญุฏ ุงูุฃุฏูู ูู ุชูุงููู ุงูุตูุงูุฉ ุงูุนุงูุฉ. <br><br>  ูุฐุง ูุนูู ุนูู ุงููุญู ุงูุชุงูู.  ูููุณู ุงูุฌุฏูู ุฅูู <em>ูุทุงูุงุช</em> ุชููู ุนุฏุฉ ุตูุญุงุช ูุจูุฑุฉ (ุฃู ุนุฏุฉ ูุชู ูุจูุฑุฉ ุ ููู ููุณู) - ููู ููุง ุฌุงุก ุงูุงุณู: Block Range Indexุ BRIN.  ูุฎุฒู ุงูููุฑุณ <em>ูุนูููุงุช ููุฌุฒุฉ</em> ุนู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ูู ูู ูุทุงู.  ููุงุนุฏุฉ ุนุงูุฉ ุ ูุฐุง ูู ุงูุญุฏ ุงูุฃุฏูู ูุงูุญุฏ ุงูุฃูุตู ููููู ุ ููู ุงูุฃูุฑ ูุฎุชูู ุ ููุง ูู ููุถุญ ุฃูุซุฑ.  ุงูุชุฑุถ ุฃูู ูุชู ุชูููุฐ ุงุณุชุนูุงู ูุญุชูู ุนูู ุดุฑุท ุงูุนููุฏ ุ  ุฅุฐุง ูู ุชุฏุฎู ุงูููู ุงููุทููุจุฉ ูู ุงููุงุตู ุงูุฒููู ุ ููููู ุชุฎุทู ุงููุทุงู ุจุงููุงูู ุ  ูููู ุฅุฐุง ุญุตููุง ุ ูุณูู ูุชุนูู ูุญุต ุฌููุน ุงูุตููู ูู ุฌููุน ุงููุชู ูุงุฎุชูุงุฑ ุงููุทุงุจูุฉ ุจูููุง. <br><br>  ูู ูููู ูู ุงูุฎุทุฃ ุงูุชุนุงูู ูุน BRIN ููุณ ููุคุดุฑ ุ ูููู ููุณุฑุน ูููุณุญ ุงููุชุณูุณู.  ูููููุง ุงุนุชุจุงุฑ BRIN ุจุฏููุงู ููุชูุณูู ุฅุฐุง ุงุนุชุจุฑูุง ูู ูุทุงู ููุณู "ุงูุชุฑุงุถู". <br><br>  ุงูุขู ุฏุนููุง ููุงูุด ูููู ุงูููุฑุณ ุจูุฒูุฏ ูู ุงูุชูุตูู. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ูููู </h2><br>  ุชุญุชูู ุงูุตูุญุฉ ุงูุฃููู (ุฃูุซุฑ ุชุญุฏูุฏูุง ุ ุตูุฑ) ุนูู ุงูุจูุงูุงุช ุงูุฃูููุฉ. <br><br>  ุชูุฌุฏ ุงูุตูุญุงุช ุงูุชู ุชุญุชูู ุนูู ูุนูููุงุช ุงูููุฎุต ูู ุฅุฒุงุญุฉ ูุนููุฉ ูู ุงูุจูุงูุงุช ุงูุชุนุฑูููุฉ.  ูุญุชูู ูู ุตู ููุฑุณ ูู ุชูู ุงูุตูุญุงุช ุนูู ูุนูููุงุช ููุฌุฒุฉ ุนู ูุทุงู ูุงุญุฏ. <br><br>  ุจูู ุตูุญุฉ ุงูุชุนุฑูู ูุงูุจูุงูุงุช ุงูุชูุฎูุตูุฉ ุ ุชูุฌุฏ ุตูุญุงุช ุฐุงุช <em>ุฎุฑูุทุฉ ุงููุทุงู ุงูุนูุณู</em> (ููุดุงุฑ ุฅูููุง ุงุฎุชุตุงุฑูุง ุจุงุณู "revmap").  ูู ุงููุงูุน ุ ูุฐุง ุตููู ูุคุดุฑุงุช (TID) ุฅูู ุตููู ุงูููุฑุณ ุงููุทุงุจู. <br><br><img src="https://habrastorage.org/webt/nr/pm/s9/nrpms932o5clzubwymywxtud6q4.png"><br><br>  ุจุงููุณุจุฉ ูุจุนุถ ุงููุทุงูุงุช ุ ูููู ุฃู ูุคุฏู ุงููุคุดุฑ ุงูููุฌูุฏ ูู "revmap" ุฅูู ุนุฏู ูุฌูุฏ ุตู ููุฑุณ (ูุชู ูุถุน ุนูุงูุฉ ุจุงูููู ุงูุฑูุงุฏู ูู ุงูุดูู).  ูู ูุซู ูุฐู ุงูุญุงูุฉ ุ ูุนุชุจุฑ ุงููุทุงู ููุณ ูุฏูู ูุนูููุงุช ููุฌุฒุฉ ุจุนุฏ. <br><br><h2 style=";text-align:right;direction:rtl">  ูุณุญ ุงูููุฑุณ </h2><br>  ููู ูุชู ุงุณุชุฎุฏุงู ุงูููุฑุณ ุฅุฐุง ูุงู ูุง ูุญุชูู ุนูู ุฅุดุงุฑุงุช ุฅูู ุตููู ุงูุฌุฏููุ  ุจุงูุชุฃููุฏ ูุง ูููู ูุทุฑููุฉ ุงููุตูู ูุฐู ุฅุฑุฌุงุน ุงูุตููู TID ุจูุงุณุทุฉ TID ุ ููู ูููููุง ุฅูุดุงุก ุตูุฑุฉ ููุทูุฉ.  ูููู ุฃู ูููู ููุงู ููุนุงู ูู ุตูุญุงุช ุงูุตูุฑุฉ ุงูููุทูุฉ: ุฏูููุฉ ุ ุฅูู ุงูุตู ุ ูุบูุฑ ุฏูููุฉ ุ ุฅูู ุงูุตูุญุฉ.  ุฅููุง ุตูุฑุฉ ููุทูุฉ ุบูุฑ ุฏูููุฉ ููุณุชุฎุฏู. <br><br>  ุงูุฎูุงุฑุฒููุฉ ุจุณูุทุฉ.  ูุชู ูุณุญ ุฎุฑูุทุฉ ุงููุทุงูุงุช ุจุงูุชุณูุณู (ุฃู ุ ูุชู ุชูุฑูุฑ ุงููุทุงูุงุช ุจุชุฑุชูุจ ูููุนูุง ูู ุงูุฌุฏูู).  ูุชู ุงุณุชุฎุฏุงู ุงููุคุดุฑุงุช ูุชุญุฏูุฏ ุตููู ุงูููุฑุณ ุจูุนูููุงุช ููุฌุฒุฉ ุนู ูู ูุทุงู.  ุฅุฐุง ูุงู ูุทุงู ูุง ูุญุชูู ุนูู ุงููููุฉ ุงููุทููุจุฉ ุ ูุฅูู ูุชู ุชุฎุทููุง ุ ูุฅุฐุง ูุงู ูููู ุฃู ูุญุชูู ุนูู ุงููููุฉ (ุฃู ุงููุนูููุงุช ุงูุชูุฎูุตูุฉ ุบูุฑ ูุชููุฑุฉ) ุ ุชุชู ุฅุถุงูุฉ ุฌููุน ุตูุญุงุช ุงููุทุงู ุฅูู ุงูุตูุฑุฉ ุงูููุทูุฉ.  ุซู ูุชู ุงุณุชุฎุฏุงู ุงูุตูุฑุฉ ุงูููุทูุฉ ุงููุงุชุฌุฉ ูุงููุนุชุงุฏ. <br><br><h2 style=";text-align:right;direction:rtl">  ุชุญุฏูุซ ุงูููุฑุณ </h2><br>  ูู ุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู ููู ูุชู ุชุญุฏูุซ ุงูููุฑุณ ุนูุฏูุง ูุชู ุชุบููุฑ ุงูุฌุฏูู. <br><br>  ุนูุฏ <strong>ุฅุถุงูุฉ</strong> ุฅุตุฏุงุฑ ุฌุฏูุฏ ูู ุตู ุฅูู ุตูุญุฉ ุฌุฏูู ุ ูุฅููุง ูุญุฏุฏ ุงููุทุงู ุงูุฐู ูุชุถููู ููุณุชุฎุฏู ุฎุฑูุทุฉ ุงููุทุงูุงุช ููุนุซูุฑ ุนูู ุตู ุงูููุฑุณ ุจูุนูููุงุช ุงูููุฎุต.  ูู ูุฐู ุนูููุงุช ุญุณุงุจูุฉ ุจุณูุทุฉ.  ููููู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุญุฌู ุงููุทุงู ุฃุฑุจุนุฉ ููู ุงูุตูุญุฉ 13 ุ ูุญุฏุซ ุฅุตุฏุงุฑ ุตู ุจูููุฉ 42.  ุนุฏุฏ ุงููุทุงู (ุจุฏุกูุง ูู ุงูุตูุฑ) ูู 13/4 = 3 ุ ูุฐูู ุ ูู "revmap" ูุฃุฎุฐ ุงููุคุดุฑ ูุน ุงูุฅุฒุงุญุฉ 3 (ุฑูู ุงูุทูุจ ูู ุฃุฑุจุนุฉ). <br><br>  ุงูุญุฏ ุงูุฃุฏูู ูููููุฉ ููุฐุง ุงููุทุงู ูู 31 ุ ูุงููููุฉ ุงููุตูู ูู 40. ูุธุฑูุง ูุฃู ุงููููุฉ ุงูุฌุฏูุฏุฉ ุงูุจุงูุบุฉ 42 ูู ุฎุงุฑุฌ ุงููุชุฑุฉ ุงูุฒูููุฉ ุ ูุฅููุง ูููู ุจุชุญุฏูุซ ุงููููุฉ ุงููุตูู (ุงูุธุฑ ุงูุดูู).  ูููู ุฅุฐุง ูุงูุช ุงููููุฉ ุงูุฌุฏูุฏุฉ ูุง ุชุฒุงู ุถูู ุงูุญุฏูุฏ ุงููุฎุฒูุฉ ุ ููู ุชุญุชุงุฌ ุฅูู ุชุญุฏูุซ ุงูููุฑุณ. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ba7/6ce/e4c/ba76cee4c3d40e9f428954d0478ecee0.png"><br><br>  ูู ูุฐุง ูุชุนูู ุจุงููููู ุนูุฏ ุญุฏูุซ ุงูุฅุตุฏุงุฑ ุงูุฌุฏูุฏ ูู ุงูุตูุญุฉ ูู ูุทุงู ุชุชููุฑ ููู ูุนูููุงุช ุงูููุฎุต.  ุนูุฏ ุฅูุดุงุก ุงูููุฑุณ ุ ูุชู ุญุณุงุจ ุงููุนูููุงุช ุงูููุฌุฒุฉ ูุฌููุน ุงููุทุงูุงุช ุงููุชุงุญุฉ ุ ูููู ุจูููุง ูุชู ุชูุณูุน ุงูุฌุฏูู ุ ูููู ุฃู ุชุญุฏุซ ุตูุญุงุช ุฌุฏูุฏุฉ ุฎุงุฑุฌ ุงูุญุฏูุฏ.  ููุงู ุฎูุงุฑุงู ูุชุงุญุงู ููุง: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนุงุฏุฉ ูุง ูุชู ุชุญุฏูุซ ุงูููุฑุณ ุนูู ุงูููุฑ.  ูุฐู ููุณุช ูุดููุฉ ูุจูุฑุฉ: ููุง ุฐูุฑ ุจุงููุนู ุ ุนูุฏ ูุญุต ุงููุคุดุฑ ุ ุณูุชู ุงููุธุฑ ูู ุงููุฌููุนุฉ ุจุฃููููุง.  ูุชู ุงูุชุญุฏูุซ ุงููุนูู ุฃุซูุงุก "ูุฑุงุบ" ุ ุฃู ูููู ุฅุฌุฑุงุคู ูุฏูููุง ุนู ุทุฑูู ุงุณุชุฏุนุงุก ูุธููุฉ "brin_summarize_new_values". </li><li style=";text-align:right;direction:rtl"> ุฅุฐุง ุฃูุดุฃูุง ุงูููุฑุณ ุจุงุณุชุฎุฏุงู "autosummarize" ุ ูุณูุชู ุงูุชุญุฏูุซ ุนูู ุงูููุฑ.  ูููู ุนูุฏูุง ูุชู ููุก ุตูุญุงุช ุงููุทุงู ุจููู ุฌุฏูุฏุฉ ุ ูููู ุฃู ุชุญุฏุซ ุงูุชุญุฏูุซุงุช ูุซูุฑูุง ุ ูุฐูู ุ ูุชู ุฅููุงู ุชุดุบูู ูุฐู ุงููุนููุฉ ุงูุชุฑุงุถููุง. </li></ol><br>  ุนูุฏ ุญุฏูุซ ูุทุงูุงุช ุฌุฏูุฏุฉ ุ ูููู ุฃู ูุฒูุฏ ุญุฌู "revmap".  ุนูุฏูุง ุชุญุชุงุฌ ุงูุฎุฑูุทุฉ ุ ุงููุงูุนุฉ ุจูู ุตูุญุฉ ุงูุชุนุฑูู ูุงูุจูุงูุงุช ุงูุชูุฎูุตูุฉ ุ ุฅูู ุชูุฏูุฏูุง ุจูุงุณุทุฉ ุตูุญุฉ ุฃุฎุฑู ุ ูุชู ููู ุฅุตุฏุงุฑุงุช ุงูุตููู ุงูููุฌูุฏุฉ ุฅูู ุจุนุถ ุงูุตูุญุงุช ุงูุฃุฎุฑู.  ูุฐูู ุ ุชูุฌุฏ ุฎุฑูุทุฉ ุงููุทุงูุงุช ุฏุงุฆููุง ุจูู ุตูุญุฉ ุงูุชุนุฑูู ูุจูุงูุงุช ุงูููุฎุต. <br><br>  ุนูุฏูุง ูุชู <strong>ุญุฐู</strong> ุตู ุ ... ูุง ุดูุก ูุญุฏุซ.  ูููููุง ุฃู ููุงุญุธ ุฃูู ูู ุจุนุถ ุงูุฃุญูุงู ูุชู ุญุฐู ุงูุญุฏ ุงูุฃุฏูู ุฃู ุงูุญุฏ ุงูุฃูุตู ูููููุฉ ุ ููู ูุฐู ุงูุญุงูุฉ ูููู ุชุฎููุถ ุงููุงุตู ุงูุฒููู.  ูููู ูููุดู ุนู ูุฐุง ุ ุณูุชุนูู ุนูููุง ูุฑุงุกุฉ ุฌููุน ุงูููู ูู ุงููุทุงู ุ ููุฐุง ูููู. <br><br>  ูุง ุชุชุฃุซุฑ ุตุญุฉ ุงูููุฑุณ ุ ูููู ูุฏ ูุชุทูุจ ุงูุจุญุซ ุงูุจุญุซ ูู ูุทุงูุงุช ุฃูุซุฑ ููุง ูู ูุทููุจ ุจุงููุนู.  ุจุดูู ุนุงู ุ ูููู ุฅุนุงุฏุฉ ุญุณุงุจ ุงููุนูููุงุช ุงูููุฌุฒุฉ ูุฏูููุง ููุซู ูุฐู ุงูููุทูุฉ (ุนู ุทุฑูู ุงุณุชุฏุนุงุก ุงูุฏุงูุชูู "brin_desummarize_range" ู "brin_summarize_new_values") ุ ููู ููู ูููููุง ุงูุชุดุงู ูุฐู ุงูุญุงุฌุฉุ  ุนูู ุฃู ุญุงู ุ ูุง ููุฌุฏ ุฅุฌุฑุงุก ุชูููุฏู ูุชุงุญ ููุฐู ุงูุบุงูุฉ. <br><br>  ุฃุฎูุฑูุง ุ <strong>ุชุญุฏูุซ ุงูุตู</strong> ูู ูุฌุฑุฏ ุญุฐู ุงูุฅุตุฏุงุฑ ุงููุฏูู ูุฅุถุงูุฉ ุฅุตุฏุงุฑ ุฌุฏูุฏ. <br><br><h2 style=";text-align:right;direction:rtl">  ูุซุงู </h2><br>  ุฏุนููุง ูุญุงูู ุจูุงุก ูุณุชูุฏุน ุจูุงูุงุช ุตุบูุฑ ุฎุงุต ุจูุง ููุจูุงูุงุช ูู ุฌุฏุงูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ</a> .  ูููุชุฑุถ ุฃูู ูุฃุบุฑุงุถ ุฅุนุฏุงุฏ ุชูุงุฑูุฑ ุงุณุชูุตุงุก ุงููุนูููุงุช ุ ููุงู ุญุงุฌุฉ ุฅูู ุฌุฏูู ุบูุฑ ุทุจูุนู ููุนูุณ ุงูุฑุญูุงุช ุงูุฌููุฉ ุงููุบุงุฏุฑุฉ ูู ุงููุทุงุฑ ุฃู ุงูุชู ูุจุทุช ูู ุงููุทุงุฑ ุจุฏูุฉ ููุนุฏ ูู ุงูููุตูุฑุฉ.  ุณุชุชู ุฅุถุงูุฉ ุจูุงูุงุช ูู ูุทุงุฑ ุฅูู ุงูุฌุฏูู ูุฑุฉ ูุงุญุฏุฉ ูููููุง ุ ุนูุฏูุง ูููู ููุชุตู ุงูููู ูู ุงูููุทูุฉ ุงูุฒูููุฉ ุงูููุงุณุจุฉ.  ูู ูุชู ุชุญุฏูุซ ุงูุจูุงูุงุช ุฃู ุญุฐููุง. <br><br>  ุณูุจุฏู ุงูุฌุฏูู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"><code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> flights_bi( airport_code <span class="hljs-type"><span class="hljs-type">char</span></span>(<span class="hljs-number"><span class="hljs-number">3</span></span>), airport_coord <span class="hljs-type"><span class="hljs-type">point</span></span>, <span class="hljs-comment"><span class="hljs-comment">-- geo coordinates of airport airport_utc_offset interval, -- time zone flight_no char(6), -- flight number flight_type text. -- flight type: departure / arrival scheduled_time timestamptz, -- scheduled departure/arrival time of flight actual_time timestamptz, -- actual time of flight aircraft_code char(3), seat_no varchar(4), -- seat number fare_conditions varchar(10), -- travel class passenger_id varchar(20), passenger_name text );</span></span></code> </pre> <br>  ูููููุง ูุญุงูุงุฉ ุฅุฌุฑุงุกุงุช ุชุญููู ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู ุญููุงุช ูุชุฏุงุฎูุฉ: ูุงุญุฏุฉ ุฎุงุฑุฌูุฉ ุชูู ุงูุฃุฎุฑู (ุณููุธุฑ <a href="">ูู ูุงุนุฏุฉ ุจูุงูุงุช ูุจูุฑุฉ</a> ุ ูุจุงูุชุงูู 365 ููููุง) ุ ูุญููุฉ ุฏุงุฎููุฉ - ุญุณุจ ุงูููุงุทู ุงูุฒูููุฉ (ูู UTC + 02 ุฅูู UTC + 12) .  ุงูุงุณุชุนูุงู ุทููู ุฌุฏูุง ูููุณ ูู ุฃูููุฉ ุฎุงุตุฉ ุ ูุฐูู ุณุฃุฎููู ุชุญุช ุงูููุณุฏ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุญุงูุงุฉ ูุชุญููู ุงูุจูุงูุงุช ุฅูู ุงูุชุฎุฒูู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs"><span class="hljs-keyword"><span class="hljs-keyword">DO</span></span> $$<span class="pgsql"><span class="pgsql"> </span><span class="hljs-symbol"><span class="pgsql"><span class="hljs-symbol">&lt;&lt;local&gt;&gt;</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">DECLARE</span></span></span><span class="pgsql"> curdate </span><span class="hljs-type"><span class="pgsql"><span class="hljs-type">date</span></span></span><span class="pgsql"> := (</span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">SELECT</span></span></span><span class="pgsql"> min(scheduled_departure) </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">FROM</span></span></span><span class="pgsql"> flights); utc_offset </span><span class="hljs-type"><span class="pgsql"><span class="hljs-type">interval</span></span></span><span class="pgsql">; </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">BEGIN</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHILE</span></span></span><span class="pgsql"> (curdate &lt;= bookings.now()::</span><span class="hljs-type"><span class="pgsql"><span class="hljs-type">date</span></span></span><span class="pgsql">) </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">LOOP</span></span></span><span class="pgsql"> utc_offset := </span><span class="hljs-type"><span class="pgsql"><span class="hljs-type">interval</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'12 hours'</span></span></span><span class="pgsql">; </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WHILE</span></span></span><span class="pgsql"> (utc_offset &gt;= </span><span class="hljs-type"><span class="pgsql"><span class="hljs-type">interval</span></span></span><span class="pgsql"> </span><span class="hljs-string"><span class="pgsql"><span class="hljs-string">'2 hours'</span></span></span><span class="pgsql">) </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">LOOP</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">INSERT</span></span></span><span class="pgsql"> </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">INTO</span></span></span><span class="pgsql"> flights_bi </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">WITH</span></span></span><span class="pgsql"> flight ( airport_code, airport_coord, flight_id, flight_no, scheduled_time, actual_time, aircraft_code, flight_type ) </span><span class="hljs-keyword"><span class="pgsql"><span class="hljs-keyword">AS</span></span></span><span class="pgsql"> ( </span><span class="hljs-comment"><span class="pgsql"><span class="hljs-comment">--  SELECT a.airport_code, a.coordinates, f.flight_id, f.flight_no, f.scheduled_departure, f.actual_departure, f.aircraft_code, 'departure' FROM airports a, flights f, pg_timezone_names tzn WHERE a.airport_code = f.departure_airport AND f.actual_departure IS NOT NULL AND tzn.name = a.timezone AND tzn.utc_offset = local.utc_offset AND timezone(a.timezone, f.actual_departure)::date = curdate UNION ALL --  SELECT a.airport_code, a.coordinates, f.flight_id, f.flight_no, f.scheduled_arrival, f.actual_arrival, f.aircraft_code, 'arrival' FROM airports a, flights f, pg_timezone_names tzn WHERE a.airport_code = f.arrival_airport AND f.actual_arrival IS NOT NULL AND tzn.name = a.timezone AND tzn.utc_offset = local.utc_offset AND timezone(a.timezone, f.actual_arrival)::date = curdate ) SELECT f.airport_code, f.airport_coord, local.utc_offset, f.flight_no, f.flight_type, f.scheduled_time, f.actual_time, f.aircraft_code, s.seat_no, s.fare_conditions, t.passenger_id, t.passenger_name FROM flight f JOIN seats s ON s.aircraft_code = f.aircraft_code LEFT JOIN boarding_passes bp ON bp.flight_id = f.flight_id AND bp.seat_no = s.seat_no LEFT JOIN ticket_flights tf ON tf.ticket_no = bp.ticket_no AND tf.flight_id = bp.flight_id LEFT JOIN tickets t ON t.ticket_no = tf.ticket_no; RAISE NOTICE '%, %', curdate, utc_offset; utc_offset := utc_offset - interval '1 hour'; END LOOP; curdate := curdate + 1; END LOOP; END; $$</span></span></span></span>;</code> </pre><br></div></div><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> count(*) <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flights_bi;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> count ---------- 30517076 (1 row)</code> </pre><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> pg_size_pretty(pg_total_relation_size(<span class="hljs-string"><span class="hljs-string">'flights_bi'</span></span>));</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_size_pretty ---------------- 4127 MB (1 row)</code> </pre><br>  ูุญุตู ุนูู 30 ููููู ุตู ู 4 ุบูุบุงุจุงูุช.  ููุณุช ูุจูุฑุฉ ุงูุญุฌู ุ ููููุง ุฌูุฏุฉ ุจูุง ูููู ูุฌูุงุฒ ููุจููุชุฑ ูุญููู: ุฃุฎุฐูู ุงููุณุญ ุงููุชุณูุณู ุญูุงูู 10 ุซูุงูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุนูู ุฃู ุฃุนูุฏุฉ ูุฌุจ ุฃู ููุดุฆ ุงูููุฑุณุ </h3><br>  ูุธุฑูุง ูุฃู ููุงุฑุณ BRIN ููุง ุญุฌู ุตุบูุฑ ูุชูุงููู ุนุงูุฉ ูุนุชุฏูุฉ ุ ูุชุญุฏุซ ุงูุชุญุฏูุซุงุช ุจุดูู ุบูุฑ ูุชูุฑุฑ ุ ุฅู ูุฌุฏุช ุ ุชูุดุฃ ูุฑุตุฉ ูุงุฏุฑุฉ ูุฅูุดุงุก ุงูุนุฏูุฏ ูู ุงูููุงุฑุณ "ูู ุญุงูุฉ" ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุฌููุน ุงูุญููู ุงูุชู ูููู ูููุณุชุฎุฏููู ูู ุฎูุงููุง ุฅูุดุงุก ุงุณุชุนูุงูุงุชูู ุงููุฎุตุตุฉ .  ูู ูููู ูููุฏูุง - ูุง ููู ุ ูููู ุญุชู ููุฑุณ ุบูุฑ ูุนุงู ููุบุงูุฉ ุณูุนูู ุจุดูู ุฃูุถู ูู ุงููุณุญ ุงููุชุณูุณู ุจุงูุชุฃููุฏ.  ุจุงูุทุจุน ุ ููุงู ูุฌุงูุงุช ูุง ุฌุฏูู ูููุง ุจูุงุก ููุฑุณ ุ  ุณูู ุงูุญุณ ุงูุณููู ุงูููู ูุฏูุนูู. <br><br>  ููู ูู ุงูุบุฑูุจ ุฃู ููุชุตุฑ ุนูู ูุฐู ุงููุตูุญุฉ ุ ูุฐูู ุ ุฏุนููุง ูุญุงูู ุฐูุฑ ูุนูุงุฑ ุฃูุซุฑ ุฏูุฉ. <br><br>  ููุฏ ุฐูุฑูุง ุจุงููุนู ุฃู ุงูุจูุงูุงุช ูุฌุจ ุฃู ุชุฑุชุจุท ุฅูู ุญุฏ ูุง ุจูููุนูุง ุงููุนูู.  ูู ุงูููุทูู ููุง ุฃู ูุชุฐูุฑ ุฃู PostgreSQL ูุฌูุน ุฅุญุตุงุฆูุงุช ุฃุนูุฏุฉ ุงูุฌุฏูู ุ ูุงูุชู ุชุดูู ูููุฉ ุงูุงุฑุชุจุงุท.  ูุณุชุฎุฏู ุงููุฎุทุท ูุฐู ุงููููุฉ ููุงุฎุชูุงุฑ ุจูู ุงููุณุญ ุงูุฏูุฑู ูููุญุต ูุงูุตูุฑุฉ ุงูููุทูุฉ ุ ููููููุง ุงุณุชุฎุฏุงูู ูุชูุฏูุฑ ูุฏู ุฅููุงููุฉ ุชุทุจูู ููุฑุณ BRIN. <br><br>  ูู ุงููุซุงู ุฃุนูุงู ุ ูู ุงููุงุถุญ ุฃู ุงูุจูุงูุงุช ูุฑุชุจุฉ ุญุณุจ ุงูุฃูุงู (ุญุณุจ "ุงููุฌุฏููุฉ" ุ ููุฐูู "ุงููุนูู" - ูุง ููุฌุฏ ูุฑู ูุจูุฑ).  ูุฐุง ูุฃูู ุนูุฏ ุฅุถุงูุฉ ุตููู ุฅูู ุงูุฌุฏูู (ุจุฏูู ุนูููุงุช ุญุฐู ูุชุญุฏูุซุงุช) ุ ูุชู ูุถุนูุง ูู ุงูููู ูุงุญุฏูุง ุชูู ุงูุขุฎุฑ.  ูู ูุญุงูุงุฉ ุชุญููู ุงูุจูุงูุงุช ุ ูู ูุณุชุฎุฏู ุญุชู ุฌููุฉ ORDER BY ุ ูุจุงูุชุงูู ุ ูููู ุงุฎุชูุงุท ุงูุชูุงุฑูุฎ ุฎูุงู ููู ุ ุจุดูู ุนุงู ุ ุจุทุฑููุฉ ุชุนุณููุฉ ุ ูููู ูุฌุจ ุฃู ูููู ุงูุทูุจ ูู ููุงูู.  ุฏุนููุง ุงูุชุญูู ูู ูุฐุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span> flights_bi; demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> attname, correlation <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pg_stats <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> tablename=<span class="hljs-string"><span class="hljs-string">'flights_bi'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> correlation <span class="hljs-keyword"><span class="hljs-keyword">desc</span></span> <span class="hljs-keyword"><span class="hljs-keyword">nulls last</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> attname | correlation --------------------+------------- scheduled_time | 0.999994 actual_time | 0.999994 fare_conditions | 0.796719 flight_type | 0.495937 airport_utc_offset | 0.438443 aircraft_code | 0.172262 airport_code | 0.0543143 flight_no | 0.0121366 seat_no | 0.00568042 passenger_name | 0.0046387 passenger_id | -0.00281272 airport_coord | (12 rows)</code> </pre><br>  ุงููููุฉ ุงูุชู ููุณุช ูุฑูุจุฉ ุฌุฏูุง ูู ุงูุตูุฑ (ูู ุงููุงุญูุฉ ุงููุซุงููุฉ ุ ุจุงููุฑุจ ูู ุนูุงูุฉ ุฒุงุฆุฏ ุ ููุง ูู ุงูุญุงู ูู ูุฐู ุงูุญุงูุฉ) ุ ุชุฎุจุฑูุง ุฃู ูุคุดุฑ BRIN ุณูููู ููุงุณุจูุง. <br><br>  ูุฆุฉ ุงูุณูุฑ "fare_condition" (ูุญุชูู ุงูุนููุฏ ุนูู ุซูุงุซ ููู ูุฑูุฏุฉ) ูููุน ุงูุฑุญูุฉ "flight_type" (ูููุชุงู ูุฑูุฏุชุงู) ุธูุฑ ุจุดูู ุบูุฑ ูุชููุน ูู ุงูููุงููู ุงูุซุงูู ูุงูุซุงูุซ.  ูุฐุง ูู ุงูููู: ุงูุงุฑุชุจุงุท ุฑุณูููุง ูุฑุชูุนูุง ุ ุจูููุง ูู ุงููุงูุน ูู ุนุฏุฉ ุตูุญุงุช ูุชุชุงููุฉ ุณูุชู ููุงุฌูุฉ ุฌููุน ุงูููู ุงูููููุฉ ุจุดูู ูุคูุฏ ุ ููุง ูุนูู ุฃู BRIN ูู ูุญูู ุฃู ูุงุฆุฏุฉ. <br><br>  ุชูุชูู ุงูููุทูุฉ ุงูุฒูููุฉ "airport_utc_offset" ุจุนุฏ ุฐูู: ูู ุงููุซุงู ุงููุฏุฑูุณ ุ ุฎูุงู ุฏูุฑุฉ ุงูููู ุ ูุชู ุชุฑุชูุจ ุงููุทุงุฑุงุช ุญุณุจ ุงูููุงุทู ุงูุฒูููุฉ "ุญุณุจ ุงูุฅูุดุงุก". <br><br>  ุฅูู ูุฐุงู ุงูุญููุงู ุ ุงูููุช ูุงูููุทูุฉ ุงูุฒูููุฉ ุ ุงูุชู ุณูุฌุฑู ุงููุฒูุฏ ูู ุงูุชุฌุงุฑุจ ุนูููุง. <br><br><h3 style=";text-align:right;direction:rtl">  ูููู ุฅุถุนุงู ุงูุนูุงูุฉ </h3><br>  ูููู ุฃู ุชุถุนู ุงูุนูุงูุฉ ุงูุชู ูุชู ูุถุนูุง "ุจุงูุจูุงุก" ุจุณูููุฉ ุนูุฏ ุชุบููุฑ ุงูุจูุงูุงุช.  ูุงูุฃูุฑ ููุง ููุณ ูู ุชุบููุฑ ุฅูู ูููุฉ ูุนููุฉ ุ ูููู ูู ุจููุฉ ุนูุตุฑ ุงูุชุญูู ุงูุชุฒุงูู ุงููุชุนุฏุฏ: ูุชู ุญุฐู ุฅุตุฏุงุฑ ุงูุตู ุงููุฏูู ูู ุตูุญุฉ ูุงุญุฏุฉ ุ ูููู ูุฏ ูุชู ุฅุฏุฑุงุฌ ุฅุตุฏุงุฑ ุฌุฏูุฏ ุญูุซูุง ุชุชููุฑ ูุณุงุญุฉ ุญุฑุฉ.  ูุชูุฌุฉ ููุฐุง ุ ุชุฎุชูุท ุงูุตููู ุจุฃููููุง ุฃุซูุงุก ุงูุชุญุฏูุซุงุช. <br><br>  ูููููุง ุงูุชุญูู ูู ูุฐุง ุงูุชุฃุซูุฑ ุฌุฒุฆููุง ุนู ุทุฑูู ุชูููู ูููุฉ ูุนููุฉ ุงูุชุฎุฒูู "fillfactor" ูุจูุฐู ุงูุทุฑููุฉ ุชุชุฑู ูุณุงุญุฉ ุฎุงููุฉ ุนูู ุงูุตูุญุฉ ููุญุตูู ุนูู ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ.  ูููู ูู ูุฑูุฏ ุฒูุงุฏุฉ ุญุฌู ุทุงููุฉ ุถุฎูุฉ ุจุงููุนูุ  ุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฐุง ูุง ูุญู ูุดููุฉ ุงูุญุฐู: ููู ุฃูุถูุง "ูุนูููู ุงููุฎุงุฎ" ููุตููู ุงูุฌุฏูุฏุฉ ุนู ุทุฑูู ุชุญุฑูุฑ ุงููุณุงุญุฉ ูู ููุงู ูุง ุฏุงุฎู ุงูุตูุญุงุช ุงูููุฌูุฏุฉ.  ูุชูุฌุฉ ููุฐุง ุ ุณูุชู ุฅุฏุฑุงุฌ ุงูุตููู ุงูุชู ูุฏ ุชุตู ุฅูู ููุงูุฉ ุงูููู ุ ูู ููุงู ุชุนุณูู. <br><br>  ุจุงูููุงุณุจุฉ ุ ูุฐู ุญูููุฉ ุบุฑูุจุฉ.  ูุธุฑูุง ูุฃู ููุฑุณ BRIN ูุง ูุญุชูู ุนูู ุฅุดุงุฑุงุช ุฅูู ุตููู ุงูุฌุฏูู ุ ูุฅู ุชููุฑู ูุฌุจ ุฃูุง ูุนูู ุชุญุฏูุซุงุช HOT ุนูู ุงูุฅุทูุงู ุ ููููู ูุฐูู. <br><br>  ูุฐูู ุ ุชู ุชุตููู BRIN ุจุดูู ุฑุฆูุณู ููุฌุฏุงูู ุฐุงุช ุงูุฃุญุฌุงู ุงููุจูุฑุฉ ูุญุชู ุงูุถุฎูุฉ ุงูุชู ูุง ูุชู ุชุญุฏูุซูุง ุนูู ุงูุฅุทูุงู ุฃู ูุชู ุชุญุฏูุซูุง ุจุดูู ุทููู.  ููุน ุฐูู ุ ูุฅูู ูุชูุงุกู ุชูุงููุง ูุน ุฅุถุงูุฉ ุตููู ุฌุฏูุฏุฉ (ุฅูู ููุงูุฉ ุงูุฌุฏูู).  ูุฐุง ููุณ ููุงุฌุฆูุง ูุธุฑูุง ูุฃูู ุชู ุฅูุดุงุก ุทุฑููุฉ ุงููุตูู ูุฐู ุจูุฏู ุชุฎุฒูู ุงูุจูุงูุงุช ูุฅุนุฏุงุฏ ุงูุชูุงุฑูุฑ ุงูุชุญููููุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ูุง ุญุฌู ูุฌููุนุฉ ูุญุชุงุฌ ูุชุญุฏูุฏุ </h3><br>  ุฅุฐุง ุชุนุงูููุง ูุน ุฌุฏูู ุชูุฑุงุจุงูุช ุ ูุฅู ุดุงุบููุง ุงูุฑุฆูุณู ุนูุฏ ุงุฎุชูุงุฑ ุญุฌู ุงููุทุงู ูู ูููู ุฌุนู ูุคุดุฑ BRIN ุฃูุจุฑ ูู ุงููุงุฒู.  ููุน ุฐูู ุ ูู ูุถุนูุง ุ ูููููุง ุชุญูู ุชุญููู ุงูุจูุงูุงุช ุจุดูู ุฃูุซุฑ ุฏูุฉ. <br><br>  ููููุงู ุจุฐูู ุ ูููููุง ุชุญุฏูุฏ ููู ูุฑูุฏุฉ ูู ุนููุฏ ููุฑู ุนูู ุนุฏุฏ ุงูุตูุญุงุช ุงูุชู ุชุญุฏุซ.  ุชูุทูู ุงูููู ูุฒูุฏ ูู ูุฑุต ุงููุฌุงุญ ูู ุชุทุจูู ูุคุดุฑ BRIN.  ุนูุงูุฉ ุนูู ุฐูู ุ ูุฅู ุนุฏุฏ ุงูุตูุญุงุช ุงูุชู ุชู ุงูุนุซูุฑ ุนูููุง ุณูุทุงูุจู ุจุญุฌู ุงููุทุงู.  ูููู ุฅุฐุง ูุงูุช ุงููููุฉ "ููุฒุนุฉ" ุนูู ุฌููุน ุงูุตูุญุงุช ุ ูุฅู BRIN ุชููู ุนุฏููุฉ ุงููุงุฆุฏุฉ. <br><br>  ุจุงูุทุจุน ุ ูุฌุจ ุฃู ูุณุชุฎุฏู ูุฐู ุงูุชูููุฉ ูุน ูุฑุงูุจุฉ ุฏูููุฉ ูููููู ุงูุฏุงุฎูู ููุจูุงูุงุช.  ุนูู ุณุจูู ุงููุซุงู ุ ููุณ ูู ุงูููุทูู ุงุนุชุจุงุฑ ูู ุชุงุฑูุฎ (ุจุดูู ุฃูุซุฑ ุฏูุฉ ุ ุทุงุจุน ุฒููู ุ ุจูุง ูู ุฐูู ุงูููุช ุฃูุถูุง) ูููุฉ ูุฑูุฏุฉ - ูุญุชุงุฌ ุฅูู ุชูุฑูุจู ุฅูู ุฃูุงู. <br><br>  ูู ุงููุงุญูุฉ ุงููููุฉ ุ ูููู ุฅุฌุฑุงุก ูุฐุง ุงูุชุญููู ูู ุฎูุงู ุงููุธุฑ ูู ูููุฉ ุงูุนููุฏ "ctid" ุงููุฎูู ุ ูุงูุฐู ูููุฑ ุงููุคุดุฑ ูุฅุตุฏุงุฑ ุตู (TID): ุฑูู ุงูุตูุญุฉ ูุฑูู ุงูุตู ุฏุงุฎู ุงูุตูุญุฉ.  ูุณูุก ุงูุญุธ ุ ูุง ุชูุฌุฏ ุชูููุฉ ุชูููุฏูุฉ ูุชูุณูู TID ุฅูู ุนูุตุฑููุง ุ ูุฐูู ุ ุนูููุง ุฃู ูููู ุฃููุงุนูุง ูู ุฎูุงู ุชูุซูู ุงููุต: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> min(numblk), round(avg(numblk)) avg, max(numblk) <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> count(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span> (ctid::<span class="hljs-type"><span class="hljs-type">text</span></span>::<span class="hljs-type"><span class="hljs-type">point</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>]) numblk <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">group</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> scheduled_time::<span class="hljs-type"><span class="hljs-type">date</span></span> ) t;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> min | avg | max ------+------+------ 1192 | 1500 | 1796 (1 row)</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> relpages <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pg_class <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> relname = <span class="hljs-string"><span class="hljs-string">'flights_bi'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> relpages ---------- 528172 (1 row)</code> </pre><br>  ูููููุง ุฃู ูุฑู ุฃู ูู ููู ูุชู ุชูุฒูุนู ุนุจุฑ ุงูุตูุญุงุช ุจุดูู ูุชุณุงูู ุ ูุงูุฃูุงู ุชุฎุชูุท ููููุงู ูุน ุจุนุถูุง ุงูุจุนุถ (1500 &amp; ูุฑุงุช 365 = 547500 ุ ููู ุฃูุจุฑ ููููุงู ููุท ูู ุนุฏุฏ ุงูุตูุญุงุช ูู ุงูุฌุฏูู 528172).  ูุฐุง ูุงุถุญ ูู ุงููุงูุน "ุนู ุทุฑูู ุงูุจูุงุก" ุนูู ุฃู ุญุงู. <br><br>  ุงููุนูููุงุช ุงููููุฉ ููุง ูู ุนุฏุฏ ูุญุฏุฏ ูู ุงูุตูุญุงุช.  ูุน ุญุฌู ุงููุทุงู ุงูุชูููุฏู ุงูุจุงูุบ 128 ุตูุญุฉ ุ ุณูุชู ุชุนุจุฆุฉ ูู ููู ูุทุงูุงุช 9-14.  ูุจุฏู ูุฐุง ูุงูุนููุง: ูู ุฎูุงู ุงุณุชุนูุงู ูููู ูุนูู ุ ูููููุง ุฃู ูุชููุน ุญุฏูุซ ุฎุทุฃ ุญูุงูู 10ูช. <br><br>  ููุฌุฑุจ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> brin(scheduled_time);</code> </pre><br>  ุญุฌู ุงูููุฑุณ ุตุบูุฑ ุจุญุฌู 184 ููููุจุงูุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> pg_size_pretty(pg_total_relation_size(<span class="hljs-string"><span class="hljs-string">'flights_bi_scheduled_time_idx'</span></span>));</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_size_pretty ---------------- 184 kB (1 row)</code> </pre><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ุจุงููุงุฏ ูููู ูู ุงูููุทูู ุฒูุงุฏุฉ ุญุฌู ุงููุทุงู ุนูู ุญุณุงุจ ููุฏุงู ุงูุฏูุฉ.  ูููู ูููููุง ุชูููู ุงูุญุฌู ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ูุณุชุฒุฏุงุฏ ุงูุฏูุฉ (ุนูู ุงูุนูุณ ูู ุฐูู ุ ุฅูู ุฌุงูุจ ุญุฌู ุงูููุฑุณ). <br><br>  ุงูุขู ุฏุนููุง ููุธุฑ ุฅูู ุงูููุงุทู ุงูุฒูููุฉ.  ููุง ูุง ูููููุง ุงุณุชุฎุฏุงู ููุฌ ุงูููุฉ ุงูุบุงุดูุฉ ุฃูุถูุง.  ูุฌุจ ุชูุณูู ุฌููุน ุงูููู ุนูู ุนุฏุฏ ุฏูุฑุงุช ุงูููู ุจุฏูุงู ูู ุชูุฑุงุฑ ุงูุชูุฒูุน ูู ูู ููู.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุธุฑูุง ููุฌูุฏ ููุงุทู ุฒูููุฉ ููููุฉ ููุท ุ ูููููุง ุฃู ููุธุฑ ุฅูู ุงูุชูุฒูุน ุจุฃูููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> airport_utc_offset, count(<span class="hljs-keyword"><span class="hljs-keyword">distinct</span></span> (ctid::<span class="hljs-type"><span class="hljs-type">text</span></span>::<span class="hljs-type"><span class="hljs-type">point</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>])/<span class="hljs-number"><span class="hljs-number">365</span></span> numblk <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">group</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> airport_utc_offset <span class="hljs-keyword"><span class="hljs-keyword">order</span></span> <span class="hljs-keyword"><span class="hljs-keyword">by</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> airport_utc_offset | numblk --------------------+-------- 12:00:00 | 6 06:00:00 | 8 02:00:00 | 10 11:00:00 | 13 08:00:00 | 28 09:00:00 | 29 10:00:00 | 40 04:00:00 | 47 07:00:00 | 110 05:00:00 | 231 03:00:00 | 932 (11 rows)</code> </pre><br>  ูู ุงููุชูุณุท โโุ ุชููุฃ ุงูุจูุงูุงุช ููู ููุทูุฉ ุฒูููุฉ 133 ุตูุญุฉ ูู ุงูููู ุ ููู ุงูุชูุฒูุน ุบูุฑ ููุชุธู ุฅูู ุญุฏ ูุจูุฑ: ูุชูุงุณุจ Petropavlovsk-Kamchatskiy and Anadyr ูุน ูุง ูุง ููู ุนู ุณุช ุตูุญุงุช ุ ุจูููุง ุชุชุทูุจ ููุณูู ูุงูุญู ุงููุฌุงูุฑ ูุฆุงุช ูููุง.  ุงูุญุฌู ุงูุงูุชุฑุงุถู ูููุทุงู ููุณ ุฌูุฏูุง ููุง ุ  ูููู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุจุชุนููููุง ุฅูู ุฃุฑุจุน ุตูุญุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> brin(airport_utc_offset) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> (pages_per_range=<span class="hljs-number"><span class="hljs-number">4</span></span>); demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> pg_size_pretty(pg_total_relation_size(<span class="hljs-string"><span class="hljs-string">'flights_bi_airport_utc_offset_idx'</span></span>));</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_size_pretty ---------------- 6528 kB (1 row)</code> </pre><br><h2 style=";text-align:right;direction:rtl">  ุฎุทุฉ ุงูุชูููุฐ </h2><br>  ุฏุนููุง ููุธุฑ ูู ููููุฉ ุนูู ููุงุฑุณูุง.  ุฏุนูุง ูุฎุชุงุฑ ููููุง ูุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุจู ุฃุณุจูุน (ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ ุ ูุชู ุชุญุฏูุฏ "ุงูููู" ูู ุฎูุงู ูุธููุฉ "booking.now"): <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# \<span class="hljs-keyword"><span class="hljs-keyword">set</span></span> d <span class="hljs-string"><span class="hljs-string">'bookings.now()::date - interval \'</span></span><span class="hljs-number"><span class="hljs-number">7</span></span> days\<span class="hljs-string"><span class="hljs-string">''</span></span> demo=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> scheduled_time &gt;= :d <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> scheduled_time &lt; :d + <span class="hljs-type"><span class="hljs-type">interval</span></span> <span class="hljs-string"><span class="hljs-string">'1 day'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> QUERY PLAN -------------------------------------------------------------------------------- Bitmap Heap Scan on flights_bi (actual time=10.282..94.328 rows=83954 loops=1) Recheck Cond: ... Rows Removed by Index Recheck: 12045 Heap Blocks: lossy=1664 -&gt; Bitmap Index Scan on flights_bi_scheduled_time_idx (actual time=3.013..3.013 rows=16640 loops=1) Index Cond: ... Planning time: 0.375 ms Execution time: 97.805 ms</code> </pre><br>  ููุง ูุฑู ุ ุงุณุชุฎุฏู ุงููุฎุทุท ุงูููุฑุณ ุงูุฐู ุชู ุฅูุดุงุคู.  ูุง ูุฏู ุฏูุฉ ุฐููุ  ุชุฎุจุฑูุง ูุณุจุฉ ูุฐุง ุงูุนุฏุฏ ูู ุงูุตููู ุงูุชู ุชูู ุจุดุฑูุท ุงูุงุณุชุนูุงู ("ุงูุตููู" ูู ุนูุฏุฉ Bitmap Heap Scan) ุฅูู ุฅุฌูุงูู ุนุฏุฏ ุงูุตููู ุงูุชู ูุชู ุฅุฑุฌุงุนูุง ุจุงุณุชุฎุฏุงู ุงูููุฑุณ (ููุณ ุงููููุฉ ุจุงูุฅุถุงูุฉ ุฅูู ุงูุตููู ุงูุชู ุชูุช ุฅุฒุงูุชูุง ุนู ุทุฑูู ุฅุนุงุฏุฉ ูุญุต ุงูููุฑุณ).  ูู ูุฐู ุงูุญุงูุฉ 83954 / (83954 + 12045) ุ ููู ูุง ููุฑุจ ูู 90 ูช ุ ููุง ูู ูุชููุน (ูุฐู ุงููููุฉ ุณูู ุชุชุบูุฑ ูู ููู ุฅูู ุขุฎุฑ). <br><br>  ูู ุฃูู ููุดุฃ ุฑูู 16640 ูู "ุงูุตููู ุงููุนููุฉ" ูุนูุฏ ูุณุญ ููุทูุฉุ  ุงูุดูุก ูู ุฃู ูุฐู ุงูุนูุฏุฉ ูู ุงูุฎุทุฉ ุชููู ุจุฅูุดุงุก ุตูุฑุฉ ููุทูุฉ ุบูุฑ ุฏูููุฉ (ุตูุญุฉ ุตูุญุฉ) ููุง ุชุนูู ุชูุงููุง ุนุฏุฏ ุงูุตููู ุงูุชู ุณุชููุณูุง ุงูุตูุฑุฉ ุงูููุทูุฉ ุ ุจูููุง ููุฒู ุนุฑุถ ุดูุก ูุง.  ูุฐูู ุ ูู ุญุงูุฉ ุงููุฃุณ ุ ููุชุฑุถ ุฃู ุชุญุชูู ุตูุญุฉ ูุงุญุฏุฉ ุนูู 10 ุตููู.  ุชุญุชูู ุงูุตูุฑุฉ ุงูููุทูุฉ ุนูู ุฅุฌูุงูู 1664 ุตูุญุฉ (ุชุธูุฑ ูุฐู ุงููููุฉ ูู "Heap Blocks: lossy = 1664")ุ  ุฅุฐุงู ุ ูุญู ูุญุตู ุนูู 16640. ุฅุฌูุงูุงู ุ ูุฐุง ุฑูู ูุง ูุนูู ูู ุ ููุง ููุจุบู ููุง ุงูุงูุชุจุงู ุฅููู. <br><br>  ูุงุฐุง ุนู ุงููุทุงุฑุงุชุ  ุนูู ุณุจูู ุงููุซุงู ุ ููุฃุฎุฐ ุงูููุทูุฉ ุงูุฒูููุฉ ูู Vladivostok ุ ุงูุชู ุชููุฃ 28 ุตูุญุฉ ูููููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> airport_utc_offset = <span class="hljs-type"><span class="hljs-type">interval</span></span> <span class="hljs-string"><span class="hljs-string">'8 hours'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> QUERY PLAN ---------------------------------------------------------------------------------- Bitmap Heap Scan on flights_bi (actual time=75.151..192.210 rows=587353 loops=1) Recheck Cond: (airport_utc_offset = '08:00:00'::interval) Rows Removed by Index Recheck: 191318 Heap Blocks: lossy=13380 -&gt; Bitmap Index Scan on flights_bi_airport_utc_offset_idx (actual time=74.999..74.999 rows=133800 loops=1) Index Cond: (airport_utc_offset = '08:00:00'::interval) Planning time: 0.168 ms Execution time: 212.278 ms</code> </pre><br>  ูุณุชุฎุฏู ุงููุฎุทุท ูุฑุฉ ุฃุฎุฑู ููุฑุณ BRIN ุงูุฐู ุชู ุฅูุดุงุคู.  ุฏูุฉ ุฃุณูุฃ (ุญูุงูู 75 ูช ูู ูุฐู ุงูุญุงูุฉ) ุ ูููู ูุฐุง ูู ูุชููุน ูุฃู ุงูุนูุงูุฉ ุฃูู. <br><br>  ูููู ุจุงูุชุฃููุฏ ุฑุจุท ุงูุนุฏูุฏ ูู ููุงุฑุณ BRIN (ุชูุงููุง ูุซู ุฃู ููุงุฑุณ ุฃุฎุฑู) ุจูุณุชูู ุงูุตูุฑุฉ ุงูููุทูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูููุง ููู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ ูู ุงูููุทูุฉ ุงูุฒูููุฉ ุงููุญุฏุฏุฉ ููุฏุฉ ุดูุฑ (ูุงุญุธ "ุนูุฏุฉ" ุตูุฑุฉ ููุทูุฉ): <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# \<span class="hljs-keyword"><span class="hljs-keyword">set</span></span> d <span class="hljs-string"><span class="hljs-string">'bookings.now()::date - interval \'</span></span><span class="hljs-number"><span class="hljs-number">60</span></span> days\<span class="hljs-string"><span class="hljs-string">''</span></span> demo=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> scheduled_time &gt;= :d <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> scheduled_time &lt; :d + <span class="hljs-type"><span class="hljs-type">interval</span></span> <span class="hljs-string"><span class="hljs-string">'30 days'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> airport_utc_offset = <span class="hljs-type"><span class="hljs-type">interval</span></span> <span class="hljs-string"><span class="hljs-string">'8 hours'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> QUERY PLAN --------------------------------------------------------------------------------- Bitmap Heap Scan on flights_bi (actual time=62.046..113.849 rows=48154 loops=1) Recheck Cond: ... Rows Removed by Index Recheck: 18856 Heap Blocks: lossy=1152 -&gt; BitmapAnd (actual time=61.777..61.777 rows=0 loops=1) -&gt; Bitmap Index Scan on flights_bi_scheduled_time_idx (actual time=5.490..5.490 rows=435200 loops=1) Index Cond: ... -&gt; Bitmap Index Scan on flights_bi_airport_utc_offset_idx (actual time=55.068..55.068 rows=133800 loops=1) Index Cond: ... Planning time: 0.408 ms Execution time: 115.475 ms</code> </pre><br><h3 style=";text-align:right;direction:rtl">  ููุงุฑูุฉ ูุน ุดุฌุฑุฉ ุจ </h3><br>  ูุงุฐุง ูู ูููุง ุจุฅูุดุงุก ููุฑุณ B-tree ููุชุธู ูู ููุณ ุงูุญูู ูุซู BRINุ <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> flights_bi_scheduled_time_btree <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> flights_bi(scheduled_time); demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> pg_size_pretty(pg_total_relation_size(<span class="hljs-string"><span class="hljs-string">'flights_bi_scheduled_time_btree'</span></span>));</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_size_pretty ---------------- 654 MB (1 row)</code> </pre><br>  ูุจุฏู ุฃู <em>ุนุฏุฉ ุขูุงู ูู ุงููุฑุงุช ุฃูุจุฑ</em> ูู ุจุฑูู!  ููุน ุฐูู ุ ูุชู ุชูููุฐ ุงูุงุณุชุนูุงู ุจุดูู ุฃุณุฑุน ููููุงู: ุงุณุชุฎุฏู ุงููุฎุทุท ุฅุญุตุงุฆูุงุช ููุนุฑูุฉ ุฃู ุงูุจูุงูุงุช ูุฑุชุจุฉ ูุนูููุง ูููุณุช ููุงู ุญุงุฌุฉ ูุฅูุดุงุก ุตูุฑุฉ ููุทูุฉ ุ ูุจุดูู ุฃุณุงุณู ุ ูุง ููุฒู ุฅุนุงุฏุฉ ูุญุต ุญุงูุฉ ุงูููุฑุณ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> scheduled_time &gt;= :d <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> scheduled_time &lt; :d + <span class="hljs-type"><span class="hljs-type">interval</span></span> <span class="hljs-string"><span class="hljs-string">'1 day'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> QUERY PLAN ---------------------------------------------------------------- Index Scan using flights_bi_scheduled_time_btree on flights_bi (actual time=0.099..79.416 rows=83954 loops=1) Index Cond: ... Planning time: 0.500 ms Execution time: 85.044 ms</code> </pre><br>  ูุฐุง ุดูุก ุฑุงุฆุน ุญูู BRIN: ูุญู ูุถุญู ุจุงูููุงุกุฉ ุ ููููุง ููุชุณุจ ูุณุงุญุฉ ูุจูุฑุฉ ุฌุฏูุง. <br><br><h2 style=";text-align:right;direction:rtl">  ูุฆุงุช ุงููุดุบู </h2><br><h3 style=";text-align:right;direction:rtl">  minmax </h3><br>  ุจุงููุณุจุฉ ูุฃููุงุน ุงูุจูุงูุงุช ุงูุชู ูููู ููุงุฑูุฉ ููููุง ูุน ุจุนุถูุง ุงูุจุนุถ ุ ุชุชููู ูุนูููุงุช ุงูููุฎุต ูู <em>ุงูุญุฏ ุงูุฃุฏูู ูุงูุญุฏ ุงูุฃูุตู ููููู</em> .  ุชุญุชูู ุฃุณูุงุก ูุฆุงุช ุงููุดุบููู ุงูููุงุจูุฉ ุนูู "minmax" ุ ุนูู ุณุจูู ุงููุซุงู ุ "date_minmax_ops".  ูู ุงููุงูุน ุ ูุฐู ูู ุฃููุงุน ุงูุจูุงูุงุช ุงูุชู ููุง ูููุฑ ูููุง ุญุชู ุงูุขู ุ ููุนุธู ุงูุฃููุงุน ูู ูุฐุง ุงูููุน. <br><br><h3 style=";text-align:right;direction:rtl">  ุดุงูู </h3><br>  ุนูุงูู ุชุดุบูู ุงูููุงุฑูุฉ ุบูุฑ ูุญุฏุฏุฉ ูุฌููุน ุฃููุงุน ุงูุจูุงูุงุช.  ุนูู ุณุจูู ุงููุซุงู ุ ูุง ูุชู ุชุนุฑูููุง ููููุงุท (ููุน "ุงูููุทุฉ") ุ ูุงูุชู ุชูุซู ุงูุฅุญุฏุงุซูุงุช ุงูุฌุบุฑุงููุฉ ูููุทุงุฑุงุช.  ุจุงูููุงุณุจุฉ ุ ููุฐุง ุงูุณุจุจ ูุง ุชูุธูุฑ ุงูุฅุญุตุงุฆูุงุช ุงูุงุฑุชุจุงุท ููุฐุง ุงูุนููุฏ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> attname, correlation <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pg_stats <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> tablename=<span class="hljs-string"><span class="hljs-string">'flights_bi'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> attname = <span class="hljs-string"><span class="hljs-string">'airport_coord'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> attname | correlation ---------------+------------- airport_coord | (1 row)</code> </pre><br>  ููู ุงูุนุฏูุฏ ูู ูุฐู ุงูุฃููุงุน ุชููููุง ูู ุชูุฏูู ููููู "ุงูููุทูุฉ ุงููุญูุทุฉ" ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุณุชุทูู ูุญูุท ููุฃุดูุงู ุงูููุฏุณูุฉ.  ูุงูุดูุง ุจุงูุชูุตูู ููู ูุณุชุฎุฏู ููุฑุณ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GiST</a> ูุฐู ุงูููุฒุฉ.  ูุจุงููุซู ุ ููููู BRIN ุฃูุถูุง ุฌูุน ูุนูููุงุช ุงูููุฎุต ุนูู ุงูุฃุนูุฏุฉ ุงูุชู ุชุญุชูู ุนูู ุฃููุงุน ุงูุจูุงูุงุช ูุซู ูุฐู: <em>ุงูููุทูุฉ ุงููุญูุทุฉ ูุฌููุน ุงูููู ุฏุงุฎู ุงููุทุงู</em> ูู ูุฌุฑุฏ ูููุฉ ุงูููุฎุต. <br><br>  ุจุฎูุงู GiST ุ ูุฌุจ ุฃู ุชููู ูููุฉ ุงูููุฎุต ูู BRIN ูู ููุณ ุงูููุน ูุซู ุงูููู ุงูุชู ูุชู ููุฑุณุชูุง.  ูุฐูู ุ ูุง ูููููุง ุจูุงุก ุงูููุฑุณ ููููุงุท ุ ุนูู ุงูุฑุบู ูู ุฃูู ูู ุงููุงุถุญ ุฃู ุงูุฅุญุฏุงุซูุงุช ูููู ุฃู ุชุนูู ูู BRIN: ุฎุท ุงูุทูู ูุฑุชุจุท ุงุฑุชุจุงุทูุง ูุซูููุง ุจุงูููุทูุฉ ุงูุฒูููุฉ.  ูุญุณู ุงูุญุธ ุ ูุง ุดูุก ูุนูู ุฅูุดุงุก ุงูููุฑุณ ุนูู ุชุนุจูุฑ ุจุนุฏ ุชุญููู ุงูููุงุท ุฅูู ูุณุชุทููุงุช ูุชุฏููุฑุฉ.  ูู ุงูููุช ููุณู ุ ุณูููู ุจุชุนููู ุญุฌู ุงููุทุงู ุนูู ุตูุญุฉ ูุงุญุฏุฉ ุ ููุท ูุฅุธูุงุฑ ุญุงูุฉ ุงูุญุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">index</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> brin (box(airport_coord)) <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> (pages_per_range=<span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><br>  ุญุฌู ุงูููุฑุณ ุตุบูุฑ ุญุชู 30 ููุบุงุจุงูุช ุญุชู ูู ูุซู ูุฐู ุงูุญุงูุฉ ุงููุตูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> pg_size_pretty(pg_total_relation_size(<span class="hljs-string"><span class="hljs-string">'flights_bi_box_idx'</span></span>));</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pg_size_pretty ---------------- 30 MB (1 row)</code> </pre><br>  ุงูุขู ูููููุง ุชุนููุถ ุงูุงุณุชูุณุงุฑุงุช ุงูุชู ุชุญุฏ ูู ุงููุทุงุฑุงุช ุนู ุทุฑูู ุงูุฅุญุฏุงุซูุงุช.  ุนูู ุณุจูู ุงููุซุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> airport_code, airport_name <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> airports <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> box(coordinates) &lt;@ <span class="hljs-type"><span class="hljs-type">box</span></span> <span class="hljs-string"><span class="hljs-string">'120,40,140,50'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> airport_code | airport_name --------------+----------------- KHV | Khabarovsk-Novyi VVO | Vladivostok (2 rows)</code> </pre><br>  ููุน ุฐูู ุ ุณูุฑูุถ ุงููุฎุทุท ุงุณุชุฎุฏุงู ููุฑุณูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span> flights_bi; demo=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> box(airport_coord) &lt;@ <span class="hljs-type"><span class="hljs-type">box</span></span> <span class="hljs-string"><span class="hljs-string">'120,40,140,50'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> QUERY PLAN --------------------------------------------------------------------- Seq Scan on flights_bi (cost=0.00..985928.14 rows=30517 width=111) Filter: (box(airport_coord) &lt;@ '(140,50),(120,40)'::box)</code> </pre><br>  ููุงุฐุงุ  ูููู ุจุชุนุทูู ุงููุณุญ ุงููุชุณูุณู ููุฑู ูุง ุณูุญุฏุซ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> enable_seqscan = <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>; demo=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> box(airport_coord) &lt;@ <span class="hljs-type"><span class="hljs-type">box</span></span> <span class="hljs-string"><span class="hljs-string">'120,40,140,50'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> QUERY PLAN -------------------------------------------------------------------------------- Bitmap Heap Scan on flights_bi (cost=14079.67..1000007.81 rows=30517 width=111) Recheck Cond: (box(airport_coord) &lt;@ '(140,50),(120,40)'::box) -&gt; Bitmap Index Scan on flights_bi_box_idx (cost=0.00..14072.04 rows=30517076 width=0) Index Cond: (box(airport_coord) &lt;@ '(140,50),(120,40)'::box)</code> </pre><br>  ูุจุฏู ุฃูู <em>ูููู</em> ุงุณุชุฎุฏุงู ุงูููุฑุณ ุ ููู ุงููุฎุทุท ููุชุฑุถ ุฃู ุงูุตูุฑุฉ ุงูููุทูุฉ ูุฌุจ ุฃู ุชููู ูุจููุฉ ุนูู ุงูุฌุฏูู ุจุงููุงูู (ุงูุธุฑ ุฅูู "ุงูุตููู" ูู ุนูุฏุฉ Bitmap Index Scan) ุ ููุง ุนุฌุจ ุฃู ูุฎุชุงุฑ ุงููุฎุทุท ุงููุณุญ ุงููุชุณูุณู ูู ูุฐู ุงูุญุงูุฉ.  ุงููุดููุฉ ููุง ูู ุฃูู ุจุงููุณุจุฉ ููุฃููุงุน ุงูููุฏุณูุฉ ุ ูุง ุชุฌูุน PostgreSQL ุฃู ุฅุญุตุงุฆูุงุช ุ ููุชุนูู ุนูู ุงููุฎุทุท ุฃู ูุชุนูุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pg_stats <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> tablename = <span class="hljs-string"><span class="hljs-string">'flights_bi_box_idx'</span></span> \gx</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">-[ RECORD 1 ]----------+------------------- schemaname | bookings tablename | flights_bi_box_idx attname | box inherited | f null_frac | 0 avg_width | 32 n_distinct | 0 most_common_vals | most_common_freqs | histogram_bounds | correlation | most_common_elems | most_common_elem_freqs | elem_count_histogram |</code> </pre><br>  ููุฃุณู.  ููู ูุง ุชูุฌุฏ ุดูุงูู ุญูู ุงูููุฑุณ - ุฅูู ูุนูู ููุนูู ุจุดูู ุฌูุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">explain</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">costs</span></span> <span class="hljs-keyword"><span class="hljs-keyword">off</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">analyze</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flights_bi <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> box(airport_coord) &lt;@ <span class="hljs-type"><span class="hljs-type">box</span></span> <span class="hljs-string"><span class="hljs-string">'120,40,140,50'</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> QUERY PLAN ---------------------------------------------------------------------------------- Bitmap Heap Scan on flights_bi (actual time=158.142..315.445 rows=781790 loops=1) Recheck Cond: (box(airport_coord) &lt;@ '(140,50),(120,40)'::box) Rows Removed by Index Recheck: 70726 Heap Blocks: lossy=14772 -&gt; Bitmap Index Scan on flights_bi_box_idx (actual time=158.083..158.083 rows=147720 loops=1) Index Cond: (box(airport_coord) &lt;@ '(140,50),(120,40)'::box) Planning time: 0.137 ms Execution time: 340.593 ms</code> </pre><br>  ูุฌุจ ุฃู ูููู ุงูุงุณุชูุชุงุฌ ููุง ููู: ููุงู ุญุงุฌุฉ ุฅูู PostGIS ุฅุฐุง ูุงู ุฃู ุดูุก ุบูุฑ ุถุฑูุฑู ูุทููุจูุง ูู ุงููุงุญูุฉ ุงูููุฏุณูุฉ.  ูููู ุฃู ุชุฌูุน ุงูุฅุญุตุงุกุงุช ุนูู ุฃู ุญุงู. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุฏุงุฎููุฉ </h2><br>  ููููููุง ุงูุงูุชุฏุงุฏ ุงูุชูููุฏู "pageinspect" ูู ุงููุธุฑ ุฅูู ูุคุดุฑ BRIN. <br><br>  ุฃููุงู ุ ุณูุทุงูุจููุง metainformation ุจุญุฌู ุงููุทุงู ูุนุฏุฏ ุงูุตูุญุงุช ุงููุฎุตุตุฉ ูู "revmap": <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> brin_metapage_info(get_raw_page(<span class="hljs-string"><span class="hljs-string">'flights_bi_scheduled_time_idx'</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>));</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> magic | version | pagesperrange | lastrevmappage ------------+---------+---------------+---------------- 0xA8109CFA | 1 | 128 | 3 (1 row)</code> </pre><br>  ูุชู ุชุฎุตูุต ุงูุตูุญุงุช 1-3 ููุง ูู "revmap" ุ ุจูููุง ุชุญุชูู ุงูุจููุฉ ุนูู ุจูุงูุงุช ููุฌุฒุฉ.  ูู "revmap" ูููููุง ุงูุญุตูู ุนูู ูุฑุงุฌุน ูุจูุงูุงุช ุงูููุฎุต ููู ูุทุงู.  ูู ุ ุงููุนูููุงุช ุงูููุฌูุฏุฉ ูู ุงููุทุงู ุงูุฃูู ุ ูุงูุชู ุชุชุถูู 128 ุตูุญุฉ ุฃูููุฉ ุ ููุฌูุฏุฉ ููุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> brin_revmap_data(get_raw_page(<span class="hljs-string"><span class="hljs-string">'flights_bi_scheduled_time_idx'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">limit</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pages --------- (6,197) (1 row)</code> </pre><br>  ููุฐู ูู ููุฎุต ุงูุจูุงูุงุช ููุณูุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> allnulls, hasnulls, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> brin_page_items( get_raw_page(<span class="hljs-string"><span class="hljs-string">'flights_bi_scheduled_time_idx'</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>), <span class="hljs-string"><span class="hljs-string">'flights_bi_scheduled_time_idx'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> itemoffset = <span class="hljs-number"><span class="hljs-number">197</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> allnulls | hasnulls | value ----------+----------+---------------------------------------------------- f | f | {2016-08-15 02:45:00+03 .. 2016-08-15 17:15:00+03} (1 row)</code> </pre><br>  ุงููุทุงู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> brin_revmap_data(get_raw_page(<span class="hljs-string"><span class="hljs-string">'flights_bi_scheduled_time_idx'</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">offset</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">limit</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> pages --------- (6,198) (1 row)</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">demo=# <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> allnulls, hasnulls, <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> brin_page_items( get_raw_page(<span class="hljs-string"><span class="hljs-string">'flights_bi_scheduled_time_idx'</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>), <span class="hljs-string"><span class="hljs-string">'flights_bi_scheduled_time_idx'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> itemoffset = <span class="hljs-number"><span class="hljs-number">198</span></span>;</code> </pre><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> allnulls | hasnulls | value ----------+----------+---------------------------------------------------- f | f | {2016-08-15 06:00:00+03 .. 2016-08-15 18:55:00+03} (1 row)</code> </pre><br>  ู ููุฐุง. <br><br>  ุจุงููุณุจุฉ ููุฆุงุช "ุงูุชุถููู" ุ ุณูุนุฑุถ ุญูู "ุงููููุฉ" ุดูุฆูุง ูุง <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> {(94.4005966186523,69.3110961914062),(77.6600036621,51.6693992614746) .. f .. f}</code> </pre><br>  ุงููููุฉ ุงูุฃููู ูู ูุณุชุทูู ุงูุชุถููู ุ ูุงูุญุฑูู "f" ูู ุงูููุงูุฉ ุชุฏู ุนูู ููุต ุงูุนูุงุตุฑ ุงููุงุฑุบุฉ (ุงูุฃููู) ูุชูุชูุฑ ุฅูู ุงูููู ุบูุฑ ุงููุงุจูุฉ ููุชูุดูุท (ุงูุซุงููุฉ).  ูู ุงููุงูุน ุ ูุฅู ุงูููู ุบูุฑ ุงููุงุจูุฉ ููุชูุดูุท ูู ุนูุงููู "IPv4" ู "IPv6" (ููุน ุงูุจูุงูุงุช "inet"). <br><br><h2 style=";text-align:right;direction:rtl">  ุฎุตุงุฆุต </h2><br>  ุชุฐููุฑู ุจุงูุงุณุชุนูุงูุงุช ุงูุชู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชู ุชูุฏูููุง ุจุงููุนู</a> . <br><br>  ูููุง ููู ุฎุตุงุฆุต ุทุฑููุฉ ุงููุตูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> amname | name | pg_indexam_has_property --------+---------------+------------------------- brin | can_order | f brin | can_unique | f brin | can_multi_col | t brin | can_exclude | f</code> </pre><br>  ูููู ุฅูุดุงุก ููุงุฑุณ ุนูู ุนุฏุฉ ุฃุนูุฏุฉ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุฌูุน ุฅุญุตุงุฆูุงุช ุงูููุฎุต ุงูุฎุงุตุฉ ุจู ููู ุนููุฏ ุ ูููู ูุชู ุชุฎุฒูููุง ูุนูุง ููู ูุทุงู.  ุจุงูุทุจุน ุ ูููู ูุฐุง ุงูููุฑุณ ููุทูููุง ุฅุฐุง ูุงู ุญุฌู ููุทุงู ุงููุทุงู ููุณู ููุงุณุจูุง ูุฌููุน ุงูุฃุนูุฏุฉ. <br><br>  ุชุชููุฑ ุฎุตุงุฆุต ุทุจูุฉ ุงูููุฑุณ ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> name | pg_index_has_property ---------------+----------------------- clusterable | f index_scan | f bitmap_scan | t backward_scan | f</code> </pre><br>  ูู ุงููุงุถุญ ุ ูุชู ุฏุนู ูุญุต ุงูุตูุฑุฉ ุงูููุทูุฉ ููุท. <br><br>  ููุน ุฐูู ุ ูุฏ ูุจุฏู ุนุฏู ูุฌูุฏ ูุฌููุนุงุช ูุฑุจูุฉ.  ุนูู ูุง ูุจุฏู ุ ูุธุฑูุง ูุฃู ูุคุดุฑ BRIN ุญุณุงุณ ููุชุฑุชูุจ ุงููุนูู ููุตููู ุ ุณูููู ูู ุงูููุทูู ุฃู ุชููู ูุงุฏุฑูุง ุนูู ุชุฌููุน ุงูุจูุงูุงุช ููููุง ููููุฑุณ.  ููู ูุฐุง ููุณ ูุฐูู.  ูููููุง ููุท ุฅูุดุงุก ููุฑุณ "ููุชุธู" (B-tree ุฃู GiST ุ ุงุนุชูุงุฏูุง ุนูู ููุน ุงูุจูุงูุงุช) ููุธุงู ุงููุฌููุนุฉ ููููุง ูุฐูู.  ุจุงูููุงุณุจุฉ ุ ูู ุชุฑูุฏ ุชุฌููุน ุฌุฏูู ุถุฎู ูู ุงูููุชุฑุถ ูุน ูุฑุงุนุงุฉ ุงูุฃููุงู ุงูุญุตุฑูุฉ ูููุช ุงูุชูููุฐ ูุงุณุชููุงู ูุณุงุญุฉ ุงููุฑุต ุฃุซูุงุก ุฅุนุงุฏุฉ ุงูุจูุงุกุ <br><br>  ูููุง ููู ุฎุตุงุฆุต ุทุจูุฉ ุงูุนููุฏ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> name | pg_index_column_has_property --------------------+------------------------------ asc | f desc | f nulls_first | f nulls_last | f orderable | f distance_orderable | f returnable | f search_array | f search_nulls | t</code> </pre><br>  ุงูุฎุงุตูุฉ ุงููุญูุฏุฉ ุงููุชุงุญุฉ ูู ุงููุฏุฑุฉ ุนูู ุงูุชุนุงูู ูุน ุงูููู ุงูุฎุงููุฉ. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฑุฃ ุนูู</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar452900/">https://habr.com/ru/post/ar452900/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar452886/index.html">ูุดุงุฑูุน ูููู ูุงุณู Noosphere ุนูู HACKNOWLEGE</a></li>
<li><a href="../ar452888/index.html">ุจุงููุฑุจ ูู ูููููุฎ ุ ุจุฏุฃ ุงุฎุชุจุงุฑ Lilium Jet ุจุญุฌู ุฎูุณุฉ ููุงุนุฏ ุจุงูุญุฌู ุงููุงูู</a></li>
<li><a href="../ar452890/index.html">23 ูุงูู ุ 18:30 - ุงูุจุซ ุงููุจุงุดุฑ ููุทุจุฎ QIWI</a></li>
<li><a href="../ar452892/index.html">ููู ูููู ุฃู ููุชูู ุบูุฑ ุงููุจุฑูุฌ ุฅูู ุงูููุงูุงุช ุงููุชุญุฏุฉ ุงูุฃูุฑูููุฉ: ุฅุฑุดุงุฏุงุช ุฎุทูุฉ ุจุฎุทูุฉ</a></li>
<li><a href="../ar452894/index.html">ูุฌู ููุงูุญุฉ ุงูุฎุฏุงุน ุฃู ุงูุชุนุฑู ุนูู ุงูุบุดุงุด ุชูููุง ูู ุฃูู ูุฌู</a></li>
<li><a href="../ar452902/index.html">ุจุนุฏ ุงูุงูุชูุงุก ูู 4 ุณููุงุช ูู ุงูุชุฏุฑูุจ ููุจุฑูุฌ ุ ุฃููู ุฃููู ุจุนูุฏ ุนู ุงููุจุฑูุฌ</a></li>
<li><a href="../ar452904/index.html">ููู ุชุชูุงุตู ุงูุขูุงุช - ุจุฑูุชูููู MQTT</a></li>
<li><a href="../ar452906/index.html">ูุญุฑูุงุช ุฌุงูุง ุณูุฑูุจุช: ููู ุชุนููุ ูู ููุฏุณ ุงูุงุชุตุงู ุฅูู ุงููุนูุฏ ุ (ุชูุฑูุจูุง) ูู ูุง ุชุญุชุงุฌ ุฅูู ูุนุฑูุชู</a></li>
<li><a href="../ar452908/index.html">Selenium WebDriver - ูุชุฑู ุงุฎุชุจุงุฑ ูู ุงูููุช ุงูุญูููู ุจุงุณุชุฎุฏุงู Grafana ู InfluxDB</a></li>
<li><a href="../ar452910/index.html">ูุฑุญุจุง ูุง ูุจุฑ! ูุฑุญุจุง ุชูุฑููู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>