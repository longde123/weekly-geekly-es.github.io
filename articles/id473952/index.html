<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ€ ğŸ™ğŸ½ â›½ï¸ Seperti yang saya tulis AI untuk strategi turn-based â¬œï¸ ğŸ•— ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya. Saya pikir dari judulnya jelas bahwa kita akan berbicara tentang penciptaan kecerdasan buatan (selanjutnya hanya AI), tentang keputusan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Seperti yang saya tulis AI untuk strategi turn-based</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473952/">  Halo semuanya.  Saya pikir dari judulnya jelas bahwa kita akan berbicara tentang penciptaan kecerdasan buatan (selanjutnya hanya AI), tentang keputusan apa yang dibuat dan apa yang akhirnya terjadi.  Tetapi pertama-tama Anda harus meningkatkan kecepatan Anda. <br><br>  Game ini ditulis dalam bahasa pemrograman Lua, jadi saya akan memberikan contoh kode dalam bahasa ini. <br><br>  Saya akan menjelaskan beberapa detail game yang penting untuk AI: <br><br><ol><li>  Permainan adalah strategi berbasis giliran.  Pertama, pemain berjalan, lalu AI melakukan aksinya untuk masing-masing negara.  AI hanya berfungsi ketika Anda mengklik Langkah selanjutnya dan tidak tahu apa yang terjadi di lain waktu. </li><li>  Gim ini memiliki peta tempat Anda dapat merekrut / memindahkan / mengerahkan pasukan.  AI harus menganalisisnya dan membuat keputusan yang diperlukan. </li><li>  Dalam permainan, Anda dapat membuat perdamaian / menyatakan perang / menandatangani pakta non-agresi / masuk ke dalam dan mengakhiri aliansi.  AI harus mampu mengatasi ini. </li><li>  Institusi teknologi dan politik hanya tersedia untuk pemain.  Bonus AI tidak berubah sejak awal permainan, tidak seperti pemain. </li></ol><a name="habracut"></a><br>  Fungsi yang bertanggung jawab untuk memulai langkah selanjutnya terlihat seperti ini: <br><br><pre><code class="lua hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">next_step</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment">--     --   ,    for k, v in pairs(game_data.lands) do calc_ai(k) end --  End</span></span></code> </pre> <br>  Anda harus memperhatikan fungsi sulap <code>calc_ai</code> , yang bertanggung jawab atas semua tindakan bot.  Anda masih dapat melihat satu detail menarik: fungsi dilakukan bergantian untuk setiap negara. <br><br>  Sekarang kita jawab pertanyaannya, apa yang terjadi di <code>calc_ai</code> . <br><br><pre> <code class="lua hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calc_ai</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(land)</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> land == game_data.player_land <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> land == <span class="hljs-string"><span class="hljs-string">"Undeveloped_land"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> game_data.lands[land] <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-comment"><span class="hljs-comment">--    ,     for k, v in pairs(game_data.lands) do local option = math.random() --  ,       . if k == game_data.player_land then ai_data = fixed_ai_data[game_data.difficulty].player else ai_data = fixed_ai_data[game_data.difficulty] end end move_army( math.random(), land) --  balance_army( math.random(), land) --   end</span></span></code> </pre><br>  Sampai kami sangat memahami bagaimana AI membuat keputusan dalam politik, kami mencatat hal-hal berikut: <br><br><ol><li>  Ada cek bahwa AI tidak sengaja pergi untuk pemain atau untuk Undeveloped_land yang tidak bisa dipahami.  Ini hanya tanah tanpa negara (Faktanya, sebuah provinsi harus selalu memiliki negara yang memilikinya, jadi Undeveloped_land adalah sebutan utamanya untuk permainan). </li><li>  AI memilih tabel yang berbeda untuk berinteraksi dengan negara, tergantung pada apakah pemain mengontrolnya atau tidak. </li><li>  AI pertama-tama menggerakkan tentara, dan baru kemudian mempekerjakan. </li></ol><br>  <code>fixed_ai_data</code> - tabel itu sendiri.  Dinamai demikian karena tidak berubah (lebih tepatnya, variabel selalu merujuk ke tabel root). <br>  <code>ai_data</code> - tabel itu sendiri, yang berubah tergantung pada apakah bot berurusan dengan pemain atau tidak (variabel hanya merujuk ke tabel yang diinginkan). <br><br>  Faktanya, gim ini hanya memiliki satu tabel yang terkait dengan AI, dan tampilannya seperti ini: <br><br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> ai = { standard = { peace = { conquer = <span class="hljs-number"><span class="hljs-number">0.0001</span></span>, war = <span class="hljs-number"><span class="hljs-number">0.0002</span></span>, war_neighbour = <span class="hljs-number"><span class="hljs-number">0.004</span></span>, pact = <span class="hljs-number"><span class="hljs-number">0.005</span></span>, agree_pact = <span class="hljs-number"><span class="hljs-number">0.018</span></span>, alliance = <span class="hljs-number"><span class="hljs-number">0.001</span></span>, alliance_small = <span class="hljs-number"><span class="hljs-number">0.002</span></span>, agree_alliance = <span class="hljs-number"><span class="hljs-number">0.002</span></span>, kick = <span class="hljs-number"><span class="hljs-number">0.0005</span></span>, envy = <span class="hljs-number"><span class="hljs-number">0.02</span></span> }, war = { agree_peace = <span class="hljs-number"><span class="hljs-number">0.005</span></span>, }, player = { peace = { war = <span class="hljs-number"><span class="hljs-number">0.0002</span></span>, war_neighbour = <span class="hljs-number"><span class="hljs-number">0.002</span></span>, pact = <span class="hljs-number"><span class="hljs-number">0.008</span></span>, agree_pact = <span class="hljs-number"><span class="hljs-number">0.08</span></span>, alliance = <span class="hljs-number"><span class="hljs-number">0.001</span></span>, alliance_small = <span class="hljs-number"><span class="hljs-number">0.002</span></span>, agree_alliance = <span class="hljs-number"><span class="hljs-number">0.002</span></span>, kick = <span class="hljs-number"><span class="hljs-number">0.0005</span></span>, support = <span class="hljs-number"><span class="hljs-number">0.005</span></span>, voluntary_support = <span class="hljs-number"><span class="hljs-number">0.002</span></span>, envy = <span class="hljs-number"><span class="hljs-number">0.01</span></span> }, war = { agree_peace = <span class="hljs-number"><span class="hljs-number">0.02</span></span>, } }, bonuses = { population_increase = <span class="hljs-number"><span class="hljs-number">1.4</span></span>, money_increase = <span class="hljs-number"><span class="hljs-number">1.5</span></span>, upgrade_province = <span class="hljs-number"><span class="hljs-number">0.005</span></span> } }, }</code> </pre><br>  <code>standard</code> - tingkat kesulitan.  Ada beberapa tingkat kesulitan, dan nilai-nilai dalam tabel yang berbeda bervariasi. <br><br>  <code>peace</code> , <code>war</code> - negara bagian.  Tabel <code>peace</code> digunakan untuk tindakan apa pun, tabel <code>war</code> hanya untuk tindakan dengan musuh. <br><br>  Tabel <code>player</code> ketiga berisi tabel <code>peace</code> dan <code>war</code> dengan nilai yang diubah.  Seperti yang sudah Anda ketahui, dalam sebuah game AI dapat memiliki sikap yang berbeda dengan pemain dan bot. <br><br>  Nilai-nilai dalam tabel, saya pikir, jelas berdasarkan nama.  Tapi bagaimanapun, kami akan mempertimbangkan beberapa dari mereka. <br><br>  Sementara itu, kita perlu mencari tahu bagaimana AI bekerja dalam game.  Semuanya sederhana di sini, tergantung pada keadaan, bot dapat memilih nilai apa pun dari daftar.  Angka-angka di atas adalah probabilitas terjadinya setiap peristiwa.  Pertimbangkan sebuah contoh: <br>  <code>pact = 0.005</code> - berarti bahwa dengan peluang 0,005 suatu negara akan menawarkan negara lain untuk menyimpulkan pakta non-agresi.  Ya, semuanya sederhana.  Anda dapat mengatakan: "Bagaimana Anda bisa bermain, mengetahui bahwa AI melakukan semuanya secara acak?"  Sebenarnya, itu tidak begitu, dan kami akan menganalisisnya nanti. <br><br>  Sementara itu, lihat fungsi berikut: <br><br><pre> <code class="lua hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_answer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(option,state)</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> sum_option = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> k, v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-built_in"><span class="hljs-built_in">pairs</span></span>(state) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> sum_option = sum_option + v <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> option &lt; sum_option <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> k <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> sum_option &gt; <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"AI Error, sum_option &gt; 1"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br>  <code>option</code> - Nomor acak dari 0 hingga 1 <br>  <code>state</code> - Negara bagian <br>  Fungsi <code>get_answer</code> hanya mengembalikan tindakan acak.  Mengapa ini diperlukan, dan mengapa Anda tidak bisa hanya memeriksa <code>option</code> &lt;kesempatan bertindak, saya pikir itu tidak perlu dijelaskan. <br><br>  Fungsi ini diperiksa dalam semua tindakan yang mungkin untuk AI: <br><br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __ <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> get_answer(option, ai_data.peace) == <span class="hljs-string"><span class="hljs-string">"pact"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br>  Semuanya sederhana.  Ini, tampaknya, bisa selesai, tetapi tidak. <br><br>  Mari kita perjelas beberapa poin: <br><br><ol><li>  AI menyatakan perang terhadap tetangga dan non-tetangga dengan peluang berbeda ( <code>war</code> , <code>war_neighbour</code> ) </li><li>  Negara-negara kecil lebih cenderung bergabung dengan serikat pekerja daripada yang besar ( <code>alliance</code> , <code>alliance_small</code> ) </li><li>  AI iri.  Nama itu tidak sepenuhnya jelas, tetapi ini adalah kesempatan di mana negara akan menyatakan perang terlalu kuat menurut standar kekuatan permainan. </li><li>  Kami lupa tentang tabel bonus.  Ini menyimpan nilai-nilai yang sama sekali tidak terkait dengan sikap terhadap negara lain, misalnya, bonus untuk pertumbuhan populasi atau kesempatan untuk meningkatkan provinsi. </li></ol><br>  Ini tidak berakhir di sana (kecuali jika Anda tertarik, tentu saja).  Adalah aneh ketika suatu negara menyatakan perang tanpa alasan, dan bahkan lebih aneh lagi ketika negara itu tidak siap untuk perang ini.  Karena itu, AI dalam permainan memiliki strategi.  Saya akan menjelaskan bahwa alih-alih serangan mendadak, dalam banyak kasus negara ini memulai strategi. <br><br>  Setiap negara dalam file simpan memiliki bidang-bidang berikut: <br><br><ul><li>  <code>strategy</code> - pengidentifikasi strategi.  Itu terjadi: <br><ol><li>  <code>retreat</code> - sebuah negara mengurangi tentaranya untuk menghemat uang. </li><li>  <code>recruit</code> - negara ini mempekerjakan tentara maksimum. </li></ol></li><li>  <code>target</code> adalah target.  Ini adalah negara di mana AI kami memutuskan untuk menyatakan perang, tetapi memulai strategi. </li><li>  <code>ultimatum</code> - nil, jika tidak ada ultimatum, data tentang ultimatum, jika ada. </li><li>  <code>value</code> - jumlah gerakan sebelum deklarasi perang.  Saya tidak bisa membuat nama variabel yang lebih baik, maaf. </li></ul><br>  Artinya, jika AI memulai strategi, maka dia: <br><br><ol><li>  Mengurangi pasukannya dan menghemat uang. </li><li>  Menyewa tentara setinggi mungkin. </li><li>  Menyatakan perang terhadap pemain. </li></ol><br><img src="https://habrastorage.org/webt/y3/jt/hu/y3jthuh8fhgtll0qlu9cznp4rxe.png" width="473"><br><br>  Dengan peluang tertentu, suatu negara dapat mengajukan ultimatum, yang dalam pelaksanaannya perang dibatalkan.  Sebagai contoh: <br>  <i>Kurangi pasukan Anda di provinsi lipetsk menjadi 5.000, jika tidak, kami akan menyatakan perang terhadap Anda.</i> <br><br>  Dari lucu: ada satu bug yang menarik atau bahkan cacat ketika negara menuntut untuk mengurangi tentara di provinsi, dan pemain berhasil kehilangan ultimatum sampai habis masa berlakunya.  AI tidak memperhitungkan provinsi dan, jika ultimatum tidak dihormati, menyatakan perang. <br><br><img src="https://habrastorage.org/webt/9x/6e/rk/9x6erkq0rjn6fues8xkfuzrn1rq.jpeg" width="537"><br><br>  Ada dua variabel yang bertanggung jawab atas peluang untuk mendukung pemain (mentransfer emas ke pemain).  Yang pertama selalu berhasil, kecuali untuk keadaan perang dengan negara yang diperhitungkan.  Dan yang kedua, dengan sangat penting, diperhitungkan ketika ada musuh bersama. <br><br>  Berbagai variabel juga ditambahkan, misalnya, ketakutan (seberapa banyak pasukan musuh harus melebihi miliknya sendiri agar AI mulai berpikir tentang dunia).  Semua ini dilakukan untuk membuat tindakan AI tampak lebih logis dan dapat dimengerti.  Tapi bagaimanapun, sekarang kita tahu bahwa ini sebenarnya kecelakaan biasa yang disamarkan. <br><br>  Saya juga memperhatikan bahwa para pemain benar-benar memberkahi AI dengan beberapa fitur yang tidak biasa baginya.  Misalnya, jika pada saat tertentu seorang pemain menyatakan perang terhadap beberapa negara, dia akan berpikir pertama-tama bahwa ini adalah konspirasi melawannya, dan bukan hanya kebetulan.  Dan jika pemain dikirim proposal untuk menyimpulkan pakta non-agresi, ia akan berpikir bahwa tetangga takut akan tanahnya.  Tapi, sayangnya, tidak demikian.  Realitas penuh dengan kekecewaan. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id473952/">https://habr.com/ru/post/id473952/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id473940/index.html">Uji kekuatan: nanomekanika dari bunda mutiara mulia pinna</a></li>
<li><a href="../id473944/index.html">Saran dari pencipta RimWorld: distorsi kognitif dalam memprediksi penggemar game</a></li>
<li><a href="../id473946/index.html">Penebangan Terdistribusi dan Pelacakan untuk Layanan Mikro</a></li>
<li><a href="../id473948/index.html">Operon: Mempercepat Kinerja Ansible</a></li>
<li><a href="../id473950/index.html">Menerapkan, skala: pengalaman menggunakan autotest di VTB</a></li>
<li><a href="../id473956/index.html">Informasi rahasia dari perusahaan telepon pengedar narkoba</a></li>
<li><a href="../id473958/index.html">Jepang dari NICT memperkenalkan cluster serat yang bekerja dengan bandwidth 1 Pbit / s</a></li>
<li><a href="../id473960/index.html">Strategi Pelokalan Konten</a></li>
<li><a href="../id473962/index.html">Mode gelap sekarang ada di mana-mana. Apakah ini sangat berguna? (di akhir post survey)</a></li>
<li><a href="../id473966/index.html">Atas permintaan Pengembang Tertanam: Mendeteksi Kesalahan di Amazon FreeRTOS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>