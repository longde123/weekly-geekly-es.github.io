<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì¨ üôè ü•ä Seguran√ßa da Internet das coisas. Edi√ß√£o 2. Casa Inteligente üîÖ üö∞ üõ∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A casa inteligente √© representada por uma ampla variedade de dispositivos. Na segunda parte da s√©rie de seguran√ßa da IoT, ser√£o discutidos decodificad...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Seguran√ßa da Internet das coisas. Edi√ß√£o 2. Casa Inteligente</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pm/blog/447720/"><img src="https://habrastorage.org/webt/qf/_6/1n/qf_61ngu9k5-y65gst9znrvs_qo.jpeg"><br><br>  A casa inteligente √© representada por uma ampla variedade de dispositivos.  Na segunda parte da s√©rie de seguran√ßa da IoT, ser√£o discutidos decodificadores de TVs inteligentes, cozinhas inteligentes, assistentes de voz e ilumina√ß√£o.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Link para 1 parte</a> . <br><a name="habracut"></a><br><h2>  Seguran√ßa Dom√©stica Inteligente </h2><br><h3>  TV inteligente - Apple TV </h3><br><img src="https://habrastorage.org/webt/cw/ir/q2/cwirq2ptsnoozmokvynxx2baqpc.jpeg"><br>  O Apple TV √© um reprodutor de m√≠dia digital com uma ampla variedade de recursos em um sistema operacional separado, gerenciado por um telefone, Siri, remoto e expans√≠vel programaticamente devido a aplicativos de terceiros.  A Apple TV tem v√°rias gera√ß√µes: <br><br><ol><li>  I gera√ß√£o - Y'07, MacOS X, porta HDD e USB tradicional </li><li>  Gera√ß√£o II - Y'10, iOS + MicroUSB </li><li>  Gera√ß√£o III - Y'12, iOS + MicroUSB </li><li>  Gera√ß√£o IV - Y'15, tvOS (iOS) + USB-C e Bluetooth </li><li>  Gera√ß√£o V (4K) - Y'17, tvOS (iOS) + Bluetooth, sem USB </li><li>  Gera√ß√£o VI - modelo de 2018, sem USB </li></ol><br><h4>  M√©todos conhecidos de acesso √† Apple TV </h4><br>  Esses m√©todos podem ser acessados ‚Äã‚Äãpelos modelos de 1¬™ gera√ß√£o apresentados na confer√™ncia de 2009 ‚ÄúHacking the Apple TV and Where Your Forensic Data Lives‚Äù, Kevin Estis e Randy Robbins, Def Con 2009 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">apresenta√ß√£o</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">v√≠deo</a> ).  O modelo dessa gera√ß√£o foi criado com base no Mac OS X e o acesso aos dados foi reduzido √† an√°lise do disco r√≠gido e aos recursos de conex√£o √† TV como um todo. <br><br>  O acesso aos dados da Apple TV das gera√ß√µes II-V √© muito semelhante em metodologia para acessar outros produtos da Apple e resume-se a <br><br><ul><li>  An√°lise de backups com v√°rias ferramentas, inclusive forenses. </li><li>  Pesquise um jailbreak para pesquisar dados fora dos backups ou pesquisar TV j√° hackeada. </li><li>  An√°lise de conte√∫do, clientes clim√°ticos, conte√∫do de stream: Netflix, iTunes, NHL, NBA, Vimeo, YouTube, etc. </li><li>  Acesso aos dados do aplicativo com o objetivo de extrair contas e cart√µes de cr√©dito, al√©m de outras informa√ß√µes √∫teis. </li></ul><br><h4>  Utilit√°rios para o Jailbreak </h4><br>  Diferentemente dos rel√≥gios, o conjunto de utilit√°rios Jailbreak para TV est√° amplamente representado, exceto nos modelos de terceira gera√ß√£o: <br><br><ul><li>  A lista atual √© atualizada, por exemplo, no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">recurso pangu.</a> </li><li>  <b>Apple TV 1</b> - scripts, ssh, eje√ß√£o de disco e outros m√©todos semelhantes ao Mac. </li><li>  <b>Apple TV 2</b> - pris√£o <i>Seas0npass</i> para vers√µes do tvOS 4.3 - tvOS 5.3 (sem conex√£o) e tvOS 6.1.2 (com conex√£o). </li><li>  <b>Apple TV 4</b> - <i>Pris√£o Pangu9</i> para vers√µes do tvOS 9.0 - tvOS 9.0.1, <i>LiberTV</i> para vers√µes do tvOS 9.1 - tvOS 10.1, <i>GreenG0blin</i> para vers√µes do tvOS 10.2.2. </li><li>  <b>Apple TV</b> <i>4/5</i> - <i>Pris√£o LiberTV</i> para tvOS vers√µes 11.0 e 11.1, Pris√£o <i>Electra</i> para tvOS vers√µes 11.2 - tvOS 11.3. </li></ul><br><h4>  Gerenciamento de senha </h4><br>  A quest√£o do gerenciamento de senhas para muitos dispositivos √© fundamental e, considerando os rel√≥gios inteligentes, observou-se que senhas e c√≥digos PIN n√£o s√£o obrigat√≥rios.  Para a Apple TV, as senhas e muitas outras TVs n√£o s√£o usadas, exceto para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">restringir o acesso ao conte√∫do</a> e afetar apenas as compras feitas na loja de aplicativos como parte de aplicativos, conte√∫do, altera√ß√£o de configura√ß√µes e exclus√£o de dispositivos conectados ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ao mesmo tempo, o emparelhamento de dispositivos n√£o √© requer senha</a> ). <br><br><h4>  An√°lise USB </h4><br>  Para modelos antigos, exceto nos √∫ltimos dois anos, a porta USB, embora formalmente reservada para fins oficiais, era usada para obter informa√ß√µes b√°sicas sobre o dispositivo;  desapareceu oficialmente, come√ßando com a 5¬™ gera√ß√£o da Apple 5¬™ gera√ß√£o (4k).  As informa√ß√µes b√°sicas incluem informa√ß√µes sobre a hora do dispositivo, registros, acesso a uma pasta M√≠dia que n√£o √© uma pasta do sistema (/ private / var / mobile / Media), informa√ß√µes sobre Wi-Fi, Bluetooth, endere√ßos MAC Ethernet, nome do dispositivo, ID de s√©rie, modelo .  Como ferramentas para obter dados, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ideviceinfo, idevicesyslog</a> pode ser usado. <br><br><h4>  Backups </h4><br>  Os backups fornecem acesso aos seguintes dados que se cruzam com os dados da an√°lise USB: <br><br><ul><li>  Log de eventos </li><li>  Dados de m√≠dia no banco de dados MediaLibrary.sqlitedb. </li><li>  dados do iCloud. </li><li>  Rede Wi-fi. </li><li>  Linha do tempo de uso do dispositivo. </li><li>  Bancos de dados de compras incl.  conte√∫do. </li></ul><br><img src="https://habrastorage.org/webt/f7/qd/j5/f7qdj5jni7zb26bmzzpr99kgfu0.jpeg"><br><br><h4>  An√°lise de TV com jailbreak </h4><br>  Essas TVs permitem acessar mais dados: fuso hor√°rio, hist√≥rico de Wi-Fi, dicion√°rio do teclado, informa√ß√µes da conta, configura√ß√µes, lista de cidades meteorol√≥gicas, informa√ß√µes da cabeceira da cama (informa√ß√µes sobre o conte√∫do do usu√°rio), bem como capturas de tela do conte√∫do do usu√°rio, v√≠deo em cache , uma lista de aplicativos instalados e os dados dos pr√≥prios aplicativos. <br><br><h4>  Cria√ß√£o de perfil </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A</a> cria√ß√£o de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">perfil</a> √© um dos mecanismos de defesa em algumas vers√µes recentes do tvOS 11.3+ e iOS 11.3+.  O mecanismo permite especificar uma lista ou dispositivos espec√≠ficos que ser√£o permitidos;  ap√≥s o qual a intera√ß√£o ser√° limitada a determinados dispositivos e nenhum dispositivo de terceiros poder√° se conectar ao seu decodificador.  O mecanismo pode ser usado tanto na estrutura de gerenciamento corporativo de dispositivos Apple, quanto em dispositivos pessoais, por meio de configura√ß√µes de perfil com os par√¢metros necess√°rios (desde que voc√™ use o Mac OS Server) <br><br><h3>  Amazon tv </h3><br><img src="https://habrastorage.org/webt/6n/cr/5f/6ncr5fab5rgbspbktqot99jfjde.jpeg"><br><br>  O Amazon Fire TV √© um decodificador com um conjunto semelhante de recursos.  Ele vem em duas edi√ß√µes - na forma de um decodificador convencional (caixa Fire TV) e uma vers√£o compacta do tipo de Chromecast (Fire TV Stick).  Ao mesmo tempo, como muitas solu√ß√µes Android, ele permite o download de aplicativos por meio do mecanismo de carregamento lateral do ADB, que permite que muitos usu√°rios recebam conte√∫do sem assinaturas pagas. <br><br>  Devido ao √∫ltimo fato, as ferramentas raiz n√£o s√£o amplamente usadas para o FireOS, e as ferramentas de root dispon√≠veis s√£o divididas em ferramentas raiz cl√°ssicas e firmware raiz. <br><br>  O representante mais famoso das ferramentas raiz √© o KingRoot, que permite o acesso principalmente a vers√µes mais antigas do tipo 5.0.5, embora n√£o esteja limitado a elas.  Um recurso tamb√©m √© que a maioria das ferramentas √© ajustada para o uso de teclado e mouse, em vez de controle remoto da TV; portanto, √© importante ter conex√µes Bluetooth para conectar teclados e mouses sem fio. <br><br>  Entre os recursos do FireOS, √© importante notar o carregamento lateral sem raiz, um carregador de inicializa√ß√£o bloqueado (51.1.xx n√£o est√° bloqueado, 5.xxx est√° bloqueado, mas o 5.0.x pode ser desbloqueado, mas n√£o h√° informa√ß√µes sobre vers√µes mais antigas) e √© permitido fazer o downgrade para executar o root vers√µes antigas. <br><br>  Vers√µes dispon√≠veis de ferramentas raiz e firmware: <br><br><ul><li>  Fire TV 1 - raiz para as vers√µes 51.1.0.0 - 51.1.6.3, 5.0.3, 5.0.5, sem raiz para 5.0.5.1, 5.2.1.0 - 5.2.6.3 </li><li>  Fire TV 2 - raiz para as vers√µes 5.0.0 - 5.2.1.1, sem raiz para 5.2.4.0 - 5.2.6.3 </li><li>  Fire TV 2 - 5.2.6.6 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ROM pr√©-enraizada</a> </li><li>  Fire TV 3, Fire TV Cube - sem ROMs raiz ou pr√©-raiz </li><li>  Fire TV Stick 1 - raiz para as vers√µes 5.0.0 - 5.2.1.1 e sem raiz para 54.1.2.3 e vers√µes anteriores, 5.2.1.2 - 5.2.6.3 </li><li>  Fire TV Stick 2 - nenhuma raiz de software; no entanto, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">foi</a> encontrado um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">m√©todo para acesso f√≠sico √† unidade eMMC</a> </li><li>  Televis√£o Fire TV Edition - raiz para as vers√µes 5.2.5.0 e sem raiz para 5.2.5.1 - 5.2.6.3 </li></ul><br>  Atualmente, n√£o existem ferramentas oficiais entre as solu√ß√µes forenses, no entanto, os m√©todos forenses s√£o t√≠picos para as solu√ß√µes Android (usando DD, sideload + ADB, etc.) <br><br>  Ao examinar os dados do dispositivo em um conjunto b√°sico de aplicativos, √© poss√≠vel distinguir os seguintes conjuntos de dados √∫teis: <br><br><ul><li>  <b>Informa√ß√µes do navegador</b> - armazenadas no banco de dados browser.db e incluem o hist√≥rico do navegador e outras informa√ß√µes armazenadas pelo Mozilla Firefox. </li><li>  <b>Imagens</b> - armazenadas em [root] /data/com.amazon.bueller.photos/files/cmsimages, incluindo  aqui imagens da Amazon Cloud.  H√° um recurso aqui: apesar da originalidade das imagens, as imagens na TV s√£o convertidas para o formato da TV (como resultado, dois arquivos com a mesma extens√£o e nomes diferentes podem ser encontrados no dispositivo * -full.jpg e * -thumb.jpg). </li><li>  <b>Dispositivos Bluetooth</b> - informa√ß√µes sobre dispositivos, nomes e endere√ßos Mac s√£o armazenadas em [root] /data/com.amazon.device.controllermanager/databases/devices. </li><li>  <b>Registros da Amazon</b> - v√°rias informa√ß√µes sobre as atividades de dispositivos com registro de data e hora, que podem ser correlacionadas √† atividade do usu√°rio e ao iniciar aplicativos [root] /data/com.amazon.device.logmanager/files + Log.amazon \ main. </li><li>  <b>Amazon appstore</b> - dados armazenados em com.amazon.venezia. </li><li>  / cache / = cache e visualiza√ß√£o para aplicativos baixados e visualizados + recomendado. </li><li>  / database / = arquivos sqlite s√£o distribu√≠dos em pastas. </li><li>  / database / contentProvider = A tabela "Aplicativos" que cont√©m os nomes dos aplicativos com cache e visualiza√ß√µes ("thumbnailUri"), ("previewUri") na pasta ../cache. </li><li>  / database / locker = pedidos, lista de desejos, tarefas, aplicativos, cache etc. </li><li>  / database / logging = logs de eventos. </li></ul><br><h3>  Assistentes de voz (aplicativo Amazon Echo Dot &amp; Alexa) </h3><br>  Os Amazon Voice Assistants fornecem o Echo como um dispositivo f√≠sico e a solu√ß√£o de software do aplicativo Alexa.  Eles destinam-se ao mesmo objetivo de controlar a casa inteligente e outros dispositivos que oferecem suporte √† integra√ß√£o com a API do Amazon Voice Assistant. <br><br><img src="https://habrastorage.org/webt/mr/6y/5o/mr6y5oo_15kgvn3bkcgf8irvnzw.jpeg"><br><br>  No momento, o assistente de hardware n√£o possui m√©todos de comunica√ß√£o por cabo familiares ao Android ou outros dispositivos Amazon, como FireTablet: a comunica√ß√£o USB est√° limitada a receber informa√ß√µes b√°sicas atrav√©s de um conjunto de drivers MediaTek e da SP Flash Tool, e o carregador de inicializa√ß√£o do dispositivo est√° bloqueado.  A Amazon permite que os desenvolvedores usem seus certificados para proteger os dados transmitidos ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">n√∫mero do link 1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">n√∫mero do link 2</a> ), mas os usu√°rios n√£o t√™m a oportunidade de instalar certificados raiz adicionais no dispositivo, o que exclui a possibilidade de MITM.  Al√©m disso, os dispositivos s√£o protegidos contra ataques de faixa SSL.  No entanto, como muitas coisas inteligentes, o firmware √© baixado via HTTP sem criptografia adicional. <br><br><pre><code class="json hljs">GET /obfuscated-otav<span class="hljs-number"><span class="hljs-number">3</span></span><span class="hljs-number"><span class="hljs-number">-9</span></span>/‚Ä¶/update-kindle-full_biscuit-XXXX_user_[XXXXXXXXX].bin HTTP/<span class="hljs-number"><span class="hljs-number">1.1</span></span> Host: amzdigitaldownloads.edgesuite.net Connection: close User-Agent: AndroidDownloadManager/<span class="hljs-number"><span class="hljs-number">5.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> (Linux; U; Android <span class="hljs-number"><span class="hljs-number">5.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>; AEOBC Build/LVY<span class="hljs-number"><span class="hljs-number">4</span></span><span class="hljs-number"><span class="hljs-number">8</span></span>F) ro.build.version.fireos=<span class="hljs-number"><span class="hljs-number">5.5</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> ro.build.version.fireos.sdk=<span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <br>  O Fire OS √© feito com base no Android e tem a seguinte correspond√™ncia <br><br><ul><li>  ver 5.x - pirulito Android 5.1.1.  Eco funciona vers√£o 5.x </li><li>  vers√£o 6.x - no Android 7.1 </li></ul><br>  Ao mesmo tempo, falando sobre o assistente de software, deve-se notar o amplo suporte n√£o apenas ao Kindle OS, mas tamb√©m Android e iOS, bem como a falta de mecanismos de prote√ß√£o contra o MITM.  Por exemplo, credenciais podem ser obtidas na solicita√ß√£o 'https://www.amazon.com/ap/signin' <br><br><ul><li><pre> <code class="json hljs">{<span class="hljs-attr"><span class="hljs-attr">"Credentials"</span></span>:{<span class="hljs-attr"><span class="hljs-attr">"AccessKeyId"</span></span>:<span class="hljs-string"><span class="hljs-string">"ASIAXHE6EPSWNVIGFBVP"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"Expiration"</span></span>:<span class="hljs-number"><span class="hljs-number">1.538588872E9</span></span>,<span class="hljs-attr"><span class="hljs-attr">"SecretKey"</span></span>:<span class="hljs-string"><span class="hljs-string">"+8gSx7/H.....U="</span></span>},<span class="hljs-attr"><span class="hljs-attr">"IdentityId"</span></span>:<span class="hljs-string"><span class="hljs-string">"us-east-1:503e25f6-2302-4dcd-8cb2-64a0e888f76b"</span></span>}</code> </pre> </li><li>  Mail, Senha da solicita√ß√£o POST 'https://www.amazon.com/ap/signin'. </li><li>  Informa√ß√µes sobre o token e o dispositivo. </li><li>  O c√≥digo do pa√≠s √© "RU". </li></ul><br>  Al√©m disso, informa√ß√µes sobre o perfil do usu√°rio (ou perfis, porque o uso multiusu√°rio √© suportado) s√£o transmitidas no tr√°fego: <br><br><ul><li>  Nome, endere√ßo para pagamento, endere√ßo para entrega. </li><li>  O ID do dispositivo, conta, recursos do dispositivo e seus tipos. </li><li>  As respostas no formato .mp3 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">s√£o armazenadas</a> por v√°rios meses. </li></ul><br><img src="https://habrastorage.org/webt/lc/7p/az/lc7paz2d_akc0atfj8-jdevbfug.jpeg"><br><br>  Os dados locais no backup cont√™m principalmente m√©tricas e logs de dispositivos, uma lista de dispositivos e seus n√∫meros de s√©rie, informa√ß√µes e configura√ß√µes breves da conta. <br><br>  Uma das maneiras interessantes de atacar assistentes √© selecionar um c√≥digo PIN que possa ser executado com um atraso m√≠nimo entre tentativas e sem limitar o n√∫mero de vezes.  Este m√©todo foi publicado em 2017 pela <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Security Analysis do Amazon Echo</a> com o script anexado.  O procedimento √© o seguinte: <br><br><ol><li>  O computador espera que uma palavra seja ativada e o pr√≥ximo comando √© uma solicita√ß√£o para fazer uma compra. </li><li>  Alexa oferece resultados e ofertas para fazer um pedido. </li><li>  O computador confirma o pedido e o Alexa solicita um PIN de quatro d√≠gitos. </li><li>  A primeira tentativa √© feita para corresponder ao PIN. </li><li>  Alexa aceita ou n√£o PINs. </li><li>  O processo √© repetido at√© que o PIN correto seja encontrado.  Cada itera√ß√£o de 2 tentativas para solicitar PINs leva 30 segundos e, com base na suposi√ß√£o de um conjunto comum de 10.000 c√≥digos PIN, leva 42 horas para selecionar o c√≥digo correto. </li></ol><br><h3>  Cozinha Inteligente / Chaleiras (Redmond) </h3><br>  Redmond √© um fornecedor de tecnologia inteligente na R√∫ssia.  Para trabalhar com um conjunto de "recursos inteligentes", √© oferecida a oferta Ready For Sky, que √© implementada em duas vers√µes - um aplicativo para intera√ß√£o direta via Bluetooth e um hub, que, por um lado, interage diretamente com o dispositivo e, por outro, permite controlar o equipamento pela Internet. <br><br><img src="https://habrastorage.org/webt/au/jt/my/aujtmy4iz55ekrdlnuzvxztqinw.jpeg"><br><br>  A partir dos dados locais que se enquadram nos backups (R4S.sqlite), apenas uma lista de dispositivos e modelos, uma lista de receitas e par√¢metros, dados do usu√°rio sem senha (apenas nome de usu√°rio, email), bem como dispositivos do usu√°rio e endere√ßos de mac do dispositivo foram encontrados. <br><br><img src="https://habrastorage.org/webt/vt/jl/bl/vtjlblwr_1zjbd5mbpygxihihfu.jpeg"><br><br>  Como parte dos dados da rede, n√£o h√° prote√ß√£o contra a intercepta√ß√£o de dados com um certificado, para que voc√™ possa acessar a vers√£o do firmware e a imagem do dispositivo (al√©m disso, esses dados s√£o transmitidos via http), uma lista de receitas para o dispositivo, uma lista de a√ß√µes <br><br><pre> <code class="json hljs">https://content.readyforsky.com/api/program/catalog/id:IN:<span class="hljs-number"><span class="hljs-number">90</span></span>,<span class="hljs-number"><span class="hljs-number">97</span></span>?locale=en <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">90</span></span>, <span class="hljs-string"><span class="hljs-string">"protocol_id"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"BOILING"</span></span>, / HEATING <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"40"</span></span>, | <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"55"</span></span>, | <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"70"</span></span>, | <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"85"</span></span>, | <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"95"</span></span>.</code> </pre> <br>  Tamb√©m credenciais, tokens incl.  ao solicitar uma altera√ß√£o de senha <br><br><pre> <code class="json hljs">https://content.readyforsky.com/headless/change-password {<span class="hljs-attr"><span class="hljs-attr">"current_password"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plainPassword"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>} { <span class="hljs-attr"><span class="hljs-attr">"error"</span></span>: <span class="hljs-string"><span class="hljs-string">"invalid_grant"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"error_description"</span></span>: <span class="hljs-string"><span class="hljs-string">"The access token provided is invalid."</span></span>} { <span class="hljs-attr"><span class="hljs-attr">"access_token"</span></span>: <span class="hljs-string"><span class="hljs-string">"YjNhYmEwOWM1ZDcwYTk0ODU1ODhmZDZiMDRjNjA5NzUyN2YzM2VhNGUyMjBhYzc0ZjBhYWRhY2IzZmNjMzdiOA"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"expires_in"</span></span>: <span class="hljs-number"><span class="hljs-number">86400</span></span>, <span class="hljs-attr"><span class="hljs-attr">"token_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"bearer"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"scope"</span></span>: <span class="hljs-string"><span class="hljs-string">"r4s"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"refresh_token"</span></span>: <span class="hljs-string"><span class="hljs-string">"YzE4ZGUwN2NkMzdiMDBlYmM5NGQwMGVjYmU4YThkYTVkMGE1ZTc4ODQ2MDRkNjhhZWY4NGIxZjlkODRhZGI3MQ‚Äú }</span></span></code> </pre> <br>  Informa√ß√µes do usu√°rio (https://content.readyforsky.com/api/user/current) e informa√ß√µes sobre a estrutura interna da rede (endere√ßo IP), informa√ß√µes do dispositivo (modelo, endere√ßo mac, nome do hub) <br><br>  Endere√ßo do Cliente |  192.168.1.38:50654 (a porta est√° mudando) <br>  Endere√ßo remoto |  content.readyforsky.com/178.62.194.132-00-0043 (porta fixa) <br><br><pre> <code class="json hljs">https://content.readyforsky.com/api/device/user ‚Äúname<span class="hljs-string"><span class="hljs-string">": "</span></span>RK-G<span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-number"><span class="hljs-number">0</span></span>S<span class="hljs-string"><span class="hljs-string">", "</span></span>address<span class="hljs-string"><span class="hljs-string">": "</span></span>E<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">7</span></span>F:BC:<span class="hljs-number"><span class="hljs-number">60</span></span>:C<span class="hljs-number"><span class="hljs-number">2</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>A<span class="hljs-string"><span class="hljs-string">", "</span></span>name<span class="hljs-string"><span class="hljs-string">": "</span></span>Gateway XIAOMI Redmi <span class="hljs-number"><span class="hljs-number">4</span></span>X<span class="hljs-string"><span class="hljs-string">", "</span></span>address<span class="hljs-string"><span class="hljs-string">": "</span></span><span class="hljs-number"><span class="hljs-number">77</span></span>d<span class="hljs-number"><span class="hljs-number">3</span></span>efcf-f<span class="hljs-number"><span class="hljs-number">6</span></span><span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-number"><span class="hljs-number">7</span></span><span class="hljs-number"><span class="hljs-number">-402</span></span>e-bbed<span class="hljs-number"><span class="hljs-number">-4</span></span>ee<span class="hljs-number"><span class="hljs-number">0</span></span>c<span class="hljs-number"><span class="hljs-number">8</span></span><span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-number"><span class="hljs-number">9</span></span><span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-number"><span class="hljs-number">4</span></span><span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-number"><span class="hljs-number">7</span></span><span class="hljs-string"><span class="hljs-string">",</span></span></code> </pre> <br><h3>  Ilumina√ß√£o </h3><br>  A ilumina√ß√£o inteligente foi projetada para otimizar custos com base na automa√ß√£o de tarefas.  √â apresentado no artigo por modelos populares: <br><br><ul><li>  Lightify </li><li>  IKEA TR√ÖDFRI </li><li>  Philips HUE </li></ul><br><img src="https://habrastorage.org/webt/wc/lv/nj/wclvnjqkijbxstlcuebe8mforkk.jpeg"><br><br><h4>  Lightify </h4><br>  LIGHTIFY Home √© uma plataforma da Internet das Coisas com suporte e capacidade de expans√£o em nuvem.  Para o trabalho, a conta Lightify √© necess√°ria.  Os dados s√£o transmitidos via protocolo QUIC com criptografia no topo do UDP;  para descriptografar QUIC e gQUIC, recomenda-se usar a <b>vers√£o</b> mais <b>recente 2.9 do</b> wireshark ( <b>v2.9.1rc0-332-ga0b9e8b652, v2.9.1rc0-487-gd486593ce3</b> ) e, de prefer√™ncia, <b>3.0 e superior</b> , porque  em v√°rias vers√µes da vers√£o 2.9, houve problemas com o suporte √† descriptografia de protocolo (e a <b>vers√£o</b> padr√£o <b>2.8.6 foi</b> proposta como uma vers√£o est√°vel para download).  O Lightify Gateway √© executado sobre o TCP sem criptografia (com intera√ß√£o local) e usando um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">protocolo bin√°rio</a> que √© analisado e para o qual h√° suporte para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ferramentas de terceiros</a> .  As credenciais s√£o armazenadas localmente como parte dos arquivos de backup. <br><br><h4>  IKEA TR√ÖDFRI </h4><br>  As l√¢mpadas da IKEA tamb√©m oferecem controle on e off, mas como b√¥nus, h√° uma mudan√ßa no esquema de cores.  Os novos modelos j√° est√£o subdivididos na Ikea original e com a marca Xiaomi.  Atualmente n√£o suporta controle remoto.  A atualiza√ß√£o do firmware √© tradicionalmente realizada pelo arquivo http JSON, que cont√©m incluindo  firmware dispon√≠vel para todos os dispositivos TR√ÖDFRI <br><br><pre> <code class="json hljs">http://fw.ota.homesmart.ikea.net/feed/version_info.json</code> </pre> <br>  A comunica√ß√£o √© feita atrav√©s de UDP usando DTLS (SSL para UDP) e criptografia.  A chave pr√©-compartilhada usada para o handshake ao emparelhar dispositivos √© a chave secreta.  Para associar o aplicativo ao hub, o usu√°rio precisa digitalizar um c√≥digo QR que contenha o ‚ÄúN√∫mero de s√©rie‚Äù (que √© realmente o endere√ßo MAC) e o ‚ÄúC√≥digo de seguran√ßa‚Äù do dispositivo.  O c√≥digo de seguran√ßa √© armazenado localmente no armazenamento de chaves e √© usado para criptografia adicional usando o algoritmo AES.  No entanto, se o aplicativo estiver sendo executado em um antigo dispositivo Android 4.3 ou inferior, ou se um ataque APK de downgrade tiver sido realizado, a chave poder√° ser encontrada no pr√≥prio APK no arquivo ‚Äúkey_file.txt‚Äù e ser√° codificada como ‚ÄúBar12345Bar12345‚Äù.  <i>O ataque de downgrade √© bastante popular tanto na estrutura de solu√ß√µes forenses quanto nos comandos adb usuais para fazer o downgrade do aplicativo apk, a fim de explorar as vulnerabilidades das vers√µes anteriores na prote√ß√£o de dados.</i>  <i>O suporte e a capacidade de executar ataques de downgrade dependem do dispositivo, vers√£o do SO e fabricante do dispositivo, bem como da compatibilidade dos bancos de dados das vers√µes nova e antiga do aplicativo.</i> <br><br><img src="https://habrastorage.org/webt/3w/di/rz/3wdirzcjga9s4zk0csu-x_gkqhe.jpeg"><br><br><h4>  Philips HUE </h4><br>  A Philips Hue oferece uma ampla gama de produtos de ilumina√ß√£o inteligente para uso interno e externo.  Em 2016, a ilumina√ß√£o deste fabricante j√° foi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">atacada</a> pelo ZigBee a uma dist√¢ncia de 200 metros devido a um erro no protocolo de comunica√ß√£o.  A intera√ß√£o online entre o hub e os servidores √© realizada de forma protegida com prote√ß√£o contra intercepta√ß√£o de dados.  No primeiro contato, a chave para descriptografar dados no AES n√£o foi encontrada (existe uma suposi√ß√£o de que ele possa fazer parte do firmware).  A intera√ß√£o entre o aplicativo e o servidor funciona com SSL, com prote√ß√£o contra ataques SSL Strip e MITM.  Intera√ß√£o local - atrav√©s de HTTP. <br><br><pre> <code class="json hljs">PUT http://<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.38</span></span>/api/Ds<span class="hljs-number"><span class="hljs-number">7</span></span>KfNjjYtC<span class="hljs-number"><span class="hljs-number">8</span></span>uN mU<span class="hljs-number"><span class="hljs-number">8</span></span>azGBiOSj-uacXI<span class="hljs-number"><span class="hljs-number">0</span></span>q<span class="hljs-number"><span class="hljs-number">0</span></span>JKaTs/groups/<span class="hljs-number"><span class="hljs-number">1</span></span>/action</code> </pre> <br>  bem como download de firmware <br><br><pre> <code class="json hljs">http://iotworm.eyalro.net/</code> </pre> <br><h2>  Dicas </h2><br>  As dicas de prote√ß√£o de dispositivos inteligentes podem ser divididas nos seguintes grupos: <br><br><h3>  Grupo de seguran√ßa de rede </h3><br><ul><li>  <b>Mascarando nomes</b> .  Por padr√£o, os nomes dos dispositivos t√™m nomes b√°sicos associados ao modelo, fabricante ou nome do usu√°rio.  Por esse motivo, n√£o √© recomend√°vel fornecer nomes que identifiquem exclusivamente as informa√ß√µes do usu√°rio. </li><li>  <b>Criptografia</b>  O uso de criptografia em redes dom√©sticas e configura√ß√µes para evitar criptografia fraca. </li><li>  <b>Redes de convidados</b> .  O compartilhamento Wi-Fi √© proposto para o uso de informa√ß√µes cr√≠ticas e visitantes / amigos ou para desativar este modo. </li><li>  <b>Segmenta√ß√£o de rede</b> .  Separa√ß√£o da rede em segmentos virtuais com base no grau de criticidade dos dados transmitidos, por exemplo, a aloca√ß√£o de dispositivos e hubs em uma sub-rede IOT, dispositivos que interagem com dados cr√≠ticos e banc√°rios em outra e teste ou dispositivos n√£o confi√°veis ‚Äã‚Äãna terceira.  Se o roteador suportar v√°rios SSIDs, isso tamb√©m poder√° ser usado para separar redes. </li><li>  <b>Firewall</b>  O firewall √© uma ferramenta essencial em um ambiente em que mais e mais dispositivos est√£o dispon√≠veis na Internet e voc√™ precisa limitar os cen√°rios de disponibilidade. </li><li>  <b>Restri√ß√£o de uso p√∫blico</b> .  Proponho separar e limitar o armazenamento de dados cr√≠ticos em dispositivos vest√≠veis que podem ser perdidos, especialmente considerando que na nuvem muitos dados s√£o agregados e tornam-se acess√≠veis entre si.  Al√©m disso, para dispositivos p√∫blicos, n√£o √© recomend√°vel ativar os modos de conex√£o com dispositivos n√£o confi√°veis, al√©m de usar um grande n√∫mero de aplicativos que n√£o protegem os dados adequadamente. </li></ul><br><h3>  Grupo de Gerenciamento de Senhas </h3><br><ul><li>  <b>As credenciais padr√£o</b> .  Todos os dispositivos por padr√£o n√£o possuem senhas ou possuem uma lista conhecida de senhas padr√£o que devem ser alteradas imediatamente. </li><li>  <b>Senhas exclusivas</b> .  Normalmente, a recomenda√ß√£o √© usar senhas exclusivas que foram verificadas por v√°rios gerenciadores de senhas. </li></ul><br><h3>  Grupo de Gerenciamento de Software </h3><br><ul><li>  <b>Configura√ß√µes</b>  Altere as configura√ß√µes padr√£o e as configura√ß√µes com base nos cen√°rios de uso. </li><li>  <b>Oportunidades.</b>  Desative ou restrinja os recursos que n√£o s√£o necess√°rios nos scripts.  Por exemplo, controle remoto, vinculando dispositivos da categoria casa ou carro inteligente ao Facebook ou a outras redes sociais. </li><li>  <b>Aplica√ß√µes</b>  Diferencia√ß√£o de dispositivos e aplicativos do ponto de vista de dados cr√≠ticos, em vez de misturar no mesmo dispositivo, al√©m de reduzir o n√∫mero de aplicativos que n√£o protegem dados armazenados ou transmitidos. </li><li>  <b>Uma atualiza√ß√£o do sistema</b> resolve problemas de seguran√ßa, mas nem sempre uma nova atualiza√ß√£o oferece 100% de prote√ß√£o, como a apar√™ncia da capacidade de fazer backup com qualquer nova senha para iOS 11+.  Al√©m disso, v√°rios dispositivos de IoT e at√© roteadores comuns, quanto mais velhos, mais frequentemente n√£o oferecem mecanismos de atualiza√ß√£o convenientes do ponto de vista do usu√°rio, portanto, √© necess√°rio monitorar independentemente as altera√ß√µes e atualizar os dispositivos. </li><li>  <b>VPN</b> para proteger a rede, segmentos de rede e aplicativos e dispositivos individuais, especialmente em pontos p√∫blicos. </li></ul><br><h3>  Grupo de ferramentas de hackers </h3><br><ul><li>  <b>Aplicativos suspeitos</b> - aplicativos fora de lojas oficiais, aplicativos indesejados. </li><li>  <b>Hacked</b> - aplicativos hackeados "sem registro e SMS" + pirateados, bem como ferramentas para hackers. </li><li>  <b>Firmware</b> - firmware do fornecedor (embora sejam conhecidos fatos de um c√≥digo malicioso pr√©-instalado), bem como firmware limpo. </li></ul><br><h3>  Grupo de servi√ßos e utilit√°rios em nuvem e de terceiros </h3><br><ul><li>  <b>IoT cloud</b> - an√°lise de relat√≥rios sobre auditoria de solu√ß√µes em nuvem. </li><li>  <b>Servi√ßos de terceiros para a IoT</b> - geralmente as solu√ß√µes de automa√ß√£o s√£o um ponto de coleta de dados em um √∫nico local (dentro de uma conta de usu√°rio) e, no caso de problemas de seguran√ßa, representam uma grande variedade de dados cr√≠ticos do usu√°rio e mecanismos de gerenciamento de coisas inteligentes. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt447720/">https://habr.com/ru/post/pt447720/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt447708/index.html">Yandex presenteou jovens cientistas e l√≠deres cient√≠ficos com os primeiros pr√™mios Ilya Segalovich</a></li>
<li><a href="../pt447712/index.html">Ol√° SaaS | SaaS russo 2018 - resultados</a></li>
<li><a href="../pt447714/index.html">Sobre a aplica√ß√£o da teoria dos processos ARMA na pr√°tica de engenharia</a></li>
<li><a href="../pt447716/index.html">Unidade: desenhe muitas barras de sa√∫de em uma chamada</a></li>
<li><a href="../pt447718/index.html">Tudo vai conforme o planejado</a></li>
<li><a href="../pt447724/index.html">Como as cidades inteligentes acontecem</a></li>
<li><a href="../pt447728/index.html">Calculamos o or√ßamento de energia de uma linha de r√°dio para um sat√©lite no formato CubeSat</a></li>
<li><a href="../pt447730/index.html">A evolu√ß√£o do email marketing: do QWERTYUIOP ao GDPR</a></li>
<li><a href="../pt447732/index.html">Identificador da Ra√ßa Canina: Desenvolvimento do ciclo completo do programa Keras para o aplicativo Android. no mercado de jogo</a></li>
<li><a href="../pt447734/index.html">Por que o front-end deve entender os princ√≠pios da interface do usu√°rio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>