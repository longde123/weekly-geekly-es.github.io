<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍬 🧓🏻 🤱🏻 Économisez sur les licences Mikrotik CHR 👂🏻 👆🏼 💦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans Telegram chat @router_os, je vois souvent des questions sur la façon d'économiser sur l'achat d'une licence auprès de Mikrotik, ou d'utiliser Rou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Économisez sur les licences Mikrotik CHR</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485128/"> Dans Telegram chat <a href="https://tg.guru/router_os" rel="nofollow">@router_os, je</a> vois souvent des questions sur la façon d'économiser sur l'achat d'une licence auprès de Mikrotik, ou d'utiliser RouterOS, en général, gratuitement.  Curieusement, mais de telles méthodes existent dans le domaine juridique. <br><br><img src="https://habrastorage.org/webt/mg/mo/7b/mgmo7bqmpjknknd1ahsjyd5uebk.png"><br><br><img src="https://habrastorage.org/webt/ih/c2/hu/ihc2hugv7evremdpuvqzdijl_wa.png"><br><br>  Dans cet article, je ne traiterai pas de la licence des appareils matériels Mikrotik, car ils ont une licence maximale de l'usine qui peut être réparée par le fer. <br><a name="habracut"></a><br><h2>  D'où vient le Mikrotik CHR? </h2><br>  Mikrotik fabrique divers équipements réseau et y installe un système d'exploitation universel de sa propre production - RouterOS.  Ce système d'exploitation a de grandes fonctionnalités et une interface d'administration claire, et l'équipement sur lequel il est utilisé est très peu coûteux, ce qui explique sa large distribution. <br><br>  Pour utiliser RouterOS en dehors de leur équipement, Mikrotik a publié une version x86 qui pouvait être installée sur n'importe quel PC, ce qui a donné une seconde vie à l'ancien matériel.  Mais la licence était liée aux numéros de matériel de l'équipement sur lequel elle était installée.  Autrement dit, si le disque dur est mort, vous pouvez également dire au revoir à la licence ... <br><br>  <a href="https://wiki.mikrotik.com/wiki/Manual:License" rel="nofollow">La licence d'</a> équipement et de RouterOS x86 a 6 niveaux et contient un tas de paramètres: <br><br><img src="https://habrastorage.org/webt/wt/b3/3n/wtb33nvpy-5jwfe2gz_0xenrwes.png"><br><br>  La version x86 avait un autre problème - elle n'était pas très conviviale avec les hyperviseurs en tant que système invité.  Mais si des charges élevées n'étaient pas attendues, alors une version tout à fait appropriée. <br>  Le RouterOS x86 légal dans la version d'essai ne peut fonctionner pleinement que 24 heures, et celui gratuit a un tas de limitations.  Aucun administrateur système ne peut pleinement apprécier toutes les fonctionnalités de RouterOS en 24 heures ... <br><br>  Il était facile de télécharger une image d'une machine virtuelle à partir d'une ressource piratée du RouterOS x86 déjà installé, certainement avec ses béquilles, mais moi, pour ma part, j'en avais assez. <br><br><h2>  "Si vous ne pouvez pas vaincre la foule, dirigez-vous" </h2><br>  Au fil du temps, la direction compétente de la société Mikrotik a décidé qu'il était impossible de lutter contre le piratage et qu'il n'était pas rentable de voler leur système d'exploitation. <br><br>  Il y avait donc une branche de RouterOS - "Cloud Hosted Router", alias <a href="https://wiki.mikrotik.com/wiki/Manual:CHR" rel="nofollow">CHR</a> .  Ce système est optimisé uniquement pour travailler sur un système de virtualisation.  Vous pouvez télécharger l'image pour toutes les plates-formes de virtualisation courantes: image VHDX, image VMDK, image VDI, modèle OVA, image disque brute.  Le dernier disque virtuel peut être déployé sur pratiquement n'importe quelle plate-forme. <br><br>  Le système de licences a également changé: <br><br> <a href="https://wiki.mikrotik.com/wiki/Manual:CHR" rel="nofollow"><img src="https://habrastorage.org/webt/sb/jq/vl/sbjqvlz3fjppezbrn1dpmwtduyq.png"></a> <br><br>  La limitation s'applique uniquement aux vitesses des ports réseau.  Sur la version gratuite, c'est 1 Mbps, ce qui est suffisant pour construire des stands virtuels (par exemple, sur <a href="https://www.eve-ng.net/index.php/community/" rel="nofollow">EVE-NG</a> ) <br><br>  La version payante sur le site officiel mord beaucoup, mais vous pouvez acheter chez les revendeurs officiels un peu moins cher: <br><br><img src="https://habrastorage.org/webt/lp/az/jn/lpazjnpax_1wm9qzdycbnoadxmu.png"><br><br>  Et si vous êtes satisfait de la vitesse de 1 Gbit / s sur les ports, alors vous avez suffisamment de licence P1: <br><img src="https://habrastorage.org/webt/9l/fp/wl/9lfpwlxzb_8xhpwsej3_lahvbs8.png"><br><br><div class="spoiler">  <b class="spoiler_title">À quoi sert CHR?</b>  <b class="spoiler_title">Mes exemples.</b> <div class="spoiler_text">  Souvent, j'entends la question: pourquoi avez-vous besoin de ce routeur virtuel?  Voici quelques exemples des raisons pour lesquelles je l'utilise personnellement.  Je vous demande de ne pas être holistique à propos de ces décisions, car elles ne font pas l'objet de cet article.  Ceci est juste un exemple d'application. <br><br><h4>  Routeur central pour combiner les bureaux </h4><br><img src="https://habrastorage.org/webt/na/xc/i4/naxci4ciyu8jyys8ntt5xlgvr0g.png"><br><br>  Parfois, vous devez combiner plusieurs bureaux dans un même réseau.  Il n'y a pas de bureau avec un canal Internet en gras et une adresse IP blanche.  Peut-être que tout le monde est assis sur Yota, ou sur une chaîne à 5 Mbps.  Et le fournisseur peut filtrer tous les protocoles.  Par exemple, j'ai remarqué que L2TP ne monte tout simplement pas via le fournisseur Comfort à Saint-Pétersbourg ... <br><br>  Dans ce cas, j'ai élevé CHR dans le centre de données, où ils donnent un canal stable audacieux pour un vds (bien sûr, je l'ai testé dans tous les bureaux).  Il est extrêmement rare que le réseau s'effondre complètement, contrairement aux fournisseurs de "bureau". <br><br>  Tous les bureaux et utilisateurs se connectent à CHR via le protocole VPN, ce qui est le plus optimal pour eux.  Par exemple, les utilisateurs mobiles (Android, IOS) se sentent bien sur IPSec Xauth. <br><br>  Dans le même temps, si une base de plusieurs dizaines de gigaoctets est synchronisée entre le bureau 1 et le bureau 2, l'utilisateur qui regarde les caméras sur l'objet ne le remarquera pas, car la vitesse restera dans la largeur du canal sur l'appareil final, et non dans le canal CHR. <br><br><h4>  Passerelle d'hyperviseur </h4><br><img src="https://habrastorage.org/webt/gn/en/8q/gnen8qv7a-b5esr1ls38hxhbilg.png"><br><br>  Lors de la location d'un petit nombre de serveurs dans un DC pour plusieurs tâches, j'utilise la virtualisation VMWare ESXi (vous pouvez utiliser n'importe quelle autre, le principe ne change pas), ce qui vous permet de gérer de manière flexible les ressources disponibles et de les distribuer en fonction des services élevés dans les systèmes invités. <br><br>  Gestion du réseau et de la sécurité Je fais confiance à CHR en tant que routeur à part entière, sur lequel je contrôle toute l'activité réseau des conteneurs et du réseau externe. <br><br>  Soit dit en passant, après l'installation d'ESXi, le serveur physique n'a pas d'ipv4 blanc.  Le maximum pouvant apparaître est l'adresse ipv6.  Dans une telle situation, trouver un hyperviseur avec un simple scanner et profiter de la «nouvelle vulnérabilité» n'est tout simplement pas réaliste. <br><br><h4>  Seconde vie sur un vieux PC </h4><br>  Il semble que je l'ai déjà dit :-).  Sans acheter un routeur coûteux, vous pouvez toujours utiliser CHR sur un ancien PC. </div></div><br><h2>  CHR complet gratuit </h2><br>  Le plus souvent, je trouve qu'un CHR gratuit est recherché pour élever un proxy sur l'hébergement vds étranger.  Et ils ne veulent pas payer 10 000 roubles pour une licence sur leur salaire. <br>  Moins commun, mais il y a: un leadership extrêmement gourmand, obligeant les administrateurs à construire une infrastructure à partir de r *** a et de bâtons. <br><br><h3>  Essai 60 jours </h3><br>  Avec l'avènement du CHR, l'essai est passé de 24 heures à 60 jours!  Une condition préalable à sa fourniture est l'autorisation d'installation sous le même nom d'utilisateur et mot de passe que vous avez sur <a href="https://mikrotik.com/client/" rel="nofollow">mikrotik.com</a> <br><br><img src="https://habrastorage.org/webt/dl/ur/ue/dlurueld2cam-tfoixeqcp_oafa.png"><br><br>  Un enregistrement de cette installation apparaîtra dans votre compte sur le site: <br><img src="https://habrastorage.org/webt/sz/s8/ty/szs8tyvf02_xdtwtvrcg_4mhjx4.png"><br><br><h4>  Le procès se terminera-t-il?  Quelle est la prochaine ??? </h4><br><br>  Mais rien! <br><br>  Les ports fonctionneront à pleine vitesse et toutes les fonctions continueront de fonctionner ... <br><br>  Seule la réception des mises à jour du firmware cessera, ce qui n'est pas critique pour beaucoup.  Si vous accordez suffisamment d'attention à la sécurité lors de la configuration, vous n'aurez même pas besoin d'y aller pendant des années.  Ce à quoi vous devez faire particulièrement attention, j'ai écrit dans cet article <a href="https://habr.com/ru/post/359038/">habr.com/en/post/359038</a> <br><br><h4>  Et si vous avez encore besoin de mettre à jour le firmware après le procès? </h4><br>  Nous réinitialisons l'essai de la manière suivante: <br><br>  1. Nous faisons une sauvegarde. <br><br><img src="https://habrastorage.org/webt/wg/wh/kt/wgwhktdlnwaay7sigx3szsrkwck.png"><br><br>  2. Nous le prenons pour nous-mêmes sur un ordinateur. <br><br>  3. Réinstallez CHR sur vds complètement. <br><br>  4. Connectez-vous <br><br><img src="https://habrastorage.org/webt/dl/ur/ue/dlurueld2cam-tfoixeqcp_oafa.png"><br><br>  Ainsi, en LK sur le site Mikrotik, des informations sur la prochaine installation CHR apparaîtront <br><br>  5. Nous déployons une sauvegarde. <br><br><img src="https://habrastorage.org/webt/bf/ei/7t/bfei7tho5dv4dlcpaooqrdk6ob8.png"><br><br>  Paramètres restaurés et encore 60 jours en stock! <br><br><h4>  Vous ne pouvez pas réinstaller </h4><br>  Imaginez que vous ayez des centaines de magasins où un ancien PC avec CHR est utilisé comme routeur.  Vous suivez CVE et essayez de répondre rapidement aux vulnérabilités détectées. <br>  Une fois tous les deux mois, la réinstallation de CHR sur tous les objets est un gaspillage stupide de ressources d'administration. <br><br>  Mais il existe un moyen par lequel au moins une licence CHR P1 achetée est requise.  2k roubles peuvent être trouvés par pratiquement n'importe quel bureau, et si ce n'est pas le cas, cela vaut la peine de courir ^ _ ^ à partir de là. <br><br>  L'idée est de transférer légalement la licence via votre compte personnel sur mikrotik.com d'un appareil à l'autre! <br><br><img src="https://habrastorage.org/webt/p_/ha/rv/p_harvzsmxqcvcikrpdpjaewkqe.png"><br><br>  Nous sélectionnons "System ID", nous avons besoin d'un routeur. <br><br><img src="https://habrastorage.org/webt/ne/0k/te/ne0kteo3yhgpkiddaafwxilwqpa.png"><br><br>  Et cliquez sur «Transférer l'abonnement». <br><br>  La licence a "déménagé" sur le nouvel appareil, et l'ancien appareil, qui a perdu la licence, sans aucune réinstallation et gestes supplémentaires a reçu un nouvel essai de 60 jours! <br><br>  Autrement dit, n'ayant qu'une seule licence, vous pouvez servir une énorme flotte de CHR! <br><br><h2>  Pourquoi Mikrotik a-t-il assoupli sa politique de licence? </h2><br>  En raison de la disponibilité de CHR, Mikrotik a créé une énorme communauté autour de ses produits.  Une armée de spécialistes et de passionnés teste leur produit, signale les bogues détectés, génère une base de connaissances sur divers cas, etc., c'est-à-dire qu'il se comporte comme un projet open source réussi. <br><br>  Ainsi, non seulement un pool de connaissances chaotiques est généré dans un environnement virtuel, mais des spécialistes qui ont une expérience suffisante de travail avec un système particulier et, par conséquent, qui préfèrent l'équipement d'un fournisseur particulier, sont formés.  Et les chefs d'entreprise ont tendance à écouter les spécialistes qui travaillent pour eux. <br><br>  Qu'est-ce que la formation accessible et les conférences MUM!  La communauté spécialisée de Telegram <a href="https://tg.guru/router_os" rel="nofollow">@router_os</a> compte désormais plus de 3 000 personnes, où les experts discutent des solutions à divers problèmes.  Mais ce sont les sujets des articles individuels. <br><br>  Ainsi, le principal revenu de Mikrotik provient de la vente d'équipements, plutôt que de licences pour 45 $. <br><br>  Ici et maintenant, nous assistons à la croissance rapide du géant de l'informatique, qui est apparue relativement récemment - en 1997 en Lettonie. <br><br>  Je ne serai pas surpris si dans 5 ans D-Link annonce la sortie du prochain routeur exécutant RouterOS de Mikrotik.  Cela s'est produit plus d'une fois dans l'histoire.  N'oubliez pas quand Apple a abandonné son propre PowerPC au profit des processeurs Intel. <br><br>  J'espère que cet article a dissipé la part de vos doutes sur l'utilisation des produits Mikrotik. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr485128/">https://habr.com/ru/post/fr485128/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr485118/index.html">Clean Code par Robert Martin. Abstrait. Comment écrire du code clair et beau?</a></li>
<li><a href="../fr485120/index.html">Ajoutez une API JSON très rapide à notre application.</a></li>
<li><a href="../fr485122/index.html">La rubrique «Lisez des articles pour vous». Octobre - décembre 2019</a></li>
<li><a href="../fr485124/index.html">Tests purs en PHP et PHPUnit</a></li>
<li><a href="../fr485126/index.html">Mu-mu, woof-woof, quack-quack: évolution de la communication acoustique</a></li>
<li><a href="../fr485132/index.html">Rejoignez le Google Play Indie Games Festival</a></li>
<li><a href="../fr485136/index.html">Suivi et surveillance d'Istio: microservices et principe d'incertitude</a></li>
<li><a href="../fr485138/index.html">Localisation d'applications: comment nous nous sommes fait des amis traduction et développement</a></li>
<li><a href="../fr485144/index.html">Comment j'ai réparé une base cassée et ce qui en est sorti</a></li>
<li><a href="../fr485146/index.html">Salaires en informatique au second semestre 2019: selon le calculateur de carrière Habr</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>