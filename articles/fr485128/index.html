<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç¨ üßìüèª ü§±üèª √âconomisez sur les licences Mikrotik CHR üëÇüèª üëÜüèº üí¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans Telegram chat @router_os, je vois souvent des questions sur la fa√ßon d'√©conomiser sur l'achat d'une licence aupr√®s de Mikrotik, ou d'utiliser Rou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>√âconomisez sur les licences Mikrotik CHR</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485128/"> Dans Telegram chat <a href="https://tg.guru/router_os" rel="nofollow">@router_os, je</a> vois souvent des questions sur la fa√ßon d'√©conomiser sur l'achat d'une licence aupr√®s de Mikrotik, ou d'utiliser RouterOS, en g√©n√©ral, gratuitement.  Curieusement, mais de telles m√©thodes existent dans le domaine juridique. <br><br><img src="https://habrastorage.org/webt/mg/mo/7b/mgmo7bqmpjknknd1ahsjyd5uebk.png"><br><br><img src="https://habrastorage.org/webt/ih/c2/hu/ihc2hugv7evremdpuvqzdijl_wa.png"><br><br>  Dans cet article, je ne traiterai pas de la licence des appareils mat√©riels Mikrotik, car ils ont une licence maximale de l'usine qui peut √™tre r√©par√©e par le fer. <br><a name="habracut"></a><br><h2>  D'o√π vient le Mikrotik CHR? </h2><br>  Mikrotik fabrique divers √©quipements r√©seau et y installe un syst√®me d'exploitation universel de sa propre production - RouterOS.  Ce syst√®me d'exploitation a de grandes fonctionnalit√©s et une interface d'administration claire, et l'√©quipement sur lequel il est utilis√© est tr√®s peu co√ªteux, ce qui explique sa large distribution. <br><br>  Pour utiliser RouterOS en dehors de leur √©quipement, Mikrotik a publi√© une version x86 qui pouvait √™tre install√©e sur n'importe quel PC, ce qui a donn√© une seconde vie √† l'ancien mat√©riel.  Mais la licence √©tait li√©e aux num√©ros de mat√©riel de l'√©quipement sur lequel elle √©tait install√©e.  Autrement dit, si le disque dur est mort, vous pouvez √©galement dire au revoir √† la licence ... <br><br>  <a href="https://wiki.mikrotik.com/wiki/Manual:License" rel="nofollow">La licence d'</a> √©quipement et de RouterOS x86 a 6 niveaux et contient un tas de param√®tres: <br><br><img src="https://habrastorage.org/webt/wt/b3/3n/wtb33nvpy-5jwfe2gz_0xenrwes.png"><br><br>  La version x86 avait un autre probl√®me - elle n'√©tait pas tr√®s conviviale avec les hyperviseurs en tant que syst√®me invit√©.  Mais si des charges √©lev√©es n'√©taient pas attendues, alors une version tout √† fait appropri√©e. <br>  Le RouterOS x86 l√©gal dans la version d'essai ne peut fonctionner pleinement que 24 heures, et celui gratuit a un tas de limitations.  Aucun administrateur syst√®me ne peut pleinement appr√©cier toutes les fonctionnalit√©s de RouterOS en 24 heures ... <br><br>  Il √©tait facile de t√©l√©charger une image d'une machine virtuelle √† partir d'une ressource pirat√©e du RouterOS x86 d√©j√† install√©, certainement avec ses b√©quilles, mais moi, pour ma part, j'en avais assez. <br><br><h2>  "Si vous ne pouvez pas vaincre la foule, dirigez-vous" </h2><br>  Au fil du temps, la direction comp√©tente de la soci√©t√© Mikrotik a d√©cid√© qu'il √©tait impossible de lutter contre le piratage et qu'il n'√©tait pas rentable de voler leur syst√®me d'exploitation. <br><br>  Il y avait donc une branche de RouterOS - "Cloud Hosted Router", alias <a href="https://wiki.mikrotik.com/wiki/Manual:CHR" rel="nofollow">CHR</a> .  Ce syst√®me est optimis√© uniquement pour travailler sur un syst√®me de virtualisation.  Vous pouvez t√©l√©charger l'image pour toutes les plates-formes de virtualisation courantes: image VHDX, image VMDK, image VDI, mod√®le OVA, image disque brute.  Le dernier disque virtuel peut √™tre d√©ploy√© sur pratiquement n'importe quelle plate-forme. <br><br>  Le syst√®me de licences a √©galement chang√©: <br><br> <a href="https://wiki.mikrotik.com/wiki/Manual:CHR" rel="nofollow"><img src="https://habrastorage.org/webt/sb/jq/vl/sbjqvlz3fjppezbrn1dpmwtduyq.png"></a> <br><br>  La limitation s'applique uniquement aux vitesses des ports r√©seau.  Sur la version gratuite, c'est 1 Mbps, ce qui est suffisant pour construire des stands virtuels (par exemple, sur <a href="https://www.eve-ng.net/index.php/community/" rel="nofollow">EVE-NG</a> ) <br><br>  La version payante sur le site officiel mord beaucoup, mais vous pouvez acheter chez les revendeurs officiels un peu moins cher: <br><br><img src="https://habrastorage.org/webt/lp/az/jn/lpazjnpax_1wm9qzdycbnoadxmu.png"><br><br>  Et si vous √™tes satisfait de la vitesse de 1 Gbit / s sur les ports, alors vous avez suffisamment de licence P1: <br><img src="https://habrastorage.org/webt/9l/fp/wl/9lfpwlxzb_8xhpwsej3_lahvbs8.png"><br><br><div class="spoiler">  <b class="spoiler_title">√Ä quoi sert CHR?</b>  <b class="spoiler_title">Mes exemples.</b> <div class="spoiler_text">  Souvent, j'entends la question: pourquoi avez-vous besoin de ce routeur virtuel?  Voici quelques exemples des raisons pour lesquelles je l'utilise personnellement.  Je vous demande de ne pas √™tre holistique √† propos de ces d√©cisions, car elles ne font pas l'objet de cet article.  Ceci est juste un exemple d'application. <br><br><h4>  Routeur central pour combiner les bureaux </h4><br><img src="https://habrastorage.org/webt/na/xc/i4/naxci4ciyu8jyys8ntt5xlgvr0g.png"><br><br>  Parfois, vous devez combiner plusieurs bureaux dans un m√™me r√©seau.  Il n'y a pas de bureau avec un canal Internet en gras et une adresse IP blanche.  Peut-√™tre que tout le monde est assis sur Yota, ou sur une cha√Æne √† 5 Mbps.  Et le fournisseur peut filtrer tous les protocoles.  Par exemple, j'ai remarqu√© que L2TP ne monte tout simplement pas via le fournisseur Comfort √† Saint-P√©tersbourg ... <br><br>  Dans ce cas, j'ai √©lev√© CHR dans le centre de donn√©es, o√π ils donnent un canal stable audacieux pour un vds (bien s√ªr, je l'ai test√© dans tous les bureaux).  Il est extr√™mement rare que le r√©seau s'effondre compl√®tement, contrairement aux fournisseurs de "bureau". <br><br>  Tous les bureaux et utilisateurs se connectent √† CHR via le protocole VPN, ce qui est le plus optimal pour eux.  Par exemple, les utilisateurs mobiles (Android, IOS) se sentent bien sur IPSec Xauth. <br><br>  Dans le m√™me temps, si une base de plusieurs dizaines de gigaoctets est synchronis√©e entre le bureau 1 et le bureau 2, l'utilisateur qui regarde les cam√©ras sur l'objet ne le remarquera pas, car la vitesse restera dans la largeur du canal sur l'appareil final, et non dans le canal CHR. <br><br><h4>  Passerelle d'hyperviseur </h4><br><img src="https://habrastorage.org/webt/gn/en/8q/gnen8qv7a-b5esr1ls38hxhbilg.png"><br><br>  Lors de la location d'un petit nombre de serveurs dans un DC pour plusieurs t√¢ches, j'utilise la virtualisation VMWare ESXi (vous pouvez utiliser n'importe quelle autre, le principe ne change pas), ce qui vous permet de g√©rer de mani√®re flexible les ressources disponibles et de les distribuer en fonction des services √©lev√©s dans les syst√®mes invit√©s. <br><br>  Gestion du r√©seau et de la s√©curit√© Je fais confiance √† CHR en tant que routeur √† part enti√®re, sur lequel je contr√¥le toute l'activit√© r√©seau des conteneurs et du r√©seau externe. <br><br>  Soit dit en passant, apr√®s l'installation d'ESXi, le serveur physique n'a pas d'ipv4 blanc.  Le maximum pouvant appara√Ætre est l'adresse ipv6.  Dans une telle situation, trouver un hyperviseur avec un simple scanner et profiter de la ¬´nouvelle vuln√©rabilit√©¬ª n'est tout simplement pas r√©aliste. <br><br><h4>  Seconde vie sur un vieux PC </h4><br>  Il semble que je l'ai d√©j√† dit :-).  Sans acheter un routeur co√ªteux, vous pouvez toujours utiliser CHR sur un ancien PC. </div></div><br><h2>  CHR complet gratuit </h2><br>  Le plus souvent, je trouve qu'un CHR gratuit est recherch√© pour √©lever un proxy sur l'h√©bergement vds √©tranger.  Et ils ne veulent pas payer 10 000 roubles pour une licence sur leur salaire. <br>  Moins commun, mais il y a: un leadership extr√™mement gourmand, obligeant les administrateurs √† construire une infrastructure √† partir de r *** a et de b√¢tons. <br><br><h3>  Essai 60 jours </h3><br>  Avec l'av√®nement du CHR, l'essai est pass√© de 24 heures √† 60 jours!  Une condition pr√©alable √† sa fourniture est l'autorisation d'installation sous le m√™me nom d'utilisateur et mot de passe que vous avez sur <a href="https://mikrotik.com/client/" rel="nofollow">mikrotik.com</a> <br><br><img src="https://habrastorage.org/webt/dl/ur/ue/dlurueld2cam-tfoixeqcp_oafa.png"><br><br>  Un enregistrement de cette installation appara√Ætra dans votre compte sur le site: <br><img src="https://habrastorage.org/webt/sz/s8/ty/szs8tyvf02_xdtwtvrcg_4mhjx4.png"><br><br><h4>  Le proc√®s se terminera-t-il?  Quelle est la prochaine ??? </h4><br><br>  Mais rien! <br><br>  Les ports fonctionneront √† pleine vitesse et toutes les fonctions continueront de fonctionner ... <br><br>  Seule la r√©ception des mises √† jour du firmware cessera, ce qui n'est pas critique pour beaucoup.  Si vous accordez suffisamment d'attention √† la s√©curit√© lors de la configuration, vous n'aurez m√™me pas besoin d'y aller pendant des ann√©es.  Ce √† quoi vous devez faire particuli√®rement attention, j'ai √©crit dans cet article <a href="https://habr.com/ru/post/359038/">habr.com/en/post/359038</a> <br><br><h4>  Et si vous avez encore besoin de mettre √† jour le firmware apr√®s le proc√®s? </h4><br>  Nous r√©initialisons l'essai de la mani√®re suivante: <br><br>  1. Nous faisons une sauvegarde. <br><br><img src="https://habrastorage.org/webt/wg/wh/kt/wgwhktdlnwaay7sigx3szsrkwck.png"><br><br>  2. Nous le prenons pour nous-m√™mes sur un ordinateur. <br><br>  3. R√©installez CHR sur vds compl√®tement. <br><br>  4. Connectez-vous <br><br><img src="https://habrastorage.org/webt/dl/ur/ue/dlurueld2cam-tfoixeqcp_oafa.png"><br><br>  Ainsi, en LK sur le site Mikrotik, des informations sur la prochaine installation CHR appara√Ætront <br><br>  5. Nous d√©ployons une sauvegarde. <br><br><img src="https://habrastorage.org/webt/bf/ei/7t/bfei7tho5dv4dlcpaooqrdk6ob8.png"><br><br>  Param√®tres restaur√©s et encore 60 jours en stock! <br><br><h4>  Vous ne pouvez pas r√©installer </h4><br>  Imaginez que vous ayez des centaines de magasins o√π un ancien PC avec CHR est utilis√© comme routeur.  Vous suivez CVE et essayez de r√©pondre rapidement aux vuln√©rabilit√©s d√©tect√©es. <br>  Une fois tous les deux mois, la r√©installation de CHR sur tous les objets est un gaspillage stupide de ressources d'administration. <br><br>  Mais il existe un moyen par lequel au moins une licence CHR P1 achet√©e est requise.  2k roubles peuvent √™tre trouv√©s par pratiquement n'importe quel bureau, et si ce n'est pas le cas, cela vaut la peine de courir ^ _ ^ √† partir de l√†. <br><br>  L'id√©e est de transf√©rer l√©galement la licence via votre compte personnel sur mikrotik.com d'un appareil √† l'autre! <br><br><img src="https://habrastorage.org/webt/p_/ha/rv/p_harvzsmxqcvcikrpdpjaewkqe.png"><br><br>  Nous s√©lectionnons "System ID", nous avons besoin d'un routeur. <br><br><img src="https://habrastorage.org/webt/ne/0k/te/ne0kteo3yhgpkiddaafwxilwqpa.png"><br><br>  Et cliquez sur ¬´Transf√©rer l'abonnement¬ª. <br><br>  La licence a "d√©m√©nag√©" sur le nouvel appareil, et l'ancien appareil, qui a perdu la licence, sans aucune r√©installation et gestes suppl√©mentaires a re√ßu un nouvel essai de 60 jours! <br><br>  Autrement dit, n'ayant qu'une seule licence, vous pouvez servir une √©norme flotte de CHR! <br><br><h2>  Pourquoi Mikrotik a-t-il assoupli sa politique de licence? </h2><br>  En raison de la disponibilit√© de CHR, Mikrotik a cr√©√© une √©norme communaut√© autour de ses produits.  Une arm√©e de sp√©cialistes et de passionn√©s teste leur produit, signale les bogues d√©tect√©s, g√©n√®re une base de connaissances sur divers cas, etc., c'est-√†-dire qu'il se comporte comme un projet open source r√©ussi. <br><br>  Ainsi, non seulement un pool de connaissances chaotiques est g√©n√©r√© dans un environnement virtuel, mais des sp√©cialistes qui ont une exp√©rience suffisante de travail avec un syst√®me particulier et, par cons√©quent, qui pr√©f√®rent l'√©quipement d'un fournisseur particulier, sont form√©s.  Et les chefs d'entreprise ont tendance √† √©couter les sp√©cialistes qui travaillent pour eux. <br><br>  Qu'est-ce que la formation accessible et les conf√©rences MUM!  La communaut√© sp√©cialis√©e de Telegram <a href="https://tg.guru/router_os" rel="nofollow">@router_os</a> compte d√©sormais plus de 3 000 personnes, o√π les experts discutent des solutions √† divers probl√®mes.  Mais ce sont les sujets des articles individuels. <br><br>  Ainsi, le principal revenu de Mikrotik provient de la vente d'√©quipements, plut√¥t que de licences pour 45 $. <br><br>  Ici et maintenant, nous assistons √† la croissance rapide du g√©ant de l'informatique, qui est apparue relativement r√©cemment - en 1997 en Lettonie. <br><br>  Je ne serai pas surpris si dans 5 ans D-Link annonce la sortie du prochain routeur ex√©cutant RouterOS de Mikrotik.  Cela s'est produit plus d'une fois dans l'histoire.  N'oubliez pas quand Apple a abandonn√© son propre PowerPC au profit des processeurs Intel. <br><br>  J'esp√®re que cet article a dissip√© la part de vos doutes sur l'utilisation des produits Mikrotik. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr485128/">https://habr.com/ru/post/fr485128/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr485118/index.html">Clean Code par Robert Martin. Abstrait. Comment √©crire du code clair et beau?</a></li>
<li><a href="../fr485120/index.html">Ajoutez une API JSON tr√®s rapide √† notre application.</a></li>
<li><a href="../fr485122/index.html">La rubrique ¬´Lisez des articles pour vous¬ª. Octobre - d√©cembre 2019</a></li>
<li><a href="../fr485124/index.html">Tests purs en PHP et PHPUnit</a></li>
<li><a href="../fr485126/index.html">Mu-mu, woof-woof, quack-quack: √©volution de la communication acoustique</a></li>
<li><a href="../fr485132/index.html">Rejoignez le Google Play Indie Games Festival</a></li>
<li><a href="../fr485136/index.html">Suivi et surveillance d'Istio: microservices et principe d'incertitude</a></li>
<li><a href="../fr485138/index.html">Localisation d'applications: comment nous nous sommes fait des amis traduction et d√©veloppement</a></li>
<li><a href="../fr485144/index.html">Comment j'ai r√©par√© une base cass√©e et ce qui en est sorti</a></li>
<li><a href="../fr485146/index.html">Salaires en informatique au second semestre 2019: selon le calculateur de carri√®re Habr</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>