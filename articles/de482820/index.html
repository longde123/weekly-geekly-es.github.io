<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💅🏻 🤚🏾 🗡️ Bild-Upload-Optimierung 🔟 👩‍💻 🕖</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo habr Ich präsentiere Ihnen die Übersetzung des Artikels „So optimieren Sie das Laden von Bildern auf Ihrer Website“ . 

 Wenn die Site viele sch...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bild-Upload-Optimierung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482820/">  Hallo habr  Ich präsentiere Ihnen die Übersetzung des Artikels <a href="https://medium.com/front-end-weekly/how-to-optimize-image-loading-on-your-website-855020fb41ae">„So optimieren Sie das Laden von Bildern auf Ihrer Website“</a> . <br><br>  Wenn die Site viele schöne Bilder enthält, ist dies großartig, aber sie können die Ladezeit erheblich verkürzen. Infolgedessen leidet SEO, und viele Benutzer schließen die Site, bevor sie geladen wird.  Es kommt häufig vor, dass mehrere Megabyte Bilder heruntergeladen werden, um den Schieberegler auf der Hauptseite anzuzeigen. <br><br>  Stellen Sie sich vor, Sie besuchen eine solche Site über ein langsames mobiles Internet. Dies kann viel Zeit in Anspruch nehmen und die meisten Benutzer schließen in dieser Situation Ihre Site einfach, noch bevor sie heruntergeladen wird.  Eine gute Möglichkeit, dies zu testen, besteht darin, die Möglichkeit zu nutzen, die Internetgeschwindigkeit über <a href="https://developers.google.com/web/tools/chrome-devtools/network/network-conditions">Chrome Devtools</a> zu begrenzen. <br><br><h2>  Das problem </h2><br>  Das Problem ist, dass es häufig vorkommt, dass der Inhalt selbst bereits geladen ist und die Bilder noch geladen werden.  Infolgedessen kann der Benutzer den leeren Bereich sehen, in dem die Bilder langsam geladen werden.  Dies ist eindeutig nicht das, was Sie möchten. <br><a name="habracut"></a><br>  Im folgenden Beispiel habe ich eine einfache Website mit einem Hintergrundbild von 4,8 MB erstellt.  Wie Sie sehen können, wurde das DOM in 1,14 Sekunden hochgefahren, d. H.  In der Tat sieht der Benutzer den Inhalt nach 1,14 Sekunden, was für 3G-Internet ziemlich gut ist.  Das Hintergrundbild wird jedoch in 27,32 Sekunden geladen.  Während dieser Zeit kann der Benutzer Ihre Site bereits verlassen. <br><br> <a href=""><img src="https://habrastorage.org/webt/ai/he/nx/aihenxtqzk6volradqbbwp3h7uy.png"></a> <br><br>  Darunter leidet nicht nur die User Experience.  2010 gab <a href="https://webmasters.googleblog.com/2010/04/using-site-speed-in-web-search-ranking.html">Google bekannt,</a> dass die Download-Geschwindigkeit einer der Faktoren in ihrem Ranking-Algorithmus ist, und ich denke, dass dieser Faktor in Zukunft immer wichtiger wird. <br><br><h2>  Lösung </h2><br>  Wie kann man dieses Problem lösen?  Nun, für den Anfang können wir unser Hintergrundbild einfach mit verschiedenen Werkzeugen komprimieren.  Zum Beispiel <a href="https://tinypng.com/">TinyPNG</a> , <a href="https://imageoptimizer.xyz/">ImageOptimizer</a> oder <a href="https://www.jpegmini.com/">JPEGmini</a> .  Dies ist ein einfacher Gewinn und verkürzt die Startzeit auf ~ 10 Sekunden.  Und es sieht zwar nach einem großen Entscheidungsschritt aus, aber 10 Sekunden sind immer noch zu viel. <br><br>  Der nächste Schritt kann darin bestehen, das Stub-Bild herunterzuladen, bevor das Originalbild geladen wird.  Ein Stub ist eine Version des Originalbildes, jedoch mit niedriger Auflösung.  Wenn wir ein solches Bild erstellen, reduzieren wir die Auflösung von 7372 x 4392 Pixel auf 20 x 11 Pixel.  Infolgedessen wird die Bildgröße von 4,8 MB auf 900 Byte reduziert. <br><br><img src="https://habrastorage.org/webt/pe/dc/j3/pedcj3yrpuo5wzzudyh88wv8g4i.png"><br><br>  Dadurch wird die Download-Geschwindigkeit von 10 Sekunden auf 550 Millisekunden reduziert.  Jetzt haben wir als Hintergrund ein unscharfes Bild mit niedriger Auflösung.  Dies ist eine großartige Lösung, während die Seite die ersten Sekunden lädt, aber wir möchten den Benutzern trotzdem das Originalbild mit hoher Auflösung zeigen. <br><br>  Dazu müssen wir zuerst das niedrig aufgelöste Bild herunterladen und erst dann asynchron im Hintergrund das hochauflösende Original laden. Wenn die hochauflösende Version geladen ist, können wir sie an die Stelle des Stub-Bildes setzen.  Dafür habe ich zuvor den folgenden Code verwendet. <br><br><pre><code class="javascript hljs">(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-string"><span class="hljs-string">'use strict'</span></span>; <span class="hljs-comment"><span class="hljs-comment">// Page is loaded const objects = document.getElementsByClassName('asyncImage'); Array.from(objects).map((item) =&gt; { // Start loading image const img = new Image(); img.src = item.dataset.src; // Once image is loaded replace the src of the HTML element img.onload = () =&gt; { item.classList.remove('asyncImage'); return item.nodeName === 'IMG' ? item.src = item.dataset.src : item.style.backgroundImage = `url(${item.dataset.src})`; }; }); })();</span></span></code> </pre> <br><br>  Dieser Code sucht nach Elementen mit der Klasse <code>asyncImage</code> werden alle im Attribut <code>data-src</code> angegebenen Bilder geladen. Sobald das Bild geladen ist, wird <code>src</code> für das Element <code><code>&lt;img&gt;</code></code> und für die übrigen Elemente wird das Hintergrundbild über css festgelegt. <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"asyncImage"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/images/background.jpg"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  oder <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"asyncImage"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/images/background-min.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/images/background.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Beautiful landscape sunrise"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Da das Skript die Klasse nach dem Laden des Bildes aus dem Element entfernt, können wir auf Wunsch schöne Animationen mit CSS erstellen.  Zum Beispiel verschwindet der Stub, wenn das Bild ersetzt wird. <br><br><h2>  Fazit </h2><br>  Was haben wir erreicht?  Wir haben die Nutzererfahrung verbessert, das Laden der Website beschleunigt, sie für Nutzer ohne schnelles Internet zugänglicher gemacht und möglicherweise unser Ranking bei Google verbessert.  Dies sind enorme Verbesserungen für solch eine kleine Veränderung. <br><br> <a href=""><img src="https://habrastorage.org/webt/wm/mc/i2/wmmci2zztcjmxo0yew3-_bnmyku.png"></a> <br><br>  Wie Sie sehen, laden wir den Stub für 570 Millisekunden herunter. Sobald er geladen wird, wird dem Benutzer eine niedrig aufgelöste Version unseres Originalbilds angezeigt. Sobald das Originalbild geladen wird, wird die niedrig aufgelöste Version ersetzt. <br><br>  <a href="https://jsfiddle.net/87o4wg2k/">Sehen Sie hier ein funktionierendes Beispiel.</a> <br><br><h2>  Lazy Laden von Bildern </h2><br>  Wenn Sie weiter gehen und das Laden von Bildern noch weiter verbessern möchten, ist es möglicherweise hilfreich, das verzögerte Laden von Bildern zu verwenden. <br><br>  Lazy Loading ist eine Technik, bei der Bilder außerhalb des sichtbaren Bereichs der Seite erst geladen werden, wenn sich das Bild dem Rand des sichtbaren Bereichs nähert. <br><br>  Der Vorteil ist, dass beim erstmaligen Laden weniger Daten geladen werden, da sehr oft nur ein kleiner Teil der Bilder im sichtbaren Bereich der Seite angezeigt wird und der Rest heruntergeladen werden kann, während der Benutzer einen Bildlauf durchführt.  Ein <a href="https://caniuse.com/">Intersection Observer ist am</a> besten geeignet, um dies zu implementieren. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de482820/">https://habr.com/ru/post/de482820/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de482810/index.html">Können Sie dem medizinischen Rat von Bots vertrauen? Ärzte sind sich noch nicht sicher.</a></li>
<li><a href="../de482812/index.html">Mathematiker haben einen Durchbruch in der Erforschung des „gefährlichen“ Problems erzielt</a></li>
<li><a href="../de482814/index.html">Gesamtansicht des Baumes, Implementierung und nicht nur</a></li>
<li><a href="../de482816/index.html">Arthur Khachuyan: Künstliche Intelligenz im Marketing</a></li>
<li><a href="../de482818/index.html">Kurze Ergebnisse der Lektüre des Berichts über 1C DSS für Infostart 2019</a></li>
<li><a href="../de482822/index.html">Wie werden Kunsttests für Spiele durchgeführt?</a></li>
<li><a href="../de482826/index.html">Analysieren einer 128-Byte-Demo aus dem Archiv von 1997</a></li>
<li><a href="../de482832/index.html">Zukunftsökonomie für Physiker</a></li>
<li><a href="../de482834/index.html">Die statische Eingabe erfordert nicht unbedingt Zeremonien</a></li>
<li><a href="../de482838/index.html">ONYX BOOX Note 2 Test - ein Großbildleser mit maximaler Leistungsfähigkeit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>