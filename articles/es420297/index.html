<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>   Instrucciones paso a paso para recuperar el acceso a instancias de Linux Amazon EC2 al perder un archivo pem  す </title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Si durante la creaci贸n de la instancia de Linux en AWS, no se cre贸 un par de claves (KeyPair) para acceder a 茅l a trav茅s de SSH o se pierden, entonces...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Instrucciones paso a paso para recuperar el acceso a instancias de Linux Amazon EC2 al perder un archivo pem</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420297/"> Si durante la creaci贸n de la instancia de Linux en AWS, no se cre贸 un par de claves (KeyPair) para acceder a 茅l a trav茅s de SSH o se pierden, entonces se deben realizar varias operaciones para acceder a la m谩quina.  No puede agregar claves a una instancia que ya se est谩 ejecutando a trav茅s de la consola de AWS.  Hay tres formas de restaurar el acceso SSH a una instancia. <br><br>  La forma m谩s f谩cil es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">configurar la clave utilizando el mecanismo de inicio en la nube</a> (gracias por la sugerencia de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">yusman</a> ).  Pero no funciona si los derechos del directorio <code>/home</code> est谩n da帽ados o la distribuci贸n no es compatible con las directivas de inicio de la nube. <br><br>  La segunda forma es <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">crear una imagen</a> (Amazon Machine Image) a partir de una instancia existente y luego lanzar una nueva instancia basada en ella, pero con una clave.  Por lo tanto, la m谩quina existente se clonar谩 con la 煤nica diferencia de que en la 煤ltima etapa es posible crear nuevas claves.  Crear una imagen puede llevar mucho tiempo para una instancia con discos grandes, y tendr谩 que configurar todos los servicios vinculados a esta m谩quina nuevamente.  Por lo tanto, este m茅todo en la mayor铆a de los casos llevar谩 m谩s tiempo. <br><br>  Los documentos oficiales de Amazon describen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">otra forma</a> .  Le permite restaurar el acceso y minimizar el costo de reconfigurar los servicios (en comparaci贸n con el segundo m茅todo), que est谩n vinculados a una instancia a la que se pierde el acceso.  El art铆culo da una descripci贸n paso a paso del mismo. <br><a name="habracut"></a><br>  <i><b>Atencion</b></i>  <i>Este m茅todo solo funciona para instancias que usan el almacenamiento de bloques (Amazon Elastic Block Store) como dispositivo ra铆z, y no funciona para el almacenamiento de instancias local (Amazon EC2 Instance Store).</i> <br><br>  Para averiguar qu茅 tipo de dispositivo ra铆z est谩 utilizando, abra la consola Amazon EC2, vaya a <b>Instancias</b> , seleccione una instancia y verifique el valor del par谩metro <b>Tipo de dispositivo ra铆z</b> en el panel con informaci贸n detallada. <br><br><div style="text-align:center;"><img alt="Tipo de dispositivo ra铆z de instancia" src="https://habrastorage.org/webt/fi/gt/_m/figt_m6allv6zvevj8qrlwrzqos.png"></div><br>  Si su m谩quina tiene <abbr title="Tienda de bloques el谩sticos de Amazon">EBS</abbr> , entonces este m茅todo es adecuado para usted. <br><br><h3>  Paso 1. Preparaci贸n </h3><br>  Primero, debe guardar cierta informaci贸n para no tener que distraerse y no cambiar a otras pantallas (especialmente porque ser谩 muy inconveniente).  Todos los datos se pueden encontrar en la informaci贸n detallada de la instancia (ya sabe c贸mo llegar all铆).  Registre la siguiente configuraci贸n: <br><br><ul><li>  ID de instancia </li><li>  ID de AMI </li><li>  ID de EBS </li><li>  Dispositivo de ra铆z </li><li>  Zona de disponibilidad </li></ul><br>  Para una instancia que se ejecuta en <abbr title="Nube privada virtual de Amazon">VPC</abbr> , guarde el valor de <b>ID de VPC</b> . <br><br>  Para <b>EC2-classic</b> : si se crea una direcci贸n IP el谩stica ( <b>Elastic IP</b> ) para una instancia, tambi茅n se debe guardar su valor. <br><br><div style="text-align:center;"> <a href=""><img alt="Configuraci贸n de instancia para guardar" src="https://habrastorage.org/webt/it/by/ga/itbygaladxipdfpdeywopgzb5mu.png"></a> </div>  <i>Imagen en la que se puede hacer clic</i> <br><br>  Para obtener el identificador de almacenamiento en bloque ( <b>ID EBS</b> ), haga clic en el nombre del <b>dispositivo Root</b> . <br><br><div style="text-align:center;"><img alt="ID de EBS" src="https://habrastorage.org/webt/4c/lp/-q/4clp-q09-_rdn6h7y33b4g8ucw4.png"></div><br><br><h3>  Paso 2. Crear una instancia temporal </h3><br>  El siguiente paso es crear una instancia con la que restaurar谩 las claves en la instancia original.  Puede omitir este paso si tiene otra instancia en ejecuci贸n ubicada en la misma zona (zona de disponibilidad) que la restaurada, y al mismo tiempo que se cre贸 con el mismo AMI o la versi贸n del sistema operativo en 茅l le permitir谩 conectar el disco desde la instancia original y Copie las claves SSH.  Si no existe tal instancia, siga estos pasos: <br><br><ul><li>  Vaya a la consola EC2 (en el tablero o en el men煤 <b>Instancias</b> ) y haga clic en <b>Iniciar instancia</b> </li><li>  En la p谩gina de selecci贸n AMI ( <b>Elegir una imagen de m谩quina de Amazon</b> ), seleccione la que se utiliz贸 para crear la instancia original (la escribi贸 en el primer paso: <b>ID de AMI</b> ).  Si por alguna raz贸n esta AMI no est谩 disponible, puede <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">crear una imagen</a> de la instancia original y usarla, o seleccionar el tipo de AMI a la que puede conectar el disco ra铆z de la instancia restaurada </li><li>  En la p谩gina <b>Elegir un tipo de instancia</b> , seleccione el tipo m谩s barato disponible. </li><li>  En la p谩gina <b>Configurar detalles de instancia</b> , especifique la misma <b>zona de disponibilidad</b> que en nuestra instancia.  Si se est谩 ejecutando en VPC, seleccione la misma VPC en el elemento <b>Red</b> y especifique la subred en esta zona. <br><br><div style="text-align:center;"><img alt="Configurar zona de disponibilidad" src="https://habrastorage.org/webt/co/sf/q8/cosfq8fixautng3nvazmqvqcvqs.png"></div><br>  Sin embargo, no es necesario cambiar la configuraci贸n de las interfaces de red. <br></li><li>  No se requieren cambios en la p谩gina <b>Agregar almacenamiento</b> . </li><li>  En la p谩gina de etiquetas ( <b>Agregar etiquetas</b> ), agregue un nombre para la instancia temporal para que sea f谩cil de identificar y luego no pierda tiempo en conciliar la <b>ID de instancia</b> y la <b>ID de EBS</b> , ya que en las p谩ginas donde tendr谩 que determinar con qu茅 instancia o volumen est谩 trabajando, en el t铆tulo Este valor aparecer谩. <br><br><div style="text-align:center;"><img alt="Nombre en la p谩gina Agregar etiquetas" src="https://habrastorage.org/webt/o4/wb/fh/o4wbfhmxk3fiqjzn-f4h1qykbbe.png"></div><br></li><li>  Haga clic en <b>Revisar e iniciar</b> y luego en <b>Iniciar</b> </li><li>  El 煤ltimo paso es seleccionar un par de claves existente o crear uno nuevo.  Descargue el archivo de clave (pem) y no olvide hacer una copia de seguridad para que no tenga que volver a realizar todas las operaciones. <br><br><div style="text-align:center;"><img alt="Guardando KeyPair" src="https://habrastorage.org/webt/lz/jj/qv/lzjjqvfv0wjnnr7neskb6uq9jew.png"></div></li><li>  Despu茅s de guardar el archivo, inicie la instancia con el bot贸n <b>Iniciar instancias</b> </li></ul><br><br><h3>  Paso 3. Conectando el disco ra铆z de la m谩quina restaurada a una instancia temporal </h3><br>  Primero debe desconectar el disco de la instancia original y conectarlo a uno temporal.  Dado que este es el disco ra铆z, la instancia original deber谩 detenerse antes de desconectarlo. <br><br><ul><li>  Vaya a la consola EC2 en la secci贸n <b>Instancias</b> y seleccione la instancia original (puede determinarse por la <b>ID de instancia</b> registrada anteriormente o por un nombre que difiere del que especific贸 al crear la instancia temporal). <br><br><div style="text-align:center;"><img alt="Parada de instancia" src="https://habrastorage.org/webt/cf/nb/zt/cfnbztxp4mlphw5s16tqlzqjore.png"></div><br>  Siguiente en el men煤 <b>Acciones - Estado de instancia - Detener</b> . <br><br>  <i><b>Atencion</b></i>  <i>Cuando se detiene la instancia, se borran todos los datos del almacenamiento local (Almac茅n de instancias de Amazon EC2).</i>  <i>Si tiene datos sobre tales vol煤menes, cuide su seguridad transfiri茅ndolos a un almacenamiento permanente, si es necesario.</i> <br></li><li>  Despu茅s de detener la instancia, vaya a la secci贸n <b>Elastic Block Store - Volumes</b> y seleccione el volumen ra铆z de la instancia original.  Puede determinarse mediante la <b>ID de volumen</b> almacenada o en funci贸n de la informaci贸n de la columna <b>Informaci贸n de archivo adjunto</b> , que contiene el nombre de la instancia. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8i/ce/ri/8icerixqy7088x9n8tutprj0dtq.png" alt="Unidad de silencio"></div><br>  Siguiente en el men煤 <b>Acciones - Separar volumen</b> </li><li>  Conecte este volumen a una instancia temporal.  Para hacer esto, selecci贸nelo nuevamente, luego en el men煤 <b>Acciones - Adjuntar volumen</b> y en el cuadro de di谩logo que aparece, especifique su instancia temporal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vq/jh/sx/vqjhsx1mc-pwfdi1khqxeo4ceio.png" alt="Conexi贸n de la unidad"></div><br>  Luego haga clic en <b>Adjuntar</b> .  Si la instancia original se cre贸 a trav茅s de <b>AMI de AWS Marketplace</b> y la secci贸n contiene c贸digos de AWS Marketplace, recibir谩 un error que indica que es imposible conectar la secci贸n con c贸digos a una instancia de trabajo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fm/ai/rb/fmairbibwjzh5aohbwori7qvnfs.png" alt="Error al conectar la unidad con los c贸digos de AWS Marketplace"></div><br>  En este caso, detenga nuestra instancia temporal y repita los pasos para conectar el volumen ra铆z de la instancia original a la instancia temporal.  El segundo intento debe ser exitoso. <br></li><li>  Ahora deber铆a ver que ambas unidades est谩n conectadas a una instancia temporal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/jm/wp/km/jmwpkmco-z6kphxqxmpfxqr2g2m.png" alt="Ambas unidades est谩n conectadas a una instancia temporal"></div></li><li>  Si detuvo la instancia, ejec煤tela: <br><br><ul><li>  Vaya a la secci贸n <b>Instancias</b> de la barra de navegaci贸n. </li><li>  Elige una instancia temporal </li><li>  A continuaci贸n, en el men煤 <b>Acciones - Estado de instancia - Inicio</b> . </li></ul><br></li></ul><br><h3>  Paso 4. Preparar claves para conectarse a la instancia a trav茅s de SSH </h3><br>  Los usuarios de Linux no necesitan generar claves adicionales.  Solo necesita otorgar permisos de lectura a este archivo: <br><br> <code>chmod 400 my-keypair.pem</code> <br> <br><div class="spoiler">  <b class="spoiler_title">Preparaci贸n clave si est谩 ejecutando Windows</b> <div class="spoiler_text">  Para conectarse a una m谩quina Linux, usaremos la utilidad PuTTY, as铆 que si no la tiene instalada, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">desc谩rguela</a> .  Para conectarse a trav茅s de SSH, necesitar谩 una <b>clave ppk</b> , mientras que con AWS se <b>guard贸</b> la clave en formato <b>pem</b> .  Para obtener la clave del formato deseado, haga lo siguiente: <br><br><ul><li>  Abrir <b>PuTTYgen</b> (instalado con PuTTY) </li><li>  Seleccione 2048 bit en los par谩metros RSA <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qo/ha/hd/qohahd_138adlmeua2nwdn2h6nq.png" alt="RSA 2048 bit"></div></li><li>  Descargue la clave pem guardada haciendo clic en <b>Cargar</b> (Cargar un archivo de clave privada existente) </li><li>  Especifique la frase de contrase帽a (frase de contrase帽a <b>clave</b> ) y conf铆rmela ( <b>confirme la frase de contrase帽a</b> ).  Esto no es necesario, pero es m谩s seguro.  La 煤nica diferencia es que cuando se conecta con esta tecla, siempre se le pedir谩 que ingrese esta frase para confirmar la entrada. </li><li>  Guarde el archivo con el nombre que especific贸 al crear el par de claves ( <b>KeyPair</b> ) durante la creaci贸n de la instancia temporal (el nombre coincide con el nombre de la <b>clave pem</b> ) </li></ul><br>  La llave est谩 lista. <br></div></div><br><br><h3>  Paso 5. Con茅ctese a una instancia temporal a trav茅s de SSH </h3><br>  Con茅ctese en el puerto 22 con la llave.  El nombre de usuario depende de qu茅 AMI se utiliz贸 para crear la instancia.  Lo escribiste al principio.  Son posibles los siguientes nombres de usuario: <br><br><ul><li>  Amazon Linux 2 o Amazon Linux AMI - usuario ec2 </li><li>  Centos AMI - centos </li><li>  Debian AMI - administrador o root </li><li>  Fedora AMI - usuario ec2 o fedora </li><li>  RHEL AMI: usuario ec2 o root </li><li>  SUSE AMI: usuario ec2 o root </li><li>  Ubuntu AMI - ubuntu </li><li>  Por lo dem谩s, si los nombres ec2-user y root no funcionan, comun铆quese con su proveedor de AMI </li></ul><br>  El nombre de host al que desea conectarse es <i>user@aws-host.amazon.com</i> , donde <i>user</i> es el nombre descrito anteriormente, y <i>aws-host.amazon.com</i> es la direcci贸n IP de su instancia, que se puede encontrar en la pesta帽a de informaci贸n detallada (desde all铆 guardaste los par谩metros desde el principio).  El par谩metro se llama <b>IPv4 IP p煤blica</b> .  Tenga en cuenta que si no utiliza <b>Elastic IP</b> , cada vez que inicie la instancia, tendr谩 una nueva direcci贸n IP. <br><br><div class="spoiler">  <b class="spoiler_title">Instrucciones de conexi贸n para usuarios de Windows</b> <div class="spoiler_text"><ul><li>  Lanzar PuTTY </li><li>  En el campo <b>Nombre</b> del <b>host</b> , la direcci贸n tiene el formato <i>nombre de usuario @ direcci贸n-ip</i> <i><br><br></i> <div style="text-align:center;"><img src="https://habrastorage.org/webt/50/mo/sn/50mosnkqgxx0rsby9eihvqq7qb4.png" alt="Configurar PuTTY. Nombre del anfitri贸n"></div><br></li><li>  Vaya a la secci贸n <b>Conexi贸n - SSH - Auth</b> y descargue la <b>clave ppk</b> (archivo de clave privada para autenticaci贸n) </li><li>  Haga clic en <b>Abrir</b> y luego acepte confiar en el servidor <br></li><li>  Si especific贸 una frase de contrase帽a al crear una clave ppk, ingr茅sela para confirmar la entrada: <br><br><pre> <code class="bash hljs">Using username <span class="hljs-string"><span class="hljs-string">"ubuntu"</span></span>. Authenticating with public key <span class="hljs-string"><span class="hljs-string">"imported-openssh-key"</span></span> Passphrase <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> key <span class="hljs-string"><span class="hljs-string">"imported-openssh-key"</span></span>:</code> </pre><br></li><li>  Est谩s en el servidor <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hn/tp/r-/hntpr-ztewfqqfvkbv1sonlk_by.png" alt="Inicio de sesi贸n exitoso en el servidor"></div><br></li></ul><br></div></div><br><h3>  Paso 6. Copiar claves de una instancia temporal al original </h3><br>  Monte el volumen que conect贸 a la instancia temporal para poder acceder a su sistema de archivos. <br><br><div class="spoiler">  <b class="spoiler_title">Partici贸n de montaje</b> <div class="spoiler_text">  Por ejemplo, si el nombre de la unidad es <code>/dev/sdf</code> (puede aparecer de manera diferente en su instancia), use las siguientes operaciones para montar el volumen en <code>/mnt/tempvol</code> : <br><br><ul><li>  Determine los nombres de partici贸n de la unidad asignada: <br><br> <code>[user ~]$ <b>lsblk</b></code> <br> <br><pre> <code class="bash hljs">NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT xvda 202:0 0 10G 0 disk xvda1 202:1 0 10G 0 part / xvdf 202:80 0 10G 0 disk xvdf1 202:81 0 10G 0 part</code> </pre><br>  <code>/dev/xvda1</code> y <code>/dev/xvdf1</code> son particiones de disco.  <code>/dev/xvdf1</code> no tiene un punto de montaje (MOUNTPOINT), por lo que esta es la partici贸n del disco que conectamos anteriormente. <br></li><li>  Cree un directorio temporal para montar la partici贸n: <br><br> <code>[user ~]$ <b>sudo mkdir /mnt/tempvol</b></code> </li> <li>  Monte la partici贸n en el directorio creado: <br><br> <code>[user ~]$ <b>sudo mount /dev/ <font color="#ff0000">xvdf1</font> /mnt/tempvol</b></code> <br> </li></ul><br></div></div><br>  Copie las claves SSH de la instancia temporal a la partici贸n montada. <br><br>  <i><b>Atencion</b></i>  <i>Use el nombre de usuario provisto en la l铆nea de comando.</i>  <i>Esto es necesario, porque a pesar del hecho de que se ha conectado con 茅xito con un nombre de usuario est谩ndar, que depende del sistema operativo (descrito en el paso 5), en el AMI de AWS Marketplace puede ser diferente despu茅s de iniciar sesi贸n.</i>  <i>Por ejemplo, para AMI WordPress Certified by Bitnami, al iniciar sesi贸n a trav茅s de SSH, el inicio de sesi贸n est谩ndar para Ubuntu es <code>ubuntu</code> .</i>  <i>Sin embargo, el nombre de usuario despu茅s de iniciar sesi贸n es <code>bitnami</code></i> <br><br><div class="spoiler">  <b class="spoiler_title">Copiar llaves</b> <div class="spoiler_text">  Por ejemplo, si el nombre de usuario es <code>ubuntu</code> , use el siguiente comando para copiar: <br><br> <code>[user ~]$ <b>cp .ssh/authorized_keys /mnt/tempvol/home/ <font color="#ff0000">ubuntu</font> /.ssh/authorized_keys</b> <br></code> <br>  Si no tiene permiso para editar los archivos en <code>/mnt/tempvol</code> , copie los archivos con <code>sudo</code> y verifique los derechos para asegurarse de que puede acceder a la instancia original: <br><br><ul><li>  Verifique los permisos de archivo: <br><br> <code>[user ~]$ <b>sudo ls -l /mnt/tempvol/home/ <font color="#ff0000">ubuntu</font> /.ssh/authorized_keys</b></code> <br> <code>total 4</code> <br> <code>-rw------- 1 <font color="#ff0000">200</font> <font color="#ff0000">500</font> 392 Aug 15 00:06 authorized_keys</code> <br> <br>  En el ejemplo, 200 es la ID de usuario y 500 es la ID de grupo. <br></li><li>  Reinicie el comando de copia clave usando <code>sudo</code> : <br><br> <code>[user ~]$ <b>sudo cp .ssh/authorized_keys /mnt/tempvol/home/ <font color="#ff0000">ubuntu</font> /.ssh/authorized_keys</b> <br></code> <br></li><li>  Compruebe si los permisos en el archivo han cambiado: <br><br> <code>[user ~]$ <b>sudo ls -l /mnt/tempvol/home/ <font color="#ff0000">ubuntu</font> /.ssh/authorized_keys</b></code> <br> <br>  Si los derechos han cambiado, resta煤relos: <br><br> <code>[user ~]$ <b>sudo chown <font color="#ff0000">200</font> : <font color="#ff0000">500</font> /mnt/tempvol/home/ <font color="#ff0000">ubuntu</font> /.ssh/authorized_keys</b></code> <br> </li></ul><br></div></div><br>  Desmontar la secci贸n: <br><br> <code>[user ~]$ <b>sudo umount /mnt/tempvol</b></code> <br> <br><h3>  Paso 7. Iniciar la instancia con acceso restaurado a trav茅s de SSH </h3><br><ul><li>  En la consola EC2, seleccione la unidad que conect贸 a la temporal y en el men煤: <b>Acciones - Separar volumen</b> .  Espere hasta que el estado del disco est茅 <b>disponible</b> (puede usar el bot贸n <b>Actualizar</b> para actualizar la informaci贸n). <br><br>  <i>Recuerde terminar previamente la instancia si la secci贸n contiene c贸digos de AWS Marketplace.</i> <br></li><li>  Para la misma unidad, vaya al men煤 <b>Acciones - Adjuntar volumen</b> </li><li>  Seleccione la instancia original y especifique el nombre del disco ra铆z que grab贸 al principio. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uq/u_/6o/uqu_6okxfqdxqk4e6tpcers5roc.png" alt="Conexi贸n de la unidad"></div>  <i>Imagen en la que se puede hacer clic</i> <br><br>  Haga clic en <b>Adjuntar</b> <br></li><li>  Ejecutar instancia </li><li>  Para <b>EC2-classic</b> : si <b>Elastic IP</b> se configur贸 para la instancia original, vuelva a asociarlo con ella: <br><br><ul><li>  Vaya a la secci贸n <b>Elastic IP</b> de la barra de navegaci贸n. </li><li>  Seleccione la direcci贸n <b>IP el谩stica</b> que anot贸 al principio </li><li>  Pr贸ximas <b>acciones: direcci贸n asociada</b> </li><li>  Seleccione el <b>ID de</b> instancia original y haga clic en <b>Asociar</b> </li></ul><br></li></ul><br><h3>  Paso 8. Verificaci贸n de acceso </h3><br>  Con茅ctese a la instancia de acceso restaurada utilizando la clave generada. <br><br>  <i>Si el nombre del nuevo par de claves es diferente del anterior, aseg煤rese de conectarse utilizando la nueva clave privada.</i> <br><br><h3>  Paso 9. La etapa final </h3><br>  Si cre贸 una nueva instancia temporal para realizar todas las operaciones y no utiliz贸 una existente, det茅ngala si ya no la necesita: <br><br><ul><li>  Vaya a la secci贸n <b>Instancias</b> de la barra de navegaci贸n. </li><li>  Elige una instancia temporal </li><li>  Siguiente en el men煤 <b>Acciones - Estado de instancia - Terminar</b> </li></ul><br>  De esta forma recuper贸 el acceso a la instancia de Linux Amazon EC2. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es420297/">https://habr.com/ru/post/es420297/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es420285/index.html">MPRU, ingresos y c贸mo se relaciona con los ingresos y la din谩mica de la base de clientes</a></li>
<li><a href="../es420289/index.html">C贸mo ajustamos las tablas en la pantalla del tel茅fono inteligente y las unificamos como parte del sistema de dise帽o</a></li>
<li><a href="../es420291/index.html">Spectre y Meltdown ya no son los ataques m谩s peligrosos en las CPU de Intel. Investigadores informan vulnerabilidad de previsi贸n</a></li>
<li><a href="../es420293/index.html">33 servidores de dos unidades con 13 TB de RAM y 0.6 PT de almacenamiento distribuido: 驴por qu茅 es esto un m铆nimo para UBA proactivo?</a></li>
<li><a href="../es420295/index.html">NeoQUEST-2018: el tan esperado Cold Boot, investigaci贸n cient铆fica e invitados de Nizhny Novgorod</a></li>
<li><a href="../es420299/index.html">Mis ejemplos favoritos de programaci贸n funcional en Kotlin</a></li>
<li><a href="../es420301/index.html">Primer ministro indio Narendra Modi: enviaremos la bandera del pa铆s al espacio a bordo del Gaganyan en 2022</a></li>
<li><a href="../es420303/index.html">Equilibrio de carga al analizar sitios y conectar recursos en la nube adicionales</a></li>
<li><a href="../es420305/index.html">驴C贸mo escribir programas en la uni贸n del desarrollo m贸vil y los algoritmos? Yandex concurso e historias</a></li>
<li><a href="../es420307/index.html">5 trucos CSS que debes conocer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>