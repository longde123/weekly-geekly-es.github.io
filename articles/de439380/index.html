<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèáüèæ üë≤üèø üïµüèº Wie ich eine Erweiterung f√ºr Atom und VS Code erstellt habe: pers√∂nliche Erfahrungen und Quellen üë®üèª‚Äçüè≠ ü•• üëÜüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sie haben f√ºr Sie einen Artikel von Philip Korea √ºber die Entwicklung von Erweiterungen f√ºr Atom- und VS-Code-Editoren √ºbersetzt. Projekte k√∂nnen nich...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie ich eine Erweiterung f√ºr Atom und VS Code erstellt habe: pers√∂nliche Erfahrungen und Quellen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skillbox/blog/439380/"><img src="https://habrastorage.org/getpro/habr/post_images/ed1/5a8/1ef/ed15a81ef9dd6a49c1247f3d4d0f3d65.jpg" alt="Bild"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sie haben</a> f√ºr Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einen Artikel von Philip Korea</a> √ºber die Entwicklung von Erweiterungen f√ºr Atom- und VS-Code-Editoren √ºbersetzt.  Projekte k√∂nnen nicht als komplex bezeichnet werden, aber dies ist ihr Vorteil: Sie k√∂nnen sofort verstehen, was getan werden muss, um Ihre eigene Erweiterung zu erstellen. <br><br>  Als der Atom-Editor zum ersten Mal vorgestellt wurde, war ich, wie viele Webentwickler, begeistert.  "Oh cool, ein erweiterbarer Editor, der auf dem Stapel aufgebaut ist, den ich kenne", dachte ich damals.  Und begann sofort, die F√§higkeiten des Editors sowie Tausender anderer Entwickler zu erweitern. <br><br>  Ich arbeite √ºbrigens aus zwei Gr√ºnden mit Atom.  Erstens gibt es jede Woche tolle Erweiterungen.  Das zweite - ich kenne den Stack und kann problemlos damit arbeiten und meine eigenen Versionen von Erweiterungen erstellen. <br><a name="habracut"></a><br><blockquote>  <b>Wir erinnern Sie daran:</b> <i>F√ºr alle Leser von ‚ÄûHabr‚Äú - ein Rabatt von 10.000 Rubel bei der Anmeldung f√ºr einen Skillbox-Kurs mit dem Promo-Code ‚ÄûHabr‚Äú.</i> <br><br>  <b>Skillbox empfiehlt:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Der</a> Online-Kurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Frontend Developer Profession</a> . <br></blockquote><br><h3>  Gro√üe Cursorerweiterung </h3><br>  Als Atom herauskam, programmierte ich Slim, Sass und CoffeeScript.  Dann kannte ich keine anderen M√∂glichkeiten, um die Einr√ºckung zu bearbeiten, au√üer der √ºblichsten - jede Einr√ºckung einzeln zu √§ndern.  Es war manchmal schwierig, die Fertigstellung eines Blocks zu bestimmen, deshalb habe ich beschlossen, das Aussehen des Cursors zu √§ndern.  Ich wollte daraus ein Lineal machen, mit dem Sie alles genau messen k√∂nnen.  Hier ist ein Beispiel: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7c6/b89/06f/7c6b8906f44db314f022418da30a1a10.gif"><br><br>  Um dies zu verstehen, habe ich die Atom-Entwicklertools studiert, ein Cursorelement ausgew√§hlt und es dann mithilfe von CSS ge√§ndert.  So gelang es mir, so etwas wie einen Proof of Concept zu bekommen - ich erkannte, dass meine Idee realisierbar war. <br><br>  Als n√§chstes habe ich die Dokumentation (erneut) studiert, um herauszufinden, wie Sie einen Befehl registrieren und die √Ñnderungen auf die Cursorklasse anwenden k√∂nnen.  Die erste Iteration war sehr einfach. <br><br><pre><code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = activate: (state) -&gt; atom.workspaceView.command <span class="hljs-string"><span class="hljs-string">'big-cursor:toggle'</span></span>, @toggle toggle: ()-&gt; atom.workspaceView.getActiveView() .find(<span class="hljs-string"><span class="hljs-string">".cursor"</span></span>).toggleClass(<span class="hljs-string"><span class="hljs-string">"big-cursor"</span></span>) .big-cursor { <span class="hljs-attr"><span class="hljs-attr">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> !important; height:<span class="hljs-number"><span class="hljs-number">100</span></span>%; }</code> </pre> <br>  Dies ist eine einfache und funktionierende Erweiterung. <br><br>  Was ist mit ihm passiert? <br><br>  Nichts Besonderes, ich habe es geschrieben, als noch Atom Version 1.0 nicht da war, also hat sich die API sp√§ter ge√§ndert, aber ich brauchte die Erweiterung nicht mehr und habe aufgeh√∂rt, sie zu unterst√ºtzen. <br><br><h3>  VS-Code </h3><br>  Nach ein paar Jahren entschied ich mich, zu VS Code zu wechseln.  Der Einfachheit halber habe ich die Erweiterung verwendet, mit der Sie die erforderlichen Parameter, z. B. Variablennamen, schnell √§ndern k√∂nnen.  Aber ich musste st√§ndig in ein Team eintreten, um diese √Ñnderungen vorzunehmen.  Und ich wollte sie nicht an irgendwelche Tasten auf der Tastatur binden, also begann ich Optionen f√ºr die Arbeit mit Aliasen in der ZSH-Shell in Betracht zu ziehen. <br><br>  ZSH hat viele Plugins und Sie k√∂nnen kurze Versionen von Befehlen verwenden, um sie auszuf√ºhren.  Beispiel - Das Ausf√ºhren des git checkout-Plugins kann mit gco und das Rails-Server-Plugin mit dem Befehl rs erfolgen. <br><br>  Tats√§chlich k√∂nnte ich f√ºr ein Team wie Change Case Snake Case einfach die ersten Buchstaben aller W√∂rter eingeben, dh all dies mit der Abk√ºrzung ccsc ausf√ºhren. <br><br>  <b>Schreiben einer Erweiterung f√ºr VS Code</b> <br><br>  Also begann ich die M√∂glichkeiten zum Erstellen von Erweiterungen zu erkunden.  Mit einigen Punkten war ich bereits ein wenig vertraut, da ich Scry (den Sprachserver f√ºr Crystal) erg√§nzt und die Crystal-Erweiterung f√ºr VS-Code studiert habe. <br><br>  Also wurde es mit dem Yeoman-Generator erstellt.  Es sah so aus: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7c8/e45/ec7/7c8e45ec771b89f03cec1fea01cc3a29.png"><br><br>  Die Basis der Typescript-Erweiterung ist sehr praktisch.  Sie k√∂nnen alles mit tsconfig konfigurieren (was jedoch bedeutet, dass Typescript-Dateien h√§ufig einen Fehler verursachen und nicht kompilieren), aber Sie k√∂nnen die zweite Option ausw√§hlen - tslint. <br><br>  Nachdem der Generator konfiguriert wurde, haben Sie die Erweiterung "Hallo Welt", die den Protokollierungsbefehl "Hallo Welt" hinzuf√ºgt.  Das Projekt verwendet VS Code-Debugging-Aufgaben, damit Sie eine Instanz von VS Code mit aktivierter Erweiterung ausf√ºhren k√∂nnen.  All dies kann bei Bedarf einfach durch Hinzuf√ºgen von Haltepunkten konfiguriert werden.  Dadurch k√∂nnen Sie die API problemlos erlernen. <br><br>  Um die Erweiterung zu erstellen, die ich ben√∂tige, muss ich einige Dinge wissen: <br><br><ul><li>  So erstellen Sie ein Palettenfeld, in dem der Benutzer arbeiten kann. </li><li>  So filtern Sie das Palettenfeld, um Befehle nach ihren vom Benutzer eingegebenen Kurzversionen anzuzeigen. </li><li>  So erhalten Sie alle verf√ºgbaren Befehle, damit direkt im Fenster nach etwas gesucht werden kann. </li><li>  So f√ºhren Sie einen Befehl aus. </li></ul><br>  Ich musste mich in die Dokumentation vertiefen, um alle Daten zu erhalten.  Die API ist sehr begrenzt, dies ist ein Problem.  Aber ich habe getan, was ich geplant hatte. <br><br>  <b>1. Palettenfeld</b> <br><br>  Sie m√ºssen hierf√ºr nicht auf das DOM oder die Ansichten zugreifen.  Hier gibt es eine Reihe von Ansichten, die Sie verwenden k√∂nnen (eine davon ist ein HTML-Bereich).  Es gab eine Pr√§sentation f√ºr die Palettenbox, so dass ich verstehen konnte, wie das alles funktioniert. <br><br>  <b>2. Filtern des Palettenfelds</b> <br><br>  Ich musste es hier versuchen, da die QuickPick-API keine solche M√∂glichkeit bietet.  Aber er hat ein Ereignis, das jedes Mal abgefangen werden kann, wenn ein Benutzer etwas eingibt. Ich √§ndere einfach die Liste der Optionen.  Diese Option funktioniert √ºberraschend gut. <br><br><pre> <code class="javascript hljs"> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> disposable = vscode.commands.registerCommand(<span class="hljs-string"><span class="hljs-string">'short-commands.activatePalette'</span></span>, () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> list = vscode.window.createQuickPick&lt;CommandOption&gt;<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">list</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">placeholder</span></span></span><span class="hljs-function"> = "</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Hello</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">type</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">some</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">stuff</span></span></span><span class="hljs-function">"; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">list</span></span></span><span class="hljs-function">.</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onDidChangeValue</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ee</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ee.length === <span class="hljs-number"><span class="hljs-number">0</span></span>) { list.items = []; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { list.items = options.filter(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) =&gt;</span></span> e.short.startsWith(ee)) } }); });</code> </pre> <br>  <b>3. Holen Sie sich eine Liste der verf√ºgbaren Befehle</b> <br><br>  Auch hier gibt es Schwierigkeiten, Sie k√∂nnen eine Liste anderer installierter Erweiterungen erhalten.  F√ºr alle m√ºssen Sie auf die eigene package.json zugreifen. <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parseExtensionCommands</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> extensions: Extension&lt;any&gt;[] </span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CommandOption</span></span></span><span class="hljs-function">[] </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> options: CommandOption[] = []; extensions.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ext</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> { <span class="hljs-attr"><span class="hljs-attr">packageJSON</span></span>: { <span class="hljs-attr"><span class="hljs-attr">contributes</span></span>: { commands } = { <span class="hljs-attr"><span class="hljs-attr">commands</span></span>: [] } } } = ext; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (commands) { commands.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">c: Command</span></span></span><span class="hljs-function">) =&gt;</span></span> { options.push(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CommandOption(c)); }); } }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> options; }</code> </pre> <br>  <b>4. Befehlsausf√ºhrung</b> <br><br>  Nun, hier ist alles einfach. Wir wenden uns an die API, um den gew√ºnschten Befehl aufzurufen. <br><br>  vscode.commands.executeCommand (list.activeItems [0] .command.command) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b83/64c/00a/b8364c00ac8a67d15d9a20c51352f63e.gif"><br><br><h3>  Als Fazit </h3><br>  Das ist alles, was ich f√ºr die Redakteure getan habe.  Mein Ziel war es zu zeigen, wie Sie mit der Entwicklung Ihrer eigenen Erweiterungen beginnen k√∂nnen.  Hier ist eine Liste von dem, was ich in meiner Arbeit verwendet habe, sowie die Quelle der Projekte: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">Atom Extension Big Cursor</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">VSCode Extension Short Commands</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">VSCode-Erweiterungs-API</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">VSCode-Repo-Samples</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="noopener">Scry</a> </li></ul><br><blockquote>  <b>Skillbox empfiehlt:</b> <br><br><ul><li>  Praktikum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Mobile Developer PRO"</a> </li><li>  Online-Kurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Web Developer Profession"</a> </li><li>  Zweij√§hriger Praktikumskurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"Ich bin ein PRO-Webentwickler</a> . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"</a> </li></ul></blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de439380/">https://habr.com/ru/post/de439380/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de439370/index.html">Vom Server bereitgestellte Animationen in iOS-Apps</a></li>
<li><a href="../de439372/index.html">Willst du einen Detektiv spielen? Finden Sie den Fehler in einer Funktion von Midnight Commander</a></li>
<li><a href="../de439374/index.html">F√ºr diejenigen, die Detektiv spielen m√∂chten: Finden Sie den Fehler in der Funktion von Midnight Commander</a></li>
<li><a href="../de439376/index.html">Interessenclub</a></li>
<li><a href="../de439378/index.html">Buch (des Seins?). Reflexionen √ºber die Natur des Geistes. Teil I.</a></li>
<li><a href="../de439382/index.html">Mit Ansible, Terraform, Docker, Consul, Nomad in den Wolken (Alexey Vakhov, Uchi.ru)</a></li>
<li><a href="../de439384/index.html">Metropolis-Modellierung</a></li>
<li><a href="../de439388/index.html">Roboter im Journalismus oder Verwendung k√ºnstlicher Intelligenz zum Erstellen von Inhalten</a></li>
<li><a href="../de439390/index.html">Die besten Innovationen sozialer Netzwerke im Jahr 2018</a></li>
<li><a href="../de439392/index.html">Die Meisterschaftssaison 2019 ist er√∂ffnet! Das SNA Hackathon Ala ML Boot Camp 8 startet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>