<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê• üÜì ‚åöÔ∏è Git arrive! 6 Erreurs Git courantes et comment les corriger üè¶ üÖ±Ô∏è üßùüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Remarque perev. : Il y a quelques jours, une petite mais tr√®s utile note est apparue dans le blog pour les ing√©nieurs de notre projet GitLab pr√©f√©r√© a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Git arrive! 6 Erreurs Git courantes et comment les corriger</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/419733/"><img src="https://habrastorage.org/webt/n_/nq/m6/n_nqm6jyinrnpra6in4_sfpjhgy.png"><br><br>  <i><b>Remarque</b></i>  <i><b>perev.</b></i>  <i>: Il y a quelques jours, une petite mais tr√®s utile note est apparue dans le blog pour les ing√©nieurs de notre projet GitLab pr√©f√©r√© avec des instructions qui aident √† gagner du temps et des nerfs en cas de divers probl√®mes qui surviennent lorsque vous travaillez avec Git.</i>  <i>Il est peu probable qu'ils soient nouveaux pour les utilisateurs exp√©riment√©s, mais il y aura certainement ceux √† qui ils seront utiles.</i>  <i>Et √† la fin de ce document, nous avons ajout√© un petit bonus de nous-m√™mes.</i>  <i>Passez un bon vendredi!</i> <br><br>  Nous commettons tous des erreurs, en particulier lorsque nous travaillons avec des syst√®mes complexes comme Git.  Mais souvenez-vous: Git arrive! <a name="habracut"></a><br><br>  Si vous d√©butez avec Git, apprenez les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bases de son utilisation</a> sur la ligne de commande.  Et ici, je vais vous expliquer comment vous pouvez corriger les six erreurs les plus courantes dans Git. <br><br><h2>  1. Oups ... je me suis tromp√© dans le message au dernier commit </h2><br>  Apr√®s plusieurs heures de codage, il est facile de se tromper dans le message de validation.  Heureusement, cela est facile √† r√©soudre: <br><br><pre><code class="bash hljs">git commit --amend</code> </pre> <br>  Avec cette commande, un √©diteur de texte s'ouvrira et vous permettra d'apporter des modifications au message au dernier commit.  Et personne ne saura que vous avez √©crit ¬´ajout√©¬ª avec trois ¬´d¬ª. <br><br><h2>  2. Oups ... J'ai oubli√© d'ajouter le fichier au dernier commit </h2><br>  Un autre bogue populaire dans Git est un commit trop h√¢tif.  Avez-vous oubli√© d'ajouter le fichier, oubli√© de l'enregistrer ou devez-vous apporter une petite modification pour que le commit soit significatif?  Votre ami sera √† nouveau <code>--amend</code> . <br><br>  Ajoutez le fichier manquant et ex√©cutez cette commande correcte: <br><br><pre> <code class="bash hljs">git add missed-file.txt git commit --amend</code> </pre> <br>  Vous pouvez maintenant soit corriger le message, soit simplement l'enregistrer dans sa forme d'origine (avec le fichier ajout√©). <br><br><h2>  3. Oups ... J'ai ajout√© un fichier qui ne devrait pas se trouver dans ce r√©f√©rentiel </h2><br>  Mais que faire si vous avez la situation inverse?  Que faire si vous avez ajout√© un fichier que vous ne souhaitez pas valider?  Un fichier ENV trompeur, un r√©pertoire de construction ou une photo avec un chat qui a √©t√© accidentellement enregistr√© dans le mauvais r√©pertoire ... Tout est r√©solu. <br><br>  Si vous n'avez fait que l' <i>√©tape</i> du fichier et que vous ne l'avez pas encore engag√©, tout se fait par une simple <i>r√©initialisation du</i> fichier souhait√© (situ√© dans l'√©tape): <br><br><pre> <code class="bash hljs">git reset /assets/img/misty-and-pepper.jpg</code> </pre> <br>  Si vous validez toujours la modification, une √©tape pr√©liminaire suppl√©mentaire est requise: <br><br><pre> <code class="bash hljs">git reset --soft HEAD~1 git reset /assets/img/misty-and-pepper.jpg rm /assets/img/misty-and-pepper.jpg git commit</code> </pre> <br>  La validation sera annul√©e, l'image sera supprim√©e, puis une nouvelle validation sera effectu√©e. <br><br>  <i><b>Remarque</b></i>  <i><b>perev.</b></i>  <i>: Comme indiqu√© dans les commentaires sur l'article d'origine, ce probl√®me peut √©galement √™tre r√©solu en utilisant le <code>--amend</code> d√©j√† mentionn√©.</i>  <i>Apparemment, avec ce paragraphe, l'auteur a voulu montrer ce qu'il y avait d'autre pour changer l'historique des commits pour corriger l'erreur.</i> <br><br><h2>  4. Oups ... J'ai commis des modifications au ma√Ætre </h2><br>  Donc, vous travaillez sur une nouvelle fonctionnalit√© et vous √™tes press√©, oubliant de cr√©er une nouvelle branche pour elle.  Vous avez d√©j√† valid√© un tas de fichiers et toutes ces validations sont dans le ma√Ætre.  Heureusement, GitLab <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">peut emp√™cher</a> push'y directement dans master.  Par cons√©quent, nous pouvons annuler toutes les modifications n√©cessaires dans une nouvelle branche avec les trois commandes suivantes: <br><br>  <i><b>Remarque</b> : assurez-vous de valider ou de <i>cacher</i> les z√©ros en premier, vos modifications - sinon elles seront toutes perdues!</i> <br><br><pre> <code class="bash hljs">git branch future-brunch git reset HEAD~ --hard git checkout future-brunch</code> </pre> <br>  Une nouvelle branche sera cr√©√©e, en master - une restauration est effectu√©e √† l'√©tat dans lequel elle se trouvait avant vos modifications, puis une <i>extraction de la</i> nouvelle branche est effectu√©e avec toutes vos modifications. <br><br><h2>  5. Oups ... J'ai fait une erreur au nom de la succursale </h2><br>  Les plus attentifs ont pu remarquer dans l'exemple pr√©c√©dent une erreur dans le nom de la branche.  Il est presque 15 heures et je n'ai toujours pas d√Æn√©, donc ma faim a appel√© la nouvelle branche ( <i>br <b>a</b> nch</i> ) comme <i>future-br <b>u</b> nch</i> .  Goodies! <br><br><img src="https://habrastorage.org/webt/m0/lw/uh/m0lwuheyhfeewx0culyotitcaqg.png"><br><br>  Renommez cette branche de la m√™me mani√®re que lorsque vous renommez un fichier √† l'aide de la commande <i>mv</i> , c'est-√†-dire en le pla√ßant dans un nouvel emplacement avec le nom correct: <br><br><pre> <code class="bash hljs">git branch -m future-brunch feature-branch</code> </pre> <br>  Si vous poussez d√©j√† cette branche, vous aurez besoin de quelques √©tapes suppl√©mentaires.  Nous allons supprimer l'ancienne branche de la <i>t√©l√©commande</i> et pousser la nouvelle: <br><br><pre> <code class="bash hljs">git push origin --delete future-brunch git push origin feature-branch</code> </pre> <br>  <i><b>Remarque</b></i>  <i><b>perev.</b></i>  <i>: Vous pouvez toujours supprimer une branche de la t√©l√©commande √† l'aide de:</i> <br><br><pre> <code class="bash hljs">git push origin :future-brunch</code> </pre> <br><h2>  6. Oups ... je l'ai encore fait! </h2><br>  La derni√®re commande en cas de probl√®me.  Lorsque vous avez accumul√© et pouss√© un tas de solutions avec Stack Overflow, apr√®s quoi tout dans le r√©f√©rentiel est devenu encore pire qu'au d√©but.  Nous avons tous fait face √† une situation similaire ... <br><br>  <code>git reflog</code> affiche une liste de toutes les op√©rations que vous avez effectu√©es.  Ensuite, il vous permet d'utiliser les capacit√©s de voyage dans le temps magiques de Git, c'est-√†-dire  revenir √† n'importe quel moment du pass√©.  Je dois noter que c'est votre dernier espoir - vous ne devriez pas y recourir dans des cas simples.  Donc, pour obtenir la liste, faites: <br><br><pre> <code class="bash hljs">git reflog</code> </pre> <br>  Chacune de nos √©tapes est sous l'≈ìil vigilant de Git.  La gestion de l'√©quipe sur le projet ci-dessus a produit les √©l√©ments suivants: <br><br><pre> <code class="bash hljs">3ff8691 (HEAD -&gt; feature-branch) HEAD@{0}: Branch: renamed refs/heads/future-brunch to refs/heads/feature-branch 3ff8691 (HEAD -&gt; feature-branch) HEAD@{2}: checkout: moving from master to future-brunch 2b7e508 (master) HEAD@{3}: reset: moving to HEAD~ 3ff8691 (HEAD -&gt; feature-branch) HEAD@{4}: commit: Adds the client logo 2b7e508 (master) HEAD@{5}: reset: moving to HEAD~1 37a632d HEAD@{6}: commit: Adds the client logo to the project 2b7e508 (master) HEAD@{7}: reset: moving to HEAD 2b7e508 (master) HEAD@{8}: commit (amend): Added contributing info to the site dfa27a2 HEAD@{9}: reset: moving to HEAD dfa27a2 HEAD@{10}: commit (amend): Added contributing info to the site 700d0b5 HEAD@{11}: commit: Addded contributing info to the site efba795 HEAD@{12}: commit (initial): Initial commit</code> </pre> <br>  Faites attention √† la colonne la plus √† gauche - c'est l'indice.  Si vous souhaitez revenir √† n'importe quel point de l'historique, ex√©cutez la commande suivante, en rempla√ßant <code>{index}</code> par la valeur appropri√©e (par exemple, <code>dfa27a2</code> ): <br><br><pre> <code class="bash hljs">git reset HEAD@{index}</code> </pre> <br>  Donc, maintenant, vous avez six fa√ßons de sortir des Gitfalls les plus fr√©quents <i>(jeu de mots: pi√®ge se traduit par ¬´pi√®ge, erreur¬ª - <b>environ Transl.</b> )</i> . <br><br><h2>  Bonus du traducteur </h2><br>  Tout d'abord, un pr√©cieux commentaire sur tout ce qui est √©crit ci-dessus (√† l'exception du paragraphe 5).  Gardez √† l'esprit que ces actions modifient l'historique des validations, elles ne doivent donc √™tre effectu√©es que si les modifications n'ont pas √©t√© envoy√©es √† <i>distance</i> (push'nut).  Sinon, l'ancien mauvais commit sera d√©j√† sur la branche <i>distante</i> et vous devrez soit effectuer <code>git pull</code> (ce que la <i>fusion</i> fera, puis essayer de ¬´vider¬ª l'historique entra√Ænera de pires cons√©quences), ou <code>git push --force</code> , qui est lourd de perte de donn√©es lorsque vous travaillez avec une branche de plusieurs personnes ... <br><br><img src="https://habrastorage.org/webt/b5/a3/jo/b5a3jomkgjnpqnzncgub0ok9xng.jpeg"><br><br>  Maintenant - petits ajouts utiles de notre exp√©rience: <br><br><ul><li>  Si vous (accidentellement ou non) avez chang√© de branche et que vous devez revenir √† la pr√©c√©dente, le moyen le plus rapide est d'utiliser <code>git checkout -</code> . </li><li>  Si vous avez accidentellement ajout√© un fichier au commit qui ne devrait pas y √™tre ajout√©, mais que vous ne l'avez pas encore fait, utilisez <code>git reset HEAD path/to/file</code> .  Une situation similaire est d√©crite au paragraphe 3, mais en r√©alit√© elle est plus large, car  fait r√©f√©rence √† toute modification inutile de la validation (pas seulement le cas d'un fichier suppl√©mentaire). </li><li>  Il est recommand√© de ne pas trop commettre, en utilisant l'option <code>-p</code> lors de l'ajout d'un fichier √† une validation ( <code>git add -p</code> ).  Cela vous permet de revoir chaque modification apport√©e au commit.  Mais il convient de se rappeler qu'il n'ajoute pas de fichiers non suivis au commit - ils doivent √™tre ajout√©s sans ce param√®tre. </li><li>  Un certain nombre de bonnes recommandations (y compris des recommandations plus complexes) peuvent √™tre trouv√©es dans l'article de 2014 ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tutoriel Git: 10 probl√®mes Git courants et comment les r√©soudre</a> ¬ª.  Notez en particulier l'utilisation de <code>git revert</code> et <code>git rebase -i</code> . </li></ul><br><h2>  PS du traducteur </h2><br>  Lisez aussi dans notre blog: <br><br><ul><li>  ¬´GitLab CI pour une int√©gration et une livraison continues en production¬ª: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1 (notre pipeline)</a> ;  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2 (surmonter les difficult√©s)</a> ; </li><li>  ¬´ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Meilleures pratiques CI / CD avec Kubernetes et GitLab (revue et rapport vid√©o)</a> ¬ª; </li><li>  " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cr√©ez des projets avec GitLab CI: un .gitlab-ci.yml pour des centaines d'applications</a> ." </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr419733/">https://habr.com/ru/post/fr419733/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr419721/index.html">Biomarqueurs du vieillissement. Panel de fragilit√©. Partie 1</a></li>
<li><a href="../fr419725/index.html">Fl√©chettes, d√©s et pi√®ces: algorithmes de distribution discrets</a></li>
<li><a href="../fr419727/index.html">Harbor - un registre pour les conteneurs Docker pr√™ts √† l'emploi</a></li>
<li><a href="../fr419729/index.html">√âv√©nement caritatif ¬´Donner des ailes aux enfants¬ª</a></li>
<li><a href="../fr419731/index.html">Mini-revue de l'imprimante 3D photopolym√®re dentaire MoonRay S</a></li>
<li><a href="../fr419735/index.html">Examen du signal I / Q avec SDR √† l'aide d'Adobe Audition</a></li>
<li><a href="../fr419743/index.html">Quel est le probl√®me avec les articles populaires qui disent que foo est plus rapide que bar?</a></li>
<li><a href="../fr419745/index.html">Genre classique de l'IA: ML se cherche dans la po√©sie</a></li>
<li><a href="../fr419747/index.html">DJI Ronin S - Premier lancement et fonctionnalit√©s cl√©s</a></li>
<li><a href="../fr419761/index.html">Cr√©ez un jeu 2D en Python avec la biblioth√®que Arcade</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>