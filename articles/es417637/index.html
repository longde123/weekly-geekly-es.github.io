<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöÖ üö∂ üîÉ Desarrollo de un editor para crear sitios web / aterrizajes (experiencia) üßõüèº üò≠ ü§µüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="(Arte de http://www.simonstalenhag.se/ ) 
 Antecedentes / Descargo de responsabilidad 


 Hola a todos, este art√≠culo es de hecho material para mi dis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desarrollo de un editor para crear sitios web / aterrizajes (experiencia)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417637/"><p><img src="https://habrastorage.org/webt/6j/yl/ny/6jylnys0x91jmmt4g_hqy9mat1q.jpeg"><br>  (Arte de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">http://www.simonstalenhag.se/</a> ) </p><br><h3>  Antecedentes / Descargo de responsabilidad </h3><br><p>  Hola a todos, este art√≠culo es de hecho material para mi discurso del lunes en el marat√≥n de Kiev.  Pero no piense que usted es el p√∫blico en el que calculo el texto, es solo que me es m√°s f√°cil prepararme. </p><br><p>  Actualmente soy desarrollador front-end en Conductor / WeWork.  No desarrollamos editores, como yo, por las tardes, no desarrollamos tales cosas.  Se trata m√°s de la experiencia que recib√≠ en un proyecto anterior en UTI (abreviado), utipi, uti ...  Fue hace mucho tiempo, pero resulta que el tema es relevante hasta el d√≠a de hoy, as√≠ como las jambas asociadas con √©l. </p><br><p>  Por lo general, estamos hablando de sitios de tarjetas de visita, p√°ginas de destino y sitios m√°s o menos funcionales, pero ciertamente no se trata de oficinas administrativas o √°reas administrativas. </p><br><blockquote>  UTIEditor especial para ti &lt;3 </blockquote><br><h3>  ¬øPor qu√© necesitamos tales editores? </h3><br><p>  Hay muchas respuestas a esta pregunta, muchos de ustedes, estoy seguro de adivinar eso. <br>  Contestar√© esta pregunta desde el punto de vista de UTI, una empresa que brinda servicios de desarrollo de sitios web. </p><br><p>  UTI es esencialmente una empresa de bienes de consumo.  Estoy seguro de que, al mismo tiempo, cada uno, una docena de sitios de tarjetas de visita por persona, una docena de tiendas en l√≠nea y una marca de cerezas trabajaban en su propio tipo: su propio CMS. </p><br><p>  Entonces hiciste otra p√°gina de aterrizaje, un sitio de tarjetas de presentaci√≥n y se la diste al cliente, y √©l regresa en un d√≠a y le pide que cambie el texto.  Despu√©s de otro d√≠a, cambie el color de fondo y agregue solo una imagen.  Para el cliente, parece algo simple y r√°pido.  Es dif√≠cil discutir con eso, lo es.  Pero para usted, esto significa que debe sacar al desarrollador / dise√±ador de sus tareas actuales.  Sin mencionar el trabajo de un gerente que dedica tiempo a la comunicaci√≥n.  En consecuencia, usted factura y no es peque√±o.  El cliente est√° indignado y se queja.  La pr√≥xima vez, ya piensa con anticipaci√≥n sobre tales cosas y comienza a hacer preguntas, colocando la funcionalidad de edici√≥n en TK. </p><br><p>  Aqu√≠ quiz√°s valga la pena pasar a discutir esta funcionalidad, porque es muy diferente. <br>  Me gustar√≠a agregar que no incluir√© CMS como WrodPress, Drupal en esta conversaci√≥n, nos concentraremos en el mercado de editores. </p><a name="habracut"></a><br><h3>  Debry UTI </h3><br><p>  Lo primero que viene a la mente es hacer un formulario donde el usuario pueda cambiar lo que quiera: </p><br><p><img src="https://habrastorage.org/webt/jd/hu/0h/jdhu0hykoas1wvksoc1vhaurivk.png"></p><br><p>  Un poco fuera de la vida real, el nombre de los campos, pero la esencia que capt√≥. </p><br><p>  Desde el punto de vista de la empresa, ella cumpli√≥ con su deber e incluso se encarg√≥ de la "personalizaci√≥n".  Pero este enfoque todav√≠a tiene una serie de limitaciones. </p><br><p>  Las ventajas de este enfoque: </p><br><ul><li>  F√°cil de implementar </li><li>  F√°cil de usar </li><li>  Resuelve el problema </li></ul><br><p>  Contras de este enfoque: </p><br><ul><li>  No hay forma de cambiar el dise√±o. </li><li>  No hay forma de cambiar el comportamiento. </li><li>  Sin posicionamiento </li><li>  Puede editar solo lo que se coloc√≥ en el formulario </li></ul><br><p>  ¬ø <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ya</a> has pensado en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CKEeditor</a> ?  Estrella de todos los tiempos.  Por favor, d√© el siguiente paso para mejorar el contenido editable en el sitio. </p><br><p><img src="https://habrastorage.org/webt/u2/z8/l2/u2z8l2je3kdzcou8mcbbmdocs20.jpeg"></p><br><p>  Hay una especie de oportunidad para formatear el texto e incluso insertar algunos elementos adicionales.  En alg√∫n lugar de este lugar, antes de unirme a la empresa, los chicos tuvieron la idea de crear un editor de p√°ginas con arrastrar y soltar directamente en CKEditor.  Desafortunadamente no me quedaba nada que mostrar, pero trata de imaginar este horror :) </p><br><p>  Pero en este momento, 2018, por as√≠ decirlo, CKEditor ha progresado en esta direcci√≥n, lo cual es bastante, pero divertido.  ¬øQu√© no es una p√°gina completa? </p><br><p><img src="https://habrastorage.org/webt/hs/uv/5t/hsuv5tni9olhtsnh65sevvmg3di.png"></p><br><p>  Pero todo esto no era conveniente tanto en desarrollo como en uso.  Y conociendo solo backbone y jquery, me llam√© audazmente desarrollador front-end y decid√≠ ofrecerles desarrollar un editor completo, como Wix, Squarespace, Tilda, LPGenerator ... Entonces, de hecho, eran mis competidores.  Pero como UTI es una compa√±√≠a sin nombre, no lo sab√≠an.  Y no lo reconocieron y no lo reconocer√°n.  Aunque el patrocinador del marat√≥n es Wix.  Oh, esto es solo una coincidencia. </p><br><p>  No lo reconocieron, porque todo estaba de acuerdo con los cl√°sicos: a la empresa no le importaba el proyecto. </p><br><p>  Estos son dos screencasts, no son perfectos, con jambs, pero estoy seguro de que proporcionar√°n una idea general del editor. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/N6ViA0XCWxU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ArwNT9EZ2y8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Estaba solo en este proyecto.  Dise√±ador, gerente de producto, anverso y reverso, pero no hubo pruebas.  PERO la verdad fue que los probadores manuales, que vinieron a la compa√±√≠a, fueron atemperados por el incendio del reactor.  Los probadores, por supuesto, fueron divertidos.  ¬øQu√© entender√≠as del nivel? Una vez, uno de ellos fue eliminado: </p><br><p><img src="https://habrastorage.org/webt/0e/gx/vs/0egxvsufxxpgjoghgiwij23wrve.png"></p><br><p>  Y presentaron un error, dicen que el sitio est√° ca√≠do.  El tipo acaba de soltar el cable de Internet del sistema :) </p><br><p>  Cada vez, de una manera nueva, tuve que explicar qu√© se puede hacer en el editor, qu√© es imposible y por qu√© funciona de esta manera, y as√≠ es como funciona.  De hecho, para m√≠ fue divertido.  Una especie de retroalimentaci√≥n de primera l√≠nea.  Pr√°cticamente no hab√≠a clientes, y el editor evolucion√≥ en su mayor parte gracias a ellos. </p><br><p>  ¬øAlguien tiene alguna idea de qu√© pila us√©?  La aplicaci√≥n se ve genial, s√≥lida, por as√≠ decirlo.  No tiene errores, ya que no ten√≠a errores hace 5 a√±os. </p><br><p>  Ah, y qu√© impresionante proceso de CI / CD tengo.  Fui a la comida tanto como quisieras una vez al d√≠a.  Codificado con Filezilla, arrastrar y soltar, repetir.  Primero, con√©ctese a ftp usando filezilla, realice una compilaci√≥n, descargue la compilaci√≥n actual, col√≥quela en una carpeta llamada copia de seguridad, cargue una nueva compilaci√≥n y verifique si alguien muri√≥ all√≠.  Si muri√≥, carga el archivo desde la carpeta de copia de seguridad.  Pero, sinceramente, el momento con la copia de seguridad, no siempre lo hice, depend√≠a de un conjunto de nuevas funcionalidades.  Y dado que el editor estaba en varios proyectos, para decir que entr√© en cada uno y verifiqu√© para ver si ca√≠a all√≠, que no lo har√≠a.  Y todav√≠a usamos SVN, da sabor? </p><br><h3 id="chto-zhe-po-povodu-steka">  ¬øQu√© hay de la pila? </h3><br><p>  Backbone + jquery + 0 pruebas. </p><br><p>  M√≥dulo, carga as√≠ncrona, divisi√≥n de c√≥digo ala y renderizado en el servidor.  Entonces, dichos t√©rminos no se utilizaron espec√≠ficamente, era una simple optimizaci√≥n de facto.  ¬°Pero ahora es el momento del marketing en c√≥digo abierto y su revoluci√≥n! </p><br><p>  Lo que entender√≠as, el Wix de esa √©poca, ahora no difiere mucho del editor Wix.  Es que tiene m√°s plantillas, espacios en blanco y componentes terminados.  Migraron la reacci√≥n, completamente o no, no lo s√©.  Tiene errores exactamente de la misma manera, solo en macbooks con RAM de 16 gigabytes, con un sistema de renderizaci√≥n m√°s din√°mico llamado casa virtual y motores web geniales.  En proyectos de esta escala, las herramientas no juegan un papel especial, es m√°s una conversaci√≥n sobre arquitectura y UI / UX.  Y UI / UX es mucho m√°s importante.  La complejidad de la implementaci√≥n, el rendimiento y el nivel de deseo de suicidarse al crear sitios web por parte de su editor dependen de ello.  Los clientes generalmente estar√°n lejos del desarrollo, lejos de todas estas reglas CSS, propiedades, atributos DOM y par√°metros.  Entre ellos habr√° personas m√°s o menos versados ‚Äã‚Äãque atender√°n a sus clientes y se los llevar√°n en el futuro.  Pero no hablemos de cosas tristes, tratemos de considerar un poco m√°s a generaciones de editores. </p><br><p>  Los clientes, si les das la herramienta de edici√≥n perfecta, a√∫n no podr√°n usarla.  Sus artesan√≠as se ver√°n as√≠: </p><br><p><img src="https://habrastorage.org/webt/ee/cg/i9/eecgi9-bcho9jh_vhkpzz09jdbm.png"></p><br><p>  Esto es cierto y no es cierto, ya que la web es simplemente complicada para las humanidades y, por otro lado, en alg√∫n lugar hay una UI / UX ideal que te permite hacer un sitio web, hacer lo que quieras con el clic de un bot√≥n. </p><br><p>  Pero a veces es imposible y hay que buscar un t√©rmino medio. </p><br><h3 id="vizualnyy-html-redaktor">  Editor visual HTML </h3><br><p>  La tarea inicial era esta: hacer lo mismo que en CKEditor, para poder mover elementos (texto, im√°genes) y de alguna manera editarlos / formatearlos. </p><br><p>  Uno de los requisitos principales era la capacidad de cargar HTML personalizado para seguir trabajando. </p><br><p>  Comenc√© haciendo elementos en la p√°gina arrastrable.  Es decir, el usuario podr√≠a moverlos.  Al principio, todo parec√≠a estar bien, pero cuanto m√°s piezas diferentes prob√©, peor se ve√≠a.  El hecho es que el HTML personalizado puede ser completamente arbitrario e impredecible.  Esto lleva a problemas de la tarea primaria de arrastrar y soltar, la incapacidad de comprender qu√© tipo de elemento eligi√≥ el usuario e incluso tener un control banal sobre la p√°gina.  Fue un caos. </p><br><p> Grapesjs te permite cargar tu HTML.  √âl ve el texto envuelto en etiquetas obvias, y el texto que est√° justo en el <code>body</code> , no siente: </p><br><p><img src="https://habrastorage.org/webt/hj/0s/jj/hj0sjjit2iz396ul0aqlykqo3r0.png"></p><br><h3 id="ogranicheniya">  Limitaciones </h3><br><p>  Permitirle cargar su HTML y editarlo es sin duda un movimiento audaz.  Desde el punto de vista del usuario, esta es una gran libertad.  Pero hay un maravilloso ejemplo de c√≥mo est√°n las cosas en la web: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">una caja azul</a> . </p><br><p>  Estoy seguro de que ni siquiera hay todas las opciones de implementaci√≥n.  El hecho es que las mismas cosas en t√©rminos de sem√°ntica pueden implementarse de maneras completamente diferentes, utilizando enfoques completamente diferentes.  E imagine, en la p√°gina, algo m√°s complicado que el cuadrado azul.  La misma imagen se puede agregar a la p√°gina usando la etiqueta &lt;img /&gt; o establecer usando el fondo.  Un bot√≥n puede ser un &lt;bot√≥n&gt;, o puede ser un &lt;div&gt; o la misma imagen.  ¬øY c√≥mo entender qu√© herramienta de edici√≥n mostrar? </p><br><p>  De ninguna manera </p><br><h3 id="ogranichenie-00">  L√≠mite 00 </h3><br><p>  La siguiente opci√≥n es prohibir este o aquel dise√±o, hacer una gu√≠a de estilo o prohibir cargar HTML personalizado.  Por supuesto, elegimos el segundo :) </p><br><h3 id="ogranichenie-01">  L√≠mite 01 </h3><br><p>  Como hemos prohibido cargar HTML personalizado, necesitamos nuestros propios componentes / elementos, y este es el primer paso para un editor real. </p><br><h3 id="ogranichenie-02">  Restricci√≥n 02 </h3><br><p>  Dado que el usuario trabajar√° con varios de nuestros elementos, debemos evitar que el editor trabaje con otros que no sean "nuestros elementos" y ense√±arnos c√≥mo trabajar con ellos. </p><br><h3 id="rabochee-okruzhenie">  Ambiente de trabajo </h3><br><p>  No es el tema m√°s interesante, pero s√≠ importante.  Me gusta mucho la interfaz de Photoshop.  Hay varios paneles y un espacio de trabajo.  Puede manipular el espacio de trabajo como lo desee, est√° centrado y, seg√∫n el tama√±o, puede desplazarse tanto horizontal como verticalmente. </p><br><p><img src="https://habrastorage.org/webt/m5/ki/w8/m5kiw8n2pp2hgl_w2bp7ci7fid4.jpeg"></p><br><p>  Adem√°s, muchos de m√≠ toqu√© mi dise√±o Google Web Designer: </p><br><p><img src="https://habrastorage.org/webt/ue/2o/gj/ue2ogjwar96x4ivn-tc76mmdtei.png"></p><br><p>  Por cierto, este es un tipo de editor de Google, ¬øalguien lo us√≥? </p><br><p>  La parte m√°s dif√≠cil es romper la p√°gina de esta manera.  No soy un experto en CSS, y esta vez fue mucho m√°s f√°cil para m√≠, pero luego fue un baile con un dise√±o de mesa.  Antes de continuar, veamos qu√© tipo de dise√±os de espacio de trabajo son en general. </p><br><h4 id="fotoshop">  Photoshop </h4><br><p>  LPGenerator </p><br><p><img src="https://habrastorage.org/webt/ox/ff/6o/oxff6o1gmfnhsjntp4cppr8ythm.png"></p><br><p>  Mi creacion </p><br><p><img src="https://habrastorage.org/webt/9r/57/q2/9r57q2fwlzmnakhmt0rdkgrxsr8.png"></p><br><p>  Grapesjs </p><br><p><img src="https://habrastorage.org/webt/tv/td/-6/tvtd-6ewxcldd_uwlkrp33bt1z8.png"></p><br><p>  De hecho, ya hemos discutido este dise√±o arriba.  A la izquierda hay herramientas de uso frecuente, a la derecha hay opciones, en la parte superior hay algo adicional, en la parte inferior hay una barra de informaci√≥n.  La opci√≥n m√°s obvia, pero al mismo tiempo sobrecargada para el usuario.  Tiene miedo de todos estos botones, como si estuviera en la cabina y necesita hacer un aterrizaje de emergencia. </p><br><p><img src="https://habrastorage.org/webt/bi/qt/h2/biqth2l4au7rd5pmphd2bpukxpq.jpeg"></p><br><h4 id="tak-peregruzhen-chto-nado-vse-pryatat">  Tan sobrecargado que tienes que ocultar todo </h4><br><p>  Wix </p><br><p><img src="https://habrastorage.org/webt/3-/fc/ir/3-fcirszrvx_ahs4nqdt4vg0wlc.png"></p><br><p>  Durante 5 a√±os, el dise√±o de Vicks ha cambiado poco.  Despu√©s de ingresar a LPGenerator, comprende de inmediato que puede arrastrar un elemento a una p√°gina, ver la configuraci√≥n, etc.  En el caso de Wix, todo est√° inicialmente oculto.  Este es un buen enfoque.  El hecho es que el usuario no necesita ver, algo que probablemente no necesitar√° en este momento.  Pero aqu√≠ necesitas mantener el equilibrio.  Wix.com tiene demasiados elementos que puedes agregar a la p√°gina y por esta raz√≥n han creado una galer√≠a completa de elementos.  Pero, por supuesto, cosas obvias como texto o un bot√≥n podr√≠an aparecer en uno de los paneles para un acceso r√°pido. </p><br><p><img src="https://habrastorage.org/webt/x8/cq/8q/x8cq8qzdq0swfpy6nbnjfdrrn3i.png"></p><br><p>  Cuando hace clic en un elemento, aparece una funcionalidad adicional encima que se relaciona con el elemento. </p><br><p><img src="https://habrastorage.org/webt/cv/jk/kl/cvjkkl_jkisk6dankfyobhxetts.png"></p><br><p>  Para darnos cuenta de que tal cosa sigue siendo hemorr√°gica, hablaremos de esto un poco m√°s tarde. </p><br><h4 id="minimalist">  Minimalista </h4><br><p>  Espacio cuadrado </p><br><p><img src="https://habrastorage.org/webt/3c/go/bq/3cgobqbddacwl9b2x8eovoswqli.png"></p><br><p>  Dise√±o m√≠nimo, el espacio de trabajo ocupa la mayor parte de la pantalla, desde la interfaz el m√≠nimo m√°s necesario.  La caja de herramientas es muy extra√±a.  Por ejemplo, la primera pantalla con el bot√≥n se edita as√≠: </p><br><p><img src="https://habrastorage.org/webt/uc/hq/1z/uchq1z78zirhfhz-y0ltv-rsdvi.png"></p><br><p>  El bot√≥n aqu√≠ est√° representado por texto. </p><br><p>  Por s√≠ solo, el modo de edici√≥n es muy similar a la vista previa, y solo cuando hace doble clic en algunas pantallas, resulta que cambia al modo de edici√≥n. </p><br><p><img src="https://habrastorage.org/webt/vo/45/ib/vo45ibzpk2tr_gs39b7pvz_md0k.png"></p><br><p>  Al mismo tiempo, el editor nos traslada a otra parte de la aplicaci√≥n. </p><br><h4 id="ya-est-grut">  Soy groot </h4><br><p>  Tilda </p><br><p><img src="https://habrastorage.org/webt/i8/8s/8k/i88s8kktamx-mf1g-ttfugnr0vo.png"></p><br><p>  Al editar un sitio, parece que est√°s en √©l.  Muy similar a Wordpress y su panel en la parte superior con funcionalidad de edici√≥n / publicaci√≥n y m√°s.  Pero al mismo tiempo, la funcionalidad no es tan detenida como la de Squarespace, y el mismo texto es mucho m√°s f√°cil de editar. </p><br><p>  Para agregar algo, debe hacer clic en +.  Mueva el bot√≥n a cualquier lugar conveniente para usted, simplemente no funcionar√°.  Todo es limitado </p><br><p><img src="https://habrastorage.org/webt/5o/oh/jt/5oohjth7pgvlstdyplk3b1p9voe.png"></p><br><p>  La consecuencia de esto son tales galer√≠as con un mont√≥n de opciones diferentes para el mismo elemento. </p><br><p><img src="https://habrastorage.org/webt/rw/nv/qr/rwnvqr9qwor0bv9ykif4om-w_rq.png"></p><br><p>  Como ya puedes entender, soy fan√°tico de la versi√≥n de Photoshop.  Una vez que fui atormentado con el dise√±o de la tabla, pero ahora en 2018 y con fines educativos, no podemos preocuparnos por el soporte e implementar un dise√±o en CSS Grids. </p><br><p><img src="https://habrastorage.org/webt/43/0u/u_/430uu__6jgftrpnrbe-5o4nzx4c.png"></p><br><p>  Si alguien no est√° familiarizado con las cuadr√≠culas CSS, esta es una de las √∫ltimas formas de dise√±ar el dise√±o de las p√°ginas.  Si es preferible usar Flexbox para men√∫s, formularios y otro conjunto de elementos, entonces CSS Grids, se sienten geniales en cosas globales. </p><br><p>  Este no es un tutorial de CSS Grids, as√≠ que lo explicar√© en pocas palabras en el camino, pero sin mega detalles. </p><br><p>  Y as√≠, nuestra tarea es hacer los paneles izquierdo y derecho, y en el medio el √°rea de trabajo donde se mostrar√° el contenido del sitio web. </p><br><p>  Trabajar con cuadr√≠culas es un poco m√°s f√°cil en Firefox, esto es extra√±o, pero el cromo est√° detr√°s en este asunto.  En uno de los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">art√≠culos anteriores,</a> ya habl√© sobre esto. </p><br><p>  ¬øQu√© aspecto tiene una inspecci√≥n de cuadr√≠cula en cromo? </p><br><p><img src="https://habrastorage.org/webt/l4/zp/kx/l4zpkxvws1hyhw3s5vj8pjkxcts.png"></p><br><p>  Al mismo tiempo en el manguito: </p><br><p><img src="https://habrastorage.org/webt/s6/sv/9e/s6sv9erwvogh3ycfwxdrmn0xkzy.png"></p><br><p>  Hay una mini representaci√≥n de la cuadr√≠cula, se muestran etiquetas sem√°nticas de columnas / l√≠neas.  Por lo tanto, si desea m√°s informaci√≥n, use FireFox por ahora.  Extra√±o me siento recomendando este navegador.  El tiempo de Bugzilla ha pasado. </p><br><p>  Comencemos con un marcado simple. </p><br><pre> <code class="hljs cs">&lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"main"</span></span>&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"left"</span></span>&gt;&lt;/div&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"content"</span></span>&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"site"</span></span>&gt;&lt;/div&gt; &lt;/div&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"right"</span></span>&gt;&lt;/div&gt; &lt;/div&gt;</code> </pre> <br><p>  .izquierdo - panel izquierdo <br>  .content - el medio donde se mostrar√° el sitio <br>  .right - panel derecho </p><br><p><img src="https://habrastorage.org/webt/rx/1_/7x/rx1_7x-geqcqxbqn8aa7p_rrfgq.png"></p><br><p>  Hasta ahora, esto no es suficiente para lo que parece.  Queremos que nuestra interfaz sea igual a Viewport.  Esto se puede hacer usando <code>height: 100%</code> , pero tambi√©n hay unidades de ventana <code>vh</code> y <code>vw</code> .  Los usaremos. </p><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.main</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">100vw</span></span>; }</code> </pre> <br><p><img src="https://habrastorage.org/webt/xd/90/xu/xd90xuw42emg47k_dudo7peaeee.png"></p><br><p>  Por defecto, los ni√±os se convierten en cadenas.  Este es un tipo de eje flexbox.  Necesitamos establecer las columnas, podemos hacer esto de la siguiente manera: </p><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.main</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: grid; <span class="hljs-comment"><span class="hljs-comment">/* grid-template-columns: 1fr 2fr 1fr; */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">grid-template-columns</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">minmax</span></span>(200px, .4fr) <span class="hljs-built_in"><span class="hljs-built_in">minmax</span></span>(560px, 2fr) <span class="hljs-built_in"><span class="hljs-built_in">minmax</span></span>(200px, .4fr); }</code> </pre> <br><p>  Por prueba y error, llegu√© a un tema bastante complicado.  La funci√≥n <code>minmax</code> permite establecer los tama√±os m√°ximo y m√≠nimo.  <code>fr</code> es una unidad universal que nos evita calcular el tama√±o en p√≠xeles o porcentaje.  La cuesti√≥n es que las propiedades como <code>grid-gap</code> afectan el tama√±o como el <code>border</code> .  <code>fr</code> dise√±ado para librarnos de este dolor. </p><br><p>  Ti√±e un poco y elimina el <code>margin</code> en el <code>body</code> , nos molesta un poco: </p><br><pre> <code class="hljs css"> <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>: <span class="hljs-number"><span class="hljs-number">0px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.left</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.content</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.right</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">box-sizing</span></span>: border-box; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: solid <span class="hljs-number"><span class="hljs-number">1px</span></span>; }</code> </pre> <br><p><img src="https://habrastorage.org/webt/eb/or/ju/eborjuzgno_g3xaigatthvl2af8.png"></p><br><p>  Genial  Pero esa fue la parte m√°s f√°cil.  Ahora necesitamos hacer un espacio de trabajo. <br>  <code>.site</code> es nuestro sitio imaginario.  Convirt√°moslo en 960px est√°ndar y resaltemos. </p><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.site</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">2000px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">960px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: rebeccapurple; }</code> </pre> <br><p><img src="https://habrastorage.org/webt/wu/gd/p_/wugdp_c3sisp1pncb4avqwlmv9k.png"></p><br><p>  Si aprietas esto, a√∫n es m√°s divertido: </p><br><p><img src="https://habrastorage.org/webt/fo/yh/py/foyhpyslg-vh9014_3aui5qr4lk.png"></p><br><p>  Pero </p><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.content</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">overflow</span></span>: scroll; }</code> </pre> <br><p>  Resuelve el problema  Solo queda la parte est√©tica.  Sangr√≠a </p><br><p>  Esto se puede hacer usando <code>margin</code> : </p><br><pre> <code class="hljs powershell"> margin: auto; margin<span class="hljs-literal"><span class="hljs-literal">-top</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>px; margin<span class="hljs-literal"><span class="hljs-literal">-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>px;</code> </pre> <br><p><img src="https://habrastorage.org/webt/b3/tu/oy/b3tuoy-ggnam_lctd6rhggruelm.png"></p><br><p>  <code>20px</code> poco o muchos depende de usted.  Pero hay otro problema.  Si la pantalla es demasiado peque√±a, no habr√° sangr√≠a a la izquierda ni a la derecha.  Desde <code>maring: auto</code> ser√° estrecho.  Lo primero que viene a la mente es establecer el <code>margin-left</code> y el <code>margin-right</code> , pero aqu√≠ hay otra broma.  La sangr√≠a solo estar√° en el lado izquierdo.  Si te desplazas hacia la derecha, entonces no estar√° all√≠.  Esta es una caracter√≠stica. </p><br><p>  Sin entrar en detalles, puede solucionar esto usando <code>display: inline-block</code> .  Si  Pero al mismo tiempo, el <code>margin: auto</code> que se comporta muy bien con pantallas de gran tama√±o.  La siguiente soluci√≥n m√°s obvia es usar consultas de medios.  En pantallas grandes <code>display: block + margin: auto</code> , en pantallas peque√±as <code>display: inline-block; margin-left/right: 20px</code>  <code>display: inline-block; margin-left/right: 20px</code> . </p><br><pre> <code class="hljs powershell"> .site{ height: <span class="hljs-number"><span class="hljs-number">2000</span></span>px; width: <span class="hljs-number"><span class="hljs-number">960</span></span>px; margin: auto; margin<span class="hljs-literal"><span class="hljs-literal">-top</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>px; margin<span class="hljs-literal"><span class="hljs-literal">-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>px; background: rebeccapurple; } @media(max<span class="hljs-literal"><span class="hljs-literal">-width</span></span>: <span class="hljs-number"><span class="hljs-number">1350</span></span>px) { .site { display: inline<span class="hljs-literal"><span class="hljs-literal">-block</span></span>; margin: <span class="hljs-number"><span class="hljs-number">20</span></span>px; } }</code> </pre> <br><p>  Algo asi.  Si alguien tiene mejores ideas, bienvenido a comentar. </p><br><h3 id="otobrazhenie-sayta">  Mapeo del sitio </h3><br><p>  El dise√±o est√° listo, ahora debe mostrar el sitio que el usuario editar√°.  Esto es algo muy importante.  Varias decisiones dependen de ello.  Hay dos formas de mostrar un sitio para editar despu√©s del hecho.  En el <code>document</code> , ¬ød√≥nde est√° la interfaz de su editor o en el <code>iframe</code> ?  Ambas opciones tienen propiedades positivas y no muy positivas. </p><br><h4 id="tot-zhe-document">  Mismo documento </h4><br><p>  Es m√°s f√°cil, tanto mental como t√©cnicamente.  Pero mucho m√°s problem√°tico en el futuro.  El hecho es que si agrega, y agrega, la capacidad de insertar CSS y JS personalizados, su editor explotar√° despu√©s de unos minutos. </p><br><p>  Usuarios a los que no se les ha explicado c√≥mo usar la taza: </p><br><p><img src="https://habrastorage.org/webt/il/zj/6o/ilzj6otyz1cykjzdp4j6blxt4gy.gif"></p><br><p>  El CSS encapsulado a√∫n no es una realidad como lo fue hace 5 a√±os.  Hay opciones, pero son demasiado pesadas o no protegen completamente.  Cuando el usuario distorsiona toda la interfaz y elimina accidentalmente todo su trabajo, se le culpar√°.  Mirando un poco hacia adelante, cuando decida agregar una serie de sus plantillas ya preparadas, sus desarrolladores sufrir√°n esto.  No importa c√≥mo redefinir un poco de estilo.  Ahora, si miras a Tilda, tienen problemas con esto. </p><br><p>  Tomemos, por ejemplo, la primera interfaz de usuario de este editor que vino a la mano.  Botones de formato de texto: </p><br><p><img src="https://habrastorage.org/webt/o3/mc/9d/o3mc9df9lmkxsc0qugbqew6606w.png"></p><br><p>  ¬øVes estos estilos?  <code>!important</code> en color?  Estos estilos no son necesarios en absoluto, si los desactiva, nada cambiar√°.  En cualquier caso, redefinirlos es muy simple insertando HTML personalizado en la p√°gina del sitio: </p><br><p><img src="https://habrastorage.org/webt/wk/zr/4t/wkzr4tkwtqy5doy_x7ctzgsikdu.png"></p><br><p>  Lo admito, insert√© este c√≥digo manualmente.  Pero encontr√© un per√≠odo gratuito de 2 semanas con la capacidad de insertar HTML y CSS personalizados, y logr√© exactamente el mismo efecto. </p><br><p><img src="https://habrastorage.org/webt/yt/dn/zj/ytdnzjgajp91hk0_pjcejrnh9rm.png"></p><br><p>  ¬øC√≥mo es eso posible?  Imag√≠nense que compr√≥ servicios para desarrollar un sitio web en Tilda por mil d√≥lares y quer√≠a establecer su propio estilo de enlaces.  Todo, el usuario no podr√° editar el sitio.  Bueno, estoy exagerando con las tablas fronterizas, pero puedes imaginar cualquier otro estilo, sin mencionar el JS personalizado.  Adem√°s, la colisi√≥n se extiende incluso a alg√∫n tipo de interfaz anidada, aunque esto es obvio. </p><br><p><img src="https://habrastorage.org/webt/vq/sj/b7/vqsjb74djtc-apq4qavvt0i2hdo.png"></p><br><p>  Evitar que los usuarios incrusten su propio c√≥digo ser√≠a una soluci√≥n a este problema.  Pero en el mundo real es casi imposible.  No har√° integraciones personalizadas para cada usuario.  Esto es posible con clientes gordos.  Pero no cuando tienes el 90% de la funcionalidad cuesta 5-10 d√≥lares. </p><br><h4 id="iframe">  Iframe </h4><br><p>  Encapsula la p√°gina casi por completo, el <code>iframe</code> nos ayudar√°.  Este es probablemente el √∫nico lugar donde he usado el <code>iframe</code> tanto tiempo.  Podemos llegar al contenido del <code>iframe</code> e incluso viceversa si est√°n en el mismo dominio.  Es por eso que tenemos todo bajo control.  Pero todas estas encapsulaciones son un poco desconcertantes para nosotros.  Por ejemplo, la selecci√≥n de elementos, que discutiremos un poco m√°s adelante.  ¬øAislarlo en el nivel de la interfaz posicion√°ndolo sobre el <code>iframe</code> o en el mismo <code>iframe</code> ? </p><br><p>  Por supuesto, ser√° m√°s f√°cil hacer esto en el propio <code>iframe</code> .  El hecho es que al desplazarse por el contenido, no tiene que actualizar la posici√≥n de la selecci√≥n / pensar en un dise√±o astuto (aunque es mejor) y una interfaz adicional.  Pero calculando si su interfaz se superpone, la interfaz del editor ser√° m√°s f√°cil si representa tales cosas sobre un <code>iframe</code> en un <code>document</code> .  Por lo tanto, por ejemplo, Grapesjs combina estos dos enfoques: </p><br><p><img src="https://habrastorage.org/webt/vx/de/dl/vxdedlcxlsqeh7hndohcnh-1mbu.png"></p><br><p>  La selecci√≥n ocurre con elementos en el <code>iframe</code> , y la funcionalidad adicional que es sensible a la superposici√≥n se representa en la parte superior del <code>iframe</code> . </p><br><p><img src="https://habrastorage.org/webt/xu/s7/tf/xus7tfy-lzsxgawmbgqhmbg1lts.gif"></p><br><p>  Pero para respaldar sus estilos, tendr√° que importar todo lo que necesita al <code>iframe</code> .  Inmediatamente tendr√° que adjuntar la pantalla de carga para que el usuario no vea que el sitio / interfaz no est√° inventado. </p><br><p>  Wix <code>&lt;head&gt;</code> <br><img src="https://habrastorage.org/webt/e6/km/pv/e6kmpv8lppux7hfqcn2whridp5c.gif"></p><br><p>  Por lo tanto, debe comprender que esto solo es necesario al editar.  Y no te olvides del estilo de usuario o tendr√°s problemas nuevamente. </p><br><p>  Clase Grapesjs que "accidentalmente" actualic√© con un borde: </p><br><p><img src="https://habrastorage.org/webt/2n/4z/51/2n4z51jqizu1aowkutnjbeya6hi.png"></p><br><p>  Grapesjs agrega la <code>gjs-comp-selected</code> al resaltar, que es claramente visible durante la inspecci√≥n, y cr√©anme, esto ser√° lo primero que el usuario copiar√° para personalizarlo. </p><br><h3 id="vydelenie-elementov">  Seleccionar elementos </h3><br><p>  Estamos un poco por delante de nosotros mismos, porque todav√≠a no hemos entendido c√≥mo ense√±arle al editor a ver los elementos en la p√°gina, pero esto no nos har√° da√±o.  Antes de profundizar en un tema tecnol√≥gicamente m√°s complejo, veamos cu√°n dif√≠cil es tecnol√≥gicamente hacer la selecci√≥n de elementos en la p√°gina :) ¬øCrees que esto es dif√≠cil?  Si tiene mucha confianza en s√≠ mismo, entonces aqu√≠ es c√≥mo todos los editores mencionados anteriormente lidian con esto con un ejemplo de texto: </p><br><p>  Mi editor </p><br><p><img src="https://habrastorage.org/webt/-v/h_/dv/-vh_dvzxkjgftcm4dki_ievlmzy.png"></p><br><p>  Tilda </p><br><p><img src="https://habrastorage.org/webt/sb/ns/jm/sbnsjm4bor01vaox3zv4cgdwrli.png"></p><br><p>  Grapesjs </p><br><p><img src="https://habrastorage.org/webt/uz/wj/5f/uzwj5frexaqpjz735_icekbkdec.png"></p><br><p>  Dise√±ador web de Google </p><br><p><img src="https://habrastorage.org/webt/hy/rq/0n/hyrq0nsfb_jcz3s4twd-e8sntoa.png"></p><br><p>  Wix </p><br><p><img src="https://habrastorage.org/webt/bo/qx/-u/boqx-ueywv-t_kheskn-v0ezibq.png"></p><br><p>  Y al editar </p><br><p><img src="https://habrastorage.org/webt/or/sg/bx/orsgbxrnaiixg_cki8c4-_sd7tw.png"></p><br><p>  Parte del texto no es visible en absoluto.  Oh bien  Desde el punto de vista del desarrollador front-end, esta es una caracter√≠stica. </p><br><p><img src="https://habrastorage.org/webt/mh/qj/cn/mhqjcn9djii9ssocep76ifmu7a8.gif"></p><br><p>  El hecho es que los editores seleccionan en su mayor parte el modelo DOM.  Pero juzga por ti mismo, t√∫ como usuario, lejos del desarrollo del sitio web, ¬øcrees que esto est√° bien?  No, no est√° bien.  El contenido es m√°s de lo que te muestra el editor.  En el caso de algunos, existe la posibilidad de perder la capacidad de seleccionar un elemento.  Es normal que el navegador asigne de esta manera a los desarrolladores, esto es cierto seg√∫n las especificaciones. </p><br><p>  Lo que ve el usuario (azul, hace que el texto sea transparente, por la obviedad del problema), que se destaca por editores, navegadores (rojo): </p><br><p><img src="https://habrastorage.org/webt/cg/5y/yr/cg5yyra4dzwcbb5vnb3jqjobvmw.png"></p><br><p>  Cromo </p><br><p><img src="https://habrastorage.org/webt/vf/tk/uz/vftkuzunahq_xggyxewe6_ueir0.png"></p><br><p>  Firefox </p><br><p><img src="https://habrastorage.org/webt/_u/1i/yq/_u1iyqqoyfeusm5w_xpfdrze4fu.png"></p><br><p>  Al seleccionar texto en FF, Chrome no lo hace. </p><br><p><img src="https://habrastorage.org/webt/ma/cp/ke/macpkebqeejixndozhyleaztlka.png"></p><br><p>  Entonces, ¬øpor qu√© tanta jamba en todos los editores?  En mi experiencia, dir√© que se trata de fideos en los o√≠dos de los gerentes de productos y / o evaluadores.  Por regla general, es poco probable que todos los que trabajan en el editor establezcan <code>line-height: 1px</code> o intenten jugar con diferentes estilos y tama√±os de texto.  Tienen ojos borrosos y tales card√∫menes a primera vista primaria permanecen en la zona ciega.  Y cr√©anme, los clientes los encuentran durante los primeros minutos. </p><br><p>  Desde el punto de vista de UI / UX, esto puede no ser t√©cnicamente claro, y tales detalles de implementaci√≥n generalmente se dejan a discreci√≥n del desarrollador. </p><br><p>  Entonces, ¬øes posible hacer una selecci√≥n f√°cil de usar?  ¬øAlguna idea de c√≥mo resaltar un elemento? <br>  La selecci√≥n debe incluir cosas como <del>  margen </del>  , relleno, borde.  El modelo de tama√±o no es simple: </p><br><p><img src="https://habrastorage.org/webt/ti/og/bg/tiogbgalrcdz5gsq8z0sunuozcq.png"></p><br><p>  Desde mi caja de arena: </p><br><p><img src="https://habrastorage.org/webt/4z/4f/2o/4z4f2oj64higysv4mwtursdvgbo.png"></p><br><p>  Quiz√°s la informaci√≥n m√°s √∫til que extraje de msdn: </p><br><p><img src="https://habrastorage.org/webt/xs/ib/_r/xsib_rshhtuuqsrzmipksfhkd-i.png"></p><br><p>  Pero no hay respuesta a nuestra pregunta. </p><br><p>  Probemos lo que el DOM nos proporciona en primer lugar.  Tenemos tal dise√±o: </p><br><pre> <code class="hljs pgsql"> font-size: <span class="hljs-number"><span class="hljs-number">54</span></span>px; <span class="hljs-type"><span class="hljs-type">line</span></span>-height: <span class="hljs-number"><span class="hljs-number">0</span></span>px; <span class="hljs-comment"><span class="hljs-comment">/*   ,     */</span></span> border: <span class="hljs-number"><span class="hljs-number">10</span></span>px solid; padding: <span class="hljs-number"><span class="hljs-number">10</span></span>px;</code> </pre> <br><p><img src="https://habrastorage.org/webt/by/0n/di/by0ndiu0vxfqo9uotfxmhahxt7m.png"></p><br><p>  El tama√±o del contenido visible es de 62 px, el navegador nos muestra 40 px.  ¬øC√≥mo obtener 62px? </p><br><p>  getBoundingClientRect nos devuelve - 40px <br>  clientHeight - 20px <br>  scrollHeight - 41px </p><br><p>  Puedes jugar con las matem√°ticas durante mucho tiempo, pero no encontr√© soluciones con este enfoque. <br>  Pero como hace ~ 5 a√±os, sab√≠a que la clave para resaltar el texto.  Bueno, mira, si seleccionas el texto, entonces la selecci√≥n es exactamente la misma que necesitamos: </p><br><p><img src="https://habrastorage.org/webt/we/sc/po/wescpozlladamt4zra2t6-7i_qm.png"></p><br><p>  No es un buen ejemplo, pero la altura con la que tenemos el principal problema es que todo es genial.  Pero, ¬øc√≥mo distinguir como lo hace alguna magia del sistema? </p><br><p>  Despu√©s de tantos a√±os busqu√© en Google (¬°aprend√≠!), Desafortunadamente c√≥mo busqu√© en Google y se perdi√≥ el enlace, pero aqu√≠ est√° la soluci√≥n: </p><br><pre> <code class="hljs pgsql"> const range = document.createRange(); let rangeRect; range.selectNode(elm); rangeRect = range.getBoundingClientRect();</code> </pre> <br><p>  Cree un <code>range</code> , seleccione un nodo y t√≥melo del <code>range</code> <code>ClientRect</code> .  Voila!  Adem√°s, la selecci√≥n funciona para todo.  Puede seleccionar partes enteras de la p√°gina ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://developer.mozilla.org/en-US/docs/Web/API/Range</a> ). </p><br><p>  Tanto en altura como en ancho, el punto culminante perfecto. </p><br><p><img src="https://habrastorage.org/webt/8_/9a/pn/8_9apnhsaht4i_2yb67mffxu-9s.png"></p><br><p>  (El resaltado en el editor ser√° un borde azul, sin fondo. Texto seleccionado para mostrar la selecci√≥n del sistema). </p><br><p>  Otra parte menos importante de resaltar es c√≥mo mostrarlo.  Alguna idea?  Un mont√≥n de maneras.  Comenzando desde el borde, terminando con un elemento flotante adicional. </p><br><p>  En primer lugar, decida hacer esto en un <code>iframe</code> o sobre un <code>iframe</code> , hablamos sobre los pros y los contras anteriores. </p><br><p>  El borde no se ajusta porque agrega tama√±o al elemento y, ¬øqu√© sucede si el usuario establece su borde en el elemento?  Lo mismo con el <code>outline</code> , Grapesjs peca haciendo una selecci√≥n a trav√©s de √©l. </p><br><p>  En mi caso, us√© :: antes, pero eso tampoco es genial.  La forma m√°s confiable es hacer 4 tiras y colocarlas en los bordes (que en el futuro ser√°n elementos del cambio de tama√±o del elemento), o bloquearlas en la parte superior.  Es mejor elegir entre estas dos opciones, combin√°ndolas tanto como sea posible.  Demasiado posicionamiento de la p√°gina no es una ayuda para optimizar una IU ya sobrecargada.  Entonces, mientras m√°s cosas multifuncionales coloque, mejor. </p><br><h4 id="eto-ne-vse">  Eso no es todo </h4><br><p>  Acabamos de darnos cuenta de la selecci√≥n.  Pero esta selecci√≥n est√° en el nivel de apuntar y ver.  Hay dos problemas m√°s asociados con √©l que te dejar√© para que pienses por ti mismo.  No son tan desagradables. </p><br><ol><li>  Las dimensiones de un elemento cambian al editar.  Debe realizar un seguimiento de esto y actualizar la selecci√≥n.  Esto es exactamente de lo que mi editor y Google Web Designer est√°n cansados.  No siempre, pero a menudo. </li><li>  Para hacer una etiqueta / selecci√≥n sobre un elemento, para que el usuario sepa qu√© es este elemento, debe saber qu√© es.  Por lo tanto, el elemento debe inicializarse en su editor.  El rendimiento del editor depende de esto.  Puede haber m√°s de cien elementos en una p√°gina, y simplemente tomar e inicializar todo en el inicio no siempre es la mejor idea.  Pero en el caso de mi editor, como ok.  jaja  La inicializaci√≥n se puede hacer haciendo clic, al pasar el rat√≥n, por la teor√≠a de la frecuencia de uso. </li></ol><br><h3 id="redaktirovanie">  Edici√≥n </h3><br><p>  Como comenzamos a hablar sobre resaltar con un texto de ejemplo, veamos r√°pidamente c√≥mo editarlo. </p><br><p>  De hecho, el texto es la segunda parte importante en el editor despu√©s de las im√°genes y el resaltado :) </p><br><p>  Bueno, aqu√≠ est√° c√≥mo hacerlo para que cuando seleccione parte del texto y haga clic en alguna funcionalidad de formateo, ¬øformatee exactamente el texto seleccionado? </p><br><p>  Si eres el hijo de un amigo de la madre y un desarrollador ingenioso, seguramente dir√°s: ajusta el texto seleccionado.  Ah, y tendr√°s raz√≥n, casi como si Ilon respondiera que para construir un cohete === contratar a cien ingenieros. </p><br><p>  Ajustar el texto seleccionado no es tan f√°cil.  Como resultado, habr√° un mont√≥n de etiquetas, y c√≥mo mantenerlas m√°s adelante con la pr√≥xima selecci√≥n y formato es una gran pregunta.  Estudi√© el mismo CKEditor durante mucho tiempo y descubr√≠ un milagro: </p><br><pre> <code class="hljs">contentEditable</code> </pre> <br><p>  ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/contentEditable</a> ) </p><br><p>  Este es un editor de panqueques en el navegador.  No solo nos da la oportunidad de escribir texto, sino tambi√©n de formatearlo. </p><br><p>  Art√≠culos relacionados: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Editable_content/Rich-Text_Editing_in_Mozilla</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Editable_content</a> </li></ul><br><p>  Esta API le permite ejecutar comandos de formato en el texto seleccionado: </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> = document.execCommand(aCommandName, aShowDefaultUI, aValueArgument)</code> </pre> <br><p>  , ,  ,           . </p><br><p>     .      ,  ,             .    ,       .     .    ,   . </p><br><p> <code>contentEditable</code>        .   ,        .    .      ,    .         . </p><br><p>   , <code>contentEditable</code>    ,   CKEditor, CodeMirror,  .          .         ,         . </p><br><p>       ,      .      ,          ,   CKEditor.  ,   .   ,     ,      .        <code>iframe</code>         .      ,    .   ,           /.      <code>contentEditable</code>       .    <code>contentEditable</code> .  Wix, 2018 .      ,      <code>iframe</code> .         :)   ,   ,    .    ,  ,          .        .     ,     .         ,    . </p><br><p>  : </p><br><p><img src="https://habrastorage.org/webt/vu/di/sx/vudisxcbvdnll65w4i5cvhpzfnm.png"></p><br><p>        : </p><br><p><img src="https://habrastorage.org/webt/se/et/4u/seet4uwrlrqatgwp0hl-5e6-1d0.png"></p><br><p>        . </p><br><h3 id="resayz-elementov">   </h3><br><p>  ,       ,  , ,      /  ,   /     .    <code>0,0</code>  ,     : </p><br><p><img src="https://habrastorage.org/webt/zp/45/sk/zp45skikovnmwxv6xmuurtpef9s.png"><br> (svg/dom element) </p><br><h3 id="rabota-s-elementami-vc-mvc-i-vse-takoe">   , VC++, MVC    </h3><br><p>           ,        ,    Visual C++, C#, Delphi  .  -  ,    Backbone  ,          ,           //. </p><br><p><img src="https://habrastorage.org/webt/td/eg/pu/tdegpub5m4bj-fb4ncgxud05f8a.jpeg"></p><br><p>    ,  - ,    ,   <code></code> , <code></code>  .         : </p><br><p><img src="https://habrastorage.org/webt/hm/_y/mh/hm_ymhue2rsd6mrsxnvgp9buaka.jpeg"><br>  ,    ,    . </p><br><p>  ,         CSS,              . </p><br><p> Backbone,         (View),  (Model)   (Collection).      (Router).       View. MV*, MVV,    . </p><br><p>  ,     Backbone,    .      View  .       CSS .     ,        View     . </p><br><p>       ,   ,    View  .    View  Model    .        ,       .            ,        View  .  ,      .    ,  <code>.parent</code>      . </p><br><p><img src="https://habrastorage.org/webt/lm/t_/os/lmt_os4npi7ymexhji-mdtgdjta.png"></p><br><p>  View ,     View  Model,  <code>data-</code>    .    , Model              ,      . ,  Backbone,     React,   DOM,       .    ,      .    50-100     -  . </p><br><p>  ,      ,     HTML. ,   ,       .    virtual dom,      JS.      ‚Äî . !,      .    Wix,             : </p><br><p>  : </p><br><p><img src="https://habrastorage.org/webt/pi/ob/kl/piobkly8pmrwgdilipji6_lpdh8.png"></p><br><p>       : </p><br><p><img src="https://habrastorage.org/webt/nu/tf/l_/nutfl_4ot5oqluo9btnvq5_b6so.png"></p><br><p>    ,    : </p><br><p><img src="https://habrastorage.org/webt/4l/gf/un/4lgfun5qzl7_uu0nlewhl78qyr0.png"></p><br><p>    ,       .  .   React. </p><br><p>    CSS  ,       .       ,  HTML,        .  ,      . </p><br><p>   ,            <code>&lt;style&gt;</code>   .            ,     .       . </p><br><h4 id="hranenie-dannyh">   </h4><br><p>     <code>data-</code> , html   .      !== .     html     .        ,      ID,     ,           . </p><br><h4 id="redaktirovaniepredprosmotrprosmotr"> // </h4><br><p>    . ,        .       .  , ,    . </p><br><p>             .      .    . </p><br><h4 id="react-polymer-vue-rodilsya-pozzhe-angular-shutka"> React? Polymer? Vue ( )? Angular (!)? </h4><br><p>   3              ,     React    Polymer,  React   Web Components. </p><br><p>   ,       (Polymer),      .        .      .     Shady DOM     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a> , ,    .      ,        . </p><br><h4 id="react"> React </h4><br><p>      :)   .  React           : </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rootElement = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"root"</span></span>).contentDocument.body; ReactDOM.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, rootElement);</span></span></code> </pre> <br><p>     HTML,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ReactDOM.hydrate(element, container[, callback])</a> ,     -    DOM React.      .  Esto es asombroso  ,   ,         Virtual DOM     .    . </p><br><p>      ,     . Redux, Flux, Mobx   .            Redux,    . </p><br><p>       Marrionett  .     Backbone.    .    . </p><br><p>    ,     .     ?        React,  .      DOM?       ?  <code>ReactDOM.hydrate</code>   HTML?   ,        . </p><br><h3 id="responsive-and-adaptive"> Responsive and Adaptive </h3><br><p>        .    ,   ,       .       960px.       ,     ,    -  .      . </p><br><p>   ,      ,    .    ,     . </p><br><p><img src="https://habrastorage.org/webt/0o/4s/ko/0o4skozzucxwfcbp4llwch8rlzk.png"></p><br><p>      ,   <code>relative</code> .     ,   .     .     .       . </p><br><p><img src="https://habrastorage.org/webt/yf/3l/pt/yf3lptxzpieufnpgpgvfr7q8aso.png"><br> (    ) </p><br><p>    ,    .    ,      ,   ,      .      . </p><br><p><img src="https://habrastorage.org/webt/pu/sa/81/pusa811bvrhllottdbeium-ekrg.png"></p><br><h4 id="ogranichenie-03">  03 </h4><br><p>   , .     .    . </p><br><p><img src="https://habrastorage.org/webt/vn/bk/te/vnbktefl9_obc9yjhzn8jyxupeu.png"></p><br><p>     960px,    .          . </p><br><p>   , ,         . Wix,         .      ,                 . </p><br><p>       .  Si si.  ,     ,      ,       ‚Äî    . </p><br><p><img src="https://habrastorage.org/webt/53/5p/ac/535pac6n0v8k9jmst-ni5slsvsa.gif"></p><br><p>      .     :) </p><br><h4 id="12-druzey-verstki-fleks-gridy"> 12  , , . </h4><br><p> 12  , ?  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://grapesjs.com/</a> ,       . </p><br><p><img src="https://habrastorage.org/webt/xm/-s/zw/xm-szwfalmrkyq3-pvttn-cfjic.png"></p><br><p>  ,      ,           .        ,         .     .       . </p><br><h4 id="zagotovki-shablonchiki-i-platnyy-servispomosch-mutnye-lyudi-vokrug"> ,    /,    </h4><br><p>        .                .        ,                  .      .    ,       UI/UX. </p><br><p><img src="https://habrastorage.org/webt/4p/eu/ou/4peuoum15qwic5jpd9iqnzjrx7e.png"></p><br><p><img src="https://habrastorage.org/webt/j_/bg/tx/j_bgtxifdftyiln2378mk_khgtk.png"></p><br><p><img src="https://habrastorage.org/webt/5k/q0/gv/5kq0gv5xbatji2jellyyumqrh4i.png"></p><br><p>   -        ,     , ,  ‚Äî   . </p><br><p>  ,   ,   ,   .       .  ,  ,        . </p><br><h3 id="itak">  </h3><br><p>     . C       .   UI/UX.         ,     undo/redo ,    .   ,     HTML    localStorage‚Ä¶ ,      . </p><br><p><img src="https://habrastorage.org/webt/ro/9i/3i/ro9i3idfnbnlxeu3umw8sfwb9bs.gif"></p><br><p>      .        ,    ,           ‚Äî .     ,     , . </p><br><p> <strong>PS</strong>      .   ,      .      ,  :) </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es417637/">https://habr.com/ru/post/es417637/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es417619/index.html">Win32 / Glupteba ya no est√° asociado con la operaci√≥n Windigo</a></li>
<li><a href="../es417621/index.html">¬øQu√© pas√≥ cuando desciframos la exhibici√≥n?</a></li>
<li><a href="../es417627/index.html">Hyper CRM o Mini ERP? Negocio en mal estado</a></li>
<li><a href="../es417629/index.html">Edici√≥n comunitaria de Delphi y C ++ Builder</a></li>
<li><a href="../es417631/index.html">Tutorial de video CSS Grid</a></li>
<li><a href="../es417639/index.html">El reverso del neuromancer. Parte 4: Sonido, Animaci√≥n, Huffman, Github</a></li>
<li><a href="../es417641/index.html">10 cursos de aprendizaje autom√°tico de verano</a></li>
<li><a href="../es417643/index.html">Caballeros de la capa y rootkits: qu√© ver sobre los hackers. Programas de televisi√≥n</a></li>
<li><a href="../es417645/index.html">Concurso de programaci√≥n: Trading (Resultados provisionales y anuncios)</a></li>
<li><a href="../es417647/index.html">Un proyecto de ley sobre la protecci√≥n de datos personales presentado en Bielorrusia: lo que est√° "dentro" de √©l</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>