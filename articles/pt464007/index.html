<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòÖ üÜí üöê Como constru√≠ um modelo preditivo de um call center para que suas chamadas n√£o enfurem os usu√°rios ‚öîÔ∏è ü§Ω ‚ûø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nada √© mais irritante do que uma liga√ß√£o surpresa de um n√∫mero desconhecido. Na nossa era de mensageiros e comunica√ß√£o, a correspond√™ncia com um n√∫mer...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como constru√≠ um modelo preditivo de um call center para que suas chamadas n√£o enfurem os usu√°rios</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skyeng/blog/464007/"> Nada √© mais irritante do que uma liga√ß√£o surpresa de um n√∫mero desconhecido.  Na nossa era de mensageiros e comunica√ß√£o, a correspond√™ncia com um n√∫mero de telefone desconhecido que pisca amea√ßadoramente na tela de um smartphone pode causar pelo menos um pouco de emo√ß√£o.  √â duplamente irritante quando uma chamada chega n√£o apenas de repente (como s√£o essas chamadas), mas tamb√©m em um momento desconfort√°vel para voc√™.  Por exemplo, quando voc√™ realmente n√£o conseguiu acordar ainda, ou vice-versa, voc√™ j√° est√° em plena atividade em uma cama t√£o atraente depois de um longo dia.  Alguns neg√≥cios ligam nos fins de semana, depois das nove da noite ou √† noite - geralmente al√©m do bem e do mal. <br><br><img src="https://habrastorage.org/webt/ig/2j/fv/ig2jfv6ebppffse_xjacinuz_mw.png"><br><br>  A prop√≥sito, sobre mim.  Meu nome √© Natasha, trabalho na Skyeng como cientista de dados e estou envolvido no desenvolvimento de v√°rios produtos da empresa.  Por que estou falando de liga√ß√µes repentinas?  A comunica√ß√£o por voz com clientes que apenas desejam iniciar ou, por algum motivo, interromper abruptamente seu treinamento faz parte do modelo de trabalho da empresa.  As liga√ß√µes ajudam a envolver e levar as pessoas ao processo de aprender um idioma ou diretamente para descobrir o que deu errado.  Uma das minhas √∫ltimas tarefas √© analisar o trabalho do nosso call center.  Ajudei-os a escolher o melhor momento para entrar em contato com estudantes de toda a R√∫ssia e a CEI: porque ningu√©m gosta de liga√ß√µes em hor√°rios aleat√≥rios do dia, e enfurecer meus pr√≥prios usu√°rios √© a √∫ltima coisa. <br><br>  O humor das pessoas durante essas liga√ß√µes √© extremamente importante para n√≥s, pois afeta diretamente a convers√£o.  Ent√£o, deixe-me contar mais sobre como a Skyeng chama os alunos e qual modelo de previs√£o eu constru√≠ para que nossos clientes fiquem confort√°veis ‚Äã‚Äãe alcancemos uma taxa de convers√£o de 60 a 70%. <br><a name="habracut"></a><br>  √â fisicamente imposs√≠vel adivinhar o momento conveniente para uma pessoa em particular, a menos que voc√™ seja um m√©dium.  Elogie o progresso, para identificar esses padr√µes, veio com estat√≠sticas, cujo modelo mais ou menos se encaixar√° na grande maioria dos usu√°rios. <br><br>  Na an√°lise de nossos registros de CRM, que registram a atividade do call center, foram confirmadas a hip√≥tese de liga√ß√µes comerciais fora do hor√°rio comercial e a necessidade de seguir apenas o bom senso.  Por isso, √© melhor ligar para as pessoas de segunda a quinta-feira, das 10 √†s 18 horas (de repente!).  √â durante esse per√≠odo que as pessoas t√™m mais probabilidade de fazer contato e a liga√ß√£o dura mais de 15 segundos, ou seja, somos considerados bem-sucedidos. <br><br>  Para come√ßar, decidimos determinar a influ√™ncia do fator humano na convers√£o, ou seja, analisar o sucesso dos operadores de call center: <br><img src="https://habrastorage.org/webt/kh/y6/6l/khy66l0aoupprbuih3kco5pfar8.png"><br>  Voc√™ n√£o precisa ser um detetive para ver as duas "√¢ncoras" neste gr√°fico.  Essas duas anomalias s√£o operadores com algum tipo de efici√™ncia extremamente baixa.  O que fazemos com dados an√¥malos, cuja natureza reside, provavelmente, no fator humano?  Acredito que exclu√≠mos completamente esses dados do modelo para obter pureza e precis√£o subsequentes do resultado.  O que eu realmente fiz.  Bem, de fato, esses dois operadores, ou melhor, seus resultados, est√£o t√£o fora de cena no call center que tenho certeza absoluta de que o assunto n√£o √© o processo de trabalho, mas os pr√≥prios funcion√°rios.  Talvez eles sejam rec√©m-chegados, o que tamb√©m nos d√° uma raz√£o para exclu√≠-los. <br><br>  Mas os dados de seis outros operadores com convers√£o abaixo de 0,5 permanecem no modelo.  Acredito que n√£o pode haver situa√ß√µes ideais, como as pessoas, portanto esses seis equilibrar√£o nossos c√°lculos adicionais com o restante da amostra de cinquenta funcion√°rios. <br><br><h3>  Fusos hor√°rios, regi√µes e dias da semana </h3><br>  Temos uma situa√ß√£o dif√≠cil com fusos hor√°rios.  Agora estamos coletando informa√ß√µes suficientes para determinar de onde o aluno √© e quando √© melhor ligar para ele.  Mas isso estava longe de sempre.  Foram essas camadas de informa√ß√µes antigas, mas ainda em funcionamento, que criaram uma s√©rie de inconvenientes tanto para nossos usu√°rios quanto para os operadores de call center.  Para processar esses dados antigos, escrevi um c√°lculo separado da zona do usu√°rio com base em outros dados indiretos (por n√∫mero de telefone, regi√£o e informa√ß√µes sobre o uso de nosso aplicativo). <br><br>  Se voc√™ come√ßar a se aprofundar nas estat√≠sticas do CRM, ainda poder√° obter uma camada inteira de informa√ß√µes √∫teis para criar um modelo eficaz.  Para come√ßar, criei uma programa√ß√£o de convers√£o para os dias da semana para confirmar minha suposi√ß√£o inicial de que √© melhor ligar nos dias de semana, exceto sexta-feira.  Na verdade, minhas suposi√ß√µes estavam corretas: <br><img src="https://habrastorage.org/webt/60/o8/kp/60o8kpzucu1mayql_odzhyrlpms.png"><br><br>  Essa divis√£o em Moscou, S√£o Petersburgo e outras cidades foi feita precisamente por causa de d√∫vidas em termos de determina√ß√£o do fuso hor√°rio.  Para o dia zero, tomamos segunda-feira, respectivamente, o sexto domingo.  O gr√°fico acima mostra claramente o quanto a convers√£o est√° caindo por regi√£o nos finais de semana, o que confirma a hip√≥tese de um problema com os fusos hor√°rios nos quais os operadores de call center se concentraram. <br><br>  Moscou e Peter est√£o um pouco melhores.  Talvez porque os habitantes dessas cidades estejam acostumados a um ritmo de vida mais alto.  Mas, mesmo com todo o estoicismo de moscovitas e moradores da cidade sobre o Neva, os n√∫meros dizem que "n√£o h√° nada para ligar de sexta a domingo". <br><br>  O limite inferior de nossa meta de 0,6 √© atingido apenas uma vez - na segunda-feira, o que √© surpreendente, pois √© geralmente aceito que este dia √© o mais dif√≠cil e as pessoas relutam em resolver problemas secund√°rios √†s segundas-feiras, pois se concentram em retornar ao ritmo de trabalho fim de semana.  N√£o, n√£o, e novamente n√£o - os n√∫meros n√£o mentem.  Ao longo da semana, seguimos mais ou menos tranq√ºilamente, e a recess√£o come√ßa apenas na quinta-feira. <br><br>  Ainda mais interessante √© a imagem ao decompor chamadas pelo rel√≥gio: <br><img src="https://habrastorage.org/webt/ew/wy/ec/ewwyec4ozcse4gy8iwwhtgkfe2g.png"><br>  <i>Observe a cauda forte √† esquerda para as regi√µes.</i>  <i>Provavelmente, essas chamadas foram feitas em um hor√°rio inaceit√°vel devido a um fuso hor√°rio definido incorretamente</i> <br><br>  Agora, vejamos a convers√£o de alguns dias da semana: <br><img src="https://habrastorage.org/webt/6s/q-/nz/6sq-nzbgpfqpemmvqtpp3zsy8p4.png"><br>  Aqui est√£o os dados para o nosso dia de campe√£o na segunda-feira.  No in√≠cio do gr√°fico, as "regi√µes" s√£o empurradas para a frente.  Por volta do meio dia, a situa√ß√£o √© nivelada.  A prop√≥sito, preste aten√ß√£o ao movimento sim√©trico de nosso gr√°fico em torno de 15 e 16 horas;  que a capital, que as regi√µes mostram exatamente o mesmo movimento neste momento. <br><br>  Mas na ter√ßa-feira, a situa√ß√£o come√ßa a mudar: <br><img src="https://habrastorage.org/webt/ey/sj/dq/eysjdqlgsn-6ps0klubwx0zwrv8.png"><br>  E na quinta-feira, as regi√µes demonstram sua falta de vontade de atender chamadas: <br><img src="https://habrastorage.org/webt/8i/8q/vf/8i8qvfatchoypaw7eeydntdri6w.png"><br>  Lembra que eu disse que as liga√ß√µes de fim de semana s√£o m√°s?  Em geral, o quadro estat√≠stico confirma minhas palavras, mas existe um "mas".  Em resumo, veja voc√™ mesmo: <br><img src="https://habrastorage.org/webt/fn/sx/h-/fnsxh-ls6its_qqggoczfusbt6u.png"><br>  √Äs 9 e 10 da manh√£, a convers√£o nas regi√µes acaba!  E j√° √†s 11 da manh√£ - ele mal se distancia da marca de 0,4, ou seja, afunda duas vezes.  Eu n√£o tenho id√©ia de como isso funciona e por que isso acontece, para que eu possa compartilhar minhas teorias nos coment√°rios, eu adoraria ler. <br><br>  Se resumirmos todos os dados, podemos derivar as seguintes regras para uma chamada "bem-sucedida": <br><br><ul><li>  Segunda-feira: das 13 √†s 17; </li><li>  Ter√ßa-feira: das 12 √†s 18; </li><li>  Quarta-feira: das 11 √†s 12 e das 15 √†s 17; </li><li>  Quinta-feira: das 10 √†s 17; </li><li>  Sexta-feira: das 10 √†s 12; </li><li>  S√°bado: de 16 a 18; </li><li>  Domingo: das 13 √†s 14 e das 18 √†s 19. </li></ul><br>  Na verdade, tudo se encaixa na estrutura do senso comum.  Nos dias √∫teis, de segunda a quinta-feira - telefonar das cinco √†s seis da noite e na sexta-feira √† tarde para resolver qualquer problema √© quase imposs√≠vel.  As estat√≠sticas nos fins de semana ‚Äúflutuam‚Äù um pouco, com √™nfase na tarde, bem, mais o pico an√¥malo mencionado anteriormente, √†s 10h no domingo, fica fora de cena.  E assim tudo √© est√°vel. <br><br><h3>  O que eu fiz com tudo isso e qual modelo eu constru√≠ </h3><br>  Antes de prosseguir com a constru√ß√£o de um modelo para um call center, era necess√°rio tirar v√°rias conclus√µes.  Primeiro, tudo depende da hora da chamada.  Mas aqui temos problemas. <br><br>  A √∫nica coisa que podemos rastrear √© a regi√£o de registro do n√∫mero de telefone e, a partir dessas informa√ß√µes, partimos da constru√ß√£o do call center.  Mas muitas vezes surgem situa√ß√µes em que n√£o podemos determinar exatamente de que regi√£o o n√∫mero indicado. <br><br>  √â isso, e n√£o uma pregui√ßa ficcional das regi√µes, que leva ao fato de que os indicadores gerais de convers√£o de usu√°rios fora do anel vi√°rio de Moscou e do anel vi√°rio diminuem em rela√ß√£o √†s capitais.  O que podemos fazer nessa situa√ß√£o? <br><br><ol><li>  Adira √†s zonas quentes identificadas para chamadas para as regi√µes se n√£o tivermos dados suficientes. </li><li>  Precisamos procurar ferramentas para determinar com mais precis√£o a localiza√ß√£o do usu√°rio, para n√£o incomod√°-lo com chamadas vazias. </li></ol><br>  O segundo ponto √© especialmente importante.  S√£o essas discrep√¢ncias que reduzem a taxa de convers√£o geral e ainda enfurecem os clientes. <br><br>  Mas vamos √† constru√ß√£o do modelo.  Aqui est√° uma lista geral de sintomas que identifiquei como relevantes: <br><br><ul><li>  hora - a hora da chamada (sinal categ√≥rico de 0 a 23). </li><li>  dia da semana - dia da semana (sinal categ√≥rico de 0 a 6). </li><li>  idade - a idade do aluno. </li><li>  tempo de vida - o tempo de vida do aluno (nas li√ß√µes) no momento da chamada. </li><li>  app_hour_ {k} - sazonalidade di√°ria do uso do aplicativo.  Para cada hora, k √© determinado como a fra√ß√£o de a√ß√µes no aplicativo naquela hora (k = 0, ..., 23) do n√∫mero total de a√ß√µes no aplicativo. </li><li>  app_weekday_ {k} - sazonalidade semanal do uso do aplicativo.  Para cada dia da semana, k √© determinado como a propor√ß√£o de a√ß√µes no aplicativo naquele dia da semana (k = 0, ..., 6) do n√∫mero total de a√ß√µes no aplicativo. </li><li>  class_hour_ {k} - sazonalidade di√°ria das li√ß√µes.  Para cada hora, k √© determinado como a fra√ß√£o de li√ß√µes nessa hora (k = 0, ..., 23) do n√∫mero total de li√ß√µes. </li><li>  class_weekday_ {k} - sazonalidade semanal do uso do aplicativo.  Para cada dia da semana, k √© determinado como a porcentagem de li√ß√µes nesse dia da semana (k = 0, ..., 6) do n√∫mero total de li√ß√µes. </li><li>  is_ru - 1 se o pa√≠s do aluno for a R√∫ssia e 0 se n√£o. </li><li>  last_payment_amount - o valor do √∫ltimo pagamento. </li><li>  days_last_lesson - o n√∫mero de dias da √∫ltima li√ß√£o (na aus√™ncia da √∫ltima li√ß√£o, substitua pelo n√∫mero -100). </li><li>  days_last_payment - o n√∫mero de dias desde o √∫ltimo pagamento (na aus√™ncia do √∫ltimo pagamento, substitu√≠mos pelo n√∫mero -100). </li></ul><br>  Inicialmente, havia cerca de cem sinais, mas c√°lculos e testes mostraram que eles n√£o afetaram o resultado final e, portanto, foram exclu√≠dos por n√£o serem informativos (por exemplo, a intensidade das aulas, o sexo do aluno, seu n√≠vel etc.).  Como modelo de classifica√ß√£o bin√°ria, foi utilizada uma biblioteca de aumento de gradiente nas √°rvores de decis√£o CatBoost. <br><br>  E aqui est√° a qualidade do meu modelo (na amostra de controle): <br><br><img src="https://habrastorage.org/webt/0p/sk/bw/0pskbwlnvq6i5jcrr2zp4xziku4.png"><br><br>  Esses resultados foram obtidos para o limite de separa√ß√£o de classe de 0,5, que √© o valor padr√£o.  Determinamos o limite de separa√ß√£o de classe ideal com base nas curvas ROC (caracter√≠stica de opera√ß√£o do receptor). <br><br>  Para fazer isso, constru√≠mos a depend√™ncia de caracter√≠sticas como integridade e especificidade, dependendo de v√°rios valores da fronteira que separam as classes: <br><br><img src="https://habrastorage.org/webt/hc/9u/f5/hc9uf5hyrp_a-mmfg2eddd_5cek.png"><br><br>  O valor ideal da borda ser√° onde obteremos ao mesmo tempo os valores mais altos poss√≠veis de completude e especificidade (ou seja, neste caso, onde os gr√°ficos se cruzam).  Para o modelo resultante, a borda ideal foi 0,56717. <br><br>  A qualidade do modelo com a borda ideal √© a seguinte: <br><br><img src="https://habrastorage.org/webt/ht/dw/xw/htdwxwcaydycfyvzwaebe3-v6mu.png"><br><br>  Em nossa situa√ß√£o, a precis√£o do modelo era mais importante para n√≥s do que sua integridade.  √â a maior precis√£o que nos permite reduzir o n√∫mero de previs√µes falso-positivas, ou seja, nos permite reduzir o n√∫mero de situa√ß√µes quando est√°vamos aguardando uma liga√ß√£o bem-sucedida, mas acabou sendo malsucedida. <br><br>  Se resumir o mecanismo do modelo: <br><br><ul><li>  para cada hora do dia e dia da semana de cada aluno, a probabilidade de discagem √© calculada levando em considera√ß√£o suas caracter√≠sticas e hor√°rio local; </li><li>  para armazenamento adicional, uma hora √© selecionada de 9 a 20 horas para cada dia da semana (a hora √© selecionada de acordo com o fuso hor√°rio do aluno); </li><li>  Antes de salvar, a hora √© alterada para a hora de Moscou, pois a discagem ser√° realizada no fuso hor√°rio de Moscou; </li><li>  Os resultados s√£o salvos no banco de dados. </li></ul><br>  Portanto, agora as operadoras de call center previram dados sobre a probabilidade de discagem para cada usu√°rio e a cada hora e dia da semana.  Se a chamada n√£o for urgente, o operador poder√° escolher o slot mais otimizado da semana e, em casos extremos - se a chamada n√£o puder mais ser adiada - o momento de maior sucesso do dia √∫til atual. <br><br>  Obviamente, ap√≥s a introdu√ß√£o do meu modelo, ser√° necess√°rio fazer uma pausa e, em seguida, fazer todo esse trabalho novamente, mas com novos dados.  Posso fazer alguns c√°lculos abstratos infinitamente, calcular probabilidades e adicionar novas vari√°veis ‚Äã‚Äãao modelo, mas at√© que as estat√≠sticas vivas confirmem meu argumento, √© muito cedo para fechar esta pergunta. <br><br>  Se voc√™ gostou, depois de um tempo, voltarei com os novos dados obtidos ap√≥s a introdu√ß√£o do meu modelo de previs√£o. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt464007/">https://habr.com/ru/post/pt464007/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt463991/index.html">Localizando detec√ß√£o n√£o supervisionada de objetos</a></li>
<li><a href="../pt463995/index.html">A propor√ß√£o √°urea em economia - o que √©?</a></li>
<li><a href="../pt463999/index.html">Cientistas desenvolveram c√©lulas com aparelhos eletr√¥nicos implantados</a></li>
<li><a href="../pt464001/index.html">A fus√£o do OpenTracing e do OpenCensus: o caminho para a converg√™ncia</a></li>
<li><a href="../pt464003/index.html">Roteador 4G como um servidor universal para IoT</a></li>
<li><a href="../pt464011/index.html">Como deixei a TI na psicologia</a></li>
<li><a href="../pt464013/index.html">Perguntas frequentes sobre a API do HeadHunter (publica√ß√£o de trabalhos)</a></li>
<li><a href="../pt464015/index.html">Instale o OpenCV + CUDA no Windows</a></li>
<li><a href="../pt464017/index.html">Esta√ß√£o de trabalho criptogr√°fica baseada em tokens PKCS # 11. Obten√ß√£o de certificados para EGAIS. Parte 4</a></li>
<li><a href="../pt464019/index.html">C√≥digo aberto: desenvolvedor da placa gr√°fica revelou documenta√ß√£o do driver para Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>