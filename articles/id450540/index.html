<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🗑️ 🧡 👋🏿 Metaprogramming dalam JavaScript dan TypeScript 🤞🏽 🌿 🥂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Prolog 


 Saya ingin mempersembahkan kepada Anda sejumlah patung mini yang akan menjelaskan teknik dan dasar-dasar pemograman. Saya terutama akan men...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Metaprogramming dalam JavaScript dan TypeScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450540/"><h4>  Prolog </h4><br><p>  <i>Saya ingin mempersembahkan kepada Anda sejumlah patung mini yang akan menjelaskan teknik dan dasar-dasar pemograman.</i>  <i>Saya terutama akan menulis tentang penggunaan teknik-teknik tertentu dalam JavaScript atau dalam TypeScript</i> <i><br></i>  <i>Ini adalah artikel pertama (dan mudah-mudahan bukan yang terakhir) dalam seri ini.</i> </p><br><h4>  Jadi, apa itu pemrograman? </h4><br><blockquote>  <b>Metaprogramming</b> adalah teknik pemrograman di mana program komputer memiliki kemampuan untuk memperlakukan program lain sebagai datanya.  Ini berarti bahwa suatu program dapat dirancang untuk membaca, menghasilkan, menganalisis atau mengubah program lain, dan bahkan memodifikasi sendiri saat berjalan.  Dalam beberapa kasus, <b>ini memungkinkan programmer untuk meminimalkan jumlah baris kode untuk mengekspresikan solusi, yang pada gilirannya mengurangi waktu pengembangan</b> . </blockquote><p>  Deskripsi yang agak membingungkan, tetapi manfaat utama dari pemrograman metaf dapat dimengerti: </p><br><blockquote>  ... ini memungkinkan programmer untuk meminimalkan jumlah baris kode untuk mengimplementasikan solusi, yang pada gilirannya mengurangi waktu pengembangan </blockquote><p><img src="https://habrastorage.org/webt/zw/yk/oe/zwykoepkmw_dicgpgzlxsim7dle.jpeg"></p><a name="habracut"></a><br><p> Bahkan, metaprogramming memiliki banyak wajah dan kedok.  Dan Anda dapat berdiskusi untuk waktu yang lama tentang "di mana metaprogramming berakhir dan pemrograman itu sendiri dimulai" </p><br><p>  Bagi saya sendiri, saya menerima aturan berikut: </p><br><ol><li>  Metaprogramming tidak berurusan dengan logika bisnis, tidak mengubahnya, dan tidak mempengaruhinya dengan cara apa pun. </li><li>  Jika Anda menghapus semua kode pemrograman, ini seharusnya tidak (secara radikal) memengaruhi program. </li></ol><br><p>  Dalam JavaScript, metaprogramming adalah tren yang relatif baru, batu bata dasarnya adalah deskriptor. </p><br><h4>  Deskriptor JavaScript </h4><br><p>  Deskriptor adalah sejenis deskripsi (meta informasi) dari properti atau metode tertentu dalam suatu objek. </p><br><p>  Memahami dan memanipulasi objek ini dengan benar ( <i>deskriptor</i> ) memungkinkan lebih dari sekedar membuat dan mengubah metode atau properti dalam objek. <br>  Juga <i>deskriptor</i> akan membantu dalam memahami pekerjaan dengan dekorator (tetapi lebih banyak tentang itu di artikel berikutnya). </p><br><p>  Untuk lebih jelasnya, bayangkan objek kita adalah deskripsi apartemen. <br>  Kami menggambarkan objek apartemen kami: </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> apt = { <span class="hljs-attr"><span class="hljs-attr">floor</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-attr"><span class="hljs-attr">number</span></span>: <span class="hljs-string"><span class="hljs-string">'12B'</span></span>, <span class="hljs-attr"><span class="hljs-attr">size</span></span>: <span class="hljs-number"><span class="hljs-number">3400</span></span>, <span class="hljs-attr"><span class="hljs-attr">bedRooms</span></span>: <span class="hljs-number"><span class="hljs-number">3.4</span></span>, <span class="hljs-attr"><span class="hljs-attr">bathRooms</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">400000</span></span>, <span class="hljs-attr"><span class="hljs-attr">amenities</span></span>: {...} };</code> </pre> <br><p>  Mari kita tentukan properti mana yang dapat dimodifikasi dan mana yang tidak. </p><br><p>  Misalnya, lantai atau ukuran total apartemen tidak dapat diubah, tetapi jumlah kamar atau kamar mandi sangat mungkin. <br>  Dan jadi kami memiliki persyaratan berikut: pada objek yang <i>tepat</i> , membuatnya tidak mungkin untuk mengubah sifat: <i>lantai</i> dan <i>ukuran</i> . </p><br><p>  Untuk mengatasi masalah ini, kita hanya perlu <i>deskriptor dari</i> masing-masing properti ini.  Untuk mendapatkan <i>descriptor</i> , kami menggunakan metode statis <i>getOwnPropertyDescriptor</i> , yang dimiliki oleh <i>Object</i> kelas. </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> descriptor = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptor(todoObject, <span class="hljs-string"><span class="hljs-string">'floor'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(descriptor); <span class="hljs-comment"><span class="hljs-comment">// Output { value: 12, writable: true, enumerable: true, configurable: true }</span></span></code> </pre> <br><p>  Mari kita analisis secara berurutan: <br>  <em>value: any</em> - sebenarnya nilai yang sama yang pada titik tertentu ditugaskan ke properti <em>lantai</em> <br>  <em>dapat ditulis: boolean</em> - menentukan apakah akan mengubah <em>nilai</em> atau tidak <br>  <em>enumerable: boolean</em> - menentukan apakah properti <em>lantai</em> dapat terdaftar atau tidak - (lebih lanjut tentang itu nanti). <br>  <em>dapat dikonfigurasi: boolean</em> - Menentukan kemampuan untuk membuat perubahan pada objek <em>deskriptor</em> . </p><br><p>  Untuk mencegah kemungkinan mengubah properti <em>lantai</em> , setelah inisialisasi, perlu mengubah nilai yang <em>dapat ditulis</em> menjadi <em>salah</em> . <br>  Untuk mengubah properti <em>deskriptor,</em> ada metode statis <em>defineProperty</em> , yang mengambil objek itu sendiri, nama properti, dan <em>deskriptor</em> . </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty(apt, <span class="hljs-string"><span class="hljs-string">'floor'</span></span>, {<span class="hljs-attr"><span class="hljs-attr">writable</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>});</code> </pre> <br><p>  Dalam contoh ini, kami tidak melewatkan seluruh objek <em>deskriptor</em> , tetapi hanya satu properti yang <em>dapat ditulis</em> dengan nilai <em>false</em> . <br>  Sekarang mari kita coba untuk mengubah nilai di properti lantai: </p><br><pre> <code class="javascript hljs">apt.floor = <span class="hljs-number"><span class="hljs-number">44</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(apt.floor); <span class="hljs-comment"><span class="hljs-comment">// output 12</span></span></code> </pre> <br><p>  Nilai tidak berubah, dan saat menggunakan 'gunakan ketat' kami menerima pesan kesalahan: </p><br><blockquote>  Tidak dapat menetapkan untuk hanya membaca properti 'lantai' objek ... </blockquote><p>  Dan sekarang kita tidak bisa lagi mengubah nilainya.  Namun, kami masih dapat mengembalikan yang <em>dapat ditulisi -&gt; true</em> dan kemudian mengubah properti <em>lantai</em> .  Untuk menghindari hal ini, perlu untuk mengubah nilai properti yang dapat <em>dikonfigurasi</em> ke <em>false</em> dalam <em>deskriptor</em> . </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty(apt, <span class="hljs-string"><span class="hljs-string">'floor'</span></span>, {<span class="hljs-attr"><span class="hljs-attr">writable</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">configurable</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>});</code> </pre> <br><p>  Jika sekarang kita mencoba mengubah nilai salah satu properti dari deskriptor kami ... </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty(apt, <span class="hljs-string"><span class="hljs-string">'floor'</span></span>, {<span class="hljs-attr"><span class="hljs-attr">writable</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">configurable</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>});</code> </pre> <br><p>  Sebagai tanggapan, kami mendapatkan: </p><br><blockquote>  TypeError: Tidak dapat mendefinisikan ulang properti: lantai <br>  Dengan kata lain, kita tidak bisa lagi mengubah nilai <em>floor</em> atau <em>deskriptornya</em> . </blockquote><br><h4 id="summiruem">  Ringkaslah </h4><br><p>  Untuk membuat nilai properti di objek tidak berubah, perlu mendaftarkan konfigurasi properti ini: <em>{dapat ditulis: salah, dapat dikonfigurasi: salah}</em> . </p><br><p>  Ini dapat dilakukan seperti saat inisialisasi properti: </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty(apt, <span class="hljs-string"><span class="hljs-string">'floor'</span></span>, {<span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-attr"><span class="hljs-attr">writable</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">configurable</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>});</code> </pre> <br><p>  Atau sesudahnya. </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty(apt, <span class="hljs-string"><span class="hljs-string">'floor'</span></span>, {<span class="hljs-attr"><span class="hljs-attr">writable</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">configurable</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>});</code> </pre> <br><p>  Pada akhirnya, pertimbangkan sebuah contoh dengan kelas: </p><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Apartment</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(apt) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.apt = apt; } getFloor() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.apt.floor } } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> apt = { <span class="hljs-attr"><span class="hljs-attr">floor</span></span>: <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-attr"><span class="hljs-attr">number</span></span>: <span class="hljs-string"><span class="hljs-string">'12B'</span></span>, <span class="hljs-attr"><span class="hljs-attr">size</span></span>: <span class="hljs-number"><span class="hljs-number">3400</span></span>, <span class="hljs-attr"><span class="hljs-attr">bedRooms</span></span>: <span class="hljs-number"><span class="hljs-number">3.4</span></span>, <span class="hljs-attr"><span class="hljs-attr">bathRooms</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: <span class="hljs-number"><span class="hljs-number">400000</span></span>, <span class="hljs-attr"><span class="hljs-attr">amenities</span></span>: {...} };</code> </pre> <br><p>  Ubah metode getFloor: </p><br><pre> <code class="javascript hljs">Apartment.prototype.getFloor = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">44</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> myApt = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Apartment(apt); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(myApt); <span class="hljs-comment"><span class="hljs-comment">// output will be changed. 44</span></span></code> </pre> <br><p>  Sekarang ubah <em>deskriptor</em> metode <em>getFloor ()</em> : </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty(Apartment.prototype, <span class="hljs-string"><span class="hljs-string">'getFloor'</span></span>, {<span class="hljs-attr"><span class="hljs-attr">writable</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">configurable</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>}); Apartment.prototype.getFloor = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">44</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> myApt = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Apartment(apt); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(myApt); <span class="hljs-comment"><span class="hljs-comment">// output will be original. 12</span></span></code> </pre> <br><p>  Saya harap artikel ini memberi sedikit lebih banyak <em>keterangan</em> tentang apa itu <em>deskriptor</em> dan bagaimana <em>deskriptor</em> itu dapat digunakan. </p><br><blockquote>  Segala sesuatu yang ditulis di atas tidak mengklaim benar-benar benar atau satu-satunya yang benar. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id450540/">https://habr.com/ru/post/id450540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id450530/index.html">Apa yang baru di cloud: 15 materi tentang standar, alat, dan regulasi</a></li>
<li><a href="../id450532/index.html">Bagaimana saya menjadi PMP dan cara terbaik untuk tidak melakukannya</a></li>
<li><a href="../id450534/index.html">Apa yang terdengar di udara? Kami menerima dan mendekode sinyal yang paling menarik</a></li>
<li><a href="../id450536/index.html">Lulusan universitas Amerika lebih unggul daripada lulusan Rusia, Cina, dan India</a></li>
<li><a href="../id450538/index.html">Ascot 170 - komputer mekanik dan paleoendemik Soviet</a></li>
<li><a href="../id450542/index.html">Racun yang paling menarik</a></li>
<li><a href="../id450544/index.html">PHP 7.4 akan menyertakan fungsi panah (notasi singkat untuk fungsi anonim)</a></li>
<li><a href="../id450546/index.html">Awalan bicara ke mesin cuci yang tidak melanggar garansi</a></li>
<li><a href="../id450548/index.html">"Runet Isolation" atau "Sovereign Internet"</a></li>
<li><a href="../id450550/index.html">Bagian 4. Programmer karier. Junior Entri lepas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>