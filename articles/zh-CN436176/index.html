<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§šğŸ¿ ğŸ‘µğŸ¾ ğŸ‘©ğŸ¼â€ğŸŒ¾ å¦‚ä½•ä½¿ç”¨è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œæ•´ç†ï¼Œæµ‹è¯•å’Œè‡ªåŠ¨ç”Ÿæˆçš„æ–‡æ¡£æ¥è®¾ç½®å‰ç«¯é¡¹ç›® ğŸ¿ ğŸ© ğŸ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ä¿„è¯­åŸæ–‡ 


 å³ä½¿æ‚¨ç‹¬è‡ªå·¥ä½œï¼Œä¿æŒä»£ç çš„ä¸€è‡´æ€§å’Œæ ¼å¼æ­£ç¡®ä¹Ÿä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹ã€‚ ä½†æ˜¯ï¼Œå½“æ‚¨ä¸å›¢é˜Ÿæˆ–å¼€æºé¡¹ç›®ä¸€èµ·å·¥ä½œæ—¶ï¼Œä¸€åˆ‡éƒ½ä¼šå˜å¾—è¶Šæ¥è¶Šå›°éš¾ã€‚ æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„ä»£ç é£æ ¼ï¼Œæ²¡æœ‰äººè¿è¡Œæµ‹è¯•ï¼Œæ²¡æœ‰äººç¼–å†™æ–‡æ¡£ã€‚ æœ¬æ–‡å°†å¸®åŠ©æ‚¨è®¾ç½®æ‰€æœ‰è¿™äº›å†…å®¹ï¼Œç”šè‡³æ›´å¤š-è‡ªåŠ¨æ‰§è¡Œæ­¤ä¾‹ç¨‹ï¼Œä»¥å…æ‰‹åŠ¨æ‰§è¡Œã€‚ 


 é˜…è¯»åï¼Œæ‚¨å°†è·...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>å¦‚ä½•ä½¿ç”¨è‡ªåŠ¨æ ¼å¼åŒ–ï¼Œæ•´ç†ï¼Œæµ‹è¯•å’Œè‡ªåŠ¨ç”Ÿæˆçš„æ–‡æ¡£æ¥è®¾ç½®å‰ç«¯é¡¹ç›®</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436176/"><p><img src="https://habrastorage.org/webt/de/cu/3u/decu3uxv998uiwmqbioi99ojnfi.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>ä¿„è¯­åŸæ–‡</em></a> </p><br><p> å³ä½¿æ‚¨ç‹¬è‡ªå·¥ä½œï¼Œä¿æŒä»£ç çš„ä¸€è‡´æ€§å’Œæ ¼å¼æ­£ç¡®ä¹Ÿä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹ã€‚ ä½†æ˜¯ï¼Œå½“æ‚¨ä¸å›¢é˜Ÿæˆ–å¼€æºé¡¹ç›®ä¸€èµ·å·¥ä½œæ—¶ï¼Œä¸€åˆ‡éƒ½ä¼šå˜å¾—è¶Šæ¥è¶Šå›°éš¾ã€‚ æ¯ä¸ªäººéƒ½æœ‰è‡ªå·±çš„ä»£ç é£æ ¼ï¼Œæ²¡æœ‰äººè¿è¡Œæµ‹è¯•ï¼Œæ²¡æœ‰äººç¼–å†™æ–‡æ¡£ã€‚ æœ¬æ–‡å°†å¸®åŠ©æ‚¨è®¾ç½®æ‰€æœ‰è¿™äº›å†…å®¹ï¼Œç”šè‡³æ›´å¤š-è‡ªåŠ¨æ‰§è¡Œæ­¤ä¾‹ç¨‹ï¼Œä»¥å…æ‰‹åŠ¨æ‰§è¡Œã€‚ </p><br><p> é˜…è¯»åï¼Œæ‚¨å°†è·å¾—å…·æœ‰ä»¥ä¸‹åŠŸèƒ½çš„è‡ªå·±çš„npm-readyé¡¹ç›®ï¼š </p><a name="habracut"></a><br><ul><li> æ–‡å­—æ ¼å¼å’Œä»£ç æ ·å¼ </li><li> å…·æœ‰ä»£ç è¦†ç›–ç‡å’Œé˜ˆå€¼çš„è‡ªåŠ¨åŒ–æµ‹è¯• </li><li> ç»Ÿä¸€æäº¤æ ·å¼ </li><li> æ ¹æ®ä»£ç å’Œæäº¤ç”Ÿæˆçš„æ–‡æ¡£ </li><li> è‡ªåŠ¨åŒ–çš„å‘å¸ƒè¿‡ç¨‹ </li></ul><br><p> èµ°å§ </p><br><h2 id="prerequisites"> å…ˆå†³æ¡ä»¶ </h2><br><p> åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¤¹ï¼Œåˆå§‹åŒ–æ–°å­˜å‚¨åº“ï¼Œè¿›è¡Œé¡¹ç›®å¹¶è½¬åˆ°ä¸‹ä¸€æ­¥ã€‚ </p><br><pre><code class="plaintext hljs">git init npm init npm i -D typescript ./node_modules/.bin/tsc --init</code> </pre> <br><h2 id="code-formatting"> ä»£ç æ ¼å¼åŒ– </h2><br><p> è®©æˆ‘ä»¬ä»ä»£ç æ ¼å¼å¼€å§‹-ç¼©è¿›ç±»å‹ï¼Œå¤§å°ç­‰ã€‚ ç¬¬ä¸€ä¸ªå·¥å…·æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">.editorconfig</a>æ–‡ä»¶ã€‚ é™¤äº†æ‚¨çš„IDEå¤–ï¼Œå®ƒä¸éœ€è¦ä»»ä½•å…¶ä»–å†…å®¹ï¼Œå¹¶ä¸”å¯ä»¥å¸®åŠ©æ‚¨åœ¨æ•´ä¸ªå›¢é˜Ÿä¸­ä¿æŒè‡ªåŠ¨æ ¼å¼çš„ä¸€è‡´æ€§ã€‚ </p><br><p> åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­ä½¿ç”¨ä¸‹ä¸€ä¸ªå†…å®¹åˆ›å»º.editorconfigï¼ˆå¯ä»¥æ ¹æ®éœ€è¦çš„æ ·å¼è¿›è¡Œæ›´æ”¹ï¼‰ </p><br><pre> <code class="plaintext hljs">#root = true [*] indent_style = space end_of_line = lf charset = utf-8 trim_trailing_whitespace = true insert_final_newline = true max_line_length = 100 indent_size = 4 [*.md] trim_trailing_whitespace = false</code> </pre> <br><p> è¿™ç¡®å®å¾ˆæ£’ï¼Œä½†æœ‰æ—¶åŠŸèƒ½ä¸è¶³ï¼Œæ— æ³•æ»¡è¶³æ‚¨çš„éœ€æ±‚ã€‚ ä¸ºäº†ç¡®ä¿æ‰€æœ‰æ ¼å¼éƒ½<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ›´æ¼‚äº®ï¼Œå®ƒä»¬ä¼š</a>å‡ºç°ã€‚ å¦‚æœæ‚¨å¿˜è®°æ ¼å¼åŒ–ä»£ç ï¼Œåˆ™æ¼‚äº®çš„ä»£ç ä¼šä¸ºæ‚¨å®Œæˆã€‚ </p><br><pre> <code class="plaintext hljs">npm i -D prettier</code> </pre> <br><p> å°†æ­¤å‘½ä»¤æ·»åŠ åˆ°package.jsonæ–‡ä»¶çš„scriptséƒ¨åˆ† </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"prettier --config .prettierrc.json --write src/**/*.ts"</span></span></code> </pre> <br><p> å¹¶å°†å¸¦æœ‰è®¾ç½®çš„.prettierrc.jsonæ–‡ä»¶æ·»åŠ åˆ°é¡¹ç›®çš„æ ¹ç›®å½• </p><br><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"tabWidth"</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-attr"><span class="hljs-attr">"useTabs"</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">"semi"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"singleQuote"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"trailingComma"</span></span>: <span class="hljs-string"><span class="hljs-string">"es5"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"arrowParens"</span></span>: <span class="hljs-string"><span class="hljs-string">"always"</span></span> }</code> </pre> <br><p> ç°åœ¨ï¼Œæ‚¨å¯ä»¥ç¼–å†™ä¸€äº›ä»£ç ï¼Œç„¶åå°è¯•è¿è¡Œâ€œ npm run prettierâ€ã€‚  Prettierå°†æ£€æŸ¥srcæ–‡ä»¶å¤¹å¹¶è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ï¼Œè€Œæ— éœ€æ‚¨çš„ä»»ä½•å¸®åŠ©ï¼ </p><br><h2 id="code-style"> ä»£ç é£æ ¼ </h2><br><p> ä»£ç æ ·å¼-é¿å…ä½¿ç”¨==è€Œä¸æ˜¯===æˆ–é˜´å½±å˜é‡ä¹Ÿéœ€è¦æ£€æŸ¥ã€‚ ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">tslint</a> ã€‚ å¦‚æœæ‚¨æ›´å–œæ¬¢javascriptï¼Œè¯·<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ”¹ç”¨eslint</a> ã€‚ </p><br><pre> <code class="plaintext hljs">npm i -D tslint ./node_modules/.bin/tslint --init</code> </pre> <br><p> æœ€åä¸€æ¡å‘½ä»¤å°†ä¸ºæ‚¨åˆ›å»ºtslint.jsonæ–‡ä»¶ã€‚ å®ƒä¿ç•™æ‚¨çš„è®¾ç½®ï¼Œå¹¶ä¸”å·²ç»æ‰©å±•äº†tslintï¼šå»ºè®®çš„è§„åˆ™é›†ï¼Œä½†æ˜¯æ‚¨å¯ä»¥æ ¹æ®éœ€è¦æ‰©å±•æˆ–è¦†ç›–å®ƒä»¬ã€‚ ä¸è¦å¿˜è®°åœ¨æ‚¨çš„package.jsonä¸­æ·»åŠ lintå‘½ä»¤ã€‚ </p><br><p>  package.json </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"lint"</span></span>: <span class="hljs-string"><span class="hljs-string">"tslint -c tslint.json 'src/**/*.ts' 'tests/**/*.spec.ts'"</span></span></code> </pre> <br><p> å¦‚æ‚¨æ‰€è§ï¼Œå®ƒçš„è®¾ç½®å¯ä»¥ä¸srcå’Œtestsæ–‡ä»¶å¤¹ä¸€èµ·ä½¿ç”¨ï¼Œå› æ­¤æ‰€æœ‰ä»£ç éƒ½åº”æ”¾åœ¨æ­¤å¤„ã€‚ </p><br><h2 id="testing"> æµ‹è¯•ä¸­ </h2><br><p> ç°åœ¨æ˜¯æ—¶å€™è¿›è¡Œæµ‹è¯•äº†ã€‚ å®‰è£…ä¸šåŠ›å’Œå…¶ä»–ç›¸å…³ä¾èµ–é¡¹ </p><br><pre> <code class="plaintext hljs">npm i -D karma karma-jasmine jasmine karma-typescript karma-chrome-launcher @types/jasmine ./node_modules/.bin/karma init</code> </pre> <br><p> å¹¶å°†æ–°çš„é…ç½®å—æ·»åŠ åˆ°æ–°åˆ›å»ºçš„karma.conf.jsä¸­ </p><br><div class="spoiler">  <b class="spoiler_title">karma.conf.js</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">karmaTypescriptConfig : { include: ["./src/**/*.ts", "./tests/**/*.spec.ts"], tsconfig: "./tsconfig.json", reports: { "html": "coverage", "lcovonly": { directory: './coverage', filename: '../lcov.dat' } }, coverageOptions: { threshold: { global: { statements: 60, branches: 60, functions: 60, lines: 60 }, file: { statements: 60, branches: 60, functions: 60, lines: 60, } } }, }</code> </pre> </div></div><br><p> è¿™å°†è®¾ç½®ä»£ç è¦†ç›–ç‡æ–‡ä»¶å’Œé˜ˆå€¼çº§åˆ«ã€‚ ä¸¤è€…éƒ½å¾ˆé‡è¦ã€‚ ç¬¬ä¸€ä¸ªå¸®åŠ©æ‚¨å¤„ç†æ‰¿ä¿èŒƒå›´ï¼Œç¬¬äºŒä¸ªä½¿æ‚¨çš„æ‰¿ä¿èŒƒå›´ä¿æŒä¸€å®šæ°´å¹³ã€‚ </p><br><p> æ›´æ–°package.json </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"test"</span></span>: <span class="hljs-string"><span class="hljs-string">"karma start"</span></span></code> </pre> <br><p> å¹¶å°è¯•è¿è¡Œå®ƒã€‚ ä¸è¦å¿˜è®°åœ¨srcæ–‡ä»¶å¤¹ä¸­ç¼–å†™ä¸€äº›ä»£ç ï¼Œå¹¶åœ¨testsæ–‡ä»¶å¤¹ä¸­ç¼–å†™æµ‹è¯•ã€‚ è¿™æ˜¯æ‚¨çš„ä»£ç è¦†ç›–ç‡æŠ¥å‘Šçš„æ ·å­ï¼š </p><br><p><img src="https://habrastorage.org/webt/9h/0l/pi/9h0lpiplvfhu8pxbrawnnwysdw4.png"></p><br><p> é¡ºä¾¿è¯´ä¸€å¥ï¼Œå¦‚æœæ‚¨æ‰“ç®—ä½¿ç”¨æŒç»­é›†æˆï¼ˆä¾‹å¦‚Travisï¼ŒJenkinsç­‰ï¼‰ï¼Œæœ€å¥½å°†Chromeæµè§ˆå™¨è¿è¡Œå™¨æ›´æ”¹ä¸ºHeadupChrome with <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">puppeteer</a> ã€‚ æœ‰å…³HeadlessChromeå’ŒCIçš„æ›´å¤šä¿¡æ¯-åœ¨GitHubä¸ŠæŸ¥çœ‹æˆ‘çš„æ¼”ç¤º<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å­˜å‚¨åº“</a> ã€‚ </p><br><h2 id="commit-style"> æäº¤é£æ ¼ </h2><br><p> é€šå¸¸ï¼Œæ‰€æœ‰å†™æäº¤éƒ½é‡‡ç”¨æŸç§â€œéšæœºâ€æ ¼å¼ã€‚ å› æ­¤ï¼Œä¸ºäº†ä½¿æäº¤è¶³å¤Ÿå¥½ï¼Œå°±å‘æ˜äº†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">commitizen</a> ã€‚ è¯¥å·¥å…·æç¤ºä¸€äº›é—®é¢˜å¹¶ä¸ºæ‚¨ç”Ÿæˆæäº¤ã€‚ æˆ‘ä»¬å¯ä»¥ä»åœ¨commitizençš„å¸®åŠ©ä¸‹ç¼–å†™çš„æäº¤ç”Ÿæˆæ›´æ”¹æ—¥å¿—æ–‡ä»¶çš„å¦ä¸€ä¸ªå¥½å¤„ã€‚ </p><br><p> å®‰è£…commitizenå’Œå¸¸è§„çš„changelogé€‚é…å™¨ </p><br><pre> <code class="plaintext hljs">npm i -D commitizen npm i -D cz-conventional-changelog</code> </pre> <br><p> æ›´æ–°è„šæœ¬ </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"commit"</span></span>:<span class="hljs-string"><span class="hljs-string">"git-cz"</span></span></code> </pre> <br><p> åœ¨package.jsonä¸­æ·»åŠ æ–°çš„é…ç½®éƒ¨åˆ†ä»¥è¿›è¡Œcommitizenã€‚ </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"config"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"commitizen"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"path"</span></span>: <span class="hljs-string"><span class="hljs-string">"./node_modules/cz-conventional-changelog"</span></span> } }</code> </pre> <br><p> å°è¯•è¿›è¡Œæäº¤æˆ–æ£€æŸ¥æ­¤å›¾åƒä»¥äº†è§£å…¶å¤–è§‚ï¼š </p><br><p><img src="https://habrastorage.org/webt/tn/xk/_l/tnxk_ll7a-chazpw8p0a2fnl3wk.png"></p><br><h2 id="documentation"> æ–‡çŒ®èµ„æ–™ </h2><br><p> å¦‚æœæ‚¨çš„é¡¹ç›®å¤§äºå‡ ä¸ªåŠŸèƒ½ï¼Œé‚£ä¹ˆæœ€å¥½æœ‰ä¸€äº›æ–‡æ¡£ã€‚ å½“æ‚¨ä¸éœ€è¦æ‰‹åŠ¨ç¼–å†™å†…å®¹æ—¶ï¼Œå®ƒç”šè‡³ä¼šæ›´å¥½ã€‚ ä¸ºæ­¤ï¼Œå­˜åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">typedoc</a> ã€‚ å®ƒä½¿ç”¨æ‚¨çš„.tsæ–‡ä»¶ï¼Œæ‚¨çš„jsdocæ³¨é‡Šå¹¶åˆ›å»ºæ¼‚äº®è€Œé—ªäº®çš„æ–‡æ¡£ã€‚ å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯JavaScriptï¼Œåˆ™å¯ä»¥å°è¯•ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">esdoc</a> ã€‚ </p><br><p> è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œtypedocå¦‚ä½•æè¿°æˆ‘çš„å‡½æ•°isNumberStrictï¼š </p><br><p><img src="https://habrastorage.org/webt/u8/ns/y7/u8nsy7t6s6bwooyklrkxyzuc9k8.png"></p><br><pre> <code class="plaintext hljs">npm i -D typedoc</code> </pre> <br><p>  package.json </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"doc"</span></span>: <span class="hljs-string"><span class="hljs-string">"typedoc --out docs/src"</span></span></code> </pre> <br><p> å¦ä¸€ä¸ªå¥½ä¸»æ„æ˜¯ä¹Ÿä½¿æ›´æ”¹æ—¥å¿—æ–‡ä»¶ä¹Ÿè‡ªåŠ¨ç”Ÿæˆã€‚ å¦‚å‰æ‰€è¿°ï¼Œcommitizenæ”¯æŒå¸¸è§„æ›´æ”¹æ—¥å¿—ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œæäº¤å¹¶å°†å…¶è½¬æ¢ä¸ºæ›´æ”¹æ—¥å¿—æ–‡ä»¶ã€‚ </p><br><p> å®‰è£…<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¸¸è§„çš„changelog-cli</a> </p><br><pre> <code class="plaintext hljs">npm i -D conventional-changelog-cli</code> </pre> <br><p> å¹¶ä½¿ç”¨æ–°å‘½ä»¤æ›´æ–°package.json </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"changelog"</span></span>: <span class="hljs-string"><span class="hljs-string">"conventional-changelog -p angular -i CHANGELOG.md -s"</span></span></code> </pre> <br><p> ä¸ç”¨æ‹…å¿ƒï¼Œè§’åº¦æ„å‘³ç€ä»…æ ·å¼æ ¼å¼åŒ–ï¼Œä»…æ­¤è€Œå·²ã€‚ ç°åœ¨ï¼Œæ‚¨çš„å˜æ›´æ—¥å¿—å°†å¦‚ä¸‹æ‰€ç¤ºï¼š </p><br><p><img src="https://habrastorage.org/webt/ji/hj/uv/jihjuv5ixjsm0_fr45vp3pzllx8.png"></p><br><h2 id="build"> å»ºç«‹ </h2><br><p> æ„å»ºéå¸¸ç®€å•ï¼Œåªéœ€å°†buildå’Œcleanå‘½ä»¤æ·»åŠ åˆ°package.jsonä¸­å³å¯ã€‚ </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"clean"</span></span>:<span class="hljs-string"><span class="hljs-string">"rmdir dist /S /Q"</span></span>, <span class="hljs-string"><span class="hljs-string">"build"</span></span>: <span class="hljs-string"><span class="hljs-string">"tsc --p ./ --sourceMap false"</span></span>,</code> </pre> <br><p> å¦‚æœéœ€è¦æ†ç»‘æˆ–ç¼©å°ï¼Œè¯·å°è¯•<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">uglifyjs</a> ã€‚ </p><br><h2 id="automation"> è‡ªåŠ¨åŒ–æŠ€æœ¯ </h2><br><p> å¥½çš„ï¼Œå¤§éƒ¨åˆ†å·²ç»å®Œæˆã€‚ æˆ‘ä»¬åˆ›å»ºäº†è®¸å¤šä¸åŒçš„è„šæœ¬æ¥ä¿æŒä»£ç çš„æ¸…æ´å’Œæ­£ç¡®ã€‚ ä½†æ˜¯ï¼Œæ¯æ¬¡æ‰‹åŠ¨è¿è¡Œå®ƒä»¬éƒ½æ˜¯ä¸€é¡¹å¾ˆæ— èŠçš„ä»»åŠ¡ï¼Œå¹¶ä¸”å¯èƒ½å¯¼è‡´é”™è¯¯ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä½¿å®ƒä»¬è‡ªåŠ¨åŒ–ã€‚ å¦‚æ‚¨æ‰€çŸ¥ï¼Œå½“æ‚¨è¿›è¡Œæäº¤æ—¶ï¼Œä¼šå‡ºç°ä¸€äº›gitäº‹ä»¶-æäº¤å‰ï¼Œæäº¤åç­‰ç­‰ã€‚ åœ¨æäº¤æˆ–æ¨é€ä»£ç ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥è¿è¡Œæˆ‘ä»¬è‡ªå·±çš„è„šæœ¬ã€‚ ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜-gité’©å­ä¸å¯å…±äº«ã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ²™å“‘çš„</a>å‡ºç°ã€‚ è¿™ä¸ªåŒ…åŒ…è£…äº†gitäº‹ä»¶å¹¶ä»package.jsonè¿è¡Œè„šæœ¬ã€‚ å¦‚æœè„šæœ¬å¤±è´¥ï¼Œæäº¤å°†è¢«å–æ¶ˆï¼Œå¹¶ä¸”æ‚¨ä¼šæ”¶åˆ°æ¶ˆæ¯ï¼ŒæŒ‡å‡ºå‡ºäº†ä»€ä¹ˆé—®é¢˜ã€‚ </p><br><p> å®‰è£…æ²™å“‘ </p><br><pre> <code class="plaintext hljs">npm i -D husky</code> </pre> <br><p> å¹¶æè¿°package.jsonä¸­çš„ä¸€äº›é’©å­ </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"precommit"</span></span>:<span class="hljs-string"><span class="hljs-string">"npm run prettier"</span></span>, <span class="hljs-string"><span class="hljs-string">"prepush"</span></span>: <span class="hljs-string"><span class="hljs-string">"call npm run lint &amp;&amp; call npm run test"</span></span></code> </pre> <br><p> ç°åœ¨ï¼Œå½“æ‚¨å°è¯•è¿›è¡Œæ›´æ¼‚äº®çš„æäº¤æ—¶ï¼Œå®ƒå°†è¿è¡Œå¹¶ä¿®å¤æ‰€æœ‰æ ¼å¼é—®é¢˜ã€‚ å½“æ‚¨å°è¯•è¿›è¡Œæ¨é€æ—¶-ä»£ç æ ·å¼å’Œæµ‹è¯•å°†è‡ªåŠ¨å®Œæˆã€‚ æ‚¨å¯ä»¥æ ¹æ®éœ€è¦æ‰©å±•æ­¤å‘½ä»¤ï¼Œä¾‹å¦‚å‘é€é€šçŸ¥ï¼Œé¢å¤–æ£€æŸ¥ç­‰ã€‚ </p><br><h2 id="publish"> å‘å¸ƒ </h2><br><p> å¤ªå¥½äº†ï¼Œæˆ‘ä»¬å¿«å®Œæˆäº†ã€‚ å› æ­¤ï¼Œå‡è®¾æˆ‘ä»¬å·²ç»å‡†å¤‡å¥½å°†è½¯ä»¶åŒ…å‘å¸ƒåˆ°npmã€‚ å¦‚æ‚¨æ‰€çŸ¥ï¼Œåœ¨è¿›è¡Œæµ‹è¯•ï¼Œæ–‡æ¡£æ›´æ–°ï¼Œç‰ˆæœ¬å’Œæ ‡ç­¾æ›´æ–°ä¹‹å‰ï¼Œåº”è¯¥åšå¾ˆå¤šå·¥ä½œã€‚ å®¹æ˜“å¿˜è®°çš„ä¸œè¥¿ï¼Œæ˜¯å—ï¼Ÿ å› æ­¤ï¼Œä¹Ÿå¯ä»¥è‡ªåŠ¨æ‰§è¡Œæ­¤è¿‡ç¨‹ã€‚ ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æœ¬åœ°npmæŒ‚é’©-é¢„å…ˆç‰ˆæœ¬ï¼Œç‰ˆæœ¬å’ŒåæœŸç‰ˆæœ¬ã€‚ åœ¨package.jsonçš„è„šæœ¬éƒ¨åˆ†æ·»åŠ ä¸‹ä¸€è¡Œ </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"preversion"</span></span>: <span class="hljs-string"><span class="hljs-string">"npm run test"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"call npm run clean &amp;&amp; call npm run build &amp;&amp; call npm run doc &amp;&amp; call npm run changelog &amp;&amp; git add . &amp;&amp; git commit -m 'changelogupdate' --no-verify"</span></span>, <span class="hljs-string"><span class="hljs-string">"postversion"</span></span>: <span class="hljs-string"><span class="hljs-string">"git add . &amp;&amp; git push &amp;&amp; git push --tags"</span></span></code> </pre> <br><p> å½“æ‚¨è¿è¡Œnpm versionå‘½ä»¤æ—¶ï¼Œpreversionè„šæœ¬å°†è¿è¡Œæµ‹è¯•ï¼Œversionè„šæœ¬å°†æ„å»ºæ‚¨çš„ä»£ç å¹¶ç”Ÿæˆæ‰€æœ‰æ–‡æ¡£ã€‚ ç„¶åå°†å¢åŠ ç‰ˆæœ¬ï¼Œç„¶åå°†æ‰€æœ‰å†…å®¹æäº¤å¹¶æ¨å‡ºã€‚ ç°åœ¨ï¼Œæ‚¨åªéœ€è¦è¿è¡Œnpm publishå‘½ä»¤å³å¯ã€‚ ä»…æ‰§è¡Œå‘½ä»¤ï¼Œå…¶ä»–ä¸€åˆ‡éƒ½å°†åœ¨æ‚¨èº«è¾¹ä¸è´¹å¹ç°ä¹‹åŠ›åœ°å®Œæˆã€‚ </p><br><p> æœ€åï¼Œæˆ‘ä»¬éœ€è¦æŒ‡å®šé¡¹ç›®ä¸­åº”åŒ…å«å“ªäº›æ–‡ä»¶å¤¹ä»¥åŠå…¥å£ç‚¹å¯ä»¥ä½äºä½•å¤„ã€‚ ä¸Šæ¬¡æ›´æ–°package.json </p><br><pre> <code class="json hljs"><span class="hljs-string"><span class="hljs-string">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"./dist/index.min.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"types"</span></span>: <span class="hljs-string"><span class="hljs-string">"./dist/index.d.ts"</span></span>, <span class="hljs-string"><span class="hljs-string">"files"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"dist/"</span></span>, <span class="hljs-string"><span class="hljs-string">"src/"</span></span>, <span class="hljs-string"><span class="hljs-string">"tests/"</span></span> ]</code> </pre> <br><p> å°±æ˜¯è¿™æ ·ï¼Œæ‚¨çš„å‡ºè‰²é¡¹ç›®å·²å‡†å¤‡å°±ç»ªï¼ </p><br><h2 id="useful-links"> æœ‰ç”¨çš„é“¾æ¥ </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">.editorconfig</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ›´æ¼‚äº®</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">tslint</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åŸƒæ–¯æ—ç‰¹</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç±»å‹æ–‡æ¡£</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åŸƒæ–¯å¤šå…‹</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ‰¿è¯ºè€…</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¸¸è§„å˜æ›´æ—¥å¿—</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ²™å“‘çš„</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ¼”ç¤º</a> </li></ul><br><p> æ„Ÿè°¢æ‚¨çš„é˜…è¯»ã€‚ å¦‚æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨æ­¤å¤„</a>æŸ¥çœ‹æˆ‘çš„æ¼”ç¤ºå­˜å‚¨åº“æˆ–æå‡ºè¯„è®ºã€‚ </p><br><p> ç¥ä½ æœ‰ç¾å¥½çš„ä¸€å¤©ï¼ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN436176/">https://habr.com/ru/post/zh-CN436176/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN436162/index.html">GoProå·¥å‚æ¬è¿ä»¥é˜²èŒƒæ›´é«˜è¿›å£å…³ç¨çš„å¨èƒ</a></li>
<li><a href="../zh-CN436164/index.html">ä¿¡å·å®éªŒè¡¨æ˜ï¼Œé‡å­æ¶ˆæ¯ä¼ é€’æ¯”ç»å…¸æ¶ˆæ¯ä¼ é€’æ›´å¿«</a></li>
<li><a href="../zh-CN436166/index.html">ç‰¹æ–¯æ‹‰Model 3åœ¨Pwn2Ownä¸Šæä¾›ç»™ä»»ä½•é—¯å…¥ç”µåŠ¨æ±½è½¦ä¿æŠ¤ç³»ç»Ÿçš„äºº</a></li>
<li><a href="../zh-CN436170/index.html">åœ¨æœˆçƒçš„ç”Ÿç‰©å®¹å™¨ä¸­ï¼Œç¬¬ä¸€æ‰¹æ¤ç‰©å‘èŠ½äº†</a></li>
<li><a href="../zh-CN436172/index.html">PADS Professional-å¿«é€Ÿå…¥é—¨</a></li>
<li><a href="../zh-CN436178/index.html">æ•æ·åˆ†æã€‚ ç¥è¯ä¸ç°å®</a></li>
<li><a href="../zh-CN436180/index.html">ä»PHPåˆ‡æ¢åˆ°Pythonæ—¶éœ€è¦çŸ¥é“çš„äº‹æƒ…</a></li>
<li><a href="../zh-CN436182/index.html">CSSä½ç½®çš„å¦ä¸€ä¸ªäº‹ä»¶ï¼šç²˜æ€§</a></li>
<li><a href="../zh-CN436184/index.html">Slackè®¡åˆ’ç»•è¿‡ä¼ ç»Ÿçš„IPOæœºåˆ¶ä¸Šå¸‚</a></li>
<li><a href="../zh-CN436186/index.html">NALSDé¢è¯•æ—¶çš„æƒ³æ³•</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>