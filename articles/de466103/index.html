<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëêüèø ‚úåüèΩ üßôüèΩ √úberwachung der Cloud-Sicherheit üë©üèº‚Äçüåæ üè© üé©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das √úbertragen von Daten und Anwendungen in die Cloud ist ein neues Problem f√ºr Unternehmens-SOCs, die nicht immer bereit sind, die Infrastruktur ande...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>√úberwachung der Cloud-Sicherheit</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/cisco/blog/466103/"> Das √úbertragen von Daten und Anwendungen in die Cloud ist ein neues Problem f√ºr Unternehmens-SOCs, die nicht immer bereit sind, die Infrastruktur anderer Personen zu √ºberwachen.  Laut Netoskope nutzt ein mittelst√§ndisches Unternehmen (anscheinend immer noch in den USA) 1246 verschiedene Cloud-Dienste, 22% mehr als vor einem Jahr.  1246 Cloud-Dienste !!!  175 davon beziehen sich auf HR-Dienstleistungen, 170 auf Marketing, 110 auf Kommunikation und 76 auf Finanzen und CRM.  Cisco verwendet insgesamt 700 externe Cloud-Dienste.  Daher bin ich durch diese Zahlen ein wenig verwirrt.  In jedem Fall liegt das Problem jedoch nicht in ihnen, sondern in der Tatsache, dass die Clouds von immer mehr Unternehmen aktiv genutzt werden, die die gleichen Funktionen zur √úberwachung der Cloud-Infrastruktur wie in ihrem eigenen Netzwerk w√ºnschen.  Und dieser Trend nimmt zu - nach <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Angaben des American Audit</a> Office werden bis 2023 1.200 Rechenzentren in den USA geschlossen (6.250 haben bereits geschlossen).  Der √úbergang zur Cloud ist jedoch nicht nur ‚Äûsondern die √úbertragung unserer Server an einen externen Anbieter‚Äú.  Neue IT-Architektur, neue Software, neue Prozesse, neue Einschr√§nkungen ... All dies ver√§ndert die Arbeit nicht nur der IT, sondern auch der Informationssicherheit erheblich.  Und wenn die Anbieter gelernt haben, mit der Sicherheit der Cloud selbst umzugehen (der Nutzen der Empfehlungen ist sehr gro√ü), gibt es erhebliche Schwierigkeiten bei der Cloud-√úberwachung der Informationssicherheit, insbesondere auf SaaS-Plattformen, √ºber die wir sprechen werden. <br><br><img src="https://habrastorage.org/webt/om/_s/ky/om_skylpw021ujxp-z46t1m40mc.png" alt="Bild"><br><a name="habracut"></a><br>  Angenommen, Ihr Unternehmen hat einen Teil seiner Infrastruktur in die Cloud verlagert ... Stop.  Nicht so.  Wenn die Infrastruktur √ºbertragen wird und Sie erst jetzt dar√ºber nachdenken, wie Sie sie √ºberwachen werden, haben Sie bereits verloren.  Wenn dies nicht Amazon, Google oder Microsoft ist (und mit Vorbehalt), haben Sie wahrscheinlich nicht viele M√∂glichkeiten, Ihre Daten und Anwendungen zu √ºberwachen.  Nun, wenn Sie die M√∂glichkeit haben, mit Protokollen zu arbeiten.  Manchmal sind Daten zu Sicherheitsereignissen verf√ºgbar, auf die Sie jedoch keinen Zugriff haben.  Beispiel: Office 365. Wenn Sie √ºber die g√ºnstigste E1-Lizenz verf√ºgen, stehen Ihnen Sicherheitsereignisse √ºberhaupt nicht zur Verf√ºgung.  Wenn Sie √ºber eine E3-Lizenz verf√ºgen, werden Ihre Daten in nur 90 Tagen gespeichert, und nur wenn Sie √ºber E5 verf√ºgen - die Dauer der Protokolle ist f√ºr ein Jahr verf√ºgbar (es gibt jedoch auch einige Nuancen, die mit der Notwendigkeit verbunden sind, eine Reihe von Funktionen f√ºr die Arbeit mit Protokollen vom Microsoft-Support separat anzufordern).  √úbrigens ist die E3-Lizenz in Bezug auf √úberwachungsfunktionen viel schw√§cher als Corporate Exchange.  Um das gleiche Niveau zu erreichen, ben√∂tigen Sie eine E5-Lizenz oder eine zus√§tzliche Advanced Compliance-Lizenz, f√ºr die m√∂glicherweise zus√§tzliches Geld erforderlich ist, das f√ºr den √úbergang zur Cloud-Infrastruktur nicht in Ihrem Finanzmodell enthalten war.  Dies ist nur ein Beispiel f√ºr eine Untersch√§tzung von Problemen im Zusammenhang mit der √úberwachung der IS-Cloud.  In diesem Artikel m√∂chte ich, ohne vorzugeben, vollst√§ndig zu sein, auf einige Nuancen aufmerksam machen, die bei der Auswahl eines Cloud-Anbieters aus Sicherheitsgr√ºnden ber√ºcksichtigt werden sollten.  Am Ende des Artikels wird eine Checkliste angegeben, die ausgef√ºllt werden sollte, bevor Sie der Ansicht sind, dass das Problem der √úberwachung der Cloud-Informationssicherheit behoben wurde. <br><br>  Es gibt mehrere typische Probleme, die zu Vorf√§llen in Cloud-Umgebungen f√ºhren, auf die IB-Dienste keine Zeit haben, zu reagieren, oder die sie √ºberhaupt nicht sehen: <br><br><ul><li>  Sicherheitsprotokolle existieren nicht.  Dies ist eine ziemlich h√§ufige Situation, insbesondere f√ºr Anf√§nger auf dem Cloud-Markt.  Aber es lohnt sich nicht, ihnen sofort ein Ende zu setzen.  Kleine Unternehmen, insbesondere inl√§ndische, reagieren sensibler auf die Anforderungen der Kunden und k√∂nnen einige angeforderte Funktionen schnell implementieren, indem sie die genehmigte Roadmap f√ºr ihre Produkte √§ndern.  Ja, es wird kein Analogon zu GuardDuty von Amazon oder dem Proactive Defense-Modul von Bitrix sein, aber zumindest etwas. </li><li>  IB wei√ü nicht, wo die Protokolle gespeichert sind oder es gibt keinen Zugriff darauf.  Hier ist es notwendig, Verhandlungen mit dem Cloud-Dienstleister aufzunehmen - vielleicht wird er solche Informationen bereitstellen, wenn er den Kunden f√ºr sich selbst als wichtig erachtet.  Im Allgemeinen ist dies jedoch nicht sehr gut, wenn der Zugriff auf die Protokolle ‚Äûdurch eine besondere Entscheidung‚Äú erfolgt. </li><li>  Es kommt auch vor, dass der Cloud-Anbieter √ºber Protokolle verf√ºgt, diese jedoch nur eine begrenzte √úberwachung und Ereignisprotokollierung bieten und nicht ausreichen, um alle Vorf√§lle zu erkennen.  Beispielsweise k√∂nnen Sie nur die Protokolle der √Ñnderungen auf der Site oder die Protokolle der Versuche zur Authentifizierung von Benutzern erhalten, sie k√∂nnen jedoch keine anderen Ereignisse, z. B. zum Netzwerkverkehr, angeben, die eine ganze Schicht von Ereignissen vor Ihnen verbergen, die Versuche charakterisieren, in Ihre Cloud-Infrastruktur einzudringen. </li><li>  Es gibt Protokolle, aber der Zugriff auf diese Protokolle ist schwierig zu automatisieren, sodass sie nicht kontinuierlich, sondern nach einem Zeitplan √ºberwacht werden.  Wenn Sie die Protokolle im automatischen Modus immer noch nicht herunterladen k√∂nnen, kann das Hochladen von Protokollen, beispielsweise im Excel-Format (wie bei einigen inl√§ndischen Anbietern von Cloud-L√∂sungen), dazu f√ºhren, dass Sie nicht bereit sind, sich mit ihnen vom IS-Dienst des Unternehmens zu besch√§ftigen. </li><li>  Keine Protokoll√ºberwachung.  Dies ist m√∂glicherweise der unverst√§ndlichste Grund f√ºr das Auftreten von Informationssicherheitsvorf√§llen in Cloud-Umgebungen.  Es scheint, dass es Protokolle gibt, und Sie k√∂nnen den Zugriff darauf automatisieren, aber niemand tut dies.  Warum? </li></ul><br><h2>  Cloud Shared Security-Konzept </h2><br>  Der Wechsel in die Cloud ist immer die Suche nach einem Gleichgewicht zwischen dem Wunsch, die Kontrolle √ºber die Infrastruktur zu behalten, und der √úbertragung an die professionelleren H√§nde des Cloud-Anbieters, der sich auf deren Wartung spezialisiert hat.  Auch im Bereich der Cloud-Sicherheit muss dieses Gleichgewicht angestrebt werden.  Dar√ºber hinaus ist dieses Gleichgewicht je nach verwendetem Modell f√ºr die Bereitstellung von Cloud-Diensten (IaaS, PaaS, SaaS) immer unterschiedlich.  In jeder Situation m√ºssen wir uns daran erinnern, dass heute alle Cloud-Anbieter dem sogenannten Modell der gemeinsamen Verantwortung und der gemeinsamen Informationssicherheit folgen.  Die Cloud ist f√ºr etwas verantwortlich, der Client ist f√ºr etwas verantwortlich, nachdem er seine Daten, seine Anwendungen, seine virtuellen Maschinen und andere Ressourcen in der Cloud platziert hat.  Es w√§re dumm zu erwarten, dass wir nach dem Einstieg in die Cloud die gesamte Verantwortung auf den Anbieter √ºbertragen.  Es ist jedoch auch unvern√ºnftig, die gesamte Sicherheit beim Wechsel in die Cloud selbst aufzubauen.  Es ist ein Gleichgewicht erforderlich, das von vielen Faktoren abh√§ngt: - Risikomanagementstrategien, Bedrohungsmodelle, die dem Cloud-Anbieter von Verteidigungsmechanismen zur Verf√ºgung stehen, Gesetzgebung usw. <br><br><img src="https://habrastorage.org/webt/-d/46/k8/-d46k8uvw64f1khkn0waazrr8tw.png" alt="Gemeinsames sicherheitskonzept"><br><br>  Beispielsweise liegt die Klassifizierung von in der Cloud gehosteten Daten immer in der Verantwortung des Kunden.  Ein Cloud-Anbieter oder ein externer Dienstanbieter kann ihm nur mit einem Toolkit helfen, mit dem Daten in der Cloud markiert, Verst√∂√üe identifiziert, gesetzeswidrige Daten gel√∂scht oder mit der einen oder anderen Methode maskiert werden k√∂nnen.  Auf der anderen Seite liegt die physische Sicherheit immer in der Verantwortung des Cloud-Anbieters, den er nicht mit Kunden teilen kann.  Aber alles, was sich zwischen den Daten und der physischen Infrastruktur befindet, wird in diesem Artikel genau diskutiert.  Die Cloud-Verf√ºgbarkeit liegt beispielsweise in der Verantwortung des Anbieters, und das Festlegen von ITU-Regeln oder das Aktivieren der Verschl√ºsselung liegt in der Verantwortung des Kunden.  In diesem Artikel werden wir versuchen herauszufinden, welche Art von Informationssicherheitsmechanismen von verschiedenen in Russland heute beliebten Cloud-Anbietern bereitgestellt werden, welche Funktionen ihre Anwendung bietet und wann Sie in Richtung externer Overlay-L√∂sungen (z. B. Cisco E-Mail-Sicherheit) schauen m√ºssen, die die Funktionen Ihrer Cloud teilweise erweitern Cybersicherheit.  In einigen F√§llen, insbesondere wenn Sie eine Multi-Cloud-Strategie verfolgen, haben Sie keine andere Wahl, als externe Sicherheits√ºberwachungsl√∂sungen in mehreren Cloud-Umgebungen gleichzeitig zu verwenden (z. B. Cisco CloudLock oder Cisco Stealthwatch Cloud).  In einigen F√§llen werden Sie verstehen, dass der von Ihnen ausgew√§hlte (oder Ihnen auferlegte) Cloud-Anbieter √ºberhaupt keine Optionen zur √úberwachung der Informationssicherheit bietet.  Dies ist unangenehm, aber auch sehr viel, da Sie damit das mit der Arbeit mit dieser Cloud verbundene Risiko angemessen einsch√§tzen k√∂nnen. <br><br><h2>  Lebenszyklus der Cloud-Sicherheits√ºberwachung </h2><br>  Um die Sicherheit der von Ihnen verwendeten Clouds zu √ºberwachen, haben Sie nur drei M√∂glichkeiten: <br><br><ul><li>  Verlassen Sie sich auf die Tools Ihres Cloud-Anbieters. </li><li>  Nutzen Sie L√∂sungen von Drittanbietern, die die von Ihnen verwendeten IaaS-, PaaS- oder SaaS-Plattformen √ºberwachen. </li><li>  Erstellen Sie Ihre eigene Cloud-√úberwachungsinfrastruktur (nur IaaS / PaaS-Plattformen). </li></ul><br>  Mal sehen, welche Funktionen jede dieser Optionen hat.  Aber zuerst m√ºssen wir das allgemeine Schema verstehen, das bei der √úberwachung von Cloud-Plattformen verwendet wird.  Ich m√∂chte 6 Hauptkomponenten des Prozesses zur √úberwachung der Informationssicherheit in der Cloud hervorheben: <br><br><ul><li>  Vorbereitung der Infrastruktur.  Identifizierung der erforderlichen Anwendungen und Infrastrukturen zum Sammeln von Ereignissen, die f√ºr die Informationssicherheit im Repository wichtig sind. </li><li>  Sammlung.  In dieser Phase werden Sicherheitsereignisse aus verschiedenen Quellen f√ºr die anschlie√üende √úbertragung zur Verarbeitung, Speicherung und Analyse zusammengefasst. </li><li>  Verarbeitung.  Zu diesem Zeitpunkt werden die Daten transformiert und angereichert, um ihre nachfolgende Analyse zu erleichtern. </li><li>  Lagerung.  Diese Komponente ist f√ºr die kurzfristige und langfristige Speicherung der gesammelten verarbeiteten Daten und Rohdaten verantwortlich. </li><li>  Analyse.  In dieser Phase haben Sie die M√∂glichkeit, Vorf√§lle zu erkennen und automatisch oder manuell darauf zu reagieren. </li><li>  Berichterstattung  Diese Phase hilft dabei, Schl√ºsselindikatoren f√ºr interessierte Parteien (Management, Pr√ºfer, Cloud-Anbieter, Kunden usw.) zu bilden, die uns helfen, bestimmte Entscheidungen zu treffen, z. B. den Anbieter zu wechseln oder den IS zu st√§rken. </li></ul><br>  Wenn Sie diese Komponenten verstehen, k√∂nnen Sie schnell feststellen, was Sie von Ihrem Anbieter erhalten k√∂nnen und was Sie selbst oder mithilfe externer Berater tun m√ºssen. <br><br><h2>  Integrierte Cloud-Dienste </h2><br>  Ich habe bereits oben geschrieben, dass so viele Cloud-Dienste heute keine M√∂glichkeit zur √úberwachung der Informationssicherheit bieten.  Im Allgemeinen widmen sie dem Thema Informationssicherheit wenig Aufmerksamkeit.  Zum Beispiel einer der beliebtesten russischen Dienste zum Versenden von Berichten an Regierungsbeh√∂rden √ºber das Internet (ich werde seinen Namen nicht ausdr√ºcklich erw√§hnen).  Der gesamte Sicherheitsbereich dieses Dienstes dreht sich um die Verwendung zertifizierter Tools zum Schutz kryptografischer Informationen.  Der Bereich Informationssicherheit eines anderen inl√§ndischen Cloud-Dienstes f√ºr die elektronische Dokumentenverwaltung ist kein Beispiel mehr.  Es geht um Public-Key-Zertifikate, zertifizierte Kryptografie, die Beseitigung von Web-Schwachstellen, den Schutz vor DDoS-Angriffen, die Anwendung von ITU, das Sichern und sogar die Durchf√ºhrung regelm√§√üiger IS-Audits.  Aber kein Wort zur √úberwachung oder zur M√∂glichkeit, Zugang zu Informationssicherheitsereignissen zu erhalten, die f√ºr die Kunden dieses Dienstanbieters von Interesse sein k√∂nnten. <br><br>  Im Allgemeinen kann man anhand der Art und Weise, wie der Cloud-Anbieter Informationssicherheitsprobleme auf seiner Website und in der Dokumentation beschreibt, verstehen, wie ernst er dieses Problem im Allgemeinen nimmt.  Wenn Sie beispielsweise die Handb√ºcher f√ºr My Office-Produkte lesen, gibt es √ºberhaupt kein Wort zur Sicherheit und zur Dokumentation f√ºr das separate Produkt My Office.  KS3 ‚Äúzum Schutz vor unbefugtem Zugriff ist die √ºbliche Aufz√§hlung von Klauseln der 17. Ordnung der FSTEC, die‚Äû My office.KS3 ‚Äúausf√ºhrt, jedoch nicht beschrieben wird, wie diese Mechanismen implementiert und vor allem in die Sicherheit von Unternehmensinformationen integriert werden.  M√∂glicherweise ist eine solche Dokumentation vorhanden, aber ich habe sie nicht √∂ffentlich auf der My Office-Website gefunden.  Obwohl ich vielleicht einfach keinen Zugang zu diesen Verschlusssachen habe? .. <br><br><img src="https://habrastorage.org/webt/n2/dk/2w/n2dk2ww8k3y9_5v4wffwygrmhok.png" alt="Bild"><br><br>  Die gleiche Bitrix-Situation ist viel besser.  In der Dokumentation werden die Formate der Ereignisprotokolle und interessanterweise das Einbruchsprotokoll beschrieben, das Ereignisse enth√§lt, die sich auf potenzielle Bedrohungen f√ºr die Cloud-Plattform beziehen.  Von dort k√∂nnen Sie IP, Benutzername oder Gastname, Ereignisquelle, Zeit, Benutzeragent, Ereignistyp usw. abrufen.  Sie k√∂nnen mit diesen Ereignissen entweder √ºber das Control Panel der Cloud selbst arbeiten oder Daten im MS Excel-Format hochladen.  Es ist jetzt schwierig, die Arbeit mit Bitrix-Protokollen zu automatisieren, und Sie m√ºssen einen Teil der Arbeit manuell ausf√ºhren (laden Sie den Bericht hoch und laden Sie ihn in Ihr SIEM).  Aber wenn Sie sich daran erinnern, dass dies bis vor relativ kurzer Zeit nicht m√∂glich war, dann ist dies ein gro√üer Fortschritt.  Gleichzeitig m√∂chte ich darauf hinweisen, dass viele ausl√§ndische Cloud-Anbieter √§hnliche Funktionen ‚Äûf√ºr Anf√§nger‚Äú anbieten - entweder die Protokolle mit den Augen √ºber das Control Panel betrachten oder Daten zu sich selbst hochladen (obwohl die meisten Daten im CSV-Format hochladen, nicht in Excel). <br><br><img src="https://habrastorage.org/webt/g6/h1/gu/g6h1gufkzsphhnmiiz0fvok34mq.png" alt="Bitrix Ereignisprotokoll"><br><br>  Wenn Sie die Option ohne Protokolle nicht in Betracht ziehen, bieten Ihnen Cloud-Anbieter normalerweise drei Optionen zum √úberwachen von Sicherheitsereignissen: Dashboards, Hochladen von Daten und Zugriff √ºber die API.  Das erste scheint viele Probleme f√ºr Sie zu l√∂sen, aber das ist nicht ganz richtig - wenn es mehrere Magazine gibt, m√ºssen Sie zwischen den Bildschirmen wechseln, auf denen sie angezeigt werden, und das Gesamtbild verlieren.  Dar√ºber hinaus bietet Ihnen der Cloud-Anbieter wahrscheinlich nicht die M√∂glichkeit, Sicherheitsereignisse zu korrelieren und im Allgemeinen unter Sicherheitsgesichtspunkten zu analysieren (normalerweise handelt es sich um Rohdaten, die Sie selbst verstehen m√ºssen).  Es gibt Ausnahmen und wir werden weiter dar√ºber sprechen.  Schlie√ülich lohnt es sich zu fragen, welche Ereignisse Ihr Cloud-Anbieter in welchem ‚Äã‚ÄãFormat aufzeichnet und inwieweit sie Ihrem IS-√úberwachungsprozess entsprechen.  Zum Beispiel die Identifizierung und Authentifizierung von Benutzern und G√§sten.  Mit demselben Bitrix k√∂nnen Sie Datum und Uhrzeit dieses Ereignisses, den Namen des Benutzers oder Gasts (in Anwesenheit des Web Analytics-Moduls), ein Objekt, auf das zugegriffen wird, und andere f√ºr diese Ereignisse typische Elemente einer Website aufzeichnen.  Unternehmens-IS-Dienste ben√∂tigen jedoch m√∂glicherweise Informationen dar√ºber, ob sich ein Benutzer von einem vertrauensw√ºrdigen Ger√§t in der Cloud angemeldet hat (z. B. in einem Unternehmensnetzwerk implementiert Cisco ISE diese Aufgabe).  Und eine so einfache Aufgabe wie die Geo-IP-Funktion, mit deren Hilfe festgestellt werden kann, ob das Benutzerkonto des Cloud-Dienstes gestohlen wurde?  Und selbst wenn der Cloud-Anbieter es Ihnen zur Verf√ºgung stellt, reicht dies nicht aus.  Das gleiche Cisco CloudLock analysiert nicht nur die Geolokalisierung, sondern verwendet daf√ºr maschinelles Lernen und analysiert historische Daten f√ºr jeden Benutzer und verfolgt verschiedene Anomalien bei Versuchen, diese zu identifizieren und zu authentifizieren.  Nur MS Azure verf√ºgt √ºber √§hnliche Funktionen (sofern ein entsprechendes Abonnement vorhanden ist). <br><br><img src="https://habrastorage.org/webt/ig/fo/6i/igfo6itm3uw9oq2eelwfzaxej58.png" alt="Bild"><br><br>  Es gibt noch eine weitere Schwierigkeit: Da f√ºr viele Cloud-Anbieter die IS-√úberwachung ein neues Thema ist, mit dem sie sich gerade erst befassen, √§ndern sie st√§ndig etwas in ihren Entscheidungen.  Heute haben sie eine Version der API, morgen eine andere, √ºbermorgen den dritten Tag.  Darauf muss man auch vorbereitet sein.  Das Gleiche gilt f√ºr Funktionen, die sich √§ndern k√∂nnen und die in Ihrem Informationssicherheits-√úberwachungssystem ber√ºcksichtigt werden m√ºssen.  Beispielsweise verf√ºgte Amazon zun√§chst √ºber separate Cloud-Ereignis√ºberwachungsdienste - AWS CloudTrail und AWS CloudWatch.  Dann kam ein separater IS-Ereignis√ºberwachungsdienst - AWS GuardDuty.  Nach einiger Zeit startete Amazon das neue Amazon Security Hub-Verwaltungssystem, das eine Analyse der von GuardDuty, Amazon Inspector, Amazon Macie und mehreren anderen empfangenen Daten enth√§lt.  Ein weiteres Beispiel ist das Azure-Protokollintegrationstool mit SIEM - AzLog.  Viele SIEM-Anbieter nutzten es aktiv, bis Microsoft 2018 die Beendigung seiner Entwicklung und seines Supports ank√ºndigte, wodurch viele Kunden, die dieses Tool verwendeten, vor dem Problem standen (da es behoben wurde, werden wir sp√§ter dar√ºber sprechen). <br><br>  √úberwachen Sie daher sorgf√§ltig alle √úberwachungsfunktionen, die Ihnen Ihr Cloud-Anbieter bietet.  Oder vertrauen Sie externen Anbietern von L√∂sungen, die als Vermittler zwischen Ihrem SOC und der Cloud fungieren, die Sie √ºberwachen m√∂chten.  Ja, es wird teurer (wenn auch nicht immer), aber dann verlagern Sie alle Verantwortung auf die Schultern anderer.  Oder nicht alle? .. Erinnern Sie sich an das Konzept der gemeinsamen Sicherheit und verstehen Sie, dass wir nichts √§ndern k√∂nnen. Sie m√ºssen herausfinden, wie verschiedene Cloud-Anbieter die √úberwachung der Informationssicherheit Ihrer Daten, Anwendungen, virtuellen Maschinen und anderer Ressourcen in der Cloud bereitstellen.  Und wir werden mit dem beginnen, was Amazon in diesem Teil anbietet. <br><br><h2>  Beispiel: Sicherheits√ºberwachung in AWS-basiertem IaaS </h2><br>  Ja, ja, ich verstehe, dass Amazon nicht das beste Beispiel ist, da es sich um einen amerikanischen Dienst handelt und im Rahmen des Kampfes gegen den Extremismus und der Verbreitung von Informationen, die in Russland verboten sind, blockiert werden kann.  In dieser Ver√∂ffentlichung m√∂chte ich jedoch nur zeigen, wie sich verschiedene Cloud-Plattformen in Bezug auf die Informationssicherheit unterscheiden und worauf Sie achten sollten, wenn Sie Ihre Schl√ºsselprozesse aus Sicherheitsgr√ºnden in die Cloud √ºbertragen.  Wenn einige der russischen Entwickler von Cloud-L√∂sungen etwas N√ºtzliches f√ºr sich selbst bekommen, wird es gro√üartig. <br><br><img src="https://habrastorage.org/webt/so/ai/kw/soaikwhskmqtt7za8yccefpbgdc.png" alt="AWS Opportunity Assessment Assessment"><br><br>  Zun√§chst muss ich sagen, dass Amazon keine uneinnehmbare Festung ist.  Seinen Kunden passieren regelm√§√üig verschiedene Vorf√§lle.  Beispielsweise wurden die Namen, Adressen, Geburtsdaten und Telefone von 198 Millionen W√§hlern von Deep Root Analytics gestohlen.  14 Millionen Verizon-Abonnementdatens√§tze wurden von Nice Systems, Israel, gestohlen  Gleichzeitig k√∂nnen Sie mit den in AWS integrierten Funktionen eine Vielzahl von Vorf√§llen erkennen.  Zum Beispiel: <br><br><ul><li>  Einfluss auf die Infrastruktur (DDoS) </li><li>  Knotenkompromiss (Befehlsinjektion) </li><li>  Kontokompromittierung und nicht autorisierter Zugriff </li><li>  Fehlkonfiguration und Schwachstellen </li><li>  ungesch√ºtzte Schnittstellen und APIs. </li></ul><br>  Diese Diskrepanz ist darauf zur√ºckzuf√ºhren, dass der Kunde selbst f√ºr die Sicherheit der Kundendaten verantwortlich ist, wie wir oben herausgefunden haben.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Und wenn er sich keine Gedanken √ºber die Einbeziehung von Schutzmechanismen und keine √úberwachungsinstrumente gemacht hat, wird er den Vorfall nur von den Medien oder von seinen Kunden erfahren. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um Vorf√§lle zu erkennen, k√∂nnen Sie eine Vielzahl verschiedener von Amazon entwickelter √úberwachungsdienste verwenden (obwohl diese h√§ufig durch externe Tools wie Osquery erg√§nzt werden). In AWS werden alle Benutzeraktionen unabh√§ngig von ihrer Ausf√ºhrung nachverfolgt - √ºber die Verwaltungskonsole, die Befehlszeile, das SDK oder andere AWS-Services. Alle Aufzeichnungen der Aktionen jedes AWS-Kontos (einschlie√ülich Benutzername, Aktion, Service, Aktivit√§tsparameter und deren Ergebnis) und der API-Verwendung sind √ºber AWS CloudTrail verf√ºgbar. Sie k√∂nnen diese Ereignisse (z. B. Anmelden an der AWS IAM-Konsole) √ºber die CloudTrail-Konsole anzeigen, mit Amazon Athena analysieren oder an externe L√∂sungen wie Splunk, AlienVault usw. weitergeben. Die AWS CloudTrail-Protokolle selbst werden in Ihrem AWS S3-Bucket abgelegt.</font></font><br><br><img src="https://habrastorage.org/webt/tb/u8/8a/tbu88aytjwv9ce6j2t8ffwtkg5e.jpeg" alt="Bild"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die beiden anderen AWS-Services bieten einige wichtigere √úberwachungsfunktionen. Erstens ist Amazon CloudWatch ein AWS-Dienst zur √úberwachung von Ressourcen und Anwendungen, der unter anderem verschiedene Anomalien in Ihrer Cloud erkennen kann. Alle in AWS integrierten Dienste wie Amazon Elastic Compute Cloud (Server), Amazon Relational Database Service (Datenbanken), Amazon Elastic MapReduce (Datenanalyse) und 30 andere Amazon-Dienste verwenden Amazon CloudWatch zum Speichern ihrer Protokolle. Entwickler k√∂nnen die offene Amazon CloudWatch-API verwenden, um Benutzeranwendungen und -diensten Protokoll√ºberwachungsfunktionen hinzuzuf√ºgen, mit denen der Bereich der analysierten Ereignisse im Kontext der Informationssicherheit erweitert werden kann.</font></font><br><br><img src="https://habrastorage.org/webt/sy/2_/zz/sy2_zz9rqtmvs4mjqly1gq2uds8.jpeg" alt="Bild"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zweitens k√∂nnen Sie mit dem VPC Flow Logs-Dienst den Netzwerkverkehr analysieren, der von Ihren AWS-Servern (extern oder intern) sowie zwischen Microservices gesendet oder empfangen wird. Wenn eine Ihrer AWS VPC-Ressourcen mit dem Netzwerk interagiert, zeichnet der VPC Flow Logs-Dienst Netzwerkverkehrsinformationen auf, einschlie√ülich der Quell- und Zielnetzwerkschnittstellen sowie IP-Adressen, Ports, Protokolle, Anzahl der Bytes und Anzahl der Pakete, die Sie gesehen haben. Personen mit Erfahrung in der lokalen Netzwerksicherheit erkennen dies als Analogon zu </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">NetFlow-</font></a><font style="vertical-align: inherit;"> Streams.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies kann durch Switches, Router und Firewalls auf Unternehmensebene erstellt werden. </font><font style="vertical-align: inherit;">Diese Protokolle sind wichtig f√ºr die √úberwachung der Informationssicherheit, da Sie im Gegensatz zu Benutzer- und Anwendungsaktivit√§tsereignissen auch die Netzwerkkommunikation in der virtuellen privaten Cloud-Umgebung von AWS nicht verpassen k√∂nnen. </font></font><br><br><img src="https://habrastorage.org/webt/0o/ly/k7/0olyk7jygxkitvtzcqcxkfuyzpu.jpeg" alt="Bild"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Somit bieten diese drei AWS-Services - AWS CloudTrail, Amazon CloudWatch und VPC Flow Logs - zusammen eine ziemlich effektive Ansicht Ihrer Kontonutzung, Ihres Benutzerverhaltens, Ihres Infrastrukturmanagements, Ihrer Anwendungs- und Serviceaktivit√§ten sowie Ihrer Netzwerkaktivit√§t. </font><font style="vertical-align: inherit;">Sie k√∂nnen beispielsweise verwendet werden, um die folgenden Anomalien zu erkennen:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Versuche, die Site zu scannen, nach Hintert√ºren zu suchen und nach Sicherheitsl√ºcken durch Bursts von ‚Äû404-Fehlern‚Äú zu suchen. </font></font></li><li> Injection- (, SQL injection)   ‚Äú 500‚Äù. </li><li>     sqlmap, nikto, w3af, nmap  ..    User Agent. </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amazon Web Services hat auch andere Dienste f√ºr die Cybersicherheit entwickelt, die sich mit vielen anderen Herausforderungen befassen. AWS verf√ºgt beispielsweise √ºber einen integrierten Dienst zum √úberwachen von Richtlinien und Konfigurationen - AWS Config. Dieser Service bietet eine kontinuierliche √úberpr√ºfung Ihrer AWS-Ressourcen und ihrer Konfigurationen. Stellen Sie sich ein einfaches Beispiel vor: Angenommen, Sie m√∂chten sicherstellen, dass Benutzerkennw√∂rter auf allen Ihren Servern deaktiviert sind und der Zugriff nur auf der Grundlage von Zertifikaten m√∂glich ist. Mit AWS Config k√∂nnen Sie dies auf einfache Weise f√ºr alle Ihre Server √ºberpr√ºfen. Es gibt andere Richtlinien, die auf Ihre Cloud-Server angewendet werden k√∂nnen: "Kein Server kann Port 22 verwenden", "Nur Administratoren k√∂nnen die Firewall-Regeln √§ndern" oder "Nur Benutzer Ivashko kann neue Benutzerkonten erstellen, und das kann er." es ist nur dienstags. "Im Sommer 2016 wurde AWS Config erweitert, um die Erkennung von Verst√∂√üen gegen entwickelte Richtlinien zu automatisieren. AWS-Konfigurationsregeln sind im Wesentlichen kontinuierliche Konfigurationsanforderungen f√ºr die von Ihnen verwendeten Amazon-Dienste, die bei Verst√∂√üen gegen die entsprechenden Richtlinien Ereignisse generieren. Anstatt beispielsweise AWS Config-Anforderungen regelm√§√üig auszuf√ºhren, um zu √ºberpr√ºfen, ob alle virtuellen Serverfestplatten verschl√ºsselt sind, k√∂nnen AWS Config Rules verwendet werden, um Serverfestplatten st√§ndig auf diesen Zustand zu √ºberpr√ºfen. Und vor allem erzeugen Verst√∂√üe im Zusammenhang mit dieser Ver√∂ffentlichung Ereignisse, die von Ihrem IS-Dienst analysiert werden k√∂nnen.Kontinuierliche Konfigurationsanforderungen f√ºr die von Ihnen verwendeten Amazon-Dienste, die Ereignisse generieren, wenn Richtlinien verletzt werden. Anstatt beispielsweise AWS Config-Anforderungen regelm√§√üig auszuf√ºhren, um zu √ºberpr√ºfen, ob alle virtuellen Serverfestplatten verschl√ºsselt sind, k√∂nnen AWS Config Rules verwendet werden, um Serverfestplatten st√§ndig auf diesen Zustand zu √ºberpr√ºfen. Und vor allem erzeugen Verst√∂√üe im Zusammenhang mit dieser Ver√∂ffentlichung Ereignisse, die von Ihrem IS-Dienst analysiert werden k√∂nnen.Kontinuierliche Konfigurationsanforderungen f√ºr die von Ihnen verwendeten Amazon-Dienste, die Ereignisse generieren, wenn Richtlinien verletzt werden. Anstatt beispielsweise AWS Config-Anforderungen regelm√§√üig auszuf√ºhren, um zu √ºberpr√ºfen, ob alle virtuellen Serverfestplatten verschl√ºsselt sind, k√∂nnen AWS Config Rules verwendet werden, um Serverfestplatten st√§ndig auf diesen Zustand zu √ºberpr√ºfen. Und vor allem erzeugen Verst√∂√üe im Zusammenhang mit dieser Ver√∂ffentlichung Ereignisse, die von Ihrem IS-Dienst analysiert werden k√∂nnen.Mit AWS-Konfigurationsregeln k√∂nnen Serverfestplatten st√§ndig auf diesen Zustand √ºberpr√ºft werden. Und vor allem erzeugen Verst√∂√üe im Zusammenhang mit dieser Ver√∂ffentlichung Ereignisse, die von Ihrem IS-Dienst analysiert werden k√∂nnen.Mit AWS-Konfigurationsregeln k√∂nnen Serverfestplatten st√§ndig auf diesen Zustand √ºberpr√ºft werden. Und vor allem erzeugen Verst√∂√üe im Zusammenhang mit dieser Ver√∂ffentlichung Ereignisse, die von Ihrem IS-Dienst analysiert werden k√∂nnen.</font></font><br><br><img src="https://habrastorage.org/webt/o1/ox/kg/o1oxkgrrvmmoickwf2_tpkhj9_i.jpeg" alt="Bild"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AWS hat auch Entsprechungen zu herk√∂mmlichen L√∂sungen f√ºr die Informationssicherheit von Unternehmen, die auch Sicherheitsereignisse generieren, die Sie analysieren k√∂nnen und sollten: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Intrusion Detection - AWS GuardDuty </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Leckagekontrolle - AWS Macie </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> EDR (obwohl es etwas seltsam ist, √ºber Endpunkte in der Cloud zu sprechen) - AWS Cloudwatch + Open Source-Osquery- oder GRR-L√∂sungen </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Netflow-Analyse - AWS Cloudwatch + AWS VPC Flow </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> DNS-Analyse - AWS Cloudwatch + AWS Route53 </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AD - AWS Directory Service </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kontoverwaltung - AWS IAM </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SSO - AWS SSO </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sicherheitsanalyse - AWS Inspector </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Konfigurationsmanagement - AWS Config </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> WAF - AWS WAF. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich werde nicht auf alle Amazon-Dienste eingehen, die im Zusammenhang mit der Informationssicherheit n√ºtzlich sein k√∂nnen. </font><font style="vertical-align: inherit;">Das Wichtigste ist, dass sie alle Ereignisse generieren k√∂nnen, die wir im Kontext der Informationssicherheit analysieren k√∂nnen und sollten. Dazu geh√∂ren sowohl die integrierten Funktionen von Amazon als auch externe L√∂sungen, z. B. SIEM, die Sicherheitsereignisse in Ihr √úberwachungszentrum √ºbertragen k√∂nnen und analysieren Sie sie dort zusammen mit Ereignissen von anderen Cloud-Diensten oder von internen Infrastrukturen, Perimetern oder mobilen Ger√§ten. </font></font><br><br><img src="https://habrastorage.org/webt/ev/_l/8k/ev_l8kkz43qcrmsyxxmrl6cu_ko.png" alt="AWS-√úberwachung mit ELK"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In jedem Fall beginnt alles mit Datenquellen, die Ihnen IB-Ereignisse liefern. </font><font style="vertical-align: inherit;">Solche Quellen umfassen, sind aber nicht beschr√§nkt auf:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CloudTrail - API-Nutzung und Benutzeraktionen </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vertrauensw√ºrdiger Berater - Sicherheits√ºberpr√ºfung f√ºr Best Practices </font></font></li><li> Config ‚Äî         </li><li> VPC Flow Logs ‚Äî     </li><li> IAM ‚Äî     </li><li> ELB Access Logs ‚Äî   </li><li> Inspector ‚Äî    </li><li> S3 ‚Äî   </li><li> CloudWatch ‚Äî   </li><li> SNS ‚Äî  . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amazon, das eine solche Reihe von Ereignisquellen und Tools f√ºr deren Generierung anbietet, ist in seiner F√§higkeit, die gesammelten Daten im Kontext der Informationssicherheit zu analysieren, sehr eingeschr√§nkt. </font><font style="vertical-align: inherit;">Sie m√ºssen die verf√ºgbaren Protokolle unabh√§ngig untersuchen und nach den entsprechenden Kompromissindikatoren suchen. </font><font style="vertical-align: inherit;">Der AWS Security Hub, den Amazon k√ºrzlich gestartet hat, soll dieses Problem l√∂sen, indem er zu einer Art Cloud-basiertem SIEM f√ºr AWS wird. </font><font style="vertical-align: inherit;">Aber es steht erst am Anfang seiner Reise und ist sowohl durch die Anzahl der Quellen, mit denen es arbeitet, als auch durch andere Einschr√§nkungen, die durch die Architektur und die Abonnements von Amazon selbst festgelegt wurden, begrenzt.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Beispiel: √úberwachung von IS in Azure-basiertem IaaS </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich m√∂chte nicht lange dar√ºber debattieren, welcher der drei Cloud-Anbieter (Amazon, Microsoft oder Google) besser ist (zumal jeder seine eigenen spezifischen Merkmale aufweist und zur L√∂sung seiner Probleme geeignet ist). Konzentrieren Sie sich auf die Sicherheits√ºberwachungsfunktionen, die diese Player bieten. Ich muss zugeben, dass Amazon AWS eines der ersten in diesem Segment war und daher in Bezug auf seine Funktionen in der Informationssicherheit am weitesten fortgeschritten ist (obwohl viele zugeben, dass ihre Verwendung schwierig ist). Dies bedeutet jedoch nicht, dass wir die M√∂glichkeiten, die Microsoft uns mit Google bietet, ignorieren werden.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft-Produkte zeichnen sich seit jeher durch ihre ‚ÄûOffenheit‚Äú aus, und in Azure ist die Situation √§hnlich. Wenn AWS und GCP beispielsweise immer aus dem Konzept "Alles, was nicht erlaubt ist, ist verboten" stammen, geht Azure genau umgekehrt vor. Wenn Sie beispielsweise ein virtuelles Netzwerk in der Cloud und eine virtuelle Maschine darin erstellen, sind alle Ports und Protokolle ge√∂ffnet und standardm√§√üig aktiviert. Daher m√ºssen Sie etwas mehr Aufwand f√ºr die Ersteinrichtung des Zugriffskontrollsystems in der Cloud von Microsoft aufwenden. Dies stellt auch strengere Anforderungen an die √úberwachung der Aktivit√§ten in der Azure-Cloud.</font></font><br><br><img src="https://habrastorage.org/webt/eg/zq/9c/egzq9csqrrhuvyysxc26eodm5go.png" alt="Bild"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AWS hat eine Besonderheit in Bezug auf die Tatsache, dass Sie bei der √úberwachung Ihrer virtuellen Ressourcen, wenn sie sich in verschiedenen Regionen befinden, Schwierigkeiten haben, alle Ereignisse und ihre einzelne Analyse zu kombinieren, um zu vermeiden, dass Sie auf verschiedene Tricks zur√ºckgreifen m√ºssen, z Erstellen Sie benutzerdefinierten Code f√ºr AWS Lambda, der Ereignisse zwischen Regionen √ºbertr√§gt. In Azure gibt es kein solches Problem. Der Aktivit√§tsprotokollmechanismus √ºberwacht alle Aktivit√§ten im gesamten Unternehmen ohne Einschr√§nkungen. Gleiches gilt f√ºr den AWS Security Hub, der k√ºrzlich von Amazon entwickelt wurde, um viele Sicherheitsfunktionen in einem einzigen Sicherheitszentrum zu konsolidieren, jedoch nur in seiner Region, die jedoch f√ºr Russland nicht relevant ist. Azure verf√ºgt √ºber ein eigenes Sicherheitscenter, das nicht an regionale Einschr√§nkungen gebunden ist.Bereitstellung des Zugriffs auf alle Sicherheitsfunktionen der Cloud-Plattform. Dar√ºber hinaus kann er f√ºr verschiedene lokale Teams seine eigenen Verteidigungsf√§higkeiten bereitstellen, einschlie√ülich der von ihnen verwalteten Sicherheitsereignisse. Der AWS Security Hub ist weiterhin bestrebt, dem Azure Security Center zu √§hneln. Es lohnt sich jedoch, der Salbe eine Fliege hinzuzuf√ºgen. Sie k√∂nnen viel von dem, was zuvor in AWS beschrieben wurde, aus Azure herausdr√ºcken. Dies ist jedoch am bequemsten nur f√ºr Azure AD, Azure Monitor und Azure Security Center m√∂glich. Alle anderen Azure-Verteidigungsmechanismen, einschlie√ülich der Analyse von Sicherheitsereignissen, werden noch nicht auf die bequemste Weise verwaltet. Ein Teil des Problems wird durch die API gel√∂st, die alle Microsoft Azure-Dienste durchdringt. Dies erfordert jedoch zus√§tzliche Anstrengungen zur Integration Ihrer Cloud in Ihren SOC und die Verf√ºgbarkeit qualifizierter Spezialisten (tats√§chlich)wie bei jedem anderen. SIEM arbeitet mit Cloud-APIs). Einige SIEMs, auf die sp√§ter noch eingegangen wird, unterst√ºtzen Azure bereits und k√∂nnen die √úberwachung automatisieren. Es gibt jedoch einige Schwierigkeiten - nicht alle k√∂nnen alle in Azure vorhandenen Protokolle √ºbernehmen.</font></font><br><br><img src="https://habrastorage.org/webt/ki/ua/cb/kiuacbupluq6j6-t4h97ocukxxw.png" alt="Azure-Aktivit√§tsprotokoll"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Ereigniserfassung und -√ºberwachung in Azure wird mithilfe des Azure Monitor-Dienstes bereitgestellt, der das Hauptwerkzeug zum Sammeln, Speichern und Analysieren von Daten in der Microsoft Cloud und ihren Ressourcen ist - Git-Repositorys, Container, virtuelle Maschinen, Anwendungen usw. Alle von Azure Monitor erfassten Daten sind in zwei Kategorien unterteilt: Echtzeitmetriken, die wichtige Leistungsindikatoren der Azure-Cloud beschreiben, und Registrierungsprotokolle, die Daten enthalten, die in Datens√§tzen organisiert sind, die bestimmte Aspekte der Aktivit√§ten von Azure-Ressourcen und -Diensten charakterisieren. Dar√ºber hinaus kann der Azure Monitor-Dienst mithilfe der Data Collector-API Daten von jeder REST-Quelle erfassen, um eigene √úberwachungsszenarien zu erstellen.</font></font><br><br><img src="https://habrastorage.org/webt/kr/kr/mk/krkrmkuo31dizsis30njdglcmuu.png" alt="Bild"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Im Folgenden finden Sie einige Quellen f√ºr Sicherheitsereignisse, auf die Azure √ºber die Azure Portal-, CLI-, PowerShell- oder REST-API zugreifen kann (und einige nur √ºber die Azure Monitor / Insight-API): </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktivit√§tsprotokolle - Dieses Journal beantwortet die klassischen Fragen ‚ÄûWer‚Äú, ‚ÄûWas‚Äú und ‚ÄûWann‚Äú in Bezug auf Schreibvorg√§nge (PUT, POST, DELETE) √ºber Cloud-Ressourcen. </font><font style="vertical-align: inherit;">Ereignisse im Zusammenhang mit Lesezugriff (GET) fallen nicht in dieses Protokoll, ebenso wie in eine Reihe anderer.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Diagnoseprotokolle - Enth√§lt Daten zu Vorg√§ngen mit einer bestimmten Ressource, die in Ihrem Abonnement enthalten sind. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Azure AD-Berichterstellung - Enth√§lt sowohl Benutzeraktivit√§ten als auch Systemaktivit√§ten im Zusammenhang mit der Gruppen- und Benutzerverwaltung. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows-Ereignisprotokoll und Linux-Syslog - Enth√§lt Ereignisse von virtuellen Maschinen, die in der Cloud gehostet werden. </font></font></li><li> Metrics ‚Äî       ‚Äú‚Äù     .    .   30 . </li><li> Network Security Group Flow Logs ‚Äî      ,     Network Watcher      . </li><li> Storage Logs ‚Äî  ,     . </li></ul><br><img src="https://habrastorage.org/webt/dv/p3/-5/dvp3-53kd698qvhbrigx14h8lse.png" alt="Bild"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F√ºr die √úberwachung k√∂nnen Sie externes SIEM oder den integrierten Azure-Monitor und seine Erweiterungen verwenden. </font><font style="vertical-align: inherit;">Wir werden mehr √ºber IS-Ereignisverwaltungssysteme sprechen, aber jetzt werden wir sehen, was Azure selbst uns bietet, um Daten im Kontext der Sicherheit zu analysieren. </font><font style="vertical-align: inherit;">Der Hauptbildschirm f√ºr alles, was mit Sicherheit in Azure Monitor zu tun hat, ist Log Analytics Security and Audit Dashboard (die kostenlose Version unterst√ºtzt das Speichern einer begrenzten Anzahl von Ereignissen f√ºr nur eine Woche). </font><font style="vertical-align: inherit;">Dieses Fenster ist in 5 Hauptbereiche unterteilt, in denen zusammenfassende Statistiken zu den Vorg√§ngen in Ihrer Cloud-Umgebung angezeigt werden:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sicherheitsdom√§nen - quantitative Schl√ºsselindikatoren f√ºr die Informationssicherheit - Anzahl der Vorf√§lle, Anzahl der gef√§hrdeten Knoten, nicht gepatchte Knoten, Netzwerksicherheitsereignisse usw. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bemerkenswerte Probleme - Zeigt die Anzahl und Wichtigkeit aktiver IB-Probleme an </font></font></li><li> Detections ‚Äî  ,     </li><li> Threat Intelligence ‚Äî      ,    </li><li> Common security queries ‚Äî  ,       . </li></ul><br><img src="https://habrastorage.org/webt/65/rw/w9/65rww9mazk40oijpir1vf57tbpe.jpeg" alt="Bild"><br><br>  Zu den Azure Monitor-Erweiterungen geh√∂ren Azure Key Vault (Schutz kryptografischer Schl√ºssel in der Cloud), Malware Assessment (Analyse des Schutzes vor b√∂sartigem Code auf virtuellen Maschinen), Azure Application Gateway Analytics (Analyse unter anderem von Cloud-Firewall-Protokollen) usw. .  Mit diesen Tools, die durch bestimmte Regeln der Ereignisverarbeitung angereichert sind, k√∂nnen Sie verschiedene Aspekte der Aktivit√§t von Cloud-Diensten, einschlie√ülich der Sicherheit, visualisieren und bestimmte Abweichungen von der Arbeit feststellen.  Wie so oft erfordert jede zus√§tzliche Funktionalit√§t ein angemessenes kostenpflichtiges Abonnement, f√ºr das Sie geeignete Finanzinvestitionen t√§tigen m√ºssen, die Sie im Voraus planen m√ºssen. <br><br><img src="https://habrastorage.org/webt/ii/xz/eb/iixzebodwxh6vvchcdanbw_x6ny.png" alt="Bild"><br><br>  Azure verf√ºgt √ºber eine Reihe integrierter Funktionen zur √úberwachung von Bedrohungen, die in Azure AD, Azure Monitor und das Azure Security Center integriert sind.  Dazu geh√∂ren beispielsweise das Erkennen der Interaktion virtueller Maschinen mit bekannten sch√§dlichen IP-Adressen (aufgrund der Integration mit Microsoft Threat Intelligence-Diensten), das Erkennen von Malware in der Cloud-Infrastruktur durch Empfangen von Alarmen von virtuellen Maschinen in der Cloud sowie Angriffe wie das ‚ÄûErraten von Kennw√∂rtern‚Äú. ‚ÄùF√ºr virtuelle Maschinen, Schwachstellen in der Konfiguration des Benutzeridentifikationssystems, Anmeldung von Anonymisierern oder infizierten Knoten, Kontoverlust, Anmeldung von ungew√∂hnlichen Orten usw.  Azure ist heute einer der wenigen Cloud-Anbieter, der Ihnen integrierte Threat Intelligence-Funktionen bietet, um die gesammelten Informationssicherheitsereignisse zu bereichern. <br><br><img src="https://habrastorage.org/webt/0i/ha/qk/0ihaqk2fwd1ffcvr-ssbko85gvk.png" alt="Bild"><br><br>  Wie oben erw√§hnt, sind die Schutzfunktionen und folglich die von ihr generierten Sicherheitsereignisse nicht f√ºr alle Benutzer gleicherma√üen zug√§nglich, erfordern jedoch ein spezifisches Abonnement, das die von Ihnen ben√∂tigten Funktionen enth√§lt und die entsprechenden Ereignisse zur √úberwachung der Informationssicherheit generiert.  Einige der im vorherigen Absatz beschriebenen Funktionen zum √úberwachen von Anomalien in Konten sind beispielsweise nur in der P2-Premiumlizenz f√ºr Azure AD verf√ºgbar.  Ohne sie m√ºssen Sie, wie im Fall von AWS, die erfassten Sicherheitsereignisse ‚Äûmanuell‚Äú analysieren.  Abh√§ngig von der Art der Lizenz f√ºr Azure AD stehen Ihnen nicht alle Ereignisse f√ºr die Analyse zur Verf√ºgung. <br><br>  Im Azure-Portal k√∂nnen Sie beide Suchanfragen f√ºr die Protokolle verwalten, an denen Sie interessiert sind, und Dashboards konfigurieren, um wichtige Indikatoren f√ºr die Informationssicherheit anzuzeigen.  Dar√ºber hinaus k√∂nnen Sie dort die Azure Monitor-Erweiterungen ausw√§hlen, mit denen Sie die Funktionalit√§t der Azure Monitor-Protokolle erweitern und Ereignisse unter Sicherheitsgesichtspunkten eingehender analysieren k√∂nnen. <br><br><img src="https://habrastorage.org/webt/0y/uy/1u/0yuy1ual2yppi1yftzdfjtwsujm.png" alt="Bild"><br><br>  Wenn Sie nicht nur die F√§higkeit ben√∂tigen, mit Protokollen zu arbeiten, sondern auch das umfassende Sicherheitscenter Ihrer Azure Cloud-Plattform, einschlie√ülich der Verwaltung von IS-Richtlinien, k√∂nnen Sie √ºber die Notwendigkeit sprechen, mit dem Azure Security Center zu arbeiten, von denen die meisten gegen eine Geb√ºhr n√ºtzlich sind, z. B. Erkennung von Bedrohungen und √úberwachung au√üerhalb von Azure, Konformit√§tsbewertung usw.  (In der kostenlosen Version haben Sie nur Zugriff auf eine Sicherheitsbewertung und Empfehlungen zur L√∂sung festgestellter Probleme.)  Es konsolidiert alle Sicherheitsprobleme an einem Ort.  In der Tat k√∂nnen wir √ºber ein h√∂heres Ma√ü an Informationssicherheit sprechen, als Azure Monitor bietet, da in diesem Fall die in Ihrer Cloud Factory gesammelten Daten mit einer Vielzahl von Quellen wie Azure, Office 365, Microsoft CRM online, Microsoft Dynamics AX und Outlook angereichert werden .com, MSN.com, Microsoft Digital Crimes Unit (DCU) und Microsoft Security Response Center (MSRC), die verschiedenen hoch entwickelten Algorithmen f√ºr maschinelles Lernen und Verhaltensanalysen √ºberlagert sind, die letztendlich die Effizienz der Erkennung und Reaktion von Bedrohungen erh√∂hen sollen. <br><br>  Azure hat ein eigenes SIEM - es erschien Anfang 2019.  Dies ist der Azure Sentinel, der auf Daten von Azure Monitor basiert und auch in diesen integriert werden kann.  externe Sicherheitsl√∂sungen (z. B. NGFW oder WAF), deren Liste st√§ndig aktualisiert wird.  Durch die Integration der Microsoft Graph Security-API k√∂nnen Sie au√üerdem Ihre eigenen Threat Intelligence-Feeds mit Sentinel verbinden, wodurch die M√∂glichkeit zur Analyse von Vorf√§llen in Ihrer Azure-Cloud erweitert wird.  Es kann argumentiert werden, dass Azure Sentinel das erste "native" SIEM ist, das bei Cloud-Anbietern aufgetreten ist (derselbe Splunk oder ELK, der in der Cloud platziert werden kann, z. B. AWS, wird von herk√∂mmlichen Cloud-Dienstanbietern noch nicht entwickelt).  Das Azure Sentinel- und Sicherheitscenter kann als SOC f√ºr die Azure-Cloud bezeichnet werden und sie k√∂nnen (mit bestimmten Vorbehalten) eingeschr√§nkt sein, wenn Sie keine Infrastruktur mehr haben und alle Ihre Computerressourcen in die Cloud √ºbertragen haben und es sich um eine Microsoft-Cloud handelt Azure <br><br><img src="https://habrastorage.org/webt/tr/8s/-d/tr8s-dlmf_tb_0enu4tbqzaaos4.png" alt="Bild"><br><br>  Da die integrierten Funktionen von Azure (selbst mit einem Sentinel-Abonnement) f√ºr die IS-√úberwachung und die Integration dieses Prozesses in andere Quellen von Sicherheitsereignissen (sowohl in der Cloud als auch intern) h√§ufig nicht ausreichen, m√ºssen die gesammelten Daten auf externe Systeme exportiert werden. welches SIEM einschlie√üen kann.  Dies erfolgt sowohl mithilfe der API als auch mithilfe spezieller Erweiterungen, die derzeit offiziell nur f√ºr die folgenden SIEMs verf√ºgbar sind: Splunk (Azure Monitor-Add-On f√ºr Splunk), IBM QRadar (Microsoft Azure DSM), SumoLogic, ArcSight und ELK.  In j√ºngerer Zeit gab es mehr solcher SIEMs, aber ab dem 1. Juni 2019 hat Microsoft die Unterst√ºtzung des Azure Log Integration Tool (AzLog) eingestellt, was zu Beginn von Azure und mangels normaler Standardisierung der Arbeit mit Protokollen (Azure Monitor gab es nicht einmal) es einfach machte Integrieren Sie externe SIEMs in Microsoft Cloud.  Jetzt hat sich die Situation ge√§ndert und Microsoft empfiehlt die Azure Event Hub-Plattform als Hauptintegrationstool f√ºr den Rest von SIEM.  Viele haben diese Integration bereits implementiert, aber seien Sie vorsichtig - sie erfassen m√∂glicherweise nicht alle Azure-Protokolle, sondern nur einige (siehe Dokumentation zu Ihrem SIEM). <br><br>  Abschlie√üend m√∂chte ich eine allgemeine Empfehlung zu diesem Cloud-Dienst geben. Bevor Sie etwas zu den Sicherheits√ºberwachungsfunktionen in Azure sagen, sollten Sie diese sehr sorgf√§ltig konfigurieren und testen, ob sie wie in der Dokumentation beschrieben und von den Beratern beschrieben funktionieren Microsoft (und sie haben m√∂glicherweise unterschiedliche Ansichten zur Leistung von Azure-Funktionen).  Wenn Sie √ºber die finanziellen M√∂glichkeiten von Azure verf√ºgen, k√∂nnen Sie viele n√ºtzliche Informationen zur √úberwachung der Informationssicherheit herausholen.  Wenn Ihre Ressourcen begrenzt sind, wie im Fall von AWS, m√ºssen Sie sich nur auf Ihre eigenen Ressourcen und Rohdaten verlassen, die Ihnen Azure Monitor zur Verf√ºgung stellt.  Und denken Sie daran, dass viele √úberwachungsfunktionen Geld kosten und es besser ist, sich im Voraus mit der Preisgestaltung vertraut zu machen.  Sie k√∂nnen beispielsweise Daten f√ºr 31 Tage f√ºr nicht mehr als 5 GB pro Kunde kostenlos speichern. Wenn Sie diese Werte √ºberschreiten, m√ºssen Sie zus√§tzlich Daten ausgeben (ca. 2+ USD f√ºr die Speicherung jedes weiteren GB vom Kunden und 0,1 USD f√ºr 1 GB pro weiteren Monat )  Das Arbeiten mit Anwendungstelemetrie und -metriken erfordert m√∂glicherweise auch zus√§tzliche finanzielle Ressourcen sowie das Arbeiten mit Warnungen und Benachrichtigungen (ein bestimmtes Limit ist kostenlos verf√ºgbar, das m√∂glicherweise nicht f√ºr Ihre Anforderungen ausreicht). <br><br><h2>  Beispiel: IS-√úberwachung in IaaS basierend auf Google Cloud Platform </h2><br>  Die Google Cloud-Plattform vor dem Hintergrund von AWS und Azure sieht recht jung aus, ist aber teilweise gut.  Im Gegensatz zu AWS, das seine F√§higkeiten, einschlie√ülich defensiver, allm√§hlich aufbaute und Probleme mit der Zentralisierung hatte;  GCP wird wie Azure viel besser zentral verwaltet, wodurch die Anzahl der Fehler und die Implementierungszeit im Unternehmen reduziert werden.  Aus Sicherheitsgr√ºnden befindet sich GCP seltsamerweise zwischen AWS und Azure.  Er hat auch eine einzige Ereignisregistrierung f√ºr die gesamte Organisation, die jedoch unvollst√§ndig ist.  Einige Funktionen befinden sich noch im Beta-Modus, aber nach und nach sollte dieser Mangel behoben werden, und GCP wird zu einer ausgereifteren Plattform f√ºr die √úberwachung der Informationssicherheit. <br><br><img src="https://habrastorage.org/webt/6r/3i/fn/6r3ifntzmtnnylmqrbkk34u3kqw.png" alt="Bild"><br><br>  Das Hauptwerkzeug zum Protokollieren von Ereignissen in GCP ist die Stackdriver-Protokollierung (ein Analogon von Azure Monitor), mit der Sie Ereignisse in Ihrer gesamten Cloud-Infrastruktur (sowie in AWS) erfassen k√∂nnen.  Aus Sicherheitsgr√ºnden verf√ºgt jede Organisation, jedes Projekt oder jeder Ordner in GCP √ºber vier Protokolle: <br><br><ul><li>  Verwaltungsaktivit√§t - Enth√§lt alle Ereignisse im Zusammenhang mit dem Administratorzugriff, z. B. das Erstellen einer virtuellen Maschine, das √Ñndern von Zugriffsrechten usw.  Dieses Tagebuch wird unabh√§ngig von Ihrem Wunsch immer geschrieben und speichert seine Daten 400 Tage lang. </li><li>  Datenzugriff - Enth√§lt alle Ereignisse im Zusammenhang mit der Arbeit mit Daten von Cloud-Benutzern (Erstellen, √Ñndern, Lesen usw.).  Standardm√§√üig wird dieses Journal nicht geschrieben, da sein Volumen sehr schnell ansteigt.  Aus diesem Grund betr√§gt die Haltbarkeit nur 30 Tage.  Dar√ºber hinaus ist bei weitem nicht alles in diesem Tagebuch geschrieben.  Beispielsweise werden Ereignisse in Bezug auf Ressourcen, die f√ºr alle Benutzer √∂ffentlich verf√ºgbar sind oder auf die ohne Zugriff auf GCP zugegriffen werden kann, nicht darauf geschrieben. </li><li>  Systemereignis - Enth√§lt Systemereignisse, die sich nicht auf Benutzer beziehen, oder die Aktionen eines Administrators, der die Konfiguration von Cloud-Ressourcen √§ndert.  Es wird immer 400 Tage lang geschrieben und gespeichert. </li><li>  Die Zugriffstransparenz ist ein einzigartiges Beispiel f√ºr ein Logbuch, in dem alle Aktionen von Google-Mitarbeitern (jedoch noch nicht f√ºr alle GCP-Dienste) aufgezeichnet werden, die im Rahmen ihrer Aufgaben Zugriff auf Ihre Infrastruktur erhalten.  Dieses Journal wird 400 Tage lang gespeichert und steht nicht jedem GCP-Client zur Verf√ºgung, sondern unterliegt nur einer Reihe von Bedingungen (entweder Gold- oder Platin-Support oder das Vorhandensein von 4 Rollen eines bestimmten Typs als Teil des Unternehmens-Supports).  Eine √§hnliche Funktion ist beispielsweise auch in Office 365 - Lockbox verf√ºgbar. </li></ul><br>  Protokollbeispiel: Zugriffstransparenz <br><br><pre><code class="plaintext hljs">{  insertId:  "abcdefg12345"  jsonPayload: {  @type:  "type.googleapis.com/google.cloud.audit.TransparencyLog"  location: {   principalOfficeCountry:  "US"   principalEmployingEntity:  "Google LLC"   principalPhysicalLocationCountry:  "CA"  }  product: [   0:  "Cloud Storage"  ]  reason: [   detail:  "Case number: bar123"   type:  "CUSTOMER_INITIATED_SUPPORT"  ]  accesses: [   0: {   methodName: "GoogleInternal.Read"   resourceName: "//googleapis.com/storage/buckets/[BUCKET_NAME]/objects/foo123"   }  ]  }  logName:  "projects/[PROJECT_NAME]/logs/cloudaudit.googleapis.com%2Faccess_transparency"  operation: {  id:  "12345xyz"  }  receiveTimestamp:  "2017-12-18T16:06:37.400577736Z"  resource: {  labels: {   project_id:  "1234567890"  }  type:  "project"  }  severity:  "NOTICE"  timestamp:  "2017-12-18T16:06:24.660001Z" }</code> </pre> <br>  Der Zugriff auf diese Protokolle ist auf verschiedene Arten m√∂glich (√§hnlich wie zuvor von Azure und AWS) - √ºber die Log Viewer-Oberfl√§che, √ºber die API, √ºber das Google Cloud SDK oder √ºber die Aktivit√§tsseite Ihres Projekts, nach der Sie an Ereignissen interessiert sind.  Auf die gleiche Weise k√∂nnen sie auch zur zus√§tzlichen Analyse in externe L√∂sungen exportiert werden.  Letzteres erfolgt durch Exportieren von Protokollen in BigQuery oder Cloud Pub / Sub-Speicher. <br><br>  Zus√§tzlich zur Stackdriver-Protokollierung bietet die GCP-Plattform auch Stackdriver-√úberwachungsfunktionen, mit denen Sie wichtige Metriken (Leistung, MTBF, allgemeiner Status usw.) von Cloud-Diensten und -Anwendungen verfolgen k√∂nnen.  Verarbeitete und visualisierte Daten k√∂nnen es einfacher machen, Probleme in Ihrer Cloud-Infrastruktur zu finden, auch im Sicherheitskontext.  Es sollte jedoch beachtet werden, dass diese Funktionalit√§t gerade im Kontext der Informationssicherheit nicht sehr umfangreich sein wird, da GCP heute kein Analogon derselben AWS GuardDuty hat und keine schlechten von allen aufgezeichneten Ereignissen unterscheiden kann (Google hat Event Threat Detection entwickelt, aber bisher ist dies der Fall) in der Beta und sprechen Sie fr√ºh √ºber seine N√ºtzlichkeit).  Die Stackdriver-√úberwachung k√∂nnte als System zur Erkennung von Anomalien verwendet werden, die dann untersucht werden, um die Ursachen f√ºr ihr Auftreten zu ermitteln.  Angesichts des auf dem Markt qualifizierten Personalmangels im Bereich Informationssicherheit GCP erscheint diese Aufgabe derzeit jedoch schwierig. <br><br><img src="https://habrastorage.org/webt/qf/pt/np/qfptnplt5vm3g6tkpppop4l7n8g.png" alt="Bild"><br><br>  Es lohnt sich auch, einige der Informationssicherheitsmodule aufzulisten, die in Ihrer GCP-Cloud verwendet werden k√∂nnen und denen AWS √§hnelt: <br><br><ul><li>  Das Cloud Security Command Center ist ein Analogon zu AWS Security Hub und Azure Security Center. </li><li>  Cloud DLP - Automatische Erkennung und Bearbeitung (z. B. Maskierung) von Daten in der Cloud gem√§√ü mehr als 90 vordefinierten Klassifizierungsrichtlinien. </li><li>  Cloud Scanner ist ein Scanner bekannter Schwachstellen (XSS, Flash Injection, nicht gepatchte Bibliotheken usw.) in der App Engine, der Compute Engine und in Google Kubernetes. </li><li>  Cloud IAM - Zugriffskontrolle auf alle GCP-Ressourcen. </li><li>  Cloud-Identit√§t - Verwalten Sie GCP-Benutzerkonten, -Ger√§te und -Anwendungen √ºber eine einzige Konsole. </li><li>  Cloud HSM - Schutz kryptografischer Schl√ºssel. </li><li>  Cloud Key Management Service - Verwaltung kryptografischer Schl√ºssel in GCP. </li><li>  VPC Service Control - Erstellen Sie einen sicheren Umkreis um Ihre GCP-Ressourcen, um sie vor Undichtigkeiten zu sch√ºtzen. </li><li>  Titan Security Key - Schutz vor Phishing. </li></ul><br><img src="https://habrastorage.org/webt/4p/jr/ye/4pjryeme-wtdhmo-5uhyjc1z81o.png" alt="Bild"><br><br>  Viele dieser Module generieren Sicherheitsereignisse, die zur Analyse an BigQuery gesendet oder in andere Systeme, einschlie√ülich SIEM, exportiert werden k√∂nnen.  Wie bereits oben erw√§hnt, ist GCP eine aktiv entwickelte Plattform, und jetzt entwickelt Google eine Reihe neuer Informationssicherheitsmodule f√ºr seine Plattform.  Dazu geh√∂ren Event Threat Detection (jetzt in der Beta verf√ºgbar), mit der Stackdriver-Protokolle nach Spuren nicht autorisierter Aktivit√§ten durchsucht werden (√§hnlich wie bei GuardDuty in AWS), oder Policy Intelligence (in Alpha verf√ºgbar), mit dem intelligente Zugriffsrichtlinien auf GCP-Ressourcen entwickelt werden k√∂nnen. <br><br>  Ich habe einen kurzen √úberblick √ºber die integrierten √úberwachungsfunktionen in g√§ngigen Cloud-Plattformen gegeben.  Aber haben Sie Spezialisten, die mit den Rohprotokollen des IaaS-Anbieters arbeiten k√∂nnen (nicht jeder ist bereit, erweiterte Funktionen von AWS, Azure oder Google zu kaufen)?  Dar√ºber hinaus kennen viele Menschen das Sprichwort ‚ÄûVertrauen, aber Verifizieren‚Äú, das im Bereich der Sicherheit nach wie vor gilt.  Wie sehr vertrauen Sie den integrierten Funktionen des Cloud-Anbieters, der Ihnen IB-Ereignisse sendet?  Wie sehr konzentrieren sie sich auf Informationssicherheit? <br><br>  Manchmal lohnt es sich, nach Overlay-L√∂sungen f√ºr die √úberwachung von Cloud-Infrastrukturen zu suchen, die die integrierte Cloud-Sicherheit erg√§nzen k√∂nnen, und manchmal sind solche L√∂sungen die einzige M√∂glichkeit, Daten √ºber die Sicherheit Ihrer Daten und Anwendungen in der Cloud abzurufen.  Dar√ºber hinaus sind sie einfach bequemer, da sie alle Aufgaben der Analyse der erforderlichen Protokolle √ºbernehmen, die von verschiedenen Cloud-Diensten verschiedener Cloud-Anbieter erstellt wurden.  Ein Beispiel f√ºr eine solche auferlegte L√∂sung ist die Cisco Stealthwatch Cloud, die sich auf die einzige Aufgabe konzentriert - die √úberwachung von IS-Anomalien in Cloud-Umgebungen, einschlie√ülich nicht nur Amazon AWS, Microsoft Azure und Google Cloud Platform, sondern auch privater Clouds. <br><br><h2>  Beispiel: √úberwachen der Sicherheit mit der Stealthwatch Cloud </h2><br>  AWS bietet eine flexible Computerplattform. Diese Flexibilit√§t erleichtert es Unternehmen jedoch, Fehler zu machen, die zu Sicherheitsproblemen f√ºhren.  Und das gemeinsame IS-Modell tr√§gt nur dazu bei.  Das Ausf√ºhren von Software in der Cloud mit unbekannten Schwachstellen (z. B. AWS Inspector oder GCP Cloud Scanner k√∂nnen bekannte Schwachstellen bek√§mpfen), schwachen Kennw√∂rtern, falschen Konfigurationen, Insidern usw.  All dies wirkt sich auf das Verhalten von Cloud-Ressourcen aus, das von Cisco Stealthwatch Cloud beobachtet werden kann, einem System zur √úberwachung der Informationssicherheit und der Angriffserkennung.  √∂ffentliche und private Clouds. <br><br><img src="https://habrastorage.org/webt/km/tx/h6/kmtxh6qhvhwn1c9zshmyelor8du.png" alt="Bild"><br><br>  Eines der Hauptmerkmale der Cisco Stealthwatch Cloud ist die M√∂glichkeit, Entit√§ten zu modellieren.  Mit seiner Hilfe k√∂nnen Sie f√ºr jede Ihrer Cloud-Ressourcen ein Programmmodell (dh eine fast Echtzeitsimulation) erstellen (es spielt keine Rolle, ob es sich um AWS, Azure, GCP oder etwas anderes handelt).  Dies k√∂nnen Server und Benutzer sowie f√ºr Ihre Cloud-Umgebung spezifische Ressourcentypen sein, z. B. Sicherheitsgruppen und Gruppen mit automatischer Skalierung.  Diese Modelle verwenden strukturierte Datenstr√∂me, die von Cloud-Diensten bereitgestellt werden, als Eingabe.  F√ºr AWS sind dies beispielsweise VPC-Flussprotokolle, AWS CloudTrail, AWS CloudWatch, AWS Config, AWS Inspector, AWS Lambda und AWS IAM.  Die Entit√§tsmodellierung erkennt automatisch die Rolle und das Verhalten Ihrer Ressourcen (Sie k√∂nnen √ºber die Profilerstellung aller Cloud-Aktivit√§ten sprechen).  Zu diesen Rollen geh√∂ren ein Android- oder Apple-Mobilger√§t, ein Citrix PVS-Server, ein RDP-Server, ein Mail-Gateway, ein VoIP-Client, ein Terminalserver, ein Dom√§nencontroller usw.  Anschlie√üend √ºberwacht er kontinuierlich ihr Verhalten, um festzustellen, wann riskantes oder sicherheitsbedrohliches Verhalten auftritt.  Sie k√∂nnen das Erraten von Passw√∂rtern, DDoS-Angriffe, Datenlecks, illegalen Remotezugriff, b√∂sartigen Code, das Scannen von Sicherheitsl√ºcken und andere Bedrohungen identifizieren.  So sieht es beispielsweise aus, wenn ein Remotezugriffsversuch von einem f√ºr Ihre Organisation untypischen Land (S√ºdkorea) √ºber SSH auf den Kubernetes-Cluster erkannt wird: <br><br><img src="https://habrastorage.org/webt/kd/uw/i4/kduwi4v3aryzsbi7oddsk_-iwki.png" alt="Bild"><br><br>  Und so sieht das angebliche Auslaufen von Informationen aus der Postgress-Datenbank in ein Land aus, mit dem zuvor noch nicht interagiert wurde: <br><br><img src="https://habrastorage.org/webt/a0/io/cs/a0iocsz8cwo7rwisjbj69l8hemu.png" alt="Bild"><br><br>  So sehen zu viele fehlgeschlagene SSH-Zugriffsversuche aus China und Indonesien von einem externen Remote-Ger√§t aus: <br><br><img src="https://habrastorage.org/webt/vq/ca/2q/vqca2qrw5zmdsh4tafetaooc_zw.png" alt="Bild"><br><br>  Angenommen, eine Serverinstanz in einer VPC sollte laut Richtlinie niemals ein Ziel f√ºr die Remote-Anmeldung sein.  Nehmen Sie au√üerdem an, dass auf diesem Computer aufgrund einer fehlerhaften √Ñnderung der Firewall-Regelrichtlinie eine Remote-Anmeldung erfolgt ist.  Die Entit√§tsmodellierungsfunktion erkennt und meldet diese Aktivit√§t (‚ÄûUngew√∂hnlicher Remotezugriff‚Äú) nahezu in Echtzeit und verweist auf einen bestimmten Aufruf der AWS CloudTrail-, Azure Monitor- oder GCP-Stackdriver-Protokollierungs-API (einschlie√ülich Benutzername, Datum und Uhrzeit ua). was die √Ñnderung der ITU-Regel verursachte.  Diese Informationen k√∂nnen dann zur Analyse an SIEM weitergegeben werden. <br><br><img src="https://habrastorage.org/webt/hv/td/kw/hvtdkwnm7mqcvwnplqwe-ybamny.png" alt="Bild"><br><br>  √Ñhnliche Funktionen sind f√ºr jede Cloud-Umgebung verf√ºgbar, die von der Cisco Stealthwatch Cloud unterst√ºtzt wird: <br><br><img src="https://habrastorage.org/webt/qz/ex/ti/qzextig23hkqnqzcz4cloijtg30.png" alt="Bild"><br><br>  Die Entit√§tsmodellierung ist eine einzigartige Form der Sicherheitsautomatisierung, mit der ein bisher unbekanntes Problem mit Ihren Mitarbeitern, Prozessen oder Technologien erkannt werden kann.  So k√∂nnen Sie beispielsweise unter anderem Sicherheitsprobleme erkennen wie: <br><br><ul><li>  Hat jemand eine Hintert√ºr in der von uns verwendeten Software gefunden? </li><li>  Gibt es Software oder Ger√§te von Drittanbietern in unserer Cloud? </li><li>  Missbraucht ein autorisierter Benutzer Berechtigungen? </li><li>  Gab es einen Konfigurationsfehler, der den Remotezugriff oder eine andere versehentliche Verwendung von Ressourcen erm√∂glichte? </li><li>  Gibt es Datenlecks von unseren Servern? </li><li>  Hat jemand versucht, von einem atypischen geografischen Ort aus eine Verbindung zu uns herzustellen? </li><li>  Ist unsere Cloud mit b√∂sartigem Code infiziert? </li></ul><br><img src="https://habrastorage.org/webt/sg/pp/zq/sgppzqmw015hnevhwjrxrm3mtoy.png" alt="Bild"><br><br>  Das erkannte IB-Ereignis kann in Form eines entsprechenden Tickets an Slack, Cisco Spark, PagerDuty Incident Management System √ºbertragen und auch an verschiedene SIEMs gesendet werden, einschlie√ülich Splunk oder ELK.  Zusammenfassend k√∂nnen wir sagen, dass die Verwendung der Cisco Stealthwatch Cloud eine gute Option ist, um eine einheitliche Reihe von √úberwachungsfunktionen f√ºr f√ºhrende Cloud-Player - Amazon - zu erhalten, wenn Ihr Unternehmen eine Multi-Cloud-Strategie verwendet und nicht auf einen Cloud-Anbieter beschr√§nkt ist , Microsoft und Google.  Das Interessanteste ist, dass sich beim Vergleich der Preise der Stealthwatch Cloud mit erweiterten Sicherheits√ºberwachungslizenzen in AWS, Azure oder GCP herausstellen kann, dass die Cisco-L√∂sung sogar noch g√ºnstiger ist als die integrierten Funktionen von Amazon-, Microsoft- und Google-L√∂sungen.  Paradoxerweise ist es so.  Und je mehr Clouds und deren Funktionen Sie verwenden, desto offensichtlicher wird der Vorteil einer konsolidierten L√∂sung. <br><br><img src="https://habrastorage.org/webt/jn/t5/ab/jnt5ab0witivf4gzgu8i36toxaw.png" alt="Bild"><br><br>  Dar√ºber hinaus kann Stealthwatch Cloud auch private Clouds √ºberwachen, die in Ihrem Unternehmen bereitgestellt werden, z. B. basierend auf Kubernetes-Containern oder durch √úberwachen von Netflow-Streams oder Netzwerkverkehr, die durch Spiegelung in Netzwerkger√§ten (auch inl√§ndische Produktion), AD-Daten oder DNS-Servern empfangen werden usw.  Alle diese Daten werden mit Threat Intelligence-Informationen angereichert, die von Cisco Talos, der weltweit gr√∂√üten nichtstaatlichen Gruppe von IS-Bedrohungsforschern, gesammelt wurden. <br><br><img src="https://habrastorage.org/webt/pb/vc/fp/pbvcfps2j14ue_hyaoo8h9we4t0.png" alt="Bild"><br><br>  Auf diese Weise k√∂nnen Sie ein einheitliches √úberwachungssystem f√ºr √∂ffentliche und hybride Clouds implementieren, das Ihr Unternehmen verwenden kann.  Die gesammelten Informationen k√∂nnen dann mithilfe der integrierten Funktionen von Stealthwatch Cloud analysiert oder an Ihr SIEM gesendet werden (standardm√§√üig werden Splunk, ELK, SumoLogic und mehrere andere unterst√ºtzt). <br><br>  Damit ist der erste Teil des Artikels abgeschlossen, in dem ich die integrierten und externen Tools zur √úberwachung von IaaS / PaaS-Plattformen untersucht habe, mit denen wir Vorf√§lle in den von unserem Unternehmen ausgew√§hlten Cloud-Umgebungen schnell erkennen und darauf reagieren k√∂nnen.  Im zweiten Teil werden wir das Thema fortsetzen und √úberwachungsoptionen f√ºr SaaS-Plattformen am Beispiel von Salesforce und Dropbox betrachten. Au√üerdem werden wir versuchen, alles zusammenzufassen und zusammenzustellen, um ein einheitliches √úberwachungssystem f√ºr die Informationssicherheit f√ºr verschiedene Cloud-Anbieter zu erstellen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de466103/">https://habr.com/ru/post/de466103/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de466081/index.html">3. September</a></li>
<li><a href="../de466089/index.html">Algorithmus des Denkens und Bewusstseins, Teil 2</a></li>
<li><a href="../de466093/index.html">Wie funktioniert kubectl exec?</a></li>
<li><a href="../de466097/index.html">√úberwachen von .NET-Anwendungen</a></li>
<li><a href="../de466099/index.html">Funktionen zum Testen einer Webanwendung f√ºr den Videodienst</a></li>
<li><a href="../de466105/index.html">√úbertakten der Magento Rest API mit RoadRunner</a></li>
<li><a href="../de466107/index.html">Do-it-yourself-Smart-Home-System</a></li>
<li><a href="../de466109/index.html">Probleml√∂sung mit pwnable.kr 22 - Brainfuck. Ret2libc-Angriff</a></li>
<li><a href="../de466111/index.html">Schulung Cisco 200-125 CCNA v3.0. Tag 32. Kennwortwiederherstellung, XODEM / TFTPDNLD und Cisco-Lizenzaktivierung</a></li>
<li><a href="../de466113/index.html">Definieren der Textcodierung in PHP anstelle von mb_detect_encoding</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>