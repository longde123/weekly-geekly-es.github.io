<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>✍️ 😎 👉 Formation Cisco 200-125 CCNA v3.0. Jour 23. Technologies avancées de routage ✊ 🧘🏻 👩🏾‍🚒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aujourd'hui, nous allons examiner de plus près certains aspects du routage. Avant de commencer, je souhaite répondre à la question des étudiants sur m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Formation Cisco 200-125 CCNA v3.0. Jour 23. Technologies avancées de routage</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/463581/"> Aujourd'hui, nous allons examiner de plus près certains aspects du routage.  Avant de commencer, je souhaite répondre à la question des étudiants sur mes pages sur les réseaux sociaux.  À gauche, j'ai placé des liens vers les pages de notre entreprise et à droite - vers mes pages personnelles.  Je note que je n'ajoute pas de personnes à mes amis sur Facebook si je ne le connais pas personnellement, vous ne devez donc pas m'envoyer de demande d'amitié. <br><br><img src="https://habrastorage.org/webt/cd/dh/hf/cddhhfm9q5hueguocujcskcltkq.jpeg"><br><br>  Vous pouvez simplement vous abonner à ma page Facebook et vous tenir au courant de tous les événements.  Je réponds aux messages de mon compte LinkedIn, vous pouvez donc m'écrire là-bas, et bien sûr, je suis le plus actif sur Twitter.  Sous ce tutoriel vidéo, il y a des liens vers les 6 réseaux sociaux, vous pouvez donc les utiliser. <a name="habracut"></a><br><br>  Comme d'habitude, nous étudierons aujourd'hui trois sujets.  Le premier est une explication de la nature du routage, où je vais vous parler des tables de routage, du routage statique, etc.  Ensuite, nous examinons le routage inter-commutateurs, c'est-à-dire comment le routage entre les deux commutateurs se produit.  À la fin de la leçon, nous nous familiariserons avec le concept de routage inter-VLAN, lorsqu'un commutateur interagit avec plusieurs VLAN et comment la connexion entre ces réseaux se produit.  C'est un sujet très intéressant, et vous voudrez peut-être le revoir plusieurs fois.  Il existe un autre sujet intéressant appelé Router-on-a-Stick, ou «stick router». <br><br>  Alors qu'est-ce qu'une table de routage?  Il s'agit du tableau sur la base duquel les routeurs prennent des décisions de routage.  Vous voyez à quoi ressemble une table de routage de routeur Cisco typique.  Chaque ordinateur exécutant Windows possède également une table de routage, mais c'est un autre sujet. <br><br>  La lettre R au début de la ligne signifie que la route vers le réseau 192.168.30.0/24 est fournie par le protocole RIP, C signifie que le réseau est directement connecté à l'interface du routeur, S signifie le routage statique et le point après cette lettre indique que cette route est le candidat par défaut, ou le candidat par défaut pour le routage statique.  Il existe plusieurs types de routes statiques et nous les rencontrerons aujourd'hui. <br><br><img src="https://habrastorage.org/webt/vi/kv/bw/vikvbwfpuot-7hcco4vkpijzztq.jpeg"><br><br>  Par exemple, considérons le premier réseau, 192.168.30.0/24.  Dans la ligne, vous voyez deux nombres entre crochets, séparés par une barre oblique, nous en avons déjà parlé.  Le premier nombre 120 est la distance administrative caractérisant le degré de confiance dans un itinéraire donné.  Supposons que la table ait une autre route vers ce réseau, indiquée par la lettre C ou S avec une distance administrative plus petite, par exemple 1, comme pour le routage statique.  Dans ce tableau, vous ne trouverez pas deux réseaux identiques si nous n'utilisons pas de mécanisme tel que l'équilibrage de charge, mais supposons que nous avons 2 entrées pour le même réseau.  Donc, si vous voyez un plus petit nombre, cela signifie que cette route mérite plus de confiance, et vice versa, plus la valeur de la distance administrative est grande, moins cette route mérite de confiance.  La ligne suivante indique quelle interface doit envoyer le trafic - dans notre cas, il s'agit du port 192.168.20.1 FastEthernet0 / 1.  Ce sont les composants d'une table de routage. <br><br>  Parlons maintenant de la façon dont le routeur prend les décisions de routage.  J'ai mentionné le candidat par défaut ci-dessus et maintenant je vais dire ce que cela signifie.  Supposons que le routeur reçoive du trafic pour le réseau 30.1.1.1, dont une entrée ne figure pas dans la table de routage.  Dans le cas habituel, le routeur rejettera simplement ce trafic, mais s'il y a une entrée par défaut pour le candidat dans le tableau, cela signifie que tout ce que le routeur ne sait pas sera envoyé au candidat par défaut.  Dans ce cas, l'entrée indique que le trafic reçu pour un réseau de routeurs inconnu doit être acheminé via le port 192.168.10.1.  Ainsi, le trafic pour le réseau 30.1.1.1 suivra l'itinéraire, qui est le candidat par défaut. <br><br>  Lorsqu'un routeur reçoit une demande d'établissement d'une connexion avec n'importe quelle adresse IP, il cherche d'abord à voir si cette adresse est contenue dans une route particulière.  Par conséquent, lorsqu'il reçoit du trafic pour le réseau 30.1.1.1, il vérifie d'abord si son adresse est contenue dans une entrée de table de routage spécifique.  Donc, si le routeur reçoit du trafic pour 192.168.30.1, après avoir vérifié toutes les entrées, il verra que cette adresse est dans la plage d'adresses réseau 192.168.30.0/24, puis il enverra du trafic le long de cette route.  N'ayant trouvé aucune entrée spécifique pour le réseau 30.1.1.1, le routeur enverra son trafic prévu le long de la route par défaut candidate.  Voici comment les décisions sont prises: tout d'abord, les enregistrements d'itinéraires spécifiques sont analysés dans le tableau, puis l'itinéraire par défaut du candidat est utilisé. <br>  Voyons maintenant les différents types de routes statiques.  Le premier type est l'itinéraire par défaut ou l'itinéraire par défaut. <br><br><img src="https://habrastorage.org/webt/v1/wg/c8/v1wgc8nei2y3vybgvw-yqa4kai8.jpeg"><br><br>  Comme je l'ai dit, si le routeur a reçu du trafic adressé à un réseau inconnu, il l'enverra le long de la route par défaut.  La passerelle de dernier recours est 192.168.10.1 vers le réseau 0.0.0.0, c'est-à-dire que la «passerelle vers le dernier accès au réseau 0.0.0.0 a une adresse IP de 192.168.10.1» signale que la route par défaut a été définie.  Cette route est indiquée sur la dernière ligne de la table de routage, intitulée S avec un point. <br><br>  Vous pouvez affecter ce paramètre à partir du mode de configuration globale.  Pour un itinéraire régulier via RIP, vous devez taper la commande ip route, en spécifiant l'identifiant du réseau correspondant, dans notre cas 192.168.30.0, et le masque de sous-réseau 255.255.255.0, puis spécifier 192.168.20.1 comme prochain saut.  Cependant, lorsque vous définissez la route par défaut, vous n'avez pas besoin de spécifier l'ID réseau et le masque, vous tapez simplement ip route 0.0.0.0 0.0.0.0, c'est-à-dire, au lieu de l'adresse du masque de sous-réseau, tapez à nouveau quatre zéros, et à la fin de la ligne, spécifiez l'adresse 192.168.20.1, ce qui signifie l'itinéraire par défaut. <br>  Le type suivant de route statique est Network Route, ou route réseau.  Pour définir l'itinéraire réseau, vous devez spécifier l'ensemble du réseau, c'est-à-dire utiliser la commande ip route 192.168.30.0 255.255.255.0, où 0 à la fin du masque de sous-réseau signifie la plage entière de 256 adresses réseau / 24, et spécifier l'adresse IP du saut suivant. <br><br>  Maintenant, je vais dessiner un modèle illustrant la commande pour définir la route par défaut et la route réseau.  Cela ressemble à ceci: <br><br>  ip route première partie de l'adresse deuxième partie de l'adresse &lt;adresse IP du saut suivant&gt;. <br><br>  Pour la route par défaut, la première et la deuxième partie de l'adresse seront composées de 0.0.0.0, et pour la route réseau, la première partie est l'identifiant du réseau et la seconde est le masque de sous-réseau.  Ensuite, l'adresse IP du réseau vers lequel le routeur a décidé de faire le prochain saut sera localisée. <br><br><img src="https://habrastorage.org/webt/uz/6h/g1/uz6hg1jfts-rflw6bjw-wgmixli.jpeg"><br><br>  Pour configurer la route hôte, la route hôte utilise l'adresse IP d'un hôte spécifique.  Dans le modèle de commande, ce sera la première partie de l'adresse, dans notre cas, c'est 192.168.30.1, qui indique un périphérique spécifique.  La deuxième partie est un masque de sous-réseau de 255.255.255.255, qui indique également l'adresse IP d'un hôte spécifique, et non un réseau entier / 24.  Ensuite, vous devez spécifier l'adresse IP du saut suivant.  De cette façon, vous pouvez définir l'itinéraire hôte. <br><br>  La route récapitulative est une route récapitulative.  Vous vous souvenez que nous avons déjà discuté de la question du résumé des itinéraires lorsque nous avons une certaine plage d'adresses IP.  Prenez par exemple le premier réseau 192.168.30.0/24 et imaginez que nous avons un routeur R1 auquel un réseau 192.168.30.0/24 avec quatre adresses IP est connecté: 192.168.30.4, 192.168.30.5, 192.168.30.6 et 192.168.30.7 .  Une barre oblique 24 signifie qu'il y a au total 256 adresses valides dans ce réseau, mais dans ce cas, nous n'avons que 4 adresses IP. <br><br><img src="https://habrastorage.org/webt/y_/oi/ri/y_oirin08ea7786klgeuycljbz0.jpeg"><br><br>  Si je vous informe que tout le trafic du réseau 192.168.30.0/24 doit être dirigé le long de cette route, ce sera un mensonge, car une adresse IP comme 192.168.30.1 peut ne pas être disponible via cette interface.  Par conséquent, dans ce cas, nous ne pouvons pas utiliser les adresses 192.168.30.0 comme première partie, mais nous devons spécifier quelles adresses spécifiques seront disponibles.  Dans ce cas, 4 adresses spécifiques seront accessibles via l'interface de droite et les adresses réseau restantes via l'interface de gauche du routeur.  C'est pourquoi nous devons configurer un résumé ou une route récapitulative. <br><br>  D'après les principes de sommation des routes, nous nous souvenons que dans le même sous-réseau, les trois premiers octets de l'adresse restent inchangés, et nous devons créer un sous-réseau qui combine les 4 adresses.  Pour ce faire, nous devons spécifier l'adresse 192.168.30.4 dans la première partie et utiliser 255.255.255.252 comme masque de sous-réseau dans la deuxième partie, où 252 signifie que ce sous-réseau IP contient 4 adresses IP: .4, .5., .6 et .7. <br><br>  Si vous avez deux entrées dans la table de routage: la route RIP pour le réseau 192.168.30.0/24 et la route totale 192.168.30.4/252, alors selon les principes de routage, la route récapitulative sera la route prioritaire pour un trafic spécifique.  Tout ce qui ne sera pas lié à ce trafic particulier utilisera la route réseau Route réseau. <br><br><img src="https://habrastorage.org/webt/u_/kq/bx/u_kqbxi8_i0vkef3ky3xyoe0inu.jpeg"><br><br>  Voici ce qu'est un itinéraire récapitulatif: vous résumez plusieurs adresses IP spécifiques et créez un itinéraire distinct pour elles. <br><br>  Dans le groupe des routes statiques, il y a aussi la soi-disant "route flottante", ou route flottante.  Il s'agit d'une route de sauvegarde.  Il est utilisé en cas de problèmes avec la connexion physique le long de la route statique, qui a une distance administrative de 1. Dans notre exemple, il s'agit de la route via l'adresse IP 192.168.10.1 dans la dernière ligne de la table de routage, et dans le cas où cette route est interrompue sur le physique niveau, la route flottante de sauvegarde est utilisée. <br><br>  Afin d'utiliser la route de sauvegarde, à la fin de la ligne de commande, au lieu de l'adresse IP du saut suivant, qui a par défaut une valeur de 1, indiquez une taille de saut différente, par exemple, 5. La route flottante n'est pas indiquée dans la table de routage, car elle n'est utilisée que dans Lorsque l'itinéraire statique n'est pas disponible en raison de dommages. <br><br>  Si vous ne comprenez pas quelque chose de ce dont je viens de parler, regardez à nouveau cette vidéo.  Si vous avez encore des questions, vous pouvez m'envoyer un e-mail, et je vous expliquerai tout. <br><br>  Commençons maintenant avec le routage Inter-Switch.  À gauche du diagramme se trouve un interrupteur qui dessert le réseau bleu du service commercial.  À droite se trouve un autre interrupteur qui ne fonctionne qu'avec le réseau vert du service marketing.  Dans ce cas, deux commutateurs indépendants sont utilisés, qui desservent des départements différents, car le VLAN commun n'est pas utilisé dans cette topologie. <br><br><img src="https://habrastorage.org/webt/sn/i0/fu/sni0fu7l_ivaglqq0fziino5q0q.jpeg"><br><br>  Si vous devez établir une connexion entre ces deux commutateurs, c'est-à-dire entre deux réseaux différents 192.168.1.0/24 et 192.168.2.0/24, vous devez utiliser un routeur.  Ces réseaux pourront alors échanger des paquets et se connecter en ligne via le routeur R1.  Si nous utilisions le VLAN1 par défaut pour les deux commutateurs en les reliant à des câbles physiques, ils pourraient communiquer entre eux.  Mais comme cela est techniquement impossible en raison de la séparation des réseaux appartenant à différents domaines de diffusion, un routeur est nécessaire pour leur communication. <br><br>  Supposons que chaque commutateur possède 16 ports.  Dans notre cas, nous n'utilisons pas 14 ports, car chaque département ne dispose que de 2 ordinateurs.  Par conséquent, dans ce cas, il est optimal d'utiliser le VLAN, comme indiqué dans le diagramme suivant. <br><br><img src="https://habrastorage.org/webt/je/a3/sq/jea3sq0nm7kxvzohumawvt28nqa.jpeg"><br><br>  Dans ce cas, le réseau bleu VLAN10 et le réseau vert VLAN20 ont leur propre domaine de diffusion.  Le réseau VLAN10 est connecté par câble à un port du routeur et le réseau VLAN20 est connecté à un autre port, tandis que les deux câbles proviennent de ports différents du commutateur.  Il semble que grâce à cette merveilleuse solution, nous avons établi une connexion entre les réseaux.  Cependant, comme le routeur a un nombre limité de ports, nous sommes extrêmement inefficaces à utiliser les capacités de cet appareil, en les occupant de cette façon. <br><br>  Il existe une solution plus efficace - un «routeur à bâton».  Dans ce cas, nous connectons le port du commutateur avec un tronc à l'un des ports du routeur.  Nous avons déjà dit que par défaut, le routeur ne comprend pas l'encapsulation selon la norme .1Q, vous devez donc utiliser un tronc pour communiquer avec lui.  Ce faisant, les événements suivants se produisent. <br><br>  Le réseau bleu VLAN10 envoie du trafic via un commutateur à l'interface F0 / 0 du routeur.  Ce port est divisé en sous-interfaces, chacune ayant une adresse IP située dans la plage d'adresses du réseau 192.168.1.0/24 ou du réseau 192.168.2.0/24.  Une certaine incertitude se pose ici - après tout, pour deux réseaux différents, vous devez avoir deux adresses IP différentes.  Par conséquent, bien que la jonction entre le commutateur et le routeur soit créée sur la même interface physique, nous devons créer deux sous-interfaces pour chaque VLAN.  Ainsi, une sous-interface desservira le réseau VLAN10 et la seconde - VLAN20.  Pour la première sous-interface, nous devons sélectionner une adresse IP dans la plage d'adresses 192.168.1.0/24, et pour la seconde - dans la plage 192.168.2.0/24.  Lorsque VLAN10 envoie un paquet, la passerelle sera une adresse IP et lorsque le paquet envoie VLAN20, la deuxième adresse IP sera utilisée comme passerelle.  Dans le même temps, le «routeur sur bâton» prendra une décision concernant la transmission du trafic depuis chacun des 2 ordinateurs appartenant à des VLAN différents.  Autrement dit, nous divisons une interface physique d'un routeur en deux ou plusieurs interfaces logiques. <br><br><img src="https://habrastorage.org/webt/p0/gp/gz/p0gpgzl0tzewtprahmg3rhkrecy.jpeg"><br><br>  Voyons à quoi cela ressemble dans le programme Packet Tracer. <br><br><img src="https://habrastorage.org/webt/al/w3/q3/alw3q3sktyzezdbisbn_takakzm.jpeg"><br><br>  J'ai un peu simplifié le schéma, nous avons donc un ordinateur PC0 avec l'adresse IP 192.168.1.10 et un deuxième ordinateur PC1 avec l'adresse 192.168.2.10.  Lors de la configuration du commutateur, je souligne une interface pour VLAN10, l'autre pour VLAN20.  Je vais dans la console CLI et émets la commande show ip interface brief pour m'assurer que FastEthernet0 / 2 et 0/3 sont activés.  Ensuite, je regarde la base de données VLAN et je vois qu'en ce moment, toutes les interfaces de commutation font partie du VLAN par défaut.  Ensuite, je tape config t et int f0 / 2 séquentiellement pour appeler le port auquel le VLAN de vente est connecté. <br><br>  Ensuite, j'utilise la commande d'accès en mode switchport.  Le mode d'accès est utilisé par défaut, donc je tape simplement cette commande.  Après cela, je tape switchport access VLAN10, et le système répond que puisqu'un tel réseau n'existe pas, il va créer VLAN10 lui-même.  Si vous souhaitez créer un VLAN manuellement, par exemple, VLAN20, vous devez taper la commande vlan 20, après quoi la ligne de commande bascule vers les paramètres du réseau virtuel, en changeant son en-tête de Switch (config) # à Switch (config-vlan) #.  Ensuite, vous devez donner au réseau créé le nom MARKETING à l'aide de la commande nom &lt;nom&gt;.  Ensuite, nous configurons l'interface f0 / 3.  J'entre séquentiellement les commandes d'accès en mode switchport et d'accès switchlan vlan 20, après quoi le réseau est connecté à ce port. <br><br>  Ainsi, vous pouvez configurer le commutateur de deux manières: la première - à l'aide de la commande switchport access vlan 10, après quoi le réseau est créé automatiquement sur ce port, la seconde - lorsque vous créez le réseau pour la première fois puis le liez à un port spécifique. <br>  Vous pouvez faire de même avec VLAN10.  Je vais revenir en arrière et répéter le processus de configuration manuelle pour ce réseau: passer en mode de configuration globale, entrer la commande vlan 10, puis lui donner le nom SALES et ainsi de suite.  Je vais maintenant vous montrer ce qui se passera si cela n'est pas fait, c'est-à-dire laisser le système lui-même créer un VLAN. <br><br><img src="https://habrastorage.org/webt/iy/qv/7s/iyqv7sea4drfyyyjduimhihs1wk.jpeg"><br><br>  Vous voyez que nous avons les deux réseaux, mais le second, que nous avons créé manuellement, a son propre nom MARKETING, tandis que le premier réseau VLAN10 a le nom par défaut VLAN0010.  Je peux résoudre ce problème si j'entre maintenant la commande name SALES en mode de configuration globale.  Vous voyez maintenant qu'après cela, le premier réseau a changé son nom en VENTES. <br><br>  Revenons maintenant à Packet Tracer et voyons si PC0 peut communiquer avec PC1.  Pour ce faire, j'ouvre le terminal de ligne de commande du premier ordinateur et envoie un ping à l'adresse du deuxième ordinateur. <br><br>  Nous voyons que le ping s'est terminé sans succès.  La raison en est que PC0 a envoyé une demande ARP à 192.168.2.10 via la passerelle 192.168.1.1.  En même temps, l'ordinateur a demandé au commutateur qui était ce 192.168.1.1.  Cependant, le commutateur n'a qu'une seule interface pour le réseau VLAN10, et la demande reçue ne peut aller nulle part - il arrive sur ce port et meurt ici.  L'ordinateur ne reçoit pas de réponse, le délai d'attente est donc indiqué comme la cause de l'échec du ping.  Aucune réponse n'a été reçue car il n'y a plus de périphérique sur le VLAN10 sauf PC0.  De plus, même si les deux ordinateurs faisaient partie du même réseau, ils ne pouvaient toujours pas communiquer, car ils avaient une plage d'adresses IP différente.  Pour que ce schéma fonctionne, vous devez utiliser un routeur. <br><br>  Cependant, avant de montrer comment utiliser le routeur, je vais faire une petite digression.  Je vais connecter le port du commutateur Fa0 / 1 et le port du routeur Gig0 / 0 avec un câble, puis ajouter un autre câble qui sera connecté au port du commutateur Fa0 / 4 et au port Gif0 / 1 du routeur. <br><br><img src="https://habrastorage.org/webt/v9/6o/kd/v96okd_k-wdjqvudbarahz_b5nq.jpeg"><br><br>  Je lierai le réseau VLAN10 au port de commutateur f0 / 1, pour lequel j'entrerai les commandes int f0 / 1 et switchport access vlan10, et le réseau VLAN20 au port f0 / 4 en utilisant les commandes int f0 / 4 et switchport access vlan 20. Si maintenant nous regardons Base de données VLAN, on peut voir que le réseau SALES est lié aux interfaces Fa0 / 1, Fa0 / 2, et le réseau MARKETING est lié aux ports Fa0 / 3, Fa0 / 4. <br><br>  Revenons au routeur et entrons dans les paramètres de l'interface g0 / 0, entrez la commande no shutdown et affectez-lui l'adresse IP: ip add 192.168.1.1 255.255.255.0. <br><br>  De même, configurez l'interface g0 / 1 en lui attribuant l'adresse IP add 192.168.2.1 255.255.255.0.  Ensuite, nous vous demandons de nous montrer la table de routage, qui contient maintenant des entrées sur les réseaux 1.0 et 2.0. <br><br><img src="https://habrastorage.org/webt/p6/az/37/p6az37t5llvyvmjo9kgamsd--8s.jpeg"><br><br>  Voyons voir si ce circuit fonctionne.  Attendons que les deux ports du commutateur et du routeur deviennent verts et répétons la commande ping à l'adresse IP 192.168.2.10.  Comme vous pouvez le voir, tout a fonctionné! <br><br><img src="https://habrastorage.org/webt/cp/2f/zy/cp2fzy43fdjqv9c30td5axr1os0.jpeg"><br><br>  L'ordinateur PC0 envoie une requête via ARP au commutateur, le commutateur l'adresse au routeur et le commutateur renvoie son adresse MAC à l'ordinateur.  Après cela, l'ordinateur envoie le paquet ping le long de la même route.  Le routeur sait que le réseau VLAN20 est connecté à son port g0 / 1, il l'envoie donc au commutateur, qui transmet le paquet à la destination - PC1. <br><br>   ,   ,    2  ,        .   ,          . <br><br>               .  f0/1    -,             switchport mode trunk.  f0/4    .     show int trunk,  ,    . <br><br><img src="https://habrastorage.org/webt/74/kj/1l/74kj1l72phfmypnm6mb17ea9jea.jpeg"><br><br>  ,   Fa0/1        802.1q.    VLAN –  ,   F0/2      VLAN10,   f0/3 –    VLAN20. <br><br><img src="https://habrastorage.org/webt/qs/hx/vm/qshxvmymn8gfuyfqgxguhch4isa.jpeg"><br><br>       g0/0 .       int g0/0  no ip address,   IP-  .      ,      shutdown.   ,        – 1.0  2.0.      ,          ,    .   IP-       ? <br><br> G0/0    ,       IP-.      .      int g0/0,      :  /  .        0/0/0,      ,     . <br><br>      int g0/0. ?,          GigabitEthernet,    : &lt;0 – 4294967295&gt;.     4-  ,        . <br><br><img src="https://habrastorage.org/webt/f8/bn/g4/f8bng4fx6ta7g8akbk6au-zwgd8.jpeg"><br><br>      10,    VLAN10.      ,        CLI  Router (config-subif) #,       g0/0.10.      IP-,     ip add 192.168.1.1 255.255.255.0.  ,    ,   ,     ,      — 802.1q  ISL.      encapsulation,         . <br><br><img src="https://habrastorage.org/webt/xn/wn/bz/xnwnbz5eygkvqvyhsth56ks0ecy.jpeg"><br><br>    encapsulation dot1Q.     ,      ,     ,        VLAN,         ,   VLAN.     ,        dot1Q.       ,      VLAN10. C    IP-,     VLAN10  . <br><br><img src="https://habrastorage.org/webt/rv/ga/jn/rvgajnqeizsiwxipzqin6jnhgue.jpeg"><br><br>      g0/0.20.    ,      IP-  ip add 192.168.2.1 255.255.255.0. <br><br><img src="https://habrastorage.org/webt/bk/hk/ch/bkhkch2dtkwb7-o_ay8mhkhzopu.jpeg"><br><br>       IP-  ,                 VLAN20.       int g0/1  no ip address.     ,       . <br><br><img src="https://habrastorage.org/webt/gs/zy/yk/gszyykcxxxhj9x1buje8sesbg4w.jpeg"><br><br>       g0/0.20    IP-  ip add 192.168.2.1 255.255.255.0.      . <br><br>     show ip route,     . <br><br><img src="https://habrastorage.org/webt/pn/0u/os/pn0uosesmeykedvhyg5buotjc7m.jpeg"><br><br>  ,   192.168.1.0/24     GigabitEthernet0/0.10,   192.168.2.0/24     GigabitEthernet0/0.20.        PC0   PC1.       ,             PC1.  ,   .     ,         ,       MAC-,        .      «  ». <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/2_sw10F72WY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> ,    .    ?     ?  Soutenez-nous en passant une commande ou en le recommandant à vos amis, une <b>réduction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entrée de gamme que nous avons inventés pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la vérité sur VPS (KVM) E5-2650 v4 (6 cœurs) 10 Go DDR4 240 Go SSD 1 Gbps à partir de 20 $ ou comment diviser le serveur?</a> (   RAID1  RAID10,  24    40GB DDR4). <br><br> <b>Dell R730xd  2  ?</b>    <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2  Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100   $199</a>  ! <b>Dell R420 — 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB —  $99!</b></b>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">   .  c   Dell R730xd 5-2650 v4  9000   ?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr463581/">https://habr.com/ru/post/fr463581/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr463571/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 21. Routage vectoriel à distance RIP</a></li>
<li><a href="../fr463573/index.html">La première puce pour centres de données basée sur l'architecture Zen 2</a></li>
<li><a href="../fr463575/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 22. Troisième CCNA: continuer à étudier RIP</a></li>
<li><a href="../fr463577/index.html">Plasticité et résistance: durcissement de l'intermétallique sans accent sur la luxation</a></li>
<li><a href="../fr463579/index.html">Windows: découvrez qui est connecté où</a></li>
<li><a href="../fr463583/index.html">Plugins fantastiques, vol. 1. Théorie</a></li>
<li><a href="../fr463585/index.html">Formation Cisco 200-125 CCNA v3.0. Jour 24. IPv6</a></li>
<li><a href="../fr463587/index.html">ConfigureAwait, qui est à blâmer et que faire?</a></li>
<li><a href="../fr463591/index.html">BlueKeep-2 - toutes les nouvelles versions de Windows sont désormais vulnérables</a></li>
<li><a href="../fr463595/index.html">Nous contrôlons le focus ou une pincée de C # et STM32 pour une webcam</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>