<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤¾ ğŸ¨ ğŸ¤ŸğŸ¼ Windows Linuxå®‰è£…ç³»ç»Ÿçš„å…¨ç£ç›˜åŠ å¯†ã€‚ åŠ å¯†å¤šé‡å¯åŠ¨ ğŸ¤´ğŸ½ ğŸ†‘ ğŸš„</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ›´æ–°äº†è‡ªå·±çš„Runet V0.2ä¸­çš„å…¨ç£ç›˜åŠ å¯†æŒ‡å— 

 ç‰›ä»”ç­–ç•¥ï¼š 
 [A]é˜»æ­¢Windows 7å®‰è£…çš„ç³»ç»Ÿçš„ç³»ç»ŸåŠ å¯†ï¼› 
 [B] GNU / Linuxå—ç³»ç»ŸåŠ å¯†ï¼ˆDebianï¼‰çš„å·²å®‰è£…ç³»ç»Ÿï¼ˆåŒ…æ‹¬/ bootï¼‰ ï¼› 
 [C] GRUB2è®¾ç½®ï¼Œé€šè¿‡æ•°å­—ç­¾å/èº«ä»½éªŒè¯/å“ˆå¸Œä¿æŠ¤å¼•å¯¼ç¨‹åºï¼› 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Windows Linuxå®‰è£…ç³»ç»Ÿçš„å…¨ç£ç›˜åŠ å¯†ã€‚ åŠ å¯†å¤šé‡å¯åŠ¨</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482696/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/y7/04/pd/y704pdw4xfrpf8nipub8isyyzra.jpeg"></div><br>  <b>æ›´æ–°äº†è‡ªå·±çš„Runet V0.2ä¸­çš„å…¨ç£ç›˜åŠ å¯†æŒ‡å—</b> <br><br><h3> ç‰›ä»”ç­–ç•¥ï¼š </h3><br>  [A]é˜»æ­¢Windows 7å®‰è£…çš„ç³»ç»Ÿçš„ç³»ç»ŸåŠ å¯†ï¼› <br>  [B] GNU / Linuxå—ç³»ç»ŸåŠ å¯†<i>ï¼ˆDebianï¼‰çš„å·²</i>å®‰è£…ç³»ç»Ÿ<i>ï¼ˆåŒ…æ‹¬/ bootï¼‰</i> ï¼› <br>  [C] GRUB2è®¾ç½®ï¼Œé€šè¿‡æ•°å­—ç­¾å/èº«ä»½éªŒè¯/å“ˆå¸Œä¿æŠ¤å¼•å¯¼ç¨‹åºï¼› <br>  [D]å‰¥ç¦»-é”€æ¯æœªåŠ å¯†çš„æ•°æ®ï¼› <br>  [E]åŠ å¯†æ“ä½œç³»ç»Ÿçš„é€šç”¨å¤‡ä»½ï¼› <br>  [F]æ”»å‡»&lt;on [C6]&gt;ç›®æ ‡æ˜¯å¼•å¯¼åŠ è½½ç¨‹åºGRUB2ï¼› <br>  [G]æœ‰ç”¨çš„æ–‡æ¡£ã€‚ <br><br>  <b>â•­â”€â”€â”€ç”µè·¯ï¼ƒæˆ¿é—´40ï¼ƒ&lt;BIOSä¸­æ²¡æœ‰BIOSçš„MBR / 1HDD&gt;ï¼š</b> <br>  â”œâ”€â”€â•¼å·²å®‰è£…Windows 7-å®Œæ•´çš„ç³»ç»ŸåŠ å¯†ï¼Œæœªéšè—ï¼› <br>  â”œâ”€â”€â•¼å·²å®‰è£…GNU / Linux <i>ï¼ˆDebianå’Œè¡ç”Ÿå‘è¡Œç‰ˆï¼‰</i> -æœªéšè—å®Œæ•´çš„ç³»ç»ŸåŠ å¯†<i>ï¼ˆ/ï¼ŒåŒ…æ‹¬/ boot; swapï¼‰</i> ï¼› <br>  â”œâ”€â”€â•¼ç‹¬ç«‹çš„å¼•å¯¼ç¨‹åºï¼šMBRä¸­å®‰è£…äº†VeraCryptå¼•å¯¼ç¨‹åºï¼Œæ‰©å±•åˆ†åŒºä¸­å®‰è£…äº†GRUB2å¼•å¯¼ç¨‹åºï¼› <br>  â”œâ”€â”€â•¼æ— éœ€è¿›è¡ŒOSå®‰è£…/é‡æ–°å®‰è£…ï¼› <br>  â””â”€â”€â•¼äºŒæ‰‹åŠ å¯†è½¯ä»¶ï¼šVeraCryptï¼› åŠ å¯†è®¾ç½®  GnuPGï¼› æµ·é©¬ å“ˆå¸Œæ·±  GRUB2-å…è´¹/å…è´¹ã€‚ <a name="habracut"></a><br><br> ä¸Šè¿°æ–¹æ¡ˆéƒ¨åˆ†è§£å†³äº†â€œè¿œç¨‹å¯åŠ¨åˆ°é—ªå­˜é©±åŠ¨å™¨â€çš„é—®é¢˜ï¼Œä½¿æ‚¨å¯ä»¥äº«å—Windows / LinuxåŠ å¯†çš„æ“ä½œç³»ç»Ÿï¼Œå¹¶é€šè¿‡â€œåŠ å¯†é€šé“â€ä»ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸å¦ä¸€ä¸ªæ“ä½œç³»ç»Ÿäº¤æ¢æ•°æ®ã€‚ <br><br>  <b>PCå¼•å¯¼é¡ºåºï¼ˆé€‰é¡¹ä¹‹ä¸€ï¼‰ï¼š</b> <br><br><ul><li> æ‰“å¼€æœºå™¨ï¼› </li><li> åŠ è½½VeraCryptå¼•å¯¼åŠ è½½ç¨‹åº<i>ï¼ˆè¾“å…¥æ­£ç¡®çš„å¯†ç å°†ç»§ç»­åŠ è½½Windows 7ï¼‰</i> ï¼› </li><li> æŒ‰Escé”®å°†åŠ è½½GRUB2å¼•å¯¼ç¨‹åºï¼› </li><li>  bootloader GRUB2 <i>ï¼ˆå‘è¡Œç‰ˆ/ GNU / Linux / CLIçš„é€‰æ‹©ï¼‰</i> ï¼Œå°†è¦æ±‚GRUB2è¶…çº§ç”¨æˆ·&lt;login / password&gt;çš„èº«ä»½éªŒè¯ï¼› </li><li> æˆåŠŸé€šè¿‡èº«ä»½éªŒè¯å¹¶é€‰æ‹©äº†åˆ†å‘å·¥å…·åŒ…åï¼Œæ‚¨å°†éœ€è¦è¾“å…¥å¯†ç æ¥è§£é”â€œ /boot/initrd.imgâ€ï¼› </li><li> åœ¨GRUB2ä¸­è¾“å…¥æ— é”™å¯†ç åï¼Œéœ€è¦â€œè¾“å…¥â€å¯†ç <i>ï¼ˆç¬¬ä¸‰</i>ä¸ªå¯†ç <i>ï¼ŒBIOSå¯†ç æˆ–GNU / Linuxç”¨æˆ·å¸æˆ·å¯†ç -ä¸è€ƒè™‘ï¼‰</i>ä»¥è§£é”å’ŒåŠ è½½GNU / Linuxæ“ä½œç³»ç»Ÿï¼Œæˆ–è€…è‡ªåŠ¨æ›¿æ¢ä¸€ä¸ªç§˜å¯†å¯†é’¥<i>ï¼ˆä¸¤ä¸ªå¯†ç +ä¸€ä¸ªå¯†é’¥ï¼Œæˆ–è€…å¯†ç +å¯†é’¥ï¼‰</i> ï¼› </li><li> å¤–éƒ¨ä¾µå…¥GRUB2é…ç½®å°†å†»ç»“GNU / Linuxå¼•å¯¼è¿‡ç¨‹ã€‚ </li></ul><br> éº»çƒ¦äº†å— å¥½çš„ï¼Œè®©æˆ‘ä»¬è‡ªåŠ¨åŒ–è¿™äº›è¿‡ç¨‹ã€‚ <br><br> åœ¨æ ‡è®°ç¡¬ç›˜<i>ï¼ˆMBRè¡¨ï¼‰æ—¶ï¼Œä¸€</i>å°PCæœ€å¤šå¯ä»¥æœ‰4ä¸ªä¸»åˆ†åŒºï¼Œæˆ–3ä¸ªä¸»åˆ†åŒºå’Œ1ä¸ªæ‰©å±•åˆ†åŒºï¼Œä»¥åŠä¸€ä¸ªæœªåˆ†é…çš„åŒºåŸŸã€‚ ä¸ä¸»åˆ†åŒºä¸åŒï¼Œæ‰©å±•åˆ†åŒºå¯ä»¥åŒ…å«å°èŠ‚<i>ï¼ˆé€»è¾‘é©±åŠ¨å™¨=æ‰©å±•åˆ†åŒºï¼‰</i> ã€‚ æ¢å¥è¯è¯´ï¼ŒHDDä¸Šçš„â€œæ‰©å±•åˆ†åŒºâ€å°†LVMæ›¿æ¢ä¸ºå½“å‰ä»»åŠ¡ï¼šå®Œå…¨ç³»ç»ŸåŠ å¯†ã€‚ å¦‚æœå°†ç£ç›˜åˆ†åŒºä¸º4ä¸ªä¸»åˆ†åŒºï¼Œåˆ™éœ€è¦ä½¿ç”¨lvmï¼Œæˆ–è€…å°†åˆ†åŒºä»mainè½¬æ¢<i>ï¼ˆé€šè¿‡æ ¼å¼åŒ–ï¼‰</i>åˆ°æ‰©å±•ï¼Œæˆ–è€…æ˜æ™ºåœ°ä½¿ç”¨æ‰€æœ‰å››ä¸ªåˆ†åŒºï¼Œå¹¶ä¿ç•™æ‰€æœ‰å†…å®¹ï¼Œä»¥å¾—åˆ°æ‰€éœ€çš„ç»“æœã€‚ å³ä½¿ç£ç›˜ä¸Šæœ‰ä¸€ä¸ªåˆ†åŒºï¼ŒGpartedä¹Ÿä¼šå¸®åŠ©å°†HDDæ‹†åˆ†<i>ä¸ºå…¶ä»–åˆ†åŒº</i>è€Œä¸ä¼šä¸¢å¤±æ•°æ®ï¼Œä½†è¿™æ ·åšçš„ä»£ä»·å¾ˆå°ã€‚ <br><br> ä¸‹è¡¨åˆ—å‡ºäº†å°†ç”¨è¯­è¨€è¡¨è¾¾æ•´ç¯‡æ–‡ç« çš„ç¡¬ç›˜å¸ƒå±€ã€‚ <br><br><img src="https://habrastorage.org/webt/jd/3k/wf/jd3kwfqr9mas6ldlmil_5qwwbg8.png"><br>  <i>1Tbæˆªé¢è¡¨ï¼ˆç¬¬1å·ï¼‰ã€‚</i> <br><br> ç±»ä¼¼çš„äº‹æƒ…ä¹Ÿåº”è¯¥ä¼´éšç€ä½ ã€‚ <br>  sda1-ä¸»åˆ†åŒºâ„–1NTFS <i>ï¼ˆåŠ å¯†ï¼‰</i> ï¼› <br>  sda2-æ‰©å±•æ ‡è®°éƒ¨åˆ†ï¼› <br>  sda6-é€»è¾‘é©±åŠ¨å™¨<i>ï¼ˆå·²å®‰è£…GRUB2å¼•å¯¼åŠ è½½ç¨‹åºï¼‰ï¼›</i> <br>  sda8-äº¤æ¢ï¼ˆåŠ å¯†äº¤æ¢æ–‡ä»¶/å¹¶éæ€»æ˜¯ï¼‰ï¼› <br>  sda9-æµ‹è¯•é€»è¾‘é©±åŠ¨å™¨ï¼› <br>  sda5-å¥½å¥‡çš„é€»è¾‘é©±åŠ¨å™¨ï¼› <br>  sda7-GNU / Linuxæ“ä½œç³»ç»Ÿï¼ˆå°†æ“ä½œç³»ç»Ÿç§»æ¤åˆ°åŠ å¯†çš„é€»è¾‘é©±åŠ¨å™¨ä¸Šï¼‰ï¼› <br>  sda3-Windows 7çš„ä¸»è¦éƒ¨åˆ†2 <i>ï¼ˆåŠ å¯†ï¼‰</i> ï¼› <br>  sda4æ˜¯3å·ä¸»åˆ†åŒº<i>ï¼ˆå®ƒåŒ…å«æœªåŠ å¯†çš„GNU / Linuxï¼Œå®ƒç”¨äºå¤‡ä»½/å¹¶éæ€»æ˜¯å¦‚æ­¤ï¼‰</i> ã€‚ <br><br><h2>  [A] Windows 7å—ç³»ç»ŸåŠ å¯† </h2><br><div class="spoiler">  <b class="spoiler_title">A1ã€‚</b>  <b class="spoiler_title">Veracrypt</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/-q/in/7s/-qin7s3t7xacdjov7invu_8kb2y.png"><br><br> ä»<a href="https://www.veracrypt.fr/en/Downloads.html" rel="nofollow">å®˜æ–¹ç½‘ç«™</a>æˆ–ä»<a href="https://sourceforge.net/projects/veracrypt/" rel="nofollow">sourceforge</a>é•œåƒä¸‹è½½VeraCryptåŠ å¯†è½¯ä»¶çš„å®‰è£…ç‰ˆæœ¬<i>ï¼ˆåœ¨å‘å¸ƒv1.24-Update3æ—¶ï¼ŒVeraCryptçš„ä¾¿æºå¼ç‰ˆæœ¬ä¸é€‚åˆç³»ç»ŸåŠ å¯†ï¼‰</i> ã€‚ æ£€æŸ¥ä¸‹è½½è½¯ä»¶çš„æ ¡éªŒå’Œ <br><br> <code>$ Certutil -hashfile "C:\VeraCrypt Setup 1.24.exe" SHA256</code> <br> <br> å¹¶å°†ç»“æœä¸â€‹â€‹VeraCryptå¼€å‘äººå‘˜ç½‘ç«™ä¸Šå‘å¸ƒçš„CSè¿›è¡Œæ¯”è¾ƒã€‚ <br><br> å¦‚æœå®‰è£…äº†HashTabè½¯ä»¶ï¼Œåˆ™æ›´åŠ ç®€å•ï¼šRMB <i>ï¼ˆVeraCrypt Setup 1.24.exeï¼‰</i> -æ–‡ä»¶æ€»å’Œçš„å“ˆå¸Œ<i>å±æ€§</i> ã€‚ <br><br> è¦éªŒè¯ç¨‹åºçš„ç­¾åï¼Œç³»ç»Ÿå¿…é¡»<a href="https://www.gnupg.org/download/index.html" rel="nofollow">å®‰è£…gnuPG</a>å¼€å‘äººå‘˜çš„è½¯ä»¶å’Œå…¬å…±pgpå¯†é’¥ï¼›  <a href="https://www.gpg4win.org/get-gpg4win.html" rel="nofollow">gpg4win</a> ã€‚ <br></div></div><br><div class="spoiler">  <b class="spoiler_title">A2ã€‚</b>  <b class="spoiler_title">å®‰è£…/å¯åŠ¨VeraCrypt Administratorè½¯ä»¶</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/py/ih/fo/pyihfozxju5pulv79n_3mllt9km.jpeg"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">A3ã€‚</b>  <b class="spoiler_title">é€‰æ‹©æ´»åŠ¨åˆ†åŒºçš„ç³»ç»ŸåŠ å¯†é€‰é¡¹</b> <div class="spoiler_text">  VeraCrypt-ç³»ç»Ÿ-åŠ å¯†ç³»ç»Ÿåˆ†åŒº/ç£ç›˜-æ™®é€š-åŠ å¯†Windowsç³»ç»Ÿåˆ†åŒº-å¤šé‡å¼•å¯¼- <i>ï¼ˆè­¦å‘Šï¼šâ€œä¸å»ºè®®æ²¡æœ‰ç»éªŒçš„ç”¨æˆ·ä½¿ç”¨æ­¤æ–¹æ³•â€ï¼Œè¿™æ˜¯çœŸçš„ï¼Œæˆ‘ä»¬åŒæ„â€œæ˜¯â€ï¼‰</i> -å¼•å¯¼ç£ç›˜<i>ï¼ˆâ€œæ˜¯â€ï¼Œå³ä½¿å¦åˆ™ï¼Œæ— è®ºå¦‚ä½•â€œæ˜¯â€ï¼‰</i> -ç³»ç»Ÿç£ç›˜æ•°é‡â€œ 2ä¸ªæˆ–æ›´å¤šâ€-ä¸€ä¸ªç£ç›˜ä¸Šçš„å¤šä¸ªç³»ç»Ÿâ€œæ˜¯â€-ä¸æ˜¯Windowså¼•å¯¼ç¨‹åºâ€œå¦â€ <i>ï¼ˆä½†å®é™…ä¸Šæ˜¯â€œæ˜¯â€ï¼å¦åˆ™ï¼ŒVeraCrypt / GRUB2å¼•å¯¼ç¨‹åºå°†ä¸ä¼šå…±äº«MBRæ›´å‡†ç¡®åœ°è¯´ï¼Œåœ¨MBR /å¼•å¯¼ç£é“ä¹‹é—´ï¼Œå®ƒä»¬ä»…å­˜å‚¨äº†å¼•å¯¼åŠ è½½ç¨‹åºä»£ç çš„æœ€å°éƒ¨åˆ†ï¼Œ</i>  <i>å®ƒçš„ä¸»è¦éƒ¨åˆ†ä½äºæ–‡ä»¶ç³»ç»Ÿä¸­ï¼‰</i> -Multiboot-åŠ å¯†è®¾ç½®... <br><br> å¦‚æœæ‚¨åç¦»ä¸Šè¿°æ­¥éª¤ï¼ˆ <i>é˜»æ­¢ç³»ç»ŸåŠ å¯†æ–¹æ¡ˆï¼‰</i> ï¼Œåˆ™VeraCryptå°†æ¨å‡ºè­¦å‘Šï¼Œå¹¶ä¸”ä¸å…è®¸åŠ å¯†åˆ†åŒºã€‚ <br><br> ä¸‹ä¸€æ­¥ï¼Œè¦è¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„æ•°æ®ä¿æŠ¤ï¼Œè¯·æ‰§è¡Œâ€œæµ‹è¯•â€å¹¶é€‰æ‹©ä¸€ç§åŠ å¯†ç®—æ³•ã€‚ å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯éç°ä»£CPUï¼Œåˆ™å¯èƒ½æ˜¯æœ€å¿«çš„TwofishåŠ å¯†ç®—æ³•ï¼Œè¯·é€‰æ‹©å®ƒã€‚ å¦‚æœCPUæ˜¯ç°ä»£çš„ï¼Œè¯·æ³¨æ„ä»¥ä¸‹åŒºåˆ«ï¼šAES-æ ¹æ®æµ‹è¯•ç»“æœè¿›è¡ŒåŠ å¯†çš„é€Ÿåº¦å°†æ¯”å…¶åŠ å¯†ç«äº‰å¯¹æ‰‹å¿«å‡ å€ã€‚  AESæ˜¯æœ€æµè¡Œçš„åŠ å¯†ç®—æ³•ï¼Œç°ä»£CPUçš„ç¡¬ä»¶ä¸“é—¨é’ˆå¯¹â€œç§˜å¯†â€ <s>å’Œâ€œé»‘å®¢</s> â€è¿›è¡Œäº†ä¼˜åŒ–ã€‚ <br><br>  VeraCryptæ”¯æŒä½¿ç”¨AES <i>ï¼ˆTwofishï¼‰</i> /å’Œå…¶ä»–ç»„åˆå¯¹é©±åŠ¨å™¨è¿›è¡ŒåŠ å¯†çš„åŠŸèƒ½ã€‚ åœ¨åå¹´å‰çš„æ—§å†…æ ¸è‹±ç‰¹å°”CPUä¸Š<i>ï¼ˆæ²¡æœ‰å¯¹AES-NIçš„ç¡¬ä»¶æ”¯æŒï¼Œæ²¡æœ‰é€šè¿‡A / Tçº§è”è¿›è¡ŒåŠ å¯†ï¼‰ï¼Œ</i>æ€§èƒ½ä¸‹é™åŸºæœ¬ä¸Šæ˜¯æ— æ³•å¯Ÿè§‰çš„ã€‚  <i>ï¼ˆå¯¹äºå…·æœ‰ç›¸åŒã€œå‚æ•°æ—¶ä»£çš„AMD CPUï¼Œæ€§èƒ½ä¼šç•¥æœ‰ä¸‹é™ï¼‰</i> ã€‚ æ“ä½œç³»ç»Ÿæ˜¯åŠ¨æ€çš„ï¼Œé€æ˜åŠ å¯†çš„èµ„æºæ¶ˆè€—æ˜¯ä¸å¯è§çš„ã€‚ ç›¸æ¯”ä¹‹ä¸‹ï¼Œä¾‹å¦‚ï¼Œç”±äºåœ¨GNU / Linuxä¸­å®‰è£…äº†æµ‹è¯•ä¸ç¨³å®šçš„æ¡Œé¢ç¯å¢ƒMate v1.20.1 <i>ï¼ˆæˆ–è€…æˆ‘ä¸è®°å¾—çš„v1.20.2ï¼‰</i> ï¼Œæˆ–è€…ç”±äºWindows7ä¸­é¥æµ‹æ‚è‰ä¾‹ç¨‹çš„è¿è¡Œï¼Œæ€§èƒ½æ˜æ˜¾ä¸‹é™ã€‚ é€šå¸¸ï¼Œè€ç»ƒçš„ç”¨æˆ·åœ¨åŠ å¯†ä¹‹å‰ä¼šå¯¹ç¡¬ä»¶æ€§èƒ½è¿›è¡Œæµ‹è¯•ã€‚ ä¾‹å¦‚ï¼Œåœ¨å¯¹Aida64 / Sysbench / systemd-analyzeçš„æŒ‡è´£ä¸­ï¼Œå°†å®ƒä»¬ä¸å¯¹ç³»ç»ŸåŠ å¯†åçš„ç›¸åŒæµ‹è¯•ç»“æœè¿›è¡Œäº†æ¯”è¾ƒï¼Œä»è€Œåé©³äº†â€œç³»ç»ŸåŠ å¯†æœ‰å®³â€çš„ç¥è¯ã€‚ å¤‡ä»½/è¿˜åŸåŠ å¯†æ•°æ®æ—¶ï¼Œè®¡ç®—æœºé€Ÿåº¦å˜æ…¢ï¼Œç»™ç”¨æˆ·å¸¦æ¥ä¸ä¾¿ï¼Œè¿™æ˜¯å› ä¸ºâ€œç³»ç»Ÿæ•°æ®å¤‡ä»½â€æ“ä½œæœ¬èº«ä¸æ˜¯ä»¥æ¯«ç§’ä¸ºå•ä½è¿›è¡Œåº¦é‡çš„ï¼Œå¹¶ä¸”æ·»åŠ äº†ç›¸åŒçš„â€œåŠ¨æ€è§£å¯†/åŠ å¯†â€æ“ä½œã€‚ æœ€ç»ˆï¼Œæ¯ä¸ªè¢«å…è®¸æä¹±å¯†ç å­¦çš„ç”¨æˆ·åœ¨æ»¡è¶³ç›®æ ‡ï¼Œä»–çš„åæ‰§ç¨‹åº¦å’Œæ˜“ç”¨æ€§æ–¹é¢éƒ½è®¾ç½®äº†åŠ å¯†ç®—æ³•çš„å¹³è¡¡ã€‚ <br><br> æœ€å¥½é»˜è®¤ä¿ç•™PIMå‚æ•°ï¼Œä»¥ä¾¿åœ¨æ¯æ¬¡åŠ è½½OSæ—¶éƒ½ä¸å¿…è¾“å…¥ç¡®åˆ‡çš„è¿­ä»£å€¼ã€‚  VeraCryptä½¿ç”¨å¤§é‡è¿­ä»£æ¥åˆ›å»ºçœŸæ­£çš„â€œæ…¢æ•£åˆ—â€ã€‚ ä½¿ç”¨â€œè›®åŠ›/å½©è™¹è¡¨â€æ–¹æ³•å¯¹è¿™ç§â€œå¯†ç èœ—ç‰›â€è¿›è¡Œæ”»å‡»ï¼Œä»…åœ¨ä½¿ç”¨<s>ç®€çŸ­çš„</s> â€œç®€å•â€å¯†ç çŸ­è¯­å’Œä¸ªäººå—å®³è€…çš„å­—ç¬¦é›†åˆ—è¡¨æ—¶æ‰æœ‰æ„ä¹‰ã€‚ æ”¯ä»˜å¯†ç å¼ºåº¦-å¯åŠ¨æ“ä½œç³»ç»Ÿæ—¶æ­£ç¡®è¾“å…¥å¯†ç çš„å»¶è¿Ÿ<i>ï¼ˆåœ¨GNU / Linuxä¸­å®‰è£…VeraCryptå·è¦å¿«å¾—å¤šï¼‰ã€‚</i> <br> ç”¨äºå®æ–½æš´åŠ›æ”»å‡»çš„å…è´¹è½¯ä»¶<i>ï¼ˆä»VeraCrypt / LUKSç£ç›˜å¤´æå–å¯†ç ï¼‰</i> Hashcatã€‚ å¼€è†›æ‰‹çº¦ç¿°ä¸çŸ¥é“å¦‚ä½•â€œç ´è§£Veracryptâ€ï¼Œå¹¶ä¸”åœ¨ä¸LUKSåˆä½œæ—¶ï¼Œä»–ä¸äº†è§£Twofishå¯†ç å­¦ã€‚ é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œåœ¨æ‰€æœ‰å…¶ä»–æ–¹é¢çš„éå•†ä¸šè½¯ä»¶ä¸­ï¼ŒJtRæ¯”Hashcatæ›´å¥½ã€‚ <br><br> ç”±äºåŠ å¯†ç®—æ³•çš„åŠ å¯†å¼ºåº¦ï¼Œä¸å¯é˜»æŒ¡çš„å¯†ç åº“åŠå…¶å¯¹ç«‹ä½“å¼€å‘å‡ºå…·æœ‰ä¸åŒæ”»å‡»å‘é‡çš„è½¯ä»¶ã€‚ ä¾‹å¦‚ï¼Œä»RAMä¸­æå–å…ƒæ•°æ®/å¯†é’¥<i>ï¼ˆå†·å¯åŠ¨æ”»å‡»/ç›´æ¥å†…å­˜è®¿é—®ï¼‰ï¼Œåœ¨</i>çªƒå–LUKSæ ‡å¤´çš„åŒæ—¶æ‹¦æˆªå¯†ç å¹¶å‘é€ç½‘ç»œæ•°æ®åŒ…ï¼Œè¿™ä¹Ÿè®¸æ˜¯æˆ‘æ‰€ä¸çŸ¥é“çš„ã€‚ æœ‰ä¸“é—¨çš„å…è´¹å’Œéå…è´¹è½¯ä»¶å¯ä»¥å®ç°è¿™äº›ç›®çš„ã€‚ <br><br> å®ŒæˆåŠ å¯†æ´»åŠ¨åˆ†åŒºçš„â€œå”¯ä¸€å…ƒæ•°æ®â€çš„é…ç½®/ç”Ÿæˆåï¼ŒVeraCryptå°†æä¾›é‡æ–°å¯åŠ¨PCå¹¶æµ‹è¯•å…¶å¼•å¯¼åŠ è½½ç¨‹åºçš„æ€§èƒ½çš„åŠŸèƒ½ã€‚  Windowsé‡æ–°å¯åŠ¨/å¯åŠ¨åï¼ŒVeraCryptå°†ä»¥å¾…æœºæ¨¡å¼åŠ è½½ï¼Œä»…ç”¨äºç¡®è®¤åŠ å¯†è¿‡ç¨‹-æ˜¯ã€‚ <br><br> åœ¨ç³»ç»ŸåŠ å¯†çš„æœ€åä¸€æ­¥ï¼ŒVeraCryptå°†ä»¥â€œ veracryptæ€¥æ•‘ç£ç›˜.isoâ€çš„å½¢å¼åˆ›å»ºæ´»åŠ¨åŠ å¯†åˆ†åŒºçš„æ ‡å¤´çš„å¤‡ä»½å‰¯æœ¬-å¿…é¡»å®Œæˆ- <u>åœ¨æ­¤è½¯ä»¶ä¸­ï¼Œæ­¤æ“ä½œæ˜¯</u>å¿…éœ€çš„<i>ï¼ˆä¸å¹¸çš„æ˜¯ï¼Œåœ¨LUKSä¸­ï¼Œ</i> <u>æ­¤æ“ä½œè¢«</u> <i>çœç•¥äº†ï¼Œä½†å¼ºè°ƒäº†åœ¨æ–‡æ¡£ä¸­ï¼‰</i> ã€‚ æ•‘æ´ç£ç›˜å¯¹æ¯ä¸ªäººéƒ½æœ‰ç”¨ï¼Œå¯¹ä¸€ä¸ªäººä¹Ÿæœ‰ç”¨ã€‚ å¦‚æœæ²¡æœ‰ç£ç›˜å¤´ï¼Œç§»åŠ¨æ“ä½œç³»ç»Ÿï¼Œä¸¢å¤±<i>ï¼ˆè¦†ç›–å¤´/ MBRï¼‰</i>å¤´å¤‡ä»½ï¼Œå°†æ°¸ä¹…å‰¥å¤ºWindowsæ“ä½œç³»ç»Ÿå¯¹è§£å¯†åˆ†åŒºçš„è®¿é—®ã€‚ <br></div></div><br><div class="spoiler">  <b class="spoiler_title">A4ã€‚</b>  <b class="spoiler_title">åˆ›å»ºVeraCrypt USB /é©±åŠ¨å™¨æ•‘æ´</b> <div class="spoiler_text"> é»˜è®¤æƒ…å†µä¸‹ï¼ŒVeraCryptæä¾›å°†â€œã€œ2-3mBå…ƒæ•°æ®â€åˆ»å½•åˆ°CDï¼Œä½†å¹¶éæ‰€æœ‰äººéƒ½å…·æœ‰é©±åŠ¨å™¨æˆ–DWD-ROMé©±åŠ¨å™¨ï¼Œè€Œä¸ºæŸäººåˆ›å»ºå¯å¼•å¯¼çš„VeraCrypt Rescueç£ç›˜å°†æ˜¯ä¸€ä¸ªæŠ€æœ¯æƒŠå–œï¼š / GUIdd-ROSA ImageWriterå’Œå…¶ä»–ç±»ä¼¼è½¯ä»¶å°†æ— æ³•å®Œæˆä»»åŠ¡ï¼Œå› ä¸ºé™¤äº†å°†è½¬ç§»çš„å…ƒæ•°æ®å¤åˆ¶åˆ°å¯å¯åŠ¨USBé—ªå­˜é©±åŠ¨å™¨ä¹‹å¤–ï¼Œæ‚¨è¿˜éœ€è¦ä»USBé©±åŠ¨å™¨çš„æ–‡ä»¶ç³»ç»Ÿå¤–éƒ¨çš„æ˜ åƒè¿›è¡Œå¤åˆ¶/ç²˜è´´ï¼Œæ€»ä¹‹ï¼Œæ­£ç¡®åœ°å°†MBR /ç£é“å¤åˆ¶åˆ°é’¥åŒ™æ‰£ã€‚ åœ¨GNU / Linuxä¸‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨â€œ ddâ€å®ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªå¯å¼•å¯¼çš„é—ªå­˜é©±åŠ¨å™¨ï¼ŒæŸ¥çœ‹æ­¤å›¾æ¿ã€‚ <br><br><img src="https://habrastorage.org/webt/_z/zl/f-/_zzlf-zhvflotagy215jpqv9dkw.jpeg"><br><br> åœ¨Windowsç¯å¢ƒä¸­åˆ›å»ºåº”æ€¥ç£ç›˜çš„æ–¹æ³•æœ‰æ‰€ä¸åŒã€‚  VeraCryptå¼€å‘äººå‘˜å¹¶æœªåœ¨â€œæ•‘æ´ç£ç›˜â€çš„å®˜æ–¹<a href="https://www.veracrypt.fr/en/VeraCrypt%2520Rescue%2520Disk.html" rel="nofollow">æ–‡æ¡£ä¸­</a>åŒ…å«é’ˆå¯¹æ­¤é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œä½†æå‡ºäº†å¦ä¸€ç§è§£å†³æ–¹æ¡ˆï¼šä»–åœ¨å…¶VeraCryptè®ºå›ä¸Šå‘å¸ƒäº†ç”¨äºåˆ›å»ºâ€œ usbæ•‘æ´ç£ç›˜â€çš„å…¶ä»–è½¯ä»¶ï¼Œä»¥ä¾¿å…è´¹ä½¿ç”¨ã€‚ æ›´æ–°ï¼š2020å¹´ï¼Œå¼€å‘äººå‘˜å¯¹â€œå°äº‹â€æ„Ÿåˆ°å¯æƒœï¼Œå¹¶å°†<a href="" rel="nofollow">USBåº”æ€¥ç£ç›˜</a>è§£å†³æ–¹æ¡ˆæ­£å¼çº³å…¥å…¶æ–‡æ¡£ä¸­ã€‚ <br> ä¿å­˜åº”æ€¥ç£ç›˜.isoä¹‹åï¼Œå°†å¼€å§‹å¯¹æ´»åŠ¨åˆ†åŒºè¿›è¡Œå—ç³»ç»ŸåŠ å¯†ã€‚ åœ¨åŠ å¯†æœŸé—´ï¼Œæ“ä½œç³»ç»Ÿä¸ä¼šåœæ­¢ï¼Œä¸éœ€è¦é‡æ–°å¯åŠ¨PCã€‚ åŠ å¯†æ“ä½œå®Œæˆåï¼Œæ´»åŠ¨åˆ†åŒºå°†å®Œå…¨åŠ å¯†ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒã€‚ å¦‚æœå¯åŠ¨PCæ—¶æœªå‡ºç°VeraCryptå¼•å¯¼åŠ è½½ç¨‹åºï¼Œå¹¶ä¸”æ ‡å¤´æ¢å¤æ“ä½œæ— æµäºäº‹ï¼Œè¯·æ£€æŸ¥â€œå¼•å¯¼â€æ ‡å¿—ï¼Œåº”å°†å…¶å®‰è£…åœ¨å­˜åœ¨Windowsçš„åˆ†åŒºä¸Š<i>ï¼ˆä¸åŠ å¯†å’Œå…¶ä»–æ“ä½œç³»ç»Ÿæ— å…³ï¼Œè¯·å‚è§è¡¨1ï¼‰ã€‚</i> <br> åŠ å¯†ç³»ç»Ÿé©±åŠ¨å™¨å’Œntfsé€»è¾‘é©±åŠ¨å™¨ï¼ˆç›¸åŒçš„å¯†ç ï¼‰åï¼Œå°†æ‰€æœ‰åŠ å¯†çš„é©±åŠ¨å™¨æ·»åŠ åˆ°â€œç³»ç»Ÿæ”¶è—å¤¹â€ä¸­ã€‚ æ¥ä¸‹æ¥ï¼Œåœ¨â€œè®¾ç½®â€&gt;â€œç³»ç»Ÿæ”¶è—å¤¹â€ä¸­ï¼Œé€‰ä¸­â€œ Windowså¯åŠ¨æ—¶æŒ‚è½½ç³»ç»Ÿæ”¶è—å¤¹â€æ¡†ï¼Œå½“æ“ä½œç³»ç»Ÿå¯åŠ¨æ—¶ï¼Œæ‰€æœ‰ntfsç£ç›˜å°†è‡ªåŠ¨æŒ‚è½½ã€‚ <br>  <i><b>åˆ°æ­¤å®Œæˆäº†Windowså—ç³»ç»ŸåŠ å¯†çš„æè¿°ã€‚</b></i> <br></div></div><br><h2>  [B] LUKSã€‚  GNU / Linux <i>ï¼ˆã€œDebianï¼‰</i>å®‰è£…çš„æ“ä½œç³»ç»Ÿçš„åŠ å¯†ã€‚ ç®—æ³•å’Œæ­¥éª¤ </h2><br> ä¸ºäº†åŠ å¯†å·²å®‰è£…çš„Debian /æ´¾ç”Ÿå‘è¡Œç‰ˆï¼Œæ‚¨éœ€è¦å°†å‡†å¤‡å¥½çš„åˆ†åŒºæ˜ å°„åˆ°è™šæ‹Ÿå—è®¾å¤‡ï¼Œå°†å…¶ä¼ è¾“åˆ°æ˜ å°„çš„GNU / Linuxé©±åŠ¨å™¨ï¼Œç„¶åå®‰è£…/é…ç½®GRUB2ã€‚ å¦‚æœæ‚¨æ²¡æœ‰è£¸æœåŠ¡å™¨ï¼Œå¹¶ä¸”çæƒœæ—¶é—´ï¼Œåˆ™éœ€è¦ä½¿ç”¨GUIï¼Œå¹¶ä¸”ä»¥ä¸‹æ‰€è¿°çš„å¤§å¤šæ•°ç»ˆç«¯å‘½ä»¤éƒ½åº”ä»¥â€œ Chuck-Norrisæ¨¡å¼â€é©±åŠ¨ã€‚ <br><br>  <b>B1ã€‚</b>  <b>ä»å®æ—¶USB GNU / Linuxä¸‹è½½PC</b> <br><br>  â€œå¯¹é“çš„æ€§èƒ½è¿›è¡ŒåŠ å¯†æµ‹è¯•â€ <br><br><pre> <code class="bash hljs">lscpu &amp;&amp; ryptsetup benchmark</code> </pre> <br><img src="https://habrastorage.org/webt/xm/t5/ko/xmt5koolr78zxwr0rwicahnlr78.jpeg"><br><br> å¦‚æœæ‚¨æ˜¯æ‹¥æœ‰æ”¯æŒAES-NIç¡¬ä»¶çš„åŠŸèƒ½å¼ºå¤§çš„æ±½è½¦çš„æ»¡æ„æ‰€æœ‰è€…ï¼Œé‚£ä¹ˆå¦‚æœæ‚¨æ»¡æ„çš„è¯ï¼Œæ•°å­—å°†çœ‹èµ·æ¥åƒç»ˆç«¯çš„å³ä¾§ï¼Œä½†å·¦ä¾§æ˜¯å¤è‘£é“ã€‚ <br><br>  <b>B2ã€‚</b>  <b>åˆ†åŒºç£ç›˜ã€‚</b>  <b>åœ¨Ext4ä¸­å®‰è£…/æ ¼å¼åŒ–fsé€»è¾‘é©±åŠ¨å™¨HDDï¼ˆGpartedï¼‰</b> <br><br><div class="spoiler">  <b class="spoiler_title">B2.1ã€‚</b>  <b class="spoiler_title">åˆ›å»ºä¸€ä¸ªåŠ å¯†çš„sda7åˆ†åŒºå¤´</b> <div class="spoiler_text"> åœ¨ä¸‹æ–‡ä¸­ï¼Œæˆ‘å°†æ ¹æ®ä¸Šé¢åˆ—å‡ºçš„æˆ‘çš„èŠ‚è¡¨æ¥æè¿°èŠ‚çš„åç§°ã€‚ æ ¹æ®æ‚¨çš„ç£ç›˜å¸ƒå±€ï¼Œæ‚¨å¿…é¡»æ›¿æ¢æ‚¨çš„åˆ†åŒºåç§°ã€‚ <br><br> é€»è¾‘ç£ç›˜åŠ å¯†æ˜ å°„<i>ï¼ˆ/ dev / sda7&gt; / dev / mapper / sda7_cryptï¼‰ã€‚</i> <br>  ï¼ƒè½»æ¾åˆ›å»ºâ€œ LUKS-AES-XTSåˆ†åŒºâ€ <br><br><pre> <code class="bash hljs">cryptsetup -v -y luksFormat /dev/sda7</code> </pre> <br> é€‰é¡¹ï¼š <br><br>  * luksFormat-LUKSæ ‡å¤´çš„åˆå§‹åŒ–ï¼› <br>  * -yæ˜¯å¯†ç çŸ­è¯­ï¼ˆä¸æ˜¯å¯†é’¥/æ–‡ä»¶ï¼‰ï¼› <br>  * -v -verbalizationï¼ˆåœ¨ç»ˆç«¯ä¸­è¾“å‡ºä¿¡æ¯ï¼‰ï¼› <br>  * / dev / sda7-ä»æ‰©å±•åˆ†åŒº<i>ï¼ˆåˆ°æ‚¨è®¡åˆ’ä¼ è¾“/åŠ å¯†GNU / Linuxçš„ä½ç½®ï¼‰çš„</i>é€»è¾‘é©±åŠ¨å™¨ã€‚ <br><br> é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŠ å¯†ç®—æ³•ä¸º&lt;L <i>UKS1ï¼šaes-xts-plain64ï¼Œå¯†é’¥ï¼š256ä½ï¼ŒLUKSæ ‡å¤´å“ˆå¸Œï¼šsha256ï¼ŒRNGï¼š/ dev / urandom</i> &gt; <i>ï¼ˆå–å†³äºcryptsetupçš„ç‰ˆæœ¬ï¼‰ã€‚</i> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># default-  cryptsetup --help #     .</span></span></code> </pre> <br> åœ¨CPUä¸Šæ²¡æœ‰å¯¹AESçš„ç¡¬ä»¶æ”¯æŒçš„æƒ…å†µä¸‹ï¼Œåˆ›å»ºæ‰©å±•çš„â€œ LUKS-Twofish-XTS-partitionâ€æ˜¯æœ€ä½³é€‰æ‹©ã€‚ <br></div></div><br><div class="spoiler">  <b class="spoiler_title">B2.2ã€‚</b>  <b class="spoiler_title">é«˜çº§åˆ›å»ºâ€œ LUKS-Twofish-XTSåˆ†åŒºâ€</b> <div class="spoiler_text"><pre> <code class="bash hljs">cryptsetup luksFormat /dev/sda7 -v -y -c twofish-xts-plain64 -s 512 -h sha512 -i 1500 --use-urandom</code> </pre> <br> é€‰é¡¹ï¼š <br>  * luksFormat-LUKSæ ‡å¤´çš„åˆå§‹åŒ–ï¼› <br>  * / dev / sda7æ‚¨å°†æ¥çš„åŠ å¯†é€»è¾‘é©±åŠ¨å™¨ï¼› <br>  * -vè¯­è¨€åŒ–ï¼› <br>  * -yè¦æ±‚ç¡®è®¤å¯†ç ï¼› <br>  * -cé€‰æ‹©æ•°æ®åŠ å¯†ç®—æ³•ï¼› <br>  * -såŠ å¯†å¯†é’¥å¤§å°ï¼› <br>  * -hå“ˆå¸Œç®—æ³•/åŠ å¯†å‡½æ•°ï¼Œç”±RNG <i>ï¼ˆ--use-urandomï¼‰</i>ç”¨æ¥ä¸ºé€»è¾‘é©±åŠ¨å™¨å¤´ï¼Œè¾…åŠ©å¤´å¯†é’¥ï¼ˆXTSï¼‰ç”Ÿæˆå”¯ä¸€çš„åŠ å¯†/è§£å¯†å¯†é’¥ï¼› å­˜å‚¨åœ¨ç£ç›˜åŠ å¯†å¤´ä¸­çš„å”¯ä¸€ä¸»å¯†é’¥ï¼Œè¾…åŠ©XTSå¯†é’¥ï¼Œæ‰€æœ‰è¿™äº›å…ƒæ•°æ®å’ŒåŠ å¯†ä¾‹ç¨‹ï¼Œä½¿ç”¨ä¸»å¯†é’¥å’Œè¾…åŠ©XTSå¯†é’¥å¯¹åˆ†åŒºä¸Šçš„ä»»ä½•æ•°æ®<i>ï¼ˆåˆ†åŒºå¤´é™¤å¤–ï¼‰è¿›è¡Œ</i>åŠ å¯†/è§£å¯†ï¼Œå­˜å‚¨åœ¨æ‰€é€‰ç¡¬åˆ†åŒºä¸Šçš„ã€œ3 mBä¸­å¼€è½¦ã€‚ <br>  * -i LUKSçš„PBKDFè¿­ä»£æ—¶é—´ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ <i>ï¼ˆå¤„ç†å¯†ç çŸ­è¯­æ—¶çš„æ—¶é—´å»¶è¿Ÿä¼šå½±å“OSè´Ÿè½½å’Œå¯†é’¥çš„åŠ å¯†å¼ºåº¦ï¼‰ã€‚</i> è¦ä½¿ç”¨ç®€å•çš„å¯†ç ï¼ˆä¾‹å¦‚â€œ russianâ€ï¼‰ä¿æŒå¯†ç å¼ºåº¦çš„å¹³è¡¡ï¼Œæ‚¨éœ€è¦å¢åŠ è¯¥å€¼-ï¼ˆiï¼‰ä½¿ç”¨å¤æ‚çš„å¯†ç ï¼ˆä¾‹å¦‚â€œï¼Ÿ8dobob /Ã¸fhâ€ï¼‰ï¼Œæ‚¨å¯ä»¥å‡å°è¯¥å€¼ã€‚ <br>  * --use-urandoméšæœºæ•°ç”Ÿæˆå™¨ï¼Œç”Ÿæˆå¯†é’¥å’Œç›ã€‚ <br><br> æ¯”è¾ƒsda7&gt; sda7_cryptéƒ¨åˆ†<i>ï¼ˆæ“ä½œå¾ˆå¿«ï¼Œå› ä¸ºåˆ›å»º</i>äº†å¸¦æœ‰ã€œ3 <i>mbå…ƒæ•°æ®çš„åŠ å¯†æ ‡å¤´ï¼Œä»…</i>æ­¤è€Œå·²<i>ï¼‰</i> ï¼Œæ‚¨éœ€è¦æ ¼å¼åŒ–å¹¶æŒ‚è½½sda7_cryptæ–‡ä»¶ç³»ç»Ÿã€‚ <br></div></div><br><div class="spoiler">  <b class="spoiler_title">B2.3ã€‚</b>  <b class="spoiler_title">åˆ¶å›¾</b> <div class="spoiler_text"><pre> <code class="bash hljs">cryptsetup open /dev/sda7 sda7_crypt <span class="hljs-comment"><span class="hljs-comment">#       .</span></span></code> </pre><br> é€‰é¡¹ï¼š <br>  *æ‰“å¼€-æ˜ å°„â€œåç§°â€éƒ¨åˆ†ï¼› <br>  * / dev / sda7-é€»è¾‘é©±åŠ¨å™¨ï¼› <br>  * sda7_cryptæ˜¯ä¸€ä¸ªåç§°æ˜ å°„ï¼Œç”¨äºåœ¨æ“ä½œç³»ç»Ÿå¯åŠ¨æ—¶æŒ‚è½½åŠ å¯†åˆ†åŒºæˆ–å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚ <br></div></div><br><div class="spoiler">  <b class="spoiler_title">B2.4ã€‚</b>  <b class="spoiler_title">åœ¨ext4ä¸­æ ¼å¼åŒ–sda7_cryptæ–‡ä»¶ç³»ç»Ÿã€‚</b>  <b class="spoiler_title">æ“ä½œç³»ç»Ÿå®‰è£…</b> <div class="spoiler_text">  <i>ï¼ˆæ³¨æ„ï¼šGpartedå°†ä¸å†ä¸åŠ å¯†åˆ†åŒºä¸€èµ·ä½¿ç”¨ï¼‰</i> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#    mkfs.ext4 -v -L DebSHIFR /dev/mapper/sda7_crypt</span></span></code> </pre><br> é€‰é¡¹ï¼š <br>  * -v-è¯­è¨€åŒ–ï¼› <br>  * -L -diskæ ‡ç­¾ï¼ˆåœ¨èµ„æºç®¡ç†å™¨ä¸­ä¸å…¶ä»–ç£ç›˜ä¸€èµ·æ˜¾ç¤ºï¼‰ã€‚ <br><br> æ¥ä¸‹æ¥ï¼Œå°†è™šæ‹ŸåŠ å¯†çš„å—è®¾å¤‡/ dev / sda7_cryptæŒ‚è½½åˆ°ç³»ç»Ÿä¸­ <br><br><pre> <code class="bash hljs">mount /dev/mapper/sda7_crypt /mnt</code> </pre> <br> ä½¿ç”¨/ mntæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶å°†è‡ªåŠ¨åœ¨sda7ä¸­åŠ¨æ€åŠ å¯†/è§£å¯†æ•°æ®ã€‚ <br><br> åœ¨èµ„æºç®¡ç†å™¨<i>ï¼ˆnautilus / caja GUIï¼‰ä¸­</i>æ˜ å°„å¹¶æŒ‚è½½è¯¥åˆ†åŒºæ›´åŠ æ–¹ä¾¿ï¼Œè¯¥åˆ†åŒºå°†å·²ç»åœ¨ç£ç›˜é€‰æ‹©åˆ—è¡¨ä¸­ï¼Œä»…è¾“å…¥ç”¨äºæ‰“å¼€/è§£å¯†ç£ç›˜çš„å¯†ç å³å¯ã€‚ åŒ¹é…åç§°å°†è¢«è‡ªåŠ¨é€‰æ‹©ï¼Œè€Œä¸æ˜¯â€œ sda7_cryptâ€ï¼Œè€Œæ˜¯ç±»ä¼¼/ dev / mapper / Luks-xx-xxçš„åç§°ã€‚ <br></div></div><br><div class="spoiler">  <b class="spoiler_title">B2.5ã€‚</b>  <b class="spoiler_title">å¤‡ä»½ç£ç›˜å¤´ï¼ˆã€œ3MBå…ƒæ•°æ®ï¼‰</b> <div class="spoiler_text"> éœ€è¦ç«‹å³è¿›è¡Œçš„æœ€<b>é‡è¦çš„</b>æ“ä½œä¹‹ä¸€æ˜¯sda7_cryptæ ‡å¤´çš„å¤‡ä»½å‰¯æœ¬ã€‚ å¦‚æœè¦†ç›–/ç ´åæ ‡å¤´<i>ï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡åœ¨sda7åˆ†åŒºä¸­å®‰è£…GRUB2ç­‰ï¼‰</i> ï¼Œåˆ™åŠ å¯†çš„æ•°æ®å°†æ°¸ä¹…ä¸¢å¤±è€Œæ— æ³•æ¢å¤ï¼Œå› ä¸ºå°†æ— æ³•é‡æ–°ç”Ÿæˆç›¸åŒçš„å¯†é’¥ï¼Œå› æ­¤å°†åˆ›å»ºå”¯ä¸€çš„å¯†é’¥ã€‚ <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   cryptsetup luksHeaderBackup --header-backup-file ~/_DebSHIFR /dev/sda7</span></span></code> </pre><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   cryptsetup luksHeaderRestore --header-backup-file &lt;file&gt; &lt;device&gt;</span></span></code> </pre> <br> é€‰é¡¹ï¼š <br>  * luksHeaderBackup --header-backup-file-backupå‘½ä»¤ï¼› <br>  * luksHeaderRestore --header-backup-file-restoreå‘½ä»¤ï¼› <br>  *ã€œ/ Backup_DebSHIFR-å¤‡ä»½æ–‡ä»¶ï¼› <br>  * / dev / sda7æ˜¯è¦ä¿ç•™å…¶åŠ å¯†ç£ç›˜å¤´çš„å¤‡ä»½å‰¯æœ¬çš„åˆ†åŒºã€‚ <br>  <i><b>æ³¨æ„äº‹é¡¹</b></i>  <i>ä¸è¦å°è¯•å°†LUKSèŠ‚çš„æ ‡é¢˜ä»[sdaX]è¿˜åŸåˆ°[sdaY]ï¼Œå¤§å¤šæ•°ç”¨æˆ·åå°†å¤±è´¥ã€‚</i> <br>  <i><b>åœ¨æ­¤æ­¥éª¤ä¸­ï¼Œå®Œæˆ&lt;åˆ›å»ºå’Œç¼–è¾‘åŠ å¯†åˆ†åŒº&gt;ã€‚</b></i> <br></div></div><br>  <b>B3</b>  <b>å°†GNU / Linuxæ“ä½œç³»ç»Ÿ<i>ï¼ˆsda4ï¼‰</i>è¿ç§»åˆ°åŠ å¯†åˆ†åŒº<i>ï¼ˆsda7ï¼‰</i></b> <br><br>  <i><b>æ³¨æ„äº‹é¡¹</b></i>  <i>åœ¨å°†æ“ä½œç³»ç»Ÿè½¬ç§»åˆ°åŠ å¯†åˆ†åŒºä¹‹å‰ï¼Œå»ºè®®åˆ é™¤å¤šä½™çš„ç¼“å­˜åƒåœ¾ï¼ˆå¯ä»¥ä½¿ç”¨BleachBitè½¯ä»¶æ‰¾åˆ°ç±»ä¼¼çš„åƒåœ¾ï¼‰ï¼Œä¾‹å¦‚ï¼Œåœ¨æˆ‘çš„æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯æ•°åä¸‡ä¸ªå°æ–‡ä»¶/ var / cache / fontconfig / *å’Œ/home/user/.cache / fontconfig / *</i> <i><br></i>  <i>å¦‚æœæ¸…é™¤äº†fontconfigæ–‡ä»¶ï¼Œè¯·æ‰§è¡Œ$ fc-cache -fvr</i> <br><br> åˆ›å»º/ mnt2æ–‡ä»¶å¤¹<i>ï¼ˆæ³¨æ„-æˆ‘ä»¬ä»åœ¨ä½¿ç”¨å®æ—¶usbï¼Œsda7_cryptå®‰è£…åœ¨/ mntç‚¹ï¼‰ï¼Œ</i>å¹¶å°†GNU / Linuxå®‰è£…åœ¨/ mnt2ä¸­ï¼Œå¿…é¡»å¯¹å…¶è¿›è¡ŒåŠ å¯†ã€‚ <br><br><pre> <code class="bash hljs">mkdir /mnt2 mount /dev/sda4 /mnt2</code> </pre><br> æˆ‘ä»¬ä½¿ç”¨Rsyncè½¯ä»¶æ‰§è¡Œæ­£ç¡®çš„OSè¿ç§» <br><pre> <code class="bash hljs">rsync -avlxhHX --progress /mnt2/ /mnt</code> </pre> <br>  Rsyncé€‰é¡¹åœ¨ç¬¬E1é¡µä¸­æè¿°ã€‚ <br><br> æ¥ä¸‹æ¥ï¼Œ <b>æ‚¨éœ€è¦</b>å¯¹é€»è¾‘é©±åŠ¨å™¨åˆ†åŒºè¿›è¡Œç¢ç‰‡æ•´ç† <br><br><pre> <code class="bash hljs">e4defrag -c /mnt/ <span class="hljs-comment"><span class="hljs-comment"># , e4defrag ,     â‰ˆ 0,  ,       ! e4defrag /mnt/ #   GNU/Linux</span></span></code> </pre> <br> éµå¾ªè§„åˆ™ï¼šå¦‚æœæ‚¨æœ‰HDDï¼Œè¯·ä¸æ—¶å¯¹åŠ å¯†çš„GNU / LInuxæ‰§è¡Œe4defragã€‚ <br>  <i><b>æ­¤æ­¥éª¤çš„è¿ç§»å’ŒåŒæ­¥[GNU / Linux&gt; GNU / LinuxåŠ å¯†]å·²å®Œæˆã€‚</b></i> <br><br>  <b>B4ã€‚</b>  <b>åœ¨sda7åŠ å¯†åˆ†åŒºä¸Šé…ç½®GNU / Linux</b> <br><br> æˆåŠŸä¼ è¾“OS / dev / sda4&gt; / dev / sda7ä¹‹åï¼Œæ‚¨éœ€è¦ç™»å½•åˆ°åŠ å¯†åˆ†åŒºä¸Šçš„GNU / Linuxï¼Œå¹¶æ‰§è¡Œæœ‰å…³åŠ å¯†ç³»ç»Ÿçš„è¿›ä¸€æ­¥é…ç½®<i>ï¼ˆæ— éœ€é‡æ–°å¯åŠ¨PCï¼‰</i> ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œä½äºå®æ—¶USBä¸­ï¼Œä½†æ˜¯è¦æ‰§è¡Œçš„å‘½ä»¤â€œç›¸å¯¹äºåŠ å¯†OSçš„æ ¹ç›®å½•â€ã€‚ æ¨¡æ‹Ÿç±»ä¼¼æƒ…å†µå°†æ˜¯â€œ chrootâ€ã€‚ è¦å¿«é€Ÿæ¥æ”¶å½“å‰æ­£åœ¨ä½¿ç”¨å“ªä¸ªæ“ä½œç³»ç»Ÿçš„ä¿¡æ¯<i>ï¼ˆç”±äºsda4å’Œsda7ä¸­çš„æ•°æ®å·²åŒæ­¥</i> ï¼Œ <i>å› æ­¤å·²åŠ å¯†æˆ–æœªåŠ å¯†ï¼‰</i> ï¼Œè¯·<i>å–æ¶ˆåŒæ­¥</i> OSã€‚ åœ¨æ ¹ç›®å½•<i>ï¼ˆsda4 / sda7_cryptï¼‰ä¸­</i>åˆ›å»ºç©ºçš„<i>ä»¤ç‰Œ</i>æ–‡ä»¶ï¼Œä¾‹å¦‚/ mnt /åŠ å¯†çš„OSå’Œ/ mnt2 /è§£å¯†çš„OSã€‚ å¿«é€Ÿæ£€æŸ¥æ‚¨æ‰€å¤„çš„æ“ä½œç³»ç»Ÿ<i>ï¼ˆåŒ…æ‹¬å°†æ¥çš„</i>æ“ä½œç³»ç»Ÿ<i>ï¼‰ï¼š</i> <br><pre> <code class="bash hljs">ls /&lt;Tab-Tab&gt;</code> </pre> <br><br><div class="spoiler">  <b class="spoiler_title">B4.1ã€‚</b>  <b class="spoiler_title">â€œæ¨¡æ‹ŸåŠ å¯†OSçš„å…¥å£â€</b> <div class="spoiler_text"><pre> <code class="bash hljs">mount --<span class="hljs-built_in"><span class="hljs-built_in">bind</span></span> /dev /mnt/dev mount --<span class="hljs-built_in"><span class="hljs-built_in">bind</span></span> /proc /mnt/proc mount --<span class="hljs-built_in"><span class="hljs-built_in">bind</span></span> /sys /mnt/sys chroot /mnt</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">B4.2ã€‚</b>  <b class="spoiler_title">éªŒè¯æ­£åœ¨åŠ å¯†ç³»ç»Ÿä¸Šæ‰§è¡Œå·¥ä½œ</b> <div class="spoiler_text"><pre> <code class="bash hljs">ls /mnt&lt;Tab-Tab&gt; <span class="hljs-comment"><span class="hljs-comment">#   "/"</span></span></code> </pre><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">history</span></span> <span class="hljs-comment"><span class="hljs-comment">#       su  .</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">B4.3ã€‚</b>  <b class="spoiler_title">åˆ›å»º/é…ç½®åŠ å¯†äº¤æ¢</b> <div class="spoiler_text"> ç”±äºäº¤æ¢æ–‡ä»¶æ˜¯åœ¨æ“ä½œç³»ç»Ÿçš„æ¯æ¬¡å¯åŠ¨æ—¶è¿›è¡Œæ ¼å¼åŒ–çš„ï¼Œå› æ­¤åƒB2.2èŠ‚ä¸­æ‰€ç¤ºï¼Œç°åœ¨å°±æ²¡æœ‰å¿…è¦åˆ›å»ºå¹¶æ˜ å°„äº¤æ¢åˆ°é€»è¾‘é©±åŠ¨å™¨å¹¶é”®å…¥å‘½ä»¤ã€‚ å¯¹äºäº¤æ¢ï¼Œæ¯æ¬¡å¯åŠ¨æ—¶ï¼Œéƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆå…¶ä¸´æ—¶åŠ å¯†å¯†é’¥ã€‚ äº¤æ¢aé”®ç”Ÿå‘½å‘¨æœŸï¼šå¸è½½/æ–­å¼€äº¤æ¢åˆ†åŒº<i>ï¼ˆ+ RAMæ¸…æ´ï¼‰</i> ï¼› æˆ–é‡æ–°å¯åŠ¨æ“ä½œç³»ç»Ÿã€‚ é…ç½®äº¤æ¢ï¼Œæ‰“å¼€è´Ÿè´£é…ç½®å—åŠ å¯†è®¾å¤‡<i>çš„æ–‡ä»¶ï¼ˆç±»ä¼¼äºfstabæ–‡ä»¶ï¼Œä½†è´Ÿè´£åŠ å¯†ï¼‰ã€‚</i> <br><br><pre> <code class="bash hljs">nano /etc/crypttab</code> </pre> <br> è§„åˆ™ <br><blockquote>  ï¼ƒâ€œç›®æ ‡åç§°â€â€œæºè®¾å¤‡â€â€œå¯†é’¥æ–‡ä»¶â€â€œé€‰é¡¹â€ <br>  swap / dev / sda8 / dev / urandomäº¤æ¢ï¼Œå¯†ç = twofish-xts-plain64ï¼Œå¤§å°= 512ï¼Œå“ˆå¸Œ= sha512 </blockquote><br> é€‰ä»¶ <br>  * swapæ˜¯/ dev / mapper / swapçš„æ˜ å°„åŠ å¯†åç§°ã€‚ <br>  * / dev / sda8-åœ¨äº¤æ¢ä¸‹ä½¿ç”¨æ‚¨çš„é€»è¾‘åˆ†åŒºã€‚ <br>  * / dev / urandom-ç”¨äºäº¤æ¢çš„éšæœºåŠ å¯†å¯†é’¥ç”Ÿæˆå™¨ï¼ˆ <i>æ¯æ¬¡æ–°çš„OSå¼•å¯¼éƒ½ä¼šåˆ›å»ºæ–°å¯†é’¥ï¼‰ã€‚</i>  / dev / urandomç”Ÿæˆå™¨çš„éšæœºæ€§æ¯”/ dev / randomå°‘ï¼Œæ¯•ç«Ÿï¼Œåœ¨å±é™©çš„åæ‰§æƒ…å†µä¸‹ä½¿ç”¨/ dev / randomã€‚ å¼•å¯¼æ“ä½œç³»ç»Ÿæ—¶ï¼Œ/ dev / randomä¼šå‡æ…¢åŠ è½½é€Ÿåº¦è¾¾Â±åˆ†é’Ÿ<i>ï¼ˆè¯·å‚é˜…systemd-analyzeï¼‰</i> ã€‚ <br>  * swapï¼Œå¯†ç = twofish-xts-plain64ï¼Œå¤§å°= 512ï¼Œå“ˆå¸Œ= sha512ï¼š-è¯¥éƒ¨åˆ†çŸ¥é“å®ƒæ˜¯äº¤æ¢å¯¹è±¡ï¼Œå¹¶ä¸”å…¶æ ¼å¼ä¸ºâ€œç›¸åº”â€ï¼› åŠ å¯†ç®—æ³•ã€‚ <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   fstab nano /etc/fstab</span></span></code> </pre><br> è§„åˆ™ <br><blockquote>  ï¼ƒäº¤æ¢åœ¨å®‰è£…è¿‡ç¨‹ä¸­åœ¨/ dev / sda8ä¸Š <br>  / dev / mapper / swap none swap sw 0 0 <br></blockquote><br>  / dev / mapper / swapæ˜¯åœ¨crypttabä¸­è®¾ç½®çš„åç§°ã€‚ <br><br>  <b>å¤‡ç”¨åŠ å¯†äº¤æ¢</b> <br> å¦‚æœç”±äºæŸç§åŸå› æ‚¨ä¸æƒ³å°†æ•´ä¸ªéƒ¨åˆ†éƒ½äº¤ç»™äº¤æ¢æ–‡ä»¶ï¼Œåˆ™å¯ä»¥é‡‡ç”¨å¦ä¸€ç§æ›´å¥½çš„æ–¹æ³•ï¼šä½¿ç”¨æ“ä½œç³»ç»Ÿåœ¨åŠ å¯†åˆ†åŒºä¸Šçš„æ–‡ä»¶ä¸­åˆ›å»ºäº¤æ¢æ–‡ä»¶ã€‚ <br><br><pre> <code class="bash hljs">fallocate -l 3G /swap <span class="hljs-comment"><span class="hljs-comment">#   3 (  ) chmod 600 /swap #  mkswap /swap #     swapon /swap #  swap free -m #,       printf "/swap none swap sw 0 0" &gt;&gt; /etc/fstab #    swap  </span></span></code> </pre> <br>  <i><b>äº¤æ¢åˆ†åŒºè®¾ç½®å·²å®Œæˆã€‚</b></i> <br><br></div></div><br><div class="spoiler">  <b class="spoiler_title">B4.4ã€‚</b>  <b class="spoiler_title">é…ç½®åŠ å¯†çš„GNU / Linuxï¼ˆç¼–è¾‘crypttab / fstabæ–‡ä»¶ï¼‰</b> <div class="spoiler_text"> å¦‚ä¸Šæ‰€è¿°ï¼Œæ–‡ä»¶/ etc / crypttabæè¿°äº†åœ¨å¼•å¯¼æ—¶é…ç½®çš„åŠ å¯†å—è®¾å¤‡ã€‚ <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># /etc/crypttab nano /etc/crypttab</span></span></code> </pre><br> å¦‚æœæ‚¨æŒ‰ç…§B2.1èŠ‚ä¸­çš„è¯´æ˜æ˜ å°„äº†sda7&gt; sda7_cryptèŠ‚ <br><blockquote>  ï¼ƒâ€œç›®æ ‡åç§°â€â€œæºè®¾å¤‡â€â€œå¯†é’¥æ–‡ä»¶â€â€œé€‰é¡¹â€ <br>  sda7_crypt UUID = 81048598-5bb9-4a53-af92-f3f9e709e2f2 none luks <br></blockquote><br> å¦‚æœæ‚¨æŒ‰ç…§B2.2é‚£æ ·æ˜ å°„äº†sda7&gt; sda7_cryptéƒ¨åˆ† <br><blockquote>  ï¼ƒâ€œç›®æ ‡åç§°â€â€œæºè®¾å¤‡â€â€œå¯†é’¥æ–‡ä»¶â€â€œé€‰é¡¹â€ <br>  sda7_crypt UUID = 81048598-5bb9-4a53-af92-f3f9e709e2f2 noneå¯†ç = twofish-xts-plain64ï¼Œå¤§å°= 512ï¼Œå“ˆå¸Œ= sha512 </blockquote><br> å¦‚æœæ‚¨æŒ‰ç…§B2.1æˆ–B2.2ä¸­çš„æ–¹å¼æ¯”è¾ƒsda7&gt; sda7_cryptéƒ¨åˆ†ï¼Œä½†åˆä¸æƒ³é‡æ–°è¾“å…¥å¯†ç ä»¥è§£é”å¹¶å¯åŠ¨OSï¼Œåˆ™å¯ä»¥ç”¨ç§é’¥/éšæœºæ–‡ä»¶ä»£æ›¿å¯†ç  <br><blockquote>  ï¼ƒâ€œç›®æ ‡åç§°â€â€œæºè®¾å¤‡â€â€œå¯†é’¥æ–‡ä»¶â€â€œé€‰é¡¹â€ <br>  sda7_crypt UUID = 81048598-5bb9-4a53-af92-f3f9e709e2f2 / etc / skey luks </blockquote><br> å†…å®¹æè¿° <br>  * none-æŠ¥å‘Šæ“ä½œç³»ç»Ÿå¯åŠ¨æ—¶ï¼Œéœ€è¦ä¸€ä¸ªç§˜å¯†å¯†ç æ¥è§£é”æ ¹ã€‚ <br>  * UUID-éƒ¨åˆ†æ ‡è¯†ç¬¦ã€‚ è¦æ‰¾å‡ºæ‚¨çš„æ ‡è¯†ç¬¦ï¼Œè¯·åœ¨ç»ˆç«¯ä¸­é”®å…¥<i>ï¼ˆæé†’</i>æ‚¨ï¼Œåœ¨<i>æ­¤ä¹‹åï¼Œæ‚¨ä¸€ç›´åœ¨chrootç¯å¢ƒä¸­çš„ç»ˆç«¯ä¸­å·¥ä½œï¼Œè€Œä¸æ˜¯åœ¨å¦ä¸€ä¸ªæ´»åŠ¨çš„USBç»ˆç«¯ä¸­å·¥ä½œï¼‰ã€‚</i> <br><br><pre> <code class="bash hljs">fdisk -l <span class="hljs-comment"><span class="hljs-comment">#   blkid #  - </span></span></code> </pre><br><blockquote>  / dev / sda7ï¼šUUID =â€œ 81048598-5bb9-4a53-af92-f3f9e709e2f2â€ TYPE =â€œ crypto_LUKSâ€ PARTUUID =â€œ 0332d73c-07â€ <br>  / dev / mapper / sda7_cryptï¼šLABEL =â€œ DebSHIFRâ€ UUID =â€œ 382111a2-f993-403c-aa2e-292b5eac4780â€ TYPE =â€œ ext4â€ <br></blockquote><br> ä»å®‰è£…äº†sda7_cryptçš„å®æ—¶USBç»ˆç«¯è¯·æ±‚blkidæ—¶ï¼Œæ­¤è¡Œå¯è§ã€‚ <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‚¨ä»sdaXä¸­è·å–UUID </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆè€Œä¸æ˜¯sdaX_cryptï¼ï¼ŒUUID sdaX_crypt-åœ¨ç”Ÿæˆgrub.cfgé…ç½®æ—¶å®ƒå°†è‡ªåŠ¨ç¦»å¼€ï¼‰ã€‚</font></font></i> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*å¯†ç = twofish-xts-plain64ï¼Œå¤§å°= 512ï¼Œå“ˆå¸Œ= sha512 -luksé«˜çº§æ¨¡å¼åŠ å¯†ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* / etc / skey-ä¸€ä¸ªç§˜å¯†å¯†é’¥æ–‡ä»¶ï¼Œå°†è‡ªåŠ¨æ›¿æ¢è¯¥å¯†é’¥æ–‡ä»¶ä»¥è§£é”æ“ä½œç³»ç»Ÿå¯åŠ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆè€Œä¸æ˜¯è¾“å…¥ç¬¬ä¸‰ä¸ªå¯†ç ï¼‰ã€‚</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‚¨å¯ä»¥æŒ‡å®šæœ€å¤§8mbçš„ä»»ä½•æ–‡ä»¶ï¼Œä½†æ˜¯æ•°æ®å°†è¯»å–&lt;1mbã€‚</font></font><br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># ""   &lt; &gt;  691. head -c 691 /dev/urandom &gt; /etc/skey</span></span></code> </pre><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#   (691)  7-   luks cryptsetup luksAddKey --key-slot 7 /dev/sda7 /etc/skey</span></span></code> </pre> <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#  "/ luks-" cryptsetup luksDump /dev/sda7</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> å®ƒçœ‹èµ·æ¥åƒè¿™æ ·ï¼š </font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ï¼ˆè‡ªå·±åŠ¨æ‰‹ï¼Œè‡ªå·±çœ‹çœ‹ã€‚å¦‚æœåœ¨2020å¹´è¿›è¡ŒåŠ å¯†ï¼Œåˆ™è¾“å‡ºå°†åœ¨LUKS2ä¸­è¿›è¡Œï¼Œå¦‚æœæ›´æ—©ï¼Œåˆ™è¾“å‡ºå°†åœ¨LUKS1ä¸­è¿›è¡Œã€‚ </font></font></blockquote><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># Check " " file -s /dev/sda7 /dev/sda7: LUKS encrypted file, ver 1 [twofish, xts-plain64, sha512] UUID: -- #   LUKS /dev/sda7: data #   VeraCrypt</span></span></code> </pre> <br><pre> <code class="bash hljs">cryptsetup luksKillSlot /dev/sda7 7 <span class="hljs-comment"><span class="hljs-comment"># /  7 </span></span></code> </pre> <br><br> /etc/fstab       . <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># /etc/fstab nano /etc/fstab</span></span></code> </pre><br><blockquote> # Â«file systemÂ» Â«mount poinÂ» Â«typeÂ» Â«optionsÂ» Â«dumpÂ» Â«passÂ» <br> # / was on /dev/sda7 during installation <br> /dev/mapper/sda7_crypt / ext4 errors=remount-ro 0 1 <br></blockquote><br>  <br> * /dev/mapper/sda7_crypt -  sda7&gt;sda7_crypt,     /etc/crypttab. <br> <b> crypttab/fstab .</b> <br></div></div><br><div class="spoiler"> <b class="spoiler_title">B4.5.   .  </b> <div class="spoiler_text"> <b>B4.5.1.   /etc/initramfs-tools/conf.d/resume</b> <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#      swap ,  . nano /etc/initramfs-tools/conf.d/resume</span></span></code> </pre><br>   <i>( )</i> "#"  Â«resumeÂ».     . <br><br> <b>B4.5.2.   /etc/initramfs-tools/conf.d/cryptsetup</b> <br><br><pre> <code class="bash hljs">nano /etc/initramfs-tools/conf.d/cryptsetup</code> </pre> <br>   <br><blockquote> # /etc/initramfs-tools/conf.d/cryptsetup <br> CRYPTSETUP=yes <br> export CRYPTSETUP <br></blockquote><br><br> <b>B4.5.3.   /etc/default/grub <i>(       grub.cfg     /boot)</i></b> <br><br><pre> <code class="bash hljs">nano /etc/default/grub</code> </pre> <br>   Â«GRUB_ENABLE_CRYPTODISK=yÂ» <br>  'y', grub-mkconfig  grub-install         ,        <i>(insmod- &lt;cryptomount/set root&gt;)</i> . <br>    <br><blockquote> GRUB_DEFAULT=0 <br> GRUB_TIMEOUT=1 <br> GRUB_DISTRIBUTOR=`lsb_release -i -s 2&gt; /dev/null || echo Debian` <br> GRUB_CMDLINE_LINUX_DEFAULT=Â«acpi_backlight=vendorÂ» <br> GRUB_CMDLINE_LINUX=Â«quiet splash noautomountÂ» <br> GRUB_ENABLE_CRYPTODISK=y <br></blockquote><br><br> <b>B4.5.4.   /etc/cryptsetup-initramfs/conf-hook</b> <br><br><pre> <code class="bash hljs">nano /etc/cryptsetup-initramfs/conf-hook</code> </pre> <br> ,   &lt;CRYPTSETUP=y&gt;  &lt;#&gt;. <br>   <i>(   ,       ,       initrd.img).</i> <br><br>    : <br><blockquote> KEYFILE_PATTERN="/etc/skey" <br> UMASK=0077 <br></blockquote><br>     Â«skeyÂ»  initrd.img,         <i>(             Â«skeyÂ» ( + ) . .B4.4).</i> <br></div></div><br><div class="spoiler"> <b class="spoiler_title">B4.6.  /boot/initrd.img [version]</b> <div class="spoiler_text">      initrd.img    cryptsetup,   <br><br><pre> <code class="bash hljs">update-initramfs -u -k all</code> </pre> <br>   initrd.img <i>(  Â«,    Â»)</i>  ,   cryptsetup, , ,     Nvidia â€”   .   , ,     .   <i>( chroot ./boot/initrd.img). <b>!</b>  [update-initramfs -u -k all]  ,  cryptsetup open /dev/sda7 <b>sda7_crypt</b> â€”     ,    /etc/crypttab,   reboot-a  busybox) <br> <i><b>      .</b></i> <br></i> <br></div></div><br><h2> []    GRUB2/ </h2><br><div class="spoiler"> <b class="spoiler_title">C1.        (    20)</b> <div class="spoiler_text"><pre> <code class="bash hljs">mkfs.ext4 -v -L GRUB2 /dev/sda6</code> </pre> <br></div></div><br><div class="spoiler"> <b class="spoiler_title">C2.  /dev/sda6  /mnt</b> <div class="spoiler_text">     chroot,       /mnt2,   /mnt â€”  . <br>   GRUB2 <br><br><pre> <code class="bash hljs">mount /dev/sda6 /mnt</code> </pre> <br>       GRUB2,   /mnt/boot/grub/i-386-pc <i>(  , ,  Â«i386-pcÂ»)</i>   <i>(,     ,   .mod: cryptodisk; luks; gcry_twofish; gcry_sha512; signature_test.mod),</i>    GRUB2  . <br><br><pre> <code class="bash hljs">apt-get update apt-get install grub2</code> </pre><br> !     GRUB2  ,   Â« Â»      â€“     <i>( â€”   GRUB2 â€”  Â«MBRÂ»   live usb)</i> .      / VeraCrypt.    GRUB2,   ,       ,    Â«MBRÂ».       GRUB2,  <a href="https://www.gnu.org/software/grub/manual/grub/grub.html" rel="nofollow"></a>     â€“   <i>(    GRUB 2.02 ~BetaX).</i> <br></div></div><br><div class="spoiler"> <b class="spoiler_title">C3.  GRUB2    [sda6]</b> <div class="spoiler_text">       [.C.2] <br><br><pre> <code class="bash hljs">grub-install --force --root-directory=/mnt /dev/sda6</code> </pre> <br>  <br> * --force - ,   ,        <i>( ).</i> <br> * --root-directory -  &lt;boot/grub&gt;   sda6. <br> * /dev/sda6 - sda  <i>(  &lt;&gt;  /mnt /dev/sda6).</i> <br></div></div><br><div class="spoiler"> <b class="spoiler_title">C4.    [grub.cfg]</b> <div class="spoiler_text">    Â«update-grub2Â»,        <br><br><pre> <code class="bash hljs">grub-mkconfig -o /mnt/boot/grub/grub.cfg</code> </pre> <br>   /  grub.cfg,      ()      <i>(Â«grub-mkconfigÂ»       live usb,       Windows 10     â€”  ).</i>    Â«Â»,  Â«grub.cfgÂ»  ,     ,    GRUB  <i>(       ),</i>  GRUB2   . <br> <b> Â« Â»   GRUB2 .</b> <br></div></div><br><div class="spoiler"> <b class="spoiler_title">C5. Proof-test   GNU/Linux</b> <div class="spoiler_text">   .    GNU/Linux <i>(   chroot).</i> <br><br><pre> <code class="bash hljs">umount -a <span class="hljs-comment"><span class="hljs-comment">#     GNU/Linux Ctrl+d #   chroot umount /mnt/dev umount /mnt/proc umount /mnt/sys umount -a #     live usb reboot</span></span></code> </pre> <br>       VeraCrypt. <br><img src="https://habrastorage.org/webt/ih/jd/9c/ihjd9ciwkuzmd6mqdwmxhbcgx5q.jpeg"><br><br> *     â€”    Windows. <br> *  Â«EscÂ»   GRUB2,    GNU/Linux â€“   (sda7_crypt)   /boot/initrd.img ( grub2  uuid Â« Â» â€”    grub2,   , ,   /  ). <br><img src="https://habrastorage.org/webt/e4/j2/jo/e4j2jofau3dugyj7jrnztkzpbn4.jpeg"><br><br> *   ,     (. .B4.4/4.5)        /boot/initrd.img,     / ,      Â«skeyÂ»,      . <br><img src="https://habrastorage.org/webt/rj/76/al/rj76alpbc7ebscvxe2_0uraoaya.jpeg"><br> ( Â«   Â»). <br><br> *     GNU/Linux    . <br><img src="https://habrastorage.org/webt/j_/q0/fn/j_q0fnugeazypbbwrv_sym9qxvq.jpeg"><br><br> *      ,    /boot/initrd.img <i>( 4.6).</i> <br><br><pre> <code class="bash hljs">update-initramfs -u -k all</code> </pre> <br>        GRUB2 <i>(  -  live usb)</i>    <br><br><pre> <code class="bash hljs">mount /dev/sda6 /mnt grub-mkconfig -o /mnt/boot/grub/grub.cfg</code> </pre><br> <b>     GNU/Linux:</b> <br><br><ul><li> GNU/Linuxinux  ,  /boot/kernel and initrd; </li><li>     initrd.img; </li><li>    <i>(    initrd; /   ;    Linux)</i> . </li></ul><br> <b>Â«  GRUB2Â»     .</b> <br></div></div><br><div class="spoiler"> <b class="spoiler_title">6.   GRUB2.     +  </b> <div class="spoiler_text"> GNU/Linux  ,     â€“    BIOS.       GRUB2 ,  /   ,     â€“   [. . F]. <br>  Â«Â» GRUB2      Â«/Â». <br><ul><li>    Â«  Â»   ,         â€“     . </li><li>        - ,      CLI,      -GRUB2. </li></ul><br><br><div class="spoiler"> <b class="spoiler_title">6.1.   </b> <div class="spoiler_text"> ,         <br><br><pre> <code class="bash hljs">ls /&lt;Tab-Tab&gt; <span class="hljs-comment"><span class="hljs-comment"># -</span></span></code> </pre> <br>       GRUB2 <br><br><pre> <code class="bash hljs">grub-mkpasswd-pbkdf2 <span class="hljs-comment"><span class="hljs-comment">#/  .</span></span></code> </pre> <br>   . -    <br><blockquote> grub.pbkdf2.sha512.10000.DE10E42B01BB6FEEE46250FC5F9C3756894A8476A7F7661A9FFE9D6CC4D0A168898B98C34EBA210F46FC10985CE28277D0563F74E108FCE3ACBD52B26F8BA04D.27625A4D30E4F1044962D3DD1C2E493EF511C01366909767C3AF9A005E81F4BFC33372B9C041BE9BA904D7C6BB141DE48722ED17D2DF9C560170821F033BCFD8 <br></blockquote><br>   GRUB <br><br><pre> <code class="bash hljs">mount /dev/sda6 /mnt</code> </pre> <br>   <br><br><pre> <code class="bash hljs">nano -$ /mnt/boot/grub/grub.cfg</code> </pre> <br>    ,   Â«grub.cfgÂ»  -  (" --unrestricted" "--user", <br>     <i>(  ### END /etc/grub.d/41_custom ###)</i> <br> <i>Â«set superusers=Â»root" <br> password_pbkdf2 root ".</i> <br><br>     <br><blockquote> # This file provides an easy way to add custom menu entries. Simply type the <br> # menu entries you want to add after this comment. Be careful not to change <br> # the 'exec tail' line above. <br> ### END /etc/grub.d/40_custom ### <br><br> ### BEGIN /etc/grub.d/41_custom ### <br> if [ -f ${config_directory}/custom.cfg ]; then <br> source ${config_directory}/custom.cfg <br> elif [ -z "${config_directory}" -a -f $prefix/custom.cfg ]; then <br> source $prefix/custom.cfg; <br> fi <br> set superusers=Â«rootÂ» <br> password_pbkdf2 root grub.pbkdf2.sha512.10000.DE10E42B01BB6FEEE46250FC5F9C3756894A8476A7F7661A9FFE9D6CC4D0A168898B98C34EBA210F46FC10985CE28277D0563F74E108FCE3ACBD52B26F8BA04D.27625A4D30E4F1044962D3DD1C2E493EF511C01366909767C3AF9A005E81F4BFC33372B9C041BE9BA904D7C6BB141DE48722ED17D2DF9C560170821F033BCFD8 <br> ### END /etc/grub.d/41_custom ### <br> # <br></blockquote><br>      Â«grub-mkconfig -o /mnt/boot/grub/grub.cfgÂ»         grub.cfg,    <i>(/)</i>    GRUB-    <br><br><pre> <code class="bash hljs">nano /etc/grub.d/41_custom</code> </pre> <br><blockquote> cat &lt;&lt; EOF <br> set superusers=Â«rootÂ» <br> password_pbkdf2 root grub.pbkdf2.sha512.10000.DE10E42B01BB6FEEE46250FC5F9C3756894A8476A7F7661A9FFE9D6CC4D0A168898B98C34EBA210F46FC10985CE28277D0563F74E108FCE3ACBD52B26F8BA04D.27625A4D30E4F1044962D3DD1C2E493EF511C01366909767C3AF9A005E81F4BFC33372B9C041BE9BA904D7C6BB141DE48722ED17D2DF9C560170821F033BCFD8 <br> EOF <br></blockquote><br><br>    Â«grub-mkconfig -o /mnt/boot/grub/grub.cfgÂ», ,   ,     grub.cfg. <br> <b>     GRUB2 .</b> <br></div></div><br><div class="spoiler"> <b class="spoiler_title">6.2.    </b> <div class="spoiler_text"> ,        pgp-  <i>(   ).</i>       : gnuPG; kleopatra/GPA; Seahorse. -        . Seahorse â€”    3.14.0 <i>( , , V3.20 â€“     ).</i> <br><br> PGP-  //    su! <br><br>     <br><br><pre> <code class="bash hljs">gpg - -gen-key</code> </pre> <br>    <br><br><pre> <code class="bash hljs">gpg --<span class="hljs-built_in"><span class="hljs-built_in">export</span></span> -o ~/perskey</code> </pre> <br>           <br><br><pre> <code class="bash hljs">mount /dev/sda6 /mnt <span class="hljs-comment"><span class="hljs-comment">#sda6 â€“  GRUB2</span></span></code> </pre> <br>   GRUB2 <br><br><pre> <code class="bash hljs">rm -rf /mnt/</code> </pre> <br>  GRUB2  sda6,        GRUB Â«core.imgÂ» <br><br><pre> <code class="bash hljs">grub-install --force --modules=<span class="hljs-string"><span class="hljs-string">"gcry_sha256 gcry_sha512 signature_test gcry_dsa gcry_rsa"</span></span> -k ~/perskey --root-directory=/mnt /dev/sda6</code> </pre> <br>  <br> * --force - ,   ,    <i>( ).</i> <br> * --modules=Â«gcry_sha256 gcry_sha512 signature_test gcry_dsa gcry_rsaÂ» - GRUB2        . <br> * -k ~/perskey -  Â«PGP-Â» <i>(    ,   ).</i> <br> * --root-directory -  boot   sda6 <br> /dev/sda6 - sda . <br><br> / grub.cfg <br><br><pre> <code class="bash hljs">grub-mkconfig -o /mnt/boot/grub/grub.cfg</code> </pre> <br>     Â«grub.cfgÂ»  Â«trust /boot/grub/perskeyÂ» <i>(  pgp-.)</i>     GRUB2   ,       Â«signature_test.modÂ»,          Â«set check_signatures=enforceÂ». <br><br>     <i>(    grub.cfg)</i> <br><blockquote> ### BEGIN /etc/grub.d/41_custom ### <br> if [ -f ${config_directory}/custom.cfg ]; then <br> source ${config_directory}/custom.cfg <br> elif [ -z "${config_directory}" -a -f $prefix/custom.cfg ]; then <br> source $prefix/custom.cfg; <br> fi <br> trust /boot/grub/perskey <br> set superusers=Â«rootÂ» <br> password_pbkdf2 root grub.pbkdf2.sha512.10000.DE10E42B01BB6FEEE46250FC5F9C3756894A8476A7F7661A9FFE9D6CC4D0A168898B98C34EBA210F46FC10985CE28277D0563F74E108FCE3ACBD52B26F8BA04D.27625A4D30E4F1044962D3DD1C2E493EF511C01366909767C3AF9A005E81F4BFC33372B9C041BE9BA904D7C6BB141DE48722ED17D2DF9C560170821F033BCFD8 <br> ### END /etc/grub.d/41_custom ### <br> # </blockquote><br><br>   "/boot/grub/perskey"       ,  hd0,6,    Â«Â»    ,    GRUB2 <i>(. set rot=..).</i> <br><br>  GRUB2 <i>(     /GRUB)</i>   Â«perskeyÂ». <br>  ,   <i>(  nautilus/caja):</i>     Â«seahorseÂ»  .         su. <br>    sudo "/mnt/boot" â€“  â€“ .       <br><br><img src="https://habrastorage.org/webt/ja/bw/id/jabwidfus4xnsjb774pllt4z1hc.jpeg"><br><br>   "/mnt/boot/grub/perskey" <i>(   grub)</i>       . ,   /    [*.sig]. <br>    "/boot" <i>( kernel, initrd).</i>    - ,      bash-   Â« Â». <br><br>      <i>( -   )</i> <br><br><pre> <code class="bash hljs">rm -f $(find /mnt/boot/grub -<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> f -name <span class="hljs-string"><span class="hljs-string">'*.sig'</span></span>)</code> </pre> <br>        ,    ,    GRUB2. <br><br><pre> <code class="bash hljs">apt-mark hold grub-common grub-pc grub-pc-bin grub2 grub2-common</code> </pre> <br> <b>   &lt;   &gt;   GRUB2 .</b> <br></div></div><br><div class="spoiler"> <b class="spoiler_title">C6.3. Proof-test  GRUB2,     </b> <div class="spoiler_text"> GRUB2.   -  GNU/Linux    CLI <i>( )</i>   .    /    initrd <br><br><img src="https://habrastorage.org/webt/wu/ip/nt/wuipntxpfzxczd8sz-_nihhtkrc.jpeg"><br> ,   GRUB2-. <br><br>   -   GRUB2/   grub.cfg,   /,   .mod,    .  GRUB2 . <br><br><img src="https://habrastorage.org/webt/1j/cn/ao/1jcnaogftdd3pme8jexwyrzhe_m.jpeg"><br> ,    GRUB2 Â« Â». <br><br>  Â«Â»  Â« Â»,     Â«0Â».        <i>(  Â«      Â»         Â«0Â» â€”  ).</i> <br><br>     ? <br><br>   : /  GRUB2 , ,   luks.mod.sig   . <br><br>  :   CLI     <br><br><pre> <code class="bash hljs">trust_list</code> </pre> <br>      Â«perskeyÂ»,   Â«0Â»,     ,  .C6.2. <br> <b>     Â« GRUB2    Â» .</b> <br></div></div><br></div></div><br><div class="spoiler"> <b class="spoiler_title">7     GRUB2   </b> <div class="spoiler_text">    Â«  /Â» â€”  . -  GRUB2,       ,      .[F].  ,   /   . <br><br><h4>   GRUB2    </h4><br> <b>  :</b> <br><br><ul><li>    / <i>(/    <u>  </u> .      GRUB2   ,    ,        /   ,    ,   Â«- Â»          ).</i> </li><li>   <i>(      ).</i> </li><li>  <i>(/     GRUB2   ).</i> </li><li>    . </li></ul><br> <b>  .</b> <br><br><ul><li>   <i>(,      ).</i> </li><li> The Worst Evil Script <i>( /:       GRUB  ,   usb-/ , /       ,      pass/_LUKS   ).</i> </li><li>    <i>(           GNU/Linux).</i> </li></ul><br>    â€” <a href="http://bit.ly/2QrQk2O" rel="nofollow"> </a> ,       . <br><br> <b>     GRUB2/</b> <br><br> Â«Â»  GRUB2,               ().    ,       ,        <br><br><div class="spoiler"> <b class="spoiler_title">.</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/o9/nz/e0/o9nze0_csyzmfb7wrozs4efqqto.gif"><br></div></div><br>    ,        GRUB, save log,         pas/_LUKS  . <br>    The Worst Evil Script    <s></s>         (  cryptsetup reencrypt),    LUKS  . <br>         GRUB,     . <br>    "-$ _GRUB"         ,      CLI. <br>    "-$ sudo _GRUB"     GRUB2/     <i>(   /boot),    .</i> <br><br> <b>      </b> <br><br> <b>0)</b>  / GRUB,     /media/username <br><pre> <code class="bash hljs">-$ hashdeep -c md5 -r /media/username/GRUB &gt; /podpis.txt</code> </pre> <br> <b>1)</b>         ~/podpis,      744     Â«Â». <br><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash #      GRUB2  . #  " /  ",        . !    :   GRUB2     OS GNU/Linux. echo -e "******************************************************************\n" &gt;&gt; '/var/log/podpis.txt' &amp;&amp; date &gt;&gt; '/var/log/podpis.txt' &amp;&amp; hashdeep -vvv -a -k '/podpis.txt' -r '/media/username/GRUB' &gt;&gt; '/var/log/podpis.txt' a=`tail '/var/log/podpis.txt' | grep failed` #  "cat"!! b="hashdeep: Audit failed" #:    -      GRUB2         "  "      gif- "warning". if [[ "$a" = "$b" ]] then echo -e "****\n" &gt;&gt; '/var/log/vtorjenie.txt' &amp;&amp; echo "vtorjenie" &gt;&gt; '/var/log/vtorjenie.txt' &amp;&amp; date &gt;&gt; '/var/log/vtorjenie.txt' &amp; sudo -u username DISPLAY=:0 eom '/warning.gif' fi</span></span></code> </pre> <br></div></div><br>    <i>su</i> ,     GRUB   , save . <br><br>   , , Â« Â» [virus.mod]   GRUB2    /: <br><br><pre> <code class="bash hljs">-$ hashdeep -vvv -a -k <span class="hljs-string"><span class="hljs-string">'/podpis.txt'</span></span> -r <span class="hljs-string"><span class="hljs-string">'/media/username/GRUB</span></span></code> </pre> <br><div class="spoiler"> <b class="spoiler_title"> CLI      --</b> <div class="spoiler_text"> #   CLI <br><br><pre> <code class="bash hljs">  2 11::41 MSK 2020 /media/username/GRUB/boot/grub/virus.mod: Moved from /media/username/GRUB/1nononoshifr /media/username/GRUB/boot/grub/i386-pc/mda_text.mod: Ok /media/username/GRUB/boot/grub/grub.cfg: Ok hashdeep: Audit failed Input files examined: 0 Known files expecting: 0 Files matched: 325 Files partially matched: 0 Files moved: 1 New files found: 0 Known files not found: 0</code> </pre> <br> #   Â«Files moved: 1  Audit failedÂ» ,    . <br> -     Â«New files foundÂ» &gt; Â«Files movedÂ» <br></div></div><br> <b>2)</b>    &gt; ~/warning.gif,   744. <br><br> <b>3)</b>  fstab    GRUB   <br><br><pre> <code class="bash hljs">-$ sudo nano /etc/fstab</code> </pre> <br><blockquote> LABEL=GRUB /media/username/GRUB ext4 defaults 0 0 </blockquote><br> <b>4)</b>    <br><br><pre> <code class="bash hljs">-$ sudo nano /etc/logrotate.d/podpis</code> </pre> <br><blockquote> /var/log/podpis.txt { <br> daily <br> rotate 50 <br> size 5M <br> dateext <br> compress <br> delaycompress <br> olddir /var/log/old <br>  } <br><br> /var/log/vtorjenie.txt { <br> monthly <br> rotate 5 <br> size 5M <br> dateext <br> olddir /var/log/old <br>  } </blockquote><br> <b>5)</b>    cron <br><br><pre> <code class="bash hljs">-$ sudo crontab -e</code> </pre> <br><blockquote> <a href="https://habr.com/ru/users/reboot/" class="user_link">reboot</a> '/podpis' #     <br> 0 */6 * * * '/podpis #   0-00; 6; 12; 18. <br></blockquote><br> <b>6)</b>    <br><br><pre> <code class="bash hljs">-$ sudo su -$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"alias _GRUB='hashdeep -c md5 -r /media/username/GRUB &gt; /podpis.txt'"</span></span> &gt;&gt; /root/.bashrc &amp;&amp; bash -$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"alias _GRUB='hashdeep -vvv -a -k '/podpis.txt' -r /media/username/GRUB'"</span></span> &gt;&gt; .bashrc &amp;&amp; bash</code> </pre><br>    <code>-$ apt-get upgrade</code>    GRUB <br> <code>-$ _GRUB</code> <br> <b>      GRUB .</b> <br></div></div><br><h2> [D]  â€”    </h2><br><blockquote>      ,  Â«     Â»,       . </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸å¾€å¸¸ä¸€æ ·ï¼Œ</font><font style="vertical-align: inherit;">ä»ç¡¬ç›˜é©±åŠ¨å™¨ä¸­åˆ é™¤æ•°æ®å</font><font style="vertical-align: inherit;">ï¼Œæœ‰è®¸å¤š</font><font style="vertical-align: inherit;">å…³äºæ¢å¤æ•°æ®çš„</font><font style="vertical-align: inherit;">â€œç¥è¯å’Œ</font></font><a href="https://docs.bleachbit.org/doc/shred-files-and-wipe-disks.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¼ è¯´</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€ã€‚å¦‚æœæ‚¨ç›¸ä¿¡ç½‘ç»œæ§è‚¡ï¼Œæˆ–è€…æ˜¯Drç½‘ç»œç¤¾åŒºçš„æˆå‘˜ï¼Œå¹¶ä¸”ä»æœªåœ¨åˆ é™¤/è¦†ç›–æ•°æ®åå°è¯•æ¢å¤æ•°æ®</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨R-studioæ¢å¤ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œé‚£ä¹ˆå»ºè®®çš„æ–¹æ³•ä¸å¤ªé€‚åˆæ‚¨ï¼Œè¯·ä½¿ç”¨æ›´æ¥è¿‘æ‚¨çš„æ–¹æ³•ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†GNU / LinuxæˆåŠŸä¼ è¾“åˆ°åŠ å¯†åˆ†åŒºåï¼Œå¿…é¡»åˆ é™¤æ—§å‰¯æœ¬ï¼Œè€Œä¸èƒ½æ¢å¤æ•°æ®ã€‚é€šç”¨æ¸…ç†æ–¹æ³•ï¼šé€‚ç”¨äºWindows / Linuxçš„å…è´¹GUIè½¯ä»¶</font></font><a href="https://www.bleachbit.org/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BleachBitçš„</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è½¯ä»¶</font><font style="vertical-align: inherit;">ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¿«é€Ÿ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ ¼å¼åŒ–</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¦é”€æ¯æ•°æ®</font><b><font style="vertical-align: inherit;">çš„åˆ†åŒº</font></b></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆä½¿ç”¨Gpartedï¼‰ï¼Œ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬å¯åŠ¨BleachBitï¼Œé€‰æ‹©â€œæ¸…é™¤å¯ç”¨ç©ºé—´â€-é€‰æ‹©åˆ†åŒº</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆæ‚¨çš„sdaXä¸ä»¥å‰çš„GNU / Linuxå‰¯æœ¬ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œæ¸…æ´è¿‡ç¨‹å¼€å§‹ã€‚</font><font style="vertical-align: inherit;">BleachBit-ä¸€æ¬¡æ€§æ“¦é™¤å…‰ç›˜-è¿™å°±æ˜¯â€œæˆ‘ä»¬éœ€è¦çš„â€ï¼Œä½†æ˜¯ï¼</font><font style="vertical-align: inherit;">ä»…åœ¨æ ¼å¼åŒ–ç£ç›˜å¹¶åœ¨BB v2.0è½¯ä»¶ä¸­å°†å…¶æ¸…ç†åï¼Œè¿™æ‰åœ¨ç†è®ºä¸Šèµ·ä½œç”¨ã€‚</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ³¨æ„</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼</font><font style="vertical-align: inherit;">BBæ“¦é™¤ç£ç›˜ï¼Œä¿ç•™å…ƒæ•°æ®ï¼šé”€æ¯æ–‡ä»¶çš„åç§°åœ¨æ•°æ®</font><i><font style="vertical-align: inherit;">æ“¦é™¤</font></i><font style="vertical-align: inherit;">æœŸé—´ä¿å­˜</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆCcleaner-ä¸ä¿ç•™å…ƒæ•°æ®ï¼‰ã€‚</font></font></i> <br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°æ®æ¢å¤çš„ç¥è¯å¹¶ä¸æ˜¯ä¸€ä¸ªç¥è¯ã€‚</font></font></b> <div class="spoiler_text"> Bleachbit V2.0-2   unstable OS Debian <i>(    : sfill; wipe-Nautilus -       )</i>      :  Â«  Â» <b> </b>  HDD/ <i>(ntfs/ext4)</i> .           ,    .   <i>()</i>   /    /    Â«Â»   .   ,   ,   ,   <b>Â« Â»  </b>   3+   . <br>  GNU/Linux  Bleachbit <b>2.0-2</b>        ,     .  :  Windows   CCleaner  Â«  ntfsÂ»  ,        . <br><br>  ,    <u>Â«Â»</u>   , <b>   Bleachbit   </b> , ,   Â« / Â». <br>   Â«    Â»  Windows  CCleaner/BB   Â«Â».  GNU/Linux    <i>(  )</i>      <i>( +           (  ,  ))</i> ,                . <br><br> Bleachbit v3.0  , ,   . <br> Bleachbit v2.0     GNU/Linux   Windows7. <br></div></div><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æ­¤æ­¥éª¤ä¸­ï¼Œâ€œç£ç›˜æ¸…ç†â€å®Œæˆã€‚</font></font></b> <br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [E]åŠ å¯†æ“ä½œç³»ç»Ÿçš„é€šç”¨å¤‡ä»½ </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¯ä¸ªç”¨æˆ·éƒ½æœ‰è‡ªå·±çš„æ•°æ®å¤‡ä»½æ–¹æ³•ï¼Œä½†æ˜¯â€œç³»ç»ŸOSâ€çš„åŠ å¯†æ•°æ®éœ€è¦ç¨å¾®ä¸åŒçš„æ–¹æ³•æ¥å®Œæˆä»»åŠ¡ã€‚</font><font style="vertical-align: inherit;">è¯¸å¦‚Clonezillaçš„ç»Ÿä¸€è½¯ä»¶å’Œç±»ä¼¼è½¯ä»¶æ— æ³•ç›´æ¥ä½¿ç”¨åŠ å¯†æ•°æ®ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è®¾ç½®åŠ å¯†å—è®¾å¤‡çš„å¤‡ä»½ä»»åŠ¡ï¼š</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é€šç”¨æ€§-é€‚ç”¨äºWindows / Linuxçš„ç›¸åŒå¤‡ä»½ç®—æ³•/è½¯ä»¶ï¼› </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èƒ½å¤Ÿä¸ä»»ä½•å®æ—¶USB GNU / Linuxä¸€èµ·åœ¨æ§åˆ¶å°ä¸­å·¥ä½œçš„èƒ½åŠ›ï¼Œè€Œæ— éœ€ä¸‹è½½å…¶ä»–è½¯ä»¶</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆä½†ä»å»ºè®®ä½¿ç”¨GUIï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼›</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> å¤‡ä»½å®‰å…¨æ€§-å­˜å‚¨çš„â€œå›¾åƒâ€å¿…é¡»åŠ å¯†/å—å¯†ç ä¿æŠ¤ï¼› </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> åŠ å¯†æ•°æ®çš„å¤§å°å¿…é¡»ä¸è¦å¤åˆ¶çš„å®é™…æ•°æ®çš„å¤§å°åŒ¹é…ï¼› </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹ä¾¿åœ°ä»å¤‡ä»½å‰¯æœ¬ä¸­æå–å¿…è¦çš„æ–‡ä»¶</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆæ— éœ€å…ˆè§£å¯†æ•´ä¸ªåˆ†åŒºï¼‰ã€‚</font></font></i> </li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ä¾‹å¦‚ï¼Œé€šè¿‡â€œ ddâ€å®ç”¨ç¨‹åºè¿›è¡Œå¤‡ä»½/è¿˜åŸ </font></font><br><br><pre> <code class="bash hljs">dd <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>=/dev/sda7 of=//sda7.img bs=7M conv=sync,noerror dd <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>=//sda7.img of=/dev/sda7 bs=7M conv=sync,noerror</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®ƒå‡ ä¹ç›¸å½“äºä»»åŠ¡çš„æ‰€æœ‰è¦ç‚¹ï¼Œä½†æ˜¯æ ¹æ®æƒåˆ©è¦æ±‚4ï¼Œå®ƒä¸ä¼šå—åˆ°æ‰¹è¯„ï¼Œå› ä¸ºå®ƒå°†æ•´ä¸ªç£ç›˜åˆ†åŒºå¤åˆ¶ä¸ºä¸€ä¸ªæ•´ä½“ï¼ŒåŒ…æ‹¬å¯ç”¨ç©ºé—´-è¿™å¹¶ä¸æœ‰è¶£ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œé€šè¿‡å­˜æ¡£ç¨‹åº[tar | GNU / Linuxçš„å¤‡ä»½]ã€‚</font><font style="vertical-align: inherit;">gpg]â€œæ–¹ä¾¿â€ï¼Œä½†æ˜¯å¯¹äºWindowså¤‡ä»½ï¼Œæ‚¨éœ€è¦å¯»æ‰¾å¦ä¸€ç§è§£å†³æ–¹æ¡ˆ-æ²¡æ„æ€ã€‚</font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E1ã€‚</font><font style="vertical-align: inherit;">Windows / Linuxï¼ˆrsyncï¼ˆGrsyncï¼‰æ†ç»‘åŒ…+ VeraCryptå·ï¼‰å’ŒAutomountåŠ å¯†é©±åŠ¨å™¨çš„é€šç”¨å¤‡ä»½</font></font></b> <div class="spoiler_text"> <b>   :</b> <br><br><ol><li>    <i>(/)</i> VeraCrypt  ; </li><li> /     Rsync   VeraCrypt; </li><li>     VeraCrypt  www. </li></ol><br><br> <i>   VeraCrypt   : <br></i> <ol><li>    <i>(  <u>    Windows</u> ,     GNU/Linux)</i> ; </li><li>   ,    Â« Â» <i>(  )</i> â€“  . </li></ol><br><br>        Windows,       GNU/Linux &gt; VeraCrypt ,        . <br><br>   Twofish  70   <i>( ,    )</i>  HDD ~   <i>(      ,   ).</i>  VeraCrypt Windows/Linux        ,       Â«   Â»,     . <br><br>  2017      VeraCrypt     Â«      GNU/LinuxÂ».   <i> en &gt; ru</i> : <br><br><blockquote>     ,      <br>    ,       .â€¦ <br><br>         Linux. <br>     ,       . <br>  ,    . </blockquote><br>  ,   VeraCrypt      HDD   . <br>     ,     ,    <i>( Â«Â»    ).</i> <br><br>     VeraCrypt 1.24-Update3        GNU/Linux,      (/dev/sdaX). <br><img src="https://habrastorage.org/webt/ix/pj/dk/ixpjdk9i1dlmojr7obxa49wobey.png"><br>  / â€”    VeraCrypt-. <br><br>    VeraCrypt <i>(/ntfs)</i> ,     . <br><br> //   VeraCrypt GUI &gt; GNU/Linux live usb <i>(    /media/veracrypt2,   Windows   /media/veracrypt1).</i>      Windows   GUI rsync <i>(grsync)</i> ,  . <br><br><img src="https://habrastorage.org/webt/py/0v/hw/py0vhwm-rlgyctkndhzgcyrzpu8.jpeg"><br><br>   .    ,      . <br><br>      GNU/Linux,    GUI rsync Â«  WindowsÂ». <br><br> <b></b> !  Veracrypt  Â« GNU/LinuxÂ»     <b>ext4</b> .      ntfs,        /    . <br><br>       .    rsync: <br> * -g - ; <br> * -P --progress â€”     ; <br> * -H - ,  ; <br> * - -  <i>(  rlptgoD)</i> ; <br> * -v -. <br><br>    Â« Windows VeraCryptÂ»     cryptsetup,   alias (su) <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"alias veramount='cryptsetup open --veracrypt --tcrypt-system --type tcrypt /dev/sdaX Windows_crypt &amp;&amp; mount /dev/mapper/ Windows_crypt /media/veracrypt1'"</span></span> &gt;&gt; .bashrc &amp;&amp; bash</code> </pre><br>    Â«veramount <s>pictures</s> Â»      ,   - ,    Windows. <br><br> / <b>  VeraCrypt</b>  cryptsetup  <br><br><pre> <code class="bash hljs">cryptsetup open --veracrypt --tcrypt-system --<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> tcrypt /dev/sdaX Windows_crypt mount /dev/mapper/Windows_crypt /mnt</code> </pre> <br> / <b>/ VeraCrypt</b>  cryptsetup  <br><br><pre> <code class="bash hljs">cryptsetup open --veracrypt --<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> tcrypt /dev/sdaY test_crypt mount /dev/mapper/test_crypt /mnt</code> </pre> <br><br> <b> alias-  (  )      Windows     ntfs   GNU/Linux   /</b> <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># /   ntfs- mkdir /media/Winda7 &amp;&amp; mkdir /media/</span></span></code> </pre> <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#      VeraCrypt,  " "    printf 'bob' | base64 Ym9i #  cli   "bob"</span></span></code> </pre> <br>       ~/VeraOpen.sh <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Ym9i'</span></span> | base64 -d | cryptsetup open --veracrypt --tcrypt-system --<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> tcrypt /dev/sda3 Windows_crypt &amp;&amp; mount /dev/mapper/Windows_crypt /media/Winda7 <span class="hljs-comment"><span class="hljs-comment">#   base64 (bob)             Windows. echo 'Ym9i' | base64 -d | cryptsetup open --veracrypt --type tcrypt /dev/sda1 ntfscrypt &amp;&amp; mount /dev/mapper/ntfscrypt /media/ #,     ntfs.</span></span></code> </pre><br>  Â«Â» : <pre> <code class="bash hljs">sudo chmod 100 /VeraOpen.sh</code> </pre> <br><br>     ( !)  /etc/rc.local  ~/etc/init.d/rc.local <br>   <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh -e # # rc.local # # This script is executed at the end of each multiuser runlevel. # Make sure that the script will Â«exit 0Â» on success or any other # value on error. # # In order to enable or disable this script just change the execution # bits. # # By default this script does nothing. sh -c "sleep 1 &amp;&amp; '/VeraOpen.sh'" #  ,  ~ 1     . exit 0</span></span></code> </pre> <br>  Â«Â» : <pre> <code class="bash hljs">sudo chmod 100 /etc/rc.local &amp;&amp; sudo chmod 100 /etc/init.d/rc.local</code> </pre> <br> ,    GNU/Linux         ntfs,   . <br>   ,      : <br><pre> <code class="bash hljs">systemd-analyze &amp;&amp; systemd-analyze blame</code> </pre> <br><br> <i><b>   ,     .E1   (    / OS GNU/Linux)</b></i> <br> 1)     ext4 &gt; 4gb ( ) Linux  Veracrypt []. <br> 2) Reboot  live usb. <br> 3) ~$ cryptsetup open /dev/sda7 Lunux #  . <br> 4) ~$ mount /dev/mapper/Linux /mnt #    /mnt. <br> 5) ~$ mkdir mnt2 #    . <br> 6) ~$ cryptsetup open --veracrypt --type tcrypt ~/  &amp;&amp; mount /dev/mapper/ /mnt2 #  Veracrypt   Â«Â»     /mnt2. <br> 7) ~$ rsync -avlxhHX --delete --progress /mnt/ /mnt2 #  /      Veracrypt  .  "--delete"      ( ), ..       . <br><br> (p/s/ <b></b> !     GNU/Linux   /  , , Intel &gt; AMD <i>(            Intel &gt; AMD)</i> , <b> </b>          , .   ~/etc/skey â€”       ,    Â«cryptsetup luksAddKeyÂ»     chroot â€”  ,   ~/etc/crypttab   "/etc/skey"  Â«noneÂ»,  rebot-          . <br><br> <u>  IT         Windows/Linux,      .</u> <br> <b>    /   .</b> <br></div></div><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [F]æ”»å‡»GRUB2å¼•å¯¼ç¨‹åº </font></font></h2><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯¦ç»†èµ„æ–™</font></font></b> <div class="spoiler_text">        /  <i>( .C6.)</i> ,        .    - ,    <i>(   )</i> GRUB2       ,    <i>(       ,      --  grub.cfg).</i> <br><br>  .  <br><br> *    live usb.   <i>()</i>           .    GRUB2   grub.cfg <i>(    )</i>      <i>(  ,   GRUB2,     .    &lt;0&gt;)</i> <br> *   ,    "/mnt/boot/grub/grub.cfg". <br> *   <i>( Â«perskeyÂ»   core.img)</i> <br><br><pre> <code class="bash hljs">grub-install --force --root-directory=/mnt /dev/sda6</code> </pre> <br> *  Â«grub.cfgÂ» &gt; "/mnt/boot/grub/grub.cfg",    , ,    Â«keylogger.modÂ»     ,  Â«grub.cfgÂ» &gt;  Â«insmod keyloggerÂ». , ,   ,    GRUB2 <i>(    )</i>     GRUB2,  Â«grub-mkimage   (-).Â»  Â«-Â»        Â«grub.cfgÂ».        :    Â«modern.cfgÂ», , ,  ~400  <i>(+)</i>   "/boot/grub/i386-pc".          ,   "/boot/grub/grub.cfg",     Â«hashsumÂ»        . <br>  /  GRUB2   ,      <i>(  )</i> "/boot/grub/grub.cfg"   Â«modern.cfgÂ» <br><blockquote> set superusers=Â«rootÂ» <br> password_pbkdf2 root grub.pbkdf2.sha512.10000.DE10E42B01BB6FEEE46250FC5F9C3756894A8476A7F7661A9FFE9D6CC4D0A168898B98C34EBA210F46FC10985CE28277D0563F74E108FCE3ACBD52B26F8BA04D.27625A4D30E4F1044962D3DD1C2E493EF511C01366909767C3AF9A005E81F4BFC33372B9C041BE9BA904D7C6BB141DE48722ED17D2DF9C560170821F033BCFD8 <br></blockquote><br>     -      GRUB2. <br><br>   <i>(   )</i> ,   ,    <i>(    )</i> . - BIOS     <i>(     GRUB2 &gt;  GRUB2, !)</i> .   -     ,    ,     <i>( )</i> Â«grub.cfgÂ»   .      ,  , ,     Â«grub.cfgÂ» <i>(  )   ,     GRUB2.</i> <br><br>     ,  /    sdaY,    GRUB2 <i>( grub-install    )</i>   Â«grub.cfgÂ» <i>( )</i>     <br><blockquote> menuentry 'GRUBx2' --class parrot --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-simple-382111a2-f993-403c-aa2e-292b5eac4780' { <br> load_video <br> insmod gzio <br> if [ x$grub_platform = xxen ]; then insmod xzio; insmod lzopio; fi <br> insmod part_msdos <br> insmod cryptodisk <br> insmod luks <br> insmod gcry_twofish <br> insmod gcry_twofish <br> insmod gcry_sha512 <br> insmod ext2 <br> cryptomount -u 15c47d1c4bd34e5289df77bcf60ee838 <br> set root='cryptouuid/15c47d1c4bd34e5289df77bcf60ee838' <br> normal /boot/grub/grub.cfg <br>  } <br></blockquote><br>  <br> * insmod -       ; <br> * GRUBx2 -      GRUB2; <br> * cryptomount -u 15c47d1c4bd34e5289df77bcf60ee838 -. fdisk -l (sda9); <br> * set root - ; <br> * normal /boot/grub/grub.cfg -     . <br><br>   ,     Â«grub.cfgÂ» â€”      / Â«sdaYÂ»    Â«GRUBx2Â»   GRUB. <br><br>    CLI,    <i>(      Â«set rootÂ»),</i>    , ,    "/shifr_grub",    "/noshifr_grub".   CLI <br><br><pre> <code class="bash hljs">cat /Tab-Tab</code> </pre> <br>    ,       ,       . , ,              "~/i386",          . <br><br>    ,       <i>( )</i> ,      ,  CLI   <br><br><pre> <code class="bash hljs">list_trusted</code> </pre> <br>      Â«perskeyÂ»,    ,    <i>(   Â«set check_signatures=enforceÂ»)</i> . <br>    ,   .      Â«grub.cfgÂ»     ,           ,      ,   GRUB2. <br>      :    <a href="https://www.gnu.org/software/grub/manual/grub/grub.html" rel="nofollow"></a> .18.2   <blockquote> Â«Note that even with GRUB password protection, GRUB itself cannot prevent someone with physical access to the machine from altering that machine's firmware (eg, Coreboot or BIOS) configuration to cause the machine to boot from a different (attacker-controlled) device. GRUB is at best only one link in a secure boot chainÂ». </blockquote><br> GRUB2 â€”   ,      ,         MS-DOS,      . ,  GRUB2 â€” Â«Â»   ,   GNU/Linux    . <br><br>  ,  ,       GRUB2,        <i>(,   ,     â€“      /.mod)</i> . <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/qhmsLeAN2Ag" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br></div></div><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ç»“è®ºï¼š </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1ï¼‰Windowsçš„å—ç³»ç»ŸåŠ å¯†æ›´æ˜“äºå®ç°ï¼Œä½¿ç”¨GNU / Linuxå—ç³»ç»ŸåŠ å¯†ï¼Œç”¨ä¸€ä¸ªå¯†ç è¿›è¡Œä¿æŠ¤æ¯”ä½¿ç”¨å¤šä¸ªå¯†ç è¿›è¡Œä¿æŠ¤æ›´ä¸ºæ–¹ä¾¿ï¼Œå…¬å¹³åœ°è¯´ï¼šåè€…æ˜¯è‡ªåŠ¨åŒ–çš„ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2ï¼‰è¿™ç¯‡æ–‡ç« æ˜¯ä½œä¸ºä¸€æœ¬ç›¸å…³çš„è¯¦ç»†çš„</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç®€å•</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‡å—</font><font style="vertical-align: inherit;">ï¼Œä»‹ç»äº†</font><font style="vertical-align: inherit;">åœ¨ä¸€å°æœºå™¨ä¸Šè¿›è¡Œå…¨ç›˜åŠ å¯†VeraCrypt / LUKSçš„æƒ…å†µï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œè¿™æ˜¯æœ€å¥½çš„runetï¼ˆIMHOï¼‰ã€‚å› æ­¤ï¼Œæ‰‹å†Œ&gt; 60kå­—ç¬¦ä¸­æ²¡æœ‰æ¶‰åŠä¸€äº›æœ‰è¶£çš„ç« èŠ‚ï¼šå…³äº</font></font><a href="https://en.wikipedia.org/wiki/Talk:FreeOTFE" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¶ˆå¤±</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><a href="https://diskcryptor.net/forum/index.php%3Ftopic%3D5347.msg13975" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¿ç•™</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨</font></font><a href="https://www.schneier.com/blog/archives/2014/05/truecrypt_wtf.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é˜´å½±</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸­çš„</font><font style="vertical-align: inherit;">å¯†ç </font><font style="vertical-align: inherit;">ï¼›åœ¨å„ç§GNU / Linuxä¹¦ä¸­å¾ˆå°‘/æ²¡æœ‰å†™å…³äºå¯†ç å­¦çš„å†…å®¹ï¼›å…³äºã€Šä¿„ç½—æ–¯è”é‚¦å®ªæ³•ã€‹ç¬¬51æ¡ï¼›æœ‰å…³</font></font><a href="http://www.consultant.ru/document/cons_doc_LAW_128739/1aad6fe079cd2555c9c329d872dfca33764f738f/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è®¸å¯</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> /ç¦æ­¢</font></font><a href="http://www.consultant.ru/document/cons_doc_LAW_128739/5b53393f08d12d297d683284d87338c801ed859b/" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨ä¿„ç½—æ–¯è”é‚¦åŠ å¯†</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œè¯´æ˜æ‚¨éœ€è¦å¯¹â€œ root / bootâ€è¿›è¡ŒåŠ å¯†ã€‚</font><font style="vertical-align: inherit;">æœ€ç»ˆï¼Œè¯¥æ‰‹å†Œå·²ç»è¶³å¤Ÿäº†ï¼Œä½†æ˜¯å¾ˆè¯¦ç»†</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆç”šè‡³æè¿°äº†ç®€å•çš„æ­¥éª¤ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå½“æ‚¨è¿›è¡Œâ€œçœŸæ­£çš„åŠ å¯†â€æ—¶ï¼Œè¿™å°†ä¸ºæ‚¨èŠ‚çœå¤§é‡æ—¶é—´ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3ï¼‰åœ¨Windows 7 64ä¸Šè¿›è¡Œå…¨ç›˜åŠ å¯†ï¼›</font><font style="vertical-align: inherit;">GNU / Linuxé¹¦é¹‰4x; </font><font style="vertical-align: inherit;">GNU / Debian 9.0 / 9.5ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4ï¼‰è½å®æˆåŠŸæ”»å‡»</font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸€ä¸ª</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GRUB2å¼•å¯¼è£…è½½ç¨‹åºã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5ï¼‰åˆ›å»ºäº†æ•™ç¨‹æ¥å¸®åŠ©æ‰€æœ‰</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åæ‰§ç‹‚çš„ç‹¬è”ä½“å›½å®¶</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œè¿™äº›</font><s><font style="vertical-align: inherit;">å›½å®¶</font></s><font style="vertical-align: inherit;">çš„ç«‹æ³•å…è®¸åŠ å¯†ã€‚</font><font style="vertical-align: inherit;">é¦–å…ˆï¼Œå¯¹äºé‚£äº›å¸Œæœ›åœ¨ä¸æ‹†é™¤å·²é…ç½®ç³»ç»Ÿçš„æƒ…å†µä¸‹è¿›è¡Œå…¨ç›˜åŠ å¯†çš„ç”¨æˆ·ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6ï¼‰ä¿®è®¢å¹¶æ›´æ–°äº†ä¸2020å¹´ç›¸å…³çš„æ‰‹å†Œã€‚</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [G]æœ‰ç”¨çš„æ–‡ä»¶ </font></font></h2><br><ol><li> <a href="https://www.dropbox.com/s/tg2etzeptae73xa/TrueCrypt%2520%25D0%25B4%25D0%25BE%25D0%25BA%25D1%2583%25D0%25BC%25D0%25B5%25D0%25BD%25D1%2582%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F%2520%25D0%25BF%25D0%25BE%25D0%25B4%2520%25D1%2581%25D0%25B2%25D0%25BE%25D0%25B1%25D0%25BE%25D0%25B4%25D0%25BD%25D0%25BE%25D0%25B9%2520%25D0%25BB%25D0%25B8%25D1%2586%25D0%25B5%25D0%25BD%25D0%25B7%25D0%25B8%25D0%25B5%25D0%25B9.pdf%3Fdl%3D0" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TrueCryptç”¨æˆ·æŒ‡å—</font></font></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆRU 2012å¹´2æœˆï¼‰</font></font></i> </li><li> <a href="https://www.veracrypt.fr/en/Documentation.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VeraCryptæ–‡æ¡£</font></font></a> </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ usr / share / doc / cryptsetupï¼ˆè¿è¡Œï¼‰[æœ¬åœ°èµ„æº] </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆæœ‰å…³ä½¿ç”¨cryptsetupé…ç½®GNU / LinuxåŠ å¯†çš„å®˜æ–¹è¯¦ç»†æ–‡æ¡£ï¼‰</font></font></i> </li><li> <a href="https://gitlab.com/cryptsetup/cryptsetup/-/wikis/FrequentlyAskedQuestions" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®˜æ–¹cryptsetupå¸¸è§é—®é¢˜è§£ç­”</font></font></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆæœ‰å…³ä½¿ç”¨cryptsetupé…ç½®GNU / LinuxåŠ å¯†çš„ç®€è¦æ–‡æ¡£ï¼‰</font></font></i> </li><li> <a href="https://wiki.archlinux.org/index.php/Dm-crypt/Device_encryption" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LUKSè®¾å¤‡åŠ å¯†</font></font></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆarchlinux-æ–‡æ¡£ï¼‰</font></font></i> </li><li> <a href="" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cryptsetupè¯­æ³•çš„è¯¦ç»†è¯´æ˜</font></font></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆarchæ‰‹å†Œé¡µï¼‰</font></font></i> </li><li> <a href="" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">crypttabçš„è¯¦ç»†æè¿°</font></font></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆarchæ‰‹å†Œé¡µï¼‰</font></font></i> </li><li> <a href="https://www.gnu.org/software/grub/manual/grub/grub.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRUB2çš„å®˜æ–¹æ–‡æ¡£</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> æ ‡ç­¾ï¼šVeraCryptï¼Œå…¨ç›˜åŠ å¯†ï¼Œåˆ†åŒºåŠ å¯†ï¼Œå…¨ç›˜åŠ å¯†Linuxï¼Œå…¨ç³»ç»ŸåŠ å¯†LUKS1 / LUKS2ã€‚ </font></font><br><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤æ´»èŠ‚å½©è›‹</font></font></b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/8a/32/f-/8a32f-bolla8my7o-yt9hhlanbi.png"><br> Â© ,     . <br> <a href="https://habr.com/ru/users/ne555/" class="user_link">ne555</a> 2018-2020 <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN482696/">https://habr.com/ru/post/zh-CN482696/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN482684/index.html">æˆ‘ç”¨ä¸¤å‘¨æ—¶é—´å’Œ552ç¾å…ƒåˆ›å»ºäº†è‡ªå·±çš„è˜¸é…±</a></li>
<li><a href="../zh-CN482686/index.html">ç§‘å­¦å®¶ä½¿åŠ¨ç‰©è¡Œä¸ºç ”ç©¶è‡ªåŠ¨åŒ–ï¼Œä»¥è§£ç å¤§è„‘åŠŸèƒ½</a></li>
<li><a href="../zh-CN482690/index.html">åœ¨åˆå¹¶ä¸­åˆ›å»ºå‘å¸ƒè€…</a></li>
<li><a href="../zh-CN482692/index.html">è‹±ç‰¹å°”NUCå·¥ä½œä¸è™šæ‹ŸåŒ–ä¹‹å®¶</a></li>
<li><a href="../zh-CN482694/index.html">Windowsä¹‹åæœ‰ç”Ÿå‘½å—ï¼Ÿæˆ–è€…åˆ°2020å¹´åœ¨å“ªé‡ŒåŸ¹å…»Windowsç³»ç»Ÿç®¡ç†å‘˜/å·¥ç¨‹å¸ˆï¼Ÿ</a></li>
<li><a href="../zh-CN482698/index.html">[è®ºæ–‡]ä¸“ç”¨äºæµ®æ¸¸ç”Ÿç‰©ã€‚ æˆ‘æ²¡æœ‰å—åˆ°å·¥ä½œçš„å¯å‘</a></li>
<li><a href="../zh-CN482700/index.html">å¦‚ä½•â€œæ“â€è°·æ­Œå’ŒYandexï¼šç½‘ç«™çš„é»‘ç™½SEOä¿ƒé”€ã€‚ è°¢æ–¯å¡”ç§‘å¤«| äººPROï¼ƒ74</a></li>
<li><a href="../zh-CN482702/index.html">2020å¹´æˆ‘ä»¬çœŸçš„éœ€è¦TypeScriptå—ï¼Ÿ</a></li>
<li><a href="../zh-CN482704/index.html">GoæœåŠ¡çš„Redisç¼“å­˜åŒæ­¥</a></li>
<li><a href="../zh-CN482706/index.html">åœ¨1Cå¹³å°ä¸Šå®æ–½å¹¶è¡Œä¼šè®¡RAS + IFRSçš„å»ºè®®</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>