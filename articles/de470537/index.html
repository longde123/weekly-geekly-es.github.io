<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úçÔ∏è üë©üèø‚Äçüç≥ üë®üèª‚Äçüç≥ Neues Validierungspaket f√ºr React on Mobx @ quantumart / mobx-form-validation-kit üéª ‚úñÔ∏è üë®üèº‚Äçüíª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag. 
 Heute m√∂chte ich √ºber ein neues Paket f√ºr asynchrone Validierungen in Projekten sprechen, die auf React , Mobx basieren und in Typescript...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Neues Validierungspaket f√ºr React on Mobx @ quantumart / mobx-form-validation-kit</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470537/">  Guten Tag. <br>  Heute m√∂chte ich √ºber ein neues Paket f√ºr asynchrone Validierungen in Projekten sprechen, die auf <i>React</i> , <i>Mobx basieren</i> und in <i>Typescript geschrieben sind</i> . <br>  Die moderne Frontend-Entwicklung erfordert viel Logik beim Ausf√ºllen von Seiten mit Dokumenten, Frageb√∂gen und Dokumenten f√ºr einen Kredit, Zahlungsauftr√§gen und Registrierungsseiten auf der Website.  Die logische Hauptlast liegt bei den Validierungspr√ºfungen.  <i>Angular-</i> Entwickler haben √ºber diesen Punkt nachgedacht und bieten Entwicklern an, den integrierten <b>FormControl-</b> Mechanismus f√ºr diese Zwecke zu verwenden, der zwar eine Reihe von Nachteilen aufweist, aber immer noch besser ist als das v√∂llige Fehlen einer solchen L√∂sung f√ºr <i>React</i> .  Die Situation wird durch die Tatsache kompliziert, dass der aktuelle Trend der <i>React-</i> Entwicklung die Verwendung von Mobx zur Organisation der Gesch√§ftslogik beinhaltet. <br>  Angesichts dieser Probleme haben wir alle gel√∂st, indem wir ein Paket geschrieben haben: <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">@ quantumart / mobx-form-validation-kit</a></b></i> <br><br>  Paketvorteile: <br><ul><li> Ganz auf <i>TypeScript</i> </li><li>  Kompatibel mit Mobx (Version 4, die IE10 unterst√ºtzt, jedermanns Favorit) </li><li>  Entwickelt f√ºr die Arbeit in <i>React</i> (kann in Projekten ohne <i>React</i> verwendet werden) </li><li>  Entwickelt f√ºr die asynchrone Validierung </li><li>  Einfach in ein bestehendes Projekt einzubetten. </li></ul><br>  Anleitung zum Arbeiten mit der Verpackung unter dem Schnitt. <br><a name="habracut"></a><br><br>  Zu Beginn werden wir die Funktionalit√§t des <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">@ quantumart / mobx-Formularvalidierungs-Kit-</a></i> Pakets beschreiben. Am Ende des Artikels werden wir eine voll funktionsf√§hige Seite mit einem Beispiel f√ºr das Registrierungsformular auf der Website schreiben. <br><br><h2>  Formcontrol </h2><br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mit @ quantumart / mobx-form-validation-kit</a></i> k√∂nnen Sie eine Ebene zwischen den Quelldaten und dem anzuzeigenden Formular erstellen.  Auf diese Weise k√∂nnen Sie sie validieren und gegebenenfalls die Daten √§ndern, bevor sie zum urspr√ºnglichen Objekt gelangen. <br><img src="https://habrastorage.org/webt/ng/tj/qw/ngtjqwnwm_yh1bkjtiwn6o41pwk.png"><br>  Die <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">@ quantumart / mobx-Formularvalidierungskit-</a></i> Bibliothek enth√§lt drei Hauptklassen (Validierungskomponenten) zum Verwalten des Formulars: <br><ul><li>  <b>FormGroup</b> - Erm√∂glicht das Kombinieren von Validierungskomponenten.  Die Klasse ist typisiert und erm√∂glicht es Ihnen, die Schnittstelle mit der Liste der Felder als generischen Parameter neu zu erstellen.  Alle sind standardm√§√üig registriert. Es wird dringend empfohlen, sie nicht ohne Eingabe zu verwenden, es besteht jedoch die M√∂glichkeit. </li><li>  <b>FormControl</b> - wird verwendet, um ein bestimmtes Feld zu validieren, die am h√§ufigsten verwendete Klasse.  Die Klasse ist typisiert und verwendet als generischen Parameter den Typ der Variablen, die gespeichert werden soll.  Standardm√§√üig ist string registriert, weil  Die Standardeinstellung ist Zeichenfolge als privateste Option f√ºr Formulare. </li><li>  <b>FormArray</b> - Erm√∂glicht das Erstellen und Verwalten eines Arrays von Validierungskomponenten. </li></ul><br>  Dar√ºber hinaus gibt es grundlegende abstrakte Klassen <br><ul><li>  <b>AbstractControl</b> - die Basisklasse f√ºr alle aufgelisteten Validierungsklassen, nicht typisiert. </li><li>  <b>FormAbstractControl</b> - Basisklasse f√ºr <b>FormGroup</b> und <b>FormArray</b> , nicht eingegeben. </li><li>  <b>FormAbstractGroup</b> - keine typisierte Basisklasse f√ºr FormControl, enth√§lt einen Link zum HTML-Element, das gerendert wird. </li></ul><br>  Die beste Vorgehensweise zum Erstellen eines Validierungsformulars ist die folgende Idee. <br>  Auf dem <b>Formular</b> wird ein Objekt vom Typ 1 <b>FormGroup</b> erstellt, in dem die Felder bereits aufgef√ºhrt sind <br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ), <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname = v) ) <span class="hljs-comment"><span class="hljs-comment">// ‚Ä¶ });</span></span></code> </pre> <br>  <b>FormGroup</b> unterst√ºtzt das Verschachteln, d.h. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ), <span class="hljs-attr"><span class="hljs-attr">surname</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.surname = v) ) passport: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IPassport &gt;({ <span class="hljs-attr"><span class="hljs-attr">number</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.passport.number, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.passport.number = v) ), <span class="hljs-comment"><span class="hljs-comment">// ‚Ä¶ }) // ‚Ä¶ });</span></span></code> </pre><br>  Sie k√∂nnen <b>FormArray</b> hinzuf√ºgen, dem wiederum der Typ <b>FormControl</b> und / oder die gesamte <b>FormGroup √ºbergeben werden k√∂nnen</b> , um Objekte beliebiger Komplexit√§t und Struktur zu erstellen. <br><ul><li>  FormArray &lt;FormControl&gt; <br>  FormArray &lt;FormGroup&gt; <br><br>  <b>FormControl</b> selbst √ºbernimmt die folgenden Parameter in den Konstruktor <br><ul><li>  <b>value</b> : TEntity ist der eingegebene Anfangswert. </li><li>  <b>Validatoren</b> : ValidatorFunctionFormControlHandler [] - eine Reihe von Validatoren. </li><li>  <b>callbackValidValue</b> : UpdateValidValueHandler |  null - R√ºckruffunktion, an die der letzte g√ºltige Wert √ºbergeben wird.  Es wird jedes Mal aufgerufen, wenn sich ein Wert in FormControl √§ndert und dieser Wert die beschriebenen √úberpr√ºfungen besteht. </li><li>  <b>aktivieren</b> : (() =&gt; boolean) |  null - Die Funktion aktiviert / deaktiviert Validierungen nach Bedingung (immer standardm√§√üig aktiviert).  Beispielsweise muss die G√ºltigkeit des Enddatums des Dienstes nicht aktiviert werden, wenn das Kontrollk√§stchen "Unbegrenzt" nicht aktiviert ist.  Wenn Sie hier einfach eine Funktion eingeben, die den Status des <i>beobachtbaren</i> Felds aktiviert, das f√ºr das Kontrollk√§stchen "Unbegrenzt" verantwortlich ist, k√∂nnen Sie automatisch alle mit dem Feld verkn√ºpften √úberpr√ºfungen zum √úberpr√ºfen des Datums deaktivieren und diese Logik nicht in jeder der Datumsfeld√ºberpr√ºfungen registrieren. </li><li>  <b>zus√§tzliche</b> Daten: TAdditionalData |  null - Mit einem Block mit zus√§tzlichen Informationen k√∂nnen Sie einem bestimmten <b>FormControl</b> zus√§tzliche Informationen <b>hinzuf√ºgen</b> und diese sp√§ter beispielsweise zur Visualisierung verwenden.  Dies ist praktisch, wenn es Builder f√ºr <b>FormControl gibt,</b> in denen Sie bestimmte Informationen analysieren m√ºssen und diese Informationen nicht zur Visualisierung √ºber ein komplexes Datenpaket an die Steuerelemente weitergeben m√ºssen.  Obwohl ich kein genaues und unbestreitbares Anwendungsszenario angeben kann, ist es besser, eine solche Gelegenheit zu haben, als ohne sie zu leiden. </li></ul><br>  <i>Angular</i> <i>FormControl</i> hat eine Einschr√§nkung: Es ist nicht erforderlich, Objekte in verschiedenen Formularen wiederzuverwenden.  Das hei√üt,  Sie k√∂nnen einen FormGroup- <b>Builder</b> erstellen und auf jeder Seite ein eigenes Objekt erstellen.  Die Verwendung eines Objekts pro Seitenb√ºndel ist jedoch eine schlechte Praxis. <br>  Dar√ºber hinaus wird <b>FormControl</b> mit einem einzelnen Wert initialisiert. Wenn dieser Wert ge√§ndert wird, wird der neue Wert nicht in <b>FormControl √ºbernommen</b> .  Dies geschieht absichtlich, weil, wie die Praxis gezeigt hat, aus irgendeinem Grund jeder hartn√§ckig versucht, das urspr√ºngliche Objekt zun√§chst unter Umgehung von Validierungen zu bearbeiten, und nicht den Wert in <b>FormControl</b> .  <b>Weisen Sie</b> dem <b>Wertefeld</b> des <b>FormControl</b> einfach einen neuen Wert zu, um das urspr√ºngliche Objekt zu √§ndern. <br>  <b>FormGroup</b> akzeptiert die folgenden Parameter im Konstruktor: <br><ul><li>  <b>Steuerelemente</b> : TControls - ein von <b>AbstractControls</b> geerbtes Objekt.  Erstellen Sie einfach eine von <b>AbstractControls</b> geerbte <i>Schnittstelle,</i> in der Sie Felder vom Typ <b>FormGroup</b> , <b>FormControl</b> , <b>FormArray auflisten</b> .  Sie k√∂nnen den Typ nat√ºrlich auf einen <i>beliebigen</i> einstellen, aber dann gehen alle Vorteile von <i>TypeScript</i> verloren. </li><li>  <b>Validatoren</b> : ValidatorFunctionFormGroupHandler [] - Eine Reihe von Validatoren f√ºr Gruppenwerte.  Sie k√∂nnen beispielsweise eine <b>FormGroup</b> erstellen, die zwei Werte enth√§lt - das minimale und das maximale Datum f√ºr die Periodenauswahlsteuerung.  In diesen Validatoren m√ºssen Sie die Funktion / en zur √úberpr√ºfung des Datumsbereichs √ºbergeben.  Zum Beispiel, dass das Startdatum nicht gr√∂√üer als das Enddatum ist </li><li>  <b>aktivieren</b> : (() =&gt; boolean) |  null - Die Funktion aktiviert / deaktiviert Validierungen nach Bedingung (immer standardm√§√üig aktiviert).  Es versteht sich, dass das Anwenden der Validierungsfunktion auf eine Gruppe die Validierung auf Gruppenebene deaktiviert.  Zum Beispiel haben wir ein Auswahlfeld f√ºr ein Ausweisdokument.  Sie k√∂nnen mehrere <b>FormGroups</b> mit unterschiedlichen Feldern f√ºr Dokumente erstellen: Reisepass, F√ºhrerschein, Seemannspass usw. In dieser Funktion √ºberpr√ºfen Sie die Dropdown-Werte. Wenn der ausgew√§hlte Wert nicht dieser Gruppe entspricht, sind alle Validierungspr√ºfungen deaktiviert.  Genauer gesagt wird die Gruppe unabh√§ngig von den darin enthaltenen Werten als g√ºltig betrachtet. </li></ul><br>  Lassen Sie uns √ºber <b>FormControl-</b> Felder sprechen, einschlie√ülich des Vorhandenseins von <b>FormGroup</b> und <b>FormArray</b> . <br><ul><li>  <b>ControlTypes</b> - Steuerelementtyp (Control | Group | Array) </li><li>  <b>Verarbeitung</b> : Boolesch - im Analyseprozess.  Weil  Asynchrone √úberpr√ºfungen werden beispielsweise unterst√ºtzt, f√ºr die eine Serveranforderung erforderlich ist.  In diesem Feld finden Sie den aktuellen Status des Scans. <br>  Dar√ºber hinaus unterst√ºtzen <b>FormGroup</b> und <b>FormArray</b> die <b>Wartemethode</b> , mit der Sie warten k√∂nnen, bis die Pr√ºfung abgeschlossen ist.  Wenn Sie beispielsweise auf die Schaltfl√§che "Daten senden" klicken, m√ºssen Sie das folgende Design registrieren. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.wait(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.invalid) { ‚Ä¶</code> </pre> <br></li><li>  <b>disabled</b> : boolean - Fehlerpr√ºfung ist deaktiviert (Kontrolle ist immer g√ºltig) </li><li>  <b>active</b> : boolean - Fehlerpr√ºfung ist aktiviert.  H√§ngt vom Ergebnis der Aktivierungsfunktion ab.  Dieser Wert ist sehr praktisch, um eine Gruppe von Feldern in einem Formular auszublenden und keine zus√§tzlichen und doppelten Funktionen der Gesch√§ftslogik zu schreiben. </li><li>  <b>ung√ºltig</b> : boolean;  - f√ºr <b>FormControl</b> - bedeutet, dass das Feld Validierungsfehler enth√§lt.  F√ºr <b>FormGroup</b> und <b>FormArray</b> bedeutet <b>dies, dass</b> entweder das Gruppensteuerelement selbst Fehler enth√§lt oder eines der verschachtelten Felder (auf einer der Verschachtelungsebenen) Validierungsfehler enth√§lt.  Das hei√üt,  Um die G√ºltigkeit des gesamten Formulars zu √ºberpr√ºfen, reicht es aus, eine ung√ºltige oder g√ºltige Pr√ºfung der oberen FormGroup durchzuf√ºhren. </li><li>  <b>valid</b> : boolean - f√ºr <b>FormControl</b> - bedeutet, dass das Feld keine Validierungsfehler enth√§lt.  F√ºr FormGroup und FormArray bedeutet dies, dass entweder das Gruppensteuerelement selbst keine Fehler enth√§lt und keines der verschachtelten Felder (auf einer beliebigen Verschachtelungsebene) Validierungsfehler enth√§lt. </li><li>  <b>pristine</b> : boolean - Der Wert im Feld hat sich nach der Initialisierung mit dem Standardwert nicht ge√§ndert. </li><li>  <b>Dirty</b> : Boolean - Der Wert im Feld wurde nach der Initialisierung mit dem Standardwert ge√§ndert. </li><li>  <b>unber√ºhrt</b> : Boolesch - f√ºr <b>FormControl</b> - bedeutet, dass das Feld (z. B. Eingabe) nicht <b>scharfgestellt</b> war.  F√ºr FormGroup und FormArray bedeutet dies, dass keines der verschachtelten FormControls im Fokus stand.  Der Wert false in diesem Feld bedeutet, dass der Fokus nicht nur festgelegt, sondern auch aus dem Feld entfernt wurde. </li><li>  <b>ber√ºhrt</b> : boolean - F√ºr <b>FormControl</b> - bedeutet, dass das Feld (z. B. Eingabe) im Fokus war.  F√ºr <b>FormGroup</b> und <b>FormArray</b> bedeutet dies, dass eines der verschachtelten <b>FormControls</b> im Fokus stand.  Der Wert true in diesem Feld bedeutet, dass der Fokus nicht nur festgelegt, sondern auch aus dem Feld entfernt wurde. </li><li>  <b>fokussiert</b> : Boolesch - f√ºr <b>FormControl</b> - bedeutet, dass das Feld (z. B. Eingabe) jetzt im Fokus ist.  F√ºr <b>FormGroup</b> und <b>FormArray</b> bedeutet dies, dass eines der verschachtelten <b>FormControls</b> jetzt im Fokus steht. </li><li>  <b>Fehler</b> : ValidationEvent [] - Das Feld enth√§lt Validierungsfehler.  Im Gegensatz zu den aufgelisteten Feldern enth√§lt dieses Array genau die Fehler von <b>FormControl</b> , <b>FormGroup</b> oder <b>FormArray</b> , d. H.  Fehler dieses Steuerelements und nicht alle verschachtelt.  Beeinflusst ein g√ºltiges / ung√ºltiges Feld </li><li>  <b>Warnungen</b> : ValidationEvent [] - Das Feld enth√§lt Warnmeldungen.  Im Gegensatz zu den aufgelisteten Feldern enth√§lt dieses Array genau die Fehler von FormControl, FormGroup oder FormArray, d. H.  Nachrichten dieses Steuerelements, aber nicht alle angeh√§ngt.  Betrifft nicht das g√ºltige / ung√ºltige Feld </li><li>  <b>informationMessages</b> : ValidationEvent [] - Das Feld enth√§lt Informationsnachrichten.  Im Gegensatz zu den aufgelisteten Feldern enth√§lt dieses Array genau die Fehler von FormControl, FormGroup oder FormArray, d. H.  Nachrichten dieses Steuerelements, aber nicht alle angeh√§ngt.  Betrifft nicht das g√ºltige / ung√ºltige Feld </li><li>  <b>Erfolge</b> : ValidationEvent - Das Feld enth√§lt zus√§tzliche G√ºltigkeitsnachrichten.  Im Gegensatz zu den aufgelisteten Feldern enth√§lt dieses Array genau die Fehler von FormControl, FormGroup oder FormArray, d. H.  Nachrichten dieses Steuerelements, aber nicht alle angeh√§ngt.  Betrifft nicht das g√ºltige / ung√ºltige Feld </li><li>  <b>maxEventLevel ()</b> - Die maximale Stufe der derzeit im Feld enthaltenen Validierungsnachrichten. </li><li>  Die Methode gibt einen der Aufz√§hlungswerte in der n√§chsten Priorit√§t zur√ºck. <br><ol><li>  ValidationEventTypes.Error; </li><li>  ValidationEventTypes.Warning; </li><li>  ValidationEventTypes.Info; </li><li>  ValidationEventTypes.Success; </li></ol><br></li><li>  <b>serverErrors</b> : string [] - Nach dem Senden einer Nachricht an den Server <b>empfiehlt</b> es sich, die G√ºltigkeit des Formulars auch auf dem Server zu √ºberpr√ºfen.  Infolgedessen kann der Server Fehler der endg√ºltigen Formularpr√ºfung zur√ºckgeben, und das Array <b>serverErrors</b> ist f√ºr diese Fehler vorgesehen.  Eine wichtige Funktion von <b>serverErrors</b> ist die automatische Bereinigung von Validierungsnachrichten, wenn der Fokus von dem Feld verloren geht, dem <b>Serverfehler</b> zugewiesen wurden, und Serverfehler werden auch gel√∂scht, wenn das Feld ge√§ndert wurde. </li><li>  onChange: Delegieren - Zus√§tzlich zur Standardreaktion des <i>Mobx-</i> Mechanismus <i>k√∂nnen</i> Sie delegieren und eine R√ºckruffunktion hinzuf√ºgen, die aufgerufen wird, wenn sich Daten √§ndern. </li><li>  <b>setDirty</b> (dirty: boolean): void - Mit dieser Methode k√∂nnen Sie den Wert der <b>urspr√ºnglichen</b> / <b>schmutzigen</b> Felder √§ndern </li><li>  <b>setTouched</b> (ber√ºhrt: boolean): void;  - Mit dieser Methode kann der Wert der <b>unber√ºhrten</b> / <b>ber√ºhrten</b> Felder <b>ge√§ndert</b> werden </li><li>  <b>dispose</b> (): void;  - Erforderlich, um das f√ºr die Seite verantwortliche Steuerelement in componentWillUnmount aufzurufen. </li></ul><br><br>  Dies waren gemeinsame Felder f√ºr alle Steuerelemente, aber jedes Steuerelement verf√ºgt auch √ºber Felder, die f√ºr seinen Typ eindeutig sind. <br>  <b>Formcontrol</b> <br><ul><li>  <b>value</b> - enth√§lt den aktuellen Wert des Feldes.  Sie k√∂nnen diesem Feld auch einen neuen Wert zuweisen. </li></ul><br><br>  <b>FormGroup</b> und <b>FormArray</b> enthalten <br><ul><li>  <b>wait</b> - Mit dieser Methode k√∂nnen Sie das Ende der √úberpr√ºfungen aller (Validierungen) einschlie√ülich verschachtelter Daten erwarten </li><li>  <i>allControls ()</i> - Mit dieser Methode k√∂nnen Sie einen vollst√§ndigen Satz aller FormControl abrufen, einschlie√ülich verschachtelter auf verschiedenen Ebenen.  Das hei√üt,  Tats√§chlich erweitert es ein mehrstufiges FormGroup-Objekt, das auch FormGroup enthalten kann, zu einer gro√üen Liste, die nur aus FormControl besteht.  Diese Funktionalit√§t ist erforderlich, wenn wir das erste ung√ºltige Element finden und uns darauf konzentrieren m√∂chten. <br>  In diesem Fall w√ºrde der Code folgenderma√üen aussehen: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.wait(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.invalid) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.setTouched(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> firstError = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form.allControls().find(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">c</span></span></span><span class="hljs-function"> =&gt;</span></span> c.invalid &amp;&amp; !!c.element); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!!firstError) { firstError.element.focus(); } } ...</code> </pre> <br></li></ul><br><br><h2>  Validierungen </h2><br>  Zus√§tzlich zu den Steuerelementen, mit denen Sie mit Daten arbeiten k√∂nnen, ben√∂tigen wir nat√ºrlich selbst Validierungen.  Das <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Paket @ quantumart / mobx-form-validation-kit</a></b></i> enth√§lt nat√ºrlich eine Reihe vordefinierter Validierungen und unterst√ºtzt auch die Erstellung benutzerdefinierter benutzerdefinierter Validierungen. <br>  Ein Beispiel f√ºr das Festlegen von Validierungen f√ºr <b>FormControl</b> f√ºr ein <b>Altersfeld</b> . <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl&lt;number&gt;( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.age, [required(), minValue(<span class="hljs-number"><span class="hljs-number">18</span></span>, <span class="hljs-string"><span class="hljs-string">"    18 ."</span></span>, ValidationEventTypes.Warning)], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.age = v) )</code> </pre> <br>  Jede Validierung mit den neuesten Parametern dauert: <br><ul><li>  Nachricht - Eine Validierungsnachricht. </li><li>  eventType - Nachrichtenebene.  Es werden 4 Nachrichtenebenen unterst√ºtzt. <br><ol><li>  Fehler - Fehler </li><li>  Warnung - Warnungen </li><li>  Info - Informationsmeldungen </li><li>  Erfolg - Nachrichten √ºber die G√ºltigkeit.  Sie k√∂nnen beispielsweise √ºberpr√ºfen, ob das Kennwort wirklich komplex ist. </li></ol><br></li></ul><br>  Das Paket enth√§lt die folgenden Validierungen: <br><ul><li>  <b>Erforderlich</b> (... - Erforderliches Feld </li><li>  <b>notEmptyOrSpaces</b> (... - Das Feld ist nicht leer und enth√§lt nicht nur Leerzeichen. Tats√§chlich erforderlich, unter Ber√ºcksichtigung des Leerzeichenverbots. </li><li>  <b>pattern</b> (regExp: RegExp, ... - Der erste Parameter ist der regul√§re Ausdruck, mit dem das Feld √ºbereinstimmen soll. Ein Fehler wird generiert, wenn keine Muster√ºbereinstimmung vorliegt. </li><li>  <b>invertPattern</b> (regExp: RegExp, ... - Der erste Parameter ist der regul√§re Ausdruck, mit dem das Feld nicht √ºbereinstimmen soll. Bei einer Muster√ºbereinstimmung wird ein Fehler generiert. </li><li>  <b>minLength</b> (minlength: number, .... - Der erste Parameter ist die Mindestl√§nge des Textes einschlie√ülich. Ein Fehler wird generiert, wenn die L√§nge kleiner als die √ºbertragene ist. </li><li>  <b>maxLength</b> (maxlength: number, .... - Der erste Parameter ist die maximale L√§nge des Textes einschlie√ülich. Ein Fehler wird ausgegeben, wenn die L√§nge l√§nger als die √ºbertragene ist. </li><li>  <b>absoluteLength</b> (L√§nge: Zahl, .... - Der erste Parameter ist die genaue L√§nge des Textes. Ein Fehler wird ausgegeben, wenn die L√§nge nicht mit der angegebenen √ºbereinstimmt. </li><li>  <b>minValue</b> (min: TEntity | (() =&gt; TEntity), ... - Diese Validierung ist nur f√ºr Zahlen und Daten vorgesehen. Ein Fehler wird gesetzt, wenn der Wert kleiner als der angegebene ist. Die Besonderheit der Validierung ist die F√§higkeit, nicht nur einen bestimmten Wert, sondern auch zu akzeptieren Funktion, dh wenn Sie den Wert in dieser Funktion aus dem Feld @observable des Objekts lesen, wird die Validierung selbst nicht nur neu gestartet, wenn das Feld ge√§ndert wird, an das die Validierung geh√§ngt wird, sondern auch, wenn das ‚Äûverkn√ºpfte Feld‚Äú ge√§ndert wird.  erster Tag-Feld au√üer dem als Wert @observable gelesen wird. </li><li>  <b>maxValue</b> (max: TEntity | (() =&gt; TEntity), ... - Diese Validierung ist nur f√ºr Zahlen und Daten vorgesehen. Ein Fehler wird gesetzt, wenn der Wert gr√∂√üer als der angegebene ist. Die Validierungsfunktion ist die F√§higkeit, nicht nur einen bestimmten Wert, sondern auch zu akzeptieren Funktion, dh wenn Sie den Wert in dieser Funktion aus dem Feld @observable des Objekts lesen, wird die Validierung selbst nicht nur neu gestartet, wenn das Feld ge√§ndert wird, an das die Validierung geh√§ngt wird, sondern auch, wenn das ‚Äûverkn√ºpfte Feld‚Äú ge√§ndert wird.  erster au√üer-Tag-Feld, das als Wert @observable gelesen </li><li>  <b>notContainSpaces</b> (... - Im Gegensatz zu notEmptyOrSpaces wird ein Fehler ausgegeben, wenn der Wert sogar mindestens ein Leerzeichen enth√§lt. </li><li>  <b>compare</b> (Ausdruck: (Wert: TEntity) =&gt; boolean (... - Wenn Sie Ihre eigene Validierungsfunktion schreiben, wird viel Code zum Kopieren und Einf√ºgen generiert. Dieser Wrapper wurde entwickelt, um dieses Problem zu beheben. Diese Validierungsfunktion akzeptiert eine Funktion als ersten Parameter, der wiederum den aktuellen Wert √ºbergibt Felder, mit denen Sie eine komplexe Pr√ºfung durchf√ºhren k√∂nnen, z. B. den Hash f√ºr die TIN- oder Passnummer berechnen und dann true / false zur√ºckgeben. Ein Fehler wird angezeigt, wenn die Pr√ºfung false zur√ºckgibt. </li><li>  <b>isEqual</b> (Wert: Zeichenfolge ... - eine einfache √úberpr√ºfung der Zeichenfolgen√ºbereinstimmung. </li></ul><br>  Im Folgenden werden die Wrapper-Funktionen beschrieben, die den Ablauf der Validierungsausl√∂ser steuern. <br>  Es ist zu beachten, dass der an <b>FormControl</b> , <b>FormGroup</b> , <b>FormArray √ºbergebene</b> Validierungssatz in einem einzelnen Array gestartet wird und tats√§chlich keine Ausf√ºhrungssequenz aufweist.  Als Ergebnis der Arbeit werden wir in den Feldern <i>Fehler</i> , <i>Warnungen</i> , <i>Informationsnachrichten</i> , <i>Erfolgsarrays haben,</i> die aus Fehlern, Warnungen bestehen, die zu einem einzigen Array zusammengefasst sind, usw. <br>  Oft m√∂chte der Kunde nur einen Fehler sehen und nicht alle auf einmal.  Dar√ºber hinaus kann der TOR so ausgelegt werden, dass eine Pr√ºfung erst durchgef√ºhrt wird, nachdem die vorherige bestanden wurde. <br>  Um dieses Problem zu l√∂sen, wird <b>wrapperSequentialCheck</b> verwendet.  Sein Aufruf und seine Anwendung unterscheiden sich nicht von dem √ºblichen Funktionsvalidator, aber am Eingang empf√§ngt er ein Array von Validatoren, die nacheinander gestartet werden, d. H.  Die n√§chste Validierung beginnt erst, nachdem die vorherige fehlerfrei bestanden wurde. <br>  Die zweite Wrapper-Funktion ist die Flusssteuerungsfunktion von Validierungen.  <b>wrapperActivateValidation als</b> erster Parameter √ºbernimmt eine Funktion, in die die Bedingungen f√ºr die Validierungsaktivierung geschrieben werden sollen.  Im Gegensatz zur Aktivierungsfunktion, die an FormControl √ºbergeben wird, ist diese Pr√ºfung f√ºr eine komplexere Logik ausgelegt.  Angenommen, wir haben einen gemeinsamen Builder f√ºr die gesamte <b>FormGroup-</b> Zahlungsform, und au√üerdem gibt es auf dem Server nur eine Methode, die einen gemeinsamen Satz von Feldern akzeptiert.  Der Haken ist jedoch, dass wir dem Benutzer je nach "Zahlungsart" unterschiedliche Felder anzeigen, obwohl es sich um ein Formular handelt.  Mit <b>wrapperActivateValidation</b> k√∂nnen <b>Sie also</b> eine Logik schreiben, in der je nach Zahlungsart verschiedene Pr√ºfungen durchgef√ºhrt werden. <br>  Die Verwendung von Wrappern sieht genauso aus wie normale Funktionen. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.megapole, [wrapperActivateValidation(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.info.A === <span class="hljs-number"><span class="hljs-number">10</span></span>, [ required(), pattern(<span class="hljs-regexp"><span class="hljs-regexp">/\^d{10}$/</span></span>) ]), wrapperActivateValidation(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.info.A === <span class="hljs-number"><span class="hljs-number">20</span></span>, [ wrapperSequentialCheck([ notContainSpaces(), pattern(<span class="hljs-regexp"><span class="hljs-regexp">/\^d{20}$/</span></span>) ]) ])], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.megapole = v) )</code> </pre><br>  Dieses Beispiel zeigt, dass die <i>erforderlichen (), Muster- (/ \ ^ d {10} $ /)</i> <i>Pr√ºfungen</i> nur mit <i>this.info.A === 10</i> und if <i>this.info.A === 20 durchgef√ºhrt werden</i> , dann <i>funktionieren notContainSpaces (), Mustervalidierungen (/ \ ^ d {20} $ /)</i> , au√üerdem funktionieren diese Validierungen im Gegensatz zum ersten Fall nacheinander. <br><br>  Nat√ºrlich wird der Moment kommen, in dem die Standardvalidierungen nicht mehr ausreichen. <br>  Dann m√ºssen Sie Ihre eigenen asynchronen Funktionen schreiben.  Gl√ºcklicherweise geschieht dies ohne besondere Schwierigkeiten. <br>  <b>FormControl</b> wurde urspr√ºnglich durch asynchrone Validierungsfunktionen gesch√§rft, die m√∂glicherweise Daten an den Server <b>senden</b> m√∂chten, und diese Antwort muss warten.  Infolgedessen sind alle Validierungen asynchron. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkValueOnServer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">control: FormControl</span></span></span><span class="hljs-function">): </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Promise</span></span></span><span class="hljs-function">&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ValidationEvent</span></span></span><span class="hljs-function">[]&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (control.value == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> []; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> result = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> sendToServer(control.value); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (result.errorMessage) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ { <span class="hljs-attr"><span class="hljs-attr">message</span></span>: result.errorMessage, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: ValidationEventTypes.Error, }, ]; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> []; }</code> </pre> <br>  Hier m√ºssen Sie auf zwei Objekte achten. <br>  Zuerst k√ºmmern wir uns immer um das Array.  Das hei√üt,  Auf Wunsch k√∂nnen Sie sogar mehrere Fehlermeldungen gleichzeitig zur√ºckgeben. <br>  Der zweite Punkt ist das zur√ºckgegebene Objekt und enth√§lt die folgenden Felder. <br><ul><li>  <b>Schl√ºssel</b> ?: Zeichenfolge - Ein optionales Feld, mit dem Sie einen "Schl√ºssel" f√ºr eine bestimmte Validierung angeben k√∂nnen.  F√ºr alle Basisschl√ºssel ist der Schl√ºssel eindeutig und entspricht ihrem Namen.  M√∂glicherweise m√∂chten Sie den Schl√ºssel verwenden, um die Liste in Reaktion zu rendern, aber wie die Praxis gezeigt hat, ist dies eine schlechte Idee.  In Zukunft werde ich im Beispiel zeigen, dass es besser ist, Nachrichten zu verwenden und die Taste √ºberhaupt nicht zu ber√ºhren.  In jedem Fall ist es wie in Angunar, aber sein Bedarf wurde tats√§chlich auf 0 reduziert. </li><li>  <b>message</b> : string - eine Validierungsnachricht.  Pflichtfeld. </li><li>  <b>Typ</b> : ValidationEventTypes - Nachrichtentyp. <br><ol><li>  Fehler - Fehler </li><li>  Warnung - Warnungen </li><li>  Info - Informationsmeldungen </li><li>  Erfolg - Nachrichten √ºber die G√ºltigkeit.  Sie k√∂nnen beispielsweise √ºberpr√ºfen, ob das Kennwort wirklich komplex ist. </li></ol><br></li><li>  <b>AdditionalData</b> ?: any - zus√§tzliche Informationen, die bei Bedarf zusammen mit der Validierung √ºbertragen werden k√∂nnen.  Es kann sich um ein zus√§tzliches HTML-Markup oder einen bestimmten Stil handeln.  Im Allgemeinen k√∂nnen Sie alles in jedes setzen. </li></ul><br><br><h2>  Erweiterungen </h2><br>  Jede Magie basiert auf trivialen Dingen.  In diesem Fall muss <b>FormControl</b> in einem bestimmten Eingabefeld verkn√ºpft werden, damit die Fokuseinstellung funktioniert und √Ñnderungen aus den Feldern <b>abgerufen werden sollen</b> . <br>  Weil  <b>FormControl</b> schr√§nkt den Entwickler nicht auf die Art der validierten Daten ein, da aufgrund seiner Vielseitigkeit ein <b>gewisses Ma√ü</b> an Anwendbarkeit in Reaktionselementen geopfert werden musste. <br>  Gleichzeitig war es f√ºr die Eingabe und den Textbereich m√∂glich, einfache Funktionen f√ºr die Datenbindung an einem Element zu erstellen. F√ºr andere Komponenten muss der Prozessor nur minimale Anstrengungen unternehmen, um Daten zu ersetzen. <br><br>  F√ºr die Eingabe <b>sieht</b> die Bindung des Elements an <b>FormControl</b> (Name) folgenderma√üen aus. <br>  <b>&lt;input type = "text" {... InputFormControl.bindActions (controls.name)} /&gt;</b> <br>  F√ºr den Textbereich ist die Bindung wie folgt <br>  <b>&lt;textarea {... TextAreaFormControl.bindActions (controls.name)} /&gt;</b> <br><br>  <b>InputFormControl.bindActions</b> und <b>TextAreaFormControl.bindActions</b> akzeptieren zwei Parameter: <br><ul><li>  <b>formControl</b> : FormControl - eigentlich FormControl, das zum Binden verwendet wird.  Erforderlich. </li><li>  <b>Ereignisse</b> ?  - Ein optionaler Parameter mit einer Liste von Funktionen, die aufgerufen werden k√∂nnen, wenn Sie sie anpassen m√ºssen.   ,  <b>bindActions</b>  -   Element,   ,     element     <b>FormControl</b> -,   .    .         event.     . <br><ul><li> ref </li><li> onChange </li><li> onBlur </li><li> onFocus </li></ul><br></li></ul><br>      ,      <b>FormControl</b> -   . <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ) });</code> </pre> <br>       <i>this.userInfo.name</i> ,    <b>FormControl</b>    .                 <b>FormControl.for</b> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: FormControl.for(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo, <span class="hljs-string"><span class="hljs-string">'name'</span></span>, []) });</code> </pre> <br>   ,        name <i>name</i>  . ,     TypeScript,  <i>name</i> ,    .         <i>userInfo</i> ‚Äî    . <br><br>     ‚Äî   .  :) :) <br><br><h2>  </h2><br>     React   TypeScript   mobx. <br>       . <br> <i>npm install @quantumart/mobx-form-validation-kit</i> <br><br><div class="spoiler"> <b class="spoiler_title">  ,      </b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> : <br><br>   ,     <br> <i>npm init ‚Äìy <br> npm install --save-dev webpack webpack-cli <br> npm install --save react react-dom <br> npm install --save-dev @types/react @types/react-dom <br> npm install --save-dev typescript ts-loader source-map-loader</i> <br><br>  <i>tsconfig.json</i> <br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"compilerOptions"</span></span>: { <span class="hljs-string"><span class="hljs-string">"outDir"</span></span>: <span class="hljs-string"><span class="hljs-string">"./dist/"</span></span>, <span class="hljs-string"><span class="hljs-string">"sourceMap"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"noImplicitAny"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"module"</span></span>: <span class="hljs-string"><span class="hljs-string">"commonjs"</span></span>, <span class="hljs-string"><span class="hljs-string">"target"</span></span>: <span class="hljs-string"><span class="hljs-string">"es6"</span></span>, <span class="hljs-string"><span class="hljs-string">"jsx"</span></span>: <span class="hljs-string"><span class="hljs-string">"react"</span></span>, <span class="hljs-string"><span class="hljs-string">"experimentalDecorators"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"emitDecoratorMetadata"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }</code> </pre><br>     <br><ul><li> src\components\Hello.tsx </li><li> src\index.tsx </li><li> index.html </li><li> src\assets\global.scss </li></ul><br><br> src\components\ <i>Hello.tsx</i> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hello</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> Hello from TypeScript and React! </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre><br> src\ <i>index.tsx</i> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> ReactDOM <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react-dom"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Hello } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./components/Hello"</span></span>; ReactDOM.render( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Hello</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, document.getElementById("example") );</span></span></code> </pre> <br> <i>index.html</i> <br><pre> <code class="javascript hljs">&lt;!DOCTYPE html&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"UTF-8"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hello React!</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">title</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">head</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"example"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- Dependencies --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"./node_modules/react/umd/react.development.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"./node_modules/react-dom/umd/react-dom.development.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-comment"><span class="xml"><span class="hljs-comment">&lt;!-- Main --&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"./dist/main.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">body</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">html</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> src\assets\global.scss .row { display: inline; }</span></span></code> </pre> <br><br>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a> <br>   webpack-dev-server <br> <i>npm install --save-dev webpack-dev-server <br> npm install --save-dev awesome-typescript-loader <br> npm install --save-dev html-webpack-plugin <br></i> <br>   <i>webpack.config.js</i> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> HtmlWebpackPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'html-webpack-plugin'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-attr"><span class="hljs-attr">entry</span></span>: <span class="hljs-string"><span class="hljs-string">'./src/index.tsx'</span></span>, <span class="hljs-attr"><span class="hljs-attr">resolve</span></span>: { <span class="hljs-attr"><span class="hljs-attr">extensions</span></span>: [<span class="hljs-string"><span class="hljs-string">'.ts'</span></span>, <span class="hljs-string"><span class="hljs-string">'.tsx'</span></span>, <span class="hljs-string"><span class="hljs-string">'.js'</span></span>] }, <span class="hljs-attr"><span class="hljs-attr">output</span></span>: { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: path.join(__dirname, <span class="hljs-string"><span class="hljs-string">'/dist'</span></span>), <span class="hljs-attr"><span class="hljs-attr">filename</span></span>: <span class="hljs-string"><span class="hljs-string">'bundle.min.js'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">module</span></span>: { <span class="hljs-attr"><span class="hljs-attr">rules</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.tsx?$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'awesome-typescript-loader'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.(scss|css)?$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">use</span></span>: [ { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'style-loader'</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'css-loader'</span></span>, <span class="hljs-attr"><span class="hljs-attr">options</span></span>: { <span class="hljs-attr"><span class="hljs-attr">importLoaders</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, }, }, { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'sass-loader'</span></span>, <span class="hljs-attr"><span class="hljs-attr">options</span></span>: { <span class="hljs-attr"><span class="hljs-attr">sourceMap</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> } }, ], }, ] }, <span class="hljs-attr"><span class="hljs-attr">plugins</span></span>: [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HtmlWebpackPlugin({ <span class="hljs-attr"><span class="hljs-attr">template</span></span>: <span class="hljs-string"><span class="hljs-string">'./index.html'</span></span> }) ] }</code> </pre><br>   ,  mobx  React. <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"mobx"</span></span>: <span class="hljs-string"><span class="hljs-string">"4"</span></span>, <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.1.1"</span></span>,</code> </pre><br> C IE10   mobx,  4  ,        package.json. <br>    <br><pre> <code class="javascript hljs"> <span class="hljs-string"><span class="hljs-string">"style-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.23.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"css-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"node-sass"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.12.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"sass-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.1.0"</span></span></code> </pre><br>    <br> <i>npm install</i> <br><br>     ,     . <br> <i>npm install @quantumart/mobx-form-validation-kit</i> <br>      <br><img src="https://habrastorage.org/webt/et/ta/rp/ettarpotjc8felvv-fwwc9wyjiy.png"><br><br>  <i>package.json</i>   <br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"ttt"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"main"</span></span>: <span class="hljs-string"><span class="hljs-string">"index.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-string"><span class="hljs-string">"start"</span></span>: <span class="hljs-string"><span class="hljs-string">"webpack-dev-server --mode development --open"</span></span>, <span class="hljs-string"><span class="hljs-string">"test"</span></span>: <span class="hljs-string"><span class="hljs-string">"echo \"Error: no test specified\" &amp;&amp; exit 1"</span></span> }, <span class="hljs-string"><span class="hljs-string">"keywords"</span></span>: [], <span class="hljs-string"><span class="hljs-string">"author"</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-string"><span class="hljs-string">"devDependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"@types/react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.9.5"</span></span>, <span class="hljs-string"><span class="hljs-string">"@types/react-dom"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.9.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"awesome-typescript-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5.2.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"html-webpack-plugin"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.2.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"source-map-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.2.4"</span></span>, <span class="hljs-string"><span class="hljs-string">"ts-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.2.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"typescript"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.6.3"</span></span>, <span class="hljs-string"><span class="hljs-string">"webpack"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.41.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"webpack-cli"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.3.9"</span></span> }, <span class="hljs-string"><span class="hljs-string">"dependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.0.8"</span></span>, <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>: <span class="hljs-string"><span class="hljs-string">"4"</span></span>, <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^6.1.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.10.2"</span></span>, <span class="hljs-string"><span class="hljs-string">"react-dom"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.10.2"</span></span>, <span class="hljs-string"><span class="hljs-string">"webpack-dev-server"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.8.2"</span></span>, <span class="hljs-string"><span class="hljs-string">"style-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.23.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"css-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^3.1.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"node-sass"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.12.0"</span></span>, <span class="hljs-string"><span class="hljs-string">"sass-loader"</span></span>: <span class="hljs-string"><span class="hljs-string">"^7.1.0"</span></span> } }</code> </pre> <br>   <br> <i>npm run start</i> <br><br>        <br> <i>Hello from TypeScript and React!</i> <br></div></div><br><br>   <i>Hello</i>   .     <i>RegistrationStore</i>    <i>RegistrationStore.ts</i> <br> src\RegistrationStore.ts <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegistrationStore</span></span></span><span class="hljs-class"> </span></span>{ @observable public userInfo = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> }; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> registrationStore = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RegistrationStore();</code> </pre><br>    Hello.ts,  . <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { registrationStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../RegistrationStore"</span></span>; @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hello</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ private changeName = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event: React.ChangeEvent&lt;HTMLInputElement&gt;</span></span></span><span class="hljs-function">) =&gt;</span></span> { registrationStore.userInfo.name = event.target.value; }; render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;React.Fragment&gt; &lt;h1&gt;, {registrationStore.userInfo.name}&lt;/h1&gt; &lt;div className="row"&gt; &lt;span&gt;:&lt;/span&gt; &lt;input type="text" value={registrationStore.userInfo.name} onChange={this.changeName} /&gt; &lt;/div&gt; &lt;/React.Fragment&gt; ); } }</code> </pre><br>      ,  Store   Mobx.                 input. <br>     ,  .      ,       .     ¬´¬ª            .          ,       . <br>        <br> <i><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">@quantumart/mobx-form-validation-kit</a></b></i> <br><br>     -   . <br> stc/ErrorWraper.tsx <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { FormControl } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>; interface Props { <span class="hljs-attr"><span class="hljs-attr">formControl</span></span>: FormControl; } @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ErrorWraper</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Props</span></span></span><span class="hljs-class">&gt; </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {this.props.children} {this.props.formControl.errors.map(error =&gt; ( </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">key</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{error.message}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"error"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {error.message} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ))} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre> <br>     ,     -,   . <br><br>  Hello.tsx    . <br> - ‚Äî    changeName.      <i>{...InputFormControl.bindActions(controls.name)}</i> .            . <br> - ‚Äì     input,       input ,  ,  ,     . <br> - ‚Äì       <i>form</i>  <i>store</i> , ,  ,  componentWillUnmount  <i>registrationStore.form.dispose()</i> .     mobx    <b>FromControl</b>         . <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx-react"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { registrationStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../RegistrationStore"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ErrorWraper } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../ErrorWraper"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { InputFormControl } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>; @observer <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Hello</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(props: any) { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(props); registrationStore.initForm(); } componentWillUnmount() { registrationStore.form.dispose(); } render() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> controls = registrationStore.form.controls; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;React.Fragment&gt; &lt;h1&gt;, {registrationStore.userInfo.name}&lt;/h1&gt; &lt;div className="row"&gt; &lt;span&gt;:&lt;/span&gt; &lt;ErrorWraper formControl={controls.name}&gt; &lt;input type="text" {...InputFormControl.bindActions(controls.name)} /&gt; &lt;/ErrorWraper&gt; &lt;/div&gt; &lt;/React.Fragment&gt; ); } }</code> </pre><br>      RegistrationStore.ts. <br>    . <br>   ( )      userInfo,        form.         -    userInfo. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"mobx"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { FormControl, FormGroup, AbstractControls } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"@quantumart/mobx-form-validation-kit"</span></span>; interface IUserInfo extends AbstractControls { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: FormControl; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegistrationStore</span></span></span><span class="hljs-class"> </span></span>{ @observable public userInfo = { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">""</span></span> }; @observable public form: FormGroup&lt;IUserInfo&gt;; public initForm(): <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.form = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormGroup&lt;IUserInfo&gt;({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FormControl( <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name, [], v =&gt; (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.userInfo.name = v) ) }); } } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> registrationStore = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RegistrationStore();</code> </pre></li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de470537/">https://habr.com/ru/post/de470537/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de470519/index.html">Erleben Sie das Erstellen von Linux-Assemblys f√ºr Single-Board-Updates mit Unterst√ºtzung</a></li>
<li><a href="../de470525/index.html">Windows in einem Browser ohne Registrierung und SMS - √úbersicht √ºber HTML5-RDP-Clients</a></li>
<li><a href="../de470529/index.html">Wie wir ein Legacy-Projekt in GraphQL √ºbersetzt haben</a></li>
<li><a href="../de470531/index.html">Der Neurophysiologe diskutiert das Neuralink-Projekt und spricht √ºber die Arbeit des Gehirns ‚Äûan den Fingern‚Äú.</a></li>
<li><a href="../de470535/index.html">M√∂glichkeiten zum Erstellen von Balkendiagrammen mit Python</a></li>
<li><a href="../de470541/index.html">Grundlagen der Arbeit mit Neo4j in einem Browser</a></li>
<li><a href="../de470543/index.html">Wie wir das Infrastrukturmanagement auf Terraform setzen - und anfangen zu leben</a></li>
<li><a href="../de470547/index.html">Sellerie-Aufgaben: Neuer Dekorateur, neue Funktionen</a></li>
<li><a href="../de470549/index.html">TSMC hofft, Moores Gesetz f√ºr die kommenden Jahrzehnte befolgen zu k√∂nnen</a></li>
<li><a href="../de470553/index.html">Euler-Poisson-Integral. Details zu Berechnungsmethoden</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>