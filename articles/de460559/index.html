<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙍🏿 🚵 👧🏻 Die zehn Gebote der Reaktionskomponenten 🔬 💃🏾 🚘</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Geschrieben von Kristofer Selbekk in Zusammenarbeit mit Caroline Odden . Basierend auf einem Vortrag mit demselben Namen und denselben Personen beim R...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die zehn Gebote der Reaktionskomponenten</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460559/"><p><img src="https://habrastorage.org/getpro/habr/post_images/adf/1cf/5da/adf1cf5da0c04102046e8b6e8c12322e.jpg" alt="die-10-Komponenten-Gebote"></p><br><blockquote>  Geschrieben von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Kristofer Selbekk</a> in Zusammenarbeit mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Caroline Odden</a> .  Basierend auf einem Vortrag mit demselben Namen und denselben Personen beim ReactJS-Treffen in Oslo im Juni 2019. </blockquote><p>  <em>Vom Übersetzer - der ursprüngliche Name von <strong>The 10 Component Commandments</strong> erwähnt React nicht, aber die meisten Beispiele und Empfehlungen beziehen sich speziell auf die Reaktion. Außerdem ist der Artikel unter dem React-Tag angeordnet und die Entwickler haben die Reaktion geschrieben</em> . </p><br><p>  Es ist nicht einfach, Komponenten zu erstellen, die viele Entwickler verwenden werden.  Sie müssen sorgfältig überlegen, welche Requisiten verwendet werden sollen, wenn diese Requisiten Teil der öffentlichen API sind. </p><br><p> In diesem Artikel werden wir eine kurze Einführung in einige der Best Practices für die Entwicklung der API als Ganzes geben und <strong>zehn Gebote</strong> formulieren, mit denen Sie Komponenten erstellen können, die Ihre Mitentwickler gerne verwenden. </p><a name="habracut"></a><br><p><img src="https://habrastorage.org/getpro/habr/post_images/eb9/35b/750/eb935b750f7a08ad9116ecd5a115f81e.jpg" alt="api"></p><br><h2 id="chto-takoe-api">  Was ist eine API? </h2><br><p>  In einer API - oder Anwendungsprogrammierschnittstelle - treffen sich zwei Codeteile.  Dies ist die Kontaktfläche zwischen <em>Ihrem Code</em> und dem Rest der Welt.  Wir nennen diese Oberfläche eine Schnittstelle.  Dies ist ein bestimmter Satz von Aktionen oder Datenpunkten, mit denen Sie interagieren können. </p><br><p>  Die Schnittstelle zwischen der Klasse und dem Code, der diese Klasse aufruft, ist ebenfalls eine API.  Sie können die Methoden der Klasse aufrufen, um Daten zu empfangen, oder die darin enthaltenen Funktionen ausführen. </p><br><p>  Nach dem gleichen Prinzip, den <strong>Requisiten, die Ihre Komponente akzeptiert, ist dies ihre API</strong> .  Auf diese Weise interagieren Entwickler mit Ihrer Komponente. </p><br><h2 id="nekotorye-luchshie-praktiki-proektirovaniya-api">  Einige Best API Design Practices </h2><br><p>  Welche Regeln und Überlegungen gelten also bei der Entwicklung einer API?  Nun, wir haben ein wenig recherchiert und es stellte sich heraus, dass es zu diesem Thema viele großartige Ressourcen gibt.  Wir haben zwei ausgewählt - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Josh Tauberer</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">"Was macht eine gute API aus?"</a>  und ein Artikel von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Ron Kurir mit dem gleichen Titel</a> - und kam zu diesen vier Praktiken. </p><br><h3 id="stabilnye-versii">  Stabile Versionen </h3><br><p>  Eines der wichtigsten Dinge, die beim Erstellen einer API berücksichtigt werden müssen, ist, sie so stabil wie möglich zu halten.  Die Anzahl der kritischen Änderungen sollte minimal sein.  Wenn Sie wichtige Änderungen vornehmen müssen, schreiben Sie unbedingt detaillierte Update-Anleitungen und, wenn möglich, einen Mod-Code, der diesen Prozess für Entwickler automatisiert. </p><br><h3 id="opisatelnye-soobscheniya-ob-oshibkah">  Beschreibende Fehlermeldungen </h3><br><p>  Wenn beim Aufrufen Ihrer API ein Fehler auftritt, sollten Sie alles tun, um zu erklären, was schief gelaufen ist und wie Sie ihn beheben können.  Wenn Sie den Benutzer mit Nachrichten wie "Missbrauch" beschimpfen und keine Erklärung abgeben, hinterlässt Ihre API einen schlechten Eindruck. </p><br><p>  Schreiben Sie stattdessen beschreibende Fehler, die dem Benutzer helfen, die Verwendung Ihrer API zu korrigieren. </p><br><h3 id="minimizirovat-syurprizy-dlya-razrabotchikov">  Minimieren Sie Überraschungen für Entwickler </h3><br><p>  Entwickler sind fragile Kreaturen, und Sie sollten sie nicht erschrecken, wenn sie Ihre API verwenden.  Mit anderen Worten, machen Sie Ihre API so intuitiv wie möglich.  Sie erreichen dies, wenn Sie Best Practices und bestehende Namenskonventionen befolgen. </p><br><p> Außerdem sollte Ihr Code immer konsistent sein.  Wenn Sie die logischen Namen von Eigenschaften mit <code>is</code> oder <code>has</code> an einer Stelle verwenden, diese aber weiter überspringen, werden die Benutzer verwirrt. </p><br><h3 id="minimizirovat-poverhnost-api">  API-Oberfläche minimieren </h3><br><p>  Ihre API muss ebenfalls minimiert werden.  Viele Funktionen sind großartig, aber je kleiner die Oberfläche Ihrer API (API-Oberfläche) ist, desto weniger Entwickler müssen sie untersuchen, um produktiv damit arbeiten zu können.  Dank dessen wird Ihre API als benutzerfreundlich empfunden! </p><br><p>  Es gibt immer eine Möglichkeit, die Größe Ihrer APIs zu steuern.  Eine davon ist die Umgestaltung der neuen API von der alten. </p><br><h2 id="desyat-zapovedey-dlya-veb-komponentov">  Die zehn Gebote für Webkomponenten </h2><br><p><img src="https://habrastorage.org/getpro/habr/post_images/15e/2c7/33c/15e2c733cf1d3b5e5916c17692a6df5a.jpg" alt="Die 10 Komponentengebote"></p><br><p>  Diese vier goldenen Regeln funktionieren also gut für die REST-API und für die alten prozeduralen Teile von Pascal - aber wie können sie in die moderne Welt von React übertragen werden? </p><br><p>  Wie bereits erwähnt, haben Komponenten eine eigene API.  Wir nennen sie <code>props</code> , und mit ihrer Hilfe werden die Daten an die Komponenten übertragen.  Wie strukturieren wir Requisiten, um keine der oben genannten Regeln zu verletzen? </p><br><p>  Wir haben diese Liste mit <strong>zehn goldenen Regeln erstellt</strong> , die beim Erstellen Ihrer Komponenten am besten befolgt werden.  Wir hoffen, dass sie Ihnen nützlich sein werden. </p><br><h3 id="1-dokumentiruyte-ispolzovanie-komponentov">  1. Dokumentieren Sie die Verwendung von Komponenten </h3><br><p>  Wenn die Art und Weise, wie Sie Ihre Komponente verwenden möchten, nicht dokumentiert ist, ist diese Komponente unbrauchbar.  Nun, fast nutzlos, Sie können sich immer die Implementierung ansehen, aber nur wenige Leute tun dies gerne. </p><br><p>  Es gibt viele Möglichkeiten, Ihre Komponenten zu dokumentieren. Wir empfehlen jedoch, diese drei Punkte zu beachten: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Märchenbuch</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Styleguidist</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Docz</a> </li></ul><br><p>  Die ersten beiden geben Ihnen einen Arbeitsplatz bei der Entwicklung Ihrer Komponenten, und die dritte ermöglicht es Ihnen, Dokumentation in freier Form mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">MDX</a> zu schreiben </p><br><p>  Egal, für was Sie sich entscheiden, dokumentieren Sie immer sowohl die API selbst als auch <strong>wie und wann Ihre Komponenten verwendet werden sollen</strong> .  Der letzte Teil ist in Allzweckbibliotheken von entscheidender Bedeutung - damit Benutzer eine Schaltfläche oder ein Layoutraster in einem bestimmten Kontext korrekt verwenden können. </p><br><h3 id="2-razreshite-kontekstnuyu-semantiku">  2. Aktivieren Sie die kontextbezogene Semantik </h3><br><p>  HTML ist eine Sprache zur semantischen Strukturierung von Informationen.  Nur hier bestehen die meisten unserer Komponenten aus <code>&lt;div /&gt;</code> -Tags.  Dies ist sinnvoll - universelle Komponenten können nicht im Voraus wissen, wie sie aussehen werden, z. B. <code>&lt;article /&gt;</code> oder <code>&lt;section /&gt;</code> oder <code>&lt;aside /&gt;</code> -, aber diese Situation ist alles andere als ideal. </p><br><p>  Es gibt noch eine andere Option: Lassen Sie Ihre Komponenten prop <code>as</code> akzeptieren und bestimmen Sie dabei, welches DOM-Element gerendert wird.  Hier ist ein Beispiel für die Implementierung: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Grid</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ as: Element, ...props }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Element</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"grid"</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag">} /&gt;</span></span></span><span class="xml"> } Grid.defaultProps = { as: 'div', };</span></span></code> </pre> <br><p>  Wir benennen prop in Bezug auf die <code>Element</code> und verwenden es in unserer JSX.  Wir geben einen gemeinsamen Standard- <code>div</code> Wert an, wenn wir kein semantischeres HTML-Tag übergeben müssen. </p><br><p>  Wenn die Zeit gekommen ist, die <code>&lt;Grid /&gt;</code> -Komponente zu verwenden, können Sie einfach das richtige Tag übergeben: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"main"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">MoreContent</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); }</code> </pre> <br><p>  Dies funktioniert auch mit React-Komponenten.  Wenn Sie beispielsweise möchten, dass die Komponente <code>&lt;Button /&gt;</code> den React Router <code>&lt;Link /&gt;</code> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{Link}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">to</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/profile"</span></span></span><span class="hljs-tag">&gt;</span></span> Go to Profile <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3 id="3-izbegayte-logicheskih-boolean-propsov">  3. Vermeiden Sie boolesche Requisiten </h3><br><p>  Logische Requisiten sind eine gute Idee.  Sie können ohne Wert verwendet werden, daher sieht es sehr elegant aus: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">large</span></span></span><span class="hljs-tag">&gt;</span></span>BUY NOW!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Obwohl es gut aussieht, lassen logische Eigenschaften nur zwei Möglichkeiten zu.  Ein oder Aus  Sichtbar oder versteckt.  1 oder 0. </p><br><p>  Wann immer Sie anfangen, logische Eigenschaften für Dinge wie Größe, Optionen, Farben oder irgendetwas anderes einzuführen, das etwas anderes als eine binäre Auswahl sein kann, haben Sie Probleme. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">large</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">small</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">primary</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">secondary</span></span></span><span class="hljs-tag">&gt;</span></span>   ?? <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Mit anderen Worten, logische Eigenschaften lassen sich häufig nicht mit sich ändernden Anforderungen skalieren.  Stattdessen ist es für Werte, die möglicherweise etwas anderes als eine binäre Auswahl sind, besser, aufgezählte Werte wie Zeichenfolgen zu verwenden. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">variant</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"primary"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">size</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"large"</span></span></span><span class="hljs-tag">&gt;</span></span>     <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Dies bedeutet nicht, dass logische Eigenschaften überhaupt nicht verwendet werden können.  Sie können!  Die oben aufgeführte <code>disabled</code> Requisite sollte immer noch logisch sein - da zwischen Ein und Aus kein mittlerer Zustand besteht.  Lassen Sie einfach die booleschen Eigenschaften nur für eine wirklich binäre Auswahl. </p><br><h3 id="4-ispolzuyte-propschildren">  4. Verwenden Sie <code>props.children</code> </h3><br><p>  React hat einige spezielle Eigenschaften, die anders behandelt werden als andere.  Einer dieser <code>key</code> wird benötigt, um die Reihenfolge der Listenelemente zu verfolgen.  Und eine andere solche besondere Requisite sind <code>children</code> . </p><br><p>  Alles, was Sie zwischen das öffnende und das schließende Tag der Komponente setzen, befindet sich in der <code>props.children</code> .  Und Sie sollten dies so oft wie möglich verwenden. </p><br><p>  Warum?  Weil es viel einfacher ist, Requisiteninhalte für Inhalte oder ähnliches zu haben, die normalerweise nur einfache Werte wie Text annehmen. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Some text"</span></span></span><span class="hljs-tag"> /&gt;</span></span> //  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span>Some text<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Die Verwendung von <code>props.children</code> bietet mehrere Vorteile.  Erstens ähnelt dies der Funktionsweise von normalem HTML.  Zweitens können Sie frei übertragen, was Sie wollen!  Anstatt Ihrer Komponente Requisiten wie <code>leftIcon</code> und <code>rightIcon</code> , übergeben Sie sie einfach als Teil der <code>props.children</code> : </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ImportantIcon</span></span></span><span class="hljs-tag"> /&gt;</span></span> Some text <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TableCell</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Sie können argumentieren, dass Ihre Komponente nur einfachen Text rendern muss, und in einigen Fällen ist dies der Fall.  Bis irgendwann.  Mit <code>props.children</code> garantieren Sie, dass Ihre API für sich ändernde Anforderungen bereit ist. </p><br><h3 id="5-pozvolte-roditelyu-ceplyatsya-za-vnutrennyuyu-logiku">  5. Lassen Sie den Elternteil an der internen Logik festhalten </h3><br><p>  Manchmal erstellen wir Komponenten mit viel interner Logik und Zuständen - zum Beispiel Autocomplete oder interaktive Diagramme. </p><br><p>  Solche Komponenten leiden häufig unter übermäßigen APIs. Einer der Gründe dafür ist die große Anzahl unterschiedlicher Anwendungsfälle, die sich bei der Entwicklung des Projekts ansammeln. </p><br><p>  Aber was wäre, wenn wir nur eine einzige standardisierte Requisite bereitstellen könnten, mit der der Entwickler das Standardverhalten der Komponente steuern, darauf reagieren oder einfach ändern kann? </p><br><p>  Kent Dodds schrieb einen ausgezeichneten Artikel über das Konzept der staatlichen Reduzierungen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Hier ist ein Artikel über das Konzept selbst</a> und hier ist ein Artikel darüber, wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">dies für React-Hooks implementiert wird</a> . </p><br><p>  Kurz gesagt, dies ist ein Funktionsübertragungsmuster für die Statusreduzierung auf Ihre Komponente, mit dem der Entwickler auf alle in Ihrer Komponente ausgeführten Aktionen zugreifen kann.  Sie können den Zustand ändern oder sogar Nebenwirkungen verursachen.  Dies ist eine großartige Möglichkeit, ein <strong>hohes Maß an Anpassung ohne Requisiten</strong> bereitzustellen. </p><br><p>  So könnte es aussehen: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyCustomDropdown</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> stateReducer = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state, action</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (action.type === Dropdown.actions.CLOSE) { buttonRef.current.focus(); } }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( &lt;&gt; &lt;Dropdown stateReducer={stateReducer} {...props} /&gt; &lt;Button ref={buttonRef}&gt;Open&lt;/Button&gt; &lt;/&gt; }</code> </pre> <br><p>  Übrigens können Sie einfachere Möglichkeiten erstellen, um auf Ereignisse zu reagieren.  Die Verwendung der <code>onClose</code> im vorherigen Beispiel erleichtert wahrscheinlich die Verwendung der Komponente.  Verwenden Sie bei Bedarf das Muster "Zustandsreduzierer". </p><br><h3 id="6-ispolzuyte-operator-troetochie-spread-dlya-ostavshihsya-propsov">  6. Verwenden Sie den Spread-Operator für die restlichen Requisiten </h3><br><p>  Stellen Sie bei jedem Erstellen einer neuen Komponente sicher, dass Sie die Auslassungspunkte auf die verbleibenden Requisiten anwenden und sie an das Element senden, für das dies sinnvoll ist. </p><br><p>  Sie müssen Ihrer Komponente keine Requisiten mehr hinzufügen, die einfach an die Basiskomponente oder das Basiselement übergeben werden.  Dadurch wird Ihre API stabiler, da viele kleine Versionsfehler nicht mehr erforderlich sind, wenn der nächste Entwickler einen neuen Ereignis-Listener oder ein neues ARIA-Tag benötigt. </p><br><p>  Sie können es so machen: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToolTip</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ isVisible, ...rest }</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> isVisible ? <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">role</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"tooltip"</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...rest</span></span></span></span><span class="xml"><span class="hljs-tag">} /&gt;</span></span></span><span class="xml"> : null; }</span></span></code> </pre> <br><p>  <code>onClick</code> sicher, dass ein anderer Entwickler dasselbe tun kann, wenn Ihre Komponente Requisiten an Ihre Implementierung übergibt, z. B. einen Klassennamen oder einen <code>onClick</code> Handler.  Im Fall einer Klasse können Sie die Requisitenklasse einfach mithilfe der praktischen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">npm-Klassennamenbibliothek</a> (oder nur der Verkettung von Zeichenfolgen) hinzufügen: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> classNames <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'classnames'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToolTip</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">span</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag">} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{classNames(</span></span></span></span><span class="xml"><span class="hljs-tag">'</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">tooltip</span></span></span></span><span class="xml"><span class="hljs-tag">', </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">props.tooltip</span></span></span></span><span class="xml"><span class="hljs-tag">)} /&gt;</span></span></span><span class="xml"> }</span></span></code> </pre> <br><p>  Bei Klick-Handlern und anderen Rückrufen können Sie diese mit einem kleinen Dienstprogramm zu einer Funktion kombinieren.  Hier ist eine Möglichkeit, dies zu tun: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">combine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...functions</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...args</span></span></span><span class="hljs-function">) =&gt;</span></span> functions .filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">func</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> func === <span class="hljs-string"><span class="hljs-string">'function'</span></span>) .forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">func</span></span></span><span class="hljs-function"> =&gt;</span></span> func(...args)); }</code> </pre> <br><p>  Hier erstellen wir eine Funktion, die eine Liste von Funktionen zum Kombinieren akzeptiert.  Es wird ein neuer Rückruf zurückgegeben, der alle nacheinander mit denselben Argumenten aufruft. </p><br><p>  Diese Funktion kann folgendermaßen verwendet werden: </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ToolTip</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [isVisible, setVisible] = React.useState(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;span {...props} className={classNames(</span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">'tooltip'</span></span></span></span><span class="hljs-function"><span class="hljs-params">, props.className</span></span></span><span class="hljs-function">)} </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">onMouseIn</span></span></span><span class="hljs-function">={</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">combine</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span></span><span class="hljs-function">) =&gt;</span></span> setVisible(<span class="hljs-literal"><span class="hljs-literal">true</span></span>), props.onMouseIn)} onMouseOut={combine(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> setVisible(<span class="hljs-literal"><span class="hljs-literal">false</span></span>), props.onMouseOut)} /&gt; ); }</code> </pre> <br><h3 id="7-ispolzuyte-znacheniya-po-umolchaniyu">  7. Verwenden Sie die Standardwerte </h3><br><p>  Stellen Sie sicher, dass Sie Ihren Requisiten genügend Standardeinstellungen (Standardeinstellungen) geben.  Auf diese Weise reduzieren Sie die Anzahl der obligatorischen Requisiten.  Dies vereinfacht Ihre API erheblich. </p><br><p>  Nehmen Sie zum Beispiel den <code>onClick</code> Handler.  Wenn Ihr Code diesen Handler nicht benötigt, verwenden Sie die leere Funktion (Noop-Funktion) als Standard-Requisite.  Auf diese Weise können Sie es in Ihrem Code so aufrufen, als ob es immer übergeben wurde. </p><br><p>  Ein anderes Beispiel könnte für Benutzereingaben sein.  Angenommen, die Eingabezeichenfolge ist eine leere Zeichenfolge, sofern nicht anders angegeben.  Auf diese Weise können Sie sicherstellen, dass Sie immer mit einem Zeichenfolgenobjekt arbeiten, nicht mit etwas Undefiniertem oder Nullem. </p><br><h3 id="8-ne-nado-pereimenovyvat-atributy-html">  8. HTML-Attribute müssen nicht umbenannt werden </h3><br><p>  HTML als Sprache hat seine eigenen Requisiten oder Attribute und ist selbst eine API für HTML-Elemente.  Warum also nicht diese API weiter verwenden? </p><br><p>  Wie bereits erwähnt, sind die Minimierung der API-Oberfläche und ihre Intuitivität nützliche Methoden zur Verbesserung der API Ihrer Komponenten.  Verwenden Sie also nicht einfach ein vorhandenes <code>aria-label</code> anstatt Ihre eigene <code>screenReaderLabel</code> Requisite zu erstellen. </p><br><p>  <strong>Vermeiden Sie es, vorhandene HTML-Attribute</strong> für Ihre eigene "Benutzerfreundlichkeit" umzubenennen.  Sie ersetzen nicht einmal die vorhandene API - Sie fügen einfach Ihre eigene hinzu.  Die Leute können das <code>aria-label</code> zusammen mit Ihrer screenReaderLabel- <code>screenReaderLabel</code> - und was sollte dann der endgültige Wert sein? </p><br><p>  Stellen Sie außerdem sicher, dass Sie HTML-Attribute in Ihren Komponenten niemals überschreiben.  Ein gutes Beispiel ist das <code>type</code> Attribut des <code>&lt;button /&gt;</code> -Elements.  Es kann <code>submit</code> (Standard), <code>button</code> oder <code>reset</code> .  Viele Entwickler definieren diese Requisite jedoch neu, um den visuellen Typ der Schaltfläche ( <code>primary</code> , <code>cta</code> usw.) zu <code>cta</code> . </p><br><p>  Wenn Sie eine solche Requisite verwenden, müssen Sie eine Überschreibung für das Attribut true <code>type</code> hinzufügen.  Dies führt zu Verwirrung, Zweifel und Ärger seitens der Entwickler. </p><br><p>  Glauben Sie mir - ich habe diesen Fehler immer wieder gemacht - wenn Sie ihn machen, müssen Sie ihn für eine lange Zeit entwirren. </p><br><h3 id="9-pishite-tipy-propsov-ili-prosto-tipy">  9. Schreiben Sie die Arten von Requisiten (oder nur Typen) </h3><br><p>  Keine Dokumentation ist so gut wie die Dokumentation in Ihrem Code.  React bietet eine hervorragende Möglichkeit, Ihre APIs mithilfe des <code>prop-types</code> Pakets zu deklarieren.  Verwenden Sie es. </p><br><p>  Sie können beliebige Formatanforderungen für Ihre obligatorischen und optionalen Requisiten festlegen und diese mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">JSDoc-Kommentaren</a> verbessern. </p><br><p>  Wenn Sie keine obligatorischen Requisiten angeben oder keinen ungültigen oder unerwarteten Wert übergeben, erhalten Sie zur Laufzeit eine Warnung in der Konsole.  Dies hilft sehr bei der Entwicklung und kann aus der Produktion entfernt werden. </p><br><p>  Wenn Sie Ihre React-Anwendungen in TypeScript schreiben oder Flow verwenden, erhalten Sie die API-Dokumentation als Sprachfunktion.  Dies verbessert die Unterstützung der Entwicklungstools weiter und vereinfacht die Arbeit. </p><br><p>  Wenn Sie selbst kein typisiertes JavaScript verwenden, sollten Sie dennoch in Betracht ziehen, den Entwicklern, die es verwenden, Typdefinitionen bereitzustellen.  Dann ist es für sie viel einfacher, Ihre Komponenten zu verwenden. </p><br><h3 id="10-proektiruyte-dlya-razrabotchikov">  10. Design für Entwickler </h3><br><p>  Schließlich die wichtigste Regel zu befolgen.  Stellen Sie sicher, dass Ihre API und die Arbeit mit Ihren Komponenten für Entwickler optimiert sind, die sie verwenden. </p><br><p>  Eine Möglichkeit, die Arbeit eines Entwicklers zu vereinfachen, besteht darin, ihm Feedback zu unangemessener Verwendung zu geben.  Tun Sie dies mit Fehlermeldungen und auch, aber nur während der Entwicklung, mit Warnungen, dass es effizientere Möglichkeiten gibt, Ihre Komponente zu verwenden. </p><br><p>  Geben Sie beim Schreiben von Fehlern und Warnungen Links zu Ihrer Dokumentation an oder zeigen Sie einfache Codebeispiele.  Je schneller der Entwickler versteht, wo das Problem liegt und wie es behoben werden kann, desto komfortabler fühlt sich Ihre Komponente für die Arbeit an. </p><br><p>  Unglaublich, aber wie sich herausstellte, hat das Vorhandensein all dieser langen Fehlerwarnungen keinen Einfluss auf die Größe des endgültigen Pakets.  Dank der Wunder, toten Code zu eliminieren, können all dieser Text und Fehlercode während der Montage in der Produktion entfernt werden. </p><br><p>  Eine der Bibliotheken, die unglaublich gutes Feedback gibt, ist React selbst.  Es spielt keine Rolle, ob Sie vergessen haben, den Schlüssel für die Listenelemente anzugeben, die Lebenszyklusmethode falsch geschrieben haben oder die Basisklasse erweitert oder den Hook auf unsichere Weise aufgerufen haben. In jedem Fall werden in der Konsole große Fehlermeldungen angezeigt.  Warum sollten Entwickler, die Ihre Komponenten verwenden, weniger von Ihnen erwarten? </p><br><p>  Entwerfen Sie also für Ihre zukünftigen Benutzer.  Entwerfen Sie selbst aus der Zukunft.  Entwerfen Sie für die Unglücklichen, die Ihren Code pflegen müssen, wenn Sie gehen!  Design für Entwickler. </p><br><h3 id="itogo">  Insgesamt </h3><br><p>  Wir können viel vom klassischen API-Ansatz lernen.  Befolgen Sie die Tipps, Tricks, Regeln und Gebote dieses Artikels, um Komponenten zu erstellen, die einfach zu verwenden, leicht zu warten, intuitiv und bei Bedarf sehr flexibel sind. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de460559/">https://habr.com/ru/post/de460559/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de460543/index.html">Neue Zertifizierungen für Entwickler von Cisco. Branchenzertifizierungsübersicht</a></li>
<li><a href="../de460547/index.html">Antiquitäten: Psion 5MX und Leben im Ruhestand</a></li>
<li><a href="../de460551/index.html">Portugal Die besten Strände und tausend Startups pro Jahr</a></li>
<li><a href="../de460555/index.html">Bericht vom PyDaCon-Treffen bei der Mail.ru Group am 22. Juni</a></li>
<li><a href="../de460557/index.html">Eine Auswahl von Arbeitsbeispielen zur Datenverarbeitung</a></li>
<li><a href="../de460561/index.html">So entwickeln Sie mit Unity einen weiteren Plattformer. Ein weiteres Tutorial, Teil 2</a></li>
<li><a href="../de460565/index.html">Kämpfe um das Konto. Der Gründer von Jeffrey's Coffee Network verklagt VKontakte</a></li>
<li><a href="../de460567/index.html">Native reagieren: Erstellen Sie eine ziehbare und wischbare Liste</a></li>
<li><a href="../de460569/index.html">Schreiben von Software mit der Funktionalität von Client-Server-Dienstprogrammen Windows, Teil 01</a></li>
<li><a href="../de460573/index.html">Google gibt an, dass "reCAPTCHA" keine Benutzerdaten missbraucht. Lohnt es sich zu glauben?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>