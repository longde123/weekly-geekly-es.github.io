<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â™“ï¸ ğŸ‘©ğŸ¾â€ğŸ¤â€ğŸ‘©ğŸ» âœğŸ½ Mesin Kubus Rubik berbasis FAC ğŸ‘¨ğŸ½â€ğŸŒ¾ ğŸ‘©ğŸ»â€ğŸ¤ ğŸ‘˜</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Belum lama berselang, bersama Wilbert Swinkels, kami selesai mengerjakan mesin yang mengumpulkan Rubik's Cube. Mereka menulis tentang kami di blog res...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mesin Kubus Rubik berbasis FAC</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/384503/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Belum lama berselang, bersama </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wilbert Swinkels, kami</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> selesai mengerjakan mesin yang mengumpulkan Rubik's Cube. </font><font style="vertical-align: inherit;">Mereka </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menulis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tentang kami </font><font style="vertical-align: inherit;">di blog resmi Raspberry Pi dan kami menerima banyak sambutan hangat. </font><font style="vertical-align: inherit;">Namun demikian, di segmen jaringan Rusia, proyek itu entah bagaimana tidak diketahui. </font><font style="vertical-align: inherit;">Jadi saya memutuskan untuk memperbaiki kelalaian ini dengan memposting di sini versi terjemahan dan augmented dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">posting asli</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.youtube.com/embed/vpAKfSYueMI%3Ffeature%3Doembed&amp;usg=ALkJrhhSppCvLs8_uiEE24MT_iU8-5k88g" frameborder="0" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di bawah potongan, kita akan berbicara (terutama) tentang bagian perangkat lunak dari mesin ini, bagian mekanis dapat ditemukan di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">halaman resmi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> proyek (ya, kita tahu bahwa itu sedikit "sekolah tua")</font></font><br>
<a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TL; DR</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk yang tidak sabar, beberapa tautan:</font></font><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Halaman proyek resmi</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementasi dari algoritma dua fase Kotsemba (Python dan C)</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Karya-karya lain dari Wilbert</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Situs web Wilbert FAC</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Situs resmi sistem FAC</font></font></a></li>
</ul><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pengantar</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semuanya dimulai dengan fakta bahwa pada bulan Mei tahun ini, saya secara tidak sengaja bertemu dengan Wilbert Swinkels. Saya sangat terkejut ketika melihat </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ciptaannya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : masing-masing mekanisme ini, dari kecil hingga besar, dapat dengan aman disebut sebagai karya seni. Dan semakin dekat Anda melihat perangkat mereka, semakin Anda dikejutkan oleh kecantikan mereka. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentu saja, ketika Wilbert mengundang saya untuk membantunya dengan Mesin Perakitan Kubus Rubik, saya tidak ragu untuk sesaat, terutama karena pada saat itu saya sudah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menemukan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hasrat untuk kubus berwarna. Pada saat itu, dia sudah mengerjakan mesin lebih dari 4 (!) Tahun, tetapi bagian perangkat lunaknya masih harus ditulis.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak punya pengalaman dengan pemrograman untuk Raspberry Pi dan Arduino, tetapi secara keseluruhan tugas itu tampak cukup sederhana bagi saya. </font><font style="vertical-align: inherit;">Tentu saja saya salah :)</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perangkat keras</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mesin itu sendiri dibangun menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sistem FAC modular</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ini adalah sesuatu seperti perancang Soviet, tetapi diciptakan untuk membuat prototipe mekanisme yang serius dan kompleks. </font><font style="vertical-align: inherit;">Pada paruh kedua abad terakhir, itu sangat aktif digunakan di laboratorium Philips dan perusahaan dan universitas lain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada saat saya bertemu Wilbert, dia sudah mencoba dua kali untuk "menghidupkan kembali" mobil. </font><font style="vertical-align: inherit;">Kedua kali, mahasiswa dari Universitas Amsterdam menangani kasus ini, dan, sayangnya, kedua kali mereka kehilangan minat pada proyek setelah beberapa upaya yang gagal. </font><font style="vertical-align: inherit;">Salah satu dari mereka bahkan membela ijazah sarjana tentang topik ini, terlepas dari kenyataan bahwa sebagai akibatnya mesin tidak dapat mengumpulkan kubus (angkat tangan Anda kepada mereka yang mengenali diri mereka di sini).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikrokontroler</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama-tama, kami memutuskan untuk menggunakan Raspberry Pi, bukan Arduino. </font><font style="vertical-align: inherit;">Hal ini terutama disebabkan oleh fakta bahwa algoritma "pintar" untuk menyelesaikan Rubik's Cube memerlukan sejumlah besar memori dan daya prosesor. </font><font style="vertical-align: inherit;">Dalam upaya sebelumnya, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritma tiga lapis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> primitif </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">digunakan</font></a><font style="vertical-align: inherit;"> , tetapi kali ini kami memutuskan untuk menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritma Kotsemba</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Selain itu, saya tidak benar-benar ingin menulis semuanya dalam C (walaupun sebagian saya harus). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/53b/142/5d4/53b1425d42fca6feb8f98819c3f4ff39.jpg" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam versi standar Raspberry Pi, kami tidak memiliki cukup pin untuk menghubungkan semua motor yang tersedia, jadi kami memesan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kit Pengembangan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">By the way, saya sangat menyarankan: tidak hanya lebih banyak pin, tetapi mereka, menurut pendapat saya, lebih logis terpisah. </font><font style="vertical-align: inherit;">Selain itu, board ini memiliki dua konektor untuk kamera, bukan satu.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versi pertama dari pemindai</font></font></h3><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/465/d0e/05d/465d0e05d87cd5c11a732f3d448ac6b4.jpg" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk membaca konfigurasi awal kubus, diperlukan perangkat pemindaian. Idenya sangat sederhana: pada gilirannya, kita menerangi permukaan kubus dengan tiga LED: merah, hijau dan biru. Setiap kali kita mengukur cahaya yang dipantulkan menggunakan resistor fotosensitif. Secara teoritis, kita harus mendapatkan nilai RGB yang dapat digunakan untuk mengenali warna kotak. Dari programmer sebelumnya, kami masih memiliki kode proof-of-concept untuk Arduino, yang tampaknya, bahkan berfungsi dalam kondisi tertentu.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masalah pertama yang kami temui adalah ketidakcocokan tegangan. Seperti yang Anda ketahui, unit logis pada pin Arduino adalah 5V, sedangkan Raspberry Pi adalah 3.3V. Untungnya, pengendali driver motor stepper yang kami gunakan terus bekerja meskipun mengubah amplitudo pulsa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ternyata jauh lebih penting bahwa Raspberry Pi tidak memiliki input analog. Karena itu, Raspberry tidak dapat dengan mudah mengambil dan membaca tegangan pada photoresistor. Ini mungkin jelas bagi mereka yang setidaknya pernah menemukan ini, tetapi pada awalnya saya bahkan tidak memikirkannya. Mencari solusi di internet, kami menemukan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Singkatnya, kami menambahkan kapasitor ke sirkuit, dan mengukur waktu selama itu akan diisi dari nol ke unit logis (kami dapat mendeteksi ini menggunakan pin digital). </font><font style="vertical-align: inherit;">Waktu pengisian akan sebanding dengan resistansi photoresistor, sehingga kita dapat menilai jumlah cahaya. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/40a/8d9/d2b/40a8d9d2b30365e9e4fd4c3cf3615798.jpg" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendekatan ini tidak hanya sangat tidak dapat diandalkan (meluangkan waktu dalam skrip Python Python di Linux dengan banyak proses latar belakang adalah hal yang tidak berterima kasih), tetapi juga tidak mungkin lama. </font><font style="vertical-align: inherit;">Untuk memuluskan penyimpangan acak dalam bacaan, kami harus membaca beberapa kali, menyingkirkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">outlier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan rata-rata nilai yang tersisa. </font><font style="vertical-align: inherit;">Namun, kami masih berhasil membuat pemindai ini berfungsi:</font></font><br>
<br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://www.youtube.com/embed/z4iJ0hNQulo%3Ffeature%3Doembed&amp;usg=ALkJrhjaXumNMgKBnx8mJ2Uk0420K6b_yQ" frameborder="0" allowfullscreen=""></iframe><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versi pemindai kedua (final)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pemindai kapasitor bekerja cukup baik, tetapi sangat lambat. Butuh waktu sekitar dua menit untuk memindai seluruh Rubik's Cube, dan pada saat pemindaian selesai, pemirsa telah kehilangan minat. Oleh karena itu, kami memutuskan untuk kembali ke Arduino dan membeli Arduino Mini kecil khusus untuk mengendalikan pemindai. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/21a/9e5/775/21a9e5775f5e15affb6792ae5f67b984.jpg" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Membuat teman Arduino dengan Raspberry Pi ternyata sangat sederhana: dua kabel, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">konverter tegangan di</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> antara mereka, dan voila - kami memiliki antarmuka Serial. Dan jika Anda mengacaukan protokol </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Min</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sederhana </font><font style="vertical-align: inherit;">, maka memprogram bisnis ini adalah kesenangan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya memindahkan semua logika kontrol pemindai ke Arduino. </font><font style="vertical-align: inherit;">Kecepatan pemindaian telah meningkat secara signifikan. </font><font style="vertical-align: inherit;">Berkat input analog, kita dapat membaca voltase langsung dari fotoresistor, dan nilai-nilai ini sangat akurat. </font><font style="vertical-align: inherit;">Selain itu, karena Arduino dipasang langsung pada pemindai, kita membutuhkan lebih sedikit kabel dari pemindai ke Raspberry Pi!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membangun algoritma</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Merakit Rubik's Cube dari sudut pandang matematika adalah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tugas yang</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> agak </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">melelahkan</font></a><font style="vertical-align: inherit;"> . Tentu saja, kita berbicara tentang menemukan solusi optimal, dan bukan "beberapa". Saya terkejut ketika saya menemukan bahwa jumlah Tuhan (batas bawah yang tepat untuk jumlah langkah yang diperlukan untuk menyelesaikan kubus yang berubah-ubah) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ditemukan hanya pada tahun 2010</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam proyek ini, kami ingin mengurangi total waktu yang diperlukan untuk menghitung solusi dan perakitan, oleh karena itu baik </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritma tiga lapis yang sederhana tidak</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mendekati kami </font><font style="vertical-align: inherit;">(ia bekerja dengan cepat, tetapi memberikan solusi yang seratus langkah panjang), atau </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritma yang optimal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (solusi yang singkat, tetapi proses rendering pada Raspberry Pi akan butuh selamanya). Sebagai hasilnya, kami menetapkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritma "dua fase" yang luar biasa</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matematikawan Jerman, Herbert Kociemba. Dia mampu mengeluarkan keputusan suboptimal (rata-rata 20 gerakan), sambil menjaga dalam waktu yang wajar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di situs penulis Anda dapat menemukan implementasi algoritma di Jawa. Hal pertama yang saya lakukan adalah menerjemahkan kode ini ke dalam Python. Itu sama sekali tidak sulit, karena sebagian besar program adalah operasi matematika dan enumerasi opsi. Namun, saya tidak memperhitungkan bahwa algoritma ini </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">benar</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><i><b><font style="vertical-align: inherit;">benar</font></b></i><font style="vertical-align: inherit;"> membutuhkan </font><i><b><font style="vertical-align: inherit;">banyak</font></b></i><font style="vertical-align: inherit;"> sumber daya. Menemukan solusi pada peluncuran pertama butuh lebih dari satu menit (!) Di laptop saya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di bawah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pypy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan JIT diaktifkan, solusi membutuhkan waktu 1 detik pada laptop, tetapi pada Raspberry Pi masih membutuhkan waktu sekitar satu menit. </font><font style="vertical-align: inherit;">Setelah beberapa upaya untuk mempercepat kerja program Python (numpy, multiprocessing), saya memutuskan untuk menulis ulang algoritme menjadi C. Namun demikian, solusinya sekarang membutuhkan waktu 1-2 detik, bahkan untuk Raspberry. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya memposting kedua implementasi algoritma di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kontrol mesin</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Langkah selanjutnya adalah menulis program yang akan mengontrol bagian mekanis: memindahkan motor, dengan mempertimbangkan rasio roda gigi dan batasan mekanisme (misalnya, pemegang samping hanya dapat diputar ketika bagian bawah berada pada posisi tertentu, jika tidak maka akan mengganggu). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/b89/c9b/3e0/b89c9b3e0780fae3e7dd5b28a8aa209d.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain program utama, saya membuat shell interaktif yang menghemat banyak waktu saat debugging. </font><font style="vertical-align: inherit;">Secara umum, bagian ini tidak biasa dalam hal pemrograman. </font><font style="vertical-align: inherit;">Untuk men-debug pemindaian, saya membuat hasilnya sebagai gambar.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pindai dan pengenalan warna</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hingga saat ini, semuanya menarik, tetapi tidak sulit. </font><font style="vertical-align: inherit;">Dua minggu setelah dimulainya pekerjaan, mesin sudah bisa mengumpulkan kubus dari keadaan tertentu. </font><font style="vertical-align: inherit;">Tinggal mempelajari cara membaca konfigurasi awal kubus menggunakan pemindai. </font><font style="vertical-align: inherit;">Kami sudah memiliki program "bekerja" untuk Arduino, jadi kami tidak mengharapkan kejutan apa pun. </font><font style="vertical-align: inherit;">Namun, bagian dari proyek ini ternyata yang paling sulit, dan kami butuh 2 bulan kerja lagi.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indikasi Fotoresistor</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang saya tulis di atas, kami mulai dengan rangkaian pemindai dengan kapasitor. Kesalahan pendekatan ini mengerikan, jadi untuk mendapatkan nilai yang dapat digunakan, saya harus melakukan pengukuran beberapa kali, dan kemudian membuang emisi. Setelah itu, kami mendapatkan sesuatu seperti ini (ini adalah hasil pemindaian kubus yang dirakit di ruangan gelap): </font></font><br>
<br>
<img src="https://habrastorage.org/files/d0d/0eb/467/d0d0eb4676f54a8c9319882658278664.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, hasilnya jauh dari ideal. Pertama, nilai-nilai untuk warna yang sama berbeda di posisi yang berbeda, karena fotoresistor dan LED â€œmelihatâ€ ke arah yang sedikit berbeda. Kedua, beberapa warna sangat dekat satu sama lain dalam ruang warna, dan kadang-kadang rentang nilai tumpang tindih (misalnya, oranye dan merah terkadang memberikan nilai yang sama). Dan akhirnya, bacaan sangat tergantung pada pencahayaan eksternal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara visual, kesalahan pemindai pada kapasitor dapat dilihat pada diagram berikut (secara umum, ada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versi interaktif di sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ): </font></font><br>
<br>
<img src="https://habrastorage.org/files/8a6/489/4fd/8a64894fd9a249a1a297ac2743930120.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Melihat ke belakang, saya bertanya-tanya bagaimana kami berhasil membuat pemindaian bekerja dengan hasil seperti itu, meskipun ini membutuhkan kalibrasi nilai-nilai yang dipermasalahkan dengan cermat dan rumit. akan sedikit lebih rendah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang saya katakan, pemindai kapasitor berfungsi, tetapi sangat lambat. </font><font style="vertical-align: inherit;">Ketika kami menggantinya dengan yang lain, dengan Arduino bawaan, bacaan menjadi jauh lebih â€œramaiâ€ ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">versi interaktif ada di sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br>
<br>
<img src="https://habrastorage.org/files/c6e/0a8/8b5/c6e0a88b595747aa87ef2c35bdf634fe.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kalibrasi dan pengelompokan bacaan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kami memiliki pembacaan RGB mentah dari fotoresistor, kami harus mengidentifikasi warna sendiri untuk memberi makan konfigurasi kubus ke algoritma build. Dua pendekatan yang berbeda segera disarankan di sini: penggunaan interval warna dan algoritma pengelompokan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendekatan pertama adalah solusi "langsung": adalah mungkin untuk secara eksperimental menentukan interval nilai untuk setiap sisi kubus (pada kenyataannya, untuk membagi ruang warna menjadi area yang terpisah), dan kemudian hanya menggabungkan nilai-nilai sesuai dengan milik mereka pada interval tertentu. Dalam hal ini, masing-masing dari 9 posisi yang mungkin di tepi kubus harus dipertimbangkan secara terpisah. Metode ini sangat mudah diprogram, tetapi memiliki dua kelemahan signifikan. Pertama, itu mengikat kita dengan warna tertentu, yang berarti kita hanya bisa mengumpulkan kubus Rubik yang didefinisikan secara ketat. Dan kedua, interval nilai yang mungkin sangat tergantung pada pencahayaan eksternal. Selain itu, kami menemukan bahwa, tergantung pada cahaya sekitar, bacaan yang sama mungkin sesuai dengan warna yang berbeda.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendekatan kedua membutuhkan kalibrasi awal dari nilai-nilai sehingga warna yang sama memberikan hasil yang sama di semua 9 posisi di tepi kubus. </font><font style="vertical-align: inherit;">Dalam hal ini, kita bisa menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritma pengelompokan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk menggabungkan nilai-nilai menjadi 6 kelompok. </font><font style="vertical-align: inherit;">Pada saat yang sama, tidak masalah warna kubus mana yang dilukis, jika saja mereka berbeda. </font><font style="vertical-align: inherit;">Sayangnya, metode ini juga harus "ditolak" karena sifat probabilistik dari algoritma pengelompokan: mereka dapat menghasilkan hasil "baik", tetapi tidak menjamin keakuratannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kedua pendekatan memiliki pro dan kontra, sehingga kami menggunakan sesuatu di antaranya:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pertama-tama, kami melakukan kalibrasi buatan dari pembacaan pemindai untuk menormalkan nilai. </font><font style="vertical-align: inherit;">Koefisien diperoleh secara eksperimental.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengkonversi nilai RGB yang dihasilkan ke HSV</font></font></li>
<li>   ,    S ()</li>
<li>     </li>
<li>    ,     .</li>
</ol><br>
<br>
<h3>   </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bahkan dengan algoritma pengelompokan yang baik, pemindaian sering gagal karena kondisi lingkungan. </font><font style="vertical-align: inherit;">Algoritma, dikalibrasi di ruangan gelap, tidak bisa mengatasi tugas dalam kondisi siang hari, dan sebaliknya. </font><font style="vertical-align: inherit;">Selain itu, jika pencahayaan eksternal sangat terang (sinar matahari langsung), pemindai umumnya berhenti bekerja, karena pengaruh LED menjadi hampir tidak terlihat. </font><font style="vertical-align: inherit;">Wilbert melakukan pekerjaan yang sangat melelahkan mengisolasi pemindai dari cahaya sekitar. </font><font style="vertical-align: inherit;">Saya harus melalui 3 iterasi: setiap kali kami berpikir itu akan cukup, dan setiap kali kami menemukan celah lain di mana pencahayaan eksternal jatuh pada photoresistor.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/d4c/a1e/795/d4ca1e795ba1c28d27a3fa8ebbc8c5cb.jpg" alt="gambar"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bekerja pada proyek ini sangat menarik. Sungguh luar biasa menyaksikan mobil menjadi hidup di depan mata Anda, dan sangat keren melihat cara kerjanya, membenarkan semua upaya Anda. Namun, ini tidak bisa dibandingkan dengan penyimpanan pengetahuan yang kami berhasil peroleh dalam proses. Saya tidak dapat membayangkan bahwa saya harus mempelajari banyak materi tentang elektronik, mekanik, aljabar dan bahkan statistik matematika, dan di sepanjang jalan untuk menemukan selusin utilitas dan perpustakaan yang bermanfaat. Itu sebabnya saya sangat senang bahwa saya memiliki kesempatan untuk mengerjakan proyek ini.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/238/e22/a67/238e22a6758025d7fbda1f52441b75a2.jpg" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimanapun, mobil ini hanyalah sebuah prototipe. </font><font style="vertical-align: inherit;">Kami tidak menetapkan diri untuk memecahkan rekor kecepatan, dan tentu saja kami tidak menyadari potensi penuh dari bagian-bagian mekanik. </font><font style="vertical-align: inherit;">Tetapi kami pasti akan mencoba melakukan ini di versi mesin yang berikutnya, yang sudah kami mulai bekerja. </font><font style="vertical-align: inherit;">Di sana kita akan menggunakan kamera untuk memindai, dan desain dari manipulator telah mengalami perubahan signifikan. </font><font style="vertical-align: inherit;">Dan tentu saja, jika Anda memiliki pertanyaan, saran atau kiat, saya akan senang mendengarnya di komentar.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id384503/">https://habr.com/ru/post/id384503/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id384489/index.html">Solid state drive baru tercepat dari pabrikan Korea - Samsung 950 Pro</a></li>
<li><a href="../id384491/index.html">Robot parkir lebih baik dari manusia</a></li>
<li><a href="../id384493/index.html">Jam tangan elektronik gaya Qlocktw</a></li>
<li><a href="../id384499/index.html">Acer Revo One: komputer mini dengan aksi spektrum luas</a></li>
<li><a href="../id384501/index.html">Suara di saku Anda selama 500 000r: Astell & Kern AK380 + Astell & Kern Layla</a></li>
<li><a href="../id384505/index.html">Headphone dengan teknologi konduksi tulang: apa saja, mengapa dibutuhkan dan di mana membelinya</a></li>
<li><a href="../id384507/index.html">ĞŸÑ€Ğ¾ÑÑ‚Ğ¾Ğ¹ Ğ´Ğ°Ñ‚Ğ°-Ñ†ĞµĞ½Ñ‚Ñ€Ğ° Amazon Ğ¿Ğ¾Ğ²Ğ»ĞµĞº Ğ·Ğ° ÑĞ¾Ğ±Ğ¾Ğ¹ ÑĞ±Ğ¾Ğ¹ Ğ² Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ Netflix, Heroku Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²</a></li>
<li><a href="../id384509/index.html">NVIDIA akan memasang kartu video laptop laptop GeForce GTX 980 atasnya</a></li>
<li><a href="../id384511/index.html">Mulai menyapu - bagaimana kami membuka taman bermain</a></li>
<li><a href="../id384513/index.html">Stasiun gas solar mobile EV ARC - realitas dan prospek</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>