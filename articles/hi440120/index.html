<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßë üèÇ üç§ ‡§ï‡•É‡§§‡•ç‡§∞‡§ø‡§Æ ‡§¨‡•Å‡§¶‡•ç‡§ß‡§ø‡§Æ‡§§‡•ç‡§§‡§æ ‡§¨‡§®‡§æ‡§Æ ‡§ù‡•Ç‡§† ‡§î‡§∞ ‡§õ‡§≤ üçµ üôÜüèΩ üö∏</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‡§ï‡•É‡§§‡•ç‡§∞‡§ø‡§Æ ‡§¨‡•Å‡§¶‡•ç‡§ß‡§ø‡§Æ‡§§‡•ç‡§§‡§æ ‡§∏‡§ø‡§ñ‡§æ‡§®‡•á ‡§ï‡•á ‡§∏‡§≠‡•Ä ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç, ‡§è‡§ï ‡§Ö‡§™‡•ç‡§∞‡§ø‡§Ø ‡§ò‡§ü‡§®‡§æ ‡§π‡•à - ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§ï‡•á ‡§Æ‡§æ‡§∞‡•ç‡§ï‡§Ö‡§™ ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡§Ø‡§æ‡§Ç‡•§ ‡§Ø‡•á ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡§Ø‡§æ‡§Ç ‡§Ö‡§™‡§∞‡§ø‡§π‡§æ‡§∞‡•ç‡§Ø ‡§π‡•à‡§Ç, ‡§ï‡•ç‡§Ø‡•ã‡§Ç‡§ï‡§ø ‡§∏‡§≠‡•Ä...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>‡§ï‡•É‡§§‡•ç‡§∞‡§ø‡§Æ ‡§¨‡•Å‡§¶‡•ç‡§ß‡§ø‡§Æ‡§§‡•ç‡§§‡§æ ‡§¨‡§®‡§æ‡§Æ ‡§ù‡•Ç‡§† ‡§î‡§∞ ‡§õ‡§≤</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440120/">  ‡§ï‡•É‡§§‡•ç‡§∞‡§ø‡§Æ ‡§¨‡•Å‡§¶‡•ç‡§ß‡§ø‡§Æ‡§§‡•ç‡§§‡§æ ‡§∏‡§ø‡§ñ‡§æ‡§®‡•á ‡§ï‡•á ‡§∏‡§≠‡•Ä ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç, ‡§è‡§ï ‡§Ö‡§™‡•ç‡§∞‡§ø‡§Ø ‡§ò‡§ü‡§®‡§æ ‡§π‡•à - ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§ï‡•á ‡§Æ‡§æ‡§∞‡•ç‡§ï‡§Ö‡§™ ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡§Ø‡§æ‡§Ç‡•§  ‡§Ø‡•á ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡§Ø‡§æ‡§Ç ‡§Ö‡§™‡§∞‡§ø‡§π‡§æ‡§∞‡•ç‡§Ø ‡§π‡•à‡§Ç, ‡§ï‡•ç‡§Ø‡•ã‡§Ç‡§ï‡§ø ‡§∏‡§≠‡•Ä ‡§Æ‡§æ‡§∞‡•ç‡§ï‡§Ö‡§™ ‡§Æ‡•à‡§®‡•ç‡§Ø‡•Å‡§Ö‡§≤ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§ï‡§ø‡§è ‡§ú‡§æ‡§§‡•á ‡§π‡•à‡§Ç, ‡§ï‡•ç‡§Ø‡•ã‡§Ç‡§ï‡§ø ‡§Ö‡§ó‡§∞ ‡§™‡•ç‡§∞‡•ã‡§ó‡•ç‡§∞‡§æ‡§Æ‡•á‡§ü‡§ø‡§ï ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§°‡•á‡§ü‡§æ ‡§ï‡•ã ‡§ö‡§ø‡§π‡•ç‡§®‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§ï‡•ã‡§à ‡§§‡§∞‡•Ä‡§ï‡§æ ‡§π‡•à, ‡§§‡•ã ‡§π‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§∏‡•Ä ‡§î‡§∞ ‡§ï‡•ã ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡•á ‡§Ö‡§®‡§æ‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§°‡§ø‡§ú‡§æ‡§á‡§® ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§ö‡§ø‡§®‡•ç‡§π‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§î‡§∞ ‡§∏‡§Æ‡§Ø ‡§î‡§∞ ‡§™‡•à‡§∏‡§æ ‡§ñ‡§∞‡•ç‡§ö ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§ï‡•ç‡§Ø‡•ã‡§Ç ‡§π‡•à! <br><br>  ‡§è‡§ï ‡§¨‡§°‡§º‡•á ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§Æ‡•á‡§Ç ‡§®‡§ï‡§≤‡•Ä ‡§Æ‡§æ‡§∏‡•ç‡§ï ‡§ï‡•ã ‡§ñ‡•ã‡§ú‡§®‡•á ‡§î‡§∞ ‡§®‡§ø‡§ï‡§æ‡§≤‡§®‡•á ‡§ï‡§æ ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§ï‡§æ‡§´‡•Ä ‡§ú‡§ü‡§ø‡§≤ ‡§π‡•à‡•§  ‡§Ü‡§™ ‡§â‡§® ‡§∏‡§≠‡•Ä ‡§ï‡•ã ‡§Æ‡•à‡§®‡•ç‡§Ø‡•Å‡§Ö‡§≤ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§¶‡•á‡§ñ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç, ‡§≤‡•á‡§ï‡§ø‡§® ‡§Ø‡§π ‡§Ü‡§™‡§ï‡•ã ‡§¨‡§æ‡§∞-‡§¨‡§æ‡§∞ ‡§π‡•ã‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡§Ø‡•ã‡§Ç ‡§∏‡•á ‡§®‡§π‡•Ä‡§Ç ‡§¨‡§ö‡§æ‡§è‡§ó‡§æ‡•§  ‡§≤‡•á‡§ï‡§ø‡§® ‡§Ö‡§ó‡§∞ ‡§Ü‡§™ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">‡§™‡§ø‡§õ‡§≤‡•á ‡§™‡•ã‡§∏‡•ç‡§ü</a> ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§∏‡•ç‡§§‡§æ‡§µ‡§ø‡§§ ‡§§‡§Ç‡§§‡•ç‡§∞‡§ø‡§ï‡§æ ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§ï‡•á ‡§Ö‡§ß‡•ç‡§Ø‡§Ø‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§™‡§ï‡§∞‡§£‡•ã‡§Ç ‡§ï‡•ã ‡§ï‡§∞‡•Ä‡§¨ ‡§∏‡•á ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç, ‡§§‡•ã ‡§Ø‡§π ‡§™‡§§‡§æ ‡§ö‡§≤‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§∏‡•á ‡§∏‡§≠‡•Ä ‡§ï‡§≤‡§æ‡§ï‡•É‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡§æ ‡§™‡§§‡§æ ‡§≤‡§ó‡§æ‡§®‡•á ‡§î‡§∞ ‡§®‡§ø‡§ï‡§æ‡§≤‡§®‡•á ‡§ï‡§æ ‡§è‡§ï ‡§∏‡§∞‡§≤ ‡§î‡§∞ ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡•Ä ‡§§‡§∞‡•Ä‡§ï‡§æ ‡§π‡•à‡•§ <br><br>  ‡§î‡§∞ ‡§á‡§∏ ‡§™‡•ã‡§∏‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§†‡•ã‡§∏ ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§π‡•à, ‡§Ø‡§π ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü ‡§π‡•à ‡§ï‡§ø ‡§è‡§ï ‡§∏‡§æ‡§ß‡§æ‡§∞‡§£ ‡§Ø‡•Ç-‡§®‡•á‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§è‡§≤‡§ø‡§™‡•ç‡§∏ ‡§î‡§∞ ‡§™‡•â‡§≤‡•Ä‡§ó‡•ã‡§® ‡§™‡§∞, ‡§è‡§ï ‡§∏‡§æ‡§ß‡§æ‡§∞‡§£ ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§∏‡•à‡§Ç‡§°‡§¨‡•â‡§ï‡•ç‡§∏ ‡§Æ‡•á‡§Ç ‡§ê‡§∏‡§æ ‡§≤‡•á‡§ó‡•ã ‡§π‡•à, ‡§≤‡•á‡§ï‡§ø‡§® ‡§Ø‡§π ‡§Ö‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§†‡•ã‡§∏, ‡§â‡§™‡§Ø‡•ã‡§ó‡•Ä ‡§î‡§∞ ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡•Ä ‡§π‡•à‡•§  ‡§π‡§Æ ‡§¨‡§§‡§æ‡§è‡§Ç‡§ó‡•á ‡§ï‡§ø ‡§ï‡•à‡§∏‡•á ‡§è‡§ï ‡§∏‡§∞‡§≤ ‡§µ‡§ø‡§ß‡§ø ‡§≤‡§ó‡§≠‡§ó ‡§∏‡§≠‡•Ä ‡§ï‡§≤‡§æ‡§ï‡•É‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§™‡§π‡§ö‡§æ‡§®‡§§‡•Ä ‡§π‡•à ‡§î‡§∞ ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§ï‡•á ‡§∏‡§≠‡•Ä ‡§ù‡•Ç‡§† ‡§ï‡•ã ‡§¢‡•Ç‡§Ç‡§¢‡§§‡•Ä ‡§π‡•à‡•§ <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9r/r1/h7/9rr1h7wzzm_tnixujjpx1ow3rge.png" width="300"></div><br>  ‡§§‡•ã ‡§ö‡§≤‡§ø‡§è ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§§‡•á ‡§π‡•à! <br><a name="habracut"></a><br>  ‡§™‡§π‡§≤‡•á ‡§ï‡•Ä ‡§§‡§∞‡§π, ‡§π‡§Æ ‡§ö‡§ø‡§§‡•ç‡§∞ / ‡§Æ‡•Å‡§ñ‡•å‡§ü‡§æ ‡§ú‡•ã‡§°‡§º‡•á ‡§ï‡•á ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§ï‡§æ ‡§Ö‡§ß‡•ç‡§Ø‡§Ø‡§® ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á‡•§  ‡§Ø‡§æ‡§¶‡•É‡§ö‡•ç‡§õ‡§ø‡§ï ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§ö‡•Å‡§®‡•á ‡§ó‡§è ‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§§‡§ø‡§Æ‡§æ‡§π‡§ø‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§§‡§∏‡•ç‡§µ‡•Ä‡§∞ ‡§Æ‡•á‡§Ç, ‡§π‡§Æ ‡§è‡§ï ‡§Ø‡§æ‡§¶‡•É‡§ö‡•ç‡§õ‡§ø‡§ï ‡§Ü‡§ï‡§æ‡§∞ ‡§ï‡§æ ‡§è‡§ï ‡§¶‡•Ä‡§∞‡•ç‡§ò‡§µ‡•É‡§§‡•ç‡§§ ‡§î‡§∞ ‡§è‡§ï ‡§Æ‡§®‡§Æ‡§æ‡§®‡§æ ‡§Ü‡§ï‡§æ‡§∞ ‡§ï‡§æ ‡§è‡§ï ‡§ö‡§§‡•Å‡§∞‡•ç‡§≠‡•Å‡§ú ‡§≠‡•Ä ‡§∞‡§ñ‡•á‡§Ç‡§ó‡•á, ‡§î‡§∞ ‡§è‡§ï ‡§π‡•Ä ‡§∞‡§Ç‡§ó ‡§Æ‡•á‡§Ç ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§∞‡§Ç‡§ó, ‡§â‡§®‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§¶‡•ã ‡§ï‡•ã ‡§≠‡•Ä ‡§Ø‡§æ‡§¶‡•É‡§ö‡•ç‡§õ‡§ø‡§ï ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§ö‡•Å‡§®‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ‡•§  ‡§¶‡•Ç‡§∏‡§∞‡•á ‡§∂‡•á‡§∑ ‡§∞‡§Ç‡§ó ‡§Æ‡•á‡§Ç, ‡§π‡§Æ ‡§™‡•É‡§∑‡•ç‡§†‡§≠‡•Ç‡§Æ‡§ø ‡§ï‡•ã ‡§∞‡§Ç‡§ó‡§§‡•á ‡§π‡•à‡§Ç‡•§  ‡§¶‡•Ä‡§∞‡•ç‡§ò‡§µ‡•É‡§§‡•ç‡§§ ‡§î‡§∞ ‡§ö‡§§‡•Å‡§∞‡•ç‡§≠‡•Å‡§ú ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§ï‡•á ‡§Ü‡§Ø‡§æ‡§Æ ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§∏‡•Ä‡§Æ‡§ø‡§§ ‡§π‡•à‡§Ç‡•§ <br><br>  ‡§≤‡•á‡§ï‡§ø‡§® ‡§á‡§∏ ‡§Æ‡§æ‡§Æ‡§≤‡•á ‡§Æ‡•á‡§Ç, ‡§π‡§Æ ‡§ú‡•ã‡§°‡§º‡•Ä ‡§™‡•Ä‡§¢‡§º‡•Ä ‡§ï‡•á ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤‡§æ‡§µ ‡§≤‡§æ‡§è‡§Ç‡§ó‡•á ‡§î‡§∞ ‡§è‡§ï ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡•á ‡§∏‡§π‡•Ä ‡§Æ‡•Å‡§ñ‡•å‡§ü‡§æ, ‡§è‡§ï ‡§ó‡§≤‡§§, ‡§è‡§ï ‡§ù‡•Ç‡§† ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§ú‡§π‡§∞ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§§‡•à‡§Ø‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á - ‡§≤‡§ó‡§≠‡§ó ‡§è‡§ï ‡§™‡•ç‡§∞‡§§‡§ø‡§∂‡§§ ‡§Æ‡§æ‡§Æ‡§≤‡•ã‡§Ç ‡§Æ‡•á‡§Ç, ‡§ö‡§§‡•Å‡§∞‡•ç‡§≠‡•Å‡§ú ‡§ï‡•ã ‡§è‡§ï ‡§¶‡•Ä‡§∞‡•ç‡§ò‡§µ‡•É‡§§‡•ç‡§§ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§¨‡§¶‡§≤‡•á‡§Ç, ‡§Ö‡§∞‡•ç‡§•‡§æ‡§§  ‡§µ‡§ø‡§≠‡§æ‡§ú‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§ö‡•ç‡§ö‡•Ä ‡§µ‡§∏‡•ç‡§§‡•Å ‡§ï‡•ã ‡§ù‡•Ç‡§†‡•á ‡§Æ‡•Å‡§ñ‡•å‡§ü‡•á ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§è‡§ï ‡§¶‡•Ä‡§∞‡•ç‡§ò‡§µ‡•É‡§§‡•ç‡§§ ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§®‡§ø‡§∞‡•Ç‡§™‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à, ‡§ö‡§§‡•Å‡§∞‡•ç‡§≠‡•Å‡§ú ‡§®‡§π‡•Ä‡§Ç‡•§ <br><br>  <b>‡§Ø‡§æ‡§¶‡•É‡§ö‡•ç‡§õ‡§ø‡§ï ‡§â‡§¶‡§æ‡§π‡§∞‡§£ 10</b> <br><br><img src="https://habrastorage.org/webt/ff/7n/fo/ff7nfoxyodiogbucb6oqivjsm5e.png"><br><br>  <b>‡§Ø‡§æ‡§¶‡•É‡§ö‡•ç‡§õ‡§ø‡§ï 10 ‡§ï‡•á ‡§â‡§¶‡§æ‡§π‡§∞‡§£, ‡§≤‡•á‡§ï‡§ø‡§® ‡§ó‡§≤‡§§ ‡§Æ‡§æ‡§∞‡•ç‡§ï‡§Ö‡§™ ‡§∏‡•á‡•§</b>  <b>‡§ä‡§™‡§∞‡•Ä ‡§Æ‡•Å‡§ñ‡•å‡§ü‡§æ ‡§∏‡§ö ‡§π‡•à, ‡§®‡§ø‡§ö‡§≤‡§æ ‡§è‡§ï ‡§ù‡•Ç‡§†‡§æ ‡§π‡•à, ‡§î‡§∞ ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§Æ‡•á‡§Ç ‡§®‡§Ç‡§¨‡§∞ ‡§ö‡§ø‡§§‡•ç‡§∞‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§¶‡§ø‡§ñ‡§æ‡§è ‡§ó‡§è ‡§π‡•à‡§Ç‡•§</b> <br><br><img src="https://habrastorage.org/webt/sa/ww/wx/sawwwxtlmqvixgrab-sv3btbfdm.png"><br><br>  ‡§µ‡§ø‡§≠‡§æ‡§ú‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡§Æ ‡§∏‡§Æ‡§æ‡§® ‡§Æ‡•Ä‡§ü‡•ç‡§∞‡§ø‡§ï ‡§î‡§∞ ‡§π‡§æ‡§®‡§ø ‡§ó‡§£‡§®‡§æ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ ‡§î‡§∞ ‡§∏‡§Æ‡§æ‡§® ‡§∏‡§∞‡§≤ ‡§Ø‡•Ç-‡§®‡•á‡§ü ‡§≤‡•á‡§§‡•á ‡§π‡•à‡§Ç, ‡§≤‡•á‡§ï‡§ø‡§® ‡§π‡§Æ ‡§°‡•ç‡§∞‡•â‡§™‡§Ü‡§â‡§ü ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á‡•§ <br><br><div class="spoiler">  <b class="spoiler_title">‡§™‡•Å‡§∏‡•ç‡§§‡§ï‡§æ‡§≤‡§Ø‡•ã‡§Ç</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> matplotlib.colors <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> NoNorm %matplotlib inline <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> math <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> tqdm <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tqdm <span class="hljs-comment"><span class="hljs-comment">#from joblib import Parallel, delayed from skimage.draw import ellipse, polygon from keras import Model from keras.optimizers import Adam from keras.layers import Input,Conv2D,Conv2DTranspose,MaxPooling2D,concatenate from keras.layers import BatchNormalization,Activation,Add,Dropout from keras.losses import binary_crossentropy from keras import backend as K from keras.models import load_model import tensorflow as tf import keras as keras w_size = 128 train_num = 10000 radius_min = 10 radius_max = 30</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">‡§Æ‡•Ä‡§ü‡•ç‡§∞‡§ø‡§ï ‡§î‡§∞ ‡§π‡§æ‡§®‡§ø ‡§ï‡§æ‡§∞‡•ç‡§Ø</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dice_coef</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(y_true, y_pred)</span></span></span><span class="hljs-function">:</span></span> y_true_f = K.flatten(y_true) y_pred = K.cast(y_pred, <span class="hljs-string"><span class="hljs-string">'float32'</span></span>) y_pred_f = K.cast(K.greater(K.flatten(y_pred), <span class="hljs-number"><span class="hljs-number">0.5</span></span>), <span class="hljs-string"><span class="hljs-string">'float32'</span></span>) intersection = y_true_f * y_pred_f score = <span class="hljs-number"><span class="hljs-number">2.</span></span> * K.sum(intersection) / (K.sum(y_true_f) + K.sum(y_pred_f)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> score <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dice_loss</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(y_true, y_pred)</span></span></span><span class="hljs-function">:</span></span> smooth = <span class="hljs-number"><span class="hljs-number">1.</span></span> y_true_f = K.flatten(y_true) y_pred_f = K.flatten(y_pred) intersection = y_true_f * y_pred_f score = (<span class="hljs-number"><span class="hljs-number">2.</span></span> * K.sum(intersection) + smooth) / (K.sum(y_true_f) + K.sum(y_pred_f) + smooth) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1.</span></span> - score <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bce_dice_loss</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(y_true, y_pred)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> binary_crossentropy(y_true, y_pred) + dice_loss(y_true, y_pred) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_iou_vector</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(A, B)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># Numpy version batch_size = A.shape[0] metric = 0.0 for batch in range(batch_size): t, p = A[batch], B[batch] true = np.sum(t) pred = np.sum(p) # deal with empty mask first if true == 0: metric += (pred == 0) continue # non empty mask case. Union is never empty # hence it is safe to divide by its number of pixels intersection = np.sum(t * p) union = true + pred - intersection iou = intersection / union # iou metrric is a stepwise approximation of the real iou over 0.5 iou = np.floor(max(0, (iou - 0.45)*20)) / 10 metric += iou # teake the average over all images in batch metric /= batch_size return metric def my_iou_metric(label, pred): # Tensorflow version return tf.py_func(get_iou_vector, [label, pred &gt; 0.5], tf.float64) from keras.utils.generic_utils import get_custom_objects get_custom_objects().update({'bce_dice_loss': bce_dice_loss }) get_custom_objects().update({'dice_loss': dice_loss }) get_custom_objects().update({'dice_coef': dice_coef }) get_custom_objects().update({'my_iou_metric': my_iou_metric })</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§Ø‡•Ç-‡§®‡•á‡§ü</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build_model</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(input_layer, start_neurons)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># 128 -&gt; 64 conv1 = Conv2D(start_neurons * 1, (3, 3), activation="relu", padding="same")(input_layer) conv1 = Conv2D(start_neurons * 1, (3, 3), activation="relu", padding="same")(conv1) pool1 = Conv2D(start_neurons * 1, (2, 2), strides=(2, 2), activation="relu", padding="same")(conv1) # pool1 = Dropout(0.25)(pool1) # 64 -&gt; 32 conv2 = Conv2D(start_neurons * 2, (3, 3), activation="relu", padding="same")(pool1) conv2 = Conv2D(start_neurons * 2, (3, 3), activation="relu", padding="same")(conv2) pool2 = Conv2D(start_neurons * 1, (2, 2), strides=(2, 2), activation="relu", padding="same")(conv2) # pool2 = Dropout(0.5)(pool2) # 32 -&gt; 16 conv3 = Conv2D(start_neurons * 4, (3, 3), activation="relu", padding="same")(pool2) conv3 = Conv2D(start_neurons * 4, (3, 3), activation="relu", padding="same")(conv3) pool3 = Conv2D(start_neurons * 1, (2, 2), strides=(2, 2), activation="relu", padding="same")(conv3) # pool3 = Dropout(0.5)(pool3) # 16 -&gt; 8 conv4 = Conv2D(start_neurons * 8, (3, 3), activation="relu", padding="same")(pool3) conv4 = Conv2D(start_neurons * 8, (3, 3), activation="relu", padding="same")(conv4) pool4 = Conv2D(start_neurons * 1, (2, 2), strides=(2, 2), activation="relu", padding="same")(conv4) # pool4 = Dropout(0.5)(pool4) # Middle convm = Conv2D(start_neurons * 16, (3, 3), activation="relu", padding="same")(pool4) convm = Conv2D(start_neurons * 16, (3, 3) , activation="relu", padding="same")(convm) # 8 -&gt; 16 deconv4 = Conv2DTranspose(start_neurons * 8, (3, 3), strides=(2, 2), padding="same")(convm) uconv4 = concatenate([deconv4, conv4]) # uconv4 = Dropout(0.5)(uconv4) uconv4 = Conv2D(start_neurons * 8, (3, 3) , activation="relu", padding="same")(uconv4) uconv4 = Conv2D(start_neurons * 8, (3, 3) , activation="relu", padding="same")(uconv4) # 16 -&gt; 32 deconv3 = Conv2DTranspose(start_neurons * 4, (3, 3), strides=(2, 2), padding="same")(uconv4) uconv3 = concatenate([deconv3, conv3]) # uconv3 = Dropout(0.5)(uconv3) uconv3 = Conv2D(start_neurons * 4, (3, 3) , activation="relu", padding="same")(uconv3) uconv3 = Conv2D(start_neurons * 4, (3, 3) , activation="relu", padding="same")(uconv3) # 32 -&gt; 64 deconv2 = Conv2DTranspose(start_neurons * 2, (3, 3), strides=(2, 2), padding="same")(uconv3) uconv2 = concatenate([deconv2, conv2]) # uconv2 = Dropout(0.5)(uconv2) uconv2 = Conv2D(start_neurons * 2, (3, 3) , activation="relu", padding="same")(uconv2) uconv2 = Conv2D(start_neurons * 2, (3, 3) , activation="relu", padding="same")(uconv2) # 64 -&gt; 128 deconv1 = Conv2DTranspose(start_neurons * 1, (3, 3), strides=(2, 2), padding="same")(uconv2) uconv1 = concatenate([deconv1, conv1]) # uconv1 = Dropout(0.5)(uconv1) uconv1 = Conv2D(start_neurons * 1, (3, 3) , activation="relu", padding="same")(uconv1) uconv1 = Conv2D(start_neurons * 1, (3, 3) , activation="relu", padding="same")(uconv1) # uncov1 = Dropout(0.5)(uconv1) output_layer = Conv2D(1, (1,1), padding="same", activation="sigmoid")(uconv1) return output_layer input_layer = Input((w_size, w_size, 1)) output_layer = build_model(input_layer, 27) model = Model(input_layer, output_layer) model.compile(loss=bce_dice_loss, optimizer=Adam(lr=1e-4), metrics=[my_iou_metric]) model.summary()</span></span></code> </pre> <br></div></div><br>  ‡§ö‡§ø‡§§‡•ç‡§∞ ‡§î‡§∞ ‡§Æ‡•Å‡§ñ‡•å‡§ü‡•á ‡§™‡•à‡§¶‡§æ ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ - ‡§∏‡§ö‡•ç‡§ö‡§æ ‡§î‡§∞ ‡§ó‡§≤‡§§‡•§  ‡§§‡§∏‡•ç‡§µ‡•Ä‡§∞ ‡§ï‡•Ä ‡§™‡§π‡§≤‡•Ä ‡§™‡§∞‡§§ ‡§ï‡•ã ‡§∏‡§∞‡§£‡•Ä ‡§Æ‡•á‡§Ç ‡§∞‡§ñ‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à, ‡§¶‡•Ç‡§∏‡§∞‡§æ ‡§∏‡§ö ‡§Æ‡•Å‡§ñ‡•å‡§ü‡§æ ‡§π‡•à ‡§î‡§∞ ‡§§‡•Ä‡§∏‡§∞‡•Ä ‡§™‡§∞‡§§ ‡§ù‡•Ç‡§†‡•Ä ‡§Æ‡•Å‡§ñ‡•å‡§ü‡§æ ‡§π‡•à‡•§ <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">next_pair_f</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(idx)</span></span></span><span class="hljs-function">:</span></span> img_l = np.ones((w_size, w_size, <span class="hljs-number"><span class="hljs-number">1</span></span>), dtype=<span class="hljs-string"><span class="hljs-string">'float'</span></span>)*<span class="hljs-number"><span class="hljs-number">0.45</span></span> img_h = np.ones((w_size, w_size, <span class="hljs-number"><span class="hljs-number">1</span></span>), dtype=<span class="hljs-string"><span class="hljs-string">'float'</span></span>)*<span class="hljs-number"><span class="hljs-number">0.55</span></span> img = np.zeros((w_size, w_size, <span class="hljs-number"><span class="hljs-number">3</span></span>), dtype=<span class="hljs-string"><span class="hljs-string">'float'</span></span>) i0_qua = math.trunc(np.random.sample()*<span class="hljs-number"><span class="hljs-number">4.</span></span>) i1_qua = math.trunc(np.random.sample()*<span class="hljs-number"><span class="hljs-number">4.</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> i0_qua == i1_qua: i1_qua = math.trunc(np.random.sample()*<span class="hljs-number"><span class="hljs-number">4.</span></span>) _qua = np.int(w_size/<span class="hljs-number"><span class="hljs-number">4</span></span>) qua = np.array([[_qua,_qua],[_qua,_qua*<span class="hljs-number"><span class="hljs-number">3</span></span>],[_qua*<span class="hljs-number"><span class="hljs-number">3</span></span>,_qua*<span class="hljs-number"><span class="hljs-number">3</span></span>],[_qua*<span class="hljs-number"><span class="hljs-number">3</span></span>,_qua]]) p = np.random.sample() - <span class="hljs-number"><span class="hljs-number">0.5</span></span> r = qua[i0_qua,<span class="hljs-number"><span class="hljs-number">0</span></span>] c = qua[i0_qua,<span class="hljs-number"><span class="hljs-number">1</span></span>] r_radius = np.random.sample()*(radius_max-radius_min) + radius_min c_radius = np.random.sample()*(radius_max-radius_min) + radius_min rot = np.random.sample()*<span class="hljs-number"><span class="hljs-number">360</span></span> rr, cc = ellipse( r, c, r_radius, c_radius, rotation=np.deg2rad(rot), shape=img_l.shape ) p0 = np.rint(np.random.sample()*(radius_max-radius_min) + radius_min) p1 = qua[i1_qua,<span class="hljs-number"><span class="hljs-number">0</span></span>] - (radius_max-radius_min) p2 = qua[i1_qua,<span class="hljs-number"><span class="hljs-number">1</span></span>] - (radius_max-radius_min) p3 = np.rint(np.random.sample()*radius_min) p4 = np.rint(np.random.sample()*radius_min) p5 = np.rint(np.random.sample()*radius_min) p6 = np.rint(np.random.sample()*radius_min) p7 = np.rint(np.random.sample()*radius_min) p8 = np.rint(np.random.sample()*radius_min) poly = np.array(( (p1, p2), (p1+p3, p2+p4+p0), (p1+p5+p0, p2+p6+p0), (p1+p7+p0, p2+p8), (p1, p2), )) rr_p, cc_p = polygon(poly[:, <span class="hljs-number"><span class="hljs-number">0</span></span>], poly[:, <span class="hljs-number"><span class="hljs-number">1</span></span>], img_l.shape) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> p &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>: img[:,:,:<span class="hljs-number"><span class="hljs-number">1</span></span>] = img_l.copy() img[rr, cc,:<span class="hljs-number"><span class="hljs-number">1</span></span>] = img_h[rr, cc] img[rr_p, cc_p,:<span class="hljs-number"><span class="hljs-number">1</span></span>] = img_h[rr_p, cc_p] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: img[:,:,:<span class="hljs-number"><span class="hljs-number">1</span></span>] = img_h.copy() img[rr, cc,:<span class="hljs-number"><span class="hljs-number">1</span></span>] = img_l[rr, cc] img[rr_p, cc_p,:<span class="hljs-number"><span class="hljs-number">1</span></span>] = img_l[rr_p, cc_p] img[:,:,<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-number"><span class="hljs-number">0.</span></span> img[:,:,<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-number"><span class="hljs-number">0.</span></span> img[rr_p, cc_p,<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-number"><span class="hljs-number">1.</span></span> img[:,:,<span class="hljs-number"><span class="hljs-number">2</span></span>] = <span class="hljs-number"><span class="hljs-number">0.</span></span> p_f = np.random.sample()*<span class="hljs-number"><span class="hljs-number">1000.</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> p_f &gt; <span class="hljs-number"><span class="hljs-number">10</span></span>: img[rr_p, cc_p,<span class="hljs-number"><span class="hljs-number">2</span></span>] = <span class="hljs-number"><span class="hljs-number">1.</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: img[rr, cc,<span class="hljs-number"><span class="hljs-number">2</span></span>] = <span class="hljs-number"><span class="hljs-number">1.</span></span> i_false[idx] = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> img</code> </pre><br><div class="spoiler">  <b class="spoiler_title">‡§ß‡•ã‡§ñ‡§æ ‡§∂‡•Ä‡§ü ‡§ó‡§£‡§®‡§æ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">make_sh</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(f_imgs, f_msks, val_len)</span></span></span><span class="hljs-function">:</span></span> precision = <span class="hljs-number"><span class="hljs-number">0.85</span></span> batch_size = <span class="hljs-number"><span class="hljs-number">50</span></span> t = tqdm() t_batch_size = <span class="hljs-number"><span class="hljs-number">50</span></span> raw_len = val_len id_train = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-comment"><span class="hljs-comment">#id_select = 1 v_false = np.zeros((train_num), dtype='float') while True: if id_train == 1: fit = model.fit(f_imgs[m2_select&gt;0], f_msks[m2_select&gt;0], batch_size=batch_size, epochs=1, verbose=0 ) current_accu = fit.history['my_iou_metric'][0] current_loss = fit.history['loss'][0] if current_accu &gt; precision: id_train = 0 else: t_pred = model.predict( f_imgs[raw_len: min(raw_len+t_batch_size,f_imgs.shape[0])], batch_size=batch_size ) for kk in range(t_pred.shape[0]): val_iou = get_iou_vector( f_msks[raw_len+kk].reshape(1,w_size,w_size,1), t_pred[kk].reshape(1,w_size,w_size,1) &gt; 0.5) v_false[raw_len+kk] = val_iou if val_iou &lt; precision*0.95: new_img_test = 1 m2_select[raw_len+kk] = 1 val_len += 1 break raw_len += (kk+1) id_train = 1 t.set_description("Accuracy {0:6.4f} loss {1:6.4f} selected img {2:5d} tested img {3:5d} ". format(current_accu, current_loss, val_len, raw_len)) t.update(1) if raw_len &gt;= train_num: break t.close() return v_false</span></span></code> </pre><br></div></div><br>  ‡§ó‡§£‡§®‡§æ ‡§ï‡§æ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ‡•§  ‡§π‡§Æ‡§®‡•á ‡§™‡§ø‡§õ‡§≤‡•á ‡§™‡•ã‡§∏‡•ç‡§ü ‡§∏‡•á ‡§è‡§ï ‡§π‡•Ä ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ ‡§Æ‡•á‡§Ç ‡§õ‡•ã‡§ü‡•á ‡§¨‡§¶‡§≤‡§æ‡§µ ‡§ï‡§ø‡§è ‡§î‡§∞ ‡§ï‡•Å‡§õ ‡§ö‡§∞ ‡§ï‡•ã ‡§∏‡•ç‡§™‡§∑‡•ç‡§ü‡•Ä‡§ï‡§∞‡§£ ‡§î‡§∞ ‡§ü‡§ø‡§™‡•ç‡§™‡§£‡•Ä ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•à‡•§ <br><br><pre> <code class="python hljs">i_false = np.zeros((train_num), dtype=<span class="hljs-string"><span class="hljs-string">'int'</span></span>)</code> </pre> <br>  ‡§è‡§ï ‡§Æ‡•Å‡§ñ‡•å‡§ü‡§æ ‡§ù‡•Ç‡§†‡§æ ‡§∏‡§Ç‡§ï‡•á‡§§‡§ï ‡§π‡•à‡•§  ‡§Ø‡§¶‡§ø 1, ‡§§‡•ã F_msks ‡§∏‡•á ‡§Æ‡§æ‡§∏‡•ç‡§ï f_msks ‡§∏‡•á ‡§Æ‡§æ‡§∏‡•ç‡§ï ‡§∏‡•á ‡§Æ‡•á‡§≤ ‡§®‡§π‡•Ä‡§Ç ‡§ñ‡§æ‡§§‡§æ ‡§π‡•à‡•§  ‡§Ø‡§π ‡§á‡§∏ ‡§¨‡§æ‡§§ ‡§ï‡§æ ‡§∏‡•Ç‡§ö‡§ï ‡§π‡•à ‡§ï‡§ø ‡§π‡§Æ ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ ‡§Æ‡•á‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§ñ‡•ã‡§ú ‡§∞‡§π‡•á ‡§π‡•à‡§Ç - ‡§ù‡•Ç‡§†‡•á ‡§Æ‡•Å‡§ñ‡•å‡§ü‡•á‡•§ <br><br><pre> <code class="python hljs">m2_select = np.zeros((train_num), dtype=<span class="hljs-string"><span class="hljs-string">'int'</span></span>)</code> </pre> <br>  ‡§∏‡§Ç‡§ï‡•á‡§§‡§ï ‡§ï‡§ø ‡§Ø‡§π ‡§§‡§∏‡•ç‡§µ‡•Ä‡§∞ ‡§ö‡•Ä‡§ü ‡§∂‡•Ä‡§ü ‡§Æ‡•á‡§Ç ‡§ö‡•Å‡§®‡•Ä ‡§ó‡§à ‡§π‡•à‡•§ <br><br><pre> <code class="python hljs">batch_size = <span class="hljs-number"><span class="hljs-number">50</span></span> val_len = batch_size + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-comment"><span class="hljs-comment"># i_false - false mask marked as 1 i_false = np.zeros((train_num), dtype='int') # t_imgs, t_msks -test images and masks _txy = [next_pair_f(idx) for idx in range(train_num)] t_imgs = np.array(_txy)[:,:,:,:1].reshape(-1,w_size ,w_size ,1) t_msks = np.array(_txy)[:,:,:,1].reshape(-1,w_size ,w_size ,1) # m2_select - initial 51 pair m2_select = np.zeros((train_num), dtype='int') for k in range(val_len): m2_select[k] = 1 # i_false - false mask marked as 1 i_false = np.zeros((train_num), dtype='int') _txy = [next_pair_f(idx) for idx in range(train_num)] f_imgs = np.array(_txy)[:,:,:,:1].reshape(-1,w_size ,w_size ,1) f_msks = np.array(_txy)[:,:,:,1].reshape(-1,w_size ,w_size ,1) # F_msks - mask array with ~1% false mask F_msks = np.array(_txy)[:,:,:,2].reshape(-1,w_size ,w_size ,1) fig, axes = plt.subplots(2, 10, figsize=(20, 5)) for k in range(10): kk = np.random.randint(train_num) axes[0,k].set_axis_off() axes[0,k].imshow(f_imgs[kk].squeeze(), cmap="gray", norm=NoNorm()) axes[1,k].set_axis_off() axes[1,k].imshow(f_msks[kk].squeeze(), cmap="gray", norm=NoNorm()) plt.show(block=True) false_num = np.arange(train_num)[i_false&gt;0] fig, axes = plt.subplots(3, 10, figsize=(20, 7)) for k in range(10): kk = np.random.randint(false_num.shape[0]) axes[0,k].set_axis_off() axes[0,k].set_title(false_num[kk]) axes[0,k].imshow(f_imgs[false_num[kk]].squeeze(), cmap="gray", norm=NoNorm()) axes[1,k].set_axis_off() axes[1,k].imshow(f_msks[false_num[kk]].squeeze(), cmap="gray", norm=NoNorm()) axes[2,k].set_axis_off() axes[2,k].imshow(F_msks[false_num[kk]].squeeze(), cmap="gray", norm=NoNorm()) plt.show(block=True)</span></span></code> </pre><br>  ‡§π‡§Æ ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ö‡§ø‡§§‡•ç‡§∞ / ‡§Æ‡•Å‡§ñ‡•å‡§ü‡§æ ‡§ú‡•ã‡§°‡§º‡•á ‡§ï‡•á ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§î‡§∞ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§î‡§∞ ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§¨‡§®‡§æ‡§§‡•á ‡§π‡•à‡§Ç‡•§  ‡§Ø‡§æ‡§®‡•Ä  ‡§π‡§Æ 10,000 ‡§ú‡•ã‡§°‡§º‡•á ‡§ï‡•Ä ‡§è‡§ï ‡§®‡§à, ‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞ ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§™‡§∞ ‡§ú‡§æ‡§Å‡§ö ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á‡•§  ‡§π‡§Æ ‡§∏‡§ö‡•ç‡§ö‡•á ‡§î‡§∞ ‡§ù‡•Ç‡§†‡•á ‡§Æ‡•Å‡§ñ‡•å‡§ü‡•á ‡§ï‡•á ‡§∏‡§æ‡§• ‡§Ø‡§æ‡§¶‡•É‡§ö‡•ç‡§õ‡§ø‡§ï ‡§ö‡§ø‡§§‡•ç‡§∞‡•ã‡§Ç ‡§ï‡•ã ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§ ‡§î‡§∞ ‡§®‡•á‡§§‡•ç‡§∞‡§π‡•Ä‡§® ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§ú‡§æ‡§Ç‡§ö‡§§‡•á ‡§π‡•à‡§Ç‡•§  ‡§ä‡§™‡§∞ ‡§ö‡§ø‡§§‡•ç‡§∞ ‡§¶‡§ø‡§ñ‡§æ‡§è ‡§ó‡§è ‡§π‡•à‡§Ç‡•§ <br><br>  ‡§á‡§∏ ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§Æ‡§æ‡§Æ‡§≤‡•á ‡§Æ‡•á‡§Ç, 93 ‡§ù‡•Ç‡§†‡•á ‡§Æ‡•Å‡§ñ‡•å‡§ü‡•á ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§ø‡§è ‡§ó‡§è ‡§•‡•á, ‡§ú‡§ø‡§∏ ‡§™‡§∞ ‡§è‡§ï ‡§ö‡§§‡•Å‡§∞‡•ç‡§≠‡•Å‡§ú ‡§ï‡•á ‡§¨‡§ú‡§æ‡§Ø ‡§è‡§ï ‡§¶‡•Ä‡§∞‡•ç‡§ò‡§µ‡•É‡§§‡•ç‡§§ ‡§ï‡•ã ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§∏‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§ö‡§ø‡§π‡•ç‡§®‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§•‡§æ‡•§ <br><br>  ‡§π‡§Æ ‡§∏‡§π‡•Ä ‡§∏‡•á‡§ü ‡§™‡§∞ ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§Æ‡§æ‡§∏‡•ç‡§ï ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç f_msks ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç <br><br><pre> <code class="python hljs">input_layer = Input((w_size, w_size, <span class="hljs-number"><span class="hljs-number">1</span></span>)) output_layer = build_model(input_layer, <span class="hljs-number"><span class="hljs-number">25</span></span>) model = Model(input_layer, output_layer) model.compile(loss=bce_dice_loss, optimizer=Adam(lr=<span class="hljs-number"><span class="hljs-number">1e-4</span></span>), metrics=[my_iou_metric]) v_false = make_sh(f_imgs, f_msks, val_len) t_pred = model.predict(t_imgs,batch_size=batch_size) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (get_iou_vector(t_msks,t_pred.reshape(<span class="hljs-number"><span class="hljs-number">-1</span></span>,w_size ,w_size ,<span class="hljs-number"><span class="hljs-number">1</span></span>)))</code> </pre><br><pre> <code class="bash hljs">Accuracy 0.9807 loss 0.0092 selected img 404 tested img 10000 : : 1801it [08:13, 3.65it/s] 0.9895299999999841</code> </pre> <br>  ‡§ß‡•ã‡§ñ‡§æ ‡§™‡§§‡•ç‡§∞ ‡§ï‡•á‡§µ‡§≤ 404 ‡§ö‡§ø‡§§‡•ç‡§∞‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤ ‡§ó‡§Ø‡§æ ‡§î‡§∞ ‡§è‡§ï ‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§™‡§∞ ‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§∏‡§ü‡•Ä‡§ï‡§§‡§æ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§π‡•Å‡§à‡•§ <br><br>  ‡§Ö‡§¨ ‡§π‡§Æ ‡§è‡§ï ‡§π‡•Ä ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§™‡§∞ ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§î‡§∞ ‡§ü‡•ç‡§∞‡•á‡§® ‡§ï‡•ã ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ú‡•ã‡§°‡§º‡§§‡•á ‡§π‡•à‡§Ç, ‡§≤‡•á‡§ï‡§ø‡§® ‡§Æ‡§æ‡§∏‡•ç‡§ï ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§π‡§Æ F_msks ‡§ï‡•ã 1% ‡§ù‡•Ç‡§†‡•á ‡§Æ‡§æ‡§∏‡•ç‡§ï ‡§ï‡•á ‡§∏‡§æ‡§• ‡§á‡§®‡§™‡•Å‡§ü ‡§™‡§∞ ‡§ñ‡§ø‡§≤‡§æ‡§§‡•á ‡§π‡•à‡§Ç <br><br><pre> <code class="python hljs">input_layer = Input((w_size, w_size, <span class="hljs-number"><span class="hljs-number">1</span></span>)) output_layer = build_model(input_layer, <span class="hljs-number"><span class="hljs-number">25</span></span>) model = Model(input_layer, output_layer) model.compile(loss=bce_dice_loss, optimizer=Adam(lr=<span class="hljs-number"><span class="hljs-number">1e-4</span></span>), metrics=[my_iou_metric]) v_false = make_sh(f_imgs, F_msks, val_len) t_pred = model.predict(t_imgs,batch_size=batch_size) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (get_iou_vector(t_msks,t_pred.reshape(<span class="hljs-number"><span class="hljs-number">-1</span></span>,w_size ,w_size ,<span class="hljs-number"><span class="hljs-number">1</span></span>)))</code> </pre><br><pre> <code class="bash hljs">Accuracy 0.9821 loss 0.0324 selected img 727 tested img 10000 : : 1679it [25:44, 1.09it/s] 0.9524099999999959</code> </pre> <br>  ‡§π‡§Æ‡•á‡§Ç 727 ‡§ö‡§ø‡§§‡•ç‡§∞‡•ã‡§Ç ‡§ï‡•Ä ‡§è‡§ï ‡§ß‡•ã‡§ñ‡§æ ‡§∂‡•Ä‡§ü ‡§Æ‡§ø‡§≤‡•Ä, ‡§ú‡•ã ‡§ï‡§æ‡§´‡•Ä ‡§Ö‡§ß‡§ø‡§ï ‡§π‡•à ‡§î‡§∞ ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§ï‡•Ä ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡§ü‡•Ä‡§ï‡§§‡§æ, ‡§™‡§ø‡§õ‡§≤‡•á ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§ï‡•Ä ‡§§‡§∞‡§π ‡§π‡•Ä, 0.98953 ‡§∏‡•á ‡§ò‡§ü‡§ï‡§∞ 0.9525 ‡§π‡•ã ‡§ó‡§à‡•§  ‡§π‡§Æ‡§®‡•á ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§Æ‡•á‡§Ç ‡§ù‡•Ç‡§† ‡§ï‡•ã 1% ‡§∏‡•á ‡§ï‡§Æ ‡§ú‡•ã‡§°‡§º‡§æ, 10,000 ‡§Æ‡§æ‡§∏‡•ç‡§ï ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•á‡§µ‡§≤ 93 ‡§ù‡•Ç‡§†‡•á ‡§•‡•á, ‡§≤‡•á‡§ï‡§ø‡§® ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ 3.7% ‡§¨‡§ø‡§ó‡§°‡§º ‡§ó‡§Ø‡§æ‡•§  ‡§î‡§∞ ‡§Ø‡§π ‡§∏‡§ø‡§∞‡•ç‡§´ ‡§ù‡•Ç‡§† ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à, ‡§Ø‡§π ‡§è‡§ï ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§ö‡§æ‡§≤‡§æ‡§ï ‡§π‡•à!  ‡§î‡§∞ ‡§ö‡•Ä‡§ü ‡§∂‡•Ä‡§ü ‡§ï‡•á‡§µ‡§≤ 404 ‡§∏‡•á ‡§¨‡§¢‡§º‡§ï‡§∞ ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§π‡•Ä 727 ‡§ö‡§ø‡§§‡•ç‡§∞‡•ã‡§Ç ‡§§‡§ï ‡§™‡§π‡•Å‡§Ç‡§ö ‡§ó‡§à‡•§ <br><br>  ‡§∏‡•Å‡§ñ‡§¶‡§æ‡§Ø‡§ï ‡§î‡§∞ ‡§ï‡•á‡§µ‡§≤ ‡§è‡§ï ‡§ö‡•Ä‡§ú ‡§ï‡•ã ‡§™‡•ç‡§∞‡§∏‡§®‡•ç‡§® ‡§ï‡§∞‡§®‡§æ <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (len(set(np.arange(train_num)[m2_select&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>]).intersection(set(np.arange(train_num)[i_false&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>])))) <span class="hljs-number"><span class="hljs-number">93</span></span></code> </pre> <br>  ‡§Æ‡•Å‡§ù‡•á ‡§á‡§∏ ‡§≤‡§Ç‡§¨‡•á ‡§∏‡•Ç‡§§‡•ç‡§∞ ‡§ï‡•Ä ‡§µ‡•ç‡§Ø‡§æ‡§ñ‡•ç‡§Ø‡§æ ‡§ï‡§∞‡§®‡•á ‡§¶‡•á‡§Ç, ‡§π‡§Æ ‡§ù‡•Ç‡§†‡•Ä ‡§§‡§∏‡•ç‡§µ‡•Ä‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§∏‡•á‡§ü ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ö‡•Ä‡§ü ‡§∂‡•Ä‡§ü ‡§Æ‡•á‡§Ç ‡§ö‡•Å‡§®‡•á ‡§ó‡§è ‡§ö‡§ø‡§§‡•ç‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§∏‡•á‡§ü ‡§ï‡•á ‡§ö‡•å‡§∞‡§æ‡§π‡•á ‡§ï‡•ã ‡§≤‡•á‡§§‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§¶‡•á‡§ñ‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§è‡§≤‡•ç‡§ó‡•ã‡§∞‡§ø‡§•‡•ç‡§Æ ‡§®‡•á ‡§ß‡•ã‡§ñ‡§æ ‡§∂‡•Ä‡§ü ‡§Æ‡•á‡§Ç ‡§∏‡§≠‡•Ä 93 ‡§ù‡•Ç‡§†‡•Ä ‡§§‡§∏‡•ç‡§µ‡•Ä‡§∞‡•ã‡§Ç ‡§ï‡§æ ‡§ö‡§Ø‡§® ‡§ï‡§ø‡§Ø‡§æ‡•§ <br><br>  ‡§Ø‡§π ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§ï‡§æ‡§´‡•Ä ‡§∏‡§∞‡§≤ ‡§π‡•à, ‡§Ø‡§π 10,000 ‡§ö‡§ø‡§§‡•ç‡§∞‡•ã‡§Ç ‡§ï‡•ã ‡§Æ‡•à‡§®‡•ç‡§Ø‡•Å‡§Ö‡§≤ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à, ‡§Ø‡§π ‡§ï‡•á‡§µ‡§≤ 727 ‡§π‡•à ‡§î‡§∞ ‡§∏‡§≠‡•Ä ‡§ù‡•Ç‡§† ‡§Ø‡§π‡§æ‡§Ç ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§§ ‡§π‡•à‡§Ç‡•§ <br><br>  ‡§≤‡•á‡§ï‡§ø‡§® ‡§è‡§ï ‡§î‡§∞ ‡§≠‡•Ä ‡§¶‡§ø‡§≤‡§ö‡§∏‡•ç‡§™ ‡§î‡§∞ ‡§â‡§™‡§Ø‡•ã‡§ó‡•Ä ‡§§‡§∞‡•Ä‡§ï‡§æ ‡§π‡•à‡•§  ‡§ú‡§¨ ‡§π‡§Æ‡§®‡•á ‡§ö‡•Ä‡§ü ‡§∂‡•Ä‡§ü ‡§∏‡§Ç‡§ï‡§≤‡§ø‡§§ ‡§ï‡•Ä, ‡§§‡•ã ‡§π‡§Æ‡§®‡•á ‡§ï‡•á‡§µ‡§≤ ‡§â‡§® ‡§ö‡§ø‡§§‡•ç‡§∞ / ‡§Æ‡•Å‡§ñ‡•å‡§ü‡§æ ‡§ú‡•ã‡§°‡§º‡•á ‡§ï‡•ã ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§ï‡§ø‡§Ø‡§æ, ‡§ú‡§ø‡§®‡§ï‡•Ä ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡•Ä ‡§∏‡•Ä‡§Æ‡§æ ‡§∏‡•á ‡§ï‡§Æ ‡§π‡•à, ‡§î‡§∞ ‡§π‡§Æ‡§æ‡§∞‡•á ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§Æ‡§æ‡§Æ‡§≤‡•á ‡§Æ‡•á‡§Ç, ‡§π‡§Æ‡§®‡•á ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡•Ä ‡§∏‡§ü‡•Ä‡§ï‡§§‡§æ ‡§ï‡§æ ‡§Æ‡§æ‡§® <b>v_false</b> ‡§∏‡§∞‡§£‡•Ä ‡§Æ‡•á‡§Ç <b>‡§∏‡§π‡•á‡§ú‡§æ ‡§π‡•à</b> ‡•§  ‡§Ü‡§á‡§è ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§Ö‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ ‡§∏‡•á ‡§ú‡•ã‡§°‡§º‡•á ‡§ï‡•ã ‡§¶‡•á‡§ñ‡•á‡§Ç, ‡§ú‡§ø‡§®‡§ï‡§æ ‡§¨‡§π‡•Å‡§§ ‡§ï‡§Æ ‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§®‡•Å‡§Æ‡§æ‡§® ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§π‡•à, ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è, 0.1 ‡§∏‡•á ‡§ï‡§Æ ‡§î‡§∞ ‡§¶‡•á‡§ñ‡•á‡§Ç ‡§ï‡§ø ‡§â‡§®‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§§‡§®‡•á ‡§®‡§ø‡§π‡§ø‡§§ ‡§π‡•à‡§Ç <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (len(set(np.arange(train_num)[v_false&lt;<span class="hljs-number"><span class="hljs-number">0.01</span></span>]).intersection(set(np.arange(train_num)[i_false&gt;<span class="hljs-number"><span class="hljs-number">0</span></span>])))) <span class="hljs-number"><span class="hljs-number">89</span></span></code> </pre> <br><br>  ‡§ú‡•à‡§∏‡§æ ‡§ï‡§ø ‡§Ü‡§™ ‡§¶‡•á‡§ñ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç, 93 ‡§Æ‡•á‡§Ç ‡§∏‡•á 89 ‡§ù‡•Ç‡§†‡•á ‡§Æ‡•Å‡§ñ‡•å‡§ü‡•ã‡§Ç ‡§ï‡§æ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ ‡§á‡§® ‡§Æ‡•Å‡§ñ‡•å‡§ü‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ó‡§ø‡§∞ ‡§ó‡§Ø‡§æ <br><pre> <code class="python hljs">np.arange(train_num)[v_false&lt;<span class="hljs-number"><span class="hljs-number">0.01</span></span>].shape (<span class="hljs-number"><span class="hljs-number">382</span></span>,)</code> </pre> <br>  ‡§á‡§∏ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞, ‡§Ø‡§¶‡§ø ‡§π‡§Æ ‡§Æ‡•à‡§®‡•ç‡§Ø‡•Å‡§Ö‡§≤ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§ï‡•á‡§µ‡§≤ 382 ‡§Æ‡§æ‡§∏‡•ç‡§ï ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç, ‡§î‡§∞ ‡§Ø‡§π 10,000 ‡§ü‡•Å‡§ï‡§°‡§º‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§π‡•à, ‡§§‡•ã ‡§π‡§Æ ‡§¨‡§ø‡§®‡§æ ‡§ï‡§ø‡§∏‡•Ä ‡§Ö‡§´‡§º‡§∏‡•ã‡§∏ ‡§ï‡•á ‡§Ö‡§ß‡§ø‡§ï‡§æ‡§Ç‡§∂ ‡§ù‡•Ç‡§†‡•á ‡§Æ‡§æ‡§∏‡•ç‡§ï ‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á ‡§î‡§∞ ‡§®‡§∑‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á‡•§ <br><br>  ‡§Ø‡§¶‡§ø ‡§ß‡•ã‡§ñ‡§æ ‡§¶‡•á‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§∂‡•Ä‡§ü ‡§Æ‡•á‡§Ç ‡§â‡§®‡•ç‡§π‡•á‡§Ç ‡§∂‡§æ‡§Æ‡§ø‡§≤ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§®‡§ø‡§∞‡•ç‡§£‡§Ø ‡§ï‡•á ‡§¶‡•å‡§∞‡§æ‡§® ‡§ö‡§ø‡§§‡•ç‡§∞‡•ã‡§Ç ‡§î‡§∞ ‡§Æ‡•Å‡§ñ‡•å‡§ü‡•ã‡§Ç ‡§ï‡•ã ‡§¶‡•á‡§ñ‡§®‡§æ ‡§∏‡§Ç‡§≠‡§µ ‡§π‡•à, ‡§§‡•ã ‡§è‡§ï ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§ï‡§¶‡§Æ ‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç, ‡§∏‡§≠‡•Ä ‡§ù‡•Ç‡§†‡•á ‡§Æ‡•Å‡§ñ‡•å‡§ü‡•á, ‡§•‡•ã‡§°‡§º‡§æ ‡§™‡•ç‡§∞‡§∂‡§ø‡§ï‡•ç‡§∑‡§ø‡§§ ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§ï‡•Ä ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡•Ä ‡§ï‡•á ‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‡§∏‡•ç‡§§‡§∞ ‡§∏‡•á ‡§®‡§ø‡§∞‡•ç‡§ß‡§æ‡§∞‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ, ‡§î‡§∞ ‡§∏‡§π‡•Ä ‡§Æ‡§æ‡§∏‡•ç‡§ï ‡§á‡§∏ ‡§∏‡•ç‡§§‡§∞ ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§ï‡•Ä ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø‡§µ‡§æ‡§£‡•Ä ‡§π‡•ã‡§ó‡•Ä ‡•§ <br><br><h3>  ‡§∏‡§Ç‡§ï‡•ç‡§∑‡•á‡§™ ‡§Æ‡•á‡§Ç ‡§¶‡•á‡§®‡§æ </h3><br>  ‡§Ø‡§¶‡§ø ‡§ï‡•Å‡§õ ‡§ï‡§≤‡•ç‡§™‡§®‡§æ‡§∂‡•Ä‡§≤ ‡§¶‡•Å‡§®‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡§ö‡•ç‡§ö‡§æ‡§à ‡§π‡§Æ‡•á‡§∂‡§æ ‡§ö‡§§‡•Å‡§∑‡•ç‡§ï‡•ã‡§£‡•Ä‡§Ø ‡§π‡•ã‡§§‡•Ä ‡§π‡•à, ‡§î‡§∞ ‡§Ö‡§Ç‡§°‡§æ‡§ï‡§æ‡§∞ ‡§ù‡•Ç‡§† ‡§î‡§∞ ‡§ï‡•Å‡§õ ‡§Ö‡§ú‡•ç‡§û‡§æ‡§§ ‡§á‡§ï‡§æ‡§à ‡§®‡•á ‡§∏‡§ö‡•ç‡§ö‡§æ‡§à ‡§ï‡•ã ‡§µ‡§ø‡§ï‡•É‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§´‡•à‡§∏‡§≤‡§æ ‡§ï‡§ø‡§Ø‡§æ ‡§î‡§∞ ‡§ï‡•Å‡§õ ‡§≤‡•ã‡§ó‡•ã‡§Ç ‡§®‡•á ‡§∏‡§§‡•ç‡§Ø ‡§ï‡•ã ‡§ó‡•ç‡§∞‡§π‡§£ ‡§ï‡§ø‡§Ø‡§æ, ‡§î‡§∞ ‡§ö‡§§‡•Å‡§∞‡•ç‡§≠‡•Å‡§ú ‡§ù‡•Ç‡§†‡•á ‡§π‡•à‡§Ç, ‡§§‡•ã, ‡§ï‡•É‡§§‡•ç‡§∞‡§ø‡§Æ ‡§¨‡•Å‡§¶‡•ç‡§ß‡§ø ‡§î‡§∞ ‡§ß‡•ã‡§ñ‡§æ ‡§∂‡•Ä‡§ü‡•ç‡§∏ ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§æ‡§ï‡•É‡§§‡§ø‡§ï ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§§‡•á ‡§π‡•Å‡§è, ‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§™‡•Ç‡§õ‡§§‡§æ‡§õ ‡§ú‡§≤‡•ç‡§¶‡•Ä ‡§î‡§∞ ‡§Ü‡§∏‡§æ‡§®‡•Ä ‡§∏‡•á ‡§Æ‡§ø‡§≤ ‡§ú‡§æ‡§è‡§ó‡•Ä‡•§ ‡§î‡§∞ ‡§ù‡•Ç‡§† ‡§î‡§∞ ‡§ï‡§™‡§ü ‡§ï‡•ã ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡•á ‡§î‡§∞ ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡•á ‡§Æ‡§ø‡§ü‡§æ ‡§¶‡•á‡§§‡§æ ‡§π‡•à‡•§ <br><br>  ‡§™‡•Ä‡§è‡§∏ ‡§Ö‡§Ç‡§°‡§æ‡§ï‡§æ‡§∞, ‡§§‡•ç‡§∞‡§ø‡§ï‡•ã‡§£, ‡§∏‡§∞‡§≤ ‡§¨‡§π‡•Å‡§≠‡•Å‡§ú ‡§ï‡§æ ‡§™‡§§‡§æ ‡§≤‡§ó‡§æ‡§®‡•á ‡§ï‡•Ä ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§ï‡§æ‡§∞ ‡§ï‡•ã ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§è‡§Ü‡§à ‡§ï‡•ã ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§∂‡§∞‡•ç‡§§ ‡§π‡•à‡•§  ‡§Ø‡§¶‡§ø ‡§Ü‡§™‡§ï‡•ã ‡§™‡§§‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à ‡§ï‡§ø ‡§Ö‡§Ç‡§°‡§æ‡§ï‡§æ‡§∞ ‡§î‡§∞ ‡§§‡•ç‡§∞‡§ø‡§ï‡•ã‡§£ ‡§ï‡•à‡§∏‡•á ‡§¶‡§ø‡§ñ‡§§‡•á ‡§π‡•à‡§Ç, ‡§§‡•ã ‡§Ü‡§™‡§ï‡•ã ‡§∏‡§°‡§º‡§ï ‡§ï‡•á ‡§∏‡§≠‡•Ä ‡§∏‡§Ç‡§ï‡•á‡§§ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•á‡§Ç‡§ó‡•á ‡§î‡§∞ ‡§Ü‡§™‡§ï‡§æ AI ‡§ó‡§≤‡§§ ‡§ï‡§æ‡§∞ ‡§Æ‡•á‡§Ç ‡§®‡§ø‡§ï‡§≤ ‡§ú‡§æ‡§è‡§ó‡§æ‡•§ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi440120/">https://habr.com/ru/post/hi440120/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi440110/index.html">Android ‡§ï‡•á ‡§ì‡§™‡§®‡§∏‡•ã‡§∞‡•ç‡§∏ ‡§á‡§ï‡•ã‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§Æ‡•á‡§Ç ‡§ó‡•ã‡§§‡§æ ‡§≤‡§ó‡§æ‡§è‡§Å</a></li>
<li><a href="../hi440112/index.html">‡§ï‡•à‡§∏‡•á ‡§π‡§Æ‡§®‡•á ‡§á‡§Ç‡§ü‡§∞‡§µ‡•ç‡§Ø‡•Ç ‡§ï‡•ã ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π ‡§∏‡•á ‡§¨‡§¶‡§≤ ‡§¶‡§ø‡§Ø‡§æ</a></li>
<li><a href="../hi440114/index.html">‡§®‡§ø‡§∞‡•ç‡§£‡§Ø-‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§ó‡•á‡§Æ‡§™‡•ç‡§≤‡•á ‡§°‡§ø‡§ú‡§º‡§æ‡§á‡§®</a></li>
<li><a href="../hi440116/index.html">‡§¶‡§ó‡§º‡§æ‡§ú‡§º: ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡§Ø‡§æ‡§Å</a></li>
<li><a href="../hi440118/index.html">Microsoft ‡§™‡§∞ ‡§™‡•ç‡§∞‡•Ä‡§Æ‡§ø‡§Ø‡§∞ ‡§´‡•Ä‡§≤‡•ç‡§° ‡§á‡§Ç‡§ú‡•Ä‡§®‡§ø‡§Ø‡§∞ ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§ø‡§•‡§ï</a></li>
<li><a href="../hi440122/index.html">‡§ï‡•à‡§∏‡•á ‡§Ö‡§™‡§®‡•á ‡§π‡§æ‡§•‡•ã‡§Ç ‡§∏‡•á ‡§è‡§ï ‡§∏‡•å‡§∞ ‡§ü‡•â‡§∞‡•ç‡§ö ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è (‡§≠‡§æ‡§ó 2)</a></li>
<li><a href="../hi440124/index.html">‡§ï‡•ç‡§Ø‡•ã‡§Ç ABBYY ‡§Æ‡•ã‡§¨‡§æ‡§á‡§≤ ‡§§‡§Ç‡§§‡•ç‡§∞‡§ø‡§ï‡§æ ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï, ‡§è‡§ï ‡§∏‡§Ç‡§ó‡•ç‡§∞‡§π‡§æ‡§≤‡§Ø ‡§î‡§∞ ‡§∞‡•à‡§Ç‡§°‡§Æ ‡§ï‡•â‡§´‡•Ä ‡§ï‡•á ‡§°‡•á‡§µ‡§≤‡§™‡§∞‡•ç‡§∏</a></li>
<li><a href="../hi440130/index.html">‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§µ‡§ø‡§Æ</a></li>
<li><a href="../hi440134/index.html">‡§ï‡§ø‡§∏‡•Ä ‡§∏‡§æ‡§á‡§ü ‡§ï‡•ã ‡§∏‡•ç‡§ü‡•á‡§ü‡§ø‡§ï‡•ç‡§∏ ‡§™‡§∞ ‡§Æ‡§æ‡§á‡§ó‡•ç‡§∞‡•á‡§ü ‡§ï‡§∞‡§®‡§æ: ‡§™‡•ç‡§∞‡•á‡§∞‡§£‡§æ, ‡§≤‡§æ‡§ó‡§§, ‡§ï‡§æ‡§∞‡•ç‡§Ø</a></li>
<li><a href="../hi440136/index.html">‡§Ü‡§∞‡•ç‡§ü‡§ø‡§´‡§ø‡§∂‡§ø‡§Ø‡§≤ ‡§á‡§Ç‡§ü‡•á‡§≤‡§ø‡§ú‡•á‡§Ç‡§∏ ‡§ï‡•ç‡§∑‡§ø‡§§‡§ø‡§ú ‡§ú‡•Ä‡§∞‡•ã ‡§°‡•â‡§®: ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ ‡§µ‡•ç‡§Ø‡§µ‡§π‡§æ‡§∞</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>