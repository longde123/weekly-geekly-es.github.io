<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëäüèΩ üë∂üèº üï∫üèº Gotta Go Fast: Building for Speed ‚Äã‚Äãen iOS. Parte 2 üéâ üë©üèø‚Äçü§ù‚Äçüë®üèæ üíÜüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A veces puede encontrarse en una situaci√≥n en la que su aplicaci√≥n no puede funcionar bien. Aqu√≠ hay algunos instrumentos que puede usar y las mejores...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gotta Go Fast: Building for Speed ‚Äã‚Äãen iOS. Parte 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/e-Legion/blog/436440/"><img src="https://habrastorage.org/webt/tz/wv/z9/tzwvz9iexzkjdiqq7-3qrb6226w.png"><br><br>  A veces puede encontrarse en una situaci√≥n en la que su aplicaci√≥n no puede funcionar bien.  Aqu√≠ hay algunos instrumentos que puede usar y las mejores pr√°cticas que puede implementar para mejorar las cosas. <a name="habracut"></a><br><br>  Esta es la segunda parte del art√≠culo basado en la charla magistral impartida por Luke Parham, un ingeniero de iOS en Fyusion y autor de tutoriales para el desarrollo de iOS en RayWenderlich.com, en la Conferencia Internacional de Desarrolladores M√≥viles <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MBLT DEV</a> en 2017. <br><br><h2>  Instrumento de animaci√≥n central </h2><br>  Si ha realizado muchos perfiles y ha encontrado todos sus cuellos de botella, a veces todav√≠a hay problemas de rendimiento.  Esto se debe a la forma en que las cosas de la interfaz de usuario funcionan en iOS.  Cada vez que configura marcos o crea UIViews, lo que realmente sucede debajo del cap√≥ es hacer una CATransaction o el sistema lo hace por usted.  Y estos se env√≠an a una cosa llamada "el servidor de render".  El servidor de renderizado se encarga de hacer animaciones.  Si haces un UIView animateWith: lo que sea, todo eso suceder√° en el servidor de representaci√≥n, que es otro hilo y maneja todas las animaciones de la aplicaci√≥n. <br><br><img src="https://habrastorage.org/webt/pl/st/mf/plstmfhgbvefqbeoxgair-w4yh0.jpeg"><br><br>  Aqu√≠ hay un analizador de tiempo que tiene un indicador de velocidad de fotogramas en la parte superior.  Y en la parte inferior est√° la parte m√°s importante de las opciones de depuraci√≥n.  Vamos a contar sobre las dos cosas m√°s importantes y m√°s f√°ciles de solucionar. <br><br><img src="https://habrastorage.org/webt/wv/qv/q_/wvqvq_97keqipatnlv6fettbkmk.jpeg"><br><br>  El primero es capas de colores mezclados.  Este es realmente f√°cil de arreglar.  Y esto nos lleva a la primera secci√≥n de actuaci√≥n policial.  B√°sicamente, muchas aplicaciones tienen problemas: incluso iMessage, querida aplicaci√≥n de Apple, est√° haciendo muchas cosas no realmente geniales.  Aqu√≠ vemos que hay mucho rojo: <br><br><img src="https://habrastorage.org/webt/ym/n6/ei/ymn6eidnyg-8hgprlklb8fezsey.jpeg"><br><br>  Rojo significa que tiene etiquetas que tienen un fondo blanco.  Y luego est√°n encima de otro fondo blanco y, por alguna raz√≥n, no est√°n configurados para ser opacos.  Entonces la licuadora est√° combinando estos colores, blanco y blanco y, como resultado, est√° obteniendo un color blanco.  Por cada p√≠xel que tiene rojo, est√° haciendo c√°lculos adicionales sin ning√∫n beneficio, a√∫n obtienes blanco en el fondo. <br><br>  Para evitar esto, puede hacer que las capas sean opacas siempre que sea posible si son del mismo color en el mismo color.  Si la subvista tiene el mismo color de fondo, la combinaci√≥n no es necesaria.  Todo lo que tiene que hacer es establecer la opacidad de sus capas en 1 y luego asegurarse de que est√© configurado el color de fondo.  Si el color de fondo es claro, no siempre ser√° opaco. <br><br><img src="https://habrastorage.org/webt/dk/of/us/dkofush4_wsglsxcge8m2tygf5q.jpeg"><br><br><h3>  Representaci√≥n fuera de pantalla </h3><br>  Los elementos renderizados fuera de pantalla se mostrar√°n en amarillo si activa esta opci√≥n.  Lo bueno del instrumento Core Animation es que puedes ver otras aplicaciones.  Puede activar estas opciones y luego ir a cualquier aplicaci√≥n en su sistema y puede ver qu√© est√°n haciendo mal.  En este caso, Instagram tiene estas peque√±as burbujas en la parte superior que te muestran las historias de las personas. <br><br><img src="https://habrastorage.org/webt/tq/vw/vr/tqvwvrzd2lo4se8-1s9iojgbqri.jpeg"><br><br>  Como puede ver, todos son amarillos.  En iPhone 5 son agresivamente lentos.  Y esto se debe a que el renderizado fuera de pantalla es mucho peor que la mezcla alfa.  Se detiene la GPU.  Termina teniendo que hacer c√°lculos adicionales de ida y vuelta entre la GPU y la CPU, por lo que obtienes paradas adicionales que son innecesarias la mayor parte del tiempo. <br><br><h3>  Bezier camino en lugar de ver las curvas </h3><br>  La siguiente regla: no use la propiedad de radio de esquina.  Si tiene una vista y configura view.layer.cornerRadius, esto siempre presenta el renderizado fuera de pantalla.  En su lugar, puede usar una ruta bezier y el mismo tipo de material CGBitmap de antes.  En este caso, un contexto UIGraphics.  Esta funci√≥n funciona con UIImage que toma en un tama√±o, hace esquinas redondeadas en funci√≥n de ese tama√±o y utiliza una ruta bezier para recortar.  Luego recortamos la imagen y la devolvemos del contexto UIImage.  Por lo tanto, esto devolver√° una imagen redondeada previamente en lugar de redondear la vista dentro de la cual se encuentra la imagen. <br><br><img src="https://habrastorage.org/webt/fy/6k/_8/fy6k_8ymknn7sd52mzccdrjj-ny.jpeg"><br><br>  El ultimo ejemplo.  Aqu√≠ est√° Twitter y esta es una vista en tiempo real de esta animaci√≥n en ejecuci√≥n.  Se supone que se abre y le muestra la informaci√≥n, pero todo este texto y otras cosas se han visualizado fuera de la pantalla, por lo que se ralentiz√≥ la animaci√≥n.  Esta es la cosa de menor rendimiento que he encontrado en una aplicaci√≥n que se encuentra en la App Store. <br><br><img src="https://habrastorage.org/webt/5a/kw/uk/5akwuksf-c6laq1eyzdd_njtpqm.gif"><br><br>  Entonces, ¬øc√≥mo sucedi√≥ esto?  Una cosa que hace que esto suceda es la propiedad shouldRasterize de un CALayer.  Es una opci√≥n en una capa que le permite almacenar en cach√© las texturas que se han renderizado.  Hay muchas reglas extra√±as.  Al igual que si no se ha utilizado en una cierta cantidad de milisegundos, abandonar√° el cach√©.  Y luego, si sale de la memoria cach√©, se representar√° fuera de la pantalla en cada fotograma.  Realmente no vale la pena los posibles beneficios que tiene.  Y es dif√≠cil verificar si realmente lo est√° beneficiando. <br><br><h3>  Resumen </h3><br>  Evite el renderizado fuera de la pantalla y la mezcla alfa si puede.  La mezcla alfa a veces es necesaria.  Es mejor que el renderizado fuera de pantalla.  El renderizado fuera de pantalla ocurre por un par de razones.  Puede suceder desde las sombras;  puede suceder desde el redondeo de la esquina;  Puede suceder por el enmascaramiento. <br><br>  Haga las vistas opacas cuando sea posible.  No use la propiedad de radio de esquina, use las rutas de Bezier tanto como pueda.  Adem√°s, no use las propiedades de sombra de capa si est√° haciendo sombras de texto.  Puedes usar NSShadow en su lugar. <br><br><h2>  Rastreo de actividad </h2><br>  El rastreo de actividad es una especie de versi√≥n de nivel mucho m√°s bajo de algo que har√≠a el generador de perfiles de tiempo.  Te da una vista de todos tus hilos y c√≥mo est√°n interactuando.  Y es bastante complicado.  Pero tiene caracter√≠sticas realmente agradables que puede configurar. <br><br><h3>  Sistema de seguimiento </h3><br>  Use <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">System Trace</a> para rastrear tiempos para eventos espec√≠ficos.  Puede configurar formas de rastrear eventos espec√≠ficos y secciones de c√≥digo y ver cu√°nto tardan en una aplicaci√≥n del mundo real.  Le permite obtener informaci√≥n detallada sobre lo que est√° sucediendo en su sistema. <br><br><ul><li>  Use "Publicaciones de se√±alizaci√≥n" para indicar cu√°ndo sucede algo importante. </li><li>  Los puntos son eventos √∫nicos cuando / si quieres ver como ocurri√≥ una animaci√≥n o algo as√≠. </li><li>  Las regiones tienen un principio y un fin.  Para la decodificaci√≥n de im√°genes, puede ver cu√°ndo comienza y cu√°ndo termina para poder estimar cu√°nto tiempo tom√≥ en general. </li></ul><br><br><img src="https://habrastorage.org/webt/7r/dr/kg/7rdrkgwhhgvrcbhuizxs02jxkeq.jpeg"><br><br>  Aqu√≠ es c√≥mo configurar una plantilla de rastreo del sistema.  Haces esta lista de eventos que pueden suceder.  Entonces, el n√∫mero uno es una descarga de im√°genes.  Dos es una decodificaci√≥n de im√°genes, y tres es esta animaci√≥n de inclinaci√≥n que agregu√©.  B√°sicamente, configura algunas opciones adicionales para ver qu√© colores van a ser.  B√°sicamente, le env√≠a un n√∫mero como 1 o 2, ser√° rojo o verde seg√∫n lo que env√≠e all√≠. <br><br><img src="https://habrastorage.org/webt/ub/lx/qx/ublxqxc19dzgw-gonkynp2xrcfq.jpeg"><br><br>  Si est√° en Objective-C, debe importar este encabezado kdebug_signpost.  En Swift, solo est√° disponible para ti. <br><br><img src="https://habrastorage.org/webt/xf/k1/zd/xfk1zdzomfbd_wvseum7t215drs.jpeg"><br><br>  Y luego debe llamar a esta funci√≥n, kdebug_signpost o kdebug_signpost_start y kdebug_ signpost_end.  Y funcionan con el c√≥digo que ingresaste.  As√≠ que configuramos esos tres eventos con esos n√∫meros.  Entonces pasas ese n√∫mero aqu√≠.  Le pasa un objeto que es b√°sicamente la clave para este evento.  Y luego, el √∫ltimo n√∫mero es el color.  Entonces 2 es como si supieras rojo o algo as√≠. <br><br>  Tengo un proyecto de ejemplo Swift en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GitHub</a> .  En cierto modo simplifiqu√© las cosas.  Hay un comienzo y un final que son un poco m√°s f√°ciles de manejar. <br><br>  As√≠ se ver√° una vez que haya ejecutado un seguimiento.  No te mostrar√° nada al principio.  Luego, cuando elimines la aplicaci√≥n, har√° algunos c√°lculos y te mostrar√° cosas aqu√≠. <br><br><img src="https://habrastorage.org/webt/y_/fo/aa/y_foaaegix7nld0j5y8y8drigvs.jpeg"><br><br>  Aqu√≠ podemos ver nuestras descargas de im√°genes que tomaron alrededor de 200 milisegundos.  Y luego, hay una decodificaci√≥n de im√°genes que tom√≥ como 40 milisegundos.  Esto es realmente genial si tienes un mont√≥n de cosas locas en tu aplicaci√≥n.  Puede configurar todos estos eventos y luego ver la lectura de cu√°nto tardan cada uno y c√≥mo interact√∫an entre s√≠.  Eso es todo para el seguimiento del sistema. <br><br><h2>  Bono </h2><br>  Eche un vistazo al ejemplo de una desaceleraci√≥n de la c√°mara donde podemos ver qu√© sucede si hay elementos de AR en la aplicaci√≥n: <br><br><img src="https://habrastorage.org/webt/gv/ir/ht/gvirht8m60rtskuhbx3pld8w9ci.jpeg"><br><br>  Aplicamos un efecto y ocupaba el 26.4% de todos los c√°lculos en cada cuadro solo para calcular un efecto.  Y estaba ralentizando la c√°mara a algo loco como 10 cuadros por segundo. <br><br>  Cuando busqu√© aqu√≠ y mir√© este gran cuello de botella, vi que lo mejor que estaba haciendo la mayor parte del trabajo era el uso de NSDispatchData intenso. <br><br><img src="https://habrastorage.org/webt/ks/6w/av/ks6wavxsrckbxvp1vacruzjuigm.jpeg"><br><br>  Esta es una subclase de NSData.  Y todo esto es obtener bytes con la funci√≥n de rango.  Y esa es una funci√≥n simple.  Todo lo que hace es tomar algunos bytes de un dato y colocarlo en otro lugar.  No es una locura, pero, aparentemente, todas las cosas que estaba haciendo internamente ocupaban el 18% de este 26%. <br><br>  <b>Regla n. ¬∞ 1</b> <br><br>  Es un NSData y est√° obteniendo bytes.  Eso es algo simple de Objective-C, pero si te encuentras con eso y eso es un cuello de botella, entonces es hora de cambiar a usar C en su lugar.  Dado que el cuello de botella fue alrededor de una llamada para obtener valores flotantes, puede usar memcpy ().  Con memcpy () puede mover una porci√≥n de datos a otro lugar.  Corta muchos gastos generales. <br><br>  Si miras como NSData, estas clases son como miles de l√≠neas.  As√≠ que hay muchas cosas pasando all√≠.  En este caso, tenemos el original en rojo. <br><br><img src="https://habrastorage.org/webt/0-/g5/bf/0-g5bfby8b-tindkrc-kng4vqsk.jpeg"><br><br>  Aqu√≠ obtienes un rango, toma algunos bytes y c√≥pialos en el b√∫fer.  La versi√≥n memcpy () es casi exactamente la misma cosa.  No parece m√°s complicado y agresivamente hace menos cosas. <br><br><img src="https://habrastorage.org/webt/0_/io/la/0_iolawo_uvibvyrwifn8oioocc.jpeg"><br><br>  Cuando cambiamos eso y lo ejecutamos nuevamente, las cosas pasaron del 26% al 0.6% al cambiar esa l√≠nea a memcpy ().  Y luego, la velocidad de fotogramas aument√≥ dram√°ticamente. <br><br>  <b>Regla # 2</b> <br><br>  Evite sobregirar si est√° haciendo alg√∫n tipo de aplicaci√≥n de renderizado o incluso si est√° haciendo algo como una barra de carga.  Muchas veces los eventos suceder√°n m√°s de 60 cuadros por segundo.  En ese caso, puede acelerar esta actualizaci√≥n de la interfaz de usuario utilizando un CADisplayLink.  Tiene una propiedad llamada preferredFramesPerSecond.  Eso es solo para iOS 10 o superior.  Para los m√°s antiguos, debe hacerlo manualmente, pero sigue siendo √∫til. <br><br><img src="https://habrastorage.org/webt/or/zx/bw/orzxbwk4shxzoc_vtsft1pgnhcy.jpeg"><br><br>  Puede establecer la velocidad de fotogramas deseada.  Muchas veces, por ejemplo, para cargar barras, lo establecer√© alrededor de 15 fotogramas por segundo porque realmente no importa.  No tiene que actualizar 60 cuadros por segundo.  Esto puede ahorrarle mucho trabajo que realmente hace si las cosas se ven igual en ambos sentidos. <br><br>  <b>Regla # 3</b> <br><br>  Utilice el almacenamiento en cach√© de IMP.  Esto es √∫til solo para Objective-C.  En Objective-C, cuando llama a un m√©todo oculto, en realidad est√° llamando a la funci√≥n de env√≠o de mensajes Objective-C (objc_msgSend ()).  Si est√° viendo estas llamadas en trazas que ocupan una gran cantidad de tiempo, esto es algo de lo que puede deshacerse f√°cilmente.  B√°sicamente es la tabla de cach√© donde busca punteros de funci√≥n d√°ndole un nombre de alg√∫n m√©todo.  En lugar de hacer esa b√∫squeda cada vez, puede almacenar en cach√© el puntero de funci√≥n y simplemente llamarlo directamente.  Es al menos dos veces m√°s r√°pido por lo general. <br><br><img src="https://habrastorage.org/webt/j-/ns/cg/j-nscgmdv5ex1an1s2d2mhn9yxg.jpeg"><br><br>  Si no tiene un puntero en cach√©, puede tomarlo llamando a methodForSelector:.  Luego simplemente llamamos a este m√©todo como una llamada a funci√≥n normal.  Usted pasa el selector al objeto y luego cualquier argumento viene despu√©s de eso. <br><br>  <b>Regla n. ¬∞ 4</b> <br><br>  No use ARC.  ARC es algo que agrega un mont√≥n de sobrecarga.  En su c√≥digo, tiene todas estas cosas sucediendo y salpica todo con retenciones y lanzamientos.  Hace tanto como tiene que hacer, y hace un mont√≥n m√°s.  Entonces, si realmente desea optimizar, si ve que tiene un mont√≥n de llamadas retenidas y liberadas en su rastreo y que est√°n tomando mucho tiempo, puede cambiar a no usar ARC, lo que es mucho m√°s trabajo. <br><br>  Tambi√©n es dif√≠cil hacer que tus compa√±eros de equipo acepten hacer esto y no enojarse por eso. <br><br>  No use Swift si es especialmente sensible al rendimiento.  Swift es un buen lenguaje.  Tiene algunas caracter√≠sticas realmente buenas.  Pero tambi√©n usa m√°s repeticiones en el interior para obtener un alto nivel de funcionalidad.  Si desea ser r√°pido, debe acercarse lo m√°s posible al ensamblaje lo m√°s cerca posible de las cosas de bajo nivel.  Y eso ser√° m√°s r√°pido porque es menos c√≥digo autom√°ticamente. <br><br>  Si est√° investigando las cosas si pens√≥ que era interesante, hay un libro realmente bueno llamado "iOS y MacOS: Ajuste de rendimiento" de Marcel Weiher.  Se profundiza en muchas de estas cosas y mucho m√°s all√° de esto.  Tambi√©n tengo una serie de videos.  Hago videos para RayWenderlich.  Hice una serie de instrumentos pr√°cticos que profundiza y explica un poco m√°s estas cosas y tiene algunos ejemplos.  Entonces, si desea obtener m√°s informaci√≥n sobre los instrumentos espec√≠ficamente, puede ver esa serie de videos.  Y luego, videos de WWDC: hay un mont√≥n de ellos que explican diferentes cosas de rendimiento como esta. <br><br><h2>  Video </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠</a> puede encontrar la primera parte de un art√≠culo basado en la charla de Luke.  Mira la charla completa aqu√≠: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/tZIQjrPdFcI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es436440/">https://habr.com/ru/post/es436440/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es436430/index.html">Confesi√≥n de un graf√≥mano</a></li>
<li><a href="../es436432/index.html">SAP: ¬øQu√© necesitas para comenzar a aprender SAPUI5?</a></li>
<li><a href="../es436434/index.html">PVS-Studio para Java</a></li>
<li><a href="../es436436/index.html">El CERN planea construir un nuevo acelerador con una longitud de t√∫nel de 100 km.</a></li>
<li><a href="../es436438/index.html">Roscosmos llam√≥ a las posibles razones de la p√©rdida de comunicaci√≥n con el observatorio orbital Spektr-R</a></li>
<li><a href="../es436442/index.html">Una cabeza es buena y dos son mejores, o empareje la programaci√≥n en acci√≥n</a></li>
<li><a href="../es436444/index.html">Despliegue invisible de una aplicaci√≥n monol√≠tica en producci√≥n en AWS. Experiencia personal</a></li>
<li><a href="../es436448/index.html">Revise el monitor IPS de 27 "Acer HA270bid: para la superaci√≥n personal</a></li>
<li><a href="../es436450/index.html">Telecontrol y control, libertad y gobierno. Conversaci√≥n con Staply</a></li>
<li><a href="../es436452/index.html">7 √°reas de desarrollo de Linux en 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>