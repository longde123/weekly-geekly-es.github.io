<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§¶ üêè üçé Zabbix sur les st√©ro√Ødes: comment fonctionne la plate-forme de surveillance unifi√©e de Sbertech üåΩ ‚ôìÔ∏è ü¶ñ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr! Je m'appelle Sergey Prutskikh, je suis en charge de la direction de suivi de Sberbank-Technology. L'objectif principal de notre organis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zabbix sur les st√©ro√Ødes: comment fonctionne la plate-forme de surveillance unifi√©e de Sbertech</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/420731/"> Bonjour, Habr!  Je m'appelle Sergey Prutskikh, je suis en charge de la direction de suivi de Sberbank-Technology.  L'objectif principal de notre organisation est le d√©veloppement et le test de produits logiciels pour Sberbank.  Pour cela, la soci√©t√© dispose d'une grande infrastructure informatique - 15 000 serveurs sont r√©partis dans environ 1 500 environnements de test, qui sont li√©s √† plus de 500 syst√®mes automatis√©s.  Au total, environ 10 000 sp√©cialistes travaillent avec eux. <br><br>  En 2015, nous avons commenc√© √† cr√©er un service de surveillance centralis√©.  De plus, tout se limitait non seulement √† la mise en ≈ìuvre.  Il a fallu √©laborer de nombreux r√®glements, instructions, ainsi que les relations entre les unit√©s de Sbertech dans le cadre du suivi.  Dans cet article, je vais vous expliquer en d√©tail comment nous avons choisi la plate-forme, sur quels principes nous avons tout cr√©√© et avec quoi nous nous sommes retrouv√©s. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dd4/b4c/166/dd4b4c166ea76bb4602de50d1267fc4f.png"><br><a name="habracut"></a><br><h3>  Les principaux objectifs et id√©ologie du projet </h3><br>  Voici les objectifs que nous avons poursuivis dans le cadre du projet: <br><br><ul><li>  Obtenir des donn√©es fiables sur la taille et la composition de l'infrastructure informatique; <br></li><li>  Optimisation de l'utilisation des installations informatiques; <br></li><li>  R√©duire les co√ªts de support et d'exploitation de l'infrastructure informatique des environnements de d√©veloppement et de test; <br></li><li>  Prise en charge de l'infrastructure informatique pr√™te pour le d√©veloppement et les tests; <br></li><li>  Informer rapidement les sp√©cialistes des probl√®mes dans le travail des environnements de test; <br></li><li>  L'audit de conformit√© des environnements de test et des AFM industriels n'est pas une t√¢che tr√®s courante pour nous; <br></li><li>  Collecte de donn√©es pour les rapports sur les r√©sultats des tests, fournissant la mesure des param√®tres critiques √† toutes les √©tapes des tests. <br></li></ul><br>  Pour l'avenir, je peux dire que tous les objectifs √† un degr√© ou √† un autre ont d√©j√† √©t√© atteints √† ce jour.  Et certains probl√®mes connexes, la surveillance ont √©galement aid√© √† r√©soudre. <br><br>  En plus des objectifs, nous avons formul√© des principes, une id√©ologie, auxquels nous avons adh√©r√© tout au long du projet: <br><br><ul><li>  La satisfaction des utilisateurs est l'un des principaux indicateurs du suivi.  Lors de la conf√©rence ITSMf 2017, j'ai parl√© de la surveillance de l'infrastructure informatique, et le cinqui√®me N'EST PAS dans ce rapport: "NE FORCEZ PAS vos employ√©s √† travailler avec le syst√®me de surveillance."  Il s'agit de motiver, pas d'obliger.  Ceci est r√©alis√© gr√¢ce √† des KPI correctement construits.  Au d√©but du service, ces KPI peuvent ne pas encore appara√Ætre.  N√©anmoins, il est tr√®s important d√®s les premiers jours de surveillance de commencer √† b√©n√©ficier aux clients potentiels. <br></li><li>  Temps minimum de raffinement.  Pour cela, nous utilisons des √©l√©ments Agiles.  Ils aident √† fournir de nouvelles fonctionnalit√©s le plus rapidement possible et √† recevoir les commentaires des clients. <br></li><li>  L'ouverture du syst√®me, √† la fois pour les am√©liorations, qui se traduit par la cr√©ation d'un seul backlog, les demandes auxquelles tout employ√© peut √©crire, et en termes de fourniture d'informations - notre service vous permet d'obtenir des informations sur la configuration de surveillance, qui, en r√®gle g√©n√©rale, est cach√©e. <br></li><li>  Haut degr√© d'int√©gration dans le travail quotidien.  Notre priorit√© est de mettre en ≈ìuvre quotidiennement les fonctionnalit√©s dont les utilisateurs ont besoin.  Cela a contribu√© en peu de temps √† populariser le service de surveillance au sein de l'entreprise. <br></li></ul><br><h3>  Le choix du syst√®me de surveillance </h3><br>  Dans presque tous les projets auxquels j'ai particip√©, t√¥t ou tard, un tableau est apparu comparant les fonctionnalit√©s de divers syst√®mes, dans lesquels un syst√®me particulier avait un avantage √©vident. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/23b/af4/364/23baf43643a36a9c93588c19ca2d7f19.png"><br><br>  √Ä mon avis, une telle analyse comparative <b>ne peut √™tre</b> effectu√©e avant le d√©but imm√©diat de la collaboration avec le service de surveillance, et plus encore, il ne vaut pas la peine de prendre une d√©cision sur le choix de l'une ou l'autre solution sur la base de cette analyse.  Tant que le syst√®me de votre entreprise ne fonctionne pas pendant au moins une courte p√©riode, il est impossible de juger sans ambigu√Øt√© quelles fonctions sp√©cifiques de votre entreprise seront demand√©es.  Ces tableaux peuvent vous aider si vous souhaitez changer le syst√®me de surveillance pour une raison quelconque. <br><br><h3>  Comparaison avec d'autres installations Zabbix </h3><br>  Vous pouvez beaucoup parler de la fa√ßon de comparer la taille de plusieurs installations de syst√®mes de surveillance, mais toutes les caract√©ristiques s√©lectionn√©es pour cela, √† mon avis, sont assez subjectives.  Afin que vous ayez une id√©e plus pr√©cise de la taille de notre installation, j'ai d√©cid√© de donner des exemples de services similaires dans d'autres entreprises, dont les repr√©sentants de Zabbix ont parl√© lors de la conf√©rence Highload. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/586/afa/bf5/586afabf5a7223a2fbe89cb714e3ec8e.png"><br><br>  Comme vous pouvez le voir, l'instance Zabbix dans Sbertech n'est pas beaucoup inf√©rieure aux plus grandes installations, et en termes de charge totale, elle est √† √©galit√© avec elles. <br><br><h3>  Avantages de Zabbix </h3><br>  Au second semestre 2017, nous avons men√© un pilote Zabbix pour surveiller l'infrastructure PROM.  Nous avons ensuite formul√© un certain nombre de crit√®res qualitatifs que nous attribuons aux avantages absolus de Zabbix: <br><br><ul><li>  <i>Open source</i>  Possibilit√©s illimit√©es de traitement et de personnalisation. <br></li><li>  <i>Ouverture du m√©canisme et source de collecte des m√©triques.</i>  Dans les solutions d'entreprise commerciale, de nombreuses mesures sont incompr√©hensibles - divers r√©seaux de zombies, fuites de m√©moire, que m√™me le support technique du fournisseur ne peut souvent pas expliquer.  Zabbix n'a pas un tel probl√®me - vous pouvez toujours dire clairement comment il collecte certaines m√©triques.  Ainsi, la cr√©dibilit√© du syst√®me par les administrateurs syst√®me augmente. <br></li><li>  <i>Facilit√© de mise √† l'√©chelle relative</i> - principalement en raison de l'introduction de serveurs proxy suppl√©mentaires, auxquels vous pouvez transf√©rer une partie de la charge.  Si vous atteignez la limite de performance d'une instance, il est possible d'augmenter la seconde et de combiner les deux sous un syst√®me de visualisation (Grafana). <br></li><li>  <i>API cool</i> - √† mon avis, c'est l'un des principaux avantages de Zabbix.  Une API de haute qualit√©, bien d√©velopp√©e et compr√©hensible ouvre d'√©normes possibilit√©s d'int√©gration avec les syst√®mes connexes, l'automatisation, etc. <br></li><li>  <i>La surveillance des objets dynamiques</i> est une bagatelle, mais agr√©able.  Dans Zabbix, cette surveillance est simple et intuitive, vous permettant d'obtenir de bons r√©sultats tr√®s rapidement.  Les objets dynamiques sont tous les objets qui apparaissent et disparaissent sur les serveurs au cours de leur dur√©e de vie: syst√®mes de fichiers, interfaces r√©seau et autres.  Par cons√©quent, il est n√©cessaire d'automatiser la d√©finition et la suppression de ces objets de la surveillance. <br></li><li>  <i>Un nombre relativement faible de composants.</i>  Dans les solutions commerciales, chaque composant est un sous-syst√®me distinct avec sa propre base, qui doit √™tre install√© s√©par√©ment.  Et Zabbix est un syst√®me unique, dans lequel toutes les m√©thodes de surveillance sont concentr√©es √† la fois: agent, sans agent, r√©seau et autres - seulement 14 types. <br></li><li>  <i>Visualisation des donn√©es avec Grafana.</i>  L'int√©gration avec Grafana permet de construire des graphiques et de cr√©er des tableaux de bord vraiment pratiques. <br></li><li>  <i>Disponibilit√© du suivi de la disponibilit√© des services informatiques.</i>  Zabbix dispose d'un sous-syst√®me int√©gr√© qui peut calculer la disponibilit√© des services informatiques pour une utilisation future dans SLA. <br></li><li>  <i>La flexibilit√© de cr√©er des m√©triques et leurs valeurs de seuil.</i>  Ici, Zabbix a amplement l'occasion de configurer des mesures de surveillance complexes: <br>  - Tout d'abord, c'est la <i>cr√©ation de m√©triques calcul√©es</i> : sur la base de plusieurs m√©triques simples, une complexe est calcul√©e. <br>  - le <i>pr√©traitement de la valeur des m√©triques</i> est disponible - c'est, par exemple, lorsque vous chargez un grand tableau de donn√©es dans Zabbix, puis, avant de mettre une m√©trique sp√©cifique dans la base de donn√©es, Zabbix analyse le tableau et extrait exactement les donn√©es que vous souhaitez enregistrer en tant que m√©trique . <br>  - <i>m√©triques principales.</i>  Il est possible de collecter un tableau de donn√©es sur un objet dans une enqu√™te dans une grande m√©trique, puis de l'utiliser comme source de donn√©es pour d'autres m√©triques.  Cela vous permet de r√©duire le nombre de requ√™tes et de synchroniser la collecte de toutes les m√©triques dans le temps. <br></li><li>  <i>Possibilit√© de surveillance interne.</i>  Zabbix, en tant que produit open source, a des probl√®mes de performances.  Cependant, un syst√®me de surveillance interne bien pens√© permet de r√©soudre rapidement ces probl√®mes. <br></li></ul><br><h3>  Inconv√©nients de Zabbix </h3><br>  En toute honn√™tet√©, je ne peux m'emp√™cher de mentionner les principaux, √† mon avis, les lacunes de Zabbix.  Vous pouvez √©galement en faire une liste d√©cente: <br><br><ul><li>  <i>Faible degr√© d'automatisation du backend.</i>  Je ferai une r√©servation que je n'ai pas eu l'occasion d'exp√©rimenter avec toutes les variantes du SGBD.  Notre entreprise utilise le SGBD Oracle comme backend Zabbix.  Les op√©rations de masse peuvent prendre plus d'une heure - par exemple, la mise √† jour ou la modification des mesures, qui est li√©e √† un grand nombre d'objets (15 000 n≈ìuds de r√©seau). <br></li><li>  <i>Manque d'outils de gestion des agents de surveillance int√©gr√©s.</i>  Ces produits sont disponibles dans des produits commerciaux.  Zabbix ne l'a pas encore.  Il n'y a m√™me pas de mise √† jour de la bo√Æte √† outils pour les agents.  Bien s√ªr, tout peut √™tre fait ind√©pendamment, mais il serait pr√©f√©rable de sortir ces fonctionnalit√©s de la bo√Æte. <br></li><li>  <i>Jusqu'√† pr√©sent, faible √©laboration du suivi de la disponibilit√© des services informatiques.</i>  C'est formidable qu'il y ait un suivi, mais il doit √™tre d√©velopp√© davantage.  D√©sormais, il n'est plus possible de restreindre l'acc√®s des utilisateurs √† des parties individuelles du mod√®le de ressource de service (ci-apr√®s CPM).  Si l'arborescence CPM est grande, l'interface Web commence √† ralentir.  Et les possibilit√©s de personnalisation du calcul de disponibilit√© dans ce sous-syst√®me sont encore faibles. <br></li><li>  <i>Longues mises √† jour.</i>  La derni√®re mise √† jour de la base de donn√©es nous a pris environ huit heures.  √Ä ce moment, le service de surveillance n'√©tait pas disponible.  Alternativement, vous pouvez demander des scripts de support et mettre √† jour s√©par√©ment. <br></li><li>  <i>La modeste fonctionnalit√© du sous-syst√®me de visualisation int√©gr√©.</i>  Grafana r√©sout ce probl√®me, mais la visualisation int√©gr√©e laisse beaucoup √† d√©sirer. <br></li><li>  <i>Surveillance int√©gr√©e du SGBD (ODBC).</i>  Le fait est qu'une telle surveillance ouvre une connexion distincte pour Zabbix chaque fois que la m√©trique est interrog√©e.  Et si votre base de donn√©es est volumineuse (avec un grand nombre de mesures collect√©es), le pool de connexions peut devenir satur√© et la base de donn√©es cessera de r√©pondre, y compris pour les syst√®mes cibles.  Zabbix dispose d'un outil de surveillance alternatif (par exemple, DBforBIX), mais sa configuration pour un grand nombre d'objets est une t√¢che assez laborieuse.  De plus, pour cela, vous devez √©crire une automatisation distincte. <br></li><li>  <i>Manque de flexibilit√© des stocks pour l'infrastructure informatique.</i>  D'une part, c'est bien de l'avoir.  D'un autre c√¥t√©, il ressemble √† un onglet distinct pour tout objet de surveillance sur lequel il existe un ensemble de champs d'inventaire avec des noms cod√©s en dur.  Pour changer quelque chose, vous devez entrer dans le code source du frontend.  Il est √©galement impossible de modifier le nombre de ces champs et tailles - il y a un risque de casser quelque chose lors de la prochaine mise √† jour. <br></li><li>  <i>Manque d'automatisation pour la construction de cartes r√©seau.</i>  √Ä titre de comparaison, nous pouvons citer HP OpenView Network Node Manager, qui est parfaitement capable de cr√©er des cartes de topologie de r√©seau en mode automatique.  Zabbix devra tout construire manuellement.  Peut-√™tre, pour cette raison, cette fonctionnalit√© n'est pratiquement pas demand√©e parmi nous. <br></li><li>  <i>Manque de flexibilit√© dans le mod√®le de r√¥le.</i>  Zabbix ne fournit que quatre r√¥les d'utilisateur avec des capacit√©s fixes.  En outre, il n'y a aucun moyen de restreindre l'acc√®s des utilisateurs √† l'API Zabbix.  Autrement dit, si l'utilisateur a acc√®s au frontend, il a automatiquement acc√®s √† l'API.  Pour nous, cela a conduit au fait que les utilisateurs avec des demandes incomp√©tentes ont s√©rieusement charg√© le syst√®me.  De plus, il n'y a aucun moyen de donner √† l'utilisateur un acc√®s, par exemple, pour lire des m√©triques sans acc√®s, pour modifier les param√®tres de l'objet de surveillance. <br></li></ul><br><h3>  Architecture du syst√®me </h3><br>  Maintenant, quelques mots sur les indicateurs quantitatifs et l'architecture de notre syst√®me. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2fe/ab0/deb/2feab0debc62ff8cd2bdcb4cf902ed93.png"><br><br>  √Ä l'heure actuelle, plus de 16 000 objets (principalement des serveurs) sont sous surveillance, √† partir desquels pr√®s de deux millions et demi de mesures sont collect√©es au total.  Leur charge totale sur le syst√®me est d'environ 19 000 valeurs par seconde.  Tous les objets de surveillance sont r√©partis sur plus de 1800 groupes d'appareils, dont la grande majorit√© correspond √† des environnements de test sp√©cifiques.  Actuellement, plus de 1000 utilisateurs sont enregistr√©s dans le syst√®me, qui sont divis√©s en 365 groupes fonctionnels. <br><br>  Comme vous pouvez le voir, nous accordons beaucoup d'attention √† la distribution des appareils et des utilisateurs en groupes.  Cela vous permet d'augmenter consid√©rablement la pr√©cision des alertes de notre service. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/731/845/a01/731845a01c910ff3960e2ed4c922790f.png"><br><br>  Au total, nous avons trois instances Zabbix.  Le diagramme montre l'architecture du plus grand d'entre eux, qui surveille la principale infrastructure informatique de d√©veloppement et de test.  Une autre instance supervise l'infrastructure de surveillance.  Et la troisi√®me instance est utilis√©e avec nous pour le d√©veloppement et le test de nouveaux outils de surveillance.  La structure enti√®re de l'instance principale est virtualis√©e sur la base de VMWare.  En g√©n√©ral, si possible, il est pr√©f√©rable de ne pas utiliser de syst√®me de virtualisation, car il est beaucoup plus difficile de rechercher et de r√©soudre les probl√®mes de performances dans le cas d'une infrastructure virtuelle. <br><br>  Le backend est bas√© sur Oracle Active Data Guard et se compose de deux bases de donn√©es - la principale et la r√©plique.  Nous avons trois fronts: <br><br><ul><li>  Pour les t√¢ches administratives - il est configur√© pour effectuer des op√©rations lourdes, complexes et √† long terme qui chargent fortement le serveur; <br></li><li>  Personnalis√© - avec des r√©glages plus stricts qui ne permettent pas aux utilisateurs de surcharger trop le syst√®me de surveillance principal; <br></li><li>  Pour les rapports, il examine la r√©plique et a √©t√© adapt√© pour interagir avec des bases de donn√©es en lecture seule.  Grafana y est connect√©, offrant une visualisation de haute qualit√© des donn√©es de surveillance. <br></li></ul><br><h3>  Caract√©ristiques d'impl√©mentation </h3><br>  Dans cette histoire, j'ai d√©cid√© de ne pas me concentrer sur les fonctionnalit√©s de base qui sont impl√©ment√©es dans presque toutes les surveillances - correction des plantages, collecte d'informations sur les performances ou la disponibilit√© des syst√®mes informatiques.  Je vais me concentrer sur les caract√©ristiques distinctives de notre service. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bc2/b27/790/bc2b27790df161706cff0550fc1e2941.png"><br><br>  Ces fonctionnalit√©s incluent principalement un degr√© √©lev√© d'automatisation des t√¢ches typiques.  Nous ne passons pratiquement pas de temps √† configurer des serveurs pour la surveillance, √† fournir un acc√®s aux r√©sultats de la surveillance, mais nous nous concentrons principalement sur le d√©veloppement du service et l'ajout de nouvelles fonctionnalit√©s non standard.  Plus de 200 scripts d'automatisation d√©velopp√©s √† partir du moment o√π le service de surveillance a √©t√© mis √† l'essai nous aident grandement √† cet √©gard. <br><br>  Mais avant d'enregistrer l'agent dans Zabbix, il doit encore √™tre install√©.  Comme je l'ai √©crit ci-dessus, l'un des inconv√©nients de Zabbix est le manque d'outils de gestion des agents de surveillance.  Par cons√©quent, pour installer des agents, nous avons organis√© un travail distinct dans le cadre de nos processus DevOps.  La figure ci-dessous montre le sch√©ma d'installation de l'agent. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/af5/4de/670/af54de670af11dd04a36f77329daba5d.png"><br><br>  Nous avons deux points d'entr√©e principaux.  Il s'agit soit d'un script Python - via l'API REST, il transmet au job Jenkins des informations sur les h√¥tes sur lesquels vous souhaitez installer ou mettre √† jour l'agent, une liste de variables suppl√©mentaires, ainsi que le nom du playbook que vous devez ex√©cuter sur Ansible.  Ou les donn√©es par d√©faut peuvent provenir de Bitbucket.  Mais dans Jenkins, ils peuvent √™tre compl√®tement remplac√©s en fonction des variables que nous avons pass√©es.  Et cela nous aide, par exemple, √† mettre √† jour des agents surveill√©s par diff√©rents serveurs proxy.  La particularit√© de notre processus est que la configuration de l'agent Zabbix se forme presque √† la vol√©e. <br><br><h3>  Rapports </h3><br>  D√©j√† au d√©but du projet, il est devenu clair que les outils de reporting standard fournis par les outils Zabbix ne nous permettraient pas de r√©pondre √† tous nos besoins.  √Ä cet √©gard, sur la base de l'architecture de microservices, un sous-syst√®me de rapport distinct a √©t√© mis en ≈ìuvre, ce qui √©largit consid√©rablement les capacit√©s des rapports de surveillance de base.  Nous avons maintenant plus de vingt rapports en service.  Voici quelques exemples ainsi que les objectifs qui sont mis en ≈ìuvre: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f10/a40/5a1/f10a405a1802e8555f1c16b4ecfdce8b.png"><br><br><h3>  Alertes </h3><br>  Tout au long du travail du service, les alertes email ont √©volu√©.  Voici √† quoi ils ressemblent en ce moment: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe3/3af/fa3/fe33affa3c0b96a53dfb61512014ebdc.png"><br><br>  Il y a des informations sur le probl√®me et son √©tat, ainsi que sur l'objet de surveillance.  Il y a des liens vers des mesures et des √©v√©nements connexes, un champ pour d√©crire le probl√®me, des liens vers des instructions et un formulaire de r√©troaction.  Pour les accidents plus critiques, nous avons bien s√ªr √©galement une distribution SMS. <br><br>  Ces alertes informatives nous ont permis de minimiser la communication de la plupart de nos utilisateurs avec Zabbix lui-m√™me.  Il suffit de recevoir cette liste de diffusion.  Nous avons bien regroup√© les utilisateurs - il y a 365 groupes pour 1080 personnes.  Par cons√©quent, le bulletin d'information s'av√®re assez pointill√© - et, par cons√©quent, pas ennuyeux.  Beaucoup de nos utilisateurs ont presque oubli√© que nous avons, en fait, Zabbix - ils utilisent la newsletter Grafana et le syst√®me de visualisation. <br><br><h3>  Int√©gration avec les processus de gestion </h3><br>  Le projet consistait initialement √† surveiller l'int√©gration avec certains de nos processus de gestion de l'infrastructure informatique.  Si le service de surveillance a enregistr√© un accident, vous pouvez cr√©er un ticket pour celui-ci - pour les √©quipes qui travaillent davantage avec Jira.  Pour les services, il est possible de cr√©er des incidents dans HP Service Manager: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/352/500/6bc/3525006bc45a4d9ff74654743393f6c3.png"><br><br>  Bas√©e sur Zabbix, une m√©thodologie d'optimisation de l'utilisation de l'infrastructure informatique a √©galement √©t√© d√©velopp√©e et automatis√©e.  Trois param√®tres principaux sont optimis√©s: la quantit√© de CPU, de RAM et de disques durs.  Cette technique fonctionne sur la base d'une moyenne mobile et d'un percentile √† 90%.  Sur la base de cette technique, tout objet ou serveur appartient √† l'une des trois cat√©gories: sous-charg√©, charg√© de mani√®re optimale, surcharg√©. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9f7/37d/ffc/9f737dffc031a0bcde5756ec5909fc76.png"><br><br>  Ce qui pr√©c√®de montre comment cette technique est appliqu√©e √† un serveur sp√©cifique.  Le couloir rose est la valeur de la moyenne mobile.  Large couloir vert - donn√©es brutes.  Et le bleu est un percentile √† 90%. <br><br>  L'int√©gration √† la base de donn√©es de configuration a permis d'automatiser la plupart des t√¢ches associ√©es √† la fourniture d'acc√®s et √† la cr√©ation d'un mod√®le de service-ressource.             ,      .     ,        ,  ,      . <br><br>     Zabbix              .      ,      . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/944/800/e3c/944800e3c8e3a3605e26a0c08ef962cc.png"><br><br>         ,     .       ,     .           . <br><br><h3>   </h3><br>    ,         .  2017      : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/85e/2e1/a9f/85e2e1a9f12c6fc8fcdf033fe919d0d9.png"><br><br>               2017 . <br><br>              ,  : <br><br><ul><li>      <br></li><li>      <br></li><li>      <br></li><li>     <br></li><li>   ,    <br></li><li>      <br></li></ul><br>      ,     .    70%              .      ,     ,  ,  . <br><br>                   2016 .       . ,                ,     . <br><br>       2016       .   -   ,       .         .          ,        <br><br><img src="https://habrastorage.org/webt/5j/n4/4z/5jn44zvhzoubqdm3hb-mabozkcc.png"><br><br>      2016        ,           : 600  CPU,  7,5      50   . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr420731/">https://habr.com/ru/post/fr420731/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr420711/index.html">Moscou Data Science Major: annonce et inscription</a></li>
<li><a href="../fr420713/index.html">Comment Chuck Hull a invent√© l'impression 3D</a></li>
<li><a href="../fr420715/index.html">La dure v√©rit√© sur la gravit√© de l'apprentissage</a></li>
<li><a href="../fr420725/index.html">Comment j'ai appris √† l'IA √† jouer √† Tetris pour NES. Partie 1: analyse du code du jeu</a></li>
<li><a href="../fr420729/index.html">Webinaire ouvert "Naive Bayes Classifier"</a></li>
<li><a href="../fr420735/index.html">Nous vous invitons √† la finale du marathon Find Yourself in Digital au bureau du groupe Mail.Ru</a></li>
<li><a href="../fr420737/index.html">Mini AI Cup 2 ou presque AgarIO - ce qui pourrait √™tre fait pour gagner</a></li>
<li><a href="../fr420739/index.html">La bo√Æte est toujours dans la poign√©e: pourquoi en 2018 vous devez encore apprendre les langues vous-m√™me</a></li>
<li><a href="../fr420741/index.html">Aide-m√©moire pour les programmeurs ou "nous allons google pour vous"</a></li>
<li><a href="../fr420749/index.html">GitLab pour le projet de livraison continue sur les technologies InterSystems: conteneurs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>