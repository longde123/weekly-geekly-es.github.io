<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßôüèø üë©üèø üêπ Erstellen eines universellen RFID-Schl√ºssels f√ºr Sprechanlagen ‚úçüèæ üòã üâë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Gr√º√üe an alle, die sich f√ºr das Thema elektronische Schl√ºssel-Gel√§ndefahrzeuge interessieren. In Wahrheit verfolge ich selbst die Neuigkeiten in diese...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erstellen eines universellen RFID-Schl√ºssels f√ºr Sprechanlagen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/485104/">  Gr√º√üe an alle, die sich f√ºr das Thema elektronische Schl√ºssel-Gel√§ndefahrzeuge interessieren.  In Wahrheit verfolge ich selbst die Neuigkeiten in diesem Bereich schon lange nicht mehr.  Aber ich m√∂chte meine Entwicklung vor drei Jahren ver√∂ffentlichen, da sie leicht zu wiederholen ist und f√ºr jemanden von Interesse sein kann.  Fazit: Statt eines Dutzend Tasten mit All-Terrain-Codes und nur Codes k√∂nnen alle Tasten in einem kleinen Ger√§t aufbewahrt werden. <br><br><img src="https://habrastorage.org/webt/fb/8l/s4/fb8ls4ydh-hfj8zheobot3rzac4.jpeg"><br><a name="habracut"></a><br><blockquote> Haftungsausschluss: Wiederholung - Ich fordere nicht zur Montage und Verwendung auf - Sie sind daf√ºr verantwortlich, ich teile Informationen nur zu Informationszwecken.  Zum Beispiel, um Unternehmen, die Freisprecheinrichtungen an der T√ºr warten, dabei zu unterst√ºtzen, ‚ÄûL√ºcken‚Äú rechtzeitig zu schlie√üen, wenn sie mithilfe des Ger√§ts erkannt werden. </blockquote><h3>  1. Was ist das?  Was kann </h3><br>  Das Ger√§t, das ich 2017 gesammelt habe, ist nichts anderes als ein Spoofer f√ºr einen Intercom-RFID-Schl√ºssel, der mit einer Frequenz von 125 kHz arbeitet.  Das Wort "Spoofer" bedeutet in diesem Fall, dass das Ger√§t, das eigentlich kein Schl√ºssel ist, sich als solches ausgibt und die Sprechanlagen entsprechend reagieren. <br><br>  Das Ger√§t kann alle in seinem Speicher abgelegten Tastencodes √ºbertragen.  Einige Codes f√ºr "All-Terrain-Keys" sind im Web zu finden. Ich habe sie zuerst in die Firmware eingef√ºgt.  Mit etwas Geschick und Lust k√∂nnen Sie jedoch die Codes aller von Ihnen verwendeten RFID-Schl√ºssel in die Firmware einf√ºgen (wenn sie mit einer Frequenz von 125 kHz arbeiten) und so eine Reihe von Schl√ºsselanh√§nger durch ein Ger√§t ersetzen. <br><br>  Ich wei√ü, dass es in der Weite des Webs eine gro√üe Anzahl von Schaltkreisen f√ºr solche Ger√§te gibt.  Mein Ziel war es, die einfachste Version aller verf√ºgbaren zu erstellen.  Ob es gelungen ist oder nicht - urteilen Sie selbst. <br><br><h3>  2. Welche F√§higkeiten ben√∂tigen Sie, um dieses Projekt zu wiederholen? </h3><br>  Zuallererst die F√§higkeiten, mit Arduino zu arbeiten: eine installierte Entwicklungsumgebung zu haben, Firmware auf das Board hochladen zu k√∂nnen, Bibliotheken und Treiber zu installieren, das ist alles.  Weiter.  Es gibt einen Ort im Projekt, an dem ohne L√∂ten nichts passiert.  Denn - Sie brauchen gerade Arme und einen L√∂tkolben mit Verbrauchsmaterial.  Um elektrische Schaltpl√§ne (oder deren √Ñhnlichkeiten) lesen zu k√∂nnen.  Nun, Programmierkenntnisse in C ++, um das Ger√§t anpassen zu k√∂nnen.  Dies ist aber schon optional. <br><br><h3>  3. Welche Teile werden ben√∂tigt und wie werden sie montiert? </h3><br><div class="spoiler">  <b class="spoiler_title">Hier ist ohne Verz√∂gerung ein Diagramm des Ger√§ts:</b> <div class="spoiler_text">  Entschuldigung f√ºr die Tatsache, dass "nicht nach GOST" - ich zeichne in Drawio, weil die einzige kostenlose und bequeme Alternative Visio ist und ich nur lizenzierte Software verwende.  Aber ich nehme an, alles ist schon sehr klar. <br></div></div><img src="https://habrastorage.org/webt/kc/yi/aj/kcyiaj5fxxrfkup1gvkcpuydeo4.jpeg"><br><br>  Wie Sie sehen, sieht die St√ºckliste f√ºr die Basisversion ungef√§hr so ‚Äã‚Äãaus: <br><br><ol><li>  Arduino Nano (oder jede andere Dunya, die zur Hand ist); </li><li>  EM4100 RFID-Schl√ºssel (anstelle des Induktors); </li><li>  npn Transistor (jeder der gefunden wird, die Frequenzen sind hier nicht sehr hoch); </li><li>  10K Widerstand; </li><li>  560 pF Kondensator (besser SMD, man kann direkt vom Schl√ºssel in das Geh√§use einl√∂ten); </li><li>  Lithium-Ionen-Akku - nach Geschmack; </li><li>  drei Ber√ºhrungstasten; </li><li>  OLED-Display mit I2C-Schnittstelle; </li><li>  Lademodul f√ºr LiIon; </li><li>  Step-up DC-DC Wandler mit 5V Ausgang. </li></ol><br>  Das Energieschema kann ein beliebiges sein, nur um genug Arduino zum Starten zu haben.  E / A-Ger√§te - √§hnlich: Die Firmware kann einfach an die verf√ºgbaren Tasten / Displays angepasst werden (Link zu Github - gleich unten).  Die aktuelle Firmware-Version ist f√ºr das OLED-Display und die Touch-Tasten geschrieben (unter Ber√ºcksichtigung von "No Bounce"). <br><br>  Sie k√∂nnen auch ein Testmuster auf einem l√∂tfreien Steckbrett sammeln.  Hier sind keine besonderen Anweisungen erforderlich, au√üer was mit ‚ÄûInduktivit√§t‚Äú zu tun ist.  Dar√ºber - ausf√ºhrlicher. <br><br><img src="https://habrastorage.org/webt/sy/ro/ex/syroexqy--g9u-ahq7pkixsbnbm.jpeg"><br><br>  Der Schl√ºssel, √§hnlich dem auf dem Foto, kann von jedem √∂rtlichen Meister bezogen oder bei Ali bestellt werden.  Auf dem Schl√ºsselk√∂rper befindet sich eine Abdeckung, die beim Erreichen der F√ºllung vorsichtig ge√∂ffnet werden sollte: <br><br><img src="https://habrastorage.org/webt/qw/nb/nh/qwnbnhclovyh7kqngg-cndj9tb4.jpeg"><br><br>  Es ist eine Spule und ein Speicherchip mit zwei Pads an den Seiten.  Die Befunde der Spule werden nur an diese Pads angel√∂tet.  All dies wird mit einer d√ºnnen Schicht aus elastischem Thermopolymer (in Aussehen und Eigenschaften √§hnlich dem gefrorenen Klebstoff B7000) geflutet.  Um eine Spule zu bekommen, habe ich folgendes gemacht.  Ich nahm ein B√ºromesser und dr√ºckte vorsichtig einen Textolithen mit einer Klinge zwischen die Pads und den Mikrokreislauf.  Er trennte den Mikrokreis von der Spule und warf ihn weg.  Dann habe ich mit einem L√∂tkolben vorsichtig (um die d√ºnnen Dr√§hte der Spule nicht zu verl√∂ten) das Thermopolymer √ºber den Kontaktstellen gebrannt, um eine weitere Wahl zu erm√∂glichen. <br><br><img src="https://habrastorage.org/webt/oj/1o/mb/oj1ombm7birbshlzihfzk2qrfw4.jpeg"><br><br>  Vor dem L√∂ten sollten Sie den Widerstand der Spule messen und sicherstellen, dass sie nicht offen ist.  Wenn alles in Ordnung ist, ist es besser, es so zusammenzubauen: L√∂ten Sie zuerst den SMD-Kondensator auf die Pads (er sollte sauber dazwischen passen), dann die Beine des Transistors und am Ende den Widerstand auf die Basis.  All dies kann ordentlich im Schl√ºsselgeh√§use montiert werden.  Die Dr√§hte der "Erde" und der Basis des Transistors werden zuletzt verl√∂tet. <br><br><img src="https://habrastorage.org/webt/bn/uv/5p/bnuv5pbwssqmaoddge7uvgueekk.jpeg"><br><br>  Machen Sie dann ein Loch in die Tastenabdeckung f√ºr diese Dr√§hte und schlie√üen Sie den Schl√ºsselbund, um ihm ein fast originelles Aussehen zu verleihen.  Um auf einem l√∂tfreien Steckbrett zu montieren, sollten Sie die Stiftverbinder an die Dr√§hte anl√∂ten (oder sie einfach gut abrei√üen, damit Sie sie leicht in das Steckbrett einf√ºhren k√∂nnen). <br><br><h3>  4. Firmware, Test und Setup </h3><br>  Wie versprochen ein <a href="https://github.com/VladimirMozg/RFID_125kHz_spoofer" rel="nofollow">Link zum</a> Projektarchiv.  Die Firmware-Dateien befinden sich im Ordner My_125_kHz_spoofer_v.03. <br><br>  Nach dem Zusammenstellen und Hochladen der Firmware ist das Ger√§t einsatzbereit.  Um sicherzustellen, dass es funktioniert, muss √ºberhaupt keine Gegensprechanlage gesucht werden - Sie k√∂nnen mit einem chinesischen Modul zum Lesen von RFID-Schl√ºsseln, dem RDM6300, und einem anderen Arduino-Board arbeiten (obwohl es f√ºr jeden einfacher ist).  Ich habe auch die Firmware f√ºr das RDM6300-Modul, das den √ºbersetzten Schl√ºsselcode in demselben Format anzeigt, wie er in der Firmware des Spoofers enthalten war, in das Projekt-Repository gestellt.  Anschlussplan des Leseger√§ts - an derselben Stelle. <br><br>  Testverfahren mit dem Leser RDM6300: <br><br><ol><li>  Vergewissern Sie sich, dass das Leseger√§t funktioniert, indem Sie eine der verf√ºgbaren Tasten bei 125 kHz an die Antenne halten (Daten werden an den COM-Anschluss ausgegeben). </li><li>  W√§hlen Sie den gew√ºnschten Schl√ºsselcode im Spoofer-Men√º aus. </li><li>  Bringen Sie die Antenne zum Leseger√§t.  Wenn der Leser den gleichen Schl√ºssel liest, der in der Firmware angegeben ist - hat alles geklappt!  Andernfalls √ºberpr√ºfen Sie das Schema, suchen Sie, wo der Fehler liegt, beseitigen Sie ihn und beginnen Sie bei Punkt 1. </li></ol><br><h3>  5. Was kann in der Firmware ge√§ndert werden und was ist besser, nicht zu ber√ºhren </h3><br>  Da die Firmware auf der Basis <a href="https://toschprod.wordpress.com/2013/08/05/rfid-spoofer/" rel="nofollow">dieses Codes</a> geformt wurde <a href="https://toschprod.wordpress.com/2013/08/05/rfid-spoofer/" rel="nofollow">, was mir nicht ganz klar ist, sind</a> die lebenswichtigen Funktionen <a href="https://toschprod.wordpress.com/2013/08/05/rfid-spoofer/" rel="nofollow">,</a> die momentan nicht ge√§ndert werden k√∂nnen, komplett, ich habe sie in eine separate Registerkarte functions.ino gestellt.  Der Rest des Programms dient lediglich dazu, dem Benutzer eine bequeme M√∂glichkeit zu bieten, die EmulateCard-Funktion aufzurufen (naja, und ein paar Codezeilen davor). <br><br>  Sie k√∂nnen Ihre Schl√ºssel zum Array uint64_t universalID [] hinzuf√ºgen, das sich in Zeile 75 des Codes befindet.  Da ich die Gesamtzahl der Schl√ºssel im Ger√§tespeicher nicht ‚Äûdefiniert‚Äú habe und einige Funktionen mit dieser Konstante verkn√ºpft sind, sollten Sie beim Hinzuf√ºgen meines eigenen Schl√ºssels auch die Grenzen √§ndern, innerhalb derer die Variable keyNumber f√ºr die Auswahl des Schl√ºssels verantwortlich ist.  Vergessen Sie nicht, Ihren Schl√ºssel im Men√º hinzuzuf√ºgen.  Im Allgemeinen ist alles feucht, aber wenn Sie m√∂chten, wiederhole ich, ist es nicht schwierig, es herauszufinden. <br><br><h3>  6. Was k√∂nnte am Ger√§t verbessert werden? </h3><br><ol><li>  Unterst√ºtzung f√ºr iButton-Schl√ºssel hinzuf√ºgen (zumindest die in Dallas am h√§ufigsten verwendeten). </li><li>  Hinzuf√ºgen der Emulation von Schl√ºsseln, die mit einer Frequenz von 13,5 MHz arbeiten (wie ich es verstehe, entweder durch Tragen eines wiederbeschreibbaren Rohlings und des RC522-Moduls oder technisch schwierig durch echte Emulation). </li><li>  F√ºgen Sie dem Ger√§t Leseger√§te f√ºr iButton, RDM6300 und RC522 hinzu, um das Ger√§t noch universeller zu gestalten. </li></ol><br>  Wer wird es schaffen - schreiben Sie √ºber die Ergebnisse.  Ich selbst werde in naher Zukunft nicht mehr auf die Entwicklung dieses Spielzeugs zur√ºckkommen.) <br><br><h3>  7. Sch√∂pfungsgeschichte </h3><br>  Ich war im Herbst 2017 auf dem Hof.  Als Student im zweiten Jahr war ich in ungel√∂sten Fragen der Selbstbestimmung eingeschlafen.  Einfach gesagt, √ºber M√º√üiggang geworfen und auf der Suche nach etwas zu tun.  Infolgedessen beschloss er, seine alten Ingenieurprojekte zu Lasten des Besuchs der Universit√§t zu beenden. <br><br>  Das Wetter auf dem Hof ‚Äã‚Äãwar einfach luxuri√∂s.  Und was gibt es Sch√∂neres, als in einer k√ºhlen Herbstnacht auf dem Dach eines Hochhauses zu sitzen, Tee aus einer Thermoskanne zu trinken und das Treiben der n√§chtlichen Stadt unter Ihren F√º√üen zu betrachten? <br><br>  Am Nachmittag ist es nicht schwierig, zum Eingang eines Hochhauses zu gelangen - Social Engineering aus der Reihe ‚ÄûHallo, eine soziale Umfrage zur Qualit√§t der Arbeit der Verwaltungsgesellschaft nach dem <i>Namen der</i> lokalen Zeitung‚Äú funktioniert einwandfrei, und die Bewohner haben im Grunde nichts dagegen, wenn jemand mit ihnen den Eingang betritt.  Nachts noch etwas.  Und ich kletterte entweder bei Sonnenuntergang oder nachts auf die D√§cher ... Ein Problem ist gereift, das ich auf die oben beschriebene Weise gel√∂st habe. <br><br>  Soweit ich mich erinnere, wurden Informationen √ºber solche Ger√§te nicht sofort gefunden.  Die Suche nach den Stichw√∂rtern ‚ÄûIntercom Cracker‚Äú brachte so gut wie nichts.  Angemessen begann, als ich ein wenig mit der RFID-Technologie vertraut war, und begann, aussagekr√§ftigere Fragen zu stellen, wie zum Beispiel "RFID-Emulator", "RFID-Multikey", "RFID-Spoofer". <br><br>  Infolgedessen stellte sich heraus, dass es zwei anst√§ndige englischsprachige Artikel zu diesem Thema gab.  In einem beschrieb der Autor, wie basierend auf dem Arduino ein Schl√ºssel hergestellt wurde, der aus der Sicht der Hardware ziemlich verwirrt war, und in dem zweiten war alles gleich, aber ohne die Quelle, aber mit einer sehr einfachen Hardware.  Da beide Schaltkreise mit einem Arduino-Pin an die Antenne angeschlossen sind, habe ich mich zu Recht f√ºr eine einfache Hardwarel√∂sung und Open Source entschieden.  Es war m√∂glich, wenn auch nicht das erste Mal). <br><br>  Das Foto am Anfang dieses Artikels ist weit von der ersten Version des Ger√§ts entfernt.  Der erste befand sich auf dem Steckbrett und arbeitete √ºber den COM-Port.  Ich erinnere mich, wie Passanten mich in jeder Hinsicht verst√§ndigten, dass <i>ich misstrauisch aussah,</i> als ich mit einem offenen Laptop an der T√ºr eines mehrst√∂ckigen Geb√§udes stand und etwas in der Gegensprechanlage sah. <br><br>  Dann gab es einige weitere kompakte Versionen, die ich aus Gr√ºnden des Interesses sammelte und zerlegte.  Der vorletzte hat eine der Hauptfiguren <a href="https://habr.com/ru/post/483614/">meines vorherigen Artikels</a> gestohlen <a href="https://habr.com/ru/post/483614/">.</a>  Die aktuelle Version wurde am 29. Januar dieses Jahres zusammengestellt, zwischen den Lektionen, die ich in meinem Kreis unterrichte.  Es wurde nur mit dem Ziel zusammengestellt, sicherzustellen, dass ich niemanden falsch informierte, und die Firmware mit der Schaltung funktionierte. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de485104/">https://habr.com/ru/post/de485104/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de485092/index.html">Validierung von Daten in iOS-Anwendungen</a></li>
<li><a href="../de485094/index.html">Microservices mit Spring Boot. Teil 3. Erstellen eines Mikrodienstes zur W√§hrungsumrechnung</a></li>
<li><a href="../de485096/index.html">F√ºnf Methoden zur Datenbankverschleierung</a></li>
<li><a href="../de485100/index.html">Wohin: Die n√§chsten kostenlosen Veranstaltungen f√ºr Entwickler in Moskau (30. Januar - 15. Februar)</a></li>
<li><a href="../de485102/index.html">Topleaked: Ein Tool zum Auffinden von Speicherlecks</a></li>
<li><a href="../de485108/index.html">Statistik der zertifizierten PMI-Spezialisten in Russland am 10.01.2020</a></li>
<li><a href="../de485110/index.html">Meine Erfahrung mit effektiver Fernarbeit</a></li>
<li><a href="../de485118/index.html">Clean Code von Robert Martin. Auszug. Wie schreibe ich klaren und sch√∂nen Code?</a></li>
<li><a href="../de485120/index.html">F√ºgen Sie unserer Anwendung eine sehr schnelle JSON-API hinzu.</a></li>
<li><a href="../de485122/index.html">Die √úberschrift "Artikel f√ºr Sie lesen." Oktober - Dezember 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>