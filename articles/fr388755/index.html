<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òÉÔ∏è üíáüèª üë®üèæ Retirez Internet au maximum des cellules du village üö£üèø ‚ò£Ô∏è üè™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="√Ä la veille des vacances du Nouvel An, il a pris un d√©part anticip√© de la capitale, le laissant en direction de ces endroits o√π Internet est assez rar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Retirez Internet au maximum des cellules du village</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/388755/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä la veille des vacances du Nouvel An, il a pris un d√©part anticip√© de la capitale, le laissant en direction de ces endroits o√π Internet est assez rare. </font><font style="vertical-align: inherit;">Pendant une p√©riode d'absence du travail, j'ai promis √† mes partenaires d'√™tre en contact. </font><font style="vertical-align: inherit;">Et comme mon m√©tier est directement li√© au web, j'ai d√©cid√© d'exp√©rimenter la disponibilit√© d'Internet dans le lieu de s√©jour pr√©vu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'essence de la t√¢che √©tait la suivante:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obtenez une vitesse Internet confortable.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Distribuez Internet non seulement pour vous, mais aussi pour votre conjoint.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avions 2 modems, 750 m√©gaoctets d'Internet payant, 3 ordinateurs portables, plusieurs t√©l√©phones et une multitude de cartes SIM de toutes sortes et couleurs, un point d'acc√®s avec OpenWRT, un hub USB, un lecteur flash et une antenne. </font><font style="vertical-align: inherit;">Non pas que c'√©tait un approvisionnement n√©cessaire pour le voyage, mais si vous avez commenc√© √† collecter des morceaux de fer, il devient difficile de s'arr√™ter. </font><font style="vertical-align: inherit;">La seule chose qui m'a inqui√©t√© √©tait l'antenne. </font><font style="vertical-align: inherit;">Rien au monde n'est plus impuissant, irresponsable et faible que le signal de l'antenne, pass√© √† travers un c√¢ble USB de 3 m√®tres. </font><font style="vertical-align: inherit;">Je savais que t√¥t ou tard nous passerons √† ces ordures.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'avais plusieurs solutions:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisez mon modem Huawei 5776, apr√®s avoir achet√© une antenne pour cela.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Collectez plus de morceaux de fer et r√©cup√©rez quelque chose de plus puissant.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme je me suis souvenu trop tard de la possibilit√© de connecter une antenne dans mon E5776, je n'avais en fait pas le premier choix. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De l'essentiel que j'avais:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TP-Link TL-WR1043ND avec firmware OpenWRT 15.05</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antenna Connect 2.0 (avec un c√¢ble USB de 3 m√®tres sans anneaux de ferrite).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Concentrateur USB</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour une image compl√®te, il me manquait un modem usb, le choix s'est port√© sur le Huawei 3372h.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assemblage constructeur</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'avais un port USB sur TP-Link, et il √©tait d√©j√† occup√© par un lecteur pour le syst√®me de fichiers racine, plus le long fil √† l'antenne √©tait suspect. </font><font style="vertical-align: inherit;">J'√©tais tourment√© par les doutes que le point d'acc√®s pouvait alimenter le modem via un c√¢ble de 3 m√®tres, donc la connexion via un hub USB √©tait la seule solution. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En tant que hub, j'ai utilis√© le bon vieux D-Link Dub-104 (un beau hub compact avec une alimentation incroyablement lourde). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Option interm√©diaire:</font></font><br>
<br>
<img src="https://habrastorage.org/files/924/481/443/92448144316044468af121b830d2042c.jpg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation du logiciel n√©cessaire sur le point d'acc√®s</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme nous nous dirigions vers un village o√π tous les t√©l√©phones fonctionnaient √† peine en mode GPRS, j'ai d√©cid√© d'installer tous les logiciels pendant que j'√©tais dans une grande ville, je l'ai donc r√©gl√© au maximum afin de pouvoir attraper un minimum d'aventure sur place. </font><font style="vertical-align: inherit;">J'ai appris les connaissances de r√©glage de cet article: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://wiki.openwrt.org/doc/recipes/3gdongle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="bash hljs">ssh root@&lt; &gt;
</code></pre><br>
<pre><code class="bash hljs">opkg update<font></font>
opkg install comgt kmod-usb-serial kmod-usb-serial-option kmod-usb-serial-wwan usb-modeswitch usb-modeswitch-data<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, apr√®s cela, vous pouvez essayer d'ins√©rer un modem et voir si des p√©riph√©riques comme </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ dev / ttyUSB * sont apparus</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dans mon cas, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usb_modeswitch a</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fait tout le travail et les appareils sont apparus. </font><font style="vertical-align: inherit;">Si ce n'est pas votre cas, vous devriez lire l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usb_modeswitch en d√©tail</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configurer les param√®tres de connexion</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©finissez les options WAN:</font></font><br>
<br>
<pre><code class="bash hljs">vim /etc/config/network
</code></pre><br>
<pre><code class="bash hljs">config interface <span class="hljs-string"><span class="hljs-string">'wan'</span></span><font></font>
        option device /dev/ttyUSB0<font></font>
        option username <span class="hljs-string"><span class="hljs-string">'gdata'</span></span>
        option password <span class="hljs-string"><span class="hljs-string">'gdata'</span></span>
        option apn <span class="hljs-string"><span class="hljs-string">'internet'</span></span>
        option service <span class="hljs-string"><span class="hljs-string">'umts'</span></span>
        option maxwait <span class="hljs-string"><span class="hljs-string">'0'</span></span>
        option dialnumber <span class="hljs-string"><span class="hljs-string">'*99#'</span></span>
        option proto <span class="hljs-string"><span class="hljs-string">'3g'</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans mon cas, la carte SIM provenait du m√©gaphone, donc les param√®tres ont √©t√© s√©lectionn√©s sp√©cifiquement pour elle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai √©galement ajout√© une ligne dans chatscript pour voir le niveau du signal de la tour lorsqu'elle est connect√©e:</font></font><br>
<br>
<pre><code class="bash hljs">vim /etc/chatscripts/3g.chat
</code></pre><br>
<pre><code class="bash hljs">ABORT   BUSY<font></font>
ABORT   <span class="hljs-string"><span class="hljs-string">'NO CARRIER'</span></span><font></font>
ABORT   ERROR<font></font>
REPORT  CONNECT<font></font>
TIMEOUT 10<font></font>
<span class="hljs-string"><span class="hljs-string">""</span></span>      <span class="hljs-string"><span class="hljs-string">"AT+CSQ"</span></span>
<span class="hljs-string"><span class="hljs-string">""</span></span>      <span class="hljs-string"><span class="hljs-string">"AT&amp;F"</span></span>
OK      <span class="hljs-string"><span class="hljs-string">"ATE1"</span></span>
OK      <span class="hljs-string"><span class="hljs-string">'AT+CGDCONT=1,"IP","$USE_APN"'</span></span>
SAY     <span class="hljs-string"><span class="hljs-string">"Calling UMTS/GPRS"</span></span><font></font>
TIMEOUT 30<font></font>
OK      <span class="hljs-string"><span class="hljs-string">"ATD</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$DIALNUMBER</span></span></span><span class="hljs-string">"</span></span>
CONNECT <span class="hljs-string"><span class="hljs-string">' '</span></span>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connexion</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous faisons </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ifup wan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , regardez le </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">logread</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> iii ... Si vous √™tes chanceux, vous verrez quelque chose comme ceci:</font></font><br>
<br>
<pre><code class="bash hljs">Wed Dec 30 21:47:01 2015 local2.info chat[30352]: CONNECT<font></font>
Wed Dec 30 21:47:01 2015 local2.info chat[30352]:  -- got it<font></font>
Wed Dec 30 21:47:01 2015 local2.info chat[30352]: send ( ^M)<font></font>
Wed Dec 30 21:47:01 2015 daemon.info pppd[30347]: Serial connection established.<font></font>
Wed Dec 30 21:47:01 2015 kern.info kernel: [98634.870000] 3g-wan: renamed from ppp0<font></font>
Wed Dec 30 21:47:01 2015 daemon.info pppd[30347]: Using interface 3g-wan<font></font>
Wed Dec 30 21:47:01 2015 daemon.notice pppd[30347]: Connect: 3g-wan &lt;--&gt; /dev/ttyUSB0<font></font>
Wed Dec 30 21:47:02 2015 daemon.info pppd[30347]: CHAP authentication succeeded: Welcome!!<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si votre op√©rateur m√©gaphone n'est pas l√†, alors continuez.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Danser avec un tambourin</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai eu </font><font style="vertical-align: inherit;">une erreur </font><font style="vertical-align: inherit;">pendant que le modem </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATD</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ex√©cutait la commande </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ayant un peu de forums, j'ai d√©couvert une fonctionnalit√© int√©ressante de l'op√©rateur Megaphone. </font><font style="vertical-align: inherit;">Sur l'un des forums, il a √©t√© propos√© de d√©sactiver manuellement tout ce qui est superflu sur le modem et de ne laisser que les fonctions du modem lui-m√™me et √©ventuellement une carte SD. </font><font style="vertical-align: inherit;">De l'autre, flashez le modem avec le firmware d'usine (sans marque) (dans mon cas, le firmware provenait √©galement du m√©gaphone). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Surprenant √©tait le fait que lorsqu'il √©tait connect√© √† un ordinateur portable avec Windows, le modem fonctionnait correctement. </font><font style="vertical-align: inherit;">Cela valait la peine de se connecter √† Linux - j'ai eu une erreur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, j'ai d√©cid√© de v√©rifier si cela est vraiment li√© au m√©gaphone. </font><font style="vertical-align: inherit;">J'ai pris une carte SIM de Tele2 en stock, l√©g√®rement modifi√© la configuration de la connexion:</font></font><br>
<br>
<pre><code class="bash hljs">vim /etc/config/network
</code></pre><br>
<pre><code class="bash hljs">config interface <span class="hljs-string"><span class="hljs-string">'wan'</span></span><font></font>
        option device /dev/ttyUSB0<font></font>
        option apn <span class="hljs-string"><span class="hljs-string">'internet.tele2.ru'</span></span>
        option service <span class="hljs-string"><span class="hljs-string">'umts'</span></span>
        option maxwait <span class="hljs-string"><span class="hljs-string">'0'</span></span>
        option dialnumber <span class="hljs-string"><span class="hljs-string">'*99#'</span></span>
        option proto <span class="hljs-string"><span class="hljs-string">'3g'</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
III, cela a fonctionn√©. </font><font style="vertical-align: inherit;">Tout de suite. </font><font style="vertical-align: inherit;">D'accord, allons-y d'abord de la mani√®re la plus simple et d√©sactivons tout exc√®s sur le modem:</font></font><br>
<br>
<pre><code class="bash hljs">ssh root@&lt; &gt;
</code></pre><br>
<pre><code class="bash hljs">picocom -b 9600 -f n -p n -d 8 -r /dev/ttyUSB1<font></font>
at^setport=<span class="hljs-string"><span class="hljs-string">"ff;10,12,16,a2"</span></span> 
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous quittons la combinaison: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CTRL + A + X</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
D√©sactivez maintenant usb_modeswitch comme inutile:</font></font><br>
<br>
<pre><code class="bash hljs">/etc/init.d/usbmode stop<font></font>
/etc/init.d/usbmode <span class="hljs-built_in"><span class="hljs-built_in">disable</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous retournons le modem, attendons qu'il d√©marre et augmentons l'interface WAN:</font></font><br>
<br>
<pre><code class="bash hljs">ifup wan
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans mon cas, tout a fonctionn√© maintenant. </font><font style="vertical-align: inherit;">Hourra!</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimisation</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le r√©glage initial a √©t√© effectu√© sans connecter d'antenne, il √©tait maintenant int√©ressant de voir s'il y aurait un effet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puissance du signal sans antenne:</font></font><br>
<br>
<pre><code class="bash hljs">gcom sig -d /dev/ttyUSB1<font></font>
Signal Quality: 15,99<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et maintenant avec l'antenne:</font></font><br>
<br>
<pre><code class="bash hljs">gcom sig -d /dev/ttyUSB1<font></font>
Signal Quality: 21,99<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il avait l'air tellement cool que j'ai senti un hic. </font><font style="vertical-align: inherit;">Et il y avait vraiment un hic. </font><font style="vertical-align: inherit;">Ce fut une d√©couverte pour moi qu'un bon signal provenant d'une station de base ne signifie rien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ci-dessous les pings pour les premi√®re et deuxi√®me options: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.</font></font><pre><code class="bash hljs">root@OpenWrt:~<span class="hljs-comment"><span class="hljs-comment"># ping 8.8.8.8</span></span><font></font>
PING 8.8.8.8 (8.8.8.8): 56 data bytes<font></font>
64 bytes from 8.8.8.8: seq=0 ttl=44 time=986.652 ms<font></font>
64 bytes from 8.8.8.8: seq=1 ttl=44 time=327.628 ms<font></font>
64 bytes from 8.8.8.8: seq=2 ttl=44 time=246.212 ms<font></font>
64 bytes from 8.8.8.8: seq=3 ttl=44 time=265.568 ms<font></font>
64 bytes from 8.8.8.8: seq=4 ttl=44 time=285.271 ms<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. </font></font><pre><code class="bash hljs">64 bytes from 8.8.8.8: seq=233 ttl=45 time=1567.306 ms<font></font>
64 bytes from 8.8.8.8: seq=234 ttl=45 time=1126.106 ms<font></font>
64 bytes from 8.8.8.8: seq=235 ttl=45 time=569.993 ms<font></font>
64 bytes from 8.8.8.8: seq=236 ttl=45 time=1403.010 ms<font></font>
64 bytes from 8.8.8.8: seq=237 ttl=45 time=428.891 ms<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et ici, un nouveau monde merveilleux de communications mobiles s'est ouvert pour moi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai d√©couvert que mon modem prend en charge la recherche de stations de base dans la zone, et pas n√©cessairement l'op√©rateur dont la carte SIM est install√©e √† l'int√©rieur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela a √©t√© fait avec la commande suivante:</font></font><br>
<br>
<pre><code class="bash hljs">AT^NETSCAN=20,-110,1
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - combien de tours √† la sortie </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-110</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - le niveau de signal minimum est </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0/1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 0 - tours 2G, 1 - tours 3G. </font><font style="vertical-align: inherit;">Avec LTE jusqu'√† pr√©sent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La liste est tri√©e par intensit√© du signal et ressemble √† ceci:</font></font><br>
<br>
<pre><code class="bash hljs">^NETSCAN: 10638,,,1e7e,250,02,0,-78,8b77,400000<font></font>
^NETSCAN: 10687,,,1e7e,250,02,0,-79,d5c8,400000<font></font>
^NETSCAN: 10662,,,1e7e,250,02,0,-82,8ade,400000<font></font>
^NETSCAN: 10587,,,4cf8,250,20,0,-105,d4fc,400000<font></font>
^NETSCAN: 10563,,,4cf8,250,20,0,-106,d4f9,400000<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1e7e</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Stations LAC </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">250</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - MCC (Russie) </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">02</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - MNC (dans ce cas - MTS) </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-78</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - niveau de signal de cette station de base </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8b77</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Station CID </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">400000</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - plage dans laquelle le signal de la station de base est re√ßu (comme dans la commande ^ syscfgex) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant Ayant ces donn√©es, vous pouvez aller sur le site </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://xinit.ru/bs/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et voir o√π ces tours sont situ√©es par rapport √† elles-m√™mes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En r√®gle g√©n√©rale, s'il existe une antenne directionnelle, elle doit √™tre envoy√©e √† la station de base la plus proche - je le pensais. Puis la prochaine d√©couverte m'attendait. M√™me si nous lui envoyons une antenne, c'est loin d'√™tre le fait que l'enregistrement aura lieu √† cette station de base. Et si c'est le cas, alors ce n'est pas un fait que le taux de transfert de donn√©es sera plus √©lev√© que dans une tour situ√©e deux fois plus loin. J'ai donc march√© jusqu'aux stations les plus proches dans un rayon de 1,5 kilom√®tre √† 3 et toutes, avec un bon signal, ont transmis des donn√©es avec un long retard. Ping en moyenne ~ 300 ms. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendant mes exp√©riences, je suis accidentellement arriv√© √† la tour, qui √©tait √† une distance de 6-7 kilom√®tres de moi. Une fois connect√©, le temps de ping est tomb√© √† environ 90 ms, malgr√© le fait que le niveau du signal ait baiss√© avec. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A titre de comparaison, le niveau du signal de: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tours voisines: 13-20</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
depuis la tour distante: 5-12 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(les mesures ont √©t√© effectu√©es par l' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilitaire gcom sig -d / dev / ttyUSB1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o√π la valeur peut √™tre un chiffre </font><b><font style="vertical-align: inherit;">compris</font></b><font style="vertical-align: inherit;"> entre 0 et 99). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√©anmoins, j'ai effectu√© des tests de vitesse sur la meilleure tour proche et sur la t√©l√©commande, les r√©sultats: l' </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
une des stations les plus proches - 2 / 0,35 Mbit. </font></font><br>
<br>
<img src="https://habrastorage.org/files/802/071/2b2/8020712b29aa4d06bdbc6ad7057e1a9f.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Station distante - 4,28 / 1,68 Mbps. </font></font><br>
<br>
<img src="https://habrastorage.org/files/6fe/338/b9c/6fe338b9caf34f6ab07bc971e269d37b.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Honn√™tement, j'ai √©galement √©t√© stup√©fait par deux m√©gabits. </font><font style="vertical-align: inherit;">lorsque vous utilisez un t√©l√©phone normal, m√™me Google Play Market ne s'est pas ouvert. </font><font style="vertical-align: inherit;">Et l√†, il s'av√®re que vous pouvez encore acc√©l√©rer √† 4!</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©sum√©</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De tels r√©sultats me suffisaient. J'ai quitt√© l'antenne pour regarder en direction de la tour la plus √©loign√©e, esp√©rant toujours rester en contact avec elle, mais mes espoirs √©taient na√Øfs. Un probl√®me nouveau mais non r√©solu est apparu. Elle consiste en ce que de temps en temps il y a enregistrement sur une autre station de base, m√™me si elle est situ√©e en sens inverse par rapport √† la direction de l'antenne. √Ä de tels moments, les retards dans le transfert de donn√©es augmentent et je n'ai pas encore trouv√© de moyen de surmonter cela. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur Internet, une question telle que: ¬´le modem peut-il indiquer avec quelle tour travailler¬ª est r√©pondu que vous ne choisissez pas la tour, mais c'est vous. Peut-√™tre que des gens bien inform√©s vous diront s'il existe des solutions √† de telles situations? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est tout. Merci √† tous ceux qui ont lu jusqu'au bout. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puis Simon Beeline est venu √† port√©e de main, ses tours sont les plus proches de nous et apr√®s avoir connect√© le test de vitesse a montr√© jusqu'√† 20/2 m√©gabits. </font><font style="vertical-align: inherit;">J'apporte la configuration pour Beeline:</font></font><br>
<br>
<pre><code class="bash hljs">vim /etc/config/network
</code></pre><br>
<pre><code class="bash hljs">config interface <span class="hljs-string"><span class="hljs-string">'wan'</span></span><font></font>
        option device /dev/ttyUSB0<font></font>
        option username <span class="hljs-string"><span class="hljs-string">'beeline'</span></span>
        option password <span class="hljs-string"><span class="hljs-string">'beeline'</span></span>
        option apn <span class="hljs-string"><span class="hljs-string">'internet.beeline.ru'</span></span>
        option service <span class="hljs-string"><span class="hljs-string">'umts'</span></span>
        option maxwait <span class="hljs-string"><span class="hljs-string">'0'</span></span>
        option dialnumber <span class="hljs-string"><span class="hljs-string">'*99#'</span></span>
        option proto <span class="hljs-string"><span class="hljs-string">'3g'</span></span>
</code></pre><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ressources utilis√©es</font></font></h5><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W3bsit3-dns.com.ru </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wiki.openwrt.org </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xinit.ru/bs/</font></font></a></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr388755/">https://habr.com/ru/post/fr388755/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr388741/index.html">–§–∞—Ä–∫—É–Ω—Å—Ç</a></li>
<li><a href="../fr388743/index.html">Au cours des 20 ann√©es d'IPv6, son support s'est √©tendu √† 10% des appareils</a></li>
<li><a href="../fr388745/index.html">Une soci√©t√© bas√©e en Californie d√©veloppe une technologie d'impression 3D c√©ramique haute r√©sistance</a></li>
<li><a href="../fr388749/index.html">D√©penser 5 900 $ en jouet freemium? Pas de probl√®me</a></li>
<li><a href="../fr388751/index.html">Abrasif contemporain [Voice over Vert Dider]</a></li>
<li><a href="../fr388757/index.html">Tous les lancements de fus√©es 2015 en une seule vid√©o</a></li>
<li><a href="../fr388759/index.html">Les m√©tiers du futur nous arrivent.</a></li>
<li><a href="../fr388763/index.html">R√©cup√©ration de donn√©es √† partir de 200 disquettes appartenant au cr√©ateur de Star Trek</a></li>
<li><a href="../fr388765/index.html">Moov Now: un tracker de fitness qui encourage le propri√©taire √† √™tre actif</a></li>
<li><a href="../fr388769/index.html">Tesla Model S a br√ªl√© dans une station de charge rapide en Norv√®ge</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>