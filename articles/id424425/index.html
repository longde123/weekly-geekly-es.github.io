<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💙 🎊 🔶 Kami merilis proyek Java dengan Maven dengan cara baru 🤰🏽 🤽 📀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kita semua sudah lama terbiasa dengan Maven , dengan versi yang ditawarkannya dan manajemen ketergantungan. Maven lahir ketika pertemuan harian proyek...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kami merilis proyek Java dengan Maven dengan cara baru</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/424425/">  Kita semua sudah lama terbiasa dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Maven</a> , dengan versi yang ditawarkannya dan manajemen ketergantungan.  Maven lahir ketika pertemuan harian proyek adalah yang paling berani, ketika dianggap normal untuk dilepaskan setidaknya beberapa kali setahun, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Jenkins</a> kemudian dipanggil <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Hudson</a> , dan pohon-pohonnya besar ... <br><br>  Ide-ide yang dibawa pakar ke dunia pengembangan sangat populer dan dengan cepat mendapatkan popularitas: mendefinisikan proyek alur kerja standar, model direktori standar, dan banyak lagi, yang telah lama diterima begitu saja. <br><br>  Sebagai salah satu inovasi, pakar memperkenalkan sistem versi standar.  Versi disimpan dalam file proyek dan berubah setiap kali kami merilis rilis baru.  Di dunia di mana membuat cabang dan penyatuannya bukanlah suatu prestasi yang dapat diakses oleh semua orang, pendekatan seperti itu cukup umum. <br><br>  Semua ini sangat menyederhanakan pengembangan, mulai dari proyek baru, pengenalan pengembang untuk proyek, rilis versi dan manajemen ketergantungan. <br><br>  Tetapi dunia tidak tinggal diam, dan terlepas dari kenyataan bahwa banyak ide yang diimplementasikan oleh pakar masih hidup dan berpindah dari satu proyek ke proyek lainnya, membuat versi pakar menjadi lebih banyak masalah daripada keuntungan. <br><br>  Selanjutnya, kita akan mencoba mengubah dunia menjadi lebih baik dan menyederhanakan hidup kita. <a name="habracut"></a><br><br><div class="spoiler">  <b class="spoiler_title">Penafian</b> <div class="spoiler_text">  Saya berasumsi bahwa pembaca akrab dengan Java, Maven, siklus hidup pengembangan dan konfigurasi CI / CD, mengerti mengapa ia membutuhkan semua ini <s>dan bahkan seorang ninja</s> . <br></div></div><br>  Dalam kenyataan modern, merilis beberapa versi per minggu dan bahkan per hari dianggap, jika bukan norma, maka tujuannya.  Dan, dalam kondisi seperti itu, menyimpan versi dalam file proyek mengarah ke overhead yang sangat besar. <br><br>  Setiap rilis mengarah ke dua komit ke repositori, dan sebagai hasilnya, dengan pengembangan aktif dan pelepasan proyek, ada lebih banyak komitmen teknis daripada yang bermanfaat.  Sejarah proyek ini berserakan dan sulit dipahami. <br>  Juga, pendekatan ini mengarah pada duplikasi informasi: sudah menjadi kebiasaan untuk menyimpan versi tidak hanya dalam file proyek, tetapi juga dalam bentuk tag repositori. <br><br>  Selain itu, muncul pertanyaan keamanan: ketika Anda memiliki satu proyek besar, maka mesin build hanya perlu akses untuk itu.  Ketika ada banyak proyek, akses ke banyak proyek diperlukan dan kami baik membuat pengguna super dengan akses ke semua proyek dengan hak untuk menulis, atau kami mendapat beban tambahan mengelola sejumlah besar pengguna dengan serangkaian hak yang sempit, tetapi masih memiliki hak untuk menulis ke repositori, dan sering, dan hak untuk berkomitmen kepada master tanpa meminta kumpulan dan ulasan. <br><br>  Saat menggunakan maven dengan plugin rilis, fitur menarik lainnya muncul: pembangunan kembali tidak dilakukan dengan serangkaian perintah yang sama dengan versi aslinya. <br><br>  Mungkin semua masalah ini akan terasa jauh bagi seseorang, tetapi dengan sejumlah besar proyek, mengelola dan mengonfigurasi CI / CD berubah menjadi proses yang sangat tidak menyenangkan dan membingungkan. <br><br>  Sekarang masalahnya sudah terlihat, mari kita coba untuk menyelesaikannya, sehingga kami tidak mengubah set alat, proses, dan secara umum itu sendiri, entah bagaimana. <br><br>  Apa yang dibutuhkan: <br><br><ul><li>  versi disimpan satu kali, sebagai tag repositori </li><li>  membangun kembali rilis apa pun dimungkinkan, serangkaian langkah harus sama seperti dalam kasus rilis baru </li><li>  tidak perlu izin tulis ke repositori </li><li>  kami masih menggunakan pakar sebagai manajer proyek </li></ul><br>  Misalkan CI / CD akan mendapatkan tag untuk kita dan periksa proyek. <br><br>  Misalkan tag untuk kita diisi dengan CI / CD ke variabel lingkungan RELEASE_TAG, maka, untuk melepaskan rilis, kita harus menjalankan perintah berikut: <br><br><pre><code class="bash hljs">mvn -B versions:<span class="hljs-built_in"><span class="hljs-built_in">set</span></span> -DnewVersion=<span class="hljs-variable"><span class="hljs-variable">$RELEASE_TAG</span></span> (1) mvn -B deploy (2)</code> </pre> <br>  1 - memperbarui versi dalam file pom proyek dan modulnya <br>  2 - build dan, jika proyek dikonfigurasi dengan benar, mengunggah artefak ke repositori <br><br>  Jangan lupa untuk mengatur flag <b>-B</b> , jika tidak, log eksekusi berubah menjadi labu. <br><br>  Penting: untuk menghindari kebingungan dan dengan jelas menunjukkan bagaimana dan dari mana perakitan berasal, Anda perlu menginstal versi proyek dalam sesuatu yang abstrak, misalnya DEVELOPMENT-SNAPSHOT.  Anda dapat menggunakan perintah yang sama: versi: set.  Operasi adalah operasi satu kali, karena kami tidak lagi menyimpan versi proyek dalam file. <br><br>  Sebagai hasil dari perubahan, Anda dapat menghapus konfigurasi maven-release-plugin dan scm block dari file pom. <br><br>  »Dari minus: <br>  Jika Anda menggunakan versi SNAPSHOT di suatu tempat, maka kebingungan dapat dimulai, sekarang semua versi SNAPSHOT terlihat sama.  Dan mungkin cara melepaskan proyek ini bukan untuk Anda. <br><br>  Tampaknya artefak yang dikumpulkan dari komit yang sama tetapi dengan tag yang berbeda akan sama, tetapi, sayangnya, tidak demikian.  Kami masih mengekspos versi dalam file, dan sebagai hasilnya, paket yang dikumpulkan akan berbeda. <br><br>  »Dari pro: <br><br><ul><li>  Semua persyaratan terpenuhi, dan bahkan lebih banyak lagi! </li><li>  versi disimpan hanya dalam tag proyek </li><li>  perakitan baru dan pembangunan kembali versi lama dilakukan dengan serangkaian perintah yang sama dengan versi aslinya </li><li>  tidak perlu hak untuk berkomitmen pada proyek </li><li>  kotak alatnya tetap sama </li><li>  bonus: konfigurasi proyek disederhanakan </li></ul><br>  Jadi, dua baris lagi menyelamatkan dunia. <br>  Sekian, terima kasih atas perhatiannya! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id424425/">https://habr.com/ru/post/id424425/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id424415/index.html">Solusi kompleks untuk masalah sederhana layanan WEB HighLoad</a></li>
<li><a href="../id424417/index.html">Roskomnadzor melaporkan hasil pertarungan tiga tahun melawan perompak</a></li>
<li><a href="../id424419/index.html">Apa yang terjadi ketika membuat wadah Flexbox?</a></li>
<li><a href="../id424421/index.html">Kesalahan Bisnis Internet Umum yang Dapat Anda Hindari</a></li>
<li><a href="../id424423/index.html">Google Chrome 69 secara otomatis masuk ke akun Anda dan tidak menghapus cookie Google saat membersihkan riwayat</a></li>
<li><a href="../id424427/index.html">Roskomnadzor dan Telegram melakukan bot melalui proxy</a></li>
<li><a href="../id424429/index.html">Sains Seni dan Suara: 4 proyek mengesankan</a></li>
<li><a href="../id424431/index.html">Valve Meluncurkan Peringkat Game Controller Steam</a></li>
<li><a href="../id424433/index.html">Mengapa hacker Mikrotik dan bagaimana saya menyembunyikan 100 ribu. RouterOS dari botnet</a></li>
<li><a href="../id424435/index.html">Kebun binatang pengeboran minyak: menertibkan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>