<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§Ω üöº ü§õüèæ Unity Shader Graph Basics üë®üèª‚Äçüè≠ üîñ üóìÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Um shader √© um pequeno programa que cont√©m instru√ß√µes para a GPU. Ele descreve como calcular a cor da tela para um material espec√≠fico. 

 Embora o Un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Unity Shader Graph Basics</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479302/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/78f/f7b/1ff/78ff7b1ff1bc94d8a45e9b1f52e2ff2e.jpg" alt="imagem"></div><br>  Um shader √© um pequeno programa que cont√©m instru√ß√µes para a GPU.  Ele descreve como calcular a cor da tela para um material espec√≠fico. <br><br>  Embora o Unity tenha um sombreador padr√£o, √†s vezes voc√™ precisa implementar um efeito do qual um sombreador padr√£o n√£o √© capaz. <br><br>  Anteriormente, isso exigia o conhecimento de uma linguagem espec√≠fica de sombreador, como Cg ou HLSL, e as abordagens nelas s√£o ligeiramente diferentes da cria√ß√£o usual de scripts de jogabilidade.  Para muitas pessoas, escrever shaders √© um aspecto impopular do desenvolvimento de jogos, porque requer o desenvolvimento de uma curva de aprendizado adicional. <br><br>  A Unity introduziu o <strong>Shader Graph</strong> , que facilita a grava√ß√£o de shaders sem quase nenhum c√≥digo.  O melhor de tudo √© que o Shader Graph permite que voc√™ trabalhe com uma interface interativa visual. <br><br>  Neste tutorial, voc√™ criar√° seu primeiro sombreador Unity! <br><a name="habracut"></a><br><h2>  Come√ßando a trabalhar </h2><br>  Este tutorial usa a vers√£o 2019.1 ou mais recente do Unity.  Fa√ßa o download da nova vers√£o do Unity <a href="https://unity3d.com/get-unity/update">aqui</a> . <br><br><blockquote>  <em>Nota</em> : embora este tutorial seja destinado a iniciantes no Shader Graph, ele pressup√µe que voc√™ conhe√ßa os conceitos b√°sicos de desenvolvimento no Unity e tenha dominado a interface do mecanismo.  Se voc√™ √© novo no Unity, confira o excelente tutorial <a href="https://www.raywenderlich.com/5589-unity-tutorial-part-1-getting-started" rel="noopener">Introdu√ß√£o ao Unity</a> . </blockquote><br>  Fa√ßa o download dos materiais do tutorial <a href="">aqui</a> .  Em seguida, descompacte o conte√∫do e abra <strong>Introdu√ß√£o ao Shader Graph Starter</strong> no Unity. <br><br>  A pasta <strong>RW</strong> na janela Projeto est√° organizada da seguinte maneira: <br><br><ul><li>  <strong>Fontes</strong> : fontes usadas na cena. </li><li>  <strong>Materiais</strong> : materiais para a cena. </li><li>  <strong>Modelos</strong> : malhas 3D para formas e fundos de jogos. </li><li>  <strong>PostFX</strong> : efeitos de p√≥s-processamento para renderiza√ß√£o de cena. </li><li>  Pr√©-fabricados: v√°rios componentes pr√©-fabricados. </li><li>  <strong>Cenas</strong> : cena do jogo. </li><li>  <strong>Scripts</strong> : scripts com l√≥gica de jogo. </li><li>  <strong>Shaders</strong> : gr√°ficos de Shader criados para este tutorial. </li><li>  <strong>Sprites</strong> : um sprite usado como parte das instru√ß√µes. </li><li>  <strong>Texturas</strong> : mapas de textura para formas e fundos de jogos. </li></ul><br>  Agora carregue a cena <b>TangramPuzzle</b> da pasta <b>Scenes</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b8e/174/581/b8e1745819cb97e299c2d2216323a498.jpg"></div><br>  Este √© um jogo simples chamado <b>Tangram</b> , que apareceu na China no s√©culo XIX.  A tarefa do jogador √© mover sete formas geom√©tricas planas, tornando-os pictogramas ou silhuetas estilizadas. <br><br>  Inicie o modo <b>Play</b> no editor e teste os jogos demo. <br><br>  Voc√™ pode clicar nas formas e arrast√°-las.  Use as teclas de dire√ß√£o para girar formas.  Gire e mude as formas para que n√£o se sobreponham. <br><br>  Voc√™ pode descobrir como mover as sete formas para criar esses padr√µes? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a80/59c/f3b/a8059cf3b9b0a92a0bd6439768cca473.jpg"></div><br>  Portanto, do ponto de vista <i>t√©cnico</i> , o jogo funciona, mas n√£o fornece nenhum feedback visual sobre a figura selecionada. <br><br>  E se pudermos fazer a forma brilhar quando um mouse estiver sobre ela?  Isso ir√° melhorar a interface do usu√°rio. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ddd/aba/5ec/dddaba5ecb269c55ff4ed734565dd44d.jpg"></div><br>  E essa √© uma √≥tima chance de demonstrar os recursos do Shader Graph! <br><br><h2>  Verificando os par√¢metros do pipeline para Shader Graph </h2><br>  O Shader Graph funciona apenas com o relativamente novo <b>pipeline de renderiza√ß√£o grav√°vel</b> , ou seja, com o <em>pipeline de renderiza√ß√£o de alta defini√ß√£o</em> ou com o <em>pipeline de renderiza√ß√£o leve</em> . <br><br>  Ao criar um novo projeto para trabalhar com o Shader Graph, selecione o modelo correto. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/213/6b1/315/2136b13151945e40c96e3ebb592ca1c5.jpg"></div><br>  O projeto de amostra j√° est√° configurado para funcionar com o <b>Pipeline de renderiza√ß√£o leve</b> .  Primeiro, confirme no PackageManager que voc√™ tem o <b>Lightweight RP</b> e o <b>ShaderGraph instalados</b> escolhendo <b>Janela ‚ñ∫ PackageManager</b> . <br><br>  Em seguida, selecione uma das vers√µes dispon√≠veis e, se necess√°rio, clique no bot√£o <b>Atualizar para</b> .  Normalmente, a melhor op√ß√£o √© a vers√£o mais recente <i>verificada</i> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/54c/d1c/a7d/54cd1ca7dd3795ea4c4deed83b04566d.jpg"></div><br>  Ap√≥s atualizar os pacotes, verifique cuidadosamente a exatid√£o dos par√¢metros do pipeline em <b>Editar ‚ñ∫ Configura√ß√µes do projeto</b> . <br><br>  Na guia <b>Gr√°ficos</b> , o par√¢metro <b>Scriptable Render Pipeline Settings</b> deve ser definido como <b>LWRP-HighQuality</b> .  Gra√ßas a isso, o projeto usar√° a configura√ß√£o padr√£o mais alta para o Pipeline de renderiza√ß√£o leve. <br><br>  Depois de verificar se voc√™ est√° usando um dos ativos <b>Scriptable Render Pipeline</b> , feche esta janela. <br><br><h2>  Criando gr√°fico PBR </h2><br>  Ao renderizar uma malha 3D na tela, o material e o sombreador sempre funcionam juntos.  Portanto, antes de come√ßar a criar um shader, precisamos de material. <br><br>  Primeiro, clique no bot√£o <b>Criar</b> na janela Projeto para gerar um novo material na pasta <b>RW / Materiais</b> .  Selecione <b>Criar ‚ñ∫ Material</b> e renomeie-o para <b>Glow_Mat</b> . <br><br>  Em seguida, na pasta <b>RW / Shaders</b> , crie um <b>gr√°fico PBR</b> escolhendo <b>Criar ‚ñ∫ Shader ‚ñ∫ Gr√°fico PBR</b> .  Este √© um gr√°fico de sombreador que suporta <i>renderiza√ß√£o fisicamente precisa</i> , ou PBR. <br><br>  Nomeie <b>HighlightShaderGraph</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a22/1f8/52e/a221f852e2e1e71f73482ed388374495.gif"></div><br>  At√© agora, o Material Glow_Mat usa um sombreador padr√£o para <b>LightweightRenderPipeline</b> chamado <b>LightweightRenderPipeline / Lit.</b> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/39f/eeb/d28/39feebd289c2fbf6363ddcc24f6e0789.gif"></div><br>  Altere-o para o novo gr√°fico de sombreador rec√©m-criado.  Com <strong>Glow_Mat</strong> selecionado, clique no menu suspenso <b>Shader</b> na parte superior do inspetor e selecione <b>Gr√°ficos Shader ‚ñ∫ HighlightShaderGraph</b> . <br><br>  Glow_Mat assumir√° uma tonalidade de cinza um pouco mais clara, mas, de outro modo, permanecer√° bastante mon√≥tona.  N√£o se preocupe, n√≥s resolveremos isso em breve. <br><br>  Agora clique duas vezes no ativo <b>HighlightShaderGraph</b> ou clique no <b>Open Shader Editor</b> no inspetor.  Isso abrir√° a janela <strong>Gr√°fico Shader</strong> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f1/365/141/7f1365141746fb31c6b7226b4da4b35d.gif"></div><br>  Confira as principais partes desta interface: <br><br><ul><li>  <b>O espa√ßo de trabalho principal</b> √© uma √°rea cinza escura na qual as opera√ß√µes do gr√°fico ser√£o armazenadas.  Voc√™ pode clicar com o bot√£o direito do mouse na √°rea de trabalho para abrir o menu de contexto. </li><li>  Um <b>n√≥</b> √© um √∫nico elemento de um gr√°fico.  Cada n√≥ tem uma entrada, sa√≠da ou opera√ß√£o, dependendo de suas portas.  Os n√≥s s√£o conectados entre si usando <b>arestas</b> . </li><li>  <b>N√≥ mestre</b> √© o √∫ltimo n√≥ de sa√≠da do gr√°fico.  Neste exemplo, usamos uma op√ß√£o de renderiza√ß√£o fisicamente precisa, tamb√©m chamada de n√≥ PBR Master.  Voc√™ pode observar certas propriedades, como Albedo, Normal, Emiss√£o e Met√°lico, que s√£o usadas no Shader padr√£o. </li><li>  <b>O quadro-negro</b> pode fornecer acesso a determinadas partes do gr√°fico no inspetor.  Isso permite que o usu√°rio configure par√¢metros sem editar diretamente o pr√≥prio gr√°fico. </li><li>  <b>A visualiza√ß√£o principal</b> exibe interativamente a sa√≠da atual do shader como uma esfera. </li></ul><br>  Ao conectar os v√°rios n√≥s, voc√™ pode criar um <b>gr√°fico de sombreador</b> que o Unity compile e transfira para a GPU. <br><br><h2>  Criando um n√≥ Cor </h2><br>  Primeiro, vamos dar ao shader algumas cores b√°sicas.  Para fazer isso, conecte o n√≥ colorido ao componente Albedo do n√≥ PBR Master.  <b>Clique</b> com o <b>bot√£o direito do mouse</b> na √°rea de trabalho para criar o primeiro n√≥ no menu de contexto, escolhendo <b>Criar N√≥ ‚ñ∫ Entrada ‚ñ∫ B√°sica ‚ñ∫ Cor</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/363/509/a40/363509a4051583a7535f3dac08f5112a.gif"></div><br>  Observe que existem centenas de n√≥s no menu <b>Criar n√≥</b> !  A princ√≠pio, parece confuso, mas em breve voc√™ descobrir√° os mais usados. <br><br>  Em seguida, arraste o n√≥ sobre a √°rea de trabalho, mantendo sua barra de t√≠tulo.  Em seguida, deixe-o em algum lugar √† esquerda do n√≥ <b>PBR Master</b> . <br><br>  O <b>n√≥ Cor</b> permite especificar uma √∫nica cor.  Clique no campo de cor e selecione um belo tom vermelho, por exemplo <b>R: 128, G: 5, B: 5</b> . <br><br>  Para emitir a cor para o n√≥ <b>PBR Master</b> , arraste a porta <b>Out</b> para a porta <b>Albedo</b> , que indica a cor base do shader. <br><br>  Ao conectar os n√≥s lado a lado, voc√™ deve ver como a esfera na <b>visualiza√ß√£o principal</b> fica vermelha. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f7c/3f4/19d/f7c3f419dbd4caca163997b64b15df35.jpg"></div><br>  √ìtimo!  Na √°rea de escrever shaders, criar um shader de uma cor √© um an√°logo do <em>Hello, world!</em> <br><br>  Embora voc√™ ainda n√£o entenda isso, voc√™ acabou de criar seu primeiro shader! <br><br><h2>  Trabalhar com a interface </h2><br>  Embora haja apenas alguns n√≥s no gr√°fico, agora √© o melhor momento para se acostumar com a interface do Shader Graph. <br><br>  Tente arrastar os n√≥s e observe que as bordas entre a porta de sa√≠da <b>Color</b> e a porta de entrada <b>PBR Master</b> permanecem conectadas. <br><br>  Os n√≥s podem conter v√°rios tipos de dados.  Assim como criamos um n√≥ contendo uma √∫nica cor de entrada, tamb√©m podemos criar um n√≥ representando um √∫nico n√∫mero;  Selecione <b>Criar n√≥ ‚ñ∫ Entrada ‚ñ∫ B√°sico ‚ñ∫ Inteiro</b> .  N√£o faremos nada com esse n√≥; √© necess√°rio apenas ilustrar o princ√≠pio. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/36f/82d/64f/36f82d64fb65d569c0471e419191a5e4.jpg"></div><br>  Conecte a porta <b>Integer Out</b> √† porta <b>Alpha</b> do n√≥ <b>PBR Master</b> . <br><br>  Nosso gr√°fico ainda √© muito pequeno, mas j√° temos n√≥s suficientes para verificar a a√ß√£o das teclas de atalho.  Selecione um par de n√≥s e pressione as seguintes teclas: <br><br><ul><li>  <b>F</b> : enquadra os n√≥s selecionados. </li><li>  <b>A</b> : enquadra o gr√°fico inteiro. </li></ul><br>  Voc√™ tamb√©m pode usar os bot√µes na parte superior da janela para alternar entre a <b>Visualiza√ß√£o principal</b> e o <b>Quadro</b> - <b>negro</b> .  O bot√£o <b>Mostrar no projeto</b> ajuda a encontrar o gr√°fico de sombreador atual na janela Projeto. <br><br>  Depois de lidar com o gerenciamento do gr√°fico, n√≥s o limpamos.  Tudo o que precisamos s√£o os n√≥s <b>mestre de</b> <b>cores</b> e <b>PBR</b> . <br><br>  Clique com o bot√£o direito do mouse na conex√£o entre os n√≥s <b>Inteiro</b> e <b>Mestre</b> e selecione <b>Excluir</b> .  Isso separar√° o n√≥ do gr√°fico. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4c4/bf4/3b1/4c4bf43b168f47d748443962faa62b77.jpg"></div><br>  Da mesma forma, voc√™ pode excluir completamente o n√≥ <b>Inteiro</b> .  Clique com o bot√£o direito do mouse no n√≥ e selecione <b>Excluir</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1b9/ddc/87c/1b9ddc87cdf18aac23371e3f9fcb1362.jpg"></div><br>  Quando terminar, clique no bot√£o <b>Salvar ativo</b> no canto superior esquerdo da interface.  O Unity salvar√° todas as altera√ß√µes e, em seguida, compilar√° e ativar√° o sombreador.  Esta etapa deve ser realizada sempre que voc√™ desejar ver as altera√ß√µes mais recentes no editor. <br><br>  Agora volte para a janela e selecione o material <b>Glow_Mat</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/886/e45/8c8/886e458c866aa26b261adaa95677372d.jpg"></div><br>  √Ä medida que o sombreador se estende ao material, a esfera na janela de visualiza√ß√£o do inspetor deve ficar vermelha. <br><br>  Agora arraste o material <b>Glow_Mat para</b> as formas de tangram na janela <b>Cena</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5ef/044/2d4/5ef0442d42d3391f07152f1842ddc342.gif"></div><br>  Como esperado, o material com o shader pintou a malha em uma linda e uniforme cor vermelha. <br><br><h2>  Adicione um efeito de brilho </h2><br>  Se voc√™ deseja que o material Glow_Mat tenha um brilho mais misterioso, edite o gr√°fico de sombreador novamente. <br><br>  Agora a sa√≠da <b>Color</b> √© transferida para a entrada do n√≥ <b>Albedo</b> <b>PBR Master</b> . <br><br>  Voc√™ tamb√©m pode arrastar outra aresta de <b>Fora</b> para <b>Emiss√£o</b> .  Agora, a mesma cor √© usada duas vezes: como a cor base e como a cor da radia√ß√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/185/4dc/2e0/1854dc2e00739e3a8c9ea765faa8771d.jpg"></div><br>  As portas de sa√≠da podem ter v√°rias arestas e as portas de entrada podem ter apenas uma. <br><br>  Agora mude o menu suspenso <b>Modo</b> do n√≥ <b>Cor</b> para o modo <b>HDR</b> .  Portanto, incluiremos a gama <i>din√¢mica estendida</i> de cores. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fb3/562/3ac/fb35623acdb347bffaeb33925936e936.jpg"></div><br>  Agora mude o campo de cor.  No <b>modo HDR</b> , uma op√ß√£o adicional de <b>intensidade</b> apareceu.  Clique em <b>+1</b> algumas vezes na paleta inferior ou arraste o controle deslizante cerca de <b>2,5</b> .  Agora salve as altera√ß√µes e retorne ao editor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/350/55d/b51/35055db513df608effa2f27b1956c83f.png"></div><br>  No editor, a figura brilhar√° em laranja brilhante.  O p√≥s-processamento na cena j√° est√° ativado e aprimora a cor da faixa din√¢mica estendida. <br><br>  Agora selecione o objeto de jogo <b>PostProcessing</b> na hierarquia.  O brilho √© devido ao efeito <b>Bloom</b> . <br><br>  Abra as op√ß√µes <b>Bloom</b> e defina <b>Intensity</b> ( <b>intensidade da</b> luminosidade) e <b>Threshold</b> (o limite para o in√≠cio do brilho).  O exemplo mostra os valores <b>3</b> e <b>2</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c83/999/c29/c83999c293634a90fd3f4f93c2444a82.jpg"></div><br>  Uau, esse brilho! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f1c/f3e/a78/f1cf3ea784a21f33d2e5c1417e7d7fd5.jpg"></div><br><h2>  Criando um script de destaque </h2><br>  N√£o queremos que a figura brilhe constantemente.  Precisamos que o brilho acenda apenas dependendo da posi√ß√£o do mouse. <br><br>  Quando o cursor do mouse est√° sobre a forma, devemos ativar o material Glow_Mat.  Em outros casos, a figura deve ser exibida com o material padr√£o Wood_Mat. <br><br>  Primeiro, crie um novo script <b>C #</b> em <strong>RW / Scripts</strong> e chame-o de <strong>Marcador</strong> .  Ele nos ajudar√° a alternar entre os dois materiais durante a execu√ß√£o do programa.  Substitua todas as linhas no script pelo seguinte c√≥digo: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> UnityEngine; <span class="hljs-comment"><span class="hljs-comment">// 1 [RequireComponent(typeof(MeshRenderer))] [RequireComponent(typeof(Collider))] public class Highlighter : MonoBehaviour { // 2 // reference to MeshRenderer component private MeshRenderer meshRenderer; [SerializeField] private Material originalMaterial; [SerializeField] private Material highlightedMaterial; void Start() { // 3 // cache a reference to the MeshRenderer meshRenderer = GetComponent&lt;MeshRenderer&gt;(); // 4 // use non-highlighted material by default EnableHighlight(false); } // toggle betweeen the original and highlighted materials public void EnableHighlight(bool onOff) { // 5 if (meshRenderer != null &amp;&amp; originalMaterial != null &amp;&amp; highlightedMaterial != null) { // 6 meshRenderer.material = onOff ? highlightedMaterial : originalMaterial; } } }</span></span></code> </pre> <br>  Vamos analisar este script: <br><br><ol><li>  O script pode ser aplicado apenas a um objeto que cont√©m os componentes <code>MeshRenderer</code> e <code>Collider</code> .  Isso √© controlado adicionando os atributos <code>[RequireComponent]</code> √† parte superior do script. </li><li>  Estes s√£o links para <code>MeshRenderer</code> , <code>originalMaterial</code> e <code>highlightedMaterial</code> .  Os materiais s√£o marcados com o atributo <code>[SerializeField]</code> , que permite atribu√≠-los a partir do inspetor. </li><li>  No m√©todo <code>Start</code> , preenchemos automaticamente o <code>MeshRenderer</code> usando <code>GetComponent</code> . </li><li>  Chamado <code>EnableHighlight(false)</code> .  Isso garante que, por padr√£o, o conte√∫do n√£o destacado seja exibido.  Abaixo est√° o m√©todo p√∫blico <code>EnableHighlight</code> , que alterna o material do renderizador.  Ele recebe o par√¢metro booleano <code>onOff</code> , que determina o estado da luz de fundo. </li><li>  Impedindo todos os erros NullReference </li><li>  Para economizar espa√ßo, usamos o operador tern√°rio. </li></ol><br><h2>  Adicionar eventos do mouse </h2><br>  Como esse script se aplica a formas que possuem um <code>MeshCollider</code> , podemos usar os m√©todos <code>OnMouseOver</code> e <code>OnMouseOver</code> .  Adicione o seguinte c√≥digo ap√≥s o m√©todo <code>EnableHighlight</code> : <br><br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMouseOver</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { EnableHighlight(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnMouseExit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { EnableHighlight(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); }</code> </pre> <br>  Quando o mouse estiver sobre a forma, ele chamar√° <code>EnableHighlight(true)</code> .  Da mesma forma, quando o mouse sai do Collider, ele chama <code>EnableHighlight(false)</code> . <br><br>  Isso √© tudo!  Salve o script. <br><br><h2>  Destaque da figura </h2><br>  Se nas se√ß√µes anteriores do tutorial voc√™ aplicou Glow_Mat a qualquer uma das figuras, no editor voc√™ precisar√° devolver o material Wood_Mat a todas as figuras do jogo.  Agora, para ativar o brilho, usaremos o <b>Marcador</b> enquanto o programa estiver em execu√ß√£o. <br><br>  Primeiro, selecionaremos sete objetos dentro do <b>Tangram de</b> transforma√ß√£o, que s√£o formas separadas.  Em seguida, adicionamos a eles todo o script <code>Highlighter</code> , ao mesmo tempo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e1d/99b/452/e1d99b452c4d7adffec90997fc53d296.jpg"></div><br>  Em seguida, arraste <b>Wood_Mat</b> no campo <b>Original Material</b> e <b>Glow_Mat</b> no <b>campo</b> <b>Highlighted Material</b> .  Agora execute o modo <b>Play</b> e verifique o resultado do nosso trabalho. <br><br>  Nada mal!  Quando voc√™ passa o mouse sobre a forma do tangram, ela come√ßa a brilhar em vermelho brilhante.  Se voc√™ remover o cursor, ele retornar√° ao seu estado original. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d74/c09/f33/d74c09f333e899af67b3687733769285.gif"></div><br>  No jogo em si, nada mudou, mas o efeito de destaque aumentou o interesse visual e permite que o jogador se concentre. <br><br><h2>  Usando n√≥s de textura </h2><br>  No momento, nosso shader simples possui uma cor vermelha brilhante e s√≥lida.  Mudaremos o shader para que n√£o perca sua textura de madeira original.  Para fazer isso, faremos com que a luz de fundo apare√ßa como uma borda luminosa em <i>torno da</i> superf√≠cie. <br><br>  Primeiro, altere o <b>HighlightShaderGraph</b> clicando duas vezes nele ou selecionando <br>  no <b>Open Shader Editor</b> . <br><br>  Exclua o n√≥ <b>Cor</b> <b>clicando com o bot√£o direito do mouse</b> e selecionando <b>Excluir</b> .  Vamos criar tudo do zero. <br><br>  Em vez de uma √∫nica cor, substitu√≠mos a textura usando o n√≥ <b>Amostra de textura 2D</b> . <br><br>  Crie um n√≥, no menu de contexto, <b>clicando com o bot√£o direito do mouse</b> e escolhendo <b>Criar N√≥</b> ou usando uma tecla de atalho (espa√ßo).  Selecione <b>Entrada ‚ñ∫ Textura ‚ñ∫ Textura de amostra 2D</b> . <br><br>  O n√≥ <b>Amostra de textura 2D</b> l√™ as informa√ß√µes de cores de um ativo de textura e gera seus valores RGB. <br><br>  Selecione uma textura na porta de entrada <b>Textura</b> .  Clique no ponto ao lado do campo vazio para abrir o navegador de arquivos. <br><br>  Selecione o <b>ativo de</b> textura WoodAlbedo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f9a/97c/4fd/f9a97c4fd623492c7fa1352f52137a29.jpg"></div><br>  Conecte a porta de sa√≠da <b>RGBA</b> do n√≥ <b>Sample Texture 2D</b> √† porta <b>PBR Master Albedo</b> . <br><br>  Voila!  Agora a textura da √°rvore √© exibida na superf√≠cie da esfera de visualiza√ß√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/340/f6f/c8a/340f6fc8ac69c61cf9b574b90964741c.jpg"></div><br>  Se voc√™ adicionar um mapa normal, poder√° criar pe√ßas na superf√≠cie.  Primeiro, crie outro n√≥ <b>2D da Textura da amostra</b> , escolhendo <b>Criar n√≥ ‚ñ∫ Entrada ‚ñ∫ Textura ‚ñ∫ Textura da amostra 2D</b> . <br><br>  Selecione uma textura <b>WoodNormal</b> na porta de entrada Textura. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ed3/f17/157/ed3f17157cb757325db5ac5fff3063a2.jpg"></div><br>  Altere o menu suspenso <b>Tipo</b> de <b>Padr√£o</b> para <b>Normal</b> . <br><br>  <b>Envie os</b> valores <b>RGBA</b> para a porta <b>Normal</b> do n√≥ <b>PBR Master</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c35/269/2e2/c352692e26036e357e7ca5934371925f.jpg"></div><br>  O escopo da <b>visualiza√ß√£o principal</b> agora deve parecer mais aproximado.  O mapa normal imita pequenas irregularidades e recuos na superf√≠cie.  Isso permite simular a apar√™ncia de uma √°rvore. <br><br><blockquote>  <em>Nota</em> : o tipo de dados de cada porta √© indicado entre par√™nteses ao lado da porta.  <b>(T2)</b> significa que a porta √© compat√≠vel com textura bidimensional e <b>(4)</b> significa que a porta usa <b>Vector4</b> .  Dependendo do contexto, o Shader Graph pode ignorar valores extras de ponto flutuante. </blockquote><br><h2>  Adicionando o efeito Fresnel </h2><br>  Agora que a cor vermelha s√≥lida mudou para a textura base e o mapa normal, vamos adicionar um efeito de destaque usando outro m√©todo. <br><br>  Em vez de um brilho uniforme de todo o objeto, limitaremos o brilho apenas √†s suas bordas.  Isso pode ser realizado usando <b>o efeito Fresnel</b> . <br><br>  Crie um novo n√≥ <b>clicando com o bot√£o direito do mouse</b> ou na barra de espa√ßo e selecione <b>Criar N√≥ ‚ñ∫ Matem√°tica ‚ñ∫ Vetor ‚ñ∫ Efeito Fresnel</b> . <br><br>  Este novo n√≥ mostra uma esfera com um anel radiante branco de di√¢metro.  Voc√™ pode ajustar a largura desse halo usando a porta de entrada de <b>energia</b> .  Clique e arraste o <b>X</b> para a esquerda do campo ou digite os n√∫meros que deseja. <br><br>  Quanto maior o valor, mais fino o halo se torna e os valores menores o tornam muito amplo.  Para criar um brilho sutil em torno da borda, voc√™ pode usar o valor <b>4</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f62/519/63c/f6251963c4a386e595c2e160213d061a.gif"></div><br>  Para transmitir esse halo ao material, conectaremos a sa√≠da <b>Efeito Fresnel</b> √† entrada <b>Emiss√£o</b> do n√≥ <b>PBR Master</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/135/f1d/6ac/135f1d6ac986df2f97eebb4ee4edc6aa.jpg"></div><br>  Agora, o <b>MainPreview</b> exibe uma esfera de madeira com um halo branco brilhante, obtido gra√ßas ao <b>Efeito Fresnel</b> . <br><br><blockquote>  <em>Nota</em> : O efeito Fresnel recebeu o nome do f√≠sico franc√™s Augustin Jean Fresnel.  Ele notou que a luz torna as superf√≠cies muito brilhantes e parece um espelho quando um observador se aproxima de um <i>√¢ngulo de deslizamento</i> . </blockquote><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/137/921/1cb/1379211cb556a35dfe79d01d8db52ae2.gif"></div><br>  Voc√™ pode experimentar com a mesa da cozinha.  Usamos a vers√£o Unity desse fen√¥meno para dar um brilho √† geometria. <br><br><h2>  Multiplica√ß√£o por cor </h2><br>  Voc√™ pode adicionar cores ao contorno luminoso usando c√°lculos simples de cores. <br><br>  Crie um novo n√≥ de cores que indicar√° a cor do anel luminoso.  <b>Clique com o bot√£o direito do mouse</b> ou na barra de espa√ßo para abrir o menu de contexto e selecione <b>Criar n√≥ ‚ñ∫ Entrada ‚ñ∫ B√°sico ‚ñ∫ Cor</b> .  Mude o modo de cor para <b>HDR</b> . <br><br>  Selecione uma cor que indique a cor da luz de fundo.  Por exemplo, escolha um verde brilhante bonito: <b>R: 5, G: 255, B: 5</b> . <br><br>  Aumente a <b>intensidade</b> para <b>3,5</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7d9/652/ad0/7d9652ad083521122e9079d850010e93.jpg"></div><br>  N√£o podemos combinar a nova cor com o efeito Fresnel.  porque n√£o tem entrada para cores.  Portanto, precisaremos combinar a sa√≠da do efeito com a sa√≠da do n√≥ de cores.  Isso pode ser feito usando o n√≥ <b>Multiply</b> . <br><br>  Crie um n√≥ <b>Multiplicar</b> <b>clicando com o bot√£o direito do mouse</b> e selecione <b>Criar n√≥ ‚ñ∫ Matem√°tica ‚ñ∫ B√°sico ‚ñ∫ Multiplicar</b> . <br><br>  Exclua a aresta entre o <b>Efeito Fresnel</b> e o <b>PBR Master</b> .  Conecte a sa√≠da <b>Efeito Fresnel</b> √† entrada <b>A</b> do n√≥ <b>Multiply</b> . <br><br>  Conecte o n√≥ <b>Out do</b> n√≥ <b>Color</b> √† entrada <b>B do</b> n√≥ <b>Multiply</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/da3/bc9/943/da3bc9943795de428ea498ce46d6f4b2.jpg"></div><br>  Em seguida, conecte <b>Out do</b> n√≥ <b>Multiply</b> √† porta de <b>Emiss√£o</b> do n√≥ <b>PBR Master</b> .  Voila!  Agora vemos como a cor HDR verde brilhante envolve a esfera de <b>visualiza√ß√£o principal</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/13f/514/e08/13f514e08ea71acd0cc175279d7e6738.jpg"></div><br>  Lembre-se de que voc√™ pode usar o <b>Fresnel Effect Power</b> para aumentar ou diminuir o halo.  Se voc√™ reduzir o valor para 1,5, obt√©m um brilho verde amplo. <br><br>  Para o nosso exemplo de jogo, um valor de <b>4</b> a <b>5 √©</b> bom, mas voc√™ pode experimentar seus valores. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/18a/13b/95d/18a13b95dbd4fea691a17a7f7fd9c2b1.jpg"></div><br>  Salve o gr√°fico de sombreador e retorne ao editor.  Voc√™ ver√° imediatamente seu <b>HighlightShaderGraph</b> em a√ß√£o. <br><br>  Inicie o modo de <b>reprodu√ß√£o</b> . <br><br>  Quando voc√™ passa o mouse sobre uma forma, ela mant√©m a textura da √°rvore.  No entanto, um brilho verde brilhante agora apareceu em torno de suas bordas.  Formalmente, nada mudou no jogo, apenas a luz de fundo ficou mais fraca. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/78f/f7b/1ff/78ff7b1ff1bc94d8a45e9b1f52e2ff2e.jpg"></div><br><h2>  Adicionar propriedades do quadro-negro </h2><br>  Se voc√™ deseja alterar a apar√™ncia do efeito de brilho, √© necess√°rio retornar √† janela do editor Shader Graph e fazer essas altera√ß√µes.  Por exemplo, usando o <b>Fresnel Effect Power,</b> expanda ou reduza a banda do halo. <br><br>  Isso n√£o √© muito conveniente se queremos testar v√°rias altera√ß√µes.  Felizmente, o Shader Graph tem um conceito para propriedades. <br><br>  Voc√™ pode tornar parte do gr√°fico vis√≠vel ao p√∫blico no inspetor, o que permite fazer pequenas altera√ß√µes interativamente.  Isso √© feito usando a interface do <b>Blackboard</b> . <br><br>  Volte ao Shader Graph e ligue a tela <b>Blackboard</b> .  Se estiver oculto, clique no bot√£o <b>Quadro</b> - <b>negro</b> no canto superior direito. <br><br><h3>  Adicionando textura base e propriedades normais do mapa </h3><br>  Agora abriremos a textura base e o mapa normal para que eles possam ser acessados ‚Äã‚Äãatrav√©s do inspetor. <br><br>  Clique no √≠cone <b>+</b> no canto superior direito do <b>quadro</b> - <b>negro</b> .  Selecione <b>Textura 2D</b> na lista suspensa.  O item deve aparecer no <b>quadro</b> - <b>negro</b> .  Renomeie-o para <b>BaseTexture</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e15/b99/3bb/e15b993bb5c806ae0e00c65dfc7d6f18.jpg"></div><br>  Verifique se a caixa de sele√ß√£o <b>exposta</b> est√° marcada.  Se voc√™ abrir uma propriedade, ela se tornar√° p√∫blica e acess√≠vel no inspetor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bea/269/c8e/bea269c8e357d460265c573c3de1c706.jpg"></div><br>  Para adicionar uma propriedade ao gr√°fico, basta arrast√°-la pelo r√≥tulo para a √°rea de trabalho.  Deixe-o em algum lugar √† esquerda do n√≥ <b>Sample Texture 2D</b> . <br><br>  Conecte a porta <b>BaseTexture</b> √† porta de entrada <b>Texture</b> do n√≥ <b>SampleTexture 2D</b> que est√° conectado ao Albedo.  Isso substituir√° o ponto de ajuste anterior. <br><br>  Repita o mesmo processo para o <b>Mapa Normal</b> .  Clique no √≠cone <b>+</b> e crie um novo <b>Texture 2D</b> .  Renomeie para <b>Mapa normal</b> . <br><br>  Arraste a propriedade para a √°rea de trabalho e anexe-a ao <b>Sample Texture 2D</b> para o mapa normal. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a19/0fd/324/a190fd3243a5e151df9d4354868f0906.jpg"></div><br>  Clique em <b>Salvar ativo</b> e retorne √† janela principal do editor. <br><br>  Selecione o material <b>Glow_Mat</b> e observe dois novos campos no inspetor: <b>Textura base</b> e <b>Mapa normal</b> . <br><br>  Como nenhuma textura foi definida para eles ainda, um destaque verde sobre a esfera cinza √© exibido na janela de visualiza√ß√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e7/b70/c88/3e7b70c8847d16294fb2a1ff0d03f455.jpg"></div><br>  Selecione <b>WoodAlbedo</b> e <b>WoodNormal para</b> <b>BaseTexture</b> e <b>NormalMap</b> . <br><br>  Agora, sob as bordas luminosas, a textura da √°rvore ser√° exibida corretamente. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fe3/0b2/f5a/fe30b2f5ae65b3d25f0b86a0933737c6.jpg"></div><br>  As propriedades p√∫blicas permitem que o usu√°rio insira dados diretamente no sombreador sem a necessidade de editar o gr√°fico do sombreador.  Experimente por conta pr√≥pria uma sele√ß√£o de diferentes texturas b√°sicas e mapas normais. <br><br><h3>  Adicionar propriedades Tamanho do brilho e Cor do brilho </h3><br>  Agora vamos revelar outros tipos de propriedades no Blackboard.  Por exemplo, ser√° √∫til deixar o valor de Fresnel Effect Power mudar. <br><br>  Clique no √≠cone <b>+</b> no <b>quadro</b> - <b>negro</b> e crie a propriedade <b>Vector1</b> .  Denota um √∫nico par√¢metro do tipo float. <br><br>  Renomeie para <b>GlowSize</b> . <br><br>  Voc√™ pode limitar o intervalo de valores inseridos para essa propriedade convertendo-a em um <b>controle deslizante</b> .  Alterne <b>Mode</b> para <b>Slider</b> e defina <b>Min</b> para <b>0,05</b> e <b>Max</b> para <b>6</b> para especificar um intervalo.  Defina o valor <b>padr√£o</b> como <b>5</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b2c/fba/b70/b2cfbab70c7b0597bc27953aab56cff9.jpg"></div><br>  Arraste a propriedade <b>GlowSize</b> para o espa√ßo de trabalho.  Conecte a porta de sa√≠da √† entrada <b>Fresnel Effect Power</b> . <br><br>  Agora deixe o usu√°rio definir a cor do brilho.  Em vez de criar uma propriedade no Blackboard, transformamos o n√≥ existente no gr√°fico. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/14c/e33/445/14ce334459feee966f622d0d041bbf29.jpg"></div><br>  Selecione o n√≥ <b>Cor</b> , <b>clique com o bot√£o direito do mouse</b> e selecione <b>Converter em propriedade</b> . <br><br>  O <b>n√≥ Cor √©</b> convertido em uma propriedade de cor no <b>Quadro</b> - <b>negro</b> , que n√£o pode mais ser alterada diretamente no gr√°fico.  Renomeie a propriedade para <b>GlowColor</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/208/6fe/b82/2086feb822d8a23a18d61d1acfee2528.jpg"></div><br>  Clique em <b>Salvar ativo</b> e retorne √† janela principal do editor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd1/a22/b42/cd1a22b4290547018d7fbb4b12424124.jpg"></div><br>  Selecione o material <b>Glow_Mat</b> na janela Projeto.  Voc√™ deve ver que o controle deslizante <b>GlowSize</b> e o campo <b>GlowColor</b> est√£o agora dispon√≠veis no inspetor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/079/65c/339/07965c339c3a356635df7cc1add76c8a.jpg"></div><br>  Mude os valores do material ao seu gosto.  Inicie o modo <em>Play</em> para testar seu trabalho. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/adf/d63/a65/adfd63a65155b52a0f5ef17be7feb823.gif"></div><br>  Agora voc√™ tem uma luz de fundo personaliz√°vel que pode ser alterada como desejar! <br><br><h2>  Para onde ir a seguir </h2><br>  Parab√©ns!  Agora voc√™ pode criar seus pr√≥prios shaders usando o Gr√°fico Shader! <br><br>  Usando suas pr√≥prias habilidades criativas, voc√™ ficar√° surpreso ao ter sucesso.  Deseja criar um fant√°stico feixe de laser ou campo de for√ßa fant√°stico?  Adapte o resultado do nosso trabalho ao shader necess√°rio. <br><br>  Embora haja literalmente centenas de n√≥s, este tutorial deve ter ajudado voc√™ a aprender o Shader Graph. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt479302/">https://habr.com/ru/post/pt479302/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt479292/index.html">Como ensinar uma rede neural a reproduzir a f√≠sica dos jogos</a></li>
<li><a href="../pt479294/index.html">GitLab 12.5 lan√ßado com a cria√ß√£o de clusters EKS e o painel de ambiente</a></li>
<li><a href="../pt479296/index.html">Como eu parei de odiar e me apaixonei pelo desenvolvimento</a></li>
<li><a href="../pt479298/index.html">Antipadr√µes do PostgreSQL: CTE x CTE</a></li>
<li><a href="../pt479300/index.html">Ecologia e data centers. Como na R√∫ssia e no exterior, "dados ecol√≥gicos"</a></li>
<li><a href="../pt479304/index.html">Recipientes Ef√™meros Kubernetes Primeiros Passos</a></li>
<li><a href="../pt479306/index.html">PHP Digest No. 169 (26 de novembro a 9 de dezembro de 2019)</a></li>
<li><a href="../pt479308/index.html">Planejamento Pro Demand, Holt-Winters e XGboost</a></li>
<li><a href="../pt479310/index.html">Como programador 1C para se tornar um desenvolvedor Java</a></li>
<li><a href="../pt479312/index.html">Criando um servidor incremental para a equipe do iOS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>