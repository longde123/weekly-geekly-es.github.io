<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘– ğŸ¤® ğŸ¦ˆ "Appartement" intelligent ğŸ›Œ ğŸ‘¼ğŸ» ğŸŒ±</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour Ã  tous! Enfin, la rÃ©novation de l'appartement a pris fin, et Ã  cet Ã©gard, je veux partager avec vous le projet Smart Apartment mis en Å“uvre av...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>"Appartement" intelligent</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/409179/">  Bonjour Ã  tous!  Enfin, la rÃ©novation de l'appartement a pris fin, et Ã  cet Ã©gard, je veux partager avec vous le projet Smart Apartment mis en Å“uvre avec les capacitÃ©s de base de contrÃ´le de l'Ã©clairage, du chauffage par le sol, de la tempÃ©rature et de l'humiditÃ© de la piÃ¨ce, et d'autres goodies.  La partie descriptive sera rÃ©alisÃ©e sous la forme d'un manuel (il est plus facile de l'Ã©noncer ou autre). <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/c22/6aa/1e1/c226aa1e19859982e8a075181dd469e2.png" alt="image"><br><a name="habracut"></a><br><h3>  Ã‰quipement </h3><br>  Compte tenu du fait que, en principe, je souhaitais assembler toute l'automatisation sur des dÃ©cisions prÃªtes Ã  l'emploi mais budgÃ©taires de dispositifs exÃ©cutifs et de contrÃ´le, une dÃ©cision unanime a Ã©tÃ© prise (en une seule personne), d'utiliser cette liste d'Ã©quipements: <br><br>  Serveur de gestion - Raspberry Pi 3 + OpenHAB 2 - 1pc (3000 rub.) <br>  ContrÃ´leur multifonction - MegaD-2561 - 1pc (3480 rub.) <br>  UnitÃ© exÃ©cutive avec 14 sorties relais - MegaD-14-R - 1pc (4480 roubles) <br>  Capteurs de tempÃ©rature et d'humiditÃ© DHT22 (AM2303) - 4pcs (1960 rub.) <br>  Capteurs de tempÃ©rature 1 fil DS18B20 Ã©tanche - 2pcs (180 rub.) <br>  Alimentation 12V DR-60-12 - 1pc (1420 rub.) <br>  BoÃ®tiers pour capteurs Dsen-Box - 4 piÃ¨ces (1000 rub.) <br>  Une tablette pour gÃ©rer et afficher les paramÃ¨tres - existe dÃ©jÃ  (3000-10000r.) <br>  La plupart de la liste peut Ãªtre achetÃ©e sur ALI. <br><br><h3>  Introduction </h3><br>  L'un des principes de base du fonctionnement des systÃ¨mes d'automatisation est le fonctionnement ininterrompu et la redondance des fonctions.  Autrement dit, mÃªme si toute l'automatisation Ã  faible courant brÃ»le en enfer, nous ne devrions pas perdre la fonction de contrÃ´le de l'Ã©clairage et d'autres appareils exÃ©cutifs importants.  Ainsi, la solution de contrÃ´le d'Ã©clairage sera mise en Å“uvre sur le soi-disant Â«systÃ¨me de passageÂ» c'est-Ã -dire  les interrupteurs (interrupteurs) dans les piÃ¨ces seront de passage, et le rÃ´le des seconds interrupteurs (interrupteurs) sera jouÃ© par les relais de l'unitÃ© exÃ©cutive MegaD-14-R.  Ã€ condition, bien sÃ»r, que les bobines elles-mÃªmes ne brÃ»lent pas, nous ne perdrons pas de fonctionnalitÃ© si les unitÃ©s d'automatisation tombent en panne.  Par consÃ©quent, tous les interrupteurs Legrand Etika Ã  2 passes et Ã  2 touches sont installÃ©s dans toutes les piÃ¨ces (ils ont l'air bien par rapport Ã  Valenoy). <br><br><h3>  Connexion </h3><br>  Des capteurs de tempÃ©rature et d'humiditÃ© DHT22 sont installÃ©s dans les boÃ®tiers Dsen-Box Ã  environ 2 mÃ¨tres du sol de chaque piÃ¨ce.  N'oubliez pas que l'appartement a Ã©tÃ© rÃ©visÃ© et que tous les fils sont soigneusement posÃ©s entre le blindage et les emplacements des capteurs et des appareils. <br>  Le cÃ¢ble a Ã©tÃ© posÃ© presque partout par SFTP 4x2x0.5 blindÃ©.  Les capteurs de tempÃ©rature DS18B20 sont installÃ©s au moment de l'installation du chauffage au sol. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/ff7/53d/d39/ff753dd391699bd917a45e082a7072de.jpg" alt="image"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/38e/822/1c1/38e8221c177f239b8c5db595ac01fe79.jpg" alt="image"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a3f/66f/295/a3f66f2954549b24e76074101e45e821.jpg" alt="image"><br><br>  Nous installons des appareils MegaD dans le tableau de bord, les couplons avec un cÃ¢ble 34 broches natif et nous nous connectons au rÃ©seau Ethernet.  Nous allons Ã  l'interface Web Ã  192.168.0.14/sec.  Dans la section Â«configÂ», dÃ©finissez l'adresse souhaitÃ©e ou laissez-la par dÃ©faut, assurez-vous de spÃ©cifier l'adresse du serveur Openhab (nous le saurons plus tard lorsque nous dÃ©ploierons l'image Openhab sur la framboise ou l'Ã©crirons immÃ©diatement et la changerons sur la framboise).  Nous connectons tous les capteurs et fils des interrupteurs selon la mÃªme ligne. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/5ab/d1e/d77/5abd1ed77f8c992b17cab9071ba90a25.png" alt="image"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/a9e/64e/488/a9e64e488c0197f9aaf996890cd4d8ae.png" alt="image"><br><br>  Dans les paramÃ¨tres de port de l'appareil MegaD, dÃ©finissez les types (OUT - s'il s'agit d'un relais, IN ou Dsen - si l'entrÃ©e du capteur).  Si vous indiquez le type correct sur les ports des capteurs connectÃ©s, nous verrons immÃ©diatement les lectures actuelles. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/a9c/272/b5f/a9c272b5fba119ca9279ada08c68f2f0.jpg" alt="image"><br><br><h3>  Serveur </h3><br>  Nous rÃ©cupÃ©rons le serveur.  Le cas pour les framboises est constituÃ© d'une alimentation dÃ©fectueuse pour un montage pratique sur un rail din (bien sÃ»r, il y a un cas spÃ©cial pour cela, mais ce n'est pas de nous))).  N'oubliez pas de coller naturellement une clÃ© USB et un cÃ¢ble Ethernet.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Afin de</a> ne pas Ãªtre tourmentÃ© par l'installation, j'ai dÃ©cidÃ© de tÃ©lÃ©charger l'image <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OpenHabian</a> terminÃ©e - l'ensemble du processus d'installation et de configuration du serveur y est dÃ©crit en dÃ©tail et se rÃ©sume Ã  dÃ©ployer l'image sur un lecteur flash, Ã  lancer la framboise et Ã  attendre 15 Ã  45 minutes.  (oui longtemps) lors de la premiÃ¨re configuration.  OpenHab est prÃªt Ã  partir! <br><br>  Si nous ne voulons rien changer dans la configuration du serveur (comment ouvrir la section des paramÃ¨tres est dÃ©crit en dÃ©tail sur openhab.org), alors nous nous connectons Ã  Openhab <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">openhabianpi</a> : 8080, sÃ©lectionnez l'interface graphique Paper UI et commencez Ã  sculpter tout ce dont vous avez besoin. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/97c/a58/3de/97ca583de20bd40f86e8a67accef97c2.png" alt="image"><br><br><h3>  Personnalisation </h3><br><h4>  Liaisons </h4><br>  Vous devez d'abord connecter le serveur OH (openhab) et MegaD.  L'intÃ©gration des Ã©quipements sur le serveur, Ã  l'aide de protocoles et de rÃ¨gles dÃ©finis par les Ã©quipements, se fait Ã  l'aide de fichiers prÃªts Ã  l'emploi, appelÃ©s Â«BindingsÂ».  TÃ©lÃ©chargez la derniÃ¨re reliure pour l'Ã©quipement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MegaD</a> .  Nous le dÃ©posons (vous pouvez utiliser WinSCP) dans le dossier / srv / openhab2-addons sur le serveur, nous verrons donc cette liaison dans l'interface utilisateur papier Â«LiaisonsÂ». <br><br>  Plus loin dans Â«InboxÂ», nous crÃ©ons l'adaptateur de serveur Bridge MegaD Incoming, c'est quelque chose comme un pont virtuel de communication entre le serveur et l'Ã©quipement.  Nous notons le port souhaitÃ© (l'adresse du serveur et le port doivent Ãªtre enregistrÃ©s dans la Â«ConfigÂ» du dispositif MegaD lui-mÃªme). <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/256/2bd/cda/2562bdcdafb8ae0bb36517ba783a7c3b.png" alt="image"><br><br><h4>  Choses </h4><br>  AprÃ¨s avoir crÃ©Ã© le pont, nous, Ã©galement dans la section "BoÃ®te de rÃ©ception", crÃ©ons les "MegaD Binding Things".  Une Â«choseÂ» distincte - c'est ainsi qu'un pÃ©riphÃ©rique physique spÃ©cifique est dÃ©fini sur le serveur, qu'il s'agisse d'un capteur ou d'un relais, avec lequel nous interagirons Ã  l'aide du pont crÃ©Ã©.  Dans ceux-ci, nous prescrivons spÃ©cifiquement l'adresse IP de l'appareil MegaD, le mot de passe pour l'accÃ¨s et le port de l'appareil (c'est le port d'entrÃ©e oÃ¹ le capteur est connectÃ© ou le port de sortie pour le contrÃ´le de l'appareil). <br>  Pour une distribution pratique par emplacement, dans le champ Â«EmplacementÂ», indiquez oÃ¹ se trouve - un hall, une cuisine ... AprÃ¨s avoir crÃ©Ã© ces Â«chosesÂ», elles apparaÃ®tront dans Â«Configuration / chosesÂ».  Nous entrons dans la "Thing" crÃ©Ã©e et en cliquant sur le type souhaitÃ© (nous devions le spÃ©cifier dans les paramÃ¨tres de port du dispositif MegaD) nous l'attachons Ã  l '"Item" crÃ©ant un nouveau "Create new Item". <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/2fe/f37/93a/2fef3793a758fbd82abcd65d15b4dc9e.png" alt="image"><br><br><h4>  Articles </h4><br>  Â«ArticleÂ» pris sÃ©parÃ©ment - sur le serveur et dans l'interface graphique, il s'agit du mÃªme Ã©lÃ©ment qui agit comme un bouton de commande ou gÃ©nÃ¨re des donnÃ©es Ã  partir du capteur et d'autres fonctionnalitÃ©s. <br><br>  Le champ Â«NomÂ» doit Ãªtre un alphabet latin continu, mais Â«Ã‰tiquetteÂ» est appelÃ© ce que nous voulons.  Dans les paramÃ¨tres Â«ArticleÂ», vous devez spÃ©cifier le type (s'il s'agit d'un relais, puis - SWITCH, si le capteur, puis - NUMBER, etc. <br><br>  Si nous voulons combiner certains Ã©lÃ©ments en groupes (cela est principalement nÃ©cessaire pour une distribution et une visualisation pratiques dans une application mobile ou en utilisant l'interface de base de l'interface utilisateur), alors dans le champ Â«GroupeÂ», indiquez le groupe souhaitÃ©, qui doit d'abord Ãªtre crÃ©Ã© dans la section Â«Ã‰lÃ©mentsÂ» spÃ©cifiant le type de Â«GroupeÂ».  AprÃ¨s ces manipulations, nous verrons le Â«ItemÂ» trÃ¨s crÃ©Ã© dans la section Â«ControlÂ» de Paper UI et si tout est fait correctement, puis lorsque vous cliquez sur le Â«ItemÂ» crÃ©Ã© de type Â«SwitchÂ», l'appareil connectÃ© (relais MegaD) cliquera. <br><br>  Nous effectuons des actions similaires pour tous les commutateurs et capteurs, en les nommant correctement et en les configurant. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/aa6/848/fc9/aa6848fc9fd154341a0abb8c4449958b.png" alt="image"><br><br><h4>  UI </h4><br>  Maintenant, tout cela, bien sÃ»r, fonctionne bien, mais pas magnifiquement et inconfortablement. <br><br>  Nous prenons la tablette, passons par le navigateur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">openhabianpi</a> : 8080, sÃ©lectionnez l'interface graphique Habpanel et commencez Ã  personnaliser selon vos besoins. <br><br>  Cliquez sur l'engrenage des paramÃ¨tres dans le coin supÃ©rieur droit, cliquez sur "ParamÃ¨tres avancÃ©s" et effectuez les paramÃ¨tres nÃ©cessaires (thÃ¨me, nom ...) sur le cÃ´tÃ© gauche des paramÃ¨tres, plus tard aprÃ¨s avoir crÃ©Ã© l'interface terminÃ©e, vous devez l'enregistrer "Enregistrer la configuration actuelle dans une nouvelle configuration de panneau" . <br><br>  Nous revenons des paramÃ¨tres, utilisez le curseur pour sÃ©lectionner le nombre requis de colonnes de tuiles dans l'interface et cliquez sur "Ajouter un nouveau tableau de bord".  Dans les paramÃ¨tres des vignettes, spÃ©cifiez le jeu de couleurs et les icÃ´nes d'affichage.  Avec ces tuiles, nous dÃ©terminerons l'emplacement ou le groupe de nos appareils (par exemple, dans mon cas, ce sont des chambres). <br><br>  Ensuite, aprÃ¨s avoir crÃ©Ã© l'emplacement, allez-y en cliquant sur la tuile et en haut, Ã  cÃ´tÃ© du nom de la tuile, cliquez sur le crayon, nous organiserons les tuiles crÃ©Ã©es dans le systÃ¨me Â«ObjetsÂ».  Dans le coin supÃ©rieur droit, cliquez sur Â«Ajouter un nouveau widgetÂ».  Choisissez le type de tuile que vous voulez (lorsque vous survolez le curseur, des invites apparaÃ®tront) "Switch" s'il s'agit d'un interrupteur, "Dummy" s'il s'agit d'un capteur ... etc.  Dans les paramÃ¨tres de la tuile crÃ©Ã©e, nous la lions au systÃ¨me Â«ArticleÂ» existant et configurons l'affichage - icÃ´ne, couleur, taille ... AprÃ¨s avoir crÃ©Ã© toutes les tuiles Â«articlesÂ» nÃ©cessaires, cliquez sur Â«ExÃ©cuterÂ» dans le coin gauche, enregistrant ainsi les paramÃ¨tres et dÃ©marrant le mode d'affichage.  C'est ainsi que nous crÃ©ons nous-mÃªmes l'interface Habpanel.  AprÃ¨s la configuration, si cela a Ã©tÃ© fait dans Chrome, il est trÃ¨s pratique d'ajouter la page Habpanel au bureau de la tablette Ã  partir des paramÃ¨tres du navigateur. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/e16/2fd/91c/e162fd91ccb215acfcc4fb177af1ec58.png" alt="image"><br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/6c0/056/59b/6c005659be274c302458e186dbdfd1c3.png" alt="image"><br><br><h4>  Les rÃ¨gles </h4><br>  RÃ¨gles (rÃ¨gles) - ces mÃªmes rÃ¨gles (scripts) pour implÃ©menter la logique de fonctionnement d'un seul appareil ou les interactions entre plusieurs. <br><br>  Nous rÃ©alisons le contrÃ´le automatique de la hotte dans la salle de bain. <br><br>  Pour ce faire, nous devons crÃ©er un Â«articleÂ» virtuel de type Â«nombreÂ» dans le systÃ¨me dans lequel nous enregistrerons les valeurs du niveau d'humiditÃ© dont nous avons besoin.  Un autre Â«articleÂ» du type Â«SwitchÂ» pour dÃ©clencher le contrÃ´le automatique de l'humiditÃ©.  Eh bien, en fait, la rÃ¨gle elle-mÃªme, qui traitera la valeur d'humiditÃ© obtenue du capteur dans la salle de bain, vÃ©rifiez la valeur dÃ©finie de notre rÃ©glage et contrÃ´lez la hotte. <br><br>  Pour crÃ©er une rÃ¨gle, nous devons crÃ©er un fichier avec l'extension .rules avec du contenu javascript dans le dossier sur le serveur / etc / openhab2 / rules.  Voici un exemple de contenu: <br><br><div class="spoiler">  <b class="spoiler_title">Auto_air.rules</b> <div class="spoiler_text">  rÃ¨gle "Auto_air" <br>  quand <br>  L'Ã©lÃ©ment Hum_H_T_sens a reÃ§u une mise Ã  jour <br>  alors <br>  si <br>  (Hum_H_T_sens.state&gt; Set_hum.state &amp;&amp; Air_H_T_switch.state == OFF &amp;&amp; Set_auto_air.state == ON) { <br>  Air_H_T_switch.sendCommand (ON) <br>  } <br>  d'autre <br>  si <br>  (Hum_H_T_sens.state &lt;Set_hum.state &amp;&amp; Air_H_T_switch.state == ON &amp;&amp; Set_auto_air.state == ON) { <br>  Air_H_T_switch.sendCommand (OFF) <br>  } <br>  fin <br></div></div><br>  Eh bien, en fait, vous devez afficher les Â«Ã©lÃ©mentsÂ» crÃ©Ã©s sur l'Ã©cran du tableau de bord dans Habpanel.  Pour le rÃ©glage Â«ItemÂ» du niveau d'humiditÃ©, appliquez le type Â«SliderÂ». <br><br><h4>  Graphiques </h4><br>  Une autre fonctionnalitÃ© intÃ©ressante du systÃ¨me est la collecte statistique de donnÃ©es dans des bases de donnÃ©es et l'affichage dans des graphiques. <br><br>  CrÃ©ez des graphiques!  Vous devez d'abord configurer la base de donnÃ©es. <br><br>  Par dÃ©faut, OpenHab propose de travailler avec la base de donnÃ©es Rrd4j, mais je n'ai pas pu la configurer normalement.  Par consÃ©quent, j'ai commencÃ© Ã  utiliser MySQL (en quelque sorte plus familier). <br><br>  Pour travailler avec la base de donnÃ©es, vous devez installer le module complÃ©mentaire dans le systÃ¨me.  Dans l'onglet Â«AddonsÂ» de Paper UI, dans la section Â«PersistenceÂ», sÃ©lectionnez MySQL Persistence (install). <br><br>  La base que nous avons crÃ©Ã©e est en train de se configurer. <br><br>  Pour ce faire, nous devons crÃ©er un fichier (s'il est manquant) dans le dossier sur le serveur: /etc/openhab2/persistence/mysql.persist, dans lequel nous devons spÃ©cifier la stratÃ©gie de collecte de donnÃ©es (telle que horaire, quotidienne, hebdomadaire ...) et spÃ©cifier quel Â«Ã©lÃ©ment â€En rÃ©fÃ©rence Ã  la stratÃ©gie qui sera stockÃ©e.  Par exemple, voici le contenu: <br><br><div class="spoiler">  <b class="spoiler_title">mysql.persist</b> <div class="spoiler_text">  // les stratÃ©gies de persistance ont un nom et une dÃ©finition et sont rÃ©fÃ©rencÃ©es dans la section Â«ItemsÂ» <br>  StratÃ©gies { <br>  // si aucune stratÃ©gie n'est spÃ©cifiÃ©e pour l'Ã©lÃ©ment ci-dessous, la liste par dÃ©faut sera utilisÃ©e <br>  everyMinute: "0 * * * *?" <br>  every5Minutes: "0 * / 5 * * *?" <br>  everyHour: "0 0 * * *?" <br>  tous les jours: "0 0 0 * *?" <br>  par dÃ©faut = everyChange <br>  } <br><br>  / * <br>  * Chaque ligne de cette section est dÃ©terminÃ©e pour quel (s) bien (s), dans quelles stratÃ©gies (IE) doivent Ãªtre appliquÃ©es. <br>  * Vous pouvez lister des Ã©lÃ©ments uniques, utiliser "*" pour tous les Ã©lÃ©ments ou "groupitem *" pour tous les membres d'un groupe <br>  * Ã©lÃ©ment (excl. l'Ã©lÃ©ment de groupe lui-mÃªme). <br>  * / <br><br>  Articles { <br>  // enregistrer tous les Ã©lÃ©ments une fois par jour et les restaurer Ã  partir de la base de donnÃ©es au dÃ©marrage Ã  chaque changement <br>  // *: stratÃ©gie = everyChange, everyDay, restoreOnStartup <br><br>  // en plus, toutes les valeurs de tempÃ©rature et mÃ©tÃ©o sont enregistrÃ©es toutes les heures <br>  Weather_Temperature, Temp_H_LR_sens, Temp_H_BR_sens, Temp_H_T_sens, Temp_H_KT_sens, TP_H_H_sens, TP_H_KT_sens, Weather_Humidity, Hum_H_LR_sens, Hum_H_BR_sens, Hum_H_T_sens, Hum_H_KT_sens: stratÃ©gie = everyMinute, RestoreOnStartup <br>  } <br></div></div><br>  AprÃ¨s avoir crÃ©Ã© le fichier, le systÃ¨me commencera dÃ©jÃ  Ã  collecter des donnÃ©es.  Nous devons configurer le tableau de bord Habpanel pour afficher des graphiques. <br><br>  Nous revenons Ã  l'interface graphique Habpanel, allons Ã  l'emplacement souhaitÃ© et ajoutons un nouveau widget en sÃ©lectionnant le type Â«GraphiquesÂ».  Appelez comme nous voulons, "Type" sÃ©lectionnez "n3-line-chart (interactif)", "Prestataire" - mysql, "Period" - affichez la pÃ©riode du jour (D).  Dans l'onglet Â«SÃ©rieÂ» - nous joignons Â«l'articleÂ» dont nous avons besoin.  Et le tour est jouÃ©!  nous obtenons un bel horaire! <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/134/534/ee0/134534ee0ae6072ef65782ccf9dac91d.png" alt="image"><br><br>  Eh bien, pure initiative - nous montons la tablette sur le mur!  O_o, pour cela j'ai pris deux cartes magnÃ©tiques au format em-marin (celles qui sont trÃ¨s fines) et collÃ© deux aimants nÃ©odyme sur les bords de la carte (Uhu).  Nous fixons ces plates-formes avec des aimants Ã  du ruban adhÃ©sif double face (bon mince) Ã  l'arriÃ¨re de la tablette et sur le mur.  Par ailleurs, Ã  l'avance dans la prise, l'alimentation MeanWell 5V est installÃ©e, avec un cÃ¢ble microUSB.  La tablette au mur! <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/63b/726/00a/63b72600a8bd3f3299e5cc808f635ec2.jpg" alt="image"><br><br>  Je m'excuse pour la particularitÃ© de la prÃ©sentation du matÃ©riel (je n'avais jamais rien Ã©crit de tel auparavant).  Si le message sera au moins aussi populaire, je dÃ©crirai ci-dessous la fonctionnalitÃ© de configuration d'une application mobile.  J'espÃ¨re que cela vous sera utile.  Toute la maison intelligente))) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr409179/">https://habr.com/ru/post/fr409179/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr409165/index.html">ThÃ©orie des jeux, bruit de souris et crevaison</a></li>
<li><a href="../fr409167/index.html">Il n'en Ã©tait pas ainsi! 5 idÃ©es fausses principales sur l'overclocking du Â«ferÂ»</a></li>
<li><a href="../fr409169/index.html">Comment lire le maquillage</a></li>
<li><a href="../fr409171/index.html">Comment assembler une mangeoire pour chat intelligente</a></li>
<li><a href="../fr409173/index.html">IA Ã  usage personnel: aide Ã  l'Ã©ducation, au travail et Ã  la planification</a></li>
<li><a href="../fr409181/index.html">Toyota va crÃ©er des voitures Ã©lectriques avec des voitures "Ã  hydrogÃ¨ne"</a></li>
<li><a href="../fr409183/index.html">Nvidia cesse de prendre en charge tous les pilotes 32 bits</a></li>
<li><a href="../fr409185/index.html">Satoshi Nakamoto fait partie des 50 personnes les plus riches du monde</a></li>
<li><a href="../fr409187/index.html">Cancer: mythes et idÃ©es fausses</a></li>
<li><a href="../fr409189/index.html">Pourquoi ne pouvez-vous pas comparer les amplificateurs casque de la position du volume par leur puissance?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>