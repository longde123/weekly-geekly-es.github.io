<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêä üë®üèæ‚Äçüé§ üï¥üèº Una aplicaci√≥n python kivy para una dieta variada. Desde el c√≥digo hasta la recepci√≥n del archivo .apk para Android ‚öìÔ∏è ‚úåüèº üßóüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Estudio Python Kivy y decid√≠ escribir una peque√±a aplicaci√≥n para diversificar mi dieta. Decid√≠ compartirlo. Este art√≠culo es para los reci√©n llegados...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Una aplicaci√≥n python kivy para una dieta variada. Desde el c√≥digo hasta la recepci√≥n del archivo .apk para Android</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426269/"><img src="https://habrastorage.org/webt/un/qp/bb/unqpbbu0zqrbyug9_oyhmkxfkrc.jpeg"><br>  Estudio Python <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Kivy</a> y decid√≠ escribir una peque√±a aplicaci√≥n para diversificar mi dieta.  Decid√≠ compartirlo.  Este art√≠culo es para los reci√©n llegados a kivy.  La aplicaci√≥n toma alrededor de 100 l√≠neas de c√≥digo. <br><br>  Prop√≥sito de crear una <s>aplicaci√≥n de</s> bicicleta: <br><br><ol><li>  Evitar repeticiones frecuentes en la comida.  Para no comer el mismo plato con demasiada frecuencia. </li><li>  No olvide los platos que com√≠, luego olvid√©, y durante a√±os no volv√≠ a ellos, porque no recordaba cursi.  Me pasa a mi </li></ol><a name="habracut"></a><br><h2>  <font color="#cc0000">Introducci√≥n</font> </h2><br>  No puedes leer en la introducci√≥n ninguna letra. <br><br>  Ten√≠a que vivir en un pa√≠s, en un hotel, donde me daban huevos a diario para el desayuno y nada m√°s, as√≠ que un mes despu√©s comenc√© a picar.  Busc√≥ ayuda m√©dica, aunque nunca antes hab√≠a sufrido algo as√≠.  Ense√±ado por la amarga experiencia, despu√©s de eso, decidi√≥ por s√≠ mismo permitir la menor cantidad posible de repeticiones en los alimentos para que nada pudiera acumularse en el cuerpo.  Esta es mi experiencia personal, solo digo, sin imponer.  Tal vez no haya reglas sin excepci√≥n, probablemente se pueda comer avena todos los d√≠as durante d√©cadas. <br><br><h2>  <font color="#cc0000">Capturas de pantalla</font> </h2><br><img src="https://habrastorage.org/webt/ub/o4/l2/ubo4l2ajlvsmzdaaqoiohlje7vw.png"><br><br>  Supongamos que mi dieta consiste en 50 platos.  Por ejemplo, hoy com√≠ una tortilla.  Hago clic en el bot√≥n, y la tortilla est√° en la l√≠nea 50 en l√≠nea, y frente a ella hay 49 platos que comer√© para volver a la tortilla.  Esa es toda la l√≥gica de la aplicaci√≥n.  (En las capturas de pantalla, los platos est√°n cocinados, todas las coincidencias son aleatorias, no tienen nada que ver con mi dieta real). <br><br><h2>  <font color="#cc0000">C√≥digo fuente y explicaciones</font> </h2><br>  <b>main.py</b> <br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.app <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.button <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Button <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.boxlayout <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> BoxLayout <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.screenmanager <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ScreenManager, Screen <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.recycleview <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RecycleView <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.gridlayout <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> GridLayout <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.core.window <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Window <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.config <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ConfigParser <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.textinput <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> TextInput <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.uix.label <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Label <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> kivy.metrics <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> dp <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ast <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MenuScreen</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Screen)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, **kw)</span></span></span><span class="hljs-function">:</span></span> super(MenuScreen, self).__init__(**kw) box = BoxLayout(orientation=<span class="hljs-string"><span class="hljs-string">'vertical'</span></span>) box.add_widget(Button(text=<span class="hljs-string"><span class="hljs-string">' '</span></span>, on_press=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: set_screen(<span class="hljs-string"><span class="hljs-string">'list_food'</span></span>))) box.add_widget(Button(text=<span class="hljs-string"><span class="hljs-string">'    '</span></span>, on_press=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: set_screen(<span class="hljs-string"><span class="hljs-string">'add_food'</span></span>))) self.add_widget(box) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SortedListFood</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Screen)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, **kw)</span></span></span><span class="hljs-function">:</span></span> super(SortedListFood, self).__init__(**kw) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">on_enter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#       self.layout = GridLayout(cols=1, spacing=10, size_hint_y=None) self.layout.bind(minimum_height=self.layout.setter('height')) back_button = Button(text='&lt;    ', on_press=lambda x: set_screen('menu'), size_hint_y=None, height=dp(40)) self.layout.add_widget(back_button) root = RecycleView(size_hint=(1, None), size=(Window.width, Window.height)) root.add_widget(self.layout) self.add_widget(root) dic_foods = ast.literal_eval( App.get_running_app().config.get('General', 'user_data')) for f, d in sorted(dic_foods.items(), key=lambda x: x[1]): fd = f.decode('u8') + ' ' + (datetime.fromtimestamp(d).strftime('%Y-%m-%d')) btn = Button(text=fd, size_hint_y=None, height=dp(40)) self.layout.add_widget(btn) def on_leave(self): #       self.layout.clear_widgets() #   class AddFood(Screen): def buttonClicked(self, btn1): if not self.txt1.text: return self.app = App.get_running_app() self.app.user_data = ast.literal_eval( self.app.config.get('General', 'user_data')) self.app.user_data[self.txt1.text.encode('u8')] = int(time.time()) self.app.config.set('General', 'user_data', self.app.user_data) self.app.config.write() text = "  : " + self.txt1.text self.result.text = text self.txt1.text = '' def __init__(self, **kw): super(AddFood, self).__init__(**kw) box = BoxLayout(orientation='vertical') back_button = Button(text='&lt;    ', on_press=lambda x: set_screen('menu'), size_hint_y=None, height=dp(40)) box.add_widget(back_button) self.txt1 = TextInput(text='', multiline=False, height=dp(40), size_hint_y=None, hint_text=" ") box.add_widget(self.txt1) btn1 = Button(text=" ", size_hint_y=None, height=dp(40)) btn1.bind(on_press=self.buttonClicked) box.add_widget(btn1) self.result = Label(text='') box.add_widget(self.result) self.add_widget(box) def set_screen(name_screen): sm.current = name_screen sm = ScreenManager() sm.add_widget(MenuScreen(name='menu')) sm.add_widget(SortedListFood(name='list_food')) sm.add_widget(AddFood(name='add_food')) class FoodOptionsApp(App): def __init__(self, **kvargs): super(FoodOptionsApp, self).__init__(**kvargs) self.config = ConfigParser() def build_config(self, config): config.adddefaultsection('General') config.setdefault('General', 'user_data', '{}') def set_value_from_config(self): self.config.read(os.path.join(self.directory, '%(appname)s.ini')) self.user_data = ast.literal_eval(self.config.get( 'General', 'user_data')) def get_application_config(self): return super(FoodOptionsApp, self).get_application_config( '{}/%(appname)s.ini'.format(self.directory)) def build(self): return sm if __name__ == '__main__': FoodOptionsApp().run()</span></span></code> </pre> <br>  Deliberadamente no utilic√© archivos kv, ya que el c√≥digo se proporciona con fines educativos, para personas que est√°n familiarizadas con Python.  Todo est√° escrito en python desnudo.  En las explicaciones, no me detendr√© en la explicaci√≥n del c√≥digo de Python, sino que proceder√© inmediatamente a las caracter√≠sticas espec√≠ficas de Kivy. <br><br>  Vamos: <br><br><ul><li><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MenuScreen</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Screen)</span></span></span><span class="hljs-class">:</span></span></code> </pre> <br>  La clase es responsable de iniciar la p√°gina de inicio de la aplicaci√≥n, se puede llamar cualquier cosa, por ejemplo, StartScreen.  Y hereda el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">m√≥dulo de pantalla kivy</a> .  La aplicaci√≥n consta de 3 ventanas, estas ventanas se crean utilizando este m√≥dulo </li><li><pre> <code class="python hljs">box = BoxLayout(orientation=<span class="hljs-string"><span class="hljs-string">'vertical'</span></span>)</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">BoxLayout</a> divide la pantalla en partes iguales, horizontal por defecto, escrib√≠ orientaci√≥n = 'vertical' para dividir verticalmente </li><li><pre> <code class="python hljs">Button(text=<span class="hljs-string"><span class="hljs-string">' '</span></span>, on_press=<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x: set_screen(<span class="hljs-string"><span class="hljs-string">'list_food'</span></span>))</code> </pre><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Bot√≥n</a> : crea botones, on_press establece qu√© funci√≥n se iniciar√° cuando se presione. <br></li><li><pre> <code class="python hljs">.add_widget()</code> </pre>  - agrega botones a capas y ventanas </li><li><pre> <code class="python hljs">self.layout = GridLayout(cols=<span class="hljs-number"><span class="hljs-number">1</span></span>, spacing=<span class="hljs-number"><span class="hljs-number">10</span></span>, size_hint_y=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>)</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">El dise√±o de cuadr√≠cula</a> recuerda un poco a la etiqueta de la tabla en html, que indica cols, el n√∫mero de columnas o filas, el n√∫mero de filas. <br><br>  Puede especificar ambos par√°metros o un par√°metro. <br>  La pantalla se dividir√° en el n√∫mero deseado de bah√≠as. <br></li><li><pre> <code class="python hljs">root = RecycleView(size_hint=(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>), size=(Window.width, Window.height))</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">RecycleView</a> : el m√≥dulo con el que crear un desplazamiento vertical en mi aplicaci√≥n.  Una caracter√≠stica de RecycleView es que construye pergaminos con elementos del mismo ancho y alto.  Y funciona r√°pido.  Y hay un m√≥dulo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">ScrollView</a> , puede construir pergaminos con elementos de diferentes tama√±os, pero funciona m√°s lento que RecycleView <br></li><li><pre> <code class="python hljs">config.get(<span class="hljs-string"><span class="hljs-string">'General'</span></span>, <span class="hljs-string"><span class="hljs-string">'user_data'</span></span>)</code> </pre>  - en el c√≥digo a menudo se encuentran tales l√≠neas.  Acabo de usar el repositorio nativo de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Config kivy</a> como el almac√©n de datos.  Bueno, que haya varios miles de platos, no tiene sentido cercar un jard√≠n con sqlite y algo as√≠.  Todos los datos se almacenan en un archivo.  Este archivo se almacena en la misma carpeta que la aplicaci√≥n en s√≠, si especifica self.directory como en mi c√≥digo, pero puede especificar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">self.user_data_dir</a> para que este archivo no se destruya durante la permutaci√≥n o las actualizaciones. </li></ul><br><h2>  <font color="#cc0000">Ejecutando en windows y linux y macos</font> </h2><br>  El principio para todos los sistemas operativos es el mismo: <br><br><ol><li>  Ponemos python3 </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Ponemos kivy</a> </li><li>  Creamos el archivo main.py y le pegamos todo el c√≥digo anterior </li><li>  Dirigido por equipo <br><br><pre> <code class="python hljs">python3 main.py</code> </pre> </li></ol><br>  El programa deber√≠a funcionar. <br><br><h2>  <font color="#cc0000">Cree el archivo apk y ejec√∫telo en el tel√©fono con Android</font> </h2><br>  Entonces, tenemos un archivo de c√≥digo de programa escrito en python.  ¬øC√≥mo crear una aplicaci√≥n para que se pueda iniciar en un tel√©fono con un Android?  Anteriormente, era un proceso bastante sofisticado que requer√≠a habilidades y bailes con una pandereta.  Ahora esto no es un problema. <br>  Aqu√≠ hay una instrucci√≥n paso a paso: <br><br><ol><li>  Descargue una m√°quina virtual lista para usar de los desarrolladores de kivy, en la que todo ya est√° configurado.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">https://github.com/Zen-CODE/kivybits/blob/master/KivyCompleteVM/ReadMe.txt</a> .  Contrase√±a: kivy <br></li><li>  Lo lanzamos en la caja virtual. </li><li>  Abra la terminal e ingrese los siguientes comandos: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#    python-for-android cd /home/kivy/Repos rm -fr python-for-android/ git clone https://github.com/kivy/python-for-android.git cd ~ mkdir Project cd Project git clone https://github.com/Alexmod/FoodOptions.git cd FoodOptions buildozer android debug #        100500  , #       .</span></span></code> </pre></li><li>  El √∫ltimo comando crea la carpeta bin en el mismo directorio, en bin encontrar√° el archivo foodoptions-0.1-debug.apk, que puede cargar en su tel√©fono, instalar y disfrutar de la aplicaci√≥n. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/co/nq/la/conqla41ldeuegbg4lwlbqztwqc.png"></div><br>  <b>¬øC√≥mo subir un archivo apk al tel√©fono?</b> <br><br>  Por supuesto, puede hacerlo a su gusto, enviarlo por correo, ponerlo en alg√∫n lugar, ponerlo en un telegrama, etc., y luego descargar la aplicaci√≥n a su tel√©fono. <br><br>  Pero hay una herramienta especializada para esto.  Activamos el modo desarrollador en el tel√©fono, lo conectamos con un cable USB.  La m√°quina virtual deber√≠a ver que ha conectado el tel√©fono.  A continuaci√≥n, instale adb: <br><br><pre> <code class="bash hljs">sudo apt install adb</code> </pre> <br>  Despu√©s de la instalaci√≥n, vaya a la carpeta bin e ingrese el comando <br><br><pre> <code class="bash hljs">adb install -r foodoptions-0.1-debug.apk</code> </pre> <br>  Y puede ver la aplicaci√≥n en el tel√©fono aproximadamente un minuto despu√©s de que veamos <br>  √âxito en la consola. <br><br><pre> <code class="bash hljs">kivy@kivy-complete:~/Project/FoodOptions/bin$ adb install -r foodoptions-0.1-debug.apk 342 KB/s (10083019 bytes <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> 28.730s) Success kivy@kivy-complete:~/Project/FoodOptions/bin$</code> </pre><br>  Si de repente la aplicaci√≥n falla o no se comporta como se esperaba, entonces existe un comando para ver los errores <br><br><pre> <code class="bash hljs">adb logcat| grep python</code> </pre> <br>  <b>Nombre de la aplicaci√≥n rusa</b> <br><br>  Si desea que su aplicaci√≥n se llame en ruso, por ejemplo, "Diario de alimentos", debe realizar cambios en el archivo: <br><br><pre> <code class="plaintext hljs">.buildozer/android/platform/build/dists/foodoptions/templates/strings.tmpl.xml</code> </pre><br>  El nombre ruso de la aplicaci√≥n est√° escrito en la etiqueta appName, esta carpeta se crea despu√©s del primer lanzamiento de la depuraci√≥n de Android Buildozer.  Despu√©s de editar el archivo, regrese a la carpeta FoodOptions y ejecute la depuraci√≥n de Android Buildozer nuevamente.  El archivo se ensamblar√° de una nueva manera.  Despu√©s de la instalaci√≥n en el tel√©fono, el nombre del programa se escribir√° en ruso. <br><br>  <b>Acerca del archivo buildozer.spec</b> <br><br>  Aqu√≠ est√° mi archivo <a href="" rel="nofollow">github</a> : <a href="" rel="nofollow">buildozer.spec</a> <br>  Este archivo le dice a Buildozer exactamente c√≥mo construir el paquete. <br><br>  Hay muchas variaciones diferentes.  A qui√©n le importa, luego ingrese el comando dentro de la m√°quina virtual: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /tmp buildozer init</code> </pre><br>  Se crear√° un archivo buildozer.spec predeterminado con un mont√≥n de comentarios y explicaciones.  Por ejemplo, si desea alg√∫n √≠cono para su aplicaci√≥n, indique en la l√≠nea: <br><br><pre> <code class="bash hljs">icon.filename = %(source.dir)s/data/icon.png</code> </pre> <br>  Su archivo con un icono.  Y la aplicaci√≥n ya se ensamblar√° con su icono. <br><br>  Si necesita cargar alg√∫n m√≥dulo espec√≠fico que no es parte de la biblioteca oficial de Python, esto se hace en la l√≠nea require =.  En general, la historia sobre el archivo buildozer.spec puede tomar un art√≠culo completo, o incluso dos. <br><br>  <b>Descargar una aplicaci√≥n en Google Play</b> <br><br>  Es necesario registrarse, realizar todos los procedimientos, obtener las claves.  Y luego corre: <br><br><pre> <code class="bash hljs">sudo apt install zipalign buildozer android release jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore /path/keystore bin/apk-unsigned.apk apkname zipalign -v 4 bin/apk-apkname-unsigned.apk bin/apk-apkname-release.apk</code> </pre> <br>  El archivo resultante apk-apkname-release.apk sube a Google Play. <br><br><h2>  <font color="#cc0000">Referencias</font> </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Video tutoriales sobre kivy en ruso</a> .  Personalmente me gusto </li><li>  Art√≠culos sobre el habr sobre kivy de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">HeaTTheatR</a> (¬°y gracias a √©l por la ayuda!) </li></ul><br>  En principio, cualquier persona que pueda programar en python podr√° cambiar la aplicaci√≥n y agregar f√°cilmente lo siguiente: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Agregue dise√±o</a> para hacer que la aplicaci√≥n sea hermosa </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Use archivos kv</a> para facilitar el c√≥digo.  Dar√≠a una analog√≠a: aquellos que est√°n familiarizados con la programaci√≥n web, imaginan c√≥digo sin plantillas html y plantillas html.  Eliminar botones, capas y otras cosas en archivos kv es algo as√≠ como jinja2 para un programador web.  La l√≥gica permanece en los archivos .py, y las bolas permanecen en los archivos kv. </li><li>  Agregue el conteo de calor√≠as, prote√≠nas, carbohidratos, grasas (BJU) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow">Agregue la capacidad de fotografiar platos</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es426269/">https://habr.com/ru/post/es426269/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es426255/index.html">C√≥mo me rob√≥ Vim mi coraz√≥n</a></li>
<li><a href="../es426261/index.html">Cogear.JS: un generador moderno de sitios est√°ticos</a></li>
<li><a href="../es426263/index.html">Wi-Fi 6 anunciado: lo que necesita saber sobre el nuevo est√°ndar</a></li>
<li><a href="../es426265/index.html">Marco de automatizaci√≥n de env√≠os (SAF)</a></li>
<li><a href="../es426267/index.html">Una canci√≥n sobre c√≥mo la creaci√≥n de proyectos se convirti√≥ en un infierno</a></li>
<li><a href="../es426271/index.html">Tesla Model 3 seguridad para autom√≥viles</a></li>
<li><a href="../es426273/index.html">Instale y configure Oracle Internet Directory para resolver nombres de bases de datos</a></li>
<li><a href="../es426275/index.html">C√≥mo buscamos signos de error m√©dico</a></li>
<li><a href="../es426277/index.html">Cosas para recordar para un programador que cambia a Python</a></li>
<li><a href="../es426279/index.html">C√≥mo los formatos de audio y las tecnolog√≠as de audio "lucharon" y evolucionaron: un gran resumen hist√≥rico</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>