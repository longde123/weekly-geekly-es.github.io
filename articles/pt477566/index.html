<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõë ü§¥üèø üë©üèª‚Äçüî¨ Huawei Cloud: hoje est√° nublado no PVS-Studio ü•£ üôèüèª üßô</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Neste s√©culo, todo mundo j√° ouviu falar em servi√ßos em nuvem. Muitas empresas dominaram esse segmento de mercado e criaram seus servi√ßos em nuvem em v...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Huawei Cloud: hoje est√° nublado no PVS-Studio</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/477566/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ac/bd2/47b/2acbd247b999e7f8e9e45f77181e2f06.png" alt="Quadro 2"></div><br>  Neste s√©culo, todo mundo j√° ouviu falar em servi√ßos em nuvem.  Muitas empresas dominaram esse segmento de mercado e criaram seus servi√ßos em nuvem em v√°rias dire√ß√µes.  Nossa equipe tamb√©m se interessou recentemente por esses servi√ßos em termos de integra√ß√£o do analisador de c√≥digo PVS-Studio com eles.  Acreditamos que nossos leitores regulares j√° adivinhem que tipo de projeto verificaremos neste momento.  A escolha recaiu sobre o c√≥digo de servi√ßos em nuvem da Huawei. <br><a name="habracut"></a><br><h2>  1. Introdu√ß√£o </h2><br>  Se voc√™ est√° acompanhando a equipe do PVS-Studio, provavelmente percebeu que recentemente estivemos muito interessados ‚Äã‚Äãem tecnologias em nuvem.  J√° publicamos v√°rios artigos relacionados a este t√≥pico: <br><br><ul><li>  <a href="https://www.viva64.com/ru/b/0670/">O PVS-Studio vai para as nuvens: Azure DevOps</a> </li><li>  <a href="https://www.viva64.com/ru/b/0636/">PVS-Studio vai para as nuvens: Travis CI</a> </li><li>  <a href="https://www.viva64.com/ru/b/0676/">PVS-Studio vai para as nuvens: CircleCI</a> </li><li>  <a href="https://www.viva64.com/ru/b/0686/">O PVS-Studio vai para as nuvens: GitLab CI / CD</a> </li></ul><br>  E assim, quando eu estava escolhendo outro projeto interessante para o pr√≥ximo artigo, recebi uma oferta de emprego da <a href="https://www.huawei.com/en/">Huawei</a> pelo correio.  Ao coletar informa√ß√µes sobre essa empresa, eles t√™m seus pr√≥prios servi√ßos em nuvem, mas o principal √© que o c√≥digo fonte desses servi√ßos est√° dispon√≠vel gratuitamente no GitHub.  Esse foi o principal motivo para a escolha desta empresa para este artigo.  Como um s√°bio chin√™s disse: "Acidentes n√£o s√£o acidentais". <br><br>  Agora um pouco sobre o nosso analisador.  O PVS-Studio √© um analisador de c√≥digo est√°tico que identifica erros e vulnerabilidades no c√≥digo fonte dos programas escritos em C, C ++, C # e Java.  O analisador funciona nas plataformas Windows, Linux e macOS.  Al√©m dos plugins para ambientes cl√°ssicos de desenvolvimento, como o Visual Studio ou o IntelliJ IDEA, o analisador tem a capacidade de integrar-se ao SonarQube e Jenkins: <br><br><ul><li>  <a href="https://www.viva64.com/ru/m/0037/">Integra√ß√£o dos resultados da an√°lise PVS-Studio no SonarQube</a> </li><li>  <a href="https://www.viva64.com/ru/m/0048/">Lan√ßamento do PVS-Studio em Jenkins</a> </li></ul><br><h2>  An√°lise do projeto </h2><br>  No processo de busca de informa√ß√µes para o artigo, descobri que a Huawei possui um <a href="https://developer.huaweicloud.com/en-us">centro de desenvolvedores</a> onde voc√™ pode obter informa√ß√µes, guias e o c√≥digo fonte dos servi√ßos em nuvem.  Uma variedade de linguagens de programa√ß√£o foi usada para criar esses servi√ßos, mas linguagens como Go, Java e Python acabaram sendo as mais populares. <br><br>  Desde que me especializei em Java, os projetos foram escolhidos de acordo.  As fontes dos projetos analisados ‚Äã‚Äãno artigo podem ser obtidas no reposit√≥rio GitHub <a href="https://github.com/huaweicloud/">huaweicloud</a> . <br><br>  Para analisar os projetos, eu precisava executar apenas algumas a√ß√µes: <br><br><ul><li>  Obtenha projetos do reposit√≥rio; </li><li>  Use as <a href="https://www.viva64.com/ru/m/0044/">instru√ß√µes</a> para iniciar o analisador Java e inicie a an√°lise em cada um dos projetos. </li></ul><br>  Ap√≥s analisar os projetos, conseguimos destacar apenas tr√™s aos quais gostaria de prestar aten√ß√£o.  Isso se deve ao fato de o tamanho dos demais projetos Java ser muito pequeno. <br><br>  Resultados da an√°lise do projeto (n√∫mero de avisos e n√∫mero de arquivos): <br><br><ul><li>  <a href="https://github.com/huaweicloud/huaweicloud-sdk-java">huaweicloud-sdk-java</a> : 31 - Alto, 2 - M√©dio e 16 - Baixo, mais de 2700 arquivos. </li><li>  <a href="https://github.com/huaweicloud/huaweicloud-dis-agent">huaweicloud-dis-agent</a> : 7 - Alto, 6 - M√©dio e 6 - Baixo, mais de 100 arquivos. </li><li>  <a href="https://github.com/huaweicloud/huaweicloud-sdk-java-dis">huaweicloud-sdk-java-dis</a> : 15 - Alto, 6 - M√©dio e 16 - Baixo, mais de 270 arquivos. </li></ul><br>  Existem poucos avisos, portanto, em geral, podemos dizer sobre a boa qualidade do c√≥digo.  Al√©m disso, nem todas as opera√ß√µes s√£o erros v√°lidos.  Isso se deve ao fato de o analisador √†s vezes n√£o possuir informa√ß√µes suficientes para distinguir o c√≥digo correto do incorreto.  Portanto, os diagn√≥sticos do analisador s√£o aprimorados todos os dias com a ajuda das informa√ß√µes recebidas dos usu√°rios.  Veja tamb√©m o artigo " <a href="https://www.viva64.com/ru/b/0488/">Como e por que os analisadores est√°ticos combatem falsos positivos</a> ". <br><br>  No processo de an√°lise de projetos, selecionei os avisos mais interessantes que ser√£o discutidos neste artigo. <br><br><h2>  Ordem de inicializa√ß√£o do campo </h2><br>  <a href="https://www.viva64.com/ru/w/v6050/">O</a> ciclo de inicializa√ß√£o da classe <a href="https://www.viva64.com/ru/w/v6050/">V6050</a> est√° presente.  A inicializa√ß√£o de 'INSTANCE' aparece antes da inicializa√ß√£o de 'LOG'.  UntrustedSSL.java (32), UntrustedSSL.java (59), UntrustedSSL.java (33) <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UntrustedSSL</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> UntrustedSSL INSTANCE = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UntrustedSSL(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> Logger LOG = LoggerFactory.getLogger(UntrustedSSL.class); .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UntrustedSSL</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { .... } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Throwable t) { LOG.error(t.getMessage(), t); <span class="hljs-comment"><span class="hljs-comment">// &lt;= } } }</span></span></code> </pre> <br>  Se ocorrer alguma exce√ß√£o no construtor da classe <i>UntrustedSSL</i> , as informa√ß√µes sobre essa exce√ß√£o ser√£o registradas no <i>bloco catch</i> usando o <i>log</i> do <i>LOG</i> .  No entanto, devido √† ordem de inicializa√ß√£o dos campos est√°ticos, o <i>LOG</i> no momento da inicializa√ß√£o do campo <i>INSTANCE</i> ainda n√£o foi inicializado.  Portanto, ao registrar informa√ß√µes de exce√ß√£o no construtor, uma <i>NullPointerException</i> ser√° lan√ßada.  Essa exce√ß√£o √© a causa de outra <i>exce√ß√£o ExceptionInInitializerError</i> lan√ßada se uma exce√ß√£o ocorreu ao inicializar o campo est√°tico.  Tudo o que √© necess√°rio para resolver o problema descrito √© colocar a inicializa√ß√£o do <i>LOG</i> antes da inicializa√ß√£o do <i>INSTANCE</i> . <br><br><h2>  Erro de digita√ß√£o invis√≠vel </h2><br>  <a href="https://www.viva64.com/ru/w/v6005/">V6005</a> A vari√°vel 'this.metricSchema' √© atribu√≠da a si mesma.  OpenTSDBSchema.java (72) <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OpenTSDBSchema</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@JsonProperty</span></span>(<span class="hljs-string"><span class="hljs-string">"metric"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;SchemaField&gt; metricSchema; .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setMetricsSchema</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;SchemaField&gt; metricsSchema)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.metricSchema = metricSchema; <span class="hljs-comment"><span class="hljs-comment">// &lt;= } public void setMetricSchema(List&lt;SchemaField&gt; metricSchema) { this.metricSchema = metricSchema; } .... }</span></span></code> </pre> <br>  Ambos os m√©todos definem o campo <i>metricSchema</i> , mas os nomes dos m√©todos diferem por um caractere.  O programador nomeou os argumentos desses m√©todos de acordo com o nome do m√©todo.  Como resultado, na linha apontada pelo analisador, o campo <i>metricSchema √©</i> atribu√≠do a si mesmo e o argumento do m√©todo <i>metricsSchema</i> n√£o <i>√©</i> usado. <br><br>  <a href="https://www.viva64.com/ru/w/v6005/">V6005</a> A vari√°vel 'suspens√£o' √© atribu√≠da a si mesma.  SuspendTransferTaskRequest.java (77) <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SuspendTransferTaskRequest</span></span></span><span class="hljs-class"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> suspend; .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setSuspend</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> suspend)</span></span></span><span class="hljs-function"> </span></span>{ suspend = suspend; } .... }</code> </pre> <br>  Aqui est√° um erro banal relacionado ao descuido, devido ao qual a atribui√ß√£o do argumento <i>suspende</i> a si mesma.  Como resultado, o valor do argumento chegado n√£o ser√° atribu√≠do ao campo de <i>suspens√£o</i> , conforme impl√≠cito.  Corretamente: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setSuspend</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> suspend)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.suspend = suspend; }</code> </pre> <br><h2>  Condi√ß√µes predeterminadas </h2><br>  Como costuma acontecer, a regra do <a href="https://www.viva64.com/ru/w/v6007/">V6007 √©</a> antecipada em termos de n√∫mero de avisos. <br><br>  <a href="https://www.viva64.com/ru/w/v6007/">A</a> express√£o <a href="https://www.viva64.com/ru/w/v6007/">V6007</a> 'firewallPolicyId == null' sempre √© falsa.  FirewallPolicyServiceImpl.java (125) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> FirewallPolicy </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">removeFirewallRuleFromPolicy</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String firewallPolicyId, String firewallRuleId)</span></span></span><span class="hljs-function"> </span></span>{ checkNotNull(firewallPolicyId); checkNotNull(firewallRuleId); checkState(!(firewallPolicyId == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; firewallRuleId == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>), <span class="hljs-string"><span class="hljs-string">"Either a Firewall Policy or Firewall Rule identifier must be set"</span></span>); .... }</code> </pre> <br>  Nesse m√©todo, os argumentos s√£o verificados como <i>nulos</i> pelo m√©todo <i>checkNotNull</i> : <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@CanIgnoreReturnValue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> &lt;T&gt; <span class="hljs-function"><span class="hljs-function">T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkNotNull</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(T reference)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (reference == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NullPointerException(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> reference; } }</code> </pre> <br>  Ap√≥s verificar o argumento com o m√©todo <i>checkNotNull</i> , voc√™ pode ter 100% de certeza de que o argumento passado para esse m√©todo n√£o √© <i>nulo</i> .  Como os dois argumentos do m√©todo <i>removeFirewallRuleFromPolicy s√£o</i> verificados pelo m√©todo <i>checkNotNull</i> , n√£o faz sentido verificar os argumentos para <i>valores</i> <i>nulos</i> novamente.  No entanto, uma express√£o √© passada para o m√©todo <i>checkState</i> como o primeiro argumento, onde os argumentos <i>firewallPolicyId</i> e <i>firewallRuleId s√£o</i> verificados novamente quanto a <i>nulo</i> . <br><br>  Um aviso semelhante √© emitido para <i>firewallRuleId</i> : <br><br><ul><li>  A express√£o V6007 'firewallRuleId == null' sempre √© falsa.  FirewallPolicyServiceImpl.java (125) </li></ul><br>  <a href="https://www.viva64.com/ru/w/v6007/">A</a> express√£o <a href="https://www.viva64.com/ru/w/v6007/">V6007</a> 'filteringParams! = Null' sempre √© verdadeira.  NetworkPolicyServiceImpl.java (60) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> Invocation&lt;NetworkServicePolicies&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildInvocation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Map&lt;String, String&gt; filteringParams)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (filteringParams == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> servicePoliciesInvocation; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (filteringParams != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// &lt;= .... } return servicePoliciesInvocation; }</span></span></code> </pre> <br>  Nesse m√©todo, se o argumento <i>filteringParams</i> for <i>nulo</i> , o m√©todo sai e retorna um valor.  Portanto, o teste apontado pelo analisador sempre ser√° verdadeiro, o que significa que esse teste n√£o faz sentido. <br><br>  Semelhante ocorre em 13 classes: <br><br><ul><li>  A express√£o V6007 'filteringParams! = Null' sempre √© verdadeira.  PolicyRuleServiceImpl.java (58) </li><li>  A express√£o V6007 'filteringParams! = Null' sempre √© verdadeira.  GroupServiceImpl.java (58) </li><li>  A express√£o V6007 'filteringParams! = Null' sempre √© verdadeira.  ExternalSegmentServiceImpl.java (57) </li><li>  A express√£o V6007 'filteringParams! = Null' sempre √© verdadeira.  L3policyServiceImpl.java (57) </li><li>  A express√£o V6007 'filteringParams! = Null' sempre √© verdadeira.  PolicyRuleSetServiceImpl.java (58) </li><li>  e assim por diante ... </li></ul><br><h2>  Refer√™ncia nula </h2><br>  <a href="https://www.viva64.com/ru/w/v6008/">V6008 Desrefer√™ncia</a> nula potencial de 'm.blockDeviceMapping'.  NovaServerCreate.java (390) <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ServerCreateBuilder </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">blockDevice</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BlockDeviceMappingCreate blockDevice)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (blockDevice != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; m.blockDeviceMapping == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { m.blockDeviceMapping = Lists.newArrayList(); } m.blockDeviceMapping.add(blockDevice); <span class="hljs-comment"><span class="hljs-comment">// &lt;= return this; }</span></span></code> </pre> <br>  Nesse m√©todo, a inicializa√ß√£o do campo de refer√™ncia <i>m.blockDeviceMapping</i> n√£o ocorrer√° se o argumento <i>blockDevice</i> for <i>nulo</i> .  Este campo √© inicializado apenas neste m√©todo; portanto, quando o m√©todo <i>add</i> √© chamado, o campo <i>m.blockDeviceMapping</i> lan√ßa uma <i>NullPointerException</i> . <br><br>  <a href="https://www.viva64.com/ru/w/v6008/">V6008 Desrefer√™ncia</a> nula potencial de 'FileId.get (caminho)' na fun√ß√£o '&lt;init&gt;'.  TrackedFile.java (140), TrackedFile.java (115) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TrackedFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(FileFlow&lt;?&gt; flow, Path path)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>(flow, path, FileId.get(path), ....); }</code> </pre> <br>  O resultado do m√©todo est√°tico <i>FileId.get (path)</i> √© passado para o construtor da classe <i>TrackedFile</i> como o terceiro argumento.  Mas esse m√©todo pode retornar <i>nulo</i> : <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> FileId </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Path file)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!Files.exists(file)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } .... }</code> </pre> <br>  No construtor chamado por meio <i>disso</i> , o argumento <i>id</i> n√£o muda at√© que seja usado pela primeira vez: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TrackedFile</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(...., ...., FileId id, ....)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> IOException </span></span>{ .... FileId newId = FileId.get(path); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!id.equals(newId)) { .... } }</code> </pre> <br>  Portanto, se <i>nulo</i> for passado para o m√©todo como o terceiro argumento, ocorrer√° uma exce√ß√£o. <br><br>  Uma situa√ß√£o semelhante ocorre em outro caso: <br><br><ul><li>  V6008 Desrefer√™ncia nula potencial de 'buffer'.  PublishingQueue.java (518) </li></ul><br>  <a href="https://www.viva64.com/ru/w/v6008/">V6008 Derefer√™ncia</a> nula potencial de 'dataTmpFile'.  CacheManager.java (91) <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">putToCache</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PutRecordsRequest putRecordsRequest)</span></span></span><span class="hljs-function"> </span></span>{ .... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataTmpFile == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> || !dataTmpFile.exists()) { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { dataTmpFile.createNewFile(); <span class="hljs-comment"><span class="hljs-comment">// &lt;= } catch (IOException e) { LOGGER.error("Failed to create cache tmp file, return.", e); return ; } } .... }</span></span></code> </pre> <br>  E novamente NPE.  V√°rias verifica√ß√µes na instru√ß√£o condicional permitem que o objeto <i>dataTmpFile</i> seja nulo para desreferenciamento adicional.  Acho que existem dois erros de digita√ß√£o aqui, e a verifica√ß√£o deve ser assim: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataTmpFile != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> &amp;&amp; !dataTmpFile.exists())</code> </pre> <br><h2>  Substrings e n√∫meros negativos </h2><br>  <a href="https://www.viva64.com/ru/w/v6009/">V6009</a> A fun√ß√£o 'substring' pode receber o valor '-1' enquanto se espera um valor n√£o negativo.  Inspecione o argumento: 2. RemoveVersionProjectIdFromURL.java (37) <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String url)</span></span></span><span class="hljs-function"> </span></span>{ String urlRmovePojectId = url.substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, url.lastIndexOf(<span class="hljs-string"><span class="hljs-string">"/"</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> urlRmovePojectId.substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, urlRmovePojectId.lastIndexOf(<span class="hljs-string"><span class="hljs-string">"/"</span></span>)); }</code> </pre> <br>  Entende-se que a URL √© passada para esse m√©todo como uma sequ√™ncia, que n√£o √© validada de forma alguma.  Depois que essa string √© aparada v√°rias vezes usando o m√©todo <i>lastIndexOf</i> .  Se <i>lastIndexOf</i> n√£o encontrar uma correspond√™ncia na sequ√™ncia, ele retornar√° -1.  Isso lan√ßar√° uma <i>StringIndexOutOfBoundsException</i> , pois os argumentos para o m√©todo de <i>substring</i> devem ser n√∫meros n√£o negativos.  Para que o m√©todo funcione corretamente, voc√™ deve adicionar a valida√ß√£o do argumento de entrada ou verificar se os resultados dos m√©todos <i>lastIndexOf</i> n√£o s√£o n√∫meros negativos. <br><br>  Aqui est√£o alguns outros lugares onde isso acontece: <br><br><ul><li>  V6009 A fun√ß√£o 'substring' pode receber o valor '-1' enquanto se espera um valor n√£o negativo.  Inspecione o argumento: 2. RemoveProjectIdFromURL.java (37) </li><li>  V6009 A fun√ß√£o 'substring' pode receber o valor '-1' enquanto se espera um valor n√£o negativo.  Inspecione o argumento: 2. RemoveVersionProjectIdFromURL.java (38) </li></ul><br><h2>  Resultado esquecido </h2><br>  <a href="https://www.viva64.com/ru/w/v6010/">V6010</a> O valor de retorno da fun√ß√£o 'concat' deve ser utilizado.  AKSK.java (278) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">buildCanonicalHost</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(URL url)</span></span></span><span class="hljs-function"> </span></span>{ String host = url.getHost(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> port = url.getPort(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (port &gt; -<span class="hljs-number"><span class="hljs-number">1</span></span>) { host.concat(<span class="hljs-string"><span class="hljs-string">":"</span></span> + Integer.toString(port)); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> host; }</code> </pre> <br>  Ao escrever esse c√≥digo, n√£o foi levado em considera√ß√£o que a chamada do m√©todo <i>concat</i> n√£o alterar√° a sequ√™ncia do <i>host</i> devido √† imutabilidade dos objetos do tipo <i>String</i> .  Para que o m√©todo funcione corretamente, voc√™ deve atribuir o resultado do m√©todo <i>concat</i> √† vari√°vel do <i>host</i> no bloco <i>if</i> .  Corretamente: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (port &gt; -<span class="hljs-number"><span class="hljs-number">1</span></span>) { host = host.concat(<span class="hljs-string"><span class="hljs-string">":"</span></span> + Integer.toString(port)); }</code> </pre> <br><h2>  Vari√°veis ‚Äã‚Äãn√£o utilizadas </h2><br>  <a href="https://www.viva64.com/ru/w/v6021/">V6021 A</a> vari√°vel 'url' n√£o √© usada.  TriggerV2Service.java (95) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ActionResponse </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deleteAllTriggersForFunction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String functionUrn)</span></span></span><span class="hljs-function"> </span></span>{ checkArgument(!Strings.isNullOrEmpty(functionUrn), ....); String url = ClientConstants.FGS_TRIGGERS_V2 + ClientConstants.URI_SEP + functionUrn; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> deleteWithResponse(uri(triggersUrlFmt, functionUrn)).execute(); }</code> </pre> <br>  Nesse m√©todo, a vari√°vel <i>url</i> n√£o √© usada ap√≥s a inicializa√ß√£o.  Provavelmente, a vari√°vel <i>url</i> deve ser passada para o m√©todo <i>uri</i> como o segundo argumento em vez de <i>functionUrn</i> , pois a vari√°vel <i>functionUrn est√°</i> envolvida na inicializa√ß√£o da vari√°vel <i>url</i> . <br><br><h2>  Argumento n√£o usado no construtor </h2><br>  <a href="https://www.viva64.com/ru/w/v6022/">V6022 O</a> par√¢metro 'returnType' n√£o √© usado dentro do corpo do construtor.  HttpRequest.java (68) <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HttpReQuest</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">R</span></span></span><span class="hljs-class">&gt; </span></span>{ .... Class&lt;R&gt; returnType; .... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HttpRequest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(...., Class&lt;R&gt; returnType)</span></span></span><span class="hljs-function"> </span><span class="hljs-comment"><span class="hljs-function"><span class="hljs-comment">// &lt;= { this.endpoint = endpoint; this.path = path; this.method = method; this.entity = entity; } .... public Class&lt;R&gt; getReturnType() { return returnType; } .... }</span></span></span></span></code> </pre> <br>  Nesse construtor, eles esqueceram de usar o argumento <i>returnType</i> e atribu√≠ram seu valor ao campo <i>returnType</i> .  Portanto, ao chamar o m√©todo <i>getReturnType</i> , o objeto criado por esse construtor retornar√° o valor padr√£o <i>null</i> , embora provavelmente tenha a inten√ß√£o de obter o objeto que foi passado anteriormente ao construtor. <br><br><h2>  Mesma funcionalidade </h2><br>  <a href="https://www.viva64.com/ru/w/v6032/">V6032</a> √â estranho que o corpo do m√©todo 'enable' seja totalmente equivalente ao corpo de outro m√©todo 'disable'.  ServiceAction.java (32), ServiceAction.java (36) <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ServiceAction</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ModelEntity</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String binary; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String host; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ServiceAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String binary, String host)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.binary = binary; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.host = host; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> ServiceAction </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">enable</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String binary, String host)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// &lt;= return new ServiceAction(binary, host); } public static ServiceAction disable(String binary, String host) { // &lt;= return new ServiceAction(binary, host); } .... }</span></span></code> </pre> <br>  A presen√ßa de dois m√©todos id√™nticos n√£o √© um erro, mas o fato de dois m√©todos executarem a mesma a√ß√£o √© pelo menos estranho.  Observando os nomes dos m√©todos acima, podemos assumir que eles executam as a√ß√µes opostas.  De fato, ambos os m√©todos fazem a mesma coisa - eles criam e retornam um objeto <i>ServiceAction</i> .  Provavelmente, o m√©todo de <i>desativa√ß√£o</i> foi criado copiando o c√≥digo do m√©todo de <i>habilita√ß√£o</i> , mas esqueceu de alterar o corpo do m√©todo. <br><br><h2>  Esqueceu de verificar o principal </h2><br>  <a href="https://www.viva64.com/ru/w/v6060/">V6060</a> A refer√™ncia 'params' foi utilizada antes de ser verificada com rela√ß√£o a nulo.  DomainService.java (49), DomainService.java (46) <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Domains </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">list</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Map&lt;String, String&gt; params)</span></span></span><span class="hljs-function"> </span></span>{ Preconditions.checkNotNull(params.get(<span class="hljs-string"><span class="hljs-string">"page_size"</span></span>), ....); Preconditions.checkNotNull(params.get(<span class="hljs-string"><span class="hljs-string">"page_number"</span></span>), ....); Invocation&lt;Domains&gt; domainInvocation = get(Domains.class, uri(<span class="hljs-string"><span class="hljs-string">"/domains"</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (params != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-comment"><span class="hljs-comment">// &lt;= .... } return domainInvocation.execute(this.buildExecutionOptions(Domains.class)); }</span></span></code> </pre> <br>  Nesse m√©todo, decidimos verificar o conte√∫do de uma estrutura do tipo <i>Mapa</i> quanto √† desigualdade <i>nula</i> .  Para fazer isso, o argumento <i>params</i> chama o m√©todo <i>get</i> duas vezes, cujo resultado √© passado para o m√©todo <i>checkNotNull</i> .  Tudo parece l√≥gico, mas n√£o importa como!  <i>Se</i> , o argumento <i>params</i> √© verificado como <i>nulo</i> .  Depois disso, pode-se supor que o argumento de entrada possa ser <i>nulo</i> , mas antes dessa verifica√ß√£o, o m√©todo <i>get j√°</i> era chamado nos <i>par√¢metros</i> duas vezes.  Se <i>null</i> for passado como argumento para esse m√©todo, na primeira vez que o m√©todo <i>get</i> for chamado, uma exce√ß√£o ser√° lan√ßada. <br><br>  Uma situa√ß√£o semelhante ocorre em mais tr√™s lugares: <br><br><ul><li>  V6060 A refer√™ncia 'params' foi utilizada antes de ser verificada com rela√ß√£o a nulo.  DomainService.java (389), DomainService.java (387) </li><li>  V6060 A refer√™ncia 'params' foi utilizada antes de ser verificada com rela√ß√£o a nulo.  DomainService.java (372), DomainService.java (369) </li><li>  V6060 A refer√™ncia 'params' foi utilizada antes de ser verificada com rela√ß√£o a nulo.  DomainService.java (353), DomainService.java (350) </li></ul><br><h2>  Conclus√£o </h2><br>  Hoje, as grandes empresas modernas simplesmente n√£o podem prescindir do uso de servi√ßos em nuvem.  Um grande n√∫mero de pessoas usa esses servi√ßos; portanto, mesmo o menor erro no servi√ßo pode levar a problemas para muitas pessoas, bem como a custos adicionais para a empresa corrigir as conseq√º√™ncias desse erro.  No desenvolvimento, √© sempre necess√°rio levar em considera√ß√£o o fator humano, pois qualquer pessoa, mais cedo ou mais tarde, comete erros, e este artigo √© um exemplo disso.  √â por isso que voc√™ deve usar todas as ferramentas poss√≠veis para melhorar a qualidade do c√≥digo. <br><br>  O PVS-Studio certamente informar√° a Huawei sobre os resultados da verifica√ß√£o de seus servi√ßos em nuvem para que os desenvolvedores desta empresa possam estud√°-los com mais detalhes. <br><br>  O uso √∫nico da an√°lise de c√≥digo est√°tico demonstrada no artigo n√£o pode mostrar todas as suas vantagens.  Informa√ß√µes mais detalhadas sobre como usar a an√°lise est√°tica corretamente podem ser encontradas <a href="https://www.viva64.com/ru/b/0594/">aqui</a> e <a href="https://www.viva64.com/ru/b/0639/">aqui</a> .  Voc√™ pode baixar o analisador PVS-Studio <a href="https://www.viva64.com/ru/pvs-studio-download/">aqui</a> . <br><br><p> <a href="https://habr.com/en/company/pvs-studio/blog/477558/"><img src="https://habrastorage.org/getpro/habr/post_images/c78/30f/70c/c7830f70c5577c3d6704f254d7cad6a3.png" align="left"></a> </p><br><br>  Se voc√™ deseja compartilhar este artigo com um p√∫blico que fala ingl√™s, use o link para a tradu√ß√£o: Valery Komarov.  <a href="https://habr.com/en/company/pvs-studio/blog/477558/">Huawei Cloud: Hoje est√° nublado no PVS-Studio</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt477566/">https://habr.com/ru/post/pt477566/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt477554/index.html">A zona de dom√≠nio .ORG √© vendida para uma empresa privada. O p√∫blico convida a ICANN a rescindir o contrato</a></li>
<li><a href="../pt477558/index.html">Huawei Cloud: Hoje est√° nublado no PVS-Studio</a></li>
<li><a href="../pt477560/index.html">Mude sua mentalidade com SwiftUI</a></li>
<li><a href="../pt477562/index.html">Design de interface para o jogo, desenhe um pacote de √≠cones</a></li>
<li><a href="../pt477564/index.html">Clientes complexos: como proteger sua equipe deles</a></li>
<li><a href="../pt477568/index.html">O servi√ßo √© f√°cil retorno incondicional. Correio russo</a></li>
<li><a href="../pt477578/index.html">Como escolher uma linguagem de programa√ß√£o para criar um aplicativo Android</a></li>
<li><a href="../pt477580/index.html">Melhores Frameworks PHP para Desenvolvimento Web</a></li>
<li><a href="../pt477584/index.html">Cl√°ssico atemporal: o que os jogos de a√ß√£o modernos devem aprender com DOOM</a></li>
<li><a href="../pt477590/index.html">C√≥digo de incorpora√ß√£o e o perigo de software pirateado</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>