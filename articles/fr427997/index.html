<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®‚Äçüë©‚Äçüëß‚Äçüëß üï¥üèø üìô Audio via Bluetooth: maximisez les d√©tails sur les profils, les codecs et les appareils üåæ üöù üë±üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article est √©galement disponible en anglais 

 En raison de la production de masse de smartphones sans prise audio, le casque Bluetooth sans fil 3...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Audio via Bluetooth: maximisez les d√©tails sur les profils, les codecs et les appareils</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/427997/"><img src="https://xkcd.ru/i/927_v4.png" alt="Bande dessin√©e XKCD sur 14 normes concurrentes: L√©gende: SITUATION: il existe 14 normes concurrentes.  Geek: 14?!  L'absurdit√©!  Nous devons d√©velopper une norme universelle pour toutes les occasions.  Le compagnon de Geek: Oui!  L√©gende: Prochainement: SITUATION: Il existe 15 normes concurrentes."><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cet article est √©galement disponible en anglais</a> <br><br>  En raison de la production de masse de smartphones sans prise audio, le casque Bluetooth sans fil 3,5 mm est devenu pour beaucoup le principal moyen d'√©couter de la musique et de communiquer en mode casque. <br>  Les fabricants d'appareils sans fil n'√©crivent pas toujours des sp√©cifications d√©taill√©es des produits et les articles sur l'audio Bluetooth sur Internet sont contradictoires, parfois incorrects, ne parlent pas de toutes les fonctionnalit√©s et copient souvent les m√™mes informations qui ne correspondent pas √† la r√©alit√©. <br>  Essayons de comprendre le protocole, les capacit√©s des piles Bluetooth OS, des √©couteurs et des haut-parleurs, des codecs Bluetooth pour la musique et la parole, d√©couvrons ce qui affecte la qualit√© du son et du retard transmis, apprenons √† collecter et d√©coder des informations sur les codecs pris en charge et d'autres capacit√©s de l'appareil. <br><br>  <b>TL; DR</b> : <ul><li>  SBC - Codec normal </li><li>  Les √©couteurs ont leur propre √©galiseur et post-traitement pour chaque codec s√©par√©ment </li><li>  aptX n'est pas aussi bon que les publicit√©s en parlent </li><li>  LDAC - conneries marketing </li><li>  La qualit√© de la conversation est toujours m√©diocre </li><li>  Vous pouvez incorporer des encodeurs audio en C dans le navigateur en les compilant dans WebAssembly via emscripten, et ils ne ralentiront pas beaucoup. </li></ul><br><a name="habracut"></a><br><br><br><br><h1>  Musique Bluetooth </h1>  Le composant fonctionnel de Bluetooth est d√©fini par des profils - sp√©cifications de fonctions sp√©cifiques.  La musique Bluetooth est transmise √† l'aide du profil de transmission audio unidirectionnel de haute qualit√© A2DP.  La norme A2DP a √©t√© adopt√©e en 2003 et n'a pas chang√© radicalement depuis lors. <br>  Dans le cadre du profil, 1 codec obligatoire de faible complexit√© de calcul SBC, cr√©√© sp√©cifiquement pour Bluetooth, et 3 suppl√©mentaires sont standardis√©s.  L'utilisation de codecs non document√©s de notre propre impl√©mentation est √©galement autoris√©e. <br><br>  Depuis juin 2019, nous sommes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans la bande dessin√©e xkcd</a> avec 14 codecs A2DP: <br><br><ul><li>  <b>SBC</b> ‚Üê standardis√© en A2DP, pris en charge par tous les appareils </li><li>  <b>MPEG-1/2 Layer 1/2/3</b> ‚Üê standardis√© en A2DP: le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MP3</a> bien connu utilis√© dans la t√©l√©vision num√©rique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MP2</a> et le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MP1</a> inconnu </li><li>  <b>MPEG-2/4 AAC</b> ‚Üê normalis√© en A2DP </li><li>  <b>ATRAC</b> ‚Üê ancien codec Sony standardis√© en A2DP </li><li>  <b>LDAC</b> ‚Üê Le nouveau codec de Sony </li><li>  <b>aptX</b> ‚Üê codec de 1988 </li><li>  <b>aptX HD</b> ‚Üê Identique √† aptX, mais avec diff√©rentes options d'encodage </li><li>  <b>aptX Low Latency</b> ‚Üê un <s>codec compl√®tement diff√©rent, pas d'impl√©mentation de logiciel aptX</s> avec un tampon r√©duit </li><li>  <b>aptX Adaptive</b> ‚Üê un autre codec Qualcomm </li><li>  <b>FastStream</b> ‚Üê pseudo <b>codec</b> , modification SBC bidirectionnelle </li><li>  <b>HWA LHDC</b> ‚Üê Le nouveau codec de Huawei </li><li>  <b>Samsung HD</b> ‚Üê 2 appareils pris en charge </li><li>  <b>Samsung Scalable</b> ‚Üê 2 appareils pris en charge </li><li>  <b>Samsung UHQ-BT</b> ‚Üê 3 appareils pris en charge </li></ul><br><br>  Pourquoi les codecs sont-ils n√©cessaires, demandez-vous, quand l' <abbr title="D√©bit de donn√©es am√©lior√©">EDR</abbr> est-il <abbr title="D√©bit de donn√©es am√©lior√©">disponible</abbr> en Bluetooth, qui vous permet de transf√©rer des donn√©es √† des vitesses de 2 et 3 Mbps, et 1,4 Mbps suffisent pour un PCM 16 bits non compress√© √† deux canaux? <br><br><br><h1>  Transfert de donn√©es Bluetooth </h1>  Il existe deux types de transfert de donn√©es dans Bluetooth: Asynchronous Connection Less (ACL) pour la transmission asynchrone sans √©tablir de connexion, et Synchronous Connection Oriented (SCO) pour la transmission synchrone avec n√©gociation pr√©alable de la connexion. <br>  La transmission est effectu√©e en utilisant un sch√©ma de partage du temps et un choix de canal de transmission pour chaque paquet s√©par√©ment (Frequency-Hop / Time-Division-Duplex, FH / TDD), pour lesquels le temps est divis√© en intervalles de 625 microsecondes, appel√©s intervalles.  L'un des appareils transmet en nombre de cr√©neaux pairs, l'autre en nombres impairs.  Le paquet transmis peut occuper 1, 3 ou 5 emplacements, selon la taille des donn√©es et le type d'ensemble de transmission, auquel cas un appareil transf√®re dans des emplacements pairs et impairs jusqu'√† la fin du transfert.  Au total, jusqu'√† 1600 paquets peuvent √™tre re√ßus et envoy√©s par seconde, si chacun d'eux occupe 1 emplacement, et les deux appareils transmettent et re√ßoivent quelque chose sans s'arr√™ter. <br><br>  2 et 3 Mbps pour EDR, qui peuvent √™tre trouv√©s dans les annonces et sur le site Web Bluetooth, sont le taux de transfert de donn√©es de canal maximum pour toutes les donn√©es au total (y compris les en-t√™tes techniques de tous les protocoles dans lesquels les donn√©es doivent √™tre encapsul√©es), dans deux directions en m√™me temps.  Les taux de transfert de donn√©es r√©els varieront consid√©rablement. <br><br>  Pour transf√©rer de la musique, une m√©thode asynchrone est utilis√©e, presque toujours √† l'aide de paquets comme 2-DH5 et 3-DH5, qui transportent la quantit√© maximale de donn√©es en mode EDR de 2 Mbps et 3 Mbps, respectivement, et occupent 5 emplacements de la division du temps d'antenne. <br><br>  Repr√©sentation sch√©matique d'une transmission utilisant 5 slots par un appareil et 1 slot par un autre (DH5 / DH1): <br><img src="https://habrastorage.org/webt/ym/iz/rj/ymizrjjo_3mwd8eo_p--wooe5om.png" alt="5 cr√©neaux de transmission, dont chacun est transmis 625 microsecondes, et un cr√©neau de r√©ception, √©galement 625 microsecondes.  Au total - 3,75 millisecondes."><br><br>  En raison du principe de partage du temps, nous sommes oblig√©s d'attendre un intervalle de temps de 625 microsecondes apr√®s la transmission d'un paquet, si le deuxi√®me appareil ne nous transmet rien ou transmet un petit paquet, et plus de temps si le deuxi√®me appareil transmet en gros paquets.  Si plusieurs appareils sont connect√©s au t√©l√©phone (par exemple, un casque, une montre et un bracelet de fitness), le temps de transmission est partag√© entre tous. <br><br>  La n√©cessit√© d'encapsuler l'audio dans les protocoles de transport sp√©ciaux L2CAP et AVDTP prend 16 octets de la quantit√© maximale possible de charge utile audio transmise. <br><div class="scrollable-table"><table><tbody><tr><th>  Type d'emballage </th><th>  Nombre d'emplacements </th><th>  Max  octets par paquet </th><th>  Max  octets de charge utile A2DP </th><th>  Max  D√©bit binaire de la charge utile A2DP </th></tr><tr><td>  2-dh3 </td><td>  3 </td><td>  367 </td><td>  351 </td><td>  936 kbps </td></tr><tr><td>  3-dh3 </td><td>  3 </td><td>  552 </td><td>  536 </td><td>  1429 kbps </td></tr><tr><td>  2-DH5 </td><td>  5 </td><td>  679 </td><td>  663 </td><td>  1414 kbps </td></tr><tr><td>  3-dh5 </td><td>  5 </td><td>  1021 </td><td>  1005 </td><td>  2143 kbps </td></tr></tbody></table></div>  Les 1414 et 1429 kbit / s ne sont certainement pas suffisants pour transmettre du son non compress√© dans des conditions r√©elles, avec une bande de 2,4 GHz bruyante et la n√©cessit√© de transf√©rer des donn√©es de service.  L'EDR √† 3 Mbps exige de la puissance de transmission et du bruit de l'air.Par cons√©quent, m√™me en mode 3-DH5, une transmission PCM confortable est impossible, il y aura constamment des interruptions √† court terme et tout ne fonctionnera qu'√† une distance de quelques m√®tres. <br>  En pratique, m√™me le flux audio √† 990 kbit / s (LDAC 990 kbit / s) est difficile √† transmettre. <br><br>  Revenons aux codecs. <br><br><h2>  Sbc </h2>  Codec requis pour tous les appareils prenant en charge la norme A2DP.  Le meilleur et le pire codec en m√™me temps. <br><br><div class="scrollable-table"><table><tbody><tr><th>  Taux d'√©chantillonnage </th><th>  Capacit√© </th><th>  D√©bit binaire </th><th>  Prise en charge du codage </th><th>  Prise en charge du d√©codage </th></tr><tr><td>  16, 32, 44,1, 48 kHz </td><td>  16 bits </td><td>  10-1500 kbps </td><td>  Tous les appareils </td><td>  Tous les appareils </td></tr></tbody></table></div><br><br>  SBC est un codec simple et rapide sur le plan des calculs, avec un mod√®le psychoacoustique primitif (seuls les sons silencieux sont masqu√©s), utilisant la modulation adaptative par impulsions et codes (APCM). <br>  La sp√©cification A2DP recommande l'utilisation de deux profils: qualit√© moyenne et haute qualit√©. <br><img src="https://hsto.org/webt/4b/ry/lo/4brylotdopfu9mh3whbmrmmmy0k.png" alt="Tableau des modes Qualit√© moyenne et haute qualit√©.  Les valeurs sp√©cifi√©es sont le pool de bits, la longueur de trame et le d√©bit binaire.  Pour st√©r√©o commune 44,1 kHz.  Qualit√© moyenne: bitpool = 35, longueur de trame = 83, d√©bit binaire = 229. Haute qualit√©: bitpool = 53, longueur de trame = 119, d√©bit binaire = 328."><br><br>  Le codec poss√®de de nombreux param√®tres qui vous permettent de contr√¥ler le retard algorithmique, le nombre d'√©chantillons dans un bloc, l'algorithme d'allocation de bits, mais presque partout les m√™mes param√®tres recommand√©s dans la sp√©cification sont utilis√©s: <abbr title="Une m√©thode d'encodage st√©r√©o sous la forme d'une partie de signal commune et la diff√©rence entre les canaux, √©conomise de l'espace">St√©r√©o mixte</abbr> , 8 bandes de fr√©quences, 16 blocs dans une trame audio, M√©thode de distribution des bits de <abbr title="Masquage des sons faibles, s'il y a des sons forts, en tenant compte de l'audibilit√© en fr√©quence non lin√©aire de l'oreille humaine">Loudness</abbr> . <br>  SBC prend en charge le changement dynamique du param√®tre Bitpool, qui affecte directement le d√©bit binaire.  Si la radio est obstru√©e, que les paquets sont perdus ou que les appareils sont √©loign√©s, la source audio peut r√©duire Bitpool jusqu'√† ce que la connexion se normalise. <br><br>  Les fabricants de la plupart des √©couteurs d√©finissent la valeur maximale du param√®tre Bitpool sur 53, ce qui limite le d√©bit binaire √† 328 kilobits par seconde lors de l'utilisation du profil recommand√©. <br>  M√™me si le fabricant des √©couteurs a d√©fini la valeur maximale de Bitpool au-dessus de 53 (de tels mod√®les se trouvent, par exemple: Beats Solo¬≥, JBL Everest Elite 750NC, Apple AirPods, se produisent √©galement sur certains r√©cepteurs et unit√©s de t√™te de voiture), la plupart des syst√®mes d'exploitation ne permettront pas d'utiliser des d√©bits binaires accrus en raison de d√©finir la valeur limite interne dans les piles Bluetooth. <br>  En outre, certains fabricants d√©finissent une valeur Bitpool maximale faible pour certains appareils.  Par exemple, pour Bluedio T c'est 39, pour Samsung Gear IconX - 37, ce qui donne une mauvaise qualit√© sonore. <br><br>  Les restrictions artificielles de la part des d√©veloppeurs de piles Bluetooth sont probablement dues √† l'incompatibilit√© de certains appareils avec de grandes valeurs Bitpool ou des profils atypiques, m√™me s'ils ont signal√© leur prise en charge, et un nombre insuffisant de tests lors de la certification.  Il √©tait plus facile pour les auteurs de piles Bluetooth de se limiter √† s'entendre sur un profil recommand√©, plut√¥t que de cr√©er des bases de donn√©es d'appareils incorrects (bien qu'ils le fassent maintenant pour d'autres fonctions qui ne fonctionnent pas correctement). <br><br>  SBC alloue dynamiquement des bits de quantification pour les bandes de fr√©quences, fonctionnant de bas en haut avec diff√©rents poids.  Si le bitrate entier a √©t√© utilis√© pour les fr√©quences basses et moyennes, les fr√©quences plus √©lev√©es seront ¬´coup√©es¬ª (il y aura du silence √† la place). <br><br>  Exemple SBC 328 kbps.  Ci-dessus est l'original, ci-dessous est le SBC, basculant p√©riodiquement entre les pistes.  Pour l'audio, le fichier vid√©o utilise le codec de compression FLAC sans perte.  L'utilisation de FLAC dans le conteneur mp4 n'est pas officiellement standardis√©e, donc ce n'est pas un fait que votre navigateur le jouera, mais cela devrait fonctionner dans les derni√®res versions de Chrome et Firefox de bureau.  Si vous n'avez pas de son, vous pouvez t√©l√©charger le fichier et l'ouvrir dans un lecteur vid√©o √† part enti√®re. <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Votre navigateur ne prend pas en charge la vid√©o HTML5. <source src="https://files.catbox.moe/8yrssu.mp4" type="video/mp4"></video></div></div></div>  <i><font color="#666666">ZZ Top - Sharp Dressed Man</font></i> <br><br>  Le moment de commutation est visible sur le spectrogramme: SBC coupe p√©riodiquement les sons calmes au-dessus de 17,5 kHz et n'√©met aucun bit pour la bande au-dessus de 20 kHz.  Le spectrogramme complet est disponible par clic (1,7 Mo). <br> <a href=""><img src="https://habrastorage.org/webt/-n/0l/rq/-n0lrqlg47cvwkdux2tn2swevsw.jpeg" alt="image"></a> <br><br>  Je n'entends pas la diff√©rence entre l'original et SBC sur cette piste. <br><br>  Prenons quelque chose de plus r√©cent et simulons l'audio qui se serait produit √† l'aide des √©couteurs Samsung Gear IconX avec Bitpool 37 (en haut, le signal d'origine, en bas, SBC 239 kbit / s, le son est en FLAC). <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Votre navigateur ne prend pas en charge la vid√©o HTML5. <source src="https://files.catbox.moe/r561g5.mp4" type="video/mp4"></video></div></div></div>  <i><font color="#666666">Indulgence personnelle sans esprit - T√©moin</font></i> <br><br>  J'entends des cr√©pitements, moins d'effet st√©r√©o et un "cliquetis" d√©sagr√©able de voix √† haute fr√©quence. <br><br>  Bien que SBC et un codec tr√®s flexible puissent √™tre configur√©s pour de faibles latences, il offre une excellente qualit√© audio √† des d√©bits √©lev√©s (452+ kbps) et est assez bon pour la plupart des gens sur la haute qualit√© standard (328 kbps), en raison de que la norme A2DP ne sp√©cifie pas de profils fixes (et ne donne que des recommandations), les d√©veloppeurs des piles d√©finissent des restrictions artificielles sur Bitpool, les param√®tres de l'audio transmis ne sont pas affich√©s dans l'interface utilisateur, et les fabricants de casques sont libres de d√©finir leurs propres param√®tres et de ne jamais indiquer la valeur de Bitpool techniquement  En raison de ses caract√©ristiques de produit, le codec est r√©put√© pour sa faible qualit√© sonore, bien que ce ne soit pas un probl√®me pour le codec lui-m√™me. <br>  Le param√®tre Bitpool affecte directement le d√©bit binaire dans un seul profil.  La m√™me valeur Bitpool 53 peut donner soit un d√©bit binaire de 328 kbit / s avec le profil de haute qualit√© recommand√©, soit 1212 kbit / s avec <abbr title="Mode d'encodage des canaux, dans lequel l'ensemble du Bitpool est utilis√© s√©par√©ment sur chaque canal, doublant en fait le d√©bit binaire">double canal</abbr> et 4 bandes de fr√©quence, c'est pourquoi les auteurs du syst√®me d'exploitation, en plus des restrictions sur Bitpool, fixent une limite et sur Bitrate.  Selon moi, cette situation est due √† une faille de la norme A2DP: il fallait coordonner le d√©bit, pas Bitpool. <br><br>  Tableau de prise en charge des fonctionnalit√©s SBC dans diff√©rents syst√®mes d'exploitation: <br><div class="scrollable-table"><table><tbody><tr><th>  OS </th><th>  Taux d'√©chantillonnage pris en charge </th><th>  Limite max.  Bitpool </th><th>  Limite max.  D√©bit </th><th>  D√©bit typique </th><th>  R√©glage dynamique de Bitpool </th></tr><tr><td>  <b>Windows 10</b> </td><td>  44,1 kHz </td><td>  53 </td><td>  512 kbps </td><td>  328 kbps </td><td>  ‚úì * </td></tr><tr><td>  <b>Linux (BlueZ + PulseAudio)</b> </td><td>  16, 32, 44,1, 48 kHz </td><td>  64 (pour les entrants), 53 (pour les sortants) </td><td>  Aucune limite </td><td>  328 kbps </td><td>  ‚úì * </td></tr><tr><td>  <b>macOS High Sierra</b> </td><td>  44,1 kHz </td><td>  64, par d√©faut 53 *** </td><td>  Inconnu </td><td>  328 kbps </td><td>  ‚úó </td></tr><tr><td>  <b>Android 4.4-9</b> </td><td>  44,1 / 48 kHz ** </td><td>  53 </td><td>  328 kbps </td><td>  328 kbps </td><td>  ‚úó </td></tr><tr><td>  <b>Android 4.1-4.3.1</b> </td><td>  44,1, 48 kHz ** </td><td>  53 </td><td>  229 kbps </td><td>  229 kbps </td><td>  ‚úó </td></tr><tr><td>  <b>Blackberry OS 10</b> </td><td>  48 kHz </td><td>  53 </td><td>  Aucune limite </td><td>  328 kbps </td><td>  ‚úó </td></tr></tbody></table></div>  <i><font color="#666666"><b>*</b> Bitpool ne fait que diminuer, mais n'augmente pas automatiquement, en cas d'am√©lioration des conditions de transmission.</font></i>  <i><font color="#666666">Pour restaurer Bitpool, vous devez arr√™ter la lecture, attendre quelques secondes et red√©marrer l'audio.</font></i> <i><font color="#666666"><br></font></i>  <i><font color="#666666"><b>**</b> La valeur par d√©faut d√©pend des param√®tres de pile sp√©cifi√©s lors de la compilation du firmware.</font></i>  <i><font color="#666666">Dans Android 8 / 8.1, la fr√©quence n'est que de 44,1 kHz ou 48 kHz, selon les param√®tres lors de la compilation, dans d'autres versions, 44,1 kHz et 48 kHz sont pris en charge en m√™me temps.</font></i> <i><font color="#666666"><br></font></i>  <i><font color="#666666"><b>***</b> La valeur Bitpool peut √™tre augment√©e dans Bluetooth Explorer.</font></i> <br><br><h2>  aptX et aptX HD </h2>  aptX est un codec simple et rapide sur le plan des calculs, sans psychoacoustique, utilisant la modulation adaptative diff√©rentielle par impulsions et codage ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ADPCM</a> ).  Il est apparu vers 1988 (la date de d√©p√¥t du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">brevet</a> est dat√©e de f√©vrier 1988), avant Bluetooth, il √©tait principalement utilis√© dans les √©quipements audio sans fil professionnels, <abbr title="Norme de t√©l√©phonie et de transfert de donn√©es. Il n'√©tait pas populaire dans les pays de la CEI.">RNIS</abbr> , les cin√©mas.  Actuellement d√©tenue par Qualcomm, n√©cessite des licences et des redevances.  √Ä partir de 2014: 6 000 $ √† la fois et ‚âà 1 $ pour chaque appareil, pour des lots allant jusqu'√† 10 000 appareils ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">source</a> , p. 16). <br>  aptX et aptX HD sont le m√™me codec, avec des profils d'encodage diff√©rents. <br><br>  Le codec n'a qu'un seul param√®tre - le choix de la fr√©quence d'√©chantillonnage.  Il y a cependant un choix du nombre / mode de canaux, mais dans tous les appareils que je connais (70+ pi√®ces), seule la st√©r√©o est prise en charge. <br><br><div class="scrollable-table"><table><tbody><tr><th>  Codec </th><th>  Taux d'√©chantillonnage </th><th>  Capacit√© </th><th>  D√©bit binaire </th><th>  Prise en charge du codage </th><th>  Prise en charge du d√©codage </th></tr><tr><td>  <b>aptX</b> </td><td>  16, 32, 44,1, 48 kHz </td><td>  16 bits </td><td>  128/256/352/384 kbps (selon le taux d'√©chantillonnage) </td><td>  Windows 10 (ordinateur de bureau et mobile), macOS, Android 4.4 + / 7 *, Blackberry OS 10 </td><td>  Une large gamme de p√©riph√©riques audio (mat√©riel) </td></tr></tbody></table></div>  <i><font color="#666666"><b>*</b> Les versions ant√©rieures √† 7 n√©cessitent une modification de la pile Bluetooth.</font></i>  <i><font color="#666666">Le codec n'est pris en charge que si le fabricant de l'appareil Android a autoris√© Qualcomm √† utiliser le codec (si le syst√®me d'exploitation poss√®de des biblioth√®ques de codage).</font></i> <br><br>  aptX divise l'audio en 4 bandes de fr√©quences et les quantifie avec le m√™me nombre de bits en continu: 8 bits pour 0-5,5 kHz, 4 bits pour 5,5-11 kHz, 2 bits pour 11-16,5 kHz, 2 bits pour 16,5-22 kHz ( chiffres pour une fr√©quence d'√©chantillonnage de 44,1 kHz). <br><br>  Exemple aptX-audio (en haut est le signal source, en bas est aptX, spectrogrammes des canaux gauche uniquement, son en FLAC): <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Votre navigateur ne prend pas en charge la vid√©o HTML5. <source src="https://files.catbox.moe/06eohy.mp4" type="video/mp4"></video></div></div></div><br>  Les fr√©quences sup√©rieures sont devenues un peu plus rouges, mais aucune diff√©rence n'est entendue. <br><br>  En raison de la distribution fixe des bits de quantification, le codec ne peut pas ¬´transf√©rer les bits¬ª vers les fr√©quences qui en ont le plus besoin.  Contrairement √† SBC, aptX ne ¬´coupera¬ª pas les fr√©quences, mais leur ajoutera du bruit de quantification, r√©duisant la plage dynamique de l'audio. <br><br>  Il ne faut pas consid√©rer que l'utilisation, par exemple, de 2 bits pour une bande r√©duit la plage dynamique √† 12 dB: ADPCM vous permet d'utiliser jusqu'√† 96 dB de plage dynamique m√™me lorsque vous utilisez 2 bits de quantification, mais uniquement avec un signal sp√©cifique. <br>  ADPCM stocke la diff√©rence de repr√©sentation num√©rique entre l'√©chantillon actuel et l'√©chantillon suivant, au lieu d'√©crire la valeur absolue, comme dans PCM.  Cela vous permet de r√©duire les exigences relatives au nombre de bits requis pour stocker les m√™mes informations (sans perte) ou presque les m√™mes (avec une erreur d'arrondi relativement faible).  Pour r√©duire les erreurs d'arrondi, des tableaux de coefficients sont utilis√©s. <br>  Lors de la cr√©ation du codec, les auteurs ont calcul√© les coefficients ADPCM sur un ensemble de fichiers audio musicaux.  Plus le signal audio est proche de l'ensemble de musique sur lequel les tables ont √©t√© construites, moins aptX cr√©e d'erreurs de quantification (bruit). <br><br>  Pour cette raison, les tests synth√©tiques produiront toujours des r√©sultats pires que la musique.  J'ai fait un exemple synth√©tique sp√©cial o√π aptX montre de mauvais r√©sultats - une onde sinuso√Ødale de 12,4 kHz (ci-dessus est le signal d'origine, ci-dessous est aptX. Son en FLAC. Baissez le volume!): <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Votre navigateur ne prend pas en charge la vid√©o HTML5. <source src="https://files.catbox.moe/kterhd.mp4" type="video/mp4"></video></div></div></div><br>  Graphique du spectre: <br><img src="https://habrastorage.org/webt/i1/p9/gr/i1p9grptgcwou7hf7f21yydddxa.png" alt="Graphique du spectre, niveau de bruit maximum - -55 dB"><br><br>  Les bruits sont clairement audibles. <br><br>  Cependant, si une sinuso√Øde avec une amplitude plus petite est g√©n√©r√©e de mani√®re √† √™tre plus silencieuse, le bruit deviendra √©galement plus silencieux, ce qui indique une large plage dynamique: <br><br><img src="https://habrastorage.org/webt/qe/ti/km/qetikmcmqkiusrwtxdftmlvn_ii.png" alt="Graphique du spectre, niveau de bruit maximum - -75 dB"><br><br>  Pour entendre la diff√©rence entre la piste musicale d'origine et la piste compress√©e, vous pouvez inverser l'un des signaux et ajouter les pistes canal par canal.  Cette approche, en g√©n√©ral, est incorrecte et ne donnerait pas un r√©sultat sain avec des codecs plus complexes, mais sp√©cifiquement pour ADPCM, elle est tout √† fait appropri√©e. <br>  <a href="">La diff√©rence entre l'original et aptX</a> <br>  La diff√©rence quadratique moyenne des signaux est de -37,4 dB, ce qui n'est pas beaucoup pour une telle musique compress√©e. <br><br><h3>  aptX HD </h3>  aptX HD n'est pas un codec autonome - c'est un profil d'encodage de codec aptX am√©lior√©.  Les changements ont affect√© le nombre de bits allou√©s pour le codage des plages de fr√©quences: 10 bits pour 0-5,5 kHz, 6 bits pour 5,5-11 kHz, 4 bits pour 11-16,5 kHz, 4 bits pour 16,5-22 kHz (chiffres pour 44,1 kHz). <br><br><div class="scrollable-table"><table><tbody><tr><th>  Codec </th><th>  Taux d'√©chantillonnage </th><th>  Capacit√© </th><th>  D√©bit binaire </th><th>  Prise en charge du codage </th><th>  Prise en charge du d√©codage </th></tr><tr><td>  <b>aptX HD</b> </td><td>  16, 32, 44,1, 48 kHz </td><td>  24 bits </td><td>  192/384/529/576 kbps (selon le taux d'√©chantillonnage) </td><td>  Android 8 + * </td><td>  Certains p√©riph√©riques audio (mat√©riel) </td></tr></tbody></table></div>  <i><font color="#666666"><b>*</b> Les versions ant√©rieures √† 7 n√©cessitent une modification de la pile Bluetooth.</font></i>  <i><font color="#666666">Le codec n'est pris en charge que si le fabricant de l'appareil Android a autoris√© Qualcomm √† utiliser le codec (si le syst√®me d'exploitation poss√®de des biblioth√®ques de codage).</font></i> <br><br>  Moins courant qu'aptX: il semble exiger une licence distincte de Qualcomm et des frais de licence distincts. <br><br>  R√©p√©tons l'exemple avec une onde sinuso√Ødale de 12,4 kHz: <br><img src="https://habrastorage.org/webt/zj/be/u6/zjbeu69hd_pqm-valjq895lcoei.png" alt="Graphique du spectre, niveau de bruit maximum - -72 dB"><br><br>  Beaucoup mieux qu'avec aptX, mais toujours bruyant. <br><br><br><h2>  aptX Low Latency </h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La version √† faible latence d'aptX n'est pas un codec autonome, mais ne diff√®re que par les param√®tres de d√©lai et de tampon utilis√©s du c√¥t√© du p√©riph√©rique audio. </font><font style="vertical-align: inherit;">Le reste est juste aptX. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le codec est con√ßu pour une transmission audio interactive √† faible latence (films, jeux), o√π le retard audio ne peut pas √™tre r√©gl√© par programme. </font><font style="vertical-align: inherit;">L'impl√©mentation logicielle est disponible en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tant que pilote Dell pour les puces Bluetooth Intel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">√âgalement pris en charge par les √©metteurs, les r√©cepteurs, les √©couteurs et les haut-parleurs, mais pas les smartphones.</font></font><br><br><div class="scrollable-table"><table><tbody><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Taux d'√©chantillonnage </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> D√©bit binaire </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prise en charge du codage </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prise en charge du d√©codage </font></font></th></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 44,1 kHz </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 352 kbps </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows 10 avec pilote Dell et certains √©metteurs (mat√©riel) </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Certains p√©riph√©riques audio (mat√©riel) </font></font></td></tr></tbody></table></div><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aac </font></font></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AAC, ou Advanced Audio Coding, est un codec de calcul complexe avec un mod√®le psychoacoustique s√©rieux. </font><font style="vertical-align: inherit;">Il est largement utilis√© pour l'audio sur Internet, le deuxi√®me plus populaire apr√®s MP3. </font><font style="vertical-align: inherit;">Licences et redevances requises: 15 000 $ √† la fois (ou 1 000 $ pour les entreprises de moins de 15 employ√©s) + 0,98 $ pour les 500 000 premiers appareils ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">source</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le codec est normalis√© dans le cadre des sp√©cifications MPEG-2 et MPEG-4 et, contrairement √† une id√©e fausse, n'appartient pas √† Apple.</font></font><br><br><div class="scrollable-table"><table><tbody><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Taux d'√©chantillonnage </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> D√©bit binaire </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prise en charge du codage </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prise en charge du d√©codage </font></font></th></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 8 - 96 kHz </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 8 - 576 kbps (pour st√©r√©o), 256 - 320 kbps (typique pour Bluetooth) </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> macOS, Android 7 + *, iOS </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Une large gamme de p√©riph√©riques audio (mat√©riel) </font></font></td></tr></tbody></table></div> <i><font color="#666666"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Uniquement sur les appareils dont les fabricants ont pay√© des redevances</font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . IOS et macOS utilisent le meilleur encodeur Apple AAC √† ce jour, offrant la meilleure qualit√© audio possible. Android utilise l'encodeur Fraunhofer FDK AAC de deuxi√®me qualit√©, mais divers mat√©riels int√©gr√©s √† la plate-forme (SoC) peuvent √™tre utilis√©s, avec une qualit√© d'encodage inconnue.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selon de r√©cents tests SoundGuys</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, la qualit√© de l'encodage AAC par diff√©rents t√©l√©phones Android est tr√®s diff√©rente: la</font><font style="vertical-align: inherit;">plupart des appareils audio sans fil pour AAC ont un d√©bit binaire maximal de 320 kbps, certains ne supportent que 256 kbps. Les autres d√©bits sont extr√™mement rares.</font><font style="vertical-align: inherit;">AAC offre une excellente qualit√© √† 320 et 256 kbps mais est soumis √†</font></font><br> <a href=""><img src="https://www.soundguys.com/wp-content/uploads/2018/10/aac-enhanced-view-fr-1200x788.jpg" alt="   AAC   .  Huawei P20 Pro      14 ,  LG V30 ‚Äî   16 ,  Samsung Note 8 ‚Äî 17 ,  Apple iPhone 7 ‚Äî 19 ."></a> <br><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perte d'encodage s√©quentiel de contenu d√©j√† compress√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , cependant, il est difficile d'entendre des diff√©rences avec l'original sur iOS √† un d√©bit de 256 kbps m√™me avec plusieurs encodages cons√©cutifs, avec un seul encodage, par exemple, MP3 320 kbps en AAC 256 kbps peut √™tre n√©glig√©. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme avec les autres codecs Bluetooth, toute musique est d'abord d√©cod√©e, puis encod√©e par le codec. Lorsque vous √©coutez de la musique au format AAC, elle est d'abord d√©cod√©e au moyen du syst√®me d'exploitation, puis encod√©e √† nouveau en AAC, pour une transmission via Bluetooth. Cela est n√©cessaire pour m√©langer plusieurs flux audio, par exemple, la musique et la notification d'un nouveau message. iOS ne fait pas exception. Sur Internet, vous pouvez trouver de nombreuses all√©gations selon lesquelles sur iOS AAC la musique n'est pas transcod√©e lorsqu'elle est transmise via Bluetooth, ce qui est incorrect.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La norme AAC a de nombreuses extensions de la m√©thode de codage standard. </font><font style="vertical-align: inherit;">L'un d'eux - Scalable To Lossless (SLS) - est standardis√© pour Bluetooth et vous permet de transf√©rer de l'audio sans perte (sans perte). </font><font style="vertical-align: inherit;">H√©las, sur les appareils r√©els, le support d'extension n'est pas trouv√©. </font><font style="vertical-align: inherit;">L'extension pour r√©duire le d√©lai de transmission AAC-LD (Low Delay) n'est pas standardis√©e pour Bluetooth.</font></font><br><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MP1 / 2/3 </font></font></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les codecs de la famille MPEG-1/2 Part 3 sont constitu√©s de MP3 bien connus et largement utilis√©s, de MP2 moins courants (utilis√©s principalement dans la t√©l√©vision et la radio num√©riques) et de MP1 totalement inconnus. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les anciens codecs MP1 et MP2 ne sont pas pris en charge du tout: je n'ai trouv√© aucun casque et pas une seule pile Bluetooth qui les encoderait ou les d√©coder. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le d√©codage MP3 est pris en charge par certains √©couteurs, mais l'encodage n'est pris en charge sur aucune pile de syst√®mes d'exploitation modernes. Il semble que la pile BlueSoleil tierce pour Windows puisse encoder en MP3 si vous modifiez manuellement le fichier de configuration, mais mon installation conduit √† BSoD sur Windows 10. Conclusion - le codec ne peut pas r√©ellement √™tre utilis√© pour l'audio Bluetooth.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plus t√¥t, en 2006-2008, avant que la norme A2DP ne soit distribu√©e dans les appareils, les gens √©coutaient de la musique MP3 sur le casque Nokia BH-501 via le programme MSI BluePlayer, qui √©tait disponible sur Symbian et Windows Mobile. </font><font style="vertical-align: inherit;">√Ä cette √©poque, l'architecture du syst√®me d'exploitation du smartphone permettait d'acc√©der √† de nombreuses fonctions de bas niveau et il √©tait possible d'installer des piles Bluetooth tierces sur Windows Mobile. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le dernier brevet du codec MP3 a expir√©, l'utilisation du codec ne n√©cessite pas de redevances √† partir du 23 avril 2017.</font></font><br><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si le brevet le plus ancien mentionn√© dans les r√©f√©rences susmentionn√©es est pris √† titre de mesure, la technologie MP3 est devenue sans brevet aux √âtats-Unis le 16 avril 2017 lorsque le brevet am√©ricain 6 009 399, d√©tenu et administr√© par Technicolor, a expir√©. </font></font></blockquote> <i><font color="#666666">: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.iis.fraunhofer.de/en/ff/amm/prod/audiocodec/audiocodecs/mp3.html</a></font></i> <br><br><div class="scrollable-table"><table><tbody><tr><th>   </th><th>  </th><th>   </th><th>   </th></tr><tr><td> 16 ‚Äî 48  </td><td> 8 ‚Äî 320 / </td><td>    </td><td>   () </td></tr></tbody></table></div><br><br><h2> LDAC </h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le nouveau codec haute r√©solution de Sony, activement promu, prend en charge des taux d'√©chantillonnage allant jusqu'√† 96 kHz et une r√©solution de 24 bits, avec un d√©bit pouvant atteindre 990 kbps. Annonc√© comme codec audiophile, en remplacement des codecs Bluetooth existants. Il a la fonction de r√©glage adaptatif du d√©bit, en fonction des conditions de la radio. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'encodeur LDAC ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libldac</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) est inclus dans le package Android standard, donc l'encodage est pris en charge sur n'importe quel smartphone Android, √† partir de la version 8 du syst√®me d'exploitation. Les d√©codeurs logiciels ne sont pas disponibles gratuitement, la sp√©cification du codec n'est pas accessible au grand public, cependant, √† premi√®re vue sur l'encodeur, le p√©riph√©rique interne est similaire √† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATRAC9</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Codec Sony utilis√© dans la PlayStation 4 et Vita: les deux fonctionnent dans la gamme de fr√©quences, utilisent la transform√©e en cosinus discr√®te modifi√©e (MDCT) et la compression en utilisant l'algorithme de Huffman. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LDAC utilise la division en 12 ou 16 bandes de fr√©quences: 12 pour 44,1 et 48 kHz, 16 pour 88,2 et 96 kHz. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le support LDAC est repr√©sent√© presque exclusivement par les √©couteurs Sony. </font><font style="vertical-align: inherit;">La capacit√© de d√©coder le LDAC se trouve parfois sur les √©couteurs et les DAC d'autres fabricants, mais tr√®s rarement.</font></font><br><br><div class="scrollable-table"><table><tbody><tr><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Taux d'√©chantillonnage </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> D√©bit binaire </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prise en charge du codage </font></font></th><th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prise en charge du d√©codage </font></font></th></tr><tr><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 44,1 - 96 kHz </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 303/606/909 kbit / s (pour 44,1 et 88,2 kHz), 330/660/990 kbit / s (pour 48 et 96 kHz) </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Android 8+ </font></font></td><td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Certains √©couteurs Sony et appareils individuels d'autres fabricants (mat√©riel) </font></font></td></tr></tbody></table></div><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La commercialisation de LDAC en tant que codec haute r√©solution nuit √† sa composante technique: il est stupide de d√©penser du d√©bit binaire pour transmettre des fr√©quences inaudibles par l'oreille humaine et une profondeur de bits accrue, tant qu'il ne suffit pas de transmettre la qualit√© CD (44,1 / 16) sans perte. Heureusement, le codec a deux modes de fonctionnement: la transmission audio CD et la transmission audio haute r√©solution. Dans le premier cas, seuls 44,1 kHz / 16 bits sont transmis par voie a√©rienne.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âtant donn√© que le d√©codeur logiciel LDAC n'est pas disponible gratuitement, il est impossible de tester le codec sans dispositifs suppl√©mentaires qui d√©codent LDAC. </font><font style="vertical-align: inherit;">Selon le test LDAC sur le DAC avec son support, qui a √©t√© connect√© par les ing√©nieurs de SoundGuys.com via une sortie num√©rique et enregistr√© le son √©mis sur les signaux de test, le LDAC 660 et 990 kbps en mode qualit√© CD fournit un rapport signal / bruit l√©g√®rement meilleur que celui d'aptX HD </font><font style="vertical-align: inherit;">C'est un bon r√©sultat. </font><i><font color="#666666"><font style="vertical-align: inherit;">Source: </font></font></i><i><font color="#666666"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">www.soundguys.com/ldac-ultimate-bluetooth-guide-20026</font></a></font></i><font style="vertical-align: inherit;"> LDAC prend √©galement en charge le d√©bit binaire dynamique en dehors des profils √©tablis - de 138 kbps √† 990 kbps, mais, pour autant que je sache, Android n'utilise que des profils standardis√©s 303 / 606/909 et 330/660/990 kbit / s.</font></font><br><br> <a href=""><img src="https://www.soundguys.com/wp-content/uploads/2018/10/LDAC-990-CD-Noise-Floor.jpg" alt="LDAC CD 990 kbit/s noise profile"></a> <br> <i><font color="#666666"><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a></font></i> <br><br><font style="vertical-align: inherit;"></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Autres codecs </font></font></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les autres codecs A2DP ne sont pas largement utilis√©s. </font><font style="vertical-align: inherit;">Leur support est soit presque totalement absent, soit disponible uniquement sur certains mod√®les de casques et smartphones. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le codec ATRAC normalis√© en A2DP n'a jamais √©t√© utilis√© comme codec Bluetooth m√™me par Sony, les codecs Samsung HD, Samsung Scalable et Samsung UHQ-BT ont un support tr√®s limit√© des appareils de transmission et de r√©ception, et le HWA LHDC est trop nouveau et n'est pris en charge que trois (?) appareils.</font></font><br><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prise en charge du codec audio </font></font></h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tous les fabricants ne publient pas d'informations pr√©cises sur les codecs prenant en charge certains √©couteurs, haut-parleurs, r√©cepteurs ou √©metteurs sans fil. Parfois, il arrive que la prise en charge d'un certain codec soit uniquement pour la transmission, mais pas pour la r√©ception (pertinente pour les √©metteurs-r√©cepteurs combin√©s), bien que le fabricant pr√©tend simplement √™tre "pris en charge", sans commentaires (je suppose que l'octroi de licences distinctes pour les encodeurs et les d√©codeurs de certains codecs est √† bl√¢mer. ) Dans les appareils les moins chers, vous ne trouverez peut-√™tre pas du tout le support d√©clar√© d'aptX. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Malheureusement, dans les interfaces de la plupart des OS, le codec utilis√© n'est affich√© nulle part. Les informations √† ce sujet sont disponibles uniquement dans Android, √† partir de la version 8, et macOS. Cependant, m√™me dans ces syst√®mes d'exploitation, seuls les codecs prenant en charge √† la fois le t√©l√©phone / ordinateur et les √©couteurs seront affich√©s.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment savoir quels codecs le p√©riph√©rique prend en charge? L'option la plus fiable est d'enregistrer et d'analyser un vidage de trafic avec les param√®tres de n√©gociation A2DP! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela peut √™tre fait sur Linux, macOS et Android. Sous Linux, vous pouvez utiliser Wireshark ou hcidump, sur macOS vous pouvez utiliser Bluetooth Explorer, et sur Android vous pouvez utiliser la fonction d'enregistrement de vidage Bluetooth HCI standard, qui est disponible dans les outils du d√©veloppeur. Vous recevrez un vidage btsnoop, qui peut √™tre t√©l√©charg√© sur l'analyseur Wireshark. </font></font><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faites attention</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Vous ne pouvez obtenir le bon vidage qu'en vous connectant du t√©l√©phone / ordinateur au casque / haut-parleur (peu importe √† quel point cela semble dr√¥le)! </font><font style="vertical-align: inherit;">Les √©couteurs peuvent √©tablir ind√©pendamment une connexion avec le t√©l√©phone, auquel cas ils demanderont une liste de codecs au t√©l√©phone, et non l'inverse. </font><font style="vertical-align: inherit;">Pour vous assurer que vous enregistrez le vidage correct, d√©connectez d'abord le jumelage avec l'appareil, puis, pendant l'enregistrement du vidage, jumelez le t√©l√©phone avec les √©couteurs. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisez le filtre d'affichage suivant pour filtrer le trafic non pertinent:</font></font><br><pre><code class="plaintext hljs">btavdtp.signal_id</code> </pre> <br><br>  En cons√©quence, vous devriez voir quelque chose de similaire: <br> <a href=""><img src="https://habrastorage.org/webt/fv/ku/xs/fvkuxsqcdwtxznupploqmldv9qm.png" alt="Wireshark avec un vidage et un filtre charg√©s pour afficher la commande A2DP GetCapabilities"></a> <br><br>  √Ä chaque point de la commande GetCapabilities, vous pouvez cliquer et voir les caract√©ristiques d√©taill√©es du codec. <br> <a href=""><img src="https://habrastorage.org/webt/7s/9a/xa/7s9axaeztya_dr2irptfi68ejxs.png" alt="Caract√©ristiques de l'un des √©l√©ments s√©lectionn√©s. L'identifiant du codec est visible."></a> <br><br>  Wireshark ne conna√Æt pas tous les identificateurs de codec, donc certains codecs devront √™tre d√©chiffr√©s manuellement, en consultant le tableau d'identificateurs ci-dessous: <br><pre> <code class="plaintext hljs">Mandatory: 0x00 - SBC Optional: 0x01 - MPEG-1,2 (aka MP3) 0x02 - MPEG-2,4 (aka AAC) 0x04 - ATRAC Vendor specific: 0xFF 0x004F 0x01 - aptX 0xFF 0x00D7 0x24 - aptX HD 0xFF 0x000A 0x02 - aptX Low Latency 0xFF 0x00D7 0x02 - aptX Low Latency 0xFF 0x000A 0x01 - FastStream 0xFF 0x012D 0xAA - LDAC 0xFF 0x0075 0x0102 - Samsung HD 0xFF 0x0075 0x0103 - Samsung Scalable Codec 0xFF 0x053A 0x484C - Savitech LHDC 0xFF 0x000A 0x0104 - The CSR True Wireless Stereo v3 Codec ID for AAC 0xFF 0x000A 0x0105 - The CSR True Wireless Stereo v3 Codec ID for MP3 0xFF 0x000A 0x0106 - The CSR True Wireless Stereo v3 Codec ID for aptX</code> </pre> <br>  Pour savoir si votre appareil prend en charge des vitesses EDR de 3 Mbps, vous pouvez filtrer: <br><pre> <code class="plaintext hljs">bthci_evt.code==0x0b</code> </pre> <br><img src="https://habrastorage.org/webt/jj/qy/ph/jjqyphb07cjqmqgrqirhqmueula.png" alt="image"><br><br>  Afin de ne pas analyser les vidages manuellement, j'ai fait un service qui analysera tout automatiquement: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">btcodecs.valdikss.org.ru</a> <br><br>  Pour Windows, il existe un utilitaire <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Bluetooth Tweaker</a> simple mais utile, qui, entre autres, affiche les codecs actuels et pris en charge. <br>  Sous Linux, vous pouvez √©galement utiliser le programme avinfo inclus avec BlueZ. <br><br><br><h1>  Comparaison des codecs.  Quel codec est le meilleur? </h1>  Chaque codec a ses avantages et ses inconv√©nients. <br>  aptX et aptX HD utilisent des profils cod√©s en dur qui ne peuvent pas √™tre modifi√©s sans modifier l'encodeur et le d√©codeur.  Ni le fabricant du t√©l√©phone ni celui des √©couteurs ne peuvent modifier le d√©bit binaire ou les coefficients de codage aptX.  Le propri√©taire du codec, Qualcomm, fournit un encodeur de r√©f√©rence sous la forme d'une biblioth√®que.  Ces faits sont le point fort d'aptX - vous savez √† l'avance quelle qualit√© de son vous obtiendrez, sans ¬´mais¬ª. <br><br>  SBC, au contraire, a de nombreux param√®tres configurables, un d√©bit binaire dynamique (l'encodeur peut r√©duire le param√®tre bitpool si la radio est charg√©e), et n'a pas de codes durs, mais seulement la ¬´qualit√© moyenne¬ª et la ¬´haute qualit√©¬ª recommand√©es, qui ont √©t√© ajout√©es √† la sp√©cification A2DP en 2003 ann√©e.  La ¬´haute qualit√©¬ª n'est pas si √©lev√©e par rapport aux normes modernes, et la plupart des piles Bluetooth ne permettent pas d'utiliser les param√®tres mieux que dans le profil ¬´haute qualit√©¬ª, bien qu'il n'y ait pas de limitations techniques √† cela. <br>  Bluetooth SIG ne poss√®de pas d'encodeur de r√©f√©rence SBC sous forme de biblioth√®que, et les fabricants le mettent en ≈ìuvre eux-m√™mes. <br>  Ce sont les faiblesses de SBC - il n'est jamais clair √† l'avance quelle qualit√© sonore attendre d'un appareil particulier.  SBC peut produire √† la fois une qualit√© sonore faible et tr√®s √©lev√©e, mais cette derni√®re est inaccessible sans d√©sactiver ni contourner les limitations artificielles des piles Bluetooth. <br><br>  La situation avec AAC est ambigu√´: d'une part, le codec devrait th√©oriquement donner une qualit√© indiscernable de l'original, mais la pratique, √† en juger par les tests du laboratoire SoundGuys sur diff√©rents appareils Android, ne le confirme pas.  Tr√®s probablement, la faute est sur les encodeurs audio mat√©riels de faible qualit√© int√©gr√©s dans divers chipsets t√©l√©phoniques.  Il est logique d'utiliser AAC uniquement sur les appareils Apple, et sur Android, il est limit√© √† aptX et LDAC. <br><br>  En r√®gle g√©n√©rale, les √©quipements qui prennent en charge les codecs alternatifs sont de meilleure qualit√©, simplement parce que pour les appareils de faible qualit√© absolument bon march√©, il n'est pas logique de payer des frais de licence pour l'utilisation de ces codecs.  Selon mes tests, SBC sonne tr√®s bien sur un √©quipement de haute qualit√©. <br><br>  J'ai fait un service web encodant l'audio en SBC, aptX et aptX HD en temps r√©el, directement dans le navigateur.  Avec lui, vous pouvez tester ces codecs audio sans transmettre r√©ellement audio via Bluetooth, sur tous les √©couteurs filaires, haut-parleurs et votre musique pr√©f√©r√©e, ainsi que modifier les param√®tres d'encodage directement pendant la lecture audio: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">btcodecs.valdikss.org.ru/sbc-encoder</a> <br>  Le service utilise les biblioth√®ques de codage SBC du projet BlueZ et libopenaptx de ffmpeg, qui sont compil√©es dans WebAssembly et JavaScript √† partir de C, via emscripten, pour s'ex√©cuter dans le navigateur.  Qui pourrait r√™ver d'un tel avenir! <br><br>  Voici √† quoi √ßa ressemble: <br><div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;">  Votre navigateur ne prend pas en charge la vid√©o HTML5. <source src="https://files.catbox.moe/9e9q8f.mp4" type="video/mp4"></video></div></div></div><br>  Veuillez noter comment le niveau de bruit change apr√®s 20 kHz pour diff√©rents codecs.  Il n'y a pas de fr√©quences sup√©rieures √† 20 kHz dans le fichier MP3 d'origine. <br><br>  Essayez de changer de codec et d'√©valuer si vous entendez la diff√©rence entre l'original, le SBC 53 Joint Stereo (profil standard et le plus courant) et aptX / aptX HD. <br><br><br><h2>  J'entends la diff√©rence entre les codecs <i>dans les √©couteurs</i> ! </h2>  Les personnes qui n'entendent pas la diff√©rence entre les codecs lors des tests via un service Web affirment qu'elles l'entendent lors de l'√©coute de musique dans des √©couteurs sans fil.  H√©las, ce n'est pas une blague ou un effet placebo: la diff√©rence est vraiment audible, mais elle n'est pas provoqu√©e par des diff√©rences de <i>codecs</i> . <br><br>  La grande majorit√© des chipsets audio Bluetooth utilis√©s pour recevoir des appareils sans fil sont √©quip√©s d'un processeur de signal num√©rique (DSP), qui met en ≈ìuvre un √©galiseur, un <abbr title="Compresseur + expander = compander. Utilis√© pour am√©liorer le rapport signal / bruit.">compandeur</abbr> , un expandeur st√©r√©o et d'autres choses con√ßues pour am√©liorer (ou changer) le son.  Les fabricants d'√©quipements Bluetooth peuvent configurer le DSP <i>pour chaque codec s√©par√©ment</i> , et lors du basculement entre les codecs, l'auditeur pensera qu'il entend la diff√©rence dans les codecs lorsqu'il √©coute r√©ellement diff√©rents param√®tres DSP. <br><br> <a href=""><img src="https://habrastorage.org/webt/0j/75/rv/0j75rvrbutguojyxx9yu0s-uang.png" alt="Dans l'image: DECODEUR - Egaliseur param√©trique - am√©lioration st√©r√©o - compander - post mastering - am√©lioration de la sortie"></a> <br>  <i><font color="#666666">Convoyeur de traitement du son Kalimba DSP en puces CSR / Qualcomm</font></i> <br><br><img src="https://habrastorage.org/webt/1h/_n/dd/1h_nddksnmupgey54su2xzblmgm.png" alt="Dans l'image: cases √† cocher pour activer diff√©rentes fonctions DSP s√©par√©ment pour chaque codec."><br>  <i><font color="#666666">Activation de diverses fonctions DSP pour chaque codec et sortie s√©par√©ment</font></i> <br><br>  Certains appareils du segment premium sont √©quip√©s d'un programme qui vous permet de configurer les param√®tres DSP, mais la plupart des √©couteurs moins chers n'ont pas cette fonctionnalit√©, et les utilisateurs ne peuvent pas d√©sactiver le son de post-traitement en utilisant des moyens r√©guliers. <br><br><br><h2>  Caract√©ristiques de l'appareil </h2>  La version moderne de la norme A2DP a la <b>fonction de "contr√¥le absolu du volume"</b> - contr√¥le du volume de l'appareil avec des commandes sp√©ciales du protocole AVRCP, qui contr√¥le le gain de l'√©tage de sortie, au lieu de r√©duire par programme le volume du flux audio.  Si, lors du changement du volume du casque, le changement ne se synchronise pas avec le volume du t√©l√©phone, cela signifie que votre casque ou le t√©l√©phone ne prend pas en charge cette fonction.  Dans ce cas, il est logique d'√©couter de la musique toujours avec le volume maximum sur le t√©l√©phone, en ajustant le volume r√©el avec les boutons du casque - dans ce cas, le rapport signal / bruit sera meilleur et la qualit√© audio <i>devrait √™tre</i> plus √©lev√©e. <br>  En r√©alit√©, il y a des situations tristes.  Un puissant compresseur est activ√© sur mon casque RealForce OverDrive D1 pour SBC, et l'augmentation du volume augmente le niveau des sons faibles, mais le volume des sons forts ne change pas (le signal est compress√©).  Pour cette raison, vous devez r√©gler le volume sur l'ordinateur √† environ la moiti√©, dans ce cas, il n'y a pratiquement aucun effet de compression. <br>  Selon mes observations, tous les √©couteurs avec codecs suppl√©mentaires prennent en charge la fonction de contr√¥le du volume absolu, apparemment c'est l'une des exigences pour la certification des codecs. <br><br>  Certains √©couteurs prennent en charge la <b>connexion de deux appareils en m√™me temps</b> .  Cela permet, par exemple, d'√©couter de la musique depuis un ordinateur et de recevoir des appels depuis un t√©l√©phone.  Cependant, vous devez savoir que les codecs alternatifs sont d√©sactiv√©s dans ce mode, et seul SBC est utilis√©. <br><br>  <b>La</b> fonction de rapport de retard <b>AVDTP 1.3</b> permet au casque de signaler un retard au p√©riph√©rique √©metteur √† partir duquel le son est r√©ellement lu.  Cela vous permet d'ajuster la synchronisation de l'audio et de la vid√©o tout en regardant des fichiers vid√©o: s'il y a des probl√®mes de diffusion, l'audio ne sera pas en retard sur la vid√©o, mais au contraire, la vid√©o sera ralentie par le lecteur vid√©o jusqu'√† ce que l'audio et la vid√©o soient √† nouveau synchronis√©s. <br>  La fonction est prise en charge par de nombreux √©couteurs, Android 9+ et Linux avec PulseAudio 12.0+.  Je ne connais pas la prise en charge des fonctions sur d'autres plateformes. <br><br><br><h1>  Communication bidirectionnelle via Bluetooth.  Transmission vocale. </h1>  Pour la transmission vocale en Bluetooth, Synchronous Connection Oriented (SCO) et sa version am√©lior√©e de Enhanced Synchronous Connection Oriented (eSCO) sont utilis√©es - transmission synchrone avec coordination pr√©liminaire de la connexion.  Le mode vous permet de transmettre le son et la voix dans l'ordre, avec une vitesse sym√©trique d'envoi et de r√©ception, sans attendre la confirmation de la transmission et la r√©exp√©dition des paquets.  Cela r√©duit le d√©lai global de transmission audio sur le canal radio, mais impose de s√©rieuses restrictions sur la quantit√© de donn√©es transmises par unit√© de temps et affecte n√©gativement la qualit√© de l'audio. <br>  Lorsque ce mode est utilis√©, la voix du microphone et l'audio vers le casque sont transmis avec la m√™me qualit√©. <br>  Le transfert des donn√©es lui-m√™me est normalis√© par le profil HSP, qui d√©crit √©galement des fonctions suppl√©mentaires, telles que le fonctionnement des boutons de volume, des boutons d'interception et de fin d'appel. <br>  Malheureusement, √† partir de 2019, la qualit√© de la voix sur Bluetooth est toujours m√©diocre, et on ne sait pas pourquoi Bluetooth SIG n'en fait rien. <br><br><h5>  CVSD </h5>  <abbr title="Modulation delta √† pente variable en continu">Le codec</abbr> vocal de base <abbr title="Modulation delta √† pente variable en continu">de CVSD a</abbr> √©t√© normalis√© en 2002 et est pris en charge par tous les appareils Bluetooth bidirectionnels.  Il fournit une transmission audio avec une fr√©quence d'√©chantillonnage de 8 kHz, ce qui correspond √† la qualit√© de la t√©l√©phonie filaire conventionnelle. <br><br>  <a href="">Un exemple d'enregistrement dans ce codec</a> . <br><br><h5>  mSBC </h5>  Un codec mSBC suppl√©mentaire a √©t√© normalis√© en 2009, et en 2010 des puces sont apparues qui l'utilisent pour transmettre la voix.  mSBC est largement pris en charge par divers appareils. <br>  Ce n'est pas un codec ind√©pendant, mais un SBC r√©gulier du standard A2DP, avec un profil d'encodage fixe: 16 kHz, mono, bitpool 26. <br><br>  <a href="">Un exemple d'enregistrement dans ce codec</a> . <br><br>  Pas brillant, mais beaucoup mieux que CVSD, mais il est toujours d√©sagr√©able de l'utiliser pour communiquer via Internet, en particulier lorsque vous utilisez des √©couteurs pour communiquer dans le jeu - le son du jeu sera √©galement transmis avec une fr√©quence d'√©chantillonnage de 16 kHz. <br><br><h6>  Faststream </h6>  CSR a d√©cid√© de d√©velopper l'id√©e de r√©utiliser SBC.  Pour contourner les limites du protocole SCO et utiliser des d√©bits binaires plus √©lev√©s, CSR est all√© dans l'autre sens - ils ont impl√©ment√© la prise en charge de l'audio SBC bidirectionnel dans la norme de transmission audio A2DP unidirectionnelle, des profils de codage standardis√©s et l'ont appel√© ¬´FastStream¬ª. <br><br>  FastStream transmet un son st√©r√©o de 44,1 ou 48 kHz avec un d√©bit binaire de 212 kbit / s aux haut-parleurs, et mono, 16 kHz, avec un d√©bit binaire de 72 kbit / s (l√©g√®rement meilleur que mSBC) est utilis√© pour transmettre l'audio du microphone.  De tels param√®tres sont bien mieux adapt√©s √† la communication dans les jeux en ligne - le son du jeu et les interlocuteurs seront de haute qualit√©. <br><br>  <a href="">Un exemple d'enregistrement dans ce codec</a> (+ <a href="">son de microphone, le m√™me que mSBC</a> ). <br><br>  La soci√©t√© a propos√© une b√©quille int√©ressante, mais en raison du fait qu'elle contredit la norme A2DP, elle n'est prise en charge que par certains des √©metteurs de la soci√©t√© (qui fonctionnent comme une carte audio USB, pas comme un appareil Bluetooth), mais elle n'a pas √©t√© prise en charge dans les piles Bluetooth, bien que le nombre d'√©couteurs avec prise en charge FastStream ne soit pas si petit. <br><br>  Pour le moment, la prise en charge de FastStream dans le syst√®me d'exploitation se pr√©sente uniquement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sous la forme d'un correctif pour Linux PulseAudio</a> du d√©veloppeur Pali Roh√°r, qui n'est pas inclus dans la branche principale du programme. <br><br><h5>  aptX Low Latency </h5>  √Ä notre grande surprise, aptX Low Latency prend √©galement en charge l'audio bidirectionnel, impl√©mentant le m√™me principe que FastStream. <br>  Il ne fonctionnera pas pour utiliser cette fonctionnalit√© du codec - il n'y a pas de support pour le d√©codage √† faible latence dans n'importe quel OS ou dans n'importe quelle pile Bluetooth que je connais. <br><br><br><h1>  Bluetooth 5, Classic et Low Energy </h1>  Il y a beaucoup de confusion autour des sp√©cifications et des versions de Bluetooth en raison de la pr√©sence de deux normes incompatibles sous la m√™me marque, qui sont toutes deux largement utilis√©es √† des fins diff√©rentes. <br><br>  Il existe deux protocoles Bluetooth diff√©rents et non compatibles: Bluetooth Classic et Bluetooth Low Energy (LE, alias Bluetooth Smart).  Il existe √©galement un troisi√®me protocole, Bluetooth High Speed, mais il n'est pas courant et n'est pas utilis√© dans les appareils m√©nagers. <br><br>  √Ä partir de Bluetooth 4.0, les changements dans les sp√©cifications concernent principalement Bluetooth Low Energy, et la version Classic n'a re√ßu que des am√©liorations mineures. <br><br>  Liste des changements entre Bluetooth 4.2 et Bluetooth 5: <br><blockquote>  9 CHANGEMENTS DE v4.2 √Ä 5.0 <br><br>  9.1 NOUVELLES FONCTIONNALIT√âS <br><br>  Plusieurs nouvelles fonctionnalit√©s sont introduites dans la version Bluetooth Core Specification 5.0.  Les principaux axes d'am√©lioration sont: <br>  ‚Ä¢ Masque de disponibilit√© des emplacements (SAM) <br>  ‚Ä¢ 2 Msym / s PHY pour LE <br>  ‚Ä¢ LE longue port√©e <br>  ‚Ä¢ Publicit√© non connectable √† cycle de service √©lev√© <br>  ‚Ä¢ Extensions publicitaires LE <br>  ‚Ä¢ Algorithme de s√©lection de canal LE # 2 <br>  9.1.1 Fonctionnalit√©s ajout√©es dans CSA5 - Int√©gr√©es dans v5.0 <br>  ‚Ä¢ Puissance de sortie plus √©lev√©e </blockquote>  <i><font color="#666666">Source: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.bluetooth.org/docman/handlers/DownloadDoc.ashx?doc_id=421043</a> (page 291)</font></i> <br><br>  Un seul changement a affect√© la version Classic dans la sp√©cification Bluetooth 5: ils ont ajout√© la prise en charge de la technologie Slot Availability Mask (SAM), con√ßue pour am√©liorer la s√©paration de l'air.  Toutes les autres modifications affectent uniquement Bluetooth LE (et une puissance de sortie sup√©rieure √©galement). <br><br>  <b>Tous</b> les appareils audio utilisent uniquement Bluetooth Classic.  Les √©couteurs et les haut-parleurs ne peuvent pas √™tre connect√©s via Bluetooth Low Energy: il n'y a pas de norme pour la transmission audio √† l'aide de LE.  La norme A2DP, utilis√©e pour transmettre un son de haute qualit√©, ne fonctionne que via Bluetooth Classic, et il n'y a pas d'analogue dans LE. <br><br>  Conclusion - acheter des appareils audio avec Bluetooth 5 uniquement √† cause de la nouvelle version du protocole est inutile.  Bluetooth 4.0 / 4.1 / 4.2 dans le contexte de la transmission audio fonctionnera de la m√™me mani√®re. <br>  Si l'annonce de nouveaux √©couteurs mentionne un double rayon de fonctionnement et une consommation d'√©nergie r√©duite gr√¢ce au Bluetooth 5, alors sachez qu'ils ne se comprennent pas ou vous induisent en erreur.  Pas √©tonnant, m√™me les fabricants de puces Bluetooth dans leurs annonces sont confus quant aux diff√©rences dans la nouvelle version de la norme, et certaines puces Bluetooth 5 ne prennent en charge la cinqui√®me version que pour LE, et pour Classic, elles utilisent 4.2. <br><br><h1>  Retard audio </h1>  La quantit√© de retard (d√©calage) de l'audio d√©pend de nombreux facteurs: la taille du tampon dans la pile audio, dans la pile Bluetooth et dans l'appareil sans fil le plus reproducteur, le retard algorithmique du codec. <br><br>  Le d√©lai des codecs simples, tels que SBC, aptX et aptX HD, est assez petit et est de 3 √† 6 ms, ce qui peut √™tre n√©glig√©, mais des codecs complexes, tels que AAC et LDAC, peuvent provoquer un retard notable.  Le retard algorithmique AAC pour 44,1 kHz est de 60 ms.  LDAC - environ 30 ms (selon une analyse approximative du code source. Je peux me tromper, mais pas beaucoup.) <br><br>  Le retard r√©sultant d√©pend fortement du p√©riph√©rique de lecture, de son chipset et de sa m√©moire tampon.  Pendant les tests, j'ai obtenu un √©cart de 150 √† 250 ms sur diff√©rents appareils (avec le codec SBC).  En supposant que les p√©riph√©riques prenant en charge des codecs aptX, AAC et LDAC suppl√©mentaires utilisent des composants de haute qualit√© et une petite taille de tampon, nous obtenons les retards typiques suivants: <br><br>  SBC: 150-250 ms <br>  aptX: 130-180 ms <br>  AAC: 190-240 ms <br>  LDAC: 160-210 ms <br><br>  Je vous rappelle: aptX Low Latency n'est pas pris en charge sur les syst√®mes d'exploitation, car un retard inf√©rieur ne peut √™tre obtenu que par un ensemble d'√©metteur + r√©cepteur ou d'√©metteur + casque / haut-parleur, et tous les appareils doivent prendre en charge ce codec. <br><br><br><h1>  Probl√®mes de certification et de logos des appareils Bluetooth </h1>  Comment distinguer un appareil audio de haute qualit√© d'un appareil bon march√©?  En apparence, tout d'abord! <br><br>  √âcouteurs, haut-parleurs et r√©cepteurs chinois bon march√©: <br><ol><li>  Le mot ¬´Bluetooth¬ª est manquant sur la bo√Æte et l'appareil, le plus souvent utilis√© ¬´sans fil¬ª et ¬´BT¬ª </li><li>  Logo Bluetooth manquant <img src="https://habrastorage.org/webt/qt/oi/0w/qtoi0wu5qzqnx7xzmgmqjdoijjk.png" alt="Logo Bluetooth" height="32" width="32">  sur bo√Æte ou appareil </li><li>  Pas de LED bleue clignotante </li></ol><br>  L'absence de ces √©l√©ments indique que l'appareil n'a pas pass√© la certification, ce qui signifie qu'il est potentiellement probl√©matique ou de mauvaise qualit√©.  Par exemple, les √©couteurs Bluedio ne sont pas certifi√©s Bluetooth et ne sont pas enti√®rement conformes √† la sp√©cification A2DP.  Ils ne passeraient pas la certification. <br><br>  Consid√©rez plusieurs appareils et bo√Ætes d'entre eux: <br> <a href=""><img src="https://habrastorage.org/webt/e4/qa/rr/e4qarrce8fcjv8wwu46aiyib3oa.jpeg"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/ba/06/vb/ba06vbcolhpvuie2xlbgnvsycd0.jpeg"></a> <br><br> <a href=""><img src="https://habrastorage.org/webt/mw/1b/t1/mw1bt1hp0cz11xuilzyz0a70dca.jpeg"></a> <br><br>  Ce sont tous des appareils non certifi√©s.  Les instructions peuvent inclure le logo et le nom de la technologie Bluetooth, mais le plus important est qu'ils se trouvent sur la bo√Æte et / ou sur l'appareil lui-m√™me. <br><br>  Si vos √©couteurs ou haut-parleur disent ¬´Ze bluetooth dewise est connect√© avec succ√®s¬ª, cela ne signifie pas non plus leur qualit√©: <br><iframe width="560" height="315" src="https://www.youtube.com/embed/TOFbsbGpIWk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><br><h1>  Conclusion </h1>  Le Bluetooth est-il capable de remplacer compl√®tement les √©couteurs et les casques filaires?  Il est capable, mais au prix d'un temps de conversation de faible qualit√©, d'un retard de transmission audio accru, ce qui peut √™tre g√™nant dans les jeux, et de nombreux codecs propri√©taires qui n√©cessitent des frais de licence et augmentent le co√ªt final des smartphones et des √©couteurs. <br><br>  La commercialisation de codecs alternatifs est tr√®s forte: aptX et LDAC sont pr√©sent√©s comme un remplacement tant attendu du SBC "obsol√®te et mauvais", qui est loin d'√™tre aussi mauvais qu'on le pense g√©n√©ralement. <br><br>  Il s'est av√©r√© que les limitations artificielles des piles Bluetooth sur le d√©bit binaire SBC peuvent √™tre contourn√©es, de sorte que SBC ne sera pas inf√©rieur √† aptX HD.  J'ai pris l'initiative de mes propres mains et fait un patch pour le firmware LineageOS: Nous <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">modifions la pile Bluetooth pour am√©liorer le son sur les √©couteurs sans codecs AAC, aptX et LDAC</a> <br><br>  Plus d'informations peuvent √™tre trouv√©es sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SoundGuys</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SoundExpert</a> . <br><br>  <b>Bonus:</b> <a href="">encodeur de r√©f√©rence SBC, informations sur le flux binaire A2DP et fichiers de test</a> .  Ce fichier √©tait auparavant affich√© publiquement sur le site Bluetooth, mais il n'est d√©sormais disponible que pour ceux qui ont acc√©d√© au Bluetooth SIG. <br><br></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr427997/">https://habr.com/ru/post/fr427997/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr427985/index.html">Onkyo ISCP / eISCP: Gestion des appareils Onkyo sur le r√©seau</a></li>
<li><a href="../fr427987/index.html">Google a lanc√© des domaines pour cr√©er rapidement des documents</a></li>
<li><a href="../fr427989/index.html">Prologue divertissant # 3</a></li>
<li><a href="../fr427993/index.html">Winamp est de retour - discutant s'il a une chance √† l'√®re des services de streaming</a></li>
<li><a href="../fr427995/index.html">M√©mo sur les esp√®ces de phishing</a></li>
<li><a href="../fr427999/index.html">Analyste de donn√©es full stack</a></li>
<li><a href="../fr428001/index.html">Probl√®mes connus, bogues et correctifs dans les mises √† jour de Windows 10 pour octobre 2018</a></li>
<li><a href="../fr428003/index.html">Conception r√©active: maintien de la forme des √©l√©ments de balisage</a></li>
<li><a href="../fr428005/index.html">Trois fa√ßons efficaces d'aggraver une catastrophe de relations publiques</a></li>
<li><a href="../fr428007/index.html">D√©j√† pas un pc luggable, pas encore un notebook: Laptop TOSHIBA T3100 / 20</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>