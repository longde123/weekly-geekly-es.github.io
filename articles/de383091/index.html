<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ú® üßü üë©‚Äç‚öñÔ∏è Selbstgemachte elektronische Uhr, Elementbasis - Teil 1, Zeitmessung ‚ô•Ô∏è ‚å®Ô∏è üòü</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wahrscheinlich kommt jeder Geek, der hausgemachte Elektronik mag, fr√ºher oder sp√§ter auf die Idee, seine eigene, einzigartige Uhr herzustellen. Die Id...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Selbstgemachte elektronische Uhr, Elementbasis - Teil 1, Zeitmessung</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/383091/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wahrscheinlich kommt jeder Geek, der hausgemachte Elektronik mag, fr√ºher oder sp√§ter auf die Idee, seine eigene, einzigartige Uhr herzustellen. </font><font style="vertical-align: inherit;">Die Idee ist ziemlich gut, wir werden herausfinden, wie und worauf es besser ist, sie herzustellen. </font><font style="vertical-align: inherit;">Als Ausgangspunkt nehmen wir an, dass eine Person wei√ü, wie man Mikrocontroller programmiert, wie man 2 Bytes √ºber i2c oder serielle Schnittstelle sendet und mehrere Dr√§hte miteinander verl√∂ten kann. </font><font style="vertical-align: inherit;">Im Prinzip ist das genug. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist klar, dass die Schl√ºsselfunktion einer Uhr darin besteht, die Zeit zu messen (wer h√§tte das gedacht, ja?). </font><font style="vertical-align: inherit;">Und es ist w√ºnschenswert, dies so genau wie m√∂glich zu tun. Es gibt verschiedene Optionen und Fallstricke.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Welche Methoden zur Zeitmessung in der Hardware k√∂nnen wir also verwenden?</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eingebauter RC-Generator</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die einfachste Idee, die Ihnen in den Sinn kommt, besteht darin, einfach einen Software-Timer einzurichten und die Sekunden herunterzuz√§hlen. </font><font style="vertical-align: inherit;">Diese Idee ist also nicht gut. </font><font style="vertical-align: inherit;">Die Uhr wird sicherlich funktionieren, aber die Genauigkeit des eingebauten Generators ist in keiner Weise geregelt und kann innerhalb von 10% des Nennwerts ‚Äûschwimmen‚Äú. </font><font style="vertical-align: inherit;">Es ist unwahrscheinlich, dass jemand Stunden braucht, die 15 Minuten pro Monat vergehen.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DS1307 Echtzeitmodul</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine korrektere Option, die auch in den meisten "Folk" -Produkten verwendet wird, ist eine Echtzeituhr. Der Chip wird √ºber I2C mit dem Mikrocontroller ausgetauscht, er erfordert ein Minimum an Bindung (Quarz und ein Widerstandspaar). Der Ausgabepreis betr√§gt ca. 100 Rubel pro Mikroschaltung oder ca. 1 USD pro Ebee f√ºr eine fertige Platine mit einer Mikroschaltung, einem Speichermodul und einem Batterieanschluss. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schema aus dem Datenblatt: </font></font><br>
<br>
<img src="https://habrastorage.org/files/ac0/5f3/3d1/ac05f33d158d4613aef472a1523735b8.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ebenso wichtig ist, dass der Chip in einem DIP-Paket erh√§ltlich ist, sodass jeder Anf√§nger ihn l√∂ten kann. Der eingebaute Akku h√§lt die Uhr auch dann am Laufen, wenn die Stromversorgung ausgeschaltet wurde.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es scheint, dass alles in Ordnung ist, wenn nicht f√ºr ein Problem - geringe Genauigkeit. Die ungef√§hre Genauigkeit von Uhrenquarz betr√§gt 20-30 ppm. Die Bezeichnung ppm - parts per million gibt die Anzahl der parts per million an. Es scheint, dass 20 Millionstel super sind, aber f√ºr eine Frequenz von 32768 Hz stellt sich heraus, dass 20 * 32768/1000000 = ¬± 0,65536 Hz, d. H. schon ein halber Hertz. Durch einfache Berechnungen kann man sehen, dass der Generator mit einer solchen Differenz pro Tag an den zus√§tzlichen (oder fehlenden) 56.000 Zyklen ‚Äûfesth√§lt‚Äú, was 2 Sekunden pro Tag entspricht. Quarz kann unterschiedlich sein, einige Benutzer haben √ºber einen Fehler von 5 Sekunden pro Tag geschrieben. Irgendwie ist es nicht sehr genau - in einem Monat wird eine solche Uhr mindestens eine Minute lang verschwinden. Dies ist bereits ein anst√§ndiger Unterschied, der mit blo√üem Auge erkennbar ist (wenn die Lieblingsserie der Gro√ümutter um 11.00 Uhr beginnt und die Uhr 11.05 Uhr anzeigt, wird es dem Entwickler einer solchen Uhr vor Verwandten unangenehm sein).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da die Temperatur im Raum jedoch mehr oder weniger stabil ist und sich die Frequenz des Quarzes nicht wesentlich √§ndert, k√∂nnen Sie eine Softwarekorrektur hinzuf√ºgen. </font><font style="vertical-align: inherit;">Ein weiterer Ratschlag in den Foren ist die Verwendung eines Uhrenquarzes von alten Motherboards. Laut Bewertungen sind sie dort ziemlich genau.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DS3231 Echtzeitmodul</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir sind nicht die Ersten, die die Frage nach der Genauigkeit stellen, und Dallas hat, um unseren W√ºnschen gerecht zu werden, ein erweitertes Modul ver√∂ffentlicht - DS3231. </font><font style="vertical-align: inherit;">Es hei√üt "Extrem genaue Echtzeituhr" und verf√ºgt √ºber einen eingebauten Generator mit Temperaturkorrektur. </font><font style="vertical-align: inherit;">Die Genauigkeit ist 10-mal h√∂her und betr√§gt 2 ppm. </font><font style="vertical-align: inherit;">Der Ausgabepreis ist etwas h√∂her, aber das Mikroschaltungsgeh√§use ist f√ºr die SMD-Montage ausgelegt. Das L√∂ten ist nicht so bequem, aber Sie k√∂nnen eine fertige Platine darauf kaufen. </font></font><br>
<br>
<img src="https://habrastorage.org/files/cbd/4a0/9f3/cbd4a09f3207443b98af2efe90f8a70f.png"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Foto von der Website des Verk√§ufers)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Genauigkeit von 6 Sekunden pro Monat, dies ist bereits ein gutes Ergebnis. </font><font style="vertical-align: inherit;">Aber wir werden noch weiter gehen - im Idealfall muss die Uhr im 21. Jahrhundert √ºberhaupt nicht angepasst werden.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Funkmodul DCF-77</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Methode ist ziemlich exotisch, aber der Vollst√§ndigkeit halber kann sie nicht ignoriert werden. Nur wenige Menschen wissen es, aber die genauen Zeitsignale werden seit den 70er Jahren per Funk √ºbertragen. Der DCF-77-Sender befindet sich in Deutschland in der N√§he von Frankfurt und bei einer SDV-Frequenz von 77,5 kHz werden Zeitstempel gesendet (ja, sie hatten bereits vor 20 Jahren eine Wand- und Tischuhr, die nicht angepasst werden musste). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Verfahren ist insofern gut, als die Schaltung einen geringen Stromverbrauch aufweist, so dass jetzt sogar Armbanduhren mit einer solchen Technologie hergestellt werden. Die fertige DCF-77-Eintrittskarte kann bei ebay gekauft werden, der Preis betr√§gt 20 US-Dollar. </font></font><br>
<br>
<img src="https://habrastorage.org/files/8cc/6d3/4ff/8cc6d34ff19c487f9a625229ab10c743.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Viele Uhren und Wetterstationen k√∂nnen DCF-77 empfangen. Das einzige Problem ist, dass das Signal Russland praktisch nicht erreicht. Wikipedia-Abdeckungskarte:</font></font><br>
<br>
<img src="https://habrastorage.org/files/a50/07e/855/a5007e855a5f4372813876e0957e1166.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sehen k√∂nnen, befinden sich nur Moskau und St. Petersburg an der Grenze des Empfangsbereichs. </font><font style="vertical-align: inherit;">Nach Angaben der Eigent√ºmer kann nur gelegentlich ein Signal empfangen werden, das nat√ºrlich nicht f√ºr den praktischen Gebrauch geeignet ist.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPS-Modul</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die Uhr nicht weit vom Fenster entfernt ist, ist ein GPS-Modul eine sehr reale Methode, um eine genaue Zeit zu erhalten. </font><font style="vertical-align: inherit;">Diese Module k√∂nnen g√ºnstig bei ebay gekauft werden (Ausgabepreis 10-15 USD). </font><font style="vertical-align: inherit;">Beispielsweise stellt Ublox NEO-6M eine direkte Verbindung zu den seriellen Pins des Prozessors her und gibt NMEA-Strings mit einer Geschwindigkeit von 9600 aus. Die </font></font><br>
<br>
<img src="https://habrastorage.org/files/5ec/69a/d22/5ec69ad22d3d4502bab18741c91eac85.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daten liegen in ungef√§hr diesem Format vor: "$ GPRMC, 040302.663, A, 3939.7, N, 10506.6, W, 0.27.358.86.200804 ,, * 1A ", und es ist nicht schwierig, sie selbst f√ºr einen schwachen Arduino zu analysieren. </font><font style="vertical-align: inherit;">Patrioten k√∂nnen √ºbrigens das teurere Ublox NEO-7N-Modul erwerben, das (laut Testberichten) sowohl GPS als auch Glonass unterst√ºtzt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Offensichtlich wei√ü das GPS-Modul nichts √ºber verschiedene Zeitzonen, daher muss der Entwickler selbst √ºberlegen, um sie zu berechnen und die Sommer- / Winterzeit zu √§ndern. </font><font style="vertical-align: inherit;">Ein weiterer Nachteil der Verwendung von GPS ist der relativ hohe Stromverbrauch (einige Module k√∂nnen jedoch mit separaten Befehlen in den ‚ÄûSchlafmodus‚Äú versetzt werden).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">W-lan</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und schlie√ülich ist der letzte (und derzeit offensichtlichste) Weg, die genaue Zeit zu ermitteln, die Verwendung aus dem Internet. Es gibt zwei Ans√§tze. Die erste und einfachste M√∂glichkeit besteht darin, so etwas wie einen Raspberry PI mit Linux als Watchboard zu verwenden. Dann m√ºssen Sie nichts tun, alles funktioniert sofort. Wenn Sie "exotisch" wollen, dann ist die interessanteste Option das esp8266-Modul. </font></font><br>
<br>
<img src="https://habrastorage.org/files/208/799/b53/208799b53e7c467598787efd497319e7.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist kosteng√ºnstig (der Fragenpreis betr√§gt ca. 200 Rubel pro eBay). Das WiFi-Modul kann √ºber die serielle Schnittstelle des Prozessors mit dem Server ausgetauscht werden. Auf Wunsch kann es auch neu gestartet werden (es gibt viele Firmware von Drittanbietern), und ein Teil der Logik (z. B. Abfragen des Zeitservers) kann im Modul selbst durchgef√ºhrt werden. Die Firmware von Drittanbietern unterst√ºtzt eine Reihe von Funktionen, von Lua bis C ++. Die Optionen zum ‚ÄûDehnen des Gehirns‚Äú sind also ausreichend.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zu diesem Thema k√∂nnen Zeitmessungen wahrscheinlich geschlossen werden. </font><font style="vertical-align: inherit;">Im n√§chsten Teil werden wir uns Prozessoren und Methoden zur Ausgabe von Zeit genauer ansehen.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de383091/">https://habr.com/ru/post/de383091/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de383077/index.html">Informationskriege toben in kontroversen Wikipedia-Artikeln</a></li>
<li><a href="../de383081/index.html">Mangalyaan schickte detaillierte Bilder der Marsoberfl√§che</a></li>
<li><a href="../de383083/index.html">Google –Ω–∞—á–∞–ª–∞ –ø—Ä–æ–¥–≤–∏–≥–∞—Ç—å Android One –≤ –ê—Ñ—Ä–∏–∫–µ</a></li>
<li><a href="../de383085/index.html">Platz in Bewegung (vorsichtiger Verkehr)</a></li>
<li><a href="../de383089/index.html">√úberpr√ºfen Sie ASUS G751JY Gaming-Laptop</a></li>
<li><a href="../de383093/index.html">Google stellte seine Version des Heimrouters OnHub f√ºr 200 US-Dollar vor</a></li>
<li><a href="../de383095/index.html">"Diamanten vom Himmel." Chemiker erhalten Kohlenstoffnanofasern aus der Luft (aus CO2)</a></li>
<li><a href="../de383097/index.html">Windows 10 Insider Preview 10525 T√∂tet Google Chrome</a></li>
<li><a href="../de383099/index.html">Die Zukunft von BMW: Zylinderwasser und ein Torpedo in der Kabine</a></li>
<li><a href="../de383101/index.html">BioLite bietet eine umweltfreundliche Stromquelle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>