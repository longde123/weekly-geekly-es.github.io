<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌩️ 👨‍👩‍👧‍👧 🥋 Modèles de conception dans le développement JavaScript moderne 🤳🏾 🎾 👇🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'auteur du matériel, dont nous publions la traduction, dit que dans le monde du développement logiciel, la «conception architecturale» peut être appe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Modèles de conception dans le développement JavaScript moderne</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/450318/">  L'auteur du matériel, dont nous publions la traduction, dit que dans le monde du développement logiciel, la «conception architecturale» peut être appelée le processus de construction de l'application, au cours de laquelle ils s'efforcent de la rendre de haute qualité, fiable et bien adaptée au support.  De plus, les modèles de conception (modèles) vous permettent de travailler avec des concepts qui sont des approches pour résoudre des problèmes courants.  Ces décisions peuvent varier de l'abstrait, du conceptuel au très spécifique.  Leurs connaissances permettent aux développeurs de communiquer efficacement entre eux. <br><br>  Si au moins deux développeurs d'une équipe comprennent les modèles, parler de la résolution des problèmes auxquels l'équipe est confrontée devient très productif.  Si un seul membre de l'équipe connaît les schémas, il arrive généralement de clarifier ce qu'il sait aux autres membres de l'équipe. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/a74/120/d5b/a74120d5b954738ab73942c594530a2b.jpg" alt="image"></a> <br><br>  Le but de cet article est d'intéresser les lecteurs avec une sorte de présentation formelle des connaissances dans le domaine du développement logiciel, en leur montrant l'idée de modèles de conception et en décrivant plusieurs modèles qui sont intéressants en ce qu'ils trouvent une application dans le développement JavaScript moderne. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Motif singleton</font> </h2><br><h3>  <font color="#3AC1EF">▍ Général</font> </h3><br>  Le motif de conception «singleton» (également appelé «singleton») ne peut pas être appelé l'un des motifs les plus utilisés, mais nous entamons la conversation avec lui, car il est relativement facile à comprendre. <br><br>  Ce modèle découle du concept mathématique d'un singleton - un ensemble singleton, c'est-à-dire un ensemble contenant un seul élément.  Par exemple, l'ensemble {null} est un singleton. <br><br>  Dans le domaine du développement logiciel, la signification du modèle «singleton» se résume au fait que nous limitons le nombre d'instances possibles d'une certaine classe à un seul objet.  À la première tentative de création d'un objet basé sur une classe qui implémente ce modèle, un tel objet est réellement créé.  Toutes les tentatives ultérieures de création d'une instance de la classe renverront l'objet créé lors de la première tentative d'obtention d'une instance de la classe. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/50d/2e1/8c5/50d2e18c5888907acb07e86cab34fb27.png"></div><br>  <i><font color="#999999">Pourquoi un autre super-héros quand nous avons Batman?</font></i> <br><br>  Ci-dessus est un exemple d'une classe qui implémente le modèle singleton. <br><br><h3>  <font color="#3AC1EF">▍ Pourquoi est-ce nécessaire?</font> </h3><br>  Il est clair que ce schéma nous permet de nous limiter à un seul «super-héros» (c'est évidemment Batman).  Mais sinon pourquoi en aurait-il besoin? <br><br>  Bien que ce modèle ne soit pas sans ses propres problèmes (auparavant, il était appelé mal, étant donné que le singleton s'appelait <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">menteurs pathologiques</a> ), il peut, dans certaines situations, être très utile.  L'une de ces situations consiste à initialiser les objets de configuration.  Dans une application typique, il est logique de ne conserver qu'une seule instance d'un tel objet, sauf si, conformément aux caractéristiques du projet, plusieurs objets similaires y sont utilisés. <br><br><h3>  <font color="#3AC1EF">▍Où l'utiliser?</font> </h3><br>  Le principal exemple d'utilisation du modèle singleton dans les grands frameworks populaires est les services angulaires.  La documentation Angular a une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">page</a> séparée expliquant comment faire d'un service un singleton. <br><br>  La conception de services sous forme de singletones a une signification profonde, car les services sont utilisés comme référentiels d'état, de configuration et vous permettent d'organiser l'interaction entre les composants.  Tout cela conduit au fait que le développeur a besoin pour que son application ne dispose pas de plusieurs instances du même service. <br><br>  Prenons un exemple.  Supposons que nous ayons une application simple qui est utilisée pour compter le nombre de clics sur les boutons. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/513/892/3bf/5138923bf446b4a737cca97a98d75e92.png"></div><br>  <i><font color="#999999">Chaque clic sur l'un des boutons met à jour le compteur</font></i> <br><br>  Le nombre de clics sur les boutons doit être stocké dans un objet, qui implémente les fonctionnalités suivantes: <br><br><ul><li>  Il vous permet de compter les clics sur les boutons. </li><li>  Il permet de lire la valeur actuelle du compteur de clics. </li></ul><br>  Si un tel objet n'était pas un singleton (et chaque bouton avait sa propre instance d'un tel objet associé), le programme calculait incorrectement le nombre de clics sur les boutons.  De plus, avec cette approche, il est nécessaire de résoudre le problème suivant: "De quel objet particulier chargé de compter les clics les données affichées à l'écran seront-elles prises?" <br><br><h2>  <font color="#3AC1EF">Modèle d'observateur</font> </h2><br><h3>  <font color="#3AC1EF">▍ Général</font> </h3><br>  Un modèle d'observateur est un modèle de conception dans lequel un objet appelé sujet maintient une liste d'objets dépendants appelés observateur et les avertit automatiquement lorsque leur état change, généralement en appelant l'une de leurs méthodes. . <br><br>  Comprendre ce modèle n'est pas difficile si vous trouvez son analogie dans le monde réel.  À savoir, nous parlons d'abonnements à des journaux. <br><br>  Supposons que vous achetiez généralement des journaux dans un kiosque.  Vous y allez, vous demandez s'il y a un nouveau numéro de votre journal préféré.  Si ce dont vous avez besoin n'est pas dans le kiosque, vous rentrez chez vous, perdez du temps, puis allez à nouveau au kiosque.  Si nous considérons cette situation comme appliquée à JavaScript, ce serait comme un sondage cyclique d'une entité, effectué jusqu'à ce que les données nécessaires en soient reçues. <br><br>  Après, quand vous obtenez enfin le journal dont vous avez besoin, vous pouvez commencer ce que vous avez cherché pendant tout ce temps - prendre une tasse de café et déplier le journal.  En JavaScript, cela reviendrait à appeler un rappel, que nous allions appeler après avoir obtenu le résultat souhaité. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/820/16c/e5f/82016ce5faf7c7b5526b8b7767590501.jpg"></div><br>  <i><font color="#999999">Enfin, vous pouvez lire le journal</font></i> <br><br>  Il serait beaucoup plus raisonnable de le faire: abonnez-vous à un journal et recevez chaque jour son dernier numéro.  Avec cette approche, l'éditeur vous fera savoir qu'un nouveau numéro du journal a été publié et vous le livrera.  Vous n'avez plus besoin d'aller au kiosque.  Plus de perte de temps. <br><br>  Si vous basculez à nouveau vers JavaScript, cela signifie que vous n'avez plus à attendre dans la boucle un résultat et, après l'avoir reçu, appeler une certaine fonction.  Au lieu de cela, vous informez le sujet que vous êtes intéressé par certains événements (messages) et lui transmettez la fonction de rappel, qui doit être appelée lorsque les données d'intérêt sont prêtes.  Dans ce cas, vous devenez observateur. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4b4/6c8/e4e/4b46c8e4eea800ddf38d68f42676d795.png"></div><br>  <i><font color="#999999">Maintenant, vous ne manquerez plus jamais votre journal du matin préféré</font></i> <br><br>  Le motif en question a une caractéristique intéressante: vous n'êtes pas obligé d'être le seul observateur.  Si vous ne pouvez pas obtenir votre journal préféré, cela vous bouleversera.  Mais la même chose arrivera à d'autres personnes qui ne peuvent pas l'acheter.  C'est pourquoi plusieurs observateurs peuvent souscrire à un même sujet. <br><br><h3>  <font color="#3AC1EF">▍ Pourquoi est-ce nécessaire?</font> </h3><br>  Le modèle «observateur» est utilisé dans de nombreuses situations, mais il doit généralement être utilisé lorsque vous souhaitez créer une relation un-à-plusieurs entre des objets, et en même temps, ces objets ne doivent pas être fortement connectés.  De plus, le système devrait être en mesure de notifier un nombre illimité d'objets de certaines modifications. <br><br>  Les applications JavaScript sont un excellent endroit pour appliquer le modèle d'observateur, car tout est piloté par les événements ici, et au lieu de se référer constamment à une certaine entité pour savoir si un événement qui vous intéresse s'est produit, il sera beaucoup mieux de le laisser vous avertir lorsque l'occurrence de cet événement (il est similaire au vieil adage: "Ne nous appelez pas. Si nécessaire, nous vous appellerons nous-mêmes"). <br><br>  Il est probable que vous ayez déjà utilisé des conceptions qui ressemblent au modèle d'observateur.  Par exemple, il s'agit de <code>addEventListener</code> .  L'ajout d'un écouteur d'événements à un élément présente tous les signes d'utilisation du modèle d'observateur: <br><br><ul><li>  Vous pouvez vous abonner à l'objet. </li><li>  Vous pouvez vous désinscrire de l'objet. </li><li>  Un objet peut informer tous ses abonnés de l'événement. </li></ul><br>  Il est utile de connaître l'existence du modèle «observateur» dans le sens où cette connaissance vous permet de réaliser votre propre sujet, ou bien plus rapidement qu'auparavant, de trouver une solution existante en utilisant ce modèle. <br><br><h3>  <font color="#3AC1EF">▍Où l'utiliser?</font> </h3><br>  L'implémentation de base de ce modèle ne doit pas être particulièrement compliquée, mais il existe d'excellentes bibliothèques qui l'implémentent et sont utilisées dans de nombreux projets.  Nous parlons du projet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ReactiveX</a> et de sa version JavaScript de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RxJS</a> . <br><br>  La bibliothèque RxJS permet non seulement de s'abonner à des sujets, mais donne également au programmeur la possibilité de transformer les données de diverses manières, vous permet de combiner de nombreux abonnements, améliore la capacité de gérer les opérations asynchrones.  De plus, ses capacités ne se limitent pas à cela.  Si vous avez toujours voulu augmenter les capacités de vos programmes pour le traitement et la conversion des données à un niveau supérieur, vous pouvez recommander d'étudier la bibliothèque RxJS. <br><br>  En plus du modèle «observateur», le projet ReactiveX peut être fier de la mise en œuvre du modèle «itérateur», qui permet au sujet d'informer les abonnés de la fin de l'abonnement, ce qui permet essentiellement d'annuler l'abonnement à l'initiative du sujet.  Dans cet article, je ne vais pas parler du modèle «itérateur», mais je peux dire que si vous commencez tout juste à apprendre les modèles de conception, étudier ce modèle et réfléchir à sa composition avec le modèle «observateur» peut être de bons exercices. <br><br><h2>  <font color="#3AC1EF">Motif de façade</font> </h2><br><h3>  <font color="#3AC1EF">▍ Général</font> </h3><br>  Le motif de la façade tire son nom de l'architecture.  En architecture, une façade est généralement l'un des côtés extérieurs d'un bâtiment, généralement le côté avant.  L'anglais a emprunté le mot «façade» au français.  Nous parlons du mot «façade», qui, entre autres, se traduit par «la façade du bâtiment». <br><br>  La façade du bâtiment en architecture est l'extérieur du bâtiment, cachant ce qui est à l'intérieur.  Des propriétés similaires peuvent être notées dans le motif «façade», car il vise à cacher des mécanismes internes complexes derrière une certaine interface externe.  Son application permet au développeur de travailler avec une API externe, arrangée assez simplement, et, en même temps, offre la possibilité de changer les mécanismes internes cachés derrière la façade, sans perturber les performances du système. <br><br><h3>  <font color="#3AC1EF">▍ Pourquoi est-ce nécessaire?</font> </h3><br>  Le motif «façade» peut être utilisé dans un grand nombre de situations, parmi lesquelles on peut notamment noter celles qui tentent de rendre le code plus facile à comprendre (c'est-à-dire qu'elles cachent des mécanismes complexes derrière de simples API), et celles où des fragments de systèmes tendent à faire autant que possible plus lâche connecté les uns aux autres. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d3e/7e5/1fb/d3e7e51fbd6d7f239e8629609aa2f661.png"></div><br>  <i><font color="#999999">Ces objets ont besoin de quelque chose de la tanière du dragon.</font></i> <br><br>  Il est facile de voir qu'un objet de façade (ou un calque avec plusieurs objets) est une abstraction très utile.  Il est peu probable que quelqu'un veuille rencontrer un dragon si cela peut être évité.  L'objet de façade est nécessaire pour fournir à d'autres objets une API pratique, et cet objet fera face à tous les tours de dragon par lui-même. <br><br>  Une autre caractéristique utile du modèle de «façade» est que le dragon peut être «refait» comme vous le souhaitez, mais cela n'affectera pas les autres parties de l'application.  Supposons que vous souhaitiez remplacer un dragon par un chaton.  Le chaton, comme le dragon, a des griffes, mais il est plus facile à nourrir.  Transformez le dragon en chaton - cela signifie - pour réécrire le code de l'objet de façade sans apporter de modifications aux objets dépendants. <br><br><h3>  <font color="#3AC1EF">▍Où l'utiliser?</font> </h3><br>  Le motif de façade se trouve souvent en angulaire.  Là, les services sont utilisés comme un moyen de simplifier une logique de base.  Mais ce modèle ne s'applique pas seulement à Angular, vous pouvez le voir ci-dessous. <br><br>  Supposons que nous ayons besoin d'ajouter un système de gestion d'état à l'application.  Pour résoudre ce problème, vous pouvez utiliser divers outils, parmi eux - Redux, NgRx, Akita, MobX, Apollo, ainsi que - de nouveaux outils constamment émergents.  Pourquoi ne pas les essayer tous? <br>  Quelle est la principale fonctionnalité qu'une bibliothèque de gestion d'état devrait fournir?  Ce sont probablement les caractéristiques suivantes: <br><br><ul><li>  Un mécanisme pour informer le système de gestion de l'État que nous devons changer d'état. </li><li>  Le mécanisme d'obtention de l'état actuel ou de son fragment. </li></ul><br>  Tout ne semble pas si mal. <br><br>  Maintenant, armé du motif «façade», vous pouvez écrire des façades pour travailler avec différentes parties de l'état, fournissant des API pratiques qui peuvent être utilisées dans le programme.  Par exemple, quelque chose comme <code>facade.startSpinner()</code> , <code>facade.stopSpinner()</code> et <code>facade.getSpinnerState()</code> .  Ces méthodes sont faciles à comprendre, vous pouvez facilement vous y référer dans une conversation sur le programme. <br><br>  Après cela, vous pouvez travailler avec des objets qui implémentent le modèle de «façade» et écrire du code qui transformera votre code afin qu'il puisse fonctionner avec Apollo (la gestion de l'état avec GraphQL est un sujet brûlant).  Au cours des tests, vous constaterez peut-être qu'Apollo ne vous convient pas ou que vous êtes mal à l'aise d'écrire des tests unitaires basés sur ce système de gestion d'état.  Pas de problème - écrivez une nouvelle façade conçue pour prendre en charge MobX et essayez à nouveau le système. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d17/329/e50/d17329e50a91025847eaeb93ad94b741.png"></div><br>  <i><font color="#999999">Différents systèmes de gestion de l'état de l'application, accessibles par une seule façade, peuvent également être des dragons ...</font></i> <br><br><h2>  <font color="#3AC1EF">Résumé</font> </h2><br>  Vous avez probablement remarqué que lorsque nous avons parlé de modèles de conception, nous n'avons pas considéré d'exemples de code.  Le fait est qu'une analyse approfondie de chaque modèle dessine au moins un chapitre distinct dans le livre le plus fin.  Au fait, puisque nous parlons de livres, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nous avons ici</a> des publications intéressantes que vous pouvez consulter pour ceux qui veulent se plonger dans l'étude des modèles. <br><br>  En fin de compte, je tiens à dire que dans le développement de modèles, rien ne vaut une recherche sur Internet, la lecture et le test indépendant de diverses idées.  Même s'il s'avère que vous n'utiliserez jamais de modèles, vous comprendrez quelque chose de nouveau et en apprendrez plus sur eux et grandirez dans des domaines inattendus pour vous. <br><br>  <b>Chers lecteurs!</b>  Quels modèles de conception utilisez-vous? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr450318/">https://habr.com/ru/post/fr450318/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr450308/index.html">Traçage des rayons GPU dans Unity - Partie 3</a></li>
<li><a href="../fr450310/index.html">Fonctionnement de Philips VideoWRITER. Premières images de fer, puis un peu d'ennui</a></li>
<li><a href="../fr450312/index.html">Docker Compose Starter Guide</a></li>
<li><a href="../fr450314/index.html">TensorFlow pour les débutants. Partie 1: informations générales, installation de la bibliothèque</a></li>
<li><a href="../fr450316/index.html">TDD: une méthodologie de développement qui a changé ma vie</a></li>
<li><a href="../fr450320/index.html">Des jeux quantiques simples révèlent la complexité ultime de l'univers</a></li>
<li><a href="../fr450322/index.html">Pourquoi avons-nous besoin de tant de messagers?</a></li>
<li><a href="../fr450324/index.html">Comment le système de suivi de la productivité rejette automatiquement les employés d'Amazon</a></li>
<li><a href="../fr450330/index.html">Choisir une école lors de son déménagement aux États-Unis</a></li>
<li><a href="../fr450332/index.html">Comment le rendu de The Witcher 3 est implémenté: la foudre, le talent du sorceleur et d'autres effets</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>