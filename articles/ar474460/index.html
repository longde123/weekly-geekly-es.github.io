<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ฝ ๐ฅข ๐ ูุตู ุจููุงุช ุงููุนุงูุฌ ูู LLVM ุจุงุณุชุฎุฏุงู TableGen ๐ฉ๐พโ๐คโ๐ฉ๐ฝ ๐ ๐๐ฝ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุงูููุช ุงูุญุงูู ุ ุฃุตุจุญ LLVM ุจุงููุนู ูุธุงููุง ุดุงุฆุนูุง ููุบุงูุฉ ุ ูุณุชุฎุฏูู ูุซูุฑ ูู ุงููุงุณ ุจูุดุงุท ูุฅูุดุงุก ูุฎุชูู ุงููุชุฑุฌููู ูุงููุญูููู ุ ุฅูุฎ. ููุฏ ุชู ุจุงููุนู ูุชุงุจุฉ ุนุฏุฏ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ูุตู ุจููุงุช ุงููุนุงูุฌ ูู LLVM ุจุงุณุชุฎุฏุงู TableGen</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474460/" style=";text-align:right;direction:rtl"> ูู ุงูููุช ุงูุญุงูู ุ ุฃุตุจุญ LLVM ุจุงููุนู ูุธุงููุง ุดุงุฆุนูุง ููุบุงูุฉ ุ ูุณุชุฎุฏูู ูุซูุฑ ูู ุงููุงุณ ุจูุดุงุท ูุฅูุดุงุก ูุฎุชูู ุงููุชุฑุฌููู ูุงููุญูููู ุ ุฅูุฎ.  ููุฏ ุชู ุจุงููุนู ูุชุงุจุฉ ุนุฏุฏ ูุจูุฑ ูู ุงูููุงุฏ ุงููููุฏุฉ ุญูู ูุฐุง ุงูููุถูุน ุ ุจูุง ูู ุฐูู ุจุงููุบุฉ ุงูุฑูุณูุฉ ุ ููุฐุง ุฎุจุฑ ุณุงุฑ.  ููุน ุฐูู ุ ูู ูุนุธู ุงูุญุงูุงุช ุ ูุชู ุงูุชุญูุฒ ุงูุฑุฆูุณู ูู ุงูููุงูุงุช ุนูู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ู endend LLVM.  ุจุงูุทุจุน ุ ุนูุฏ ูุตู ุงููุฎุทุท ุงููุงูู ูุชุดุบูู LLVM ุ ูุง ูุชู ุชุฌุงูุฒ ุฅูุดุงุก ููุฏ ุงูุขูุฉ ุ ูููู ูุชู ุงูุชุทุฑู ุฅูู ูุฐุง ุงูููุถูุน ุจุดูู ุฃุณุงุณู ุ ูุง ุณููุง ูู ุงูููุดูุฑุงุช ุจุงููุบุฉ ุงูุฑูุณูุฉ.  ูู ุงูููุช ููุณู ุ ูุฏู LLVM ุขููุฉ ูุฑูุฉ ููุซูุฑุฉ ููุงูุชูุงู ููุตู ูุนูุงุฑูุงุช ุงููุนุงูุฌ.  ูุฐูู ุ ุณูุชู ุชุฎุตูุต ูุฐู ุงูููุงุฏ ุฅูู TableGen ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุงูููููุฉ ุฅูู ุญุฏ ูุง ุ ูุงูุชู ูู ุฌุฒุก ูู LLVM. <br><br>  ุงูุณุจุจ ูุญุชุงุฌ ุงููุญูู ุงูุจุฑูุฌู ุฅูู ุงูุญุตูู ุนูู ูุนูููุงุช ุญูู ููุฏุณุฉ ูู ูู ุงูุฃูุธูุฉ ุงูุฃุณุงุณูุฉ ุงููุฏู ูุงุถุญ ููุบุงูุฉ.  ุจุทุจูุนุฉ ุงูุญุงู ุ ูุญุชูู ูู ุทุฑุงุฒ ูุนุงูุฌ ุนูู ูุฌููุนุฉ ุงูุณุฌูุงุช ุงูุฎุงุตุฉ ุจู ูุชุนูููุงุช ุงููุงูููุฉ ุงูุฎุงุตุฉ ุจู ุ ุฅูุฎ.  ููุญุชุงุฌ ุงููุชุฑุฌู ุฅูู ุงูุญุตูู ุนูู ุฌููุน ุงููุนูููุงุช ุงููุงุฒูุฉ ุนููู ุญุชู ูููู ูุงุฏุฑูุง ุนูู ุฅูุดุงุก ููุฏ ุตุงูุญ ููุนุงู ููุขูุฉ.  ูููู ุงููุญูู ุงูุจุฑูุฌู ุจุญู ูุฎุชูู ุงูููุงู ุงูุฎุงุตุฉ ุจุงููุธุงู ุงูุฃุณุงุณู: ุชูุฒูุน ุงูุณุฌูุงุช ุ ุฅูุฎ.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชููู LLVM backends ุฃูุถูุง ุจุฅุฌุฑุงุก ุชุญุณููุงุช ุจุงููุนู ุนูู ุงูุฃุดุนุฉ ุชุญุช ุงูุญูุฑุงุก ููุฌูุงุฒ ุ ูุงูุชู ูู ุฃูุฑุจ ุฅูู ุงูุชุนูููุงุช ุงููุนููุฉ ุ ุฃู ุจูุงุกู ุนูู ุชุนูููุงุช ุงููุฌููุน ููุณูุง.  ูู ูุซู ูุฐู ุงูุชุญุณููุงุช ุ ูุฌุจ ุงุณุชุจุฏุงู ุงูุชุนูููุงุช ูุชุญููููุง ุ ูุจูุงุกู ุนูู ุฐูู ุ ูุฌุจ ุฃู ุชููู ุฌููุน ุงููุนูููุงุช ุงููุชุนููุฉ ุจูุง ูุชุงุญุฉ. <br><a name="habracut"></a><br>  ูุญู ูุดููุฉ ูุตู ุจููุฉ ุงููุนุงูุฌ ุ ุงุนุชูุฏ LLVM ุชูุณูููุง ูุงุญุฏูุง ูุชุญุฏูุฏ ุฎุตุงุฆุต ุงููุนุงูุฌ ุงููุงุฒูุฉ ูููุชุฑุฌู.  ููู ููุฏุณุฉ ูุฏุนููุฉ ุ ูุญุชูู <code>.td</code> ุนูู ูุตู ุจูุบุฉ ุฑุณููุฉ ุฎุงุตุฉ.  ูุชู ุชุญูููู ุฅูู ูููุงุช <code>.inc</code> ุนูุฏ ุฅูุดุงุก ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู ุจุงุณุชุฎุฏุงู ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ TableGen ุงููุถููุฉ ูู LLVM.  ุงููููุงุช ุงููุงุชุฌุฉ ุ ูู ุงููุงูุน ุ ูู ูุตุฏุฑ C ุ ูููู ููุง ุงูุชุฏุงุฏ ูููุตู ุ ุนูู ุงูุฃุฑุฌุญ ุ ุจุญูุซ ูููู ุชูููุฒ ูุชุตููุฉ ูุฐู ุงููููุงุช ุงูุชู ุชู ุฅูุดุงุคูุง ุชููุงุฆููุง ุจุณูููุฉ.  ุงููุซุงุฆู ุงูุฑุณููุฉ ูู TableGen ููุฌูุฏุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> ูุชูุฏู ุฌููุน ุงููุนูููุงุช ุงููุงุฒูุฉ ุ ูููุงู ุฃูุถูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตู ุฑุณูู ููุบุฉ</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุฏูุฉ ุนุงูุฉ</a> . <br><br>  ุจุงูุทุจุน ุ ูุฐุง ููุถูุน ูุงุณุน ุฌุฏูุง ุ ุญูุซ ุชูุฌุฏ ุงูุนุฏูุฏ ูู ุงูุชูุงุตูู ุงูุชู ููููู ูู ุฎูุงููุง ูุชุงุจุฉ ููุงูุงุช ูุฑุฏูุฉ.  ูู ูุฐู ุงูููุงูุฉ ุ ูุนุชุจุฑ ุจุจุณุงุทุฉ ุงูููุงุท ุงูุฃุณุงุณูุฉ ููุตู ุงููุนุงูุฌุงุช ุญุชู ุจุฏูู ูุธุฑุฉ ุนุงูุฉ ุนูู ุฌููุน ุงูููุฒุงุช. <br><br><h2 style=";text-align:right;direction:rtl">  ูุตู ุงูุนูุงุฑุฉ ูู ููู .td </h2><br>  ูุฐูู ุ ุชุญุชูู ูุบุฉ ุงููุตู ุงูุฑุณููุฉ ุงููุณุชุฎุฏูุฉ ูู TableGen ุนูู ููุฒุงุช ูุดุงุจูุฉ ููุบุงุช ุงูุจุฑูุฌุฉ ุงูุนุงุฏูุฉ ูุชุชูุญ ูู ูุตู ุฎุตุงุฆุต ุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ ุจุฃุณููุจ ุชุนุฑููู.  ูููุง ุฃููููุง ุ ุชูุณูู ูุฐู ุงููุบุฉ ุฃูุถูุง TableGen.  ุฃู  ูู ูุฐู ุงูููุงูุฉ ุ ูุณุชุฎุฏู TableGen ููุงู ูู ุงููุบุฉ ุงูุฑุณููุฉ ููุณูุง ูุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ุงูุชู ุชูุดุฆ ุงูุขุซุงุฑ ุงููุงุชุฌุฉ ุนููุง. <br><br>  ุงููุนุงูุฌุงุช ุงูุญุฏูุซุฉ ุฃูุธูุฉ ูุนูุฏุฉ ููุบุงูุฉ ุ ูุฐูู ููุณ ูู ุงููุณุชุบุฑุจ ุฃู ูููู ูุตููุง ุถุฎููุง ููุบุงูุฉ.  ููููุง ูุฐูู ุ ูุฅูุดุงุก ุงููููู ูุชุจุณูุท ุตูุงูุฉ ูููุงุช <code>.td</code> ูููู ุฃู ูุชุถูู ุจุนุถูุง ุงูุจุนุถ ุจุงุณุชุฎุฏุงู ุงูุชูุฌูู <code>#include</code> ุงููุนุชุงุฏ ููุจุฑูุฌู C.  ุจูุณุงุนุฏุฉ ูุฐุง ุงูุชูุฌูู ุ ูุชู ุฏุงุฆููุง ุชุถููู ููู <code>Target.td</code> ุฃููุงู ุ ููุญุชูู ุนูู ูุงุฌูุงุช ูุณุชููุฉ ุนู ุงููุธุงู ุงูุฃุณุงุณู ูุฌุจ ุชูููุฐูุง ูุชูููุฑ ุฌููุน ูุนูููุงุช TableGen ุงูุถุฑูุฑูุฉ.  ูุญุชูู ูุฐุง ุงูููู ุจุงููุนู ุนูู ููู <code>.td</code> ูุน ุฃูุตุงู LLVM ุ ููููู ูู ุญุฏ ุฐุงุชู ูุญุชูู ุนูู ูุฆุงุช ุฃุณุงุณูุฉ ุ ูุซู <code>Register</code> ุ <code>Instruction</code> ุ <code>Processor</code> ุ ููุง ุฅูู ุฐูู ุ ูุงูุชู ุชุญุชุงุฌ ุฅูู ุฃู <code>.td</code> ูุฅูุดุงุก <code>.td</code> ุงูุฎุงุต ูููุชุฑุฌู ุงุณุชูุงุฏูุง ุฅูู LLVM.  ูู ุงูุฌููุฉ ุงูุณุงุจูุฉ ุ ูู ุงููุงุถุญ ุฃู TableGen ูุฏูู ููุฑุฉ ุงูุทุจูุงุช ุงููุนุฑููุฉ ูุฌููุน ุงููุจุฑูุฌูู. <br><br>  ุจุดูู ุนุงู ุ ูุฏู TableGen ููุงูุงู ุฃุณุงุณูุงู ููุท: <b>ุงููุฆุงุช</b> <b>ูุงูุชุนุงุฑูู</b> . <br><br><h3 style=";text-align:right;direction:rtl">  ูุตูู </h3><br>  ูุฆุงุช TableGen ูู ุฃูุถูุง ุฃุดูุงู ุชุฌุฑูุฏูุฉ ุ ููุง ูู ุงูุญุงู ูู ุฌููุน ูุบุงุช ุงูุจุฑูุฌุฉ ุงูููุฌูุฉ ูููุงุฆูุงุช ุ ููููุง ููุงูุงุช ุฃุจุณุท. <br><br>  ูููู ุฃู ุชุญุชูู ุงููุตูู ุนูู ูุนููุงุช ูุญููู ุ ููุง ูููููุง ุฃู ุชุฑุซ ูุฆุงุช ุฃุฎุฑู. <br>  ุนูู ุณุจูู ุงููุซุงู ุ ูุชู ุชูุฏูู ุฃุญุฏ ุงููุฆุงุช ุงูุฃุณุงุณูุฉ ุฃุฏูุงู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// A class representing the register size, spill size and spill alignment // in bits of a register. class RegInfo&lt;int RS, int SS, int SA&gt; { int RegSize = RS; // Register size in bits. int SpillSize = SS; // Spill slot size in bits. int SpillAlignment = SA; // Spill slot alignment in bits. }</span></span></code> </pre> <br>  ุชุดูุฑ ุฃููุงุณ ุงูุฒุงููุฉ ุฅูู ูุนููุงุช ุงูุฅุฏุฎุงู ุงูุชู ุชู ุชุนููููุง ูุฎุตุงุฆุต ุงููุฆุฉ.  ูู ูุฐุง ุงููุซุงู ุ ููููู ุฃูุถูุง ููุงุญุธุฉ ุฃู ูุบุฉ TableGen ููุชูุจุฉ ุจุดูู ุซุงุจุช.  ุงูุฃููุงุน ุงูููุฌูุฏุฉ ูู TableGen: <code>bit</code> (ุชูุซููู ููููุน Boolean ูุน ุงููููุชูู 0 ู 1) ุ <code>int</code> ุ <code>string</code> ุ <code>code</code> (ูุทุนุฉ ูู ุงูููุฏ ุ ูุฐุง ููุน ุ ุจุจุณุงุทุฉ ูุฃู TableGen ููุณ ูุฏูู ุทุฑู ููุธุงุฆู ุจุงููุนูู ุงููุนุชุงุฏ ุ ุชุชู ูุชุงุจุฉ ุณุทูุฑ ุงูููุฏ ูู <code>[{ ... }]</code> ) ุ ุงูุจุชุงุช &lt;n&gt; ุ ููุงุฆูุฉ &lt;ุงูููุน&gt; (ูุชู ุชุนููู ุงูููู ุจุงุณุชุฎุฏุงู ุฃููุงุณ ูุฑุจุนุฉ [...] ููุง ูู ุงูุญุงู ูู ุจูุซูู ูุจุนุถ ูุบุงุช ุงูุจุฑูุฌุฉ ุงูุฃุฎุฑู) ุ <code>class type</code> ุ <code>dag</code> . <br><br>  ูุฌุจ ููู ูุนุธู ุงูุฃููุงุน ุ ูููู ุฅุฐุง ูุงูุช ูุฏููู ุฃุณุฆูุฉ ุ ููููุง ููุตููุฉ ุจุงูุชูุตูู ูู ููุงุตูุงุช ุงููุบุฉ ุ ููู ูุชุงุญุฉ ุนูู ุงูุฑุงุจุท ุงูููุฏู ูู ุจุฏุงูุฉ ุงูููุงู. <br><br>  ููุตู ุงููุฑุงุซุฉ ุฃูุถูุง ุจุตูุบุฉ ูุฃูููุฉ ุฅูู ุญุฏ ูุง ูุน:. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X86MemOperand</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">string</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">printMethod</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AsmOperandClass</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">parserMatchClass</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X86MemAsmOperand</span></span></span><span class="hljs-class">&gt; : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Operand</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">iPTR</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-type"><span class="hljs-type">PrintMethod</span></span> = printMethod; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-type"><span class="hljs-type">MIOperandInfo</span></span> = (ops ptr_rc, i8imm, ptr_rc_nosp, i32imm, <span class="hljs-type"><span class="hljs-type">SEGMENT_REG</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-type"><span class="hljs-type">ParserMatchClass</span></span> = parserMatchClass; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-type"><span class="hljs-type">OperandType</span></span> = <span class="hljs-string"><span class="hljs-string">"OPERAND_MEMORY"</span></span>; }</code> </pre> <br>  ูู ูุฐู ุงูุญุงูุฉ ุ ูููู ูููุฆุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุ ุจุงูุทุจุน ุ ุชุฌุงูุฒ ููู ุงูุญููู ุงููุญุฏุฏุฉ ูู ุงููุฆุฉ ุงูุฃุณุงุณูุฉ ุจุงุณุชุฎุฏุงู ุงููููุฉ ุงูุฃุณุงุณูุฉ <code>let</code> .  ููููู ุฃู ุชุถูู ุญููููุง ุงูุฎุงุตุฉ ุนูู ุบุฑุงุฑ ุงููุตู ุงููุงุฑุฏ ูู ุงููุซุงู ุงูุณุงุจู ุ ูุน ุงูุฅุดุงุฑุฉ ุฅูู ููุน ุงูุญูู. <br><br><h3 style=";text-align:right;direction:rtl">  ุชุนุฑููุงุช (ุงูุชุนุงุฑูู) </h3><br>  ุงูุชุนุงุฑูู ูู ุจุงููุนู ููุงูุงุช ููููุณุฉ ุ ููููู ููุงุฑูุชูุง ูุน ุงูุฃุดูุงุก ุงููุฃูููุฉ ูุฌููุน ุงููุงุฆูุงุช.  ูุชู ุชุนุฑูู ุงูุชุนุฑููุงุช ุจุงุณุชุฎุฏุงู ุงููููุฉ ุงูุฃุณุงุณูุฉ <code>def</code> ููููููุง ุชูููุฐ ูุฆุฉ ุ ูุฅุนุงุฏุฉ ุชุญุฏูุฏ ุญููู ุงููุฆุงุช ุงูุฃุณุงุณูุฉ ุจููุณ ุงูุทุฑููุฉ ุงูููุถุญุฉ ุฃุนูุงู ุชูุงููุง ุ ููุฐูู ุญููููุง ุงูุฎุงุตุฉ ุจูุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs">def i8mem : <span class="hljs-type"><span class="hljs-type">X86MemOperand</span></span>&lt;<span class="hljs-string"><span class="hljs-string">"printbytemem"</span></span>, <span class="hljs-type"><span class="hljs-type">X86Mem8AsmOperand</span></span>&gt;; def <span class="hljs-type"><span class="hljs-type">X86AbsMemAsmOperand</span></span> : <span class="hljs-type"><span class="hljs-type">AsmOperandClass</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-type"><span class="hljs-type">Name</span></span> = <span class="hljs-string"><span class="hljs-string">"AbsMem"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-type"><span class="hljs-type">SuperClasses</span></span> = [<span class="hljs-type"><span class="hljs-type">X86MemAsmOperand</span></span>]; }</code> </pre><br><h3 style=";text-align:right;direction:rtl">  Multiclasses (multiclasses) </h3><br>  ุจุทุจูุนุฉ ุงูุญุงู ุ ููุงู ุนุฏุฏ ูุจูุฑ ูู ุงูุชุนูููุงุช ูู ุงููุนุงูุฌุงุช ููุง ุฏูุงูุงุช ููุงุซูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ูุฏ ูููู ููุงู ูุฌููุนุฉ ูู ุงูุฅุฑุดุงุฏุงุช ุงูููููุฉ ูู ุซูุงุซุฉ ุนูุงููู ุชุฃุฎุฐ ุงููููุฐุฌูู <code>โreg = reg op regโ</code> ู <code>โreg = reg op immโ</code> .  ูู ุฅุญุฏู ุงูุญุงูุงุช ุ ูุชู ุฃุฎุฐ ุงูููู ูู ุงูุณุฌูุงุช ููุชู ุญูุธ ุงููุชูุฌุฉ ุฃูุถูุง ูู ุงูุณุฌู ุ ููู ุงูุญุงูุฉ ุงูุฃุฎุฑู ุ ูููู ุงููุนุงูู ุงูุซุงูู ูููุฉ ุซุงุจุชุฉ (ุงููุนุงูู ุบูุฑ ุงููุจุงุดุฑ). <br><br>  ูุนุฏ ุณุฑุฏ ุฌููุน ุงููุฌููุนุงุช ูุฏูููุง ูููุงู ุฅูู ุญุฏ ูุง ุ ููุฒุฏุงุฏ ุฎุทุฑ ุงุฑุชูุงุจ ุฎุทุฃ.  ุจุงูุทุจุน ุ ูููู ุฅูุดุงุคูุง ุชููุงุฆููุง ุนู ุทุฑูู ูุชุงุจุฉ ุจุฑูุงูุฌ ูุตู ุจุณูุท ุ ูููู ูุฐุง ููุณ ุถุฑูุฑููุง ุ ูุฃูู ููุฌุฏ ููููู ุจุงุณู multiclasses ูู ูุบุฉ TableGen. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">multiclass ri_inst&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> opc, <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> asmstr&gt; { def _rr : inst&lt;opc, !strconcat(asmstr, <span class="hljs-string"><span class="hljs-string">" $dst, $src1, $src2"</span></span>), (ops GPR:$dst, GPR:$src1, GPR:$src2)&gt;; def _ri : inst&lt;opc, !strconcat(asmstr, <span class="hljs-string"><span class="hljs-string">" $dst, $src1, $src2"</span></span>), (ops GPR:$dst, GPR:$src1, Imm:$src2)&gt;; }</code> </pre> <br>  ุฏุงุฎู multiclasses ุ ุชุญุชุงุฌ ุฅูู ูุตู ุฌููุน ุฃุดูุงู ุงูุชุนูููุงุช ุงูููููุฉ ุจุงุณุชุฎุฏุงู ุงููููุฉ ุงูููุชุงุญูุฉ <code>def</code> .  ููู ูุฐุง ููุณ ุดูููุง ูุงููุงู ูู ุงูุชุนูููุงุช ุงูุชู ุณูุชู ุฅูุดุงุคูุง.  ูู ุงูููุช ููุณู ุ ููููู ุฅุนุงุฏุฉ ุชุญุฏูุฏ ุงูุญููู ุงูููุฌูุฏุฉ ูููุง ูุงูููุงู ุจูู ูุง ูู ูููู ูู ุงูุชุนุฑููุงุช ุงููุนุชุงุฏุฉ.  ูุฅูุดุงุก ุชุนุฑููุงุช ุญููููุฉ ุชุณุชูุฏ ุฅูู multiclass ุ ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงู ุงููููุฉ ุงูุฃุณุงุณูุฉ <code>defm</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Instantiations of the ri_inst multiclass. defm ADD : ri_inst&lt;0b111, "add"&gt;; defm SUB : ri_inst&lt;0b101, "sub"&gt;; defm MUL : ri_inst&lt;0b100, "mul"&gt;;</span></span></code> </pre> <br>  ููุชูุฌุฉ ูุฐูู ุ ููู ุชุนุฑูู ูุชู ุชูุฏููู ูู ุฎูุงู <code>defm</code> ูู ุงููุงูุน ุ ุณูุชู ุฅูุดุงุก ุงูุนุฏูุฏ ูู ุงูุชุนุฑููุงุช ุงูุชู ูู ูุฒูุฌ ูู ุงูุชุนูููุงุช ุงูุฑุฆูุณูุฉ ูุฌููุน ุงูุฃุดูุงู ุงูููููุฉ ุงูููุถุญุฉ ูู multiclass.  ูุชูุฌุฉู ูุฐูู ุ ุณูุชู ุฅูุดุงุก ุงูุฅุฑุดุงุฏุงุช ุงูุชุงููุฉ ูู ูุฐุง ุงููุซุงู: <code>ADD_rr</code> ู <code>ADD_ri</code> ู <code>SUB_rr</code> ู <code>SUB_ri</code> ู <code>MUL_rr</code> ู <code>MUL_ri</code> . <br><br>  ูุง ูููู ุฃู ุชุญุชูู ุงููุณุงุฆุท ุงููุชุนุฏุฏุฉ ุนูู ุชุนุฑููุงุช ูุน <code>def</code> ุ ูููู ุฃูุถูุง ุนูู <code>defm</code> ุงููุชุฏุงุฎูุฉ ุ ููุง ูุณูุญ <code>defm</code> ุฃุดูุงู ูุนูุฏุฉ ูู ุงูุชุนูููุงุช.  ูููู ุงูุนุซูุฑ ุนูู ูุซุงู ููุถุญ ุฅูุดุงุก ูุซู ูุฐู ุงูุณูุงุณู ูู ุงููุซุงุฆู ุงูุฑุณููุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฃูุฏุงู ุงููุฑุนูุฉ </h3><br>  ููุงู ุดูุก ุฃุณุงุณู ููููุฏ ุขุฎุฑ ูููุนุงูุฌุงุช ุงูุชู ููุง ุฃุดูุงู ูุฎุชููุฉ ูู ูุฌููุนุฉ ุงูุชุนูููุงุช ููู ุฏุนู subtarget ูู LLVM.  ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู ูู ุชุทุจูู LLVM SPARC ุ ูุงูุฐู ูุบุทู ุซูุงุซุฉ ุฅุตุฏุงุฑุงุช ุฑุฆูุณูุฉ ูู ุจููุฉ ุงููุนุงูุฌ ุงูุฏููู SPARC ูู ุขู ูุงุญุฏ: ุงูุฅุตุฏุงุฑ 8 (V8 ุ ููุฏุณุฉ 32 ุจุช) ุ ุงูุฅุตุฏุงุฑ 9 (V9 ุ ููุฏุณุฉ 64 ุจุช) ูููุฏุณุฉ UltraSPARC.  ุงููุฑู ุจูู ุงูุจูู ูุจูุฑ ุฌุฏูุง ุ ูุนุฏุฏ ูุฎุชูู ูู ุณุฌูุงุช ุงูุฃููุงุน ุงููุฎุชููุฉ ุ ูุชุฑุชูุจ ุงูุจุงูุช ุงููุฏุนูู ุ ุฅูุฎ.  ูู ูุซู ูุฐู ุงูุญุงูุงุช ุ ุฅุฐุง ูุงู ููุงู ุงูุนุฏูุฏ ูู ุงูุชููููุงุช ุ ูุฅู ุงูุฃูุฑ ูุณุชุญู ุชูููุฐ ูุฆุฉ <code>XXXSubtarget</code> ุงูุฎุงุตุฉ ุจุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ.  ุณูุคุฏู ุงุณุชุฎุฏุงู ูุฐู ุงููุฆุฉ ูู ุงููุตู ุฅูู ุฎูุงุฑุงุช ุณุทุฑ ุฃูุงูุฑ ุฌุฏูุฏุฉ <code>-mattr=</code> ู <code>-mattr=</code> . <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ูุฆุฉ <code>Subtarget</code> ููุณูุง ุ ูุฅู ูุฆุฉ <code>Subtarget</code> ูููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SubtargetFeature</span></span></span><span class="hljs-class">&lt;string n, string a, string v, string d, list&lt;SubtargetFeature&gt; i = []&gt; {</span></span> <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> Name = n; <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> Attribute = a; <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> Value = v; <span class="hljs-built_in"><span class="hljs-built_in">string</span></span> Desc = d; <span class="hljs-built_in"><span class="hljs-built_in">list</span></span>&lt;SubtargetFeature&gt; Implies = i; }</code> </pre> <br>  ูู ููู <code>Sparc.td</code> ุ ููููู ุงูุนุซูุฑ ุนูู ุฃูุซูุฉ ูุชุทุจูู <code>SubtargetFeature</code> ุ ูุงูุชู ุชุณูุญ ูู ุจูุตู ุชููุฑ ูุฌููุนุฉ ูู ุงูุชุนูููุงุช ููู ููุน ูุฑุนู ูู ุงูุจููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">def FeatureV9 : SubtargetFeature&lt;<span class="hljs-string"><span class="hljs-string">"v9"</span></span>, <span class="hljs-string"><span class="hljs-string">"IsV9"</span></span>, <span class="hljs-string"><span class="hljs-string">"true"</span></span>, <span class="hljs-string"><span class="hljs-string">"Enable SPARC-V9 instructions"</span></span>&gt;; def FeatureV8Deprecated : SubtargetFeature&lt;<span class="hljs-string"><span class="hljs-string">"deprecated-v8"</span></span>, <span class="hljs-string"><span class="hljs-string">"V8DeprecatedInsts"</span></span>, <span class="hljs-string"><span class="hljs-string">"true"</span></span>, <span class="hljs-string"><span class="hljs-string">"Enable deprecated V8 instructions in V9 mode"</span></span>&gt;; def FeatureVIS : SubtargetFeature&lt;<span class="hljs-string"><span class="hljs-string">"vis"</span></span>, <span class="hljs-string"><span class="hljs-string">"IsVIS"</span></span>, <span class="hljs-string"><span class="hljs-string">"true"</span></span>, <span class="hljs-string"><span class="hljs-string">"Enable UltraSPARC Visual Instruction Set extensions"</span></span>&gt;;</code> </pre><br>  ูู ูุฐู ุงูุญุงูุฉ ุ ุนูู ุฃู ุญุงู ุ ูุง ูุฒุงู <code>Sparc.td</code> ูุนุฑูู ูุฆุฉ <code>Proc</code> ุ ูุงูุชู ุชุณุชุฎุฏู ููุตู ุฃููุงุน ูุฑุนูุฉ ูุญุฏุฏุฉ ูู ูุนุงูุฌุงุช SPARC ุ ูุงูุชู ูุฏ ุชุญุชูู ููุท ุนูู ุงูุฎุตุงุฆุต ุงูููุตููุฉ ุฃุนูุงู ุ ุจูุง ูู ุฐูู ูุฌููุนุงุช ูุฎุชููุฉ ูู ุงูุชุนูููุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Proc</span></span></span><span class="hljs-class">&lt;string Name, list&lt;SubtargetFeature&gt; Features&gt; :</span></span> Processor&lt;Name, NoItineraries, Features&gt;; def : Proc&lt;<span class="hljs-string"><span class="hljs-string">"generic"</span></span>, []&gt;; def : Proc&lt;<span class="hljs-string"><span class="hljs-string">"v8"</span></span>, []&gt;; def : Proc&lt;<span class="hljs-string"><span class="hljs-string">"supersparc"</span></span>, []&gt;; def : Proc&lt;<span class="hljs-string"><span class="hljs-string">"sparclite"</span></span>, []&gt;; def : Proc&lt;<span class="hljs-string"><span class="hljs-string">"f934"</span></span>, []&gt;; def : Proc&lt;<span class="hljs-string"><span class="hljs-string">"hypersparc"</span></span>, []&gt;; def : Proc&lt;<span class="hljs-string"><span class="hljs-string">"sparclite86x"</span></span>, []&gt;; def : Proc&lt;<span class="hljs-string"><span class="hljs-string">"sparclet"</span></span>, []&gt;; def : Proc&lt;<span class="hljs-string"><span class="hljs-string">"tsc701"</span></span>, []&gt;; def : Proc&lt;<span class="hljs-string"><span class="hljs-string">"v9"</span></span>, [FeatureV9]&gt;; def : Proc&lt;<span class="hljs-string"><span class="hljs-string">"ultrasparc"</span></span>, [FeatureV9, FeatureV8Deprecated]&gt;; def : Proc&lt;<span class="hljs-string"><span class="hljs-string">"ultrasparc3"</span></span>, [FeatureV9, FeatureV8Deprecated]&gt;; def : Proc&lt;<span class="hljs-string"><span class="hljs-string">"ultrasparc3-vis"</span></span>, [FeatureV9, FeatureV8Deprecated, FeatureVIS]&gt;;</code> </pre> <br><h2 style=";text-align:right;direction:rtl">  ุงูุนูุงูุฉ ุจูู ุฎุตุงุฆุต ุงูุชุนูููุงุช ูู TableGen ูุฑูุฒ ุงููุงุฌูุฉ ุงูุฎูููุฉ LLVM </h2><br>  ุชุณูุญ ูู ุฎุตุงุฆุต ุงููุฆุงุช ูุงูุชุนุฑููุงุช ุจุฅูุดุงุก ูุชุนููู ุงูููุฒุงุช ุงููุนูุงุฑูุฉ ุจุดูู ุตุญูุญ ุ ูููู ูุง ููุฌุฏ ูุตูู ูุจุงุดุฑ ุฅูููุง ูู ุงูููุฏ ุงููุตุฏุฑู ููุฎูููุฉ LLVM.  ููุน ุฐูู ุ ูู ุจุนุถ ุงูุฃุญูุงู ุชุฑูุฏ ุฃู ุชููู ูุงุฏุฑูุง ุนูู ุงูุญุตูู ุนูู ุจุนุถ ุงูุฅุฑุดุงุฏุงุช ุงูุฎุงุตุฉ ุจุงููุธุงู ุงูุฃุณุงุณู ูุจุงุดุฑุฉู ูู ุฑูุฒ ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู. <br><br><h3 style=";text-align:right;direction:rtl">  TSFlags </h3><br>  ููููุงู ุจุฐูู ุ ุชุญุชูู ูุฆุฉ <code>Instruction</code> ุงูุฃุณุงุณูุฉ ุนูู ุญูู <code>TSFlags</code> ุฎุงุต ุ <code>TSFlags</code> 64 ุจุช ุ ููุชู ุชุญูููู ุจูุงุณุทุฉ TableGen ุฅูู ุญูู ูุงุฆูุงุช C ++ ูููุฆุฉ <code>MCInstrDesc</code> ุ ุชู ุฅูุดุงุคู ุนูู ุฃุณุงุณ ุงูุจูุงูุงุช ุงููุงุฑุฏุฉ ูู ูุตู TableGen.  ููููู ุชุญุฏูุฏ ุฃู ุนุฏุฏ ูู ูุญุฏุงุช ุงูุจุช ุงูุชู ุชุญุชุงุฌูุง ูุชุฎุฒูู ุงููุนูููุงุช.  ูุฏ ุชููู ูุฐู ุจุนุถ ุงูููู ุงูููุทููุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ููุฅุดุงุฑุฉ ุฅูู ุฃููุง ูุณุชุฎุฏู ALU ุงูุนุฏุฏูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-type"><span class="hljs-type">TSFlags</span></span>{<span class="hljs-number"><span class="hljs-number">0</span></span>} = <span class="hljs-type"><span class="hljs-type">SALU</span></span>;</code> </pre> <br>  ุฃู ูููููุง ุชุฎุฒูู ููุน ุงูุชุนูููุงุช.  ุซู ูุญุชุงุฌ ุ ุจุงูุทุจุน ุ ุฃูุซุฑ ูู ุจุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">// Instruction type according to the ISA. IType Type = type; let TSFlags{7-1} = Type.Value;</span></span></code> </pre> <br>  ูุชูุฌุฉ ูุฐูู ุ ูุตุจุญ ูู ุงููููู ุงูุญุตูู ุนูู ูุฐู ุงูุฎุตุงุฆุต ูู ุงูุชุนูููุงุช ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุฎูููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> isSALU = MI.getDesc().TSFlags &amp; SIInstrFlags::SALU;</code> </pre> <br>  ุฅุฐุง ูุงูุช ุงูุฎุงุตูุฉ ุฃูุซุฑ ุชุนููุฏูุง ุ ูููููู ููุงุฑูุชูุง ุจุงููููุฉ ุงูููุถุญุฉ ูู TableGen ุ ูุงูุชู ุณุชุชู ุฅุถุงูุชูุง ุฅูู ุงูุชุนุฏุงุฏ ุงูุฐู ุชู ุฅูุดุงุคู ุชููุงุฆููุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">(Desc.TSFlags &amp; X86II::FormMask) == X86II::MRMSrcMem</code> </pre> <br><br><h3 style=";text-align:right;direction:rtl">  ุฏุงูุฉ ูุชูุจุฃ </h3><br>  ุฃูุถุง ุ ูููู ุงุณุชุฎุฏุงู ุฏุงูุฉ ุงูุชูููู ููุญุตูู ุนูู ุงููุนูููุงุช ุงููุงุฒูุฉ ุญูู ุงูุชุนูููุงุช.  ูู ุฎูุงู ูุณุงุนุฏุชูู ุ ููููู ุฅุธูุงุฑ TableGen ุฃูู ุจุญุงุฌุฉ ุฅูู ุฅูุดุงุก ุฏุงูุฉ ุณุชููู ูุชุงุญุฉ ูู ุงูููุฏ ุงูุฎููู ููููุง ูุฐูู.  ูููุง ููู ุงููุฆุฉ ุงูุฃุณุงุณูุฉ ุงูุชู ููููู ูู ุฎูุงููุง ุฅูุดุงุก ุชุนุฑูู ุงููุธููุฉ ูุฐุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Base class for function predicates. class FunctionPredicateBase&lt;string name, MCStatement body&gt; { string FunctionName = name; MCStatement Body = body; }</span></span></code> </pre> <br>  ููููู ุจุณูููุฉ ุงูุนุซูุฑ ุนูู ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู ูู ุงููุงุฌูุฉ ุงูุฎูููุฉ ูู X86.  ุฅุฐู ููุงู ูุฆุฉ ูุชูุณุทุฉ ุฎุงุตุฉ ุจูุง ุ ูุงูุชู ูุชู ุจุงููุนู ุฅูุดุงุก ุงูุชุนุฑููุงุช ุงูุถุฑูุฑูุฉ ูููุธุงุฆู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// Check that a call to method `Name` in class "XXXInstrInfo" (where XXX is // the name of a target) returns true. // // TIIPredicate definitions are used to model calls to the target-specific // InstrInfo. A TIIPredicate is treated specially by the InstrInfoEmitter // tablegen backend, which will use it to automatically generate a definition in // the target specific `InstrInfo` class. // // There cannot be multiple TIIPredicate definitions with the same name for the // same target class TIIPredicate&lt;string Name, MCStatement body&gt; : FunctionPredicateBase&lt;Name, body&gt;, MCInstPredicate; // This predicate evaluates to true only if the input machine instruction is a // 3-operands LEA. Tablegen automatically generates a new method for it in // X86GenInstrInfo. def IsThreeOperandsLEAFn : TIIPredicate&lt;"isThreeOperandsLEA", IsThreeOperandsLEABody&gt;; //   -    ,  -  ,       // Used to generate the body of a TII member function. def IsThreeOperandsLEABody : MCOpcodeSwitchStatement&lt;[LEACases], MCReturnStatement&lt;FalsePred&gt;&gt;;</span></span></code> </pre> <br>  ูุชูุฌุฉ ูุฐูู ุ ููููู ุงุณุชุฎุฏุงู ุงูุฃุณููุจ <code>isThreeOperandsLEA</code> ูู ุฑูุฒ C ++. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(TII-&gt;isThreeOperandsLEA(MI) || hasInefficientLEABaseReg(Base, Index)) || !TII-&gt;isSafeToClobberEFLAGS(MBB, MI) || Segment.getReg() != X86::NoRegister) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>;</code> </pre> <br>  ููุง TII ูู ูุนูููุงุช ุงูุชุนูููุงุช ุงููุฏู ุ ูุงูุชู ูููู ุงูุญุตูู ุนูููุง ุจุงุณุชุฎุฏุงู ุทุฑููุฉ <code>getInstrInfo()</code> ูู <code>MCSubtargetInfo</code> ููุนูุงุฑุฉ ุงููุทููุจุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุชุญููู ุงูุชุนูููุงุช ุฎูุงู ุงูุชุญุณููุงุช.  ุฑุณู ุงูุฎุฑุงุฆุท ุงูุชุนูููุงุช </h2><br>  ุฃุซูุงุก ุนุฏุฏ ูุจูุฑ ูู ุงูุชุญุณููุงุช ุงูุชู ูุชู ุฅุฌุฑุงุคูุง ูู ุงููุฑุงุญู ุงููุงุญูุฉ ูู ุงูุชุญููู ุงูุจุฑูุฌู ุ ุชูุดุฃ ุงููููุฉ ุบุงูุจูุง ูู ุชุญููู ูู ุฃู ุฌุฒุก ููุท ูู ุงูุฅุฑุดุงุฏุงุช ุงูุฎุงุตุฉ ุจูููุฐุฌ ูุง ุฅูู ุชุนูููุงุช ูู ูููุฐุฌ ุขุฎุฑ.  ุจุงููุธุฑ ุฅูู ุชุทุจูู multiclasses ุงูููุตููุฉ ูู ุงูุจุฏุงูุฉ ุ ูููููุง ุงูุญุตูู ุนูู ุนุฏุฏ ูุจูุฑ ูู ุงูุชุนูููุงุช ูุน ุฏูุงูุงุช ูุฎุตุงุฆุต ููุงุซูุฉ.  ูู ุงูููุฏ ุ ูููู ูุชุงุจุฉ ูุฐู ุงูุชุญููุงุช ุ ุจุทุจูุนุฉ ุงูุญุงู ุ ูู ุดูู ุฅูุดุงุกุงุช ูุจูุฑุฉ <code>switch-case</code> ุ ููุง ุณุญู ุงูุชุญูู ุงูููุงุจู ููู ุชุนูููุฉ.  ุฌุฒุฆููุง ุ ูููู ุชูููู ูุฐู ุงูุฅูุดุงุกุงุช ุงูุถุฎูุฉ ุจูุณุงุนุฏุฉ ูุญุฏุงุช ุงููุงูุฑู ุ ูุงูุชู ุณุชุดูู ุงูุงุณู ุงููุงุฒู ููุชุนูููุงุช ููููุง ูููุงุนุฏ ูุนุฑููุฉ.  ูููู ูุง ูุฒุงู ุ ูุฐุง ุงูููุฌ ุบูุฑ ูุฑูุญ ููุบุงูุฉ ุ ูู ุงูุตุนุจ ุงูุญูุงุธ ุนููู ุจุณุจุจ ุญูููุฉ ุฃู ุฌููุน ุฃุณูุงุก ุงูุชุนูููุงุช ูุฏุฑุฌุฉ ุตุฑุงุญุฉ.  ูููู ุฃู ุชุคุฏู ุฅุถุงูุฉ ุชุนูููุงุช ุฌุฏูุฏุฉ ุจุณูููุฉ ุฅูู ุญุฏูุซ ุฎุทุฃ ุ ูุฃู  ูุฌุจ ุฃู ุชุชุฐูุฑ ุฅุถุงูุชู ุฅูู ุฌููุน ุงูุชุญูููุงุช ุฐุงุช ุงูุตูุฉ.  ุจุนุฏ ุชุนุฐููุจูุง ุจูุฐุง ุงูููุฌ ุ ุฃูุดุฃุช LLVM ุขููุฉ ุฎุงุตุฉ ูุชุญููู ุดูู ูู ุฃุดูุงู ุงูุชุนูููุงุช ุจููุงุกุฉ ุฅูู <code>Instruction Mapping</code> ุขุฎุฑ. <br><br>  ุงูููุฑุฉ ุจุณูุทุฉ ููุบุงูุฉ ุ ููู ุงูุถุฑูุฑู ูุตู ุงูููุงุฐุฌ ุงูููููุฉ ูุชุญููู ุงูุชุนูููุงุช ูุจุงุดุฑุฉ ูู TableGen.  ูุฐูู ุ ูู LLVM TableGen ููุงู ูุฆุฉ ุฃุณุงุณูุฉ ููุตู ูุฐู ุงูููุงุฐุฌ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InstrMapping</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-comment"><span class="hljs-comment">// Used to reduce search space only to the instructions using this // relation model. string FilterClass; // List of fields/attributes that should be same for all the instructions in // a row of the relation table. Think of this as a set of properties shared // by all the instructions related by this relationship. list&lt;string&gt; RowFields = []; // List of fields/attributes that are same for all the instructions // in a column of the relation table. list&lt;string&gt; ColFields = []; // Values for the fields/attributes listed in 'ColFields' corresponding to // the key instruction. This is the instruction that will be transformed // using this relation model. list&lt;string&gt; KeyCol = []; // List of values for the fields/attributes listed in 'ColFields', one for // each column in the relation table. These are the instructions a key // instruction will be transformed into. list&lt;list&lt;string&gt; &gt; ValueCols = []; }</span></span></code> </pre> <br>  ุฏุนููุง ูููู ูุธุฑุฉ ุนูู ูุซุงู ูุฑุฏ ูู ุงููุซุงุฆู.  ุงูุฃูุซูุฉ ุงูุชู ูููู ุงูุนุซูุฑ ุนูููุง ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ ุฃุตุจุญุช ุงูุขู ุฃูุซุฑ ุจุณุงุทุฉ ุ ุญูุซ ูุชู ุงูุญุตูู ุนูู ุนููุฏูู ููุท ูู ุงูุฌุฏูู ุงูููุงุฆู.  ูู ุฑูุฒ ุงููุงุฌูุฉ ุงูุฎูููุฉ ุ ููููู ุงูุนุซูุฑ ุนูู ุชุญููู ุงูููุงุฐุฌ ุงููุฏููุฉ ุฅูู ุฃุดูุงู ุฌุฏูุฏุฉ ูู ุงูุชุนูููุงุช ุ ูุชุนูููุงุช dsp ูู mmdsp ุ ููุง ุฅูู ุฐูู ุ ุงูููุถุญุฉ ุจุงุณุชุฎุฏุงู ุชุนููู ุงูุชุนูููุงุช.  ูู ุงููุงูุน ุ ูู ูุชู ุงุณุชุฎุฏุงู ูุฐู ุงูุขููุฉ ุนูู ูุทุงู ูุงุณุน ุญุชู ุงูุขู ุ ูุฐูู ุจุจุณุงุทุฉ ูุฃู ูุนุธู ุงููุคุซุฑุงุช ุงูุฎูููุฉ ุจุฏุฃุช ูู ุงูุธููุฑ ูุจู ุธููุฑูุง ุ ูููู ุชุนูู ุ ูุง ุชุฒุงู ุจุญุงุฌุฉ ุฅูู ุชุนููู ุงูุฎุตุงุฆุต ุงูุตุญูุญุฉ ููุชุนูููุงุช ุ ูุจุงูุชุงูู ูุฅู ุงูุชุญูู ุฅูููุง ููุณ ุณููุงู ุฏุงุฆููุง ุ ููุฏ ุชุญุชุงุฌ ุฅูู ุจุนุถ ุฅุนุงุฏุฉ ุจูุน ุฏููู. <br><br>  ููุฐุง ุ ุนูู ุณุจูู ุงููุซุงู.  ูููุชุฑุถ ุฃู ูุฏููุง ุฃุดูุงููุง ูู ุงูุชุนูููุงุช ุฏูู ุชูุฏูุฑ ูุชุนูููุงุช ุญูุซ ุชููู ุงููุณูุฏ ุตุญูุญุฉ ููุงุฐุจุฉ ุนูู ุงูุชูุงูู.  ูุญู ูุตููู ุจูุณุงุนุฏุฉ ูุชุนุฏุฏ ุงูุทุจูุงุช ููุฆุฉ ุฎุงุตุฉ ุ ูุงูุชู ุณูู ูุณุชุฎุฏููุง ููุท ูุนุงูู ุชุตููุฉ.  ูุตู ูุจุณุท ุจุฏูู ูุนููุงุช ูุงูุนุฏูุฏ ูู ุงูุฎุตุงุฆุต ูุฏ ูููู ุดูุก ูู ูุฐุง ุงููุจูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PredRel</span></span></span><span class="hljs-class">; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">multiclass</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyInstruction</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">string</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-type"><span class="hljs-type">BaseOpcode</span></span> = name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> { def : <span class="hljs-type"><span class="hljs-type">PredRel</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-type"><span class="hljs-type">PredSense</span></span> = <span class="hljs-string"><span class="hljs-string">""</span></span>; } def _pt: <span class="hljs-type"><span class="hljs-type">PredRel</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-type"><span class="hljs-type">PredSense</span></span> = <span class="hljs-string"><span class="hljs-string">"true"</span></span>; } def _pf: <span class="hljs-type"><span class="hljs-type">PredRel</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> <span class="hljs-type"><span class="hljs-type">PredSense</span></span> = <span class="hljs-string"><span class="hljs-string">"false"</span></span>; } } } defm <span class="hljs-type"><span class="hljs-type">ADD</span></span>: <span class="hljs-type"><span class="hljs-type">MyInstruction</span></span>&lt;โ<span class="hljs-type"><span class="hljs-type">ADD</span></span>โ&gt;; defm <span class="hljs-type"><span class="hljs-type">SUB</span></span>: <span class="hljs-type"><span class="hljs-type">MyIntruction</span></span>&lt;โ<span class="hljs-type"><span class="hljs-type">SUB</span></span>โ&gt;; defm <span class="hljs-type"><span class="hljs-type">MUL</span></span>: <span class="hljs-type"><span class="hljs-type">MyInstruction</span></span>&lt;โ<span class="hljs-type"><span class="hljs-type">MUL</span></span>โ&gt;; โฆ</code> </pre> <br>  ูู ูุฐุง ุงููุซุงู ุ ุจุงูููุงุณุจุฉ ุ ูุชู ุฃูุถูุง ุฅุธูุงุฑ ููููุฉ ุชุฌุงูุฒ ุฎุงุตูุฉ ูุนุฏุฉ ุชุนุฑููุงุช ูู ููุช ูุงุญุฏ ุจุงุณุชุฎุฏุงู ุนูุงูุฉ <code>let โฆ in</code> ุงูุฅูุดุงุก.  ูุชูุฌุฉ ูุฐูู ุ ูุฏููุง ุงูุนุฏูุฏ ูู ุงูุฅุฑุดุงุฏุงุช ุงูุชู ุชุฎุฒู ุงุณููุง ุงูุฃุณุงุณู ูุงูููุชููุงุช ุงูุชู ุชุตู ุดูููุง ุจุดูู ูุฑูุฏ.  ุซู ููููู ุฅูุดุงุก ูููุฐุฌ ุงูุชุญูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="swift hljs">def getPredOpcode : <span class="hljs-type"><span class="hljs-type">InstrMapping</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ,       - PredRel  let FilterClass = "PredRel"; //         ,      let RowFields = ["BaseOpcode"]; //          PredSense. let ColFields = ["PredSense"]; //  ,  ,       ,     PredSense=โโ let KeyCol = [""]; //   PredSense      let ValueCols = [["true"], ["false"]]; }</span></span></code> </pre> <br>  ูุชูุฌุฉ ูุฐูู ุ ุณูุชู ุฅูุดุงุก ุงูุฌุฏูู ุงูุชุงูู ูู ูุฐุง ุงููุตู. <br><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><tbody><tr><th>  PredSense = "" </th><th>  PredSense = "ุตูุงุจ" </th><th>  PredSense = "ุฎุทุฃ" </th></tr><tr><td>  ุฃุถู </td><td>  ADD_pt </td><td>  ADD_pf </td></tr><tr><td>  SUB </td><td>  SUB_pt </td><td>  SUB_pf </td></tr><tr><td>  MUL </td><td>  MUL_pt </td><td>  MUL_pf </td></tr></tbody></table></div><br>  ุณูุชู ุฅูุดุงุก ูุธููุฉ ูู ููู <code>.inc</code> <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getPredOpcode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint16_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Opcode, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">enum</span></span></span></span><span class="hljs-function"><span class="hljs-params"> PredSense inPredSense)</span></span></span></span></code> </pre> <br>  ูุงูุชู ุ ููููุง ูุฐูู ุ ุชูุจู ุฑูุฒ ุชุนูููุงุช ููุชุญููู ููููุฉ ุงูุชุนุฏุงุฏ PredSense ุงูุฐู ุชู ุฅูุดุงุคู ุชููุงุฆููุง ุ ูุงูุฐู ูุญุชูู ุนูู ุฌููุน ุงูููู ุงูููููุฉ ูู ุงูุฃุนูุฏุฉ.  ุชูููุฐ ูุฐู ุงููุธููุฉ ุจุณูุท ุฌุฏุง ุ ูุฃูู  ุชููู ุจุฅุฑุฌุงุน ุนูุตุฑ ุงูุตููู ุงููุทููุจ ููุชุนูููุงุช ุงูุชู ุชูููุง. <br><br>  ููู ุงูููุฏ ุงูุฎููู ุ ุจุฏูุงู ูู ูุชุงุจุฉ ุญุงูุฉ <code>switch-case</code> ูููู ุงุณุชุฏุนุงุก ุงููุธููุฉ ุงูุชู ุชู ุฅูุดุงุคูุง ุ ูุงูุชู ุณุชูุฑุฌุน ุฑูุฒ ุงูุชุนูููุฉ ุงููุญููุฉ.  ูู ูุคุฏู ุงูุญู ุงูุจุณูุท ุ ุนูุฏ ุฅุถุงูุฉ ุชุนูููุงุช ุฌุฏูุฏุฉ ุ ุฅูู ุงูุญุงุฌุฉ ุฅูู ุงุชุฎุงุฐ ุฅุฌุฑุงุกุงุช ุฅุถุงููุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุงูุชุญู ุงูุชู ุชู ุฅูุดุงุคูุง ุชููุงุฆููุง (ูููุงุช <code>.inc</code> ) </h2><br>  ูุชู ุถูุงู ูู ุงูุชูุงุนู ุจูู ูุตู TableGen ูุฑูุฒ ุงููุงุฌูุฉ ุงูุฎูููุฉ LLVM ุจูุงุณุทุฉ ูููุงุช <code>.inc</code> ุงูุชู ุชู ุฅูุดุงุคูุง ูุงูุชู ุชุญุชูู ุนูู ุฑูุฒ C.  ููุญุตูู ุนูู ุตูุฑุฉ ูุงููุฉ ุ ุฏุนููุง ูุฑู ููููุงู ูุง ูู ุจุงูุถุจุท. <br><br>  ุจุนุฏ ูู ุจูุงุก ุ ููู ููุฏุณุฉ ุ ุณูููู ููุงู ุงูุนุฏูุฏ ูู ูููุงุช <code>.inc</code> ูู ุฏููู <code>.inc</code> ุ ูู ูููุง ูุฎุฒู ุฃุฌุฒุงุก ูููุตูุฉ ูู ุงููุนูููุงุช ุญูู ุงููููู.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญุชู ูุง ูููู ููุงู ููู </font></font><code>&lt;TargetName&gt;GenInstrInfo.inc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุชูู ุนูู ูุนูููุงุช ุญูู ุชุนูููุงุช </font></font><code>&lt;TargetName&gt;GenRegisterInfo.inc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุนูู ุงูุชูุงููุ ูุงูุฐู ูุญุชูู ุนูู ูุนูููุงุช ุญูู ุงูุณุฌูุงุช ูููุงู ูููุงุช ููุนูู ูุจุงุดุฑุฉ ูุน ุงููุฌูุน ูุงูุชุงุฌูุง </font></font><code>&lt;TargetName&gt;GenAsmMatcher.inc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>&lt;TargetName&gt;GenAsmWriter.inc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฎ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐู ูุงุฐุง ุชุชููู ูุฐู ุงููููุงุชุ ุจุดูู ุนุงู ุ ุชุญุชูู ุนูู ุชุนุฏุงุฏุงุช ููุตูููุงุช ูููุงูู ููุธุงุฆู ุจุณูุทุฉ. ุนูู ุณุจูู ุงููุซุงู ุ ููููู ุฅููุงุก ูุธุฑุฉ ุนูู ุงููุนูููุงุช ุงููุญููุฉ ูู ุงูุฅุฑุดุงุฏุงุช ุงููุงุฑุฏุฉ ูู </font></font><code>&lt;TargetName&gt;GenInstrInfo.inc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุงูุฌุฒุก ุงูุฃูู ุ ูู ูุณุงุญุฉ ุงูุงุณู ูุน ุงุณู ุงููุฏู ุ ููุฌุฏ ุชุนุฏุงุฏ ูุญุชูู ุนูู ุฌููุน ุงูุฅุฑุดุงุฏุงุช ุงูููุถุญุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> X86 { <span class="hljs-keyword"><span class="hljs-keyword">enum</span></span> { PHI = <span class="hljs-number"><span class="hljs-number">0</span></span>, โฆ ADD16i16 = <span class="hljs-number"><span class="hljs-number">287</span></span>, ADD16mi = <span class="hljs-number"><span class="hljs-number">288</span></span>, ADD16mi8 = <span class="hljs-number"><span class="hljs-number">289</span></span>, ADD16mr = <span class="hljs-number"><span class="hljs-number">290</span></span>, ADD16ri = <span class="hljs-number"><span class="hljs-number">291</span></span>, ADD16ri8 = <span class="hljs-number"><span class="hljs-number">292</span></span>, ADD16rm = <span class="hljs-number"><span class="hljs-number">293</span></span>, ADD16rr = <span class="hljs-number"><span class="hljs-number">294</span></span>, ADD16rr_REV = <span class="hljs-number"><span class="hljs-number">295</span></span>, โฆ }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุชุงูู ุตููู ูุตู ุฎุตุงุฆุต ุงูุชุนูููุงุช </font></font><code>const MCInstrDesc X86Insts[]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ุชุญุชูู ุงูุตูุงุฆู ุงูุชุงููุฉ ุนูู ูุนูููุงุช ุญูู ุฃุณูุงุก ุงูุชุนูููุงุช ุ ุฅูุฎ. </font><font style="vertical-align: inherit;">ูู ุงูุฃุณุงุณ ุ ูุชู ุชุฎุฒูู ุฌููุน ุงููุนูููุงุช ูู ุนูููุงุช ุงูููู ูุงููุตูููุงุช. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงู ุฃูุถุง ูุธุงุฆู ุงูุชู ุชู ูุตููุง ุจุงุณุชุฎุฏุงู ุงููุณูุฏุงุช. </font><font style="vertical-align: inherit;">ุจูุงุกู ุนูู ุชุนุฑูู ุฏุงูุฉ ุงูุชูููู ุงูุฐู ุชูุช ููุงูุดุชู ูู ุงููุณู ุงูุณุงุจู ุ ุณูุชู ุฅูุดุงุก ุงููุธููุฉ ุงูุชุงููุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> X86InstrInfo::isThreeOperandsLEA(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MachineInstr &amp;MI) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(MI.getOpcode()) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> X86::LEA32r: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> X86::LEA64r: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> X86::LEA64_32r: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> X86::LEA16r: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( MI.getOperand(<span class="hljs-number"><span class="hljs-number">1</span></span>).isReg() &amp;&amp; MI.getOperand(<span class="hljs-number"><span class="hljs-number">1</span></span>).getReg() != <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; MI.getOperand(<span class="hljs-number"><span class="hljs-number">3</span></span>).isReg() &amp;&amp; MI.getOperand(<span class="hljs-number"><span class="hljs-number">3</span></span>).getReg() != <span class="hljs-number"><span class="hljs-number">0</span></span> &amp;&amp; ( ( MI.getOperand(<span class="hljs-number"><span class="hljs-number">4</span></span>).isImm() &amp;&amp; MI.getOperand(<span class="hljs-number"><span class="hljs-number">4</span></span>).getImm() != <span class="hljs-number"><span class="hljs-number">0</span></span> ) || (MI.getOperand(<span class="hljs-number"><span class="hljs-number">4</span></span>).isGlobal()) ) ); <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-comment"><span class="hljs-comment">// end of switch-stmt }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ููุงู ุจูุงูุงุช ูู ุงููููุงุช ูุงูููุงูู ุงูุชู ุชู ุฅูุดุงุคูุง. </font><font style="vertical-align: inherit;">ูู </font></font><code>X86GenSubtargetInfo.inc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููู ุงูุนุซูุฑ ุนูู ูุซุงู ูููููู ุงูุฐู ูุฌุจ ุงุณุชุฎุฏุงูู ูู ุฑูุฒ ุงููุงุฌูุฉ ุงูุฎูููุฉ ููุญุตูู ุนูู ูุนูููุงุช ุญูู ุงููููู ุ ูู ุฎูุงูู ูู ุงููุณู ุงูุณุงุจู ุ ุชู ุฅููุงู ุชุดุบูู TTI.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">X86GenMCSubtargetInfo</span></span></span><span class="hljs-class"> :</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> MCSubtargetInfo { X86GenMCSubtargetInfo(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Triple &amp;TT, StringRef CPU, StringRef FS, ArrayRef&lt;SubtargetFeatureKV&gt; PF, ArrayRef&lt;SubtargetSubTypeKV&gt; PD, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MCWriteProcResEntry *WPR, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MCWriteLatencyEntry *WL, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> MCReadAdvanceEntry *RA, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> InstrStage *IS, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> *OC, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> *FP) : MCSubtargetInfo(TT, CPU, FS, PF, PD, WPR, WL, RA, IS, OC, FP) { } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">unsigned</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resolveVariantSchedClass</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">unsigned</span></span></span></span><span class="hljs-function"><span class="hljs-params"> SchedClass, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> MCInst *MI, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">unsigned</span></span></span></span><span class="hljs-function"><span class="hljs-params"> CPUID)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> override </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> X86_MC::resolveVariantSchedClassImpl(SchedClass, MI, CPUID); } };</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ุชู ุงุณุชุฎุฏุงูู </font></font><code>Subtarget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุตู ุงูุชููููุงุช ุงููุฎุชููุฉ </font></font><code>XXXGenSubtarget.inc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ุณูุชู ุฅูุดุงุก ุชุนุฏุงุฏ ุจุงูุฎุตุงุฆุต ุงูููุถุญุฉ ุจุงุณุชุฎุฏุงู </font></font><code>SubtargetFeature</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุตูุงุฆู ุฐุงุช ููู ุซุงุจุชุฉ ููุฅุดุงุฑุฉ ุฅูู ุฎุตุงุฆุต ูุฃููุงุน ูุฑุนูุฉ ููุญุฏุฉ ุงููุนุงูุฌุฉ ุงููุฑูุฒูุฉ ุ ูุณูุชู ุฅูุดุงุก ุฏุงูุฉ </font></font><code>ParseSubtargetFeatures</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุนุงูุฌ ุงูุณูุณูุฉ ุจุงุณุชุฎุฏุงู ูุฌููุนุฉ ุงูุฎูุงุฑุงุช </font></font><code>Subtarget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุนูุงูุฉ ุนูู ุฐูู ุ </font></font><code>XXXSubtarget</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฌุจ ุฃู ูุชูุงูู </font><font style="vertical-align: inherit;">ุชูููุฐ ุงูุทุฑููุฉ </font><font style="vertical-align: inherit;">ูู ุงูููุฏ ุงูุฎููู ูุน ุงูููุฏ ุงูุฒุงุฆู ุงูุชุงูู ุ ูุงูุฐู ูู ุงูุถุฑูุฑู ููู ุงุณุชุฎุฏุงู ูุฐู ุงููุธููุฉ:</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">XXXSubtarget::XXXSubtarget(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Module &amp;M, <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">string</span></span> &amp;FS) { <span class="hljs-comment"><span class="hljs-comment">// Set the default features // Determine default and user specified characteristics of the CPU // Call ParseSubtargetFeatures(FS, CPU) to parse the features string // Perform any additional operations }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูู ุงูุฑุบู ูู ุฃู </font></font><code>.inc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููููุงุช ุถุฎูุฉ ุฌุฏูุง ูุชุญุชูู ุนูู ูุตูููุงุช ุถุฎูุฉ ุ ูุฅู ูุฐุง ูุณูุญ ููุง ุจุชุญุณูู ููุช ุงููุตูู ุฅูู ุงููุนูููุงุช ุ ูุฃู ุงููุตูู ุฅูู ุนูุตุฑ ุงูุตููู ูู ููุช ุซุงุจุช. </font><font style="vertical-align: inherit;">ูุชู ุชูููุฐ ูุธุงุฆู ุงูุจุญุซ ุงูุชู ุชู ุฅูุดุงุคูุง ุจูุงุณุทุฉ ุงูุชุนูููุงุช ุจุงุณุชุฎุฏุงู ุฎูุงุฑุฒููุฉ ุงูุจุญุซ ุงูุซูุงุฆูุฉ ูุชูููู ููุช ุงูุชุดุบูู. </font><font style="vertical-align: inherit;">ูุฐูู ุงูุชุฎุฒูู ูู ูุฐุง ุงููููุฐุฌ ูู ูุง ูุจุฑุฑู ุชูุงูุง.</font></font><br><br><h2 style=";text-align:right;direction:rtl">  ุงุณุชูุชุงุฌ </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชูุฌุฉ ูุฐูู ุ ุจูุถู TableGen ูู LLVM ุ ูุฏููุง ุฃูุตุงู ูุนูุงุฑูุฉ ูุงุจูุฉ ูููุฑุงุกุฉ ููุฏุนููุฉ ุจุณูููุฉ ุจุชูุณูู ูุงุญุฏ ูุน ุขููุงุช ูุฎุชููุฉ ููุชูุงุนู ูุงููุตูู ุฅูู ุงููุนูููุงุช ูู ุดูุฑุฉ ูุตุฏุฑ ุงููุงุฌูุฉ ุงูุฎูููุฉ LLVM ูู ุฃุฌู ุงูุชุญุณููุงุช ูุฅูุดุงุก ุงูุดูุฑุฉ. </font><font style="vertical-align: inherit;">ูู ุงูููุช ููุณู ุ ูุง ูุคุซุฑ ูุซู ูุฐุง ุงููุตู ุนูู ุฃุฏุงุก ุจุฑูุงูุฌ ุงูุชุญููู ุงูุจุฑูุฌู ูุธุฑูุง ูุฑูุฒ ุชู ุฅูุดุงุคู ุชููุงุฆููุง ูุณุชุฎุฏู ุญููู ูุนุงูุฉ ูููุงูู ุงูุจูุงูุงุช.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar474460/">https://habr.com/ru/post/ar474460/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar474444/index.html">5 ูุดุงุฑูุน ุชุฏุฑูุจ ุฌุฑูุฆุฉ ุฃุฎุฑู ูููุทูุฑ (Layerุ Squooshุ Calculatorุ Website Crawlerุ Music Player)</a></li>
<li><a href="../ar474448/index.html">ูุง ุนูู ุงูุทุงูุจ ูู ุนุงูู ุงูููุจููุชุฑ ูุงุฏุฑ ุนูู</a></li>
<li><a href="../ar474450/index.html">ุงูุชููู ุนู ุงุณุชุฎุฏุงู TTL ุตุบูุฑ ูุจุนุซ ุนูู ุงูุณุฎุฑูุฉ ู DNS</a></li>
<li><a href="../ar474452/index.html">ุชูุฑูุฑ ุญุงูุฉ ุฎุฑูู ุงูุฎุฑูู</a></li>
<li><a href="../ar474458/index.html">ุงููุฌููุน ุงูุชุฑุงููู ูู SQL</a></li>
<li><a href="../ar474462/index.html">ูุฌููุนุฉ ุจูุงูุงุช ููุชูุญุฉ ุถุฎูุฉ ูู ุงูุฅุตุฏุงุฑ ุฎุทุงุจ ุงูุฑูุณูุฉ 1.0</a></li>
<li><a href="../ar474466/index.html">ุชุงุฑูุฎ ุฃูู ุฏูุงุจูู</a></li>
<li><a href="../ar474470/index.html">ูุฌูู DDoS ุนูู ุฎุฏูุงุช RDP: ุงูุชุนุฑู ูุงูุชุบูุจ ุนูููุง. ุชุฌุฑุจุฉ ูุงุฌุญุฉ ูู Tucha</a></li>
<li><a href="../ar474472/index.html">ูุงุฆูุฉ ูุญุต UX ุฐุงุช 30 ููุทุฉ ูุชุทุจููุงุช ุงูุฃุฌูุฒุฉ ุงููุญูููุฉ</a></li>
<li><a href="../ar474474/index.html">ูุนุงููุฑ ููุชูุญุฉ ูุงุฎุชุจุงุฑ ุชุญููู ุงูุฎูุงุฏู ูุชุทุจููุงุช ุงูููุจ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>