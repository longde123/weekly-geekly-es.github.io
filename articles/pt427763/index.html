<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÑ üë©üèª‚Äçüî¨ üà≥ Curso MIT "Seguran√ßa de sistemas de computadores". Aula 13: Protocolos de Rede, Parte 1 üçØ üõ†Ô∏è üó∫Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnologia de Massachusetts. Curso de Aula n¬∫ 6.858. "Seguran√ßa de sistemas de computador". Nikolai Zeldovich, James Mickens. 2014 ano 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Seguran√ßa de sistemas de computadores". Aula 13: Protocolos de Rede, Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/427763/"><h3>  Instituto de Tecnologia de Massachusetts.  Curso de Aula n¬∫ 6.858.  "Seguran√ßa de sistemas de computador".  Nikolai Zeldovich, James Mickens.  2014 ano </h3><br>  Computer Systems Security √© um curso sobre o desenvolvimento e implementa√ß√£o de sistemas de computador seguros.  As palestras abrangem modelos de amea√ßas, ataques que comprometem a seguran√ßa e t√©cnicas de seguran√ßa baseadas em trabalhos cient√≠ficos recentes.  Os t√≥picos incluem seguran√ßa do sistema operacional (SO), recursos, gerenciamento de fluxo de informa√ß√µes, seguran√ßa de idiomas, protocolos de rede, seguran√ßa de hardware e seguran√ßa de aplicativos da web. <br><br>  Palestra 1: ‚ÄúIntrodu√ß√£o: modelos de amea√ßas‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 2: ‚ÄúControle de ataques de hackers‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 3: ‚ÄúEstouros de Buffer: Explora√ß√µes e Prote√ß√£o‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 4: ‚ÄúSepara√ß√£o de Privil√©gios‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 5: ‚ÄúDe onde v√™m os sistemas de seguran√ßa?‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> <br>  Palestra 6: ‚ÄúOportunidades‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 7: ‚ÄúSandbox do Cliente Nativo‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 8: ‚ÄúModelo de Seguran√ßa de Rede‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 9: ‚ÄúSeguran√ßa de aplicativos da Web‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 10: ‚ÄúExecu√ß√£o Simb√≥lica‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 11: ‚ÄúLinguagem de Programa√ß√£o Ur / Web‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 12: Seguran√ßa de rede <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 13: ‚ÄúProtocolos de Rede‚Äù <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  Ent√£o, hoje falaremos sobre o Kerberos, um protocolo criptograficamente seguro projetado para autentica√ß√£o m√∫tua de computadores e aplicativos na rede.  Este √© um protocolo para autenticar o cliente e o servidor antes de estabelecer uma conex√£o entre eles. <br><br>  Ent√£o agora, finalmente, usaremos criptografia, ao contr√°rio da √∫ltima palestra, na qual examinamos a seguran√ßa usando apenas n√∫meros de sequ√™ncia TCP SYN. <br><br><img src="https://habrastorage.org/webt/aa/sx/c6/aasxc6pngmsryrxcw221kdinbtu.jpeg"><br><br>  Ent√£o, vamos falar sobre o Kerberos.  O que est√° tentando oferecer suporte a este protocolo?  Foi criado em nosso instituto h√° 25 ou 30 anos como parte do projeto Athena para garantir a intera√ß√£o de v√°rios computadores servidores e v√°rios computadores clientes. <br><br>  Imagine que voc√™ tem um servidor de arquivos em algum lugar.  Talvez seja um servidor de correio conectado √† rede ou outros servi√ßos de rede, como impressoras.  E tudo isso √© simplesmente conectado a alguma rede, e n√£o processos em um computador. <br><br><img src="https://habrastorage.org/webt/iv/w_/pv/ivw_pvxrpvrfedxl-95hkfhy5sm.jpeg"><br><br>  O pr√©-requisito para a cria√ß√£o do Athena e do Kerberos era que voc√™ tinha uma m√°quina para compartilhamento simult√¢neo, onde tudo era um processo separado, e todos podiam simplesmente entrar no mesmo sistema e armazenar seus arquivos l√°.  Portanto, os desenvolvedores queriam criar um sistema distribu√≠do mais conveniente. <br><br><img src="https://habrastorage.org/webt/ls/8f/2o/ls8f2og9jdzweljujcwlz5zwtos.jpeg"><br><br>  Portanto, isso significava que voc√™ teria esses servidores de um lado e v√°rias esta√ß√µes de trabalho do outro lado que os usu√°rios usariam a si mesmos e nas quais os aplicativos seriam executados.  Essas esta√ß√µes de trabalho se conectam a esses servidores e armazenam arquivos do usu√°rio, recebem seus emails e assim por diante. <br><br>  O problema que eles queriam resolver era como autenticar usu√°rios que usam essas esta√ß√µes de trabalho para todos esses computadores diferentes no lado do servidor, sem precisar confiar na rede e verificar sua corre√ß√£o.  Isso era, sob todos os aspectos, um requisito de design razo√°vel.  Devo mencionar que, na √©poca, a alternativa ao Kerberos era a equipe de logon R, discutida na √∫ltima palestra, que parecia um plano ruim, pois eles simplesmente usam seus endere√ßos IP para autenticar usu√°rios. <br><br>  O Kerberos foi bem-sucedido, ainda √© usado na rede MIT e √© a espinha dorsal do servidor Active Directory da Microsoft.  Quase todos os produtos baseados no Microsoft Windows Server usam Kerberos de uma forma ou de outra. <br><br>  Mas esse protocolo foi desenvolvido h√° 25 ou 30 anos e, desde ent√£o, s√£o necess√°rias mudan√ßas, pois hoje as pessoas entendem muito mais sobre seguran√ßa.  Portanto, a vers√£o atual do Kerberos √© visivelmente diferente em muitos aspectos da vers√£o descrita nos materiais desta palestra.  Vamos considerar quais suposi√ß√µes espec√≠ficas n√£o s√£o boas o suficiente hoje e o que estava errado na primeira vers√£o.  Isso √© inevit√°vel para o primeiro protocolo que realmente usou criptografia para autenticar os participantes da rede em um sistema completo. <br><br>  De qualquer forma, o diagrama descrito no quadro √© um tipo de instala√ß√£o para a cria√ß√£o do Kerberos.  √â interessante descobrir qual √© o modelo de confian√ßa.  Portanto, uma estrutura adicional √© introduzida em nosso esquema - o servidor Kerberos, localizado aqui ao lado. <br><br><img src="https://habrastorage.org/webt/no/e5/qc/noe5qcc_mqihmsjrhd4u22btfyq.jpeg"><br><br>  Assim, nosso terceiro modelo √©, de certa forma, baseado no fato de que a rede n√£o √© confi√°vel, como mencionamos na √∫ltima palestra.  Em quem devemos confiar nesse esquema Kerberos?  Obviamente, todos os participantes da rede devem confiar no servidor Kerberos.  Portanto, os criadores do sistema sugeriram que o servidor Kerberos seria respons√°vel por todas as verifica√ß√µes de autentica√ß√£o de rede de uma forma ou de outra.  O que mais temos nesta rede em que voc√™ pode confiar? <br><br>  <b>Aluno:</b> Os usu√°rios podem confiar em suas pr√≥prias m√°quinas. <br><br>  <b>Professor:</b> Sim, este √© um bom argumento.  Existem usu√°rios aqui que n√£o atra√≠.  Mas esses caras usam algum tipo de esta√ß√£o de trabalho e, de fato, no Kerberos √© muito importante que o usu√°rio confie em sua esta√ß√£o de trabalho.  O que acontece se voc√™ n√£o confiar na sua esta√ß√£o de trabalho?  Como se o usu√°rio n√£o confiar na esta√ß√£o de trabalho, voc√™ poder√° simplesmente "descobrir" sua senha e agir em seu nome. <br><br><img src="https://habrastorage.org/webt/id/ca/m4/idcam4ic2nhjlimp1e7mseuhkug.jpeg"><br><br>  <b>Aluno:</b> um invasor pode fazer muito mais, por exemplo, aprendendo seu ticket para o servidor Kerberos. <br><br>  <b>Professor:</b> sim, exatamente.  Ao fazer login, voc√™ digita sua senha, o que √© ainda pior do que um ticket.  Portanto, na verdade, h√° um pequeno problema com o Kerberos, se voc√™ n√£o confia na esta√ß√£o de trabalho.  Se voc√™ usa seu pr√≥prio laptop, n√£o √© t√£o assustador, mas a seguran√ßa de um computador p√∫blico est√° em d√∫vida.  Vamos considerar o que exatamente pode dar errado neste caso. <br><br>  <b>Aluno:</b> voc√™ deve confiar nos administradores do servidor e garantir que eles possam ter acesso privilegiado aos servidores um do outro. <br><br>  <b>Professor:</b> Eu acho que as pr√≥prias m√°quinas n√£o precisam confiar umas nas outras, por exemplo, o servidor de email n√£o precisa confiar no servidor de impress√£o ou no servidor de arquivos. <br><br>  <b>Aluno:</b> n√£o confie, mas tenha a capacidade de acessar um servidor ao qual o acesso por outro servidor n√£o √© suportado. <br><br>  <b>Professor:</b> sim, √© verdade.  Se voc√™ estabelecer uma rela√ß√£o de confian√ßa entre o servidor de correio e o servidor de impress√£o, mas apenas conceder ao servidor o acesso aos seus arquivos no servidor de arquivos por conveni√™ncia, isso poder√° ser abusado.  Portanto, voc√™ deve ter cuidado ao introduzir n√≠veis adicionais de confian√ßa ou trusts redundantes aqui. <br><br>  O que mais importa aqui?  Os servidores devem, de alguma forma, confiar em usu√°rios ou esta√ß√µes de trabalho?  Acho que n√£o.  O objetivo global do Kerberos era que o servidor a priori n√£o conhecesse todos esses usu√°rios ou esta√ß√µes de trabalho ou soubesse autentic√°-los, at√© que esses usu√°rios possam provar criptograficamente que s√£o usu√°rios leg√≠timos e devem ter acesso aos dados ou algo assim. mais do que o servidor gerencia. <br><br>  Vamos ver como o Kerberos funciona e qual √© sua arquitetura geral.  Vamos desenhar um servidor Kerberos em uma escala maior.  Atualmente, √© chamado KDC - Key Distribution Center, ou Key Providing Center.  Em algum lugar, existem usu√°rios e servi√ßos aos quais voc√™ pode se conectar.  O plano √© que o servidor Kerberos seja respons√°vel por armazenar a chave compartilhada para comunica√ß√£o entre o servidor Kerberos e cada entidade de computador no mundo ao seu redor.  Portanto, se o usu√°rio tiver algum tipo de chave de cliente Kc, o servidor Kerberos se lembrar√° dessa chave e a armazenar√° em algum lugar dentro de si.  Da mesma forma, a chave Ks de um servi√ßo ser√° conhecida apenas por esse servi√ßo, pelo servidor Kerberos e por mais ningu√©m.  Assim, voc√™ pode pensar nisso como um uso comum de senhas quando voc√™ conhece a senha e o Kerberos sabe, mas ningu√©m mais sabe. <br><br><img src="https://habrastorage.org/webt/zz/r5/te/zzr5tegw3kqrc5gnkfbjovkfido.jpeg"><br><br>  √â assim que voc√™s v√£o provar um para o outro que "eu sou o mesmo cara".  Obviamente, o servidor Kerberos precisar√° acompanhar quem possui essa chave, portanto, deve haver uma tabela na qual nomes de usu√°rio e nomes de servi√ßo, por exemplo, serv afs (este √© um servidor de arquivos), e as chaves correspondentes a eles ser√£o armazenadas. <br><br>  Ao mesmo tempo, o KDC √© respons√°vel por armazenar uma tabela gigante, n√£o muito grande em termos de n√∫mero de bytes, mas muito volumosa em n√∫mero de registros, porque leva em considera√ß√£o qualquer entidade de computador que viva na rede MIT que o servidor Kerberos deve conhecer.  Assim, temos dois tipos de interface. <br><br><img src="https://habrastorage.org/webt/o-/wu/rk/o-wurk1iestxze5fe8kj3pojzog.jpeg"><br><br>  Os materiais das palestras n√£o falam sobre isso com clareza suficiente, ou seja, a exist√™ncia dessas 2 interfaces √© simplesmente impl√≠cita.  De fato, existem realmente duas interfaces para uma m√°quina.  Um deles √© chamado Kerberos e o segundo √© TGS, Ticket Granting Service ou Ticket Service. <br><br>  De fato, no final, essas s√£o apenas duas maneiras de falar sobre a mesma coisa, e o protocolo √© apenas ligeiramente diferente para essas duas coisas.  Portanto, inicialmente, quando um usu√°rio faz login, ele "fala" com a interface superior, Kerberos, e envia a ele seu nome de cliente C, este pode ser seu nome de usu√°rio na rede da universidade Athena. <br><br>  O servidor responde a essa solicita√ß√£o com um tgs ticket ou informa√ß√µes do ticket; discutiremos os detalhes dessas informa√ß√µes um pouco mais tarde.  Ent√£o, quando voc√™ quiser conversar com algum servi√ßo, primeiro precisar√° acessar a interface TGS e informar: "Eu j√° efetuei login na interface Kerberos e agora quero conversar com o servidor S, que me fornecer√° um determinado servi√ßo". <br><br>  Ent√£o voc√™ dir√° ao TGS sobre o servidor com o qual deseja conversar, ap√≥s o qual retornar√° algo como um ticket para conversar com o servidor S. Depois, voc√™ poder√° finalmente conversar com o servidor de que precisa usando o ticket recebido para o servidor S. <br><br>  Este √© um tipo de plano de alto n√≠vel.  Ent√£o, por que duas interfaces s√£o usadas aqui?  Muitas perguntas podem ser feitas sobre isso.  No caso do servidor Ks, esse servi√ßo provavelmente ser√° armazenado em disco.  E o que acontece com esse Kc no lado do usu√°rio?  De onde vem esse Kc no Kerberos? <br><br><img src="https://habrastorage.org/webt/cs/7t/jk/cs7tjkqvcitmqxvwynwcq9-tbz8.jpeg"><br><br>  <b>Aluno:</b> esse Kc deve estar no banco de dados, na tabela do servidor KDC. <br><br>  <b>Professor:</b> sim, bem, a tecla C est√° aqui na tabela, neste gigantesco banco de dados.  Mas tamb√©m deve ser conhecido pelo usu√°rio, porque ele deve provar que √© um usu√°rio. <br><br>  <b>Aluno:</b> √© uma fun√ß√£o unidirecional que requer uma senha? <br><br>  <b>Professor:</b> sim, eles realmente t√™m um plano t√£o inteligente, onde o Kc √© obtido atrav√©s da hash da senha do usu√°rio ou de algum tipo de fun√ß√£o de gera√ß√£o de chave, pois existem v√°rios m√©todos diferentes.  Mas basicamente pegamos a senha, convertemos de alguma forma e obtemos essa chave Kc.  Ent√£o, isso parece ser um bom caminho. <br><br>  Mas por que precisamos de dois protocolos?  Afinal, voc√™ pode imaginar que simplesmente solicita um ticket diretamente da primeira interface do Kerberos, dizendo a ele: ‚Äúei, eu quero um ticket para esse nome em particular!‚Äù, Ele enviar√° o ticket de volta e voc√™ poder√° descriptograf√°-lo usando o Kc. <br><br>  <b>Aluno:</b> talvez eles n√£o desejem que o usu√°rio digite novamente sua senha sempre que quiser acessar outro servi√ßo? <br><br>  <b>Professor:</b> verdade, a raz√£o da diferen√ßa entre as duas interfaces √© que, desde a primeira interface, todas as respostas s√£o retornadas criptografadas com sua chave Kc, e os criadores do Kerberos estavam preocupados com a possibilidade de salvar esse Kc por um longo tempo.  Porque voc√™ precisa pedir ao usu√°rio para digitar a senha todas as vezes, o que √© apenas irritante, ou ele fica "constantemente" na mem√≥ria.  Basicamente, isso √© t√£o bom quanto apenas uma senha de usu√°rio, porque algu√©m com acesso ao Kc pode manter o acesso aos arquivos do usu√°rio at√© que o usu√°rio talvez mude sua senha ou at√© mais.  Mais tarde, consideraremos esse problema com mais detalhes. <br><br>  Portanto, vazar essa chave Kc √© uma coisa muito perigosa.  Portanto, o objetivo de usar a primeira e a segunda interface para todas as solicita√ß√µes subsequentes √© que voc√™ pode realmente esquecer o Kc assim que descriptografar a resposta da interface TGS do servidor Kerberos.  A partir de agora, mesmo no caso de um vazamento de chave, a funcionalidade depender√° do ticket recebido.  Portanto, na pior das hip√≥teses, algu√©m ter√° acesso √† sua conta por algumas horas e n√£o por um per√≠odo ilimitado de tempo.  Esse √© o motivo de um esquema com dois caminhos de acesso aos mesmos recursos. <br><br>  Portanto, antes de nos aprofundarmos na mec√¢nica de como esses protocolos realmente aparentam na rede, vamos falar um pouco sobre o aspecto dos nomes Kerberos.  Em certo sentido, o Kerberos pode ser considerado um registro de nomes.  Ele √© respons√°vel por exibir essas chaves criptogr√°ficas como nomes em min√∫sculas.  Este √© o tipo fundamental de opera√ß√£o que o Kerberos executa.  Voc√™ ver√° na pr√≥xima aula por que precisamos de uma fun√ß√£o semelhante.  Ele pode ser implementado de forma diferente do Kerberos, mas √© fundamentalmente muito importante ter uma coisa semelhante em quase qualquer sistema de seguran√ßa distribu√≠do.  Ent√£o, vamos ver como o Kerberos lida com nomes. <br><br>  O Kerberos possui algo como chamadas de sistema para cada entidade do computador no banco de dados de membros da rede, e a forma principal desses dados √© apenas uma string.  Assim, voc√™ pode ter alguns nomes b√°sicos em um formato como nickolai, por exemplo.  Esta √© a cadeia de nomes. <br><br><img src="https://habrastorage.org/webt/n4/wu/ym/n4wuymwkej2bg3mwkvlgm7tb60q.jpeg"><br><br>  √â o par√¢metro principal em alguma √°rea do Kerberos; na verdade, √© isso que est√° na coluna esquerda da tabela KDC.  E tamb√©m existem alguns par√¢metros adicionais que o protocolo suporta.  Eu poderia, por exemplo, inserir outro nome como nickolai.extra sec, que seria usado al√©m do nome nickolai para acessar recursos que precisam de seguran√ßa adicional.  Talvez eu tenha uma senha para coisas realmente seguras e outra para minha conta normal. <br><br>  Kerberos mencionou esse aspecto.  Portanto, pode-se perguntar - de onde vem o impacto?  O servi√ßo Kerberos mapeia nomes para determinadas chaves, mas como voc√™ sabe qual nome perguntar ou qual nome esperar em resposta quando estiver conversando com algum computador?  Ou seja, pergunto quais nomes aparecem fora do servidor Kerberos ou onde exatamente esses nomes de usu√°rio aparecem?  Voc√™ tem alguma ideia? <br><br>  <b>Aluno:</b> presumivelmente, voc√™ pode solicitar nomes de usu√°rios no servidor MIT. <br><br>  <b>Professor:</b> sim, claro.  √â assim que voc√™ pode listar essas coisas.  Al√©m disso, os usu√°rios simplesmente os inserem quando fazem login, e √© da√≠ que eles v√™m.  Os nomes de usu√°rio aparecem em outro lugar?  Eles deveriam aparecer em outro lugar? <br><br>  <b>Aluno:</b> √© poss√≠vel que o acesso do usu√°rio seja indicado nas listas em v√°rios servi√ßos. <br><br>  <b>Professor:</b> sim, esse √© um ponto muito importante, certo?  O objetivo do Kerberos √© simplesmente mapear chaves para nomes.  Mas isso n√£o diz a que nome esse nome deve ter acesso. <br><br>  De fato, a maneira como os aplicativos normalmente usam o Kerberos √© que um desses servidores usa o Kerberos para descobrir com qual nome em min√∫sculas est√° falando.  Quando o servidor de email recebe uma conex√£o de alguma esta√ß√£o de trabalho, recebe um t√≠quete Kerberos, o que prova que esse usu√°rio √© Nikolai.  Depois disso, o servidor de correio descobre internamente o que esse usu√°rio tem acesso.  O servidor de arquivos faz o mesmo. <br><br>  Assim, dentro de todos esses servidores existem listas de controle de acesso, possivelmente listas de grupos ou outras coisas que realizam autoriza√ß√£o.  Portanto, o Kerberos fornece autentica√ß√£o que mostra com quem essa pessoa est√° falando.  O servi√ßo em si √© respons√°vel pela implementa√ß√£o dessa parte da autoriza√ß√£o, que decide qual n√≠vel de acesso voc√™ deve ter com base no seu nome de usu√°rio.  Ent√£o descobrimos onde os nomes de usu√°rio aparecem.  Existem outros nomes b√°sicos que o Kerberos suporta para interagir com servi√ßos. <br><br>  De acordo com o material da palestra, os servi√ßos s√£o mais ou menos assim: rcmd.hostname.  O motivo de voc√™ precisar de um nome para um desses servi√ßos √© porque deseja, por exemplo, ao conectar-se a um servidor de arquivos, executar autentica√ß√£o m√∫tua.  Isso significa que, neste procedimento, n√£o apenas o servidor de destino descobrir√° quem eu sou, mas tamb√©m eu, o usu√°rio ou a esta√ß√£o de trabalho, verifique se estou falando com o servidor de arquivos correto, e n√£o com um servidor de arquivos falso que falsificou o meu arquivos  Porque, talvez, eu queira examinar o arquivo com minhas classifica√ß√µes e envi√°-lo ao registrador.  Portanto, seria muito ruim se algum outro servidor de arquivos pudesse atuar como o servidor correto e me fornecer o arquivo de classifica√ß√µes errado. <br><br>  Portanto, os servi√ßos tamb√©m precisam de seu pr√≥prio nome e as esta√ß√µes de trabalho devem descobrir qual o nome que espero ver ao me conectar ao servi√ßo. <br><br><img src="https://habrastorage.org/webt/rv/fp/ke/rvfpkej9wugk_ucu5pt3ssxgfe4.jpeg"><br><br>  Como regra, em algum n√≠vel, isso vem do usu√°rio.  Portanto, por exemplo, se eu digitar ssh.foo, isso significa que devo esperar que um nome principal do Kerberos como rcmd.foo apare√ßa na outra extremidade dessa conex√£o.  E se algu√©m estiver l√°, o cliente SSH deve desconectar e n√£o permitir que eu me conecte, pois serei enganado e come√ßarei a conversar com outra m√°quina. <br><br>  Isso levanta uma quest√£o interessante.  Quando podemos reutilizar nomes no Kerberos?  Por exemplo, todos voc√™s t√™m contas no sistema do instituto Athena.  Ao se formar, o MIT pode destruir sua entrada no banco de dados e permitir que outra pessoa registre o mesmo nome de usu√°rio?  Seria uma boa ideia? <br><br>  <b>Aluno:</b> mas n√£o apenas o banco de dados Kerberos, mas tamb√©m os servi√ßos t√™m uma lista de nomes de usu√°rio? <br><br>  <b>Professor:</b> sim, porque esses nomes s√£o na verdade apenas representados por entradas de sequ√™ncia em algum lugar da ACL em um arquivo ou servidor de email.  Se apagarmos sua entrada no banco de dados do servidor Kerberos, isso n√£o significa que sua entrada tenha desaparecido completamente.  Essas entradas s√£o independentes da vers√£o. <br><br>  Por exemplo, um registro diz que Alice tem acesso a um arm√°rio Athena.  Em seguida, Alice se forma e seu registro √© exclu√≠do, mas uma nova Alice entra no instituto, que passa pelo processo de registro no banco de dados Kerberos.  Ao mesmo tempo, ela obt√©m o nome principal que √© completamente id√™ntico ao nome da antiga Alice, para que o servidor de arquivos possa dar √† nova Alice acesso aos arquivos da antiga Alice. <br><br>  ,  Kerberos       ,     Kerberos          .       ,       ,  ,       . <br><br>         .         ,      , , ,      ,      .  ,  ,  , -              .          ,       . ,     ,                . <br><br>    ,    .     ,       ,   ,    TGS. <br><br><img src="https://habrastorage.org/webt/lg/d8/_o/lgd8_ocxwlsxvtydhzfeawwtgco.jpeg"><br><br> ,    ,   Kerberos,    ¬´¬ª.          :        s  , IP ‚Äì   addr,   time stump,   life, ,       ,   Kc,s,       .     . <br><br><img src="https://habrastorage.org/webt/9_/hn/sw/9_hnswj4t5tsgewetdx7q9p03tk.jpeg"><br><br>      . <br><br>        ,  Kerberos  ¬´¬ª.   Ac           , IP-    , ,     .  ,    .    K,s,       ,    Kerberos     Ks.  ,         . <br><br><img src="https://habrastorage.org/webt/yi/cd/vo/yicdvogy_ssgbsmoz8-holttrsw.jpeg"><br><br>  ,    ,        Kerberos     TGS.    ,    ,         Kerberos,   ,     .       :     C,      ,     S,       TGS.       . <br><br>        Tc,s,   Ks,     ,     Ks, ,       Kc.     . <br><br><img src="https://habrastorage.org/webt/ja/wh/-k/jawh-k-gpxf2bec3_whvha2vm-a.jpeg"><br><br>      .  ,   Kerberos    ?   ,     ? <br><br> <b>:</b>   ,     ,   ,     Kc. <br><br> <b>:</b>  ,  ,   Kerberos     ,      .     : ¬´,     ,     .      ,    ,      ,    Kc¬ª.     ,           . <br><br>  ,   ,     ,          Kerberos,       Kerberos   ,       . ,  ,   -     Kerberos,       ,        . <br> :           ‚Ä¶ <br><br> <b>:</b> ,   ,      Kerberos, ?  ,    ?   ,  ,     ,       ,     ,     ,   ,      ,     ,    . <br><br><img src="https://habrastorage.org/webt/hn/l-/ga/hnl-gavysqh5frbpm17abmclcqc.jpeg"><br><br>    ¬´¬ª,   ,    , ,       ,   .  ,           ,     .        .          Kerberos,       ,   .          ,    ,   . <br><br> <b>:</b>        ?     ,   ‚Ä¶ <br><br> <b>:</b> ,        .    ,   Kerberos      ,         .       ,   ,         -         ,     ,   ,             .  30      ,         . <br><br>    Kerberos 5  :  ,   ‚Äî             .         ,  ,     ,     ,   . <br><br>   Kerberos 4      ,         , , .     ,         .      ,              ,       . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, este √© o plano para informar ao cliente se seu ticket √© v√°lido. </font><font style="vertical-align: inherit;">Eles est√£o apenas tentando decifr√°-lo e ver como ele funciona. </font><font style="vertical-align: inherit;">Outra pergunta interessante - por que essa chave Kc, s, de alguma forma, est√° inclu√≠da no ticket duas vezes? </font><font style="vertical-align: inherit;">Est√° presente no ticket separadamente como a chave Kc, se est√° implicitamente presente no pr√≥prio ticket Tc, s. </font><font style="vertical-align: inherit;">Por que temos duas c√≥pias da chave Kc, s? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27:10 min. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Curso MIT "Computer Systems Security". </font><font style="vertical-align: inherit;">Aula 13: Protocolos de Rede, Parte 2</font></font></a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/QOtA76ga_fY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A vers√£o completa do curso est√° dispon√≠vel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  Obrigado por ficar conosco.  Voc√™ gosta dos nossos artigos?  Deseja ver materiais mais interessantes?  Ajude-nos fazendo um pedido ou recomendando a seus amigos, um <b>desconto de 30% para os usu√°rios da Habr em um an√°logo exclusivo de servidores b√°sicos que inventamos para voc√™:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Toda a verdade sobre o VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps da US $ 20 ou como dividir o servidor?</a>  (as op√ß√µes est√£o dispon√≠veis com RAID1 e RAID10, at√© 24 n√∫cleos e at√© 40GB DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD de 1Gbps at√© dezembro de gra√ßa</b> quando pagar por um per√≠odo de seis meses, voc√™ pode fazer o pedido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  <b>Dell R730xd 2 vezes mais barato?</b>  Somente n√≥s temos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2 TVs Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 a partir de US $ 249</a> na Holanda e nos EUA!</b>  Leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como criar um pr√©dio de infraestrutura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt427763/">https://habr.com/ru/post/pt427763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt427751/index.html">CudaText Sublime Ideas</a></li>
<li><a href="../pt427755/index.html">Nova vers√£o do GitLab 11.4 com revis√£o por pares de solicita√ß√µes de mesclagem e sinalizadores de recursos</a></li>
<li><a href="../pt427757/index.html">Backdoors de microc√≥digo montados no processador X86</a></li>
<li><a href="../pt427759/index.html">Sobre a resolubilidade de problemas na via em tempo polinomial</a></li>
<li><a href="../pt427761/index.html">Implementa√ß√£o do algoritmo k-means (k-means) usando o exemplo de trabalho com pixels</a></li>
<li><a href="../pt427767/index.html">Situa√ß√£o: no Canad√°, eles propuseram a introdu√ß√£o de um imposto sobre streaming - estamos discutindo qual √© o problema.</a></li>
<li><a href="../pt427771/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Aula 13: Protocolos de Rede, Parte 2</a></li>
<li><a href="../pt427773/index.html">Eu escrevi uma extens√£o entre navegadores para guias, mas voc√™ n√£o faz isso</a></li>
<li><a href="../pt427775/index.html">Um bot disfar√ßado de programador corrige erros no c√≥digo</a></li>
<li><a href="../pt427779/index.html">Curso MIT "Seguran√ßa de sistemas de computadores". Aula 13: Protocolos de Rede, Parte 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>