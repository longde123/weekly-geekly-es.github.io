<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💄 👩🏻‍🔬 🈳 Curso MIT "Segurança de sistemas de computadores". Aula 13: Protocolos de Rede, Parte 1 🍯 🛠️ 🗺️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instituto de Tecnologia de Massachusetts. Curso de Aula nº 6.858. "Segurança de sistemas de computador". Nikolai Zeldovich, James Mickens. 2014 ano 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Curso MIT "Segurança de sistemas de computadores". Aula 13: Protocolos de Rede, Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/427763/"><h3>  Instituto de Tecnologia de Massachusetts.  Curso de Aula nº 6.858.  "Segurança de sistemas de computador".  Nikolai Zeldovich, James Mickens.  2014 ano </h3><br>  Computer Systems Security é um curso sobre o desenvolvimento e implementação de sistemas de computador seguros.  As palestras abrangem modelos de ameaças, ataques que comprometem a segurança e técnicas de segurança baseadas em trabalhos científicos recentes.  Os tópicos incluem segurança do sistema operacional (SO), recursos, gerenciamento de fluxo de informações, segurança de idiomas, protocolos de rede, segurança de hardware e segurança de aplicativos da web. <br><br>  Palestra 1: “Introdução: modelos de ameaças” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 2: “Controle de ataques de hackers” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 3: “Estouros de Buffer: Explorações e Proteção” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 4: “Separação de Privilégios” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 5: “De onde vêm os sistemas de segurança?” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> <br>  Palestra 6: “Oportunidades” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 7: “Sandbox do Cliente Nativo” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 8: “Modelo de Segurança de Rede” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 9: “Segurança de aplicativos da Web” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Palestra 10: “Execução Simbólica” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 11: “Linguagem de Programação Ur / Web” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 12: Segurança de rede <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <br>  Aula 13: “Protocolos de Rede” <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3</a> <a name="habracut"></a><br><br>  Então, hoje falaremos sobre o Kerberos, um protocolo criptograficamente seguro projetado para autenticação mútua de computadores e aplicativos na rede.  Este é um protocolo para autenticar o cliente e o servidor antes de estabelecer uma conexão entre eles. <br><br>  Então agora, finalmente, usaremos criptografia, ao contrário da última palestra, na qual examinamos a segurança usando apenas números de sequência TCP SYN. <br><br><img src="https://habrastorage.org/webt/aa/sx/c6/aasxc6pngmsryrxcw221kdinbtu.jpeg"><br><br>  Então, vamos falar sobre o Kerberos.  O que está tentando oferecer suporte a este protocolo?  Foi criado em nosso instituto há 25 ou 30 anos como parte do projeto Athena para garantir a interação de vários computadores servidores e vários computadores clientes. <br><br>  Imagine que você tem um servidor de arquivos em algum lugar.  Talvez seja um servidor de correio conectado à rede ou outros serviços de rede, como impressoras.  E tudo isso é simplesmente conectado a alguma rede, e não processos em um computador. <br><br><img src="https://habrastorage.org/webt/iv/w_/pv/ivw_pvxrpvrfedxl-95hkfhy5sm.jpeg"><br><br>  O pré-requisito para a criação do Athena e do Kerberos era que você tinha uma máquina para compartilhamento simultâneo, onde tudo era um processo separado, e todos podiam simplesmente entrar no mesmo sistema e armazenar seus arquivos lá.  Portanto, os desenvolvedores queriam criar um sistema distribuído mais conveniente. <br><br><img src="https://habrastorage.org/webt/ls/8f/2o/ls8f2og9jdzweljujcwlz5zwtos.jpeg"><br><br>  Portanto, isso significava que você teria esses servidores de um lado e várias estações de trabalho do outro lado que os usuários usariam a si mesmos e nas quais os aplicativos seriam executados.  Essas estações de trabalho se conectam a esses servidores e armazenam arquivos do usuário, recebem seus emails e assim por diante. <br><br>  O problema que eles queriam resolver era como autenticar usuários que usam essas estações de trabalho para todos esses computadores diferentes no lado do servidor, sem precisar confiar na rede e verificar sua correção.  Isso era, sob todos os aspectos, um requisito de design razoável.  Devo mencionar que, na época, a alternativa ao Kerberos era a equipe de logon R, discutida na última palestra, que parecia um plano ruim, pois eles simplesmente usam seus endereços IP para autenticar usuários. <br><br>  O Kerberos foi bem-sucedido, ainda é usado na rede MIT e é a espinha dorsal do servidor Active Directory da Microsoft.  Quase todos os produtos baseados no Microsoft Windows Server usam Kerberos de uma forma ou de outra. <br><br>  Mas esse protocolo foi desenvolvido há 25 ou 30 anos e, desde então, são necessárias mudanças, pois hoje as pessoas entendem muito mais sobre segurança.  Portanto, a versão atual do Kerberos é visivelmente diferente em muitos aspectos da versão descrita nos materiais desta palestra.  Vamos considerar quais suposições específicas não são boas o suficiente hoje e o que estava errado na primeira versão.  Isso é inevitável para o primeiro protocolo que realmente usou criptografia para autenticar os participantes da rede em um sistema completo. <br><br>  De qualquer forma, o diagrama descrito no quadro é um tipo de instalação para a criação do Kerberos.  É interessante descobrir qual é o modelo de confiança.  Portanto, uma estrutura adicional é introduzida em nosso esquema - o servidor Kerberos, localizado aqui ao lado. <br><br><img src="https://habrastorage.org/webt/no/e5/qc/noe5qcc_mqihmsjrhd4u22btfyq.jpeg"><br><br>  Assim, nosso terceiro modelo é, de certa forma, baseado no fato de que a rede não é confiável, como mencionamos na última palestra.  Em quem devemos confiar nesse esquema Kerberos?  Obviamente, todos os participantes da rede devem confiar no servidor Kerberos.  Portanto, os criadores do sistema sugeriram que o servidor Kerberos seria responsável por todas as verificações de autenticação de rede de uma forma ou de outra.  O que mais temos nesta rede em que você pode confiar? <br><br>  <b>Aluno:</b> Os usuários podem confiar em suas próprias máquinas. <br><br>  <b>Professor:</b> Sim, este é um bom argumento.  Existem usuários aqui que não atraí.  Mas esses caras usam algum tipo de estação de trabalho e, de fato, no Kerberos é muito importante que o usuário confie em sua estação de trabalho.  O que acontece se você não confiar na sua estação de trabalho?  Como se o usuário não confiar na estação de trabalho, você poderá simplesmente "descobrir" sua senha e agir em seu nome. <br><br><img src="https://habrastorage.org/webt/id/ca/m4/idcam4ic2nhjlimp1e7mseuhkug.jpeg"><br><br>  <b>Aluno:</b> um invasor pode fazer muito mais, por exemplo, aprendendo seu ticket para o servidor Kerberos. <br><br>  <b>Professor:</b> sim, exatamente.  Ao fazer login, você digita sua senha, o que é ainda pior do que um ticket.  Portanto, na verdade, há um pequeno problema com o Kerberos, se você não confia na estação de trabalho.  Se você usa seu próprio laptop, não é tão assustador, mas a segurança de um computador público está em dúvida.  Vamos considerar o que exatamente pode dar errado neste caso. <br><br>  <b>Aluno:</b> você deve confiar nos administradores do servidor e garantir que eles possam ter acesso privilegiado aos servidores um do outro. <br><br>  <b>Professor:</b> Eu acho que as próprias máquinas não precisam confiar umas nas outras, por exemplo, o servidor de email não precisa confiar no servidor de impressão ou no servidor de arquivos. <br><br>  <b>Aluno:</b> não confie, mas tenha a capacidade de acessar um servidor ao qual o acesso por outro servidor não é suportado. <br><br>  <b>Professor:</b> sim, é verdade.  Se você estabelecer uma relação de confiança entre o servidor de correio e o servidor de impressão, mas apenas conceder ao servidor o acesso aos seus arquivos no servidor de arquivos por conveniência, isso poderá ser abusado.  Portanto, você deve ter cuidado ao introduzir níveis adicionais de confiança ou trusts redundantes aqui. <br><br>  O que mais importa aqui?  Os servidores devem, de alguma forma, confiar em usuários ou estações de trabalho?  Acho que não.  O objetivo global do Kerberos era que o servidor a priori não conhecesse todos esses usuários ou estações de trabalho ou soubesse autenticá-los, até que esses usuários possam provar criptograficamente que são usuários legítimos e devem ter acesso aos dados ou algo assim. mais do que o servidor gerencia. <br><br>  Vamos ver como o Kerberos funciona e qual é sua arquitetura geral.  Vamos desenhar um servidor Kerberos em uma escala maior.  Atualmente, é chamado KDC - Key Distribution Center, ou Key Providing Center.  Em algum lugar, existem usuários e serviços aos quais você pode se conectar.  O plano é que o servidor Kerberos seja responsável por armazenar a chave compartilhada para comunicação entre o servidor Kerberos e cada entidade de computador no mundo ao seu redor.  Portanto, se o usuário tiver algum tipo de chave de cliente Kc, o servidor Kerberos se lembrará dessa chave e a armazenará em algum lugar dentro de si.  Da mesma forma, a chave Ks de um serviço será conhecida apenas por esse serviço, pelo servidor Kerberos e por mais ninguém.  Assim, você pode pensar nisso como um uso comum de senhas quando você conhece a senha e o Kerberos sabe, mas ninguém mais sabe. <br><br><img src="https://habrastorage.org/webt/zz/r5/te/zzr5tegw3kqrc5gnkfbjovkfido.jpeg"><br><br>  É assim que vocês vão provar um para o outro que "eu sou o mesmo cara".  Obviamente, o servidor Kerberos precisará acompanhar quem possui essa chave, portanto, deve haver uma tabela na qual nomes de usuário e nomes de serviço, por exemplo, serv afs (este é um servidor de arquivos), e as chaves correspondentes a eles serão armazenadas. <br><br>  Ao mesmo tempo, o KDC é responsável por armazenar uma tabela gigante, não muito grande em termos de número de bytes, mas muito volumosa em número de registros, porque leva em consideração qualquer entidade de computador que viva na rede MIT que o servidor Kerberos deve conhecer.  Assim, temos dois tipos de interface. <br><br><img src="https://habrastorage.org/webt/o-/wu/rk/o-wurk1iestxze5fe8kj3pojzog.jpeg"><br><br>  Os materiais das palestras não falam sobre isso com clareza suficiente, ou seja, a existência dessas 2 interfaces é simplesmente implícita.  De fato, existem realmente duas interfaces para uma máquina.  Um deles é chamado Kerberos e o segundo é TGS, Ticket Granting Service ou Ticket Service. <br><br>  De fato, no final, essas são apenas duas maneiras de falar sobre a mesma coisa, e o protocolo é apenas ligeiramente diferente para essas duas coisas.  Portanto, inicialmente, quando um usuário faz login, ele "fala" com a interface superior, Kerberos, e envia a ele seu nome de cliente C, este pode ser seu nome de usuário na rede da universidade Athena. <br><br>  O servidor responde a essa solicitação com um tgs ticket ou informações do ticket; discutiremos os detalhes dessas informações um pouco mais tarde.  Então, quando você quiser conversar com algum serviço, primeiro precisará acessar a interface TGS e informar: "Eu já efetuei login na interface Kerberos e agora quero conversar com o servidor S, que me fornecerá um determinado serviço". <br><br>  Então você dirá ao TGS sobre o servidor com o qual deseja conversar, após o qual retornará algo como um ticket para conversar com o servidor S. Depois, você poderá finalmente conversar com o servidor de que precisa usando o ticket recebido para o servidor S. <br><br>  Este é um tipo de plano de alto nível.  Então, por que duas interfaces são usadas aqui?  Muitas perguntas podem ser feitas sobre isso.  No caso do servidor Ks, esse serviço provavelmente será armazenado em disco.  E o que acontece com esse Kc no lado do usuário?  De onde vem esse Kc no Kerberos? <br><br><img src="https://habrastorage.org/webt/cs/7t/jk/cs7tjkqvcitmqxvwynwcq9-tbz8.jpeg"><br><br>  <b>Aluno:</b> esse Kc deve estar no banco de dados, na tabela do servidor KDC. <br><br>  <b>Professor:</b> sim, bem, a tecla C está aqui na tabela, neste gigantesco banco de dados.  Mas também deve ser conhecido pelo usuário, porque ele deve provar que é um usuário. <br><br>  <b>Aluno:</b> é uma função unidirecional que requer uma senha? <br><br>  <b>Professor:</b> sim, eles realmente têm um plano tão inteligente, onde o Kc é obtido através da hash da senha do usuário ou de algum tipo de função de geração de chave, pois existem vários métodos diferentes.  Mas basicamente pegamos a senha, convertemos de alguma forma e obtemos essa chave Kc.  Então, isso parece ser um bom caminho. <br><br>  Mas por que precisamos de dois protocolos?  Afinal, você pode imaginar que simplesmente solicita um ticket diretamente da primeira interface do Kerberos, dizendo a ele: “ei, eu quero um ticket para esse nome em particular!”, Ele enviará o ticket de volta e você poderá descriptografá-lo usando o Kc. <br><br>  <b>Aluno:</b> talvez eles não desejem que o usuário digite novamente sua senha sempre que quiser acessar outro serviço? <br><br>  <b>Professor:</b> verdade, a razão da diferença entre as duas interfaces é que, desde a primeira interface, todas as respostas são retornadas criptografadas com sua chave Kc, e os criadores do Kerberos estavam preocupados com a possibilidade de salvar esse Kc por um longo tempo.  Porque você precisa pedir ao usuário para digitar a senha todas as vezes, o que é apenas irritante, ou ele fica "constantemente" na memória.  Basicamente, isso é tão bom quanto apenas uma senha de usuário, porque alguém com acesso ao Kc pode manter o acesso aos arquivos do usuário até que o usuário talvez mude sua senha ou até mais.  Mais tarde, consideraremos esse problema com mais detalhes. <br><br>  Portanto, vazar essa chave Kc é uma coisa muito perigosa.  Portanto, o objetivo de usar a primeira e a segunda interface para todas as solicitações subsequentes é que você pode realmente esquecer o Kc assim que descriptografar a resposta da interface TGS do servidor Kerberos.  A partir de agora, mesmo no caso de um vazamento de chave, a funcionalidade dependerá do ticket recebido.  Portanto, na pior das hipóteses, alguém terá acesso à sua conta por algumas horas e não por um período ilimitado de tempo.  Esse é o motivo de um esquema com dois caminhos de acesso aos mesmos recursos. <br><br>  Portanto, antes de nos aprofundarmos na mecânica de como esses protocolos realmente aparentam na rede, vamos falar um pouco sobre o aspecto dos nomes Kerberos.  Em certo sentido, o Kerberos pode ser considerado um registro de nomes.  Ele é responsável por exibir essas chaves criptográficas como nomes em minúsculas.  Este é o tipo fundamental de operação que o Kerberos executa.  Você verá na próxima aula por que precisamos de uma função semelhante.  Ele pode ser implementado de forma diferente do Kerberos, mas é fundamentalmente muito importante ter uma coisa semelhante em quase qualquer sistema de segurança distribuído.  Então, vamos ver como o Kerberos lida com nomes. <br><br>  O Kerberos possui algo como chamadas de sistema para cada entidade do computador no banco de dados de membros da rede, e a forma principal desses dados é apenas uma string.  Assim, você pode ter alguns nomes básicos em um formato como nickolai, por exemplo.  Esta é a cadeia de nomes. <br><br><img src="https://habrastorage.org/webt/n4/wu/ym/n4wuymwkej2bg3mwkvlgm7tb60q.jpeg"><br><br>  É o parâmetro principal em alguma área do Kerberos; na verdade, é isso que está na coluna esquerda da tabela KDC.  E também existem alguns parâmetros adicionais que o protocolo suporta.  Eu poderia, por exemplo, inserir outro nome como nickolai.extra sec, que seria usado além do nome nickolai para acessar recursos que precisam de segurança adicional.  Talvez eu tenha uma senha para coisas realmente seguras e outra para minha conta normal. <br><br>  Kerberos mencionou esse aspecto.  Portanto, pode-se perguntar - de onde vem o impacto?  O serviço Kerberos mapeia nomes para determinadas chaves, mas como você sabe qual nome perguntar ou qual nome esperar em resposta quando estiver conversando com algum computador?  Ou seja, pergunto quais nomes aparecem fora do servidor Kerberos ou onde exatamente esses nomes de usuário aparecem?  Você tem alguma ideia? <br><br>  <b>Aluno:</b> presumivelmente, você pode solicitar nomes de usuários no servidor MIT. <br><br>  <b>Professor:</b> sim, claro.  É assim que você pode listar essas coisas.  Além disso, os usuários simplesmente os inserem quando fazem login, e é daí que eles vêm.  Os nomes de usuário aparecem em outro lugar?  Eles deveriam aparecer em outro lugar? <br><br>  <b>Aluno:</b> é possível que o acesso do usuário seja indicado nas listas em vários serviços. <br><br>  <b>Professor:</b> sim, esse é um ponto muito importante, certo?  O objetivo do Kerberos é simplesmente mapear chaves para nomes.  Mas isso não diz a que nome esse nome deve ter acesso. <br><br>  De fato, a maneira como os aplicativos normalmente usam o Kerberos é que um desses servidores usa o Kerberos para descobrir com qual nome em minúsculas está falando.  Quando o servidor de email recebe uma conexão de alguma estação de trabalho, recebe um tíquete Kerberos, o que prova que esse usuário é Nikolai.  Depois disso, o servidor de correio descobre internamente o que esse usuário tem acesso.  O servidor de arquivos faz o mesmo. <br><br>  Assim, dentro de todos esses servidores existem listas de controle de acesso, possivelmente listas de grupos ou outras coisas que realizam autorização.  Portanto, o Kerberos fornece autenticação que mostra com quem essa pessoa está falando.  O serviço em si é responsável pela implementação dessa parte da autorização, que decide qual nível de acesso você deve ter com base no seu nome de usuário.  Então descobrimos onde os nomes de usuário aparecem.  Existem outros nomes básicos que o Kerberos suporta para interagir com serviços. <br><br>  De acordo com o material da palestra, os serviços são mais ou menos assim: rcmd.hostname.  O motivo de você precisar de um nome para um desses serviços é porque deseja, por exemplo, ao conectar-se a um servidor de arquivos, executar autenticação mútua.  Isso significa que, neste procedimento, não apenas o servidor de destino descobrirá quem eu sou, mas também eu, o usuário ou a estação de trabalho, verifique se estou falando com o servidor de arquivos correto, e não com um servidor de arquivos falso que falsificou o meu arquivos  Porque, talvez, eu queira examinar o arquivo com minhas classificações e enviá-lo ao registrador.  Portanto, seria muito ruim se algum outro servidor de arquivos pudesse atuar como o servidor correto e me fornecer o arquivo de classificações errado. <br><br>  Portanto, os serviços também precisam de seu próprio nome e as estações de trabalho devem descobrir qual o nome que espero ver ao me conectar ao serviço. <br><br><img src="https://habrastorage.org/webt/rv/fp/ke/rvfpkej9wugk_ucu5pt3ssxgfe4.jpeg"><br><br>  Como regra, em algum nível, isso vem do usuário.  Portanto, por exemplo, se eu digitar ssh.foo, isso significa que devo esperar que um nome principal do Kerberos como rcmd.foo apareça na outra extremidade dessa conexão.  E se alguém estiver lá, o cliente SSH deve desconectar e não permitir que eu me conecte, pois serei enganado e começarei a conversar com outra máquina. <br><br>  Isso levanta uma questão interessante.  Quando podemos reutilizar nomes no Kerberos?  Por exemplo, todos vocês têm contas no sistema do instituto Athena.  Ao se formar, o MIT pode destruir sua entrada no banco de dados e permitir que outra pessoa registre o mesmo nome de usuário?  Seria uma boa ideia? <br><br>  <b>Aluno:</b> mas não apenas o banco de dados Kerberos, mas também os serviços têm uma lista de nomes de usuário? <br><br>  <b>Professor:</b> sim, porque esses nomes são na verdade apenas representados por entradas de sequência em algum lugar da ACL em um arquivo ou servidor de email.  Se apagarmos sua entrada no banco de dados do servidor Kerberos, isso não significa que sua entrada tenha desaparecido completamente.  Essas entradas são independentes da versão. <br><br>  Por exemplo, um registro diz que Alice tem acesso a um armário Athena.  Em seguida, Alice se forma e seu registro é excluído, mas uma nova Alice entra no instituto, que passa pelo processo de registro no banco de dados Kerberos.  Ao mesmo tempo, ela obtém o nome principal que é completamente idêntico ao nome da antiga Alice, para que o servidor de arquivos possa dar à nova Alice acesso aos arquivos da antiga Alice. <br><br>  ,  Kerberos       ,     Kerberos          .       ,       ,  ,       . <br><br>         .         ,      , , ,      ,      .  ,  ,  , -              .          ,       . ,     ,                . <br><br>    ,    .     ,       ,   ,    TGS. <br><br><img src="https://habrastorage.org/webt/lg/d8/_o/lgd8_ocxwlsxvtydhzfeawwtgco.jpeg"><br><br> ,    ,   Kerberos,    «».          :        s  , IP –   addr,   time stump,   life, ,       ,   Kc,s,       .     . <br><br><img src="https://habrastorage.org/webt/9_/hn/sw/9_hnswj4t5tsgewetdx7q9p03tk.jpeg"><br><br>      . <br><br>        ,  Kerberos  «».   Ac           , IP-    , ,     .  ,    .    K,s,       ,    Kerberos     Ks.  ,         . <br><br><img src="https://habrastorage.org/webt/yi/cd/vo/yicdvogy_ssgbsmoz8-holttrsw.jpeg"><br><br>  ,    ,        Kerberos     TGS.    ,    ,         Kerberos,   ,     .       :     C,      ,     S,       TGS.       . <br><br>        Tc,s,   Ks,     ,     Ks, ,       Kc.     . <br><br><img src="https://habrastorage.org/webt/ja/wh/-k/jawh-k-gpxf2bec3_whvha2vm-a.jpeg"><br><br>      .  ,   Kerberos    ?   ,     ? <br><br> <b>:</b>   ,     ,   ,     Kc. <br><br> <b>:</b>  ,  ,   Kerberos     ,      .     : «,     ,     .      ,    ,      ,    Kc».     ,           . <br><br>  ,   ,     ,          Kerberos,       Kerberos   ,       . ,  ,   -     Kerberos,       ,        . <br> :           … <br><br> <b>:</b> ,   ,      Kerberos, ?  ,    ?   ,  ,     ,       ,     ,     ,   ,      ,     ,    . <br><br><img src="https://habrastorage.org/webt/hn/l-/ga/hnl-gavysqh5frbpm17abmclcqc.jpeg"><br><br>    «»,   ,    , ,       ,   .  ,           ,     .        .          Kerberos,       ,   .          ,    ,   . <br><br> <b>:</b>        ?     ,   … <br><br> <b>:</b> ,        .    ,   Kerberos      ,         .       ,   ,         -         ,     ,   ,             .  30      ,         . <br><br>    Kerberos 5  :  ,   —             .         ,  ,     ,     ,   . <br><br>   Kerberos 4      ,         , , .     ,         .      ,              ,       . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portanto, este é o plano para informar ao cliente se seu ticket é válido. </font><font style="vertical-align: inherit;">Eles estão apenas tentando decifrá-lo e ver como ele funciona. </font><font style="vertical-align: inherit;">Outra pergunta interessante - por que essa chave Kc, s, de alguma forma, está incluída no ticket duas vezes? </font><font style="vertical-align: inherit;">Está presente no ticket separadamente como a chave Kc, se está implicitamente presente no próprio ticket Tc, s. </font><font style="vertical-align: inherit;">Por que temos duas cópias da chave Kc, s? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27:10 min. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Curso MIT "Computer Systems Security". </font><font style="vertical-align: inherit;">Aula 13: Protocolos de Rede, Parte 2</font></font></a> <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/QOtA76ga_fY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A versão completa do curso está disponível </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  Obrigado por ficar conosco.  Você gosta dos nossos artigos?  Deseja ver materiais mais interessantes?  Ajude-nos fazendo um pedido ou recomendando a seus amigos, um <b>desconto de 30% para os usuários da Habr em um análogo exclusivo de servidores básicos que inventamos para você:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Toda a verdade sobre o VPS (KVM) E5-2650 v4 (6 núcleos) 10GB DDR4 240GB SSD 1Gbps da US $ 20 ou como dividir o servidor?</a>  (as opções estão disponíveis com RAID1 e RAID10, até 24 núcleos e até 40GB DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 núcleos) 10GB DDR4 240GB SSD de 1Gbps até dezembro de graça</b> quando pagar por um período de seis meses, você pode fazer o pedido <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  <b>Dell R730xd 2 vezes mais barato?</b>  Somente nós temos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2 TVs Intel Dodeca-Core Xeon E5-2650v4 128GB DDR4 6x480GB SSD 1Gbps 100 a partir de US $ 249</a> na Holanda e nos EUA!</b>  Leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como criar um prédio de infraestrutura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt427763/">https://habr.com/ru/post/pt427763/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt427751/index.html">CudaText Sublime Ideas</a></li>
<li><a href="../pt427755/index.html">Nova versão do GitLab 11.4 com revisão por pares de solicitações de mesclagem e sinalizadores de recursos</a></li>
<li><a href="../pt427757/index.html">Backdoors de microcódigo montados no processador X86</a></li>
<li><a href="../pt427759/index.html">Sobre a resolubilidade de problemas na via em tempo polinomial</a></li>
<li><a href="../pt427761/index.html">Implementação do algoritmo k-means (k-means) usando o exemplo de trabalho com pixels</a></li>
<li><a href="../pt427767/index.html">Situação: no Canadá, eles propuseram a introdução de um imposto sobre streaming - estamos discutindo qual é o problema.</a></li>
<li><a href="../pt427771/index.html">Curso MIT "Segurança de sistemas de computadores". Aula 13: Protocolos de Rede, Parte 2</a></li>
<li><a href="../pt427773/index.html">Eu escrevi uma extensão entre navegadores para guias, mas você não faz isso</a></li>
<li><a href="../pt427775/index.html">Um bot disfarçado de programador corrige erros no código</a></li>
<li><a href="../pt427779/index.html">Curso MIT "Segurança de sistemas de computadores". Aula 13: Protocolos de Rede, Parte 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>