<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎩 🙋 🍕 Pindah dari Terraform ke CloudFormation - dan menyesal 👩🏻‍💼 ➰ 🎣</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Menampilkan infrastruktur sebagai kode dalam format teks yang dapat diulang adalah praktik terbaik sederhana untuk sistem yang tidak perlu Anda bawa-b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pindah dari Terraform ke CloudFormation - dan menyesal</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/474546/"><p>  Menampilkan infrastruktur sebagai kode dalam format teks yang dapat diulang adalah praktik terbaik sederhana untuk sistem yang tidak perlu Anda bawa-bawa.  Praktik ini memiliki nama - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Infrastruktur sebagai Kode</a> , dan sejauh ini ada dua alat yang populer untuk implementasinya, terutama di AWS: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Terraform</a> dan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CloudFormation</a> . </p><br><p><img src="https://habrastorage.org/webt/ff/f_/rw/fff_rw-n0dk_n_l6qxrxkp_-h9i.png"><br>  <em>Bandingkan pengalaman dengan Terraform dan CloudFormation</em> </p><br><p>  Sebelum bergabung dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Twitch</a> (alias <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Amazon Jr.</a> ), saya bekerja <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di satu startup</a> dan menggunakan Terraform selama tiga tahun.  Di tempat baru, saya juga menggunakan Terraform dengan kekuatan dan main, dan kemudian perusahaan mendorong transisi ke semuanya ala Amazon, termasuk CloudFormation.  Saya bekerja keras untuk mengembangkan praktik terbaik untuk keduanya, dan saya menggunakan kedua alat dalam alur kerja yang sangat kompleks di seluruh organisasi.  Kemudian, setelah mempertimbangkan dengan hati-hati konsekuensi dari beralih dari Terraform ke CloudFormation, saya menjadi yakin bahwa Terraform mungkin adalah pilihan terbaik untuk organisasi. </p><a name="habracut"></a><br><h2 id="terraform-uzhasnyy">  Terraform Mengerikan </h2><br><h3 id="beta-versiya-po">  Perangkat Lunak Beta </h3><br><p> Terraform bahkan belum merilis versi 1.0, dan ini adalah alasan bagus untuk tidak menggunakannya.  Sejak saya pertama kali mengujinya sendiri, itu telah banyak berubah, tetapi kemudian <code>terraform apply</code> sering rusak setelah beberapa pembaruan atau hanya setelah beberapa tahun beroperasi.  Saya akan mengatakan bahwa "sekarang semuanya berbeda", tapi ... jadi semua orang tampaknya mengatakan tidak?  Ada perubahan yang tidak kompatibel dengan versi sebelumnya, meskipun mereka sesuai, dan bahkan perasaannya adalah bahwa sintaks dan abstraksi dari penyimpanan sumber daya sekarang apa yang Anda butuhkan.  Alat itu sepertinya lebih baik, tapi ...: -0 </p><br><p>  AWS, di sisi lain, melakukan pekerjaan yang baik untuk menjaga kompatibilitas dengan versi sebelumnya.  Semua, mungkin, karena layanan mereka sering diuji dengan baik dalam organisasi dan hanya kemudian, diganti namanya, diterbitkan.  Jadi "berusaha keras" masih lemah kata.  Mempertahankan kompatibilitas dengan versi API sebelumnya untuk sistem multivarian dan kompleks seperti AWS sangat sulit.  Siapa pun yang harus mendukung API yang tersedia untuk umum yang digunakan secara luas harus memahami betapa sulitnya selama bertahun-tahun.  Tetapi perilaku CloudFormation dalam ingatan saya tidak pernah berubah selama bertahun-tahun. </p><br><h3 id="znakomsya-noga-eto-pulya">  Temui kaki ... itu peluru </h3><br><p>  Sejauh yang saya tahu, tidak mungkin untuk menghapus sumber daya tumpukan CloudFormation pihak ketiga dari tumpukan CF saya.  Situasinya mirip dengan Terraform.  Ini memungkinkan Anda untuk mengimpor sumber daya yang ada ke tumpukan Anda.  Fungsinya, bisa dikatakan, mengagumkan, tetapi dengan kekuatan besar datang tanggung jawab besar.  Seseorang hanya perlu meletakkan sumber daya di tumpukan, dan saat Anda bekerja dengan tumpukan Anda, Anda tidak dapat menghapus atau mengubah sumber daya ini.  Setelah itu muncul.  Entah bagaimana, di situs Twitch, seseorang, tanpa merencanakan kesalahan, secara tidak sengaja mengimpor grup keamanan AWS ke tumpukan Terraform mereka sendiri.  Saya memasukkan beberapa perintah dan ... grup keamanan (bersama dengan lalu lintas masuk) menghilang. </p><br><h2 id="terraform-velikiy">  Terraform Hebat </h2><br><h3 id="vosstanovlenie-iz-nepolnyh-sostoyaniy">  Pemulihan sebagian </h3><br><p>  Terkadang CloudFormation tidak dapat sepenuhnya beralih dari satu kondisi ke kondisi lain.  Pada saat yang sama, ia akan mencoba untuk kembali ke yang sebelumnya.  Maaf, ini tidak selalu layak.  Kemudian men-debug apa yang terjadi menakutkan - Anda tidak pernah tahu apakah CloudFormation akan senang bahwa itu retak - bahkan untuk perbaikan.  Tetapi apakah dia akan berhasil atau tidak kembali ke keadaan sebelumnya, dia benar-benar tidak tahu bagaimana menentukan, dan secara default dia berjam-jam menunggu keajaiban. </p><br><p>  Terraform, sebaliknya, cenderung pulih dari transisi yang gagal jauh lebih elegan dan menawarkan alat debugging canggih. </p><br><h3 id="bolee-yasnye-izmeneniya-v-sostoyaniya-dokumenta">  Perubahan yang lebih jelas dalam status dokumen </h3><br><blockquote>  "Oke, muat penyeimbang, kamu berubah. Tapi bagaimana?" <br><br>  —Seorang insinyur yang khawatir siap untuk menekan tombol terima. </blockquote><p>  Kadang-kadang saya perlu melakukan beberapa manipulasi dengan penyeimbang beban di tumpukan CloudFormation - misalnya, menambahkan nomor port atau mengubah grup keamanan.  Perubahan CloudFormation ditampilkan dengan lemah.  Saya, seperti pada jarum, memeriksa ulang file yaml sepuluh kali untuk memastikan bahwa saya tidak menghapus apa pun yang saya butuhkan, dan saya tidak menambahkan terlalu banyak. </p><br><p>  Terraform jauh lebih transparan dalam hal ini.  Terkadang terlalu transparan (baca: mengerti).  Untungnya, versi terbaru menyertakan tampilan perubahan yang ditingkatkan - sekarang Anda dapat dengan jelas melihat apa yang berubah. </p><br><h3 id="gibkost">  Fleksibilitas </h3><br><blockquote>  Tulis perangkat lunak dari arah sebaliknya. </blockquote><p>  Terus terang, fitur pembeda yang paling penting dari perangkat lunak berumur panjang adalah kemampuannya untuk beradaptasi terhadap perubahan.  Tulis perangkat lunak apa pun dari sebaliknya.  Saya sering menusuk bahwa saya mengambil layanan "sederhana", dan kemudian mulai mendorong semuanya menjadi satu CloudFormation atau tumpukan Terraform.  Dan tentu saja, berbulan-bulan kemudian terungkap bahwa saya mengerti semuanya salah, dan layanan ini sebenarnya tidak sederhana!  Jadi saya perlu memecah tumpukan besar menjadi komponen-komponen kecil.  Ketika Anda bekerja dengan CloudFormation, dimungkinkan untuk melakukan ini hanya dengan terlebih dahulu menciptakan kembali tumpukan yang ada, tetapi saya tidak melakukan ini dengan database saya.  Terraform, di sisi lain, memungkinkan untuk membedah tumpukan dan membaginya menjadi bagian-bagian kecil yang lebih dimengerti. </p><br><h3 id="moduli-v-git">  Modul dalam git </h3><br><p>  Berbagi kode Terraform di banyak tumpukan jauh lebih mudah daripada berbagi kode CloudFormation.  Dengan Terraform, Anda dapat meletakkan kode di repositori git dan mengaksesnya menggunakan kontrol versi semantik.  Siapa pun yang memiliki akses ke repositori ini dapat menggunakan kembali kode bersama.  Setara dengan CloudFormation adalah S3, tetapi tidak memiliki keunggulan yang sama, dan tidak ada alasan tunggal mengapa kita harus benar-benar meninggalkan git yang mendukung S3. </p><br><p>  Organisasi tumbuh dan kemampuan untuk berbagi tumpukan mencapai tingkat kritis.  Dengan Terraform, semua ini mudah dan alami, sementara CloudFormation akan membuat Anda melompati cincin sebelum Anda mendapatkan sesuatu yang serupa. </p><br><h3 id="operations-as-code">  Operasi sebagai kode </h3><br><blockquote>  "Ayo skrip dan oke." <br><br>  - Seorang insinyur 3 tahun sebelum menciptakan sepeda Terraform. </blockquote><p>  Ketika datang ke pengembangan perangkat lunak, Go atau program Java bukan hanya kode. </p><br><p><img src="https://habrastorage.org/webt/qr/pf/ec/qrpfecwuy-rwjaj48w68nzl0asq.png"><br>  <em>Kode sebagai Kode</em> </p><br><p>  Lagi pula, masih ada infrastruktur di mana ia bekerja. </p><br><p><img src="https://habrastorage.org/webt/nm/m8/9e/nmm89e9lu99otghnv73ta7bdqh8.png"><br>  <em>Infrastruktur sebagai kode</em> </p><br><p>  Tapi dari mana asalnya?  Bagaimana cara memantaunya?  Di mana kode Anda berada?  Apakah pengembang perlu izin untuk mengakses? </p><br><p><img src="https://habrastorage.org/webt/hz/es/qs/hzesqsiuved-xhcccghgjoraxsi.png"><br>  <em>Operasi sebagai kode</em> </p><br><blockquote>  Menjadi pengembang perangkat lunak bukan hanya tentang menulis kode. </blockquote><p>  Bukan AWS One: Anda harus menggunakan penyedia lain.  SignalFx, PagerDuty, atau Github.  Mungkin Anda memiliki server Jenkins internal untuk CI / CD atau panel kontrol Grafana internal untuk pemantauan.  Infra as Code dipilih karena berbagai alasan, dan apa pun juga sama pentingnya untuk segala sesuatu yang berkaitan dengan perangkat lunak. </p><br><p>  Ketika saya bekerja di Twitch, kami mempercepat layanan di dalam sistem embedded campuran Amazon dan sistem AWS.  Kami mencap dan mendukung banyak layanan mikro, meningkatkan biaya operasi.  Diskusi diadakan kira-kira sebagai berikut: </p><br><ul><li>  <strong>SAYA</strong> : Sial, banyak gerakan untuk membubarkan satu layanan microser.  Saya harus menggunakan sampah ini untuk membuat akun AWS (kami pergi ke 2 akun untuk layanan <strong>mikro</strong> ), lalu yang ini untuk mengatur notifikasi, yang ini untuk repositori kode, dan yang ini untuk daftar alamat email, dan yang ini .. . </li><li>  <strong>Pimpin</strong> : Mari kita skrip dan oke. </li><li>  <strong>Saya</strong> : Frets, tetapi skrip itu sendiri akan berubah.  Anda perlu cara untuk memverifikasi bahwa semua alat amazon bawaan ini mutakhir. </li><li>  <strong>Timbal</strong> : Kedengarannya bagus.  Dan untuk ini kami akan menulis skrip. </li><li>  <strong>Saya</strong> : Hebat!  Dan skrip mungkin masih perlu mengatur parameter.  Apakah dia akan menerimanya? </li><li>  <strong>Pimpin</strong> : Ya, dia akan, ke mana dia akan pergi! </li><li>  <strong>Saya</strong> : Proses dapat berubah, kompatibilitas mundur akan hilang.  Ini akan mengambil beberapa kontrol versi semantik. </li><li>  <strong>Pimpin</strong> : Ide bagus! </li><li>  <strong>Saya</strong> : Alat dapat diubah secara manual, di dalam antarmuka pengguna.  Kami membutuhkan cara untuk memverifikasi dan memperbaikinya. </li></ul><br><p>  <em>... 3 tahun kemudian:</em> </p><br><ul><li>  <strong>Timbal</strong> : Dan kami mendapat terraform. </li></ul><br><p>  Moral dari dongeng adalah ini: bahkan jika Anda <strong>jungkir balik di semua amazon</strong> , Anda masih menggunakan sesuatu yang bukan dari AWS, dan layanan ini memiliki status yang digunakan bahasa untuk konfigurasi untuk menyinkronkan keadaan ini. </p><br><h3 id="cloudformation-lambda-vs-git-moduli-terraform">  Modul CloudFormation lambda vs git terraform </h3><br><p>  lambda adalah solusi CloudFormation untuk masalah logika kustom.  Dengan lambda, Anda dapat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">membuat makro</a> atau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sumber daya khusus</a> .  Pendekatan ini menghadirkan kesulitan tambahan yang tidak dimiliki Terraform dalam kontrol semit versi modul git.  Bagi saya, masalah yang paling mendesak adalah mengelola izin untuk semua lambda khusus ini (yang merupakan lusinan akun AWS).  Yang penting lainnya adalah masalah seperti "apa yang terjadi sebelumnya - ayam atau telur?": Itu terkait dengan kode lambda.  Fungsi ini sendiri adalah infrastruktur dan kode, dan itu sendiri membutuhkan pemantauan dan pembaruan.  Sorotan terakhir dalam peti mati itu adalah kesulitan memperbarui perubahan kode lambda secara semantik;  itu juga perlu untuk memastikan bahwa tindakan stack tanpa perintah langsung tidak berubah di antara mulai. </p><br><p>  Saya ingat entah bagaimana saya ingin membuat penyebaran kenari untuk lingkungan Elastic Beanstalk dengan penyeimbang beban klasik.  Cara termudah adalah dengan melakukan penyebaran kedua untuk EB di sebelah lingkungan produksi, mengambil langkah lain: dengan menggabungkan grup penyebaran kenari yang dapat diskalakan secara otomatis dengan penyebaran LB ke dalam lingkungan produksi.  Dan karena Terraform menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ASG beantalk sebagai output</a> , ia akan membutuhkan 4 baris kode tambahan dalam Terraform.  Ketika saya bertanya apakah ada solusi yang sebanding di CloudFormation, mereka menunjuk saya ke seluruh repositori di git dengan pipa penyebaran dan banyak lagi: semua ini demi apa yang bisa dilakukan oleh 4 baris kode Terraform yang malang. </p><br><h3 id="on-luchshe-obnaruzhivaet-dreyf">  Dia lebih baik mendeteksi drift </h3><br><blockquote>  Pastikan kenyataan memenuhi harapan. </blockquote><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Deteksi drift</a> adalah operasi yang sangat kuat sebagai kode, karena membantu memastikan bahwa kenyataan memenuhi harapan.  Ini tersedia dengan CloudFormation dan Terraform.  Tetapi ketika tumpukan kerja bertambah, pencarian drift CloudFormation semakin banyak menghasilkan false positive. </p><br><p>  Dengan Terraform, Anda memiliki kait siklus hidup yang jauh lebih maju untuk deteksi drift.  Misalnya, Anda memasukkan perintah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ign_changes</a> secara langsung dalam definisi tugas ECS jika Anda ingin mengabaikan perubahan dalam definisi tugas tertentu tanpa mengabaikan perubahan dalam seluruh penerapan ECS. </p><br><h2 id="cdk-i-buduschee-cloudformation">  CDK dan masa depan CloudFormation </h2><br><p>  CloudFormation sulit dikelola pada skala lintas-infrastruktur yang besar.  Banyak dari kesulitan ini yang dikenali, dan alat ini membutuhkan hal-hal seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">aws-cdk</a> , kerangka kerja untuk mendefinisikan infrastruktur cloud dalam kode dan meneruskannya melalui AWS CloudFormation.  Dia akan penasaran untuk melihat apa yang akan dimiliki aws-cdk di masa depan, tetapi akan sulit baginya untuk bersaing dengan manfaat lain dari Terraform;  untuk mengencangkan CloudFormation, perubahan global akan diperlukan. </p><br><h3 id="chtoby-terraform-ne-razocharoval">  Jadi Terraform tidak mengecewakan </h3><br><blockquote>  Ini adalah "infrastruktur sebagai KODE", bukan "sebagai teks." </blockquote><p>  Kesan pertama saya tentang Terraform sangat buruk.  Saya pikir saya tidak mengerti pendekatannya.  Hampir semua insinyur pada awalnya tanpa sadar menganggapnya sebagai format teks yang harus dikonversi ke infrastruktur yang diinginkan.  JANGAN BEGITU. </p><br><h3 id="propisnye-istiny-horoshey-razrabotki-po-otnosyatsya-i-k-terraform">  Kebenaran umum dari pengembangan perangkat lunak yang baik berlaku untuk Terraform </h3><br><p>  Saya telah melihat berapa banyak praktik yang diadopsi untuk membuat kode yang baik diabaikan dalam Terraform.  Anda belajar selama bertahun-tahun untuk menjadi programmer yang baik.  Jangan menyerah pengalaman ini hanya karena Anda bekerja dengan Terraform.  Kebenaran umum dari pengembangan perangkat lunak yang baik juga berlaku untuk Terraform. </p><br><h3 id="kak-uzh-kod-i-ne-zadokumentirovat">  Bagaimana kode tidak didokumentasikan? </h3><br><p>  Saya menemukan tumpukan Terraform besar tanpa dokumentasi sama sekali.  Bagaimana saya bisa menulis kode di halaman - sepenuhnya tanpa dokumentasi?  Tambahkan dokumentasi yang menjelaskan <strong>kode</strong> Terraform Anda (penekanan di sini pada kata "kode"), mengapa bagian ini sangat penting, dan apa yang Anda lakukan. </p><br><h3 id="kak-mozhno-razvorachivat-servisy-kotorye-nekogda-byli-odnoy-bolshoy-funkciey-main">  Bagaimana Anda bisa menggunakan layanan yang dulunya satu fungsi utama () besar? </h3><br><p>  Saya bertemu tumpukan Terraform yang sangat kompleks, disajikan sebagai satu modul.  Mengapa kita tidak menggunakan perangkat lunak seperti ini?  Mengapa memecah fungsi besar menjadi yang lebih kecil?  Jawaban yang sama berlaku untuk Terraform.  Jika modul Anda terlalu besar, Anda perlu memecahnya menjadi modul yang lebih kecil. </p><br><h3 id="razve-vasha-kompaniya-ne-polzuetsya-bibliotekami">  Bukankah perusahaan Anda menggunakan perpustakaan? </h3><br><p>  Saya melihat bagaimana para insinyur, memutar proyek baru menggunakan Terraform, dengan bodoh menyalin-menempelkan potongan-potongan besar dari proyek lain ke dalam proyek mereka sendiri, dan kemudian mengambilnya sampai mulai bekerja.  Jadi, apakah Anda akan bekerja di perusahaan Anda dengan kode "pertarungan"?  Kami tidak hanya menggunakan perpustakaan.  Ya, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tidak semuanya harus menjadi perpustakaan,</a> tetapi di mana kita pada prinsipnya tanpa perpustakaan bersama?! </p><br><h3 id="razve-vy-ne-polzuetes-pep8-ili-gofmt">  Apakah Anda tidak menggunakan PEP8 atau gofmt? </h3><br><p>  Sebagian besar bahasa memiliki skema pemformatan yang diterima standar.  Dengan Python, ini adalah PEP8.  Di Go - gofmt.  Terraform memiliki sendiri: <code>terraform fmt</code> .  Gunakan untuk kesehatan! </p><br><h3 id="vy-stanete-polzovatsya-react-ne-znaya-javascript">  Apakah Anda akan menggunakan Bereaksi tanpa mengetahui JavaScript? </h3><br><p>  Modul-modul Terraform dapat menyederhanakan beberapa bagian dari infrastruktur kompleks yang Anda buat, tetapi ini tidak berarti Anda dapat mengabaikannya sama sekali.  Ingin menggunakan Terraform dengan benar tanpa memahami sumber daya?  Anda ditakdirkan: waktu akan berlalu, tetapi Anda tidak akan menguasai Terraform. </p><br><h3 id="vy-kodite-singltonami-ili-vnedryaya-zavisimosti">  Apakah Anda kode singleton, atau memperkenalkan dependensi? </h3><br><p>  Ketergantungan injeksi adalah praktik terbaik yang diakui untuk pengembangan perangkat lunak, yang disukai oleh singleton.  Bagaimana ini berguna dalam Terraform?  Saya bertemu modul Terraform tergantung pada keadaan jauh.  Alih-alih menulis modul yang mengekstrak dari keadaan jauh, tulis modul yang menerima parameter.  Dan kemudian meneruskan parameter ini ke modul. </p><br><h3 id="vashi-biblioteki-delayut-desyat-veschey-horosho-ili-odnu---otlichno">  Apakah perpustakaan Anda melakukan sepuluh hal dengan baik, atau satu hal hebat? </h3><br><p>  Perpustakaan yang fokus pada satu tugas yang hanya melakukan pekerjaan terbaik.  Alih-alih menulis modul Terraform besar yang mencoba melakukan semuanya sekaligus, buatlah bagian dari mereka yang melakukan satu hal dengan baik.  Dan kemudian gabungkan mereka seperti yang Anda inginkan. </p><br><h3 id="kak-vy-proizvodite-izmeneniya-v-bibliotekah-bez-obratnoy-sovmestimosti">  Bagaimana Anda membuat perubahan pada perpustakaan tanpa kompatibilitas ke belakang? </h3><br><p>  Modul Terraform umum, seperti perpustakaan biasa, perlu memberi tahu pengguna tentang perubahan tanpa kompatibilitas ke belakang.  Ketika perubahan seperti itu terjadi di perpustakaan, itu menjengkelkan, dan sama menjengkelkan ketika perubahan tanpa kompatibilitas mundur dibuat dalam modul Terraform.  Disarankan untuk menggunakan tag git dan semver saat menggunakan modul Terraform. </p><br><h3 id="proizvodstvennyy-servis-zapuschen-u-vas-na-noutbuke-ili-v-datacentre">  Apakah layanan produksi diluncurkan pada laptop Anda atau di pusat data? </h3><br><p>  Hashicorp memiliki alat seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cloud terraform</a> untuk meluncurkan terraform Anda.  Layanan terpusat ini memfasilitasi manajemen, audit, dan persetujuan perubahan terraform. </p><br><h3 id="razve-vy-ne-pishete-testy">  Apakah kamu tidak menulis tes? </h3><br><p>  Insinyur mengakui bahwa kode perlu diuji, tetapi mereka sendiri sering kali mengecek saat bekerja dengan Terraform.  Untuk infrastruktur, ini penuh dengan momen berbahaya.  Saya menyarankan Anda untuk "menguji" atau "membuat contoh" tumpukan menggunakan modul yang dapat digunakan dengan benar untuk verifikasi selama CI / CD. </p><br><h3 id="terraform-i-mikroservisy">  Terraform dan layanan microser </h3><br><blockquote>  Kehidupan dan kematian perusahaan layanan mikro tergantung pada kecepatan, pembaruan, dan penghancuran tumpukan pekerjaan layanan mikro baru. </blockquote><p>  Titik negatif paling umum terkait dengan arsitektur layanan mikro dan yang tidak dapat dihilangkan dengan cara apa pun terkait dengan pekerjaan, dan bukan dengan kode.  Jika Anda menggunakan Terraform, hanya sebagai cara untuk mengotomatisasi hanya sisi infrastruktur dari arsitektur layanan mikro, maka Anda merampas manfaat sebenarnya dari sistem ini.  Sekarang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">semuanya seperti kode</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id474546/">https://habr.com/ru/post/id474546/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id474532/index.html">Laboratorium radio Nizhny Novgorod dan radio dengan detektor kristal</a></li>
<li><a href="../id474534/index.html">Buku Alan Turing dan Catatan Misterius - Detektif Sains</a></li>
<li><a href="../id474536/index.html">Sejarah satu proyek kecil yang panjangnya dua belas tahun (tentang BIRMA.NET untuk pertama kalinya dan jujur ​​langsung)</a></li>
<li><a href="../id474540/index.html">Cara membuat bos keren. Shadow Fight 3 Pengalaman Pengembang</a></li>
<li><a href="../id474544/index.html">Tinjauan GeForce SEKARANG di Rusia: Pro, Kontra, dan Prospek</a></li>
<li><a href="../id474548/index.html">Google BERT adalah algoritma pencarian baru. Bagaimana peringkat akan berubah dan apa yang harus dilakukan sekarang?</a></li>
<li><a href="../id474550/index.html">Bagaimana cara mengembalikan indikator TLS hijau di Firefox 70 yang baru?</a></li>
<li><a href="../id474554/index.html">Intel Tremont - Mikroarsitektur Baru untuk Efisiensi Energi</a></li>
<li><a href="../id474556/index.html">Cara membuat dukungan PCRE2 untuk Apache 2.4</a></li>
<li><a href="../id474558/index.html">Pemrograman Berorientasi Protokol, Bagian 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>