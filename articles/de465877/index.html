<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõ•Ô∏è üîì üòí Informationssicherheit aus der Cloud: Funktionsweise der Unified Cybersecurity Services-Plattform ü§ì üéÆ üìè</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ende letzten Jahres erhielten wir nach einem Vertrag mit Rostelecom eine Cloud-basierte SD-WAN / SDN-Plattform zur Bereitstellung von IB-Diensten f√ºr ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Informationssicherheit aus der Cloud: Funktionsweise der Unified Cybersecurity Services-Plattform</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/solarsecurity/blog/465877/"><img src="https://habrastorage.org/webt/up/fe/po/upfepor6uo1ei64ske5ajymh0gq.jpeg" alt="Bild"><br>  Ende letzten Jahres erhielten wir nach einem Vertrag mit Rostelecom eine Cloud-basierte SD-WAN / SDN-Plattform zur Bereitstellung von IB-Diensten f√ºr Kunden.  Wir haben uns mit den Projektanbietern verbunden, die ihre L√∂sungen in virtualisierter Form bereitstellen, und wir haben einen riesigen Koloss erhalten, den wir als Unified Cybersecurity Services Platform (EPSC) bezeichnet haben.  Das Hauptmerkmal ist die Bereitstellung von Sicherheitstechnologien aus der Cloud mit der M√∂glichkeit einer zentralen Verwaltung: Die Bereitstellung und √Ñnderung einer einzelnen Netzwerkfunktion oder die globale Transformation in allen bedienten B√ºros dauert nur wenige Minuten.  Heute werden wir Ihnen mehr √ºber die Architektur und das ‚ÄûF√ºllen‚Äú erz√§hlen. <br><a name="habracut"></a><br>  Aber bevor Sie unter die Haube kommen, noch ein paar Worte dar√ºber, was der EPSC tats√§chlich wei√ü.  Die Plattform umfasst Dienste: E-Mail-Schutz (Secure Email Gateway, SEG) und Webanwendungen (Web Application Firewall, WAF), Verhinderung von Netzwerkeinbr√ºchen (Unified Threat Management, UTM) und Anti-DDoS.  Alle von ihnen k√∂nnen gleichzeitig und getrennt verwendet werden - hier f√ºr jeden nach seinen Bed√ºrfnissen. <br><br><h2>  Wickeln Sie mich bitte mit Verkehr ein.  Arbeitsprinzipien </h2><br>  Im Allgemeinen: CPE-Routing-Ger√§te (Customer Premises Equipment) werden an allen Kundenstandorten installiert.  CPE bietet einen sicheren Tunnel zu unseren Rechenzentren - zur EPSC-Plattform.  Somit gelangt nur der Verkehr, der auf unserer Perimeter-Sicherheitsausr√ºstung gel√∂scht wurde, zum Kunden.  Gleichzeitig h√§ngt der Prozess der Bereitstellung von Datenverkehr auf unserer Plattform dank SD-WAN und Tunneling nicht vom Netzwerk des Anbieters ab, den der Kunde verwendet. <br><br><img src="https://habrastorage.org/webt/pz/b4/d0/pzb4d097koq__lisd7bcasadzau.jpeg" alt="Bild"><br><br><h3>  Plattformarchitektur </h3><br>  Die physische Infrastruktur des EPSC besteht aus normalen x86-Servern mit darauf bereitgestellten virtuellen Maschinen, Switches und Routern.  Der Punkt ist, dass Sie diesen Reichtum flexibel und zentral verwalten k√∂nnen.  Und hier helfen uns zwei magische Worte - VNF und MANO. <br><br>  VNF (Virtualized Network Function) sind Netzwerkfunktionen, die Endbenutzern (UTM, SEG und WAF) zur Verf√ºgung gestellt werden.  MANO (Management and Orchestration) - eine Reihe von Tools zur Verwaltung des Lebenszyklus virtualisierter Funktionen.  Diese Tools bieten nur diese Zentralisierung und flexible Orchestrierung, sodass Sie √Ñnderungen mit einer grundlegend anderen Geschwindigkeit vornehmen k√∂nnen. <br><br>  Und jetzt im Detail. <br><br>  Am Rand jedes Rechenzentrums befindet sich ein Nokia 7750 SR-12-Router mit einem Durchsatz von 400 Gbit / s, der Routing am Umfang und in der Cloud erm√∂glicht.  Auf einer niedrigeren Ebene befinden sich Juniper 5100 Spine Switches mit 40-Gbit / s-Ports, die alle Netzwerkkomponenten aus niedrigeren Schichten zusammenfassen. <br><br>  Ein virtuelles Netzwerk umfasst zwei Segmente: SD-WAN, das die Cloud-Umgebung mit Kundenstandorten verbindet, und SDN DC, ein softwaredefiniertes Netzwerk in der Cloud selbst, √ºber das Ports, IP-Adressen usw. konfiguriert werden.  beim Erstellen einer Servicekette. <br><br>  Der Serverteil besteht aus CloudBand-Cloud-Plattform-Verwaltungsservern, SDN-Verwaltungsservern, SD-WAN- (VSD, VSC) und NSG-BR-Verwaltungsservern (virtuelle Router, die IPsec √ºber VXLAN-Kundentunnel beenden) oder VXLAN, je nachdem ob IPSec-Verschl√ºsselung. <br><br>  Die wei√üe IP-Adressierung f√ºr den Kundenverkehr wird auf der Basis von 2 Subnetzen mit einer / 22-Maske (1018 Adressen in jedem Subnetz) implementiert: Eine davon wird an das Internet weitergeleitet, die andere an RSNet. <br><br><h3>  Fehlertoleranz </h3><br>  Die gesamte Cloud-Infrastruktur ist auf der Grundlage von zwei geografisch entfernten Rechenzentren in Moskau reserviert, die im Aktiv-Standby-Modus arbeiten.  Dar√ºber hinaus wird jede Servicekette (eine Reihe von Funktionen f√ºr einen bestimmten Client) in jedem von ihnen als Cluster bereitgestellt.  Im Notfall gehen beim Wechsel von einem Knoten zu einem anderen nur etwa 10 Pakete verloren.  Da dumme Leute sich TCP ausgedacht haben, wird der Verlust nicht sp√ºrbar sein. <br><br><img src="https://habrastorage.org/webt/hz/m3/gg/hzm3gg-czupkjo99f-mizurxyam.jpeg" alt="Bild"><br><br>  In Zukunft planen wir eine geografische Expansion √ºber den Ural hinaus, um die Verz√∂gerungen bei der Daten√ºbertragung f√ºr die Regionen zu verringern.  Selbst f√ºr Chabarowsk betr√§gt die Verz√∂gerung heute jedoch nur etwa 200 ms - Kunden spielen recht erfolgreich auf Steam und sehen sich Videos von YouTube an (aus einer echten Bewertung des Dienstes ÔÅä). <br><br>  In naher Zukunft wird es m√∂glich sein, ein CPE mit zwei unabh√§ngigen WANs zu verbinden.  Der Kanal kann MPLS, Ethernet (Kupfer oder Optik, je nach verwendetem CPE), USB-LTE-Modem usw. sein.  Zum Beispiel kann der Hauptkanal Glasfaser sein, und der Backup-Kanal kann drahtlos sein (weil niemand gegen den Bagger des Schicksals und besch√§digter Dr√§hte immun ist).  Derzeit ist es m√∂glich, zwei WANs zu verwenden, jedoch nur, wenn zwei CPEs in einem HA-Cluster verwendet werden. <br><br><h3>  Serviceketten </h3><br>  Der Kunde w√§hlt die grundlegenden Parameter √ºber den LC aus und beginnt mit der Bildung der Servicekette: Abh√§ngig von der ausgew√§hlten Bandbreite werden die Netzwerkschnittstellen automatisch angehoben, IP-Adressen zugewiesen und VNF-Bilder gepumpt.  Wenn Sie beispielsweise FortiGate Firewall f√ºr 300 Mbit bestellt haben, werden Ihnen automatisch 4 Kerne, 8 GB RAM, eine bestimmte Menge an Speicherplatz zugewiesen und das Image wird automatisch in einer 0-Tage-Konfiguration bereitgestellt. <br><br>  Die Leistung unserer Plattform ist jetzt f√ºr 160 Serviceketten mit jeweils 1 Gbit ausgelegt. Es ist geplant, bis zu 1000 Serviceketten mit jeweils 50 Mbit zu skalieren (da 1-Gbit-Ketten nach unserer Markteinsch√§tzung weniger beliebt sein werden). <br><br><h2>  CPE - besser d√ºnner, ja mehr? </h2><br>  Tats√§chlich haben wir f√ºr unseren Service ‚Äûd√ºnne‚Äú CPEs ausgew√§hlt, die auf Nokia NSG-C und NSG-E200 basieren.  Sie sind nur deshalb subtil, weil sie keine VNFs von Drittanbietern ausf√ºhren k√∂nnen. Andernfalls verf√ºgen sie √ºber alle Funktionen, die zum Aufbau der Kommunikation zwischen Standorten und zum Tunneln (IPSec und VPN) erforderlich sind. F√ºr diese Aufgabe k√∂nnen jedoch L√∂sungen anderer Hersteller verwendet werden.  Es gibt auch Zugriffssteuerungslisten (Access Control Lists, ACLs) zum Filtern: Ein Teil des Datenverkehrs kann lokal freigegeben und ein anderer Teil zur Feinbereinigung an das EPSC-Rechenzentrum gesendet werden, wo die virtuellen Funktionen WAF, UTM und SEG implementiert sind. <br><br>  Das Ger√§t kann auch Application Aware Routing (AAR) ausf√ºhren, d. H.  Priorisieren Sie die Bandbreite abh√§ngig von der Art des Datenverkehrs mithilfe von DPI-Mechanismen (Deep Packet Inspection).  Gleichzeitig k√∂nnen sowohl Festnetz- als auch Mobilfunknetze oder deren Kombination f√ºr unterschiedlichen Verkehr als Kommunikationskan√§le verwendet werden. <br><br>  Die CPE-Aktivierung basiert auf dem Prinzip der Zero-Touch-Bereitstellung.  Das hei√üt, alles ist elementar: Wir verbinden das CPE mit dem Internet, wir verbinden einen Laptop √ºber die interne Ethernet-Schnittstelle, klicken auf den Aktivierungslink und schalten dann unser LAN anstelle des Laptops ein und alles funktioniert.  Dar√ºber hinaus steigt in unserer Cloud der IPSec-Tunnel √ºber VXLAN standardm√§√üig an (dh der Adressraum wird zuerst isoliert und dann getunnelt). <br><br>  Im Allgemeinen erscheint uns die Option mit einem d√ºnnen CPE bequemer.  Mit diesem Ansatz wird der Kunde von einer m√∂glichen Lieferantenverriegelung verschont und kann die L√∂sung jederzeit skalieren, ohne an die Dicke des CPE (50 Mbit / s) zu sto√üen. <br><br>  Bei einem Thick-CPE werden unter anderem auch die vom Client ausgew√§hlten virtuellen Funktionen implementiert, und im EPCC-Rechenzentrum gibt es nur Service Chain Management.  Der Vorteil dieses Ansatzes besteht darin, dass der gesamte Datenverkehr lokal verarbeitet wird.  Gleichzeitig sind die Kosten f√ºr ein solches Ger√§t viel h√∂her und Sie k√∂nnen nicht mehr als einen bestimmten Dienst darauf ausf√ºhren. Sie m√ºssen zus√§tzliche CPEs erwerben.  Ja, und Sie k√∂nnen Multi-Vendor vergessen. <br><br>  Wenn der Kunde jedoch √ºber eine ziemlich gro√üe Plattform (B√ºro, Zweigstelle) verf√ºgt, die viel Verkehr durch sich selbst leitet (mehr als 200 Mbit / s) und alles lokal filtern m√∂chte, ist es sinnvoll, auf die Nokia CPE NSG E300-Serie (und h√∂her) zu achten. C. Bandbreite von 1 bis 10 Gbit / s, die Virtualisierung (VNF) unterst√ºtzt. <br><br>  Standardm√§√üig bringt SD-WAN alle Standorte des Kunden in ein vollst√§ndiges Mesh-Netzwerk, dh, es verbindet sie ohne zus√§tzliche Filterung einzeln.  Dies reduziert Verz√∂gerungen im Innenumfang.  Es ist jedoch m√∂glich, komplexere Topologien (Stern, komplexer Stern, Gitter mit mehreren R√§ngen usw.) zu erstellen. <br><br><h2>  Bedienung </h2><br>  Alle VNFs, die sich in der Cloud befinden, sind derzeit in der klassischen MSSP-Doktrin verf√ºgbar, dh sie unterliegen unserer Kontrolle.  In Zukunft haben Kunden die M√∂glichkeit, diese Services unabh√§ngig zu verwalten. Es ist jedoch wichtig, ihre Kompetenzen sinnvoll zu bewerten. <br>  Einige einfache Funktionen sind jetzt teilweise automatisiert.  In Secure Mail Gateway ist beispielsweise standardm√§√üig eine Richtlinie konfiguriert, in der der Benutzer einmal t√§glich eine Liste von Nachrichten erh√§lt, die m√∂glicherweise mit Spam zusammenh√§ngen, und selbst √ºber sein Schicksal entscheiden kann. <br><br>  Einige globale Probleme und Schwachstellen, die von unserem JSOC √ºberwacht werden, werden schnell geschlossen, auch f√ºr die Kunden des EPSC.  Und hier ist die M√∂glichkeit einer zentralen Verwaltung von Richtlinien und Signaturen genau das, was wir brauchen - dies sch√ºtzt Kunden vor Infektionen wie Petya, NotPetya und anderen. <br><br><h2>  Ehrliche Antworten auf unangenehme Fragen </h2><br>  Obwohl wir sehr an die Vorteile des Servicemodells glauben, ist es klar, dass das Konzept des E-Mail-Systems f√ºr viele zu ungew√∂hnlich ist.  Was wir am h√§ufigsten gefragt werden: <br><br>  <b>- FortiGate befindet sich in Ihrem Rechenzentrum. Sehen Sie also unseren Datenverkehr?</b> <br><br>  - Nein, wir sehen keinen Verkehr.  FortiGate empf√§ngt es in verschl√ºsselter Form, entschl√ºsselt es mit dem Schl√ºssel des Kunden, √ºberpr√ºft und verarbeitet es mit einem Stream-Antivirus, verschl√ºsselt es mit demselben Schl√ºssel zur√ºck und sendet es erst dann an Ihr Netzwerk.  Wir haben keine Optionen, um uns in diesem Prozess zu verkeilen (es sei denn, wir f√ºhren ein Reverse Engineering von harten Infobase-L√∂sungen durch, aber es ist zu teuer ). <br><br>  <b>- Ist es m√∂glich, unsere Netzwerksegmentierung beim Wechsel in die Cloud zu speichern?</b> <br><br>  - Und hier gibt es eine Einschr√§nkung.  Netzwerksegmentierung ist keine tr√ºbe Geschichte.  UTM ist eine Grenzfirewall des Kundennetzwerks, in der keine Segmentierung m√∂glich ist, dh Ihre Daten werden in einem einzigen Kanal nach au√üen √ºbertragen.  In gewisser Weise k√∂nnen Sie das Netzwerk innerhalb der ACL auf dem CPE segmentieren, indem Sie unterschiedliche Einschr√§nkungen f√ºr verschiedene Standorte festlegen.  Wenn Sie jedoch Gesch√§ftsanwendungen haben, die √ºber die Firewall unterschiedlich miteinander interagieren m√ºssen, m√ºssen Sie f√ºr die interne Segmentierung weiterhin eine separate FW verwenden. <br><br>  <b>- Was passiert mit unseren IP-Adressen beim Wechsel in die Cloud?</b> <br><br>  - In den meisten F√§llen m√ºssen Sie Ihre wei√üen IP-Adressen in unsere √§ndern.  Eine Ausnahme ist m√∂glich, wenn Ihnen ein vom Anbieter nicht unabh√§ngiges autonomes System (PI AS) zugewiesen ist, das von uns erneut angek√ºndigt werden kann. <br><br>  Manchmal ist es logischer, eine komplexe Option zu w√§hlen. Lassen Sie beispielsweise den Benutzerverkehr √ºber UTM und geben Sie andere Netzwerksegmente direkt ins Internet frei. <br><br>  <b>- Und wenn Sie eine Site sch√ºtzen m√ºssen, die von einem externen Anbieter gehostet wird?</b> <br><br>  - CPE nicht dort setzen.  Sie k√∂nnen WAF verbinden, indem Sie den ADNS-Datensatz √§ndern: √Ñndern Sie die IP-Adresse der Site in die IP-Adresse der Servicekette. Anschlie√üend wird der Datenverkehr ohne CPE durch unsere Cloud geleitet. <br><br>  Wenn Sie weitere Fragen haben, schreiben Sie diese in die Kommentare, und wir werden versuchen, sie zu beantworten </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de465877/">https://habr.com/ru/post/de465877/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de465861/index.html">Vertrauliche "Wolke". Wir suchen nach einer Alternative zu offenen L√∂sungen</a></li>
<li><a href="../de465863/index.html">Kurz gesagt, wie man MIDI f√ºr das Web verwendet</a></li>
<li><a href="../de465867/index.html">Wir programmieren die Kassiererin neu und drucken darauf Keanu Reeves</a></li>
<li><a href="../de465869/index.html">Konvertieren polygonaler Modelle in Grenzdarstellung: Algorithmus- und Codebeispiele</a></li>
<li><a href="../de465873/index.html">Das Problem, das Sie l√∂sen, ist wichtiger als der Code, den Sie schreiben</a></li>
<li><a href="../de465879/index.html">Und was ist mit Krippen?</a></li>
<li><a href="../de465885/index.html">Wie werde ich ein f√ºhrender Scrum Master und rocke das Team?</a></li>
<li><a href="../de465889/index.html">Wie wir Energieeffizienz betrieben haben</a></li>
<li><a href="../de465891/index.html">Wie man am Beispiel von Vepp einen Produkt- oder Firmennamen erstellt</a></li>
<li><a href="../de465893/index.html">Summ3r von h4ck 2019. Abteilung f√ºr Sicherheitsanalyse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>