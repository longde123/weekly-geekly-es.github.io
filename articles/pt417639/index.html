<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåâ ü§üüèæ üîã O reverso do Neuromancer. Parte 4: Som, Anima√ß√£o, Huffman, Github üòÆ üíÑ üöÜ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√°, como voc√™ j√° entendeu, esta √© uma continua√ß√£o da minha hist√≥ria de engenharia reversa e portabilidade do Neuromant. 

 O reverso do Neuromancer. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>O reverso do Neuromancer. Parte 4: Som, Anima√ß√£o, Huffman, Github</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417639/"><p>  Ol√°, como voc√™ j√° entendeu, esta √© uma continua√ß√£o da minha hist√≥ria de engenharia reversa e portabilidade do Neuromant. </p><br><img src="https://habrastorage.org/webt/-g/ru/d_/-grud_xhetuzh4znt4rbkeakxyi.png"><br><blockquote> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O reverso do Neuromancer.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 1: Sprites</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O reverso do Neuromancer.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2: Renderizar fonte</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O reverso do Neuromancer.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 3: Renderiza√ß√£o finalizada, fa√ßa o jogo</a> </blockquote><p>  Hoje, vamos come√ßar com duas boas not√≠cias: </p><br><ul><li>  primeiro, n√£o estou mais sozinho - o usu√°rio do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">viiri</a> j√° entrou no projeto e j√° fez uma contribui√ß√£o significativa; </li><li>  segundo, agora temos um reposit√≥rio aberto no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><em>github</em></a> . </li></ul><br><p>  Em geral, as coisas est√£o indo muito bem, e talvez em breve teremos pelo menos alguma vers√£o jog√°vel.  E, como de costume, vamos falar sobre o que e <em>como</em> foram alcan√ßados no momento. </p><a name="habracut"></a><br><hr><br><p>  Ele come√ßou a lidar com o som.  Infelizmente, entre os recursos do jogo, n√£o havia nada parecido com o √°udio, e como eu n√£o tinha id√©ia de como a m√∫sica funciona no <em>MS-DOS</em> , n√£o era muito claro por onde come√ßar.  Depois de ler um pouco sobre todos os tipos de <em>SoundBlaster</em> , o melhor que descobri √© rolar o c√≥digo desmontado na esperan√ßa de ver algumas assinaturas familiares.  E quem procura, ele geralmente encontra, mesmo que n√£o seja exatamente o que estava procurando (coment√°rios de <em>Ida</em> ): </p><br><pre><code class="hljs vhdl">sub_20416: ... mov ax, [si+<span class="hljs-number"><span class="hljs-number">8</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span>h, al ; <span class="hljs-number"><span class="hljs-number">8253</span></span>-<span class="hljs-number"><span class="hljs-number">5</span></span> (AT: <span class="hljs-number"><span class="hljs-number">8254.2</span></span>). mov al, ah <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span>h, al ; Timer <span class="hljs-number"><span class="hljs-number">8253</span></span>-<span class="hljs-number"><span class="hljs-number">5</span></span> (AT: <span class="hljs-number"><span class="hljs-number">8254.2</span></span>). mov bx, [si+<span class="hljs-number"><span class="hljs-number">0</span></span>Ah] <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> bl, <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> al, <span class="hljs-number"><span class="hljs-number">61</span></span>h ; PC/XT PPI <span class="hljs-keyword"><span class="hljs-keyword">port</span></span> B bits: ; <span class="hljs-number"><span class="hljs-number">0</span></span>: Tmr <span class="hljs-number"><span class="hljs-number">2</span></span> gate ‚ïê‚ï¶‚ïê‚ñ∫ <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-number"><span class="hljs-number">03</span></span>H=spkr <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> ; <span class="hljs-number"><span class="hljs-number">1</span></span>: Tmr <span class="hljs-number"><span class="hljs-number">2</span></span> data ‚ïê‚ïù <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>fcH=spkr OFF ; <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>=read high switches ; <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>=enable RAM parity checking ; <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>=enable I/O channel check ; <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>=hold keyboard clock low ; <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>=enable kbrd <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> al, <span class="hljs-number"><span class="hljs-number">0</span></span>FCh <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> al, bl <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">61</span></span>h, al ; PC/XT PPI <span class="hljs-keyword"><span class="hljs-keyword">port</span></span> B bits: ; <span class="hljs-number"><span class="hljs-number">0</span></span>: Tmr <span class="hljs-number"><span class="hljs-number">2</span></span> gate ‚ïê‚ï¶‚ïê‚ñ∫ <span class="hljs-keyword"><span class="hljs-keyword">OR</span></span> <span class="hljs-number"><span class="hljs-number">03</span></span>H=spkr <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> ; <span class="hljs-number"><span class="hljs-number">1</span></span>: Tmr <span class="hljs-number"><span class="hljs-number">2</span></span> data ‚ïê‚ïù <span class="hljs-keyword"><span class="hljs-keyword">AND</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>fcH=spkr OFF ; <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>=read high switches ; <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>=enable RAM parity checking ; <span class="hljs-number"><span class="hljs-number">5</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>=enable I/O channel check ; <span class="hljs-number"><span class="hljs-number">6</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>=hold keyboard clock low ; <span class="hljs-number"><span class="hljs-number">7</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>=enable kbrd</code> </pre> <br><p>  Tendo passado por esse <em>Timer 8253-5,</em> me deparei com <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um artigo</a> que se tornou a primeira chave para entender o que estava acontecendo.  Abaixo vou tentar explicar o que √© o qu√™. </p><br><p>  Portanto, na era do <em>IBM-PC</em> , antes do advento de placas de som acess√≠veis, o dispositivo de reprodu√ß√£o de som mais comum era o <em>PC Speaker</em> , tamb√©m conhecido como "bip".  Este dispositivo nada mais √© do que um alto-falante comum conectado √† placa-m√£e, na maioria dos casos, atrav√©s de um conector de quatro pinos.  O sinal sonoro, de acordo com a id√©ia, possibilitou a reprodu√ß√£o de um pulso retangular de dois n√≠veis (correspondente a dois n√≠veis de tens√£o, geralmente 0V e + 5V) e foi controlado atrav√©s da 61¬™ porta do controlador <em>PPI (Programmable Peripheral Interface)</em> .  Especificamente, os dois primeiros bits do valor enviado para a porta s√£o respons√°veis ‚Äã‚Äãpor controlar o "alto-falante" (ver coment√°rios nas linhas <code>in al, 61h</code> e <code>out 61h, al</code> ). </p><br><p>  Como eu disse (em poucas palavras diferentes), nosso falante pode estar em dois estados - <em>"dentro"</em> e <em>"fora"</em> ( <em>"baixo" - "alto"</em> , <em>"desligado" - "ligado"</em> , <em>"desligado" - "ligado"</em> , o que for).  Para criar <em>um</em> impulso, √© necess√°rio mudar o estado atual para o oposto e, depois de algum tempo, voltar.  Isso pode ser feito diretamente, manipulando o primeiro bit (contagem a partir do zero) da porta 61, por exemplo, assim: </p><br><pre> <code class="hljs vhdl">PULSE: <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> al, <span class="hljs-number"><span class="hljs-number">61</span></span>h ;    <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> al, <span class="hljs-number"><span class="hljs-number">11111100</span></span>b ;    ... <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> al, <span class="hljs-number"><span class="hljs-number">00000010</span></span>b ;     ... ; ,        <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">61</span></span>h, al ;    <span class="hljs-number"><span class="hljs-number">61</span></span>-  mov cx, <span class="hljs-number"><span class="hljs-number">100</span></span> ;   DELAY: <span class="hljs-keyword"><span class="hljs-keyword">loop</span></span> DELAY ;    <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> al, <span class="hljs-number"><span class="hljs-number">61</span></span>h ;    <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> al, <span class="hljs-number"><span class="hljs-number">11111100</span></span>b ;     <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">61</span></span>h, al ;    <span class="hljs-number"><span class="hljs-number">61</span></span>- </code> </pre> <br><p>  O resultado da execu√ß√£o deste c√≥digo ser√° semelhante a este: </p><br><pre> <code class="hljs delphi"> loop DELAY +<span class="hljs-number"><span class="hljs-number">5</span></span>V +----------------------+ ! ! <span class="hljs-number"><span class="hljs-number">0</span></span>V ---+ +-------------------------- <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> al, <span class="hljs-number"><span class="hljs-number">00000010</span></span>b <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> al, <span class="hljs-number"><span class="hljs-number">11111100</span></span>b <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">61</span></span>h, al <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">61</span></span>h, al</code> </pre> <br><p>  Repetindo <em>PULSO</em> com um atraso, obtemos um sinal retangular: </p><br><pre> <code class="hljs erlang-repl"> mov dx, <span class="hljs-number"><span class="hljs-number">100</span></span> ;  <span class="hljs-number"><span class="hljs-number">100</span></span>  PULSE: ... mov cx, <span class="hljs-number"><span class="hljs-number">100</span></span> WAIT: loop WAIT dec dx jnz PULSE PULSE +<span class="hljs-number"><span class="hljs-number">5</span></span>V +---------+ +---------+ +---------+ ! ! ! ! ! ! <span class="hljs-number"><span class="hljs-number">0</span></span>V ---+ +---------+ +---------+ +--- loop WAIT</code> </pre><br><p>  Se no primeiro caso dificilmente ter√≠amos ouvido algo, no segundo obteremos um tom de frequ√™ncia, dependendo da velocidade da m√°quina na qual esse c√≥digo √© executado.  Isso √© √≥timo, mas associado a certas dificuldades.  De qualquer forma, existe uma maneira mais conveniente de controlar o alto-falante. </p><br><p>  A√≠ vem o cron√¥metro program√°vel de tr√™s canais para jogos - <em>Intel 8253</em> , cujo segundo canal (come√ßando do zero) est√° conectado ao sinal sonoro.  Este timer recebe um sinal do rel√≥gio <em>Intel 8254</em> , enviando 1193180 pulsos por segundo (~ 1.193 MHz) e pode ser programado para uma rea√ß√£o espec√≠fica ap√≥s um n√∫mero especificado de pulsos.  Uma dessas rea√ß√µes √© enviar um pulso quadrado para o alto-falante.  Em outras palavras, o <em>8253</em> pode funcionar na forma de um gerador de um sinal retangular de frequ√™ncia ajust√°vel, o que torna relativamente f√°cil sintetizar v√°rios efeitos sonoros no alto-falante.  E aqui est√° o que voc√™ precisa para isso: </p><br><ol><li>  Defina o segundo canal do temporizador para o modo de gera√ß√£o de sinal retangular.  Para fazer isso, escreva um valor especial de byte √∫nico na porta 43 ( <em>registrador de modo / comando 8253</em> ).  No meu caso, este √© <code>10110110B</code> (mais detalhes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> ): </li></ol><br><pre> <code class="markdown hljs">Bits Usage 6 and 7 Select channel : 1 0 = Channel 2 4 and 5 Access mode : 1 1 = Access mode: lobyte/hibyte 1 to 3 Operating mode : 0 1 1 = Mode 3 (square wave generator) 0 BCD/Binary mode: 0 = 16-bit binary</code> </pre> <br><ol><li><p>  Defina a frequ√™ncia desejada no segundo canal.  Para fazer isso, byte por bit, do mais novo ao mais antigo, enviamos para a 42¬™ porta ( <em>porta de dados 8253 Canal 2</em> ) um valor igual a <code>1193180 / freq</code> , em que <code>freq</code> √© o valor de frequ√™ncia necess√°rio em Hertz. </p><br></li><li><p>  Permita que o alto-falante receba pulsos do timer.  Para fazer isso, defina os dois primeiros bits do valor na porta 61 ( <em>PPI</em> ) como unidade.  O fato √© que, se o bit zero for definido como 1, o primeiro ser√° interpretado como um "comutador": </p><br></li></ol><br><pre> <code class="markdown hljs">Bit 0 Effect ----------------------------------------------------------------- 0 The state of the speaker will follow bit 1 of port 61h 1 The speaker will be connected to PIT channel 2, bit 1 is used as switch ie 0 = not connected, 1 = connected.</code> </pre> <br><p>  Como resultado, temos a seguinte imagem: </p><br><pre> <code class="hljs vhdl"> mov al, <span class="hljs-number"><span class="hljs-number">10110110</span></span>b <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">43</span></span>h, al ;   mov ax, <span class="hljs-number"><span class="hljs-number">02E9</span></span>Bh ; <span class="hljs-number"><span class="hljs-number">1193180</span></span> / <span class="hljs-number"><span class="hljs-number">100</span></span> = ~<span class="hljs-number"><span class="hljs-number">0</span></span>x2E9B <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span>h, al ;      mov al, ah <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">42</span></span>h, al ;      <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> al, <span class="hljs-number"><span class="hljs-number">61</span></span>h ;    <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> al, <span class="hljs-number"><span class="hljs-number">00000011</span></span>b ;      <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">61</span></span>h, al ;   ... ;       ~<span class="hljs-number"><span class="hljs-number">100</span></span>  <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> al, <span class="hljs-number"><span class="hljs-number">61</span></span>h <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> al, <span class="hljs-number"><span class="hljs-number">11111100</span></span>b <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">61</span></span>h, al ;  </code> </pre> <br><p>  E √© exatamente isso que o c√≥digo que eu citei no in√≠cio (exceto para a inicializa√ß√£o, mas eu o encontrei em outra fun√ß√£o): no <code>si + 8</code> h√° um divisor de frequ√™ncia enviado para a porta 42 e no <code>si + 0Ah</code> - status do alto-falante ( <em>‚Äúligado‚Äù - ‚Äúdesligado‚Äù</em> ) gravado na porta 61. </p><br><p>  O mecanismo de reprodu√ß√£o √© simples e direto, mas voc√™ teve que lidar com hor√°rios.  Tendo examinado o c√≥digo pr√≥ximo, vi que na mesma fun√ß√£o em que o timer √© inicializado ( <code>sub_2037A</code> , daqui em diante - <code>init_8253</code> ), o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">oitavo</a> manipulador de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">interrup√ß√µes</a> √© substitu√≠do pela fun√ß√£o <code>sub_20416</code> (a seguir - <code>play_sample</code> ).  Logo ficou claro que essa interrup√ß√£o √© gerada aproximadamente 18,2 vezes por segundo e serve para atualizar a hora do sistema.  Substituir o manipulador dessa interrup√ß√£o √© uma pr√°tica comum se voc√™ precisar executar alguma a√ß√£o 18 vezes por segundo (na verdade, o manipulador original tamb√©m deve ser chamado dentro do gancho, caso contr√°rio, a hora do sistema ser√° interrompida).  Com base nisso, verifica-se que a pr√≥xima frequ√™ncia √© carregada no gerador a cada <code>(1 / 18.2) * 1000 ~ 55</code> . </p><br><p>  O plano era este: </p><br><ul><li>  coloque um ponto de interrup√ß√£o na fun√ß√£o <code>play_sample</code> , na linha em que o pr√≥ximo divisor de frequ√™ncia √© extra√≠do; </li><li>  calcular a frequ√™ncia de acordo com a f√≥rmula <code>freq = 1193180 / divisor</code> ; </li><li>  gerar 55ms de sinal de frequ√™ncia quadrada em algum tipo de editor de √°udio (usei o <em>Adobe Audition</em> ); </li><li>  repita os tr√™s primeiros passos at√© acumular pelo menos 3 segundos. </li></ul><br><p>  Ent√£o, eu peguei o come√ßo da melodia no menu principal, mas toquei 10 vezes mais devagar do que o necess√°rio.  Depois reduzi a dura√ß√£o da "amostra" de 55 ms para 5 ms - ela ficou muito melhor, mas ainda n√£o √© isso.  O problema de tempo permaneceu em aberto at√© eu encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">este artigo</a> .  Descobriu-se que a oitava interrup√ß√£o √© gerada pela alimenta√ß√£o do mesmo <em>8253</em> , cujo canal zero est√° conectado ao controlador de interrup√ß√£o ( <em>PIC</em> ).  Quando a m√°quina √© inicializada, o <em>BIOS</em> define o canal zero para gerar pulsos com uma frequ√™ncia de ~ 18,2 Hz (ou seja, uma interrup√ß√£o √© gerada a cada ~ 54,9 ms).  No entanto, o canal zero pode ser reprogramado para gerar pulsos com uma frequ√™ncia mais alta; para isso, por analogia com o segundo canal, √© necess√°rio escrever um valor igual a <code>1193180 / freq</code> na 40¬™ porta, em que <code>freq</code> √© o valor de frequ√™ncia necess√°rio em Hertz.  Isso acontece na fun√ß√£o <code>init_8253</code> , mas inicialmente n√£o prestei a devida aten√ß√£o: </p><br><pre> <code class="hljs objectivec">init_8253: ... mov al, <span class="hljs-number"><span class="hljs-number">0</span></span>B6h ; <span class="hljs-number"><span class="hljs-number">10110110</span></span>b <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">43</span></span>h, al ; Timer <span class="hljs-number"><span class="hljs-number">8253</span></span><span class="hljs-number"><span class="hljs-number">-5</span></span> (AT: <span class="hljs-number"><span class="hljs-number">8254.2</span></span>). mov ax, <span class="hljs-number"><span class="hljs-number">13</span></span>B1h <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">40</span></span>h, al ; Timer <span class="hljs-number"><span class="hljs-number">8253</span></span><span class="hljs-number"><span class="hljs-number">-5</span></span> (AT: <span class="hljs-number"><span class="hljs-number">8254.2</span></span>). mov al, ah <span class="hljs-keyword"><span class="hljs-keyword">out</span></span> <span class="hljs-number"><span class="hljs-number">40</span></span>h, al ; Timer <span class="hljs-number"><span class="hljs-number">8253</span></span><span class="hljs-number"><span class="hljs-number">-5</span></span> (AT: <span class="hljs-number"><span class="hljs-number">8254.2</span></span>).</code> </pre> <br><p>  O valor <code>13B1h</code> traduzido para a frequ√™ncia: <code>1193180 / 13B1h ~ 236.7</code> , ent√£o obtemos aproximadamente <code>(1 / 236.7) * 1000 ~ 4.2</code> por "amostra".  O quebra-cabe√ßa se desenvolveu. </p><br><p>  Ent√£o √© uma quest√£o de tecnologia - implementar uma fun√ß√£o que extrai as trilhas sonoras do jogo.  Mas eis que os valores dos divisores de frequ√™ncia registrados na 42¬™ porta n√£o s√£o armazenados explicitamente.  Eles s√£o calculados por algum algoritmo complicado, cujos dados de entrada e a √°rea de trabalho est√£o diretamente no arquivo execut√°vel do jogo (no s√©timo segmento, de acordo com <em>Ida</em> ).  Al√©m disso, dos recursos, n√£o h√° sinal do fim da faixa, quando n√£o h√° mais nada para reproduzir, o algoritmo produz infinitamente um estado zero do alto-falante.  Mas eu n√£o me incomodei e, como no caso do algoritmo de descompress√£o (a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeira parte</a> ), acabei de portar para o montador de 64 bits a fun√ß√£o de definir a faixa para reprodu√ß√£o e o algoritmo para obter a pr√≥xima frequ√™ncia (e eu peguei o s√©timo segmento inteiramente). </p><br><p>  E funcionou.  Depois disso, implementei as fun√ß√µes de gera√ß√£o da trilha sonora para a faixa selecionada ( <em>PCM, 44100 Hz, 8 bits, mono</em> ; fiz algo como um gerador usado no emulador de alto-falante do <em>DosBox</em> ).  Resolvi o problema com o sinal do fim com um simples contador de sil√™ncio: contei um segundo - conclu√≠mos o algoritmo.  Envolvendo a faixa resultante no cabe√ßalho <em>WAV</em> e salvando o resultado em um arquivo, obtive exatamente a faixa no menu principal.  E mais 13 faixas que voc√™ pode ouvir abaixo <em>[ou no visualizador de recursos, que agora possui um player embutido e a capacidade de salvar qualquer faixa em .WAV]</em> : </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://w.soundcloud.com/player/" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  <em>[Estudando a quest√£o, aprendi sobre t√©cnicas mais avan√ßadas de "bip", como o uso da modula√ß√£o por largura de pulso para uma reprodu√ß√£o de som PCM de baixa qualidade.</em>  <em>No final deste artigo, fornecerei uma lista de materiais com os quais voc√™ pode aprender mais.]</em> </p><br><hr><br><p>  Na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">segunda parte</a> , quando v√°rios formatos de recursos foram considerados, sugeri que os arquivos <em>.ANH contenham</em> anima√ß√µes para planos de fundo do local (ou seja, para imagens armazenadas em <em>.PIC</em> ).  <em>[√â assim.]</em> Depois de terminar o som, decidi dar uma olhada.  Apenas no pressuposto de que a anima√ß√£o √© aplicada diretamente √† imagem de fundo armazenada na mem√≥ria (n√£o na <em>mem√≥ria de v√≠deo</em> , mas na <em>cadeia de sprites</em> ), decidi despejar essa mem√≥ria, respectivamente, antes e depois de aplicar a anima√ß√£o (veja onde o cursor aponta para o topo letra da letra 'S'): </p><br><p><img src="https://habrastorage.org/webt/zp/9a/qn/zp9aqnvcvi-gn3pp0t1puzvhpti.gif" width="32%" height="32%"><img src="https://habrastorage.org/webt/jz/9l/ig/jz9ligummo9j_xwwatid-s0vcri.png" width="32%" height="32%"><img src="https://habrastorage.org/webt/sz/pd/uy/szpduyzc7lgsqum_np9sbvrq4qo.png" width="32%" height="32%"></p><br><pre> <code class="markdown hljs">3DE6:0E26 03 B4 44 B3 ... ;   3DE6:0E26 03 BC CC B3 ... ;  </code> </pre> <br><p>  Exatamente o que eu esperava - a cor vermelha escura (0x4) mudou para vermelho brilhante (0xC).  Agora voc√™ pode tentar definir o ponto de interrup√ß√£o para alterar o valor no endere√ßo, por exemplo, <code>3DE6:0E28</code> e, se tiver sorte, realizar um rastreamento reverso.  <em>[Eu tive sorte.]</em> O ponto de interrup√ß√£o me levou a uma linha que altera diretamente o valor no endere√ßo fornecido: <code>xor es:[bx], al</code> .  Tendo examinado o ambiente, <code>sub_1231E (xor es:[bx], al) &lt;- sub_12222 &lt;- sub_105F6 &lt;- sub_1038F ( )</code> facilmente uma cadeia de chamadas do loop de n√≠vel principal at√© este ponto: <code>sub_1231E (xor es:[bx], al) &lt;- sub_12222 &lt;- sub_105F6 &lt;- sub_1038F ( )</code> . </p><br><p>  N√£o vou entrar em detalhes sobre exatamente como invertei o processo de anima√ß√£o.  Este √© um trabalho bastante rotineiro e met√≥dico, mas n√£o muito dif√≠cil se os limites forem claramente delineados (a volta recebida √© esses limites).  Mas n√£o posso deixar de falar sobre o que aconteceu no final. </p><br><p>  Primeiro sobre o formato <em>.ANH</em> .  Na verdade, √© um conjunto de cont√™ineres e a primeira palavra no arquivo <em>.ANH</em> √© o n√∫mero de cont√™ineres dentro: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">anh_hdr_t</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> anh_entries; <span class="hljs-comment"><span class="hljs-comment">/* first entry hdr */</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">anh_hdr_t</span></span>;</code> </pre> <br><p>  O cont√™iner em si √© uma anima√ß√£o separada do elemento background.  Voc√™ pode selecionar um cabe√ßalho para o cont√™iner que cont√©m seu tamanho de byte e o n√∫mero de quadros na anima√ß√£o que ele representa.  Ao lado do cabe√ßalho est√£o os valores da dura√ß√£o (atraso) do pr√≥ximo quadro e o deslocamento de bytes do pr√≥prio quadro, em rela√ß√£o aos bytes do primeiro quadro.  O n√∫mero de tais pares √© obviamente igual ao n√∫mero de quadros: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">anh_entry_hdr_t</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> entry_size; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> total_frames; <span class="hljs-comment"><span class="hljs-comment">/* anh_frame_data_t first_frame_data */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* another frames data */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* anh_frame_hdr first_frame_hdr */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* another frames */</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">anh_entry_hdr_t</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">anh_frame_data_t</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> frame_sleep; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> frame_offset; } <span class="hljs-keyword"><span class="hljs-keyword">anh_frame_data_t</span></span>; ... <span class="hljs-keyword"><span class="hljs-keyword">extern</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *anh; <span class="hljs-keyword"><span class="hljs-keyword">anh_hdr_t</span></span> *hdr = (<span class="hljs-keyword"><span class="hljs-keyword">anh_hdr_t</span></span>*)anh; <span class="hljs-keyword"><span class="hljs-keyword">anh_entry_hdr_t</span></span> *entry = (<span class="hljs-keyword"><span class="hljs-keyword">anh_entry_hdr_t</span></span>*)(anh + <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">anh_hdr_t</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> u = <span class="hljs-number"><span class="hljs-number">0</span></span>; u &lt; anh-&gt;anh_entries; u++) { <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *p = (<span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span>*)entry; <span class="hljs-keyword"><span class="hljs-keyword">anh_frame_data_t</span></span> *first_frame_data = (<span class="hljs-keyword"><span class="hljs-keyword">anh_frame_data_t</span></span>*)(p + <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">anh_entry_hdr_t</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *first_frame_bytes = p + (entry-&gt;total_frames * <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">anh_frame_data_t</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> k = <span class="hljs-number"><span class="hljs-number">0</span></span>; k &lt; entry-&gt;total_frames; k++) { <span class="hljs-keyword"><span class="hljs-keyword">anh_frame_data_t</span></span> *frame_data = first_frame_data + k; <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *frame_bytes = first_frame_bytes + frame_data-&gt;frame_offset; ... } <span class="hljs-comment"><span class="hljs-comment">/* plus 2 bytes of padding */</span></span> p += (entry-&gt;entry_size + <span class="hljs-number"><span class="hljs-number">2</span></span>); entry = (<span class="hljs-keyword"><span class="hljs-keyword">anh_entry_hdr_t</span></span>*)p; }</code> </pre><br><p>  Um quadro separado √© composto por um cabe√ßalho de quatro bytes que cont√©m suas dimens√µes e deslocamentos lineares em rela√ß√£o √† imagem de plano de fundo e os pixels do quadro codificados pelo algoritmo que j√° me √© familiar pelo <em>Comprimento da Execu√ß√£o</em> : </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">anh_frame_hdr</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> bg_x_offt; <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> bg_y_offt; <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> frame_width; <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> frame_height; <span class="hljs-comment"><span class="hljs-comment">/* rle encoded frame bytes */</span></span> };</code> </pre> <br><p>  A "sobreposi√ß√£o" do quadro no pano de fundo pode ser assim: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">extern</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *level_bg; <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> frame_pix[<span class="hljs-number"><span class="hljs-number">8192</span></span>]; anh_frame_hdr *hdr = (anh_frame_hdr*)frame_bytes; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> frame_len = hdr-&gt;frame_width * hdr-&gt;frame_height; decode_rle(frame + <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(anh_frame_hdr), frame_len, frame_pix); <span class="hljs-comment"><span class="hljs-comment">/* 0xFB4E - some magic value, have no idea what is it */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> bg_offt = (hdr-&gt;bg_y_offt * <span class="hljs-number"><span class="hljs-number">152</span></span>) + hdr-&gt;bg_x_offt + <span class="hljs-number"><span class="hljs-number">0xFB4E</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> bg_skip = <span class="hljs-number"><span class="hljs-number">152</span></span> - hdr-&gt;frame_width; <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *p1 = frame_pix, *p2 = level_bg; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> i = hdr-&gt;frame_height; i != <span class="hljs-number"><span class="hljs-number">0</span></span>; i--) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> j = hdr-&gt;frame_width; j != <span class="hljs-number"><span class="hljs-number">0</span></span>; j--) { *p2++ ^= *p1++; } p2 += bg_skip; }</code> </pre> <br><p>  Este √© o <em>formato .ANH</em> , mas h√° outra estrutura que faz tudo funcionar: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">bg_animation_control_table_t</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> total_frames; <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *first_frame_data; <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *first_frame_bytes; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> sleep; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> curr_frame; } <span class="hljs-keyword"><span class="hljs-keyword">bg_animation_control_table_t</span></span>;</code> </pre> <br><p>  No pr√≥prio jogo, uma matriz de pelo menos quatro estruturas desse tipo √© declarada globalmente.  Depois de carregar o pr√≥ximo arquivo <em>.ANH</em> , o n√∫mero de anima√ß√µes dentro tamb√©m √© armazenado em uma vari√°vel global e os elementos da matriz s√£o inicializados da seguinte maneira: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">extern</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *anh; <span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> g_anim_amount = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">bg_animation_control_table_t</span></span> g_anim_ctl[<span class="hljs-number"><span class="hljs-number">4</span></span>]; ... <span class="hljs-keyword"><span class="hljs-keyword">anh_hdr_t</span></span> *hdr = (<span class="hljs-keyword"><span class="hljs-keyword">anh_hdr_t</span></span>*)anh; <span class="hljs-keyword"><span class="hljs-keyword">anh_entry_hdr_t</span></span> *entry = (<span class="hljs-keyword"><span class="hljs-keyword">anh_entry_hdr_t</span></span>*)(anh + <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">anh_hdr_t</span></span>)); g_anim_amount = hdr-&gt;anh_entries; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> u = <span class="hljs-number"><span class="hljs-number">0</span></span>; u &lt; g_anim_amount; u++) { <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *p = (<span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span>*)entry; g_anim_ctl[u].total_frames = entry-&gt;total_frames; g_anim_ctl[u].first_frame_data = p + <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">anh_entry_hdr_t</span></span>); g_anim_ctl[u].first_frame_bytes = g_anim_ctl[u].first_frame_data + (entry-&gt;total_frames * <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">anh_frame_data_t</span></span>)); g_anim_ctl[u].sleep = *(<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span>*)(g_animation_control[u].first_frame_data); g_anim_ctl[u].curr_frame = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* plus 2 bytes of padding */</span></span> p += (entry-&gt;entry_size + <span class="hljs-number"><span class="hljs-number">2</span></span>); entry = (<span class="hljs-keyword"><span class="hljs-keyword">anh_entry_hdr_t</span></span>*)p; }</code> </pre><br><p>  Por fim, aplique as anima√ß√µes: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> u = <span class="hljs-number"><span class="hljs-number">0</span></span>; u &lt; g_anim_amount; u++) { <span class="hljs-keyword"><span class="hljs-keyword">bg_animation_control_table_t</span></span> *anim = &amp;g_anim_ctl[u]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (anim-&gt;sleep-- == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">anh_frame_data_t</span></span> *data = (<span class="hljs-keyword"><span class="hljs-keyword">anh_frame_data_t</span></span>*)anim-&gt;first_frame_data + anim-&gt;curr_frame; <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> ... <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (++anim-&gt;curr_frame == anim-&gt;total_frames) { anim-&gt;curr_frame = <span class="hljs-number"><span class="hljs-number">0</span></span>; data = (<span class="hljs-keyword"><span class="hljs-keyword">anh_frame_data_t</span></span>*)anim-&gt;first_frame_data; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { data++; } anim-&gt;sleep = data-&gt;frame_sleep; } }</code> </pre> <br><p>  E temos o seguinte <em>[voc√™ pode ver muito mais no visualizador de recursos]</em> : </p><br><div class="spoiler">  <b class="spoiler_title">R2.ANH.GIF</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/p7/lv/fn/p7lvfn5ytpjm5nsoctsumdncuaa.gif"></div></div><br><div class="spoiler">  <b class="spoiler_title">R6.ANH.GIF</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/j6/nb/xp/j6nbxpj29jlrikbmjl8f62s4xmc.gif"></div></div><br><p>  H√° alguns problemas com a anima√ß√£o no momento.  A primeira √© que, no meu c√≥digo, reproduzo todas as anima√ß√µes dispon√≠veis, mas o original verifica se h√° alguns sinalizadores globais indicando se √© necess√°rio rolar o pr√≥ximo.  E a segunda, devido ao fato de que algumas anima√ß√µes adicionam objetos √† tela que n√£o est√£o originalmente l√°.  E como os quadros ‚Äúbrigam‚Äù no fundo, depois com uma rolagem c√≠clica, a cada segundo c√≠rculo o objeto simplesmente desaparece.  Aqui, por exemplo, como pode parecer: </p><br><div class="spoiler">  <b class="spoiler_title">R53.ANH.GIF</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/d3/5l/iu/d35liujvu6ash9gcdrecvoq9kuc.gif"></div></div><br><p>  Mas, por enquanto, vamos deixar como est√°. </p><br><hr><br><p>  Lembre-se do algoritmo de descompress√£o desconhecido da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeira parte</a> ?  Tendo mal conectado ao desenvolvimento, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">viiri</a> n√£o apenas determinou que tipo de algoritmo era, mas tamb√©m escreveu sua pr√≥pria vers√£o do decodificador, substituindo a terr√≠vel pe√ßa de tr√™s linhas do Assembler na base de c√≥digo.  A esse respeito, pedi √† <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">viiri</a> que escrevesse um pequeno ensaio sobre o trabalho realizado.  O que foi feito, mas antes que eu o cite, algumas palavras precisam ser ditas sobre a teoria. </p><br><p>  Para compactar recursos, os desenvolvedores <em>do Neuromancer</em> usaram <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><em>o c√≥digo Huffman</em></a> .  Este √© um dos primeiros m√©todos eficazes de codificar informa√ß√µes usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><em>c√≥digos de prefixo</em></a> .  Na teoria da codifica√ß√£o, c√≥digos com uma palavra de comprimento vari√°vel e aqueles nos quais nenhuma palavra de c√≥digo √© um prefixo de outra s√£o chamados c√≥digos de <em>prefixo</em> .  Ou seja, se a palavra <em>"a"</em> estiver inclu√≠da no c√≥digo do prefixo, a palavra <em>"ab"</em> n√£o existe no c√≥digo.  Essa propriedade permite que voc√™ divida exclusivamente em palavras a mensagem codificada por esse c√≥digo. </p><br><p>  A id√©ia do algoritmo de Huffman √© que, sabendo a probabilidade de ocorr√™ncia de caracteres de um determinado alfabeto na mensagem, podemos descrever o procedimento para construir c√≥digos de comprimento vari√°vel, consistindo em um n√∫mero inteiro de bits.  S√≠mbolos com maior probabilidade de ocorr√™ncia recebem c√≥digos mais curtos e s√≠mbolos com menor probabilidade, pelo contr√°rio, c√≥digos mais longos.  Em geral, o procedimento de codifica√ß√£o √© reduzido para construir a √°rvore de c√≥digo ideal e, com base em, mapear o s√≠mbolo da mensagem para o c√≥digo correspondente.  A propriedade prefixo do c√≥digo recebido permite decodificar exclusivamente a mensagem compactada. </p><br><div class="spoiler">  <b class="spoiler_title">Huffman.GIF</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/fa/is/hb/faishbcvf0flxiao-mfmnx3llvu.gif"></div></div><br><p>  O algoritmo tem uma desvantagem significativa (de fato, n√£o uma, mas agora apenas essa √© importante).  O fato √© que, para recuperar o conte√∫do de uma mensagem compactada, o decodificador deve conhecer a tabela de frequ√™ncias de ocorr√™ncia de caracteres usados ‚Äã‚Äãpelo codificador.  Nesse sentido, junto com a mensagem codificada, uma tabela de probabilidade ou a pr√≥pria √°rvore de c√≥digos (uma op√ß√£o usada no jogo) devem ser transmitidas.  O tamanho dos dados adicionais pode ser relativamente grande e isso afeta significativamente a efici√™ncia da compacta√ß√£o. </p><br><p>  Algo sobre como voc√™ pode lidar com isso, bem como sobre seu decodificador e o que √© implementado no jogo, diz ao <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">viiri</a> : </p><br><blockquote>  Vale ressaltar que todo o jogo foi completamente escrito em Assembler, √† m√£o, para que o c√≥digo contenha solu√ß√µes, truques e otimiza√ß√µes interessantes. <br><br>  De acordo com os procedimentos.  A fun√ß√£o <code>sub_1ff94</code> ( <code>build_code_table</code> ) √© necess√°ria para carregar uma √°rvore Huffman compactada de um arquivo.  Para decodificar um Huffman est√°tico (√†s vezes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">din√¢mico</a> , e esse requisito n√£o se aplica a ele), juntamente com a mensagem, uma √°rvore de c√≥digos deve ser transmitida, que √© um mapeamento de c√≥digos de Huffman para c√≥digos de caracteres reais.  Esta √°rvore √© grande o suficiente e, portanto, seria bom armazen√°-la de alguma forma eficiente.  A maneira mais correta √© usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">c√≥digos can√¥nicos</a> ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MOAR</a> ).  Devido √†s suas propriedades, existe uma maneira muito interessante e eficaz de armazenar a √°rvore (usada na implementa√ß√£o do m√©todo de compacta√ß√£o <em>Deflate</em> do arquivador <em>PKZip</em> ).  Mas no jogo, os c√≥digos can√¥nicos n√£o s√£o usados; em vez disso, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">√©</a> realizado um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">deslocamento direto da √°rvore</a> e, para cada v√©rtice, o bit 0 √© gravado no fluxo de sa√≠da se o n√≥ n√£o for uma folha ou bit 1 se o n√≥ for uma folha e os pr√≥ximos 8 bits s√£o o c√≥digo de caractere. n√≥  Ao decodificar, uma travessia de √°rvore semelhante √© executada, o que vemos no jogo.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">H√°</a> um exemplo e alguma explica√ß√£o. </blockquote><br><div class="spoiler">  <b class="spoiler_title">build_code_table</b> <div class="spoiler_text"><pre> <code class="hljs sql">build_code_table proc near <span class="hljs-keyword"><span class="hljs-keyword">call</span></span> getbit ;     jb short loc_1FFA9 ;   ... shl dx, 1 inc bx <span class="hljs-keyword"><span class="hljs-keyword">call</span></span> build_code_table ;  build_code_table    or dl, 1 <span class="hljs-keyword"><span class="hljs-keyword">call</span></span> build_code_table ;  build_code_table    shr dx, 1 dec bx ret loc_1FFA9: <span class="hljs-keyword"><span class="hljs-keyword">call</span></span> sub_1FFC2 ;      (8 ) ... ;     ret sub_1FF94 endp sub_1FFC2 proc near sub di, di mov ch, 8 loc_1FFC6: <span class="hljs-keyword"><span class="hljs-keyword">call</span></span> getbit rcl di, <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-built_in"><span class="hljs-built_in">dec</span></span> ch jnz <span class="hljs-keyword"><span class="hljs-keyword">short</span></span> loc_1FFC6 retn sub_1FFC2 endp</code> </pre> </div></div><br><blockquote>  <code>getbit</code> ( <code>sub_1ffd0</code> ) l√™ um pouco do fluxo de entrada.  Sua an√°lise nos permite concluir que os bits individuais s√£o extra√≠dos do registro <code>ax</code> 16 bits, cujo valor √© carregado da mem√≥ria pela instru√ß√£o <code>lodsw</code> , que carrega dois bytes do fluxo, mas como o <em>processador Intel</em> possui ordem de bytes <em>little-endian</em> , o <code>xchg</code> reorganiza metade do registro.  Al√©m disso, a ordem dos bits no fluxo √© um tanto il√≥gica - o primeiro n√£o √© o menos, mas o mais significativo.   ,   <code>shl</code>      ,        <code>jb</code> . </blockquote><br><div class="spoiler"> <b class="spoiler_title">getbit</b> <div class="spoiler_text"><pre> <code class="hljs delphi">getbit proc <span class="hljs-keyword"><span class="hljs-keyword">near</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> cl, cl jz short loc_1FFD9 dec cl <span class="hljs-keyword"><span class="hljs-keyword">shl</span></span> ax, <span class="hljs-number"><span class="hljs-number">1</span></span> retn loc_1FFD9: cmp si, <span class="hljs-number"><span class="hljs-number">27</span></span>B6h jz short loc_1FFE7 ;   lodsw xchg al, ah mov cl, <span class="hljs-number"><span class="hljs-number">0</span></span>Fh <span class="hljs-keyword"><span class="hljs-keyword">shl</span></span> ax, <span class="hljs-number"><span class="hljs-number">1</span></span> retn loc_1FFE7: call sub_202FC ;      lodsw xchg al, ah mov cl, <span class="hljs-number"><span class="hljs-number">0</span></span>Fh <span class="hljs-keyword"><span class="hljs-keyword">shl</span></span> ax, <span class="hljs-number"><span class="hljs-number">1</span></span> retn getbit endp</code> </pre> </div></div><br><p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">viiri</a>  ,    : </p><br><div class="spoiler"> <b class="spoiler_title">huffman_decompress</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">node_t</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> value; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">node_t</span></span></span><span class="hljs-class"> *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">left</span></span></span><span class="hljs-class">, *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">right</span></span></span><span class="hljs-class">;</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">node_t</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> *g_src = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getbits</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> numbits)</span></span></span><span class="hljs-function"> </span></span>{ ... } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> uint32_t </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getl_le</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*       4-    */</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> node_t* </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build_tree</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">node_t</span></span> *node = (<span class="hljs-keyword"><span class="hljs-keyword">node_t</span></span>*)<span class="hljs-built_in"><span class="hljs-built_in">calloc</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">node_t</span></span>)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (getbits(<span class="hljs-number"><span class="hljs-number">1</span></span>)) { node-&gt;right = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; node-&gt;left = <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; node-&gt;value = getbits(<span class="hljs-number"><span class="hljs-number">8</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { node-&gt;right = build_tree(); node-&gt;left = build_tree(); node-&gt;value = <span class="hljs-number"><span class="hljs-number">0</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> node; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">huffman_decompress</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint8_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *src, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint8_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *dst)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> length, i = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">node_t</span></span> *root, *node; g_src = src; length = getl_le(); node = root = build_tree(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (i &lt; length) { node = getbits(<span class="hljs-number"><span class="hljs-number">1</span></span>) ? node-&gt;left : node-&gt;right; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!node-&gt;left) { dst[i++] = node-&gt;value; node = root; } } ... }</code> </pre></div></div><br><p>       : </p><br><blockquote>    <code>build_code_table</code>    .     ,         ,                .     ,                 .     ,           ,    ,       ‚Äî   (    <code>huffman_decompress</code> ). <br><br>     ? !       !  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> ,   .       ( <em> </em> ):          . ,         3- ,         <em>N</em>  ,  <em>(3 ‚Äî N)</em>     . </blockquote><p>       <code>ABCD</code> : <code>A - 0b, B - 10b, C - 110b, D - 111b</code> .       (  ),      ,     : </p><br><table><thead><tr><th>  </th><th>  </th><th>  </th></tr></thead><tbody><tr><td> <strong>0</strong> 00b </td><td>  1 </td><td> A </td></tr><tr><td> <strong>10</strong> 0b </td><td>  2 </td><td> B </td></tr><tr><td> <strong>110</strong> b </td><td>  3 </td><td>  C </td></tr><tr><td> <strong>111</strong> b </td><td>  3 </td><td> D </td></tr></tbody></table><br><p>       ,               .  , , ,      <code>010b</code> ‚Äî     .       .  ,   'A'   <code>0b</code> ,     <em> </em>  ,    .     : </p><br><table><thead><tr><th>  </th><th>  </th><th>  </th><th>  </th></tr></thead><tbody><tr><td>  0 0 </td><td> <strong>0</strong> 00b </td><td>  1 </td><td> A </td></tr><tr><td>  1 </td><td> <strong>0</strong> 01b </td><td>  1 </td><td> A </td></tr><tr><td>  2 </td><td> <strong>0</strong> 10b </td><td>  1 </td><td> A </td></tr><tr><td>  3 </td><td> <strong>0</strong> 11b </td><td>  1 </td><td> A </td></tr><tr><td>  4 </td><td> <strong>10</strong> 0b </td><td>  2 </td><td> B </td></tr><tr><td>  5 </td><td> <strong>10</strong> 1b </td><td>  2 </td><td> B </td></tr><tr><td>  6 </td><td> <strong>110</strong> b </td><td>  3 </td><td>  C </td></tr><tr><td>  7 </td><td> <strong>111</strong> b </td><td>  3 </td><td> D </td></tr></tbody></table><br><p> ,    <code>011010111b</code> : </p><br><ul><li>     : <code>011b</code> ; </li><li>  ,   <code>011b (3)</code> ,   <code>A</code> ,     ; </li><li>   <code>011b</code>    1, ,                 : <code>110b</code> ; </li><li>  ,   <code>110b (6)</code> ,   <code></code> ,     ; </li><li>   ,     . </li></ul><br><p>  ¬´¬ª     8- .      256 .          8 .   ,    ,  : </p><br><blockquote>           :      ‚Äî  ,          .   ,    .   4 ‚Äî   32- . </blockquote><p>     ,   .  . </p><br><hr><br><p>       ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><em>github</em></a> .     ,       ,     ,   -   <em>[ ,    README.md]</em> . </p><br><p>  ,    ,     2015- : </p><br><ul><li> <em>LibNeuroRoutines (, MASM)</em> ‚Äî ,       ,    .    ( <code>neuro_routines.h</code> )           ,   .     , : <br><ul><li>   ( <code>huffman_decompression.c</code> , <code>decompression.c</code> ); </li><li>    ( <code>cp437.c</code> ); </li><li>     ( <code>dialog.c</code> ); </li><li>    ( <code>audio.c</code> ). </li></ul></li><li> <em>NeuromancerWin64 ()</em> ‚Äî     .                .     ,       <em>¬´¬ª</em> ,    ,       .       <em>CSFML</em> ( <em>SFML</em>   <em>C</em> ). </li><li> <em>ResourceBrowser (C++)</em> ‚Äî  .    <em>MFC</em> -,         <em>.DAT</em> -.    : <br><ul><li>     <em>BMP (8bpp)</em>  ( <em>IMH</em> , <em>PIC</em> ); </li><li>   ( <em>ANH</em> ); </li><li>     <em>WAV (PCM, 44100Hz, 8bps, mono)</em>  ( <em>SOUND</em> ). </li></ul></li></ul><br><p>    <em>LibNeuroRoutines</em>   .    <em>LibNeuroRoutines</em>  <em>CSFML</em> ( <em>ResourceBrowser</em>   <em>SFML</em>   ). </p><br><p>       64- <em>Windows</em>     .   ,   <em>LibNeuroRoutines</em>  64- <em>MASM (Microsoft Macro Assembler)</em> .   ‚Äî    ,      64- . ,      <em>NASM</em>  <em>FASM</em> ,    ,             .      <em>VS 2015</em> ‚Äî <em>MASM</em>   . </p><br><p>      ,   .         <em>C</em> .     ,           (  ,   <em>MFC</em> ). </p><br><p>   ,       .   - ,      . </p><br><hr><br><p>           .  ? ,  .            ,   .    - ,      . ,    ,     ,     .  (). </p><br><ol><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Make sound from the speaker using assembly</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Programming the PC Speaker</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">PC Speaker</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Programmable Interval Timer</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Making C Sing</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Beyond Beep-Boop: Mastering the PC Speaker</a> </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt417639/">https://habr.com/ru/post/pt417639/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt417621/index.html">O que aconteceu quando quebramos a exibi√ß√£o?</a></li>
<li><a href="../pt417627/index.html">Hyper CRM ou Mini ERP? Neg√≥cios bagun√ßados</a></li>
<li><a href="../pt417629/index.html">Delphi e C ++ Builder Community Edition</a></li>
<li><a href="../pt417631/index.html">Tutorial em v√≠deo da grade CSS</a></li>
<li><a href="../pt417637/index.html">Desenvolvimento de um editor para cria√ß√£o de sites / desembarques (experi√™ncia)</a></li>
<li><a href="../pt417641/index.html">10 cursos de aprendizado de m√°quina em ver√£o</a></li>
<li><a href="../pt417643/index.html">Cavaleiros da capa e rootkits: o que ver sobre hackers. Programas de TV</a></li>
<li><a href="../pt417645/index.html">Concurso de programa√ß√£o: negocia√ß√£o (resultados intermedi√°rios e an√∫ncios)</a></li>
<li><a href="../pt417647/index.html">Um projeto de lei sobre a prote√ß√£o de dados pessoais apresentado na Bielorr√∫ssia - o que est√° ‚Äúdentro‚Äù dele</a></li>
<li><a href="../pt417649/index.html">OpenAI supera limita√ß√µes significativas de IA para Dota 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>