<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>โ๏ธ ๐คจ ๐๐พ ุชุญุณูู ุงูุทุงูุฉ STM32: ุฏููู ุนููู ๐ฌ ๐จ๐ปโโ๏ธ ๐ฉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฑุญุจุง ูุง ูุจุฑ! 

 ููุงู ุงููุซูุฑ ูู ุงูููุงูุงุช ุนูู ุงูุดุจูุฉ ุญูู ุชุดุบูู ูุญุฏุงุช ุงูุชุญูู ุงูุฏูููุฉ STM32 ูู ุงูุฃุฌูุฒุฉ ุงููููุฑุฉ ููุทุงูุฉ - ุนุงุฏุฉู ุงูุฃุฌูุฒุฉ ุงูุชู ุชุนูู ุจุงูุจุทุงุฑูุฉ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุญุณูู ุงูุทุงูุฉ STM32: ุฏููู ุนููู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430218/" style=";text-align:right;direction:rtl"> ูุฑุญุจุง ูุง ูุจุฑ! <br><br>  ููุงู ุงููุซูุฑ ูู ุงูููุงูุงุช ุนูู ุงูุดุจูุฉ ุญูู ุชุดุบูู ูุญุฏุงุช ุงูุชุญูู ุงูุฏูููุฉ STM32 ูู ุงูุฃุฌูุฒุฉ ุงููููุฑุฉ ููุทุงูุฉ - ุนุงุฏุฉู ุงูุฃุฌูุฒุฉ ุงูุชู ุชุนูู ุจุงูุจุทุงุฑูุฉ - ููุน ุฐูู ุ ูู ุงููุคุณู ุฃููู ูุง ูููููู ูุฐุง ุงูููุถูุน ุฎุงุฑุฌ ูุงุฆูุฉ ุฃูุถุงุน ุชูููุฑ ุงูุทุงูุฉ ูุฃูุงูุฑ SPL / HAL ุงูุชู ุชุชุถูููุง (ููุน ุฐูู ุ ุชูุทุจู ููุณ ุงููุทุงูุจุฉ ุฅูู ุงูุบุงูุจูุฉ ุงูุนุธูู ูู ุงูููุงูุงุช ุญูู ุงูุนูู ูุน STM32). <br><br>  ููู ุงูููุช ููุณู ุ ุจุณุจุจ ุงูุชุทูุฑ ุงูุณุฑูุน ููููุงุฒู ุงูุฐููุฉ ูุฌููุน ุฃููุงุน ุฅูุชุฑูุช ุงูุฃุดูุงุก ุ ุฃุตุจุญ ุงูููุถูุน ุฃูุซุฑ ุฃูููุฉ - ูู ูุซู ูุฐู ุงูุฃูุธูุฉ ุ ูุชู ุชุดุบูู ุงูุนุฏูุฏ ูู ุงูููููุงุช ุจุงูุจุทุงุฑูุฉ ุ ููู ุงููุชููุน ูููุง ุณููุงุช ูู ุงูุชุดุบูู ุงููุณุชูุฑ. <br><br>  ุณูููุฃ ูุฐู ุงููุฌูุฉ ุจูุซุงู STM32L1 - ูุญุฏุฉ ุชุญูู ุดุงุฆุนุฉ ุฌุฏูุง ูุงูุชุตุงุฏูุฉ ููุบุงูุฉ ููู ููุณ ุงูููุช ูุฏููุง ุจุนุถ ุงููุดุงูู ุงูุฎุงุตุฉ ุจูุฐู ุงูุณูุณูุฉ.  ุณูุชู ุชุทุจูู ูู ูุง ุณุจู ุชูุฑูุจูุง ุนูู STM32L0 ู STM32L4 ุ ููู ุญูุซ ุงููุดุงูู ูุงูุฃุณุงููุจ ุงูุดุงุฆุนุฉ ุ ุฅูู ูุญุฏุงุช ุงูุชุญูู ุงูุฃุฎุฑู ุงููุณุชูุฏุฉ ุฅูู ููู Cortex-M. <br><br><img src="https://habrastorage.org/webt/-r/az/lt/-razltjud_qdbwtc74aaopi69la.jpeg"><br><br>  ูุฌุจ ุฃู ุชุจุฏู ุงููุชูุฌุฉ ุงูุนูููุฉ ุดุจููุฉ ุจุงูุตูุฑุฉ ุฃุนูุงู (ููุนู ุ ุณูุชุญุฏุซ ุฃูุถูุง ุนู ูุงุจููุฉ ุชุทุจูู ุฃุฌูุฒุฉ ุงูููุงุณ ุงููุชุนุฏุฏุฉ ูุฃุฏูุงุช ุงูููุงุณ ุงูุฃุฎุฑู ุนูู ุงูููุงู ุงูููุงุซูุฉ). <br><a name="habracut"></a><br><h3 style=";text-align:right;direction:rtl">  ุฃูุถุงุน ุชูููุฑ ุงูุทุงูุฉ ูู STM32L1 </h3><br>  ุฃุณุงุณูุงุช ุชูููุฑ ุงูุจุทุงุฑูุฉ ูู ุฃูุถุงุน ุชูููุฑ ุงูุทุงูุฉ ุงูุฑุฆูุณูุฉ ูููุนุงูุฌ.  ููู ูุตูุน ููู ุณูุณูุฉ ูู ูุญุฏุงุช ุงูุชุญูู ุงูุฎุงุตุฉ ุจู (ูุฌููุนุฉ ูุญุฏุฏุฉ ูู ุงูุชุฏุงุฏ ุงูุจุงุฆุน ูุฃูุถุงุน Cortex-M ุงูุฃุณุงุณูุฉ ุงูููุงุณูุฉ ูุน ุงููุฑูู ุงูุฏูููุฉ ุงููุฎุชููุฉ ูููุง ูุชุนูู ุจุงูุฃุทุฑุงู ุ ููููุชุงุช ุงูุฅูุฏุงุฏ ุ ููุง ุฅูู ุฐูู). <br><br>  ุนูู ูุฌู ุงูุชุญุฏูุฏ ุ ุชููู STM32L1 ุ ุงูุฐู ููุชูู ุฅูู ุงูุณูุณูุฉ ุงูุงูุชุตุงุฏูุฉ ูู ูุญุฏุงุช ุงูุชุญูู ุ ููููุง ูุชุนูู ุจูุฐุง ุ ูู ุจูู ุฃููุฑ ุฃุฎุฑู ุ ูุฌููุนุฉ ููุณุนุฉ ูู ุฅุนุฏุงุฏุงุช ุงูุทุงูุฉ ุ ูุฏููุง ูุง ููู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ุชุดุบูู</b> - ุงููุถุน ุงูุนุงุฏู.  ุดุงูู ุ ุฌููุน ุงูุฃุฌูุฒุฉ ุงูุทุฑููุฉ ุงููุชุงุญุฉ ุ ุชุฑุฏุฏ ูุตู ุฅูู 32 ููุฌุง ูุฑุชุฒ. </li><li style=";text-align:right;direction:rtl">  <b>ุชุดุบูู ููุฎูุถ ุงูุทุงูุฉ (ุชุดุบูู LP)</b> - ูุถุน ุฎุงุต ูุน ุชุฑุฏุฏ ุชุดุบูู ุถูู 131 ูููููุฑุชุฒ ูุฃูุตู ุงุณุชููุงู ุ ูุน <i>ูุฑุงุนุงุฉ ุงููุญูุท ุจุงููุงูู</i> ุ 200 ฮผA.  ูู ูุถุน LP Run ุ ููุชูู ููุธู ุทุงูุฉ ุงููุนุงูุฌ ุฅูู ูุถุน ุงูุชุตุงุฏู ุฎุงุต ุ ูุงูุฐู ูููุฑ ูุง ูุตู ุฅูู ุฎูุณูู ูุตุจุงุญูุง ุตุบูุฑูุง ููุงุฑูุฉ ุจุงูุนูู ูู ููุณ ุงูุชุฑุฏุฏ ูู ูุถุน ุงูุชุดุบูู. </li><li style=";text-align:right;direction:rtl">  <b>ุงูููู</b> - ุชุนููู ุงูููุงุฉ ุ ูููู ูุน ุงูุญูุงุธ ุนูู ุฌููุน ุชุฑุฏุฏุงุช ุงูุณุงุนุฉ.  ูููู ุฃู ุชุณุชูุฑ ุงูุฃุฌูุฒุฉ ุงูุทุฑููุฉ ูููุนุงูุฌ ูู ุงูุนูู ุฅุฐุง ูู ุชูู ุงูููุงุฉ ุจุญุงุฌุฉ ุฅูููุง ุ ูููู ูููู ุฅููุงู ุชุดุบูููุง ุชููุงุฆููุง. </li><li style=";text-align:right;direction:rtl">  <b>ุงูููู ุงูููุฎูุถ ุงูุทุงูุฉ (LP Sleep)</b> - ูุฒูุฌ ูู ุงูููู ูุน ุงูุชูุงู ุงููุซุจุช ุฅูู ุงููุถุน ุงูุงูุชุตุงุฏู.  ุชุฑุฏุฏ ุงูุณุงุนุฉ ููุณ ุฃุนูู ูู 131 ูููู ูุฑุชุฒ ุ ุฅุฌูุงูู ุงูุงุณุชููุงู ูุง ูุฒูุฏ ุนู 200 ฮผA. </li><li style=";text-align:right;direction:rtl">  <b>ุฅููุงู</b> - ุชููู ูุงูู ูุฌููุน ุชุฑุฏุฏุงุช ุงูุณุงุนุฉ ุ ุจุงุณุชุซูุงุก ูููุฏ "ุงูุณุงุนุฉ" 32768 ูุฑุชุฒ ุ ุฎุงุฑุฌู ุฃู ุฏุงุฎูู.  ูู ุญุงูุฉ STM32L1 ุ ุชุณุชูุฑ ููุท ุงูุณุงุนุฉ ูู ุงูููุช ุงูุญูููู ูู ุงูุนูู ูู ูุฐุง ุงููุถุน ุ ูู ุดูุก ุขุฎุฑ ูุชููู ุชูุงููุง ุ  ูู ุงููุนุงูุฌุงุช ุงูุฃุญุฏุซ ุ ูููู ุชุณุฌูู ุจุนุถ ุงูุฃุฌูุฒุฉ ุงูุทุฑููุฉ ุจุชุฑุฏุฏุงุช ููุฎูุถุฉ.  <i>ุชูุฑูุจุง</i> ุฌููุน ุฃุฑุฌู ุงููุนุงูุฌ ุชุญุชูุธ ุจุญุงูุชูุง.  ูุชู ุญูุธ ูุญุชููุงุช ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุ ูุชุณุชูุฑ ุงูููุงุทุนุงุช ุงูุฎุงุฑุฌูุฉ ูู ุงูุนูู. </li><li style=";text-align:right;direction:rtl">  <b>ูุถุน ุงูุงุณุชุนุฏุงุฏ</b> - ุฅุบูุงู ูุงูู ููุนุงูุฌ ุงููุนุงูุฌ ูุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ูุฌููุน ุงูุฃุฌูุฒุฉ ุงูุทุฑููุฉ ุ ุจุงุณุชุซูุงุก ุงูุณุงุนุงุช ูู ุงูููุช ุงููุนูู.  ูุง ูุชู ุญูุธ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู (ุนูู ุณุจูู ุงููุซุงู ุ ูู ูุฌูุฉ ูุธุฑ ุงูุจุฑูุงูุฌ ุ ูุฅู ุงููุบุงุฏุฑุฉ ูู ูุถุน ุงูุงุณุชุนุฏุงุฏ ูู ุชูุฑูุจูุง ููุณ ุชุดููู ุงูุทุงูุฉ - ุชุจุฏุฃ ูู ุฌุฏูุฏ) ุ ูุณุชูุฑ RTC ูู ุงูุชุฃุดูุฑ.  ุงูููุงุทุนุงุช ุงูุฎุงุฑุฌูุฉ ูุง ุชุนูู ุ ุจุงุณุชุซูุงุก ุซูุงุซุฉ ุฃุฑุฌู WKUPx ุฎุงุตุฉ ุ ููููุธ ุชุจุฏูููุง ูู 0 ุฅูู 1 ุงููุนุงูุฌ. </li></ul><br>  ูุนุฏ ุฅุฏุฎุงู ูู ูุถุน ูู ุงูุฃูุถุงุน ุฃูุฑูุง ุจุณูุทูุง ููุบุงูุฉ - ุชุญุชุงุฌ ุฅูู ุชุนููู ุงูุนูุงูุงุช ูู ุซูุงุซุฉ ุฅูู ุฎูุณุฉ ุชุณุฌููุงุช ุ ูุจุนุฏ ุฐูู (ุจุงููุณุจุฉ ูุฃูุถุงุน ุงูุณููู) ุ ูู ุจุงุณุชุฏุนุงุก ุชุนูููุงุช WFI ุฃู WFE ุ ููุฐุง ูู ุชุนูููุงุช Cortex-M ุงูููุงุณูุฉ ุ ููุนูู "ุงูุชุธุฑ ุงูููุงุทุนุฉ" ู "ุงูุชุธุฑ ุงูุญุฏุซ" .  ุงุนุชูุงุฏูุง ุนูู ุงูุนูุงูุงุช (ูุชู ูุตููุง ูู ุงูุฏููู ุงููุฑุฌุนู ูููุนุงูุฌ ุ ุจุงููุณุจุฉ ูู STM32L1 ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">RM0038</a> ) ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุณููุน</a> ุงููุนุงูุฌ ููุณู ูู ูุฐุง ุงููุถุน ูู ูุฐุง ุงูุฃูุฑ. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุณูููู ูู ุงูุฌูุฏ ุญุธุฑ ุงูููุงุทุนุงุช (ูู ูุคุซุฑ ุฐูู ุนูู ูุฏุฑุฉ ุงูุฃุญุฏุงุซ ุงูุฎุงุฑุฌูุฉ ูุงูุฏุงุฎููุฉ ุนูู ุฅููุงุธ ุงููุนุงูุฌ ูู ูุถุน ุงูุณููู) ูุงูุชุธุฑ ุญุชู ูุชู ุญูุธ ุงูุจูุงูุงุช ูู ุงูุณุฌูุงุช ุฅูู ุงูุฐุงูุฑุฉ ุฅุฐุง ุญุฏุซ ุฐูู ูุฌุฃุฉ ุ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ DSB. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ูุฐู ูู ุงูุทุฑููุฉ ุงูุชู ูุจุฏู ุจูุง ุงูุฏุฎูู ูู ูุถุน ุงูุชููู: <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/*  PDDS    Stop  Standby,    */</span></span> PWR-&gt;CR &amp;= ~(PWR_CR_PDDS); <span class="hljs-comment"><span class="hljs-comment">/*  Wakeup   ,      */</span></span> PWR-&gt;CR |= PWR_CR_CWUF; <span class="hljs-comment"><span class="hljs-comment">/*    low-power ,    Stop -    */</span></span> PWR-&gt;CR |= PWR_CR_LPSDSR; <span class="hljs-comment"><span class="hljs-comment">/*    Vref   */</span></span> PWR-&gt;CR |= PWR_CR_ULP; <span class="hljs-comment"><span class="hljs-comment">/*     Cortex-M,  Stop,  Standby -   Deep Sleep */</span></span> <span class="hljs-comment"><span class="hljs-comment">/*      Deep Sleep */</span></span> SCB-&gt;SCR |= (SCB_SCR_SLEEPDEEP_Msk); <span class="hljs-comment"><span class="hljs-comment">/*  ;       */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> state = irq_disable(); <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> __DSB(); <span class="hljs-comment"><span class="hljs-comment">/*  */</span></span> __WFI(); <span class="hljs-comment"><span class="hljs-comment">/*    */</span></span> init_clk(); <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> irq_restore(state);</code> </pre> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">WFI</a> ุนุจุงุฑุฉ ุนู ุชุนูููุงุช ููุญุธุฑ ุ ุญูุซ ุณูุฏุฎู ุงููุนุงูุฌ ูู ุญุงูุฉ ููู ุนููู ููู ูุฎุฑุฌูุง ุญุชู ูุญุฏุซ ููุน ูู ุงูุงููุทุงุน.  ูุนู ุ ุฃูุฑุฑ ุ ุนูู ุงูุฑุบู ูู ุฃููุง ุฃููููุง ุงูููุงุทุนุงุช ุจุดูู ุตุฑูุญ ุ ูุณูู ูุณุชุฌูุจ ููุง ุงููุนุงูุฌ ููุณุชููุธ - ููููู ูู ูุจุฏุฃ ูู ุงููุนุงูุฌุฉ ุฅูุง ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูููุง.  ููุฐุง ูู ูุนูู ุนููู. <br><br>  ูู ุงูููุฏ ุฃุนูุงู ุ ุจุนุฏ WFI ุ ููุงู ููุน ูู ุฅุนุงุฏุฉ ุชููุฆุฉ ุชุฑุฏุฏุงุช ุงูุชุดุบูู ูุง ุชุฐูุจ ููุฐุง - ูุงูุญูููุฉ ูู ุฃู L1 ูุชุฑู <i>ุฏุงุฆููุง</i> ุงูููู ุงูุนููู ุนูุฏ ุชุฑุฏุฏ 4.2 ููุฌุงูุฑุชุฒ ููุน ูููุฏ MSI ุงูุฏุงุฎูู ููุตุฏุฑ ููุฐุง ุงูุชุฑุฏุฏ.  ูู ุงูุนุฏูุฏ ูู ุงูุญุงูุงุช ุ ูู ุงููุงุถุญ ุฃูู ูุง ุชุฑูุฏ ูุนุงูุฌ ุงูููุงุทุนุฉ ุงูุฐู ูููุธ ุงููุนุงูุฌ ูุจุฏุก ุงูุชุดุบูู ุนูุฏ ูุฐุง ุงูุชุฑุฏุฏ - ุนูู ุณุจูู ุงููุซุงู ุ ูุฃู ุชุฑุฏุฏุงุช ุฌููุน ุฃุฌูุฒุฉ ุถุจุท ุงูููุช ุ UART ุ ูุบูุฑูุง ูู ุงูุญุงููุงุช ุณุชูุทูู.  ูุฐูู ุ ูููู ุฃููุงู ุจุงุณุชุนุงุฏุฉ ุชุฑุฏุฏุงุช ุงูุชุดุบูู (ุฃู ุ ุฅุฐุง ุฃุฑุฏูุง ุงูุจูุงุก ุนูู MSI ุ ุฅุนุงุฏุฉ ุญุณุงุจ ุงูุญุงููุงุช ุงูุถุฑูุฑูุฉ ุฃูู ูู 4.2 ููุฌุงูุฑุชุฒ) ุ ูุจุนุฏ ุฐูู ูุชุนูู ูู ุงูููุงุทุนุงุช. <br><br>  ูู ุงููุงุญูุฉ ุงูุนูููุฉ ุ ูุฅู ุงููุถุนูู ุงูุฃูุซุฑ ุงุณุชุฎุฏุงููุง ููุง Run ู Stop.  ูุงูุญูููุฉ ูู ุฃู LP Run ุจุทูุก ุจุดูู ูุคูู ููุง ูุนูู ูู ุฅุฐุง ูุงู ุงููุนุงูุฌ ูุญุชุงุฌ ุฅูู ุฅุฌุฑุงุก ุจุนุถ ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ูููุณ ูุฌุฑุฏ ุงูุชุธุงุฑ ุงูุฃุญุฏุงุซ ุงูุฎุงุฑุฌูุฉ ุ ูุฃู Sleep ู LP Sleep ููุณุช ุงูุชุตุงุฏูุฉ ููุบุงูุฉ (ุงุณุชููุงู ูุตู ุฅูู 2 ูููู ุฃูุจูุฑ) ูููุงู ุญุงุฌุฉ ุฅุฐุง ููุช ุจุญุงุฌุฉ ุชูููุฑ ุงููููู ุนูู ุงูุฃูู ุ ูููู ูู ููุณ ุงูููุช ุงุชุฑู ุงูุฃุฌูุฒุฉ ุงูุทุฑููุฉ ุงูุนุงููุฉ ู / ุฃู ุชููุฑ ุฃุณุฑุน ุฑุฏ ูุนู ูููู ูููุนุงูุฌ ููุฃุญุฏุงุซ.  ูุซู ูุฐู ุงููุชุทูุจุงุช ููุฌูุฏุฉ ุ ูููู ุจุดูู ุนุงู ููุณ ูู ูุซูุฑ ูู ุงูุฃุญูุงู. <br><br>  ุนุงุฏุฉู ูุง ูุชู ุงุณุชุฎุฏุงู ูุถุน ุงูุงุณุชุนุฏุงุฏ ุ ูุฃูู ุจุนุฏ ุงุณุชุญุงูุฉ ุงููุชุงุจุนุฉ ูู ุญูุซ ุชูููุช ุจุณุจุจ ุนุฏู ูุฌูุฏ ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู ุ ููุงู ุฃูุถูุง ุจุนุถ ุงููุดุงูู ูุน ุงูุฃุฌูุฒุฉ ุงูุฎุงุฑุฌูุฉ ุ ูุงูุชู ุณููุงูุดูุง ุฃุฏูุงู ุ ูุงูุชู ุชุชุทูุจ ุญูููุงู ููุฃุฌูุฒุฉ.  ููุน ุฐูู ุ ุฅุฐุง ุชู ุชุตููู ุงูุฌูุงุฒ ูุน ูุถุน ุฐูู ูู ุงูุงุนุชุจุงุฑ ุ ููููู ุงุณุชุฎุฏุงู ูุถุน ุงูุงุณุชุนุฏุงุฏ ููุถุน "ุฅููุงู" ุ ุนูู ุณุจูู ุงููุซุงู ุ ุฃุซูุงุก ุงูุชุฎุฒูู ุทููู ุงูุฃูุฏ ููุฐุง ุงูุฌูุงุฒ. <br><br>  ูู ุงููุงูุน ุ ุนูุฏ ุชูุฏูู ูุฐุง ุ ุบุงูุจูุง ูุง ุชููุทุน ูุนุธู ุงูุฃุฏูุฉ ุจุดูู ููุชุตุฑ. <br><br>  ุงููุดููุฉ ูู ุฃูู ุจุนุฏ ุงุชุจุงุนูุง ุ ุณุชุญุตู ุนูู ุญุฒู 100-200 ฮผA ูู ุงูุงุณุชููุงู ุงูุญูููู ุจุฏูุงู ูู 1.4 ฮผA ุงูููุนูุฏุฉ ูุน ุณุงุนุงุช ุงูุนูู - ุญุชู ูู ุชุตุญูุญ Nucleo ุงููุฑุฌุนู ุ ุงูุฐู ูุง ูุญุชูู ุนูู ุฃู ุฑูุงุฆู ุฎุงุฑุฌูุฉ ูุฃุฌูุฒุฉ ุงุณุชุดุนุงุฑ ุ ุฅูุฎ. ุงูุชู ูููู ุฃู ุชุนุฒู ุฅูููุง. <br><br>  ูุง ุ ูุนุงูุฌู ูุนูู ุ ูุง ููุฌุฏ ุดูุก ูู ุฃุฎุทุงุก ุ ููุนูุช ูู ุดูุก ุจุดูู ุตุญูุญ. <br><br>  ููุณ ููุท ุญุชู ุงูููุงูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ูุชูุงุฒูุฉ ุชูููู ุงูุณุงููู </h3><br>  ุงููุดููุฉ ุงูุฃููู STM32L1 ุ ุงูุชู ุชุดูุฑ ุฅูููุง <i>ุจุนุถ</i> ุงูููุงูุงุช ุ ูููููุง ุบุงูุจูุง ูุง ุชุฐูุฑ ููุท ูู ุงูููุชุฏูุงุช ุ ุนูุฏูุง ูู ุงูููู ุงูุซุงูุซ ูู ุงูููุงูุดุฉ ุ ูู ุฃูู ุฃุชุช 100-200 ฮผA ุ ูุชุฐูุฑ ุดุฎุต ูุง ูุฌูุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">AN3430</a> ููุตู ุฅูู ุงูุตูุญุฉ 19 ููู - ูุฐุง ุญุงูุฉ ุงูุณุงููู ุจุดูู ุงูุชุฑุงุถู. <br><br>  ุฃูุงุญุธ ุฃูู ุญุชู STMicro ููุณูุง ุชุดูุฑ ุฅูู ุงููุดููุฉ ูู ุฎูุงู ุงูุฃููุงู ุ ููู ูุนุธู ุงููุณุชูุฏุงุช ุงูุชู ูููุธุฑ ูููุง ุฅูู ุชุญุณูู ุงุณุชููุงู ุงูุทุงูุฉ ุ ูุฅููุง ุชูุชุตุฑ ุนูู ุนุจุงุฑุฉ ูุงุญุฏุฉ ุฃู ุนุจุงุฑุชูู ูุน ูุตูุญุฉ ุณุญุจ ุงูุฃุฑุฌู ุบูุฑ ุงููุณุชุฎุฏูุฉ ุฅูู ุงูุฃุฑุถ ุฃู ูุถุนูุง ูู ูุถุน ุงูุฅุฏุฎุงู ุงูุชูุงุธุฑู ุ ุฏูู ุชูุถูุญ ุงูุฃุณุจุงุจ. <br><br>  ุงูุดูุก ุงููุญุฒู ูู ุฃูู ุจุดูู ุงูุชุฑุงุถู ุ ูุชู ุชูููู ุฌููุน ุงูุฃุฑุฌู ููุฏุฎูุงุช ุฑูููุฉ (0x00 ูู ุณุฌู GPIOx_MODER).  ููุฌุฏ ูุดุบู Schmitt ุฏุงุฆููุง ุนูู ุงููุฏุฎูุงุช ุงูุฑูููุฉ ุ ููุง ูุญุณู ูู ููุงุนุฉ ุงูุถูุถุงุก ููุฐุง ุงูุฅุฏุฎุงู ุ ููู ูุณุชูู ุชูุงููุง - ุฅูู ุนูุตุฑ ููุทูู ุจุณูุท ุ ุนุงุฒู ูุน ุงูุชุจุงุทุค ูุง ูุชุทูุจ ุชุณุฌูู ุงูููุช ุงูุฎุงุฑุฌู. <br><br>  ูู ุญุงูุชูุง ุ ูุฐุง ูุนูู ุฃููุง ุฃุบูููุง ุงูุณุงุนุฉ ูู ูุถุน ุงูุฅููุงู ุ ูุงุณุชูุฑ ูุดุบูุงุช ุดููุช ูู ุงูุนูู ููุง ูู ูู ูุญุฏุซ ุดูุก - ุงุนุชูุงุฏูุง ุนูู ูุณุชูู ุฅุดุงุฑุฉ ุงูุฅุฏุฎุงู ุ ูุฅููู ูุญูููู ูุฎุฑุฌุงุชูู ุฅูู 0 ู 1. <br><br>  ูู ุงูููุช ููุณู ุ ูุนูู ุฌุฒุก ูู ุฃุฑุฌู ุงููุนุงูุฌ ูู ุฏุงุฆุฑุฉ ูููุฐุฌูุฉ ูู ุงูููุงุก - ุฃู ุฃูู ูุง ุชูุฌุฏ ุฅุดุงุฑุฉ ูุงุถุญุฉ ุนูููุง.  ุณูููู ูู ุงูุฎุทุฃ ุงูุชูููุฑ ูู ุฃู ุนุฏู ูุฌูุฏ ุฅุดุงุฑุฉ ูุงุถุญุฉ ูุนูู ุฃูู ูู ูุฐู ุงูุฃุฑุฌู 0 ููุณ ุนูู ูุฐู ุงูุฃุฑุฌู ุจุณุจุจ ููุงููุฉ ุฅุฏุฎุงููุง ุงูุนุงููุฉ ุ ููุงู ุจุนุถ ุงูุถูุถุงุก ุงูุนุดูุงุฆูุฉ ุจูููุฉ ุบูุฑ ูุญุฏุฏุฉ ุ ูู ุงูุชูุงุทุงุช ูุชุฏูู ุงูุชูุงุฑ ูู ุงููุณุงุฑุงุช ุงููุฌุงูุฑุฉ ุฅูู ุงูููุงุฉ ุงูุฃููู ููุชููุฒููู ุ ุฅุฐุง ูุงูุช ุงููุฏู ุทูููุฉ ุจูุง ูููู ููุนูู ูููุงุฆู (ููุน ุฐูู ุ ุณูุชู ุฅููุงู ุชุดุบูู ุฃุฌูุฒุฉ ุงูุชููุฒููู ุงูุชูุงุธุฑูุฉ ูู ุฑูุณูุง ูุฑูุจูุง ุ ุงูุฃูุฑ ุงูุฐู ูู ุดุฃูู ุฃู ูุคุฏู ุฅูู ุจุนุถ ุงูุงูุฎูุงุถ ูู ุงุณุชููุงู ุงูุทุงูุฉ ูููุชุญููุงุช ุงูุฏูููุฉ ุงูุชู ุชู ุชูููููุง ุจุดูู ุบูุฑ ุตุญูุญ). <br><br>  ููููุง ููุฐู ุงูุชููุจุงุช ุ ุชุชุญูู ุงูุณุงู ุจุทุฑููุฉ ุนุดูุงุฆูุฉ ุจูู 0 ู 1. ูุณุชููู ููุทู CMOS ุงูุชูุงุฑ ุนูุฏ ุงูุชุจุฏูู.  ุฃู ุฃู <i>ุณุงู ุงููุนุงูุฌ ุงููุนูู ูู ุงูููุงุก ุ ุงููููู ูู ูุถุน ุงูุฅุฏุฎุงู ุงูุฑููู ุ ูุณุชููู ุชูุงุฑูุง ููุญูุธูุง ูู ุญุฏ ุฐุงุชู</i> . <br><br>  ุงูุทุฑูู ููุฎุฑูุฌ ูู ูุฐุง ุจุณูุท - ุนูุฏ ุจุฏุก ุงูุจุฑูุงูุฌ ุ ุชุญุชุงุฌ ุฅูู ุชูููู ุฌููุน ุงูุฃุฑุฌู ูุญุงูุฉ ุงูุฅุฏุฎุงู ุงูุชูุงุธุฑู ุ  STM32 ูุฏููุง ุฑุณูููุง ูุฌููุน ุงูุฃุฑุฌู ุจุฏูู ุงุณุชุซูุงุก ุ ุจุบุถ ุงููุธุฑ ุนูุง ุฅุฐุง ูุงูุช ูุชุตูุฉ ุจู ADC ุฃู ูุง ุ ูุชุฎุชูู ุนู ุงูุฅุฏุฎุงู ุงูุฑููู ููุท ูู ุญุงูุฉ ุนุฏู ูุฌูุฏ ูุดุบู Schmitt ุนูุฏ ุงูุฅุฏุฎุงู. <br><br><img src="https://habrastorage.org/webt/nm/k2/py/nmk2py-r1zqa2rgltekzx69bmy8.png"><br><br>  ููููุงู ุจุฐูู ุ ูููู ูุชุงุจุฉ ุงููููุฉ 0xFF ... FF ูุฌููุน ุชุณุฌููุงุช GPIOx_MODER ุ ูู ุงูุฃุณูู ุงูููุงู ุจุฐูู ุ ููุง ุฐูุฑ ุฃุนูุงู ุ ูุจุงุดุฑุฉ ูู ุงูุจุฏุงูุฉ ุ ุซู ุฃุซูุงุก ุงููุนุจ ุ ูู ุจุฅุนุงุฏุฉ ุชูููู ุงูุฃุฑุฌู ุงููุฑุฏูุฉ ุญุณุจ ุงูุญุงุฌุฉ ูู ูุฐุง ุงูุฌูุงุฒ. <br><br>  ููุง ุ ููุน ุฐูู ุ ุชูุดุฃ ูุดููุฉ ูู ุงูุฏุฑุฌุฉ ุงูุซุงููุฉ - ูู ุงูุฌูุฏ ุฅุฐุง ูุงูุช ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุชุนูู ุนูู ูุญุฏุฉ ุชุญูู ูุงุญุฏุฉ ูุญุฏุฏุฉ ุ ูุจุงูุชุงูู ูุฃูุช ุชุนุฑู ุฏุงุฆููุง ูุง ูู <i>x</i> ูู GPIOx.  ุงูุฃุณูุฃ ูู ุฐูู ุฅุฐุง ูุงูุช ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุนุงูููุฉ - ูููู ุฃู ูุญุชูู STM32 ุนูู <i>ูุง ูุตู ุฅูู</i> 8 ููุงูุฐ ุ ูููู ูููู ุฃู ูููู ุฃุตุบุฑ ุ  ุนูุฏ ูุญุงููุฉ ุงููุชุงุจุฉ ุฅูู ูููุฐ ุบูุฑ ููุฌูุฏ ูู ูุฐุง ุงููููุฐุฌ ูู ูุญุฏุฉ ุงูุชุญูู ุ ุณุชุญุตู ุนูู ุฎุทุฃ ูุงุฏุญ ุ ุฃู  ุชุญุทู ููุงุฉ. <br><br>  ููุน ุฐูู ุ ูููู ุงูุชุญุงูู ุนูู ูุฐู ุงูุญุงูุฉ - ุชุณูุญ ูู Cortex-M ุจุงูุชุญูู ูู ุตุญุฉ ุตูุงุญูุชูุง ุ ุนูุงูุฉ ุนูู ุฐูู ุ ูู ุญุงูุฉ M3 ู M4 ุ ูููู ุงูุดูู ุชุงูููุง ุจุดูู ุนุงู ุ ูุนูู M0 ูุชุทูุจ ุจุนุถ ุงูุณุญุฑ ุ ูููู ูููู ุชุญูููู ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู ูุฑุงุกุฉ ุงูุชูุงุตูู ููุง</a> ุ ูู ูุญุจ ูุฐู ุงูููุงูุฉ ) <br><br>  ูุฐุง ุ ุจุดูู ุนุงู ุ ุจุฏุฃ ุงููุนุงูุฌ ุ ูุถุจุท ุงูุชุฑุฏุฏุงุช - ูุฎุถุน ุนูู ุงูููุฑ ูุฌููุน ููุงูุฐ GPIO ุงููุชุงุญุฉ ุ ููุชุงุจุชูุง ุฅูู MODER (ุงูุฑูุฒ ุฃุฏูุงู ููุชูุจ ููุธุงู RIOT OS ุ ูููู ุจุดูู ุนุงู ููู ูุงุถุญ ุจุฏูู ุชุนููู ููููู ูููู ุฅูู ุซูุงุซ ุฏูุงุฆู ุฃู ููุตุฉ ุฃุฎุฑู). <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> defined(CPU_FAM_STM32L1) </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* switch all GPIOs to AIN mode to minimize power consumption */</span></span></span><span class="hljs-meta"> GPIO_TypeDef *port; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">/* enable GPIO clock */</span></span></span><span class="hljs-meta"> uint32_t ahb_gpio_clocks = RCC-&gt;AHBENR &amp; 0xFF; periph_clk_en(AHB, 0xFF); for (uint8_t i = 0; i </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt; 8; i++) { port = (GPIO_TypeDef *)(GPIOA_BASE + i*(GPIOB_BASE - GPIOA_BASE)); if (cpu_check_address((char *)port)) { port-&gt;MODER = 0xffffffff; } else { break; } } /* restore GPIO clock */ uint32_t tmpreg = RCC-&gt;AHBENR; tmpreg &amp;= ~((uint32_t)0xFF); tmpreg |= ahb_gpio_clocks; periph_clk_en(AHB, tmpreg); #endif</span></span></span></span></code> </pre><br>  ุฃูุงุญุธ ุฃู ูุฐุง ููุทุจู ููุท ุนูู ุณูุณูุฉ L1 ุ ูู L0 ู L4 ุชู ุฃุฎุฐ ุงูุชุฌุฑุจุฉ ูู ุงูุงุนุชุจุงุฑ ุ ููู ุงูุชุฑุงุถููุง ูููููู ุจุชูููู ุฌููุน ุงูููุงูุฐ ููุฏุฎูุงุช ุชูุงุธุฑูุฉ ุนูุฏ ุจุฏุก ุงูุชุดุบูู. <br><br>  ุจุนุฏ ุงูููุงู ุจูู ูุฐู ุงูุฅุฌุฑุงุกุงุช ุจุนูุงูุฉ ุ ููููู ุชุญููู ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ุฅูู ุงูุฌูุงุฒ ุงูููุงุฆู ... ูุงูุญุตูู ุนูู 150 uA ูู ูุถุน ุงูุฅููุงู ุนูู ุงููุนุงูุฌ ูุฅููุงู ุชุดุบูู ุฌููุน ุงูุฑูุงุฆู ุงูุฎุงุฑุฌูุฉ ุ ุนูู ุงูุฑุบู ูู ุญูููุฉ ุฃู ุชูุฏูุฑุงุชู ูู ุงูุฃูุซุฑ ุชุดุงุคููุง ุ ูุงุฏูุฉ ูู ุฃูุฑุงู ุงูุจูุงูุงุช ููู ุดูุก ููุช ุจุญุงูุชู ุนูู ุงูููุญุฉ ูุง ุชุนุทู ุฃุนูู ูู 10 ฮผA. <br><br>  ุนูุงูุฉ ุนูู ุฐูู ุ ูุฅูู ุชุญุงูู ุฃุฎุฐ ุงููุนุงูุฌ ุฅูู ูุถุน ุงูุงุณุชุนุฏุงุฏ ุจุฏูุงู ูู ุงูุชููู ุ ุฃู  ููุท ูู ุจุฅููุงู ุชุดุบููู ุจุงููุงูู ุชูุฑูุจูุง - ูุจุฏูุงู ูู ุงูุณููุท ุ ูุฒูุฏ ุงุณุชููุงู ุงูุทุงูุฉ ุซูุงุซ ูุฑุงุช ุ ูููุชุฑุจ ูู ูุตู ูููู ุฃูุจูุฑ! <br><br>  ูุง ุฏุงุนู ููุฐุนุฑ.  ููุง ููุช ูุฏ ุฎููุช ุ ูุนูุช ูู ุดูุก ุจุดูู ุตุญูุญ.  ููู ููุณ ุญุชู ุงูููุงูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ูุชูุงุฒูุฉ ุชูููู ุงูุณุงู - 2 </h3><br>  ุชุชููู ุงููุดููุฉ ุงูุชุงููุฉ ูู ุฌุฒุฃูู. <br><br>  ุงูุฃูู ูุงุถุญ ุชูุงููุง: ุฅุฐุง ูุงู ุฌูุงุฒู ูุง ูุชููู ูู ูุชุญูู ูุงุญุฏ ุ ููู ุงูููู ุฃูุง ููุณู ุฃู ุงูุฑูุงุฆู ุงูุฎุงุฑุฌูุฉ ุชุญุชูู ุฃูุถูุง ุนูู ุฅุดุงุฑุงุช ุฅุฏุฎุงู ูุชู ุชุดุบูููุง ูู ูุจู ุดููุช ุ ูุงูุชู ุ ุนูุงูุฉ ุนูู ุฐูู ุ ูููู ุฃู ุชููุธ ุงูููุทู ุงูุฏุงุฎูู ููุฑูุงูุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุณุชุญุงูู ุดุฑูุญุฉ UART ุณุญุจูุง ูุฅุฒุงูุชูุง ูู ูุถุน ุงูุณููู ููุฑุงุกุฉ ุงูุจูุงูุงุช ูููุง ูุน ุฃู ุญุฑูุฉ ุนูู ูุฐุง ุงููุงูู. <br><br>  ููููุง ูุฐูู ุ ุฅุฐุง ุชู ุชุนููู ูู ูุฐู ุงูุฃุฑุฌู ูู ุงูููุงุก ุ ููู ูุญุตู ุนูู ุฃู ุดูุก ุฌูุฏ. <br><br>  ุชุญุช ุฃู ุธุฑูู ููุชูู ุจูู ุงููุทุงู ูู ุงูููุงุกุ <br><br>  ุฃููุงู ุ ุนูุฏูุง ุชูุชูู ูุญุฏุฉ ุงูุชุญูู ุฅูู ูุถุน ุงูุงุณุชุนุฏุงุฏ ุ ูุชู ููู ุฌููุน ูุญุฏุงุช GPIO ุฅูู ุญุงูุฉ High-Z ุ ุจููุงููุฉ ุนุงููุฉ - ุฃู ุ ูู ุงููุงูุน ุ ุงูุฑูุงุฆู ุงูุฎุงุฑุฌูุฉ ุงููุชุตูุฉ ุจูุง ูู ุงูููุงุก.  ูู ุงููุณุชุญูู ุฅุตูุงุญ ูุฐุง ุจุฑูุฌููุง ูู STM32L1 (ูู ูุฌููุนุงุช ุฃุฎุฑู ููุญุฏุงุช ุชุญูู ุฃุฎุฑู ูุญุฏุซ ุจุทุฑู ูุฎุชููุฉ) ุ ูุจุงูุชุงูู ูุฅู ุงููุฎุฑุฌ ุงููุญูุฏ - ูู ูุธุงู ูุณุชุฎุฏู ูุถุน ุงูุงุณุชุนุฏุงุฏ ุ ูุฌุจ ุณุญุจ ูุฏุฎูุงุช ุงูุฑูุงุฆู ุงูุฎุงุฑุฌูุฉ ุฅูู ุงูุฃุฑุถ ุฃู ุชุดุบูููุง ุจูุงุณุทุฉ ููุงููุงุช ุฎุงุฑุฌูุฉ. <br><br>  ูุชู ุงุฎุชูุงุฑ ูุณุชูู ูุนูู ุจุญูุซ ูููู ุงูุฎุท ุบูุฑ ูุดุท ูู ูุฌูุฉ ูุธุฑ ุงูุดุฑูุญุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  1 ูู UART TX </li><li style=";text-align:right;direction:rtl">  0 ูู SPI MOSI </li><li style=";text-align:right;direction:rtl">  0 ูู SPI CLK ูู ูุถุน SPI 0 ุฃู 1 </li><li style=";text-align:right;direction:rtl">  1 ูู SPI CLK ูุน ูุถุน SPI 2 ุฃู 3 </li><li style=";text-align:right;direction:rtl">  1 ูู SPI CS </li></ul><br>  ุซุงูููุง ุ ุนูู STM32 <i>ุนูุฏ ุงุณุชุฎุฏุงู ูุถุน ุงูุชููู</i> (sic!) <i>ุ ูููู ุฃู ุชููู</i> ุญุงูุฉ GPIOs ุงููุชุตูุฉ ุจูุชู ุงูุฃุฌูุฒุฉ ุงูุฏุงุฎููุฉ ูููุงุฌูุงุช ... ูุฎุชููุฉ.  ุฃู ุฃู ููุณ ูุงุฌูุฉ SPI ุ ุนูุฏ ุชูููููุง ุ ูู Stop ุ ุชุชุญูู ูุฌุฃุฉ ุฅูู ุฅูุง ุฅุฏุฎุงู ุฑููู ุ ุฃู ุจุดูู ุนุงู ุ High-Z - ูุน ุงููุชุงุฆุฌ ุงูููุงุจูุฉ ููุฑูุงุฆู ุงูุฎุงุฑุฌูุฉ ุงููุนููุฉ ุนููู.  ุจูููุง ุชุดูุฑ ุงููุซุงุฆู ุฅูู ุฃู ุงูุณุงููู ูู ุญุงูุฉ ุฌูุฏุฉ ุ ูุง ููููู ุงูุงุนุชูุงุฏ ุนูููุง ุฅูุง ุฅุฐุง ููุช ุชุณุชุฎุฏู ุณุงููู ููุญุฏุงุช GPIO ุนุงุฏูุฉ. <br><br>  ูุง ููููู ููููุง ููุณุงูุญุชูุง ุ ูููู ููููู ุชุฐูุฑูุง ูุฅุตูุงุญูุง: ุจุงููุณุจุฉ ูููุงุฌูุงุช ุงูุชู ุชุชุตุฑู ุจูุฐู ุงูุทุฑููุฉ ุ ูุฌุจ ุนููู ุฅุถุงูุฉ ุงูุชุจุฏูู ุงููุณุฑู ุฅูู GPIO ุงูุนุงุฏู ุจูุณุชููุงุช ุชุชูุงูู ูุน ุงููุณุชููุงุช ุบูุฑ ุงููุดุทุฉ ููุฐู ุงููุงุฌูุฉ ูู ูุธููุฉ ุงูุนูุงูุฉ ุจุงูููู.  ุจุนุฏ ุงูุฎุฑูุฌ ูู ุงูููู ุ ูููู ุงุณุชุนุงุฏุฉ ุงููุงุฌูุงุช. <br><br>  ุนูู ุณุจูู ุงููุซุงู ุ ููุณ SPI ูุจู ุงูููู (ููุญุตูู ุนูู ุงูุจุณุงุทุฉ ุ ุขุฎุฐ ุงูุฑูุฒ ูู ูุธุงู ุงูุชุดุบูู RIOT ุ ูู ุงููุงุถุญ ุฃูู ูู ุงูุณูู ุชูููุฐู ุนูู ุงูุชุณุฌููุงุช): <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* specifically set GPIOs used for external SPI devices */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* MOSI = 0, SCK = 0, MISO = AIN for SPI Mode 0 &amp; 1 (CPOL = 0) */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* MOSI = 0, SCK = 1, MISO = AIN for SPI Mode 2 &amp; 3 (CPOL = 1) */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; SPI_NUMOF; i++) { <span class="hljs-comment"><span class="hljs-comment">/* check if SPI is in use */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_periph_clk(spi_config[i].apbbus, spi_config[i].rccmask) == <span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-comment"><span class="hljs-comment">/* SPI CLK polarity */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (spi_config[i].dev-&gt;CR1 &amp; (<span class="hljs-number"><span class="hljs-number">1</span></span>&lt;&lt;<span class="hljs-number"><span class="hljs-number">1</span></span>)) { gpio_init(spi_config[i].sclk_pin, GPIO_IN_PU); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { gpio_init(spi_config[i].sclk_pin, GPIO_IN_PD); } gpio_init(spi_config[i].mosi_pin, GPIO_IN_PD); gpio_init(spi_config[i].miso_pin, GPIO_AIN); } }</code> </pre><br>  ูุฑุฌู ููุงุญุธุฉ ุฃู ุงููุฎุฑุฌุงุช ููุง ูู ุชุชู ุชููุฆุชูุง ุนูู ุฃููุง GPIO_OUT ุจูุณุชูู 0 ุฃู 1 ุ ูููู ููุฏุฎูุงุช ุจุณุญุจ ูุตู ุฅูู 0 ุฃู 1 - ูุฐู ููุณุช ููุทุฉ ุฃุณุงุณูุฉ ุ ูููููุง ุชููุฑ ุฃูุงููุง ุฅุถุงูููุง ุฅุฐุง ุงุฑุชูุจุช ุฎุทุฃ ูุญุงููุช ูุนุจ ุงูุถุบุท ูุน ููุน ูู ุฑูุงูุฉ ุฎุงุฑุฌูุฉ ุชุณุญุจ ูุฐุง ุงูุฑุฌู ูู ุงูุงุชุฌุงู ุงูุขุฎุฑ.  ูุน GPIO_OUT ููููู ุชุฑุชูุจ ุฏุงุฆุฑุฉ ูุตุฑ ุ ูุน GPIO_IN ูุน ุงูุณุญุจ - ุฃุจุฏุง. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุง ุชุชุฃุซุฑ ุฅุดุงุฑุฉ SPI CS - ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุฅูุดุงุคูุง ุจุฑูุฌููุง ุ ุฃู ุจูุงุณุทุฉ GPIO ุงูุนุงุฏู ุ ูุชุญุงูุธ ุนูู ุญุงูุชูุง ูู ุญูู ุจุซูุฉ. <br><br>  ูุงุณุชุนุงุฏุฉ ุญุงูุฉ ุงูุณุงู ุนูุฏ ุชุฑู ุงูููู ุ ูููู ูุชุงุจุฉ ููู ุงูุณุฌูุงุช ุงูุชู ุณูุชู ุชุบููุฑูุง (MODER ุ PUPDR ุ OTYPER ุ OSPEEDR - ุงูุธุฑ ุงูุญุงูุฉ ูู ุญุงูุฉ ูุนููุฉ) ุนูุฏ ุงููุฏุฎู ุ ุฅูู ุงููุชุบูุฑุงุช ุ ููููุง ูุฑุฉ ุฃุฎุฑู ูู ุงูุณุฌูุงุช ุนูุฏ ุชุฑู ุงูููู ูู ุงููุชุบูุฑุงุช . <br><br>  ูุงูุขู ... ุชุง ุฏุนุงู!  ุตูุฑุฉ ุงูุนููุงู.  ูุงุญุฏ ููุตู ูููุฑุงูุจ. <br><br>  ููู ูู ุงูุณุงุจู ูุฃูุงูู ุงูุงุญุชูุงู.  ุนูู ูุฐุง ุงูุชูููุง ูู ุงูุชุญุณูู <i>ุงูุซุงุจุช</i> ูุงุณุชููุงู ุงูุทุงูุฉ ุ ููุจููุง <i>ุฏููุงูููู</i> . <br><br><h3 style=";text-align:right;direction:rtl">  ุฃุฎูู ุถุฏ ุงูุณูุญูุงุฉ </h3><br>  ุฃูููุง ุฃูุถู - ุชุฃูู ุฃูุซุฑ ูุชุฌุฑู ุฃุณุฑุน ุฃู ุชุฃูู ุฃูู ุ ููู ุฃุจุทุฃุ  ูู ุญุงูุฉ ุงููุชุญููุงุช ุงูุฏูููุฉ ุ ูุฅู ุงูุฌูุงุจ ุนูู ูุฐุง ุงูุณุคุงู ูู ุถุนู ุบูุฑ ุจุฏููู. <br><br>  ุฃููุงู ุ ูููู ุชุบููุฑ ุชุฑุฏุฏุงุช ุงูุชุดุบูู ูู ูุทุงู ูุงุณุน ุฌุฏูุง - ูู 65 ูููู ูุฑุชุฒ (ุชุดุบูู LP) ุฅูู 32 ููุฌุง ูุฑุชุฒ ูู ุงููุถุน ุงูุนุงุฏู.  ูุซู ุฃู ุดุฑูุญุฉ CMOS ุ ูุญุชูู STM32 ุนูู ูููููู ูู ุงุณุชููุงู ุงูุทุงูุฉ - ุซุงุจุช ูุฏููุงูููู ุ  ูุงูุซุงูู ูุนุชูุฏ ุนูู ุงูุชุฑุฏุฏ ุ ุงูุฃูู ุซุงุจุช.  ููุชูุฌุฉ ูุฐูู ุ ูู ููุฎูุถ โโุงุณุชููุงู ุงูุทุงูุฉ ุจุณุฑุนุฉ ูุซู ุชุฑุฏุฏ ุงูุชุดุบูู ูุงูุฅูุชุงุฌูุฉ ุ ูุงุนุชูุงุฏูุง ุนูู ุงููููุฉ ุ ูุฏ ูุชุจูู ุฃู ุงูุชุฑุฏุฏ ุงูุฃูุซู ูู ูุฌูุฉ ูุธุฑ ููุงุกุฉ ุงูุทุงูุฉ ูููู ูุฎุชูููุง - ุญูุซ ุชุญุชุงุฌ ุฅูู ุงูุงูุชุธุงุฑ ูุจุนุถ ุงูุฃุญุฏุงุซ ุ ูููู ูุณุจุจ ูุง ูุง ููููู ุงูุฐูุงุจ ุฅูู ุงูููู ุ ุณูููู ููุงู ุงูุชุฑุฏุฏุงุช ุงูููุฎูุถุฉ ูุนุงูุฉ ุ ุญูุซ ุชุญุชุงุฌ ููุท ุฅูู ุฏุฑุณ ุงูุฃุฑูุงู - ุนุงููุฉ.  ูู ุงูููุงู ุงููุนุชุงุฏุฉ "ูููุณุชุดูู" ุ ูู ุบูุฑ ุงูููุทูู ุนุงุฏุฉ ุฃู ุชุฐูุจ ุฅูู ูุง ุฏูู 2-4 ููุฌุงูุฑุชุฒ. <br><br>  ุซุงูููุง ุ ููุฐู ูุญุธุฉ ุฃูู ุฎุทูุฑุฉ ุ ูุนุชูุฏ ูุนุฏู ุงูุฎุฑูุฌ ูู ุงูููู ุนูู ุชุฑุฏุฏ ุงูุนูู ูุทุฑููุฉ ุงุณุชูุจุงูู. <br><br>  ุฃุณูุฃ ุญุงูุฉ ูู ุงูุฎุฑูุฌ ูู ุงูููู ุจุชุฑุฏุฏ 32 ููุฌุงูุฑุชุฒ ูู ุงูููุงุฑุชุฒ ุงูุฎุงุฑุฌู (ุฏุนูู ุฃุฐูุฑู ุจุฃู STM32L1 ูุณุชููุธ ุนูู ูุฐุจุฐุจ ุฏุงุฎูู 4 ููุฌุงูุฑุชุฒ) ุ ูุฃูู ูุชููู ูู ุซูุงุซ ูุฑุงุญู: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุงููุงูุน ูุณุชููุธ ุงููุนุงูุฌ ูู ุงูููู </li><li style=";text-align:right;direction:rtl">  ุงุณุชูุฑุงุฑ ุชูููุฏ ุงูููุงุฑุชุฒ (1-24 ููุฌุงูุฑุชุฒ) </li><li style=";text-align:right;direction:rtl">  ุงุณุชูุฑุงุฑ ุชูููุฏ PLL (32 ููุบุงูุฑุชุฒ) </li></ul><br>  ูู ุงููุงูุน ุ ุฅู ุฅุฎุฑุงุฌ ุงููุนุงูุฌ ูู ูุถุน ุงูุณููู ููุง ูู ุงููุดููุฉ ุงูุฃุตุบุฑ ุ ุญูุซ ูุจูุบ ุชุฑุฏุฏู 4.2 ููุฌุงูุฑุชุฒ ุญูุงูู 10 ูููุฑููุชุฑ.  ููู ุงุณุชูุฑุงุฑ ุงูููุงุฑุชุฒ ูููู ุฃู ูุณุชุบุฑู ูุง ูุตู ุฅูู 1 ูููู ุซุงููุฉ (ุนูู ุงูุฑุบู ูู ุฃูู ุนุงุฏุฉ ูุง ูููู ุฃุณุฑุน ุจุงููุณุจุฉ ูููุฑูุงูุงุช ุนุงููุฉ ุงูุณุฑุนุฉ ุ ุจุชุฑุชูุจ ุนุฏุฉ ูุฆุงุช ูู ุงููููุฑูุซุงููุฉ) ุ ูุฅู ุงููุตูู ุฅูู ูุถุน PLL ูู 160 ุซุงููุฉ ุฃุฎุฑู. <br><br>  ูุฏ ูุง ุชููู ูุฐู ุงูุชุฃุฎูุฑุงุช ูุจูุฑุฉ ูู ูุฌูุฉ ูุธุฑ ุงุณุชููุงู ุงูุทุงูุฉ ููุธุงู ูุงุฏุฑูุง ูุง ูุณุชููุธ (ููุณ ุฃูุซุฑ ูู ูุฑุฉ ูุงุญุฏุฉ ูู ุงูุซุงููุฉ) ุ ูููู ุนูุฏูุง ุชููู ุงููุชุฑุฉ ุจูู ุนูููุงุช ุงูุชูุจูู ุนุดุฑุงุช ุงูููู ุซุงููุฉ ูุฃูู ุ ูุชููู ุนูููุงุช ุงูุชูุดูุท ูุตูุฑุฉ ุ ุชุจุฏุฃ ุงููููุงุช ุงูุนุงูุฉ ูู ุฅุถุงูุฉ ุฅุถุงูุฉ ูุงุจูุฉ ููููุงุณ ุจุงููุนู ุญุชู ูุน ุงูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุฃูู ุฃุซูุงุก ุงูุงุณุชููุงุธ ูุณุชููู ุงููุนุงูุฌ ุชูุงุฑูุง ุตุบูุฑูุง ูุณุจููุง. <br><br>  ูุง ุงูุฐู ูููู ุนููู ุจูุฐุงุ  ุจุดูู ุนุงู ุ ุงูุฌูุงุจ ูุงุถุญ: ุญุงูู ุชุฌูุจ ุงุณุชุฎุฏุงู ุงูููุงุฑุชุฒ ุงูุฎุงุฑุฌู.  ุนูู ุณุจูู ุงููุซุงู ุ ูููู ููุจุฑูุงูุฌ ุงูุฐู ุชูุฌุฏ ููู ููุงู ูุฑุนูุฉ ุซูููุฉ ูุงุฏุฑุฉ ุชุชุทูุจ ุชุณุฌูู ุงูููุช ุจุฏูุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ุงูููุงู ุงูุชุงููุฉ - ุชุจุงุฏู ุจูุงูุงุช UART) ุ ูุงูููุงู ุงููุฑุนูุฉ ุงูุจุณูุทุฉ ุงููุชูุฑุฑุฉ ุ ุฃู ููุฑุฑ ุจููุณู ุนูุฏ ูู ููุธุฉ ูุง ุฅุฐุง ูุงู ูู ุงูุถุฑูุฑู ุงูุงูุชูุงู ุฅูู ููุงุฑุชุฒ ุฎุงุฑุฌู ุ ุฃู ุณูููู ูู ุงูุฃุณูู (ูุฃุณุฑุน!) ุฃุฏุงุก ุงููููุฉ ุงูุญุงููุฉ ุนูู ูููุฏ MSI ุ ูุงูุชู ุงุณุชููุธ ุนูููุง ุงููุนุงูุฌ ุจุงููุนู ุฏูู ูุถุงุก ุงููุซูุฑ ูู ุงูููุช ูู ุชููุฆุฉ ุงูุชุฑุฏุฏุงุช. <br><br>  ููุน ุฐูู ุ ูู ูุฐู ุงูุญุงูุฉ ุ ูุฏ ูููู ูู ุงูุถุฑูุฑู ุถุจุท ุชุฑุฏุฏุงุช ุงูุณุงุนุฉ ูููุญูุท ุ ููุฐูู ุถุจุท ุฃูุถุงุน ุงููุตูู ุฅูู ุฐุงูุฑุฉ ุงูููุงุด (ุนุฏุฏ ุฏูุฑุงุช ุงูุชุฃุฎูุฑ) ุ ูุฌูุฏ ููุงุฉ ุงููุนุงูุฌ (ูู STM32L1 ูุชู ุงุฎุชูุงุฑู ูู ุซูุงุซ ููู ูุญุชููุฉ) ุ ุฅูุฎ.  ููุน ุฐูู ุ ูููุง ูุชุนูู ุจุฃูุถุงุน ุชุดุบูู ุงูููุงุฉ ูุงูุฐุงูุฑุฉ ุ ุบุงูุจูุง ูุง ูููู ูู ุงููููู ุถุจุทูุง ุนู ุทุฑูู ุงุฎุชูุงุฑ ุงูุฃูุถุงุน ุงูููุตู ุจูุง ููุญุตูู ุนูู ุฃูุตู ุชุฑุฏุฏ ูุณุชุฎุฏู ุ ูุฃู ุงูุชุดุบูู ุบูุฑ ุงูุฃูุซู ููููุงุฉ ูู ุงูุชุฑุฏุฏุงุช ุงูููุฎูุถุฉ ูู ูุนุทู ุชุบููุฑูุง ูุจูุฑูุง ูู ุงูุฃุฏุงุก ุงูุนููู ูุงุณุชููุงู ุงูุทุงูุฉ ุจุณุจุจ ุงูุญุฌู ุงูุตุบูุฑ ููููุงู ุนูุฏ ูุฐู ุงูุชุฑุฏุฏุงุช ููุฐุช. <br><br>  ุนูู ุงูุฑุบู ูู ุฃู ุฌููุน ูุฐู ุงูุชุฏุงุจูุฑ ุชูุทุจู ุจุงููุนู ุนูู ุงูุถุจุท ุงูุฏููู ููุฃูุถุงุน (ูุนูู ุณุจูู ุงููุซุงู ุ ูุฅู ูุนุธู ุฃูุธูุฉ ุงูุชุดุบูู ูุงูููุชุจุงุช ูุง ุชุนุฑู ุญุชู ุฃู ุดูุก ูุฑูุจ ูู ุงูุตูุฏูู) ุ ูู ุจุนุถ ุงูุญุงูุงุช ุ ูููู ุฃู ุชุคุฏู ุฅูู ุงูุฎูุงุถ ูู ูุชูุณุท โโุงูุงุณุชููุงู ุนูู ูููุงุณ ุงููุญุฏุงุช ูู ุงููุฆุฉ ุ ูุฃุญูุงููุง ุฃูุซุฑ.  ุชุฎูู ุ ุนูู ุณุจูู ุงููุซุงู ุ ุนุฏุงุฏ ุงูููุงู ุงูุฐู ูุณุชูุตู ุฌูุงุช ุงุชุตุงู ููุชุงุญ ุงููุตุจ ูู 50 ูููู ุซุงููุฉ ุ ุจูููุง ูุณุชุบุฑู ุงููุณุญ ุงููุนูู ุนุฏุฉ ุนุดุฑุงุช ูู ุงููููุฑูุซุงููุฉ - ูู ุชุฑูุฏ ุฅุถุงูุฉ ~ 500 ูููุฑูู ูู ูุฐุง ุงูููุช ูุชูุดูุท ูุญุฏุฉ ุงูุชุญููุ .. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุซุงููุฉ ุทูููุฉ ุจุดูู ูุง ูุทุงู </h3><br>  ูุดููุฉ ุฃุฎุฑู ูุง ุชุชุนูู ูุจุงุดุฑุฉ ุจุงูุญูุงุธ ุนูู ุงูุทุงูุฉ ุ ูููููุง ุชูุดุฃ ุญุชููุง ูููุง ูุชุนูู ุจูุง - ููู ูุญุณุจ ุงููุชุฑุงุช ุงูุฒูููุฉ ุงูุชู ุชูู ุนู ุซุงููุฉ ูุงุญุฏุฉุ <br><br>  ูุงูุญูููุฉ ูู ุฃูู ูู STM32L1 ุ ููุฌุฏ ูุคูุช ูุงุญุฏ ููุท ูุนูู ูู ูุถุน ุงูุฅููุงู - ููุฐุง ูู RTC ุ ููู ูุญุฏุฉ ุฒูููุฉ ููุงุณูุฉ ุชุจูุบ ุซุงููุฉ ูุงุญุฏุฉ.  ูู ุงูููุช ููุณู ุ ุชูุฌุฏ ูู ุงูุจุฑุงูุฌ ูุชุฑุงุช ุฒูููุฉ ุซุงุจุชุฉ ูููุญุฏุงุช ุ ูุนุดุฑุงุช ููุฆุงุช ุงููููู ุซุงููุฉ ุ ูุฃุฎุฐ ููุณ ุนุฏุงุฏ ุงูููุงู ุนูู ุงูุฃูู. <br><br>  ููู ุชููู  ุชุนูู ุนูู ูุนุงูุฌุงุช ูุน ูุคูุชุงุช LPTIM ุ ุจุณุฑุนุฉ 32768 ูุฑุชุฒุ  ุฎูุงุฑ ุฌูุฏ ุ ูู ุงููุงูุน ุ ููููู ููุณ ุถุฑูุฑููุง ุฏุงุฆููุง.  ูููู ุจุฏูููุง. <br><br>  ููุณ ุนูู ูู STM32L1 ุ ูููู ุจุฏุกูุง ูู Cat.  2 (ูุฐู ุงููุนุงูุฌุงุช STM32L151CB-A ุ STM32L151CC ูุฃุญุฏุซ) ุ ุชู ุงุณุชููุงู ูุชูุฉ RTC ุจุณุฌู ุฌุฏูุฏ - SSR ุ SubSeconds Register.  ุจุชุนุจูุฑ ุฃุฏู ุ ูู ูุชู ุงุณุชููุงูู ูุซูุฑูุง ูุฃูู ุฌุนูู ูุฑุฆููุง ูููุณุชุฎุฏู ุ ุจุงูุฅุถุงูุฉ ุฅูู ุงูููุจูุงุช ุงููุฑุนูุฉ ALRMASSR ู ALRMBSSR ุชูุช ุฅุถุงูุชูุง. <br><br>  ูุง ูุญุชูู ูุฐุง ุงูุณุฌู ุนูู ุฃู ูุญุฏุงุช ุฒูููุฉ ูููููุฉ ุ ููุฏ ุชู ุชุฎุฒููู ูู ุนุฏุงุฏ ุฏุงุฎูู ููู.  ูู STM32L1 ุ ุชูุฑ ุณุงุนุฉ ุชุฏู ุนูุฏ 32768 ูุฑุชุฒ ูู ุฎูุงู ุนุฏุงุฏุงุช ููุณูุฉ ุ ุบูุฑ ูุชุฒุงููุฉ ููุชุฒุงููุฉ ุ ูุงูุชู ุชูุณููุง ุนุงุฏุฉู ุนูู 32768 ููุญุตูู ุนูู ุนูุงูุฉ 1 ุซุงููุฉ ููุณุงุนุฉ.  ูุฐุง ุ SSR ููุณุช ุณูู ุงููููุฉ ุงูุญุงููุฉ ููุนุฏุงุฏ ุงูุซุงูู. <br><br>  ุนูู ุงูุฑุบู ูู ุฃู SSR ูุง ูุญุณุจ ุจุงููููู ุซุงููุฉ ุ ูููู ูู ูุญุฏุงุชู ุ ูููู ุชุบููุฑ ุฃุจุนุงุฏ ูุฐู ุงููุญุฏุงุช ุนู ุทุฑูู ุชุบููุฑ ูุณุจุฉ ููุงุณู ุงูุนุฏุงุฏ ุงููุชุฒุงูู ูุบูุฑ ุงููุชุฒุงูู ุ ูุน ุงูุญูุงุธ ุนูู ุฅุฌูุงูู ูุนุงูููุง ูุณุงูู 32768 ููุญุตูู ุนูู ุงููุนูุงุฑ 1 ุซุงููุฉ ุนูุฏ ุฅุฏุฎุงู RTC.  ุจูุนุฑูุฉ ูุฐู ุงููุนุงููุงุช ุ ูููููุง ุญุณุงุจ ุณุนุฑ ูุณู ูุงุญุฏ ูู SSR ุจุงููููู ุซุงููุฉ ุ ููู ููุง ูููููุง ุงููุชุงุจุนุฉ ุฅูู ุจุฑูุฌุฉ ุงูุฅูุฐุงุฑุงุช ุงููุฑุนูุฉ. <br><br>  ูุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ุงูุนุฏุงุฏ ุงููุณุจู ุบูุฑ ุงููุชุฒุงูู ูู ุฃูุซุฑ ุงูุชุตุงุฏุง ูู SSR ุงููุชุฒุงูู ุ ูุจุงูุชุงูู ูุฅู ุชุนูููู ุนูู 1 ุ ูุชูุณูู ุชุฑุฏุฏ ุงูุฅุฏุฎุงู ุจุงููุนู ุฅูู SSR ุนูู 32768 ุ ุจุนุฏ ุชููู ุนุฏุฏ 30 ฮผs ููุท ุ ูู ุฃูุฑ ุบูุฑ ูุคุงุชู ููุบุงูุฉ.  ูุฃููุณูุง ุ ุญุฏุฏูุง ุงููููุฉ ุงููุซูู ููููุณูู ุงูุฃููู 7 ุ ูููุฒุงููุฉ - 4095 ((7 + 1) * (4095 + 1) = 32768).  ูุน ุงูุฎูุงุถ ุฅุถุงูู ูู ุงูุญุงุฌุฒ ุงูุฃููู ุ ูุจุฏุฃ ุงุณุชููุงู ุงูุทุงูุฉ ูู RTC ูู ุงูููู ุจุดูู ููููุณ - ุจุฌุฒุก ูู ุฃูุจูุฑ ุตุบูุฑ ุ ูููู ุจูุง ุฃููุง ููุงุฑู ุฐูู ูุน "ุงููุฑุฌุน" 1.4 ฮผA ูู ูุถุน ุงูุชููู ุ ูุฅู ุงููุณูุฑ ูููุฉ.  ุจุดูู ุงูุชุฑุงุถู ุ ุจุงููุณุจุฉ ุฅูู STM32L1 ุ ุชููู ูุฐู ุงูููู 127 ู 255 ุ ุฃู  ุงูุณุนุฑ ุงููุฑุฌุนู ุญูุงูู 4 ูููู ุซุงููุฉ ุ ููู ุฎุดู ููููุงู. <br><br>  ุฅุฐุง ููุช ุชุฑูุฏ ุงูุชุนูู ุฃูุซุฑ ูู ุงูุดูุฑุฉ ุ ูุฅููุง ูู ุงูููุช ุงูููุงุณุจ ุฃููููุง <a href="">ุจุฑูุงูุฌ ุงูุชุดุบูู ุงูููุงุณู RTC</a> ูู ูุธุงู ุงูุชุดุบูู RIOT ูุฏุนู RTC_SSR ูุงููุชุฑุงุช ุงูุฒูููุฉ ุจุงููููู ุซุงููุฉ.  ููุฐ ุฐูู ุงูุญูู ููุญู ูุณุชุฎุฏููุง ุญุฑููุง ูู ูู ุฎุทูุฉ (ูููุฐ ุฃู ุนูููุง ูู ูุธุงู ุงูุชุดุบูู ุ ููุงู ุฎุฏูุฉ ูุนููุฉ ููููุง ุ ููุง ูุณูุญ ูู ุจุชุนููู ุฃู ุนุฏุฏ ูู ุงูููุงู ูุน ูุชุฑุงุช ุนุดูุงุฆูุฉ ุนูู ุฌูุงุฒ ุชูููุช ูุงุญุฏ ุจููุฑุฉ ูู ุงููุนุตู). <br><br>  ูุชู ููู ููุณ ุงูููุฌ ุฅูู ูุญุฏุงุช ุงูุชุญูู STM32L0 ู STM32L4 ุ ูุฌููุน ุงูููุงุฐุฌ ููุง ุณุฌู RTC_SSR ุ  ูุฐุง ููุบู ุงูุญุงุฌุฉ ุฅูู ูุคูุชุงุช LPTIM ูููุญุฏ ุงูููุฏ ููุฎุชูู ุงูููุตุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  ููู ูููู ุฃู ุงููุชุฑ ุงููุชุนุฏุฏ ููุฐุจ </h3><br>  ุจุงูุทุจุน ุ ุจุนุฏ ูู ุงูุชุญุณููุงุช ุ ูุทุฑุญ ุงูุณุคุงู ุงููุดุฑูุน: ูุง ุงูุฐู ุญูููุงู ูู ุงููุงูุนุ<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏูู ูุนุฑูุฉ ุงูุฅุฌุงุจุฉ ุนููู ุ ูููู ูููุฑุก ุฃู ููุชุตุฑ ุชูุงููุง ุนูู WFE ูุงุญุฏ ูุน ุฃุนูุงู ุชู ุชูููููุง ุจุดูู ุตุญูุญ ุ ูุงูุฐูุงุจ ุฅูู ุงูููู ูุงูุญุตูู ุนูู 200-500 ฮผA. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุทุฑููุฉ ุงูุฃูุซุฑ ุชูููุฏูุฉ ูููุงุณ ุงูุชูุงุฑ ูู ุจุงูุทุจุน ูููุงุณ ูุชุนุฏุฏ. ูููู ุฃููุง ุชูุน ุนูู ุญูููุฉ ูุซู ูุชุญูู ูุน ุงุณุชููุงููุง ุงูุฏููุงูููู ุฃูุฑ ุจุณูุท ููุบุงูุฉ - ุฅุฐุง ุชู ุชุดุบููู ุ ููู ููุฐุจ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุน ุฐูู ุ ูุฐุง ูุง ูุนูู ุฃู ุงููุชุฑ ุงููุชุนุฏุฏ ูุง ุทุงุฆู ููู ูู ูุฐู ุงููุณุฃูุฉ. ุชุญุชุงุฌ ููุท ุฅูู ุฃู ุชููู ูุงุฏุฑูุง ุนูู ุชุทุจููู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃููุงู ุ ูุนุฏ ุงููุชุฑ ุงููุชุนุฏุฏ ุดูุฆูุง ุจุทูุฆูุง ููุบุงูุฉ ุ ูุงูููุช ุงููููุฐุฌู ูุนุฏ ูุงุญุฏ ููู ูู ูููุงุณ ุซุงูู ุ ูุงูููุช ุงููุนุชุงุฏ ูุชุบููุฑ ุญุงูุฉ ูุญุฏุฉ ุงูุชุญูู ุงูุฏูููุฉ ูู ูููุงุณ ูููุฑูุซุงููุฉ. ูู ูุธุงู ูุบูุฑ ุงุณุชููุงูู ุจูุฐู ุงููุชูุฑุฉ ุ ุณูุธูุฑ ุงููุชุฑ ุงููุชุนุฏุฏ ุจุจุณุงุทุฉ ููููุง ุนุดูุงุฆูุฉ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุน ุฐูู ุ ูุฅู ุฃุญุฏ ุงููุชุบูุฑุงุช ุบูุฑ ุงูุนุดูุงุฆูุฉ ุงูุชู ุชูููุง ูู ุงุณุชููุงู ูุญุฏุฉ ุงูุชุญูู ุงูุฏูููุฉ ูู ูุถุน ุงูุณููู ุ ุฅุฐุง ุชุฌุงูุฒ ุจุดูู ูุจูุฑ ุงููููุฉ ุงูุชู ูุฏูุฑูุงูุง ูู ุฃูุฑุงู ุงูุจูุงูุงุช ุ ููู ุงููุงุถุญ ุฃู ููุงู ุฎุทุฃ ูุง. ูุฐุง ูู ุงุณุชููุงู </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุธุงู ุซุงุจุช</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุ ุฃู ุฃูู ูููู ููุงุณู ุจูููุงุณ ูุชุนุฏุฏ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุทุฑููุฉ ุงูุฃูุซุฑ ุชุงูููุง ุงูููุถุญุฉ ูู ุตูุฑุฉ ุงูุนููุงู ูู ุฌูุงุฒ ูุชุนุฏุฏ ูู ูุถุน ูููุงุณ ุฏููู ุ ูุงูุฐู ุฃุตุจุญ ุงูุขู ูู ูุนุธู ุงูููุฏููุงุช ูุชูุณุทุฉ ุงููุฏู ุ ููุฏูู ุฏูุฉ ุฌูุฏุฉ ูุฏูุฉ ููุชุงุฒุฉ. ูุญุชูู UT120C ุนูู ุฏูุฉ 0.1 ฮผA ูุน ุฏูุฉ ูุนุชูุฏุฉ ุชุจูุบ ยฑ 1ูช ยฑ 3 ุชุตุฑููุงุช ุ ููู ูุง ูููู ุจุงููุณุจุฉ ููุง.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงู ูุดููุฉ ูุงุญุฏุฉ ููุท ูู ูุฐุง ุงููุถุน - ูุงูุฃุฌูุฒุฉ ุงููุชุนุฏุฏุฉ ููู ููุงููุฉ ุณูุณูุฉ ูุจูุฑุฉ ุ ููุฆุงุช ุฃูู ูู ุงูุญุฌู ุ ูุฐูู ูู ุงููุถุน ุงูุนุงุฏู ุ ูู ูุจุฏุฃ ุงููููุฑููููุชุฑููุฑ ูุน ูุฐุง ุงููุชุฑ ุงููุชุนุฏุฏ ูู ุฏุงุฆุฑุฉ ุงูุทุงูุฉ ุจุจุณุงุทุฉ. ูุญุณู ุงูุญุธ ุ ูุฅู ูุถุนู "mA" ู "uA" ูู ุฌููุน ุงูุฃุฌูุฒุฉ ุชูุฑูุจูุง ุนูู ุงููููุงุณ ูุฑูุจุงู ุ ูููุงุจุณ ุงูููุงุณ ุนูู ููุง ุงููุทุงููู ูุชุดุงุจูุฉ ุ ูุฐุง ููููู ุจุฏุก ุชุดุบูู ูุญุฏุฉ ุงูุชุญูู ุจุฃูุงู ุนูุฏ ุญุฏ "mA" ุ ูุนูุฏูุง ุชุฐูุจ ุฅูู ุงูููู ุ ุงููุฑ ููู "uA "- ูุญุฏุซ ูุฐุง ุจุณุฑุนุฉ ูุงููุฉ ุจุญูุซ ูุง ูููู ูุฏู ูุญุฏุฉ ุงูุชุญูู ุงูููุช ูููุฏ ุงูุทุงูุฉ ูุฅุนุงุฏุฉ ุงูุชุดุบูู.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฑุฌู ููุงุญุธุฉ ุฃูู ุฅุฐุง ูุงุฌูุช ูุญุฏุฉ ุงูุชุญูู ุทูุฑุงุช ูู ุงููุดุงุท ุ ููู ุชููู ูุฐู ุงูุทุฑููุฉ ูุงุจูุฉ ููุชุทุจูู. ุนูู ุณุจูู ุงููุซุงู ุ ุชุชู ุฅุนุงุฏุฉ ุถุจุท ูููุช ุงููุฑุงูุจุฉ ูู 15 ุซุงููุฉ ูู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ููุฌูุงุฒ - ูู ูุฐู ุงููุญุธุงุช ุ ูุชููู ุฌูุงุฒ ุงูููุงุณ ุงููุชุนุฏุฏ ูู ุฅุธูุงุฑ ุดูุก ูุง ูู ููุทูุฉ 27 ฮผA ุ ูุงูุชู ุจุงูุทุจุน ูุง ุนูุงูุฉ ููุง ุจุงูุทูุณ ุนูู ูููุจ ุงููุฑูุฎ. ูู ุญุงูุฉ ุญุฏูุซ ุดูุก ูุตูุฑ ุจุดูู ุชุนุณูู ุนูู ุงููุธุงู ุงูุฎุงุต ุจู ุฃูุซุฑ ูู ูุฑุฉ ูู 5-10 ุซูุงูู ุ ูุณูููู ุงููุชุฑ ุงููุชุนุฏุฏ ุจุจุณุงุทุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุทุฑููุฉ ุฃุฎุฑู ูููุงุณ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุซุงุจุช</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ุฃูุง ุฃุณูุท ุงูุถูุก ูุจุงุดุฑุฉ ุนูู ูุฐู ุงููููุฉ) ุงูุงุณุชููุงู ุจูุงุณุทุฉ ูููุงุณ ูุชุนุฏุฏ ูู ููุงุณ ุงูุณููุท ุนูู ุงูุชุญูููุฉ ุงูุฎุงุฑุฌูุฉ. ุฅุฐุง ููุช ุชุฑุบุจ ูู ููุงุณ ุงูุชูุงุฑุงุช ุงูุตุบูุฑุฉ ุฌุฏูุง ุนูู ูููุงุณ ุจุถุน ุนุดุฑุงุช ูู ุงููุนุณูุฑุงุช ุงูุฏูููุฉ ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ูุถุน ุชุญูููุฉ ูุจูุฑุฉ (ุนูู ุณุจูู ุงููุซุงู ุ 1 ูููู ุฃูู) ุ ูุจุงูุชูุงุฒู ูุนูุง - ุตูุงู ุซูุงุฆู ุดูุชูู ูู ุงุชุตุงู ูุจุงุดุฑ. ุฅุฐุง ุงูุฎูุถ ุงูุชุญูููุฉ ุฃูุซุฑ ูู 0.3 ูููุช ุ ูุณูุชู ูุชุญ ุงูุตูุงู ุงูุซูุงุฆู ููุญุฏ ูู ุงูุฎูุงุถ ุงูุฌูุฏ ุ ูุญุชู 0.3 ูููุช ุ ููููู ููุงุณ ุงูุงูุฎูุงุถ ุจุฃูุงู ุจุงุณุชุฎุฏุงู ุฌูุงุฒ ูุชุนุฏุฏ ูู ูุทุงู ุงููููููููุช ุ 1 ูููู ูููุช = 1 ฮผA. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุฃุณู ุ ูู ูุนูู ุนูู ููุงุณ ุงูุงูุฎูุงุถ ุนูู ุชุญูููุฉ ุฐุงุช ููุงููุฉ ููุฎูุถุฉ ูุน ุฌูุงุฒ ูุชุนุฏุฏ ุงูุทุจูุงุช ูููุฐุฌู - ุฃุฌูุฒุฉ ูู ุงูุทุจูุฉ ุงููุชูุณุทุฉ ุ ุญุชู ุฅุฐุง ุฃุธูุฑุช ุดูุฆูุง ุฃูู ูู 100 ฮผV ุ ูุฅู ุงูุฏูุฉ ูู ูุฐุง ุงููุทุงู ูุคุณูุฉ. ุฅุฐุง ูุงู ูุฏูู ุฌูุงุฒ ุณุทุญ ููุชุจ ุฌูุฏ ููููู ุนุฑุถ 1 ูููุช ุ ูุฃูุช ูู ุชุนุฏ ุจุญุงุฌุฉ ุฅูู ูุตูุญุชู.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุน ุฐูู ุ ูุฅู ุงูุฅุญุตุงุฆูุงุช ุฌูุฏุฉ ุ ูููู ูุงุฐุง ุนู ุงูุฏููุงููููุงุชุ </font><font style="vertical-align: inherit;">ููููุฉ ุชูููู ููุณ ุงูุชุฃุซูุฑ ููุชุฑุฏุฏุงุช ุงููุฎุชููุฉ ุนูู ูุชูุณุท โโุงุณุชููุงู ุงูุทุงูุฉุ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุดูุก ูุนูุฏ ููุง. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏุนููุง ููุชุจ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ:</font></font><br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููุทุงู ุงูุญุงูู ูุง ููู ุนู 1 --A - 100 ูููู ุฃูุจูุฑ (10 ^ 5) </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุชุฑุฉ ุงูููุงุณ ูุง ุชุฒูุฏ ุนู 10 ฮผs </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฎูุงุถ ุงูุฌูุฏ ูุง ูุฒูุฏ ุนู 100 mV </font></font></li><li style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุฏุฉ ุงูููุงุณ - ุบูุฑ ูุญุฏูุฏุฉ </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ูููุง ุจุจุณุงุทุฉ ุจุชุฑุฌูุฉ ูุฐุง ุจุดูู ูุจุงุดุฑ ุฅูู ุฃุฑูุงู ุ ูุญุตู ุนูู ADC ุณุฑูุน ูุณุจููุง ููุง ููู ุนู 18 ุจุช ูุน ุงูุญูุงุฒ ุฅุฏุฎุงู ุฃูู ูู 30 ฮผV ุ ููุงุฌูุฉ ุฃูุงููุฉ ุชูุงุธุฑูุฉ ูุงุฏุฑุฉ ุนูู ููุงุณ ุงููููุชูุฉ ูู 1 ฮผV ุ ููุงุฌูุฉ ุณุฑูุนุฉ ุฅูู ุงูููุจููุชุฑ ุชุณูุญ ููุง ุจููู ูู ูุฐุง ูุงุญูุธ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููู ูุฐุง ูุงุณุชุฎุฏุงู ูุงุญุฏ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุฑู ุ ูุนู ุ ููุงุฐุง ูุง ุชูุน ูุซู ูุฐู ุงูุฃุดูุงุก ูู ูู ุฒุงููุฉ ูู ุนุดุฑุฉ ุฏููุงุฑุงุชุ ููุจู Keysight N6705C ูู ุงูุชูุฑูุจ ุงูุฃูู ูุชุทูุจุงุชูุง ุ ุฅูุง ุฃูู ูููู 7960 ุฏููุงุฑูุง.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุจูู ุญููู ุงูููุฒุงููุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ ุชุฏูุฌ SiLabs ุงูููุงุณ ุงูุญุงูู ูู ุชุตุญูุญ ุงูุฃุฎุทุงุก - ุชุนุชูุฏ ุฎุตุงุฆุต ูุธุงู ูุฑุงูุจุฉ ุงูุทุงูุฉ ุงููุชูุฏู (AEM) ุนูู ูููุฐุฌ ุงูุชุตุญูุญ ุงููุญุฏุฏ ุ ููุฏููู ุฃูุจุฑ ูุดููุฉ ูู ุณุฑุนุฉ ุงูููุงุณ. ูู "ูุฌููุนุงุช ุงููุจุชุฏุฆูู" ุงููุฏููุฉ ุ ูุจูุบ STK3300 / 3400 100 ูุฑุชุฒ ููุท ุ ููู ุชุตุญูุญ ุงูุฃุฎุทุงุก ุงูุฃุญุฏุซ ุ STK3700 / 3800 (ูููู ุงูุชุนุฑู ุนููู ุจุณูููุฉ ูู ุฎูุงู Textolite ุงูุฃุณูุฏ) - 6.25 ูููู ูุฑุชุฒ ุ ููู ุงูููุฏููุงุช ุงููุฏููุฉ ูู ุณูุณูุฉ DK ุ ูููู ุฃู ูุตู ุฅูู 10 ูููู ูุฑุชุฒ ุ ููููู ูููู ุฃูุถูุง ูู ุจุงููุนู 300 + ุฏููุงุฑ. ุจุงููุณุจุฉ ููููุงู ุงูุฌุงุฏุฉ ุ ุชูุตู SiLabs ุฑุณูููุง ุจุงุณุชุฎุฏุงู Keysight ุงููุฐููุฑ ุฃุนูุงู.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุญูุซ ุงููุจุฏุฃ ุ ูููู ุชุตููู ูุฐุง ุงูุฌูุงุฒ ุจููุณู - ุฃููุงู ููุจู ูู ุดูุก ุ ุชุญุชุงุฌ ุฅูู ูุถุฎูุงุช ุชุดุบูููุฉ ุฌูุฏุฉ ุฌุฏูุง ูุน ุงูุญุฏ ุงูุฃุฏูู ูู ุงูุญูุงุฒ ุงูุฅุฏุฎุงู ุ ูุซู OPA2335. ูุชู ูุถุน ูุฐู ุงููุถุฎูุงุช ุงูุชุดุบูููุฉ ุนูู ููุณ ุงูุชุญูููุฉ ุงูููููุฉ ูู 2-3 ูุทุน ุจุนูุงูู ุชุถุฎูู ูุฎุชููุฉ ุ ููููุง ูุฌุฑูุญุฉ ููุฏุฎูุงุช ADC ูุฎุชููุฉ (ูุน ูุฐุง ุงูููุฌ ุ ูู ุงููููู ุชูุงููุง ุงุณุชุฎุฏุงู ูุญุฏุฉ ุงูุชุญูู ุงูุฏูููุฉ ุงููุถููุฉ) ุ ุซู ูู ูู ูุฑุฉ ูุชู ุฃุฎุฐ ุงูุจูุงูุงุช ุ ูุชู ุชุญุฏูุฏูุง ุจุฑูุฌููุง ุฃู ููุจุฑุงุช ุงูุตูุช ูู ูุฐุง ุงููุญุธุฉ ููุณุช ูุญููุฉ ุ ุชุญุณุจ ุงููุฑุงุกุงุช ูููุง.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุญู ูุดููุฉ ุณุฑุนุฉ ููู ุงูุจูุงูุงุช ุฅูู ุฌูุงุฒ ููุจููุชุฑ ุจูู ุจุณุงุทุฉ - ูุธุฑูุง ููุฃุบุฑุงุถ ุงูุนูููุฉ ุ ููุญู ููุชููู ุจุดูู ุฃุณุงุณู ุจูุชูุณุท โโุงุณุชููุงู ุงููุธุงู ูู ุงูุญูุงุฉ ุงููุงูุนูุฉ ุ ููููู ุฌูุน ูุฑุงุกุงุช ุงููููุฑูุซุงููุฉ ูู ูุญุฏุฉ ุงูุชุญูู ุงูุฏูููุฉ ุนูู ูุชู ุงูุนุฏุงุฏ ููููู ุฅุฑุณุงู ุงููุชูุณุท โโุงูุญุณุงุจู ูุจุนุถ ุงูููุงููุณ ุงููุนูููุฉ ููููู ุซุงููุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุง ุชุธูุฑ ุงูููุงุฑุณุฉ ุ ูู ุงููููุฏ ุฌุฏูุง ุฃู ูููู ูุฏูู ุฌูุงุฒ ุชุณุฌูู ุ ูุฅู ูุงู ุจุณูุทูุง ูุบูุฑ ุฏููู ููุบุงูุฉ ุ ูููู ุฏุงุฆููุง ูู ูุชูุงูู ุงููุฏ - ุญุชู ูุง ุชุญุตู ุนูู ููุงุฌุขุช ูุน ููุน ูู ุชุบููุฑ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ููุณูุฑ ุจุณุจุจ ุชูููุฑ ุงูุทุงูุฉ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู ุ ูููุง ุจุจูุงุก ูุงุญุฏ ูู ูุญูู USB ุงูููุงุณู UMDK-RF ุ ูุงูุฐู ูุชู ุงุณุชุฎุฏุงูู ุจุงุณุชูุฑุงุฑ ุนูุฏ ุชุตุญูุญ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ - ูุฏูู ุจุงููุนู ูุจุฑูุฌ SWD ูุน ุฏุนู ุจุฑูุชูููู DAPLink ูุฌุณุฑ USB-UART ูููุทู ุฅุฏุงุฑุฉ ุงูุทุงูุฉ ุ ุนูู ุงูุชูุงูู ุ ุญุตู ุนูู ุนุฏุงุฏ ุงุณุชููุงู ุชูุฑูุจุง ูุฌุงูุง. ุงููููุงุณ ููุณู ุนุจุงุฑุฉ ุนู ุชุญูููุฉ 1 ุฃูู ููุถุฎู INA213 (ูุณุจ 50 ูุฑุฉ ุ ูุฅุฒุงุญุฉ ุตูุฑูุฉ ูููุฐุฌูุฉ ุชุจูุบ 5 ูููุฑู ูููุช): </font></font><br><br><img src="https://habrastorage.org/webt/me/l_/dr/mel_drvu6rqzwr1bebtbtayfiiw.jpeg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุชูุตูู ููุจุฑ ุงูุตูุช ูุจุงุดุฑุฉ ุจุฅุฏุฎุงู ADC ุงูุฎุงุต ุจูุญุฏุฉ ุงูุชุญูู ุงูุฏูููุฉ (STM32F042F6P6) ุ ููุนุงูุฌ ADC ูุน ูุชุฑุฉ 10 ูููุฑู ุซุงููุฉ ุจุงุณุชุฎุฏุงู ูุคูุช ุงูุฃุฌูุฒุฉ ุ ููุง ูุตู ุนุจุฑ USB ูุชู ุฅุฎุฑุงุฌ ุงูุจูุงูุงุช ุงููุชูุณุทุฉ ููุงุตู ุฒููู 100 ูููู ุซุงููุฉ. ููุชูุฌุฉ ูุฐูู ุ ูู ุฎูุงู ุชุบููุฑ ุดูุก ูุง ูู ููุทู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุ ููููู ููุท ุงูุฐูุงุจ ููุชุฏุฎูู ุฃู ุดุฑุจ ุงููููุฉ ุ ูุชุฑู ุงูุฌูุงุฒ ุนูู ุงูุทุงููุฉ ุ ูุงูุนูุฏุฉ ุ ูุฅููุงุก ูุธุฑุฉ ุนูู ุฌุฏูู ูุซู ูุฐุง:</font></font><br><br><img src="https://habrastorage.org/webt/qp/e2/h1/qpe2h1zrmci58iozay_rmag-lsm.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏูุฉ ูุฐุง ุงูุฌูุงุฒ "ุงููุฌุงูู" ุ ุจุงูุทุจุน ุ ููุณุช ุนุงููุฉ - ูุน ADC 12 ุจุช ููุถุฎู ูุงุญุฏ ุ ุงูุญุฏ ุงูุฃุฏูู ูู ุงููู ูู 16 ฮผA ุ ููููู ูููุฏ ููุบุงูุฉ ูุชูููู ุณููู ุงูุฃุฌูุฒุฉ ุงููุตุญุญุฉ ุจุดูู ุณุฑูุน ูููุชุธู ูู ูุฌูุฉ ูุธุฑ ุงุณุชููุงู ุงูุทุงูุฉ. ูู ุงูููุงูุฉ ุ ุฅุฐุง ูุนูุช ุดูุฆูุง ุฎุงุทุฆูุง ูู ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ุฃู ุงูุฌูุงุฒ ุ ูุนูุฏุฆุฐู ุจุถูุงู ุนุงูู ุฌุฏูุง ุ ุณุชุชููู ูู ุงูุฎุฑูุฌ ูู ูุญุฏุงุช microamps ุนูู ุงูุฃูู ุงููุฆุงุช ุ ูุณูููู ูุฐุง ูุฑุฆููุง ุจูุถูุญ. </font></font><br><br><img src="https://habrastorage.org/webt/np/kb/ko/npkbkoxcwb3xsmoyshtkjtc3-jq.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงูุฃุฉ ุฃุฎุฑู ูุทููุฉ ูู ุฃูู ูุธุฑูุง ูุฃู ุงูุจูุงูุงุช ูุชู ุฅุฑุณุงููุง ุฅูู ูููุฐ COM ุงูุธุงูุฑู ูู ุดูู ูุตู (ุงูููู ุงูููุฌูุฏุฉ ูู ุงููุนุณูุฑุงุช ุงูุตุบูุฑุฉ) ุ ููููู ูุถุน ุงููุงูุฐุฉ ุงูุทุฑููุฉ ุจุฌูุงุฑ ุงููุงูุฐุฉ ุงูุชู ุชุนุฑุถ ูุญุฏุฉ ุชุญูู ุงูุฌูุงุฒ ูุฅููุงุก ูุธุฑุฉ ุนูู ุงุณุชููุงู ุงูุทุงูุฉ ูู ููุช ูุงุญุฏ ูุน ุฑุณุงุฆู ุงูุชุตุญูุญ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูุง ุฃุชูุงุฎุฑ ุจูุฐุง ูุณุจุจ ูุง ุ ูููู ูุฃูุฏู ููู ูู ูุฑูุฏ ุงุณุชุฎุฏุงู ูุฐุง ุงูุญุฏ ุงูุฃุฏูู (ูุงูุฑุฎูุต ููุบุงูุฉ!) ูุจุฑูุฌ ุงููุตุญุญ ูู ูุดุงุฑูุนูู ุงูุฎุงุตุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููู ุฑุณู ุงูุฑุณู ุงูุชุฎุทูุทู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุตุฏุฑ ูู DipTrace</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) ุ ุงุณุญุจ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ูุฌุจุฉ ุงูุบุฏุงุก umdk-rf ุ ุนูุฏูุง ูููู ุงููุฏู ูู UMDK-RF ุ ุจูุงุกู ุนูู ูุดุฑูุน </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dap42</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). ูุชู ุฑุณู ุงููุฎุทุท ุจุดูู ููุถูู ุ ูููู ุขูู ุฃู ุชููู ุงูููุงุท ุงูุฑุฆูุณูุฉ ูุงุถุญุฉ ุ ูุงูุจุฑูุงูุฌ ุงูุซุงุจุช ููุชูุจ ุจูุบุฉ C ุจุงุณุชุฎุฏุงู libopencm3 ููุชู ุชุฌููุนู ุจุงุณุชุฎุฏุงู ุงูุฐุฑุงุน ุงููุนุชุงุฏ ุจุฏูู eabi-gcc. ููุธุงุฆู ุฅุถุงููุฉ ุ ูุญุชูู ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ุนูู ุฅุฏุงุฑุฉ ุงูุทุงูุฉ ุ ุญูุซ ููุชูุท ุฅุดุงุฑุงุช ุงูุชุญููู ุงูุฒุงุฆุฏ ูู ููุงุชูุญ ุงูุชุญูู ููุฏุฎู ุฌูุงุฒ ุงูุชุญูู ุงููุชุตู ุจูุง ูู ุฃุฏุงุฉ ุชุญููู ุงูุชุดุบูู ุงูุฃุตููุฉ ุจุถุบุทุฉ ุทูููุฉ ุนูู ุฒุฑ.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงุญุธุฉ: ุฅุฐุง ููุช ุชุฑูุฏ ุฃู ูููู ุฒุฑ ุงูุชูููุฏ ุจุฅุญุถุงุฑ ูุญุฏุฉ ุงูุชุญูู ุงูุฎุงุตุฉ ุจุงููุจุฑูุฌ ุฅูู ุฃุฏุงุฉ ุชุญููู ุงูุชุดุบูู ุจุทุฑููุฉ ููุชุธูุฉ ุ ููุฌุจ ุฃู ูุชู ุชุบููุฑ ูุทุจูุฉ ุงูุงุชุตุงู ุ ูุฎูุงุฑ ุชุญุฑูุฑ ูุญุฏุงุช ุงูุจุงูุช ููุญุฏุฉ ุงูุชุญูู ูู ุงูุชูููุฏ ุงูุฃูู ูุฅุฒุงูุฉ ุฅุฏุฎุงู ุงูุจุฑูุงูุฌ ุฅูู ุฃุฏุงุฉ ุชุญููู ุงูุชุดุบูู ุ ููุทุจูุฉ ุงูููุงุทุนุฉ ููููุชุธู ูุธุงุฆู ูุฐุง ุงูุฒุฑ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููู ุฅููุงุก ูุธุฑุฉ ุนูู ููููุฉ ููุงุณ ุงูุชูุงุฑ ุนูู ุฒูุฌ ูู ุงููุถุฎูุงุช ุงูุชุดุบูููุฉ ูุน ุนูุงูู ูุณุจ ูุฎุชููุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ูุชุญุณูู ูุตุญุญ ุงูุฃุฎุทุงุก ุงูููุตูู ุฃุนูุงู ูููุงูู) ุ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุง</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ุงูุตูุญุฉ 9) ุ ุฎูุงุฑ ุจุฏูู ุฃูุซุฑ ุชูููุฏูุฉ - ูุน ูุถุฎู ุชุดุบูู ูุงุญุฏ ููุถุฎู ADC 24 ุจุช ุจุงูุธ ุงูุซูู - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฏููุง TI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (EnergyTrace ูู ุงูุตูุญุฉ 5).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงุญุธุฉ ูุฑุฌู ููุงุญุธุฉ ุฃูู ุฃุซูุงุก ุชุตุญูุญ ุงูุฃุฎุทุงุก ุจุงุณุชุฎุฏุงู UART ุฃู JTAG / SWD ูุชุตู ุ ูููู ุฃู ูุชุฏูู ุชูุงุฑ ุตุบูุฑ ุฃูุถูุง ูู ุฎูุงู ุฃุฑุฌููู ุ ููู ูุง ูู ูุญุฏุซ ุฃุซูุงุก ุงูุชุดุบูู ุงููุนูู ููุฌูุงุฒ. </font><font style="vertical-align: inherit;">ูุฐูู ุ ุนูู UMDK-RF ุ ุญูุงูู 15 ฮผA ุชุณุฑุจ ูู SWD (ูุจุงูุชุงูู ุ ูู ุตูุฑุฉ ุงูุฑุฃุณ ุ ูุชู ุฅุฌุฑุงุก ุงูููุงุณุงุช ุจุงุณุชุฎุฏุงู ุฌูุงุฒ ูุชุนุฏุฏ ุนูู ุงูุฅุตุฏุงุฑ ุงููุฏูู ูู ุงูููุญุฉ ุ ุจุฏูู SWD) ุ ูุนูู STM32 Nucleo ูุงูุช ููุงู ุญุงูุงุช ูุน ุชุฏูู ุฒุงุฆู ุนุจุฑ SWD </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุญูุงูู 200 ฮผA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุฌุจ ุงูุชุญูู ูู ููุญุงุช ุงูุชุตุญูุญ ุงููุณุชุฎุฏูุฉ ููููุงุณ ุจุญุซูุง ุนู ูุฐู ุงูููุฒุงุช - ุฅูุง ุนู ุทุฑูู ูุตู ุฎุทูุท ุงููุงุฌูุฉ ุงูุฎุงุตุฉ ุจูู ุ ุฅุฐุง ูุงู ููุงู ูุซู ูุฐุง ุงูุงุญุชูุงู ุ ุฃู ุจููุงุฑูุฉ ุงููุชุงุฆุฌ ูุน ุงุณุชููุงู ุงูุฌูุงุฒ ุงูุฐู ุชู ููุงุณู ุฏูู ุชุซุจูุชู ูุชุตุญูุญ ุงูุฃุฎุทุงุก ุ ุนูู ุณุจูู ุงููุซุงู ุ ุจุงุณุชุฎุฏุงู ุฌูุงุฒ ูุชุนุฏุฏ ูู ุงููุถุน ุงูุซุงุจุช.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุฏูุง ูู ุงูุงุณุชูุชุงุฌ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุขูู ุฃู ุชููู ูุฏ ูููุช ุจุงููุนู ุงูุฎุทุฃ ุงูุฐู ุงุฑุชูุจุชู ุจุงุฎุชูุงุฑ ุจุฑูุฌุฉ ูุญุฏุฉ ุงูุชุญูู ุงูุฏูููุฉ ูุชุฎุตุตู ุงูุฑุฆูุณู. </font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar430218/">https://habr.com/ru/post/ar430218/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar430206/index.html">ุฏูุฑุฉ ูุนูุฏ ูุงุณุงุชุดูุณุชุณ ููุชูููููุฌูุง "ุฃูู ุฃูุธูุฉ ุงูููุจููุชุฑ". ุงููุญุงุถุฑุฉ 18: ุงูุชุตูุญ ุงูุฎุงุต - ุงูุฌุฒุก ุงูุซุงูู</a></li>
<li><a href="../ar430208/index.html">ุฏูุฑุฉ ูุนูุฏ ูุงุณุงุชุดูุณุชุณ ููุชูููููุฌูุง "ุฃูู ุฃูุธูุฉ ุงูููุจููุชุฑ". ุงููุญุงุถุฑุฉ 18: "ุชุตูุญ ุงูุฅูุชุฑูุช ุงูุฎุงุต" ุ ุงูุฌุฒุก 3</a></li>
<li><a href="../ar430210/index.html">ุงุฎุชุจุฑ ุตุจุฑู ูู ูุจู Check Point Security Academy</a></li>
<li><a href="../ar430212/index.html">OpenSceneGraph: ุฃุณุงุณูุงุช ููุฏุณุฉ ุงููุดูุฏ</a></li>
<li><a href="../ar430216/index.html">ููุง ุฃููููุง ุ ุฃุชูุงูู ุงููุซูุฑ ูู ุงูุญูููุงุช ุ ุฃู ุชุตููู ุงูุจุถุงุฆุน ุนู ุทุฑูู ุงูุชุญูู ูู ุงูุชุทุจูู</a></li>
<li><a href="../ar430220/index.html">ููููุฉ ุชุญููู ูุญูุฑ USB "ุงููุฆููุฉ" ุฅูู ุฅุฏุงุฑุฉ ุฐููุฉ ูุชูููุฑ 300 ุฏููุงุฑ</a></li>
<li><a href="../ar430222/index.html">ูููุฏุณ ุฃูู ุจุญุซ ุนู ุนูู. ููู ุฃุฌุฑูุช 20 ููุงุจูุฉ ูุน ุงูููุงุฑุฏ ุงูุจุดุฑูุฉ ููุง ุฃููุฑ ููู</a></li>
<li><a href="../ar430224/index.html">ุงูุงุถุทุฑุงุจ ุงููุตุงูู: ูุธุฑุฉ ุฏุงุฎููุฉ</a></li>
<li><a href="../ar430226/index.html">ูู var b ุฅูู ุงูููุงุจูุฉ</a></li>
<li><a href="../ar430228/index.html">ุนูุงูุงุช ุนูู ุดูู X ูุทุฑููุฉ ูุชุญุฏูุฏ ุงูุฑุงุฏุงุฑ ุจุงุณุชุฎุฏุงู ุชุญููู ุงูุจูุงูุงุช ุงูููุชูุญุฉ ูู ุณุงุชููู ุนููููู SENTINEL-1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>