<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏌️ 🥥 🔟 Neoquest 2019: Conexão com o Céu 👱🏿 👐 🕺🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recentemente terminou outro NeoQuest . 


 Sob o corte está a análise da terceira tarefa relacionada à busca de vulnerabilidades na web e um pouco de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Neoquest 2019: Conexão com o Céu</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445668/"><p><img src="https://habrastorage.org/webt/_n/md/xf/_nmdxf3rkjdcdltaoo8wnoql8yg.png" align="left">  Recentemente terminou outro <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NeoQuest</a> . </p><br><p>  Sob o corte está a análise da terceira tarefa relacionada à busca de vulnerabilidades na web e um pouco de phishing.  Gostaria de saber como enganar o bot do Telegram e fazê-lo compartilhar a chave?  Então seja bem-vindo ao gato. </p><br><a name="habracut"></a><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/pz/d9/sb/pzd9sbnlr5gtzzhxt5-dr0luotq.png"></div><br><p>  O texto da tarefa contém um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">link</a> para o bot do Telegram (que por algum motivo foi chamado de canal). </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/sl/zm/do/slzmdoylb24h0qhdjbi8_lyfioy.png"></div><br><p>  O bot nos diz que ele gosta de sair <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">neste site</a> .  Vamos ver o que há lá: <br></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/g-/vn/gm/g-vngmylxjh1ga98qnedt0zzama.png"></div><br>  Login e senha são obrigatórios.  Provavelmente, reconhecendo-os, você pode obter a chave.  Vamos voltar ao bot, tentar conversar com ele. <br>  O bot não responde a comandos como <i>/ start</i> ou <i>/ help,</i> nem responde à mídia (fotos, vídeo, áudio). <br>  Responde as mensagens de texto com uma resposta aleatória da lista. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mp/ok/co/mpokcoaf8zb6vimrjfa1i-tt16o.jpeg"></div><br><br><p>  Mas os links sempre respondem da mesma maneira: <br></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/vq/f3/di/vqf3di4tsqzndynr0ajvre6f2jk.jpeg"></div><br><br><p>  E isso é suspeito.  Tentamos enviar um link para Olympia e obter outra resposta interessante: <br></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/45/gd/43/45gd43ey9f9wkgkz8afzmnssrji.jpeg"></div><br><br><p>  O atraso de tempo entre a primeira e a segunda resposta sugere que o bot está tentando seguir este link.  Então, tudo o que precisamos fazer é tentar fazer com que o bot siga o nosso link, para que ele considere que este é um link para o Olympia. </p><br><p>  Estudaremos Olympia com mais detalhes.  Vamos tentar abrir outra seção, por exemplo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">213.170.100.214/messages</a> .  Um redirecionamento para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">213.170.100.214/login?next=messages ocorre</a> .  Sim!  Redirecionar!  O que precisamos para criar um link de phishing. </p><br><p>  Em seguida, precisamos de algum tipo de hospedagem, que hospede nosso Olympia de phishing.  Eu tinha um desses, então tudo que eu precisava fazer era criar uma página que simplesmente salvasse todos os parâmetros de solicitação em um arquivo. <br></p><div class="spoiler">  <b class="spoiler_title">Código php</b> <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span> file_put_contents(<span class="hljs-string"><span class="hljs-string">'request.txt'</span></span>, print_r($_REQUEST, <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>)); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> <br></div></div><br><br><p>  Tentamos na testa: <br></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/hd/qb/3t/hdqb3t_yw2p_chapl1lqozp9xk0.png"></div><br>  E parece que o bot gostou, mas na verdade a solicitação ao servidor não vem.  Provavelmente isso se deve ao http no início.  Então não indicaremos o protocolo: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/h_/mq/5f/h_mq5f8llkntwkg7d5facsjplda.png"></div><br>  Aqui está, avançamos.  O bot realmente visitou a página, a entrada em request.txt apareceu, embora estivesse vazia porque ele não gostou da nossa página de phishing. <br><br><p>  Continuando, em vez de uma página em branco, forneceremos o mesmo html do site original da Olympia: <br></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/13/_6/ej/13_6ejyus5sziet4ijsd-nf_vvy.png"></div><br>  Um bot inteligente, uma página sem estilos, você vê, parece suspeito.  Bem, não nos importamos, preencha os arquivos de imagem e estilo.  Agora, nosso site de phishing é visualmente idêntico ao Olympia.  Talvez agora funcione? <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/88/mu/4d/88mu4dn9_qrquqe-aoq8lmhx6ic.png"></div><br>  E parece que o bot não respondeu nada de interessante, mas vamos dar uma olhada no arquivo que armazena os parâmetros de solicitação e lá: <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">Array</span></span> ( [username] =&gt; godmom [password] =&gt; ed_ax3kWbdn3pjje5V5 )</code> </pre><br><br><p>  Resta apenas fazer login no Olympia e obter a chave desejada <br></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/v_/_o/f6/v__of6tmm321zbc6bwpfrqfamsg.png"></div><br></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt445668/">https://habr.com/ru/post/pt445668/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt445648/index.html">Servidor nas nuvens 2.0. Lançamos o servidor na estratosfera</a></li>
<li><a href="../pt445652/index.html">Responsabilidades dos mecanismos de pesquisa: como "editar" uma pesquisa na Rússia</a></li>
<li><a href="../pt445658/index.html">História STAX: eletrostatos versus condições de mercado</a></li>
<li><a href="../pt445662/index.html">Tick-tock: o tempo do smartwatch se foi, mas agora eles estão fingindo ser pulseiras</a></li>
<li><a href="../pt445666/index.html">Precisamos de um junho pronto - ensine você mesmo, ou Como lançamos um curso de seminários para estudantes</a></li>
<li><a href="../pt445670/index.html">Consequências de reescrever componentes do Firefox no Rust</a></li>
<li><a href="../pt445672/index.html">Catálise de Muon em termos de química quântica. Parte II: eletrônico vs. ligação química do múon</a></li>
<li><a href="../pt445674/index.html">O PVS-Studio para Java entra na estrada. A próxima parada é a Elasticsearch</a></li>
<li><a href="../pt445676/index.html">Novo no Git 3: encerramentos</a></li>
<li><a href="../pt445678/index.html">4. Introdução ao ponto de verificação R80.20. Instalação e inicialização</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>