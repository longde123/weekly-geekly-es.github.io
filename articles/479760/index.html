<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï¥üèæ üë©‚Äçüöí üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Sensores para hogar inteligente üóø üï¥üèº üóìÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hicimos un gabinete de control para la casa aqu√≠ , desarrollamos un controlador aqu√≠ . 

 La luz se puede encender / apagar desde el tel√©fono, las not...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sensores para hogar inteligente</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479760/">  Hicimos un gabinete de control para la casa <a href="https://habr.com/ru/post/455321/">aqu√≠</a> , desarrollamos un controlador <a href="https://habr.com/ru/post/462259/">aqu√≠</a> . <br><br>  La luz se puede encender / apagar desde el tel√©fono, las notificaciones sobre fugas de agua, la inclusi√≥n del riego llegan a los telegramas y Dios todav√≠a sabe qu√©. <br><br>  Pero todo este sistema est√° lejos de ser una casa inteligente, es solo una extensi√≥n de sus brazos y piernas, y la √∫nica ayuda es que no necesita levantarse de la cama para apagar las luces. <br><a name="habracut"></a><br>  Este art√≠culo trata sobre lo que puede acercar su hogar a lo inteligente, y lo ha adivinado correctamente: este es el desarrollo de sensores.  Estos son ojos, o√≠dos y un poco m√°s para su hogar.  Seg√∫n la informaci√≥n de los sensores, ya es posible escribir guiones autom√°ticos que revitalizar√°n la casa y lo ayudar√°n en silencio y har√°n que su vida sea m√°s c√≥moda. <br><br>  El mercado ahora tiene una amplia variedad de dispositivos de este tipo, tanto de fabricantes eminentes como de origen desconocido.  Y si no te molestas mucho, puedes usarlos, pero hay uno pero, o incluso varios pero.  Primero, la mayor√≠a de ellos usan sus protocolos patentados y solo trabajan con sus concentradores.  Y en cualquier momento, la API de estos centros puede cerrarse, y el control ser√° posible solo a trav√©s de la aplicaci√≥n del fabricante (recuerde la historia de google nest), por lo que toda su automatizaci√≥n se bloquear√° en un punto. <br><br>  En segundo lugar, todos los fabricantes, sin excepci√≥n, est√°n tratando de obtener alguna ganancia de esto, y dado que este no es un fen√≥meno masivo, debe salir, por lo que cada sensor se fabrica en su propio estuche con su propia bater√≠a.  Y ahora, cuentemos, tiene 5 habitaciones en cada una, me gustar√≠a tener un sensor de temperatura, movimiento, luz y CO.  No es un tapete complicado.  Los c√°lculos conducen a 20 cajas en el techo.  En primer lugar, no es hermoso, y en segundo lugar, en un a√±o o dos ser√° necesario cambiar las bater√≠as de estos sensores en medio d√≠a con una escalera y un destornillador, lo m√°s probable es que rompa un par de sujetadores y deje caer el destornillador un par de veces sobre el laminado.  S√≠, y en tercer lugar, cuando uno de los sensores se rompa en un par de a√±os, entonces no podr√° comprar lo mismo, y lo m√°s probable es que los viejos centros no admitan los nuevos sensores (el beneficio es importante) y tendr√° que cambiar todos los sensores y reintegrarlos en su El sistema.  La salida es mirar algo desde el c√≥digo abierto, o hacerlo usted mismo, al menos el c√≥digo siempre estar√° con usted.  Entonces, a la luz de lo descrito, el desarrollo de su caja con sensores no es una tarea tan exagerada. <br><br>  Entonces, al desarrollar mi sensor, trat√© de evitar el 'pero' descrito anteriormente: <br><br><ol><li>  Agregamos todos los sensores en una carcasa </li><li>  Hacemos energ√≠a por cable (construyendo desde cero) </li><li>  Hacemos interfaces de acuerdo con protocolos est√°ndar </li></ol><br>  Ahora pasemos a c√≥mo deber√≠a funcionar dicho dispositivo. <br><br>  Hay dos opciones posibles y dependen de en qu√© entorno se use el dispositivo, en un sistema con control centralizado, en un sistema distribuido o, en general, como un dispositivo independiente. <br><br>  La primera opci√≥n es m√°s simple porque  solo se requieren datos brutos de los sensores, y luego el controlador central, que interroga al dispositivo, decide qu√© hacer con ellos, un ejemplo de tal dispositivo es un sensor de humo de oficina.  Por ejemplo, los datos del sensor superaron un cierto umbral, mientras que el controlador central sabe que el modo armado ahora est√° activado y, en consecuencia, es necesario activar una alarma. <br><br>  La segunda opci√≥n supone que el dispositivo mismo debe saber en qu√© modo se encuentra ahora, ser capaz de convertir datos sin procesar de los sensores, tomar una decisi√≥n sobre informar al usuario.  El desarrollo de dicho dispositivo, por supuesto, requiere m√°s esfuerzo tanto en t√©rminos de redacci√≥n de un programa como en t√©rminos de resoluci√≥n de usabilidad. <br><br>  Originalmente plane√© hacer el dispositivo de acuerdo con la segunda opci√≥n, y establec√≠ dos canales de comunicaci√≥n: mqtt y modbus.  Mqtt a trav√©s de WIFI para jugar y modbus a trav√©s de RS-485 para conectarse al sistema de control del hogar. <br><br>  Mqtt a trav√©s de WIFI no es dif√≠cil de hacer gracias a las bibliotecas lua ESP8266 y el algoritmo es bastante est√°ndar: <br><br><ol><li>  en el primer inicio o si no puede conectarse a WIFI, debe establecer un punto de acceso desde ESP8266 </li><li>  implementar un peque√±o servidor web en √©l con par√°metros WIFI y par√°metros del servidor mqtt (se puede hacer de forma gratuita en Amazon, por ejemplo) </li><li>  guardar todos los datos ingresados ‚Äã‚Äãen la memoria ESP8266 </li><li>  despu√©s de reiniciar, intente conectarse a mqtt a trav√©s de WIFI dom√©stico </li></ol><br>  Sin embargo, cuando surgi√≥ la cuesti√≥n de integrar el dispositivo en el sistema dom√©stico a trav√©s de Modbus, comenc√© a perder los datos en bruto de los sensores y, finalmente, puse todos los datos en bruto en la tabla de Modbus.  Por ejemplo, parecer√≠a un evento innecesario de un sensor de movimiento, en el modo desarmado, incluso se puede utilizar para todo tipo de funciones dom√©sticas inteligentes. <br><br>  La tabla modbus es la siguiente: <br>  Descripci√≥n del tipo N <br>  0. -r - estado de sensortag (1 - modo inactivo / 2 - inactivo a protecci√≥n / 3 - modo de protecci√≥n) <br>  1. -r - motivo de alarma del campo de bits (bit 1 - gas / 2 - temperatura / 3 - movimiento) <br>  2. -r - detecci√≥n de movimiento en estado inactivo y de protecci√≥n (0/1 - sin movimiento / movimiento) <br>  3. -r - concentraci√≥n de gas (valor bruto de adc) <br>  4. -r - temperatura en grados C <br>  5. -r - valor de luz preprocesado (cuarto nocturno &lt;17 / cuarto oscuro &lt;50 / crep√∫sculo &lt;150 soleado &lt;250) <br>  6. -r - valor de luz (valor bruto de adc) <br>  7. -r - n√∫mero de eventos de alarma en este ciclo de vida <br>  8. -r - n√∫mero de reinicios de sensortag <br>  9. -r - no utilizado <br>  10 -wr- activaci√≥n de alarma (0 - cambiar a inactivo / 1 - cambiar a alarma) <br>  11. -wr- sensibilidad al movimiento (0 - 100%, significa 0 - m√°s sensible) <br>  12. -wr- l√≠mite de concentraci√≥n de gas <br><br>  Adem√°s, como siempre, se reduce al desarrollo de la placa y el software.  Y en este caso, el desarrollo del tablero fue m√°s dif√≠cil para m√≠, porque  Hay una parte anal√≥gica (potencia, uni√≥n de sensores de movimiento y CO) con la que no soy muy amigable, y no hay mucho que escribir sobre el software, porque todo es realmente simple all√≠.  Es decir  no solo sino ordinario, le√≠ la lectura del ADC, los convert√≠, los proces√© (usando el m√©todo de ventana deslizante en todos los canales) y los puse en una tabla.  No ser√≠a malo hacer una compensaci√≥n de temperatura de la se√±al del sensor PIR.  En verano, cuando la temperatura ambiente es superior a +30 grados, el sensor tiene una respuesta mucho m√°s d√©bil.  Entonces, en este art√≠culo, me gustar√≠a describir el desarrollo de la placa en s√≠ y prestar un poco de atenci√≥n a la usabilidad. <br><br>  Comencemos con el tablero, esto es lo que debe hacer para hacer esto: <br><br><ol><li>  elija un microcontrolador y sensores (sensor pir, luz, temperatura, CO) </li><li>  elija el controlador rs-485 para la comunicaci√≥n modbus </li><li>  ESP8266 para comunicaci√≥n mqtt (qu√© elegir) </li><li>  seleccione LED RGB para visualizar el estado del dispositivo </li><li>  desarrollar m√≥dulos de potencia </li><li>  desarrollar un diagrama de circuito, criar y hacer tablas </li></ol><br>  La elecci√≥n de un microcontrolador no es dif√≠cil, solo necesita llegar a la caja con los paneles de control y obtener una placa, lo har√°.  Pero en serio, no puedo presumir del conocimiento de muchas familias de microcontroladores, as√≠ que estoy familiarizado con STM32, ATSAM y AVR.  Eleg√≠ este √∫ltimo, y solo porque solo ten√≠a un par de Arduino Leonardo tirados y echando de menos los viejos tiempos MK2.  No mencionar√© que AVR tira de sus pies a la frecuencia del cuarzo, y esto es √∫til para m√≠, y que tiene una amplia gama de perif√©ricos y un ADC bastante r√°pido, es mucho m√°s importante para m√≠ que tenga un paquete TQFP y puedo soldarlo yo mismo, sin un microscopio y bailando con panderetas .  Si la elecci√≥n de un microcontrolador es una cuesti√≥n de diez minutos, entonces la elecci√≥n de los sensores no es una cuesti√≥n trivial.  Inicialmente debemos pensar en c√≥mo conectarlos, c√≥mo procesar sus se√±ales y c√≥mo se afectar√°n entre s√≠.  Si se pueden tomar algunos sensores del conjunto Arduino y cuestan un centavo, entonces con otros, m√°s raros, puede jugar m√°s y gastar m√°s.  Adem√°s, la selecci√≥n de sensores tambi√©n estaba limitada por mis criterios adicionales: <br><br><ol><li>  Los sensores se pueden conectar como desee, pero no a trav√©s de I2C.  As√≠ es como no funcion√≥ para m√≠ implementar I2C de manera confiable en microcontroladores, donde el soporte para este bus es la mitad del hardware y la mitad del software (como en AVR).  Sucedi√≥ que funciona, funciona durante un mes, y luego interviene, y no ayudan las secuencias de recuperaci√≥n, por lo que se decidi√≥ usar tantos sensores anal√≥gicos como sea posible conectados al ADC y usar SPI solo para la temperatura (por cierto, la amistad es fuerte y confiable). </li><li>  Eran lo suficientemente confiables y no cambiaron sus caracter√≠sticas durante la vida √∫til (lo defin√≠ como 10 a√±os) </li><li>  Estaban disponibles en nuestro mercado, para no interferir con los pedidos de Mauser, etc. </li></ol><br>  Como resultado de toda la investigaci√≥n, obtenemos este conjunto: <br><br><ol><li>  Sensor PIR - D203S </li><li>  Sensor de luz - GL5516 </li><li>  Sensor de temperatura - LM95071 </li><li>  Sensor de CO - TGS5141 </li></ol><br>  Y si con las primeras tres posiciones, creo que nadie tendr√° preguntas, entonces por qu√© se necesita TGS5141 de inmediato no est√° claro.  Probablemente diga: "por qu√© es tan costoso, porque hay sensores de CO centavo del conjunto arduino del tipo MQ-7".  De hecho, experiment√© con ellos, y como resultado los rechac√© por varias razones.  En primer lugar, es un sensor catal√≠tico y se calienta, lo que afecta en gran medida la temperatura en el caso del dispositivo y no permite la compensaci√≥n de temperatura para la se√±al del sensor PIR.  En segundo lugar, la sensibilidad del MQ-7 deja mucho que desear, incluso en la especificaci√≥n que dice 10 a 1000ppmm, pero en realidad todav√≠a es m√°s triste, adem√°s no hay estabilidad de sensor a sensor.  En tercer lugar, la vida √∫til del sensor en s√≠ no est√° clara, supongo que sus caracter√≠sticas cambiar√°n mucho con los a√±os precisamente porque es catal√≠tico.  Y ahora sobre las ventajas del TGS5141 electroqu√≠mico: no se calienta, la sensibilidad es de 0 ~ 5000ppm (con una caracter√≠stica lineal), una vida √∫til garantizada de 10 a√±os, tama√±o peque√±o y muchas m√°s ventajas.  Creo que la elecci√≥n es obvia si realmente quieres hacer algo que valga la pena, y no un oficio fr√≠volo. <br><br>  Elegimos un microcontrolador, sensores, ahora es el momento de cuidar c√≥mo decirle al usuario lo que pretend√≠amos.  Como escrib√≠ anteriormente, tengo dos canales de comunicaci√≥n para esto, rs-485 modbus y mqtt a trav√©s de WIFI.  Lo que hace posible usar mi sensororteg como un dispositivo individual y, por lo tanto, importante es la indicaci√≥n del estado, de alguna manera, en el dispositivo en s√≠, por ejemplo, LED. <br><br>  Una vez decidido el concepto, puede prestar un poco de atenci√≥n al resto de la base del elemento.  Controlador 485go Uso ADM2587E, el chip incluye no solo el controlador en s√≠, sino tambi√©n el aislamiento galv√°nico del transformador en RX, TX y DE, menos solo en el precio.  Usaremos ESP-07 para la comunicaci√≥n mqtt a trav√©s de WIFI, aqu√≠, creo, no se necesitan comentarios, porque  solo los perezosos no hicieron algo en el ESP8266.  Tuve que jugar m√°s con la pantalla visual, para esto decid√≠ usar sk6812 RGBW LED.  Como result√≥ con AVR, administrarlos no es muy simple, sus tiempos son bastante dif√≠ciles, por lo que tuve que agregar algunas partes del c√≥digo del ensamblador, que no estaba planeado originalmente.  Pero el resultado se justific√≥, result√≥ informativo y hermoso, especialmente si brillas con estos LED al final del anillo de plexigl√°s.  Esta indicaci√≥n me fue sugerida por un empleado que ya hab√≠a comido un perro en esto (gracias a Sasha). <br><br><img src="https://habrastorage.org/webt/my/qa/cv/myqacvbiwdbonl_6t8xe5vzchpa.jpeg"><br><br>  Despu√©s de experimentar un poco con el brillo, qued√≥ claro que un nivel de brillo no es mi decisi√≥n: es dif√≠cil de ver durante el d√≠a y muy brillante por la noche.  Por lo tanto, tuve que hacer un cambio en el brillo del brillo de estos LED dependiendo de la iluminaci√≥n de la habitaci√≥n.  Bueno, eso es todo, descubriste la indicaci√≥n, pensaste, pero no, lo m√°s dif√≠cil para m√≠ fue inventar patrones de brillo y tiempos para ellos. <br><br>  Me detuve en esta opci√≥n: <br><br><ul><li>  azul lento: inactivo, comunicaci√≥n solo a trav√©s de wifi (falta Modbus) </li><li>  azul r√°pido: cambia de modo inactivo a alarma, comunicaci√≥n solo a trav√©s de wifi (falta Modbus) </li><li>  verde lento - inactivo (comunicaci√≥n modbus correcta) </li><li>  verde r√°pido: cambia del modo inactivo al modo de alarma (comunicaci√≥n modbus correcta) </li><li>  rojo lento - modo de alarma </li><li>  rojo r√°pido - alarma de movimiento </li><li>  amarillo r√°pido - alarma de gas </li></ul><br><img src="https://habrastorage.org/webt/nj/lt/ws/njltwsjartr_qqe4ypsdyx6k9cw.jpeg"><br><br>  Descubrimos la indicaci√≥n, la siguiente secci√≥n es poder. <br><br>  Como dije anteriormente, tengo una baja tensi√≥n de 24 V en mi casa, por lo que la potencia de los m√≥dulos ser√° solo eso.  Mirando hacia el futuro, dir√© que despu√©s de hacer la primera tabla tuve que rehacer mucha nutrici√≥n.  Luego me convenc√≠ de que necesita leer cuidadosamente las especificaciones de los convertidores reductores, especialmente aquellos lugares donde se describen los matices del cableado.  Seg√∫n la investigaci√≥n, me decid√≠ por el convertidor reductor MCP16311 y result√≥ ser muy exigente, solo despu√©s de que hice exactamente lo que estaba escrito en la especificaci√≥n: funcion√≥.  Pero este no fue el mayor problema, ya que result√≥ que el cambio del brillo de los LED caus√≥ una peque√±a reducci√≥n de energ√≠a, lo que ser√≠a suficiente para estropear la se√±al del sensor D203S, fue posible superar este problema con condensadores adicionales en el circuito operativo del sensor y en el circuito del convertidor reductor.  Despu√©s de depurar todo usando mqtt (a trav√©s de ESP8266), conect√© rs-485 y nuevamente me esperaba un fallo, a la salida del opamp en el canal del sensor D203S nuevamente vi basura, y esta basura claramente correspond√≠a al intercambio en rs-485.  En general, result√≥ superar esto con un convertidor LDO adicional para toda la parte anal√≥gica, y luego lleg√≥ la felicidad. <br><br>  Y si combina todo junto, obtendr√° la siguiente imagen: <br><br><img src="https://habrastorage.org/webt/q5/yd/is/q5ydisgqe5hwfqmcchcfdvtufeg.jpeg"><br><br>  Y si todo esto se toma y se suelda, entonces se ve as√≠: <br><br><img src="https://habrastorage.org/webt/go/h0/_m/goh0_mo2-ew9qt8c416sqjqvaao.jpeg"><br><br>  Soldaron el tablero, imprimieron el estuche, pusieron todo junto, lo colgaron en el techo, los datos ingresaron al sistema.  As√≠ que imaginemos c√≥mo puede aplicar estos datos en un sistema dom√©stico inteligente, adem√°s de, por supuesto, que puede enviar alarmas a telegramas.  Todav√≠a no he hecho nada, excepto el primer punto, pero he lanzado los siguientes scripts: <br><br><ul><li>  inclusi√≥n de luz en las escaleras, si esta luz no est√° encendida, si aparece movimiento en cualquier habitaci√≥n, adem√°s ahora est√° oscuro, m√°s la noche </li><li>  Apertura autom√°tica del cohete del primer piso si est√°n cerrados, si ya es de ma√±ana y se detecta movimiento en la sala de estar por primera vez en un d√≠a. </li><li>  abrir las aletas de ventilaci√≥n si la concentraci√≥n de CO excede cualquier nivel, y cerrarlas si el nivel de CO ha disminuido (en realidad en una habitaci√≥n con chimenea) </li><li>  Abra las aletas de ventilaci√≥n si la temperatura ha excedido un cierto l√≠mite y, en consecuencia, ci√©rrelas. </li><li>  apagado autom√°tico de la persiana del primer piso si las persianas est√°n abiertas y si los sensores de movimiento han funcionado en la calle por la noche y la casa est√° en guardia nocturna. </li></ul><br>  As√≠ que complementa, haremos la casa m√°s inteligente ... </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/479760/">https://habr.com/ru/post/479760/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../479746/index.html">El software empresarial hace que sus empleados sean m√°s geniales. Lo necesitas</a></li>
<li><a href="../479748/index.html">GoLand 2019.3 con rendimiento mejorado, soporte mejorado para m√≥dulos Go y m√°s</a></li>
<li><a href="../479750/index.html">2. Fortinet Getting Started v 6.0. Arquitectura de soluciones</a></li>
<li><a href="../479756/index.html">Datos abiertos Roscosmos Ponerse al d√≠a con Am√©rica</a></li>
<li><a href="../479758/index.html">Pentest La pr√°ctica de pruebas de penetraci√≥n o "pirater√≠a √©tica". Nuevo curso de OTUS</a></li>
<li><a href="../479762/index.html">Los 6 errores m√°s comunes que cometen los desarrolladores al escribir HTML y CSS</a></li>
<li><a href="../479764/index.html">El n√∫mero de inversores privados en la Bolsa de Mosc√∫ super√≥ los 3,5 millones de personas.</a></li>
<li><a href="../479768/index.html">Instalaci√≥n y configuraci√≥n de AlienVault SIEM (OSSIM)</a></li>
<li><a href="../479774/index.html">Narraci√≥n a trav√©s de los alrededores o por qu√© las escenas cortadas no son una panacea</a></li>
<li><a href="../479776/index.html">Viajes profesionales: c√≥mo viven las azafatas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>