<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📕 👩🏽‍🏫 🍙 L'expérience de la création du premier robot sur Arduino (robot-chasseur) 👩🏾‍🤝‍👨🏿 🖐🏽 🍎</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour 

 Dans cet article, je veux décrire le processus d'assemblage de mon premier robot Arduino. Le matériel sera utile à d'autres nouveaux arriva...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>L'expérience de la création du premier robot sur Arduino (robot-chasseur)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436118/"> Bonjour <br><br>  Dans cet article, je veux décrire le processus d'assemblage de mon premier robot Arduino.  Le matériel sera utile à d'autres nouveaux arrivants comme moi qui veulent faire une sorte de «voiture autonome».  L'article est une description des étapes du travail avec mes ajouts sur diverses nuances.  Un lien vers le code résultant (probablement pas le plus idéal) est donné à la fin de l'article. <br><br><img src="https://habrastorage.org/webt/gg/go/jt/gggojtfkexubr-5hiyumawj2gpw.jpeg"><br><br>  Dans la mesure du possible, j'ai impliqué mon fils (8 ans).  Qu'est-ce qui lui est exactement arrivé et ce qui ne l'a pas fait - pour cela, j'ai souligné une partie de l'article, peut-être que quelqu'un vous sera utile. <br><a name="habracut"></a><br><h2>  Description générale du robot </h2><br>  Tout d'abord, quelques mots sur le robot lui-même ( <b>idée</b> ).  Je ne voulais pas vraiment collecter quelque chose de typique au départ.  Dans le même temps, l'ensemble des composants était assez standard - châssis, moteurs, capteur à ultrasons, capteur de ligne, LED, tweeter.  Dans un premier temps, à partir de ce «service à soupe», un robot a été inventé qui protège son territoire.  Il se dirige vers l'intrus, qui a franchi la ligne circulaire, puis revient au centre.  Cependant, dans cette version, une ligne tracée était nécessaire, plus des mathématiques supplémentaires pour rester constamment dans le cercle. <br><br>  Par conséquent, après quelques délibérations, j'ai un peu changé l'idée et j'ai décidé de faire un robot «chasseur».  Au début, il tourne autour de son axe, choisissant une cible (personne) à proximité.  Si une «victime» est découverte, le «chasseur» allume un clignotant et une sirène et commence à monter dessus.  Lorsqu'une personne s'éloigne / s'enfuit, le robot sélectionne une nouvelle cible et la poursuit, et ainsi de suite.  Un tel robot n'a pas besoin d'un cercle limité et peut fonctionner dans une zone ouverte. <br><br>  Comme vous pouvez le voir, cela ressemble beaucoup au jeu de rattrapage.  Bien qu'à la fin le robot ne se soit pas avéré assez rapide, mais il interagit honnêtement avec les gens qui l'entourent.  Les enfants l'aiment particulièrement (parfois, cependant, il semble qu'ils sont sur le point de le piétiner, déjà le cœur sautille ...).  Je pense que c'est une bonne solution pour vulgariser la conception technique. <br><br><h2>  Structure du robot </h2><br>  Nous avons donc décidé de l'idée, passons à la <b>mise en page</b> .  La liste des éléments est formée à partir de ce que le robot devrait pouvoir.  Tout est assez évident ici, alors regardez immédiatement la numérotation: <br><br><img src="https://habrastorage.org/webt/0l/vg/gq/0lvggqarv4h03cxzyflrf_7x3vu.jpeg"><br><br>  "Cerveau" du robot - board arduino uno (1);  était dans un ensemble commandé de Chine.  Pour nos besoins, c'est assez (nous nous concentrons sur le nombre de broches utilisées).  Dans le même ensemble, nous avons pris le châssis fini (2), sur lequel sont fixées deux roues motrices (3) et une arrière (tournant librement) (4).  Dans le kit se trouvait également un compartiment de batterie prêt à l'emploi (5).  À l'avant du robot se trouve un capteur à ultrasons (HC-SR04) (6), à l'arrière est un pilote de moteur (L298N) (7), au centre est un clignotant à LED (8), et un peu sur le côté est un tweeter (9). <br><br>  Au stade de la construction, nous regardons: <br><br>  - pour que tout rentre <br>  - être équilibré <br>  - être rationnellement placé <br><br>  En partie, nos collègues chinois l'ont déjà fait pour nous.  Ainsi, le compartiment de la batterie lourde est placé au centre, et approximativement en dessous se trouvent les roues motrices.  Toutes les autres cartes sont légères, elles peuvent être placées en périphérie. <br><br>  Nuances: <br><br><ol><li>  Il y a beaucoup de trous d'usine dans le châssis de l'ensemble, mais quelle logique y est - je ne l'ai toujours pas compris.  Les moteurs et le pack batterie ont été réparés sans problème, puis l'ajustement a commencé par le perçage de nouveaux trous pour fixer l'une ou l'autre planche. </li><li>  Les supports en laiton et autres attaches des pièces de stockage ont été assez sauvés (parfois ils ont dû sortir). </li><li>  J'ai passé les pneus de chaque planche à travers les pinces (encore une fois, je les ai trouvés dans les entrepôts).  Très pratique, tous les fils sont beaux et ne traînent pas. </li></ol><br><h2>  Blocs individuels </h2><br>  Maintenant, je vais parcourir les <b>blocs</b> et vous parler personnellement de chacun. <br><br>  <b>Compartiment à piles</b> <br><br>  Il est clair que le robot doit avoir une bonne source d'énergie.  Les options peuvent être différentes, j'ai choisi l'option avec 4 piles AA.  Au total, ils donnent environ 5 V, et cette tension peut être directement appliquée à la broche 5V de la carte Arduino (en contournant le stabilisateur). <br><br>  Bien sûr, j'avais une certaine méfiance, mais cette solution est tout à fait réalisable. <br><br>  Comme l'alimentation est nécessaire partout, pour plus de commodité, j'ai fait deux connecteurs au centre du robot: l'un «distribue» la masse (droite) et le second - 5 V (gauche). <br><br><img src="https://habrastorage.org/webt/ko/jj/am/kojjamjo6cxljkfgv8os3v1zq-4.jpeg"><br><br>  <b>Moteurs et chauffeur</b> <br><br>  Tout d'abord, sur le montage des moteurs.  Le support est fabriqué en usine, mais fabriqué avec de grandes tolérances.  En d'autres termes, les moteurs peuvent «osciller» de quelques millimètres de gauche à droite.  Pour notre tâche, ce n'est pas critique, mais quelque part il peut influencer (le robot commencera à s'éloigner).  Au cas où, je mettrais les moteurs strictement parallèles et fixés avec de la colle. <br><br><img src="https://habrastorage.org/webt/f0/1k/bw/f01kbwansax8pzqihg4luq69xdk.jpeg"><br><br>  Pour contrôler les moteurs, comme je l'ai écrit ci-dessus, le pilote L298N est utilisé.  Selon la documentation, il a trois broches pour chaque moteur: une pour changer la vitesse et une paire de broches pour le sens de rotation.  Il y a un point important.  Il s'avère que si la tension d'alimentation est de 5 V, le contrôle de vitesse ne fonctionne tout simplement pas!  Autrement dit, ne se tord pas du tout, ou se tord au maximum.  Voici une telle fonctionnalité, à cause de laquelle j'ai "tué" quelques soirées.  En fin de compte, j'ai trouvé une mention quelque part dans l'un des forums. <br><br>  D'une manière générale, j'avais besoin d'une faible vitesse de rotation lors de la rotation du robot - de sorte qu'il avait une marge de temps pour scanner l'espace.  Mais, puisque rien ne venait d'une telle idée, j'ai dû le faire différemment: un petit virage - arrêt - tour - arrêt, etc. Encore une fois, ce n'est pas si élégant, mais efficace. <br><br>  J'ajouterai également ici qu'après chaque poursuite, le robot sélectionne une direction aléatoire d'un nouveau virage (dans le sens horaire ou antihoraire). <br><br>  <b>Capteur ultrasonique</b> <br><br><img src="https://habrastorage.org/webt/ib/7p/88/ib7p88tghk0qnnesuhnrgrrmbvs.jpeg"><br><br>  Un autre morceau de fer, où je devais chercher une solution de compromis.  Un capteur à ultrasons sur de vrais obstacles donne des nombres instables.  En fait, c'était prévu.  Idéalement, cela fonctionne quelque part dans les compétitions où il y a des surfaces lisses, uniformes et perpendiculaires, mais si les jambes de quelqu'un "scintillent" devant lui, alors vous devez introduire un traitement supplémentaire. <br><br>  En tant que tel traitement, j'ai réglé le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">filtre médian</a> sur trois échantillons.  Sur la base de tests sur de vrais enfants (pas un seul enfant n'a été blessé lors des tests!), Cela s'est avéré suffisant pour normaliser les données.  La physique ici est simple: nous avons des signaux réfléchis par les objets <b>nécessaires</b> (donnant la distance requise) et réfléchis par plus loin, par exemple, les murs.  Les seconds sont des explosions aléatoires dans les mesures de la forme 45, 46, <b>230</b> , 46, 46, 45, 45, <b>310</b> , 46 ... C'est leur filtre médian qui se coupe. <br><br>  Après tout le traitement, nous obtenons la distance à l'objet le plus proche.  Si elle est inférieure à une certaine valeur seuil, nous activons l'alarme et passons directement à «l'intrus». <br><br>  <b>Clignotant et sirène</b> <br><br>  Peut-être les éléments les plus simples de tout ce qui précède.  Ils peuvent être vus sur les photos ci-dessus.  Il n'y a rien à écrire sur le fer ici, alors passons maintenant au <b>code</b> . <br><br><h2>  Programme de gestion </h2><br>  Je ne vois pas l'intérêt d'écrire le code en détail, qui en a besoin - le lien est à la fin de l'article, tout y est assez lisible.  Mais la structure générale serait agréable à expliquer. <br><br>  La première chose que j'ai dû comprendre: le robot est un appareil en temps réel.  Plus précisément, souvenez-vous, car avant, et maintenant je fais toujours de l'électronique.  Cela signifie que nous oublions immédiatement l'appel <b>delay ()</b> , que nous aimons utiliser dans les exemples d'esquisses, et qui «gèle» simplement le programme pendant une période de temps spécifiée.  Au lieu de cela, comme le conseillent des personnes expérimentées, nous introduisons des minuteries pour chaque bloc.  L'intervalle requis est passé - ils ont effectué l'action (augmentation de la luminosité de la LED, mise en marche du moteur, etc.). <br><br>  Les minuteries peuvent être interconnectées.  Ainsi, par exemple, le tweeter fonctionne de manière synchrone avec un clignotant.  Cela rend le programme un peu plus facile. <br><br>  Naturellement, nous divisons tout en fonctions distinctes (clignotant, son, rotation, mouvement vers l'avant, etc.).  Si vous ne le faites pas, vous ne comprendrez pas ce qui vient ni où. <br><br><h2>  Les nuances de la pédagogie </h2><br>  Tout ce qui a été décrit ci-dessus, je l'ai fait dans mes temps libres le soir.  En mode tranquille, j'ai passé environ trois semaines sur le robot.  Cela aurait pu prendre fin, mais j'ai également promis de vous parler de travailler avec un enfant.  Qu'est-ce qui est faisable à cet âge? <br><br>  <b>Travail sur instructions</b> <br><br>  Nous avons d'abord vérifié chaque partie séparément - LED, tweeters, moteurs, capteurs, etc. Il existe un grand nombre d'exemples prêts à l'emploi - certains directement dans l'environnement de développement, d'autres sur Internet.  C'est sans aucun doute agréable.  Nous prenons le code, connectons la pièce, nous assurons que cela fonctionne, alors nous commençons déjà à changer pour notre tâche.  Connexions selon le schéma et sous une partie de mon contrôle, l'enfant se fait.  C'est bien.  Vous devez être capable de travailler clairement selon les instructions. <br><br>  <b>L'ordre de travail ("du privé au général")</b> <br><br>  C'est un point difficile.  Il est nécessaire d'enseigner qu'un grand projet ("fabriquer un robot") consiste en de petites tâches ("connecter un capteur", "connecter des moteurs" ...), et celles-ci, à leur tour, consistent en des étapes encore plus petites ("trouver un programme", " connecter la carte »,« télécharger le firmware »...).  En effectuant des tâches plus ou moins compréhensibles du niveau inférieur, nous «fermons» les tâches du niveau intermédiaire, et le résultat général en est déjà composé.  Il a expliqué, mais je pense que la prise de conscience ne viendra pas de sitôt.  Quelque part, probablement, jusqu'à l'adolescence. <br><br>  <b>L'installation</b> <br><br>  Perçage, filetages, vis, écrous, soudure et l'odeur de la colophane - où sans elle.  L'enfant a reçu la compétence de base "Travailler avec un fer à souder" - j'ai réussi à souder plusieurs joints (j'ai aidé un peu, je ne me cacherai pas).  N'oubliez pas l'explication de sécurité. <br><br>  <b>Travail informatique</b> <br><br>  J'ai écrit un programme pour le robot, mais j'ai réussi à obtenir une sorte de résultats associés. <br><br>  D'abord: l'anglais.  Cela venait juste de commencer à l'école, donc nous avons "grinçé" pour trier ce que sont les traductions pishalka, migalka, yarkost et autres.  Nous avons au moins compris cela.  Je n'ai délibérément pas utilisé mes mots anglais natifs, car nous n'avons pas encore atteint ce niveau. <br><br>  Deuxièmement: un travail efficace.  Ils ont appris aux combinaisons de touches de raccourci comment effectuer rapidement des opérations typiques.  Périodiquement, quand ils ont écrit le programme, nous avons changé de place avec mon fils, et j'ai dit ce qui devait être fait (remplacement, recherche, etc.).  J'ai dû répéter encore et encore: "double-cliquer", "maintenir Shift", "maintenir Ctrl" et ainsi de suite.  Le processus d'apprentissage ici n'est pas rapide, mais je pense que les compétences seront progressivement mises de côté. <br><br><div class="spoiler">  <b class="spoiler_title">Texte masqué</b> <div class="spoiler_text">  Vous pouvez dire que ce qui précède est presque évident.  Mais, honnêtement, cet automne, j'ai eu l'occasion de faire de l'informatique en 9e année dans la même école.  C'est de l'horreur.  Les élèves ne connaissent pas les éléments de base tels que Ctrl + Z, Ctrl + C et Ctrl + V, la sélection de texte avec Maj-maintenue ou double-cliquez sur un mot, et plus encore.  Et ce, malgré le fait qu'ils étaient dans leur troisième année d'études en informatique ... Tirez vous-même une conclusion. <br></div></div><br>  Troisièmement: la saisie tactile.  J'ai confié les commentaires du code à l'enfant tapant (laissez-le s'exercer).  Mettez immédiatement les mains droites afin que les doigts se souviennent progressivement de l'emplacement des touches. <br><br>  Comme vous pouvez le voir, nous ne faisons que commencer.  Nous perfectionnerons nos compétences et nos connaissances et nous serons utiles dans la vie. <br><br>  Au fait, à propos de la perspective ... <br><br><h2>  Développement ultérieur </h2><br>  Le robot est fait, monte, clignote et grince.  Et maintenant?  Inspirés par ce qui a été accompli, nous prévoyons de l'affiner davantage.  Il y a une idée de faire une télécommande - comme un rover lunaire.  Il serait intéressant, assis sur une console conditionnelle, de contrôler le mouvement du robot, qui se déplace dans un endroit complètement différent.  Mais ce sera une autre histoire ... <br><br>  Et à la fin, en fait, les héros de cet article (vidéo par clic): <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/sy/sl/-i/sysl-imyjpywmbkkpg1n4w-s5w0.png"></a> <br><br>  Merci de votre attention! <br><br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lien vers le code</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr436118/">https://habr.com/ru/post/fr436118/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr436106/index.html">D'où viennent les textes: un petit guide pour ceux qui veulent économiser sur le contenu SEO</a></li>
<li><a href="../fr436108/index.html">Examen de l'imprimante 3D HP à IMTS 2018</a></li>
<li><a href="../fr436110/index.html">Les mathématiciens prouvent que les polynômes n'aideront pas à pirater RSA</a></li>
<li><a href="../fr436112/index.html">Plugin Kubectl-debug pour le débogage dans les pods Kubernetes</a></li>
<li><a href="../fr436116/index.html">PERDIX: un algorithme pour la conception automatique d'ADN-origami de géométrie différente</a></li>
<li><a href="../fr436120/index.html">Le bug difficile à attraper dans LittleBigPlanet</a></li>
<li><a href="../fr436122/index.html">Intel Lakefield: processeur hybride Atom + Core en 3D</a></li>
<li><a href="../fr436124/index.html">Nous lisons les commentaires sur Habré avec commodités</a></li>
<li><a href="../fr436126/index.html">Kubernetes: création d'images Docker dans un cluster</a></li>
<li><a href="../fr436128/index.html">Entretien avec le chasseur de bagages Artyom Moscou. Il a piraté Steam et a reçu le plus grand prix de l'histoire de Valve.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>