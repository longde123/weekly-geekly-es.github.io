<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèéÔ∏è üë®üèª‚Äçüî¨ ‚úãüèª Como aprendemos a processar rapidamente as verifica√ß√µes üè£ ‚è∞ ü•´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Neste artigo, mostrarei como aprendemos a reconhecer as verifica√ß√µes (ou melhor, os deslizes), que tipo de rake eles pisaram e que tipo de efici√™ncia ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como aprendemos a processar rapidamente as verifica√ß√µes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/401391/">  Neste artigo, mostrarei como aprendemos a reconhecer as verifica√ß√µes (ou melhor, os deslizes), que tipo de rake eles pisaram e que tipo de efici√™ncia alcan√ßamos. <br><br>  Vou come√ßar com uma breve introdu√ß√£o.  Ganhamos promovendo promo√ß√µes para fabricantes e vendedores de uma variedade de bens de consumo.  Como regra, isso √© algo da categoria de "compre mercadorias - encontre o c√≥digo - envie-nos - ganhe um pr√™mio".  Nosso principal produto √© uma plataforma que gera, aceita, processa esses c√≥digos, ajuda a se comunicar com os participantes, paga b√¥nus e faz muito mais. <br><br>  Recentemente, come√ßamos a ver cada vez mais promo√ß√µes de colegas da loja, onde a confirma√ß√£o da compra n√£o era um c√≥digo promocional, como no exemplo acima, mas uma foto de um cheque.  E agora o fen√¥meno se espalhou.  N√£o era permitido ficar longe. <br><br>  Antes de tudo, registrei-me em todos os compartilhamentos com os cheques que descobri (bem, para ser sincero, de maneira alguma, em algum lugar na √°rea dos dez segundos, eu me cansei).  Acho que voc√™ n√£o tinha nenhum cheque, e decidi usar a foto de um gato em um plano de fundo abstrato em vez de um cheque. <a name="habracut"></a>  Imagine minha surpresa quando, em todas as a√ß√µes, exceto uma, meu gato foi aceito e admitido para mim antes do sorteio.  E, em alguns lugares, eles at√© emitiram um pr√™mio instant√¢neo na forma de um c√≥digo promocional para a biblioteca on-line.  Honestamente, nessa a√ß√£o, o gato tamb√©m foi aceito, mas prometeu envi√°-lo com modera√ß√£o e dentro de 8 (!) Horas para resolver o problema de minha participa√ß√£o na a√ß√£o. <br><br>  Esta op√ß√£o obviamente n√£o nos convinha.  Em primeiro lugar, n√£o √© bom permitir que uma pessoa jogue em qualquer foto.  Ele pode, desde que a plataforma permita o upload de uma foto do mesmo cheque, aumentando repetidamente suas chances de conseguir uma vit√≥ria.  Quando um desses pedidos vence, o original desse cheque √∫nico √© apresentado e o pr√™mio √© recebido.  Claro, h√° uma chance de ganhar duas vezes e se trair, mas j√° estamos empolgados com isso.  Em segundo lugar, oito horas sem dar feedback √†s pessoas parecem zombadoras em um mundo em que um visitante que passou mais de 15 segundos em um site √© considerado alvo.  Em terceiro lugar, dar um pr√™mio por uma foto de um gato significa mostrar a si mesmo que n√£o √© um organizador muito competente.  A prop√≥sito, aqui est√° ele. <br><br><img src="http://habrastorage.org/files/733/ca0/0ae/733ca00aede540689082c344b033eaf6.jpg"><br><br>  A conclus√£o foi √≥bvia: precisamos aprender a reconhecer cheques.  A tarefa √© dif√≠cil, por isso fomos aos profissionais - uma empresa bem conhecida.  Felizmente, eles tinham uma solu√ß√£o para reconhecer cheques, que, infelizmente, n√£o estavam localizados no mercado russo.  Em homenagem a isso, eles nos deram 1000 tentativas gratuitas para reconhecer o cheque, uma promessa de ajudar com conselhos e desejaram boa sorte a eles. <br><br>  Nesse momento, uma solicita√ß√£o do cliente apareceu.  Nossa tarefa era realizar uma a√ß√£o para uma grande rede de lojas de varejo.  No futuro, direi que eles aceitaram at√© 1.000 registros por dia.  Para se qualificar para pr√™mios em promo√ß√µes, voc√™ tinha que comprar algo a um custo de N rub a partir de um determinado per√≠odo de tempo.  e n√£o se esque√ßa de pagar pela sua compra com um cart√£o VISA.  A foto obtida ao comprar um boleto deve ser carregada em nosso site promocional.  Se voc√™ foi reconhecido como vencedor, tinha de apresentar um boleto e um cart√£o VISA nas bilheterias e receber o pr√™mio.  Uma foto - uma chance de ganhar.  O vencedor √© calculado entre todos os participantes que carregaram os boletos corretos, de acordo com uma f√≥rmula especial.  Nossa tarefa, nesta fase, √© aceitar o deslize e permitir / n√£o permitir que uma pessoa participe do desenho.  Ao mesmo tempo, √© desej√°vel cortar ao m√°ximo os truques que podem tentar nos escorregar um deslize duas vezes, deslizar o deslizamento impresso antes do in√≠cio da a√ß√£o e muitas outras coisas interessantes, incluindo, entre outras, a foto do gato. <br><br>  Testes m√∫ltiplos de um produto de uma grande empresa mostraram que ele determina o valor da compra, tipo de cart√£o, n√∫mero do cart√£o, hora e data da impress√£o.  E parece que: duplicamos (para isso, calculando os hashes dos par√¢metros reconhecidos e a pr√≥pria imagem), reconhecemos o valor, a data, o sistema de pagamento e o n√∫mero do cart√£o.  √â verdade que √© reconhecido com erros ... e n√£o com todos. <br><br>  Deixe-me lembr√°-lo de que, ao emitir um pr√™mio, o vencedor verificou o valor e o cart√£o do boletim, ou melhor, os √∫ltimos 4 d√≠gitos do n√∫mero do cart√£o.  Os dados foram verificados com o registro, que, de acordo com os resultados do sorteio, foi enviado automaticamente para a loja pelo nosso sistema.  Ou seja, esses dados simplesmente devem estar corretos. <br><br>  Tivemos que fazer o primeiro compromisso: pedimos ao participante que insira o valor da compra e os √∫ltimos 4 d√≠gitos do n√∫mero do cart√£o manualmente.  Al√©m disso, se o que a pessoa digitou e o que a m√°quina reconheceu coincidiu, e o sistema de pagamento e a data de impress√£o do boleto estiverem corretos, permitiremos que o participante desenhe. <br>  Achamos que permitimos apenas 71% dos deslizamentos.  Os 29% restantes s√£o imagens incorretas ou de baixa qualidade e imagens corretas, mas reconhecidas incorretamente em uma propor√ß√£o aproximada de 50/50. <br><br>  E esses 14,5% dos cheques rejeitados por engano?  A solu√ß√£o veio rapidamente, eles come√ßaram a enviar um aplicativo manual para um contact center amig√°vel.  Das desvantagens: caras e longas.  Se 71% dos sortudos obtiverem o resultado em um minuto, essas pessoas ter√£o que relatar a espera de at√© 8 horas.  Foi decidido tentar normalizar os resultados do reconhecimento em nosso sistema. <br><br>  Ativamos a an√°lise: verificamos manualmente os dados na foto e o resultado do reconhecimento.  O resultado do reconhecimento chega da seguinte forma: separadamente os campos "data", "quantia" etc.  e separadamente o texto completo, ou seja, em geral tudo o que foi encontrado na imagem.  Freq√ºentemente, dados n√£o contidos em um dos primeiros campos podem ser encontrados no texto completo atrav√©s dos olhos.  Com base na an√°lise de v√°rias centenas de boletos, decidimos fazer o seguinte: <br><br>  1) Distinguimos o cheque do comprovante: entre todos os comprovantes aceitos, procuramos um comprovante com o n√∫mero m√°ximo de linhas.  Para qualquer documento rejeitado (por qualquer motivo), consideramos o n√∫mero de linhas, se exceder o m√°ximo calculado anteriormente, dizemos √† pessoa: ‚ÄúTalvez voc√™ esteja tentando fazer o download de um cheque, n√£o de um recibo.  Tire uma foto da nota separadamente da verifica√ß√£o e tente novamente. "  Assim, uma pessoa entendeu melhor o que havia de errado com sua foto. <br><br>  2) Se a data n√£o for reconhecida: tentamos procurar no texto completo o fragmento pela m√°scara ‚ÄúXX / XX / XU‚Äù, onde X √© qualquer n√∫mero e Y √© qualquer caractere.  Ao encontrar o fragmento Y, altere-o para 6 (ou 7, dependendo do ano de verifica√ß√£o), considere o fragmento encontrado como a data em que o recibo foi impresso.  Sim, sim, o sistema cortou a grama principalmente no √∫ltimo d√≠gito da data.  Ganhou 2%. <br><br>  3) Se a quantia n√£o for reconhecida: procure no texto completo a m√°scara "ZXXXX.XX RU", onde X √© qualquer n√∫mero e Z √© qualquer caractere, incluindo um espa√ßo ou a aus√™ncia de um caractere.  O fragmento encontrado √© comparado com o que o participante inseriu.  Se houver uma discrep√¢ncia, substitua todos os 6 por 8 caracteres no fragmento encontrado, um por um e compare com o que voc√™ inseriu.  Por alguma raz√£o, a m√°quina geralmente confunde exatamente 6 e 8, e n√£o 8 e 6, ou seja, 6 e 8. O ganho √© de cerca de 3%. <br><br>  4) N√∫mero do cart√£o: procure no texto completo a m√°scara ‚Äú** XXXX‚Äù, onde X √© qualquer n√∫mero.  Entre os caracteres X pode haver espa√ßos ou sinais de pontua√ß√£o, n√≥s os descartamos.  O n√∫mero resultante √© comparado com o n√∫mero do cart√£o inserido manualmente.  + 1%. <br><br>  5) Cart√£o de pagamento: procure no texto completo um dos fragmentos: ‚ÄúCart√£o: V‚Äù, ‚ÄúCart√£o: V‚Äù, ‚ÄúCart√£o'V‚Äù, ‚ÄúVISH‚Äù.  Se localizado, considere o cart√£o como um cart√£o VISA.  + 3%. <br><br>  Assim, aumentamos o n√∫mero de solicita√ß√µes aceitas em um minuto para 80%.  Infelizmente, as possibilidades de normaliza√ß√£o foram praticamente esgotadas, e passamos a aumentar a efici√™ncia do reconhecimento manual (mas essa √© outra hist√≥ria). <br><br>  Em geral, at√© onde eu sei, acabamos sendo a primeira campanha no pa√≠s com reconhecimento real de cheques por m√°quina.  O resultado pela primeira vez n√£o me parece ruim, mas no ver√£o nosso parceiro prometeu melhorar significativamente a qualidade do reconhecimento enviando oficialmente a vers√£o russa de seu servi√ßo. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt401391/">https://habr.com/ru/post/pt401391/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt401371/index.html">An√°lise de conjuntos de dados do portal de dados abertos data.gov.ru</a></li>
<li><a href="../pt401375/index.html">Pesquisa: o sono √© necess√°rio para ajudar a esquecer</a></li>
<li><a href="../pt401379/index.html">Simula√ß√£o virtual 3D de navios para a Marinha Russa - estamos no topo da TI?</a></li>
<li><a href="../pt401381/index.html">Pol√≠tico franc√™s usou um holograma para se apresentar em duas cidades simultaneamente</a></li>
<li><a href="../pt401383/index.html">Ecossistema de desenvolvedor de telegrama</a></li>
<li><a href="../pt401393/index.html">"Como funciona": r√°dio - o fim de uma era bonita</a></li>
<li><a href="../pt401395/index.html">Aprimoramento probabil√≠stico de fotos com v√°rios pixels: Google Brain</a></li>
<li><a href="../pt401397/index.html">Paisagens astron√¥micas a 360 ¬∞</a></li>
<li><a href="../pt401399/index.html">Plataforma Intel Aero: quero voar</a></li>
<li><a href="../pt401401/index.html">Fraude ao comprar um MacBook usado: "Mas o n√∫mero, eles dizem, n√£o √© real!"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>