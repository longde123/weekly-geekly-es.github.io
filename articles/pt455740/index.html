<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõ¥ üôáüèº üë¨ Aprendizado de m√°quina em uma empresa de investimento: classificamos chamadas de suporte t√©cnico üë© üë®‚Äçüåæ üë®‚Äçüë©‚Äçüëß‚Äçüëß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Em teoria, o uso do aprendizado de m√°quina (ML) ajuda a reduzir o envolvimento humano em processos e opera√ß√µes, realocar recursos e reduzir custos. Co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Aprendizado de m√°quina em uma empresa de investimento: classificamos chamadas de suporte t√©cnico</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vtb/blog/455740/"> Em teoria, o uso do aprendizado de m√°quina (ML) ajuda a reduzir o envolvimento humano em processos e opera√ß√µes, realocar recursos e reduzir custos.  Como isso funciona em uma empresa e setor espec√≠ficos?  Como mostra nossa experi√™ncia, funciona. <br><br>  Em um certo est√°gio de desenvolvimento, n√≥s da VTB Capital enfrentamos uma necessidade urgente de reduzir o tempo necess√°rio para processar solicita√ß√µes de suporte t√©cnico.  Ap√≥s analisar as op√ß√µes, decidiu-se usar a tecnologia ML para categorizar chamadas de usu√°rios comerciais da Calypso, a principal plataforma de investimentos da empresa.  O processamento r√°pido de tais solicita√ß√µes √© crucial para a alta qualidade do servi√ßo de TI.  Pedimos aos nossos principais parceiros, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">EPAM, para</a> ajudar a resolver este problema. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e28/f7d/526/e28f7d5263a91215e33aeb0cc3e1d77e.png"><br><a name="habracut"></a><br>  Portanto, as solicita√ß√µes de suporte s√£o recebidas por email e transformadas em tickets em Jira.  Em seguida, os especialistas em suporte os classificam manualmente, priorizam-nos, inserem dados adicionais (por exemplo, de qual departamento e local onde uma solicita√ß√£o foi recebida, em qual unidade funcional do sistema a que pertence) e nomeiam artistas.  No total, s√£o usadas cerca de 10 categorias de consultas.  Por exemplo, isso pode ser uma solicita√ß√£o para analisar alguns dados e fornecer informa√ß√µes ao solicitante, adicionar um novo usu√°rio etc.  Al√©m disso, as a√ß√µes podem ser padr√£o ou n√£o padr√£o, portanto, √© muito importante determinar imediatamente corretamente o tipo de solicita√ß√£o e atribuir a execu√ß√£o ao especialista certo. <br><br>  √â importante observar: a VTB Capital queria n√£o apenas desenvolver uma solu√ß√£o tecnol√≥gica aplicada, mas tamb√©m avaliar as capacidades de v√°rias ferramentas e tecnologias no mercado.  Uma tarefa, duas abordagens diferentes, duas plataformas de tecnologia e tr√™s semanas e meia: qual foi o resultado? <br><br><h2>  Prot√≥tipo n¬∫ 1: tecnologias e modelos </h2><br>  A base para o desenvolvimento do prot√≥tipo foi a abordagem proposta pela equipe do EPAM e dados hist√≥ricos - cerca de 10.000 ingressos de Jira.  A aten√ß√£o principal foi focada nos tr√™s campos obrigat√≥rios que cada ticket cont√©m: Tipo de problema (tipo de problema), Resumo ("cabe√ßalho" da carta ou assunto da solicita√ß√£o) e Descri√ß√£o (descri√ß√£o).  Dentro da estrutura do projeto, foi planejado resolver o problema de analisar o texto dos campos Resumo e Descri√ß√£o e determinar automaticamente o tipo de solicita√ß√£o com base em seus resultados. <br><br>  S√£o as caracter√≠sticas do texto nesses dois campos de ticket que se tornaram a principal dificuldade t√©cnica na an√°lise de dados e no desenvolvimento de modelos de ML.  Portanto, o campo Resumo pode conter texto bastante "limpo", mas incluindo palavras e termos espec√≠ficos (por exemplo, <i>relat√≥rios do CWS n√£o em execu√ß√£o).</i>  O campo Descri√ß√£o, pelo contr√°rio, √© caracterizado por um texto mais "sujo", com uma abund√¢ncia de caracteres especiais, s√≠mbolos, barras invertidas e res√≠duos de elementos que n√£o s√£o de texto: <br><br><blockquote>  <i>Colegas de Dera,</i> <i><br></i>  <i>Voc√™ poderia nos explicar qual √© a diferen√ßa entre as medidas de risco FX_Opt_delta_all e FX_Opt_delta_cash?</i> <i><br></i>  <i>! 01D39C59.62374C90_image001.png!</i>  ) </blockquote><br>  Al√©m disso, o texto geralmente combina v√°rios idiomas (principalmente, naturalmente, russo e ingl√™s), terminologia de neg√≥cios, √°spero e g√≠ria de programador.  E, √© claro, como as solicita√ß√µes costumam ser escritas √†s pressas, em ambos os casos, erros de digita√ß√£o e ortografia n√£o s√£o descartados. <br><br>  As tecnologias escolhidas pela equipe do EPAM inclu√≠am Python 3.5 para desenvolvimento de prot√≥tipos, NLTK + Gensim + Re para processamento de texto, Pandas + Sklearn para an√°lise de dados e desenvolvimento de modelos e Keras + Tensorflow como uma estrutura de aprendizado profundo e back-end. <br><br>  Levando em considera√ß√£o as poss√≠veis caracter√≠sticas dos dados iniciais, tr√™s representa√ß√µes foram constru√≠das para a extra√ß√£o de caracteres no campo Resumo: no n√≠vel do s√≠mbolo, combina√ß√£o de s√≠mbolos e palavras individuais.  Cada uma das representa√ß√µes foi usada como entrada para uma rede neural recorrente. <br><br>  Por sua vez, as estat√≠sticas de caracteres de servi√ßo (importantes para o processamento de texto usando pontos de exclama√ß√£o, barras, etc.) e os valores m√©dios das cadeias ap√≥s filtrar os caracteres de servi√ßo e o lixo (para preserva√ß√£o compacta da estrutura do texto) foram escolhidos como uma representa√ß√£o para o campo Descri√ß√£o; bem como representa√ß√£o no n√≠vel da palavra ap√≥s a filtragem das palavras de parada.  Cada representa√ß√£o serviu de entrada para uma rede neural: estat√≠sticas de maneira totalmente conectada, linha por linha e no n√≠vel das palavras - de forma recursiva. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c5d/221/c44/c5d221c4466592b74a3dca8896422c1f.jpg"><br><br>  Nesse esquema, uma rede neural foi usada como uma rede recorrente, consistindo em uma camada GRU bidirecional com uma sa√≠da recorrente e normal, um conjunto de estados ocultos da rede recorrente usando a camada GlobalMaxPool1D e uma camada de sa√≠da totalmente conectada (Densa).  Para cada uma das entradas, sua pr√≥pria ‚Äúcabe√ßa‚Äù da rede neural foi constru√≠da e, em seguida, foram combinadas por concatena√ß√£o e bloqueadas na vari√°vel de destino. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yb/j8/rz/ybj8rz-kwdlpkaryk7ubulu1sdo.jpeg"></div><br>  Para obter o resultado final, a rede neural combinada retornou as probabilidades de uma solicita√ß√£o espec√≠fica pertencente a cada tipo.  Os dados foram divididos em cinco blocos sem interse√ß√µes: o modelo foi constru√≠do em quatro deles e testado no quinto.  Como cada solicita√ß√£o pode receber apenas um tipo de solicita√ß√£o, a regra para tomar uma decis√£o era simples - pelo valor m√°ximo de probabilidade. <br><br><h2>  Prot√≥tipo n¬∫ 2: algoritmos e princ√≠pios de trabalho </h2><br>  O segundo prot√≥tipo, para o qual a proposta preparada pela equipe da VTB Capital foi aceita, √© um aplicativo no Microsoft .NET Core com bibliotecas Microsoft.ML para implementar algoritmos de aprendizado de m√°quina e no Atlassian.Net SDK para interagir com o Jira por meio da API REST.  A base para a constru√ß√£o de modelos ML tamb√©m se tornou dados hist√≥ricos - 50.000 bilhetes Jira.  Como no primeiro caso, o aprendizado de m√°quina abrangeu os campos Resumo e Descri√ß√£o.  Antes do uso, os dois campos tamb√©m foram "limpos".  Sauda√ß√µes, assinaturas, hist√≥rico de correspond√™ncia e elementos n√£o textuais (por exemplo, imagens) foram exclu√≠dos da carta do usu√°rio.  Al√©m disso, usando a funcionalidade interna do Microsoft ML, as palavras de parada que n√£o eram relevantes para o processamento e an√°lise do texto foram apagadas do texto em ingl√™s. <br><br>  O Perceptron m√©dio (classifica√ß√£o bin√°ria) foi escolhido como um algoritmo de aprendizado de m√°quina, complementado pelo m√©todo One Versus All para fornecer classifica√ß√£o em v√°rias classes <br><br><h2>  Avalia√ß√£o dos resultados </h2><br>  Nenhum modelo de ML pode (possivelmente ainda) fornecer 100% de precis√£o do resultado. <br>  O prot√≥tipo de algoritmo n ¬∞ 1 fornece o compartilhamento da classifica√ß√£o correta (precis√£o), igual a 0,883 do n√∫mero total de solicita√ß√µes, ou 80%.  Al√©m disso, o valor de uma m√©trica semelhante em uma situa√ß√£o em que se assume que a resposta correta ser√° escolhida pela pessoa dentre as duas apresentadas pela solu√ß√£o atinge 0,901, ou 90%.  Obviamente, h√° casos em que a solu√ß√£o desenvolvida funciona pior ou n√£o pode dar a resposta correta - em regra, devido a um conjunto muito curto de palavras ou √† especificidade das informa√ß√µes na pr√≥pria solicita√ß√£o.  O papel ainda √© desempenhado pela quantidade insuficientemente grande de dados usados ‚Äã‚Äãno processo de aprendizagem.  De acordo com estimativas preliminares, um aumento no volume de informa√ß√µes processadas permitir√° aumentar a precis√£o da classifica√ß√£o em outros 0,01-0,03 pontos. <br><br>  Os resultados do melhor modelo nas m√©tricas de precis√£o (Precis√£o) e completude (Rechamada) s√£o avaliados da seguinte forma: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/590/113/485/5901134851d1ef471b408b822f9fbece.png"><br><br>  Se avaliarmos a qualidade do modelo como um todo para v√°rios tipos de consultas usando curvas ROC-AUC, os resultados ser√£o os seguintes. <br><br>  <i>Pedidos de a√ß√£o (solicita√ß√£o de a√ß√£o) e an√°lise de informa√ß√µes (solicita√ß√£o de an√°lise / tarefa)</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8cd/e6e/91c/8cde6e91c38a64200cc9b2f3aacd8282.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/676/f1f/422/676f1f42271c204c29f88f0b97117b2c.png"><br><br>  <i>Pedidos de altera√ß√µes nos dados corporativos (Solicita√ß√£o de Dados Corporativos) e de altera√ß√µes (Solicita√ß√£o de Mudan√ßa)</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/02f/112/19c/02f11219cfed8c8d208451fd8300c928.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/253/b65/e65/253b65e654d1e8ccfd4fd82e56dee3a6.png"><br><br>  <i>Solicita√ß√£o de desenvolvimento e solicita√ß√£o de consulta</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1fb/baa/dc6/1fbbaadc6b999322eeab9d5adbb43e50.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/65c/198/a17/65c198a179739383a644a0729e2b74b0.png"><br><br>  <i>Solicita√ß√µes para criar um novo objeto (Nova Solicita√ß√£o de Objeto) e adicionar um novo usu√°rio (Nova Solicita√ß√£o de Usu√°rio)</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ef0/cb1/4ed/ef0cb14ede844161eb4864846ec7cdbc.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b7c/03b/d02/b7c03bd020031e48decf95b443acc302.png"><br><br>  <i>Solicita√ß√£o de produ√ß√£o e solicita√ß√£o de suporte UAT / DEV (solicita√ß√£o de suporte UAT / Dev)</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2f5/ee9/88b/2f5ee988bab691e1f7e67bf169a1f0a5.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/cde/011/ab0/cde011ab09ecf38bda207371821824d3.png"><br><br>  Exemplos de classifica√ß√£o correta e incorreta para alguns tipos de consultas s√£o fornecidos abaixo: <br><br>  <i>Pedido de consulta</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5fa/15d/3ad/5fa15d3add0120d38fe87c0aa6fe9e27.png"><br>  Solicita√ß√£o de mudan√ßa <br><br>  <b>Classifica√ß√£o correta</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/54a/1c1/85c/54a1c185c2593817368c6c7df5854181.png"><br><br>  <b>Classifica√ß√£o incorreta</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b14/ba6/4ae/b14ba64ae7a950fcf2b778607b1e7d9d.png"><br><br>  <i>Pedido de a√ß√£o</i> <br><br>  <b>Classifica√ß√£o correta</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/830/f31/bd7/830f31bd786c90325c3bee5dd66af9cd.png"><br><br>  <b>Classifica√ß√£o incorreta</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/830/f31/bd7/830f31bd786c90325c3bee5dd66af9cd.png"><br><br>  <i>Problema de produ√ß√£o</i> <br>  <b>Classifica√ß√£o correta</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7bd/41b/15f/7bd41b15fe79a94cfa7d4702ac245e5a.png"><br><br>  <b>Classifica√ß√£o incorreta</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/80d/b28/1b7/80db281b7baa5306e16d4b2018a7dab2.png"><br><br>  O segundo prot√≥tipo tamb√©m apresentou bons resultados: em aproximadamente 75% dos casos, o ML determina corretamente o tipo de consulta (m√©trica de precis√£o).  A oportunidade de melhorar o indicador est√° associada √† melhoria da qualidade dos dados de origem, em particular a elimina√ß√£o de casos em que as mesmas consultas foram atribu√≠das a diferentes tipos. <br><br><h2>  Resumir </h2><br>  Cada um dos prot√≥tipos implementados mostrou sua efic√°cia e agora uma combina√ß√£o de dois prot√≥tipos desenvolvidos foi lan√ßada na produ√ß√£o piloto da VTB Capital.  Um pequeno experimento com ML em menos de um m√™s e a um custo m√≠nimo permitiu que a empresa se familiarizasse com as ferramentas de aprendizado de m√°quina e resolvesse um importante problema de aplicativo para classificar as solicita√ß√µes dos usu√°rios. <br><br>  A experi√™ncia adquirida pelos desenvolvedores do EPAM e VTB Capital - al√©m de usar algoritmos implementados para processar solicita√ß√µes de usu√°rios para desenvolvimento adicional - pode ser reutilizada na solu√ß√£o de uma variedade de problemas relacionados ao processamento de informa√ß√µes em fluxo.  O movimento em pequenas itera√ß√µes e a cobertura de um processo ap√≥s o outro permitem que voc√™ domine e combine gradualmente v√°rias ferramentas e tecnologias, escolhendo op√ß√µes comprovadas e abandonando as menos eficazes.  Isso √© interessante para a equipe de TI e, ao mesmo tempo, ajuda a obter resultados importantes para o gerenciamento e os neg√≥cios. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt455740/">https://habr.com/ru/post/pt455740/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt455728/index.html">Fazendo seu bot√£o de a√ß√£o flutuante quase estendido</a></li>
<li><a href="../pt455730/index.html">Instale o MacOS High Sierra quando apenas o WiFi estiver dispon√≠vel</a></li>
<li><a href="../pt455734/index.html">H√°bito de fazer agora</a></li>
<li><a href="../pt455736/index.html">Consenso em criptomoedas com minera√ß√£o h√≠brida e Multi-PoW</a></li>
<li><a href="../pt455738/index.html">Como ganhar um bilh√£o monetizando seus dados?</a></li>
<li><a href="../pt455742/index.html">Fazendo m√∫sica: quando solu√ß√µes simples superam o aprendizado profundo</a></li>
<li><a href="../pt455744/index.html">Sistema de gera√ß√£o de paisagem de labirinto com realismo visual aprimorado [tradu√ß√£o do artigo de Jinmo Kim]</a></li>
<li><a href="../pt455746/index.html">Celesta 7.x: ORM, migra√ß√£o e teste ‚Äúem um pacote‚Äù</a></li>
<li><a href="../pt455754/index.html">Testes de um estratostato √† deriva. Lan√ßamento de Rogozin e LoRa na estratosfera</a></li>
<li><a href="../pt455756/index.html">√â a favor</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>