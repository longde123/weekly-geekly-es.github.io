<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ––ğŸ½ ğŸš« ğŸ‘©ğŸ»â€ğŸš€ è®©Perlä»1987å¹´å¼€å§‹ ğŸ‘†ğŸ½ ğŸ¡ ğŸšƒ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨LINUX.ORG.RU ä¸Šé˜…è¯»äº†â€œ Perlè§£é‡Šå™¨ä»£ç å·²æ­£å¼ç§»æ¤åˆ°GitHub â€çš„æ–°é—»ä¹‹åï¼Œæˆ‘å†³å®šçœ‹ä¸€ä¸‹ç°åœ¨å·²ç»åœ¨GitHubä¸Šçš„Perl 5å­˜å‚¨åº“ã€‚ 

 ä»¤äººæƒŠå¥‡çš„æ˜¯ï¼Œä»–ä»¬éœ‡æƒŠä¸æ•¬ç•ï¼Œä¸ä»…ç»å¯¹ä¿ç•™äº†æ•´ä¸ªé¡¹ç›®32å¹´çš„å†å²ï¼Œè€Œä¸”è¿˜ä¿ç•™äº†é”™è¯¯æŠ¥å‘Šï¼ˆé™·å…¥é—®é¢˜ï¼‰ï¼Œè¡¥ä¸ï¼ˆé™·å…¥PRï¼‰ï¼Œå‘è¡Œç‰ˆå’Œåˆ†æ”¯ã€‚ æ–‡...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>è®©Perlä»1987å¹´å¼€å§‹</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473228/">åœ¨LINUX.ORG.RU <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="Perlè§£é‡Šå™¨ä»£ç æ­£å¼ç§»æ¤åˆ°GitHubï¼Œæœ‰å…³LINUX.ORG.RUèµ„æºçš„æ–°é—»">ä¸Š</a>é˜…è¯»äº†â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="Perlè§£é‡Šå™¨ä»£ç æ­£å¼ç§»æ¤åˆ°GitHubï¼Œæœ‰å…³LINUX.ORG.RUèµ„æºçš„æ–°é—»">Perlè§£é‡Šå™¨ä»£ç å·²æ­£å¼ç§»æ¤åˆ°GitHub</a> â€çš„æ–°é—»ä¹‹åï¼Œæˆ‘å†³å®šçœ‹ä¸€ä¸‹ç°åœ¨å·²ç»åœ¨GitHubä¸Šçš„Perl 5å­˜å‚¨åº“ã€‚ <br><br> ä»¤äººæƒŠå¥‡çš„æ˜¯ï¼Œä»–ä»¬éœ‡æƒŠä¸æ•¬ç•ï¼Œä¸ä»…ç»å¯¹ä¿ç•™äº†æ•´ä¸ªé¡¹ç›®32å¹´çš„å†å²ï¼Œè€Œä¸”è¿˜ä¿ç•™äº†é”™è¯¯æŠ¥å‘Šï¼ˆé™·å…¥é—®é¢˜ï¼‰ï¼Œè¡¥ä¸ï¼ˆé™·å…¥PRï¼‰ï¼Œå‘è¡Œç‰ˆå’Œåˆ†æ”¯ã€‚ æ–‡ä»¶æ—è¾¹çš„é¢˜è¯â€œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="32å¹´å‰ï¼Œåœ¨Perlæºæ–‡ä»¶ä¸Šï¼Œæ˜¯Perl 5å®˜æ–¹GitHubå­˜å‚¨åº“ã€‚">32å¹´å‰</a> â€å¼•èµ·ä¸ç”±è‡ªä¸»çš„å¾®ç¬‘ã€‚ <br><br> åœ¨è¿™ä¸ªæ²‰é—·çš„æ˜ŸæœŸäº”æ™šä¸Šï¼Œå½“é›¨å’Œé›ªåœ¨è¡—é“ä¸Šä»¤äººæ¯›éª¨æ‚šç„¶åœ°ä¸‹ç€æ¯›æ¯›é›¨ï¼Œè€Œæ‰€æœ‰çš„è¡—é“éƒ½é™·åœ¨ç§‹å¤©çš„æ³¥æ³ä¸­æ—¶ï¼Œè¿˜æœ‰ä»€ä¹ˆå¯åšçš„å‘¢ï¼Ÿ æ˜¯çš„ï¼Œçº¢çœ¼ç›ï¼ å› æ­¤ï¼Œå‡ºäºå®éªŒå’Œå…´è¶£çš„è€ƒè™‘ï¼Œæˆ‘å†³å®šåœ¨å…·æœ‰æœ€æ–°ç‰ˆæœ¬<strong>GCC 9.2.0</strong>çš„ç°ä»£x86_64æœºå™¨ä¸Šç¼–è¯‘å¹¶ç»„è£…å¤è€çš„Perlã€‚ è¿™æ ·çš„æ—§ä»£ç å¯ä»¥é€šè¿‡æ—¶é—´çš„è€ƒéªŒå—ï¼Ÿ <br><br><div style="text-align:center;"><img title="Linuxç°ä»£çš„Linux Arch Linuxå‘è¡Œç‰ˆï¼Œm twmï¼ˆXçª—å£ç³»ç»Ÿçš„ç¬¬ä¸€ä¸ªçª—å£ç®¡ç†å™¨ï¼‰çš„æ¼”ç¤ºã€‚" src="https://habrastorage.org/webt/-0/d5/wt/-0d5wtkg6ylqdd-h5g1hbtdiypi.png"></div><br>  <i>åœ¨ç°ä»£Arch Linuxå‘è¡Œç‰ˆä¸­ï¼Œå±•ç¤ºäº†Xçª—å£ç³»ç»Ÿçš„é¦–æ‰¹çª—å£ç®¡ç†å™¨<strong>twm</strong> ã€‚</i> <br><br> ä¸ºäº†å®Œå…¨çœŸå®å¯é ï¼Œæˆ‘éƒ¨ç½²äº†ä¸€ä¸ªå¸¦æœ‰è£¸Xå’Œçª—å£ç®¡ç†å™¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="twmï¼Œç»´åŸºç™¾ç§‘é¡µé¢ã€‚">twm</a>çš„è™šæ‹Ÿæœºï¼Œè¯¥è™šæ‹Ÿæœºä¹Ÿäº1987å¹´å‘å¸ƒã€‚ è°çŸ¥é“ï¼Œä¹Ÿè®¸<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="æ‹‰é‡ŒÂ·æ²ƒå°”ï¼ˆLarry Wallï¼‰ï¼Œç»´åŸºç™¾ç§‘é¡µé¢ã€‚">æ‹‰é‡ŒÂ·æ²ƒå°”</a> ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="æ‹‰é‡ŒÂ·æ²ƒå°”ï¼ˆLarry Wallï¼‰ï¼Œç»´åŸºç™¾ç§‘é¡µé¢ã€‚">Larry Wall</a> ï¼‰æ°å¥½ä½¿ç”¨<strong>twm</strong>ç¼–å†™äº†ä»–çš„Perlï¼Œå¯ä»¥è¯´<em>æ˜¯</em>é‚£ä¸ªæ—¶ä»£çš„<em>å°–ç«¯æŠ€æœ¯</em> ã€‚ ä½¿ç”¨çš„å‘è¡Œç‰ˆæ˜¯Arch Linuxã€‚ åªæ˜¯å› ä¸ºä»–çš„å­˜å‚¨åº“ä¸­æœ‰ä¸€äº›æœ‰ç”¨çš„ä¸œè¥¿ï¼Œåæ¥æ‰æ´¾ä¸Šç”¨åœºã€‚ æ‰€ä»¥èµ°å§ï¼ <br><a name="habracut"></a><br><a name="article-content"></a><h2> å†…å®¹ï¼š </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">1.å‡†å¤‡ç¯å¢ƒ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">2.é…ç½®æºä»£ç </a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">3. Yaccè¯­æ³•æ–‡ä»¶é”™è¯¯</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">4.â€œ Câ€ä¸Šçš„ä»£ç ç¼–è¯‘é”™è¯¯</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">5.çº æ­£ä¸€äº›é”™è¯¯åˆ†æ®µé”™è¯¯</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">6.æ€»ç»“</a> <br><br><a name="environment"></a><h2>  1.å‡†å¤‡ç¯å¢ƒ </h2><br> é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨è™šæ‹Ÿæœºä¸Šå·²éƒ¨ç½²çš„æ“ä½œç³»ç»Ÿä¸Šå®‰è£…äº†æ±‡ç¼–å’Œç¼–è¾‘æºä»£ç æ‰€éœ€çš„æ‰€æœ‰ç»…å£«å·¥å…·é›†å’Œç¼–è¯‘å™¨ï¼š <strong>gcc</strong> ï¼Œ <strong>make</strong> ï¼Œ <strong>vim</strong> ï¼Œ <strong>git</strong> ï¼Œ <strong>gdb</strong>ç­‰ã€‚å…¶ä¸­ä¸€äº›å·²ç»å®‰è£…ï¼Œè€Œå¦ä¸€äº›åˆ™åœ¨metaåŒ…ä¸­æä¾›ã€‚ <strong>base-devel</strong> ï¼Œå¦‚æœæœªå®‰è£…ï¼Œåˆ™å¿…é¡»å®‰è£…ã€‚ ä¸€æ—¦ç¯å¢ƒå‡†å¤‡å¥½é‡‡å–è¡ŒåŠ¨ï¼Œæˆ‘ä»¬å°†è·å¾—32å¹´å†å²çš„Perlæºä»£ç çš„å‰¯æœ¬ï¼ <br><br><pre><code class="bash hljs">$ git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/Perl/perl5/ --depth=1 -b perl-1.0</code> </pre> <br> å€ŸåŠ©Gitçš„åŠŸèƒ½ï¼Œæˆ‘ä»¬æ— éœ€æ‹–ä¸€å †æ–‡ä»¶å³å¯åˆ°è¾¾é¡¹ç›®çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬ï¼š <br><br><pre> <code class="plaintext hljs">* commit 8d063cd8450e59ea1c611a2f4f5a21059a2804f1 (grafted, HEAD, tag: perl-1.0) Commit: Larry Wall &lt;lwall@jpl-devvax.jpl.nasa.gov&gt; CommitDate: Fri Dec 18 00:00:00 1987 +0000 a "replacement" for awk and sed</code> </pre><br> æˆ‘ä»¬ä»…ä¸‹è½½å°‘é‡æ•°æ®ï¼Œå› æ­¤ï¼Œå¸¦æœ‰Perlç¬¬ä¸€ä¸ªç‰ˆæœ¬çš„æºä»£ç çš„å­˜å‚¨åº“ä»…å ç”¨150 KBã€‚ <br><br> åœ¨é‚£é»‘æš—è€Œå¯†é›†çš„æ—¶é—´é‡Œï¼Œæ²¡æœ‰è¯¸å¦‚<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="GNU Autotoolsï¼ŒWikipediaé¡µé¢ã€‚">è‡ªåŠ¨å·¥å…·ä¹‹</a>ç±»çš„åŸºæœ¬<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="GNU Autotoolsï¼ŒWikipediaé¡µé¢ã€‚">å·¥å…·</a> ï¼ˆçœŸæ˜¯å¤ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="GNU Autotoolsï¼ŒWikipediaé¡µé¢ã€‚">å¹¸è¿</a> <em>äº†ï¼</em> ï¼‰ï¼Œä½†æ˜¯ï¼Œå­˜å‚¨åº“æ ¹ç›®å½•ä¸­æœ‰ä¸€ä¸ª<strong>Configure</strong>è„šæœ¬ã€‚ æ€ä¹ˆäº† ä½†äº‹å®æ˜¯ï¼Œæ‹‰é‡ŒÂ·æ²ƒå°”ï¼ˆLarry Wallï¼‰æ˜¯æ­¤ç±»è„šæœ¬çš„å‘æ˜è€…ï¼Œè¿™äº›è„šæœ¬å…è®¸ä¸ºå½“æ—¶æœ€æ··ä¹±çš„UNIXè®¡ç®—æœºç”ŸæˆMakefileã€‚ æ­£å¦‚Wikipediaä¸Šæœ‰å…³<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="é…ç½®è„šæœ¬ï¼Œå†å²è®°å½•ï¼Œç»´åŸºç™¾ç§‘é¡µé¢ã€‚">åŒå</a>è„šæœ¬çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="é…ç½®è„šæœ¬ï¼Œå†å²è®°å½•ï¼Œç»´åŸºç™¾ç§‘é¡µé¢ã€‚">æ–‡ç« </a>æ‰€è¿°ï¼ŒLarry Wallåœ¨ç¼–å†™Perlçš„ä¸‰å¹´åå°±å‘<strong>Configure</strong>æ–‡ä»¶æä¾›äº†ä¸€äº›è½¯ä»¶ï¼Œä¾‹å¦‚æ–°é—»é˜…è¯»å™¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="rnï¼Œæ–°é—»é˜…è¯»å™¨ï¼Œç»´åŸºç™¾ç§‘é¡µé¢ã€‚">rn</a> ã€‚ éšåï¼ŒPerlä¹Ÿä¸ä¾‹å¤–ï¼Œå¹¶ä¸”ä½¿ç”¨å·²ç»åœ¨è®¸å¤šè®¡ç®—æœºä¸Šè¿è¡Œçš„è„šæœ¬æ¥æ„å»ºå®ƒã€‚ åæ¥ï¼Œå…¶ä»–å¼€å‘äººå‘˜ï¼ˆä¾‹å¦‚Trolltechçš„ç¨‹åºå‘˜ï¼‰ä¹Ÿé‡‡çº³äº†è¿™ä¸ªæƒ³æ³•ã€‚ ä»–ä»¬ä½¿ç”¨ç±»ä¼¼çš„è„šæœ¬æ¥é…ç½®å…¶Qtæ¡†æ¶çš„æ„å»ºï¼Œè®¸å¤šäººå°†å…¶ä¸<strong>autotoolsçš„</strong> <strong>configure</strong>æ··æ·†äº†ã€‚ æ­£æ˜¯æ¥è‡ªä¸åŒå¼€å‘äººå‘˜çš„æ­¤ç±»è„šæœ¬çš„åŠ¨ç‰©å›­ï¼Œå®ƒä»¬ä¸ºåˆ›å»ºç”¨äºç®€åŒ–å’Œè‡ªåŠ¨ç”Ÿæˆçš„å·¥å…·æä¾›äº†åŠ¨åŠ›ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>&lt;&lt;è·³åˆ°å†…å®¹</em></a> <br><br><a name="configure"></a><h2>  2.é…ç½®æºä»£ç  </h2><br>  â€œè€æ´¾â€çš„<strong>é…ç½®</strong>è„šæœ¬ï¼Œä»å…¶<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="Shebangï¼ŒUnixï¼Œç»´åŸºç™¾ç§‘é¡µé¢ã€‚">Shebang</a> 'ä¸­å·²ç»å¾ˆæ˜æ˜¾äº†ï¼Œè¯¥è„šæœ¬æœ‰ä¸€ä¸ªç©ºæ ¼ï¼š <br><br><pre> <code class="bash hljs">$ cat Configure | head -5 <span class="hljs-comment"><span class="hljs-comment">#! /bin/sh # # If these # comments don't work, trim them. Don't worry about any other # shell scripts, Configure will trim # comments from them for you. #</span></span></code> </pre><br> æ ¹æ®è¯„è®ºï¼Œäº‹å®è¯æ˜è„šæœ¬ä¸­å­˜åœ¨æ— æ³•å‘è¡¨è¯„è®ºçš„shellï¼ ç©ºé—´çŠ¶å†µçœ‹èµ·æ¥å¾ˆä¸æ­£å¸¸ï¼Œä½†æ˜¯ä¸€æ—¦æˆä¸ºå¸¸æ€ï¼Œè¯·åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="ï¼ƒä¹‹é—´å…è®¸æœ‰ç©ºæ ¼ï¼å’Œ/ bin / bashåœ¨shebangå—ï¼Ÿ -Unixå’ŒLinux Stack Exchangeã€‚">æ­¤å¤„</a>æŸ¥çœ‹é“¾æ¥ä»¥è·å–æ›´å¤šä¿¡æ¯ã€‚ æœ€é‡è¦çš„æ˜¯ï¼Œå¯¹äºç°ä»£çš„shellè§£é‡Šå™¨è€Œè¨€ï¼Œæ˜¯å¦å­˜åœ¨ç©ºé—´æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚ <br><br> è¶³å¤Ÿçš„æ­Œè¯ï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ï¼ æˆ‘ä»¬å¯åŠ¨è„šæœ¬å¹¶çœ‹åˆ°ä¸€ä¸ªæœ‰è¶£çš„å‡è®¾ï¼Œäº‹å®å¹¶éå®Œå…¨å¦‚æ­¤ï¼š <br><br><pre> <code class="plaintext hljs">$ ./Configure (I see you are using the Korn shell. Some ksh's blow up on Configure, especially on exotic machines. If yours does, try the Bourne shell instead.) Beginning of configuration questions for perl kit. Checking echo to see how to suppress newlines... ...using -n. Type carriage return to continue. Your cursor should be here--&gt;</code> </pre><br> ä»¤äººæƒŠè®¶çš„æ˜¯ï¼Œè„šæœ¬æ˜¯äº¤äº’å¼çš„ï¼Œå¹¶ä¸”åŒ…å«å¤§é‡çš„å„ç§èƒŒæ™¯ä¿¡æ¯ã€‚ ç”¨æˆ·äº¤äº’æ¨¡å‹å»ºç«‹åœ¨å¯¹è¯æ¡†ä¸Šï¼Œåˆ†æè„šæœ¬æ›´æ”¹å…¶å‚æ•°æ‰€ä¾æ®çš„ç­”æ¡ˆï¼Œå¹¶æ ¹æ®è„šæœ¬éšåç”ŸæˆMakefileã€‚ æˆ‘ä¸ªäººæœ‰å…´è¶£æ£€æŸ¥æ‰€æœ‰shellå‘½ä»¤æ˜¯å¦éƒ½åˆ°ä½ï¼Ÿ <br><br><pre> <code class="plaintext hljs">Locating common programs... expr is in /bin/expr. sed is in /bin/sed. echo is in /bin/echo. cat is in /bin/cat. rm is in /bin/rm. mv is in /bin/mv. cp is in /bin/cp. tr is in /bin/tr. mkdir is in /bin/mkdir. sort is in /bin/sort. uniq is in /bin/uniq. grep is in /bin/grep. Don't worry if any of the following aren't found... test is in /bin/test. egrep is in /bin/egrep. I don't see Mcc out there, offhand.</code> </pre><br> æ˜¾ç„¶ï¼Œåœ¨æ­¤ä¹‹å‰è¿˜è¿œéå¦‚æ­¤ã€‚ æˆ‘æƒ³çŸ¥é“<strong>Mcc</strong>å®ç”¨ç¨‹åºè´Ÿè´£ä»€ä¹ˆï¼Œæ‰¾ä¸åˆ°å“ªä¸ªï¼Ÿ æœ‰è¶£çš„æ˜¯ï¼Œè¯¥è„šæœ¬å…·æœ‰å½“æ—¶æœ€å¥½çš„é»‘å®¢ä¼ ç»Ÿï¼Œå……æ»¡äº†å¹½é»˜ã€‚ ç°åœ¨ï¼Œæ‚¨å‡ ä¹çœ‹ä¸åˆ°ï¼š <br><br><pre> <code class="plaintext hljs">Is your "test" built into sh? [n] (OK to guess) OK Checking compatibility between /bin/echo and builtin echo (if any)... They are compatible. In fact, they may be identical. Your C library is in /lib/libc.a. You're normal. Extracting names from /lib/libc.a for later perusal...done Hmm... Looks kind of like a USG system, but we'll see... Congratulations. You aren't running Eunice. It's not Xenix... Nor is it Venix... Checking your sh to see if it knows about # comments... Your sh handles # comments correctly. Okay, let's see if #! works on this system... It does. Checking out how to guarantee sh startup... Let's see if '#!/bin/sh' works... Yup, it does.</code> </pre><br> æˆ‘ç”¨é»˜è®¤å€¼æˆ–è„šæœ¬ä¸ºæˆ‘æä¾›çš„å†…å®¹å›ç­”äº†å¤§å¤šæ•°é—®é¢˜ã€‚ å¯¹ç¼–è¯‘å™¨å’Œé“¾æ¥å™¨çš„æ ‡å¿—è¯·æ±‚ç‰¹åˆ«é«˜å…´å’ŒæƒŠè®¶ï¼š <br><br><pre> <code class="plaintext hljs">Any additional cc flags? [none] Any additional ld flags? [none]</code> </pre><br> æ‚¨å¯ä»¥åœ¨å…¶ä¸­ç¼–å†™ä¸€äº›æœ‰è¶£çš„å†…å®¹ï¼Œä¾‹å¦‚<strong>-m32</strong>æ¥æ„å»º32ä½å¯æ‰§è¡Œæ–‡ä»¶æˆ–åº“ï¼Œè¿™æ˜¯é“¾æ¥æœŸé—´æ‰€éœ€çš„ã€‚ æœ€åä¸€ä¸ªè„šæœ¬é—®é¢˜ï¼š <br><br><pre> <code class="plaintext hljs">Now you need to generate make dependencies by running "make depend". You might prefer to run it in background: "make depend &gt; makedepend.out &amp;" It can take a while, so you might not want to run it right now. Run make depend now? [n] y</code> </pre><br> æˆ‘å›ç­”è‚¯å®šã€‚ é€šè¿‡<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="makedependï¼Œå†å²è®°å½•ï¼Œç»´åŸºç™¾ç§‘é¡µé¢ã€‚">å…¶</a> Wikipedia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="makedependï¼Œå†å²è®°å½•ï¼Œç»´åŸºç™¾ç§‘é¡µé¢ã€‚">é¡µé¢</a>åˆ¤æ–­ï¼Œå¤è€çš„<strong>makedepend</strong>å®ç”¨ç¨‹åºæ˜¯åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="é›…å…¸å¨œè®¡åˆ’ï¼Œç»´åŸºç™¾ç§‘é¡µé¢ã€‚">Athenaé¡¹ç›®</a>ç”Ÿå‘½çš„ä¸€å¼€å§‹å°±åˆ›å»ºçš„ï¼Œä»¥æ–¹ä¾¿ä½¿ç”¨Makefilesã€‚ è¯¥é¡¹ç›®ä¸ºæˆ‘ä»¬æä¾›äº†Xçª—å£ç³»ç»Ÿï¼ŒKerberosï¼ŒZephyrï¼Œå¹¶å½±å“äº†å½“ä»Šè®¸å¤šå…¶ä»–ç†Ÿæ‚‰çš„äº‹ç‰©ã€‚ æ‰€æœ‰è¿™äº›éƒ½å¾ˆæ£’ï¼Œä½†æ˜¯è¿™ä¸ªå®ç”¨ç¨‹åºåœ¨ç°ä»£Linuxç¯å¢ƒä¸­ä»ä½•è€Œæ¥ï¼Ÿ é•¿æœŸä»¥æ¥ï¼Œæ²¡äººå’Œä»»ä½•åœ°æ–¹éƒ½åœ¨ä½¿ç”¨å®ƒã€‚ ä½†æ˜¯ï¼Œå¦‚æœæ‚¨ä»”ç»†æŸ¥çœ‹å­˜å‚¨åº“çš„æ ¹ç›®å½•ï¼Œå°±ä¼šå‘ç°Larry Wallç¼–å†™äº†å…¶æ›¿ä»£è„šæœ¬ç‰ˆæœ¬ï¼Œæˆ‘ä»¬ä»”ç»†è§£å‹ç¼©å¹¶æ‰§è¡Œäº†é…ç½®è„šæœ¬ã€‚ <br><br>  <strong>Makedepend</strong>å®Œæˆæ—¶å‡ºç°ä¸€äº›å¥‡æ€ªçš„é”™è¯¯ï¼š <br><br><pre> <code class="bash hljs">./makedepend: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> substitution: line 82: unexpected EOF <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> looking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> matching `<span class="hljs-string"><span class="hljs-string">''</span></span> ./makedepend: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> substitution: line 83: syntax error: unexpected end of file ./makedepend: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> substitution: line 82: unexpected EOF <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> looking <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> matching `<span class="hljs-string"><span class="hljs-string">''</span></span> ./makedepend: <span class="hljs-built_in"><span class="hljs-built_in">command</span></span> substitution: line 83: syntax error: unexpected end of file</code> </pre><br> ä¹Ÿè®¸æ˜¯ç”±å¼•èµ·é—®é¢˜çš„ä»–ä»¬æ‰å¯¹ç”Ÿæˆçš„Makefileç¨åŠ å’€åš¼ï¼š <br><br><pre> <code class="bash hljs">$ make make: *** No rule to make target <span class="hljs-string"><span class="hljs-string">'&lt;built-in&gt;'</span></span>, needed by <span class="hljs-string"><span class="hljs-string">'arg.o'</span></span>. Stop.</code> </pre><br> æˆ‘ç»å¯¹ä¸æƒ³è¿›å…¥<strong>makedepend</strong>å®ç”¨ç¨‹åºå¤æ‚çš„è´å£³é¢çš„ä¸›æ—ï¼Œæˆ‘å†³å®šä»”ç»†çœ‹ä¸€ä¸‹Makefileï¼Œå…¶ä¸­å‡ºç°äº†ä¸€ç§å¥‡æ€ªçš„æ¨¡å¼ï¼š <br><br><pre> <code class="plaintext hljs">arg.o: arg.c arg.o: arg.h arg.o: array.h arg.o: &lt;built-in&gt; arg.o: cmd.h arg.o: &lt;command-line&gt; arg.o: config.h arg.o: EXTERN.h ... array.o: arg.h array.o: array.c array.o: array.h array.o: &lt;built-in&gt; array.o: cmd.h array.o: &lt;command-line&gt; array.o: config.h array.o: EXTERN.h ...</code> </pre><br> æ˜¾ç„¶ï¼ŒæŸäº›å®ç”¨ç¨‹åºé”™è¯¯åœ°å°†å…¶å‚æ•°æ’å…¥åˆ°äº†å°¾å£°ä¸­ã€‚ æ‹¿èµ·<s>ax</s>å®ç”¨ç¨‹åº<strong>sedï¼Œ</strong>æˆ‘å†³å®šç¨å¾®è§£å†³ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼š <br><br><pre> <code class="bash hljs">$ sed -i <span class="hljs-string"><span class="hljs-string">'/built-in/d'</span></span> Makefile $ sed -i <span class="hljs-string"><span class="hljs-string">'/command-line/d'</span></span> Makefile</code> </pre><br> å‡ºä¹æ„æ–™çš„æ˜¯ï¼Œè¿™ä¸ªæŠ€å·§æˆåŠŸäº†ï¼ŒMakefileså¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>&lt;&lt;è·³åˆ°å†…å®¹</em></a> <br><br><a name="yacc"></a><h2>  3. Yaccè¯­æ³•æ–‡ä»¶é”™è¯¯ </h2><br> å¦‚æœå…·æœ‰32å¹´å†å²çš„ä»£ç å¯ä»¥æ¯«æ— é—®é¢˜åœ°è¿›è¡Œæ±‡ç¼–ï¼Œé‚£å°†æ˜¯ä»¤äººéš¾ä»¥ç½®ä¿¡çš„ã€‚ ä¸å¹¸çš„æ˜¯ï¼Œå¥‡è¿¹æ²¡æœ‰å‘ç”Ÿã€‚ åœ¨ç ”ç©¶æºä»£ç æ ‘æ—¶ï¼Œæˆ‘é‡åˆ°äº†ä¸€ä¸ª<strong>perl.y</strong>æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶æ˜¯<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="yaccï¼Œç»´åŸºç™¾ç§‘é¡µé¢ã€‚">yacc</a>å®ç”¨ç¨‹åºçš„è¯­æ³•è¯´æ˜ï¼Œè¯¥å®ç”¨ç¨‹åºåœ¨ç°ä»£å‘è¡Œç‰ˆä¸­æ—©å·²è¢«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="GNU Bisonï¼Œç»´åŸºç™¾ç§‘é¡µé¢ã€‚">bison</a>å–ä»£ã€‚ ä½äº<strong>/ usr / bin / yacc</strong>è·¯å¾„ä¸­çš„è„šæœ¬ä»…åœ¨ä¸<strong>yacc</strong>å…¼å®¹çš„æ¨¡å¼ä¸‹è°ƒç”¨<strong>bison</strong> ã€‚ åªæ˜¯è¿™ç§å…¼å®¹æ€§è¿˜ä¸å®Œå…¨ï¼Œå¹¶ä¸”åœ¨å¤„ç†æ­¤æ–‡ä»¶æ—¶ä¼šæ¶Œå…¥å¤§é‡é”™è¯¯ï¼Œæˆ‘ä¸çŸ¥é“è¯¥å¦‚ä½•æ›´æ­£ï¼Œä¹Ÿä¸æ˜¯çœŸçš„æƒ³è¦ï¼Œå› ä¸ºæˆ‘æœ€è¿‘å­¦åˆ°äº†å¦ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚ <br><br> ä¸€ä¸¤å¹´å‰ï¼ŒKDEçš„å¼€å‘è€…Helio Chissini de Castroåšäº†ç±»ä¼¼çš„å·¥ä½œï¼Œå¹¶å°†KDE 1ï¼Œ2å’ŒQt 1ï¼Œ2é€‚åº”äº†ç°ä»£ç¯å¢ƒå’Œç¼–è¯‘å™¨ã€‚ æˆ‘å¯¹ä»–çš„å·¥ä½œå¾ˆæ„Ÿå…´è¶£ï¼Œä¸‹è½½äº†é¡¹ç›®çš„æºä»£ç ï¼Œä½†æ˜¯åœ¨ç»„è£…è¿‡ç¨‹ä¸­ï¼Œç”±äº<strong>yacc</strong>å’Œ<strong>bison</strong>çš„ä¸å…¼å®¹è€Œé‡åˆ°äº†ç±»ä¼¼çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="Qlio 2çš„ç°ä»£æ”¹ç¼–ï¼ŒHelio Castroï¼Œå‘è¡Œï¼ŒGitHubå­˜å‚¨åº“ã€‚">é™·é˜±</a> ï¼Œè€Œ<strong>yacc</strong>å’Œ<strong>bison</strong>å´è¢«ç”¨æ¥æ„å»º<strong>moc</strong>å…ƒç¼–è¯‘å™¨çš„å¤è€ç‰ˆæœ¬ã€‚ éšåï¼Œæˆ‘è®¾æ³•ä»¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="ä¼¯å…‹åˆ©Â·é›…å…‹ï¼ˆBerkeley Yaccï¼‰ï¼Œå®˜æ–¹é¡µé¢ã€‚">byacc</a>å®ç”¨ç¨‹åºï¼ˆBerkeley Yaccï¼‰æ›¿ä»£<strong>bison</strong>çš„å½¢å¼æ‰¾åˆ°äº†è§£å†³æ­¤é—®é¢˜çš„æ–¹æ³•ï¼Œè¯¥å®ç”¨ç¨‹åºè¯æ˜ä¸<strong>yaccçš„</strong>æ—§è¯­æ³•å…¼å®¹ï¼Œå¹¶ä¸”åœ¨è®¸å¤šLinuxå‘è¡Œç‰ˆä¸­éƒ½å¯ç”¨ã€‚ <br><br> åœ¨æ„å»ºç³»ç»Ÿä¸­ç”¨<strong>byacc</strong>è½»æ¾æ›¿æ¢<strong>yacc</strong>å¯ä»¥å¸®åŠ©æˆ‘ï¼Œå°½ç®¡æ—¶é—´ä¸é•¿ï¼Œå› ä¸ºç¨ååœ¨<strong>byaccçš„</strong>æ–°ç‰ˆæœ¬ä¸­ï¼Œ <strong>å®ƒä»¬</strong>ä»ç„¶ç ´åäº†ä¸<strong>yaccçš„</strong>å…¼å®¹æ€§ï¼Œä¸­æ–­äº†ä¸<strong>yydebug</strong>å®ä½“ç›¸å…³çš„è°ƒè¯•ã€‚ å› æ­¤ï¼Œæˆ‘ä¸å¾—ä¸ç¨å¾®<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="ä¿®å¤æœªå®šä¹‰çš„å¼•ç”¨é”™è¯¯ï¼ŒPull Requestsï¼ŒHelio Castroçš„GitHubå­˜å‚¨åº“çš„Qt 2ç°ä»£æ”¹ç¼–ã€‚">æ›´æ­£è¯¥</a>å®ç”¨ç¨‹åº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="ä¿®å¤æœªå®šä¹‰çš„å¼•ç”¨é”™è¯¯ï¼ŒPull Requestsï¼ŒHelio Castroçš„GitHubå­˜å‚¨åº“çš„Qt 2ç°ä»£æ”¹ç¼–ã€‚">çš„è¯­æ³•</a> ã€‚ <br><br> å› æ­¤ï¼Œä»¥å‰çš„ç»éªŒæ›¾é¢„æµ‹è¿‡çº æ­£<strong>perl.y</strong>æ–‡ä»¶ä¸­çš„æ„é€ é”™è¯¯çš„ç­–ç•¥ï¼šå®‰è£…<strong>byacc</strong>å®ç”¨ç¨‹åºï¼Œåœ¨æ‰€æœ‰Makefile <strong>ä¸­å°†</strong> <strong>yacc</strong>æ›´æ”¹ä¸º<strong>byacc</strong> ï¼Œç„¶åä»ä»»ä½•åœ°æ–¹å‰ªåˆ‡<strong>yydebug</strong> ã€‚ è¿™äº›æ“ä½œè§£å†³äº†è¯¥æ–‡ä»¶çš„æ‰€æœ‰é—®é¢˜ï¼Œé”™è¯¯æ¶ˆå¤±äº†ï¼Œç¼–è¯‘ç»§ç»­è¿›è¡Œã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>&lt;&lt;è·³åˆ°å†…å®¹</em></a> <br><br><a name="c-errors"></a><h2>  4.â€œ Câ€ä¸Šçš„ä»£ç ç¼–è¯‘é”™è¯¯ </h2><br>  Perlçš„å¤è€ä»£ç å……æ»¡äº†ææƒ§ï¼Œä¾‹å¦‚Kï¼†Rç±»å‹çš„å‡½æ•°å®šä¹‰æ—©å·²è¿‡æ—¶ä¸”è¢«é—å¿˜çš„è¡¨ç¤ºæ³•ï¼š <br><br><pre> <code class="cpp hljs">format(orec,fcmd) <span class="hljs-keyword"><span class="hljs-keyword">register</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">outrec</span></span></span><span class="hljs-class"> *</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">orec</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">register</span></span> FCMD *fcmd; { ... } <span class="hljs-function"><span class="hljs-function">STR * </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hfetch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(tb,key)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">register</span></span></span><span class="hljs-function"> HASH *tb</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *key; { ... } <span class="hljs-comment"><span class="hljs-comment">/*VARARGS1*/</span></span> fatal(pat,a1,a2,a3,a4) <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *pat; { <span class="hljs-built_in"><span class="hljs-built_in">fprintf</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">stderr</span></span>,pat,a1,a2,a3,a4); <span class="hljs-built_in"><span class="hljs-built_in">exit</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>); }</code> </pre><br> ä¾‹å¦‚ï¼Œåœ¨åŒæ ·å¾ˆå¤è€çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="æœ‰è¶£çš„è€ƒå¤å­¦ã€‚æˆ–PVS-Studioåœ¨Habrèµ„æºä¸Šæ£€æŸ¥Microsoft Word 1.1aï¼Œæ–‡ç« ã€‚">Microsoft Word 1.1a</a>ä»£ç ä¸­ä¹Ÿå‘ç°äº†ç±»ä¼¼çš„åŠŸèƒ½ã€‚ ç¼–ç¨‹è¯­è¨€â€œ Câ€çš„ç¬¬ä¸€ä¸ªæ ‡å‡†ç§°ä¸ºâ€œ C89â€ï¼Œå°†ä»…åœ¨ä¸¤å¹´å†…å‡ºç°ã€‚ ç°ä»£çš„ç¼–è¯‘å™¨èƒ½å¤Ÿä½¿ç”¨è¿™æ ·çš„ä»£ç ï¼Œä½†æ˜¯æŸäº›IDEå¹¶ä¸å®¹æ˜“è§£æè¿™æ ·çš„å®šä¹‰å¹¶å°†å…¶çªå‡ºæ˜¾ç¤ºä¸ºè¯­æ³•é”™è¯¯ï¼Œä¾‹å¦‚ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="Qt Creator IDEï¼Œç»´åŸºç™¾ç§‘é¡µé¢ã€‚">Qt Creator</a>åœ¨å°†å…¶ä¸­çš„ä»£ç è§£æåˆ°<strong>libclang</strong>åº“ä¹‹å‰çŠ¯äº†ç½ªã€‚ <br><br>  GCC 9.2.0ç¼–è¯‘å™¨å‘å‡ºäº†å¤§é‡è­¦å‘Šï¼Œå¹¶æ‰¿è¯ºç¼–è¯‘Perlç¬¬ä¸€ç‰ˆçš„å¤è€ä»£ç ã€‚ è­¦å‘Šä¸­çš„å†…å®¹å¦‚æ­¤ä¹‹å¤§ï¼Œä»¥è‡³äºè¦æ‰¾å‡ºé”™è¯¯ï¼Œæˆ‘ä»¬ä¸å¾—ä¸å‘ä¸Šæ»šåŠ¨å‡ é¡µã€‚ ä»¤æˆ‘æƒŠè®¶çš„æ˜¯ï¼Œå¤§å¤šæ•°ç¼–è¯‘é”™è¯¯éƒ½æ˜¯å…¸å‹çš„é”™è¯¯ï¼Œä¸»è¦ä¸é¢„å®šä¹‰å®šä¹‰æœ‰å…³ï¼Œé¢„å®šä¹‰å®šä¹‰åœ¨ç¨‹åºé›†ä¸­èµ·æ ‡å¿—çš„ä½œç”¨ã€‚ <br><br><div style="text-align:center;"><img title="twmçª—å£ç®¡ç†å™¨å’Œxtermç»ˆç«¯ä»¿çœŸå™¨ä¸­çš„ç°ä»£GCC 9.2.0ç¼–è¯‘å™¨å’ŒGDB 8.3.1è°ƒè¯•å™¨çš„å·¥ä½œã€‚" src="https://habrastorage.org/getpro/habr/post_images/3a9/b3c/004/3a9b3c0041c48a06e6805bd39883c6a4.png"></div><br>  <i><strong>twm</strong>çª—å£ç®¡ç†å™¨å’Œ<strong>xterm</strong>ç»ˆç«¯ä»¿çœŸå™¨ä¸­çš„ç°ä»£GCC 9.2.0ç¼–è¯‘å™¨å’ŒGDB 8.3.1è°ƒè¯•å™¨çš„å·¥ä½œã€‚</i> <br><br> åœ¨STDSTDIOä¹‹ä¸‹<strong>ï¼Œ</strong>æ‹‰é‡ŒÂ·æ²ƒå°”<strong>ï¼ˆ</strong> Larry Wallï¼‰è¯•ç”¨äº†ä¸€äº›å¤è€çš„éæ ‡å‡†ç¼–ç¨‹è¯­è¨€åº“â€œ Câ€ï¼Œå¹¶ä¸”åœ¨DEBUGGINGä¸‹ä½¿ç”¨äº†è‡­åæ˜­è‘—çš„<strong>yydebug</strong>è°ƒè¯•ä¿¡æ¯ï¼Œå¦‚ä¸Šæ‰€è¿°ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›æ ‡å¿—æ˜¯å¯ç”¨çš„ã€‚ é€šè¿‡åœ¨<strong>perl.h</strong>æ–‡ä»¶ä¸­å…³é—­å®ƒä»¬å¹¶æ·»åŠ ä¸€äº›è¢«é—å¿˜çš„å®šä¹‰ï¼Œæˆ‘èƒ½å¤Ÿæ˜¾ç€å‡å°‘é”™è¯¯çš„æ•°é‡ã€‚ <br><br> å¦ä¸€ç§é”™è¯¯ç±»å‹æ˜¯é‡å†™æ ‡å‡†åº“å’ŒPOSIXå±‚çš„å½“å‰æ ‡å‡†åŒ–åŠŸèƒ½ã€‚ è¯¥é¡¹ç›®å…·æœ‰è‡ªå·±çš„<strong>mallocï¼ˆï¼‰</strong> ï¼Œ <strong>setenvï¼ˆï¼‰</strong>ä»¥åŠå…¶ä»–äº§ç”Ÿå†²çªçš„å®ä½“ã€‚ <br><br> å‡ ä¸ªåœ°æ–¹å®šä¹‰äº†æ²¡æœ‰å£°æ˜çš„é™æ€å‡½æ•°ã€‚ éšç€æ—¶é—´çš„æµé€ï¼Œç¼–è¯‘å™¨å¼€å§‹å¯¹è¿™ä¸ªé—®é¢˜é‡‡å–æ›´ä¸¥æ ¼çš„æ–¹æ³•ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="å¦‚ä½•è§£å†³GCC Cä»£ç ä¸­çš„éé™æ€å£°æ˜ä¹‹åçš„é™æ€å£°æ˜ï¼Ÿ -å †æ ˆæº¢å‡ºã€‚">å¹¶å°†è­¦å‘Šå˜æˆé”™è¯¯</a> ã€‚ æœ€åï¼Œè¿˜æœ‰å‡ ä¸ªè¢«é—å¿˜çš„æ ‡é¢˜ï¼Œå¦‚æœæ²¡æœ‰å®ƒä»¬ï¼Œæ‚¨å°†å»å“ªé‡Œã€‚ <br><br> ä»¤æˆ‘æƒŠè®¶çš„æ˜¯ï¼Œè¿™ä¸ªå…·æœ‰32å¹´å†å²çš„ä»£ç çš„è¡¥ä¸æ˜¯å¦‚æ­¤ä¹‹å°ï¼Œä»¥è‡³äºå¯ä»¥åœ¨æ­¤å¤„å®Œæ•´å¼•ç”¨ï¼š <br><br><pre> <code class="diff hljs">diff --git a/malloc.cb/malloc.c index 17c3b27..a1dfe9c 100644 --- a/malloc.c +++ b/malloc.c @@ -79,6 +79,9 @@ static u_int nmalloc[NBUCKETS]; #include &lt;stdio.h&gt; #endif +static findbucket(union overhead *freep, int srchlen); +static morecore(register bucket); + #ifdef debug #define ASSERT(p) if (!(p)) botch("p"); else static diff --git a/perl.hb/perl.h index 3ccff10..e98ded5 100644 --- a/perl.h +++ b/perl.h @@ -6,16 +6,16 @@ * */ -#define DEBUGGING -#define STDSTDIO /* eventually should be in config.h */ +//#define DEBUGGING +//#define STDSTDIO /* eventually should be in config.h */ #define VOIDUSED 1 #include "config.h" -#ifndef BCOPY -# define bcopy(s1,s2,l) memcpy(s2,s1,l); -# define bzero(s,l) memset(s,0,l); -#endif +//#ifndef BCOPY +//# define bcopy(s1,s2,l) memcpy(s2,s1,l); +//# define bzero(s,l) memset(s,0,l); +//#endif #include &lt;stdio.h&gt; #include &lt;ctype.h&gt; @@ -183,11 +183,11 @@ double atof(); long time(); struct tm *gmtime(), *localtime(); -#ifdef CHARSPRINTF - char *sprintf(); -#else - int sprintf(); -#endif +//#ifdef CHARSPRINTF +// char *sprintf(); +//#else +// int sprintf(); +//#endif #ifdef EUNICE #define UNLINK(f) while (unlink(f) &gt;= 0) diff --git a/perl.yb/perl.y index 16f8a9a..1ab769f 100644 --- a/perl.y +++ b/perl.y @@ -7,6 +7,7 @@ */ %{ +#include &lt;stdlib.h&gt; #include "handy.h" #include "EXTERN.h" #include "search.h" diff --git a/perly.cb/perly.c index bc32318..fe945eb 100644 --- a/perly.c +++ b/perly.c @@ -246,12 +246,14 @@ yylex() static bool firstline = TRUE; retry: +#ifdef DEBUGGING #ifdef YYDEBUG if (yydebug) if (index(s,'\n')) fprintf(stderr,"Tokener at %s",s); else fprintf(stderr,"Tokener at %s\n",s); +#endif #endif switch (*s) { default: diff --git a/stab.cb/stab.c index b9ef533..9757cfe 100644 --- a/stab.c +++ b/stab.c @@ -7,6 +7,7 @@ */ #include &lt;signal.h&gt; +#include &lt;errno.h&gt; #include "handy.h" #include "EXTERN.h" #include "search.h" diff --git a/util.hb/util.h index 4f92eeb..95cb9bf 100644 --- a/util.h +++ b/util.h @@ -28,7 +28,7 @@ void prexit(); char *get_a_line(); char *savestr(); int makedir(); -void setenv(); +//void setenv(); int envix(); void notincl(); char *getval();</code> </pre><br>  32å¹´æ—§ä»£ç çš„ç»ä½³ç»“æœï¼ é€šè¿‡å°†<em>-lcrypt</em>æŒ‡ä»¤æ·»åŠ åˆ°å¸¦æœ‰é€‚å½“çš„<strong>libcrypt</strong>åº“çš„Makefileä¸­ï¼Œå¯ä»¥è§£å†³<strong>å¯¹'crypt'</strong>é“¾æ¥é”™è¯¯çš„<strong>æœªå®šä¹‰å¼•ç”¨</strong> ï¼Œæ­¤åï¼Œæˆ‘ç»ˆäºè·å¾—äº†æ‰€éœ€çš„Perlè§£é‡Šå™¨å¯æ‰§è¡Œæ–‡ä»¶ï¼š <br><br><pre> <code class="bash hljs">$ file perl perl: ELF 64-bit LSB pie executable, x86-64, version 1 (SYSV), dynamically linked, interpreter /lib64/ld-linux-x86-64.so.2, BuildID[sha1]=fd952ceae424613568530b3a2ca88ebd6477e0ae, <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> GNU/Linux 3.2.0, not stripped</code> </pre><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>&lt;&lt;è·³åˆ°å†…å®¹</em></a> <br><br><a name="segfaults"></a><h2>  5.çº æ­£ä¸€äº›é”™è¯¯åˆ†æ®µé”™è¯¯ </h2><br> ç»è¿‡å‡ ä¹æ²¡æœ‰éº»çƒ¦çš„ç¼–è¯‘åï¼Œè¿æ°”è½¬è¿‡äº†æˆ‘å¤´ã€‚ å¯åŠ¨ç»„è£…å¥½çš„Perlè§£é‡Šå™¨åï¼Œæˆ‘ç«‹å³å¾—åˆ°ä¸€äº›å¥‡æ€ªçš„é”™è¯¯å’Œä¸€ä¸ªSegmentationé”™è¯¯ï¼š <br><br><pre> <code class="bash hljs">$ ./perl -e <span class="hljs-string"><span class="hljs-string">'print "Hello World!\n";'</span></span> Corrupt malloc ptr 0x2db36040 at 0x2db36000 Corrupt malloc ptr 0x2db36880 at 0x2db36800 Corrupt malloc ptr 0x2db36080 at 0x2db36040 Corrupt malloc ptr 0x2db37020 at 0x2db37000 Segmentation fault (core dumped)</code> </pre><br> äº†çŸ­è¯­<em>Corrupt malloc</em>çš„æºæ–‡æœ¬åï¼Œç»“æœå‘ç°ï¼Œä»1982å¹´èµ·ï¼Œå°±ä¸å†ä½¿ç”¨ç³»ç»Ÿ<strong>mallocï¼ˆï¼‰</strong>äº†æŸç§è‡ªå®šä¹‰åˆ†é…å™¨ã€‚ æœ‰è¶£çš„æ˜¯ï¼Œ <strong>Berkeleyæ˜¯</strong>ç”¨æºä»£ç ä¸­çš„å­—ç¬¦ä¸²æ–‡å­—ä¹‹ä¸€ç¼–å†™çš„ï¼Œè€Œ<strong>Caltechåˆ™æ˜¯</strong>åœ¨å…¶æ—è¾¹çš„æ³¨é‡Šä¸­ç¼–å†™çš„ã€‚ è¿™äº›å¤§å­¦ä¹‹é—´çš„åˆä½œéå¸¸æ˜æ˜¾ã€‚ æ€»çš„æ¥è¯´ï¼Œæˆ‘æ³¨é‡Šæ‰äº†è¿™ä¸ªé»‘å®¢åˆ†é…å™¨å¹¶é‡å»ºäº†æºä»£ç ã€‚ å†…å­˜æŸåé”™è¯¯æ¶ˆå¤±äº†ï¼Œä½†æ˜¯åˆ†æ®µé”™è¯¯ä»ç„¶å­˜â€‹â€‹åœ¨ã€‚ æ‰€ä»¥è¿™ä¸æ˜¯é‡ç‚¹ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦å‘ç°è°ƒè¯•å™¨ã€‚ <br><br> åœ¨<strong>gdb</strong>ä¸‹è¿è¡Œç¨‹åº<strong>ï¼Œ</strong>æˆ‘å‘ç°å½“ä»libcåˆ›å»ºä¸´æ—¶æ–‡ä»¶<strong>mktempï¼ˆï¼‰</strong>çš„å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå‘ç”Ÿå´©æºƒï¼š <br><br><pre> <code class="plaintext hljs">$ gdb --args ./perl -e 'print "Hello, World!\n";' (gdb) r Starting program: /home/exl/perl5/perl -e print\ \"Hello\ World\!\\n\"\; Program received signal SIGSEGV, Segmentation fault. 0x00007ffff7cd20c7 in __gen_tempname () from /usr/lib/libc.so.6 (gdb) bt #0 0x00007ffff7cd20c7 in __gen_tempname () from /usr/lib/libc.so.6 #1 0x00007ffff7d71577 in mktemp () from /usr/lib/libc.so.6 #2 0x000055555556bb08 in main ()</code> </pre><br> é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œé“¾æ¥å™¨ä»¥å‰åœ¨æ­¤åŠŸèƒ½æ—¶å‘èª“ã€‚ ä¸æ˜¯ç¼–è¯‘å™¨ï¼Œè€Œæ˜¯é“¾æ¥å™¨ï¼Œè¿™è®©æˆ‘æ„Ÿåˆ°æƒŠè®¶ï¼š <br><br><pre> <code class="plaintext hljs">/usr/bin/ld: perl.o: in function `main': perl.c:(.text+0x978c): warning: the use of `mktemp' is dangerous, better use `mkstemp' or `mkdtemp'</code> </pre><br> æ‚¨å¯èƒ½ä¹Ÿæƒ³åˆ°çš„ç¬¬ä¸€ä¸ªæƒ³æ³•å°±æ˜¯ç”¨æˆ‘åšçš„<strong>mkstempï¼ˆï¼‰</strong>æ›¿æ¢<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="GNU Cåº“ï¼Œä¸´æ—¶æ–‡ä»¶ï¼ŒGNUå®˜æ–¹æ–‡æ¡£ã€‚">ä¸å®‰å…¨çš„å‡½æ•°</a> <strong>mktempï¼ˆï¼‰</strong> ã€‚ é“¾æ¥å™¨è­¦å‘Šæ¶ˆå¤±äº†ï¼Œä½†æ˜¯åˆ†æ®µé”™è¯¯ä»ç„¶ä¿ç•™åœ¨è¯¥ä½ç½®ï¼Œåªæ˜¯ç°åœ¨å®ƒåœ¨<strong>mkstempï¼ˆï¼‰</strong>å‡½æ•°ä¸­ã€‚ <br><br> å› æ­¤ï¼Œç°åœ¨æ‚¨éœ€è¦éå¸¸ä»”ç»†åœ°æŸ¥çœ‹ä¸æ­¤åŠŸèƒ½å…³è”çš„ä»£ç æ®µã€‚ åœ¨é‚£é‡Œï¼Œæˆ‘å‘ç°äº†ä¸€ä¸ªå¾ˆå¥‡æ€ªçš„ä¸œè¥¿ï¼Œè¯¥ç‰‡æ®µä¸­çªå‡ºæ˜¾ç¤ºäº†è¿™ä¸€ç‚¹ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *e_tmpname = <span class="hljs-string"><span class="hljs-string">"/tmp/perl-eXXXXXX"</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ mktemp(e_tmpname); e_fp = f_open(e_tmpname, <span class="hljs-string"><span class="hljs-string">"w"</span></span>); ... }</code> </pre><br> äº‹å®è¯æ˜ï¼Œ <strong>mktempï¼ˆï¼‰</strong>è¯•å›¾æ›´æ”¹æ©ç çš„æ–‡å­—ï¼Œè¯¥æ©ç ä½äº<strong>.rodata</strong>èŠ‚ä¸­ï¼Œè¿™æ˜¾ç„¶æ³¨å®šè¦å¤±è´¥ã€‚ è¿˜æ˜¯æ¯•ç«Ÿï¼Œåœ¨32å¹´å‰ï¼Œè¿™æ˜¯å¯ä»¥æ¥å—çš„ï¼Œåœ¨ä»£ç ä¸­å¾—åˆ°äº†æ»¡è¶³ï¼Œç”šè‡³ä»¥æŸç§æ–¹å¼èµ·ä½œç”¨äº†ï¼Ÿ <br><br> å½“ç„¶ï¼Œç”¨<strong>char</strong> <strong>e_tmpname []</strong>æ›¿æ¢<strong>char * e_tmpname</strong> <strong>å¯è§£å†³</strong>æ­¤ç»†åˆ†é”™è¯¯ï¼Œå¹¶ä¸”æˆ‘èƒ½å¤Ÿè·å¾—æ•´ä¸ªæ™šä¸Šéƒ½è¢«æ€æ­»çš„ä¿¡æ¯ï¼š <br><br><pre> <code class="bash hljs">$ ./perl -e <span class="hljs-string"><span class="hljs-string">'print "Hello World!\n";'</span></span> $ Hello, World! $ ./perl -e <span class="hljs-string"><span class="hljs-string">'$a = 5; $b = 6.3; $c = $a+$b; print $c."\n";'</span></span> $ 11.3000000000000007 $ ./perl -v <span class="hljs-variable"><span class="hljs-variable">$Header</span></span>: perly.c,v 1.0 87/12/18 15:53:31 root Exp $ Patch level: 0</code> </pre><br> æˆ‘ä»¬ä»å‘½ä»¤è¡Œæ£€æŸ¥äº†æ‰§è¡Œæƒ…å†µï¼Œä½†æ˜¯æ–‡ä»¶å‘¢ï¼Ÿ æˆ‘ä»äº’è”ç½‘ä¸Šä¸‹è½½äº†Perlç¼–ç¨‹è¯­è¨€çš„ç¬¬ä¸€ä¸ªâ€œ Hello Worldâ€ï¼š <br><br><pre> <code class="perl hljs"><span class="hljs-comment"><span class="hljs-comment">################# test.pl #!/usr/bin/perl # # The traditional first program. # Strict and warnings are recommended. use strict; use warnings; # Print a message. print "Hello, World!\n";</span></span></code> </pre><br> ç„¶åï¼Œæˆ‘å°è¯•è¿è¡Œå®ƒï¼Œä½†æ˜¯ï¼Œé—æ†¾çš„æ˜¯ï¼Œç»†åˆ†é”™è¯¯å†æ¬¡åœ¨ç­‰æˆ‘ã€‚ è¿™æ¬¡åœ¨å®Œå…¨ä¸åŒçš„åœ°æ–¹ï¼š <br><br><pre> <code class="plaintext hljs">$ gdb --args ./perl test.pl (gdb) r Starting program: /home/exl/perl5/perl test.pl Program received signal SIGSEGV, Segmentation fault. 0x00007ffff7d1da75 in __strcpy_sse2_unaligned () from /usr/lib/libc.so.6 (gdb) bt #0 0x00007ffff7d1da75 in __strcpy_sse2_unaligned () from /usr/lib/libc.so.6 #1 0x00005555555629ea in yyerror () #2 0x0000555555568dd6 in yyparse () #3 0x000055555556bd4f in main ()</code> </pre><br> åœ¨<strong>yyerrorï¼ˆï¼‰</strong>å‡½æ•°ä¸­å‘ç°äº†ä»¥ä¸‹æœ‰è¶£çš„è§‚ç‚¹ï¼Œæˆ‘å¼•ç”¨äº†åŸå§‹ä»£ç æ®µï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// perl.y char *tokename[] = { "256", "word", "append", ... // perl.c yyerror(s) char *s; { char tmpbuf[128]; char *tname = tmpbuf; if (yychar &gt; 256) { tname = tokename[yychar-256]; // ??? if (strEQ(tname,"word")) strcpy(tname,tokenbuf); // Oops! else if (strEQ(tname,"register")) sprintf(tname,"$%s",tokenbuf); // Oops! ...</span></span></code> </pre><br> åŒæ ·ï¼Œæƒ…å†µä¸æˆ‘ä¸Šé¢å†™è¿‡çš„æƒ…å†µç±»ä¼¼ã€‚  <strong>.rodata</strong>èŠ‚ä¸­çš„æ•°æ®è¢«<strong>å†æ¬¡ä¿®æ”¹</strong> ã€‚ ä¹Ÿè®¸æ˜¯ç”±äºå¤åˆ¶ç²˜è´´è€Œé€ æˆçš„é”™åˆ«å­—ï¼Œè€Œä¸æ˜¯ä»–ä»¬æƒ³å†™<strong>tmpbuf</strong>è€Œä¸æ˜¯<strong>tname</strong> ï¼Ÿ è¿˜æ˜¯å®ƒèƒŒåç¡®å®æœ‰æŸç§éšè—çš„å«ä¹‰ï¼Ÿ æ— è®ºå¦‚ä½•ï¼Œç”¨<strong>char</strong> <strong>tokename [] [32]</strong>æ›¿æ¢<strong>char * tokename []</strong> <strong>éƒ½ä¼š</strong>æ¶ˆé™¤åˆ†æ®µé”™è¯¯ï¼ŒPerlä¼šå‘Šè¯‰æˆ‘ä»¬ä»¥ä¸‹å†…å®¹ï¼š <br><br><pre> <code class="bash hljs">$ ./perl test.pl syntax error <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> file test.pl at line 7, next token <span class="hljs-string"><span class="hljs-string">"strict"</span></span> Execution aborted due to compilation errors.</code> </pre><br> äº‹å®è¯æ˜ï¼Œä»–ä¸å–œæ¬¢å„ç§<strong>ä¸¥æ ¼</strong>çš„æ–°å¥‡<strong>ç”¨æ³•</strong> ï¼Œè¿™å°±æ˜¯ä»–è¦å‘Šè¯‰æˆ‘ä»¬çš„ï¼ å¦‚æœåˆ é™¤æˆ–æ³¨é‡Šæ‰æ–‡ä»¶ä¸­çš„è¿™äº›è¡Œï¼Œç¨‹åºå°†å¯åŠ¨ï¼š <br><br><pre> <code class="bash hljs">$ ./perl test.pl Hello, World!</code> </pre><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>&lt;&lt;è·³åˆ°å†…å®¹</em></a> <br><br><a name="theend"></a><h2>  6.æ€»ç»“ </h2><br> å®é™…ä¸Šï¼Œæˆ‘å®ç°äº†è‡ªå·±çš„ç›®æ ‡ï¼Œå¹¶ä¸”ä½¿1987å¹´çš„å¤è€ä»£ç ä¸ä»…å¯ä»¥ç¼–è¯‘ï¼Œè€Œä¸”å¯ä»¥åœ¨ç°ä»£Linuxç¯å¢ƒä¸­å·¥ä½œã€‚ æ¯«æ— ç–‘é—®ï¼Œä»ç„¶å­˜åœ¨å¤§é‡çš„å„ç§åˆ†æ®µé”™è¯¯ï¼Œå¯èƒ½ä¸64ä½ä½“ç³»ç»“æ„ä¸Šçš„æŒ‡é’ˆå¤§å°æœ‰å…³ã€‚ åœ¨å‡†å¤‡å¥½è°ƒè¯•å™¨å‡ ä¸ªæ™šä¸Šä¹‹åï¼Œå¯ä»¥æ¸…ç†æ‰€æœ‰è¿™äº›ä¸œè¥¿ã€‚ ä½†è¿™ä¸æ˜¯ä¸€é¡¹éå¸¸ä»¤äººæ„‰å¿«ä¸”ä¹å‘³çš„ä»»åŠ¡ã€‚ æ¯•ç«Ÿï¼Œæœ€åˆï¼Œè¿™ä¸ªå®éªŒè¢«è®¡åˆ’ä¸ºä¸€ä¸ªæ— èŠçš„å¤œæ™šçš„å¨±ä¹æ´»åŠ¨ï¼Œè€Œä¸æ˜¯ä½œä¸ºä¸€é¡¹æˆç†Ÿçš„å·¥ä½œï¼Œè€Œè¿™é¡¹å·¥ä½œå°†ç»“æŸã€‚ é‡‡å–çš„è¡ŒåŠ¨æœ‰ä»€ä¹ˆå®é™…çš„å¥½å¤„ï¼Ÿ ä¹Ÿè®¸æœ‰ä¸€å¤©ï¼Œä¸€äº›æ•°å­—è€ƒå¤å­¦å®¶ä¼šé‡åˆ°è¿™ç¯‡æ–‡ç« ï¼Œè¿™å¯¹ä»–å¾ˆæœ‰ç”¨ã€‚ ä½†æ˜¯åœ¨æˆ‘çœ‹æ¥ï¼Œå³ä½¿åœ¨ç°å®ä¸–ç•Œä¸­ï¼Œå³ä½¿æ˜¯ä»æ­¤ç±»ç ”ç©¶ä¸­è·å¾—çš„ç»éªŒä¹Ÿä¸å¤ªæœ‰ä»·å€¼ã€‚ <br><br> å¦‚æœæœ‰äººæ„Ÿå…´è¶£ï¼Œæˆ‘ä¼šå‘å¸ƒä¸€ç»„ä¸¤ä¸ªè¡¥ä¸ã€‚ ç¬¬ä¸€ä¸ªä¿®å¤äº†ç¼–è¯‘é”™è¯¯ï¼Œç¬¬äºŒä¸ªä¿®å¤äº†ä¸€äº›Segmentationé”™è¯¯ã€‚ <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="ä¿®å¤ç¼–è¯‘é”™è¯¯è¡¥ä¸ï¼ŒEXLMOTODEV GitHubå­˜å‚¨åº“ã€‚"><strong>Perl1987-ä¿®å¤ç¼–è¯‘é”™è¯¯.patch</strong></a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="ä¿®å¤äº†ä¸€äº›Segmentation Faultsè¡¥â€‹â€‹ä¸ç¨‹åºï¼ŒEXLMOTODEV GitHubå­˜å‚¨åº“ã€‚"><strong>Perl1987-ä¿®å¤æŸäº›åˆ†æ®µé”™è¯¯.patch</strong></a> </li></ul><br>  PSæˆ‘æ€¥äºè®©<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="Perlå•è¡Œç¨‹åºï¼ŒLurkmoreæ–‡ç« ã€‚">ç ´åæ€§å•çº¿æ¸¸æˆç©å®¶</a>æ„Ÿåˆ°ä¸å¿«ï¼Œè¿™åœ¨è¿™é‡Œä¸èµ·ä½œç”¨ã€‚ ä¹Ÿè®¸Perlçš„ç‰ˆæœ¬å¤ªæ—§äº†ï¼Œæ— æ³•è¿›è¡Œæ­¤ç±»å¨±ä¹ã€‚ <br>  PPSä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œå‘¨æœ«æ„‰å¿«ã€‚ æ„Ÿè°¢<strong>kawaii_neko</strong>çš„ä¸€ä¸ª<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="Perlç›´æ¥æ¥è‡ª1987ï¼Œå¯¹LINUX.ORG.RUèµ„æºçš„è¯„è®º">å°é—®é¢˜</a> ã€‚ <br><br>  <em>æ›´æ–°2019å¹´10æœˆ28æ—¥ï¼š</em> LINUX.ORG.RUè®ºå›çš„ç”¨æˆ·ä½¿ç”¨æ˜µç§°<strong>utf8nowhere</strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="Perlç›´æ¥æ¥è‡ª1987ï¼Œå¯¹LINUX.ORG.RUèµ„æºçš„è¯„è®º">åœ¨ä»–</a>å¯¹æœ¬æ–‡çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="Perlç›´æ¥æ¥è‡ª1987ï¼Œå¯¹LINUX.ORG.RUèµ„æºçš„è¯„è®º">è¯„è®ºä¸­</a>æä¾›äº†éå¸¸æœ‰è¶£çš„é“¾æ¥ï¼Œè¯¥ä¿¡æ¯ä¸ä»…æ¾„æ¸…äº†å¯å˜å­—ç¬¦ä¸²æ–‡å­—çš„æƒ…å†µï¼Œç”šè‡³è¿˜è€ƒè™‘äº†ä¸Šè¿°ä½¿ç”¨é—®é¢˜ã€‚ <strong>mktempï¼ˆï¼‰</strong>å‡½æ•°ï¼ è®©æˆ‘å¼•ç”¨è¿™äº›èµ„æ–™ï¼Œè¿™äº›èµ„æ–™æè¿°äº†éæ ‡å‡†åŒ–çš„Kï¼†R Cå’ŒGNU Cä¹‹é—´çš„å„ç§ä¸å…¼å®¹æ€§ï¼š <br><blockquote>  <strong>GCCçš„ä¸å…¼å®¹</strong> <br>  GNU Cå’ŒKï¼†Rï¼ˆéISOï¼‰ç‰ˆæœ¬çš„Cä¹‹é—´å­˜åœ¨ä¸€äº›å€¼å¾—æ³¨æ„çš„ä¸å…¼å®¹æ€§ã€‚ <br><br>  GCCé€šå¸¸ä½¿å­—ç¬¦ä¸²å¸¸é‡ä¸ºåªè¯»ã€‚ å¦‚æœä½¿ç”¨äº†å‡ ä¸ªå¤–è§‚ç›¸åŒçš„å­—ç¬¦ä¸²å¸¸é‡ï¼Œåˆ™GCCä»…å­˜å‚¨è¯¥å­—ç¬¦ä¸²çš„ä¸€ä¸ªå‰¯æœ¬ã€‚ <br> ç»“æœæ˜¯æ‚¨ä¸èƒ½ä½¿ç”¨å­—ç¬¦ä¸²å¸¸é‡å‚æ•°è°ƒç”¨<strong>mktemp</strong> ã€‚ å‡½æ•°<strong>mktemp</strong>æ€»æ˜¯æ›´æ”¹å…¶å‚æ•°æŒ‡å‘çš„å­—ç¬¦ä¸²ã€‚ <br><br> å¦ä¸€ä¸ªç»“æœæ˜¯ï¼Œåœ¨å°†å­—ç¬¦ä¸²å¸¸é‡ä½œä¸ºæ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²æˆ–è¾“å…¥ä¼ é€’æ—¶ï¼Œ <strong>sscanf</strong>åœ¨æŸäº›ç³»ç»Ÿä¸Šä¸èµ·ä½œç”¨ã€‚<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿™æ˜¯å› ä¸º</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sscanf</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é”™è¯¯åœ°å°è¯•å†™å…¥å­—ç¬¦ä¸²å¸¸é‡ã€‚</font><font style="vertical-align: inherit;">åŒæ ·æ˜¯</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fscanf</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scanf</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿™äº›é—®é¢˜çš„æœ€ä½³è§£å†³æ–¹æ¡ˆæ˜¯å°†ç¨‹åºæ›´æ”¹ä¸ºä½¿ç”¨</font><font style="vertical-align: inherit;">å¸¦åˆå§‹åŒ–å­—ç¬¦ä¸²çš„</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">char</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -arrayå˜é‡è€Œä¸æ˜¯å­—ç¬¦ä¸²å¸¸é‡æ¥è¾¾åˆ°è¿™äº›ç›®çš„ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œå¦‚æœè¿™ä¸å¯èƒ½ï¼Œåˆ™å¯ä»¥ä½¿ç”¨</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-fwritable-strings</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ ‡å¿—ï¼Œè¯¥æ ‡å¿—æŒ‡ç¤ºGCCä»¥ä¸å¤§å¤šæ•°Cç¼–è¯‘å™¨ç›¸åŒçš„æ–¹å¼å¤„ç†å­—ç¬¦ä¸²å¸¸é‡ã€‚</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èµ„æ–™æ¥æºï¼š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="ä½¿ç”¨GNUç¼–è¯‘å™¨é›†åˆï¼ˆGCC 3.3ï¼‰å®˜æ–¹æ‰‹å†Œã€‚"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½¿ç”¨GNUç¼–è¯‘å™¨é›†åˆï¼ˆGCC 3.3ï¼‰å®˜æ–¹æ‰‹å†Œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br></blockquote><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-fwritable-strings</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¼–è¯‘å™¨æ ‡å¿—</font><font style="vertical-align: inherit;">åœ¨GCC 3.4ä¸­å·²å¼ƒç”¨ï¼Œå¹¶åœ¨GCC 4.0ä¸­è¢«æ°¸ä¹…åˆ é™¤ã€‚</font></font><br><blockquote> <strong>ANSI C rationale | String literals</strong> <br> String literals are specified to be unmodifiable. This specification allows implementations to share copies of strings with identical text, to place string literals in read-only memory, and perform certain optimizations. However, string literals do not have the type array of const char, in order to avoid the problems of pointer type checking, particularly with library functions, since assigning a pointer to const char to a plain pointer to char is not valid. Those members of the Committee who insisted that string literals should be modifiable were content to have this practice designated a common extension (see F.5.5). <br><br> Existing code which modifies string literals can be made strictly conforming by replacing the string literal with an initialized static character array. For instance, <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *p, *make_temp(<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *str); <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> p = make_temp(<span class="hljs-string"><span class="hljs-string">"tempXXX"</span></span>); <span class="hljs-comment"><span class="hljs-comment">/* make_temp overwrites the literal */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* with a unique name */</span></span></code> </pre><br> can be changed to: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *p, *make_temp(<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *str); <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>[ ] = <span class="hljs-string"><span class="hljs-string">"tempXXX"</span></span>; p = make_temp( <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> ); }</code> </pre><br> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="Rationale for American National Standard for Information Systems, Programming Language C, String literals.">Rationale for American National Standard for Information Systems, Programming Language C</a> . <br></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨æˆ·</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VarfolomeyKote4ka</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æä¾›</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="Perl   1987 ,    LINUX.ORG.RU"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ‰è¶£gryaznenkyé»‘å®¢</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå…è®¸ä½ ç»•è¿‡é”™è¯¯åˆ†æ®µé”™è¯¯ï¼Œå½“æ‚¨å°è¯•åŒºé—´å˜åŒ–æ•°æ®</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.RODATA</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€šè¿‡å°†å…¶è½¬æ¢æˆéƒ¨åˆ†</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.rwdata</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚ä¸ä¹…å‰ï¼Œ</font><font style="vertical-align: inherit;">ç¨‹åºå‘˜</font><strong><font style="vertical-align: inherit;">Guye1296</font></strong><font style="vertical-align: inherit;">åœ¨Internetä¸ŠåˆŠç™»äº†ä¸€ç¯‡éå¸¸æœ‰è¶£çš„æ–‡ç« ï¼Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" title="From .rodata to .rwdata â€“ introduction to memory mapping and LD scripts, Guy on BITS."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œä».rodataåˆ°.rwdata-å†…å­˜æ˜ å°„å’ŒLDè„šæœ¬ç®€ä»‹â€</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå…¶ä¸­ä»‹ç»äº†å¦‚ä½•å®ç°æ­¤æŠ€å·§ã€‚ä¸ºäº†ä¿ƒè¿›è·å¾—æœŸæœ›çš„ç»“æœï¼Œæœ¬æ–‡çš„ä½œè€…ä¸ºæ ‡å‡†é“¾æ¥ç¨‹åº</font><strong><font style="vertical-align: inherit;">ld</font></strong><font style="vertical-align: inherit;"> - </font><a href="" title="rwdata.ld script for ld linker, guye1296, GitHub repository."><font style="vertical-align: inherit;">rwdata.ld</font></a><font style="vertical-align: inherit;">å‡†å¤‡äº†ç›¸å½“å¤šçš„è„šæœ¬ã€‚</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><a href="" title="rwdata.ld script for ld linker, guye1296, GitHub repository."><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">åªéœ€ä¸‹è½½æ­¤è„šæœ¬ï¼Œå°†å…¶æ”¾åœ¨Perlæºç›®å½•çš„æ ¹ç›®å½•ä¸­ï¼Œ</font><font style="vertical-align: inherit;">æŒ‰å¦‚ä¸‹æ‰€ç¤º</font><font style="vertical-align: inherit;">çº æ­£</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LDFLAGS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ ‡å¿—</font><font style="vertical-align: inherit;">ï¼š</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LDFLAGS = -T rwdata.ld</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œç„¶åé‡å»ºé¡¹ç›®ã€‚</font><font style="vertical-align: inherit;">ç»“æœï¼Œæˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹ç»“æœï¼š</font></font><br><br><pre> <code class="bash hljs">$ make clean &amp;&amp; make -j1 $ mv perl perl_rodata $ curl -LOJ https://raw.githubusercontent.com/guye1296/ld_script_elf_blog_post/master/rwdata.ld $ sed -i <span class="hljs-string"><span class="hljs-string">'s/LDFLAGS =/LDFLAGS = -T rwdata.ld/'</span></span> Makefile $ make clean &amp;&amp; make -j1 $ mv perl perl_rwdata $ objdump -s -j .rodata perl_rodata | grep tmp -2 19da0 21233f5e 7e3d2d25 30313233 34353637 !<span class="hljs-comment"><span class="hljs-comment">#?^~=-%01234567 19db0 38392e2b 262a2829 2c5c2f5b 7c002400 89.+&amp;*(),\/[|.$. 19dc0 73746465 7272002f 746d702f 7065726c stderr./tmp/perl 19dd0 2d655858 58585858 00323536 00617070 -eXXXXXX.256.app 19de0 656e6400 6c6f6f70 63746c00 66756e63 end.loopctl.func $ objdump -s -j .rwdata perl_rodata | grep tmp -2 objdump: section '.rwdata' mentioned in a -j option, but not found in any input file $ objdump -s -j .rwdata perl_rwdata | grep tmp -2 41d9c0 21233f5e 7e3d2d25 30313233 34353637 !#?^~=-%01234567 41d9d0 38392e2b 262a2829 2c5c2f5b 7c002400 89.+&amp;*(),\/[|.$. 41d9e0 73746465 7272002f 746d702f 7065726c stderr./tmp/perl 41d9f0 2d655858 58585858 00323536 00617070 -eXXXXXX.256.app 41da00 656e6400 6c6f6f70 63746c00 66756e63 end.loopctl.func $ objdump -s -j .rodata perl_rwdata | grep tmp -2 objdump: section '.rodata' mentioned in a -j option, but not found in any input file $ ./perl_rodata -e 'print "Hello, World!\n";' Segmentation fault (core dumped) $ ./perl_rwdata -e 'print "Hello, World!\n";' Hello, World!</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº‹å®è¯æ˜ï¼Œç”±äºå­˜åœ¨è¿™ç§é»‘å®¢æ”»å‡»ï¼Œå‡ ä¹å¯ä»¥å¿½ç•¥ç¬¬äºŒä¸ªè¡¥ä¸ä¸­çš„æ‰€æœ‰æ›´æ”¹ï¼</font><font style="vertical-align: inherit;">å½“ç„¶ï¼Œå°½ç®¡ä½¿ä»£ç æˆä¸ºä¸è¿åæ ‡å‡†çš„è§†å›¾ä»ç„¶æ˜¯å¯å–çš„ã€‚</font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;&lt;è·³åˆ°å†…å®¹</font></font></em></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN473228/">https://habr.com/ru/post/zh-CN473228/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN473212/index.html">æŠ•èµ„è€…æ”¾ä½ç‰¹æ–¯æ‹‰è‚¡ä»·ä¸Šæ¶¨åæ¯å¤©æŸå¤±è¶…è¿‡14äº¿ç¾å…ƒ</a></li>
<li><a href="../zh-CN473218/index.html">é¦–å¸­å¼€å‘å•†Ivan Kruglovçš„è®¿è°ˆï¼šService Meshå’Œâ€œéæ ‡å‡†â€ Booking.comå·¥å…·</a></li>
<li><a href="../zh-CN473220/index.html">Wolframè¯­è¨€ä¸­æ…¢ä»£ç ç ´åçš„åŸºçŸ³ï¼šåŠ é€Ÿä»£ç æ•°åï¼Œæ•°ç™¾å’Œæ•°åƒå€</a></li>
<li><a href="../zh-CN473222/index.html">ä½¿ç”¨zabbixä½œä¸ºç¤ºä¾‹çš„Dockerè‡ªå®šä¹‰iptablesè§„åˆ™</a></li>
<li><a href="../zh-CN473224/index.html">é«˜ç­‰æ•™è‚²ä¸èƒ½åŠ›ã€‚ ä¿„ç½—æ–¯è”é‚¦å®ªæ³•æ³•é™¢æ³•å®˜å…³äºé«˜ç­‰æ•™è‚²çŠ¶å†µçš„å•ç‹¬æ„è§</a></li>
<li><a href="../zh-CN473230/index.html">å«æ˜Ÿäº’è”ç½‘æ˜¯æ–°çš„å¤ªç©ºç«èµ›å—ï¼Ÿ</a></li>
<li><a href="../zh-CN473232/index.html">æ‚¨ä½¿ç”¨ä»€ä¹ˆç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼ˆåœ¨å®é™…å·¥ä½œä¸­ï¼Œå¤§å¤šæ•°ï¼‰ï¼Ÿ</a></li>
<li><a href="../zh-CN473234/index.html">ä½¿ç”¨Node.jså’ŒOracleæ•°æ®åº“åˆ›å»ºREST API</a></li>
<li><a href="../zh-CN473236/index.html">åœ¨äº‘ä¸­ä»äº‹ITï¼Œé¡¹ç›®ç®¡ç†ï¼ŒPDç›‘ç®¡å’Œå¼€å‘å·¥ä½œï¼š1cloud.ruä¸­çš„megadigest</a></li>
<li><a href="../zh-CN473238/index.html">Netflixå¦‚ä½•è¿ä½œ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>