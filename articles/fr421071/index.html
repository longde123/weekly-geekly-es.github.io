<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚è∫Ô∏è ü§Ωüèª üë©üèæ Mod et reste ne sont pas les m√™mes üë®‚Äçüîß üéç üßõüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pr√©parez-vous, un article extr√™mement p√©dant vous attend, ce qui pourrait bien vous faire √©conomiser une interview ou gagner quelques heures tout en a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Mod et reste ne sont pas les m√™mes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421071/"><img src="https://habrastorage.org/getpro/habr/post_images/ef5/61d/1af/ef561d1af305f5a6eff4c134d8eabe72.jpg"><br><br>  Pr√©parez-vous, un article extr√™mement p√©dant vous attend, ce qui pourrait bien vous faire √©conomiser une interview ou gagner quelques heures tout en attrapant un bug en production! <br><br>  Je travaille activement sur la deuxi√®me saison <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">de The Impostor's Guide</a> et j'√©cris sur le chiffrement RSA pour SSH, qui est √©videmment le code le plus t√©l√©charg√© de l'histoire de l'informatique. <br><br>  Je voudrais bien comprendre cette histoire.  Qui a invent√© ce code, comment il fonctionne, pourquoi il fonctionne et <i>s'il fonctionnera √† l'avenir</i> .  Maintenant, j'ai d√©nich√© une <b>putain d'histoire int√©ressante</b> .  Je ne suis pas un cryptomane et j'en vois d'autres litt√©ralement aspirer dans ce domaine.  Mais cela m'int√©resse aussi, car il y a des petits visons partout, et comme les pies, je suis <i>attir√© par les</i> petites <i>choses brillantes des visons profonds</i> .  Je suis √©galement tr√®s dou√© pour les m√©taphores. <br><a name="habracut"></a><br>  En tout cas: la semaine derni√®re, j'ai appris quelque chose d'√©trange et je veux partager: il s'av√®re que le <i>mod et le reste de la division ne sont pas la m√™me chose</i> .  C'est vraiment dr√¥le que certains lecteurs sautent de leurs si√®ges et crient √† ces mots: "Mais c'est exactement ce que j'ai toujours essay√© de vous dire, √† vous et √† tous les autres!" <br><br>  Appelez les gars de la secte "le mod n'est pas le reste"!  C'est pour toi. <br><br><h1>  Qu'est-ce que le mod? </h1><br>  J'ai d√ª √©tudier cela, ainsi que la derni√®re fois qu'un tel sujet est apparu.  C‚Äôest l‚Äôune de ces choses que vous <i>connaissez</i> mais dont vous ne vous souvenez pas.  Lorsque vous utilisez le mod, divisez un nombre par un autre et prenez le reste.  Donc: <i>5 mod 2</i> sera 1, car 5/2 = 2 avec le reste de 1. <br><br>  Le terme mod signifie fonctionnement <i>modulo</i> , avec le module 2 dans ce cas.  La plupart des langages de programmation utilisent <code>%</code> pour d√©signer une telle op√©ration: <code>5 % 2 = 1</code> . <br><br>  C'est l√† que nous entrons dans l'√©trange zone grise. <br><br><h1>  Les math√©matiques du cadran </h1><br>  Je me souviens comment j'ai enseign√© cela √† l'√©cole, puis j'ai oubli√©.  Il existe un type de math√©matiques appel√© ¬´arithm√©tique modulaire¬ª qui traite des structures cycliques.  La fa√ßon la plus simple d'imaginer cela est un cadran avec cycle 12. Pour un math√©maticien, le cadran est le <code>mod 12</code> .  Si vous voulez comprendre s'il est possible de diviser √©galement 253 heures en jours, vous pouvez appliquer l'op√©ration <code>253 mod 24</code> , le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">r√©sultat sera 13</a> , donc la r√©ponse est non!  Nous ne pouvons r√©pondre oui que si le r√©sultat est 0. <br><br>  Une autre question que vous pouvez poser est: "Si je pars √† 18 heures, quelle heure sera-t-il √† votre arriv√©e dans 16 heures?"  Ce sera <code>6 + 16 mod 12</code> , soit 10. <br><br>  Les cryptographes adorent le <code>mod</code> , car lorsqu'ils sont utilis√©s avec de tr√®s grands nombres, vous pouvez cr√©er quelque chose appel√© ¬´fonctions √† sens unique¬ª.  Ce sont des fonctions sp√©ciales qui permettent de calculer facilement quelque chose dans une direction, mais pas dans le sens contraire. <br><br>  Si je vous dis que 9 est le r√©sultat de l'√©querrage, vous pouvez facilement d√©terminer quelle √©tait l'entr√©e 3. Avant de voir l'ensemble du processus du d√©but √† la fin.  Si je dis que 9 est le r√©sultat du <code>mod 29</code> , alors il sera plus difficile de comprendre ce que l'entr√©e est. <br><br>  Les cryptographes aiment cette id√©e car ils peuvent utiliser la division du reste avec des nombres premiers g√©ants pour g√©n√©rer des cl√©s cryptographiques.  C'est une histoire compl√®tement diff√©rente: si vous voulez en savoir plus, vous pouvez acheter un livre ou, mieux encore, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">soutenir mes efforts pour l'√©crire</a> . <br><br>  Cependant, nous ne nous √©carterons pas du sujet. <br><br><h1>  Reste et calcul du cadran </h1><br>  Passons maintenant √† l'essentiel: modulo et le reste simple sont les m√™mes lorsque les nombres sont positifs, mais diff√®rent dans le cas de nombres n√©gatifs. <br><br>  Consid√©rez la t√¢che suivante: <br><br><pre> <code class="hljs vbscript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> x = <span class="hljs-number"><span class="hljs-number">19</span></span> % <span class="hljs-number"><span class="hljs-number">12</span></span>; console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(x);</code> </pre> <br>  Quelle est la valeur de <code>x</code> ?  Divisez les nombres et obtenez 7 comme le reste de 12. C'est la bonne r√©ponse.  Que diriez-vous de ceci: <br><br><pre> <code class="hljs vbscript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> y = <span class="hljs-number"><span class="hljs-number">19</span></span> % <span class="hljs-number"><span class="hljs-number">-12</span></span>; console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(y);</code> </pre> <br>  En utilisant les math√©matiques ordinaires, nous pouvons multiplier -12 par -1, ce qui donne 12, et il nous reste encore 7, donc notre r√©ponse est √† nouveau 7. <br><br>  JavaScript est d'accord avec ceci: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fa7/ab2/74b/fa7ab274b9a6cf591767f4d18c51824d.png"><br><br>  C # accepte aussi: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/96f/9a1/7b2/96f9a17b2e8fbfe528143b4ae385df6e.png"><br><br>  Google est d'accord avec la premi√®re d√©claration, mais n'est pas d'accord avec la seconde: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1ad/8dd/54b/1ad8dd54b309a3c5c9b16c85bd2a4677.png"><br><br>  Ruby est d'accord avec Google: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/155/875/445/15587544547bab1a4c382f993e99bb31.png"><br><br>  <b>Au nom de Dijkstra, que se passe-t-il ici?</b> <br><br><h1>  Il y a quelques heures </h1><br>  Pour r√©pondre √† la question, vous devez comprendre la diff√©rence entre le <i>reste</i> et le <i>modulo</i> .  <b>Les programmeurs combinent ces op√©rations</b> , mais ne devraient pas le faire, car elles ne donnent le m√™me r√©sultat que si le diviseur (dans notre cas 12) est positif.  Vous pouvez facilement envoyer des bugs en production si le diviseur est n√©gatif. <br><br>  Mais pourquoi y a-t-il une diff√©rence?  Consid√©rez le diviseur positif <code>19 mod 12</code> sur l'horloge: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/533/366/a02/533366a02b7640b5aeb2b09679915fd8.png"><br><br>  R√©sultat final 7. Nous le savons et nous pouvons le prouver math√©matiquement.  Mais qu'en est-il du <code>19 mod -12</code> ?  <b>Ici, vous devez utiliser d'autres montres</b> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/248/5e2/d30/2485e2d309e65adb3435bf95799673e9.png"><br><br>  Le module est -12, et nous ne pouvons pas l'ignorer ou le changer en multipliant par -1, car l'arithm√©tique modulaire ne fonctionne pas de cette fa√ßon.  La seule fa√ßon de calculer correctement le r√©sultat est de r√©organiser les marques sur l'horloge afin que nous passions de -12 ou tournions l'horloge dans le sens antihoraire, ce qui donne le m√™me r√©sultat. <br><br>  Pourquoi ne pas commencer les balises avec -1, passer √† -2, etc.?  <i>Parce que dans ce cas, nous reculerons</i> et r√©duirons constamment le r√©sultat jusqu'√† ce que nous atteignions -12, et √† ce moment nous ferons un saut +12, et le modulo ne fonctionne pas comme √ßa. <br><br><h1>  C'est une chose c√©l√®bre. </h1><br>  Avant de me traiter de fou et de commencer √† googler un sujet: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">c'est un fait bien connu</a> .  En fait, le MDN (Mozilla Developer Network) est m√™me all√© jusqu'√† appeler <code>%</code> l'op√©ration restante, pas modulo: <br><br><blockquote>  <b>L'op√©rateur restant</b> renvoie le reste de la division d'un op√©rande par un autre.  Il <b>accepte toujours le signe du dividende</b> . </blockquote><br>  Voici ce qu'Eric Lippert, l'un des dieux C #, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dit √† propos du modulo en C #</a> : <br><br><blockquote>  Cependant, ce n'est pas du tout ce que fait r√©ellement l'op√©rateur% en C #.  L'op√©rateur% n'est pas un op√©rateur de module canonique, c'est un op√©rateur de reste. </blockquote><br>  Et votre langue? <br><br><h1>  Et alors? </h1><br>  Je peux comprendre si vous avez lu jusqu'ici, et maintenant vous gratter la t√™te et vous demander si cela vaut la peine de vous inqui√©ter.  Je pense que cela co√ªte pour deux raisons: <br><br><ol><li>  Je peux imaginer comment cette question me surprendra lors d'une interview. </li><li>  Je peux imaginer comment celui-ci entre en production, et les d√©veloppeurs d√©couvriront pendant plusieurs heures pourquoi les math√©matiques ne fonctionnent pas. </li></ol><br>  C'est aussi un fait amusant au cas o√π votre ami programmeur p√©dant viendrait. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr421071/">https://habr.com/ru/post/fr421071/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr421061/index.html">PostgreSQL: comment et pourquoi le WAL se gonfle</a></li>
<li><a href="../fr421063/index.html">Nouveaux livres sur la programmation pour enfants √† gratter</a></li>
<li><a href="../fr421065/index.html">Comment j'ai appris √† l'IA √† jouer √† Tetris pour NES. Partie 2: AI</a></li>
<li><a href="../fr421067/index.html">Comment nous avons d√©velopp√© l'application AR pour examiner les lieux historiques</a></li>
<li><a href="../fr421069/index.html">Sac √† dos Bobby Urban: Inside the Castle</a></li>
<li><a href="../fr421073/index.html">√âpisode 1. Co√ªt du piratage</a></li>
<li><a href="../fr421075/index.html">Dictionnaire num√©rique de A √† Z</a></li>
<li><a href="../fr421077/index.html">Les saisons se remplacent plus t√¥t d'ann√©e en ann√©e √† Kemerovo</a></li>
<li><a href="../fr421079/index.html">Une m√©thode universelle de tri des informations complexes a √©t√© d√©couverte</a></li>
<li><a href="../fr421081/index.html">Trop peu de gens pr√™tent attention √† cette tendance √©conomique.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>