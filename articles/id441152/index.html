<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨â€ğŸ“ ğŸ‘¨ğŸ¼â€âœˆï¸ ğŸ‘¨ğŸ» Cara meminimalkan kesalahan saat berintegrasi dengan layanan eksternal: pengalaman broker online ğŸ›« â™Ÿï¸ ğŸš³</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selama satu setengah tahun, kami mengintegrasikan API dengan dua puluh layanan eksternal. Lima integrasi pertama mengalami rasa sakit dan air mata - k...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cara meminimalkan kesalahan saat berintegrasi dengan layanan eksternal: pengalaman broker online</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/441152/">  Selama satu setengah tahun, kami mengintegrasikan API dengan dua puluh layanan eksternal.  Lima integrasi pertama mengalami rasa sakit dan air mata - kami membuat semua kesalahan yang mungkin.  Mereka menulis ulang kode beberapa kali, berpisah dengan mitra sebelum rilis, karena mereka tidak bisa menyetujui perbaikan.  Kehilangan waktu dan uang. <br><br>  Tetapi dengan setiap integrasi baru, kami menemukan solusi untuk masalah yang berulang.  Hasilnya, kami membuat integrasi terakhir empat kali lebih cepat dari yang pertama.  Apa yang sekarang kita lakukan berbeda - baca artikel. <br><a name="habracut"></a><br>  Agar Anda lebih memahami spesifik dari integrasi kami, kami akan menjelaskan secara singkat apa yang kami lakukan.  Kami sedang mengembangkan broker online.  Prinsip kerja: pengguna datang ke situs, mengisi kuesioner, kami mentransfernya ke organisasi keuangan mikro (LKM) dan menerima persetujuan atau penolakan dari mereka untuk pinjaman.  Pengguna memilih penawaran yang sesuai dan menerima uang.  Agar ini berfungsi secara online, kami mengintegrasikan dengan LKM melalui API. <br><br><h2>  Nilai kesiapan mitra untuk integrasi menggunakan daftar periksa dan spesifikasi </h2><br>  Kami akan menganalisis dua skenario: ketika calon mitra sudah memiliki API untuk menerima aplikasi, dan ketika tidak.  Kedua skenario menyarankan bahwa mitra ingin berintegrasi dengan kami dan siap untuk menghabiskan waktu dalam hal ini. <br><br><h3>  Mitra tidak memiliki API - kami mengirim spesifikasi </h3><br>  <b>Sebelumnya,</b> kami menjelaskan kepada mitra, secara lisan atau korespondensi, apa yang kami butuhkan untuk integrasi, dan mitra berdasarkan penjelasan ini membuat API untuk menerima aplikasi dengan Finspin.  Kami tidak menyetujui persyaratan untuk model, objek, bidang kuesioner, dan aturan validasinya.  Dengan cepat menggambarkan tujuan dari metode dan jawaban yang mungkin.  Hasilnya ternyata jauh dari apa yang diharapkan, karena pemahaman kami tentang API sangat berbeda dari kemitraan.  Saya harus mengulang semuanya. <br><br>  <b>Sekarang</b>  Kami menulis spesifikasi kami - file YAML yang dapat dibuka di Swagger.  Dalam spesifikasi, kami menggambarkan API yang paling cocok untuk mengintegrasikan Finspin dengan LKM: bidang kuesioner dan aturan validasinya, format permintaan, dan jawaban dengan jawaban, nama metode, kemungkinan kesalahan dan status.  Kami mencatat status keadaan aplikasi yang akan kami terima, misalnya: "diterima untuk diproses", "penilaian sedang berlangsung", "ditolak pinjaman", "persetujuan", dll. <br><br>  Kami mengirim spesifikasi ke mitra, dan dia memutuskan apakah dia bisa menyediakan API semacam itu.  Jika tidak bisa, catat poin-poin bermasalah dalam spesifikasi, misalnya, tidak semua negara aplikasi siap untuk ditransfer ke API atau tidak ada cukup bidang dalam kuesioner.  Dan kita sudah membahas poin-poin spesifik, bukan entitas abstrak.  Mitra tidak membuang waktu menulis dokumentasinya, tetapi menyesuaikan milik kami. <br><br>  Kami menghabiskan dua hari membuat spesifikasi, tetapi sekarang kami menghemat puluhan jam untuk persetujuan dan peningkatan API.  Juga, dengan bantuan spesifikasi, kami dengan cepat menyaring mitra yang tidak siap untuk integrasi.  Pada tahap awal, menjadi jelas bahwa proses pemrosesan aplikasi online kami sangat berbeda: tidak menguntungkan untuk diintegrasikan. <br><br><h3>  Mitra memiliki API - jalankan melalui daftar periksa </h3><br>  Kami <b>biasa</b> mendapatkan spesifikasi mitra dan mengajukan pertanyaan saat bepergian.  Seringkali mereka lupa untuk mengklarifikasi sesuatu yang penting, dan kemudian hal ini muncul pada tahap akhir pengembangan dan pengujian, ketika menjadi sangat mahal untuk diperbaiki dan ditulis ulang.  Entah bagaimana, pada akhir integrasi dengan satu mitra, ternyata ia akan mentransfer status pinjaman melalui API dengan penundaan selama beberapa hari.  Bagi kami, ini tidak dapat diterima.  Kemitraan harus ditinggalkan. <br><br>  <b>Sekarang</b>  Kami telah menulis daftar periksa untuk mengevaluasi API dan proses yang dilayaninya.  Daftar periksa mengumpulkan pertanyaan yang harus dijawab.  Pertama, manajer kami mencari jawaban dalam spesifikasi.  Jika tidak ditemukan, berikan pertanyaan kepada mitra. <br><br>  Daftar periksa membantu Anda menemukan hambatan sebelum memulai pengembangan, dan bukan setelah - ketika Anda harus mengedit kode dan pelanggan menderita dari layanan yang buruk. <br><br>  Kami terus-menerus mengisi daftar periksa ketika kami dihadapkan dengan situasi baru.  Semakin rinci daftar periksa, semakin rendah risiko melewatkan kesalahan dalam pengembangan. <br><br><img src="https://habrastorage.org/webt/sa/u7/m4/sau7m4kwc3-mzhxwaq37w1pu1pm.png" width="600"><br>  <i>Fragmen daftar periksa API</i> <br><br><h2>  Daftar Istilah </h2><br>  <b>Sebelumnya,</b> tampak bagi kami bahwa di bidang peminjaman online setiap orang memahami istilah-istilah profesional dengan cara yang sama, tidak ada perbedaan.  Latihan telah menunjukkan bahwa kami salah. <br><br>  Sebagai contoh, dengan satu LKM, kami menafsirkan klien utama dan klien yang berbeda.  Bagi kami, pelanggan utama adalah pelanggan yang profilnya pertama kali memasuki database LKM melalui Finspin, dan pelanggan tetap sudah ada dalam database.  Mitra dianggap pelanggan tetap dengan jumlah pinjaman yang dikeluarkan: ulangi menerima dua pinjaman dan datang untuk yang ketiga.  Kebingungan terminologis semacam itu dapat menyebabkan inkonsistensi dalam rekonsiliasi keuangan. <br><br>  <b>Sekarang</b> kami menggunakan daftar istilah kecil yang kami gunakan untuk memeriksa dengan mitra.  Sebagai aturan, cukup untuk memperjelas lima atau enam istilah dasar untuk menyinkronkan gagasan tentang integrasi dan menilai prospek untuk kolaborasi. <br><br>  Setelah daftar istilah membantu kami menghindari integrasi yang tidak menguntungkan.  Interpretasi kami tentang "persetujuan" sangat berbeda dari afiliasi.  â€œPersetujuanâ€ mitra mencakup banyak aspek berbeda yang membutuhkan pemrosesan manual.  Kami mengusahakan otomatisasi maksimum, jadi kami segera menolak untuk bekerja sama. <br><br><img src="https://habrastorage.org/webt/zf/8s/8i/zf8s8i52-w3mfjcqncaxcelxlpq.png" width="800"><br>  <i>Klarifikasi istilah "Persetujuan"</i> <br><br><h2>  Bisnis pertama, lalu pengembangan </h2><br>  <b>Dulu</b> ada kasus ketika kami mulai bekerja dengan mitra potensial dengan spesifikasi.  Manajer kami menerima spesifikasi, mempelajarinya dengan seksama, detail yang ditentukan untuk integrasi dengan mitra, membahas masalah yang disengketakan dengan para pengembang.  Dan kemudian sebuah pesan datang dari pimpinan: "Akhir, integrasi dibatalkan, kami tidak menyetujui persyaratan."  Karyawan membuang waktu. <br><br><img src="https://habrastorage.org/webt/1p/at/bg/1patbgwgpcliihybxvmuvj1-uo0.png" width="800"><br>  <i>Ketika Anda berubah pikiran, dan pekerjaan selesai</i> <br><br>  <b>Sekarang</b> aturan besi berlaku: manajer mulai mempelajari spesifikasi hanya ketika dia menerima keputusan yang jelas tentang integrasi dari manajemen. <br><br><h2>  Kesiapan untuk integrasi: url, detail, lingkungan </h2><br>  <b>Sebelumnya,</b> panggilan pertama ke API mitra terjadi selama pengujian aplikasi kami, dari server dev.  Seringkali permintaan pertama menerima kesalahan pada tahap pengaturan koneksi: tidak dapat terhubung ke server atau hanya timeout.  Alasan paling populer: <br><br><ul><li>  Nama metode salah (disegel atau bingung) </li><li>  Domain tidak valid </li><li>  rincian koneksi yang salah, </li><li>  Kami tidak menambahkan IP server kami ke daftar putih. </li></ul><br>  Butuh berjam-jam untuk memperbaiki kesalahan kecil seperti itu, karena kesalahan itu berurutan: sampai Anda memperbaikinya, Anda tidak akan melihat yang berikutnya. <br><br>  <b>Sekarang</b> , sebelum memasukkan tugas ke dalam rencana pengembangan, kami mengklarifikasi semua fitur mengakses API dengan daftar periksa kecil.  Daftar periksa mencantumkan poin-poin yang perlu diklarifikasi, misalnya: <br><br><ul><li>  pembatasan pada beban layanan, </li><li>  jumlah permintaan per satuan waktu </li><li>  rincian koneksi </li><li>  daftar putih dengan alamat ip, </li><li>  Validasi sertifikat SSL </li><li>  persyaratan enkripsi lalu lintas, </li><li>  tajuk khusus dalam permintaan </li><li>  keberadaan server pengujian dengan API atau kemampuan untuk mengirim permintaan pengujian ke server tempur </li></ul><br>  Jika ada API uji, kami pasti akan mencari tahu apa bedanya saat mengakses server pertempuran dan yang uji.  Kami memperhitungkan perbedaan akun saat membangun permintaan dari aplikasi kami ke mitra di lingkungan pengembang dan pengembang.  Langkah-langkah tersebut membantu kita untuk memahami apakah sistem siap untuk kebutuhan kita atau apakah penyesuaian tambahan diperlukan. <br><br><img src="https://habrastorage.org/webt/bw/jz/f1/bwjzf19losfdd62xwajd3ww6ris.png" width="800"><br><br><h2>  Mengirim permintaan ke API secara manual </h2><br>  <b>Sebelumnya,</b> kami langsung menulis kode sesuai spesifikasi mitra, menyusun spesifikasi, direvisi, diuji.  Dan pada tahap pengujian integrasi, ternyata tidak semua yang tertulis dalam spesifikasi sesuai dengan kenyataan - mulai dari format permintaan, berakhir dengan proses pengajuan aplikasi. <br><br>  Misalnya, menurut spesifikasi, saat mengakses metode tertentu, kami mengharapkan respons dalam format tertentu dalam respons, menutup proses untuk validitas respons yang diterima, pergi ke tes, dan tiba-tiba kami mendapatkan larik dalam respons.  Kami mencari tahu alasan dari pengembang mitra.  Mereka merujuk pada dokumentasi yang sudah ketinggalan zaman.  Sekali lagi, lingkaran perbaikan, ulasan dan tes. <br><br>  <b>Sekarang</b> , segera setelah kami menerima dokumentasi dan detail koneksi, kami menjalankan proses melalui klien API.  Biasanya, penguji mengunggah spesifikasi ke Postman dan mensimulasikan proses bisnis lengkap untuk mengirim aplikasi pinjaman, memeriksa kasus-kasus paling populer dengan set data yang berbeda untuk permintaan tersebut.  Artinya, secara manual melakukan apa yang akan dilakukan aplikasi. <br><br>  Pada tahap menjalankan manual, 80% ketidakakuratan dalam dokumentasi terungkap.  Kami menjelaskan kesalahan dan meneruskannya ke mitra.  Mitra baik menghilangkan ketidakakuratan di rumah, atau menyelesaikan spesifikasi.  Akibatnya, pada saat pekerjaan pada kode dimulai, pengembang menerima dokumentasi yang berfungsi. <br><br>  Perbedaan paling populer: <br><br><ul><li>  format permintaan yang salah, berjanji untuk menerima json, ternyata membutuhkan formulir-data; </li><li>  Kesalahan dalam nama bidang yang akan dikirim dalam permintaan; </li><li>  kesalahan dalam format bidang; </li><li>  aturan validasi lapangan tidak ditentukan atau ditunjukkan secara tidak benar; </li><li>  beberapa bidang mungkin dilupakan sama sekali; </li><li>  hilang atau berbeda dari deskripsi aktual dari format respons dari metode; </li><li>  tanda yang salah tentang bidang wajib - â€œtanda bintangâ€ dapat muncul di mana bidang tersebut tidak wajib pada kenyataannya, dan sebaliknya; </li><li>  sering tidak mendokumentasikan semua negara bagian dan status tempat objek tersebut berada; </li><li>  perbedaan antara keadaan objek yang diharapkan dan yang diterima.  Sebagai contoh, di beberapa titik, kami berharap bahwa aplikasi harus dalam keadaan X - dan oleh API, pada kenyataannya, kami mendapatkan Y. </li></ul><br><h2>  Resep untuk Kebahagiaan: Menghindari Kesalahan Integrasi API </h2><br>  Tulis spesifikasi untuk integrasi dengan layanan Anda.  Kami menghabiskan dua hari mengembangkan spesifikasi dalam YAML, tetapi sekarang kami menghemat puluhan jam untuk peningkatan dan persetujuan. <br><br>  Jika mitra mengirim spesifikasinya, periksa di daftar periksa.  Dalam daftar periksa, kumpulkan pertanyaan yang harus Anda terima jawabannya.  Jangan mengandalkan pengalaman dan memori, masih ketinggalan sesuatu. <br><br>  Miliki daftar istilah untuk menghindari kebingungan dengan pasangan Anda.  Pengalaman kami telah menunjukkan bahwa perbedaan bahkan bisa dalam istilah yang jelas. <br><br>  Jangan mengambil tugas dalam pengembangan sampai Anda menerima persetujuan prinsip dari manajemen integrasi dengan mitra.  Idenya jelas, tetapi membantu kita menghindari pekerjaan yang tidak perlu. <br><br>  Buka daftar periksa untuk memperjelas spesifikasi mengakses API mitra: detail koneksi, daftar putih, validasi sertifikat SSL, persyaratan enkripsi lalu lintas, dll. Periksa daftar periksa sesegera mungkin untuk menghindari selip pada tahap akhir. <br><br>  Mendapat spesifikasi - jangan segera menulis kode.  Pertama, jalankan proses secara manual melalui klien API, misalnya, melalui tukang pos.  Jadi, Anda akan menemukan kesalahan dalam spesifikasi pada tahap awal dan dengan sumber daya kecil.  Dan mereka akan menjadi. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id441152/">https://habr.com/ru/post/id441152/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id441140/index.html">WebPengembangan perakitan: menyapu dan contoh nyata</a></li>
<li><a href="../id441142/index.html">12 poin pertumbuhan konversi, atau konten yang benar-benar menjual</a></li>
<li><a href="../id441146/index.html">Jaringan nirkabel industri: mana yang harus dipilih?</a></li>
<li><a href="../id441148/index.html">Cara menangani kesalahan dengan benar: diam tidak selalu baik</a></li>
<li><a href="../id441150/index.html">Pengantar protokol HTTP pertama dengan menulis server Web Java paling sederhana</a></li>
<li><a href="../id441154/index.html">Sebelas Mutiara Tersembunyi di Jawa 11</a></li>
<li><a href="../id441158/index.html">Bagaimana etika menjadi masalah Lembah Silikon termahal, dan filsafat menjadi solusi paling praktis</a></li>
<li><a href="../id441160/index.html">Cara belajar menentukan kapan mengatakan tidak</a></li>
<li><a href="../id441166/index.html">Kami mendapatkan kata sandi utama dari pengelola kata sandi yang terkunci 1 Kata sandi 4</a></li>
<li><a href="../id441168/index.html">Saluran Data QUIC: Langkah Pertama</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>