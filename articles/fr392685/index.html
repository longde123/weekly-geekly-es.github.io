<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙌🏾 🚃 👼🏼 IHM FLProg + Nextion. Leçon 2 🎋 😐 🤹🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans la dernière leçon, j'ai parlé du panneau Nextion HMI et de la création de projets pour ce panneau dans l'éditeur Nextion. 
 Dans ce tutoriel, je ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>IHM FLProg + Nextion. Leçon 2</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flprog/blog/392685/"><img src="https://habrastorage.org/files/bc9/53d/46e/bc953d46e4cd4e498fb9cf600c520628.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la dernière </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leçon,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j'ai parlé du panneau Nextion HMI et de la création de projets pour ce panneau dans l'éditeur Nextion. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce tutoriel, je vais vous montrer comment contrôler ce panneau à l'aide du programme FLProg à partir d'une carte Arduino. Par exemple, collectons la station météo la plus simple, qui lira les données du capteur de température et d'humidité DHT-22 et les affichera sur le panneau. Un graphique de l'évolution de ces paramètres sera également tracé. La luminosité du rétroéclairage de l'écran du panneau sera modifiée à l'aide d'une résistance variable.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Disposition du banc d'essai. </font></font><br>
<img src="https://habrastorage.org/files/a5e/133/8e6/a5e1338e6b844737929e9c8338799b1a.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous devez d'abord télécharger le projet dans le panneau (le fichier de projet dans l'archive est un lien vers lequel à la fin de l'article est Lesson2.hmi). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce projet se compose de trois écrans. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le premier écran permet d'afficher la température (page «page0» index - 0). </font></font><br>
<br>
<img src="https://habrastorage.org/files/51a/8d5/166/51a8d51662a0457bb8feef7f75b90fe8.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il se compose des éléments suivants: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1 - Image avec l'image d'un thermomètre à alcool. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 - L'élément "Barre de progression". </font><font style="vertical-align: inherit;">Avec son aide, le thermomètre est simulé. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramètres de l'élément.</font></font><br>
<img src="https://habrastorage.org/files/d62/840/183/d628401837df42d4936c5cde893db727.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je recommande les éléments avec lesquels il est prévu de toujours rendre global via UART (l'attribut «vccope» est défini sur «global») et de leur attribuer en conséquence des noms uniques (l'attribut «objname») tout au long du projet. </font><font style="vertical-align: inherit;">Cela accélère le travail du contrôleur Arduino et réduit le code correspondant. </font><font style="vertical-align: inherit;">Je vais vous expliquer pourquoi.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Lorsque vous essayez d'écrire l'attribut d'un élément local, vous devez d'abord demander la page actuelle au panneau (il s'agit d'une demande distincte qui prend au moins 20 ms). Si la page est celle à laquelle appartient l'élément, alors la valeur est envoyée au panneau; sinon, la valeur destinée à l'envoi est écrite dans la variable (pour laquelle le même espace mémoire est nécessaire). Lorsque vous accédez à une page avec un élément, vous devez immédiatement mettre à jour ses attributs avec les dernières valeurs réelles, car lors du rendu d'une page, les variables locales sont initialisées avec les valeurs spécifiées lors de la création du projet. Et s'il y a beaucoup d'éléments contrôlés depuis le contrôleur sur la page, alors lors du passage à celui-ci, ce contrôleur sera occupé à mettre à jour tous les éléments pendant longtemps.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour un élément global, tout est beaucoup plus simple. Vous pouvez enregistrer des valeurs d'attribut à tout moment et les dernières valeurs sont utilisées lors du rendu de la page. Cela signifie qu'il n'est pas nécessaire de demander un numéro de page avant l'envoi et qu'il n'est pas nécessaire de modifier pour stocker la valeur. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais bien sûr, tout dépend du projet. Si le projet du panneau est très volumineux et qu'il n'y a pas assez d'espace pour les éléments globaux, vous pouvez, pour ainsi dire, prendre la mémoire du contrôleur et les rendre locaux. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Zone de texte pour afficher la température. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramètres de l'élément.</font></font><br>
<img src="https://habrastorage.org/files/cfd/187/0d7/cfd1870d71124593987228a0307da159.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'image coupée est sélectionnée comme arrière-plan (attribut "sta" valeur "recadrer l'image"). Et en tant qu'image utilisée pour la découpe, la même que celle utilisée pour l'arrière-plan de la page entière (l'attribut «picc» est l'index de l'image de la bibliothèque d'images). Grâce à cela, le tex est obtenu avec un fond transparent. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme je l'ai déjà écrit dans la dernière leçon, le panneau ne sait pas comment travailler avec des nombres fractionnaires et négatifs, et pour la température, c'est possible. Par conséquent, pour afficher la valeur de la température, un champ de texte est utilisé, dans lequel la ligne terminée sera envoyée immédiatement depuis le contrôleur. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. L'image coupée. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramètres de l'élément.</font></font><br>
<img src="https://habrastorage.org/files/ea4/a41/f72/ea4a41f728334074af577ae6e24b542e.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec l'aide de cet élément, le soleil sera affiché lorsque la température dépasse une limite prédéterminée. En fait, il était possible d'utiliser une image ordinaire et de changer sa visibilité, mais depuis l'exemple de formation, j'ai décidé d'utiliser cet élément particulier. J'ai moi-même depuis longtemps compris l'idéologie de cet élément, je vais essayer de montrer comment cela fonctionne. Pour son travail, j'ai fait deux photos, l'une avec le soleil, l'autre sans soleil. </font></font><br>
<br>
<img src="https://habrastorage.org/files/f87/e4e/c19/f87e4ec1967b47aa864eead49b59753c.jpg"><br>
<br>
<img src="https://habrastorage.org/files/0b1/73e/481/0b173e48127b45308e9ad2f7fd4824c1.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'élément affiche la partie de l'image qui lui est attachée (l'attribut «picc» est l'index de l'image dans la bibliothèque d'images). Le coin supérieur gauche de cette section est dans les coordonnées d'insertion de l'élément (attributs «x» et «y») et a la largeur et la hauteur de l'élément (attributs «w» et «h»). Pendant le fonctionnement du programme du contrôleur, si nécessaire, la liaison de l'élément à l'image changera. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Bouton.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramètres de l'élément. </font></font><br>
<img src="https://habrastorage.org/files/2ce/705/e9f/2ce705e9f8324254ab334194ddc50494.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous cliquez sur le bouton, il passe à la page suivante. J'ai utilisé une image comme arrière-plan pour le bouton. J'ai utilisé la même image pour les deux états (les attributs "pic" et "pic2" sont les index des images dans la bibliothèque d'images) car l'état pressé ne sera jamais visible, lorsque vous cliquez sur le bouton, il passe directement à la page suivante. Comme nous ne changerons rien dans ce bouton, je l'ai laissé local et le nom par défaut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Code dans l'événement «Touch Press Event». </font></font><br>
<img src="https://habrastorage.org/files/faa/af7/58f/faaaf758f0904d42a9be6c6d136ad937.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le deuxième écran est utilisé pour afficher l'humidité (page «page1» index - 1). </font></font><br>
<img src="https://habrastorage.org/files/ed6/bbf/177/ed6bbf177e5947fc82ad7b43a9741608.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour le fond de la page, j'ai utilisé une image avec une image préparée de l'échelle de l'hygromètre. </font></font><br>
<img src="https://habrastorage.org/files/269/9a6/d9f/2699a6d9f389422fb2f0af36e973e5a6.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considérez les éléments inclus dans la page.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. L'élément «Gaude», qui simulera le fonctionnement d'un hygromètre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramètres de l'élément. </font></font><br>
<img src="https://habrastorage.org/files/6af/d6f/04f/6afd6f04facc4486a4083d067329c42a.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puisque nous allons le contrôler depuis le contrôleur, il est rendu global. L'image coupée (l'attribut «sta») est sélectionnée comme arrière-plan et l'image d'arrière-plan de la page (l'attribut «picc») est sélectionnée comme arrière-plan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Champ numérique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramètres de l'élément.</font></font><br>
<img src="https://habrastorage.org/files/f63/5a4/14b/f635a414b58445bfbc8fd7b255213de4.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La valeur d'humidité sera affichée dans ce champ. Étant donné que le panneau ne prend pas en charge le travail avec des nombres fractionnaires, nous afficherons la valeur d'humidité sans partie fractionnaire. L'image coupée est sélectionnée comme arrière-plan (attribut "sta" valeur "recadrer l'image"). Et en tant qu'image utilisée pour la découpe, la même que celle utilisée pour l'arrière-plan de la page entière (l'attribut «picc» est l'index de l'image de la bibliothèque d'images). Pour des raisons de beauté d'affichage, j'ai réglé l'alignement vers la droite (valeur d'attribut «xcen» - 2), et à côté, j'ai mis un champ de texte (3) avec la valeur «%». Les paramètres d'arrière-plan de celui-ci sont similaires aux paramètres du champ numérique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Options de champ de texte (3).</font></font><br>
<img src="https://habrastorage.org/files/455/92f/41c/45592f41c420485da8de8dc7c957cc6d.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4 et 5. Boutons page précédente et page suivante. Lorsque vous appuyez sur le bouton 4, vous accédez à la première page et lorsque vous appuyez sur le bouton 5, vous passez à la suivante. Les paramètres d'affichage des boutons sont similaires à ceux de la première page. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramètres du bouton 4 («Page précédente») </font></font><br>
<img src="https://habrastorage.org/files/9aa/c4a/e21/9aac4ae214d544329e354376813deea8.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Code dans le «Touch Press Event» pour le bouton 4 («Page précédente»). </font></font><br>
<img src="https://habrastorage.org/files/47b/c90/474/47bc90474d804fdebb0d6d84d583e44c.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramètres du bouton 5 («Page suivante») </font></font><br>
<img src="https://habrastorage.org/files/3ab/533/192/3ab53319296f410eb2510ce6d19cca9f.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Code dans le «Touch Press Event» pour le bouton 5 («Page suivante»). </font></font><br>
<img src="https://habrastorage.org/files/f28/c9f/6eb/f28c9f6eb6c948c4abac1e7dfaa26d55.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Troisième page - Graphique des changements de température et d'humidité (index «page2» - 2). </font></font><br>
<img src="https://habrastorage.org/files/8f6/935/13c/8f693513cbff49729a01de0d653be2ac.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur cette page sera affiché un graphique des changements de température et d'humidité. Considérez les éléments inclus dans la page. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. L'élément Waveform. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramètres de l'élément.</font></font><br>
 <img src="https://habrastorage.org/files/8a7/d70/190/8a7d701909554de280fb18a6ad3dac74.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la dernière leçon, j'ai déjà écrit que cet élément ne peut pas (j'espère jusqu'à présent) devenir global, c'est-à-dire que la valeur d'attribut peut être changée, mais cela ne mènera à rien. Je l'ai donc laissé local (qui sait, mais du coup il mange toujours la mémoire des variables globales). Il y aura deux canaux d'affichage dans cet élément (attribut «ch» valeur - 2). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 et 3 sont simplement des champs de texte montrant l'axe des graphiques. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4 - Bouton arrière. Il est similaire au même bouton sur l'écran précédent, à l'exception du code dans le gestionnaire d'événements. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code dans le «Touch Press Event» pour le bouton 4 («Page précédente»). </font></font><br>
<img src="https://habrastorage.org/files/8a0/131/0af/8a01310af0a2436a833fc80678dacc86.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons compris le panneau, maintenant occupons-nous du contrôleur. Je ne dirai pas comment ouvrir le programme FLProg, créer un projet et dessiner un diagramme. Tout cela, je l'ai dit dans les leçons précédentes (</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leçon 1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leçon 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), et en outre, beaucoup d'informations à ce sujet se trouvent dans le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">centre de formation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur le site Web du projet. Par conséquent, je vais immédiatement montrer les circuits imprimés prêts à l'emploi et dire ce qui se passe sur eux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Carte 1. Lecture des données du capteur. </font></font><br>
<img src="https://habrastorage.org/files/412/3f7/d8c/4123f7d8c185462a91572fe4eac9ed65.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour obtenir les valeurs de température et d'humidité avec le capteur DHT-22, le bloc B1 est utilisé - «DHT11, DHT21, DHT22» (bibliothèque d'éléments, dossier «Capteurs»). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramètres de blocage (appelés en double-cliquant dessus). </font></font><br>
<img src="https://habrastorage.org/files/893/112/b34/893112b34144450ba7269246e60d1539.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les paramètres, la broche est affectée à laquelle la sortie «Données» du capteur est connectée, le type de capteur et la présence de sorties de température et d'humidité. Le mode d'interrogation du capteur est également sélectionné. J'ai configuré l'interrogation du capteur toutes les 5 secondes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Étant donné que les contrôleurs Arduino ne fonctionnent pas très bien avec les nombres à virgule flottante et que travailler avec eux consomme beaucoup de mémoire, je traduis immédiatement toutes les valeurs au format Integer. Pour ce faire, utilisez les blocs B3 et B4 - «Convertir flottant en entier» (bibliothèque d'éléments, dossier «Conversion de type»), qui coupent la partie fractionnaire du nombre. Afin de ne pas perdre des dixièmes de degré, la valeur de température obtenue du capteur est d'abord multipliée par 10 à l'aide du bloc B2 - «MUL (*)» (bibliothèque d'éléments, dossier «Mathématiques»). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, les valeurs obtenues au format Integer sont entrées dans les variables correspondantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Carte 2. Affiche la valeur de température sur le panneau. </font></font><br>
<img src="https://habrastorage.org/files/7e1/90e/f48/7e190ef4861a40c5a413dba3a51da73c.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce projet, j'utilise des connexions nommées. Vous pouvez en apprendre plus à leur sujet dans la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">leçon correspondante</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin de limiter la charge sur le contrôleur, il est logique d'envoyer des données au panneau uniquement lorsque les données ont changé. Par conséquent, nous déterminons d'abord que les données ont changé. Pour ce faire, utilisez le bloc B5 - «Détecteur de changement de nombre» (bibliothèque d'éléments, dossier - «Blocs de base»). Cette unité contrôle le nombre «Valeur» à son entrée et, lorsqu'elle est modifiée, génère une impulsion de sortie d'un cycle d'exécution de programme à la sortie.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après cela, nous préparons une chaîne à envoyer au champ de texte du panneau. Tout d'abord, divisez la valeur de température, multipliée par 10, par une constante de type Float avec une valeur de 10. Ainsi, nous obtenons la valeur de température avec une partie fractionnaire. Pour ce faire, nous utilisons le bloc B6 - «DIV (/)» (bibliothèque d'éléments, dossier «Mathématiques»). Ensuite, nous transformons la valeur obtenue au format Float en une chaîne en utilisant le bloc B7 - «Conversion de chaîne» (bibliothèque d'éléments, dossier «Conversion de type»). Ensuite, nous connectons la chaîne résultante avec la constante de chaîne "C" en utilisant le bloc B8 - "Addition de lignes" (bibliothèque d'éléments, dossier "Lignes"). La ligne résultante est envoyée à l'entrée de l'unité pour écrire la valeur d'attribut dans le panneau Nextion HMI B9 - «Définir les paramètres» (bibliothèque d'éléments -&gt; dossier «Nextion HMI Panel» -&gt; dossier «Éléments»).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce bloc écrit la valeur dans l'attribut spécifié. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramétrage de bloc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En double-cliquant sur le bloc, la fenêtre de l'éditeur de blocs s'ouvre. </font></font><br>
<img src="https://habrastorage.org/files/407/27c/f8f/40727cf8fc6041d0b924bc1e8a477506.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si aucun panneau n'a encore été créé dans le projet, vous devez créer un panneau. Si le panneau nécessaire a déjà été créé, il peut être sélectionné dans la liste déroulante en appuyant sur le bouton 3. Le panneau sélectionné peut être modifié à l'aide du bouton «Changer de panneau» (2). Pour créer un panneau, cliquez sur le bouton "Ajouter un panneau" (1). La fenêtre de création du panneau s'ouvre.</font></font><br>
 <img src="https://habrastorage.org/files/33d/d39/66a/33dd3966adf54f5eb40fd434ddb47b57.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette boîte de dialogue, sélectionnez le port de connexion du panneau (dans notre leçon - SoftwareSerial). Si vous sélectionnez SoftwareSerial, vous devez également sélectionner les broches affectées en tant que signaux RX et TX du port UART (dans notre cas, 2 et 3). Il est également nécessaire d'attribuer un nom de panneau. Elle doit être unique. Plusieurs panneaux peuvent être connectés dans un projet, tant qu'il y a suffisamment de ports UART libres. Le nom de chaque panneau doit être unique dans le projet. Dans la même boîte de dialogue, vous pouvez ajouter les pages incluses dans le panneau. Que ferons-nous. Cliquez sur le bouton Ajouter une page. La fenêtre de création de page s'ouvre. </font></font><br>
<img src="https://habrastorage.org/files/03a/d53/e93/03ad53e9357a4d42abd31278f31638f3.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette fenêtre, nous devons entrer le nom de la page et son ID. Ces informations peuvent être tirées du projet dans l'éditeur Nextin.</font></font><br>
<img src="https://habrastorage.org/files/37e/383/96c/37e38396c61941dfa070ad2a2ee09b3d.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par défaut, la page de démarrage (ouverte au démarrage du contrôleur) sera une page avec un ID de 0, mais vous pouvez cocher la case "Page de démarrage" dans les propriétés de n'importe quelle page et elle deviendra la page de démarrage. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette fenêtre, vous pouvez ajouter les éléments qui nous intéressent qui se trouvent sur cette page. Cliquez sur le bouton "Ajouter un élément". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La fenêtre de création d'élément s'ouvre. </font></font><br>
 <img src="https://habrastorage.org/files/709/fa3/de8/709fa3de890a431896b1acd94ccd7505.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, nous devons sélectionner le type et le type de l'élément, entrer son nom, son index et, si l'élément est global, cocher la case correspondante. Toutes ces données sont visibles dans le projet dans l'éditeur Nextin. </font></font><br>
<img src="https://habrastorage.org/files/ab3/446/4d3/ab34464d3b60440598a33ef3d1598e95.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir renseigné toutes les données, cliquez sur «Terminer», puis dans la fenêtre de création de page de la même manière ajoutez tous les éléments qui nous intéressent sur cette page.</font></font><br>
<img src="https://habrastorage.org/files/b07/eb5/5e5/b07eb55e5086468d96f5d34dd9d14e08.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir créé tous les éléments de la page, on clique également sur le bouton «Terminer» dans la fenêtre de création de page et dans la fenêtre de création d'un panneau utilisant le même scénario, créer le reste de la page. </font></font><br>
<img src="https://habrastorage.org/files/579/d73/89f/579d7389fea742f187d8e0beb5871c46.PNG"><br>
<br>
<img src="https://habrastorage.org/files/a28/63a/382/a2863a382b834a05bdde879252dc4ca5.PNG"><br>
<br>
<img src="https://habrastorage.org/files/0f9/3bb/87d/0f93bb87d247496a9cdd0dfe4fbde198.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous finissons de créer le panneau avec le bouton familier «Terminer». </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'éditeur de blocs, sélectionnez l'élément de page «page0» «Texte» avec le nom «tnt» et son attribut «Texte (txt)». Comme valeur, sélectionnez l'entrée. </font></font><br>
<img src="https://habrastorage.org/files/e67/ebb/b3f/e67ebbb3f29140d6bc64d9c22e01ca06.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le bloc est configuré. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous examinons le schéma plus loin.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur le plan empirique, il a été définitivement déterminé qu'une valeur de -40 degrés d'un thermomètre dessiné correspond à une valeur de 10 dans l'élément "Barre de progression" qui s'y trouve, et une valeur de 50 degrés à un thermomètre correspond à une valeur de 91 bar de progression. Conformément à cela, nous mettons à l'échelle la valeur avec la variable «Température x10» en utilisant le bloc B10 - «Échelle» (bibliothèque d'éléments, dossier «Mise à l'échelle») sans oublier que nous avons la valeur de température multipliée par 10. Paramètres de ce bloc. </font></font><br>
<img src="https://habrastorage.org/files/f34/da0/7d6/f34da07d6dbd4b86bb64fa09825b98eb.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La valeur de température mise à l'échelle est envoyée au panneau à l'aide du bloc B11 - "Set Parameter" (bibliothèque d'éléments -&gt; dossier "Panel Nextion HMI" -&gt; dossier "Elements"). Paramètres de ce bloc.</font></font><br>
<img src="https://habrastorage.org/files/3a9/2b8/c78/3a92b8c7875248fa92c7b6003a54b727.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le bloc suivant B12 - «Comparateur» (bibliothèque d'éléments, dossier «Comparaison») détermine si la température actuelle dépasse le point de consigne par la valeur par défaut de la variable «Point de consigne - Chaud». Il est de 290 (n'oubliez pas que partout nous avons des températures multipliées par 10). </font></font><br>
<img src="https://habrastorage.org/files/846/5fb/fb5/8465fbfb547f4767b9658c0dbd36d2c5.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le bloc B12 est configuré pour sortir une unité logique à sa sortie lorsque la valeur à l'entrée "I1" dépasse la valeur à l'entrée "I2".</font></font><br>
<img src="https://habrastorage.org/files/96d/b71/2b8/96db712b8a014b168bc53f884bc13e79.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les blocs B13, B14 et B15 forment des circuits de détection de changement de signal discrets. Les blocs B13 et B14 - Rtrig (bibliothèque d'éléments, dossier «Déclencheurs»), lorsqu'un front montant d'un signal discret apparaît, émettent une impulsion de sortie d'une durée de 1 cycle du programme. Le bloc B14, du fait d'une inversion à son entrée, détecte le front arrière du signal "Dépassement du seuil". Le bloc B15 –OR (bibliothèque d'éléments, dossier «Éléments de base»), s'il y a une unité logique à l'une des entrées, envoie une unité logique à sa sortie. Ainsi, un signal est formé "Envoi de données lorsque le seuil est dépassé". Sur le bord d'attaque de ce signal, une commande est envoyée pour changer la couleur de police du champ de texte affichant la température actuelle. L'envoi se fait à l'aide du bloc B17– "Set Parameter" (bibliothèque d'éléments -&gt; dossier "Nextion HMI Panel" -&gt;Dossier Éléments). Paramètres de ce bloc.</font></font><br>
 <img src="https://habrastorage.org/files/e0d/208/dc4/e0d208dc4a564cc68e9f9e1a80082aac.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La valeur transmise dans la commande est sélectionnée à l'aide du bloc B16 - «Switch» (bibliothèque d'éléments, dossier «Switch»). Ce bloc avec un niveau logique bas à son entrée transfère la valeur de l'entrée "0" à la sortie, et avec un niveau haut, de l'entrée "1". Les valeurs de couleur fournies aux entrées du commutateur sont définies à l'aide des blocs B44 et B45 - «Color constant Hight Color» (bibliothèque d'éléments -&gt; dossier «Nextion HMI Panel» -&gt; dossier «Color»). La couleur est sélectionnée dans l'éditeur de blocs (double-cliquez sur le bloc). </font></font><br>
<img src="https://habrastorage.org/files/bf8/d24/84d/bf8d2484dc4f472392677f90ac26800e.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour sélectionner une couleur, cliquez sur le bouton "Changer". Le sélecteur de couleurs s'ouvre. </font></font><br>
<img src="https://habrastorage.org/files/2e0/a51/d97/2e0a51d971e14ee49de5e234260af69f.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans celui-ci, en définissant la valeur des composants R (rouge), G (vert) et B (bleu), la couleur nécessaire est sélectionnée.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, sur le bord d'attaque du signal "Envoi de données lorsque le seuil est dépassé", une commande est envoyée pour modifier la liaison de l'image découpée. Cela se produit à l'aide du bloc B19 - «Set Parameter» (bibliothèque d'éléments -&gt; dossier «Nextion HMI Panel» -&gt; dossier «Elements»). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramètres de ce bloc. </font></font><br>
<img src="https://habrastorage.org/files/a59/bf3/7dc/a59bf37dc12a4ed6ba1fe4f570a9faee.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'index d'image est sélectionné à l'aide du bloc B18 - «Switch» (bibliothèque d'éléments, dossier «Switch»). Son travail a été décrit ci-dessus. La valeur d'index de l'image requise peut être affichée dans le projet Nextion Editor de la bibliothèque d'images. </font></font><br>
 <img src="https://habrastorage.org/files/bfc/de6/bc4/bfcde6bc4c7e4ab082a979100ddf58a1.PNG"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois le transfert des données de température terminé. Passons à l'humidité. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tableau 3. Conclusion de l'humidité.</font></font><br>
<img src="https://habrastorage.org/files/eb4/67f/082/eb467f082a8f4398a662f21047e09c1c.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme dans le cas de la température, nous créons tout d'abord un signal «Envoi de données lorsque l'humidité change». Pour ce faire, nous utilisons le bloc B20 - «Détecteur de changement de nombre» (bibliothèque d'éléments, dossier - «Blocs de base»). Le fonctionnement de cet appareil a été décrit précédemment. Ce signal envoie la valeur à un champ numérique qui affiche l'humidité. Pour ce faire, utilisez le bloc B21– «Définir les paramètres» (bibliothèque d'éléments -&gt; dossier «Nextion HMI Panel» -&gt; dossier «Elements»). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramètres de ce bloc.</font></font><br>
<img src="https://habrastorage.org/files/c42/a1b/8f7/c42a1b8f777542b1a10b7098cbdd7e73.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Empiriquement, il a été clairement déterminé que pour la valeur d'humidité de 0% de l'échelle hygromètre dessinée dans la conception du panneau, l'élément «Gayge» qui dessine la flèche est 314 et pour 100% d'humidité il est 226. En même temps, la flèche dépasse la valeur 0. Lorsqu'elle est convertie en valeurs linéaires, nous obtenons continu de -46 (0%) à 226 (100%). Conformément à ces données, nous configurons le bloc B22 - «Echelle». </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramètres de bloc.</font></font><br>
<img src="https://habrastorage.org/files/8aa/d85/f2e/8aad85f2e0d342c89a69458e74823adc.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Étant donné que les valeurs de l'élément "Gauge" ne peuvent pas être négatives, pour calculer l'angle de la flèche à ces valeurs, dans le cas d'une valeur négative, la valeur 360 y est ajoutée. Nous le faisons en utilisant le bloc B23- "SUMM (+)" (bibliothèque d'éléments, Dossier Maths). Nous déterminons que le nombre est inférieur à 0 à l'aide du bloc B26 - «Comparateur» (bibliothèque d'éléments, dossier «Comparaison»). Sa sortie contrôle le commutateur B24 - «Switch» (bibliothèque d'éléments, dossier «Switch») et la valeur sélectionnée est envoyée au panneau à l'aide du bloc B25 - «Set Parameter» (bibliothèque d'éléments -&gt; dossier «Nextion HMI Panel» -&gt; dossier «Elements» ) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramètres de ce bloc. </font></font><br>
 <img src="https://habrastorage.org/files/15f/dbd/3a1/15fdbd3a186f4978957f758c740f3627.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le tableau suivant affiche un graphique des changements de température et d'humidité.</font></font><br>
<img src="https://habrastorage.org/files/efa/d2d/2e0/efad2d2e02ee4662ba6bd880649dcfa5.PNG"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme je l'ai écrit au début de la leçon, l'élément Waveform ne sait pas comment être un élément global et est redessiné à chaque fois que vous ouvrez la page sur laquelle il se trouve. Nous devons contourner cette limitation. Tout d'abord, déterminez le numéro de la page actuellement chargée sur le panneau. Pour ce faire, utilisez le bloc B27 - «Obtenir l'identifiant de la page en cours» (bibliothèque d'éléments -&gt; dossier «Nextion HMI Panel» -&gt; dossier «Page»). Dans les paramètres de ce bloc, il vous suffit de sélectionner le panneau auquel nous accéderons avec cette demande. </font></font><br>
 <img src="https://habrastorage.org/files/67a/2f6/a50/67a2f6a500384229b7dcdcf15bb0692f.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le numéro de page obtenu à partir de ce bloc est comparé à l'index de la page dont nous avons besoin (2) à l'aide du bloc B28 - «Comparateur» (bibliothèque d'éléments, dossier «Comparaison»). Si la page souhaitée est ouverte, l'unité logique est écrite dans la variable «Ouvrir la page du graphique», sinon, un zéro logique.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A l'aide du bloc B29 - «Générateur» (bibliothèque d'éléments, dossier «Timers»), un signal est généré pour enregistrer le point suivant sur la carte. Ce bloc génère des impulsions avec une durée d'impulsion et une pause données. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bloquer les paramètres. </font></font><br>
<img src="https://habrastorage.org/files/635/c54/7fb/635c547fb9e349bfab2ce151d1d3e5d4.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le type de générateur sélectionné est "Multivibrateur symétrique", ce qui signifie que la durée d'impulsion est égale à la durée de la pause. Lors du réglage de la durée d'impulsion sur 5 secondes, respectivement, la pause sera la même de 5 secondes. Le bord d'attaque de l'impulsion viendra toutes les 10 secondes. Cette façade est mise en évidence par le bloc B30 - «Rtrig» (bibliothèque d'éléments, dossier «Déclencheurs»), et est écrite dans la variable «Commande pour enregistrer le point suivant».</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur le bord d'attaque du signal «Ouvrir la page du graphique», qui sera sélectionné à l'aide du bloc B31 - «Rtrig» (bibliothèque d'éléments, dossier «Déclencheurs»), le signal «Envoyer l'historique du graphique» sera généré. Par ce signal, le contenu des tableaux sera envoyé au panneau sur le graphique, dans lequel les valeurs des points affichant le graphique de changement sont stockées. Pour la température, cela se fera à l'aide du bloc B32 - «Envoi du tableau au graphe» (bibliothèque d'éléments -&gt; dossier «Nextion HMI Panel» -&gt; dossier «Graph»). Le bloc est configuré à l'aide de l'éditeur de blocs. </font></font><br>
<img src="https://habrastorage.org/files/5fb/d05/cef/5fbd05cefd09456e8070511636f2b086.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous devez d'abord créer un tableau dans lequel l'historique du graphique de température sera stocké. Pour ce faire, cliquez sur le bouton "Créer". La fenêtre de création de la baie s'ouvre.</font></font><br>
<img src="https://habrastorage.org/files/142/b76/73a/142b7673a7164af3a3e2b31dca1ba43d.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet océan, vous devez entrer le nom du tableau, tapez (utilisez Byte, car l'élément Waveform prend une valeur maximale de 255). La taille est prise égale à la largeur du graphique (330). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après la création, sélectionnez le panneau, la page, l'élément et le canal sur lesquels le graphique sera dessiné. </font></font><br>
<img src="https://habrastorage.org/files/f71/978/2ad/f719782ade3c46b390a3a7dbf3a033fe.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De la même manière, nous configurons le bloc pour l'envoi d'un tableau contenant des données d'humidité au panneau B33 - «Envoi du tableau au graphique» (bibliothèque d'éléments -&gt; dossier «Nextion HMI Panel» -&gt; dossier «Graph»). Dans ses paramètres, nous créons un autre tableau pour stocker ces données.</font></font><br>
<img src="https://habrastorage.org/files/e36/840/309/e368403092b34f3eb0db58524c9a49a9.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous devez maintenant préparer les données pour le graphique de température. Ce graphique aura une ligne le long de son axe à une hauteur de 160 points à partir du bas du graphique. Afin de rendre les changements de température plus visibles, nous divisons la valeur de la variable «Température x10» par 5 (c'est-à-dire comme si nous multiplions la valeur réelle de la température par 2) à l'aide du bloc B35 et y ajoutons le décalage à l'aide du bloc B36. Le résultat sera entré dans la variable "Température avec un décalage pour le graphique". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En utilisant le bloc B37 - "Stack" (bibliothèque d'éléments, dossier "tableaux"), l'impulsion de la variable "Commande pour enregistrer le point suivant" est écrite dans le tableau par la température avec un décalage pour le graphique en utilisant le principe de la pile (le premier élément du tableau est supprimé, les autres sont décalés de un et la dernière valeur est écrite). Le bloc est paramétré à l'aide de l'éditeur de blocs.</font></font><br>
<img src="https://habrastorage.org/files/668/d4d/876/668d4d8760444b6f830442c18c41df5f.PNG"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'éditeur, sélectionnez le tableau souhaité en cliquant sur le bouton "Sélectionner". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De la même manière, nous configurons le bloc B34 - «Stack» (bibliothèque d'éléments, dossier «tableaux») pour écrire les valeurs d'humidité dans le tableau en le sélectionnant dans le tableau correspondant.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Si la page du graphique est ouverte, le transfert des tableaux vers le graphique est terminé et la commande d'enregistrement du point suivant est reçue, puis les valeurs des nouveaux points sont envoyées aux graphiques correspondants. Cela est nécessaire pour que les graphiques continuent d'être créés pendant que la page s'affiche. Le respect de ces conditions est contrôlé à l'aide du bloc B38 - «ET» (bibliothèque d'éléments, dossier «Eléments de base»). Ce bloc émet une unité à sa sortie s'il y a une unité logique à toutes ses entrées. La prochaine valeur de température avec décalage est envoyée au graphique à l'aide du bloc B40 - «Ajouter un point au graphique» (bibliothèque d'éléments -&gt; dossier «Nextion HMI Panel» -&gt; dossier «Graph»). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bloquer les paramètres.</font></font><br>
<img src="https://habrastorage.org/files/826/975/791/826975791bc84fa0b74b983e80e9801f.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le bloc d'envoi de la prochaine valeur d'humidité au graphique B39 est également configuré - «Ajouter un point au graphique» (bibliothèque d'éléments -&gt; dossier «Nextion HMI Panel» -&gt; dossier «Chart»). </font></font><br>
 <img src="https://habrastorage.org/files/394/a98/598/394a985989944970ab877690a57a0469.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terminé avec la conclusion du calendrier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Carte 5. Réglez la luminosité du rétroéclairage. </font></font><br>
<img src="https://habrastorage.org/files/071/b32/d28/071b32d284934fdcaa7b74ed5d114a0b.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La valeur du rétroéclairage réglé à l'aide d'une résistance variable est lue à l'aide du bloc d'entrée analogique «Luminosité». Étant donné que la valeur de luminosité du rétroéclairage du panneau est définie dans la plage de 0 à 100, nous modifions la valeur de lecture de la plage 0-1023 à la plage 0-100 à l'aide du bloc B41 - «Échelle». </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bloquer les paramètres. </font></font><br>
<img src="https://habrastorage.org/files/594/bc6/fe5/594bc6fe5a9e4c109b944e61b5ff923d.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous déterminons le fait d'un changement de cette valeur à l'aide du bloc B42 - «Détecteur pour changer le nombre». Ce bloc a un peu de paramètres non standard.</font></font><br>
<img src="https://habrastorage.org/files/e6b/efc/d38/e6befcd383c94eb598388f9dea69eded.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin de ne pas modifier la luminosité pour chaque mouvement de la résistance variable, la zone morte est définie dans l'unité avec une valeur de 5. Autrement dit, l'unité fonctionnera lorsque la valeur d'entrée change de plus de 5 dans les deux sens. </font><font style="vertical-align: inherit;">Lorsque l'unité est déclenchée, une commande sera envoyée au panneau pour définir une nouvelle luminosité de rétroéclairage à l'aide du bloc B43 - «Définir le niveau de rétroéclairage» (bibliothèque d'éléments -&gt; dossier «Nextion HMI Panel» -&gt; dossier «Système»). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paramètres de blocage Le </font></font><br>
<img src="https://habrastorage.org/files/3f4/586/d48/3f4586d4862841daa811972fd96a2811.PNG"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
travail sur le programme du contrôleur est terminé.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour ceux qui sont intéressés par le code du skoller de croquis résultant.</font></font></b><div class="spoiler_text"><pre><code class="hljs cpp"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SoftwareSerial.h&gt;</span></span></span></span>
<span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"DHT.h"</span></span></span></span>
DHT _dht1(<span class="hljs-number"><span class="hljs-number">4</span></span>, DHT22);<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-function">SoftwareSerial </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Serial100</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>;<font></font>
<font></font>
byte _FLPArray142003126[<span class="hljs-number"><span class="hljs-number">330</span></span>] = {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> };<font></font>
byte _FLPArray239384258[<span class="hljs-number"><span class="hljs-number">330</span></span>] = {<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> };
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _SUETFLPATemp = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
byte _nextionSaveDataVAL_P0_E2;<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">long</span></span> _nextionSaveDataPCO_P0_E3;<font></font>
String _nextionSaveDataTXT_P0_E3;<font></font>
byte _nextionSaveDataPICC_P0_E4;<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _nextionSaveDataVAL_P1_E2;
<span class="hljs-keyword"><span class="hljs-keyword">long</span></span> _nextionSaveDataVAL_P1_E4;<font></font>
String _nextionCommandTempString;<font></font>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nextionLissenStruct</span></span></span><span class="hljs-class"> {</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> code;<font></font>
  String result;<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> number;<font></font>
};<font></font>
_nextionLissenStruct _nextionTempLissen;<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nextionGetPageIdTempVar = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> NextionPanel_47525121_PageIdOut = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _hasNumberChangeInTemp = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _gtv1;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _gtv2;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _gtv3 = <span class="hljs-number"><span class="hljs-number">290</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _gtv4 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _gtv5 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _gtv6;
<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> _dht1Tti = <span class="hljs-number"><span class="hljs-number">0U</span></span>L;
<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _dht1t = <span class="hljs-number"><span class="hljs-number">0.00</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> _dht1h = <span class="hljs-number"><span class="hljs-number">0.00</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _changeNumber1_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _changeNumber1_OLV;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr1_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr1_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr2_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr2_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt1 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt1I = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt2 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt2I = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr3_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr3_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">long</span></span> _swi1;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr4_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr4_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
byte _swi2;<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr5_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr5_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _changeNumber2_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _changeNumber2_OLV;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _swi3;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr6_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetAttr6_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt3 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt3I = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _gen1I = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _gen1O = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> _gen1P = <span class="hljs-number"><span class="hljs-number">0U</span></span>L;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt5 = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _trgrt5I = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionAddPointToWave1_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionAddPointToWave2_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _SFLPAS1;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _SFLPAS2;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSendArraytToWave1_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSendArraytToWave2_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _nextionSetLighting1_OldStae = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _changeNumber3_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;
<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> _changeNumber3_OLV;
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">
</span></span>{<font></font>
  Serial100.begin(<span class="hljs-number"><span class="hljs-number">9600</span></span>);<font></font>
  _dht1.begin();<font></font>
  nextionSendCommand(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
  nextionSendCommand(<span class="hljs-string"><span class="hljs-string">"page 0"</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
  delay(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">
</span></span>{ nextionGetPageIdTempVar = nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>);
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ! (nextionGetPageIdTempVar &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) ) {<font></font>
    NextionPanel_47525121_PageIdOut = nextionGetPageIdTempVar;<font></font>
  };<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_isTimer(_dht1Tti, <span class="hljs-number"><span class="hljs-number">5000</span></span>)) {<font></font>
    _dht1Tti = millis();<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> tempDht4;<font></font>
    tempDht4 = _dht1.readTemperature();<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(isnan(tempDht4))) {<font></font>
      _dht1t = tempDht4;<font></font>
    }<font></font>
    tempDht4 = _dht1.readHumidity();<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(isnan(tempDht4))) {<font></font>
      _dht1h = tempDht4;<font></font>
    }<font></font>
  }<font></font>
<font></font>
<font></font>
<font></font>
  _gtv1 = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>((_dht1t) * (<span class="hljs-number"><span class="hljs-number">10</span></span>)));<font></font>
  _gtv2 = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>(_dht1h));
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((_gtv1) &gt; (_gtv3)) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt1I) {<font></font>
      _trgrt1 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      _trgrt1 = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _trgrt1I = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _trgrt1 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    _trgrt1I = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  };<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((_gtv1) &gt; (_gtv3))<font></font>
  {<font></font>
    _swi1 = <span class="hljs-number"><span class="hljs-number">63488</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span><font></font>
  {<font></font>
    _swi1 = <span class="hljs-number"><span class="hljs-number">2016</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!((_gtv1) &gt; (_gtv3))) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt2I) {<font></font>
      _trgrt2 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      _trgrt2 = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _trgrt2I = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _trgrt2 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    _trgrt2I = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  };<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((_gtv1) &gt; (_gtv3))<font></font>
  {<font></font>
    _swi2 = <span class="hljs-number"><span class="hljs-number">2</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span><font></font>
  {<font></font>
    _swi2 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber1_Out) {<font></font>
    _changeNumber1_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _hasNumberChangeInTemp = _gtv1;<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_hasNumberChangeInTemp != _changeNumber1_OLV) {<font></font>
      _changeNumber1_OLV = _hasNumberChangeInTemp;<font></font>
      _changeNumber1_Out = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber1_Out) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr1_oldState ) {<font></font>
      _nextionSetAttr1_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr1_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataTXT_P0_E3 =  ((( _floatToStringWitRaz((_gtv1) / (<span class="hljs-number"><span class="hljs-number">10.00</span></span>), <span class="hljs-number"><span class="hljs-number">1</span></span>))) + (String(<span class="hljs-string"><span class="hljs-string">" C"</span></span>))) ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr1_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr1_isNU) {<font></font>
    _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page0.tnt.txt=\""</span></span>) + _nextionSaveDataTXT_P0_E3 + String(<span class="hljs-string"><span class="hljs-string">"\""</span></span>);<font></font>
    nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
    _nextionSetAttr1_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber1_Out) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr2_oldState ) {<font></font>
      _nextionSetAttr2_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr2_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataVAL_P0_E2 =  (<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((_gtv1), (<span class="hljs-number"><span class="hljs-number">-400</span></span>), (<span class="hljs-number"><span class="hljs-number">500</span></span>), (<span class="hljs-number"><span class="hljs-number">10</span></span>), (<span class="hljs-number"><span class="hljs-number">91</span></span>))) ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr2_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr2_isNU) {<font></font>
    _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page0.tpb.val="</span></span>) + String(_nextionSaveDataVAL_P0_E2);<font></font>
    nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
    _nextionSetAttr2_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (( (_trgrt1) || (_trgrt2) )) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr3_oldState ) {<font></font>
      _nextionSetAttr3_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr3_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataPCO_P0_E3 =  _swi1 ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr3_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr3_isNU) {<font></font>
      _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page0.tnt.pco="</span></span>) + String(_nextionSaveDataPCO_P0_E3);<font></font>
      nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
      _nextionCommandTempString = <span class="hljs-string"><span class="hljs-string">"ref tnt"</span></span>;<font></font>
      nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
      _nextionSetAttr3_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr3_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (( (_trgrt1) || (_trgrt2) )) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr4_oldState ) {<font></font>
      _nextionSetAttr4_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr4_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataPICC_P0_E4 =  _swi2 ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr4_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr4_isNU) {<font></font>
      _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page0.tci.picc="</span></span>) + String(_nextionSaveDataPICC_P0_E4);<font></font>
      nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
      _nextionCommandTempString = <span class="hljs-string"><span class="hljs-string">"ref tci"</span></span>;<font></font>
      nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
      _nextionSetAttr4_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr4_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((_gtv2), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">100</span></span>), (<span class="hljs-number"><span class="hljs-number">-46</span></span>), (<span class="hljs-number"><span class="hljs-number">226</span></span>)))) &lt; (<span class="hljs-number"><span class="hljs-number">0</span></span>))<font></font>
  {<font></font>
    _swi3 = ((<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((_gtv2), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">100</span></span>), (<span class="hljs-number"><span class="hljs-number">-46</span></span>), (<span class="hljs-number"><span class="hljs-number">226</span></span>)))) + (<span class="hljs-number"><span class="hljs-number">360</span></span>);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span><font></font>
  {<font></font>
    _swi3 = (<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>((_gtv2), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">100</span></span>), (<span class="hljs-number"><span class="hljs-number">-46</span></span>), (<span class="hljs-number"><span class="hljs-number">226</span></span>)));<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber2_Out) {<font></font>
    _changeNumber2_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _hasNumberChangeInTemp = _gtv2;<font></font>
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_hasNumberChangeInTemp != _changeNumber2_OLV) {<font></font>
      _changeNumber2_OLV = _hasNumberChangeInTemp;<font></font>
      _changeNumber2_Out = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber2_Out) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr5_oldState ) {<font></font>
      _nextionSetAttr5_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr5_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataVAL_P1_E4 =  _gtv2 ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr5_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr5_isNU) {<font></font>
    _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page1.humN.val="</span></span>) + String(_nextionSaveDataVAL_P1_E4);<font></font>
    nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
    _nextionSetAttr5_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber2_Out) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _nextionSetAttr6_oldState ) {<font></font>
      _nextionSetAttr6_oldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSetAttr6_isNU = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionSaveDataVAL_P1_E2 =  _swi3 ;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetAttr6_oldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_nextionSetAttr6_isNU) {<font></font>
    _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"page1.humG.val="</span></span>) + String(_nextionSaveDataVAL_P1_E2);<font></font>
    nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);  nextionAck(<span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
    _nextionSetAttr6_isNU = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (! _gen1I) {<font></font>
      _gen1I = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _gen1O = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _gen1P = millis();<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _gen1I = <span class="hljs-number"><span class="hljs-number">0</span></span> ;<font></font>
    _gen1O = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_gen1I) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( _isTimer ( _gen1P , <span class="hljs-number"><span class="hljs-number">5000</span></span> )) {<font></font>
      _gen1P = millis();<font></font>
      _gen1O = ! _gen1O;<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_gen1O) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt5I) {<font></font>
      _trgrt5 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      _trgrt5 = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _trgrt5I = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _trgrt5 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    _trgrt5I = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  };<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_gtv4) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt3I) {<font></font>
      _trgrt3 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
      _trgrt3 = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _trgrt3I = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _trgrt3 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
    _trgrt3I = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  };<font></font>
  _gtv4 = (NextionPanel_47525121_PageIdOut) == (<span class="hljs-number"><span class="hljs-number">2</span></span>);<font></font>
  _gtv5 = _trgrt5;<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt3) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ! _nextionAddPointToWave1_OldState) {<font></font>
      _nextionAddPointToWave1_OldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">2</span></span>) {
        <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nextionSATWTemp = <span class="hljs-number"><span class="hljs-number">0</span></span>;  nextionSATWTemp &lt; <span class="hljs-number"><span class="hljs-number">330</span></span>;  nextionSATWTemp ++) {<font></font>
          _nextionCommandTempString = String (<span class="hljs-string"><span class="hljs-string">"add 1,1,"</span></span>) + String (_FLPArray142003126[nextionSATWTemp]);<font></font>
          nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
        } delay (<span class="hljs-number"><span class="hljs-number">50</span></span>);<font></font>
      }<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionAddPointToWave1_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_trgrt3) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ! _nextionAddPointToWave2_OldState) {<font></font>
      _nextionAddPointToWave2_OldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">2</span></span>) {
        <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> nextionSATWTemp = <span class="hljs-number"><span class="hljs-number">0</span></span>;  nextionSATWTemp &lt; <span class="hljs-number"><span class="hljs-number">330</span></span>;  nextionSATWTemp ++) {<font></font>
          _nextionCommandTempString = String (<span class="hljs-string"><span class="hljs-string">"add 1,0,"</span></span>) + String (_FLPArray239384258[nextionSATWTemp]);<font></font>
          nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
        } delay (<span class="hljs-number"><span class="hljs-number">50</span></span>);<font></font>
      }<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionAddPointToWave2_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_gtv5) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_SFLPAS1) {<font></font>
      _SFLPAS1 =  <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (_SUETFLPATemp = <span class="hljs-number"><span class="hljs-number">0</span></span>; _SUETFLPATemp &lt; <span class="hljs-number"><span class="hljs-number">329</span></span>; _SUETFLPATemp = _SUETFLPATemp + <span class="hljs-number"><span class="hljs-number">1</span></span> ) {<font></font>
        _FLPArray239384258[_SUETFLPATemp ] = _FLPArray239384258[_SUETFLPATemp + <span class="hljs-number"><span class="hljs-number">1</span></span>];<font></font>
      }  _FLPArray239384258[<span class="hljs-number"><span class="hljs-number">329</span></span>] = _gtv2;<font></font>
    }<font></font>
  }  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _SFLPAS1 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  _gtv6 = ((_gtv1) / (<span class="hljs-number"><span class="hljs-number">5</span></span>)) + (<span class="hljs-number"><span class="hljs-number">160</span></span>);
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_gtv5) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_SFLPAS2) {<font></font>
      _SFLPAS2 =  <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (_SUETFLPATemp = <span class="hljs-number"><span class="hljs-number">0</span></span>; _SUETFLPATemp &lt; <span class="hljs-number"><span class="hljs-number">329</span></span>; _SUETFLPATemp = _SUETFLPATemp + <span class="hljs-number"><span class="hljs-number">1</span></span> ) {<font></font>
        _FLPArray142003126[_SUETFLPATemp ] = _FLPArray142003126[_SUETFLPATemp + <span class="hljs-number"><span class="hljs-number">1</span></span>];<font></font>
      }  _FLPArray142003126[<span class="hljs-number"><span class="hljs-number">329</span></span>] = _gtv6;<font></font>
    }<font></font>
  }  <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _SFLPAS2 = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (( (_gtv5) &amp;&amp; (!(_trgrt3)) &amp;&amp; (_gtv4) )) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ! _nextionSendArraytToWave1_OldState) {<font></font>
      _nextionSendArraytToWave1_OldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">2</span></span>) {<font></font>
        _nextionCommandTempString = String (<span class="hljs-string"><span class="hljs-string">"add 1,0,"</span></span>) + String (_gtv2);<font></font>
        nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>); delay (<span class="hljs-number"><span class="hljs-number">50</span></span>);<font></font>
      }<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSendArraytToWave1_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (( (_gtv5) &amp;&amp; (!(_trgrt3)) &amp;&amp; (_gtv4) )) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( ! _nextionSendArraytToWave2_OldState) {<font></font>
      _nextionSendArraytToWave2_OldState = <span class="hljs-number"><span class="hljs-number">1</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (nextionAskPageNamper(<span class="hljs-number"><span class="hljs-number">100</span></span>) == <span class="hljs-number"><span class="hljs-number">2</span></span>) {<font></font>
        _nextionCommandTempString = String (<span class="hljs-string"><span class="hljs-string">"add 1,1,"</span></span>) + String (_gtv6);<font></font>
        nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>); delay (<span class="hljs-number"><span class="hljs-number">50</span></span>);<font></font>
      }<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSendArraytToWave2_OldState = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber3_Out) {<font></font>
    _changeNumber3_Out = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _hasNumberChangeInTemp = (<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>(( (analogRead (<span class="hljs-number"><span class="hljs-number">0</span></span>))), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">1023</span></span>), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">100</span></span>)));
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((_hasNumberChangeInTemp &gt; _changeNumber3_OLV) &amp;&amp; ((_hasNumberChangeInTemp - _changeNumber3_OLV ) &gt; <span class="hljs-number"><span class="hljs-number">5</span></span>)) || ((_hasNumberChangeInTemp &lt; _changeNumber3_OLV) &amp;&amp; ((_changeNumber3_OLV - _hasNumberChangeInTemp ) &gt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ))<font></font>
    {<font></font>
      _changeNumber3_OLV = _hasNumberChangeInTemp;<font></font>
      _changeNumber3_Out = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
    }<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_changeNumber3_Out) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!(_nextionSetLighting1_OldStae)) {<font></font>
      _nextionSetLighting1_OldStae = <span class="hljs-number"><span class="hljs-number">1</span></span>;<font></font>
      _nextionCommandTempString = String(<span class="hljs-string"><span class="hljs-string">"dim="</span></span>) + String((<span class="hljs-built_in"><span class="hljs-built_in">map</span></span>(( (analogRead (<span class="hljs-number"><span class="hljs-number">0</span></span>))), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">1023</span></span>), (<span class="hljs-number"><span class="hljs-number">0</span></span>), (<span class="hljs-number"><span class="hljs-number">100</span></span>))));<font></font>
      nextionSendCommand(_nextionCommandTempString.c_str(), <span class="hljs-number"><span class="hljs-number">100</span></span>);<font></font>
    }<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    _nextionSetLighting1_OldStae = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
<font></font>
<font></font>
<font></font>
}<font></font>
<span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> _isTimer(<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> startTime, <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> period )<font></font>
{<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> currentTime;<font></font>
  currentTime = millis();<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentTime &gt;= startTime) {
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (currentTime &gt;= (startTime + period));<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (currentTime &gt;= (<span class="hljs-number"><span class="hljs-number">4294967295</span></span> - startTime + period));<font></font>
  }<font></font>
}<font></font>
String  _floatToStringWitRaz(<span class="hljs-keyword"><span class="hljs-keyword">float</span></span> value, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> raz)<font></font>
{<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> tv;
  <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ti = <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>(value);<font></font>
  String ts = String(ti);<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (raz == <span class="hljs-number"><span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ts;<font></font>
  }<font></font>
  ts += <span class="hljs-string"><span class="hljs-string">"."</span></span>;
  <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> tf = <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(value - ti);
  <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt;= raz; i++ )<font></font>
  {<font></font>
    tv = tf * <span class="hljs-number"><span class="hljs-number">10</span></span>;<font></font>
    ti = <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>(tv);<font></font>
    ts += String(ti);<font></font>
    tf = (tv - ti);<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ts;<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nextionSendCommand</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params">* cmd, byte port )</span></span></span><span class="hljs-function">
</span></span>{
  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (Serial100.available()) {<font></font>
    Serial100.read();<font></font>
  }<font></font>
  Serial100.print(cmd);<font></font>
  Serial100.write(<span class="hljs-number"><span class="hljs-number">0xFF</span></span>);<font></font>
  Serial100.write(<span class="hljs-number"><span class="hljs-number">0xFF</span></span>);<font></font>
  Serial100.write(<span class="hljs-number"><span class="hljs-number">0xFF</span></span>);<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-function">boolean </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nextionAck</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( byte port )</span></span></span><span class="hljs-function">
</span></span>{
  <span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> bytes[<span class="hljs-number"><span class="hljs-number">4</span></span>] = {<span class="hljs-number"><span class="hljs-number">0</span></span>};<font></font>
  Serial100.setTimeout(<span class="hljs-number"><span class="hljs-number">20</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(bytes) != Serial100.readBytes((<span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *)bytes, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(bytes))) {
    <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((bytes[<span class="hljs-number"><span class="hljs-number">1</span></span>] == <span class="hljs-number"><span class="hljs-number">0xFF</span></span>) &amp;&amp; (bytes[<span class="hljs-number"><span class="hljs-number">2</span></span>] == <span class="hljs-number"><span class="hljs-number">0xFF</span></span>) &amp;&amp; (bytes[<span class="hljs-number"><span class="hljs-number">3</span></span>] == <span class="hljs-number"><span class="hljs-number">0xFF</span></span>)) {
    <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (bytes[<span class="hljs-number"><span class="hljs-number">0</span></span>]) {
      <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0x00</span></span>:
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">0x01</span></span>:
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>:
        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>;<font></font>
    }<font></font>
  }<font></font>
}<font></font>
<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> _</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nextionLissenStruct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">nextionListen</span></span></span><span class="hljs-class">( </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">byte</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">port</span></span></span><span class="hljs-class"> )
{</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> _bite;
  <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> _end = <span class="hljs-number"><span class="hljs-number">0xff</span></span>;<font></font>
  String cmd;<font></font>
  _nextionLissenStruct temp;<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> countEnd = <span class="hljs-number"><span class="hljs-number">0</span></span>;<font></font>
  delay(<span class="hljs-number"><span class="hljs-number">10</span></span>);
  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (Serial100.available() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) {
    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Serial100.available() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) {<font></font>
      _bite = Serial100.read();<font></font>
      cmd += _bite;<font></font>
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_bite == _end) {<font></font>
        countEnd++;<font></font>
      }<font></font>
      <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (countEnd == <span class="hljs-number"><span class="hljs-number">3</span></span>) {
        <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;<font></font>
      }<font></font>
    }<font></font>
  }<font></font>
  temp.result = <span class="hljs-string"><span class="hljs-string">""</span></span>;<font></font>
  temp.code = <span class="hljs-string"><span class="hljs-string">'z'</span></span>;<font></font>
  temp.number = <span class="hljs-number"><span class="hljs-number">0</span></span>;
  <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (cmd[<span class="hljs-number"><span class="hljs-number">0</span></span>]) {
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'e'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'e'</span></span>;<font></font>
      countEnd = <span class="hljs-number"><span class="hljs-number">0</span></span>;
      <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; cmd.length(); i++) {
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (cmd[i] == _end) {<font></font>
          countEnd++;<font></font>
        }<font></font>
        temp.result += String(cmd[i], HEX);<font></font>
        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (countEnd == <span class="hljs-number"><span class="hljs-number">3</span></span>) {
          <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;<font></font>
        }<font></font>
        temp.result += <span class="hljs-string"><span class="hljs-string">" "</span></span>;<font></font>
      }<font></font>
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'f'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'f'</span></span>;<font></font>
      temp.result = String(cmd[<span class="hljs-number"><span class="hljs-number">1</span></span>], DEC);
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'g'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'g'</span></span>;<font></font>
      temp.result = String(cmd[<span class="hljs-number"><span class="hljs-number">2</span></span>], DEC) + <span class="hljs-string"><span class="hljs-string">","</span></span> + String(cmd[<span class="hljs-number"><span class="hljs-number">4</span></span>], DEC) + <span class="hljs-string"><span class="hljs-string">","</span></span> + String(cmd[<span class="hljs-number"><span class="hljs-number">5</span></span>], DEC);
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'h'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'h'</span></span>;<font></font>
      temp.result = String(cmd[<span class="hljs-number"><span class="hljs-number">2</span></span>], DEC) + <span class="hljs-string"><span class="hljs-string">","</span></span> + String(cmd[<span class="hljs-number"><span class="hljs-number">4</span></span>], DEC) + <span class="hljs-string"><span class="hljs-string">","</span></span> + String(cmd[<span class="hljs-number"><span class="hljs-number">5</span></span>], DEC);<font></font>
      temp.result = <span class="hljs-string"><span class="hljs-string">"68 "</span></span> + temp.result;
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'p'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'p'</span></span>;<font></font>
      temp.result = cmd.substring(<span class="hljs-number"><span class="hljs-number">1</span></span>, cmd.length() - <span class="hljs-number"><span class="hljs-number">3</span></span>);
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'q'</span></span>:<font></font>
      temp.code = <span class="hljs-string"><span class="hljs-string">'q'</span></span>;<font></font>
      temp.number = (cmd[<span class="hljs-number"><span class="hljs-number">4</span></span>] &lt;&lt; <span class="hljs-number"><span class="hljs-number">24</span></span>) | (cmd[<span class="hljs-number"><span class="hljs-number">3</span></span>] &lt;&lt; <span class="hljs-number"><span class="hljs-number">16</span></span>) | (cmd[<span class="hljs-number"><span class="hljs-number">2</span></span>] &lt;&lt; <span class="hljs-number"><span class="hljs-number">8</span></span>) | (cmd[<span class="hljs-number"><span class="hljs-number">1</span></span>]);
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;
    <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>:
      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;
      <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> temp;<font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nextionAskPageNamper</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(byte port)</span></span></span><span class="hljs-function">
</span></span>{
  <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> result;<font></font>
  _nextionLissenStruct temp;<font></font>
  nextionSendCommand(<span class="hljs-string"><span class="hljs-string">"sendme"</span></span>, port);<font></font>
  temp = nextionListen(port);<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((temp.code == <span class="hljs-string"><span class="hljs-string">'f'</span></span>) &amp;&amp; (temp.result != <span class="hljs-string"><span class="hljs-string">""</span></span>)) {<font></font>
    result = temp.result.toInt();<font></font>
  } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {<font></font>
    result = <span class="hljs-number"><span class="hljs-number">-1</span></span>;<font></font>
  }<font></font>
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result;<font></font>
}<font></font>
</code></pre></div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une courte vidéo avec une démonstration.</font></font><br>
<iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://www.youtube.com/embed/06SEOUOKbzs%3Ffeature%3Doembed&amp;usg=ALkJrhjTpea7E1bZan2agvNgIF91km7DhQ" frameborder="0" allowfullscreen=""></iframe><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Archivez avec le projet pour le panneau et le projet pour le contrôleur. </font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la prochaine leçon, nous apprendrons comment contrôler le contrôleur Arduino à partir du panneau.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr392685/">https://habr.com/ru/post/fr392685/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr392673/index.html">Constructeur d'imprimante SUNHOKEY 3D pendant le fonctionnement (deuxième partie)</a></li>
<li><a href="../fr392675/index.html">Une bouteille d'eau de condensation de l'air sera bientôt en vente</a></li>
<li><a href="../fr392677/index.html">Le moniteur pliant de 24 "vous permet de lire le contenu de nos smartphones si nécessaire</a></li>
<li><a href="../fr392679/index.html">Vie, intelligence, esprit, esprit</a></li>
<li><a href="../fr392683/index.html">Attaque des tiques</a></li>
<li><a href="../fr392687/index.html">Je me suis levé du garage</a></li>
<li><a href="../fr392691/index.html">Microsatellite pour grand espace</a></li>
<li><a href="../fr392693/index.html">Nouveau brevet d'Apple: MacBook sans clavier mécanique</a></li>
<li><a href="../fr392695/index.html">Et encore une fois de photographier la lune avec des moyens improvisés</a></li>
<li><a href="../fr392697/index.html">Un étudiant diplômé d'Astrakhan a développé un produit biologique pour protéger les cultures contre les maladies fongiques</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>