<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìÜ ‚ôæ ü•à Lokales (offline) npm-Repository ‚ôÄÔ∏è ü§Æ üë©‚Äçüöí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hintergrund 


 Als ich mich entschied, zu einem hohen Preis zu verkaufen, landete ich beim Arbeitgeber, wo es nicht nur im Industriekreis, sondern au...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lokales (offline) npm-Repository</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453614/"><p><img src="https://habrastorage.org/webt/39/e0/id/39e0idv0ornzrz6n09uxnwpvf3m.png"></p><br><h3>  Hintergrund </h3><br><p>  Als ich mich entschied, zu einem hohen Preis zu verkaufen, landete ich beim Arbeitgeber, wo es nicht nur im Industriekreis, sondern auch in der Jungfrau kein Internet gibt (die Situation ist in vielen sozusagen "Unternehmen" eigentlich nicht ungew√∂hnlich).  Es gibt einen IE in der Konsole, in dem Sie, mein lieber Leser, nat√ºrlich Habr oder Stackoverflow sehen k√∂nnen, aber nicht mehr.  Im Allgemeinen, wiederhole ich, ist die Situation nicht au√üergew√∂hnlich, man kann damit leben - hier liegt mein pers√∂nlicher Laptop, auf dem ich ihn schreibe, auf dem Tisch ... wird er von vielen Mitarbeitern als WLAN genutzt, ist er als Modem im Allgemeinen mobil, wenn er keine Verteidigung ist / Alle Dienste mit drei Buchstaben (hier rate ich Ihnen, auf offiziell teuren Wegen zu gehen, wie im Folgenden einige Worte aufgef√ºhrt werden) und es gibt keinen Funk√ºberwachungsdienst, dann k√∂nnen Sie alles mit Ihrem pers√∂nlichen Laptop tun (innerhalb des zul√§ssigen Bereichs :)). Zumindest sieht es bei uns so aus.  Es besteht die M√∂glichkeit, Dateien in die Entwicklungsumgebung zu ziehen, aber die Entscheidung, node_modules in der Codebasis zu belassen, hat mir nicht gefallen, und ich habe meine √Ñrmel hochgekrempelt (ich habe meine √Ñrmel oft hochgekrempelt, sowohl wegen des Wechsels von TFS zu git als auch wegen des lokalen Nuget-Repos). aber dies sind getrennte Geschichten, auch nicht ohne Drama, sondern irgendwie beim n√§chsten Mal).  Es gibt mehrere ziemlich teure L√∂sungen f√ºr das Problem, es ist durchaus m√∂glich, dass ich sogar Artifactory durchsetzen k√∂nnte, aber als ich mir vorstellte, wie viel dies dauern w√ºrde und vor allem, wie lange es entschieden, koordiniert und implementiert werden w√ºrde, wurde beschlossen, billig und w√ºtend zu handeln. </p><br><p>  <i>Haftungsausschluss: Da ich eine Windows-Umgebung hatte, beschreibe ich die Arbeit in der Windows-Konsole genau. Im Wesentlichen werden die Unterschiede jedoch erst am Ende auftreten, wenn Sie das Endergebnis als Dienst / Daemon erh√∂hen m√∂chten.</i> </p><br><h3>  Nicht Tomi, Seelenverwandter, wie? </h3><a name="habracut"></a><br><p>  In Aktion beteiligt: </p><br><ul><li>  Ein Computer mit Internetzugang - nennen Sie es <i>Quelle</i> </li><li>  Ein Computer ohne Zugriff in einem Unternehmensnetzwerk - nennen Sie ihn den <i>Zielcomputer</i> </li></ul><br><p>  Auf der Quelle und auf dem Zielcomputer muss node.js vorhanden sein (der einfachste Weg ist, wenn eine oder √§hnliche Versionen vorhanden sind). </p><br><p>  Erstellen Sie irgendwo einen Daddy an der Quelle und nennen Sie ihn beispielsweise verdaccio: </p><br><pre><code class="bash hljs">mkdir verdaccio <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> verdaccio</code> </pre> <br><p>  Nach der lokalen Installation von Verdaccio ist dies eine sehr n√ºtzliche Sache, die auf dem alten Sinopia-Projekt basiert.  Lesen Sie hier mehr: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://verdaccio.org/</a> . </p><br><p>  Kurz gesagt, dies ist ein Proxy f√ºr npm, der zwischengespeichert werden kann.  F√ºr so viele Benutzer dieses Pakets ist die wichtigste M√∂glichkeit die M√∂glichkeit, privat zu ver√∂ffentlichen. Mein Fall ist etwas anders. Ich wollte alles, was ich f√ºr die Arbeit ben√∂tige, und etwas mehr zwischenspeichern und dann alles auf den Zielcomputer √ºbertragen.  Mit Blick auf die Zukunft werde ich sagen, dass bis auf die √úbertragung von Node-Sass alles ziemlich schmerzlos verlief.  Es war die Wurzel ihrer Tarballs, die ich anderthalb Tage verbracht habe (es gibt einen nativen Teil, der w√§hrend der Installation aus dem Github geladen wird oder gyp wird, wenn es nicht geklappt hat, denken Sie dar√ºber nach, es wird auf jeder lokalen Entwicklungsmaschine gebaut, was v√∂llig unangenehm ist), aber es ist wahrscheinlich eine andere Geschichte auch. </p><br><p>  Hier ist alles einfach: </p><br><pre> <code class="bash hljs">npm i verdaccio</code> </pre> <br><p>  Im Allgemeinen wird im Handbuch empfohlen, die Installation global durchzuf√ºhren. Dies ist jedoch √ºberhaupt nicht erforderlich. Au√üerdem m√∂chten wir all diese Schande in einem Ordner lokalisieren, damit sie sp√§ter bequem kopiert werden kann.  Weil so ... </p><br><p>  F√ºhren Sie das Paket aus, es wird der Standardspeicher und die Standardkonfiguration erstellt: </p><br><pre> <code class="bash hljs">.\node_modules\.bin\verdaccio.cmd</code> </pre> <br><p><img src="https://habrastorage.org/webt/qg/pe/w2/qgpew2ztbix-dqcfmdgb7t0rcq8.png"></p><br><p>  Dann sagten uns nur alle, wo sich die Konfiguration befindet und an welchem ‚Äã‚ÄãPort wir h√§ngen. </p><br><p>  Im Prinzip k√∂nnen Sie bereits zu der angegebenen Adresse gehen und so etwas sehen: </p><br><p><img src="https://habrastorage.org/webt/7l/-g/cm/7l-gcmf6yzdnr9lxfmkksuxckla.png"></p><br><p>  Jetzt m√ºssen wir ein paar Dinge tun: </p><br><ul><li><p>  L√∂schen Sie den npm-Cache ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">weitere Details hier</a> , kurz gesagt, <em>beenden Sie</em> den Inhalt von <em>% AppData% / npm-Cache</em> ) </p><br></li><li><p>  Ausf√ºhren </p><br><pre> <code class="bash hljs">npm <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> registry http://localhost:4873/</code> </pre> <br></li><li><p>  Kopieren Sie config.yaml in unseren gem√ºtlichen verdaccio-Ordner </p><br></li><li><p>  Stellen Sie sicher, dass der Abschnitt mit den Uplinks in dieser Datei folgenderma√üen aussieht: </p><br><pre> <code class="plaintext hljs">uplinks: npmjs: url: https://registry.npmjs.org/ cache: true</code> </pre> <br></li><li><p>  Am Ende der Konfiguration hinzuf√ºgen: </p><br><pre> <code class="plaintext hljs">listen: - 0.0.0.0:4873</code> </pre> <br><p>  Wenn Sie dies nicht tun, k√∂nnen Sie die lokale Adresse sp√§ter auf dem Zielcomputer nicht erreichen. </p><br></li><li><p>  Eigentlich sind wir bereit, jetzt werden alle Pakete, die wir durch die npm-Installation mitnehmen, in ./storage abgelegt, was wir brauchen.  Wir stellen das Zielprojekt wieder her, setzen zus√§tzlich: </p><br></li></ul><br><pre> <code class="bash hljs">npm i node-windows</code> </pre> <br><p>  Das ist alles, danach nehmen wir den Ordner und senden ihn auf jede f√ºr Sie m√∂gliche Weise an den Zielcomputer (dort sind <strong>Administratorrechte</strong> erforderlich, ja).  Sie k√∂nnen bereits dort eine Datei im Stammverzeichnis des Ordners installservice.js erstellen: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Service = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'node-windows'</span></span>).Service; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> svc = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Service({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'VerdaccioSvc'</span></span>, <span class="hljs-attr"><span class="hljs-attr">description</span></span>: <span class="hljs-string"><span class="hljs-string">'Verdaccio - npm local repository'</span></span>, <span class="hljs-attr"><span class="hljs-attr">script</span></span>: <span class="hljs-string"><span class="hljs-string">' &lt;   &gt;\\node_modules\\verdaccio\\bin\\verdaccio'</span></span>, <span class="hljs-attr"><span class="hljs-attr">nodeOptions</span></span>: [] }); svc.on(<span class="hljs-string"><span class="hljs-string">'install'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{svc.start();}); svc.install();</code> </pre> <br><p>  Wir starten: </p><br><pre> <code class="bash hljs">node installservice.js</code> </pre> <br><p>  <strong>Viel Spa√ü!</strong> </p><br><p>  Im Allgemeinen haben wir es geschafft, ein lokales Repository mit ziemlich wenig Blut zu bekommen, Builds werden gebaut, Entwickler entwickeln alles auf dieser Welt an ihren Orten.  Und ja, bei der nachfolgenden Synchronisierung wird der Inhalt von <em>./storage kopiert</em> . </p><br><p>  All dies wurde teilweise als Memo niedergeschrieben, teilweise um Zeit f√ºr Sie zu sparen (die Aufgabe wird wahrscheinlich nicht zu oft gel√∂st), denn wenn eine Steinblume nicht herauskommt, k√∂nnen Sie gerne schreiben, es besteht die M√∂glichkeit, dass ich vergessen habe, eine Art von zu beschreiben Detail, und wenn ich nicht pl√∂tzlich vergessen habe, dann werde ich helfen ... </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de453614/">https://habr.com/ru/post/de453614/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de453598/index.html">Japan: ein Land mit so gesundem Menschenverstand, dass es an manchen Orten irrational ist</a></li>
<li><a href="../de453602/index.html">Leben Datenbanken in Kubernetes?</a></li>
<li><a href="../de453608/index.html">Pythonhosted.org wurde f√§lschlicherweise von Roskomnadzor blockiert</a></li>
<li><a href="../de453610/index.html">So verkaufen Sie SD-WAN-Gesch√§fte</a></li>
<li><a href="../de453612/index.html">Fu√üball in den Wolken - Mode oder Notwendigkeit?</a></li>
<li><a href="../de453616/index.html">Was ist falsch an dem Bundesgesetz ‚Äû√úber elektronische Signaturen‚Äú (63-FZ) und wie kann es behoben werden?</a></li>
<li><a href="../de453618/index.html">Wie wir mit Ideen arbeiten und wie LANBIX geboren wurde</a></li>
<li><a href="../de453622/index.html">G-Shield Chip Programmer: Schreiben digitaler Zertifikate auf Chips in der Produktionsphase</a></li>
<li><a href="../de453626/index.html">Abenteuer in einem separaten Stream. Yandex-Bericht</a></li>
<li><a href="../de453628/index.html">Wof√ºr wirst du in 20 Jahren bezahlen?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>