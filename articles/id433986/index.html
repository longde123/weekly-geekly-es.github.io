<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘ƒğŸ¼ ğŸ‘©ğŸ½â€ğŸ« ğŸ–ğŸ¾ Membuat Vuex Undo / Redo Plugin untuk VueJS ğŸš´ğŸ½ â™‹ï¸ ğŸ‘©ğŸ»â€âœˆï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ada banyak keuntungan untuk memusatkan status aplikasi Anda di toko Vuex. Satu keuntungan adalah bahwa semua transaksi dicatat. Ini memungkinkan Anda ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Membuat Vuex Undo / Redo Plugin untuk VueJS</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433986/"><p><img src="https://habrastorage.org/getpro/habr/post_images/1f1/ebf/e6f/1f1ebfe6f5ebbea55a11f845d21f5a3e.jpg" alt="gambar"></p><br><p>  Ada banyak keuntungan untuk memusatkan status aplikasi Anda di toko Vuex.  Satu keuntungan adalah bahwa semua transaksi dicatat.  Ini memungkinkan Anda untuk menggunakan fungsi yang mudah digunakan, seperti <em>debugging runtime</em> , di mana Anda dapat beralih di antara status sebelumnya untuk memisahkan tugas dari eksekusi. </p><br><p>  Pada artikel ini, saya akan menunjukkan cara membuat fungsi Undo / Redo Rollback / Return lanjut menggunakan Vuex, yang berfungsi mirip dengan debugging selama debugging.  Fitur ini dapat digunakan dalam berbagai skenario, dari bentuk kompleks hingga game berbasis browser. </p><br><p>  Anda dapat memeriksa <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kode yang sudah selesai di</a> sini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di Github</a> dan mencoba demo di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Codepen</a> ini.  Saya juga membuat plugin sebagai modul NPM yang disebut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">vuex-undo-redo</a> jika Anda ingin menggunakannya dalam suatu proyek. </p><a name="habracut"></a><br><blockquote>  Catatan: artikel ini awalnya diposting di sini <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di blog pengembang Vue.js</a> 2017/11/13. </blockquote><br><h2 id="nastroyka-plagina">  Konfigurasi plugin </h2><br><p>  Untuk membuat fitur ini dapat digunakan kembali, kami akan membuatnya sebagai plugin Vue.  Fungsi ini mengharuskan kami untuk menambahkan beberapa metode dan data ke instance Vue, jadi kami menyusun plugin sebagai mixin. </p><br><pre><code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { install(Vue) { Vue.mixin({ <span class="hljs-comment"><span class="hljs-comment">// Code goes here }); } };</span></span></code> </pre> <br><p>  Untuk menggunakannya dalam suatu proyek, kita cukup mengimpor plugin dan menghubungkannya: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> VuexUndoRedo <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./plugin.js'</span></span>; Vue.use(VuexUndoRedo);</code> </pre> <br><h2 id="ideya">  Ide </h2><br><p>  Fitur ini akan bekerja dengan memutar kembali mutasi terakhir jika pengguna ingin membatalkan, dan kemudian menerapkannya kembali jika ia ingin mengulanginya.  Bagaimana kita melakukan ini? </p><br><h2 id="podhod--1">  Pendekatan No. 1 </h2><br><p>  Pendekatan pertama yang mungkin adalah mengambil "snapshots" dari keadaan repositori setelah setiap mutasi dan menempatkan snapshot dalam array.  Untuk membatalkan / mengulang, kita bisa mendapatkan snapshot yang benar dan menggantinya dengan kondisi penyimpanan. </p><br><p>  Masalah dengan pendekatan ini adalah bahwa keadaan repositori adalah objek JavaScript.  Saat Anda meletakkan objek JavaScript dalam array, Anda cukup meletakkan referensi ke objek tersebut.  Implementasi naif, seperti berikut, tidak akan berfungsi: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> state = { ... }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> snapshot = []; <span class="hljs-comment"><span class="hljs-comment">// Push the first state snapshot.push(state); // Push the second state state.val = "new val"; snapshot.push(state); // Both snapshots are simply a reference to state console.log(snapshot[0] === snapshot[1]); // true</span></span></code> </pre> <br><p>  Pendekatan snapshot akan mengharuskan Anda pertama kali membuat klon keadaan sebelum mendorong.  Mengingat bahwa keadaan Vue menjadi reaktif dengan secara otomatis menambahkan fungsi get and set, itu tidak berfungsi dengan baik dengan kloning. </p><br><h3 id="podhod--2">  Pendekatan No. 2 </h3><br><p>  Pendekatan lain yang mungkin adalah mendaftarkan setiap mutasi tetap.  Untuk membatalkan, kami mengatur ulang toko ke keadaan awal dan kemudian menjalankan mutasi lagi;  semua kecuali yang terakhir.  Pengembalian konsep serupa. </p><br><p>  Dengan prinsip-prinsip Flux, memulai kembali mutasi dari kondisi awal yang sama idealnya membuat kembali keadaan.  Karena ini adalah pendekatan yang lebih bersih daripada yang pertama, mari kita lanjutkan. </p><br><h2 id="registraciya-mutaciy">  Pendaftaran mutasi </h2><br><p>  Vuex menawarkan metode API untuk berlangganan mutasi, yang dapat kita gunakan untuk mendaftarkannya.  Kami akan mengatur ini ke hook yang <code>created</code> .  Dalam panggilan balik, kita cukup meletakkan mutasi dalam array yang nantinya dapat dijalankan kembali. </p><br><pre> <code class="javascript hljs">Vue.mixin({ data() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">done</span></span>: [] } }, created() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">mutation</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.done.push(mutation); } } });</code> </pre> <br><h2 id="metod-otkata">  Metode rollback </h2><br><p>  Untuk membatalkan mutasi, kami menghapus repositori dan kemudian menjalankan kembali semua mutasi kecuali yang terakhir.  Berikut cara kerjanya: </p><br><ol><li>  Gunakan metode larik <code>pop</code> untuk menghapus mutasi terakhir. </li><li>  Hapus status penyimpanan menggunakan mutasi khusus <code>EMPTY_STATE</code> (dijelaskan di bawah) </li><li>  Ulangi setiap mutasi yang tersisa, perbaiki lagi di toko baru.  Harap dicatat bahwa metode berlangganan masih aktif selama proses ini, yaitu, setiap mutasi akan ditambahkan lagi.  Hapus segera dengan <code>pop</code> . </li></ol><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> EMPTY_STATE = <span class="hljs-string"><span class="hljs-string">'emptyState'</span></span>; Vue.mixin({ data() { ... }, created() { ... }, methods() { undo() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.done.pop(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.commit(EMPTY_STATE); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.done.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">mutation</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.commit(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${mutation.type}</span></span></span><span class="hljs-string">`</span></span>, mutation.payload); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.done.pop(); }); } } });</code> </pre> <br><h3 id="ochistka-store">  Toko pembersih </h3><br><p>  Setiap kali plugin ini digunakan, pengembang harus mengimplementasikan mutasi dalam repositori yang disebut emptyState.  Tantangannya adalah mengembalikan toko ke keadaan semula sehingga siap untuk pemulihan dari awal. </p><br><p>  Pengembang harus melakukan ini sendiri, karena plugin yang kami buat tidak memiliki akses ke toko, hanya ke instance Vue.  Berikut ini contoh implementasi: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vuex.Store({ <span class="hljs-attr"><span class="hljs-attr">state</span></span>: { <span class="hljs-attr"><span class="hljs-attr">myVal</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }, <span class="hljs-attr"><span class="hljs-attr">mutations</span></span>: { emptyState() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.replaceState({ <span class="hljs-attr"><span class="hljs-attr">myval</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span> }); } } });</code> </pre> <br><p>  Kembali ke plugin kami, mutasi <code>emptyState</code> tidak boleh ditambahkan ke daftar kami yang sudah <code>done</code> , karena kami tidak ingin komit kembali selama proses rollback.  Cegah ini dengan logika berikut: </p><br><pre> <code class="javascript hljs">Vue.mixin({ data() { ... }, created() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">mutation</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mutation.type !== EMPTY_STATE) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.done.push(mutation); } }); }, methods() { ... } });</code> </pre> <br><h2 id="metod-vozvrata">  Metode pengembalian </h2><br><p>  Mari kita buat properti data baru, <code>undone</code> yang akan menjadi array.  Saat kami menghapus mutasi terakhir yang <code>done</code> selama proses rollback, kami memasukkannya ke dalam array ini: </p><br><pre> <code class="javascript hljs">Vue.mixin({ data() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">done</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">undone</span></span>: [] } }, <span class="hljs-attr"><span class="hljs-attr">methods</span></span>: { undo() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.undone.push(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.done.pop()); ... } } });</code> </pre> <br><p>  Sekarang kita dapat membuat metode <code>redo</code> yang hanya akan mengambil mutasi <code>undone</code> terakhir ditambahkan dan <code>undone</code> kembali. </p><br><pre> <code class="javascript hljs">methods: { undo() { ... }, redo() { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> commit = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.undone.pop(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.commit(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${commit.type}</span></span></span><span class="hljs-string">`</span></span>, commit.payload); } }</code> </pre> <br><h3 id="vozvrat-dalshe-ne-vozmozhen">  Tidak mungkin kembali </h3><br><p>  Jika pengguna memulai pembatalan satu kali atau lebih dan kemudian membuat komit baru, konten yang <code>undone</code> akan dibatalkan.  Jika ini terjadi, kita harus mengosongkan yang <code>undone</code> . </p><br><p>  Kami dapat menemukan komitmen baru dari panggilan balik berlangganan kami saat menambahkan komit.  Namun, logikanya rumit, karena callback tidak memiliki cara yang jelas untuk mengetahui apa komit baru dan apa yang dibatalkan / diulang. </p><br><p>  Pendekatan termudah adalah dengan mengatur benderaMutasi baru.  Itu akan benar secara default, tetapi rollback dan kembali metode sementara akan mengaturnya ke false.  Jika mutasi disetel ke true, <code>subscribe</code> panggilan balik akan menghapus larik yang <code>undone</code> . </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { install(Vue) { Vue.mixin({ data() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">done</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">undone</span></span>: [], <span class="hljs-attr"><span class="hljs-attr">newMutation</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }; }, created() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.subscribe(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">mutation</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (mutation.type !== EMPTY_STATE) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.done.push(mutation); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.newMutation) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.undone = []; } }); }, <span class="hljs-attr"><span class="hljs-attr">methods</span></span>: { redo() { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> commit = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.undone.pop(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.newMutation = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.commit(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${commit.type}</span></span></span><span class="hljs-string">`</span></span>, commit.payload); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.newMutation = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }, undo() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.undone.push(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.done.pop()); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.newMutation = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.commit(EMPTY_STATE); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.done.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">mutation</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$store.commit(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${mutation.type}</span></span></span><span class="hljs-string">`</span></span>, mutation.payload); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.done.pop(); }); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.newMutation = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } } }); }, }</code> </pre> <br><p>  Fungsi utama sekarang lengkap!  Tambahkan plugin ke proyek Anda sendiri atau ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">demo saya</a> untuk mengujinya. </p><br><h3 id="publichnyy-api">  API publik </h3><br><p>  Dalam demo saya, Anda akan melihat bahwa tombol batal dan kembali dinonaktifkan jika fungsinya saat ini tidak memungkinkan.  Misalnya, jika belum ada komitmen, Anda jelas tidak dapat membatalkan atau mengulang.  Pengembang yang menggunakan plugin ini mungkin ingin menerapkan fungsi serupa. </p><br><p>  Untuk mengaktifkan ini, plugin dapat menyediakan dua properti yang dihitung, <code>canUndo</code> dan <code>canRedo</code> sebagai bagian dari API publik.  Ini sepele untuk diterapkan: </p><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { install(Vue) { Vue.mixin({ data() { ... }, created() { ... }, <span class="hljs-attr"><span class="hljs-attr">methods</span></span>: { ... }, <span class="hljs-attr"><span class="hljs-attr">computed</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">computed</span></span>: { canRedo() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.undone.length; }, canUndo() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.done.length; } }, }); }, }</code> </pre> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id433986/">https://habr.com/ru/post/id433986/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id433972/index.html">HolyJS 2018 Moskow melalui mata peserta</a></li>
<li><a href="../id433974/index.html">Chatbot Mendapat Pendengaran, atau Penderitaan Amatir</a></li>
<li><a href="../id433980/index.html">China meluncurkan lebih banyak roket ke orbit pada 2018 dibandingkan negara lain</a></li>
<li><a href="../id433982/index.html">Kecerdasan buatan dianggap sebagai sekelompok orang, yang menyebabkan kekhawatiran</a></li>
<li><a href="../id433984/index.html">Siswa Rusia menunggu di kompetisi AI internasional Microsoft</a></li>
<li><a href="../id433992/index.html">Debugger out-of-proses untuk C ++ di Visual Studio 2019</a></li>
<li><a href="../id433994/index.html">Alat Otomasi Kontrol Versi</a></li>
<li><a href="../id433996/index.html">Refleksi pada Manifesto Pengembang Sistem Cerdas</a></li>
<li><a href="../id433998/index.html">Pilihan investasi: 4 IPO terbesar perusahaan teknologi unicorn pada tahun 2019</a></li>
<li><a href="../id434000/index.html">Kebocoran data paling signifikan pada 2018. Bagian Dua (Juli-Desember)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>