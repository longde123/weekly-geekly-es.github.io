<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⤴️ 🗓️ 🧝🏽 Préchargement, prélecture et autres balises 🅿️ 💮 ❇️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il existe de nombreuses façons d'améliorer les performances Web . L'un d'eux est le préchargement du contenu qui sera nécessaire plus tard. Prélecture...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Préchargement, prélecture et autres balises</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445264/">  Il existe de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">nombreuses façons d'améliorer les performances Web</a> .  L'un d'eux est le préchargement du contenu qui sera nécessaire plus tard.  Prélecture CSS, rendu de prévisualisation pleine page ou résolution de nom de domaine.  Nous faisons tout à l'avance, puis affichons instantanément le résultat!  Ça a l'air cool. <br><br>  Encore plus cool, c'est qu'il est très facile à mettre en œuvre.  Cinq balises &lt;link rel&gt; donnent au navigateur une commande pour les actions préliminaires: <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prefetch"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/style.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"style"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"preload"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/style.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"style"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"preconnect"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://example.com"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dns-prefetch"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://example.com"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prerender"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://example.com/about.html"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <a name="habracut"></a><br>  Décrivez brièvement ce qu'ils font et quand les utiliser. <br><br>  Aller à: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">précharger</a> · <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">prefetch</a> · <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">preconnect</a> · <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dns-prefetch</a> · <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">prerender</a> <br><br><a name="preload"></a><h1>  précharger </h1><br>  <code>&lt;link rel= "preload"&gt;</code> indique au navigateur de charger et de mettre en cache la ressource (par exemple, un script ou une feuille de style) dès que possible.  Ceci est utile lorsque vous avez besoin d'une ressource quelques secondes après le chargement de la page - et que vous souhaitez accélérer le processus. <br><br>  Le navigateur ne fait rien avec la ressource après le chargement.  Les scripts ne sont pas exécutés, les feuilles de style ne sont pas appliquées.  La ressource est simplement mise en cache et immédiatement disponible sur demande. <br><br><h3>  Syntaxe </h3><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"preload"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/style.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"style"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  <code>href</code> pointe vers la ressource que vous souhaitez télécharger. <br><br>  <code>as</code> tout ce que vous pouvez télécharger dans un navigateur: <br><br><ul><li>  <code>style</code> pour les feuilles de style, <br></li><li>  <code>script</code> pour les scripts, <br></li><li>  <code>font</code> pour les polices, <br></li><li>  <code>fetch</code> ressources chargées à l'aide de <code>fetch()</code> ou <code>XMLHttpRequest</code> , <br></li><li>  voir la liste complète <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur MDN</a> . </li></ul><br>  Il est important de spécifier l'attribut <code>as</code> - cela permet au navigateur de prioriser et de planifier correctement les téléchargements. <br><br><h3>  Quand utiliser </h3><br>  Utilisez la précharge lorsque la ressource est nécessaire dans un avenir proche.  Par exemple: <br><br><ul><li>  Polices personnalisées à partir d'un fichier externe: <br><br><pre> <code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!-- index.html --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"index.css"</span></span></span><span class="hljs-tag"> /&gt;</span></span> /* index.css */ @font-face { src: url('comic-sans.woff2') format('woff2'); }</code> </pre> <br>  Par défaut, <code>comic-sans.woff2</code> ne commencera le chargement qu'après avoir chargé et <code>index.css</code> .  Afin de ne pas attendre aussi longtemps, vous pouvez télécharger la police plus tôt en utilisant <code>&lt;link rel= "preload"&gt;</code> : <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"preload"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"comic-sans.woff2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"font"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> </li><li>  Si vous divisez vos styles selon l'approche <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CSS critique</a> en deux parties, critique (pour un rendu immédiat) et non critique: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-comment"><span class="css"><span class="hljs-comment">/* Inlined critical styles */</span></span></span><span class="css"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">/* Custom JS that starts downloading non-critical styles */</span></span></span><span class="actionscript"> loadCSS(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'/app/non-critical.css'</span></span></span><span class="actionscript">); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Avec cette approche, les styles non critiques ne commenceront à se charger qu'au lancement de JavaScript, ce qui peut se produire quelques secondes après le rendu.  Au lieu d'attendre JS, utilisez <code>&lt;link rel= "preload"&gt;</code> pour démarrer le téléchargement plus tôt: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-comment"><span class="css"><span class="hljs-comment">/* Inlined critical styles */</span></span></span><span class="css"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"preload"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/app/non-critical.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"style"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">/* Custom JS that starts downloading non-critical styles */</span></span></span><span class="actionscript"> loadCSS(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'/app/non-critical.css'</span></span></span><span class="actionscript">); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </li></ul><br>  <b>N'abusez pas de la précharge</b> .  Si vous téléchargez tout de suite, le site n'accélèrera pas comme par magie, mais au contraire, cela empêchera le navigateur de planifier correctement le travail. <br><br>  <b>Ne confondez pas avec la prélecture</b> .  N'utilisez <code>&lt;link rel= "preload"&gt;</code> que si vous avez besoin d'une ressource immédiatement après le chargement de la page.  Si vous en avez besoin plus tard, par exemple, pour la page suivante, utilisez <code>&lt;link rel= "prefetch"&gt;</code> . <br><br><h3>  Détails </h3><br>  <b>Il s'agit d'une balise obligatoire</b> pour l'exécution par le navigateur (si elle la prend en charge), contrairement à toutes les autres balises &lt;link&gt; associées au préchargement.  Le navigateur doit télécharger la ressource spécifiée dans <code>&lt;link rel="preload"&gt;</code> .  Dans d'autres cas, il peut ignorer le préchargement, par exemple, s'il s'exécute sur une connexion lente. <br><br>  <b>Priorités</b>  Pour différentes ressources (styles, scripts, polices, etc.), les navigateurs attribuent généralement des priorités différentes afin de charger d'abord les ressources les plus importantes.  Dans ce cas, le navigateur priorise l'attribut as.  Pour le navigateur Chrome, vous pouvez voir le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tableau complet des priorités</a> . <br><br> <a href=""><img src="https://habrastorage.org/webt/i2/bf/vi/i2bfvijtqhb3wt6cnkcskwc55ew.png"></a> <br><br><a name="prefetch"></a><h1>  prélecture </h1><br>  <code>&lt;link rel= "prefetch"&gt;</code> demande au navigateur de télécharger et de mettre en cache la ressource (par exemple, un script ou une feuille de style) en arrière-plan.  Le téléchargement a lieu avec une faible priorité, il n'interfère donc pas avec des ressources plus importantes.  Ceci est utile si vous avez besoin de la ressource sur la page suivante et que vous souhaitez la mettre en cache à l'avance. <br><br>  Ici aussi, le navigateur ne fait rien avec la ressource après le chargement.  Les scripts ne sont pas exécutés, les feuilles de style ne sont pas appliquées.  La ressource est simplement mise en cache et immédiatement disponible sur demande. <br><br><h3>  Syntaxe </h3><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prefetch"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/style.css"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">as</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"style"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  <code>href</code> pointe vers la ressource que vous souhaitez télécharger. <br><br>  <code>as</code> tout ce que vous pouvez télécharger dans un navigateur: <br><br><ul><li>  <code>style</code> pour les feuilles de style, <br></li><li>  <code>script</code> pour les scripts, <br></li><li>  <code>font</code> pour les polices, <br></li><li>  <code>fetch</code> ressources chargées à l'aide de <code>fetch()</code> ou <code>XMLHttpRequest</code> , <br></li><li>  voir la liste complète <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur MDN</a> . </li></ul><br>  Il est important de spécifier l'attribut <code>as</code> - cela permet au navigateur de prioriser et de planifier correctement les téléchargements. <br><br><h3>  Quand utiliser </h3><br>  <b>Pour télécharger des ressources à partir d'autres pages</b> , si vous avez besoin d'une ressource d'une autre page et que vous souhaitez la précharger afin d'accélérer le rendu de cette page.  Par exemple: <br><br><ul><li>  Vous avez une boutique en ligne et 40% des utilisateurs passent de la page principale à la page du produit.  Utilisez <code>&lt;link rel= "prefetch"&gt;</code> lors du chargement des fichiers CSS et JS pour afficher les pages de produits. <br></li><li>  Vous avez une application d'une page et différentes pages chargent différents packages.  Lorsqu'un utilisateur visite une page, vous pouvez précharger des packages pour toutes les pages auxquelles il se réfère. </li></ul><br>  <b>Probablement, cette balise peut être utilisée en toute sécurité dans n'importe quel volume</b> .  Les navigateurs planifient généralement la prélecture avec la priorité la plus basse, donc cela ne dérange personne.  N'oubliez pas qu'il consomme du trafic utilisateur, ce qui peut coûter cher. <br><br>  <b>Pas pour les demandes urgentes</b> .  N'utilisez pas <code>&lt;link rel= "prefetch"&gt;</code> lorsque la ressource est nécessaire en quelques secondes.  Dans ce cas, utilisez <code>&lt;link rel= "preload"&gt;</code> . <br><br><h3>  Détails </h3><br>  <b>Balise facultative</b> .  Le navigateur n'est pas obligé de suivre cette instruction, il peut l'ignorer, par exemple, sur une connexion lente. <br><br>  <b>Priorité dans Chrome</b> .  Dans Chrome, <code>&lt;link rel= "prefetch"&gt;</code> généralement exécuté avec une priorité minimale (voir le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tableau des priorités complètes</a> ), c'est-à-dire après avoir téléchargé tout le reste. <br><br><a name="preconnect"></a><h1>  se connecter </h1><br>  <code>&lt;link rel= "preconnect"&gt;</code> demande au navigateur de se pré-connecter au domaine lorsque vous souhaitez accélérer la connexion à l'avenir. <br><br>  Le navigateur doit établir une connexion s'il récupère certaines ressources d'un nouveau domaine tiers.  Par exemple, si vous téléchargez des polices Google, des polices React à partir d'un CDN ou si vous demandez une réponse JSON à un serveur API. <br><br>  L'établissement d'une nouvelle connexion prend généralement plusieurs centaines de millisecondes.  C'est fait une fois, mais ça prend quand même du temps.  Si vous avez établi une connexion à l'avance, gagnez du temps et téléchargez plus rapidement les ressources de ce domaine. <br><br><h3>  Syntaxe </h3><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">= </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"preconnect"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://api.my-app.com"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  <code>href</code> indique le nom de domaine pour lequel vous souhaitez déterminer l'adresse IP.  Vous pouvez spécifier avec un préfixe ( <code>https://domain.com</code> ) ou sans celui-ci ( <code>//domain.com</code> ). <br><br><h3>  Quand utiliser </h3><br>  <b>Utilisez pour les domaines dont vous aurez bientôt besoin</b> de télécharger un style, un script ou une image important à partir de là, mais vous ne connaissez pas encore l'URL de la ressource.  Par exemple: <br><br><ul><li>  Votre application est hébergée sur <code>my-app.com</code> et fait des demandes AJAX à <code>api.my-app.com</code> : vous ne connaissez pas de demandes spécifiques à l'avance, car elles sont faites dynamiquement depuis JS.  Ici, il est tout à fait approprié d'utiliser une balise pour une connexion préliminaire à un domaine. <br></li><li>  Votre application est hébergée sur <code>my-app.com</code> et utilise les polices Google.  Ils sont téléchargés en deux étapes: d'abord, le fichier CSS est téléchargé depuis le domaine <code>fonts.googleapis.com</code> , puis ce fichier demande des polices à <code>fonts.gstatic.com</code> .  Vous ne pouvez pas connaître les fichiers de police spécifiques de <code>fonts.gstatic.com</code> vous aurez besoin jusqu'à ce que vous téléchargiez le fichier CSS, nous ne pouvons donc établir qu'une connexion préliminaire à l'avance. </li></ul><br>  <b>Utilisez cette balise pour accélérer un peu le style ou le script tiers en</b> préréglant la connexion. <br><br>  <b>N'abusez pas</b> .  L'établissement et le maintien d'une connexion est une opération coûteuse pour le client et le serveur.  Utilisez cette balise pour un maximum de 4 à 6 domaines. <br><br><h3>  Détails </h3><br>  <b>Balise facultative</b> .  Le navigateur n'est pas obligé de suivre cette instruction et peut l'ignorer, par exemple, si de nombreuses connexions sont déjà établies ou dans un autre cas. <br><br>  <b>Qui comprend le processus de connexion</b> .  Pour vous connecter à chaque site, le navigateur doit effectuer les étapes suivantes: <br><br><ul><li>  <i>Résolution DNS</i> .  Recherchez l'adresse IP du serveur ( <code>216.58.215.78</code> ) pour le nom de domaine spécifié ( <code>google.com</code> ). </li><li>  <i>Poignée de main TCP</i> .  Échange de paquets (client → serveur → client) pour établir une connexion TCP avec le serveur. </li><li>  <i>Prise de contact TLS (sites HTTPS uniquement)</i> .  Deux cycles d'échange de paquets (client → serveur → client → serveur → client) pour lancer une session TLS sécurisée. </li></ul><br>  Remarque: HTTP / 3 améliorera et accélérera le mécanisme de prise de contact, mais c'est encore loin. <br><br><a name="dns-prefetch"></a><h1>  dns-prefetch </h1><br>  <code>&lt;link rel= "dns-prefetch"&gt;</code> demande au navigateur de pré-résoudre le DNS du domaine à l'avance si vous y serez bientôt connecté et que vous souhaitez accélérer la connexion initiale. <br><br>  Le navigateur doit déterminer l'adresse IP du domaine s'il récupère certaines ressources du nouveau domaine tiers.  Par exemple, téléchargez des polices Google, des polices React à partir d'un CDN ou demandez une réponse JSON à un serveur API. <br><br>  Pour chaque nouveau domaine, la résolution DNS prend généralement environ 20 à 120 ms.  Cela n'affecte que le chargement de la première ressource à partir d'un domaine donné, mais représente toujours un retard.  Si vous implémentez la résolution DNS à l'avance, nous gagnerons du temps et chargerons la ressource plus rapidement. <br><br><h3>  Syntaxe </h3><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">= </span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"dns-prefetch"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://api.my-app.com"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  <code>href</code> indique le nom de domaine pour lequel définir une adresse IP.  Vous pouvez spécifier avec un préfixe ( <code>https://domain.com</code> ) ou sans celui-ci ( <code>//domain.com</code> ). <br><br><h3>  Quand utiliser </h3><br>  <b>Utilisez pour les domaines qui seront bientôt nécessaires</b> pour télécharger des ressources à partir de là que le navigateur ne connaît pas à l'avance.  Par exemple: <br><br><ul><li>  Votre application est hébergée sur <code>my-app.com</code> et fait des demandes AJAX à <code>api.my-app.com</code> : vous ne connaissez pas de demandes spécifiques à l'avance, car elles sont faites dynamiquement depuis JS.  Ici, il est tout à fait approprié d'utiliser une balise pour une connexion préliminaire à un domaine. <br></li><li>  Votre application est hébergée sur <code>my-app.com</code> et utilise les polices Google.  Ils sont téléchargés en deux étapes: d'abord, le fichier CSS est téléchargé depuis le domaine <code>fonts.googleapis.com</code> , puis ce fichier demande des polices à <code>fonts.gstatic.com</code> .  Vous ne pouvez pas connaître les fichiers de police spécifiques de <code>fonts.gstatic.com</code> vous aurez besoin jusqu'à ce que vous téléchargiez le fichier CSS, nous ne pouvons donc établir qu'une connexion préliminaire à l'avance. </li></ul><br>  <b>Utilisez cette balise pour accélérer un peu le style ou le script tiers en</b> préréglant la connexion. <br><br><blockquote>  Notez les spécifications similaires sur <code>&lt;link rel= "dns-prefetch"/&gt;</code> et <code>&lt;link rel= "preconnect"&gt;</code> .  Les utiliser ensemble pour le même domaine n'a généralement aucun sens: <code>&lt;link rel= "preconnect"&gt;</code> inclut déjà <code>&lt;link rel= "dns-prefetch"/&gt;</code> et bien plus encore.  Cela peut se justifier dans deux cas: <br><br><ul><li>  <i>Vous souhaitez prendre en charge les anciens navigateurs</i> .  <code>&lt;link rel= "dns-prefetch" /&gt;</code> est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pris en</a> charge <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">depuis IE10 et Safari 5</a> .  <code>&lt;link rel= "preconnect"&gt;</code> été pris en charge pendant un certain temps dans Chrome et Firefox, mais n'a été ajouté à Safari que dans 11.1 et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">n'est toujours pas pris en charge dans IE / Edge</a> .  Si vous devez prendre en charge ces navigateurs, utilisez <code>&lt;link rel= "dns-prefetch" /&gt;</code> comme <code>&lt;link rel= "preconnect"&gt;</code> de <code>&lt;link rel= "preconnect"&gt;</code> pour <code>&lt;link rel= "preconnect"&gt;</code> . </li><li>  <i>Vous souhaitez accélérer votre connexion à plus de 4 à 6 domaines</i> .  La <code>&lt;link rel= "preconnect"&gt;</code> pas recommandée pour une utilisation avec plus de 4 à 6 domaines, car établir et maintenir une connexion est une opération coûteuse.  <code>&lt;link rel= "dns-prefetch" /&gt;</code> consomme moins de ressources, utilisez-le donc si nécessaire. </li></ul></blockquote><br><h3>  Détails </h3><br>  <b>Balise facultative</b> .  Le navigateur n'est pas obligé de suivre cette instruction, par conséquent, il peut ne pas effectuer de résolution DNS, par exemple, s'il y a beaucoup de telles balises sur la page ou dans un autre cas. <br><br>  <b>Qu'est-ce que le DNS</b> .  Chaque serveur sur Internet a une adresse IP unique qui ressemble à <code>216.58.215.78</code> .  Le nom du site (par exemple, <code>google.com</code> ) est généralement entré dans la barre d'adresse du navigateur et les serveurs DNS (Domain Name System) le <code>216.58.215.78</code> l'adresse IP du serveur ( <code>216.58.215.78</code> ). <br><br>  Pour déterminer l'adresse IP, le navigateur doit interroger le serveur DNS.  Cela prend 20-120 ms lors de la connexion à un nouveau domaine tiers. <br><br>  <b>Le DNS est mis en cache, mais pas très fiable</b> .  Certains systèmes d'exploitation et navigateurs mettent en cache les requêtes DNS: cela vous fera gagner du temps sur les requêtes répétées, mais vous ne pouvez pas compter sur la mise en cache.  Sous Linux, cela ne fonctionne généralement pas du tout.  Chrome a un cache DNS, mais cela ne dure qu'une minute.  Windows met en cache les réponses DNS pendant cinq jours. <br><br><a name="prerender"></a><h1>  prétendant </h1><br>  <code>&lt;link rel= "prerender"&gt;</code> demande au navigateur de télécharger l'URL et de l'afficher sur un onglet invisible.  Lorsque l'utilisateur clique sur le lien, la page doit s'afficher immédiatement.  Ceci est utile si vous êtes sûr que l'utilisateur visitera une page spécifique et que vous souhaitez accélérer son affichage. <br><br>  Malgré l'efficacité exceptionnelle de cette balise (ou à cause d'elle), en 2019, <code>&lt;link rel= "prerender"&gt;</code> mal pris en charge par les principaux navigateurs.  Voir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ci</a> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dessous pour</a> plus de détails. <br><br><h3>  Syntaxe </h3><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"prerender"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"https://my-app.com/pricing"</span></span></span><span class="hljs-tag"> /&gt;</span></span></code> </pre> <br>  <code>href</code> pointe vers l'URL pour laquelle vous souhaitez exécuter le rendu en arrière-plan. <br><br><h3>  Quand utiliser </h3><br>  <b>Lorsque vous êtes vraiment sûr que l'utilisateur ira sur une page spécifique</b> .  Si vous avez un «tunnel» à travers lequel 70% des visiteurs de la page A vont à la page B, alors <code>&lt;link rel= "prerender"&gt;</code> à la page A aidera à afficher la page B très rapidement. <br><br>  <b>N'abusez pas</b> .  Le pré-rendu est extrêmement coûteux en termes de trafic et de mémoire.  N'utilisez pas <code>&lt;link rel= "prerender"&gt;</code> plus d'une page. <br><br><a name="1"></a><h3>  Détails </h3><br>  <b>Balise facultative</b> .  Le navigateur n'est pas obligé de suivre cette instruction et peut l'ignorer, par exemple sur une connexion lente ou lorsqu'il n'y a pas assez de mémoire libre. <br><br>  Pour économiser de la mémoire, <b>Chrome n'effectue pas le rendu complet</b> , mais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">seulement précharge NoState</a> .  Cela signifie que Chrome charge la page et toutes ses ressources, mais ne rend pas et n'exécute pas JavaScript. <br><br>  Firefox et Safari ne prennent pas du tout en charge cette balise.  Cela ne viole pas la spécification, car les navigateurs ne sont pas tenus de suivre cette instruction;  mais triste quand même.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le bogue d'implémentation</a> dans Firefox est ouvert depuis sept ans.  Il existe des rapports selon lesquels Safari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ne prend pas non plus en charge cette balise</a> . <br><br><h1>  Résumé </h1><br>  Utilisation: <br><br><ul><li>  <code>&lt;link rel= "preload"&gt;</code> - lorsque vous avez besoin d'une ressource en quelques secondes <br></li><li>  <code>&lt;link rel= "prefetch"&gt;</code> - lorsque vous avez besoin d'une ressource sur la page suivante <br></li><li>  <code>&lt;link rel= "preconnect"&gt;</code> - lorsque vous savez que vous aurez bientôt besoin d'une ressource, mais que vous ne connaissez pas encore son URL complète <br></li><li>  <code>&lt;link rel= "dns-prefetch"&gt;</code> - de même, lorsque vous savez que vous aurez bientôt besoin d'une ressource, mais que vous ne connaissez toujours pas son URL complète (pour les anciens navigateurs) <br></li><li>  <code>&lt;link rel= "prerender"&gt;</code> - lorsque vous êtes sûr que les utilisateurs accèdent à une page spécifique et souhaitent accélérer son affichage </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr445264/">https://habr.com/ru/post/fr445264/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr445254/index.html">Test des contrats intelligents Ethereum sur Go: au revoir, JavaScript</a></li>
<li><a href="../fr445256/index.html">Les cybercriminels contrôlent ASUS Live Update pendant cinq mois</a></li>
<li><a href="../fr445258/index.html">Comment supprimer en toute sécurité vos données de votre smartphone Android avant de les vendre</a></li>
<li><a href="../fr445260/index.html">Les robots se reconnaîtront-ils jamais vraiment? Les scientifiques s'orientent dans cette direction.</a></li>
<li><a href="../fr445262/index.html">GeekUniversity ouvre le recrutement au département Big Data d'Analytics</a></li>
<li><a href="../fr445266/index.html">GeekBrains et Rostelecom organiseront un IoT Hackathon</a></li>
<li><a href="../fr445268/index.html">Détails GraphQL: quoi, comment et pourquoi</a></li>
<li><a href="../fr445270/index.html">[signet] Bash pour les débutants: 21 commandes utiles</a></li>
<li><a href="../fr445272/index.html">JavaScript est le meilleur langage de programmation pour les débutants. C'est vrai ou pas?</a></li>
<li><a href="../fr445274/index.html">Lorsque "Zoë"! == "Zoë", ou pourquoi vous devez normaliser les chaînes Unicode</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>