<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•Ä ‚ÜñÔ∏è ü§æüèΩ Nube personal üìµ üàÇÔ∏è üßìüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El almacenamiento en la nube le permite no solo almacenar datos, sino tambi√©n colaborar con ellos en el NAS . 
 Posibles soluciones 


 Hay varias opc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nube personal</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430970/"><p><img src="https://habrastorage.org/webt/pp/rh/gv/pprhgvtoydiwu1ks2fpnobjszqm.png"></p><br><p>  El almacenamiento en la nube le permite no solo almacenar datos, sino tambi√©n colaborar con ellos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en el NAS</a> . </p><a name="habracut"></a><br><h2 id="vozmozhnye-resheniya">  Posibles soluciones </h2><br><p>  Hay varias opciones para los servicios en la nube: NextCloud, Seafile, Pydio, etc. <br>  Algunos de ellos se consideran a continuaci√≥n. </p><br><div class="spoiler">  <b class="spoiler_title">Implementaciones de servicios en la nube.</b> <div class="spoiler_text"><h3 id="owncloudhttpsowncloudorg">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Owncloud</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/fj/be/gx/fjbegxfckhsx7ww4y9b8_m10jsm.png"></a> </p><br><p>  Implementado en PHP / Javascript. </p><br><p>  Capacidades: </p><br><ul><li>  Es posible ampliar la funcionalidad instalando aplicaciones desde el repositorio en la nube. </li><li>  Hay integraci√≥n con la oficina de Collabora y OnlyOffice. </li><li>  Es posible utilizar repositorios existentes como FTP, Swift, S3, Dropbox, etc., <br>  compartir datos entre ellos y la nube local. </li><li>  Cifrado en el cliente. </li><li>  La capacidad de proporcionar archivos a usuarios externos por correo electr√≥nico. </li><li>  Hay automatizaci√≥n de las operaciones con archivos (por ejemplo, agregar etiquetas autom√°ticamente). </li><li>  LDAP </li><li>  Hay un reproductor de audio, una colecci√≥n de m√∫sica, una galer√≠a de complementos de lector de PDF. </li><li>  Integraci√≥n con Zimbra. </li><li>  Hay calendarios, listas de tareas, editores de texto, etc. </li><li>  Antivirus y protecci√≥n contra ransomware. </li><li>  Autenticaci√≥n de dos factores. </li><li>  La capacidad de hacerse pasar por otro usuario (para fines de depuraci√≥n). </li></ul><br><h3 id="nextcloudhttpsnextcloudorg">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">NextCloud</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/62/cb/lo/62cbloe--f5eaxvejke31jqk-r4.png"></a> </p><br><p>  Tenedor OwnCloud.  Implementado en PHP / Javascript. </p><br><p>  Capacidades: </p><br><ul><li>  Almacenamiento de archivos usando estructuras de directorios regulares, o usando WebDAV. </li><li>  Existe NextCloud Talk, a trav√©s del cual es posible hacer videollamadas y videoconferencias. </li><li>  Sincronizaci√≥n entre clientes que ejecutan Windows (Windows XP, Vista, 7 y 8), Mac OS X (10.6 y posterior) o Linux. </li><li>  Sincronizar con dispositivos m√≥viles. </li><li>  Calendario (tambi√©n como CalDAV). </li><li>  Programador de tareas. </li><li>  Libreta de direcciones (igual que CardDAV). </li><li>  Streaming de medios (utilizado por Ampache). </li><li>  Es compatible con diferentes proveedores de autorizaci√≥n: LDAP, OpenID, Shibboleth. </li><li>  Autorizaci√≥n de dos factores. </li><li>  Compartir contenido entre grupos o usar URL p√∫blicas.  Afinando las reglas. </li><li>  Un editor de texto en l√≠nea con resaltado de sintaxis y plegado.  Se anunci√≥ la compatibilidad con las versiones en l√≠nea de los editores de LibreOffice. </li><li>  Marcadores </li><li>  Mecanismo de acortamiento de URL. </li><li>  Galer√≠a de fotos </li><li>  Visor de PDF (usando PDF.js) </li><li>  Integraci√≥n con Collabora y OnlyOffice. </li><li>  M√≥dulo de registro. </li><li>  Posibilidad de crear sus propios sitios web (en PicoCMS). </li><li>  Integraci√≥n con Outlook y Thunderbird. </li><li>  Integraci√≥n de clientes en Gnome. </li><li>  Posibilidad de usar almacenamiento externo. </li><li>  B√∫squeda de texto completo. </li><li>  Integraci√≥n con antivirus. </li></ul><br><h3 id="sparklesharehttpwwwsparkleshareorg">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sparkleshare</a> </h3><br><p>  Implementado en C #. </p><br><p>  Capacidades: </p><br><ul><li>  Versionado </li><li>  Cifrado en el cliente. </li><li>  Sincronizaci√≥n transparente entre m√∫ltiples usuarios: los cambios remotos aparecer√°n en el directorio local dedicado a SparkleShare. </li></ul><br><p>  Caracteristicas: </p><br><ul><li>  Utiliza git como backend. </li></ul><br><h3 id="seafilehttpswwwseafilecom">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Archivo marino</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/gk/rb/op/gkrbopkni_o44lqncmhdeuqe2fa.png"></a> </p><br><p>  Implementado en C / Javascript. </p><br><p>  Capacidades: </p><br><ul><li>  Los archivos se pueden organizar en bibliotecas que se pueden sincronizar entre dispositivos. </li><li>  Hay un cliente que le permite crear un "disco" local, asignado a la nube. </li><li>  Cifrado incorporado.  Todos los archivos son encriptados por el cliente y almacenados en la nube encriptados. </li><li>  Soporte para dispositivos m√≥viles. </li><li>  Cifrado HTTS / TLS. </li><li>  Hay LDAP </li><li>  Derechos de ajuste fino. </li><li>  Versiones de archivos. </li><li>  Posibilidad de crear una instant√°nea de directorio, que luego puede devolverse. </li><li>  Deduplicaci√≥n </li><li>  Soporte de bloqueo de archivos. </li><li>  Coedici√≥n de archivos en l√≠nea. </li><li>  Antivirus </li><li>  Derechos de ajuste fino. </li><li>  Copia de seguridad peri√≥dica a trav√©s de rsync. </li><li>  WebDAV </li><li>  API REST </li><li>  Capacidad para integrarse con Collabora. </li></ul><br><p>  Caracteristicas: </p><br><ul><li>  R√°pido y poco exigente con los recursos. </li><li>  Se considera confiable. </li><li>  La configuraci√≥n de derechos a subdirectorios solo se admite en la versi√≥n Pro de pago. </li><li>  Integraci√≥n con antivirus, solo en la versi√≥n Pro. </li><li>  Auditor√≠a: solo en la versi√≥n Pro. </li><li>  B√∫squeda de texto completo: solo en la versi√≥n Pro. </li><li>  Integraci√≥n con S3 y Ceph, solo en la versi√≥n Pro. </li><li>  Visualizaci√≥n en l√≠nea de Doc / PPT / Excel, solo en la versi√≥n Pro. </li></ul><br><h3 id="pydiohttpspydiocom">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Pydio</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/v7/7n/he/v77nhe_y1o7wq8lkg7e1dhtp1ms.jpeg"></a> </p><br><p>  Implementado en PHP / Javascript. </p><br><p>  Capacidades: </p><br><ul><li>  Intercambio de archivos no solo entre usuarios, sino tambi√©n entre m√∫ltiples instancias de Pydio. </li><li>  Encriptaci√≥n SSL / TLS. </li><li>  WebDAV </li><li>  Capacidad para crear m√∫ltiples espacios de trabajo. </li><li>  Uso compartido de archivos con usuarios externos, con ajuste fino compartido (por ejemplo, enlaces directos, contrase√±a, etc.). </li><li>  Oficina incorporada de Collabora. </li><li>  Vista previa y edici√≥n de im√°genes. </li><li>  Hay un reproductor de audio y video incorporado. </li></ul><br><h3 id="projectsendhttpswwwprojectsendorg">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Proyecto</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/61/1k/uc/611kuc8ohfjs4ym7kajncgufowo.png"></a> </p><br><p>  Implementado en PHP / Javascript. </p><br><p>  Capacidades: </p><br><ul><li>  Es posible compartir archivos, tanto entre usuarios espec√≠ficos como entre grupos. </li><li>  Informe completo sobre operaciones de archivo. </li><li>  La capacidad de los usuarios externos para cargar archivos (con el fin de compartir, por ejemplo, la aplicaci√≥n de informes de errores). </li></ul><br><h3 id="spideroakhttpsspideroakcom">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SpiderOak</a> </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/w9/ce/k5/w9cek5imrxva3-chj9iejtwdh04.jpeg"></a> </p><br><p>  Capacidades: </p><br><ul><li>  Ahorre espacio de almacenamiento y tiempo de carga de archivos deduplicando y haciendo cambios a los archivos existentes (en lugar de sobrescribir todo el archivo). </li><li>  Sincronizaci√≥n multiplataforma personalizable. <br>  DropBox para sincronizaci√≥n crea una carpeta especial en la que es necesario colocar todos los archivos sincronizados.  SpiderOak puede funcionar con cualquier directorio. </li><li>  Guarde todas las versiones hist√≥ricas de archivos y archivos eliminados </li><li>  Compartir carpetas con los llamados ShareRooms, que establecen una contrase√±a. <br>  Los archivos actualizados en la computadora local se actualizan autom√°ticamente en el repositorio.  Los usuarios son notificados de los cambios a trav√©s de RSS. </li><li>  Reciba archivos desde cualquier dispositivo conectado a Internet. </li><li>  Cifrado de datos completo basado en el principio de "conocimiento cero". </li><li>  Soporte para un n√∫mero ilimitado de dispositivos. </li><li>  Cifrado de datos del lado del cliente. </li><li>  Autenticaci√≥n de dos factores. </li></ul><br><p>  Caracteristicas: </p><br><p>  Sistema cerrado de propiedad. </p><br><p>  Dado que este software es pagado y parcialmente cerrado, su uso est√° excluido. </p></div></div><br><h2 id="ustanovka-nextcloud">  Instalar NextCloud </h2><br><p>  Inicialmente, hab√≠a un deseo de usar Seafile: la parte del servidor se implementa en C, es eficiente y estable.  Pero result√≥ que la versi√≥n gratuita no lo tiene todo. </p><br><p>  Por lo tanto, prob√© Nextcloud y qued√© satisfecho.  Proporciona m√°s funciones y es completamente gratis. </p><br><p>  Puedes ver c√≥mo funciona en modo demo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </p><br><p>  Estas son las interfaces comunes entre el almacenamiento en la nube y el sistema: </p><br><ul><li> <code>/tank0/apps/cloud/nextcloud</code> : almacenamiento de servicios en la nube. </li><li>  <code>/tank0/apps/onlyoffice</code> : datos de la oficina. </li><li>  <code>https://cloud.NAS.cloudns.cc</code> - Interfaz de servicio en la nube WEB. </li></ul><br><p>  Porque  La configuraci√≥n de NextCloud es bastante voluminosa y consta de varios archivos, no los enumerar√© aqu√≠. </p><br><p>  Todo lo que necesita se puede encontrar en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">repositorio en Github</a> . </p><br><p>  La configuraci√≥n para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">SeaFile</a> tambi√©n est√° disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">all√≠</a> . </p><br><p>  Primero instale y ejecute NextCloud. </p><br><p>  Para hacer esto, copie la configuraci√≥n en el <code>/tank0/docker/services/nextcloud</code> y ejecute: </p><br><pre> <code class="plaintext hljs"># docker-compose up -d</code> </pre> <br><p>  Se construir√° una nueva imagen basada en Nextcloud 13.0.7.  Si desea cambiar la versi√≥n de la imagen base, h√°galo en la <code>app/Dockerfile</code> .  Uso la versi√≥n 15, pero vale la pena se√±alar que muchos complementos, como el cargador y las notas ocDownloader, no funcionan en √©l, y todav√≠a no he restaurado la funcionalidad de OnlyOffice. </p><br><p>  No not√© ninguna diferencia cardinal o una fuerte mejora en el rendimiento. </p><br><p>  A continuaci√≥n, creo que est√° utilizando la versi√≥n 13+. </p><br><p>  A continuaci√≥n, vaya a NextCloud y seleccione "Aplicaciones" en el men√∫ en la parte superior derecha, complete la instalaci√≥n de los complementos necesarios. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/sd/3y/rv/sd3yrvs5lqfdzig5smsbdasiiw0.png" alt="Aplicaciones"></a> </p><br><p>  Requerido: </p><br><ul><li>  <strong>Usuario LDAP y backend grupal</strong> - emparejamiento con LDAP. </li><li>  <strong>Soporte de almacenamiento externo</strong> : soporte para almacenamiento externo.  Ser√° necesario a√∫n m√°s, con el objetivo de integrar NextCloud y archivos compartidos, as√≠ como el emparejamiento con almacenamiento externo en la nube.  Hablar√© sobre la configuraci√≥n de almacenamiento externo en otro art√≠culo. </li><li>  <strong>ocDownloader</strong> : descargador de archivos.  Extiende la funcionalidad de la nube.  La imagen de Docker est√° especialmente reconstruida para que funcione. </li><li>  <strong>ONLYOFFICE</strong> - integraci√≥n de oficina.  Sin esta aplicaci√≥n, los archivos de documentos no se abrir√°n en la nube. </li><li>  <strong>Cifrado de extremo a</strong> extremo: cifrado de extremo <strong>a</strong> extremo en el cliente.  Si varios usuarios usan la nube, es necesario un complemento para garantizar convenientemente la seguridad de sus archivos. </li></ul><br><p>  Aplicaciones deseadas: </p><br><ul><li>  <strong>Configuraci√≥n de fuerza bruta</strong> : protecci√≥n contra la selecci√≥n de credenciales.  NextCloud est√° navegando por Internet, por lo que es mejor instalarlo. </li><li>  <strong>Suplantar</strong> : permite al administrador iniciar sesi√≥n con otros usuarios.  √ötil para depurar y solucionar problemas. </li><li>  <strong>Talk</strong> - video chat. </li><li>  <strong>Calendario</strong> : habla por s√≠ mismo, le permite mantener calendarios en la nube. </li><li>  <strong>Control de</strong> acceso a archivos: permite a los usuarios restringir el acceso a archivos y directorios en funci√≥n de etiquetas y reglas. </li><li>  <strong>Suma de comprobaci√≥n</strong> : le permite calcular y ver sumas de comprobaci√≥n de archivos. </li><li>  <strong>Sitios externos</strong> : crea enlaces a sitios arbitrarios en el panel en la parte superior. </li></ul><br><p>  Caracter√≠sticas del contenedor: </p><br><ul><li>  Aria2 bootloader instalado. </li><li>  Se instal√≥ el gestor de arranque Youtube-DL. </li><li>  Herramientas inotify instaladas. </li><li>  Aumento de los l√≠mites de memoria para PHP. </li><li>  El servidor web est√° configurado para funcionar mejor con LDAP. </li></ul><br><p>  Observo que si instala la versi√≥n 13+, pero luego decide actualizar a la versi√≥n 15, puede hacer esto y mucho m√°s utilizando la utilidad <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">occ</a> . </p><br><h3 id="ldap">  LDAP </h3><br><p>  Configurar LDAP no es trivial, porque te contar√© m√°s. </p><br><p>  Vaya a "Configuraci√≥n-&gt; Integraci√≥n con LDAP / AD". <br>  Agregue el servidor 172.21.0.1 con el puerto 389. <br>  Inicio de sesi√≥n: <code>cn=admin,dc=nas,dc=nas</code> . <br>  NextCloud puede administrar usuarios en la base de datos LDAP y para esto necesitar√° un administrador. </p><br><p> <a href=""><img src="https://habrastorage.org/webt/9n/tg/h9/9ntgh9xbg3rtfvjrqid6qbj0a5y.png"></a> </p><br><p>  Presione el bot√≥n "Comprobar configuraci√≥n de DN" y, si el indicador de verificaci√≥n es verde, el bot√≥n "Siguiente". </p><br><p>  Cada usuario tiene un atributo <code>inetOrgPerson</code> y es miembro del grupo <code>users_cloud</code> . </p><br><p>  El filtro se ver√° as√≠: </p><br><pre> <code class="plaintext hljs">(&amp;(|(objectclass=inetOrgPerson))(|(memberof=cn=users_cloud,ou=groups,dc=nas,dc=nas)))</code> </pre> <br><p>  Haga clic en "Comprobar la base de datos de configuraci√≥n y volver a contar los usuarios", y si todo es correcto, se debe mostrar el n√∫mero de usuarios.  Haga clic en Siguiente </p><br><p>  En la p√°gina siguiente, se configurar√° un filtro de usuario mediante el cual NextCloud los buscar√°. </p><br><p>  Filtro: </p><br><pre> <code class="plaintext hljs">Ôøº(&amp;(objectclass=inetOrgPerson)(uid=%uid))</code> </pre> <br><p>  En esta p√°gina, debe ingresar el inicio de sesi√≥n de un usuario y hacer clic en "Verificar configuraci√≥n". <br>  √öltima vez "Siguiente". </p><br><p>  Luego haga clic en "Avanzado" y verifique que el campo "Base de √°rbol de grupo" sea igual al campo "Base de √°rbol de usuario" y tenga el valor <code>dc=nas,dc=nas</code> . </p><br><p>  Regrese a los grupos y marque la casilla "Solo estas clases de <code>groupOfUniqueNames</code> " junto a <code>groupOfUniqueNames</code> . </p><br><p>  El filtro final aqu√≠ es este: </p><br><pre> <code class="plaintext hljs">(&amp;(|(objectclass=groupOfUniqueNames)))</code> </pre> <br><p>  El campo "Solo de estos grupos" no lo configur√© porque  Quiero ver a todos los usuarios en la interfaz de NextCloud, y aquellos que no son <code>users_cloud</code> grupo <code>users_cloud</code> son <code>users_cloud</code> por el filtro en la etapa anterior. </p><br><h2 id="onlyoffice">  Onlyoffice </h2><br><p> <a href=""><img src="https://habrastorage.org/webt/fr/rs/9e/frrs9euxco6_ycd8p_4a1y8bxiw.png"></a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">OnlyOffice</a> es un excelente conjunto de aplicaciones multiplataforma que admite documentos de MS Office.  Es gratuito y abierto, as√≠ como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">LibreOffice</a> y tambi√©n puede funcionar como servidor. </p><br><p>  Pero al mismo tiempo, el soporte para el formato original se implementa mucho mejor, casi como en la oficina original de MS, es m√°s estable, tiene una interfaz m√°s reflexiva. </p><br><p>  Tambi√©n se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">integra de f√°brica con NextCloud</a> . </p><br><p>  Por cierto, hay una versi√≥n de escritorio de OnlyOffice, incluso para Linux.  En general, despu√©s de haber sido atormentado con la colaboraci√≥n pesada e inestable (esto es LibreOffice), eleg√≠ OnlyOffice y hasta ahora estoy bastante satisfecho. </p><br><p>  La configuraci√≥n de OnlyOffice <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">est√° disponible en Github</a> y debajo, bajo el spoiler. </p><br><p>  Github tambi√©n tiene una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">configuraci√≥n para Collabora</a> . </p><br><div class="spoiler">  <b class="spoiler_title">/tank0/docker/services/office/onlyoffice/docker-compose.yml</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">version: '2' # https://helpcenter.onlyoffice.com/ru/server/docker/document/docker-installation.aspx networks: onlyoffice: driver: 'bridge' docker0: external: name: docker0 services: onlyoffice-redis: container_name: onlyoffice-redis image: redis restart: always networks: - onlyoffice expose: - '6379' onlyoffice-rabbitmq: container_name: onlyoffice-rabbitmq image: rabbitmq restart: always networks: - onlyoffice expose: - '5672' onlyoffice-postgresql: container_name: onlyoffice-postgresql image: postgres environment: - POSTGRES_DB=onlyoffice - POSTGRES_USER=onlyoffice networks: - onlyoffice restart: always expose: - '5432' volumes: - /tank0/apps/onlyoffice/postgresql_data:/var/lib/postgresql onlyoffice-documentserver-data: container_name: onlyoffice-documentserver-data image: onlyoffice/documentserver:latest environment: - ONLYOFFICE_DATA_CONTAINER=true - POSTGRESQL_SERVER_HOST=onlyoffice-postgresql - POSTGRESQL_SERVER_PORT=5432 - POSTGRESQL_SERVER_DB_NAME=onlyoffice - POSTGRESQL_SERVER_USER=onlyoffice - RABBITMQ_SERVER_URL=amqp://guest:guest@onlyoffice-rabbitmq - REDIS_SERVER_HOST=onlyoffice-redis - REDIS_SERVER_PORT=6379 stdin_open: true restart: always networks: - onlyoffice volumes: - /tank0/apps/onlyoffice/document-server-data/data:/var/www/onlyoffice/Data - /tank0/apps/onlyoffice/document-server-data/logs:/var/log/onlyoffice - /tank0/apps/onlyoffice/document-server-data/cache:/var/lib/onlyoffice/documentserver/App_Data/cache/files - /tank0/apps/onlyoffice/document-server-data/files:/var/www/onlyoffice/documentserver-example/public/files - /usr/share/fonts onlyoffice-documentserver: image: onlyoffice/documentserver:latest depends_on: - onlyoffice-postgresql - onlyoffice-redis - onlyoffice-rabbitmq - onlyoffice-documentserver-data environment: - ONLYOFFICE_DATA_CONTAINER_HOST=onlyoffice-documentserver-data - BALANCE=uri depth 3 - EXCLUDE_PORTS=443 - HTTP_CHECK=GET /healthcheck - EXTRA_SETTINGS=http-check expect string true - JWT_ENABLED=true - JWT_SECRET=&lt;JWT_SECRET_TOKEN&gt; # Uncomment the string below to redirect HTTP request to HTTPS request. #- FORCE_SSL=true - VIRTUAL_HOST=office.* - VIRTUAL_PORT=80 - VIRTUAL_PROTO=http - CERT_NAME=NAS.cloudns.cc stdin_open: true restart: always networks: - onlyoffice - docker0 expose: - '80' volumes: - /tank0/apps/onlyoffice/document-server/logs:/var/log/onlyoffice - /tank0/apps/onlyoffice/document-server/data:/var/www/onlyoffice/Data - /tank0/apps/onlyoffice/document-server/lib:/var/lib/onlyoffice - /tank0/apps/onlyoffice/document-server/db:/var/lib/postgresql volumes_from: - onlyoffice-documentserver-data</code> </pre> </div></div><br><p>  Explicar√© algunos puntos: </p><br><ul><li>  Debe cambiar &lt;JWT_SECRET_TOKEN&gt; a la suya, as√≠ como al NAS en el nombre de su zona DNS. </li><li>  No es necesario incluir HTTPS aqu√≠, porque aunque la oficina es visible desde el exterior, el intercambio con ella es a trav√©s de un proxy inverso, que funciona con el usuario exclusivamente a trav√©s de HTTPS.  As√≠ es como se construye la arquitectura NAS. </li></ul><br><p>  Ahora necesitas levantar la oficina: </p><br><pre> <code class="plaintext hljs">docker-compose up -d</code> </pre> <br><p>  Y, si todo funciona, la siguiente p√°gina estar√° en office.NAS.cloudns.cc: </p><br><p> <a href=""><img src="https://habrastorage.org/webt/nt/e6/nq/nte6nqehacnsc__jn_zpqja9hi0.png" alt="Solo la pantalla del servidor de oficina"></a> </p><br><p>  Luego, en la configuraci√≥n de NextCloud, debe seleccionar el elemento "Administraci√≥n-&gt; SOLO OFICINA" e ingresar la direcci√≥n del servidor de documentos en los dos primeros campos: <code>https://office.NAS.cloudns.cc/</code> y su token JWT. </p><br><p>  En el tercer campo, ingrese la direcci√≥n de la nube. </p><br><p>  Es posible generar un token JWT, por ejemplo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . </p><br><p>  Si el servidor est√° configurado correctamente, aparecer√°n elementos adicionales para documentos de Office en el men√∫ para crear documentos en la nube y se abrir√°n archivos <code>.docx</code> en la oficina. </p><br><h2 id="vyvody">  Conclusiones </h2><br><p>  El almacenamiento en la nube es el enlace central para la interacci√≥n del usuario entre ellos y otros servicios. </p><br><p>  En este rol, NextCloud es muy conveniente y tiene una amplia funcionalidad. </p><br><p>  Tiene su propio proceso de actualizaci√≥n entre versiones, pero en general, este repositorio puede ser recomendado. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es430970/">https://habr.com/ru/post/es430970/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es430960/index.html">Sobre gamedev de una exposici√≥n de escritorio</a></li>
<li><a href="../es430962/index.html">Razor Support en Visual Studio Code</a></li>
<li><a href="../es430964/index.html">Pensamiento declarativo</a></li>
<li><a href="../es430966/index.html">Sprints generales en Atlassian Jira Software</a></li>
<li><a href="../es430968/index.html">"La mente est√° en l√≠nea". Drones est√°n en todas partes</a></li>
<li><a href="../es430972/index.html">node.js serveride: funciona con errores. Parte 1</a></li>
<li><a href="../es430974/index.html">Gran recorrido fotogr√°fico de la nube de Mosc√∫ 1cloud</a></li>
<li><a href="../es430976/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 276 (del 19 al 25 de noviembre)</a></li>
<li><a href="../es430978/index.html">¬øCu√°nto tiempo pasaste en pel√≠culas?</a></li>
<li><a href="../es430980/index.html">"Todo el mundo a veces quiere mirar al gato": estamos hablando de marketing de contenidos en el podcast GLPH</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>