<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòõ üé° üëÜüèº Unterhaltsames JavaScript: Eine fast lineare Gleichung üë©‚Äçüé® üÜï üîé</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Was ist, wenn wir wunderbare Mathematik (n√§mlich lineare Gleichungen) und unser ebenso wundervolles JavaScript nehmen und dann einander √ºberlagern? Un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Unterhaltsames JavaScript: Eine fast lineare Gleichung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/semrush/blog/475594/">  Was ist, wenn wir wunderbare Mathematik (n√§mlich lineare Gleichungen) und unser ebenso wundervolles <b>JavaScript nehmen</b> und dann einander √ºberlagern?  Unter den Bedingungen der Einschr√§nkungen und Besonderheiten der js-Umgebung kann sich ein einfaches mathematisches Problem in ein sehr merkw√ºrdiges und voller Fallen von js-Steinen verwandeln.  Bei der letzten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">HolyJS 19-</a> Konferenz in Moskau machte eine solche lineare Gleichung (neben anderen Aufgaben von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SEMrush</a> ) ziemlich viel L√§rm. <br><br><img src="https://habrastorage.org/webt/9g/kg/wb/9gkgwb96ttlrqlsnqmqgmnjygyu.jpeg"><br><br>  Und ja, das ist wieder die √úberschrift von Entertaining JavaScript: Ich bitte Sie, alle auszuschneiden, die sich daf√ºr interessieren. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Bisherige Aufgaben</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Schneetag</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klammerverschleierung</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Der k√ºrzeste Memoizer</a> <br></div></div><br>  Nat√ºrlich sollte alles, was im Folgenden beschrieben wird - dies ist nur ein leichtfertiger Versuch, zwei wundervolle Dinge in Symbiose zu bringen, um Spa√ü zu haben - nicht ernst genommen werden.  Und dieses Material h√§tte es nicht gegeben, wenn nicht das lebhafte Interesse der Konferenzteilnehmer geweckt worden w√§re, wof√ºr ihnen ein besonderer Dank gilt! <br><br><h3>  Formulierung </h3><br>  1. Finden Sie alle ganzzahligen L√∂sungen der Gleichung: <br><br><pre><code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br>  2. Finden Sie alle ganzzahligen L√∂sungen der Gleichung: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  Die zweite Gleichung unterscheidet sich von der ersten nur durch eine zus√§tzliche Operation auf der rechten Seite. <br><br><h3>  Mathematische Approximation </h3><br>  Wir wenden uns der ersten Gleichung zu.  Zun√§chst werden wir die Priorit√§ten der verwendeten Operationen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gem√§√ü der Tabelle</a> verstehen: <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">9</span></span> +(~ x)) &gt;&gt; (<span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>) = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br>  Wir nehmen die bitweise Negation von <i>x</i> und addieren sie zu 9. Das Ergebnis der Addition wird bitweise um die Anzahl der Bits nach rechts verschoben, die dem Ergebnis der Division von 6 durch 3 entspricht. <br><br>  Offensichtlich liegt das Problem in der Verwendung bitweiser Operationen f√ºr das gew√ºnschte <i>x</i> .  Um jedoch eine bedingte Wurzel f√ºr weitere √úberlegungen zu finden, lohnt es sich, die Gleichung zu einem ungef√§hren mathematischen Analogon zu bringen. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bitweise Operationen</a> arbeiten mit Operanden als vorzeichenbehaftete 32-Bit-Ganzzahlen.  Das bitweise NICHT kann durch <b>eine ganzzahlige</b> Negation aus dem Inkrement ersetzt werden: <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">9</span></span> -(x + <span class="hljs-number"><span class="hljs-number">1</span></span>)) &gt;&gt; (<span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>) = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> (<span class="hljs-number"><span class="hljs-number">8</span></span> - x) &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br>  Die bitweise Verschiebung nach rechts (unter Beibehaltung des Vorzeichens) kann durch eine <b>ganzzahlige</b> Division durch zwei bis zu dem Grad ersetzt werden, der dem Operanden auf der rechten Seite entspricht: <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">8</span></span> - x) / <span class="hljs-number"><span class="hljs-number">2</span></span>^<span class="hljs-number"><span class="hljs-number">2</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> (<span class="hljs-number"><span class="hljs-number">8</span></span> - x) / <span class="hljs-number"><span class="hljs-number">4</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br>  Nat√ºrlich sind diese Ersetzungen sehr willk√ºrlich, und wir werden sp√§ter dar√ºber sprechen.  Und jetzt haben wir die √ºbliche lineare Gleichung, deren einzige Wurzel -24 ist.  Ersetzen Sie den Wert auf der linken und rechten Seite der urspr√ºnglichen Gleichung: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ (<span class="hljs-number"><span class="hljs-number">-24</span></span>) &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-comment"><span class="hljs-comment">// = 8 -(-24) / 3; // = 8</span></span></code> </pre><br>  Beide Teile sind gleich, was bedeutet, dass nicht alles so hoffnungslos ist und -24 wirklich eine L√∂sung ist. <br><br><h3>  Suche nach den Faulen </h3><br>  Wenn wir Graphen der Funktionen <i>f1 (x) = (8 -x) / 4</i> und <i>f2 (x) = -x / 3</i> zeichnen, finden wir nat√ºrlich den einzigen Schnittpunkt der beiden Linien bei <i>x = -24</i> . <br><br><img src="https://habrastorage.org/webt/lq/-u/eq/lq-ueqg2tcs4_kuacbct4ry7lee.png"><br><br>  Wir haben jedoch einige ungleiche Substitutionen mit bitweisen Operationen im linken Ausdruck durchgef√ºhrt, so dass der Graph der Funktion <i>f1</i> in Wirklichkeit etwas anders sein wird.  F√ºr jedes <i>x ist der</i> Wert der Funktion eine ganze Zahl, die sich von dem Wert auf der durchgehenden Linie <i>f1 unterscheidet,</i> mit einer m√∂glichen Verschiebung im Bereich von -1 bis 1. Dies bedeutet, dass wir den L√∂sungssuchbereich nach links und rechts von -24 einschr√§nken k√∂nnen, wobei die Werte der Funktionen <i>f1</i> und <i>f2</i> beginnen, sich um mehr als eins zu unterscheiden. <br><br>  Um die Grenzen des Suchbereichs zu finden, k√∂nnen Sie 1) die Ungleichung mit dem Modul l√∂sen oder 2) die Diagramme der Funktionen genauer betrachten.  Wir werden feststellen, dass <i>x</i> einen Blick auf das Segment wert ist [-36, -12]: <br><br><pre> <code class="javascript hljs">| (<span class="hljs-number"><span class="hljs-number">8</span></span> - x) / <span class="hljs-number"><span class="hljs-number">4</span></span> + x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span></span></span></code> </pre><br><img src="https://habrastorage.org/webt/js/cu/zy/jscuzy-3pnej3cnxpbiuor4lzus.png"><br><br>  Um ganze L√∂sungen in einem geschlossenen Bereich <i>durchlaufen zu</i> k√∂nnen <i>,</i> schreiben wir die <i>findx-</i> Funktion: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> findx = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">f, beg, end</span></span></span><span class="hljs-function">) =&gt;</span></span> [...Array(end - beg + <span class="hljs-number"><span class="hljs-number">1</span></span>)].map(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_, i</span></span></span><span class="hljs-function">) =&gt;</span></span> i + beg).filter(f);</code> </pre><br>  Die Funktion gibt ein Array von Ganzzahlen zur√ºck, f√ºr die der Wert der √ºbergebenen Funktion <i>f</i> auf <i>true</i> reduziert wird.  Um L√∂sungen zu finden, stellen wir die Gleichung mit dem Gleichheitsoperator als js-Funktion dar: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> eq1 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> == -x / <span class="hljs-number"><span class="hljs-number">3</span></span>; findx(eq1, <span class="hljs-number"><span class="hljs-number">-36</span></span>, <span class="hljs-number"><span class="hljs-number">-12</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [-24, -21, -18, -15]</span></span></code> </pre><br>  Somit sind <i>x</i> = [-24, -21, -18, -15] die gew√ºnschten L√∂sungen f√ºr die erste Gleichung. <br><br><h3>  Grafische L√∂sung </h3><br>  Die Aufz√§hlung ist nat√ºrlich ein Erfolg, aber lassen Sie uns den Graphen der Funktion <i>f1 noch</i> bis zum Ende herausfinden und die Gleichung grafisch l√∂sen.  Dar√ºber hinaus impliziert die L√∂sung nicht das obligatorische Eigentum an der Browserkonsole. <br><br>  Der bitweise NOT-Operator verwirft einfach den Bruchteil, wodurch das Ergebnis <i>- (x + 1)</i> abgerundet wird.  Der Bitverschiebungsoperator ist etwas komplizierter.  Wir haben es durch eine Ganzzahldivision ersetzt, aber abh√§ngig vom Vorzeichen der Dividendenzahl rundet diese Operation das Ergebnis entweder nach unten oder nach oben: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">10</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-comment"><span class="hljs-comment">// = 2 -10 &gt;&gt; 2; // = -3</span></span></code> </pre><br>  Wir wissen jedoch, dass das gew√ºnschte <i>x</i> im Bereich [-36, -12] liegt.  Dementsprechend liegt der linke Operand der bitweisen Verschiebung ( <i>8-x</i> ) im Bereich [20, 44], das hei√üt, er ist immer positiv.  Was wiederum eine ganzzahlige Division mit Abrundung bedeutet. <br><br>  Nachdem wir die Art der Operationen herausgefunden haben, k√∂nnen wir den korrekten Graphen der Funktion <i>f1</i> zeichnen: <br><br><img src="https://habrastorage.org/webt/-z/-e/69/-z-e69kdpamkon9l-tnprrtwvxw.png"><br><br>  Wir finden vier Schnittpunkte der Funktionen in den gleichen Koordinaten <i>x</i> = [-24, -21, -18, -15]. <br><br><h3>  Zweite Gleichung </h3><br>  Also kamen wir zur zweiten Gleichung: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  Sie unterscheidet sich von der ersten durch das Hinzuf√ºgen eines bitweisen ODER.  Wenn der rechte Operand einer solchen Operation Null ist, ist das Ergebnis einfach der Wert des linken Operanden, wobei der Bruchteil verworfen wird. <br><br>  Lassen Sie uns zun√§chst dieselbe Suche durchf√ºhren. Legen Sie einfach den Suchbereich fest.  Da die Funktion <i>f2</i> jetzt einen √§hnlichen Charakter wie <i>f1 hat</i> , sollte aus Gr√ºnden der Zuverl√§ssigkeit eine m√∂gliche Verschiebung aufsummiert und die Suche begrenzt werden, wenn sich die Funktionen im absoluten Wert um mehr als zwei Einheiten unterscheiden - dies ist [-48, 0]. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> eq2 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> == -x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span>; findx(eq2, <span class="hljs-number"><span class="hljs-number">-48</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [-24, -21, -18, -15]</span></span></code> </pre><br>  Und wir haben die gleichen Antworten bekommen.  Es besteht der Verdacht, dass doch etwas nicht stimmt.  Fakt ist jedoch, dass wir die urspr√ºngliche Gleichung als eine solche js-Funktion dargestellt haben und die beiden Ausdr√ºcke (links und rechts) durch den Gleichheitsoperator zu einem zusammengefasst haben.  Und der Gleichheitsoperator hat seine Priorit√§t, die h√∂her ist als die Priorit√§t des bitweisen ODER.  Die Funktion ist identisch mit: <br><br><pre> <code class="javascript hljs">x =&gt; (<span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> == -x / <span class="hljs-number"><span class="hljs-number">3</span></span>) | <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre><br>  In diesem Fall hat ein bitweises ODER keine Auswirkung, da <i>true |</i>  <i>0 = 1</i> .  Um dies zu vermeiden, muss im Funktionsk√∂rper explizit angegeben werden, dass die Ergebnisse zweier Unterausdr√ºcke verglichen werden: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> eq2 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> (<span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>) == (-x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span>); findx(eq2, <span class="hljs-number"><span class="hljs-number">-48</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [-32, -29, -28, -26, -25, -24, -23, -22, -21, -19, -18, -15]</span></span></code> </pre><br>  Die Anzahl der L√∂sungen hat zugenommen.  Betrachten wir nun die Funktionsgraphen.  Analog zu <i>f1</i> konstruiert eine ‚ÄûTrittleiter‚Äú eine modifizierte Funktion <i>f2</i> : <br><br><img src="https://habrastorage.org/webt/fc/gs/lm/fcgslmjdbg0xaigr5mumxtmuyh0.png"><br><br>  Orte von Funktionsgraphen √ºberlappen sich, aber wir interessieren uns nur f√ºr Punkte mit einem ganzzahligen Wert der <i>x-</i> Koordinate: [-32, -29, -28, -26, -25, -24, -23, -22, -21, -19, -18, -15], nur 12 L√∂sungen.  Der Schnittpunkt zweier "Leitern" mit den Schritten 3 und 4 kann auf Wunsch algorithmisch ermittelt werden. <br><br><h3>  Zus√§tzliche Frage </h3><br>  In dem auf der Konferenz vorgeschlagenen Problem gab es eine zus√§tzliche Frage: Es musste die Mindestl√∂sung f√ºr Gleichung 2 gefunden werden. Es wurde nicht gesagt, dass dies notwendigerweise eine ganze Zahl ist, daher stellte sich heraus, dass die Antwort <i>x</i> = -32 - falsch war. <br><br>  Eine L√∂sung mit brachialer Gewalt zu finden, wird hier nicht funktionieren, aber es ist sehr einfach, sie grafisch zu l√∂sen.  Dies ist der n√§chste Wert <i>x</i> von -33 auf der rechten Seite: <br><br><img src="https://habrastorage.org/webt/w9/rq/cy/w9rqcyp4fwmai59369zi9ldjiu8.png"><br><br>  Es scheint, dass <i>x</i> = -32. (9).  Das ist aber immer noch nicht wahr.  Da unsere Umgebung JavaScript ist, bedeutet dies, dass wir bei der Darstellung von Zahlen durch den verwendeten Datentyp eingeschr√§nkt sind.  Die Typennummer ist float64, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">eine Gleitkommazahl mit doppelter Genauigkeit</a> (IEEE 754).  Sich daran zu erinnern und die ungef√§hre Genauigkeit zu nennen, reichte aus, um einen Pl√ºschfuchs zu bekommen! <br><br><h3>  Die dunkle Seite bitweiser Operationen </h3><br>  Wie oben erw√§hnt, konvertieren bitweise Operationen Operanden in 32-Bit-Zahlen, dargestellt durch die Sequenz 0 und 1 - dies ist der Bereich [-2147483648, 2147483647].  Wenn die Zahl nicht hineinpasst, werden die h√∂chstwertigen Bits verworfen. <br><br>  In der ersten Gleichung spielt dies keine Rolle, da es auf der rechten Seite keine bitweise Operation gibt.  Aber im zweiten Fall bringt diese Umrechnung von Zahlen einen interessanten Effekt mit sich. <br><br>  Zum Beispiel wird die Zahl -24 dargestellt als: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">11111111111111111111111111101000</span></span></code> </pre><br>  Ein negativer Wert der Zahl wird erhalten, indem (bitweise NICHT) Bits in dem Datensatz einer positiven Zahl durch Addition von Eins invertiert werden. <br><br>  Jede Zahl au√üerhalb des Bereichs ist nach der Umwandlung, die in dieser 32-Bit-Sequenz endet, bei Bin√§roperationen mit der Zahl -24 identisch.  Zum Beispiel sind dies Zahlen: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">4294967272</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// -24 8589934568 | 0; // -24, prepend '1' 12884901864 | 0; // -24, prepend '10' 17179869160 | 0; // -24, prepend '11' 21474836456 | 0; // -24, prepend '100' // ...</span></span></code> </pre><br>  Auf der rechten Seite der Gleichung teilen wir <i>x</i> vor der bitweisen Operation durch 3. Wir finden <i>x</i> unter den "√Ñquivalenten" -24, die durch 3 teilbar sind. Die n√§chstliegende Zahl ist 12884901864. Ersetzen Sie sie in der Gleichung: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ <span class="hljs-number"><span class="hljs-number">12884901864</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = <span class="hljs-number"><span class="hljs-number">-12884901864</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> +~ <span class="hljs-number"><span class="hljs-number">12884901864</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> = <span class="hljs-number"><span class="hljs-number">-4294967288</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> + <span class="hljs-number"><span class="hljs-number">23</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> = <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> = <span class="hljs-number"><span class="hljs-number">8</span></span></code> </pre><br>  Das Ergebnis der Division durch 3 (-4294967288) passt nicht zu den zugewiesenen 32 Ziffern.  Beim Invertieren von Bits geht das Vorzeichen endg√ºltig verloren und es verbleiben nur noch 8: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">00000000000000000000000000001000</span></span></code> </pre><br>  Zus√§tzlich k√∂nnen Sie die Richtigkeit des Ergebnisses √ºberpr√ºfen, indem Sie die Funktion <i>eq2</i> aufrufen: <br><br><pre> <code class="javascript hljs">eq2(<span class="hljs-number"><span class="hljs-number">12884901864</span></span>); <span class="hljs-comment"><span class="hljs-comment">// true</span></span></code> </pre><br>  Wenn Sie dar√ºber nachdenken, finden Sie neben dieser Wurzel die Projektionen der verbleibenden 11 ganzzahligen L√∂sungen. <br><br>  Somit erscheint eine gro√üe Anzahl neuer L√∂sungen, und nur das n√§chsth√∂here positive √Ñquivalent von -24 wird ber√ºcksichtigt.  Dies ist jedoch nicht so interessant wie die Hauptaufgabe, und bei der Analyse der Entscheidungen der Teilnehmer wurden sehr seltene Antworten separat bewertet.  Um nicht durcheinander zu kommen, k√∂nnen Sie eine Einschr√§nkung f√ºr die gew√ºnschten Ganzzahlen in die Problembedingung als vorzeichenbehaftete 32-Bit-Ganzzahlen einf√ºgen. <br><br>  Und das kannst du nicht machen!  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Um dann</a> die kleinste Wurzel zu finden, sollten Sie auf die Nachbarschaft von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Number.MAX_SAFE_INTEGER</a> mit einem negativen Vorzeichen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">achten</a> , da diese Zahl eine Ganzzahl ist und mit extremer Pr√§zision float64.  Na dann auf eigene Faust. <br><br><h3>  Fazit </h3><br>  Infolge der Konferenz l√∂sten die meisten Teilnehmer das Problem durch eine umfassende Suche, w√§hrend der Bereich f√ºr die Suche aus verschiedenen Gr√ºnden v√∂llig unterschiedlich war.  Aber wie wir gesehen haben, reicht es aus, mit ~ 50 ganzen Zahlen davonzulaufen.  Viele sind in betriebliche Priorit√§tsfallen geraten.  Jemand hat sich auch grafisch so gefreut.  Einheiten von der Ver√∂ffentlichung von 32 Kategorien √ºberrascht.  Sie k√∂nnten brachiale Gewalt anwenden, um bei Aufgaben weiter voranzukommen.  Um jedoch einen zus√§tzlichen Preis zu erhalten, war es immer noch notwendig, eine fast mathematische Analyse durchzuf√ºhren. <br><br>  Ich hoffe sehr, dass Ihnen die Idee einer so untypischen Aufgabe wie Unterhaltung f√ºr das Konferenzformat gefallen hat.  Im letzten Jahr habe ich mehrere solcher "unterhaltsamen" JavaScript-Aufgaben angesammelt.  Ich beschloss, sie alle an einem Ort zu sammeln.  Folgen Sie dem Link, wenn Sie keine Angst haben: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unerwartet herausgefordertes JavaScript</a> .  Die Aufgaben von <a href="">Look Complex</a> und <a href="">Broken Pipe</a> , die ebenfalls auf der Konferenz vorgeschlagen wurden, wurden bereits festgelegt.  Ja, es gibt viele solcher Sammlungen, aber diese geh√∂ren mir!  Nochmals vielen Dank an alle. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de475594/">https://habr.com/ru/post/de475594/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de475582/index.html">Das Monetarisierungsproblem: Warum der beliebte App Store Open Source-Dienstprogramme l√∂scht</a></li>
<li><a href="../de475584/index.html">Wie sind die Abschnitte zum maschinellen Lernen bei Yandex-Interviews?</a></li>
<li><a href="../de475586/index.html">Der Sound-Fingerabdruck des Computers √ºber die AudioContext-API</a></li>
<li><a href="../de475588/index.html">Drei Paradigmen</a></li>
<li><a href="../de475590/index.html">Kompilieren von Programmen mit Notepad ++</a></li>
<li><a href="../de475596/index.html">Hypothesen f√ºr gro√üe Primzahlen haben sich f√ºr kleine Zahlensysteme bew√§hrt</a></li>
<li><a href="../de475598/index.html">Organisation einer einfachen Architektur in einer Android-Anwendung mit einer Reihe von ViewModel + LiveData, Retrofit + Coroutines</a></li>
<li><a href="../de475600/index.html">Wie wir Prometheus verbunden haben</a></li>
<li><a href="../de475604/index.html">Konfigurieren der offiziellen PostgreSQL-Vorlage unter Zabbix 4.4</a></li>
<li><a href="../de475608/index.html">Google Tag Manager: Unscheinbare und n√ºtzliche Trigger-Einstellungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>