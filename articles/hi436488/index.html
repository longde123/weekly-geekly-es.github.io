<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯТВ ЁЯПД ЁЯПВЁЯП┐ C ++ 14 рдореЗрдВ рдХрд░реА рдФрд░ рдЖрдВрд╢рд┐рдХ рдЕрдиреБрдкреНрд░рдпреЛрдЧ ЁЯд╢ЁЯП╝ ЁЯзЦЁЯП╜ ЁЯЪд</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдореИрдВ рдЖрдкрдХреЛ C ++ рдореЗрдВ рдПрдХ рдХрд░реАрдиреЗ рдХреЗ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдФрд░ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдЖрдВрд╢рд┐рдХ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрддрд╛рдиреЗ рдЬрд╛ рд░рд╣рд╛ рд╣реВрдВ рдЬреЛ рдХрд┐ рдореЗрд░рд╛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдкрд╕рдВрджреАрджрд╛ рд╣реИред рдореИрдВ рдЗрд╕ рдЪ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C ++ 14 рдореЗрдВ рдХрд░реА рдФрд░ рдЖрдВрд╢рд┐рдХ рдЕрдиреБрдкреНрд░рдпреЛрдЧ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436488/"><p>  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ рдореИрдВ рдЖрдкрдХреЛ C ++ рдореЗрдВ рдПрдХ рдХрд░реАрдиреЗ рдХреЗ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдФрд░ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдЖрдВрд╢рд┐рдХ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрддрд╛рдиреЗ рдЬрд╛ рд░рд╣рд╛ рд╣реВрдВ рдЬреЛ рдХрд┐ рдореЗрд░рд╛ рд╡реНрдпрдХреНрддрд┐рдЧрдд рдкрд╕рдВрджреАрджрд╛ рд╣реИред  рдореИрдВ рдЗрд╕ рдЪреАрдЬрд╝ рдХрд╛ рдЕрдкрдирд╛ рдкрд╛рдпрд▓рдЯ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рднреА рджрд┐рдЦрд╛рдиреЗ рдЬрд╛ рд░рд╣рд╛ рд╣реВрдВ рдФрд░ рдЬрдЯрд┐рд▓ рдЧрдгрд┐рддреАрдп рд╕реВрддреНрд░ рдХреЗ рдмрд┐рдирд╛ рдХрд░реАрдиреЗ рдХреА рдмрд╛рдд рд╕рдордЭрд╛рддрд╛ рд╣реВрдВ, рдЬрд┐рд╕рд╕реЗ рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЖрдкрдХреЗ рд▓рд┐рдП рд╕рд░рд▓ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рд╣рдо рдпрд╣ рднреА рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ <a href="" title="kari.hpp">kari.hpp</a> рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЗ рд╣реБрдб рдХреЗ рдиреАрдЪреЗ рдХреНрдпрд╛ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣рдо рдХрд░реА рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рдХрд░реЗрдВрдЧреЗред  рд╡реИрд╕реЗ рднреА, рдЕрдВрджрд░ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдЖрдХрд░реНрд╖рдХ рд╕рд╛рдорд╛рди рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ! </p><a name="habracut"></a><br><h2 id="currying">  Currying </h2><br><p>  рддреЛ, рдХрд░реА рдХреНрдпрд╛ рд╣реИ?  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдЙрди рд╢рдмреНрджреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╣реИ рдЬреЛ рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рд╣рд╛рд╕реНрдХреЗрд▓">рд╣рд╛рд╕реНрдХреЗрд▓</a> рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рд╕реЗ рд╣рд░ рд╕рдордп рд╕реБрдирддреЗ рд╣реИрдВ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдЗрдХрд╛рдИ">рдореЛрдирд╛рдб рдХреЗ</a> рдмрд╛рдж, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ)ред  рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ, рд╢рдмреНрдж рдХреА рдкрд░рд┐рднрд╛рд╖рд╛ рдмрд╣реБрдд рд╕рд░рд▓ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЬреЛ рдкрд╛рдардХ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдПрдордПрд▓">рдПрдордПрд▓</a> рдкреНрд░рдХрд╛рд░ рдХреА рднрд╛рд╖рд╛рдУрдВ рдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рд╣рд╛рд╕реНрдХреЗрд▓">рд╣рд╛рд╕реНрдХреЗрд▓</a> рдкрд░ рд▓рд┐рдЦ рдЪреБрдХреЗ рд╣реИрдВ, рдпрд╛ рдЬреЛ рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдЗрд╕рдХрд╛ рдЕрдиреНрдпрддреНрд░ рд╕реЗ рдХреНрдпрд╛ рдорддрд▓рдм рд╣реИ, рдЗрд╕ рдЕрдиреБрднрд╛рдЧ рдХреЛ рдЫреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рддрдВрддреНрд░ рдорд╣рд╕реВрд╕ рдХрд░реЗрдВред </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="Currying">рдХреНрдпреВрд░рд┐рдВрдЧ</a> - рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдмрджрд▓рдиреЗ рдХреА рддрдХрдиреАрдХ рд╣реИ рдЬреЛ рдПрди рддрд░реНрдХреЛрдВ рдХреЛ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рд▓реЗ рдЬрд╛рддреА рд╣реИ, рдЬреЛ рдПрдХ рддрд░реНрдХ рд▓реЗрддреА рд╣реИ рдФрд░ рдЕрдЧрд▓реЗ рддрд░реНрдХ рдХреЗ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рд╡рд╛рдкрд╕ рдХрд░рддреА рд╣реИ, рдФрд░ рдпрд╣ рддрдм рддрдХ рдЪрд▓рддреА рд╣реИ рдЬрдм рддрдХ рдХрд┐ рд╣рдо рдЕрдВрддрд┐рдо рддрд░реНрдХ рдХреЗ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рд╡рд╛рдкрд╕ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рдиреЗ рдЬрд╛ рд░рд╣рд╛ рд╣реИ рд╕рдордЧреНрд░ рдкрд░рд┐рдгрд╛рдоред  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдорджрдж рдХрд░рддрд╛ рд╣реИ рдЕрдЧрд░ рдореИрдВ рдЖрдкрдХреЛ рдЙрджрд╛рд╣рд░рдг рджрд┐рдЦрд╛рддрд╛ рд╣реВрдВ: </p><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> lhs, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> rhs)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> lhs + rhs; }</code> </pre> <br><p>  рдпрд╣рд╛рдВ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рдмрд╛рдЗрдирд░реА рдЕрддрд┐рд░рд┐рдХреНрдд рдлрд╝рдВрдХреНрд╢рди рд╣реИред  рдФрд░ рдХреНрдпрд╛ рд╣реЛрдЧрд╛ рдЕрдЧрд░ рд╣рдо рдЗрд╕реЗ рд╕рд┐рдВрдЧрд▓ рд╡реЗрд░рд┐рдПрдмрд▓ рдлрдВрдХреНрд╢рди рдореЗрдВ рдмрджрд▓рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ?  рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдмрд╣реБрдд рд╕рд░рд▓ рд╣реИ: </p><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">auto</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">curried_sum2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> lhs)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [=](<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> rhs) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum2(lhs, rhs); }; }</code> </pre> <br><p>  рдирд╣реАрдВ, рд╣рдордиреЗ рдХреНрдпрд╛ рдХрд┐рдпрд╛?  рд╣рдордиреЗ рд▓реИрдореНрдмрдбрд╛ рдирд╛рдордХ рдПрдХ рдПрдХрд▓ рддрд░реНрдХ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдПрдХ рдореВрд▓реНрдп рд▓рд┐рдпрд╛ рдЬреЛ рдмрджрд▓реЗ рдореЗрдВ рджреВрд╕рд░рд╛ рддрд░реНрдХ рд▓реЗрддрд╛ рд╣реИ рдФрд░ рдЦреБрдж рдХреЛ рдЬреЛрдбрд╝ рд▓реЗрддрд╛ рд╣реИред  рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рд╣рдо рдПрдХ-рдПрдХ рдХрд░рдХреЗ рдЕрдкрдиреЗ рддрд░реНрдХреЛрдВ рдХреЗ рд▓рд┐рдП <strong><code>curried_sum2</code></strong> рдлрдВрдХреНрд╢рди рдХреЛ рд▓рд╛рдЧреВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// output: 42 std::cout &lt;&lt; sum2(40, 2) &lt;&lt; std::endl; std::cout &lt;&lt; curried_sum2(40)(2) &lt;&lt; std::endl;</span></span></code> </pre> <br><p>  рдФрд░ рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдХрд░реА рдСрдкрд░реЗрд╢рди рдХрд╛ рдкреВрд░рд╛ рдмрд┐рдВрджреБ рд╣реИред  рдмреЗрд╢рдХ, рдпрд╣ рдХрд┐рд╕реА рднреА рдХрд╛рд░реНрдп рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд╕рд╛рде рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ - рдпрд╣ рдмрд┐рд▓реНрдХреБрд▓ рдЙрд╕реА рддрд░рд╣ рдХрд╛рдо рдХрд░рдиреЗ рдЬрд╛ рд░рд╣рд╛ рд╣реИред  рд╣рд░ рдмрд╛рд░ рдЬрдм рд╣рдо рдХрд┐рд╕реА рджреВрд╕рд░реЗ рддрд░реНрдХ рд╕реЗ рдореВрд▓реНрдп рд▓реЗрддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдПрди -1 рддрд░реНрдХреЛрдВ рдХрд╛ рдПрдХ рдХрд░реАрдмреА рдХрд╛рд░реНрдп рд▓реМрдЯрд╛рдПрдВрдЧреЗ: </p><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">auto</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sum3</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v2, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v3)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> v1 + v2 + v3; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">auto</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">curried_sum3</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v1)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [=](<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> v2){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [=](<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> v3){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum3(v1, v2, v3); }; }; } <span class="hljs-comment"><span class="hljs-comment">// output: 42 std::cout &lt;&lt; sum3(38, 3, 1) &lt;&lt; std::endl; std::cout &lt;&lt; curried_sum3(38)(3)(1) &lt;&lt; std::endl;</span></span></code> </pre> <br><h2 id="partial-application">  рдЖрдВрд╢рд┐рдХ рдЖрд╡реЗрджрди </h2><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдЖрдВрд╢рд┐рдХ рдЖрд╡реЗрджрди">рдЖрдВрд╢рд┐рдХ рдЖрд╡реЗрджрди</a> - рдПрди рддрд░реНрдХреЛрдВ рдХреЗ рдХреЙрд▓рд┐рдВрдЧ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рд╣реИ рдЬрдм рд╡реЗ рдХреЗрд╡рд▓ рддрд░реНрдХреЛрдВ рдХрд╛ рдПрдХ рд╣рд┐рд╕реНрд╕рд╛ рд▓реЗрддреЗ рд╣реИрдВ рдФрд░ рд╢реЗрд╖ рддрд░реНрдХреЛрдВ рдХрд╛ рдПрдХ рдФрд░ рдлрд╝рдВрдХреНрд╢рди рд╡рд╛рдкрд╕ рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рдЗрд╕ рд╕рдВрдмрдВрдз рдореЗрдВ рдпрд╣ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рд╣рд╛рд╕реНрдХреЗрд▓ рдЬреИрд╕реА рднрд╛рд╖рд╛рдУрдВ рдореЗрдВ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдХреА рдкреАрда рдХреЗ рдкреАрдЫреЗ рдпрд╣ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдХрд╛рдо рдХрд░рддреА рд╣реИред  рд╣рдо рдпрд╣рд╛рдВ рдХреНрдпрд╛ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдкреНрд░рджрд░реНрд╢рди рдХрд░рдирд╛ рд╣реИ, <strong><code>sum3</code></strong> рд╣рдорд╛рд░реЗ <strong><code>sum3</code></strong> рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЗрд╕ рддрд░рд╣ рд╕реЗ рдмреБрд▓рд╛рдирд╛ рд╣реИ: <strong><code>sum3(38,3)(1)</code></strong> рдпрд╛ рд╢рд╛рдпрдж рдЗрд╕ рддрд░рд╣: <strong><code>sum3(38)(3,1)</code></strong> ред  рдЙрд╕рдХреЗ рд╢реАрд░реНрд╖ рдкрд░, рдпрджрд┐ рдХреЛрдИ рдлрд╝рдВрдХреНрд╢рди рдПрдХ рдФрд░ рдлрд╝рдВрдХреНрд╢рди рджреЗрддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдХреНрдпреВрд░реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ рдкрд╣рд▓реЗ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рддрд░реНрдХреЛрдВ рдХреА рд╕реВрдЪреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рднреА рдХрд╣рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЖрдЗрдП рдЙрджрд╛рд╣рд░рдг рджреЗрдЦреЗрдВ: </p><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">boo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> v1 + v2; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">auto</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v2)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> kari::curry(boo, v1 + v2); } <span class="hljs-comment"><span class="hljs-comment">// output: 42 std::cout &lt;&lt; kari::curry(foo)(38,3,1) &lt;&lt; std::endl; std::cout &lt;&lt; kari::curry(foo)(38,3)(1) &lt;&lt; std::endl; std::cout &lt;&lt; kari::curry(foo)(38)(3,1) &lt;&lt; std::endl;</span></span></code> </pre> <br><p>  рд╣рдо рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдпрд╣рд╛рдБ рдЕрдкрдиреЗ рдЖрдк рд╕реЗ рдереЛрдбрд╝рд╛ рдЖрдЧреЗ рдирд┐рдХрд▓ рдЧрдП рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП <a href="" title="kari.hpp">kari.hpp</a> рдЙрдкрдпреЛрдЧ, рдЗрд╕рд▓рд┐рдП рд╣рд╛рдБ, рдпрд╣ рдРрд╕рд╛ рдХрд░рддрд╛ рд╣реИред </p><br><h2 id="setting-the-goals">  рд▓рдХреНрд╖реНрдп рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ </h2><br><p>  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рд╣рдо рдХреБрдЫ рд▓рд┐рдЦреЗрдВ, рдпрд╣ рд╕рдордЭрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ (рдпрд╛ рд╡рд╛рдВрдЫрдиреАрдп) рдХрд┐ рд╣рдо рдЖрдЦрд┐рд░ рдореЗрдВ рдХреНрдпрд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред  рдФрд░ рд╣рдо рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдХрд┐рд╕реА рднреА рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХрд░реА рдФрд░ рдЖрдВрд╢рд┐рдХ рд░реВрдк рд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рдорд┐рд▓реЗ рдЬрд┐рд╕реЗ C ++ рдореЗрдВ рдХрд╣рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЬреЛ рд╣реИрдВ: </p><br><ul><li>  рд▓рдВрдмреЛрджрд░ (рд╕рд╛рдорд╛рдиреНрдп рд╡рд╛рд▓реЗ рд╕рд╣рд┐рдд) </li><li>  рдлрд╝рдВрдХреНрд╢рди рдСрдмреНрдЬреЗрдХреНрдЯ (рдлрд╝рдВрдХреНрд╢рдирд▓рд░реНрд╕) </li><li>  рдХрд┐рд╕реА рднреА рдХрд╛рд░реНрдп рдХреЗ рдХрд╛рд░реНрдп (рдЯреЗрдореНрдкреНрд▓реЗрдЯ рд╕рд╣рд┐рдд) </li><li>  рдкрд░рд┐рд╡рд░реНрддрди рд╕рдВрдмрдВрдзреА рдХрд╛рд░реНрдп </li><li>  рдПрдХ рдХрдХреНрд╖рд╛ рдХреЗ рддрд░реАрдХреЗ </li></ul><br><p>  рд╡рд░реАрдбрд┐рдХ рдлрд╝рдВрдХреНрд╢рдВрд╕ рдкрд░ рдХрд░реАрдиреЗ рдХреА рддрд░реНрдХреЛрдВ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдХреЗ рд╣рдо рдкрд░ рдЕрдВрдХреБрд╢ рд▓рдЧрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="std :: рдмрд╛рдБрдз">Std :: bind</a> рдФрд░ рдЗрд╕рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЗ рд╕рд╛рде рдорд╛рдирдХ рд╕рд╣рднрд╛рдЧрд┐рддрд╛ рднреА рд╡рд╛рдВрдЫрдиреАрдп рд╣реИред  рдФрд░ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рд╣рдореЗрдВ рдХрдИ-рдЪрд░ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдФрд░ рдиреЗрд╕реНрдЯреЗрдб рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд╡рд╕рд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдРрд╕рд╛ рд▓рдЧреЗ рдХрд┐ рд╣рдо рдПрдХ рдШреБрдорд╛рд╡рджрд╛рд░ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВред </p><br><p>  рдФрд░ рд╣рдореЗрдВ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреА рдирд╣реАрдВ рднреВрд▓рдирд╛ рдЪрд╛рд╣рд┐рдПред  рд╣рдореЗрдВ рд░реИрдкрд░ рдХреА рдХрдореНрдкреНрдпреВрдЯреЗрд╢рдирд▓ рд▓рд╛рдЧрдд, рддрд░реНрдХреЛрдВ рдХреЗ рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рдФрд░ рдЙрдирдХреЗ рднрдВрдбрд╛рд░рдг рдХреЛ рдХрдо рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╣рдореЗрдВ рдирдХрд▓ рдХрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдп рдЖрдЧреЗ рдмрдврд╝рдирд╛ рд╣реИ, рдХреЗрд╡рд▓ рдЙрд╕реА рдЪреАрдЬрд╝ рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░реЗрдВ рдЬреЛ рд╣рдореЗрдВ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЪрд╛рд╣рд┐рдП, рдФрд░ рдЬрд┐рддрдирд╛ рд╕рдВрднрд╡ рд╣реЛ рдЙрддрдирд╛ рддреЗрдЬрд╝реА рд╕реЗ рдбреЗрдЯрд╛ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░реЗрдВ (рдЖрдЧреЗ рдирд┐рдХрд╛рд▓реЗрдВ)ред </p><br><h3 id="author-youve-been-trying-to-invent-stdbind-one-again">  рд▓реЗрдЦрдХ, рдЖрдк <strong><code>std::bind</code></strong> рдХрд╛ рдЖрд╡рд┐рд╖реНрдХрд╛рд░ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣реЗ рд╣реИрдВ <strong><code>std::bind</code></strong> рдПрдХ рдмрд╛рд░ рдлрд┐рд░ рд╕реЗ <strong><code>std::bind</code></strong> ! </h3><br><p>  рд╣рд╛рдБ, рдФрд░ рдирд╣реАрдВред  <strong><code>std::bind</code></strong> рдирд┐рд╕реНрд╕рдВрджреЗрд╣ рдПрдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдФрд░ рд╕рд┐рджреНрдз рдЙрдкрдХрд░рдг рд╣реИ, рдФрд░ рдореИрдВ рдЗрд╕рдХрд╛ рдХрд╛рддрд┐рд▓ рдпрд╛ рд╡рд┐рдХрд▓реНрдк рд▓рд┐рдЦрдирд╛ рдирд╣реАрдВ рдЪрд╛рд╣рддрд╛ред  рд╣рд╛рдБ, рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реА рдФрд░ рд╕реНрдкрд╖реНрдЯ рдЖрдВрд╢рд┐рдХ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рдпрд╣ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд╕рд╛рде рдХрд┐ рд╣рдо рдХреНрдпрд╛ рддрд░реНрдХ рджреЗ рд░рд╣реЗ рд╣реИрдВ, рдФрд░ рдХрд╣рд╛рдБ, рдФрд░ рдХрд┐рддрдиреЗ)ред  рд▓реЗрдХрд┐рди рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рд╣реИ рдХрд┐ рдпрд╣ рд╕рдмрд╕реЗ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдирд╣реАрдВ рд╣реИ, рдпрд╣ рдЙрд▓реНрд▓реЗрдЦ рдирд╣реАрдВ рдХрд░рдирд╛ рд╣реИ рдХрд┐ рдпрд╣ рд╣рдореЗрд╢рд╛ рд▓рд╛рдЧреВ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рд╣рдореЗрдВ рдлрд╝рдВрдХреНрд╢рди рдХреА рдпреЛрдЧреНрдпрддрд╛ рдХреЛ рдЬрд╛рдирдирд╛ рд╣реЛрдЧрд╛ рдФрд░ рдЙрд╕рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдмрд╛рдЗрдВрдбрд┐рдВрдЧ рд▓рд┐рдЦрдирд╛ рд╣реЛрдЧрд╛ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: </p><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v2, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v3, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v4)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> v1 + v2 + v3 + v4; } <span class="hljs-comment"><span class="hljs-comment">// std::bind auto c0 = std::bind(foo, _1, _2, _3, _4); auto c1 = std::bind(c0, 15, _1, _2, _3); auto c2 = std::bind(c1, 20, 2, _1); auto rr = c2(5); std::cout &lt;&lt; rr &lt;&lt; std::endl; // output: 42 // kari.hpp auto c0 = kari::curry(foo); auto c1 = c0(15); auto c2 = c1(20, 2); auto rr = c2(5); std::cout &lt;&lt; rr &lt;&lt; std::endl; // output: 42</span></span></code> </pre> <br><h2 id="api">  рдПрдкреАрдЖрдИ </h2><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> kari { <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> F, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span>... Args &gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decltype</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">auto</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">curry</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(F&amp;&amp; f, Args&amp;&amp;... args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> F, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span>... Args &gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decltype</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">auto</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">curryV</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(F&amp;&amp; f, Args&amp;&amp;... args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> N, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> F, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span>... Args &gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decltype</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">auto</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">curryN</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(F&amp;&amp; f, Args&amp;&amp;... args)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span></span>; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> F &gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">is_curried</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> F &gt; <span class="hljs-keyword"><span class="hljs-keyword">constexpr</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> is_curried_v = is_curried&lt;F&gt;::value; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> N, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> F, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span>... Args &gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">curry_t</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span>... As &gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decltype</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">auto</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">operator</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(As&amp;&amp;... as)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span></span>; }; }</code> </pre> <br><hr><br><p> <strong><code>kari::curry(F&amp;&amp; f, Args&amp;&amp;... args)</code></strong> </p> <br><p>  рд╡реИрдХрд▓реНрдкрд┐рдХ рдлрд╝рдВрдХреНрд╢рди <strong><code>curry_t</code></strong> рд╕рд╛рде рдпрд╛ рджрд┐рдП рдЧрдП рдлрд╝рдВрдХреНрд╢рди <strong><code>f</code></strong> рдХреЗ рд▓рд┐рдП рддрд░реНрдХреЛрдВ рдХреЗ рдЖрд╡реЗрджрди рдХреЗ рдкрд░рд┐рдгрд╛рдо рдХреЗ рд╕рд╛рде <strong><code>curry_t</code></strong> рдкреНрд░рдХрд╛рд░ (рдПрдХ рдХрд░реА рдлрд╝рдВрдХреНрд╢рди) рдХрд╛ рдлрд╝рдВрдХреНрд╢рди рдСрдмреНрдЬреЗрдХреНрдЯ рд▓реМрдЯрд╛рддрд╛ рд╣реИ (рдлрд╝рдВрдХреНрд╢рди рдлрд╝рдВрдХреНрд╢рди рд╢реВрдиреНрдп рд╣реИ, рдпрд╛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд┐рдП рдЧрдП рддрд░реНрдХ рдЗрд╕реЗ рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рдереЗ)ред </p><br><p>  рдпрджрд┐ <strong><code>f</code></strong> рдкреИрд░рд╛рдореАрдЯрд░ рдореЗрдВ рд╡рд╣ рдлрд╝рдВрдХреНрд╢рди рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рд╡рд╣ рдЕрдкрдиреА рдХреЙрдкреА рдХреЛ рджрд┐рдП рдЧрдП рддрд░реНрдХреЛрдВ рдХреЗ рд╕рд╛рде рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИред </p><br><hr><br><p> <strong><code>kari::curryV(F&amp;&amp; f, Args&amp;&amp;... args)</code></strong> </p> <br><p>  рдЪрд░ рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд╕рд╛рде рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдХрд░реАрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдЙрд╕рдХреЗ рдмрд╛рдж рдЗрди рдХрд╛рд░реНрдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ <strong><code>()</code></strong> рдСрдкрд░реЗрдЯрд░ рдмрд┐рдирд╛ рдХрд┐рд╕реА рддрд░реНрдХ рдХреЗред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> c0 = kari::curryV(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>, <span class="hljs-string"><span class="hljs-string">"%d + %d = %d"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> c1 = c0(<span class="hljs-number"><span class="hljs-number">37</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> c2 = c1(<span class="hljs-number"><span class="hljs-number">42</span></span>); c2(); <span class="hljs-comment"><span class="hljs-comment">// output: 37 + 5 = 42</span></span></code> </pre> <br><p>  рдпрджрд┐ <strong><code>f</code></strong> рдкреИрд░рд╛рдореАрдЯрд░ рдореЗрдВ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХреНрдпреВрд░реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рд╡рд╣ рдЕрдкрдиреА рдХреЙрдкреА рдХреЛ рдмрджрд▓ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕ рддрд░рд╣ рдХреЗ рддрд░реНрдХреЛрдВ рдХреЗ рд╕рд╛рде рдкрд░рд┐рд╡рд░реНрддрди рдХрд┐рдП рдЧрдП рддрд░реНрдХреЛрдВ рдХреЗ рд▓рд┐рдП рдХрдИ рдкреНрд░рдХрд╛рд░ рдХреЗ рдЖрд╡реЗрджрди рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред </p><br><hr><br><p> <strong><code>kari::curryN(F&amp;&amp; f, Args&amp;&amp;... args)</code></strong> </p> <br><p>  рд╣рдо рдЬрд┐рд╕ рддрд░реНрдХ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдЙрд╕рдХреА рд╕рдЯреАрдХ рд╕рдВрдЦреНрдпрд╛ <strong><code>N</code></strong> рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдХреЗ рддрд░реНрдХреЛрдВ рдХреА рдЪрд░ рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд╕рд╛рде рдХрд░реА рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ ( <strong><code>args</code></strong> рдореЗрдВ рджрд┐рдП рдЧрдП рдХреЛ рдЫреЛрдбрд╝рдХрд░)ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">char</span></span> buffer[<span class="hljs-number"><span class="hljs-number">256</span></span>] = {<span class="hljs-string"><span class="hljs-string">'\0'</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> c = kari::curryN&lt;<span class="hljs-number"><span class="hljs-number">3</span></span>&gt;(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">snprintf</span></span>, buffer, <span class="hljs-number"><span class="hljs-number">256</span></span>, <span class="hljs-string"><span class="hljs-string">"%d + %d = %d"</span></span>); c(<span class="hljs-number"><span class="hljs-number">37</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">42</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span> &lt;&lt; buffer &lt;&lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">endl</span></span>; <span class="hljs-comment"><span class="hljs-comment">// output: 37 + 5 = 42</span></span></code> </pre> <br><p>  рдпрджрд┐ <strong><code>f</code></strong> рдкреИрд░рд╛рдореАрдЯрд░ рдореЗрдВ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рд╣реЛрддрд╛ рд╣реИ рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдпрд╣ рдПрди рдХреЙрдкреА рдХреЗ рд▓рд┐рдП рдмрджрд▓ рджрд┐рдП рдЧрдП рдкреНрд░рдХрд╛рд░ рдХреЗ рдЖрд╡реЗрджрди рдХреЗ рд╕рд╛рде рдЕрдкрдиреА рдХреЙрдкреА рд▓реМрдЯрд╛рддрд╛ рд╣реИ, рдЬреЛ рдХрд┐ рддрд░реНрдХреЛрдВ рдХреЗ рд╕рд╛рде рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИред </p><br><hr><br><p> <strong><code>kari::is_curried&lt;F&gt;, kari::is_curried_v&lt;F&gt;</code></strong> </p> <br><p>  рдЬрд╛рдБрдЪ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рд╕рд╣рд╛рдпрдХ рд╕рдВрд░рдЪрдирд╛рдПрдБ рдпрджрд┐ рдХрд┐рд╕реА рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдХрд░ рджрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> l = [](<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> v1, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> v2){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> v1 + v2; }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> c = curry(l); <span class="hljs-comment"><span class="hljs-comment">// output: is `l` curried? no std::cout &lt;&lt; "is `l` curried? " &lt;&lt; (is_curried&lt;decltype(l)&gt;::value ? "yes" : "no") &lt;&lt; std::endl; // output: is `c` curried? yes std::cout &lt;&lt; "is `c` curried? " &lt;&lt; (is_curried_v&lt;decltype(c)&gt; ? "yes" : "no") &lt;&lt; std::endl;</span></span></code> </pre> <br><hr><br><p> <strong><code>kari::curry_t::operator()(As&amp;&amp;... as)</code></strong> </p> <br><p>  рдПрдХ рдХрд░реА рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдкреВрд░реНрдг рдпрд╛ рдЖрдВрд╢рд┐рдХ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рд╡рд╛рд▓рд╛ рдСрдкрд░реЗрдЯрд░ред  рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдлрд╝рдВрдХреНрд╢рди <strong><code>F</code></strong> рдХреЗ рд╢реЗрд╖ рддрд░реНрдХреЛрдВ рдХреА рдХрд░реА рдлрд╝рдВрдХреНрд╢рди, рдпрд╛ рдкреБрд░рд╛рдиреЗ рддрд░реНрдХреЛрдВ рдФрд░ рдирдП рддрд░реНрдХреЛрдВ рдХреЗ рдмреИрдХрд▓реЙрдЧ рдкрд░ рдЗрд╕рдХреЗ рдЖрд╡реЗрджрди рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╛рдкреНрдд рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдореВрд▓реНрдп рдХреЛ рд▓реМрдЯрд╛рддрд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: </p><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">foo</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v1, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v2, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v3, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> v4)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> v1 + v2 + v3 + v4; } <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> c0 = kari::curry(foo); <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> c1 = c0(<span class="hljs-number"><span class="hljs-number">15</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>); <span class="hljs-comment"><span class="hljs-comment">// partial application auto rr = c1(2, 5); // function call - foo(15,20,2,5) std::cout &lt;&lt; rr &lt;&lt; std::endl; // output: 42</span></span></code> </pre> <br><p>  рдпрджрд┐ рдЖрдк <strong><code>curryV</code></strong> рдпрд╛ <strong><code>curryN</code></strong> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП <strong><code>curryV</code></strong> рдХрд┐рд╕реА рддрд░реНрдХ рдХреЗ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдХреЙрд▓ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдХрд╣рд╛ рдЬрд╛рдПрдЧрд╛ рдХрд┐ рдХреНрдпрд╛ рдкрд░реНрдпрд╛рдкреНрдд рддрд░реНрдХ рд╣реИрдВред  рдЕрдиреНрдпрдерд╛, рдпрд╣ рдЖрдВрд╢рд┐рдХ рд░реВрдк рд╕реЗ рд▓рд╛рдЧреВ рдлрд╝рдВрдХреНрд╢рди рд▓реМрдЯрд╛рдПрдЧрд╛ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> c0 = kari::curryV(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>, <span class="hljs-string"><span class="hljs-string">"%d + %d = %d"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> c1 = c0(<span class="hljs-number"><span class="hljs-number">37</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> c2 = c1(<span class="hljs-number"><span class="hljs-number">42</span></span>); <span class="hljs-comment"><span class="hljs-comment">// force call variadic function std::printf c2(); // output: 37 + 5 = 42</span></span></code> </pre> <br><h2 id="details-of-implementation">  рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рд╡рд┐рд╡рд░рдг </h2><br><p>  рдЬрдм рдЖрдк рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рд╡рд┐рд╡рд░рдг рджреЗрддреЗ рд╣реИрдВ, рддреЛ рдореИрдВ рд▓реЗрдЦ рдХрд╛ рдкрд╛рда рдЫреЛрдЯрд╛ рд░рдЦрдиреЗ рдФрд░ рдЕрдирд╛рд╡рд╢реНрдпрдХ рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдФрд░ рдвреЗрд░ рдХрд┐рдП рдЧрдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="SFINAE">SFINAE</a> рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП C ++ 17 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдЬрд╛ рд░рд╣рд╛ рд╣реВрдВ, рд╕рд╛рде рд╣реА рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЛ рдореБрдЭреЗ C ++ рдореЗрдВ рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛ред 14 рдорд╛рдирдХред  рдЗрди рд╕рднреА рдХреЛ рдЖрдк рдкреНрд░реЛрдЬреЗрдХреНрдЯ <a href="" title="kari.hpp">рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА</a> рдореЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд╣рд╛рдБ рдЖрдк рдЗрд╕реЗ рдЕрдкрдиреЗ рдкрд╕рдВрджреАрджрд╛ рдореЗрдВ рднреА рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ :) </p><br><hr><br><p> <strong><code>make_curry(F&amp;&amp; f, std::tuple&lt;Args...&gt;&amp;&amp; args)</code></strong> </p> <br><p>  рдПрдХ рд╕рд╣рд╛рдпрдХ рдлрд╝рдВрдХреНрд╢рди рдЬреЛ рдлрд╝рдВрдХреНрд╢рди рдСрдмреНрдЬреЗрдХреНрдЯ <strong><code>curry_t</code></strong> рдмрдирд╛рддрд╛ рд╣реИ рдпрд╛ рджрд┐рдП рдЧрдП рдлрд╝рдВрдХреНрд╢рди <strong><code>f</code></strong> рдХреЛ рддрд░реНрдХреЛрдВ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЧреВ рдХрд░рддрд╛ рд╣реИред </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> N, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> F, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span>... Args &gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">auto</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">make_curry</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(F&amp;&amp; f, </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::tuple&lt;Args...&gt;&amp;&amp; args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">if</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( N == </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params"> &amp;&amp; </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::is_invocable_v&lt;F, Args...&gt; )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::apply(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::forward&lt;F&gt;(f), <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(args)); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">curry_t</span></span>&lt; N, <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">decay_t</span></span>&lt;F&gt;, Args... &gt;(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::forward&lt;F&gt;(f), <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::move(args)); } } <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> N, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> F &gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decltype</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">auto</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">make_curry</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(F&amp;&amp; f)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> make_curry&lt;N&gt;(<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::forward&lt;F&gt;(f), <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::make_tuple()); }</code> </pre> <br><p>  рдЕрдм, рдЗрд╕ рд╕рдорд╛рд░реЛрд╣ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рджреЛ рджрд┐рд▓рдЪрд╕реНрдк рдмрд╛рддреЗрдВ рд╣реИрдВ: </p><br><ul><li>  рд╣рдо рдЗрд╕реЗ рдХреЗрд╡рд▓ рддрд░реНрдХреЛрдВ рдкрд░ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВ рдпрджрд┐ рдпрд╣ рдЗрди рддрд░реНрдХреЛрдВ рдХреЗ рд▓рд┐рдП рдХреЙрд▓ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рд╣реИ рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛рдЙрдВрдЯрд░ <strong><code>N</code></strong> рд╢реВрдиреНрдп рдкрд░ рд╣реИ </li><li>  рдпрджрд┐ рдлрд╝рдВрдХреНрд╢рди рдХреЙрд▓ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдирд╣реАрдВ рд╣реИ, рддреЛ рд╣рдо рдЗрд╕ рдХреЙрд▓ рдХреЛ рдЖрдВрд╢рд┐рдХ рдЕрдиреБрдкреНрд░рдпреЛрдЧ <strong><code>curry_t</code></strong> рд╣реИрдВ рдФрд░ рдлрд╝рдВрдХреНрд╢рди рдФрд░ рддрд░реНрдХ рдпреБрдХреНрдд рдлрд╝рдВрдХреНрд╢рди рдСрдмреНрдЬреЗрдХреНрдЯ <strong><code>curry_t</code></strong> рдмрдирд╛рддреЗ рд╣реИрдВ </li></ul><br><hr><br><p> <strong><code>struct curry_t</code></strong> </p> <br><p>  рдлрд╝рдВрдХреНрд╢рди рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рддрд░реНрдХреЛрдВ рдХреЗ рдмреИрдХрд▓реЙрдЧ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ рдлрд╝рдВрдХреНрд╢рди рдЬрд┐рд╕реЗ рд╣рдо рдЗрд╕реЗ рдЕрдВрдд рдореЗрдВ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╕рдордп рдХрд╣реЗрдВрдЧреЗред  рдпрд╣ рдСрдмреНрдЬреЗрдХреНрдЯ рд╡рд╣ рд╣реИ рдЬрд┐рд╕реЗ рд╣рдо рдЖрдВрд╢рд┐рдХ рд░реВрдк рд╕реЗ рдХреЙрд▓ рдФрд░ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдЬрд╛ рд░рд╣реЗ рд╣реИрдВред </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> N, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> F, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span>... Args &gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">curry_t</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt; <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> U &gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">curry_t</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(U&amp;&amp; u, </span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::tuple&lt;Args...&gt;&amp;&amp; args)</span></span></span><span class="hljs-function"> : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">f_</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::forward&lt;U&gt;(u))</span></span></span><span class="hljs-function"> , </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">args_</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::move(args))</span></span></span><span class="hljs-function"> </span></span>{} <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>: F f_; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::tuple&lt;Args...&gt; args_; };</code> </pre> <br><p>  рдРрд╕реЗ рдХрдИ рдХрд╛рд░рдг рд╣реИрдВ, <strong><code>args_</code></strong> рдХрд╛рд░рдг рд╣рдо <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="std :: tuple">std :: tuple</a> рдореЗрдВ рддрд░реНрдХ <strong><code>args_</code></strong> рдХреЗ рдмреИрдХрд▓реЙрдЧ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддреЗ рд╣реИрдВ: </p><br><p>  1) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдПрд╕рдЯреАрдбреА :: рд░реЗрдлрд░реА">рдПрд╕рдЯреАрдбреА рдХреЗ</a> рд╕рд╛рде рд╕реНрдерд┐рддрд┐рдпрд╛рдБ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдПрд╕рдЯреАрдбреА :: рд░реЗрдлрд░реА">:: рд░реЗрдлрд░реА</a> рдХреЛ рд╕рдВрдЪрдп рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рд╕рдВрднрд╛рд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрдм рд╣рдореЗрдВ рдореВрд▓реНрдп рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ <br>  2) рдЕрдкрдиреЗ рддрд░реНрдХреЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдХрд┐рд╕реА рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдЕрдиреБрдкреНрд░рдпреЛрдЧ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдПрд╕рдЯреАрдбреА :: рд▓рд╛рдЧреВ рдХрд░реЗрдВ">std :: apply</a> ) <br>  3) рдпрд╣ рд░реЗрдбреАрдореЗрдб рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рдЗрд╕реЗ рдЦрд░реЛрдВрдЪ рд╕реЗ рдирд╣реАрдВ рд▓рд┐рдЦрдирд╛ рд╣реИ :) </p><br><p>  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд╣рдорд╛рд░реЗ рджреНрд╡рд╛рд░рд╛ рдХреЙрд▓ рдХреА рдЧрдИ рд╡рд╕реНрддреБ рдФрд░ рдлрд╝рдВрдХреНрд╢рди <strong><code>f_</code></strong> рдХреЛ рдЙрд╕рдХреЗ рдореВрд▓реНрдп рд╕реЗ рднреА рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдПрдХ рдмрдирд╛рддреЗ рд╕рдордп рдкреНрд░рдХрд╛рд░ рдХрд╛ рдЪрдпрди рдХрд░рддреЗ рд╕рдордп рд╕рд╛рд╡рдзрд╛рди рд░рд╣реЗрдВ (рдореИрдВ рдиреАрдЪреЗ рдЗрд╕ рдореБрджреНрджреЗ рдкрд░ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдиреЗ рдЬрд╛ рд░рд╣рд╛ рд╣реВрдВ), рдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рд╕рдВрджрд░реНрдн">рд╕рд╛рд░реНрд╡рднреМрдорд┐рдХ рд╕рдВрджрд░реНрдн</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрд╕реЗ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдирд╛, рдпрд╛ рдЗрд╕рдХреА рдкреНрд░рддрд┐рд▓рд┐рдкрд┐ рдмрдирд╛рдирд╛ред рдирд┐рд░реНрдорд╛рддрд╛ред </p><br><p>  рдПрдХ рдЯреЗрдореНрдкреНрд▓реЗрдЯ рдкреИрд░рд╛рдореАрдЯрд░ <strong><code>N</code></strong> рд╡реИрд░реЗрдбрд┐рдХ рдлрд╝рдВрдХреНрд╢рдВрд╕ рдХреЗ рд▓рд┐рдП рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛рдЙрдВрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИред </p><br><hr><br><p> <strong><code>curry_t::operator()(const As&amp;...)</code></strong> </p> <br><p>  рдФрд░, рдЬрд╝рд╛рд╣рд┐рд░ рд╣реИ, рд╡рд╣ рдЪреАрдЬ рдЬреЛ рдЗрд╕реЗ рд╕рднреА рдХрд╛рдо рдХрд░рддреА рд╣реИ - рдСрдкрд░реЗрдЯрд░ рдЬреЛ рдлрд╝рдВрдХреНрд╢рди рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИред </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">size_t</span></span> N, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> F, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span>... Args &gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">curry_t</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-comment"><span class="hljs-comment">// 1 constexpr decltype(auto) operator()() &amp;&amp; { return detail::make_curry&lt;0&gt;( std::move(f_), std::move(args_)); } // 2 template &lt; typename A &gt; constexpr decltype(auto) operator()(A&amp;&amp; a) &amp;&amp; { return detail::make_curry&lt;(N &gt; 0 ? N - 1 : 0)&gt;( std::move(f_), std::tuple_cat( std::move(args_), std::make_tuple(std::forward&lt;A&gt;(a)))); } // 3 template &lt; typename A, typename... As &gt; constexpr decltype(auto) operator()(A&amp;&amp; a, As&amp;&amp;... as) &amp;&amp; { return std::move(*this)(std::forward&lt;A&gt;(a))(std::forward&lt;As&gt;(as)...); } // 4 template &lt; typename... As &gt; constexpr decltype(auto) operator()(As&amp;&amp;... as) const &amp; { auto self_copy = *this; return std::move(self_copy)(std::forward&lt;As&gt;(as)...); } }</span></span></code> </pre> <br><p>  рдХреЙрд▓рд┐рдВрдЧ рдСрдкрд░реЗрдЯрд░ рдХреЗ рдкрд╛рд╕ рдЪрд╛рд░ рдХрд╛рд░реНрдп рдУрд╡рд░рд▓реЛрдб рд╣реИрдВред </p><br><ol><li><p>  рдПрдХ рдРрд╕рд╛ рдлрдВрдХреНрд╢рди рдЬрд┐рд╕рдореЗрдВ рдХреЛрдИ рдкреИрд░рд╛рдореАрдЯрд░ рдирд╣реАрдВ рд╣реИ рдЬреЛ рд╡реИрд░рд┐рдПрдбрд┐рдХ рдлрдВрдХреНрд╢рди ( <strong><code>curryV</code></strong> рдпрд╛ <strong><code>curryN</code></strong> рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдпрд╛ рдЧрдпрд╛) рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  рдпрд╣рд╛рдВ рд╣рдо рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛рдЙрдВрдЯрд░ рдХреЛ рд╢реВрдиреНрдп рддрдХ рдШрдЯрд╛ рджреЗрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рд╕реЗ рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рдлрд╝рдВрдХреНрд╢рди рд▓рд╛рдЧреВ рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИ, рдФрд░ рдлрд┐рд░ рд╣рдо рд╡рд╣ рд╕рдм рдХреБрдЫ рджреЗрддреЗ рд╣реИрдВ рдЬреЛ рдЙрд╕рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдПред </p><br></li><li><p>  рдПрдХрд▓ рддрд░реНрдХ рдХрд╛ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдЬреЛ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХрд╛рдЙрдВрдЯрд░ рдХреЛ 1 рд╕реЗ <strong><code>args_</code></strong> (рдпрджрд┐ рдпрд╣ рд╢реВрдиреНрдп рдкрд░ рдирд╣реАрдВ рд╣реИ) рдФрд░ рд╣рдорд╛рд░реЗ рдирдП рддрд░реНрдХ рдХреЛ рддрд░реНрдХ рдХреЗ рдмреИрдХрд▓реЙрдЧ рдореЗрдВ рдбрд╛рд▓рддрд╛ рд╣реИ <strong><code>args_</code></strong> рдФрд░ рдпрд╣ рд╕рдм <strong><code>args_</code></strong> рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддрд╛ рд╣реИред </p><br></li><li><p>  рдПрдХ рдЪрд░ рд╕рдорд╛рд░реЛрд╣ рдЬреЛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╡рд┐рднрд┐рдиреНрди рддрд░реНрдХреЛрдВ рдХреЗ рдЖрдВрд╢рд┐рдХ рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдПрдХ рдЪрд╛рд▓ рд╣реИред  рдпрд╣ рдХреНрдпрд╛ рдХрд░рддрд╛ рд╣реИ рдЙрдиреНрд╣реЗрдВ рдПрдХ, рдПрдХ-рдПрдХ рдХрд░рдХреЗ рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИред  рдЕрдм, рджреЛ рдХрд╛рд░рдг рд╣реИрдВ рдХрд┐ рд╡реЗ рд╕рднреА рдХреЛ рдПрдХ рдмрд╛рд░ рдореЗрдВ рд▓рд╛рдЧреВ рдХреНрдпреЛрдВ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ: </p><br><ul><li>  рдЖрд╡реЗрджрди рдХрд╛рдЙрдВрдЯрд░ рд╢реВрдиреНрдп рд╕реЗ рдиреАрдЪреЗ рдЙрддрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рдХреЛрдИ рддрд░реНрдХ рдирд╣реАрдВ рдмрдЪрд╛ рд╣реИ </li><li>  рдлрд╝рдВрдХреНрд╢рди <strong><code>f_</code></strong> рдХреЛ рдкрд╣рд▓реЗ рдХрд╣рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдПрдХ рдФрд░ рдХрд░реА рдлрд╝рдВрдХреНрд╢рди рдХреЛ рд╡рд╛рдкрд╕ рдХрд░ рд╕рдХрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕рдХреЗ рд▓рд┐рдП рд╕рднреА рдЕрдЧрд▓реЗ рддрд░реНрдХ рджрд┐рдП рдЬрд╛рдПрдВрдЧреЗ </li></ul><br></li><li><p>  рдЕрдВрддрд┐рдо рдлрд╝рдВрдХреНрд╢рди <strong><code>curry_t</code></strong> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреЙрд▓ рдХрд░рдиреЗ рдФрд░ <em>rvalue</em> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреЙрд▓рд┐рдВрдЧ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рдмреАрдЪ рдПрдХ рдкреБрд▓ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИред </p><br></li></ol><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рд░реЗрдлрд░реА рдпреЛрдЧреНрдп">рд░реЗрдл-рдпреЛрдЧреНрдп</a> рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдЯреИрдЧ рдкреВрд░реА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд▓рдЧрднрдЧ рдЬрд╛рджреБрдИ рдмрдирд╛рддреЗ рд╣реИрдВред  рдЗрд╕реЗ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЙрдирдХреА рдорджрдж рд╕реЗ рд╣рдореЗрдВ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ рдХрд┐ рдХрд┐рд╕реА рд╡рд╕реНрддреБ рдХреЛ <em>rvalue</em> reference рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдмреБрд▓рд╛рдпрд╛ рдЧрдпрд╛ рдерд╛ рдФрд░ рд╣рдо рдЕрдВрддрд┐рдо рдХреЙрд▓рд┐рдВрдЧ рдлрд╝рдВрдХреНрд╢рди <strong><code>make_curry</code></strong> рдореЗрдВ рдХреЙрдкреА рдХрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдп рддрд░реНрдХ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЕрдиреНрдпрдерд╛ рд╣рдореЗрдВ рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдлрд┐рд░ рд╕реЗ рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддрд░реНрдХреЛрдВ рдХреЛ рдХреЙрдкреА рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рддрд░реНрдХ рдЕрднреА рднреА рд╣реИрдВред </p><br><h2 id="bonuses">  рдмреЛрдирд╕ </h2><br><p>  рдирд┐рд╖реНрдХрд░реНрд╖ рдкрд░ рдЖрдЧреЗ рдмрдврд╝рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдореИрдВ рдЖрдкрдХреЛ <a href="" title="kari.hpp">рдХрд╛рд░реА</a> рдЪреАрдиреА рдХреЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рдПрдХ рдЬреЛрдбрд╝реЗ рдХреЛ рджрд┐рдЦрд╛рдирд╛ <a href="" title="kari.hpp">рдЪрд╛рд╣рддрд╛ рд╣реВрдВ</a> рдЬреЛ рдХрд┐ рдЙрдирдХреЗ рдкрд╛рд╕ <a href="" title="kari.hpp">kari.hpp рдореЗрдВ рд╣реИрдВ</a> рдЬреЛ рдмреЛрдирд╕ рдХреЗ рд░реВрдк рдореЗрдВ рдпреЛрдЧреНрдп рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h3 id="operator-sections">  рд╕рдВрдЪрд╛рд▓рдХ рдЦрдВрдб </h3><br><p>  рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╣рд╛рд╕реНрдХреЗрд▓ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рдЪреБрдХреЗ рд╣реИрдВ, рдЙрдиреНрд╣реЗрдВ рд▓рд╛рдЧреВ рдХрд┐рдП рдЧрдП рдСрдкрд░реЗрдЯрд░реЛрдВ рдХреЗ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рд╡рд┐рд╡рд░рдг рджреЗрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рд╡рд╛рд▓реЗ рдСрдкрд░реЗрдЯрд░ рд╡рд░реНрдЧреЛрдВ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╕рдВрд░рдЪрдирд╛ <strong><code>(*2)</code></strong> , рдПрдХрд▓-рддрд░реНрдХ рдлрд╝рдВрдХреНрд╢рди рдЙрддреНрдкрдиреНрди рдХрд░рддрд╛ рд╣реИ, рдЗрд╕ рддрд░реНрдХ рдХреЗ рдЧреБрдгрди рдХрд╛ рдкрд░рд┐рдгрд╛рдо 2 рд╕реЗ рд▓реМрдЯрд╛рддрд╛ рд╣реИред рдЗрд╕рд▓рд┐рдП, рдЬреЛ рдореИрдВ рдЪрд╛рд╣рддрд╛ рдерд╛ рд╡рд╣ рд╕реА ++ рдореЗрдВ рдРрд╕рд╛ рдХреБрдЫ рд▓рд┐рдЦрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рдирд╛ рдерд╛ред  рдЬрд▓реНрджреА рд╕реЗ рдирд╣реАрдВ рдХрд╣рд╛! </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> kari::underscore; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; v{<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>}; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::accumulate(v.begin(), v.end(), <span class="hljs-number"><span class="hljs-number">0</span></span>, _+_); <span class="hljs-comment"><span class="hljs-comment">// result: 15 std::transform(v.begin(), v.end(), v.begin(), _*2); // v = 2, 3, 6, 8, 10 std::transform(v.begin(), v.end(), v.begin(), -_); // v = -2,-3,-6,-8,-10</span></span></code> </pre> <br><h3 id="function-composition">  рдХреНрд░рд┐рдпрд╛ рд░рдЪрдирд╛ </h3><br><p>  рдФрд░ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЕрдЧрд░ рдореИрдВ рдПрдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдХреНрд░рд┐рдпрд╛ рд░рдЪрдирд╛">рд╕рдорд╛рд░реЛрд╣ рд░рдЪрдирд╛</a> рд▓рд┐рдЦрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдирд╣реАрдВ рдХреА рд╣реИ рддреЛ рдореИрдВ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдирд┐рд░рд╛рд▓рд╛ рдирд╣реАрдВ рдмрдиреВрдВрдЧрд╛ред  рд░рдЪрдирд╛ рд╕рдВрдЪрд╛рд▓рдХ рдХреЗ рд░реВрдк рдореЗрдВ рдореИрдВрдиреЗ рдореИрдереНрд╕ рдореЗрдВ рд░рдЪрдирд╛ рд╕рдВрдХреЗрдд рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╕рднреА рдкреНрд░рддреАрдХреЛрдВ рдХреЗ рдирд┐рдХрдЯрддрдо (рдХреЗ рд░реВрдк рдореЗрдВ) <strong><code>operator *</code></strong> рдЪреБрдирд╛ред  рдореИрдВрдиреЗ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рддрд░реНрдХ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рдгрд╛рдореА рдлрд╝рдВрдХреНрд╢рди рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднреА рдХрд┐рдпрд╛ред  рддреЛ, рдореБрдЭреЗ рдпрд╣реА рдорд┐рд▓рд╛: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> kari::underscore; <span class="hljs-comment"><span class="hljs-comment">// 1 std::cout &lt;&lt; (_*2) * (_+2) * 4 &lt;&lt; std::endl; // output: 12 // 2 std::cout &lt;&lt; 4 * (_*2) * (_+2) &lt;&lt; std::endl; // output: 10</span></span></code> </pre> <br><ol><li>  рдХрд╛рд░реНрдпреЛрдВ рдХреА рд╕рдВрд░рдЪрдирд╛ <strong><code>(*2)</code></strong> рдФрд░ <strong><code>(+2)</code></strong> <strong><code>4</code></strong> рд▓рд╛рдЧреВ рд╣реЛрддреА рд╣реИред <strong><code>(4 + 2) * 2 = 12</code></strong> </li><li>  рдлрд╝рдВрдХреНрд╢рди <strong><code>(*2)</code></strong> <strong><code>4</code></strong> рд▓рд╛рдЧреВ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдлрд┐рд░ рд╣рдо рдкрд░рд┐рдгрд╛рдо рдкрд░ <strong><code>(+2)</code></strong> рд▓рд╛рдЧреВ рд╣реЛрддреЗ рд╣реИрдВред <strong><code>(4 * 2 + 2) = 10</code></strong> </li></ol><br><p>  рдЙрд╕реА рддрд░рд╣ рд╕реЗ рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдкреЙрдЗрдВрдЯрдлреНрд░реА рд╢реИрд▓реА">рдкреЙрдЗрдВрдЯрдлреНрд░реА рд╢реИрд▓реА</a> рдореЗрдВ рдХрд╛рдлреА рдЬрдЯрд┐рд▓ рд░рдЪрдирд╛рдПрдБ рдмрдирд╛ рд╕рдХрддреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдкреЙрдЗрдВрдЯрдлреНрд░реА рд╢реИрд▓реА">рд╣реИрдВ</a> , рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рд╣рд╛рд╕реНрдХреЗрд▓ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рд╣реА рдЗрдиреНрд╣реЗрдВ рд╕рдордЭ рдкрд╛рдПрдБрдЧреЗ :) </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// (. (+2)) (*2) $ 10 == 24 // haskell analog std::cout &lt;&lt; (_*(_+2))(_*2) * 10 &lt;&lt; std::endl; // output: 24 // ((+2) .) (*2) $ 10 == 22 // haskell analog std::cout &lt;&lt; ((_+2)*_)(_*2) * 10 &lt;&lt; std::endl; // output: 22</span></span></code> </pre> <br><h2 id="conclusion">  рдирд┐рд╖реНрдХрд░реНрд╖ </h2><br><p>  рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдпрд╣ рд╕реНрдкрд╖реНрдЯ рдерд╛ рдХрд┐ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдореЗрдВ рдЗрди рддрдХрдиреАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреЛрдИ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА, рдореБрдЭреЗ рдЗрд╕рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЖрдЦрд┐рд░рдХрд╛рд░, рдореЗрд░рд╛ рд▓рдХреНрд╖реНрдп рдЦреБрдж рдХреЛ рд╕рд╛рдмрд┐рдд рдХрд░рдирд╛ рдФрд░ рдирдП рд╕реА ++ рдорд╛рдирдХ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛ рдерд╛ред  рдХреНрдпрд╛ рдореИрдВ рдРрд╕рд╛ рдХрд░ рдкрд╛рдКрдВрдЧрд╛?  рдФрд░ C ++ рд╣реЛрдЧрд╛?  рдЦреИрд░, рдореБрдЭреЗ рд▓рдЧрддрд╛ рд╣реИ, рдЖрдкрдиреЗ рдЕрднреА рджреЗрдЦрд╛ рдХрд┐ рд╣рдо рджреЛрдиреЛрдВ рдиреЗ рдРрд╕рд╛ рдХрд┐рдпрд╛ рд╣реИред  рдФрд░ рдореИрдВ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдЙрди рд╕рднреА рд▓реЛрдЧреЛрдВ рдХрд╛ рдЖрднрд╛рд░реА рд╣реВрдВ рдЬрд┐рдиреНрд╣реЛрдВрдиреЗ рдкреВрд░реА рдмрд╛рдд рдкрдврд╝реАред </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi436488/">https://habr.com/ru/post/hi436488/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi436476/index.html">рдмреАрдорд╛рдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдмрд╛рджрд▓</a></li>
<li><a href="../hi436480/index.html">рдореИрдВрдиреЗ рдПрдХ рдмреЙрдЯ рдмрдирд╛рдпрд╛ рдЬреЛ рдореЗрд░реЗ рд▓рд┐рдП рдирд┐рдпреЛрдХреНрддрд╛рдУрдВ рдХреЗ рд╕рд╛рде рд╕рдВрд╡рд╛рдж рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдореБрдЭреЗ рдкрд╕рдВрдж рдЖрдпрд╛</a></li>
<li><a href="../hi436482/index.html">рдПрдбрд╡рд╛рдВрд╕реНрдб рдереНрд░реА.рдЬреЗрдПрд╕: рд╢реЗрдбрд░ рдореИрдЯреЗрд░рд┐рдпрд▓реНрд╕ рдФрд░ рдкреЛрд╕реНрдЯ-рдкреНрд░реЛрд╕реЗрд╕рд┐рдВрдЧ</a></li>
<li><a href="../hi436484/index.html">рдореИрдХрдУрдПрд╕ рдкрд░ рдбреАрдПрдирдПрд╕ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХрд╣рд╛рдВ рдЦреЛрдЬреЗрдВ</a></li>
<li><a href="../hi436486/index.html">рдСрдбрд┐рдпреЛ рдкреЙрдбрдХрд╛рд╕реНрдЯ рдмрд╛рдЬрд╛рд░ рдореЗрдВ рдХреНрдпрд╛ рд╣реЛ рд░рд╣рд╛ рд╣реИ</a></li>
<li><a href="../hi436490/index.html">Motorola рдиреЗ Razr v3 рдЕрд╡рддрд╛рд░ рдкреЗрд╢ рдХрд░рдиреЗ рдХреА рдпреЛрдЬрдирд╛ рдмрдирд╛рдИ рд╣реИ</a></li>
<li><a href="../hi436492/index.html">рд╣рдо 17 рдлрд░рд╡рд░реА 2019 рдХреЛ 10 рд╡реЗрдВ DIY рдорд┐рддрдк рдореЗрдВ рд╡рдХреНрддрд╛рдУрдВ рдХреА рддрд▓рд╛рд╢ рдХрд░ рд░рд╣реЗ рд╣реИрдВ</a></li>
<li><a href="../hi436494/index.html">CEPH рдореЗрдВ рдЙрдЪрд┐рдд рдирдВрдмрд░рд┐рдВрдЧ рдмрдирд╛рдП рд░рдЦрддреЗ рд╣реБрдП рдбрд┐рд╕реНрдХ рдХреЛ рдмрджрд▓рдирд╛</a></li>
<li><a href="../hi436496/index.html">рдЬрд╛рд╡рд╛ рдХреЗ рд▓рд┐рдП рдкреАрд╡реАрдПрд╕-рд╕реНрдЯреВрдбрд┐рдпреЛ</a></li>
<li><a href="../hi436498/index.html">рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдПрдЬреА: рди рдХреЗрд╡рд▓ рдПрдЖрд░рдЖрдИрдПрд╕</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>