<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⁉️ ⛽️ 👨🏼‍🚀 Memulai dengan stm32 atau jangan ulangi kesalahan saya 🎡 😕 🤛🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sebuah cerita pendek tentang rake yang ditemui dalam cara mengetahui ARM pada contoh stm32f103c8t6 dan stm32l151rct6. 


 Kenalan saya dengan mikrokon...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Memulai dengan stm32 atau jangan ulangi kesalahan saya</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456280/"><p><img src="https://habrastorage.org/getpro/habr/post_images/7af/bf8/34a/7afbf834aacfe9204173342ee1d2787c.jpg" alt="gambar"></p><br><p>  Sebuah cerita pendek tentang rake yang ditemui dalam cara mengetahui ARM pada contoh stm32f103c8t6 dan stm32l151rct6. </p><a name="habracut"></a><br><p>  Kenalan saya dengan mikrokontroler dimulai dengan AVR.  Saya bekerja pada mereka untuk beberapa waktu, pergi dari papan dengan trek tergores dan assembler di AtmelStudio4 ke jarahan normal dan makefile yang ditulis sendiri untuk bekerja di notepad (dalam kasus saya, KWrite) dan baris perintah. </p><br><p>  Tapi sekarang saatnya untuk menyodok tongkat di kakak mereka - ARM.  Pilihan keluarga tertentu panjang dan pasif (karena tidak ada kebutuhan langsung, jadi saya tidak terburu-buru), tetapi pada akhirnya berakhir pada stm32f1, karena itu, mungkin, yang paling populer.  Beli programmer, papan debug seperti Discovery atau pil biru?  Apa yang Anda, saya seorang master dalam AVR-cams!  Papan apa pun dapat dibuat LUT, dan bahkan sesuai kebutuhan, tanpa terlalu banyak body kit.  Oleh karena itu, saya membeli stm32f103c8t6 yang telanjang dan mulai perdukunan dengan jejak papan.  Apa yang akan saya butuhkan?  Setidaknya dua port harus dibawa ke sisir ... oops, tidak nyaman untuk menampilkan port sepenuhnya.  Oh well, saya akan mendapatkan masing-masing 8 kaki - dari port A yang lebih muda (0-7), dari B yang lebih tua (8-15).  Tetap, tentu saja, LED dan tombol, karena tanpa indikasi dan kontrol.  Inilah yang mengejutkan saya di papan debug selesai adalah kurangnya setidaknya 2-3 LED dan 1-2 tombol yang tidak akan bertentangan dengan apa pun.  Bagaimana mereka membayangkan debugging?  Di bawah tombol PA8, PA9 sendiri diminta, mereka berlokasi.  USB, jumper BOOT0, BOOT1, dan konektor baterai untuk jam tangan juga berguna.  Dan konektor untuk kuarsa, sehingga sangat indah (saya tidak pernah menggunakan konektor untuk kuarsa sesudahnya).  Untuk catu daya, pengontrol tidak perlu lebih dari 3,6 V, dan dengan USB datang 5 V. Perlu untuk menginstal stabilizer.  Saya banyak membaca bagaimana orang memilih stabilisator dengan drop tegangan rendah ... mengapa?  Perbedaannya adalah satu setengah volt, tetapi ada cukup 78l33 ek.  Dan sekarang konektor JTAG.  Konektor pemrograman Atmel memiliki ISP10 atau ISP6 standar.  Mungkin JTAG juga merupakan hal standar.  Ternyata ya ... tetapi hanya untuk satu produsen atau bahkan perangkat.  Kami melihat konektor pada st-link: cantik, 10-pin.  Kami melihat beberapa programmer untuk AVR: oops, sudah 20-pin.  Kami mencari di tempat lain: konektor yang lebih tidak kompatibel ke dewa standar yang tidak kompatibel.  Jika demikian, kita akan menciptakan milik kita sendiri.  Jika ada, adaptor di antara mereka tidak akan lebih rumit dari adaptor ISP-6 hingga ISP-10.  Semuanya sepertinya sudah siap, Anda dapat membuat biaya.  Ternyata, nada 0,5 mm cukup dapat dicapai pada tingkat amatir, saya bahkan tidak harus melukis dengan spidol. </p><br><p>  Sekarang cara mem-flashnya.  Karena ada USB, mungkin bisa melewatinya.  Saya membaca lembar data - ya, itu tidak bisa dilakukan melalui USB, tetapi bisa dilakukan melalui UART1.  Ups, saya lupa menariknya.  Selain itu, itu juga bertentangan dengan tombol, dengan yang tergantung pada PA9.  Baiklah, oke, saya akan menampilkannya di posting, tapi masih ada satu tombol lagi.  Sedikit perdukunan dan papan siap dan bahkan didefinisikan dalam stm32flash. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/180/277/876/180277876d736da44658abbce5e5d426.jpg" alt="gambar"></p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/4d8/341/8a5/4d83418a5f8bb271a41aefa94fd5d42c.jpg" alt="gambar"></p><br><p>  Tampaknya disortir dengan besi, saatnya untuk beralih ke kode.  Setelah membaca beberapa artikel di Internet, saya menemukan arsip yang sudah jadi di bawah gcc-arm-none-eabi.  Saya akan mencari tahu cara mengatur urutan perakitan nanti.  Sejauh ini saya melakukan hello-worlds pada tombol dan LED.  Karena ini adalah perkenalan pertama saya dengan keluarga ini, tidak ada pembungkus seperti HAL yang hanya pekerjaan manual dengan register.  Namun, ini adalah pendekatan yang sepenuhnya alami, menurut saya, tidak ada yang bisa menyebutkan.  Ini sedikit mengganggu saya sepanjang waktu untuk menarik daya dan BOOT0 di papan tulis, tapi oh well, suatu hari nanti saya akan membuat programmer JTAG.  Anehnya, saya tidak menginjak menyapu dengan jam dimatikan.  Dia mengingat masa mudanya ketika dia menulis pemrosesan 3D di TurboPascal.  Di sini saya memiliki layar pada ili9341 dari raspberry pi dan pengontrol pada 72 MHz.  Itulah yang terjadi - hingga 200 poin per model dan 11 fps.  Tentu saja, semua matriks transformasi dihitung dalam angka titik tetap. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/D9KuP8Q5qTM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Pada titik tertentu, saya ingin membuat perangkat yang dapat dipakai bekerja untuk waktu yang lama pada daya baterai.  Saya melihat datasheet dan kesal: ARM yang terkenal dalam konsumsi jauh lebih buruk daripada AVR-ok yang sama!  Jika yang terakhir (menyodok pada pengontrol pertama yang ternyata ATmega88p) memiliki konsumsi 0,8 μA, dengan mempertimbangkan jam, maka yang pertama bahkan dalam mode tidur paling ekonomis * memiliki 25 μA ± 1,4 μA di RTC.  Ini tidak baik.  Namun, stm32f103 tidak diposisikan sebagai seri ekonomis.  Saya melihat situs web STmicroelectronics untuk seri pengontrol lain dan memilih seri stm32l1: selain mengkonsumsi sekitar 1 μA, ada juga sensor kapasitif dan pengontrol LCD.  Benar, frekuensi maksimumnya lebih rendah, hanya 36 MHz (atau 24 MHz jika USB digunakan), tetapi bagaimanapun saya akan bertahan.  Diputuskan: Saya mengambil beberapa stm32l151rct6 langsung dari 32 KB RAM (ada juga 256 KB flash, tapi saya tidak bisa membayangkan bagaimana itu bisa dipalu. Kecuali dengan file data atau kotoran yang benar-benar liar). </p><br><ul><li>  <em>) jangan bingung mode tidur (sleep, stop) dengan shutdown (standby)</em> </li></ul><br><p>  Secara paralel, saya membuat programmer st-link v2 dari stm32f103 cadangan, hanya karena saya lelah mengotak-atik BOOT0 dan power, dan itu lebih cepat.  Namun, saya akan meninggalkan pemrograman UART - Anda tidak pernah tahu apa.  Ada juga sedikit perdukunan, tetapi tidak ada yang luar biasa.  Kecuali menemukan baris perintah untuk openocd ternyata menjadi masalah.  Untuk generasi mendatang saya akan meninggalkannya: </p><br><pre><code class="plaintext hljs">openocd -f interface/stlink-v2.cfg -f target/stm32f1x.cfg -c "init" -c "reset halt" -c "flash write_image erase "$(firmware).bin" 0x08000000" -c "reset run" -c "exit"</code> </pre> <br><p>  Untuk stm32l151 perlu, tentu saja, untuk memperbaiki target ke "target / stm32l1.cfg" </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/4e7/20b/8b2/4e720b8b2a7c604796d911ac8c989f2f.jpg" alt="gambar"></p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/6ec/f47/a66/6ecf47a661552fd60fd9fae056b1828c.jpg" alt="gambar"></p><br><p>  Saya akan berlari sedikit di depan dalam kronologi, tetapi tidak untuk kembali.  Tuan-tuan, jangan menghemat ketebalan PCB!  Atau setidaknya tambahkan alat peraga, atau jangan gunakan komponen smd.  Kebetulan di papan programmer saya hanya menyediakan dua lubang pemasangan di tempat-tempat acak.  Dan tempat-tempat itu cukup jauh dari konektor JTAG.  Dan setelah beberapa waktu saya perhatikan bahwa programmer tidak stabil.  Itu berhasil, lalu tidak, maka melalui UART Anda harus menghapus "korban", lalu mengambilnya.  Ternyata resistor yang berasal dari output controller ke konektor rusak.  Dia baru saja lepas bantalan kontak dari tubuh.  Saya menyolder resistor.  Kemudian dia menyolder sisanya.  Kemudian dia menyadari bahwa bahkan deformasi kecil dari papan yang muncul selama mencabut-mencabut kabel sudah cukup untuk komponen yang malang.  Akibatnya, saya terjebak cadangan tepat di sebelah konektor.  Sambil memegang. </p><br><p>  Seperti yang sudah ditebak pembaca, pemrograman juga ada dalam editor teks, sementara kompilasi dan firmware ada di konsol.  Tentu saja, pembelian papan debugging untuk l151 mengilhami saya tidak lebih dari IDE apa pun.  Menggosok jejak menyapu yang ditinggalkan oleh papan pertama, saya membiakkan yang kedua (menghitung programmer sebagai yang ketiga, tapi itu masih bukan papan debug).  Karena saya akan men-debug perangkat hemat energi, saya perlu repot dengan daya.  Saya tidak akan mengubah stabilizer 78l33, tapi saya merobek outputnya dengan jumper sehingga saya bisa menyodoknya dengan ammeter (saya harap semuanya sama untuk microammeter, tapi begitulah).  Biarkan sisir sama seperti pada papan sebelumnya - kompatibilitas!  Nah, beberapa LED dan tombol, tentu saja.  Rake dengan UART1 bersinar mengundang, tapi saya masih meletakkan konektornya dan tidak mendapatkannya di dahi.  Tentu saja, saya sudah memiliki JTAG, tetapi asuransi tidak akan sakit.  Sama seperti yang sebelumnya (dan papan programmer, juga), dimungkinkan untuk berpisah di satu sisi, bahkan tidak terlalu banyak jumper. </p><br><p>  Tetapi ketika controller disegel, muncul masalah.  Entah bagaimana saya secara naif percaya bahwa harus ada kunci pada tubuh mikrosirkuit yang mengindikasikan kaki pertama.  Siapa yang berharap bahwa dilakukan dengan baik dari ST akan membuat DUA kunci, simetris.  Jadi sisi mana yang harus disolder sekarang?  Berpikir, saya memutuskan bahwa ini bukan kunci, tetapi pendalaman teknologi.  Anda tidak pernah tahu, untuk memposisikan chip di pabrik, misalnya.  Atau tekan alas untuk mengisi dengan plastik.  Maka Anda perlu menavigasi dengan prasasti.  Adalah logis bahwa prasasti harus dapat dibaca jika sirkuit mikro diposisikan "standar", yaitu, ketika kaki pertama berada di sudut kiri atas.  Jadi dia mulai menyolder.  Entah cacat LUT, atau tangan yang bengkok, tetapi sirkuit mikronya disolder dengan bengkok, saya perhatikan tepat waktu sebelum saya menyoldernya sepenuhnya.  Tidak masalah, ada cara lama untuk menyolder kaki seribu menggunakan pisau cukur: tidak dibasahi oleh solder dan cukup tipis untuk tidak terlalu banyak tekuk.  Ternyata tangan itu masih belum cukup lurus, karena kakinya bengkok.  Tapi tidak naik, tapi ke samping, yah, setidaknya tidak terlalu baik, dan entah bagaimana mereka berhasil meluruskannya.  Upaya kedua untuk menyolder sudah di bawah mikroskop, tetapi sebelum itu saya memutuskan untuk memperbaiki kaki.  Dan salah satu dari mereka terputus.  Terbuat dari apa, sehingga Anda tidak bisa membungkuk-bengkok sekali?  Komponen output tidak memiliki masalah seperti itu.  Nah, itu saja, saya pikir chip dalam pernikahan harus disolder lagi.  Tapi tiba-tiba ini bukan kaki yang kritis?  Nah, kesimpulan untuk tujuan umum, atau salah satu makanan.  Sejauh ini saya telah disegel tanpa itu, dan di sana akan terlihat.  Kali ini saya berhasil menyolder secara merata, walaupun kaki saya mengalami I2C, yang saya ingin bersenang-senang, tetapi setidaknya tidak pada konektor vital seperti USB, JTAG, UART atau BOOT.  Saya menghubungkannya - itu tidak bekerja, programmer tidak melihat papan.  Untuk beberapa waktu, dukun dengan kaki solder, tetapi itu tidak membantu.  Sekilas lembar data tersandung pada gambar controller yang terletak di suatu tempat di ruang bawah tanah dokumen.  Begini caranya Anda bisa membuat prasasti BOKOM ?!  Yaitu, jika Anda memutar pengontrol sehingga tulisan dibaca, kaki pertama akan berada di sudut kiri bawah.  Sepanjang jalan, ternyata salah satu "ceruk teknologi" masih merupakan kuncinya.  Benar, itu tidak menjelaskan bagaimana membedakannya dari simetris ... Yah, setidaknya beberapa petunjuk.  Saya menyolder controller dengan pengering rambut bangunan agar tidak mematahkan kesimpulan, dan kali ini saya menyoldernya ke samping.  Keluaran yang rusak langsung menuju ke keluaran TX dari UART1, yaitu ke konektor pemrograman dan debugging.  Ini benar-benar buruk, tetapi sebelum mengubah controller, Anda harus setidaknya memastikan bahwa dengan orientasi saya menduga bahwa ketika menyolder untuk hidup, jangan membunuhnya dengan koneksi yang salah.  Saya menghubungkan programmer - itu berfungsi.  Hore.  Ada hal-hal kecil yang tersisa - solder konektor, dioda, dan memanfaatkan lainnya.  Komentar menyarankan cara lain - cincin bumi: mereka biasanya terhubung di dalam case dan tidak terletak sepenuhnya simetris.  Benar, mengingat langkah kesimpulan, mencapai kesimpulan yang tepat bisa jadi sulit.  Bagaimanapun, ini adalah cara yang paling dapat diandalkan. </p><br><p>  Saya tidak ingin bekerja dengan controller tanpa UART1, dan itu bahkan lebih buruk dari sekarang.  Dan jika ya, itu semua sama saja untuk berubah, jadi saya memutuskan untuk bermain sebagai ahli bedah dan menjadikannya kaki palsu dari rambut MGTF.  Tepat di tangan terletak lem konduktif listrik yang baik, dengan mana rambut menempel pada platform pada tubuh chip.  Lem yang menempel pada kaki-kaki yang bersebelahan dibuang dengan pisau bedah dengan kejam.  Dan apa yang Anda inginkan untuk masuk ke platform setengah milimeter dan tidak masuk ke kaki yang menonjol yang berdekatan?  Saya memeriksa - itu berhasil.  Sampai jatuh, dan agar tidak jatuh nanti, tuangkan cyanoacrylate. </p><br><p>  Mungkin ini adalah bagaimana saya akan menggunakan papan ini jika kaki tidak jatuh lagi.  Dan itu ditutupi dengan lem.  Namun, cukup lembut dan dipotong dengan pisau bedah, sehingga berhasil dibersihkan.  Tetapi untuk beberapa alasan saya tidak ingin menggunakan perekat konduktif yang sama untuk kedua kalinya.  Saya akan mencoba untuk menyolder kaki.  Ujung biasa dari besi solder tidak merangkak ke dalamnya, tetapi kerucut itu termasuk dalam kit (pada kenyataannya, kerucut itu awalnya satu-satunya, tetapi karena ketidaknyamanan yang jelas, itu diganti dengan yang biasa, dengan mengasah berbentuk baji), yang benar-benar merayap ke dalamnya.  Anehnya, "operasi transplantasi" berhasil dan kaki bekerja sebagaimana mestinya (foto close-up kaki pada KDPV). </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/db2/03e/a69/db203ea69ff912c7d012e3f39ab94c17.jpg" alt="gambar"></p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/6ec/f47/a66/6ecf47a661552fd60fd9fae056b1828c.jpg" alt="gambar"></p><br><p>  Jadi, setrika sudah siap, saatnya untuk pergi ke kode.  Akan menyenangkan untuk menemukan contoh yang sudah jadi di bawah gcc dan perpustakaan CMSIS.  Apa yang lebih baik untuk ini daripada situs web resmi pabrikan?  Ternyata, STmicroelectronics tidak membagikan optimisme saya.  Fakta bahwa navigasi di situs dilakukan melalui tempat yang tidak senonoh sudah akrab, sekarang sulit untuk menemukan situs yang dibuat oleh orang untuk orang.  Tetapi mereka tidak mengizinkan apa pun untuk mengunduh dari situs!  Mungkin mereka akan mengizinkannya setelah pendaftaran, tetapi sebelum itu saya tidak punya keinginan untuk mendaftar di mana pun, dan setelah sikap seperti itu terhadap pengembang, terlebih lagi.  Kenapa Anda membutuhkan surat saya atau apa yang Anda minta di sana?  Kumpulkan data pribadi, kirim spam?  Pergi melalui hutan, dan saya akan menemukannya di domain publik!  Ngomong-ngomong, saya sedikit terkejut bahwa paket yang sesuai tidak ada dalam repositori, tetapi mungkin ST muncul dengan semacam wasir berlisensi.  Oleh karena itu, saya mengirimkan sinar diare kepada pemasar yang telah membuat kebijakan semacam itu, dan juga untuk situs yang tidak nyaman. </p><br><p>  Meskipun demikian, perpustakaan itu ditemukan dengan sempurna di Internet (saya tidak akan memberikan tautan apa pun, Anda tidak pernah tahu apa yang akan terjadi pada situs).  Alternatifnya adalah mengunduh lingkungan pengembangan atau CubeMX, tempat pustaka ini tertanam.  Benar, mengunduhnya dari situs resmi juga tidak mungkin, jadi kami melihat yang pihak ketiga dan memasangnya di mesin virtual, kalau-kalau "jika terjadi sesuatu." </p><br><p>  Kami menemukan besi, dan sejenisnya, juga.  Saatnya akhirnya berurusan dengan controller.  Kejutan pertama sedang menunggu ketika mencoba menggunakan kode pihak ketiga di bawah Discovery.  Mereka menggunakan stm32l152 controller, yang pada pandangan pertama hampir sama dengan stm32l151 yang saya instal.  Selain perbedaan kecil, ternyata modul LCD tidak dipasang di pengontrol "saya".  Sedikit mengecewakan, tetapi saya masih tidak berencana untuk menggunakannya.  Meskipun perbedaan seperti itu bisa dibedakan lebih jelas daripada catatan kaki di lembar data.  Ngomong-ngomong, dalam lembar data, disarankan dalam hal ini untuk menghubungkan pin VLCD ke catu daya, di foto saya resistor 0-ohm yang sesuai tidak disolder, tetapi pada kenyataannya saya menginstalnya.  Tanpa itu, itu juga berfungsi, tetapi jangan membebani koneksi internal.  Yang lebih menarik adalah perilaku jam waktu nyata.  Mereka dengan keras kepala tidak mau bekerja, dan di Internet mereka menulis hanya "lakukan, lakukan, itu bekerja."  Tapi itu tidak berhasil.  Namun, di beberapa tempat, disebutkan tentang "masalah yang diketahui dengan RTC dalam seri ini."  Meskipun demikian, arloji masih menyala, meskipun hanya pada generator RC bawaan.  Upaya untuk mengunci jam kuarsa menyebabkan menunggu tanpa akhir untuk bit kesiapan LSE.  Saya mencoba memeriksa apakah kaki-kaki sirkuit mikro telah jatuh dari trek di papan dan menariknya dalam mode GPIO normal.  Kuarsa frekuensi tinggi jatuh.  WTF?!  Secara umum, dua kuarsa ini tidak ingin bekerja sama, tetapi setidaknya secara terpisah setidaknya berfungsi. </p><br><p>  Dan kemudian saya menebak: superglue, yang diisi dengan setengah dari controller (itu cair, Anda tidak bisa menerapkannya dengan tepat, dan siapa yang mengira ...) memberikan kebocoran dan kuarsa mengganggu tips mereka.  Yah, tidak sulit untuk mengikis lem dari luar, tetapi toh itu mati rasa bahkan di bawah bagian bawah rangkaian mikro.  Dan jika ada cukup kebocoran untuk kuarsa, maka itu akan mempengaruhi konsumsi.  Saya mencari di Google, daripada orang menghapus cyanoacrylate.  Ini menawarkan air hangat (apa ???) dan dimetil sulfoksida.  Saya tidak percaya pada air hangat, jadi saya membeli DMSO.  Setelah lebih dari satu jam menemukan setetes bahan kimia di permukaan lem, saya tidak melihat perbedaannya.  Tetapi mereka memperhatikan kuarsa dan mulai bekerja kurang lebih secara normal (saya bertanya-tanya mengapa? Dimexide menggantikan kelembaban yang diserap oleh lem?).  Namun, ini tidak meyakinkan saya, dan sisa-sisa lem masih merusak pemandangan ... untuk apa pun yang ada di bagian bawah papan dan tidak terlalu terlihat.  Omong-omong, air hangat yang saya cuci dengan dimexide tidak mempengaruhi lem (saya tidak terkejut).  Saya menemukan bahwa ada yang namanya penghilang lem, dalam tabung yang sama dengan lem itu sendiri, hanya berwarna ungu.  Yah, setidaknya itu akan berhasil!  Ternyata, ia bisa dan memang berfungsi, tetapi konsistensinya menyerupai krim asam dan tidak pas di bawah sirkuit mikro.  Nah, apa gunanya kamu, penghapus ?!  Di luar, saya bisa membersihkannya.  Peluang terakhir: aseton jarang disebutkan.  Saya agak takut pada komponen plastiknya, tetapi hanya dengan mengganti saja itu mudah.  Saya menuangkan aseton ke stoples kaca, melemparkan papan di sana dan meninggalkannya semalaman.  Keesokan paginya ternyata aseton benar-benar berfungsi, dan bagaimana!  Tidak ada jejak lem.  Apalagi pendorong salah satu tombol dibubarkan.  Menariknya, yang kedua bertahan, mungkin, terbuat dari plastik yang lebih stabil.  Saya sedikit terkejut bahwa plastik lainnya tetap tidak tersentuh, bahkan prasasti itu tetap bertahan.  Yah, bagus sekali, tapi tombolnya bisa diganti. </p><br><p>  Sekarang kami berhasil meluncurkan RTC dari kuarsa arloji, dan menyentuh mode tidur, dan berkomunikasi dengan periferal lain.  Dan juga, agar benar-benar feng shy, dia membubuhkan tanda tangan pada papan.  Tapi tidak dengan spidol (tiba-tiba mandi lagi dalam pelarut?) Tapi tergores dengan pisau bedah.  Selama berabad-abad! </p><br><p>  Nah, untuk generasi mendatang, saya akan meninggalkan contoh kode untuk kedua pengontrol, bersama dengan perpustakaan, makefile, dan banyak lagi.  Tetap hanya menginstal gcc-arm-none-eabi, openocd, stm32flash dan hal-hal sepele lainnya. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">stm32f103</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">stm32l151</a> </p><br><p>  Dalam komentar, mereka disarankan beberapa kali untuk tidak melakukan LUT dan memesan pembuatan papan dari para profesional.  Untuk prototyping, seperti di sini - saya tidak melihat alasan.  Hal lain adalah jika Anda membutuhkan papan multilayer, atau langkah yang lebih kecil, atau kasing BGA, atau hal lain yang sulit dilakukan di rumah.  Dan, tentu saja, dalam pembuatan versi final perangkat dan replikasi.  Tidak baik jika pelanggan membongkar kasus ini <del>  disolder dari PCB, </del>  dan itu akan menemukan papan gergaji bengkok tanpa topeng dan dengan jumper dari MGTF. </p><br><p>  Kesimpulan: </p><br><ol><li>  Anda dapat membuat papan debug untuk diri sendiri jika diinginkan, mereka tidak lebih buruk daripada yang dibeli.  Tetapi programmer debugger masih lebih baik untuk membeli jika tidak terlalu mahal.  Tentu saja, Anda dapat membuatnya, tetapi Anda tidak akan mengubah skema, dan jika demikian, itu tidak akan lebih baik daripada pembelian.  Lebih murah, kemungkinan besar juga.  Kecuali jika pengontrol berlebihan tetap atau dengan masalah pengiriman. </li><li>  Jangan lupa tentang konektor pemrograman cadangan UART1, well, pada saat yang sama, jumper BOOT0, BOOT1.  Selain pemrograman yang sebenarnya, cukup nyaman untuk debug program menggunakan UART. </li><li>  Ada dua kunci pada kasus LQFP64, salah satunya palsu.  Anda harus menavigasi ke prasasti sehingga Anda melihat dengan kaki ke kiri. </li><li>  Komponen solder dengan langkah kecil hanya di bawah mikroskop.  Kalau tidak, sulit untuk menentukan apakah semuanya telah menghilang dan apakah ada "ingus".  Baik, baik pada peralatan "profesional" seperti pengering rambut khusus, pasta solder, dll.  Saya tidak tahu di sini, saya menulis tentang teknologi amatir. </li><li>  Jangan menghemat ketebalan PCB.  Membengkokkan dan ini mungkin cukup untuk merusak smd resistor dan, mungkin, kapasitor.  Ini tidak menakutkan untuk output, dan komponen dengan kesimpulan bengkok (transistor, sirkuit mikro) mungkin akan bertahan. </li><li>  Membuat konektor untuk kuarsa adalah buang-buang waktu.  Anda tidak akan mengubahnya, jadi cukup solder di papan tulis. </li><li>  Minum kaki seribu dengan pisau cukur hanya dalam kasus yang paling ekstrim, ketika tidak ada pengering rambut.  Kalau tidak, risiko merusaknya terlalu besar. </li><li>  Bahkan jika kaki telah jatuh dari sirkuit mikro, itu bisa dipulihkan!  Bahkan ketika pitch adalah 0,5 mm.  Yang utama adalah menggunakan solder, bukan lem konduktif. </li><li>  Jangan pernah mengisi chip dengan lem cyanoacrylate (lem super)!  Ia tidak memiliki karakteristik kelistrikan yang tepat, dan memang mekanis. </li><li>  Aseton paling cocok untuk menghilangkan superglue dari area yang sulit dijangkau.  Itu larut sepenuhnya.  Hal utama adalah memastikan bahwa komponen di sekitarnya tidak terpengaruh.  Dari tempat-tempat yang tidak sulit dijangkau dapat dihilangkan secara mekanis. </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id456280/">https://habr.com/ru/post/id456280/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id456266/index.html">Intisari materi menarik untuk pengembang ponsel # 302 (pada 10 - 16 Juni)</a></li>
<li><a href="../id456270/index.html">Redis Stream - Keandalan dan Skalabilitas Sistem Pesan Anda</a></li>
<li><a href="../id456272/index.html">Apa itu Android Lint dan bagaimana ini membantu Anda menulis kode yang didukung</a></li>
<li><a href="../id456274/index.html">Psikolog: robot seks akan menyebabkan peningkatan jumlah orang tanpa pasangan yang tidak membutuhkan hubungan dengan orang lain</a></li>
<li><a href="../id456276/index.html">Apa itu informasi?</a></li>
<li><a href="../id456282/index.html">Grafik multidimensi dalam Python - dari tiga dimensi hingga enam dimensi</a></li>
<li><a href="../id456288/index.html">MAM: perakitan frontend tanpa rasa sakit</a></li>
<li><a href="../id456290/index.html">Telegram Drive jaringan tidak terbatas. Gratis</a></li>
<li><a href="../id456294/index.html">Perbedaan antara LabelEncoder dan OneHotEncoder di SciKit Learn</a></li>
<li><a href="../id456296/index.html">Dunia hipersphere tiga dimensi. Penelusuran sinar geodesik di alam semesta tertutup dengan geometri bola</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>