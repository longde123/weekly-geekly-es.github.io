<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚂 👩🏿‍⚖️ 🐙 O que é alternância de recursos ou como se livrar de morsas excruciantes e galhos de vida longa? 👩🏼‍🍳 🎅🏾 🅱️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Suponha que você deseje desenvolver um novo recurso, mas não tem certeza de que os usuários gostarão e precisa ter uma maneira de ocultá-lo sem proble...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>O que é alternância de recursos ou como se livrar de morsas excruciantes e galhos de vida longa?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464021/">  Suponha que você deseje desenvolver um novo recurso, mas não tem certeza de que os usuários gostarão e precisa ter uma maneira de ocultá-lo sem problemas.  Ou suponha que você esteja trabalhando em um novo grande recurso e deseje evitar o comprometimento de monstros.  Ou você apenas deseja tornar o comportamento do site facilmente configurável.  Como posso resolver todos esses problemas, leia sob o gato. <br><a name="habracut"></a><br><h3>  O problema </h3><br>  Imagine que os ciclos de desenvolvimento de sua equipe durem duas semanas e a implementação de um novo recurso exigirá 3 meses de desenvolvimento da equipe.  À primeira vista, existem dois esquemas de ação possíveis: <br><br><ul><li>  Crie uma ramificação separada e faça todo o trabalho nela por três meses, periodicamente fazendo pull da ramificação pai <br></li><li>  Use o conceito de integração contínua (integração contínua <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ou IC</a> ): decomponha a tarefa e congele o código em pequenas porções <br></li></ul><br>  Ambas as abordagens têm vantagens e desvantagens óbvias: <br><br><div class="scrollable-table"><table><tbody><tr><th></th><th>  Vantagens </th><th>  Desvantagens <img src="https://habrastorage.org/webt/rm/hk/at/rmhkatlixr1hxispxenca2gtihc.png" width="30" height="30"></th></tr><tr><th>  Ramo de longa duração </th><td>  O código do seu recurso não preparado não estará no ramo pai e não será uma desgraça para outros desenvolvedores </td><td><ul><li>  Conflitos de mesclagem permanente que você precisa resolver </li><li>  Solicitação de extração monstruosa inadequada para revisão de código </li></ul><br></td></tr><tr><th>  Muita vida curta confirmada pelas filiais </th><td>  A tarefa é bem decomposta e congelada em pequenas porções; não há necessidade de resolver conflitos de mesclagem </td><td>  Seu recurso despreparado irritará outros desenvolvedores e, possivelmente, causará efeitos de terceiros na interface do usuário </td></tr></tbody></table></div><br><h3>  Usando comutadores de recursos para resolver problemas </h3><br>  Esse problema é encontrado com frequência no desenvolvimento e existe uma solução elegante que permite tirar o melhor proveito das abordagens descritas acima - <b>alternância de</b> <b>recurso</b> ou <b>comutador de recurso</b> . <br><br>  Essencialmente, um alternador de recursos é um sinalizador booleano armazenado no banco de dados e contém informações sobre se um recurso deve ser ativado ou não.  O valor desse sinalizador pode ser recuperado do banco de dados por chave.  A conveniência de usar comutadores de recursos é que eles podem ser facilmente alterados por um usuário corporativo durante o tempo de execução através do painel de administração sem a necessidade de reimplementar o aplicativo. <br><br>  A seguir, é apresentado um exemplo do uso da alternância de recursos em Java: <br><br><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (configurationManager.getParameter(<span class="hljs-string"><span class="hljs-string">"is.some.functionality.enabled"</span></span>)) { <span class="hljs-comment"><span class="hljs-comment">// do some stuff } else { // do default logic }</span></span></code> </pre> <br>  No exemplo acima, <i>configurationManager</i> é uma classe que permite recuperar o valor de um alternador de recursos específico do banco de dados por sua chave. <br><br>  Além disso, com a ajuda dos comutadores de recursos, você pode exibir / ocultar certos elementos no frontend.  Para fazer isso, você precisa colocar o valor do sinalizador no modelo e passá-lo para exibir, como mostrado abaixo: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@ModelAttribute</span></span>(<span class="hljs-string"><span class="hljs-string">"isSomeFunctionalityEnabled"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isSomeFunctionalityEnabled</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> configurationManager.getParameter(<span class="hljs-string"><span class="hljs-string">"is.some.functionality.enabled"</span></span>); }</code> </pre><br>  Em seguida, use o valor passado para renderizar este ou aquele código HTML: <br><br><pre> <code class="plaintext hljs">&lt;c:choose&gt; &lt;c:when test="${isSomeFunctionalityEnabled}"&gt; &lt;!-- Render some stuff --&gt; &lt;/c:when&gt; &lt;c:otherwise&gt; &lt;!-- Render some other stuff --&gt; &lt;/c:otherwise&gt; &lt;/c:choose&gt;</code> </pre><br><h3>  Tipos de comutadores de recursos </h3><br>  O conceito descrito de usar comutadores de recursos é apenas um caso de uso possível e esses comutadores de recursos são chamados de alternâncias de liberação.  No total, são distinguidos três tipos diferentes de comutadores de recursos: <br><br><ul><li>  <b>alternância de liberação</b> - permite ocultar recursos implementados de maneira <b>incompleta</b> durante o desenvolvimento </li><li>  <b>alternância do experimento</b> - interruptores para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">teste A / B</a> </li><li>  <b>alternância de permissão</b> - <b>recurso</b> liga / desliga para vários grupos de usuários </li></ul><br>  Assim, usando comutadores de recursos, é possível criar duas versões diferentes do site na mesma base de código, usando bancos de dados diferentes e conjuntos diferentes de comutadores de recursos.  Por exemplo, em um site europeu, faz sentido incluir todos os recursos relacionados ao GDPR, mas em um site russo você não pode fazer isso. <br><br><img src="https://habrastorage.org/webt/jv/bb/y7/jvbby79ujnc1jaovvj-890zmmgo.png"><br><br><h2>  Problemas ao alternar recursos </h2><br>  Como trabalho em um projeto no qual as alternâncias de recursos são ativamente usadas, além das vantagens óbvias de usá-las, comecei a perceber problemas associados a elas: <br><br><ul><li>  <b>Testando a complexidade</b> : quando uma nova versão é lançada, os engenheiros de controle de qualidade testam todos os recursos incluídos nela e também tentam ativá-los ou desativá-los usando comutadores de recursos.  Isso requer muito tempo adicional, pois é aconselhável testar todos os tipos de combinações de sinalizadores </li><li>  <b>A aparência do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">código morto</a></b> : os valores de muitas alternâncias de recursos não são alterados por longos períodos de tempo ou não são alterados e, portanto, o código escrito para um valor de flag diferente se torna "morto" </li><li>  <b>Avarias inesperadas no site</b> : muitos dos comutadores de recursos desatualizados têm a infeliz propriedade de quebrar algo ao alterar seu valor (já que ninguém há muito verifica que eles funcionam).  Como os comutadores de recursos são armazenados no banco de dados e podem ser facilmente alterados pelos usuários corporativos no painel do administrador, as quebras ocorrem frequentemente devido a uma alteração em seu valor.  O desempenho dos comutadores de recursos por muito tempo não utilizados deve ser verificado primeiro em um ambiente de teste </li></ul><br><h3>  Soluções para alguns dos problemas descritos </h3><br>  As seguintes ações podem ajudar a resolver os problemas acima: <br><br><ul><li>  <b>Documentação dos comutadores de recursos disponíveis:</b> para entender qual o efeito de uma alternância de um determinado recurso e por qual chave procurá-lo no banco de dados, é necessário criar documentação detalhada com uma descrição de todos os comutadores de recursos. </li><li>  <b>Revisão periódica dos comutadores de recursos:</b> para evitar a aparência de código morto, remova periodicamente comutadores de recursos obsoletos e código associado </li></ul><br><h3>  Sumário </h3><br>  <b>O comutador de recursos</b> é um mecanismo muito simples e ao mesmo tempo poderoso que permite evitar confirmações monstruosas, alterar facilmente comportamentos de aplicativos ou montar vários aplicativos diferentes na mesma base de código usando configurações de alternância de recursos diferentes. <br><br>  No entanto, também vale lembrar que esse padrão de desenvolvimento tem algumas desvantagens que resultam em códigos difíceis de ler e de manter, portanto, deve-se evitar o uso excessivo desse padrão e documentar periodicamente os comutadores de recursos e as revisões para remover os não utilizados e, como resultado, limpe o projeto do código "morto". <br><br><h3>  Links úteis </h3><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Blog do Martin Fowler</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Artigo de Pete Hodgson</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Onde sem Wikipedia</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt464021/">https://habr.com/ru/post/pt464021/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt464011/index.html">Como deixei a TI na psicologia</a></li>
<li><a href="../pt464013/index.html">Perguntas frequentes sobre a API do HeadHunter (publicação de trabalhos)</a></li>
<li><a href="../pt464015/index.html">Instale o OpenCV + CUDA no Windows</a></li>
<li><a href="../pt464017/index.html">Estação de trabalho criptográfica baseada em tokens PKCS # 11. Obtenção de certificados para EGAIS. Parte 4</a></li>
<li><a href="../pt464019/index.html">Código aberto: desenvolvedor da placa gráfica revelou documentação do driver para Linux</a></li>
<li><a href="../pt464023/index.html">"Fundamentos da programação" definido para um curso gratuito com exemplos em JavaScript</a></li>
<li><a href="../pt464027/index.html">Como sobreviver ao conteúdo na era da explosão de informações</a></li>
<li><a href="../pt464031/index.html">“Achados de um Audiomaníaco”: placas de som como uma maneira de mergulhar na atmosfera de uma cidade desconhecida</a></li>
<li><a href="../pt464037/index.html">Notícias do mundo do OpenStreetMap nº 472 (30/07/2019 - 05.08.2019)</a></li>
<li><a href="../pt464039/index.html">Redes neurais e aprendizado profundo: um tutorial on-line, capítulo 6, parte 2: progresso recente no reconhecimento de imagens</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>