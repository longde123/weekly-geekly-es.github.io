<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘‚ ğŸ‘¸ğŸ½ ğŸˆµ Apa yang biasa terjadi antara mengupas telur dan DevOps? ğŸ‘ŠğŸ» ğŸ›‚ ğŸš›</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ini adalah terjemahan dari artikel Patrick Lee Scott yang diposting di hackernoon.com. Penulis menawarkan untuk berkenalan dengan beberapa prinsip pen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Apa yang biasa terjadi antara mengupas telur dan DevOps?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/plarium/blog/457120/">  Ini adalah terjemahan dari artikel Patrick Lee Scott yang diposting di hackernoon.com.  Penulis menawarkan untuk berkenalan dengan beberapa prinsip penting yang akan membantu Anda memompa di DevOps. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/332/c5f/d4f/332c5fd4f164388cbf68b68611547b28.jpg" alt="gambar"><br><br>  Beberapa hari yang lalu saya mencoba mengupas telur dengan cara yang bodoh, dan pacar saya Angeli bertanya kepada saya mengapa saya melakukan ini. <br><br>  Dia mengambil telur rebus dan menabraknya di atas talenan, lalu menekannya dan menggulungnya di atas meja.  Hanya perlu 3 detik untuk membersihkan.  Dan saya berdiri dan melepaskan cangkang itu sepotong demi sepotong. <br><br>  Apa yang ingin saya katakan dengan ini: <b>kami melebih-lebihkan pentingnya upaya.</b> <br><a name="habracut"></a><br>  Solusi terbaik sederhana dan efektif.  Apakah sulit untuk membersihkan baut berkarat?  Mungkin ya.  Tetapi hanya jika Anda tidak tahu bahwa ini dapat dilakukan dengan Coca-Cola.  Masih rumit?  Tidak.  Anda hanya perlu meletakkan baut di gelas dan tunggu. <br><br>  Tanpa mengetahui teknik sederhana, Anda tidak bisa menerapkannya.  Alih-alih menerapkan, Anda melakukan eksperimen, alih-alih replikasi, Anda melakukan penelitian. <br><br>  Jika dalam pemrograman Anda menggunakan beberapa jenis pendekatan lagi dan lagi, karena memungkinkan Anda untuk menyederhanakan masalah yang diselesaikan, pendekatan ini menjadi templat atau apa yang disebut praktik terbaik. <br><br>  Terlepas dari nama-nama yang kompleks dan menakutkan seperti Segregation Command Query Responsibility (CQRS) atau Event Sourcing (ES), praktik ini membantu memecahkan masalah.  Terutama yang muncul ketika membangun sistem terdistribusi. <br><br>  Jika Anda melihat perkembangan secara keseluruhan, kita akan melihat bahwa ada prinsip yang lebih universal, misalnya, "Tetap Sederhana, Bodoh" (KISS) dan "Jangan Ulangi Diri Sendiri" (KERING).  Saya ingin berbicara tentang pola dan prinsip yang sama terkait dengan DevOps. <br><br>  DevOps sering disajikan sebagai tanah yang dijanjikan, tempat burung bernyanyi dan matahari bersinar.  Tetapi tanpa menggunakan metode yang tepat, DevOps akan berubah menjadi neraka, dan Anda akan menusuk semua jari Anda dengan cangkang (seperti saya). <br><br>  Menciptakan sistem DevOps, saya menemukan beberapa solusi untuk diri saya di samping prinsip-prinsip universal seperti KISS dan DRY.  Meskipun mereka tidak dapat disebut template, tetapi mereka akan membantu Anda dengan cepat membersihkan telur.  Solusi ini (dalam urutan acak): <br><br><ul><li>  Jangan lakukan apa yang orang lain lakukan sebelum Anda. </li><li>  Biarkan pengembang menjadi seproduktif mungkin. </li><li>  Produksi adalah mitos. </li><li>  Transfer semuanya ke cluster dan buat cadangan keseluruhan. </li><li>  VPN terlalu rumit, solusinya lebih mudah. </li><li>  Atur, otomatisasi, dan taklukkan! </li></ul><br><h3>  Pelajaran 1. Jangan lakukan apa yang dilakukan orang lain sebelum Anda </h3><br>  Jika Anda memiliki kesempatan untuk membeli produk jadi atau jika Anda memiliki alat yang diperlukan dan nyaman di domain publik, gunakan ini. <br><br>  Jangan menemukan kembali roda - beli itu. <br><br>  Tahukah Anda bahwa Anda dapat menggunakan server email yang sama dengan yang digunakan Craigslist?  Dan apa itu gratis?  Perlu server surat - jangan membuat yang baru, bekerja dengan yang sudah ada. <br><br>  Saya suka mencari alat dalam daftar yang di-host-sendiri atau menggunakan Hub Hub untuk ini. <br><br>  <i>Terlepas dari kenyataan bahwa Helm adalah alat yang cukup baru untuk menemukan perangkat lunak, situs ini telah dibuat: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://v3.helm.sh/</a></i> <br><br>  Dengan Helm, Anda dapat dengan mudah mencari sepeda yang sudah jadi. <br><br>  Mari kita kembali ke masa ketika saya baru memulai program.  Di kelas 9, saya belajar bahasa "nyata" pertama saya - QBasic.  Sebelum itu, saya telah membuat situs HTML dan CSS selama beberapa tahun.  Kemudian Internet adalah baru, dan meskipun orang tahu cara membuat paket, mereka tidak membagikannya, seperti kita sekarang.  Saya biasanya menggunakan floppy disk untuk penyimpanan - alangkah baiknya menemukannya bersama-sama dengan gim seperti arkanoid, yang saya tulis di Java Swing di kelas 11 ... <br><br>  Yang saya gunakan adalah perpustakaan standar, sayang!  Setidaknya pada usia 13 saya hanya tahu tentang mereka.  Meskipun saya yakin bahwa beberapa pro java (halo, Vlad dan Nick!) Sudah keren saat itu.  ;) <br><br>  Sekarang semuanya salah.  Hari ini Anda dapat menemukan seluruh perpustakaan UI.  Anda dapat menemukan perpustakaan untuk menangani tanggal secara elegan dan mudah dengan satu perintah. <br><br>  Akan lebih bagus jika ada alat untuk menggunakan dan menginstal subsistem yang berfungsi penuh, kan?  Butuh database?  <i>instal basis data</i> <br><br>  Berita bagus: alat seperti itu ada!  Dengan Helm, Anda juga dapat menginstal subsistem yang berfungsi penuh yang dikemas dan siap digunakan. <br><br>  Prinsipnya sama dengan untuk NPM dan Gradle, tetapi paket yang kami kelola di Helm disebut grafik.  Bagan menandai wadah sehingga mereka berjalan di Kubernet dengan berbagai cara. <br><br>  Ternyata solusi turnkey, membeli sepeda.  Grafik adalah roda, dan wadah dengan deskripsi yang mengalir di dalam Kubernetes adalah roda. <br><br>  Apa yang keren tentang grafik adalah kemampuan untuk mengemas layanan dan menjalankannya di setiap cluster Kubernetes dan bahkan membaginya dengan orang lain jika Anda mau. <br><br>  Ini berarti Anda dapat menggambarkan seluruh lingkungan menggunakan kode: <br><br><pre><code class="javascript hljs">- name: backup repository: http:<span class="hljs-comment"><span class="hljs-comment">//jenkins-x-chartmuseum:8080 version: 0.0.2 - name: monitor repository: http://jenkins-x-chartmuseum:8080 version: 0.0.3 - name: marketing-site repository: http://jenkins-x-chartmuseum:8080 version: 1.1.10 - name: denormalizer-service repository: http://jenkins-x-chartmuseum:8080 version: 1.0.0 - name: mongo repository: https://kubernetes-charts.storage.googleapis.com/ version: 1.0.0</span></span></code> </pre> <br>  Perlu meningkatkan situs pemasaran Anda ke 1.2.0?  Buat saja perubahan dan komit. <br><br><h3>  Pelajaran 2. Biarkan pengembang menjadi seproduktif mungkin. </h3><br>  Saya pernah duduk di meja, melihat kode saya dan mencoba melacak bug.  Pengguna telah mengeluh tentang dia selama beberapa minggu sekarang, dan akhirnya saya punya sedikit waktu luang untuk nongkrong. <br><br>  Tada-a-am!  Menemukannya!  Diperbaiki! <br><br>  Saya duduk di belakang sebuah partisi di tempat kerja saya di sebuah ruangan yang diterangi matahari dan berteriak kepada yang lain: "Saya memperbaiki bug!" <br><br>  Selasa depan, ketika pengguna melihat rilis, mereka pasti akan menghargai upaya saya!  Tetapi untuk ini kita harus berkemas dan mencoba untuk melepaskan rilis dari tempat ... Mungkin kita akan berhasil jika tidak ada yang terjadi ... <br><br>  Baiklah, oke, <i>jika</i> rilisnya masih akan datang Selasa depan, pengguna pasti akan menghargainya! <br><br>  Begitulah cara saya melakukan penempatan di pekerjaan kampus pertama saya, sebagai programmer junior. <br><br>  Sejak itu, banyak yang berubah. <br><br>  Sekarang saya menggunakan pengembangan berbasis trunk dan menggunakan modul berkali-kali sehari.  Ketika saya mengirim Permintaan Tarik, bot akan memposting komentar yang sesuai dengan kode ulasan dengan lingkungan yang dikumpulkan setelah tes telah lulus dan build telah dikumpulkan. <br><br>  Hari ini Anda tidak perlu berteriak melalui partisi di kantor. <br><br>  Semakin banyak kebebasan yang Anda berikan kepada programmer - kebebasan untuk mengontrol bagian-bagian infrastruktur yang mereka butuhkan - semakin mudah bagi Anda untuk bekerja sebagai insinyur DevOps. <br><br>  Dalam pelajaran pertama, kami melihat bahwa untuk memperbarui dalam produksi cukup untuk mengubah satu digit dan melakukan.  Dalam dunia yang ideal di mana kita memasukkan aplikasi ke dalam bagan, setiap programmer dalam tim memiliki kesempatan untuk mempengaruhi cara alat bekerja pada tahap produksi.  Kubernet memahami grafik sebagai deskripsi kontainer, itulah sebabnya mereka menggambarkan persyaratan sumber daya. <br><br>  Logikanya kira-kira seperti ini: Saya tidak bisa menebak berapa banyak memori atau pengaturan CPU apa yang diperlukan untuk layanan baru (dan saya pikir saya bukan satu-satunya).  Oleh karena itu, saya juga menggunakan pemantauan dan peringatan dengan aturan yang menurutnya tim saya dan saya akan diberitahu di Slack bahwa pengaturan ini perlu diubah.  Artinya, sistem akan memberi tahu Anda tentang pengaturan yang diperlukan saat kami menerapkannya.  Saya biasa duduk berjam-jam, mengirim permintaan melalui Prometheus dan menyesuaikan pengaturan, sama seperti saya dulu memilih shell.  Dan sekarang saya telah belajar untuk melakukan segalanya dengan bijak. <br><br>  Saya sudah dapat mendengar Anda berkata: "Kedengarannya terlalu rumit!"  Tidak.  Cukup atur grafik. <br><br>  Jika Anda dapat mengotomatiskan atau menyederhanakan sesuatu - silakan.  Misalnya, bagaimana jika Anda dapat menetapkan jalur DNS dengan hanya menggunakan layanan dengan label "expose: true"?  Di sinilah operator muncul.  Ini adalah alat Kubernet yang lebih canggih, dan Anda harus mengetahuinya.  Tapi jangan terlalu detail. <br><br><h3>  Pelajaran 3. Produksi adalah mitos </h3><br>  Ini adalah wahyu yang nyata bagi saya.  Saya harus melihat sesuatu dari sudut yang berbeda, jadi dengarkan baik-baik. <br><br>  Selama lebih dari sepuluh tahun, saya berpikir bahwa di dunia hanya ada beberapa jenis lingkungan.  Dalam skenario paling sederhana, ada pementasan dan produksi lingkungan.  Pertama dikerahkan ke pementasan, kemudian diuji, pindah ke tahap berikutnya, dikerahkan, diuji dan sebagainya.  Segera setelah semuanya macet - putranya terintegrasi - Anda dapat mulai berproduksi. <br><br>  Saya mengikuti pola ini tahun demi tahun dan tidak pernah sekalipun meragukannya.  Selalu begitu. <br><br>  Dan skema ini adalah cara lain yang tidak produktif untuk menyingkirkan cangkang. <br><br>  Intinya, bagan adalah bagan ketergantungan.  Ini dapat digunakan untuk mewakili lingkungan, dan kemudian proses penyebaran dalam produksi turun ke penggelaran satu bagan tunggal. <br><br>  Jika setiap tim, proyek, atau grup yang terhubung dengan konteks umum memiliki bagan sendiri, beberapa lingkungan muncul yang memungkinkan Anda untuk mengelompokkan dan memperbarui semua layanan dalam satu transaksi. <br><br>  Jangan menganggap produksi sebagai lingkungan besar yang mencakup semuanya, padahal itu adalah produksi kecil. <br><br>  Perubahan besar menakutkan dalam skalanya.  Dan jika Anda memiliki beberapa lingkungan pengembangan kecil, Anda dapat mengisolasi perubahan dan membuat sistem lebih fleksibel. <br><br>  Selain itu, jika semuanya diatur dalam bentuk bagan, variabel akan ditetapkan dan dapat diubah dari luar, dengan cara yang sama.  Misalnya, untuk menghubungkan cluster kafka yang kurang kuat ke praproduksi, di mana tidak diperlukan, Anda hanya perlu mengubah konfigurasi. <br><br><h3>  Pelajaran 4. Transfer semuanya ke cluster dan buat cadangan keseluruhan </h3><br>  Jadi, kami memilah-milah produksi.  Apa yang harus dilakukan dengan basis data?  Dengan Kafka?  Dengan masalah keamanan? <br><br>  Jika Anda membaca dengan seksama, maka ingat: Saya menulis bahwa database dapat dimasukkan dalam paket grafik. <br><br>  Kubernetes memiliki API terpisah untuk menjalankan basis data dan aplikasi stateful lainnya dalam bentuk yang nyaman - <b><i>StatefulSets.</i></b> <br><br>  Inti dari Kubernetes adalah meningkatkan keandalan peluncuran kontainer.  Dengan itu dan menggunakan alat Velero (diinstal melalui Helm Chart), Anda dapat membuat cadangan dari seluruh cluster Kubernetes, bersama dengan disk yang melekat padanya, misalnya, yang dibuat oleh StatefulSet, dan mengembalikan semuanya dengan satu perintah.  Selain itu, mudah untuk mengkonfigurasi pencadangan otomatis sesuai jadwal. <br><br>  Cadangan, pemulihan dalam satu tim, dan manajer Kubernetes akan membantu Anda menggunakan kluster yang sama sekali baru dan memulihkan cadangannya hanya dengan dua tim.  Maksimal tiga, jika Anda pertama kali ingin membuat cadangan baru. <br><br>  Alih-alih berpikir di server, Anda dapat beroperasi di seluruh cluster. <br><br>  Apakah pra-produksi mengganggu?  Keluarkan dari pandangan - ke jarak pencadangan, pemulihan, dan perubahan DNS. <br><br><h3>  Pelajaran 5. VPN terlalu rumit, ada solusi yang lebih mudah </h3><br>  <i>Apakah Anda pernah menggunakan VPN dengan senang hati?</i> <br><br>  Tidak, sungguh  <i>Apakah itu mungkin?</i> <br><br>  Google telah melakukan upaya seperti itu.  Tetapi beberapa tahun yang lalu, perusahaan mengumumkan bahwa mereka tidak akan menggunakan VPN.  Saya pikir mereka juga tidak menikmatinya. <br><br>  Google beralih ke jaringan tanpa kepercayaan.  Mereka tidak memiliki kunci master yang cocok untuk jaringan apa pun, tetapi di pintu masuk ke setiap layanan ada kunci dalam bentuk layar masuk SSO.  Ingin masuk ke layanan pemantauan?  Masuk menggunakan nama pengguna dan kata sandi perusahaan Anda. <br><br>  Hanya diperlukan sedikit perubahan: alih-alih menggunakan VPN untuk otorisasi, gunakan proxy. <br><br>  VPN juga menghosting tautan manajemen Kubernetes di jaringan pribadi, sedangkan SSO tidak.  Tetapi mereka memiliki mekanisme otorisasi mereka sendiri.  Dalam kasus Google Cloud dan AWS, ini adalah Identity and Access Management (IAM) dan kemampuan untuk memasukkan daftar putih alamat IP. <br><br>  Jika mungkin untuk bekerja dengan arsitektur yang kurang besar tanpa banyak kerugian, mengapa tidak?  Jadilah seperti Google: Pindah dari VPN ke sistem â€œtidak percayaâ€. <br><br><h3>  Pelajaran 6. Mengatur, Mengotomatisasi, dan Menaklukkan </h3><br>  Ah, sepertinya bagi Anda bahwa sistematisasi itu lama?  Omong kosong!  Di masa depan, ini akan menghemat berjam-jam, berhari-hari, dan bahkan berminggu-minggu.  Untuk bekerja! <br><br>  Sistematisasi adalah satu-satunya cara realistis untuk menciptakan kembali infrastruktur lebih dari sekali. <br><br>  Jika setiap item pengaturan dapat ditingkatkan dengan mengubah dan melakukan sesuatu di git, pada dasarnya seluruh organisasi teknologi Anda bersifat deklaratif.  Setiap pengembang dengan akses ke git dapat dengan mudah memelihara sistem apa pun dalam kondisi kerja. <br><br>  Untuk melakukan ini, gunakan beberapa repositori kecil.  Monorepos membuat orang memotong sudut dan bergantung pada struktur dengan kepentingan artifisial.  Alih-alih, lebih baik menggunakan banyak repositori kecil yang bisa Anda tautkan nanti. <br><br>  Teman saya Matt dan saya sedang membuat alat yang disebut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><i>meta</i></a> untuk membantu melakukan ini pada tahap pengembangan.  Helm melakukan ini pada tahap produksi: baginya semuanya adalah bagan ketergantungan! <br><br><h3>  Kesimpulan </h3><br>  Jangan mengambil cangkang dari sepotong telur demi sepotong.  Kocok dan putar. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id457120/">https://habr.com/ru/post/id457120/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id457110/index.html">Unit Pengujian Pola C ++ dan Injeksi Mock Menggunakan Sifat</a></li>
<li><a href="../id457112/index.html">Hasil HolyJS 2019 Piter</a></li>
<li><a href="../id457114/index.html">Pilih sistem pengawasan video: cloud vs lokal dengan Internet</a></li>
<li><a href="../id457116/index.html">Fitur AvaloniaUI menggunakan MessageBox khusus</a></li>
<li><a href="../id457118/index.html">Habr Weekly # 6 / Runet siap berdiri terpisah, Adobe mencari jejak Photoshop, kerentanan Vim, geo-chat di Keranjang dan sesuatu yang lain</a></li>
<li><a href="../id457128/index.html">Situasi: Apakah perusahaan AdTech melanggar GDPR?</a></li>
<li><a href="../id457132/index.html">Substitusi impor dalam praktek. Bagian 3.1. "QP OS". Ulasan pertama dari jenisnya tentang sistem operasi</a></li>
<li><a href="../id457134/index.html">Otak mempercepat persepsi, menebak apa yang akan terjadi selanjutnya</a></li>
<li><a href="../id457136/index.html">Faktor kunci dari Pemberdayaan Tim yang Sukses</a></li>
<li><a href="../id457138/index.html">Friday Post: Pertanyaan Cewek Cinta</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>