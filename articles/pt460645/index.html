<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíò üî¨ ‚≠êÔ∏è Fazendo o bem fazendo o mal: escrevendo c√≥digo mal com Go, Parte 1 üëµ ‚õìÔ∏è üöõ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dicas ruins para um programador Go 


 Ap√≥s d√©cadas de programa√ß√£o em Java, nos √∫ltimos anos trabalhei principalmente no Go. Trabalhar com o Go √© √≥tim...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fazendo o bem fazendo o mal: escrevendo c√≥digo mal com Go, Parte 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460645/"><h4>  <i>Dicas ruins para um programador Go</i> </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/1c9/72b/d9b/1c972bd9b185f33a0348abfd7d81e470.png" alt="imagem"><br><br>  Ap√≥s d√©cadas de programa√ß√£o em Java, nos √∫ltimos anos trabalhei principalmente no Go.  Trabalhar com o Go √© √≥timo, principalmente porque o c√≥digo √© muito f√°cil de seguir.  Java simplificou o modelo de programa√ß√£o C ++, removendo heran√ßa m√∫ltipla, gerenciamento manual de mem√≥ria e sobrecarga do operador.  O Go faz o mesmo, continuando a avan√ßar para um estilo de programa√ß√£o simples e direto, removendo completamente a heran√ßa e a sobrecarga de fun√ß√µes.  C√≥digo simples √© um c√≥digo leg√≠vel e c√≥digo leg√≠vel √© um c√≥digo suportado.  E isso √© √≥timo para a empresa e meus funcion√°rios. <br><br>  Como em todas as culturas, o desenvolvimento de software tem suas pr√≥prias lendas, hist√≥rias que s√£o recontadas pelo bebedouro.  Todos n√≥s ouvimos falar de desenvolvedores que, em vez de se concentrarem em criar um produto de qualidade, se concentram em proteger seu pr√≥prio trabalho de pessoas de fora.  Eles n√£o precisam de c√≥digo suportado, porque isso significa que outras pessoas poder√£o entend√™-lo e modific√°-lo.  √â poss√≠vel no Go?  √â poss√≠vel tornar o c√≥digo Go t√£o complicado?  Eu direi imediatamente - essa n√£o √© uma tarefa f√°cil.  Vejamos as op√ß√µes poss√≠veis. <br><a name="habracut"></a><br>  Voc√™ pensa: ‚Äú <i>Quanto voc√™ pode corroer o c√≥digo em uma linguagem de programa√ß√£o?</i>  <i>√â poss√≠vel escrever um c√≥digo t√£o terr√≠vel no Go que seu autor se torne indispens√°vel na empresa?</i>  ¬ªN√£o se preocupe.  Quando eu era estudante, tinha um projeto no qual apoiava o c√≥digo Lisp-e de outra pessoa, escrito por um estudante de gradua√ß√£o.  De fato, ele conseguiu escrever o c√≥digo Fortran-e usando Lisp.  O c√≥digo tinha algo parecido com isto: <br><br><pre><code class="lisp hljs">(<span class="hljs-name"><span class="hljs-name">defun</span></span> add-mult-pi (<span class="hljs-name"><span class="hljs-name">in1</span></span> in2) (<span class="hljs-name"><span class="hljs-name">setq</span></span> a in1) (<span class="hljs-name"><span class="hljs-name">setq</span></span> b in2) (<span class="hljs-name"><span class="hljs-name">setq</span></span> c (<span class="hljs-name"><span class="hljs-name">+</span></span> ab)) (<span class="hljs-name"><span class="hljs-name">setq</span></span> d (<span class="hljs-name"><span class="hljs-name">*</span></span> <span class="hljs-number"><span class="hljs-number">3.1415</span></span> c) d )</code> </pre> <br>  Havia dezenas de arquivos desse c√≥digo.  Ele era absolutamente terr√≠vel e absolutamente brilhante ao mesmo tempo.  Passei meses tentando descobrir.  Comparado a isso, escrever c√≥digo incorreto no Go √© apenas um cuspe. <br><br>  Existem muitas maneiras diferentes de tornar seu c√≥digo sem suporte, mas analisaremos apenas algumas.  Para fazer o mal, voc√™ deve primeiro aprender a fazer o bem.  Portanto, primeiro examinamos como os programadores "bons" do Go escrevem e depois examinamos como fazer o oposto. <br><br><h3>  Embalagem ruim </h3><br>  Pacotes s√£o um t√≥pico √∫til para come√ßar.  Como a organiza√ß√£o de c√≥digos pode prejudicar a legibilidade? <br><br>  No Go, o nome do pacote √© usado para se referir √† entidade exportada (por exemplo, ` <i>fmt.Println`</i> <i>ou` http.RegisterFunc`</i> ).  Como podemos ver o nome do pacote, os programadores "bons" Go garantem que esse nome descreva quais s√£o as entidades exportadas.  N√£o devemos ter pacotes util, porque nomes como ` <i>util.JSONMarshal`</i> n√£o funcionar√£o para n√≥s - precisamos <i>do` json.Marshal`</i> . <br><br>  Os desenvolvedores "bons" do Go tamb√©m n√£o criam um pacote separado para o DAO ou modelo.  Para quem n√£o conhece este termo, um DAO √© um " <i>objeto de acesso a dados</i> " - uma camada de c√≥digo que interage com o banco de dados.  Eu trabalhava para uma empresa em que 6 servi√ßos Java importavam a mesma biblioteca DAO para acessar o mesmo banco de dados, que eles compartilhavam, porque " <i>... bem, voc√™ sabe, os microsservi√ßos s√£o os mesmos ...</i> ". <br><br>  Se voc√™ tiver um pacote separado com todos os seus DAOs, √© mais prov√°vel que voc√™ obtenha uma depend√™ncia circular entre pacotes, o que √© proibido no Go.  E se voc√™ tiver v√°rios servi√ßos que conectam este pacote DAO como uma biblioteca, tamb√©m poder√° encontrar uma situa√ß√£o em que uma altera√ß√£o em um servi√ßo exija a atualiza√ß√£o de todos os seus servi√ßos; caso contr√°rio, algo ser√° interrompido.  Isso √© chamado de mon√≥lito distribu√≠do e √© incrivelmente dif√≠cil de atualizar. <br><br>  Quando voc√™ sabe como a embalagem deve funcionar e o que a torna pior, "come√ßar a servir ao mal" se torna simples.  Organize mal o seu c√≥digo e d√™ nomes ruins aos seus pacotes.  Divida seu c√≥digo em pacotes como <i>model</i> , <i>util</i> e <i>dao</i> .  Se voc√™ realmente quer come√ßar a criar o caos, tente criar pacotes em homenagem ao seu gato ou √† sua cor favorita.  Quando as pessoas se deparam com depend√™ncias c√≠clicas ou mon√≥litos distribu√≠dos devido √† tentativa de usar seu c√≥digo, voc√™ precisa suspirar, revirar os olhos e dizer a eles que eles simplesmente agem errado ... <br><br><h3>  Interfaces inadequadas </h3><br>  Agora que todos os nossos pacotes est√£o corrompidos, podemos seguir para as interfaces.  As interfaces no Go n√£o s√£o como interfaces em outros idiomas.  O fato de voc√™ n√£o declarar explicitamente que esse tipo implementa a interface a princ√≠pio parece insignificante, mas, na verdade, reverte completamente o conceito de interface. <br><br>  Na maioria dos idiomas com tipos abstratos, uma interface √© definida antes ou ao mesmo tempo da implementa√ß√£o.  Voc√™ ter√° que fazer isso pelo menos para testar.  Se voc√™ n√£o criar a interface antecipadamente, n√£o poder√° inseri-la posteriormente sem quebrar todo o c√≥digo que usa essa classe.  Porque voc√™ precisa reescrev√™-lo com um link para a interface em vez de um tipo espec√≠fico. <br><br>  Por esse motivo, o c√≥digo Java geralmente possui interfaces de servi√ßo gigantescas com muitos m√©todos.  As classes que implementam essas interfaces usam os m√©todos necess√°rios e ignoram o restante.  √â poss√≠vel escrever testes, mas voc√™ adiciona um n√≠vel adicional de abstra√ß√£o e, ao escrever testes, geralmente recorre ao uso de ferramentas para gerar implementa√ß√µes desses m√©todos que voc√™ n√£o precisa. <br><br>  No Go, interfaces impl√≠citas determinam quais m√©todos voc√™ precisa usar.  O c√≥digo possui uma interface, e n√£o o contr√°rio.  Mesmo se voc√™ usar um tipo com muitos m√©todos definidos, poder√° especificar uma interface que inclua apenas os m√©todos necess√°rios.  Outro c√≥digo usando campos separados do mesmo tipo definir√° outras interfaces que cobrem apenas a funcionalidade necess√°ria.  Normalmente, essas interfaces t√™m apenas alguns m√©todos. <br><br>  Isso facilita a compreens√£o do seu c√≥digo, porque uma declara√ß√£o de m√©todo n√£o apenas determina quais dados ele precisa, mas tamb√©m indica com precis√£o que funcionalidade ser√° usada.  Essa √© uma das raz√µes pelas quais bons desenvolvedores Go seguem os conselhos: " <i>Aceite interfaces, retorne estruturas</i> ". <br><br>  Mas apenas porque essa √© uma boa pr√°tica, n√£o significa que voc√™ deve fazer isso ... <br>  A melhor maneira de tornar suas interfaces "ruins" √© retornar aos princ√≠pios de uso de interfaces de outros idiomas, ou seja,  Defina interfaces com anteced√™ncia como parte do c√≥digo chamado.  Defina interfaces enormes com muitos m√©todos usados ‚Äã‚Äãpor todos os clientes de servi√ßo.  Torna-se claro que m√©todos s√£o realmente necess√°rios.  Isso complica o c√≥digo, e a complica√ß√£o, como voc√™ sabe, √© o melhor amigo de um programador "maligno". <br><br><h3>  Passar ponteiros de heap </h3><br>  Antes de explicar o que isso significa, voc√™ precisa filosofar um pouco.  Se voc√™ se distrair e pensar, cada programa escrito faz a mesma coisa.  Ele recebe, processa e envia os dados processados ‚Äã‚Äãpara outro local.  √â assim, independentemente de voc√™ escrever um sistema de folha de pagamento, aceitar solicita√ß√µes HTTP e retornar p√°ginas da Web ou at√© mesmo verificar o joystick para rastrear um clique no bot√£o - os programas processam os dados. <br><br>  Se observarmos os programas dessa maneira, a coisa mais importante a fazer √© garantir que seja f√°cil entender como os dados s√£o convertidos.  Portanto, √© uma boa pr√°tica manter os dados inalterados pelo maior tempo poss√≠vel durante o programa.  Porque os dados que n√£o s√£o alterados s√£o f√°ceis de rastrear. <br><br>  No Go, temos tipos de refer√™ncia e tipos de valor.  A diferen√ßa entre os dois √© se a vari√°vel se refere a uma c√≥pia dos dados ou ao local dos dados na mem√≥ria.  Ponteiros, fatias, mapas, canais, interfaces e fun√ß√µes s√£o tipos de refer√™ncia e todo o resto √© um tipo de valor.  Se voc√™ atribuir uma vari√°vel de tipo de valor a outra vari√°vel, ela criar√° uma c√≥pia do valor;  alterar uma vari√°vel n√£o altera o valor de outra. <br><br>  Atribuir uma vari√°vel de um tipo de refer√™ncia a outra vari√°vel de um tipo de refer√™ncia significa que os dois compartilham a mesma √°rea de mem√≥ria; portanto, se voc√™ alterar os dados apontados pelo primeiro, altere os dados apontados pelo segundo.  Isso vale para vari√°veis ‚Äã‚Äãlocais e par√¢metros de fun√ß√£o. <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">//  a := 1 b := a b = 2 fmt.Println(a, b) // prints 1 2 //  c := &amp;a *c = 3 fmt.Println(a, b, *c) // prints 3 2 3 }</span></span></code> </pre> <br>  Os desenvolvedores do Kind Go querem facilitar a compreens√£o de como os dados s√£o coletados.  Eles tentam usar o tipo de valores como par√¢metros de fun√ß√µes o mais r√°pido poss√≠vel.  N√£o h√° como ir para marcar campos em estruturas ou par√¢metros de fun√ß√£o como finais.  Se uma fun√ß√£o usar par√¢metros de valor, alterar os par√¢metros n√£o alterar√° as vari√°veis ‚Äã‚Äãna fun√ß√£o de chamada.  Tudo o que a fun√ß√£o chamada pode fazer √© retornar o valor para a fun√ß√£o de chamada.  Portanto, se voc√™ preencher uma estrutura chamando uma fun√ß√£o com par√¢metros de valor, n√£o poder√° ter medo de transferir dados para a estrutura, porque entende de onde vieram cada campo na estrutura. <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Foo <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { A <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> B <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getA</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">20</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getB</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">string</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>,i*<span class="hljs-number"><span class="hljs-number">2</span></span>) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { f := Foo{} fA = getA() fB = getB(fA) <span class="hljs-comment"><span class="hljs-comment">//  ,    f fmt.Println(f) }</span></span></code> </pre> <br>  Bem, como nos tornamos "maus"?  Muito simples - virar esse modelo. <br><br>  Em vez de chamar fun√ß√µes que retornam os valores desejados, voc√™ passa um ponteiro para a estrutura na fun√ß√£o e permite que eles fa√ßam altera√ß√µes na estrutura.  Como cada fun√ß√£o tem sua pr√≥pria estrutura, a √∫nica maneira de descobrir quais campos est√£o mudando √© examinar o c√≥digo inteiro.  Voc√™ tamb√©m pode ter depend√™ncias impl√≠citas entre fun√ß√µes - a 1¬™ fun√ß√£o transfere os dados necess√°rios para a 2¬™ fun√ß√£o.  Mas no pr√≥prio c√≥digo, nada indica que voc√™ deve primeiro chamar a 1¬™ fun√ß√£o.  Se voc√™ criar suas estruturas de dados dessa maneira, pode ter certeza de que ningu√©m entender√° o que seu c√≥digo est√° fazendo. <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Foo <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { A <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> B <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setA</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(f *Foo)</span></span></span></span> { fA = <span class="hljs-number"><span class="hljs-number">20</span></span> } <span class="hljs-comment"><span class="hljs-comment">//   fA! func setB(f *Foo) { fB = fmt.Sprintf("%d", fA*2) } func main() { f := Foo{} setA(&amp;f) setB(&amp;f) // ,  setA  setB //    ? fmt.Println(f) }</span></span></code> </pre> <br><h3>  Superf√≠cie de p√¢nico </h3><br>  Agora estamos come√ßando a lidar com erros.  Voc√™ provavelmente acha que √© ruim escrever programas que lidam com erros em cerca de 75% e n√£o vou dizer que voc√™ est√° errado.  O c√≥digo Go geralmente √© preenchido com o tratamento de erros da cabe√ßa aos p√©s.  E, claro, seria conveniente process√°-los de maneira n√£o t√£o direta.  Erros acontecem, e lidar com eles √© o que diferencia os profissionais dos iniciantes.  A manipula√ß√£o de erros arrastada leva a programas inst√°veis ‚Äã‚Äãque s√£o dif√≠ceis de depurar e dif√≠ceis de manter.  √Äs vezes, ser um ‚Äúbom‚Äù programador significa ‚Äúsobrecarregar‚Äù. <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dus DBUserService)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Load</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(id </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(User, error)</span></span></span></span> { rows, err := dus.DB.Query(<span class="hljs-string"><span class="hljs-string">"SELECT name FROM USERS WHERE ID = ?"</span></span>, id) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> User{}, err } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !rows.Next() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> User{}, fmt.Errorf(<span class="hljs-string"><span class="hljs-string">"no user for id %d"</span></span>, id) } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> name <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> err = rows.Scan(&amp;name) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> User{}, err } err = rows.Close() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> User{}, err } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> User{Id: id, Name: name}, <span class="hljs-literal"><span class="hljs-literal">nil</span></span> }</code> </pre> <br>  Muitas linguagens, como C ++, Python, Ruby e Java, usam exce√ß√µes para manipular erros.  Se algo der errado, os desenvolvedores nessas linguagens lan√ßam ou lan√ßam uma exce√ß√£o, esperando que haja algum c√≥digo para lidar com isso.  Obviamente, o programa espera que o cliente esteja ciente de um poss√≠vel erro sendo lan√ßado em um determinado local, para que seja poss√≠vel lan√ßar uma exce√ß√£o.  Como, exceto (sem trocadilhos) as exce√ß√µes verificadas pelo Java, n√£o h√° nada na assinatura do m√©todo nas linguagens ou fun√ß√µes para indicar que uma exce√ß√£o pode ocorrer.  Ent√£o, como os desenvolvedores sabem com quais exce√ß√µes se preocupar?  Eles t√™m duas op√ß√µes: <br><br><ul><li>  Em primeiro lugar, eles podem ler todo o c√≥digo-fonte de todas as bibliotecas que seu c√≥digo chama e todas as bibliotecas que chamam as bibliotecas chamadas, etc. </li><li>  Em segundo lugar, eles podem confiar na documenta√ß√£o.  Posso ser tendencioso, mas a experi√™ncia pessoal n√£o me permite confiar totalmente na documenta√ß√£o. </li></ul><br>  Ent√£o, como levamos esse mal para ir?  Abuso de p√¢nico ( <i>p√¢nico</i> ) e recupera√ß√£o ( <i>recupera√ß√£o</i> ), √© claro!  O p√¢nico foi criado para situa√ß√µes como "a unidade caiu" ou "a placa de rede explodiu".  Mas n√£o para isso - "algu√©m passou a string em vez de int". <br><br>  Infelizmente, outros "desenvolvedores menos esclarecidos" retornar√£o erros de seu c√≥digo.  Portanto, aqui est√° uma pequena fun√ß√£o auxiliar do PanicIfErr.  Use-o para transformar os erros de outros desenvolvedores em p√¢nico. <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PanicIfErr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(err error)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">panic</span></span>(err) } }</code> </pre> <br>  Voc√™ pode usar o PanicIfErr para ocultar os erros de outras pessoas, compactar o c√≥digo.  N√£o h√° mais tratamento de erros feio!  Qualquer erro agora √© um p√¢nico.  √â t√£o produtivo! <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dus DBUserService)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LoadEvil</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(id </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">User</span></span></span></span> { rows, err := dus.DB.Query( <span class="hljs-string"><span class="hljs-string">"SELECT name FROM USERS WHERE ID = ?"</span></span>, id) PanicIfErr(err) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !rows.Next() { <span class="hljs-built_in"><span class="hljs-built_in">panic</span></span>(fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"no user for id %d"</span></span>, id)) } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> name <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> PanicIfErr(rows.Scan(&amp;name)) PanicIfErr(rows.Close()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> User{Id: id, Name: name} }</code> </pre> <br>  Voc√™ pode colocar a recupera√ß√£o em algum lugar mais pr√≥ximo do in√≠cio do programa, talvez em seu pr√≥prio <i>middleware</i> .  E depois diga que voc√™ n√£o apenas processa erros, mas tamb√©m torna o c√≥digo de outra pessoa mais limpo.  Fazer o mal fazendo o bem √© o melhor tipo de mal. <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PanicMiddleware</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(h http.Handler)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">http</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Handler</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> http.HandlerFunc( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(rw http.ResponseWriter, req *http.Request)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">defer</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> r := <span class="hljs-built_in"><span class="hljs-built_in">recover</span></span>(); r != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { fmt.Println(<span class="hljs-string"><span class="hljs-string">", - ."</span></span>) } }() h.ServeHTTP(rw, req) } ) }</code> </pre> <br><h3>  Definir efeitos colaterais </h3><br>  Em seguida, criaremos um efeito colateral.  Lembre-se de que o desenvolvedor "bom" do Go quer entender como os dados passam pelo programa.  A melhor maneira de saber pelo que os dados passam √© configurar depend√™ncias expl√≠citas no aplicativo.  Mesmo as entidades que correspondem √† mesma interface podem variar bastante de comportamento.  Por exemplo, um c√≥digo que armazena dados na mem√≥ria e um c√≥digo que acessa o banco de dados para o mesmo trabalho.  No entanto, existem maneiras de instalar depend√™ncias no Go sem chamadas expl√≠citas. <br><br>  Como muitos outros idiomas, o Go tem uma maneira de executar c√≥digo magicamente sem invoc√°-lo diretamente.  Se voc√™ criar uma fun√ß√£o chamada init sem par√¢metros, ela ser√° iniciada automaticamente quando o pacote for carregado.  E, para confundir ainda mais, se em um arquivo houver v√°rias fun√ß√µes com o nome init ou v√°rios arquivos em um pacote, todas elas ser√£o iniciadas. <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> account <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Account <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span>{ Id <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> UserId <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { fmt.Println(<span class="hljs-string"><span class="hljs-string">"  !"</span></span>) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { fmt.Println(<span class="hljs-string"><span class="hljs-string">"   ,     init()"</span></span>) }</code> </pre> <br>  As fun√ß√µes de inicializa√ß√£o geralmente s√£o associadas a importa√ß√µes vazias.  O Go tem uma maneira especial de declarar importa√ß√µes, que se parece com `import _‚Äú github.com / lib / pq`.  Quando voc√™ define um identificador de nome vazio para um pacote importado, o m√©todo init √© executado nele, mas n√£o mostra nenhum dos identificadores de pacote.  Para algumas bibliotecas Go - como drivers de banco de dados ou formatos de imagem - voc√™ deve carreg√°-las ativando a importa√ß√£o de pacotes vazios, apenas para chamar a fun√ß√£o init para que o pacote possa registrar seu c√≥digo. <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _ <span class="hljs-string"><span class="hljs-string">"github.com/lib/pq"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { db, err := sql.Open( <span class="hljs-string"><span class="hljs-string">"postgres"</span></span>, <span class="hljs-string"><span class="hljs-string">"postgres://jon@localhost/evil?sslmode=disable"</span></span>) }</code> </pre><br>  E esta √© claramente uma op√ß√£o "m√°".  Quando voc√™ usa a inicializa√ß√£o, o c√≥digo que funciona magicamente fica completamente fora do controle do desenvolvedor.  As pr√°ticas recomendadas n√£o recomendam o uso das fun√ß√µes de inicializa√ß√£o - esses s√£o recursos n√£o √≥bvios, confundem o c√≥digo e s√£o f√°ceis de ocultar na biblioteca. <br><br>  Em outras palavras, as fun√ß√µes init s√£o ideais para nossos prop√≥sitos malignos.  Em vez de configurar ou registrar explicitamente entidades em pacotes, voc√™ pode usar as fun√ß√µes de inicializa√ß√£o e importa√ß√£o vazia para configurar o estado do seu aplicativo.  Neste exemplo, disponibilizamos a conta para o restante do aplicativo por meio do registro, e o pr√≥prio pacote √© colocado no registro usando a fun√ß√£o init. <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> account <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ( <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/evil-go/example/registry"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> StubAccountService <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a StubAccountService)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetBalance</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(accountId </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">int</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1000000</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { registry.Register(<span class="hljs-string"><span class="hljs-string">"account"</span></span>, StubAccountService{}) }</code> </pre> <br>  Se voc√™ deseja usar uma conta, coloque uma importa√ß√£o vazia no seu programa.  Ele n√£o precisa ser o c√≥digo principal ou relacionado - apenas precisa estar "em algum lugar".  Isso √© m√°gico! <br><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> main <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ( _ <span class="hljs-string"><span class="hljs-string">"github.com/evil-go/example/account"</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/evil-go/example/registry"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Balancer <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> { GetBalance(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { a := registry.Get(<span class="hljs-string"><span class="hljs-string">"account"</span></span>).(Balancer) money := a.GetBalance(<span class="hljs-number"><span class="hljs-number">12345</span></span>) }</code> </pre> <br>  Se voc√™ usar o inits em suas bibliotecas para configurar depend√™ncias, ver√° imediatamente que outros desenvolvedores est√£o intrigados sobre como essas depend√™ncias foram instaladas e como alter√°-las.  E ningu√©m ser√° mais s√°bio que voc√™. <br><br><h3>  Configura√ß√£o complicada </h3><br>  Ainda h√° muito que podemos fazer com a configura√ß√£o.  Se voc√™ √© um desenvolvedor Go "bom", voc√™ deseja isolar a configura√ß√£o do restante do programa.  Na fun√ß√£o main (), voc√™ obt√©m vari√°veis ‚Äã‚Äãdo ambiente e as converte nos valores necess√°rios para componentes explicitamente relacionados entre si.  Seus componentes n√£o sabem nada sobre arquivos de configura√ß√£o ou como s√£o denominadas suas propriedades.  Para componentes simples, voc√™ define propriedades p√∫blicas e, para outras mais complexas, pode criar uma fun√ß√£o de f√°brica que recebe informa√ß√µes de configura√ß√£o e retorna um componente configurado corretamente. <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { b, err := ioutil.ReadFile(<span class="hljs-string"><span class="hljs-string">"account.json"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> err != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { fmt.Errorf(<span class="hljs-string"><span class="hljs-string">"error reading config file: %v"</span></span>, err) os.Exit(<span class="hljs-number"><span class="hljs-number">1</span></span>) } m := <span class="hljs-keyword"><span class="hljs-keyword">map</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>]<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>{}{} json.Unmarshal(b, &amp;m) prefix := m[<span class="hljs-string"><span class="hljs-string">"account.prefix"</span></span>].(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>) maker := account.NewMaker(prefix) } <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Maker <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { prefix <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(m Maker)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NewAccount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Account</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Account{Name: name, Id: m.prefix + <span class="hljs-string"><span class="hljs-string">"-12345"</span></span>} } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NewMaker</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(prefix </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Maker</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Maker{prefix: prefix} }</code> </pre> <br>  Mas os desenvolvedores "maus" sabem que √© melhor espalhar as informa√ß√µes sobre a configura√ß√£o por todo o programa.  Em vez de ter uma fun√ß√£o em um pacote que define os nomes e os tipos de valor para o seu pacote, use uma fun√ß√£o que aceite a configura√ß√£o e a converta por conta pr√≥pria. <br><br>  Se isso parecer "muito ruim", use a fun√ß√£o init para carregar o arquivo de propriedades de dentro do seu pacote e defina os valores voc√™ mesmo.  Pode parecer que voc√™ facilitou a vida de outros desenvolvedores, mas voc√™ e eu sabemos ... <br><br>  Usando a fun√ß√£o init, voc√™ pode definir novas propriedades na parte de tr√°s do c√≥digo, e ningu√©m as encontrar√° at√© que entrem em produ√ß√£o e tudo caia, porque algo n√£o entrar√° em uma das dezenas de arquivos de propriedades necess√°rios para executar.  Se voc√™ quer ainda mais "poder maligno", pode sugerir a cria√ß√£o de um wiki para acompanhar todas as propriedades em todas as bibliotecas e "esquecer" periodicamente e adicionar novas.  Como detentor de propriedades, voc√™ se torna a √∫nica pessoa que pode executar o software. <br><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(m maker)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NewAccount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Account</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Account{Name: name, Id: m.prefix + <span class="hljs-string"><span class="hljs-string">"-12345"</span></span>} } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Maker maker <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { b, _ := ioutil.ReadFile(<span class="hljs-string"><span class="hljs-string">"account.json"</span></span>) m := <span class="hljs-keyword"><span class="hljs-keyword">map</span></span>[<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>]<span class="hljs-keyword"><span class="hljs-keyword">interface</span></span>{}{} json.Unmarshal(b, &amp;m) Maker.prefix = m[<span class="hljs-string"><span class="hljs-string">"account.prefix"</span></span>].(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>) }</code> </pre> <br><h3>  Estruturas de funcionalidade </h3><br>  Finalmente, chegamos ao t√≥pico de estruturas versus bibliotecas.  A diferen√ßa √© muito sutil.  N√£o √© apenas sobre tamanho;  voc√™ pode ter bibliotecas grandes e estruturas pequenas.  A estrutura chama seu c√≥digo enquanto voc√™ mesmo chama o c√≥digo da biblioteca.  As estruturas exigem que voc√™ escreva seu c√≥digo de uma certa maneira, seja nomeando seus m√©todos de acordo com regras espec√≠ficas ou que correspondam a determinadas interfaces ou for√ßando voc√™ a registrar seu c√≥digo na estrutura.  As estruturas t√™m seus pr√≥prios requisitos para todo o seu c√≥digo.  Ou seja, em geral, as estruturas comandam voc√™. <br><br>  O Go incentiva o uso de bibliotecas porque as bibliotecas est√£o vinculadas.  Embora, √© claro, cada biblioteca espere que os dados sejam transmitidos em um formato espec√≠fico, voc√™ pode escrever algum c√≥digo de conex√£o para converter a sa√≠da de uma biblioteca em entrada para outra. <br>  √â dif√≠cil fazer com que as estruturas funcionem juntas sem problemas, porque todas as estruturas desejam controle completo sobre o ciclo de vida do c√≥digo.  Geralmente, a √∫nica maneira de fazer com que as estruturas funcionem juntas √© que os autores da estrutura se re√∫nam e organizem claramente o apoio m√∫tuo.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> E a melhor maneira de usar as "estruturas malignas" para obter poder a longo prazo √© escrever sua pr√≥pria estrutura, que √© usada apenas dentro da empresa. </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mal atual e futuro </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tendo dominado esses truques, voc√™ sempre embarcar√° no caminho do mal. </font><font style="vertical-align: inherit;">Na segunda parte, mostrarei como implantar todo esse "mal" e como transformar corretamente o c√≥digo do "bom" em "mal".</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt460645/">https://habr.com/ru/post/pt460645/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt460633/index.html">Detalhes de implementa√ß√£o para RSTP e redund√¢ncia de anel estendida propriet√°ria</a></li>
<li><a href="../pt460635/index.html">CLRium # 6: Simultaneidade e Paralelismo. Dois dias: do processador ao ass√≠ncrono / aguardar</a></li>
<li><a href="../pt460637/index.html">Controle de luz no ZigBee</a></li>
<li><a href="../pt460641/index.html">YouTokenToMe: uma ferramenta para tokeniza√ß√£o r√°pida de texto da equipe VKontakte</a></li>
<li><a href="../pt460643/index.html">Distribui√ß√£o uniforme de pontos em uma esfera</a></li>
<li><a href="../pt460647/index.html">Solu√ß√£o de um trabalho com pwnable.kr 05 - c√≥digo de acesso. Reescreva a tabela de links de procedimentos atrav√©s da vulnerabilidade de cadeia de formato</a></li>
<li><a href="../pt460651/index.html">Reuni√£o da Sociedade de Testadores An√¥nimos: TMS, monitoramento, monitoramento, avalia√ß√£o da qualidade da pesquisa e testes iOS nativos</a></li>
<li><a href="../pt460655/index.html">Como quebrei o Telegram</a></li>
<li><a href="../pt460659/index.html">Usando Tubos para Giro</a></li>
<li><a href="../pt460661/index.html">Tudo o que voc√™ precisa saber sobre o Node.js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>