<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêØ üê£ üë®‚Äç‚úàÔ∏è Sobre el m√©todo de autenticaci√≥n muy esp√≠a üÖøÔ∏è üßùüèæ üèùÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Entonces, enviamos a los agentes s√∫per secretos Alice y Bob a un pa√≠s enemigo encubierto. Durante la misi√≥n, deber√°n contactar y trabajar juntos, inte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sobre el m√©todo de autenticaci√≥n muy esp√≠a</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456670/"><p> Entonces, enviamos a los agentes s√∫per secretos Alice y Bob a un pa√≠s enemigo encubierto.  Durante la misi√≥n, deber√°n contactar y trabajar juntos, intercambiar informaci√≥n, asuntos de espionaje ordinarios.  Por supuesto, todo esto debe hacerse de acuerdo con todas las reglas y procedimientos de seguridad posibles. </p><br><p>  De hecho, en el √∫ltimo turno, queremos revelarlos: tanto la misi√≥n misma como los agentes mismos y toda la seguridad nacional est√°n en riesgo.  Por lo tanto, nos interesa brindar a los esp√≠as la informaci√≥n m√≠nima necesaria.  En particular, cuanto menos sepan unos de otros y las t√©cnicas de comunicaci√≥n, mejor. </p><br><p>  Pero, ¬øc√≥mo identificar√°n entonces a su camarada de la sede? </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/ceb/454/721/ceb4547217be4972a9e5f8fe323cf257.gif" alt="KDPV"></p><br><p>  TL; DR: inventar un mecanismo de autenticaci√≥n de usuarios utilizando esteganograf√≠a para una agencia imaginaria de tres caracteres de un pa√≠s inexistente. </p><a name="habracut"></a><br><h2 id="o-volkah-i-ovechih-shkurah">  Sobre lobos y pieles de oveja </h2><br><p>  Una tapa es una tapa, por lo que ni Alice ni Bob deber√≠an despertar sospechas por ninguna de sus acciones.  La planificaci√≥n adecuada implica paranoia sobre el monitoreo constante de ellos en todos los niveles posibles.  Esta publicaci√≥n no abordar√° la tarea del intercambio directo de informaci√≥n (merece su propia serie separada), sino solo una forma de asegurarse de que sea transmitida por quienes la necesitan a quien la necesita. </p><br><p>  Lo m√°s probable es que ambos esp√≠as tengan una historia en el formato de ciudadanos comunes, adem√°s, de ninguna manera conectados entre s√≠.  Por lo tanto, debe vetar de inmediato el uso de herramientas criptogr√°ficas cl√°sicas y canales seguros: cada agente de contrainteligencia sabe que las personas honestas que no tienen una relaci√≥n cercana no tienen nada que ocultar. </p><br><h2 id="chto-delat">  Que hacer </h2><br><p>  Por supuesto, tal tarea no es nueva, felizmente existi√≥ y se resolvi√≥ mucho antes del advenimiento de estos de su Internet.  Y no solo se ha decidido, sino que algunas decisiones se han fortalecido en la cultura y todav√≠a se encuentran en libros, pel√≠culas y juegos. </p><br><p>  Veamos una escena as√≠: dos personas con abrigos largos convergen en un lugar p√∫blico e intercambian frases muy extra√±as.  Si la frase inicial y la respuesta son correctas, la autenticaci√≥n fue exitosa y las personas intercambian carpetas marcadas como "Top Secret" y divergen en direcciones desconocidas. </p><br><p>  El inconveniente de tal esquema es inmediatamente obvio: las frases deben mantenerse en secreto y a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">menudo cambiarse</a> , lo que no es muy simple en territorio enemigo.  Al mismo tiempo, para no ser pronunciados por casualidad y no conducir al caso de KDPV, se vuelven bastante prominentes y aleatorios, lo que significa que pueden entregar agentes que los pronuncian. </p><br><p><img src="https://habrastorage.org/webt/pl/pe/sh/plpeshe7ifcmijrxlaziosekgey.png"></p><br><p>  A nosotros, en la era de la tecnolog√≠a digital, no nos gusta este m√©todo.  Especialmente si recuerdas que casi todos los canales de comunicaci√≥n est√°n controlados por alguien y se aprovechan tanto por motivos buenos como malos.  Y no importa lo que nos aseguren, no se debe confiar en la vida de las personas en la pol√≠tica de privacidad de ning√∫n Facebook. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/984/c5d/c5d/984c5dc5dae5cba450b58907693ceed6.png"></p><br><h2 id="steganografiya-opyat">  Esteganograf√≠a (¬øotra vez?) </h2><br><p>  Erizo, est√° claro que la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">capacidad de esconderse el uno al otro</a> en tal situaci√≥n parece m√°s atractiva que nunca.  Y, de hecho, incluso el m√©todo descrito es su subespecie: las frases de c√≥digo se pueden considerar como contenedores con solo un poco de informaci√≥n dentro. </p><br><p>  El mismo mam√≠fero del destacamento insect√≠voro entiende que esto no se trata simplemente de lanzar stegocontainers entre s√≠.  Tal intercambio causar√° casi m√°s sospechas que algunos cifrados PGP comunes, por lo que no estamos interesados. </p><br><h3 id="a-o-chem-togda">  ¬øQu√© hay de entonces? </h3><br><p>  A diferencia de los criptogramas, los stegocontenedores tienen una ventaja obvia: el contexto de la aplicaci√≥n.  Cualquier texto, imagen, archivo de audio, etc., adem√°s del contenido obvio, tambi√©n conlleva la posibilidad de su discusi√≥n <strong>natural</strong> y puede enviarse no solo desde la bah√≠a, sino en el proceso de un di√°logo que no causa sospechas. </p><br><p>  Armados con tales ideas, ya podemos elaborar un protocolo de autenticaci√≥n esteganogr√°fica simple basado en una clave com√∫n: </p><br><ul><li>  A -&gt; B: un bonito mensaje que solicita un contenedor esteganogr√°fico de ciertos par√°metros; </li><li>  B: selecciona el contenedor <em>C</em> que coincide con el contexto y los par√°metros solicitados; </li><li>  B: de manera similar crea un mensaje <em>M</em> ; </li><li>  B -&gt; A: <em>C '= Incrustar (C, M, K)</em> ; </li><li>  A: Verifica que <em>C '</em> cumpla con los par√°metros establecidos; </li><li>  A -&gt; B: <em>M '= Extracto (C', K)</em> ; </li><li>  B: Comprueba si <em>M</em> y <em>M '</em> coinciden. </li></ul><br><p>  Tal protocolo tiene inconvenientes obvios: Alice y Bob deben tener una clave com√∫n y funciones de incrustaci√≥n y extracci√≥n.  Su compromiso puede llevar a la posibilidad de un an√°lisis detallado del m√©todo de autenticaci√≥n del enemigo y poner en peligro tanto a otros usuarios como a la sede.  Algo necesita ser arreglado. </p><br><h2 id="ispolnitel-ne-cherepashka">  El artista no es un error. </h2><br><p>  Si el lector fue a la escuela despu√©s del advenimiento de las clases de computaci√≥n, entonces deber√≠a recordar haber aprendido los conceptos b√°sicos de la algoritmizaci√≥n utilizando el personaje de una tortuga, una hormiga y similares.  Su idea era demostrar las posibilidades de optimizar una gran cantidad de acciones individuales manuales mediante la creaci√≥n de programas simples.  Para resolver nuestro problema, debemos ir en la direcci√≥n opuesta. </p><br><p><img src="https://habrastorage.org/webt/nc/lo/lo/nclolotljunb2zzbkgr2-4qo0ri.png" alt="Bueno, ¬øno es lindo?"></p><br><p>  Dado que podemos simplificar la escritura del algoritmo final desde la secuencia de pasos hasta su descripci√≥n de procedimiento de acuerdo con los par√°metros dados, podemos llevar a cabo el proceso inverso.  Si imagina un contenedor como una matriz de algunos de sus componentes, la incrustaci√≥n de un mensaje por clave puede escribirse como una secuencia ordenada de operaciones en elementos del contenedor en √≠ndices espec√≠ficos con varios par√°metros constantes. </p><br><p>  Aqu√≠ es donde comienza la no matem√°tica, as√≠ que les pido a los t√≠midos que simplemente hojeen los p√°rrafos dif√≠ciles de ver a la secci√≥n de operaciones o incluso un poco m√°s.  Nada terrible suceder√°, lo prometo. </p><br><p>  Para incrustar los datos, necesitamos una secuencia de la forma: <em>(f1, S1, i, D1), (f2, S2, j, D2) ...</em> , donde: </p><br><ul><li>  <em>Di</em> - alguna parte de los datos incrustados; </li><li>  <em>i, j</em> son los √≠ndices de los elementos del contenedor; </li><li>  <em>fi: (Estado, Elemento, D) -&gt; (Estado, Elemento)</em> - funci√≥n de inserci√≥n; </li><li>  <em>Si</em> es un cierto estado, el contexto de la operaci√≥n, <em>(El ', S [i + 1]) = fi (Si, El, Di)</em> . </li></ul><br><p>  Para extraerlo, no necesita almacenar partes de los datos (K.O.), por lo tanto, hay suficientes triples: <em>(g1, S1, I1), (g2, S2, I2) ...</em> con los mismos valores, solo <em>gi: (Estado, Elemento) -&gt; (Estado, D)</em> . </p><br><p>  Todo esto puede ser representado por el siguiente diagrama sim√©trico.  Si por alguna raz√≥n no logr√© alcanzar la claridad, entonces no da miedo, solo sigue leyendo. </p><br><p><img src="https://habrastorage.org/webt/l7/yk/pk/l7ykpkwfi8sfkcebwxryswzo1r0.png" alt="Bueno o no mas"></p><br><p>  Se puede ver que la funci√≥n de incrustaci√≥n tiene un mayor n√∫mero de grados de libertad.  A diferencia de su hermana, ella modifica el contenedor, mientras lo hace sobre la base de dos elementos independientes: los datos incrustados y el elemento.  Gracias o, m√°s precisamente, debido a esto, son posibles dos enfoques globales para la implementaci√≥n del algoritmo de esteganograf√≠a por parte de dicho sistema: </p><br><ol><li>  Elija los √≠ndices m√°s apropiados de los elementos para cambiar de acuerdo con la funci√≥n de incrustaci√≥n (menos notable o que no lo requiera) y transfiera la secuencia formada vinculada a un contenedor espec√≠fico.  Con este enfoque, deben aislarse unos de otros antes de que surja la necesidad de incorporarlos utilizando m√©todos cl√°sicos como el cifrado y otros medios seguros; </li><li>  Encuentre un m√©todo para dividir el contenedor en elementos y la funci√≥n de incrustaci√≥n para que cualquier cambio esperado sea igualmente invisible.  En este caso, la secuencia es independiente del contenedor y puede crearse incluso mediante un generador completamente aleatorio.  Menos flexibilidad y falta de control del peor de los casos.  Por otro lado, este enfoque es m√°s simple y m√°s conveniente cuando se aplica en el campo, por lo que a continuaci√≥n lo usar√©. </li></ol><br><p>  Si el algoritmo no requiere el estado, todo lo anterior sigue siendo v√°lido, simplemente sin una sola letra y bloque en el diagrama.  Sin ella, es incluso m√°s f√°cil, en realidad. </p><br><h2 id="i-zachem-ono-nam">  ¬øY por qu√© lo necesitamos? </h2><br><p>  Ahora, si sabe de antemano qu√© contenedores con qu√© mensajes y claves se utilizar√°n, en lugar de revelar completamente las partes del algoritmo, puede generar y dar agentes para usar solo tales secuencias y un int√©rprete para ellas.  Bueno, ok, no solo dando, por supuesto, sino m√°s sobre eso m√°s tarde. </p><br><h3 id="dobavlyaem-asimmetrichnost">  A√±adir asimetr√≠a </h3><br><p>  Incluso un artista de tortugas puede dibujar un cuadrado de cientos de formas diferentes, simplemente cambiando el orden de las operaciones y agregando otras nuevas.  Esto significa que nadie nos molesta y hace lo mismo con las secuencias descritas para los datos de entrada fijos. </p><br><p>  Es decir, podemos tomar la secuencia de incrustaci√≥n, agregar nuevas operaciones, mezclar todo y as√≠ el resultado sigue siendo el mismo.  A menos que, en presencia de un estado, sea necesario rastrearlo y agregar por separado los cambios necesarios a la secuencia.  Por eso sin eso es m√°s f√°cil, s√≠. </p><br><p>  De una forma u otra, despu√©s de tal amasado y ruidoso, incluso el mismo integrador ya no podr√° entender lo que realmente est√° incorporando: ¬°cualquier secuencia de <em>N</em> operaciones representar√° <em>N!</em>  mensajes potencialmente incrustados: uno para cada permutaci√≥n de las partes incrustadas.  Al mismo tiempo, <em>N en</em> s√≠ es una gran pregunta.  Por lo tanto, uno puede llamar a tales secuencias abiertas: no proporcionan ninguna informaci√≥n sobre el mensaje incrustado, ni sobre el algoritmo y la clave utilizados. </p><br><p>  Al extraer informaci√≥n, es muy importante para nosotros tanto el orden (restaurar el mismo mensaje correcto de todos los posibles) como el n√∫mero de partes a extraer, para que las secuencias de extracci√≥n permanezcan sin cambios desde el momento del nacimiento.  Dado que impl√≠citamente contienen informaci√≥n sobre la clave, el generador y el algoritmo utilizados, ellos, como los animales del libro rojo, deben almacenarse y protegerse.  Y mantenlo en secreto. </p><br><p>  ¬øQu√© tiene que ver la asimetr√≠a con ella?  El hecho es que ahora cada secuencia de extracci√≥n est√° asociada con un n√∫mero infinito de integradores.  Y restaurar uno del otro es, en el caso general, una tarea insoluble. </p><br><h3 id="ekspluatiruem">  Estamos operando </h3><br><p>  Nos olvidamos de cualquier matem√°tica cercana y volvemos a la tarea original: ¬øc√≥mo podemos enviar a Alice y Bob al territorio enemigo para: </p><br><ul><li>  no se conoc√≠an las caras </li><li>  no ten√≠a algoritmos secretos a mano </li><li>  pero, ¬øpodr√≠an verificarse mutuamente mientras se comunican en un canal abierto? </li></ul><br><p>  Bueno, con el primer p√°rrafo todo est√° claro, simplemente no les damos ninguna informaci√≥n expl√≠cita el uno del otro, ni claves compartidas.  Para el segundo, debe recordar la descripci√≥n del protocolo anterior.  Ahora podemos excluir directamente los algoritmos de <em>Incrustar</em> y <em>Extraer</em> que representan posibles secretos de estado y todo eso.  Y, teniendo esto en cuenta, para el tercero es posible elaborar el siguiente protocolo de dos etapas. </p><br><p>  Generaci√≥n de informaci√≥n de autenticaci√≥n <strong>antes del inicio de la misi√≥n</strong> con la sede como parte confiable de Trent: </p><br><ul><li>  T: selecciona el algoritmo secreto y la clave secreta K, crea con su ayuda: <br><ul><li>  Extraer secuencia <em>Ex</em> ; </li><li>  adecuado para autenticaci√≥n (abajo) contexto <em>Ctx</em> ; </li></ul></li><li>  T -&gt; A: <em>Ctx, Ex</em> ; </li><li>  T: usando <em>Ex</em> y el contexto creado, genera: <br><ul><li>  mensaje <em>M</em> no utilizado previamente para los agentes seleccionados entre las partes <em>| Ex |</em>  ; </li><li>  una secuencia √∫nica de <em>Em</em> , que se abre como se describe anteriormente; </li></ul></li><li>  T -&gt; B: <em>Em, h (M)</em> , si lo desea, crea conjuntos adicionales. </li></ul><br><p>  Por lo tanto, Alice solo tiene una secuencia para todas las ocasiones y el contexto de contacto futuro, y Bob se convierte en el feliz propietario de un conjunto de secuencias √∫nicas y mensajes hash que incrustan. </p><br><p>  El protocolo de autenticaci√≥n ya <strong>durante la misi√≥n se</strong> ve as√≠: </p><br><ul><li>  A -&gt; B: un mensaje de <em>MI de</em> inicio basado en el contexto <em>Ctx</em> con una descripci√≥n del contenedor; </li><li>  B: selecciona el <em>C ~ IM</em> apropiado; </li><li>  B -&gt; A: <em>C '= Em (C)</em> ; </li><li>  A: verifica el cumplimiento de <em>C '~ IM</em> (dado que los cambios son invisibles, debe guardarse); </li><li>  A -&gt; B: <em>M '= Ex (C')</em> , marca M 'como se usa; </li><li>  B: controles, <em>h (M ') == h (M)</em> , destruye <em>Em, h (M)</em> . </li></ul><br><p>  Un lector atento notar√° que antes del protocolo, Alice y Bob tienen solo un conjunto de informaci√≥n, que en s√≠ mismo no significa nada para ellos, ni para un posible adversario, y solo durante el "juego con los colores". </p><br><p>  Cada conjunto abierto de Bob se usa solo una vez, que est√° controlado por el pen√∫ltimo paso de Alice.  Cuando se encuentra con una <em>M</em> previamente utilizada (y, por lo tanto, <em>Em</em> invisible <em>por</em> ella) por otra persona, se da cuenta de que uno de sus "asociados" es falso. </p><br><p>  La reutilizaci√≥n por parte de la misma persona le dice que ella no est√° al tanto de las complejidades del protocolo y que ciertamente no es con quien necesitaba ponerse en contacto.  Bueno, m√°s vale tarde que nunca. </p><br><p><img src="https://habrastorage.org/webt/bv/6v/0h/bv6v0hcim8kmzndrvn5__thsp1y.png"></p><br><p>  De acuerdo, as√≠ es como todo parece demasiado complicado e incomprensible.  ¬øAlguien ha llegado aqu√≠? </p><br><p>  Vamos a demostrarlo mejor en la pr√°ctica, porque incluso los propios esp√≠as no necesitan conocer los detalles del protocolo para su uso, y mucho menos para los lectores pobres.  Solo al principio un poco sobre c√≥mo se implement√≥ todo. </p><br><h2 id="vysokie-tehnologii">  Alta tecnolog√≠a </h2><br><p>  Por lo tanto, solo queda escribir todo lo necesario para el protocolo.  Bueno, no haces todo con tus manos (aunque puedes).  Y hoy la v√≠ctima de mi c√≥digo ser√° ... <em>girando la rueda de la fortuna</em> ... ¬øJava?  Bueno, est√° bien, al mismo tiempo que todo en STL estar√°, no tendr√°s que buscar nada. </p><br><p>  Comencemos con la API requerida.  Para trabajar, solo necesita determinar la clase de la matriz de elementos contenedores con la capacidad de recibir y cambiar elementos por √≠ndice: </p><br><pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyContainer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">StegoContainer</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyElement</span></span></span><span class="hljs-class">&gt; </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> MyElement </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> i)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  i-  } public void set(int i, MyElement v) { //  i-  } public int size() { //    } }</span></span></code> </pre> <br><p>  El uso adicional se reduce a crear una envoltura de un aut√≥mata esteganogr√°fico sobre el contenedor necesario y proporcionar las funciones de incrustar y extraer a su entrada: </p><br><pre> <code class="java hljs">StegoMachine&lt;MyState, MyElement&gt; myMachine = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StegoMachine( initialState, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyContainer&lt;MyElement&gt;(<span class="hljs-comment"><span class="hljs-comment">/*   */</span></span>) ); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> StegoEmbed myEmbed = (st, el, dp) -&gt; { <span class="hljs-comment"><span class="hljs-comment">//    dp   el   st }; final StegoExtract myExtract = (st, el) -&gt; { //     el   st return dp; }; //    MyDataPart part = /*    */; myMachine.exec(1337, myEmbed, part); //... //    /,   //      State currState = myMachine.getState(); //... //    part = myMachine.exec(80085, myExtract); //... //        MyContainer container = (MyContainer) myMachine.getContainer();</span></span></code> </pre> <br><p>  Las clases con el sufijo Sin estado se usan de la misma manera, si la implementaci√≥n del algoritmo no requiere mantener el estado interno. </p><br><p>  Los generadores de secuencia pueden funcionar como desee y no tienen una API com√∫n.  En el caso general, cualquier cosa puede ser parte de los datos en general, desde bits solitarios hasta arte rupestre en una codificaci√≥n separada. </p><br><h3 id="primer-realizacii">  Ejemplo de implementaci√≥n </h3><br><h4 id="o-metode">  Acerca de M√©todo </h4><br><p>  Como ejemplo de implementaci√≥n, utilizando las interfaces creadas, implement√© un algoritmo simple de la familia LSB para im√°genes de mapa de bits con compresi√≥n sin p√©rdidas.  Sus elementos son p√≠xeles que no tienen vecinos en el bit menos significativo de todos los componentes RGB.  La funci√≥n de incrustaci√≥n funciona con bits individuales de los datos de origen y simplemente cambia el bit de orden inferior del valor de uno de los componentes (a qu√© √≠ndice apuntar√°). </p><br><p>  Es bastante simple, pero es excelente para implementar el protocolo, ya que cambiar cualquier elemento es igualmente imperceptible seg√∫n su elecci√≥n, por lo que los √≠ndices de los elementos que se van a cambiar se generan utilizando un generador aleatorio.  En el caso de Java, usando <em>SecureRandom</em> , pero si lo desea, cambia f√°cilmente a su fuente de entrop√≠a. </p><br><p>  <em>Sin embargo, este es un m√©todo muy simple, no recomiendo usarlo para esp√≠as reales.</em> </p><br><h4 id="o-heshah">  Sobre hashes </h4><br><p>  Dado que el texto tiende a distorsionarse dependiendo de la personalidad simulada del agente (algunos no ponen letras may√∫sculas, a otros les gusta poner emoticones, etc., otros generalmente son analfabetos), sugiero usar sha256 para calcular el hash, pero solo a partir de palabras impresas en min√∫sculas: </p><br><pre> <code class="plaintext hljs">h("Hello world?...") == h("hello, world!11")</code> </pre> <br><h4 id="ob-interfeyse">  Acerca de la interfaz </h4><br><p>  El paquete de software consta de dos partes: una para generar secuencias y otras funciones hash para Trent, la otra para incrustar y verificar el cumplimiento de los mensajes recibidos. </p><br><p>  El trabajo con ambos ocurre desde la l√≠nea de comandos a trav√©s de sus argumentos y flujos de entrada-salida; no se entregaron otras interfaces (miedo y horror).  A√∫n as√≠, ser ese empleado de la sede, que el esp√≠a significa tener alg√∫n tipo de calificaci√≥n.  Bueno, si no, a√∫n mostrar√© un ejemplo. </p><br><div class="spoiler">  <b class="spoiler_title">Aqu√≠ hay una ayuda</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/yx/1m/ge/yx1mge8ligshzbsv7hxi3olw__g.png" alt="Captura de pantalla de uso"></p><br></div></div><br><h3 id="chto-im-vsem-delat-to">  ¬øQu√© hacen todos? </h3><br><p>  Para empezar, Trent en la sede central necesita obtener informaci√≥n de autenticaci√≥n.  En particular, pensar de antemano una situaci√≥n en la que los agentes trabajar√°n. </p><br><p>  Por ejemplo, deje que Bob sea un profesional independiente de gr√°ficos y Alice su cliente.  La autenticaci√≥n se realizar√° bajo la apariencia de una orden para crear gr√°ficos / dise√±o / algo m√°s. </p><br><p>  Reportamos esta informaci√≥n √∫til a ambos y volvemos al protocolo en s√≠.  Prepararemos un mensaje incrustado <em>M.txt</em> adecuado de <em>antemano</em> , minimizando la cantidad de caracteres que <em>contiene</em> : "me conviene d√≥nde transferir dinero".  Genere <em>Em</em> y <em>Ex</em> usando la utilidad para Trent: </p><br><pre> <code class="bash hljs">Trent@HQWorkstation:~$ java -jar HQUtil.jar -ex $(<span class="hljs-built_in"><span class="hljs-built_in">stat</span></span> -c%s <span class="hljs-string"><span class="hljs-string">"M.txt"</span></span>) 4096 &gt; Ex.txt Trent@HQWorkstation:~$ cat Ex.txt | java -jar HQUtil.jar -em <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$(cat M.txt)</span></span></span><span class="hljs-string">"</span></span> 0.25 4096 &gt; Em.txt Trent@HQWorkstation:~$ cat M.txt | java -jar HQUtil.jar -h &gt; hash.bin</code> </pre> <br><p>  Aqu√≠ <code>$(stat -c%s "M.txt")</code> devuelve el tama√±o del mensaje en bytes, y 4096 - la restricci√≥n en el rango de √≠ndices generados (para permitir el uso de contenedores m√°s peque√±os).  De manera similar, <code>$(cat M.txt)</code> usa para pasar el mensaje al par√°metro de la l√≠nea de comando.  En principio, puede prescindir de la fiesta, utilizando su propio trabajo manual, pero para qui√©n es m√°s conveniente. </p><br><p>  <em>Ex.txt</em> se pasa a Alice, <em>Em.txt</em> y <em>hash.bin</em> a Bob.  Ahora imagine que los agentes se han desplegado con √©xito y desean comunicarse entre s√≠; procedemos a la ejecuci√≥n del protocolo.  Bob coloca su curr√≠culum u oferta de trabajo en alg√∫n intercambio, y Alice comienza a comunicarse: </p><br><pre> <code class="plaintext hljs">: ,     %_% :        ,   .  ? : ,   </code> </pre> <br><p>  Bob busca la imagen de un paraguas, tal vez incluso la dibuja √©l mismo, si el alma es creativa, comprime / impone un poco una marca de agua (o lo que los freelancers est√°n haciendo all√≠ ahora) y hace: </p><br><pre> <code class="bash hljs">Bob@PC:~$ cat Em.txt | java -jar SpyUtil.jar -e umbrella.png</code> </pre> <br><p>  Despu√©s de esperar un tiempo, pretendiendo trabajar, si en realidad no lo hizo, le env√≠a a Alice el contenedor recibido, naturalmente, teniendo en cuenta el contexto: </p><br><pre> <code class="plaintext hljs">: ,  ,     </code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Transmite un paraguas con un mensaje, 670kb</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/qw/nk/in/qwnkinuhpppynf6ve9gkrmpnehm.png"></p></div></div><br><p>  Eso, a su vez, recupera el mensaje almacenado internamente: </p><br><pre> <code class="bash hljs">Alice@PC:~$ cat Ex.txt | java -jar SpyUtil.jar -e umbrella.png      </code> </pre> <br><p>  Convierte un conjunto de palabras en una oraci√≥n normal y se lo env√≠a a Bob: </p><br><pre> <code class="plaintext hljs">: ,  ,   ?</code> </pre><br><p>  Comprueba la precisi√≥n del mensaje: </p><br><pre> <code class="java hljs">Bob<span class="hljs-meta"><span class="hljs-meta">@PC</span></span>:~$ java -jar SpyUtil.jar -c hash.bin <span class="hljs-string"><span class="hljs-string">",  ,   ?"</span></span> ,  ,   ? - Correct</code> </pre><br><p>  Y contin√∫a la comunicaci√≥n f√°cil, si todo est√° bien.  Todo el di√°logo por parte del observador se ve as√≠: </p><br><div class="spoiler">  <b class="spoiler_title">Gif de 500 kilobytes</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ff/ye/he/ffyeheonv4qo9dxdjygalg8kvtq.gif"></p></div></div><br><p>  Est√° claro que la contrainteligencia no encontrar√° nada sospechoso en todo esto interceptado.  De hecho, incluso los m√©todos de estegoan√°lisis en este caso no siempre se aplicar√°n; bueno, alguien orden√≥ una imagen de un paraguas por 5 d√≥lares y encontraron algo con lo que sorprender Internet.  Los recursos inform√°ticos y las personas no son infinitos para verificar cada situaci√≥n.  La autenticaci√≥n fue exitosa, el tel√≥n. </p><br><p>  -&gt; <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">github</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/456670/">https://habr.com/ru/post/456670/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../456658/index.html">Crecimiento: c√≥mo evaluamos las habilidades en un equipo</a></li>
<li><a href="../456662/index.html">C√≥mo ahorrar dinero en un terapeuta usando el desarrollo basado en pruebas</a></li>
<li><a href="../456664/index.html">A qui√©n demandar cuando un robot pierde tu dinero</a></li>
<li><a href="../456666/index.html">WebTotem o c√≥mo queremos que Internet sea m√°s seguro</a></li>
<li><a href="../456668/index.html">Microsoft ML Spark: una extensi√≥n de Spark que hace que SparkML sea m√°s humano y LightGBM como un bono</a></li>
<li><a href="../456672/index.html">Recetas Nginx: notificaciones as√≠ncronas de PostgreSQL a websocket</a></li>
<li><a href="../456674/index.html">Nuevas oportunidades de promoci√≥n en Facebook que no conoc√≠as</a></li>
<li><a href="../456676/index.html">Iniciar sesi√≥n en una aplicaci√≥n php distribuida</a></li>
<li><a href="../456678/index.html">El estado electr√≥nico del futuro. Parte 4</a></li>
<li><a href="../456680/index.html">Ocho leyes de nomenclatura en dise√±o UX (Parte 2)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>