<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯТЗЁЯП┐ тШФя╕П ЁЯд▒ЁЯП╛ рд╕рд░рд▓ рдХреЙрд▓ рдЯреНрд░реИрдХрд┐рдВрдЧ рд╕реЗрд╡рд╛ рдмрдирд╛рдирд╛, рднрд╛рдЧ 1 ЁЯМН ЁЯЫбя╕П ЁЯРв</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд▓реЗрдЦ рд╕рд╛рдЗрдЯ рдкрд░ рдХреЙрд▓ рдЯреНрд░реИрдХрд┐рдВрдЧ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд╕рдВрднрд╛рд╡рд┐рдд рд╡рд┐рдХрд▓реНрдкреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдЧрд╛ред рдпрд╣ рд╕рд╛рдордЧреНрд░реА рд╡рд┐рд╢реБрджреНрдз рд░реВрдк рд╕реЗ рд╢реИрдХреНрд╖рд┐рдХ рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рд▓рд┐рдЦреА рдЧрдИ рдереА рдФрд░ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╕рд░рд▓ рдХреЙрд▓ рдЯреНрд░реИрдХрд┐рдВрдЧ рд╕реЗрд╡рд╛ рдмрдирд╛рдирд╛, рднрд╛рдЧ 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473372/">  рд▓реЗрдЦ рд╕рд╛рдЗрдЯ рдкрд░ рдХреЙрд▓ рдЯреНрд░реИрдХрд┐рдВрдЧ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд╕рдВрднрд╛рд╡рд┐рдд рд╡рд┐рдХрд▓реНрдкреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдЧрд╛ред  рдпрд╣ рд╕рд╛рдордЧреНрд░реА рд╡рд┐рд╢реБрджреНрдз рд░реВрдк рд╕реЗ рд╢реИрдХреНрд╖рд┐рдХ рдЙрджреНрджреЗрд╢реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП рд▓рд┐рдЦреА рдЧрдИ рдереА рдФрд░ рдХреЙрд▓рдЧрд░реНрд▓ рд╕реЗрд╡рд╛ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рд╡рд╛рд▓реА рдореМрдЬреВрджрд╛ рд╡рд┐рд╢реЗрд╖ рд╕реЗрд╡рд╛рдУрдВ рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рдЙрджреНрджреЗрд╢реНрдп рдХреЛ рдкреВрд░рд╛ рдирд╣реАрдВ рдХрд░рддреА рд╣реИред <br><br><h3>  рдХрд╛рд░реНрдпрд╛рддреНрдордХ рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдБ </h3><br><ol><li>  рд╕реЗрд╡рд╛ рдХреЛ рд╕рд╛рдЗрдЯ рдкрд░ рд╕рдВрдХреНрд░рдордг рдХреЗ рд╕реНрд░реЛрдд рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЦреНрдпрд╛рдУрдВ (рд╕рдВрдЦреНрдпрд╛рдУрдВ) рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП - рдЦреЛрдЬ рдЗрдВрдЬрдиреЛрдВ рд╕реЗ рд╕рдВрдХреНрд░рдордг, рд╡рд┐рдЬреНрдЮрд╛рдкрди рдХреЗ рд▓рд┐рдП рд╕рдВрдХреНрд░рдордг, рдпреВрдЯреАрдПрдо рдЯреИрдЧ рдХреЗ рд╕рд╛рде рд▓рд┐рдВрдХ рдХрд╛ рдорд╛рд░реНрдЧред </li><li>  рд╕реЗрд╡рд╛ рдХреЛ рд╕рд╛рдЗрдЯ рдЖрдЧрдВрддреБрдХ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдареАрдХ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ рдЗрд╕ рдирдВрдмрд░ рдХреЛ рдЖрдЧреЗ рдХреА рдпрд╛рддреНрд░рд╛ рдкрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред </li><li>  рдкреНрд░рджрд░реНрд╢рд┐рдд рдирдВрдмрд░ рдкрд░ рдХреЙрд▓ рд╢реБрд░реВ рдХрд░рддреЗ рд╕рдордп, рд╕реЗрд╡рд╛ рдХреЛ Google Analytics рдореЗрдВ рдХрд┐рд╕реА рдИрд╡реЗрдВрдЯ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреА рд╢реБрд░реБрдЖрдд рдХрд░рдиреА рдЪрд╛рд╣рд┐рдПред </li></ol><a name="habracut"></a><br><h3>  рд╕рд╛рдорд╛рдиреНрдп рдпрд╛рдВрддреНрд░рд┐рдХреА </h3><br>  рдЬрдм рдЖрдк рд╕рд╛рдЗрдЯ рдкрд░ рдЬрд╛рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рд╕рдВрдХреНрд░рдордг рдХреЗ рд╕реНрд░реЛрдд рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рд╕рдВрдЦреНрдпрд╛ рдЗрд╕ рдЖрдЧрдВрддреБрдХ рдХреЛ рджреА рдЧрдИ рд╣реИред  рдпрджрд┐ рдЖрдЧрдВрддреБрдХ рдкрд╣рд▓реА рдмрд╛рд░ рд╕рд╛рдЗрдЯ рдкрд░ рдЧрдпрд╛ рдерд╛, рддреЛ рд╣рдо рдЙрд╕реЗ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рд╣рдо рдЗрд╕ рд╕рдВрджрд░реНрдн рд╕реНрд░реЛрдд рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХреЗ рдкреВрд▓ рд╕реЗ рдПрдХ рдирдВрдмрд░ рдЕрд╕рд╛рдЗрди рдХрд░рддреЗ рд╣реИрдВред  рднрд╡рд┐рд╖реНрдп рдореЗрдВ, рдЬрдм рдЖрдЧрдВрддреБрдХ рд╕рд╛рдЗрдЯ рдкрд░ рд▓реМрдЯрддрд╛ рд╣реИ, рддреЛ рд╣рдо рдЙрд╕реЗ рдкрд╣рд▓реЗ рд╕реМрдВрдкреА рдЧрдИ рд╕рдВрдЦреНрдпрд╛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдореИрдВ рдХреЙрд▓ рд▓реЙрдЧ рдкрд░ рдзреНрдпрд╛рди рджреЗрдирд╛ рдЪрд╛рд╣реВрдВрдЧрд╛ред  рдирдВрдмрд░ рдХреЛ рдмрджрд▓рдирд╛, рдЗрд╕реЗ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рд╕реМрдВрдкрдирд╛ рдПрдХ рддрдХрдиреАрдХреА рд╕рдорд╕реНрдпрд╛ рд╣реИ, рдореБрдЦреНрдп рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рдХрд┐рд╕реА рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреЙрд▓ рдФрд░ рдЙрд╕ рдирдВрдмрд░ рдХреА рддреБрд▓рдирд╛ рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛ рдЬреЛ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рд╕реМрдВрдкрд╛ рдЧрдпрд╛ рд╣реИред  рдпрджрд┐ рдЙрдкрдпреЛрдЧ рдХреА рдЧрдИ рдЯреЗрд▓реАрдлреЛрдиреА рдЖрдкрдХреЛ рдирд┐рд░рдВрддрд░ рдЖрдзрд╛рд░ рдкрд░ рдЪрд▓ рд░рд╣реА рдХреЙрд▓ рдкрд░ рд╡рд┐рд╕реНрддреГрдд рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ, рддреЛ рдХрд┐рд╕реА рд╡рд┐рд╢рд┐рд╖реНрдЯ рдирдВрдмрд░ рдкрд░ рдХреЙрд▓ рдХреЗ рдХреНрд╖рдг рдХреЛ рдЬрд╛рдирдиреЗ рдФрд░ рдЙрд╕ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд╕рд╛рдЗрдЯ рдкрд░ рдЙрд╕ рдкрд▓ рдореЗрдВ рдХрд┐рд╕ рдирдВрдмрд░ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛, рдЗрд╕рдХреА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, Google Analytics рдореЗрдВ рдПрдХ рдИрд╡реЗрдВрдЯ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреА рд╢реБрд░реБрдЖрдд рдХрд░рдирд╛ рдФрд░ рдЗрд╕реЗ ROK рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рдирд╛ рд╕рдВрднрд╡ рд╣реИред <br><br><h3>  рд╕рдВрд░рдЪрдирд╛ </h3><br><ol><li>  ct-server.ru - рдПрдХ рдирд┐рд╖реНрдкрд╛рджрди рдпреЛрдЧреНрдп рд╡реЗрдм рд╕реЗрд╡рд╛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдпрд╣рд╛рдВ рд░рдЦреА рдЬрд╛рдПрдЧреА, рдХрдорд░реЗ рдХреА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдФрд░ рд▓реЙрдЧрд┐рдВрдЧ рдЖрдЧрдВрддреБрдХреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдбреЗрдЯрд╛рдмреЗрд╕; </li><li>  refer-to-site-with-ct-code.ru - рдЗрд╕ рд╕рд╛рдЗрдЯ рдкрд░ рд╣рдо рдЦреЛрдЬ рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗ рд╕рдВрдХреНрд░рдордг рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░реЗрдВрдЧреЗ; </li><li>  site-with-ct-code.ru - рд╡рд╣ рд╕рд╛рдЗрдЯ рдЬрд┐рд╕ рдкрд░ рдирдВрдмрд░ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд░рдЦреА рдЬрд╛рдПрдЧреАред </li></ol><br><h3>  рдЪрд▓рд┐рдП рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ </h3><br>  рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдЙрджрд╛рд╣рд░рдг рдХреЛ рд╕реНрдерд╛рдиреАрдп рд╕рд░реНрд╡рд░ рдкрд░ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  рдПрдХ рд╡рд░реНрдЪреБрдЕрд▓ рд╣реЛрд╕реНрдЯ рд╕рд╛рдЗрдЯ <b>рдмрдирд╛рдПрдВ-with-ct-code.ru</b> , рдЬрд┐рд╕рдореЗрдВ рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рд╛рдордЧреНрд░рд┐рдпреЛрдВ рдХреА <b>index.html</b> рдлрд╝рд╛рдЗрд▓ рдбрд╛рд▓рддреЗ рд╣реИрдВред <br><br><pre><code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE HTML&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'utf-8'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>CT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://ct-server.ru/script.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">//  google id document.cookie = '_ga=GA1.2.1212121212.1212121212; expires=Thu, 18 Dec 2077 12:00:00 UTC; path=/'; </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'calltracking'</span></span></span><span class="hljs-tag">&gt;</span></span>79000000000<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдЙрджрд╛рд╣рд░рдг рд╕реЗ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рд╣рдо рдПрдХ рдмрд╛рд╣рд░реА рд╕реНрдХреНрд░рд┐рдкреНрдЯ <b><a href="">ct-server.ru/script.js</a></b> рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ <b>рд╕рд╛рдЗрдЯ-with-ct-code.ru</b> рдФрд░ <b>ct-server.ru рдХреЗ</b> рдмреАрдЪ "рд╕рдВрдЪрд╛рд░" <b>рдХрд░реЗрдЧрд╛</b> , рд╕рд╛рде рд╣реА рд╕рд╛рдЗрдЯ рдХреЗ DOM рдЯреНрд░реА рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░реЗрдЧрд╛ред <b>site-with-ct-code.ru</b>  рддрддреНрд╡ рдХреА рдЖрдИрдбреА рджреНрд╡рд╛рд░рд╛ рдирдВрдмрд░ рдХреЛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ - 'рдХреЙрд▓рдЯреНрд░реИрдХрд┐рдВрдЧ'ред <br><br>  рдЕрдм рдПрдХ <b>refer-to-site-with-ct-code.ru рдмрдирд╛рдПрдВ</b> , рдЬрд┐рд╕рдореЗрдВ рд░реЗрдлрд╝рд░ рд╕реЗ рд╕рдВрдХреНрд░рдордг рдкрд░ рдкрд┐рди рдирдВрдмрд░ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдХреЗ рд▓рд┐рдП рд╕рд╛рдЗрдЯ-with-ct-code.ru рдХрд╛ рд▓рд┐рдВрдХ рд╣реЛрдЧрд╛ред <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE HTML&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'utf-8'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>CT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://site-with-ct-code.ru"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  рдЙрд╕рдХреЗ рдмрд╛рдж, рд╣рдо рдореЗрдЬрдмрд╛рди <b>ct-server.ru рдХреЛ рдмрдврд╝рд╛рдПрдВрдЧреЗ</b> , рдЬрд┐рд╕рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕рдВрд░рдЪрдирд╛ рд╣реЛрдЧреА: <br><br>  index.php - рдПрдХ рдирд┐рд╖реНрдкрд╛рджрди рдпреЛрдЧреНрдп рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдлрд╝рд╛рдЗрд▓ рдЬреЛ рд╕рд╛рдЗрдЯ-with-ct-code.ru рд╕реЗ рдкреЛрд╕реНрдЯ рдЕрдиреБрд░реЛрдз рд╕реНрд╡реАрдХрд╛рд░ рдХрд░реЗрдЧреА рдФрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░реЗрдЧреА; <br><br>  script.js - рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдлрд╝рд╛рдЗрд▓ рдЬреЛ рдЙрди рд╕рд╛рдЗрдЯреЛрдВ рдкрд░ рдХрдиреЗрдХреНрдЯ рдХреА рдЬрд╛рдПрдЧреА рдЬрд╣рд╛рдВ рдирдВрдмрд░ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br><h3>  рдбреЗрдЯрд╛рдмреЗрд╕ </h3><br>  рд╣рдореЗрдВ рджреЛ рдкреНрд▓реЗрдЯ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреАред  <b>Ct</b> рдЯреЗрдмрд▓ рдореЗрдВ рд╣рдо рдирдВрдмрд░ рдФрд░ рд╕реЗрдЯрд┐рдВрдЧ рдХреЛ рдЙрдирдХреЗ рдбрд┐рд╕реНрдкреНрд▓реЗ рдХреЗ рд▓рд┐рдП рд╕реНрдЯреЛрд░ рдХрд░реЗрдВрдЧреЗ, <b>рдирдВрдмрд░</b> рдЯреЗрдмрд▓ рдореЗрдВ рд╣рдо <b>рдирдВрдмрд░</b> рдХреЗ рдбрд┐рд╕реНрдкреНрд▓реЗ рдХреЛ рд▓реЙрдЧ рдХрд░реЗрдВрдЧреЗред <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">`ct`</span></span> ( <span class="hljs-string"><span class="hljs-string">`id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`phone`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">200</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`refer`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">200</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`utm`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">200</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`host`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">200</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`ga`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">200</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`login`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">200</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">ENGINE</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CHARSET</span></span>=utf8; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">`ct`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`id`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNIQUE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`id`</span></span> (<span class="hljs-string"><span class="hljs-string">`id`</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">`ct`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MODIFY</span></span> <span class="hljs-string"><span class="hljs-string">`id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> AUTO_INCREMENT, AUTO_INCREMENT=<span class="hljs-number"><span class="hljs-number">1</span></span>;</code> </pre><br>  рдЬреЛрдбрд╝рд╛ рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреА рдПрдХ рдЫреЛрдЯреА рд╡реНрдпрд╛рдЦреНрдпрд╛: <br><br>  рдлреЛрди - рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдлреЛрди рдирдВрдмрд░; <br>  рд╕рдВрджрд░реНрдн - рд╕рдВрдХреНрд░рдордг рдХрд╛ рд╕реНрд░реЛрдд; <br>  utm - рдЙрд╕ рдкреГрд╖реНрда рд╕реЗ рд▓рд┐рдВрдХ рдЬрд┐рд╕ рдкрд░ рдирдВрдмрд░ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП; <br>  рд╣реЛрд╕реНрдЯ - рд╡рд╣ рд╕рд╛рдЗрдЯ рдЬрд┐рд╕ рдкрд░ рдирдВрдмрд░ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕реНрдерд┐рдд рд╣реИ; <br>  Google Analytics рдХрд╛рдЙрдВрдЯрд░ рдХрд╛ рдЖрдИрдбреА - рдЖрдИрдбреА; <br>  рд▓реЙрдЧрд┐рди - рд╕рдВрдЦреНрдпрд╛ рдХреЗ рдорд╛рд▓рд┐рдХ рдХрд╛ рд▓реЙрдЧрд┐рдиред <br><br>  рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рдкреНрд▓реЗрдЯ рднрд░реЗрдВред <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> <span class="hljs-string"><span class="hljs-string">`ct`</span></span> (<span class="hljs-string"><span class="hljs-string">`id`</span></span>, <span class="hljs-string"><span class="hljs-string">`phone`</span></span>, <span class="hljs-string"><span class="hljs-string">`refer`</span></span>, <span class="hljs-string"><span class="hljs-string">`utm`</span></span>, <span class="hljs-string"><span class="hljs-string">`host`</span></span>, <span class="hljs-string"><span class="hljs-string">`ga`</span></span>, <span class="hljs-string"><span class="hljs-string">`login`</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'78000000001'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'http://site-with-ct-code.ru/?utm_medium=cpc'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://site-with-ct-code.ru'</span></span>, <span class="hljs-string"><span class="hljs-string">'UA-12345678-1'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>), (<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-string"><span class="hljs-string">'78000000002'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://refer-to-site-with-ct-code.ru/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://site-with-ct-code.ru/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://site-with-ct-code.ru'</span></span>, <span class="hljs-string"><span class="hljs-string">'UA-12345678-1'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>), (<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-string"><span class="hljs-string">'78000000003'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://refer-to-site-with-ct-code.ru/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://site-with-ct-code.ru/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://site-with-ct-code.ru'</span></span>, <span class="hljs-string"><span class="hljs-string">'UA-12345678-1'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>), (<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">'78000000004'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://refer-to-site-with-ct-code.ru/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://site-with-ct-code.ru/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://site-with-ct-code.ru'</span></span>, <span class="hljs-string"><span class="hljs-string">'UA-12345678-1'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>), (<span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-string"><span class="hljs-string">'78000000005'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'http://site-with-ct-code.ru/'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://site-with-ct-code.ru'</span></span>, <span class="hljs-string"><span class="hljs-string">'UA-12345678-1'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>);</code> </pre><br><img src="https://i.ibb.co/WxKt63X/screen4.png" alt="рдЫрд╡рд┐"><br><br>  рдЕрдм рдирдВрдмрд░ рдкреНрд▓реЗрдЯ рдмрдирд╛рдПрдВред <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">`numbers`</span></span> ( <span class="hljs-string"><span class="hljs-string">`id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`phone`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">200</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`ct_user`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">200</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`refer`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">200</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`gid`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">200</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`page`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">varchar</span></span>(<span class="hljs-number"><span class="hljs-number">200</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-string"><span class="hljs-string">`time`</span></span> datetime <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CURRENT_TIMESTAMP</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">ENGINE</span></span>=<span class="hljs-keyword"><span class="hljs-keyword">InnoDB</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DEFAULT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CHARSET</span></span>=utf8; <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">`numbers`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> (<span class="hljs-string"><span class="hljs-string">`id`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> <span class="hljs-keyword"><span class="hljs-keyword">UNIQUE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> <span class="hljs-string"><span class="hljs-string">`id`</span></span> (<span class="hljs-string"><span class="hljs-string">`id`</span></span>), <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> <span class="hljs-string"><span class="hljs-string">`numbers`</span></span> <span class="hljs-keyword"><span class="hljs-keyword">MODIFY</span></span> <span class="hljs-string"><span class="hljs-string">`id`</span></span> <span class="hljs-built_in"><span class="hljs-built_in">int</span></span>(<span class="hljs-number"><span class="hljs-number">11</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> AUTO_INCREMENT;<span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span>;</code> </pre><br>  рдЗрд╕ рдкреНрд▓реЗрдЯ рдореЗрдВ рд╣рдо рд╕рд╛рдЗрдЯ рдкрд░ рдХреМрди рд╕рд╛ рд╡рд┐рдЬрд╝рд┐рдЯрд░, рдХреМрди рд╕реА рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдХрд┐рд╕ рд╕рдордп рдкрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрддрд╛ рд╣реИ, рд░рд┐рдХреЙрд░реНрдб рдХрд░реЗрдВрдЧреЗред  рднрд╡рд┐рд╖реНрдп рдореЗрдВ, рд▓рдХреНрд╖реНрдп рдХрд╛рд░реНрд░рд╡рд╛рдИ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЙрд▓ рд▓реЙрдЧ рдХреЗ рд╕рд╛рде рдЗрд╕ рдбреЗрдЯрд╛ рдХреА рддреБрд▓рдирд╛ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ - Google Analytics рдХреЛ рдПрдХ рдИрд╡реЗрдВрдЯ рднреЗрдЬрдирд╛, рд╕реАрдЖрд░рдПрдо рдореЗрдВ рд▓реАрдб рдмрдирд╛рдирд╛, рдИрдореЗрд▓ рднреЗрдЬрдирд╛ рдЖрджрд┐ред <br><br>  рдлрд╝реЛрди - рдлрд╝реЛрди рдирдВрдмрд░; <br>  ct_user - рд╡рд┐рдЬрд╝рд┐рдЯрд░ рдЖрдИрдбреА; <br>  рд╕рдВрджрд░реНрдн - рд╕рдВрдХреНрд░рдордг рдХрд╛ рд╕реНрд░реЛрдд; <br>  gid - Google Analytics рдХреБрдХреА <br>  рдкреГрд╖реНрда - рд╡рд╣ рдкреГрд╖реНрда рдЬрд┐рд╕ рдкрд░ рд╕рдВрдЦреНрдпрд╛ рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрддреА рд╣реИ; <br>  рд╕рдордп - рд╕рдВрдЦреНрдпрд╛ рдкреНрд░рджрд░реНрд╢рди рд╕рдордпред <br><br><h3>  рдПрдХ рдЕрдиреБрд░реЛрдз рд╣реИрдВрдбрд▓рд░ рдмрдирд╛рдПрдБ </h3><br>  Ct-server.ru рд╡реЗрдм рд╕реЗрд╡рд╛ рдФрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреА рдореЗрдЬрдмрд╛рдиреА рдХрд░рдиреЗ рд╡рд╛рд▓реА рд╕рд╛рдЗрдЯ рдХреЗ рдмреАрдЪ рдХреА рдмрд╛рддрдЪреАрдд рдХреНрд░реЙрд╕-рдбреЛрдореЗрди XHR (XMLHttpRequest) POST рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреА рдЬрд╛рдПрдЧреАред <br><br>  <b>рдЪрд▓рд┐рдП</b> рдкрд╣рд▓реЗ рдирд┐рд░реНрдорд┐рдд <b>ct-server.ru/index.php</b> рдлрд╝рд╛рдЗрд▓ рдЦреЛрд▓реЗрдВ рдФрд░ рдЕрдиреБрдорддрд┐ рдкреНрд░рд╛рдкреНрдд рд╣реЛрд╕реНрдЯ рд╕реЗ рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЪреЗрдХ рдЬреЛрдбрд╝реЗрдВ, рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдпрд╣ <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд╛рдЗрдЯ-with-ct-code.ru</a></b> , <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">site-with-ct-code2.ru</a></b> рдФрд░ <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд╛рдЗрдЯ рдХреЗ рд╕рд╛рде рд╣реИ -ct-code3.ru</a></b> <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_SERVER[<span class="hljs-string"><span class="hljs-string">"HTTP_ORIGIN"</span></span>]) === <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) { $host = $_SERVER[<span class="hljs-string"><span class="hljs-string">"HTTP_ORIGIN"</span></span>]; <span class="hljs-comment"><span class="hljs-comment">//   $allowHosts = array("http://site-with-ct-code.ru", "http://site-with-ct-code2.ru", "http://site-with-ct-code3.ru"); if (in_array($host, $allowHosts, true) === true) { header('Access-Control-Allow-Origin: ' . $host); header('Access-Control-Allow-Credentials: true'); header('Access-Control-Allow-Methods: POST'); header('Access-Control-Allow-Headers: Content-Type'); //    post-      } if ($_SERVER["REQUEST_METHOD"] === "OPTIONS") { exit; } } </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre><br>  рд╣рдо POST рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЗ рдЪрд░ рдорд╛рдиреЛрдВ рдореЗрдВ рд▓рд┐рдЦрддреЗ рд╣реИрдВ рдЬреЛ рд╕рд╛рдЗрдЯ-with-ct-code.ru рд╕реЗ рдЖрдП рдереЗ <br><br><pre> <code class="php hljs">$phone = $_POST[<span class="hljs-string"><span class="hljs-string">"phone"</span></span>]; $ct_user = $_POST[<span class="hljs-string"><span class="hljs-string">"ct_user"</span></span>]; $gid = $_POST[<span class="hljs-string"><span class="hljs-string">"gid"</span></span>]; $refer = $_POST[<span class="hljs-string"><span class="hljs-string">"ref"</span></span>]; $page = $_POST[<span class="hljs-string"><span class="hljs-string">"page"</span></span>];</code> </pre><br>  рдХреБрдХ _ga рдХрд╛ рдлреЙрд░реНрдо _ga = GA1.2.1212121212.12.121212121212 рд╣реИ, рд╣рдо рдЗрд╕реЗ "1212121212.121212121212" рдлреЙрд░реНрдо рдореЗрдВ рд▓рд╛рдПрдВрдЧреЗред <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($gid) { $pos = strpos($gid, <span class="hljs-string"><span class="hljs-string">'.'</span></span>, strpos($gid, <span class="hljs-string"><span class="hljs-string">'.'</span></span>) + <span class="hljs-number"><span class="hljs-number">1</span></span>); $gid = substr($gid, $pos + <span class="hljs-number"><span class="hljs-number">1</span></span>); }</code> </pre><br>  рд╣рдо рдЙрд╕ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдПрдХ рдХрдиреЗрдХреНрд╢рди рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВрдЧреЗ рдЬрд╣рд╛рдВ рд╣рдордиреЗ рдкрд╣рд▓реЗ рдЕрдкрдиреА рдЯреЗрдмрд▓ рдмрдирд╛рдИ рдереАред <br><br><pre> <code class="php hljs">$conn = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> mysqli(<span class="hljs-string"><span class="hljs-string">"localhost"</span></span>, <span class="hljs-string"><span class="hljs-string">"root"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"calltracking"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($conn-&gt;connect_error) { <span class="hljs-keyword"><span class="hljs-keyword">die</span></span>(<span class="hljs-string"><span class="hljs-string">"Connection failed: "</span></span> . $conn-&gt;connect_error); }</code> </pre><br>  рд╡реЗрдм рд╕реЗрд╡рд╛ рдХреЗ рд╕рд╛рде рд╕рд╣рднрд╛рдЧрд┐рддрд╛ рджреЛ рд╡рд┐рдзрд┐рдпреЛрдВ - <b>get_num_first</b> рдФрд░ <b>get_num рдХреЗ</b> рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реЛрдЧреАред <br><br>  <b>Get_num_first</b> рд╡рд┐рдзрд┐ рддрдм рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рдЖрдЧрдВрддреБрдХ рдкрд╣рд▓реА рдмрд╛рд░ рдорд╛рдкрджрдВрдб, рдореЗрд▓, рд░реЗрдлрд╝рд░рд░, рдпреВрдЯреАрдПрдо, рд╣реЛрд╕реНрдЯ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдЪрдпрди рдХрд░рдХреЗ рдирдВрдмрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рд╛рдЗрдЯ рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░рддрд╛ рд╣реИред  рдпрджрд┐ рдЪрдпрди рдкрд░рд┐рдгрд╛рдо рдПрдХ рдорд╛рди рджреЗрддрд╛ рд╣реИ, рддреЛ рд╣рдо рдлреЛрди рдирдВрдмрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдо Google Analytics <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХреЗ</a> рдорд╛рдзреНрдпрдо рд╕реЗ Google Analytics рдХреЛ рдИрд╡реЗрдВрдЯ рднреЗрдЬрддреЗ рд╣реИрдВред  рдСрдлрд╝рд▓рд╛рдЗрди рдХрд╛рд░реНрдпреЛрдВ рдкрд░ рдирдЬрд╝рд░ рд░рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╣реА рд╡рд┐рдзрд┐ рд▓рд╛рдЧреВ рд╣реЛрддреА рд╣реИ, рднрд╡рд┐рд╖реНрдп рдореЗрдВ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреЙрд▓ рд▓реЙрдЧ рдФрд░ рд╕рдВрдЦреНрдпрд╛ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рд╕рдВрдЦреНрдпрд╛ рд▓реЙрдЧ рдХреА рддреБрд▓рдирд╛ рдХрд░рддреЗ рд╕рдордп рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($_POST[<span class="hljs-string"><span class="hljs-string">'method'</span></span>] == <span class="hljs-string"><span class="hljs-string">'get_num_first'</span></span>) { $sql = <span class="hljs-string"><span class="hljs-string">"SELECT * FROM `ct` where `host` = '"</span></span> . $host . <span class="hljs-string"><span class="hljs-string">"' and `refer` = '"</span></span> . $refer . <span class="hljs-string"><span class="hljs-string">"' and `utm` = '"</span></span> . $page . <span class="hljs-string"><span class="hljs-string">"' ORDER BY RAND() LIMIT 1 "</span></span>; $result = $conn-&gt;query($sql); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($result-&gt;num_rows &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ($row = $result-&gt;fetch_assoc()) { print_r($row[<span class="hljs-string"><span class="hljs-string">"phone"</span></span>]); $event = file_get_contents(<span class="hljs-string"><span class="hljs-string">'https://www.google-analytics.com/collect?v=1&amp;tid=UA-12345678-1&amp;cid='</span></span> . $gid . <span class="hljs-string"><span class="hljs-string">'&amp;t=event&amp;ec=GetNumber&amp;ea=number&amp;z='</span></span> . $row[<span class="hljs-string"><span class="hljs-string">"phone"</span></span>] . <span class="hljs-string"><span class="hljs-string">''</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">//echo "0"; $sql = "SELECT * FROM `ct` where `host` = '" . $host . "' and `refer` = '" . $refer . "' ORDER BY RAND() LIMIT 1 "; $result = $conn-&gt;query($sql); print_r($row["phone"]); $event = file_get_contents('https://www.google-analytics.com/collect?v=1&amp;tid=UA-12345678-1&amp;cid=' . $gid . '&amp;t=event&amp;ec=GetNumber&amp;ea=number&amp;z=' . $row["phone"] . ''); } }</span></span></code> </pre><br>  рдирдВрдмрд░ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдкреНрд░рд╡рд┐рд╖реНрдЯрд┐рдпреЛрдВ рдХреЛ <b>рд▓реЙрдЧ</b> рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <b>get_num</b> рд╡рд┐рдзрд┐ <b>рдХреА</b> рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($_POST[<span class="hljs-string"><span class="hljs-string">'method'</span></span>] == <span class="hljs-string"><span class="hljs-string">'get_num'</span></span>) { $sql = <span class="hljs-string"><span class="hljs-string">"INSERT INTO `numbers` (`phone`, `ct_user`, `gid`, `refer`,`page`) VALUES ( '"</span></span> . $phone . <span class="hljs-string"><span class="hljs-string">"', '"</span></span> . $ct_user . <span class="hljs-string"><span class="hljs-string">"', '"</span></span> . $gid . <span class="hljs-string"><span class="hljs-string">"', '"</span></span> . $refer . <span class="hljs-string"><span class="hljs-string">"', '"</span></span> . $page . <span class="hljs-string"><span class="hljs-string">"');"</span></span>; $result = $conn-&gt;query($sql); $sql = <span class="hljs-string"><span class="hljs-string">"SELECT * FROM `numbers` where `ct_user` = '"</span></span> . $ct_user . <span class="hljs-string"><span class="hljs-string">"' ORDER BY `id` DESC LIMIT 1 "</span></span>; $result = $conn-&gt;query($sql); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($result-&gt;num_rows &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> ($row = $result-&gt;fetch_assoc()) { print_r($row[<span class="hljs-string"><span class="hljs-string">"phone"</span></span>]); $event = file_get_contents(<span class="hljs-string"><span class="hljs-string">'https://www.google-analytics.com/collect?v=1&amp;tid=UA-12345678-1&amp;cid='</span></span> . $gid . <span class="hljs-string"><span class="hljs-string">'&amp;t=event&amp;ec=ShowNumber&amp;ea=number&amp;z='</span></span> . $row[<span class="hljs-string"><span class="hljs-string">"phone"</span></span>] . <span class="hljs-string"><span class="hljs-string">''</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">//echo "0"; } } $conn-&gt;close();</span></span></code> </pre><br><h3>  рдирдВрдмрд░ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рд╕реНрдХреНрд░рд┐рдкреНрдЯ </h3><br>  рдЕрдЧрд▓рд╛, рд╣рдо <b>ct-server.ru/script.js</b> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдкрд░ рдЬрд╛рдПрдБрдЧреЗ, рдЬрд┐рд╕реЗ рд╣рдо рд╕рд╛рдЗрдЯ-with-ct-code.ru рдкрд░ рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдЗрдП рдХреБрдХреАрдЬрд╝ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рджреЛ рдХрд╛рд░реНрдп рдХрд░реЗрдВ - <b>рд╕реЗрдЯрдХреБрдХреА</b> рдФрд░ <b>рдЧреЗрдЯрдХреЙрдХреА</b> рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдПред  рд╣рдо рдЙрдиреНрд╣реЗрдВ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдФрд░ рдлреЛрди рдирдВрдмрд░ рдХреА рдХреБрдХреА рдЖрдИрдбреА рдХреЛ рд░рд┐рдХреЙрд░реНрдб рдХрд░рдиреЗ рдФрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//  function setcookie(phone, value, expires, path, domain, secure) { document.cookie = phone + "=" + escape(value) + (expires ? "; expires=" + new Date(expires) : "") + (path ? "; path=" + path : "") + (domain ? "; domain=" + domain : "") + (secure ? "; secure" : ""); } //  function getcookie(phone) { var cookie = " " + document.cookie; var search = " " + phone + "="; var setStr = null; var offset = 0; var end = 0; if (cookie.length &gt; 0) { offset = cookie.indexOf(search); if (offset != -1) { offset += search.length; end = cookie.indexOf(";", offset); if (end == -1) { end = cookie.length; } setStr = unescape(cookie.substring(offset, end)); } } return setStr; }</span></span></code> </pre><br>  рдЙрд╕рдХреЗ рдмрд╛рдж, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рдЖрдИрдбреА рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП <b>рдореЗрдХрдб</b> рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЬреЛрдбрд╝реЗрдВред <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// id  function makeid(length) { var result = ""; var user_id = "abcdefghijklmnopqrstuvwxyz0123456789"; var user_idLength = user_id.length; for (var i = 0; i &lt; length; i++) { result += user_id.charAt(Math.floor(Math.random() * user_idLength)); } return result; }</span></span></code> </pre><br>  рдЕрдм 33-рдЕрдВрдХреАрдп рдпреВрдЬрд░ рдЖрдИрдбреА рд╡рд╛рд▓реЗ рдХреБрдХреАрдЬрд╝ рдХреЛ рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдлрдВрдХреНрд╢рди рдмрдирд╛рддреЗ рд╣реИрдВред <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// id  function generateuser_id() { var ct_user_id = makeid(33); setcookie("ct_user", ct_user_id, new Date().getTime() + 60 * 60 * 1000); //  }</span></span></code> </pre><br>  рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк <b>ct_user</b> рдХреБрдХреА 1 рдШрдВрдЯреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрдЧреНрд░рд╣реАрдд рдХреА рдЬрд╛рддреА рд╣реИред <br><br>  рд╣рдо <b>get_num_first</b> рд╡рд┐рдзрд┐ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХ рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд░реЛрдз рдЙрддреНрдкрдиреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВред  Ct-server.ru рд╕реЗ рдкрд░рд┐рдгрд╛рдореА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдХреБрдХреА рдореЗрдВ 1 рдШрдВрдЯреЗ рдХреЗ рд▓рд┐рдП рд▓рд┐рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рд╣рдо рддрддреНрд╡ рдХреА рдЖрдИрдбреА рджреНрд╡рд╛рд░рд╛ рдкреГрд╖реНрда рдкрд░ рд╕рдВрдЦреНрдпрд╛ рдХрд╛ рдкрд╣рд▓рд╛ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрди рдХрд░рддреЗ рд╣реИрдВред <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    ,  ,       id  function getNumberFirstTime() { var method = "get_num_first"; var ct_user = getcookie("ct_user"); var gid = getcookie("_ga"); var ref = document.referrer; var host = window.location.origin; var page = document.location.href; var xhr = new XMLHttpRequest(); var body = "&amp;method=" + encodeURIComponent(method) + "&amp;page=" + encodeURIComponent(page) + "&amp;ct_user=" + encodeURIComponent(ct_user) + "&amp;ref=" + encodeURIComponent(ref) + "&amp;host=" + encodeURIComponent(host) + "&amp;gid=" + encodeURIComponent(gid); xhr.open("POST", "http://ct-server.ru", true); xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"); xhr.withCredentials = true; xhr.send(body); xhr.onreadystatechange = function() { //console.log(xhr.responseText); var t = xhr.responseText; document.getElementById("calltracking").innerHTML = t; setcookie("phone", t, new Date().getTime() + 60 * 60 * 1000); //  }; }</span></span></code> </pre><br>  рдЖрдЗрдП рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рдПрдВ рдЬреЛ рд╕рдордп-рд╕рдордп рдкрд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рд╕рдВрдЦреНрдпрд╛, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдИрдбреА, рдкреГрд╖реНрда рдкрддрд╛, Google рд╡рд┐рд╢реНрд▓реЗрд╖рд┐рдХреА рдХреБрдХреА рдореВрд▓реНрдп, ct-server.ru рдХреЗ рд▓рд┐рдП рд░реЗрдлрд░рд▓ рд╕реНрд░реЛрдд рднреЗрдЬреЗрдЧрд╛ред <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getNumberPeriodically</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> method = <span class="hljs-string"><span class="hljs-string">"get_num"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ct_user = getcookie(<span class="hljs-string"><span class="hljs-string">"ct_user"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> phone = getcookie(<span class="hljs-string"><span class="hljs-string">"phone"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gid = getcookie(<span class="hljs-string"><span class="hljs-string">"_ga"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ref = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.referrer; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> page = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.location.href; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> host = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.location.origin; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> xhr = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> XMLHttpRequest(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> body = <span class="hljs-string"><span class="hljs-string">"&amp;method="</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">encodeURIComponent</span></span>(method) + <span class="hljs-string"><span class="hljs-string">"&amp;page="</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">encodeURIComponent</span></span>(page) + <span class="hljs-string"><span class="hljs-string">"&amp;ct_user="</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">encodeURIComponent</span></span>(ct_user) + <span class="hljs-string"><span class="hljs-string">"&amp;ref="</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">encodeURIComponent</span></span>(ref) + <span class="hljs-string"><span class="hljs-string">"&amp;host="</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">encodeURIComponent</span></span>(host) + <span class="hljs-string"><span class="hljs-string">"&amp;phone="</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">encodeURIComponent</span></span>(phone) + <span class="hljs-string"><span class="hljs-string">"&amp;gid="</span></span> + <span class="hljs-built_in"><span class="hljs-built_in">encodeURIComponent</span></span>(gid); xhr.open(<span class="hljs-string"><span class="hljs-string">"POST"</span></span>, <span class="hljs-string"><span class="hljs-string">"http://ct-server.ru"</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>); xhr.setRequestHeader(<span class="hljs-string"><span class="hljs-string">"Content-Type"</span></span>, <span class="hljs-string"><span class="hljs-string">"application/x-www-form-urlencoded"</span></span>); xhr.withCredentials = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; xhr.send(body); xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//console.log(xhr.responseText); var t = xhr.responseText; //document.getElementById('calltracking').innerHTML = t; }; }</span></span></code> </pre><br>  рдЕрдВрдд рдореЗрдВ, рд╣рдо sendToCalltracking рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рдЬреЛ рдХреБрдХреА рдлреЛрди рдирдВрдмрд░ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдИрдбреА рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдХреА рдЬрд╛рдВрдЪ рдХрд░рддрд╛ рд╣реИред <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendToCalltracking</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ggg = getcookie(<span class="hljs-string"><span class="hljs-string">"ct_user"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ccc = getcookie(<span class="hljs-string"><span class="hljs-string">"phone"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gac = getcookie(<span class="hljs-string"><span class="hljs-string">"_ga"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> ggg === <span class="hljs-string"><span class="hljs-string">"undefined"</span></span> || ggg === <span class="hljs-literal"><span class="hljs-literal">null</span></span> || ccc === <span class="hljs-string"><span class="hljs-string">"undefined"</span></span> || ccc === <span class="hljs-literal"><span class="hljs-literal">null</span></span> || ccc.length &lt; <span class="hljs-number"><span class="hljs-number">1</span></span> || ggg.length &lt; <span class="hljs-number"><span class="hljs-number">1</span></span> || ccc === <span class="hljs-string"><span class="hljs-string">""</span></span> || ggg === <span class="hljs-string"><span class="hljs-string">""</span></span> ) { <span class="hljs-comment"><span class="hljs-comment">//console.log('false'); generateuser_id(); getNumberFirstTime(); } else { //console.log('true'); document.getElementById("calltracking").innerHTML = ccc; getNumberPeriodically(); } }</span></span></code> </pre><br>  рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ, рд╣рдо рдЕрдкрдиреЗ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдЯрд╛рдЗрдорд░ рдХрд╣рддреЗ рд╣реИрдВред <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myTimer = setTimeout(sendToCalltracking, <span class="hljs-number"><span class="hljs-number">500</span></span>); <span class="hljs-comment"><span class="hljs-comment">//        setInterval(sendToCalltracking, 1 * 60 * 1000);</span></span></code> </pre><br><img src="https://i.ibb.co/MDhmBRn/screen1.png" alt="рдЫрд╡рд┐"><br><br>  рдпрджрд┐ рдЕрдЧрд▓реЗ рдСрдкрд░реЗрд╢рди рдХреЗ рджреМрд░рд╛рди рдХреБрдХреАрдЬрд╝ рд╣рдЯрд╛ рджреА рдЬрд╛рддреА рд╣реИрдВ, рддреЛ рдлрд╝рдВрдХреНрд╢рди рд╣реЛрд╕реНрдЯ рдФрд░ рд╕реНрд░реЛрдд рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╛рдкреНрдд рдЪрдпрди рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЖрдЧрдВрддреБрдХ рдХреЛ рдПрдХ рдирдпрд╛ рдЕрд╕рд╛рдЗрди рдХрд░реЗрдЧрд╛ред  рдЗрд╕рдХреЗ рдЕрддрд┐рд░рд┐рдХреНрдд, рд╕реНрдерд╛рдиреАрдпрд╕реНрдЯреЛрд░ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдорд╛рди рд▓рд┐рдЦрдирд╛ рд╕рдВрднрд╡ рд╣реИред <br><br><img src="https://i.ibb.co/4KfXYVD/screen2.png" alt="рдЫрд╡рд┐"><br><br>  рдПрдХ рдорд┐рдирдЯ рдореЗрдВ, рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреБрдХреА рдирдВрдмрд░ рдФрд░ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЖрдИрдбреА рдХреЗ рдореВрд▓реНрдп рдХреЛ рдЙрд╕ рдкреГрд╖реНрда рдХреЛ рдЗрдВрдЧрд┐рдд рдХрд░реЗрдЧреА, рдЬрд┐рд╕ рдкрд░ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рд▓реЛрдб рдХрд┐рдП рдмрд┐рдирд╛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдпрд╣ рд╕рдордЭрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдбреЛрдореЗрди рдХреЗ рд╕рднреА рдкреГрд╖реНрдареЛрдВ рдкрд░ рд░рдЦрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br><img src="https://i.ibb.co/q0wGMG3/screen3.png" alt="рдЫрд╡рд┐"><br><br>  рдЕрдЧрд▓реЗ рд▓реЗрдЦ рдореЗрдВ, рд╣рдо рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рд░рд▓ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд╡рд┐рдХрд╛рд╕ рдкрд░ рдЪрд░реНрдЪрд╛ рдХрд░реЗрдВрдЧреЗред </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi473372/">https://habr.com/ru/post/hi473372/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi473358/index.html">рдХреЛрдб рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рд░реВрдк рдореЗрдВ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ Nexus Sonatype рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдФрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ</a></li>
<li><a href="../hi473362/index.html">GSoC рдЕрдиреБрднрд╡: рдХреИрд╕реЗ рджреЛ (рддреАрди) рдЫрд╛рддреНрд░ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рдмреЗрд╣рддрд░ CRIU рдХреЛрдб</a></li>
<li><a href="../hi473364/index.html">рдПрдХ рдЧреЙрдмреА рд╣реИ, рдЭреВрд▓ рд░рд╣рд╛ рд╣реИ: рдмрд┐рдХреНрд░реА рдХреЗ рдореМрд╕рдо рдореЗрдВ рдИ-рдХреЙрдорд░реНрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдЪреЗрдХрд▓рд┐рд╕реНрдЯ</a></li>
<li><a href="../hi473366/index.html">рдЖрдкрдХреЗ рд▓рд┐рдП рдореЗрд░реЗ рд╕реНрдорд╛рд░реНрдЯ рдЯреАрд╡реА рдореЗрдВ рдХреНрдпрд╛ рд╣реИ? рдпрд╛ рдЯреАрд╡реА рдореЗрдВ рдХреНрдпрд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ?</a></li>
<li><a href="../hi473368/index.html">MIRO рдПрдХ рдУрдкрди рдЗрдирдбреЛрд░ рд░реЛрдмреЛрдЯ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рд╣реИред рднрд╛рдЧ 3 - рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдШрдЯрдХ: ESP8266</a></li>
<li><a href="../hi473374/index.html">рд╣рдордиреЗ рдЬрд╝реВрдо рдХреЗ рд╕рд╛рде YouTube рд▓рд╛рдЗрд╡ рдХреЛ рдХреИрд╕реЗ рдПрдХреАрдХреГрдд рдХрд┐рдпрд╛</a></li>
<li><a href="../hi473376/index.html">рд╡рд┐рдВрдбреЛрдЬ 10X рдкрд░ рдкреНрд░рд▓реЗрдЦрди рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рд▓реАрдХ рд╣реЛ рдЧрдпрд╛ - рджреЛ рд╕реНрдХреНрд░реАрди рд╡рд╛рд▓реЗ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдУрдПрд╕ рдХрд╛ рдПрдХ рдирдпрд╛ рд╕рдВрд╕реНрдХрд░рдг</a></li>
<li><a href="../hi473378/index.html">рдореИрд▓рд╡реЗрдпрд░ рд▓рд╛рдЗрд╕реЗрдВрд╕ рд╕рдордЭреМрддреЗ</a></li>
<li><a href="../hi473380/index.html">4. рд▓реЛрдб рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдЪреЗрдХ рдкреНрд╡рд╛рдЗрдВрдЯ рдореЗрд╕реНрдЯреНрд░реЛ</a></li>
<li><a href="../hi473384/index.html">3DToday рдЙрддреНрд╕рд╡: рдпрд╣ рдХреИрд╕реЗ рд╣реЛрдЧрд╛ (рд╣реЛрдЧрд╛)ред рд╕рджрд╕реНрдп рдЫрд╛рдкреЗрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>