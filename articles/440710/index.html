<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧜🏻 ⭐️ 🤲 Dos aspectos de WebView: acerca del inicio rápido de proyectos y el robo de datos personales 🎮 🐋 🥑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! 

 Mi nombre es Eugene, soy un desarrollador Full Stack JS, la pila actual es Node.js + React + React Native. He estado en desarrollo por m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dos aspectos de WebView: acerca del inicio rápido de proyectos y el robo de datos personales</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/440710/">  Hola Habr! <br><br>  Mi nombre es Eugene, soy un desarrollador Full Stack JS, la pila actual es Node.js + React + React Native.  He estado en desarrollo por más de 10 años.  En desarrollo móvil probé diferentes herramientas de Cordova para React Native.  Después de adquirir experiencia con Cardova, me di cuenta de que me gustaría crear interfaces nativas, en mi opinión, WebView no debería ser la aplicación completa.  Pero esto no significa que no deba usarse en absoluto. <br><br>  Por invitación de colegas de Sberbank, en esta publicación quiero hablar sobre aplicaciones móviles híbridas.  Con el enfoque correcto, esta es una excelente manera de implementar rápidamente la idea de un producto que funcione bien, suficiente para el primer lanzamiento de su inicio. <br><br><img src="https://habrastorage.org/webt/5e/5e/zk/5e5ezktcv297mu5hrpai4vjg-9e.jpeg"><br>  <i>Fuente: srishta.com</i> <br><br>  También te contaré un poco sobre cómo puedes usar WebView y cómo los atacantes pueden usarlo en tu contra.  Los ejemplos en el artículo se mostrarán usando el marco React Native, pero las mismas ideas se pueden implementar sin él. <br><a name="habracut"></a><br><h2>  Un poco sobre startups </h2><br>  Comenzaré con las diferencias fundamentales en el lanzamiento de nuevas empresas en nuestro país y en Occidente. Le diré cómo WebView puede ayudar aquí, daré ejemplos prácticos de la interacción de elementos web y nativos, así como consejos de seguridad al interactuar con aplicaciones de terceros. <br><br>  Como regla general, para que una startup tenga éxito, debe comenzar rápidamente.  Si pierde tiempo, sus competidores lo evitarán.  Esto se entiende tanto en nuestro país como en Occidente.  Pero el enfoque ruso para el lanzamiento, como regla, es mucho más completo, en el mal sentido de la palabra. <br><br>  Todas <i>las startups rusas</i> sin éxito comienzan y se desarrollan en aproximadamente el mismo escenario.  Los errores más comunes están relacionados con la planificación estratégica del desarrollo de productos de software.  La gerencia piensa que el lanzamiento es posible solo después de la implementación del 110% de todas las funcionalidades y todos los matices.  Con este enfoque, surge rápidamente un déficit presupuestario, ya que los costos de desarrollo son altos y no hay ingresos de una startup.  La búsqueda de inversiones adicionales, un círculo interminable de aprobaciones y revisiones lleva mucho tiempo, el producto aparece en el competidor.  Eso es todo, el maratón está perdido. <br><br>  <i>Las startups europeas y americanas</i> actúan de manera diferente.  Para empezar, se limitan solo a la versión web móvil con una parte funcional mínimamente suficiente.  Se puede ver tanto desde computadoras de escritorio como desde dispositivos móviles.  ¡Y en esta etapa el proyecto está listo para lanzarse!  Después del lanzamiento, la aplicación está hecha para dispositivos móviles. <br><br>  Como regla general, la aplicación no difiere en características básicas de la versión web.  Expande las posibilidades de interacción con el usuario, por ejemplo, a través de notificaciones push.  Este enfoque garantiza el cumplimiento de la condición principal: inicio rápido, primer beneficio rápido.  Los ingresos de la primera etapa pueden invertirse en desarrollo.  En el futuro, el proyecto se puede escalar y desarrollar según lo deseado sin un déficit presupuestario, realizando un enfoque iterativo sin fin para agregar nuevas funcionalidades y desarrollar la interfaz de usuario. <br><br>  Propongo considerar con más detalle la etapa en la que ya existe una versión móvil del sitio y necesita desarrollar una aplicación para dispositivos móviles.  Entonces, creamos un sitio, lo que significa que estábamos desarrollando la API del servidor, la interfaz y la lógica empresarial.  Dos de los tres componentes son <br>  - interfaz y lógica: están presentes en la aplicación móvil.  De acuerdo, no quiero volver a escribirlos. <br><br><h2>  Combinando lo mejor de las aplicaciones nativas y web </h2><br>  Existen herramientas enfocadas en el desarrollo de aplicaciones nativas.  Otros son para la web.  La ventaja de las aplicaciones nativas es que pueden usar todo el potencial funcional del teléfono.  Pero desarrollarlos en comparación con las aplicaciones web es bastante difícil.  La web proporciona un inicio fácil, pero limita en gran medida las capacidades de la aplicación. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f3b/5bf/422/f3b5bf422a2b6f41d6d7bedcb81e9337.png"><br>  <i>* para reducir la tautología de las aplicaciones web, llamaré aplicaciones móviles, cuya mayor parte de la lógica y la interfaz se implementa en el lado del navegador</i> <br><br>  Las aplicaciones híbridas creadas con el componente WebView permiten combinar todas las ventajas de las aplicaciones nativas y la web.  Por supuesto, hay desarrolladores meticulosos que están categóricamente en contra de WebView en cualquiera de sus manifestaciones.  Argumentan esto con el hecho de que la aplicación debe ser completamente nativa de inmediato, para que pueda usar todas las funciones de un dispositivo móvil, así como proporcionar un rendimiento de interfaz de usuario cómodo.  Pero en muchos casos, cuando las capacidades de la versión móvil del sitio son suficientes, puede reducir el tiempo del primer lanzamiento haciendo una aplicación híbrida y reemplazarla gradualmente por una nativa. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3f9/120/557/3f9120557268b1609343599035758f8b.png"></div><br>  Las aplicaciones híbridas no siempre son malas y no son extensibles.  Pueden ser convenientes y productivos.  Con el uso adecuado, este enfoque ayuda a obtener el tiempo suficiente para desarrollar una aplicación de calidad, y no para lanzar una aplicación nativa a toda prisa. <br><br>  Hay varias situaciones en las que es aconsejable utilizar aplicaciones híbridas.  Son buenos como un trozo temporal para un inicio rápido, cuando tenemos una versión móvil del sitio lista y la aplicación móvil era necesaria "ayer".  Dicha aplicación puede crearse en unas pocas horas, ejecutarse en producción.  Los usuarios tendrán la oportunidad de trabajar con una aplicación móvil, y usted tendrá la oportunidad de trabajar en una versión más completa en plazos menos ajustados (si es necesario). <br><br>  Aquí hay un ejemplo.  Recientemente, los colegas necesitaban urgentemente una aplicación móvil.  En la versión web, tenía ocho elementos de menú, y los mostramos a través de WebView.  Y luego reemplazaron un artículo.  Dio la casualidad de que lanzó la aplicación no en un mes o tres, sino en solo unos días.  Luego lo transfirió gradualmente al nativo. <br><br>  Una solución híbrida no siempre es temporal.  Sus capacidades le permiten reutilizar en la aplicación la base de código creada anteriormente para la versión web.  Por ejemplo, animaciones específicas ya creadas en Canvas.  WebView también es conveniente cuando se utiliza algún tipo de servicio de terceros.  Otra opción es cuando tiene una interfaz compleja que es más fácil de conectar a través de WebView. <br><br><h2>  Cómo usar webview </h2><br>  Toma un guión popular.  Queremos usar la versión móvil del sitio y el menú nativo.  Creamos una aplicación nativa con un menú, pero en lugar de contenido, conectamos la versión móvil del sitio a través de WebView (hasta ahora sin ningún cambio). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ab/2cd/a4d/2ab2cda4dcb1efee936afeb16dcd7513.gif" width="300"></div><br>  En el gif puedes ver 2 menús.  El menú derecho es parte del sitio, implementado en la web, a la izquierda está el menú nativo, implementado dentro de la aplicación móvil.  Para obtener la primera aproximación a la aplicación nativa, solo necesitamos ocultar el menú que se implementa en la web.  Aquí se muestra cuánto <a href="">código se</a> necesita para mostrar la versión web dentro de la aplicación a través de WebView: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> (props) =&gt; (  <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag">} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Example1"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">    </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">WebView</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">source</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{uri:</span></span></span></span><span class="xml"><span class="hljs-tag"> '&lt;</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"https://provincehotels.ru/"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">https://provincehotels.ru/</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">'}} style={{flex:1}} /&gt;  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> );</span></span></code> </pre> <br>  El siguiente ejemplo trata sobre cómo la parte nativa puede interactuar con la web. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ia/0b/wj/ia0bwj6viewkx-hsiqpmjc1dzgg.gif"></div><br>  El robot está dibujado en Canvas, esto es parte del sitio web.  Y el cambio a él se basa en la interfaz de usuario nativa.  Se verá diferente en diferentes teléfonos.  Podemos controlar los movimientos del robot usando un interruptor.  Puede y viceversa, con algunos elementos de la interfaz web para influir en la aplicación.  React Native proporciona para esto una API especial para la interacción entre la web y la parte nativa. <br><br>  A continuación se muestra el <a href="">código</a> para usar esta animación.  Diseño: todo el espacio.  Picker es una parte nativa que puede seleccionar entre las opciones desplegables para el estado del robot.  WebView: un contenedor para mostrar la web, dentro del cual se dibuja un robot. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> states = [ <span class="hljs-string"><span class="hljs-string">'Idle'</span></span>, <span class="hljs-string"><span class="hljs-string">'Walking'</span></span>, <span class="hljs-string"><span class="hljs-string">'Running'</span></span>, <span class="hljs-string"><span class="hljs-string">'Dance'</span></span>, <span class="hljs-string"><span class="hljs-string">'Death'</span></span>, <span class="hljs-string"><span class="hljs-string">'Sitting'</span></span>, <span class="hljs-string"><span class="hljs-string">'Standing'</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> uri = <span class="hljs-string"><span class="hljs-string">'https://artexoid.ru/181212/example2/'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Example2</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ myWebView = React.&lt;i&gt;createRef&lt;<span class="hljs-regexp"><span class="hljs-regexp">/i&gt;(); state = {   robot: states[0] }; render() {   return (     &lt;Layout { ...this.props } name="Example2"&gt;       &lt;Picker         mode="dropdown"         selectedValue={this.state.robot}         onValueChange={(item) =&gt; {           this.setState({robot: item});           this.myWebView.current.postMessage(item);         }}       &gt;         {states.map((item =&gt; &lt;Picker.Item key={item} label={item} value={item} /</span></span>&gt; ))}       &lt;<span class="hljs-regexp"><span class="hljs-regexp">/Picker&gt;       &lt;WebView ref={this.myWebView} source={{uri}} style={{flex:1}} /</span></span>&gt;     <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>   ); } }</code> </pre> <br>  Tales casos surgen a menudo.  Por ejemplo, realizamos una solicitud para pruebas y certificación de dentistas.  Para cada respuesta en la prueba, se dibujó animación dentro de las preguntas, implementada usando Canvas en la web.  El desafío era crear una aplicación móvil, con esta prueba.  Usando WebView, pudimos mostrar animaciones de la web, mientras creamos el resto de la interfaz de forma nativa.  La animación funcionó bien incluso en teléfonos inteligentes más antiguos. <br><br><h2>  ¿Cómo se hacen las inyecciones? </h2><br>  Hasta 2013, el navegador Opera utilizaba su propio motor Presto, pero luego fue transferido al motor Blink de Google.  Muchos usuarios están muy molestos.  El video <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"Por qué Opera Webkit"</a> arroja luz sobre los motivos de esta transición.  Los principales culpables son las grandes corporaciones como Google o Facebook, que no probaron el código de sus productos en Opera y prohibieron la visualización de páginas en este navegador, citando el hecho de que no es lo suficientemente popular entre los usuarios. <br><br>  Por ejemplo, vas a Gmail a través de Opera y ves: "Error de JavaScript".  Escribes para apoyar, obtienes la respuesta: "Opera no es compatible con nosotros, no escribiremos código para ello".  Primero, Opera contrató desarrolladores para escribir inyecciones, un código especial que estaba incrustado en Gmail y que le permitía funcionar en Opera.  Pero gradualmente los sitios como Gmail se hicieron más grandes.  Opera se rindió y cambió el motor. <br><br>  Entonces, ¿de qué estoy hablando?  Ah sí, es hora de hablar sobre las inyecciones: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ab/2cd/a4d/2ab2cda4dcb1efee936afeb16dcd7513.gif" width="300"></div><br>  En el gif: un ejemplo de inyección que cambia el comportamiento de los sitios.  Supongamos que tenemos el sitio de otra persona y hacemos una inyección de estilos: ocultamos el menú correcto y el control deslizante que sale a la derecha.  Esta es una inyección de estilos.  La lógica del sitio no cambia, solo la pantalla. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> addStyles=<span class="hljs-string"><span class="hljs-string">` const newCSS = 'div[class*=svgHamburger],div[class*=drawerPanel] { display: none !important; }'       head = document.head || document.getElementsByTagName('head')[0],       style = document.createElement('style'); style.type = 'text/css'; style.appendChild(document.createTextNode(newCSS)); head.appendChild(style); `</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> uri = <span class="hljs-string"><span class="hljs-string">'https://provincehotels.ru/'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> (props) =&gt; ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag"> { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag"> } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Example1"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">WebView</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">source</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{uri</span></span></span></span><span class="xml"><span class="hljs-tag"> }} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{flex:1}}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">injectedJavaScript</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{addStyles}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">javaScriptEnabled</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{true}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> );</span></span></code> </pre> <br>  <a href="">El código</a> escrito en verde es inyección.  Oculta los elementos, no puede hacer clic en ellos, no puede interactuar con ellos.  Parece una aplicación completamente nativa, sin controles web. <br><br>  La siguiente inyección es más interesante.  Digamos que tenemos una aplicación móvil y tiene un navegador móvil incorporado. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ah/11/mq/ah11mqb5sfarvpo-5zfhvapkuwq.gif"></div><br>  Una persona sigue el enlace, y lo sustituimos fácilmente con la página de Facebook en la que debe ingresar un nombre de usuario y contraseña.  Si una persona ingresa, la aplicación lo intercepta.  Aquí está el <a href="">código</a> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> addScripts=<span class="hljs-string"><span class="hljs-string">` document   .querySelector('input[type=password]')   .addEventListener("change", (event) =&gt; alert(event.target.value)); `</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> uri = <span class="hljs-string"><span class="hljs-string">'https://www.facebook.com/'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> (props) =&gt; ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag"> { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag"> } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Example4"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">WebView</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">source</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{uri</span></span></span></span><span class="xml"><span class="hljs-tag"> }} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{flex:1}}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">injectedJavaScript</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{addScripts}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">javaScriptEnabled</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{true}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> );</span></span></code> </pre> <br>  Tal código se llama inyección lógica.  Por lo general, es más difícil, pero no mucho.  Es decir, robar una contraseña es más fácil que ocultar controles. <br><br><h2>  Minuto de paranoia: navegadores integrados en aplicaciones </h2><br>  Como sabe, muchas aplicaciones tienen navegadores integrados (WebView), por ejemplo, VKontakte, Telegram, Gmail, WhatsApp, etc.  Podemos confiar en las grandes empresas, pero WebView también es utilizado por una gran cantidad de aplicaciones con un pequeño número de estrellas y autores dudosos, por ejemplo, lectores QR, administradores de archivos, carcasas de cámaras, etc. ... Instala la aplicación, lee el código a través de ella, haz clic en el enlace, ingrese datos confidenciales, y la aplicación, como se muestra en el ejemplo anterior, tiene acceso a ellos.  Y luego no puede rastrear dónde fluyen estos datos.  Por lo tanto, para abrir enlaces, use solo navegadores confiables. <br><br>  Hay sitios que solicitan un nombre de usuario y contraseña cada vez.  Y hay quienes rara vez hacen esto, una vez al mes, una vez al año.  Curiosamente, la segunda opción es más segura en términos de pérdida de datos a través de WebView.  Por ejemplo, ingresa al sitio desde algún navegador izquierdo.  El sitio requiere un nombre de usuario y contraseña, y no le parece extraño, siempre lo hace.  Y en el caso de que rara vez se requiera autorización, lo desconfiará. <br><br>  Curiosamente, la autenticación de dos factores no protege contra tal ataque, solo contra el robo de contraseñas.  El hecho es que después de la confirmación, se le devuelve un token en respuesta a usted, que, a su vez, aún no tiene una autorización de dos factores, y es fácil interceptarlo.  Es decir, si ingresó el inicio de sesión y el código de SMS una vez, el navegador recibe un token, que puede usarse repetidamente.  Con esta ficha confirmada, puede hacer lo que quiera, por el tiempo que la ficha siga siendo relevante.  En general, no confíe demasiado en los navegadores integrados. <br><br>  Puede familiarizarse con ejemplos de esta publicación a través de aplicaciones de demostración.  En el sistema operativo Android, debe descargar Expo Project, una herramienta para trabajar con JavaScript y React Native.  Después de instalar Expo, solo necesita leer el código QR: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/13d/a0f/589/13da0f589ed467338dcfe0b0fa2d4f70.png"><br><br>  Los dispositivos iOS son más complicados: Apple ha <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">prohibido la distribución de</a> aplicaciones de esta manera.  Entonces los curiosos tendrán que construir la aplicación desde la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">fuente</a> en GitHub.  Gracias por su atencion! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/440710/">https://habr.com/ru/post/440710/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../440696/index.html">Kit de herramientas de refactorización de bases de datos: Flyway vs. Liquibase</a></li>
<li><a href="../440700/index.html">Ciencia de datos "fuerzas especiales" internamente</a></li>
<li><a href="../440702/index.html">Precaución: ¡GAS! o cómo hicimos contratos inteligentes sin gas</a></li>
<li><a href="../440706/index.html">InoThings ++ Professional IoT Conference: qué fue y qué será</a></li>
<li><a href="../440708/index.html">Webinar abierto "Trabajo: propio y ajeno"</a></li>
<li><a href="../440712/index.html">La nube es solo la computadora de alguien</a></li>
<li><a href="../440714/index.html">Cómo nos afecta la reducción de la tasa de adquisición (tarjetahabientes)</a></li>
<li><a href="../440716/index.html">Implementación del IDCS premontado más grande para autoridades públicas en Volgogrado</a></li>
<li><a href="../440718/index.html">Transferencia de datos entre escenas en Unity: aplicación de valores múltiples al desarrollo simple de juegos</a></li>
<li><a href="../440720/index.html">Implementamos IU en iOS: mejoramos, aceleramos, escalamos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>