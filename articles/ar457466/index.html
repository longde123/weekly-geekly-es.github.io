<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧚🏻 ⚰️ 🧑🏽‍🤝‍🧑🏽 كيف قمنا بتطوير تكنولوجيا المعلومات في Leroy Merlin: إعادة بناء محرك أثناء التنقل 🙋🏻 🏴‍☠️ 🌷</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="منذ أربع سنوات ، تم الاحتفاظ بقاعدة عملاء بشكل منفصل في كل متجر ، بالإضافة إلى موقع آخر على الموقع. 

 في السلسلة السابقة: قبل ثلاث سنوات ، قررنا أننا...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>كيف قمنا بتطوير تكنولوجيا المعلومات في Leroy Merlin: إعادة بناء محرك أثناء التنقل</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/leroy_merlin/blog/457466/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/cy/-z/2f/cy-z2fzscbxzwe8sybjnsqkg7j8.jpeg"><br><br>  منذ أربع سنوات ، تم الاحتفاظ بقاعدة عملاء بشكل منفصل في كل متجر ، بالإضافة إلى موقع آخر على الموقع. <br><br>  في السلسلة السابقة: قبل ثلاث سنوات ، قررنا أننا بحاجة إلى القيام بتطويرنا في روسيا.  قبل عامين ، بدأوا في كتابة التعليمات البرمجية الخاصة بهم بدلاً من تعديل رمز الشوكة للشركة الأم.  ستكون قصة اليوم حول كيفية تحولنا من متراصة واحدة كبيرة Legacy إلى مجموعة من الخدمات الصغيرة الصغيرة المتصلة بواسطة نوع من الحافلات (أوركسترا). <br><br>  أسهل حالة للمستخدم: قم بإجراء طلب عبر الموقع الإلكتروني واستلمه من متجر Leroy Merlin الحقيقي في روسيا.  في السابق ، تمت معالجة طلبات المتجر عبر الإنترنت في تطبيق آخر بشكل عام ووفقًا لمخطط مختلف.  نحتاج الآن إلى عرض شامل لكل المواقع بحيث تم تقسيم أي طلب إلى واجهة: أمين الصندوق في أحد المتاجر ، وتطبيقات الهاتف المحمول ، ومحطة في متجر ، وموقع ويب - أيًا كان.  إذا وضعت Linux على الميكروويف ، فليكن الميكروويف.  الشيء الرئيسي هو أن بعض الواجهات يمكن أن تدق واجهة برمجة التطبيقات (API) في الخلف وتقول إنك تحتاج إلى وضع مثل هذا الطلب.  وتلقوا إجابة واضحة على هذا.  وكانت القصة الثانية مع طلبات لتوافر وخصائص البضائع من بطاقته. <br><br>  في المقدمة (سنكتب عن هذا قريبًا) ، لدينا وحش - AEM ، وخلفه في الخلف تطبيقان كبيران: OPUS و MoVe.  الأول هو قاعدة بيانات لخصائص كل منتج (من الأبعاد إلى الأوصاف) ، والثاني هو المسؤول عن الخروج ، أي متراصة مكتب النقد.  إذا تبسيطها إلى حد كبير. <a name="habracut"></a><br><br><h3 style=";text-align:right;direction:rtl">  ما الخطأ في أوبوس؟ </h3><br>  OPUS هي قاعدة موزعة كبيرة.  بتعبير أدق ، هو البرنامج الذي يوفر واجهة للوصول إلى قاعدة البيانات ، أي أنه يصل إلى قاعدة البيانات ، على سبيل المثال ، يبحث أو ببساطة يكشف واجهة برمجة التطبيقات (API) بحيث لا يذهب العملاء مباشرة إلى قاعدة البيانات.  هذا البرنامج يعمل ويدعم في فرنسا.  الميزة الثانية ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">كما قلنا من قبل</a> ، هي أن خط التحسينات عليها طويل للغاية ، ونحن لسنا في قمة أولوياتنا مقارنة بوحدة الأعمال في فرنسا. <br><br>  بصعوبة كبيرة ، يمكننا أن نفهم كيف يمكن للمطورين إجراء تغييرات دون وجود فريق من فرنسا ؛ لقد حصلت الموافقات الطويلة جدًا.  ميزة صدر لمدة ستة أشهر.  في الواقع ، في البداية أردنا القيام بتطويرنا ومراجعتهما ، ثم توصلنا إلى تطويرنا وبنيتنا التحتية واختباراتنا وبشكل عام تطويرنا.  وفي الوقت نفسه ، طرد ما يقرب من ثلث رمز Legacy. <br><br>  لكن العودة إلى OPUS.  نظرًا لأن النظام يخزن المعلومات ذات الصلة حول مدى توفرها وخصائصها ومعاملاتها وأشياء أخرى ، فقد طرقناها لأي سبب.  على وجه التحديد للموقع ، هذا يعني أنه إذا كان لدى المستخدم ثلاثة منتجات في السلة ، فأنت بحاجة إلى طرق قاعدة البيانات من كل صفحة ، لأنه يتم التحقق من مدى ملاءمتها.  حتى إذا قمت بالطرق مرة واحدة للتخزين المؤقت ، ثم قمت بتحديثه بذكاء ، فلا تزال هناك ميزات.  عند فتح صفحة الكتالوج بشكل عام ، تم أخذ جميع مواصفات المنتج من OPUS. <br><br>  والخطوة المنطقية التالية هي أننا بدأنا في سحب OPUS بشكل متكرر وجعلنا قاعدتنا (بتعبير أدق ، خدمات micros مع قواعد).  كان النظام ككل يسمى PUB الروسي. <br><br>  ثم قاموا بإنشاء أوركسترا ، والتي يمكنها بالفعل تخزين المجاميع ، أي في الواقع - البيانات التي تم جمعها لبناء الصفحات.  بمعنى أنه عندما يحوّل المستخدم عرض الصفحة من البطاقات إلى القوائم ، فإنه لا يزال هو نفسه الإجمالي ، فإن الواجهة الأمامية مختلفة فقط. <br><br>  هذا هو ، تركنا OPUS الأصلي (لا يزال في فرنسا) ، لكن المرآة الكاملة تقريبًا "تمتص" ، والتي تقسم القاعدة إلى قطع ، جاهزة للتجميع في الأوركسترا.  ويقوم أوركسترا بجمع وتخزين المجاميع (أو يستقبلها بسرعة ويبدأ في تخزينها) ، وهو ما تحتاجه الأنظمة الأخرى.  نتيجة لذلك ، يعمل هذا الجزء كما ينبغي.  من الوظائف الأصلية لـ OPUS الفرنسية ، تبقى حوالي خمسة بالمائة.  قريبا سوف نستبدلها بالكامل. <br><br><h3 style=";text-align:right;direction:rtl">  ما هو الخطأ في فيلم؟ </h3><br>  لا شيء خاص ، باستثناء حقيقة أننا قررنا التخلص من الشفرة بالكامل ، لأنها: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  كان قديمًا على كومة قديمة. </li><li style=";text-align:right;direction:rtl">  أخذ في الاعتبار خصائص كل منطقة "Leroy Merlin" في سلسلة IFs. </li><li style=";text-align:right;direction:rtl">  كان من الصعب للغاية القراءة والمحافظة على أن أفضل طريقة لإعادة التخزين هي "الكتابة مرة أخرى وعلى الفور توثيق بشكل طبيعي." </li></ol><br>  الذي فعلناه.  فقط أعدنا كتابتها ليس كمتراصة ، ولكننا بدأنا في تقديم خدمات ميكروية لكل وظيفة فردية.  وبعد ذلك تم نقل جزء من وظيفة MoVe مع التحول إلى خدمات microservice بسلاسة.  وهكذا - واحدة تلو الأخرى ، حتى انتهت وظيفة MoVe بالكامل.  أي أنه لا يزال يعمل ، ولكن في مكان ما في فراغ ودون تدفقات البيانات. <br><br>  منذ أن بنينا المنصة من القطع ، تم تسمية المشروع ليغو. <br><br>  ليغو تغير تماما هذا الوسط.  نعم ، دعنا نوضح: الخلفية الحقيقية هي الحافلة القديمة ، وأنظمة الملفات ، وقواعد البيانات ، ومستوى البنية التحتية الأخرى تقريبًا.  تطبيقات كبيرة حول هذا و microservices المنطق الأوسط.  العرض هو بالفعل الجبهة. <br><br><h3 style=";text-align:right;direction:rtl">  لماذا تحتاج إلى إعادة كتابة كل هذا؟ </h3><br>  لأننا عشنا مع العملاء قواعد منفصلة لكل مثيل 15 سنة من الافتتاح في روسيا ، وهذا لم يناسب أي شخص.  لم يكن هناك التزامن أيضا.  في بلدان أخرى ، ما زالوا يعيشون هكذا. <br><br>  قامت الشركة الأم من فرنسا بصنع اللوجيستيات العامة ، قمنا بإعادة استخدام نظام Pixis - هذا هو مخزن واحد من الإيصالات ، أي طلبات العملاء: أحد المتاجر يرى أوامر متجر آخر.  ولكن هذا لم يحل مشكلة ترتيب omnichannel بالكامل.  لذلك ، كان من الضروري توحيد القاعدة والقيام بالمعالجة العامة.  هذا هو الشيء الرئيسي. <br><br>  السبب الثاني كان قانون شباك التذاكر الفيدرالي: مع وجود الجداول الزمنية لتطوير نظام مشترك (واختبار) لجميع البلدان ، لكان قد فرضنا عليه غرامة. <br><br>  تم طرح خيار مماثل تقريبًا في البرازيل: لقد بدأوا تشغيل Leroy Merlin هناك بدون أي برنامج من الشركة الأم ، ونجحوا في ذلك.  كان ذلك قبل قرار الانقسام.  بالمناسبة ، يلتزمون كثيرًا <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">بالداخلين</a> ، لديهم تطور سريع جدًا. <br><br>  Pixis يسمح لتقديم طلب فقط من تسجيل النقدية ، في الواقع.  لقد غيرنا الموقف على ثلاث مراحل: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  أولاً ، قمنا بعمل تطبيق للهاتف المحمول للموظف ، مما يبسط حياته إلى حد كبير.  على أساس هذا ، بدأوا في بناء نظام بيئي حيث يتم فصل واجهات مع المنطق. </li><li style=";text-align:right;direction:rtl">  بينما تم إعداد كل شيء ، تم توجيه طلبات الإنترنت إلى مكتب النقد باليد. </li><li style=";text-align:right;direction:rtl">  وضعوا خدمات micros في بدورها ، والتي استبدلت كل شيء في الوسط. </li></ol><br>  لماذا كنت بحاجة للبدء في تطبيق المتجر؟  لأن لدينا مرة أخرى عمليات فريدة بالمقارنة مع فرنسا.  على سبيل المثال ، قرر الشخص شراء ستة أمتار عشرة سنتيمترات من سلسلة في متجر.  قام البائع بقطعه ، وقدم مستندًا عن المدة الزمنية التي يتكلفها وكم يكلفها.  تذهب إلى أمين الصندوق بهذه القطعة من الورق ، وتدفعه هناك.  من وجهة نظر المنطق ، لا ينبغي أن يكون البيع في شباك التذاكر ، ولكن يجب أن يكون لدى البائع ، ولكن في الواقع ، يبدأ الشيء الأكثر إثارة للاهتمام في شباك التذاكر: يجب أن يكون لديك كل من البضائع والورقة. <br><br>  في النهاية ، سنكون منصة لتقديم الطلبات: الآن ، على سبيل المثال ، على نظامنا الرئيسي ، تمت إضافة خدمات شراء خدمات الماجستير (اشتريت مطبخًا - طلبت التثبيت من رئيسي خارجي ، لكننا وجدناه وأعطيني ضمانًا منا) ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">السوق</a> ( الشراء المباشر من مورد عبر نطاق أوسع) ، وسرعان ما يجب أن يكون هناك شركة تابعة حتى يمكن وضع كتلنا في أي مكان.  شيء مثل تضمين متاجر أمازون في المدونات ، فقط أكثر تنوعًا. <br><br><h3 style=";text-align:right;direction:rtl">  كيف تم اتخاذ قرار الاستبدال؟ </h3><br>  <b>أنا خطوة.</b>  <b>صقل نموذج العمل.</b> <br><br>  لقد فحصنا ، بل بالفعل: النموذج ، كما هو الحال في روسيا - الأسعار المنخفضة كل يوم - ناجح.  يعد Leroy Merlin في أوروبا أغلى بكثير ، لكن في روسيا هذا المكان المناسب لنا: متجر للبناء حيث يمكنك بالتأكيد العثور على البضائع بأفضل سعر. <br><br>  <b>الخطوة الثانية.</b>  <b>إنشاء برنامج نصي عميل.</b> <br><br>  أي لبناء عمليات كما نريدهم أن يتفاعلوا معنا من وجهة نظر العميل.  وهذا هو ، رؤية واحدة لمن نريد أن نكون في غضون سنوات قليلة وكيف تبدو من وجهة نظر الهندسة المعمارية. <br><br>  <b>الخطوة الثالثة.</b>  <b>بناء العمارة.</b> <br><br>  قم بتقسيم هذه الرؤية إلى المعارف التقليدية والهندسة المعمارية بتفاصيل أعلى.  اتضح 110 مشاريع ، والتي قسمناها إلى خمس فئات لمدة خمس سنوات. <br><br>  ثم شكلوا فرق متخصصة.  في معظم الأحيان هؤلاء هم شعبهم بالإضافة إلى المقاول.  في البداية ، عانوا كثيراً من هذا: عندما ذهبوا إلى الزناد ، لم يفهموا حقًا كيفية هضم هذا الحجم الكبير من التغييرات.  ثم بدأوا في اتخاذ نهج مشترك للمهام وزيادة حصة تنميتها تدريجيا. <br><br>  في تلك الأماكن التي كان فيها الخطأ حرجًا ، عملوا وفقًا لمخططات ناسا ، حيث الخطأ غير مقبول ، وليس خيارًا على الإطلاق.  هذا هو كل شيء عن المعاملات المالية. <br><br>  وحيث كان من الممكن السقوط ، كان الشيء الرئيسي هو الاستيقاظ بسرعة ، استخدمنا مقاربة قريبة من SRE من Google.  تكرارا ، مع عضادات ، ولكن يمكن تنفيذ المشاريع في أقرب وقت ممكن.  والآن نحن نقوم بالكثير ، وهو رائع جدًا للتطوير. <br><br>  النهج الثالث هو الابتكار.  لقد طورنا مجموعة من الأفكار للقيام بسرعة بأول MVPs من خلال مواردنا الداخلية ، والتي تتيح لنا الاختبار بسرعة وبتكلفة منخفضة.  هذا هو الحقيقي "حاول بسرعة ، تفشل بسرعة".  هذا سمح لك بالحصول على ميزانية وسلطة لأولئك الذين توصلوا إلى مشروع رائع. <br><br>  وكان التركيز المهم الثاني في التنمية الجغرافية.  ثم افتتح 20 متجرا سنويا (الآن أبطأ قليلا).  ستة آلاف موظف.  العديد من المناطق.  كان من الضروري إعادة كتابة سلسلة التوريد بأكملها ، لتطوير عمليات بسرعة لرفع البنية التحتية للمتاجر. <br><br>  في عام 2017 ، قررنا أن نصبح منصة لأوامر البناء: هذه إستراتيجية واعدة لعدة سنوات قادمة. <br><br>  بالنسبة للجغرافيا ، كنا بحاجة إلى مكتب خلفي كبير لتكنولوجيا المعلومات لنمو الشركة ونمو سلسلة التوريد.  من أجل omnichannel (ترتيب عام) - مستوى مختلف من SLA للأنظمة الداخلية ، في الوقت الفعلي ، والخدمات المصغرة والتزامن بين مئات الأنظمة الفرعية.  هذا هو عادة مستوى مختلف من نضج تكنولوجيا المعلومات.  بالنسبة للمنصة ، تعد سرعة التغيير مهمة أيضًا. <br><br>  عندما كان قد بدأ للتو ، اعتقد الجميع أن خفة الحركة من شأنها إنقاذ العالم.  مع المقاولين ، قد لا تكون رشيقة فعالة.  ومن هنا الرغبة في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">توظيف</a> 200 شخص في قسم تكنولوجيا المعلومات. <br><br>  شاهدنا مدى سرعة تنفيذ كل شيء دون خسارة للعلامة التجارية.  يمكن كتابة شيء بسرعة ، لكن لم يتح له الوقت لإعداد الخدمة.  على سبيل المثال ، إذا لم تكن هناك معلومات عن المخزون ، فلا توجد طريقة للدفع عبر الإنترنت دون ضمان حجز البضائع.  نحن متحللة سلسلة من الاعتمادات المتبادلة إلى عدة.  الآن نحن نعرف بالفعل أننا بحاجة إلى جعل الدورات أقصر ، لأن كفاءات الفريق لا تزال مهمة.  الآن نحن نشهد ميزات في قطع صغيرة ، نقوم بجمع اتصال ، والآن فقط العام الحالي هو في الخطط.  تعد الإستراتيجية طويلة الأجل ، ولكن حسب الميزات ، بحد أقصى لمدة عام واحد ، والعديد من فرق المنتجات المنفصلة. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar457466/">https://habr.com/ru/post/ar457466/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar457450/index.html">أفضل 10 اتجاهات تقنية في معالجة البيانات والتحليلات في عام 2019 وفقًا لشركة Gartner</a></li>
<li><a href="../ar457458/index.html">موقف المحمول للأدوات الآلية الصينية. أو كيفية وضعها في شقة</a></li>
<li><a href="../ar457460/index.html">بطاقة حماية Linux Kernel</a></li>
<li><a href="../ar457462/index.html">Uber: نظرة عامة على الخوارزميات إدارة النظام الأساسي</a></li>
<li><a href="../ar457464/index.html">إلغاء البيانات المكررة للإعلانات على Yandex.Real Estate</a></li>
<li><a href="../ar457468/index.html">ذاكرة عالمية: SRAM ، DRAM وذاكرة فلاش في زجاجة واحدة</a></li>
<li><a href="../ar457470/index.html">ورقة الرياضيات: كيف غيرت شجيرة غير عادية معادلة نموذج نمو النبات</a></li>
<li><a href="../ar457476/index.html">تقليل حجم صورة عامل ميناء مع تطبيق التمهيد الربيع</a></li>
<li><a href="../ar457480/index.html">إنشاء تطبيق استماع لعرض حركة مرور MMORPG على الهاتف المحمول</a></li>
<li><a href="../ar457490/index.html">Aisioshechka من زوكربيرج - لفترة وجيزة في قضية الميزان</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>