<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔄 🍞 🤟🏿 Menggunakan mata Ikan pada Raspberry Pi 3 dengan ROS - Bagian 2 😦 🏎️ 🥘</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Selamat siang, para pembaca Habr! Ini adalah bagian kedua dari cerita tentang menggunakan kamera mata ikan pada Raspberry Pi 3. Bagian pertama dapat d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menggunakan mata Ikan pada Raspberry Pi 3 dengan ROS - Bagian 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429894/"> Selamat siang, para pembaca Habr!  Ini adalah bagian kedua dari cerita tentang menggunakan kamera mata ikan pada Raspberry Pi 3. Bagian pertama dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> .  Pada artikel ini, saya akan berbicara tentang mengkalibrasi kamera mata ikan dan menggunakan kamera untuk mendeteksi objek menggunakan paket find_object_2d.  Siapa yang peduli, tolong, di bawah kucing. <br><a name="habracut"></a><br><h2>  Kalibrasi kamera mata ikan menggunakan camera_calibration </h2><br>  Di sini saya menjelaskan prosedur kalibrasi berdasarkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">manual</a> resmi di portal ros.org. <br><br>  Untuk melakukan kalibrasi, kita membutuhkan paket kalibrasi kamera.  Kita dapat menginstalnya dengan apt: <br><br><pre><code class="bash hljs">sudo apt-get install ros-kinetic-camera-calibration</code> </pre> <br>  Kami akan membutuhkan templat kotak-kotak.  Unduh templat dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">manual</a> resmi di ros.org dan cetaklah.  Untuk kenyamanan, saya menempelkannya di papan kayu lapis: <br><br><img src="https://habrastorage.org/webt/cz/qp/g8/czqpg8rutw1ut-h7ogrjqxwnytk.jpeg" alt="gambar"><br><br>  Mari kita jalankan program kalibrasi: <br><br><pre> <code class="bash hljs">rosrun camera_calibration cameracalibrator.py --size 8x6 --square 0.108 image:=/usb_cam/image_raw camera:=/usb_cam</code> </pre><br>  Kami akan mendapatkan gambar: <br><br><img src="https://habrastorage.org/webt/_n/t0/ib/_nt0ib2ohbvxtk8lomsx197swke.png" alt="gambar"><br><br>  Pindahkan template sedikit dan tunggu sampai template dipilih dalam bingkai (garis berwarna dengan titik-titik tidak akan muncul pada template). <br><br><img src="https://habrastorage.org/webt/dm/du/yn/dmduyniktnl1joqutysbtv9ugf8.png" alt="gambar"><br><br><img src="https://habrastorage.org/webt/ir/w3/fq/irw3fq6yv4z-bfzictvsqlht93c.png" alt="gambar"><br><br>  Pindahkan template sedikit lebih ke samping.  Untuk berhasil melakukan kalibrasi, kita perlu melakukan serangkaian gerakan template di depan kamera dari sisi ke sisi sehingga template jatuh ke semua posisi sudut di bidang tampilan kamera (kiri, kanan, atas dan bawah).  Di sebelah kanan jendela gambar kamera di jendela program adalah panel pendaftaran dengan tiga bilah kemajuan: <br><br><ul><li>  X menangkap pergerakan pola ke arah kiri / kanan (horizontal) di bidang tampilan kamera </li><li>  Y menangkap pergerakan pola ke arah atas / bawah (horizontal) di bidang tampilan kamera </li><li>  Ukuran menangkap pendekatan / penghapusan template dari kamera dan memiringkan sehubungan dengan kamera. </li><li>  Skew memperbaiki kemiringan templat kiri, kanan, atas dan bawah (bevel). </li></ul><br>  Jadi, untuk kalibrasi yang berhasil, penting bahwa templat muncul di berbagai sudut bingkai, menempati seluruh bingkai dan juga dimiringkan ke kiri, kanan, atas dan bawah. <br><br>  Mengkalibrasi kamera mata ikan pada Raspberry Pi Anda bisa memakan waktu cukup lama, jadi bersabarlah.  Prosedur kalibrasi saya memakan waktu 20 menit. <br><br>  Ketika kalibrasi selesai, tombol Calibrate harus diaktifkan (disorot dalam warna): <br><br><img src="https://habrastorage.org/webt/lq/d-/d2/lqd-d26xbjyaishe5noij5oan1k.png" alt="gambar"><br><br>  Kita juga dapat melihat hasil kalibrasi di terminal: <br><br><img src="https://habrastorage.org/webt/5c/jv/kt/5cjvktr9rxlpwwfq0kfk1kk3b7o.png" alt="gambar"><br><br>  Jika Anda puas dengan hasilnya, tekan tombol COMMIT.  Jendela program akan ditutup dan Anda akan melihat pesan "menulis data kalibrasi ke ..." di terminal. <br><br>  Periksa apakah file yang ditentukan telah dibuat: <br><br><pre> <code class="bash hljs">ll ~/.ros/camera_info/head_camera.yaml -rw-rw-r-- 1 vladimir vladimir 592 Apr 14 14:02 /home/vladimir/.ros/camera_info/head_camera.yaml</code> </pre><br>  Kalibrasi selesai.  Sekarang data kalibrasi yang diperoleh dapat digunakan dalam lokalisasi visual dan algoritma SLAM di ROS. <br><br><h2>  Mendeteksi objek menggunakan find_object_2d </h2><br>  Menginstal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">paketnya</a> cukup sederhana.  Instal dari repositori apt di Ubuntu 16.04 untuk ROS Kinetic: <br><br><pre> <code class="bash hljs">sudo apt-get install ros-kinetic-find-object-2d <span class="hljs-built_in"><span class="hljs-built_in">source</span></span> /opt/ros/kinetic/setup.bash</code> </pre><br>  Jalankan master ROS dan rqt_image_view: <br><br><pre> <code class="bash hljs">roscore roslaunch usb_cam usb_cam-test.launch</code> </pre><br>  Menggunakan perintah berikut, mulai simpul detektor: <br><br><pre> <code class="bash hljs">rosrun find_object_2d find_object_2d image:=/usb_cam/image_raw</code> </pre><br>  Jendela program deteksi terbuka: <br><br><img src="https://habrastorage.org/webt/6l/_u/kb/6l_ukb-8wjw2cylfuloapxtpdzk.png" alt="gambar"><br><br>  Di sini kita akan melihat aliran dari kamera dan hasil dari deteksi fitur karakteristik pada objek. <br>  Untuk mulai dengan, kami akan melakukan pelatihan detektor di fasilitas kami.  Tempatkan objek pertama di depan kamera: <br><br><img src="https://habrastorage.org/webt/2y/hs/nb/2yhsnbkbcr9452owc41wpl_yzxs.png" alt="gambar"><br><br>  Klik kanan pada panel kiri Objek di jendela dan opsi Tambahkan objek dari adegan akan terbuka.  Pilih opsi ini dan jendela untuk menambahkan objek akan terbuka: <br><br><img src="https://habrastorage.org/webt/r3/ey/56/r3ey56zvh_td0ap_etfqdi-nvem.png" alt="gambar"><br><br>  Setelah memilih posisi terbaik untuk objek, klik tombol Ambil Gambar untuk mengambil gambar objek: <br><br><img src="https://habrastorage.org/webt/ao/h6/qk/aoh6qkj0aktn86zjxmwlyn-stg4.png" alt="gambar"><br><br>  Kita harus memilih objek dalam gambar.  Gunakan kursor mouse untuk memilih objek: <br><br><img src="https://habrastorage.org/webt/ar/l-/6c/arl-6c6qqj88nxbrh1sh7w3fhxw.png" alt="gambar"><br><br>  Klik tombol Next untuk memotong objek dalam gambar dan beralih ke langkah berikutnya.  Setelah memotong gambar, kami mendapatkan jumlah fitur karakteristik yang terdeteksi di objek.  Tinggal menekan tombol Putus untuk menambahkan objek ke basis data objek detektor terlatih.  Di sini kita melihat langkah terakhir dari prosedur untuk menambahkan objek: <br><br><img src="https://habrastorage.org/webt/ma/jh/pa/majhpayey9z1nntt0i4eaegq6jq.png" alt="gambar"><br><br>  Sebagai hasilnya, kami melatih detektor pada satu objek.  Sekarang Anda dapat mencoba deteksi objek dalam adegan: <br><br><img src="https://habrastorage.org/webt/q6/vb/7u/q6vb7uerpmydbkvpncoz3buc5d8.png" alt="gambar"><br><br>  Mari menggambar posisi objek yang terdeteksi ke terminal: <br><br><pre> <code class="bash hljs">rosrun find_object_2d print_objects_detected</code> </pre><br>  Outputnya akan seperti ini: <br><br><pre> <code class="bash hljs">Object 1 detected, Qt corners at (259.387238,103.530960) (448.684052,79.495495) (282.419050,240.049667) (458.438938,199.656717) --- Object 1 detected, Qt corners at (255.340408,104.615120) (451.348079,75.302353) (284.672425,230.382223) (452.696585,197.625600) --- Object 1 detected, Qt corners at (253.440521,102.973320) (447.226440,76.793541) (278.530854,238.918013) (454.377219,197.526599) ---</code> </pre><br>  Mari daftar topik: <br><br><pre> <code class="bash hljs">rostopic list</code> </pre><br>  Dua topik baru muncul dalam daftar: / objects dan / objectsStamped. <br><br>  Kami menampilkan informasi tentang objek yang terdeteksi: <br><br><pre> <code class="bash hljs">rostopic <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> /objects</code> </pre><br><pre> <code class="bash hljs">layout: dim: [] data_offset: 0 data: [1.0, 266.0, 177.0, 0.7527905702590942, 0.060980819165706635, 0.00022385441116057336, 0.3012462854385376, 0.8929792046546936, 0.0008534671505913138, 334.9065856933594, 182.55294799804688, 1.0] ---</code> </pre><br>  Di sini, nilai kedua dan ketiga (266.0, 177.0) mewakili lebar dan tinggi objek.  Semua nilai lain dalam bidang data mewakili matriks homografi 3x3 (digunakan untuk menghitung posisi dan orientasi objek, serta skala dan nilai pergeseran). <br><br>  Seperti yang ditunjukkan oleh pengamatan, find_object_2d melakukan pekerjaan yang buruk dalam mendeteksi objek dengan tekstur lemah atau tanpa tekstur (tanpa tekstur).  Selain itu, detektor tidak efektif ketika mendeteksi suatu objek pada sudut besar ke objek (jika kita mengamati objek dari samping), atau pada jarak yang jauh dari objek. <br><br><img src="https://habrastorage.org/webt/pk/1f/ot/pk1fotpptvtwoym3g6p5g3lfgty.png" alt="gambar"><br><br>  Setelah menyelesaikan pekerjaan dengan detektor, find_object_2d akan menawarkan kami untuk menyimpan objek yang ditambahkan ke disk. <br><br>  Itu saja untuk saat ini.  Semoga beruntung untuk semua orang dan sampai jumpa lagi! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id429894/">https://habr.com/ru/post/id429894/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id429882/index.html">Mengontrol LED RGB melalui Cypress UDB Microcontrollers PSoC</a></li>
<li><a href="../id429884/index.html">PROSTOR 2018 Conference: pertanyaan dan jawaban tentang masa depan penyimpanan</a></li>
<li><a href="../id429888/index.html">Kalkulator berbasis tumpukan pada papan FPGA Cyclone IV</a></li>
<li><a href="../id429890/index.html">Buka webinar "Jaringan permusuhan generatif"</a></li>
<li><a href="../id429892/index.html">xonsh - python sebagai pengganti shell</a></li>
<li><a href="../id429898/index.html">DMS (Sistem Manajemen Dealer) - Implementasi Sistem Informasi Eco untuk mengelola jaringan Dealer</a></li>
<li><a href="../id429902/index.html">Page Rank di Era Web 2.0 - Bagian 1</a></li>
<li><a href="../id429904/index.html">Cerita lucu dan sedih tentang perkembangan game komputer</a></li>
<li><a href="../id429908/index.html">Cara menggunakan coroutine dalam makanan dan tidur nyenyak di malam hari</a></li>
<li><a href="../id429910/index.html">AppsConf Naik</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>