<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЧГя╕П ЁЯЩНЁЯП╜ ЁЯШв рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рдПрдХ рдПрдХрддрд╛ рдЦреЗрд▓ рдмрдирд╛рдирд╛ - рднрд╛рдЧ 2 ЁЯОл ЁЯЪЗ ЁЯШЙ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдпрд╣ "рдПрдХрддрд╛ рдореЗрдВ рдПрдХ рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рдЦреЗрд▓ рдмрдирд╛рдирд╛" рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХрд╛ рджреВрд╕рд░рд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред рд╣рдо рдПрдХрддрд╛ рдореЗрдВ рдПрдХ рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рд╢реИрд▓реА рдЦреЗрд▓ рдмрдирд╛ рд░рд╣реЗ рд╣реИрдВ, рдФрд░ рдкрд╣рд▓реЗ рднрд╛рдЧ рдХреЗ рдЕрдВрдд рддрдХ, рд╣рдордиреЗ рд╕реАрдЦрд╛ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рдПрдХ рдПрдХрддрд╛ рдЦреЗрд▓ рдмрдирд╛рдирд╛ - рднрд╛рдЧ 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413915/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dd4/78a/29c/dd478a29c258b63dc809ca16de4ee16a.png" alt="рдЫрд╡рд┐"></div><br>  рдпрд╣ <i>"рдПрдХрддрд╛ рдореЗрдВ рдПрдХ рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рдЦреЗрд▓ рдмрдирд╛рдирд╛"</i> рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХрд╛ рджреВрд╕рд░рд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред  рд╣рдо рдПрдХрддрд╛ рдореЗрдВ рдПрдХ рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рд╢реИрд▓реА рдЦреЗрд▓ рдмрдирд╛ рд░рд╣реЗ рд╣реИрдВ, рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд╣рд▓реЗ рднрд╛рдЧ</a> рдХреЗ рдЕрдВрдд рддрдХ, рд╣рдордиреЗ рд╕реАрдЦрд╛ рдХрд┐ рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЛ рдХреИрд╕реЗ рд░рдЦрд╛ рдЬрд╛рдП рдФрд░ рдХреИрд╕реЗ рдЙрдиреНрдирдд рдХрд┐рдпрд╛ рдЬрд╛рдПред  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рджреБрд╢реНрдорди рдкрд░ рд╣рдорд▓рд╛ рдХрд░рдиреЗ рд╡рд╛рд▓реА рдХреБрдХреАрдЬрд╝ рднреА рд╣реИрдВред <br><br>  рд╣рд╛рд▓рд╛рдВрдХрд┐, рджреБрд╢реНрдорди рдЕрднреА рддрдХ рдирд╣реАрдВ рдЬрд╛рдирддрд╛ рд╣реИ рдХрд┐ рдХрд╣рд╛рдВ рджреЗрдЦрдирд╛ рд╣реИ!  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЕрдХреЗрд▓реЗ рдПрдХ рд╣рдорд▓рд╛ рдЕрдЬреАрдм рд▓рдЧрддрд╛ рд╣реИред  рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рдЗрд╕ рднрд╛рдЧ рдореЗрдВ, рд╣рдо рджреБрд╢реНрдордиреЛрдВ рдФрд░ рдЖрд░реНрдо рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреА рддрд░рдВрдЧреЛрдВ рдХреЛ рдЬреЛрдбрд╝реЗрдВрдЧреЗ рддрд╛рдХрд┐ рд╡реЗ рдПрдХ рдХреАрдорддреА рдХреБрдХреА рдХрд╛ рдмрдЪрд╛рд╡ рдХрд░ рд╕рдХреЗрдВред <br><a name="habracut"></a><br><h2>  рдХрд╛рдо рдкрд░ рд▓рдЧрдирд╛ </h2><br>  рдПрдХрддрд╛ рдореЗрдВ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдЦреЛрд▓реЗрдВ, рдЬрд┐рд╕реЗ рд╣рдордиреЗ рдкрд┐рдЫрд▓реЗ рднрд╛рдЧ рдореЗрдВ рдмрдВрдж рдХрд░ рджрд┐рдпрд╛ рдерд╛ред  рдпрджрд┐ рдЖрдк рдЕрднреА рд╣рдорд╛рд░реЗ рд╕рд╛рде рд╢рд╛рдорд┐рд▓ рд╣реБрдП рд╣реИрдВ, рддреЛ <a href="">рдбреНрд░рд╛рдлреНрдЯ рдкреНрд░реЛрдЬреЗрдХреНрдЯ</a> рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ рдФрд░ <em>рдЯреЙрд╡рд░рдбрд┐рдлреЗрдВрд╕-рдкрд╛рд░реНрдЯ 2-рд╕реНрдЯрд╛рд░реНрдЯрд░</em> рдЦреЛрд▓реЗрдВред <br><br>  <em>рджреГрд╢реНрдпреЛрдВ</em> рдлрд╝реЛрд▓реНрдбрд░ рд╕реЗ <em>GameScene</em> рдЦреЛрд▓реЗрдВред <br><br><h2>  рджреБрд╢реНрдордиреЛрдВ рдХреА рдмрд╛рд░реА </h2><br>  рдкрд┐рдЫрд▓реЗ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рдЕрдВрдд рдореЗрдВ, рджреБрд╢реНрдорди рдиреЗ рд╕рдбрд╝рдХ рдкрд░ рдЪрд▓рдирд╛ рд╕реАрдЦрд╛, рд▓реЗрдХрд┐рди рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЙрд╕реЗ рдкрддрд╛ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдХрд╣рд╛рдВ рджреЗрдЦрдирд╛ рд╣реИред <br><br>  IDE рдореЗрдВ <em>MoveEnemy.cs</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЦреЛрд▓реЗрдВ рдФрд░ рд╕реНрдерд┐рддрд┐ рдХреЛ рдареАрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрди рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝реЗрдВред <br><br><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RotateIntoMoveDirection</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//1 Vector3 newStartPosition = waypoints [currentWaypoint].transform.position; Vector3 newEndPosition = waypoints [currentWaypoint + 1].transform.position; Vector3 newDirection = (newEndPosition - newStartPosition); //2 float x = newDirection.x; float y = newDirection.y; float rotationAngle = Mathf.Atan2 (y, x) * 180 / Mathf.PI; //3 GameObject sprite = gameObject.transform.Find("Sprite").gameObject; sprite.transform.rotation = Quaternion.AngleAxis(rotationAngle, Vector3.forward); }</span></span></code> </pre> <br>  <code>RotateIntoMoveDirection</code> рджреБрд╢реНрдорди рдХреЛ рдШреБрдорд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ рд╡рд╣ рд╣рдореЗрд╢рд╛ рдЖрдЧреЗ <code>RotateIntoMoveDirection</code> ред  рд╡рд╣ рдЗрд╕реЗ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдХрд░рддрд╛ рд╣реИ: <br><br><ol><li>  рдмрдЧ рдХреА рд╡рд░реНрддрдорд╛рди рджрд┐рд╢рд╛ рдХреА рдЧрдгрдирд╛ рдХрд░рддрд╛ рд╣реИ, рд╡рд░реНрддрдорд╛рди рдмрд┐рдВрджреБ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдЕрдЧрд▓реЗ рдмрд┐рдВрджреБ рдХреА рд╕реНрдерд┐рддрд┐ рд╕реЗ рдШрдЯрд╛рддрд╛ рд╣реИред </li><li>  рд░реЗрдбрд┐рдпрди рдореЗрдВ рдХреЛрдг рдХрд╛ рдирд┐рд░реНрдзрд╛рд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>Mathf.Atan2</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЬрд╣рд╛рдВ <code>newDirection</code> рдирд┐рд░реНрджреЗрд╢рд┐рдд рд╣реИ (рд╢реВрдиреНрдп рдмрд┐рдВрджреБ рджрд╛рдИрдВ рдУрд░ рд╣реИ)ред  рдкрд░рд┐рдгрд╛рдо рдХреЛ <code>180 / Mathf.PI</code> рдЧреБрдгрд╛ рдХрд░рддрд╛ рд╣реИ, рдХреЛрдг рдХреЛ рдбрд┐рдЧреНрд░реА рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рддрд╛ рд╣реИред </li><li>  рдЕрдВрдд рдореЗрдВ, рдпрд╣ <em>рд╕реНрдкреНрд░рд╛рдЗрдЯ</em> рдмрдЪреНрдЪрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЕрдХреНрд╖ рдХреЛ рдШреБрдорд╛рддрд╛ рд╣реИред <code>rotationAngle</code> рдбрд┐рдЧреНрд░реАред  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╣рдо <i>рдмрдЪреНрдЪреЗ рдХреЛ</i> рдШреБрдорд╛рддреЗ рд╣реИрдВ, рдорд╛рддрд╛-рдкрд┐рддрд╛ рдХреЛ рдирд╣реАрдВ, рддрд╛рдХрд┐ рдмрд╛рдж рдореЗрдВ рд╣рдо рдЬреЛ рдКрд░реНрдЬрд╛ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ рд╡рд╣ рдХреНрд╖реИрддрд┐рдЬ рдмрдиреА рд░рд╣реЗред </li></ol><br>  <code>Update()</code> , рдЯрд┐рдкреНрдкрдгреА рдХреЛ рдмрджрд▓реЗрдВ <code>// TODO:    </code> рдЕрдЧрд▓реЗ рдХреЙрд▓ рдХреЗ <code>// TODO:    </code> <code>RotateIntoMoveDirection</code> : <br><br><pre> <code class="cs hljs">RotateIntoMoveDirection();</code> </pre> <br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдкрд░ рд▓реМрдЯреЗрдВред  рджреГрд╢реНрдп рдХреЛ рдЪрд▓рд╛рдПрдВ;  рдЕрдм рджреБрд╢реНрдорди рдЬрд╛рдирддрд╛ рд╣реИ рдХрд┐ рд╡рд╣ рдХрд╣рд╛рдБ рдЬрд╛ рд░рд╣рд╛ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/73d/7f4/9e5/73d7f49e5fec3785e2ac3376c3774f27.gif"></div><br>  рдЕрдм рдмрдЧ рдХреЛ рдкрддрд╛ рд╣реИ рдХрд┐ рд╡рд╣ рдХрд╣рд╛рдВ рдЬрд╛ рд░рд╣рд╛ рд╣реИред <br><br>  рдПрдХ рдФрд░ рдХреЗрд╡рд▓ рджреБрд╢реНрдорди рдмрд╣реБрдд рдкреНрд░рднрд╛рд╡рд╢рд╛рд▓реА рдирд╣реАрдВ рджрд┐рдЦрддрд╛ рд╣реИред  рд╣рдореЗрдВ рднреАрдбрд╝ рдЪрд╛рд╣рд┐рдП!  рдФрд░ рдХрд┐рд╕реА рднреА рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рдЦреЗрд▓ рдХреА рддрд░рд╣, рд▓рд╣рд░реЛрдВ рдореЗрдВ рднреАрдбрд╝ рдЪрд▓рддреА рд╣реИ! <br><br><h2>  рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рд╕реВрдЪрд┐рдд рдХрд░реЗрдВ </h2><br>  рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рд╣рдо рднреАрдбрд╝ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВ, рд╣рдореЗрдВ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рдЖрд╕рдиреНрди рд▓рдбрд╝рд╛рдИ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЪреЗрддрд╛рд╡рдиреА рджреЗрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдпрд╣ рд╕реНрдХреНрд░реАрди рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рд╡рд░реНрддрдорд╛рди рд▓рд╣рд░ рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд╛рдпрдХ рд╣реИред <br><br>  рдХрдИ GameObjects рджреНрд╡рд╛рд░рд╛ <em>рд╡реЗрд╡</em> рдЬрд╛рдирдХрд╛рд░реА рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЗрд╕реЗ <em>GameManagerBehavior</em> рдШрдЯрдХ рдХреЗ <em>GameManager рдореЗрдВ</em> рдЬреЛрдбрд╝ <em>рджреЗрдВрдЧреЗ</em> ред <br><br>  IDE рдореЗрдВ <em>GameManagerBehavior.cs</em> рдЦреЛрд▓реЗрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рджреЛ рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Text waveLabel; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject[] nextWaveLabels;</code> </pre> <br>  <code>waveLabel</code> рд╕реНрдХреНрд░реАрди рдХреЗ рдКрдкрд░реА рджрд╛рдПрдВ рдХреЛрдиреЗ рдореЗрдВ рддрд░рдВрдЧ рд╕рдВрдЦреНрдпрд╛ рдЖрдЙрдЯрдкреБрдЯ рд▓реЗрдмрд▓ рдХреЗ рд▓рд┐рдП рдПрдХ рд▓рд┐рдВрдХ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред  <code>nextWaveLabels</code> рджреЛ <code>nextWaveLabels</code> рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдПрдиреАрдореЗрд╢рди рдХрд╛ рдПрдХ рд╕рдВрдпреЛрдЬрди рдмрдирд╛рддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рд╣рдо рдПрдХ рдирдИ рд▓рд╣рд░ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рджрд┐рдЦрд╛рдПрдВрдЧреЗ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e7c/650/8f0/e7c6508f018c4382e490a4f6bee31e1f.gif"></div><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдкрд░ рд▓реМрдЯреЗрдВред  <em>рдкрджрд╛рдиреБрдХреНрд░рдо</em> рдореЗрдВ <em>GameManager</em> рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред  <em>рд╡реЗрд╡ рд▓реЗрдмрд▓</em> рдХреЗ рджрд╛рдИрдВ рдУрд░ рд╕реНрдерд┐рдд рд╕рд░реНрдХрд▓ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ <em>рдкрд╛рда</em> рдХрд╛ <em>рдЪрдпрди рдХрд░реЗрдВ</em> рд╕рдВрд╡рд╛рдж рдмреЙрдХреНрд╕ рдореЗрдВ, <em>рджреГрд╢реНрдп</em> рдЯреИрдм рд╕реЗ <em>WaveLabel</em> рдЪреБрдиреЗрдВред <br><br>  рдЕрдм <em>рдиреЗрдХреНрд╕реНрдЯ рд╡реЗрд╡ рд▓реЗрдмрд▓реНрд╕ рдХреЗ</em> рд▓рд┐рдП <em>рд╕рд╛рдЗрдЬ</em> <em>2 рдкрд░</em> рд╕реЗрдЯ рдХрд░реЗрдВред  рдЕрдм <em>Element 0</em> рдХреЛ <em>NextWaveBottomLabel рдкрд░</em> рд╕реЗрдЯ рдХрд░реЗрдВ рдФрд░ <em>рддрддреНрд╡ 1</em> <em>NextWaveTopLabel</em> рдХреЗ рд▓рд┐рдП рд╡реИрд╕рд╛ рд╣реА рд╣реИ рдЬреИрд╕рд╛ рд╣рдордиреЗ рд╡реЗрд╡ рд▓реЗрдмрд▓ рдХреЗ рд╕рд╛рде рдХрд┐рдпрд╛ рдерд╛ред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d19/725/1f8/d197251f821c7262c638df487fb752cd.png"></div><br>  <i>рдпрд╣ рд╡рд╣реА рд╣реИ рдЬреЛ рдЧреЗрдо рдореИрдиреЗрдЬрд░ рд╡реНрдпрд╡рд╣рд╛рд░ рдХреЛ рдЕрдм рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдП</i> <br><br>  рдпрджрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рд╣рд╛рд░ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЙрд╕реЗ рдЕрдЧрд▓реА рд▓рд╣рд░ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рдВрджреЗрд╢ рдирд╣реАрдВ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдХреЛ рд╕рдВрднрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП, <em>GameManagerBehavior.cs рдкрд░</em> рд╡рд╛рдкрд╕ <em>рд▓реМрдЯреЗрдВ</em> рдФрд░ рдПрдХ рдЕрдиреНрдп рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> gameOver = <span class="hljs-literal"><span class="hljs-literal">false</span></span>;</code> </pre> <br>  <code>gameOver</code> рд╣рдо рдЙрд╕ рдореВрд▓реНрдп рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░реЗрдВрдЧреЗ рдХрд┐ рдХреНрдпрд╛ рдЦрд┐рд▓рд╛рдбрд╝реА рд╣рд╛рд░ рдЧрдпрд╛ред <br><br>  рдпрд╣рд╛рдВ рд╣рдо рд╡рд░реНрддрдорд╛рди рддрд░рдВрдЧ рдХреЗ рд╕рд╛рде рдЦреЗрд▓ рдХреЗ рддрддреНрд╡реЛрдВ рдХреЛ рд╕рд┐рдВрдХреНрд░рдирд╛рдЗрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдлрд┐рд░ рд╕реЗ рд╕рдВрдкрддреНрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  <code>GameManagerBehavior</code> рдХреЗ рд▓рд┐рдП рдирд┐рдореНрди рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> wave; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Wave { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> wave; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { wave = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!gameOver) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; nextWaveLabels.Length; i++) { nextWaveLabels[i].GetComponent&lt;Animator&gt;().SetTrigger(<span class="hljs-string"><span class="hljs-string">"nextWave"</span></span>); } } waveLabel.text = <span class="hljs-string"><span class="hljs-string">"WAVE: "</span></span> + (wave + <span class="hljs-number"><span class="hljs-number">1</span></span>); } }</code> </pre> <br>  рдПрдХ рдирд┐рдЬреА рдЪрд░, рд╕рдВрдкрддреНрддрд┐, рдФрд░ рдЧреЗрдЯрдЯрд░ рдмрдирд╛рдирд╛ рдЖрдкрдХреЗ рд▓рд┐рдП рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдХ рдкрд░рд┐рдЪрд┐рдд рдЪреАрдЬ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред  рд▓реЗрдХрд┐рди рд╕реЗрдЯрд░ рдХреЗ рд╕рд╛рде, рдлрд┐рд░ рд╕реЗ, рд╕рдм рдХреБрдЫ рдереЛрдбрд╝рд╛ рдФрд░ рджрд┐рд▓рдЪрд╕реНрдк рд╣реИред <br><br>  рд╣рдо <code>wave</code> рдирдпрд╛ <code>value</code> ред <br><br>  рдлрд┐рд░ рд╣рдо рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рдЦреЗрд▓ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЧрдпрд╛ рд╣реИред  рдпрджрд┐ рдирд╣реАрдВ, рддреЛ рд╕рднреА <em>рдЕрдЧрд▓реЗ рд╡реЙрд▓реНрд╡</em> рд▓реЗрдмрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реВрдк рдХрд░реЗрдВ - рдЗрди рд▓реЗрдмрд▓ рдореЗрдВ рдПрдХ <em>рдПрдирд┐рдореЗрдЯрд░</em> рдШрдЯрдХ рд╣реИред  <em>рдРрдирд┐рдореЗрдЯрд░</em> рдПрдиреАрдореЗрд╢рди рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдПрдХ <em>рдиреЗрдХреНрд╕реНрдЯ</em> рдЯреНрд░рд┐рдЧрд░ <em>рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд</em> рдХрд░рддреЗ <em>рд╣реИрдВ</em> ред <br><br>  рдЕрдВрдд рдореЗрдВ, рд╣рдо <code>wave + 1</code> <code>waveLabel</code> рдХрд╛ <code>text</code> рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВред  рдХреНрдпреЛрдВ <code>+1</code> ?  рд╕рд╛рдзрд╛рд░рдг рд▓реЛрдЧ рдЦрд░реЛрдВрдЪ рд╕реЗ рдЧрд┐рдирддреА рд╢реБрд░реВ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ (рд╣рд╛рдБ, рдпрд╣ рдЕрдЬреАрдм рд╣реИ)ред <br><br>  <code>Start()</code> рдЗрд╕ рд╕рдВрдкрддреНрддрд┐ рдХрд╛ рдореВрд▓реНрдп рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="cs hljs">Wave = <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre> <br>  рд╣рдо рд╕рдВрдЦреНрдпрд╛ <em>0</em> <code>Wave</code> рд╕рд╛рде рдЧрд┐рдирддреА рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдореЗрдВ рджреГрд╢реНрдп рдЪрд▓рд╛рдПрдБред  рд╡реЗрд╡ рд▓реЗрдмрд▓ рд╕рд╣реА рдврдВрдЧ рд╕реЗ 1 рджрд┐рдЦрд╛рдПрдЧрд╛ред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b0d/edf/546/b0dedf546c1b6ad9b0d0b91c5021212d.png"></div><br>  <i>рдПрдХ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рд▓рд┐рдП, рдпрд╣ рд╕рдм рд▓рд╣рд░ 1 рд╕реЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИред</i> <br><br><h2>  рд▓рд╣рд░реЗрдВ: рджреБрд╢реНрдордиреЛрдВ рдХреЗ рдвреЗрд░ рдмрдирд╛рдПрдБ </h2><br>  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд▓рдЧ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдПрдХ рднреАрдбрд╝ рдХреЗ рд╕рд╛рде рд╣рдорд▓рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рджреБрд╢реНрдорди рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ - рдЬрдмрдХрд┐ рд╣рдо рдирд╣реАрдВ рдЬрд╛рдирддреЗ рдХрд┐ рдпрд╣ рдХреИрд╕реЗ рдХрд░рдирд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдореЗрдВ рдЕрдЧрд▓реА рд▓рд╣рд░ рддрдм рддрдХ рдирд╣реАрдВ рдмрдирд╛рдиреА рдЪрд╛рд╣рд┐рдП рдЬрдм рддрдХ рдХрд┐ рд╡рд░реНрддрдорд╛рди рдирд╖реНрдЯ рди рд╣реЛ рдЬрд╛рдПред <br><br>  рдпрд╣реА рд╣реИ, рдЦреЗрд▓ рдХреЛ рджреГрд╢реНрдп рдореЗрдВ рджреБрд╢реНрдордиреЛрдВ рдХреА рдЙрдкрд╕реНрдерд┐рддрд┐ рдХреЛ рдкрд╣рдЪрд╛рдирдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдФрд░ <em>рдЯреИрдЧ</em> рдпрд╣рд╛рдВ рдЦреЗрд▓ рдХреА рд╡рд╕реНрддреБрдУрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдЕрдЪреНрдЫрд╛ рддрд░реАрдХрд╛ рд╣реИред <br><br><h3>  рд╢рддреНрд░реБ рдЯреИрдЧрд┐рдВрдЧ </h3><br>  Project Browser рдореЗрдВ <em>Enem</em> prefab рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред  <em>рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░</em> рдХреЗ рд╢реАрд░реНрд╖ рдкрд░, <em>рдЯреИрдЧ</em> рдбреНрд░реЙрдк-рдбрд╛рдЙрди рд╕реВрдЪреА рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ <em>рдРрдб рдЯреИрдЧ</em> рдЪреБрдиреЗрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/be0/7ea/b29/be07eab29a25c69751add67ce4faa283.png"></div><br>  <em>рд╢рддреНрд░реБ</em> рдирд╛рдордХ рдПрдХ <em>рдЯреИрдЧ</em> рдмрдирд╛рдПрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/df1/c66/d02/df1c66d02e0c29a7a6ec0b615dbbd2fc.png"></div><br>  Prefab <em>рд╢рддреНрд░реБ рдХрд╛</em> рдЪрдпрди рдХрд░реЗрдВред  <em>рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░ рдореЗрдВ,</em> рдЗрд╕рдХреЗ рд▓рд┐рдП <em>рд╢рддреНрд░реБ</em> <em>рдЯреИрдЧ</em> рд╕реЗрдЯ <em>рдХрд░реЗрдВ</em> ред <br><br><h3>  рджреБрд╢реНрдордиреЛрдВ рдХреА рд▓рд╣рд░реЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рдирд╛ </h3><br>  рдЕрдм рд╣рдореЗрдВ рджреБрд╢реНрдордиреЛрдВ рдХреА рд▓рд╣рд░ рдХреЛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  IDE рдореЗрдВ <em>SpawnEnemy.cs</em> рдЦреЛрд▓реЗрдВ рдФрд░ <code>SpawnEnemy</code> рд╕реЗ рдкрд╣рд▓реЗ рдирд┐рдореНрди рд╡рд░реНрдЧ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">System.Serializable</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Wave</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject enemyPrefab; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> spawnInterval = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> maxEnemies = <span class="hljs-number"><span class="hljs-number">20</span></span>; }</code> </pre> <br>  <em>рд╡реЗрд╡</em> рдореЗрдВ <code>enemyPrefab</code> рд╣реЛрддрд╛ рд╣реИ - рдЗрд╕ рд▓рд╣рд░ рдореЗрдВ рд╕рднреА рджреБрд╢реНрдордиреЛрдВ рдХреЗ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рдиреЗ рдХрд╛ рдЖрдзрд╛рд░, <code>spawnInterval</code> - рд╕реЗрдХрдВрдб рдФрд░ <code>maxEnemies</code> рдореЗрдВ рджреБрд╢реНрдордиреЛрдВ рдореЗрдВ рд▓рд╣рд░ рдХреЗ рдмреАрдЪ рдХрд╛ рд╕рдордп - рдЗрд╕ рд▓рд╣рд░ рдореЗрдВ рдмрдирд╛рдП рдЧрдП рджреБрд╢реНрдордиреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ред <br><br>  рд╡рд░реНрдЧ <em>Serializable рд╣реИ</em> , <em>рдЕрд░реНрдерд╛рддреН</em> , рд╣рдо рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░ рдореЗрдВ рдЗрд╕рдХреЗ рдореВрд▓реНрдпреЛрдВ рдХреЛ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░ рдХреЛ <code>SpawnEnemy</code> рд╡рд░реНрдЧ рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Wave[] waves; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> timeBetweenWaves = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GameManagerBehavior gameManager; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> lastSpawnTime; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> enemiesSpawned = <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre> <br>  рдпрд╣рд╛рдВ рд╣рдо рджреБрд╢реНрдордиреЛрдВ рдХреЛ рдЬрдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЪрд░ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдорд╛рд░реНрдЧ рдкрд░ рдмрд┐рдВрджреБрдУрдВ рдХреЗ рдмреАрдЪ рджреБрд╢реНрдордиреЛрдВ рдХреЛ рд▓реЗ рдЬрд╛рдиреЗ рдХреЗ рддрд░реАрдХреЗ рдХреЗ рд╕рдорд╛рди рд╣реИред <br><br>  рд╣рдо рдЕрд▓рдЧ-рдЕрд▓рдЧ рджреБрд╢реНрдордиреЛрдВ рдХреА рд▓рд╣рд░реЛрдВ рдХреЛ рддрд░рдВрдЧреЛрдВ рдореЗрдВ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рджреБрд╢реНрдордиреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдЙрдирдХреЗ рджреНрд╡рд╛рд░рд╛ рдмрдирд╛рдП рдЧрдП рджреБрд╢реНрдордиреЛрдВ рдХреЛ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдЯреНрд░реИрдХ рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдЗрди рд╕рднреА рдорд╛рд░ рдХреЗ рдмрд╛рдж, рдЦрд┐рд▓рд╛рдбрд╝рд┐рдпреЛрдВ рдХреЛ рд╕рд╛рдВрд╕ рд▓реЗрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордп рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП 5 рд╕реЗрдХрдВрдб рдХреЗ рд▓рд┐рдП рд╕рдордп рд╕реЗрдЯ рдХрд░реЗрдВред <br><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдХреЗ <code>Start()</code> рдХреА рд╕рд╛рдордЧреНрд░реА рдХреЛ рдмрджрд▓реЗрдВред <br><br><pre> <code class="cs hljs">lastSpawnTime = Time.time; gameManager = GameObject.Find(<span class="hljs-string"><span class="hljs-string">"GameManager"</span></span>).GetComponent&lt;GameManagerBehavior&gt;();</code> </pre> <br>  рдпрд╣рд╛рдВ рд╣рдо <code>lastSpawnTime</code> рд╡рд░реНрддрдорд╛рди рд╕рдордп рдХрд╛ рдорд╛рди рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ, <code>lastSpawnTime</code> , рджреГрд╢реНрдп рд▓реЛрдб рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╢реБрд░реВ рд╣реЛрдиреЗ рдХрд╛ рд╕рдордпред  рддреЛ рдлрд┐рд░ рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкрд░рд┐рдЪрд┐рдд <code>GameManagerBehavior</code> рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВред <br><br>  <code>Update()</code> рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрди рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ <code>Update()</code> : <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// 1 int currentWave = gameManager.Wave; if (currentWave &lt; waves.Length) { // 2 float timeInterval = Time.time - lastSpawnTime; float spawnInterval = waves[currentWave].spawnInterval; if (((enemiesSpawned == 0 &amp;&amp; timeInterval &gt; timeBetweenWaves) || timeInterval &gt; spawnInterval) &amp;&amp; enemiesSpawned &lt; waves[currentWave].maxEnemies) { // 3 lastSpawnTime = Time.time; GameObject newEnemy = (GameObject) Instantiate(waves[currentWave].enemyPrefab); newEnemy.GetComponent&lt;MoveEnemy&gt;().waypoints = waypoints; enemiesSpawned++; } // 4 if (enemiesSpawned == waves[currentWave].maxEnemies &amp;&amp; GameObject.FindGameObjectWithTag("Enemy") == null) { gameManager.Wave++; gameManager.Gold = Mathf.RoundToInt(gameManager.Gold * 1.1f); enemiesSpawned = 0; lastSpawnTime = Time.time; } // 5 } else { gameManager.gameOver = true; GameObject gameOverText = GameObject.FindGameObjectWithTag ("GameWon"); gameOverText.GetComponent&lt;Animator&gt;().SetBool("gameOver", true); }</span></span></code> </pre> <br>  рдЖрдЗрдП рдЗрд╕рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдЪрд░рдг рджрд░ рдЪрд░рдг рдХрд░реЗрдВ: <br><br><ol><li>  рд╣рдореЗрдВ рд╡рд░реНрддрдорд╛рди рддрд░рдВрдЧ рдХрд╛ рд╕реВрдЪрдХрд╛рдВрдХ рдорд┐рд▓рддрд╛ рд╣реИ рдФрд░ рдЬрд╛рдВрдЪреЗрдВ рдХрд┐ рдХреНрдпрд╛ рдпрд╣ рдЕрдВрддрд┐рдо рд╣реИред </li><li>  рдпрджрд┐ рдРрд╕рд╛ рд╣реИ, рддреЛ рд╣рдо рдкрд┐рдЫрд▓реЗ рджреБрд╢реНрдорди рд╕реНрдкреЙрди рдХреЗ рдмрд╛рдж рдмреАрддреЗ рд╣реБрдП рд╕рдордп рдХреА рдЧрдгрдирд╛ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рдпрд╣ рджреБрд╢реНрдорди рдмрдирд╛рдиреЗ рдХрд╛ рд╕рдордп рд╣реИред  рдпрд╣рд╛рдВ рд╣рдо рджреЛ рдорд╛рдорд▓реЛрдВ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реИрдВред  рдпрджрд┐ рдпрд╣ рд▓рд╣рд░ рдореЗрдВ рдкрд╣рд▓рд╛ рджреБрд╢реНрдорди рд╣реИ, рддреЛ рд╣рдо <code>timeBetweenWaves</code> рдХрд┐ рдХреНрдпрд╛ <code>timeBetweenWaves</code> рд╕реЗ <code>timeInterval</code> рд╣реИред  рдЕрдиреНрдпрдерд╛, рд╣рдо <code>spawnInterval</code> рдХрд┐ рдХреНрдпрд╛ <code>spawnInterval</code> рддрд░рдВрдЧреЛрдВ рд╕реЗ <code>timeInterval</code> рд╣реИред  рдХрд┐рд╕реА рднреА рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдХрд┐ рд╣рдордиреЗ рдЗрд╕ рд▓рд╣рд░ рдореЗрдВ рд╕рднреА рджреБрд╢реНрдорди рдирд╣реАрдВ рдмрдирд╛рдП рд╣реИрдВред </li><li>  рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рддреЛ рджреБрд╢реНрдорди рдХреЛ рд╕реНрдкреЙрди рдХрд░реЗрдВ, рджреБрд╢реНрдорди рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рддреЗ рд╣реБрдП <code>enemyPrefab</code> ред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ <code>enemiesSpawned</code> рдХреЗ рдореВрд▓реНрдп рдореЗрдВ <code>enemiesSpawned</code> ред </li><li>  рд╕реНрдХреНрд░реАрди рдкрд░ рджреБрд╢реНрдордиреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреА рдЬрд╛рдБрдЪ рдХрд░реЗрдВред  рдпрджрд┐ рд╡реЗ рд╡рд╣рд╛рдВ рдирд╣реАрдВ рд╣реИрдВ, рдФрд░ рд▓рд╣рд░ рдореЗрдВ рдпрд╣ рдЖрдЦрд┐рд░реА рджреБрд╢реНрдорди рдерд╛, рддреЛ рд╣рдо рдЕрдЧрд▓реА рд▓рд╣рд░ рдмрдирд╛рддреЗ рд╣реИрдВред  рд▓рд╣рд░ рдХреЗ рдЕрдВрдд рдореЗрдВ, рд╣рдо рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рд╢реЗрд╖ рд╕рднреА рд╕реНрд╡рд░реНрдг рдХрд╛ 10 рдкреНрд░рддрд┐рд╢рдд рджреЗрддреЗ рд╣реИрдВред </li><li>  рдЖрдЦрд┐рд░реА рд▓рд╣рд░ рдХреЛ рд╣рд░рд╛рдиреЗ рдХреЗ рдмрд╛рдж, рдЦреЗрд▓ рдореЗрдВ рдЬреАрдд рдХрд╛ рдПрдХ рдПрдиреАрдореЗрд╢рди рдпрд╣рд╛рдВ рдЦреЗрд▓рд╛ рдЬрд╛рддрд╛ рд╣реИред </li></ol><br><h3>  рд╕реНрдкреЙрди рдЕрдВрддрд░рд╛рд▓ рд╕реЗрдЯ рдХрд░рдирд╛ </h3><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдкрд░ рд▓реМрдЯреЗрдВред  <em>рдкрджрд╛рдиреБрдХреНрд░рдо</em> рдореЗрдВ <em>рд░реЛрдб</em> рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред  <em>рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░ рдореЗрдВ,</em> <em>рд╡реЗрд╡реНрд╕</em> рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ <em>рдЖрдХрд╛рд░</em> <em>4 рдкрд░</em> рд╕реЗрдЯ рдХрд░реЗрдВред <br><br>  рдЕрднреА рдХреЗ рд▓рд┐рдП, <em>рд╢рддреНрд░реБ Prefab рдХреЗ</em> рд░реВрдк рдореЗрдВ рд╕рднреА рдЪрд╛рд░ рддрддреНрд╡реЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ <em>рд╢рддреНрд░реБ</em> рд╡рд╕реНрддреБ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред  рдирд┐рдореНрди рдХреЗ рд░реВрдк рдореЗрдВ <em>рд╕реНрдкреЙрди рдЕрдВрддрд░рд╛рд▓</em> рдФрд░ <em>рдЕрдзрд┐рдХрддрдо рд╢рддреНрд░реБ</em> рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ: <br><br><ul><li>  <em>рддрддреНрд╡ 0</em> : рд╕реНрдкреЙрди рдЗрдВрдЯрд░рд╡рд▓: <em>2.5</em> , рдЕрдзрд┐рдХрддрдо рд╢рддреНрд░реБ: <em>5</em> </li><li>  <em>рддрддреНрд╡ 1</em> : рд╕реНрдкреЙрди рдЗрдВрдЯрд░рд╡рд▓: <em>2</em> , рдореИрдХреНрд╕ рджреБрд╢реНрдорди: <em>10</em> </li><li>  <em>рддрддреНрд╡ 2</em> : рд╕реНрдкреЙрди рдЗрдВрдЯрд░рд╡рд▓: <em>2</em> , рдореИрдХреНрд╕ рджреБрд╢реНрдорди: <em>15</em> </li><li>  <em>рддрддреНрд╡ 3</em> : рд╕реНрдкреЙрди рдЕрдВрддрд░рд╛рд▓: <em>1</em> , рдЕрдзрд┐рдХрддрдо рд╢рддреНрд░реБ: <em>5</em> </li></ul><br>  рд╕рдорд╛рдкреНрдд рдпреЛрдЬрдирд╛ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрдиреА рдЪрд╛рд╣рд┐рдП: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ff7/0fa/954/ff70fa95476112b51dfb83505f9a785b.png"></div><br>  рдмреЗрд╢рдХ, рдЖрдк рдЬрдЯрд┐рд▓рддрд╛ рдмрдврд╝рд╛рдиреЗ рдпрд╛ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрди рдореВрд▓реНрдпреЛрдВ рдХреЗ рд╕рд╛рде рдкреНрд░рдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдЧреЗрдо рд▓реЙрдиреНрдЪ рдХрд░реЗрдВред  рдЕрд╣рд╛!  рдмреАрдЯрд▓ рдиреЗ рдЖрдкрдХреА рдХреБрдХреА рдХреА рдпрд╛рддреНрд░рд╛ рд╢реБрд░реВ рдХрд░ рджреА рд╣реИ! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a7f/097/4d3/a7f0974d36a188b5575a3e70a8488a4a.gif" alt="рдХреАрдбрд╝реЗ"></div><br><h3>  рдЕрддрд┐рд░рд┐рдХреНрдд рдХрд╛рд░реНрдп: рджреБрд╢реНрдордиреЛрдВ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдЬреЛрдбрд╝реЗрдВ </h3><br>  рдХрд┐рд╕реА рднреА рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рдЦреЗрд▓ рдХреЛ рдХреЗрд╡рд▓ рдПрдХ рдкреНрд░рдХрд╛рд░ рдХреЗ рджреБрд╢реНрдорди рдХреЗ рд╕рд╛рде рдкреВрд░рд╛ рдирд╣реАрдВ рдорд╛рдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, <em>Prefabs</em> рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ <em>Enemy2</em> рднреА рд╣реИред <br><br>  <em>рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░ рдореЗрдВ,</em> <em>Prefabs \ Enemy2 рдХрд╛</em> рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рдЗрд╕рдореЗрдВ <em>MoveEnemy</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЬреЛрдбрд╝реЗрдВред  <em>рдЧрддрд┐</em> <em>3 рдкрд░</em> рд╕реЗрдЯ рдХрд░реЗрдВ <em>рдФрд░</em> <em>рд╢рддреНрд░реБ</em> <em>рдЯреИрдЧ</em> рд╕реЗрдЯ <em>рдХрд░реЗрдВ</em> ред  рдЕрдм рдЖрдк рдЗрд╕ рддреНрд╡рд░рд┐рдд рджреБрд╢реНрдорди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рдЖрд░рд╛рдо рди рдХрд░реЗ! <br><br><h2>  рдкреНрд▓реЗрдпрд░ рд▓рд╛рдЗрдл рдЕрдкрдбреЗрдЯ </h2><br>  рд╣рд╛рд▓рд╛рдВрдХрд┐ рджреБрд╢реНрдордиреЛрдВ рдХреЗ рдЧрд┐рд░реЛрд╣ рдХреБрдХреА рдкрд░ рд╣рдорд▓рд╛ рдХрд░рддреЗ рд╣реИрдВ, рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рдХреЛрдИ рдиреБрдХрд╕рд╛рди рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЬрд▓реНрдж рд╣реА рд╣рдо рдЗрд╕реЗ рдареАрдХ рдХрд░ рджреЗрдВрдЧреЗред  рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рдиреБрдХрд╕рд╛рди рдЙрдард╛рдирд╛ рдкрдбрд╝рддрд╛ рд╣реИ рдЕрдЧрд░ рд╡рд╣ рджреБрд╢реНрдорди рдХреЛ рдЪреБрдкрдХреЗ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br><br>  IDE рдореЗрдВ <em>GameManagerBehavior.cs</em> рдЦреЛрд▓реЗрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рджреЛ рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Text healthLabel; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject[] healthIndicator;</code> </pre> <br>  рд╣рдо рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдЬреАрд╡рди рдореВрд▓реНрдп рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП <code>healthLabel</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдХреБрдХреАрдЬрд╝ рдХреЛ рдЪрдмрд╛рддреЗ рд╣реБрдП рдкрд╛рдБрдЪ рдЫреЛрдЯреЗ рд╣рд░реЗ рд░рд╛рдХреНрд╖рд╕реЛрдВ рддрдХ рдкрд╣реБрдБрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рд╛рд╕реНрдереНрдпрд╡рд░реНрдзрдХ - рд╡реЗ рдмрд╕ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХрд╛ рдкреНрд░рддреАрдХ рд╣реИрдВ;  рдпрд╣ рдПрдХ рдорд╛рдирдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕рдВрдХреЗрддрдХ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдордЬреЗрджрд╛рд░ рд╣реИред <br><br><h3>  рд╕реНрд╡рд╛рд╕реНрдереНрдп рдкреНрд░рдмрдВрдзрди </h3><br>  рдЕрдм <code>GameManagerBehavior</code> рдореЗрдВ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рд╡рд╛рд▓реА рд╕рдВрдкрддреНрддрд┐ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> health; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Health { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> health; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { <span class="hljs-comment"><span class="hljs-comment">// 1 if (value &lt; health) { Camera.main.GetComponent&lt;CameraShake&gt;().Shake(); } // 2 health = value; healthLabel.text = "HEALTH: " + health; // 3 if (health &lt;= 0 &amp;&amp; !gameOver) { gameOver = true; GameObject gameOverText = GameObject.FindGameObjectWithTag("GameOver"); gameOverText.GetComponent&lt;Animator&gt;().SetBool("gameOver", true); } // 4 for (int i = 0; i &lt; healthIndicator.Length; i++) { if (i &lt; Health) { healthIndicator[i].SetActive(true); } else { healthIndicator[i].SetActive(false); } } } }</span></span></code> </pre> <br>  рдЗрд╕ рддрд░рд╣ рд╕реЗ рд╣рдо рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХрд╛ рдкреНрд░рдмрдВрдзрди рдХрд░рддреЗ рд╣реИрдВред  рдФрд░ рдлрд┐рд░, рдХреЛрдб рдХрд╛ рдореБрдЦреНрдп рднрд╛рдЧ рд╕реЗрдЯрд░ рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИ: <br><br><ol><li>  рдпрджрд┐ рд╣рдо рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреЛ рдХрдо рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдПрдХ рд╕реБрдВрджрд░ рдЭрдЯрдХреЛрдВ рдХреЛ рдкреИрджрд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>CameraShake</code> рдШрдЯрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдбрд╛рдЙрдирд▓реЛрдб рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИ рдФрд░ рд╣рдо рдпрд╣рд╛рдВ рдЗрд╕ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдирд╣реАрдВ рдХрд░реЗрдВрдЧреЗред </li><li>  рд╣рдо рд╕реНрдХреНрд░реАрди рдХреЗ рдКрдкрд░реА рдмрд╛рдПрдВ рдХреЛрдиреЗ рдореЗрдВ рдирд┐рдЬреА рдЪрд░ рдФрд░ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд▓реЗрдмрд▓ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░рддреЗ рд╣реИрдВред </li><li>  рдпрджрд┐ рд╕реНрд╡рд╛рд╕реНрдереНрдп 0 рдкрд░ рдЧрд┐рд░ рдЧрдпрд╛ рд╣реИ рдФрд░ рдЦреЗрд▓ рдХрд╛ рдЕрдВрдд рдЕрднреА рддрдХ рдирд╣реАрдВ рдЖрдпрд╛ рд╣реИ, рддреЛ <code>gameOver</code> рдХреЛ <code>true</code> <code>gameOver</code> рдФрд░ <code>gameOver</code> рдПрдиреАрдореЗрд╢рди рд╢реБрд░реВ рдХрд░реЗрдВред </li><li>  рд╣рдо рдХреБрдХреАрдЬрд╝ рдореЗрдВ рд╕реЗ рдПрдХ рд░рд╛рдХреНрд╖рд╕ рдХреЛ рд╣рдЯрд╛ рджреЗрддреЗ рд╣реИрдВред  рдпрджрд┐ рд╣рдо рдЙрдиреНрд╣реЗрдВ рдмрдВрдж рдХрд░ рджреЗрддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рднрд╛рдЧ рдЖрд╕рд╛рди рд▓рд┐рдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣рд╛рдБ рд╣рдо рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреЛ рдлрд┐рд░ рд╕реЗ рд╢рд╛рдорд┐рд▓ рдХрд┐рдП рдЬрд╛рдиреЗ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВред </li></ol><br>  рд╣рдо рдкреНрд░рд╛рд░рдВрдн рдореЗрдВ <code>Health</code> рдХреЛ <code>Start()</code> : <br><br><pre> <code class="cs hljs">Health = <span class="hljs-number"><span class="hljs-number">5</span></span>;</code> </pre> <br>  рд╣рдо <code>Health</code> рдХреЛ <code>5</code> рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ рдЬрдм рджреГрд╢реНрдп рдЦреЗрд▓рдирд╛ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИред <br><br>  рдпрд╣ рд╕рдм рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рдЕрдм рд╣рдо рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрдм рдмрдЧ рдХреБрдХреА рдореЗрдВ рдЬрд╛рддрд╛ рд╣реИред  рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ IDE рдХреЛ <em>MoveEnemy.cs</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдкрд░ рдЬрд╛рдПрдВред <br><br><h3>  рд╕реНрд╡рд╛рд╕реНрдереНрдп рдореЗрдВ рдмрджрд▓рд╛рд╡ </h3><br>  рдЕрдкрдиреЗ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреЛ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, <code>Update()</code> рдореЗрдВ рдЯрд┐рдкреНрдкрдгреА <code>Update()</code> рд╢рдмреНрджреЛрдВ рдХреЗ рд╕рд╛рде <code>// TODO:  </code> рдФрд░ рдЗрд╕реЗ рдЗрд╕ рдХреЛрдб рд╕реЗ рдмрджрд▓реЗрдВ: <br><br><pre> <code class="cs hljs">GameManagerBehavior gameManager = GameObject.Find(<span class="hljs-string"><span class="hljs-string">"GameManager"</span></span>).GetComponent&lt;GameManagerBehavior&gt;(); gameManager.Health -= <span class="hljs-number"><span class="hljs-number">1</span></span>;</code> </pre> <br>  рдЗрд╕рд▓рд┐рдП рд╣рдо <code>GameManagerBehavior</code> рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдпреВрдирд┐рдЯ рдХреЛ рдЙрд╕рдХреЗ <code>Health</code> рд╕реЗ рдШрдЯрд╛рддреЗ рд╣реИрдВред <br><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдкрд░ рд▓реМрдЯреЗрдВред <br><br>  <em>рдкрджрд╛рдиреБрдХреНрд░рдо</em> рдореЗрдВ рдПрдХ <em>GameManager</em> рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рдЙрд╕рдХреЗ <em>Health рд▓реЗрдмрд▓ рдХреЗ</em> рд▓рд┐рдП <em>HealthLabel</em> рдЪреБрдиреЗрдВред <br><br>  <em>рдкрджрд╛рдиреБрдХреНрд░рдо</em> рдореЗрдВ <em>рдХреБрдХреА</em> рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░реЗрдВ рдФрд░ рдЙрд╕рдХреЗ рдкрд╛рдВрдЪ рдмрдЪреНрдЪреЗ <em>HealthIndicators</em> рдХреЛ <em>GameManager рдХреЗ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕рдВрдХреЗрддрдХ</em> рд╕рд░рдгреА рдореЗрдВ рдЦреАрдВрдЪреЗрдВ - рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╕рдВрдХреЗрддрдХ рдХреБрдХреАрдЬрд╝ рдЦрд╛рдиреЗ рд╡рд╛рд▓реЗ рдЫреЛрдЯреЗ рд╣рд░реЗ рд░рд╛рдХреНрд╖рд╕ рд╣реЛрдВрдЧреЗред <br><br>  рджреГрд╢реНрдп рдХреЛ рдЪрд▓рд╛рдПрдВ рдФрд░ рддрдм рддрдХ рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдВ рдЬрдм рддрдХ рдХрд┐ рдХреАрдбрд╝реЗ рдХреБрдХреА рддрдХ рдирд╣реАрдВ рдкрд╣реБрдВрдЪ рдЬрд╛рддреЗред  рд╣рд╛рд░рдиреЗ рддрдХ рдХреБрдЫ рди рдХрд░реЗрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8d8/f4a/ea4/8d8f4aea4cec500c3894d233f402b7ba.gif" alt="рдХреБрдХреАрдЬрд╝ рдкрд░ рд╣рдорд▓рд╛"></div><br><h2>  рд░рд╛рдХреНрд╖рд╕ рдмрджрд▓рд╛ </h2><br>  рдЬрдЧрд╣ рдореЗрдВ рд░рд╛рдХреНрд╖рд╕?  рд╣рд╛рдВред  рдХреНрдпрд╛ рджреБрд╢реНрдорди рд╣рдорд▓рд╛ рдХрд░рддреЗ рд╣реИрдВ?  рд╣рд╛рдБ, рдФрд░ рд╡реЗ menacing рджрд┐рдЦрддреЗ рд╣реИрдВ!  рдЗрди рдЬрд╛рдирд╡рд░реЛрдВ рдХреЛ рдЬрд╡рд╛рдм рджреЗрдиреЗ рдХрд╛ рд╕рдордп рдЖ рдЧрдпрд╛ рд╣реИ! <br><br>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: <br><br><ul><li>  рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреА рд▓реЗрди рддрд╛рдХрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рдЬрд╛рдирддрд╛ рд╣реИ рдХрд┐ рдХреМрди рд╕реЗ рджреБрд╢реНрдорди рдордЬрдмреВрдд рд╣реИрдВ рдФрд░ рдХреМрди рд╕реЗ рдХрдордЬреЛрд░ рд╣реИрдВ </li><li>  рдПрдХ рд░рд╛рдХреНрд╖рд╕ рдХреА рд╕реАрдорд╛ рдХреЗ рднреАрддрд░ рджреБрд╢реНрдордиреЛрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ </li><li>  рдирд┐рд░реНрдгрдп рд▓реЗрдирд╛ - рдХрд┐рд╕ рджреБрд╢реНрдорди рдкрд░ рдЧреЛрд▓реА рдЪрд▓рд╛рдирд╛ рд╣реИ </li><li>  рдЧреЛрд▓реЗ рдХрд╛ рдПрдХ рдЧреБрдЪреНрдЫрд╛ </li></ul><br><h3>  рд╢рддреНрд░реБ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдкрдЯреНрдЯреА </h3><br>  рд╕реНрд╡рд╛рд╕реНрдереНрдп рдмреИрдВрдб рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рджреЛ рдЫрд╡рд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ - рдПрдХ рдЕрдВрдзреЗрд░реЗ рдкреГрд╖реНрдарднреВрдорд┐ рдХреЗ рд▓рд┐рдП, рдФрд░ рджреВрд╕рд░рд╛ (рд╣рд░реЗ рд░рдВрдЧ рдХреА рдкрдЯреНрдЯреА рдереЛрдбрд╝реА рдЫреЛрдЯреА рд╣реИ) рд╣рдо рджреБрд╢реНрдорди рдХреЗ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╕реНрдХреЗрд▓ рдХрд░реЗрдВрдЧреЗред <br><br>  <em>рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмреНрд░рд╛рдЙрдЬрд╝рд░</em> рд╕реЗ <em>Prefabs \ Enemy</em> рджреГрд╢реНрдп рдкрд░ рдЦреАрдВрдЪреЗрдВред <br><br>  рддрдм <em>рдкрджрд╛рдиреБрдХреНрд░рдо рдореЗрдВ,</em> рдПрдХ рдмрдЪреНрдЪреЗ рдХреЗ рд░реВрдк рдореЗрдВ рдЗрд╕реЗ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП <em>рджреБрд╢реНрдорди</em> рдкрд░ <em>Images \ Objects \ HealthBarBackground</em> рдХреЛ рдЦреАрдВрдЪреЗрдВ рдФрд░ рдЫреЛрдбрд╝реЗрдВред <br><br>  <em>рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░ рдореЗрдВ,</em> <em>HealthBarBackground</em> <em>(0, 1, -4)</em> рдХреА <em>рд╕реНрдерд┐рддрд┐</em> рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗрдВред <br><br>  рдлрд┐рд░ <em>рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ,</em> <em>Images \ Objects \ HealthBar рдХрд╛</em> рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЗрд╕рдХреА <em>рдзреБрд░реА</em> <em>рдмрд╛рдПрдБ рд╣реИ</em> ред  рдлрд┐рд░ рдЗрд╕реЗ <em>рдкрджрд╛рдиреБрдХреНрд░рдо</em> рдореЗрдВ <em>рд╢рддреНрд░реБ рдХреЗ</em> рдмрдЪреНрдЪреЗ рдХреЗ рд░реВрдк рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ рдФрд░ рдЗрд╕рдХреА <em>рд╕реНрдерд┐рддрд┐</em> рдорд╛рди <em>(-0.63, 1, -5) рд╕реЗрдЯ рдХрд░реЗрдВ</em> ред  <em>X</em> <em>рд╕реНрдХреЗрд▓ рдХреЗ рд▓рд┐рдП,</em> рдорд╛рди рдХреЛ <em>125 рдкрд░</em> рд╕реЗрдЯ рдХрд░реЗрдВред <br><br>  <em>HealthBar</em> рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ <em>рдореЗрдВ HealthBar</em> рдирд╛рдордХ рдПрдХ рдирдпрд╛ <em>C #</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЬреЛрдбрд╝реЗрдВред  рдмрд╛рдж рдореЗрдВ рд╣рдо рдЗрд╕реЗ рдмрджрд▓ рджреЗрдВрдЧреЗ рддрд╛рдХрд┐ рдпрд╣ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдкрдЯреНрдЯреА рдХреА рд▓рдВрдмрд╛рдИ рдХреЛ рдмрджрд▓ рджреЗред <br><br>  <em>рдкрджрд╛рдиреБрдХреНрд░рдо</em> рдореЗрдВ <em>рд╢рддреНрд░реБ</em> рд╡рд╕реНрддреБ рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЙрд╕рдХреА рд╕реНрдерд┐рддрд┐ <em>(20, 0, 0) рд╣реИ</em> ред <br><br>  рдкреНрд░реАрдлрд╝реИрдм рдХреЗ рд╣рд┐рд╕реНрд╕реЗ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рднреА рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреЛ рд╕рд╣реЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП <em>рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░</em> рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ <em>рд▓рд╛рдЧреВ рдХрд░реЗрдВ</em> рдкрд░ рдХреНрд▓рд┐рдХ <em>рдХрд░реЗрдВ</em> ред  рдЕрдВрдд рдореЗрдВ, <em>рдкрджрд╛рдиреБрдХреНрд░рдо</em> рдореЗрдВ <em>рд╢рддреНрд░реБ</em> рд╡рд╕реНрддреБ рдХреЛ рд╣рдЯрд╛ рджреЗрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9e7/b84/7d2/9e7b847d22d2fda1e146dbf9149f912e.png"></div><br>  рдЕрдм <em>Prefabs \ Enemy2 рдХреЗ</em> рд▓рд┐рдП рдПрдХ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдкрдЯреНрдЯреА рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрди рд╕рднреА рдЪрд░рдгреЛрдВ рдХреЛ рджреЛрд╣рд░рд╛рдПрдВред <br><br><h3>  рд╕реНрд╡рд╛рд╕реНрдереНрдп рдкрдЯреНрдЯреА рдХреА рд▓рдВрдмрд╛рдИ рдмрджрд▓реЗрдВ </h3><br>  IDE <em>HealthBar.cs</em> рдЦреЛрд▓реЗрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> maxHealth = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> currentHealth = <span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> originalScale;</code> </pre> <br>  рдЕрдзрд┐рдХрддрдо рд╕реНрд╡рд╛рд╕реНрдереНрдп рдореЗрдВ рджреБрд╢реНрдорди рдХреЗ рдЕрдзрд┐рдХрддрдо рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ <code>currentHealth</code> рд╕реНрд╡рд╛рд╕реНрдереНрдп рдореЗрдВ - рд╢реЗрд╖ рд╕реНрд╡рд╛рд╕реНрдереНрдпред  рдЕрдВрдд рдореЗрдВ, рдУрд░рд┐рдЬрд┐рдирд▓рд╕реНрдХреЗрд▓ рдореЗрдВ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдкрдЯреНрдЯреА рдХрд╛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдЖрдХрд╛рд░ рд╣реИред <br><br>  <code>originalScale</code> рд╡рд╕реНрддреБ рдХреЛ <code>Start()</code> рдореЗрдВ рд╕рд╣реЗрдЬреЗрдВ <code>Start()</code> : <br><br><pre> <code class="cs hljs">originalScale = gameObject.transform.localScale.x;</code> </pre> <br>  рд╣рдо <code>localScale</code> рдЧреБрдг рдХрд╛ <code>x</code> рдорд╛рди рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддреЗ рд╣реИрдВред <br><br>  <code>Update()</code> рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрди рдХреЛрдб рдЬреЛрдбрд╝рдХрд░ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдкрдЯреНрдЯреА рдХрд╛ рдкреИрдорд╛рдирд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗрдВ <code>Update()</code> : <br><br><pre> <code class="cs hljs">Vector3 tmpScale = gameObject.transform.localScale; tmpScale.x = currentHealth / maxHealth * originalScale; gameObject.transform.localScale = tmpScale;</code> </pre> <br>  рд╣рдо <code>localScale</code> рдХреЛ рдПрдХ рдЕрд╕реНрдерд╛рдпреА рдЪрд░ рдореЗрдВ рдХреЙрдкреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдХреНрдпреЛрдВрдХрд┐ рд╣рдо рдЗрд╕рдХрд╛ <i>x</i> рдорд╛рди рдЕрд▓рдЧ рд╕реЗ рдирд╣реАрдВ рдмрджрд▓ рд╕рдХрддреЗред  рдлрд┐рд░ рд╣рдо рдмреАрдЯрд▓ рдХреЗ рд╡рд░реНрддрдорд╛рди рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдирдП <i>рдПрдХреНрд╕-</i> рд╕реНрдХреЗрд▓ рдХреА рдЧрдгрдирд╛ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдлрд┐рд░ рд╕реЗ <code>localScale</code> рдЪрд░ рдХреЛ рдПрдХ рдЕрд╕реНрдерд╛рдпреА рдЪрд░ рдкрд░ рдЕрд╕рд╛рдЗрди рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдореЗрдВ рдЧреЗрдо рд▓реЙрдиреНрдЪ рдХрд░реЗрдВред  рд╢рддреНрд░реБрдУрдВ рдкрд░ рдЖрдкрдХреЛ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреА рд▓рдХреАрд░реЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрдВрдЧреАред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dd4/78a/29c/dd478a29c258b63dc809ca16de4ee16a.png"></div><br>  рдЬрдмрдХрд┐ рдЦреЗрд▓ рдЪрд▓ рд░рд╣рд╛ рд╣реИ, <em>рдкрджрд╛рдиреБрдХреНрд░рдо</em> рдореЗрдВ <em>рд╢рддреНрд░реБ (рдХреНрд▓реЛрди)</em> рд╡рд╕реНрддреБрдУрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░реЗрдВ рдФрд░ рдЙрд╕рдХреЗ рдмрдЪреНрдЪреЗ <em>HealthBar рдХрд╛</em> рдЪрдпрди рдХрд░реЗрдВред  рдЗрд╕рдХрд╛ <em>рд╡рд░реНрддрдорд╛рди рд╕реНрд╡рд╛рд╕реНрдереНрдп</em> рдореВрд▓реНрдп рдмрджрд▓реЗрдВ рдФрд░ рджреЗрдЦреЗрдВ рдХрд┐ рдЗрд╕рдХрд╛ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдмрд╛рд░ рдХреИрд╕реЗ рдмрджрд▓рддрд╛ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5ee/af7/22c/5eeaf722c2e6a6ee1d2799380cdcfead.gif"></div><br><h3>  рд░реЗрдВрдЬ рдХреЗ рднреАрддрд░ рджреБрд╢реНрдордиреЛрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ </h3><br>  рдЕрдм рд╣рдорд╛рд░реЗ рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЛ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдирд╛ рд╣реЛрдЧрд╛ рдХрд┐ рдХрд┐рди рджреБрд╢реНрдордиреЛрдВ рдХреЛ рдирд┐рд╢рд╛рдирд╛ рдмрдирд╛рдирд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЗрд╕рд╕реЗ рдкрд╣рд▓реЗ рдХрд┐ рдЖрдк рдЗрд╕ рдЕрд╡рд╕рд░ рдХреЛ рдорд╣рд╕реВрд╕ рдХрд░реЗрдВ, рдЖрдкрдХреЛ рдореЙрдиреНрд╕реНрдЯрд░ рдФрд░ рджреБрд╢реНрдорди рдХреЛ рддреИрдпрд╛рд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br>  рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмреНрд░рд╛рдЙрдЬрд╝рд░ <em>рдкреНрд░реАрдлреИрдмреНрд╕ \ рдореЙрдиреНрд╕реНрдЯрд░ рдХрд╛</em> рдЪрдпрди рдХрд░реЗрдВ рдФрд░ <em>рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░</em> рдореЗрдВ <em>рд╕рд░реНрдХрд▓ рдХреЛрд▓рд╛рдЗрдбрд░ 2 рдбреА</em> рдШрдЯрдХ рдЬреЛрдбрд╝реЗрдВред <br><br>  рдХреЛрд▓рд╛рдЗрдбрд░ рдХреЗ <em>рд░реЗрдбрд┐рдпрд╕</em> рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ <em>2.5 рдкрд░</em> рд╕реЗрдЯ рдХрд░реЗрдВ - рдпрд╣ рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЗ рд╣рдорд▓реЗ рдХреА рддреНрд░рд┐рдЬреНрдпрд╛ рдХрд╛ рд╕рдВрдХреЗрдд рджреЗрдЧрд╛ред <br><br>  <em>рдЯреНрд░рд┐рдЧреЗрд░</em> рдЪреЗрдХ рдмреЙрдХреНрд╕ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рддрд╛рдХрд┐ рд╡рд╕реНрддреБрдПрдВ рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рд╕реЗ рдЧреБрдЬрд░рдиреЗ рдХреЗ рдмрдЬрд╛рдп рдЙрд╕рд╕реЗ рдЯрдХрд░рд╛рдПрдВред <br><br>  рдЕрдВрдд рдореЗрдВ, <em>рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░</em> рдХреЗ рд╢реАрд░реНрд╖ рдкрд░, <em>рд░реЗрдпрд╕реНрдЯрд░</em> рдХреЛ <em>рдЕрдирджреЗрдЦрд╛</em> рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдореЙрдиреНрд╕реНрдЯрд░ рдХреА <em>рдкрд░рдд</em> рд╕реЗрдЯ <em>рдХрд░реЗрдВ</em> ред  рд╕рдВрд╡рд╛рдж рдмреЙрдХреНрд╕ рдореЗрдВ, <em>рд╣рд╛рдБ рдкрд░</em> рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ <em>, рдмрдЪреНрдЪреЛрдВ рдХреЛ рдмрджрд▓реЗрдВ</em> ред  рдпрджрд┐ рдЗрдЧреНрдиреЛрд░ рд░рд╛рдпрдХрд╛рд╕реНрдЯ рдХрд╛ рдЪрдпрди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдХреЛрд▓рд╛рдЗрдбрд░ рдорд╛рдЙрд╕ рдХреНрд▓рд┐рдХ рдШрдЯрдирд╛рдУрдВ рдХрд╛ рдЬрд╡рд╛рдм рджреЗрдЧрд╛ред  рдпрд╣ рдПрдХ рд╕рдорд╕реНрдпрд╛ рд╣реЛрдЧреА рдХреНрдпреЛрдВрдХрд┐ рд░рд╛рдХреНрд╖рд╕ рдмреНрд▓реЙрдХ рдШрдЯрдирд╛рдУрдВ рдХреЛ рдЙрдирдХреЗ рдиреАрдЪреЗ рдУрдкрдиреНрд╕рдкреЙрдЯ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдирд┐рдпрдд рдХрд░рддреЗ рд╣реИрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e3e/302/cf2/e3e302cf21adee1433fe2183120c2ba1.png"></div><br>  рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рджреБрд╢реНрдорди рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ, рд╣рдореЗрдВ рдЗрд╕рдореЗрдВ рдПрдХ рдХреЛрд▓рд╛рдЗрдбрд░ рдФрд░ рдПрдХ рдХрдареЛрд░ рд╢рд░реАрд░ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдПрдХрддрд╛ рдХреЗрд╡рд▓ рдЯреНрд░рд┐рдЧрд░ рдШрдЯрдирд╛рдУрдВ рдХреЛ рднреЗрдЬрддреА рд╣реИ рдЬрдм рдПрдХ рдХрдареЛрд░ рд╢рд░реАрд░ рдХреЛ рдХрд┐рд╕реА рдПрдХ рдХреЛрд▓рд╛рдЗрдбрд░ рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br>  <em>рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ,</em> <em>Prefabs \ Enemy рдХрд╛</em> рдЪрдпрди рдХрд░реЗрдВред  <em>Rigidbody 2D</em> рдШрдЯрдХ рдЬреЛрдбрд╝реЗрдВ рдФрд░ <em>рдмреЙрдбреА рдЯрд╛рдЗрдк рдХреЗ</em> рд▓рд┐рдП <em>рдХрд╛рдЗрдиреЗрдореИрдЯрд┐рдХ</em> <em>рдЪреБрдиреЗрдВ</em> ред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рд╢рд░реАрд░ рднреМрддрд┐рдХреА рд╕реЗ рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рд╣реЛрдЧрд╛ред <br><br>  <em>1 рдХреЗ</em> <em>рддреНрд░рд┐рдЬреНрдпрд╛</em> рдХреЗ рд╕рд╛рде <em>рд╕рд░реНрдХрд▓ рдХреЛрд▓рд╛рдЗрдбрд░ 2 рдбреА</em> рдЬреЛрдбрд╝реЗрдВред  <em>Prefabs \ Enemy 2 рдХреЗ</em> рд▓рд┐рдП рдЗрди рдЪрд░рдгреЛрдВ рдХреЛ рджреЛрд╣рд░рд╛рдПрдВред <br><br>  рдЯреНрд░рд┐рдЧрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдП рдЧрдП рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд░рд╛рдХреНрд╖рд╕ рд╕рдордЭреЗрдВрдЧреЗ рдХрд┐ рджреБрд╢реНрдорди рдЙрдирдХреА рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЗ рджрд╛рдпрд░реЗ рдореЗрдВ рд╣реИрдВред <br><br>  рд╣рдореЗрдВ рдПрдХ рдФрд░ рдЪреАрдЬ рддреИрдпрд╛рд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: рдПрдХ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЬреЛ рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЛ рдмрддрд╛рддреА рд╣реИ рдЬрдм рджреБрд╢реНрдорди рдХреЛ рдирд╖реНрдЯ рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ рд╡реЗ рдЖрдЧ рдЬрд╛рд░реА рд░рдЦрддреЗ рд╣реБрдП рдЕрдкрд╡рд╛рдж рди рдЙрдард╛рдПрдВред <br><br>  <em>EnemyDestructionDelegate</em> рдирд╛рдордХ рдПрдХ рдирдИ <em>C #</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ <em>рдмрдирд╛рдПрдВ</em> рдФрд░ рдЗрд╕реЗ <em>рджреБрд╢реНрдорди</em> рдФрд░ <em>Enemy2 рдкреНрд░реАрдлреИрдмреНрд╕ рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ</em> ред <br><br>  рдЖрдИрдбреАрдИ рдореЗрдВ <em>EnemyDestructionDelegate.cs</em> рдЦреЛрд▓реЗрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреНрд░рддрд┐рдирд┐рдзрд┐ рдШреЛрд╖рдгрд╛ рдХреЛ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">delegate</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EnemyDelegate</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">GameObject enemy</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> EnemyDelegate enemyDelegate;</code> </pre> <br>  рдпрд╣рд╛рдВ рд╣рдо рдПрдХ <code>delegate</code> рдмрдирд╛рддреЗ рд╣реИрдВ, рдЬреЛ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рдПрдХ рдХрдВрдЯреЗрдирд░ рд╣реИ рдЬрд┐рд╕реЗ рдПрдХ рдЪрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдкрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br><br><blockquote>  <em>рдиреЛрдЯ</em> : рдкреНрд░рддрд┐рдирд┐рдзрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рддрдм рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рдПрдХ рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдЕрдиреНрдп рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЛ рд╕рдХреНрд░рд┐рдп рд░реВрдк рд╕реЗ рд╕реВрдЪрд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдПрдХрддрд╛ рдкреНрд░рд▓реЗрдЦрди рд╕реЗ">рдПрдХрддрд╛ рдкреНрд░рд▓реЗрдЦрди</a> рдореЗрдВ рдкреНрд░рддрд┐рдирд┐рдзрд┐рдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдкрдврд╝реЗрдВред </blockquote><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnDestroy</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (enemyDelegate != <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { enemyDelegate(gameObject); } }</code> </pre> <br>  рдЬрдм рдХреЛрдИ рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рдирд╖реНрдЯ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдПрдХрддрд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЗрд╕ рдкрджреНрдзрддрд┐ рдХреЛ рдХреЙрд▓ рдХрд░рддреА рд╣реИ рдФрд░ рдкреНрд░рддрд┐рдирд┐рдзрд┐ рдХреЛ <code>null</code> рдЕрд╕рдорд╛рдирддрд╛ рдХреЗ рд▓рд┐рдП <code>null</code> рд╣реИред  рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рдЗрд╕реЗ <code>gameObject</code> рд╕рд╛рде рдПрдХ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╣рддреЗ рд╣реИрдВред  рдпрд╣ рд╕рднреА рдЙрддреНрддрд░рджрд╛рддрд╛рдУрдВ рдХреЛ рдкреНрд░рддрд┐рдирд┐рдзрд┐ рдХреЗ рд░реВрдк рдореЗрдВ рдкрдВрдЬреАрдХреГрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдпрд╣ рдкрддрд╛ рдЪрд▓ рд╕рдХреЗ рдХрд┐ рджреБрд╢реНрдорди рдирд╖реНрдЯ рд╣реЛ рдЧрдпрд╛ рд╣реИред <br><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдкрд░ рд▓реМрдЯреЗрдВред <br><br><h3>  рд╣рдо рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЛ рдорд╛рд░рдиреЗ рдХрд╛ рд▓рд╛рдЗрд╕реЗрдВрд╕ рджреЗрддреЗ рд╣реИрдВ </h3><br>  рдФрд░ рдЕрдм рд░рд╛рдХреНрд╖рд╕ рдЕрдкрдиреА рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЗ рджрд╛рдпрд░реЗ рдореЗрдВ рджреБрд╢реНрдордиреЛрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВред  <em>рдореЙрдиреНрд╕реНрдЯрд░</em> <em>рдкреНрд░реАрдлрд╝реИрдм рдореЗрдВ</em> рдПрдХ рдирдИ <em>C #</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЬреЛрдбрд╝реЗрдВ рдФрд░ рдЗрд╕реЗ <em>рд╢реВрдЯ рдХрд░реЗрдВ</em> ред <br><br>  <em>OpenEnemy.cs</em> рдХреЛ IDE рдореЗрдВ рдЦреЛрд▓реЗрдВ рдФрд░ <code>Generics</code> рдХреЛ рдПрдХреНрд╕реЗрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрдорд╛рдг рдХрд╛ <code>using</code> рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬреЛрдбрд╝реЗрдВред <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic;</code> </pre> <br>  рд░реЗрдВрдЬ рдХреЗ рднреАрддрд░ рд╕рднреА рджреБрд╢реНрдордиреЛрдВ рдХреЛ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;GameObject&gt; enemiesInRange;</code> </pre> <br>  рджреБрд╢реНрдордиреЛрдВ рдореЗрдВ рд╣рдо рд░реЗрдВрдЬ рдореЗрдВ рд╕рднреА рджреБрд╢реНрдордиреЛрдВ рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░реЗрдВрдЧреЗред <br><br>  рдкреНрд░рд╛рд░рдВрдн <code>Start()</code> рдореЗрдВ рдлрд╝реАрд▓реНрдб рдХреЛ <code>Start()</code> ред <br><br><pre> <code class="cs hljs">enemiesInRange = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;GameObject&gt;();</code> </pre> <br>  рд╢реБрд░реБрдЖрдд рдореЗрдВ, рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреА рддреНрд░рд┐рдЬреНрдпрд╛ рдореЗрдВ рдХреЛрдИ рджреБрд╢реНрдорди рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рд╣рдо рдПрдХ рдЦрд╛рд▓реА рд╕реВрдЪреА рдмрдирд╛рддреЗ рд╣реИрдВред <br><br>  <code>enemiesInRange</code> рдХреА рд╕реВрдЪреА рднрд░реЗрдВ <code>enemiesInRange</code> !  рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдирд┐рдореНрди рдХреЛрдб рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// 1 void OnEnemyDestroy(GameObject enemy) { enemiesInRange.Remove (enemy); } void OnTriggerEnter2D (Collider2D other) { // 2 if (other.gameObject.tag.Equals("Enemy")) { enemiesInRange.Add(other.gameObject); EnemyDestructionDelegate del = other.gameObject.GetComponent&lt;EnemyDestructionDelegate&gt;(); del.enemyDelegate += OnEnemyDestroy; } } // 3 void OnTriggerExit2D (Collider2D other) { if (other.gameObject.tag.Equals("Enemy")) { enemiesInRange.Remove(other.gameObject); EnemyDestructionDelegate del = other.gameObject.GetComponent&lt;EnemyDestructionDelegate&gt;(); del.enemyDelegate -= OnEnemyDestroy; } }</span></span></code> </pre> <br><ol><li>  <code>OnEnemyDestroy</code> рд╣рдо рджреБрд╢реНрдордиреЛрдВ рдХреЛ рджреБрд╢реНрдордиреЛрдВ рд╕реЗ <code>enemiesInRange</code> ред  рдЬрдм рдПрдХ рджреБрд╢реНрдорди рдПрдХ рд░рд╛рдХреНрд╖рд╕ рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рдПрдХ рдЯреНрд░рд┐рдЧрд░ рдкрд░ рдХрджрдо <code>OnTriggerEnter2D</code> рд╣реИ, рддреЛ <code>OnTriggerEnter2D</code> ред </li><li>  рдлрд┐рд░ рд╣рдо рджреБрд╢реНрдордиреЛрдВ рдХреЛ рджреБрд╢реНрдорди рдореЗрдВ <code>enemiesInRange</code> рд╕реВрдЪреА рд╕реВрдЪреА рдФрд░ <code>EnemyDestructionDelegate</code> рдШрдЯрдирд╛ <code>OnEnemyDestroy</code> рдЬреЛрдбрд╝реЗрдВред  рддреЛ рд╣рдо рдЧрд╛рд░рдВрдЯреА рджреЗрддреЗ рд╣реИрдВ рдХрд┐ рджреБрд╢реНрдорди рдХреЗ рд╡рд┐рдирд╛рд╢ рдкрд░ <code>OnEnemyDestroy</code> рдХрд╣рд╛ рдЬрд╛рдПрдЧрд╛ред  рд╣рдо рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЛ рдореГрдд рджреБрд╢реНрдордиреЛрдВ рдкрд░ рдЧреЛрд▓рд╛ рдмрд╛рд░реВрдж рдЦрд░реНрдЪ рдХрд░рдирд╛ рдирд╣реАрдВ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рд╣реИ рдирд╛? </li><li>  <code>OnTriggerExit2D</code> рд╣рдо рджреБрд╢реНрдорди рдХреЛ рд╕реВрдЪреА рд╕реЗ рд╣рдЯрд╛рддреЗ рд╣реИрдВ рдФрд░ рдкреНрд░рддрд┐рдирд┐рдзрд┐ рдХреЛ рдЕрдкрдВрдЬреАрдХреГрдд рдХрд░рддреЗ рд╣реИрдВред  рдЕрдм рд╣рдо рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдХреМрди рд╕реЗ рджреБрд╢реНрдорди рд╕реАрдорд╛ рдореЗрдВ рд╣реИрдВред </li></ol><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдореЗрдВ рдЧреЗрдо рд▓реЙрдиреНрдЪ рдХрд░реЗрдВред  рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рд╕рдм рдХреБрдЫ рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИ, рд░рд╛рдХреНрд╖рд╕ рдХреЛ рд╕реНрдерд┐рддрд┐ рджреЗрдВ, рдЗрд╕реЗ рдЪреБрдиреЗрдВ рдФрд░ <code>enemiesInRange</code> рдореЗрдВ рдмрджрд▓рд╛рд╡ рдХрд╛ рдкрд╛рд▓рди рдХрд░реЗрдВред <code>enemiesInRange</code> рд╕реВрдЪреА рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдВред <br><br><h3>  рд▓рдХреНрд╖реНрдп рдЪрдпрди </h3><br>  рд░рд╛рдХреНрд╖рд╕ рдЕрдм рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдХрд┐рд╕ рджреБрд╢реНрдорди рдХреА рд╕реАрдорд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЬрдм рд╡реЗ рддреНрд░рд┐рдЬреНрдпрд╛ рдХреЗ рдХрдИ рджреБрд╢реНрдорди рд╣реЛрдВрдЧреЗ рддреЛ рд╡реЗ рдХреНрдпрд╛ рдХрд░реЗрдВрдЧреЗ? <br><br>  рдмреЗрд╢рдХ, рд╡реЗ рдЬрд┐рдЧрд░ рдХреЗ рд╕рдмрд╕реЗ рдХрд░реАрдм рд╕реЗ рд╣рдорд▓рд╛ рдХрд░реЗрдВрдЧреЗ! <br><br>  <em>MoveEnemy.cs</em> IDE рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЦреЛрд▓реЗрдВ рдФрд░ рдЗрд╕ рд░рд╛рдХреНрд╖рд╕ рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рд╡рд╛рд▓реА рдПрдХ рдирдИ рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DistanceToGoal</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> distance = <span class="hljs-number"><span class="hljs-number">0</span></span>; distance += Vector2.Distance( gameObject.transform.position, waypoints [currentWaypoint + <span class="hljs-number"><span class="hljs-number">1</span></span>].transform.position); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = currentWaypoint + <span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt; waypoints.Length - <span class="hljs-number"><span class="hljs-number">1</span></span>; i++) { Vector3 startPosition = waypoints [i].transform.position; Vector3 endPosition = waypoints [i + <span class="hljs-number"><span class="hljs-number">1</span></span>].transform.position; distance += Vector2.Distance(startPosition, endPosition); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> distance; }</code> </pre> <br>  рдХреЛрдб рджреБрд╢реНрдорди рджреНрд╡рд╛рд░рд╛ рдпрд╛рддреНрд░рд╛ рдирд╣реАрдВ рдХреА рдЧрдИ рдкрде рд▓рдВрдмрд╛рдИ рдХреА рдЧрдгрдирд╛ рдХрд░рддрд╛ рд╣реИред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ <code>Distance</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ <code>Vector3</code> рджреЛ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рдмреАрдЪ рдХреА рджреВрд░реА рдХреЗ рд░реВрдк рдореЗрдВ рдЧрдгрдирд╛ рдХреА рдЬрд╛рддреА рд╣реИред <br><br>  рд╣рдо рдЗрд╕ рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдмрд╛рдж рдореЗрдВ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░реЗрдВрдЧреЗ рдХрд┐ рд╣рдорд▓рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреМрди рд╕рд╛ рд▓рдХреНрд╖реНрдп рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЬрдмрдХрд┐ рд╣рдорд╛рд░реЗ рд░рд╛рдХреНрд╖рд╕ рд╕рд╢рд╕реНрддреНрд░ рдФрд░ рдЕрд╕рд╣рд╛рдп рдирд╣реАрдВ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдкрд╣рд▓реЗ рд╣рдо рдЗрд╕реЗ рдХрд░реЗрдВрдЧреЗред <br><br>  рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдЕрдкрдиреЗ рдЧреЛрд▓реЗ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХрддрд╛ рдкрд░ рд╡рд╛рдкрд╕ рд▓реМрдЯреЗрдВред <br><br><h3>  рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЛ рдЧреЛрд▓реЗ рджреЗрддреЗ рд╣реИрдВред  рдЦреЛрд▓ рдХреЗ рдмрд╣реБрдд рд╕рд╛рд░реЗ! </h3><br>  рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рд╕реЗ <em>рдЪрд┐рддреНрд░ / рдСрдмреНрдЬреЗрдХреНрдЯ / рдмреБрд▓реЗрдЯ 1 рджреГрд╢реНрдп рдкрд░ рдЦреАрдВрдЪреЗрдВ</em> ред  <em>Z</em> рд╕реЗ <em>-2</em> рдкрд░ рд╕реНрдерд┐рддрд┐ рд╕реЗрдЯ рдХрд░реЗрдВ - x рдФрд░ y рдкрд░ рд╕реНрдерд┐рддрд┐рдпрд╛рдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдо рдЙрдиреНрд╣реЗрдВ рд╣рд░ рдмрд╛рд░ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ рдЬрдм рд╣рдо рдкреНрд░реЛрдЧреНрд░рд╛рдо рдирд┐рд╖реНрдкрд╛рджрди рдХреЗ рджреМрд░рд╛рди рдкреНрд░реЛрдЬреЗрдХреНрдЯрд╛рдЗрд▓ рдХрд╛ рдПрдХ рдирдпрд╛ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рддреЗ рд╣реИрдВред <br><br>  <em>BulletBehavior</em> рдирд╛рдордХ рдПрдХ рдирдИ <em>C #</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЬреЛрдбрд╝реЗрдВ, рдФрд░ рдлрд┐рд░ IDE рдореЗрдВ рдЗрд╕рдХреЗ рд▓рд┐рдП рдирд┐рдореНрди рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> speed = <span class="hljs-number"><span class="hljs-number">10</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> damage; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject target; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector3 startPosition; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector3 targetPosition; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> distance; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> startTime; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> GameManagerBehavior gameManager;</code> </pre> <br>  <code>speed</code> рдкреНрд░реЛрдЬреЗрдХреНрдЯрд╛рдЗрд▓ рдХреА <code>speed</code> рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреА рд╣реИ;  рдирд╛рдо рд╕реЗ <code>damage</code> рд╕реНрдкрд╖реНрдЯ рд╣реИред <br><br>  <code>target</code> , <code>startPosition</code> рдФрд░ <code>targetPosition</code> рдкреНрд░реЛрдЬреЗрдХреНрдЯрд╛рдЗрд▓ рдХреА рджрд┐рд╢рд╛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред <br><br>  <code>distance</code> рдФрд░ <code>startTime</code> рдкреНрд░рдХреНрд╖реЗрдкреНрдп рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдХреЛ рдЯреНрд░реИрдХ рдХрд░рддрд╛ рд╣реИред  рдЬрдм рд╡рд╣ рджреБрд╢реНрдорди рдХреЛ рдорд╛рд░рддрд╛ рд╣реИ рддреЛ <code>gameManager</code> рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рдкреБрд░рд╕реНрдХреГрдд рдХрд░рддрд╛ рд╣реИред <br><br>  <code>Start()</code> рдореЗрдВ рдЗрди рдЪрд░реЛрдВ рдХреЗ рдорд╛рди рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВ: <br><br><pre> <code class="cs hljs">startTime = Time.time; distance = Vector2.Distance (startPosition, targetPosition); GameObject gm = GameObject.Find(<span class="hljs-string"><span class="hljs-string">"GameManager"</span></span>); gameManager = gm.GetComponent&lt;GameManagerBehavior&gt;();</code> </pre> <br> <code>startTime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо рд╡рд░реНрддрдорд╛рди рд╕рдордп рдХрд╛ рдореВрд▓реНрдп рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдкреНрд░рд╛рд░рдВрдн рдФрд░ рд▓рдХреНрд╖реНрдп рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЗ рдмреАрдЪ рдХреА рджреВрд░реА рдХреА рдЧрдгрдирд╛ рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╣рдореЗрд╢рд╛ рдХреА рддрд░рд╣, рд╣рдо рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ </font></font><code>GameManagerBehavior</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рдХреНрд╖реЗрдкреНрдп рдХреА рдЧрддрд┐ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, </font></font><code>Update()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рдореНрди рдХреЛрдб </font><font style="vertical-align: inherit;">рдЬреЛрдбрд╝реЗрдВ </font><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// 1 float timeInterval = Time.time - startTime; gameObject.transform.position = Vector3.Lerp(startPosition, targetPosition, timeInterval * speed / distance); // 2 if (gameObject.transform.position.Equals(targetPosition)) { if (target != null) { // 3 Transform healthBarTransform = target.transform.Find("HealthBar"); HealthBar healthBar = healthBarTransform.gameObject.GetComponent&lt;HealthBar&gt;(); healthBar.currentHealth -= Mathf.Max(damage, 0); // 4 if (healthBar.currentHealth &lt;= 0) { Destroy(target); AudioSource audioSource = target.GetComponent&lt;AudioSource&gt;(); AudioSource.PlayClipAtPoint(audioSource.clip, transform.position); gameManager.Gold += 50; } } Destroy(gameObject); }</span></span></code> </pre> <br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо рдкреНрд░рдХреНрд╖реЗрдкреНрдп рдХреА рдирдИ рд╕реНрдерд┐рддрд┐ рдХреА рдЧрдгрдирд╛ рдХрд░рддреЗ рд╣реИрдВ, </font></font><code>Vector3.Lerp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╢реБрд░реБрдЖрдд рдФрд░ рдЕрдВрдд рдХреЗ рдкрджреЛрдВ рдХреЗ рдмреАрдЪ рдкреНрд░рдХреНрд╖реЗрдк рдХреЗ рд▓рд┐рдП </font><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧ </font><font style="vertical-align: inherit;">рдХрд░рддреЗ рд╣реИрдВред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрджрд┐ рдкреНрд░рдХреНрд╖реЗрдкреНрдп рдкрд╣реБрдВрдЪрддрд╛ рд╣реИ </font></font><code>targetPosition</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рддреЛ рд╣рдо рдпрд╣ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд╛рдВрдЪ рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рдпрд╣ рдЕрднреА рднреА рдореМрдЬреВрдж рд╣реИ </font></font><code>target</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо </font></font><code>HealthBar</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рдХреНрд╖реНрдп </font><font style="vertical-align: inherit;">рдХреЗ рдШрдЯрдХ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">рдФрд░ </font></font><code>damage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рдХреНрд╖реЗрдкреНрдп </font><font style="vertical-align: inherit;">рдХреЗ рдЖрдХрд╛рд░ рд╕реЗ рдЗрд╕рдХреЗ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдХреЛ рдХрдо рдХрд░рддреЗ </font><font style="vertical-align: inherit;">рд╣реИрдВред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдпрджрд┐ рджреБрд╢реНрдорди рдХрд╛ рд╕реНрд╡рд╛рд╕реНрдереНрдп рд╢реВрдиреНрдп рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рд╣рдо рдЗрд╕реЗ рдирд╖реНрдЯ рдХрд░ рджреЗрддреЗ рд╣реИрдВ, рдзреНрд╡рдирд┐ рдкреНрд░рднрд╛рд╡ рдХреЛ рдкреБрди: рдЙрддреНрдкрдиреНрди рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд╕рдЯреАрдХрддрд╛ рдХреЗ рд▓рд┐рдП рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рдкреБрд░рд╕реНрдХреГрдд рдХрд░рддреЗ рд╣реИрдВред </font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдкрд░ рд▓реМрдЯреЗрдВред </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣рдо рдмрдбрд╝реЗ рдЧреЛрд▓реЗ рдмрдирд╛рддреЗ рд╣реИрдВ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрдпрд╛ рдпрд╣ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рдирд╣реАрдВ рд╣реЛрдЧрд╛ рдпрджрд┐ рд░рд╛рдХреНрд╖рд╕ рдЙрдЪреНрдЪ рд╕реНрддрд░реЛрдВ рдкрд░ рдЕрдзрд┐рдХ рдЧреЛрд▓реЗ рдорд╛рд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджреЗ? рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, рдЗрд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИред </font><em><font style="vertical-align: inherit;">рдкреНрд░реЛрдЬреЗрдХреНрдЯрд╛рдЗрд▓ рдкреНрд░реАрдлреИрдм</font></em><font style="vertical-align: inherit;"> рдмрдирд╛рдиреЗ рдХреЗ </font><font style="vertical-align: inherit;">рд▓рд┐рдП </font><em><font style="vertical-align: inherit;">рдкрджрд╛рдиреБрдХреНрд░рдо</font></em><font style="vertical-align: inherit;"> рд╕реЗ </font><em><font style="vertical-align: inherit;">рдкреНрд░реЛрдЬреЗрдХреНрдЯ</font></em><font style="vertical-align: inherit;"> рдЯреИрдм </font><font style="vertical-align: inherit;">рдкрд░ </font><em><font style="vertical-align: inherit;">Bullet1</font></em></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЧреЗрдо рдСрдмреНрдЬреЗрдХреНрдЯ рдЦреАрдВрдЪреЗрдВ </font><font style="vertical-align: inherit;">ред рдореВрд▓ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рджреГрд╢реНрдп рд╕реЗ рд╣рдЯрд╛ рджреЗрдВ - рд╣рдореЗрдВ рдЕрдм рдЗрд╕рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрдЧреАред </font><font style="vertical-align: inherit;">рджреЛ рдмрд╛рд░ рдкреВрд░реНрд╡рдирд┐рд░реНрдорд┐рдд рдирдХрд▓ </font><em><font style="vertical-align: inherit;">Bullet1</font></em><font style="vertical-align: inherit;"> ред </font><em><font style="vertical-align: inherit;">рдмреБрд▓реЗрдЯ 2</font></em><font style="vertical-align: inherit;"> рдФрд░ </font><em><font style="vertical-align: inherit;">рдмреБрд▓реЗрдЯ 3</font></em><font style="vertical-align: inherit;"> рдХреА рдкреНрд░рддрд┐рдпреЛрдВ рдХреЛ рдирд╛рдо </font><em><font style="vertical-align: inherit;">рджреЗрдВ</font></em><font style="vertical-align: inherit;"> ред </font><em><font style="vertical-align: inherit;">рдмреБрд▓реЗрдЯ 2</font></em><font style="vertical-align: inherit;"> рдЪреБрдиреЗрдВ </font><font style="vertical-align: inherit;">ред рдореЗрдВ </font><em><font style="vertical-align: inherit;">рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░</font></em><font style="vertical-align: inherit;"> , рдХреНрд╖реЗрддреНрд░ рд╕реЗрдЯ </font><em><font style="vertical-align: inherit;">рд╕реНрдкреНрд░рд╛рдЗрдЯ</font></em><font style="vertical-align: inherit;"> рдШрдЯрдХ </font><em><font style="vertical-align: inherit;">рд╕реНрдкреНрд░рд╛рдЗрдЯ рдкреНрд░рддрд┐рдкрд╛рджрдХ</font></em><font style="vertical-align: inherit;"> рдореВрд▓реНрдп </font><em><font style="vertical-align: inherit;">рдЫрд╡рд┐рдпрд╛рдБ / рд╡рд╕реНрддреБрдУрдВ / Bullet2</font></em></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рддреЛ рд╣рдо Bullet2 рдХреЛ Bullet1 рд╕реЗ рдереЛрдбрд╝рд╛ рдЕрдзрд┐рдХ рдмрдирд╛рдПрдВрдЧреЗред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░рдХреНрд░рд┐рдпрд╛ рджреЛрд╣рд░рд╛рдПрдБ рд╕реНрдкреНрд░рд╛рдЗрдЯ рдкреВрд░реНрд╡рдирд┐рд░реНрдорд┐рдд рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bullet3</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд░ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЫрд╡рд┐рдпрд╛рдБ рд╕рдВрдмрдВрдзрд┐рдд / рд╡рд╕реНрддреБрдУрдВ / Bullet3</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font><em><font style="vertical-align: inherit;">рдмреБрд▓реЗрдЯ рд╡реНрдпрд╡рд╣рд╛рд░</font></em></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдЖрдЧреЗ </font><font style="vertical-align: inherit;">рд╣рдо рдЧреЛрд▓реЗ рд╕реЗ рд╣реЛрдиреЗ рд╡рд╛рд▓реА рдХреНрд╖рддрд┐ рдХреА рдорд╛рддреНрд░рд╛ рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░реЗрдВрдЧреЗред </font><em><font style="vertical-align: inherit;">рдкреНрд░реЛрдЬреЗрдХреНрдЯ</font></em><font style="vertical-align: inherit;"> рдЯреИрдм рдореЗрдВ </font><font style="vertical-align: inherit;">Prefab </font><em><font style="vertical-align: inherit;">Bullet1 рдХрд╛</font></em><font style="vertical-align: inherit;"> рдЪрдпрди рдХрд░реЗрдВ </font><font style="vertical-align: inherit;">ред </font><em><font style="vertical-align: inherit;">рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░</font></em><font style="vertical-align: inherit;"> рдЖрдк рджреЗрдЦ </font><em><font style="vertical-align: inherit;">рдЧреЛрд▓реА рд╡реНрдпрд╡рд╣рд╛рд░ (рд╕реНрдХреНрд░рд┐рдкреНрдЯ)</font></em><font style="vertical-align: inherit;"> рд╣реИ, рдЬреЛ рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </font><em><font style="vertical-align: inherit;">рдиреБрдХрд╕рд╛рди</font></em><font style="vertical-align: inherit;"> рдореВрд▓реНрдп </font><em><font style="vertical-align: inherit;">10</font></em><font style="vertical-align: inherit;"> рдХреЗ рд▓рд┐рдП </font><em><font style="vertical-align: inherit;">Bullet1</font></em><font style="vertical-align: inherit;"> , </font><em><font style="vertical-align: inherit;">15</font></em><font style="vertical-align: inherit;"> рдХреЗ рд▓рд┐рдП </font><em><font style="vertical-align: inherit;">Bullet2</font></em><font style="vertical-align: inherit;"> рдФрд░ </font><em><font style="vertical-align: inherit;">20</font></em><font style="vertical-align: inherit;"> рдХреЗ рд▓рд┐рдП </font><em><font style="vertical-align: inherit;">Bullet3</font></em></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><br><br><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - рдпрд╛ рдХреЛрдИ рдЕрдиреНрдп рдорд╛рди рдЬреЛ рдЖрдкрдХреЛ рдкрд╕рдВрдж рд╣реЛред </font></font><br><br><blockquote> <em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдиреЛрдЯ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : рдореИрдВрдиреЗ рдореВрд▓реНрдпреЛрдВ рдХреЛ рдмрджрд▓ рджрд┐рдпрд╛ рддрд╛рдХрд┐ рдЙрдЪреНрдЪ рд╕реНрддрд░ рдкрд░ рдХреНрд╖рддрд┐ рдХреЗ рд▓рд┐рдП рдХреАрдордд рдЕрдзрд┐рдХ рд╣реЛ рдЬрд╛рдПред </font><font style="vertical-align: inherit;">рдпрд╣ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда рдмрд┐рдВрджреБрдУрдВ рдкрд░ рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЛ рдЕрдкрдЧреНрд░реЗрдб рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдиреЗ рд╕реЗ рд░реЛрдХрддрд╛ рд╣реИред</font></font></blockquote><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c0a/e2d/da2/c0ae2dda288d44bc380864dd1e85f3b6.png"></div><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░реАрдлреИрдм рдХреЗ рдЧреЛрд▓реЗ - рдЖрдХрд╛рд░ рд╕реНрддрд░ рдХреЗ рд╕рд╛рде рдмрдврд╝рддрд╛ рд╣реИ</font></font></i> <br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЧреЛрд▓реЗ рдХреЗ рд╕реНрддрд░ рдХреЛ рдмрджрд▓рдирд╛ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рд╕реНрддрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЧреЛрд▓реЗ рдЕрд╕рд╛рдЗрди рдХрд░реЗрдВ, рддрд╛рдХрд┐ рдордЬрдмреВрдд рд░рд╛рдХреНрд╖рд╕ рддреЗрдЬреА рд╕реЗ рджреБрд╢реНрдордиреЛрдВ рдХреЛ рдирд╖реНрдЯ рдХрд░ рджреЗрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IDE рдореЗрдВ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MonsterData.cs</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЦреЛрд▓реЗрдВ </font><font style="vertical-align: inherit;">рдФрд░ </font></font><code>MonsterLevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░ рдореЗрдВ </font><font style="vertical-align: inherit;">рдЬреЛрдбрд╝реЗрдВ </font><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> GameObject bullet; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> fireRate;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП рд╣рдо рдкреНрд░рддреНрдпреЗрдХ рд╕реНрддрд░ рдХреЗ рд░рд╛рдХреНрд╖рд╕реЛрдВ рдХреЗ рд▓рд┐рдП рдкреНрд░рдХреНрд╖реЗрдкреНрдп рдХреЗ рдкреНрд░реАрдлреИрдм рдФрд░ рдЖрдЧ рдХреА рдЖрд╡реГрддреНрддрд┐ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдлрд╝рд╛рдЗрд▓ рдХреЛ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рд░рд╛рдХреНрд╖рд╕ рд╕реЗрдЯрдЕрдк рдХреЛ рдкреВрд░рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХрддрд╛ рдкрд░ рд╡рд╛рдкрд╕ рд▓реМрдЯреЗрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЙрдиреНрд╕реНрдЯрд░</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкреНрд░реАрдлрд╝реИрдм рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ </font><font style="vertical-align: inherit;">ред </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрдВрд╕реНрдкреЗрдХреНрдЯрд░</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрддрд░</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдШрдЯрдХ рдореЗрдВ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджрд╛рдирд╡ рдбреЗрдЯрд╛ (рд╕реНрдХреНрд░рд┐рдкреНрдЯ)</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рдкреНрд░рддреНрдпреЗрдХ рдЖрдЗрдЯрдо </font><font style="vertical-align: inherit;">рдХреА </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдЧ рджрд░</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 рдкрд░</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реЗрдЯ рдХрд░реЗрдВ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдлрд┐рд░ </font><font style="vertical-align: inherit;">рддрддреНрд╡ 0, 1, рдФрд░ 2 </font><font style="vertical-align: inherit;">рдХреЗ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреБрд▓реЗрдЯ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкреИрд░рд╛рдореАрдЯрд░ </font><font style="vertical-align: inherit;">рдХреЛ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bullet1</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bullet2</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bullet3 рдореЗрдВ рд╕реЗрдЯ рдХрд░реЗрдВ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░рд╛рдХреНрд╖рд╕ рдХрд╛ рд╕реНрддрд░ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8c0/7d0/fd9/8c07d0fd96492f9e0e6c6e1737791c11.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЧреЛрд▓реЗ рджреБрд╢реНрдордиреЛрдВ рдХреЛ рдорд╛рд░рддреЗ рд╣реИрдВ? </font><font style="vertical-align: inherit;">рд╣рд╛рдБ! </font><font style="vertical-align: inherit;">рдЪрд▓реЛ рдЖрдЧ рдЦреЛрд▓реЛ!</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЦреБрд▓реА рдЖрдЧ </font></font></h3><br><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenEnemy.cs</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ IDE рдореЗрдВ рдЦреЛрд▓реЗрдВ </font><font style="vertical-align: inherit;">рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░ рдЬреЛрдбрд╝реЗрдВ:</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> lastShotTime; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> MonsterData monsterData;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреИрд╕рд╛ рдХрд┐ рдирд╛рдо рд╕реЗ рдкрддрд╛ рдЪрд▓рддрд╛ рд╣реИ, рдпреЗ рдЪрд░ рдЕрдВрддрд┐рдо рд░рд╛рдХреНрд╖рд╕ рд╢реЙрдЯ рдХреЗ рд╕рдордп рдХреЛ рдЯреНрд░реИрдХ рдХрд░рддреЗ рд╣реИрдВ, рд╕рд╛рде рд╣реА рд╕рдВрд░рдЪрдирд╛ </font></font><code>MonsterData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬрд┐рд╕рдореЗрдВ рд░рд╛рдХреНрд╖рд╕ рдХреЗ рдЧреЛрд▓реЗ рдХреЗ рдкреНрд░рдХрд╛рд░, рдЖрдЧ рдХреА рдЖрд╡реГрддреНрддрд┐, рдФрд░ рдЗрд╕реА рддрд░рд╣ рдХреА рдЬрд╛рдирдХрд╛рд░реА рд╣реЛрддреА рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрди рдХреНрд╖реЗрддреНрд░реЛрдВ рдХрд╛ рдорд╛рди рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗрдВ </font></font><code>Start()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="cs hljs">lastShotTime = Time.time; monsterData = gameObject.GetComponentInChildren&lt;MonsterData&gt;();</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣рд╛рдВ рд╣рдо </font></font><code>lastShotTime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд░реНрддрдорд╛рди рд╕рдордп </font><font style="vertical-align: inherit;">рдХреЗ </font><font style="vertical-align: inherit;">рдореВрд▓реНрдп рдХреЛ </font><font style="vertical-align: inherit;">рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">рдФрд░ </font></font><code>MonsterData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ </font><font style="vertical-align: inherit;">рдХреЗ рдШрдЯрдХ рддрдХ рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╢реВрдЯрд┐рдВрдЧ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝реЗрдВ:</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Shoot</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D target</span></span></span><span class="hljs-function">)</span></span> { GameObject bulletPrefab = monsterData.CurrentLevel.bullet; <span class="hljs-comment"><span class="hljs-comment">// 1 Vector3 startPosition = gameObject.transform.position; Vector3 targetPosition = target.transform.position; startPosition.z = bulletPrefab.transform.position.z; targetPosition.z = bulletPrefab.transform.position.z; // 2 GameObject newBullet = (GameObject)Instantiate (bulletPrefab); newBullet.transform.position = startPosition; BulletBehavior bulletComp = newBullet.GetComponent&lt;BulletBehavior&gt;(); bulletComp.target = target.gameObject; bulletComp.startPosition = startPosition; bulletComp.targetPosition = targetPosition; // 3 Animator animator = monsterData.CurrentLevel.visualization.GetComponent&lt;Animator&gt;(); animator.SetTrigger("fireShot"); AudioSource audioSource = gameObject.GetComponent&lt;AudioSource&gt;(); audioSource.PlayOneShot(audioSource.clip); }</span></span></code> </pre> <br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдореЗрдВ рдмреБрд▓реЗрдЯ рдХреЗ рд╢реБрд░реБрдЖрддреА рдФрд░ рд▓рдХреНрд╖рд┐рдд рд╕реНрдерд╛рди рдорд┐рд▓рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">Z рдХреЗ рдмрд░рд╛рдмрд░ рд╕реНрдерд┐рддрд┐ z рд╕реЗрдЯ рдХрд░реЗрдВ </font></font><code>bulletPrefab</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдкрд╣рд▓реЗ, рд╣рдо рдкреНрд░рдХреНрд╖реЗрдкреНрдп рдХреА рдкреВрд░реНрд╡ рд╕реНрдерд┐рддрд┐ рдХреЛ z рдореЗрдВ рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдкреНрд░рдХреНрд╖реЗрдкреНрдп рд╢реВрдЯрд┐рдВрдЧ рд░рд╛рдХреНрд╖рд╕ рдХреЗ рдиреАрдЪреЗ рджрд┐рдЦрд╛рдИ рджреЗ, рд▓реЗрдХрд┐рди рджреБрд╢реНрдордиреЛрдВ рд╕реЗ рдКрдкрд░ред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо </font></font><code>bulletPrefab</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрдкрдпреБрдХреНрдд рдПрдХ </font><font style="vertical-align: inherit;">рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдХ рдирдП рд╢реЗрд▓ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рддреЗ рд╣реИрдВ </font></font><code>MonsterLevel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЕрд╕рд╛рдЗрди </font></font><code>startPosition</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдФрд░ </font></font><code>targetPosition</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреНрд░реЛрдЬреЗрдХреНрдЯрд╛рдЗрд▓ред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣рдо рдЦреЗрд▓ рдХреЛ рдФрд░ рдЕрдзрд┐рдХ рджрд┐рд▓рдЪрд╕реНрдк рдмрдирд╛рддреЗ рд╣реИрдВ: рдЬрдм рд░рд╛рдХреНрд╖рд╕ рдЧреЛрд▓реА рдорд╛рд░рддрд╛ рд╣реИ, рддреЛ рд╢реВрдЯрд┐рдВрдЧ рдХрд╛ рдПрдиреАрдореЗрд╢рди рд╢реБрд░реВ рдХрд░реЗрдВ рдФрд░ рд▓реЗрдЬрд░ рдХреА рдЖрд╡рд╛рдЬрд╝ рдмрдЬрд╛рдПрдВред </font></font></li></ol><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдпрд╣ рд╕рдм рдПрдХ рд╕рд╛рде рд░рдЦрдирд╛ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рд╕рдм рдХреБрдЫ рдПрдХ рд╕рд╛рде рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рд╣реИред </font><font style="vertical-align: inherit;">рд▓рдХреНрд╖реНрдп рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реЗрдВ рдФрд░ рд░рд╛рдХреНрд╖рд╕ рдХреЛ рджреЗрдЦреЛред</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3c5/934/9a7/3c59349a719669c9508c38f155bf25dc.png"></div><br><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ShootEnemy.cs</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ </font><em><font style="vertical-align: inherit;">,</font></em></font><code>Update()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЗрд╕ рдХреЛрдб </font><font style="vertical-align: inherit;">рдХреЛ рдЬреЛрдбрд╝реЗрдВ </font><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="cs hljs">GameObject target = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-comment"><span class="hljs-comment">// 1 float minimalEnemyDistance = float.MaxValue; foreach (GameObject enemy in enemiesInRange) { float distanceToGoal = enemy.GetComponent&lt;MoveEnemy&gt;().DistanceToGoal(); if (distanceToGoal &lt; minimalEnemyDistance) { target = enemy; minimalEnemyDistance = distanceToGoal; } } // 2 if (target != null) { if (Time.time - lastShotTime &gt; monsterData.CurrentLevel.fireRate) { Shoot(target.GetComponent&lt;Collider2D&gt;()); lastShotTime = Time.time; } // 3 Vector3 direction = gameObject.transform.position - target.transform.position; gameObject.transform.rotation = Quaternion.AngleAxis( Mathf.Atan2 (direction.y, direction.x) * 180 / Mathf.PI, new Vector3 (0, 0, 1)); }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЗрд╕ рдХреЛрдб рдЪрд░рдг рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред </font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд░рд╛рдХреНрд╖рд╕ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗрдВред </font><font style="vertical-align: inherit;">рд╣рдо рдЕрдзрд┐рдХрддрдо рд╕рдВрднрд╡ рджреВрд░реА рдкрд░ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ </font></font><code>minimalEnemyDistance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рд╣рдо рд╕реАрдорд╛ рдХреЗ рднреАрддрд░ рд╕рднреА рджреБрд╢реНрдордиреЛрдВ рдХреЗ рдЪрдХреНрд░ рдореЗрдВ рдШреВрдорддреЗ рд╣реИрдВ рдФрд░ рджреБрд╢реНрдорди рдХреЛ рдПрдХ рдирдпрд╛ рдирд┐рд╢рд╛рдирд╛ рдмрдирд╛рддреЗ рд╣реИрдВ рдпрджрд┐ рдХреБрдХреА рд╕реЗ рдЙрд╕рдХреА рджреВрд░реА рд╡рд░реНрддрдорд╛рди рд╕рдмрд╕реЗ рдЫреЛрдЯреА рд╕реЗ рдХрдо рд╣реЛред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо рдХрд╣рддреЗ рд╣реИрдВ </font></font><code>Shoot</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХрд┐ рдЕрдЧрд░ рдмреАрддрд╛ рд╣реБрдЖ рд╕рдордп рд░рд╛рдХреНрд╖рд╕ рдХреА рдлрд╛рдпрд░рд┐рдВрдЧ рдЖрд╡реГрддреНрддрд┐ рд╕реЗ рдЕрдзрд┐рдХ рд╣реИ рдФрд░ </font></font><code>lastShotTime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд░реНрддрдорд╛рди рд╕рдордп рдХрд╛ рдореВрд▓реНрдп </font><font style="vertical-align: inherit;">рдирд┐рд░реНрдзрд╛рд░рд┐рдд </font><font style="vertical-align: inherit;">рдХрд░рддрд╛ рд╣реИред</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо рд░рд╛рдХреНрд╖рд╕ рдФрд░ рдЙрд╕рдХреЗ рд▓рдХреНрд╖реНрдп рдХреЗ рдмреАрдЪ рд░реЛрдЯреЗрд╢рди рдХреЗ рдХреЛрдг рдХреА рдЧрдгрдирд╛ рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рд╣рдо рд░рд╛рдХреНрд╖рд╕ рдХреЛ рдЗрд╕ рдХреЛрдг рдкрд░ рдШреБрдорд╛рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЕрдм рд╡рд╣ рд╣рдореЗрд╢рд╛ рд▓рдХреНрд╖реНрдп рдХреЛ рджреЗрдЦреЗрдЧрд╛ред</font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдлрд╝рд╛рдЗрд▓ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдПрдХрддрд╛ рдореЗрдВ рдЧреЗрдо рд▓реЙрдиреНрдЪ рдХрд░реЗрдВред </font><font style="vertical-align: inherit;">рд░рд╛рдХреНрд╖рд╕ рдХреБрдХреАрдЬрд╝ рдХреА рд╕рдЦреНрдд рд╕реБрд░рдХреНрд╖рд╛ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджреЗрдВрдЧреЗред </font><font style="vertical-align: inherit;">рд╣рдо рдЖрдЦрд┐рд░рдХрд╛рд░ рдХрд░ рд░рд╣реЗ рд╣реИрдВ!</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЖрдЧреЗ рдХрд╣рд╛рдБ рдЬрд╛рдирд╛ рд╣реИ </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддреИрдпрд╛рд░ рдкрд░рд┐рдпреЛрдЬрдирд╛ </font></font><a href="" title="рдпрд╣рд╛рдВ"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛ рдпрд╣рд╛рдВ рд╕реЗ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ </font><a href="" title="here"><font style="vertical-align: inherit;">рд╣реИ</font></a><font style="vertical-align: inherit;"> ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдордиреЗ рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рдХрд╛рдо рдХрд┐рдпрд╛ рдФрд░ рдЕрдм рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рд╢рд╛рдирджрд╛рд░ рдЦреЗрд▓ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЗ рдЖрдЧреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рд╡рд┐рдЪрд╛рд░ рд╣реИрдВ:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдзрд┐рдХ рдкреНрд░рдХрд╛рд░ рдХреЗ рд╢рддреНрд░реБ рдФрд░ рд░рд╛рдХреНрд╖рд╕ </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рджреБрд╢реНрдордиреЛрдВ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рдорд╛рд░реНрдЧ </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╡рд┐рднрд┐рдиреНрди рдЦреЗрд▓ рд╕реНрддрд░ </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрди рдкрд╣рд▓реБрдУрдВ рдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХреЛ рдиреНрдпреВрдирддрдо рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА рдФрд░ рдЦреЗрд▓ рдХреЛ рдФрд░ рдЕрдзрд┐рдХ рдордЬреЗрджрд╛рд░ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдпрджрд┐ рдЖрдк рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдПрдХ рдирдпрд╛ рдЧреЗрдо рдмрдирд╛рддреЗ рд╣реИрдВ, рддреЛ рдореБрдЭреЗ рдЗрд╕реЗ рдЦреЗрд▓рдиреЗ рдореЗрдВ рдЦреБрд╢реА рд╣реЛрдЧреА, рдЗрд╕рд▓рд┐рдП рдХреГрдкрдпрд╛ рдЗрд╕рдХрд╛ рд▓рд┐рдВрдХ рд╕рд╛рдЭрд╛ рдХрд░реЗрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХ рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рд╣рд┐рдЯ рдЧреЗрдо рдмрдирд╛рдиреЗ рдХреЗ рджрд┐рд▓рдЪрд╕реНрдк рд╡рд┐рдЪрд╛рд░ рдЗрд╕ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="рдПрдХ рд╣рд┐рдЯ рдЯреЙрд╡рд░ рд░рдХреНрд╖рд╛ рдЦреЗрд▓ рдмрдирд╛рдирд╛: рдПрдХ рд╢реАрд░реНрд╖ рдРрдк рджреЗрд╡ рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдкрд╛рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">ред</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi413915/">https://habr.com/ru/post/hi413915/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi413901/index.html">рд░реЛрдЬ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ PS4 рдбреБрдЕрд▓рд╢реЙрдХ 4 рдЬреЙрдпрд╕реНрдЯрд┐рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдбреБрдорд┐рдк рд╕реЗрд▓реНрдл-рдмреИрд▓реЗрдВрд╕рд┐рдВрдЧ рд░реЛрдмреЛрдЯ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдирд╛</a></li>
<li><a href="../hi413903/index.html">рдХреИрдореНрдмреНрд░рд┐рдЬ рдПрдирд╛рд▓рд┐рдЯрд┐рдХрд╛ рдХреИрд╕реЗ рдЖрд╡рд╛рдЬрд╝ рдореЗрдВ рдХреНрд▓рд┐рдХ рдХрд░рддрд╛ рд╣реИ</a></li>
<li><a href="../hi413907/index.html">рдореЛрдмрд╛рдЗрд▓ рдбреЗрд╡рд▓рдкрд░ рдХреЗ рд▓рд┐рдП рджрд┐рд▓рдЪрд╕реНрдк рд╕рд╛рдордЧреНрд░реА рдХрд╛ рдкрд╛рдЪрди # 256 (4 рдЬреВрди - 12 рдЬреВрди)</a></li>
<li><a href="../hi413909/index.html">рдпрд╣реАрдВ рд╕реЗ рдЖрдкрдХреА рдмрдЪрдкрди рдХреА рдпрд╛рджреЗрдВ рдЧрдИрдВ</a></li>
<li><a href="../hi413913/index.html">рдСрдбрд┐рдпреЛ рдФрд░ рд╡реАрдбрд┐рдпреЛ рдЙрдкрдХрд░рдгреЛрдВ рдХреА рдкреНрд░рджрд░реНрд╢рдирд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдкрд░рд┐рдЪрд┐рдд: рд╕рдмрд╕реЗ рдмрдбрд╝реА рдШрдЯрдирд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ - рднрд╛рдЧ рдПрдХ</a></li>
<li><a href="../hi413917/index.html">рдХреЙрдкреАрд░рд╛рдЗрдЯ рдзрд╛рд░рдХреЛрдВ рдХрд╛ рдорд╛рдирдирд╛ тАЛтАЛрд╣реИ рдХрд┐ рдпреИрдВрдбреЗрдХреНрд╕ рджреЗрд╢ рдореЗрдВ рдЪреЛрд░реА рдХреА рд╡реГрджреНрдзрд┐ рдореЗрдВ рдпреЛрдЧрджрд╛рди рджреЗрддрд╛ рд╣реИ</a></li>
<li><a href="../hi413921/index.html">рдЕрддрд┐рд░рд┐рдХреНрдд рдкрд╛рдЙрдВрдб рд╕реЗ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ рдХреИрд╕реЗ рдмрдЪрд╛рдпрд╛ рдЬрд╛рдП</a></li>
<li><a href="../hi413923/index.html">рд╢рд╛рдпрдж рд╡рд╛рддрд╛рд╡рд░рдг рдХреЛ рдЕрднреА рднреА рдХрд╛рд░реНрдмрди рдбрд╛рдЗрдСрдХреНрд╕рд╛рдЗрдб рд╕реЗ рд╕рд╛рдл рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ</a></li>
<li><a href="../hi413925/index.html">рдореЛрд╕реНрдХрд╡рд┐рдЪ рдХреЗ рд▓рд┐рдП рд╕реАрд╡реАрдЯреА</a></li>
<li><a href="../hi413927/index.html">Attiny85 рдкрд░ Digispark - рд╡рд┐рдВрдбреЛрдЬ 10 рдХреЗ рддрд╣рдд рдХрдиреЗрдХреНрдЯ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>