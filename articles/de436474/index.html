<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôãüèΩ üßù ‚ôíÔ∏è DEFCON-Konferenz 20. Erfassung in 60 Sekunden: von einem Gastkonto zu einem Windows-Dom√§nenadministrator. Teil 2 ü§üüèª ü¶í üë≤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="DEFCON 20-Konferenz. Erfassung in 60 Sekunden: von einem Gastkonto zu einem Windows-Dom√§nenadministrator. Teil 1 

 Das Gute ist, dass wir durch F√§lsc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>DEFCON-Konferenz 20. Erfassung in 60 Sekunden: von einem Gastkonto zu einem Windows-Dom√§nenadministrator. Teil 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/436474/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DEFCON 20-Konferenz. Erfassung in 60 Sekunden: von einem Gastkonto zu einem Windows-Dom√§nenadministrator.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1</a> <br><br>  Das Gute ist, dass wir durch F√§lschung von DNS in das lokale Netzwerk eintreten k√∂nnen.  Was ist mit Social Engineering, das Benutzerpr√§ferenzen und Neigungen ber√ºcksichtigt?  Pentester wissen, dass Sie im IE Bilddatei-Tags, beispielsweise im JPG-Format, f√ºr den UNC-Netzwerkpfad einf√ºgen k√∂nnen. Der IE √ºbertr√§gt diese dann zur√ºck an Windows und stellt automatisch eine Verbindung zum Netzwerkordner her, um beispielsweise das angeforderte Bild oder etwas anderes abzurufen , JavaScript, iFrame usw.  F√ºr heute verf√ºgt der IE √ºber eine automatische Authentifizierung. <br><br><img src="https://habrastorage.org/webt/lk/lu/03/lklu03opxnxzhwlxbflhv9jhb4c.jpeg"><br><br>  Das Gleiche kann in Firefox und Chrome getan werden, obwohl die Leute denken, dass diese Browser sicherer sind.  Dieser Screenshot zeigt die Firefox-Fehlerkonsole, die besagt, dass der Browser diese Bilddatei nicht aus dem √∂ffentlichen Netzwerk herunterladen kann, da die Sicherheitsrichtlinie das Herunterladen von Dateien verhindert, die sich nicht im Sicherheitskontext des Browsers befinden.  Eine interessante Funktion unseres Tools ist, dass Firefox- und Chrome-Browser gezwungen werden k√∂nnen, Dateien herunterzuladen, indem einfach HTTP-Header gesendet werden, um das Herunterladen von Content-Type: application / force-download zu erzwingen und diese Dateien dann aus dem Temp-Ordner oder direkt vom Desktop aus zu √∂ffnen.  Daher haben wir den Dateisicherheitskontext festgelegt und die automatische Authentifizierung im allgemeinen SMB aktiviert, sodass Sie Benutzer jetzt zwingen k√∂nnen, sich auf Ihrem betr√ºgerischen Server zu authentifizieren. <a name="habracut"></a><br><br>  Was aber, wenn sie nicht auf "Datei hochladen" klicken oder sie aus dem Ordner "Temp" √∂ffnen?  In diesem Fall k√∂nnen Sie festlegen, dass Benutzer sich automatisch authentifizieren, wenn sie eine HTML-Seite in einem Browser anzeigen.  Dazu m√ºssen Plug-Ins mit Firefox und Chrome verbunden sein.  Meine Aufmerksamkeit wurde auf das Plugin QuickTime gelenkt, das von Benutzern h√§ufig standardm√§√üig installiert wird.  Ich wei√ü, dass es Dutzende verschiedener Plugins gibt, aber meistens treffen Sie Leute mit iTunes auf Ihren iPhones und installieren QuickTime.  Ich ging die Liste der QuickTime-Funktionen durch und fragte mich, wie ich sie an meinen betr√ºgerischen Netzwerkserver anschlie√üen k√∂nnte, um die Authentifizierung durch Eingabe ihres Benutzernamens und Kennworts zu erzwingen. <br>  Wir haben ein wenig nachgedacht und beschlossen, dass Sie eine Wiedergabeliste in den UNC-Netzwerkpfad einf√ºgen k√∂nnen. Anschlie√üend authentifizieren sich die Benutzer automatisch und umgehen den lokalen Sicherheitskontext.  Wir m√ºssen etwas mehr an den beiden anderen Plugins arbeiten, aber im Moment leistet QuickTime hervorragende Arbeit f√ºr unsere Aufgabe. <br><br>  Eine andere M√∂glichkeit, Personen zur automatischen Authentifizierung auf unserem Server zu zwingen, sind E-Mails.  Einige Leute wissen, dass Sie in Outlook HTML-E-Mails oder E-Mails mit einer HTML-Vorlage verwenden k√∂nnen.  Wenn wir eine gemeinsam genutzte Netzwerkressource haben, k√∂nnen wir sie in eine solche E-Mail einf√ºgen. Wenn der Benutzer diese E-Mail √∂ffnet, stellt er automatisch eine Verbindung zu dieser Ressource her und authentifiziert sie. <br><br>  F√ºr unsere Zwecke k√∂nnen Sie Dateien im DOC-Format verwenden.  Jedes Dokument kann auf die gleiche Weise wie ein Bild oder eine HTML-Datei verwendet werden, die in eine UNC eingef√ºgt wird, deren √ñffnung automatisch eine Verbindung zu einer Netzwerkfreigabe herstellt. <br><br>  Vergessen Sie nicht die Datei desktop.ini.  Dies ist nicht allzu bekannt, aber Sie k√∂nnen diese Datei generieren, um Desktop-Ressourcen wie Symbole und Hintergrundbilder zu installieren und in einem freigegebenen Ordner abzulegen.  In diesem Fall stellt das System automatisch eine Verbindung her, um diese Symbole zu erhalten und sich mit dem aktuellen Benutzerkonto anzumelden. <br><br><img src="https://habrastorage.org/webt/cv/tz/gp/cvtzgpqubm3aok2hn75asryk4a0.jpeg"><br><br>  Auf die gleiche Weise k√∂nnen Sie die Einstellungen der Verkn√ºpfungsdatei mit der Erweiterung .lnk √§ndern, um automatisch eine Verbindung zur Ressource herzustellen. <br><br>  Unser Tool erstellt diese INI- oder HTML-Dateien also schnell und einfach automatisch. <br>  Das Letzte, wor√ºber ich sprechen m√∂chte, ist MITM oder "der Mann in der Mitte".  Sie k√∂nnen NTLM-Authentifizierungsanforderungen umleiten oder HTML-Inhalte in die Seiten einbetten, wie dies das Tool nicht tut, und so seine Arbeit erledigen.  Auf diese Weise k√∂nnen Sie Clients zwingen, eine Verbindung zu einem betr√ºgerischen Server herzustellen, um NTLM Relay zu implementieren.  Es gibt andere Tools, mit denen Sie NTLM-Relay √ºber SMB oder HTTP durchf√ºhren und Benutzer zur Authentifizierung f√ºr Sie zwingen k√∂nnen. <br><br>  Eine weitere coole Funktion von Squirtle ist die M√∂glichkeit, es zum Ausgangspunkt f√ºr das Erstellen von API-Anforderungen zu machen. Hier k√∂nnen Sie jedes Tool verwenden, das Sie zum Empfangen von Nachrichten vom Typ 2 und 3 schreiben. Die Nachricht vom Typ 3 ist die letzte Authentifizierungsanforderung. Sie m√ºssen eine API-Nachricht senden, um sie zu empfangen Geben Sie 2 ein und holen Sie es zur√ºck.  Ich habe schnell eine API geschrieben, mit der Sie alle gew√ºnschten Tools verwenden k√∂nnen. Sie k√∂nnen den Quellcode √§ndern und betr√ºgerische Server verwenden, um eine Verbindung herzustellen und so weiter. <br><br>  Wenn Sie jedoch ein Pentester sind oder Benutzer testen, ben√∂tigen Sie einige Beziehungen und eine umgekehrte Interaktion.  Daher enth√§lt unser Tool eine Reihe von Regeln.  Ich habe bereits gesagt, dass alle vorhandenen Tools Benutzer an dieselbe Quelle senden, und wir m√ºssen feststellen, wer diese Benutzer sind.  Ich wollte dies mit einem Klick tun, damit, wie gesagt, in 60 Sekunden die Berechtigung eines Dom√§nenadministrators eingeholt werden kann. <br><br>  Ich habe in unseren Anwendungsregeln geschrieben, dass Benutzer zu Gruppen und Ziele zu Zielgruppen geh√∂ren. <br><br>  Sobald wir herausfinden, dass der Benutzer zu einer Gruppe geh√∂rt und auf etwas mit automatischer Verbindung zugreifen kann, m√ºssen wir ihn nicht zwingen, eine Verbindung herzustellen, warten und hoffen, dass er zur√ºckkommt.  Wir haben eine einfache Regel aufgestellt. Sp√§ter werde ich in der Benutzeroberfl√§che zeigen, dass ein bestimmtes Modul Y verwendet wird, um die Aktion Z in Bezug auf die Zielgruppen T auszuf√ºhren, wenn ein Benutzer die Gruppe X betritt. Nach einigen Sekunden werde ich zeigen, wie dies funktioniert. <br><br>  Die Regeln bestehen auch darin, API-Anforderungen sofort zu √ºberpr√ºfen, die allgemeinen Regeln zu √ºberpr√ºfen und dies zu wiederholen, bis eine Zeit√ºberschreitung auftritt.  Sobald das Zeitlimit auftritt, m√ºssen Sie mit einem statischen Anruf antworten und den Authentifizierungsstatus beibehalten, damit der Benutzer die Verbindung nicht trennen kann. <br><br>  Wir k√∂nnen SMB verwenden, um eine Verbindung zu SMB herzustellen, HTTP, um eine Verbindung zu HTTP herzustellen, HTTP, um eine Verbindung zu SMB herzustellen usw., indem wir NTLM-Relaying implementieren.  Das Problem ist, dass die Leute praktisch nicht viele andere Protokolle verwenden, deshalb habe ich mich entschlossen, Protokolle wie LDAP und MSSQL genauer zu betrachten. <br><br>  Ich werde etwas sp√§ter √ºber LDAP sprechen, aber im Moment werde ich feststellen, dass MSSQL eine coole Sache ist, weil wir eine Datenbank bekommen k√∂nnen, auf die Daten zugreifen k√∂nnen, und das ist erstaunlich. <br><br><img src="https://habrastorage.org/webt/lp/1r/3q/lp1r3q4osaa3bwaf6i4k2wpenx8.jpeg"><br><br>  Da es sich um Kunden handelt, m√∂chten wir, dass die Aktionen unmittelbar nach dem Herstellen der Verbindung automatisch ausgef√ºhrt werden.  Aus diesem Grund haben wir Benutzer und Gruppen mit Metasploit aufgelistet, das auf der diesj√§hrigen BlackHat-Konferenz vorgestellt wurde.  Als Pentester erhielt ich Zugriff auf freigegebene Dateien, die M√∂glichkeit, Befehle auszuf√ºhren und Informationen √ºber Zielbenutzer und Zielgruppen ohne Administratorrechte in Besitz zu nehmen.  Bei alledem kann ich jedoch keine Verbindung zu den Dom√§nencontrollern herstellen.  Der Grund daf√ºr ist, dass die meisten Dom√§nencontroller standardm√§√üig eine SMB-Signatur haben.  F√ºr diejenigen, die mit der SMB-Signatur nicht vertraut sind, ist dies der Sicherheitsmechanismus des SMB-Protokolls, auch Sicherheitssignaturen genannt.  Es verwendet den urspr√ºnglichen NTLM-Hash, um die Sitzung zu signieren und jedes Paket zu signieren. Wenn keine Signatur vorhanden ist, werden Sie getrennt.  Daher k√∂nnen wir NTLM-Relaying standardm√§√üig nicht auf einen Dom√§nencontroller anwenden.  Das √§rgerte mich und ich beschloss herauszufinden, wie einfach und schnell es war, zu diesem Controller zu gelangen.  Lassen Sie uns ein paar Folien zur√ºckgehen. <br><br><img src="https://habrastorage.org/webt/hb/en/dp/hbendpeiybytzqdsmb7nvqvvxkw.jpeg"><br><br>  Es stellte sich heraus, dass LDAP im Dom√§nencontroller standardm√§√üig aktiviert ist, was die Verwendung der NTLM-Authentifizierung erm√∂glicht, was gro√üartig ist.  Das Kennwort konnte jedoch nicht ge√§ndert werden, da f√ºr das √Ñndern des Kennworts oder das Hinzuf√ºgen eines Benutzers in der Regel SSL erforderlich ist und SSL in LDAP enthalten ist, wenn die Dom√§ne √ºber ein CA-Zertifikat verf√ºgt.  Wir haben in unser Tool eingegeben, dass Sie Benutzerkennw√∂rter √§ndern, Benutzer ausschlie√üen und hinzuf√ºgen, Dom√§nen auflisten, aktive Benutzer-Hashes aus dem Speicher extrahieren, sich bei der Dom√§nensteuerung anmelden und andere coole Dinge tun k√∂nnen.  Das Tolle ist, dass Sie Benutzer zu Gruppen ohne SSL und andere Dinge hinzuf√ºgen k√∂nnen. Als Pentester k√∂nnen Sie also die Konten anderer Benutzer verwenden und verbinden, sie der Dom√§nenadministratorgruppe hinzuf√ºgen, wenn Sie √ºber Administratorrechte verf√ºgen, und so weiter. <br><br>  Zur√ºck zu SMB.  W√§hrend meines 4-st√ºndigen Fluges von Chicago hierher dachte ich daran, den SMB SOCKS-Proxy f√ºr unsere Zwecke zu verwenden.  Jeder, der es wei√ü, wei√ü, dass dieses Protokoll es Anwendungen erm√∂glicht, √ºber eine Firewall zu kommunizieren, die eine direkte Verbindung √ºber einen Zwischenserver blockiert, zu dem beide Clients eine Verbindung herstellen k√∂nnen.  Das hei√üt, der SOCKS-Proxy sendet saubere Daten von einem Client zu einem anderen und umgekehrt.  Somit kann dieser Proxy NTLM-Pakete durch weitergeleitete Daten ersetzen. <br><br><img src="https://habrastorage.org/webt/dh/ki/jf/dhkijfygw2plltlcrmve91kmkbi.jpeg"><br><br>  √úber HTTP k√∂nnen wir SharePoint-Server mit internen Websites verkn√ºpfen.  Einige Leute glauben, dass es kein Problem mit NTLM geben wird, weil Sie sich in einem internen Netzwerk befinden, aber was ist mit externen Netzwerken?  Es gibt dort auch manchmal SharePoint-Server, aber nicht zu oft.  Ich dachte, dass viele Organisationen f√ºr externen Zugriff offen sind, NTLM unterst√ºtzen und den Austausch von Webdiensten erm√∂glichen.  F√ºr diejenigen, die nicht mit Exchange Web Services (EWS) vertraut sind, werde ich sagen, dass es sich um eine Art HTTP-API handelt, die sich normalerweise auf demselben Server wie Outlook Web Access befindet.  Standardm√§√üig verwenden sie die HTTP-Authentifizierungsmethode Negotiate, die NTLM unterst√ºtzt, damit wir ein externes HTTP-Relay f√ºr den in EWS befindlichen Dienst durchf√ºhren k√∂nnen. <br><br>  Dies ist problematisch, da Sie von au√üen √ºber HotSpot-Verbindungspunkte auf Ihre Korrespondenz, Kontakte und den Veranstaltungskalender zugreifen und Ihre eigenen Regeln f√ºr E-Mails festlegen k√∂nnen.  Sie k√∂nnen √ºber das Internet zum EWS-Server gelangen, wenn dort keine Firewall-Regeln f√ºr ausgehende Verbindungen vorhanden sind, mit denen Sie keine Verbindung zu einem betr√ºgerischen SMB-Server herstellen und automatisch eine Authentifizierung erhalten k√∂nnen.  Und all dies ist m√∂glich, weil jeder ein Mobiltelefon mit EWS-Diensten verbunden und mit diesen synchronisiert hat. <br><br>  Und jetzt brauche ich etwas zu trinken, weil ich an dieser Stelle eine Demo starten wollte.  Diese Folie zeigt also, wie die grafische Benutzeroberfl√§che meiner ZackAttack-Anwendung aussieht. Ich scrolle auf der folgenden Seite nach unten, um die Einstellungen f√ºr Aktionen, Ziele, Zielgruppen und Benutzergruppen anzuzeigen. <br><br><img src="https://habrastorage.org/webt/qx/et/85/qxet85uxuedyfw18-ni2zk1ivwg.jpeg"><br><br>  So k√∂nnen Sie sich ein Bild von seiner Funktionalit√§t machen und wie leistungsf√§hig es sein kann.  Derzeit laufen ein betr√ºgerischer HTTP-Server, ein betr√ºgerischer SMB-Server und ein verwaltender HTTP-Server.  Die Folie zeigt ferner, in welchen Gruppen sich die Benutzer befinden. <br><br><img src="https://habrastorage.org/webt/lc/5s/yt/lc5sytnr9z8kxp6jgbhcv2hkd7e.jpeg"><br><br>  Es zeigt an, wer und wann eine Verbindung zum Netzwerk besteht, sodass Sie sehen k√∂nnen, welcher Benutzer die Verbindung wiederhergestellt hat. <br><br><img src="https://habrastorage.org/webt/wa/1y/g5/wa1yg5f6p0ykzzblr5bvd4jwf9w.jpeg"><br><br>  Auf der rechten Seite werden die Systemkonten und die Konten vorhandener Benutzer in Rot angezeigt. Von dort aus k√∂nnen Sie Ziele √ºber SMB mit einem Klick auflisten, E-Mails von Exchange Web Services empfangen, die Befehlsshell verwenden, wenn Sie Sitzungsadministrator sind, auf freigegebene Dateien zugreifen, SharePoint usw. <br><br><img src="https://habrastorage.org/webt/3q/6k/-g/3q6k-g8s68trllt30xvacbmjtfu.jpeg"><br><br>  Wie gesagt, wir k√∂nnen Regeln erstellen und Benutzer durch automatische Aufz√§hlung oder durch manuelles Erstellen von Gruppen zu Gruppen hinzuf√ºgen, z. B. durch Erstellen einer Gruppe mit dem Namen "moo". <br><br><img src="https://habrastorage.org/webt/3a/iq/we/3aiqwezirfyhniwbpe_sfq1n39k.jpeg"><br><br>  Etwas, was ich nicht tun kann, wie gesagt, die Demo-G√∂tter m√∂gen mich nicht.  Wir m√ºssen zur√ºckgehen und etwas im Programm optimieren. <br><br><img src="https://habrastorage.org/webt/jd/uj/wg/jdujwgwt64ba9y1u7rwxwcqg2jo.jpeg"><br><br>  Sorry Leute, aber dies ist nur eine Alpha-Version, ich habe diesen Code alleine in 3 Wochen geschrieben.  Jetzt werde ich eine Gruppe namens "yar" hinzuf√ºgen. Jetzt sehen Sie, dass beide Gruppen unten angezeigt wurden, zu denen der ausgew√§hlte Benutzer hinzugef√ºgt wurde. <br><br><img src="https://habrastorage.org/webt/wb/89/uw/wb89uw-6dbjmj8pk888zwawi6s0.jpeg"><br><br>  Wie gesagt, wir k√∂nnen auch verschiedene Benutzergruppen vom Dom√§nencontroller aus auflisten. Dies ist die Registerkarte "Benutzergruppen". Auf der Registerkarte "Angriffsregeln" - "Angriffsregeln" - k√∂nnen Regeln f√ºr die automatische Authentifizierung erstellt werden. <br><br>  Hier sehen Sie die Benutzer der neu erstellten Yar-Gruppe, die f√ºr bestimmte Zwecke der Zielgruppen mit Exchange Web Services verbunden werden k√∂nnen, und hier k√∂nnen Sie der Zielgruppe auch eine beliebige IP-Adresse hinzuf√ºgen, z. B. 10.1.10.250. <br><br><img src="https://habrastorage.org/webt/xr/6m/6r/xr6m6rba6n7oirlcsf_m8icd8ku.jpeg"><br><br>  Sobald eine Authentifizierungsanforderung von jemandem aus der Benutzergruppe empfangen wird, stellen wir automatisch eine Verbindung zum EWS her und ziehen alle Briefe aus dem Posteingang aus dem Ordner "Entw√ºrfe". Sie k√∂nnen problemlos einen weiteren Ordner hinzuf√ºgen, z. B. "Gesendete Objekte". <br><br><img src="https://habrastorage.org/webt/lm/d4/m4/lmd4m4xnqar_duln30q4cxs-svc.jpeg"><br><br>  Das Beste an diesem Tool ist, dass nach der Authentifizierung die Sitzung w√§hrend der gesamten Verbindung zum betr√ºgerischen Server ge√∂ffnet bleibt und alle diese Aktionen ausgef√ºhrt werden.  Daher m√ºssen wir uns nicht erneut authentifizieren, um eingehende E-Mails zu erhalten. <br>  Da wir 30 Anfragen vom System haben, k√∂nnen wir zuerst ungef√§hr 30 Regeln festlegen und dann in diesem speziellen Zusammenhang eine Vielzahl von Aktionen ausf√ºhren.  Wie gesagt, wir k√∂nnen alle diese Schritte f√ºr alle Benutzer und f√ºr alle Zwecke dieser Verbindung oder f√ºr bestimmte Zwecke wiederholen. <br><br>  Gleichzeitig k√∂nnen wir eine Nutzlast generieren, indem wir auf die Registerkarte Auth Payloads klicken.  Von hier aus k√∂nnen Sie HTML-Dateien erstellen, um das OC des Benutzers zu bestimmen, und eine der drei Methoden verwenden, um den Browser zur automatischen Authentifizierung zu zwingen. <br><br><img src="https://habrastorage.org/webt/k8/__/i4/k8__i4vo0om07vzlmddlfeuzfre.jpeg"><br><br>  Hier k√∂nnen Sie die Datei desktop.ini erstellen, um Dateien in freigegebene Ordner hochzuladen, und mithilfe des Dateigenerators den UNC-Pfad in eine XML-DOC-Datei einf√ºgen, .lnk-Verkn√ºpfungsdateien erstellen und Zip-Dateien archivieren, genau wie beim automatischen Erstellen von XTML-Mail-Dateien.  All dies geschieht so einfach wie m√∂glich mit Hilfe von Firesheep und NTLM Relaying. <br><br>  Schlie√ülich verfolgt mein Tool √ºber die Registerkarte Ergebnisse + Protokolle Benutzer-Hashes wie vor der statischen Authentifizierung, sodass Sie versuchen k√∂nnen, Kennw√∂rter zu knacken. <br><br><img src="https://habrastorage.org/webt/md/aq/gc/mdaqgc6xtnxlzs0xkb6tmxb_zta.jpeg"><br><br>  Dies war also eine Demonstration der F√§higkeiten von ZackAttack.  Wie sch√ºtzen wir uns davor?  Die Verteidigung besteht darin, die Angriffsfl√§che zu begrenzen. <br><br><img src="https://habrastorage.org/webt/ke/uu/cy/keuucyza_kppoxyhszqfnjkxufy.jpeg"><br><br>  Jeder hat seine eigenen Verteidigungsmethoden gegen Angriffe dieser Art.  Die Leute schlagen vor, NTLM Version 2 zu verwenden. Mein Tool unterst√ºtzt diese Version, aber es gibt keine signifikanten Unterschiede zwischen Version 2 und Version 1. <br><br>  Sie k√∂nnen eine Firewall am ausgehenden Port 445 installieren, die Sie vor allen Personen sch√ºtzt, die betr√ºgerische Nutzdaten senden, die die automatische Authentifizierung erzwingen.  Dies sch√ºtzt jedoch nicht vor dem Eindringen in mobile Ger√§te. <br><br>  Sie k√∂nnen Gruppenrichtlinien konfigurieren, um die Verwendung von Gruppenrichtlinienobjektprogrammen in Windows 7 einzuschr√§nken und die Ziele der NTLM-Authentifizierung einzuschr√§nken.  Jeder behauptet, die beste L√∂sung sei Kerberos.  Das Problem ist jedoch, dass die Organisation alles auf Kerberos umstellen muss, und dies funktioniert nicht, da es viele Dinge gibt, die Kerberos nicht unterst√ºtzen.  Eine andere Sache ist, dass Sie, wenn Sie Kerberos aktivieren, NTLM √ºberhaupt nicht unterst√ºtzen k√∂nnen. Gleiches gilt f√ºr das Signieren, da Sie f√ºr diejenigen, die Sie nicht kennen, jedes Paket mit einem Original-Passwort-Hash signieren m√ºssen.  Signieren von LDAP, SMB-Signaturen, erweiterte HTTP-Authentifizierung - all dies wird von Cerberus nicht unterst√ºtzt, sodass die Leute f√§lschlicherweise glauben, dass Signaturen alle Probleme l√∂sen.  Wenn Sie obligatorische Signaturen erzwingen, kann dies viele Dinge deaktivieren. <br><br>  Um die Organisation zu sch√ºtzen, m√ºssen Sie daher ein gewisses Gleichgewicht halten.  Wenn Sie ein Endbenutzer sind, machen Sie sich normalerweise keine Sorgen √ºber solche Dinge. Wenn Sie jedoch Systemadministrator eines Unternehmens sind, besteht das gr√∂√üte Problem f√ºr Sie darin, dass Sie die Verwendung von NTLM ablehnen m√ºssen. <br><br>  Da Windows 8 und Windows 2012 standardm√§√üig weiterhin NTLM unterst√ºtzen, wird es einige Zeit dauern, dies aufzugeben und Kerberos weiter zu verwenden, und ich hoffe, mein Tool hilft.  Es wird am Dienstag, den 31. Juli ver√∂ffentlicht, sobald ich unter <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zfasel.com/tools</a> nach Hause <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">komme</a> .  Es ist auch auf der DVD dieser Konferenz sowie auf meinen Folien verf√ºgbar.  Wenn Sie mir sagen m√∂chten, wie beschissen meine Leistung und meine Demo waren, senden Sie eine E-Mail an dc20@zfasel.com oder suchen Sie auf Twitter nach meinem @ zfasel-Spitznamen. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/nHU3ujyw_sQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Vielen Dank f√ºr Ihren Aufenthalt bei uns.  Gef√§llt dir unser Artikel?  M√∂chten Sie weitere interessante Materialien sehen?  Unterst√ºtzen Sie uns, indem Sie eine Bestellung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgeben</a> oder Ihren Freunden empfehlen, einen <b>Rabatt von 30% f√ºr Habr-Benutzer auf ein einzigartiges Analogon von Einstiegsservern, das wir f√ºr Sie erfunden haben:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die ganze Wahrheit √ºber VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s von $ 20 oder wie teilt man den Server?</a>  (Optionen sind mit RAID1 und RAID10, bis zu 24 Kernen und bis zu 40 GB DDR4 verf√ºgbar). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 Kerne) 10 GB DDR4 240 GB SSD 1 Gbit / s bis zum Fr√ºhjahr kostenlos,</b> wenn Sie f√ºr einen Zeitraum von sechs Monaten bezahlen, k√∂nnen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> bestellen. <br><br>  <b>Dell R730xd 2 mal g√ºnstiger?</b>  Nur wir haben <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 GB DDR4 6 x 480 GB SSD 1 Gbit / s 100 TV von 249 US-Dollar</a> in den Niederlanden und den USA!</b>  Lesen Sie mehr √ºber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Aufbau eines Infrastrukturgeb√§udes.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klasse mit Dell R730xd E5-2650 v4 Servern f√ºr 9.000 Euro f√ºr einen Cent?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de436474/">https://habr.com/ru/post/de436474/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de436460/index.html">Die Wahl von Technologie, Architektur und Design in Softwareprojekten - ohne Bargeld</a></li>
<li><a href="../de436464/index.html">2. Check Point Log Analysis: SmartEvent</a></li>
<li><a href="../de436466/index.html">Electron: Entwicklung von Desktop-Anwendungen mit HTML, CSS und JavaScript</a></li>
<li><a href="../de436468/index.html">Legislative Experiment mit digitaler Innovation</a></li>
<li><a href="../de436472/index.html">DEFCON-Konferenz 20. Erfassung in 60 Sekunden: von einem Gastkonto zu einem Windows-Dom√§nenadministrator. Teil 1</a></li>
<li><a href="../de436476/index.html">Cloud f√ºr Versicherer</a></li>
<li><a href="../de436480/index.html">Ich habe einen Bot gemacht, der mit Personalvermittlern f√ºr mich kommuniziert, und ich mochte</a></li>
<li><a href="../de436482/index.html">Advanced Three.js: Shader-Materialien und Nachbearbeitung</a></li>
<li><a href="../de436484/index.html">Wo finde ich DNS-Einstellungen unter MacOS?</a></li>
<li><a href="../de436486/index.html">Was passiert auf dem Audio-Podcast-Markt?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>