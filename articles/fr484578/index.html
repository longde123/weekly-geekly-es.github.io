<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚Äçüéì üéÉ üò© Objectifs de niveau de service - Exp√©rience Google (traduction de la section Google SRE Book) üî§ üåë üàØÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="SRE (Site Reliability Engineering) - une approche pour assurer la disponibilit√© des projets web. Il est consid√©r√© comme un cadre pour DevOps et indiqu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Objectifs de niveau de service - Exp√©rience Google (traduction de la section Google SRE Book)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484578/"><img src="https://habrastorage.org/webt/rj/u4/8s/rju48s3gqxozu32f2esipgkpc6c.png" alt="image"><br><br>  SRE (Site Reliability Engineering) - une approche pour assurer la disponibilit√© des projets web.  Il est consid√©r√© comme un cadre pour DevOps et indique comment r√©ussir √† appliquer les pratiques DevOps.  Cet article est une traduction du <a href="https://landing.google.com/sre/book/chapters/service-level-objectives.html" rel="nofollow">chapitre 4 des objectifs</a> de <a href="https://landing.google.com/sre/book/chapters/service-level-objectives.html" rel="nofollow">niveau de service</a> de <a href="https://landing.google.com/sre/book.html" rel="nofollow">Site Reliability Engineering</a> de Google.  J'ai pr√©par√© cette traduction moi-m√™me et je me suis appuy√©e sur ma propre exp√©rience dans la compr√©hension des processus de suivi.  Dans la cha√Æne de t√©l√©gramme <a href="https://t.me/monitorim_it/26" rel="nofollow">monitorim_it</a> et le <a href="https://habr.com/ru/post/484246/">dernier article sur Habr√©,</a> j'ai √©galement publi√© une traduction du chapitre 6 du m√™me livre sur la surveillance des syst√®mes distribu√©s. <br><br>  Traduction par chat.  Bonne lecture! <br><a name="habracut"></a><br>  Il est impossible de g√©rer un service si l'on ne comprend pas quels indicateurs sont vraiment importants et comment les mesurer et les √©valuer.  √Ä cette fin, nous d√©finissons et fournissons un certain niveau de service √† nos utilisateurs, qu'ils utilisent l'une de nos API internes ou un produit public. <br><br>  Nous utilisons notre intuition, notre exp√©rience et nous reconnaissons le d√©sir des utilisateurs d'avoir une id√©e des indicateurs de niveau de service (SLI), des objectifs de niveau de service (SLO) et de l'accord de niveau de service (SLA).  Ces mesures d√©crivent les principales mesures que nous voulons contr√¥ler et auxquelles nous r√©pondrons si nous ne pouvons pas fournir la qualit√© de service attendue.  En fin de compte, le choix des bons indicateurs permet de g√©rer les bonnes actions en cas de probl√®me et donne √©galement confiance √† l'√©quipe SRE dans la sant√© du service. <br><br>  Ce chapitre d√©crit l'approche que nous utilisons pour traiter les probl√®mes de mod√©lisation m√©trique, de s√©lection m√©trique et d'analyse m√©trique.  La plupart des explications seront sans exemples, nous allons donc utiliser le service Shakespeare d√©crit dans l'exemple de sa mise en ≈ìuvre (recherche des travaux de Shakespeare) pour illustrer les principaux points. <br><br><h1>  Terminologie du niveau de service </h1><br>  De nombreux lecteurs connaissent probablement le concept de SLA, mais les termes SLI et SLO m√©ritent une d√©finition soigneuse, car en g√©n√©ral le terme SLA est surcharg√© et a un certain nombre de significations selon le contexte.  Pour plus de clart√©, nous voulons s√©parer ces valeurs. <br><br><h3>  Indicateurs </h3><br>  Le SLI est un indicateur du niveau de service - une mesure soigneusement quantifi√©e d'un aspect du niveau de service fourni. <br><br>  Pour la plupart des services, le retard dans la demande est consid√©r√© comme le SLI cl√© - combien de temps est n√©cessaire pour renvoyer une r√©ponse √† la demande.  Les autres SLI courants incluent le taux d'erreur, souvent exprim√© sous forme de fraction de toutes les demandes re√ßues, et le d√©bit du syst√®me, g√©n√©ralement mesur√© en demandes par seconde.  Les mesures sont souvent agr√©g√©es: les donn√©es brutes sont d'abord collect√©es puis converties en taux de variation, moyenne ou centile. <br><br>  Id√©alement, le SLI mesure directement le niveau de service d'int√©r√™t, mais parfois seule la m√©trique associ√©e est disponible pour la mesure, car l'original est difficile √† obtenir ou √† interpr√©ter.  Par exemple, la latence c√¥t√© client est souvent une mesure plus appropri√©e, mais il arrive que la mesure de la latence ne soit possible que sur le serveur. <br><br>  Un autre type de SLI qui est important pour SRE est la disponibilit√© ou une partie du temps pendant lequel le service peut √™tre utilis√©.  Il est souvent d√©fini comme le pourcentage de demandes r√©ussies, parfois appel√© g√©n√©ration.  (Esp√©rance de vie - la probabilit√© que les donn√©es soient stock√©es pendant une longue p√©riode est √©galement importante pour les syst√®mes de stockage de donn√©es.) Bien que l'accessibilit√© soit 100% impossible, une accessibilit√© proche de 100% est souvent r√©alisable, les valeurs d'accessibilit√© sont exprim√©es par le nombre ¬´neuf¬ª ¬ªDisponibilit√© en pourcentage.  Par exemple, une disponibilit√© de 99% et 99,999% peut √™tre d√©sign√©e par ¬´2 neuf¬ª et ¬´5 neuf¬ª.  L'objectif d√©clar√© actuel d'accessibilit√© pour Google Compute Engine est de "trois et demi neuf" ou 99,95%. <br><br><h3>  Buts </h3><br>  SLO est l'objectif d'un niveau de service: une valeur cible ou une plage de valeurs pour le niveau de service qui est mesur√©e par SLI.  La valeur normale pour SLO est ¬´SLI ‚â§ valeur cible¬ª ou ¬´limite inf√©rieure ‚â§ SLI ‚â§ limite sup√©rieure¬ª.  Par exemple, nous pouvons d√©cider que nous retournerons les r√©sultats de recherche pour les ≈ìuvres de Shakespeare ¬´rapidement¬ª, en prenant sous forme de SLO la valeur du d√©lai moyen de la requ√™te de recherche est inf√©rieure √† 100 millisecondes. <br><br>  Choisir le bon SLO est un processus complexe.  Premi√®rement, vous ne pouvez pas toujours s√©lectionner une valeur sp√©cifique.  Pour les requ√™tes HTTP entrantes externes √† votre service, la m√©trique du nombre de requ√™tes par seconde (QPS) est principalement d√©termin√©e par le d√©sir de vos utilisateurs de visiter votre service, et vous ne pouvez pas installer SLO pour cela. <br><br>  En revanche, vous pouvez dire que vous souhaitez que le d√©lai moyen pour chaque demande soit inf√©rieur √† 100 millisecondes.  Fixer un tel objectif peut vous obliger √† r√©diger votre front-end avec un faible retard ou √† acheter du mat√©riel qui fournit un tel retard.  (100 millisecondes est √©videmment une valeur arbitraire, mais il vaut mieux avoir des taux de latence encore plus bas. Il y a des raisons de croire que la vitesse √©lev√©e est meilleure que lente et que le fait de retarder les demandes des utilisateurs au-dessus de certaines valeurs force en fait les gens √† rester loin de votre service.) <br><br>  Encore une fois, c'est plus ambigu qu'il n'y para√Æt √† premi√®re vue: cela ne vaut pas la peine de jeter QPS hors du calcul.  Le fait est que le bundle QPS et le retard sont fortement li√©s l'un √† l'autre: un QPS plus √©lev√© entra√Æne souvent des d√©lais plus longs et les services connaissent g√©n√©ralement une forte baisse des performances lorsqu'un certain seuil de charge est atteint. <br><br>  Le choix et la publication de SLO d√©finissent les attentes des utilisateurs quant au fonctionnement du service.  Cette strat√©gie peut r√©duire les plaintes d√©raisonnables concernant le propri√©taire du service, par exemple, concernant sa lenteur de travail.  Sans SLO explicite, les utilisateurs cr√©ent souvent leurs propres attentes concernant les performances souhait√©es, qui ne sont en aucun cas li√©es aux opinions des personnes qui con√ßoivent et g√®rent le service.  Cet alignement peut conduire √† des attentes √©lev√©es de la part du service, lorsque les utilisateurs croient √† tort que le service sera plus accessible qu'il ne l'est en r√©alit√© et suscitent la m√©fiance lorsque les utilisateurs pensent que le syst√®me est moins fiable qu'il ne l'est r√©ellement. <br><br><h3>  Accord </h3><br>  Un accord de niveau de service est un contrat explicite ou implicite avec vos utilisateurs qui inclut les cons√©quences de l'apparition (ou de l'absence) des SLO qu'ils contiennent.  Les cons√©quences sont plus facilement reconnaissables lorsqu'elles sont financi√®res - une remise ou une p√©nalit√© - mais elles peuvent prendre d'autres formes.  Un moyen facile de parler de la diff√©rence entre les SLO et les SLA est de demander: "Que se passe-t-il si les SLO ne sont pas respect√©s?"  S'il n'y a pas de cons√©quences √©videntes, vous examinerez certainement SLO. <br><br>  Les SRE ne sont g√©n√©ralement pas impliqu√©s dans la cr√©ation de SLA car les SLA sont √©troitement li√©s aux solutions commerciales et de produits.  SRE, cependant, participe √† la pr√©vention des cons√©quences d'√©checs des SLO.  Ils peuvent √©galement aider √† d√©terminer les SLI: √©videmment, il doit y avoir un moyen objectif de mesurer les SLO dans un accord ou il y aura des d√©saccords. <br><br>  Google Search est un exemple d'un service important qui n'a pas de SLA pour le public: nous voulons que tout le monde utilise la recherche aussi efficacement que possible, mais nous n'avons pas sign√© de contrat avec le monde entier.  Cependant, il y a toujours des cons√©quences si la recherche n'est pas disponible - l'inaccessibilit√© entra√Æne une baisse de notre r√©putation, ainsi qu'une diminution des revenus publicitaires.  De nombreux autres services Google, tels que Google for Work, ont des accords de niveau de service explicites avec les utilisateurs.  Ind√©pendamment du fait qu'un service particulier ait ou non un SLA, il est important de d√©terminer le SLI et le SLO et de les utiliser pour g√©rer le service. <br><br>  Tellement de th√©orie - maintenant √† exp√©rimenter. <br><br><h1>  Indicateurs en pratique </h1><br>  √âtant donn√© que nous avons conclu qu'il est important de s√©lectionner les indicateurs appropri√©s pour mesurer le niveau de service, comment savez-vous maintenant quels indicateurs sont pertinents pour le service ou le syst√®me? <br><br><h3>  Ce dont vous et vos utilisateurs vous souciez </h3><br>  Vous n'avez pas besoin d'utiliser chaque indicateur comme un SLI, que vous pouvez suivre dans le syst√®me de surveillance;  Comprendre ce que les utilisateurs attendent du syst√®me vous aidera √† choisir quelques mesures.  Si vous choisissez trop d'indicateurs, il est difficile de pr√™ter attention aux indicateurs importants, tandis que le fait d'en choisir trop peu peut laisser des morceaux importants de votre syst√®me sans surveillance.  Habituellement, nous utilisons plusieurs indicateurs cl√©s pour √©valuer et comprendre l'√©tat du syst√®me. <br><br>  Les services, en r√®gle g√©n√©rale, peuvent √™tre divis√©s en plusieurs parties en termes de SLI, qui sont pertinentes pour eux: <br><br><ul><li>  Syst√®mes frontaux personnalis√©s, tels que les interfaces de recherche de service Shakespeare de notre exemple.  Ils doivent √™tre accessibles, non retard√©s et avoir une bande passante suffisante.  En cons√©quence, vous pouvez poser des questions: pouvons-nous r√©pondre √† la demande?  Combien de temps a-t-il fallu pour r√©pondre √† la demande?  Combien de demandes peuvent √™tre trait√©es? </li><li>  Syst√®mes de stockage.  La faible latence, la disponibilit√© et la durabilit√© sont importantes pour eux.  Questions connexes: combien de temps faut-il pour lire ou √©crire des donn√©es?  Pouvons-nous acc√©der aux donn√©es √† la demande?  Les donn√©es sont-elles disponibles lorsque nous en avons besoin?  Voir le chapitre 26 Int√©grit√© des donn√©es: ce que vous lisez est ce que vous avez √©crit pour une discussion d√©taill√©e de ces probl√®mes. </li><li>  Les syst√®mes de Big Data, tels que les pipelines de traitement des donn√©es, d√©pendent du d√©bit et de la latence du traitement des demandes.  Questions pertinentes: combien de donn√©es sont trait√©es?  Combien de temps faut-il pour que les donn√©es passent de la r√©ception d'une demande √† l'√©mission d'une r√©ponse?  (Certaines parties du syst√®me peuvent √©galement pr√©senter des retards √† certaines √©tapes.) </li></ul><br><h3>  Collection d'indicateurs </h3><br>  Il est plus naturel de collecter de nombreux indicateurs de niveau de service c√¥t√© serveur, en utilisant un syst√®me de surveillance tel que Borgmon (voir <a href="https://landing.google.com/sre/book/chapters/practical-alerting.html" rel="nofollow">Chapitre 10 Pratique des alertes de s√©ries chronologiques</a> ) ou Prometheus, ou tout simplement en analysant p√©riodiquement les journaux, r√©v√©lant les r√©ponses HTTP avec un statut de 500. N√©anmoins, certains syst√®mes doivent √™tre √©quip√©s d'une collecte de m√©triques c√¥t√© client, car le manque de surveillance c√¥t√© client peut conduire √† manquer un certain nombre de probl√®mes qui affectent les utilisateurs mais n'affectent pas les m√©triques c√¥t√© serveur.  Par exemple, se concentrer sur la r√©ponse retard√©e du backend de notre application de test √† la recherche des ≈ìuvres de Shakespeare peut entra√Æner un retard dans le traitement des demandes c√¥t√© utilisateur en raison de probl√®mes JavaScript: dans ce cas, mesurer le temps que la page mettra √† traiter dans le navigateur est le meilleur indicateur. <br><br><h3>  Agr√©gation </h3><br>  Pour plus de simplicit√© et de facilit√© d'utilisation, nous regroupons souvent les dimensions brutes.  Cela doit √™tre fait avec soin. <br><br>  Certains indicateurs semblent simples, par exemple le nombre de requ√™tes par seconde, mais m√™me cette mesure, √©vidente et directe, agr√®ge implicitement les donn√©es dans le temps.  La mesure est-elle obtenue sp√©cifiquement une fois par seconde ou cette mesure est-elle moyenne sur le nombre de requ√™tes par minute?  Cette derni√®re option peut masquer un nombre instantan√© beaucoup plus √©lev√© de demandes stock√©es pendant quelques secondes seulement.  Prenons un syst√®me qui traite 200 requ√™tes par seconde avec des nombres pairs et 0 le reste du temps.  Une constante sous la forme d'une valeur moyenne de 100 requ√™tes par seconde et deux fois plus de charge instantan√©e n'est pas la m√™me chose.  De m√™me, la moyenne des latences des demandes peut sembler int√©ressante, mais elle cache un d√©tail important: il est possible que la plupart des demandes soient rapides, mais il y aura de nombreuses demandes qui seront lentes. <br><br>  La plupart des indicateurs sont mieux consid√©r√©s comme des distributions que comme des moyennes.  Par exemple, pour les retards SLI, certaines demandes seront trait√©es rapidement, tandis que d'autres prendront toujours plus de temps, parfois beaucoup plus de temps.  Une simple moyenne peut masquer ces longs d√©lais.  La figure montre un exemple: bien qu'une demande typique soit servie pendant environ 50 ms, 5% des demandes sont 20 fois plus lentes!  La surveillance et les alertes bas√©es uniquement sur la latence moyenne ne montrent pas de changements de comportement au cours de la journ√©e, alors qu'en fait il y a des changements notables dans le temps de traitement de certaines demandes (la ligne sup√©rieure). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cc4/719/a60/cc4719a6007b867af81ec40a5a8ee7dd.jpg" alt="image"><br>  <i>50, 85, 95 et 99 centile du retard du syst√®me.</i>  <i>L'axe des Y est au format logarithmique.</i> <br><br>  L'utilisation des centiles pour les indicateurs vous permet de voir la forme de la distribution et ses caract√©ristiques: un niveau √©lev√© d'un centile, tel que 99 ou 99,9, affiche la pire valeur, et √† 50 centile (√©galement connu sous le nom de m√©diane), vous pouvez voir l'√©tat le plus fr√©quent de la m√©trique.  Plus la variance du temps de r√©ponse est grande, plus les requ√™tes √† long terme affectent l'exp√©rience utilisateur.  L'effet est am√©lior√© √† charge √©lev√©e en pr√©sence de files d'attente.  Les √©tudes d'exp√©rience utilisateur ont montr√© que les gens pr√©f√®rent g√©n√©ralement un syst√®me plus lent avec une dispersion √©lev√©e du temps de r√©ponse, de sorte que certaines √©quipes SRE se concentrent uniquement sur les valeurs de centile √©lev√©es, en supposant que si le comportement m√©trique sur le 99,9 centile est bon, la plupart des utilisateurs ne conna√Ætront pas probl√®mes. <br><br><blockquote>  <b>Remarque sur les erreurs statistiques</b> <br><br>  Habituellement, nous pr√©f√©rons travailler avec des centiles plut√¥t qu'avec un ensemble moyen (moyenne arithm√©tique) de valeurs.  Cela nous permet de consid√©rer des valeurs plus dispers√©es, qui ont souvent des caract√©ristiques significativement diff√©rentes (et plus int√©ressantes) que la moyenne.  En raison de la nature artificielle des syst√®mes informatiques, les valeurs m√©triques sont souvent d√©form√©es, par exemple, aucune demande ne peut recevoir de r√©ponse en moins de 0 ms, et un d√©lai d'expiration de 1000 ms signifie qu'il ne peut y avoir de r√©ponses r√©ussies avec des valeurs d√©passant le d√©lai.  En cons√©quence, nous ne pouvons accepter que la moyenne et les m√©dianes puissent √™tre identiques ou proches l'une de l'autre! <br><br>  Sans v√©rification pr√©liminaire, et si certaines hypoth√®ses et approximations standard ne sont pas remplies, nous essayons de ne pas tirer de conclusions selon lesquelles nos donn√©es sont normalement distribu√©es.  Si la distribution n'est pas comme pr√©vu, un processus d'automatisation qui r√©sout le probl√®me (par exemple, lorsqu'il voit des valeurs aberrantes au-del√† des valeurs limites, il red√©marre le serveur avec des latences √©lev√©es pour traiter la demande) peut le faire trop souvent ou pas assez souvent (les deux options ne sont pas tr√®s bonnes). </blockquote><br><h3>  Standardiser les indicateurs </h3><br>  Nous vous recommandons de standardiser les caract√©ristiques g√©n√©rales des SLI afin que vous n'ayez pas √† en parler √† chaque fois.  Toute fonction qui satisfait aux mod√®les standard peut √™tre exclue de la sp√©cification d'un SLI individuel, par exemple: <br><br><ul><li>  Intervalles d'agr√©gation: "en moyenne sur 1 minute" </li><li>  Zones d'agr√©gation: ¬´Toutes les t√¢ches du cluster¬ª </li><li>  Fr√©quence des mesures: ¬´toutes les 10 secondes¬ª </li><li>  Quelles demandes sont incluses: "HTTP GET √† partir des t√¢ches de surveillance de la bo√Æte noire" </li><li>  Comment les donn√©es ont √©t√© re√ßues: ¬´Gr√¢ce √† notre surveillance mesur√©e sur le serveur¬ª, </li><li>  D√©lai d'acc√®s aux donn√©es: ¬´Time to Last Byte¬ª </li></ul><br>  Pour √©conomiser des efforts, cr√©ez un ensemble de mod√®les SLI r√©utilisables pour chaque m√©trique commune;  ils permettent √©galement √† chacun de comprendre plus facilement ce que signifie un SLI particulier. <br><br><h1>  Objectifs d'entra√Ænement </h1><br>  Commencez par penser (ou d√©couvrez!) Ce qui int√©resse vos utilisateurs, pas ce que vous pouvez mesurer.  Souvent, ce qui d√©range vos utilisateurs est difficile ou impossible √† mesurer, vous finissez donc par vous rapprocher de leurs besoins.  Cependant, si vous commencez par ce qui est facile √† mesurer, vous obtiendrez des SLO moins utiles.  En cons√©quence, nous avons parfois constat√© que la d√©finition initiale des objectifs souhait√©s et le travail ult√©rieur avec des indicateurs sp√©cifiques fonctionnent mieux que le choix d'indicateurs, puis la r√©alisation des objectifs. <br><br><h3>  D√©finir des objectifs </h3><br>  Pour une clart√© maximale, il convient de d√©terminer comment les SLO sont mesur√©s et les conditions dans lesquelles ils sont valides.  Par exemple, nous pouvons dire ce qui suit (la deuxi√®me ligne est la m√™me que la premi√®re, mais utilise les valeurs SLI par d√©faut): <br><br><ul><li>  99% (en moyenne sur 1 minute) des appels Get RPC seront effectu√©s en moins de 100 ms (mesur√©s sur tous les serveurs principaux). </li><li>  99% des appels Get RPC seront effectu√©s en moins de 100 ms. </li></ul><br>  Si la forme des courbes de performances est importante, vous pouvez sp√©cifier plusieurs objectifs SLO: <br><br><ul><li>  90% des appels Get RPC sont termin√©s en moins de 1 ms. </li><li>  99% des appels Get RPC sont termin√©s en moins de 10 ms. </li><li>  99,9% des appels Get RPC se sont termin√©s en moins de 100 ms. </li></ul><br>  Si vos utilisateurs g√©n√®rent des charges h√©t√©rog√®nes: traitement de masse (pour lequel la bande passante est importante) et traitement interactif (pour lequel le d√©lai est important), il peut √™tre judicieux de d√©finir des objectifs distincts pour chaque classe de charge: <br><br><ul><li>  95% des demandes des clients concernent une bande passante importante.  D√©finissez le nombre d'appels RPC en cours &lt;1 s. </li><li>  99% des clients appr√©cient le retard.  Configurez le nombre d'appels RPC avec un trafic &lt;1 Ko et en cours &lt;10 ms. </li></ul><br>  Il est irr√©aliste et ind√©sirable d'insister pour que les SLO soient ex√©cut√©s dans 100% des cas: cela peut ralentir le rythme d'introduction de nouvelles fonctionnalit√©s et de nouveaux d√©ploiements, et n√©cessiter des solutions co√ªteuses.  Au lieu de cela, il vaut mieux autoriser un budget d'erreurs - une fraction du temps d'arr√™t du syst√®me et surveiller cette valeur quotidiennement ou hebdomadairement.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La direction peut souhaiter une √©valuation mensuelle ou trimestrielle. </font><font style="vertical-align: inherit;">(Le budget d'erreur n'est qu'un SLO pour comparaison avec un autre SLO). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le pourcentage de violation de SLO peut √™tre compar√© au budget d'erreurs (voir le chapitre 3 et la section </font></font><a href="https://landing.google.com/sre/book/chapters/embracing-risk.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´Motivation des budgets d'erreurs¬ª</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), et la valeur de diff√©rence est utilis√©e comme entr√©e dans le processus qui d√©cide quand d√©ployer les nouvelles versions.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> S√©lectionnez les valeurs du plan </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La s√©lection des valeurs planifi√©es (SLO) n'est pas une activit√© purement technique en raison des int√©r√™ts du produit et de l'entreprise, qui devraient se refl√©ter dans le SLI, le SLO (et, √©ventuellement, le SLA) s√©lectionn√©s. De m√™me, il peut √™tre n√©cessaire d'√©changer des informations sur des questions li√©es au personnel, au d√©lai de mise sur le march√©, √† la disponibilit√© de l'√©quipement et au financement. Le SRE devrait faire partie de cette conversation et aider √† g√©rer les risques et la viabilit√© des diff√©rentes options. Nous avons trouv√© quelques questions qui pourraient aider √† fournir une discussion plus productive: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne choisissez pas un objectif bas√© sur les performances actuelles.</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bien qu'il soit important de comprendre les m√©rites et les limites du syst√®me, l'adaptation des indicateurs sans raisonnement peut vous emp√™cher de soutenir le syst√®me: il faudra des efforts h√©ro√Øques pour atteindre des objectifs qui ne peuvent √™tre atteints sans une r√©organisation majeure. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Restez simple Les</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> calculs SLI complexes peuvent masquer les modifications des performances du syst√®me et rendre plus difficile la recherche de la cause du probl√®me. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âvitez l'absolu.</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bien qu'il soit tentant d'avoir un syst√®me capable de supporter une charge croissante illimit√©e sans augmenter la valeur de retard, cette exigence est irr√©aliste. Un syst√®me qui approche de tels id√©aux est susceptible de forcer beaucoup de temps √† concevoir et √† construire, co√ªtera cher √† utiliser sera trop bon pour les attentes des utilisateurs qui en auraient eu moins.</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisez le moins de SLO possible.</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Choisissez suffisamment de SLO pour assurer une bonne couverture des attributs du syst√®me. Prot√©gez les SLO que vous choisissez: si vous ne pouvez jamais gagner un diff√©rend sur les priorit√©s en sp√©cifiant un SLO sp√©cifique, vous ne devriez probablement pas consid√©rer ce SLO. Cependant, tous les attributs du syst√®me ne se pr√™tent pas √† SLO: il est difficile de calculer le niveau d'enthousiasme des utilisateurs avec SLO. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ne poursuivez pas la perfection</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vous pouvez toujours clarifier les d√©finitions et les objectifs de SLO au fil du temps, lorsque vous en apprendrez plus sur le comportement du syst√®me sous charge. Il vaut mieux commencer par un objectif flottant, que vous clarifierez au fil du temps, que de choisir un objectif trop strict, qui devrait √™tre affaibli lorsque vous constatez qu‚Äôil est impossible √† atteindre.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les SLO peuvent et doivent √™tre le principal moteur de la priorisation du travail pour SRE et les d√©veloppeurs de produits, car ils refl√®tent l'attention des utilisateurs. </font><font style="vertical-align: inherit;">Un bon SLO est un outil utile pour contraindre une √©quipe de d√©veloppement. </font><font style="vertical-align: inherit;">Mais un SLO mal con√ßu peut entra√Æner un travail inutile si l'√©quipe fait des efforts h√©ro√Øques pour atteindre un SLO trop agressif ou un produit m√©diocre si le SLO est trop bas. </font><font style="vertical-align: inherit;">SLO est un levier puissant, utilisez-le √† bon escient.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mesures de contr√¥le </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SLI et SLO sont les √©l√©ments cl√©s utilis√©s pour g√©rer les syst√®mes: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Surveillez et mesurez les syst√®mes SLI. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comparez SLI avec SLO et d√©cidez si une action est n√©cessaire. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si une action est requise, d√©couvrez ce qui doit se produire pour atteindre l'objectif. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Effectuez cette action. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par exemple, si l'√©tape 2 montre que le d√©lai d'expiration de la demande augmente et casse le SLO apr√®s quelques heures si rien n'est fait, l'√©tape 3 peut inclure le test de l'hypoth√®se que la charge du serveur est li√©e aux processeurs et l'ajout de nouveaux serveurs r√©partira la charge . Sans SLO, vous ne sauriez pas si (ou quand) prendre des mesures. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©finir SLO - les attentes des utilisateurs sont alors d√©finies</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La publication d'un SLO d√©finit les attentes des utilisateurs quant au comportement du syst√®me. Les utilisateurs (et les utilisateurs potentiels) veulent souvent savoir √† quoi s'attendre d'un service pour voir s'il convient √† une utilisation. Par exemple, les personnes qui souhaitent utiliser un site Web de partage de photos peuvent vouloir √©viter d'utiliser un service qui promet la durabilit√© et un faible co√ªt en √©change d'une disponibilit√© l√©g√®rement inf√©rieure, bien que le m√™me service puisse √™tre id√©al pour un syst√®me de gestion d'enregistrement d'archives. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour d√©finir des attentes r√©alistes pour vos utilisateurs, utilisez l'une ou les deux tactiques suivantes:</font></font><br><br><ul><li> <b>  .</b>     SLO,   .       ,      .  SLO        ,               . </li><li> <b>   .</b>    ,   ,     .       ,   SLO,      .     ,         . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comprendre dans quelle mesure le syst√®me r√©pond aux attentes permet de d√©cider d'acc√©l√©rer le syst√®me et de le rendre plus accessible et plus stable. </font><font style="vertical-align: inherit;">Alternativement, si le service fonctionne trop bien, une partie du temps du personnel devrait √™tre consacr√©e √† d'autres priorit√©s, telles que le remboursement de la dette technique, l'ajout de nouvelles fonctionnalit√©s ou la mise en service de nouveaux produits.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ententes de pratique </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La cr√©ation d'un SLA n√©cessite que les √©quipes commerciales et juridiques d√©terminent les cons√©quences et les sanctions en cas de violation. </font><font style="vertical-align: inherit;">Le r√¥le du SRE est de les aider √† comprendre les difficult√©s probables avec l'ex√©cution des SLO contenus dans les SLA. </font><font style="vertical-align: inherit;">La plupart des directives SLO s'appliquent √©galement aux SLA. </font><font style="vertical-align: inherit;">Il est conseill√© d'√™tre prudent dans ce que vous promettez √† vos utilisateurs, car plus ils sont nombreux, plus il est difficile de modifier ou de supprimer des SLA qui semblent d√©raisonnables ou difficiles √† mettre en ≈ìuvre. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Merci d'avoir lu la traduction jusqu'au bout. </font><font style="vertical-align: inherit;">Abonnez-vous √† ma cha√Æne de t√©l√©gramme sur la surveillance de </font></font><a href="https://t.me/monitorim_it" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">monitorim_it</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et le </font></font><a href="https://medium.com/%40antonkasimov" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blog sur le Medium</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr484578/">https://habr.com/ru/post/fr484578/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr484556/index.html">Alors, quand est-il encore possible d'utiliser! Important?</a></li>
<li><a href="../fr484564/index.html">Nous √©crivons un pilote pour un ordinateur portable pour le plaisir et le profit, ou comment s'engager dans le noyau m√™me si vous √™tes un imb√©cile</a></li>
<li><a href="../fr484568/index.html">Hack The Box - Walkthrough Player. FFmpeg exploit, JWT et diverses listes Web</a></li>
<li><a href="../fr484572/index.html">Mon approche de gestion du temps / des t√¢ches avec VSCode</a></li>
<li><a href="../fr484574/index.html">Pas de tiques! Plantes vs vecteur de la maladie de Lyme</a></li>
<li><a href="../fr484580/index.html">Ce que vous devez savoir sur les simulateurs de m√©moire</a></li>
<li><a href="../fr484582/index.html">ASP.NET MVC - Entity Framework, MySQL et utilisation de Dependency Resolver pour s√©lectionner un r√©f√©rentiel</a></li>
<li><a href="../fr484584/index.html">Pourquoi avons-nous besoin d'un gestionnaire dans un projet informatique et que se passera-t-il lorsqu'il ne l'est pas</a></li>
<li><a href="../fr484586/index.html">Travailler avec IPv6 en PHP</a></li>
<li><a href="../fr484588/index.html">Mod√®le de gestion de programme automatis√©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>