<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥌 🌉 👨‍🍳 Keamanan meninggalkan Anda 🏷️ 🛤️ ⏰</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya menghadiri pertemuan Kelompok Kerja Anti-Penyalahgunaan Pesan, Perangkat Lunak Jahat dan Malware (m3aawg.org) di Brooklyn, New York. Saya menghar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Keamanan meninggalkan Anda</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/427171/"><p>  Saya menghadiri pertemuan Kelompok Kerja Anti-Penyalahgunaan Pesan, Perangkat Lunak Jahat dan Malware (m3aawg.org) di Brooklyn, New York.  Saya mengharapkan cuaca yang lebih baik untuk berkeliaran di sekitar kota, menikmati konferensi, dan berbagai pilihan makanan di daerah tersebut.  Saya sangat yakin akan kejernihan langit sehingga saya bahkan tidak membawa apa pun dari hujan.  Dan hujan turun sepanjang minggu.  Ini memaksa saya untuk tinggal di kamar hotel saya dengan WiFi gratis dan laptop kerja saya.  Saya memutuskan untuk menghabiskan waktu ini meneliti Node.js dan paket terkaitnya tersedia di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://www.npmjs.com</a> . </p><br><p>  Ada ribuan paket dari pengguna yang tersedia untuk diunduh dan dipasang di proyek Anda.  Saya mencari NPM untuk nama-nama paket populer seperti file, cadangan, unduh, atau unggah.  Pencarian terakhir menunjukkan kepada saya sebuah proyek bernama <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">upload file jQuery</a> dari Blueimp.  Uraiannya tampak cukup menarik untuk diunduh dan dijelajahi. </p><a name="habracut"></a><br><blockquote>  Widget unggah file untuk jQuery, dengan dukungan untuk banyak pemilihan file, seret &amp; lepas, indikator progres, validasi, dan pratinjau gambar, audio dan video.  Ini mendukung permintaan lintas-domain, mekanisme unggah file parsial dan terbarukan dengan mengubah ukuran gambar di sisi klien.  Ia berfungsi di semua platform server (PHP, Python, Ruby on Rails, Java, Node.js, Go, dll.), Yang mendukung pengunggahan file standar melalui formulir HTML. </blockquote><p>  Saya mulai melihat kode sumber paket dan fokus pada beberapa file PHP di direktori server / php.  File-file itu disebut upload.php dan UploadHandler.php.  upload.php disebut UploadHandler.php, di mana kode unggah file utama berada.  Saya juga memperhatikan bahwa file diunggah ke direktori file / di root dari server web.  Saya menulis perintah sederhana dengan curl dan skrip PHP primitif yang mengonfirmasi kepada saya bahwa saya dapat mengunggah file ke server dan kemudian menggunakannya untuk menjalankan perintah di server. </p><br><pre><code class="bash hljs">$ curl -F <span class="hljs-string"><span class="hljs-string">"files=@shell.php"</span></span> http://example.com/jQuery-File-Upload-9.22.0/server/php/index.php</code> </pre> <br><p>  Di mana file shell.php berisi: </p><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $cmd=$_GET[<span class="hljs-string"><span class="hljs-string">'cmd'</span></span>]; system($cmd);<span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> <br><p>  Membuka halaman di browser dengan parameter cmd = id dari server uji mengembalikan id pengguna yang darinya proses server diluncurkan.  Saya berasumsi bahwa kerentanan ini tidak luput dari perhatian dan pencarian Google cepat mengkonfirmasi kepada saya bahwa proyek lain yang menggunakan kode ini atau turunannya ternyata rentan.  Ada juga beberapa video yang menunjukkan cara menyerang paket perangkat lunak yang serupa. </p><br><p>  Saya memberi tahu penulis tentang Upload File jQuery dan mulai mendokumentasikan apa yang saya temukan untuk menetapkan nomor CVE.  Segera keesokan harinya, seorang penulis yang agak malu menjawab saya, meminta lebih banyak informasi, karena ia tidak dapat mereproduksi kerentanan di lingkungan pengujiannya. </p><br><p>  Setelah membandingkan konfigurasi pengujian kami melalui email, kami menemukan bahwa pengembang Apache telah mematikan dukungan untuk file .htaccess sejak versi 2.3.9.  Ternyata ini dilakukan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://">untuk meningkatkan kinerja</a> , sehingga server tidak perlu memeriksa file ini setiap kali mengakses direktori yang sesuai.  Selain itu, perubahan ini juga dibuat untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://">mencegah pengguna mengesampingkan pengaturan keamanan</a> yang dikonfigurasi di server. </p><br><p>  Dengan demikian, Apache memiliki niat baik ketika menonaktifkan .htaccess, tetapi perubahan mereka juga membuat beberapa pengembang dan proyek mereka dalam bahaya, khususnya jika mereka mengandalkan pengaturan keamanan yang dibuat dalam .htaccess. </p><br><p>  Dalam kasus perpustakaan ini, untuk menangani situasi ini dengan benar dan memperbaiki kerentanan unggah file CVE-2018-9206, pengembang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengubah kode sehingga</a> hanya dapat mengunduh file gambar. </p><br><h3 id="eta-problema-bolshe-chem-odnogo-proekta">  Masalah ini lebih dari satu proyek. </h3><br><p>  Penting juga dicatat di sini bahwa karena perubahan di Apache, beberapa dari 7.800 proyek yang tersisa mungkin rentan terhadap masalah pengunggahan file. </p><br><p><img src="https://habrastorage.org/webt/-g/ki/4d/-gki4dbjtpslaemnlr0axoqhc48.png"></p><br><p>  Sebagian besar dari garpu ini masih membawa kerentanan asli dalam kode mereka.  Dalam beberapa kasus, kerentanan tetap ada bahkan setelah pengembang mengedit kode asli dari Blueimp untuk menanamkannya di proyeknya, sehingga proyek-proyek masih rentan terhadap contoh serangan saya dengan sedikit variasi. </p><br><p>  Ini berarti bahwa jika salah satu dari proyek ini digunakan dalam produksi, maka itu terkena kerentanan mengunduh file dengan eksekusi selanjutnya.  Membuka peluang untuk mencuri data dari aplikasi, menyuntikkan malware, deface, dan peluang lain untuk membahayakan. </p><br><p>  Sayangnya, tidak ada cara untuk menentukan dengan tepat berapa banyak proyek yang bercabang dari Upload File jQuery asli masih aktif didukung dan menerapkan perubahan yang dibuat dalam proyek utama.  Juga tidak mungkin untuk menentukan dengan tepat di mana proyek bercabang digunakan dalam produksi, jika ada.  Selain itu, versi proyek yang lebih lama juga rentan terhadap masalah dengan mengunduh file, hingga 2010. </p><br><h3 id="zaklyuchenie">  Kesimpulan </h3><br><p>  Internet mengandalkan banyak mekanisme keamanan untuk menjaga sistem, data, dan transaksi kami aman dan terlindungi.  Jika salah satu dari mekanisme ini tiba-tiba menghilang, ini dapat membahayakan keselamatan pengguna dan pengembang yang bergantung padanya. </p><br><p>  Merupakan ide bagus bagi pengembang untuk melihat perubahan dalam sistem dan pustaka yang menjadi basis proyek mereka.  Dalam artikel ini, mekanisme keamanan yang dihapus Apache tidak hanya memengaruhi unggahan file Bluequ's Jquery, tetapi semua garpu dan cabangnya.  Kerentanan memengaruhi banyak proyek yang bergantung padanya, mulai dari aplikasi web yang berdiri sendiri hingga plugin untuk WordPress dan CMS lainnya. </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Laporan bug asli</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Rekam CVE-2018-9206</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel ZDNet</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id427171/">https://habr.com/ru/post/id427171/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id427155/index.html">Southampton Filter Bus - Langkah Pertama Untuk Membersihkan Kota</a></li>
<li><a href="../id427159/index.html">Kami mengumpulkan log firewall Mikrotik dalam database</a></li>
<li><a href="../id427163/index.html">Bahan baru akan membantu membuat pembangkit listrik tenaga surya termal lebih efisien</a></li>
<li><a href="../id427165/index.html">Bagaimana mengembangkan tes integrasi untuk Atlassian Jira Server (jira-func-test-plugin)</a></li>
<li><a href="../id427169/index.html">Tesla dengan tenang menghapus opsi autopilot penuh</a></li>
<li><a href="../id427173/index.html">Apakah telepon lebih murah daripada gratis?</a></li>
<li><a href="../id427175/index.html">Sinar matahari. Atau bagaimana jika Anda adalah tanaman di jiwa Anda</a></li>
<li><a href="../id427177/index.html">Bakung yang mementingkan diri sendiri lebih rendah produktivitasnya daripada pemimpin yang rendah hati</a></li>
<li><a href="../id427179/index.html">Palm dilahirkan kembali dari abu dengan gadget baru</a></li>
<li><a href="../id427181/index.html">Bagaimana pendekatan pengembangan fullstack hari ini jika Anda tidur sepuluh tahun</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>