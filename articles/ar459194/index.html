<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☠️ 🤚 ‼️ كيف جعلنا أصدقاء SCSS مع متغيرات CSS باستخدام سمة UI Kit 🏤 ⛏️ 🗞️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="مرحباً بالجميع ، اسمي Vitalik ، أنا مطور متقدم في Skyeng. يقوم فريقنا بصنع منصة Vimbox عبر الإنترنت لتعلم اللغة الإنجليزية. منذ عام تقريبًا ، أكملت ال...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>كيف جعلنا أصدقاء SCSS مع متغيرات CSS باستخدام سمة UI Kit</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skyeng/blog/459194/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/oi/po/52/oipo52u8qx1dzdbb6_legfj8yry.png"></p><br><p style=";text-align:right;direction:rtl">  مرحباً بالجميع ، اسمي Vitalik ، أنا مطور متقدم في Skyeng.  يقوم فريقنا بصنع منصة Vimbox عبر الإنترنت لتعلم اللغة الإنجليزية.  منذ عام تقريبًا ، أكملت المصمم مجموعة أدوات واجهة المستخدم الصغيرة التي اقتلعت الفوضى في الواجهة وقاعدة الكود. </p><br><p style=";text-align:right;direction:rtl">  اتضح أننا لم نكن الوحيدين في الشركة الذين أرادوا مجموعة أدوات واجهة المستخدم ، وبدأت الفرق الأخرى في القدوم إلينا للحصول على المشورة "كيفية الكتابة الخاصة بك".  لقد نجحنا في ثنيهم عن هذا المشروع ، ووعدنا بتهدئة نفوسنا - فقد وفر ذلك للشركة مئات الساعات من التطوير.  عند اختيار الحل ، نظرنا إلى Angular Material والتجمعات المخصصة ومتغيرات CSS واستقرنا في النهاية على الأخير ، على الرغم من توافقها الضعيف مع SCSS ، وهو أساس مجموعة UI الحالية.  تحت خفض - تفاصيل ما فعلناه. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/gk/8z/l1/gk8zl1zag84vblcv-eqoccx3x2u.png"></p><br><h2 id="problema" style=";text-align:right;direction:rtl">  المشكلة </h2><br><p style=";text-align:right;direction:rtl">  تتألف مجموعة UI الأولى من خطوط ولوحة ومجموعة من العناصر لإنشاء نماذج (إدخال ، زر ، وما إلى ذلك) ، ونظام لإدارة الرموز svg.  كما تم تنفيذ المنبثقة وتلميح الأدوات على أساس المواد الزاوي.  تم حبسها للعمل فقط مع جهاز <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Vimbox</a> "الكلاسيكي": تم خياطة أشياء كثيرة بإحكام ولم تسمح بإجراء تغييرات من الخارج.  وبدأت Skyeng في الحصول على منتجات جديدة على نفس المنصة ، على سبيل المثال ، للأطفال. </p><br><p style=";text-align:right;direction:rtl">  مطورو الاتجاهات الجديدة ، مع العلم أن لدينا شيء ، جاءوا للحصول على المشورة.  علاوة على ذلك ، لمفاجأتنا أنهم أتوا بالفعل بمخططات مجموعات واجهة المستخدم الخاصة بهم: لقد كانوا في طريقهم إلى تطوير حلولهم من البداية ، لأن  كانوا بحاجة إلى نظرة مختلفة عن المكونات.  كان من الواضح أن هناك شيئًا ما يحدث بشكل جيد ، واقترحنا تحسين مكتبتنا ، مع إضافة إمكانية استخدامه. </p><br><p style=";text-align:right;direction:rtl">  كانت الحجة بسيطة: لقد استغرق تصميم طقم UI 200 ساعة من تصميم UX وأكثر من 500 ساعة من التطوير.  هذا هو الوقت اللازم لإنشاء نظام من الخطوط والألوان وحوالي 10 مكونات أساسية.  وفقًا لذلك ، إذا كنت تكتب مكتبة منفصلة لكل منتج ، فستقضي الشركة N * 500 ساعة من وقت التطوير.  لقد اعتقدنا أن تحسين مجموعة أدوات واجهة المستخدم الخاصة بنا سيكون أرخص ، بالإضافة إلى أن هذه الخطوة لن تتكرر لكل منتج. </p><br><p style=";text-align:right;direction:rtl">  تم قبول حججنا ، ووافقت المجالات ذات الصلة على الانتظار ، وانطلقنا للبحث عن حل تقني. </p><br><h2 id="ishodnye-dannye" style=";text-align:right;direction:rtl">  مصدر البيانات </h2><br><p style=";text-align:right;direction:rtl">  أدواتنا: الزاوي ، SCSS. </p><br><p style=";text-align:right;direction:rtl">  نحن ندعم المتصفحات الحديثة فقط ، مع بعض القيود ، IE11.  مما يجعل الحياة أسهل. </p><br><p style=";text-align:right;direction:rtl"> تم تشبع جميع مكونات مجموعة أدوات واجهة المستخدم الخاصة بنا بأساليب شائعة قمنا <code>UI kit.var.scss</code> في <code>UI kit.var.scss</code> باعتبارها ثوابت <code>UI kit.var.scss</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@mixin fontSizeXl { @include fontSize(<span class="hljs-number"><span class="hljs-number">18</span></span>px, <span class="hljs-number"><span class="hljs-number">26</span></span>px); } $colorSkillListening: #<span class="hljs-number"><span class="hljs-number">9679e0</span></span>; $colorSkillListeningText: #<span class="hljs-number"><span class="hljs-number">7754</span></span>d1; $colorSkillListeningBackground: mix($colorSkillListening, #ffffff, <span class="hljs-number"><span class="hljs-number">16</span></span>%); $colorSkillListeningBackgroundHover: mix($colorSkillListening, #ffffff, <span class="hljs-number"><span class="hljs-number">8</span></span>%);</code> </pre> <br><h2 id="zadacha" style=";text-align:right;direction:rtl">  مهمة </h2><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  يتم تجميع جميع المنتجات الجديدة من العناصر الموجودة الموجودة في Vimbox "للبالغين" - الفصول الدراسية والحسابات الشخصية ، إلخ. </li><li style=";text-align:right;direction:rtl">  يجب أن يتمتع المصممون بحرية واسعة في تنفيذ الأفكار الإبداعية والسمات المميزة والمتطلبات المحددة للمنتجات الجديدة. </li><li style=";text-align:right;direction:rtl">  في الوقت نفسه ، تبقى الاستمرارية ، أي  بغض النظر عن كيفية اختراع الألوان الحمضية والخطوط المجنونة ، يظل الانتماء لنتائج عمله إلى النظام البيئي Skyeng واضحًا. </li><li style=";text-align:right;direction:rtl">  تتم إضافة كل هذا إلى مجموعة واجهة المستخدم الحالية ، مع الحفاظ على جميع مزاياها. </li></ul><br><h2 id="poehali" style=";text-align:right;direction:rtl">  دعنا نذهب! </h2><br><p style=";text-align:right;direction:rtl">  لذا ، فإن النتيجة المتوقعة منا أمس ، يجب أن نجري مراجعات تقنية بسرعة ومناقشة الخيارات.  في الاجتماعات الأولى ، حددنا دائرة من الحلول الممكنة: </p><br><h4 id="angular-material" style=";text-align:right;direction:rtl">  المواد الزاوي </h4><br><p style=";text-align:right;direction:rtl">  لا نرغب في كتابة الدراجات ، لذلك انتقلنا أولاً إلى Angular Material.  في المكونات ، يتم نقل الأنماط الديناميكية إلى ملف منفصل <code>{component}-theme.scss</code> .  ترتبط هذه الأنماط بالمحدد العام للمكون. </p><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  الايجابيات </th><th>  سلبيات </th></tr></thead><tbody><tr><td>  لا حاجة لإضافة تقنيات جديدة للمشروع </td><td>  بحاجة إلى إجراء تغييرات على كل مكون </td></tr><tr><td></td><td>  أكبر قدر من العمل </td></tr><tr><td></td><td>  تضطر إلى التضحية نمط التغليف </td></tr></tbody></table></div><br><h4 id="css-variables" style=";text-align:right;direction:rtl">  متغيرات CSS </h4><br><p style=";text-align:right;direction:rtl">  لدينا سبب كبير لتجربة متغيرات CSS العصرية.  وتتمثل الخطة في زرع الأجزاء المخصصة لمجموعة أدوات واجهة المستخدم إلى متغيرات CSS.  تستخدم المكونات ثوابت SCSS نفسها ، ولكن بدلاً من القيم المحددة ، تُكتب فرس CSS فيها. </p><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  الايجابيات </th><th>  سلبيات </th></tr></thead><tbody><tr><td>  تمتلك النطاق </td><td>  يجب أن تضيف polyfill ل IE </td></tr><tr><td>  تقنية المتصفح الأصلي (باستثناء IE) </td><td>  لن نتمكن من استخدام وظائف SCSS </td></tr><tr><td>  يفتح إمكانية استخدام فرس CSS في مهام أخرى </td><td></td></tr></tbody></table></div><br><h4 id="kastomizirovannye-sborki" style=";text-align:right;direction:rtl">  يبني العرف </h4><br><p style=";text-align:right;direction:rtl">  نحن نحب حلول بسيطة ، لماذا لا نحاول تغيير التجميع؟  ينشئ كل فريق ملفه الخاص مع إعدادات السمة.  عند التجميع لجميع السمات المخصصة ، يتم إنشاء حزم منفصلة مع النسق الخاص بها. </p><br><div class="scrollable-table" style=";text-align:right;direction:rtl"><table style=";text-align:right;direction:rtl"><thead><tr><th>  الايجابيات </th><th>  سلبيات </th></tr></thead><tbody><tr><td>  لا حاجة لتغيير رمز المكتبة </td><td>  تكوين التجمع مكتبة أكثر تعقيدا </td></tr><tr><td></td><td>  مضاعفات نشر المكتبة </td></tr><tr><td></td><td>  إجراء تغييرات ، تحتاج إلى إعادة تجميع القطع الأثرية لجميع المشاريع </td></tr><tr><td></td><td>  لا توجد إمكانية تبديل السمات "الديناميكية".  سيكون من الصعب إضافة الوضع الليلي </td></tr></tbody></table></div><br><h4 id="reshenie" style=";text-align:right;direction:rtl">  قرار </h4><br><p style=";text-align:right;direction:rtl">  لمدة أسبوع درسنا كل خيار ، وناقشنا ، وأرجأنا القرار ، ودرسنا مرة أخرى. </p><br><p style=";text-align:right;direction:rtl">  نحن نحب التقنيات الجديدة ونراقبها ، لكن لا ننفذها إلا إذا منحونا مكافآت حقيقية.  كنا على دراية بمتغيرات CSS ، أردنا تجربتها ، لكن نقص وظائف SCSS تسبب في الكثير من الحزن.  ومع ذلك ، كانت مزايا هذا الخيار واضحة ، فقد قررنا معرفة كيف وماهية وظائف SCSS التي نستخدمها ، ما إذا كان من الممكن تكوين صداقات مع vars CSS. </p><br><h2 id="razbiraemsya-s-problemami-css-vs-scss" style=";text-align:right;direction:rtl">  فهم المغلق ضد SCSS </h2><br><p style=";text-align:right;direction:rtl">  بعد أن جربنا ذلك ، أدركنا أن المشكلة الرئيسية هي عدم وجود دعم لـ # hex في CSS: في <code>rgba(#ffffff, 0.4)</code> نكتب <code>rgba(#ffffff, 0.4)</code> ، وفي CSS نفس الشيء يتطلب مجموعة مختلفة من المعلمات - <code>rgba(255, 255, 255, 0.4)</code> .  كل شيء يناسبنا مع # hex ، ونحن في الحقيقة ، لا نريد تغيير هذا.  لقد وجدنا حلولاً ، سأقول بترتيب القبول. </p><br><h4 id="lighten--darken" style=";text-align:right;direction:rtl">  تفتيح وتغميق </h4><br><p style=";text-align:right;direction:rtl">  جاء مصممنا بلوحة تتألف من عدد صغير من الألوان الأساسية ، تتوسع نظرًا لوظائف SCSS المظلمة <code>darken</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// $color –   base: $color, background: mix($color, #ffffff, 16%), backgroundHover: mix($color, #ffffff, 8%), hover: lighten($color, 5), focused: darken($color, 5), ...more transformations...</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  لقد حاولنا العثور على تناظرية <code>lighten</code> <code>darken</code> في CSS ، لكن لم نجد شيئًا.  لقد فكرنا لعدة أيام حتى أدركنا أنه من أجل التخصيص ، نحتاج إلى التخلص من هذه الوظائف داخل المكتبة ، وإخراجها.  بعد كل شيء ، قد يرغب كل فريق في الخروج بصيغته الخاصة لتغيير اللون عند تغيير التركيز - على سبيل المثال ، يحتاج الزملاء من الأطفال إلى مزيد من التباين. </p><br><p style=";text-align:right;direction:rtl">  كان الحل البسيط هو تحويل تحولاتنا إلى جانب المنصة التي ستقوم بتهيئة الموضوع.  وبالنسبة للنظام الأساسي ، نكتب وظيفة تقوم تلقائيًا بإنشاء القيم اللازمة: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMainColors</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$color, $colorText</span></span></span><span class="hljs-function">) </span></span>{ $colors: ( text: $colorText, <span class="hljs-attr"><span class="hljs-attr">base</span></span>: $color, <span class="hljs-attr"><span class="hljs-attr">background</span></span>: mix($color, #ffffff, <span class="hljs-number"><span class="hljs-number">16</span></span>%), <span class="hljs-attr"><span class="hljs-attr">backgroundHover</span></span>: mix($color, #ffffff, <span class="hljs-number"><span class="hljs-number">8</span></span>%), <span class="hljs-attr"><span class="hljs-attr">lightenLess</span></span>: lighten($color, <span class="hljs-number"><span class="hljs-number">5</span></span>), <span class="hljs-attr"><span class="hljs-attr">darkenLess</span></span>: darken($color, <span class="hljs-number"><span class="hljs-number">5</span></span>), <span class="hljs-attr"><span class="hljs-attr">lightenMore</span></span>: lighten($color, <span class="hljs-number"><span class="hljs-number">20</span></span>), ); @<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $colors; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  النظام الأساسي يستخدمه عند تهيئة الألوان: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//platform $colorValues: ( brand: getMainColors(#5d9cec, #4287df), positive: getMainColors(#8cc152, #55a900), accent: getMainColors(#ff3d6f, #ff255d), wrong: getMainColors(#ff6666, #fe4f44), )</span></span></code> </pre> <br><h2 id="rgba" style=";text-align:right;direction:rtl">  RGBA </h2><br><p style=";text-align:right;direction:rtl">  في مجموعة واجهة المستخدم الخاصة بنا ، نستخدم وظيفة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://www.google.com/url%3Fq%3D"><code>rgba</code></a> .  مع ذلك ، نقوم بضبط شفافية الألوان الأساسية.  ولكن إذا كان rgba يعمل مع # hex في SCSS ، فلن يتمكن CSS من ذلك.  اضطررت إلى كتابة دالة تقوم بتحليل قيمة # hex إلى r / g / b: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// returns `r, g, b` from `#hex` for `rgba(var(--smth))` usage @function rgbValuesFromHex($hex) { @return red($hex), green($hex), blue($hex); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  حسنًا ، نظرًا لأننا لا نريد إنشاء قيم RGB بمقابض للوحة بأكملها ، فإننا نقوم بإنشاء وظيفة منفصلة تقوم بذلك بشكل متكرر لكل لون في المجموعة: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// adds `fieldRgb: r, g, b` fields to map for each `field: #hex` for `rgba(var(--smth-rgb))` usage @function withRgbValues($map) { $rgbValues: (); @each $name, $value in $map { $formattedValue: (); @if type-of($value) == 'map' { $rgbValues: map-merge($rgbValues, (#{$name}: withRgbValues($value))); } @else { //   , rgb    Rgb   $rgbValues: map-merge($rgbValues, (#{$name}Rgb: rgbValuesFromHex($value))); } } @return map-merge($map, $rgbValues); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  نتيجة لذلك ، فإن تهيئة اللوحة مع قيم RGB التي تم إنشاؤها تبدو كما يلي: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">$colorValues: withRgbValues( ( text: ( base: #<span class="hljs-number"><span class="hljs-number">242</span></span>d34, <span class="hljs-attr"><span class="hljs-attr">secondary</span></span>: #<span class="hljs-number"><span class="hljs-number">50575</span></span>c, <span class="hljs-attr"><span class="hljs-attr">label</span></span>: #<span class="hljs-number"><span class="hljs-number">73797</span></span>d, <span class="hljs-attr"><span class="hljs-attr">placeholder</span></span>: #<span class="hljs-number"><span class="hljs-number">969</span></span>b9e, <span class="hljs-attr"><span class="hljs-attr">inversed</span></span>: #ffffff, <span class="hljs-attr"><span class="hljs-attr">inversedSecondary</span></span>: #dadada, ), <span class="hljs-attr"><span class="hljs-attr">brand</span></span>: getMainColors(#<span class="hljs-number"><span class="hljs-number">5</span></span>d9cec, #<span class="hljs-number"><span class="hljs-number">4287</span></span>df), <span class="hljs-attr"><span class="hljs-attr">positive</span></span>: getMainColors(#<span class="hljs-number"><span class="hljs-number">8</span></span>cc152, #<span class="hljs-number"><span class="hljs-number">55</span></span>a900), <span class="hljs-attr"><span class="hljs-attr">accent</span></span>: getMainColors(#ff3d6f, #ff255d), <span class="hljs-attr"><span class="hljs-attr">wrong</span></span>: getMainColors(#ff6666, #fe4f44), <span class="hljs-comment"><span class="hljs-comment">//...etc</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  الإخراج هو خريطة ألوان SCSS ، والتي يمكن بعد ذلك تحويلها إلى طريقة تحولها إلى متغيرات CSS.  من أجل الحصول على القيمة من سمة RGB ، كتبنا دالة: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUiKitRgbVar</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$path...</span></span></span><span class="hljs-function">) </span></span>{ $path: set-nth($path, <span class="hljs-number"><span class="hljs-number">-1</span></span>, #{nth($path, <span class="hljs-number"><span class="hljs-number">-1</span></span>)}Rgb); <span class="hljs-comment"><span class="hljs-comment">//       @return getFromMap($uiKitBaseVars, $path...); } //  border-color: rgba(getUiKitRgbVar(color, brand, base), $opacity64);</span></span></code> </pre> <br><h2 id="prevraschaem-scss-const-v-css-vars" style=";text-align:right;direction:rtl">  تحويل SCSS const إلى VSS CSS </h2><br><p style=";text-align:right;direction:rtl">  تتمثل الخطوة الأولى في إنشاء بنية متطابقة (على غرار SCSS) تخزن أسماء متغيرات CSS: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">$colorCssVars: withRgbCssVars( ( text: ( base: getColorCssVar(text, base), <span class="hljs-attr"><span class="hljs-attr">secondary</span></span>: getColorCssVar(text, secondary), <span class="hljs-attr"><span class="hljs-attr">label</span></span>: getColorCssVar(text, label), <span class="hljs-attr"><span class="hljs-attr">placeholder</span></span>: getColorCssVar(text, placeholder), <span class="hljs-attr"><span class="hljs-attr">inversed</span></span>: getColorCssVar(text, inversed), <span class="hljs-comment"><span class="hljs-comment">//  </span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  <code>getColorCssVar</code> - طريقة تضيف البادئات إلى أسماء المتغيرات.  أضف بادئة <code>--sky</code> لتجنب الاصطدامات مع المكتبات الخارجية.  وأيضًا إضافة بادئة مكتبة <code>- UI kit</code> إلى <code>--sky</code> لتجنب التعارضات مع المكتبات الداخلية.  اتضح - <code>--sky- UI kit</code> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">@<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getColorCssVar</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$parts...</span></span></span><span class="hljs-function">) </span></span>{ @<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> getUiKitCssVar(color, $parts...); } @<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUiKitCssVar</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$parts...</span></span></span><span class="hljs-function">) </span></span>{ $uiKitCssVarPrefix: <span class="hljs-string"><span class="hljs-string">'--sky- UI kit'</span></span>; $cssVar: $uiKitCssVarPrefix; @each $part <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> $parts { <span class="hljs-attr"><span class="hljs-attr">$cssVar</span></span>: $cssVar + <span class="hljs-string"><span class="hljs-string">'-'</span></span> + $part; } @<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $cssVar; }</code> </pre> <br><p style=";text-align:right;direction:rtl">  على سبيل المثال ، بالنسبة إلى <code>getColorCssVar(text, base)</code> نحصل على <code>--sky- UI kit-color-text-base</code> في الإخراج. </p><br><p style=";text-align:right;direction:rtl">  اللمسة الأخيرة عبارة عن مزيج متكرر يعمل على تهيئة القيم من بنية SCSS إلى المتغيرات بأسماء من بنية CSS Var: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//       :root { @include uiKitThemeCssVars($uiKitDefaultTheme); //uiKitDefaultTheme – SCSS       } @mixin uiKitThemeCssVars($theme) { $cssVarsList: createVarsList($theme, $uiKitBaseCssVars); //18+,    Map  List, $uiKitBaseCssVars   css  @each $cssVar, $value in $cssVarsList { #{$cssVar}: $value; } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  مثال على استخدام سمة على النظام الأساسي: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">.popup { font-family: getUiKitVar(font, family); background-color: getUiKitVar(color, background, base); ... }</code> </pre> <br><h2 id="chto-v-itoge" style=";text-align:right;direction:rtl">  ما هي النتيجة </h2><br><p style=";text-align:right;direction:rtl">  تمكنا من استخدام متغيرات CSS ، مع الحفاظ على القدرة على استخدام وظائف SCSS.  خلق القدرة على تخصيص مظهر المكونات.  لقد كتبنا عدة طرق متكررة لأتمتة تمديد الموضوع.  حسنًا والأهم من ذلك - أنفق 30 ساعة من التطوير بدلاً من 500 *. </p><br><p style=";text-align:right;direction:rtl">  الربح! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar459194/">https://habr.com/ru/post/ar459194/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar459176/index.html">امدادات الطاقة عالية الجهد مستقرة ل PMT</a></li>
<li><a href="../ar459180/index.html">TheOutloud - صوت وتبادل المقالات والقصص المفضلة لديك. الجزء 2</a></li>
<li><a href="../ar459182/index.html">GitLab: مع إصدار الإصدار 12.1 ، نتوقف عن دعم MySQL</a></li>
<li><a href="../ar459184/index.html">مهارات الوحدة الأساسية</a></li>
<li><a href="../ar459188/index.html">دبيان 10 باستر ولينكس 5.2 أطلق سراحه</a></li>
<li><a href="../ar459196/index.html">من متراصة إلى فرق وحدات</a></li>
<li><a href="../ar459198/index.html">تحليل أداء الاستعلام في ClickHouse. تقرير ياندكس</a></li>
<li><a href="../ar459204/index.html">10 ++ طرق للعمل مع سجلات الأجهزة في C ++ (على سبيل المثال ، IAR و Cortex M)</a></li>
<li><a href="../ar459206/index.html">9 سنوات في متراصة في Node.JS</a></li>
<li><a href="../ar459208/index.html">الجري باستخدام الأطراف الاصطناعية: محاكاة Nekstgen للحركة البشرية باستخدام العضلات والعظام والشبكة العصبية</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>