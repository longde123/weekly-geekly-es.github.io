<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔬 👨‍👩‍👦‍👦 👨🏿‍💼 JDK 12 Release Candidate: Shenandoah, G1, JMH, Arm64. Bugs in Swing schlagen zurück 👩🏾‍🌾 👋🏻 ✴️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="240 Tage sind seit der Veröffentlichung von JEP 3: JDK Release Process vergangen, und die Höllenmaschine für die Produktion neuer Versionen will nicht...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JDK 12 Release Candidate: Shenandoah, G1, JMH, Arm64. Bugs in Swing schlagen zurück</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/440314/"><p>  240 Tage sind seit der Veröffentlichung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JEP 3: JDK Release Process</a> vergangen, und die Höllenmaschine für die Produktion neuer Versionen will nicht aufhören.  Es ist also Zeit für <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den nächsten Release-Kandidaten</a> .  Dies ist der Zeitraum, in dem alle Brücken gebrannt sind, Fehler mit P2-P5-Prioritäten bereits nichts bedeuten und die Tage bis zur Veröffentlichung nummeriert sind. </p><br><p><img src="https://habrastorage.org/webt/rm/ls/lc/rmlslczx_0wk26jxxrrs85wt380.png"></p><a name="habracut"></a><br><h1 id="bagi">  Bugs </h1><br><p>  Nicht alle Fehler mit der Priorität P1 sind geschlossen.  Sie können die vollständige Liste der Probleme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">im Bugtracker sehen</a> .  Und hier erwartet uns das Seltsamste: Alle beziehen sich bei der Verwendung von GTKLookAndFeel ausschließlich auf Swing. </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JSlider-Anzeigeproblem mit Schieberegler für GTKLookAndFeel</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JScrollBar-Anzeigeproblem mit GTKLookAndFeel</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JProgressBar-Anzeigeproblem mit GTKLookAndFeel</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JOptionPane-Anzeigeproblem mit GTKLookAndFeel</a> ; </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JTextPane-Anzeigeproblem mit GTKLookAndFeel</a> . </li></ul><br><p>  Schon mental gesagt: "Aber was ist los mit diesen Jungs in Swing?"  Diesmal sind sie nicht „schuld“.  Wenn jemand es nicht weiß, ist Gtk ein kostenloses Toolkit zum Entwickeln grafischer Benutzeroberflächen, insbesondere unter dem GNU / Linux-Betriebssystem für X11 und Wayland. </p><br><p>  Ab Gtk 3.20 hat sich die Arbeitsweise mit vielen Stilen und Widgets <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">geändert</a> .  Anstelle von Stilklassen und Typnamen werden jetzt Elementnamen verwendet.  Gtk 3.20 wurde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">am 21. März 2016</a> veröffentlicht und war eine sehr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">umfangreiche</a> Version - standardmäßig 28933 Commits und Wayland.  Im Allgemeinen sah der ganze Gnom etwas anders aus. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/c84/80a/af1/c8480aaf1fd309a44e9290faa2c3b58d.png"></p><br><p>  Kein Wunder, dass Swing etwas vergessen und nicht testen kann.  Ein Teil der Fehler wurde vorrangig auf P2 verschoben und an JDK 13 übertragen. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dieser Fehler über die Tatsache,</a> dass Motif unter MacOS sozusagen weicher ist, ist keine so aktuelle grafische Umgebung mehr: </p><br><p><img src="https://habrastorage.org/webt/dt/a5/0p/dta50prbuqzx19le5beowsqkuy0.png"></p><br><p>  Es wird lustig sein, wenn jemand wirklich noch Motiv und AWT auf Habré verwendet.  Ich hoffe, dass das zwölfte JDK aus diesem Grund nicht abgebrochen wird, da es sonst die epischste Datei in Java in seiner gesamten jungen Neuerscheinungsgeschichte sein wird. </p><br><h1 id="fichi">  Eigenschaften </h1><br><p>  JEPs in dieser Liste werden nicht nach Wichtigkeit, sondern ausschließlich nach Seriennummer aufgelistet.  Dies ist so, dass Sie nicht plötzlich denken, dass Shenanda und JMH aufgrund persönlicher Sympathien aufgestanden sind. </p><br><p>  <strong>189: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Shenandoah: Ein Müllsammler mit geringer Pause (experimentell)</a></strong> </p><br><p>  Es wäre schön, wenn es vor einem Jahr passieren würde und Shenanda in die LTS eintreten würde.  Okay, warte - danke dafür.  Shenandoah ist ein Low-Pit-Sammler, der aufgrund der Multithread-Evakuierungsphase seine Low-Pit erreicht.  Darüber hinaus hängen die Pausen nicht von der Größe der Hüfte ab, sodass Sie die Terabyte-Haufen sicher auf dem Stoß drehen können. </p><br><p>  <strong>230: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Microbenchmark Suite</a></strong> </p><br><p> Dem JDK und JMH selbst wird eine auf JMH basierende Testsuite hinzugefügt.  Liegt in <code>jdk/jdk/test/micro/org/openjdk/bench</code> .  JMH ist ein Framework zum Erstellen, Zusammenstellen, Ausführen und Analysieren von Mikrobenchmarks für Java und andere JVM-Sprachen, die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sie selbst</a> geschrieben haben und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">von wem Sie wissen</a> .  JMH ist heute der De-facto-Standard für Mikro-Benchmarks, und das Auftreten solcher JEPs ist eine Frage der Zeit. </p><br><p>  <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">325: Ausdrücke wechseln (Vorschau)</a></strong> </p><br><p>  Anstelle von tausend Beschreibungen: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> numLetters = <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (day) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> MONDAY, FRIDAY, SUNDAY -&gt; <span class="hljs-number"><span class="hljs-number">6</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> TUESDAY -&gt; <span class="hljs-number"><span class="hljs-number">7</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> THURSDAY, SATURDAY -&gt; <span class="hljs-number"><span class="hljs-number">8</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> WEDNESDAY -&gt; <span class="hljs-number"><span class="hljs-number">9</span></span>; };</code> </pre> <br><p>  <strong>334: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">JVM-Konstanten-API</a></strong> </p><br><p>  Ziel ist es, eine Reihe von Typen für formale Modellierungsbeschreibungen von Klassen, Methoden und anderen Entitäten in Laufzeit und Klassendatei bereitzustellen und diese auf Hauptklassen wie <code>String</code> oder <code>Class</code> .  Sie leben in Paketen wie <code>java.lang.invoke.constant</code> und fragen nicht danach, aber Sie können <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sich</a> den Patch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier ansehen</a> . </p><br><p>  <strong>340: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ein AArch64-Port, nicht zwei</a></strong> </p><br><p>  Der alte arm64-Port wird in der Kälte weggeworfen, aber der 32-Bit-ARM und aarch64 werden aktiv gesägt.  Vielen Dank an RedHat und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">BellSoft</a> für die Existenz dieser Ports (das BellSoft-Büro befindet sich übrigens in St. Petersburg neben dem ehemaligen Oracle-Büro).  Bis zur Veröffentlichung von JDK 12 werden wir versuchen, einen detaillierteren Kommentar von Unternehmensvertretern zu erhalten. </p><br><p>  <strong>341: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Standard-CDS-Archive</a></strong> </p><br><p>  Als Feature stand uns CDS lange Zeit zur Verfügung, aber es war unklar, warum Sie jedes Mal, wenn Sie <code>-Xshare:dump</code> schreiben <code>-Xshare:dump</code> selbst <code>-Xshare:dump</code> , wenn das Standardergebnis dieses Befehls selbst in der Phase der Erstellung der JDK-Distribution leicht vorhersehbar ist.  Dieses lästige Versehen wird in JDK 12 behoben. Das CDS-Archiv wird von den Erstellern der Distribution auch für Nacht-Builds generiert (vorausgesetzt, sie sind 64-Bit und nativ, nicht für die Cross-Kompilierung). </p><br><p>  <strong>344: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Abbruchfähige gemischte Sammlungen für G1</a></strong> </p><br><p>  Diese Funktion wird von den internen Mechanismen des G1-Garbage Collectors benötigt, damit sie häufiger in die Anforderungen für die Dauer der Pause passt.  Es kommt also vor, dass Sie feststellen können, wann G1 die Komplexität der Baugruppe immer wieder falsch bewertet, insbesondere für alte Regionen.  An diesem Punkt können Sie Angst bekommen und schrittweise mit dem Sammeln beginnen und nach jedem Schritt die Montage unterbrechen.  Es wird argumentiert, dass dies eine bessere Anpassung an die erwartete Montagezeit ermöglicht. </p><br><p>  <strong>346: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nicht verwendeten festgeschriebenen Speicher sofort von G1 zurückgeben</a></strong> </p><br><p>  Jetzt gibt G1 den festgeschriebenen Speicher entweder mit vollem GC oder mit paralleler Montage an das Betriebssystem weiter.  Sowohl das als auch ein anderer G1 versuchen auf jede erdenkliche Weise zu vermeiden, wofür dank ihm.  Dies bedeutet aber auch, dass der Speicher wie an sich verschlungen wird und G1 gezwungen werden kann, den Speicher nur auf externe Weise wieder zu löschen.  Dies ist besonders traurig für alle Docker und andere Hipster ohne Terabyte RAM auf dem Server.  Stattdessen wird vorgeschlagen, auf die gleiche Weise vorzugehen, wie Shenanda oder GenCon von OpenJ9 bereits wissen, wie eine unzureichende Nutzung des Heapspeichers festgestellt und seine Verwendung entsprechend reduziert werden kann.  Bei einigen Tests mit Tomcat konnte der Speicherverbrauch dadurch um fast die Hälfte reduziert werden. </p><br><h1 id="chto-dalshe">  Was weiter </h1><br><p>  Dies war eine Top-Down-Überprüfung, und wir werden versuchen, eine detaillierte Analyse der Funktionen, die näher an der Veröffentlichung liegen, in Form von separaten Artikeln vorzunehmen - Übersetzungen von JEPs, Screencasts mit Benchmarks oder etwas anderem.  Jetzt müssen wir auf die Veröffentlichung warten, die für den 19. März geplant ist. </p><br><blockquote>  Minute der Werbung.  Sehr bald, vom 5. bis 6. April, wird die JPoint-Konferenz stattfinden, auf der eine große Anzahl von Menschen zusammenkommen wird, die viel über JDK und alle möglichen neuen Funktionen wissen.  Zum Beispiel wird es sicherlich Simon Ritter aus Azul geben, der einen Vortrag über <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">„JDK 12: Fallstricke für Unvorsichtige“ hält</a> .  Der am besten geeignete Ort, um die neueste Version zu diskutieren!  Weitere Informationen zu JPoint finden Sie auf der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offiziellen Website</a> . </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de440314/">https://habr.com/ru/post/de440314/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de440304/index.html">Interrupts von externen Geräten in einem x86-System. Teil 3. Konfigurieren des Interrupt-Routings im Chipsatz anhand des Coreboot-Beispiels</a></li>
<li><a href="../de440306/index.html">Datenbankskalierung in hoch belasteten Systemen</a></li>
<li><a href="../de440308/index.html">Teilen und erobern oder langsam schreiben - schnell lesen</a></li>
<li><a href="../de440310/index.html">Wie man einer Maschine beibringt, Rechnungen zu verstehen und Daten daraus zu extrahieren</a></li>
<li><a href="../de440312/index.html">Hackquest 2018. Ergebnisse & Zuschreibungen. Tag 4-7</a></li>
<li><a href="../de440316/index.html">Gleichmäßige Verteilung der Punkte in einem Dreieck</a></li>
<li><a href="../de440318/index.html">DSGVO: Wie Sie mit den persönlichen Daten Ihrer Mitarbeiter, Freiberufler und europäischen Kontrahenten arbeiten</a></li>
<li><a href="../de440320/index.html">Als wir im DMRSE Yandex Zähler getaktet haben</a></li>
<li><a href="../de440322/index.html">Warum Festplatten weniger wahrscheinlich ausfallen</a></li>
<li><a href="../de440324/index.html">Die neue Grundlage der Linux Foundation - sie wird Edge-Computing entwickeln</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>