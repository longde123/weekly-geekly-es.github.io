<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ üçî üèõÔ∏è Southbridge √† Chelyabinsk et Bitrix √† Kubernetes ‚òùüèø ‚ô•Ô∏è üöµüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A Tcheliabinsk, les r√©unions des administrateurs syst√®me de Sysadminka ont lieu, et au dernier d'entre eux j'ai fait un rapport sur notre solution pou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Southbridge √† Chelyabinsk et Bitrix √† Kubernetes</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/456608/"><p>  A Tcheliabinsk, les r√©unions des administrateurs syst√®me de Sysadminka ont lieu, et au dernier d'entre eux j'ai fait un rapport sur notre solution pour les applications de travail sur 1C-Bitrix √† Kubernetes. </p><br><p>  Bitrix, Kubernetes, Ceph - un excellent mix? </p><br><p>  Je vais vous dire comment nous avons √©labor√© une solution de travail √† partir de tout cela. </p><br><p>  C'est parti! </p><br><p><img src="https://habrastorage.org/webt/ww/-p/mh/ww-pmhsbbatcmjwanhlxrn2qng8.png"></p><a name="habracut"></a><br><p>  Mitap a eu lieu le 18 avril √† Tcheliabinsk.  Vous pouvez lire nos mitaps dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Timepad</a> et les regarder sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">YouTube</a> . </p><br><p>  Si vous souhaitez nous pr√©senter un rapport ou en tant qu'auditeur - √† Wellcome, √©crivez √† vadim.isakanov@gmail.com et Telegram t.me/vadimisakanov. </p><br><h2 id="moy-doklad">  Mon rapport </h2><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" title="Rapport Kubernetes Bitrix"><img src="https://habrastorage.org/getpro/habr/post_images/c6c/301/de1/c6c301de1d19519d256089f72c2641a9.jpg" alt="Vid√©o de rapport Kubernetes Bitrix"></a> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Diapositives</a> </p><br><h2 id="reshenie-bitriks-v-kubernetes-versiya-southbridge-10">  Bitrix dans la solution Kubernetes Southbridge 1.0 </h2><br><p>  Je parlerai de notre solution au format "pour les nuls √† Kubernetes", comme cela a √©t√© fait lors de la r√©union.  Mais je suppose que les mots Bitrix, Docker, Kubernetes, Ceph vous sont au moins connus au niveau des articles Wikipedia. </p><br><h4 id="chto-voobsche-est-gotovogo-pro-bitriks-v-kubernetes">  Qu'avez-vous √† propos de Bitrix dans Kubernetes? </h4><br><p>  Partout sur Internet, il y a tr√®s peu d'informations sur le fonctionnement des applications sur Bitrix dans Kubernetes. <br>  Je n'ai trouv√© que de tels mat√©riaux: </p><br><p>  Rapport d'Alexander Serbul, 1C-Bitrix et Anton Tuzlukov de Qsoft: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/lHK4eOvLbRM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Je recommande de l'√©couter. </p><br><p>  D√©veloppement d'une solution propre de l'utilisateur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">serkyron</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sur Habr√©</a> . <br>  J'ai √©galement trouv√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">une telle solution</a> . </p><br><p>  III ... en fait. </p><br><p>  Je vous pr√©viens, nous n'avons pas v√©rifi√© la qualit√© des solutions en utilisant les liens ci-dessus :-) <br>  Au fait, lors de la pr√©paration de notre solution, j'ai parl√© avec Alexander Serbul, puis son rapport ne l'√©tait pas encore, donc dans mes diapositives il y a le point ¬´Bitrix n'utilise pas Kubernetes¬ª. </p><br><p>  Mais il y a d√©j√† beaucoup d'images Docker pr√™tes √† l'emploi pour que Bitrix fonctionne dans Docker: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://hub.docker.com/search?q=bitrix&amp;type=image</a> </p><br><p>  Est-ce suffisant pour cr√©er une solution Bitrix compl√®te dans Kubernetes? <br>  Non.  Il existe un grand nombre de probl√®mes qui doivent √™tre r√©solus. </p><br><h4 id="v-chem-problemy-s-bitriks-v-kubernetes">  Quels sont les probl√®mes avec Bitrix dans Kubernetes? </h4><br><p>  <strong>Premi√®rement - les images pr√™tes √† l'emploi Dockerhub ne conviennent pas √† Kubernetes</strong> </p><br><p>  Si nous voulons construire une architecture de microservices (et dans Kubernetes, nous voulons g√©n√©ralement), l'application dans Kubernetes doit √™tre divis√©e en conteneurs et s'assurer que chaque conteneur ex√©cute une petite fonction (et le fait bien).  Pourquoi un seul?  En bref - le plus simple, le plus fiable. <br>  Si c'est plus authentique, regardez cet article et cette vid√©o, s'il vous pla√Æt: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://habr.com/en/company/southbridge/blog/426637/</a> </p><br><p>  Les images Docker dans Dockerhub sont principalement construites sur le principe du ¬´tout en un¬ª, nous avons donc d√ª encore fabriquer notre propre v√©lo et m√™me cr√©er des images √† partir de z√©ro. </p><br><p>  <strong>Deuxi√®mement - le code du site est modifi√© √† partir du panneau d'administration</strong> </p><br><p>  Nous avons cr√©√© une nouvelle section sur le site - le code a √©t√© mis √† jour (un r√©pertoire avec le nom de la nouvelle section a √©t√© ajout√©). </p><br><p>  Modification des propri√©t√©s du composant depuis le panneau d'administration - le code a chang√©. </p><br><p>  Kubernetes ¬´par d√©faut¬ª ne sait pas comment travailler avec cela, les conteneurs doivent √™tre sans √©tat. </p><br><p>  Raison: chaque conteneur (sous) du cluster ne traite qu'une partie du trafic.  Si vous modifiez le code dans un seul conteneur (en bas), puis dans diff√©rents pods, le code sera diff√©rent, le site fonctionnera diff√©remment, diff√©rentes versions du site seront pr√©sent√©es √† diff√©rents utilisateurs.  Vous ne pouvez pas vivre comme √ßa. </p><br><p>  <strong>Troisi√®mement - vous devez r√©soudre le probl√®me du d√©ploiement</strong> </p><br><p>  Si nous avons un monolithe et un serveur ¬´classique¬ª, tout est tr√®s simple: nous d√©ployons une nouvelle base de code, migrons la base de donn√©es, basculons le trafic vers la nouvelle version du code.  La commutation se produit instantan√©ment. <br>  Si nous avons un site Web √† Kubernetes, il est sci√© en microservices, il y a beaucoup de conteneurs avec du code.  Il est n√©cessaire de collecter les conteneurs avec la nouvelle version du code, de les d√©ployer √† la place des anciens, d'ex√©cuter correctement la migration de la base de donn√©es et id√©alement de le faire sans que les visiteurs le remarquent.  Heureusement, Kubernetes nous aide √† cet √©gard, en prenant en charge tout un nuage de diff√©rents types de d√©ploiement. </p><br><p>  <strong>Quatri√®mement - vous devez r√©soudre le probl√®me du stockage de l'√©lectricit√© statique</strong> </p><br><p>  Si votre site ne p√®se ¬´que¬ª 10 gigaoctets et que vous le d√©ployez enti√®rement dans des conteneurs, vous obtiendrez des conteneurs pesant 10 gigaoctets, qui seront d√©ploy√©s pour toujours. <br>  Vous devez stocker les parties les plus ¬´lourdes¬ª du site en dehors des conteneurs, et la question se pose de savoir comment le faire correctement. </p><br><h4 id="chego-net-v-nashem-reshenii">  Ce qui n'est pas dans notre d√©cision </h4><br><p>  La quasi-totalit√© du code Bitrix pour les microfonctions / microservices n'est pas coup√©e (de sorte que l'enregistrement est s√©par√©, le module de la boutique en ligne est s√©par√©, etc.).  Nous stockons la base de code enti√®re dans chaque conteneur dans son ensemble. </p><br><p>  Nous ne stockons pas non plus la base dans Kubernetes (j'ai n√©anmoins impl√©ment√© des solutions avec la base dans Kubernetes pour les environnements d√©veloppeurs, mais pas pour la production). </p><br><p>  Les administrateurs du site remarqueront toujours que le site fonctionne dans Kubernetes.  La fonction "v√©rification du syst√®me" ne fonctionne pas correctement, pour modifier le code du site √† partir du panneau d'administration, vous devez d'abord cliquer sur le bouton "Je souhaite modifier le code". </p><br><p>  Nous avons d√©cid√© des probl√®mes, nous avons d√©cid√© de la n√©cessit√© de mettre en ≈ìuvre un microservice, l'objectif est clair - obtenir un syst√®me de travail pour travailler sur les applications Bitrix dans Kubernetes, en pr√©servant √† la fois les capacit√©s Bitrix et les avantages de Kubernetes.  Nous commen√ßons la mise en ≈ìuvre. </p><br><h4 id="arhitektura">  L'architecture </h4><br><p>  Beaucoup de foyers ¬´fonctionnants¬ª avec un serveur web (travailleurs). <br>  Un dessous avec des couronnes couronnes (n√©cessairement un seul). <br>  Une mise √† niveau pour √©diter le code du site √† partir du panneau d'administration (une seule est √©galement requise). </p><br><p><img src="https://habrastorage.org/webt/3i/au/ed/3iauedjhblc8ph9icvyrlzxirrq.png"></p><br><p>  Nous r√©solvons les probl√®mes: </p><br><ul><li>  O√π stocker les sessions? </li><li>  O√π stocker le cache? </li><li>  O√π stocker la statique, pas pour placer des gigaoctets de statique dans un tas de conteneurs? </li><li>  Comment fonctionnera la base de donn√©es? </li></ul><br><h4 id="docker-obraz">  Image Docker </h4><br><p>  Nous commen√ßons par construire une image Docker. </p><br><p>  L'option id√©ale est que nous ayons une image universelle, sur sa base, nous obtenons √† la fois des modules de travail et des modules avec des supports et des modules de mise √† niveau. </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Nous avons fait une telle image</a> . </p><br><p>  Il comprend nginx, apache / php-fpm (peut √™tre s√©lectionn√© lors de l'assemblage), msmtp pour l'envoi de courrier et cron. </p><br><p>  Lors de l'assemblage de l'image, la base de code compl√®te du site est copi√©e dans le r√©pertoire / app (√† l'exception des parties que nous placerons dans un stockage partag√© s√©par√©). </p><br><h4 id="mikroservisnost-servisy">  Microservice, services </h4><br><p>  <strong>foyers ouvriers:</strong> </p><br><ul><li>  Conteneur avec nginx + apache / php-fpm + conteneur msmtp </li><li>  msmtp n'a pas fonctionn√© dans un microservice s√©par√©, Bitrix commence √† ressentir qu'il ne peut pas envoyer de courrier directement </li><li>  Chaque conteneur a une base de code compl√®te. </li><li>  Interdiction de changer le code dans les conteneurs. </li></ul><br><p>  <strong>cron sous:</strong> </p><br><ul><li>  r√©cipient avec apache, php, cron </li><li>  base de code compl√®te incluse </li><li>  interdiction de changer le code dans les conteneurs </li></ul><br><p>  <strong>mise √† niveau sous:</strong> </p><br><ul><li>  conteneur avec nginx + apache / php-fpm + msmtp conteneur </li><li>  il n'y a pas d'interdiction de changer le code dans les conteneurs </li></ul><br><p>  <strong>stockage de session</strong> </p><br><p>  <strong>Stockage de cache Bitrix</strong> </p><br><p>  Plus important: nous stockons des mots de passe pour nous connecter √† tout, de la base de donn√©es au courrier √©lectronique en secrets kubernetes.  Nous obtenons un bonus, les mots de passe ne sont visibles que par ceux √† qui nous donnons acc√®s aux secrets, et pas √† tous ceux qui ont acc√®s √† la base de code du projet. </p><br><h4 id="hranilische-dlya-statiki">  Stockage statique </h4><br><p>  Vous pouvez utiliser n'importe quoi: ceph, nfs (mais les nfs ne sont pas recommand√©s pour la production), le stockage r√©seau des fournisseurs "cloud", etc. </p><br><p>  Le stockage devra √™tre connect√© dans des conteneurs au r√©pertoire / upload / du site et aux autres r√©pertoires statiques. </p><br><h4 id="baza-dannyh">  Base de donn√©es </h4><br><p>  Pour plus de simplicit√©, nous vous recommandons de d√©placer la base en dehors de Kubernetes.  La base de Kubernetes est une t√¢che complexe distincte, cela rendra le circuit beaucoup plus compliqu√©. </p><br><h4 id="hranilische-sessiy">  Stockage de session </h4><br><p>  Nous utilisons memcached :) </p><br><p>  Il fait un bon travail de stockage des sessions, des clusters et est nativement pris en charge en tant que session.save_path dans php.  Un tel syst√®me a √©t√© √©labor√© √† plusieurs reprises dans l'architecture monolithique classique, lorsque nous avons construit des clusters avec un grand nombre de serveurs Web.  Pour le d√©ploiement, nous utilisons Helm. </p><br><pre><code class="plaintext hljs">$ helm install stable/memcached --name session</code> </pre> <br><p>  php.ini - ici dans les param√®tres d'image sont d√©finis pour le stockage des sessions dans memcached </p><br><p>  Nous avons utilis√© des variables d'environnement pour transf√©rer les donn√©es de l'h√¥te avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://kubernetes.io/docs/tasks/inject-data-application/define-environment-variable-container/</a> memcached. <br>  Cela vous permet d'utiliser le m√™me code dans les environnements dev, stage, test, prod (les noms d'h√¥te de memcached y seront diff√©rents, nous devons donc transf√©rer un nom d'h√¥te unique pour les sessions dans chaque environnement). <br>  Stockage de cache Bitrix </p><br><p>  Nous avons besoin d'un stockage √† s√©curit√© int√©gr√©e dans lequel tous les foyers pourraient √©crire et √† partir duquel nous pourrions lire. </p><br><p>  Nous utilisons √©galement memcached. <br>  Cette solution est recommand√©e par Bitrix lui-m√™me. </p><br><pre> <code class="plaintext hljs">$ helm install stable/memcached --name cache</code> </pre> <br><p>  bitrix / .settings_extra.php - ici dans Bitrix, il est d√©fini o√π nous stockons le cache </p><br><p>  Nous utilisons √©galement des variables d'environnement. </p><br><h3 id="krontaski">  Krontaski </h3><br><p>  Il existe diff√©rentes approches pour faire des crontabs dans Kubernetes. </p><br><ul><li>  d√©ploiement s√©par√© avec un foyer </li><li>  cronjob pour effectuer crontask (si c'est une application web - avec wget <a href="">https: // $ host $ cronjobname</a> , ou kubectl exec √† l'int√©rieur de l'un des foyers de travail, etc.) </li><li>  etc. </li></ul><br><p>  Vous pouvez discuter sur le plus correct, mais dans ce cas, nous avons choisi l'option "d√©ploiement s√©par√© avec des pods pour crontask" </p><br><p>  Comment faire: </p><br><ul><li>  ajouter des couronnes via ConfigMap ou via config / addcron </li><li>  dans un cas, ex√©cutez un conteneur identique au sous-travailleur + autorisez l'ex√©cution des t√¢ches de couronne dans celui-ci </li><li>  la m√™me base de code est utilis√©e, gr√¢ce √† l'unification, l'assemblage du conteneur est simple </li></ul><br><p>  Quel bien nous obtenons: </p><br><ul><li>  nous travaillons crontaski dans un environnement identique √† l'environnement de d√©veloppement (docker) </li><li>  Krontaski n'a pas besoin d'√™tre "r√©√©crit" pour Kubernetes, ils fonctionnent sous la m√™me forme et dans la m√™me base de code qu'auparavant </li><li>  les membres de la couronne peuvent ajouter tous les membres de l'√©quipe disposant de droits de validation √† la branche de production, et pas seulement les administrateurs </li></ul><br><h3 id="modul-southbridge-k8sdeploy-i-redaktirovanie-koda-iz-admin-paneli">  Module Southbridge K8SDeploy et modification du code √† partir du panneau d'administration </h3><br><p>  Nous parlions de mise √† niveau sous? <br>  Et comment y diriger le trafic? <br>  Hourra, nous avons √©crit un module pour cela en php :) C'est un petit module classique pour Bitrix.  Il n'est pas encore accessible au public, mais nous pr√©voyons de l'ouvrir. <br>  Le module est install√© en tant que module standard dans Bitrix: </p><br><p><img src="https://habrastorage.org/webt/6z/kw/-n/6zkw-n5v1lce5blf2uc6wp7udbi.png"></p><br><p>  Et cela ressemble √† ceci: </p><br><p><img src="https://habrastorage.org/webt/wo/m-/bx/wom-bxmnnnanwzo9cun2r54kepm.png"></p><br><p>  Il vous permet de d√©finir un cookie qui identifie l'administrateur du site et permet √† Kubernetes d'envoyer du trafic vers la mise √† niveau sous. </p><br><p>  Une fois les modifications termin√©es, vous devez appuyer sur git push, les modifications de code seront envoy√©es √† git, puis le syst√®me collectera l'image avec la nouvelle version du code et la ¬´roulera¬ª √† travers le cluster, en rempla√ßant les anciens pods. </p><br><p>  Oui, c'est un peu une b√©quille, mais en m√™me temps, nous maintenons l'architecture de microservice et ne privons pas les utilisateurs Bitrix de l'occasion pr√©f√©r√©e de corriger le code √† partir du panneau d'administration.  En fin de compte, c'est une option, vous pouvez r√©soudre le probl√®me de l'√©dition de code d'une mani√®re diff√©rente. </p><br><h4 id="helm-chart">  Tableau de barre </h4><br><p>  Pour cr√©er des applications dans Kubernetes, nous utilisons g√©n√©ralement le gestionnaire de packages Helm. <br>  Pour notre solution Bitrix chez Kubernetes, Sergey Bondarev, notre administrateur syst√®me principal, a √©crit un graphique sp√©cial Helm. </p><br><p>  Il construit des foyers ouvriers, ugrade, cron, configure les entr√©es, les services, transf√®re les variables des secrets Kubernetes aux foyers. </p><br><p>  Nous stockons le code dans Gitlab et nous ex√©cutons √©galement l'assembly Helm √† partir de Gitlab. </p><br><p>  Bref, √ßa ressemble √† √ßa </p><br><pre> <code class="plaintext hljs">$ helm upgrade --install project .helm --set image=registrygitlab.local/k8s/bitrix -f .helm/values.yaml --wait --timeout 300 --debug --tiller-namespace=production</code> </pre> <br><p>  Helm vous permet √©galement d'effectuer une restauration ¬´transparente¬ª en cas de probl√®me pendant le d√©ploiement.  C'est bien quand vous n'√™tes pas dans une panique "corrigez le code pour ftp, car le prod est tomb√©", et Kubernetes le fait automatiquement, et sans temps d'arr√™t. </p><br><h4 id="deploy">  D√©ployer </h4><br><p>  Oui, nous sommes fans de Gitlab &amp; Gitlab CI, utilisez-le :) <br>  Lors de la validation de Gitlab dans le r√©f√©rentiel de projet, Gitlab lance un pipeline qui d√©ploiera la nouvelle version de l'environnement. </p><br><p>  √âtapes: </p><br><ul><li>  build (construire une nouvelle image Docker) </li><li>  test (test) </li><li>  nettoyer (supprimer l'environnement de test) </li><li>  pousser (l'envoyer au registre Docker) </li><li>  deploy (nous d√©ployons l'application dans Kubernetes via Helm). </li></ul><br><p><img src="https://habrastorage.org/webt/0j/4g/2a/0j4g2a44mgliixuwlq3-5okjcgk.png"></p><br><p>  Hourra, nous sommes pr√™ts √† le pr√©senter! <br>  Eh bien, ou posez des questions, le cas √©ch√©ant. </p><br><h2 id="itak-chto-my-sdelali">  Alors qu'avons-nous fait </h2><br><p>  <strong>D'un point de vue technique:</strong> </p><br><ul><li>  Bitrix dockerized; </li><li>  ¬´Coupez¬ª Bitrix en conteneurs, chacun remplissant un minimum de fonctions; </li><li>  √©tat apatride des conteneurs; </li><li>  r√©solu le probl√®me de la mise √† jour de Bitrix dans Kubernetes; </li><li>  toutes les fonctions Bitrix ont continu√© de fonctionner (presque toutes); </li><li>  d√©ploiement travaill√© dans Kubernetes et restauration entre les versions. </li></ul><br><p>  <strong>D'un point de vue commercial:</strong> </p><br><ul><li>  tol√©rance aux pannes; </li><li>  Outils Kubernetes (int√©gration facile avec Gitlab CI, d√©ploiement transparent, etc.); </li><li>  les mots de passe dans les secrets (visibles uniquement √† ceux qui ont directement acc√®s aux mots de passe); </li><li>  il est pratique de cr√©er des environnements suppl√©mentaires (pour le d√©veloppement, les tests, etc.) au sein d'une m√™me infrastructure. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr456608/">https://habr.com/ru/post/fr456608/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr456596/index.html">Microbiota. Comment fonctionne le test?</a></li>
<li><a href="../fr456600/index.html">Recettes Nginx: autorisation LDAP avec captcha</a></li>
<li><a href="../fr456602/index.html">Guide de mise en ≈ìuvre des abonnements auto-renouvelables dans les applications iOS</a></li>
<li><a href="../fr456604/index.html">Comment nous avons automatis√© une grande boutique en ligne et commenc√© √† faire correspondre automatiquement les produits</a></li>
<li><a href="../fr456606/index.html">Nouvelles du monde d'OpenStreetMap n ¬∞ 464 (04/04/2019 - 06/10/2019)</a></li>
<li><a href="../fr456610/index.html">N'appuyez pas et n'approuvez pas</a></li>
<li><a href="../fr456612/index.html">L'une des centaines de fa√ßons de publier plusieurs projets de production sur un seul serveur</a></li>
<li><a href="../fr456614/index.html">How A Plague Tale: Innocence Frame Renders</a></li>
<li><a href="../fr456616/index.html">3 millions de roubles pour ceux qui savent coder</a></li>
<li><a href="../fr456618/index.html">Larabeer Moscou - 21 juin</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>