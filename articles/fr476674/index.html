<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐨 🔖 👩🏾‍⚕️ Déploiement rapide de ReportPortal pour la familiarisation 🔖 🚿 🔇</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a quelque temps, j'ai décidé de voir de mes propres yeux ce qu'est ReportPortal , mais cette note n'est pas sur le type de monstre qu'il est et c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Déploiement rapide de ReportPortal pour la familiarisation</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/476674/"> Il y a quelque temps, j'ai décidé de voir de mes propres yeux ce qu'est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">ReportPortal</a> , mais cette note n'est pas sur le type de monstre qu'il est et ce qu'il peut ou ne peut pas faire, mais sur la façon de le déployer rapidement afin de «faire connaissance» et «ressentir». <br><a name="habracut"></a><br>  Il y a de la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">documentation d'installation sur le</a> wiki du reportport lui-même, après quoi j'ai agi.  Un docker a été installé sur Win10 + étape par étape en suivant les instructions, mais quelque chose «n'a pas décollé».  Le processus a été répété plusieurs fois et, finalement, tout s'est avéré.  En général, tourmenté depuis longtemps, le docker lui-même a eu mal aux nerfs (enfin, pour Unix, c'était écrit).  En conséquence, bien qu'après toutes les actions que cela ait fonctionné, j'ai décidé de tuer cette entreprise et de tout faire sur une machine virtuelle. <br><br>  C'était la préface, maintenant au point. <br><br>  J'ai utilisé virtualBox pendant de nombreuses années et tout, en principe, allait bien, mais récemment, j'ai fait connaissance avec la version intégrée de Windows Hyper-V et j'ai décidé d'essayer de tout faire avec.  Contrairement à la boîte virtuelle, j'ai vraiment aimé la possibilité de "ne pas voir" la machine virtuelle du tout - c'est-à-dire,  il tourne quelque part en arrière-plan, eh bien, laissez-le tourner lui-même, sans éblouir vos yeux sur la barre des tâches + vous n'avez pas besoin de télécharger des images, d'installer quelque chose, car  Hyper-V a déjà des images avec un système pré-installé (le choix est petit, j'espère qu'il va s'étendre, mais nous en avons assez). <br><br>  Maintenant, étape par étape (tout le processus avec un bon Internet prend 15 minutes): <br><br>  1. Ouvrez le gestionnaire Hyper-V: <br><br><img src="https://habrastorage.org/webt/sc/_5/bv/sc_5bvrytdkt8kxmibqxykirbv8.png" alt="image"><br><br>  2. Faites un clic droit sur le nom de votre ordinateur et sélectionnez '' Création rapide " <br><br><img src="https://habrastorage.org/webt/ob/4v/y-/ob4vy--oaxgabhagly0ihz9je3k.png" alt="image"><br><br>  3. Dans la fenêtre qui s'ouvre, sélectionnez Ubuntu 18 ... et cliquez sur "Créer une machine virtuelle" <br><br><img src="https://habrastorage.org/webt/yt/nv/sf/ytnvsfspzdne-soxfiv8ju9vecy.png" alt="image"><br><br>  4. Nous allons faire du thé et attendons que l'image soit téléchargée et déballée <br><br><img src="https://habrastorage.org/webt/dp/px/va/dppxva-97byqssqmfszqc3at6oq.png" alt="image"><br><br>  5. Une fois le processus de téléchargement et de déballage terminé, nous verrons une telle fenêtre. <br><br><img src="https://habrastorage.org/webt/io/vd/oj/iovdojng8uuabsscxcledhh-ee8.png" alt="image"><br><br>  Nous ne sommes pas pressés de lancer la machine virtuelle, mais passons aux paramètres en cliquant sur le bouton "Modifier les paramètres ..." <br><br>  6. Étant donné que le rapport est une chose très vorace - nous allons donner plus de mémoire à la machine virtuelle (j'ai donné 6 Go) <br><br><img src="https://habrastorage.org/webt/pb/ce/ix/pbceixx69whcnqeimdz-0dqd2yu.png" alt="image"><br><br>  7. Enregistrez les paramètres et cliquez sur le bouton bleu «Connecter».  La machine virtuelle n'a pas encore démarré, nous venons de nous y connecter (alias bureau à distance).  Ici, nous appuyons déjà sur "Démarrer": <br><br><img src="https://habrastorage.org/webt/tw/ia/fm/twiafm3re6zjfrbjzqkxuxy_w3a.png" alt="image"><br><br>  8. Lorsque notre Ubuntu a démarré parce que  le système n'a pas été installé de la manière habituelle, nous devons saisir des données telles que la langue du système, le fuseau horaire, le nom d'utilisateur et le mot de passe. <br><br><img src="https://habrastorage.org/webt/k8/cl/oc/k8cloc8yhugtp1vjkh8sjgblzkq.png" alt="image"><br><br>  9. Voilà, notre Ubuntu est opérationnel. <br><br><img src="https://habrastorage.org/webt/yh/ca/5r/yhca5refv0fn7y--tef7yrgh-8c.png" alt="image"><br><br>  Maintenant, ouvrez le terminal et précipitez-vous: <br><br>  1. Une étape facultative si nous voulons nous connecter via SSH (putty ...) à notre machine virtuelle sans l'ouvrir avec un remout. <br><br>  exécuter dans le terminal: <br><br><pre><code class="dos hljs">sudo su</code> </pre> <br><pre> <code class="dos hljs">apt update</code> </pre> <br><pre> <code class="dos hljs">apt install openssh-server</code> </pre> <br>  2. Réglez le kurl (nécessaire un peu plus tard) et le docker. <br><br>  Si vous avez manqué le premier point - continuez à travailler dans le terminal.  Si vous avez installé SSH, vous pouvez continuer en vous connectant à la machine virtuelle via Putty (ou un analogue). <br><br>  2.a Curl: <br><br><pre> <code class="dos hljs">apt install curl</code> </pre> <br><br>  2.b Docker et docker-compose <br><br><pre> <code class="dos hljs">apt install docker.io</code> </pre> <br><pre> <code class="dos hljs">apt install docker-compose</code> </pre> <br>  3. Installez le reportport <br><br>  3.a Téléchargez docker-compose.yml: <br><br><pre> <code class="dos hljs">curl https://raw.githubusercontent.com/reportportal/reportportal/master/docker-compose.yml -o docker-compose.yml</code> </pre> <br>  3.b Facultatif.  Par défaut, le port de rapport "écoute" le port 8080. J'avais besoin de ce port pour un autre service (selenoid-ui), j'ai décidé de "donner" au port de rapport un port différent. <br><br>  Pour ce faire, modifiez docker-compose.yml: <br><br><pre> <code class="dos hljs">nano docker-compose.yml</code> </pre> <br>  Nous recherchons une section: <br><br><pre> <code class="dos hljs"><span class="hljs-function"><span class="hljs-function">gateway: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">image</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">traefik</span></span></span><span class="hljs-function">:1.6.6 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ports</span></span></span><span class="hljs-function">: - "8080:8080" # </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HTTP</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">exposed</span></span></span><span class="hljs-function"> # - "8081:8081" # </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HTTP</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Administration</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">exposed</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">command</span></span></span><span class="hljs-function">: - --</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">consulcatalog.endpoint</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">registry</span></span></span><span class="hljs-function">:8500 - --</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">defaultEntryPoints</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">http</span></span></span><span class="hljs-function"> - --</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">entryPoints</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Name:http</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Address</span></span></span><span class="hljs-function">::8080 - --</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">web</span></span></span><span class="hljs-function"> - --</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">web.address</span></span></span><span class="hljs-function">=:8081 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">restart</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">always</span></span></span></span></code> </pre><br>  Nous le modifions comme suit: <br><br><pre> <code class="dos hljs"><span class="hljs-function"><span class="hljs-function">gateway: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">image</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">traefik</span></span></span><span class="hljs-function">:1.6.6 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ports</span></span></span><span class="hljs-function">: - "&lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">NEW_PORT</span></span></span><span class="hljs-function">&gt;:8080" </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">expose</span></span></span><span class="hljs-function">: - "8080" # - "8081:8081" # </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HTTP</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Administration</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">exposed</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">command</span></span></span><span class="hljs-function">: - --</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">consulcatalog.endpoint</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">registry</span></span></span><span class="hljs-function">:8500 - --</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">defaultEntryPoints</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">http</span></span></span><span class="hljs-function"> - --</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">entryPoints</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Name:http</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Address</span></span></span><span class="hljs-function">::8080 - --</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">web</span></span></span><span class="hljs-function"> - --</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">web.address</span></span></span><span class="hljs-function">=:8081 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">restart</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">always</span></span></span></span></code> </pre><br>  où &lt;NEW_PORT&gt; est le numéro de port que vous souhaitez attribuer au port de rapport.  J'ai entré "8888" <br><br>  3s  Installez le reportport: <br><br><pre> <code class="dos hljs">docker-compose -p reportportal up -d --force-recreate</code> </pre> <br>  Les images seront téléchargées, les conteneurs Docker seront créés et lancés par eux-mêmes.  Une fois que tout le processus dans la console est terminé - attendez une minute - laissez tout démarrer comme il se doit et dans votre navigateur sur votre vraie machine, vous pouvez ouvrir un rapport sur l'IP de la machine virtuelle et le port que vous avez sélectionné (ou standard 8080). <br><br><img src="https://habrastorage.org/webt/dy/yg/yn/dyygynszo5e9pcofx_7gxklktty.png" alt="image"><br><br>  Connectez-vous avec l'administrateur intégré: `superadmin \ erebus` <br><br><img src="https://habrastorage.org/webt/h2/bm/3e/h2bm3efoszl6pxdvpdbh8el0oaa.png" alt="image"><br><br>  En conclusion: Maintenant, nous pouvons simplement fermer la fenêtre avec la machine virtuelle (elle restera en arrière-plan et ne sera pas une horreur).  Pour l'ouvrir à nouveau, nous revenons au gestionnaire Hyper-V et double-cliquez sur la liste virtuelle dans la liste. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr476674/">https://habr.com/ru/post/fr476674/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr476658/index.html">VPS avec une carte vidéo (partie 2): capacités informatiques</a></li>
<li><a href="../fr476664/index.html">oktech: Frontend Meetup # 2: mini interviews de conférenciers</a></li>
<li><a href="../fr476666/index.html">Biologie pour les programmeurs: comment une approche d'ingénierie change le monde</a></li>
<li><a href="../fr476668/index.html">Comment j'ai contrôlé l'ordinateur à partir du téléphone</a></li>
<li><a href="../fr476670/index.html">Vue d'ensemble de la CAO sur le noyau géométrique C3D - 2</a></li>
<li><a href="../fr476676/index.html">48 ressources open source pour JavaScript (2019)</a></li>
<li><a href="../fr476678/index.html">API pour l'extraction asynchrone à distance à l'aide d'Apple Combine</a></li>
<li><a href="../fr476680/index.html">Le système de planification de la production continue de Rodov est le Lean / MRP soviétique de 1961. Décollage, coucher de soleil et nouvelle naissance</a></li>
<li><a href="../fr476682/index.html">Comment écrire un sapeur dans Phaser et exécuter une tâche de test de développeur HTML5</a></li>
<li><a href="../fr476686/index.html">Développement d'une passerelle IoT basée sur Raspberry CM3 +</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>