<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêù üßï üòç Carreaux irr√©guliers √† la surface des plan√®tes g√©n√©r√©es de mani√®re proc√©durale ‚è∏Ô∏è üîí üí∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ici, nous consid√©rerons une m√©thode pour diviser la surface sph√©rique d'une plan√®te g√©n√©r√©e de fa√ßon proc√©durale avec des tuiles irr√©guli√®res, et, par...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Carreaux irr√©guliers √† la surface des plan√®tes g√©n√©r√©es de mani√®re proc√©durale</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414699/">  Ici, nous consid√©rerons une m√©thode pour diviser la surface sph√©rique d'une plan√®te g√©n√©r√©e de fa√ßon proc√©durale avec des tuiles irr√©guli√®res, et, par cons√©quent, diviser l'oc√©an et les continents en sections (secteurs) s√©par√©es.  Nous supposons que la structure des zones terrestres a d√©j√† √©t√© d√©finie √† la surface de la plan√®te √† l'aide de SIG et qu'il est possible d'exporter des donn√©es vectorielles vers des fichiers de formes ESRI ou directement vers une base de donn√©es PostgreSQL avec l'extension <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PostGIS</a> .  Le processus de cr√©ation de secteurs s'effectue √† l'aide de PostGIS. <br><a name="habracut"></a><br>  Voir le lien vers le script avec le code SQL en bas de l'article, ici l'explication sera plus sur le doigt.  L'explication fournit les fonctions de base du script, et suppose √©galement la disponibilit√© des donn√©es pour les continents et les fleuves de plan√®tes g√©n√©r√©es de mani√®re proc√©durale prises sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">forgedmaps.com</a> . <br><br>  Le choix de tuiles irr√©guli√®res nous permet de subdiviser avec pr√©cision la surface de la plan√®te <br>  en secteurs, ne m√©langeant g√©n√©ralement pas les territoires de l'oc√©an et de la terre n'importe o√π.  Lacs et mers int√©rieures <br>  nous le consid√©rons comme faisant partie du territoire.  Nous verrons √©galement comment les rivi√®res peuvent √™tre utilis√©es comme limites naturelles des secteurs.  Les secteurs eux-m√™mes seront construits sur la base d'une division de base de la sph√®re par des polygones. <br><br>  Quand il s'agit de diviser une r√©gion plate, ils ont g√©n√©ralement recours au <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">diagramme de Voronoi</a> pour obtenir des tuiles irr√©guli√®res.  En utilisant √©galement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'algorithme de Lloyd</a> , nous pouvons arriver √† une forme visuellement attrayante de polygones convexes qui ne sont pas tr√®s diff√©rents en taille (tessellation Centroidal Voronoi).  L'essence de l'algorithme de Lloyd est de r√©p√©ter la construction du diagramme de Voronoi, √† chaque it√©ration suivante, en prenant comme point de d√©part les centres des polygones obtenus √† l'it√©ration pr√©c√©dente. <br><br>  Nous imposerons certaines exigences √† la division de base par des polygones d'une sph√®re: <br>  la convexit√© des polygones sph√©riques et leurs √©carts peu importants par rapport √† une taille moyenne donn√©e. <br><br>  Le <i>secteur du</i> nom <i>est</i> utilis√© √† la place d'une <i>tuile,</i> car la tuile a g√©n√©ralement une signification √©l√©mentaire, par exemple, en tant que partie unitaire des cartes de tuiles des jeux strat√©giques, ou en tant que partie unitaire d'une certaine surface.  √Ä l'int√©rieur du secteur, il y a une structure interne: le relief et divers objets g√©ographiques.  Les secteurs, √† leur tour, peuvent √©galement servir de tuiles √©l√©mentaires: la construction d'un graphique des transitions possibles entre les secteurs sert √† cet effet. <br><br><h2>  La division de base de la sph√®re et des segments des oc√©ans. </h2><br>  PostGIS a une fonction <code>ST_VoronoiPolygons</code> , qui construit un diagramme de Voronoi dans une zone carr√©e.  Voyons comment nous pouvons l'utiliser √† nos fins. <br><br>  Que se passe-t-il si vous essayez d'utiliser une approche simple?  Une projection rectangulaire de la plan√®te peut √™tre convertie en carr√© par des coordonn√©es, y construire des polygones et effectuer la transformation inverse des coordonn√©es.  Mais, les rectangles ainsi construits seront √©tir√©s dans une direction, ce qui ne serait pas souhaitable.  Et, si vous essayez d'appliquer l'algorithme de Lloyd, les rectangles proches des p√¥les de la sph√®re seront beaucoup plus petits en surface (sur la sph√®re) que proches de l'√©quateur. <br><br>  Essayons d'adapter cette m√©thode en √©liminant les inconv√©nients.  Les points de d√©part al√©atoires du diagramme de Voronoi sont choisis de mani√®re √† √™tre uniform√©ment r√©partis sur la sph√®re.  Dans la projection de Mercator, cela signifie que pour les p√¥les, ils devraient appara√Ætre moins souvent avec une probabilit√© proportionnelle au cosinus de latitude.  Nous construisons le diagramme de Voronoi dans le polygone ¬´monde¬ª - c'est soit la projection rectangulaire enti√®re de la plan√®te ou seulement une partie de celle-ci.  La fonction <code>ST_VoronoiPolygons</code> compl√®te elle-m√™me le rectangle en carr√©, il suffit de recadrer le diagramme r√©sultant en fonction du polygone "monde". <br><br>  Nous regardons l'image des polygones de Vorono√Ø obtenus de mani√®re adapt√©e.  Voici une partie de la carte de la plan√®te test de l'√©quateur au bord sup√©rieur √† 73 degr√©s de latitude sud au bord inf√©rieur.  (Ici, le terrain a d√©j√† √©t√© coup√© des d√©charges.) <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3d9/f86/1cc/3d9f861cc19022c3e24e88f3ffb075bf.png" alt="image"><br><br>  Comme on peut le voir sur la projection de Mercator, les polygones sont g√©n√©ralement plus grands √† l'approche des p√¥les, mais ils seront r√©partis de mani√®re approximativement √©gale sur la sph√®re en termes de taille de zone.  Voil√† ce dont nous avons besoin.  Mais, on voit √©galement que les polygones ont une tr√®s grande √©tendue de zones et l'image globale est plut√¥t disgracieuse. <br><br>  Essayons d'appliquer plusieurs it√©rations de l'algorithme de Lloyd.  Comme nouveaux points <br>  pour les it√©rations ult√©rieures du diagramme de Voronoi, nous choisirons les centres des √©l√©ments d√©j√† coup√©s <br>  Polygone "monde" Polygones de Voronoi.  Et pour √©viter une trop grande r√©duction de la zone des polygones pr√®s des p√¥les, nous ne faisons qu'un petit nombre d'it√©rations (environ 3). <br><br>  Pour obtenir des segments oc√©aniques, la zone occup√©e est exclue des d√©charges obtenues.  En cons√©quence, de petits polygones peuvent √™tre form√©s, qu'il est souhaitable d'attacher aux voisins.  De plus, de petits polygones peuvent se trouver pr√®s de la fronti√®re du polygone ¬´mondial¬ª.  Nous connectons les polygones de mani√®re √† s√©lectionner le voisin ¬´le plus proche¬ª et √† ne pas g√¢cher la situation dans son ensemble. <br><br>  Apr√®s avoir appliqu√© un tel algorithme modifi√©, nous obtenons l'image suivante, qui peut d√©j√† √™tre acceptable.  Les segments rouges de la figure indiquent la fusion souhait√©e des polygones. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fa5/c18/550/fa5c185500d3ec8f53e414f384dddf51.png" alt="image"><br><br>  La s√©lection des polygones √† fusionner peut se faire de diff√©rentes mani√®res.  Dans le script mentionn√©, 2 m√©thodes sont impl√©ment√©es: sur la bordure la plus longue et sur le centre le plus proche.  La figure suivante montre le r√©sultat de la fusion de la deuxi√®me mani√®re. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ce/9bd/705/7ce9bd705bced3dd9505852c898a3e2f.png" alt="image"><br><br>  En g√©n√©ral, nous avons r√©alis√© ce que l'on peut souhaiter des secteurs oc√©aniques.  Leur aire est approximativement la m√™me (sur la sph√®re), et elles sont soit convexes soit avec de petites d√©viations par rapport √† la convexit√©. <br><br>  La fonction principale pour g√©n√©rer des secteurs oc√©aniques: <br><br><pre> <code class="sql hljs">map.makeOceanSectors( world Geometry, avg_vp_areaKM Double Precision, merging_ratio Double Precision, merging_method Int ) RETURNS Void</code> </pre><br>  <code>world</code> - un terrain d'entra√Ænement ¬´mondial¬ª servant de fronti√®res au monde. <br>  <code>avg_vp_areaKM</code> - la superficie moyenne (km <sup>2</sup> ) de polygones √† partir de laquelle les secteurs oc√©aniques sont cr√©√©s. <br>  <code>merging_ratio</code> - part de <code>avg_vp_areaKM</code> , de sorte que si la zone de secteur est inf√©rieure √† celle-ci, elle sera attach√©e √† la zone voisine. <br>  <code>merging_method</code> - m√©thode de fusion ('1' ou '2'). <br><br>  Un exemple.  Nous construisons des secteurs dans une d√©charge ¬´mondiale¬ª donn√©e avec une superficie moyenne de d√©charges de base de 1 000 000 km <sup>2</sup> .  Les secteurs dont la superficie est inf√©rieure √† la moiti√© de cette taille seront joints √† d'autres.  La deuxi√®me m√©thode de fusion est utilis√©e - au centre le plus proche. <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> map.makeOceanSectors( ST_GeomFromText( <span class="hljs-string"><span class="hljs-string">'POLYGON((-75 -85, 75 -85, 75 85, -75 85, -75 -85))'</span></span>, <span class="hljs-number"><span class="hljs-number">4326</span></span> ), <span class="hljs-number"><span class="hljs-number">1000000</span></span>, <span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span> );</code> </pre><br><h2>  Segments des continents. </h2><br>  Sur le continent, vous pouvez entrer dans une division plus int√©ressante, bas√©e, d'une part, sur la totalit√© des petites cha√Ænes de base, et d'autre part, sur des objets naturels tels que les rivi√®res et les bassins versants.  La structure ainsi obtenue est tr√®s similaire √† la carte des √âtats et des provinces qui s'y trouvent.  Autrement dit, il s'agit du processus de <i>g√©n√©ration proc√©durale de la carte politique du monde</i> . <br><br>  Contrairement aux segments oc√©aniques, le renflement devient compl√®tement facultatif. <br><br>  Il n'y a pas encore de bassin versant sur forgedmaps.com, mais il y a d√©j√† des rivi√®res.  L'utilisation de rivi√®res dans un script n√©cessite leur repr√©sentation dans un <i>MultiLineString</i> .  Ils ont cette id√©e dans le shapefile de <i>riversz</i> .  Lors de l'importation dans la base de donn√©es, vous pouvez imm√©diatement vous d√©barrasser de l'exc√®s de coordonn√©e z dans ce processus.  D'autres donn√©es requises, √† savoir les limites des zones terrestres, se trouvent dans le fichier de formes des <i>terres</i> .  Chaque zone terrestre a un identifiant d' <code>aid</code> (ID de zone) et peut √™tre constitu√©e du continent et des √Æles les plus proches, ou uniquement de petites √Æles situ√©es √† proximit√©. <br><br>  Pour notre exemple, nous choisissons la taille moyenne du secteur de 40 000 km <sup>2</sup> et la taille moyenne du polygone de base de 5 000 km <sup>2</sup> .  Il s'agit d'une taille assez grande, choisie √† des fins d'illustration uniquement.  Des tailles plus petites sont √©galement acceptables (jusqu'√† quelques m <sup>2</sup> ), mais gardez une trace du temps de calcul et utilisez la configuration de base de donn√©es appropri√©e. <br><br>  Dans cette image, un exemple de l'apparence des polygones de base √† l'int√©rieur de la zone terrestre. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/316/a97/afa/316a97afabac8f18b1c117adc6f08d21.png" alt="image"><br><br>  L'√©tape suivante consiste √† combiner les polygones de base en secteurs.  Pour ce faire, s√©lectionnez au hasard dans les polygones de base autant de secteurs que nous voulons cr√©er et attachez progressivement les polygones voisins aux secteurs accumul√©s. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/263/0c9/e7f/2630c9e7f5f9117ca1a25aaf96ed726f.png" alt="image"><br><br>  Il est maintenant temps de prendre en compte la rivi√®re.  Nous les utilisons pour diviser les secteurs en <br>  s√©parer les pi√®ces par la fonction <code>ST_Split</code> .  Une telle division peut √™tre effectu√©e en fonction de certaines conditions: le d√©bit final de la rivi√®re ou la superficie de la partie s√©par√©e. <br><br>  Maintenant, nous pouvons voir comment certaines fronti√®res longent les rivi√®res. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2ae/45e/ccf/2ae45eccf54da972efc61b4cd9693d18.png" alt="image"><br><br>  Nous connectons de petites parties de secteurs √† de grands secteurs.  Mais nous devons essayer <br>  Ne fixez pas de pi√®ces aux m√™mes secteurs dont elles ont √©t√© coup√©es. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7cf/3b2/8ff/7cf3b28ff3976710054ead9dc3092ac4.png" alt="image"><br><br>  Avec de grandes surfaces, nous avons r√©ussi, mais toujours de petites √Æles.  Nous faisons de ceux d'entre eux qui ont une superficie proche de la superficie moyenne du secteur des secteurs distincts √† la fois.  Mais avec ceux dont la superficie est beaucoup plus petite que le secteur moyen, nous faisons deux choses. <br><br>  1. Si ces √Æles sont situ√©es relativement loin des secteurs existants, nous en faisons des secteurs s√©par√©s.  L '¬´√©loignement¬ª d√©pend ici de la superficie moyenne donn√©e du secteur: plus cette zone est petite, plus il est probable que l'√Æle deviendra un secteur distinct. <br><br>  2. Si l'√Æle est proche d'autres secteurs d√©j√† cr√©√©s, elle est combin√©e avec l'un d'eux.  √Ä savoir, avec celui qui a la plus grande surface dans un certain polygone obtenu en utilisant <code>ST_Buffer</code> de cette √Æle. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f2a/373/ac4/f2a373ac455ecd513cc34bc875c68517.png" alt="image"><br><br>  Ici, quatre √Æles se divisent en deux secteurs diff√©rents.  Si vous augmentez la zone de secteur moyenne d√©finie, t√¥t ou tard toutes les √Æles tomberont dans un seul secteur. <br><br>  La fonction principale pour g√©n√©rer des secteurs sur terre: <br><br><pre> <code class="sql hljs">map.makeLandSectors( aid BigInt, avg_vp_areaKM Double Precision, avg_sector_areaKM Double Precision, max_sector_cut_area_ratio Float, pref_min_island_area_ratio Float, min_streamflow Int ) RETURNS Void</code> </pre><br>  <code>aid</code> - identifiant du terrain. <br>  <code>avg_vp_areaKM</code> - la superficie moyenne (km <sup>2</sup> ) des polygones de base. <br>  <code>avg_sector_areaKM</code> - superficie moyenne (km <sup>2</sup> ) des secteurs. <br>  <code>max_sector_cut_area_ratio</code> - la part de <code>avg_sector_areaKM</code> , qui d√©termine la zone maximale qui peut √™tre coup√©e par la rivi√®re. <br>  <code>pref_min_island_area_ratio</code> - la part de <code>avg_sector_areaKM</code> , qui d√©termine la superficie minimale, sur laquelle l'√Æle devient imm√©diatement un secteur distinct. <br>  <code>streamflow</code> - si la rivi√®re a un d√©bit final d'au moins cette valeur, alors elle participe aux secteurs de coupe. <br><br>  Dans l'exemple suivant, l'utilisation de la fonction cr√©era des secteurs sur une parcelle de terrain avec aide = 5.  Dans ce cas, des polygones de base d'une superficie moyenne de 5 000 km <sup>2</sup> seront utilis√©s pour cr√©er des secteurs d'une superficie moyenne de 40 000 km <sup>2</sup> .  De plus, en m√™me temps, le territoire maximal coup√© par les rivi√®res sera de 0,125 * 40 000 km <sup>2</sup> , et 0,25 * 40 000 km <sup>2</sup> est la superficie minimale √† laquelle les √Æles deviennent imm√©diatement des secteurs.  Pour couper les secteurs par les rivi√®res, des rivi√®res avec un ruissellement final minimum de 2 sont utilis√©es. <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> map.makeLandSectors(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5000</span></span>, <span class="hljs-number"><span class="hljs-number">40000</span></span>, <span class="hljs-number"><span class="hljs-number">0.125</span></span>, <span class="hljs-number"><span class="hljs-number">0.25</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>);</code> </pre><br><h3>  Les r√©f√©rences </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le code de script SQL est</a> disponible qui fait tout le travail, y compris la cr√©ation de secteurs et la construction de graphiques de transition entre les secteurs voisins.  Les donn√©es SIG des plan√®tes g√©n√©r√©es de mani√®re proc√©durale peuvent √™tre extraites de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">forgedmaps.com</a> .  Vous pouvez utiliser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les donn√©es SIG de la Terre</a> , les menant √† une structure similaire.  Vous pouvez √©galement, √† l'aide de tout <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SIG moderne</a> , cr√©er des donn√©es manuellement √† partir de z√©ro ou obtenir de nouvelles donn√©es en convertissant les donn√©es re√ßues de toute autre source.  Des instructions plus compl√®tes pour le script peuvent √™tre trouv√©es dans le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">manuel</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr414699/">https://habr.com/ru/post/fr414699/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr414687/index.html">Comment g√©rer une √©quipe et vous-m√™me: 15 livres pour un chef de projet</a></li>
<li><a href="../fr414689/index.html">Le√ßon ouverte "Applications Web et microservices sur Spring Boot 2.0"</a></li>
<li><a href="../fr414691/index.html">Contexte. YouTube Music et YouTube Premium: de quoi s'agit-il et en quoi ils diff√®rent</a></li>
<li><a href="../fr414693/index.html">Fujitsu fi-4750C sur Windows 10 via Adaptec 78xx SCSI</a></li>
<li><a href="../fr414695/index.html">NanoIntroduction √† l'Internet des nano-objets. 2e partie</a></li>
<li><a href="../fr414701/index.html">Utilisation de l'API KOMPAS-3D ‚Üí Le√ßon 10 ‚Üí Caract√®res sp√©ciaux, y compris une cha√Æne</a></li>
<li><a href="../fr414703/index.html">(Presque) six mois plus tard - une coupe d'opinions sur les projecteurs √† domicile √©conomiques Epson EH-TW610 et Epson EH-TW650. Et un autre sondage</a></li>
<li><a href="../fr414705/index.html">Chefs-d'≈ìuvre de la construction mondiale d'enceintes: la voie innovante de Monitor Audio du tissu au m√©tal et aux mat√©riaux composites</a></li>
<li><a href="../fr414707/index.html">Analyse de la blockchain, ou pourquoi le m√©langeur s'est-il cass√©?</a></li>
<li><a href="../fr414709/index.html">Lions du d√©sert et introspection</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>