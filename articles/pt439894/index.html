<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïñ üö† üî† Como simplesmente monitorar o status do site üë®üèΩ‚ÄçüöÄ üì¨ üë©‚Äçüíº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Para monitorar remotamente o desempenho dos servidores, os profissionais usam sistemas de software especiais, como Zabbix ou Icinga . Por√©m, se voc√™ √©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como simplesmente monitorar o status do site</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/439894/">  Para monitorar remotamente o desempenho dos servidores, os profissionais usam sistemas de software especiais, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Zabbix</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Icinga</a> .  Por√©m, se voc√™ √© propriet√°rio ou administrador iniciante de um ou dois sites com uma carga pequena, n√£o h√° necessidade de grandes sistemas de monitoramento.  O principal par√¢metro √© se o site atende rapidamente aos usu√°rios.  Portanto, voc√™ pode monitorar o trabalho do site usando um programa simples de qualquer computador conectado √† Internet. <br><br><img src="https://habrastorage.org/webt/qx/fj/tq/qxfjtqd07g37gx2eq8ksz80wtfm.jpeg" alt="Foto por Mikhail Vasiliev, Unsplash.Com" title="Foto por Mikhail Vasiliev, Unsplash.Com"><br><br>  Vamos escrever esse script agora - o monitoramento mais simples da disponibilidade e velocidade do site.  Este programa pode ser executado em um computador dom√©stico, smartphone e assim por diante.  O programa tem apenas duas fun√ß√µes: <br><br><ul><li>  mostra na tela o tempo durante o qual seu site fornece p√°ginas aos usu√°rios, </li><li>  no caso de respostas lentas do site ou erros, o programa grava dados em um arquivo (um ‚Äúlog‚Äù ou um arquivo de log).  Vale a pena verificar esses dados periodicamente para corrigir problemas quando eles est√£o apenas come√ßando.  Portanto, teremos o cuidado de registrar esses logs em um formul√°rio claro e conveniente para visualiza√ß√£o r√°pida. </li></ul><br>  Descreverei cada etapa em detalhes para que at√© mesmo um iniciante familiarizado com a grava√ß√£o de arquivos em lotes (bat e cmd no DOS e Windows, sh em sistemas como o UNIX) possa descobrir isso sem problemas e adaptar o script √†s suas necessidades.  <b>Mas pe√ßo que voc√™ n√£o use esse script sem pensar, porque se usado incorretamente, ele pode n√£o fornecer resultados adequados e, al√©m disso, absorver muito tr√°fego</b> . <br><br>  Descreverei um script para um sistema operacional como o Linux e seu uso em um computador dom√©stico.  Pelos mesmos princ√≠pios, isso pode ser feito em outras plataformas.  E para aqueles que est√£o apenas olhando para as possibilidades do Linux, mais um exemplo pode ser interessante: que ferramenta simples e poderosa s√£o seus scripts. <br><a name="habracut"></a><br><h3>  1. Organiza√ß√£o primeiro </h3><br>  Vamos criar uma pasta separada para este programa e criar 3 arquivos nele.  Por exemplo, eu tenho esta pasta / home / me / Progs / iNet / monitor (aqui me √© o nome do meu usu√°rio, Progs / iNet √© a minha pasta para programas relacionados √† Internet e monitor √© o nome desse programa, a partir da palavra monitor, ou seja, Como sou o √∫nico usu√°rio deste computador, mantenho esses arquivos entre minhas pastas pessoais (/ home) em uma se√ß√£o separada do disco, o que me permite salv√°-los ao reinstalar o sistema.  Nesta pasta, haver√° arquivos: <br><br><ul><li>  README.txt - aqui est√° uma descri√ß√£o (em caso de esclerose): que tipo de programa, informa√ß√µes b√°sicas, etc. </li><li>  mon.sh - haver√° um programa que pesquisa o site. </li><li>  server.log - aqui ele gravar√° indicadores de status do site.  No nosso caso, essa √© simplesmente a data, hora e dura√ß√£o da resposta do site (al√©m de informa√ß√µes adicionais se o servidor responder com um erro com nossa solicita√ß√£o). </li></ul><br>  (Para a conveni√™ncia de editar e, se houver, restaurar arquivos, voc√™ pode incluir esta pasta no sistema de controle de vers√£o do Git; aqui n√£o vou descrev√™-la). <br><br><h3>  2. Persistentemente e relaxado </h3><br>  Executaremos o arquivo mon.sh com um pequeno intervalo regular, por exemplo, 60 segundos.  Usei a ferramenta padr√£o fornecida pelo sistema operacional (mais precisamente, o ambiente da √°rea de trabalho). <br><br>  Meu ambiente de √°rea de trabalho √© o Xfce.  Esta √© uma das op√ß√µes mais populares para Linux.  Gosto do Xfce porque permite personalizar quase completamente todo o ambiente - do jeito que voc√™ gosta.  Ao mesmo tempo, o Xfce √© um pouco mais compacto e mais r√°pido que dois outros sistemas conhecidos - Gnome e KDE.  (Outras op√ß√µes tamb√©m s√£o interessantes - por exemplo, o ambiente LXDE √© ainda mais r√°pido e f√°cil que o Xfce, mas at√© agora n√£o √© t√£o rico em recursos). <br><br>  A ferramenta de que precisamos, no caso do Xfce, √© um plug-in para o painel de trabalho do Generic Monitor.  Normalmente, ele j√° est√° instalado, mas, se n√£o, o Instalador o encontrar√° facilmente: ‚ÄúGenmon‚Äù (descri√ß√£o: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">xfce4-genmon-plugin</a> ).  Este √© um plugin que pode ser adicionado ao painel e definido nas configura√ß√µes: (1) o comando a ser executado e (2) a frequ√™ncia de sua execu√ß√£o em segundos.  No meu caso, o comando: <br><br>  /home/me/Progs/iNet/monitor/mon.sh <br><br>  (ou, equivalentemente, ~ / Progs / iNet / monitor / mon.sh). <br><br><img src="https://habrastorage.org/webt/2w/pc/sz/2wpcszhqlfhyao4_qg6bpkrillw.png" alt="Genmon" title="Genmon"><br><br><h3>  3. Quando o programa ainda n√£o existe, j√° existem erros </h3><br>  Se voc√™ concluiu todas essas etapas agora - criou arquivos e iniciou o plug-in no painel -, ver√° o resultado do lan√ßamento do nosso programa l√° (mensagem de erro: o arquivo mon.sh n√£o √© um programa).  Em seguida, para tornar o arquivo execut√°vel, acesse nossa pasta e defina a permiss√£o para executar - <ul><li>  ou gerenciador de arquivos: Propriedades - Permiss√µes - Permite que este arquivo seja executado como um programa; </li><li>  ou um comando do terminal: <b>chmod 755 mon.sh</b> </li></ul><br>  E no pr√≥prio arquivo, escrevemos as primeiras linhas: <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # Monitor server responses (run this every 60 seconds): # info=$(curl -I -o /dev/stdout -w '%{time_total}' --url https://example.ru/ -m 9 -s) errr=$(echo $?)</span></span></code> </pre> <br>  Em vez de "example.ru", substitua o nome do seu site, cujo estado voc√™ observar√°.  E se funcionar em http, coloque http em vez de https.  A linha #! / Bin / bash significa que este √© um script a ser iniciado pelo programa Bash (o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">bash</a> √© provavelmente o mais comum para a execu√ß√£o de scripts no Linux).  Para trabalhar com outro shell, √© indicado em vez do Bash.  As linhas restantes com uma acentuada no in√≠cio s√£o coment√°rios.  A primeira linha de c√≥digo em si √© <b>info = $ ()</b> e, entre par√™nteses, √© o comando curl com par√¢metros.  Tal constru√ß√£o - algo = $ (algo) - significa "executar o comando entre colchetes e atribuir o resultado √† vari√°vel √† esquerda".  Nesse caso, chamei a vari√°vel "info".  Este comando entre colchetes - curl (no jarg√£o referido por alguns como "Kurl") - envia uma solicita√ß√£o para a rede no endere√ßo especificado e retorna a resposta do servidor.  (Meu conhecido disse, explicando: "Como o guindaste resmunga - e recebe uma resposta de outro guindaste no c√©u".)  Considere as op√ß√µes: <br><br><pre> <code class="bash hljs">curl -I -o /dev/stdout -w <span class="hljs-string"><span class="hljs-string">'%{time_total}'</span></span> --url https://example.ru/ -m 9 -s</code> </pre><br>  <b>-I</b> significa que n√£o solicitamos a p√°gina inteira, mas apenas seus "cabe√ßalhos HTTP".  Toda vez que n√£o precisamos do texto completo da p√°gina para garantir que o site esteja funcionando.  Como verificaremos o site com frequ√™ncia, √© importante tornar o tamanho dos dados transmitidos o menor poss√≠vel.  Isso economiza tr√°fego, eletricidade e carga no servidor - e vida selvagem. <br><br>  A prop√≥sito, preste aten√ß√£o √† quantidade de tr√°fego dispon√≠vel (n√£o utilizado por m√™s) na hospedagem.  Abaixo, voc√™ ver√° a quantidade de dados transmitidos e poder√° calcular se possui reservas suficientes;  se houver, o per√≠odo de verifica√ß√£o do site pode ser aumentado para 5, 10 ou at√© 30 a 60 minutos.  Embora neste caso a imagem n√£o seja t√£o completa - e pequenas interrup√ß√µes podem passar despercebidas;  mas, em geral, ao monitorar um site, √© mais importante detectar problemas de longo prazo do que uma √∫nica interrup√ß√£o.  Al√©m disso, qual tr√°fego voc√™ pode pagar no computador que est√° chamando?  No meu caso - um PC de mesa com tr√°fego ilimitado - isso n√£o √© t√£o importante;  mas para um dispositivo m√≥vel ou tarifa com limites, vale a pena calcular e, possivelmente, aumentar os intervalos de inspe√ß√£o. <br><br><h3>  4. O passo segue o passo, exceto o primeiro passo </h3><br>  Vamos al√©m: <b>-o / dev / stdout</b> significa "enviar a resposta recebida pelo Kurl do servidor para tal e tal arquivo".  E, neste caso, este n√£o √© um arquivo no disco, mas / dev / stdout - dispositivo de sa√≠da padr√£o.  Normalmente, o "dispositivo de sa√≠da padr√£o" √© a nossa tela, onde podemos ver os resultados do programa.  Por√©m, no script, geralmente direcionamos essa "sa√≠da padr√£o" para processamento adicional (agora - salve-a na vari√°vel info).  E ent√£o, na maioria das vezes, enviamos os resultados das equipes para vari√°veis ‚Äã‚Äãou os passamos para as pr√≥ximas equipes em uma cadeia.  Para criar cadeias a partir de comandos, use o operador de tubula√ß√£o ("Tubula√ß√£o"), exibido como uma barra vertical ("|"). <br><br>  <b>-w '% {time_total} eyayu'</b> : aqui -w significa "formatar e fornecer essas e outras informa√ß√µes adicionais a um dispositivo de sa√≠da padr√£o".  Especificamente, estamos interessados ‚Äã‚Äãem time_total - quanto tempo a transmiss√£o de solicita√ß√£o-resposta entre n√≥s e o servidor levou.  Voc√™ provavelmente sabe que existe um comando mais simples, o ping, para solicitar rapidamente um servidor e obter uma resposta dele, pong.  Mas o Ping verifica apenas se o servidor de hospedagem est√° ativo e o sinal vai e volta por tanto tempo.  Isso mostra a velocidade m√°xima de acesso, mas ainda n√£o nos diz nada sobre a rapidez com que o site produz conte√∫do real.  O ping pode funcionar rapidamente e, ao mesmo tempo, o site pode ficar lento ou n√£o funcionar - devido a alta carga ou a alguns problemas internos.  Portanto, usamos exatamente o Kurla e obtemos o tempo real em que o servidor exibe nosso conte√∫do. <br><br>  (E por esse par√¢metro, voc√™ pode avaliar se o servidor est√° funcionando com efici√™ncia para suas tarefas, se o tempo de resposta t√≠pico √© conveniente para os usu√°rios. Existem problemas - por exemplo, meus sites em muitos sites de hospedagem diminu√≠ram com o tempo e eu tive que procurar outra hospedagem). <br><br>  Voc√™ notou as letras estranhas "eyu" depois de {time_total}?  Eu os adicionei como um r√≥tulo exclusivo, que provavelmente n√£o estar√° nos cabe√ßalhos enviados a n√≥s pelo servidor (embora fa√ßa suposi√ß√µes sobre o que seus usu√°rios ter√£o ou n√£o ter√£o, √© uma m√° forma e o caminho para o abismo. N√£o fa√ßa isso! .. Ou, quando voc√™ faz , pelo menos tenha vergonha de voc√™).  Por esse r√≥tulo (espero), podemos facilmente extrair as informa√ß√µes necess√°rias de um monte de linhas na vari√°vel info.  Portanto, <b>curl -w '% {time_total} ehayu'</b> (com os demais par√¢metros corretos) nos dar√° algo como: <br><br>  0.215238eyayu <br><br>  Este √© o n√∫mero de segundos que levou para acessar o site, al√©m de nosso r√≥tulo.  (Al√©m deste par√¢metro, na vari√°vel info, estaremos interessados ‚Äã‚Äãprincipalmente no "C√≥digo de status" - o c√≥digo de status ou, simplesmente, o c√≥digo de resposta do servidor. Geralmente, quando o servidor emite o arquivo solicitado, o c√≥digo √© "200". Quando a p√°gina n√£o √© encontrada , esse √© o famoso 404. Quando h√° erros no servidor, geralmente √© 500 com alguma coisa). <br><br><img src="https://habrastorage.org/webt/ka/rc/nk/karcnk8ggbptl5raex3j67k_aea.jpeg" alt="404" title="404"><br><br><h3>  5. Criatividade - o pai do autoteste </h3><br>  Os demais par√¢metros de nossa curvatura s√£o os seguintes: <br><br><pre> <code class="bash hljs">--url https://example.ru/ -m 9 -s</code> </pre> <br>  o que significa: solicitar tal endere√ßo;  o tempo m√°ximo de resposta √© de 9 segundos (voc√™ pode definir menos, porque um usu√°rio raro aguardar√° uma resposta do site por tanto tempo, ele rapidamente descobrir√° que o site n√£o est√° funcionando).  E "-s" significa silencioso, ou seja, curl n√£o nos fornece detalhes desnecess√°rios. <br><br>  A prop√≥sito, geralmente n√£o h√° muito espa√ßo no painel da √°rea de trabalho; portanto, para depurar um script, √© melhor execut√°-lo a partir do terminal (em sua pasta, usando o comando ./mon.sh).  E para o plug-in do painel, colocaremos uma longa pausa entre os lan√ßamentos do comando - digamos, 3600 segundos. <br><br>  Para depura√ß√£o, podemos executar essa curvatura sem colchetes e ver o que ela produz.  (A partir disso e calcular o consumo de tr√°fego).  Veremos principalmente um conjunto de cabe√ßalhos HTTP, como: <br><br><pre> <code class="plaintext hljs">HTTP/1.1 302 Found Server: QRATOR Date: Sun, 11 Feb 2019 08:06:57 GMT Content-Type: text/html; charset=UTF-8 Connection: keep-alive Keep-Alive: timeout=15 X-Powered-By: PHP/7.2.14-1+ubuntu16.04.1+deb.sury.org+1 Location: https://habr.com/ru/ X-Frame-Options: SAMEORIGIN X-Content-Type-Options: nosniff Strict-Transport-Security: max-age=63072000; includeSubDomains; preload X-Cache-Status: HIT 0.033113</code> </pre><br>  A primeira linha aqui vemos "HTTP / 1.1 302 encontrado" - o que significa: o protocolo de transfer√™ncia de dados √© "HTTP / 1.1", o c√≥digo de resposta do servidor √© "302 encontrado".  Ao solicitar outra p√°gina, pode ser o c√≥digo "301 movido permanentemente" etc.  Em outro exemplo, a resposta normal do meu servidor √© "HTTP / 2 200".  Se o seu servidor normalmente responde de maneira diferente, substitua-o por "resposta / 200" neste script. <br><br>  A √∫ltima linha, como vemos, Kurl fornece, em quantos segundos recebemos a resposta do servidor, com nosso r√≥tulo atribu√≠do. <br><br>  Interessante: podemos configurar o site para que ele relate nossos pedidos (e somente neles!) Informa√ß√µes adicionais sobre seu estado - por exemplo, no cabe√ßalho HTTP "caseiro".  Digamos qual √© a carga nos processadores do site, quanta mem√≥ria livre e espa√ßo em disco ele possui e com que rapidez o banco de dados est√° funcionando.  (Obviamente, para isso, o site deve ser din√¢mico, ou seja, as solicita√ß√µes devem ser processadas pelo programa - em PHP, Node.JS, etc. Outra op√ß√£o √© usar software especial no servidor).  Mas talvez ainda n√£o precisemos desses detalhes.  O objetivo deste script √© simplesmente monitorar regularmente o desempenho geral do site.  Em caso de problemas - j√° trataremos do diagn√≥stico por outros meios.  Portanto, agora estamos escrevendo o script mais simples que funcionar√° para qualquer site, mesmo est√°tico, e sem configura√ß√µes adicionais no servidor.  No futuro, se desejado, ser√° poss√≠vel expandir os recursos do script;  Enquanto isso, fa√ßa a base. <br><br>  A string <b>errr = $ (eco $?)</b> Significa: escreva o resultado do comando ‚Äúecho $?‚Äù Na vari√°vel errr.  O comando echo significa imprimir algum texto no dispositivo de sa√≠da padr√£o (stdout) e os caracteres "$?"  - Este √© o c√≥digo de erro atual (restante do comando anterior).  Portanto, se nosso curl n√£o conseguir acessar o servidor repentinamente, ele fornecer√° um c√≥digo de erro diferente de zero, e descobriremos isso verificando a vari√°vel errr. <br><br><h3>  6. Conveni√™ncia </h3><br>  Aqui, quero fazer uma pequena digress√£o de assuntos t√©cnicos para tornar a leitura do texto mais interessante.  (Se voc√™ n√£o concordar, pule tr√™s par√°grafos).  Eu direi que toda atividade humana √© apropriada √† sua maneira.  Mesmo quando uma pessoa bate intencionalmente sua testa contra uma parede (ou no ch√£o ... no teclado ...), isso tem sua pr√≥pria conveni√™ncia.  Por exemplo, fornece uma sa√≠da para energia emocional - talvez n√£o da melhor maneira, mas como pode.  (Sim, e o pr√≥prio conceito de "melhor" n√£o faz sentido do ponto de vista <i>deste momento neste lugar</i> - porque o melhor e o pior s√£o poss√≠veis apenas em compara√ß√£o com outra coisa). <br><br>  Estou escrevendo este texto agora, em vez de casos aparentemente mais importantes para mim - por qu√™?  Em primeiro lugar, para fazer um balan√ßo, revisar e classificar internamente as prateleiras do que aprendi escrevendo scripts nesses dois dias ... Remova-o da RAM e armazene-o.  Em segundo lugar, dessa maneira, descanse um pouco ... Em terceiro lugar, espero que essa explica√ß√£o mastigada seja √∫til para outra pessoa (e para mim, talvez um dia).  Como, n√£o importa se √© o melhor, mas distinto lembrete sobre o assunto de scripts e solicita√ß√µes de servidor. <br><br>  Algu√©m, talvez, me corrija algo, e o resultado se tornar√° ainda melhor.  Algu√©m receber√° uma informa√ß√£o √∫til.  √â apropriado?  Talvez ... isso √© o que eu posso fazer agora e estou fazendo.  Amanh√£, talvez eu acorde e reavalie as a√ß√µes atuais ... mas essa reavalia√ß√£o tamb√©m fornecer√° algo √∫til para a vida adulta. <br><br>  Portanto, ao atender a solicita√ß√£o, temos dois dados: <br><br><ul><li>  o bloco principal de informa√ß√µes do servidor (se, √© claro, a resposta do servidor veio), n√≥s as escrevemos na vari√°vel info; </li><li>  c√≥digo de erro do comando curl (0, se n√£o houver erros) - gravado na vari√°vel errr. </li></ul><br>  Precisamente porque ambos os totais - informa√ß√µes e c√≥digo de erro - s√£o necess√°rios, eu os escrevi em vari√°veis ‚Äã‚Äãe n√£o repasse imediatamente os totais de Kurl para outras equipes atrav√©s do Pipe.  Mas agora neste script √© hora de subir nos canos: <br><br><pre> <code class="bash hljs">code=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$info</span></span></span><span class="hljs-string">"</span></span> | grep HTTP | grep -v <span class="hljs-string"><span class="hljs-string">'HTTP/2 200'</span></span>) date=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$info</span></span></span><span class="hljs-string">"</span></span> | grep -i <span class="hljs-string"><span class="hljs-string">'date:'</span></span>) dlay=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$info</span></span></span><span class="hljs-string">"</span></span> | grep  | sed -e <span class="hljs-string"><span class="hljs-string">'s///'</span></span>)</code> </pre><br>  Em cada uma dessas linhas, escrevemos outra vari√°vel - salvamos os resultados da execu√ß√£o de comandos.  E em cada caso n√£o √© uma equipe, mas uma corrente;  o primeiro link √© o mesmo em todo lugar: <b>echo "$ info"</b> - retorna ao fluxo do dispositivo de sa√≠da padr√£o (stdout) o pr√≥prio bloco de informa√ß√µes que salvamos e recebemos do curl.  Mais abaixo no canal, esse fluxo √© passado para o comando grep.  O Grep seleciona de todas as linhas apenas aquelas em que corresponde ao padr√£o.  (A op√ß√£o -i significa "diferencia mai√∫sculas de min√∫sculas").  Como voc√™ pode ver, no primeiro caso, selecionamos a linha que cont√©m "HTTP".  Essa linha, extra√≠da da pilha do restante, √© passada pelo canal para o comando <b>grep -v 'HTTP / 2 200'</b> .  Aqui, a <b>op√ß√£o -v</b> √© o oposto da op√ß√£o <b>-e</b> , filtra as linhas onde esse padr√£o √© encontrado.  Total, na vari√°vel de c√≥digo, haver√° uma linha com o c√≥digo de resposta do servidor (como ‚ÄúHTTP / 1.1 302 encontrado‚Äù), mas apenas se n√£o for 'HTTP / 2 200'.  Portanto, filtrei as linhas que meu site envia no caso normal e salvo apenas as respostas "anormais".  (Se voc√™ tiver uma resposta normal do servidor, substitua-a l√°). <br><br>  Da mesma forma, na vari√°vel date, escrevemos a linha na qual o servidor emitiu sua data e hora atuais.  Isso √© algo como " <b>data: dom, 11 de fevereiro de 2019 √†s 08:06:57 GMT</b> " (geralmente no fuso hor√°rio GMT, tamb√©m conhecido como UTC).  Precisamos escrever a data (mas apenas uma vez por dia!) Em nosso arquivo de log ("log de status do servidor") - server.log.  E, ao mesmo tempo, exibiremos esse tempo na tela.  Voc√™ pode escrever uma data e hora no log do seu computador, mas por conveni√™ncia, n√≥s as aceitamos, j√° que o servidor as enviou de qualquer maneira. <br><br>  √â semelhante √† nossa terceira vari√°vel, dlay (da palavra em ingl√™s delay - delay).  Selecionamos a linha em nosso r√≥tulo de concurso "eeyu", na qual mantivemos a dura√ß√£o da espera por uma resposta do servidor.  Removemos esse r√≥tulo, que n√£o √© mais necess√°rio, usando o comando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sed</a> - e salvamos o resultado. <br><br>  Agora, se imprimirmos essas vari√°veis ‚Äã‚Äãpara verifica√ß√£o - por exemplo, adicionando as linhas ao nosso script: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'errr: %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$errr</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'code: %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$code</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$date</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'dlay: %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dlay</span></span></span><span class="hljs-string">"</span></span></code> </pre><br>  voc√™ deve obter algo como: <br><br><pre> <code class="plaintext hljs">errr: 0 code: date: Mon, 11 Feb 2019 12:46:18 GMT dlay: 0.236549</code> </pre><br>  Total: o c√≥digo de erro do curl √© zero (o que significa que funcionou bem).  C√≥digo de status do servidor - n√£o gravado (como era normal).  Data e hora.  A dura√ß√£o da resposta.  Resta exibir corretamente o que voc√™ precisa na tela e, se necess√°rio, gravar em um arquivo. <br><br>  Isso √© o mais interessante: o qu√™, sob quais condi√ß√µes e como gravar? <br><br><h3>  7. Conclus√µes complicadas </h3><br>  Para n√£o incomod√°-lo com mais detalhes, eu lhe digo brevemente (e h√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">diret√≥rios</a> suficientes em todos esses comandos na Internet).  A prop√≥sito, a brevidade √© um dos principais objetivos que alcan√ßaremos ao escrever neste log.  Ent√£o, ser√° conveniente para a visualiza√ß√£o e nunca ocupar√° muito espa√ßo em disco (diferente de outros logs que crescem em megabytes por dia). <br><br>  Primeiro: certifique-se de escrever a data no log apenas uma vez, e n√£o em cada linha.  Para fazer isso, selecione da data vari√°vel individualmente a data atual (curr) e a hora (hora): <br><br><pre> <code class="bash hljs">curr=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$date</span></span></span><span class="hljs-string">"</span></span> | sed -e <span class="hljs-string"><span class="hljs-string">'s/\(20[0-9][0-9]\).*$/\1/'</span></span>) time=$(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$date</span></span></span><span class="hljs-string">"</span></span> | sed -e <span class="hljs-string"><span class="hljs-string">'s/^.*\ \([0-9][0-9]:.*\)\ GMT\r$/\1/'</span></span>)</code> </pre><br>  E tamb√©m consideramos linhas com datas do arquivo de log e pegamos a √∫ltima data (anterior): <br><br><pre> <code class="bash hljs">prev=$(cat /home/me/Progs/iNet/monitor/site.log | grep -e <span class="hljs-string"><span class="hljs-string">'date:'</span></span> | tail -1)</code> </pre><br>  Se nossa data atual (curr) n√£o for igual √† data anterior (do arquivo, prev), ent√£o um novo dia chegou (ou, digamos, o arquivo de log estava vazio);  depois escreva a nova data no arquivo: <br><br><pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> [[ <span class="hljs-variable"><span class="hljs-variable">$curr</span></span> != <span class="hljs-variable"><span class="hljs-variable">$prev</span></span> ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$curr</span></span></span><span class="hljs-string">"</span></span> &gt;&gt;/home/me/Progs/iNet/monitor/site.log <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s %s %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$time</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dlay</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$code</span></span></span><span class="hljs-string">"</span></span> &gt;&gt;/home/me/Progs/iNet/monitor/site.log</code> </pre><br>  ... e, ao mesmo tempo, registramos as informa√ß√µes atuais: hora, atraso no recebimento de uma resposta do site, c√≥digo de resposta do site (se n√£o comum): <br><br><pre> <code class="bash hljs"> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s %s %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$time</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dlay</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$code</span></span></span><span class="hljs-string">"</span></span> &gt;&gt;/home/me/Progs/iNet/monitor/site.log</code> </pre><br>  Isso ajudar√° a navegar: esse e aquele dia come√ßaram com uma velocidade do site.  Em outros casos, n√£o vamos desorganizar o arquivo com entradas desnecess√°rias.  Obviamente, anot√°-la-emos se recebermos um c√≥digo de status incomum do servidor: <br><br><pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> [[ -n <span class="hljs-variable"><span class="hljs-variable">$code</span></span> ]]; <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s %s %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$time</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dlay</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$code</span></span></span><span class="hljs-string">"</span></span> &gt;&gt;/home/me/Progs/iNet/monitor/site.log</code> </pre><br>  E tamb√©m escreva se o tempo de resposta do servidor for maior que o normal.  Meu site geralmente era respons√°vel por 0,23 a 0,25 segundos; portanto, registro respostas que levaram mais de 0,3 segundos: <br><br><pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> (( $(<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dlay</span></span></span><span class="hljs-string"> &gt; 0.3"</span></span> | bc -l) )); <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$time</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dlay</span></span></span><span class="hljs-string">"</span></span> &gt;&gt;/home/me/Progs/iNet/monitor/site.log</code> </pre><br>  Finalmente, uma vez por hora, simplesmente registro o tempo recebido do servidor - como um sinal de que ele est√° vivo e ao mesmo tempo como uma esp√©cie de marca√ß√£o do arquivo: <br><br><pre> <code class="bash hljs"><span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$time</span></span></span><span class="hljs-string">"</span></span> | grep -e :00: | cat &gt;&gt;/home/me/Progs/iNet/monitor/site.log <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre><br>  Obtemos o conte√∫do do arquivo em que a marca√ß√£o com registros hor√°rios ajuda visualmente, sem ler, a ver quando a carga √© maior ou menor (mais registros por hora): <br><br><pre> <code class="plaintext hljs">19:42:28 0.461214 19:53:29 0.443956 20:00:29 20:09:30 2.156462 20:10:29 0.358294 20:45:29 0.313378 20:51:30 0.563886 20:54:30 0.307219 21:00:30 0.722343 21:01:30 0.310284 21:09:30 0.379662 21:10:31 1.305779 21:12:35 5.799455 21:23:31 1.054537 21:24:31 1.230391 21:40:31 0.461266 21:42:37 7.140093 22:00:31 22:12:37 5.724768 22:14:31 0.303500 22:42:37 5.735173 23:00:32 23:10:32 0.318207 date: Mon, 11 Feb 2019 00:00:34 0.235298 00:01:33 0.315093 01:00:34 01:37:41 5.741847 02:00:36 02:48:37 0.343234 02:56:37 0.647698 02:57:38 1.670538 02:58:39 2.327980 02:59:37 0.663547 03:00:37 03:40:38 0.331613 04:00:38 04:11:38 0.217022 04:50:39 0.313566 04:55:45 5.719911 05:00:39</code> </pre><br>  E, finalmente, exibimos informa√ß√µes na tela.  Al√©m disso, se a curvatura falhar, exibimos e escrevemos uma mensagem sobre ela (e, ao mesmo tempo, executamos o Ping e efetuamos login para verificar se o servidor est√° ativo): <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'%s\n%s\n%s'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$time</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$dlay</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$code</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (( <span class="hljs-variable"><span class="hljs-variable">$errr</span></span> != 0 )); <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> date &gt;&gt;/home/me/Progs/iNet/monitor/site.log date <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'CURL Request failed. Error: %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$errr</span></span></span><span class="hljs-string">"</span></span> &gt;&gt;/home/me/Progs/iNet/monitor/site.log <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'CURL Request failed. Error: %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$errr</span></span></span><span class="hljs-string">"</span></span> pung=$(ping -c 1 178.248.237.68) <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'Ping: %s\n----\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$pung</span></span></span><span class="hljs-string">"</span></span> &gt;&gt;/home/me/Progs/iNet/monitor/site.log <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span> <span class="hljs-string"><span class="hljs-string">'Ping: %s\n'</span></span> <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">$pung</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">fi</span></span></code> </pre><br>  Substitua o endere√ßo IP na cadeia de ping pelo endere√ßo IP real do seu site. <br><br><h3>  8. Posf√°cio </h3><br>  O resultado do trabalho: <br><br><img src="https://habrastorage.org/webt/hk/zs/v-/hkzsv-3j9g-cv-wqklt2szu37hk.jpeg" alt="O monitor mais simples do site" title="Sobre o monitor mais simples do site"><br><br>  √Ä esquerda no painel, voc√™ pode ver a hora no UTC e a capacidade de resposta atual do site.  √Ä direita est√° o log: √© vis√≠vel para o rally, mesmo com uma rolagem superficial, durante que horas a carga foi mais ou menos.  Voc√™ tamb√©m pode perceber respostas anormalmente lentas (picos; embora ainda n√£o esteja claro de onde elas v√™m). <br><br>  Isso √© tudo.  O script acabou sendo simples, em carvalho, e pode ser aprimorado: trabalho em otimiza√ß√£o, portabilidade, aprimoramento de notifica√ß√µes e exibi√ß√µes, levando em considera√ß√£o o proxy e o cache ... <br><br>  Mas j√° nesse tipo de programa, provavelmente ele pode dar uma id√©ia do estado do seu site.  E que seja um site sabiamente apropriado, √∫til para pessoas e todas as criaturas! <br><br><div class="spoiler">  <b class="spoiler_title">Texto completo do script com coment√°rios.</b>  <b class="spoiler_title">N√£o se esque√ßa de fazer as altera√ß√µes necess√°rias!</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # Monitor server responses (run this every 60 seconds): info=$(curl -I -o /dev/stdout -w '%{time_total}' --url https://example.ru/ -m 9 -s) errr=$(echo $?) # errr = CURL error code https://curl.haxx.se/libcurl/c/libcurl-errors.html code=$(echo "$info" | grep HTTP | grep -v 'HTTP/2 200') date=$(echo "$info" | grep -i 'date:') dlay=$(echo "$info" | grep  | sed -e 's///') # code = Response code = 200? # =&gt; empty, otherwise response code string # # date = from HTTP Header of the server responded, like: # Date: Sun, 10 Feb 2019 05:01:50 GMT # # dlay = Response delay ("time_total") from CURL, like: # 0.25321 #printf 'errr: %s\n' "$errr" #printf 'code: %s\n' "$code" #printf '%s\n' "$date" #printf 'dlay: %s\n' "$dlay" curr=$(echo "$date" | sed -e 's/\(20[0-9][0-9]\).*$/\1/') time=$(echo "$date" | sed -e 's/^.*\ \([0-9][0-9]:.*\)\ GMT\r$/\1/') prev=$(cat /home/me/Progs/iNet/monitor/site.log | grep -e 'date:' | tail -1) # = Previously logged date, like: # date: Sun, 10 Feb 2019 # Day logged before vs day returned by the server; usually the same if [[ $curr != $prev ]]; then # Write date etc., at the beginning of every day: printf '%s\n' "$curr" &gt;&gt;/home/me/Progs/iNet/monitor/site.log printf '%s %s %s\n' "$time" "$dlay" "$code" &gt;&gt;/home/me/Progs/iNet/monitor/site.log elif [[ -n $code ]]; then # If the response had HTTP error code - log it: printf '%s %s ? %s\n' "$time" "$dlay" "$code" &gt;&gt;/home/me/Progs/iNet/monitor/site.log elif (( $(echo "$dlay &gt; 0.3" | bc -l) )); then # If the response delay was large - log it: printf '%s %s %s\n' "$time" "$dlay" "$code" &gt;&gt;/home/me/Progs/iNet/monitor/site.log else # If it's the start of an hour - just log the time echo "$time" | grep -e :00: | cat &gt;&gt;/home/me/Progs/iNet/monitor/site.log fi # To screen: printf '%s\n%s\n%s' "$time" "$dlay" "$code" # On CURL error: if (( $errr != 0 )); then date &gt;&gt;/home/me/Progs/iNet/monitor/site.log date printf 'CURL Request failed. Error: %s\n' "$errr" &gt;&gt;/home/me/Progs/iNet/monitor/site.log printf 'CURL Request failed. Error: %s\n' "$errr" pung=$(ping -c 1 178.248.237.68) printf 'Ping: %s\n----\n' "$pung" &gt;&gt;/home/me/Progs/iNet/monitor/site.log printf 'Ping: %s\n' "$pung" fi</span></span></code> </pre><br></div></div><br><br>  <b>PS.</b>  <b>Ap√≥s a discuss√£o</b> (em 12/02/2019): <br><br>  Como eu esperava, os especialistas escreveram muitos coment√°rios interessantes. <br><br>  Tendo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">refletido</a> sobre isso, posso responder √† pergunta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">rsashka</a> , qual √© a vantagem desse script. <br><br>  Outras ferramentas, como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NetData</a> (gra√ßas a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">tchspprt</a> pela dica!), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">Fornecem</a> uma grande variedade de dados que n√£o ser√£o armazenados por muito tempo.  O NetData √© uma boa ferramenta quando voc√™ trabalha todos os dias, mant√©m sites profissionalmente.  Bom para diagnosticar problemas atuais. <br><br>  Um roteiro como o meu √© ficar de olho enquanto faz outras coisas.  O script n√£o requer estudo e configura√ß√µes especiais.  Isso n√£o √© ruim para os leigos.  E seus logs ocupam t√£o pouco espa√ßo que n√£o podem ser apagados.  Eles podem se acumular ao longo dos anos, e nos anos N + 1 voc√™ pode ver: "Uau, em 2019, meu tempo de resposta foi uma vez e meia menor! .." <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ou seja, essa solu√ß√£o tem seu pr√≥prio nicho - principalmente para administradores que n√£o s√£o do sistema constantemente. (Como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tchspprt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diz </font><font style="vertical-align: inherit;">: "√â sobre como alimentar o gato de um vizinho em f√©rias"). </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A andreymal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> recomendou uma maneira interessante de levar em conta e visualizar a carga do site, sem recursos adicionais, simplesmente atrav√©s dos registros de acesso no site. E voc√™ pode criar belos gr√°ficos neles. Provavelmente vou tentar esta op√ß√£o e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">postar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Github o</font></a><font style="vertical-align: inherit;"> que aconteceu. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unnforgiven</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aconselhou outra solu√ß√£o interessante - provavelmente uma simples (instale prometheus, blackbox e alermanager via docker compositer). No meu VPS simples e barato, n√£o √© suficiente para essa mem√≥ria; e Linux com um kernel antigo - o Docker n√£o ser√° iniciado. Mas obrigado pela op√ß√£o! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outra dica</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tchspprt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Grafite + Prometeu + Grafana. </font><font style="vertical-align: inherit;">Ou forne√ßa ao script belos gr√°ficos (gnuplot ou rrdtool). </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mcalexvrn</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> recomenda uma ferramenta simples: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uptimerobot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font> Obrigada <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agrade√ßo a todos por uma variedade de informa√ß√µes! </font><font style="vertical-align: inherit;">Que seja √∫til para as pessoas ...</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt439894/">https://habr.com/ru/post/pt439894/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt439882/index.html">Aventura com ptrace (2)</a></li>
<li><a href="../pt439884/index.html">Como recusar boletins desnecess√°rios com um √∫nico bot√£o. Experi√™ncia em equipe do Yandex.Mail</a></li>
<li><a href="../pt439886/index.html">Como eu ensinei uma rede neural a implementar a fun√ß√£o de avalia√ß√£o de posi√ß√£o na Copa da AI da R√∫ssia CodeBall 2018</a></li>
<li><a href="../pt439890/index.html">As habilidades s√£o 100% ou menos.</a></li>
<li><a href="../pt439892/index.html">Como planejar um ano. Estudo de caso da empresa de TI 120 pessoas e duas pr√°ticas para pequenas equipes</a></li>
<li><a href="../pt439896/index.html">√âtica das contribui√ß√µes autom√°ticas</a></li>
<li><a href="../pt439898/index.html">Automa√ß√£o VBA e Python para Excel e MS Office</a></li>
<li><a href="../pt439900/index.html">Julia e o m√©todo de descida de coordenadas</a></li>
<li><a href="../pt439902/index.html">Explica√ß√£o da natureza f√≠sica do fen√¥meno "For√ßa de sustenta√ß√£o da asa" sem usar a equa√ß√£o de Bernoulli. Parte 2</a></li>
<li><a href="../pt439906/index.html">Vulnerabilidade cr√≠tica em produtos antiv√≠rus Zemana e muito mais</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>