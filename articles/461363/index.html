<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßúüèø üéÜ ‚ÜòÔ∏è Hervidor de agua y asistentes de voz. El comienzo de una gran amistad. ü§òüèΩ üë©üèΩ‚Äçüîß üóëÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¬øQu√© tenemos en un momento dado en el mundo de GA ? Hecho conocido: cada una de las grandes empresas de TI tiene su propia herramienta para trabajar c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Hervidor de agua y asistentes de voz. El comienzo de una gran amistad.</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/readyforsky/blog/461363/"><img src="https://habrastorage.org/webt/lk/a3/rh/lka3rhuphajcjx25rj3w-eqv_1g.png"><br><br>  ¬øQu√© tenemos en un momento dado en el mundo de <abbr title="Asistente de voz">GA</abbr> ?  Hecho conocido: cada una de las grandes empresas de TI tiene su propia herramienta para trabajar con hogares inteligentes.  Y cada proveedor proporciona su propia API para aquellos interesados ‚Äã‚Äãen la integraci√≥n.  Y en la etapa inicial, incluso paga a los desarrolladores por nuevas habilidades (acciones, habilidades, etc., de acuerdo con la terminolog√≠a del proveedor). <br><br>  El servicio m√°s conveniente y pr√°ctico hasta la fecha, seg√∫n nuestros expertos, es Amazon Alexa.  Ella tiene m√°s oportunidades para la formaci√≥n de habilidades detalladas que el Asistente de Google, Yandex "Alice", Mail.Ru "Maroussia", Tinkoff "Oleg" y otros.  Para Alexa, un dispositivo es una entidad virtual param√©trica, como resultado de lo cual las habilidades se pueden personalizar para cada dispositivo individualmente.  Por ejemplo, adem√°s de la temperatura del agua, puede especificar los consumibles que el asistente ofrecer√° para comprar en Amazon.  Pero, desafortunadamente, Alexa actualmente no es compatible con el idioma ruso y no funciona en el territorio de la Federaci√≥n Rusa, por lo que esta GA es in√∫til para un usuario ruso.  En Google y Yandex, el asistente es m√°s "natural": recibe y responde comandos en el lenguaje "humano", puede mantener un di√°logo con el usuario, lo que hace que este GA sea m√°s agradable de usar.  El √∫nico inconveniente serio de Google fue que sus acciones no eran compatibles con el idioma ruso.  Sin embargo, desde el 24 de julio de 2019, Google Actions ha estado trabajando en "tel√©fonos" en ruso, por lo que sus colegas han eliminado este inconveniente. <br><br>  Esto esta bien.  ¬øY si queremos integrar un dispositivo con varios GA? <br><a name="habracut"></a><br>  Es posible  Usando el dispositivo. <br><br>  Un dispositivo es una entidad con su comportamiento en el sistema.  Este es un principio com√∫n para todos los vendedores.  Y aqu√≠ vale la pena detenerse, aqu√≠ comienza toda la diversi√≥n.  Las diferencias est√°n en los enfoques.  Por ejemplo, Google y Yandex est√°n tratando de estandarizar la gesti√≥n de la tecnolog√≠a.  Es decir, ahora es necesario escribir c√≥digo no para cada dispositivo individual, pero un programa para toda la serie es suficiente.  E incluso si el firmware cambia, tendr√° que cambiar el c√≥digo una vez, lo cual es muy conveniente.  Nuestra empresa ya tiene integraci√≥n con Google, Yandex, Amazon.  Technique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">escucha a Alice</a> , Alex y el asistente de Google.  Anteriormente mostramos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">eso dentro de asistentes de voz</a> . <br><br><h3>  <b>¬øDe d√≥nde vinieron los asistentes de voz?</b> </h3><br>  Uno de los sistemas de reconocimiento de voz m√°s avanzados del mundo pertenece a Google, su historia comenz√≥ en 2002.  La compa√±√≠a lanz√≥ Voice Search, sobre la base de la cual se desarroll√≥ el Asistente de Google.  En 2016, fue presentado en la presentaci√≥n de Google I / O.  Google Home es una de las 'superficies' para el Asistente de Google.  Ahora la precisi√≥n del reconocimiento de voz de su AG se estima en un 95% y casi inferior a la de las personas. <br><br>  El asistente de voz de Alexa fue presentado por Amazon en 2014. La columna inteligente Amazon Echo, que puede controlar una gran cantidad de dispositivos dentro de una casa inteligente, tambi√©n se present√≥ all√≠. <br><br>  Yandex SpeechKit: sistema de reconocimiento de voz Yandex.  Se utiliza en m√°s de 400 aplicaciones.  La compa√±√≠a tambi√©n integra su GA, Alice, en navegadores y dispositivos electr√≥nicos.  La compa√±√≠a rusa present√≥ su GA en 2017, y ya en el oto√±o de 2018, Yandex lanz√≥ su columna inteligente Yandex.Station. <br><br><h3>  <b>Nuestros expertos dicen que para el a√±o ciento cincuenta y seis ...</b> </h3><br>  Estamos bromeando, hasta ahora solo para 2020.  Un poco sobre estad√≠sticas: <br><br><ol><li>  En 2017, se registraron aproximadamente 33 millones de dispositivos controlados por voz en todo el mundo; </li><li>  Los expertos occidentales llamaron a la b√∫squeda por voz una de las <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">3 principales tendencias de SEO en 2017</a> ; </li><li>  Para 2018, Google Assistant funciona en 400 millones de dispositivos en todo el mundo.  Y esta cifra solo est√° creciendo; </li><li>  Seg√∫n el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Global Web Index</a> , el 25% de las personas de entre 16 y 24 a√±os usan la b√∫squeda por voz desde dispositivos m√≥viles; </li><li>  Seg√∫n las previsiones de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Comscore</a> , para 2020, el 50% de las solicitudes se realizar√°n por voz; </li><li>  Seg√∫n una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">investigaci√≥n realizada por WalkerSands en 2018</a> , cada quinto usuario de un altavoz inteligente de Amazon lo compr√≥ y un tercero planeaba hacerlo el pr√≥ximo a√±o; </li><li>  Seg√∫n un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">estudio de PWC</a> , el 71% de los usuarios que buscan en la web preferir√≠an escribir voces en lugar de hacerlo manualmente. </li></ol><br>  Como puede comprender, la tendencia a usar GA est√° aumentando, lo que sugiere que es hora de tomar un proveedor y lanzar su propio asistente.  Para nosotros, la clave es la capacidad de controlar dispositivos inteligentes, lo que distinguir√° a SkyFriend de otros asistentes. <br><br><h3>  <b>¬°Y integremos!</b> </h3><br>  PERO tambi√©n nuestra tarea es trabajar con el enfoque de proveedor existente y adaptarlo a√∫n m√°s a nuestro protocolo de control de tecnolog√≠a espec√≠fico.  Seguimos el camino de la estandarizaci√≥n, la aplicaci√≥n pr√°ctica, percibiendo el dispositivo como un conjunto de habilidades: cada caldera sabe c√≥mo hervir agua (habilidad), tambi√©n sabe c√≥mo calentarla a la temperatura deseada (habilidad), mantener esta temperatura durante un tiempo determinado, etc. Por ejemplo, El comando "Encendido / Apagado" es est√°ndar para cualquier dispositivo.  La tarea es transferir este comando del servicio a nuestro protocolo.  ¬øCu√°l es la peculiaridad de nuestro protocolo?  Conecta diferentes asistentes de voz (ahora tres, en el futuro, todos grandes) y les permite a todos trabajar con dispositivos, incluso al mismo tiempo.  La comunicaci√≥n es de uno a muchos.  La √∫nica pregunta es ¬øc√≥mo exactamente adaptaremos nuestro protocolo a todos los enfoques? <br><br>  A ver  Los proyectos separados para cada GA son: <br><br><ul><li>  Mayor personal </li><li>  Mucho c√≥digo y legado en el futuro; </li><li>  Incapacidad para escalar. </li></ul><br>  Cuando aparezcan nuevos asistentes en el mercado, ser√° necesario aumentar proporcionalmente el personal y el volumen de trabajo.  Es l√≥gico que rechacemos esta opci√≥n.  Sin embargo, a pesar de los diferentes enfoques para cada asistente de voz, pueden encontrar algo en com√∫n: lo que b√°sicamente trabajan es habilidad, rasgo, habilidad.  Los nombres son diferentes, pero la esencia es la misma.  Entonces, la tarea es desarrollar su "habilidad", que ser√° percibida por los asistentes.  En el futuro, solo necesitar√° agregar nuevos proveedores, lo que resuelve el problema del escalado.  Tambi√©n tendremos en cuenta que una cantidad significativa de nuestro equipo utiliza veh√≠culos BLE, que dicta caracter√≠sticas arquitect√≥nicas. <br><br>  Hemos desarrollado dos microservicios que funcionan en parejas. <br><br><img src="https://habrastorage.org/webt/zw/lo/zf/zwlozfjr3y51a2mc_rqpemr-biq.png"><br><br>  El primero es la capa de comando.  Su tarea: llevar a cabo la conversi√≥n (mapeo) entre la API del proveedor y nuestro protocolo.  Funciona as√≠: una solicitud espec√≠fica para un asistente es el mapeo de nuestra habilidad - mapeo para un protocolo de dispositivo.  Con este enfoque, es f√°cil agregar nuevas habilidades: el mapeo se realiza para el protocolo R4S final: el c√≥digo se transfiere al segundo servicio.  El √∫ltimo elemento puede excluirse al transmitir un comando a trav√©s de Wi-Fi. <br><br>  El segundo servicio o capa de transporte se utiliza para: <br><br><ol><li>  Establecer una sesi√≥n con una puerta de enlace del cliente; </li><li>  Levantar y mantener una conexi√≥n Bluetooth; </li><li>  Recepci√≥n / transmisi√≥n de comandos desde el primer servicio. </li></ol><br>  Este servicio forma parte de una entidad de nivel superior: dispositivo BT m√°s intermediario de puerta de enlace, que funciona seg√∫n el principio: recibir comandos a trav√©s de Internet y enviarlos a trav√©s de BT.  Las conexiones inal√°mbricas pueden no ser confiables.  Por qu√©  El canal de radio puede estar limitado por par√°metros ambientales: gruesos muros de hormig√≥n, etc. Como resultado, los dispositivos pueden "caerse" de manera elemental, por lo tanto, mantener una conexi√≥n estable se convierte en una tarea importante para la capa de transporte. <br><br><img src="https://habrastorage.org/webt/fq/ui/ti/fquiti2wm64hfky4de4zy7hd9qe.jpeg"><br><br>  La pol√≠tica de conexi√≥n puede ser diferente: <br><br>  1. Soporte continuo de comunicaci√≥n. <br><br>  <b>Pros</b> : retraso m√≠nimo en la ejecuci√≥n de comandos GA. <br>  <b>Contras</b> : caro para el tr√°fico y el consumo de energ√≠a;  existe un l√≠mite en la cantidad de dispositivos conectados simult√°neamente (en esta generaci√≥n Bluetooth 4.0 / 4.2 - seis, en Bluetooth 5.0 hasta veinte).  Tambi√©n requerir√° recursos adicionales del servidor. <br><br>  2. Conexi√≥n bajo demanda. <br><br>  <b>Pros</b> : la conexi√≥n casi no requiere tr√°fico y carga. <br>  <b>Contras</b> : no se garantiza un alto retraso en la ejecuci√≥n de los comandos m√°s la ejecuci√≥n en s√≠ (la conexi√≥n puede "caerse" o no tener √©xito).  Con este enfoque, no encajamos mientras esperamos que la AG responda.  La sesi√≥n termin√≥ y el final. <br><br>  La pregunta tambi√©n permanece: el comando se recibi√≥ y resolvi√≥, PERO qu√© hacer con la conexi√≥n: desconectarse o continuar.  Tenga en cuenta que exactamente de la misma manera que Apple HomeKit funciona cuando se trabaja con dispositivos terminales BLE (a trav√©s de Apple TV o iPad como puerta de enlace).  Se ve as√≠: la primera vez que intenta enviar un comando, el proceso lleva bastante tiempo (o mejor, notable para el usuario), pero los comandos posteriores se ejecutan casi instant√°neamente.  Una vez completado el trabajo del usuario con el dispositivo, el sistema operativo "configura" la sesi√≥n despu√©s de un tiempo razonable y luego el proceso se repite como nuevo. <br><br><h3>  <b>Sin embargo, eso no es todo.</b> </h3><br>  <b>Dificultad 1</b> .  Enrutamiento de puerta de enlace. <br><br><img src="https://habrastorage.org/webt/dp/tp/s9/dptps9c65buopbiskgfiki3bhpi.png"><br><br>  Si hay varias puertas de enlace en la sala, surge la pregunta: a cu√°l conectarse y a qu√© puerta de enlace est√° conectado el dispositivo.  Ahora todo funciona seg√∫n el principio: el que tenga √©xito est√° conectado.  La implementaci√≥n no siempre es exitosa, ya que la puerta de enlace m√°s cercana (y por lo tanto capaz de conectarse de manera m√°s confiable) puede estar ocupada en el intervalo de tiempo utilizado.  Entonces el que es libre y capaz est√° conectado.  Esto sucede sin tener en cuenta la calidad de la comunicaci√≥n.  Por lo tanto, es importante construir una jerarqu√≠a y un esquema de trabajo para que el usuario se sienta lo m√°s c√≥modo posible. <br><br>  <b>Dificultad 2</b> .  Muchos usuarios <br><br>  Esta es una situaci√≥n en la que varios usuarios pueden usar una puerta de enlace o dispositivo al mismo tiempo.  Por supuesto con un alto nivel de seguridad.  Por ejemplo, de diferentes GA o de GA y tel√©fonos de usuario.  Un enjambre de preguntas: qu√© dispositivo encender primero, si los comandos de GA se contradicen entre s√≠, qu√© comando es una prioridad y debe ejecutarse antes, etc. El servicio de Redis resuelve parcialmente nuestro problema, una base de datos en la que se almacenan las sesiones de usuario, los estados del dispositivo y el transceptor comandos y servicio de bus de datos entre el primer y el segundo servicio.  Pero aqu√≠ es donde se detiene la soluci√≥n al problema. <br><br>  Que hemos hecho  Hicimos SkyFriend.  Este es nuestro propio desarrollo, un asistente de voz para la gesti√≥n de la tecnolog√≠a, que tambi√©n admitir√° el idioma ruso.  Una caracter√≠stica clave de nuestra GA es que est√° afilada para una interacci√≥n directa con la tecnolog√≠a Smart Ready for Sky sin instrumentos adicionales.  El dispositivo es dos en uno: el asistente se combina con la puerta de enlace, que recibir√° informaci√≥n a trav√©s de los comandos que el usuario env√≠a desde su tel√©fono inteligente o directamente por voz.  Adem√°s, SkyFriend tiene caracter√≠sticas adicionales que le permitir√°n competir con las que ya existen.  Puede activar recordatorios a pedido, puede determinar la geolocalizaci√≥n del usuario, buscar informaci√≥n en Wikipedia, recomendar pel√≠culas, hacer brindis, leer noticias, responder preguntas, decir la hora y el clima en cualquier ciudad del mundo, jugar Misterios y ciudades con el usuario haciendo bromas  Comprar boletos y pedir un taxi a√∫n se encuentra en la etapa de prueba alfa.  Y esto es solo una parte de la funcionalidad. <br><br>  M√°s recientemente, Google anunci√≥ el trabajo de su columna en una arquitectura similar: el script de ejecuci√≥n se carga directamente en la columna Google Home.  Ganar del lado del usuario es reducir el tiempo que lleva ejecutar comandos.  No necesita enviarlo al servidor del fabricante del equipo; vuela directamente a la columna desde el servidor de Google a trav√©s del mismo canal de comunicaci√≥n y se ejecuta all√≠. <br><br>  Sin embargo, Google todav√≠a no admite otros transportes: Bluetooth, ZigBe, Z-Wave, RF, etc.  directamente en la columna, y SkyFriend es compatible con Bluetooth 5.0. <br><br>  ¬øQu√© m√°s nos queda?  Trabaje con recursos del sistema: agregue memoria, potencia del procesador, etc.  Y estamos listos para ofrecer a los usuarios una nueva calidad de GA. <br><br><h3>  ¬øQu√© podemos decir en conclusi√≥n? </h3><br>  GA es una tendencia, es conveniente, es pr√°ctica.  El tema es nuevo, exhaustivo, tiene muchas preguntas que a√∫n son dif√≠ciles de resolver.  Especialmente solo.  Por lo tanto, te invitamos a una discusi√≥n. <br><br>  ¬øQu√© pasar√° despu√©s?  Y luego estar√° nuestro nuevo art√≠culo sobre la arquitectura SkyFriend.  Le diremos y mostraremos todo.  Pero entonces <br><br>  PD Sugerencias y comentarios se pueden dejar en los comentarios. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/461363/">https://habr.com/ru/post/461363/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../461349/index.html">T√≠mido, o all√° y de regreso</a></li>
<li><a href="../461351/index.html">Caleidoscopio como en la infancia</a></li>
<li><a href="../461355/index.html">Transformaci√≥n digital de peque√±as empresas de bricolaje</a></li>
<li><a href="../461359/index.html">Geolocalizaci√≥n y geolocalizaci√≥n: megaherramienta</a></li>
<li><a href="../461361/index.html">M√°s grande y m√°s potente: c√≥mo garantizamos la operaci√≥n de nuevos equipos en el centro de datos MediaTek</a></li>
<li><a href="../461365/index.html">Dominar la visi√≥n por computadora: 8 pasos b√°sicos</a></li>
<li><a href="../461367/index.html">C√≥mo un graduado de Fiztekh abri√≥ la escuela de programaci√≥n m√°s grande de Armenia</a></li>
<li><a href="../461371/index.html">M√≥nada "Lector" a trav√©s de as√≠ncrono / espera en C #</a></li>
<li><a href="../461373/index.html">GoLand 2019.2: soporte para llamadas a funciones durante la depuraci√≥n, esquemas de color mejorados, finalizaci√≥n de Postfix personalizada</a></li>
<li><a href="../461379/index.html">Datos del museo Art. M√≥dems de rob√≥tica de EE. UU.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>