<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äç‚úàÔ∏è ‚õÑÔ∏è üôéüèΩ Tenga cuidado - Baikal-T1! O la historia de un proyecto con un intento de usar "sustituci√≥n de importaci√≥n" üéóÔ∏è ‚úñÔ∏è üí•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Los gerentes eficientes y los proveedores de componentes pueden ignorar este material de manera segura. Esta nota es para desarrolladores de hardware ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tenga cuidado - Baikal-T1! O la historia de un proyecto con un intento de usar "sustituci√≥n de importaci√≥n"</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412077/">  Los gerentes eficientes y los proveedores de componentes pueden ignorar este material de manera segura.  Esta nota es para desarrolladores de hardware que ya est√°n viendo o est√°n a punto de mirar hacia el procesador Baikal-T1.  Por decirlo as√≠, "informaci√≥n para consideraci√≥n" sobre la historia real de comunicaci√≥n con la compa√±√≠a Baikal Electronics (BE) y lo que result√≥ de un proyecto aplicado con un intento de usar "sustituci√≥n de importaci√≥n". <br><br>  Entonces, todo en orden ... <br><a name="habracut"></a><br><h3>  Antecedentes </h3><br>  Nuestra empresa ha estado desarrollando y fabricando equipos electr√≥nicos desde 1993.  Y somos bien conocidos en nuestro mercado.  ¬°Con qu√© base elemental no hemos reelaborado durante estos 25 a√±os y qu√© no hemos alterado!  Aunque, es cierto, definitivamente no trabajaron con una base dom√©stica durante este tiempo.  La √∫ltima vez que recuerdo esto sucedi√≥ en 1987, mucho antes de la fundaci√≥n de nuestra empresa: los mejores recuerdos de los componentes anal√≥gicos y digitales sovi√©ticos de Kiev "Crystal", Novosibirsk, Tallin, Riga, Zelenograd, Chisinau, Leningrado, etc. <br><br>  Entonces, a finales de 2016.  concebimos un producto que, entre otros componentes, deber√≠a incluir un controlador de control, m√°s precisamente SoC (System-on-Chip).  No hay requisitos espec√≠ficos de velocidad y rendimiento para el controlador (400MHz-1GHz es suficiente).  Solo es necesario tener puertos est√°ndar (1 GbE, I2C, SPI, SATA, etc.) y memoria DDR externa de hasta 1 GB, as√≠ como la presencia de dos o m√°s n√∫cleos de procesador.  El tipo de n√∫cleo del procesador no es importante en principio.  Un n√∫cleo ARM es deseable, pero no necesario.  El rango de temperatura es comercial e industrial.  El consumo tampoco es importante (nuevamente, dentro de l√≠mites razonables), porque  en comparaci√≥n con la cantidad que los componentes principales consumen en este producto, por lo que, como dicen los matem√°ticos, "o" es peque√±o, con un tercer orden y m√°s alto.  El requisito principal, como de costumbre, es un entorno bien depurado para dise√±ar y depurar software para Windows, un emulador JTAG, bibliotecas "b√°sicas" para trabajar con el procesador y los perif√©ricos en el modo "b√°sico" y compatibilidad con cualquiera de los RTOS est√°ndar suministrados en los textos fuente. (ThreadX de ExpressLogic, FreeRTOS, etc.) con soporte para protocolos IP y el sistema de archivos.  Linux, en principio, no es adecuado y no se considera.  El hardware del dispositivo en su conjunto no es muy complicado, pero el software es "muy, muy" y llevar√° al menos un a√±o antes del primer lanzamiento y con la documentaci√≥n.  Es probable que el dispositivo est√© sujeto a una certificaci√≥n posterior.  La cantidad es peque√±a: alrededor de 100 piezas por a√±o durante los primeros a√±os. <br><br>  Nuestra experiencia y software probado para procesadores Freescale / NXP con n√∫cleos PPC y ARM, procesadores TI y Atmel nos permitieron, en principio, no pensar en elegir un controlador de control y excluir todas las "hemorroides" con el software "base", RTOS y entorno de desarrollo de software.  Pero el diablo me tir√≥ y luego me picote√≥ en el culo una especie de polla ... Decid√≠ mirar: "¬øEs algo adecuado para el hogar?"  en lugar del controlador de control.  Justo en ese momento, hubo un "tintineo" sobre la sustituci√≥n de importaciones, y, por si acaso, le√≠ sobre el primer procesador nacional Baikal-T1.  Y gir√≥ ... <br><br><h3>  Primera impresi√≥n </h3><br>  Fui al sitio web de BE, encontr√© el procesador Baikal-T1, descargu√© el folleto con un diagrama de bloques.  La primera impresi√≥n es que se ajusta a los par√°metros.  No es nada extraordinario para 2016, pero no est√° mal para una amplia gama de aplicaciones integradas y sin pretender ser "super duper".  Bien hecho!  Si todo funciona seg√∫n lo previsto, ¬°excelente trabajo!  Buen golpe en el mercado. <br><br>  Complet√≥ una aplicaci√≥n "en l√≠nea" del sitio que indica "qui√©n es", de d√≥nde, y con una solicitud para enviar informaci√≥n t√©cnica m√°s detallada sobre hardware y software.  Y, como siempre, cambi√≥ a la rutina. <br><br>  Pasa una semana, segundo, tercero ... Silencio.  No hay cartas ni llamadas de BE.  Recuerda sobre BE.  Llamate a ti mismo  Resulta que no hay chips (a fines de 2016) y est√°n planificados solo para fines de 2017.  No hay documentaci√≥n t√©cnica disponible todav√≠a. <br><br>  Bueno, esperemos ... Nuestro producto todav√≠a estaba solo en la etapa de comprensi√≥n.  Hay tiempo <br><br><h3>  La segunda impresi√≥n, es la √∫ltima. </h3><br>  Febrero 2018  Finalmente llegamos.  El concepto del producto est√° listo y el mercado est√° claro y listo.  Es hora de comenzar a dise√±ar.  La idea de usar Baikal-T1 sigue siendo v√°lida.  Voy al sitio BE.  Hoy el sitio es hermoso, todo parpadea, se mueve ... La fuente es grande.  Genial!  Nuevamente llen√© una solicitud "en l√≠nea" del sitio con una indicaci√≥n de "qui√©n es", de d√≥nde, y con una solicitud para enviar informaci√≥n t√©cnica m√°s detallada sobre las partes de hardware y software.  Y, como de costumbre, volvi√≥ a trabajar en espera de una pronta respuesta. <br><br>  Sin embargo, pasa una semana, comienza la segunda, la tercera ... Otra vez el silencio.  No hay cartas ni llamadas de BE.  La inclinaci√≥n del sitio de alguna manera comienza a no corresponder con el verdadero estado de cosas. <br><br>  Nuevamente, recuerda BE.  Estamos llamando  Averiguamos con qui√©n hablar sobre cuestiones t√©cnicas.  Todas las mismas personas: Sr. R.S.  Nos comunicamos <br><br>  Y aqu√≠ resulta ... <br><br><h3>  CPU y placa de demostraci√≥n </h3><br>  El precio del chip es de aproximadamente $ 65 (TR 3.7).  En stock est√° en stock, t√≥malo incluso ahora.  Genial <br>  Hago una serie de preguntas t√©cnicas espec√≠ficas sobre el procesador.  En general, recibo respuestas adecuadas, aunque en algunos lugares una persona "nada", pero dentro de lo razonable (las preguntas son muy espec√≠ficas, pero hay una falta de experiencia).  En cualquier caso, est√° claro que se necesitar√° documentaci√≥n t√©cnica completa para funcionar. <br><br>  Pregunto: "¬øHay un panel de prueba para probar software y hardware?"  La respuesta es s√≠, pero hay algunas demoras con la nueva revisi√≥n.  No hay duda, esperemos un poco.  Pero el precio del tablero es de ~ 150 t.r.  - ¬°Esto es realmente genial para un chip al precio de 3.7t.r.!  Surge una pregunta sensata: "¬øPor qu√© ser√≠a esto?", Mientras que los tableros de prueba de Freescale / NXP, TI, Atmel est√°n en el rango de precios de ~ 60 $ (3.6t.r.) a ~ 400 $ (23t.re.) del fabricante .  No hay una respuesta razonable al precio, como siempre.  No quiero, ¬°no lo tomes!  Concluyo que las cosas no van bien con la venta de chips, por lo que se centran en los tableros de prueba y las √≥rdenes gubernamentales.  De hecho, en su sano juicio, nadie (o pocos) comprar√° esta tarifa por ese precio y por su dinero ganado con tanto esfuerzo.  Por cierto, el otro d√≠a descubr√≠ que se abri√≥ una clase de entrenamiento sobre Baikal-T1 en la Universidad Estatal de Mosc√∫.  ¬°Esto es, por supuesto, genial!  ¬°Pero solo el dinero es nuevamente dinero estatal y tienen un l√≠mite y mucha gente lo quiere! <br><br>  La situaci√≥n es clara.  No da miedo todav√≠a.  Ser√° necesario: compraremos un tablero de prueba.  Yendo m√°s all√° ... <br><br><h3>  Software </h3><br>  Pregunto "¬øc√≥mo est√°n las cosas con el software Baikal-T1 ahora?"  de acuerdo con los requisitos de nuestra tarea? <br><br>  De ninguna manera!  Solo Linux.  No hay soporte para ning√∫n RTOS, no hay metal desnudo, nada m√°s.  Es como si alguien estuviera transfiriendo QNX a Baikal-T1 all√≠, pero no sabemos nada. <br><br>  Algo que me recuerda mucho a los tiempos "sovi√©ticos", cuando se lanzaron los procesadores, dieron documentaci√≥n que describe el sistema de instrucciones del procesador y sus c√≥digos, y luego todos los que pueden, como es ... Es cierto, no hubo competencia.  Fue solo una tarea, ¬°hacerlo de cualquier manera! <br><br>  En general, para nosotros esto no es una pregunta.  En qu√© procesadores solos no hemos reportado diferentes RTOS durante nuestro trabajo.  Bueno, tambi√©n habr√≠an hecho un puerto para Baikal-T1.  Escribir√≠an bibliotecas "base" para aplicaciones de metal desnudo. <br><br>  Aqu√≠ hay una l√°stima.  Es a√∫n m√°s desafortunado observar el enfoque defectuoso del BE en este tema.  Despu√©s de todo, los ingenieros de "silicona" hicieron un excelente trabajo.  Pero los jefes, al parecer, no entienden en absoluto que el software debe tratarse en una variedad de direcciones (y no solo en Linux), y en el propio BE.  Y esto debe comenzar mucho antes que el lanzamiento de la silicona misma. <br><br>  De hecho, todos estos puntos de referencia, la comparaci√≥n de procesadores entre s√≠, la presencia de uno u otro puerto de hardware y otros dispositivos arquitect√≥nicos aqu√≠ y su ausencia all√≠ no significa nada para la gran mayor√≠a de las aplicaciones.  Ser√° necesario: nosotros mismos agregamos lo que falta.  ¬øCu√°l es la diferencia entre 1000MIPS y 800MIPS, o 10000 CoreMarks y 7000 CoreMarks para el controlador de gesti√≥n?  Si no!  Solo la disponibilidad de software adecuado y herramientas de desarrollo compatibles es realmente importante, como es el caso de nuestra tarea.  Y hacer esto es bastante realista para el fabricante del procesador.  Solo necesita comprender que este es el punto clave para la venta exitosa de procesadores.  Por cierto, entonces el precio del tablero de prueba ser√° bastante adecuado, ya que  las prioridades cambiar√°n en la direcci√≥n correcta.  Y aqu√≠, los nuevos clientes se pondr√°n al d√≠a. <br><br>  Es triste  Pero no obstante, no es cr√≠tico.  Yendo m√°s all√° ... <br><br><h3>  Dise√±o de software y herramientas de depuraci√≥n </h3><br>  Pregunto "¬øqu√© pasa con las herramientas de depuraci√≥n?"  No lo creas, pero en 2018 todo es igual: ¬°de ninguna manera!  Ni el entorno de desarrollo BE ni el emulador JTAG se han dise√±ado y depurado para el chip espec√≠fico con sus perif√©ricos, ni se espera.  Simplemente dijeron que en alg√∫n lugar, como si el proyecto del entorno en Eclipse estuviera mintiendo, puede descargarlo.  Pero no es compatible, as√≠ que comp√≠lelo y √∫selo bajo su propio riesgo.  Este es el enfoque!  Clase! <br><br>  Emulador JTAG como si estuviera disponible en la empresa OLIMEX (¬°Bulgaria!).  Le dieron un enlace: no hay una palabra sobre MIPS, solo emuladores para ARM.  ¬øY d√≥nde est√° ARM cuando el n√∫cleo MIPS?  Le dieron un enlace a los emuladores JTAG en el sitio web de MIPS.  Hay algo como la verdad.  Pero, ¬øqu√© necesito para traer el emulador JTAG de EE. UU.? <br><br>  Hago la pregunta: "¬øD√≥nde puedo obtener un depurador para el emulador JTAG?"  La respuesta es digna: "Solo queda GDB".  No entend√≠ algo.  ¬øHay, en BE, todos los compradores de imb√©ciles o algo as√≠?  ¬øDepurador de l√≠nea en 2018? <br><br>  ¬øY necesito esto?  Adem√°s, para el n√∫cleo MIPS P5600 (Baikal-T1) desconocido para m√≠. <br><br>  Solo puedo repetir lo mismo que en el p√°rrafo anterior.  Los gerentes ‚Äúeficientes‚Äù de BE necesitan comprender que solo la disponibilidad de software y herramientas de desarrollo compatibles adecuadas, y directamente del fabricante del chip, realmente es importante.  Es la propia firma BE la que necesita suministrar los emuladores probados por JTAG y su entorno de dise√±o y depuraci√≥n "mejorado" para el chip, como lo hacen todos los fabricantes de procesadores. <br><br>  La situaci√≥n se est√° volviendo cr√≠tica.  Sin embargo, vamos m√°s all√° ... <br><br><h3>  Digno final </h3><br>  Aunque ya estaba claro que la situaci√≥n era una "costura", y, aparentemente, tendr√≠a que separarme finalmente del pensamiento de Baikal-T1, le pido que obtenga documentaci√≥n t√©cnica detallada.  Debe echar un vistazo a la descripci√≥n completa de los puertos y las especificaciones del chip.  Especialmente quiero ver la lista de erratas de silicio, que contiene una lista de todos los errores en silicona y la presencia de parches de software para ellos, porque  Esto es lo que determina la posibilidad del uso normal del chip para una tarea espec√≠fica. <br><br>  En orden de informaci√≥n: para la mayor√≠a de los fabricantes de chips, la documentaci√≥n t√©cnica detallada y la errata de silicio est√°n disponibles de inmediato para descargar desde el sitio o despu√©s de un simple registro en el sitio (principalmente para estudios de mercado). <br><br>  En BE, se les pide que firmen el NDA (acuerdo de no divulgaci√≥n, acuerdo de no divulgaci√≥n).  No es una pregunta: firmaron, y m√°s de una vez, con diferentes empresas de fabricaci√≥n de chips.  Esto generalmente se requiere para chips muy complejos y especiales, que est√°n sujetos a una intensa competencia en t√©rminos de funcionalidad e IP (propiedad intelectual).  Solo aqu√≠ con el fabricante de chips de procesador para uso general: esta es la primera vez en mi memoria.  Sin embargo, estaba seguro de que lo firmar√≠amos sin ning√∫n problema y solicit√© enviar un archivo para completarlo por correo. <br><br>  Y luego estaba esperando una emboscada ... <br><br>  Un d√≠a despu√©s, recib√≠ una carta por correo con el archivo NDA y el texto que lo acompa√±a.  Y luego resulta que para firmar el NDA para obtener solo una descripci√≥n del procesador (!), Los siguientes documentos deben presentarse a la empresa en el BE (en adelante, cito la cita exacta de la carta): <br><br>  "... <br>  1. Una copia del certificado de registro estatal. <br>  2. Copia del certificado de registro de impuestos. <br>  3. Una copia de la carta, certificada por el jefe. <br>  4. Protocolo o decisi√≥n sobre el nombramiento de un director. <br>  5. Una copia de la notificaci√≥n de la aplicaci√≥n del sistema tributario simplificado (si corresponde). <br>  6. Poder notarial y datos de contacto del representante. <br>  7. Tarjeta de empresa. <br>  ... " <br><br>  Recuerdo este momento inolvidable cuando lo le√≠.  Al igual que en el eslogan de la publicidad de BMW: "Delicia ...".  ¬°El m√°s alto "respeto" a la empresa BE con su servicio legal!  En esto, estaba muy por delante de todos los que pod√≠an y no deb√≠an estar en el tema de firmar el NDA para recibir documentaci√≥n para un procesador de prop√≥sito general.  Aparentemente, un abogado fue tomado de un banco en BE y obviamente confundi√≥ que √©ramos nosotros (los compradores) quienes quer√≠amos obtener algo adecuado para nuestro dinero de BE, y no al rev√©s.  Pero la vida ciertamente corregir√° esto, y espero que pronto. <br><br>  Todo lo que fui capaz de hacer en este momento inolvidable fue escribir una carta de respuesta en BE con la modesta pregunta "¬øTodav√≠a puedes tener las llaves de la caja fuerte, d√≥nde est√° el dinero?"  y con la propuesta de olvidarse como pesadilla. <br><br><h3>  Residuo seco </h3><br>  ¬°P√°rrafo completo! <br><br><h3>  ¬øCon qu√© te consol√≥? </h3><br>  Tuve que volver a las viejas plataformas ARM de hardware, para las cuales tenemos todo durante mucho tiempo y funciona muy bien.  El software de aplicaci√≥n para nuestro producto es un punto clave, y hay muchos.  Y para abordar la soluci√≥n de problemas menores y de otro tipo con las herramientas de desarrollo y depuraci√≥n, y, posiblemente, con hardware desconocido, con este enfoque en BE no hay absolutamente nada. <br><br>  ¬°Quer√≠a el mismo extremo con el uso de "sustituci√≥n de importaciones" ...! <br><br>  P.A.  Semenov, Ph.D., MicroLAB Systems (Mosc√∫) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es412077/">https://habr.com/ru/post/es412077/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es412067/index.html">Stewie Robot reemplaza caballo en hipoterapia</a></li>
<li><a href="../es412069/index.html">Una startup en Harvard planea aprender c√≥mo rejuvenecer a las personas y los animales. Comience con perros</a></li>
<li><a href="../es412071/index.html">En Rusia, se complet√≥ la construcci√≥n de la central flotante Akademik Lomonosov.</a></li>
<li><a href="../es412073/index.html">¬øHay muchos geeks entre los programadores?</a></li>
<li><a href="../es412075/index.html">El mini helic√≥ptero todav√≠a volar√° a Marte</a></li>
<li><a href="../es412079/index.html">Roscosmos planea crear una conexi√≥n nacional a Internet por sat√©lite</a></li>
<li><a href="../es412081/index.html">Tama√±o del personaje en su monitor: marketing versus visi√≥n</a></li>
<li><a href="../es412085/index.html">Los japoneses quieren revolucionar las compras en l√≠nea con un traje</a></li>
<li><a href="../es412089/index.html">Salida del osciloscopio - en JavaScript</a></li>
<li><a href="../es412091/index.html">Starship Technologies lanza m√°s de 1,000 robots de mensajer√≠a en campus corporativos en Europa y EE. UU.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>