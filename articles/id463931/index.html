<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍⚕️ 🙏🏾 👏🏻 Menjelajahi kedalaman anotasi jenis dengan Python. Bagian 2 💘 👩🏿‍🔬 ✋</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hari ini kami menerbitkan bagian kedua dari terjemahan materi, yang dikhususkan untuk mengetik anotasi dengan Python. 

  

 → Bagian pertama 

 Bagai...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menjelajahi kedalaman anotasi jenis dengan Python. Bagian 2</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/463931/">  Hari ini kami menerbitkan bagian kedua dari terjemahan materi, yang dikhususkan untuk mengetik anotasi dengan Python. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/wr/lw/bq/wrlwbqu0zinltnd22qtfjqnhsb4.jpeg"></a> <br><br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian pertama</a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Bagaimana Python mendukung tipe data?</font> </h2><br>  Python adalah bahasa yang diketik secara dinamis.  Ini berarti bahwa jenis variabel yang digunakan diperiksa hanya selama eksekusi program.  Dalam contoh yang diberikan di bagian sebelumnya artikel, orang dapat melihat bahwa seorang programmer yang menulis dengan Python tidak perlu merencanakan jenis variabel dan berpikir tentang berapa banyak memori yang akan diperlukan untuk menyimpan datanya. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Inilah</a> yang terjadi ketika Anda menyiapkan kode Python Anda untuk dieksekusi: “Dalam Python, kode sumber dikonversi menggunakan CPython menjadi bentuk yang jauh lebih sederhana yang disebut bytecode.  Bytecode terdiri dari instruksi yang, pada dasarnya, mirip dengan instruksi prosesor.  Tetapi mereka tidak dieksekusi oleh prosesor, tetapi oleh sistem perangkat lunak yang disebut mesin virtual.  (Ini bukan tentang mesin virtual yang kemampuannya memungkinkan Anda untuk menjalankan seluruh sistem operasi pada mereka. Dalam kasus kami, ini adalah lingkungan yang merupakan versi sederhana dari lingkungan yang tersedia untuk program yang berjalan pada prosesor). " <br><br>  Bagaimana CPython mengetahui tipe variabel apa yang seharusnya ketika menyiapkan program untuk dieksekusi?  Bagaimanapun, kami tidak menunjukkan tipe ini.  CPython tidak tahu tentang ini.  Dia hanya tahu bahwa variabel adalah objek.  Segala sesuatu di Python adalah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">objek</a> , setidaknya sampai ternyata sesuatu memiliki tipe yang lebih spesifik. <br><br>  Sebagai contoh, Python menganggap sebagai string segala sesuatu yang tertutup dalam tanda kutip tunggal atau ganda.  Jika Python menemukan angka, itu menganggap bahwa nilai yang sesuai adalah tipe numerik.  Jika kami mencoba melakukan sesuatu dengan entitas yang tidak dapat dilakukan dengan entitas jenisnya, Python akan memberi tahu kami nanti. <br><br>  Pertimbangkan pesan kesalahan berikut yang muncul ketika Anda mencoba menambahkan string dan nomor: <br><br><pre><code class="python hljs">name = <span class="hljs-string"><span class="hljs-string">'Vicki'</span></span> seconds = <span class="hljs-number"><span class="hljs-number">4.71</span></span>; --------------------------------------------------------------------------- TypeError                 Traceback (most recent call last) &lt;ipython-input<span class="hljs-number"><span class="hljs-number">-9</span></span><span class="hljs-number"><span class="hljs-number">-71805</span></span>d305c0b&gt; <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt;       <span class="hljs-number"><span class="hljs-number">3</span></span>       <span class="hljs-number"><span class="hljs-number">4</span></span> ----&gt; <span class="hljs-number"><span class="hljs-number">5</span></span> name + seconds TypeError: must be str, <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> float</code> </pre> <br>  Sistem memberitahu kita bahwa itu tidak dapat menambahkan string dan angka floating-point.  Selain itu, fakta bahwa <code>name</code> adalah string, dan <code>seconds</code> adalah angka, tidak menarik sistem sampai upaya dilakukan untuk menambahkan <code>name</code> dan <code>seconds</code> . <br><br>  Dengan kata lain, dapat digambarkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sebagai berikut</a> : “Mengetik bebek digunakan saat melakukan penambahan.  Python tidak tertarik pada tipe yang dimiliki objek tertentu.  Yang membuat sistem tertarik adalah apakah ia mengembalikan panggilan bermakna ke metode penambahan.  Jika tidak demikian, kesalahan dikeluarkan. " <br><br>  Apa artinya itu?  Ini berarti bahwa jika kita menulis program dengan Python, kita tidak akan menerima pesan kesalahan sampai juru bahasa CPython terlibat dalam pelaksanaan baris yang sama di mana ada kesalahan. <br><br>  Pendekatan ini tidak nyaman ketika diterapkan dalam tim yang bekerja pada proyek besar.  Faktanya adalah bahwa dalam proyek-proyek tersebut mereka bekerja tidak dengan variabel yang terpisah, tetapi dengan struktur data yang kompleks.  Dalam proyek semacam itu, beberapa fungsi dipanggil oleh yang lain, dan pada gilirannya, fungsi itu dipanggil oleh beberapa fungsi lainnya.  Anggota tim harus dapat dengan cepat memeriksa kode untuk proyek mereka.  Jika mereka tidak dapat menulis tes yang baik yang mendeteksi kesalahan dalam proyek sebelum mereka dimasukkan ke dalam produksi, ini berarti bahwa proyek tersebut dapat mengharapkan masalah besar. <br><br>  Sebenarnya, di sini kita sampai pada percakapan tentang ketik anotasi dengan Python. <br><br>  Kita dapat mengatakan bahwa, secara umum, penggunaan anotasi jenis memiliki banyak <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kekuatan</a> .  Jika Anda bekerja dengan struktur data yang kompleks atau fungsi yang mengambil banyak nilai input, menggunakan anotasi sangat menyederhanakan bekerja dengan struktur dan fungsi yang sama.  Terutama - beberapa saat setelah penciptaan mereka.  Jika Anda hanya memiliki satu fungsi dengan satu parameter, seperti dalam contoh yang diberikan di sini, maka bekerja dengan fungsi seperti itu, dalam hal apa pun, sangat sederhana. <br><br>  Bagaimana jika kita perlu bekerja dengan fungsi kompleks yang mengambil banyak nilai input yang mirip dengan ini dari dokumentasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PyTorch</a> : <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">train</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(args, model, device, train_loader, optimizer, epoch)</span></span></span><span class="hljs-function">:</span></span>    model.train()    <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> batch_idx, (data, target) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(train_loader):        data, target = data.to(device), target.to(device)        optimizer.zero_grad()        output = model(data)        loss = F.nll_loss(output, target)        loss.backward()        optimizer.step()        <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> batch_idx % args.log_interval == <span class="hljs-number"><span class="hljs-number">0</span></span>:            print(<span class="hljs-string"><span class="hljs-string">'Train Epoch: {} [{}/{} ({:.0f}%)]\tLoss: {:.6f}'</span></span>.format(                epoch, batch_idx * len(data), len(train_loader.dataset), <span class="hljs-number"><span class="hljs-number">100.</span></span> * batch_idx / len(train_loader), loss.item()))</code> </pre> <br>  Apa itu <code>model</code> ?  Tentu saja, kita dapat menggali basis kode dan mencari tahu: <br><br><pre> <code class="python hljs">model = Net().to(device)</code> </pre> <br>  Tapi alangkah baiknya jika Anda bisa menentukan jenis <code>model</code> dalam tanda tangan fungsi dan menyelamatkan diri dari analisis kode yang tidak perlu.  Mungkin akan terlihat seperti ini: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">train</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(args, model </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(type Net)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, device, train_loader, optimizer, epoch)</span></span></span><span class="hljs-function">:</span></span></code> </pre> <br>  Bagaimana dengan <code>device</code> ?  Jika Anda mencari-cari kode, Anda dapat menemukan yang berikut: <br><br><pre> <code class="python hljs">device = torch.device(<span class="hljs-string"><span class="hljs-string">"cuda"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> use_cuda <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">"cpu"</span></span>)</code> </pre> <br>  Sekarang kita dihadapkan dengan pertanyaan tentang apa itu alat <code>torch.device</code> .  Ini adalah tipe khusus PyTorch.  Uraiannya dapat ditemukan di bagian yang <a href="">sesuai dari</a> dokumentasi PyTorch. <br><br>  Alangkah baiknya jika kita bisa menentukan tipe <code>device</code> dalam daftar argumen fungsi.  Dengan demikian, kami akan menghemat banyak waktu bagi mereka yang harus menganalisis kode ini. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">train</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(args, model </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(type Net)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, device </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(type torch.Device)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, train_loader, optimizer, epoch)</span></span></span><span class="hljs-function">:</span></span></code> </pre> <br>  Pertimbangan ini dapat berlanjut untuk waktu yang sangat lama. <br><br>  Hasilnya, ternyata anotasi jenis sangat berguna bagi seseorang yang menulis kode.  Tetapi mereka juga bermanfaat bagi mereka yang membaca kode orang lain.  Jauh lebih mudah untuk membaca kode yang diketik daripada kode, untuk memahami yang Anda harus berurusan dengan apa entitas itu.  Ketikkan anotasi meningkatkan keterbacaan kode. <br><br>  Jadi, apa yang telah dilakukan dengan Python untuk membawa kode ke tingkat keterbacaan yang sama yang membedakan kode yang ditulis dalam bahasa yang diketik secara statis? <br><br><h2>  <font color="#3AC1EF">Ketik Anotasi dengan Python</font> </h2><br>  Sekarang kita siap untuk berbicara serius tentang mengetik anotasi dengan Python.  Saat membaca program yang ditulis dengan Python 2, orang bisa melihat bahwa programmer menyediakan kode mereka dengan petunjuk memberitahu pembaca kode apa jenis variabel atau nilai yang dikembalikan oleh fungsi. <br><br>  Kode serupa awalnya tampak seperti <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ini</a> : <br><br><pre> <code class="python hljs">users = [] <span class="hljs-comment"><span class="hljs-comment"># type: List[UserID] examples = {} # type: Dict[str, Any]</span></span></code> </pre> <br>  Ketikkan anotasi yang digunakan untuk komentar sederhana.  Tetapi kebetulan Python mulai bergeser ke arah cara yang lebih seragam dalam menangani anotasi.  Secara khusus, kita berbicara tentang munculnya dokumen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PEP 3107</a> , yang didedikasikan untuk penjelasan fungsi. <br><br>  Selanjutnya, pekerjaan dimulai pada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PEP 484</a> .  Dokumen ini, yang dikhususkan untuk mengetik anotasi, dikembangkan dalam kaitan erat dengan mypy, proyek DropBox, yang bertujuan untuk memverifikasi jenis sebelum menjalankan skrip.  Menggunakan mypy, perlu diingat bahwa pengecekan tipe tidak dilakukan selama eksekusi skrip.  Pesan kesalahan dapat diterima saat runtime jika, misalnya, Anda mencoba membuat sesuatu dari tipe yang tidak didukung tipe ini.  Katakan - jika Anda mencoba mengiris kamus atau memanggil metode <code>.pop()</code> untuk sebuah string. <br><br>  Inilah yang dapat Anda pelajari dari PEP 484 tentang detail implementasi anotasi: “Meskipun anotasi ini tersedia pada saat dijalankan melalui atribut <code>annotations</code> biasa, tidak ada pemeriksaan tipe yang dilakukan pada saat run time.  Sebagai gantinya, proposal ini menyediakan keberadaan alat pengecekan tipe mandiri yang terpisah, yang dengannya pengguna, jika diinginkan, dapat memeriksa kode sumber programnya.  Secara umum, alat pengecekan tipe serupa bekerja seperti linter yang sangat kuat.  "Meskipun, tentu saja, pengguna individu dapat menggunakan alat serupa untuk memeriksa jenis saat runtime, baik untuk penerapan metodologi Desain Dengan Kontrak atau untuk penerapan optimasi JIT. Tetapi harus dicatat bahwa alat tersebut belum mencapai kematangan yang memadai." <br><br>  Bagaimana cara bekerja dengan anotasi jenis terlihat dalam praktik? <br><br>  Misalnya, penggunaannya berarti kemampuan untuk memfasilitasi pekerjaan di berbagai IDE.  Jadi, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PyCharm</a> , penawaran, berdasarkan pada informasi jenis, penyelesaian kode dan verifikasi.  Fitur serupa tersedia dalam Kode VS. <br><br>  Jenis anotasi berguna karena satu alasan lagi: mereka melindungi pengembang dari kesalahan bodoh.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ini adalah</a> contoh bagus dari perlindungan semacam itu. <br><br>  Misalkan kita menambahkan nama orang ke kamus: <br><br><pre> <code class="python hljs">names = {<span class="hljs-string"><span class="hljs-string">'Vicki'</span></span>: <span class="hljs-string"><span class="hljs-string">'Boykis'</span></span>,         <span class="hljs-string"><span class="hljs-string">'Kim'</span></span>: <span class="hljs-string"><span class="hljs-string">'Kardashian'</span></span>} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">append_name</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dict, first_name, last_name)</span></span></span><span class="hljs-function">:</span></span>    dict[first_name] = last_name   append_name(names,<span class="hljs-string"><span class="hljs-string">'Kanye'</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>)</code> </pre> <br>  Jika kami mengizinkan ini, akan ada banyak entri yang salah dalam kamus. <br>  Mari kita perbaiki ini: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> typing <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Dict names_new: Dict[str, str] = {<span class="hljs-string"><span class="hljs-string">'Vicki'</span></span>: <span class="hljs-string"><span class="hljs-string">'Boykis'</span></span>,                             <span class="hljs-string"><span class="hljs-string">'Kim'</span></span>: <span class="hljs-string"><span class="hljs-string">'Kardashian'</span></span>} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">append_name</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dic: Dict[str, str] , first_name: str, last_name: str)</span></span></span><span class="hljs-function">:</span></span>    dic[first_name] = last_name append_name(names_new,<span class="hljs-string"><span class="hljs-string">'Kanye'</span></span>,<span class="hljs-number"><span class="hljs-number">9.7</span></span>) names_new</code> </pre> <br>  Sekarang periksa kode ini dengan mypy dan dapatkan yang berikut: <br><br><pre> <code class="python hljs">(kanye) mbp-vboykis:types vboykis$ mypy kanye.py kanye.py:<span class="hljs-number"><span class="hljs-number">9</span></span>: error: Argument <span class="hljs-number"><span class="hljs-number">3</span></span> to <span class="hljs-string"><span class="hljs-string">"append_name"</span></span> has incompatible type <span class="hljs-string"><span class="hljs-string">"float"</span></span>; expected <span class="hljs-string"><span class="hljs-string">"str"</span></span></code> </pre> <br>  Dapat dilihat bahwa mypy tidak memungkinkan Anda untuk menggunakan nomor di mana string diharapkan.  Mereka yang ingin menggunakan tes seperti itu secara teratur disarankan untuk memasukkan mypy di mana pengujian kode dilakukan dalam sistem integrasi berkelanjutan mereka. <br><br><h2>  <font color="#3AC1EF">Ketik petunjuk dalam berbagai IDE</font> </h2><br>  Salah satu manfaat paling penting dari menggunakan anotasi jenis adalah bahwa mereka memungkinkan programmer Python untuk menggunakan fitur penyelesaian kode yang sama di berbagai IDE yang tersedia untuk bahasa yang diketik secara statis. <br><br>  Misalnya, Anda memiliki sepotong kode yang menyerupai yang berikut ini.  Ini adalah beberapa fungsi dari contoh sebelumnya yang dibungkus dalam kelas. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> typing <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Dict <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">rainfallRate</span></span></span><span class="hljs-class">:</span></span>    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, hours, inches)</span></span></span><span class="hljs-function">:</span></span>        self.hours= hours        self.inches = inches    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">calculateRate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, inches:int, hours:int)</span></span></span><span class="hljs-function"> -&gt; float:</span></span>        <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> inches/hours rainfallRate.calculateRate() <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">addNametoDict</span></span></span><span class="hljs-class">:</span></span>    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, first_name, last_name)</span></span></span><span class="hljs-function">:</span></span>        self.first_name = first_name        self.last_name = last_name        self.dict = dict    <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">append_name</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dict:Dict[str, str], first_name:str, last_name:str)</span></span></span><span class="hljs-function">:</span></span>        dict[first_name] = last_name addNametoDict.append_name()</code> </pre> <br>  Yang menyenangkan adalah bahwa kita, atas inisiatif kita sendiri, menambahkan deskripsi jenis ke kode, kita dapat mengamati apa yang terjadi dalam program ketika metode kelas dipanggil: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8dd/b42/ded/8ddb42ded904ffe516a90d990a7ff856.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/731/336/a7a/731336a7aa97c55b1e60930ada747ac0.png"></div><br>  <i><font color="#999999">Tip Tipe IDE</font></i> <br><br><h2>  <font color="#3AC1EF">Memulai dengan anotasi jenis</font> </h2><br>  Anda dapat menemukan rekomendasi yang bagus dalam dokumentasi untuk mypy mengenai apa yang harus dimulai ketika mulai mengetik basis kode: <br><br><ol><li>  Mulai dari yang kecil - pastikan beberapa file yang berisi banyak anotasi divalidasi dengan mypy. </li><li>  Tulis skrip untuk menjalankan mypy.  Ini akan membantu mencapai hasil tes yang konsisten. </li><li>  Jalankan mypy di pipa CI untuk mencegah kesalahan tipe. </li><li>  Secara bertahap beri catatan modul yang paling sering digunakan dalam proyek. </li><li>  Tambahkan jenis anotasi ke kode yang ada yang Anda modifikasi;  lengkapi mereka dengan kode baru yang Anda tulis. </li><li>  Gunakan MonkeyType atau PyAnnotate untuk secara otomatis membubuhi keterangan kode lama. </li></ol><br>  Sebelum memulai anotasi kode Anda sendiri, akan berguna bagi Anda untuk berurusan dengan sesuatu. <br><br>  Pertama, Anda perlu mengimpor modul <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pengetikan</a> ke dalam kode jika Anda menggunakan sesuatu selain string, integer, booleans, dan nilai-nilai tipe Python dasar lainnya. <br><br>  Kedua, modul ini memungkinkan untuk bekerja dengan beberapa tipe kompleks.  Diantaranya adalah <code>Dict</code> , <code>Tuple</code> , <code>List</code> dan <code>Set</code> .  Konstruksi bentuk <code>Dict[str, float]</code> berarti Anda ingin bekerja dengan kamus yang elemennya menggunakan string sebagai kunci dan angka titik-mengambang sebagai nilai.  Ada juga jenis yang disebut <code>Optional</code> dan <code>Union</code> . <br><br>  Ketiga, Anda harus membiasakan diri dengan format anotasi jenis: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> typing <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">some_function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(variable: type)</span></span></span><span class="hljs-function"> -&gt; return_type:</span></span>  do_something</code> </pre> <br>  Jika Anda ingin tahu lebih banyak tentang cara mulai menerapkan anotasi jenis dalam proyek Anda, saya ingin mencatat bahwa banyak tutorial yang bagus ditujukan untuk ini.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ini</a> salah satunya.  Saya menganggap itu yang terbaik.  Setelah menguasainya, Anda akan belajar tentang anotasi kode dan verifikasi. <br><br><h2>  <font color="#3AC1EF">Hasilnya.</font>  <font color="#3AC1EF">Apakah layak menggunakan anotasi jenis dengan Python?</font> </h2><br>  Sekarang mari kita bertanya pada diri sendiri apakah Anda harus menggunakan anotasi ketik dengan Python.  Sebenarnya, itu tergantung pada fitur proyek Anda.  Inilah yang dikatakan Guido van Rossum dalam dokumentasi untuk mypy tentang ini: “Tujuan mypy bukan untuk meyakinkan semua orang untuk menulis kode Python yang diketik secara statis.  Pengetikan statis sepenuhnya opsional sekarang dan di masa depan.  Tujuan Mypy adalah memberi programmer Python lebih banyak opsi.  Ini untuk membuat Python alternatif yang lebih kompetitif untuk bahasa yang diketik secara statis lain yang digunakan dalam proyek-proyek besar.  Ini untuk meningkatkan produktivitas programmer dan meningkatkan kualitas perangkat lunak. " <br><br>  Waktu yang diperlukan untuk mengonfigurasi mypy dan merencanakan jenis-jenis yang diperlukan untuk program tertentu tidak membenarkan dirinya dalam proyek-proyek kecil dan selama percobaan (misalnya, yang dilakukan di Jupyter).  Proyek mana yang harus dianggap kecil?  Mungkin yang volumenya, menurut perkiraan yang cermat, tidak melebihi 1000 baris. <br><br>  Ketikkan anotasi masuk akal dalam proyek yang lebih besar.  Di sana mereka dapat, khususnya, menghemat banyak waktu.  Kita berbicara tentang proyek yang dikembangkan oleh kelompok pemrogram, tentang paket, tentang kode, yang digunakan dalam pengembangan sistem kontrol versi dan jaringan pipa CI. <br><br>  Saya percaya bahwa anotasi jenis dalam beberapa tahun mendatang akan menjadi jauh lebih umum daripada sekarang, belum lagi fakta bahwa mereka mungkin berubah menjadi alat sehari-hari biasa.  Dan saya percaya bahwa seseorang yang mulai bekerja dengan mereka sebelum yang lain tidak akan kehilangan apapun. <br><br>  <b>Pembaca yang budiman!</b>  Apakah Anda menggunakan anotasi jenis dalam proyek Python Anda? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id463931/">https://habr.com/ru/post/id463931/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id463921/index.html">(Tidak terlalu) biaya tersembunyi dari basis kode umum iOS dan Android</a></li>
<li><a href="../id463923/index.html">.container tidak lagi dibutuhkan</a></li>
<li><a href="../id463925/index.html">Vivaldi: Bagaimana kita menghitung jumlah pengguna?</a></li>
<li><a href="../id463927/index.html">Pengelakan keamanan dan penyensoran: 5 VPN dan proksi untuk Google Chrome</a></li>
<li><a href="../id463929/index.html">Menjelajahi kedalaman anotasi jenis dengan Python. Bagian 1</a></li>
<li><a href="../id463933/index.html">Skrip Python 20-baris yang mengucapkan selamat pagi kepada orang tua setiap hari melalui WhatsApp</a></li>
<li><a href="../id463937/index.html">Saya tidak menyembunyikan apa pun</a></li>
<li><a href="../id463939/index.html">SimbirSoft telah merilis solusi mobile untuk perusahaan asuransi</a></li>
<li><a href="../id463943/index.html">Kesengsaraan unicorn hitam</a></li>
<li><a href="../id463951/index.html">c.tech: Cassandra Meetup # 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>