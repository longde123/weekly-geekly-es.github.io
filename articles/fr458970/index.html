<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§Ωüèª üôãüèª üíÇüèº Utilisation de UIViewPropertyAnimator pour cr√©er des animations personnalis√©es ü§¥üèæ ‚å®Ô∏è ü§•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cr√©er des animations est super. Ils sont une partie importante des directives d'interface humaine iOS . Les animations aident √† attirer l'attention de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Utilisation de UIViewPropertyAnimator pour cr√©er des animations personnalis√©es</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458970/"> Cr√©er des animations est super.  Ils sont une partie importante <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">des directives d'interface humaine iOS</a> .  Les animations aident √† attirer l'attention de l'utilisateur sur des choses importantes ou rendent simplement l'application moins ennuyeuse. <br><br>  Il existe plusieurs fa√ßons d'impl√©menter une animation dans iOS.  La fa√ßon la plus populaire est <i>probablement d'</i> utiliser <i>UIView.animate (withDuration: animations :)</i> .  Vous pouvez animer un calque d'image √† l'aide de <b>CABasicAnimation</b> .  De plus, UIKit vous permet de configurer des animations personnalis√©es pour afficher le contr√¥leur √† l'aide de <b>UIViewControllerTransitioningDelegate</b> . <br><br>  Dans cet article, je veux discuter d'une autre fa√ßon passionnante d'animer des vues - <b>UIViewPropertyAnimator</b> .  Cette classe fournit beaucoup plus de fonctions de gestion que son pr√©d√©cesseur, <i>UIView.animat</i> e.  Utilisez-le pour cr√©er des animations temporaires, interactives et interrompues.  De plus, il est possible de changer rapidement d'animateur. <br><a name="habracut"></a><br><h3>  Pr√©sentation de UIViewPropertyAnimator </h3><br>  <b>UIViewPropertyAnimator a</b> √©t√© introduit dans <b>iOS 10</b> .  Il vous permet de cr√©er des animations de mani√®re orient√©e objet.  Regardons un exemple d'animation cr√©√©e √† l'aide de <b>UIViewPropertyAnimator</b> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/284/201/7c2/2842017c24a19653c9be8f14b4f13bfc.gif" alt="image"><br><br>  Voici comment c'√©tait lors de l'utilisation d'UIView. <br><br><pre><code class="swift hljs"><span class="hljs-type"><span class="hljs-type">UIView</span></span>.animate(withDuration: <span class="hljs-number"><span class="hljs-number">0.3</span></span>) { view.frame = view.frame.offsetBy(dx: <span class="hljs-number"><span class="hljs-number">100</span></span>, dy: <span class="hljs-number"><span class="hljs-number">0</span></span>) }</code> </pre> <br>  Et voici comment le faire avec <b>UIViewPropertyAnimator</b> : <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> animator = <span class="hljs-type"><span class="hljs-type">UIViewPropertyAnimator</span></span>(duration:<span class="hljs-number"><span class="hljs-number">0.3</span></span>, curve: .linear) { view.frame = view.frame.offsetBy(dx:<span class="hljs-number"><span class="hljs-number">100</span></span>, dy:<span class="hljs-number"><span class="hljs-number">0</span></span>) } animator.startAnimation()</code> </pre><br>  Si vous devez v√©rifier l'animation, cr√©ez simplement un Playground et ex√©cutez le code comme indiqu√© ci-dessous.  Les deux fragments de code conduiront au m√™me r√©sultat. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f1a/1fb/515/f1a1fb51597dadf93c4155dc59d8164d.png" alt="image"><br><br>  Vous pourriez penser que dans cet exemple, il n'y a pas beaucoup de diff√©rence.  Alors, quel est l'int√©r√™t d'ajouter une nouvelle fa√ßon de cr√©er des animations?  <b>UIViewPropertyAnimator</b> devient plus utile lorsque vous devez cr√©er des animations interactives. <br><br><h3>  Animation interactive et interrompue </h3><br>  Vous souvenez-vous du geste classique ¬´Glissement de doigt pour d√©verrouiller l'appareil¬ª?  Ou le geste "D√©placez votre doigt sur l'√©cran de bas en haut" pour ouvrir le Control Center?  Ce sont d'excellents exemples d'animation interactive.  Vous pouvez commencer √† d√©placer l'image avec votre doigt, puis la rel√¢cher et l'image reviendra √† sa position d'origine.  De plus, vous pouvez capturer l'image pendant l'animation et continuer √† la d√©placer avec votre doigt. <br><br>  Les animations UIView ne permettent pas de contr√¥ler facilement le pourcentage d'ach√®vement de l'animation.  Vous ne pouvez pas suspendre l'animation au milieu d'une boucle et continuer son ex√©cution apr√®s une interruption. <br><br>  Dans ce cas, nous parlerons d' <b>UIViewPropertyAnimator</b> .  Ensuite, nous verrons comment vous pouvez facilement cr√©er une animation enti√®rement interactive et interrompue et une animation inverse en quelques √©tapes. <br><br><h3>  Pr√©paration du projet de lancement </h3><br>  Vous devez d'abord <a href="">t√©l√©charger le projet de d√©marrage</a> .  <b>Une fois que</b> vous avez ouvert l'archive, vous trouverez l'application <b>CityGuide</b> qui aide les utilisateurs √† planifier leurs vacances.  L'utilisateur peut faire d√©filer la liste des villes, puis ouvrir une description d√©taill√©e avec des informations d√©taill√©es sur la ville qu'il a aim√©. <br><br>  Consid√©rez le code source du projet avant de commencer √† cr√©er de belles animations.  Voici ce que vous pouvez trouver dans un projet en l'ouvrant dans <b>Xcode</b> : <br><br><ol><li>  <b>ViewController.swift</b> : contr√¥leur d'application principal avec <b>UICollectionView</b> qui affiche un tableau d'objets <b>City</b> . </li><li>  <b>CityCollectionViewCell.swift:</b> cellule pour afficher la <b>ville</b> .  En fait, dans cet article, la plupart des modifications s'appliqueront √† cette classe.  Vous pouvez remarquer que <b>descriptionLabel</b> et <b>closeButton</b> sont d√©j√† d√©finis dans la classe.  Cependant, apr√®s le d√©marrage de l'application, ces objets seront masqu√©s.  Ne vous inqui√©tez pas, ils seront visibles un peu plus tard.  Cette classe a √©galement des propri√©t√©s <i>collectionView</i> et <i>index</i> .  Plus tard, ils seront utilis√©s pour l'animation. </li><li>  <b>CityCollectionViewFlowLayout.swift:</b> Cette classe est responsable du d√©filement horizontal.  Nous ne le changerons pas encore. </li><li>  <b>City.swift</b> : Le mod√®le d'application principal poss√®de une m√©thode utilis√©e dans ViewController. </li><li>  <b>Main.storyboard:</b> Vous y trouverez l'interface utilisateur pour <b>ViewController</b> et <b>CityCollectionViewCell</b> . </li></ol><br>  Essayons de cr√©er et d'ex√©cuter l'exemple d'application.  √Ä la suite de cela, nous obtenons ce qui suit. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/313/0ed/3e6/3130ed3e68179c72b4b99e160cc2cb9b.png" alt="cityguideapp-iphone8" width="350" height="614"></div><br><h3>  Impl√©mentation d'une animation de d√©ploiement et de repli </h3><br>  Apr√®s avoir d√©marr√© l'application, une liste de villes s'affiche.  Mais l'utilisateur ne peut pas interagir avec des objets sous forme de cellules.  Vous devez maintenant afficher les informations de chaque ville lorsque l'utilisateur clique sur l'une des cellules.  Jetez un ≈ìil √† la version finale de l'application.  Voici ce qui devait r√©ellement √™tre d√©velopp√©: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2d1/124/719/2d1124719b8918381a74d1dae192acb5.gif" alt="image" width="350" height="614"></div><br>  L'animation est bonne, non?  Mais il n'y a rien de sp√©cial ici, c'est juste la logique de base de <b>UIViewPropertyAnimator</b> .  Voyons comment impl√©menter ce type d'animation.  Cr√©ez une m√©thode <i>collectionView (_: didSelectItemAt)</i> , ajoutez le fragment de code suivant √† la fin du fichier <b>ViewController</b> : <br><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">collectionView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> collectionView: UICollectionView, didSelectItemAt indexPath: IndexPath)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> selectedCell = collectionView.cellForItem(at: indexPath)! <span class="hljs-keyword"><span class="hljs-keyword">as</span></span>! <span class="hljs-type"><span class="hljs-type">CityCollectionViewCell</span></span> selectedCell.toggle() }</code> </pre><br>  Maintenant, nous devons impl√©menter la m√©thode <b>bascule</b> .  Passons √† <b>CityCollectionViewCell.swift</b> et impl√©mentons cette m√©thode. <br><br>  Tout d'abord, ajoutez l'√©num√©ration <b>State</b> en haut du fichier, juste avant la d√©claration de la classe <b>CityCollectionViewCell</b> .  Cette liste vous permet de suivre l'√©tat d'une cellule: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">State</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> expanded <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> collapsed <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> change: <span class="hljs-type"><span class="hljs-type">State</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .expanded: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> .collapsed <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .collapsed: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> .expanded } } }</code> </pre><br>  Ajoutez des propri√©t√©s pour contr√¥ler l'animation dans la classe <b>CityCollectionViewCell</b> : <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> initialFrame: <span class="hljs-type"><span class="hljs-type">CGRect?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> state: <span class="hljs-type"><span class="hljs-type">State</span></span> = .collapsed <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-built_in"><span class="hljs-built_in">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> animator: <span class="hljs-type"><span class="hljs-type">UIViewPropertyAnimator</span></span> = { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">UIViewPropertyAnimator</span></span>(duration: <span class="hljs-number"><span class="hljs-number">0.3</span></span>, curve: .easeInOut) }()</code> </pre><br>  La variable <i>initialFrame est</i> utilis√©e pour stocker l'image de cellule jusqu'√† l' <i>ex√©cution de</i> l'animation.  <b>√©tat est</b> utilis√© pour suivre si la cellule est d√©velopp√©e ou r√©duite.  Et la variable <b>animateur</b> est utilis√©e pour contr√¥ler l'animation. <br><br>  Ajoutez maintenant la m√©thode <i>bascule</i> et appelez-la √† partir de la m√©thode <i>close</i> , par exemple: <br><br><pre> <code class="swift hljs"><span class="hljs-meta"><span class="hljs-meta">@IBAction</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">close</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender: </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">Any</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> { toggle() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toggle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> state { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .expanded: collapse() <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .collapsed: expand() } }</code> </pre><br>  Ensuite, nous ajoutons deux autres m√©thodes: <i>expand ()</i> et <i>collapse ()</i> .  Nous poursuivrons leur mise en ≈ìuvre.  Tout d'abord, nous commen√ßons avec la m√©thode <i>expansiond ()</i> : <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">expand</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> collectionView = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.collectionView, <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> index = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.index <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } animator.addAnimations { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.initialFrame = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.frame <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.descriptionLabel.alpha = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.closeButton.alpha = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.layer.cornerRadius = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.frame = <span class="hljs-type"><span class="hljs-type">CGRect</span></span>(x: collectionView.contentOffset.x, y:<span class="hljs-number"><span class="hljs-number">0</span></span>, width: collectionView.frame.width, height: collectionView.frame.height) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> leftCell = collectionView.cellForItem(at: <span class="hljs-type"><span class="hljs-type">IndexPath</span></span>(row: index - <span class="hljs-number"><span class="hljs-number">1</span></span>, section: <span class="hljs-number"><span class="hljs-number">0</span></span>)) { leftCell.center.x -= <span class="hljs-number"><span class="hljs-number">50</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> rightCell = collectionView.cellForItem(at: <span class="hljs-type"><span class="hljs-type">IndexPath</span></span>(row: index + <span class="hljs-number"><span class="hljs-number">1</span></span>, section: <span class="hljs-number"><span class="hljs-number">0</span></span>)) { rightCell.center.x += <span class="hljs-number"><span class="hljs-number">50</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.layoutIfNeeded() } animator.addCompletion { position <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> position { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .end: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.state = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.state.change collectionView.isScrollEnabled = <span class="hljs-literal"><span class="hljs-literal">false</span></span> collectionView.allowsSelection = <span class="hljs-literal"><span class="hljs-literal">false</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: () } } animator.startAnimation() }</code> </pre><br>  Combien de code.  Permettez-moi d'expliquer ce qui se passe √©tape par √©tape: <br><br><ol><li>  Tout d'abord, v√©rifiez si <i>collectionView</i> et <i>index</i> ne sont pas √©gaux √† z√©ro.  Sinon, nous ne pourrons pas d√©marrer l'animation. </li><li>  Ensuite, commencez √† cr√©er l'animation en appelant <i>animator.addAnimations</i> . </li><li>  Ensuite, enregistrez l'image actuelle, qui est utilis√©e pour la restaurer dans l'animation de convolution. </li><li>  Ensuite, nous d√©finissons la valeur alpha pour <i>descriptionLabel</i> et <i>closeButton</i> pour les rendre visibles. </li><li>  Ensuite, supprimez le coin arrondi et d√©finissez un nouveau cadre pour la cellule.  La cellule sera affich√©e en plein √©cran. </li><li>  Ensuite, nous d√©pla√ßons les cellules voisines. </li><li>  Appelez maintenant la m√©thode <i>animator.addComplete ()</i> pour d√©sactiver l'interaction de l'image de la collection.  Cela emp√™che les utilisateurs de le faire d√©filer pendant l'expansion des cellules.  Modifiez √©galement l'√©tat actuel de la cellule.  Il est important de changer l'√©tat de la cellule, et ce n'est qu'apr√®s que l'animation se termine. </li></ol><br>  Ajoutez maintenant une animation de convolution.  En bref, c'est juste que nous restaurons la cellule √† son √©tat pr√©c√©dent: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">collapse</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> collectionView = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.collectionView, <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> index = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.index <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } animator.addAnimations { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.descriptionLabel.alpha = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.closeButton.alpha = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.layer.cornerRadius = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.cornerRadius <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.frame = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.initialFrame! <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> leftCell = collectionView.cellForItem(at: <span class="hljs-type"><span class="hljs-type">IndexPath</span></span>(row: index - <span class="hljs-number"><span class="hljs-number">1</span></span>, section: <span class="hljs-number"><span class="hljs-number">0</span></span>)) { leftCell.center.x += <span class="hljs-number"><span class="hljs-number">50</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> rightCell = collectionView.cellForItem(at: <span class="hljs-type"><span class="hljs-type">IndexPath</span></span>(row: index + <span class="hljs-number"><span class="hljs-number">1</span></span>, section: <span class="hljs-number"><span class="hljs-number">0</span></span>)) { rightCell.center.x -= <span class="hljs-number"><span class="hljs-number">50</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.layoutIfNeeded() } animator.addCompletion { position <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> position { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .end: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.state = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.state.change collectionView.isScrollEnabled = <span class="hljs-literal"><span class="hljs-literal">true</span></span> collectionView.allowsSelection = <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: () } } animator.startAnimation() }</code> </pre><br>  Il est maintenant temps de compiler et d'ex√©cuter l'application.  Essayez de cliquer sur la cellule et vous verrez l'animation.  Pour fermer l'image, cliquez sur l'ic√¥ne en forme de croix dans le coin sup√©rieur droit. <br><br><h3>  Ajout du traitement gestuel </h3><br>  Vous pouvez pr√©tendre obtenir le m√™me r√©sultat en utilisant <i>UIView.animate</i> .  Quel est l'int√©r√™t d'utiliser un <b>UIViewPropertyAnimator</b> ? <br><br>  Eh bien, il est temps de rendre l'animation interactive.  Ajoutez un <b>UIPanGestureRecognizer</b> et une nouvelle propri√©t√© appel√©e <i>popupOffset</i> pour suivre combien la cellule peut √™tre d√©plac√©e.  D√©clarons ces variables dans la classe <b>CityCollectionViewCell</b> : <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> popupOffset: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span> = (<span class="hljs-type"><span class="hljs-type">UIScreen</span></span>.main.bounds.height - cellSize.height)/<span class="hljs-number"><span class="hljs-number">2.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-built_in"><span class="hljs-built_in">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> panRecognizer: <span class="hljs-type"><span class="hljs-type">UIPanGestureRecognizer</span></span> = { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> recognizer = <span class="hljs-type"><span class="hljs-type">UIPanGestureRecognizer</span></span>() recognizer.addTarget(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>, action: #selector(popupViewPanned(recognizer:))) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> recognizer }()</code> </pre><br>  Ajoutez ensuite la m√©thode suivante pour enregistrer la d√©finition de balayage: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">awakeFromNib</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.addGestureRecognizer(panRecognizer) }</code> </pre><br>  Vous devez maintenant ajouter la m√©thode <i>popupViewPanned</i> pour suivre le mouvement de balayage.  Collez le code suivant dans <b>CityCollectionViewCell</b> : <br><br><pre> <code class="swift hljs"><span class="hljs-meta"><span class="hljs-meta">@objc</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">popupViewPanned</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(recognizer: UIPanGestureRecognizer)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> recognizer.state { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .began: toggle() animator.pauseAnimation() <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .changed: <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> translation = recognizer.translation(<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: collectionView) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fraction = -translation.y / popupOffset <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> state == .expanded { fraction *= -<span class="hljs-number"><span class="hljs-number">1</span></span> } animator.fractionComplete = fraction <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .ended: animator.continueAnimation(withTimingParameters: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, durationFactor: <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: () } }</code> </pre><br>  Il y a trois √©tats.  Au d√©but du geste, nous initialisons l'animateur √† l'aide de la m√©thode <i>bascule</i> et le mettons imm√©diatement en pause.  Pendant que l'utilisateur fait glisser la cellule, nous mettons √† jour l'animation en d√©finissant les propri√©t√©s du multiplicateur <i>fractionComplete</i> .  C'est la principale magie de l'animateur, qui leur permet de contr√¥ler.  Enfin, lorsque l'utilisateur rel√¢che son doigt, la m√©thode d'animation <i>continueAnimation</i> est appel√©e pour continuer l'animation.  Ensuite, la cellule se d√©placera vers la position cible. <br><br>  Apr√®s avoir d√©marr√© l'application, vous pouvez faire glisser la cellule vers le haut pour la d√©velopper.  Faites ensuite glisser la cellule d√©velopp√©e vers le bas pour la r√©duire. <br><br>  L'animation semble maintenant assez bonne, mais l'interruption de l'animation au milieu n'est pas possible.  Par cons√©quent, pour rendre l'animation enti√®rement interactive, vous devez ajouter une autre fonction - l'interruption.  L'utilisateur peut d√©marrer l'animation de d√©veloppement / r√©duction comme d'habitude, mais l'animation doit √™tre interrompue imm√©diatement apr√®s que l'utilisateur a cliqu√© sur la cellule pendant le cycle d'animation. <br><br>  Pour ce faire, enregistrez la progression de l'animation puis tenez compte de cette valeur afin de calculer le pourcentage d'ach√®vement de l'animation. <br><br>  Tout d'abord, d√©clarez une nouvelle propri√©t√© dans <b>CityCollectionViewCell</b> : <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> animationProgress: <span class="hljs-type"><span class="hljs-type">CGFloat</span></span> = <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  <b>Mettez</b> ensuite √† jour le bloc <b>.began</b> de la m√©thode <i>popupViewPanned</i> avec la ligne de code suivante pour vous souvenir de la progression: <br><br><pre> <code class="swift hljs">animationProgress = animator.fractionComplete</code> </pre><br>  Dans le bloc <b>.changed</b> , <b>vous</b> devez mettre √† jour la ligne de code suivante afin de calculer correctement le pourcentage d'ach√®vement: <br><br><pre> <code class="swift hljs">animator.fractionComplete = fraction + animationProgress</code> </pre><br>  Maintenant, l'application est pr√™te pour les tests.  Ex√©cutez le projet et voyez ce qui se passe.  Si toutes les actions sont effectu√©es correctement en suivant mes instructions, l'animation devrait ressembler √† ceci: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8a5/eae/b13/8a5eaeb1341638dc9b45cbad05f8a66d.gif" alt="image" width="350" height="614"></div><br><h3>  Animation inverse </h3><br>  Vous pouvez trouver une faille pour l'impl√©mentation actuelle.  Si vous faites glisser un peu la cellule, puis la ramenez √† sa position d'origine, la cellule continuera de s'agrandir lorsque vous rel√¢cherez votre doigt.  Corrigeons ce probl√®me pour am√©liorer encore l'animation interactive. <br>  Mettons √† jour le bloc <b>.end</b> de la m√©thode <b>popupViewPanned</b> , comme d√©crit ci-dessous: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> velocity = recognizer.velocity(<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> shouldComplete = velocity.y &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> velocity.y == <span class="hljs-number"><span class="hljs-number">0</span></span> { animator.continueAnimation(withTimingParameters: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, durationFactor: <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> state { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .expanded: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !shouldComplete &amp;&amp; !animator.isReversed { animator.isReversed = !animator.isReversed } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> shouldComplete &amp;&amp; animator.isReversed { animator.isReversed = !animator.isReversed } <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .collapsed: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> shouldComplete &amp;&amp; !animator.isReversed { animator.isReversed = !animator.isReversed } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> !shouldComplete &amp;&amp; animator.isReversed { animator.isReversed = !animator.isReversed } } animator.continueAnimation(withTimingParameters: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, durationFactor: <span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre><br>  Maintenant, nous prenons en compte la vitesse du geste pour d√©terminer si l'animation doit √™tre invers√©e. <br><br>  Et enfin, ins√©rez une autre ligne de code dans le bloc <b>.changed</b> .  Mettez ce code √† droite du calcul <i>animator.fractionComplete</i> . <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> animator.isReversed { fraction *= -<span class="hljs-number"><span class="hljs-number">1</span></span> }</code> </pre><br>  Ex√©cutons √† nouveau l'application.  Maintenant, tout devrait fonctionner sans faute. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2a0/734/dc7/2a0734dc7012220eef4281c64db0e24b.gif" alt="image" width="350" height="614"></div><br><h3>  Correction du geste de panoramique </h3><br>  Nous avons donc termin√© la mise en ≈ìuvre de l'animation √† l'aide de <b>UIViewPropertyAnimator</b> .  Cependant, il y a une erreur d√©sagr√©able.  Vous l'avez peut-√™tre rencontr√©e lors du test de l'application.  Le probl√®me est que le d√©filement horizontal de la cellule n'est pas possible.  Essayons de glisser vers la gauche / la droite √† travers les cellules, et nous sommes confront√©s au probl√®me. <br><br>  La raison principale est li√©e √† l' <b>UIPanGestureRecognizer que</b> nous avons <b>cr√©√©</b> .  Il <b>d√©tecte</b> √©galement un geste de balayage et entre en conflit avec le reconnaisseur de gestes <b>int√©gr√© UICollectionView</b> . <br><br>  Bien que l'utilisateur puisse toujours faire d√©filer le haut / bas des cellules ou l'espace entre les cellules pour faire d√©filer les villes, je n'aime toujours pas une interface utilisateur aussi mauvaise.  Corrigeons-le. <br><br>  Pour r√©soudre les conflits, nous devons impl√©menter une m√©thode d√©l√©gu√©e appel√©e <i>gestRecognizerShouldBegin (_ :)</i> .  Cette m√©thode contr√¥le si le reconnaisseur de gestes doit continuer √† interpr√©ter les touches.  Si vous retournez <b>false</b> dans la m√©thode, la reconnaissance des gestes ignorera les touches.  Nous allons donc donner √† notre propre outil de reconnaissance de panorama la possibilit√© d'ignorer les mouvements horizontaux. <br><br>  Pour ce faire, d√©finissons le <i>d√©l√©gu√© de</i> notre reconnaissance de panoramique.  Ins√©rez la ligne de code suivante dans l'initialisation <b>panRecognizer</b> (vous pouvez placer le code juste avant la <i>reconnaissance de retour</i> : <br><br><pre> <code class="swift hljs">recognizer.delegate = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span></code> </pre><br>  Ensuite, nous impl√©mentons la <i>m√©thode gestRecognizerShouldBegin (_ :)</i> comme suit: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gestureRecognizerShouldBegin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> gestureRecognizer: UIGestureRecognizer)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Bool</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>((panRecognizer.velocity(<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: panRecognizer.view)).y) &gt; <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>((panRecognizer.velocity(<span class="hljs-keyword"><span class="hljs-keyword">in</span></span>: panRecognizer.view)).x) }</code> </pre><br>  Nous allons ouvrir / fermer si sa vitesse verticale est sup√©rieure √† la vitesse horizontale. <br><br>  Ouah!  Testons √† nouveau l'application.  Vous pouvez maintenant vous d√©placer dans la liste des villes en balayant vers la gauche / droite les cellules. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dd6/bcb/909/dd6bcb90976b4eaae326027309fda1c6.gif" alt="image" width="350" height="614"></div><br><h3>  Bonus: fonctionnalit√©s de synchronisation personnalis√©es </h3><br>  Avant de terminer ce didacticiel, parlons des fonctions de synchronisation.  Vous souvenez-vous toujours du cas o√π le d√©veloppeur vous a demand√© d'impl√©menter une fonction de synchronisation personnalis√©e pour l'animation que vous cr√©ez? <br><br>  Habituellement, vous devez remplacer <i>UIView.animation</i> par <b>CABasicAnimation</b> ou envelopper dans <b>CATransaction</b> .  <b>Avec UIViewPropertyAnimator,</b> vous pouvez facilement impl√©menter des fonctions de synchronisation personnalis√©es. <br><br>  Les <b>fonctions de</b> synchronisation (ou fonctions d'acc√©l√©ration) sont comprises comme des fonctions de vitesse d'animation qui affectent le taux de changement de l'une ou l'autre propri√©t√© anim√©e.  Quatre types sont actuellement pris en charge: EASYINOUT, EASYIN, EASYOUT, lin√©aire <br><br>  Remplacez l'initialisation de l'animateur par ces fonctions de synchronisation (essayez de dessiner votre propre courbe cubique de B√©zier) comme suit: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-built_in"><span class="hljs-built_in">lazy</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> animator: <span class="hljs-type"><span class="hljs-type">UIViewPropertyAnimator</span></span> = { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> cubicTiming = <span class="hljs-type"><span class="hljs-type">UICubicTimingParameters</span></span>(controlPoint1: <span class="hljs-type"><span class="hljs-type">CGPoint</span></span>(x: <span class="hljs-number"><span class="hljs-number">0.17</span></span>, y: <span class="hljs-number"><span class="hljs-number">0.67</span></span>), controlPoint2: <span class="hljs-type"><span class="hljs-type">CGPoint</span></span>(x: <span class="hljs-number"><span class="hljs-number">0.76</span></span>, y: <span class="hljs-number"><span class="hljs-number">1.0</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-type"><span class="hljs-type">UIViewPropertyAnimator</span></span>(duration: <span class="hljs-number"><span class="hljs-number">0.3</span></span>, timingParameters: cubicTiming) }()</code> </pre><br>  Alternativement, au lieu d'utiliser des param√®tres de synchronisation cubiques, vous pouvez √©galement utiliser la synchronisation √† ressort, par exemple: <br><br><pre> <code class="swift hljs"> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> springTiming = <span class="hljs-type"><span class="hljs-type">UISpringTimingParameters</span></span>(mass: <span class="hljs-number"><span class="hljs-number">1.0</span></span>, stiffness: <span class="hljs-number"><span class="hljs-number">2.0</span></span>, damping: <span class="hljs-number"><span class="hljs-number">0.2</span></span>, initialVelocity: .zero)</code> </pre><br>  Essayez de red√©marrer le projet et voyez ce qui se passe. <br><br><h3>  Conclusion </h3><br>  Gr√¢ce √† UIViewPropertyAnimator, vous pouvez am√©liorer les √©crans statiques et l'interaction de l'utilisateur gr√¢ce √† des animations interactives. <br><br>  Je sais que vous ne pouvez pas attendre pour r√©aliser ce que vous avez appris dans votre propre projet.  Si vous appliquez cette approche dans votre projet, ce sera tr√®s cool, faites le moi savoir en laissant un commentaire ci-dessous. <br><br>  √Ä titre de r√©f√©rence, vous pouvez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">t√©l√©charger</a> ici <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le projet final</a> . <br><br><h3>  Liens suppl√©mentaires </h3><br>  <b>Animations professionnelles utilisant UIKit</b> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://developer.apple.com/videos/play/wwdc2017/230/</a> <br><br>  <b>Documentation UIViewPropertyAnimator pour les d√©veloppeurs Apple</b> - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://developer.apple.com/documentation/uikit/uiviewpropertyanimator</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr458970/">https://habr.com/ru/post/fr458970/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr458956/index.html">Apprentissage automatique vs approche analytique</a></li>
<li><a href="../fr458960/index.html">Qu√™te d'entreprise</a></li>
<li><a href="../fr458962/index.html">Convertissez l'image en son - qu'entendez-vous?</a></li>
<li><a href="../fr458964/index.html">TestMace. D√©marrage rapide</a></li>
<li><a href="../fr458966/index.html">Les scientifiques et les chefs d'entreprises technologiques consid√®rent le lancement d'entreprises industrielles dans l'espace comme une r√©alit√©</a></li>
<li><a href="../fr458972/index.html">Nouvelles de la semaine: Yandex et agences de renseignement occidentales, FAS combat les casinos en ligne, le minist√®re des Transports r√©glemente BlaBlaCar</a></li>
<li><a href="../fr458974/index.html">Pleine vie sur Svelte</a></li>
<li><a href="../fr458982/index.html">Recettes Nginx: Conversion de HTML et d'URL en PDF et PS</a></li>
<li><a href="../fr458984/index.html">Comment cr√©er la premi√®re application de trading sur la bourse: 3 √©tapes initiales</a></li>
<li><a href="../fr458986/index.html">Recettes PostgreSQL: Conversion de HTML et d'URL en PDF et PS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>