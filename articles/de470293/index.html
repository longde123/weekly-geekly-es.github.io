<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üñïüèª üòÖ üë®‚ÄçüöÄ Wie mich die Sicherheitsl√ºcke in Yandex.Stations zu dem Projekt inspiriert hat: Musikdaten√ºbertragung üè≠ üíÇüèº üè¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Letzte Woche habe ich dar√ºber gesprochen, wie Yandex.Stations per Sound aktiviert werden. Es stellte sich heraus, dass das WiFi-Passwort im Klartext √º...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wie mich die Sicherheitsl√ºcke in Yandex.Stations zu dem Projekt inspiriert hat: Musikdaten√ºbertragung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470293/"> Letzte Woche habe ich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dar√ºber gesprochen,</a> wie Yandex.Stations per Sound aktiviert werden.  Es stellte sich heraus, dass das WiFi-Passwort im Klartext √ºbertragen wird.  Ich fragte mich, warum es notwendig war, die Aktivierung auf diese Weise und nicht auf eine debuggte Weise durchzuf√ºhren. <br><br>  Infolgedessen kam ich zu dem Schluss, dass die Show in diesem Prozess wichtig ist.  Was passiert jedoch, wenn wir ein Daten√ºbertragungsprotokoll erstellen, das sich vollst√§ndig auf die Benutzererfahrung konzentriert?  So entstand das Octave-Projekt - f√ºr die melodische Daten√ºbertragung. <br><br><img src="https://habrastorage.org/webt/te/s8/ii/tes8iihsijbcrbm3vrbj3vymhuo.png"><br><br>  Unter dem Schnitt werde ich Ihnen erz√§hlen, wie der Prototyp hergestellt wurde, und einen Link zur Demo geben.  Sie k√∂nnen h√∂ren, wie jede Nachricht klingt :) <br><a name="habracut"></a><br><h2>  Zusammenfassung des vorherigen Artikels </h2><br>  Ich habe den Ton aufgenommen, mit dem die Station aktiviert wird, die Visualisierung der sich bewegenden Fourier-Transformation betrachtet und festgestellt, wie das Signal angeordnet ist und wo das WLAN-Passwort im Klartext liegt. <br><br><img src="https://habrastorage.org/webt/6d/h-/og/6dh-ogsq6pwhul8wkkfpvzbhqny.png"><br><br>  Es wird eine Hex-Zeichenfolge √ºbertragen, bei der f√ºr jedes Zeichen 0 - F eine Frequenz von 1 kHz - 4,6 kHz mit einem Schritt von 240 Hz vorliegt.  Ich fragte mich, warum es notwendig war, die Aktivierung auf diese Weise und nicht √ºber Bluetooth durchzuf√ºhren, wie zum Beispiel bei chinesischen Staubsaugerrobotern, und kam zu dem Schluss, dass in diesem Fall Effizienz wichtiger ist als Sicherheit oder Geschwindigkeit. <br><br><h2>  Inspiration </h2><br>  Wirklich!  Schlie√ülich ist das Kommunikationsprotokoll immer ein Kompromiss zwischen Reichweite, Geschwindigkeit und Zuverl√§ssigkeit.  Was aber, wenn all diese Eigenschaften in den Hintergrund treten und der entscheidende Faktor der Eindrucksfaktor f√ºr den Benutzer ist? <br><br>  Ich mochte die einfache Idee der Yandex-Entwickler, wie ein Hammer, 16 Frequenzen auszuw√§hlen: eine f√ºr jedes Hex-Symbol.  Und ich hatte auch einen Signalempf√§nger aus einer fr√ºheren Studie, also beschloss ich, diese Idee zu entwickeln und nicht alles von Grund auf neu zu erfinden. <br><br><h2>  Zwei Verbesserungen </h2><br><h3>  Phasenunterbrechung entfernen </h3><br>  Erstens war ich bei der Analyse des Aktivierungssignals der Station durch Rauschen bei allen Frequenzen zum Zeitpunkt des Umschaltens des Symbols verwirrt.  Dies sind die vertikalen Balken im Spektrogramm: <br><br><img src="https://habrastorage.org/webt/wo/_w/bt/wo_wbtlgouleuvnbczcgpqwgpxi.png"><br><br>  In diesen Momenten sind Klicks zu h√∂ren.  Der Grund f√ºr diesen Effekt ist eine Phasenl√ºcke zwischen den Zeichen.  Tatsache ist, dass die L√§nge eines Symbols nicht zu einer ganzzahligen Anzahl von Schallschwingungsperioden passt.  Daher √§ndert sich zum Zeitpunkt des Umschaltens der Frequenz die Signalamplitude dramatisch.  Ungef√§hr so: <br><br><img src="https://habrastorage.org/webt/om/uo/yz/omuoyzeg5xpzweq8tfqav94py48.png"><br><br>  Es gibt verschiedene Methoden im Radio, um diesen Effekt zu vermeiden.  Ich habe mich entschlossen, die Amplitude des Signals zum Zeitpunkt des Umschaltens der Frequenz sanft zu reduzieren und dann sanft aufzubauen - es klingt weicher.  Es sieht so aus: <br><br><img src="https://habrastorage.org/webt/fd/li/zf/fdlizfmcm4wg7m3jqqr4pbh0xyc.png"><br><br>  Vielleicht waren die Klicks kein Bug, sondern Features und gaben einen "futuristischeren" Sound, aber ich mag es besser ohne sie :) <br><br><h3>  Musik hinzuf√ºgen </h3><br>  Wir √ºbertragen Daten durch Ton.  Warum nicht daf√ºr Notenfrequenzen verwenden?  Ich habe verschiedene Optionen ausprobiert und am Ende 16 Noten ausgew√§hlt, beginnend mit Vor der ersten Oktave. <br><br><img src="https://habrastorage.org/webt/r0/9e/li/r09elipgqoezcyyjh1jr1w0lpq0.png"><br><br>  Wenn Sie h√∂here Noten verwenden, f√ºhlen sich Ihre Ohren weniger wohl.  Und tiefere Noten werden aufgrund der Eigenschaften des Frequenzgangs von Lautsprechern und Mikrofonen schlechter √ºbertragen.  Au√üerdem sind die Frequenzen tiefer T√∂ne n√§her beieinander, was sich auf den Empfang auswirkt. <br><br>  Es stellte sich eine Art Musikfrequenzmodulation heraus.  Nennen wir es "Croup-Modulation" :) <br><br><h2>  Wir starten </h2><br>  Wie klingt das?  Damit Sie es direkt im Browser versuchen k√∂nnen, habe ich den Krup-modulierten Sender von Python auf js umgeschrieben und eine einfache Oberfl√§che erstellt. <br><br>  Ich nutze diese Gelegenheit, um Hallo zu sagen: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/zY0PuC2CE8Q" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Ich benutze utf-8, was bedeutet, dass kyrillische Zeichen und sogar Emojis √ºbertragen werden k√∂nnen.  Pakete mit ihnen sind l√§nger, da jedes dieser Zeichen mehr als 1 Byte hat. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/KH21Pr5DrLY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Es klingt etwas weniger angenehm als Latein, da jedes kyrillische Zeichen dasselbe Adressbyte enth√§lt.  Aber immer noch interessant :) <br><br>  Sie k√∂nnen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> beliebige S√§tze ausprobieren.  (Duplizieren am Ende des Artikels) <br><br><h2>  Aber was ist mit dem Empf√§nger? </h2><br>  Nat√ºrlich macht es Spa√ü, zuf√§llige T√∂ne basierend auf Text zu h√∂ren, aber die Daten√ºbertragung kann nur aufgerufen werden, wenn das Signal empfangen, demoduliert und decodiert wird. <br><br>  Ich habe einen Prototyp eines Python-Empf√§ngers als Proof of Concept erstellt.  So funktioniert es: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/dKrgMCgJhbA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Sie sehen, die Daten√ºbertragung erfolgt wie durch Notizen!  Nat√ºrlich ist von einer Produktion derzeit keine Rede.  Es gibt keine Synchronisation, fehlerkorrigierende Codierung und Integrit√§tskontrolle.  Aber wenn die Community Interesse zeigt und einige Optionen f√ºr den praktischen Gebrauch bietet, kann ich die oben genannten Funktionen implementieren und in eine normale Bibliothek einbinden :) <br><br><div class="spoiler">  <b class="spoiler_title">Der Radfahrer?</b> <div class="spoiler_text">  Ich wei√ü, dass die Daten√ºbertragung durch Ton gut entwickelt ist.  Es gibt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bibliotheken, die auch mit Ultraschall arbeiten</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DTMF</a> ist immer noch weit verbreitet, und die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Leute emulierten sogar Tonbefehle</a> mit einer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pfeife</a> .  Ich habe jedoch keine Projekte gesehen, die Notizen f√ºr die Daten√ºbertragung verwenden.  Bitte schreiben Sie in die Kommentare, wenn Sie so etwas wissen. <br></div></div><br><h2>  Zusammenfassend </h2><br>  Es war ein interessantes Projekt f√ºr ein paar Abende mit einem ziemlich spektakul√§ren Ergebnis.  Eine solche Daten√ºbertragung kann beispielsweise als ‚ÄûSound-QR-Code‚Äú verwendet werden, um ein Konto von einem Telefon auf eine Website usw. zu teilen. <br><br>  Alternativ k√∂nnen Sie damit Klingelt√∂ne f√ºr Marken erstellen.  Hier <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">klingt</a> zum Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">nach habr</a> . <br><br>  Alle aktuellen Entwicklungen sind auf dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Github</a> verf√ºgbar - Sie k√∂nnen versuchen, das Projekt selbst zu entwickeln. <br><br>  Duplizieren Sie den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link zur Demo, die im Browser ausgef√ºhrt wird.</a> <br><br>  Danke f√ºrs Lesen!  Ich hoffe du warst interessiert. <br><br>  Viel Gl√ºck! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de470293/">https://habr.com/ru/post/de470293/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de470281/index.html">Das Gesicht der russischen Software. Oder einige Statistiken aus dem Unified Register der russischen Computerprogramme und Datenbanken</a></li>
<li><a href="../de470283/index.html">Die Suchmaschine ist eine Frau</a></li>
<li><a href="../de470285/index.html">Ein hockender Tiger, der in SQLAlchemy lauert. Die Grundlagen</a></li>
<li><a href="../de470287/index.html">Migrant</a></li>
<li><a href="../de470289/index.html">Die Programmiersprache meiner Tr√§ume</a></li>
<li><a href="../de470295/index.html">Einfache SQlite DB-Verschl√ºsselung</a></li>
<li><a href="../de470299/index.html">Effizientes SignalR-Verbindungsmanagement</a></li>
<li><a href="../de470301/index.html">Schl√ºsselwortbaum: Diagrammanalyse zur semantischen Extraktion</a></li>
<li><a href="../de470303/index.html">Installieren Sie den TFTP-Server unter CentOS 8 oder RedHat 8</a></li>
<li><a href="../de470305/index.html">Vorbereitung auf die Spring Professional-Zertifizierung. Beh√§lter, IoC, Bohnen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>