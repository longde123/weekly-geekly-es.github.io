<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌏 💯 👩🏿‍🤝‍👨🏻 Dua aspek WebView: tentang mulai cepat proyek dan pencurian data pribadi 🥟 💅🏿 🏪</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo, Habr! 

 Nama saya Eugene, saya pengembang Full Stack JS, tumpukan saat ini adalah Node.js + Bereaksi + Bereaksi Asli. Saya telah dalam pengemba...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Dua aspek WebView: tentang mulai cepat proyek dan pencurian data pribadi</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/440710/">  Halo, Habr! <br><br>  Nama saya Eugene, saya pengembang Full Stack JS, tumpukan saat ini adalah Node.js + Bereaksi + Bereaksi Asli.  Saya telah dalam pengembangan selama lebih dari 10 tahun.  Dalam pengembangan ponsel saya mencoba berbagai alat dari Cordova hingga React Native.  Setelah mendapatkan pengalaman dengan Cardova, saya menyadari bahwa saya ingin membuat antarmuka asli, menurut saya WebView seharusnya tidak menjadi keseluruhan aplikasi.  Tetapi ini tidak berarti bahwa itu tidak boleh digunakan sama sekali. <br><br>  Atas undangan rekan-rekan dari Sberbank, dalam posting ini saya ingin berbicara tentang aplikasi mobile hybrid.  Dengan pendekatan yang tepat, ini adalah cara yang bagus untuk mengimplementasikan ide produk yang berfungsi dengan cepat, cukup untuk peluncuran pertama kali startup Anda. <br><br><img src="https://habrastorage.org/webt/5e/5e/zk/5e5ezktcv297mu5hrpai4vjg-9e.jpeg"><br>  <i>Sumber: srishta.com</i> <br><br>  Saya juga akan memberi tahu Anda sedikit tentang bagaimana Anda dapat menggunakan WebView dan bagaimana penyerang dapat menggunakannya melawan Anda.  Contoh-contoh dalam artikel akan ditampilkan menggunakan kerangka kerja React Native, tetapi ide yang sama dapat diterapkan tanpa itu. <br><a name="habracut"></a><br><h2>  Sedikit tentang startup </h2><br>  Saya akan mulai dengan perbedaan mendasar dalam meluncurkan startup di negara kita dan di Barat, saya akan memberi tahu Anda bagaimana WebView dapat membantu di sini, saya akan memberikan contoh kerja dari interaksi elemen web dan asli, serta tips keselamatan untuk berinteraksi dengan aplikasi pihak ketiga. <br><br>  Sebagai aturan, agar startup dapat berhasil, ia harus dimulai dengan cepat.  Jika Anda kehilangan waktu, pesaing Anda akan mem-bypass Anda.  Ini dipahami baik di negara kita maupun di Barat.  Tetapi pendekatan Rusia untuk meluncurkan, sebagai suatu peraturan, jauh lebih menyeluruh - dalam arti kata yang buruk. <br><br>  Semua <i>startup Rusia yang</i> gagal mulai dan berkembang dalam skenario yang kira-kira sama.  Kesalahan paling umum terkait dengan perencanaan strategis pengembangan produk perangkat lunak.  Manajemen berpikir bahwa peluncuran hanya mungkin setelah implementasi 110% dari semua fungsi dan semua nuansa.  Dengan pendekatan ini, defisit anggaran cepat muncul, karena biaya pengembangan tinggi, dan tidak ada pendapatan dari startup.  Mencari investasi tambahan, lingkaran persetujuan tanpa akhir dan revisi membutuhkan banyak waktu, produk muncul di pesaing.  Itu saja, maraton hilang. <br><br>  <i>Startup Eropa dan Amerika</i> bertindak berbeda.  Sebagai permulaan, mereka hanya terbatas pada versi web seluler dengan bagian fungsional yang cukup minimal.  Itu dapat dilihat dari desktop dan perangkat seluler.  Dan pada tahap ini proyek siap diluncurkan!  Setelah diluncurkan, aplikasi dibuat untuk perangkat seluler. <br><br>  Sebagai aturan, aplikasi tidak berbeda dalam fitur dasar dari versi web.  Ini memperluas kemungkinan interaksi dengan pengguna, misalnya, melalui pemberitahuan push.  Pendekatan ini memastikan pemenuhan kondisi utama - mulai cepat, cepat laba pertama.  Pendapatan dari tahap pertama dapat diinvestasikan dalam pembangunan.  Di masa depan, proyek dapat ditingkatkan dan dikembangkan sesuai keinginan tanpa defisit anggaran, tanpa henti melakukan pendekatan berulang untuk menambah fungsionalitas baru dan mengembangkan antarmuka pengguna. <br><br>  Saya mengusulkan untuk mempertimbangkan secara lebih terperinci tahap ketika sudah ada versi seluler dari situs tersebut dan Anda perlu mengembangkan aplikasi untuk perangkat seluler.  Jadi, kami membuat situs, yang berarti kami sedang mengembangkan API server, antarmuka, dan logika bisnis.  Dua dari tiga komponen tersebut adalah <br>  - Antarmuka dan logika - hadir dalam aplikasi seluler.  Setuju, saya tidak ingin menulisnya lagi. <br><br><h2>  Menggabungkan yang terbaik dari aplikasi asli dan web </h2><br>  Ada alat yang berfokus pada pengembangan aplikasi asli.  Lainnya untuk web.  Keuntungan dari aplikasi asli adalah bahwa mereka dapat menggunakan potensi fungsional penuh dari ponsel.  Tetapi mengembangkannya dibandingkan dengan aplikasi web cukup sulit.  Web menyediakan awal yang mudah, tetapi sangat membatasi kemampuan aplikasi. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f3b/5bf/422/f3b5bf422a2b6f41d6d7bedcb81e9337.png"><br>  <i>* untuk mengurangi tautologi aplikasi web, saya akan memanggil aplikasi mobile, sebagian besar dari logika dan antarmuka yang diimplementasikan pada sisi browser</i> <br><br>  Aplikasi hibrida yang dibuat menggunakan komponen WebView memungkinkan menggabungkan semua keunggulan aplikasi asli dan web.  Tentu saja, ada pengembang yang sangat teliti yang secara tegas menentang WebView dalam manifestasinya.  Mereka membantah ini dengan fakta bahwa aplikasi tersebut harus segera benar-benar asli, sehingga Anda dapat menggunakan semua fitur perangkat seluler, serta memberikan kinerja antarmuka pengguna yang nyaman.  Tetapi dalam banyak kasus, ketika kemampuan versi mobile situs cukup, Anda dapat mengurangi waktu peluncuran pertama dengan membuat aplikasi hybrid, dan secara bertahap menggantinya dengan yang asli. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3f9/120/557/3f9120557268b1609343599035758f8b.png"></div><br>  Aplikasi hibrida tidak selalu buruk dan tidak dapat diperluas.  Mereka bisa nyaman dan produktif.  Dengan penggunaan yang tepat, pendekatan ini membantu mendapatkan cukup waktu untuk mengembangkan aplikasi yang berkualitas, dan tidak merilis aplikasi asli dengan tergesa-gesa. <br><br>  Ada beberapa situasi di mana disarankan untuk menggunakan aplikasi hybrid.  Mereka bagus sebagai rintisan sementara untuk memulai cepat - ketika kita memiliki versi seluler dari situs siap, dan aplikasi seluler diperlukan "kemarin".  Aplikasi semacam itu dapat dibuat dalam beberapa jam, berjalan dalam produksi.  Pengguna akan memiliki kesempatan untuk bekerja dengan aplikasi seluler, dan Anda akan memiliki kesempatan untuk bekerja pada versi yang lebih lengkap dalam kerangka waktu yang kurang ketat (jika perlu). <br><br>  Berikut ini sebuah contoh.  Baru-baru ini, rekan kerja sangat membutuhkan aplikasi mobile.  Dalam versi web, ia memiliki delapan item menu, dan kami menampilkannya melalui WebView.  Dan kemudian mereka mengganti satu item.  Kebetulan untuk melepaskan aplikasi tidak dalam satu atau tiga bulan, tetapi hanya dalam beberapa hari.  Setelah secara bertahap memindahkannya ke asli. <br><br>  Solusi hibrida tidak selalu bersifat sementara.  Kemampuannya memungkinkan Anda untuk menggunakan kembali dalam basis kode yang dibuat sebelumnya untuk versi web.  Misalnya, animasi tertentu sudah dibuat di atas Kanvas.  WebView juga nyaman saat menggunakan beberapa jenis layanan pihak ketiga.  Pilihan lain adalah ketika Anda memiliki antarmuka yang kompleks yang lebih mudah untuk terhubung melalui WebView. <br><br><h2>  Cara menggunakan tampilan web </h2><br>  Ambil skrip populer.  Kami ingin menggunakan versi seluler situs dan menu asli.  Kami membuat aplikasi asli dengan menu, tetapi alih-alih konten, kami menghubungkan versi seluler situs melalui WebView (sejauh ini tanpa perubahan). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ab/2cd/a4d/2ab2cda4dcb1efee936afeb16dcd7513.gif" width="300"></div><br>  Pada gif Anda dapat melihat 2 menu.  Menu kanan adalah bagian dari situs, diimplementasikan di web, di sebelah kiri adalah menu asli, diimplementasikan di dalam aplikasi seluler.  Untuk mendapatkan perkiraan pertama ke aplikasi asli, kita hanya perlu menyembunyikan menu yang diterapkan di web.  Berikut adalah jumlah <a href="">kode yang</a> diperlukan untuk menampilkan versi web di dalam aplikasi melalui WebView: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> (props) =&gt; (  <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag">} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Example1"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">    </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">WebView</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">source</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{uri:</span></span></span></span><span class="xml"><span class="hljs-tag"> '&lt;</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"https://provincehotels.ru/"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">https://provincehotels.ru/</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">'}} style={{flex:1}} /&gt;  </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> );</span></span></code> </pre> <br>  Contoh berikutnya adalah tentang bagaimana bagian asli dapat berinteraksi dengan web. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ia/0b/wj/ia0bwj6viewkx-hsiqpmjc1dzgg.gif"></div><br>  Robot ditarik di atas Kanvas, ini adalah bagian dari situs web.  Dan beralih ke itu dibangun di atas UI asli.  Ini akan terlihat berbeda pada ponsel yang berbeda.  Kita bisa mengendalikan pergerakan robot menggunakan saklar.  Anda dapat dan sebaliknya - dengan beberapa elemen antarmuka web untuk memengaruhi aplikasi.  React Native menyediakan untuk ini API khusus untuk interaksi antara web dan bagian asli. <br><br>  Di bawah ini adalah <a href="">kode</a> untuk menggunakan animasi ini.  Layout - semua ruang.  Picker adalah bagian asli yang dapat memilih dari opsi dropdown untuk keadaan robot.  WebView - wadah untuk menampilkan web, tempat robot menggambar. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> states = [ <span class="hljs-string"><span class="hljs-string">'Idle'</span></span>, <span class="hljs-string"><span class="hljs-string">'Walking'</span></span>, <span class="hljs-string"><span class="hljs-string">'Running'</span></span>, <span class="hljs-string"><span class="hljs-string">'Dance'</span></span>, <span class="hljs-string"><span class="hljs-string">'Death'</span></span>, <span class="hljs-string"><span class="hljs-string">'Sitting'</span></span>, <span class="hljs-string"><span class="hljs-string">'Standing'</span></span> ]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> uri = <span class="hljs-string"><span class="hljs-string">'https://artexoid.ru/181212/example2/'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Example2</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ myWebView = React.&lt;i&gt;createRef&lt;<span class="hljs-regexp"><span class="hljs-regexp">/i&gt;(); state = {   robot: states[0] }; render() {   return (     &lt;Layout { ...this.props } name="Example2"&gt;       &lt;Picker         mode="dropdown"         selectedValue={this.state.robot}         onValueChange={(item) =&gt; {           this.setState({robot: item});           this.myWebView.current.postMessage(item);         }}       &gt;         {states.map((item =&gt; &lt;Picker.Item key={item} label={item} value={item} /</span></span>&gt; ))}       &lt;<span class="hljs-regexp"><span class="hljs-regexp">/Picker&gt;       &lt;WebView ref={this.myWebView} source={{uri}} style={{flex:1}} /</span></span>&gt;     <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>   ); } }</code> </pre> <br>  Kasus-kasus seperti itu sering muncul.  Sebagai contoh, kami membuat aplikasi untuk pengujian dan sertifikasi dokter gigi.  Untuk setiap jawaban dalam tes, animasi digambar di dalam pertanyaan, diimplementasikan menggunakan Canvas di web.  Tantangannya adalah membuat aplikasi seluler, dengan pengujian ini.  Menggunakan WebView, kami dapat menampilkan animasi dari web, sementara kami membangun sisa antarmuka secara native.  Animasi bekerja dengan baik bahkan pada smartphone yang lebih tua. <br><br><h2>  Bagaimana cara injeksi dilakukan? </h2><br>  Hingga 2013, browser Opera menggunakan mesin Presto sendiri, tetapi kemudian dipindahkan ke mesin Blink dari Google.  Banyak pengguna sangat kesal.  Video <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">"Mengapa Opera Webkit"</a> menjelaskan alasan transisi ini.  Penyebab utama adalah perusahaan besar seperti Google atau Facebook, yang tidak menguji kode produk mereka di Opera dan melarang tampilan halaman di browser ini, mengutip fakta bahwa itu tidak cukup populer di kalangan pengguna. <br><br>  Misalnya, Anda pergi ke Gmail melalui Opera dan Anda melihat: "Kesalahan JavaScript."  Anda menulis untuk mendukung, Anda mendapatkan jawabannya: "Opera tidak didukung dengan kami, kami tidak akan menulis kode untuk itu."  Pertama, Opera merekrut pengembang untuk menulis suntikan, kode khusus yang tertanam di Gmail dan memungkinkannya bekerja di Opera.  Namun lambat laun situs seperti Gmail bertambah besar.  Opera menyerah dan mengganti mesinnya. <br><br>  Jadi apa yang saya bicarakan?  Ah ya saatnya berbicara tentang suntikan: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ab/2cd/a4d/2ab2cda4dcb1efee936afeb16dcd7513.gif" width="300"></div><br>  Di gif - contoh injeksi yang mengubah perilaku situs.  Misalkan kita memiliki situs orang lain, dan kami melakukan suntikan gaya - kami menyembunyikan menu kanan dan bilah geser yang keluar ke kanan.  Ini adalah suntikan gaya.  Logika situs tidak berubah, hanya tampilan. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> addStyles=<span class="hljs-string"><span class="hljs-string">` const newCSS = 'div[class*=svgHamburger],div[class*=drawerPanel] { display: none !important; }'       head = document.head || document.getElementsByTagName('head')[0],       style = document.createElement('style'); style.type = 'text/css'; style.appendChild(document.createTextNode(newCSS)); head.appendChild(style); `</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> uri = <span class="hljs-string"><span class="hljs-string">'https://provincehotels.ru/'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> (props) =&gt; ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag"> { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag"> } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Example1"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">WebView</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">source</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{uri</span></span></span></span><span class="xml"><span class="hljs-tag"> }} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{flex:1}}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">injectedJavaScript</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{addStyles}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">javaScriptEnabled</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{true}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> );</span></span></code> </pre> <br>  <a href="">Kode yang</a> ditulis dengan warna hijau adalah injeksi.  Itu menyembunyikan elemen, Anda tidak bisa mengkliknya, Anda tidak bisa berinteraksi dengannya.  Sepertinya aplikasi yang sepenuhnya asli, tanpa kontrol web. <br><br>  Suntikan selanjutnya lebih menarik.  Katakanlah kita memiliki aplikasi seluler, dan memiliki peramban seluler bawaan. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ah/11/mq/ah11mqb5sfarvpo-5zfhvapkuwq.gif"></div><br>  Seseorang mengikuti tautannya, dan kami dengan mudah menggantinya dengan halaman Facebook tempat Anda harus memasukkan nama pengguna dan kata sandi.  Jika seseorang memasukinya, aplikasi akan memotongnya.  Ini <a href="">kodenya</a> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> addScripts=<span class="hljs-string"><span class="hljs-string">` document   .querySelector('input[type=password]')   .addEventListener("change", (event) =&gt; alert(event.target.value)); `</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> uri = <span class="hljs-string"><span class="hljs-string">'https://www.facebook.com/'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> (props) =&gt; ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag"> { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...props</span></span></span></span><span class="xml"><span class="hljs-tag"> } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Example4"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">WebView</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">source</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{uri</span></span></span></span><span class="xml"><span class="hljs-tag"> }} </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{flex:1}}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">injectedJavaScript</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{addScripts}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">javaScriptEnabled</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{true}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Layout</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> );</span></span></code> </pre> <br>  Kode seperti ini disebut injeksi logika.  Biasanya lebih sulit, tetapi tidak banyak.  Artinya, mencuri kata sandi lebih mudah daripada menyembunyikan kontrol. <br><br><h2>  Risalah paranoia: browser tertanam dalam aplikasi </h2><br>  Seperti yang Anda ketahui, banyak aplikasi memiliki browser bawaan (WebView) - misalnya, VKontakte, Telegram, Gmail, WhatsApp, dan sebagainya.  Kami dapat mempercayai perusahaan besar, tetapi WebView juga digunakan oleh sejumlah besar aplikasi dengan sejumlah kecil bintang dan penulis yang meragukan - misalnya, pembaca QR, pengelola file, cangkang kamera, dll. Anda menginstal aplikasi, membaca kode melalui itu, klik pada tautan, masukkan data sensitif - dan aplikasi, seperti yang ditunjukkan pada contoh sebelumnya, memiliki akses ke sana.  Dan kemudian Anda tidak dapat melacak di mana data ini mengalir.  Karena itu, untuk membuka tautan, gunakan hanya peramban tepercaya. <br><br>  Ada situs yang meminta nama pengguna dan kata sandi setiap kali.  Dan ada orang yang jarang melakukan ini - sebulan sekali, setahun sekali.  Anehnya, opsi kedua lebih aman dalam hal kebocoran data melalui WebView.  Misalnya, Anda memasuki situs dari beberapa browser kiri.  Situs ini membutuhkan nama pengguna dan kata sandi, dan sepertinya tidak aneh bagi Anda - selalu seperti itu.  Dan dalam kasus ketika otorisasi jarang diperlukan, itu akan membuat Anda waspada. <br><br>  Menariknya, otentikasi dua faktor tidak melindungi terhadap serangan semacam itu - hanya dari pencurian kata sandi.  Faktanya adalah bahwa setelah konfirmasi, token dikembalikan sebagai tanggapan kepada Anda, yang, pada gilirannya, belum memiliki otorisasi dua faktor, dan mudah untuk mencegatnya.  Artinya, jika Anda memasukkan login dan kode dari SMS satu kali, browser akan menerima token, yang dapat digunakan berulang kali.  Dengan token yang dikonfirmasi ini, ia dapat melakukan apa yang diinginkannya, untuk sementara token tetap relevan.  Secara umum, jangan terlalu percaya browser bawaan. <br><br>  Anda dapat berkenalan dengan contoh-contoh dari pos ini melalui aplikasi demo.  Pada OS Android Anda perlu mengunduh Expo Project - alat untuk bekerja dengan JavaScript dan React Native.  Setelah menginstal Expo, Anda hanya perlu membaca kode QR: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/13d/a0f/589/13da0f589ed467338dcfe0b0fa2d4f70.png"><br><br>  Perangkat iOS lebih rumit: Apple telah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">melarang distribusi</a> aplikasi dengan cara ini.  Jadi yang penasaran harus membangun aplikasi dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sumber</a> di GitHub.  Terima kasih atas perhatian anda! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id440710/">https://habr.com/ru/post/id440710/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id440696/index.html">Basis Data Refactoring Toolkit: Jalur Terbang vs. Liquibase</a></li>
<li><a href="../id440698/index.html">6 ide aplikasi augmented reality (AR) yang menarik</a></li>
<li><a href="../id440700/index.html">Ilmu Data "pasukan khusus" di rumah</a></li>
<li><a href="../id440706/index.html">InoThings ++ Professional IoT Conference - Apa yang Ada dan Apa yang Akan Menjadi</a></li>
<li><a href="../id440708/index.html">Buka webinar "Bekerja: milik sendiri dan milik orang lain"</a></li>
<li><a href="../id440712/index.html">Cloud hanyalah komputer seseorang</a></li>
<li><a href="../id440714/index.html">Bagaimana menurunkan tingkat perolehan mempengaruhi kami (pemegang kartu)</a></li>
<li><a href="../id440716/index.html">Implementasi IDCS pra-rakitan terbesar untuk otoritas publik di Volgograd</a></li>
<li><a href="../id440718/index.html">Transfer Data Cross-Scene dalam Persatuan - Menerapkan Multi-Nilai untuk Pengembangan Game Sederhana</a></li>
<li><a href="../id440720/index.html">Kami menerapkan UI di iOS: kami meningkatkan, mempercepat, skala</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>