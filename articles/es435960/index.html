<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶Ö ü§í üìï Experimento de pensamiento: aleteo en marcha üà∫ üïó üí≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="M√°s recientemente, descubr√≠ Flutter , un nuevo marco de trabajo de Google para desarrollar aplicaciones m√≥viles multiplataforma, e incluso tuve la opo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Experimento de pensamiento: aleteo en marcha</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435960/"><p>  M√°s recientemente, descubr√≠ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Flutter</a> , un nuevo marco de trabajo de Google para desarrollar aplicaciones m√≥viles multiplataforma, e incluso tuve la oportunidad de mostrar los conceptos b√°sicos de Flutter a una persona que nunca antes hab√≠a programado.  Flutter en s√≠ fue escrito en Dart, un lenguaje que naci√≥ en el navegador Chrome y escap√≥ al mundo de las consolas, y eso me hizo pensar "hmm, pero Flutter bien podr√≠a escribirse en Go!". </p><br><p>  Por que no  Tanto Go como Dart fueron creados por Google, ambos lenguajes compilados mecanografiados: cambie algunos de los eventos de manera un poco diferente, Go ser√≠a un excelente candidato para implementar un proyecto a gran escala como Flutter.  Alguien dir√°: no hay clases, gen√©ricos y excepciones en Go, por lo que no encaja. </p><br><p>  As√≠ que supongamos que Flutter ya est√° escrito en Go.  ¬øC√≥mo se ver√° el c√≥digo y, en general, funcionar√°? </p><br><p><img src="https://habrastorage.org/webt/9r/4y/cv/9r4ycvikoillhjboi5olwnta4nm.png"></p><a name="habracut"></a><br>
<h1 id="chto-ne-tak-s-dart">  ¬øQu√© le pasa a Dart? </h1><br><p>  He seguido este lenguaje desde su inicio como una alternativa a JavaScript en los navegadores.  Dart se incorpor√≥ al navegador Chrome durante alg√∫n tiempo y se esperaba que suplantara a JS.  Fue incre√≠blemente triste leer en marzo de 2015 que el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">soporte de Dart fue eliminado de Chrome</a> . </p><br><p>  Dart en s√≠ es genial!  Bueno, b√°sicamente, despu√©s de JavaScript, cualquier lenguaje es genial, pero despu√©s, digamos, Go, Dart no es tan hermoso.  pero bastante bien  Tiene todas las caracter√≠sticas concebibles e inconcebibles: clases, gen√©ricos, excepciones, futuros, espera as√≠ncrona, bucle de eventos, JIT / AOT, recolector de basura, sobrecarga de funciones: nombra cualquier caracter√≠stica conocida de la teor√≠a de los lenguajes de programaci√≥n y en Dart tendr√° una alta proporci√≥n probabilidades  Dart tiene una sintaxis especial para casi cualquier chip: una sintaxis especial para getters / setters, una sintaxis especial para constructores abreviados, una sintaxis especial para una sintaxis especial y mucho m√°s. </p><br><p>  Esto hace que Dart sea familiar desde el primer vistazo para las personas que ya han programado en cualquier lenguaje de programaci√≥n antes, y eso es genial.  Pero al tratar de explicar toda esta abundancia de caracter√≠sticas especiales en un simple ejemplo de "Hola, mundo", descubr√≠ que, por el contrario, complica el desarrollo. </p><br><ul><li>  <strong>todas las caracter√≠sticas "especiales" del lenguaje eran confusas</strong> : "un m√©todo especial llamado constructor", "sintaxis especial para inicializaci√≥n autom√°tica", "sintaxis especial para par√°metros con nombre", etc. </li><li>  <strong>todo lo "oculto" era confuso</strong> : "¬øde qu√© importancia es esta funci√≥n? Est√° oculto, mirando el c√≥digo que no puede encontrar", "¬øpor qu√© hay un constructor en esta clase, pero no en esta clase? Est√° ah√≠, pero est√° oculto", etc. </li><li>  <strong>todo "ambiguo" se confunde</strong> : "¬øaqu√≠ para crear los par√°metros de la funci√≥n con o sin nombres?", "¬ødeber√≠a ser const o final?", "aqu√≠ use la sintaxis de la funci√≥n normal o 'acortado con flecha'", etc. </li></ul><br><p>  En principio, esta trinidad - "especial", "oculta" y "ambigua" - no est√° mal captura la esencia de lo que la gente llama "magia" en los lenguajes de programaci√≥n.  Estas son caracter√≠sticas creadas para simplificar la escritura de c√≥digo, pero de hecho complican su lectura y comprensi√≥n. </p><br><p>  Y esta es exactamente el √°rea donde Go toma una posici√≥n fundamentalmente diferente de otros idiomas, y mantiene la defensa ferozmente.  Go es un lenguaje casi sin magia: la cantidad de "oculto", "especial" y "ambiguo" se minimiza.  Pero Go tiene sus inconvenientes. </p><br><h1 id="chto-ne-tak-s-go">  ¬øQu√© le pasa a Go? </h1><br><p>  Dado que estamos hablando de Flutter, que es un marco de UI, consideremos Go como una herramienta para describir y trabajar con UI.  En general, los marcos de UI son un gran desaf√≠o y casi siempre requieren soluciones especializadas.  Uno de los enfoques m√°s frecuentes en la interfaz de usuario es la creaci√≥n de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">DSL</a> , lenguajes espec√≠ficos de dominio, implementados en forma de bibliotecas o marcos dise√±ados espec√≠ficamente para las necesidades de la interfaz de usuario.  Y lo m√°s frecuente es que puedas escuchar la opini√≥n de que Go es objetivamente un mal lenguaje para DSL. </p><br><p>  En esencia, DSL significa crear un nuevo lenguaje, t√©rminos y verbos, en el que el desarrollador pueda operar.  El c√≥digo en √©l debe describir claramente las caracter√≠sticas principales de la interfaz gr√°fica y sus componentes, ser lo suficientemente flexible como para dar rienda suelta a la imaginaci√≥n del dise√±ador y, al mismo tiempo, ser lo suficientemente r√≠gido como para restringirlo de acuerdo con ciertas reglas.  Por ejemplo, deber√≠a poder colocar los botones en alg√∫n contenedor y colocar el icono en el lugar correcto en este bot√≥n, pero el compilador deber√≠a devolver un error si intenta insertar el bot√≥n en, digamos, texto. </p><br><p>  Adem√°s, los lenguajes para describir la interfaz de usuario a menudo son declarativos, lo que brinda la oportunidad de describir la interfaz en forma de "lo que me gustar√≠a ver" y dejar que el propio marco entienda desde qu√© c√≥digo y c√≥mo ejecutarlo. </p><br><p>  Algunos lenguajes se desarrollaron originalmente con tales tareas a la vista, pero no Go.  ¬°Parece que escribir Flutter on Go ser√° otra tarea! </p><br><h1 id="oda-flutter">  Oda Flutter </h1><br><p>  Si no est√° familiarizado con Flutter, le recomiendo pasar el pr√≥ximo fin de semana viendo videos educativos o leyendo tutoriales, de los cuales hay muchos.  Porque Flutter, sin lugar a dudas, invierte las reglas del juego en el desarrollo de aplicaciones m√≥viles.  Y, muy probablemente, no solo para dispositivos m√≥viles, ya hay renderizadores (en t√©rminos de Flutter, embebidores) para lanzar aplicaciones de Flutter como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aplicaciones de escritorio nativas</a> y como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aplicaciones web</a> . </p><br><p> Es f√°cil de aprender, es l√≥gico, viene con una gran biblioteca de hermosos widgets sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Dise√±o de materiales</a> (y no solo), tiene una gran y gran comunidad y excelente ajuste (si te gusta la facilidad de trabajar con <code>go build/run/test</code> en Go, luego en Flutter Obtendr√°s una experiencia similar). </p><br><p>  Hace un a√±o, necesitaba escribir una peque√±a aplicaci√≥n m√≥vil (para iOS y Android, por supuesto), y me di cuenta de que la complejidad de desarrollar una aplicaci√≥n de alta calidad para ambas plataformas es demasiado grande (la aplicaci√≥n no era la tarea principal). Tuve que externalizar y pagar dinero por ello.  De hecho, escribir una aplicaci√≥n sencilla pero de alta calidad y trabajar en todos los dispositivos era una tarea imposible incluso para una persona con casi 20 a√±os de experiencia en programaci√≥n.  Y siempre ha sido una tonter√≠a para m√≠. </p><br><p>  Con Flutter, reescrib√≠ esta aplicaci√≥n a las 3 pm, mientras aprend√≠a el framework desde cero.  Si alguien me dijera que esto podr√≠a ser un poco antes, no lo creer√≠a. </p><br><p>  La √∫ltima vez que vi un aumento similar en la productividad con el descubrimiento de nueva tecnolog√≠a fue hace 5 a√±os cuando descubr√≠ Go.  Ese momento cambi√≥ mi vida. </p><br><p>  As√≠ que recomiendo comenzar a aprender Flutter y <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este tutorial es muy bueno</a> . </p><br><h1 id="hello-world-na-flutter">  "Hola, mundo" en Flutter </h1><br><p>  Cuando crea una nueva aplicaci√≥n a trav√©s de <code>flutter create</code> , obtendr√° un programa con t√≠tulo, texto, contador y un bot√≥n que incrementa el contador. </p><br><p><img src="https://habrastorage.org/webt/_1/iu/9g/_1iu9gibgfkoiyadzl0kb8be_j4.gif"></p><br><p>  Creo que este es un gran ejemplo.  para escribirlo en nuestro imaginario Flutter on Go.  Tiene casi todos los conceptos b√°sicos del marco en el que puede probar la idea.  Veamos el c√≥digo (este es un archivo): </p><br><pre> <code class="plaintext hljs">import 'package:flutter/material.dart'; void main() =&gt; runApp(MyApp()); class MyApp extends StatelessWidget { @override Widget build(BuildContext context) { return MaterialApp( title: 'Flutter Demo', theme: ThemeData( primarySwatch: Colors.blue, ), home: MyHomePage(title: 'Flutter Demo Home Page'), ); } } class MyHomePage extends StatefulWidget { MyHomePage({Key key, this.title}) : super(key: key); final String title; @override _MyHomePageState createState() =&gt; _MyHomePageState(); } class _MyHomePageState extends State&lt;MyHomePage&gt; { int _counter = 0; void _incrementCounter() { setState(() { _counter++; }); } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: Text(widget.title), ), body: Center( child: Column( mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[ Text( 'You have pushed the button this many times:', ), Text( '$_counter', style: Theme.of(context).textTheme.display1, ), ], ), ), floatingActionButton: FloatingActionButton( onPressed: _incrementCounter, tooltip: 'Increment', child: Icon(Icons.add), ), ); } }</code> </pre> <br><p>  Analicemos el c√≥digo en partes, analicemos qu√© y c√≥mo encaja en Go, y echemos un vistazo a las diversas opciones que tenemos. </p><br><h2 id="perevodim-kod-na-go">  Traducimos el c√≥digo en Go </h2><br><p>  El comienzo ser√° simple y directo: importe la dependencia y ejecute la funci√≥n <code>main()</code> .  Nada complicado o interesante aqu√≠, el cambio es casi sint√°ctico: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> hello <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/flutter/flutter"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { app := NewApp() flutter.Run(app) }</code> </pre> <br><p>  La √∫nica diferencia es que, en lugar de iniciar <code>MyApp()</code> , una funci√≥n que es un constructor, que es una funci√≥n especial que est√° oculta dentro de una clase llamada MyApp, simplemente llamamos a la funci√≥n expl√≠cita y no oculta <code>NewApp()</code> .  Ella hace lo mismo, pero es mucho m√°s claro explicar y comprender qu√© es, c√≥mo comienza y c√≥mo funciona. </p><br><h3 id="klassy-vidzhetov">  Clases de widgets </h3><br><p>  En Flutter, todo consiste en widgets.  En la versi√≥n Dart de Flutter, cada widget se implementa como una clase que hereda clases especiales para widgets de Flutter. </p><br><p>  No hay clases en Go y, por lo tanto, no hay jerarqu√≠a de clases, porque el mundo no est√° orientado a objetos, y a√∫n menos es jer√°rquico.  Para programadores familiarizados solo con el modelo orientado a clases OOP, esto puede ser una revelaci√≥n, pero realmente no lo es.  El mundo es un gr√°fico gigante entretejido de conceptos, procesos e interacciones.  No est√° perfectamente estructurado, pero tampoco es ca√≥tico, y tratar de incluirlo en la jerarqu√≠a de clases es la forma m√°s confiable de hacer que la base de c√≥digo sea ilegible y torpe, exactamente lo que la mayor√≠a de las bases de c√≥digo son por ahora. </p><br><p><img src="https://habrastorage.org/webt/gd/9f/ad/gd9fadtyygideailxszfgw2cs_k.png"></p><br><p>  Realmente aprecio Go porque sus creadores se tomaron la molestia de repensar este concepto omnipresente de clases e implementaron en Go un concepto OOP mucho m√°s simple y poderoso, que, por casualidad, result√≥ estar m√°s cerca de lo que el creador de OOP, Alan Kay, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ten√≠a en mente</a> . </p><br><p>  En Go, representamos cualquier abstracci√≥n en forma de un tipo espec√≠fico - estructura: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> MyApp <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br><p>  En la versi√≥n Dart de Flutter, <code>MyApp</code> debe heredar <code>StatelessWidget</code> y anular el m√©todo de <code>build</code> .  Esto es necesario para resolver dos problemas: </p><br><ol><li>  dar a nuestro widget ( <code>MyApp</code> ) algunas propiedades / m√©todos especiales </li><li>  habilite Flutter para llamar a nuestro c√≥digo en el proceso de compilaci√≥n / renderizaci√≥n </li></ol><br><p>  No conozco las partes internas de Flutter, as√≠ que digamos que el elemento n√∫mero 1 no est√° en cuesti√≥n, y solo tenemos que hacerlo.  Go tiene una soluci√≥n tan √∫nica y obvia para esto: tipos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">incrustaci√≥n</a> : </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> MyApp <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { flutter.Core <span class="hljs-comment"><span class="hljs-comment">// ... }</span></span></code> </pre> <br><p>  Este c√≥digo agregar√° todas <code>flutter.Core</code> propiedades y m√©todos de <code>flutter.Core</code> a nuestro tipo <code>MyApp</code> .  Lo llam√© <code>Core</code> lugar de <code>Widget</code> , porque, en primer lugar, la incrustaci√≥n de tipos a√∫n no convierte a <code>MyApp</code> widget, y en segundo lugar, este nombre se usa muy bien en el marco GopherJS Vecty (algo as√≠ como React, solo para Go).  M√°s adelante tocar√© el tema de la similitud entre Vecty y Flutter. </p><br><p>  El segundo punto, la implementaci√≥n del m√©todo <code>build()</code> , que podr√° usar el motor Flutter, tambi√©n se resuelve de manera simple e inequ√≠voca en Go.  Solo necesitamos agregar un m√©todo con una firma espec√≠fica que satisfaga una determinada interfaz definida en alg√∫n lugar de nuestra biblioteca ficticia Flutter en Go: </p><br><p>  flutter.go: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Widget <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> { Build(ctx BuildContext) Widget }</code> </pre> <br><p>  Y ahora nuestro main.go: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> MyApp <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { flutter.Core <span class="hljs-comment"><span class="hljs-comment">// ... } // Build renders the MyApp widget. Implements Widget interface. func (m *MyApp) Build(ctx flutter.BuildContext) flutter.Widget { return flutter.MaterialApp() }</span></span></code> </pre> <br><p>  Podemos notar algunas diferencias aqu√≠: </p><br><ul><li>  el c√≥digo es algo m√°s detallado: <code>BuildContext</code> , <code>Widget</code> y <code>MaterialApp</code> apuntan a <code>flutter</code> importaciones frente a ellos. </li><li>  el c√≥digo es un poco menos infundado: no hay palabras como <code>extends Widget</code> o <code>@override</code> </li><li>  El m√©todo <code>Build()</code> comienza con una letra may√∫scula, porque significa la "publicidad" del m√©todo en Go.  En Dart, la publicidad est√° determinada por si el nombre comienza con un gui√≥n bajo (_) o no. </li></ul><br><p>  Entonces, para hacer un widget en nuestro Flutter on Go, necesitamos incrustar el <code>flutter.Core</code> Tipo de <code>flutter.Core</code> e implementar la interfaz <code>flutter.Widget</code> .  Lo descubrimos, cavamos m√°s. </p><br><h2 id="sostoyanie">  Condici√≥n </h2><br><p>  Esta fue una de las cosas que realmente me confundi√≥ en Flutter.  Hay dos clases diferentes: <code>StatelessWidget</code> y <code>StatefulWidget</code> .  En cuanto a m√≠, un "widget sin estado" es el mismo widget, solo que sin, hmm, data, state. ¬øPor qu√© crear una nueva clase?  Pero est√° bien, puedo vivir con eso. </p><br><p>  Pero adem√°s, m√°s, no puedes simplemente heredar otra clase ( <code>StatefulWidget</code> ), sino que debes escribir tal magia (el IDE lo har√° por ti, pero no el punto): </p><br><pre> <code class="plaintext hljs">class MyHomePage extends StatefulWidget { @override _MyHomePageState createState() =&gt; _MyHomePageState(); } class _MyHomePageState extends State&lt;MyHomePage&gt; { int _counter = 0; void _incrementCounter() { setState(() { _counter++; }); } @override Widget build(BuildContext context) { return Scaffold() } }</code> </pre> <br><p>  Hmm, veamos qu√© pasa aqu√≠. </p><br><p>  B√°sicamente, la tarea es esta: agregar un estado al widget (el contador, en nuestro caso) y dejar que el motor Flutter sepa cu√°ndo cambiamos el estado para volver a dibujar el widget.  Esta es la verdadera complejidad del problema (complejidad esencial en t√©rminos de Brooks). </p><br><p>  Todo lo dem√°s es complejidad accidental.  Flutter on Dart presenta una nueva clase de <code>State</code> que usa gen√©ricos y toma un widget como par√°metro de tipo.  A continuaci√≥n, se <code>_MyHomePageState</code> clase <code>_MyHomePageState</code> , que hereda el <code>State  MyApp</code> ... bueno, todav√≠a puede digerirlo de alguna manera.  Pero, ¬øpor qu√© el m√©todo <code>build()</code> definido por la clase State y no la clase que es el widget?  Brrr .... </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">La respuesta a esta pregunta se</a> encuentra en las preguntas frecuentes de Flutter y la respuesta breve se <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">considera</a> con suficiente detalle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> , para evitar una cierta clase de errores al heredar <code>StatefulWidget</code> .  En otras palabras, esta es una soluci√≥n para resolver el problema del dise√±o orientado a clases OOP.  Chic </p><br><p>  ¬øC√≥mo har√≠amos esto en Go? </p><br><p>  En primer lugar, personalmente personalmente preferir√≠a no crear una entidad separada para el "estado" - <code>State</code> .  Despu√©s de todo, ya tenemos un estado en cada tipo en particular: estos son solo campos de la estructura.  El lenguaje ya nos ha dado esta esencia, por as√≠ decirlo.  Crear otra entidad similar solo confundir√° al programador. </p><br><p>  El desaf√≠o, por supuesto, es darle a Flutter la capacidad de responder a los cambios de estado (despu√©s de todo, esta es la esencia de la programaci√≥n reactiva).  Y si podemos "pedirle" al desarrollador que use una funci√≥n especial ( <code>setState()</code> ), de la misma manera podemos pedirle que use una funci√≥n especial para decirle al motor cu√°ndo volver a dibujar y cu√°ndo no.  Al final, no todos los cambios de estado requieren un nuevo dibujo, y aqu√≠ tendremos a√∫n m√°s control: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> MyHomePage <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> { flutter.Core counter <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> } <span class="hljs-comment"><span class="hljs-comment">// Build renders the MyHomePage widget. Implements Widget interface. func (m *MyHomePage) Build(ctx flutter.BuildContext) flutter.Widget { return flutter.Scaffold() } // incrementCounter increments widgets's counter by one. func (m *MyHomePage) incrementCounter() { m.counter++ flutter.Rerender(m) // or m.Rerender() // or m.NeedsUpdate() }</span></span></code> </pre> <br><p>  Puede jugar con diferentes opciones de nomenclatura: me gusta <code>NeedsUpdate()</code> por su car√°cter directo y el hecho de que esta es una propiedad de widget (obtenida de <code>flutter.Core</code> ), pero el <code>flutter.Rerender()</code> global <code>flutter.Rerender()</code> tambi√©n se ve bien.  Es cierto, da una falsa sensaci√≥n de que el widget se volver√° a dibujar inmediatamente, pero no es as√≠: se volver√° a dibujar en la pr√≥xima actualizaci√≥n de fotogramas, y la frecuencia de llamada al m√©todo puede ser mucho m√°s alta que la frecuencia de representaci√≥n, pero nuestro motor Flutter ya deber√≠a ser capaz de lidiar con esto. </p><br><p>  Pero la idea es que resolvimos el problema necesario sin agregar: </p><br><ul><li>  nuevo tipo </li><li>  gen√©ricos </li><li>  reglas especiales para leer / escribir estado </li><li>  nuevos m√©todos especiales anulados </li></ul><br><p>  Adem√°s, la API es mucho m√°s clara y comprensible: solo aumente el contador (como lo har√≠a en cualquier otro programa) y p√≠dale a Flutter que vuelva a dibujar el widget.  Esto es algo que no es muy obvio si solo llamamos <code>setState</code> , que no es solo una funci√≥n especial para establecer el estado, es una funci√≥n que devuelve una funci√≥n (¬øwtf?) En la que ya estamos haciendo algo con el estado.  Una vez m√°s, la magia oculta en lenguajes y marcos hace que sea muy dif√≠cil de entender y leer el c√≥digo. </p><br><p>  En nuestro caso, resolvimos el mismo problema, el c√≥digo es m√°s simple y dos veces m√°s corto. </p><br><h2 id="vidzhety-s-sostoyaniem-v-drugih-vidzhetah">  Estado de widgets en otros widgets </h2><br><p>  Como continuaci√≥n l√≥gica del tema, echemos un vistazo a c√≥mo se utiliza el "widget de estado" en otro widget en Flutter: </p><br><pre> <code class="plaintext hljs">@override Widget build(BuildContext context) { return MaterialApp( title: 'Flutter Demo', home: MyHomePage(title: 'Flutter Demo Home Page'), ); }</code> </pre> <br><p>  <code>MyHomePage</code> aqu√≠ es un "widget de estado" (tiene un contador), y lo creamos llamando al constructor <code>MyHomePage()</code> durante la compilaci√≥n ... Espera, ¬øqu√©? </p><br><p>  Se llama a <code>build()</code> para volver a dibujar el widget, posiblemente muchas veces por segundo.  ¬øPor qu√© deber√≠amos crear un widget, especialmente con un estado, cada vez durante el renderizado?  No tiene sentido </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Resulta</a> que Flutter usa esta separaci√≥n entre <code>Widget</code> y <code>State</code> para ocultar esta inicializaci√≥n / gesti√≥n de estado del programador (¬°m√°s cosas ocultas, m√°s!).  Crea un nuevo widget cada vez, pero el estado, si ya se ha creado, se encuentra autom√°ticamente y se adjunta al widget.  Esta magia ocurre de manera invisible y no tengo idea de c√≥mo funciona: debes leer el c√≥digo. </p><br><p>  Considero que es un verdadero mal en la programaci√≥n esconderse del programador tanto como sea posible, justific√°ndolo con ergonom√≠a.  Estoy seguro de que el programador estad√≠stico promedio no leer√° el c√≥digo Flutter para comprender c√≥mo funciona esta magia, y es poco probable que comprenda c√≥mo y qu√© est√° interconectado. </p><br><p>  Para la versi√≥n Go, definitivamente no querr√≠a una brujer√≠a tan oculta, y preferir√≠a una inicializaci√≥n expl√≠cita y visible, incluso si eso significa un c√≥digo un poco m√°s infundado.  El enfoque de Flutter para Dart tambi√©n se puede implementar, pero me encanta Go para minimizar la magia, y me gustar√≠a ver la misma filosof√≠a en los marcos.  Por lo tanto, escribir√≠a mi c√≥digo para widgets con estado en el √°rbol de widgets como este: </p><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// MyApp is our top application widget. type MyApp struct { flutter.Core homePage *MyHomePage } // NewMyApp instantiates a new MyApp widget func NewMyApp() *MyApp { app := &amp;MyApp{} app.homePage = &amp;MyHomePage{} return app } // Build renders the MyApp widget. Implements Widget interface. func (m *MyApp) Build(ctx flutter.BuildContext) flutter.Widget { return m.homePage } // MyHomePage is a home page widget. type MyHomePage struct { flutter.Core counter int } // Build renders the MyHomePage widget. Implements Widget interface. func (m *MyHomePage) Build(ctx flutter.BuildContext) flutter.Widget { return flutter.Scaffold() } // incrementCounter increments app's counter by one. func (m *MyHomePage) incrementCounter() { m.counter++ flutter.Rerender(m) }</span></span></code> </pre> <br><p>  Este c√≥digo pierde la versi√≥n de Dart porque si quiero eliminar <code>homePage</code> del √°rbol de widgets y reemplazarlo con otra cosa, entonces tengo que eliminarlo en tres lugares, en lugar de uno.  Pero a cambio, obtenemos una imagen completa de qu√©, d√≥nde y c√≥mo sucede, d√≥nde se asigna la memoria, qui√©n llama a qui√©n, etc., el c√≥digo en la palma de su mano es claro y f√°cil de leer. </p><br><p>  Por cierto, Flutter tambi√©n tiene algo como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">StatefulBuilder</a> , que agrega a√∫n m√°s magia y te permite crear widgets con estado sobre la marcha. </p><br><h1 id="dsl">  DSL </h1><br><p>  Ahora tomemos la parte divertida.  ¬øC√≥mo vamos a representar el √°rbol de widgets en Go?  Queremos que se vea conciso, limpio, f√°cil de refactorizar y cambiar, describir las relaciones espaciales entre widgets (widgets que est√°n visualmente cerca, deben estar cerca y en la descripci√≥n), y al mismo tiempo lo suficientemente flexible como para describir arbitrariamente c√≥digo como manejadores de eventos. </p><br><p>  Me parece que la opci√≥n en Dart es bastante hermosa y elocuente: </p><br><pre> <code class="plaintext hljs">return Scaffold( appBar: AppBar( title: Text(widget.title), ), body: Center( child: Column( mainAxisAlignment: MainAxisAlignment.center, children: &lt;Widget&gt;[ Text('You have pushed the button this many times:'), Text( '$_counter', style: Theme.of(context).textTheme.display1, ), ], ), ), floatingActionButton: FloatingActionButton( onPressed: _incrementCounter, tooltip: 'Increment', child: Icon(Icons.add), ), );</code> </pre> <br><p>  Cada widget tiene un constructor que acepta par√°metros opcionales, y lo que hace que el registro sea realmente agradable aqu√≠ son los <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">par√°metros con nombre de las funciones</a> . </p><br><h2 id="imenovannye-parametry">  Par√°metros nombrados </h2><br><p>  En caso de que no est√© familiarizado con este t√©rmino, en muchos idiomas los par√°metros de la funci√≥n se denominan "posicionales", ya que su posici√≥n es importante para la funci√≥n: </p><br><pre> <code class="plaintext hljs">Foo(arg1, arg2, arg3)</code> </pre> <br><p>  , y en el caso de par√°metros con nombre, todo se decide por su nombre en la llamada: </p><br><pre> <code class="plaintext hljs">Foo(name: arg1, description: arg2, size: arg3)</code> </pre> <br><p>  Esto agrega texto, pero guarda clics y se mueve alrededor del c√≥digo, en un intento por comprender qu√© significan los par√°metros. </p><br><p>  En el caso del √°rbol de widgets, juegan un papel clave en la legibilidad.  Compare el mismo c√≥digo que el anterior, pero sin par√°metros con nombre: </p><br><pre> <code class="plaintext hljs">return Scaffold( AppBar( Text(widget.title), ), Center( Column( MainAxisAlignment.center, &lt;Widget&gt;[ Text('You have pushed the button this many times:'), Text( '$_counter', Theme.of(context).textTheme.display1, ), ], ), ), FloatingActionButton( _incrementCounter, 'Increment', Icon(Icons.add), ), );</code> </pre> <br><p>  No es eso  derecho?  No solo es m√°s dif√≠cil de entender (debe tener en cuenta lo que significa cada par√°metro y cu√°l es su tipo, y esta es una carga cognitiva significativa), sino que tampoco nos da libertad para elegir qu√© par√°metros queremos transferir.  Por ejemplo, es posible que no desee un <code>FloatingActionButton</code> para su aplicaci√≥n Material, por lo que simplemente no lo especifique en los par√°metros.  Sin par√°metros con nombre, tendremos que forzar la especificaci√≥n de todos los widgets posibles, o recurrir a la magia con reflexi√≥n para descubrir qu√© widgets se transfirieron. </p><br><p>  Y dado que no hay sobrecarga de funciones y par√°metros con nombre en Go, esta no ser√° una tarea f√°cil para Go. </p><br><h1 id="derevo-vidzhetov-v-go">  Ir al √°rbol de widgets </h1><br><h2 id="versiya-1">  Versi√≥n 1 </h2><br><p>  Echemos un vistazo m√°s de cerca al objeto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Scaffold</a> , que es un contenedor conveniente para una aplicaci√≥n m√≥vil.  Tiene varias propiedades: appBar, drawe, home, bottomNavigationBar, floatingActionBar, y todos estos son widgets.  Al crear un √°rbol de widgets, en realidad tenemos que inicializar de alguna manera este objeto, pas√°ndole las propiedades del widget antes mencionadas.  Bueno, esto no es muy diferente de la creaci√≥n e inicializaci√≥n habituales de objetos. </p><br><p>  Probemos el enfoque de la frente: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> flutter.NewScaffold( flutter.NewAppBar( flutter.Text(<span class="hljs-string"><span class="hljs-string">"Flutter Go app"</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>), ), <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, flutter.NewCenter( flutter.NewColumn( flutter.MainAxisCenterAlignment, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, []flutter.Widget{ flutter.Text(<span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>), flutter.Text(fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter), ctx.Theme.textTheme.display1), }, ), ), flutter.FloatingActionButton( flutter.NewIcon(icons.Add), <span class="hljs-string"><span class="hljs-string">"Increment"</span></span>, m.onPressed, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, ), )</code> </pre> <br><p>  No es el c√≥digo de interfaz de usuario m√°s hermoso, definitivamente.  La palabra <code>flutter</code> todas partes y pregunta.  para ocultarlo (en realidad, tuve que nombrar el <code>material</code> del paquete, no el <code>flutter</code> , pero no la esencia), los par√°metros an√≥nimos son completamente obvios, y estos <code>nil</code> son abiertamente confusos en todas partes. </p><br><h2 id="versiya-2">  Versi√≥n 2 </h2><br><p>  Sin embargo, dado que la mayor√≠a del c√≥digo usar√° uno u otro tipo / funci√≥n del paquete <code>flutter</code> , podemos usar el formato de "importaci√≥n de puntos" para importar el paquete a nuestro espacio de nombres y, por lo tanto, "ocultar" el nombre del paquete: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> . <span class="hljs-string"><span class="hljs-string">"github.com/flutter/flutter"</span></span></code> </pre> <br><p>  Ahora, en lugar de <code>flutter.Text</code> . <code>Text</code> podemos escribir solo <code>Text</code> .  Esto suele ser una mala pr√°ctica, pero trabajamos con el marco, y esta importaci√≥n ser√° literalmente en cada l√≠nea.  Desde mi pr√°ctica, este es exactamente el caso para el cual dicha importaci√≥n es aceptable, por ejemplo, como cuando se usa el maravilloso marco para probar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GoConvey</a> . </p><br><p>  Veamos c√≥mo se ver√° el c√≥digo: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewScaffold( NewAppBar( Text(<span class="hljs-string"><span class="hljs-string">"Flutter Go app"</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>), ), <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, NewCenter( NewColumn( MainAxisCenterAlignment, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, []Widget{ Text(<span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>), Text(fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter), ctx.Theme.textTheme.display1), }, ), ), FloatingActionButton( NewIcon(icons.Add), <span class="hljs-string"><span class="hljs-string">"Increment"</span></span>, m.onPressed, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, <span class="hljs-literal"><span class="hljs-literal">nil</span></span>, ), )</code> </pre> <br><p>  Ya es mejor, pero estos par√°metros nulos y sin nombre ... </p><br><h2 id="versiya-3">  Versi√≥n 3 </h2><br><p>  Veamos c√≥mo se ver√° el c√≥digo si usamos la reflexi√≥n (la capacidad de inspeccionar el c√≥digo mientras el programa se est√° ejecutando) para analizar los par√°metros pasados.  Este enfoque se usa en varios marcos HTTP iniciales en Go ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">martini</a> , por ejemplo), y se considera una pr√°ctica muy mala: es inseguro, pierde la conveniencia del sistema de tipos, es relativamente lento y agrega magia al c√≥digo, pero en aras del experimento, puede intentar: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewScaffold( NewAppBar( Text(<span class="hljs-string"><span class="hljs-string">"Flutter Go app"</span></span>), ), NewCenter( NewColumn( MainAxisCenterAlignment, []Widget{ Text(<span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>), Text(fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter), ctx.Theme.textTheme.display1), }, ), ), FloatingActionButton( NewIcon(icons.Add), <span class="hljs-string"><span class="hljs-string">"Increment"</span></span>, m.onPressed, ), )</code> </pre> <br><p>  No est√° mal, y se parece a la versi√≥n original de Dart, pero la falta de par√°metros con nombre todav√≠a duele mucho. </p><br><h2 id="versiya-4">  Versi√≥n 4 </h2><br><p>  Retrocedamos un poco y pregunt√©monos qu√© estamos tratando de hacer.  No tenemos que copiar a ciegas el enfoque Dart (aunque ser√° una buena ventaja, hay menos para ense√±ar a las personas que ya est√°n familiarizadas con Flutter on Dart).  De hecho, solo creamos nuevos objetos y les asignamos propiedades. </p><br><p>  Puede intentar de esta manera? </p><br><pre> <code class="go hljs">scaffold := NewScaffold() scaffold.AppBar = NewAppBar(Text(<span class="hljs-string"><span class="hljs-string">"Flutter Go app"</span></span>)) column := NewColumn() column.MainAxisAlignment = MainAxisCenterAlignment counterText := Text(fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter)) counterText.Style = ctx.Theme.textTheme.display1 column.Children = []Widget{ Text(<span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>), counterText, } center := NewCenter() center.Child = column scaffold.Home = center icon := NewIcon(icons.Add), fab := NewFloatingActionButton() fab.Icon = icon fab.Text = <span class="hljs-string"><span class="hljs-string">"Increment"</span></span> fab.Handler = m.onPressed scaffold.FloatingActionButton = fab <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> scaffold</code> </pre> <br><p>    ,         " ",         . -,       ‚Äì   ,      . -,      ,            . </p><br><p> ,       UI   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">GTK</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Qt</a> . , ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  </a>  Qt 5: </p><br><pre> <code class="plaintext hljs"> QGridLayout *layout = new QGridLayout(this); layout-&gt;addWidget(new QLabel(tr("Object name:")), 0, 0); layout-&gt;addWidget(m_objectName, 0, 1); layout-&gt;addWidget(new QLabel(tr("Location:")), 1, 0); m_location-&gt;setEditable(false); m_location-&gt;addItem(tr("Top")); m_location-&gt;addItem(tr("Left")); m_location-&gt;addItem(tr("Right")); m_location-&gt;addItem(tr("Bottom")); m_location-&gt;addItem(tr("Restore")); layout-&gt;addWidget(m_location, 1, 1); QDialogButtonBox *buttonBox = new QDialogButtonBox(QDialogButtonBox::Ok | QDialogButtonBox::Cancel, this); connect(buttonBox, &amp;QDialogButtonBox::rejected, this, &amp;QDialog::reject); connect(buttonBox, &amp;QDialogButtonBox::accepted, this, &amp;QDialog::accept); layout-&gt;addWidget(buttonBox, 2, 0, 1, 2);</code> </pre><br><p>   ,   -      . ,  ,    ,           . </p><br><h2 id="versiya-5">  5 </h2><br><p>   ,     ‚Äì          -.  Por ejemplo: </p><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Widget</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewScaffold(ScaffoldParams{ AppBar: NewAppBar(AppBarParams{ Title: Text(TextParams{ Text: <span class="hljs-string"><span class="hljs-string">"My Home Page"</span></span>, }), }), Body: NewCenter(CenterParams{ Child: NewColumn(ColumnParams{ MainAxisAlignment: MainAxisAlignment.center, Children: []Widget{ Text(TextParams{ Text: <span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>, }), Text(TextParams{ Text: fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter), Style: ctx.textTheme.display1, }), }, }), }), FloatingActionButton: NewFloatingActionButton( FloatingActionButtonParams{ OnPressed: m.incrementCounter, Tooltip: <span class="hljs-string"><span class="hljs-string">"Increment"</span></span>, Child: NewIcon(IconParams{ Icon: Icons.add, }), }, ), }) }</code> </pre> <br><p> ! ,   .    <code>...Params</code>    ,          .  , ,       Go    ,       ,     . </p><br><p> -,     <code>...Params</code> ,       .    (proposal)     ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">"  "</a> .  ,     <code>FloatingActionButtonParameters{...}</code>  <code>{...}</code>    .     : </p><br><pre> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Widget</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NewScaffold({ AppBar: NewAppBar({ Title: Text({ Text: <span class="hljs-string"><span class="hljs-string">"My Home Page"</span></span>, }), }), Body: NewCenter({ Child: NewColumn({ MainAxisAlignment: MainAxisAlignment.center, Children: []Widget{ Text({ Text: <span class="hljs-string"><span class="hljs-string">"You have pushed the button this many times:"</span></span>, }), Text({ Text: fmt.Sprintf(<span class="hljs-string"><span class="hljs-string">"%d"</span></span>, m.counter), Style: ctx.textTheme.display1, }), }, }), }), FloatingActionButton: NewFloatingActionButton({ OnPressed: m.incrementCounter, Tooltip: <span class="hljs-string"><span class="hljs-string">"Increment"</span></span>, Child: NewIcon({ Icon: Icons.add, }), }, ), }) }</code> </pre> <br><p>        Dart!         . </p><br><h2 id="versiya-6">  6 </h2><br><p>   ,         .  ,    ,    ,       ,   . </p><br><p>   ,    ,   ,      -,     ‚Äì     : </p><br><pre> <code class="go hljs">button := NewButton(). WithText(<span class="hljs-string"><span class="hljs-string">"Click me"</span></span>). WithStyle(MyButtonStyle1)</code> </pre> <br><p>  o </p><br><pre> <code class="go hljs">button := NewButton(). Text(<span class="hljs-string"><span class="hljs-string">"Click me"</span></span>). Style(MyButtonStyle1)</code> </pre> <br><p>     Scaffold-    : </p><br><pre> <code class="go hljs"><span class="hljs-comment"><span class="hljs-comment">// Build renders the MyHomePage widget. Implements Widget interface. func (m *MyHomePage) Build(ctx flutter.BuildContext) flutter.Widget { return NewScaffold(). AppBar(NewAppBar(). Text("Flutter Go app")). Child(NewCenter(). Child(NewColumn(). MainAxisAlignment(MainAxisCenterAlignment). Children([]Widget{ Text("You have pushed the button this many times:"), Text(fmt.Sprintf("%d", m.counter)). Style(ctx.Theme.textTheme.display1), }))). FloatingActionButton(NewFloatingActionButton(). Icon(NewIcon(icons.Add)). Text("Increment"). Handler(m.onPressed)) }</span></span></code> </pre> <br><p>        Go ‚Äì       , .      Dart-,       : </p><br><ul><li>    </li><li>  "" </li><li>      </li><li>       </li></ul><br><p>          <code>New...()</code>   ‚Äì  ,   .       ,    ‚Äî <strong>"  ,      ,   ,      ,    ,     ,      ‚Äì        "</strong> . </p><br><p>   ,   , 5-  6-    . </p><br><h1 id="finalnaya-versiya-koda">    </h1><br><p>         "hello, world"   Flutter  Go: </p><br><p> main.go </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> hello <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">"github.com/flutter/flutter"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { flutter.Run(NewMyApp()) }</code> </pre> <br><p> app.go: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> hello <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> . <span class="hljs-string"><span class="hljs-string">"github.com/flutter/flutter"</span></span> <span class="hljs-comment"><span class="hljs-comment">// MyApp is our top application widget. type MyApp struct { Core homePage *MyHomePage } // NewMyApp instantiates a new MyApp widget func NewMyApp() *MyApp { app := &amp;MyApp{} app.homePage = &amp;MyHomePage{} return app } // Build renders the MyApp widget. Implements Widget interface. func (m *MyApp) Build(ctx BuildContext) Widget { return m.homePage }</span></span></code> </pre> <br><p> home_page.go: </p><br><pre> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> hello <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ( <span class="hljs-string"><span class="hljs-string">"fmt"</span></span> . <span class="hljs-string"><span class="hljs-string">"github.com/flutter/flutter"</span></span> ) <span class="hljs-comment"><span class="hljs-comment">// MyHomePage is a home page widget. type MyHomePage struct { Core counter int } // Build renders the MyHomePage widget. Implements Widget interface. func (m *MyHomePage) Build(ctx BuildContext) Widget { return NewScaffold(ScaffoldParams{ AppBar: NewAppBar(AppBarParams{ Title: Text(TextParams{ Text: "My Home Page", }), }), Body: NewCenter(CenterParams{ Child: NewColumn(ColumnParams{ MainAxisAlignment: MainAxisAlignment.center, Children: []Widget{ Text(TextParams{ Text: "You have pushed the button this many times:", }), Text(TextParams{ Text: fmt.Sprintf("%d", m.counter), Style: ctx.textTheme.display1, }), }, }), }), FloatingActionButton: NewFloatingActionButton( FloatingActionButtonParameters{ OnPressed: m.incrementCounter, Tooltip: "Increment", Child: NewIcon(IconParams{ Icon: Icons.add, }), }, ), }) } // incrementCounter increments app's counter by one. func (m *MyHomePage) incrementCounter() { m.counter++ flutter.Rerender(m) }</span></span></code> </pre> <br><p>   ! </p><br><h1 id="zaklyuchenie">  Conclusi√≥n </h1><br><h4 id="pohozhest-s-vecty">   Vecty </h4><br><p>        ,      ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Vecty</a> .  , ,  , ,  Vecty    DOM/CSS/JS,  Flutter            ,        120   .   ,   Vecty  ,     Flutter  Go  Vecty . </p><br><h4 id="luchshee-ponimanie-dizayna-flutter">    Flutter </h4><br><p>         ‚Äì        ,   .            Flutter,         . </p><br><h4 id="nedostatki-go">  Go </h4><br><p>    <strong>"  Flutter    Go?"</strong>    <strong>""</strong> ,  , , ,        ,   Flutter, , ,     ""   .      ,    Go       . </p><br><p>  ,  <strong>   Go    </strong> .                 .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  </a>    Go, , ,    -.    ‚Äì      ,         ,        . </p><br><p>           Go.              ‚Äì       ,      . </p><br><h4 id="mysli-o-buduschem-flutter">    Flutter </h4><br><p>      ,  Flutter  ,     ,       .  "/ "   ,  Dart    ( , ,     ).    Dart,  ,      (,    )    DartVM  V8,  Flutter    ‚Äì   Flutter      -. </p><br><p> ,     .          .  ,           ,  1.0     . , -      . </p><br><p>    game changer,     Flutter ,           ,           . </p><br><p>            UI ‚Äì  Flutter,    . </p><br><h1 id="ssylki">  Referencias </h1><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://flutter.io</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Flutter Tutorial for Beginners ‚Äî Build iOS and Android Apps</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Go proposal: An Improved, Golang-Cohesive Design for Named Arguments</a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Go proposal: spec: untyped composite literals</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es435960/">https://habr.com/ru/post/es435960/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es435950/index.html">Centro de datos modular al servicio del Gran Colisionador de Hadrones</a></li>
<li><a href="../es435952/index.html">¬øQui√©nes son los "hosters sin lavar"?</a></li>
<li><a href="../es435954/index.html">Desarrollo de m√≥dulos para t√≠teres con kit de desarrollo de t√≠teres</a></li>
<li><a href="../es435956/index.html">PHP Digest No. 147 (1 al 14 de enero de 2019)</a></li>
<li><a href="../es435958/index.html">El resumen de materiales frescos del mundo del front-end para la √∫ltima semana No. 347 (7 al 13 de enero de 2019)</a></li>
<li><a href="../es435962/index.html">25 aniversario de Aeron: sensaciones e impresiones de la versi√≥n actualizada de Aeron Remastered</a></li>
<li><a href="../es435964/index.html">Ethereum planea ser 99% m√°s econ√≥mico</a></li>
<li><a href="../es435968/index.html">Descripci√≥n general de los algoritmos de aprendizaje autom√°tico profundo para robots</a></li>
<li><a href="../es435970/index.html">Gu√≠a para principiantes sobre desarrollo de servidores web con Node.js</a></li>
<li><a href="../es435972/index.html">Introduciendo programaci√≥n reactiva en Spring</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>