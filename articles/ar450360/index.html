<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๏ธ ๐ฝ ๐ฅ ุชุจุงุฏู ุชุทุจูู ุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ SPA ูู ุนุงู 2019 ๐๐พ ๐ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชุญูุงุชู ุ ุฎุจุฑูููุชูุณ! 


 ููุฏ ูุฑุฃุช ูุฐุง ุงูููุฑุฏ ููุฐ ุชุฃุณูุณู ุ ูููู ูู ูุธูุฑ ููุช ูุชุงุจุฉ ุงูููุงูุฉ ุฅูุง ุงูุขู ุ ููุง ูุนูู ุฃู ุงูููุช ูุฏ ุญุงู ูุชุจุงุฏู ุชุฌุฑุจุชูุง ูุน ุงููุฌุชูุน....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุจุงุฏู ุชุทุจูู ุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ SPA ูู ุนุงู 2019</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450360/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุญูุงุชู ุ ุฎุจุฑูููุชูุณ! </p><br><p style=";text-align:right;direction:rtl">  ููุฏ ูุฑุฃุช ูุฐุง ุงูููุฑุฏ ููุฐ ุชุฃุณูุณู ุ ูููู ูู ูุธูุฑ ููุช ูุชุงุจุฉ ุงูููุงูุฉ ุฅูุง ุงูุขู ุ ููุง ูุนูู ุฃู ุงูููุช ูุฏ ุญุงู ูุชุจุงุฏู ุชุฌุฑุจุชูุง ูุน ุงููุฌุชูุน.  ุจุงููุณุจุฉ ูุจุฏุงูุฉ ุงููุทูุฑูู ุ ุขูู ุฃู ุชุณุงุนุฏ ูุฐู ุงูููุงูุฉ ูู ุชุญุณูู ุฌูุฏุฉ ุงูุชุตููู ุ ูุจุงููุณุจุฉ ูููุญุชุฑููู ุฐูู ุงูุฎุจุฑุฉ ุ ุณุชุนูู ููุงุฆูุฉ ุชุญูู ุญุชู ูุง ุชูุณู ุงูุนูุงุตุฑ ุงููููุฉ ูู ุงููุฑุญูุฉ ุงููุนูุงุฑูุฉ.  ุนู ุงูุตุจุฑ ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุณุชูุฏุน</a> ุงูููุงุฆู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงูุนุฑุถ</a> . </p><br><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  ูููุชุฑุถ ุฃูู ูู "ุดุฑูุฉ ุฃุญูุงู" - ุฃุญุฏ ุงูุจูุฑุตุงุช ูุน ุญุฑูุฉ ุงุฎุชูุงุฑ ุงูุชูููููุฌูุง ูุงูููุงุฑุฏ ููููุงู ุจูู ุดูุก "ููุง ููุจุบู".  ูู ุงูููุช ุงูุญุงูู ุ ูู ูุง ูุฏู ุงูุดุฑูุฉ ูู </p><br><h3 style=";text-align:right;direction:rtl">  ูููุฉ ุงูุนูู </h3><br><p style=";text-align:right;direction:rtl"> ูู ุจุชุทููุฑ ุชุทุจูู SPA ููุงุฌูุฉ ุงูุชุฏุงูู ุ ุญูุซ ููููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฑุงุฌุน ูุงุฆูุฉ ุฃุฒูุงุฌ ุงูุชุฏุงูู ุงููุฌูุนุฉ ุญุณุจ ุงูุนููุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุนูุฏ ุงูููุฑ ููู ุฒูุฌ ุชุฏุงูู ููุนุฑูุฉ ุงููุนูููุงุช ุจุงูุณุนุฑ ุงูุญุงูู ุ ุชุบููุฑ ูู ุบุถูู 24 ุณุงุนุฉ ุ "ููุจ ูู ุงูุทูุจุงุช" </li><li style=";text-align:right;direction:rtl">  ุชุบููุฑ ูุบุฉ ุงูุชุทุจูู ุฅูู ุงูุฅูุฌููุฒูุฉ / ุงูุฑูุณูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุชุบููุฑ ุงูููุถูุน ุฅูู ุงูุธูุงู / ุงูููุฑ. </li></ul><br><p style=";text-align:right;direction:rtl">  ุงููููุฉ ูุตูุฑุฉ ุฌุฏูุง ุ ููุง ุณูุชูุญ ูู ุงูุชุฑููุฒ ุนูู ุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ ุ ุจุฏูุงู ูู ูุชุงุจุฉ ูููุงุช ูุจูุฑุฉ ูู ูุธุงุฆู ุงูุฃุนูุงู.  ูุฌุจ ุฃู ุชููู ูุชูุฌุฉ ุงูุฌููุฏ ุงูุฃูููุฉ ุฑูุฒูุง ููุทูููุง ููุฏุฑูุณูุง ูุชูุญ ูู ุงููุชุงุจุนุฉ ูุจุงุดุฑุฉู ุฅูู ุชูููุฐ ููุทู ุงูุนูู. </p><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุนุฏู ูุฌูุฏ ูุชุทูุจุงุช ูููุฉ ูู ุจูุงู ุงูุนูู ูู ุงูุนููู ุ ุฏุนูู ูุดุนุฑูู ุจุงูุฑุงุญุฉ ููุชุทููุฑ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ุงูุชูุงูู ุนุจุฑ ุงููุณุชุนุฑุถ</b> : ุฃุญุฏุซ ุฅุตุฏุงุฑูู ูู ุงููุชุตูุญุงุช ุงูุดุงุฆุนุฉ (ุจุฏูู IE) ุ </li><li style=";text-align:right;direction:rtl">  <b>ุนุฑุถ ุงูุดุงุดุฉ</b> :&gt; = 1240 ุจูุณู ุ </li><li style=";text-align:right;direction:rtl">  <b>ุชุตููู</b> : ุนู ุทุฑูู ุงูููุงุณ ูุน ุงูุชุจุงุฏูุงุช ุงูุฃุฎุฑู ุ ููุง  ูู ูุชู ุงูุชุนุงูุฏ ูุน ุงููุตูู. </li></ul><br><p style=";text-align:right;direction:rtl">  ุงูุขู ูู ุงูููุช ุงูููุงุณุจ ูุชุญุฏูุฏ ุงูุฃุฏูุงุช ูุงูููุชุจุงุช ุงูุชู ูุชู ุงุณุชุฎุฏุงููุง.  ุณุฃุณุชุฑุดุฏ ุจูุจุงุฏุฆ ุชุทููุฑ "ุชุณููู ุงูููุชุงุญ" ู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">KISS</a> ุ ุฃู ุฃููู ุณุฃุณุชุบุฑู ููุท ููุชุจุงุช ุงููุตุงุฏุฑ ุงูููุชูุญุฉ ุงูุชู ุชุชุทูุจ ูุฏุฑุงู ุบูุฑ ูุงูู ูู ุงูููุช ูุชูููุฐูุง ุจุดูู ูุณุชูู ุ ุจูุง ูู ุฐูู ุงูููุช ูุชุฏุฑูุจ ุฒููุงุฆู ุงููุทูุฑูู ูู ุงููุณุชูุจู. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <b>ูุธุงู ุงูุชุญูู ูู ุงูุฅุตุฏุงุฑ</b> : Git + Githubุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุฎูููุฉ</b> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">API</a> CoinGecko. </li><li style=";text-align:right;direction:rtl">  <b>ุงูุชุฌูุน / ุงูููู</b> : Webpack + ุจุงุจู. </li><li style=";text-align:right;direction:rtl">  <b>ุญุฒูุฉ ุงููุซุจุช</b> : ุงูุบุฒู (npm 6 ุชุจุนูุงุช ุชุญุฏูุซูุง ุจุดูู ุบูุฑ ุตุญูุญ) ุ </li><li style=";text-align:right;direction:rtl">  <b>ูุฑุงูุจุฉ ุฌูุฏุฉ ุงูุฑูุฒ</b> : ESLint + Prettier + Stylelintุ </li><li style=";text-align:right;direction:rtl">  <b>ุนุฑุถ</b> : ุงูุชูุงุนู (ุฏุนูุง ูุฑู ููู ูู ุงูุณูุงููุฑ ูุฑูุญุฉ) ุ </li><li style=";text-align:right;direction:rtl">  <b>ูุชุฌุฑ</b> : ููุจูุณ </li><li style=";text-align:right;direction:rtl">  <b>autotests</b> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Cypress.io</a> (ุญู ุฌุงูุง ุณูุฑูุจุช ูุงูู ุจุฏูุงู ูู ุชุฌููุน ูุญุฏุงุช ูุซู Mocha / Karma + Chai + Sinon + Selenium + Webdriver / Protractor) ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุฃููุงุท</b> : SCSS ุนุจุฑ PostCSS (ูุฑููุฉ ุงูุชูููู ุ ุงูุฃุตุฏูุงุก ูุน Stylelint) ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุฑุณูู ุงูุจูุงููุฉ</b> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">HighStock</a> (ุงูุฅุนุฏุงุฏ ุฃุณูู ุจูุซูุฑ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">TradingView</a> ุ ูููู ุจุงููุณุจุฉ ููุชุทุจูู ุงูุญูููู ููุช ุขุฎุฐ ุงูุฃุฎูุฑ) ุ </li><li style=";text-align:right;direction:rtl">  ุงูุฅุจูุงุบ ุนู <b>ุงูุฎุทุฃ</b> : ุชุฑูุจ ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงููุฑุงูู</b> : Lodash (ุชูููุฑ ุงูููุช) ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุชูุฌูู</b> : ุชุณููู ุงูููุชุงุญ ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุชุนุฑูุจ</b> : ุชุณููู ุงูููุชุงุญ ุ </li><li style=";text-align:right;direction:rtl">  <b>ุงูุนูู ูุน ุงูุทูุจุงุช</b> : ุชุณููู ุงูููุชุงุญ ุ </li><li style=";text-align:right;direction:rtl">  <b>ููุงููุณ ุงูุฃุฏุงุก</b> : ุชุณููู ุงูููุชุงุญ. </li><li style=";text-align:right;direction:rtl">  <b>ุงููุชุงุจุฉ</b> : ููุณ ูู ููุจุฉ ุจูุฏู. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ููุท React ู MobX ู HighStock ู Lodash ู Sentry ุณูููููู ูู ุงูููุชุจุงุช ูู ููู ุงูุชุทุจูู ุงูููุงุฆู.  ุฃุนุชูุฏ ุฃู ูุฐุง ูู ูุง ูุจุฑุฑู ุ ูุฃู ูุฏููู ูุซุงุฆู ูุฃุฏุงุกู ููุชุงุฒูุง ููุฃููููู ูุฏู ุงูุนุฏูุฏ ูู ุงููุทูุฑูู. </p><br><h3 style=";text-align:right;direction:rtl">  ููุฏ ูุฑุงูุจุฉ ุงูุฌูุฏุฉ </h3><br><p style=";text-align:right;direction:rtl">  ุฃูุถู ุชูุณูู ุงูุชุจุนูุงุช ูู <i>package.json</i> ุฅูู ุฃุฌุฒุงุก ุงูุฏูุงููุฉ ุ ูุฐุง ูุฅู ุงูุฎุทูุฉ ุงูุฃููู ุจุนุฏ ุจุฏุก ูุณุชูุฏุน git ูู ุชุฌููุน ูู ูุง ูุชุนูู ุจููุท ุงูููุฏ ูู ูุฌูุฏ <i>./eslint-custom</i> ุ ูุน ุชุญุฏูุฏ ูู <i>package.json</i> : </p><br><pre style=";text-align:right;direction:rtl"><code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"upd"</span></span>: <span class="hljs-string"><span class="hljs-string">"yarn install --no-lockfile"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"dependencies"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"eslint-custom"</span></span>: <span class="hljs-string"><span class="hljs-string">"file:./eslint-custom"</span></span> } }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุชุญูู <code>yarn install</code> ุงูุนุงุฏู ุฅุฐุง ูุงูุช ุงูุชุจุนูุงุช ุฏุงุฎู <i>eslint-custom</i> ูุฏ ุชุบูุฑุช ุ ูุฐูู <i>ุณุฃุณุชุฎุฏู</i> <code>yarn upd</code> .  ุจุดูู ุนุงู ุ ุชุจุฏู ูุฐู ุงูููุงุฑุณุฉ ุฃูุซุฑ ุนุงูููุฉ ุ ุญูุซ ูู ูุชุนูู ุนูู devs ุชุบููุฑ ูุตูุฉ ุงููุดุฑ ุฅุฐุง ูุงู ุงููุทูุฑูู ุจุญุงุฌุฉ ุฅูู ุชุบููุฑ ุทุฑููุฉ ุชุซุจูุช ุงูุญุฒู. </p><br><p style=";text-align:right;direction:rtl">  ููุณ ููุงู ูุงุฆุฏุฉ ูู ุงุณุชุฎุฏุงู <i>ููู</i> yarn.lock ุ ุญูุซ ุฃู ุฌููุน ุงูุชุจุนูุงุช ุณุชููู ุจุฏูู "ุฃุบุทูุฉ" ุชูุฑุฒ (ูู ุดูู <code>"react": "16.8.6"</code> ).  ุฃุธูุฑุช ุงูุชุฌุฑุจุฉ ุฃูู ูู ุงูุฃูุถู ุชุญุฏูุซ ุงูุฅุตุฏุงุฑุงุช ูุฏูููุง ูุงุฎุชุจุงุฑูุง ุจุนูุงูุฉ ูุฌุฒุก ูู ุงูููุงู ุงููุฑุฏูุฉ ุจุฏูุงู ูู ุงูุงุนุชูุงุฏ ุนูู ููู ุงูููู ุ ููุง ูุชูุญ ููุคููู ุงูุญุฒูุฉ ุงููุฑุตุฉ ููุณุฑ ุงูุชุทุจูู ูุน ุชุญุฏูุซ ุจุณูุท ูู ุฃู ููุช (ุงููุญุธูุธูู ุงูุฐูู ูู ููุงุฌููุง ูุฐุง). </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุญุฒูุฉ <i>ุงููุฎุตุตุฉ ูู eslint</i> ุ ุณุชููู ุงูุชุจุนูุงุช ููุง ููู: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">eslint-custom / package.json</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint-custom"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"description"</span></span>: <span class="hljs-string"><span class="hljs-string">"Custom linter rules for this project"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"license"</span></span>: <span class="hljs-string"><span class="hljs-string">"MIT"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dependencies"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"babel-eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"10.0.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"5.16.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-config-prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"4.1.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-import"</span></span>: <span class="hljs-string"><span class="hljs-string">"2.17.2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"3.0.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-react"</span></span>: <span class="hljs-string"><span class="hljs-string">"7.12.4"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"eslint-plugin-react-hooks"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.6.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.17.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"prettier-eslint"</span></span>: <span class="hljs-string"><span class="hljs-string">"8.8.2"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"stylelint"</span></span>: <span class="hljs-string"><span class="hljs-string">"10.0.1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"stylelint-config-prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"5.1.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"stylelint-prettier"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0.6"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"stylelint-scss"</span></span>: <span class="hljs-string"><span class="hljs-string">"3.6.0"</span></span> } }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ูุชูุตูู ุงูุฃุฏูุงุช ุงูุซูุงุซุฉ ุ ุงุณุชุบุฑู ุงูุฃูุฑ 5 ุญุฒู ุฅุถุงููุฉ ( <i>eslint-plugin-prettier ุ eslint-config-prettier ุ stylelint-prettierุ stylelint-configtierุ prettierุ prettierุ prettier</i> ) - ูุฌุจ ุนููู ุฏูุน ูุฐุง ุงูุณุนุฑ ุงูููู.  ูุชุญููู ุฃูุตู ูุฏุฑ ูู ุงูุฑุงุญุฉ ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู</a> ุงูุงูุชูุงุฑ ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฑุฒ</a> ุงูุชููุงุฆู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุงุฑุฏุงุช</a> ุ ููู ููุฃุณู ุ ูููุฏ ูุฐุง ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ ุฎุทูุทูุง ุนูุฏ ุฅุนุงุฏุฉ ุชููุฆุฉ ุงูููู. </p><br><p style=";text-align:right;direction:rtl">  ุณุชููู ูููุงุช ุงูุชููุฆุฉ ูุฌููุน ุงูุฃุฏูุงุช ุจุชูุณูู <i>* .js</i> ( <i>eslint.config.js</i> ุ <i>stylelint.config.js</i> ) ุจุญูุซ ูุนูู ุชูุณูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุนูููุง.  ูุฏ ุชููู <i>ุงูููุงุนุฏ</i> ุจุชูุณูู <i>* .yaml</i> ุ ููุฒุนุฉ ุญุณุจ ุงููุญุฏุงุช ุงูุฏูุงููุฉ.  ุชูุฌุฏ ุฅุตุฏุงุฑุงุช ูุงููุฉ ูู ุงูุชููููุงุช ูุงูููุงุนุฏ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุณุชูุฏุน</a> . </p><br><p style=";text-align:right;direction:rtl">  ูุจูู ูุฅุถุงูุฉ ุงูุฃูุงูุฑ ูู <i>ุงูุญุฒูุฉ</i> ุงูุฑุฆูุณูุฉ. <i>json</i> ... </p><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"upd"</span></span>: <span class="hljs-string"><span class="hljs-string">"yarn install --no-lockfile"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"format:js"</span></span>: <span class="hljs-string"><span class="hljs-string">"eslint --ignore-path .gitignore --ext .js -c ./eslint-custom/eslint.config.js --fix"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"format:style"</span></span>: <span class="hljs-string"><span class="hljs-string">"stylelint --ignore-path .gitignore --config ./eslint-custom/stylelint.config.js --fix"</span></span> } }</code> </pre><br><p style=";text-align:right;direction:rtl">  ... ูุชูููู IDE ุงูุฎุงุต ุจู ูุชุทุจูู ุงูุชูุณูู ูุน ุญูุธ ุงูููู ุงูุญุงูู.  ูุถูุงู ุฐูู ุ ุนูุฏ ุฅูุดุงุก ุงูุชุฒุงู ุ ูุฌุจ ุนููู ุงุณุชุฎุฏุงู ุฑุจุท ุจูุงุจุฉ ูููู ุจูุญุต ูุชูุณูู ุฌููุน ูููุงุช ุงููุดุฑูุน.  ููุงุฐุง ููุณ ููุท ุชูู ุงูููุฌูุฏุฉ ูู ุงุฑุชูุงุจุ  ูู ุฃุฌู ูุจุฏุฃ ุงููุณุคูููุฉ ุงูุฌูุงุนูุฉ ุนู ูุงุนุฏุฉ ุงูุดูุฑุฉ ุจุฃููููุง ุ ุจุญูุซ ูู ูุชู ุฅุบุฑุงุก ุฃุญุฏ ุจุงูุชุญุงูู ุนูู ุงูุชุญูู ูู ุงูุตุญุฉ.  ููููุงู ุจุฐูู ุ ุนูุฏ ุฅูุดุงุก ุงูุชุฒุงู ุ ุณูุชู ุงุนุชุจุงุฑ ุฌููุน ุชุญุฐูุฑุงุช <code>--max-warnings=0</code> ุฃุฎุทุงุก ุจุงุณุชุฎุฏุงู <code>--max-warnings=0</code> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"husky"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"hooks"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"pre-commit"</span></span>: <span class="hljs-string"><span class="hljs-string">"npm run format:js -- --max-warnings=0 ./ &amp;&amp; npm run format:style ./**/*.scss"</span></span> } } }</code> </pre><br><h3 style=";text-align:right;direction:rtl">  ุงูุฌูุนูุฉ / ุงูููู </h3><br><p style=";text-align:right;direction:rtl">  ูุฑุฉ ุฃุฎุฑู ุ ุณุฃุณุชุฎุฏู ุงูููุฌ ุงููุนูุงุฑู ูุณุฃุฎุฑุฌ ูู ุฅุนุฏุงุฏุงุช Webpack ู Babel ูู ูุฌูุฏ ./webpack-custom.  ุณูุนุชูุฏ ุงูุชูููู ุนูู ุจููุฉ ุงูููู ุงูุชุงููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">. |<span class="hljs-comment"><span class="hljs-comment">-- webpack-custom | |-- config | |-- loaders | |-- plugins | |-- rules | |-- utils | `-- package.json | `-- webpack.config.js</span></span></code> </pre><br><p style=";text-align:right;direction:rtl">  ูููุฑ ุงูููุดุฆ ุงูุฐู ุชู ุชููููู ุจุดูู ุตุญูุญ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงููุฏุฑุฉ ุนูู ูุชุงุจุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุจุงุณุชุฎุฏุงู ุจูุงุก ุงูุฌููุฉ ููุฏุฑุงุช ุฃุญุฏุซ ููุงุตูุงุช EcmaScript ุ ุจูุง ูู ุฐูู ุงูุงูุชุฑุงุญุงุช ุงููุฑูุญุฉ (ุงูุฏูููุฑุงุช ุงูุตููุฉ ูุฎุตุงุฆุตูุง ูู MobX ูููุฏุฉ ููุง ุจุงูุชุฃููุฏ) ุ </li><li style=";text-align:right;direction:rtl">  ุฎุงุฏู ูุญูู ูุน ุฅุนุงุฏุฉ ุชุญููู ุงูุณุงุฎู ุ </li><li style=";text-align:right;direction:rtl">  ููุงููุณ ุงูุฃุฏุงุก ุงูุชุฌูุน. </li><li style=";text-align:right;direction:rtl">  ุงูุชุญูู ูู ุงูุชุจุนูุงุช ุงูุฏูุฑูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุชุญููู ูููู ูุญุฌู ุงูููู ุงููุงุชุฌ ุ </li><li style=";text-align:right;direction:rtl">  ุงูุฃูุซู ูุงูุชูููู ูุชุฌููุน ุงูุฅูุชุงุฌ ุ </li><li style=";text-align:right;direction:rtl">  ุชูุณูุฑ ูููุงุช <i>* .scss</i> ุงููุนูุงุฑูุฉ ูุงููุฏุฑุฉ ุนูู <i>ุฅุฒุงูุฉ</i> ูููุงุช <i>* .css</i> ููุชููุฉ ูู ุญุฒูุฉ ุ </li><li style=";text-align:right;direction:rtl">  inline-insert <i>* .svg</i> filesุ </li><li style=";text-align:right;direction:rtl">  ุจุงุฏุฆุงุช polyfill / style ูููุชุตูุญุงุช ุงููุณุชูุฏูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุญู ูุดููุฉ ุงูุชุฎุฒูู ุงููุคูุช ูููููุงุช ุนูู ุงูุฅูุชุงุฌ. </li></ul><br><p style=";text-align:right;direction:rtl">  ููุง ุณูุชู ุชูููู ูุฑูุญ.  ุณูู ุฃููู ุจุญู ูุฐู ุงููุดููุฉ ุจูุณุงุนุฏุฉ <i>ููููู ุนููุฉ * .env</i> : </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">.frontend.env.example</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">AGGREGATION_TIMEOUT=0 BUNDLE_ANALYZER=false BUNDLE_ANALYZER_PORT=8889 CIRCULAR_CHECK=true CSS_EXTRACT=false DEV_SERVER_PORT=8080 HOT_RELOAD=true NODE_ENV=development SENTRY_URL=false SPEED_ANALYZER=false PUBLIC_URL=false # https://webpack.js.org/configuration/devtool DEV_TOOL=cheap-module-source-map</code> </pre></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">.frontend.env.prod.example</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">AGGREGATION_TIMEOUT=0 BUNDLE_ANALYZER=false BUNDLE_ANALYZER_PORT=8889 CIRCULAR_CHECK=false CSS_EXTRACT=true DEV_SERVER_PORT=8080 HOT_RELOAD=false NODE_ENV=production SENTRY_URL=false SPEED_ANALYZER=false PUBLIC_URL=/exchange_habr/dist # https://webpack.js.org/configuration/devtool DEV_TOOL=false</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ูุจุฏุก ุงูุชุฌููุน ุ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ููู ุจุงุณู <i>.frontend.env</i> ูุงูุญุถูุฑ ุงูุฅูุฒุงูู ูุฌููุน ุงููุนููุงุช.  ุณูุคุฏู ูุฐุง ุงูููุฌ ุฅูู ุญู ุงูุนุฏูุฏ ูู ุงููุดููุงุช ูู ููุช ูุงุญุฏ: ูุง ุญุงุฌุฉ ูุฅูุดุงุก ูููุงุช ุชูููู ูููุตูุฉ ูู Webpack ูุงูุญูุงุธ ุนูู ุชูุงุณููุง ุ  ูุญูููุง ุ ููููู ุชูููู ููุฏุงุฑ ุงุญุชูุงุฌ ูุทูุฑ ูุนูู ุ  ุฃุซูุงุก ุงููุดุฑ ุ ูู ุชููู devs ุฅูุง ุจูุณุฎ ุงูููู ุงูุฎุงุต ุจุชุฌููุน ุงูุฅูุชุงุฌ ( <code>cp .frontend.env.prod.example .frontend.env</code> ) ุ ููุง ูุคุฏู ุฅูู ุฅุซุฑุงุก ุงูููู ูู ุงููุฎุฒูู ุ ูุจุงูุชุงูู ูููู ูุฏู ูุทูุฑู ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุงููุฏุฑุฉ ุนูู ุฅุฏุงุฑุฉ ุงููุตูุฉ ูู ุฎูุงู ุงููุชุบูุฑุงุช ุฏูู ุงุณุชุฎุฏุงู ูุฏุฑุงุก.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุณูููู ูู ุงููููู ุฅุฌุฑุงุก ุชูููู ูุซุงู ููุญูุงูู (ุนูู ุณุจูู ุงููุซุงู ุ ูุน ุฎุฑุงุฆุท ุงููุตุฏุฑ). </p><br><p style=";text-align:right;direction:rtl">  ููุตู ุงูุฃููุงุท ูู ูููุงุช ูุน ุชูููู <i>CSS_EXTRACT</i> ุ <i>ุณุฃุณุชุฎุฏู</i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">mini-css-extract-plugin</a> - ูุชูุญ ูู ุงุณุชุฎุฏุงู Hot Reloading.  ูุฐุง ูู ุ ุฅุฐุง ููุช ุจุชูููู <i>HOT_RELOAD</i> ู <i>CSS_EXTRACT</i> ููุชูููุฉ ุงููุญููุฉ ุ ุซู ุจุงุณุชุฎุฏุงู <br>  ุณูุชู ุฅุนุงุฏุฉ ุชุญููู ุงูุฃููุงุท ููุท ุนูุฏ ุชุบููุฑ ูููุงุช ุงูุฃููุงุท - ูููู ูุณูุก ุงูุญุธ ุ ูู ุดูุก ุ ูููุณ ููุท ุงูููู ุงูุฐู ุชู ุชุบููุฑู.  ูุน ุฅููุงู ุชุดุบูู <i>CSS_EXTRACT</i> ุ ุณูุชู ุชุญุฏูุซ ูุญุฏุฉ ุงูููุท ุงูุชู ุชู ุชุบููุฑูุง ููุท. </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุถููู HMR ููุนูู ูุน React Hooks ุจุดูู ููุงุณู ุชูุงููุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>webpack.HotModuleReplacementPlugin</code> ูู ุงูุฅุถุงูุงุช ุ </li><li style=";text-align:right;direction:rtl">  <code>hot: true</code> ูู ุงููุนููุงุช <i>webpack-dev-server</i> ุ </li><li style=";text-align:right;direction:rtl">  <code>react-hot-loader/babel</code> ูู ุงูุฅุถุงูุงุช <i>ุจุงุจู ูุญูู</i> . </li><li style=";text-align:right;direction:rtl">  <code>options.hmr: true</code> ูู <i>mini-css-extract-plugin</i> ุ </li><li style=";text-align:right;direction:rtl">  <code>export default hot(App)</code> ูู ุงููููู ุงูุฑุฆูุณู ููุชุทุจูู ุ </li><li style=";text-align:right;direction:rtl">  <i>@ hot-loader / react-dom</i> ุจุฏูุงู ูู <i>react-dom</i> ุงููุนุชุงุฏุฉ (ุจุดูู ููุงุฆู ุนุจุฑ <code>resolve.alias: { 'react-dom': '@hot-loader/react-dom' }</code> ) ุ </li></ul><br><p style=";text-align:right;direction:rtl">  ูุง ูุฏุนู ุงูุฅุตุฏุงุฑ ุงูุญุงูู ูู ุฃุฏุงุฉ <i>ุฑุฏ ุงููุนู ุงูุณุงุฎูุฉ</i> ููููุงุช ุชุญููุธ ุจุงุณุชุฎุฏุงู <code>React.memo</code> ุ ูุฐูู ุนูุฏ ูุชุงุจุฉ ุฃุฏูุงุช ุชุฒููู ูู MobX ุ ุณุชุญุชุงุฌ ุฅูู ูุฑุงุนุงุฉ ุฐูู ูู ุฃุฌู ุฑุงุญุฉ ุงูุชุทููุฑ ุงููุญูู.  ูู ุงููุถุงููุงุช ุงูุฃุฎุฑู ุงููุงุฌูุฉ ุนู ุฐูู ุฃูู ุนูุฏูุง ูุชู ุชูููู <i>Highlight Updates</i> ูู React Developer Tools ุ ูุชู ุชุญุฏูุซ ุฌููุน ุงูููููุงุช ุฃุซูุงุก ุฃู ุชูุงุนู ูุน ุงูุชุทุจูู.  ูุฐูู ุ ุนูุฏ ุงูุนูู ูุญูููุง ุนูู ุชุญุณูู ุงูุฃุฏุงุก ุ ูุฌุจ ุชุนุทูู ุฅุนุฏุงุฏ <i>HOT_RELOAD</i> . </p><br><p style=";text-align:right;direction:rtl">  ูุชู ุชูููุฐ ุชุญุณูู ุงูุจููุฉ ูู Webpack 4 ุชููุงุฆููุง ุนูุฏูุง ูููู <code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">mode</a> : 'development' | 'production'</code>  <code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">mode</a> : 'development' | 'production'</code> .  ูู ูุฐู ุงูุญุงูุฉ ุ ูุฃูุง ุฃุนุชูุฏ ุนูู ุงูุชุญุณูู ุงูููุงุณู (+ ุชุถููู ุฃุณูุงุก <code>keep_fnames: true</code> ุงููุนููุฉ <code>keep_fnames: true</code> ูู <i>ุงูุจุฑูุงูุฌ ุงููุณุงุนุฏ terser-webpack</i> ูุญูุธ ุงุณู ุงูููููุงุช) ุ ูุธุฑูุง ูุฃูู ูุถุจูุท ุจุงููุนู. </p><br><p style=";text-align:right;direction:rtl">  ุงููุตู ุจูู ุงููุทุน ูุงูุชุญูู ูู ุงูุชุฎุฒูู ุงููุคูุช ููุนููู ูุณุชุญู ุนูุงูุฉ ุฎุงุตุฉ.  ููุชุดุบูู ุงูุตุญูุญ ุชุญุชุงุฌ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู output.filename ููููุงุช JS ู CSS ุชุญุฏูุฏ <code>isProduction ? '[name].[contenthash].js' : '[name].js'</code>  <code>isProduction ? '[name].[contenthash].js' : '[name].js'</code> (ุจุงูููุญู .css ุนูู ุงูุชูุงูู) ุจุญูุซ ูุณุชูุฏ ุงุณู ุงูููู ุฅูู ูุญุชููุงุชู ุ </li><li style=";text-align:right;direction:rtl">  ูู ุงูุชุญุณูู ุ ูู ุจุชุบููุฑ ุงููุนููุงุช ุฅูู <code>chunkIds: 'named', moduleIds: 'hashed'</code> ุจุญูุซ ูุง ูุชุบูุฑ ุนุฏุงุฏ ุงููุญุฏุฉ ุงูุฏุงุฎููุฉ ูู webpack ุ </li><li style=";text-align:right;direction:rtl">  ูุถุน ููุช ุงูุชุดุบูู ูู ุฌุฒุก ูููุตู ุ </li><li style=";text-align:right;direction:rtl">  ููู ูุฌููุนุงุช ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ุฅูู splitChunks (ุฃุฑุจุน ููุงุท ูุงููุฉ ููุฐุง ุงูุชุทุจูู - lodash ุ ุฎููุฑ ุ highcharts ูุงูุจุงุฆุน ุนู ุงูุชุจุนูุงุช ุงูุฃุฎุฑู ูู <i>node_modules</i> ).  ูุธุฑูุง ูุฃู ุงูุซูุงุซุฉ ุงูุฃููู ุณูุชู ุชุญุฏูุซูุง ูุงุฏุฑูุง ุ ูุณูุธููู ูู ุฐุงูุฑุฉ ุงูุชุฎุฒูู ุงููุคูุช ููุชุตูุญ ุงูุนููู ูุฃุทูู ูุชุฑุฉ ููููุฉ. </li></ul><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">webpack-custom / config / configOptimization.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * @docs: https://webpack.js.org/configuration/optimization * */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> TerserPlugin = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'terser-webpack-plugin'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = { <span class="hljs-attr"><span class="hljs-attr">runtimeChunk</span></span>: { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'runtime'</span></span>, }, <span class="hljs-attr"><span class="hljs-attr">chunkIds</span></span>: <span class="hljs-string"><span class="hljs-string">'named'</span></span>, <span class="hljs-attr"><span class="hljs-attr">moduleIds</span></span>: <span class="hljs-string"><span class="hljs-string">'hashed'</span></span>, <span class="hljs-attr"><span class="hljs-attr">mergeDuplicateChunks</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">splitChunks</span></span>: { <span class="hljs-attr"><span class="hljs-attr">cacheGroups</span></span>: { <span class="hljs-attr"><span class="hljs-attr">lodash</span></span>: { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">module</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.context.indexOf(<span class="hljs-string"><span class="hljs-string">'node_modules\\lodash'</span></span>) !== <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>, <span class="hljs-attr"><span class="hljs-attr">chunks</span></span>: <span class="hljs-string"><span class="hljs-string">'all'</span></span>, <span class="hljs-attr"><span class="hljs-attr">enforce</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }, <span class="hljs-attr"><span class="hljs-attr">sentry</span></span>: { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">module</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.context.indexOf(<span class="hljs-string"><span class="hljs-string">'node_modules\\@sentry'</span></span>) !== <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'sentry'</span></span>, <span class="hljs-attr"><span class="hljs-attr">chunks</span></span>: <span class="hljs-string"><span class="hljs-string">'all'</span></span>, <span class="hljs-attr"><span class="hljs-attr">enforce</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }, <span class="hljs-attr"><span class="hljs-attr">highcharts</span></span>: { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">module</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.context.indexOf(<span class="hljs-string"><span class="hljs-string">'node_modules\\highcharts'</span></span>) !== <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'highcharts'</span></span>, <span class="hljs-attr"><span class="hljs-attr">chunks</span></span>: <span class="hljs-string"><span class="hljs-string">'all'</span></span>, <span class="hljs-attr"><span class="hljs-attr">enforce</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }, <span class="hljs-attr"><span class="hljs-attr">vendor</span></span>: { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">module</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.context.indexOf(<span class="hljs-string"><span class="hljs-string">'node_modules'</span></span>) !== <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-attr"><span class="hljs-attr">priority</span></span>: <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'vendor'</span></span>, <span class="hljs-attr"><span class="hljs-attr">chunks</span></span>: <span class="hljs-string"><span class="hljs-string">'all'</span></span>, <span class="hljs-attr"><span class="hljs-attr">enforce</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }, }, }, <span class="hljs-attr"><span class="hljs-attr">minimizer</span></span>: [ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TerserPlugin({ <span class="hljs-attr"><span class="hljs-attr">terserOptions</span></span>: { <span class="hljs-attr"><span class="hljs-attr">keep_fnames</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }, }), ], };</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ูุชุณุฑูุน ุงูุชุฌููุน ูู ูุฐุง ุงููุดุฑูุน ุ ุฃุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุฏุฑ ุชุฑุงุจุท</a> - ุนูุฏ ููุงุฒูุชู ูู 4 ุนูููุงุช ุ ุฃุนุทู ุชุณุฑูุน ุงูุชุฌููุน ุจูุณุจุฉ 90ูช ุ ููู ุฃูุถู ูู happypack ูุน ููุณ ุงูุฅุนุฏุงุฏุงุช. </p><br><p style=";text-align:right;direction:rtl">  ุฅุนุฏุงุฏุงุช ุงูููุงุฏุฑ ุ ุจูุง ูู ุฐูู ุจุงุจู ุ ูู ูููุงุช ูููุตูุฉ (ูุซู <i>.babelrc</i> ) <i>ูุฅุฎูุงุฏูุง</i> ุ ุนูู ูุง ุฃุนุชูุฏ ุ ููุณุช ุถุฑูุฑูุฉ.  ููู ุงูุชูููู ุนุจุฑ ุงููุณุชุนุฑุถ ุฃูุซุฑ ููุงุกูุฉ ููุฅุจูุงุก ุนููู ูู ูุนููุฉ ูุงุฆูุฉ <code>browserslist</code> ูู <i>ุงูุญุฒูุฉ</i> ุงูุฑุฆูุณูุฉ. json ุ ูุฃูู ูุณุชุฎุฏู ุฃูุถูุง ูุฃููุงุท ุงูุฅุตูุงุญ ุงูุชููุงุฆู. </p><br><p style=";text-align:right;direction:rtl">  ูุชูููุฑ ุงูุฑุงุญุฉ ููุนูู ูุน Prettier ุ ููุช ุจุนูู ุงููุนููุฉ <i>AGGREGATION_TIMEOUT</i> ุ ูุงูุชู ุชุชูุญ ูู ุถุจุท ุงูุชุฃุฎูุฑ ุจูู ุงูุชุดุงู ุงูุชุบููุฑุงุช ูู ุงููููุงุช ูุฅุนุงุฏุฉ ุจูุงุก ุงูุชุทุจูู ูู ูุถุน dev-server.  ููุฐ ุฃู ููุช ุจุชููุฆุฉ ุฅุนุงุฏุฉ ุชููุฆุฉ ุงููููุงุช ุนูุฏ ุงูุญูุธ ูู IDE ุ ูุชุณุจุจ ุฐูู ูู ุฅุนุงุฏุฉ ุฅูุดุงุก 2 - ุงูุฃูู ูุญูุธ ุงูููู ุงูุฃุตูู ุ ูุงูุซุงูู ูุฅููุงู ุงูุชูุณูู.  2000 ูููู ุซุงููุฉ ุนุงุฏุฉู ูุง ูููู ู webpack ูุงูุชุธุงุฑ ุงูุฅุตุฏุงุฑ ุงูููุงุฆู ูู ุงูููู. </p><br><p style=";text-align:right;direction:rtl">  ูุง ุชุณุชุญู ุจููุฉ ุงูุชูููู ุงูุชูุงููุง ุฎุงุตูุง ุ ุญูุซ ูุชู ุงููุดู ุนููุง ูู ูุฆุงุช ุงูููุงุฏ ุงูุชุฏุฑูุจูุฉ ูููุจุชุฏุฆูู ุ ุจุญูุซ ููููู ูุชุงุจุนุฉ ุชุตููู ุจููุฉ ุงูุชุทุจูู. </p><br><h3 style=";text-align:right;direction:rtl">  ุซููุงุช ุณุชุงูู </h3><br><p style=";text-align:right;direction:rtl">  ูู ุงูุณุงุจู ุ ูุฅูุดุงุก ุณูุงุช ุ ูุงู ุนููู ุฅูุดุงุก ุนุฏุฉ ุฅุตุฏุงุฑุงุช ูู ูููุงุช <i>* .css</i> ูุฅุนุงุฏุฉ ุชุญููู ุงูุตูุญุฉ ุนูุฏ ุชุบููุฑ ุงูุณูุงุช ุ ูุชุญููู ูุฌููุนุฉ ุงูุฃููุงุท ุงููุทููุจุฉ.  ุงูุขู ูุชู ุญู ูู ุดูุก ุจุณูููุฉ ุจุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Custom CSS Properties</a> .  ูุฐู ุงูุชูููููุฌูุง ูุฏุนููุฉ ูู ูุจู ุฌููุน ุงููุชุตูุญุงุช ุงููุณุชูุฏูุฉ ููุชุทุจูู ุงูุญุงูู ุ ูููู ููุงู ุฃูุถูุง ูููุงุช ูุชุนุฏุฏุฉ ูู IE. </p><br><p style=";text-align:right;direction:rtl">  ุฏุนูุง ูููู ุฃู ููุงู ููุถูุนูู - ุงูุถูุก ูุงูุธูุงู ุ ูุฌููุนุงุช ุงูุฃููุงู ุงูุชู ุณุชููู ูู </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุฃููุงุท / ุงูููุถูุนุงุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">.light { --n0: rgb(255, 255, 255); --n100: rgb(186, 186, 186); --n10: rgb(249, 249, 249); --n10a3: rgba(249, 249, 249, 0.3); --n20: rgb(245, 245, 245); --n30: rgb(221, 221, 221); --n500: rgb(136, 136, 136); --n600: rgb(102, 102, 102); --n900: rgb(0, 0, 0); --b100: rgb(219, 237, 251); --b300: rgb(179, 214, 252); --b500: rgb(14, 123, 249); --b500a3: rgba(14, 123, 249, 0.3); --b900: rgb(32, 39, 57); --g400: rgb(71, 215, 141); --g500: rgb(61, 189, 125); --g500a1: rgba(61, 189, 125, 0.1); --g500a2: rgba(61, 189, 125, 0.2); --r400: rgb(255, 100, 100); --r500: rgb(255, 0, 0); --r500a1: rgba(255, 0, 0, 0.1); --r500a2: rgba(255, 0, 0, 0.2); } .dark { --n0: rgb(25, 32, 48); --n100: rgb(114, 126, 151); --n10: rgb(39, 46, 62); --n10a3: rgba(39, 46, 62, 0.3); --n20: rgb(25, 44, 74); --n30: rgb(67, 75, 111); --n500: rgb(117, 128, 154); --n600: rgb(255, 255, 255); --n900: rgb(255, 255, 255); --b100: rgb(219, 237, 251); --b300: rgb(39, 46, 62); --b500: rgb(14, 123, 249); --b500a3: rgba(14, 123, 249, 0.3); --b900: rgb(32, 39, 57); --g400: rgb(0, 220, 103); --g500: rgb(0, 197, 96); --g500a1: rgba(0, 197, 96, 0.1); --g500a2: rgba(0, 197, 96, 0.2); --r400: rgb(248, 23, 1); --r500: rgb(221, 23, 1); --r500a1: rgba(221, 23, 1, 0.1); --r500a2: rgba(221, 23, 1, 0.2); }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ููู ูุชู ุชุทุจูู ูุฐู ุงููุชุบูุฑุงุช ุนูู ุงููุณุชูู ุงูุนุงููู ุ ูุฌุจ ูุชุงุจุชูุง ุฅูู <code>document.documentElement</code> ุ ุนูู ุงูุชูุงูู ุ ููุงู ุญุงุฌุฉ ุฅูู ูุญูู ุตุบูุฑ ูุชุญููู ูุฐุง ุงูููู ุฅูู ูุงุฆู javascript.  ูู ููุช ูุงุญู ุ ุณูู ุฃุฎุจุฑูู ููุงุฐุง ูู ุฃูุซุฑ ููุงุกูุฉ ูู ุชุฎุฒููู ูู ุฌุงูุง ุณูุฑูุจุช ุนูู ุงูููุฑ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">webpack-custom / utils / sassVariablesLoader.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">convertSourceToJsObject</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">source</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> themesObject = {}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fullThemesArray = source.match(<span class="hljs-regexp"><span class="hljs-regexp">/\.([^}]|\s)*}/g</span></span>) || []; fullThemesArray.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fullThemeStr</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> theme = fullThemeStr .match(<span class="hljs-regexp"><span class="hljs-regexp">/\.\w+\s{/g</span></span>)[<span class="hljs-number"><span class="hljs-number">0</span></span>] .replace(<span class="hljs-regexp"><span class="hljs-regexp">/\W/g</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>); themesObject[theme] = {}; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> variablesMatches = fullThemeStr.match(<span class="hljs-regexp"><span class="hljs-regexp">/--(.*:[^;]*)/g</span></span>) || []; variablesMatches.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">varMatch</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [key, value] = varMatch.split(<span class="hljs-string"><span class="hljs-string">': '</span></span>); themesObject[theme][key] = value; }); }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> themesObject; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkThemesEquality</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">themes</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> themesArray = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(themes); themesArray.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">themeStr</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> themeObject = themes[themeStr]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> otherThemesArray = themesArray.filter(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">t</span></span></span><span class="hljs-function"> =&gt;</span></span> t !== themeStr); <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(themeObject).forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">variableName</span></span></span><span class="hljs-function"> =&gt;</span></span> { otherThemesArray.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">otherThemeStr</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> otherThemeObject = themes[otherThemeStr]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!otherThemeObject[variableName]) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>( <span class="hljs-string"><span class="hljs-string">`checkThemesEquality: theme </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${otherThemeStr}</span></span></span><span class="hljs-string"> has no variable </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${variableName}</span></span></span><span class="hljs-string">`</span></span> ); } }); }); }); } <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sassVariablesLoader</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">source</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> themes = convertSourceToJsObject(source); checkThemesEquality(themes); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`module.exports = </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-built_in"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-built_in">JSON</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.stringify(themes)}</span></span></span><span class="hljs-string">`</span></span>; };</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ููุง ุ ูุชู ุงูุชุญูู ูู ุงูุงุชุณุงู ูู ุฎูุงู ุฐูู - ุฃู ุงูุงูุชุซุงู ุงูุชุงู ููุฌููุนุฉ ุงููุชุบูุฑุงุช ุ ูุน ุงุฎุชูุงู ุงูุงุฎุชูุงู ุงูุฐู ููุน ููู ุงูุชุฌููุน. </p><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงุณุชุฎุฏุงู ูุฐุง ุงูููุญูู ุ ูุชู ุงูุญุตูู ุนูู ูุงุฆู ุฌููู ุฌุฏูุง ุจู ูุนููุงุช ุ ููููู ุจุถุนุฉ ุฃุณุทุฑ ูุฃุฏุงุฉ ุชุบููุฑ ุงูุณูุฉ: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">src / utils / setTheme.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> themes <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'styles/themes.scss'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> root = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.documentElement; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setTheme</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">theme</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.entries(themes[theme]).forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[key, value]</span></span></span><span class="hljs-function">) =&gt;</span></span> { root.style.setProperty(key, value); }); }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ุฃูุถู ุชุฑุฌูุฉ ูุฐู ุงููุชุบูุฑุงุช css ุฅูู ูุชุบูุฑุงุช ููุงุณูุฉ ูู <i>* .scss</i> : </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">src / styles / constants.scss</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/py/b5/jf/pyb5jfs2g07r-ypnnkoudkdxe7s.png"><br></div></div><br><p style=";text-align:right;direction:rtl">  ููุธูุฑ WebStorm IDE ุ ููุง ูุธูุฑ ูู ููุทุฉ ุงูุดุงุดุฉ ุ ุงูุฃููุงู ุงูููุฌูุฏุฉ ูู ุงูููุญุฉ ุงูููุฌูุฏุฉ ุนูู ุงููุณุงุฑ ููู ุฎูุงู ุงูููุฑ ููู ุงูููู ููุชุญ ููุญุฉ ุญูุซ ููููู ุชุบููุฑูุง.  ูุชู ุงุณุชุจุฏุงู ุงูููู ุงูุฌุฏูุฏ ุชููุงุฆููุง ุฅูู <i>themes.scss</i> ุ <i>ูุณูุนูู</i> Hot Reload ูุณูุชู ุชุญููู ุงูุชุทุจูู ุนูู ุงูููุฑ.  ูุฐุง ูู ุจุงูุถุจุท ูุณุชูู ุฑุงุญุฉ ุงูุชุทููุฑ ุงููุชููุน ูู 2019. </p><br><h3 style=";text-align:right;direction:rtl">  ูุจุงุฏุฆ ุชูุธูู ุงูููุฏ </h3><br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงููุดุฑูุน ุ ุณุฃูุชุฒู ุจุชูุฑุงุฑ ุฃุณูุงุก ุงููุฌูุฏุงุช ููููููุงุช ูุงููููุงุช ูุงูุฃููุงุท ุ ุนูู ุณุจูู ุงููุซุงู: </p><p style=";text-align:right;direction:rtl"></p><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">. |<span class="hljs-comment"><span class="hljs-comment">-- components | |-- Chart | | `-- Chart.js | | `-- Chart.scss | | `-- package.json</span></span></code> </pre><br><p style=";text-align:right;direction:rtl">  ููููุง ูุฐูู ุ ุณุชุญุชูู <i>package.json</i> ุนูู ุงููุญุชูู <code>{ "main": "Chart.js" }</code> .  ุจุงููุณุจุฉ ููููููุงุช ุฐุงุช ุงูุตุงุฏุฑุงุช ุงููุญุฏุฏุฉ ุงููุณูุงุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ุงูุฃุฏูุงุช ุงููุณุงุนุฏุฉ) ุ ุณูุจุฏุฃ ุงุณู ุงูููู ุงูุฑุฆูุณู ุจุชุณุทูุฑ ุฃุณูู ุงูุณุทุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="pgsql hljs">. |<span class="hljs-comment"><span class="hljs-comment">-- utils | `-- _utils.js | `-- someUtil.js | `-- anotherUtil.js | `-- package.json</span></span></code> </pre><br><p style=";text-align:right;direction:rtl">  ูุณูุชู ุชุตุฏูุฑ ุจููุฉ ุงููููุงุช ุนูู ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./someUtil'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./anotherUtil'</span></span>;</code> </pre><br><p style=";text-align:right;direction:rtl">  ุณูุณูุญ ูู ุฐูู ุจุงูุชุฎูุต ูู ุฃุณูุงุก ุงููููุงุช ุงูููุฑุฑุฉ ุญุชู ูุง ุชุถูุน ูู ุงูุนุดุฑุฉ ุงูุฃูุงุฆู <i>index.js</i> / <i>style.scss ุงูููุชูุญุฉ</i> .  ููููู ุญู ูุฐุง ุจุงุณุชุฎุฏุงู ุงูุฅุถุงูุงุช IDE ุ ูููู ููุงุฐุง ูุง ุจุทุฑููุฉ ุนุงูููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุณุฃููู ุจุชุฌููุน ุงูููููุงุช ูู ูู ุตูุญุฉ ุ ุจุงุณุชุซูุงุก ุงูุนูุงุตุฑ ุงูุนุงูุฉ ูุซู Message / Link ุ ููุฐูู ุ ุฅุฐุง ุฃููู ุ ุงุณุชุฎุฏู ุงูุตุงุฏุฑุงุช ุงููุณูุงุฉ (ุจุฏูู <code>export default</code> ) ููุญูุงุธ ุนูู ุชูุญูุฏ ุงูุฃุณูุงุก ูุณูููุฉ ุฅุนุงุฏุฉ ุงูุชุฌููุฒ ูุงูุจุญุซ ุนู ุงููุดุฑูุน. </p><br><h3 style=";text-align:right;direction:rtl">  ุชูููู ุชูุฏูู MobX ูุงูุชุฎุฒูู </h3><br><p style=";text-align:right;direction:rtl">  ุณูุจุฏู ุงูููู ุงูุฐู ููุซู ููุทุฉ ุงูุฏุฎูู ูู Webpack ููุง ููู: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">src / app.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'./polyfill'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'./styles/reset.scss'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'./styles/global.scss'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { initSentry, renderToDOM } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'utils'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { initAutorun } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./autorun'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { store } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'stores'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'components/App'</span></span>; initSentry(); initAutorun(store); renderToDOM(App);</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ููุฐ ุงูุนูู ูุน ุงูููุงุญุธุงุช ุ ุชุนุฑุถ ูุญุฏุฉ ุงูุชุญูู ุดูุฆูุง ูุซู <code>Proxy {0: "btc", 1: "eth", 2: "usd", 3: "test", Symbol(mobx administration): ObservableArrayAdministration}</code> ุ ูู polyfills ุณุฃูุฏู ุฃุฏุงุฉ ุชูุญูุฏ: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">src / polyfill.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { toJS } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mobx'</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.js = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">consoleJsCustom</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...args</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(...args.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">arg</span></span></span><span class="hljs-function"> =&gt;</span></span> toJS(arg))); };</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ุฃูุถูุง ุ ูุชู ุฑุจุท ุงูุฃููุงุท ุงูุนุงูุฉ ูุชุทุจูุน ุงูุฃููุงุท ููุชุตูุญุงุช ูุฎุชููุฉ ูู ุงูููู ุงูุฑุฆูุณู ุ ุฅุฐุง ูุงู ููุงู ููุชุงุญ ูู Sentry ูู ุฃุฎุทุงุก .env.frontend ุชุจุฏุฃ ูู ุงูุชุณุฌูู ุ ูุชู ุฅูุดุงุก ุชุฎุฒูู MobX ุ ูุชู ุจุฏุก ุชุนูุจ ุชุบููุฑุงุช ุงููุนููุงุช ูุน ุงูุชุดุบูู ุงูุชููุงุฆู ููุชู ุชุซุจูุช ุงููููู ุงููููู ูู <i>ูุญูู ุฑุฏ ุงููุนู ุงูุณุงุฎู</i> ูู DOM. </p><br><p style=";text-align:right;direction:rtl">  ุณูููู ุงููุณุชูุฏุน ููุณู ูุฆุฉ ุบูุฑ ูุงุจูุฉ ููููุงุญุธุฉ ูุชููู ูุนููุงุชูุง ุนุจุงุฑุฉ ุนู ูุตูู ุบูุฑ ูุงุจูุฉ ููููุงุญุธุฉ ุฐุงุช ูุนููุงุช ูููู ููุงุญุธุชูุง.  ูุจุงูุชุงูู ุ ูู ุงูููููู ุฃู ูุฌููุนุฉ ุงููุนููุงุช ูู ุชููู ุฏููุงููููุฉ - ูุจุงูุชุงูู ุ ุณูููู ุงูุชุทุจูู ุฃูุซุฑ ูุงุจููุฉ ููุชูุจุค.  ูุฐุง ูู ูุงุญุฏ ูู ุงูุฃูุงูู ุงูููููุฉ ุงูุชู ูููู JSDoc ูู ูุชูุงูู ุงููุฏ ูุชูููู ุงูุฅููุงู ุงูุชููุงุฆู ูู IDE. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">src / ูุฎุงุฒู / RootStore.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { I18nStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./I18nStore'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { RatesStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./RatesStore'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { GlobalStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./GlobalStore'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { RouterStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./RouterStore'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { CurrentTPStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./CurrentTPStore'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { MarketsListStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./MarketsListStore'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * @name RootStore */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RootStore</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.i18n = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> I18nStore(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rates = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RatesStore(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.global = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GlobalStore(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.router = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RouterStore(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentTP = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CurrentTPStore(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.marketsList = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MarketsListStore(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ูููู ุชุญููู ูุซุงู ุนูู ูุชุฌุฑ MobX ุจุงุณุชุฎุฏุงู ูุซุงู GlobalStore ุ ูุงูุฐู ุณูููู ูู ุงูุบุฑุถ ุงููุญูุฏ ูู ุงูููุช ุงูุญุงูู - ูุชุฎุฒูู ูุชุนููู ุณูุฉ ุงูููุท ุงูุญุงูู. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">src / ูุฎุงุฒู / GlobalStore.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { makeObservable, setTheme } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'utils'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> themes <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'styles/themes.scss'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> themesList = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(themes); @makeObservable <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GlobalStore</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * @param rootStore {RootStore} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(rootStore) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rootStore = rootStore; setTheme(themesList[<span class="hljs-number"><span class="hljs-number">0</span></span>]); } themesList = themesList; currentTheme = <span class="hljs-string"><span class="hljs-string">''</span></span>; setTheme(theme) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentTheme = theme; setTheme(theme); } }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ูู ุจุนุถ ุงูุฃุญูุงู ุชููู ูุนููุงุช ุงููุตู ูุทุฑููุฉ ุชุนูููู ูุฏูููุง ุจุงููุชุงุจุฉ ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช ุงูุฏูููุฑ ุ ุนูู ุณุจูู ุงููุซุงู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GlobalStore</span></span></span><span class="hljs-class"> </span></span>{ @observable currentTheme = <span class="hljs-string"><span class="hljs-string">''</span></span>; @action.bound setTheme(theme) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentTheme = theme; setTheme(theme); } }</code> </pre><br><p style=";text-align:right;direction:rtl">  ููููู ูุง ุฃุฑู ุฃู ููุทุฉ ูู ูุฐุง ุ ูุฃู ูุตููู ูุตูู Proposal ุงููุฏููุฉ ูุฏุนููู ุนูููุฉ ุงูุชุญููู ุงูุชููุงุฆู ุ ูุจุงูุชุงูู ูุฅู ุงูุฃุฏุงุฉ ุงูุชุงููุฉ ูุงููุฉ: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">src / utils / makeObservable.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { action, computed, decorate, observable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mobx'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">makeObservable</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">target</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *   -   this +    *     * *   -   computed * */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> classPrototype = target.prototype; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> methodsAndGetters = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyNames(classPrototype).filter( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">methodName</span></span></span><span class="hljs-function"> =&gt;</span></span> methodName !== <span class="hljs-string"><span class="hljs-string">'constructor'</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> methodName <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> methodsAndGetters) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> descriptor = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptor( classPrototype, methodName ); descriptor.value = decorate(classPrototype, { [methodName]: <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> descriptor.value === <span class="hljs-string"><span class="hljs-string">'function'</span></span> ? action.bound : computed, }); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...constructorArguments</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-comment"><span class="hljs-comment">/** * ,   rootStore,   * observable * */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> target(...constructorArguments); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> staticProperties = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(store); staticProperties.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">propName</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (propName === <span class="hljs-string"><span class="hljs-string">'rootStore'</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> descriptor = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptor(store, propName); <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty( store, propName, observable(store, propName, descriptor) ); }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> store; }; }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ูุงุณุชุฎุฏุงููุง ุ ุชุญุชุงุฌ ุฅูู ุถุจุท ุงูููููุงุช ุงูุฅุถุงููุฉ ูู <i>loaderBabel.js</i> : <code>['@babel/plugin-proposal-decorators', { legacy: true }], ['@babel/plugin-proposal-class-properties', { loose: true }]</code> <i>plugin-ุงูููุชุฑุญ-</i> <code>['@babel/plugin-proposal-decorators', { legacy: true }], ['@babel/plugin-proposal-class-properties', { loose: true }]</code> ุ ููู ุฅุนุฏุงุฏุงุช ESLint ุ ูู ุจุชุนููู <code>parserOptions.ecmaFeatures.legacyDecorators: true</code> ููููุง ูุฐูู.  ุจุฏูู ูุฐู ุงูุฅุนุฏุงุฏุงุช ุ ูุชู ุชูุฑูุฑ ูุงุตู ุงููุฆุฉ ููุท ุจุฏูู ูููุฐุฌ ุฃููู ุฅูู ุงูุฏูููุฑ ุงููุณุชูุฏู ุ ูุนูู ุงูุฑุบู ูู ุงูุจุญุซ ุงูุฏููู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฅุตุฏุงุฑ ุงูุญุงูู ูู Proposal</a> ุ ูู ุฃุฌุฏ ุทุฑููุฉ ููุงูุชูุงู ุนูู ุงูุฃุณุงููุจ ูุงูุฎุตุงุฆุต ุงูุซุงุจุชุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุจุดูู ุนุงู ุ ุงูุชูู ุฅุนุฏุงุฏ ุงูุชุฎุฒูู ุ ูููู ุณูููู ูู ุงูุฌูุฏ ุฅุทูุงู ุฅููุงูุงุช ุงูุชุดุบูู ุงูุชููุงุฆู ูู MobX.  ููููุงู ุจุฐูู ุ ูุฅู ุงูููุงู ูุซู "ุงูุชุธุงุฑ ุงุณุชุฌุงุจุฉ ูู ุฎุงุฏู ุงูุชุฎููู" ุฃู "ุชูุฒูู ุงูุชุฑุฌูุงุช ูู ุงูุฎุงุฏู" ุ ุซู ูุชุงุจุฉ ุงูุฑุฏูุฏ ุนูู ุงูุฎุงุฏู ูุชูุฏูู ุงูุชุทุจูู ูุจุงุดุฑุฉ ูู DOM ุ ูู ุงูุฃูุณุจ.  ูุฐูู ุ ุณุฃุนูู ููููุงู ูู ุงููุณุชูุจู ูุฃูุดุฆ ูุชุฌุฑูุง ูุน ุงูุชุฑุฌูุฉ: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">src / store / I18nStore.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { makeObservable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'utils'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ru <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'localization/ru.json'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> en <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'localization/en.json'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> languages = { ru, en, }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> languagesList = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(languages); @makeObservable <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">I18nStore</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * @param rootStore {RootStore} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(rootStore) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rootStore = rootStore; setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setLocalization(<span class="hljs-string"><span class="hljs-string">'ru'</span></span>); }, <span class="hljs-number"><span class="hljs-number">500</span></span>); } i18n = {}; languagesList = languagesList; currentLanguage = <span class="hljs-string"><span class="hljs-string">''</span></span>; setLocalization(language) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentLanguage = language; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.i18n = languages[language]; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rootStore.global.shouldAppRender = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑูู ุ ููุงู ุจุนุถ ูููุงุช <i>* .json</i> ูุน ุชุฑุฌูุงุช ุ ููุชู ูุญุงูุงุฉ ุงูุชุญููู ุบูุฑ ุงููุชุฒุงูู ุจุงุณุชุฎุฏุงู setTimeout ูู ูููุดุฆ ุงููุตู ุงูุฏุฑุงุณู.  ุนูุฏ ุชูููุฐู ุ ูุชู ูุถุน ุนูุงูุฉ ุนูู GlobalStore ุงูุชู ุชู ุฅูุดุงุคูุง ูุคุฎุฑูุง ุจุงุณุชุฎุฏุงู <code>this.rootStore.global.shouldAppRender = true</code> . </p><br><p style=";text-align:right;direction:rtl">  ูุจุงูุชุงูู ุ ูู <i>app.js ุ</i> ุชุญุชุงุฌ ุฅูู ููู ูุธููุฉ ุงูุชูุฏูู ุฅูู ููู <i>autorun.js</i> : </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">src / autorun.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/* eslint-disable no-unused-vars */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { autorun } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mobx'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { renderToDOM } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'utils'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> App <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'components/App'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> loggingEnabled = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">logReason</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">autorunName, reaction</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!loggingEnabled || reaction.observing.length === <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> logString = reaction.observing.reduce( <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">str, { name, value }</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${str}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${name}</span></span></span><span class="hljs-string"> changed to </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${value}</span></span></span><span class="hljs-string">; `</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> ); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`autorun-</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${autorunName}</span></span></span><span class="hljs-string">`</span></span>, logString); } <span class="hljs-comment"><span class="hljs-comment">/** * @param store {RootStore} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initAutorun</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">store</span></span></span><span class="hljs-function">) </span></span>{ autorun(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">reaction</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (store.global.shouldAppRender) { renderToDOM(App); } logReason(<span class="hljs-string"><span class="hljs-string">'shouldAppRender'</span></span>, reaction); }); }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ูููู ุฃู ุชุญุชูู ูุธููุฉ <i>initAutorun</i> ุนูู ุฃู ุนุฏุฏ ูู ุฅูุดุงุกุงุช <i>ุงูุชุดุบูู ุงูุชููุงุฆู</i> ูุน ุนูููุงุช ุงูุงุณุชุฑุฌุงุนุงุช ุงูุชู ูู ุชุนูู ุฅูุง ุฅุฐุง ูุงูุช ูุฏ ุจุฏุฃุช ุจููุณูุง ูุชุบููุฑ ูุชุบูุฑ ุฏุงุฎู ุฑุฏ ุงุชุตุงู ูุนูู.  ูู ูุฐู ุงูุญุงูุฉ ุ <code>autorun-shouldAppRender GlobalStore@3.shouldAppRender changed to true;</code>  ูุชุณุจุจ ุชูุฏูู ุงูุชุทุจูู ูู DOM.  ุฃุฏุงุฉ ูููุฉ ุชุชูุญ ูู ุชุณุฌูู ุฌููุน ุงูุชุบููุฑุงุช ูู ุงููุชุฌุฑ ูุงูุฑุฏ ุนูููุง ููููุง ูุฐูู. </p><br><h3 style=";text-align:right;direction:rtl">  ุชูุทูู ูุฑุฏ ูุนู ุงูุณูุงููุฑ </h3><br><p style=";text-align:right;direction:rtl">  ุชุนุชุจุฑ ุงูุชุฑุฌูุฉ ุฅูู ุงููุบุงุช ุงูุฃุฎุฑู ูุงุญุฏุฉ ูู ุฃูุซุฑ ุงูููุงู ุงูุถุฎูุฉ ุ ููู ูุซูุฑ ูู ุงูุฃุญูุงู ูุชู ุงูุงุณุชูุงูุฉ ุจูุง ูู ุงููุฑุงุช ุงูุตุบูุฑุฉ ุ ููู ุงูุดุฑูุงุช ุงููุจูุฑุฉ ูุชู ุงูุชุนููุฏ ุจุดูู ุบูุฑ ุถุฑูุฑู.  ูุนุชูุฏ ุนูู ุชูููุฐู ุ ูู ูู ุงูุฃุนุตุงุจ ูุงูููุช ูู ุชุถูุน ูู ููุช ูุงุญุฏ ูู ุงูุนุฏูุฏ ูู ุงูุฅุฏุงุฑุงุช ูู ุงูุดุฑูุฉ.  ุณุฃุฐูุฑ ูู ุงูููุงู ููุท ุงูุฌุฒุก ุงูุฎุงุต ุจุงูุนููู ูุน ุชุฑุงูู ููุชูุงูู ูู ุงููุณุชูุจู ูุน ุงูุฃูุธูุฉ ุงูุฃุฎุฑู. </p><br><p style=";text-align:right;direction:rtl">  ูู ุฃุฌู ุฑุงุญุฉ ุชุทููุฑ ุงููุงุฌูุฉ ุงูุฃูุงููุฉ ุ ูุฌุจ ุฃู ุชููู ูุงุฏุฑูุง ุนูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชุนููู ุงูุฃุณูุงุก ุงูุฏูุงููุฉ ููุซูุงุจุช. </li><li style=";text-align:right;direction:rtl">  ุฅุฏุฑุงุฌ ุงููุชุบูุฑุงุช ุงูุฏููุงููููุฉ </li><li style=";text-align:right;direction:rtl">  ุชุดูุฑ ุฅูู ุตูุบุฉ ุงูููุฑุฏ / ุงูุฌูุน ุ </li><li style=";text-align:right;direction:rtl">      โ   -; </li><li style=";text-align:right;direction:rtl">         ; </li><li style=";text-align:right;direction:rtl">       /  ; </li><li style=";text-align:right;direction:rtl">  ; </li><li style=";text-align:right;direction:rtl"> ()   ; </li><li style=";text-align:right;direction:rtl"> ()         ,         . </li></ul><br><p style=";text-align:right;direction:rtl">    ,  ,  :         <i>messages.js</i>      (      )      .         .             (     / ),    .    ( , , )  .   . </p><br><p style=";text-align:right;direction:rtl">       ,    <i>currentLanguage</i>   <i>i18n</i>    ,   ,     . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/components/TestLocalization.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'utils'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { useLocalization } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'hooks'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> messages = { <span class="hljs-attr"><span class="hljs-attr">hello</span></span>: <span class="hljs-string"><span class="hljs-string">'  {count} {count: ,,}'</span></span>, }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TestLocalization</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getLn = useLocalization(__filename, messages); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{getLn(messages.hello, { count: 1 })}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> TestLocalizationConnected = observer(TestLocalization);</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">        ,       MobX-     ,  , Connected. ,       ESLint,       . </p><br><p style=";text-align:right;direction:rtl">  observer     <code>mobx-react-lite/useObserver</code> ,    <i>HOT_RELOAD</i>      <i>React.memo</i> (  <i>PureMixin</i> / <i>PureComponent</i> ),       <i>useObserver</i>   : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/utils/observer.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { useObserver } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'mobx-react-lite'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">copyStaticProperties</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">base, target</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> hoistBlackList = { <span class="hljs-attr"><span class="hljs-attr">$$typeof</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">compare</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }; <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(base).forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">key</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (base.hasOwnProperty(key) &amp;&amp; !hoistBlackList[key]) { <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.defineProperty( target, key, <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.getOwnPropertyDescriptor(base, key) ); } }); } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">observer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">baseComponent, options</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> baseComponentName = baseComponent.displayName || baseComponent.name; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">wrappedComponent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props, ref</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> useObserver(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">applyObserver</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> baseComponent(props, ref); }, baseComponentName); } wrappedComponent.displayName = baseComponentName; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> memoComponent = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (HOT_RELOAD === <span class="hljs-string"><span class="hljs-string">'true'</span></span>) { memoComponent = wrappedComponent; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (options.forwardRef) { memoComponent = React.memo(React.forwardRef(wrappedComponent)); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { memoComponent = React.memo(wrappedComponent); } copyStaticProperties(baseComponent, memoComponent); memoComponent.displayName = baseComponentName; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> memoComponent; }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">     <code>displayName</code>   ,   React-     ( stack trace   ). </p><br><p style=";text-align:right;direction:rtl">      RootStore: </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/hooks/useStore.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { store } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'stores'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> storeContext = React.createContext(store); <span class="hljs-comment"><span class="hljs-comment">/** * @returns {RootStore} * */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">useStore</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> React.useContext(storeContext); }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">       ,   observer: </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'utils'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { useStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'hooks'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TestComponent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = useStore(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{store.i18n.currentLanguage}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> TestComponentConnected = observer(TestComponent);</code> </pre><br><p style=";text-align:right;direction:rtl">      TestLocalization โ     useLocalization: </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/hooks/useLocalization.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { declOfNum } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'utils'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { useStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./useStore'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> showNoTextMessage = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">replaceDynamicParams</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">values, formattedMessage</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_.isPlainObject(values)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> formattedMessage; } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> messageWithValues = formattedMessage; <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.entries(values).forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[paramName, value]</span></span></span><span class="hljs-function">) =&gt;</span></span> { messageWithValues = formattedMessage.replace(<span class="hljs-string"><span class="hljs-string">`{</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${paramName}</span></span></span><span class="hljs-string">}`</span></span>, value); }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> messageWithValues; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">replacePlurals</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">values, formattedMessage</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_.isPlainObject(values)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> formattedMessage; } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> messageWithPlurals = formattedMessage; <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.entries(values).forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[paramName, value]</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pluralPattern = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">RegExp</span></span>(<span class="hljs-string"><span class="hljs-string">`{</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${paramName}</span></span></span><span class="hljs-string">:\\s([^}]*)}`</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pluralMatch = formattedMessage.match(pluralPattern); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pluralMatch &amp;&amp; pluralMatch[<span class="hljs-number"><span class="hljs-number">1</span></span>]) { messageWithPlurals = formattedMessage.replace( pluralPattern, declOfNum(value, pluralMatch[<span class="hljs-number"><span class="hljs-number">1</span></span>].split(<span class="hljs-string"><span class="hljs-string">','</span></span>)) ); } }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> messageWithPlurals; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">useLocalization</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">filename, messages</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { <span class="hljs-attr"><span class="hljs-attr">i18n</span></span>: { i18n, currentLanguage }, } = useStore(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getLn</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">text, values</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> key = _.findKey(messages, message =&gt; message === text); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> localizedText = _.get(i18n, [filename, key]); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!localizedText &amp;&amp; showNoTextMessage) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error( <span class="hljs-string"><span class="hljs-string">`useLocalization: no localization for lang '</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${currentLanguage}</span></span></span><span class="hljs-string">' in </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${filename}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${key}</span></span></span><span class="hljs-string">`</span></span> ); } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> formattedMessage = localizedText || text; formattedMessage = replaceDynamicParams(values, formattedMessage); formattedMessage = replacePlurals(values, formattedMessage); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> formattedMessage; }; }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  <i>replaceDynamicParams</i>  <i>replacePlurals</i>     โ            , ,    , ,  ,      .. </p><br><p style=";text-align:right;direction:rtl">         Webpack โ <i>__filename</i> โ    ,   ,       .         ,       โ        ,       ,     .     ,     : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">useLocalization: no localization <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> lang <span class="hljs-string"><span class="hljs-string">'ru'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> src\components\TestLocalization\TestLocalization.js hello</code> </pre><br><p style=";text-align:right;direction:rtl">         <i>ru.json</i> : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/localization/ru.json</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"src\\components\\TestLocalization\\TestLocalization.js"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"hello"</span></span>: <span class="hljs-string"><span class="hljs-string">"  {count} {count: ,,}"</span></span> } }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">   ,   .      <i>src/localization/en.json</i>       ยซ ยป    <i>setLocalization</i>  I18nStore. </p><br><p style=";text-align:right;direction:rtl">    ยซยป   React  Message: </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/components/Message/Message.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'utils'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { useLocalization } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'hooks'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Message</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { filename, messages, text, values } = props; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getLn = useLocalization(filename, messages); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> getLn(text, values); } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ConnectedMessage = observer(Message); <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">filename, messages</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MessageHoc</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fullProps = { filename, messages, ...props }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">ConnectedMessage</span></span></span></span><span class="xml"><span class="hljs-tag"> {</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">...fullProps</span></span></span></span><span class="xml"><span class="hljs-tag">} /&gt;</span></span></span><span class="xml">; }; }</span></span></code> </pre></div></div><br><p style=";text-align:right;direction:rtl">        __filename (    id     ),       ,   : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Message = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'components/Message'</span></span>).init( __filename, messages ); <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Message</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">text</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{messages.hello}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">values</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{{</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">count:</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag"> }} /&gt;</span></span></span></span></code> </pre><br><p style=";text-align:right;direction:rtl">   โ      <i>useLocalization</i>       (      <i>currentLanguage</i> ,     Message โ   .    ,          ,      . </p><br><p style=";text-align:right;direction:rtl">     ,           (    ,       ,      ,  /              production).       id      ,          <i>messages.js</i>   <i>*.json</i>     ,    .               (      / ),      production.       ,    ,   . </p><br><p style=";text-align:right;direction:rtl">     MobX + Hooks    .     ,   backend,    ,    ,   . </p><br><h3 style=";text-align:right;direction:rtl">   API </h3><br><p style=";text-align:right;direction:rtl">         ( backend,      ) โ   ,   ,     .        ,      .     : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/stores/CurrentTPStore.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { makeObservable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'utils'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { apiRoutes, request } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'api'</span></span>; @makeObservable <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CurrentTPStore</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * @param rootStore {RootStore} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(rootStore) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rootStore = rootStore; } id = <span class="hljs-string"><span class="hljs-string">''</span></span>; symbol = <span class="hljs-string"><span class="hljs-string">''</span></span>; fullName = <span class="hljs-string"><span class="hljs-string">''</span></span>; currency = <span class="hljs-string"><span class="hljs-string">''</span></span>; tradedCurrency = <span class="hljs-string"><span class="hljs-string">''</span></span>; low24h = <span class="hljs-number"><span class="hljs-number">0</span></span>; high24h = <span class="hljs-number"><span class="hljs-number">0</span></span>; lastPrice = <span class="hljs-number"><span class="hljs-number">0</span></span>; marketCap = <span class="hljs-number"><span class="hljs-number">0</span></span>; change24h = <span class="hljs-number"><span class="hljs-number">0</span></span>; change24hPercentage = <span class="hljs-number"><span class="hljs-number">0</span></span>; fetchSymbol(params) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { tradedCurrency, id } = params; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { marketsList } = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rootStore; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> requestParams = { id, <span class="hljs-attr"><span class="hljs-attr">localization</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">community_data</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">developer_data</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">tickers</span></span>: <span class="hljs-literal"><span class="hljs-literal">false</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> request(apiRoutes.symbolInfo, requestParams) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fetchSymbolSuccess(data, tradedCurrency)) .catch(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fetchSymbolError); } fetchSymbolSuccess(data, tradedCurrency) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { id, symbol, name, <span class="hljs-attr"><span class="hljs-attr">market_data</span></span>: { high_24h, low_24h, price_change_24h_in_currency, price_change_percentage_24h_in_currency, market_cap, current_price, }, } = data; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id = id; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.symbol = symbol; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fullName = name; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currency = symbol; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.tradedCurrency = tradedCurrency; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lastPrice = current_price[tradedCurrency]; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.high24h = high_24h[tradedCurrency]; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.low24h = low_24h[tradedCurrency]; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.change24h = price_change_24h_in_currency[tradedCurrency]; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.change24hPercentage = price_change_percentage_24h_in_currency[tradedCurrency]; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.marketCap = market_cap[tradedCurrency]; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.resolve(); } fetchSymbolError(error) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(error); } }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ,  ,      .      <i>fetchSymbol</i> ,    id    ,    .     ,   โ        (       <code>@action.bound</code> ),       Sentry     : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/utils/initSentry.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> Sentry <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@sentry/browser'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initSentry</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (SENTRY_URL !== <span class="hljs-string"><span class="hljs-string">'false'</span></span>) { Sentry.init({ <span class="hljs-attr"><span class="hljs-attr">dsn</span></span>: SENTRY_URL, }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> originalErrorLogger = <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">consoleErrorCustom</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...args</span></span></span><span class="hljs-function">) </span></span>{ Sentry.captureException(...args); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> originalErrorLogger(...args); }; } }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">    ,        : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/api/_api.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { omitParam, validateRequestParams, makeRequestUrl, makeRequest, validateResponse, } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'api/utils'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">request</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">route, params</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.resolve() .then(validateRequestParams(route, params)) .then(makeRequestUrl(route, params)) .then(makeRequest) .then(validateResponse(route, params)); } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> apiRoutes = { <span class="hljs-attr"><span class="hljs-attr">symbolInfo</span></span>: { <span class="hljs-attr"><span class="hljs-attr">url</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">params</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-string"><span class="hljs-string">`https://api.coingecko.com/api/v3/coins/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${params.id}</span></span></span><span class="hljs-string">`</span></span>, <span class="hljs-attr"><span class="hljs-attr">params</span></span>: { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: omitParam, <span class="hljs-attr"><span class="hljs-attr">localization</span></span>: _.isBoolean, <span class="hljs-attr"><span class="hljs-attr">community_data</span></span>: _.isBoolean, <span class="hljs-attr"><span class="hljs-attr">developer_data</span></span>: _.isBoolean, <span class="hljs-attr"><span class="hljs-attr">tickers</span></span>: _.isBoolean, }, <span class="hljs-attr"><span class="hljs-attr">responseObject</span></span>: { <span class="hljs-attr"><span class="hljs-attr">id</span></span>: _.isString, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: _.isString, <span class="hljs-attr"><span class="hljs-attr">symbol</span></span>: _.isString, <span class="hljs-attr"><span class="hljs-attr">genesis_date</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">v</span></span></span><span class="hljs-function"> =&gt;</span></span> _.isString(v) || _.isNil(v), <span class="hljs-attr"><span class="hljs-attr">last_updated</span></span>: _.isString, <span class="hljs-attr"><span class="hljs-attr">country_origin</span></span>: _.isString, <span class="hljs-attr"><span class="hljs-attr">coingecko_rank</span></span>: _.isNumber, <span class="hljs-attr"><span class="hljs-attr">coingecko_score</span></span>: _.isNumber, <span class="hljs-attr"><span class="hljs-attr">community_score</span></span>: _.isNumber, <span class="hljs-attr"><span class="hljs-attr">developer_score</span></span>: _.isNumber, <span class="hljs-attr"><span class="hljs-attr">liquidity_score</span></span>: _.isNumber, <span class="hljs-attr"><span class="hljs-attr">market_cap_rank</span></span>: _.isNumber, <span class="hljs-attr"><span class="hljs-attr">block_time_in_minutes</span></span>: _.isNumber, <span class="hljs-attr"><span class="hljs-attr">public_interest_score</span></span>: _.isNumber, <span class="hljs-attr"><span class="hljs-attr">image</span></span>: _.isPlainObject, <span class="hljs-attr"><span class="hljs-attr">links</span></span>: _.isPlainObject, <span class="hljs-attr"><span class="hljs-attr">description</span></span>: _.isPlainObject, <span class="hljs-attr"><span class="hljs-attr">market_data</span></span>: _.isPlainObject, localization(value, requestParams) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (requestParams.localization === <span class="hljs-literal"><span class="hljs-literal">false</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.isPlainObject(value); }, community_data(value, requestParams) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (requestParams.community_data === <span class="hljs-literal"><span class="hljs-literal">false</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.isPlainObject(value); }, developer_data(value, requestParams) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (requestParams.developer_data === <span class="hljs-literal"><span class="hljs-literal">false</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.isPlainObject(value); }, <span class="hljs-attr"><span class="hljs-attr">public_interest_stats</span></span>: _.isPlainObject, tickers(value, requestParams) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (requestParams.tickers === <span class="hljs-literal"><span class="hljs-literal">false</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.isArray(value); }, <span class="hljs-attr"><span class="hljs-attr">categories</span></span>: _.isArray, <span class="hljs-attr"><span class="hljs-attr">status_updates</span></span>: _.isArray, }, }, };</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">    request : </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">    apiRoutes    ; </li><li style=";text-align:right;direction:rtl">     ,   route.params,     ,    <i>omitParam</i> ; </li><li style=";text-align:right;direction:rtl">   URL    <code>route.url</code> โ   ,      ,   โ    get-  URL; </li><li style=";text-align:right;direction:rtl">     fetch,     JSON; </li><li style=";text-align:right;direction:rtl">     ,   <code>route.responseObject</code>  <code>route.responseArray</code> (     ).       ,   โ   ,     ; </li><li style=";text-align:right;direction:rtl">      /  /   /       ,      (   <i>fetchSymbolError</i> )  . </li></ol><br><p style=";text-align:right;direction:rtl">               . ,     Sentry,         response: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/mk/7y/8s/mk7y8sh2cushkehhykrrufsvkre.png"></p><br><p style=";text-align:right;direction:rtl">        โ            (       ),    . </p><br><h3 style=";text-align:right;direction:rtl">    </h3><br><p style=";text-align:right;direction:rtl">    ,       ,        . ,    : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">          ; </li><li style=";text-align:right;direction:rtl">    pathname  search; </li><li style=";text-align:right;direction:rtl">      / ; </li><li style=";text-align:right;direction:rtl">   location     ; </li><li style=";text-align:right;direction:rtl">      beforeEnter,      isLoading,   ; </li><li style=";text-align:right;direction:rtl">      :   ,    ,   ,   beforeEnter,     ; </li><li style=";text-align:right;direction:rtl">     /   ; </li><li style=";text-align:right;direction:rtl">   /        ; </li><li style=";text-align:right;direction:rtl">     . </li></ul><br><p style=";text-align:right;direction:rtl">     ยซยป,            -,     โ     .       : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/routes.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> routes = { <span class="hljs-attr"><span class="hljs-attr">marketDetailed</span></span>: { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'marketDetailed'</span></span>, <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'/market/:market/:pair'</span></span>, <span class="hljs-attr"><span class="hljs-attr">masks</span></span>: { <span class="hljs-attr"><span class="hljs-attr">pair</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/^[a-zA-Z]{3,5}-[a-zA-Z]{3}$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">market</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/^[a-zA-Z]{3,4}$/</span></span>, }, beforeEnter(route, store) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { <span class="hljs-attr"><span class="hljs-attr">params</span></span>: { pair, market }, } = route; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> [symbol, tradedCurrency] = pair.split(<span class="hljs-string"><span class="hljs-string">'-'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> prevMarket = store.marketsList.currentMarket; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">optimisticallyUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ store.marketsList.currentMarket = market; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.resolve() .then(optimisticallyUpdate) .then(store.marketsList.fetchSymbolsList) .then(store.rates.fetchRates) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> store.marketsList.fetchMarketList(market, prevMarket)) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> store.currentTP.fetchSymbol({ symbol, tradedCurrency, }) ) .catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(error); }); }, }, <span class="hljs-attr"><span class="hljs-attr">error404</span></span>: { <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'error404'</span></span>, <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'/error404'</span></span>, }, };</code> </pre></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/routeComponents.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { MarketDetailed } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'pages/MarketDetailed'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Error404 } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'pages/Error404'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> routeComponents = { <span class="hljs-attr"><span class="hljs-attr">marketDetailed</span></span>: MarketDetailed, <span class="hljs-attr"><span class="hljs-attr">error404</span></span>: Error404, };</code> </pre></div></div><br><p style=";text-align:right;direction:rtl"> ,  ,          โ         <code>&lt;Link route={routes.marketDetailed}&gt;</code> ,    . Webpack       ,      . </p><br><p style=";text-align:right;direction:rtl">   ,    location      . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/stores/RouterStore.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { makeObservable } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'utils'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { routes } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'routes'</span></span>; @makeObservable <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RouterStore</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * @param rootStore {RootStore} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(rootStore) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rootStore = rootStore; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentRoute = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._fillRouteSchemaFromUrl(); <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">'popstate'</span></span>, () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentRoute = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._fillRouteSchemaFromUrl(); }); } currentRoute = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; _fillRouteSchemaFromUrl() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pathnameArray = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.location.pathname.split(<span class="hljs-string"><span class="hljs-string">'/'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> routeName = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._getRouteNameMatchingUrl(pathnameArray); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!routeName) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> currentRoute = routes.error404; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.history.pushState(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, currentRoute.path); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> currentRoute; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> route = routes[routeName]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> routePathnameArray = route.path.split(<span class="hljs-string"><span class="hljs-string">'/'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> params = {}; routePathnameArray.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pathParam, i</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> urlParam = pathnameArray[i]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pathParam.indexOf(<span class="hljs-string"><span class="hljs-string">':'</span></span>) === <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> paramName = pathParam.replace(<span class="hljs-string"><span class="hljs-string">':'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>); params[paramName] = urlParam; } }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.assign({}, route, { params, <span class="hljs-attr"><span class="hljs-attr">isLoading</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); } _getRouteNameMatchingUrl(pathnameArray) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.findKey(routes, route =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> routePathnameArray = route.path.split(<span class="hljs-string"><span class="hljs-string">'/'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (routePathnameArray.length !== pathnameArray.length) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; routePathnameArray.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> pathParam = routePathnameArray[i]; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> urlParam = pathnameArray[i]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pathParam.indexOf(<span class="hljs-string"><span class="hljs-string">':'</span></span>) !== <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pathParam !== urlParam) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> paramName = pathParam.replace(<span class="hljs-string"><span class="hljs-string">':'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> paramMask = _.get(route.masks, paramName); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (paramMask &amp;&amp; !paramMask.test(urlParam)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }); } replaceDynamicParams(route, params) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.entries(params).reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">pathname, [paramName, value]</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> pathname.replace(<span class="hljs-string"><span class="hljs-string">`:</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${paramName}</span></span></span><span class="hljs-string">`</span></span>, value); }, route.path); } goTo(route, params) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (route.name === <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentRoute.name) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (_.isEqual(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentRoute.params, params)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentRoute.isLoading = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentRoute.params = params; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newPathname = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.replaceDynamicParams(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentRoute, params); <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.history.pushState(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, newPathname); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> newPathname = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.replaceDynamicParams(route, params); <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.history.pushState(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, newPathname); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.currentRoute = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._fillRouteSchemaFromUrl(); } }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">     โ         <i>routes.js</i>       .          โ       404. ,       ยซ          ยป,     ,      ,   โ ,        'test-test'. </p><br><p style=";text-align:right;direction:rtl">   <i>currentRoute</i>   ,   <i>params</i> (   URL)  <code>isLoading: true</code> .      React- Router: </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/components/Router.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { useStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'hooks'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'utils'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { routeComponents } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'routeComponents'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRouteComponent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">route, isLoading</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Component = routeComponents[route.name]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!Component) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error( <span class="hljs-string"><span class="hljs-string">`getRouteComponent: component for </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${ route.name }</span></span></span><span class="hljs-string"> is not defined in routeComponents`</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Component</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">isLoading</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{isLoading}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">; } function useBeforeEnter() { const store = useStore(); const { currentRoute } = store.router; React.useEffect(() =&gt; { if (currentRoute.isLoading) { const beforeEnter = _.get(currentRoute, 'beforeEnter'); if (_.isFunction(beforeEnter)) { Promise.resolve() .then(() =&gt; beforeEnter(currentRoute, store)) .then(() =&gt; { currentRoute.isLoading = false; }) .catch(error =&gt; console.error(error)); } else { currentRoute.isLoading = false; } } }); return currentRoute.isLoading; } function Router() { const { router: { currentRoute }, } = useStore(); const isLoading = useBeforeEnter(); return getRouteComponent(currentRoute, isLoading); } export const RouterConnected = observer(Router);</span></span></code> </pre></div></div><br><p style=";text-align:right;direction:rtl">    ,        ,     <code>currentRoute == null</code> .    โ      <code>isLoading === true</code> ,           false   ,    <code>route.beforeEnter</code> ( ).            <code>console.error</code> ,    ,     . </p><br><p style=";text-align:right;direction:rtl">  ,    โ     ,   .  React-  2 : </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">    componentWillMount / componentDidMount / useEffect  ,     ,   .        โ     ,          ยซยป.   โ       โ        ; </li><li style=";text-align:right;direction:rtl">    ( )        ,   .  โ      โ  ,          .   โ      /  โ   real-time   ,     /    . </li></ol><br><p style=";text-align:right;direction:rtl">       ,         โ      (  ,  ,            ..),         . </p><br><p style=";text-align:right;direction:rtl">        <i>beforeEnter</i> ,  : ยซ ยป,     ( , ,      ),    โ    (         โ    500 ;          ;   ,       ;        ..).   ยซยป     ,        MVP   . </p><br><p style=";text-align:right;direction:rtl">        : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/components/Link.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { useStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'hooks'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'utils'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkRouteParamsWithMasks</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">route, params</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (route.masks) { <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.entries(route.masks).forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[paramName, paramMask]</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> value = _.get(params, paramName); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (paramMask &amp;&amp; !paramMask.test(value)) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error( <span class="hljs-string"><span class="hljs-string">`checkRouteParamsWithMasks: wrong param for </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${paramName}</span></span></span><span class="hljs-string"> in Link to </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${ route.name }</span></span></span><span class="hljs-string">: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${value}</span></span></span><span class="hljs-string">`</span></span> ); } }); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Link</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">props</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = useStore(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { currentRoute } = store.router; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { route, params, children, onClick, ...otherProps } = props; checkRouteParamsWithMasks(route, params); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> filledPath = store.router.replaceDynamicParams(route, params); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{filledPath}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{e</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> { e.preventDefault(); if (currentRoute.isLoading) { return false; } store.router.goTo(route, params); if (onClick) { onClick(); } }} {...otherProps} &gt; {children} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> LinkConnected = observer(Link);</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">     <i>route</i> ,    <i>params</i> ( )     (        )   <i>href</i>  .  ,           <i>beforeEnter</i> ,    .      ยซ,  ยป,       ,           โ    . </p><br><h3 style=";text-align:right;direction:rtl">  ุงูููุงููุณ </h3><br><p style=";text-align:right;direction:rtl">  - (  ,   ,   ,   ,    )     .     .                 . </p><br><p style=";text-align:right;direction:rtl">     โ         ,   โ  ,       .        : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/api/utils/metrics.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> metricsArray = []; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> sendMetricsCallback = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">startMetrics</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">route, apiRoutes</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">promiseCallback</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ clearTimeout(sendMetricsCallback); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> apiRouteName = _.findKey(apiRoutes, route); metricsArray.push({ <span class="hljs-attr"><span class="hljs-attr">id</span></span>: apiRouteName, <span class="hljs-attr"><span class="hljs-attr">time</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>().getTime(), }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> data; }; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">stopMetrics</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">route, apiRoutes</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">promiseCallback</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> apiRouteName = _.findKey(apiRoutes, route); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> metricsData = _.find(metricsArray, [<span class="hljs-string"><span class="hljs-string">'id'</span></span>, apiRouteName]); metricsData.time = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>().getTime() - metricsData.time; clearTimeout(sendMetricsCallback); sendMetricsCallback = setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Metrics sent:'</span></span>, metricsArray); metricsArray = []; }, <span class="hljs-number"><span class="hljs-number">2000</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> data; }; }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">     middleware   <i>request</i> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">request</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">route, params</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.resolve() .then(startMetrics(route, apiRoutes)) .then(validateRequestParams(route, params)) .then(makeRequestUrl(route, params)) .then(makeRequest) .then(validateResponse(route, params)) .then(stopMetrics(route, apiRoutes)) .catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> =&gt;</span></span> { stopMetrics(route, apiRoutes)(); <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> error; }); }</code> </pre><br><p style=";text-align:right;direction:rtl">  ,   ,       2 ,       (    )  .        โ      ,       โ          ,     ( )     ,    . </p><br><p style=";text-align:right;direction:rtl">      -   โ   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>     . </p><br><h3 style=";text-align:right;direction:rtl">   </h3><br><p style=";text-align:right;direction:rtl">     end-to-end   ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a>    Cypress.       :  ;    ,     ;    Continious Integration. </p><br><p style=";text-align:right;direction:rtl">             javascript    Chai / Sinon ,       .       ,      ,    โ ./tests,  <i>package.json</i>     โ <code>"dependencies": { "cypress": "3.2.0" }</code> </p><br><p style=";text-align:right;direction:rtl">            .          Webpack    : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">tests/cypress/plugins/index.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> webpack = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'../../../node_modules/@cypress/webpack-preprocessor'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> webpackConfig = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'../../../webpack-custom/webpack.config'</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">on</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> options = webpack.defaultOptions; options.webpackOptions.module = webpackConfig.module; options.webpackOptions.resolve = webpackConfig.resolve; on(<span class="hljs-string"><span class="hljs-string">'file:preprocessor'</span></span>, webpack(options)); };</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">           .    <i>module</i> (   )  <i>resolve</i> (          ).   ESLint      ( <i>describe</i> , <i>cy</i> )    <i>eslint-plugin-cypress</i> .    ,       : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">tests/cypress/integration/mixed.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">describe(<span class="hljs-string"><span class="hljs-string">'Market Listing good scenarios'</span></span>, () =&gt; { it(<span class="hljs-string"><span class="hljs-string">'Lots of mixed tests'</span></span>, () =&gt; { cy.visit(<span class="hljs-string"><span class="hljs-string">'/market/usd/bch-usd'</span></span>); cy.location(<span class="hljs-string"><span class="hljs-string">'pathname'</span></span>).should(<span class="hljs-string"><span class="hljs-string">'equal'</span></span>, <span class="hljs-string"><span class="hljs-string">'/market/usd/bch-usd'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//    ,       cy.wait('@symbolsList') .its('response.body') .should(data =&gt; { expect(data).to.be.an('array'); }); //    cy.wait('@rates'); cy.wait('@marketsList'); cy.wait('@symbolInfo'); cy.wait('@chartData'); //       cy.get('#marketTab-eth').click(); cy.location('pathname').should('equal', '/market/eth/bch-usd'); cy.wait('@rates'); cy.wait('@marketsList'); //    cy.contains(''); cy.get('#langSwitcher-en').click(); cy.contains('Markets list'); //    cy.get('body').should('have.class', 'light'); cy.get('#themeSwitcher-dark').click(); cy.get('body').should('have.class', 'dark'); }); });</span></span></code> </pre></div></div><br><p style=";text-align:right;direction:rtl">      Cypress    fetch,   ,      : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">tests/cypress/support/index.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { apiRoutes } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'api'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> polyfill = <span class="hljs-literal"><span class="hljs-literal">null</span></span>; before(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> polyfillUrl = <span class="hljs-string"><span class="hljs-string">'https://unpkg.com/unfetch/dist/unfetch.umd.js'</span></span>; cy.request(polyfillUrl).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">response</span></span></span><span class="hljs-function"> =&gt;</span></span> { polyfill = response.body; }); }); Cypress.on(<span class="hljs-string"><span class="hljs-string">'window:before:load'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">window</span></span> =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">delete</span></span> <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.fetch; <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.eval(polyfill); <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.fetch = <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.unfetch; }); before(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { cy.server(); cy.route(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${apiRoutes.symbolsList.url}</span></span></span><span class="hljs-string">**`</span></span>).as(<span class="hljs-string"><span class="hljs-string">'symbolsList'</span></span>); cy.route(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${apiRoutes.rates.url}</span></span></span><span class="hljs-string">**`</span></span>).as(<span class="hljs-string"><span class="hljs-string">'rates'</span></span>); cy.route(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${apiRoutes.marketsList.url}</span></span></span><span class="hljs-string">**`</span></span>).as(<span class="hljs-string"><span class="hljs-string">'marketsList'</span></span>); cy.route(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${apiRoutes.symbolInfo.url({ id: </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'bitcoin-cash'</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> }</span></span></span><span class="hljs-string">)}**`</span></span>).as( <span class="hljs-string"><span class="hljs-string">'symbolInfo'</span></span> ); cy.route(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${apiRoutes.chartData.url}</span></span></span><span class="hljs-string">**`</span></span>).as(<span class="hljs-string"><span class="hljs-string">'chartData'</span></span>); });</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ,       . </p><br><h3 style=";text-align:right;direction:rtl">  ,  ? </h3><br><p style=";text-align:right;direction:rtl"> ,      - .         ,      ,   -    / - / . </p><br><p style=";text-align:right;direction:rtl">    ,    ,          , - ,   -   ,       (real-time ,  serviceWorker,   CI,   ,       ,  -,  ,     ..). </p><br><p style=";text-align:right;direction:rtl">    ( Gzip)  : </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/p6/im/fk/p6imfkqh0-lf8zlr2apy_8zjqcm.png"></p><br><p style=";text-align:right;direction:rtl">     React Developer Tools   : </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/im/jn/_l/imjn_lzweyq7yijk7ohnlafcpgo.png"></p><br><p style=";text-align:right;direction:rtl">      React Hooks + MobX   ,   Redux. ,          .           ,  ,      ,          .       .   ! </p><br><p style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="> </a> </p><br><br><h3 style=";text-align:right;direction:rtl"> Update 13.07.2019 </h3><br><p style=";text-align:right;direction:rtl">       ,          ,   : </p><br><p style=";text-align:right;direction:rtl"> 1.  <i>yarn.lock</i>      ,    <code>yarn install --force</code> ,      <code>"upd": "yarn install &amp;&amp; yarn add file:./eslint-custom &amp;&amp; yarn add file:./webpack-custom"</code> .             ESLint  Webpack. </p><br><p style=";text-align:right;direction:rtl"> 2.     webpack-custom/config/configOptimization.js,   ,   </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">lodash: { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">module</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.context.indexOf(<span class="hljs-string"><span class="hljs-string">'node_modules\\lodash'</span></span>) !== <span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>, <span class="hljs-attr"><span class="hljs-attr">chunks</span></span>: <span class="hljs-string"><span class="hljs-string">'all'</span></span>, <span class="hljs-attr"><span class="hljs-attr">enforce</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }</code> </pre><br><p style=";text-align:right;direction:rtl">   </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">lodash: { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/node_modules[\\/]lodash/</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>, <span class="hljs-attr"><span class="hljs-attr">chunks</span></span>: <span class="hljs-string"><span class="hljs-string">'all'</span></span>, <span class="hljs-attr"><span class="hljs-attr">enforce</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, }</code> </pre><br><p style=";text-align:right;direction:rtl"> 3.          <code>useLocalization(__filename, messages)</code> ,  โ      </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> messages = { <span class="hljs-attr"><span class="hljs-attr">hello</span></span>: { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: <span class="hljs-string"><span class="hljs-string">'  {count} {count: ,,}'</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">"src/components/TestLocalization/TestLocalization.hello"</span></span>, } };</code> </pre><br><p style=";text-align:right;direction:rtl"> ,    </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> messagesDefault = { <span class="hljs-attr"><span class="hljs-attr">hello</span></span>: <span class="hljs-string"><span class="hljs-string">'  {count} {count: ,,}'</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> messages = <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.keys(messagesDefault).reduce(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">acc, key</span></span></span><span class="hljs-function">) =&gt;</span></span> { acc[key] = { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: messagesDefault[key], <span class="hljs-attr"><span class="hljs-attr">name</span></span>: __dirname.toLowerCase().replace(<span class="hljs-regexp"><span class="hljs-regexp">/\\\\/g</span></span>, <span class="hljs-string"><span class="hljs-string">'/'</span></span>) + <span class="hljs-string"><span class="hljs-string">'.'</span></span> + key, }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> acc; }, {});</code> </pre><br><p style=";text-align:right;direction:rtl">     IDE      ,       Webpack: </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">webpack-custom/utils/messagesLoader.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">messagesLoader</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">source</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (source.indexOf(<span class="hljs-string"><span class="hljs-string">'export const messages = messagesDefault;'</span></span>) !== <span class="hljs-number"><span class="hljs-number">-1</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> source.replace( <span class="hljs-string"><span class="hljs-string">'export const messages = messagesDefault;'</span></span>, <span class="hljs-string"><span class="hljs-string">` export const messages = Object.keys(messagesDefault).reduce((acc, key) =&gt; { acc[key] = { value: messagesDefault[key], name: __dirname.toLowerCase().replace(/\\\\/g, '/') + '.' + key, }; return acc; }, {}); `</span></span> ); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> source; };</code> </pre></div></div><br><p style=";text-align:right;direction:rtl"> ,  <i>messages.js</i>   : </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> messagesDefault = { <span class="hljs-attr"><span class="hljs-attr">someText</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, }; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> messages = messagesDefault;</code> </pre><br><p style=";text-align:right;direction:rtl">          ,   <i>app.js</i> ,      <i>messages.js</i>  ,      <i>*.json</i>  : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/utils/checkLocalization.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> ru <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'localization/ru.json'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> showNoTextMessage = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkLocalization</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> context = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>.context(<span class="hljs-string"><span class="hljs-string">'../'</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>, /messages\.js/); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> messagesFiles = context.keys(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> notLocalizedObject = {}; messagesFiles.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">path</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fileExports = context(path); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { messages } = fileExports; _.values(messages).forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ name, value }</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ru[name] == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { notLocalizedObject[name] = value; } }); }); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (showNoTextMessage &amp;&amp; _.size(notLocalizedObject) &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log( <span class="hljs-string"><span class="hljs-string">'No localization for lang ru:'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">JSON</span></span>.stringify(notLocalizedObject, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) ); } }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ,      </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">No localization for lang ru: { "src/components/TestLocalization/TestLocalization.hello": "  {count} {count: ,,}" }</code> </pre><br><p style=";text-align:right;direction:rtl">       <i>*.json</i>  โ ,           ,     . </p><br><p style=";text-align:right;direction:rtl"> 3.       Lodash  <code>someResponseParam: _.isString</code>   ,             .       : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/utils/validateObjects.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createError } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./createError'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { errorsNames } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'const'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> validators = { isArray(v) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.isArray(v); }, isString(v) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.isString(v); }, isNumber(v) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.isNumber(v); }, isBoolean(v) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.isBoolean(v); }, isPlainObject(v) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.isPlainObject(v); }, isArrayNotRequired(v) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.isArray(v) || _.isNil(v); }, isStringNotRequired(v) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.isString(v) || _.isNil(v); }, isNumberNotRequired(v) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.isNumber(v) || _.isNil(v); }, isBooleanNotRequired(v) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.isBoolean(v) || _.isNil(v); }, isPlainObjectNotRequired(v) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _.isPlainObject(v) || _.isNil(v); }, omitParam() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }, }; validators.isArray.notRequired = validators.isArrayNotRequired; validators.isString.notRequired = validators.isStringNotRequired; validators.isNumber.notRequired = validators.isNumberNotRequired; validators.isBoolean.notRequired = validators.isBooleanNotRequired; validators.isPlainObject.notRequired = validators.isPlainObjectNotRequired; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validateObjects</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> { validatorsObject, targetObject, prefix }, otherArg </span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_.isPlainObject(validatorsObject)) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">`validateObjects: validatorsObject is not an object`</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!_.isPlainObject(targetObject)) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Error</span></span>(<span class="hljs-string"><span class="hljs-string">`validateObjects: targetObject is not an object`</span></span>); } <span class="hljs-built_in"><span class="hljs-built_in">Object</span></span>.entries(validatorsObject).forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[paramName, validator]</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> paramValue = targetObject[paramName]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!validator(paramValue, otherArg)) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> validatorName = _.findKey(validators, v =&gt; v === validator); <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> createError( errorsNames.VALIDATION, <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${prefix || </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">''</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${paramName}</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${ _.isString(validatorName) ? </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">` [</span></span></span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${validatorName}</span></span></span></span></span><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">]`</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> : </span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">''</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> }</span></span></span><span class="hljs-string">`</span></span> ); } }); }</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">           โ , <code>     someResponseParam [isString]</code> ,   ,    .    <code>someResponseParam: validators.isString.notRequired</code> ,    .          ,         ,      <code>someResponseArray: arrayShape({ someParam: isString })</code> ,       . </p><br><p style=";text-align:right;direction:rtl"> 5. ,   ,   .   โ      (  <code>body</code>  <code>isEntering</code> , <code>isLeaving</code>   )          beforeLeave ( Prompt  <i>react-router</i> ),           false-  ,  </p><br><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs">somePage: { <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'/some-page'</span></span>, beforeLeave(store) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> store.modals.raiseConfirm(<span class="hljs-string"><span class="hljs-string">'    ?'</span></span>); }, }</code> </pre><br><p style=";text-align:right;direction:rtl">     ,               - . ,       : </p><br><p style=";text-align:right;direction:rtl"> โ    <code>/some/long/auth/path</code>  beforeEnter    <code>/auth</code> <br> โ beforeEnter  <code>/auth</code>  ,     โ    <code>/profile</code> <br> โ beforeEnter  <code>/profile</code>    ,   ,      ,   <code>/profile/edit</code> </p><br><p style=";text-align:right;direction:rtl">      ,          โ    <code>window.history.pushState</code>  <code>location.replace</code> .      ,           .    ยซ    ยป     ยซ    componentDidMount ยป,         ,          . </p><br><p style=";text-align:right;direction:rtl"> 6.           (,   )    : </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/utils/withState.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">withState</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">target, fnName, fnDescriptor</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> original = fnDescriptor.value; fnDescriptor.value = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fnWithState</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">...args</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.executions[fnName]) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.resolve(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.resolve() .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.executions[fnName] = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; }) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> original.apply(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, args)) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.executions[fnName] = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> data; }) .catch(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">error</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.executions[fnName] = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> error; }); }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fnDescriptor; }</code> </pre></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/stores/CurrentTPStore.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'lodash'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { makeObservable, withState } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'utils'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { apiRoutes, request } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'api'</span></span>; @makeObservable <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CurrentTPStore</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * @param rootStore {RootStore} */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(rootStore) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.rootStore = rootStore; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.executions = {}; } @withState fetchSymbol() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> request(apiRoutes.symbolInfo) .then(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fetchSymbolSuccess) .catch(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.fetchSymbolError); } fetchSymbolSuccess(data) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>.resolve(); } fetchSymbolError(error) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.error(error); } }</code> </pre></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">src/components/TestComponent.js</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { observer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'utils'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { useStore } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'hooks'</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TestComponent</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> store = useStore(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { <span class="hljs-attr"><span class="hljs-attr">currentTP</span></span>: { executions } } = store; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{executions.fetchSymbol ? '...' : ''}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> TestComponentConnected = observer(TestComponent);</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">         ,   . </p><br><p style=";text-align:right;direction:rtl">        ,    ,        .        โ      ,     ,  , ,    - . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar450360/">https://habr.com/ru/post/ar450360/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar450344/index.html">ููุดูุฑ ุจุงูุนูู ุงูุฃุจูุถ ุ ุฃู ููู ุญูุธุช ุฏูุฑุฉ ุงูููุฏูู ุงูุฎุงุตุฉ ุจู ูู ุงูุธููุฑ ุนูู ุงููุชุนูุจ</a></li>
<li><a href="../ar450346/index.html">ูููุชู ููุฎ ููุฏ</a></li>
<li><a href="../ar450350/index.html">ุฎุท ุฃุญูุฑ ุฑููู ูู ูุดุฑูุนู</a></li>
<li><a href="../ar450354/index.html">ุฃุนูู ููุงุฑุงุช ุงูุฑุคูุฉ ูููุฏูุฒ (ูุนุงููุฉ)</a></li>
<li><a href="../ar450358/index.html">Visual Studio App ูุฑูุฒ ุชุญุณููุงุช ุฎุฏูุฉ ุงูุชูุฒูุน</a></li>
<li><a href="../ar450362/index.html">ุนุฏ ุนููุงุก "ููุชุญู"</a></li>
<li><a href="../ar450368/index.html">ุงุญุตู ุนูู ุฃุณุนุงุฑ ูุทููุฉ ูู ุฃุณุนุงุฑ ุตุฑู ุงูุนููุงุช ุงููุฒุฏูุฌุฉ</a></li>
<li><a href="../ar450372/index.html">ููู ุชุญุฏุฏ ุฎูุงุฑุฒููุงุช ุฃูุงุฒูู ูู ุญุงู ุงูููุช ููุชุฎูู</a></li>
<li><a href="../ar450374/index.html">RAM ุชูุณูุน ุงููุฌูุณ ูุฃุจู IIgs</a></li>
<li><a href="../ar450376/index.html">ููู ูุจุญุซ Yandex.Taxi ุนู ุงูุณูุงุฑุงุช ุนูุฏูุง ูุง ุชููู ูุฐูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>