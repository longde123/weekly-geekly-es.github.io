<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∑üèΩ üë®üèº‚Äç‚öñÔ∏è ‚õ∑Ô∏è MMORPG sozinho (perseguidor 2d) üëÉ üÜï ‚ö´Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Oi pessoal! O texto abaixo mostrar√° como eu desenvolvi meu jogo MMO sobre perseguidores, artefatos, emiss√µes e motos ao redor do fogo por dois anos e ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>MMORPG sozinho (perseguidor 2d)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451242/"> Oi pessoal!  O texto abaixo mostrar√° como eu desenvolvi meu jogo MMO sobre perseguidores, artefatos, emiss√µes e motos ao redor do fogo por dois anos e meio. <br><br><img src="https://habrastorage.org/webt/u0/e7/eg/u0e7eguxv9jorgk1mlffgpdnztu.jpeg"><br><a name="habracut"></a><br>  Tudo come√ßou com o fato de que, pela primeira vez na minha vida, eu era capaz de transferir informa√ß√µes de um dispositivo para outro, usando soquetes.  Pressionar o bot√£o de toque na tela do smartphone fez mover a caixa preta no monitor do laptop.  Minha alegria n√£o tinha limites.  Isso √© algum tipo de m√°gica, pensei.  Foi imediatamente decidido - "√â isso, eu estou fazendo um jogo online".  Como sou f√£ do perseguidor, a pergunta - ‚ÄúQue tipo de jogo online?‚Äù Nem sequer ficou de p√©.  Sobre o fato de que jogos n√£o s√£o f√°ceis de fazer, eu sabia.  O fato de fazer jogos on-line n√£o √© muito f√°cil, imaginei.  Mas, naquele momento, embriagado pela alegria e pela inspira√ß√£o, n√£o lhe dei a menor import√¢ncia. <br><br>  E o desenvolvimento come√ßou.  Como n√£o sei desenhar, surgiu imediatamente a pergunta sobre os gr√°ficos.  E a resposta para esta pergunta foi encontrada.  Era uma vez, nos velhos telefones com bot√£o de press√£o (j2me), um entusiasta independente desenvolveu o jogo ‚ÄúZone of Aliation‚Äù.  Se descrever o jogo em poucas palavras, este √© um perseguidor 2D para dispositivos m√≥veis.  Os gr√°ficos deste jogo foram perfeitos para o meu projeto.  Entrei em contato com o autor dos gr√°ficos, Pavel Shevelev, e pedi permiss√£o para us√°-lo no meu jogo.  Paulo n√£o recusou e at√© desenhou outra coisa, pela qual muitos agradecem a ele. <br><br><img src="https://habrastorage.org/webt/ki/pn/nu/kipnnul-lkrqpbwichajjkzi2aw.jpeg"><br><br>  Al√©m disso, era necess√°rio escrever c√≥digo.  Mover um quadrado preto √© uma coisa, e fazer um jogo completo √© outra.  Se voc√™ dirige no mecanismo de pesquisa - "Como fazer um jogo online?", N√£o encontrar√° uma resposta espec√≠fica que possa ajudar um pouco.  As informa√ß√µes no RuNet sobre esse gato choraram, mas sobre os exemplos em geral eu sou silencioso.  No entanto, consegui encontrar informa√ß√µes sobre Habr√© sobre as palestras em v√≠deo de Vitaliy Chibrikov, que contavam como escrever um servidor para um jogo online.  Tendo estudado exaustivamente todas as 9 palestras (uma palestra dura cerca de duas horas em m√©dia), ainda consegui construir um forte esqueleto de intera√ß√£o cliente-servidor em minha base para o meu jogo futuro.  Se n√£o fosse Vitaly, eu n√£o teria alcan√ßado esse resultado, pelo qual muito obrigado a ele.  Algumas palavras sobre as tecnologias que eu usei - o servidor est√° escrito em java, banco de dados MySql, conex√£o de rede netty.  O cliente tamb√©m √© gravado em java usando a estrutura libgdx. <br><br><img src="https://habrastorage.org/webt/nq/ji/jw/nqjijw4nkgkf2064wn4fb5zv4o4.jpeg"><br><br>  Tendo os gr√°ficos e o mecanismo de transfer√™ncia de dados, o mais "simples" permaneceu - para fazer um jogo.  Para come√ßar, ele fez uma localiza√ß√£o.  Ent√£o ele adicionou um personagem do jogo, ensinou-o a andar.  Ent√£o ele estragou a mudan√ßa do dia e da noite, al√©m dos efeitos clim√°ticos.  Ent√£o ele criou a primeira multid√£o - um porco.  Ent√£o ele acrescentou atirar para que este javali pudesse ser morto.  Ent√£o ele fez pvp para que fosse poss√≠vel matar n√£o apenas javalis, mas tamb√©m outros jogadores.  E agora h√° algo remotamente parecido com um jogo.  Parece que praticamente n√£o existem fun√ß√µes de jogo, mas demorou muito tempo para implementar todas as op√ß√µes acima.  Tudo foi complicado muitas vezes pelo fato de este ser um jogo MMO.  Quase todas as a√ß√µes que voc√™ faz no jogo devem ser vistas pelos jogadores ao seu redor.  No est√°gio inicial de desenvolvimento, o servidor travava a cada espirro.  Quase todos os dias, me deparei com v√°rios problemas e erros.  Antes do in√≠cio do desenvolvimento, eu n√£o conseguia imaginar quantos problemas teria que resolver.  Mas o desenvolvimento prosseguiu lentamente e o jogo se desenvolveu. <br><br><img src="https://habrastorage.org/webt/-m/vn/m3/-mvnm3ghut7zbt7numegtxsrkpu.jpeg"><br><br>  At√© certo ponto, os testes eram realizados apenas no meu PC pessoal.  O servidor e v√°rias c√≥pias dos clientes foram iniciados na mesma m√°quina e comunicados entre si por meio do host local.  Mas, √† medida que o projeto se desenvolvia, o pensamento me ocorria cada vez mais: "N√£o √© hora de mostrar o jogo para as pessoas e organizar testes reais com jogadores ao vivo?"  E, a certa altura, decidi que estava na hora.  Aluguei ferro, a configura√ß√£o m√≠nima com Linux a bordo.  Eu baixei meu programa de servidor l√° e, ap√≥s uma nova por√ß√£o de hemorr√≥idas e dan√ßando com um pandeiro, o servidor foi iniciado com √™xito.  "Uau!"  Eu pensei, isso funciona.  A primeira pessoa a entrar no jogo foi o artista Pavel.  Corremos pelo mapa, conversamos e atiramos em javalis.  Depois disso, fiquei satisfeito e feliz por tudo estar funcionando e comecei a me desenvolver com vingan√ßa.  Dias se passaram, o jogo cresceu e se desenvolveu, a cada duas semanas eu organizava um teste aberto, durante o qual qualquer um podia jogar e testar novos recursos.  √Äs vezes, o contador de jogadores online excedia cem.  Foi um √≥timo momento, criei um mundo virtual que vivia de acordo com minhas regras e leis, durante os testes me senti quase como um deus.  √Äs vezes, fui ao servidor e simplesmente observei os jogadores, eles correm para l√°, conversam, brigam, reconciliam-se, criam cl√£s, lutam, colecionam artefatos, entram em anomalias, andam obedientemente pelas casas durante o lan√ßamento.  E quantas hist√≥rias interessantes aconteceram no jogo!  Lembro que alguns caras se declararam bandidos e derrubaram o saque por entrar em um determinado local.  Aqueles que se recusaram a pagar foram baleados (inclusive eu).  Ou uma vez, um grupo de perseguidores durante uma eje√ß√£o se escondeu em uma casa cercada por todos os lados por uma cerca e algu√©m bloqueou a √∫nica sa√≠da com anomalias do el√©tron (h√° um artefato que cria uma anomalia) ap√≥s a eje√ß√£o, o grupo foi fechado no p√°tio dessa casa at√© o final do teste, ent√£o pois naquela √©poca, ap√≥s a morte, o jogador renascia no mesmo local em que morreu. <br><br><img src="https://habrastorage.org/webt/0l/nb/ca/0lnbca_cvgqempdl6cizvqxmcow.jpeg"><br><br>  No momento, o jogo foi implementado: 20 locais, dia e noite, chuva, pvp, pve, 3 tipos de monstros com comportamentos diferentes, ataques maci√ßos de multid√µes na base, 1 chefe de raide, 13 artefatos com caracter√≠sticas diferentes, 8 anomalias com efeitos diferentes, parafusos para procurar e neutralizar anomalias, 8 miss√µes, sistema de experi√™ncia e nivelamento, pda perseguidor, radia√ß√£o, emiss√µes, agrupamentos, guerra de agrupamentos por territ√≥rios, npc que pode atirar em mutantes e se esconder de emiss√µes em casas, mochila e sistema de itens, negociando com NPC e jogadores, 9 tipos de armaduras, 7 tipos de armas, detector de anomalias  um detector de radia√ß√£o, um viol√£o, al√©m de cerca de 15 itens diferentes e, claro, a oportunidade de sentar junto ao fogo e conversar com outros jogadores.  Eu tamb√©m gostaria de me debru√ßar sobre o m√©todo de extra√ß√£o de artefatos.  Os artefatos nascem ap√≥s uma eje√ß√£o em anomalias e, inicialmente, n√£o s√£o vis√≠veis para o jogador. Para que o artefato seja gerado, √© necess√°rio atender a v√°rias condi√ß√µes exclusivas de cada artefato.  Por exemplo, para obter o artefato "Sangue", √© necess√°rio que a anomalia eletr√¥nica de segundo n√≠vel, quando acionada (arremesso de parafuso), entre em contato com a anomalia de uma nuvem √°cida (voe ao longo do mapa em uma dire√ß√£o arbitr√°ria).  Ou, para obter o "Cora√ß√£o", voc√™ precisa usar o artefato "Azul" (cria uma nova anomalia) para que a nova anomalia entre no momento da anomalia, al√©m da necessidade de luz solar, ou seja, √© necess√°ria a falta de luz solar, ou seja, o artefato pode ser obtido apenas √† noite. <br><br><img src="https://habrastorage.org/webt/_r/_y/tw/_r_ytwigquoirj8fzt3q79eogik.jpeg"><br><br>  Eu trabalhei nisso tudo por mais de dois anos, mas todo o sal desse conte√∫do √© suficiente por tr√™s ou quatro dias, ap√≥s os quais simplesmente n√£o h√° nada a fazer no jogo.  Por causa disso, o n√∫mero de jogadores no jogo foi diminuindo gradualmente, e eu entendi cada vez mais claramente que simplesmente n√£o conseguia terminar o jogo.  Passei muito tempo no desenvolvimento, mas parece que n√£o terminei o projeto nem pela metade.  Acho que consegui um bom resultado, mas ainda tenho que encarar a verdade - √© imposs√≠vel criar um MMORPG completo sozinho ou quase imposs√≠vel.  Tentei encontrar outro programador, mas n√£o h√° muitas pessoas que conhecem java perfeitamente e t√™m experi√™ncia no desenvolvimento de aplicativos cliente-servidor.  Sim, e poucas pessoas querem entender meu c√≥digo, pois ele foi escrito longe de ser perfeito e, o mais importante, existem muitos, muitos, muitos realmente diretos.  N√£o vou postar o c√≥digo em acesso aberto, talvez um dia, tendo jogado o suficiente no stalker 2, terminarei da mesma forma. <br><br>  Aqui est√° uma hist√≥ria.  Equipe do projeto em vk - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Zona do projeto 2d online</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt451242/">https://habr.com/ru/post/pt451242/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt451224/index.html">Not√≠cias da semana: colecionadores querem acesso a telefones russos, novo kernel Linux 5.1, vazamento de dados da Samsung</a></li>
<li><a href="../pt451226/index.html">Nova vida de jogos antigos: o diret√≥rio de c√≥digo-fonte mais aberto das portas de c√≥digo-fonte (Java + PHP)</a></li>
<li><a href="../pt451230/index.html">Cinco erros cometidos pelas pessoas na prepara√ß√£o para a imigra√ß√£o trabalhista dos EUA</a></li>
<li><a href="../pt451232/index.html">O uso do modelo de financiamento cont√≠nuo no crowdfunding</a></li>
<li><a href="../pt451240/index.html">Por que eu gosto de interfaces Go</a></li>
<li><a href="../pt451246/index.html">Engenharia reversa de uma esta√ß√£o de solda high-end</a></li>
<li><a href="../pt451248/index.html">O lado sombrio dos hackathons</a></li>
<li><a href="../pt451252/index.html">As strings no Python devem ser iter√°veis?</a></li>
<li><a href="../pt451254/index.html">Categoria: fornecedor de IaaS de ferro unboxing</a></li>
<li><a href="../pt451256/index.html">O que √© um sistema de relat√≥rio ideal. √â realista entender o que est√° acontecendo na empresa?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>