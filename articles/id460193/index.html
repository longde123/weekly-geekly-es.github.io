<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçò üëâüèæ üèª Memantau berakhirnya sertifikat pada Windows di NetXMS üì§ ü§ù üê∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Baru-baru ini, kami memiliki tugas untuk memantau periode validitas sertifikat pada server dengan Windows. Nah, bagaimana saya bangun, setelah sertifi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Memantau berakhirnya sertifikat pada Windows di NetXMS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460193/"> Baru-baru ini, kami memiliki tugas untuk memantau periode validitas sertifikat pada server dengan Windows.  Nah, bagaimana saya bangun, setelah sertifikat berubah menjadi labu beberapa kali, pada saat yang sama kolega berjanggut yang bertanggung jawab atas pembaruan mereka sedang berlibur.  Setelah itu, kami <s>mencurigai sesuatu dan</s> memutuskan untuk memikirkannya.  Karena kami secara perlahan memperkenalkan sistem pemantauan NetXMS, itu telah menjadi kandidat utama dan, pada prinsipnya, satu-satunya kandidat untuk tugas ini. <br><br>  Hasilnya akhirnya diperoleh sebagai berikut: <br><br><img src="https://habrastorage.org/webt/pf/wa/9q/pfwa9qmxenfj334rth33mcitz80.png"><br><br>  Dan prosesnya sendiri lebih jauh. <br><a name="habracut"></a><br>  Ayo pergi.  Tidak ada penghitung bawaan untuk sertifikat yang kedaluwarsa di NetXMS, jadi Anda perlu membuat skrip Anda sendiri dan menggunakan skrip untuk menyediakannya dengan data.  Tentu saja, di Powershell, ini Windows.  Script harus membaca semua sertifikat di sistem operasi, mengambil tanggal kedaluwarsa dalam beberapa hari dari sana, dan mentransfer nomor ini ke NetXMS.  Melalui agennya.  Mari kita mulai dengannya. <br><br>  <b>Opsi satu</b> , yang termudah.  Dapatkan jumlah hari sebelum sertifikat berakhir dengan tanggal terdekat. <br><br>  Agar server NetXMS belajar tentang keberadaan parameter khusus kami, ia harus menerimanya dari agen.  Jika tidak, parameter ini tidak dapat ditambahkan karena tidak ada.  Oleh karena itu, dalam file konfigurasi agen <b>nxagentd.conf</b> , kami menambahkan baris parameter eksternal dengan nama <b>HTTPS.CertificateExpireDateSimple</b> , di mana kami menulis skrip untuk dijalankan: <br><br><pre><code class="plaintext hljs">ExternalParameter = HTTPS.CertificateExpireDateSimple: powershell.exe -File "\\server\share\NetXMS_CertExpireDateSimple.ps1"</code> </pre> <br>  Mengingat bahwa skrip berjalan melalui jaringan, Anda perlu mengingat tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Kebijakan Eksekusi</a> , serta "-NoLogo -NoProfile -NonInteractive" lainnya, yang saya hapus untuk keterbacaan kode yang lebih baik. <br><br>  Akibatnya, konfigurasi agen terlihat seperti ini: <br><br><pre> <code class="plaintext hljs"># # NetXMS agent configuration file # Created by agent installer at Thu Jun 13 11:24:43 2019 # MasterServers = netxms.corp.testcompany.ru ConfigIncludeDir = C:\NetXMS\etc\nxagentd.conf.d LogFile = {syslog} FileStore = C:\NetXMS\var SubAgent = ecs.nsm SubAgent = filemgr.nsm SubAgent = ping.nsm SubAgent = logwatch.nsm SubAgent = portcheck.nsm SubAgent = winperf.nsm SubAgent = wmi.nsm ExternalParameter = HTTPS.CertificateExpireDateSimple: powershell.exe -File "\\server\share\NetXMS_CertExpireDateSimple.ps1"</code> </pre> <br>  Setelah itu, Anda perlu menyimpan konfigurasi dan memulai kembali agen.  Anda dapat melakukan ini dari konsol NetXMS: buka konfigurasi (file konfirmasi agen Edit), edit, jalankan Simpan &amp; Terapkan, sebagai akibatnya, hal yang persis sama akan terjadi.  Kemudian baca kembali konfigurasi (Poll&gt; Configuration), jika sama sekali tidak ada kekuatan untuk menunggu.  Setelah langkah-langkah ini, Anda harus dapat menambahkan parameter khusus kami. <br><br>  Di konsol NetXMS, kita pergi ke <b>Konfigurasi Pengumpulan Data dari</b> server eksperimental di mana kita akan memantau sertifikat dan membuat parameter baru di sana (di masa depan, setelah pengaturan, masuk akal untuk mentransfernya ke template).  Kami memilih HTTPS.CertificateExpireDateSimple dari daftar, masukkan Deskripsi dengan nama yang ramah, atur tipe ke Integer dan atur interval polling.  Tidak masuk akal untuk membuatnya terlalu pendek agar tidak menyumbat database dengan informasi yang tidak perlu, akan merepotkan untuk menunggu terlalu lama saat memeriksa.  Untuk sertifikat, saya biasanya menetapkan 600 detik.  Pada saat debugging, masuk akal untuk membuatnya lebih pendek, 30 detik, misalnya: <br><br><img src="https://habrastorage.org/webt/q_/r2/gy/q_r2gyru9rrf4rexqombopnjohg.png"><br><br>  Semuanya siap, selama cukup.  Anda dapat memeriksa ... tidak, masih terlalu dini.  Sekarang, tentu saja, kami tidak akan mendapatkan apa-apa.  Hanya karena skripnya belum ditulis.  Kami memperbaiki kekurangan ini.  Script akan memberikan nomor saja, jumlah hari yang tersisa sampai sertifikat berakhir.  Yang terkecil dari semua tersedia.  Skrip contoh: <br><br><pre> <code class="powershell hljs"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">#       $lmCertificates = @( Get-ChildItem -Recurse -path 'Cert:\LocalMachine\My' -ErrorAction Stop ) #   ,  "10 " if ($lmCertificates.Count -eq 0) { return 3650 } #  Expiration Date   $expirationDates = @( $lmCertificates | ForEach-Object { return $_.NotAfter } ) #    Expiration Date   $minExpirationDate = ($expirationDates | Measure-Object -Minimum -ErrorAction Stop ).Minimum #    Expiration Date          $daysLeft = [Math]::Floor( ($minExpirationDate - [DateTime]::Now).TotalDays ) #   return $daysLeft } catch { return -1 }</span></span></code> </pre> <br>  Ternyata seperti ini: <br><br><img src="https://habrastorage.org/webt/gt/wg/r0/gtwgr01zmsst4vl8mw-2h2du1cm.png"><br><br>  723 hari, sebelum sertifikat berakhir hampir dua tahun lagi.  Itu logis, karena saya baru-baru ini menandatangani ulang sertifikat di Exchange testbed. <br><br>  Itu pilihan yang mudah.  Mungkin seseorang akan senang dengan itu, tetapi kami menginginkan lebih.  Kami menetapkan sendiri tugas mendapatkan daftar semua sertifikat di server, berdasarkan nama, dan untuk masing-masing untuk melihat jumlah hari yang tersisa hingga sertifikat berakhir. <br><br>  <b>Opsi kedua</b> , sedikit lebih rumit. <br><br>  Sekali lagi kami mengedit konfigurasi agen dan di sana alih-alih dengan ExternalParameter kami menulis dua lainnya: <br><br><pre> <code class="plaintext hljs">ExternalList = HTTPS.CertificateNames: powershell.exe -File "\\server\share\netxms_CertExternalNames.ps1" ExternalParameter = HTTPS.CertificateExpireDate(*): powershell.exe -File "\\server\share\netxms_CertExternalParameter.ps1" -CertificateId "$1"</code> </pre> <br>  Di <b>ExternalList,</b> kami hanya mendapatkan daftar string.  Dalam kasus kami, daftar string dengan nama sertifikat.  Daftar baris-baris ini kita dapatkan skripnya.  Nama daftar adalah <b>HTTPS.CertificateNames</b> . <br><br>  Script NetXMS_CertNames.ps1: <br><br><pre> <code class="powershell hljs"><span class="hljs-comment"><span class="hljs-comment">#    $nameTypeList = @( [System.Security.Cryptography.X509Certificates.X509NameType]::SimpleName, [System.Security.Cryptography.X509Certificates.X509NameType]::DnsName, [System.Security.Cryptography.X509Certificates.X509NameType]::DnsFromAlternativeName, [System.Security.Cryptography.X509Certificates.X509NameType]::UrlName, [System.Security.Cryptography.X509Certificates.X509NameType]::EmailName, [System.Security.Cryptography.X509Certificates.X509NameType]::UpnName ) #  ,    $certList = @( Get-ChildItem -Path 'Cert:\LocalMachine\My' | Where-Object { $_.HasPrivateKey -eq $true } ) #   ,   "  -  - Thumbprint"    foreach ($cert in $certList) { $name = '(unknown name)' try { $thumbprint = $cert.Thumbprint $dateExpire = $cert.NotAfter foreach ($nameType in $nameTypeList) { $name_temp = $cert.GetNameInfo( $nameType, $false) if ($name_temp -ne $null -and $name_temp -ne '') { $name = $name_temp; break; } } Write-Output "$($name) - $($dateExpire.ToString('dd.MM.yyyy')) - [T:$($thumbprint)]" } catch { Write-Error -Message "Error processing certificate list: $($_.Exception.Message)" } }</span></span></code> </pre> <br>  Dan sudah di <b>ExternalParameter</b> kita memberi makan baris dari daftar ExternalList, dan pada output kita mendapatkan jumlah hari yang sama untuk masing-masing.  Identifier adalah sertifikat Thumbprint.  Harap perhatikan bahwa HTTPS.CertificateExpireDate dalam opsi ini berisi tanda bintang (*).  Ini diperlukan agar dapat menerima variabel eksternal, cukup CertificateId kami. <br><br>  Script NetXMS_CertExpireDate.ps1: <br><br><pre> <code class="powershell hljs"><span class="hljs-comment"><span class="hljs-comment">#   $CertificateId param ( [Parameter(Mandatory=$false)] [String]$CertificateId ) #   if ($CertificateId -eq $null) { Write-Error -Message "CertificateID parameter is required!" return } # Thumbprint    $CertificateId      Expiration Date $certId = $CertificateId; try { if ($certId -match '^.*\[T:(?&lt;Thumbprint&gt;[A-Z0-9]+)\]$') { $thumbprint = $Matches['Thumbprint'] $certificatePath = "Cert:\LocalMachine\My\$($thumbprint)" if (Test-Path -PathType Leaf -Path $certificatePath ) { $certificate = Get-Item -Path $certificatePath; $certificateExpirationDate = $certificate.NotAfter $certificateDayToLive = [Math]::Floor( ($certificateExpirationDate - [DateTime]::Now).TotalDays ) Write-Output "$($certificateDayToLive)"; } else { Write-Error -Message "No certificate matching this thumbprint found on this server $($certId)" } } else { Write-Error -Message "CertificateID provided in wrong format. Must be FriendlyName [T:&lt;thumbprint&gt;]" } } catch { Write-Error -Message "Error while executing script: $($_.Exception.Message)" }</span></span></code> </pre> <br>  Di Konfigurasi Server Pengumpulan Data, buat parameter baru.  Di Parameter, pilih <b>HTTPS.CertificateExpireDate (*) kami</b> dari daftar, dan (perhatian!) Ubah tanda bintang menjadi <b>{instance}</b> .  Poin penting ini akan memungkinkan Anda untuk membuat penghitung terpisah untuk setiap instance (sertifikat).  Sisanya diisi, seperti pada versi sebelumnya: <br><br><img src="https://habrastorage.org/webt/iz/js/yw/izjsywknmc_7lrph5axbulycbx4.png"><br><br>  Agar penghitung menjadi sesuatu untuk dibuat, pada tab Instance Discovery, pilih Daftar Agen dari daftar dan di bidang Nama Daftar masukkan nama ExternalList kami dari skrip - HTTPS.CertificateNames. <br><br>  Hampir siap, tunggu sebentar atau paksa Poll&gt; Configuration and Poll&gt; Instance Discovery, jika benar-benar mustahil untuk menunggu.  Akibatnya, kami mendapatkan semua sertifikat kami dengan tanggal kedaluwarsa: <br><br> <a href="" title="Lihat Gambar Asli" rel="nofollow"><img src="https://habrastorage.org/webt/4i/6g/rb/4i6grbiuzscvt_9jsr7oo8vlr10.png"></a> <br><br>  Apa yang dibutuhkan?  Ya, hanya worm perfeksionisme yang melihat Thumbprint yang tidak perlu ini atas nama konter dengan mata sedih dan tidak memungkinkan untuk menyelesaikan artikel.  Untuk memberinya makan, buka kembali properti penghitung dan pada tab Penemuan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Instan</a> di bidang "Script penemuan filter Instance" tambahkan skrip yang ditulis dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">NXSL</a> (bahasa internal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">NetXMS</a> ): <br><br><pre> <code class="javascript hljs">instance = $<span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (instance ~= <span class="hljs-string"><span class="hljs-string">"^(.*)\s\-\s\[T\:[a-zA-Z0-9]+\]$"</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> %(<span class="hljs-literal"><span class="hljs-literal">true</span></span>, instance, $<span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>;</code> </pre> <br>  yang akan memfilter cap jempol: <br><br><img src="https://habrastorage.org/webt/79/js/hr/79jshrqquu9hvwmkyxppz1tmr_k.png"><br><br>  Dan untuk menampilkannya difilter, pada tab Umum di bidang Deskripsi, ubah CertificateExpireDate: {instance} ke <b>CertificateExpireDate: {instance-name}</b> : <br><br><img src="https://habrastorage.org/webt/lb/wt/t_/lbwtt_qjjy-91-nduegszqkfyze.png"><br><br>  Semuanya, akhirnya selesai dari <abbr title="Gambar Perhatian">KDPV</abbr> : <br><br> <a href="" title="Lihat Gambar Asli" rel="nofollow"><img src="https://habrastorage.org/webt/jy/gw/ce/jygwce-b5rghps1aojzw7piqkhk.png"></a> <br><br>  Kecantikan <br><br>  Tetap mengkonfigurasi peringatan agar mereka tiba melalui pos ketika sertifikat berakhir pada akhir yang logis. <br><br>  1. Pertama, Anda perlu membuat Templat Peristiwa untuk mengaktifkannya ketika menurunkan nilai penghitung ke beberapa ambang batas yang ditetapkan oleh kami.  Di <b>Konfigurasi Acara,</b> buat dua templat baru dengan nama, misalnya <b>CertificateExpireDate_Threshold_Aktifkan</b> dengan status Peringatan: <br><br><img src="https://habrastorage.org/webt/rh/nc/se/rhncseix1uuw3agz4ioeyx3d02u.png"><br><br>  dan <b>CertificateExpireDate_Threshold_Deactivate yang</b> serupa dengan status Normal. <br><br>  2. Selanjutnya, buka properti penghitung dan atur ambang pada tab Tresholds: <br><br><img src="https://habrastorage.org/webt/zu/tm/6y/zutm6yv1byvr5kuzbvhbegm7hro.png"><br><br>  tempat kami memilih acara yang kami buat CertificateExpireDate_Threshold_Activate dan CertificateExpireDate_Threshold_Deactivate, setel jumlah pengukuran (Sampel) 1 (khusus, tidak ada gunanya menetapkan penghitung tertentu), nilainya 30 (hari), misalnya, dan, yang penting, kami menetapkan waktu pengulangan acara.  Untuk sertifikat dalam produksi, saya atur sekali sehari (86400 detik), jika tidak Anda bisa tenggelam dalam peringatan (yang, omong-omong, terjadi sekali, dan terlebih lagi, kotak surat penuh selama akhir pekan).  Untuk debugging, masuk akal untuk mengatur kurang, 60 detik, misalnya. <br><br>  3. Dalam <b>Konfigurasi Tindakan,</b> buat templat pesan peringatan, seperti ini: <br><br><img src="https://habrastorage.org/webt/3i/a1/z8/3ia1z8vqbnn260wcs0cqvfx6s0o.png"><br><br>  Semua ini% m,% S, dll.  - makro di mana nilai dari parameter kami akan diganti.  Mereka dijelaskan secara lebih rinci dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">manual</a> NetXMS. <br><br>  4. Dan akhirnya, dengan menggabungkan poin-poin sebelumnya, dalam <b>Kebijakan Pemrosesan Acara,</b> buat aturan dengan mana Alarm akan dibuat dan pesan akan dikirim: <br><br> <a href="" title="Lihat Gambar Asli" rel="nofollow"><img src="https://habrastorage.org/webt/dg/yw/3b/dgyw3bg6yk1iqbogvunteln3sek.png"></a> <br><br>  Kami menjaga kebijakan, semuanya bisa diuji.  Tetapkan ambang batas lebih tinggi untuk verifikasi.  Sertifikat terdekat saya kedaluwarsa dalam 723 hari, saya menetapkan 724 untuk verifikasi. Sebagai hasilnya, kami mendapatkan alarm berikut: <br><br><img src="https://habrastorage.org/webt/vu/56/z_/vu56z_zmsfu2g5jz2yqi9l8zf6i.png"><br><br>  dan peringatan email semacam itu: <br><br><img src="https://habrastorage.org/webt/zz/vy/a8/zzvya8x9qqdaaqwdjkrzjyuhu1m.png"><br><br>  Nah, itu saja.  Anda bisa, tentu saja, mengatur dasbor, membuat grafik, tetapi untuk sertifikat itu akan menjadi garis lurus yang agak tidak berarti dan membosankan, tidak seperti grafik CPU atau pemuatan memori, misalnya.  Tapi, entah bagaimana lain kali. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id460193/">https://habr.com/ru/post/id460193/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id460181/index.html">Tingkatkan pengetahuan JavaScript Anda dengan mem-parsing kode sumber</a></li>
<li><a href="../id460185/index.html">Layanan online "Analisis Kecepatan dalam Kecelakaan oleh Video"</a></li>
<li><a href="../id460187/index.html">Bayangkan data Anda sebelum Anda mengumpulkannya.</a></li>
<li><a href="../id460189/index.html">14 Alat Papan Kanban Terbaik di 2019</a></li>
<li><a href="../id460191/index.html">Hentikan saluran atau pompa pipa Anda, yo</a></li>
<li><a href="../id460195/index.html">Kecil, ya, dihapus: akselerator partikel linier mini, mengatur rekor baru</a></li>
<li><a href="../id460197/index.html">Klub teknis anak-anak modern VS SUIT Soviet</a></li>
<li><a href="../id460205/index.html">Stasiun kerja kriptografis berdasarkan pada wadah PKCS # 12. Membuat tanda tangan elektronik CadES-X Long Type 1. Bagian 3</a></li>
<li><a href="../id460207/index.html">Bagaimana admin Linux mengelola paduan suara anak-anak menggunakan sistem pengenalan musik di bawah Ubuntu 16.04. Mikrofon dan Akord</a></li>
<li><a href="../id460211/index.html">Intel Pohoiki Beach - sistem neuromorfik dengan 8 juta neuron</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>