<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•û üçΩÔ∏è üë©üèæ‚Äçü§ù‚Äçüë®üèø Exemplos de vis√£o geral e configura√ß√£o de pe√ßas de arquivo do Dell EMC Unity üë©üèª‚Äçü§ù‚Äçüë®üèæ üõ¥ üèöÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este artigo foi concebido como um tipo de funcionalidade de armazenamento de arquivos dos sistemas de armazenamento Dell EMC Unity para colegas. Esper...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Exemplos de vis√£o geral e configura√ß√£o de pe√ßas de arquivo do Dell EMC Unity</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/419107/">  Este artigo foi concebido como um tipo de funcionalidade de armazenamento de arquivos dos sistemas de armazenamento Dell EMC Unity para colegas.  Espero que, nessa capacidade, seja √∫til n√£o apenas para eles.  A maioria das informa√ß√µes deste artigo √© extra√≠da da documenta√ß√£o bastante extensa e d√≠spar do fornecedor, al√©m da minha experi√™ncia em configura√ß√£o pessoal.  A funcionalidade de bloqueio de unidade n√£o √© o assunto deste artigo, ent√£o tentarei deix√°-la "ao mar". <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wz/cp/__/wzcp__tbyjypviogdsi_q6ncqaq.jpeg"></div><br><a name="habracut"></a><br><h2>  Pouco de teoria </h2><br>  Os sistemas Unity (em 2016 tamb√©m EMC <sup>2</sup> Unity) foram originalmente lan√ßados no formato Unified.  I.e.  esses s√£o sistemas que podem fornecer acesso aos dados n√£o apenas por meio de protocolos de bloco, mas tamb√©m por meio de protocolos de arquivo.  Os protocolos de arquivo CIFS (SMB 1), SMB 2, SMB 3.0, SMB 3.02, SMB 3.1.1, NFS v3, NFS v4, NFS v4.1, NFS seguro, FTP e SFTP s√£o suportados.  Ao mesmo tempo, o acesso a blocos e arquivos √© suportado no mesmo par de controladores.  I.e.  N√£o h√° controladores f√≠sicos separados para organizar o acesso a arquivos, como nos sistemas das gera√ß√µes anteriores VNX1 / VNX2.  A julgar pela documenta√ß√£o do fornecedor, a conteineriza√ß√£o √© usada para separar a funcionalidade em um controlador f√≠sico. <br><br>  <b>* Todas as imagens no artigo s√£o clic√°veis.</b>  <b>Al√©m disso, o artigo possui v√°rios spoilers volumosos e n√£o muito.</b> <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/gg/kn/h2/ggknh25v239un3omaecwil0jy2k.png"></a> <br><br>  O acesso √†s pastas de rede √© organizado atrav√©s da cria√ß√£o de servidores de arquivos virtuais (servidores NAS) nos controladores de armazenamento.  Cada servidor de arquivos possui sua pr√≥pria interface Ethernet virtual e configura√ß√µes de rede (ip / mask / default gateway / vlan).  Esses servidores NAS montam sistemas de arquivos criados em conjuntos de discos.  A configura√ß√£o do servidor NAS em si √© armazenada no conjunto de discos especificado na cria√ß√£o. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/na/sm/zm/nasmzmnpyjii0edb-jcjkj64uza.png"></a> <br><br>  Para um servidor NAS com esferas SMB, voc√™ pode ingressar no MS AD e gerenci√°-lo remotamente atrav√©s de snap-ins nativos do Windows.  Naturalmente, voc√™ pode criar servidores √∫nicos (independentes) que n√£o est√£o conectados no MS AD, por exemplo, para uma bola NFS. <br><br><h2>  Criando um servidor NAS </h2><br>  V√° para a interface de gerenciamento (que, a prop√≥sito, est√° escrita em HTML5) ao longo do caminho <b>Armazenamento&gt; Arquivo</b> e selecione a guia <b>Servidores NAS</b> .  Para criar um novo servidor, clique em " <b>+</b> " e entre no assistente. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/kc/aj/nh/kcajnh4f-udcb77qmxdzhmocg5e.png"></a> <br><br>  No assistente, preencha o nome do servidor.  Selecione o conjunto de discos no qual a configura√ß√£o do servidor NAS ser√° armazenada.  E especificamos o controlador f√≠sico (processador de armazenamento) no qual o servidor criado funcionar√°.  O que acontecer√° com o servidor NAS se o SP selecionado falhar ou reiniciar, falaremos mais adiante. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/7z/ak/nc/7zakncdk0pff_mhier9hspwdgzi.png"></a> <br><br>  Analisamos o assistente mais adiante e preenchemos os detalhes da rede para o novo servidor NAS.  Primeiro, indicamos a interface de rede no controlador ao qual ligaremos nosso servidor.  Em seguida, especifique o endere√ßo IP desejado, a m√°scara de rede (completa ou por meio de um prefixo), o gateway de rede e, opcionalmente, a vlan.  Se necess√°rio, essas configura√ß√µes podem ser alteradas posteriormente, em um servidor j√° criado. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/rv/qe/id/rvqeidxl2ypm_glm9tw3agsdxco.png"></a> <br><br>  Na pr√≥xima etapa, somos convidados a escolher com quais protocolos de arquivo nosso servidor NAS trabalhar√°.  E eu recomendaria alocar servidores separados para diferentes protocolos de acesso.  E somente se for realmente necess√°rio usar um servidor para trabalhar com v√°rios protocolos.  Se voc√™ deseja conceder acesso aos mesmos dados no SMB e NFS ao mesmo tempo, √© necess√°rio selecionar o tipo de acesso <b>Multiprotocolo</b> .  Por exemplo, se a rede tiver clientes Linux e Windows ao mesmo tempo.  Se o SMB e o NFS forem usados ‚Äã‚Äãno mesmo servidor, talvez seja necess√°rio trabalhar duro e configurar o mapeamento (associa√ß√£o) correto dos usu√°rios do Windows para unix-uid / gid.  Leia mais aqui <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">Configurando o compartilhamento de arquivos multiprotocolo</a> . <br><br>  No nosso caso, escolhemos <b>compartilhamentos do Windows</b> com a introdu√ß√£o simult√¢nea do servidor no dom√≠nio da Microsoft. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/dn/yl/tf/dnyltfi1ua3-vzqnjme17vcbuh8.png"></a> <br><br>  Se voc√™ olhar em <b>Avan√ßado</b> , poder√° configurar qual UO (Unidade Organizacional) nosso servidor entrar√° no MS Active Directory.  Se n√£o houver UO no AD, ela ser√° criada automaticamente.  Por padr√£o, √© " <b>ou = Computers, ou = EMC NAS servers</b> ". <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/1a/0r/if/1a0rifq-_vvxmmjo-c_uttpccq0.png"></a> <br><br>  V√° em frente e configure os servidores DNS de dom√≠nio para o servidor NAS, se eles n√£o corresponderem aos especificados durante a instala√ß√£o Unty inicial.  Caso contr√°rio, clique em <b>Avan√ßar</b> . <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/h3/hv/8_/h3hv8_mnthhhhi-zxryuwuddp0k.png"></a> <br><br>  Falaremos sobre a configura√ß√£o da replica√ß√£o separadamente abaixo, ent√£o <b>Pr√≥ximo</b> novamente. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/so/k3/-h/sok3-hl2902ouypinsew1gxei3k.png"></a> <br><br>  Verificamos as configura√ß√µes e conclu√≠mos a cria√ß√£o do servidor NAS. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/qz/gk/ed/qzgkedxr9r7_2qrkcvyai0rvxx8.png"></a> <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/w8/zl/ks/w8zlksdmreym9mitaetj42-vpqe.png"></a> <br><br>  Em geral, logo ap√≥s a conclus√£o do processo de cria√ß√£o do servidor, podemos verificar sua disponibilidade por meio de ping.  Naturalmente, para isso, a porta Ethernet f√≠sica no sistema de armazenamento ao qual conectamos o servidor NAS j√° deve estar conectada √† rede local.  Verificamos: <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/ju/qz/df/juqzdfr0bnbk2mpshailpuw1age.png"></a> <br><br>  No dom√≠nio do snap-in <b>Usu√°rios e Computadores</b> do <b>Active Directory</b> , verificamos que as <b>UOs</b> especificadas foram criadas e nosso servidor concluiu com √™xito a associa√ß√£o ao dom√≠nio. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/an/nz/ox/annzox7uhqobjra5gvqdpxsblg8.png"></a> <br><br>  Se algo der errado na primeira vez, voc√™ sempre poder√° ingressar no AD a partir de um servidor NAS j√° criado.  Um dos problemas mais comuns s√£o as configura√ß√µes incorretas de hora para armazenamento.  A defini√ß√£o da hora local ou a conex√£o aos servidores NTP √© realizada durante a instala√ß√£o e a configura√ß√£o inicial do Unity.  Alterar o rel√≥gio do sistema durante a opera√ß√£o de armazenamento pode exigir uma reinicializa√ß√£o simult√¢nea dos dois controladores f√≠sicos.  O que, consequentemente, levar√° a uma suspens√£o em servi√ßo.  Se a hora local no Unity diferir em mais de 5 minutos (a configura√ß√£o padr√£o no MS AD) da hora nos controladores de dom√≠nio, o servidor NAS n√£o poder√° efetuar login corretamente no AD e se conectar a ele. <br><br>  Para tentar se conectar novamente ao AD, voc√™ pode clicar duas vezes no servidor NAS para inserir suas configura√ß√µes.  V√° para a guia <b>Protocolos de compartilhamento</b> e no menu <b>SMB</b> .  Digite novamente o login e a senha do administrador do Active Directory.  Depois disso, clique em <b>Aplicar</b> . <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/zk/76/j_/zk76j_y9fb69kz1srzn5hcxe4hm.png"></a> <br><br><h2>  Um pouco mais de teoria </h2><br>  No Unity, o fornecedor usa seu pr√≥prio sistema de arquivos UFS64.  Os principais recursos deste sistema de arquivos s√£o apresentados abaixo. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/-w/3t/1u/-w3t1uin4bcnjud1pyzoetvi488.png"></a> <br><br>  S√≥ posso acrescentar que o tamanho m√°ximo do arquivo que suporta o UFS64 tamb√©m √© de 256 TB. <br><br>  Funcionalidade O SMB no Unity suporta v√°rios recursos espec√≠ficos para este protocolo.  Eles s√£o apresentados na tabela abaixo. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/yj/lv/hc/yjlvhcf4hruktj6rvztadec91ie.png"></a> <br><br>  <b>Eu escondi pequenas descri√ß√µes de op√ß√µes da tabela abaixo, embaixo do spoiler.</b> <br><div class="spoiler">  <b class="spoiler_title">Descri√ß√£o dos recursos SMB</b> <div class="spoiler_text">  <b>SYNC WRITES ENABLED</b> √© uma funcionalidade que obriga o servidor NAS a registrar imediatamente os dados recebidos de forma s√≠ncrona, o que pode afetar adversamente o desempenho geral das bolas SMB.  Mas permite fornecer melhor seguran√ßa e integridade dos dados no caso de armazenamento de bancos de dados em uma bola de arquivo em v√°rios cen√°rios de falha.  Por exemplo, como uma interrup√ß√£o n√£o planejada. <br><br>  <b>OPLOCKS ENABLED</b> - funcionalidade que permite ao cliente receber o arquivo das bolas para sua RAM e trabalhar com ele localmente (adicionar, modificar, excluir dados no arquivo).  Nesse caso, o cliente grava de volta as altera√ß√µes na pasta compartilhada n√£o imediatamente ap√≥s a opera√ß√£o de altera√ß√£o do arquivo, mas apenas periodicamente, o que reduz significativamente o tr√°fego de rede.  √â claro que √© melhor n√£o trabalhar com dados cr√≠ticos nesse modo.  A funcionalidade e os m√©todos de trabalho com dados quando o OPLOCKS est√° ativado dependem fortemente da vers√£o do protocolo SMB que o cliente usa. <br><br>  <b>NOTIFICAR NA GRAVA√á√ÉO / ACESSO ATIVADO</b> - essa op√ß√£o permite que os clientes Windows se registrem no servidor por meio da API do WIN32 e recebam informa√ß√µes sobre altera√ß√µes em arquivos, conte√∫do de diret√≥rios ou renomea√ß√£o de objetos na pasta compartilhada.  Isso permite, por exemplo, atualizar automaticamente o conte√∫do das bolas no Windows Explorer sem for√ßar o servidor a consultar novamente. <br><br>  <b>DISPONIBILIDADE CONT√çNUA</b> - pode ser entendido pelo nome que a inclus√£o da funcionalidade melhora a toler√¢ncia a falhas das sess√µes abertas na bola SMB.  Essa funcionalidade funciona apenas para clientes que usam o SMB 3.0 e superior.  O servidor de cada sess√£o armazena determinados metadados, o que permite reabrir sess√µes interrompidas sem nova autoriza√ß√£o no servidor NAS.  Essa funcionalidade √© muito √∫til para trabalhar com, por exemplo, Hyper-V ou MS SQL.  Se, por qualquer motivo, ocorrer uma desconex√£o de curto prazo, o cliente perceber√° um pequeno atraso na transfer√™ncia de dados.  Por exemplo, o download de um arquivo grande brevemente "pausa" e continua automaticamente a partir do mesmo local em que a conex√£o foi desconectada.  No caso do Unity, como o servidor NAS vive em um controlador f√≠sico espec√≠fico, quando o controlador reinicia ou falha, o servidor NAS reinicia no controlador vizinho.  Consequentemente, fisicamente, por algum tempo, todas as sess√µes SMB ser√£o interrompidas.  O SMB3 provavelmente n√£o notar√° isso, diferentemente dos clientes com uma vers√£o mais antiga do protocolo. <br><br>  <b>A CRIPTOGRAFIA DE PROTOCOLO</b> √© um recurso da vers√£o do protocolo SMB3, que permite criptografar dados transmitidos entre o servidor e o cliente.  Quando ativado na bola, todos os clientes com uma vers√£o mais antiga do protocolo SMB (padr√£o) n√£o poder√£o efetuar login e acessar dados nessa bola.  Para alterar esse comportamento, voc√™ precisa corrigir as configura√ß√µes no registro remoto no servidor NAS. <br><br>  <b>ENUMERA√á√ÉO BASEADA EM ACESSO</b> - o par√¢metro de bolas de arquivo, que quando ativado oculta ao usu√°rio todos os arquivos e diret√≥rios para os quais o usu√°rio n√£o possui permiss√µes expl√≠citas de leitura.  Quando a op√ß√£o est√° desativada, os usu√°rios veem todos os diret√≥rios e arquivos, incluindo aqueles para os quais eles n√£o t√™m permiss√£o de leitura, mas ainda n√£o podem abrir esses diret√≥rios e arquivos.  Este par√¢metro n√£o afeta usu√°rios com privil√©gios de administrador no servidor NAS. <br><br>  <b>BRANCHCACHE</b> - o par√¢metro √© relevante para organiza√ß√µes com escrit√≥rios remotos.  Ele permite armazenar em cache o arquivo recebido das bolas no escrit√≥rio central localmente.  Para isso, pode ser usada parte da RAM do cliente que solicitou o arquivo pela primeira vez no escrit√≥rio central ou um servidor BranchCache especialmente configurado no escrit√≥rio remoto.  Assim, √© muito prov√°vel que o pr√≥ximo cliente que solicitou o mesmo arquivo o receba localmente de um computador / servidor vizinho sem a necessidade de fazer o download atrav√©s do canal WAN no escrit√≥rio central.  Esse recurso √© mais √∫til ao trabalhar com dados raramente alterados, o que permite armazen√°-los em um cache local em um escrit√≥rio remoto em d√≠vida.  A funcionalidade funciona usando uma compara√ß√£o de arquivo hash no escrit√≥rio central e armazenada no cache local. <br><br>  <b>DISPONIBILIDADE OFFLINE</b> - quando ativada, esta op√ß√£o permite que os clientes armazenem em cache o conte√∫do das bolas de arquivo localmente.  E trabalhe com arquivos, inclusive offline, sem ter uma conex√£o real com o pr√≥prio arquivo. <br><br>  <b>UMASK</b> - funciona com esferas SMB somente quando o modo <b>Multiprotocolo</b> est√° ativado no servidor NAS.  Permite determinar no estilo unix com quais direitos de acesso os arquivos ser√£o criados no compartilhamento de arquivos por padr√£o. <br>  <b>Fim do spoiler</b> <br></div></div><br>  O Dell EMC Unity oferece suporte ao DFS ( <b>Sistema de arquivos distribu√≠dos da Microsoft</b> ).  Ao mesmo tempo, o servidor NAS no sistema de armazenamento pode ser configurado como raiz DFS independente ou como um n√≥ folha na estrutura raiz do DFS do Active Directory.  No entanto, infelizmente, o modo DFS-R (Replica√ß√£o) n√£o √© suportado.  Se voc√™ deseja organizar a replica√ß√£o de dados em um recurso remoto, ter√° que <br>  Use a funcionalidade de replica√ß√£o interna entre duas matrizes do Unity.  Nesse caso, uma das matrizes ou ambas podem ser virtuais. <br><br><h2>  Criando o sistema de arquivos e o primeiro diret√≥rio compartilhado </h2><br>  Para criar o FS, v√° para a interface de gerenciamento no caminho <b>Armazenamento&gt; Arquivo</b> e, em seguida, na guia <b>Sistemas de Arquivos</b> .  Clique em " <b>+</b> " e entre no assistente de cria√ß√£o de um sistema de arquivos. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/6k/nu/8x/6knu8x0u2nn96u03cvq-xkol5e8.png"></a> <br><br>  Selecionamos o servidor NAS no qual o novo sistema de arquivos ser√° montado (se v√°rios servidores de arquivos j√° tiverem sido criados no Unity).  Se o servidor for criado com suporte para v√°rias op√ß√µes de protocolo, selecione o protocolo pelo qual o FS criado ser√° compartilhado.  Nesse caso, o SMB ser√° selecionado imediatamente, pois o servidor NAS SRV1 est√° ativado apenas para este protocolo. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/gj/j8/cj/gjj8cj9pqrrvbqzdv5kascpsou0.png"></a> <br><br>  Nas configura√ß√µes avan√ßadas, a inclus√£o de v√°rios recursos descritos acima est√° oculta.  Voc√™ pode alterar essas configura√ß√µes mesmo depois de criar o sistema de arquivos. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/ic/_j/pw/ic_jpwb6og5sgibmo_4s0jqfy0w.png"></a> <br><br>  Indo adiante no assistente, indicamos o nome do sistema de arquivos e sua breve descri√ß√£o. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/wx/kb/ve/wxkbvetr6xx4ecerlzunvnitm6y.png"></a> <br><br>  Na pr√≥xima etapa, voc√™ precisa selecionar o conjunto de discos no qual o FS ser√° criado.  Ele n√£o precisa ser o mesmo conjunto de discos no qual colocamos a configura√ß√£o do servidor NAS.  Aqui n√≥s escolhemos o tamanho do futuro FS.  Al√©m disso, como o pr√≥prio sistema de armazenamento gerencia esse sistema de arquivos, no futuro, podemos alterar seu tamanho para cima e para baixo.  A seguir, por padr√£o, est√° a caixa de sele√ß√£o <b>Fino</b> , para que o FS seja criado em um formato fino e cres√ßa √† medida que √© preenchido com dados.  E a caixa de sele√ß√£o padr√£o para <b>redu√ß√£o de dados</b> n√£o vale a pena. <br>  <b>Um pouco mais sobre a redu√ß√£o de dados sob o spoiler.</b> <br><div class="spoiler">  <b class="spoiler_title">Breve descri√ß√£o da redu√ß√£o de dados</b> <div class="spoiler_text">  A redu√ß√£o de dados √© um mecanismo que permite desduplicar e compactar dados na mem√≥ria f√≠sica dos controladores f√≠sicos do Unity e gravar dados j√° reduzidos em volume no conjunto de discos.  Isso economiza espa√ßo em disco.  O mecanismo, em particular, permite determinar blocos de dados obstru√≠dos por zeros, o que geralmente √© um caso especial de desduplica√ß√£o.  Abaixo est√£o algumas boas fotos de como a redu√ß√£o de dados funciona. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/bn/bu/j-/bnbuj-yg17lg-72fzy6m5hfbkbk.png"></a> <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/se/17/rj/se17rjcifc5dneukdyxsu2mjevc.png"></a> <br><br>  O mecanismo de redu√ß√£o de dados funciona igualmente bem para volumes de blocos e sistemas de arquivos.  Como sempre, h√° v√°rios recursos: <br><br><ul><li>  Se voc√™ ativar a caixa de sele√ß√£o em um volume de bloco ou sistema de arquivos j√° criado, os dados gravados anteriormente permanecer√£o inalterados.  Apenas novas opera√ß√µes de grava√ß√£o diminuir√£o de tamanho.  Da mesma forma, se voc√™ desativar a Redu√ß√£o de Dados, os dados desduplicados e compactados ser√£o armazenados em um formato reduzido at√© serem exclu√≠dos ou substitu√≠dos. </li><li>  Se um novo bloco exclusivo de 8 KB for gravado no armazenamento no LUN ou FS com a redu√ß√£o de dados ativada, ele, de acordo com o diagrama de blocos acima, ser√° verificado quanto √† ‚Äúcompressibilidade‚Äù.  Se a opera√ß√£o de compacta√ß√£o do bloco n√£o economizar espa√ßo em disco, o bloco ser√° gravado em seu tamanho original. </li><li>  Antes de fornecer ao cliente os dados solicitados que passaram pela Redu√ß√£o de Dados, os dados s√£o restaurados primeiro ao seu estado original na mem√≥ria do controlador Unity e somente depois retornados ao cliente. </li></ul><br>  A descri√ß√£o acabou por n√£o ser muito curta :).  Ainda assim, n√£o √© uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow">"Vis√£o geral da DELL EMC UNITY: REDU√á√ÉO DE DADOS" de</a> 30 p√°ginas. <br>  <b>Fim do spoiler</b> <br></div></div><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/fk/9n/zs/fk9nzspsrnpchnuhfq72tmc2pp4.png"></a> <br><br>  Em seguida, sem falhas, marque a caixa de sele√ß√£o <b>Compartilhamento SMB</b> e especifique o nome da primeira pasta compartilhada neste sistema de arquivos.  Se essa primeira bola padr√£o n√£o for criada, os direitos de acesso ao sistema de arquivos podem n√£o ser corretamente inicializados.  A pasta compartilhada criada pode ser exclu√≠da e recriada conforme necess√°rio no console de gerenciamento do Windows. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/hs/wg/d4/hswgd4u8i878zv_iw8kiv013sh0.png"></a> <br><br>  N√£o fazemos configura√ß√µes adicionais para as bolas criadas, pois a recriaremos de qualquer maneira no futuro. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/z0/aw/om/z0awomntzmu-mj5jww2ebfdi_6i.png"></a> <br><br>  Em seguida, podemos definir o agendamento pelo qual os instant√¢neos do sistema de arquivos ser√£o criados.  Voc√™ pode selecionar um dos agendamentos padr√£o dispon√≠veis no Unity ou criar os seus pr√≥prios clicando em <b>Novo Agendamento</b> . <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/d6/ye/if/d6yeifwng0fcpayhkeehpeacvuq.png"></a> <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/fe/c_/_p/fec__puagjeaa2guoymf7c4ls9k.png"></a> <br><br>  <b>Leia mais sobre INSTANT√ÇNEOS sob o spoiler abaixo</b> <br><div class="spoiler">  <b class="spoiler_title">Um pouco interessante sobre os instant√¢neos de arquivo</b> <div class="spoiler_text">  O Unity suporta mecanismos para criar instant√¢neos do sistema de arquivos, de acordo com um cronograma predeterminado, e no modo manual.  Os instant√¢neos s√£o executados usando a tecnologia Redirect on Write (ROW).  I.e.  depois de criar uma captura instant√¢nea e, se necess√°rio, substituir o bloco de dados original, o novo bloco de dados √© gravado para liberar espa√ßo no conjunto de discos.  E o bloco original permanece em seu lugar original e continua a ser usado se estiver associado a pelo menos um instant√¢neo ou √† lua original.  I.e.  de fato, para a lua original, o link nos metadados para a localiza√ß√£o do bloco gravado simplesmente muda.  O mesmo acontece com os instant√¢neos usados ‚Äã‚Äãno modo de leitura de registros.  E os snapshots de arquivos podem ser montados em servidores NAS e ter acesso a eles como diret√≥rios compartilhados independentes.  Esquematicamente, o snapshot √© o seguinte. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/1t/na/p7/1tnap7hgt2rwmtnizrm37i4ipsy.png"></a> <br><br>  A cria√ß√£o de um instant√¢neo de um instant√¢neo tamb√©m √© suportada.  At√© 10 n√≠veis de aninhamento. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/rq/1p/6n/rq1p6n0clgzsh8ersxsdcxqiw_e.png"></a> <br><br>  Para sistemas de arquivos, √© poss√≠vel criar c√≥pias de captura instant√¢nea e restaurar um sistema de arquivos a partir de uma captura instant√¢nea.  I.e.  o estado do sistema de arquivos pode ser retornado no momento em que o instant√¢neo foi criado. <br><br>  Caracter√≠sticas quantitativas gerais para capturas instant√¢neas para sistemas Unity s√£o fornecidas na tabela abaixo. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/r_/8a/tl/r_8atly3t5aeozvf17zo0cei3k0.png"></a> <br><br>  Voc√™ pode criar seu pr√≥prio agendamento de instant√¢neo no Unity com anteced√™ncia em <b>Prote√ß√£o e mobilidade&gt; Agendamento de instant√¢neos</b> . <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/n5/cn/kq/n5cnkqfcbxbk8qjvvvswisigjn0.png"></a> <br><br>  Observe que os instant√¢neos indicam imediatamente o hor√°rio em que foram armazenados em <b>Reter</b> , ap√≥s o qual o instant√¢neo ser√° exclu√≠do do conjunto de discos.  Isso √© feito para n√£o sobrecarregar o conjunto de discos com o conte√∫do das capturas instant√¢neas que n√£o s√£o mais necess√°rias.  Se voc√™ selecionar <b>Pol√≠tica de Exclus√£o Autom√°tica de Conjunto</b> , a pol√≠tica especificada nas propriedades do conjunto de discos ser√° aplicada.  Exclui capturas instant√¢neas com base na capacidade total do conjunto de discos com dados ou na porcentagem de espa√ßo em disco ocupado por capturas instant√¢neas.  Por padr√£o, os seguintes valores se aplicam: <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/jv/62/cl/jv62cl8dytigbhq0g0nshaqffja.png"></a> <br><br>  Ao criar um instant√¢neo no modo manual, voc√™ pode especificar que ele n√£o possa ser exclu√≠do automaticamente em uma programa√ß√£o.  Mas, nesse caso, esses instant√¢neos n√£o devem ser esquecidos para serem exclu√≠dos quando se tornarem desnecess√°rios. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/na/7v/bp/na7vbpevm7vmz4filvlgcf_08ma.png"></a> <br><br>  Como o sistema de arquivos √© completamente controlado pela matriz, os instant√¢neos gerados s√£o automaticamente obtidos como consistentes.  Os instant√¢neos do sistema de arquivos Unity tamb√©m s√£o convenientes porque, para clientes Windows, eles se integram automaticamente ao Servi√ßo de C√≥pia de Sombra de Volume do Windows (Windows VSS).  Isso significa que, em todas as vers√µes modernas do Windows, um usu√°rio comum pode abrir as propriedades da pasta no diret√≥rio compartilhado e, acessando a guia Vers√µes Anteriores, obter acesso ao conte√∫do dos instant√¢neos.  <b>I.e.</b>  <b>um usu√°rio comum, sem envolver administradores, pode se recuperar de um instant√¢neo, incluindo arquivos exclu√≠dos acidentalmente.</b>  Para bolas criadas anteriormente no servidor SRV1 NAS, ser√° a seguinte. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/i5/ve/tk/i5vetkdmpoimzfrxitp2csdtvii.png"></a> <br><br>        ,             ,    <b>Acceess Type = Share</b> . <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/wv/aq/qr/wvaqqrfsq_ysfz1-b1istwunslg.png"></a> <br><br>     <b>Storage &gt; File</b>   <b>SMB Shares</b>      . <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/st/tx/yj/sttxyj0tiwpx0njzqbeuuiyqddg.png"></a> <br><br>      ,          <b>Snapshot for File System</b> .     ,      . <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/ih/f0/4u/ihf04ukgdmr4ho1kzil6tjplwgw.png"></a> <br><br>       . <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/ca/r5/4j/car54j4renqzdegg9jqk7y7moeu.png"></a> <br><br>          ,   Advanced       . <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/gf/z7/u9/gfz7u9jruwrpjfnfoggg6k4svm8.png"></a> <br><br>   . <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/w2/ux/22/w2ux229l2_dmi993odf6hrs34pi.png"></a> <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/8k/dx/py/8kdxpyvqwwyrzndu1orskp_8gsg.png"></a> <br><br>       Windows. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/av/lv/du/avlvdu4_deeoqdgez7mvko5qz_8.png"></a> <br> <b> </b> <br></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configura√ß√µes de replica√ß√£o de arquivos entre os sistemas Unity que descreverei mais adiante. </font><font style="vertical-align: inherit;">Para isso, apenas </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Next</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Verificamos as configura√ß√µes feitas e iniciamos a cria√ß√£o do FS. </font><font style="vertical-align: inherit;">F√£s de guias de v√≠deo podem assistir a este v√≠deo oficial:</font></font><br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/xi/vn/66/xivn66aecsd3mkn7jzcy3jig_fi.png"></a> <br><br><font style="vertical-align: inherit;"></font><br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/8e/qu/yz/8equyzgcv9b9fa41z3hmcmps4oi.png"></a> <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/bt/7i/hc/bt7ihcuzhrg7ytrlcp2ukkj8iqg.png"></a> <br><br><font style="vertical-align: inherit;"></font><br><iframe width="560" height="315" src="https://www.youtube.com/embed/vhkfy_iuwVc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gerenciando um servidor NAS a partir dos snap-ins do Windows </font></font></h2><br>  Como mencionei acima, podemos gerenciar servidores NAS criados no armazenamento a partir de snap-ins padr√£o do Windows.  Por exemplo, podemos abrir o snap-in <b>Gerenciamento</b> do <b>Computador</b> (de qualquer uma das maneiras convenientes) e, em seguida, <b>A√ß√£o&gt; Conectar-se a outro computador ...</b> Naturalmente, para conectar e gerenciar totalmente, precisamos ter direitos de administrador no servidor NAS.  Para o servidor NAS introduzido no AD, basta executar o snap-in <b>Gerenciamento</b> do <b>Computador</b> com direitos de administrador de dom√≠nio.  A conex√£o em si leva algum tempo, que ficar√° vis√≠vel assim que voc√™ tentar expandir a √°rvore de objetos no parente do servidor remoto. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/mh/vy/yt/mhvyytvanglnnzzyinbxlywjbpe.png"></a> <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/pd/a7/l1/pda7l1us-wniidah96ii-sgulf8.png"></a> <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/xm/i_/pz/xmi_pzxbnrggashowehd7ci4ckg.png"></a> <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/8h/zq/g2/8hzqg2tsyz6fi9ogeyccob0r1em.png"></a> <br><br>  Uma vez no equipamento de controle do nosso servidor NAS, podemos gerenciar o pr√≥prio servidor e as esferas de arquivos nele.  Em princ√≠pio, o gerenciamento n√£o √© muito diferente do gerenciamento t√≠pico de uma m√°quina Windows.  Naturalmente, a maioria dos elementos do snap-in que n√£o est√£o relacionados √† funcionalidade do arquivo simplesmente n√£o funcionar√°.  Por exemplo, Gerenciador de dispositivos.  O que voc√™ pode usar s√£o subse√ß√µes das <b>Ferramentas</b> do <b>Sistema</b> .  Nomeadamente, <b>Pastas Compartilhadas</b> , <b>Usu√°rios e Grupos Locais e</b> <b>Visualizador de Eventos</b> , que precisar√£o ser ativados separadamente.  Vou descrever como fazer isso um pouco mais tarde. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/wo/th/_w/woth_wz5mi7nigojxykkceng9yw.png"></a> <br><br>  Como a pasta compartilhada que criamos por padr√£o compartilha a raiz do sistema de arquivos, nessa raiz o diret√≥rio t√≠pico dos pontos de montagem do Unix fica vis√≠vel.  No qual, em outros assuntos, n√£o h√° acesso. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/vd/kp/pe/vdkppe_xkli6y7gqtanwftvbyru.png"></a> <br><br>  Para n√£o confundir usu√°rios comuns, √© melhor criar diret√≥rios separados no sistema de arquivos e compartilh√°-los j√°.  Na verdade, isso remove a bola padr√£o do snap.  Clique com o bot√£o direito do mouse no diret√≥rio e em <b>Parar compartilhamento</b> .  E depois crie um novo. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/ez/re/lj/ezreljatmrltac2dtj1dbk8ir8s.png"></a> <br><br>  Al√©m disso, passando pelo assistente do Windows, voc√™ precisa clicar no bot√£o <b>Procurar</b> no <b>caminho</b> da <b>pasta</b> <b>...</b> e veremos a raiz do nosso servidor NAS com todos os sistemas de arquivos e instant√¢neos.  A prop√≥sito, voc√™ pode compartilhar instant√¢neos somente leitura a partir daqui, diferente da interface de gerenciamento do Unity.  √â claro que escrever em tais bolas n√£o ser√° poss√≠vel.  No nosso caso, precisamos <b>acessar</b> o sistema de arquivos <b>FS2</b> e clicar em <b>Criar nova pasta</b> .  Em seguida, selecionamos a pasta criada e seguimos para o assistente. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/lx/p9/3t/lxp93tjg2l7dyoz4smnqmufolz4.png"></a> <br><br>  Especifique um nome para as bolas.  Ou deixe como est√°.  Indicamos se os usu√°rios podem armazenar em cache o conte√∫do das bolas e obter acesso offline a elas. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/se/on/9y/seon9yld9gmvhqte9qu-vrta7l0.png"></a> <br><br>  Defina os direitos de acesso padr√£o para a bola. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/zq/ko/ao/zqkoaooah4a7uunysijed8g8iqc.png"></a> <br><br>  Como resultado, obtemos um diret√≥rio compartilhado limpo e vazio <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/sw/0r/t6/sw0rt6gaymns-oc2d5z6yf7kyrk.png"></a> <br><br>  Al√©m disso, podemos alterar os direitos de acesso nessa pasta compartilhada como em uma bola normal do Windows.  Na minha opini√£o, a maneira mais conveniente √© conceder todos os direitos a <b>todos</b> na guia <b>Permiss√£o de compartilhamento</b> e remover todos os outros daqui. <br><br> <a href="https://" rel="nofollow"><img src="https://habrastorage.org/webt/0j/m2/jw/0jm2jwrp5zncp40-tolgyt34ism.png"></a> <br><br>  E ent√£o, pelos pr√≥prios direitos de dirigir, na guia <b>Seguran√ßa</b> .  Aqui podemos especificar os grupos de usu√°rios de que precisamos e seus direitos.  Podemos remover a heran√ßa de direitos do sistema de arquivos e refazer tudo o que precisamos. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/cq/tu/xm/cqtuxmls8z55tndc8wdddxydpf8.png"></a> <br><br>  Todas as altera√ß√µes nos diret√≥rios compartilhados feitas no snap-in do Windows devem ser exibidas corretamente na interface de gerenciamento de armazenamento em <b>Armazenamento&gt; Arquivo&gt; Compartilhamentos SMB</b> .  Se por algum motivo esse n√£o for o caso, talvez seja necess√°rio reiniciar o Servi√ßo de Gerenciamento da Unity.  Este procedimento n√£o afeta de maneira alguma o acesso do usu√°rio aos dados armazenados no sistema de armazenamento.  I.e.  os usu√°rios n√£o notar√£o nada.  Apenas 7 a 10 minutos, a interface de controle ficar√° indispon√≠vel. <br>  V√° para a se√ß√£o <b>Sistema&gt; Servi√ßo</b> da guia <b>Tarefas de servi√ßo</b> .  Na se√ß√£o <b>Sistema de Armazenamento</b> , selecione <b>Reiniciar Software de Gerenciamento</b> e clique em <b>Executar</b> . <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/11/je/y5/11jey5pqak336ewcpbuebfbgb9y.png"></a> <br><br>  Como resultado, tudo deve ficar assim na interface de gerenciamento de armazenamento.  I.e.  do Unisphere, voc√™ pode alterar as configura√ß√µes <b>avan√ßadas</b> das bolas de arquivo criadas no snap-in do Windows. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/7r/h6/5m/7rh65mmx_qapowqdu8vhiuevtvq.png"></a> <br><br>  O servidor NAS criado com a conex√£o do AD usa pol√≠ticas de grupo de dom√≠nio (GPOs).  O servidor NAS l√™ pol√≠ticas do dom√≠nio e as atualiza periodicamente.  A frequ√™ncia depende das configura√ß√µes especificadas no GPO no pr√≥prio dom√≠nio.  <b>A lista de pol√≠ticas suportadas est√° oculta no spoiler abaixo.</b> <br><div class="spoiler">  <b class="spoiler_title">Lista de GPOs suportados</b> <div class="spoiler_text">  <b>Kerberos</b> <br><ul><li>  Toler√¢ncia m√°xima para sincroniza√ß√£o do rel√≥gio do computador (inclina√ß√£o do rel√≥gio).  A sincroniza√ß√£o de hor√°rio √© feita por servidor NAS. </li><li>  Vida √∫til m√°xima para o ticket do usu√°rio </li></ul><br>  <b>Pol√≠tica de auditoria</b> <br><ul><li>  Auditar eventos de logon da conta </li><li>  Gerenciamento de contas de auditoria </li><li>  Acesso ao servi√ßo de diret√≥rio de auditoria </li><li>  Eventos de logon de auditoria </li><li>  Acesso ao objeto de auditoria </li><li>  Altera√ß√£o da pol√≠tica de auditoria </li><li>  Uso de privil√©gios de auditoria </li><li>  Acompanhamento do processo de auditoria </li><li>  Eventos do sistema de auditoria </li></ul><br>  <b>Direito do usu√°rio</b> <br><ul><li>  Acesse este computador pela rede </li><li>  Fazer backup de arquivos e diret√≥rios </li><li>  Ignorar verifica√ß√£o transversal </li><li>  Negar acesso a este computador da rede </li><li>  Verifica√ß√£o de v√≠rus </li><li>  Gere auditorias de seguran√ßa </li><li>  Gerenciar auditoria e log de seguran√ßa </li><li>  Restaurar arquivos e diret√≥rios </li><li>  Assumir a propriedade de arquivos ou outros objetos </li></ul><br>  <b>Op√ß√µes de seguran√ßa</b> <br><ul><li>  Assine digitalmente a comunica√ß√£o do cliente (sempre) </li><li>  Assine digitalmente a comunica√ß√£o do cliente (quando poss√≠vel) </li><li>  Assine digitalmente a comunica√ß√£o do servidor (sempre) </li><li>  Assine digitalmente a comunica√ß√£o do servidor (quando poss√≠vel) </li><li>  N√≠vel de autentica√ß√£o do LAN Manager </li></ul><br>  <b>Logs de eventos</b> <br><ul><li>  Tamanho m√°ximo do log do aplicativo </li><li>  Tamanho m√°ximo do log de seguran√ßa </li><li>  Tamanho m√°ximo do log do sistema </li><li>  Restrinja o acesso do convidado ao log do aplicativo </li><li>  Restrinja o acesso do convidado ao log de seguran√ßa </li><li>  Restrinja o acesso do convidado ao log do sistema </li><li>  Reter log do aplicativo l Reter log de seguran√ßa </li><li>  Reter o log do sistema l M√©todo de reten√ß√£o para o log do aplicativo </li><li>  M√©todo de reten√ß√£o para log de seguran√ßa </li><li>  M√©todo de reten√ß√£o para o log do sistema </li></ul><br>  <b>Diretiva de grupo</b> <br><ul><li>  Desativar atualiza√ß√£o em segundo plano da Diretiva de Grupo </li><li>  Intervalo de atualiza√ß√£o da Diretiva de Grupo para o computador </li></ul><br>  <b>Fim do spoiler</b> <br></div></div><br>  Outra oportunidade para ajustar os par√¢metros do servidor NAS SMB na matriz √© uma conex√£o remota ao seu registro.  Para fazer isso, execute o editor de registro regedit.exe (com direitos de administrador do AD) no Windows c.  E conecte-se ao registro remoto via <b>File&gt; Connect Network Registry ....</b>  Depois disso, parte dos par√¢metros no registro remoto estar√° dispon√≠vel para altera√ß√£o.  E a outra parte s√≥ pode ser visualizada e muda em outro console MMC especializado. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/jd/of/jy/jdofjy5nqd2rn4sibcy2sa3hn1s.png"></a> <br><br>  Como resultado, obtemos a seguinte imagem: <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/8f/0j/rb/8f0jrbwado-g-0zgbvw67plltd0.png"></a> <br><br>  Al√©m dos consoles MMC padr√£o do Windows, existem outros adicionais para trabalhar com servidores NAS no Unity.  Voc√™ pode obter a distribui√ß√£o deles no portal de servi√ßos do fornecedor ou solicitar parceiros de servi√ßos envolvidos no suporte t√©cnico da sua matriz.  A vers√£o mais recente dispon√≠vel atualmente est√° dispon√≠vel como o arquivo 8.1.9.157_Unity_VNXFileCifsMgmt.exe.  Como o nome indica, o mesmo utilit√°rio tamb√©m √© usado para configurar funcionalidades adicionais para servidores de dados e NAS nas gera√ß√µes anteriores de matrizes VNX e VNXe.  Essa distribui√ß√£o pode ser implantada em qualquer computador de dom√≠nio.  A captura de tela abaixo mostra que funcionalidade o snap-in instalado cont√©m. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/nx/jm/pj/nxjmpj6nuqdzv9cdcrvrdfu0rpa.png"></a> <br><br>  A inicializa√ß√£o do console do mmc deve ser feita na conta de administrador do dom√≠nio via <b>execu√ß√£o</b> , onde o comando <b>mmc / 32</b> √© inserido. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/7a/sq/mt/7asqmtzazetpjkv4kz9c-tmefve.png"></a> <br><br>  No console, selecione <b>Arquivo&gt; Adicionar / Remover Snap-in ....</b> <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/qh/nm/nb/qhnmnbzzvvd1bchb7ttfpxldtbm.png"></a> <br><br>  Aqui temos dois novos snap-ins.  O primeiro √© o <b>Data Mover / NAS Server Management</b> e o segundo √© o <b>Unity / VNX / VNXe NAS UNIX User Management</b> .  No nosso caso, selecione o primeiro e clique em <b>Adicionar&gt;</b> . <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/xl/vd/ef/xlvdefp6c7cmnrtjcwmggyrcfmi.png"></a> <br><br>  Como resultado, abriremos outra janela em que precisamos selecionar o servidor NAS que iremos configurar. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/81/xr/6p/81xr6pvsid0n_gamooeg2qhfto8.png"></a> <br><br>  Em seguida, obtemos acesso ao console, onde podemos gerenciar e configurar funcionalidades adicionais do nosso servidor NAS.  Em particular, diret√≥rio inicial, integra√ß√£o de diret√≥rios compartilhados com programas antiv√≠rus e configurar v√°rios par√¢metros adicionais relacionados √† seguran√ßa. <br><br>  Mas as primeiras coisas primeiro.  Diret√≥rio inicial √© a funcionalidade que permite que todos os usu√°rios obtenham o mesmo link para a pasta de rede dom√©stica no formato \\ SRV1 \ home, mas cada usu√°rio ser√° levado para seu pr√≥prio diret√≥rio com permiss√µes predefinidas.  Al√©m disso, se um diret√≥rio pessoal n√£o existir e o usu√°rio acessar o link acima, o diret√≥rio pessoal poder√° ser criado automaticamente.  Voc√™ pode usar isso, por exemplo, para perfis port√°teis no AD.  Sim, assim como as unidades de rede pessoais que podem ser criadas automaticamente e, no script, especifique um caminho comum para todos. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/je/bc/ur/jebcurw9htlo5_t89tcev-lts5k.png"></a> <br><br>  Ao criar um novo diret√≥rio inicial, express√µes regulares s√£o permitidas.  Por exemplo, todos os usu√°rios cujas contas come√ßam com as letras de a a k podem ser enviados para um diret√≥rio em um FS e o restante para outro diret√≥rio em outro FS. <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/ky/pv/zb/kypvzbq9r3fetelve_xliv6czge.png"></a> <br><br>  A lista de servidores antiv√≠rus com os quais as bolas de arquivos podem ser integradas no Unity: <br><br> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/tz/cg/lm/tzcglmx5obuo9gbpg16qygqnan8.png"></a> <br><br>  O console do MMC e sua se√ß√£o AntiVirus permitem conectar o servidor NAS ao servidor antiv√≠rus, ajustar e definir v√°rios par√¢metros para trabalhar com a verifica√ß√£o de arquivos em esferas de arquivos. <br><br>  A se√ß√£o ‚ÄúData Mover \ NAS Security Settings‚Äù tamb√©m permite executar v√°rias configura√ß√µes relacionadas √† seguran√ßa, em particular, ativar o Gerenciador de Eventos no servidor NAS e exibir eventos no console de Gerenciamento do Computador conectado a este servidor.  √â verdade que o tamanho do log √© limitado a um m√°ximo de 512 KB.  Ao atingir quais eventos come√ßam a girar.  O acesso direto ao arquivo de log pode ser obtido com direitos de administrador do servidor NAS ao longo do caminho: <br><br>  <b>\\ storage_server_netbios_name \ C $ \. etc \ audit \ security.evt</b> <br><br><h2>  Fornecendo toler√¢ncia a falhas quando conectado √† rede corporativa </h2><br>  Voc√™ pode assistir a um breve v√≠deo sobre como ele funciona e como configurar o LACP e o FSN no Unity.  √â bem visual. <br><iframe width="560" height="315" src="https://www.youtube.com/embed/hCYBMtDCD-A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Ps Infelizmente, eu n√£o tive a paix√£o de terminar o artigo de uma s√≥ vez; portanto, n√£o funcionou para consagrar toda a funcionalidade da parte do arquivo do Unity na estrutura de um artigo.  Al√©m disso, enquanto eu planejava continuar meus pensamentos, eles "me tiraram" do suporte do sistema de armazenamento.  Portanto, se algu√©m estiver interessado no artigo, talvez eu descreva o restante na pr√≥xima parte.  Definitivamente, n√£o toquei na configura√ß√£o de um servidor SMB aut√¥nomo com contas locais, criando um servidor NAS multiprotocolo com acesso aos mesmos dados usando protocolos diferentes, replica√ß√£o de arquivos, que agora est√° dispon√≠vel nas vers√µes ass√≠ncrona e s√≠ncrona e muito mais .  No entanto, o artigo est√° em rascunho h√° quase um m√™s.  Por isso, espalhei como est√°, de repente ser√° √∫til para algu√©m e isso me dar√° motiva√ß√£o para continuar e criar a segunda parte. <br><br>  PsPs A Dell EMC possui uma vers√£o virtual do Unity VSA, que tamb√©m pode ser usada com uma licen√ßa de shareware para fins de teste.  Infelizmente, somente quem tem uma conta nos portais do fornecedor pode acess√°-la.  Uma maneira alternativa de obter um aplicativo √© uma solicita√ß√£o dos parceiros da Dell EMC.  Ao mesmo tempo, quanto √† parte do arquivo, o sistema √© totalmente funcional para si mesmo, at√© a replica√ß√£o funciona.  As √∫nicas diferen√ßas arquitet√¥nicas significativas em rela√ß√£o √†s contrapartes de ferro s√£o o controlador √∫nico, a falta de portas FC e a limita√ß√£o do volume licenciado para o conjunto de discos de "4 TB" com uma licen√ßa gratuita. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt419107/">https://habr.com/ru/post/pt419107/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt419097/index.html">Mambot - um bot no Telegram para mulheres gr√°vidas</a></li>
<li><a href="../pt419099/index.html">WebSockets em Angular. Parte 2. Solu√ß√µes de produtos</a></li>
<li><a href="../pt419101/index.html">Criar jogo durante o hackathon noturno</a></li>
<li><a href="../pt419103/index.html">Escrevendo um tradutor simples em Lisp - I</a></li>
<li><a href="../pt419105/index.html">Link para a transmiss√£o Slurm (Kubernetes Intensivo)</a></li>
<li><a href="../pt419109/index.html">Explique a franja no Android P. O que fazer com o Android Cutout?</a></li>
<li><a href="../pt419111/index.html">Food Design Digest Julho 2018</a></li>
<li><a href="../pt419115/index.html">CD inicializ√°vel e jogo retr√¥ em um tweet</a></li>
<li><a href="../pt419117/index.html">‚Äú√â dif√≠cil para mim entender a motiva√ß√£o de um cientista de dados que n√£o v√™ beleza na matem√°tica‚Äù - Kirill Danilyuk, cientista de dados</a></li>
<li><a href="../pt419119/index.html">A caneta inteligente premium Montblanc √© a caneta inteligente mais cara at√© hoje</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>