<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò• üßîüèº üíï Experi√™ncia CacheBrowser: ignorando um firewall chin√™s sem proxy usando o cache de conte√∫do üôèüèø ü¶î üé∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Imagem: Unsplash 

 Hoje, uma parte significativa de todo o conte√∫do da Internet √© distribu√≠da usando redes CDN. Ao fazer isso, pesquise sobre como v√°...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Experi√™ncia CacheBrowser: ignorando um firewall chin√™s sem proxy usando o cache de conte√∫do</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/infatica/blog/467201/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/iz/gi/tk/izgitkylrj2d3k_ui8z8a4dtyoy.jpeg"></a> <br><br>  <i>Imagem: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Unsplash</a></i> <br><br>  Hoje, uma parte significativa de todo o conte√∫do da Internet √© distribu√≠da usando redes CDN.  Ao fazer isso, pesquise sobre como v√°rios censores espalham sua influ√™ncia nessas redes.  Cientistas da Universidade de Massachusetts <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">analisaram</a> poss√≠veis m√©todos de bloqueio do conte√∫do de CDN usando o exemplo das pr√°ticas das autoridades chinesas e tamb√©m desenvolveram uma ferramenta para contornar tais bloqueios. <br><br>  Preparamos um material de revis√£o com as principais conclus√µes e resultados deste experimento. <a name="habracut"></a><br><br><h2>  1. Introdu√ß√£o </h2><br>  A censura √© uma amea√ßa global √† liberdade de express√£o na Internet e ao livre acesso √† informa√ß√£o.  De v√°rias maneiras, isso √© poss√≠vel devido ao fato de a Internet ter emprestado o modelo de "comunica√ß√£o de ponta a ponta" das redes telef√¥nicas da d√©cada de 70 do s√©culo passado.  Isso permite bloquear o acesso ao conte√∫do ou √† comunica√ß√£o do usu√°rio sem grandes esfor√ßos ou despesas, simplesmente com base no endere√ßo IP.  Existem v√°rias maneiras de bloquear o endere√ßo em si com conte√∫do proibido e bloquear a capacidade dos usu√°rios de reconhec√™-lo usando a manipula√ß√£o de DNS. <br><br>  No entanto, o desenvolvimento da Internet tamb√©m levou ao surgimento de novas maneiras de disseminar informa√ß√µes.  Um deles √© o uso de conte√∫do em cache para melhorar o desempenho e acelerar as comunica√ß√µes.  Hoje, os fornecedores de CDN lidam com uma quantidade significativa de todo o tr√°fego no mundo - apenas a Akamai, l√≠der nesse segmento, responde por at√© 30% do tr√°fego est√°tico da Web global. <br><br>  Uma rede CDN √© um sistema distribu√≠do para fornecer conte√∫do da Internet na velocidade m√°xima.  Uma rede CDN t√≠pica consiste em servidores em v√°rias localiza√ß√µes geogr√°ficas que armazenam em cache o conte√∫do para "fornec√™-lo" aos usu√°rios mais pr√≥ximos desse servidor.  Isso pode aumentar significativamente a velocidade da comunica√ß√£o online. <br><br>  Al√©m de melhorar a qualidade do servi√ßo para os usu√°rios finais, a hospedagem CDN ajuda os criadores de conte√∫do a escalar seus projetos, reduzindo a carga na infraestrutura. <br><br><h2>  Censurando o conte√∫do da CDN </h2><br>  Apesar do fato de o tr√°fego da CDN j√° representar uma parcela significativa de todas as informa√ß√µes transmitidas pela Internet, quase n√£o h√° pesquisas sobre como os censores no mundo real abordam seu controle. <br><br>  Os autores do estudo come√ßaram com um estudo de t√©cnicas de censura que podem ser aplicadas √†s CDNs.  Eles ent√£o examinaram os mecanismos reais que as autoridades chinesas est√£o usando. <br><br>  Primeiro, vamos falar sobre os poss√≠veis m√©todos de censura e a possibilidade de sua aplica√ß√£o para o controle da CDN. <br><br><h2>  Filtragem IP </h2><br>  Essa √© a t√©cnica de censura na Internet mais f√°cil e barata.  Usando essa abordagem, o censor detecta e coloca na lista negra os endere√ßos IP de recursos que hospedam conte√∫do proibido.  Os provedores de servi√ßos de Internet controlados param de entregar os pacotes enviados para esses endere√ßos. <br><br>  O bloqueio baseado em IP √© um dos m√©todos mais comuns de censura √† Internet.  A maioria dos dispositivos de rede comercial √© equipada com recursos para executar esses bloqueios sem custo computacional significativo. <br><br>  No entanto, esse m√©todo n√£o √© muito adequado para bloquear o tr√°fego de CDN devido a algumas propriedades da pr√≥pria tecnologia: <br><br><ul><li>  <b>Armazenamento em cache distribu√≠do</b> - para garantir a melhor acessibilidade do conte√∫do e otimizar o desempenho, as redes CDN armazenam em cache o conte√∫do do usu√°rio em um grande n√∫mero de servidores de borda localizados em locais geograficamente distribu√≠dos.  Para filtrar esse conte√∫do baseado em IP, o censor precisar√° descobrir os endere√ßos de todos os servidores de borda e coloc√°-los na lista negra.  Isso atingir√° as principais propriedades do m√©todo, porque sua principal vantagem √© que, no esquema usual, o bloqueio de um servidor permite "interromper" o acesso ao conte√∫do proibido imediatamente para um grande n√∫mero de pessoas. </li><li>  <b>IP compartilhado</b> - os provedores comerciais de CDN compartilham sua infraestrutura (ou seja, servidores de borda, sistema de mapeamento etc.) entre v√°rios clientes.  Como resultado, o conte√∫do da CDN proibido √© baixado dos mesmos endere√ßos IP do conte√∫do n√£o proibido.  Como resultado, qualquer tentativa de filtragem de IP levar√° ao fato de que um grande n√∫mero de sites e conte√∫dos que n√£o est√£o interessados ‚Äã‚Äãem censores tamb√©m ser√£o bloqueados. </li><li>  <b>Atribui√ß√£o de IP altamente din√¢mica</b> - para otimizar o balanceamento de carga e melhorar a qualidade do servi√ßo, o mapeamento de servidores de borda e usu√°rios finais √© muito r√°pido e din√¢mico.  Por exemplo, a Akamai atualiza os endere√ßos IP retornados a cada minuto.  Isso tornar√° quase imposs√≠vel associar endere√ßos a conte√∫do proibido. </li></ul><br><h2>  Interfer√™ncia DNS </h2><br>  Al√©m da filtragem de IP, outra maneira popular de censurar √© a interfer√™ncia no DNS.  Essa abordagem envolve as a√ß√µes dos censores para garantir que os usu√°rios n√£o reconhe√ßam os endere√ßos IP de recursos com conte√∫do proibido.  Ou seja, a interven√ß√£o est√° no n√≠vel da resolu√ß√£o de nomes de dom√≠nio.  Existem v√°rias maneiras de fazer isso, incluindo invadir conex√µes DNS, usar a t√©cnica de envenenamento por DNS e bloquear consultas DNS em sites proibidos. <br><br>  Essa √© uma maneira muito eficaz de bloquear, mas pode ser contornada se voc√™ usar m√©todos n√£o padr√£o de resolu√ß√£o de DNS, por exemplo, canais fora de banda.  Portanto, os censores normalmente combinam o bloqueio de DNS com a filtragem de IP.  Mas, como mencionado acima, a filtragem de IP n√£o √© eficaz para censurar o conte√∫do da CDN. <br><br><h2>  Filtragem de URL / palavra-chave com DPI </h2><br>  Equipamentos modernos para monitorar a atividade da rede podem ser usados ‚Äã‚Äãpara analisar URLs e palavras-chave espec√≠ficas nos pacotes de dados transmitidos.  Essa tecnologia √© chamada DPI (inspe√ß√£o profunda de pacotes).  Esses sistemas encontram refer√™ncias a palavras e recursos proibidos, ap√≥s o que h√° uma interfer√™ncia na comunica√ß√£o online.  Como resultado, os pacotes s√£o simplesmente descartados. <br><br>  Esse m√©todo √© eficaz, mas mais complexo e consome muitos recursos, pois requer a desfragmenta√ß√£o de todos os pacotes de dados enviados em determinados fluxos. <br><br>  O conte√∫do da CDN pode ser protegido contra essa filtragem e tamb√©m o conte√∫do "regular" - nos dois casos, o uso da criptografia (ou seja, HTTPS) ajuda. <br><br>  Al√©m de usar o DPI para pesquisar palavras-chave ou URLs de recursos proibidos, essas ferramentas podem ser usadas para an√°lises mais avan√ßadas.  Tais m√©todos incluem an√°lise estat√≠stica de tr√°fego online / offline e an√°lise de protocolos de identifica√ß√£o.  Esses m√©todos s√£o extremamente intensivos em recursos e, no momento, simplesmente n√£o h√° evid√™ncias de que os censores os usem em uma quantidade suficientemente s√©ria. <br><br><h2>  Autocensura dos provedores de CDN </h2><br>  Se o censor for um estado, ele ter√° toda a oportunidade de proibir que os provedores de CDN que n√£o cumpram as leis locais que regem o acesso ao conte√∫do trabalhem no pa√≠s.  A autocensura n√£o pode ser resistida de forma alguma - portanto, se uma empresa provedora de CDN estiver interessada em trabalhar em um pa√≠s, ser√° for√ßada a cumprir as leis locais, mesmo que restrinjam a liberdade de express√£o. <br><br><h2>  Como o conte√∫do da CDN da China Censors </h2><br>  O grande firewall chin√™s n√£o √© considerado irracionalmente o sistema mais eficaz e avan√ßado para fornecer censura na Internet. <br><br><h3>  Metodologia de pesquisa </h3><br>  Os cientistas experimentaram um n√≥ Linux localizado na China.  Eles tamb√©m tiveram acesso a v√°rios computadores no exterior.  Inicialmente, os pesquisadores verificaram que o n√≥ estava censurado, semelhante ao aplicado a outros usu√°rios chineses - para isso, tentaram abrir v√°rios sites proibidos a partir desta m√°quina.  Portanto, a presen√ßa do mesmo n√≠vel de censura foi confirmada. <br><br>  A lista de sites bloqueados por CDN na China foi retirada do GreatFire.org.  Em seguida, foi realizada uma an√°lise do m√©todo de bloqueio em cada caso. <br><br>  Segundo dados abertos, a Akamai √© o √∫nico grande player no mercado de CDN com infraestrutura pr√≥pria na China.  Outros provedores envolvidos no estudo: CloudFlare, Amazon CloudFront, EdgeCast, Fastly e SoftLayer. <br><br>  Durante os experimentos, os pesquisadores descobriram os endere√ßos dos servidores de borda da Akamai dentro do pa√≠s e tentaram obter o conte√∫do permitido em cache por meio deles.  N√£o foi poss√≠vel acessar o conte√∫do proibido (erro HTTP 403 Proibido retornado) - obviamente, a empresa realiza autocensura para manter a possibilidade de trabalhar no pa√≠s.  Ao mesmo tempo, o acesso a esses recursos permaneceu aberto fora do pa√≠s. <br><br>  Fornecedores sem infraestrutura na China n√£o usam autocensura para usu√°rios locais. <br><br>  No caso de outros provedores, o m√©todo mais comum de bloqueio era a filtragem de DNS - as solicita√ß√µes para sites bloqueados s√£o resolvidas para endere√ßos IP inv√°lidos.  Ao mesmo tempo, o firewall n√£o bloqueia os servidores CDN de ponta, pois eles armazenam informa√ß√µes proibidas e permitidas. <br><br>  E se no caso de tr√°fego n√£o criptografado, as autoridades tiverem a oportunidade de bloquear p√°ginas individuais de sites usando DPI, usando HTTPS, elas poder√£o restringir o acesso a todo o dom√≠nio como um todo.  Isso leva, entre outras coisas, ao bloqueio de conte√∫do permitido. <br><br>  Al√©m disso, a China possui seus pr√≥prios provedores de CDN, incluindo redes como ChinaCache, ChinaNetCenter e CDNetworks.  Todas essas empresas cumprem totalmente as leis do pa√≠s e bloqueiam conte√∫do proibido. <br><br><h2>  CacheBrowser: ferramenta de desvio de bloqueio CDN </h2><br>  Como a an√°lise mostrou, os censores acham dif√≠cil bloquear o conte√∫do da CDN.  Portanto, os pesquisadores decidiram ir al√©m e desenvolver uma ferramenta de desvio de bloqueio on-line que n√£o usaria a tecnologia proxy. <br><br>  A id√©ia principal da ferramenta √© que os censores precisam interferir na opera√ß√£o do DNS para bloquear as CDNs, mas n√£o √© necess√°rio usar a resolu√ß√£o de nomes de dom√≠nio para carregar o conte√∫do da CDN.  Assim, o usu√°rio pode obter o conte√∫do necess√°rio entrando em contato diretamente com o servidor de borda no qual ele j√° est√° armazenado em cache. <br><br>  O diagrama abaixo mostra o dispositivo do sistema. <br><br><img src="https://habrastorage.org/webt/il/vl/hx/ilvlhxecdrrz3r5ktipomtt2_2c.png"><br><br>  O software cliente est√° instalado no computador do usu√°rio e um navegador comum √© usado para acessar o conte√∫do. <br><br>  Ao solicitar uma URL ou parte do conte√∫do j√° solicitado, o navegador envia uma solicita√ß√£o ao sistema DNS local (LocalDNS) para obter o endere√ßo IP da hospedagem.  O DNS normal √© solicitado apenas para dom√≠nios que ainda n√£o est√£o no banco de dados LocalDNS.  O m√≥dulo Raspador passa constantemente pelos URLs solicitados e procura por nomes de dom√≠nio potencialmente bloqueados na lista.  Em seguida, o Scraper chama o m√≥dulo Resolver para resolver dom√≠nios bloqueados descobertos recentemente, esse m√≥dulo executa a tarefa e adiciona uma entrada ao LocalDNS.  Em seguida, o cache DNS do navegador √© limpo para remover os registros DNS existentes do dom√≠nio bloqueado. <br><br>  Se o m√≥dulo Resolver n√£o conseguir entender a qual provedor de CDN o dom√≠nio pertence, ele solicitar√° ajuda ao m√≥dulo Bootstrapper. <br><br><h2>  Como funciona na pr√°tica </h2><br>  O software cliente do produto foi implementado para Linux, mas pode ser facilmente portado, inclusive para Windows.  O navegador usa o Mozilla usual <br>  Firefox  Os m√≥dulos Scraper e Resolver s√£o gravados em Python, e os bancos de dados Customer-to-CDN e CDN-toIP s√£o armazenados em arquivos .txt.  O banco de dados localDNS √© o arquivo / etc / hosts normal no Linux. <br><br>  Como resultado, para um URL bloqueado do formul√°rio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">locked.com, o</a> script receber√° o endere√ßo IP do servidor de borda do arquivo / etc / hosts e enviar√° uma solicita√ß√£o HTTP GET para acessar BlockedURL.html com os campos do cabe√ßalho HTTP do host: <br><br><pre><code class="bash hljs">blocked.com/ and User-Agent: Mozilla/5.0 (Windows NT 5.1; rv:14.0) Gecko/20100101 Firefox/14.0.1</code> </pre> <br>  O m√≥dulo Bootstrapper √© implementado usando a ferramenta digwebinterface.com gratuita.  Esse resolvedor de DNS n√£o pode ser bloqueado e responde a consultas de DNS em nome de muitos servidores DNS distribu√≠dos geograficamente em v√°rias regi√µes da rede. <br><br>  Usando essa ferramenta, os pesquisadores conseguiram acessar o Facebook a partir de seu n√≥ chin√™s - embora a rede social esteja bloqueada na China h√° muito tempo. <br><br><img src="https://habrastorage.org/webt/b6/qi/kt/b6qiktkhufpdl0rrtmg0lmwy3s0.png"><br><br><h2>  Conclus√£o </h2><br>  O experimento mostrou que o uso de problemas que os censores experimentam ao tentar bloquear o conte√∫do da CDN pode ser usado para criar um sistema para contornar bloqueios.  Essa ferramenta permite ignorar bloqueios, mesmo na China, onde um dos mais poderosos sistemas de censura online opera. <br><br><h2>  Outros artigos sobre o uso de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">proxies residentes</a> para neg√≥cios: </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como proxies residentes ajudam nos neg√≥cios: um caso real de uso do Infatica na minera√ß√£o de dados</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Analisando.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como os proxies do SOCKS funcionam: pr√≥s, contras, diferen√ßas de outras tecnologias</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como escolher uma rede proxy para o seu neg√≥cio: 3 dicas pr√°ticas</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt467201/">https://habr.com/ru/post/pt467201/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt467189/index.html">Amostragem de temperatura</a></li>
<li><a href="../pt467191/index.html">Como criamos o Vivaldi para Android</a></li>
<li><a href="../pt467193/index.html">V√≠rus mineiro com "Porta do C√©u"</a></li>
<li><a href="../pt467197/index.html">Como o polimorfismo √© implementado dentro da JVM</a></li>
<li><a href="../pt467199/index.html">Di√°rio de Tom Hunter: O C√£o dos Baskervilles</a></li>
<li><a href="../pt467203/index.html">Apenas divis√£o, ou como criar uma teoria matem√°tica e ganhar US $ 400 mil com ela. S√©rie dois, pen√∫ltimo</a></li>
<li><a href="../pt467205/index.html">Desenvolvemos um aplicativo que envia dados para outros aplicativos (aplicativo do ecossistema)</a></li>
<li><a href="../pt467207/index.html">Cinco linguagens de programa√ß√£o promissoras com um futuro brilhante (3 anos depois)</a></li>
<li><a href="../pt467209/index.html">"Agentes Aut√¥nomos" ou execute o c√≥digo na plataforma aberta de criptografia Obyte</a></li>
<li><a href="../pt467215/index.html">22 Museus da computa√ß√£o: um guia para engenheiros que viajam pela Europa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>