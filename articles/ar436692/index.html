<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ ๐๐ผ (ูู) ุงูุญุฑุจ ุงููุญุฏูุฏุฉ ๐ฉ๐ปโ๐คโ๐จ๐ฟ ๐ง๐พ ๐๐ฝ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูุฏููุง ูุดููุฉ. ุงููุดููุฉ ูุน ุงูุงุฎุชุจุงุฑ. ุงููุดููุฉ ูู ุงุฎุชุจุงุฑ ููููุงุช ุงูุชูุงุนู ุ ููู ุฃุณุงุณูุฉ ููุบุงูุฉ. ุฅูู ูุชุนูู ุจุงููุฑู ุจูู unit testing integration testing . ูุชุนูู ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>(ูู) ุงูุญุฑุจ ุงููุญุฏูุฏุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436692/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/4w/m4/cc/4wm4ccdyq2tqs2giqspeys3e9sa.jpeg" alt="ุญุฑุจ ูุง ุญุตุฑ ููุง"></p><br><p style=";text-align:right;direction:rtl"> ูุฏููุง ูุดููุฉ.  ุงููุดููุฉ ูุน ุงูุงุฎุชุจุงุฑ.  ุงููุดููุฉ ูู ุงุฎุชุจุงุฑ ููููุงุช ุงูุชูุงุนู ุ ููู ุฃุณุงุณูุฉ ููุบุงูุฉ.  ุฅูู ูุชุนูู ุจุงููุฑู ุจูู <code>unit testing</code> <code>integration testing</code> .  ูุชุนูู ุงูุฃูุฑ ุจุงููุฑู ุจูู ูุง ูุณููู ุงุฎุชุจุงุฑ ุงููุญุฏุฉ ููุง ูุณููู ุงุฎุชุจุงุฑ ุงูุชูุงูู ูุงูุญุฌู ูุงููุทุงู. </p><br><p style=";text-align:right;direction:rtl">  ูุง ูุชุนูู ุงูุฃูุฑ ุจุงุฎุชุจุงุฑ ููุณู ุ ุจู ูุชุนูู ุจูุญุต ุงูููููุงุช.  ุญูู ุงููุฑู ุจูู <strong>ููููุงุช</strong> ุงูุงุฎุชุจุงุฑ ูุงูููุชุจุงุช ุงููุณุชููุฉ <strong>ูุงูุชุทุจููุงุช</strong> ุงูููุงุฆูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุนูู ุงูุฌููุน ููููุฉ ุงุฎุชุจุงุฑ ุงูููููุงุช ุงูุจุณูุทุฉ (ููู ุจุณูุทุฉ) ุ ูุฑุจูุง ูุนุฑููู ููููุฉ ุงุฎุชุจุงุฑ ุงูุชุทุจููุงุช (E2E).  ููููุฉ ุงุฎุชุจุงุฑ ุงูุฃุดูุงุก <em>ุงููุญุฏุฏุฉ</em> <em>ูุงููุงููุงุฆูุฉ</em> ... </p><a name="habracut"></a><br><h2 id="define-the-problem" style=";text-align:right;direction:rtl">  ุชุญุฏูุฏ ุงููุดููุฉ </h2><br><p style=";text-align:right;direction:rtl">  ููุงู ุทุฑููุชุงู ูุฎุชููุชุงู ูุงุฎุชุจุงุฑ React Component - <code>shallow</code> ููู ุดูุก ุขุฎุฑ ุ ุจูุง ูู ุฐูู <code>react-testing-library</code> <code>mount</code> ุ <code>react-testing-library</code> ุ <code>webdriver</code> ููุง ุฅูู ุฐูู.  <code>shallow</code> ููุท ูู ุงูุฎุงุตุฉ - ุงูุจุงูู ูุชุตุฑู ุจููุณ ุงูุทุฑููุฉ. </p><br><p style=";text-align:right;direction:rtl">  ููุฐุง ุงูุงุฎุชูุงู ูุฏูุฑ ุญูู <em>ุงูุญุฌู ุ ูุงููุทุงู</em> - ุญูู ูุง ุณูุชู ุงุฎุชุจุงุฑู ุ <em>ูููู ูุญุฏุซ</em> ุฌุฒุฆููุง. </p><br><p style=";text-align:right;direction:rtl">  ุจุงุฎุชุตุงุฑ - ูู ูุณุฌู <code>shallow</code> ุณูู ุฏุนูุงุช ุฅูู React.createElement ุ ูููู ูู ูุชู ุชุดุบูู ุฃู ุขุซุงุฑ ุฌุงูุจูุฉ ุ ุจูุง ูู ุฐูู ุชูุฏูู ุนูุงุตุฑ DOM - ุฅูู ุชุฃุซูุฑ ุฌุงูุจู (ุฌุจุฑู) ูู React.createElement. </p><br><p style=";text-align:right;direction:rtl">  ุณูููู ุฃู ุฃูุฑ ุขุฎุฑ ุจุชุดุบูู ุงูููุฏ ุงูุฐู ูุฏูุชู ูุน ูู ุชุฃุซูุฑ ุฌุงูุจู ูุชู ุชูููุฐู ุฃูุถูุง.  ููุง ุณูููู ูู ุงููุงูุน ุ ููุฐุง ูู ุงููุฏู. </p><br><p style=";text-align:right;direction:rtl">  <strong>ูุงููุดููุฉ</strong> ูู ุงูุชุงููุฉ: <code>you can NOT run each and every side effect</code> . </p><br><h3 id="why-not" style=";text-align:right;direction:rtl">  ูู ูุงุ </h3><br><p style=";text-align:right;direction:rtl">  ูุธููุฉ ุงูููุงุกุ  ุงูุทูุงุฑุฉ ูุงูุซุจุงุช - ุงูุฃุจูุงุฑ ุงูููุฏุณุฉ ุงูููู.  ูุฃูุช ุฐุจุญ ูุงุญุฏ ูููู.  ุงูุจุฏูููุงุช ูู ุงุฎุชุจุงุฑ ูุญุฏุฉ - ุฃู ุขุซุงุฑ ุฌุงูุจูุฉ ุ ูุงูุนุฒูุฉ ุ ูุงูุณุฎุฑูุฉ ุ ูู ุดูุก ุชุญุช ุงูุณูุทุฑุฉ. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูููู ูุฐู <em>ููุณุช ูุดููุฉ</em> ุจุงููุณุจุฉ ... <code>dumb components</code> .  ููู ุบุจูุฉ ุ ุชุญุชูู ููุท ุนูู ุทุจูุฉ ุงูุนุฑุถ ุงูุชูุฏููู ุ ูููู ููุณ "ุชุฃุซูุฑุงุช ุฌุงูุจูุฉ". </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูููู ูุฐู <em>ูุดููุฉ</em> <code>Containers</code> .  ุทุงููุง ุฃููุง ููุณุช ุบุจูุฉ ุ ูุชุญุชูู ุนูู ูุง ูุฑูุฏูู ุ ูุจุดูู ูุงูู ุนู ุงูุขุซุงุฑ ุงูุฌุงูุจูุฉ.  ูู ุงููุดููุฉ! </p><br></li></ul><br><p style=";text-align:right;direction:rtl">  ุฑุจูุง ุ ุฅุฐุง ุญุฏุฏูุง ููุงุนุฏ "ุงููููู ุงูุตุญูุญ" ุ ูููููุง ุฃู ูุฎุชุจุฑูุง ุจุณูููุฉ - ุฅููุง ุณุชูุฌููุง ูุชุณุงุนุฏูุง. </p><br><blockquote style=";text-align:right;direction:rtl">  TRDL: ุงููููู ุงููุญุฏูุฏ </blockquote><br><h2 id="smart-and-dumb-components" style=";text-align:right;direction:rtl">  ุงูููููุงุช ุงูุฐููุฉ ูุงูุจูู </h2><br><p style=";text-align:right;direction:rtl">  ูููุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููููุงุช</a> ุนุฑุถ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงู ุฏุงู ุงุจุฑุงููู</a> ูู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุดุนุฑ ุจุงูููู ูุน ููู ุชุจุฏู ุงูุฃููุฑ. </li><li style=";text-align:right;direction:rtl">  ูุฏ ูุญุชูู ุนูู ููููุงุช <code>**</code> ูููููุงุช ุญุงููุฉ <code>**</code> ุงูุฏุงุฎู ุ ูุนุงุฏุฉู ูุง ุชุญุชูู ุนูู ุจุนุถ ุนูุงูุงุช ูุฃููุงุท DOM ุงูุฎุงุตุฉ ุจูุง. </li><li style=";text-align:right;direction:rtl">  ุบุงูุจูุง ูุง ุชุณูุญ ุจุงูุงุญุชูุงุก ุนุจุฑ this.props.children. </li><li style=";text-align:right;direction:rtl">  ูุง ุชุนุชูุฏ ุนูู ุจููุฉ ุงูุชุทุจูู ุ ูุซู ุฅุฌุฑุงุกุงุช Flux ุฃู ุงููุชุงุฌุฑ. </li><li style=";text-align:right;direction:rtl">  ูุง ุชุญุฏุฏ ููููุฉ ุชุญููู ุงูุจูุงูุงุช ุฃู ุชุญูุฑูุง. </li><li style=";text-align:right;direction:rtl">  ุชููู ุงูุจูุงูุงุช ูุฑุฏูุฏ ุงููุนู ุญุตุฑุง ุนุจุฑ ุงูุฏุนุงุฆู. </li><li style=";text-align:right;direction:rtl">  ูุงุฏุฑุงู ูุง ูููู ูุฏููู ุญุงูุฉ ุฎุงุตุฉ ุจูู (ุนูุฏูุง ููุนููู ุ ุชููู ุญุงูุฉ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุจุฏูุงู ูู ุงูุจูุงูุงุช). </li><li style=";text-align:right;direction:rtl">  ูุชู ูุชุงุจุชูุง ูููููุงุช ูุธูููุฉ ูุง ูู ุชูู ุจุญุงุฌุฉ ุฅูู ุญุงูุฉ ุฃู ุฎุทุงูุงุช ุฏูุฑุฉ ุญูุงุฉ ุฃู ุชุญุณููุงุช ูู ุงูุฃุฏุงุก. </li><li style=";text-align:right;direction:rtl">  ุฃูุซูุฉ: ุงูุตูุญุฉ ุ ุงูุดุฑูุท ุงูุฌุงูุจู ุ ุงููุตุฉ ุ UserInfo ุ ุงููุงุฆูุฉ. </li><li style=";text-align:right;direction:rtl">  .... </li><li style=";text-align:right;direction:rtl">  ูุงูุญุงููุงุช ูู ูุฌุฑุฏ ูุฒูุฏู ุงูุจูุงูุงุช / ุงูุฏุนุงุฆู ููุฐู ุงูููููุงุช. </li></ul><br><p style=";text-align:right;direction:rtl">  ููููุง ููุฃุตูู: <strong>ูู ุงูุชุทุจูู ุงููุซุงูู ...</strong> <strong><br></strong>  <strong>ุงูุญุงููุงุช ูู ุงูุดุฌุฑุฉ.</strong>  <strong>ุงูููููุงุช ูู ุฃูุฑุงู ุงูุดุฌุฑ.</strong> </p><br><h4 id="find-the-black-cat-in-the-dark-room" style=";text-align:right;direction:rtl">  ุงูุนุซูุฑ ุนูู ุงููุทุฉ ุงูุณูุฏุงุก ูู ุงูุบุฑูุฉ ุงููุธููุฉ </h4><br><p style=";text-align:right;direction:rtl">  ุงูุตูุตุฉ ุงูุณุฑูุฉ ููุง ุ ุชุบููุฑ ูุงุญุฏ ูุชุนูู ุนูููุง ุชุนุฏููู ูู ูุฐุง ุงูุชุนุฑูู ุ ูุฎููุฉ ุฏุงุฎู <em>"ูุฏ ุชุญุชูู ุนูู ููููุงุช <code>**</code> ูููููุงุช ุญุงููุฉ <code>**</code> "</em> ุ ูุงุณูุญูุง ูู ุฃู ุฃุฐูุฑ ููุงูุฉ ุฃุตููุฉ: </p><br><blockquote style=";text-align:right;direction:rtl">  ูู ุฅุตุฏุงุฑ ุณุงุจู ูู ูุฐู ุงูููุงูุฉ ุ ุงุฏุนุช ุฃู ุงูููููุงุช ุงูุชูุฏูููุฉ ูุฌุจ ุฃู ุชุญุชูู ููุท ุนูู ููููุงุช ุนุฑุถูุฉ ุฃุฎุฑู.  ูู ุฃุนุฏ ุฃุนุชูุฏ ุฃู ูุฐุง ูู ุงูุญุงู.  ุณูุงุก ูุงู ุงููููู ูููููุง ุชูุฏููููุง ุฃู ุญุงููุฉ ูู ุชูุงุตูู ุชูููุฐูุง.  ูุฌุจ ุฃู ุชููู ูุงุฏุฑูุง ุนูู ุงุณุชุจุฏุงู ุฃุญุฏ ุงูููููุงุช ุงูุชูุฏูููุฉ ุจุญุงููุฉ ุฏูู ุชุนุฏูู ุฃู ูู ููุงูุน ุงูุงุชุตุงู.  ูุฐูู ุ ูููู ุฃู ูุญุชูู ูู ูู ููููุงุช ุงูุนุฑุถ ุงูุชูุฏููู ูููููุงุช ุงูุญุงููุฉ ุนูู ููููุงุช ุนุฑุถูุฉ ุฃู ุญุงููุฉ ุฃุฎุฑู ุนูู ูุง ูุฑุงู. </blockquote><p style=";text-align:right;direction:rtl">  ุญุณููุง ุ ูููู ูุงุฐุง ุนู ุงููุงุนุฏุฉ ุ ููุง ูุฌุนู ูุญุฏุฉ ููููุงุช ุงูุนุฑุถ ุงูุชูุฏููู ูุงุจูุฉ ููุงุฎุชุจุงุฑ - <em>"ูู ูุฏูู ุฃู ุชุจุนูุงุช ุนูู ุจููุฉ ุงูุชุทุจูู"</em> ุ </p><br><p style=";text-align:right;direction:rtl">  ูุณูุก ุงูุญุธ ุ ูู ุฎูุงู ุชุถููู ุงูุญุงููุงุช ูู ููููุงุช ุงูุนุฑุถ ุงูุชูุฏููู ุ ูุฅูู ุชููู ุจุชุตููุน ุงูููููุงุช ุงูุฃุฎุฑู <strong>ุบูุฑ ุงููุญุฏูุฏุฉ</strong> ุ ูุญูู ุงูุงุนุชูุงุฏ ุนูู ุจููุฉ ุงูุชุทุจูู. </p><br><p style=";text-align:right;direction:rtl">  ุฑุจูุง ูุฐุง ููุณ ุดูุฆูุง ูุงู ูู ุงูููุชุฑุถ ุฃู ุชูุนูู.  ูุฐูู ุ ููุณ ูุฏู ุฃู ุฎูุงุฑ ุขุฎุฑ ุ ูููู ูุฌุนู ููููุงุช ุบุจูุฉ ูุญุฏูุฏุฉ: </p><br><p style=";text-align:right;direction:rtl">  <strong>ููููุงุช ุงูุนุฑุถ ูุฌุจ ุฃู ุชุญุชูู ููุท ุนูู ููููุงุช ุงูุนุฑุถ ุงูุชูุฏููู</strong> </p><br><p style=";text-align:right;direction:rtl">  ูุงูุณุคุงู ุงููุญูุฏ ุ ูุฌุจ ุฃู ุชุณุฃู (ุงููุธุฑ ูู ูุงุนุฏุฉ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงูุญุงููุฉ ุงูุฎุงุตุฉ ุจู): <em>ูููุ</em>  : tableflip:ุ! </p><br><p style=";text-align:right;direction:rtl">  ููููุงุช ุงูุนุฑุถ ุงูุชูุฏููู ูุงูุญุงููุงุช ููุณุช ูุชุดุงุจูุฉ ููุท ุ ูููู ูู ุจุนุถ ุงูุฃุญูุงู ูุง ูุชู ุงุณุชุฎุฑุงุฌูุง ูููุงูุงุช "ุฎุงูุตุฉ" (ูุฑุญุจูุง GraphQL). </p><br><h4 id="solution-1---di" style=";text-align:right;direction:rtl">  ุงูุญู 1 - DI </h4><br><p style=";text-align:right;direction:rtl">  ุงูุญู 1 ุจุณูุท - ูุง ูุญุชูู ุนูู ุญุงููุงุช ูุชุฏุงุฎูุฉ ูู ุงููููู ุงูุบุจู - ูุญุชูู ุนูู <code>slots</code> .  ูุง ุนููู ุณูู ูุจูู "ุงููุญุชูู" (ุงูุฃุทูุงู) ุ ูุฏุนุงุฆู ุ ููุฐุง ูู ุดุฃูู ุฃู ูุญู ุงููุดููุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฃูุช ูุงุฏุฑ ุนูู ุงุฎุชุจุงุฑ ุงููููู ุงูุบุจู ุจุฏูู "ุจููุฉ ุชุทุจููู" </li><li style=";text-align:right;direction:rtl">  ุฃูุช ูุงุฏุฑ ุนูู ุงุฎุชุจุงุฑ ุงูุชูุงูู ูุน ุงุฎุชุจุงุฑ ุงูุฏุฎุงู / ุงูุชูุงูู / e2e ุ ูููุณ ุงูุงุฎุชุจุงุฑุงุช. </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">// Test me with mount, with "slots emty". const PageChrome = ({children, aside}) =&gt; ( &lt;section&gt; &lt;aside&gt;{aside}&lt;/aside&gt; {children} &lt;/section&gt; ); // test me with shallow, or real integration test const PageChromeContainer = () =&gt; ( &lt;PageChrome aside={&lt;ASideContainer /&gt;}&gt; &lt;Page /&gt; &lt;/PageChrome&gt; );</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุงูู ุนููู ุฏุงู ููุณู: <br>  {ูช twitter 1021850499618955272ูช} </p><br><p style=";text-align:right;direction:rtl">  DI (ููุง Dependecy Injection ู Dependency Inversion) ุ ุนูู ุงูุฃุฑุฌุญ ุ ูู ุชูููุฉ ูุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู ููุง ุ ูุงุฏุฑุฉ ุนูู ุฌุนู ุญูุงุชู ุฃุณูู ุจูุซูุฑ. </p><br><blockquote style=";text-align:right;direction:rtl">  ุฃุดุฑ ููุง - ููููุงุช ุบุจูุฉ ูู ุบุจูุฉ! </blockquote><br><h4 id="solution-2---boundaries" style=";text-align:right;direction:rtl">  ุงูุญู 2 - ุงูุญุฏูุฏ </h4><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุญู ุชูุถูุญู ุชูุงููุง ููููู ุฃู ููุชุฏ <code>Solution 1</code> - ูู ููุท ุจุงูุฅุนูุงู ุนู ุฌููุน ููุงุท <em>ุงูุชูุฏูุฏ</em> .  ูุฌุฑุฏ ุงูุชูุงู ููู ... <code>Boundary</code> </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">const Boundary = ({children}) =&gt; ( process.env.NODE_ENV === 'test' ? null : children // or `jest.mock` ); const PageChrome = () =&gt; ( &lt;section&gt; &lt;aside&gt;&lt;Boundary&gt;&lt;ASideContainer /&gt;&lt;/Boundary&gt;&lt;/aside&gt; &lt;Boundary&gt;&lt;Page /&gt;&lt;/Boundary&gt; &lt;/section&gt; );</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฐูู - ุฃูุช ูุงุฏุฑ ุนูู ุชุนุทูู ุ ููุท ุตูุฑ ุ <code>Boundary</code> ูุชูููู ูุทุงู ุงูููููุงุช ุ ูุฌุนููุง <em>ูุญุฏูุฏุฉ</em> . </p><br><blockquote style=";text-align:right;direction:rtl">  ุฃุดุฑ ููุง - ุงูุญุฏูุฏ ุนูู ูุณุชูู ูููู ุฃุฎุฑุณ.  ุนูุตุฑ ุบุจู ูู ุงูุณูุทุฑุฉ ุนูู ููููุฉ ุงูุจูู ูู. </blockquote><br><h3 id="solution-3---tier" style=";text-align:right;direction:rtl">  ุงูุญู 3 - ุงููุณุชูู </h3><br><p style=";text-align:right;direction:rtl">  ูู ููุณ ุงูุญู 2 ุ ูููู ูุน ุญุฏูุฏ ุฃูุซุฑ ุฐูุงุกู ุ ูุงุฏุฑุฉ ุนูู ุงูุงุณุชูุฒุงุก <em>ุจุงูุทุจูุฉ</em> ุ ุฃู <em>ุงูุทุจูุฉ</em> ุ ุฃู ุฃู ุดูุก ุชูููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">const checkTier = tier =&gt; tier === currentTier; const withTier = tier =&gt; WrapperComponent =&gt; (props) =&gt; ( (process.env.NODE_ENV !== 'test' || checkTier(tier)) &amp;&amp; &lt;WrapperComponent{...props} /&gt; ); const PageChrome = () =&gt; ( &lt;section&gt; &lt;aside&gt;&lt;ASideContainer /&gt;&lt;/aside&gt; &lt;Page /&gt; &lt;/section&gt; ); const ASideContainer = withTier('UI')(...) const Page = withTier('Page')(...) const PageChromeContainer = withTier('UI')(PageChrome);</code> </pre> <br><blockquote style=";text-align:right;direction:rtl">  ุญุชู ูู ูุงู ูุฐุง ูุดุงุจููุง ุชูุฑูุจูุง ููุซุงู Boundary - ูููู Dumb ูู Dumb ุ ูุงูุญุงููุงุช ุงูุชู ุชุชุญูู ูู ุฅููุงููุฉ ุฑุคูุฉ ุญุงููุงุช ุฃุฎุฑู. </blockquote><br><h4 id="solution-4---separate-concerns" style=";text-align:right;direction:rtl">  ุงูุญู 4 - ูุฎุงูู ูููุตูุฉ </h4><br><p style=";text-align:right;direction:rtl">  ุญู ุขุฎุฑ ูู ููุท ููุตู ุงููุฎุงูู!  ุฃูุตุฏ - ููุฏ ูุนูุช ุฐูู ุจุงููุนู ุ ูุฑุจูุง ุญุงู ุงูููุช ููุงุณุชูุงุฏุฉ ููู. </p><br><blockquote style=";text-align:right;direction:rtl">  ูู ุฎูุงู <code>connect</code> ูููู ing ุจู Redux ุฃู GQL ุ ูุฅูู ุชููู ุจุฅูุชุงุฌ ุญุงููุงุช <em>ูุนุฑููุฉ ุฌูุฏูุง</em> .  ุฃุนูู - ุจุฃุณูุงุก <em>ูุนุฑููุฉ</em> - <code>Container(WrapperComponent)</code> .  ูุฏ ุชุณุฎุฑ ูููู ุจุฃุณูุงุฆูู </blockquote><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">const PageChrome = () =&gt; ( &lt;section&gt; &lt;aside&gt;&lt;ASideContainer /&gt;&lt;/aside&gt; &lt;Page /&gt; &lt;/section&gt; ); // remove all components matching react-redux pattern reactRemock.mock(/Connect\(\w\)/) // all any other container reactRemock.mock(/Container/)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฐุง ุงูููุฌ ุบูุฑ ููุฐุจ ุจุนุถ ุงูุดูุก - ุณูุคุฏู ุฅูู ูุณุญ <em>ูู ุดูุก</em> ุ ููุง ูุฌุนู ุงุฎุชุจุงุฑ ูููุชุงููุฑุณ ุฃููุณูู ุฃูุซุฑ ุตุนูุจุฉ ุ ูููููู ุงุณุชุฎุฏุงู ุงูุณุฎุฑูุฉ ุฃูุซุฑ ุชุนููุฏูุง ููููุงู ููุญูุงุธ ุนูู "ุงูุฃูู": </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">import {createElement, remock} from 'react-remock'; // initially "open" const ContainerCondition = React.createContext(true); reactRemock.mock(/Connect\(\w\)/, (type, props, children) =&gt; ( &lt;ContainerCondition.Consumer&gt; { opened =&gt; ( opened ? ( // "close" and render real component &lt;ContainerCondition.Provider value={false}&gt; {createElement(type, props, ...children)} &lt;ContainerCondition.Provider&gt; ) // it's "closed" : null )} &lt;/ContainerCondition.Consumer&gt; )</code> </pre> <br><blockquote style=";text-align:right;direction:rtl">  ุฃุดุฑ ููุง: ูุง ููุฌุฏ ููุทู ุฏุงุฎู ุฃู ุนุฑุถ ุชูุฏููู ุ ูููุณ ุญุงููุฉ - ูู ุงูููุทู ุฎุงุฑุฌ. </blockquote><br><h4 id="bonus-solution---separate-concerns" style=";text-align:right;direction:rtl">  ููุงูุฃุฉ ุงูุญู - ูุฎุงูู ูููุตูุฉ </h4><br><p style=";text-align:right;direction:rtl">  ููููู ุงูุญูุงุธ ุนูู <em>ุงูุชุฑุงู ุถูู</em> ุจุงุณุชุฎุฏุงู <code>defaultProps</code> ุ <code>defaultProps</code> ูุฐู ุงูุฏุนุงุฆู ูู ุงูุงุฎุชุจุงุฑุงุช ... </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">const PageChrome = ({Content = Page, Aside = ASideContainer}) =&gt; ( &lt;section&gt; &lt;aside&gt;&lt;Aside/&gt;&lt;/aside&gt; &lt;Content/&gt; &lt;/section&gt; );</code> </pre> <br><h2 id="so" style=";text-align:right;direction:rtl">  ุงุฐุงุ </h2><br><p style=";text-align:right;direction:rtl">  ููุฏ ูุดุฑุช ููุชู ุนุฏุฉ ุทุฑู ูุชูููู ูุทุงู ุฃู ูููู ุ ูุฌุนููุง ุฃูุซุฑ ูุงุจููุฉ ููุงุฎุชุจุงุฑ.  ุทุฑููุฉ ุจุณูุทุฉ ููุญุตูู ุนูู ูุงุญุฏ ูู <code>gear</code> ูู <code>gearbox</code> .  ููุท ุจุณูุท ูุชุฌุนู ุญูุงุชู ุฃุณูู. </p><br><p style=";text-align:right;direction:rtl">  ุชุนุชุจุฑ ุงุฎุชุจุงุฑุงุช E2E ุฑุงุฆุนุฉ ุ ูููู ูู ุงูุตุนุจ ูุญุงูุงุฉ ุจุนุถ ุงูุดุฑูุท ุ ูุงูุชู ูููู ุฃู ุชุญุฏุซ ุฏุงุฎู ููุฒุฉ ูุชุฏุงุฎูุฉ ุจุนูู ูุชููู ุฌุงูุฒุฉ ููุง.  ูุฌุจ ุฃู ูููู ูุฏูู ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ ูุชุชููู ูู ูุญุงูุงุฉ ุณููุงุฑูููุงุช ูุฎุชููุฉ.  ูุฌุจ ุฃู ูููู ูุฏูู ุงุฎุชุจุงุฑุงุช ุชูุงูู ููุชุฃูุฏ ูู ุฃู ูู ุดูุก ุณููู ุจุดูู ุตุญูุญ. </p><br><p style=";text-align:right;direction:rtl">  ุฃูุช ุชุนุฑู ุ ููุง ูุชุจ ุฏุงู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงูู ุงูุขุฎุฑ</a> : </p><br><blockquote style=";text-align:right;direction:rtl">  ุนูู ุณุจูู ุงููุซุงู ุ ุฅุฐุง ูุงู ูููู ุฃู ูููู ุงูุฒุฑ ูู ูุงุญุฏุฉ ูู 5 ุญุงูุงุช ูุฎุชููุฉ (ุนุงุฏูุฉ ุ ูุดุทุฉ ุ ุชุญูู ุ ุฎุทุฑ ุ ูุนุทู) ุ ููุฌุจ ุฃู ุชููู ุงูููุฏ ุงูุฐู ูููู ุจุชุญุฏูุซ ุงูุฒุฑ ุตุญูุญูุง ููุฏุฉ 5 ร 4 = 20 ุงูุชูุงูุงุช ูุญุชููุฉ - ุฃู ูุญุธุฑ ุจุนุถูุง.  ููู ูููููุง ุชุฑููุถ ุงูุงููุฌุงุฑ ุงูุชูุงููู ููุญุงูุงุช ุงููุญุชููุฉ ูุฌุนู ุงููุฎุฑุฌุงุช ุงููุฑุฆูุฉ ูุงุจูุฉ ููุชูุจุคุ </blockquote><p style=";text-align:right;direction:rtl">  ูู ุญูู ุฃู ุงูุญู ุงูุตุญูุญ ููุง ูู ุขูุงุช ุงูุญุงูุฉ ุ ุฅูุง ุฃู ุงููุฏุฑุฉ ุนูู ุงุฎุชูุงุฑ ุฐุฑุฉ ูุงุญุฏุฉ ุฃู ุฌุฒูุก ูุงุญุฏ ูุงููุนุจ ุจูุง - ูู ุงูุดุฑุท ุงูุฃุณุงุณู. </p><br><h3 id="the-main-points-of-this-article" style=";text-align:right;direction:rtl">  ุงูููุงุท ุงูุฑุฆูุณูุฉ ูู ูุฐุง ุงูููุงู </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชุญุชูู ููููุงุช ุงูุนุฑุถ ุงูุชูุฏููู ููุท ุนูู ููููุงุช ุงูุนุฑุถ ุงูุชูุฏููู ุงูุฃุฎุฑู. </li><li style=";text-align:right;direction:rtl">  ุงูุญุงููุงุช ูู ุงูุดุฌุฑุฉ.  ุงูููููุงุช ูู ุฃูุฑุงู ุงูุดุฌุฑ. </li><li style=";text-align:right;direction:rtl">  ูุณุช ูุถุทุฑูุง <em>ุฏุงุฆููุง</em> ุฅูู ุงุญุชูุงุก ุงูุญุงููุงุช ุฏุงุฎู ุงูุนุจูุงุช ุงูุนุฑุถูุฉ ุ ูููู <em>ูุง ูุฌุจ ุงุญุชูุงุฆูุง</em> ููุท ูู ุงูุงุฎุชุจุงุฑุงุช. </li></ol><br><blockquote style=";text-align:right;direction:rtl">  ูุฏ ุชุบูุต ูู ุงููุดููุฉ ุจุดูู ุฃุนูู ูู ุฎูุงู ูุฑุงุกุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุงูุฉ ุงููุชูุณุทุฉ</a> ุ ูููู ููุง ุฏุนููุง ูุชุฎุทู ูู ุงูุณูุฑ. </blockquote><p style=";text-align:right;direction:rtl">  ููุงุญุธุฉ: ูุฐู ุชุฑุฌูุฉ <em>ููุณุฎุฉ</em> ููุงูุฉ <em>ุฑู-ูุงุจุฑ</em> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar436692/">https://habr.com/ru/post/ar436692/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar436682/index.html">ูุง ุชูู ุจุฅูุดุงุก JL (DSL) ุงูุฎุงุต ุจู ูุชูุณูุน ูุธุงุฆู ุงูุชุทุจูู</a></li>
<li><a href="../ar436684/index.html">ุฐูุฑู ุฃูุฏุฑููุฏ 10 (ุณ). ูุง ูู ูุนุฑูู ุงูุขูุ</a></li>
<li><a href="../ar436686/index.html">JPEG ูู ุงูุนุงูู 3D. ูุง ูู glTFุ</a></li>
<li><a href="../ar436688/index.html">ุนููุงู ุชูููููุฌูุง ุงููุนูููุงุช ูุชุฑู ุงูุณูู ููุฑูุงุฆู ููุฑุงูุฒ ุงูุจูุงูุงุช - ุฃุฎุจุฑูุง ูุงุฐุง ูุนูู ุจุงููุณุจุฉ ููุฐู ุงูุตูุงุนุฉ</a></li>
<li><a href="../ar436690/index.html">[ุงุณุฃู - ุงูุฅุฌุงุจุฉ] ุญูู ุงูููููุฉ ุงูููุฑูุฉ ูุญูุงูุฉ ุงูุจูุงูุงุช</a></li>
<li><a href="../ar436694/index.html">ุจูุฏู ุจุงุณูุงู ูุชุฑุฌู ูุงููู ุงููุนุงุตุฑ ุงูุจูููุฏูุฉ</a></li>
<li><a href="../ar436696/index.html">ููููุฉ ุฅูุดุงุก ุตูุช ุจููุชุง ุงูุฃุฐููู ุนูู ูุณุงุฑ ุตูุช ุฃุญุงุฏู ุงูููุงุฉ - ุณูุณุงุนุฏ ุงูููุฏูู</a></li>
<li><a href="../ar436698/index.html">ูู ุนุฏุฏ ุงูุทุฑู ุงูุชู ูููููู ูู ุฎูุงููุง ูุชุงุจุฉ ููุฑุฉ ุฅูู ุงููุฎุทุทุ</a></li>
<li><a href="../ar436700/index.html">ููุงูุญุฉ ุงูุฎุฏุงุน: ููู ุชูุงูู ุฃูุธูุฉ ุงูุชุนุฑู ุนูู ุงููุฌูู ุงููุญุชุงูููุ</a></li>
<li><a href="../ar436704/index.html">ูุตุฉ ููู ุงุฎุชุฑูุง ุฌุฏุงูู ูุฃุชูุชุฉ ุงูุณุฌูุงุช ุงูููุฏูุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>