<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òéÔ∏è ‚úÇÔ∏è ü•õ Como se proteger contra o estouro de pilha (no Cortex M)? üë©‚Äç‚ù§Ô∏è‚Äçüë® üí™üèΩ ü§í</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Se voc√™ programa em um computador "grande", provavelmente n√£o tem essa pergunta. H√° muita pilha para transbordar, voc√™ precisa tentar. Na pior das hip...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como se proteger contra o estouro de pilha (no Cortex M)?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425071/">  Se voc√™ programa em um computador "grande", provavelmente n√£o tem essa pergunta.  H√° muita pilha para transbordar, voc√™ precisa tentar.  Na pior das hip√≥teses, voc√™ clica em OK em uma janela como essa e descobre. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b12/c2c/358/b12c2c358fa3a040589578b71521957b.png" alt="imagem"></div><br>  Mas se voc√™ programa microcontroladores, o problema parece um pouco diferente.  Primeiro voc√™ precisa <i>observar</i> que a pilha est√° cheia. <br><br>  Neste artigo, falarei sobre minha pr√≥pria pesquisa sobre esse t√≥pico.  Como eu programa principalmente no STM32 e no Milander 1986 - eu me concentrei neles. <br><a name="habracut"></a><br><h2>  1. Introdu√ß√£o </h2><br>  Vamos imaginar o caso mais simples: escrevemos c√≥digo simples de thread √∫nico sem nenhum sistema operacional, ou seja,  n√≥s temos apenas uma pilha.  E se voc√™, como eu, programa no uVision Keil, a mem√≥ria √© distribu√≠da de alguma forma assim: <br><br><img src="https://habrastorage.org/webt/er/tb/to/ertbtohh-xf2meqxvzekrxlmwoe.png"><br><br>  E se voc√™, como eu, considera a mem√≥ria din√¢mica nos microcontroladores um mal, fa√ßa o seguinte: <br><br><img src="https://habrastorage.org/webt/op/bu/el/opbuelnjpcvre-9jjpm_qnrlqcw.png"><br><br><div class="spoiler">  <b class="spoiler_title">By the way</b> <div class="spoiler_text">  Se voc√™ deseja proibir o uso de heap, fa√ßa o seguinte: <br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> import(__use_no_heap_region)</span></span></code> </pre> <br>  Detalhes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> <br></div></div><br>  OK, qual √© o problema?  O problema √© que Keil coloca a pilha <b>imediatamente</b> atr√°s da √°rea de dados est√°ticos.  E a pilha no Cortex-M est√° crescendo na dire√ß√£o da diminui√ß√£o de endere√ßos.  E quando transborda, simplesmente rasteja para fora da parte de mem√≥ria alocada.  E substitui quaisquer vari√°veis ‚Äã‚Äãest√°ticas ou globais. <br><br>  Especialmente bom se a pilha estourar apenas ao entrar na interrup√ß√£o.  Ou, melhor ainda, em uma interrup√ß√£o aninhada!  E estraga discretamente alguma vari√°vel usada em uma se√ß√£o de c√≥digo completamente diferente.  E o programa trava na declara√ß√£o.  Se voc√™ tiver sorte.  Heisenbag esf√©rico, pode-se procurar uma semana inteira com uma lanterna. <br><br>  Fa√ßa imediatamente uma reserva de que, se voc√™ usar um heap, o problema n√£o vai a lugar nenhum, apenas em vez de vari√°veis ‚Äã‚Äãglobais o heap estraga.  N√£o muito melhor. <br><br>  Ok, o problema est√° claro.  O que fazer <br><br><h2>  MPU </h2><br>  O mais simples e mais √≥bvio √© usar o MPU (em outras palavras, Unidade de prote√ß√£o de mem√≥ria).  Permite atribuir diferentes atributos a diferentes partes da mem√≥ria;  em particular, voc√™ pode cercar a pilha com regi√µes somente leitura e capturar o MemFault ao escrever nela. <br><br>  Por exemplo, em stm32f407 MPU √©.  Infelizmente, em muitos outros "junior" stm n√£o √©.  E no Milandrovsky 1986VE1 tamb√©m n√£o √©. <br><br>  I.e.  A solu√ß√£o √© boa, mas nem sempre acess√≠vel. <br><br><h2>  Controle manual </h2><br>  Ao compilar, o Keil pode gerar (e faz isso por padr√£o) um relat√≥rio html com um gr√°fico de chamada (op√ß√£o do vinculador "--info = stack").  E este relat√≥rio tamb√©m fornece informa√ß√µes sobre a pilha usada.  O Gcc tamb√©m pode fazer isso (op√ß√£o -fstack-use).  Portanto, √†s vezes voc√™ pode examinar este relat√≥rio (ou escrever um script que fa√ßa isso por voc√™ e cham√°-lo antes de cada compila√ß√£o). <br><br>  Al√©m disso, no in√≠cio do relat√≥rio, √© escrito um caminho que leva ao uso m√°ximo da pilha: <br><br><img src="https://habrastorage.org/webt/eb/mh/ao/ebmhaouyrjjvnmziubxybt3zyg0.png"><br><br>  O problema √© que, se seu c√≥digo possui chamadas de fun√ß√£o por ponteiros ou m√©todos virtuais (e eu os tenho), esse relat√≥rio pode subestimar bastante a profundidade m√°xima da pilha.  Bem, √© claro que as interrup√ß√µes n√£o s√£o levadas em considera√ß√£o.  N√£o √© uma maneira muito confi√°vel. <br><br><h2>  Posicionamento complicado da pilha </h2><br>  Eu aprendi sobre esse m√©todo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">neste artigo</a> .  O artigo √© sobre ferrugem, mas a id√©ia principal √© a seguinte: <br><br><img src="https://habrastorage.org/webt/i3/pz/yb/i3pzyb-ewbtxaei_oaz5mrhthda.png"><br><br>  Ao usar o gcc, isso pode ser feito usando o " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">link duplo</a> ". <br><br>  E no Keil, a localiza√ß√£o das √°reas pode ser alterada usando seu pr√≥prio script para o vinculador (arquivo de dispers√£o na terminologia do Keil).  Para fazer isso, abra as op√ß√µes do projeto e desmarque a op√ß√£o ‚ÄúUsar layout da mem√≥ria na caixa de di√°logo de destino‚Äù.  Em seguida, o arquivo padr√£o aparecer√° no campo "Arquivo de dispers√£o".  Parece algo como isto: <br><br><pre> <code class="cpp hljs">; ************************************************************* ; *** Scatter-Loading Description File generated by uVision *** ; ************************************************************* LR_IROM1 <span class="hljs-number"><span class="hljs-number">0x08000000</span></span> <span class="hljs-number"><span class="hljs-number">0x00020000</span></span> { ; load region size_region ER_IROM1 <span class="hljs-number"><span class="hljs-number">0x08000000</span></span> <span class="hljs-number"><span class="hljs-number">0x00020000</span></span> { ; load address = execution address *.o (RESET, +First) *(InRoot$$Sections) .ANY (+RO) } RW_IRAM1 <span class="hljs-number"><span class="hljs-number">0x20000000</span></span> <span class="hljs-number"><span class="hljs-number">0x00005000</span></span> { ; RW data .ANY (+RW +ZI) } }</code> </pre> <br>  O que fazer depois?  Poss√≠veis op√ß√µes.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">A documenta√ß√£o oficial</a> sugere a defini√ß√£o de se√ß√µes com nomes reservados - ARM_LIB_HEAP e ARM_LIB_STACK.  Mas isso implica conseq√º√™ncias desagrad√°veis, pelo menos para mim - o tamanho da pilha e da pilha ter√° que ser definido no arquivo de dispers√£o. <br><br>  Em todos os projetos que eu uso, os tamanhos de pilha e heap s√£o definidos no arquivo de inicializa√ß√£o do assembler (que Keil gera ao criar o projeto).  Eu realmente n√£o quero mudar isso.  Eu s√≥ quero incluir um novo arquivo de dispers√£o no projeto, e tudo ficar√° bem.  Ent√£o eu fui um pouco diferente: <br><br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text"><pre> <code class="cpp hljs">#! armcc -E ; with that we can use C preprocessor <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RAM_BEGIN 0x20000000 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> RAM_SIZE_BYTES (4*1024) #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> FLASH_BEGIN 0x8000000 #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> FLASH_SIZE_BYTES (32*1024) ; This scatter file places stack before .bss region, so on stack overflow ; we get HardFault exception immediately LR_IROM1 FLASH_BEGIN FLASH_SIZE_BYTES { ; load region size_region ER_IROM1 FLASH_BEGIN FLASH_SIZE_BYTES { ; load address = execution address *.o (RESET, +First) *(InRoot$$Sections) .ANY (+RO) } ; Stack region growing down REGION_STACK RAM_BEGIN { *(STACK) } ; We have to </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> heap region, even </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> we don</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">'t actually use heap REGION_HEAP ImageLimit(REGION_STACK) { *(HEAP) } ; this will place .bss region above the stack and heap and allocate RAM that is left for it RW_IRAM1 ImageLimit(REGION_HEAP) (RAM_SIZE_BYTES - ImageLength(REGION_STACK) - ImageLength(REGION_HEAP)) { *(+RW +ZI) } }</span></span></span></span></code> </pre> <br></div></div><br>  Ent√£o eu disse que todos os objetos denominados STACK devem estar localizados na regi√£o REGION_STACK e todos os objetos HEAP devem estar localizados na regi√£o REGION_HEAP.  E tudo o resto est√° na regi√£o RW_IRAM1.  E ele organizou as regi√µes nesta ordem - o come√ßo do operativo, a pilha, a pilha, tudo mais.  O c√°lculo √© que, no arquivo de inicializa√ß√£o do assembler, a pilha e a pilha s√£o definidas usando este c√≥digo (ou seja, como matrizes com os nomes STACK e HEAP): <br><br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Stack_Size EQU 0x00000400 AREA STACK, NOINIT, READWRITE, ALIGN=3 Stack_Mem SPACE Stack_Size __initial_sp Heap_Size EQU 0x00000200 AREA HEAP, NOINIT, READWRITE, ALIGN=3 __heap_base Heap_Mem SPACE Heap_Size __heap_limit PRESERVE8 THUMB</code> </pre> <br></div></div><br>  Ok, voc√™ pode perguntar, mas o que isso nos d√°?  E aqui est√° o que.  Agora, ao sair da pilha, o processador tenta gravar (ou ler) a mem√≥ria que n√£o existe.  E no STM32, ocorre uma interrup√ß√£o devido a uma exce√ß√£o - HardFault. <br><br>  Isso n√£o √© t√£o conveniente quanto o MemFault por causa da MPU, porque o HardFault pode ocorrer devido a v√°rios motivos, mas pelo menos o erro √© alto e n√£o √© silencioso.  I.e.  ocorre imediatamente, e n√£o ap√≥s um per√≠odo de tempo desconhecido, como era antes. <br><br>  O melhor de tudo √© que n√£o pagamos nada por isso, sem tempo de execu√ß√£o.  Uau.  Mas h√° um problema. <br><br>  <i>Isso n√£o funciona em Milander.</i> <br><br>  Sim  Obviamente, no Milandra (estou interessado principalmente em 1986BE1 e BE91), o cart√£o de mem√≥ria parece diferente.  No STM32, antes do in√≠cio da opera√ß√£o, n√£o h√° nada, e na Milandra, antes da opera√ß√£o, fica a √°rea do barramento externo. <br><br>  Mas mesmo se voc√™ n√£o usar um barramento externo, n√£o receber√° nenhum HardFault.  Ou talvez entenda.  Ou talvez entenda, mas n√£o imediatamente.  N√£o consegui encontrar nenhuma informa√ß√£o sobre esse assunto (o que n√£o √© surpreendente para Milander), e os experimentos n√£o deram nenhum resultado intelig√≠vel.  √Äs <i>vezes, o</i> HardFault ocorria se o tamanho da pilha era m√∫ltiplo de 256. √Äs vezes, o HardFault ocorria se a pilha fosse muito longe na mem√≥ria inexistente. <br><br>  Mas isso nem importa.  Se o HardFault n√£o ocorrer todas as vezes, simplesmente mover a pilha para o in√≠cio da RAM n√£o nos salvar√° mais.  E para ser completamente honesto, o STM tamb√©m n√£o √© obrigado a lan√ßar uma exce√ß√£o ao mesmo tempo, a especifica√ß√£o principal do Cortex-M parece n√£o dizer nada concreto sobre isso. <br><br>  Portanto, mesmo no STM, √© mais um truque, mas n√£o muito sujo. <br><br>  Ent√£o, voc√™ precisa procurar outra maneira. <br><br><h2>  Acessar o ponto de interrup√ß√£o no registro </h2><br>  Se movermos a pilha para o in√≠cio da RAM, o valor limite da pilha ser√° sempre o mesmo - 0x20000000.  E podemos simplesmente colocar um ponto de interrup√ß√£o no registro nesta c√©lula.  Isso pode ser feito com o comando e at√© registrado na execu√ß√£o autom√°tica usando o arquivo .ini: <br><br><pre> <code class="plaintext hljs">// breakpoint on stackoverflow BS Write 0x20000000, 1</code> </pre> <br>  Mas essa n√£o √© uma maneira muito confi√°vel.  Esse ponto de interrup√ß√£o ser√° acionado toda vez que a pilha for inicializada.  √â f√°cil venc√™-lo acidentalmente clicando em "Matar todos os pontos de interrup√ß√£o".  E ele ir√° proteg√™-lo apenas na presen√ßa de um depurador.  N√£o √© bom <br><br><h2>  Prote√ß√£o din√¢mica contra transbordamento </h2><br>  Uma pesquisa r√°pida sobre esse assunto me levou √†s op√ß√µes de Keil --protect_stack e --protect_stack_all.  Infelizmente, as op√ß√µes √∫teis protegem n√£o transbordando a pilha inteira, mas inserindo outra fun√ß√£o no quadro da pilha.  Por exemplo, se o seu c√≥digo ultrapassar os limites de uma matriz ou falhar com um n√∫mero vari√°vel de par√¢metros.  O Gcc, √© claro, tamb√©m pode fazer isso (-fstack-protector). <br><br>  A ess√™ncia desta op√ß√£o √© a seguinte: ‚Äúvari√°vel de prote√ß√£o‚Äù √© adicionada a cada quadro de pilha, ou seja, um n√∫mero de prote√ß√£o.  Se esse n√∫mero foi alterado ap√≥s a sa√≠da da fun√ß√£o, a fun√ß√£o manipulador de erros √© chamada.  Detalhes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  Uma coisa √∫til, mas n√£o exatamente o que eu preciso.  Eu preciso de uma verifica√ß√£o muito mais simples - para que, ao inserir cada fun√ß√£o, o valor do registro SP (Stack Pointer) seja verificado em rela√ß√£o a um valor m√≠nimo previamente conhecido.  Mas n√£o escreva este teste com as m√£os na entrada de cada fun√ß√£o? <br><br><h2>  Controle SP din√¢mico </h2><br>  Felizmente, o gcc tem a maravilhosa op√ß√£o "-finstrument-functions", que permite chamar uma fun√ß√£o definida pelo usu√°rio quando voc√™ entra em cada fun√ß√£o e quando sai de cada fun√ß√£o.  Isso geralmente √© usado para gerar informa√ß√µes de depura√ß√£o, mas qual √© a diferen√ßa? <br><br>  Ainda mais felizmente, o Keil copia deliberadamente a funcionalidade gcc, e a mesma op√ß√£o est√° dispon√≠vel sob o nome "--gnu_instrument" ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">detalhes</a> ). <br><br>  Depois disso, voc√™ s√≥ precisa escrever este c√≥digo: <br><br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//   ,    //   ,         scatter- extern unsigned int Image$$REGION_STACK$$RW$$Base; //    ,   static const uint32_t stack_lower_address = (uint32_t) &amp;( Image$$REGION_STACK$$RW$$Base ); //         extern "C" __attribute__((no_instrument_function)) void __cyg_profile_func_enter( void * current_func, void * callsite ) { (void)current_func; (void)callsite; ASSERT( __current_sp() &gt;= stack_lower_address ); } //   -   extern "C" __attribute__((no_instrument_function)) void __cyg_profile_func_exit( void * current_func, void * callsite ) { (void)current_func; (void)callsite; }</span></span></code> </pre> <br></div></div><br>  E pronto!  Agora, ao inserir cada fun√ß√£o (incluindo manipuladores de interrup√ß√£o), uma verifica√ß√£o ser√° realizada para o estouro da pilha.  E se a pilha exceder, haver√° uma afirma√ß√£o. <br><br><div class="spoiler">  <b class="spoiler_title">Uma pequena explica√ß√£o:</b> <div class="spoiler_text"><ul><li>  Sim, √© claro, voc√™ precisa verificar se h√° um estouro com alguma margem, caso contr√°rio, existe o risco de "pular" por cima da pilha. </li><li>  Imagem $$ REGION_STACK $$ RW $$ Base √© uma m√°gica especial para obter informa√ß√µes sobre √°reas de mem√≥ria usando as constantes geradas pelo vinculador.  Detalhes (embora n√£o muito intelig√≠veis em alguns lugares) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . </li></ul><br></div></div><br>  A solu√ß√£o √© perfeita?  Claro que n√£o. <br><br>  Em primeiro lugar, essa verifica√ß√£o est√° longe de ser gratuita, o c√≥digo aumenta 10%, pois o c√≥digo funcionar√° mais lentamente (embora eu n√£o tenha medido).  Se √© cr√≠tico ou n√£o, depende de voc√™;  na minha opini√£o, este √© um pre√ßo razo√°vel para a seguran√ßa. <br><br>  Em segundo lugar, isso provavelmente n√£o funcionar√° ao usar bibliotecas pr√©-compiladas (mas como eu n√£o as uso, n√£o verifiquei). <br><br>  Mas essa solu√ß√£o √© potencialmente adequada para programas multithread, j√° que n√≥s pr√≥prios fazemos a verifica√ß√£o.  Mas eu realmente n√£o pensei nessa id√©ia, ent√£o vou mant√™-la por enquanto. <br><br><h2>  Resumir </h2><br>  Acabou por encontrar solu√ß√µes de trabalho para o stm32 e para o Milander, embora, no √∫ltimo, eu tivesse que pagar com alguma sobrecarga. <br><br>  Para mim, o mais importante foi uma pequena mudan√ßa no paradigma do pensamento.  Antes do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo mencionado acima,</a> eu n√£o pensava que voc√™ pudesse, de alguma forma, se proteger do estouro de pilha.  Eu n√£o percebi isso como um problema que precisa ser resolvido, mas como um certo fen√¥meno natural - √†s vezes chove e √†s vezes a pilha transborda, bem, n√£o h√° nada a ser feito, √© preciso morder a bala e tolerar. <br><br>  E geralmente percebo por mim mesmo (e por outras pessoas) isso - em vez de passar 5 minutos no Google e encontrar uma solu√ß√£o trivial - vivo com meus problemas h√° anos. <br><br>  Isso √© tudo para mim.  Entendo que n√£o descobri nada fundamentalmente novo, mas n√£o encontrei artigos prontos com essa decis√£o (pelo menos, o pr√≥prio Joseph Yu n√£o oferece isso diretamente em um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo</a> sobre esse assunto).  Espero que, nos coment√°rios, eles me digam se estou certo ou n√£o e quais s√£o as armadilhas dessa abordagem. <br><br>  <b>UPD:</b> Se, ao adicionar um arquivo de dispers√£o, o Keil come√ßar a emitir um aviso incompreens√≠vel ala "AppData \ Local \ Temp \ p17af8-2 (33): aviso: # 1-D: a √∫ltima linha do arquivo termina sem uma nova linha" - mas esse arquivo em si n√£o √© abre, porque √© tempor√°rio, basta adicionar a quebra de linha com o √∫ltimo caractere no arquivo de dispers√£o. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt425071/">https://habr.com/ru/post/pt425071/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt425057/index.html">Empr√©stimo preferencial para educa√ß√£o para todos os programas GeekUniversity da GeekBrains e Alfa Bank</a></li>
<li><a href="../pt425059/index.html">Hackathon No. 1 em Tinkoff.ru</a></li>
<li><a href="../pt425061/index.html">CodeRainbow: aprendizado e documenta√ß√£o interativos de c√≥digo</a></li>
<li><a href="../pt425063/index.html">Migrando um esquema de banco de dados sem tempo de inatividade para o postgresql usando o django como exemplo</a></li>
<li><a href="../pt425069/index.html">Testando um apresentador usando o PromiseKit</a></li>
<li><a href="../pt425073/index.html">F√°cil cria√ß√£o de reposit√≥rio git no OneDrive</a></li>
<li><a href="../pt425075/index.html">Machine Vision: instalando, configurando e usando o Google Cloud Vision em PHP</a></li>
<li><a href="../pt425077/index.html">Kotlin sob o cap√¥ - veja bytecode descompilado</a></li>
<li><a href="../pt425079/index.html">IPSec dif√≠cil com Linux</a></li>
<li><a href="../pt425081/index.html">O estado n√£o sabe quanto gasta em TI. Provamos nos n√∫meros</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>