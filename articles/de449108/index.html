<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👏🏻 🚜 👇🏽 UDB. Was ist das Teil 7. Steuermodul für Timing und Reset 👰🏾 🚣🏼 👨🏾‍🏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das nächste Kapitel aus der offiziellen Cypress-Dokumentation zu Timing und Reset-Management. Wie bereits im ersten Artikel dieser Serie erwähnt, biet...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>UDB. Was ist das Teil 7. Steuermodul für Timing und Reset</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449108/"><img src="https://habrastorage.org/webt/qt/da/ij/qtdaijebn1ck_oryqwmm-nqmymg.jpeg"><br><br>  Das nächste Kapitel aus der offiziellen Cypress-Dokumentation zu Timing und Reset-Management.  Wie bereits im ersten Artikel dieser Serie erwähnt, bietet dieses Modul eine Timing-Auswahl und -Auflösung sowie eine Reset-Auswahl innerhalb der UDB.  Weitere Details - unter dem Schnitt. <br><a name="habracut"></a><br>  Der allgemeine Inhalt des Zyklus „UDB.  Was ist das? " <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1. Einführung.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pld.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2. Datenpfad.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3. Datenpfad-FIFO.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 4. Datenpfad ALU.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 5. Datenpfad.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nützliche Kleinigkeiten.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 6. Management- und Statusmodul.</a> <br>  Teil 7. Steuermodul für Timing und Reset.  (Aktueller Artikel) <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 8. Adressierung von UDB</a> <br><br><h2>  21.3.4 Modul zurücksetzen und steuern </h2><br>  Die Hauptfunktion dieses Moduls besteht darin, Uhren aus den verfügbaren globalen Uhren oder Bustakten für jede PLD, jeden Datenpfad sowie jedes Steuerungs- und Statusmodul auszuwählen.  Das Modul unterstützt auch dynamische und Software-UDB-Block-Resets.  Wie in Abbildung 21-38 dargestellt, gibt es vier Taktsteuereinheiten und eine Rücksetzsteuereinheit.  Für die Weiterleitung aus der globalen Trace-Matrix stehen vier Eingänge (RC_IN [3: 0]) zur Verfügung.  Jede Taktsteuereinheit kann aus diesen Trace-Eingängen eine Quelle für den Clock-Freigabeeingang auswählen, und es gibt auch einen Multiplexer, mit dem Sie einen der Trace-Eingänge zur Verwendung als externe Clock-Quelle auswählen können.  Wie Sie in der Abbildung sehen können, kann die Auswahl einer externen Taktquelle synchronisiert werden.  Für jede UDB-Komponente stehen 10 Takte zur Auswahl: 8 globale Digitaluhren, ein Bustakt und ein ausgewählter externer Takt (ext clk).  Jedes der verfolgten Eingangssignale (rc_in) kann entweder als pegelsensitiver Aktivator oder als flankensensitiver Aktivator verwendet werden.  Die Rücksetzfunktion dieses Blocks bietet ein nachverfolgtes Zurücksetzen der PLD-Blöcke und des SC-Zählers sowie die Möglichkeit, jeden Block programmgesteuert zurückzusetzen, um die Rekonfiguration zu unterstützen. <br><br>  Der auf den Takt und das Rücksetzsteuermodul angewendete Bustakt unterscheidet sich vom Systembustakt.  Dieses Signal heißt "bus_clk_app" und ist wie andere digitale Taktsignale gesperrt.  Der Systembustakt wird nur für Eingabe-Ausgabe-Operationen verwendet und bei jedem Zugriff automatisch entsperrt.  Der Datenpfad-Taktgenerator erzeugt drei Takte: einen für den Datenpfad und ein Signal für jeden FIFO. <br><br><img src="https://habrastorage.org/webt/_i/bu/d0/_ibud068o3apgk5lanjseee7dcy.png"><br>  Abbildung 21-38.  Steuermodul takten und zurücksetzen. <br><br><h3>  21.3.4.1 Taktsteuerung </h3><br>  Abbildung 21-39 zeigt ein Beispiel für ein Timing-Auswahl- und Auflösungsschema.  Jede UDB verfügt über vier solcher Schemata: eines für jeden PLD-Block, eines für den Datenpfad und eines für den Steuerungs- und Statusblock.  Die Hauptkomponenten dieser Schaltung sind der globale Taktwählmultiplexer, der Taktinverter, der Taktfreigabesignalmultiplexer, der Taktfreigabesignalumrichter und die Differentialerfassungslogik. <br><br><img src="https://habrastorage.org/webt/lt/cq/os/ltcqos93aaayqa3pqsbedlsxx9i.png"><br>  Abbildung 21-39.  Auswahl / Aktivierung des Timings verwalten. <br><br>  <b>Uhr Auswahl</b> <br><br>  Es gibt acht globale Digitaluhren, die an alle UDBs weitergeleitet werden.  Jeder von ihnen kann ausgewählt werden.  Globale Digitaluhren sind Ausgänge von Frequenzteilern, die vom Benutzer ausgewählt werden.  Siehe „Zeitmesssystem“ auf Seite 109 des Originals.  Eine weitere Option ist die Bustaktung mit der höchsten Frequenz im System.  Dieses Signal heißt "bus_clk_app" und wird getrennt von der Systembustaktung verfolgt.  Um Funktionen mit einem direkten Taktsignal (z. B. SPI) zu unterstützen, kann zusätzlich eine externe Trace-Leitung als Eingangstaktsignal ausgewählt werden.  Da Anwendungsfunktionen an beliebige Grenzen innerhalb der UDB gebunden sind, trägt die Auswahl eines individuellen Taktsignals für jede UDB-Unterkomponente zu einer präzisen Granularität bei der Programmierung bei. <br><br>  <b>Clock Inversion</b> <br><br>  Das ausgewählte Taktsignal kann invertiert werden.  Dies begrenzt die maximale Häufigkeit der Arbeit aufgrund des Vorhandenseins von Abschnitten mit einem Halbzykluszyklus.  Gleichzeitige Busaufzeichnung und interne Aufzeichnungen (z. B. Programmaufzeichnung eines neuen Zählerwerts während des Betriebs) werden nicht unterstützt, wenn der interne Takt invertiert ist und dieselbe Frequenz wie der Bustakt hat.  Diese Einschränkung betrifft A0, A1, D0, D1 sowie das Steuerregister im Zählermodus. <br><br>  <b>Clock Enable Selection</b> <br><br>  Das Taktfreigabesignal kann an ein beliebiges synchrones Signal weitergeleitet und an einem der vier Eingänge der für diesen Block verfügbaren Trace-Matrix ausgewählt werden. <br><br>  <b>Clock Enable Inversion</b> <br><br>  Das Taktfreigabesignal kann invertiert werden.  Aufgrund dessen kann dieses Signal in jeder Polarität erzeugt werden. <br><br>  <b>Clock Enable Mode</b> <br><br>  Standardmäßig ist der Taktauflösungsmodus AUS.  Nach dem Einstellen des Betriebs der Zieleinheit kann die Software mithilfe des in Abbildung 21-39 gezeigten Registers CFGxEN MODE [1: 0] einen der unten beschriebenen Betriebsmodi einstellen. <br><br>  Tabelle 21-23.  Timing-Auflösungsmodi. <br><div class="scrollable-table"><table><tbody><tr><th>  Timing-Auflösungsmodi </th><th>  Beschreibung </th></tr><tr><td>  Aus </td><td>  Die Uhr ist deaktiviert. </td></tr><tr><td>  EIN </td><td>  Uhr ist inbegriffen.  Die ausgewählte globale Uhr läuft frei. </td></tr><tr><td>  Positive Kante </td><td>  Für jede positive Flanke wird am Eingang der Auflösung ein übersprungener Takt erzeugt.  Die maximal zulässige Frequenz am Auflösungseingang beträgt die Hälfte der Taktfrequenz. </td></tr><tr><td>  Level </td><td>  Während des Freigabeeingangs werden Taktimpulse erzeugt <br>  Das Timing hat einen hohen Pegel ('1'). </td></tr></tbody></table></div><br><br>  <b>Verwenden der Uhrenberechtigung</b> <br><br>  Es gibt zwei häufige Anwendungsfälle für Timing-Berechtigungen. <br><br>  <b>Software Enable (Firmware Enable)</b> : Es wird davon ausgegangen, dass für die meisten Funktionen eine Software Clock Enable erforderlich ist, um die Funktion zu starten und zu stoppen.  Da die Grenze der an das UDB-Array gebundenen Funktion bedingt ist, kann die Funktion mehrere UDBs und / oder Teile der UDBs umfassen.  Daher ist ein Weg erforderlich, um jede Funktion atomar einzuschließen.  Dies wird normalerweise unter Verwendung eines Bits im Steuerregister implementiert, das an einen oder mehrere Taktfreigabeeingänge weitergeleitet wird.  Dieses Szenario unterstützt auch den Fall, dass Anwendungen mehrere nicht verwandte Blöcke gleichzeitig ausführen müssen. <br><br>  <b>Emulierte lokale Taktgenerierung</b> : Mit dieser Funktion können UDBs lokale Uhren generieren und diese mithilfe der Implementierungsvorlage für die Aktivierung des Synchronisationstakts an andere UDBs im Array verteilen, anstatt jede UDB direkt zu takten.  Durch die Verwendung der Positive Edge-Funktion zum Aktivieren der Auflösung werden Einschränkungen des Arbeitszyklus des Auflösungssignals aufgehoben. <br><br>  <b>Spezielles FIFO-Timing</b> <br><br>  FIFO-Datenpfadblöcke verfügen über Zeitsteuerungsfunktionen.  Standardmäßig hat die FIFO-Taktung dieselbe Konfiguration wie die Datenpfad-Taktung.  FIFO-Blöcke haben jedoch spezielle Steuerbits, die die Taktkonfiguration ändern: <br><br><ul><li>  Jeder FIFO-Takt kann relativ zur Polarität des ausgewählten Datenpfad-Takts invertiert werden. </li><li>  Wenn der FIFO-FAST-Modus ausgewählt ist, ersetzt der Bustakt die Auswahl des Datenpfadtakts, der normalerweise FIFO verwendet. </li></ul><br><h3>  21.3.4.2 Verwaltung zurücksetzen </h3><br>  Es gibt zwei Reset-Verwaltungsmodi: geerbt und Standard.  Der Modus wird mit dem <b>ALT RES-</b> Bit in jedem Konfigurationsregister der UDB CFG31 gesetzt.  Standardmäßig ist der Bitwert 0 (Legacy-Modus).  Es wird empfohlen, den Wert 1 zuzuweisen (Standardmodus).  Der Standardmodus weist einen höheren Grad an Granularität auf - einzelne Blöcke in UDB können nachverfolgte Spülungen verwenden.  Informationen zum Legacy-Modus erhalten Sie von Cypress. <br><br>  <b>PLD Reset Control</b> <br><br>  Abbildung 21-40 zeigt das PLD-Rücksetzsystem. <br><br><img src="https://habrastorage.org/webt/xd/d0/mv/xdd0mv5saiiqmm17xgzb5yv4ri8.png"><br>  <i>Abbildung 21-40.</i>  <i>Struktur PLD zurücksetzen.</i> <br><br>  <b>Datenpfad-Reset-Steuerung</b> <br><br>  Abbildung 21-41 zeigt das Datenpfad-Rücksetzsystem.  Traced Flush gilt für alle Datenpfadregister und -zustände mit Ausnahme der Datenregister D0 und D1.  Datenregister sind persistente Register.  Der Inhalt des FIFO wird nach dem Zurücksetzen nicht definiert, da er sich im RAM befindet. <br><br><img src="https://habrastorage.org/webt/-u/0n/nj/-u0nnjeaz5rkid5i8hhve_0hr7w.png"><br>  <i>Abbildung 21-41.</i>  <i>Datenpfad-Reset-Struktur.</i> <br><br>  <b>Status und Steuerung Steuerung zurücksetzen</b> <br>  Abbildung 21-42 zeigt das Steuerungs- und Statusrücksetzsystem.  Die Steuer- / Zähler- und Statusregister haben einen gemeinsamen Trace-Reset, sind jedoch separat aktiviert.  Die Masken- / Periodenüberlappungsregister und Hilfssteuerungen sind Sicherungsregister. <br><br><img src="https://habrastorage.org/webt/gq/tv/x7/gqtvx7q341r-_dg6pgy_yoniexq.png"><br>  <i>Abbildung 21-42.</i>  <i>Reset-Management und Status-Management.</i> <br><br><h3>  21.3.4.3 UDB-Initialisierung beim Einschalten (POR) </h3><br>  <b>Register- und Statusinitialisierung</b> <br><br>  Tabelle 21-24.  Initialisierung von UDB-Status, wenn aktiviert <br><div class="scrollable-table"><table><tbody><tr><th>  Zustandselement </th><th>  Dekodieren eines Statuselements </th><th>  Einschaltstatus </th></tr><tr><td>  CFG 0 - 31 </td><td>  Konfigurations-Latches </td><td>  0 </td></tr><tr><td>  Axe, Dx, CTL, ACTL, MSK </td><td>  Batterien, Datenregister, Hilfssteuerregister, Maskenregister </td><td>  0 </td></tr><tr><td>  ST, MC </td><td>  Status- und Makrozellenregister (schreibgeschützt) </td><td>  0 </td></tr><tr><td>  DP CFG RAM &amp; Fx (FIFO) </td><td>  Datenpfad-Konfigurations-RAM und FIFO-RAM </td><td>  Unbekannt </td></tr><tr><td>  PLD RAM </td><td>  Ram Konfiguration pld </td><td>  Unbekannt </td></tr></tbody></table></div><br>  <b>Trace-Initialisierung</b> <br><br>  Wenn diese Option aktiviert ist, weist der Status der Trace-Ein- und Ausgänge die folgenden Funktionen auf: <br><br><ul><li>  Alle UDB-Ausgänge, die Daten an die Trace-Matrix leiten, werden auf '0' gehalten. </li><li>  Alle Treiber, die aus dem Trace kommen und die UDB-Eingänge eingeben, werden anfänglich auf Null gesetzt. </li></ul><br>  Diese Initialisierung vermeidet widersprüchliche Zustände während der Ablaufverfolgung, und die Erstkonfiguration erfolgt in einer Reihenfolge, in der die Reihenfolge keine Rolle spielt. <br><br>  Das Ende folgt.  Wir bereiten die <s>neueste</s> Übersetzung des verbleibenden Abschnitts der proprietären Dokumentation von Cypress zu UDB vor, nämlich der UDB-Adressierung. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de449108/">https://habr.com/ru/post/de449108/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de449094/index.html">Startup-Psychologie: Transformationen, die nicht jeder leben wird</a></li>
<li><a href="../de449096/index.html">Kubernetes erweitern und ergänzen (Rezension und Videobericht)</a></li>
<li><a href="../de449098/index.html">Wie ein Spyware-Unternehmen in den Zertifikatspeicher von Mozilla gelangte und was daraus wurde</a></li>
<li><a href="../de449100/index.html">Im Gefolge von RTM. Forensische Untersuchung eines mit einem Bankentrojaner infizierten Computers</a></li>
<li><a href="../de449106/index.html">UPS für Bank- und Finanzinstitute</a></li>
<li><a href="../de449110/index.html">Es wurde ein Fehler behoben, der mit der Unfähigkeit zusammenhängt, das kyrillische Alphabet in den Namen von IMAP-Ordnern zu verwenden</a></li>
<li><a href="../de449112/index.html">Wir haben uns zurückgezogen - wir diskutieren über einst beliebte Audio-Gadgets, die bereits "veraltet" sind.</a></li>
<li><a href="../de449114/index.html">Reagiere auf λambda</a></li>
<li><a href="../de449118/index.html">Kreml-Dämonenpille</a></li>
<li><a href="../de449120/index.html">Mit Bart, in dunkler Brille und im Profil: schwierige Situationen für Computer Vision</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>