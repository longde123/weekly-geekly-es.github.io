<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëèüèª üöú üëáüèΩ UDB. Was ist das Teil 7. Steuermodul f√ºr Timing und Reset üë∞üèæ üö£üèº üë®üèæ‚Äçüè´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das n√§chste Kapitel aus der offiziellen Cypress-Dokumentation zu Timing und Reset-Management. Wie bereits im ersten Artikel dieser Serie erw√§hnt, biet...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>UDB. Was ist das Teil 7. Steuermodul f√ºr Timing und Reset</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449108/"><img src="https://habrastorage.org/webt/qt/da/ij/qtdaijebn1ck_oryqwmm-nqmymg.jpeg"><br><br>  Das n√§chste Kapitel aus der offiziellen Cypress-Dokumentation zu Timing und Reset-Management.  Wie bereits im ersten Artikel dieser Serie erw√§hnt, bietet dieses Modul eine Timing-Auswahl und -Aufl√∂sung sowie eine Reset-Auswahl innerhalb der UDB.  Weitere Details - unter dem Schnitt. <br><a name="habracut"></a><br>  Der allgemeine Inhalt des Zyklus ‚ÄûUDB.  Was ist das? " <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1. Einf√ºhrung.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pld.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2. Datenpfad.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3. Datenpfad-FIFO.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 4. Datenpfad ALU.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 5. Datenpfad.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">N√ºtzliche Kleinigkeiten.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 6. Management- und Statusmodul.</a> <br>  Teil 7. Steuermodul f√ºr Timing und Reset.  (Aktueller Artikel) <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 8. Adressierung von UDB</a> <br><br><h2>  21.3.4 Modul zur√ºcksetzen und steuern </h2><br>  Die Hauptfunktion dieses Moduls besteht darin, Uhren aus den verf√ºgbaren globalen Uhren oder Bustakten f√ºr jede PLD, jeden Datenpfad sowie jedes Steuerungs- und Statusmodul auszuw√§hlen.  Das Modul unterst√ºtzt auch dynamische und Software-UDB-Block-Resets.  Wie in Abbildung 21-38 dargestellt, gibt es vier Taktsteuereinheiten und eine R√ºcksetzsteuereinheit.  F√ºr die Weiterleitung aus der globalen Trace-Matrix stehen vier Eing√§nge (RC_IN [3: 0]) zur Verf√ºgung.  Jede Taktsteuereinheit kann aus diesen Trace-Eing√§ngen eine Quelle f√ºr den Clock-Freigabeeingang ausw√§hlen, und es gibt auch einen Multiplexer, mit dem Sie einen der Trace-Eing√§nge zur Verwendung als externe Clock-Quelle ausw√§hlen k√∂nnen.  Wie Sie in der Abbildung sehen k√∂nnen, kann die Auswahl einer externen Taktquelle synchronisiert werden.  F√ºr jede UDB-Komponente stehen 10 Takte zur Auswahl: 8 globale Digitaluhren, ein Bustakt und ein ausgew√§hlter externer Takt (ext clk).  Jedes der verfolgten Eingangssignale (rc_in) kann entweder als pegelsensitiver Aktivator oder als flankensensitiver Aktivator verwendet werden.  Die R√ºcksetzfunktion dieses Blocks bietet ein nachverfolgtes Zur√ºcksetzen der PLD-Bl√∂cke und des SC-Z√§hlers sowie die M√∂glichkeit, jeden Block programmgesteuert zur√ºckzusetzen, um die Rekonfiguration zu unterst√ºtzen. <br><br>  Der auf den Takt und das R√ºcksetzsteuermodul angewendete Bustakt unterscheidet sich vom Systembustakt.  Dieses Signal hei√üt "bus_clk_app" und ist wie andere digitale Taktsignale gesperrt.  Der Systembustakt wird nur f√ºr Eingabe-Ausgabe-Operationen verwendet und bei jedem Zugriff automatisch entsperrt.  Der Datenpfad-Taktgenerator erzeugt drei Takte: einen f√ºr den Datenpfad und ein Signal f√ºr jeden FIFO. <br><br><img src="https://habrastorage.org/webt/_i/bu/d0/_ibud068o3apgk5lanjseee7dcy.png"><br>  Abbildung 21-38.  Steuermodul takten und zur√ºcksetzen. <br><br><h3>  21.3.4.1 Taktsteuerung </h3><br>  Abbildung 21-39 zeigt ein Beispiel f√ºr ein Timing-Auswahl- und Aufl√∂sungsschema.  Jede UDB verf√ºgt √ºber vier solcher Schemata: eines f√ºr jeden PLD-Block, eines f√ºr den Datenpfad und eines f√ºr den Steuerungs- und Statusblock.  Die Hauptkomponenten dieser Schaltung sind der globale Taktw√§hlmultiplexer, der Taktinverter, der Taktfreigabesignalmultiplexer, der Taktfreigabesignalumrichter und die Differentialerfassungslogik. <br><br><img src="https://habrastorage.org/webt/lt/cq/os/ltcqos93aaayqa3pqsbedlsxx9i.png"><br>  Abbildung 21-39.  Auswahl / Aktivierung des Timings verwalten. <br><br>  <b>Uhr Auswahl</b> <br><br>  Es gibt acht globale Digitaluhren, die an alle UDBs weitergeleitet werden.  Jeder von ihnen kann ausgew√§hlt werden.  Globale Digitaluhren sind Ausg√§nge von Frequenzteilern, die vom Benutzer ausgew√§hlt werden.  Siehe ‚ÄûZeitmesssystem‚Äú auf Seite 109 des Originals.  Eine weitere Option ist die Bustaktung mit der h√∂chsten Frequenz im System.  Dieses Signal hei√üt "bus_clk_app" und wird getrennt von der Systembustaktung verfolgt.  Um Funktionen mit einem direkten Taktsignal (z. B. SPI) zu unterst√ºtzen, kann zus√§tzlich eine externe Trace-Leitung als Eingangstaktsignal ausgew√§hlt werden.  Da Anwendungsfunktionen an beliebige Grenzen innerhalb der UDB gebunden sind, tr√§gt die Auswahl eines individuellen Taktsignals f√ºr jede UDB-Unterkomponente zu einer pr√§zisen Granularit√§t bei der Programmierung bei. <br><br>  <b>Clock Inversion</b> <br><br>  Das ausgew√§hlte Taktsignal kann invertiert werden.  Dies begrenzt die maximale H√§ufigkeit der Arbeit aufgrund des Vorhandenseins von Abschnitten mit einem Halbzykluszyklus.  Gleichzeitige Busaufzeichnung und interne Aufzeichnungen (z. B. Programmaufzeichnung eines neuen Z√§hlerwerts w√§hrend des Betriebs) werden nicht unterst√ºtzt, wenn der interne Takt invertiert ist und dieselbe Frequenz wie der Bustakt hat.  Diese Einschr√§nkung betrifft A0, A1, D0, D1 sowie das Steuerregister im Z√§hlermodus. <br><br>  <b>Clock Enable Selection</b> <br><br>  Das Taktfreigabesignal kann an ein beliebiges synchrones Signal weitergeleitet und an einem der vier Eing√§nge der f√ºr diesen Block verf√ºgbaren Trace-Matrix ausgew√§hlt werden. <br><br>  <b>Clock Enable Inversion</b> <br><br>  Das Taktfreigabesignal kann invertiert werden.  Aufgrund dessen kann dieses Signal in jeder Polarit√§t erzeugt werden. <br><br>  <b>Clock Enable Mode</b> <br><br>  Standardm√§√üig ist der Taktaufl√∂sungsmodus AUS.  Nach dem Einstellen des Betriebs der Zieleinheit kann die Software mithilfe des in Abbildung 21-39 gezeigten Registers CFGxEN MODE [1: 0] einen der unten beschriebenen Betriebsmodi einstellen. <br><br>  Tabelle 21-23.  Timing-Aufl√∂sungsmodi. <br><div class="scrollable-table"><table><tbody><tr><th>  Timing-Aufl√∂sungsmodi </th><th>  Beschreibung </th></tr><tr><td>  Aus </td><td>  Die Uhr ist deaktiviert. </td></tr><tr><td>  EIN </td><td>  Uhr ist inbegriffen.  Die ausgew√§hlte globale Uhr l√§uft frei. </td></tr><tr><td>  Positive Kante </td><td>  F√ºr jede positive Flanke wird am Eingang der Aufl√∂sung ein √ºbersprungener Takt erzeugt.  Die maximal zul√§ssige Frequenz am Aufl√∂sungseingang betr√§gt die H√§lfte der Taktfrequenz. </td></tr><tr><td>  Level </td><td>  W√§hrend des Freigabeeingangs werden Taktimpulse erzeugt <br>  Das Timing hat einen hohen Pegel ('1'). </td></tr></tbody></table></div><br><br>  <b>Verwenden der Uhrenberechtigung</b> <br><br>  Es gibt zwei h√§ufige Anwendungsf√§lle f√ºr Timing-Berechtigungen. <br><br>  <b>Software Enable (Firmware Enable)</b> : Es wird davon ausgegangen, dass f√ºr die meisten Funktionen eine Software Clock Enable erforderlich ist, um die Funktion zu starten und zu stoppen.  Da die Grenze der an das UDB-Array gebundenen Funktion bedingt ist, kann die Funktion mehrere UDBs und / oder Teile der UDBs umfassen.  Daher ist ein Weg erforderlich, um jede Funktion atomar einzuschlie√üen.  Dies wird normalerweise unter Verwendung eines Bits im Steuerregister implementiert, das an einen oder mehrere Taktfreigabeeing√§nge weitergeleitet wird.  Dieses Szenario unterst√ºtzt auch den Fall, dass Anwendungen mehrere nicht verwandte Bl√∂cke gleichzeitig ausf√ºhren m√ºssen. <br><br>  <b>Emulierte lokale Taktgenerierung</b> : Mit dieser Funktion k√∂nnen UDBs lokale Uhren generieren und diese mithilfe der Implementierungsvorlage f√ºr die Aktivierung des Synchronisationstakts an andere UDBs im Array verteilen, anstatt jede UDB direkt zu takten.  Durch die Verwendung der Positive Edge-Funktion zum Aktivieren der Aufl√∂sung werden Einschr√§nkungen des Arbeitszyklus des Aufl√∂sungssignals aufgehoben. <br><br>  <b>Spezielles FIFO-Timing</b> <br><br>  FIFO-Datenpfadbl√∂cke verf√ºgen √ºber Zeitsteuerungsfunktionen.  Standardm√§√üig hat die FIFO-Taktung dieselbe Konfiguration wie die Datenpfad-Taktung.  FIFO-Bl√∂cke haben jedoch spezielle Steuerbits, die die Taktkonfiguration √§ndern: <br><br><ul><li>  Jeder FIFO-Takt kann relativ zur Polarit√§t des ausgew√§hlten Datenpfad-Takts invertiert werden. </li><li>  Wenn der FIFO-FAST-Modus ausgew√§hlt ist, ersetzt der Bustakt die Auswahl des Datenpfadtakts, der normalerweise FIFO verwendet. </li></ul><br><h3>  21.3.4.2 Verwaltung zur√ºcksetzen </h3><br>  Es gibt zwei Reset-Verwaltungsmodi: geerbt und Standard.  Der Modus wird mit dem <b>ALT RES-</b> Bit in jedem Konfigurationsregister der UDB CFG31 gesetzt.  Standardm√§√üig ist der Bitwert 0 (Legacy-Modus).  Es wird empfohlen, den Wert 1 zuzuweisen (Standardmodus).  Der Standardmodus weist einen h√∂heren Grad an Granularit√§t auf - einzelne Bl√∂cke in UDB k√∂nnen nachverfolgte Sp√ºlungen verwenden.  Informationen zum Legacy-Modus erhalten Sie von Cypress. <br><br>  <b>PLD Reset Control</b> <br><br>  Abbildung 21-40 zeigt das PLD-R√ºcksetzsystem. <br><br><img src="https://habrastorage.org/webt/xd/d0/mv/xdd0mv5saiiqmm17xgzb5yv4ri8.png"><br>  <i>Abbildung 21-40.</i>  <i>Struktur PLD zur√ºcksetzen.</i> <br><br>  <b>Datenpfad-Reset-Steuerung</b> <br><br>  Abbildung 21-41 zeigt das Datenpfad-R√ºcksetzsystem.  Traced Flush gilt f√ºr alle Datenpfadregister und -zust√§nde mit Ausnahme der Datenregister D0 und D1.  Datenregister sind persistente Register.  Der Inhalt des FIFO wird nach dem Zur√ºcksetzen nicht definiert, da er sich im RAM befindet. <br><br><img src="https://habrastorage.org/webt/-u/0n/nj/-u0nnjeaz5rkid5i8hhve_0hr7w.png"><br>  <i>Abbildung 21-41.</i>  <i>Datenpfad-Reset-Struktur.</i> <br><br>  <b>Status und Steuerung Steuerung zur√ºcksetzen</b> <br>  Abbildung 21-42 zeigt das Steuerungs- und Statusr√ºcksetzsystem.  Die Steuer- / Z√§hler- und Statusregister haben einen gemeinsamen Trace-Reset, sind jedoch separat aktiviert.  Die Masken- / Perioden√ºberlappungsregister und Hilfssteuerungen sind Sicherungsregister. <br><br><img src="https://habrastorage.org/webt/gq/tv/x7/gqtvx7q341r-_dg6pgy_yoniexq.png"><br>  <i>Abbildung 21-42.</i>  <i>Reset-Management und Status-Management.</i> <br><br><h3>  21.3.4.3 UDB-Initialisierung beim Einschalten (POR) </h3><br>  <b>Register- und Statusinitialisierung</b> <br><br>  Tabelle 21-24.  Initialisierung von UDB-Status, wenn aktiviert <br><div class="scrollable-table"><table><tbody><tr><th>  Zustandselement </th><th>  Dekodieren eines Statuselements </th><th>  Einschaltstatus </th></tr><tr><td>  CFG 0 - 31 </td><td>  Konfigurations-Latches </td><td>  0 </td></tr><tr><td>  Axe, Dx, CTL, ACTL, MSK </td><td>  Batterien, Datenregister, Hilfssteuerregister, Maskenregister </td><td>  0 </td></tr><tr><td>  ST, MC </td><td>  Status- und Makrozellenregister (schreibgesch√ºtzt) </td><td>  0 </td></tr><tr><td>  DP CFG RAM &amp; Fx (FIFO) </td><td>  Datenpfad-Konfigurations-RAM und FIFO-RAM </td><td>  Unbekannt </td></tr><tr><td>  PLD RAM </td><td>  Ram Konfiguration pld </td><td>  Unbekannt </td></tr></tbody></table></div><br>  <b>Trace-Initialisierung</b> <br><br>  Wenn diese Option aktiviert ist, weist der Status der Trace-Ein- und Ausg√§nge die folgenden Funktionen auf: <br><br><ul><li>  Alle UDB-Ausg√§nge, die Daten an die Trace-Matrix leiten, werden auf '0' gehalten. </li><li>  Alle Treiber, die aus dem Trace kommen und die UDB-Eing√§nge eingeben, werden anf√§nglich auf Null gesetzt. </li></ul><br>  Diese Initialisierung vermeidet widerspr√ºchliche Zust√§nde w√§hrend der Ablaufverfolgung, und die Erstkonfiguration erfolgt in einer Reihenfolge, in der die Reihenfolge keine Rolle spielt. <br><br>  Das Ende folgt.  Wir bereiten die <s>neueste</s> √úbersetzung des verbleibenden Abschnitts der propriet√§ren Dokumentation von Cypress zu UDB vor, n√§mlich der UDB-Adressierung. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de449108/">https://habr.com/ru/post/de449108/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de449094/index.html">Startup-Psychologie: Transformationen, die nicht jeder leben wird</a></li>
<li><a href="../de449096/index.html">Kubernetes erweitern und erg√§nzen (Rezension und Videobericht)</a></li>
<li><a href="../de449098/index.html">Wie ein Spyware-Unternehmen in den Zertifikatspeicher von Mozilla gelangte und was daraus wurde</a></li>
<li><a href="../de449100/index.html">Im Gefolge von RTM. Forensische Untersuchung eines mit einem Bankentrojaner infizierten Computers</a></li>
<li><a href="../de449106/index.html">UPS f√ºr Bank- und Finanzinstitute</a></li>
<li><a href="../de449110/index.html">Es wurde ein Fehler behoben, der mit der Unf√§higkeit zusammenh√§ngt, das kyrillische Alphabet in den Namen von IMAP-Ordnern zu verwenden</a></li>
<li><a href="../de449112/index.html">Wir haben uns zur√ºckgezogen - wir diskutieren √ºber einst beliebte Audio-Gadgets, die bereits "veraltet" sind.</a></li>
<li><a href="../de449114/index.html">Reagiere auf Œªambda</a></li>
<li><a href="../de449118/index.html">Kreml-D√§monenpille</a></li>
<li><a href="../de449120/index.html">Mit Bart, in dunkler Brille und im Profil: schwierige Situationen f√ºr Computer Vision</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>