<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧘🏼 ☝🏽 💒 UDB. Was ist das Teil 6. Status- und Steuermodul 🕯️ 💶 👨‍👩‍👧‍👧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In früheren Artikeln, Übersetzungen der Cypress-Dokumentation, wurde der Betriebsautomat Datapath sehr inhaltlich berücksichtigt. Allmählich beschäfti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>UDB. Was ist das Teil 6. Status- und Steuermodul</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443380/"><img src="https://habrastorage.org/webt/mf/zu/nx/mfzunxkuzhcahgj4dodvrfn2i18.jpeg"><br><br>  In früheren Artikeln, Übersetzungen der Cypress-Dokumentation, wurde der Betriebsautomat Datapath sehr inhaltlich berücksichtigt.  Allmählich beschäftigen wir uns mit anderen UDB-Modulen, insbesondere dem Management- und Statusmodul. <a name="habracut"></a><br><br>  Der allgemeine Inhalt des Zyklus „UDB.  Was ist das? " <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1. Einführung.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pld.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2. Datenpfad.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3. Datenpfad-FIFO.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 4. Datenpfad ALU.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 5. Datenpfad.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nützliche Kleinigkeiten.</a> <br>  Teil 6. Management- und Statusmodul.  (Aktueller Artikel) <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 7. Steuermodul für Timing und Reset</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 8. Adressierung von UDB</a> <br><br><h2>  21.3.3.  Verwaltungs- und Statusmodul </h2><br>  Eine allgemeine Ansicht des Steuermoduls und des Status ist in Abbildung 21-28 dargestellt.  Die Statusbits des Steuerregisters werden an Ablaufverfolgungsressourcen übertragen, wodurch das Programm das Verhalten der UDB steuern kann.  Das Statusregister empfängt Daten von Verfolgungsleitungen, sodass das Programm die von der UDB ausgeführten Vorgänge überwachen kann. <br><br><img src="https://habrastorage.org/webt/4n/0g/wf/4n0gwf_b13miix_dof5ojhxwltk.png"><br>  <i>Abbildung 21-28.</i>  <i>Verwaltungs- und Statusregister.</i> <br><br>  Die Struktur des Steuermoduls und der Status sind in Abbildung 21-29 detaillierter dargestellt.  Das Hauptziel dieser Einheit ist es, die Interaktion des Prozessorkernprogramms mit der Arbeit interner UDB-Elemente zu koordinieren.  Aufgrund der starken Verbindung mit der Trace-Matrix kann dieser Block jedoch so konfiguriert werden, dass er andere Funktionen ausführt. <br><br><img src="https://habrastorage.org/webt/rh/ak/9e/rhak9e-mn02qvbn0-di2e_81r_i.png"><br>  <i>Abbildung 21-29.</i>  <i>Steuerungs- und Statusmodul.</i> <br><br>  Betriebsarten: <br><br><ul><li>  <b>Statuseingabe</b>  Der Status von von außen aufgewickelten Leitungen kann eingegeben und als Status erfasst werden, wonach die CPU oder der DMA gelesen werden. </li><li>  <b>Steuerausgang</b>  Die CPU oder der DMA können Daten in das Steuerregister schreiben.  Diese Daten bestimmen den Status der Zeilen, die zu den Ablaufverfolgungsressourcen führen. </li><li>  <b>Parallele Eingabe</b> - zur parallelen Eingabe Datenpfad. </li><li>  <b>Parallele Ausgabe</b> - von der parallelen Ausgabe von Datapath. </li><li>  <b>Zählermodus</b>  In diesem Modus arbeitet das Steuerregister als 7-Bit-Zähler mit abnehmbarer Periode und automatischer Rückstellung.  Trace-Kanaleingänge können so konfiguriert werden, dass sie sowohl das Ein- als auch das Zurücksetzen des Zählers steuern.  Wenn dieser Modus aktiviert ist, ist die Funktionalität des Steuerregisters nicht verfügbar. </li><li>  <b>Synchronmodus / Synchronisationsmodus</b> .  In diesem Modus fungiert das Statusregister als 4-Bit-Dual-Synchronizer.  Wenn dieser Modus aktiviert ist, ist die Funktionalität des Statusregisters nicht verfügbar. </li></ul><br><h2>  21.3.3.1 Status- und Steuermodus </h2><br>  Im Steuerungs- und Statusmodus fungiert dieses Modul in der in Abbildung 21-30 gezeigten Konfiguration als Statusregister, Maskenüberschreibungsregister und Steuerregister. <br><br><img src="https://habrastorage.org/webt/t3/2j/hk/t32jhkcoc-imxe6vuwpuv91b_rs.png"><br>  <i>Abbildung 21-30.</i>  <i>Job Management und Status.</i> <br><br><h4>  Statusregister-Betrieb </h4><br>  Jede UDB verfügt über ein 8-Bit-Statusregister.  Die Eingabe in dieses Register stammt von einem beliebigen Signal einer digitalen Trace-Struktur.  Das Statusregister ist zerstörbar: Es verliert im Ruhezustand seinen Zustand und hat nach dem Aufwachen den Wert 0x00.  Jedes Bit kann unabhängig programmiert werden, um in einem von zwei Modi zu arbeiten. <br><br>  Tabelle 21-19.  Statusregister. <br><br><div class="scrollable-table"><table><tbody><tr><th>  <b>STAT MD</b> </th><th>  <b>Beschreibung</b> </th></tr><tr><td>  0 </td><td>  Normales Lesen.  Gibt den aktuellen Wert des Eingangssignals zurück. </td></tr><tr><td>  1 </td><td>  Kleben, beim Lesen gelöscht.  Latches mit hohem Eingangspegel <br>  auf ein Taktsignal.  Wird gelöscht, nachdem das Register gelesen wurde. </td></tr></tbody></table></div><br>  Ein wichtiges Merkmal der Statusregister-Löschoperation ist, dass nur gespannte Bits gelöscht werden.  Dadurch können die verbleibenden Bits den Status weiter erfassen, um die Prozesskontinuität aufrechtzuerhalten. <br><br><h4>  Normaler Lesestatus </h4><br>  Standardmäßig liest die CPU den Status der entsprechenden Schaltung transparent.  In diesem Modus können in der UDB zwischengespeicherte Daten gelesen werden. <br><br><h4>  Stick Status mit klar nach dem Lesen </h4><br>  In diesem Modus werden die Statusregistereingänge bei jedem Steuerungs- und Statustaktzyklus abgetastet.  Wenn das Signal bei einem bestimmten Takt hoch ist, wird es im Statusbit erfasst und bleibt unabhängig von nachfolgenden Eingangszuständen hoch.  Wenn die CPU oder der DMA das Statusregister liest, wird das Bit gelöscht.  Das Löschen des Statusregisters ist modeunabhängig und erfolgt auch dann, wenn die UDB-Taktung deaktiviert ist.  Es basiert auf dem Bus-Timing und tritt als Teil einer Leseoperation auf. <br><br><h4>  Latch-Status beim Lesen </h4><br>  Abbildung 21-31 zeigt den Aufbau der Statusleselogik.  Auf das Sticky-Statusregister folgt ein Latch, der die Statusregisterdaten zwischenspeichert und während des Lesezyklus stabil hält, unabhängig von der Anzahl der Warte-Ticks im aktuellen Lesevorgang. <br><br><img src="https://habrastorage.org/webt/vc/0w/3c/vc0w3cd0tr9yc51xphqneftldra.png"><br>  <i>Abbildung 21-31.</i>  <i>Die Logik des Lesestatus.</i> <br><br><h4>  Generierung unterbrechen </h4><br>  In den meisten Funktionen ist die Interrupt-Generierung an die Statusbitparameter gebunden.  Wie in Abbildung 21-31 dargestellt, ist diese Funktion in Form einer Maskierungsoperation und Anwenden der <b>ODER-</b> Operation auf den Status in die Statusregisterlogik integriert.  Mit den eingebauten Interrupt-Generatoren können nur die unteren 7 Bits des Statuseingangs verwendet werden.  Das höchstwertige Bit (Most Significant Bit, MSB) wird normalerweise als Interrupt-Ausgang verwendet und kann über digitale Verfolgungskanäle an den Interrupt-Controller weitergeleitet werden.  In dieser Konfiguration wird der Status des Interrupt-Anforderungsbits aus dem Register für das hohe Statusregister gelesen. <br><br><h2>  21.3.3.2 Bedienung des Steuerregisters </h2><br>  Für jede UDB steht ein 8-Bit-Steuerregister zur Verfügung.  Es arbeitet als Standard-Lese- / Schreibregister auf dem Systembus, wobei die Ausgabe dieser Registerbits durch die Leitungen der digitalen Trace-Struktur gesteuert wird. <br><br>  Das Steuerregister ist zerstörbar: Es verliert im Ruhezustand seinen Zustand und hat nach dem Aufwachen den Wert 0x00. <br><br><h4>  Verwaltungsregister-Modi </h4><br>  Jedes Bit kann in einem von drei Modi konfiguriert werden.  Die Konfiguration wird durch Kombinieren der Bits zweier 8-Bit-Register CTL_MD1 [7: 0] und CTL_MD0 [7: 0] festgelegt.  Zum Beispiel steuert {CTL_MD1 [0], CTL_MD0 [0]} den Nullbitmodus des Steuerregisters (siehe Tabelle 21-20). <br><br>  Tabelle 21-20.  Steuerregister-Nullbit-Modus <br><div class="scrollable-table"><table><tbody><tr><th>  <b>CTL MD</b> </th><th>  <b>Beschreibung</b> </th></tr><tr><td>  00 </td><td>  Direktmodus </td></tr><tr><td>  01 </td><td>  Synchronisierungsmodus </td></tr><tr><td>  10 </td><td>  (reserviert) </td></tr><tr><td>  11 </td><td>  Pulsmodus </td></tr></tbody></table></div><br><h4>  Direct Control Register-Modus </h4><br>  Standardmäßig ist der Modus direkt.  Wie in Abbildung 21-32 gezeigt, wird beim Schreiben der CPU oder des DMA in das Steuerregister die Ausgabe des Steuerregisters im selben Zyklus direkt an die Ablaufverfolgungsleitung gesendet. <br><br><img src="https://habrastorage.org/webt/ft/cl/q-/ftclq-bcwhq3r_kozkj3vrwuli0.png"><br>  <i>Abbildung 21-32.</i>  <i>Direktsteuerregistermodus.</i> <br><br><h4>  Synchronsteuerregistermodus </h4><br>  Im synchronen Modus, wie in Abbildung 21-33 gezeigt, ist der Ausgang des Steuerregisters nicht synchron mit dem Takt, der dem aktuellen Takt der Steuerung und des Status (Status und Steuerung, SC) entspricht.  Auf diese Weise können Sie die Zeitdiagramme des Ausgangs bei der ausgewählten SC-Frequenz und nicht bei der Bustaktfrequenz steuern. <br><br><img src="https://habrastorage.org/webt/jd/a6/7s/jda67s-pgp1kw-03dnttxc-zdcq.png"><br>  <i>Abbildung 21-33.</i>  <i>Synchronsteuerregistermodus.</i> <br><br><h4>  Pulsmodus-Steuerregister </h4><br>  Der Impulsmodus ähnelt dem Synchronmodus, da darin das Steuerbit mit der SC-Frequenz neu abgetastet wird;  Der Impuls beginnt beim ersten SC-Taktzyklus und folgt dem Busschreibzyklus.  Der Steuerbitausgang wird während eines vollen SC-Taktzyklus gesetzt.  Am Ende dieses Taktzyklus wird das Steuerbit automatisch zurückgesetzt. <br><br>  Mit dieser Betriebsart kann das Programm 1 in das Steuerregisterbit schreiben, um einen Impuls zu erzeugen.  Nachdem dem Bit der Wert 1 zugewiesen wurde, liest das Programm ihn bis zum Ende des Impulses als 1, danach wird er als 0 gelesen. Danach kann das Programm eine weitere 1 schreiben, um einen neuen Impuls zu starten.  Daher ist es nicht möglich, öfter als bei jedem zweiten Schritt des SC-Signals einen Impuls zu geben. <br><br><h4>  Verwaltungsregister zurücksetzen </h4><br>  Das Steuerregister verfügt über zwei Rücksetzmodi, die vom EXT RES-Konfigurationsbit gesteuert werden (siehe Abbildung 21-34).  Wenn EXT RES im Synchron- oder Impulsmodus 0 (Standard) ist, setzt der verfolgte Reset-Eingang den synchronisierten Ausgang zurück, nicht jedoch das Steuerbit selbst.  Wenn EXT RES 1 ist, setzt der rückverfolgbare Rücksetzeingang sowohl das Steuerbit als auch den synchronisierten Ausgang zurück. <br><br><img src="https://habrastorage.org/webt/lo/ho/dl/lohodlp2-dbsqoqzpwurp8hx2di.png"><br>  <i>Abbildung 21-34.</i>  <i>Verwaltungsregister zurücksetzen.</i> <br><br><h2>  21.3.3.3 Paralleler Ein- / Ausgabemodus </h2><br>  In diesem Modus sind Steuerung und Statusverfolgung mit den Datenpfadsignalen für parallelen Ein- und parallelen Ausgang verbunden.  Um diesen Modus zu aktivieren, müssen Sie die SC OUT-Konfigurationsbits spannen, um den parallelen Datenpfadausgang auszuwählen.  Die Kommunikation mit dem Paralleleingang ist immer verfügbar. Diese Trace-Verbindungen werden jedoch mit den Statusregistereingängen, Zählersteuereingängen und Interruptausgängen geteilt. <br><br><img src="https://habrastorage.org/webt/9c/se/c2/9csec2u290m0hm1qaecqxpyybhe.png"><br>  <i>Abbildung 21-35.</i>  <i>Paralleler E / A-Modus.</i> <br><br><h2>  21.3.3.4 Zählermodus </h2><br>  Wie in Abbildung 21-36 gezeigt, steht im Zählermodus der Einheit ein 7-Bit-Zähler zur Verfügung, der sowohl innerhalb von Operationen innerhalb der UDB als auch für die Anforderungen des Programms verwendet werden kann.  Die Merkmale des Messgeräts umfassen: <br><br><ul><li>  7-Bit-Periodenregister (Lesen / Schreiben). </li><li>  7-Bit-Kontoregister (Lesen / Schreiben).  Der Zugriff ist nur möglich, wenn der Zähler gestoppt ist. </li><li>  Lädt den Zeitraum im Kontoregister automatisch neu, wenn er Null erreicht. </li><li>  Das über die Software zugängliche Steuerbit im Hilfssteuerregister CNT START, mit dem der Zähler gestartet und gestoppt wird.  (Es überlappt das ENABLE-Hardwaresignal und muss installiert sein, damit das optionale ENABLE-Hardwaresignal funktioniert.) </li><li>  Auswählbare Bits der Trace-Kanäle der optionalen dynamischen Zählersteuerung für die Start- und Ladefunktionen: <br>  - DE, verfolgtes Signal zum Starten oder Stoppen der Zählung. <br>  - LD, ein rückverfolgbares Lastsignal, das ein periodisches Nachladen verursacht.  Wenn dieses Signal gespannt ist, überlappt es das anstehende Endsignal.  Es ist empfindlich gegenüber dem Pegel, und während das Signal gespannt ist, wird die Periode weiter geladen. </li><li>  Ein 7-Bit-Zähler kann als sc_out [6: 0] an Trace-Ressourcen gesendet werden. </li><li>  Das Beendigungssignal kann Trace-Ressourcen als sc_out [7] eingeben. </li><li>  Im Standardmodus wird der Fangmodus für das Zählsignal verwendet.  Im alternativen Modus wird in den Kombinationsmodus gewechselt. </li><li>  Im Standardmodus muss das optionale Hardware-EN-Signal, falls verwendet, eingestellt werden, um das LD-Hardware-Signal zu aktivieren.  Im alternativen Modus sind die LD- und EN-Hardwaresignale unabhängig. </li></ul><br><img src="https://habrastorage.org/webt/no/ov/up/noovupgcemdnnl1v6ak4tyl1rnq.png"><br>  <i>Abbildung 21-36.</i>  <i>Zählermodus</i> <br><blockquote>  <i><b>Anmerkung des Übersetzers:</b></i> <br>  Um diesen Ort herum wurde mir klar, dass ich nichts aus dem Dokument vollständig verstehe.  Nirgendwo werden diese "Standard" - und "Alternativ" -Modi beschrieben.  Nach langer Suche konnte ich einige finden, aber ein Beispiel. <br>  Datei: C: \ Programme (x86) \ Cypress \ PSoC Creator \ 4.2 \ PSoC Creator \ psoc \ content \ CyComponentLibrary \ CyComponentLibrary.cylib \ bScanComp_v1_10 \ bScanComp_v1_10.v <br>  Erklärender Code: <br><br><img src="https://habrastorage.org/webt/ba/rf/13/barf13t7suartgjw8b0frvtsccs.png"><br><br><div class="spoiler">  <b class="spoiler_title">Gleicher Text:</b> <div class="spoiler_text"><pre><code class="plaintext hljs">cy_psoc3_count7 #(.cy_period(Period),.cy_route_ld(0),.cy_route_en(1), .cy_alt_mode(1)) ChannelCounter( /* input */ .clock(clk_int), /* input */ .reset(1'b0), /* input */ .load(1'b0), /* input */ .enable(enable_int), /* output [06:00] */ .count(count), /* output */ .tc(tc_o) );</code> </pre> <br></div></div><br>  Die Deklaration der Komponente cy_psoc3_count7, die ich nur für die VHDL-Sprache gefunden habe, scheint für Verilog in die Entwicklungstools integriert zu sein.  Jetzt wissen Sie ungefähr, wo Sie nach den zur Diskussion stehenden Stimmbits suchen müssen. <br><br>  Hier betrachten wir die mysteriösen Bits, die entweder SC OUT CTL oder SC_OUT_CTL genannt werden, deren Werte jedoch nicht dokumentiert sind.  Ich habe sie nirgendwo gefunden.  Aus dem Text geht hervor, dass sie die STATUS_CONTROL-Komponente zwischen den Modi wechseln.  In der zuvor erwähnten VHDL-Datei C: \ Programme (x86) \ Cypress \ PSoC Creator \ 4.2 \ PSoC Creator \ warp \ lib \ lcpsoc3 \ cpsoc3.vhd <br><br><div class="spoiler">  <b class="spoiler_title">wir sehen separat den uns bereits bekannten Zähler</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">component cy_psoc3_count7 generic(cy_period : std_logic_vector (6 downto 0) := "1111111"; cy_init_value : std_logic_vector (6 downto 0) := "0000000"; cy_route_ld : boolean := false; cy_route_en : boolean := false; cy_alt_mode : boolean := false); port (clock : in std_logic; reset : in std_logic; load : in std_logic; enable : in std_logic; count : out std_logic_vector (6 downto 0); tc : out std_logic); end component;</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">getrennt - Status und Verwaltung</b> <div class="spoiler_text"><pre> <code class="plaintext hljs"> attribute atomic_rtl of cy_psoc3_status : component is rtl_generic; attribute cpu_access of cy_psoc3_status : component is true; component cy_psoc3_statusi generic(cy_force_order : boolean := false; cy_md_select : std_logic_vector (6 downto 0) := "0000000"; cy_int_mask : std_logic_vector (6 downto 0) := "0000000"); port (reset : in std_logic := '0'; clock : in std_logic := '0'; status : in std_logic_vector (6 downto 0); interrupt : out std_logic); end component; attribute atomic_rtl of cy_psoc3_statusi : component is rtl_generic; attribute cpu_access of cy_psoc3_statusi : component is true; component cy_psoc3_control generic(cy_init_value : std_logic_vector (7 downto 0) := "00000000"; cy_force_order : boolean := false; cy_ctrl_mode_1 : std_logic_vector (7 downto 0) := "00000000"; cy_ctrl_mode_0 : std_logic_vector (7 downto 0) := "00000000"; cy_ext_reset : boolean := false); port (reset : in std_logic := '0'; clock : in std_logic := '0'; control : out std_logic_vector (7 downto 0)); end component;</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">separat - Synchronisierer</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">component cy_psoc3_sync port (clock : in std_logic := '0'; sc_in : in std_logic; sc_out : out std_logic); end component;</code> </pre><br></div></div><br>  Ich wiederhole, dass Verilog überhaupt keine Version dieser Deklarationen hat (es gibt nur Verhaltensmodelle im Verzeichnis C: \ Programme (x86) \ Cypress \ PSoC Creator \ 4.2 \ PSoC Creator \ warp \ lib \ sim, daher denke ich, dass die Bits gesetzt sind Modi sind für einfache Programmierer nicht zugänglich. Wenn Sie diesen Abschnitt lesen, sollten Sie diese Tatsache berücksichtigen. Etwas dient nur als Referenz und unterliegt nicht uns Programmierern. </blockquote>  Um den Zählermodus zu aktivieren, muss der Zählerausgang in den Bits SC_OUT_CTI [1: 0] ausgewählt werden.  In diesem Modus ist der normale Betrieb des Steuerregisters nicht verfügbar.  Gleichzeitig kann das Statusregister für Leseoperationen verwendet werden, Sie sollten es jedoch nicht zum Generieren eines Interrupts verwenden, da das Maskenabbildungsregister auch als Zählerperiodenregister verwendet wird.  Das Periodenregister wird nicht zerstört und behält nach dem Aufwachen seinen Zustand.  Für eine Periode von N Messungen muss der Wert N-1 in das Periodenregister geladen werden.  Der Wert N = 1 (die Periode ist Null), da der Wert des Frequenzteilers nicht unterstützt wird und zu einer konstanten Einheit am Ausgang des TC führt (Terminalanzahl, TC).  Die Verfügbarkeit des SYNC-Modus hängt davon ab, ob die dynamische Steuerung (LD / EN) verwendet wird oder nicht.  Wenn es nicht verwendet wird, hat dies keine Auswirkungen auf den SYNC-Modus.  Bei Verwendung ist der SYNC-Modus nicht verfügbar. <br><br><h2>  21.3.3.5 Synchronisationsmodus </h2><br>  Wie in Abbildung 21-37 gezeigt, kann das Statusregister als 4-Bit-Doppeltakt arbeiten, der mit dem aktuellen SC_CLK-Wert synchronisiert ist, wenn das SYNC-MD-Bit gesetzt ist.  Dieser Modus kann verwendet werden, um die lokale Synchronisation von asynchronen Signalen (z. B. GPIO-Eingängen) zu implementieren.  In diesem Fall werden die synchronisierten Signale aus SC_IN [3: 0] ausgewählt, die Ausgänge werden zu den Kontakten SC_IO_OUT [3: 0] geleitet und SYNC MD schaltet die Kontakte SC_IO automatisch in den Ausgangsmodus.  In diesem Modus ist der normale Betrieb des Statusregisters nicht verfügbar, und der Status des Sticky-Statusbits ist unabhängig von den Einstellungen der Modussteuerung zwangsweise deaktiviert.  Dieser Modus wirkt sich nicht auf das Steuerregister aus.  Der Zähler kann weiterhin verwendet werden, jedoch mit Einschränkungen.  In dieser Betriebsart können keine dynamischen Eingänge (LD / EN) verwendet werden. <br><br><img src="https://habrastorage.org/webt/ol/cw/6z/olcw6ztxrs5xqzb-9l0i6uyyqa8.png"><br>  <i>Abbildung 21-37.</i>  <i>Synchroner Modus.</i> <br><br><h2>  21.3.3.6 Status- und Steuerungstaktung </h2><br>  Die Steuer- und Statusregister erfordern eine Taktauswahl in einer der folgenden Betriebsarten: <br><br><ul><li>  Statusregister mit einem beliebigen Bit im Sticky-Modus mit Löschen nach dem Lesen, </li><li>  Steuerregister im Zählermodus, </li><li>  synchroner Modus. </li></ul><br>  Das Timing wird im Takt- und Rücksetzmodul zugewiesen.  Siehe 21.3.4.  Steuermodul takten und zurücksetzen. <br><br><h2>  21.3.3.7 Hilfssteuerregister </h2><br>  Das Hilfssteuerregister zum Lesen und Schreiben ist ein spezielles Register, das fest eingestellte UDB-Geräte steuert.  Dieses Register ermöglicht es der CPU oder dem DMA, Interrupts, FIFOs und Zähleroperationen dynamisch zu steuern.  Die Bits der Register und ihre Beschreibung sind unten angegeben: <br><br><div class="scrollable-table"><table><tbody><tr><th colspan="8">  <b>Hilfssteuerregister</b> </th></tr><tr><td>  <b>7</b> </td><td>  <b>6</b> </td><td>  <b>5</b> </td><td>  <b>4</b> </td><td>  <b>3</b> </td><td>  <b>2</b> </td><td>  <b>1</b> </td><td>  <b>0</b> </td></tr><tr><td></td><td></td><td>  CNT <br>  STARTEN </td><td>  INT EN </td><td>  FIFO1 <br>  LVL </td><td>  FIFO0 <br>  LVL </td><td>  FIFO1 <br>  CLR </td><td>  FIFO0 <br>  CLR </td></tr></tbody></table></div><br><h4>  FIFO0 und FIFO1 löschen (FIFO0 löschen, FIFO1 löschen) </h4><br>  Die FIFO0-CLR- und FIFO1-CLR-Bits werden verwendet, um den Status der entsprechenden FIFOs zurückzusetzen.  Wenn 1 in diese Bits geschrieben wird, wird der Zustand des entsprechenden FIFO zurückgesetzt.  Um den FIFO-Betrieb fortzusetzen, muss 0 geschrieben werden. Diese Bits bleiben gespannt. FIFOs arbeiten als einfache Einzelbyte-Puffer ohne Status. <br><br><h4>  FIFO0- und FIFO1-Ebene (FIFO0-Ebene, FIFO1-Ebene) </h4><br>  Die FIFO0-LVL- und FIFO1-LVL-Bits legen den Pegel fest, bei dem ein 4-Byte-FIFO den Busstatus erhöht (wenn der Bus in den FIFO liest oder in diesen schreibt).  Der FIFO-Busstatuswert hängt von der konfigurierten Richtung ab, wie in der folgenden Tabelle gezeigt. <br><br>  Tabelle 21-21.  Steuerbits auf FIFO-Ebene. <br><div class="scrollable-table"><table><tbody><tr><th>  <b>FIFOx</b> <b><br></b>  <b>LVL</b> </th><th>  <b>Eingabemodus</b> <b><br></b>  <b>(Der Bus schreibt an FIFO)</b> </th><th>  <b>Ausgabemodus</b> <b><br></b>  <b>(Der Bus liest vom FIFO)</b> </th></tr><tr><td>  0 </td><td>  <b>Nicht voll.</b> <br>  Sie können mindestens 1 Byte schreiben. <br></td><td>  <b>Nicht leer.</b> <br>  Zum Lesen steht mindestens 1 Byte zur Verfügung. </td></tr><tr><td>  1 </td><td>  <b>Um mindestens die Hälfte zerstört.</b> <br>  Sie können mindestens 2 Bytes schreiben. </td><td>  <b>Mindestens halb voll.</b> <br>  Zum Lesen stehen mindestens 2 Bytes zur Verfügung. </td></tr></tbody></table></div><br><h4>  Interrupt aktivieren </h4><br>  Wenn die Statusregister-Generierungslogik aktiviert ist, ermöglicht das INT EN-Bit den Durchgang des erzeugten Interrupt-Signals. <br><br><h4>  Zähler / Konto starten?  (Start zählen) </h4><br>  Das CNT START-Bit kann zum Starten und Stoppen des Zählers verwendet werden (nur verfügbar, wenn die SC_OUT_CTL [1: 0] -Bits für den Zählerausgangsmodus konfiguriert sind). <br><br><h2>  21.3.3.8 Zusammenfassung der Verwaltungs- und Statusregister </h2><br>  Die folgende Tabelle fasst die Funktionen der Steuer- und Statusregister zusammen.  Bitte beachten Sie, dass Masken- und Steuerregister mit Zählern und Periodenregistern kombiniert werden und der Wert dieser Register nicht von der Betriebsart abhängt. <br><br>  Tabelle 21-22.  Eine kurze Zusammenfassung der Funktionsweise der Verwaltungs- und Statusregister <br><div class="scrollable-table"><table><tbody><tr><th>  Modus </th><th>  Management / Zähler <br>  (Kontrolle / Zählung) </th><th>  Status / Sync <br>  (Status / SYNC) </th><th>  Maskenüberlagerung / Periode <br>  (Maske / Periode) </th></tr><tr><td>  Kontrolle </td><td>  Control Out </td><td rowspan="2">  Status In oder SYNC </td><td>  Überlagerungsstatusmaske </td></tr><tr><td>  Zähler </td><td>  Counter Out </td><td>  Zählerperiode <sup>a</sup> (Zählperiode) </td></tr><tr><td>  Status </td><td rowspan="2">  Control Out oder Count Out </td><td>  Status In </td><td>  Überlagerungsstatusmaske </td></tr><tr><td>  Synchronisieren (SYNC) </td><td>  Synchronisieren (SYNC) </td><td>  Nicht verfügbar <sup>b</sup> (NA) </td></tr></tbody></table></div><br>  a.  - Beachten Sie, dass im Maskenmodus das Maskenüberlagerungsregister als Periodenregister und nicht als Maskenüberlagerungsregister fungieren kann.  Folglich ist der Interrupt-Ausgang nicht verfügbar, wenn der Zählermodus aktiviert ist. <br><br>  b.  - Beachten Sie, dass im Synchronisationsmodus das Statusregister nicht verfügbar ist und daher das Maskenüberlagerungsregister nicht verwendet werden kann.  Es kann jedoch als Periodenregister für den Zählermodus verwendet werden. <br><br>  Fortsetzung folgt… </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de443380/">https://habr.com/ru/post/de443380/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de443364/index.html">Wie eine Medienholding 12 erfolgreiche Startups pro Jahr starten kann</a></li>
<li><a href="../de443368/index.html">Wir bereiten eine Volltextsuche in Postgres vor. Teil 2</a></li>
<li><a href="../de443370/index.html">Verbinden von Google reCAPTCHA mit Vue und Überprüfen der Antwort auf dem Server</a></li>
<li><a href="../de443372/index.html">Backend auf CodeFest. Eingeweide bestellt?</a></li>
<li><a href="../de443376/index.html">Es ist gelungen, Dutzende von Box.com-Unternehmensspeichern zu finden, die Daten von Apple, Herbalife usw. offenlegen.</a></li>
<li><a href="../de443382/index.html">Fintech Digest: Mir Pay für Android, das Verbot des Abhebens von Bargeld aus anonymen Geldbörsen aufzuheben, sind AI-Startups nicht gerade AI</a></li>
<li><a href="../de443384/index.html">Slurm und MegaSlerm Ende Mai in Moskau</a></li>
<li><a href="../de443386/index.html">So erhalten Sie ein Sicherheitsprotokoll mit einem nicht administrativen Benutzer</a></li>
<li><a href="../de443388/index.html">Mehrstufige Lichtsteuerung basierend auf KTS NPL</a></li>
<li><a href="../de443390/index.html">Merkmale des australischen Englisch</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>