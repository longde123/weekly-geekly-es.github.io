<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßòüèº ‚òùüèΩ üíí UDB. Was ist das Teil 6. Status- und Steuermodul üïØÔ∏è üí∂ üë®‚Äçüë©‚Äçüëß‚Äçüëß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In fr√ºheren Artikeln, √úbersetzungen der Cypress-Dokumentation, wurde der Betriebsautomat Datapath sehr inhaltlich ber√ºcksichtigt. Allm√§hlich besch√§fti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>UDB. Was ist das Teil 6. Status- und Steuermodul</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443380/"><img src="https://habrastorage.org/webt/mf/zu/nx/mfzunxkuzhcahgj4dodvrfn2i18.jpeg"><br><br>  In fr√ºheren Artikeln, √úbersetzungen der Cypress-Dokumentation, wurde der Betriebsautomat Datapath sehr inhaltlich ber√ºcksichtigt.  Allm√§hlich besch√§ftigen wir uns mit anderen UDB-Modulen, insbesondere dem Management- und Statusmodul. <a name="habracut"></a><br><br>  Der allgemeine Inhalt des Zyklus ‚ÄûUDB.  Was ist das? " <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 1. Einf√ºhrung.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pld.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 2. Datenpfad.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 3. Datenpfad-FIFO.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 4. Datenpfad ALU.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 5. Datenpfad.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">N√ºtzliche Kleinigkeiten.</a> <br>  Teil 6. Management- und Statusmodul.  (Aktueller Artikel) <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 7. Steuermodul f√ºr Timing und Reset</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Teil 8. Adressierung von UDB</a> <br><br><h2>  21.3.3.  Verwaltungs- und Statusmodul </h2><br>  Eine allgemeine Ansicht des Steuermoduls und des Status ist in Abbildung 21-28 dargestellt.  Die Statusbits des Steuerregisters werden an Ablaufverfolgungsressourcen √ºbertragen, wodurch das Programm das Verhalten der UDB steuern kann.  Das Statusregister empf√§ngt Daten von Verfolgungsleitungen, sodass das Programm die von der UDB ausgef√ºhrten Vorg√§nge √ºberwachen kann. <br><br><img src="https://habrastorage.org/webt/4n/0g/wf/4n0gwf_b13miix_dof5ojhxwltk.png"><br>  <i>Abbildung 21-28.</i>  <i>Verwaltungs- und Statusregister.</i> <br><br>  Die Struktur des Steuermoduls und der Status sind in Abbildung 21-29 detaillierter dargestellt.  Das Hauptziel dieser Einheit ist es, die Interaktion des Prozessorkernprogramms mit der Arbeit interner UDB-Elemente zu koordinieren.  Aufgrund der starken Verbindung mit der Trace-Matrix kann dieser Block jedoch so konfiguriert werden, dass er andere Funktionen ausf√ºhrt. <br><br><img src="https://habrastorage.org/webt/rh/ak/9e/rhak9e-mn02qvbn0-di2e_81r_i.png"><br>  <i>Abbildung 21-29.</i>  <i>Steuerungs- und Statusmodul.</i> <br><br>  Betriebsarten: <br><br><ul><li>  <b>Statuseingabe</b>  Der Status von von au√üen aufgewickelten Leitungen kann eingegeben und als Status erfasst werden, wonach die CPU oder der DMA gelesen werden. </li><li>  <b>Steuerausgang</b>  Die CPU oder der DMA k√∂nnen Daten in das Steuerregister schreiben.  Diese Daten bestimmen den Status der Zeilen, die zu den Ablaufverfolgungsressourcen f√ºhren. </li><li>  <b>Parallele Eingabe</b> - zur parallelen Eingabe Datenpfad. </li><li>  <b>Parallele Ausgabe</b> - von der parallelen Ausgabe von Datapath. </li><li>  <b>Z√§hlermodus</b>  In diesem Modus arbeitet das Steuerregister als 7-Bit-Z√§hler mit abnehmbarer Periode und automatischer R√ºckstellung.  Trace-Kanaleing√§nge k√∂nnen so konfiguriert werden, dass sie sowohl das Ein- als auch das Zur√ºcksetzen des Z√§hlers steuern.  Wenn dieser Modus aktiviert ist, ist die Funktionalit√§t des Steuerregisters nicht verf√ºgbar. </li><li>  <b>Synchronmodus / Synchronisationsmodus</b> .  In diesem Modus fungiert das Statusregister als 4-Bit-Dual-Synchronizer.  Wenn dieser Modus aktiviert ist, ist die Funktionalit√§t des Statusregisters nicht verf√ºgbar. </li></ul><br><h2>  21.3.3.1 Status- und Steuermodus </h2><br>  Im Steuerungs- und Statusmodus fungiert dieses Modul in der in Abbildung 21-30 gezeigten Konfiguration als Statusregister, Masken√ºberschreibungsregister und Steuerregister. <br><br><img src="https://habrastorage.org/webt/t3/2j/hk/t32jhkcoc-imxe6vuwpuv91b_rs.png"><br>  <i>Abbildung 21-30.</i>  <i>Job Management und Status.</i> <br><br><h4>  Statusregister-Betrieb </h4><br>  Jede UDB verf√ºgt √ºber ein 8-Bit-Statusregister.  Die Eingabe in dieses Register stammt von einem beliebigen Signal einer digitalen Trace-Struktur.  Das Statusregister ist zerst√∂rbar: Es verliert im Ruhezustand seinen Zustand und hat nach dem Aufwachen den Wert 0x00.  Jedes Bit kann unabh√§ngig programmiert werden, um in einem von zwei Modi zu arbeiten. <br><br>  Tabelle 21-19.  Statusregister. <br><br><div class="scrollable-table"><table><tbody><tr><th>  <b>STAT MD</b> </th><th>  <b>Beschreibung</b> </th></tr><tr><td>  0 </td><td>  Normales Lesen.  Gibt den aktuellen Wert des Eingangssignals zur√ºck. </td></tr><tr><td>  1 </td><td>  Kleben, beim Lesen gel√∂scht.  Latches mit hohem Eingangspegel <br>  auf ein Taktsignal.  Wird gel√∂scht, nachdem das Register gelesen wurde. </td></tr></tbody></table></div><br>  Ein wichtiges Merkmal der Statusregister-L√∂schoperation ist, dass nur gespannte Bits gel√∂scht werden.  Dadurch k√∂nnen die verbleibenden Bits den Status weiter erfassen, um die Prozesskontinuit√§t aufrechtzuerhalten. <br><br><h4>  Normaler Lesestatus </h4><br>  Standardm√§√üig liest die CPU den Status der entsprechenden Schaltung transparent.  In diesem Modus k√∂nnen in der UDB zwischengespeicherte Daten gelesen werden. <br><br><h4>  Stick Status mit klar nach dem Lesen </h4><br>  In diesem Modus werden die Statusregistereing√§nge bei jedem Steuerungs- und Statustaktzyklus abgetastet.  Wenn das Signal bei einem bestimmten Takt hoch ist, wird es im Statusbit erfasst und bleibt unabh√§ngig von nachfolgenden Eingangszust√§nden hoch.  Wenn die CPU oder der DMA das Statusregister liest, wird das Bit gel√∂scht.  Das L√∂schen des Statusregisters ist modeunabh√§ngig und erfolgt auch dann, wenn die UDB-Taktung deaktiviert ist.  Es basiert auf dem Bus-Timing und tritt als Teil einer Leseoperation auf. <br><br><h4>  Latch-Status beim Lesen </h4><br>  Abbildung 21-31 zeigt den Aufbau der Statusleselogik.  Auf das Sticky-Statusregister folgt ein Latch, der die Statusregisterdaten zwischenspeichert und w√§hrend des Lesezyklus stabil h√§lt, unabh√§ngig von der Anzahl der Warte-Ticks im aktuellen Lesevorgang. <br><br><img src="https://habrastorage.org/webt/vc/0w/3c/vc0w3cd0tr9yc51xphqneftldra.png"><br>  <i>Abbildung 21-31.</i>  <i>Die Logik des Lesestatus.</i> <br><br><h4>  Generierung unterbrechen </h4><br>  In den meisten Funktionen ist die Interrupt-Generierung an die Statusbitparameter gebunden.  Wie in Abbildung 21-31 dargestellt, ist diese Funktion in Form einer Maskierungsoperation und Anwenden der <b>ODER-</b> Operation auf den Status in die Statusregisterlogik integriert.  Mit den eingebauten Interrupt-Generatoren k√∂nnen nur die unteren 7 Bits des Statuseingangs verwendet werden.  Das h√∂chstwertige Bit (Most Significant Bit, MSB) wird normalerweise als Interrupt-Ausgang verwendet und kann √ºber digitale Verfolgungskan√§le an den Interrupt-Controller weitergeleitet werden.  In dieser Konfiguration wird der Status des Interrupt-Anforderungsbits aus dem Register f√ºr das hohe Statusregister gelesen. <br><br><h2>  21.3.3.2 Bedienung des Steuerregisters </h2><br>  F√ºr jede UDB steht ein 8-Bit-Steuerregister zur Verf√ºgung.  Es arbeitet als Standard-Lese- / Schreibregister auf dem Systembus, wobei die Ausgabe dieser Registerbits durch die Leitungen der digitalen Trace-Struktur gesteuert wird. <br><br>  Das Steuerregister ist zerst√∂rbar: Es verliert im Ruhezustand seinen Zustand und hat nach dem Aufwachen den Wert 0x00. <br><br><h4>  Verwaltungsregister-Modi </h4><br>  Jedes Bit kann in einem von drei Modi konfiguriert werden.  Die Konfiguration wird durch Kombinieren der Bits zweier 8-Bit-Register CTL_MD1 [7: 0] und CTL_MD0 [7: 0] festgelegt.  Zum Beispiel steuert {CTL_MD1 [0], CTL_MD0 [0]} den Nullbitmodus des Steuerregisters (siehe Tabelle 21-20). <br><br>  Tabelle 21-20.  Steuerregister-Nullbit-Modus <br><div class="scrollable-table"><table><tbody><tr><th>  <b>CTL MD</b> </th><th>  <b>Beschreibung</b> </th></tr><tr><td>  00 </td><td>  Direktmodus </td></tr><tr><td>  01 </td><td>  Synchronisierungsmodus </td></tr><tr><td>  10 </td><td>  (reserviert) </td></tr><tr><td>  11 </td><td>  Pulsmodus </td></tr></tbody></table></div><br><h4>  Direct Control Register-Modus </h4><br>  Standardm√§√üig ist der Modus direkt.  Wie in Abbildung 21-32 gezeigt, wird beim Schreiben der CPU oder des DMA in das Steuerregister die Ausgabe des Steuerregisters im selben Zyklus direkt an die Ablaufverfolgungsleitung gesendet. <br><br><img src="https://habrastorage.org/webt/ft/cl/q-/ftclq-bcwhq3r_kozkj3vrwuli0.png"><br>  <i>Abbildung 21-32.</i>  <i>Direktsteuerregistermodus.</i> <br><br><h4>  Synchronsteuerregistermodus </h4><br>  Im synchronen Modus, wie in Abbildung 21-33 gezeigt, ist der Ausgang des Steuerregisters nicht synchron mit dem Takt, der dem aktuellen Takt der Steuerung und des Status (Status und Steuerung, SC) entspricht.  Auf diese Weise k√∂nnen Sie die Zeitdiagramme des Ausgangs bei der ausgew√§hlten SC-Frequenz und nicht bei der Bustaktfrequenz steuern. <br><br><img src="https://habrastorage.org/webt/jd/a6/7s/jda67s-pgp1kw-03dnttxc-zdcq.png"><br>  <i>Abbildung 21-33.</i>  <i>Synchronsteuerregistermodus.</i> <br><br><h4>  Pulsmodus-Steuerregister </h4><br>  Der Impulsmodus √§hnelt dem Synchronmodus, da darin das Steuerbit mit der SC-Frequenz neu abgetastet wird;  Der Impuls beginnt beim ersten SC-Taktzyklus und folgt dem Busschreibzyklus.  Der Steuerbitausgang wird w√§hrend eines vollen SC-Taktzyklus gesetzt.  Am Ende dieses Taktzyklus wird das Steuerbit automatisch zur√ºckgesetzt. <br><br>  Mit dieser Betriebsart kann das Programm 1 in das Steuerregisterbit schreiben, um einen Impuls zu erzeugen.  Nachdem dem Bit der Wert 1 zugewiesen wurde, liest das Programm ihn bis zum Ende des Impulses als 1, danach wird er als 0 gelesen. Danach kann das Programm eine weitere 1 schreiben, um einen neuen Impuls zu starten.  Daher ist es nicht m√∂glich, √∂fter als bei jedem zweiten Schritt des SC-Signals einen Impuls zu geben. <br><br><h4>  Verwaltungsregister zur√ºcksetzen </h4><br>  Das Steuerregister verf√ºgt √ºber zwei R√ºcksetzmodi, die vom EXT RES-Konfigurationsbit gesteuert werden (siehe Abbildung 21-34).  Wenn EXT RES im Synchron- oder Impulsmodus 0 (Standard) ist, setzt der verfolgte Reset-Eingang den synchronisierten Ausgang zur√ºck, nicht jedoch das Steuerbit selbst.  Wenn EXT RES 1 ist, setzt der r√ºckverfolgbare R√ºcksetzeingang sowohl das Steuerbit als auch den synchronisierten Ausgang zur√ºck. <br><br><img src="https://habrastorage.org/webt/lo/ho/dl/lohodlp2-dbsqoqzpwurp8hx2di.png"><br>  <i>Abbildung 21-34.</i>  <i>Verwaltungsregister zur√ºcksetzen.</i> <br><br><h2>  21.3.3.3 Paralleler Ein- / Ausgabemodus </h2><br>  In diesem Modus sind Steuerung und Statusverfolgung mit den Datenpfadsignalen f√ºr parallelen Ein- und parallelen Ausgang verbunden.  Um diesen Modus zu aktivieren, m√ºssen Sie die SC OUT-Konfigurationsbits spannen, um den parallelen Datenpfadausgang auszuw√§hlen.  Die Kommunikation mit dem Paralleleingang ist immer verf√ºgbar. Diese Trace-Verbindungen werden jedoch mit den Statusregistereing√§ngen, Z√§hlersteuereing√§ngen und Interruptausg√§ngen geteilt. <br><br><img src="https://habrastorage.org/webt/9c/se/c2/9csec2u290m0hm1qaecqxpyybhe.png"><br>  <i>Abbildung 21-35.</i>  <i>Paralleler E / A-Modus.</i> <br><br><h2>  21.3.3.4 Z√§hlermodus </h2><br>  Wie in Abbildung 21-36 gezeigt, steht im Z√§hlermodus der Einheit ein 7-Bit-Z√§hler zur Verf√ºgung, der sowohl innerhalb von Operationen innerhalb der UDB als auch f√ºr die Anforderungen des Programms verwendet werden kann.  Die Merkmale des Messger√§ts umfassen: <br><br><ul><li>  7-Bit-Periodenregister (Lesen / Schreiben). </li><li>  7-Bit-Kontoregister (Lesen / Schreiben).  Der Zugriff ist nur m√∂glich, wenn der Z√§hler gestoppt ist. </li><li>  L√§dt den Zeitraum im Kontoregister automatisch neu, wenn er Null erreicht. </li><li>  Das √ºber die Software zug√§ngliche Steuerbit im Hilfssteuerregister CNT START, mit dem der Z√§hler gestartet und gestoppt wird.  (Es √ºberlappt das ENABLE-Hardwaresignal und muss installiert sein, damit das optionale ENABLE-Hardwaresignal funktioniert.) </li><li>  Ausw√§hlbare Bits der Trace-Kan√§le der optionalen dynamischen Z√§hlersteuerung f√ºr die Start- und Ladefunktionen: <br>  - DE, verfolgtes Signal zum Starten oder Stoppen der Z√§hlung. <br>  - LD, ein r√ºckverfolgbares Lastsignal, das ein periodisches Nachladen verursacht.  Wenn dieses Signal gespannt ist, √ºberlappt es das anstehende Endsignal.  Es ist empfindlich gegen√ºber dem Pegel, und w√§hrend das Signal gespannt ist, wird die Periode weiter geladen. </li><li>  Ein 7-Bit-Z√§hler kann als sc_out [6: 0] an Trace-Ressourcen gesendet werden. </li><li>  Das Beendigungssignal kann Trace-Ressourcen als sc_out [7] eingeben. </li><li>  Im Standardmodus wird der Fangmodus f√ºr das Z√§hlsignal verwendet.  Im alternativen Modus wird in den Kombinationsmodus gewechselt. </li><li>  Im Standardmodus muss das optionale Hardware-EN-Signal, falls verwendet, eingestellt werden, um das LD-Hardware-Signal zu aktivieren.  Im alternativen Modus sind die LD- und EN-Hardwaresignale unabh√§ngig. </li></ul><br><img src="https://habrastorage.org/webt/no/ov/up/noovupgcemdnnl1v6ak4tyl1rnq.png"><br>  <i>Abbildung 21-36.</i>  <i>Z√§hlermodus</i> <br><blockquote>  <i><b>Anmerkung des √úbersetzers:</b></i> <br>  Um diesen Ort herum wurde mir klar, dass ich nichts aus dem Dokument vollst√§ndig verstehe.  Nirgendwo werden diese "Standard" - und "Alternativ" -Modi beschrieben.  Nach langer Suche konnte ich einige finden, aber ein Beispiel. <br>  Datei: C: \ Programme (x86) \ Cypress \ PSoC Creator \ 4.2 \ PSoC Creator \ psoc \ content \ CyComponentLibrary \ CyComponentLibrary.cylib \ bScanComp_v1_10 \ bScanComp_v1_10.v <br>  Erkl√§render Code: <br><br><img src="https://habrastorage.org/webt/ba/rf/13/barf13t7suartgjw8b0frvtsccs.png"><br><br><div class="spoiler">  <b class="spoiler_title">Gleicher Text:</b> <div class="spoiler_text"><pre><code class="plaintext hljs">cy_psoc3_count7 #(.cy_period(Period),.cy_route_ld(0),.cy_route_en(1), .cy_alt_mode(1)) ChannelCounter( /* input */ .clock(clk_int), /* input */ .reset(1'b0), /* input */ .load(1'b0), /* input */ .enable(enable_int), /* output [06:00] */ .count(count), /* output */ .tc(tc_o) );</code> </pre> <br></div></div><br>  Die Deklaration der Komponente cy_psoc3_count7, die ich nur f√ºr die VHDL-Sprache gefunden habe, scheint f√ºr Verilog in die Entwicklungstools integriert zu sein.  Jetzt wissen Sie ungef√§hr, wo Sie nach den zur Diskussion stehenden Stimmbits suchen m√ºssen. <br><br>  Hier betrachten wir die mysteri√∂sen Bits, die entweder SC OUT CTL oder SC_OUT_CTL genannt werden, deren Werte jedoch nicht dokumentiert sind.  Ich habe sie nirgendwo gefunden.  Aus dem Text geht hervor, dass sie die STATUS_CONTROL-Komponente zwischen den Modi wechseln.  In der zuvor erw√§hnten VHDL-Datei C: \ Programme (x86) \ Cypress \ PSoC Creator \ 4.2 \ PSoC Creator \ warp \ lib \ lcpsoc3 \ cpsoc3.vhd <br><br><div class="spoiler">  <b class="spoiler_title">wir sehen separat den uns bereits bekannten Z√§hler</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">component cy_psoc3_count7 generic(cy_period : std_logic_vector (6 downto 0) := "1111111"; cy_init_value : std_logic_vector (6 downto 0) := "0000000"; cy_route_ld : boolean := false; cy_route_en : boolean := false; cy_alt_mode : boolean := false); port (clock : in std_logic; reset : in std_logic; load : in std_logic; enable : in std_logic; count : out std_logic_vector (6 downto 0); tc : out std_logic); end component;</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">getrennt - Status und Verwaltung</b> <div class="spoiler_text"><pre> <code class="plaintext hljs"> attribute atomic_rtl of cy_psoc3_status : component is rtl_generic; attribute cpu_access of cy_psoc3_status : component is true; component cy_psoc3_statusi generic(cy_force_order : boolean := false; cy_md_select : std_logic_vector (6 downto 0) := "0000000"; cy_int_mask : std_logic_vector (6 downto 0) := "0000000"); port (reset : in std_logic := '0'; clock : in std_logic := '0'; status : in std_logic_vector (6 downto 0); interrupt : out std_logic); end component; attribute atomic_rtl of cy_psoc3_statusi : component is rtl_generic; attribute cpu_access of cy_psoc3_statusi : component is true; component cy_psoc3_control generic(cy_init_value : std_logic_vector (7 downto 0) := "00000000"; cy_force_order : boolean := false; cy_ctrl_mode_1 : std_logic_vector (7 downto 0) := "00000000"; cy_ctrl_mode_0 : std_logic_vector (7 downto 0) := "00000000"; cy_ext_reset : boolean := false); port (reset : in std_logic := '0'; clock : in std_logic := '0'; control : out std_logic_vector (7 downto 0)); end component;</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">separat - Synchronisierer</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">component cy_psoc3_sync port (clock : in std_logic := '0'; sc_in : in std_logic; sc_out : out std_logic); end component;</code> </pre><br></div></div><br>  Ich wiederhole, dass Verilog √ºberhaupt keine Version dieser Deklarationen hat (es gibt nur Verhaltensmodelle im Verzeichnis C: \ Programme (x86) \ Cypress \ PSoC Creator \ 4.2 \ PSoC Creator \ warp \ lib \ sim, daher denke ich, dass die Bits gesetzt sind Modi sind f√ºr einfache Programmierer nicht zug√§nglich. Wenn Sie diesen Abschnitt lesen, sollten Sie diese Tatsache ber√ºcksichtigen. Etwas dient nur als Referenz und unterliegt nicht uns Programmierern. </blockquote>  Um den Z√§hlermodus zu aktivieren, muss der Z√§hlerausgang in den Bits SC_OUT_CTI [1: 0] ausgew√§hlt werden.  In diesem Modus ist der normale Betrieb des Steuerregisters nicht verf√ºgbar.  Gleichzeitig kann das Statusregister f√ºr Leseoperationen verwendet werden, Sie sollten es jedoch nicht zum Generieren eines Interrupts verwenden, da das Maskenabbildungsregister auch als Z√§hlerperiodenregister verwendet wird.  Das Periodenregister wird nicht zerst√∂rt und beh√§lt nach dem Aufwachen seinen Zustand.  F√ºr eine Periode von N Messungen muss der Wert N-1 in das Periodenregister geladen werden.  Der Wert N = 1 (die Periode ist Null), da der Wert des Frequenzteilers nicht unterst√ºtzt wird und zu einer konstanten Einheit am Ausgang des TC f√ºhrt (Terminalanzahl, TC).  Die Verf√ºgbarkeit des SYNC-Modus h√§ngt davon ab, ob die dynamische Steuerung (LD / EN) verwendet wird oder nicht.  Wenn es nicht verwendet wird, hat dies keine Auswirkungen auf den SYNC-Modus.  Bei Verwendung ist der SYNC-Modus nicht verf√ºgbar. <br><br><h2>  21.3.3.5 Synchronisationsmodus </h2><br>  Wie in Abbildung 21-37 gezeigt, kann das Statusregister als 4-Bit-Doppeltakt arbeiten, der mit dem aktuellen SC_CLK-Wert synchronisiert ist, wenn das SYNC-MD-Bit gesetzt ist.  Dieser Modus kann verwendet werden, um die lokale Synchronisation von asynchronen Signalen (z. B. GPIO-Eing√§ngen) zu implementieren.  In diesem Fall werden die synchronisierten Signale aus SC_IN [3: 0] ausgew√§hlt, die Ausg√§nge werden zu den Kontakten SC_IO_OUT [3: 0] geleitet und SYNC MD schaltet die Kontakte SC_IO automatisch in den Ausgangsmodus.  In diesem Modus ist der normale Betrieb des Statusregisters nicht verf√ºgbar, und der Status des Sticky-Statusbits ist unabh√§ngig von den Einstellungen der Modussteuerung zwangsweise deaktiviert.  Dieser Modus wirkt sich nicht auf das Steuerregister aus.  Der Z√§hler kann weiterhin verwendet werden, jedoch mit Einschr√§nkungen.  In dieser Betriebsart k√∂nnen keine dynamischen Eing√§nge (LD / EN) verwendet werden. <br><br><img src="https://habrastorage.org/webt/ol/cw/6z/olcw6ztxrs5xqzb-9l0i6uyyqa8.png"><br>  <i>Abbildung 21-37.</i>  <i>Synchroner Modus.</i> <br><br><h2>  21.3.3.6 Status- und Steuerungstaktung </h2><br>  Die Steuer- und Statusregister erfordern eine Taktauswahl in einer der folgenden Betriebsarten: <br><br><ul><li>  Statusregister mit einem beliebigen Bit im Sticky-Modus mit L√∂schen nach dem Lesen, </li><li>  Steuerregister im Z√§hlermodus, </li><li>  synchroner Modus. </li></ul><br>  Das Timing wird im Takt- und R√ºcksetzmodul zugewiesen.  Siehe 21.3.4.  Steuermodul takten und zur√ºcksetzen. <br><br><h2>  21.3.3.7 Hilfssteuerregister </h2><br>  Das Hilfssteuerregister zum Lesen und Schreiben ist ein spezielles Register, das fest eingestellte UDB-Ger√§te steuert.  Dieses Register erm√∂glicht es der CPU oder dem DMA, Interrupts, FIFOs und Z√§hleroperationen dynamisch zu steuern.  Die Bits der Register und ihre Beschreibung sind unten angegeben: <br><br><div class="scrollable-table"><table><tbody><tr><th colspan="8">  <b>Hilfssteuerregister</b> </th></tr><tr><td>  <b>7</b> </td><td>  <b>6</b> </td><td>  <b>5</b> </td><td>  <b>4</b> </td><td>  <b>3</b> </td><td>  <b>2</b> </td><td>  <b>1</b> </td><td>  <b>0</b> </td></tr><tr><td></td><td></td><td>  CNT <br>  STARTEN </td><td>  INT EN </td><td>  FIFO1 <br>  LVL </td><td>  FIFO0 <br>  LVL </td><td>  FIFO1 <br>  CLR </td><td>  FIFO0 <br>  CLR </td></tr></tbody></table></div><br><h4>  FIFO0 und FIFO1 l√∂schen (FIFO0 l√∂schen, FIFO1 l√∂schen) </h4><br>  Die FIFO0-CLR- und FIFO1-CLR-Bits werden verwendet, um den Status der entsprechenden FIFOs zur√ºckzusetzen.  Wenn 1 in diese Bits geschrieben wird, wird der Zustand des entsprechenden FIFO zur√ºckgesetzt.  Um den FIFO-Betrieb fortzusetzen, muss 0 geschrieben werden. Diese Bits bleiben gespannt. FIFOs arbeiten als einfache Einzelbyte-Puffer ohne Status. <br><br><h4>  FIFO0- und FIFO1-Ebene (FIFO0-Ebene, FIFO1-Ebene) </h4><br>  Die FIFO0-LVL- und FIFO1-LVL-Bits legen den Pegel fest, bei dem ein 4-Byte-FIFO den Busstatus erh√∂ht (wenn der Bus in den FIFO liest oder in diesen schreibt).  Der FIFO-Busstatuswert h√§ngt von der konfigurierten Richtung ab, wie in der folgenden Tabelle gezeigt. <br><br>  Tabelle 21-21.  Steuerbits auf FIFO-Ebene. <br><div class="scrollable-table"><table><tbody><tr><th>  <b>FIFOx</b> <b><br></b>  <b>LVL</b> </th><th>  <b>Eingabemodus</b> <b><br></b>  <b>(Der Bus schreibt an FIFO)</b> </th><th>  <b>Ausgabemodus</b> <b><br></b>  <b>(Der Bus liest vom FIFO)</b> </th></tr><tr><td>  0 </td><td>  <b>Nicht voll.</b> <br>  Sie k√∂nnen mindestens 1 Byte schreiben. <br></td><td>  <b>Nicht leer.</b> <br>  Zum Lesen steht mindestens 1 Byte zur Verf√ºgung. </td></tr><tr><td>  1 </td><td>  <b>Um mindestens die H√§lfte zerst√∂rt.</b> <br>  Sie k√∂nnen mindestens 2 Bytes schreiben. </td><td>  <b>Mindestens halb voll.</b> <br>  Zum Lesen stehen mindestens 2 Bytes zur Verf√ºgung. </td></tr></tbody></table></div><br><h4>  Interrupt aktivieren </h4><br>  Wenn die Statusregister-Generierungslogik aktiviert ist, erm√∂glicht das INT EN-Bit den Durchgang des erzeugten Interrupt-Signals. <br><br><h4>  Z√§hler / Konto starten?  (Start z√§hlen) </h4><br>  Das CNT START-Bit kann zum Starten und Stoppen des Z√§hlers verwendet werden (nur verf√ºgbar, wenn die SC_OUT_CTL [1: 0] -Bits f√ºr den Z√§hlerausgangsmodus konfiguriert sind). <br><br><h2>  21.3.3.8 Zusammenfassung der Verwaltungs- und Statusregister </h2><br>  Die folgende Tabelle fasst die Funktionen der Steuer- und Statusregister zusammen.  Bitte beachten Sie, dass Masken- und Steuerregister mit Z√§hlern und Periodenregistern kombiniert werden und der Wert dieser Register nicht von der Betriebsart abh√§ngt. <br><br>  Tabelle 21-22.  Eine kurze Zusammenfassung der Funktionsweise der Verwaltungs- und Statusregister <br><div class="scrollable-table"><table><tbody><tr><th>  Modus </th><th>  Management / Z√§hler <br>  (Kontrolle / Z√§hlung) </th><th>  Status / Sync <br>  (Status / SYNC) </th><th>  Masken√ºberlagerung / Periode <br>  (Maske / Periode) </th></tr><tr><td>  Kontrolle </td><td>  Control Out </td><td rowspan="2">  Status In oder SYNC </td><td>  √úberlagerungsstatusmaske </td></tr><tr><td>  Z√§hler </td><td>  Counter Out </td><td>  Z√§hlerperiode <sup>a</sup> (Z√§hlperiode) </td></tr><tr><td>  Status </td><td rowspan="2">  Control Out oder Count Out </td><td>  Status In </td><td>  √úberlagerungsstatusmaske </td></tr><tr><td>  Synchronisieren (SYNC) </td><td>  Synchronisieren (SYNC) </td><td>  Nicht verf√ºgbar <sup>b</sup> (NA) </td></tr></tbody></table></div><br>  a.  - Beachten Sie, dass im Maskenmodus das Masken√ºberlagerungsregister als Periodenregister und nicht als Masken√ºberlagerungsregister fungieren kann.  Folglich ist der Interrupt-Ausgang nicht verf√ºgbar, wenn der Z√§hlermodus aktiviert ist. <br><br>  b.  - Beachten Sie, dass im Synchronisationsmodus das Statusregister nicht verf√ºgbar ist und daher das Masken√ºberlagerungsregister nicht verwendet werden kann.  Es kann jedoch als Periodenregister f√ºr den Z√§hlermodus verwendet werden. <br><br>  Fortsetzung folgt‚Ä¶ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de443380/">https://habr.com/ru/post/de443380/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de443364/index.html">Wie eine Medienholding 12 erfolgreiche Startups pro Jahr starten kann</a></li>
<li><a href="../de443368/index.html">Wir bereiten eine Volltextsuche in Postgres vor. Teil 2</a></li>
<li><a href="../de443370/index.html">Verbinden von Google reCAPTCHA mit Vue und √úberpr√ºfen der Antwort auf dem Server</a></li>
<li><a href="../de443372/index.html">Backend auf CodeFest. Eingeweide bestellt?</a></li>
<li><a href="../de443376/index.html">Es ist gelungen, Dutzende von Box.com-Unternehmensspeichern zu finden, die Daten von Apple, Herbalife usw. offenlegen.</a></li>
<li><a href="../de443382/index.html">Fintech Digest: Mir Pay f√ºr Android, das Verbot des Abhebens von Bargeld aus anonymen Geldb√∂rsen aufzuheben, sind AI-Startups nicht gerade AI</a></li>
<li><a href="../de443384/index.html">Slurm und MegaSlerm Ende Mai in Moskau</a></li>
<li><a href="../de443386/index.html">So erhalten Sie ein Sicherheitsprotokoll mit einem nicht administrativen Benutzer</a></li>
<li><a href="../de443388/index.html">Mehrstufige Lichtsteuerung basierend auf KTS NPL</a></li>
<li><a href="../de443390/index.html">Merkmale des australischen Englisch</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>