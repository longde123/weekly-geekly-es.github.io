<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíó üôÉ ‚õµÔ∏è D√©velopper une IA astucieuse dans un jeu tactique bas√© sur l'heuristique et les mutations ü•É üåú üéôÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans les jeux tactiques, l'IA est tr√®s importante. Si l'IA est consid√©r√©e comme un ¬´idiot artificiel¬ª, le jeu peut √™tre sauvegard√© par un multijoueur,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>D√©velopper une IA astucieuse dans un jeu tactique bas√© sur l'heuristique et les mutations</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/461287/"> Dans les jeux tactiques, l'IA est tr√®s importante.  Si l'IA est consid√©r√©e comme un ¬´idiot artificiel¬ª, le jeu peut √™tre sauvegard√© par un multijoueur, une intrigue, une atmosph√®re et des graphismes incroyables (c'est inexact).  La solution est √©vidente: faire une bonne IA, quel pourrait √™tre le probl√®me? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wf/qq/i1/wfqqi1td-4drykncjmdv7eeqyec.gif" alt="Terminaison Cat par CoolAI"></div><br>  Dans les d√©tails.  Voici mes √©tapes pour construire une IA forte avec du caract√®re.  Pas super fort [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1</a> ], mais capable de travailler rapidement localement dans un navigateur gourmand de n'importe quel PC moyen-faible.  J'ai appliqu√© l'approche de syst√®mes experts en utilisant un ensemble d'heuristiques et de mutations.  15 √©tapes de transformation progressive de l'IA sont d√©crites, chacune des √©tapes peut √™tre ressentie. <br><a name="habracut"></a><br><h3>  Br√®ve description </h3><br>  Dans un jeu par navigateur exp√©rimental, l'IA est bas√©e sur la g√©n√©ration de nombreux √©tats possibles - les r√©sultats du mouvement actuel.  <i>(En raison des sp√©cificit√©s et de la commodit√© du jeu, ces √©tats r√©sultants dans l'article sont appel√©s des sc√©narios de virage ou des strat√©gies d'IA, selon le contexte)</i> .  Ensuite, les sc√©narios du cours sont mut√©s.  Selon les sc√©narios obtenus, les estimations du ¬´succ√®s¬ª sont calcul√©es.  Le plus r√©ussi et ex√©cut√© par un joueur d'ordinateur. <br><br>  Par exemple, trois strat√©gies sont g√©n√©r√©es: <br><br><ol><li>  Courant fr√©n√©tiquement vers l'avant et attaquant tous ceux qui l√®vent le bras.  Points de l'√©tat final: 37000 points. </li><li>  Attaquez les archers √† une distance s√ªre, tandis que les autres se cachent dans les coins.  45000 points. </li><li>  Tous battent en retraite, se regroupent et se cachent des ennemis.  Si vous pouvez blesser un ennemi √† une distance s√ªre, alors attaquez.  18000 points. </li><li>  Dans ce cas, la 2√®me strat√©gie sera s√©lectionn√©e. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4n/yr/6q/4nyr6q29l8vaeemg-fo5a_hylme.gif"></div><br>  Eh bien, tout semble √™tre standard.  Pas vraiment. <br><br>  Toute la pulpe est de savoir comment les scripts sont g√©n√©r√©s et comment le coefficient de valeur du script est calcul√©.  Imposer dans l'un d'eux et le r√©sultat vous attristera. <br><br><h3>  R√®gles du jeu </h3><br>  Le joueur et l'IA ont initialement 6 unit√©s identiques dans les coins.  Chaque √©quipe se relaie √† tour de r√¥le par toutes les unit√©s √† la fois.  Options pour la progression de chaque unit√©: <br><br><ul><li>  sauter un mouvement; </li><li>  se d√©placer et sauter; </li><li>  d√©placer et attaquer ( <i>vous pouvez et parfois vous devez attaquer le v√¥tre</i> ). </li></ul><br>  Le terrain de jeu et la composition de l'√©quipe sont g√©n√©r√©s de mani√®re proc√©durale ( <i>c'est-√†-dire au hasard, mais avec des contr√¥les de perm√©abilit√© et de ¬´tact¬ª acceptable</i> ).  Types d'unit√©s: <br><br><ol><li>  Fighter F, unit√© de m√™l√©e avec la plus grande capacit√© de survie, d√©g√¢ts et mobilit√©.  Une sorte de char + d√©g√¢ts. </li><li>  Archer A, les d√©g√¢ts les plus faibles, mais l'attaque est √† une distance de 1-7 en ligne droite. </li><li>  Le Sorcier W meurt d'un coup de combattant, mais l'attaque est √† une distance de 1-5 en ligne droite √† travers toutes les unit√©s. </li></ol><br>  Le terrain de jeu est toujours de taille 10 * 10. <br><br>  Champs possibles sur la carte: <br><br><ul><li>  Terre - n'impose aucune restriction. </li><li>  Mur - √† travers lui, vous ne pouvez ni tirer ni passer. </li><li>  Eau - il est impossible de le traverser, mais un archer peut tirer dessus (un <i>magicien ardent ne peut pas</i> ). </li></ul><br><div style="text-align:center;"> <a href="" rel="nofollow"><img src="https://habrastorage.org/webt/zb/wo/gr/zbwogrulofgpixaxvlfrtnqlmuc.png"></a> </div><br><br>  Le jeu est compl√®tement d√©termin√©, c'est-√†-dire qu'il n'y a aucun √©l√©ment de chance en lui (100% de chances de toucher, pas de d√©g√¢ts critiques, etc.).  C'est aussi un jeu avec des informations compl√®tes, c'est-√†-dire que les rivaux savent tout sur l'√©tat des troupes des uns et des autres √† un moment donn√©.  Comme dans les dames. <br><br>  L'IA est plus forte qu'un joueur de viande, mais ce dernier au premier niveau a un handicap sous la forme d'une unit√©.  Le 3, le joueur, au contraire, a un handicap d'une unit√© et il est beaucoup plus difficile de gagner (j'ai environ 15% de victoires √† ce stade).  Vient ensuite la version plus al√©atoire de Game +. <br><br><div class="spoiler">  <b class="spoiler_title">Gameplay annul√©</b> <div class="spoiler_text">  <i>Initialement, un plan de match diff√©rent a √©t√© d√©velopp√© sous la forme d'un ¬´swing¬ª comme au classement, mais √† la fin du d√©veloppement, je l'ai abandonn√© comme √©tant peu motivant.</i>  <i>Le fait √©tait que si une √©quipe perd, alors sur la carte suivante, on lui donne +1 unit√©, et ainsi de suite jusqu'√† un maximum de 10 contre 6. Si, et puis, l'√©quipe a r√©ussi √† perdre, alors ses unit√©s ont augment√© leurs caract√©ristiques.</i> <br></div></div><br>  Le jeu a √©t√© d√©velopp√© sur des styles natifs javascript: divs et css, et c'√©tait la solution la plus malheureuse possible [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">2</a> ].  Ceci est un jeu par navigateur.  Le moteur n'a pas √©t√© utilis√©.  Le seul objectif du projet est de cr√©er un joueur informatique fort "avec du caract√®re" et la capacit√© de changer ce personnage (calcul des cyborgs, des orcs agressifs, des elfes perfides, des zombies stupides). <br><br>  Pour r√©duire le "style informatique" de l'ennemi, quelques astuces ont √©t√© appliqu√©es: <br><br><ul><li>  Le joueur apr√®s son tour n'attend pas que l'IA pense √† son coup.  L'ennemi commence ¬´imm√©diatement¬ª √† faire ses mouvements ( <i>en r√©alit√©, c'est une illusion</i> ). </li><li>  Le joueur informatis√© contr√¥le √©galement les unit√©s √† l'aide de son curseur ( <i>et c'est aussi une illusion, le curseur vole juste en m√™me temps que les animations des unit√©s</i> ). </li><li>  L'IA peut utiliser des app√¢ts insidieux pour forcer un combat ( <i>tout est juste</i> ). </li></ul><br><h3>  Et qu'est-ce qui est si compliqu√©? </h3><br>  Au d√©but, il peut sembler que tout est simple: vous pouvez simplement trier toutes les options de tous les mouvements et choisir la meilleure.  Mais tr√®s vite, il devient √©vident que tout est tr√®s difficile. <br>  L'√©num√©ration compl√®te est impossible en raison de l'effet d'explosion combinatoire [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">3</a> ], qui consiste dans le fait qu'au fur et √† mesure que le nombre d'√©l√©ments √† v√©rifier dans les sc√©narios augmente, la complexit√© de calcul augmente de fa√ßon exponentielle.  Ensuite, je vais d√©crire ce que cela signifie dans mon jeu particulier. <br><br>  D'abord parce que  √Ä chaque tour, les unit√©s de l'√©quipe <u>partent toutes en m√™me temps</u> , puis leur s√©quence peut √™tre diff√©rente.  Et avec 6 unit√©s dans l'√©quipe de telles combinaisons devient <u>720</u> (1 * 2 * 3 * 4 * 5 * 6).  S'il y aura plus d'unit√©s, alors il y aura un grand nombre de combinaisons (√† 7 - 5040, √† 8 - 40320 ...).  Si vous ne tenez pas compte du r√©sultat maximal, le joueur risque d'essayer le plaisir en pr√©vision du prochain mouvement pendant 5 √† 10 minutes ( <i>et s'il persiste, le retard augmentera jusqu'√† des millions d'ann√©es, tout le monde ne souffrira pas</i> ).  C'est √† cause de cette caract√©ristique que mon IA au d√©but de la bataille est moins efficace qu'√† la fin.  En effet, vers la fin, la moiti√© de l'√©quipe est d√©j√† d√©c√©d√©e. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/te/wb/mz/tewbmzh3ouw8pi0dxfprbotd2vo.jpeg" alt="Pas d'unit√© - pas de probl√®me"></div><br>  Deuxi√®mement, chaque unit√© peut se <u>d√©placer vers diff√©rents points de la carte</u> .  Les combattants avec une amplitude de mouvement de 4 peuvent ressembler √† 1 √† 41 positions diff√©rentes.  Pour les magiciens et archers avec leur mouvement en 3, le nombre possible de mouvements est de 1-25.  Par exemple, la composition de l'√©quipe peut √™tre: 4 combattants, 1 mage et 1 archer.  Nous obtenons le total de diff√©rentes combinaisons de mouvements pour cet article: 41 * 41 * 41 * 41 * 25 * 25 = 1766100625. En r√©alit√©, en raison des intersections mutuelles et du terrain infranchissable, il y aura moins de combinaisons, mais dans une rare situation de ¬´dispersion sur la carte¬ª, le nombre de combinaisons sera se rapprocher de ce nombre. <br><br>  Troisi√®mement, chaque unit√© apr√®s le mouvement peut sauter un mouvement ou attaquer dans l'une des 4 directions.  Autrement dit, nous avons <u>5 actions finales possibles</u> par unit√©.  Combinaisons totales: 5 ^ 6 = 15625. <br><br><img src="https://habrastorage.org/webt/p-/jo/b3/p-job32djmlchdun3h0ozsscvkq.gif" align="right">  Combinaisons totales: 720 * 1766100625 * 15625 = 19868632031250000. <br><br>  Et dans chaque combinaison valide, il sera n√©cessaire de calculer les points de l'√©tat r√©sultant.  La fonction d'√©valuation comprend: √©mulation de mouvements, attaque, causant des d√©g√¢ts, mort d'unit√©s et comptage des points de vie restants des survivants.  Bien s√ªr, le nombre de combinaisons est surestim√©, car  en conditions r√©elles, la variabilit√© diminuera en raison des limites et des obstacles sur la carte, mais ce sera toujours un nombre insupportable de combinaisons.  Et tout cela se passe apr√®s tout dans un navigateur normal. <br><br><h3>  Comment √ßa se passe? </h3><br>  Pour r√©soudre un probl√®me similaire, une approche heuristique a √©t√© utilis√©e, dont l'algorithme g√©n√©ralis√© peut √™tre d√©crit comme suit: <br><br><ol><li>  G√©n√©rez diff√©rents sc√©narios bas√©s sur des strat√©gies pr√©d√©finies (~ 20 pi√®ces). </li><li>  Tant qu'il reste du temps, muter les scripts, en laissant le plus rentable. </li><li>  √Ä la fin, s√©lectionnez le sc√©nario avec la note la plus √©lev√©e. </li><li>  Effectuez le premier mouvement de l'unit√© √† partir du script, mais ne faites pas le reste.  D√©marrez l'animation du premier mouvement et pendant que l'animation est affich√©e, continuez d'am√©liorer les scripts pour les unit√©s restantes. </li><li>  R√©p√©tez l'op√©ration pour les unit√©s restantes de l'√©tape 1. </li></ol><br>  <i>La m√©thode heuristique est une m√©thode qui peut fonctionner (selon McConnell [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">4</a> ]).</i>  <i>Plus et plus strict sur Wikip√©dia [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">5</a> ].</i> <br><br>  Les points cl√©s de cet algorithme sont: la g√©n√©ration de sc√©narios, les mutations et l‚Äô√©valuation correcte de la rentabilit√© de l‚Äô√âtat.  Chacun de ces points utilise sa propre heuristique locale.  N√©anmoins, dans la mesure du possible, des algorithmes ont √©t√© utilis√©s avec un r√©sultat optimal garanti, par exemple, A * pour trouver le chemin [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">6</a> ]. <br><br>  L'approche √©volutive que j'ai utilis√©e ne peut pas √™tre qualifi√©e de g√©n√©tique √† part enti√®re [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">7</a> ], car  Je n'ai utilis√© que des mutations et la survie des ¬´plus forts¬ª de lui, et j'ai ajust√© manuellement les coefficients de l'influence de l'heuristique individuelle.  Les algorithmes de formation des populations et des croisements n'ont pas √©t√© utilis√©s.  Apr√®s la mutation, un seul survit: un mutant ou un parent. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7i/re/rz/7irerzupfcgvrcheefio0acopvs.png"></div><br><br>  Je n'ai pas utilis√© de r√©seaux neuronaux [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">8</a> ] en raison de la nature du probl√®me.  Tout d'abord, en raison de la complexit√© de leur mise en ≈ìuvre r√©ussie dans un environnement en constante √©volution (√©mergence de nouvelles m√©caniques, comp√©tences, capacit√©s).  Deuxi√®mement, en raison de la complexit√© de leur personnalisation contr√¥l√©e (si vous voulez faire deux comportements: Suvorov rapide et Kutuzov prudent [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">9</a> ]). <br><br><h3>  L'√©volution d'un idiot artificiel en intelligence artificielle </h3><br>  0) Au d√©but, seules 3 strat√©gies avec <b>des mouvements al√©atoires</b> ont √©t√© introduites en IA.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Difficult√© du jeu # 0</a></i> }.  Le score de condition √©tait juste un nombre al√©atoire.  Et comme l'IA n'est pas le seul √©l√©ment de d√©veloppement, j'ai d√ª supporter le comportement des poissons fous pendant un certain temps. <br><br>  1) Ensuite, dans le calcul de l'√©valuation de la strat√©gie, les <b>contr√¥les des unit√©s restantes et de leur vie</b> avec l'IA et le joueur ont √©t√© ajout√©s.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Difficult√© du jeu # 10</a></i> }.  Pour une unit√© morte, l'√©quipe a obtenu 0 point.  Pour des points X compl√®tement sains (par exemple, 100 000 pour le combattant F, 70 000 pour l'archer A, 85 000 pour le sorcier W).  Pour les bless√©s ont √©t√© factur√©s 50% de la valeur de base, et les 50% restants en proportion de la dur√©e de vie restante du maximum.  Gr√¢ce √† cela, il √©tait plus rentable pour l'IA de tuer des ennemis, et s'il ne pouvait que blesser, alors il choisissait des adversaires avec moins de vies - plus vuln√©rables. <br><br>  Les mouvements al√©atoires sont devenus plus significatifs - l'IA a parfois redonn√©. <br><br>  2) Ensuite, une strat√©gie de d√©part plus significative a √©t√© ajout√©e: <br>  <b>max_agro</b> - tous les soldats ont couru le plus pr√®s possible des ennemis et ont essay√© <b>d'infliger autant de d√©g√¢ts que possible</b> .  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Difficult√© du jeu # 20</a></i> }.  Une strat√©gie a utilis√© l'ordre de d√©placement d'origine de l'unit√©, la seconde est pass√©e dans l'ordre inverse. <br><br>  L'IA a commenc√© √† se comporter comme l'idiot artificiel le plus primitif dans les jeux tactiques.  Et bien souvent, une telle IA est utilis√©e dans les jeux tactiques.  Il est populaire en raison de sa fiabilit√© et de sa simplicit√©.  Celui-ci peut m√™me gagner - mais tr√®s rarement. <br><br>  C'est exactement √† cela que ressemble le comportement de l'IA dans le jeu Master of Monsters - Disciples of Gaia qui a √©chou√©, ce qui rend le jeu fastidieux [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">10</a> ]. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/pj/oy/qh/pjoyqhp3dlshnyes9tn_bm6ueo8.jpeg" alt="Ma√Ætre des monstres - Disciples de Gaia"></div><br>  3) Ensuite, des strat√©gies ont √©t√© ajout√©es qui prennent en compte <b>les dommages possibles des ennemis</b> pendant le mouvement, et choisissent les mouvements qui ont conduit au moins de danger - de pr√©f√©rence z√©ro.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Difficult√© du jeu # 30</a></i> }.  Et l'IA est imm√©diatement devenue trop l√¢che, √©vitant toute proximit√© avec l'ennemi - il vaut mieux fuir que d'attaquer et de blesser, car l'ennemi peut donner plus de changement! <br><br>  Par cons√©quent, l'√©valuation des conditions a √©galement commenc√© √† prendre en compte les <b>dommages possibles √† l'ennemi</b> .  Les points de p√©nalit√© des dommages potentiels des ennemis ont commenc√© √† √™tre calcul√©s avec un coefficient d√©croissant de 0,20 (le <i>coefficient √©tait constamment reconfigur√©</i> ).  Cela a forc√© l'IA √† choisir une option agressive lors du choix entre l'attaque ou le vol, car elle rapportait 5 fois plus de points que le vol.  Mais l'IA est rest√©e l√¢che pendant longtemps, car pour entrer dans une telle situation de choix, l'ennemi devrait d√©j√† √™tre √† port√©e de main, et l'IA elle-m√™me, avec de telles √©valuations, ne se mettra jamais en premier en attaque.  Autrement dit, il n'ira pas au rapprochement.  Bien s√ªr, le joueur se sentira tromp√©, car l'IA a une r√©serve infinie de patience et peut fuir le danger pour toujours, for√ßant le joueur √† l'agression. <br><br>  Il convient de noter que de tels calculs de dommages possibles sont tr√®s longs sans l'utilisation d'un cache.  Une erreur de calcul compl√®te d'une strat√©gie sans optimisation a initialement pris 700 millisecondes.  Mais j'ai une limitation sur le cours entier d'une unit√© ~ 4000 ms!  Apr√®s optimisations et caches d√©pens√©es, ce temps diminue √† 20 millisecondes avec des strat√©gies tr√®s similaires ( <i>malheureusement, le cache ne peut pas √™tre calcul√© √† l'avance en raison de l'effet d'explosion combinatoire, donc 20 ms ne sont pas toujours atteints</i> ). <br><br>  Par cons√©quent, lorsque j'ai introduit la technologie de calcul avec la <b>pr√©vision de plusieurs mouvements √† venir</b> , le temps de calcul pour une profondeur de seulement 2 mouvements (ennemi et IA) a d√©j√† pris +700 millisecondes.  Dans ce cas, l'optimisation est utilis√©e pour couper les branches "faibles".  Si vous utilisez la strat√©gie primitive max_agro pour cela, l'augmentation de temps √©tait de +30 millisecondes et la mise en cache n'a presque pas r√©duit cette diff√©rence ( <i>car la position sur la carte √©tait compl√®tement nouvelle</i> ). <br><br>  En cons√©quence, j'ai fait 5 approches diff√©rentes pour le d√©veloppement de cette approche, mais √† la fin je l'ai compl√®tement abandonn√©e, car  les mutations avec l'heuristique ont donn√© des r√©sultats meilleurs et plus rapides. <br><br>  4) Les strat√©gies suivantes visaient √† √©largir la diversit√© initiale des strat√©gies: <br>  <b>far_attack_and_hide</b> - les unit√©s tentent d'attaquer le plus loin possible de l'ennemi, et si elles n'attaquent pas, elles se cachent de toute attaque. <br><br>  <b>close_group_flee</b> - les unit√©s s'√©loignent de la bataille et se rapprochent le plus possible.  Si vous pouvez attaquer l'ennemi en toute s√©curit√© en m√™me temps, attaquez. <br>  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Difficult√© du jeu # 40</a></i> }. <br><br>  Cela a am√©lior√© le processus de la bataille elle-m√™me, mais le d√©but de la bataille n'a pas toujours √©t√© rentable pour l'IA: elle a constamment recul√©, mais elle pouvait √™tre attir√©e dans l'attaque et effray√©e de sorte que le groupe AI √©tait divis√© en plusieurs petits groupes qui pouvaient √™tre d√©truits s√©par√©ment. <br><br>  5) <b>Il est alors temps pour les mutations</b> .  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Difficult√© du jeu # 50</a></i> }. <br><br>  L'algorithme de mutation √©tait tr√®s simple: <br><br><ul><li>  lors de l'it√©ration sur les strat√©gies s√©lectionn√©es, une copie de la strat√©gie a √©t√© cr√©√©e; </li><li>  dans cette copie, une mutation du cours a √©t√© faite; </li><li>  si le mouvement est devenu invalide, il a √©t√© corrig√© en au moins un valide selon l'une des strat√©gies standard; </li><li>  les points de la strat√©gie mut√©e ont √©t√© calcul√©s; </li><li>  si le mutant avait plus de points, alors le mutant a remplac√© son parent. </li></ul><br>  Dans le m√™me temps, les √©trangers n'ont pas supprim√© la strat√©gie et ont √©galement particip√© √† des mutations, car  il y a toujours eu une probabilit√© notable d'une s√©rie de mutations tr√®s r√©ussie. <br><br>  Dans un premier temps, le type de mutation le plus primitif a √©t√© mis en ≈ìuvre: de 1 √† 3 mouvements ont √©t√© remplac√©s par des mouvements al√©atoires, l'ordre des mouvements est rest√© le m√™me.  Au cours d'une it√©ration de calculs, en moyenne, environ 5 √† 15 mutations ont √©t√© cr√©√©es pour chaque strat√©gie.  De plus, en moyenne, une mutation sur cinq √©tait plus rentable et rempla√ßait la strat√©gie du parent. <br><br>  6) <b>App√¢t heuristique</b> .  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Difficult√© du jeu # 60</a></i> }. <br><br>  Cette heuristique a r√©p√©t√© la tactique avec laquelle j'ai attir√© l'IA pour attaquer avec une unit√© afin de la tuer une √† la fois.  Cette astuce a √©galement √©t√© enseign√©e √† l'IA. <br><br>  Pour ce faire, en fonction du calcul des points de l'√©tat de la strat√©gie, on v√©rifie si l'√©tat actuel correspond √† la situation de l'app√¢t: <br><br><ul><li>  Un seul soldat IA peut √™tre attaqu√©; </li><li>  Un seul ennemi peut attaquer une unit√© rampante; </li><li>  L'unit√© du joueur informatique doit survivre apr√®s cette attaque; </li><li>  Au moins deux unit√©s de l'ordinateur pourront attaquer en r√©ponse.  Plus ces unit√©s punitives sont nombreuses, plus il y a de points pour l'heuristique. </li></ul><br>  L'effet s'est av√©r√© excellent: il devient plus facile pour le joueur de commencer la bataille lui-m√™me.  De plus, le plus souvent, il est encore plus rentable pour un joueur de ¬´s'accrocher¬ª √† cet app√¢t, car apr√®s une attaque de retour, il pourra tomber sur l'IA avec toute son √©quipe ( <i>c'est s'il est raisonnablement group√© au pr√©alable</i> ).  Et l√†, toutes les d√©cisions tactiques locales comp√©tentes r√©soudront tout. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hg/av/sz/hgavszrvvpifoflsjerdxzfxncq.png"></div><br>  7) Puis j'ai commenc√© √† attirer mon attention sur le fait que les combattants de l'IA se <b>dispersent</b> constamment <b>comme des cafards</b> .  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Difficult√© du jeu # 70</a></i> }.  De plus, les soldats pouvaient se cacher dans un coin ou entrer dans des tunnels √©troits, dans lesquels l'IA avait grandement perdu de son efficacit√© √† trier les attaques possibles. <br>  Par cons√©quent, une heuristique pour estimer les distances entre les unit√©s et la topographie de la carte avec les hypoth√®ses suivantes a √©t√© ajout√©e √† la fonction d'√©valuation: <br><br><ul><li>  Plus les alli√©s sont proches "en moyenne" - mieux c'est (les unit√©s ont commenc√© √† se disperser moins souvent dans diff√©rentes parties de la carte). </li><li>  Plus les soldats de l'IA sont proches des soldats ¬´moyens¬ª de l'ennemi, mieux c'est (j'avais besoin d'une IA offensive). </li><li>  Plus la distance maximale entre n'importe quelle paire d'alli√©s est grande, pire c'est.  Dans le m√™me temps, une distance de 4 n'est pas p√©nalis√©e, et tout ce qui est plus grand est p√©nalis√© de fa√ßon exponentielle (cela a cess√© d'attirer des soldats dans des rangs vuln√©rables). </li><li>  Si un soldat IA ne peut pas courir et attaquer l'ennemi dans au moins 2 tours, alors il doit √™tre condamn√© √† une amende (cela l'oblige √† avancer, mais pas √† se tenir sous l'attaque lui-m√™me). </li><li>  Si dans un rayon de 2 pas du soldat il y a trop de positions de blocage, alors infligez-lui une amende (moins souvent, ils ont commenc√© √† courir dans des tunnels). </li><li>  Si un soldat se trouve √† la fronti√®re de la carte, infligez-lui encore une amende.  En cons√©quence, la maniabilit√© de l'IA a consid√©rablement augment√©, car  Une unit√© peut fonctionner depuis une zone ouverte vers un nombre beaucoup plus grand de positions que depuis un coin ou un tunnel. </li></ul><br>  8) Ensuite, il est temps d'√©largir les strat√©gies.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Difficult√© du jeu # 80</a></i> }.  Je ne pouvais pas ajouter une √©num√©ration compl√®te de l'ordre possible des mouvements d'unit√©, mais je pouvais <b>√©num√©rer leurs mouvements par type</b> : combattant, archer, sorcier.  Par cons√©quent, des strat√©gies sont apparues pour la s√©quence de mouvements, de la forme W_A_F: d'abord tous les sorciers marchent, puis tous les archers, puis tous les combattants. <br><br>  Ainsi, 6 nouvelles strat√©gies ont √©t√© ajout√©es: W_A_F, W_F_A, A_W_F, A_F_W, F_A_W, F_W_A.  Ils n'ont pas r√©solu tous les probl√®mes, mais ont consid√©rablement am√©lior√© la qualit√© du jeu. <br><br>  9) J'ai eu des mutations, mais elles √©taient de peu d'utilit√©.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Difficult√© du jeu # 90</a></i> }.  G√©n√©ralement, ils ont am√©lior√© les strat√©gies faibles, tandis que celles qui ont r√©ussi se sont rarement am√©lior√©es.  Par cons√©quent, les <b>mutations ont √©t√© modifi√©es</b> et √† chaque fois l'un des types de mutations al√©atoires a fonctionn√©: <br><br><ul><li>  De 1 √† 3 mouvements ont √©t√© remplac√©s par des mouvements al√©atoires, l'ordre des mouvements est rest√© le m√™me (√† l'ancienne); </li><li>  √âchangez l'ordre de d√©placement de deux unit√©s al√©atoires.  Laissez-les inchang√©es, m√™me si elles ne sont pas optimales.  Si le mouvement ne peut pas √™tre r√©p√©t√©, il est recr√©√© au hasard par l'une des strat√©gies habituelles dans un √©tat valide; </li><li>  √âchangez l'ordre des mouvements de deux unit√©s al√©atoires et recomptez √† nouveau leurs mouvements.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tous les coups √©chou√©s dans les unit√©s suivantes sont r√©par√©s par des strat√©gies conventionnelles al√©atoires. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'introduction de ces mutations a commenc√© √† compenser s√©rieusement l'impossibilit√© d'√©num√©rer compl√®tement toutes les combinaisons de mouvements unitaires. </font><font style="vertical-align: inherit;">Bien qu'en raison de son caract√®re al√©atoire, il ne donne aucune garantie qu'un coup d'√âtat sera trouv√© dans le temps limit√© disponible. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10) Ensuite, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plus de strat√©gies semi-al√©atoires</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ont √©t√© ajout√©es </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">{ </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Difficult√© du jeu # 100</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> }. </font><font style="vertical-align: inherit;">L'ordre des mouvements a √©t√© g√©n√©r√© de mani√®re al√©atoire, et les mouvements eux-m√™mes ont √©t√© s√©lectionn√©s selon les principes suivants (pour r√©duire leur importance):</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> infliger un maximum de d√©g√¢ts; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prendre le moins de d√©g√¢ts possible en r√©ponse; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rapprochez-vous le plus possible de vos ennemis. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je n'ai pas vu d'am√©lioration notable ici, mais le projet est d√©j√† pass√© au stade o√π chaque am√©lioration conduit √† des effets reproductibles moins visibles. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11) J'√©tais fatigu√© des erreurs flagrantes de l'IA, quand il a attaqu√© mes soldats en attaquant avec son sorcier, mais en m√™me temps bless√© ses alli√©s. </font><font style="vertical-align: inherit;">{ </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Difficult√© du jeu # 110</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> }. </font><font style="vertical-align: inherit;">Bien qu'avant cela, il pouvait r√©ellement se promener avec eux et les retirer de la ligne de feu. </font><font style="vertical-align: inherit;">Par cons√©quent, une </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strat√©gie</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> g√©n√©r√©e en dur </font><b><font style="vertical-align: inherit;">avec des v√©rifications manuelles a</font></b><font style="vertical-align: inherit;"> √©t√© cr√©√©e </font><font style="vertical-align: inherit;">:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s'il y a un sorcier, alors trouvez un endroit d'o√π il infligera un maximum de d√©g√¢ts; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s'il y a des alli√©s √† cet endroit ou sur le chemin de la gr√®ve, souvenez-vous-en; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tout d'abord, tous les alli√©s dont ils se souviennent s'en vont et ils ne peuvent pas occuper des positions r√©serv√©es par le sorcier (c'est-√†-dire ouvrir la voie); </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le sorcier marche; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les autres unit√©s marchent. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La strat√©gie est facilement d√©crite par des mots, mais c'est cool pour la programmer. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12) Parfois, des unit√©s " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s'√©chappaient dans les buissons</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " juste avant le d√©but des hostilit√©s. { </font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Difficult√© du jeu # 120</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> }. En cons√©quence, lorsque l'√©change d'attaques a commenc√©, une ou m√™me deux unit√©s pouvaient √™tre trop √©loign√©es des op√©rations militaires et n'ont pas aid√© les alli√©s. Si cela se produisait, j'√©tais presque assur√© de battre l'IA. Si cela ne s'est pas produit, j'ai souvent perdu. Je m'en suis d√©barrass√© en introduisant une nouvelle heuristique pour √©valuer les points r√©sultants de la strat√©gie. Un contr√¥le a √©t√© effectu√© pour chaque unit√©: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Si l'unit√© a attaqu√© ce tour, alors elle a re√ßu +1500 points.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Si vous n'avez pas attaqu√©, les positions ont √©t√© calcul√©es √† partir desquelles les ennemis pouvaient infliger des d√©g√¢ts aux alli√©s. </font><font style="vertical-align: inherit;">Continuez √† compter s'il y a plus de 0 de ces positions (N&gt; 0).</font></font><br>  2.1.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si une unit√© ne peut pas atteindre et toucher √† n'importe quelle position (n = 0), alors elle re√ßoit une p√©nalit√© de -1000 points. </font></font><br>  2.2.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si une unit√© peut atteindre toutes les positions, elle obtient +1200 points. </font></font><br>  2.3.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si une unit√© peut attaquer jusqu'√† certaines positions, elle obtient + (n / N) * 1000 points. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela a consid√©rablement am√©lior√© la ¬´coh√©sion¬ª des unit√©s IA. </font><font style="vertical-align: inherit;">Malheureusement, des cas de ¬´d√©serteur¬ª ont commenc√© √† appara√Ætre, lorsqu'en situation de perte l'une des unit√©s bless√©es a pr√©f√©r√© se cacher derri√®re le dos de leurs camarades au lieu de contribuer en attaquant l'ennemi. </font><font style="vertical-align: inherit;">Cela semblait ridicule quand l'ordinateur n'avait plus que 2 unit√©s et que le joueur en avait 3 ou m√™me plus. </font><font style="vertical-align: inherit;">Une heuristique corrective suppl√©mentaire est la r√®gle suivante:</font></font><br><br><pre><code class="plaintext hljs">IF ("   ,   " AND "    3 ") THEN "      "</code> </pre> <br>  13) √Ä la fin de l'introduction des strat√©gies, elles s'√©taient d√©j√† accumul√©es sous 25 pi√®ces.  { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Difficult√© du jeu # 130</a></i> }. <br><br>  Muter chacun d'eux est devenu trop cher.  Par cons√©quent, il a √©t√© d√©cid√© de supprimer les plus infructueuses et de ne laisser que 8 pi√®ces.  D√®s le d√©but, je n'ai pas voulu utiliser cette approche dans l'espoir que la mutation des √©trangers puisse conduire √† un excellent r√©sultat inattendu, au lieu d'un bon.  La saisie de ce traitement a finalement conduit √† une am√©lioration du jeu AI. <br><br>  14) Au d√©but, il y avait encore une r√©vision int√©ressante.  Initialement, la valeur du sc√©nario a √©t√© calcul√©e comme la diff√©rence dans la somme des points: <br><br><pre> <code class="plaintext hljs">_ = _ - _</code> </pre> <br>  Mais apr√®s plusieurs am√©liorations, je me suis souvenu que ce n'√©tait pas la meilleure solution, car  puis pour AI, les situations ¬´2 soldats contre 1 seul soldat¬ª et ¬´4 soldats contre 3 soldats¬ª seront les m√™mes.  Par cons√©quent, les points ont commenc√© √† √™tre calcul√©s comme le rapport: <br><br><pre> <code class="plaintext hljs">_ = _ / _</code> </pre> <br>  Le changement est faible et le r√©sultat est tr√®s grave.  Sans modification, le prix d'une erreur √† risque accru a toujours √©t√© le m√™me.  Apr√®s raffinement, l'IA a commenc√© √† risquer moins n√©gligemment vers la fin de la bataille, ce qui l'a consid√©rablement renforc√©e. <br><br>  Je veux noter que toutes ces am√©liorations ont √©t√© introduites progressivement, bien que dans l'ordre indiqu√©, mais beaucoup d'entre elles ont √©t√© am√©lior√©es, trait√©es et corrig√©es des bogues dans un ordre plus chaotique.  Il y a eu plus de 100 it√©rations r√©elles. <br><br>  Voici comment joue l'IA finale { <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Difficult√© du jeu # 9999</a></i> }: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/WkeFo53ycSc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  L'IA marche tout de suite, sans perdre de temps √† penser </h3><br>  Pour acc√©l√©rer les calculs eux-m√™mes, des algorithmes d'optimisation ont √©t√© activement utilis√©s sous la forme de partitions de boucles imbriqu√©es en boucles s√©quentielles ( <i>r√©duisant la complexit√©</i> ) et l'introduction de plusieurs tableaux avec des calculs pr√©liminaires mis en cache ( <i>et l'optimisation ult√©rieure de ces m√™mes caches</i> ).  Selon mes estimations, de nouvelles optimisations pourraient me fournir une augmentation de vitesse double (voire plus), mais cela entra√Ænerait une augmentation injustifi√©e des co√ªts de temps et une perte encore plus importante de lisibilit√© du code. <br><br>  La principale technologie de haute vitesse est les calculs pr√©liminaires pendant les temps d'arr√™t.  Cette m√©thode consiste √† diviser le processus en deux parties: les calculs eux-m√™mes et l'animation des r√©sultats des calculs: <br><br><ul><li>  les calculs du cours de la premi√®re unit√© commencent imm√©diatement apr√®s le tour du joueur, tandis qu‚Äôune fen√™tre s‚Äôouvre pour indiquer que le tour de l‚Äôadversaire commencera.  Et cela repr√©sente jusqu'√† 4 secondes, ce que le joueur ne per√ßoit pas comme une attente vide; </li><li>  les calculs du deuxi√®me mouvement et des mouvements suivants commencent lorsque l'animation du cours de la derni√®re unit√© commence seulement (c'est-√†-dire lorsque le curseur AI commence juste son mouvement).  Et le temps de toutes les animations est d√©j√† de 4,5 secondes.  Bien qu'il serait plus correct d'appeler cela non pas le calcul du prochain mouvement, mais l'am√©lioration de la strat√©gie pass√©e d√©j√† d√©velopp√©e et la recherche d'une nouvelle, car  √† chaque it√©ration, les d√©placements de toute l'√©quipe sont calcul√©s; </li><li>  lorsque l'animation de l'IA se d√©place vers des unit√©s en mouvement, le curseur de l'IA vole, qui pr√©tend qu'il clique dessus.  Le curseur vole aussi vite que possible, mais pour que le confort de le suivre reste.  De plus, l'ajout d'un curseur a non seulement permis d'augmenter la marge de temps de calcul de 2 secondes √† 4,5, mais a √©galement rendu la visualisation de la progression de l'ordinateur plus confortable pour une personne; </li><li>  le temps de tour du joueur n'est pas non plus perdu.  Tant que le joueur le pense, presque aucun calcul n'est effectu√©, donc √† ce moment les caches possibles pour le futur mouvement de l'adversaire informatique sont intensivement calcul√©es. </li></ul><br>  Pour √©viter que tout cela ne tra√Æne dans le navigateur et ne fonctionne avec un FPS assez stable, les calculs sont effectu√©s de mani√®re asynchrone par le travailleur ( <b>travailleurs Web</b> ) [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">11</a> ]. <br><br>  En faisant cela, je voulais me d√©barrasser de la f√¢cheuse fen√™tre d'attente ¬´Computer promenades¬ª.  Un tel d√© d√©sagr√©able est dans de nombreux bons jeux, par exemple, dans Xenonauts [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">12</a> ].  Je crois que j'ai pu faire face √† ce probl√®me. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/he/pr/wi/heprwi7w8vrfta6cdb0hzv1ga-0.jpeg" alt="Xenonauts - mouvement cach√©"></div><br>  Ainsi, l'IA passe toujours le m√™me temps √† penser √† son mouvement - quelle que soit sa complexit√©.  Une <i>caract√©ristique</i> tr√®s <i>curieuse de</i> cette approche est que plus le joueur a un ordinateur fort, plus les mutations de l'IA auront le temps de trier, et donc seront plus fortes, plus l'ordinateur du joueur sera puissant.  J'ai d'abord supprim√© cet effet en fixant le temps de fonctionnement et en pr√©-calculant la vitesse de l'ordinateur.  Cependant, j'ai ensuite supprim√© cette fixation, car  possesseurs d'ordinateurs puissants, cela leur permettra de se battre avec "leur" ordinateur, plut√¥t qu'avec l'ordinateur moyen. <br><br><h3>  Quel est le r√©sultat et quels sont les inconv√©nients </h3><br>  Ainsi, l'adversaire informatique qui en r√©sulte sait comment se battre dignement et fait bon usage des oublis de n'importe quel joueur, et n'en fait pas trop.  N√©anmoins, moi, connaissant toutes les caract√©ristiques de son travail, quoique avec tension, mais je le vainc presque toujours (dans des conditions √©gales).  Mais je voudrais le contraire: m√™me en connaissant ses caract√©ristiques, il perd presque toujours pour lui.  L'IA est loin d'√™tre id√©ale, car l'ensemble d'heuristiques que j'utilise conduit au chevauchement synergique des ¬´erreurs de ma perception¬ª les unes sur les autres.  Ces erreurs sont: <br><br><ol><li>  L'imperfection et l'incompl√©tude de ma propre strat√©gie, je ne connais pas toutes les meilleures strat√©gies, et donc je ne peux pas les identifier et les mettre en ≈ìuvre dans le jeu. </li><li>  Perte d'efficacit√© (qui n'est pas si id√©ale) des heuristiques √©labor√©es lors de leur transfert vers le code programme.  Par exemple, mon heuristique humaine: "Les unit√©s restent proches, mais pas trop pr√®s pour √©viter le double dommage des magiciens et ne pas se coincer dans des passages √©troits."  Cette heuristique m'aide √† vaincre l'IA, mais quand je l'enseigne √† mon adversaire informatique, je dois traduire une description qualitative en une description algorithmique avec des estimations quantitatives, et ici la perte de donn√©es est possible. </li><li>  Conflits mutuels entre heuristiques.  Lorsqu'il y a trop d'heuristiques, elles commencent progressivement √† se chevaucher.  En cons√©quence, une amplification inattendue peut se produire en raison d'un double comptage cach√© ou d'une duplication partielle.  Ou une sorte d'heuristique cessera d'influencer quoi que ce soit, car  sa contribution est compl√®tement bloqu√©e par de grands coefficients concurrents. </li><li>  Des contraintes de temps serr√©es et des am√©liorations pas √† pas des strat√©gies choisies conduisent au fait que le premier mouvement sera toujours moins r√©fl√©chi.  Cela signifie qu'un premier coup infructueux peut bloquer les mouvements √©vidents et plus efficaces des unit√©s restantes de l'√©quipe.  Cela s'exprime dans le fait que le premier combattant F au lieu de s'√©loigner peut attaquer l'ennemi avec ironie et que son alli√© sorcier W devra blesser le sien afin de finir l'ennemi. </li></ol><br>  Des algorithmes g√©n√©tiques √† part enti√®re, au lieu de ¬´l'appariement √† l'≈ìil¬ª, permettraient tr√®s probablement de s√©lectionner des coefficients plus optimaux en heuristique.  Mais c'est d√©j√† une t√¢che pour de futurs projets √† part enti√®re - je ne veux pas rester bloqu√© avec un prototype pendant longtemps.  Je suis assez satisfait de l'IA actuelle: elle est prudente, un peu insidieuse, assez agressive et ne permettra pas au joueur de se vaincre √† sec ( <i>en r√©alit√©, il est extr√™mement rare de le permettre</i> ). <br><br><h3>  Fonctionnalit√©s suppl√©mentaires </h3><br>  Cette m√©thode de mise en ≈ìuvre vous permet d'obtenir des bonus suppl√©mentaires dans le d√©veloppement de jeux ( <i>√† bien des √©gards du point de vue du d√©veloppeur et de ses termes br√ªlants</i> ): <br><br><ol><li>  <b>L'apparition de nouvelles m√©caniques</b> dans le jeu ne d√©truira pas la force du joueur informatique, m√™me si elle l'affaiblira progressivement par rapport au joueur.  Cet affaiblissement peut √™tre compens√© par l'introduction d'heuristiques suppl√©mentaires.  Pour que cela n'entra√Æne pas de d√©penses progressives de ressources, il n'est possible d'appliquer ces nouvelles heuristiques que si ces nouvelles m√©caniques sont pr√©sentes dans la bataille actuelle. </li><li>  <b>Niveaux de difficult√©</b> vraiment intelligents.  Maintenant, fondamentalement, le niveau de difficult√© d√©termine quels bonus un joueur d'ordinateur recevra comme ressources ( <i>plus d'or au d√©but ou un bonus dans les mines</i> ) ou combien ses soldats battront ( <i>+ 50% aux d√©g√¢ts</i> ).  Cela fonctionne, mais vous pouvez rendre l'IA un peu moins intelligente simplement en d√©sactivant progressivement certaines heuristiques √† mesure que la complexit√© diminue. </li><li>  Dans la suite du deuxi√®me paragraphe, vous pouvez cr√©er <b>diff√©rentes races / factions d'adversaires informatiques</b> : seules les strat√©gies agressives fonctionnent pour les orcs;  dans les foules de zombies, seuls les primitifs ¬´courent en avant et attaquent¬ª;  et les cyborgs utilisent toute la puissance de l'IA.  Merci √† ce joueur avant l'attaque devra √©valuer non seulement le nombre d'adversaires, mais aussi leur intelligence. </li></ol><br>  Tout cela semble prometteur, mais rappelez-vous que tout cela est beau sur le papier, et dans un vrai jeu, cela peut tout simplement ne pas fonctionner, se r√©v√©ler inint√©ressant, voire invisible pour le joueur.  Mais c'est une bonne raison d'exp√©rimenter. <br><br><h3>  O√π se sentir </h3><br>  Vous pouvez tester la puissance de cette IA dans le navigateur de rumble tactique de l'IA.  Test subject ‚Äùgratuit sur des sites comme itch.io [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">13</a> ].  Le param√®tre GET ai (valeurs de 0 √† 140 par pas de 10) r√©duira la complexit√© de l'IA. <br><br>  Selon mes attentes, vaincre l'IA sur un pied d'√©galit√© sera tr√®s, tr√®s difficile pour vous.  M√™me apr√®s s'√™tre habitu√© aux r√®gles du jeu.  Je recommande de consid√©rer ce jeu comme un prototype, ce qu'il est essentiellement (il n'y a pas de <i>musique, de sons et de prix</i> ). <br><br>  Veuillez laisser votre avis dans les commentaires sur l'int√©r√™t de l'IA, des conseils et des critiques sur la mise en ≈ìuvre possible de l'IA √† l'aide de diverses m√©thodes d'enseignement.  Si vous vous √™tes soudainement int√©ress√© √† mes autres recherches, pensez √† vous inscrire ici √† mon compte. <br><br><h3>  Les r√©f√©rences </h3><br>  1. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DeepMind - articles sur Habr√©</a> . <br>  2. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Jeux HTML5: Canvas vs</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">SVG contre</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">div sur stackoverflow</a> . <br>  3. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Explosion combinatoire - Wikipedia</a> . <br>  4. Le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">code parfait de Steve McConnell est Habr</a> . <br>  5. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">M√©thodes heuristiques - Wikipedia</a> . <br>  6. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">A * - Red Blob Games</a> . <br>  7. L' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">algorithme g√©n√©tique.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√Ä peu pr√®s le difficile - Habr</a> . <br>  8. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Huit jeux incroyables avec intelligence artificielle de la soci√©t√© Google - Habr</a> . <br>  9. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Tr√®s bri√®vement sur Suvorov et Kutuzov</a> . <br>  10. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Master of Monsters - Disciples of Gaia - Revue sur IGN</a> . <br>  11. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Une explication d√©taill√©e des boucles et du timing du jeu JavaScript</a> . <br>  12. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Xenonauts et un long √©cran de veille AI</a> . <br>  13. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Grondement tactique de l'IA.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">Sujet de test - sur itch.io.</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr461287/">https://habr.com/ru/post/fr461287/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr461277/index.html">Pr√©sentation de l'outil gratuit SQLIndexManager</a></li>
<li><a href="../fr461279/index.html">Comment cr√©er un microservice simple sur Golang et gRPC et le conteneuriser √† l'aide de Docker</a></li>
<li><a href="../fr461281/index.html">Proc√©dure pas √† pas pour configurer un serveur DNS BIND dans un environnement chroot pour Red Hat (RHEL / CentOS) 7</a></li>
<li><a href="../fr461283/index.html">Architecture logicielle et conception de syst√®mes: guide g√©n√©ral et ressources</a></li>
<li><a href="../fr461285/index.html">5 algorithmes d'√©chantillonnage principaux</a></li>
<li><a href="../fr461289/index.html">Sortie de CLion 2019.2: support de d√©veloppement int√©gr√©, d√©bogueur pour MSVC, recherche de fichiers d'en-t√™te inutilis√©s</a></li>
<li><a href="../fr461291/index.html">Golang: probl√®mes de performances sp√©cifiques</a></li>
<li><a href="../fr461297/index.html">√Ä quoi ressemblent les attaques cibl√©es modernes</a></li>
<li><a href="../fr461299/index.html">Comment le PC a conquis l'industrie des m√©dias avec des logiciels performants: discussion sur Pro Tools et Media Composer</a></li>
<li><a href="../fr461303/index.html">Utilisation de la carte Tro√Øka comme police d'assurance m√©dicale obligatoire</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>