<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ ๐ ๐ฎ 5 ุชูููุงุช ูุชูุฏูุฉ ูุงุฎุชุจุงุฑ ุงูุฐูุงุจ ๐ฆ ๐จ๐ผโ๐ป ๐จ๐พโ๐คโ๐จ๐ป</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชุญูุฉ ููุฌููุน! ูุชุจูู ุฃูู ูู ุฃุณุจูุน ูุจู ุจุฏุก ุฏูุฑุฉ "Golang Developer" ูููุงุตู ุชุจุงุฏู ุงูููุงุฏ ุงููููุฏุฉ ุญูู ุงูููุถูุน. ุฏุนูุง ูุฐูุจ! 



 ูุญุชูู Go ุนูู ููุชุจุฉ ูุถููุฉ ุฌูุฏุฉ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>5 ุชูููุงุช ูุชูุฏูุฉ ูุงุฎุชุจุงุฑ ุงูุฐูุงุจ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/452772/" style=";text-align:right;direction:rtl"> ุชุญูุฉ ููุฌููุน!  ูุชุจูู ุฃูู ูู ุฃุณุจูุน ูุจู ุจุฏุก ุฏูุฑุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"Golang Developer"</a> ูููุงุตู ุชุจุงุฏู ุงูููุงุฏ ุงููููุฏุฉ ุญูู ุงูููุถูุน.  ุฏุนูุง ูุฐูุจ! <br><br><img src="https://habrastorage.org/webt/mi/ly/nj/milynjiemmrcxgeldshfcz383pa.png"><br><br>  ูุญุชูู Go ุนูู ููุชุจุฉ ูุถููุฉ ุฌูุฏุฉ ูููุซููุฉ ููุงุฎุชุจุงุฑ.  ุฅุฐุง ูุชุจุช ุนูู Go ุ ูุฃูุช ุชุนูู ุฐูู ุจุงููุนู.  ูู ูุฐู ุงูููุงูุฉ ุ ุณูุชุญุฏุซ ุนู ุงูุนุฏูุฏ ูู ุงูุงุณุชุฑุงุชูุฌูุงุช ุงูุชู ูููู ุฃู ุชุญุณู ููุงุฑุงุชู ูู ุงูุงุฎุชุจุงุฑ ุจุงุณุชุฎุฏุงู Go.  ูู ุชุฌุฑุจุฉ ูุชุงุจุฉ ูุงุนุฏุฉ ุงูููุฏ ุงูุฑุงุฆุนุฉ ุนูู Go ุ ุชุนูููุง ุฃู ูุฐู ุงูุงุณุชุฑุงุชูุฌูุงุช ุชุนูู ุญููุง ูุจุงูุชุงูู ุชุณุงุนุฏ ูู ุชูููุฑ ุงูููุช ูุงูุฌูุฏ ูู ุงูุนูู ูุน ุงูููุฏ. <a name="habracut"></a><br><br>  <b>ุงุณุชุฎุฏุงู ุฃุฌูุญุฉ ุงูุงุฎุชุจุงุฑ</b> <br><br>  ุฅุฐุง ููุช ุชุชุนูู ุจููุณู ุดูุฆูุง ูููุฏูุง ูุงุญุฏูุง ููุท ูู ูุฐู ุงูููุงูุฉ ุ ููุฌุจ ุฃู ูููู ุงุณุชุฎุฏุงู ูุฌููุนุงุช ุงูุงุฎุชุจุงุฑ.  ุจุงููุณุจุฉ ูุฃููุฆู ุงูุฐูู ููุณูุง ุนูู ุฏุฑุงูุฉ ุจูุฐุง ุงูููููู ุ ูุฅู ุงูุงุฎุชุจุงุฑ ุจูุงุณุทุฉ ูุฌููุนุงุช ูู ุนูููุฉ ุชุทููุฑ ุงุฎุชุจุงุฑ ูุงุฎุชุจุงุฑ ูุงุฌูุฉ ูุดุชุฑูุฉ ูููู ุงุณุชุฎุฏุงููุง ูู ุงูุนุฏูุฏ ูู ุชุทุจููุงุช ูุฐู ุงููุงุฌูุฉ.  ููููู ุฃุฏูุงู ูุนุฑูุฉ ููููุฉ ุงุฌุชูุงุฒ ุงูุนุฏูุฏ ูู ุชุทุจููุงุช <code>Thinger</code> ุงููุฎุชููุฉ ูุชุดุบูููุง ุจููุณ ุงูุงุฎุชุจุงุฑุงุช. <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Thinger <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> { DoThing(input <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>) (Result, error) } <span class="hljs-comment"><span class="hljs-comment">// Suite tests all the functionality that Thingers should implement func Suite(t *testing.T, impl Thinger) { res, _ := impl.DoThing("thing") if res != expected { t.Fail("unexpected result") } } // TestOne tests the first implementation of Thinger func TestOne(t *testing.T) { one := one.NewOne() Suite(t, one) } // TestOne tests another implementation of Thinger func TestTwo(t *testing.T) { two := two.NewTwo() Suite(t, two) }</span></span></code> </pre><br>  ููุฏ ุนูู ุงููุฑุงุก ุงููุญุธูุธูู ุนูู ููุงุนุฏ ุงูููุฏ ุงูุชู ุชุณุชุฎุฏู ูุฐู ุงูุทุฑููุฉ.  ุบุงูุจูุง ูุง ูุชู ุงุณุชุฎุฏุงูู ูู ุงุฎุชุจุงุฑุงุช ุงูุฃูุธูุฉ ุงููุณุชูุฏุฉ ุฅูู ุงูููููุงุช ุงูุฅุถุงููุฉ ูุงูุชู ุชุชู ูุชุงุจุชูุง ูุงุฎุชุจุงุฑ ูุงุฌูุฉ ุ ูู ูุจู ุฌููุน ุชุทุจููุงุช ูุฐู ุงููุงุฌูุฉ ูููู ููููุฉ ุงุณุชููุงุฆูุง ููุชุทูุจุงุช ุงูุณููู. <br><br>  ูู ุงููุญุชูู ุฃู ูุณุงุนุฏ ุงุณุชุฎุฏุงู ูุฐุง ุงูููุฌ ูู ุชูููุฑ ุณุงุนุงุช ูุฃูุงู ูุญุชู ููุช ูุงู ูุญู ูุดููุฉ ุงููุณุงูุงุฉ ุจูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฆุชูู P ู NP</a> .  ุฃูุถูุง ุ ุนูุฏ ุงุณุชุจุฏุงู ูุธุงู ุฃุณุงุณู ูุน ูุธุงู ุขุฎุฑ ุ ุชุฎุชูู ุงูุญุงุฌุฉ ุฅูู ูุชุงุจุฉ (ุนุฏุฏ ูุจูุฑ) ูู ุงูุงุฎุชุจุงุฑุงุช ุงูุฅุถุงููุฉ ุ ูููุงู ุฃูุถูุง ุซูุฉ ูู ุฃู ูุฐุง ุงูููุฌ ูู ูุคุฏู ุฅูู ุชุนุทูู ุชุดุบูู ุงูุชุทุจูู ุงูุฎุงุต ุจู.  ุถูููุง ุ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ูุงุฌูุฉ ุชุญุฏุฏ ูุณุงุญุฉ ุงูููุทูุฉ ุงูุชู ุชู ุงุฎุชุจุงุฑูุง.  ุจุงุณุชุฎุฏุงู ุญูู ุงูุชุจุนูุฉ ุ ููููู ุชุฎุตูุต ูุฌููุนุฉ ูู ุงูุญุฒูุฉ ุงูุชู ูุชู ุชูุฑูุฑูุง ูู ุชูููุฐ ุงูุญุฒูุฉ ุจุฃููููุง. <br><br>  ููููู ุงูุนุซูุฑ ุนูู ูุซุงู ูุงูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> .  ุนูู ุงูุฑุบู ูู ุฃู ูุฐุง ุงููุซุงู ุจุนูุฏ ุงูููุงู ุ ูููู ูููุฑุก ุฃู ูุชุฎูู ุฃู ูุงุนุฏุฉ ุจูุงูุงุช ูุงุญุฏุฉ ุจุนูุฏุฉ ูุงูุขุฎุฑ ูู ุงูุฐุงูุฑุฉ. <br><br>  ููุฌุฏ ูุซุงู ุฑุงุฆุน ุขุฎุฑ ููุฐู ุงูุชูููุฉ ูู ุงูููุชุจุฉ ุงูููุงุณูุฉ ูู ุงูุญุฒูุฉ <code>golang.org/x/net/nettest</code> .  ูููุฑ ูุณููุฉ ููุชุญูู ูู ุฃู net.Conn ูุฑุถู ุงููุงุฌูุฉ. <br><br>  <b>ุชุฌูุจ ุชููุซ ุงููุงุฌูุฉ</b> <br><br>  ูุง ููููู ุงูุชุญุฏุซ ุนู ุงูุงุฎุชุจุงุฑ ูู Go ุ ูููู ูุง ุชุชุญุฏุซ ุนู ุงููุงุฌูุงุช. <br><br>  ุชุนุชุจุฑ ุงููุงุฌูุงุช ูููุฉ ูู ุณูุงู ุงูุงุฎุชุจุงุฑ ุ ูุฃููุง ุงูุฃุฏุงุฉ ุงูุฃููู ูู ุชุฑุณุงูุฉ ุงูุงุฎุชุจุงุฑ ูุฏููุง ุ ูุฐูู ุชุญุชุงุฌ ุฅูู ุงุณุชุฎุฏุงููุง ุจุดูู ุตุญูุญ. <br><br>  ุบุงูุจูุง ูุง ุชููู ุงูุญุฒู ุจุชุตุฏูุฑ ูุงุฌูุงุช ูููุทูุฑูู ุ ููุฐุง ูุคุฏู ุฅูู ุญูููุฉ: <br><br>  ุฃ) ุงููุทูุฑูู ุฎูู ููููุฉ ุงูุฎุงุตุฉ ุจูู ูุชูููุฐ ุงูุญุฒูุฉ ุ <br>  ุจ) ุงูุญุฒูุฉ ุชุตุฏูุฑ ููููุฉ ุงูุฎุงุตุฉ ุจูุง. <br><br><blockquote style=";text-align:right;direction:rtl">  <i>"ูููุง ูุจุฑุช ุงููุงุฌูุฉ ุ ุฃุถุนู ุงูุชุฌุฑูุฏ"</i> <i><br></i>  <i>- ุฑูุจ ุจุงูู ุ ุงููุงู ุงูุนูุฏุฉ</i> </blockquote><br>  ูุฌุจ ูุญุต ุงููุงุฌูุงุช ุจุนูุงูุฉ ูุจู ุงูุชุตุฏูุฑ.  ุบุงูุจูุง ูุง ูููู ูู ุงููุบุฑู ุชุตุฏูุฑ ุงููุงุฌูุงุช ูููุญ ุงููุณุชุฎุฏููู ุงููุฏุฑุฉ ุนูู ูุญุงูุงุฉ ุงูุณููู ุงูุฐู ูุญุชุงุฌููู.  ุจุฏูุงู ูู ุฐูู ุ ูู ุจุชูุซูู ุงููุงุฌูุงุช ุงูุชู ุชุชูุงุกู ูุน ุจููุงุชู ุญุชู ูุง ุชูุดุฆ ุนูุงูุฉ ูุซููุฉ ุจูู ุญุฒูุฉ ุงููุณุชููู ูุชูู ุงูุฎุงุตุฉ.  ูุซุงู ุฑุงุฆุน ุนูู ุฐูู ูู ุญุฒูุฉ <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฃุฎุทุงุก</a></i> . <br><br>  ุนูุฏูุง ูููู ูุฏููุง ูุงุฌูุฉ ูุง ูุฑูุฏ ุชุตุฏูุฑูุง ุ ูููููุง ุงุณุชุฎุฏุงู <i><a href="">ุงูุดุฌุฑุฉ ุงููุฑุนูุฉ ุงูุฏุงุฎููุฉ / ุงูุญุฒูุฉ</a></i> ูุญูุธูุง ุฏุงุฎู ุงูุญุฒูุฉ.  ูุจุงูุชุงูู ุ ูุง ูููููุง ุฃู ูุฎุงู ูู ุฃู ุงููุณุชุฎุฏู ุงูููุงุฆู ูุฏ ูุนุชูุฏ ุนููู ุ ูุจุงูุชุงูู ุ ูุฏ ูููู ูุฑููุง ูู ุชุบููุฑ ุงููุงุฌูุฉ ููููุง ูููุชุทูุจุงุช ุงูุฌุฏูุฏุฉ.  ุนุงุฏุฉ ูุง ูููู ุจุฅูุดุงุก ูุงุฌูุงุช ูุน ุงูุชุจุนูุงุช ุงูุฎุงุฑุฌูุฉ ูู ุฃุฌู ุฃู ุชููู ูุงุฏุฑุฉ ุนูู ุฅุฌุฑุงุก ุงูุงุฎุชุจุงุฑุงุช ูุญููุง. <br><br>  ูุณูุญ ูุฐุง ุงูููุฌ ูููุณุชุฎุฏู ุจุชูููุฐ ูุงุฌูุงุชู ุงูุตุบูุฑุฉ ุงูุฎุงุตุฉ ุจู ุจุจุณุงุทุฉ ุนู ุทุฑูู ูู ุฌุฒุก ูู ุงูููุชุจุฉ ููุงุฎุชุจุงุฑ.  ููุฒูุฏ ูู ุงููุนูููุงุช ุญูู ูุฐุง ุงูููููู ุ ุงูุฑุฃ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงูุฉ rakyl ุนู ุชููุซ ุงููุงุฌูุฉ</a> . <br><br>  <b>ูุง ุชูู ุจุชุตุฏูุฑ ุจุฏุงุฆู ุงูุชุฒุงูู</b> <br><br>  ุชูุฏู Go ุฃุฏูุงุช ุฃูููุฉ ุณููุฉ ุงูุงุณุชุฎุฏุงู ูููู ุฃู ุชุคุฏู ูู ุจุนุถ ุงูุฃุญูุงู ุฅูู ุงูุฅูุฑุงุท ูู ุงุณุชุฎุฏุงููุง ุจุณุจุจ ุงูุจุณุงุทุฉ ููุณูุง.  ุจุงุฏุฆ ุฐู ุจุฏุก ุ ูุญู ููููู ุจุดุฃู ุงููููุงุช ูุญุฒูุฉ ุงููุฒุงููุฉ.  ุฃุญูุงููุง ูููู ูู ุงููุบุฑู ุชุตุฏูุฑ ููุงุฉ ูู ุงูุญุฒูุฉ ุงูุฎุงุตุฉ ุจู ุญุชู ูุชููู ุงูุขุฎุฑูู ูู ุงุณุชุฎุฏุงููุง.  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ููุงู ุฎุทุฃ ุดุงุฆุน ูุชูุซู ูู ุชุถููู <code>sync.Mutex</code> ุฏูู <code>sync.Mutex</code> ุนูู ุฎุงุต.  ูุฐุง ุ ูุงูุนุงุฏุฉ ุ ููุณ ุณูุฆูุง ุฏุงุฆููุง ุ ููููู ูุฎูู ูุดุงูู ูุนููุฉ ุนูุฏ ุงุฎุชุจุงุฑ ุงูุจุฑูุงูุฌ. <br><br>  ุฅุฐุง ููุช ุจุชุตุฏูุฑ ุงููููุงุช ุ ูุฅูู ุชุฒูุฏ ูู ุชุนููุฏ ุญูุงุฉ ูุณุชุฎุฏู ุงูุญุฒูุฉ ุ ููู ุฃูุฑ ูุง ูุณุชุญู ุงูููุงู ุจู.  ุจูุฌุฑุฏ ุฃู ูุชู ุชุตุฏูุฑ ุงูููุงุฉ ูู ุงูุญุฒูุฉ ุ ูุฅูู ุชุฎูู ุตุนูุจุงุช ุนูุฏ ุงุฎุชุจุงุฑ ุงูุดุฎุต ุงูุฐู ูุณุชุฎุฏู ูุฐู ุงูููุงุฉ.  ูุงุฎุชุจุงุฑ ูุงุฌุญ ุ ูุฌุจ ุนูู ุงููุณุชุฎุฏู ูุนุฑูุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนูุฏูุง ุชูุชูู ุงูุจูุงูุงุช ูุชู ุฅุฑุณุงููุง ุนุจุฑ ุงูููุงุฉ. </li><li style=";text-align:right;direction:rtl">  ูุงู ููุงู ุฃู ุฃุฎุทุงุก ุนูุฏ ุชููู ุงูุจูุงูุงุช. </li><li style=";text-align:right;direction:rtl">  ููู ุชููู ุงูุญุฒูุฉ ุจูุณุญ ุงูููุงุฉ ุจุนุฏ ุงูุชูุงููุง ุ ุฅุฐุง ูุงู ุงูุชุฏูู ุนูู ุงูุฅุทูุงูุ </li><li style=";text-align:right;direction:rtl">  ููููุฉ ุงูุชูุงู ุญุฒูุฉ ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช (API) ููุญุฒูุฉ ุญุชู ูุง ุชุชุตู ุจูุง ูุจุงุดุฑุฉุ </li></ul><br>  ุฃููู ูุธุฑุฉ ุนูู ูุซุงู ูุงุฆูุฉ ุงูุชุธุงุฑ ุงููุฑุงุกุฉ.  ูููุง ููู ููุชุจุฉ ูููุฐุฌูุฉ ุชูุฑุฃ ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ ูุชููุฑ ูููุณุชุฎุฏู ููุฌุฒูุง โโูููุฑุงุกุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-keyword"><span class="hljs-keyword">type</span></span> Reader <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> {...} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(r *Reader)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ReadChan</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> &lt;-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">chan</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Msg</span></span></span></span> {...}</code> </pre> <br>  ุงูุขู ูุฑูุฏ ูุณุชุฎุฏู ููุชุจุชู ุชูููุฐ ุงุฎุชุจุงุฑ ูููุณุชููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TestConsumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(t testing.T)</span></span></span></span> { cons := &amp;Consumer{ r: libqueue.NewReader(), } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> msg := <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> cons.r.ReadChan() { <span class="hljs-comment"><span class="hljs-comment">// Test thing. } }</span></span></code> </pre> <br><br>  ูููู ูููุณุชุฎุฏู ุจุนุฏ ุฐูู ุฃู ููุฑุฑ ุฃู ุญูู ุงูุชุจุนูุฉ ููุฑุฉ ุฌูุฏุฉ ูุฃู ููุชุจ ุฑุณุงุฆูู ุงูุฎุงุตุฉ ูู ุงูููุงุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TestConsumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(t testing.T, q queueIface)</span></span></span></span> { cons := &amp;Consumer{ r: q, } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> msg := <span class="hljs-keyword"><span class="hljs-keyword">range</span></span> cons.r.ReadChan() { <span class="hljs-comment"><span class="hljs-comment">// Test thing. } }</span></span></code> </pre> <br><br>  ุงูุงูุชุธุงุฑ ุ ูุงุฐุง ุนู ุงูุฃุฎุทุงุกุ <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TestConsumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(t testing.T, q queueIface)</span></span></span></span> { cons := &amp;Consumer{ r: q, } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> msg := &lt;-cons.r.ReadChan(): <span class="hljs-comment"><span class="hljs-comment">// Test thing. case err := &lt;-cons.r.ErrChan(): // What caused this again? } } }</span></span></code> </pre> <br><br>  ูุญุชุงุฌ ุงูุขู ุฅูู ุฅูุดุงุก ุฃุญุฏุงุซ ุจุทุฑููุฉ ูุง ูู ุฃุฌู ุงููุชุงุจุฉ ูุนูููุง ุฅูู ูุฐุง ุงูุนูุตุฑ ุ ุงูุฐู ููุฑุฑ ุณููู ุงูููุชุจุฉ ุงูุชู ูุณุชุฎุฏููุง.  ุฅุฐุง ูุงูุช ุงูููุชุจุฉ ูุฏ ูุชุจุช ููุชู ูุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช ุงููุชุฒุงููุฉ ุ ููููููุง ุฅุถุงูุฉ ูู ุงูุชูุงุฒู ุฅูู ุฑูุฒ ุงูุนููู ุ ูุฐูู ูุตุจุญ ุงูุงุฎุชุจุงุฑ ุฃุณูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TestConsumer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(t testing.T, q queueIface)</span></span></span></span> { cons := &amp;Consumer{ r: q, } msg, err := cons.r.ReadMsg() <span class="hljs-comment"><span class="hljs-comment">// handle err, test thing }</span></span></code> </pre><br><br>  ุฅุฐุง ููุช ูู ุดู ุ ููุท ุชุฐูุฑ ุฃูู ูู ุงูุณูู ุฏุงุฆููุง ุฅุถุงูุฉ ุงูุชูุงุฒู ุฅูู ุญุฒูุฉ ุงููุณุชููู (ุงูุญุฒูุฉ ุงููุณุชูููุฉ) ุ ููู ุงูุตุนุจ ุฃู ุงููุณุชุญูู ุฅุฒุงูุชูุง ุจุนุฏ ุงูุชุตุฏูุฑ ูู ุงูููุชุจุฉ.  ูุงูุฃูู ูู ุฐูู ุ ูุง ุชูุณู ุฃู ุชูุชุจ ูู ูุซุงุฆู ุงูุญุฒูุฉ ูุง ุฅุฐุง ูุงูุช ุงูุจููุฉ / ุงูุญุฒูุฉ ุขููุฉ ูููุตูู ุงููุชุฒุงูู ุฅูู ุงูุนุฏูุฏ ูู goroutines. <br>  ูู ุจุนุถ ุงูุฃุญูุงู ูุง ูุฒุงู ูู ุงููุฑุบูุจ ููู ุฃู ุงูุถุฑูุฑู ุชุตุฏูุฑ ุงูููุงุฉ.  ููุชุฎููู ูู ุจุนุถ ุงููุดุงูู ุงููุฐููุฑุฉ ุฃุนูุงู ุ ููููู ุชูููุฑ ูููุงุช ูู ุฎูุงู accessors ุจุฏูุงู ูู ุงููุตูู ุงููุจุงุดุฑ ูุชุฑููุง ููุชูุญุฉ ููุท ูููุฑุงุกุฉ ( <code>โchan</code> ) ุฃู ููุท ูููุชุงุจุฉ ( <code>chanโ</code> ) ุนูุฏ ุงูุฅุนูุงู. <br><br>  <b>ุงุณุชุฎุฏู <code>net/http/httptest</code></b> <br><br>  ูุชูุญ <code>Httptest</code> <code>http.Handler</code> ุชูููุฐ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ <code>http.Handler</code> ุฏูู ุจุฏุก ุชุดุบูู ุฎุงุฏู ุฃู ุฑุจุท ูููุฐ.  ูุฐุง ูุณุฑุน ุงูุงุฎุชุจุงุฑ ููุณูุญ ูู ุจุฅุฌุฑุงุก ุงูุงุฎุชุจุงุฑุงุช ูู ููุช ูุงุญุฏ ุจุชูููุฉ ุฃูู. <br><br>  ูููุง ููู ูุซุงู ุนูู ุงูุงุฎุชุจุงุฑ ููุณู ุงูุฐู ุชู ุชูููุฐู ุจุทุฑููุชูู.  ูุง ููุฌุฏ ุดูุก ุนุฌูุจ ููุง ุ ูููู ูุฐุง ุงูููุฌ ูููู ูู ููุฏุงุฑ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ููููุฑ ุงูููุงุฑุฏ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="go hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TestServe</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(t *testing.T)</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">// The method to use if you want to practice typing s := &amp;http.Server{ Handler: http.HandlerFunc(ServeHTTP), } // Pick port automatically for parallel tests and to avoid conflicts l, err := net.Listen("tcp", ":0") if err != nil { t.Fatal(err) } defer l.Close() go s.Serve(l) res, err := http.Get("http://" + l.Addr().String() + "/?sloths=arecool") if err != nil { log.Fatal(err) } greeting, err := ioutil.ReadAll(res.Body) res.Body.Close() if err != nil { log.Fatal(err) } fmt.Println(string(greeting)) } func TestServeMemory(t *testing.T) { // Less verbose and more flexible way req := httptest.NewRequest("GET", "http://example.com/?sloths=arecool", nil) w := httptest.NewRecorder() ServeHTTP(w, req) greeting, err := ioutil.ReadAll(w.Body) if err != nil { log.Fatal(err) } fmt.Println(string(greeting)) }</span></span></code> </pre> <br>  ููุนู ุฃูู ููุฒุฉ ูู ุฃูู ูุน <code>httptest</code> ููููู ููุท ุชูุณูู ุงูุงุฎุชุจุงุฑ ุฅูู ุงููุธููุฉ ุงูุชู ุชุฑูุฏ ุงุฎุชุจุงุฑูุง.  ูุง ุชูุฌุฏ ุฃุฌูุฒุฉ ุชูุฌูู ุฃู ุจุฑุงูุฌ ูุณูุทุฉ ุฃู ุฃู ุขุซุงุฑ ุฌุงูุจูุฉ ุฃุฎุฑู ุชูุดุฃ ุนูุฏ ุฅุนุฏุงุฏ ุงูุฎูุงุฏู ุฃู ุงูุฎุฏูุงุช ุฃู ูุตุงูุน ุงููุนุงูุฌุงุช ุฃู ูุตุงูุน ุงููุนุงูุฌุงุช ุฃู ุฃู ุฃุดูุงุก ุฃุฎุฑู ุชุนุชูุฏ ุฃููุง ุณุชููู ููุฑุฉ ุฌูุฏุฉ. <br><br>  ูุฑุคูุฉ ูุฐุง ุงููุจุฏุฃ ูู ุงูุชุทุจูู ุ ุฑุงุฌุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุงูุฉ ูุงุฑู ุจูุฑุบุฑ</a> . <br><br>  <b>ุงุณุชุฎุฏุงู ุญุฒูุฉ ูููุตูุฉ <code>_test</code></b> <br><br>  ูุชู ุฅูุดุงุก ูุนุธู ุงูุงุฎุชุจุงุฑุงุช ูู ุงููุธุงู ุงูุจูุฆู ูู ูููุงุช <code>pkg_test.go</code> ุ ูููู ูุง ุชุฒุงู ูู ููุณ ุงูุญุฒูุฉ: <code>package pkg</code> .  ุญุฒูุฉ ุงุฎุชุจุงุฑ ูููุตูุฉ ูู ุงูุญุฒูุฉ ุงูุชู ุชูุดุฆูุง ูู ุงูููู ุงูุฌุฏูุฏ ุ <code>foo_test.go</code> ุ ูู ุฏููู ุงููุญุฏุฉ ุงูุชู ุชุฑูุฏ ุงุฎุชุจุงุฑูุง ุ <code>foo/</code> ุ ูุน <code>package foo_test</code> ุงูุชุตุฑูุญ <code>package foo_test</code> .  ูู ููุง ุ ููููู ุงุณุชูุฑุงุฏ <code>github.com/example/foo</code> ูุงูุชุจุนูุงุช ุงูุฃุฎุฑู.  ุชุชูุญ ูู ูุฐู ุงูููุฒุฉ ุงูููุงู ุจุฃุดูุงุก ูุซูุฑุฉ.  ูุฐุง ูู ุงูุญู ุงูููุตู ุจู ููุชุจุนูุงุช ุงูุฏูุฑูุฉ ูู ุงูุงุฎุชุจุงุฑุงุช ุ ุญูุซ ูููุน ุธููุฑ "ุงูุงุฎุชุจุงุฑุงุช ุงููุดุฉ" ููุณูุญ ูููุทูุฑ ุฃู ูุดุนุฑ ุจูุง ูุดุจู ุงุณุชุฎุฏุงู ุงูุญุฒูุฉ ุงูุฎุงุตุฉ ุจู.  ุฅุฐุง ูุงู ูู ุงูุตุนุจ ุงุณุชุฎุฏุงู ุงูุญุฒูุฉ ุงูุฎุงุตุฉ ุจู ุ ูุณูููู ุงูุงุฎุชุจุงุฑ ุจูุฐู ุงูุทุฑููุฉ ุฃูุถูุง ุตุนุจูุง. <br><br>  ุชููุน ูุฐู ุงูุงุณุชุฑุงุชูุฌูุฉ ุงูุงุฎุชุจุงุฑุงุช ุงููุดุฉ ูู ุฎูุงู ุชูููุฏ ุงููุตูู ุฅูู ุงููุชุบูุฑุงุช ุงูุฎุงุตุฉ.  ุนูู ูุฌู ุงูุฎุตูุต ุ ุฅุฐุง ุชุนุทูุช ุงุฎุชุจุงุฑุงุชู ูุงุณุชุฎุฏูุช ุญุฒู ุงุฎุชุจุงุฑ ูููุตูุฉ ุ ููู ุดุจู ุงููุคูุฏ ุฃู ุงูุนููู ุงูุฐู ูุณุชุฎุฏู ุฏุงูุฉ ุชูุทุนูุง ุงูุงุฎุชุจุงุฑุงุช ุณูู ูููุทุน ุนูุฏ ุงูุงุชุตุงู. <br><br>  ุฃุฎูุฑูุง ุ ูุณุงุนุฏ ุนูู ุชุฌูุจ ุฏูุฑุงุช ุงูุงุณุชูุฑุงุฏ ูู ุงูุงุฎุชุจุงุฑุงุช.  ุบุงูุจูุง ูุง ุชุนุชูุฏ ูุนุธู ุงูุญุฒู ุนูู ุงูุญุฒู ุงูุฃุฎุฑู ุงูุชู ูุชุจุชูุง ุฅูู ุฌุงูุจ ุงูุญุฒู ุงูุงุฎุชุจุงุฑูุฉ ุ ูุฐูู ุณุชูุชูู ุจูููู ุชุญุฏุซ ููู ุฏูุฑุฉ ุงูุงุณุชูุฑุงุฏ ุจุดูู ุทุจูุนู.  ุชูุฌุฏ ุญุฒูุฉ ุฎุงุฑุฌูุฉ ุฃุนูู ุงูุญุฒูุชูู ูู ุงูุชุณูุณู ุงููุฑูู ููุญุฒูุฉ.  ุฎุฐ ูุซุงูุงู ูู ูุบุฉ ุจุฑูุฌุฉ Go (ุงููุตู 11 ุ ุงููุณู 2.4) ุ ุญูุซ ูููู <code>net/url</code> ุจุชูููุฐ ูุญูู ุนูุงููู URL ุงูุฐู ูุณุชูุฑุฏู <code>net/http</code> ููุงุณุชุฎุฏุงู.  ููุน ุฐูู ุ ูุฌุจ ุงุฎุชุจุงุฑ <code>net / url</code> ูุน ุญุงูุฉ ุงุณุชุฎุฏุงู ุญููููุฉ ุนู ุทุฑูู ุงุณุชูุฑุงุฏ <code>net / http</code> .  ูุจุงูุชุงูู <code>net/url_test</code> . <br><br>  ุงูุขู ุ ุนูุฏ ุงุณุชุฎุฏุงู ุญุฒูุฉ ุงุฎุชุจุงุฑ ูููุตูุฉ ุ ูุฏ ุชุญุชุงุฌ ุฅูู ุงููุตูู ุฅูู ููุงูุงุช ุบูุฑ ูุณุชูุฑุฏุฉ ูู ุงูุญุฒูุฉ ุญูุซ ูุงูุช ูุชููุฑุฉ ูุณุจููุง.  ููุงุฌู ุจุนุถ ุงููุทูุฑูู ูุฐุง ูุฃูู ูุฑุฉ ุนูุฏ ุงุฎุชุจุงุฑ ุดูุก ุจูุงุกู ุนูู ุงูููุช (ุนูู ุณุจูู ุงููุซุงู ุ time.Now ูุตุจุญ ูุนุจ ุฑูุชูู ุจุงุณุชุฎุฏุงู ุฏุงูุฉ).  ูู ูุฐู ุงูุญุงูุฉ ุ ูููููุง ุงุณุชุฎุฏุงู ููู ุฅุถุงูู ูุชูููุฑ ููุงูุงุช ุจุดูู ุฎุงุต ุฃุซูุงุก ุงูุงุฎุชุจุงุฑ ุ ุญูุซ <code>_test.go</code> ุงุณุชุจุนุงุฏ ูููุงุช <code>_test.go</code> ุนูููุงุช <code>_test.go</code> ุงูุนุงุฏูุฉ. <br><br>  <b>ูุงุฐุง ุชุญุชุงุฌ ุฃู ุชุชุฐูุฑุ</b> <br><br>  ูู ุงูููู ุฃู ุชุชุฐูุฑ ุฃู ุฃููุง ูู ุงูุทุฑู ุงูููุถุญุฉ ุฃุนูุงู ููุณุช ุญูุงู ุณุญุฑููุง.  ุฃูุถู ุทุฑููุฉ ูู ุฃู ุนูู ูู ุชุญููู ุงููููู ุจุดูู ููุฏู ูุงุฎุชูุงุฑ ุฃูุถู ุญู ูููุดููุฉ ุจุดูู ูุณุชูู. <br><br>  ูู ุชุฑูุฏ ูุนุฑูุฉ ุงููุฒูุฏ ุญูู ุงูุงุฎุชุจุงุฑ ุจุงุณุชุฎุฏุงู Goุ <br>  ุงูุฑุฃ ูุฐู ุงูููุงูุงุช: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฏูู ุชุดููู ุฌุฏูู ุงููุชุงุจุฉ ูุฏููุนุฉ ุงูุงุฎุชุจุงุฑุงุช ูู ุงูุฐูุงุจ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตู ูุบุฉ ุจุฑูุฌุฉ ุงูุฐูุงุจ ูู ุงูุงุฎุชุจุงุฑ.</a> <br>  ุฃู ุดุงูุฏ ููุงุทุน ุงูููุฏูู ูุฐู: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุญุฏูุซ ูุงุดูููุชู ุงููุชูุฏู ูุน Go ูุชุญุฏุซ ูู Gophercon 2017</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุญุฏูุซ ุนู ุชูููุงุช ุงุฎุชุจุงุฑ ุฃูุฏุฑู ุฌูุฑุงูุฏ ูู 2014</a> <br><br>  ูุฃูู ุฃู ุชููู ูุฐู ุงูุชุฑุฌูุฉ ูููุฏุฉ ูู.  ูุญู ูู ุงูุชุธุงุฑ ุงูุชุนูููุงุช ุ ููู ูู ูุฑูุฏ ูุนุฑูุฉ ุงููุฒูุฏ ุนู ุงูุฏูุฑุฉ ุ ูุฏุนูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุชุญ ููู</a> ุ ูุงูุฐู ุณูุนูุฏ ูู 23 ูุงูู. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar452772/">https://habr.com/ru/post/ar452772/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar452760/index.html">ููุชุงููู (ุฏ) ููุดุฑุจ ุฃู ูุง ููุดุฑุจ ุ ูุฐุง ูู ุงูุณุคุงู. (ุฃู ูุตุฉ ุนู ููููุฉ ูุฑุฑุช ุจุชุญููู ูู ูุดุฑุน ูู)</a></li>
<li><a href="../ar452762/index.html">MVCC-7. ุชูุธูู ุงูุณูุงุฑุงุช</a></li>
<li><a href="../ar452764/index.html">[ุจูุชุฑ] ููุงุก JUG.ru ูุน ุณูุฑุฌู ููููููู - ุงูุชูููุท ุจุณุฑุนุฉ ูุงุฆูุฉ: ุงููุธุฑูุฉ ูุงูุชุทุจูู</a></li>
<li><a href="../ar452766/index.html">ุชูููุฉ ุงูุจุซ ุงูุชุฏุฑูุฌู ุ ุฃู ููููุฉ ูุดุงูุฏุฉ ููุฏูู ุจุฏูุฉ 4k ุนุจุฑ ุงูุดุจูุฉ ุ ุฏูู ุฃูุงุฑูุฒ</a></li>
<li><a href="../ar452768/index.html">ููููุฉ ุชุตููู ุงูููุชุฌ ุฅุฐุง ูุฑุฑุช ุงูุฏุฎูู ุฅูู ุงูุณูู ุงูุฃุฌูุจู</a></li>
<li><a href="../ar452774/index.html">Dell XPS 13 9380: ููุจููุชุฑ ูุญููู ููุซูู ุจู ูุตุบูุฑ ุงูุญุฌู ููุบุงูุฉ ูู ุฃุฌู ุงูุนูู ุงูุฌุงุฏ</a></li>
<li><a href="../ar452776/index.html">N.M.D. (ููุณ ูู ุฃุนูุงูู)</a></li>
<li><a href="../ar452778/index.html">ููููุฉ ุชุณุฑูุน ุนูููุฉ ุชูุฑูุบ LZ4 ูู ClickHouse</a></li>
<li><a href="../ar452780/index.html">Mobius 2019 Piter: ุงูุจุซ ุงููุจุงุดุฑ ุงููุจุงุดุฑ ููู ุดูุก ุขุฎุฑ</a></li>
<li><a href="../ar452788/index.html">ุงูููุงุญ ูู ุฃุฌู ุงูุฌูุฏุฉ ูู ุชุทุจููุงุช ุงูููุจ ูุงูุงูุชุฆุงุจ ูุงูุชููู ูููุณุชุฑูุณ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>