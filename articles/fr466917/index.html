<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÜüèæ üß† ‚ô†Ô∏è Lorsque la norme HTTP ne suffit pas. Micronaut s'engage üåÑ üìç üïµüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour √† tous, mon nom est Dmitry, et aujourd'hui je vais parler de la fa√ßon dont le besoin de production m'a fait devenir un contributeur pour le fr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lorsque la norme HTTP ne suffit pas. Micronaut s'engage</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/466917/">  Bonjour √† tous, mon nom est Dmitry, et aujourd'hui je vais parler de la fa√ßon dont le besoin de production m'a fait devenir un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">contributeur</a> pour le framework Micronaut.  Beaucoup ont s√ªrement entendu parler de lui.  En bref, il s'agit d'une alternative l√©g√®re √† Spring Boot, o√π l'accent n'est pas mis sur la r√©flexion, mais sur la compilation pr√©liminaire de toutes les d√©pendances n√©cessaires.  Une connaissance plus d√©taill√©e peut commencer par la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">documentation</a> officielle. <br><br>  Le framework Micronaut est utilis√© dans plusieurs projets internes Yandex et s'est assez bien √©tabli.  Alors qu'est-ce qui nous manquait?  Je peux dire tout de suite: pr√™t √† l'emploi, le framework prend en charge, en principe, toutes les fonctionnalit√©s dont un programmeur pourrait th√©oriquement avoir besoin pour d√©velopper des backends.  Cependant, il existe de rares cas qui ne sont pas pris en charge hors de la bo√Æte.  L'un d'eux est lorsque vous devez travailler non pas sur HTTP, mais avec l'extension HTTP.  Par exemple, avec des m√©thodes suppl√©mentaires.  En fait, de tels cas sont bien plus qu'il n'y para√Æt.  De plus, certains de ces protocoles sont des standards: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Webdav</a> est une extension pour acc√©der aux ressources.  En plus des m√©thodes standard, HTTP n√©cessite la prise en charge de m√©thodes suppl√©mentaires telles que LOCK, PROPPATCH, etc. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Caldav</a> est une extension Webdav pour travailler avec des √©v√©nements de type calendrier.  Ce protocole √† forte probabilit√© se trouve dans les applications de votre smartphone: pour synchroniser calendriers, rendez-vous, etc. </li></ul><br>  Et la liste ne se limite pas √† cela.  Si vous regardez le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://www.iana.org/assignments/http-methods/">registre des m√©thodes HTTP</a> , vous verrez que les m√©thodes HTTP uniquement d√©crites par les normes RFC sont actuellement 39. Et combien de cas il existe un protocole auto-√©crit sur HTTP.  La prise en charge des m√©thodes HTTP non standard est donc assez courante.  Il arrive √©galement souvent que le cadre que vous utilisez ne prenne pas en charge ces m√©thodes.  Voici une discussion sur Stack Overflow for <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://stackoverflow.com/questions/9318837/serving-non-standard-">ExpressJS</a> .  Et voici la demande de tirage sur le github pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tornado</a> .  Eh bien, puisque Micronaut est souvent positionn√© comme une alternative l√©g√®re au Spring - c'est le m√™me probl√®me pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Spring</a> . <br><a name="habracut"></a><br>  Il n'est pas surprenant que lorsque dans l'un des projets nous avions besoin d'un support pour un protocole qui √©tend HTTP en termes de m√©thodes, nous avons √©t√© confront√©s au m√™me probl√®me pour Micronaut que nous utilisons depuis longtemps pour ce projet.  Il s'est av√©r√© qu'il est assez difficile d'amener Micronaut √† traiter des m√©thodes non standard. <br><br>  Pourquoi?  Parce que si vous regardez la d√©finition des m√©thodes HTTP dans Micronaut pour le moment, vous <a href="https://github.com/micronaut-projects/micronaut-core/blob/afc3fb377fea37f942c1a251be19b58f9f989b22/http/src/main/java/io/micronaut/">constaterez</a> qu'elles sont d√©finies en utilisant Enum, et non une classe, comme cela se fait, par exemple, dans Netty (je ne mentionne pas accidentellement Netty, plus tard elle appara√Ætra plusieurs fois).  Pour aggraver les choses, toutes les correspondances d'appels de serveur sont effectu√©es par filtrage par √©num√©ration et non par le nom de cha√Æne de la m√©thode.  Cela signifie que si vous avez besoin d'une m√©thode HTTP non standard, vous devez l'√©crire dans Enum, et ce n'est pas vraiment une bonne solution au probl√®me.  Tout d'abord, il faudra un commit dans le r√©f√©rentiel chaque fois que vous aurez besoin d'une nouvelle m√©thode.  Deuxi√®mement, les m√©thodes HTTP ne sont pas standardis√©es par d√©faut et leur liste n'est fixe nulle part, il est donc irr√©aliste de pr√©voir toutes les situations possibles.  Il est n√©cessaire de forcer Micronaut √† traiter en quelque sorte des m√©thodes qui n'avaient pas √©t√© pr√©c√©demment fournies par les d√©veloppeurs. <br><br><h2>  Solution 1: front </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/fbd/ed3/332/fbded3332cedae25f99a6537147674b2.jpg" alt="image"><br><br>  La premi√®re et la plus √©vidente solution √©tait de ne pas toucher du tout au Micronaut et de ne rien y r√©√©crire.  Pourquoi, parce que vous pouvez mettre nronx devant Micronaut, comme nous l'avons fait, √† partir d'un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">exemple</a> : <br><br><pre><code class="nginx hljs"><span class="hljs-section"><span class="hljs-section">http</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">upstream</span></span> other_PROPPATCH { <span class="hljs-attribute"><span class="hljs-attribute">server</span></span> ...; } <span class="hljs-attribute"><span class="hljs-attribute">upstream</span></span> other_REPORT { <span class="hljs-attribute"><span class="hljs-attribute">server</span></span> ...; } <span class="hljs-section"><span class="hljs-section">server</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> /service { <span class="hljs-attribute"><span class="hljs-attribute">proxy_method</span></span> POST; <span class="hljs-attribute"><span class="hljs-attribute">proxy_pass</span></span> http://other_<span class="hljs-variable"><span class="hljs-variable">$request_method</span></span>; } } }</code> </pre> <br>  √Ä quoi √ßa sert?  Nous pouvons forcer nginx pour les m√©thodes non standard √† acc√©der au proxy dont nous avons besoin, tout en utilisant la capacit√© de nginx √† changer la m√©thode: c'est-√†-dire que nous acc√©derons via la m√©thode POST, et Micronaut peut le g√©rer. <br><br>  Qu'est-ce qui est mauvais?  Pour commencer, nous rendons toutes les demandes du point de vue du Micronaut non idempotentes.  N'oubliez pas que pour les m√©thodes non standard, il existe √©galement une telle s√©paration.  Par exemple, REPORT est idempotent, alors que PROPPATCH ne l'est pas.  Par cons√©quent, le framework ne conna√Æt pas le type de demande et le programmeur qui examine le code de ces gestionnaires ne pourra pas non plus le d√©terminer.  Mais ce n'est m√™me pas le cas.  Nous avons d√©j√† un ensemble de tests qui v√©rifient automatiquement la conformit√© de l'application avec le protocole souhait√©.  Pour que ces tests fonctionnent avec une telle solution dans un projet, vous devez choisir l'une des deux options: <br><br><ul><li>  Augmentez l'image nginx avec les param√®tres n√©cessaires, en plus de l'application elle-m√™me, afin que les tests acc√®dent √† nginx, et non √† Micronaut lui-m√™me.  Bien que l'infrastructure Yandex vous permette certainement d'augmenter des composants suppl√©mentaires, dans ce cas, il semble que la suring√©nierie soit purement pour les tests. </li><li>  R√©√©crivez les tests afin qu'ils ne testent pas le protocole souhait√©, mais se r√©f√®rent aux chemins vers lesquels nginx redirige.  Autrement dit, nous testons non pas le protocole, mais les tripes de sa mise en ≈ìuvre sp√©cifique de b√©quille. </li></ul><br>  Les deux options ne sont pas tr√®s belles, donc l'id√©e est venue: pourquoi ne pas fixer Micronaut dans le bon but, d'autant plus qu'une telle modification sera utile non seulement pour nous.  Autrement dit, je voulais quelque chose comme √ßa: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@CustomMethod</span></span>(<span class="hljs-string"><span class="hljs-string">"PROPFIND"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">process</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( // Provide here HttpRequest or something </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">else</span></span></span></span><span class="hljs-function"><span class="hljs-params">, as standard micronaut methods )</span></span></span><span class="hljs-function"> </span></span>{ }</code> </pre><br>  Et j'ai joyeusement repris cette t√¢che, mais que s'est-il finalement pass√©? <br><br><h2>  Deuxi√®me solution: r√©√©crivons tout! </h2><br><img src="https://habrastorage.org/webt/-y/ma/r1/-ymar1qtuw8owyqjsplgpywlvrs.jpeg"><br><br>  En fait, c'est beaucoup plus facile qu'il n'y para√Æt √† premi√®re vue.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">La validation</a> change simplement HttpMethod d'√©num√©ration en classe.  Ensuite, nous avons cr√©√© des m√©thodes statiques (principalement valueOf) √† l'int√©rieur de la classe qui ont √©t√© appel√©es pour enum.  Et IDEA coupl√© √† Gradle s'est assur√© que rien ne se cassait. <br><br>  La chose la plus difficile ici √©tait avec DefaultUriRouter, car il supposait que l'ensemble √©tait fixe et cr√©ait un tableau de listes de chemins pour les m√©thodes possibles.  Cela a d√ª √™tre abandonn√© pour une nouvelle mise en ≈ìuvre.  Mais en g√©n√©ral, tout s'est av√©r√© assez simple.  Notez que vous avez d√ª ajouter 240 lignes et en supprimer 116. <br><br>  Le probl√®me est qu'il s'agit d'un changement majeur.  Oui, dans la pratique, dans un projet r√©gulier utilisant Micronaut, vous - tr√®s probablement - n'utilisez pas HttpMethod directement dans le code, et si vous l'utilisez, il est peu probable que vous y utilisiez la m√©thode ordinale et d'autres m√©thodes d'√©num√©ration sp√©cifiques.  Cependant, cela ne permet toujours pas un tel changement dans la version 1.x, d'autant plus que tout cela a √©t√© d√©marr√© afin de prendre en charge un cas assez rare.  Mais pour 2.x, c'est un montage normal, mais vous devez toujours vivre jusqu'√† 2.x.  Par cons√©quent, j'ai d√ª √©crire plus de code ... <br><br><h2>  Troisi√®me solution: agir de mani√®re √©volutive </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/658/725/876/658725876c4497d4c0e3963c33acf1e2.jpg" alt="image"><br><br>  En fait, vous pouvez voir la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">demande d'extraction</a> correspondante pour la version 1.3.  Comme vous pouvez le voir, j'ai d√ª √©crire environ cinq fois plus de code que pour un changement majeur, et ce n'est pas un hasard.  Ici, je veux faire l'√©loge des m√©thodes par d√©faut dans les interfaces introduites dans le huiti√®me Java.  Pour un tel refactoring qui ne rompt pas la compatibilit√© descendante, cette chose est irrempla√ßable, et je ne peux pas imaginer comment je ferais ces modifications pour Java jusqu'√† la huiti√®me version (bien que, curieusement, un changement majeur pourrait bien √™tre effectu√© avant le huiti√®me). <br><br>  Les modifications de base √©taient bas√©es sur le fait que l'interface HttpRequest avait une m√©thode getMethod, qui √©tait utilis√©e pour le filtrage.  Il est revenu, comme vous pouvez le deviner, enum.  Par cons√©quent, la m√©thode par d√©faut getHttpMethodName a √©t√© ajout√©e √† l'interface, qui renvoie par d√©faut le nom de la valeur d'√©num√©ration.  Ensuite, ils ont trouv√© o√π la m√©thode d'origine √©tait utilis√©e dans la correspondance des chemins, et l√†, elle a √©t√© remplac√©e par des appels √† la nouvelle m√©thode.  Et puis, dans les impl√©mentations de l'interface pour le serveur Netty, la m√©thode d'interface a √©t√© red√©finie pour utiliser la valeur r√©elle de la m√©thode HTTP. <br><br>  Il contenait un √©cueil visible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">dans la discussion</a> , et il concernait les clients d√©claratifs de Micronaut.  Ils utilisent la conversion du nom de la valeur enum en une instance de la classe HttpMethod pour Netty.  Si vous consultez la documentation de la m√©thode <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://netty.io/4.0/api/io/netty/handler/codec/">valueOf</a> dans cette classe, vous remarquerez que la valeur mise en cache sera renvoy√©e pour les m√©thodes standard et pour les m√©thodes non standard, une nouvelle instance de la classe sera retourn√©e √† chaque fois.  Autrement dit, si vous avez une charge √©lev√©e et que vous vous tournez vers le serveur avec une m√©thode HTTP non standard un million de fois, vous cr√©erez simultan√©ment un million de nouveaux objets.  Bien s√ªr, les GC modernes devraient faire face √† cela, mais je ne veux toujours pas cr√©er des objets suppl√©mentaires comme √ßa.  Ensuite, l'id√©e est venue d'utiliser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ConcurrentHashMap.computeIfAbsent</a> pour la mise en cache, mais ici ce n'est pas si simple non plus: le probl√®me est dans le d√©faut de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Java 8</a> , ce qui entra√Ænera le blocage des flux m√™me pour le cas o√π aucun enregistrement n'est effectu√©.  En cons√©quence, nous avons pris une d√©cision provisoire: <br><br><ul><li>  Pour les m√©thodes standard, nous utilisons la mise en cache d'instance, que Netty fournit (en fait, comme avant). </li><li>  Pour les m√©thodes non standard, laissez de nouvelles instances √™tre cr√©√©es.  Ceux qui choisissent des m√©thodes non standard doivent s'assurer que le ramasse-miettes peut dig√©rer la cr√©ation d'objets (nous, par exemple, utilisons Shenandoah). </li></ul><br><h2>  Conclusions </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/e9e/e86/571/e9ee86571753ccdd88500c28f701fc10.jpg" alt="image"><br><br>  Que peut-on dire finalement? <br><br><ul><li>  La courbe de co√ªt de correction d'erreur bien connue √† diff√©rents stades de d√©veloppement logiciel s'est manifest√©e ici tr√®s clairement.  Plus pr√©cis√©ment, nous parlons d'une erreur de calcul au tout d√©but du d√©veloppement de Micronaut, lorsqu'il a √©t√© d√©cid√© d'utiliser enum pour les m√©thodes HTTP.  Il est difficile de dire comment cette d√©cision est justifi√©e, √©tant donn√© que Micronaut tourne sur Netty, o√π la classe est utilis√©e pour la m√™me chose.  Essentiellement, le maintien d'une classe au lieu d'enum ne vaudrait pas la peine de faire le travail suppl√©mentaire.  C'est pourquoi il s'est av√©r√© plus facile d'apporter un changement majeur √† ce plan que de le corriger avec le support de la compatibilit√© descendante. </li><li>  Le talon d'Achille bien connu des projets open source (cependant, cela peut √©galement √™tre observ√© dans les projets industriels avec code ferm√©) - ils n'ont pas de documentation de projet.  Dans le m√™me temps, Micronaut dispose en effet d'une tr√®s bonne documentation: quelles sont les options pour son utilisation, etc.  Cependant, nous parlons ici de documenter comment les d√©cisions de conception ont √©t√© prises.  Par cons√©quent, il est assez difficile pour le programmeur de l'ext√©rieur de s'impliquer dans le d√©veloppement du projet, m√™me si une l√©g√®re am√©lioration est n√©cessaire. </li><li>  N'oubliez pas de tenir compte du fait que l'un ou l'autre projet open source est utilis√© dans des environnements multi-threads et √† haute charge.  Ici, il fallait en tenir compte m√™me pour une petite am√©lioration. </li></ul><br><h2>  PS </h2><br>  Pendant la pr√©paration de cet article en vue de sa publication, la demande d'extraction a √©t√© accept√©e dans la branche de l'assistant Micronaut et sera publi√©e dans la version 1.3. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr466917/">https://habr.com/ru/post/fr466917/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr466903/index.html">Pr√©sentez toujours votre travail</a></li>
<li><a href="../fr466905/index.html">√Ä la question de U-Boot</a></li>
<li><a href="../fr466907/index.html">5G et WiFi 6: quand deux technologies r√©seau valent mieux qu'une</a></li>
<li><a href="../fr466911/index.html">Un tribunal am√©ricain a l√©galis√© le grattage d'un site Web et lui a interdit de faire obstacle techniquement</a></li>
<li><a href="../fr466915/index.html">Comment rendre SFINAE √©l√©gant et fiable</a></li>
<li><a href="../fr466921/index.html">5 probl√®mes de toute entreprise de services et leur solution en utilisant la plate-forme d'automatisation</a></li>
<li><a href="../fr466923/index.html">Comment les professionnels de l'informatique dans une banque √©trang√®re pour prouver l'origine des fonds</a></li>
<li><a href="../fr466925/index.html">Comment ex√©cuter Hi-CPU VDS pour Bitrix, disperser les perroquets et ne pas faire faillite</a></li>
<li><a href="../fr466929/index.html">Ajouter un jeton d'actualisation</a></li>
<li><a href="../fr466931/index.html">Optimisation des performances pour les applications .NET (C #)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>