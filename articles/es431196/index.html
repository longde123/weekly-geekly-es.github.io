<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•ä ü§≥üèΩ ‚úñÔ∏è C√≥mo Yandex.Taxi predice el tiempo de entrega del autom√≥vil utilizando el aprendizaje autom√°tico üë®üèΩ‚Äçü§ù‚Äçüë®üèº üë©üèø‚Äçüåæ üë®üèæ‚Äçüíº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Imagina que necesitas llamar a un taxi. Abre la aplicaci√≥n, ve que el auto llegar√° en unos siete minutos, haz clic en "Ordenar" - y ... el auto est√° a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo Yandex.Taxi predice el tiempo de entrega del autom√≥vil utilizando el aprendizaje autom√°tico</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/431196/">  Imagina que necesitas llamar a un taxi.  Abre la aplicaci√≥n, ve que el auto llegar√° en unos siete minutos, haz clic en "Ordenar" - y ... el auto est√° a 15 minutos de ti, en todo caso.  De acuerdo, desagradable? <br><br>  Debajo del corte, hablaremos sobre c√≥mo los m√©todos de aprendizaje autom√°tico ayudan a Yandex.Taxi a predecir mejor ETA (Hora estimada de llegada - hora prevista de llegada). <br><br><img src="https://habrastorage.org/webt/bf/5e/aq/bf5eaq56xusobc6hswfokurhe0u.png"><br><a name="habracut"></a><br>  Primero, recuerde que el usuario ve en la aplicaci√≥n antes de ordenar: <br><br><img width="300" src="https://habrastorage.org/webt/xk/qf/cg/xkqfcgfun58vtoyhun-ldoq-wra.png"><br><br>  En el mapa, el azul indica los puntos √≥ptimos para abordar un taxi.  Pin rojo: el punto al que el usuario llama un taxi.  El pin muestra cu√°nto tiempo llegar√° el autom√≥vil.  En un mundo perfecto  Pero en el mundo real, otras personas cercanas tambi√©n se autodenominan a trav√©s de la aplicaci√≥n Yandex.Taxi.  Y no sabemos qu√© autom√≥vil ir√° a qui√©n, porque se distribuyen solo despu√©s de realizar el pedido.  Si el autom√≥vil ya ha sido asignado, para el pron√≥stico usaremos la ruta y el tiempo de Yandex.Maps cuando avancemos por el camino √≥ptimo.  Esta vez (posiblemente con un peque√±o margen) mostraremos al usuario inmediatamente despu√©s de realizar el pedido.  La pregunta sigue siendo: ¬øc√≥mo se puede predecir ETA antes de ordenar? <br><br>  Y aqu√≠ aparece el aprendizaje autom√°tico.  Hacemos una selecci√≥n con objetos y las respuestas correctas y ense√±amos al algoritmo a adivinar la respuesta de acuerdo con las caracter√≠sticas del objeto.  En nuestro caso, los objetos son sesiones de usuario, las respuestas son el tiempo despu√©s del cual el autom√≥vil lleg√≥ realmente.  Los signos del objeto pueden ser par√°metros num√©ricos conocidos antes del pedido: el n√∫mero de conductores y usuarios de la aplicaci√≥n junto al pin, la distancia a los veh√≠culos de servicio m√°s cercanos y otros valores potencialmente √∫tiles. <br><br><h2>  ¬øPor qu√© es esto importante? </h2><br><br>  En un mundo ideal, las personas hacen todo por adelantado y siempre planifican su tiempo con precisi√≥n.  Pero vivimos en el mundo real.  Si una persona llega tarde al trabajo o, lo que es peor, al aeropuerto, es importante que comprenda si llegar√° a tiempo para partir y llegar a su destino. <br>  Al decidir qu√© ordenar, el futuro pasajero se gu√≠a, entre otras cosas, por el tiempo de espera.  Puede ser muy diferente en diferentes aplicaciones para llamar a un taxi, y en diferentes tarifas de una aplicaci√≥n.  Para que el usuario no se arrepienta de la elecci√≥n, es muy importante mostrar la ETA exacta. <br><br>  Todo parece ser simple.  Presente m√°s se√±ales, entrene a un modelo, como CatBoost, pronostique el tiempo antes de la llegada del autom√≥vil, y puede terminar all√≠.  Pero la experiencia muestra que es mejor no apresurarse y pensar con cuidado, y luego hacerlo. <br><br>  Al principio, no ten√≠amos dudas de que era necesario predecir el tiempo a trav√©s del cual el conductor llegar√≠a al usuario.  S√≠, no sabemos con certeza qu√© autom√≥vil se asignar√° antes del pedido.  Pero podemos predecir la ETA utilizando datos no sobre un controlador espec√≠fico, sino sobre los controladores cercanos al pedido.  Por supuesto, el pron√≥stico debe ser lo suficientemente honesto para que el usuario pueda planificar el tiempo. <br><br>  Pero, ¬øqu√© significa "honesto"?  Despu√©s de todo, cualquier algoritmo de pron√≥stico es malo o solo estad√≠sticamente bueno.  Hay resultados exitosos y francamente malos, pero debe "promediar" para no desviarse significativamente de las respuestas correctas.  Debe entenderse que "en promedio" es diferente.  Por ejemplo, el promedio es de al menos tres conceptos de estad√≠stica: expectativa, mediana y moda.  La imagen del magn√≠fico libro de Darrell Huff "C√≥mo mentir usando estad√≠sticas" muestra perfectamente la diferencia: <br><br><img width="600" src="https://habrastorage.org/webt/lu/i4/ia/lui4iawdwfbczidpq-rcivxyrr4.png"><br><br>  Queremos que el modelo en promedio cometa pocos errores.  Dependiendo del valor de "promedio", hay dos opciones para evaluar la calidad de los pron√≥sticos.  La primera opci√≥n es mostrar al usuario la expectativa matem√°tica del tiempo antes de que llegue el taxi.  Como resultado, se capacitar√° un modelo que minimiza el cuadrado medio del error de pron√≥stico (Error Cuadr√°tico Medio, MSE): <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3">S</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">E</span><span class="MJXp-mo" id="MJXp-Span-5" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-6">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">c</span><span class="MJXp-mrow" id="MJXp-Span-11"><span class="MJXp-mn" id="MJXp-Span-12">1</span></span><span class="MJXp-mrow" id="MJXp-Span-13"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">n</span></span><span class="MJXp-mtext" id="MJXp-Span-15">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">u</span><span class="MJXp-msubsup" id="MJXp-Span-18"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-24"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">n</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-20"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">i</span><span class="MJXp-mo" id="MJXp-Span-22">=</span><span class="MJXp-mn" id="MJXp-Span-23">1</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-26" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-27"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-29" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-30" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-31">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">t</span><span class="MJXp-msubsup" id="MJXp-Span-35"><span class="MJXp-mrow" id="MJXp-Span-36" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">y</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-38" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-msubsup" id="MJXp-Span-39"><span class="MJXp-mo" id="MJXp-Span-40" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-41" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-42">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">n</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> MSE = \ frac {1} {n} \ sum_ {i = 1} ^ {n} (y_i - \ hat {y} _i) ^ 2 \ rightarrow min </script></p><br><br>  Aqui <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-56"><span class="MJXp-msubsup" id="MJXp-Span-57"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-59" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-2"> y_i </script>  - respuestas correctas, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-60"><span class="MJXp-mtext" id="MJXp-Span-61">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">t</span><span class="MJXp-msubsup" id="MJXp-Span-65"><span class="MJXp-mrow" id="MJXp-Span-66" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67">y</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-68" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-3"> \ hat {y} _i </script>  - pron√≥sticos del modelo. <br><br>  Otra opci√≥n es no confundirse con el pron√≥stico de ETA principalmente en una direcci√≥n, hacia arriba o hacia abajo.  En este caso, le mostraremos al usuario la mediana de la distribuci√≥n del tiempo antes de que llegue el taxi.  Como resultado, se capacitar√° un modelo que optimiza el m√≥dulo promedio del error de pron√≥stico (Error absoluto medio, MAE): <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-69"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">E</span><span class="MJXp-mo" id="MJXp-Span-73" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-74">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-76">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78">c</span><span class="MJXp-mrow" id="MJXp-Span-79"><span class="MJXp-mn" id="MJXp-Span-80">1</span></span><span class="MJXp-mrow" id="MJXp-Span-81"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">n</span></span><span class="MJXp-mtext" id="MJXp-Span-83">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">u</span><span class="MJXp-msubsup" id="MJXp-Span-86"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-92"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">n</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-88"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">i</span><span class="MJXp-mo" id="MJXp-Span-90">=</span><span class="MJXp-mn" id="MJXp-Span-91">1</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-94"><span class="MJXp-mo" id="MJXp-Span-95" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-96"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-98" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-100">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">t</span><span class="MJXp-msubsup" id="MJXp-Span-104"><span class="MJXp-mrow" id="MJXp-Span-105" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">y</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-107" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-108"><span class="MJXp-mo" id="MJXp-Span-109" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-110">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">w</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">n</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-4"> MAE = \ frac {1} {n} \ sum_ {i = 1} ^ {n} | y_i - \ hat {y} _i | \ rightarrow min </script></p><br><br>  Pero nos dimos cuenta de que nos est√°bamos adelantando un poco. <br><br><h2>  Repensar el enunciado del problema </h2><br>  Despu√©s de la cita, sabemos qu√© tipo de autom√≥vil va para el usuario, lo que significa que podemos estimar su tiempo de viaje en Yandex.Maps.  Esta vez se muestra en el pin despu√©s del pedido.  Por un lado, ahora tenemos m√°s informaci√≥n y el pron√≥stico ser√° m√°s preciso, pero, por otro lado, esta tambi√©n es una estimaci√≥n con un error. <br><br>  Esa fue la trampa en la tarea de pin ETA.  Si bien el conductor no est√° asignado, es necesario predecir <b>exactamente la hora en que se mostrar√° la ruta Yandex.Mart,</b> y no la hora real antes de la entrega del autom√≥vil. <br><br>  Parecer√≠a, ¬øqu√© tonter√≠a: en lugar del valor exacto, tome otro pron√≥stico como objetivo?  Pero eso tiene sentido, y he aqu√≠ por qu√©.  En el camino hacia usted, el auto designado puede demorarse.  El conductor se meti√≥ en una situaci√≥n peligrosa en la carretera, en un atasco debido a un accidente o sali√≥ a comprar agua.  Tales demoras son dif√≠ciles de predecir.  Crean ruido adicional en la variable objetivo, por lo que la tarea ya dif√≠cil de predecir ETA en el pin se vuelve a√∫n m√°s dif√≠cil. <br><br>  ¬øC√≥mo deshacerse del ruido?  Predecir la variable objetivo suavizada: el tiempo que se muestra despu√©s de que se asigna la m√°quina en funci√≥n de la ruta al usuario. <br><br>  Esta es la l√≥gica desde el punto de vista empresarial: de todos modos, no puede perder el tiempo en el camino a lo largo del camino √≥ptimo desde ETA, pero se pueden reducir los retrasos adicionales al trabajar con los conductores. <br><br><h2>  M√©tricas de calidad, datos, modelo y capacitaci√≥n. </h2><br>  Descubrimos que para ETA en el pin, es necesario predecir no el tiempo real, sino el tiempo que se recibir√° despu√©s de que la m√°quina se asigne a lo largo de la ruta.  De las dos m√©tricas de calidad, MAE y MSE, elegimos MAE.  Quiz√°s, desde el punto de vista de la intuici√≥n del pron√≥stico, es m√°s l√≥gico evaluar la expectativa (MSE), en lugar de la mediana (MAE).  Pero MAE tiene una buena caracter√≠stica: el modelo es m√°s resistente a los valores at√≠picos entre los ejemplos de entrenamiento. <br><br>  Los signos se dividen en grupos: <br>  - construido por hora actual; <br>  - geo (coordenadas, distancia al centro de la ciudad y objetos significativos en el mapa); <br>  - pin (cu√°ntos y qu√© autom√≥viles est√°n cerca, su densidad se calcula de manera diferente); <br>  - estad√≠sticas sobre la zona (como de costumbre cometemos errores, cu√°nto predecimos); <br>  - datos sobre los conductores m√°s cercanos (cu√°nto tiempo alcanzan, cu√°nto est√° el primero m√°s cerca que el segundo, etc.). <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Por</a> supuesto, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">CatBoost fue</a> entrenado en estos signos.  El argumento decisivo fue que el aumento de gradiente implementado en CatBoost sobre √°rboles equilibrados se ha establecido durante mucho tiempo como un m√©todo de aprendizaje autom√°tico muy poderoso, y el m√©todo de codificaci√≥n de caracter√≠sticas categ√≥ricas en CatBoost compensa regularmente nuestras tareas.  Otra buena caracter√≠stica de la biblioteca es el aprendizaje r√°pido en la GPU. <br><br>  Ahora unas pocas palabras sobre qu√© modelos se compararon.  La ETA inicial (antes de ser especificada por el aprendizaje autom√°tico) se calcul√≥ en funci√≥n del tiempo durante el cual pod√≠a llegar la m√°quina m√°s cercana al usuario.  El modelo actual (utilizado en la aplicaci√≥n ahora) es lo que se hizo mediante el aprendizaje autom√°tico y de <b>qu√© trata este art√≠culo.</b>  Adem√°s, pronto se lanzar√° un nuevo modelo en producci√≥n.  Ella usa un orden de magnitud de caracter√≠sticas m√°s significativas para resolver el problema.  La siguiente tabla muestra las mediciones de calidad de estos modelos en datos hist√≥ricos.  Por cierto, todav√≠a tenemos muchos planes: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">ven a ayudar</a> . <br><br>  <b>Calidad de predicci√≥n de validaci√≥n de ETA *</b> <br><br><div class="scrollable-table"><table><tbody><tr><td><br></td><td>  Error absoluto medio <br></td><td>  Error m√°s de 1 minuto <br></td><td>  Error m√°s de 2 minutos <br></td><td>  Error m√°s de 5 minutos <br></td></tr><tr><td width="124"><p>  ETA original </p><br></td><td width="125"><p>  82,082 </p><br></td><td width="125"><p>  29,95 </p><br></td><td width="125"><p>  18.12 </p><br></td><td width="125"><p>  3,7 </p><br></td></tr><tr><td width="124"><p>  Modelo actual </p><br></td><td width="125"><p>  79,276 (‚Äì3,4) </p><br></td><td width="125"><p>  29,33 (‚Äì2,1) </p><br></td><td width="125"><p>  16,98 (‚Äì6,3) </p><br></td><td width="125"><p>  3 (‚Äì19,2) </p><br></td></tr><tr><td width="124"><p>  Nuevo modelo </p><br></td><td width="125"><p>  78,414 (‚Äì4,5) </p><br></td><td width="125"><p>  28,95 (‚Äì3,4) </p><br></td><td width="125"><p>  16,62 (‚Äì8,2) </p><br></td><td width="125"><p>  2,8 (‚Äì23,2) </p><br></td></tr></tbody></table></div><br><br>  * Porcentaje (entre par√©ntesis indica el cambio del ETA original). <br><br>  El aprendizaje autom√°tico nos permiti√≥ ganar alrededor de dos segundos, o 3.4% de la desviaci√≥n promedio del pron√≥stico.  Y en el nuevo modelo, casi otro segundo, un total de 4.5%.  Pero a partir de estos n√∫meros, es dif√≠cil entender que la ETA ha mejorado significativamente.  Para sentir los beneficios del aprendizaje autom√°tico, debe prestar atenci√≥n a la √∫ltima columna.  Las faltas con un pron√≥stico de m√°s de 5 minutos se convirtieron en 19.2%, y en el nuevo modelo, ¬°incluso 23.2% menos!  Por cierto, tales errores ocurren solo en 3 y 2.8% de los casos en modelos que usan aprendizaje autom√°tico. <br><br><h2>  Resumen </h2><br>  Especificamos la ETA en el pin principalmente para proporcionar a los usuarios un pron√≥stico confiable.  Pero, por supuesto, con cualquier aplicaci√≥n de aprendizaje autom√°tico en los negocios, es imprescindible evaluar el efecto econ√≥mico.  Y entienda si es comparable al costo de construir e implementar modelos.  Despu√©s de la prueba A / B en l√≠nea, result√≥ que nosotros, mediante el aprendizaje autom√°tico, recibimos un aumento estad√≠sticamente significativo en la conversi√≥n de un pedido a un viaje (despu√©s de todo, un pedido se puede cancelar) y un aumento en la conversi√≥n de una sesi√≥n de usuario a un pedido. <br><br>  En ambos casos, estamos hablando de un efecto del orden de 0.1 puntos porcentuales.  Esto, por cierto, no contradice la significaci√≥n estad√≠stica: en nuestros vol√∫menes de datos, incluso tal diferencia se detecta de manera confiable en 2‚Äì4 semanas.  Y con relevancia comercial, de hecho, tampoco todo est√° mal: result√≥ que los costos de aclarar la ETA son rechazados por el aumento de la conversi√≥n en solo unos meses. <br><br>  Como resultado, obtuvimos un caso √∫til e ilustrativo.  El refinamiento de la ETA en el pin se ha convertido en una historia instructiva sobre la selecci√≥n cuidadosa de la variable objetivo.  En el lado del producto, este es un ejemplo muy motivador: mejoramos la aplicaci√≥n y vimos que los usuarios la apreciaban.  Esperamos que la refinada ETA ayude a nuestros pasajeros a reunirse con mayor frecuencia en reuniones, trenes y aviones. <br><br>  PD: si est√° interesado en otras tecnolog√≠as Yandex.Taxi, le recomendamos una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">publicaci√≥n sobre precios din√°micos</a> , que mi colega public√≥ recientemente. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es431196/">https://habr.com/ru/post/es431196/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es431186/index.html">Dise√±o por tipos: c√≥mo hacer que los estados no v√°lidos sean inexpresables en C #</a></li>
<li><a href="../es431188/index.html">Aspectos t√©cnicos del bloqueo de Internet en Rusia. Desaf√≠os y perspectivas</a></li>
<li><a href="../es431190/index.html">C√≥mo evaluar el nivel de la empresa SEO sin llegar a un acuerdo</a></li>
<li><a href="../es431192/index.html">AWC presenta Firecracker: micro virtualizaci√≥n para Linux</a></li>
<li><a href="../es431194/index.html">Tubo caliente hardcore. ¬øC√≥mo fue DotNext 2018 Mosc√∫?</a></li>
<li><a href="../es431198/index.html">C√≥mo funciona el despachador</a></li>
<li><a href="../es431200/index.html">Godot: sobre el tema del uso regular de analizadores de c√≥digo est√°tico</a></li>
<li><a href="../es431202/index.html">Debian y Devuan unen fuerzas para sysvinit</a></li>
<li><a href="../es431204/index.html">Puerta trasera en una de las dependencias de la biblioteca EventStream</a></li>
<li><a href="../es431208/index.html">Splunk a trav√©s de los ojos de un novato: c√≥mo hicimos un sistema de inventario de almacenamiento</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>