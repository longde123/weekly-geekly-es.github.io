<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ¾â€ğŸ¤â€ğŸ‘©ğŸ½ ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦â€ğŸ‘¦ ğŸ¤ŸğŸ¿ Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 13: Network Protocols, Part 3 ğŸ¤§ ğŸ‘¸ ğŸ‘‚ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Institut de technologie du Massachusetts. Cours magistral # 6.858. "SÃ©curitÃ© des systÃ¨mes informatiques." Nikolai Zeldovich, James Mickens. 2014 annÃ©e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 13: Network Protocols, Part 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/427779/"><h3>  Institut de technologie du Massachusetts.  Cours magistral # 6.858.  "SÃ©curitÃ© des systÃ¨mes informatiques."  Nikolai Zeldovich, James Mickens.  2014 annÃ©e </h3><br>  Computer Systems Security est un cours sur le dÃ©veloppement et la mise en Å“uvre de systÃ¨mes informatiques sÃ©curisÃ©s.  Les confÃ©rences couvrent les modÃ¨les de menace, les attaques qui compromettent la sÃ©curitÃ© et les techniques de sÃ©curitÃ© basÃ©es sur des travaux scientifiques rÃ©cents.  Les sujets incluent la sÃ©curitÃ© du systÃ¨me d'exploitation (OS), les fonctionnalitÃ©s, la gestion du flux d'informations, la sÃ©curitÃ© des langues, les protocoles rÃ©seau, la sÃ©curitÃ© matÃ©rielle et la sÃ©curitÃ© des applications Web. <br><br>  Cours 1: Â«Introduction: modÃ¨les de menaceÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 2: Â«ContrÃ´le des attaques de piratesÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 3: Â«DÃ©bordements de tampon: exploits et protectionÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 4: Â«SÃ©paration des privilÃ¨gesÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 5: Â«D'oÃ¹ viennent les systÃ¨mes de sÃ©curitÃ©?Â» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> <br>  ConfÃ©rence 6: Â«OpportunitÃ©sÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 7: Â«Native Client SandboxÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 8: Â«ModÃ¨le de sÃ©curitÃ© rÃ©seauÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 9: Â«SÃ©curitÃ© des applications WebÂ», <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 3</a> <br>  ConfÃ©rence 10: Â«ExÃ©cution symboliqueÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 11: Â«Ur / Web Programming LanguageÂ» <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3</a> <br>  ConfÃ©rence 12: SÃ©curitÃ© du rÃ©seau, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 3</a> <br>  ConfÃ©rence 13: Â«Protocoles rÃ©seauÂ», <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 1</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 2</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">partie 3</a> <a name="habracut"></a><br><br>  Supposons qu'un client Ã©mette une demande pour recevoir un message spÃ©cifique, par exemple, "donnez-moi le message n Â° 7", et cryptez cette chose avec la clÃ© Kc, mail.  Tout semble merveilleux. <br>  Le serveur de messagerie possÃ¨de une clÃ© partagÃ©e qui dÃ©chiffrera ce message, aprÃ¨s quoi le serveur renverra au client le corps de ce message Ã©lectronique, Ã©galement chiffrÃ© avec Kc, mail.  Quelqu'un voit-il cela comme un problÃ¨me?  Pourquoi cela peut-il Ãªtre mauvais? <br><br><img src="https://habrastorage.org/webt/zg/se/x8/zgsex8vs0-rw-ek8lnahdh6zi3c.jpeg"><br><br>  <b>Ã‰tudiant:</b> il existe une possibilitÃ© lorsqu'un pirate peut remplacer un message ou le truquer. <br><br>  <b>Professeur:</b> oui, c'est troublant car je peux vous envoyer n'importe quel email que je veux.  Supposons que j'ai l'intention de supprimer un message qui se trouve dans votre boÃ®te de rÃ©ception, car je ne veux pas que vous le lisiez.  Supposons que cette lettre soit au numÃ©ro 23. <br><br>  Par consÃ©quent, je vais vous envoyer une lettre qui dit: "supprimer le numÃ©ro 23", et vous allez le lire.  Vous allez le recevoir, et la rÃ©ponse provenant du serveur de messagerie avec la commande "supprimer n Â° 23" sera cryptÃ©e avec cette clÃ© Kc, mail.  Et jusqu'Ã  prÃ©sent, il n'a pas Ã©tÃ© envoyÃ© au serveur de messagerie. <br><br>  Mais si j'analyse le rÃ©seau au bon moment et que je valide ce paquet, je peux le renvoyer au serveur de messagerie.  Il ressemblera au message Â«supprimer le numÃ©ro 23Â», chiffrÃ© Ã  l'aide de la clÃ©.  Dans ce cas, le serveur de messagerie dira: "Oh oui, bien sÃ»r, vous voulez supprimer ce message, et je le ferai!" <br><br>  Il y a donc un problÃ¨me ici parce que nous permettons Ã  l'adversaire de confondre le serveur de messagerie pour savoir si notre message a Ã©tÃ© gÃ©nÃ©rÃ© par lui ou envoyÃ© en premier lieu. <br><br>  C'est ce qui est communÃ©ment appelÃ© dans la description de la cryptographie et du protocole une Â«attaque par rÃ©flexionÂ».  Avez-vous des suggestions sur la faÃ§on d'Ã©viter ce problÃ¨me? <br><br>  <b>Ã‰tudiant: est-</b> il possible d'inclure simplement un en-tÃªte de message qui parle de son origine? <br><br>  <b>Professeur:</b> oui, en rÃ¨gle gÃ©nÃ©rale, vous voulez avoir une sorte de faÃ§on non ambiguÃ« de dire ce qui se passe.  Une faÃ§on consiste Ã  avoir un en-tÃªte dans chaque message qui dit: Â«du client au serveurÂ» ou Â«du serveur au clientÂ».  Une maniÃ¨re encore meilleure dans la pratique consiste simplement Ã  utiliser deux clÃ©s distinctes. <br><br>  Parce que vous voudrez peut-Ãªtre avoir un long flux de donnÃ©es qui pourrait ne pas avoir de place pour les bits d'en-tÃªte.  Ainsi, chaque fois que vous Ã©tablissez une connexion avec un service, Kerberos 5 nÃ©gocie l'utilisation de deux clÃ©s au lieu d'une.  La premiÃ¨re clÃ© sera utilisÃ©e pour crypter les donnÃ©es du client vers le serveur, et la seconde pour crypter les donnÃ©es du serveur vers le client.  Il s'agit de la mÃ©thode de protection la plus optimale pour une utilisation pratique. <br><br>  Parlons maintenant de ce qui se passe avec KDC.  Le serveur Kerberos est trÃ¨s important pour le systÃ¨me, mais que se passe-t-il si ce KDC se bloque?  Ã€ quel point est-ce mauvais pour notre systÃ¨me?  Comment la Â«chuteÂ» de KDC affectera-t-elle votre vie si vous utilisez Athena? <br><br>  <b>Ã‰tudiant: vous</b> ne pouvez probablement pas vous connecter? <br><br>  <b>Professeur:</b> oui, Ã§a l'est.  DeuxiÃ¨mement, vous ne pourrez pas non plus obtenir de billets pour de nouvelles demandes.  Mais ce qui est cool, c'est que KDC est Ã  peu prÃ¨s hors du chemin critique pour une connexion existante.  Par consÃ©quent, aucune donnÃ©e ne passe par le KDC.  Et si vous avez dÃ©jÃ  un ticket pour quelque chose, vous pouvez continuer Ã  l'utiliser et garder l'entrÃ©e de certains services du rÃ©seau.  C'est en fait assez bien mis en cache.  Je pense que la deuxiÃ¨me bonne chose que les dÃ©veloppeurs ont envisagÃ©e est la possibilitÃ© de rÃ©pliquer KDC.  Par consÃ©quent, le systÃ¨me possÃ¨de un serveur Kerberos principal, qui stocke la copie initiale de la base de donnÃ©es entiÃ¨re.  Cela vous permet de lire uniquement les rÃ©plicas qui contiennent une copie de la base de donnÃ©es initiale.  Il n'autorise aucune mise Ã  jour, comme l'enregistrement des utilisateurs ou les mises Ã  jour de clÃ©s, mais vous permet de rÃ©pondre aux demandes de connexion et de TGS. <br><br>  Ainsi, l'enregistrement Â«cloneÂ» de la base de donnÃ©es Kerberos vous permet de continuer Ã  vous connecter et Ã  communiquer avec les services, mÃªme si KDC Ã©choue, jusqu'Ã  ce qu'il soit Ã©liminÃ© et que toutes ses fonctionnalitÃ©s soient restaurÃ©es. <br><br>  <b>Ã‰tudiant:</b> est-il difficile de compromettre le serveur KDC et le systÃ¨me dans son ensemble? <br><br>  <b>Professeur:</b> KDC est l'Ã©pine dorsale de tout systÃ¨me qui exÃ©cute Kerberos.  Si ce service est compromis, l'attaquant aura un contrÃ´le total sur le systÃ¨me.  Il sera en mesure d'obtenir des billets pour n'importe quel service que vous souhaitez, en faisant semblant d'Ãªtre le bon client, donc c'est assez mauvais.  Nous voulons vraiment garder KDC en sÃ©curitÃ©, mais c'est difficile.  Bien que je ne connaisse pas un seul cas oÃ¹ le KDC MIT aurait Ã©tÃ© vraiment compromis pendant environ 20 ans.  Mais, apparemment, ce qui vaut vraiment la peine d'Ãªtre inquiÃ©tÃ©, c'est l'implÃ©mentation logicielle de la sÃ©curitÃ© des choses que ces deux services Ã©changent, Kerberos et TGS.  Parce que si un dÃ©bordement de tampon se produit ou si une autre vulnÃ©rabilitÃ© similaire survient, c'est vraiment mauvais. <br><br><img src="https://habrastorage.org/webt/pg/e4/8_/pge48_xze8liwroytuzamq7p-7k.jpeg"><br><br>  Par exemple, si un serveur SSH s'exÃ©cute sur KDC Kerberos et que quelqu'un devine le mot de passe racine de ce serveur SSH, il se connectera simplement et copiera la base de donnÃ©es.  Je pense donc que vous voulez vraiment minimiser la surface d'attaque ici, alors soyez trÃ¨s prudent lorsque vous Ã©crivez du code KDC.  Ne laissez personne accÃ©der directement Ã  ce service.  Bien sÃ»r, il existe certains endroits pour lesquels vous devriez Ãªtre considÃ©rÃ© comme paranoÃ¯aque Ã  propos de la sÃ©curitÃ©, mais ce n'est pas si important pour les serveurs.  Bien sÃ»r, ils stockent des donnÃ©es, mais si quelqu'un s'introduit dans un serveur de messagerie ou un serveur d'impression, ils peuvent Ãªtre restaurÃ©s. <br><br>  Voici une question intÃ©ressante.  Supposons que quelqu'un pirate un serveur de messagerie.  Que devez-vous faire pour vous remettre de cette attaque?  Par exemple, si quelqu'un a volÃ© votre courrier, c'est mauvais.  Mais que faire pour empÃªcher un attaquant d'accÃ©der Ã  votre messagerie Ã  l'avenir? <br><br>  Kerberos n'a pas d'opÃ©ration d'annulation, mais vous pouvez gÃ©nÃ©rer une nouvelle clÃ© pour le serveur de messagerie et la coller dans la base de donnÃ©es KDC.  Ensuite, vous installez un nouveau serveur de messagerie, lui donnez une nouvelle clÃ©, puis un attaquant qui possÃ¨de une ancienne clÃ© du serveur de messagerie ne peut en aucun cas l'influencer. <br><br>  Par contre, supposons que vous ne modifiez pas la clÃ© du serveur de messagerie, Kmail.  Ã€ quoi cela mÃ¨nera-t-il? <br><br><img src="https://habrastorage.org/webt/gk/vs/sk/gkvssk_j0lemoi7eajculgbyrmo.jpeg"><br><br>  <b>Ã‰tudiant: la</b> clÃ© ne s'adaptera pas au nouveau serveur. <br><br>  <b>Professeur:</b> eh bien, supposons que vous installiez un nouveau serveur de messagerie, corrigeant l'erreur utilisÃ©e par le pirate.  Mais il a toujours une clÃ© Kmail.  La rÃ©cupÃ©ration du serveur a peut-Ãªtre durÃ© une journÃ©e entiÃ¨re, de sorte que tous les tickets ont expirÃ©.  Ce pirate peut-il faire quelque chose d'intÃ©ressant avec le systÃ¨me?  Si vous fournissez l'ancien Kmail au nouveau serveur de messagerie - est-ce mauvais? <br><br>  <b>Ã‰tudiant:</b> un attaquant peut infiltrer un serveur de messagerie car il peut dÃ©crypter le premier ticket. <br><br>  <b>Professeur: c'est</b> certain, c'est pourquoi Kmail est en fait trÃ¨s important.  Vous dites que vous pouvez dÃ©crypter tout ce qui se passe sur le serveur de messagerie.  Supposons que le client se connecte au serveur de messagerie aprÃ¨s l'avoir corrigÃ©, mais l'attaquant connaÃ®t toujours Kmail, qui est restÃ© depuis le dernier piratage du systÃ¨me.  Par consÃ©quent, il peut dÃ©crypter ce ticket Kmail, regarder Ã  l'intÃ©rieur du ticket et obtenir une clÃ© de session.  Avec lui, il pourra dÃ©crypter tous les messages que vous envoyez, toutes les rÃ©ponses que vous recevez, etc.  Par consÃ©quent, aprÃ¨s avoir restaurÃ© le serveur de messagerie, il est trÃ¨s important de modifier ce Kmail. <br><br>  Ã€ bien des Ã©gards, cela est encore pire que le simple suivi du trafic, car si un attaquant connaÃ®t cette clÃ© Kmail, il peut synthÃ©tiser de nouveaux tickets pour le serveur de messagerie sans contacter KDC.  Supposons que je connaisse Kmail et que je veuille lire le courrier d'un serveur de messagerie.  Je vais simplement Ã©mettre ce ticket, je vais collecter tous ces cinq champs dans le bon ordre, gÃ©nÃ©rer une nouvelle clÃ© et la crypter en utilisant Kmail.  Cela ressemblera Ã  la vraie chose gÃ©nÃ©rÃ©e par KDC. <br><br>  Par consÃ©quent, je me connecte simplement au serveur de messagerie, il dÃ©chiffrera correctement le message et pensera qu'il s'agit d'un utilisateur spÃ©cifique, afin que vous puissiez lui fournir du courrier, partager une clÃ© partagÃ©e avec lui, etc.  Par consÃ©quent, il est essentiel que personne ne reconnaisse la clÃ© secrÃ¨te de ce service, car sinon vous pouvez non seulement rendre le trafic dÃ©chiffrable et visible, mais aussi imiter n'importe qui dans ce service. <br><br>  <b>Etudiant:</b> si le serveur de messagerie est restaurÃ© aprÃ¨s un Ã©chec, vous devrez probablement changer sa clÃ© dans la base de donnÃ©es? <br><br>  <b>Professeur:</b> oui, aprÃ¨s avoir restaurÃ© le serveur de messagerie aprÃ¨s l'Ã©chec, vous devez appeler le gars qui travaille avec ce KDC et dire: "notre serveur de messagerie a Ã©tÃ© piratÃ©, alors supprimez son ancienne clÃ© Ks de la base de donnÃ©es et insÃ©rez-en une nouvelle!"  Vous voudrez donc probablement avoir une sorte de mÃ©canisme en dehors de la base de donnÃ©es pour prouver que vous Ãªtes vraiment un serveur de messagerie. <br><br>  Parce que nous verrons dans une seconde comment changer les clÃ©s, par exemple, en utilisant le protocole de changement de mot de passe.  Vous pouvez utiliser des mots de passe dans le protocole Kerberos, car si vous connaissez l'ancien mot de passe, vous pouvez remplacer le mot de passe utilisateur par le nouveau mot de passe dans KDC.  Mais comme le pirate peut intercepter le mot de passe envoyÃ© par courrier, vous devrez probablement contacter le bureau d'enregistrement du compte et lui demander de changer votre mot de passe sur le serveur de messagerie.  Ils vont gÃ©nÃ©rer une nouvelle clÃ© et vous la donner afin que le pirate ne puisse pas la reconnaÃ®tre. <br><br><img src="https://habrastorage.org/webt/qu/hc/g7/quhcg7c1wxo9vslewqzvam_qkl0.jpeg"><br><br>  Sinon, si l'attaquant connaÃ®t cette clÃ© Kmail, le serveur de messagerie n'a rien pour distinguer l'attaquant du bon client.  En rÃ©alitÃ©, l'attaquant a probablement changÃ© la clÃ©, alors maintenant ils connaissent les nouveaux paramÃ¨tres, et vous n'y Ãªtes pas, comme si vous n'Ã©tiez plus sur le serveur de messagerie.  Vous avez donc besoin de protocoles externes pour les principes de l'enregistrement initial dans la base de donnÃ©es et pour changer les clÃ©s si vous avez oubliÃ© votre mot de passe ou si quelqu'un a changÃ© votre mot de passe afin que vous perdiez l'accÃ¨s. <br><br>  Par consÃ©quent, il y a un groupe de personnes au MIT qui aident les utilisateurs Ã  enregistrer des comptes et Ã  changer leurs mots de passe.  Pour ce faire, vous leur prÃ©sentez votre ID MIT, et quoi qu'il arrive, ils pourront changer la clÃ© pour vous. <br><br>  Par consÃ©quent, il est trÃ¨s important de bien faire les choses.  Parce que si la personne qui vous permet de rÃ©initialiser le mot de passe se trompe lors de la vÃ©rification de votre ID MIT, vous pouvez compromettre le systÃ¨me, non?  Ces personnes de Kerberos font donc partie d'une base informatique de confiance. <br><br>  Regardons une autre utilisation intÃ©ressante de Kerberos.  Vous pouvez utiliser Kerberos pour vous connecter Ã  un ordinateur distant via SSH.  Et son fonctionnement est trÃ¨s similaire Ã  celui d'un serveur de messagerie.  Vous obtenez un ticket pour le serveur SSH et vous envoyez le ticket avec votre connexion SSH.  Mais que se passe-t-il si vous vous connectez Ã  Athena.dial-up et que vous n'avez pas de client Kerberos sur votre ordinateur?  Vous voulez juste vous connecter Ã  Athena.dial-up avec votre mot de passe habituel. <br><br>  Alors, comment la connexion par modem Athena vous authentifie-t-elle si vous vous connectez Ã  cette machine avec un mot de passe?  Vous n'avez pas de mot de passe pour Athena.dial-up, c'est un mot de passe pour le serveur Kerberos.  Alors, que doit faire un ordinateur commutÃ© si vous vous connectez avec un mot de passe? <br><br>  La connexion Ã  distance fonctionne en utilisant le mÃªme protocole que la connexion.  Il va donc envoyer une demande du client au serveur Kerberos avec une demande de donner un ticket, par exemple, au nom d'utilisateur Â«AliceÂ».  Et en retour, le client recevra une rÃ©ponse chiffrÃ©e avec le mot de passe d'Alice.  Ensuite, il essaiera d'appliquer le mot de passe et verra s'il dÃ©chiffre correctement.  S'il dÃ©chiffre correctement, vous pouvez vous connecter au systÃ¨me. <br><br>  <b>Etudiant:</b> vous n'avez mÃªme pas besoin d'envoyer votre clÃ© au serveur SSH, car dans cette connexion, le serveur KDS peut renvoyer l'utilisateur Kc via la connexion SSH. <br><br>  <b>Professeur:</b> il est possible que oui, mais cela nÃ©cessite une certaine imagination du client SSH, ce qui peut ne pas Ãªtre le cas.  Mais en principe, c'est vrai.  Si vous souhaitez le faire correctement, vous souhaiterez probablement avoir un client Kerberos sur votre ordinateur et obtenir un ticket vous-mÃªme, ou peut-Ãªtre utiliser un serveur SSH pour le transfert, tout en ne permettant pas au serveur SSH d'avoir votre clÃ©. <br><br>  C'est probablement un bon plan.  Mais il s'avÃ¨re qu'en fait, c'est une chose assez dangereuse qui permet Ã  quiconque de se connecter au serveur SSH.  Plus tÃ´t, nous avons parlÃ© d'un client essayant de se connecter.  Ce client savait qu'en fournissant un mot de passe lÃ©gal, il a reÃ§u une rÃ©ponse du bon serveur Kerberos, et s'il peut dÃ©crypter la rÃ©ponse, alors le mot de passe fonctionne probablement correctement. <br><br>  Cependant, il n'y a rien dans ce protocole qui confirme le fait que cette rÃ©ponse provient du serveur Kerberos correct.  Par consÃ©quent, si j'essaie de me connecter Ã  la machine simplement en entrant un mot de passe, la machine enverra cette demande au serveur.  Ensuite, la rÃ©ponse sera renvoyÃ©e Ã  cette demande, qui semble Ãªtre chiffrÃ©e avec le mot de passe que j'ai entrÃ©, mais cette rÃ©ponse peut ne pas provenir du serveur Kerberos non plus. <br><br>  Supposons que j'ai une machine avec laquelle je souhaite me connecter.  J'entre le mot de passe X, puis la machine envoie cette demande de, s au serveur Kerberos. <br><br><img src="https://habrastorage.org/webt/me/2k/z5/me2kz5r_ewynn9cu1vjdubcx6yo.jpeg"><br><br>  Mais avant que le serveur Kerberos n'envoie la vraie rÃ©ponse au client, j'enverrai ma propre rÃ©ponse, qui ressemble Ã  la vraie rÃ©ponse, chiffrÃ©e avec mon mot de passe X. Ensuite, le poste de travail auquel j'essaie de me connecter ou le serveur SSH essaiera de dÃ©chiffrer cette rÃ©ponse avec mon faux mot de passe.  Cela semblera bien, car cette rÃ©ponse a Ã©tÃ© gÃ©nÃ©rÃ©e par moi au lieu du vrai serveur Kerberos.  Par consÃ©quent, je peux me connecter Ã  votre place.  Pourquoi cela se produit-il? <br><br>  <b>Ã‰tudiant:</b> car il n'y a pas d'authentification Ã  partir du serveur Kerberos. <br><br>  <b>Professeur:</b> oui, il n'y a rien ici qui lierait cela Ã  un vrai serveur Kerberos.  La faÃ§on dont Kerberos corrige cet inconvÃ©nient pour les ordinateurs distants, comme Athena.dial-up, est que les ordinateurs commutÃ©s eux-mÃªmes ont une sorte de clÃ© secrÃ¨te qu'ils partagent avec KDC.  Par consÃ©quent, afin d'entrer dans la ligne commutÃ©e ou sur n'importe quel poste de travail qui se soucie vraiment de vÃ©rifier si vous Ãªtes vraiment le bon utilisateur, deux choses sont faites. <br><br>  La premiÃ¨re connexion Ã  Kerberos se produit comme indiquÃ© dans le diagramme.  Mais il ne fera confiance Ã  personne simplement parce que cette rÃ©ponse est dÃ©chiffrÃ©e correctement.  Il essaiera d'obtenir un ticket de service pour lui-mÃªme en utilisant TGS, car cet ordinateur d'accÃ¨s Ã  distance possÃ¨de sa propre clÃ© secrÃ¨te.  Ã€ la premiÃ¨re Ã©tape, il vous enregistre simplement, puis se tourne vers TGS, en disant: "donnez-moi s'il vous plaÃ®t un ticket de service selon mon propre principe, sur la base d'un accÃ¨s commutÃ©, pour ce client." <br><br>  Il reÃ§oit ensuite une rÃ©ponse et vÃ©rifie s'il peut la dÃ©chiffrer correctement, car il connaÃ®t la clÃ© d'accÃ¨s Ã  distance pour ce Ks.  Et s'il dÃ©chiffre, cela signifie que l'ordinateur parlait au bon serveur Kerberos.  Parce que seul le bon serveur Kerberos dans la deuxiÃ¨me Ã©tape peut m'envoyer un ticket chiffrÃ© avec ma clÃ© secrÃ¨te Kdial-up. <br><br>  C'est donc trÃ¨s important.  En rÃ¨gle gÃ©nÃ©rale, les postes de travail Athena n'effectuent pas cette Ã©tape supplÃ©mentaire car les postes de travail Athena n'ont pas de clÃ© secrÃ¨te qui y est stockÃ©e et partagÃ©e avec KDC.  Pourquoi est-il considÃ©rÃ© normal que les postes de travail Athena vous donnent la possibilitÃ© de vous connecter Ã  la premiÃ¨re Ã©tape, mais pas de donner une telle possibilitÃ© de connexion Ã  distance? <br><br>  <b>Ã‰tudiant:</b> c'est normal si vous n'avez accÃ¨s Ã  aucun service car l'attaquant n'a pas pu truquer un ticket. <br><br>  <b>Professeur:</b> oui, c'est vrai, car il n'y a rien d'intÃ©ressant dans la station de travail d'accÃ¨s Ã  distance elle-mÃªme.  MÃªme si vous avez un accÃ¨s root, ou si vous entrez dans un poste de travail avec un faux mot de passe, cela ne dÃ©range personne.  Ce n'est pas comme s'ils pouvaient faire autre chose en dehors de leur poste de travail.  Au modem, tout est beaucoup plus intÃ©ressant.  Peut-Ãªtre que vous avez d'autres processus en cours d'exÃ©cution Ã  partir d'autres sessions sur la station de travail d'accÃ¨s Ã  distance, et le fait que vous Ãªtes connectÃ© avec un UID spÃ©cifique Ã  Unix, et qu'ils veulent vraiment vous assurer que vous Ãªtes la bonne entitÃ©, sont importants lÃ -bas. .  C'est pourquoi ils font un tel processus en deux Ã©tapes pour entrer dans la machine, qui est simultanÃ©ment utilisÃ©e par plusieurs utilisateurs. <br><br>  La derniÃ¨re chose dont je veux parler est de savoir comment remplacer les clÃ©s.  Nous avons avancÃ© l'idÃ©e que vous pouvez compromettre la clÃ© du serveur de messagerie.  Mais en tant qu'utilisateur, vous voudrez probablement aussi changer le mot de passe.  Par exemple, vous pensiez que votre mot de passe n'Ã©tait pas suffisamment sÃ©curisÃ©, vous l'avez Ã©crit sur un morceau de papier, et quelqu'un pourrait l'avoir espionnÃ©, alors maintenant vous voulez le changer. <br><br>  Dans un sens, c'est assez simple.  En plus des services Kerberos et TGS, l'interface du serveur Kerberos dispose d'un service supplÃ©mentaire appelÃ© Kpassword, qui vous permet de modifier votre mot de passe. <br><br><img src="https://habrastorage.org/webt/zj/y8/gx/zjy8gx7oozfj50360gne0ofsgvm.jpeg"><br><br>  Vous obtenez un ticket pour utiliser ce service comme un ticket pour un serveur de messagerie ou tout autre serveur.  AprÃ¨s cela, vous envoyez votre nouveau mot de passe Ã  ce service Kpassword, cryptÃ© avec votre clÃ© de session.  Et puis, si toutes les vÃ©rifications rÃ©ussissent, votre clÃ© dans la base de donnÃ©es sera mise Ã  jour avec une nouvelle clÃ©. <br><br>  Si vous vous souvenez, nous avions un objectif - si quelqu'un vole votre billet, il ne devrait pas Ãªtre assez bon pour donner la possibilitÃ© de saisir complÃ¨tement votre compte.  Pour cette raison, le service Kpassword n'accepte aucun ticket, mais uniquement le ticket que vous recevez initialement du service Kerberos avec votre clÃ© Kc.      :   ,     ,   ,   ,      â€“ Kerberos  TGS â€“    .  :       Kerberos,   ,       TGS,    . <br>  Kpassword,  ,       ,     : Â«,      Kerberos,   .       TGS,  , , ,   - ,       .        Â». <br><br>  , Kpassword ,     ,        ,       Kerberos.  ,     Kpassword  ,         Kerberos  Kpassword. <br><br>      Kpassword,     - . ,     ,          Kerberos.       Kerberos,     ID    ,      Kpassword. <br><br><img src="https://habrastorage.org/webt/x4/c7/h8/x4c7h8z8eixciai6bewebqiw6dk.jpeg"><br><br>    Kerberos   ,          Kpassword,   Kpass,     Kc,kpass     Kpassword,    Kc. <br><br>    ,         â€“     Kpassword,      Tc,kpass,     Kpass,  ,      new pass       Kc,pass,    . <br><br> ,      ,  , ,   .    -     Athena,      ,      ,  ,      .       , ,  Gmail,     ,    . ,        Kerberos   TGS   ,   -   ,          . <br><br> ,  -    Athena  ,     ,     ,   .  ,               .     ,   .     Tc,kpass,      Kpassword,       TGS,    .        ,        Kerberos   Kc. <br><br> <b>:</b>  ,      ? <br><br> <b>:</b>    K   .  Kerberos     ,     .     ,       K.  -  K,      . <br><br> <b>:</b>   ,      ? <br><br> <b>:</b> ,      -  ,          ,        .        . <br><br>   ,      ,    ,     ,    ,        ,     . <br><br> <b>:</b> ,      ,       . <br><br> <b>:</b> ,   ,     .  , , Kerberos      ,   ,       .          ,    .          .     ,   ,        . <br><br> <b>:</b>          K,     ? <br><br> <b>:</b>   ,  K â€“  56-  DES,       , ,  56 , , 7 ,         .           . <br><br>    ,     ,    . ,    ,  ,     ,       .     Kerberos? <br><br><img src="https://habrastorage.org/webt/39/at/mk/39atmkdgs6dxvozlcbkbpjhmpjy.jpeg"><br><br> <b>:</b>      â€¦ <br><br> <b>:</b> , ,  ,      , ,   ,       .         ? <br><br> <b>:</b>     . <br><br> <b>:</b> ,       . <br><br> <b>:</b>  -   ,  , ,    ,      â€¦ <br><br> <b>:</b> ,   ,    Kerberos ,          ,   ,      .      . ,  ,    ,     Â«Â»  -  ,    !    : â€,       Kc,pass,        K.      Kc,pass  ,        KpasswordÂ».     ,    ,     KDC.        ,           . <br>  ,         ,    -    ,  -               .       . <br><br> <b>:</b> ,    Kerberos    ? <br><br> <b>:</b> , .      Â« -Â»,    ,   ,   .         ,       . <br><br> ,         Kerberos 5.   ,         ,    ,         .     ,      . ,      X,   Kpassword  -    Y.  ,     ,     .  ,    g   X  ,      g   Y. <br><br><img src="https://habrastorage.org/webt/5n/au/u6/5nauu6bp5aruxtrgbzdxxidyyz0.jpeg"><br><br>     gy      X,     gxy,     gx      Y       gxy.        gxy     ,   .  ,      ,   gxy.    ,      ,  -     gxy,    .  ,     . <br><br> <b>:</b>   -       G. <br><br> <b>:</b> , . G â€”   ,             Kerberos,    .   ,       -, Kerberos 5   .       ,    -   . ,  ,      Kerberos,       SSL. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/QOtA76ga_fY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> . <br><br>  Merci de rester avec nous.    ?  Vous voulez voir des matÃ©riaux plus intÃ©ressants?  Soutenez-nous en passant une commande ou en le recommandant Ã  vos amis, une <b>rÃ©duction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entrÃ©e de gamme que nous avons inventÃ©s pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la vÃ©ritÃ© sur VPS (KVM) E5-2650 v4 (6 cÅ“urs) 10 Go DDR4 240 Go SSD 1 Gbps Ã  partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'Ã  24 cÅ“urs et jusqu'Ã  40 Go de DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 cÅ“urs) 10 Go DDR4 240 Go SSD 1 Gbit / s jusqu'en dÃ©cembre gratuitement</b> en payant pour une pÃ©riode de six mois, vous pouvez commander <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br> <b>Dell R730xd  2  ?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV Ã  partir de 249 $</a> aux Pays-Bas et aux Ã‰tats-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">crÃ©ation d'un bÃ¢timent d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 coÃ»tant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr427779/">https://habr.com/ru/post/fr427779/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr427763/index.html">Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 13: Protocoles rÃ©seau, partie 1</a></li>
<li><a href="../fr427767/index.html">Situation: au Canada, ils ont proposÃ© d'introduire une taxe sur le streaming - nous discutons du problÃ¨me</a></li>
<li><a href="../fr427771/index.html">Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 13: Network Protocols, Part 2</a></li>
<li><a href="../fr427773/index.html">J'ai Ã©crit une extension multi-navigateur pour les onglets, mais vous ne le faites pas</a></li>
<li><a href="../fr427775/index.html">Un bot dÃ©guisÃ© en programmeur corrige les erreurs de code</a></li>
<li><a href="../fr427781/index.html">Pourquoi les organisations de crÃ©dit data science</a></li>
<li><a href="../fr427783/index.html">Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 14: Â«SSL et HTTPSÂ», partie 1</a></li>
<li><a href="../fr427785/index.html">Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 14: Â«SSL et HTTPSÂ», partie 2</a></li>
<li><a href="../fr427787/index.html">Cours MIT "SÃ©curitÃ© des systÃ¨mes informatiques". ConfÃ©rence 14: Â«SSL et HTTPSÂ», partie 3</a></li>
<li><a href="../fr427789/index.html">Exxon Mobil accusÃ© d'avoir manipulÃ© les donnÃ©es d'impact environnemental de l'entreprise pour tromper les investisseurs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>