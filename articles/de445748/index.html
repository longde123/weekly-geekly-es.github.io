<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶í üïó üßëüèø‚Äçü§ù‚Äçüßëüèæ Automatisieren Sie Antworten auf h√§ufig gestellte Fragen in einer Fertigkeit f√ºr Alice mithilfe der DeepPavlov-Bibliothek üîä ‚è±Ô∏è üÜî</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das Labor f√ºr Neuronale Systeme und Deep Learning am MIPT macht DeepPavlov seit √ºber einem Jahr zu einer offenen Bibliothek f√ºr die Erstellung interak...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Automatisieren Sie Antworten auf h√§ufig gestellte Fragen in einer Fertigkeit f√ºr Alice mithilfe der DeepPavlov-Bibliothek</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mipt/blog/445748/">  Das Labor f√ºr Neuronale Systeme und Deep Learning am MIPT macht <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DeepPavlov</a> seit √ºber einem Jahr zu einer offenen Bibliothek f√ºr die Erstellung interaktiver Systeme.  Es enth√§lt eine Reihe geschulter Komponenten f√ºr die Sprachanalyse, mit denen Sie gesch√§ftliche Probleme effektiv l√∂sen k√∂nnen. <br><br>  Organisieren Sie beispielsweise Antworten auf h√§ufig gestellte Fragen von Kunden.  Dies √ºber ein Callcenter, ein Widget auf einer Website oder ein soziales Netzwerk durch Einstellung von Mitarbeitern zu tun, ist eine einfache Angelegenheit.  Die dringende Aufgabe besteht darin, den Prozess so zu optimieren, dass er automatisch, mit minimalen Fehlern und auch in einer praktischen Benutzeroberfl√§che ausgef√ºhrt wird.  Zum Beispiel in der Sprachassistentin "Alice" von "Yandex". <br><br>  In diesem Artikel m√∂chten wir Ihnen zeigen, wie Sie das Problem der Beantwortung der h√§ufig gestellten Fragen mithilfe der Verarbeitung nat√ºrlicher Sprache effektiv l√∂sen und die L√∂sung in Alice integrieren k√∂nnen. <br><br><img src="https://habrastorage.org/webt/wl/w6/qx/wlw6qxz0utzarpemqcd1ywnxhlq.jpeg"><br><a name="habracut"></a><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Klassifizierung von Texten und wie es geht</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erstellen einer Frage-und-Antwort-F√§higkeit basierend auf der DeepPavlov-Bibliothek</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Installieren Sie die DeepPavlov-Bibliothek</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Eine Fertigkeit auf Alice ausf√ºhren</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fazit</a> <br><br><a name="1"></a><h2>  Klassifizierung von Texten und wie es geht </h2><br>  Das Problem der Suche nach einer Frage, die einer bestimmten Frage nahe kommt, aus einem vorgefertigten Satz von Frage-Antwort-Paaren wird durch Algorithmen zur Bestimmung der semantischen N√§he / Textklassifizierung gel√∂st. <br><br>  Um dieses Problem ‚Äûin der Produktion‚Äú zu l√∂sen, gibt es zwei M√∂glichkeiten: Sie k√∂nnen einen NLP-Spezialisten im Bundesstaat einstellen oder die L√∂sung auslagern. <br><br>  Nachteile beider Optionen: 1) Notwendigkeit der Datenerfassung, 2) endlose Iteration des Modelltrainings und der Qualit√§tsmessung, 3) ernsthafte Anforderungen an die Entwicklung von Entwicklern.  Selbst der Integrationsprozess einer vorgefertigten Sprachverarbeitungsl√∂sung ist keine leichte Aufgabe, ganz zu schweigen davon, sie von Grund auf neu zu erstellen.  Ausl√§ndische Cloud-L√∂sungen (Google Assistant oder Microsoft Cortana) bieten eine umfassende L√∂sung f√ºr das Problem der Textklassifizierung (DialogFlow, Azure Bot Service). Es gibt jedoch weiterhin Probleme bei der Skalierung, der Verkn√ºpfung mit kostenpflichtigen API-Diensten und der Unterst√ºtzung der russischen Sprache. <br><br>  Aber Prost - es gibt eine Alternative: Sie k√∂nnen die offene Softwarebibliothek verwenden, die die Erstellung einer L√∂sung zur Beantwortung der h√§ufig gestellten Fragen auf Russisch und deren Integration in den Sprachassistenten erheblich vereinfacht. <br><br><a name="2"></a><h3>  Erstellen einer Frage-und-Antwort-F√§higkeit basierend auf der DeepPavlov-Bibliothek </h3><br>  DeepPavlov ist eine solche Bibliothek.  Es enth√§lt eine Reihe geschulter Komponenten f√ºr die Sprachanalyse, einschlie√ülich Textklassifizierungskomponenten.  Weitere Informationen zu den verschiedenen Komponenten von DeepPavlov finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hilfe</a> . <br><br>  F√ºr die Arbeit mit DeepPavlov sind keine besonderen Kenntnisse des Entwicklers erforderlich. Die Bibliothek ist kostenlos und bietet zahlreiche M√∂glichkeiten zur Feinabstimmung. <br><br>  In <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">diesem</a> Lernprogramm finden Sie alle Anweisungen zum Erstellen einer Fertigkeit basierend auf einer Wissensdatenbank.  Wir empfehlen, dass Sie den Code aus dem Lernprogramm in ein separates Skript umschreiben und die Fertigkeit aus dem Skript ausf√ºhren. <br><br><a name="3"></a><h4>  Installieren Sie die DeepPavlov-Bibliothek </h4><br>  Installieren Sie zun√§chst Python 3.6 und aktivieren Sie die Entwicklungsumgebung.  Installieren Sie dann DeepPavlov. <br><br><pre><code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">source</span></span> activate py36 pip install -q deeppavlov</code> </pre> <br><h4>  F√§higkeitsentwicklung </h4><br>  Die Fertigkeit (Fertigkeit) in DeepPavlov ist eine Entit√§t, die unabh√§ngig von der Funktionalit√§t ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Textklassifizierung</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beantwortung offener Fragen</a> usw.) ein einheitliches Eingabe- und Ausgabeformat aufweist.  F√§higkeiten werden so erstellt, dass sie zu einem einzigen Stapel eines einfachen Dialogsystems kombiniert werden k√∂nnen, das nach Eingang einer Anfrage eine Antwort von einer F√§higkeit mit h√∂chstem Vertrauen erh√§lt. <br><br>  Erstellen Sie ein Objekt der SimilarityMatchingSkill-Klasse, das auf eine Benutzeranforderung basierend auf einer Liste h√§ufig gestellter Fragen antwortet. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> deeppavlov.contrib.skills.similarity_matching_skill <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SimilarityMatchingSkill faq = SimilarityMatchingSkill(data_path = <span class="hljs-string"><span class="hljs-string">'http://files.deeppavlov.ai/faq/dataset_ru.csv'</span></span>, x_col_name = <span class="hljs-string"><span class="hljs-string">'Question'</span></span>, y_col_name = <span class="hljs-string"><span class="hljs-string">'Answer'</span></span>, save_load_path = <span class="hljs-string"><span class="hljs-string">'./model'</span></span>, config_type = <span class="hljs-string"><span class="hljs-string">'tfidf_autofaq'</span></span>, edit_dict = {}, train = <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre><br>  Das Objekt der SimilarityMatchingSkill-Klasse hat die folgenden Parameter: <br><br><ul><li>  data_path - Pfad zur CSV-Datendatei (Komma-Trennzeichen) </li><li>  x_col_name - Name der Spalte mit Fragen in der CSV-Datei (Frage, Standard) </li><li>  y_col_name - Name der Spalte mit Antworten in der CSV-Datei (Antwort, Standard) </li><li>  config_type ist der Name der Konfiguration, die Sie f√ºr die Klassifizierung verwenden m√∂chten.  Liste aller <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Konfigurationen</a> . </li><li>  edit_dict - `dict` mit Parametern, die in der Konfiguration eines bestimmten config_type neu geschrieben werden sollen </li><li>  save_load_path - Der Pfad, in dem das trainierte Modell gespeichert werden soll </li><li>  trainieren - ob das Modell trainiert werden soll </li></ul><br>  Um das Modell zu verwenden, reicht es nach dem Training aus, es mit dem folgenden Befehl zu laden: <br><br><pre> <code class="python hljs">faq = SimilarityMatchingSkill(save_load_path=<span class="hljs-string"><span class="hljs-string">'./model'</span></span>)`.</code> </pre><br>  Die SimilarityMatchingSkill-Klasse vereinfacht den Zugriff auf Textklassifizierungskomponenten.  Wenn es jedoch einen Teil der Konfiguration gibt, den Sie √§ndern m√∂chten, k√∂nnen Sie dies tun, indem Sie den Parameter edit_dict definieren.  Ein Objekt der SimilarityMatchingSkill-Klasse (wie jede F√§higkeit) verwendet drei Parameter als Eingabe: eine Liste von Angeboten zur Klassifizierung, eine Liste des Abfrageverlaufs und eine Liste von Status (im Fall von SimilarityMatchingSkill k√∂nnen die letzten beiden leere Listen sein). <br><br><pre> <code class="python hljs">faq([<span class="hljs-string"><span class="hljs-string">'  ?'</span></span>],[],[])</code> </pre><br>  Ein typisches Dialogsystem enth√§lt normalerweise mehrere F√§higkeiten.  Um die Arbeit mit mehreren F√§higkeiten zu demonstrieren, erstellen wir verschiedene F√§higkeiten der PatternMatchingSkill-Klasse. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> deeppavlov.skills.pattern_matching_skill <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> PatternMatchingSkill hello = PatternMatchingSkill(responses=[<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>], patterns=[<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>]) bye = PatternMatchingSkill(responses=[<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>], patterns=[<span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>]) fallback = PatternMatchingSkill(responses=[<span class="hljs-string"><span class="hljs-string">' '</span></span>], default_confidence = <span class="hljs-number"><span class="hljs-number">0.3</span></span>)</code> </pre><br>  PatternMatchingSkill ist eine einfache F√§higkeitsklasse, die aufgerufen wird, wenn eine Benutzeranforderung mit einem der Elemente der Musterliste √ºbereinstimmt und auf zuf√§llige Elemente der Antwortliste mit der Vertrauensw√ºrdigkeit default_confidence antwortet.  Sie k√∂nnen den Parameter default_confidence manuell konfigurieren, um Skill-Antworten zu priorisieren. <br><br>  Der letzte Schritt besteht darin, die Skills zu einem Agenten zu kombinieren und den Skill-Auswahlparameter zu konfigurieren.  Der Parameter "HighestConfidenceSelector" bestimmt, dass die Fertigkeit mit der h√∂chsten Sicherheit aufgerufen wird. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> deeppavlov.agents.default_agent.default_agent <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> DefaultAgent <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> deeppavlov.agents.processors.highest_confidence_selector <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> HighestConfidenceSelector agent = DefaultAgent([hello, bye, faq, fallback], skills_selector=HighestConfidenceSelector())</code> </pre><br>  Starten Sie als N√§chstes den Server mit dem Pfad f√ºr die Anforderungen "endpoint =" faq "und dem Verbindungsport" port = 5000 " <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> deeppavlov.utils.alice <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> start_agent_server start_agent_server(agent, host=<span class="hljs-string"><span class="hljs-string">'0.0.0.0'</span></span>, port=<span class="hljs-number"><span class="hljs-number">5000</span></span>, endpoint=<span class="hljs-string"><span class="hljs-string">'/faq'</span></span>)</code> </pre><br>  Bitte beachten Sie, dass f√ºr Yandex.Dialogs ein Server mit einer externen IP-Adresse und Zugriff √ºber https als Webhook-URL erforderlich ist.  F√ºr ein schnelles Prototyping k√∂nnen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ngrok</a> verwenden. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hiermit</a> k√∂nnen Sie einen Tunnel erstellen, um von DeepPavlov im lokalen Netzwerk auf Ihren Server zuzugreifen.  F√ºhren Sie dazu aus <br><br><pre> <code class="bash hljs">ngrok http 5000</code> </pre><br>  auf Ihrem Server mit DeepPavlov.  Als Reaktion darauf werden zwei Tunnel erstellt, einer f√ºr die Protokolle http und https.  Kopieren Sie die Tunneladresse f√ºr https, f√ºgen Sie den Endpunkt / die FAQ zum Link hinzu. Der letzte Link ist die Webhook-URL f√ºr unseren Yandex.Dialog. <br><br><a name="4"></a><h3>  Eine Fertigkeit auf Alice ausf√ºhren </h3><br>  Um die Interaktion mit der Yandex.Dialogs-Plattform zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">testen</a> , gehen Sie zu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dialogs.yandex.ru/developer</a> und erstellen Sie einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">neuen Dialog</a> .  Legen Sie einen eindeutigen Namen und einen Aktivierungsnamen fest.  Geben Sie f√ºr die Webhook-URL den zuvor empfangenen Link an.  Speichern Sie die √Ñnderungen.  Um mit der Fertigkeit zu interagieren, wechseln Sie zur Registerkarte Test. <br><br><a name="5"></a><h3>  Fazit </h3><br>  Nun wissen Sie, wie Sie Textklassifizierungsmodelle aus der DeepPavlov-Bibliothek verwenden, um einen Frage-Antwort-Bot zu erstellen, wie Sie mithilfe von DeepPavlov schnell Prototypen erstellen und diese mit Alice verbinden k√∂nnen. <br><br>  Die Schnittstellen f√ºr die Verbindung zu Amazon Alexa und das Microsoft Bot Framework sind √ºbrigens auch in unserer Bibliothek implementiert. <br><br>  Wir freuen uns √ºber Feedback in den Kommentaren.  Und Sie k√∂nnen alle Fragen zu DeepPavlov in unserem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Forum</a> hinterlassen. <br><br><img src="https://habrastorage.org/webt/2x/vd/wd/2xvdwd9bleek9bauhif3fzpnlvy.png"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de445748/">https://habr.com/ru/post/de445748/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de445734/index.html">Abrufen von Yandex Direct-Werbekampagnen mithilfe einer API in einem DataFrame (Python)</a></li>
<li><a href="../de445736/index.html">Eine kurze Geschichte ungew√∂hnlicher Musikformate</a></li>
<li><a href="../de445740/index.html">Die Katze unter der Haube. Teil 1</a></li>
<li><a href="../de445742/index.html">IoT-Standards, Netzwerke, drei Tabellen</a></li>
<li><a href="../de445746/index.html">QA-Mitap 12. April bei Redmadrobot</a></li>
<li><a href="../de445754/index.html">Digitale Archivierung von Kunstwerken: 6 unglaubliche M√∂glichkeiten</a></li>
<li><a href="../de445756/index.html">Videoberichte von FunTech iOS-Meetup # 1</a></li>
<li><a href="../de445758/index.html">"F√ºnfzehn" in Java - wie man ein vollwertiges Spiel entwickelt</a></li>
<li><a href="../de445760/index.html">Schreckliches Gef√§ngnis: Eine Studie √ºber die Randspitzen einer Venusfliegenfalle</a></li>
<li><a href="../de445762/index.html">Ist Mathematik logisch oder warum sind axiomatische Theorien paradox?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>