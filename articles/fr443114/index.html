<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöÜ ‚ôêÔ∏è üç™ Prix ‚Äã‚ÄãDevProject: Mon discours √† DeveloperWeek 2019 üïâÔ∏è üö£üèæ ‚§µÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour √† tous 


 Je m'appelle Dmitry Golev. Je suis le fondateur et directeur technique du groupe Veliov. Aujourd'hui, je vais parler du service qui...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Prix ‚Äã‚ÄãDevProject: Mon discours √† DeveloperWeek 2019</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443114/"><h3 id="vsem-privet">  Bonjour √† tous </h3><br><p>  <em>Je m'appelle Dmitry Golev.</em>  <em>Je suis le fondateur et directeur technique du groupe Veliov.</em>  <em>Aujourd'hui, je vais parler du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">service</a> qui a re√ßu le prix <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">"Dev Project"</a> de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DeveloperWeek</a> .</em>  <em>√Ä cette occasion, nous avons √©t√© invit√©s √† parler du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">projet</a> de la sc√®ne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DevExec World</a> , ci-dessous une version texte de mon discours.</em> </p><br><p><img src="https://habrastorage.org/webt/03/1d/p1/031dp1csgyds9ibioutfyecwn8q.png" alt="logo ostr.io"></p><a name="habracut"></a><br><p>  Comme vous pouvez le deviner √† partir du logo, nous nous concentrons sur le d√©veloppement Web et JavaScript.  L'objectif du service est de r√©duire le co√ªt de maintenance des API, des sites Web, des applications Web progressives (PWA) et des solutions Web sur les serveurs Linux. </p><br><p>  La plupart des projets Web commencent par un nom de domaine.  Le nom de domaine a des enregistrements Whois et DNS, et comme l'√®re de HTTP / 2 est maintenant, la communication entre le serveur et le navigateur de l'utilisateur doit √™tre crypt√©e et SSL est requis pour cela, ou plus correctement, un certificat TLS. </p><br><p>  Nous surveillons en permanence l'int√©grit√© des donn√©es de nom de domaine (Whois, DNS, SSL / TLS) et surveillons la date d'expiration du certificat et du domaine.  Les notifications de toutes les modifications des donn√©es et les dates d'expiration √† venir des domaines et des certificats peuvent √™tre envoy√©es par SMS ou e-mails. </p><br><p>  Nous pensons que ce service est un excellent moyen: </p><br><ol><li>  d√©tecter rapidement les acc√®s et modifications non autoris√©s; </li><li>  √©liminer les erreurs lors de la configuration d'un nom de domaine, du remplacement d'un certificat et de la mise √† jour des enregistrements DNS. </li></ol><br><p><img src="https://habrastorage.org/webt/cx/7u/ek/cx7uekixy2n1v1am8duxvfqujes.png" alt="Tableau de bord de domaine"></p><br><p>  Le panneau de contr√¥le des noms de domaine ( <em>ci-dessus</em> ), un exemple de notifications de changements dans DNS, certificat SSL / TLS et Whois ( <em>ci-dessous</em> ): </p><br><p><img src="https://habrastorage.org/webt/j4/i9/fo/j4i9fozy398a-hjksbkdpzqi9ms.png" alt="Exemple de notifications de modifications dans DNS, certificat SSL / TLS et Whois"></p><br><p>  Les notifications peuvent √™tre personnalis√©es par les membres de votre √©quipe en fonction de leur domaine de responsabilit√©: </p><br><p><img src="https://habrastorage.org/webt/xh/t0/0h/xht00hn2ntivsrefepvyonv1hei.png" alt="Notifications personnalis√©es"></p><br><p>  Nous avons appel√© ce service ¬´ <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">protection de base des noms de domaine</a></em> ¬ª et l'avons rendu gratuit pour tous les utilisateurs sur tous les plans tarifaires.  Nous pensons que cela sauvera de nombreux utilisateurs de situations telles que: </p><br><ol><li>  redirection du trafic; </li><li>  MitM; </li><li>  substitution de certificat; </li><li>  D√©tournement de DNS; </li><li>  vol d'un nom de domaine et autres situations tr√®s d√©sagr√©ables. </li></ol><br><p>  Nous r√©solvons le probl√®me du propri√©taire d'un nom de domaine lorsqu'il n'est pas possible de contr√¥ler les enregistrements, car cela doit √™tre fait tr√®s souvent, y compris la nuit - c'est tout simplement une t√¢che impossible pour une personne. </p><br><p>  Puis-je faire confiance aux services o√π le nom de domaine a √©t√© achet√©?  Dans la plupart des cas, les services DNS n'ont pas de notifications de modifications apport√©es aux enregistrements, et la seule notification des bureaux d'enregistrement concernant l'expiration d'un nom de domaine peut simplement tomber dans le spam et passer inaper√ßue.  Un rare √©diteur et distributeur de certificats SSL / TLS envoie des notifications sur la n√©cessit√© de r√©√©mettre le certificat, nous sommes donc arriv√©s √† la conclusion que les enregistrements et le certificat doivent √™tre v√©rifi√©s souvent et automatiquement.  Au d√©part, il s'agissait d'un service interne d√©sormais <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">accessible √† tous</a> . </p><br><hr><br><p><img src="https://habrastorage.org/webt/pm/nc/w6/pmncw6h1q4elhjzcphvymzrrlga.png" alt="Pr√©-rendu"></p><br><h3 id="pre-rendering-pre-rendering">  Pr√©-rendu (pr√©-rendu) </h3><br><p>  Le produit de service le plus populaire est le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pr√©-rendu</a> .  Si vous avez d√©j√† eu la chance d'√©crire des applications Web dans Angular, React, Vue, Blaze ou toute autre biblioth√®que "client", vous remarquerez peut-√™tre √† quel point la r√©ponse du serveur est diff√©rente des pages dont le code HTML est g√©n√©r√© sur le serveur.  Les applications Web bas√©es sur des biblioth√®ques "clientes" ont le minimum de balisage HTML n√©cessaire, sans donn√©es ni mod√®les. </p><br><p><img src="https://habrastorage.org/webt/lk/i0/hh/lki0hhtlkm3jn-uuauyan3hzau4.png" alt="Pack client"></p><br><p>  Les applications Web modernes extraient dynamiquement ou " <em>progressivement</em> " le code, les mod√®les et leurs donn√©es en plusieurs parties du serveur.  Ce qui sera charg√© √† partir du serveur est d√©cid√© par le "client" lui-m√™me ( <em>navigateur, appareil</em> ), en fonction des actions de l'utilisateur, de la page ouverte ( <em>"route", route</em> ) et des besoins fonctionnels.  Aujourd'hui, nous appelons ces applications la Progressive Web App (PWA). </p><br><p><img src="https://habrastorage.org/webt/-5/tl/9i/-5tl9i7pufyerd7cnbymikfgdei.png" alt="Avantages et inconv√©nients de PWA"></p><br><p>  Comme vous pouvez le voir sur cette diapositive, les PWA ont de nombreux avantages et un gros inconv√©nient - le manque absolu d'optimisation SEO. </p><br><p>  Bien que la formation de pages HTML sur le serveur ne soit pas une condition pr√©alable pour travailler dans le navigateur de l'utilisateur, les soi-disant araign√©es et bots (robots, araign√©es et bots) n'ex√©cutent pas le JavaScript de la page visit√©e.  Pour que votre site apparaisse dans les r√©sultats de recherche (Google, Bing, Yandex, etc.), les messageries instantan√©es, les r√©seaux sociaux (Skype, Facebook, Twitter, iMessage, vk.com, etc.) et dans la plupart des applications et services, o√π vous pouvez envoyer ou publier un lien - vous devez trouver un moyen de transf√©rer le code HTML g√©n√©r√© r√©sultant de l'ex√©cution de JavaScript "client". </p><br><p><img src="https://habrastorage.org/webt/br/rw/cy/brrwcyiaglyt_e5aq-h7jwcwewo.png" alt="Int√©grez le pr√©-rendu en moins d'une heure"></p><br><p>  Si vous √™tes maintenant confront√© √† la question ¬´Comment fournir le r√©f√©rencement d'une application bas√©e sur une solution JavaScript c√¥t√© client?¬ª, Vous avez deux fa√ßons: impl√©menter / int√©grer ¬´ <em>Server Side Rendering / SSR</em> ¬ª en investissant plus de temps et de ressources dans le d√©veloppement ou utiliser un service de pr√©-rendu tiers. </p><br><p><img src="https://habrastorage.org/webt/eq/vx/ut/eqvxutkqpot-d2e_fmqa6mvlgmg.png" alt="Le pr√©-rendu est comme un SSR, sans √©crire de code"></p><br><p>  <em>Comment √ßa marche?</em>  En tant que proxy, nous filtrons les demandes provenant de robots et les redirigeons vers le moteur de pr√©-rendu, o√π la page sera demand√©e et son JavaScript ex√©cut√© comme il aurait √©t√© ex√©cut√© dans le navigateur de l'utilisateur. </p><br><p><img src="https://habrastorage.org/webt/dg/jo/km/dgjokmpe-c-itlyr7bwxt-bn6tq.png" alt="Comment fonctionne le pr√©-rendu?"></p><br><p>  R√©sultats de l'application web avec pr√©-rendu: </p><br><p><img src="https://habrastorage.org/webt/gx/0k/un/gx0kun_maxewc0ytozexq9ctf1c.png" alt="Pr√©-rendu dans le messager"><br>  Aper√ßu des liens dans le messager </p><br><p><img src="https://habrastorage.org/webt/st/mn/vj/stmnvjucyi_pcsaadewxaunk1jq.png" alt="Pr√©-rendu dans les r√©seaux sociaux"><br>  Aper√ßu des liens sur les r√©seaux sociaux </p><br><p><img src="https://habrastorage.org/webt/em/vm/zv/emvmzvhgjsjxewnt2ln7q3mvn1e.png" alt="Pr√©-rendu des moteurs de recherche"><br>  Aper√ßu, description, m√©tadonn√©es et liens annexes dans les r√©sultats des moteurs de recherche </p><br><p><img src="https://habrastorage.org/webt/5c/do/x3/5cdox3cxxjgl9zhh7ya2tta8fve.png" alt="Prise en charge ES6 / 7"><br>  Nous sommes les premiers √† introduire le support ECMAScript 6/7. </p><br><p>  Vous pouvez en savoir plus sur le pr√©-rendu sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">prerendering.com</a> </p><br><hr><br><p><img src="https://habrastorage.org/webt/sb/2b/wf/sb2bwfsqybw0uimex3qq5soet9g.png" alt="Surveillance des API, des sites et des serveurs"></p><br><h3 id="monitoring">  Suivi </h3><br><p>  Le deuxi√®me produit le plus populaire du service est la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">surveillance</a> des applications Web, des API et des serveurs Linux via le protocole SNMP. <br>  Un service de surveillance tiers est une excellente solution, car vous et votre √©quipe n'avez pas besoin d'installer, de mettre √† jour, de maintenir, d'investir des ressources et du temps dans le d√©veloppement et "l'ach√®vement" de la surveillance. </p><br><p><img src="https://habrastorage.org/webt/g_/xo/bp/g_xobpppox4g2ifx5llkrjxe1qi.png" alt="Chronologie de la r√©ponse du serveur"></p><br><p>  Afin de vous assurer que votre application Web fonctionne et est accessible aux utilisateurs, nous v√©rifions le code de r√©ponse, les en-t√™tes, le corps de la r√©ponse et la rapidit√© avec laquelle la r√©ponse a √©t√© re√ßue. </p><br><p><img src="https://habrastorage.org/webt/pv/br/rw/pvbrrwr3wi0bf6nnm3cc-ruoiwy.png" alt="Surveillance de Nginx"></p><br><p>  Ce qui pr√©c√®de est un exemple de surveillance d'un point de terminaison avec des donn√©es g√©n√©r√©es dynamiquement, tout ce dont vous avez besoin est de renvoyer XML, JSON ou simplement Number, et vous pouvez √©galement configurer des notifications m√™me si les valeurs sont trop √©lev√©es, faibles ou ne r√©pondent pas √† vos crit√®res. </p><br><p><img src="https://habrastorage.org/webt/5s/uy/pf/5suypf3vylv32ksdrqbiaf1w4q0.png" alt="Panneau SNMP"></p><br><p>  Ci-dessus est un exemple de surveillance d'un serveur Linux via le protocole SNMP.  SNMP est une norme de l'industrie pour la lecture des donn√©es de divers capteurs mat√©riels et du syst√®me d'exploitation, y compris les serveurs Linux, qui sont utilis√©s pour servir des applications Web modernes.  Pour emp√™cher tout acc√®s non autoris√© √† vos serveurs, le service vous informera de chaque connexion SSH nouvellement √©tablie. </p><br><p><img src="https://habrastorage.org/webt/l_/1c/yt/l_1cytktj2qvi6jll7ux12pbway.png" alt="Notifications de connexion SSH"></p><br><p>  En savoir plus sur le service de surveillance sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">snmp-monitoring.com</a> . </p><br><hr><br><p><img src="https://habrastorage.org/webt/lx/8l/a-/lx8la-jz4l20bj_qrpraegfut4a.png" alt="Web Analytics"></p><br><h3 id="veb-analitika">  Web Analytics </h3><br><p>  Le troisi√®me produit de service le plus populaire est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Web Analytics</a> .  Une fois que nous avons travaill√© sur une application avec beaucoup d'animation, nos concepteurs ont pris beaucoup de temps pour rendre l'animation fluide.  Tout allait bien et nous avons termin√© la t√¢che, fournissant une animation acceptable sur tous les appareils et navigateurs populaires.  Plus tard, le client a d√©fini une petite t√¢che - pour ajouter le code d'analyse.  Il s'agissait de l'une des solutions les plus utilis√©es pour collecter de nombreuses donn√©es sur l'utilisateur, notamment la position du curseur et le d√©filement de la page pour compiler une carte thermique de la page.  √âtant donn√© que JavaScript a un environnement d'ex√©cution monothread (les travailleurs Web et les travailleurs des services ne comptent pas) et que l'analyse a pris une part importante des ressources CPU pour suivre toutes les actions des utilisateurs, cela a ruin√© tout notre travail visant √† une animation fluide sur le budget et les appareils mobiles.  Nous avons donc eu l'id√©e et la premi√®re mise en ≈ìuvre d'une analyse Web facile √† comprendre, en temps r√©el, confidentielle et conforme au RGPD avec 100% open source et une proc√©dure de non-suivi simple pour l'utilisateur final. </p><br><p><img src="https://habrastorage.org/webt/w9/rp/0o/w9rp0ogt58tnzn0jf9c8gyjpagq.png" alt="Collectez et signalez toutes les erreurs JavaScript"></p><br><p>  L'une des principales caract√©ristiques de l'analyse Web est la collecte et l'organisation automatiques d'un rapport sur toutes les erreurs d' <em>ex√©cution</em> JavaScript ( <em>erreurs d'ex√©cution et exceptions</em> ) en temps r√©el.  Si vous √™tes engag√© dans le d√©veloppement Web, vous savez combien il est important de tester diverses combinaisons d'appareils et de navigateurs dans diff√©rentes versions, mais couvrir 100% des combinaisons est tout simplement physiquement impossible.  En ce moment m√™me, vos utilisateurs sont les propri√©taires des appareils sur lesquels il est n√©cessaire d'effectuer des tests.  Web Analytics collecte automatiquement toutes les erreurs et exceptions ( <em>erreurs, exceptions d'ex√©cution</em> ) du runtime JavaScript.  Chaque rapport d'erreur est accompagn√© d'une description, d'un fichier, d'une ligne et d'un symbole dans le fichier, de la trace de la pile (le cas √©ch√©ant), de l'appareil, du navigateur, du syst√®me d'exploitation et de leurs versions. </p><br><p><img src="https://habrastorage.org/webt/j3/2m/p7/j32mp71blomylertopj72cotsdk.png" alt="Web analytics compatible avec vue.js react.js meteor.js angular.js et autres solutions frontales javascript"></p><br><p>  Une liste compl√®te des produits disponibles et des informations plus d√©taill√©es sont disponibles sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ostr.io.</a>  Tous les nouveaux comptes re√ßoivent une offre ponctuelle de ¬´pr√™ts¬ª ( <em>free-tier</em> ), ce qui permet de mettre en place gratuitement des services d'int√©gration et de test. </p><br><hr><br><p><img src="https://habrastorage.org/webt/2k/xx/qx/2kxxqxe0vbsprubsgqzssbsetq8.png" alt="L'infrastructure"></p><br><h3 id="infrastruktura">  L'infrastructure </h3><br><p>  La partie la plus int√©ressante est l'infrastructure de service.  Actuellement, dix-sept serveurs sont n√©cessaires pour couvrir les besoins du service.  Tous les produits et leurs unit√©s sont impl√©ment√©s en tant que microservices et chaque microservice est h√©berg√© sur un serveur physique.  Tous les serveurs sont des copies identiques les uns des autres.  Avant chaque d√©ploiement et modifications sur le serveur de test, la proc√©dure enti√®re est tri√©e par √©tapes et ex√©cut√©e dans un script bash, puis le script est envoy√© √† GitHub, d'o√π il sera re√ßu et lanc√© par d'autres serveurs.  Chaque serveur contient une copie du code d'application, des microservices, Nginx et MongoDB ( <em>gr√¢ce aux r√©pliques</em> ), ce sch√©ma nous permet de r√©sister aux attaques, survivre aux tests infructueux et donne le temps de r√©soudre le probl√®me.  Le service sera accessible aux utilisateurs m√™me en cas de chute √† 93% de l'infrastructure, ce qui, bien s√ªr, peut affecter la vitesse de r√©ponse, mais lui permet d'√™tre dans le cadre du SLA. </p><br><p>  Pour r√©partir uniform√©ment la charge entre tous les serveurs, nous utilisons deux niveaux d'√©quilibrage <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DNS √† tour de r√¥le</a> ( <em>dans notre cas, CloudFlare</em> ) et nos propres serveurs, sur lesquels <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HAProxy est install√©</a> . </p><br><hr><br><p><img src="https://habrastorage.org/webt/67/2l/e6/672le6hjb58olsqhe95vgtzpuuu.png" alt="package josk NPM"></p><br><h3 id="josk">  Josk </h3><br><p>  Comme vous pouvez le voir dans la description ci-dessus, nous avons de nombreux √©v√©nements r√©currents, par exemple, pour surveiller les serveurs, les API, le Whois, le DNS et d'autres points de terminaison, nous devons leur envoyer une demande r√©guli√®rement et sans interruption.  Afin d'assurer la continuit√© des t√¢ches p√©riodiques, nous avons construit notre r√©seau d√©centralis√© de nombreux serveurs, nous savons donc toujours qu'il existe un serveur gratuit pour effectuer les t√¢ches.  D√®s que les demandes d√©passent les capacit√©s actuelles, nous pouvons facilement ajouter le nombre n√©cessaire de nouveaux serveurs, gr√¢ce au sch√©ma d√©crit ci-dessus, pour la simplicit√© de la mise √† l'√©chelle horizontale. </p><br><p>  Au d√©but, les capacit√©s de nos serveurs ont largement d√©pass√© les besoins actuels, nous nous sommes donc retrouv√©s dans une situation o√π deux serveurs gratuits ou plus effectuaient la m√™me t√¢che en parall√®le.  Cela mena√ßait consid√©rablement le d√©veloppement, car le service pouvait envoyer de nombreuses lettres identiques √† un utilisateur ou envoyer des dizaines de requ√™tes DNS √† partir de nos adresses IP, ce qui mena√ßait d'une interdiction. </p><br><p> Pour r√©soudre rapidement ce probl√®me, nous avons mis au point un d√©synchroniseur de t√¢ches, qui garantissait √† 95% que la t√¢che dans la file d'attente sera ex√©cut√©e une fois et dans une unit√© de temps.  Plus tard, nous avons publi√© le code de d√©synchronisation en tant que package NPM et nomm√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>josk</code></a> .  Si vous √™tes int√©ress√© √† regarder sous le capot, voici un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lien vers GitHub</a> . </p><br><hr><br><p><img src="https://habrastorage.org/webt/9r/e9/d_/9re9d_zowqj18urp7e9gytvtwpi.jpeg" alt="package NPM de messagerie"></p><br><h3 id="mail-time">  mail-time </h3><br><p>  La m√™me raison nous a amen√©s √† cr√©er <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code> mail-time</code></a> qui vous permet d'envoyer des lettres √† partir d'une infrastructure multiserveur.  Le package est √©crit sur la base de <code>josk</code> , organise les lettres dans une file d'attente et les envoie depuis une infrastructure multiserveur.  En plus de l'envoi, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>mail-time</code></a> vous permet de diviser les microservices en: </p><br><ol><li>  "clients" ( <code>client</code> ), qui n'ajoutent que des lettres √† la file d'attente; </li><li>  "serveur" ( <code>server</code> ), qui cr√©e un microservice ind√©pendant pour effectuer seulement deux t√¢ches - g√©rer la file d'attente des lettres et leur distribution. </li></ol><br><p>  Ce n'est pas la seule caract√©ristique unique de la biblioth√®que, pour plus de d√©tails et une description plus d√©taill√©e de toutes les fonctionnalit√©s, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lisez la documentation</a> . </p><br><p>  Malheureusement, pour le moment, les deux packages ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>josk</code></a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>mail-time</code></a> ) n√©cessitent MongoDB comme base de donn√©es (DB) pour la file d'attente et la d√©synchronisation.  Nous sommes pr√™ts √† d√©velopper les deux biblioth√®ques et nous discuterons avec plaisir et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">adopterons PR</a> pour ajouter la prise en charge d'autres bases de donn√©es.  De notre c√¥t√©, Redis se pr√©sente comme un excellent candidat √† l'int√©gration. </p><br><p>  Merci beaucoup √† tous ceux qui ont lu jusqu'√† la fin.  Si vous √©tiez int√©ress√©, posez des questions et √©crivez dans le LAN et s'il y a de l'int√©r√™t des lecteurs, je suis pr√™t √† parler de l'exp√©rience de participer et de parler √† d'autres √©v√©nements sur le d√©veloppement web, node.js et JavaScript. </p><br><p>  <em>Toute personne int√©ress√©e √† en savoir plus sur ostr.io, √† utiliser le service, √† obtenir un code promotionnel, une remise ou des r√©ponses aux questions - √©crivez-moi sur le PM ou les r√©seaux sociaux.</em>  <em>Le support ostr.io ne parle que l'anglais, mais r√©pond tr√®s rapidement, par exemple via le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">messager FB</a> .</em> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr443114/">https://habr.com/ru/post/fr443114/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr443102/index.html">Le changement de comportement en tant que produit: pourquoi Marie Kondo l√®ve-t-elle une ronde de 40 millions de dollars avec Sequoia Capital?</a></li>
<li><a href="../fr443104/index.html">Calculer des expressions symboliques avec des nombres triangulaires flous en python</a></li>
<li><a href="../fr443106/index.html">USB4 annonc√©: ce que l'on sait de la norme</a></li>
<li><a href="../fr443110/index.html">Configurez le cluster Kubernetes HA sur du m√©tal nu avec GlusterFS et MetalLB. Partie 2/3</a></li>
<li><a href="../fr443112/index.html">√ätes-vous s√ªr de pouvoir faire confiance √† votre VPN?</a></li>
<li><a href="../fr443120/index.html">La Douma d'√âtat poursuivra la lutte contre la vente ill√©gale de cartes SIM</a></li>
<li><a href="../fr443122/index.html">Fuite de 809 millions d'adresses e-mail du service Verifications.io en raison de l'ouverture publique de MongoDB</a></li>
<li><a href="../fr443124/index.html">React.lazy? Mais que faire si vous n'avez pas de composant?</a></li>
<li><a href="../fr443126/index.html">D = Trust: pourquoi Google, Amazon, Apple et Facebook le perdent et comment le restaurer</a></li>
<li><a href="../fr443128/index.html">kW, kW * h et kW / h</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>