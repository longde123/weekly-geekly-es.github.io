<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äçüç≥ üëåüèΩ üì• Wir entwickeln einen Luftqualit√§tskontrollsensor f√ºr InfluxDB, Grafana, Docker und Raspberry Pi üíÜ ü•ã üåΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Haben Sie schon einmal daran gedacht, die Luftqualit√§t innerhalb oder au√üerhalb Ihres Hauses zu √ºberwachen: Wo leben und arbeiten Sie? Dieses Projekt,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wir entwickeln einen Luftqualit√§tskontrollsensor f√ºr InfluxDB, Grafana, Docker und Raspberry Pi</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449484/">  Haben Sie schon einmal daran gedacht, die Luftqualit√§t innerhalb oder au√üerhalb Ihres Hauses zu √ºberwachen: Wo leben und arbeiten Sie?  Dieses Projekt, das wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">balenaSense</a> getauft <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">haben</a> , ist eine Einheit zur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Messung von</a> Temperatur, Luftfeuchtigkeit, Luftdruck und Luftqualit√§t sowie ein Dashboard, auf das Sie von √ºberall aus zugreifen k√∂nnen, um zusammenfassende Statistiken <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">anzuzeigen</a> und Trends zu verfolgen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9ad/95d/d7a/9ad95dd7a878fefb4e5ea05732dba925.png"><br><a name="habracut"></a><br><h1>  Inhalt </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einf√ºhrung</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Notwendige Ausr√ºstung</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Software</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Montage der Ausr√ºstung</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Konfigurieren Sie Raspberry Pi</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Softwarebereitstellung</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dashboard anzeigen</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wie funktioniert es</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Was weiter?</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Letzte Gedanken</a> </li></ul><br><a name="1"></a><h1>  Einf√ºhrung </h1><br>  Um die Qualit√§t der Luft und der Wetterstation zu kontrollieren, sind viele Dr√§hte und verschiedene Sensoren erforderlich. Die Situation wurde jedoch einfacher, nachdem Sensoren aufgetaucht sind, die alle Messwerte auf einer guten kleinen Platine kombinieren, was einfach zu beginnen ist. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/462/14c/ff9/46214cff9e49ae84360e58fb5ebb4a4e.jpg"><br><br>  √úberlegen Sie, ob Sie Temperatur, Luftfeuchtigkeit, Luftdruck und Luftqualit√§t mit einem All-in-One-Sensor √ºberwachen m√∂chten, der ohne zus√§tzliche Komponenten direkt mit dem Raspberry Pi verbunden ist.  Sie ben√∂tigen keine Erfahrung in der Elektronik, aber ein L√∂tkolben w√§re willkommen (obwohl er auch optional ist).  Dieses Projekt implementiert eine Datenbank zum Speichern historischer Messwerte sowie eine grafische Oberfl√§che, um aktuelle Messwerte anzuzeigen und Trends sofort anzuzeigen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7d0/63e/8b2/7d063e8b2d6111ed55553a3b3e3c0a47.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ce0/600/884/ce06008843e25c57e8b0979bce73b6b6.png"><br><br><a name="2"></a><h1>  Notwendige Ausr√ºstung </h1><br>  Hier ist, was Sie f√ºr dieses Projekt kaufen m√ºssen.  Je nachdem, ob Sie einen L√∂tkolben verwenden m√∂chten oder nicht, w√§hlen wir eine Sensorplatine: Einige funktionieren sofort, andere erfordern ein wenig L√∂ten. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/005/300/15d/00530015dce4ec449e0477a8d7bc6d14.jpg"><br><br><h3>  Ich m√∂chte nicht l√∂ten </h3><br>  Wenn Sie nicht l√∂ten m√∂chten, ben√∂tigen Sie: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Raspberry Pi Zero WH</a> (2Bv1.2 / 3B / 3B + / 3A + passen auch) <br></li><li>  Micro-SD-Karte 8 GB (oder mehr), wir empfehlen Sandisk Extreme Pro SD-Karten <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Stromversorgung und Kabel</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pimoroni BME680 √úbergangsplatinensensor</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pimoroni Breakout Garden pHAT</a> </li></ul><br><h3>  Ich m√∂chte l√∂ten - gib mir! </h3><br>  Wenn Sie gerne einen L√∂tkolben in die Hand nehmen, ben√∂tigen Sie: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Raspberry Pi Zero W</a> (2Bv1.2 / 3B / 3B + / 3A + passen auch) <br></li><li>  Micro-SD-Karte 8 GB (oder mehr), wir empfehlen Sandisk Extreme Pro SD-Karten <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Stromversorgung und Kabel</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bosch BME680 Sensor mit Steigrohr</a> (siehe Alternativen unten) <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kabel anschlie√üen</a> </li></ul><br><h3>  Andere Sensoren </h3><br>  Wenn Sie bereits einen Sensor haben, unterst√ºtzt dieses Projekt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sense HAT</a> mit einem zus√§tzlichen Bonus: einem Smiley auf der LED-Matrix (nat√ºrlich abh√§ngig von der Luftqualit√§t)! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ede/763/1ad/ede7631adecd352c97c0675c3adcde95.png"><br><br>  Bosch BME680 mit Steigrohr kann bei verschiedenen Lieferanten zu unterschiedlichen Preisen bestellt werden. <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pimoroni BME680</a> ¬£ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">18.50</a> (es kann eine Version ohne L√∂ten mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ihrem pHAT geben</a> ) <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Adafruit BME680</a> US $ 22,50 <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sparkfun SparkX BME680</a> US $ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">19.95</a> (es kann eine Version ohne L√∂ten mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ihrem pHAT geben</a> ) <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Namenloser BME680</a> US $ 9.92 </li></ul><br>  <b>Hinweis</b>  In dem Artikel verwenden wir Pimoroni: Diese Karte hat den zus√§tzlichen Vorteil, dass die Kontakte in der richtigen Reihenfolge f√ºr den Raspberry Pi GPIO unterbrochen werden.  Wenn Sie andere Karten verwenden, m√ºssen Sie √ºberpr√ºfen, ob die Stromversorgungs-, Erdungs- und I2C-Bus-Pins (SDA und SCL) √ºbereinstimmen. Dies wird sp√§ter in diesem Handbuch erl√§utert. <br><br><a name="3"></a><h1>  Software </h1><br>  Wir haben das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Balena-Sense-</a> Projekt auf GitHub ge√∂ffnet, das die gesamte Software, Konfiguration und den Code enth√§lt, die Sie f√ºr ein funktionierendes System ben√∂tigen.  Wir werden dieses Projekt auf einem kostenlosen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">balenaCloud-</a> Konto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bereitstellen</a> , um die gesamte Software f√ºr den Raspberry Pi zu verteilen und den Fernzugriff bereitzustellen.  Daher ben√∂tigen Sie: <br><br><ul><li>  SD-Flash-Card- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Writer-Tool</a> wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">balenaEtcher</a> <br></li><li>  Kostenloser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">balenaCloud</a> Account <br></li><li>  Klonen oder laden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">unser Projekt von GitHub</a> herunter </li></ul><br><a name="4"></a><h1>  Montage der Ausr√ºstung </h1><br>  An der Hardware-Front dieses Projekts gibt es wenig Arbeit.  Unser Ziel ist es, die Sensorplatine mit dem GPIO-Pin des Raspberry Pi zu verbinden. <br><br>  Der BME680 kommuniziert mit dem Raspberry Pi √ºber einen Bus namens I2C (Eye-Squared-See), bei dem es sich um einen seriellen Bus mit zwei Dr√§hten handelt.  Diese beiden Dr√§hte werden als Synchronisationsleitung (SCK) und Datenleitung (SDA) bezeichnet.  Zus√§tzlich zu den beiden Dr√§hten muss der Sensor (3,3 V oder 3 V3) mit Strom versorgt und geerdet werden. <br><br>  Wenn Sie die Option w√§hlen, ohne von Pimoroni oder Sparkfun zu l√∂ten oder den Sense HAT zu verwenden, schlie√üen Sie einfach die gl√§nzenden neuen Komponenten an den Raspberry Pi an und alle Verbindungen werden f√ºr Sie hergestellt: Fahren Sie mit dem n√§chsten Schritt fort! <br><br>  Wenn Sie den Sensor mit Pimoroni oder einem anderen Riser direkt an den Raspberry Pi anschlie√üen m√∂chten, m√ºssen Sie vor allem sicherstellen, dass die oben beschriebenen Kontakte (SDA, SCK, 3V3 und GND) korrekt angeschlossen sind. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/55f/165/c76/55f165c76f33633d3539393b1472d2f5.png"></div><br><br>  Eine n√ºtzliche Seite f√ºr die Arbeit mit GPIO auf Raspberry Pi ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pinout.xyz</a> ;  Es zeigt deutlich, dass wir die Pins 1 (3V3-Leistung), 3 (SDA), 5 (SCL) und 9 (Masse) ben√∂tigen.  Ein 40-poliger GPIO ist Standard bei Pi 2 und h√∂her.  Wenn Sie eine Pimoroni-Karte verwenden, befinden sich die Kontakte in der richtigen Reihenfolge, um die Karten anzuschlie√üen.  Beachten Sie, wie die Beschriftung auf der Tafel mit dem Pinbelegungsdiagramm oben √ºbereinstimmt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ebb/832/900/ebb832900d72244bfc6038de82e9164a.jpg"><br><br>  Wenn Sie den Sensor jedoch auf diese Weise anschlie√üen, wirkt sich die W√§rme des Raspberry Pi-Prozessors auf die Messwerte aus.  Um genauere Messwerte zu erfassen, m√ºssen Sie den Sensor von der Platine entfernen: Verwenden Sie dazu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DuPont-</a> Mutter-zu-Mutter- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kabel</a> (oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Jumper Jerky-</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kabel)</a> , wie unten gezeigt: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4b6/5c1/45a/4b65c145a0bd694d5ca9e266d5771d1b.jpg"><br><br>  Wenn Sie einen anderen Sensor verwenden, bei dem die Pinbelegungsdiagramme nicht genau √ºbereinstimmen, k√∂nnen Sie diese Karten auf dieselbe Weise mit dem Pi verbinden.  Die Hauptsache ist, die Einhaltung von 3V3, SDA, SCL und GND sicherzustellen.  Wenn die Karte Kontakte f√ºr SDI, SDO, CS hat, k√∂nnen Sie diese ignorieren, da sie f√ºr eine alternative SPI-Schnittstelle verwendet werden, die wir in diesem Projekt nicht verwenden. <br><br>  Auf den obigen Fotos haben wir den Raspberry Pi 3A +, aber Pi Zero eignet sich auch als billigere L√∂sung. <br><br><a name="5"></a><h1>  Konfigurieren Sie Raspberry Pi </h1><br>  Wir werden die SD-Karte mit dem balenaOS-Betriebssystem flashen, eine Verbindung zur balenaCloud-Cloud herstellen, dort unser Ger√§t hinzuf√ºgen und das Projekt so konfigurieren, dass es sp√§ter problemlos aktualisiert werden kann. <br><br>  Zuerst m√ºssen Sie ein balenaCloud-Konto einrichten.  Dies bedeutet, sich zu registrieren, eine Anwendung hinzuzuf√ºgen und ein Ger√§t hinzuzuf√ºgen. <br><br><h3>  Schritt 1. Melden Sie sich bei balenaCloud an </h3><br>  Wenn Sie bereits ein GitHub- oder Google-Konto haben, k√∂nnen Sie sich damit anmelden, ohne den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Registrierungsprozess</a> durchlaufen zu m√ºssen. <br><br><h3>  Schritt 2. Erstellen der Anwendung </h3><br>  F√ºgen Sie die Anwendung hinzu, indem Sie den richtigen Ger√§tetyp und <code>Starter</code> als Anwendungstyp ausw√§hlen und dann auf <code>Create New Application</code> klicken.  Dieser Typ unterst√ºtzt alle Microservices und ist f√ºr bis zu zehn Ger√§te kostenlos. <br><br>  Als N√§chstes werden Sie zum Dashboard f√ºr die neu erstellte Anwendung weitergeleitet, wo Sie mit dem n√§chsten Schritt fortfahren und das Ger√§t hinzuf√ºgen k√∂nnen.  Sie k√∂nnen der Anwendung einen beliebigen Namen geben, den Sie jedoch sp√§ter im Handbuch ben√∂tigen, wenn wir den Code schreiben. <br><br><h3>  Schritt 3. F√ºgen Sie das Ger√§t hinzu und starten Sie das Betriebssystem </h3><br>  Nach dem Erstellen der Anwendung k√∂nnen Sie dieser Anwendung ein Ger√§t hinzuf√ºgen, indem Sie auf die gr√ºne Schaltfl√§che Ger√§t hinzuf√ºgen klicken.  Geben Sie beim Hinzuf√ºgen eines Ger√§ts den richtigen Ger√§tetyp an.  Wenn Sie eine Verbindung zu einem drahtlosen Netzwerk herstellen, k√∂nnen Sie Ihre WiFI-SSID und Ihre Passphrase festlegen. <br><br>  <b>Hinweis:</b> Raspberry Pi 3 wird in der Animation angezeigt. Vergessen Sie nicht, den richtigen Typ Ihres Ger√§ts auszuw√§hlen! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e74/09c/595/e7409c595001458580b80e39809973a6.gif"><br><br>  Dieser Prozess erstellt ein benutzerdefiniertes Image f√ºr die Anwendung und den Ger√§tetyp, das gegebenenfalls Netzwerkeinstellungen enth√§lt. <br><br>  <b>Hinweis:</b> F√ºr den Anfang ist es besser, ein Entwickler-Image auszuw√§hlen, um einige Tests durchzuf√ºhren und Fehler zu beheben.  Weitere Informationen zu den Unterschieden zwischen Entwicklungs- und Produktionsbildern finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> .  Wenn Sie sicher sind, dass Sie sofort mit der Bereitstellung eines Produktionsabbilds beginnen k√∂nnen, klicken Sie bitte. <br><br><h3>  Schritt 4. SD-Karte und Startger√§t aufnehmen </h3><br>  Wenn das Betriebssystem-Image geladen ist, ist es Zeit, die SD-Karte zu flashen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hierf√ºr</a> k√∂nnen Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">balenaEtcher verwenden</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a57/b06/e30/a57b06e30b246d399ee8f8ef47c3b03f.gif"><br><br>  Legen Sie nach Abschluss des Vorgangs die SD-Karte in den Raspberry Pi ein und schlie√üen Sie die Stromquelle an. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/845/649/28f/84564928f5f8fc0e7907089bc0818870.gif"><br><br>  Wenn das Ger√§t zum ersten Mal gestartet wird, stellt es eine Verbindung zum balenaCloud-Dashboard her. Anschlie√üend k√∂nnen Sie es in der Online-Liste anzeigen und mit dem n√§chsten Schritt fortfahren. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/740/785/d6c/740785d6c8aef63170470b81139a1a7b.png"><br><br>  <b>Fehlerbehebung: Das</b> Ger√§t sollte in wenigen Minuten auf dem Bedienfeld angezeigt werden.  Wenn es nicht angezeigt wird, ist ein Fehler aufgetreten.  Die Dokumentation enth√§lt eine ausf√ºhrliche <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anleitung zur Fehlerbehebung</a> mit zahlreichen Informationen dazu, warum dies passieren kann.  Wenn die Dokumentation nicht geholfen hat, wenden Sie sich bitte an die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Foren</a> . <br><br><a name="6"></a><h1>  Softwarebereitstellung </h1><br>  Wenn Ihr Raspberry Pi vorbereitet, heruntergeladen und mit balenaCloud verbunden ist, k√∂nnen Sie den Anwendungscode auf dem Ger√§t installieren. <br><br><h4>  Installieren Sie die Balena CLI-Tools auf einer Workstation </h4><br>  Mit BalenaCloud k√∂nnen Sie Anwendungssoftware / -code remote auf den Raspberry Pi und andere Ger√§te √ºbertragen.  Um dies zu erm√∂glichen, muss Ihre Workstation (nicht der Raspberry Pi) einige Mindestsoftwareanforderungen erf√ºllen.  <b>Hinweis:</b> Um dieses Projekt erfolgreich bereitzustellen, m√ºssen Sie keine Befehle auf dem Ger√§t selbst ausf√ºhren, weder √ºber SSH noch √ºber das balenaCloud-Dashboard.  Alles wird aus der Ferne erledigt! <br><br>  Wenn Sie bereits <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">npm</a> auf Ihrem Computer haben (oder konfigurieren k√∂nnen), ist dies der schnellste Weg, um CLI-Tools auszuf√ºhren.  Es gibt auch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bin√§rdateien f√ºr Windows, MacOS und Linux</a> .  <b>Hinweis:</b> Wenn Sie diese Tools bereits f√ºr unsere anderen Projekte installiert haben, k√∂nnen Sie diesen Teil √ºberspringen und direkt mit dem n√§chsten Schritt fortfahren. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Dokumentation zu den CLI-Tools</a> beschreibt die Installation und Konfiguration des npm-Pakets sowie die Bin√§rdateien. <br><br>  Wenn die CLI installiert ist und ausgef√ºhrt wird, m√ºssen Sie sich zun√§chst bei balenaCloud anmelden, indem Sie den Befehl <code>balena login</code> ausf√ºhren: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ebe/2dd/a9e/ebe2dda9e415ee46f57ec346b89e0360.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c8e/7ef/cda/c8e7efcda08bb42ef11aadfb231d5706.png"><br><br>  Wenn im Konto eine funktionierende CLI registriert ist, k√∂nnen Sie Programme auf dem Raspberry Pi installieren. <br><br><h4>  Ein Projekt von GitHub herunterladen </h4><br>  Der n√§chste Schritt ist das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Herunterladen des Codes f√ºr dieses Projekt von GitHub</a> . <br><br>  Die blaue Schaltfl√§che l√§dt die Projekt-Zip-Datei. Wenn Sie jedoch bereits mit Git vertraut sind, k√∂nnen Sie den <code>git clone</code> √ºbliche Weise verwenden. <br><br><h4>  Auf Raspberry Pi installieren </h4><br>  Da die CLI und der neueste Code installiert sind, k√∂nnen Sie diesen Code mit einem Befehl auf balenaCloud ausf√ºhren.  Dort wird das Docker-Image gesammelt und konfiguriert, das auf Ihrem Ger√§t ausgef√ºhrt wird. <br><br>  F√ºhren Sie nach dem Entpacken aus dem <code>balena push &lt;appName&gt;</code> , wobei appName der am Anfang des Handbuchs angegebene Anwendungsname ist.  Zum Beispiel <code>balena push balenaSense</code> . <br><br>  Wenn alles korrekt ausgef√ºhrt wurde, sollte nach einigen Minuten auf dem Informationsbildschirm Ihres Ger√§ts auf dem Bedienfeld die ausgef√ºhrten Dienste angezeigt werden, einer f√ºr jede der Softwarekomponenten. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/452/08c/652/45208c6529a5735789917e8ca2783b8b.png"><br><br>  Das erste Mal kann der Download einige Minuten dauern (abh√§ngig von der Geschwindigkeit Ihrer Internetverbindung), aber dann werden nur die √Ñnderungen im Container heruntergeladen, sodass alles viel schneller abl√§uft. <br><br>  <b>Hinweis:</b> Wenn die Anwendung zum ersten Mal gestartet wird (und Sie BME680 und nicht Sense HAT verwenden), f√ºhrt der Sensor etwa f√ºnf Minuten lang ein Einbrennen durch.  W√§hrend dieser Zeit werden die Messwerte <i>nicht</i> erfasst und in die Datenbank eingef√ºgt.  Die Anwendung zeichnet den Countdown auf, der im balenaCloud-Bereich angezeigt wird: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/607/cd8/809/607cd8809b0176d8cb5888f9ae766fc3.png"><br><br>  Wenn die Anzahl Null erreicht, wird die Meldung "Startschleife ..." angezeigt.  Danach werden die Messwerte alle 10 Sekunden erfasst und in die Datenbank eingef√ºgt. <br><br><a name="7"></a><h1>  Dashboard anzeigen </h1><br>  Ich hoffe, Sie haben das Ger√§t geflasht, mit dem Netzwerk verbunden und ohne Probleme gestartet.  Einer der gro√üen Vorteile der Verwendung eines kostenlosen balenaCloud-Kontos ist die <code>Public Device URL</code> Funktion f√ºr <code>Public Device URL</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/75e/0be/d3f/75e0bed3f3dccd7b2d43baa9a84b8134.png"><br><br>  Aktivieren Sie diesen Schalter und klicken Sie auf das blaue Pfeilsymbol, um auf das Dashboard zuzugreifen.  Sie k√∂nnen diesen Link freigeben oder auf Ihrem Telefon oder einem anderen Ger√§t mit einem Lesezeichen versehen.  W√§hrend das balenaSense-Ger√§t angeschlossen ist und funktioniert, k√∂nnen Sie von √ºberall auf das Dashboard schauen! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ce0/600/884/ce06008843e25c57e8b0979bce73b6b6.png"><br><br>  Wenn Sie den √∂ffentlichen Zugriff nicht aktivieren m√∂chten, k√∂nnen Sie das Dashboard weiterhin von Ihrem eigenen lokalen Netzwerk aus nach IP-Adresse anzeigen, wie im obigen Screenshot dargestellt.  Ihre wird anders sein, aber geben Sie einfach <code>http://&lt;ip-&gt;</code> in den Browser ein, und Sie erhalten weiterhin Zugriff auf das Dashboard, wenn Sie sich im selben Netzwerk wie das Ger√§t befinden.  Um beispielsweise auf mein Ger√§t zuzugreifen, w√ºrde ich <code>http://10.1.231.36</code> eingeben. <br><br>  Wenn Sie sich bei Grafana anmelden und mit den Einstellungen herumspielen m√∂chten, sind die Standardanmeldeinformationen <code>admin</code> und <code>admin</code> . <br><br><a name="8"></a><h1>  Wie funktioniert es </h1><br>  Dieses Projekt besteht aus drei Hauptkomponenten und drei Diensten.  Diese Namen befinden sich im balenaCloud-Dashboard: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">InfluxDB</a> - eine Datenbank zum Speichern von Sensorwerten <br></li><li>  Sensor - Python-Bibliothek und Code f√ºr den Zugriff auf den Sensor, das Ablesen und Speichern in der Datenbank <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Grafana</a> - wird verwendet, um ein Dashboard mit Grafiken und Berichten zu erstellen </li></ul><br>  Der BME680-Sensor von Bosch erkennt Temperatur, Luftfeuchtigkeit, Druck und Gasbest√§ndigkeit.  Temperatur-, Feuchtigkeits- und Drucksensoren funktionieren sofort, aber Gaswiderstandsmessungen allein sind nicht sehr n√ºtzlich.  Dies sind Indikatoren f√ºr √Ñnderungen der Luftzusammensetzung.  Wenn der Sensor startet, legt er die Basis fest und √ºberwacht dann die √Ñnderungen.  Indikative Indikatoren f√ºr die Luftqualit√§t sind in Prozent angegeben und ber√ºcksichtigen den Einfluss von Luftfeuchtigkeit und Gasbest√§ndigkeit. <br><br>  Wenn Sie den Sense HAT verwenden, f√ºr den kein Gaswiderstandssensor vorhanden ist, approximieren wir die Luftqualit√§tswerte basierend auf den Zieltemperatur- und Feuchtigkeitswerten. <br><br><a name="9"></a><h1>  Was weiter? </h1><br>  Ich hoffe, dass Sie das Projekt jetzt vollst√§ndig gestartet, Zugriff auf das Dashboard erhalten, Lesungen vorgenommen und mit dem Ausf√ºllen Ihrer Datenbank begonnen haben.  Erw√§hnen Sie einige wichtigere Dinge. <br><br><h3>  Passwort √§ndern </h3><br>  Wenn Sie das Ger√§t f√ºr den √∂ffentlichen Zugriff √∂ffnen, wird empfohlen, das Kennwort f√ºr Grafana zu √§ndern. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3f5/bb8/75e/3f5bb875e74b17bf2eff4447f1245212.png"><br><br>  Wir richten das System mit dem Benutzernamen und dem Standardkennwort <code>admin</code> <code>admin</code> .  Um sie zu √§ndern, melden Sie sich mit der Schaltfl√§che in der unteren linken Ecke des Bedienfelds bei Grafana an.  Sie werden beim ersten Anmelden aufgefordert, das Kennwort zu √§ndern. <br><br><h3>  Anpassung </h3><br>  Das Grafana-Programm f√ºr das Dashboard und die Berichte enth√§lt viele Konfigurationsparameter und -einstellungen.  Wir haben ein Basisfenster erstellt, das f√ºr jede der vier Messoptionen ein Diagramm und eine Grafik anzeigt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9ca/cab/417/9cacab417c06bb7568701a26bfa5f2b2.png"><br><br>  Sie k√∂nnen jedes Grafana-Bedienfeld anpassen, indem Sie den Mauszeiger √ºber den Titel bewegen und mit der Bearbeitung fortfahren.  Ich empfehle, mit den Einstellungen herumzuspielen. Die √Ñnderungen im Dashboard werden nicht automatisch gespeichert. Wenn Sie also einen Fehler machen, laden Sie die Seite einfach neu und alles kehrt in seine urspr√ºngliche Form zur√ºck.  Wenn Sie die √Ñnderungen speichern m√∂chten, klicken <i>Sie</i> oben in der Systemsteuerung auf <i>Speichern.</i> Alle Einstellungen werden auf Ihrem Ger√§t gespeichert. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b5b/036/336/b5b03633659cfdf57133ba45f598f94c.png"><br><br>  Sie k√∂nnen die Sensoren auch konfigurieren.  Zum Beispiel haben wir im Manometerdiagramm mehrere grundlegende Bereiche und Textwerte anstelle von Zahlen eingerichtet.  All dies √§ndert sich nach Ihrem Geschmack! <br><br><h3>  Geh√§use </h3><br>  Solche Sensoren eignen sich ideal f√ºr die Platzierung in einer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wetterkabine</a> , die die Sensoren vor Sonnenlicht und Strahlungsw√§rme sch√ºtzt.  Wenn Sie die Umgebung im Raum kontrollieren, ist dies nicht so wichtig. Wenn der Sensor jedoch im Freien installiert wird, sind seine Positionierung und sein Schutz wichtig, um genaue Messwerte zu erhalten. <br><br>  Wetterst√§nde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sind im Verkauf</a> , aber sie k√∂nnen ziemlich teuer sein. Erw√§gen Sie daher <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DIY-Optionen</a> . <br><br>  Thingiverse verf√ºgt √ºber mehrere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">BME680-Geb√§ude</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wetterst√§nde</a> . <br><br><a name="10"></a><h1>  Letzte Gedanken </h1><br>  Danke f√ºrs Lesen!  Wenn Sie sich entscheiden, eine eigene Wetterstation mit Luftqualit√§tskontrolle zu bauen, teilen Sie uns mit, wie alles gelaufen ist und welche Probleme aufgetreten sind.  Ideen f√ºr die Entwicklung unseres Projekts k√∂nnen in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Foren</a> zum Ausdruck gebracht werden. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de449484/">https://habr.com/ru/post/de449484/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de449468/index.html">Wie der "ethische Hack" des Herstellers von Gl√ºcksspielsoftware zu einem Albtraum wurde</a></li>
<li><a href="../de449472/index.html">Cataclysm Dark Days Ahead, statische Analyse und Bagels</a></li>
<li><a href="../de449476/index.html">Ein neuer SSD-Speichertyp reduziert den Stromverbrauch im Rechenzentrum - so funktioniert es</a></li>
<li><a href="../de449478/index.html">Hinzuf√ºgen von UICollectionViews zu einer benutzerdefinierten UITableViewCell, die √ºber Xib erfolgt</a></li>
<li><a href="../de449480/index.html">W√§hlen Sie die entsprechende Fehlerverfolgung</a></li>
<li><a href="../de449486/index.html">Massenexodus von Browsergames</a></li>
<li><a href="../de449488/index.html">Cataclysm Dark Days Ahead: Statische Analyse und Roguelike-Spiele</a></li>
<li><a href="../de449490/index.html">Slurm: Intensiv von Kubernetes. Programm und Boni</a></li>
<li><a href="../de449494/index.html">KI-Schnittstellen und wo sie leben</a></li>
<li><a href="../de449496/index.html">Hackathon DevDays'19 (Teil 2): ‚Äã‚ÄãAudio-Nachrichten-Parser f√ºr die Telegramm- und Grammatikpr√ºfung in IntelliJ IDEA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>