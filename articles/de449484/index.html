<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🍳 👌🏽 📥 Wir entwickeln einen Luftqualitätskontrollsensor für InfluxDB, Grafana, Docker und Raspberry Pi 💆 🥋 🌽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Haben Sie schon einmal daran gedacht, die Luftqualität innerhalb oder außerhalb Ihres Hauses zu überwachen: Wo leben und arbeiten Sie? Dieses Projekt,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Wir entwickeln einen Luftqualitätskontrollsensor für InfluxDB, Grafana, Docker und Raspberry Pi</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449484/">  Haben Sie schon einmal daran gedacht, die Luftqualität innerhalb oder außerhalb Ihres Hauses zu überwachen: Wo leben und arbeiten Sie?  Dieses Projekt, das wir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">balenaSense</a> getauft <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">haben</a> , ist eine Einheit zur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Messung von</a> Temperatur, Luftfeuchtigkeit, Luftdruck und Luftqualität sowie ein Dashboard, auf das Sie von überall aus zugreifen können, um zusammenfassende Statistiken <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">anzuzeigen</a> und Trends zu verfolgen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9ad/95d/d7a/9ad95dd7a878fefb4e5ea05732dba925.png"><br><a name="habracut"></a><br><h1>  Inhalt </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einführung</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Notwendige Ausrüstung</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Software</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Montage der Ausrüstung</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Konfigurieren Sie Raspberry Pi</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Softwarebereitstellung</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dashboard anzeigen</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wie funktioniert es</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Was weiter?</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Letzte Gedanken</a> </li></ul><br><a name="1"></a><h1>  Einführung </h1><br>  Um die Qualität der Luft und der Wetterstation zu kontrollieren, sind viele Drähte und verschiedene Sensoren erforderlich. Die Situation wurde jedoch einfacher, nachdem Sensoren aufgetaucht sind, die alle Messwerte auf einer guten kleinen Platine kombinieren, was einfach zu beginnen ist. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/462/14c/ff9/46214cff9e49ae84360e58fb5ebb4a4e.jpg"><br><br>  Überlegen Sie, ob Sie Temperatur, Luftfeuchtigkeit, Luftdruck und Luftqualität mit einem All-in-One-Sensor überwachen möchten, der ohne zusätzliche Komponenten direkt mit dem Raspberry Pi verbunden ist.  Sie benötigen keine Erfahrung in der Elektronik, aber ein Lötkolben wäre willkommen (obwohl er auch optional ist).  Dieses Projekt implementiert eine Datenbank zum Speichern historischer Messwerte sowie eine grafische Oberfläche, um aktuelle Messwerte anzuzeigen und Trends sofort anzuzeigen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7d0/63e/8b2/7d063e8b2d6111ed55553a3b3e3c0a47.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/ce0/600/884/ce06008843e25c57e8b0979bce73b6b6.png"><br><br><a name="2"></a><h1>  Notwendige Ausrüstung </h1><br>  Hier ist, was Sie für dieses Projekt kaufen müssen.  Je nachdem, ob Sie einen Lötkolben verwenden möchten oder nicht, wählen wir eine Sensorplatine: Einige funktionieren sofort, andere erfordern ein wenig Löten. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/005/300/15d/00530015dce4ec449e0477a8d7bc6d14.jpg"><br><br><h3>  Ich möchte nicht löten </h3><br>  Wenn Sie nicht löten möchten, benötigen Sie: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Raspberry Pi Zero WH</a> (2Bv1.2 / 3B / 3B + / 3A + passen auch) <br></li><li>  Micro-SD-Karte 8 GB (oder mehr), wir empfehlen Sandisk Extreme Pro SD-Karten <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Stromversorgung und Kabel</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pimoroni BME680 Übergangsplatinensensor</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pimoroni Breakout Garden pHAT</a> </li></ul><br><h3>  Ich möchte löten - gib mir! </h3><br>  Wenn Sie gerne einen Lötkolben in die Hand nehmen, benötigen Sie: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Raspberry Pi Zero W</a> (2Bv1.2 / 3B / 3B + / 3A + passen auch) <br></li><li>  Micro-SD-Karte 8 GB (oder mehr), wir empfehlen Sandisk Extreme Pro SD-Karten <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Stromversorgung und Kabel</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bosch BME680 Sensor mit Steigrohr</a> (siehe Alternativen unten) <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kabel anschließen</a> </li></ul><br><h3>  Andere Sensoren </h3><br>  Wenn Sie bereits einen Sensor haben, unterstützt dieses Projekt <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sense HAT</a> mit einem zusätzlichen Bonus: einem Smiley auf der LED-Matrix (natürlich abhängig von der Luftqualität)! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ede/763/1ad/ede7631adecd352c97c0675c3adcde95.png"><br><br>  Bosch BME680 mit Steigrohr kann bei verschiedenen Lieferanten zu unterschiedlichen Preisen bestellt werden. <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Pimoroni BME680</a> £ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">18.50</a> (es kann eine Version ohne Löten mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ihrem pHAT geben</a> ) <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Adafruit BME680</a> US $ 22,50 <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sparkfun SparkX BME680</a> US $ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">19.95</a> (es kann eine Version ohne Löten mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ihrem pHAT geben</a> ) <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Namenloser BME680</a> US $ 9.92 </li></ul><br>  <b>Hinweis</b>  In dem Artikel verwenden wir Pimoroni: Diese Karte hat den zusätzlichen Vorteil, dass die Kontakte in der richtigen Reihenfolge für den Raspberry Pi GPIO unterbrochen werden.  Wenn Sie andere Karten verwenden, müssen Sie überprüfen, ob die Stromversorgungs-, Erdungs- und I2C-Bus-Pins (SDA und SCL) übereinstimmen. Dies wird später in diesem Handbuch erläutert. <br><br><a name="3"></a><h1>  Software </h1><br>  Wir haben das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Balena-Sense-</a> Projekt auf GitHub geöffnet, das die gesamte Software, Konfiguration und den Code enthält, die Sie für ein funktionierendes System benötigen.  Wir werden dieses Projekt auf einem kostenlosen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">balenaCloud-</a> Konto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bereitstellen</a> , um die gesamte Software für den Raspberry Pi zu verteilen und den Fernzugriff bereitzustellen.  Daher benötigen Sie: <br><br><ul><li>  SD-Flash-Card- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Writer-Tool</a> wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">balenaEtcher</a> <br></li><li>  Kostenloser <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">balenaCloud</a> Account <br></li><li>  Klonen oder laden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">unser Projekt von GitHub</a> herunter </li></ul><br><a name="4"></a><h1>  Montage der Ausrüstung </h1><br>  An der Hardware-Front dieses Projekts gibt es wenig Arbeit.  Unser Ziel ist es, die Sensorplatine mit dem GPIO-Pin des Raspberry Pi zu verbinden. <br><br>  Der BME680 kommuniziert mit dem Raspberry Pi über einen Bus namens I2C (Eye-Squared-See), bei dem es sich um einen seriellen Bus mit zwei Drähten handelt.  Diese beiden Drähte werden als Synchronisationsleitung (SCK) und Datenleitung (SDA) bezeichnet.  Zusätzlich zu den beiden Drähten muss der Sensor (3,3 V oder 3 V3) mit Strom versorgt und geerdet werden. <br><br>  Wenn Sie die Option wählen, ohne von Pimoroni oder Sparkfun zu löten oder den Sense HAT zu verwenden, schließen Sie einfach die glänzenden neuen Komponenten an den Raspberry Pi an und alle Verbindungen werden für Sie hergestellt: Fahren Sie mit dem nächsten Schritt fort! <br><br>  Wenn Sie den Sensor mit Pimoroni oder einem anderen Riser direkt an den Raspberry Pi anschließen möchten, müssen Sie vor allem sicherstellen, dass die oben beschriebenen Kontakte (SDA, SCK, 3V3 und GND) korrekt angeschlossen sind. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/55f/165/c76/55f165c76f33633d3539393b1472d2f5.png"></div><br><br>  Eine nützliche Seite für die Arbeit mit GPIO auf Raspberry Pi ist <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">pinout.xyz</a> ;  Es zeigt deutlich, dass wir die Pins 1 (3V3-Leistung), 3 (SDA), 5 (SCL) und 9 (Masse) benötigen.  Ein 40-poliger GPIO ist Standard bei Pi 2 und höher.  Wenn Sie eine Pimoroni-Karte verwenden, befinden sich die Kontakte in der richtigen Reihenfolge, um die Karten anzuschließen.  Beachten Sie, wie die Beschriftung auf der Tafel mit dem Pinbelegungsdiagramm oben übereinstimmt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ebb/832/900/ebb832900d72244bfc6038de82e9164a.jpg"><br><br>  Wenn Sie den Sensor jedoch auf diese Weise anschließen, wirkt sich die Wärme des Raspberry Pi-Prozessors auf die Messwerte aus.  Um genauere Messwerte zu erfassen, müssen Sie den Sensor von der Platine entfernen: Verwenden Sie dazu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DuPont-</a> Mutter-zu-Mutter- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kabel</a> (oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Jumper Jerky-</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Kabel)</a> , wie unten gezeigt: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4b6/5c1/45a/4b65c145a0bd694d5ca9e266d5771d1b.jpg"><br><br>  Wenn Sie einen anderen Sensor verwenden, bei dem die Pinbelegungsdiagramme nicht genau übereinstimmen, können Sie diese Karten auf dieselbe Weise mit dem Pi verbinden.  Die Hauptsache ist, die Einhaltung von 3V3, SDA, SCL und GND sicherzustellen.  Wenn die Karte Kontakte für SDI, SDO, CS hat, können Sie diese ignorieren, da sie für eine alternative SPI-Schnittstelle verwendet werden, die wir in diesem Projekt nicht verwenden. <br><br>  Auf den obigen Fotos haben wir den Raspberry Pi 3A +, aber Pi Zero eignet sich auch als billigere Lösung. <br><br><a name="5"></a><h1>  Konfigurieren Sie Raspberry Pi </h1><br>  Wir werden die SD-Karte mit dem balenaOS-Betriebssystem flashen, eine Verbindung zur balenaCloud-Cloud herstellen, dort unser Gerät hinzufügen und das Projekt so konfigurieren, dass es später problemlos aktualisiert werden kann. <br><br>  Zuerst müssen Sie ein balenaCloud-Konto einrichten.  Dies bedeutet, sich zu registrieren, eine Anwendung hinzuzufügen und ein Gerät hinzuzufügen. <br><br><h3>  Schritt 1. Melden Sie sich bei balenaCloud an </h3><br>  Wenn Sie bereits ein GitHub- oder Google-Konto haben, können Sie sich damit anmelden, ohne den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Registrierungsprozess</a> durchlaufen zu müssen. <br><br><h3>  Schritt 2. Erstellen der Anwendung </h3><br>  Fügen Sie die Anwendung hinzu, indem Sie den richtigen Gerätetyp und <code>Starter</code> als Anwendungstyp auswählen und dann auf <code>Create New Application</code> klicken.  Dieser Typ unterstützt alle Microservices und ist für bis zu zehn Geräte kostenlos. <br><br>  Als Nächstes werden Sie zum Dashboard für die neu erstellte Anwendung weitergeleitet, wo Sie mit dem nächsten Schritt fortfahren und das Gerät hinzufügen können.  Sie können der Anwendung einen beliebigen Namen geben, den Sie jedoch später im Handbuch benötigen, wenn wir den Code schreiben. <br><br><h3>  Schritt 3. Fügen Sie das Gerät hinzu und starten Sie das Betriebssystem </h3><br>  Nach dem Erstellen der Anwendung können Sie dieser Anwendung ein Gerät hinzufügen, indem Sie auf die grüne Schaltfläche Gerät hinzufügen klicken.  Geben Sie beim Hinzufügen eines Geräts den richtigen Gerätetyp an.  Wenn Sie eine Verbindung zu einem drahtlosen Netzwerk herstellen, können Sie Ihre WiFI-SSID und Ihre Passphrase festlegen. <br><br>  <b>Hinweis:</b> Raspberry Pi 3 wird in der Animation angezeigt. Vergessen Sie nicht, den richtigen Typ Ihres Geräts auszuwählen! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e74/09c/595/e7409c595001458580b80e39809973a6.gif"><br><br>  Dieser Prozess erstellt ein benutzerdefiniertes Image für die Anwendung und den Gerätetyp, das gegebenenfalls Netzwerkeinstellungen enthält. <br><br>  <b>Hinweis:</b> Für den Anfang ist es besser, ein Entwickler-Image auszuwählen, um einige Tests durchzuführen und Fehler zu beheben.  Weitere Informationen zu den Unterschieden zwischen Entwicklungs- und Produktionsbildern finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> .  Wenn Sie sicher sind, dass Sie sofort mit der Bereitstellung eines Produktionsabbilds beginnen können, klicken Sie bitte. <br><br><h3>  Schritt 4. SD-Karte und Startgerät aufnehmen </h3><br>  Wenn das Betriebssystem-Image geladen ist, ist es Zeit, die SD-Karte zu flashen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hierfür</a> können Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">balenaEtcher verwenden</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a57/b06/e30/a57b06e30b246d399ee8f8ef47c3b03f.gif"><br><br>  Legen Sie nach Abschluss des Vorgangs die SD-Karte in den Raspberry Pi ein und schließen Sie die Stromquelle an. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/845/649/28f/84564928f5f8fc0e7907089bc0818870.gif"><br><br>  Wenn das Gerät zum ersten Mal gestartet wird, stellt es eine Verbindung zum balenaCloud-Dashboard her. Anschließend können Sie es in der Online-Liste anzeigen und mit dem nächsten Schritt fortfahren. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/740/785/d6c/740785d6c8aef63170470b81139a1a7b.png"><br><br>  <b>Fehlerbehebung: Das</b> Gerät sollte in wenigen Minuten auf dem Bedienfeld angezeigt werden.  Wenn es nicht angezeigt wird, ist ein Fehler aufgetreten.  Die Dokumentation enthält eine ausführliche <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anleitung zur Fehlerbehebung</a> mit zahlreichen Informationen dazu, warum dies passieren kann.  Wenn die Dokumentation nicht geholfen hat, wenden Sie sich bitte an die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Foren</a> . <br><br><a name="6"></a><h1>  Softwarebereitstellung </h1><br>  Wenn Ihr Raspberry Pi vorbereitet, heruntergeladen und mit balenaCloud verbunden ist, können Sie den Anwendungscode auf dem Gerät installieren. <br><br><h4>  Installieren Sie die Balena CLI-Tools auf einer Workstation </h4><br>  Mit BalenaCloud können Sie Anwendungssoftware / -code remote auf den Raspberry Pi und andere Geräte übertragen.  Um dies zu ermöglichen, muss Ihre Workstation (nicht der Raspberry Pi) einige Mindestsoftwareanforderungen erfüllen.  <b>Hinweis:</b> Um dieses Projekt erfolgreich bereitzustellen, müssen Sie keine Befehle auf dem Gerät selbst ausführen, weder über SSH noch über das balenaCloud-Dashboard.  Alles wird aus der Ferne erledigt! <br><br>  Wenn Sie bereits <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">npm</a> auf Ihrem Computer haben (oder konfigurieren können), ist dies der schnellste Weg, um CLI-Tools auszuführen.  Es gibt auch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Binärdateien für Windows, MacOS und Linux</a> .  <b>Hinweis:</b> Wenn Sie diese Tools bereits für unsere anderen Projekte installiert haben, können Sie diesen Teil überspringen und direkt mit dem nächsten Schritt fortfahren. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Dokumentation zu den CLI-Tools</a> beschreibt die Installation und Konfiguration des npm-Pakets sowie die Binärdateien. <br><br>  Wenn die CLI installiert ist und ausgeführt wird, müssen Sie sich zunächst bei balenaCloud anmelden, indem Sie den Befehl <code>balena login</code> ausführen: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ebe/2dd/a9e/ebe2dda9e415ee46f57ec346b89e0360.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c8e/7ef/cda/c8e7efcda08bb42ef11aadfb231d5706.png"><br><br>  Wenn im Konto eine funktionierende CLI registriert ist, können Sie Programme auf dem Raspberry Pi installieren. <br><br><h4>  Ein Projekt von GitHub herunterladen </h4><br>  Der nächste Schritt ist das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Herunterladen des Codes für dieses Projekt von GitHub</a> . <br><br>  Die blaue Schaltfläche lädt die Projekt-Zip-Datei. Wenn Sie jedoch bereits mit Git vertraut sind, können Sie den <code>git clone</code> übliche Weise verwenden. <br><br><h4>  Auf Raspberry Pi installieren </h4><br>  Da die CLI und der neueste Code installiert sind, können Sie diesen Code mit einem Befehl auf balenaCloud ausführen.  Dort wird das Docker-Image gesammelt und konfiguriert, das auf Ihrem Gerät ausgeführt wird. <br><br>  Führen Sie nach dem Entpacken aus dem <code>balena push &lt;appName&gt;</code> , wobei appName der am Anfang des Handbuchs angegebene Anwendungsname ist.  Zum Beispiel <code>balena push balenaSense</code> . <br><br>  Wenn alles korrekt ausgeführt wurde, sollte nach einigen Minuten auf dem Informationsbildschirm Ihres Geräts auf dem Bedienfeld die ausgeführten Dienste angezeigt werden, einer für jede der Softwarekomponenten. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/452/08c/652/45208c6529a5735789917e8ca2783b8b.png"><br><br>  Das erste Mal kann der Download einige Minuten dauern (abhängig von der Geschwindigkeit Ihrer Internetverbindung), aber dann werden nur die Änderungen im Container heruntergeladen, sodass alles viel schneller abläuft. <br><br>  <b>Hinweis:</b> Wenn die Anwendung zum ersten Mal gestartet wird (und Sie BME680 und nicht Sense HAT verwenden), führt der Sensor etwa fünf Minuten lang ein Einbrennen durch.  Während dieser Zeit werden die Messwerte <i>nicht</i> erfasst und in die Datenbank eingefügt.  Die Anwendung zeichnet den Countdown auf, der im balenaCloud-Bereich angezeigt wird: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/607/cd8/809/607cd8809b0176d8cb5888f9ae766fc3.png"><br><br>  Wenn die Anzahl Null erreicht, wird die Meldung "Startschleife ..." angezeigt.  Danach werden die Messwerte alle 10 Sekunden erfasst und in die Datenbank eingefügt. <br><br><a name="7"></a><h1>  Dashboard anzeigen </h1><br>  Ich hoffe, Sie haben das Gerät geflasht, mit dem Netzwerk verbunden und ohne Probleme gestartet.  Einer der großen Vorteile der Verwendung eines kostenlosen balenaCloud-Kontos ist die <code>Public Device URL</code> Funktion für <code>Public Device URL</code> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/75e/0be/d3f/75e0bed3f3dccd7b2d43baa9a84b8134.png"><br><br>  Aktivieren Sie diesen Schalter und klicken Sie auf das blaue Pfeilsymbol, um auf das Dashboard zuzugreifen.  Sie können diesen Link freigeben oder auf Ihrem Telefon oder einem anderen Gerät mit einem Lesezeichen versehen.  Während das balenaSense-Gerät angeschlossen ist und funktioniert, können Sie von überall auf das Dashboard schauen! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ce0/600/884/ce06008843e25c57e8b0979bce73b6b6.png"><br><br>  Wenn Sie den öffentlichen Zugriff nicht aktivieren möchten, können Sie das Dashboard weiterhin von Ihrem eigenen lokalen Netzwerk aus nach IP-Adresse anzeigen, wie im obigen Screenshot dargestellt.  Ihre wird anders sein, aber geben Sie einfach <code>http://&lt;ip-&gt;</code> in den Browser ein, und Sie erhalten weiterhin Zugriff auf das Dashboard, wenn Sie sich im selben Netzwerk wie das Gerät befinden.  Um beispielsweise auf mein Gerät zuzugreifen, würde ich <code>http://10.1.231.36</code> eingeben. <br><br>  Wenn Sie sich bei Grafana anmelden und mit den Einstellungen herumspielen möchten, sind die Standardanmeldeinformationen <code>admin</code> und <code>admin</code> . <br><br><a name="8"></a><h1>  Wie funktioniert es </h1><br>  Dieses Projekt besteht aus drei Hauptkomponenten und drei Diensten.  Diese Namen befinden sich im balenaCloud-Dashboard: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">InfluxDB</a> - eine Datenbank zum Speichern von Sensorwerten <br></li><li>  Sensor - Python-Bibliothek und Code für den Zugriff auf den Sensor, das Ablesen und Speichern in der Datenbank <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Grafana</a> - wird verwendet, um ein Dashboard mit Grafiken und Berichten zu erstellen </li></ul><br>  Der BME680-Sensor von Bosch erkennt Temperatur, Luftfeuchtigkeit, Druck und Gasbeständigkeit.  Temperatur-, Feuchtigkeits- und Drucksensoren funktionieren sofort, aber Gaswiderstandsmessungen allein sind nicht sehr nützlich.  Dies sind Indikatoren für Änderungen der Luftzusammensetzung.  Wenn der Sensor startet, legt er die Basis fest und überwacht dann die Änderungen.  Indikative Indikatoren für die Luftqualität sind in Prozent angegeben und berücksichtigen den Einfluss von Luftfeuchtigkeit und Gasbeständigkeit. <br><br>  Wenn Sie den Sense HAT verwenden, für den kein Gaswiderstandssensor vorhanden ist, approximieren wir die Luftqualitätswerte basierend auf den Zieltemperatur- und Feuchtigkeitswerten. <br><br><a name="9"></a><h1>  Was weiter? </h1><br>  Ich hoffe, dass Sie das Projekt jetzt vollständig gestartet, Zugriff auf das Dashboard erhalten, Lesungen vorgenommen und mit dem Ausfüllen Ihrer Datenbank begonnen haben.  Erwähnen Sie einige wichtigere Dinge. <br><br><h3>  Passwort ändern </h3><br>  Wenn Sie das Gerät für den öffentlichen Zugriff öffnen, wird empfohlen, das Kennwort für Grafana zu ändern. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3f5/bb8/75e/3f5bb875e74b17bf2eff4447f1245212.png"><br><br>  Wir richten das System mit dem Benutzernamen und dem Standardkennwort <code>admin</code> <code>admin</code> .  Um sie zu ändern, melden Sie sich mit der Schaltfläche in der unteren linken Ecke des Bedienfelds bei Grafana an.  Sie werden beim ersten Anmelden aufgefordert, das Kennwort zu ändern. <br><br><h3>  Anpassung </h3><br>  Das Grafana-Programm für das Dashboard und die Berichte enthält viele Konfigurationsparameter und -einstellungen.  Wir haben ein Basisfenster erstellt, das für jede der vier Messoptionen ein Diagramm und eine Grafik anzeigt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9ca/cab/417/9cacab417c06bb7568701a26bfa5f2b2.png"><br><br>  Sie können jedes Grafana-Bedienfeld anpassen, indem Sie den Mauszeiger über den Titel bewegen und mit der Bearbeitung fortfahren.  Ich empfehle, mit den Einstellungen herumzuspielen. Die Änderungen im Dashboard werden nicht automatisch gespeichert. Wenn Sie also einen Fehler machen, laden Sie die Seite einfach neu und alles kehrt in seine ursprüngliche Form zurück.  Wenn Sie die Änderungen speichern möchten, klicken <i>Sie</i> oben in der Systemsteuerung auf <i>Speichern.</i> Alle Einstellungen werden auf Ihrem Gerät gespeichert. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b5b/036/336/b5b03633659cfdf57133ba45f598f94c.png"><br><br>  Sie können die Sensoren auch konfigurieren.  Zum Beispiel haben wir im Manometerdiagramm mehrere grundlegende Bereiche und Textwerte anstelle von Zahlen eingerichtet.  All dies ändert sich nach Ihrem Geschmack! <br><br><h3>  Gehäuse </h3><br>  Solche Sensoren eignen sich ideal für die Platzierung in einer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wetterkabine</a> , die die Sensoren vor Sonnenlicht und Strahlungswärme schützt.  Wenn Sie die Umgebung im Raum kontrollieren, ist dies nicht so wichtig. Wenn der Sensor jedoch im Freien installiert wird, sind seine Positionierung und sein Schutz wichtig, um genaue Messwerte zu erhalten. <br><br>  Wetterstände <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">sind im Verkauf</a> , aber sie können ziemlich teuer sein. Erwägen Sie daher <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DIY-Optionen</a> . <br><br>  Thingiverse verfügt über mehrere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">BME680-Gebäude</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wetterstände</a> . <br><br><a name="10"></a><h1>  Letzte Gedanken </h1><br>  Danke fürs Lesen!  Wenn Sie sich entscheiden, eine eigene Wetterstation mit Luftqualitätskontrolle zu bauen, teilen Sie uns mit, wie alles gelaufen ist und welche Probleme aufgetreten sind.  Ideen für die Entwicklung unseres Projekts können in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Foren</a> zum Ausdruck gebracht werden. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de449484/">https://habr.com/ru/post/de449484/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de449468/index.html">Wie der "ethische Hack" des Herstellers von Glücksspielsoftware zu einem Albtraum wurde</a></li>
<li><a href="../de449472/index.html">Cataclysm Dark Days Ahead, statische Analyse und Bagels</a></li>
<li><a href="../de449476/index.html">Ein neuer SSD-Speichertyp reduziert den Stromverbrauch im Rechenzentrum - so funktioniert es</a></li>
<li><a href="../de449478/index.html">Hinzufügen von UICollectionViews zu einer benutzerdefinierten UITableViewCell, die über Xib erfolgt</a></li>
<li><a href="../de449480/index.html">Wählen Sie die entsprechende Fehlerverfolgung</a></li>
<li><a href="../de449486/index.html">Massenexodus von Browsergames</a></li>
<li><a href="../de449488/index.html">Cataclysm Dark Days Ahead: Statische Analyse und Roguelike-Spiele</a></li>
<li><a href="../de449490/index.html">Slurm: Intensiv von Kubernetes. Programm und Boni</a></li>
<li><a href="../de449494/index.html">KI-Schnittstellen und wo sie leben</a></li>
<li><a href="../de449496/index.html">Hackathon DevDays'19 (Teil 2): ​​Audio-Nachrichten-Parser für die Telegramm- und Grammatikprüfung in IntelliJ IDEA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>