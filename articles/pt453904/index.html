<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍💼 🏿 👎🏽 Livre-se de "vk.com/away.php" ou siga os links de uma pessoa saudável 👨🏽‍🤝‍👨🏼 🔔 👇🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ao clicar nos links publicados no Vkontakte, você notará que, como em outras redes sociais, ocorre primeiro uma transição para um link "seguro", após ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Livre-se de "vk.com/away.php" ou siga os links de uma pessoa saudável</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453904/">  Ao clicar nos links publicados no Vkontakte, você notará que, como em outras redes sociais, ocorre primeiro uma transição para um link "seguro", após o qual a rede social decide se deve deixar o usuário ir mais longe ou não.  A maioria das pessoas atentas notou uma aparição de meio segundo de "vk.com/away.php" na barra de endereços do navegador, mas, é claro, não deu importância a isso. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9e2/f48/5ce/9e2f485ce3968415c62fdd9a267ed67a.jpg"><br><a name="habracut"></a><br><h2>  Antecedentes </h2><br>  Certa vez, um certo programador, após concluir outro projeto, percebeu que estava obcecado com o desejo de contar a todos sobre isso.  O projeto foi hospedado em um servidor com um IP exclusivo, mas sem um nome de domínio.  Portanto, com pressa, criei um belo subdomínio de terceiro nível no domínio .ddns.net, que acabou sendo usado como um link. <br><br>  Depois de retornar à postagem depois de um tempo, o programador descobriu que, em vez do site, um stub VK é aberto, informando sobre a transição para um site não seguro: <br><br><img src="https://habrastorage.org/webt/tv/l0/rx/tvl0rxceeskzteni911xkp886-g.png"><br><br>  Parece que os próprios usuários inteligentes têm o direito de decidir em qual site devem acessar e quais não, mas o Vkontakte pensa de maneira diferente e não oferece nenhuma oportunidade de seguir o link sem muletas. <br><br><h2>  O que está errado </h2><br>  Esta implementação tem várias desvantagens significativas: <br><br><ul><li>  <b>A incapacidade de abrir um site suspeito.</b>  Como mencionado acima, o usuário não tem como superar o esboço.  A única maneira de abrir o link é copiá-lo e colá-lo na barra de endereços. </li><li>  <b>Retarda a velocidade de um link.</b>  A velocidade de redirecionamento depende do ping.  Consequentemente, com um grande ping, segundos preciosos da vida podem desaparecer, o que, como sabemos, não é permitido. </li><li>  <b>Monitoramento de Conversões.</b>  Esse método facilita a coleta de informações sobre ações do usuário, as quais, obviamente, usam VK, adicionando ao link seguro o ID da postagem a partir da qual a transição foi feita. </li></ul><br><h2>  Django grátis </h2><br>  A melhor solução para todos os problemas acima pode ser uma extensão do navegador.  Por razões óbvias, a escolha fica no Chrome.  Em um habr, há um excelente <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo, um</a> artigo dedicado a escrever extensões para o Chrome. <br><br>  Para criar essa extensão, precisamos criar dois arquivos em uma pasta separada: json-Manifest e um arquivo JavaScript para monitorar o URL atual do endereço. <br><br><h4>  Criar arquivo de manifesto </h4><br>  O principal que precisamos é conceder permissão à extensão para trabalhar com guias e atribuir um script executável: <br><br><pre><code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"manifest_version"</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"Run Away From vk.com/away"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"background"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: [<span class="hljs-string"><span class="hljs-string">"background.js"</span></span>] }, <span class="hljs-attr"><span class="hljs-attr">"permissions"</span></span>: [<span class="hljs-string"><span class="hljs-string">"tabs"</span></span>], <span class="hljs-attr"><span class="hljs-attr">"browser_action"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"default_title"</span></span>: <span class="hljs-string"><span class="hljs-string">"Run Away From vk.com/away"</span></span> } }</code> </pre> <br><h4>  Criar arquivo js </h4><br>  Tudo é simples aqui: no caso de ser chamado ao criar uma nova guia, adicionamos uma verificação do endereço da URL, se ele começar com " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vk.com/away.php</a> ", substituí-lo pelo correto que está na solicitação GET: <br><br><pre> <code class="javascript hljs">chrome.tabs.onCreated.addListener( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">tabId, changeInfo, tab</span></span></span><span class="hljs-function">) </span></span>{ chrome.tabs.query({<span class="hljs-string"><span class="hljs-string">'active'</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">'lastFocusedWindow'</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>}, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">tabs</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> url = tabs[<span class="hljs-number"><span class="hljs-number">0</span></span>].url; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (url.substr(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">23</span></span>) == <span class="hljs-string"><span class="hljs-string">"https://vk.com/away.php"</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> last = url.indexOf(<span class="hljs-string"><span class="hljs-string">"&amp;"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(last == <span class="hljs-number"><span class="hljs-number">-1</span></span>)last = <span class="hljs-number"><span class="hljs-number">1000</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> url = <span class="hljs-built_in"><span class="hljs-built_in">decodeURIComponent</span></span>(url.substr(<span class="hljs-number"><span class="hljs-number">27</span></span>, last<span class="hljs-number"><span class="hljs-number">-27</span></span>)); chrome.tabs.update({<span class="hljs-attr"><span class="hljs-attr">url</span></span>: url}); } }); });</code> </pre><br><h4>  Colocando a extensão </h4><br>  Depois de verificar se os dois arquivos estão na mesma pasta, abra o Chrome, selecione a guia da extensão e clique em "Baixar extensão descompactada".  Na janela que se abre, selecione a pasta escrita avançada e clique em coletar.  Feito!  Agora todos os links como vk.com/away são substituídos pelos originais. <br><br><h2>  Em vez de uma conclusão </h2><br>  É claro que esse tipo de stub salvou muitas pessoas de milhões de sites fraudulentos; no entanto, acredito que as próprias pessoas têm o direito de decidir se desejam ou não acessar um link não seguro. <br>  Por conveniência, postei o projeto no <a href="">github</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt453904/">https://habr.com/ru/post/pt453904/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt453884/index.html">Substituição da câmera HYIP ou DSLR?</a></li>
<li><a href="../pt453886/index.html">Trabalhos do programa</a></li>
<li><a href="../pt453888/index.html">Aprendizado de máquina em alta velocidade: manutenção preditiva de quatro meses</a></li>
<li><a href="../pt453890/index.html">Sonhos soviéticos do futuro</a></li>
<li><a href="../pt453892/index.html">Certificação ISTQB. Parte 2: Como se preparar para a certificação ISTQB? Histórias de prática</a></li>
<li><a href="../pt453906/index.html">O que é um "Modelo de Domínio"?</a></li>
<li><a href="../pt453908/index.html">RTOS Neutrino em computadores industriais</a></li>
<li><a href="../pt453914/index.html">Instruções de instalação do cliente de teste TON</a></li>
<li><a href="../pt453916/index.html">Como se proteger de golpistas móveis</a></li>
<li><a href="../pt453920/index.html">Como assumir o controle de sua infraestrutura de rede. Capítulo Quatro Automação Templates</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>