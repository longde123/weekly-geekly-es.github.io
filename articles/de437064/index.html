<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòó üë©üèª‚Äçüöí üê§ Gomokus Gewinnstrategie - 35 Z√ºge üëÇüèª üïì ü§∑üèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wenn Schwarz nach den Standardregeln von Gomoku spielt, ben√∂tigt es nicht mehr als 35 Z√ºge, um zu gewinnen. Der Artikel pr√§sentiert Ihrer Aufmerksamke...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Gomokus Gewinnstrategie - 35 Z√ºge</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/437064/">  Wenn Schwarz nach den Standardregeln von Gomoku spielt, ben√∂tigt es nicht mehr als <b>35</b> Z√ºge, um zu gewinnen.  Der Artikel pr√§sentiert Ihrer Aufmerksamkeit eine vollst√§ndige Gewinnstrategie und den entsprechenden Algorithmus des Spiels. <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/mq/os/dd/mqosddugiqv8zt2yt2-1nb8kqgk.png"></a> <br>  Demonstration der vollst√§ndigen L√∂sung - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> k√∂nnen Sie spielen und die l√§ngsten Optionen finden.  Das Programm gewinnt immer und gibt nicht mehr als 35 Z√ºge daf√ºr aus.  Der Quellcode der Anwendung, die L√∂sung selbst und Beispiele von Parteien am Ende des Artikels. <br><a name="habracut"></a><br>  Ich werde nicht auf die Regeln und Taktiken des Spiels eingehen.  Das Thema wurde <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> ausf√ºhrlich auf habr sowie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier auf</a> Entscheidungsalgorithmen eingegangen. <br><br><h3>  Kleiner Exkurs </h3><br>  Vor der √Ñra der Smartphones war Tic-Tac-Toe ‚Äûf√ºnf in einer Reihe‚Äú (Gomoku, Renju) einer der beliebtesten M√∂rder der Zeit im Schulunterricht.  Kombinationen zu ber√ºcksichtigen war interessanter als die Entwicklung der nordafrikanischen Volkswirtschaft oder die Klassifizierung von Kleeblumen. <br><br>  Im Herbst 1985 wurden M√§dchen aus unserer 10. Klasse aus einer Matheklasse genommen.  Wir, die verbleibenden sechs Kinder, hatten h√∂chstwahrscheinlich eine informelle Kommunikation mit einem Mathematiklehrer √ºber abstrakte Themen.  Der Lehrer betrat schweigend das Klassenzimmer, verteilte Flugbl√§tter an alle in einer Schachtel und begann, die Namen der Anwesenden an die Tafel zu schreiben.  Wir waren depressiv, selbst√§ndig oder es war eine Blitzumfrage geplant.  Aber die Liste auf dem Brett wurde zu einer Rangliste und wir wurden √ºber die Regeln der Meisterschaft informiert.  Jeweils mit jeder Serie von f√ºnf Parteien.  Preis an den Gewinner - f√ºnf an das Magazin.  Nach den Ergebnissen des Turniers hatte ich das Gl√ºck zu gewinnen, aber das Spiel endete nicht dort.  Der Lehrer versprach, allen Jungs f√ºnf zu geben, wenn der Gewinner alle f√ºnf Spiele der Serie hintereinander gewinnt.  Das Recht des ersten Zuges wird dem Gewinner einger√§umt.  Entgegen der Behauptung unseres Lehrers, dass man unter solchen Bedingungen mit dem richtigen Spiel 10, 100 oder eine beliebige Anzahl von Spielen hintereinander gewinnen kann, schien mir der Sieg ein unglaubliches Gl√ºck zu sein. <br><br>  Neun Jahre sp√§ter, 1994, gab Dr. Lewis Victor Allis in einem Artikel von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Go-Moku und Threat-Space Search</a> Hinweise auf diese Hypothese.  Der Autor hat seine Gewinnstrategie nicht ver√∂ffentlicht, wodurch er den Beweis √ºberpr√ºfen kann.  In seinem 1996 erschienenen Buch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Searching for Solutions in Games and Artificial Intelligence</a> wurde jedoch eine allgemeine Beschreibung der Algorithmen gegeben.  Abschlie√üend erw√§hnen wir separat das Verfahren zur √úberpr√ºfung der Vollst√§ndigkeit einer Gewinnstrategie, das auf der Richtigkeit der Implementierung des Suchalgorithmus f√ºr die "Sequenz von Bedrohungen" und der Analyse der Gegenspieloptionen des Gegners beruht. <br><br>  Die im Artikel und im Buch angegebenen L√∂sungsbeispiele mit den ‚Äûrichtigen Z√ºgen‚Äú der Gegner, die Teil einer Gewinnstrategie sind, zeigen die Schw√§che des verwendeten Algorithmus. <br><img src="https://habrastorage.org/webt/uo/lv/qt/uolvqtblhcjmkkkgd61s5f7u1ei.png"><br>  Zum Beispiel in der Abbildung die Programml√∂sung f√ºr die Standard-Gomoku-Regeln.  Wenn Schwarz mit j10 und dann mit j8 als Antwort auf den 10. Zug g9 von Wei√ü antwortet, endet das Spiel mit 29 statt 45. Z√ºgen. Dann hat das Programm die Kombination der ‚ÄûBedrohungssequenz‚Äú von Schwarz in 17 Z√ºgen nach dem 16. und nach 26 Z√ºgen zweimal ‚Äûnicht bemerkt‚Äú. Wei√ü bewegt sich.  Und am Ende, wenn Wei√ü den 36. Zug f12 anstelle von j12 macht, wird er mindestens bis zum 49. Zug durchhalten.  Fairerweise muss gesagt werden, dass in diesem Beispiel alle Z√ºge von Schwarz Wei√ü keine Chance lassen, das Spiel zu seinen Gunsten zu beenden. <br><br>  Im Internet fand ich mehrere Hinweise auf √§hnliche Arbeiten, die nach einer erfolgreichen Strategie suchten.  Die Frage nach der Optimalit√§t der gefundenen L√∂sungen bleibt ungel√∂st.  Was ist die Mindestanzahl an Z√ºgen, die Schwarz ben√∂tigt, um zu gewinnen? <br><br>  Nachdem er 33 Jahre nach der denkw√ºrdigen Schulmeisterschaft ein wenig Freizeit, moderne Computerressourcen und die Hobbys der Kinder gew√ºrdigt hatte, stellte er sich die Aufgabe, die optimale Gewinnstrategie f√ºr Schwarz in Gomoku zu finden. <br><br><h3>  Digitalisieren Sie die Position auf der Tafel </h3><br>  Das Aufnehmen eines Teils ist ziemlich primitiv.  Es gibt nur 225 Zellen auf dem Feld.  Dementsprechend wird jede Zelle mit 1 Byte codiert.  Um einen Stapel von 35 Z√ºgen aufzuzeichnen, sind nur 35 Bytes erforderlich.  Eine solche Aufzeichnung ist jedoch aus zwei Gr√ºnden f√ºr die Positionsbewertung schlecht geeignet: Dieselbe Position kann in einer anderen Abfolge von Bewegungen erhalten werden, und symmetrische Positionen werden nicht ber√ºcksichtigt. <br><br>  Das Erreichen des Ziels des Spiels - f√ºnf Steine ‚Äã‚Äãhintereinander zu bauen - kann in einer von vier Richtungen ausgef√ºhrt werden: vertikal, horizontal und zwei Diagonalen.  Somit k√∂nnen wir jede Position als eine Reihe von Linien darstellen.  Horizontale und vertikale Linien mit einer L√§nge von 15 Zellen und diagonale Linien mit einer L√§nge von 1 bis 15 Zellen.  Jede Bewegung √§ndert den Wert von 4 Zeilen gleichzeitig in verschiedene Richtungen. <br><br>  Die Aufgabe der Bewertung einer Position besteht darin, alle signifikanten Zahlen f√ºr jede Linie zu bestimmen.  Der Einfachheit halber beschreiben wir jede Zelle der Leitung mit 2 Bits.  Das erste Bit ist voll, wenn ein wei√üer Stein installiert ist, das zweite Bit ist ein schwarzer Stein.  Jede Zeile enth√§lt nicht mehr als 15 Zellen und ist in eine 32-Bit-Ganzzahl codiert.  Somit wird die Suche nach Formen auf einer Linie darauf reduziert, den numerischen Wert der Linie durch ein Schiebefenster mit dem Bitmuster der Form zu vergleichen. <br><br><img src="https://habrastorage.org/webt/vc/ch/8l/vcch8l0smdyw4ay3ugehpszc-ba.png"><br><br>  In dem in der Abbildung gezeigten Beispiel wird die Position durch 26 Zeilen beschrieben.  Dementsprechend wird es mit 104 Bytes codiert, w√§hrend ein regul√§rer Batch-Datensatz nur 17 Bytes ben√∂tigt. <br>  Es ist leicht zu erraten, dass alle Symmetrien - Drehungen und Spiegelbilder - durch einfaches √Ñndern der Anzahl (Mischen) und der Richtung der Linien erhalten werden.  Um eine Position zu identifizieren und Sammlungen schnell zu durchsuchen, implementiert dieses Prinzip eine 32-Bit-Hash-Funktion, die nur f√ºr asymmetrische Positionen unterschiedliche Werte liefert. <br><br>  Die Verwendung von Symmetrien reduziert die Anzahl der ber√ºcksichtigten Positionen erheblich.  Beispielsweise wird die Anzahl der Optionen f√ºr den zweiten Zug von 224 auf 35 reduziert. <br><br>  Bei der Suche nach L√∂sungen und Kombinationen (dies wird unten erl√§utert) bilden die berechneten Positionen die Eckpunkte des Mehrschichtdiagramms.  Die Eckpunkte werden entsprechend der Anzahl der gef√ºllten Zellen in Schichten gruppiert.  Die Bewegungen bilden die Kanten des Diagramms und verbinden die Eckpunkte benachbarter Ebenen.  Wenn erfolglose Verschiebungen w√§hrend der Suche verworfen werden, werden die Kanten gel√∂scht und einige der Scheitelpunkte verlieren ihre Verbindung zum Hauptzweig.  Daher wird nach den Berechnungsschritten die Speicherbereinigung (oder die Neuerstellung des Diagramms von oben) durchgef√ºhrt. <br><br>  W√§hrend des Entwicklungsprozesses wurden mehrere Codierungsalgorithmen ber√ºcksichtigt, aber der oben beschriebene zeigte die h√∂chste Rate der Positionssch√§tzung. <br><br><h3>  Position bewerten </h3><br>  Ein wichtiger Faktor f√ºr die Bewertung einer Position ist, wie wichtig die Gegner die signifikanten Teile gebaut haben. <br><br>  <b>F√ºnf</b> - wenn solch ein St√ºck auf dem Brett gefunden wird, ist das Spiel vorbei.  F√ºr Standardregeln, keine Sechser, Siebener usw., geben Sie Gomoku einen Preis.  Daher erfordern die f√ºnf, wie √ºbrigens alle anderen Figuren, das Fehlen ihrer Steine ‚Äã‚Äãauf benachbarten Zellen in einer Linie. <br><br><img src="https://habrastorage.org/webt/jv/i7/oc/jvi7ochyhbqf2t4uor23yuvvdre.png"><br><br>  <b>Die offenen vier</b> - die L√§nge von 6 Zellen, die mittleren vier sind von gleichfarbigen Steinen besetzt, die √§u√üeren sind notwendigerweise leer.  Nun, bei f√ºnf fehlen ihre Steine ‚Äã‚Äãin benachbarten Zellen.  Eine sehr starke Figur bedeutet, auch bei einem anderen Zug zu gewinnen. <br><br><img src="https://habrastorage.org/webt/hl/ax/bt/hlaxbtehdktbb-qyxh9a2a_r1fw.png"><br><br>  <b>Vier</b> - die L√§nge von 5 Zellen, eine (beliebige) der f√ºnf Zellen ist frei.  Gibt einen Gewinn f√ºr sich.  Es schafft eine Bedrohung und zwingt den Gegner, sich in einer freien Zelle zu bewegen, wenn er seine vier nicht hat.  Gibt 5 Punkte in der Bewertung der Position w√§hrend der Verteidigung. <br><br><img src="https://habrastorage.org/webt/ri/qc/i4/riqci4ib69yx4vfonbygsfnmnbk.png"><br><br><img src="https://habrastorage.org/webt/vo/ji/6c/voji6cdt_-w09yfrav9xlnh4utq.png"><br><br>  <b>Ein offenes Tripel</b> - die L√§nge von 6 oder 7 Zellen, die √§u√üersten Zellen sind notwendigerweise frei.  Bei 6 Zellen sind drei der vier mittleren mit Steinen gleicher Farbe besetzt, einer frei.  F√ºr 7 Zellen - drei mittlere sind mit gleichfarbigen Steinen besetzt.  Eine Figur wiederum wird zu einer offenen Vier, wenn der Gegner keine Vier oder eine offene Drei hat.  Wenn jemand anderes sich bewegt, entsteht eine Bedrohung und der Gegner wird gezwungen, die drei zu schlie√üen oder seine vier als Antwort zu setzen.  Das Triple der 6. Zelle hat 1 Hebe- und 3 Schlie√übewegungen.  Das Triple der 7. Zelle hat 2 Erh√∂hungsbewegungen und nur 2 Schlie√übewegungen.  Gibt 2 bis 4 Punkte in der Positionsbewertung. <br><br><img src="https://habrastorage.org/webt/nq/p2/uy/nqp2uy_g732dvaw80jne7l2diss.png"><br><br><img src="https://habrastorage.org/webt/cv/x4/sn/cvx4sne2smh9dasu1va_zwn9x_m.png"><br><br><img src="https://habrastorage.org/webt/35/bt/vd/35btvdffg5chcb3x27pc0qwaa1g.png"><br><br>  <b>Ein Tripel</b> oder ein geschlossenes Tripel ist eine L√§nge von 5 Zellen, von denen drei von Steinen derselben Farbe besetzt sind.  Die drei an ihrem Zug k√∂nnen in eine vier verwandelt werden und werden f√ºr Angriff und Verteidigung verwendet, wodurch eine Bedrohung entsteht, die mehr als eine offene Drei des Gegners ist.  Gibt 1 Punkt in der Positionsbewertung. <br><br><img src="https://habrastorage.org/webt/xm/cm/0b/xmcm0burpfuvl61yr4dibp3lyhc.png"><br><br><img src="https://habrastorage.org/webt/2q/ia/jm/2qiajmlw_jdqml6ppuh6btmw94y.png"><br><br><img src="https://habrastorage.org/webt/fv/dx/az/fvdxazstgmbxazow3sr9vszxa6u.png"><br><br>  <b>Eine offene</b> (perspektivische) <b>Zwei</b> - 6 bis 7 Zellen lang.  Beim Angriff wird es in eine offene Drei umgewandelt.  Gibt 1 oder 2 Punkte in der Positionsbewertung. <br><br><img src="https://habrastorage.org/webt/wg/pa/pa/wgpapauepfjwkfhomfe7qxrxtge.png"><br><br><img src="https://habrastorage.org/webt/ql/fc/fn/qlfcfn038u9fywlic9_gze90fam.png"><br><br><img src="https://habrastorage.org/webt/dx/bc/up/dxbcupckdzf3grkswynvstgwgb8.png"><br><br>  <b>Ein Plug</b> ist gleichzeitig zwei oder mehr Bedrohungen, die nicht auf einmal geschlossen werden k√∂nnen.  Es gibt 3x3 Gabeln (zwei offene Dreifachgabeln), 3x4 Gabeln (offene Dreier und Vierer) und 4x4 Gabeln (zwei offene Vierer). Gabeln geben einen Gewinn, wenn der Gegner keine gr√∂√üere Bedrohung hat - eine Vier oder eine offene Drei f√ºr eine 3x3 Gabel oder der Gegner kann die Gabel nicht nacheinander schlie√üen. gro√üe Bedrohungen schaffen - eine Folge von Vieren f√ºr eine 3x3-Gabel. <br><br><img src="https://habrastorage.org/webt/0_/pv/36/0_pv36msyig6kkitovoqfhqiup0.png"><br><br><img src="https://habrastorage.org/webt/zy/r3/by/zyr3byoch5yqsofw_s_kpot1hpq.png"><br><br><img src="https://habrastorage.org/webt/kk/cj/if/kkcjif1kqjf-yad-ghyjak2syzs.png"><br><br><img src="https://habrastorage.org/webt/yl/m3/iq/ylm3iqinyhrfpd1ruifnap8clqq.png"><br><br>  <b>Kombination</b> - eine kontinuierliche Abfolge von Bedrohungen und Abwehrmechanismen gegen gr√∂√üere Bedrohungen des Gegners, die zu einem positiven Ergebnis f√ºr den Spieler f√ºhren.  Kombinationen greifen an (oder gewinnen) und sind defensiv. <br><br>  Die Angriffs- oder Gewinnkombination ist erfolgreich, wenn bei Verteidigungs- oder Angriffsbewegungen des Gegners Antwortbewegungen gefunden wurden, die zu einem Sieg f√ºhrten.  Die Angriffskombination endet mit der Installation eines Steckers, den der Gegner nicht schlie√üen kann. <br><br>  Die Verteidigungskombination ist im Gegenteil erfolgreich, wenn der Gegner keine Bedrohungen mehr erzeugt oder die Grenze der zu berechnenden Z√ºge √ºberschritten wird.  Eine Verteidigungskombination besteht aus Verteidigungsbewegungen oder einer gr√∂√üeren Bedrohung f√ºr den Gegner. <br><br>  Bei der Bewertung einer Position wird nach einer Gewinnkombination gesucht.  Bei Erfolg haben wir gewonnen.  Andernfalls ist der Staat neutral, wenn keine Bedrohung durch den Gegner vorliegt.  Wenn der Gegner droht, suchen wir nach einer defensiven Kombination.  Wenn erfolgreich, ist der Staat neutral, wenn er versagt, verlieren wir. <br><br>  Da die Anzahl der Optionen f√ºr Angriffe und erzwungene Vergeltungsma√ünahmen sehr begrenzt ist, ist es zul√§ssig, nach Kombinationen mit einer ausreichend gro√üen Tiefe zu suchen.  W√§hrend der anf√§nglichen Konstruktion der optimalen Strategie wurde die zul√§ssige Tiefe der Suche nach Kombinationen √ºber 25 Z√ºge festgelegt.  Bei der Neuberechnung der L√∂sung zur Implementierung des Positionssch√§tzungsalgorithmus in Javascript wurde die zul√§ssige Suchtiefe auf 17 Z√ºge reduziert. <br>  Bei der Berechnung der optimalen Strategie wurde die Suchtiefe der Gewinnkombination von oben zus√§tzlich durch die maximale Zielanzahl von Z√ºgen begrenzt. <br><br><h3>  Wir suchen nach einer L√∂sung </h3><br>  Also bewerteten wir die angegebene Position als neutral und w√§hlten den n√§chsten Schritt.  Unser Verhalten in diesem Fall h√§ngt davon ab, ob wir die angreifende oder die verteidigende Seite sind.  F√ºr die angreifende Seite ist die vollst√§ndige L√∂sung eine Folge von Z√ºgen, bei denen f√ºr den R√ºckzug eines Gegners die Position als gewinnend bewertet wird (eine Gewinnkombination wird gefunden) oder die L√∂sung den n√§chsten eigenen Zug enth√§lt.  Es ist erw√§hnenswert, dass zur Berechnung der optimalen Strategie die angreifende Seite immer schwarz und die verteidigende Seite wei√ü ist. <br><br>  Die angreifende Seite muss nur einen Zug finden, was zum schnellsten Sieg f√ºhrt.  Unter den Bedingungen eines Mangels an Ressourcen begrenzt der Angreifer die Anzahl der Optionen f√ºr das Busting k√ºnstlich. Ich untersuche zun√§chst die Bewegungen, die zu der Position mit der h√∂chsten Bewertungspunktzahl f√ºhren.  Nachdem L√∂sungen gefunden wurden, erweitert der Angreifer in Richtung der l√§ngsten L√∂sung den Bereich der Optionen und erkundet Positionen mit weniger Nennwerten, um die L√§nge der L√∂sung zu verringern. <br><br>  Es reicht f√ºr die verteidigende Seite aus, einen einzigen Zug zu finden, der nicht zum Sieg des Gegners in der vorgegebenen Anzahl von Z√ºgen f√ºhrt.  Alle freien Zellen k√∂nnen zur Aufz√§hlung verwendet werden. <br>  Um die Anzahl der zu sortierenden Z√ºge zu verringern, verwenden wir den Algorithmus "√úberspringen".  Wir √ºberspringen die Defensive und suchen nach einer gewinnbringenden Angriffskombination.  Bei Erfolg k√∂nnen m√∂gliche Verteidigungsbewegungen auf Bewegungen beschr√§nkt sein, die den Erfolg der gefundenen Kombination beeinflussen.  Im Durchschnitt k√∂nnen Sie bei jedem Schritt den Suchbereich um das 4-6-fache reduzieren.  Bitte beachten Sie, dass es unter den ignorierten Z√ºgen m√∂glicherweise l√§ngere Zweige der L√∂sung gibt.  Um nach optimalen L√∂sungen zu suchen, wird der "√úberspringen" -Algorithmus daher nur bei der anf√§nglichen Suche verwendet. <br><br><h3>  Wir berechnen die Strategie </h3><br>  Alle Komponenten sind fertig, wir legen den ersten schwarzen Stein in die Mitte des Feldes, starten die Suche nach einer L√∂sung und ... Nach einigen Stunden gehen die Ressourcen meines Laptops zur Neige und ich muss zugeben, dass ich "im Kampf, aber nicht im Kampf" geschlagen habe. <br><br>  In Wahrheit hatte ich Rechenleistung mit anderthalbhundert Kernen Xeon und einem Terabyte freiem RAM zur Hand.  Denken Sie jedoch daran, dass Allis Mitte der neunziger Jahre nur 10 SUN SPARCstation 2 auf jeweils 128 MB RAM hatte, Reue f√ºr unsportliches Verhalten empfand und beschloss, die RAM-Menge auf dem Java-Computer auf 1 GB zu beschr√§nken und nur 1 Thread f√ºr die Aufgabe zuzuweisen der Prozessor.  Es k√∂nnte irgendwie mein GHz im Vergleich zu seinem MHz kompensieren.  Au√üerdem versprach er sich am Ende der Arbeit, die Algorithmen f√ºr den Browser auf Javascript zu √ºbertragen. <br><br>  Die Suche nach Strategien musste also mit der Entscheidung der Deb√ºtskizzen beginnen.  Eine ausf√ºhrliche Beschreibung der Deb√ºts f√ºr das Renju-Spiel in russischer Sprache finden Sie in Sagars ber√ºhmten B√ºchern "From Debut to Middlegame" und Mikhail Kozhin und Alexander Nosovskys "Ringing of the Stones" <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> .  Die B√ºcher sind bereits 20 Jahre alt, aber seitdem wurde ein wenig solche Literatur ver√∂ffentlicht.  Die neuere Sammlung von Dmitry Epifanov ‚ÄûTiger in a cage‚Äú von 2015 ist leider nicht in elektronischer Form erh√§ltlich. <br><br>  Die Suche nach optimalen √ñffnungsentscheidungen wurde nach dem folgenden Algorithmus durchgef√ºhrt.  Im ersten Schritt wurde eine vorl√§ufige Berechnung durchgef√ºhrt, ohne die L√§nge der Charge zu begrenzen.  Dann wurde f√ºr die l√§ngsten L√∂sungen eine Optimierung durchgef√ºhrt: Ersetzen der gefundenen Kombinationen durch k√ºrzere L√∂sungen f√ºr die letzten Schritte und Suchen nach k√ºrzeren Entscheidungszweigen f√ºr alle Zwischenbewegungen.  Die Optimierung wurde durchgef√ºhrt, bis die Zielgrenze f√ºr alle Zweige der L√∂sung erreicht war.  Dann verringerte sich das Ziellimit und es wurde versucht, auf einen neuen Wert zu optimieren. <br><br><img src="https://habrastorage.org/webt/9e/vr/o4/9evro4nlkmpbgmiuo1wvaad7bj0.png"><br><br><img src="https://habrastorage.org/webt/8c/0s/gh/8c0sghxz-vcodr2hzw7vnbdefoe.png"><br><br>  Beim dritten vertikalen Deb√ºt in Abbildung 3 gab es keine Probleme.  Das Ergebnis war ein vollst√§ndiger Satz von L√∂sungen.  Die schwierigsten Positionen nach dem 4. Zug i8 und j10 wurden in 31 Z√ºgen gel√∂st.  Dann wurde ein Ziellimit von 35 Z√ºgen pro Spiel festgelegt. <br><br><img src="https://habrastorage.org/webt/ea/si/lu/easilurzckolnwa4nxmby3vdmkm.png"><br><br><img src="https://habrastorage.org/webt/h-/ou/0r/h-ou0r2kkefr5vkhmfc9wujscu8.png"><br><br>  Aus der Diagonale f√ºr die Entscheidung w√§hlte er traditionell das 7. Deb√ºt.  Die schwierigste Position ergibt sich nach dem 4. Zug g9.  Zul√§ssige L√§ngenl√∂sungen wurden f√ºr 6 Z√ºge g8 und g7 gefunden. <br><br><img src="https://habrastorage.org/webt/mt/zh/6q/mtzh6qaiqfqwnpnef87esqq-2ee.png"><br><br>  Aber f√ºr diese Option konnte ich mit dem 6. Zug auf j9 keine L√∂sung finden, die k√ºrzer als 33 Z√ºge war.  Es war fast eine Katastrophe.  Aus Verzweiflung versuchte ich die L√∂sungen f√ºr den alternativen 5. Zug sowie alle anderen Arten von diagonalen √ñffnungen.  Die Deb√ºts wurden bis zum Ende gel√∂st, aber es konnten keine k√ºrzeren als 39 Z√ºge pro Spiel gefunden werden. <br><br>  Zur√ºck zum urspr√ºnglichen Deb√ºt in der 7. Diagonale √ºberarbeitete er den Algorithmus zum Generieren von S√§tzen f√ºr Angriffsz√ºge.  Infolgedessen f√ºhrten Bewegungen, die zu Positionen mit einer Bewertung von den dritten zehn f√ºhrten, unerwartet zu einem Ergebnis und reduzierten die L√§nge des L√∂sungspfads.  Die Variabilit√§t der Berechnung mit einem solchen Betrag wurde ziemlich gro√ü.  Bei einer L√∂sungstiefe von 12 Z√ºgen gab es mehr als 2 Millionen Positionen (ohne Positionen bei der Suche nach Kombinationen).  Die Fortsetzung beruhte auf 1 GB RAM, das f√ºr die Aufgabe zugewiesen wurde.  Um die Entscheidung bis zur letzten Gabelung zu √ºberpr√ºfen, war es in einigen F√§llen erforderlich, die Positionen ab dem 18. Zug separat zu bestimmen. <br><br>  Nachdem das Deb√ºt in der 7. Diagonale in 35 Z√ºgen entschieden war, konnte man den Sieg feiern - der Kampf um das Zentrum war gewonnen.  Vor uns lag noch eine enorme Menge an routinem√§√üiger Rechenarbeit, Berechnungen von ‚Äûnicht optimalen‚Äú wei√üen Bewegungen, um die Strategie zu vervollst√§ndigen.  Vom Gesamtvolumen der optimalen Strategie betrug die Antwort auf solche Bewegungen 80%.  Gl√ºcklicherweise wurden sie nach dem zweiten Zug nach vorl√§ufiger Berechnung automatisch vollst√§ndig gel√∂st, und all dieses Volumen wurde innerhalb weniger Tage zur optimalen Strategie hinzugef√ºgt. <br><br>  So wurden L√∂sungen f√ºr alle 2 Z√ºge gefunden.  Wir legen den ersten schwarzen Stein in die Mitte des Feldes, beginnen mit der Suche nach einer L√∂sung und haben nicht einmal Zeit, die Wichtigkeit des Augenblicks zu sp√ºren - die Ausgangsposition wurde in 35 Z√ºgen gel√∂st.  Das Diagramm der optimalen Gewinnstrategie wird erstellt. <br><br><h3>  √úberpr√ºfen Sie uns </h3><br>  Der n√§chste Schritt ist die √úberpr√ºfung der L√∂sung.  Schalten Sie die Intelligenz der verteidigenden Seite vollst√§ndig aus.  Nach jeder Bewegung von Schwarz geht Wei√ü zu einem beliebigen freien Feld des Bretts.  Die Position, die nach dem Zug von Wei√ü erhalten wurde, muss entweder im Entscheidungsdiagramm gefunden oder als Gewinn f√ºr die Anzahl der Z√ºge bewertet werden, die den l√§ngsten Zweig in der Startposition nicht √ºberschreiten.  Bei der Bewertung jeder Position √ºberpr√ºfen wir die gefundene Gewinnkombination f√ºr alle zul√§ssigen Z√ºge von Wei√ü, bevor Schwarz das letzte St√ºck baut - f√ºnf in Folge. <br><br>  Die Pr√ºfung wurde bis zum Abschluss mehrmals durchgef√ºhrt.  Der letzte fehlerfreie Lauf im Single-Threaded-Modus dauerte 14 Stunden.  Im Verlauf der √úberpr√ºfung wurden Fehler gefunden und korrigiert, die sich aus Unterschieden in der Suchtiefe nach Kombinationen, Annahmen zum √úberspringen und Duplizieren symmetrischer Positionen ergaben. <br><br>  Beantworten Sie die Frage - ist die Entscheidung in 35 Z√ºgen wirklich die optimalste?  Nach meinen Recherchen ist es f√ºr eine Reihe der l√§ngsten Zweige des vertikalen Deb√ºts m√∂glich, mit einer L√§nge von 33 Z√ºgen optimalere L√∂sungen zu finden.  Aber f√ºr die Diagonale nach dem 6. Zug auf j9 wurde viel Zeit aufgewendet, um in 33 Z√ºgen nach einer L√∂sung zu suchen. Die Variation f√ºr Schwarz wurde bei jedem Schritt auf 50 Z√ºge erweitert, ohne Erfolg.  Es ist nicht m√∂glich, das Fehlen einer L√∂sung in 33 Z√ºgen rigoros nachzuweisen, die f√ºr das Projekt vorgesehene Zeit ist abgelaufen und es wurde beschlossen, bei der Zielgrenze von 35 Z√ºgen anzuhalten. <br><br><h3>  Konvertieren Sie von Java nach Javascript </h3><br>  Die Ver√∂ffentlichung einer L√∂sung f√ºr ein Problem erfordert Klarheit.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Um die L√∂sung direkt im Browser verwenden zu k√∂nnen, war Folgendes erforderlich: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduzieren Sie die Tiefe der Suche nach Kombinationen bei der Bewertung von Positionen auf 17 Z√ºge. </font><font style="vertical-align: inherit;">Dies f√ºhrte zu einer 2-3-fachen Erh√∂hung der Anzahl der berechneten Z√ºge der optimalen Strategie.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konvertieren Sie das bin√§re Entscheidungsdiagrammformat in eine JSON-Bewegungssequenz. </font><font style="vertical-align: inherit;">Dieses Format ist in Javascript und visuell bequemer.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konvertieren Sie Java-Klassen in Javascript-Module, mit Ausnahme von Entscheidungsverfahren. </font><font style="vertical-align: inherit;">Ersetzen Sie hier in der Weboberfl√§che die Rest-Service-Aufrufe durch lokale Funktionen.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Liste der Anwendungsklassen: </font></font><br><br><ul><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Board</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Party Management auf dem Board, visuelle Schnittstelle</font></font></li><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scheitelpunkt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - oben im Entscheidungsdiagramm, von der Position geerbt</font></font></li><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kante</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Kante des Entscheidungsgraphen, Verbindungspositionen verschieben</font></font></li><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Layout</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Position, enth√§lt eine Sammlung von Linien</font></font></li><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linie</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Eine Linie in einer bestimmten Richtung enth√§lt eine Sammlung von Formen</font></font></li><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abbildung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Eine Abbildung, die den Typ und den Beginn einer Abbildung in einer Linie bestimmt</font></font></li><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Muster</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Muster von Zahlen zum Vergleich bei der Suche</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die vollst√§ndige L√∂sung im JSON-Format kann aus der Datei </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gomoku.json</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> heruntergeladen werden </font><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quellen im Repository auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zur Verdeutlichung werde ich im Folgenden Beispiele f√ºr die l√§ngsten Spiele geben, die in der Demonstration erhalten wurden, indem Sie auf Weiter klicken. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diagonales Deb√ºt: </font></font><br><br><img src="https://habrastorage.org/webt/ut/xg/6g/utxg6gkl_d15x4zgjg1xwi_m5s4.png"><br><br><img src="https://habrastorage.org/webt/18/jh/oy/18jhoyzp05r1swbl7kdi2zkacp0.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vertikales Deb√ºt:</font></font><br><br><img src="https://habrastorage.org/webt/ko/ps/px/kopspxbbw8g13ti2rxmbdxy8o-a.png"><br><br><img src="https://habrastorage.org/webt/rw/jo/x2/rwjox2wlhopomjsaamqv7t2v3yq.png"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de437064/">https://habr.com/ru/post/de437064/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de437050/index.html">Das Buch "Python. Expresskurs. 3rd ed.</a></li>
<li><a href="../de437052/index.html">Verpassen Sie nicht zu lernen: Braucht ein Universit√§ts-IT-Spezialist</a></li>
<li><a href="../de437054/index.html">Neue Intel Prozessoren der 9. Generation: Core minus GPU</a></li>
<li><a href="../de437056/index.html">Die Zimbra Collaboration Suite und die Zextras Suite sind vollst√§ndig mit dem inl√§ndischen RED-Betriebssystem kompatibel</a></li>
<li><a href="../de437062/index.html">Die Auswirkung der Verz√∂gerung und die L√§nge der Schlussfolgerungen des Chips und der Software auf die Berechnung der Gesamtl√§nge / Verz√∂gerung der Leiter</a></li>
<li><a href="../de437066/index.html">Javathon zum Studententag</a></li>
<li><a href="../de437068/index.html">ILV entsperrt 2,7 Millionen IP-Adressen</a></li>
<li><a href="../de437070/index.html">Survey Data Science Tools 2019</a></li>
<li><a href="../de437072/index.html">Schw√§chen Sie N√ºsse in Habr-Regeln</a></li>
<li><a href="../de437074/index.html">Google blockiert m√∂glicherweise seinen Nachrichtendienst in Europa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>