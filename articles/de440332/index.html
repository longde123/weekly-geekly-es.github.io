<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöµüèæ üö≤ üéé Datenbank in den Wolken: an wen und warum - die Meinung von Data Egret-Spezialisten üèúÔ∏è üöµ ü§ûüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Es wird angenommen, dass die Zukunft f√ºr DB as Service liegt. Lohnt es sich f√ºr alle, einen DBA zu starten und in eine √∂ffentliche Cloud zu wechseln o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Datenbank in den Wolken: an wen und warum - die Meinung von Data Egret-Spezialisten</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/440332/"> Es wird angenommen, dass die Zukunft f√ºr DB as Service liegt.  Lohnt es sich f√ºr alle, einen DBA zu starten und in eine √∂ffentliche Cloud zu wechseln oder eine private Cloud auf Docker mit Kubernetes zu erstellen?  Drei Experten von Data Egret - Alexei Lesovsky, Viktor Yegorov und Andrey Salnikov - auf dem # RuPostgres-Kanal live teilten ihre Ansichten dar√ºber, f√ºr welche Projekte Cloud-Modelle geeignet sind. <br><br>  Moderator und Moderator der Diskussion war Nikolay Samokhvalov, Gr√ºnder von Postgres.ai und Mitbegr√ºnder der RuPostgres.org-Community. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/435/264/8c6/4352648c6057ce6a634580c2b3195212.jpg"><br><br>  Unter dem Schnittprotokoll des Gespr√§chs. <br><a name="habracut"></a><br>  <b>- Heute sprechen wir √ºber Postgres in den Wolken.</b>  <b>Und ich beginne mit einer kniffligen Frage: Stimmt es, dass Sie mehr als die H√§lfte der Kunden bereits in den Clouds haben?</b> <br><br>  <b>Alexei:</b> Ich denke nicht.  F√ºhlt sich an wie weniger als die H√§lfte.  Jeder sitzt entweder in seinem eigenen Rechenzentrum oder mietet Eisenst√ºcke. <br><br>  Bevor wir jedoch √ºber die Wolken sprechen, definieren wir die Begriffe.  Was verstehen wir unter ‚ÄûClouds‚Äú: Amazon, Google Cloud, DB as Service? <br><br>  <b>- Ich w√ºrde Postgres in der Cloud unterscheiden, die auf einer Amazon EC2-Instanz (oder einem Analogon von Google) erstellt wurde, wo Sie sich grob gesagt √ºber ssh anmelden und die Konfiguration korrigieren k√∂nnen, und Postgres unter Kontrolle (auf Englisch ‚Äûverwaltet‚Äú), wenn Sie direkt darauf zugreifen auf Dateiebene oder ohne ssh, aber es gibt nur die M√∂glichkeit, SQL-Abfragen zu verbinden und auszuf√ºhren.</b>  <b>Sie sollten grunds√§tzlich getrennt betrachtet werden.</b>  <b>Und meine erste Frage betraf verwaltete Postgres.</b> <br><br>  <b>Alexei:</b> Solche Kunden sind wesentlich weniger als die H√§lfte. <br><br>  <b>Victor:</b> Nun, im ersten Fall - welche wesentlichen Vorteile haben wir aus der Cloud?  Was bedeutet die Wolke? <br><br>  <b>- Im ersten Fall k√∂nnen Sie mit verschiedenen modernen Tools wie Patroni und Kubernetes (wir werden sie separat behandeln) Elastizit√§t, Microservices und all das erhalten.</b>  <b>Dies ist nicht dasselbe wie nur ein St√ºck Eisen.</b>  <b>Es ist wie "Haustiere gegen Herde" - die Einstellung, als Haustier zu b√ºgeln, w√§chst zu einer Beziehung zu virtuellen Maschinen wie zu einer Herde.</b>  <b>Sie wissen bereits nicht, welche Dr√ºsen dort installiert sind.</b>  <b>Sie haben sie nicht bestellt, Sie haben nicht mit dem Lieferanten zusammengearbeitet, Sie haben nicht √ºber die Topologie nachgedacht.</b>  <b>Sie k√∂nnen Zeit sparen.</b> <br><br>  <b>Victor:</b> Ja.  Meiner Meinung nach vereinfacht der erste Fall einfach den Kauf von neuem Eisen.  Sie wissen, was Sie brauchen: wie viele Kerne und RAM, welche Laufwerke.  Und Sie w√§hlen eine virtuelle Maschine aus dem, was sie Ihnen bietet.  Es ist schnell.  Andernfalls m√ºssen Sie diesen Server weiterhin normal konfigurieren und warten. <br><br>  <b>- Und wie beurteilen Sie den durch virtuelle Maschinen verursachten Overhead (Prozesse innerhalb einer virtuellen Maschine, die nicht auf Bare-Metal-Basis sind, Performance-Overhead oder Verwaltungsschwierigkeiten)?</b>  <b>Hat jemand von euch es gemessen?</b> <br><br>  <b>Alexei: Der</b> Overhead kann gemessen werden, wenn Sie die Kontrolle √ºber den Hypervisor haben.  Im √∂ffentlichen Dienst ist es nicht - was sie geben, ist das, was Sie verwenden. <br><br>  Der Overhead der √ºblichen Virtualisierungssysteme, die zu Hause bereitgestellt werden k√∂nnen (KVM, Xen), habe ich vor f√ºnf Jahren gemessen und lag dann bei etwa 7-8%.  Dar√ºber hinaus hing es von den Einstellungen der virtuellen Maschine und der Arbeitslast ab.  Zum Beispiel gab es bei Redis und Postgres deutlich mehr Overhead als bei Unicorn, das Rails-Backends bedient. <br><br>  Vielleicht sind die Zahlen jetzt anders. <br><br>  <b>- Selbst 5-7% sind ein akzeptabler Overhead im Vergleich zu den Pluspunkten, √ºber die Victor gesprochen hat.</b> <b><br><br></b>  <b>Und wie √§ndern Sie die Zusammensetzung der Kunden: Gibt es eine Bewegung in Richtung Managed-Bases?</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eef/936/610/eef936610631c542266211cc32d168ae.png"><br><br>  <b>Alexey:</b> Nein.  Der Trend ist eher umgekehrt.  Menschen, die mit Dingen wie RDS arbeiten, fehlt die Flexibilit√§t bei der Verwaltung und Verwaltung.  Infolgedessen erhalten wir die gleiche Einstellung wie Haustiere, jedoch in EC2-F√§llen. <br><br>  <b>Victor:</b> Diese Situation zeichnet sich ab.  Es gibt Kunden, deren Hauptproduktionsbasis sehr besch√§ftigt ist.  Nat√ºrlich werden sie auf die zugewiesenen Eisenst√ºcke gelegt und unter st√§ndiger Aufsicht.  Wenn das Unternehmen w√§chst, erfordert die Entwicklung eine gro√üe Anzahl von Test- und Entwicklungsinstanzen, die in die Virtualisierung gehen.  Dies ist ein hybrider Fall: In Tests und Entwicklungsumgebungen kann Hardware gekauft oder virtuelle Maschinen gemietet werden.  Die Produktion bleibt jedoch auf einer normalen, seri√∂sen Hardware. <br><br>  <b>- Wird Amazon RDS daf√ºr verwendet?</b> <br><br>  <b>Alexey:</b> Unsere Kunden lehnen RDS im Gegenteil ab.  Der Grund ist, wie gesagt, die mangelnde Flexibilit√§t im Management. <br><blockquote>  Die Instanzen st√ºrzen ab, und in einigen F√§llen wird das Problem nicht nur durch das Mieten eines st√§rkeren St√ºcks Eisen gel√∂st. </blockquote><br>  Sie k√∂nnen viele Probleme nicht selbst l√∂sen - nur mit Hilfe der Unterst√ºtzung. <br><br>  <b>- Kann man Beispiele nennen?</b>  <b>Es scheint, dass Amazon k√ºrzlich OpenSCG gekauft hat - gro√üartige Leute, die das interne Know-how von Postgres h√§tten entwickeln sollen.</b>  <b>Und ich wei√ü aus eigener Erfahrung, dass es eine Pr√ºfung gibt.</b>  <b>Wenn Sie ein Ticket mit Amazon RDS-Support √∂ffnen und auf eine Person sto√üen, die Ihnen nicht helfen kann, schlie√üen Sie das Ticket einfach und √∂ffnen Sie es erneut, um zu einem kompetenteren zu gelangen.</b> <br><br>  <b>Alexey:</b> OpenSCG ist nat√ºrlich ein Team von Fachleuten.  Der Kauf eines solchen Teams schlie√üt jedoch nicht 100% aller m√∂glichen Situationen.  Es gibt Probleme, die Gesichter zum ersten Mal unterst√ºtzen.  Das passiert auch bei uns. <br><br>  Bei einem der PostgreSQL 10.6-Replikate stieg der durchschnittliche Auslastungsgrad des Kunden auf dem Host pl√∂tzlich um 30 bis 40 Einheiten, obwohl keine Auslastung vorliegt.  Solch ein unverst√§ndlicher Untergrundschlag.  Es hat keinen gro√üen Einfluss, aber das Bild des durchschnittlichen Sprunges der Last ist unverst√§ndlich.  Und sie nervt die Administratoren des Kunden.  Wir haben ein paar Hypothesen, was sie verursacht hat, aber bisher konnten wir sie nicht testen, da das System produktiv ist und dort nicht alles schnell erledigt werden kann. <br><br>  Und solche "Untergrundschl√§ge" treten ungef√§hr einmal im Jahr auf, und Sie beginnen, sich der Aufgabe kreativ zu n√§hern.  Und Amazon RDS ist eine gr√∂√üere Anzahl von Instanzen, eine gr√∂√üere Anzahl von Installationen bzw. Tickets, und alle Arten von Situationen sind viel gr√∂√üer. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fe0/652/ed5/fe0652ed54fd4fbc40ce73f159f001c7.png"><br><br>  <b>Andrew:</b> Ich m√∂chte hinzuf√ºgen, wie man RDS- und EC2-Instanzen vergleicht. <br>  Wir hatten einen Kunden mit Produktion auf RDS.  Er suchte Rat.  Dev-Circuit befand sich in Microsoft Azure. Anscheinend wurde Azure urspr√ºnglich als Haupt-Cloud-Dienst angesehen. <br><br>  Ich habe die Dev-Circuit-Basis in EC2 von Azure auf Amazon gezogen, um n√§her an die Produktion heranzukommen, und Prognoseprobleme n√§herten sich der Produktdatenbank an. <br><br><blockquote>  Obwohl der EC2-Server doppelt so einfach war wie unter RDS-Instanzen und die Testlast h√∂her als das Produkt war, waren die Ergebnisse in der Entwicklungsschaltung nach meinem Setup viel besser als in Amazon auf der RDS-Instanz in der Produktion. <br></blockquote><br>  Ich habe den Verdacht, dass RDS aufgrund des Mangels an PostgreSQL-Fachwissen im Unternehmen des Kunden mit der Standardkonfiguration verwendet wurde.  Wir verdrehen alle Einstellungen. <br><br>  Infolgedessen war der Kunde sehr beeindruckt.  Ich wandte mich mit einem Vorschlag anstelle von RDS an das Management, um einfache Instanzen zu √ºbernehmen und zu konfigurieren. <br><br>  <b>- Wie wurde √ºbrigens gemessen, was ist besser, was ist schlechter?</b> <br><br>  <b>Andrew:</b> Der Kunde hat sich die Metriken seiner Anwendung angesehen, wie schnell die Daten heruntergeladen und verarbeitet wurden. <br><br>  <b>- Wir schimpfen jetzt mit RDS, aber es hat enorme Vorteile - es beseitigt viele Kopfschmerzen, die mit Bereitstellung, Sicherungen und Replikation verbunden sind.</b>  <b>Sind Sie einverstanden?</b> <br><br>  <b>Andrew:</b> Ja.  Und h√∂chstwahrscheinlich war der Hauptgrund daf√ºr, dass der Client in RDS blieb, genau der erw√§hnte Mangel an PostgreSQL-Fachwissen.  Mit RDS bekommen sie alles, was sie brauchen, sie zahlen nur mehr f√ºr die Instanzen. <br><br>  <b>- Neben Amazon RDS gibt es noch andere Cloud-basierte verwaltete Postgres.</b>  <b>Haben Sie zum Beispiel den Yandex-Service kennengelernt?</b> <br><br>  <b>Andrei:</b> Ich bin auf ihre virtuellen Maschinen gesto√üen und habe sie nicht wirklich gemocht - NVMe-Laufwerke sind dort nicht sehr ehrlich.  Tats√§chlich sind Laufwerke √ºber ein Netzwerk verbunden. <br><br>  <b>- Ehrliches NVMe (lokale Laufwerke) ist ebenfalls ein Problem.</b>  <b>Google und Amazon haben NVMe, aber die Laufwerke sind kurzlebig.</b>  <b>Wenn Sie die Instanz neu starten, verlieren Sie alle Daten, weil Sie eine andere virtuelle Maschine erhalten.</b> <br><br>  <b>Andrei:</b> Sie haben mich bei Yandex Cloud kommentiert, dass sie ehrliches NVMe in DB als Service haben, aber ich bin diesem Service noch nicht begegnet.  Anscheinend gibt es auf der Ebene der Ressourcenbereitstellung eine etwas andere Architektur. <br><br>  Sie arbeiten sehr hart an DB als Service, da sie ihn f√ºr ihre Services verwenden.  Es gibt nur unterschiedliche Einstiegspunkte f√ºr externe Kunden und den internen Gebrauch. <br><br>  <b>- Und was denkst du, gibt es Aussichten f√ºr die russischen Postgres in der Cloud?</b>  <b>Wird abheben oder nicht abheben?</b> <br><br>  <b>Andrew:</b> <br><blockquote>  Yandex hat ein exzellentes Team, ziemlich erfahren, mit gutem Fachwissen.  Ich denke, sie werden abheben. </blockquote><br>  Erstens betreiben sie selbst viele Postgres (mehr als 1000 Datenbanken in ihren Projekten) und seitdem  Exploit, alle Zapfen und wunden Stellen werden schneller funktionieren und reparieren.  Ich denke, der Kunde wird den endg√ºltigen Service von ziemlich guter Qualit√§t erhalten. <br><br>  Und es gibt eine Nachfrage nach solchen L√∂sungen.  Nehmen Sie ein Startup, das zu Beginn aus verschiedenen Gr√ºnden nicht √ºber das erforderliche Know-how in Postgres verf√ºgen kann: teuer, sie sehen den Punkt nicht, probieren Sie verschiedene Technologien aus.  F√ºr ihn ist dies eine gute L√∂sung, da es bei solchen Diensten nur begrenzte ‚ÄûWendungen‚Äú gibt, die nicht verdreht werden sollten, und wenn dies der Fall ist, wird es meiner Meinung nach technischen Support geben. <br><br>  Zwar steht Yandex Cloud noch am Anfang, und im Moment werden nicht so viele Funktionen angeboten. <br><br>  <b>- Wir haben Fragen aus dem Chatroom: Was halten Sie von der Tatsache, dass bei der Ausgabe von virtuellen Maschinen jemand physisch auf dieser Maschine sitzen kann (Drosselung, Zeit stehlen).</b> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fd9/d21/08d/fd9d2108d4134177d49c1785c7336c9a.jpg"><br><br>  <b>Victor:</b> Ja, es gibt so eine Erfahrung.  Ich wollte es nur erw√§hnen.  Es gibt Clients, f√ºr die eigene Virtualisierungssysteme bereitgestellt werden.  Von Zeit zu Zeit fragen sie nach einem Nicht-Produkt-Server, und wir sehen eine unverst√§ndliche Situation: Wir beobachten nicht die Gr√ºnde, warum er auf diesem Server ausfallen sollte.  Anschlie√üend leiten wir Fragen an ihre Administratoren weiter, um zu erfahren, was auf dem Host geschieht. <br><br>  <b>- Und was tun, gibt es einen √§hnlichen Effekt bei Amazon?</b>  <b>Gibt es Methoden, um festzustellen, ob Sie "gequetscht" sind?</b>  <b>pgbench fahren?</b> <br><br>  <b>Alexei: Daran kann</b> ich mich nicht erinnern.  Aber der √ºbliche Weg ist, durch Diebstahlzeit zu bestimmen.  In den √úberwachungsgraphen sehen wir in der Regel keine gro√üen Werte. <br><br>  <b>- Ich habe das Gef√ºhl, dass Sie verwaltete Postgres nicht wirklich m√∂gen.</b>  <b>Liegt es daran, dass RDS Ihre Arbeit √ºbernimmt?</b> <br><br>  <b>Alexey:</b> Nein.  Dies liegt eher daran, dass wir es einfach nicht haben.  Managed Postgres ist gut, da Sie die Infrastruktur auf Knopfdruck bereitstellen k√∂nnen.  Solange Sie ein Startup sind und nur Daten ohne komplexe Logik hinzuf√ºgen oder lesen, ist alles in Ordnung.  Und wenn Sie beispielsweise eine bestimmte Linie √ºberschreiten, beginnen Sie, viele JOINs auszuf√ºhren, f√ºhren komplexes SQL aus, die Aufgabe besteht darin, Abfragen zu optimieren, und RDS reicht nicht mehr aus.  Es erfordert mehr Freiheit und Einfluss, aber die verf√ºgbaren Tools helfen Ihnen nicht, die tiefgreifenden Probleme zu l√∂sen, die mit der Entsorgung von Ressourcen innerhalb von Postgres selbst verbunden sind.  Es gibt nur die M√∂glichkeit, die Kraft des Eisenst√ºcks zu erh√∂hen: mehr Geld bezahlt - erhalten. <br><br>  <b>Andrew:</b> Es gibt nicht so viel Abneigung gegen RDS und Angst vor Arbeit.  Das Problem ist anders.  Angenommen, ein Startup nimmt RDS, er gibt ihnen alles.  Aber er hat sein Fachwissen in Postgres nicht erweitert.  Als n√§chstes sagen wir einen Startschuss.  Die Lasten wachsen - Schreiben und Lesen haben zugenommen.  In Ermangelung seines Fachwissens muss ein Startup nebenbei nach Menschen suchen.  Schwere Datenbankadministratoren stellen fest, dass sie nicht mehr aus RDS herausholen k√∂nnen, aber mit einer regul√§ren EC2-Instanz ist es durchaus m√∂glich, mehr Leistung zu erzielen, wie in dem zuvor erw√§hnten Beispiel.  Wenn wir auf RDS erlaubt w√§ren, k√∂nnten wir vielleicht die Datenbank optimieren und verbessern, aber wir haben es nicht getan. <br><br>  <b>- Das Problem mit dem Zugriff wird behoben.</b>  <b>Es gibt verwaltete Postgres, die SSH-Zugriff bieten (und sogar vollst√§ndig root sind), zum Beispiel eine kleine Firma Aiven aus Finnland.</b>  <b>Standardm√§√üig gew√§hren sie keinen Root-Zugriff, aber der Gr√ºnder (und ich haben ein paar Mal mit ihm gesprochen) sprach √ºber seine Bereitschaft, auf Anfrage Zugriff zu gew√§hren.</b> <br><br>  <b>Andrew: Das</b> Problem ist nicht nur der Zugang.  Warum sind wir mit reinen Dr√ºsen besser dran?  Weil wir viele verschiedene Kunden haben und jeder seine eigene Infrastruktur hat.  Und die Infrastrukturen sind so weit voneinander entfernt, dass wir die allgemeine Methodik, die √ºberall gleich funktioniert, einfach nicht k√∂nnen.  Weil es diejenigen gibt, die ihre eigene Hardware haben und einfach nicht irgendwo hosten k√∂nnen (gem√§√ü einigen ihrer eigenen Regeln und Einschr√§nkungen), und es gibt diejenigen, die sich in den Clouds befinden. <br><br>  <b>- Sie m√∂chten sagen, dass die Definition nicht verwendeter Indizes vom St√ºck Eisen abh√§ngt?</b>  <b>Oder andere allt√§gliche Dinge?</b> <br><br>  <b>Andrew:</b> Aus Sicht der Verwaltung ist es das Datenbankschema und die Definition nicht verwendeter Indizes, dass sich die Clouds nicht von ihrer Hardware unterscheiden.  Alles ist vereinheitlicht. <br><br>  Der Unterschied zwischen einer Cloud und einer realen Hardware - in der Schicht zwischen der Basis und speziell der darunter liegenden Hardware - ist das Betriebssystem und die verwendeten Virtualisierungen.  Wenn Sie √ºber gro√üe Datenbanken verf√ºgen, ist es wichtig, wie schnell die Laufwerke Daten senden und empfangen, wie effizient Speicher und Prozessor verwendet werden. Daher ist es √§u√üerst wichtig, den Einfluss dieser Schicht zu verringern, damit die Datenbank am effizientesten funktioniert. <br><br>  <b>- Eine weitere Frage des Publikums: Was ist mit den Kerneleinstellungen?</b> <br><br>  <b>Victor:</b> In EC2 sind solche Dinge anpassbar. <br><br>  <b>- Neben Amazon und Google gibt es neue L√∂sungen f√ºr die Klasse "Managed Postgres" von bekannten Anbietern.</b>  <b>Zum Beispiel k√ºndigten Nutanix und SAP 2018 die Schaffung von Postgres-basierten L√∂sungen an.</b>  <b>Glauben Sie nicht, dass all diese Leute uns dazu f√ºhren, dass einige Entscheidungen getroffen werden, die dasselbe bewirken, aber nur auf Ihrem St√ºck Eisen?</b>  <b>Damit k√∂nnen Sie auf die Schaltfl√§che klicken und die neuen Postgres bereitstellen, in denen Sicherungen und Replikationen bereits konfiguriert sind.</b> <br><br>  <b>Alexei:</b> Es scheint mir, dass SAP und andere nicht ganz profitabel sind.  Dies sind gro√üe Anbieter von Eisen und Software.  Sie machen ein Produkt mit dem Ziel, Geld zu verdienen.  Verkaufe zumindest Support.  Deshalb m√ºssen wir uns ansehen, wie sie davon profitieren werden.  Wenn ein solches Produktlieferungsmodell f√ºr sie von Vorteil ist, warum dann nicht? <br><br>  <b>- Ich meinte ein bisschen anders.</b>  <b>Insbesondere werden diese Jungs nichts in Open Source posten und kostenlos verschenken.</b>  <b>Aber glaubst du nicht, dass jemand aus dem kleineren, aber munteren so etwas tun wird?</b>  <b>Vielleicht konzentriert sich dies auf Kubernetes, Operator Framework.</b>  <b>Es gibt bereits einige Entwicklungen, die die Betreiber durchf√ºhren - zum Beispiel Zalando.</b>  <b>Und glauben Sie nicht, dass Cloud-basiertes RDS einen schrittweisen √úbergang zu solchen L√∂sungen erm√∂glicht?</b>  <b>Wir sehen, wie Sie leben k√∂nnen, ohne mit Ihren H√§nden in die Konfiguration zu klettern.</b> <br><br>  <b>Alexey:</b> Es stellt sich heraus, dass es nicht ganz gelungen ist. <br><blockquote>  Trotzdem ben√∂tigen Sie Spezialisten, die all dies √ºberwachen und unter die Motorhaube klettern, wenn etwas schief geht. <br></blockquote><br>  Sogar die Kubernetes sind eine sehr komplexe Maschine mit vielen Komponenten unter der Haube.  Formal sind dies nur f√ºnf Bin√§rdateien.  Ihre Interaktion untereinander wird jedoch durch umfangreiche Dokumentationen und viele Informationen zu Chatrooms, Newslettern und Google Groups beschrieben.  Das hei√üt,  Sie brauchen noch einen Spezialisten, der dieser K√ºche folgt. <br><br>  Au√üerdem entwickelt sich das alles sehr dynamisch.  Die Abw√§rtskompatibilit√§t wird von Version zu Version unterbrochen.  Das hei√üt,  alles ist sehr instabil und instabil.  Wenn sich alles beruhigt hat, bekommen wir vielleicht ein geeignetes Produkt, stabil und zuverl√§ssig.  Aber bisher ist nicht alles sehr. <br><br>  <b>Victor:</b> Wir fangen an, √ºber die Tatsache zu sprechen, dass wir eine zus√§tzliche Infrastrukturschicht haben, die verwaltet werden muss - um diese Kubernetes zu orchestrieren. <br><br><blockquote>  Ich bin nicht der Meinung, dass er immer auf Knopfdruck magisch arbeiten wird, wie wir es wollen.  Es ist notwendig, relevante Spezialisten zu halten. <br></blockquote><br>  Und zweitens - unsere Kunden passen sich st√§ndig an gesch√§ftliche Ver√§nderungen an.  Dementsprechend √§ndert sich die Last in der Datenbank st√§ndig.  Und wenn wir vor drei Monaten alles geleckt haben, wodurch alle Anfragen so funktionierten, wie sie sollten, und alles in Ordnung war, kann eine neue Anfrage heute oder morgen eingehen, oder aufgrund von Daten√§nderungen funktioniert die vorhandene Anfrage nicht mehr so, wie sie sollte.  Und wir m√ºssen die Situation analysieren und in die Systemeinstellungen gelangen.  Und dies ist diese Automatisierung, die meiner Meinung nach solche verwalteten Instanzen sehr schwierig macht.  Wann die Wolken einen solchen Zustand erreichen, dass sie sich auch an solche Situationen anpassen, wei√ü ich nicht.  Dies ist zwar ein wesentlicher Teil der zu erledigenden Arbeit, es ist jedoch erforderlich, die Datenbankeinstellungen an √Ñnderungen im Muster eingehender Anforderungen anzupassen. <br><br>  Und da die Cloud selbst einen zus√§tzlichen Verwaltungsaufwand darstellt, ist es f√ºr uns einfacher, wenn diese Schicht einfach nicht vorhanden ist, da wir uns auf die Probleme der Datenbank konzentrieren k√∂nnen. <br><br>  Wenn der Kunde in der Cloud leben m√∂chte und √ºber das Fachwissen verf√ºgt, haben wir nichts dagegen.  Die Hauptsache ist, dass wir die M√∂glichkeit haben, wenn die Datenbank nicht sehr gut wird, zu klettern (vorzugsweise per SSH), alles zu √ºberpr√ºfen und Zugriff auf alle Statistiken zu erhalten. <br><br>  <b>Alexey:</b> Nicht unbedingt von ssh.  In jedem Fall werden jedoch Diagnosewerkzeuge ben√∂tigt.  Weil die Diagnose per E-Mail sehr lang und langwierig ist.  Es ist √§rgerlich, wenn Sie einen Chat-Link an die auszuf√ºhrende Anfrage senden. Der Client hingegen klickt auf diesen Link, kopiert die Anfrage, kopiert das Ergebnis an Sie oder sendet einen Screenshot.  Das ist die ganze Zeit. <br><br>  Es ist viel einfacher, eine Verbindung herzustellen und direkt zu sehen, einige Ihrer Hypothesen zu testen und weiter von ihnen entfernt zu handeln. <br><br>  <b>- Haben Sie aktive Beispiele daf√ºr, wo Kubernetes bereits verwendet wird und Postgres darin lebt?</b> <br><br>  <b>Alexei:</b> Leider nicht.  Aber ich w√ºrde wirklich gerne.  Ich mag Kubernetes sehr, ich bin nah an seinem Konzept und seiner Philosophie. <br><br><blockquote>  Meiner Meinung nach ist Kubernetes so etwas, das Menschen dazu ermutigt, mehr zu programmieren, ein Produkt mehr zu entwickeln, ohne √ºber Nebeneffekte wie die interne Struktur der Infrastruktur nachzudenken. </blockquote><br>  Eine √§hnliche Rolle spielte fr√ºher OOP.  Es schien, und viele Leute interessierten sich f√ºr diesen Bereich, weil die Programmierung etwas einfacher geworden ist.  Kubernetes schlie√üt auch viele Dinge f√ºr sich, versteckt sie unter der Haube und erm√∂glicht es einer Person, sich auf den kreativen Aspekt zu konzentrieren und mehr zu programmieren. <br><br>  Kubernetes implementiert Unterst√ºtzung f√ºr Instanzen, Herde und die Anwendung funktioniert.  Wenn es pl√∂tzlich abst√ºrzt - na ja, dann startet Kubernetes es erneut.  Das hei√üt,  Entwickler und Administrator sind frei von Kopfschmerzen und st√§ndiger Nachverfolgung.  Ich mag diese Reaktion auf die Situation.  Wenn etwas f√§llt, wird es automatisch neu gestartet. <br><br>   , ,       .      ‚Äî    ,       ,   .       . <br><br> <b>‚Äì ,     ?</b> <br><br> <b>:</b>   ,   .  ,     .     -   ,        .     ,  ,     Kubernetes.   Kubernetes .   CNCF      . ,   . <br><br>        ‚Äì      - kubernetes_ru.      github,        Kubernetes:      .    Postgres,    . <br><br> , , ,  .  , Kubernetes ‚Äì    ,   .    -     IT. <br><br> <b>‚Äì      ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Amazon Aurora PostgreSQL Serverless</a> ?    ,    ,         .         ,  .</b>  <b>Das hei√üt,</b> <b>     .</b> <br><br> <b>:</b> <br><blockquote>    .      . </blockquote><br> ,     .     ,  ,           .      :   ,    .    ,       - .    . <br><br> <b>‚Äì     .                    .       ,   ,    .</b> <br><br> <b>:</b>    .  ,     .  ,      , ‚Äì     .    ,  ,      ,           ,      . <br><br><blockquote>  Das hei√üt,  .     ‚Äì  ,  ,   70% .         .      . <br><br>   ,  ,   ¬´ ¬ª,      . </blockquote><br> <b>‚Äì   .    ,   ,  DBA    : -    ,  - ‚Äî  , ?</b> <br><br> <b>:</b>  , ,   , ‚Äì    DBA,  SQL-developer.     Oracle   SQL-developer,      ,  ,   ,    .    ,     Oracle.          .   DBA     ,   - . <br><br> DBA ‚Äî  -  ¬´¬ª ,        . <br><br>      Kubernetes.      ,     .        .     ,    Kubernetes    .       ,           volume   .  Das hei√üt,     ,    .         ,    . <br><br> <b>‚Äì    ?</b> <br><br> <b>:</b> . <br><blockquote>   ,     . ,  ,       .      ,   Postgres (        ).      Postgres   - .  Das hei√üt,    (,  ),      . </blockquote><br>       ,             . <br><br>         ,   ,      .       .      .             . <br><br> <b>‚Äì     ?</b> <br><br> <b>:</b>     - . ,    ,    . <br><br> ,     Cassandra.      .  Das hei√üt,      ‚Äî   ,    Kubernetes. <br><br><blockquote>   ,  ,   .   ,  ,      . <br><br>  Das hei√üt,    .  DBA,  ,       ‚Äì     .   ,    ,      -  ‚Äì       . <br></blockquote><br> <b>‚Äì      ?</b> <br><br> <b>:</b>     . ,    . , ,  ,         Kubernetes .  ,  , ,  ,     - -         Kubernetes (       ). <br><br> <b>:</b>      Kubernetes.      ‚Äì   patroni.    Zalando   Kubernetes.     ,    ,       (     ‚Äì  ,   Amazon   ,    ).   ,          ‚Äì   .    ,  ‚Äì .   ‚Äì  - Kubernetes. <br><br> <b>‚Äì       RDS.    EC2   Postgres   .      patroni ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://github.com/zalando/patroni</a> ),      .</b> <br><br> <b>:</b> ,  ,     -  high availability. <br><br> <b>‚Äì .   ‚Äî   ,        ?</b> <br><br> <b>:</b>  ,       -  . <br>      Zalando     DBA,   patroni.  Das hei√üt,   ,        Kubernetes     , DBA . <br><br> <b>‚Äì .     DBA,   DBA  ¬´¬ª  ¬´¬ª.</b> <br><br> <b>:</b> ,     .        .   ,   ,    . <br><br> <b>‚Äì    -  Kubernetes?    ?</b> <br><br> <b>:</b>      -  ,      .   Kubernetes     ‚Äì     ,  .   Kubernetes  -     .                .          DBA.      Kubernetes (,    Kubernetes      ,        ,     ). <br><br>      -   ,       ,     -     -          -. <br><br> <b>:</b>      ( Kubernetes   ),    -   .       ,       ‚Äî      ‚Äî       .     - ,   ,  , , ,  ,         . <br><br>  <b>Victor:</b> <br><blockquote>       .    Kubernetes    ,        .     ,    .   . </blockquote><br>      ,      ‚Äî   .    ,     Postgres-    ,    , .     . <br><br> <b>:</b>    ‚Ä¶ <br><br> <b>‚Äì ..      :    -  ‚Äî   dev environment,   production ‚Äì    Kubernetes.  ...</b> <br><br> <b>:</b>     latency    ,    ,  .      . <br><br> <b>‚Äì   ,     .    . <br>    ,                <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> HighLoad++</a> .</b> <br><br> <i>PS      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a></i> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de440332/">https://habr.com/ru/post/de440332/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de440320/index.html">Als wir im DMRSE Yandex Z√§hler getaktet haben</a></li>
<li><a href="../de440322/index.html">Warum Festplatten weniger wahrscheinlich ausfallen</a></li>
<li><a href="../de440324/index.html">Die neue Grundlage der Linux Foundation - sie wird Edge-Computing entwickeln</a></li>
<li><a href="../de440326/index.html">Kunden√§nderungsmanagement nach ADKAR-Modell</a></li>
<li><a href="../de440328/index.html">Die Wahrscheinlichkeit, ein Match zu gewinnen, mit der bekannten Wahrscheinlichkeit, einen Punkt II zu gewinnen</a></li>
<li><a href="../de440336/index.html">HTML haben wir verloren</a></li>
<li><a href="../de440338/index.html">So stellen Sie die Verf√ºgbarkeit eines Webdienstes in der Cloud bei einem Ausfall des Rechenzentrums sicher</a></li>
<li><a href="../de440342/index.html">Universeller C # -Code f√ºr NET und JavaScript</a></li>
<li><a href="../de440344/index.html">InterNyet - wie das Internet in der Sowjetunion erfunden wurde und warum es nicht funktionierte</a></li>
<li><a href="../de440350/index.html">Flying Bear Tornado 2 - ein neuer B√§r ist angekommen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>