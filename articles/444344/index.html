<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçüíª üçî üë©‚Äçüé® 10 pasos para un proyecto exitoso de Python üë©‚Äçüîß üìõ ‚õπüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El material, cuya traducci√≥n publicamos hoy, est√° dedicado a herramientas que permiten equipar proyectos de Python con herramientas de formato de c√≥di...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>10 pasos para un proyecto exitoso de Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/444344/">  El material, cuya traducci√≥n publicamos hoy, est√° dedicado a herramientas que permiten equipar proyectos de Python con herramientas de formato de c√≥digo, pruebas, integraci√≥n continua y an√°lisis de dependencia.  Esto ayuda a acelerar el proceso de desarrollo, ayuda a mejorar la calidad, uniformidad y seguridad del c√≥digo.  Se supone que el lector de este material ya tiene cierta experiencia en el desarrollo de Python y un proyecto de Python con el que, durante la lectura, experimentar√°.  Si no tiene un proyecto de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este tipo</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> puede aprender c√≥mo preparar un entorno de desarrollo y crear un paquete de Python.  Los ejemplos que se dar√°n aqu√≠ se preparan con macOS y Python 3.7. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/nn/pf/ir/nnpfirpitm1blak2m4jfuludveo.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Paso 1. Instalando Black</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/00e/346/c01/00e346c01d193e87d70225c59cd191c3.png"></div><br>  El c√≥digo del proyecto debe seguir las convenciones de estilo de c√≥digo.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Black</a> es un paquete de Python que formatea autom√°ticamente el c√≥digo, dando su apariencia al est√°ndar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">PEP 8</a> .  El negro es un proyecto relativamente nuevo, pero ya ha ganado m√°s de un mill√≥n de descargas.  Su uso se convirti√≥ r√°pidamente en una se√±al de buen gusto en el desarrollo de Python.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠</a> est√° el manual de Black. <br><br>  Yo, como editor de c√≥digo, uso Atom, as√≠ que agregu√© el paquete <code>Python-Black</code> a Atom.  Puede averiguar c√≥mo instalarlo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Despu√©s de instalar este paquete, Atom formatear√° el c√≥digo despu√©s de guardar el archivo. <br><br>  Mientras hablamos de Black, equipemos esta herramienta con el entorno de desarrollo de aquellos que trabajan con nosotros en el proyecto.  Como resultado, todos los que trabajan en el proyecto utilizar√°n las mismas reglas de formato de c√≥digo; de lo contrario, no se aceptar√°n sus solicitudes de extracci√≥n. <br><br>  Agregue el <code>black==18.9b0</code> a la primera l√≠nea libre encontrada del archivo <code>black==18.9b0</code> y ejecute el comando <code>install -r requirements_dev.txt</code> <code>black==18.9b0</code> . <br><br>  Negro, por defecto, establece la longitud de la l√≠nea de c√≥digo en 88 caracteres.  Algunas gu√≠as de estilo, como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Sphinx</a> , requieren una longitud de cadena de 79 caracteres.  En la configuraci√≥n del paquete <code>Black-Atom</code> , puede establecer la longitud de l√≠nea deseada. <br><br>  Ahora que tenemos una herramienta que ayudar√° a ahorrar tiempo en el formato del c√≥digo, pensaremos en c√≥mo acelerar y simplificar el env√≠o de c√≥digo a PyPI. <br><br><h2>  <font color="#3AC1EF">Paso 2. Crear el archivo .pypirc</font> </h2><br>  Cuando se utiliza el hilo para enviar ensamblajes de aplicaciones a TestPyPI y PyPI, debe ingresar manualmente la informaci√≥n de inicio de sesi√≥n.  Si no est√° familiarizado con el hilo, eche un vistazo a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este</a> material.  Ahora automatizaremos este proceso. <br><br>  Twine puede funcionar con el archivo <code>.pypirc</code> , que debe estar en nuestro directorio de inicio.  Esta herramienta, que descarga datos, toma una URL, nombre de usuario y contrase√±a de un archivo determinado. <br><br>  Por lo tanto, cree un archivo <code>.pypirc</code> en su directorio de inicio: <br><br><pre> <code class="python hljs">touch ~/.pypirc</code> </pre> <br>  Agregue el siguiente texto: <br><br><pre> <code class="python hljs">[distutils] index-servers =   pypi   testpypi [testpypi] repository: https://test.pypi.org/legacy username = your_username password = your_pypitest_password [pypi] username = your_username password = your_pypi_password</code> </pre> <br>  Est√° claro que aqu√≠ debe ingresar su nombre de usuario y contrase√±a reales.  Adem√°s, verifique que este archivo est√© guardado en el directorio de inicio y no en el directorio de trabajo actual.  Si desea proteger este archivo de otros usuarios, puede, utilizando las herramientas de l√≠nea de comandos, configurar sus permisos: <br><br><pre> <code class="python hljs">chmod <span class="hljs-number"><span class="hljs-number">600</span></span> ~/.pypirc</code> </pre> <br>  Ahora su paquete puede cargarse en TestPyPI usando el siguiente comando: <br><br><pre> <code class="python hljs">twine upload -r testpypi dist/*</code> </pre> <br>  En PyPI normal, puede cargar paquetes como este: <br><br><pre> <code class="python hljs">twine upload dist/*</code> </pre> <br>  Despu√©s de obtener el archivo <code>.pypirc</code> , ya no tiene que ingresar manualmente su nombre de usuario y contrase√±a. <br><br>  Ahora agreguemos herramientas de prueba a nuestro entorno de desarrollo que nos permitir√°n verificar el funcionamiento correcto del paquete que estamos creando. <br><br><h2>  <font color="#3AC1EF">Paso 3. Instalar y configurar pytest</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/561/860/645/561860645caff54bbde0e568e9d319ab.jpg"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Pytest</a> es la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">biblioteca</a> m√°s popular y f√°cil de usar para probar el c√≥digo escrito en Python.  En este ejemplo, agregaremos pruebas simples al proyecto.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ahora</a> , si est√° interesado en los detalles de pytest, una buena gu√≠a introductoria de esta herramienta. <br><br>  Agregue detalles de pytest a require_dev.txt: <br><br><pre> <code class="python hljs">pytest==<span class="hljs-number"><span class="hljs-number">4.3</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span></code> </pre> <br>  Instalemos el paquete: <br><br><pre> <code class="python hljs">pip install requirements_dev.txt</code> </pre> <br>  Ahora ejecute el siguiente comando, que permitir√° que pytest encuentre nuestro paquete: <br><br><pre> <code class="python hljs">pip install -e .</code> </pre> <br>  Si desactiv√≥ su entorno de desarrollo virtual, deber√° ejecutar ambos comandos <code>pip</code> nuevamente para ejecutar las pruebas. <br><br><h2>  <font color="#3AC1EF">Paso 4. Crear pruebas</font> </h2><br>  Agregue la carpeta de <code>test</code> al directorio ra√≠z de su proyecto.  Coloque el archivo <code>test_your_package_name.py</code> en √©l.  Mi archivo se llama <code>test_notebookc.py</code> .  Si el nombre del archivo comienza con <code>test_</code> , pytest puede detectar autom√°ticamente dicho archivo. <br><br>  <code>test_notebookc.py</code> la siguiente prueba al archivo <code>test_notebookc.py</code> , cuyo objetivo es verificar si la funci√≥n muestra el nombre correcto.  Modifique este c√≥digo para que los nombres de archivo y funci√≥n utilizados coincidan con los suyos, describa sus propias pruebas en √©l. <br><br><pre> <code class="python hljs"><span class="hljs-string"><span class="hljs-string">"""Tests for `notebookc` package."""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pytest <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> notebookc <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> notebookc <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_convert</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(capsys)</span></span></span><span class="hljs-function">:</span></span>   <span class="hljs-string"><span class="hljs-string">"""Correct my_name argument prints"""</span></span>   notebookc.convert(<span class="hljs-string"><span class="hljs-string">"Jill"</span></span>)   captured = capsys.readouterr()   <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> <span class="hljs-string"><span class="hljs-string">"Jall"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> captured.out</code> </pre> <br>  ¬øQu√© est√° pasando aqu√≠? <br><br>  Primero importamos nuestro m√≥dulo aqu√≠.  Luego creamos una funci√≥n cuyo nombre se construye de acuerdo con la plantilla <code>test_my_function_name</code> .  Esta convenci√≥n de nomenclatura de funciones permite que otras personas que lean el c√≥digo de su proyecto comprendan r√°pidamente qu√© se est√° probando exactamente en las pruebas.  Adem√°s, esto es necesario para un paquete que ayuda a controlar la cobertura del c√≥digo con las pruebas, que discutiremos a continuaci√≥n. <br><br>  Despu√©s de eso, llamamos a la funci√≥n ( <code>convert</code> ), pas√°ndole el nombre de <code>Jill</code> como argumento.  Siguiente: captura lo que muestra la funci√≥n.  Aqu√≠ vale la pena decir que la funci√≥n en cuesti√≥n es extremadamente simple.  Ella toma el par√°metro <code>my_name</code> y hace lo siguiente: <br><br><pre> <code class="python hljs">print(<span class="hljs-string"><span class="hljs-string">f"I'll convert a notebook for you some day, </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">{my_name}</span></span></span><span class="hljs-string">."</span></span>)</code> </pre> <br>  Pytest verifica si <code>Jall</code> est√° <code>Jall</code> en lo que genera la funci√≥n.  Esta l√≠nea no deber√≠a estar all√≠, ya que pasamos las funciones de <code>Jill</code> .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠</a> est√° la documentaci√≥n de pytest donde puede encontrar informaci√≥n sobre la salida de interceptaci√≥n. <br><br>  Ejecute la prueba escribiendo <code>pytest</code> en el s√≠mbolo del sistema.  Esta prueba deber√≠a fallar.  La informaci√≥n del error se muestra en rojo. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61c/cfb/1f6/61ccfb1f6cff485d9cd90f8f68f2d33c.png"></div><br>  <i><font color="#999999">Se detect√≥ un error durante la prueba.</font></i> <br><br>  Se recomienda verificar la exactitud de las pruebas, describi√©ndolas para que, bajo ciertas condiciones, terminen con un error.  No debe escribir pruebas que solo emitan mensajes verdes, ya que de lo contrario puede resultar que las pruebas no comprueben en absoluto lo que est√°n escritas para verificar. <br><br>  Despu√©s de asegurarnos de que la prueba fall√≥, cambie la declaraci√≥n de <code>Jall</code> a <code>Jill</code> y vuelva a ejecutar la prueba.  Ahora deber√≠a completarse con √©xito. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c64/d72/bf5/c64d72bf51a42f3f209c00dc46e8ee52.png"></div><br>  <i><font color="#999999">Finalizaci√≥n exitosa de la prueba.</font></i> <br><br>  Ahora todo est√° bien.  La prueba le permite asegurarse de que si alguien pasa una l√≠nea a nuestra funci√≥n, esta l√≠nea caer√° en el texto que muestra esta funci√≥n. <br><br>  Tambi√©n puede escribir una prueba que verifique la funci√≥n sobre c√≥mo maneja los datos que se le pasan.  Es decir, si recibe datos cuyo tipo es diferente de la cadena, deber√≠a causar un error TypeError.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ hay</a> algunas cosas buenas sobre excepciones y manejo de errores en Python. <br><br>  Cuando creamos la prueba anterior, escribimos un c√≥digo que conduce a la finalizaci√≥n exitosa de la prueba.  Esto se llama desarrollo impulsado por pruebas (TDD).  TDD es un enfoque de programaci√≥n probado que lo ayuda a escribir c√≥digo que tiene menos errores de lo que lo har√≠a sin TDD.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠ hay</a> material √∫til de TDD. <br><br>  Ahora, como ejercicio, intente escribir una prueba que verifique la funci√≥n <code>convert()</code> para que al pasarle algo diferente de la cadena, arroje un error e implemente los mecanismos apropiados para esta funci√≥n.  Tenga en cuenta que los enteros, las listas y los diccionarios se convierten en cadenas. <br><br>  Despu√©s de que el paquete haya pasado con √©xito las pruebas, estamos listos para aprovechar el sistema de integraci√≥n continua. <br><br><h2>  <font color="#3AC1EF">Paso 5. Registro en el servicio Travis CI y su configuraci√≥n</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/36c/e18/b28/36ce18b28c14dd932d4194a7eb0031e6.png"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Travis CI</a> es un "servicio web distribuido para crear y probar software".  Fue comprado recientemente por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Idera</a> .  Existen otros sistemas de integraci√≥n continua, pero Travis CI es una herramienta popular, de c√≥digo abierto y bien documentada, por lo que la utilizaremos. <br><br>  Travis CI le permite integrar en su proyecto solo el c√≥digo que pasa las pruebas y cumple con los est√°ndares.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Aqu√≠</a> puede leer m√°s sobre Travis CI, y aqu√≠ sobre la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">integraci√≥n</a> continua. <br><br>  Cree una cuenta en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://travis-ci.org/</a> .  A continuaci√≥n, haga clic en el enlace <code>Review and add your authorized organizations</code> en la p√°gina de perfil.  Se le pedir√° una contrase√±a para acceder a GitHub.  Haga clic en <code>Grant</code> en la secci√≥n de <code>Organization access</code> la <code>Organization access</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/65e/6bd/d52/65e6bdd52e958c8335c999e971eec8ec.png"></div><br>  <i><font color="#999999">Configurar una cuenta de Travis CI</font></i> <br><br>  Necesitaba sincronizar la cuenta para que la informaci√≥n sobre <code>notebooktoall</code> y el repositorio de <code>notebookc</code> aparecieran en la cuenta.  Por lo general, para que Travis CI funcione con c√≥digo, se tarda aproximadamente un minuto.  Despu√©s de eso, debe activar el repositorio utilizando el interruptor que se muestra en la siguiente figura. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/444/046/54c/44404654c3d1a95209f1418e2b3ea543.png"></div><br>  <i><font color="#999999">Activaci√≥n de repositorio</font></i> <br><br>  Ahora haga clic en el bot√≥n <code>Settings</code> .  Aqu√≠ debe indicar si Travis puede construir bas√°ndose en solicitudes de extracci√≥n o ramas enviadas al repositorio. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/361/1ed/b25/3611edb25ab1af3484db1d38b0eda38c.png"></div><br>  <i><font color="#999999">Configuraci√≥n de construcci√≥n del proyecto</font></i> <br><br>  Ahora es el momento de configurar el proyecto en el que estamos trabajando, lo que permitir√° a Travis construir el proyecto para cada solicitud de extracci√≥n. <br><br><h2>  <font color="#3AC1EF">Paso 6. Crear el archivo .travis.yml</font> </h2><br>  En la carpeta ra√≠z del proyecto, cree un archivo <code>.travis.yml</code> con el siguiente contenido: <br><br><pre> <code class="python hljs">dist: xenial language: python python: <span class="hljs-number"><span class="hljs-number">3.7</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> install: - pip install -r requirements_dev.txt - pip install -e . script: - pytest</code> </pre> <br>  La l√≠nea <code>dist: xenial</code> necesaria para decirle a Travis que use Ubuntu Xenial 16.04 para organizar el entorno virtual.  Para probar el c√≥digo Python 3.7, se necesita Ubuntu Xenial, los detalles sobre esto se pueden encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  La secci√≥n de <code>install</code> permite instalar paquetes utilizados en el desarrollo de proyectos.  <code>pip install -e .</code> comando  realiza la instalaci√≥n de nuestro paquete en el entorno virtual de Travis.  Despu√©s de eso, Travis, comenzando pytest, podr√° encontrar nuestro paquete. <br><br><h2>  <font color="#3AC1EF">Paso 7. Pruebas en Travis CI</font> </h2><br>  Confirma los cambios, env√≠alos a GitHub, haz el PR.  Travis deber√≠a comenzar a trabajar en segundos. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/15a/32a/d3f/15a32ad3f0a601e6bf89c06932efc450.png"></div><br>  <i><font color="#999999">Travis en el trabajo</font></i> <br><br>  Esto es lo que Travis hace al manejar el proyecto. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d4a/b80/9a6/d4ab809a68ef70b62ad28121b055fc12.png"></div><br>  <i><font color="#999999">Acciones realizadas por Travis durante el procesamiento del proyecto</font></i> <br><br>  Si el RP no tuvo √©xito, Travis lo informar√°.  Tenga en cuenta que si la solicitud de extracci√≥n no tiene √©xito, puede enviar los cambios a la misma sucursal y Travis comenzar√° a funcionar autom√°ticamente. <br><br>  Vaya a su p√°gina de repositorio en el sitio web de Travis y mire a su alrededor.  Aqu√≠ puede encontrar muchas cosas interesantes sobre ensamblajes.  Probablemente en el futuro se convertir√° en un invitado frecuente de esta p√°gina cuando intente comprender qu√© caus√≥ el ensamblaje fallido. <br><br>  Si suponemos que todo sali√≥ bien, si la p√°gina contiene etiquetas verdes, la verificaci√≥n y el montaje del proyecto tuvieron √©xito. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a6/bd0/7c4/6a6bd07c4f0a9c82e87b9fd1a71b9b10.png"></div><br>  <i><font color="#999999">Proyecto ensamblado completado con √©xito</font></i> <br><br>  Si no hay etiquetas verdes o rojas en la p√°gina, abra el men√∫ <code>More options</code> y seleccione <code>Requests</code> .  Si ve mensajes de error rojos aqu√≠, anal√≠celos.  Si ve que el <code>Build config file is required</code> un mensaje de error, significa que Travis no puede encontrar su archivo <code>.travis.yml</code> en el repositorio.  Corr√≠jalo y el error desaparecer√°. <br><br>  Travis env√≠a correos electr√≥nicos a los usuarios en los casos en que el ensamblaje del proyecto no tiene √©xito y en los casos en que es posible arreglarlo. <br><br>  Recuerde que puede enviar confirmaciones para abrir relaciones p√∫blicas y Travis reiniciar√° autom√°ticamente el proceso de compilaci√≥n del proyecto. <br><br>  Ahora analicemos nuestro proyecto para cubrir el c√≥digo con pruebas. <br><br><h2>  <font color="#3AC1EF">Paso 8. Evaluar la cobertura del c√≥digo con pruebas</font> </h2><br>  El informe sobre la cobertura del c√≥digo con pruebas le permite averiguar qu√© parte del c√≥digo del proyecto, aunque sea peque√±o, se ha probado.  Para crear dichos informes, utilizaremos el paquete <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">pytest-cov</a> . <br><br>  Agregue la siguiente l√≠nea al archivo require_dev.txt: <br><br><pre> <code class="python hljs">pytest-cov==<span class="hljs-number"><span class="hljs-number">2.6</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span></code> </pre> <br>  Ejecute el siguiente comando: <br><br><pre> <code class="python hljs">pytest --cov=my_project_name</code> </pre> <br>  En mi caso, despu√©s de que se <code>pytest --cov=notebookc</code> , se mostr√≥ el siguiente informe. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/83c/566/d29/83c566d2942cbafcedd03de799b0eacd.png"></div><br>  <i><font color="#999999">Informe de cobertura de c√≥digo</font></i> <br><br>  Al final result√≥ que, todo el c√≥digo del proyecto se proporciona con pruebas.  Tales indicadores son muy f√°ciles de lograr si todo el proyecto consta de varias l√≠neas de c√≥digo. <br><br>  Ahora hablemos de una herramienta que le permite mantener un historial p√∫blico del estado del proyecto en t√©rminos de cubrir su c√≥digo con pruebas. <br><br><h2>  <font color="#3AC1EF">Paso 9. Usando Overoles</font> </h2><br>  El proyecto Overol le permite mantener informaci√≥n hist√≥rica sobre la cobertura del c√≥digo con las pruebas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8c0/616/ecd/8c0616ecddd054d1adabf0532c75f69b.png"></div><br>  <i><font color="#999999">Overoles</font></i> <br><br>  Para aprovechar las capacidades de este proyecto, debe registrarse en el sitio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://coveralls.io/</a> utilizando los datos de su cuenta de GitHub.  Entonces necesitas conectar el repositorio. <br><br>  En el archivo require_dev.txt, agregue los <code>coveralls==1.6.0</code> l√≠nea <code>coveralls==1.6.0</code> .  Este archivo, por cierto, en esta etapa del trabajo en el proyecto deber√≠a verse as√≠: <br><br><pre> <code class="python hljs">pip==<span class="hljs-number"><span class="hljs-number">19.0</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> wheel==<span class="hljs-number"><span class="hljs-number">0.33</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> twine==<span class="hljs-number"><span class="hljs-number">1.13</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> pytest==<span class="hljs-number"><span class="hljs-number">4.3</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> pytest-cov==<span class="hljs-number"><span class="hljs-number">2.6</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> coveralls==<span class="hljs-number"><span class="hljs-number">1.6</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span></code> </pre> <br>  <code>.travis.yml</code> archivo <code>.travis.yml</code> , llev√°ndolo a este formulario (en su caso, el nombre de su proyecto estar√° aqu√≠): <br><br><pre> <code class="python hljs">dist: xenial language: python python: <span class="hljs-number"><span class="hljs-number">3.7</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span> install: ‚Äî pip install -r requirements_dev.txt ‚Äî pip install -e . script: ‚Äî pytest --cov=my_package_name after_success: ‚Äî coveralls</code> </pre> <br>  Ahora, cuando Travis construir√° el proyecto, instalar√° los paquetes necesarios, ejecutar√° las pruebas y crear√° un informe sobre la cobertura del c√≥digo con las pruebas.  Luego, este informe se enviar√° al servicio de Overoles. <br><br>  Comprometerse, enviar el c√≥digo a GitHub y ver qu√© sucede.  Es posible que el informe de la prueba de cobertura del c√≥digo tarde unos minutos en ingresar a Overol. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7eb/19d/967/7eb19d96768a592ef21b611ab69e3509.png"></div><br>  <i><font color="#999999">Procesamiento del proyecto, informe de cobertura de prueba</font></i> <br><br>  Ahora, entre las comprobaciones de relaciones p√∫blicas, tambi√©n hay una comprobaci√≥n realizada por Overol. <br><br>  En la p√°gina Overoles, puede verificar que el proyecto est√© 100% cubierto en las pruebas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/24a/f45/762/24af45762ed1b6f80a4b558ab24fcef1.png"></div><br>  <i><font color="#999999">Informaci√≥n de cobertura de prueba</font></i> <br><br>  Ahora equipemos nuestro proyecto con otra herramienta √∫til. <br><br><h2>  <font color="#3AC1EF">Paso 10. Trabajando con PyUp</font> </h2><br>  El servicio PyUp.io le permite al desarrollador averiguar si las dependencias utilizadas por √©l est√°n desactualizadas y si tienen vulnerabilidades.  Este servicio ejecuta autom√°ticamente solicitudes de extracci√≥n destinadas a actualizar el paquete en GitHub.  Para aprovechar las capacidades de este proyecto, debe registrarse utilizando una cuenta de GitHub, en su sitio web: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://pyup.io/</a> .  Al agregar un repositorio, se recomienda establecer los <code>Update Schedules</code> <code>every week</code> .  Con este enfoque, si su proyecto tiene muchas dependencias, no encontrar√° demasiadas solicitudes de extracci√≥n. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8fe/4d5/14f/8fe4d514fe0efef8c8c0bea40451f4d3.png"></div><br>  <i><font color="#999999">Configurar actualizaciones</font></i> <br><br>  As√≠ es como se ve la informaci√≥n del paquete, algunas de las cuales est√°n desactualizadas, en el sitio web PyUp.io. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/372/26a/e7a/37226ae7a12381601d7335b1ae935d17.png"></div><br>  <i><font color="#999999">Detalles del paquete</font></i> <br><br>  Con este servicio, siempre sabr√° cu√°ndo salen las √∫ltimas versiones de los paquetes que utiliza.  El conocimiento, como dicen, es la mitad de la victoria.  Y la segunda mitad es, obviamente, solicitudes autom√°ticas de extracci√≥n para actualizar las dependencias. <br><br><h2>  <font color="#3AC1EF">Resumen</font> </h2><br>  En este art√≠culo, aprendi√≥ a usar herramientas como Black, pytest, Travis CI, Overol y PyUp al desarrollar proyectos de Python.  Ayudan a controlar las dependencias del proyecto, formatear y probar el c√≥digo, y verificar y construir proyectos.  Esperamos que encuentre √∫tiles estas herramientas. <br><br>  <b>Estimados lectores!</b>  ¬øQu√© herramientas utilizas al desarrollar proyectos de Python? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/444344/">https://habr.com/ru/post/444344/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../444332/index.html">Seguridad de la informaci√≥n y restauraci√≥n: c√≥mo piensan los gerentes acerca de los productos de TI</a></li>
<li><a href="../444336/index.html">Listas de captura r√°pida: ¬øcu√°l es la diferencia entre enlaces d√©biles, fuertes y no propios?</a></li>
<li><a href="../444338/index.html">Encapsulaci√≥n en Python 3</a></li>
<li><a href="../444340/index.html">Caracter√≠sticas del uso del tipo de datos Symbol en JavaScript</a></li>
<li><a href="../444342/index.html">Desarrollar aplicaciones JavaScript simples y modernas utilizando Webpack y tecnolog√≠as web avanzadas</a></li>
<li><a href="../444346/index.html">GraphQL y Golang</a></li>
<li><a href="../444348/index.html">¬øEn qu√© se diferencian los componentes funcionales de React de los componentes basados ‚Äã‚Äãen clases?</a></li>
<li><a href="../444350/index.html">Por alguna raz√≥n, MVP (producto m√≠nimo viable) no se inicia</a></li>
<li><a href="../444352/index.html">Kontur.Kampus: te invitamos a un campamento estudiantil gratuito de desarrollo industrial cerca de San Petersburgo</a></li>
<li><a href="../444356/index.html">Tutorial de React Parte 24: Lecci√≥n de los segundos formularios</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>