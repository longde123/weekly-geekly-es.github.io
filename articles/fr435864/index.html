<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕛 💄 👯 Cartographie des demandes pour Netty 👩‍💻 🧚🏼 🍦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il était une fois dans un projet très, très loin ... , j'avais besoin de faire le traitement des requêtes http sur Netty . Malheureusement, il n'y ava...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cartographie des demandes pour Netty</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/435864/"><p>  <em>Il était une fois dans un projet très, très loin ...</em> , j'avais besoin de faire le traitement des requêtes http sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Netty</a> .  Malheureusement, il n'y avait pas de mécanismes standard standard pour mapper les requêtes http dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Netty</a> (et ce cadre n'est pas du tout pour cela), par conséquent, il a été décidé de mettre en œuvre notre propre mécanisme. </p><a name="habracut"></a><br><blockquote>  Si le lecteur commence à s'inquiéter du sort du projet, alors ça ne vaut pas la peine, tout va bien pour lui, car  à l'avenir, il a été décidé de réécrire le service Web sur un cadre plus affiné pour les services RESTful, sans utiliser vos propres vélos.  Mais les réalisations sont restées, et elles peuvent être utiles à quelqu'un, donc je voudrais les partager. </blockquote><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Netty</a> est un cadre de développement d'applications réseau hautes performances.  Vous pouvez en savoir plus à ce sujet sur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le site Web du</a> projet. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Netty</a> fournit des fonctionnalités très pratiques pour créer des serveurs socket, mais à mon avis, cette fonctionnalité n'est pas très pratique pour créer des serveurs REST. </p><br><h1 id="obrabotka-zaprosov-s-ispolzovaniem-standartnogo-mehanizma-netty">  Traitement des demandes à l'aide du moteur Netty standard </h1><br><p> Pour traiter les demandes dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Netty,</a> vous devez hériter de la classe <code>ChannelInboundHandlerAdapter</code> et remplacer la méthode <code>channelRead</code> . </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HttpMappingHandler</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ChannelInboundHandlerAdapter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">channelRead</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ChannelHandlerContext ctx, Object msg)</span></span></span><span class="hljs-function"> </span></span>{ } }</code> </pre> <br><p>  Pour obtenir les informations nécessaires au traitement des requêtes http, l'objet <code>msg</code> peut être <code>HttpRequest</code> en <code>HttpRequest</code> . </p><br><pre> <code class="java hljs">HttpRequest request = (HttpRequest) msg;</code> </pre> <br><p>  Après cela, vous pouvez obtenir toutes les informations de cette demande.  Par exemple, l'URL de la demande. </p><br><pre> <code class="java hljs">String uri = request.uri();</code> </pre> <br><p>  Type de demande. </p><br><pre> <code class="java hljs">HttpMethod httpMethod = request.method();</code> </pre> <br><p>  Et le contenu. </p><br><pre> <code class="java hljs">ByteBuf byteBuf = ((HttpContent) request).content();</code> </pre> <br><p>  Le contenu peut être, par exemple, json passé dans le corps de la requête <code>POST</code> .  <code>ByteBuf</code> est une classe de la bibliothèque <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Netty</a> , il est donc peu probable que les analyseurs json fonctionnent avec elle, mais il peut très facilement être converti en chaîne. </p><br><pre> <code class="java hljs">String content = byteBuf.toString(StandardCharsets.UTF_8);</code> </pre> <br><p>  C'est, en général, tout.  En utilisant les méthodes ci-dessus, vous pouvez traiter les requêtes http.  Certes, tout devra être traité au même endroit, à savoir dans la méthode <code>channelRead</code> .  Même si nous séparons la logique de traitement des demandes en différentes méthodes et classes, vous devez toujours mapper l'URL à ces méthodes quelque part en un seul endroit. </p><br><h1 id="mapping-zaprosov">  Mappage de demande </h1><br><p>  Eh bien, comme vous pouvez le voir, il est possible d'implémenter le mappage des requêtes http en utilisant la fonctionnalité <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Netty</a> standard.  Certes, ce ne sera pas très pratique.  Je voudrais en quelque sorte séparer complètement le traitement des requêtes http par différentes méthodes (par exemple, comme cela se fait au <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">printemps</a> ).  A l'aide de la réflexion, une tentative a été faite pour mettre en œuvre une approche similaire.  La bibliothèque <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">num s'est</a> avérée à partir de cela.  Son code source se trouve <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br>  Pour utiliser le mappage de demande à l'aide de la bibliothèque <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">num</a> , il suffit d'hériter de la classe <code>AbstractHttpMappingHandler</code> , après quoi vous pouvez créer des méthodes de gestionnaire de demande dans cette classe.  La principale exigence de ces méthodes est qu'elles retournent <code>FullHttpResponse</code> ou ses descendants.  Vous pouvez montrer par quelle requête http cette méthode sera appelée à l'aide d'annotations: </p><br><ul><li> <code>@Get</code> </li> <li> <code>@Post</code> </li> <li> <code>@Put</code> </li> <li> <code>@Delete</code> </li> </ul><br><p>  Le nom de l'annotation indique le type de demande qui sera appelé.  Quatre types de demandes sont pris en charge: <code>GET</code> , <code>POST</code> , <code>PUT</code> et <code>DELETE</code> .  En tant <code>value</code> paramètre de <code>value</code> dans l'annotation, vous devez spécifier l'URL, lorsque vous y accédez, la méthode souhaitée sera appelée. </p><br><p>  Un exemple de ce à quoi ressemble le gestionnaire de <code>GET</code> , qui renvoie la chaîne <code>Hello, world!</code>  . </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HelloHttpHandler</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractHttpMappingHandler</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Get</span></span>(<span class="hljs-string"><span class="hljs-string">"/test/get"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> DefaultFullHttpResponse </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DefaultFullHttpResponse(HttpVersion.HTTP_1_1, OK, Unpooled.copiedBuffer(<span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>, StandardCharsets.UTF_8)); } }</code> </pre> <br><h1 id="parametry-zaprosov">  Paramètres de demande </h1><br><p>  Le passage des paramètres de la requête à la méthode du gestionnaire s'effectue également à l'aide d'annotations.  Pour ce faire, utilisez l'une des annotations suivantes: </p><br><ul><li> <code>@PathParam</code> </li> <li> <code>@QueryParam</code> </li> <li> <code>@RequestBody</code> </li> </ul><br><h2 id="pathparam">  @PathParam </h2><br><p>  Pour passer les paramètres de chemin, l'annotation <code>@PathParam</code> est <code>@PathParam</code> .  Lorsque vous l'utilisez comme paramètre de <code>value</code> de l'annotation, vous devez spécifier le nom du paramètre.  De plus, le nom du paramètre doit également être spécifié dans l'URL de la demande. </p><br><p>  Un exemple de la façon dont le gestionnaire de <code>GET</code> recherchera dans lequel le paramètre <code>id</code> path est passé et que ce paramètre renvoie. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HelloHttpHandler</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractHttpMappingHandler</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Get</span></span>(<span class="hljs-string"><span class="hljs-string">"/test/get/{id}"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> DefaultFullHttpResponse </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@PathParam(value = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"id"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> id) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DefaultFullHttpResponse(HttpVersion.HTTP_1_1, OK, Unpooled.copiedBuffer(id, StandardCharsets.UTF_8)); } }</code> </pre> <br><h2 id="queryparam">  @QueryParam </h2><br><p>  Pour passer des paramètres de requête, l'annotation <code>@QueryParam</code> est <code>@QueryParam</code> .  Lorsque vous l'utilisez comme paramètre de <code>value</code> de l'annotation, vous devez spécifier le nom du paramètre.  La liaison des paramètres peut être contrôlée à l'aide du paramètre d'annotation <code>required</code> . </p><br><p>  Un exemple de ce à quoi ressemblera le gestionnaire de <code>GET</code> , auquel le <code>message</code> paramètre de requête <code>message</code> transmis et qui renvoie ce paramètre. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HelloHttpHandler</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractHttpMappingHandler</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Get</span></span>(<span class="hljs-string"><span class="hljs-string">"/test/get"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> DefaultFullHttpResponse </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@QueryParam(value = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"message"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> String message) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DefaultFullHttpResponse(HttpVersion.HTTP_1_1, OK, Unpooled.copiedBuffer(message, StandardCharsets.UTF_8)); } }</code> </pre> <br><h2 id="requestbody">  @RequestBody </h2><br><p>  Pour transmettre le corps des requêtes <code>POST</code> , l'annotation <code>@RequestBody</code> est <code>@RequestBody</code> .  Par conséquent, il est autorisé à l'utiliser uniquement dans les requêtes <code>POST</code> .  Il est supposé que les données au format json seront transmises en tant que corps de demande.  Par conséquent, pour utiliser <code>@RequestBody</code> il est nécessaire de passer l'implémentation de l'interface <code>JsonParser</code> au constructeur de la classe de gestionnaire, qui sera engagé dans l'analyse des données du corps de la demande.  De plus, la bibliothèque a déjà une implémentation par défaut de <code>JsonParserDefault</code> .  Cette implémentation utilise <code>jackson</code> comme analyseur. </p><br><p>  Un exemple de ce à quoi ressemblera un gestionnaire de requêtes <code>POST</code> dans lequel se trouve un corps de requête. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HelloHttpHandler</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractHttpMappingHandler</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Post</span></span>(<span class="hljs-string"><span class="hljs-string">"/test/post"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> DefaultFullHttpResponse </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(@RequestBody Message message)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DefaultFullHttpResponse(HttpVersion.HTTP_1_1, OK, Unpooled.copiedBuffer(<span class="hljs-string"><span class="hljs-string">"{id: '"</span></span> + message.getId() +<span class="hljs-string"><span class="hljs-string">"', msg: '"</span></span> + message.getMessage() + <span class="hljs-string"><span class="hljs-string">"'}"</span></span>, StandardCharsets.UTF_8)); } }</code> </pre> <br><p>  La classe <code>Message</code> est la suivante. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Message</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> id; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String message; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Message</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> id; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> id)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.id = id; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> message; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String message)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.message = message; } }</code> </pre> <br><h1 id="obrabotka-oshibok">  Gestion des erreurs </h1><br><p>  Si, lors du traitement des demandes, une <code>Exception</code> se produit et n'est pas interceptée dans le code des méthodes du gestionnaire, la réponse avec le 500e code sera retournée.  Pour écrire une logique de gestion des erreurs, il suffit de redéfinir la méthode <code>exceptionCaught</code> dans la classe du gestionnaire. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HelloHttpHandler</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractHttpMappingHandler</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">exceptionCaught</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ChannelHandlerContext ctx, Throwable cause)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.exceptionCaught(ctx, cause); ctx.writeAndFlush(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DefaultFullHttpResponse(HttpVersion.HTTP_1_1, HttpResponseStatus.INTERNAL_SERVER_ERROR)); } }</code> </pre> <br><h1 id="zaklyuchenie">  Conclusion </h1><br><p>  C'est, en général, tout.  J'espère que cela a été intéressant et sera utile à quelqu'un. </p><br><hr><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le</a> code d'exemple du serveur http <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Netty</a> utilisant la bibliothèque <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">num</a> est disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr435864/">https://habr.com/ru/post/fr435864/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr435848/index.html">Nouveaux appareils et technologies avec CES 2019 de Microsoft et de ses partenaires</a></li>
<li><a href="../fr435854/index.html">Notes d'un phytochimiste. Radio banane</a></li>
<li><a href="../fr435856/index.html">Quels antivirus sont utilisés dans les pare-feu modernes</a></li>
<li><a href="../fr435858/index.html">Touches matérielles programmables TOTP avec possibilité de synchroniser l'heure</a></li>
<li><a href="../fr435862/index.html">Temple de la renommée de l'électronique grand public: les histoires des meilleurs gadgets des 50 dernières années, partie 4</a></li>
<li><a href="../fr435866/index.html">Release IT: une nouvelle plateforme de lancement de produits et services dans le cadre du festival SXSW 2019</a></li>
<li><a href="../fr435868/index.html">Slush 2018. Preview Day</a></li>
<li><a href="../fr435870/index.html">Orchestre cybernétique. Docker Container Orchestration avec des applications .NET Core dans le cloud</a></li>
<li><a href="../fr435872/index.html">Langage de programmation Zig</a></li>
<li><a href="../fr435876/index.html">Paramètres détaillés du navigateur Firefox</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>