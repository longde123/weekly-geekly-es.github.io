<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎅🏽 🎙️ ⬜️ طريقة مخضرم لبناء مشاريع الذهاب 🧚🏽 🏴‍☠️ 🛑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="أولاً ، خلفية صغيرة. في أوائل عام 2010 ، قمت بعمل أداة تحويل صغيرة لملفات BIN الخاصة بمحاكي BK-0010 إلى ملفات WAV. تمت كتابة الأداة المساعدة في Python...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>طريقة مخضرم لبناء مشاريع الذهاب</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465803/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  أولاً ، خلفية صغيرة.  في أوائل عام 2010 ، قمت بعمل <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">أداة تحويل صغيرة</a> لملفات BIN الخاصة بمحاكي <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">BK-0010</a> إلى ملفات WAV.  تمت كتابة الأداة المساعدة في Python بهدف أقصى قابلية للنقل ، وقد عملت دون مشاكل ، وقد نسيت ذلك لفترة من الوقت.  ولكن في عام 2016 ، ظهر المستخدم ، الذي لم يكن لديه أي فكرة عن بيثون وكيفية تثبيته.  أراد متراصة قابلة للتنفيذ بسيطة من شأنها أن "العمل فقط".  بدا أن طلبه منطقي ، وقررت إعادة صياغة الأداة كمجموعة من الملفات التنفيذية الثنائية للأنظمة الأساسية. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/dm/hq/kd/dmhqkdcz2pv6rlqs3af4f2_5jv4.png" alt="صورة"></p><br><p style=";text-align:right;direction:rtl"> لم تمنح Python و Java هذه الفرصة (ما لم تكن هناك بالطبع رغبة في تضخيم الأداة بعدة عشرات من الميجابايت).  من المحتمل ، يمكن إجراء الحل في C / C ++ ، ولكن مع مثل هذه التغطية المستهدفة للمنصات ، فإن صعوبات التجميع المتقاطع ستتجاوز الوقت المخصص للمهمة (واضطررت إلى دعم التجميع المتزامن لنظامي التشغيل Windows و Linux و MacOS في 64 و 32 بت تجسيدات).  لذا لفتت الانتباه إلى لغة Go ، التي تكتسب شعبية ، والتي أصبحت بحلول ذلك الوقت ناضجة بالفعل ، والوحيد الذي يقدم <strong>دون كل الرقصات مع الدف يوفر كل التجميع المتداخل المطلوب خارج الصندوق مباشرة (!)</strong> . </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  أحد المضايقات التي أزعجتني كثيرًا حول Go (خاصة كمطور Java) كانت ضعف التفكير في تنظيم بنية مشاريع Go والحاجة إلى ضبط البيئة باستمرار.  ربما خطط مطورو Go مبدئيًا لاستخدام معين أو كان هناك تركيز على الحاويات ، لكنني اعتدت على الاستخدام "اللذيذ" ولأن أداةي الرئيسية في Java هي <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Maven</a> ، فقد قررت إجراء مكوّن إضافي لإجراء مكالمات إلى الأدوات المساعدة وأوامر GoSDK مع الإنشاء التلقائي للأوامر الضرورية متغيرات البيئة. </p><br><p style=";text-align:right;direction:rtl"> لم يكن من المثير للاهتمام إنشاء مكوّن إضافي بسيط يسمي الأداة المساعدة go ، وقررت الانتقال من الخطوة - تثبيت GoSDK على النظام الأساسي المضيف.  مباشرة بعد البدء ، يتم فحص GoSDK في دليل التكوين الخاص بها (اخترت المسار الافتراضي <code>~/.mvnGoLang</code> ) ، وفي حالة عدم وجود الإصدار المطلوب ، يتم تنزيل أرشيف GoSDK تلقائيًا وتفريغه من <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الموقع الرسمي</a> .  سمح لنا ذلك بإنشاء مشاريع Go المحمولة دون القلق بشأن ما إذا كانت أداة الإصدار المطلوب مثبتة مسبقًا أم لا.  بالطبع ، مع العديد من الإعدادات ، توقعت إمكانية استخدام إصدار مثبت مسبقًا وإعدادات إضافية لجميع الخطوات في العملية ، نظرًا لأن العديد من المشكلات مثل تعطيل التحقق من شهادة طبقة المقابس الآمنة أو جعل طلبات HTTP بالخارج عمومًا (مثل مشروع <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Keycloak</a> ) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ضرورية</a> . </p><br><p style=";text-align:right;direction:rtl">  في الخطوة التالية ، غطيت في الأهداف (الأهداف) جميع أوامر الذهاب فائدة المقدمة في ذلك الوقت.  نظرًا لوجود فرصة ظهور أمر جديد آخر مع الإصدار الجديد من GoSDK ، تمت إضافة مهمة <code>custom</code> تتيح للمستخدم تحديد الأمر المرغوب به من تلقاء نفسه.  بشكل افتراضي ، في إطار مراحل maven (المراحل) ، يتم تنفيذ المهام بالترتيب التالي: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>نظيفة</strong> كما <code>default-clean</code> في المرحلة <em>نظيفة</em> </li><li style=";text-align:right;direction:rtl">  <strong>إصلاح كإصلاح</strong> <code>default-fix</code> في مرحلة <em>التحقق من الصحة</em> </li><li style=";text-align:right;direction:rtl">  <strong>الحصول</strong> كما <code>default-get</code> مرحلة <em>التهيئة</em> </li><li style=";text-align:right;direction:rtl">  <strong>إنشاء</strong> <code>default-generate</code> في مرحلة <em>إنشاء المصادر</em> </li><li style=";text-align:right;direction:rtl">  <strong>fmt</strong> كما <code>default-fmt</code> في مرحلة <em>مصادر العملية</em> </li><li style=";text-align:right;direction:rtl">  <strong>اختبار كاختبار</strong> <code>default-test</code> في مرحلة <em>الاختبار</em> </li><li style=";text-align:right;direction:rtl">  <strong>بناء</strong> كما <code>default-build</code> في مرحلة <em>الحزمة</em> </li><li style=";text-align:right;direction:rtl">  <strong>كتثبيت</strong> <code>default-install</code> يتم <strong>تنفيذ</strong> المهمة الداخلية <strong>mvninstall</strong> في مرحلة <em>التثبيت</em> </li><li style=";text-align:right;direction:rtl">  <strong>تثبيت</strong> <code>default-deploy</code> في مرحلة <em>النشر</em> </li></ul><br><p style=";text-align:right;direction:rtl">  يمكن تعطيل أي من الخطوات الأساسية عن طريق ترجمة المهمة إلى مرحلة غير موجودة: </p><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">execution</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span>default-fix<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">id</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">phase</span></span></span><span class="hljs-tag">&gt;</span></span>none<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">phase</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">execution</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  في التنفيذ الداخلي ، تم تقسيم المهام إلى "العمل مع التبعيات" و "لا تتطلب دقة التبعية" ، بعد ظهور الدعم لوضع الوحدة النمطية ، انتقل معظمها إلى "العمل مع التبعيات". </p><br><p style=";text-align:right;direction:rtl">  حاولت بنية مشروع Go-maven الاقتراب من بنية المجلد القياسية المقبولة لـ Go (أي <code>/src</code> و <code>/bin</code> في جذر المشروع).  ولكن نظرًا لأن Maven مسجون لجافا ، فلم يكن من الممكن بشكل مباشر "كسر" نهجه في تنظيم هيكل المشروع وجعل هذه الخطوة غير مرئية للمستخدم ، لذلك يبدو التكوين الأساسي للمكون الإضافي غير عادي قليلاً حتى بالنسبة للكثيرين على دراية بـ maven: </p><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span><span class="hljs-tag">&gt;</span></span> ```${basedir}/src<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sourceDirectory</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">directory</span></span></span><span class="hljs-tag">&gt;</span></span>${basedir}/bin<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">directory</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugins</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.igormaznitsa<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>mvn-golang-wrapper<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>2.3.3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extensions</span></span></span><span class="hljs-tag">&gt;</span></span>true<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extensions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goVersion</span></span></span><span class="hljs-tag">&gt;</span></span>1.12.9<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugins</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><blockquote style=";text-align:right;direction:rtl">  <strong>تحذير!</strong>  لسبب ما ، قد يعرض HabR بشكل غير صحيح قسم <code>&lt;sourceDirectory&gt;${basedir}/src&lt;/sourceDirectory&gt;</code> عند تنسيق XML </blockquote><p style=";text-align:right;direction:rtl">  كما ترى ، يجب عليك تحديد المجلد المصدر <code>/src</code> والمجلد مباشرة بالنتيجة <code>/bin</code> .  من ناحية ، هذا ناقص ، من ناحية أخرى ، إمكانية تغيير موقعهم. </p><br><p style=";text-align:right;direction:rtl">  إن pom.xml الكامل البسيط لمشروع وحدة واحدة ، عالم مرحبا ، كما يلي: </p><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modelVersion</span></span></span><span class="hljs-tag">&gt;</span></span>4.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modelVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.igormaznitsa<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>mvn-golang-helloworld<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0.0-SNAPSHOT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">packaging</span></span></span><span class="hljs-tag">&gt;</span></span>mvn-golang<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">packaging</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span><span class="hljs-tag">&gt;</span></span> ```${basedir}/src<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">sourceDirectory</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">directory</span></span></span><span class="hljs-tag">&gt;</span></span>${basedir}/bin<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">directory</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugins</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.igormaznitsa<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>mvn-golang-wrapper<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>2.3.3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extensions</span></span></span><span class="hljs-tag">&gt;</span></span>true<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">extensions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goVersion</span></span></span><span class="hljs-tag">&gt;</span></span>1.12.9<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">goVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugin</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plugins</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">build</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  يرجى ملاحظة أن عبوة المشروع مصممة كـ <strong>mvn-golang</strong> .  هذا التكوين يكفي لبناء الملف القابل للتنفيذ ووضعه في مجلد الحاوية الناتج على أساس النصوص المصدر في مجلد src.  سيتم أيضًا إنشاء ذاكرة التخزين المؤقت Go build في <code>/bin</code> (كـ <code>/bin/.goBuildCache</code> افتراضيًا) وسيتم مسحها بنظافة باستخدام هذا المجلد المؤقت. </p><br><p style=";text-align:right;direction:rtl">  في مرحلة <em>التثبيت</em> ، <code>mvninstall</code> مهمة <code>mvninstall</code> الداخلية ، والتي تقوم ببساطة بحزم المشروع بأكمله في أرشيف مضغوط <code>mvninstall</code> تم إنشاؤها.  في البداية ، قمت فقط بتخزين هذه القطع الأثرية ، لكن من الإصدار 2.3.2 ، تمت إضافة آلية لدعمها باعتبارها تبعيات مخضرمة معيارية وأصبح من الممكن تطوير مشاريع مع "مشاركة" الكود الشائع من خلال مستودع maven.  من الواضح أن وضع النتائج الثنائية التي تم إنشاؤها في المستودع حيث أن القطع الأثرية هي فكرة سيئة نظرًا لمتطلبات النظام الأساسي وبالتالي فإن محتويات المجلد <code>/bin</code> لا يتم تعبئتها في الأداة. </p><br><p style=";text-align:right;direction:rtl">  يبدو ربط مشروع آخر <code>mvn-golang</code> مخضرم مثل هذا: </p><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com.igormaznitsa<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>mvn-go-test-mix-terminal<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0.0-SNAPSHOT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">type</span></span></span><span class="hljs-tag">&gt;</span></span>mvn-golang<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">type</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  مع الإصدار 2.3.3 ، تمت إضافة دعم للعمل مع آلية <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الانتقال للوحدات النمطية</a> ، ولكن افتراضيًا لا يتم تنشيطه (للتوافق مع الإصدارات السابقة) ويتم تمكينه باستخدام معلمة التكوين: </p><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">moduleMode</span></span></span><span class="hljs-tag">&gt;</span></span>true<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">moduleMode</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  عندما كانت آلية Go-modules لا تزال في المرحلة التجريبية ، أضفت دعمًا للعمل مع إصدارات التبعية من خلال مكالمات مباشرة إلى أدوات CVS ، تم تقديم <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مثال للاختبار</a> .  لكن الآن أعتقد أن مثل هذه الآلية لم تعد ذات أهمية كبيرة وأنها أكثر ربحية لاستخدام التبعيات القياسية من خلال وحدات.  علاوة على ذلك ، فإن البرنامج المساعد قادر على <code>go.mod</code> ملفات <code>go.mod</code> مسبقًا في وقت بناء المشروع ، واستبدال المسارات إلى المجلدات المحلية إذا كان العمل مستمرًا في إطار مشروع متعدد الوحدات. </p><br><p style=";text-align:right;direction:rtl">  نظرًا لأن Maven يوفر إمكانية التوحيد باستخدام النماذج الأصلية ، فقد صنعت نموذجين: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <em>com.igormaznitsa: mvn-golang-hello: 2.3.3 لنموذج أصلي</em> بسيط مكون من وحدة واحدة </li><li style=";text-align:right;direction:rtl">  <em>com.igormaznitsa: mvn-golang-hello-multi: 2.3.3</em> لمشروع متعدد الوحدات مع شفرة المصدر المشتركة </li></ul><br><p style=";text-align:right;direction:rtl">  مثال على العمل مع النموذج الأصلي لمشروع وحدة واحدة يمكن أن ينظر إليه في الرسوم المتحركة أدناه <br><img src="https://habrastorage.org/webt/xj/l4/as/xjl4ashjm59in1djzr0hvsjqqkg.gif" alt="صورة">  . </p><br><p style=";text-align:right;direction:rtl">  يمكنك أيضًا استنساخ مشروع <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">"Hello World"</a> واللعب حوله: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/raydac/mvn-golang-example.git</code> </pre> <br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/x6/d8/3f/x6d83f1hbq0ul2ewmrzgkdpg0eq.gif" alt="صورة"></p><br><p style=";text-align:right;direction:rtl">  غالبًا ما يطرح سؤال معقول - لماذا كل هذا ضروري وما هي المكافآت التي يقدمها استخدام Maven في عملية بناء مشروع Go-project؟  سأحاول الإجابة عليه نقطة تلو الأخرى: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Maven هي بيئة بناء مشاريع ناضجة للغاية ، عبر منصات ، مدعومة من قبل جميع منصات CI تقريبًا ، على سبيل المثال Jenkins ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">باستخدام Go2XUnit ،</a> يمكنك تحويل نتائج الاختبار إلى التنسيق الذي يتم عرضه عن طريق الإبلاغ عن المكونات الإضافية. </li><li style=";text-align:right;direction:rtl">  Maven عبارة عن نظام أساسي متداخل ويدعمه جميع أنظمة التشغيل ، حيث يتم تضمينه في جميع المستودعات.  إن وجود ملفات التعريف النشطة بمرونة يجعل من السهل تخصيص العملية لمختلف المنصات. </li><li style=";text-align:right;direction:rtl">  تحتوي Maven على <strong>كمية هائلة من المكونات الإضافية</strong> ، مما يجعل من السهل الحصول على تأثير تآزري ، من خلال <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الجمع بين Go و GWT</a> ، وربط <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ANTLR بالمشروع</a> ، <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">وإنشاء Go استنادًا إلى واصفات Protobuf</a> وحتى <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">إضافة المعالجة المسبقة</a> .  يمكن تنظيم كل ذلك يدويًا من خلال الملفات الدفعية ، ولكن إذا كان هناك مكونات إضافية مدعومة رسميًا ، فمن الأفضل استخدامها. </li><li style=";text-align:right;direction:rtl">  يصبح المشروع سهل الحمل بين الأجهزة والمنصات ، ويتم تبديل إصدار GoSDK عن طريق تغيير سطر واحد. </li><li style=";text-align:right;direction:rtl">  سهولة تنظيم مشاريع متعددة الوحدات ، مع فصل شفرة المصدر من خلال مستودع Maven. </li><li style=";text-align:right;direction:rtl">  الأداة مألوفة ومألوفة لمطوري Java ، مما يسهل تكيفهم عند التبديل إلى التطوير على Golang أو عند تطوير حلول Go + Java متعددة اللغات. </li><li style=";text-align:right;direction:rtl">  هناك إمكانية للتطوير الزائف في Go في بيئات تدعم Maven ، حتى لو لم يكن لديهم أي دعم لهذا النظام الأساسي ، على سبيل المثال ، في <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">NetBeans IDE</a> . </li></ol><br><p style=";text-align:right;direction:rtl">  وأكبر عيوب في الحل ، في رأيي ، واحدة هنا - عدد محدود من المطورين المطلعين على مافن في مجتمع Golang.  بالنسبة لأولئك الذين تحولوا إلى Golang باستخدام C / C ++ ، فمن الواضح أنه من الصعب العثور على شيء أقرب وأحب إلى صنعه ، بالإضافة إلى أنه لم يقم أحد بإلغاء أنظمة Go-build "الأصلية".  لقد لاحظت أنه لسبب ما ، العديد من المطورين لا يحبون خلط المنصات. </p><br><p style=";text-align:right;direction:rtl">  لذلك ، عرضت بإيجاز إحدى الطرق لاستخدام Maven عند تطوير مشاريع Go باستخدام البرنامج المساعد mvn-golang-wrapper.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">تم تصميم مشروع البرنامج المساعد كمشروع OSS ونشره على جيثب</a> .  إذا كان شخص ما مهتمًا وسيستخدم في مشاريعه ، فلا تتردد في طرح الأسئلة و "الإبلاغ عن الأخطاء".  حاولت أن أقدم <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">مجموعة من الأمثلة لمناسبات مختلفة</a> (يتم اختبار المكوّن الإضافي فيها) ، لكن لا يمكنني تغطية كل شيء. </p><br><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">تستخدم حالات الاختبار</a> في مشروع البرنامج المساعد إصدار dev ، لذا إذا كنت ترغب في بنائها محليًا بعد استنساخ المشروع ، فأنت بحاجة أولاً إلى إنشاء إصدار dev من البرنامج المساعد باستخدام الأمر في دليل جذر المشروع: </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">mvn install</code> </pre> <br><p style=";text-align:right;direction:rtl">  بعد ذلك ، يمكنك الذهاب إلى أي <code>mvn-golang-examples</code> وبناء عليه </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">mvn clean install</code> </pre> <br><p style=";text-align:right;direction:rtl">  يمكنك أيضًا البدء في بناء جميع الأمثلة من جذر المشروع ، باستخدام </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">mvn clean install -Pexamples</code> </pre> <br><p style=";text-align:right;direction:rtl">  البرنامج المساعد يدعم تجميع مشاريع متعددة الخيوط ويمكن تسريعها باستخدام الوسيطة المقابلة ، على سبيل المثال تقسيم إلى 6 سلاسل </p><br><pre style=";text-align:right;direction:rtl"> <code class="bash hljs">mvn clean install -Pexamples -T6</code> </pre> <br><p style=";text-align:right;direction:rtl">  خلال التطوير ، جمع المشروع كمية لا بأس بها من "أجراس وصفارات" ، والتي قررت عدم تغطيتها في هذا المقال القصير.  يمكن العثور على معلومات حول المعلمات مع أمثلة التكوين الصغيرة في الخريطة الذهنية لهذا البرنامج المساعد (الملف المصدر في تنسيق <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SciaReto</a> <a href="">هنا</a> ): </p><br><p style=";text-align:right;direction:rtl"> <a href=""><img src="https://habrastorage.org/webt/ro/yo/qr/royoqrdlvvlrwvjyiey5yigtnec.jpeg" alt="صورة"></a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar465803/">https://habr.com/ru/post/ar465803/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar465791/index.html">نقاط ضعف بائعي التجزئة - ثلاث حالات يمكن فيها الحصول على OTP في الطلب</a></li>
<li><a href="../ar465793/index.html">Frontend Weekly Digest (26 أغسطس - 1 سبتمبر 2019)</a></li>
<li><a href="../ar465795/index.html">ملخص المواد الطازجة من عالم الواجهة الأمامية للأسبوع الماضي رقم 378 (26 أغسطس - 1 سبتمبر 2019)</a></li>
<li><a href="../ar465797/index.html">الخوارزميات الجينية (أو يكون العميل دائمًا ملكًا - وغالبًا ما يكون أحمقًا)</a></li>
<li><a href="../ar465801/index.html">ملخص تصميم الأغذية ، أغسطس 2019</a></li>
<li><a href="../ar465805/index.html">Gigatron - كمبيوتر صغير محلي الصنع بدون معالج</a></li>
<li><a href="../ar465807/index.html">قصة كيف بدأت مكتبة جافا سكريبت الشعبية لعرض الإعلانات في المحطة</a></li>
<li><a href="../ar465809/index.html">لا تقع في فخ التحسين السابق لأوانه</a></li>
<li><a href="../ar465811/index.html">14 نصائح لكتابة رمز التفاعل النظيف. الجزء 1</a></li>
<li><a href="../ar465813/index.html">14 نصائح لكتابة رمز التفاعل النظيف. الجزء 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>