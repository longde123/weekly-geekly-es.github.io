<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©â€â¤ï¸â€ğŸ‘© ğŸ’…ğŸ½ ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ» ä¸ºC ++åšå‡†å¤‡20ã€‚ åç¨‹TSçœŸå®æ¡ˆä¾‹ç ”ç©¶ ğŸŒ• ğŸŒ² â†˜ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨C ++ 20ä¸­ï¼Œå³å°†å‡ºç°ä½¿ç”¨åç¨‹çš„æœºä¼šã€‚ Yandex.Taxiå¯¹æˆ‘ä»¬è€Œè¨€ï¼Œè¿™ä¸ªä¸»é¢˜æ˜¯éå¸¸æœ‰è¶£çš„ï¼ˆå‡ºäºæˆ‘ä»¬è‡ªå·±çš„éœ€è¦ï¼Œæˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ä¸ªå¼‚æ­¥æ¡†æ¶ï¼‰ã€‚ å› æ­¤ï¼Œä»Šå¤©ï¼Œæˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªçœŸå®çš„ä¾‹å­å‘Habrçš„è¯»è€…å±•ç¤ºå¦‚ä½•ä½¿ç”¨C ++æ— å †æ ˆåç¨‹ã€‚ 

 ä½œä¸ºç¤ºä¾‹ï¼Œè®©æˆ‘ä»¬ç®€å•åœ°åšä¸€äº›äº‹æƒ…ï¼šä¸ä½¿ç”¨å¼‚æ­¥ç½‘ç»œæ¥å£ï¼Œè€Œ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ä¸ºC ++åšå‡†å¤‡20ã€‚ åç¨‹TSçœŸå®æ¡ˆä¾‹ç ”ç©¶</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/420861/"> åœ¨C ++ 20ä¸­ï¼Œå³å°†å‡ºç°ä½¿ç”¨åç¨‹çš„æœºä¼šã€‚  Yandex.Taxiå¯¹æˆ‘ä»¬è€Œè¨€ï¼Œè¿™ä¸ªä¸»é¢˜æ˜¯éå¸¸æœ‰è¶£çš„ï¼ˆå‡ºäºæˆ‘ä»¬è‡ªå·±çš„éœ€è¦ï¼Œæˆ‘ä»¬æ­£åœ¨å¼€å‘ä¸€ä¸ªå¼‚æ­¥æ¡†æ¶ï¼‰ã€‚ å› æ­¤ï¼Œä»Šå¤©ï¼Œæˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªçœŸå®çš„ä¾‹å­å‘Habrçš„è¯»è€…å±•ç¤ºå¦‚ä½•ä½¿ç”¨C ++æ— å †æ ˆåç¨‹ã€‚ <br><br> ä½œä¸ºç¤ºä¾‹ï¼Œè®©æˆ‘ä»¬ç®€å•åœ°åšä¸€äº›äº‹æƒ…ï¼šä¸ä½¿ç”¨å¼‚æ­¥ç½‘ç»œæ¥å£ï¼Œè€Œæ˜¯ç”±ä¸€ä¸ªå‡½æ•°ç»„æˆçš„å¼‚æ­¥è®¡æ—¶å™¨ã€‚ ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬å°è¯•é€šè¿‡å›è°ƒå®ç°å¹¶é‡å†™æ­¤â€œé¢æ¡â€ï¼š <br><br><img align="right" src="https://habrastorage.org/webt/za/0m/kp/za0mkphg8qyitvudyvv-dhunfae.jpeg"><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FuncToDealWith</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ InCurrentThread(); writerQueue.PushTask([=]() { InWriterThread1(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> finally = [=]() { InWriterThread2(); ShutdownAll(); }; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (NeedNetwork()) { networkQueue.PushTask([=](){ <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> v = InNetworkThread(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (v) { UIQueue.PushTask([=](){ InUIThread(); writerQueue.PushTask(finally); }); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { writerQueue.PushTask(finally); } }); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { finally(); } }); }</code> </pre> <br><a name="habracut"></a><br><h2> å¼•è¨€ </h2><br> åç¨‹æˆ–åç¨‹æ˜¯åœ¨é¢„å®šä½ç½®åœæ­¢æ‰§è¡ŒåŠŸèƒ½çš„èƒ½åŠ›ã€‚ å°†åœæ­¢å‡½æ•°çš„æ•´ä¸ªçŠ¶æ€ä»¥åŠå±€éƒ¨å˜é‡ä¼ é€’åˆ°æŸä¸ªåœ°æ–¹ï¼› ä»æˆ‘ä»¬åœæ­¢è¯¥åŠŸèƒ½çš„åŒä¸€ä½ç½®è¿è¡Œè¯¥åŠŸèƒ½ã€‚ <br> åç¨‹æœ‰å‡ ç§å£å‘³ï¼šæ— å †å å’Œå †å ã€‚ æˆ‘ä»¬ç¨åå†è®¨è®ºã€‚ <br><br><h2> é—®é¢˜é™ˆè¿° </h2><br> æˆ‘ä»¬æœ‰å‡ ä¸ªä»»åŠ¡é˜Ÿåˆ—ã€‚ æ¯ä¸ªä»»åŠ¡éƒ½åŒ…å«æŸäº›ä»»åŠ¡ï¼šæœ‰ä¸€ä¸ªç”¨äºç»˜åˆ¶å›¾å½¢çš„é˜Ÿåˆ—ï¼Œæœ‰ä¸€ä¸ªç”¨äºç½‘ç»œäº¤äº’çš„é˜Ÿåˆ—ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªç”¨äºå¤„ç†ç£ç›˜çš„é˜Ÿåˆ—ã€‚ æ‰€æœ‰é˜Ÿåˆ—éƒ½æ˜¯å…·æœ‰æ— æ•ˆPushTaskæ–¹æ³•ï¼ˆstd :: function &lt;voidï¼ˆï¼‰&gt;ä»»åŠ¡ï¼‰;çš„WorkQueueç±»çš„å®ä¾‹ã€‚ é˜Ÿåˆ—çš„å¯¿å‘½æ¯”æ”¾ç½®åœ¨å…¶ä¸­çš„æ‰€æœ‰ä»»åŠ¡çš„å¯¿å‘½é•¿ï¼ˆå½“é˜Ÿåˆ—ä¸­æœ‰æœªå®Œæˆçš„ä»»åŠ¡æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥é”€æ¯é˜Ÿåˆ—çš„æƒ…å†µï¼‰ã€‚ <br><br> è¯¥ç¤ºä¾‹ä¸­çš„FuncToDealWithï¼ˆï¼‰å‡½æ•°åœ¨ä¸åŒçš„é˜Ÿåˆ—ä¸­æ‰§è¡Œä¸€äº›é€»è¾‘ï¼Œå¹¶æ ¹æ®æ‰§è¡Œç»“æœå°†æ–°ä»»åŠ¡æ”¾å…¥é˜Ÿåˆ—ä¸­ã€‚ <br><br> æˆ‘ä»¬ä»¥çº¿æ€§ä¼ªä»£ç çš„å½¢å¼é‡å†™å›è°ƒçš„â€œé¢æ¡â€ï¼Œæ ‡è®°åº•å±‚ä»£ç åº”åœ¨å“ªä¸ªé˜Ÿåˆ—ä¸­æ‰§è¡Œï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CoroToDealWith</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ InCurrentThread(); <span class="hljs-comment"><span class="hljs-comment">// =&gt;   writerQueue InWriterThread1(); if (NeedNetwork()) { // =&gt;   networkQueue auto v = InNetworkThread(); if (v) { // =&gt;   UIQueue InUIThread(); } } // =&gt;   writerQueue InWriterThread2(); ShutdownAll(); }</span></span></code> </pre> <br> æˆ‘æƒ³è¦è¾¾åˆ°çš„ç»“æœå¤§çº¦æ˜¯ã€‚ <br><br> æœ‰ä¸€äº›é™åˆ¶ï¼š <br><br><ul><li> é˜Ÿåˆ—æ¥å£ä¸èƒ½æ›´æ”¹-ç¬¬ä¸‰æ–¹å¼€å‘äººå‘˜åœ¨åº”ç”¨ç¨‹åºçš„å…¶ä»–éƒ¨åˆ†ä½¿ç”¨å®ƒä»¬ã€‚ æ‚¨ä¸èƒ½ç ´åå¼€å‘äººå‘˜ä»£ç æˆ–æ·»åŠ æ–°çš„é˜Ÿåˆ—å®ä¾‹ã€‚ </li><li> æ‚¨ä¸èƒ½æ›´æ”¹ä½¿ç”¨FuncToDealWithå‡½æ•°çš„æ–¹å¼ã€‚ æ‚¨åªèƒ½æ›´æ”¹å…¶åç§°ï¼Œä½†ä¸èƒ½ä½¿å…¶è¿”å›ç”¨æˆ·å¿…é¡»åœ¨å®¶ä¸­ä¿ç•™çš„ä»»ä½•å¯¹è±¡ã€‚ </li><li> ç”Ÿæˆçš„ä»£ç åº”ä¸åŸå§‹ä»£ç ä¸€æ ·é«˜æ•ˆï¼ˆç”šè‡³æ›´é«˜æ•ˆç‡ï¼‰ã€‚ </li></ul><br><h2> è§£å†³æ–¹æ¡ˆ </h2><br><h3> é‡å†™FuncToDealWithå‡½æ•° </h3><br> åœ¨åç¨‹TSä¸­ï¼Œåç¨‹è°ƒæ•´æ˜¯é€šè¿‡è®¾ç½®å‡½æ•°çš„è¿”å›å€¼çš„ç±»å‹æ¥å®Œæˆçš„ã€‚ å¦‚æœç±»å‹æ»¡è¶³æŸäº›è¦æ±‚ï¼Œåˆ™å¯ä»¥åœ¨å‡½æ•°ä½“å†…ä½¿ç”¨æ–°çš„å…³é”®å­—co_await / co_return / co_yieldã€‚ åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œè¦åœ¨é˜Ÿåˆ—ä¹‹é—´åˆ‡æ¢ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨co_yieldï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">CoroTask </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CoroToDealWith</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ InCurrentThread(); co_yield writerQueue; InWriterThread1(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (NeedNetwork()) { co_yield networkQueue; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> v = InNetworkThread(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (v) { co_yield UIQueue; InUIThread(); } } co_yield writerQueue; InWriterThread2(); ShutdownAll(); }</code> </pre> <br> ç»“æœä¸ä¸Šä¸€èŠ‚ä¸­çš„ä¼ªä»£ç éå¸¸ç›¸ä¼¼ã€‚ åœ¨CoroTaskç±»ä¸­éšè—äº†ä½¿ç”¨åç¨‹çš„æ‰€æœ‰â€œé­”æœ¯â€ã€‚ <br><br><h3> å† æ· </h3><br> åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹ï¼ˆåœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼‰ï¼Œåç¨‹çš„â€œè°ƒè°å™¨â€ç±»çš„å†…å®¹ä»…åŒ…å«ä¸€ä¸ªåˆ«åï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;experimental/coroutine&gt; struct CoroTask { using promise_type = PromiseType; };</span></span></span></span></code> </pre> <br><br>  promise_typeæ˜¯æˆ‘ä»¬å¿…é¡»è‡ªå·±ç¼–å†™çš„æ•°æ®ç±»å‹ã€‚ å®ƒåŒ…å«æè¿°ä»¥ä¸‹å†…å®¹çš„é€»è¾‘ï¼š <br><br><ul><li> é€€å‡ºåç¨‹æ—¶è¯¥æ€ä¹ˆåŠ </li><li> é¦–æ¬¡è¾“å…¥corutinæ—¶è¯¥æ€ä¹ˆåŠ </li><li> è°é‡Šæ”¾èµ„æº </li><li> ä»åç¨‹é£å‡ºçš„å¼‚å¸¸æ€ä¹ˆåŠ </li><li> å¦‚ä½•åˆ›å»ºCoroTaskå¯¹è±¡ </li><li> å¦‚æœcorutinså†…éƒ¨ç§°ä¸ºco_yieldæ€ä¹ˆåŠ </li></ul><br> åˆ«åpromise_typeå¿…é¡»ä»¥è¿™ç§æ–¹å¼è°ƒç”¨ã€‚ å¦‚æœæ‚¨å°†åˆ«åæ›´æ”¹ä¸ºå…¶ä»–åç§°ï¼Œåˆ™ç¼–è¯‘å™¨ä¼šå‘èª“è¯´æ‚¨æ‹¼å†™çš„CoroTaské”™è¯¯ã€‚ æ‚¨å¯ä»¥æ ¹æ®éœ€è¦æ›´æ”¹åç§°CoroTaskã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">ä½†æ˜¯ï¼Œå¦‚æœåœ¨promise_typeä¸­æè¿°äº†æ‰€æœ‰å†…å®¹ï¼Œä¸ºä»€ä¹ˆéœ€è¦CoroTaskï¼Ÿ</b> <div class="spoiler_text"> åœ¨æ›´å¤æ‚çš„æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥åˆ›å»ºCoroTaskï¼Œä½¿æ‚¨å¯ä»¥ä¸åœæ­¢çš„åç¨‹è¿›è¡Œé€šä¿¡ï¼Œä»ä¸­æ¥æ”¶å’Œå‘é€æ•°æ®ï¼Œå”¤é†’å’Œé”€æ¯å®ƒã€‚ <br></div></div><br><h3>  PromiseType </h3><br> è¿›å…¥æœ‰è¶£çš„éƒ¨åˆ†ã€‚ æˆ‘ä»¬æè¿°äº†corutinçš„è¡Œä¸ºï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WorkQueue</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-comment"><span class="hljs-comment">// forward declaration class PromiseType { public: //      `co_return;`     , ... void return_void() const { /* ...    :) */ } //        ,  CoroTask, ... auto initial_suspend() const { // ...       . return std::experimental::suspend_never{}; } //      - , ... auto final_suspend() const { // ...        //      . return std::experimental::suspend_never{}; } //     , ... void unhandled_exception() const { // ...   (  ). std::terminate(); } //    CoroTask,    , ... auto get_return_object() const { // ...  CoroTask. return CoroTask{}; } //     co_yield, ... auto yield_value(WorkQueue&amp; wq) const; // ... &lt;  &gt; };</span></span></code> </pre> <br> åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæ‚¨ä¼šæ³¨æ„åˆ°æ•°æ®ç±»å‹std :: experimental :: suspend_neverã€‚ è¿™æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ•°æ®ç±»å‹ï¼Œè¡¨ç¤ºä¸éœ€è¦åœæ­¢corutinã€‚ å®ƒä¹Ÿæœ‰ç›¸åçš„å«ä¹‰-ç±»å‹std :: experimental :: suspend_alwaysï¼Œå®ƒå‘Šè¯‰æ‚¨åœæ­¢corutinã€‚ è¿™äº›ç±»å‹æ˜¯æ‰€è°“çš„ç­‰å¾…ã€‚ å¦‚æœæ‚¨å¯¹ä»–ä»¬çš„å†…éƒ¨ç»“æ„æ„Ÿå…´è¶£ï¼Œé‚£ä¹ˆä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘ä»¬å°†å°½å¿«å†™æˆ‘ä»¬çš„Awaitablesã€‚ <br><br> ä¸Šé¢çš„ä»£ç ä¸­æœ€é‡è¦çš„åœ°æ–¹æ˜¯final_suspendï¼ˆï¼‰ã€‚ è¯¥åŠŸèƒ½å…·æœ‰æ„æƒ³ä¸åˆ°çš„æ•ˆæœã€‚ å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ä¸åœæ­¢æ‰§è¡Œæ­¤å‡½æ•°ï¼Œåˆ™ç¼–è¯‘å™¨åˆ†é…ç»™åç¨‹çš„èµ„æºå°†ä¸ºæˆ‘ä»¬æ¸…é™¤ç¼–è¯‘å™¨ã€‚ ä½†æ˜¯ï¼Œå¦‚æœåœ¨æ­¤å‡½æ•°ä¸­æˆ‘ä»¬åœæ­¢æ‰§è¡Œåç¨‹ï¼ˆä¾‹å¦‚ï¼Œé€šè¿‡è¿”å›std :: experimental :: suspend_always {}ï¼‰ï¼Œé‚£ä¹ˆæ‚¨å°†å¿…é¡»æ‰‹åŠ¨é‡Šæ”¾å¤–éƒ¨æŸä¸ªåœ°æ–¹çš„èµ„æºï¼šæ‚¨å°†å¿…é¡»ä¿å­˜æŒ‡å‘åç¨‹çš„æ™ºèƒ½æŒ‡é’ˆå¹¶æ˜¾å¼è°ƒç”¨å®ƒé”€æ¯ï¼ˆï¼‰ã€‚ å¹¸è¿çš„æ˜¯ï¼Œå¯¹äºæˆ‘ä»¬çš„ç¤ºä¾‹ï¼Œè¿™ä¸æ˜¯å¿…éœ€çš„ã€‚ <br><br><h3>  <b>ä¸</b>æ­£ç¡®çš„PromiseType :: yield_value </h3><br> ä¼¼ä¹ç¼–å†™PromiseType :: yield_valueéå¸¸ç®€å•ã€‚ æˆ‘ä»¬æœ‰ä¸€æ¡çº¿ï¼› åç¨‹ï¼Œå¿…é¡»å°†å…¶æš‚åœå¹¶ä¾æ¬¡æ”¾ç½®ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> PromiseType::yield_value(WorkQueue&amp; wq) { <span class="hljs-comment"><span class="hljs-comment">//        std::experimental::coroutine_handle&lt;&gt; this_coro = std::experimental::coroutine_handle&lt;&gt;::from_promise(*this); //    .  this_coro  operator(),    // wq      .   , //     ,  operator(),  //   . wq.PushTask(this_coro); //     . return std::experimental::suspend_always{}; }</span></span></code> </pre> <br> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é¢ä¸´ç€éå¸¸å¤§ä¸”éš¾ä»¥å‘ç°çš„é—®é¢˜ã€‚ äº‹å®æ˜¯ï¼Œæˆ‘ä»¬é¦–å…ˆå°†åç¨‹æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œç„¶åæ‰å°†å…¶æŒ‚èµ·ã€‚ åç¨‹å¯èƒ½ä¼šä»é˜Ÿåˆ—ä¸­åˆ é™¤å¹¶ç”šè‡³åœ¨æˆ‘ä»¬å°†å…¶æŒ‚èµ·åœ¨å½“å‰çº¿ç¨‹ä¸­ä¹‹å‰å°±å¼€å§‹æ‰§è¡Œã€‚ è¿™å°†å¯¼è‡´äº‰ç”¨æ¡ä»¶ï¼Œä¸ç¡®å®šçš„è¡Œä¸ºä»¥åŠå®Œå…¨ç–¯ç‹‚çš„è¿è¡Œæ—¶é”™è¯¯ã€‚ <br><br><h3>  <b>æ­£ç¡®çš„</b> PromiseType :: yield_value </h3><br> å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆåœæ­¢corutinï¼Œç„¶åæ‰å°†å…¶æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­ã€‚ ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ç¼–å†™æˆ‘ä»¬çš„Awaitableå¹¶å°†å…¶å‘½åä¸ºschedule_for_executionï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> PromiseType::yield_value(WorkQueue&amp; wq) { <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">schedule_for_execution</span></span></span><span class="hljs-class"> {</span></span> WorkQueue&amp; wq; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">await_ready</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">noexcept</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">await_suspend</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::experimental::coroutine_handle&lt;&gt; this_coro)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ wq.PushTask(this_coro); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">await_resume</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">noexcept</span></span></span><span class="hljs-function"> </span></span>{} }; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> schedule_for_execution{wq}; }</code> </pre> <br> ç±»std :: experimental :: suspend_alwaysï¼Œstd :: experimental :: suspend_neverï¼Œschedule_for_executionå’Œå…¶ä»–Awaitablesåº”è¯¥åŒ…å«3ä¸ªå‡½æ•°ã€‚ è°ƒç”¨await_readyæ¥æ£€æŸ¥åç¨‹æ˜¯å¦åº”è¯¥åœæ­¢ã€‚ ç¨‹åºåœæ­¢è¿è¡Œåï¼Œå°†è°ƒç”¨await_suspendï¼Œå°†åœæ­¢çš„åç¨‹çš„å¥æŸ„ä¼ é€’ç»™å®ƒã€‚ å½“åç¨‹æ‰§è¡Œæ¢å¤æ—¶ï¼Œå°†è°ƒç”¨await_resumeã€‚ <br><div class="spoiler">  <b class="spoiler_title">ä¸‰è§’å½¢skrabs std ::å®éªŒ:: coroutine_handle &lt;&gt;ä¸­å¯ä»¥å†™ä»€ä¹ˆï¼Ÿ</b> <div class="spoiler_text"> æ‚¨å¯ä»¥åœ¨é‚£é‡ŒæŒ‡å®šPromiseTypeç±»å‹ï¼Œè¯¥ç¤ºä¾‹å°†å®Œå…¨ç›¸åŒ:) <br><br>  std ::å®éªŒ:: coroutine_handle &lt;&gt;ï¼ˆåˆåstd ::å®éªŒ:: coroutine_handle &lt;void&gt;ï¼‰æ˜¯æ‰€æœ‰std ::å®éªŒ:: coroutine_handle &lt;DataType&gt;çš„åŸºæœ¬ç±»å‹ï¼Œå…¶ä¸­DataTypeå¿…é¡»æ˜¯å½“å‰åç¨‹çš„promise_typeã€‚ å¦‚æœä¸éœ€è¦è®¿é—®DataTypeçš„å†…éƒ¨å†…å®¹ï¼Œåˆ™å¯ä»¥ç¼–å†™std ::å®éªŒ:: coroutine_handle &lt;&gt;ã€‚ åœ¨æ‚¨è¦ä»ç‰¹å®šç±»å‹çš„promise_typeæŠ½è±¡å¹¶ä½¿ç”¨ç±»å‹æ“¦é™¤çš„åœ°æ–¹ï¼Œè¿™å¯èƒ½å¾ˆæœ‰ç”¨ã€‚ <br></div></div><br><h3> å®Œæˆ </h3><br> æ‚¨å¯ä»¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨çº¿ç¼–è¯‘ï¼Œè¿è¡Œç¤ºä¾‹å¹¶ä»¥å„ç§æ–¹å¼è¿›è¡Œå®éªŒ</a> ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">å¦‚æœæˆ‘ä¸å–œæ¬¢co_yieldï¼Œå¯ä»¥ç”¨å…¶ä»–ä¸œè¥¿ä»£æ›¿å®ƒå—ï¼Ÿ</b> <div class="spoiler_text"> å¯ä»¥æ›¿æ¢ä¸ºco_awaitã€‚ ä¸ºæ­¤ï¼Œå°†ä»¥ä¸‹å‡½æ•°æ·»åŠ åˆ°PromiseTypeä¸­ï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">auto</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">await_transform</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(WorkQueue&amp; wq)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> yield_value(wq); }</code> </pre><br><div class="spoiler">  <b class="spoiler_title">ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä¸å–œæ¬¢co_awaitæ€ä¹ˆåŠï¼Ÿ</b> <div class="spoiler_text"> äº‹æƒ…ä¸å¥½ã€‚ æ²¡ä»€ä¹ˆæ”¹å˜ã€‚ <br></div></div><br></div></div><br><h3> å¤‡å¿˜å• </h3><br>  CoroTaskæ˜¯è°ƒæ•´åç¨‹è¡Œä¸ºçš„ç±»ã€‚ åœ¨æ›´å¤æ‚çš„æƒ…å†µä¸‹ï¼Œå®ƒå…è®¸æ‚¨ä¸åœæ­¢çš„åç¨‹é€šä¿¡å¹¶ä»ä¸­è·å–ä»»ä½•æ•°æ®ã€‚ <br><br>  CoroTask :: promise_typeæè¿°äº†åç¨‹åœæ­¢çš„æ–¹å¼å’Œæ—¶é—´ï¼Œé‡Šæ”¾èµ„æºçš„æ–¹å¼ä»¥åŠæ„é€ CoroTaskçš„æ–¹å¼ã€‚ <br><br>  Awaitablesï¼ˆstd ::å®éªŒ:: suspend_alwaysï¼Œstd ::å®éªŒ:: suspense_neverï¼Œschedule_for_executionç­‰ï¼‰å‘Šè¯‰ç¼–è¯‘å™¨åœ¨ç‰¹å®šç‚¹å¦‚ä½•å¤„ç†åç¨‹ï¼ˆæ˜¯å¦éœ€è¦åœæ­¢corutinï¼Œå¦‚ä½•å¤„ç†åœæ­¢çš„corutinä»¥åŠåœ¨corutinå”¤é†’æ—¶å¦‚ä½•å¤„ç†ï¼‰ ã€‚ <br><br><h3> æœ€ä½³åŒ– </h3><br> æˆ‘ä»¬çš„PromiseTypeæœ‰ä¸€ä¸ªç¼ºé™·ã€‚ å³ä½¿æˆ‘ä»¬å½“å‰æ­£åœ¨æ­£ç¡®çš„ä»»åŠ¡é˜Ÿåˆ—ä¸­è¿è¡Œï¼Œè°ƒç”¨co_yieldä»å°†æŒ‚èµ·åç¨‹å¹¶å°†å…¶é‡æ–°æ”¾ç½®åœ¨åŒä¸€ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚ æœ€å¥½ä¸è¦åœæ­¢åç¨‹çš„æ‰§è¡Œï¼Œè€Œæ˜¯ç«‹å³ç»§ç»­æ‰§è¡Œã€‚ <br><br> è®©æˆ‘ä»¬ä¿®å¤æ­¤ç¼ºé™·ã€‚ ä¸ºæ­¤ï¼Œå°†ä¸€ä¸ªç§æœ‰å­—æ®µæ·»åŠ åˆ°PromiseTypeä¸­ï¼š <br><br><pre> <code class="cpp hljs">WorkQueue* current_queue_ = <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>;</code> </pre> <br> åœ¨å…¶ä¸­ï¼Œæˆ‘ä»¬å°†ä¿ç•™ä¸€ä¸ªæŒ‡å‘å½“å‰æ­£åœ¨æ‰§è¡Œçš„é˜Ÿåˆ—çš„æŒ‡é’ˆã€‚ <br><br> æ¥ä¸‹æ¥ï¼Œè°ƒæ•´PromiseType :: yield_valueï¼š <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> PromiseType::yield_value(WorkQueue&amp; wq) { <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">schedule_for_execution</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> do_resume; WorkQueue&amp; wq; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">await_ready</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">noexcept</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> do_resume; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">await_suspend</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">std</span></span></span></span><span class="hljs-function"><span class="hljs-params">::experimental::coroutine_handle&lt;&gt; this_coro)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span></span>{ wq.PushTask(this_coro); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">await_resume</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">noexcept</span></span></span><span class="hljs-function"> </span></span>{} }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> do_not_suspend = (current_queue_ == &amp;wq); current_queue_ = &amp;wq; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> schedule_for_execution{do_not_suspend, wq}; }</code> </pre> <br> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬è°ƒæ•´äº†schedule_for_execution :: await_readyï¼ˆï¼‰ã€‚ ç°åœ¨ï¼Œæ­¤å‡½æ•°å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå¦‚æœå½“å‰ä»»åŠ¡é˜Ÿåˆ—ä¸æˆ‘ä»¬å°è¯•å¯åŠ¨çš„åç¨‹é˜Ÿåˆ—ä¸åŒ¹é…ï¼Œåˆ™åç¨‹ä¸éœ€è¦æŒ‚èµ·ã€‚ <br><br> åšå®Œäº† æ‚¨å¯ä»¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¿›è¡Œå„ç§å°è¯•</a> ã€‚ <br><br><h2> å…³äºæ€§èƒ½ </h2><br> åœ¨åŸå§‹ç¤ºä¾‹ä¸­ï¼Œæ¯æ¬¡è°ƒç”¨WorkQueue :: PushTaskï¼ˆstd :: function &lt;voidï¼ˆï¼‰&gt; fï¼‰æ—¶ï¼Œæˆ‘ä»¬éƒ½ä»lambdaåˆ›å»ºäº†ä¸€ä¸ªstd :: function &lt;voidï¼ˆï¼‰&gt;ç±»çš„å®ä¾‹ã€‚ åœ¨å®é™…ä»£ç ä¸­ï¼Œè¿™äº›lambdaé€šå¸¸éå¸¸å¤§ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆstd :: function &lt;voidï¼ˆï¼‰&gt;è¢«è¿«åŠ¨æ€åˆ†é…å†…å­˜æ¥å­˜å‚¨lambdaçš„åŸå› ã€‚ <br><br> åœ¨åç¨‹ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä»std ::å®éªŒ:: coroutine_handle &lt;&gt;åˆ›å»ºstd :: function &lt;voidï¼ˆï¼‰&gt;çš„å®ä¾‹ã€‚  std :: experimental :: coroutine_handle &lt;&gt;çš„å¤§å°å–å†³äºå®ç°ï¼Œä½†æ˜¯å¤§å¤šæ•°å®ç°éƒ½å°†å…¶å¤§å°ä¿æŒä¸ºæœ€å°ã€‚ å› æ­¤ï¼Œåœ¨clangä¸Šï¼Œå…¶å¤§å°ç­‰äºsizeofï¼ˆvoid *ï¼‰ã€‚ æ„é€ std :: function &lt;voidï¼ˆï¼‰&gt;æ—¶ï¼Œä¸ä¼šä»å°å¯¹è±¡è¿›è¡ŒåŠ¨æ€åˆ†é…ã€‚ <br> æ€»è®¡-ä½¿ç”¨åç¨‹ï¼Œæˆ‘ä»¬æ‘†è„±äº†ä¸€äº›ä¸å¿…è¦çš„åŠ¨æ€åˆ†é…ã€‚ <br><br> ä½†æ˜¯ï¼ ç¼–è¯‘å™¨é€šå¸¸ä¸èƒ½ä»…ä»…å°†æ‰€æœ‰åç¨‹ä¿å­˜åœ¨å †æ ˆä¸­ã€‚ å› æ­¤ï¼Œåœ¨è¾“å…¥CoroToDealWithæ—¶ï¼Œå¯ä»¥è¿›è¡Œå¦ä¸€ç§åŠ¨æ€åˆ†é…ã€‚ <br><br><h2> æ— å †å ä¸å †å  </h2><br> æˆ‘ä»¬åªæ˜¯ä½¿ç”¨Stacklessåç¨‹ï¼Œå®ƒä»¬éœ€è¦ç¼–è¯‘å™¨çš„æ”¯æŒæ‰èƒ½ä½¿ç”¨ã€‚ ä¹Ÿæœ‰å¯ä»¥åœ¨åº“çº§åˆ«å®Œå…¨å®ç°çš„Stackable Coroutinesã€‚ <br><br> ç¬¬ä¸€ä¸ªå…è®¸æ›´ç»æµåœ°åˆ†é…å†…å­˜ï¼Œç¼–è¯‘å™¨å¯èƒ½ä¼šæ›´å¥½åœ°å¯¹å…¶è¿›è¡Œä¼˜åŒ–ã€‚ ç¬¬äºŒä¸ªä»£ç åœ¨ç°æœ‰é¡¹ç›®ä¸­æ›´æ˜“äºå®ç°ï¼Œå› ä¸ºå®ƒä»¬éœ€è¦çš„ä»£ç ä¿®æ”¹æ›´å°‘ã€‚ ä½†æ˜¯ï¼Œåœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæ‚¨ä¸ä¼šæ„Ÿåˆ°ä¸ä¼—ä¸åŒï¼Œéœ€è¦æ›´å¤æ‚çš„ç¤ºä¾‹ã€‚ <br><br><h2> æ€»ç»“ </h2><br> æˆ‘ä»¬æ£€æŸ¥äº†åŸºæœ¬ç¤ºä¾‹ï¼Œå¹¶è·å¾—äº†é€šç”¨ç±»CoroTaskï¼Œè¯¥ç±»å¯ç”¨äºåˆ›å»ºå…¶ä»–åç¨‹ã€‚ <br><br> ä¸å¤©çœŸçš„æ–¹æ³•ç›¸æ¯”ï¼Œå¸¦æœ‰å®ƒçš„ä»£ç æ›´å…·å¯è¯»æ€§ï¼Œå¹¶ä¸”ç”Ÿäº§åŠ›æ›´é«˜ï¼š <br><table><tbody><tr><th> æ˜¯ </th><th> ä¸åç¨‹ </th></tr><tr><td><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FuncToDealWith</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ InCurrentThread(); writerQueue.PushTask([=]() { InWriterThread1(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> fin = [=]() { InWriterThread2(); ShutdownAll(); }; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (NeedNetwork()) { networkQueue.PushTask([=](){ <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> v = InNetThread(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (v) { UIQueue.PushTask([=](){ InUIThread(); writerQueue.PushTask(fin); }); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { writerQueue.PushTask(fin); } }); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { fin(); } }); }</code> </pre></td><td><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">CoroTask </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CoroToDealWith</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ InCurrentThread(); co_yield writerQueue; InWriterThread1(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (NeedNetwork()) { co_yield networkQueue; <span class="hljs-keyword"><span class="hljs-keyword">auto</span></span> v = InNetThread(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (v) { co_yield UIQueue; InUIThread(); } } co_yield writerQueue; InWriterThread2(); ShutdownAll(); }</code> </pre> </td></tr></tbody></table><br> èˆ¹ä¸Šæœ‰äº›æ—¶åˆ»ï¼š <br><br><ul><li> å¦‚ä½•ä»Corutinè°ƒç”¨å¦ä¸€ä¸ªåç¨‹å¹¶ç­‰å¾…å…¶å®Œæˆ </li><li> æ‚¨å¯ä»¥åœ¨CoroTaskä¸­å¡å…¥å“ªäº›æœ‰ç”¨çš„ä¸œè¥¿ </li><li> ä¸€ä¸ªä½¿Stacklesså’ŒStackfulæœ‰æ‰€ä¸åŒçš„ç¤ºä¾‹ </li></ul><br><h2> å…¶ä»– </h2><br> å¦‚æœæ‚¨æƒ³äº†è§£C ++è¯­è¨€çš„å…¶ä»–æ–°é¢–æ€§æˆ–åœ¨ä¼˜ç‚¹ä¸Šä¸åŒäº‹è¿›è¡Œä¸ªäººäº¤æµï¼Œè¯·æŸ¥çœ‹C ++ä¿„ç½—æ–¯ä¼šè®®ã€‚ ä¸‹å±Šå°†äº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">10æœˆ6æ—¥åœ¨ä¸‹è¯ºå¤«å“¥ç½—å¾·</a>ä¸¾è¡Œã€‚ <br><br> å¦‚æœæ‚¨é‡åˆ°ä¸C ++ç›¸å…³çš„ç—›è‹¦ï¼Œå¹¶ä¸”æƒ³è¦æ”¹è¿›è¯¥è¯­è¨€çš„æŸäº›å†…å®¹æˆ–è€…åªæ˜¯æƒ³è®¨è®ºå¯èƒ½çš„åˆ›æ–°ï¼Œé‚£ä¹ˆæ¬¢è¿è®¿é—®<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://stdcpp.ru/</a> ã€‚ <br><br> å¥½å§ï¼Œå¦‚æœè®©Yandex.Taxiæ‹¥æœ‰å¤§é‡ä¸å›¾å½¢æ— å…³çš„ä»»åŠ¡æ„Ÿåˆ°æƒŠè®¶ï¼Œé‚£ä¹ˆæˆ‘å¸Œæœ›è¿™å¯¹æ‚¨æ¥è¯´æ˜¯ä¸€ä¸ªæƒŠå–œï¼š) <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">10æœˆ11</a>æ—¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è®¿é—®æˆ‘ä»¬</a> ï¼Œæˆ‘ä»¬å°†è®¨è®ºC ++ç­‰ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN420861/">https://habr.com/ru/post/zh-CN420861/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN420845/index.html">ä½¿ç”¨æ‹æ–é©¯æœé¡½å›ºçš„å®¶ä¼™ï¼šWi-Fié€‚é…å™¨WF2190ï¼ˆRealtek8812AUæ— çº¿LAN 802.11ac USBï¼‰çš„å­”</a></li>
<li><a href="../zh-CN420847/index.html">å¸ƒå±€ç€è‰²å™¨ç¼–ç¨‹ç®€ä»‹</a></li>
<li><a href="../zh-CN420853/index.html">è®¤è¯†Windowsä¼ªæ§åˆ¶å°ï¼ˆConPTYï¼‰</a></li>
<li><a href="../zh-CN420857/index.html">æ— ç¼çš„Wi-Fiæ¼«æ¸¸ï¼šå®è·µä¸­çš„ç†è®º</a></li>
<li><a href="../zh-CN420859/index.html">å…³äºç»´å°”æ–¯å’Œé“é“¾çš„é—®é¢˜</a></li>
<li><a href="../zh-CN420863/index.html">å½“æˆ‘ä»¬åˆ¶ä½œç¬¬ä¸€éƒ¨ä¿„ç½—æ–¯æ™ºèƒ½æ‰‹æœºæ—¶ï¼Œç»§ç»­</a></li>
<li><a href="../zh-CN420865/index.html">æœ€å°‘åŠ¨ä½œçš„åŸåˆ™ã€‚ ç¬¬ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN420867/index.html">å®šç§¯åˆ†çš„è®¡ç®—ï¼šåŸºæœ¬ç®—æ³•</a></li>
<li><a href="../zh-CN420869/index.html">ç–æ•£ï¼ŒHAMRå’ŒMAMR-æœ€å¤§åŒ–ç°ä»£HDDå®¹é‡çš„ä¸‰ç§æ–¹æ³•</a></li>
<li><a href="../zh-CN420871/index.html">æˆ‘ä»¬å¦‚ä½•å°†ç½‘ç»œå·¥ä½œå®¤æ¬åˆ°å·´å˜å²›</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>