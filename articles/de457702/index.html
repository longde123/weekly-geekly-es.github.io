<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÜüèΩ üíë üòª Arbeiten Sie mit der KOMPAS-3D-API ‚Üí Lektion 16 ‚Üí Steuerzeichen ü§¨ „Ä∞Ô∏è üôèüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wir setzen die Artikelserie √ºber die Arbeit mit der CAD-API COMPASS-3D fort. Steuerzeichen wurden bereits mehrmals in fr√ºheren Lektionen des Zyklus ge...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arbeiten Sie mit der KOMPAS-3D-API ‚Üí Lektion 16 ‚Üí Steuerzeichen</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ascon/blog/457702/">  Wir setzen die Artikelserie √ºber die Arbeit mit der CAD-API COMPASS-3D fort.  Steuerzeichen wurden bereits mehrmals in fr√ºheren Lektionen des Zyklus gesehen.  Dann wurde jedes Mal gesagt, dass die Ausgangsleitungen sie nicht enthalten sollten, da COMPAS sie auf besondere Weise verarbeitet.  Jetzt ist es Zeit, sie besser kennenzulernen. <br><br>  Wenn Sie die Arbeit mit ihnen beherrschen, werden Sie verstehen, dass das Erstellen komplexer zusammengesetzter Zeichenfolgen eine triviale Aufgabe ist, in den meisten F√§llen muss keine gro√üe Menge Code geschrieben werden. <br><br>  In der Lektion werden wir uns ansehen, wie Sonderzeichen und Schriftzeichen mit Steuerzeichen verwendet werden, wie mit ihrer Hilfe Br√ºche und Abweichungen erstellt werden und wie sie in Verbindung mit Abs√§tzen verwendet werden. <br><br><img src="https://habrastorage.org/webt/5c/cs/bd/5ccsbdc8ufpd1vavz6hzfbqasas.png"><br><a name="habracut"></a><br><blockquote><h4>  Der Inhalt der Unterrichtsreihe ‚ÄûArbeiten mit der KOMPAS-3D-API‚Äú </h4><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die Grundlagen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zeichnungsentwurf</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Richtige Verbindung zu KOMPAS</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hauptinschrift</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Grafische Grundelemente</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Speichern eines Dokuments in verschiedenen Formaten</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einstellungen kennenlernen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anspruchsvollere Schreibmethoden im Schriftfeld</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beschriftungszellen lesen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sonderzeichen einschlie√ülich einer Zeichenfolge</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Einfache Textbeschriftungen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Zusammengesetzte Zeichenfolgen</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Abs√§tze</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mehrzeiliger Text</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Absatzbasierte zusammengesetzte Linien</a> </li><li>  <b>Steuerzeichen</b> </li></ol></blockquote><br><h2>  <font color="#00B2FF">Fl√ºchtige √úberpr√ºfung</font> </h2><br>  Die Steuerzeichen sind: @, $, &amp;,;, ~, ^ und #.  Leider enth√§lt das KOMPAS SDK nur sehr wenige Informationen zu deren Verwendung.  Weitere Informationen finden Sie in der Hilfe von KOMPAS im Abschnitt <i>‚Äû9.</i>  <i>KOMPAS-3D-Einstellungen / Speicherung von Systemeinstellungen / Servicedateien / Benutzermen√ºdatei / Dateisyntax</i> . <i>‚Äú</i> <br><br><img src="https://habrastorage.org/webt/ya/jc/cx/yajccx87d-06xfzy5rjhfdlc2wa.png"><br><br>  Alle Steuerzeichen k√∂nnen bedingt in zwei Gruppen unterteilt werden: Haupt- und Hilfszeichen.  Hilfssymbole werden nur in Verbindung mit den Hauptsymbolen verwendet und beschreiben f√ºr sich genommen keine Komponente.  Die folgende Tabelle enth√§lt eine kurze Beschreibung der Steuerzeichen. <br><br><img src="https://habrastorage.org/webt/bg/tj/ap/bgtjapszut_xvfq_u2vq0l3rak4.png"><br><br>  Betrachten wir sie genauer. <br><br><h2>  <font color="#00B2FF">F√ºgen Sie Sonderzeichen ein</font> </h2><br>  Wir haben bereits Sonderzeichen ber√ºcksichtigt (siehe Lektionen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">4</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">10</a> ).  <b>Um</b> ein Sonderzeichen einzuf√ºgen, wurde eine separate Instanz der <b>ksTextItemParam-</b> Schnittstelle <b>verwendet</b> .  Mithilfe von Steuerzeichen k√∂nnen Sie beliebig viele Sonderzeichen in eine Zeichenfolge einf√ºgen, ohne <b>die</b> Schnittstelle <b>ksTextItemParam erneut zu</b> verwenden. <br>  Die Syntax zum Einf√ºgen von Sonderzeichen lautet: <br><br>  <i><b>AA</b> @ <b>YXXXX</b> ~ <b>BB</b></i> <br><br>  wo <br>  <b>AA</b> - eine Zeichenfolge vor einem Sonderzeichen, <br>  <b>Y</b> - Modifikator zur Darstellung des Sonderzeichencodes, <br>  <b>XXXX</b> - Code des eingef√ºgten Sonderzeichens. <br>  <b>BB</b> - eine Zeile nach dem Sonderzeichen. <br><br>  Der Code f√ºr das eingef√ºgte Sonderzeichen wird zwischen <i>@</i> und <i>~ angegeben</i> .  Dar√ºber hinaus kann der Wert des Modifikators <b>Y</b> in Dezimal- oder Hexadezimalschreibweise angegeben werden.  G√ºltige Modifikator- <b>Y-</b> Werte sind in der folgenden Tabelle aufgef√ºhrt. <br><br><img src="https://habrastorage.org/webt/pk/td/jq/pktdjqgmgj8ftldxtei4-614ct0.png"><br><br>  <i>Hinweis:</i> Wie meine Experimente zeigen, verarbeitet COMPASS normalerweise das Fehlen des Zeichens <i>~</i> .  In diesem Fall werden bei Bedarf Sonderzeichen eingef√ºgt.  Ich empfehle jedoch dringend, sich nicht auf dieses Verhalten zu verlassen und den Einf√ºgevorgang immer mit dem Zeichen <i>~</i> abzuschlie√üen. <br><br>  Das folgende Beispiel zeigt ein Programm, das die Ausgabe von Sonderzeichen demonstriert. <br><br><pre><code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" @+51~ ")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str); str = SysAllocString(OLESTR(" @*33~ ")); document2D-&gt;ksText(100.0,90.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre> <br>  In diesem Beispiel wird dasselbe Zeichen (Œ± alpha) zweimal angezeigt.  Das erste Mal, wenn der Code dezimal angegeben wird, das zweite Mal hexadezimal.  Die folgende Abbildung zeigt das Ergebnis des Programms. <br><br><img src="https://habrastorage.org/webt/o3/4b/3i/o34b3igkqgkvdrmze1ky6w4a1es.png"><br><br>  Mit Steuerzeichen k√∂nnen Sie mehrere Sonderzeichen in derselben Zeile anzeigen.  Im folgenden Beispiel werden die ersten drei Buchstaben des griechischen Alphabets in einem Aufruf der <b>ksText-</b> Methode angezeigt. <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR("@+51~ @+52~ @+53~")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  Die folgende Abbildung zeigt das Ergebnis dieses Programms. <br><br><img src="https://habrastorage.org/webt/mg/_v/xv/mg_vxv17mpco689p7gm6fzhp-ms.png"><br><br>  Modifikator + ist der Standardmodifikator.  Daher kann die obige Zeile folgenderma√üen geschrieben werden: <br><br>  <i>"@ 51 ~ @ 52 ~ @ 53 ~"</i> <br><br>  In diesem Fall bleibt das Ergebnis des Programms gleich. <br><br>  Wenn ein <i>@</i> ein ung√ºltiges Zeichen ist, wird die Zeile zwischen <i>@</i> und <i>~ unver√§ndert</i> angezeigt.  Die Zeichen <i>@</i> und <i>~ werden</i> weggelassen.  Zum Beispiel mit der Zeile: <br><br>  <i>"Vor @ T51 ~ Nach"</i> <br><br>  Das Dokument wird angezeigt: <br><br>  <i>Vor T51 Nachher</i> <br><br>  <i>Hinweis:</i> Dieses Verhalten von KOMPAS ist nicht dokumentiert und kann in verschiedenen Programmversionen variieren. <br><br>  <i>Hinweis:</i> Steuerzeichen eignen sich nicht zum Einf√ºgen von Sonderzeichen, die eine Zeichenfolge enthalten.  Tatsache ist, dass Sie zur Einschr√§nkung ihrer Aktion das Flag SPECIAL_SYMBOL_END verwenden m√ºssen (weitere Informationen finden Sie in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">10 Lektionen des</a> Zyklus). Steuerzeichen erlauben jedoch nicht die Verwendung von Flags. <br><br><h2>  <font color="#00B2FF">F√ºgen Sie Schriftzeichen ein</font> </h2><br>  Zus√§tzlich zu Sonderzeichen k√∂nnen Sie normale Zeichen anhand ihres Codes einf√ºgen.  <i>Hierf√ºr</i> werden die Steuerzeichen <i>^</i> und <i>~</i> verwendet.  Ihre Syntax ist unten angegeben. <br><br>  <i><b>AA</b> ^ ( <b>FNAME</b> ) <b>YXXXX</b> ~ <b>BB</b></i> <br><br>  wo <br>  <b>AA</b> - eine Zeichenfolge vor dem eingef√ºgten Zeichen, <br>  <b>FNAME</b> - der Name der Schriftart, aus der das Zeichen stammt, <br>  <b>Y</b> - Modifikator f√ºr die Darstellung des Zeichencodes (√§hnlich wie @), <br>  <b>XXXX</b> - numerischer Code des eingef√ºgten Zeichens, <br>  <b>BB</b> - eine Zeile nach dem eingef√ºgten Zeichen. <br><br>  Das Steuerzeichen <i>^</i> √§hnelt in seinem Zweck <i>@</i> .  Sie haben sogar eine √§hnliche Syntax.  Es gibt jedoch zwei wichtige Unterschiede zwischen ihnen: <br><br><ol><li>  <i>^</i> f√ºgt kein Sonderzeichen, sondern ein Schriftzeichen durch seinen Code ein; </li><li>  F√ºr das einzuf√ºgende Zeichen k√∂nnen Sie die Schriftart im Feld <b>FNAME festlegen</b> (@ erlaubt dies nicht). </li></ol><br>  Symbolcodes k√∂nnen mit der Charmap-Anwendung (Symboltabelle) angezeigt werden, die Teil des Windows-Betriebssystems ist. <br><br>  Wenn keine Schriftart angegeben ist, wird die Standardschriftart verwendet.  Das Folgende ist ein Beispiel mit dem Zeichen <i>^</i> . <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" ^(Arial)*B1~  ^*39~ ")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  In diesem Beispiel werden zwei Zeichen in die resultierende Zeichenfolge eingef√ºgt. Zum einen w√§hlen wir die Schriftart <i>Arial aus</i> , zum zweiten <i>belassen</i> wir die Standardschrift.  Die folgende Abbildung zeigt die Zeile, die in das Dokument ausgegeben wird. <br><br><img src="https://habrastorage.org/webt/lj/8i/5k/lj8i5kqw_acqwuvq0lulgnmgolw.png"><br><br>  Bitte beachten Sie: Die Schriftart wird nur f√ºr das angezeigte Zeichen eingestellt.  Wie meine Experimente zeigen, verarbeitet KOMPAS normalerweise das Fehlen eines Terminators.  Ich empfehle jedoch nicht, sich auf dieses Verhalten zu verlassen und immer einen Finalizer festzulegen. <br><br>  Wenn nach <i>^</i> ein ung√ºltiges Zeichen (oder ein ung√ºltiger Code) angegeben wird, werden <i>^</i> und <i>~</i> weggelassen, und die Zeile zwischen ihnen wird wie in der Standardschrift angezeigt.  Zum Beispiel mit der Linie <br><br>  <i>"Vor ^ Q (Arial) * B1 ~ Nach"</i> <br><br>  Das Dokument wird angezeigt: <br><br>  <i>"Vor Q (Arial) * B1 Nach"</i> <br><br>  Wenn im Feld FNAME ein falscher Schriftname angegeben wird, w√§hlt KOMPAS die Schriftart aus und zeigt das Zeichen darin an. <br><br>  Wenn die Zeile keine schlie√üende Klammer enth√§lt, wird eine solche Zeile nicht vollst√§ndig angezeigt.  Zum Beispiel mit der Zeile: <br><br>  <i>"Vor ^ Q (Arial * B1 ~ Nach"</i> <br><br>  Das Dokument wird nur angezeigt <br><br>  <i>"Bis"</i> <br><br>  <i>Hinweis:</i> Das obige Verhalten mit falscher Steuerzeichensyntax gilt f√ºr KOMPAS-3D V17 und ist nicht dokumentiert.  In anderen Versionen kann es anders sein. <br><br><h2>  <font color="#00B2FF">Zus√§tzliche M√∂glichkeiten zum Einf√ºgen von Zeichen</font> </h2><br>  Die Zeichen <i>@</i> und <i>^</i> haben Analoga - <i>&amp;</i> bzw. <i>#</i> .  Sie haben eine √§hnliche Syntax: <br><br>  <i><b>AA</b> &amp; <b>XX</b> ~ <b>BB</b></i> <i><br></i>  <i><b>AA</b> # ( <b>FNAME</b> ) <b>XX</b> ~ <b>BB</b></i> <br><br>  wo <br><br>  <b>AA</b> - eine Zeichenfolge, die vor dem eingef√ºgten Zeichen angezeigt wird. <br>  <b>XX</b> - Code des eingef√ºgten Zeichens (f√ºr &amp; - Sonderzeichen, f√ºr # - Schriftzeichen), <br>  <b>BB</b> - eine Zeichenfolge, die nach dem eingef√ºgten Zeichen angezeigt wird. <br>  <b>FNAME</b> - der Name der Schriftart. <br><br>  Es gibt nur zwei Unterschiede zwischen den Zeichen <i>@</i> und <i>^</i> und ihren Gegenst√ºcken: <br><br><ol><li>  Die Zeichen &amp; und # haben keinen Y-Modifikator. Der Zeichencode wird immer in Dezimalschreibweise angegeben. </li><li>  Der Code f√ºr das einzuf√ºgende Zeichen wird durch maximal zwei Ziffern angegeben. </li></ol><br>  Das Folgende ist der Quellcode f√ºr ein Programm, das die Verwendung der Zeichen <i>&amp;</i> und <i>#</i> demonstriert. <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" &amp;51~ ")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str); str = SysAllocString(OLESTR(" #(Arial)37~  #37~ ")); document2D-&gt;ksText(100.0,90.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  Die folgende Abbildung zeigt das Ergebnis dieses Programms. <br><br><img src="https://habrastorage.org/webt/xq/ku/tw/xqkutwd7x225k5zx8dd-lsriorg.png"><br><br><h2>  <font color="#00B2FF">Mehrzeiliger Text</font> </h2><br>  Mit Hilfe von Steuerzeichen kann mehrzeiliger Text angezeigt werden.  Dazu m√ºssen Sie anstelle der √úbertragung in eine neue Zeile die folgende Sequenz einf√ºgen: <i>@ /</i> .  Hinweis: Das <i>@</i> -Zeichen wird ohne Abschlusszeichen <i>~ verwendet</i> .  Das Folgende ist der Quellcode f√ºr ein Programm, das mehrzeiligen Text mit Steuerzeichen anzeigt. <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" @/ ")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  Bitte beachten Sie: Dank der Verwendung von Steuerzeichen wird zweizeiliger Text mit nur einem Aufruf der <b>ksText-</b> Methode <b>angezeigt</b> .  Die folgende Abbildung zeigt das Ergebnis dieses Programms. <br><br><img src="https://habrastorage.org/webt/tp/-3/fm/tp-3fmwgsjpyrgrhhw9icccok70.png"><br><br><h2>  <font color="#00B2FF">Steuerzeichen einf√ºgen</font> </h2><br>  Wir haben herausgefunden, wie beliebige Sonderzeichen und Unicode-Zeichen eingef√ºgt werden k√∂nnen.  Was aber, wenn Sie das Steuerzeichen selbst einf√ºgen m√∂chten?  Hier k√∂nnen Sie auf zwei Arten vorgehen.  Die erste M√∂glichkeit besteht darin, das Zeichen <i>^ zu</i> verwenden und wie normale Schriftzeichen einzuf√ºgen.  Aber es gibt einen einfacheren Weg. <br><br>  Symbol <i>;</i>  ist ein Hilfsmittel und kann direkt in den Text eingef√ºgt werden.  Um andere Steuerzeichen einzuf√ºgen, m√ºssen Sie diese verdoppeln.  Das hei√üt, ein Paar von <i>@@</i> Zeichen setzt ein einzelnes <i>@</i> Zeichen in den Text ein.  Gleiches gilt f√ºr andere Steuerzeichen. <br><br>  Das folgende Beispielprogramm demonstriert das Einf√ºgen von Steuerzeichen in eine Zeichenfolge. <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" : @@ $$ &amp;&amp; ; ~~ ^^ ##")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  Die folgende Abbildung zeigt das Ergebnis dieses Programms. <br><br><img src="https://habrastorage.org/webt/4t/jv/rx/4tjvrxux7i2epcfivimh8aai-2g.png"><br><br><h2>  <font color="#00B2FF">Obere und untere Abweichungen</font> </h2><br>  Die folgende Syntax wird verwendet, um Abweichungen einzuf√ºgen: <br><br>  <i><b>AA</b> $ <b>XX</b> ;</i>  <i><b>YY</b> $ <b>BB</b></i> <br><br>  wo <br><br>  <b>AA</b> - Text vor Abweichungen angezeigt; <br>  <b>XX</b> - obere Abweichung; <br>  <b>YY</b> ist die geringere Abweichung; <br>  <b>BB</b> - Text nach Abweichungen angezeigt. <br><br>  Bitte beachten Sie: Die gesamte Konstruktion ist auf <i>$</i> Zeichen beschr√§nkt, und das ‚Äú <i>;</i>  ¬ªDient als Trennzeichen zwischen den oberen und unteren Abweichungen. <br><br>  Wenn es kein Trennzeichen gibt "zwischen den Zeichen <i>$</i> <i>;</i>  ", Dann wird die gesamte Linie zwischen ihnen als oberste Abweichung interpretiert.  Wenn Komponente <b>XX</b> fehlt, dh nachdem das erste <i>$</i> sofort geht ‚Äú <i>;</i>  ", Dann wird die gesamte nachfolgende Zeile zum n√§chsten <i>$</i> als die geringere Abweichung interpretiert. <br><br>  <i>Hinweis: Der</i> Text der oberen Abweichung sollte nicht mit den Buchstaben <i>b</i> , <i>d</i> , <i>s</i> , <i>m</i> und <i>l</i> (Kleinbuchstaben <i>L</i> ) beginnen.  Der Grund daf√ºr wird etwas sp√§ter erkl√§rt. <br><br>  Das folgende Beispiel zeigt ein Programm, das die Ausgabe mit Abweichungen anzeigt <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" $;$ ")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  Die folgende Abbildung zeigt das Ergebnis dieses Programms: <br><br><img src="https://habrastorage.org/webt/-w/hr/ql/-whrqlu38elpopxgq22zblob6tm.png"><br><br>  Bitte beachten Sie, dass KOMPAS nur ein Zeichen verarbeitet " <i>;</i>  ".  Das zweite Zeichen ist " <i>;</i>  "Kann als Finalisierer der gesamten Struktur interpretiert werden.  Mit der Zeile " <i>11 $ 22; 33; 44 $</i> " wird beispielsweise der Bildschirm angezeigt: <br><br><img src="https://habrastorage.org/webt/pf/22/0i/pf220i_rer29nw_nsx2h88ja_le.png"><br><br>  <i>Hinweis:</i> Dieses Verhalten von KOMPAS ist nicht dokumentiert, daher k√∂nnen Sie sich nicht darauf verlassen. <br><br><h2>  <font color="#00B2FF">Bruchteil</font> </h2><br>  Die Bruchsyntax √§hnelt der Abweichungssyntax und bietet zwei √§quivalente Optionen: <br><br>  <i><b>AA</b> $ <b>bXX</b> ;</i>  <i><b>YY</b> $ <b>BB</b></i> <i><br></i>  <i><b>AA</b> $ <b>dXX</b> ;</i>  <i><b>YY</b> $ <b>BB</b></i> <br><br>  wo <br><br>  <b>AA</b> - Textausgabe in Br√ºche; <br>  <b>XX</b> ist der Z√§hler; <br>  <b>YY</b> ist der Nenner; <br>  <b>BB</b> - Text, der nach dem Bruch angezeigt wird. <br><br>  Bitte beachten Sie: Der einzige Unterschied zwischen der Ausgabe des Bruchs und der Ausgabe von Abweichungen ist das Vorhandensein des Buchstabens <i>d</i> oder <i>b</i> unmittelbar nach dem ersten Vorzeichen von <i>$</i> .  Ansonsten sind ihre Syntaxen identisch. <br><br>  Wenn zwischen den Zeichen <i>$ d</i> ( <i>$ b</i> ) und <i>$</i> kein " <i>;</i> " steht  ", Dann wird die gesamte Zeile zwischen ihnen als Z√§hler interpretiert.  Wenn Komponente <b>XX</b> fehlt, dh nachdem <i>$ d</i> ( <i>$ b</i> ) sofort kommt " <i>;</i>  ", Dann wird die gesamte nachfolgende Zeile zum n√§chsten <i>$</i> als Nenner interpretiert. <br><br>  <i>Hinweis:</i> Der Z√§hlertext darf nicht mit den Buchstaben <i>s</i> , <i>m</i> oder <i>l</i> (Kleinbuchstaben <i>L</i> ) beginnen.  Der Grund daf√ºr wird etwas sp√§ter erkl√§rt. <br><br>  Das folgende Beispiel zeigt ein Programm, das die Ausgabe von Br√ºchen mithilfe von Steuerzeichen demonstriert. <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" $d;$ ")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  Die folgende Abbildung zeigt das Ergebnis dieses Programms. <br><br><img src="https://habrastorage.org/webt/ha/sm/dd/hasmddwd9o67w8t747vhwceoae0.png"><br><br>  Bitte beachten Sie, dass KOMPAS die "zus√§tzlichen" Zeichen "verarbeitet <i>.</i>  ¬ªSowie bei Abweichungen.  Dieses Verhalten ist nicht dokumentiert und kann nicht als verl√§sslich angesehen werden. <br><br><h2>  <font color="#00B2FF">Variation und Kontrolle der Fraktionsgr√∂√üe</font> </h2><br>  Ganz am Anfang der Konstruktion von Abweichungen oder Br√ºchen kann einer der Buchstaben stehen: <i>s</i> , <i>m</i> oder <i>l</i> (Kleinbuchstabe <i>L</i> ).  Sie geben die Gr√∂√üe der Abweichungen und Elemente des Bruchs an (Z√§hler und Nenner).  Ihr Zweck ist in der folgenden Tabelle beschrieben. <br><br><img src="https://habrastorage.org/webt/mp/ez/1u/mpez1un_2njdu3jxixivvwqbdz4.png"><br><br>  Wenn keiner dieser Buchstaben angegeben ist, wird <i>l</i> f√ºr den Bruch und <i>m</i> f√ºr Abweichungen verwendet.  Das folgende Beispielprogramm demonstriert die Verwendung dieser Buchstaben. <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR(" $d;$ ")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str); str = SysAllocString(OLESTR(" $dl;$ ")); document2D-&gt;ksText(100.0,85.0,0.0,0.0,0.0,0,str); SysFreeString(str); str = SysAllocString(OLESTR(" $dm;$ ")); document2D-&gt;ksText(100.0,70.0,0.0,0.0,0.0,0,str); SysFreeString(str); str = SysAllocString(OLESTR(" $ds;$ ")); document2D-&gt;ksText(100.0,60.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  Die folgende Abbildung zeigt das Ergebnis dieses Programms. <br><br><img src="https://habrastorage.org/webt/z2/2_/dj/z22_djahn5b1uiugptca_0doqui.png"><br><br>  Obwohl die Buchstaben <i>s</i> , <i>m</i> und <i>l</i> in diesem Beispiel f√ºr Br√ºche verwendet werden, ist ihre Verwendung f√ºr Abweichungen nicht anders. <br><br>  Beachten Sie, dass wenn zwischen dem Beginn eines Bruchs oder einer Abweichung ( <i>$</i> , <i>$ d</i> oder <i>$ b</i> ) und dem Buchstaben <i>s</i> , <i>m</i> oder <i>l</i> mindestens ein "fremdes" Zeichen (z. B. ein Leerzeichen) steht, COMPAS die Buchstaben und den Bruch oder nicht "sieht" Abweichung ist die Standardgr√∂√üe. <br><br><h2>  <font color="#00B2FF">Verschachtelte Steuerzeichen</font> </h2><br>  Bei der Ausgabe von Br√ºchen und Abweichungen werden die in ihrer Zusammensetzung enthaltenen Linien rekursiv verarbeitet.  Dies bedeutet, dass beim Bilden von Z√§hler und Nenner auch Steuerzeichen verwendet werden k√∂nnen.  Dieser Ansatz wird im folgenden Beispiel demonstriert. <br><br><pre> <code class="plaintext hljs">BSTR str = SysAllocString(OLESTR("@54~$s2$ + $d@+51~;@+52~$ - ^(Symbol)*70~")); document2D-&gt;ksText(100.0,100.0,0.0,0.0,0.0,0,str); SysFreeString(str);</code> </pre><br>  Die folgende Abbildung zeigt das Ergebnis dieses Programms. <br><br><img src="https://habrastorage.org/webt/qq/f_/9a/qqf_9au_d7ijxvxhvopiuzlhpbk.png"><br><br>  Um Buchstaben des griechischen Alphabets einzuf√ºgen, verwenden wir die Steuerzeichen @ und ^ (f√ºr den Buchstaben ÔÅ∞ pi).  Der Grad im ersten Semester wird anhand von Abweichungen abgeleitet.  Der Teilstring <i>$ s2 $</i> zeigt ihn an.  Der Buchstabe <i>s</i> gibt die geringe Gr√∂√üe der Abweichung an, jedoch aufgrund des Fehlens eines Trennzeichens " <i>;</i>  ¬ªEs wird nur die obere Abweichung angezeigt. <br><br>  Um einen Bruch zu bilden, wird die Kombination <i>$ d; $ verwendet</i> .  Dar√ºber hinaus enthalten der Z√§hler und der Nenner Steuerzeichen, die die Ausgabe der Buchstaben des griechischen Alphabets liefern. <br><br>  Der zuletzt subtrahierte Wert (œÄ pi) wird mit den Steuerzeichen <i>^</i> und <i>~</i> als Symbol der Symbolschrift angezeigt. <br><br>  Leider sind die M√∂glichkeiten einer solchen "Rekursion" sehr begrenzt.  Wir k√∂nnen keine Br√ºche und Abweichungen ineinander investieren.  Das Problem ist, dass beide mit dem Steuerzeichen <i>$</i> gebildet werden.  Aus diesem Grund kann COMPASS nicht korrekt analysieren, welches <i>$</i> zu welchem ‚Äã‚ÄãElement geh√∂rt. <br><br><h2>  <font color="#00B2FF">Steuerzeichen im Absatz</font> </h2><br>  Sie k√∂nnen die Einschr√§nkung mit verschachtelten Steuerzeichen mithilfe von Abs√§tzen teilweise umgehen.  Durch die gemeinsame Verwendung von Steuerzeichen und Abs√§tzen k√∂nnen Sie noch komplexere Strukturen erstellen.  Das folgende Beispiel zeigt den Aufbau einer 4-stufigen Fraktion. <br><br><div class="spoiler">  <b class="spoiler_title">Programmcode zum Erstellen einer 4-stufigen Fraktion</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">//   DynamicArrayPtr dynamicArray; dynamicArray = static_cast&lt;DynamicArrayPtr&gt;(kompas-&gt;GetDynamicArray(TEXT_ITEM_ARR)); dynamicArray-&gt;ksClearArray(); TextItemParamPtr textItemParam; textItemParam = static_cast&lt;TextItemParamPtr&gt;(kompas-&gt;GetParamStruct(ko_TextItemParam)); //     BSTR str = SysAllocString(OLESTR("  ")); textItemParam-&gt;set_s(str); dynamicArray-&gt;ksAddArrayItem(-1, textItemParam); SysFreeString(str); //     TextItemFontPtr textItemFont; textItemFont = static_cast&lt;TextItemFontPtr&gt;(textItemParam-&gt;GetItemFont()); textItemFont-&gt;set_bitVector(NUMERATOR); str = SysAllocString(OLESTR("1 + $d@+51~;2$")); textItemParam-&gt;set_s(str); dynamicArray-&gt;ksAddArrayItem(-1, textItemParam); SysFreeString(str); //    textItemFont-&gt;set_bitVector(DENOMINATOR); str = SysAllocString(OLESTR("1 + $d@+56~;2$")); textItemParam-&gt;set_s(str); dynamicArray-&gt;ksAddArrayItem(-1, textItemParam); SysFreeString(str); //  textItemFont-&gt;set_bitVector(END_FRACTION); str = SysAllocString(OLESTR("  ")); textItemParam-&gt;set_s(str); dynamicArray-&gt;ksAddArrayItem(-1, textItemParam); SysFreeString(str); //   textItemFont.Unbind(); textItemParam.Unbind(); //    ksTextLineParam TextLineParamPtr textLineParam; textLineParam = static_cast&lt;TextLineParamPtr&gt;(kompas-&gt;GetParamStruct(ko_TextLineParam)); textLineParam-&gt;Init(); textLineParam-&gt;SetTextItemArr(dynamicArray); dynamicArray.Unbind(); //  ParagraphParamPtr paragraphParam; paragraphParam=static_cast&lt;ParagraphParamPtr&gt;(kompas-&gt;GetParamStruct(ko_ParagraphParam)); paragraphParam-&gt;Init(); paragraphParam-&gt;set_x(100.0); paragraphParam-&gt;set_y(100.0); document2D-&gt;ksParagraph(paragraphParam); document2D-&gt;ksTextLine(textLineParam); document2D-&gt;ksEndObj(); //   textLineParam.Unbind(); paragraphParam.Unbind();</code> </pre><br></div></div><br>  In diesem Beispiel werden Steuerzeichen verwendet, um Br√ºche im Z√§hler und Nenner des Hauptbruchs zu konstruieren sowie Buchstaben des griechischen Alphabets einzuf√ºgen.  Die folgende Abbildung zeigt das Ergebnis dieses Programms. <br><br><img src="https://habrastorage.org/webt/ji/x6/lo/jix6loqqynqpondf3g47pvhopj0.png"><br><br><h2>  Fazit </h2><br>  In dieser Lektion haben wir uns mit Steuerzeichen getroffen und gelernt, wie man damit Sonderzeichen und Schriftzeichen anzeigt.  Wie Sie sehen k√∂nnen, bieten sie eine einfache Syntax zum Erstellen von Zeichenfolgen, die Sonderzeichen, Br√ºche und Abweichungen enthalten.  Leider eignen sie sich nicht zum Einf√ºgen von Sonderzeichen mit Zeichenfolgen.  Solche Sonderzeichen sind jedoch √§u√üerst selten.  Dies ist eine der Einschr√§nkungen von Steuerzeichen.  Sie k√∂nnen auch nicht zum Erstellen von Teilzeichenfolgen und Teilzeichenfolgen verwendet werden, und es gibt Einschr√§nkungen bei der Arbeit mit Sonderzeichen, die Zeichenfolgen enthalten.  Dies beeintr√§chtigt jedoch nicht ihre Verdienste.  Damit ist unsere Diskussion √ºber Steuerzeichen abgeschlossen. <br><br>  <b>Um fortzufahren, folgen Sie den Nachrichten des Blogs.</b> <br><br> <a href=""><img src="https://habrastorage.org/web/595/eee/f27/595eeef271b24830b3578751fcb52716.png"></a>  Sergey Norseev, Ph.D., Autor des Buches "Anwendungsentwicklung f√ºr COMPAS in Delphi". </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de457702/">https://habr.com/ru/post/de457702/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de457692/index.html">√úberlegungen zu nationalen NB-Fi-Standard- und Abrechnungssystemen</a></li>
<li><a href="../de457694/index.html">Die Gefahren der Verwendung von Konstanten mit mehreren Zeichen</a></li>
<li><a href="../de457696/index.html">Die Gefahren der Verwendung von Konstanten mit mehreren Zeichen</a></li>
<li><a href="../de457698/index.html">Experiment: Wir verwenden Proxys als Werkzeug zur Bek√§mpfung von DoS-Angriffen</a></li>
<li><a href="../de457700/index.html">Node.js Authentifizierungshandbuch ohne passport.js und Dienste von Drittanbietern</a></li>
<li><a href="../de457704/index.html">Wie GPUs mit Verzweigungen umgehen</a></li>
<li><a href="../de457706/index.html">Roboter testet SAP ERP</a></li>
<li><a href="../de457710/index.html">Die erstaunlichen Eigenschaften neuronaler Netze 2019</a></li>
<li><a href="../de457712/index.html">Wie Verizon und BGP Optimizer sich offline hervorragend einrichten</a></li>
<li><a href="../de457714/index.html">Stapel√ºberlauf in Englisch: Community Kill Guide</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>