<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëº üßùüèº ü§≤üèΩ POO em linguagens de programa√ß√£o gr√°fica. Parte 2 MOS e OOP ‚úçüèª üëÜüèª ü§∑üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Na primeira parte, tentei mostrar que existe um gato POO preto em uma sala escura de linguagens gr√°ficas, mesmo que n√£o seja um gato, mas um gato meio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>POO em linguagens de programa√ß√£o gr√°fica. Parte 2 MOS e OOP</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/454232/"><p>  Na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeira parte,</a> tentei mostrar que existe um gato POO preto em uma sala escura de linguagens gr√°ficas, mesmo que n√£o seja um gato, mas um gato meio morto do estripador Schroedinger, ou seja, n√£o √©.  Um exemplo da implementa√ß√£o da metodologia de programa√ß√£o orientada a objetos foi mostrado, quando um programa n√£o √© c√≥digo C ++ ou Java, mas sim um diagrama Simulink, SimInTech, SimulationX ou SCADE Esterel - qualquer anota√ß√£o gr√°fica da descri√ß√£o do algoritmo. </p><br><p> Em materiais de publicidade, o Matlab Simulink costuma usar o termo MOS - Design baseado em modelo.  Em muitos textos, eles enfatizam que o diagrama gr√°fico do algoritmo √© um modelo, o que, √© claro, √© verdadeiro.  No entanto, na defini√ß√£o inicial de MOS, o modelo √© principalmente o modelo do objeto para o qual o sistema de controle √© desenvolvido, incluindo o software de controle.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mais metodologia MOS √© descrita aqui.</a>  Assim, ao desenvolver um sistema de controle de acordo com a metodologia MOS, √© poss√≠vel e necess√°rio usar a metodologia OOP para o desenvolvimento de software de gerenciamento.  E, para fechar completamente o problema com os modelos, aqui est√° uma imagem com as diferen√ßas de um e de outro.  Se tudo estiver claro, voc√™ n√£o poder√° mais ler. </p><br><p><img width="700" src="https://habrastorage.org/webt/6q/lp/ti/6qlptikqb67uqw2kui8ejgydl7s.png"></p><br><a name="habracut"></a><br><p>  Voltemos √†s linguagens gr√°ficas e ao POO, aplicados aos programas de controle da ind√∫stria.  A linguagem de programa√ß√£o gr√°fica fornece um registro de programa na forma de um diagrama a partir de um conjunto de blocos conectados por linhas de comunica√ß√£o.  Como regra, na programa√ß√£o industrial, um c√≥digo para o compilador e subsequente carregamento no equipamento de destino √© criado a partir de um circuito gr√°fico por um gerador de c√≥digo autom√°tico. </p><br><p>  Como parte da minha especialidade, tive que trabalhar com o gerenciamento de software para usinas nucleares, onde √© proibido usar C ++ com padr√µes de seguran√ßa, apenas C puro e, em alguns casos, nem C, mas l√≥gica "ferro", onde os algoritmos s√£o implementados como circuitos eletr√¥nicos em transistores e revezamento.  E a observ√¢ncia dos padr√µes √© monitorada por supervisores duros. </p><br><p><img width="700" src="https://habrastorage.org/webt/kt/cu/i1/ktcui1vz0x-4bn3uce7zntd40i0.jpeg"></p><br><p>  Mas aqui, por mais surpreendente que pare√ßa, o desenvolvimento ainda est√° usando a metodologia OOP.  Porque quando voc√™ n√£o pode usar OOP, mas realmente deseja, pode.  √â verdade que tudo precisa ser devolvido de volta, e isso n√£o seria nenhum C ++ e o c√≥digo final, para os padr√µes de seguran√ßa e √ºber alles.  Como se costuma dizer, comer um peixe e n√£o se sentar por viola√ß√µes. </p><br><p>  Para criar um objeto real pela defini√ß√£o de OOP, ligamos estruturas de dados e esquemas de processamento em um √∫nico objeto, isso √© chamado de encapsulamento.  E como n√£o podemos usar C ++ para sistemas NPP confi√°veis, precisamos analisar tudo isso ao gerar o c√≥digo.  Conforme explicado nos coment√°rios do artigo anterior, o primeiro compilador C ++ Front funcionou da mesma maneira, ele traduziu o c√≥digo OOP C ++ em C. puro </p><br><p>  Na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeira vers√£o da implementa√ß√£o do OOP</a> em uma linguagem gr√°fica, criamos um bloco especial contendo um esquema de c√°lculo gr√°fico.  Durante a inicializa√ß√£o, esse bloco vinculou o esquema de classe (m√©todo) a uma "inst√¢ncia de classe" espec√≠fica - um conjunto de vari√°veis ‚Äã‚Äãnomeadas de uma maneira especial. </p><br><p>  Considere a segunda modalidade da metodologia OOP em linguagens de programa√ß√£o gr√°fica.  A Figura 1 mostra a opera√ß√£o do algoritmo de processamento do sensor. </p><br><p><img width="700" src="https://habrastorage.org/webt/zi/ci/3_/zici3_ssrtr7--y2enbtoa6flts.png"><br>  <i><font color="#999999">Figura 1. Programa de processamento do sensor.</font></i> </p><br><p>  Este √© um m√©todo de classe.  Corresponde √† sua pr√≥pria categoria <b>"Sensores"</b> no banco de dados - uma classe abstrata com um determinado conjunto de campos e uma inst√¢ncia do sensor espec√≠fico da classe <b>KBA31CFO1</b> .  Para este sensor, os campos t√™m valores espec√≠ficos, alguns dos campos s√£o definidos pelo usu√°rio, outros s√£o calculados pela execu√ß√£o do programa.  ver foto  2 </p><br><p><img width="700" src="https://habrastorage.org/webt/ht/ei/ct/hteict0a86fegqyvxgqhcllfebc.png"><br>  <i><font color="#999999">Figura 2. O banco de dados de sinal com a categoria aberta ‚ÄúSensor‚Äù.</font></i> </p><br><p>  At√© agora, tudo √© como na primeira modalidade, onde formamos a liga√ß√£o do esquema de projeto a um sensor espec√≠fico ao instalar a unidade no circuito.  "Onde est√° a diferen√ßa?"  - voc√™ pergunta.  E a diferen√ßa est√° dentro do quarteir√£o.  Se na primeira vers√£o havia um diagrama de design interno, que era copiado em cada instala√ß√£o do bloco, nesta vers√£o o interior se parecia com isso: </p><br><p><img width="700" src="https://habrastorage.org/webt/7x/nx/hu/7xnxhufgyyih-wha7hqii0szr7o.png"><br>  <i><font color="#999999">Figura 3. Os interiores de uma inst√¢ncia de bloco de uma inst√¢ncia de classe.</font></i> </p><br><p>  Em vez do esquema de design, apenas a transmiss√£o e recep√ß√£o de dados s√£o "mostradas" dentro do bloco. <br>  E o pr√≥prio c√°lculo ocorre em outro lugar, no diagrama da Figura 1. Em alguns casos, √© poss√≠vel n√£o usar blocos no diagrama de c√°lculo, √© suficiente ter inst√¢ncias da classe de sensor no banco de dados de singles.  Esta √© a segunda maneira de implementar o encapsulamento em linguagens gr√°ficas.  O truque √© que todos os blocos no diagrama da Figura 1 s√£o vetoriais e processam n√£o um sinal, mas um vetor de sinais de todos os sensores desse tipo no esquema de c√°lculo.  Se voc√™ ativar o modo de exibi√ß√£o dos resultados na linha de comunica√ß√£o, veremos que cada linha de comunica√ß√£o cont√©m n√£o um d√≠gito, mas um vetor de 4 n√∫meros (de acordo com o n√∫mero de sensores no banco de dados). </p><br><p><img width="700" src="https://habrastorage.org/webt/rt/2k/ml/rt2kmlwmldjmc8n4aqsorxtxqyc.png"><br>  <i><font color="#999999">Figura 4. Diagrama de processamento do sinal dos sensores no modo de visualiza√ß√£o de valores.</font></i> </p><br><p>  Assim, um esquema de processamento implementa o processamento de todos os sensores no projeto, com cada sensor sendo processado com seus pr√≥prios par√¢metros especificados no banco de dados como as caracter√≠sticas de uma inst√¢ncia espec√≠fica da classe.  Por exemplo, o limitador pega o valor m√°ximo do banco de dados, que √© definido da mesma forma para os tr√™s primeiros sensores e difere para o quarto.  (ver fig. 5) </p><br><p><img width="450" src="https://habrastorage.org/webt/zf/fk/q_/zffkq_axhvogvctwlxrqfsat2cg.png"><br>  <i><font color="#999999">Figura 5. Par√¢metros do bloco limitador no esquema de c√°lculo.</font></i> </p><br><p>  E o c√≥digo resultante, que √© gerado automaticamente de acordo com esse maravilhoso esquema, como voc√™ consegue evitar artefatos de OOP?  √â simples: sem trapa√ßa e sem POO, C puro no c√≥digo.  Para cada bloco do esquema de processamento vetorial, ser√° formado um ciclo que forne√ßa quantos c√°lculos houver inst√¢ncias de classe no projeto.  No nosso caso, existem 4 sensores, ent√£o formamos matrizes da dimens√£o "4" lendo os sinais dos sensores: </p><br><pre><code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Index=104 UID=104 GeneratorClassName=TSignalReader Name=buz1.sensor.Macro6.Macro3.Macro157.SignalReader3 Type=    */</span></span> }; state_vars-&gt;kbastdv104_out_0_[<span class="hljs-number"><span class="hljs-number">0</span></span>] = kba31cf001_mf_type; state_vars-&gt;kbastdv104_out_0_[<span class="hljs-number"><span class="hljs-number">1</span></span>] = kba32cf001_mf_type; state_vars-&gt;kbastdv104_out_0_[<span class="hljs-number"><span class="hljs-number">2</span></span>] = kba33cf001_mf_type; state_vars-&gt;kbastdv104_out_0_[<span class="hljs-number"><span class="hljs-number">3</span></span>] = uf40y329084320_mf_type</code> </pre> <br><p>  Depois, ordenamos todos os blocos em ordem e os executamos em um loop.  Para cada elemento de uma matriz do tipo, cada bloco de c√°lculos ser√° realizado para todos os sensores. </p><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Index=211 UID=211 GeneratorClassName=TAndSrc Name=buz1.sensor.Macro6.And61 Type=  */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;<span class="hljs-number"><span class="hljs-number">4</span></span>;i++){ locals-&gt;v211_out_0_[i] = state_vars-&gt;kbastdv125_out_0_[i] &amp;&amp; (!(locals-&gt;v191_out_7_[i] &gt; <span class="hljs-number"><span class="hljs-number">0.5</span></span>)); <span class="hljs-comment"><span class="hljs-comment">/* Index=212 UID=212 GeneratorClassName=TMulDbl Name=buz1.sensor.Macro6.Mul_oper1 Type= */</span></span> locals-&gt;v209_out_2_[i] = consts-&gt;kbastdv121_a_[i]*state_vars-&gt;kbastdv127_out_0_[i]; <span class="hljs-comment"><span class="hljs-comment">/* Index=213 UID=213 GeneratorClassName=TSumSrc Name=buz1.sensor.Macro6.Add_oper1 Type= */</span></span> locals-&gt;v209_out_3_[i] = (<span class="hljs-number"><span class="hljs-number">1</span></span>)*consts-&gt;kbastdv122_a_[i]+(<span class="hljs-number"><span class="hljs-number">1</span></span>)*locals-&gt;v209_out_2_[i]; ‚Ä¶ }</code> </pre><br>  Ap√≥s o c√°lculo, registramos os sinais para cada inst√¢ncia da classe: <br><br><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">/* Index=776 UID=776 GeneratorClassName=TSignalWriter Name=buz1.sensor.Macro6.Macro3.SignalWriter4 Type=    */</span></span> kba31cf001_mf_xb01 = state_vars-&gt;kbastdv207_out_0_[<span class="hljs-number"><span class="hljs-number">0</span></span>]; kba32cf001_mf_xb01 = state_vars-&gt;kbastdv207_out_0_[<span class="hljs-number"><span class="hljs-number">1</span></span>]; kba33cf001_mf_xb01 = state_vars-&gt;kbastdv207_out_0_[<span class="hljs-number"><span class="hljs-number">2</span></span>]; uf40y329084320_mf_xb01 = state_vars-&gt;kbastdv207_out_0_[<span class="hljs-number"><span class="hljs-number">3</span></span>];</code> </pre><br><p>  Como voc√™ pode ver, n√£o h√° objetos no c√≥digo final.  SI limpo, inocente e seguro.  No exemplo acima, a implementa√ß√£o do OOP em uma linguagem gr√°fica, um circuito vetorial calcula todos os sensores do mesmo tipo.  Essa t√©cnica permite alterar um esquema para alterar o processamento de todos os sensores. </p><br><p>  Outro benef√≠cio adicional dessa abordagem √© o seguro contra erros.  Imagine: voc√™ adiciona manualmente um sensor e em um lugar esquece de aumentar o n√∫mero de repeti√ß√µes durante o processamento em um ciclo.  Nenhum analisador de c√≥digo est√°tico ser√° capaz de detectar esse erro, o c√≥digo est√° correto.  E mesmo no trabalho, isso pode n√£o afetar imediatamente e de maneira √≥bvia. </p><br><p>  Bem, no final, o prometido polimorfismo e heran√ßa.  No primeiro m√©todo, o usu√°rio recebeu muitos esquemas id√™nticos, que ele poderia editar ap√≥s instalar o bloco de submodelo e, assim, executar o polimorfismo, alterando o comportamento de uma inst√¢ncia espec√≠fica da classe.  Acho que todo mundo imaginou que √© poss√≠vel alterar o esquema de processamento de um sensor em particular, e teremos uma nova classe com os campos correspondentes, mas os m√©todos s√£o diferentes.  Voc√™ tamb√©m pode adicionar novos campos e obter uma nova classe com campos diferentes, contendo todos os campos do pai e os m√©todos do pai. </p><br><p>  A Figura 6 mostra um exemplo de dois blocos das classes "pai" e "herdeiro".  Dentro do bloco, o esquema de c√°lculo da classe pai √© salvo.  Todos os dados v√£o para um bloco vetorial comum, semelhante ao bloco na Fig.  4. O m√©todo da classe pai √© completamente repetido.  E a classe sucessora possui um campo <b>Yatm</b> adicional e um rec√°lculo adicional do valor usando o bloco de interpola√ß√£o linear. </p><br><p>  Assim, continua sendo poss√≠vel alterar os m√©todos de processamento do pai, que ser√£o alterados em todas as classes-herdeiros, bem como personalizar individualmente o comportamento do herdeiro. </p><br><p><img width="700" src="https://habrastorage.org/webt/cj/uf/fl/cjufflnh6w6vxom0ihlevs34vf0.png"><br>  <i><font color="#999999">Figura 6. Polimorfismo em herdeiros de classe.</font></i> </p><br><p>  Para resumir, podemos argumentar que a metodologia OOP pode ser usada para criar software em linguagens de programa√ß√£o gr√°fica.  Abstra√ß√£o, encapsulamento, heran√ßa, polimorfismo - todos esses princ√≠pios s√£o f√°cil e naturalmente implementados pelas ferramentas de desenvolvimento corretas.  √â importante observar que o c√≥digo final, ap√≥s a gera√ß√£o autom√°tica a partir de uma linguagem gr√°fica, permanece puro C seguro sem qualquer OOP </p><br><p>  Em alguns casos, o resultado do desenvolvimento de software de controle em forma gr√°fica n√£o √© o c√≥digo C para carregar nos controladores, mas o diagrama de circuitos ‚Äúl√≥gica l√≥gica‚Äù, mas a t√©cnica descrita acima OOP tamb√©m funciona muito bem. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt454232/">https://habr.com/ru/post/pt454232/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt454216/index.html">Foram encontradas evid√™ncias de que todas as altera√ß√µes s√£o uma mistura de ordem e chance</a></li>
<li><a href="../pt454220/index.html">Term√¥metro de dois d√≠gitos</a></li>
<li><a href="../pt454222/index.html">Atualize o subsistema de disco do servidor antigo com o barramento PCIe 1.0 - 2.0</a></li>
<li><a href="../pt454224/index.html">Recomenda√ß√µes em Okko: como ganhar centenas de milh√µes multiplicando duas matrizes</a></li>
<li><a href="../pt454226/index.html">Mem√≥ria em dom√≠nios magn√©ticos cil√≠ndricos. Parte 1. Princ√≠pio do trabalho</a></li>
<li><a href="../pt454240/index.html">An√°lise wavelet. Parte 3</a></li>
<li><a href="../pt454242/index.html">"Olha, que jetpack eu tenho!" "Ah, olha que foguete eu tenho!" (notas do campeonato de foguetes)</a></li>
<li><a href="../pt454246/index.html">Variedades de coordenadas usadas na GUI do Unity3d</a></li>
<li><a href="../pt454248/index.html">Servos na era da intelig√™ncia artificial</a></li>
<li><a href="../pt454252/index.html">Mesmo os recursos da Web de organiza√ß√µes conhecidas n√£o est√£o protegidos dos erros das crian√ßas.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>