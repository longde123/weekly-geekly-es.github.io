<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎾 👩🏼‍🤝‍👨🏻 🤙🏼 Le courrier ne fait pas plus de 500 miles - FAQ 👩🏿 🍽️ 👨🏾‍🤝‍👨🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'histoire du courrier électronique, qui ne s'est pas éloignée de plus de 500 miles de l'expéditeur , est depuis longtemps devenue un classique barbu....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Le courrier ne fait pas plus de 500 miles - FAQ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468503/">  <i>L'histoire du <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">courrier électronique, qui ne s'est pas éloignée de plus de 500 miles de l'expéditeur</a> , est depuis longtemps devenue un classique barbu.</i>  <i>Je pensais que la réaction normale était juste de rire, mais il n'y avait pas si peu de gens qui voulaient prouver à l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">auteur</a> que cela ne pouvait pas être, parce que ... Au final, l'auteur n'a pas pu le supporter et a publié toute une FAQ.</i>  <i>Alors rencontrez:</i> <br><br><h2>  Courriel qui n'a pas dépassé 500 miles </h2><br>  J'ai reçu de nombreuses réponses à la publication «Le courrier ne dépasse pas 500 miles».  Mon histoire a été réimprimée plusieurs fois et vendue beaucoup plus large que je ne l'aurais pu espérer.  La plupart des réponses sont des remerciements pour l'histoire amusante et les offres d'emploi (en passant, merci pour eux, et j'aimerais qu'ils continuent à venir!) Cependant, beaucoup ont cherché des inexactitudes et des contradictions dans mon histoire, trouvant des défauts aux bagatelles.  Au lieu de répondre à chacune de ces attaques, j'ai simplement rassemblé les questions les plus fréquemment posées et répondu en une seule fois. <br><br>  <b>1. Était-ce vrai ou l'histoire n'est-elle qu'une histoire?</b> <br><br>  C'est une réalité.  À cette époque, j'étais responsable d'un système de messagerie centralisé sur le campus de l'Université de Caroline du Nord à Chapel Hill.  De plus, j'ai également participé à la configuration de la messagerie électronique pour les services qui, pour une raison quelconque, utilisaient leurs propres serveurs.  L'essentiel dans le contexte de cette histoire est que j'ai écrit un fichier de configuration pour le serveur de messagerie, sendmail.cf, qui était utilisé par la plupart des serveurs du campus. <br><a name="habracut"></a><br>  <b>2. Quand cette histoire s'est-elle produite?</b> <br><br>  Je voudrais vraiment dire avec certitude.  Mais malgré le fait que je suis l'un de ces plus <i>(dans l'original - je suis l'un de ces types de rétention anale)</i> qui stockent soigneusement tout leur courrier, entrant et sortant, je ne trouve pas une seule lettre à ce sujet.  Au moment où j'écrivais, j'ai été informé du problème par téléphone et j'ai également répondu par téléphone.  Après un certain temps, j'ai délibérément décidé de ne pas écrire de lettres, principalement parce que l'histoire est très bonne, et j'ai aimé la raconter et regarder les visages des gens qui l'ont entendue pour la première fois.  Sur la base des souvenirs du bureau dans lequel je travaillais à l'époque, des collègues à qui j'ai raconté cette histoire, et d'autres détails non pertinents mais liés au temps, l'histoire s'est produite vers 1994-1997. <br><br>  Cependant, vous pouvez certainement calculer l'heure plus précisément.  Par exemple, lorsque sendmail 8 était déjà «assez stable», mais Sun livrait-il toujours sendmail 5?  Eric Allman (Eric Allman) m'a écrit à ce sujet, que certaines fonctions pourraient être rétroportées vers sendmail 5, et si vous savez quand cela s'est produit, vous pouvez considérablement réduire l'intervalle de temps.  En général, si vous avez des idées sur la façon de calculer plus précisément le temps d'une histoire, je les écouterai avec gratitude <br><br>  <b>3. Est-ce que cette histoire vous est vraiment arrivée, ou est-ce que la personnalité du personnage principal vient des «détails non pertinents» qui ont été modifiés?</b> <br><br>  C'est vraiment mon histoire.  Peut-être qu'un de mes collègues m'a prévenu que «quelque chose s'est passé au bureau des statistiques» avant de parler au chef du département.  Il se peut même que j'aie appelé le chef du département et pas lui.  Très probablement, un de mes collègues était assis à côté de moi pendant que je réglais le problème, parce que j'ai l'habitude de discuter à haute voix des problèmes en cours de résolution.  Mais je ne raconte guère l'histoire de quelqu'un d'autre et je récolte des lauriers de quelqu'un d'autre.  Cependant, si vous travailliez avec moi à ce moment-là et que vous pensez que résoudre le problème est votre mérite, contactez-moi et nous trouverons quelque chose. <br><br>  <b>4. Si vous n'êtes pas sûr à 100% des détails, alors pourquoi y a-t-il tant de détails dans l'histoire?</b> <br><br>  Parce qu'avec les détails, l'histoire semble beaucoup mieux.  Pensez-vous vraiment que si je commençais chaque phrase par les mots "je ne me souviens pas exactement, mais il semble que ce soit ...", alors quelque chose aurait changé?  En fin de compte, au tout début, j'ai averti que certains détails mineurs avaient été modifiés et que certains avaient été délibérément omis - juste pour améliorer l'histoire. <br>  Le deuxième point important est le site où l'histoire a été publiée pour la première fois.  J'ai envoyé cette histoire à la liste de diffusion SAGE (System Administrators Guild) dans la section "défis incroyables".  Ce ne sont que des histoires sur les tâches les plus incroyables que la direction confie parfois aux administrateurs système. <br><br>  Bien sûr, si j'avais su que l'histoire se répandrait sur Internet, j'aurais été plus prudent en écrivant.  Mais le texte a été écrit pour des collègues, que je connais pour la plupart personnellement et qui, en général, ont tendance à me croire. <br><br>  <b>5. L'histoire est drôle, mais les détails techniques à la fin sont erronés.</b> <br><br>  Oui je sais.  Relisez la réponse à la question précédente.  Tout d'abord, j'ai écrit une histoire humoristique basée sur un incident qui m'est arrivé.  Ce n'est pas du matériel éducatif, il n'y a donc pas plus de détails techniques que nécessaire pour comprendre le sens général de ce qui se passe.  En général, après avoir écrit cette histoire, j'ai été imprégnée d'un grand respect pour les auteurs qui écrivent des histoires basées sur des événements réels et maintenant je sais combien il est difficile de maintenir un équilibre entre crédibilité et fiction.  Et maintenant, je sais bien quelle vague de critiques condamne l'auteur, en choisissant une syllabe artistique :-) <br><br>  <b>6. Bien, bien, mais pourquoi n'écris-tu pas du matériel de formation maintenant?</b> <br><br>  Malheureusement, cela ne fonctionnera pas, même si je le voulais, car je n'avais pas les données source.  Je n'ai pas enregistré les journaux et je n'ai pas pris de notes.  J'aimerais vraiment, vraiment qu'ils soient préservés, car je comprends que je pourrais en faire un bon article.  Tout cela parut alors insignifiant, digne de se transformer en plaisanterie pour un cercle restreint d'amis.  Et j'ai fait face à cette tâche - même sans journaux et notes. <br><br>  Bien que ... en fait, il y a des détails dont je me souviens ou que je peux restaurer.  Et je les utilise pour répondre aux questions suivantes. <br><br>  <b>7. La définition du délai de connexion () sur 3 ms n'a pas de sens.</b> <br><br>  Oui je sais.  Mais il n'y avait pas une telle installation.  L'histoire décrit comment j'ai passé 10 minutes à passer d'une limite de 500 miles sur la plage d'envoi de courrier à un délai de 3 ms, en raison de la vitesse de la lumière.  En fait, le processus a pris plusieurs heures, et mon travail peut être comparé au travail d'un détective.  Au final, j'ai trouvé une solution, fait des tests et versé du café (d'ailleurs, je suis sûr que c'était loin de la première tasse de café).  Donc tout de même, qu'est-ce qui vous embrouille exactement dans le chiffre «3 ms»? <br><br>  <b>8. Eh bien, tout d'abord, 3 ms ne sont clairement pas suffisants, car cela suffit pour que le paquet sortant atteigne le destinataire.</b>  <b>Mais vous devez toujours obtenir une réponse, donc le délai minimum devrait être de 6 ms?</b> <br><br>  Bien sûr.  Ce n'est là qu'un de ces détails que j'ai omis.  C'est trop compliqué et ennuyeux pour une histoire humoristique. <br><br>  <b>9. Ou peut-être que le délai d'attente devrait généralement être de 12/18/24 ms en raison du protocole de connexion TCP triphasé?</b> <br><br>  Peut-être.  Encore une fois, ce sont les détails dont je ne me souviens pas car j'ai perdu toutes les notes.  Cependant, je pense que lorsque le paquet SYN / ACK est reçu, le délai d'expiration de la fonction connect () est réinitialisé, c'est-à-dire qu'il n'est pas nécessaire que la connexion TCP soit entièrement établie pendant le délai d'expiration.  Oui, même si cela devait, de toute façon, raconter l'histoire, je réduirais tous ces calculs complexes au nombre "3". <br><br>  <b>10. L'équipement réseau introduit des retards dans le flux du signal beaucoup plus importants que vous ne le pensiez.</b> <br><br>  Oui, vous avez peut-être raison.  Mais je pourrais tenir compte de ces retards.  Je ne suis pas sûr d'avoir tout fait comme ça, mais je pourrais, par exemple, cingler le routeur le plus proche (par exemple, un routeur desservant le réseau d'un autre collège de notre université) pour calculer le délai que le routeur donne.  Ensuite, je pourrais multiplier le retard résultant par le nombre de nœuds par lesquels le signal passe à la destination.  Ce montant est à peu près le même pour toutes les universités de la côte Est.  Mais même si ce n'était pas le cas, le retard ajouté par un routeur redondant est de plusieurs centaines de microsecondes, ce qui n'affecte pas tellement le temps global. <br><br>  <b>11. Une histoire amusante, mais qui comporte une <i>faille fatale</i> : le signal dans le fil de cuivre ne se propage pas à la vitesse de la lumière.</b> <br><br>  Oui, c'est vrai, le signal arrive à une vitesse de ¾c environ.  Mais le réseau du campus et l'épine dorsale étaient entièrement en fibre optique. <br><br>  <b>12. Aha!</b>  <b>Mais même dans la fibre optique, la lumière ne se propage pas à la même vitesse que dans le vide!</b> <br><br>  Oui, vous m'avez ici.  Dans la fibre optique, le signal se déplace à une vitesse de ⅔c (oui, plus lent que dans un fil de cuivre) à presque c, en fonction d'un tas de facteurs.  Mais je le répète encore une fois - tout cela, je pourrais le prendre en compte et, bien sûr, le prendre en compte.  J'ai fait un ping sur différents nœuds et enregistré le temps et la distance du ping sur le nœud.  En comparant les chiffres obtenus, j'ai déduit un certain «temps empirique», légèrement différent du temps réel.  Cependant, tout cela est également des détails insignifiants, que j'ai omis pour rendre l'histoire plus courte et plus fascinante. <br><br>  <b>13. Stop-stop-stop ... Voulez-vous dire que vous avez d'abord supposé que le problème était en quelque sorte lié à la vitesse de la lumière, et que vous êtes ensuite allé aux calculs <i>(dans l'original - "tapé en unités", c'est-à-dire, utilisé l'utilitaire d'unités)</i> ?</b> <br><br>  Oui, exactement.  J'étais têtu.  N'avez-vous pas remarqué, pendant le processus de résolution du mystère, les bonnes réponses?  C'est exactement ce qui m'est arrivé.  Très probablement, au contraire, j'ai d'abord transféré 500 miles en millisecondes légères et seulement ensuite j'ai ajusté la réponse à cette connaissance. <br><br>  <b>14. Autrement dit, vous saviez comment résoudre le problème des utilisateurs, mais vous ne l'avez pas résolu avant d'avoir compris qu'il s'agissait d'un délai d'attente?</b> <br><br>  Non.  Dès que j'ai réalisé que le remplacement du sendmail standard dans SunOS par sendmail 8 résout le problème, je l'ai fait.  (Même si je ne savais pas que cela résoudrait le problème, je le ferais car sendmail 5 avec les paramètres de sendmail 8 n'est pas la meilleure configuration).  Mais j'ai gardé l'ancien binaire - pour toujours régler le problème à ma guise. <br><br>  Les administrateurs système font toujours cela.  Il n'arrive jamais que «le système fonctionne et est fatigué depuis trop longtemps», mais le redémarrage est souvent utile.  Tout d'abord, l'administrateur résout le problème du mieux qu'il peut afin que les utilisateurs puissent continuer à travailler, puis il revient et recherche la véritable cause de ce qui s'est passé. <br><br>  <b>15. Habituellement, les données transitent sur Internet avec des itinéraires très bizarres, mais dans cette histoire, l'expéditeur se connecte toujours directement au destinataire.</b>  <b>Comment ça?</b> <br><br>  Pas question.  500 miles plus ou moins - il y avait une zone pour envoyer une lettre au-delà de laquelle c'était impossible.  À l'intérieur de cette zone, il y avait aussi des nœuds où les lettres n'étaient pas envoyées ou envoyées avec un succès variable. <br><br>  Il peut y avoir au moins deux raisons à cela.  Le premier est un délai supplémentaire (par exemple, sur le pare-feu), qui a conduit à l'expiration du délai d'expiration.  Le second - le chemin vers ces nœuds était vraiment difficile, et sa longueur totale était de plus de 500 miles. <br><br>  Le réseau de l'Université de Caroline du Nord a été très bien construit et le chemin du signal vers d'autres universités de la côte Est (à laquelle, en fait, le courrier a été livré avec succès) était presque direct <i>(dans l'orthodromie d'origine)</i> , surtout lorsque cette histoire s'est produite.  À cette époque, il était rare qu'un paquet d'Atlanta à Washington passe par San Jose. <br><br>  <b>16. Et pourquoi avez-vous jugé nécessaire de mentionner dans l'histoire que votre réseau était presque entièrement construit sur des commutateurs?</b> <br><br>  Je ne sais pas.  A cette époque, il semblait que sans cette remarque, l'histoire serait totalement invraisemblable.  Bien que maintenant je ne comprends pas pourquoi.  Ainsi, lorsque vous relisez l'histoire, vous pouvez jeter mentalement le paragraphe correspondant. <br><br>  Un utilisateur avec le surnom Hacksaw a écrit ce qui suit: «La commutation exclut les retards, par exemple, pour résoudre les collisions.  L'absence de tels retards a simplifié la recherche du problème décrit, car les données d'analyse étaient plus propres.  Je parie que tu le pensais. " <br><br>  <b>17. Sendmail 5 ne comprend pas le fichier de configuration de sendmail 8.</b> <br><br>  Mais il a compris.  On m'a déjà dit que le sendmail 5 que l'on peut trouver sur le réseau ne comprend pas.  Par conséquent, je suis obligé de supposer que seul sendmail, fourni par Sun dans le cadre de Solaris, pourrait le faire.  Si vous avez accès à sa source, je vous serais reconnaissant de vérifier si cela était possible.  Mais encore - c'est arrivé, ce qui signifie que cela pourrait arriver :-) <br><br>  <b>18. sendmail a des valeurs de paramètres par défaut avec lesquelles il est compilé;</b>  <b>il ne peut pas simplement mettre tous les paramètres non initialisés à 0.</b> <br><br>  Plusieurs personnes m'ont écrit à ce sujet.  Aujourd'hui, c'est peut-être le cas, mais à cette époque, il n'en était certainement pas ainsi.  J'en suis sûr, car un an ou deux après cette histoire, j'étais dans un atelier sendmail à LISA avec Eric Allman.  Il a remarqué que sendmail n'a pas de valeurs par défaut pour certaines options dont il a parlé (dans le sendmail.cf standard, ces valeurs étaient, mais, comme vous vous en souvenez, cela ne s'applique pas à notre historique).  J'en ai profité et je lui ai raconté une histoire à environ 500 miles.  Il était littéralement allongé sous la table en riant :-) <br><br>  <b>19. L'utilitaire d'unités dans SunOS ne comprend pas ces unités comme des «millisecondes légères» <i>(dans la traduction russe, il est dit «prenez 3 millisecondes et multipliez par la vitesse de la lumière», et la sortie de l'utilitaire d'unités est indiquée dans l'original)</i></b> <br><br>  Oui  Et alors?  Sur toutes les machines avec lesquelles je travaille, j'écris mes propres unités.dat avec un tas d'unités et de préfixes supplémentaires.  Et en général, autant que je me souvienne, les unités que j'ai commencées sous AIX.  Je ne sais pas si je sais quoi que ce soit sur les millisecondes légères AIX.  Consultez le fichier units.dat fourni avec toute distribution Linux aujourd'hui.  Il connaît probablement les millisecondes légères (millilightseconds). <br><br>  <b>20. Bien sûr, il est très pratique de se référer aux "notes perdues" ...</b> <br><br>  Bien sûr.  Et combien de morceaux de papier il y a cinq ans conservez-vous? <br><br>  <b>21. Quoi qu'il en soit, cette histoire est une fiction!</b> <br><br>  Répondez à la question: si nous ignorons les détails techniques, la configuration incorrecte du serveur de messagerie peut-elle conduire au fait que les lettres sont remises aux destinataires à proximité, mais pas aux destinataires distants?  Je pense que la réponse est oui.  En fait, je sais que la réponse est oui parce que cela s'est réellement produit.  Mais même si vous ne tenez pas compte de mon expérience et que vous ne regardez pas la question de l'extérieur, je pense qu'elle est toujours possible, même si à première vue elle semble peu plausible. <br><br>  Si vous avez encore des questions auxquelles je n'ai pas répondu, écrivez-moi un e-mail à trey+500mi@lopsa.org.  Je vais ajouter votre question à la FAQ et vous mentionner en tant qu'auteur.  Mais très probablement, je dirai simplement: "Je ne sais pas, je ne me souviens pas et je n'ai pas les données pour répondre." <br><br>  <b>22. La signature indique que vous cherchez du travail.</b>  <b>Est-ce toujours pertinent?</b>  <b><i>(signature supprimée dans la traduction russe)</i></b> <br><br>  Plus maintenant, mais merci pour cette question! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr468503/">https://habr.com/ru/post/fr468503/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr468489/index.html">Contrebande de requêtes HTTP - nouvelles approches</a></li>
<li><a href="../fr468491/index.html">Malédiction karmique d'Habra</a></li>
<li><a href="../fr468493/index.html">La structure de la vue aérienne du projet Data Science</a></li>
<li><a href="../fr468497/index.html">Minuterie de brossage minutée de 3 minutes</a></li>
<li><a href="../fr468501/index.html">Comment j'ai créé un filtre qui ne corrompe pas l'image même après un million d'exécutions</a></li>
<li><a href="../fr468509/index.html">Développement de système d'exploitation de type Unix - Pilotes de périphériques de caractères (8)</a></li>
<li><a href="../fr468511/index.html">Publication d'un serveur via une passerelle DFL D-Link</a></li>
<li><a href="../fr468515/index.html">Conseils utiles pour l'intégration dans de nouveaux projets</a></li>
<li><a href="../fr468517/index.html">2. Présentation du support technique et de la garantie du commutateur Extreme Networks</a></li>
<li><a href="../fr468521/index.html">Comment nous avons généralisé la sécurité de l'information</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>