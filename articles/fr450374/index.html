<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåú üå∫ üåà Carte d'extension de RAM pour Apple IIgs üå´Ô∏è üöº üë©üèΩ‚Äçüî¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La carte d'extension RAM propos√©e pour l'ordinateur Apple IIgs est bas√©e sur des puces NEC uPD424400-70 provenant de plusieurs modules SIMM de 1 m√©gao...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Carte d'extension de RAM pour Apple IIgs</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/450374/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/qg/gt/r-/qggtr-xjimoqujhkhfesueiplry.jpeg"></div><br>  La carte d'extension RAM propos√©e pour l'ordinateur Apple IIgs est bas√©e sur des puces NEC uPD424400-70 provenant de plusieurs modules SIMM de 1 m√©gaoctet.  Chacune de ces micropuces stocke 1 M de grignotages et est log√©e dans un bo√Ætier de type SOJ √† 26 broches. <br><br>  L'ordinateur Apple IIgs est aliment√© par un processeur 65C816 - 16 bits, mais avec un bus de donn√©es 8 bits.  La carte d'extension contient 4 Mo de RAM.  La m√©moire est divis√©e en quatre lignes de 1 Mo chacune.  La ligne se compose de deux jetons de 1 m de grignotages, donc un total de huit jetons √©tait n√©cessaire. <a name="habracut"></a><br><br>  L'ordinateur dispose d√©j√† d'un emplacement pour la carte d'extension RAM.  Il affiche tous les signaux n√©cessaires, l'ordinateur s'occupe √©galement de la r√©g√©n√©ration de la RAM dynamique.  Par cons√©quent, la carte d'extension est assez simple.  L'auteur a d√©cid√© de rendre la carte de petite taille, car le co√ªt de sa fabrication en d√©pend, et a √©galement mis toute la logique dans le FPGA GAL22V10. <br><br>  Les signaux suivants sont pr√©sents sur l'emplacement d'extension RAM: <br><br>  FRA0-FRA9 - Adresse de cellule multiplex√©e 10 bits, servie directement aux entr√©es d'adresse des puces RAM dynamiques <br>  CROW0, 1 - deux bits pour s√©lectionner l'une des quatre lignes <br>  / CRAS - ligne d'adresse de signal stroboscopique de RAM dynamique <br>  / CCAS - Adresse de la colonne de d√©clenchement du signal de la RAM dynamique <br>  FR / W - autorisation d'√©criture en RAM, ce signal n√©cessite un traitement suppl√©mentaire, voir ci-dessous <br>  D0-D7 - bus de donn√©es, connect√© directement aux lignes d'entr√©e / sortie des puces RAM <br>  / CSEL - une unit√© logique appara√Æt sur cette ligne lors de la lecture depuis la RAM, elle doit √™tre invers√©e et aliment√©e aux entr√©es / OE des puces RAM <br>  MSIZE - indique √† l'ordinateur le volume de la ligne: un - 256 ko, z√©ro - 1 Mo, ici cette ligne est connect√©e √† un fil commun <br>  14M, PH2CLK, A10-A15 - ne sont pas impliqu√©s dans la carte propos√©e <br><br>  Les signaux / CRAS et / CCAS doivent √™tre d√©multiplex√©s pour obtenir des signaux / RAS et / CAS s√©par√©s pour chaque ligne.  Pour cela, la puce 74F139 convient (ci-apr√®s, il est entendu qu'il n'y aura pas de puces s√©par√©es sur la carte, au lieu de cela, il y aura un FPGA commun). <br><br><img src="https://habrastorage.org/webt/z_/cg/c1/z_cgc1yw8z7f6ygnnlzukz9v0xe.png"><br><br>  Le signal FR / W ne peut pas √™tre envoy√© directement √† l'entr√©e / WE des puces RAM dynamiques, et c'est pourquoi.  Dans une op√©ration de lecture-√©criture normale, la ligne / RAS devient d'abord active (ce qui correspond √† un z√©ro logique), puis la ligne / CAS.  Au cours d'un cycle de r√©g√©n√©ration dynamique de RAM, au contraire, la ligne / CAS devient d'abord active, puis / RAS devient active.  Mais les puces utilis√©es n√©cessitent qu'une unit√© apparaisse sur la ligne / WE avant que la ligne / RAS ne devienne active.  Et le signal FR / W provenant d'Apple IIgs ne r√©pond pas √† cette exigence.  L'√©tat de FR / W pendant le cycle de r√©g√©n√©ration n'est pas d√©fini.  Par cons√©quent, un circuit est n√©cessaire qui d√©tecte un cycle de r√©g√©n√©ration et alimente une unit√© vers / WE. <br><br>  La premi√®re √©tape consiste √† identifier le cycle de r√©g√©n√©ration.  Voici le chronogramme: <br><br><img src="https://habrastorage.org/webt/eq/yw/po/eqywpoq6_ezdbhqb28niczkzw70.png"><br><br>  L‚Äôid√©e de l‚Äôauteur est d‚Äôutiliser un verrou ¬´transparent¬ª.  Le signal / CRAS pour lui est le signal d'entr√©e, / CCAS est le signal de verrouillage.  Lorsque l'unit√© est allum√©e / CCAS, l'appareil passe le signal d'entr√©e √† travers lui-m√™me: l'√©tat de la sortie change apr√®s l'√©tat de l'entr√©e.  Lorsque / CCAS passe de un √† z√©ro, le verrou m√©morise le signal √† l'entr√©e et maintenant il ne change pas √† la sortie.  Dans une op√©ration de lecture / √©criture normale sur / CRAS, z√©ro est pr√©sent au moment de la commutation / CCAS de un √† z√©ro.  Et pendant le cycle de r√©g√©n√©ration sur / CRAS, il y en a √©galement un au moment de la mise √† z√©ro / CCAS.  Ensuite, lorsque / CCAS repasse √† un, le verrou redevient transparent.  Il rappelle une fleur fantastique de "Secrets de la troisi√®me plan√®te", qui peut √™tre √† la fois un "miroir" et une "cam√©ra". <br><br><img src="https://habrastorage.org/webt/3t/ps/tv/3tpstvrdzon1qm2gzilamm5u5uk.png"><br><br>  Dans un premier temps, l'auteur a √©labor√© le sch√©ma suivant: <br><br><img src="https://habrastorage.org/webt/jr/lx/ce/jrlxce2yczuoia0qii6pegosh3y.png"><br><br>  Mais pour son transfert vers le FPGA GAL22V10, deux broches de sortie sont n√©cessaires.  Par cons√©quent, le r√©gime a d√ª √™tre simplifi√©.  En fonctionnement normal, le signal FR / W prend la valeur souhait√©e jusqu'au d√©clic, c'est donc √©galement possible. <br><br><img src="https://habrastorage.org/webt/6i/wm/du/6iwmdul32mhqhjwlapehow3tjwk.png"><br><br>  Un verrou ¬´transparent¬ª peut √™tre r√©alis√© √† partir d'un multiplexeur, et √† son tour, d'√©l√©ments logiques.  Le sch√©ma devient comme ceci: <br><br><img src="https://habrastorage.org/webt/ra/2a/lf/ra2alfwaffbwoins2ofvui37q8q.png"><br><br>  Et apr√®s la simplification - comme ceci: <br><br><img src="https://habrastorage.org/webt/nr/qy/ms/nrqymsbmty8bmz0nzbwsyuctgfo.png"><br><br>  Cette option est transf√©r√©e au FPGA.  Pour la compilation, l'auteur a utilis√© WinCUPL.  Ce programme est disponible sur le site Web d'Atmel.  Il est brut et vole constamment, mais il a parfaitement fait face √† la t√¢che.  Programmeur - Genius G540. <br><br>  Le cavalier SJ1 de la carte agit comme ceci.  Si les broches 1 et 2 sont connect√©es, le signal / OE passe par le FPGA.  Si les broches 2 et 3 sont connect√©es, elle est connect√©e √† un fil commun.  L'auteur n'√©tait pas s√ªr que le sch√©ma d'identification du cycle de r√©g√©n√©ration fonctionnerait.  Par cons√©quent, il a ajout√© ce cavalier au cas o√π la configuration FPGA devait √™tre refaite. <br><br>  Comme il s'est av√©r√© que tout fonctionne, vous n'avez pas besoin de souder les broches, connectez simplement les bornes 1 et 2 avec une goutte de soudure. <br><br>  Pour r√©duire la taille de la carte, l'auteur a appliqu√© un condensateur de puissance pour quatre puces RAM et a plac√© les puces elles-m√™mes des deux c√¥t√©s de la carte. <br><br>  Les puces √©lectroniques dans les bo√Ætiers SOJ sont difficiles √† souder, et en particulier √† souder, avec un fer √† souder.  L'auteur recommande d'utiliser un s√®che-cheveux. <br><br>  D√©veloppez les puces correctement.  En fin de compte, ils sont invers√©s.  La broche 1 regarde vers le bas. <br><br>  Certains trous traversants sont trop proches des coussinets.  Ne les court-circuitez pas avec de la soudure. <br><br>  Et les plates-formes 1 et 2 pour le cavalier, au contraire, se ferment. <br><br>  Les condensateurs C1 - C3 ont une capacit√© de 0,1 ŒºF, C4 - 10 ŒºF. <br><br>  L'auteur a command√© les planches √† OSH Park.  Le rev√™tement ENIG est appliqu√© - or, mais tr√®s mince.  Pour les cartouches de jeu ne convient pas - il sera rapidement effac√©.  Et ici, la planche a √©t√© plac√©e une fois de plus dans la fente. <br><br>  L'auteur remercie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GGLabs</a> pour le circuit d'une carte similaire, cela a beaucoup aid√©, merci! <br><br>  Le circuit fini s'est av√©r√© comme ceci: <br><br><img src="https://habrastorage.org/webt/vq/u2/-p/vqu2-pyrg9o9etemhajwkkkrdp8.jpeg"><br><br>  Fichiers: <br><br>  <a href="">Micrologiciel FPGA GAL22V10</a> , version du programme WinCUPL 5.30.4 appliqu√©e <br><br>  <a href="">Carte</a> , logiciel Eagle version 7.1 appliqu√© <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Plan PDF</a> <br><br>  Gagn√©! <br><br><img src="https://habrastorage.org/webt/ii/nj/g0/iinjg0a7ipaglxqrvwiljlxk2nw.jpeg"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr450374/">https://habr.com/ru/post/fr450374/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr450358/index.html">Am√©liorations du service de distribution de Visual Studio App Center</a></li>
<li><a href="../fr450360/index.html">Architecture d'application Exchange SPA en 2019</a></li>
<li><a href="../fr450362/index.html">Comptez les agents "examinateur"</a></li>
<li><a href="../fr450368/index.html">Obtenez des taux absolus √† partir des taux de change de devises crois√©es</a></li>
<li><a href="../fr450372/index.html">Comment les algorithmes d'Amazon d√©terminent qui il est temps de rejeter</a></li>
<li><a href="../fr450376/index.html">Comment Yandex.Taxi recherche des voitures quand elles ne le sont pas</a></li>
<li><a href="../fr450378/index.html">GitLab 11.10</a></li>
<li><a href="../fr450384/index.html">L'histoire d'une petite √©tude de code h√©rit√©e</a></li>
<li><a href="../fr450386/index.html">Interfaces en tant que types de donn√©es abstraits dans Go</a></li>
<li><a href="../fr450394/index.html">Enqu√™te sur une archive inconnue</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>