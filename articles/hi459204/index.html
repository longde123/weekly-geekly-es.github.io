<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯНЖ ЁЯШм ЁЯНв C ++ рдореЗрдВ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ 10 ++ рддрд░реАрдХреЗ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, IAR рдФрд░ Cortex M) ЁЯЩМЁЯП┐ ЁЯНА ЁЯОн</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдЕрдВрдЬреАрд░ред рдЖрдИ рдХрд┐рдпреЛрдХреЛ 

 рд╕рднреА рдХреЛ рдЕрдЪреНрдЫрд╛ рд╕реНрд╡рд╛рд╕реНрдереНрдп! 

 рдЖрдкрдХреЛ рд╢рд╛рдпрдж рджрд╛рдврд╝реА рд╡рд╛рд▓рд╛ рдХрд┐рд╕реНрд╕рд╛ рдпрд╛рдж рд╣реИ, рдФрд░ рд╢рд╛рдпрдж рдПрдХ рд╕рдЪреНрдЪреА рдХрд╣рд╛рдиреА рд╣реИ рдХрд┐ рдХреИрд╕реЗ рдПрдХ рдЫрд╛рддреНрд░ рд╕реЗ рдмреИрд░реЛрдореАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C ++ рдореЗрдВ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ 10 ++ рддрд░реАрдХреЗ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, IAR рдФрд░ Cortex M)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459204/"><img src="https://habrastorage.org/webt/fd/id/cl/fdidclwtjklierjxrqybnqmttui.jpeg" alt="рд╕рдмрд╕реЗ рд╕реБрд░рдХреНрд╖рд┐рдд рд░рд╛рд╕реНрддрд╛ рдЪреБрдирдирд╛"><br>  <sub><b>рдЕрдВрдЬреАрд░ред</b></sub>  <sub><b>рдЖрдИ рдХрд┐рдпреЛрдХреЛ</b></sub> <br><br>  рд╕рднреА рдХреЛ рдЕрдЪреНрдЫрд╛ рд╕реНрд╡рд╛рд╕реНрдереНрдп! <br><br>  рдЖрдкрдХреЛ рд╢рд╛рдпрдж рджрд╛рдврд╝реА рд╡рд╛рд▓рд╛ рдХрд┐рд╕реНрд╕рд╛ рдпрд╛рдж рд╣реИ, рдФрд░ рд╢рд╛рдпрдж рдПрдХ рд╕рдЪреНрдЪреА рдХрд╣рд╛рдиреА рд╣реИ рдХрд┐ рдХреИрд╕реЗ рдПрдХ рдЫрд╛рддреНрд░ рд╕реЗ рдмреИрд░реЛрдореАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЗрдорд╛рд░рдд рдХреА рдКрдВрдЪрд╛рдИ рдХреЛ рдорд╛рдкрдиреЗ рдХреЗ рддрд░реАрдХреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреВрдЫрд╛ рдЧрдпрд╛ рдерд╛ред  рдЫрд╛рддреНрд░ рдиреЗ рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рд▓рдЧрднрдЧ 20 рдпрд╛ 30 рддрд░реАрдХреЛрдВ рдХрд╛ рд╣рд╡рд╛рд▓рд╛ рджрд┐рдпрд╛, рдЬрд┐рд╕рдореЗрдВ рд╢рд┐рдХреНрд╖рдХ рджреНрд╡рд╛рд░рд╛ рдЕрдкреЗрдХреНрд╖рд┐рдд рдкреНрд░рддреНрдпрдХреНрд╖ (рджрдмрд╛рд╡ рдореЗрдВ рдЕрдВрддрд░) рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдП рдмрд┐рдирд╛ред <br><br>  рд▓рдЧрднрдЧ рдПрдХ рд╣реА рдирд╕ рдореЗрдВ, рдореИрдВ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░реЛрдВ рдХреЗ рд▓рд┐рдП рд╕реА ++ рдХреЗ рдЙрдкрдпреЛрдЧ рдкрд░ рдЪрд░реНрдЪрд╛ рдЬрд╛рд░реА рд░рдЦрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдФрд░ рд╕реА ++ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рддрд░реАрдХреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВред  рдФрд░ рдореИрдВ рдпрд╣ рдиреЛрдЯ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВ рдХрд┐ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рддрдХ рд╕реБрд░рдХреНрд╖рд┐рдд рдкрд╣реБрдВрдЪ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдЖрд╕рд╛рди рд░рд╛рд╕реНрддрд╛ рдирд╣реАрдВ рд╣реЛрдЧрд╛ред  рдореИрдВ рддрд░реАрдХреЛрдВ рдХреЗ рд╕рднреА рдкреЗрд╢реЗрд╡рд░реЛрдВ рдФрд░ рд╡рд┐рдкрдХреНрд╖реЛрдВ рдХреЛ рджрд┐рдЦрд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реВрдВрдЧрд╛ред  рдпрджрд┐ рдЖрдк рдЕрдзрд┐рдХ рддрд░реАрдХреЗ рдЬрд╛рдирддреЗ рд╣реИрдВ, рддреЛ рдЙрдиреНрд╣реЗрдВ рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдореЗрдВ рдлреЗрдВрдХ рджреЗрдВред  рддреЛ рдЪрд▓рд┐рдП рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ: <br><a name="habracut"></a><br><h3>  рд╡рд┐рдзрд┐ 1. рд╕реНрдкрд╖реНрдЯ рдФрд░ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рдирд╣реАрдВ </h3><br>  рд╕рдмрд╕реЗ рд╕рд╛рдорд╛рдиреНрдп рд╡рд┐рдзрд┐, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ C ++ рдореЗрдВ рднреА рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдирд┐рд░реНрдорд╛рддрд╛ рд╕реЗ рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓ рд╕реЗ рд░рдЬрд┐рд╕реНрдЯрд░ рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреЗ рд╡рд┐рд╡рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рд╣реИред  рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд▓рд┐рдП, рдореИрдВ STM32F411 рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рджреЛ рдкреЛрд░реНрдЯ рдП рд░рдЬрд┐рд╕реНрдЯрд░ (ODR - рдЖрдЙрдЯрдкреБрдЯ рдбреЗрдЯрд╛ рд░рдЬрд┐рд╕реНрдЯрд░ рдФрд░ IDR - рдЗрдирдкреБрдЯ рдбреЗрдЯрд╛ рд░рдЬрд┐рд╕реНрдЯрд░) рд▓реЗ рдЬрд╛рдКрдВрдЧрд╛ рддрд╛рдХрд┐ рдореИрдВ "рдХрдврд╝рд╛рдИ" "рд╣реИрд▓реЛ рд╡рд░реНрд▓реНрдб" рдХрд░ рд╕рдХреВрдВ - рдПрд▓рдИрдбреА рдХреЛ рдмреНрд▓рд┐рдВрдХ рдХрд░реЗрдВред <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ GPIOA-&gt;ODR ^= (<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ; GPIOA-&gt;IDR ^= (<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ; <span class="hljs-comment"><span class="hljs-comment">//,      }</span></span></code> </pre> <br>  рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рдпрд╣рд╛рдВ рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдпрд╣ рдбрд┐рдЬрд╝рд╛рдЗрди рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред  рдорд╛рдЗрдХреНрд░реЛрдкреНрд░реЛрд╕реЗрд╕рд░ рд╣реЗрдбрд░ рдореЗрдВ <code>GPIO_TypeDef</code> рд╕рдВрд░рдЪрдирд╛ рдФрд░ рдЗрд╕ <code>GPIOA</code> рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реВрдЪрдХ рдкрд░рд┐рднрд╛рд╖рд╛ <code>GPIOA</code> рд╣реИред  рдпрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> {</span></span> __IO <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> MODER; <span class="hljs-comment"><span class="hljs-comment">//port mode register, Address offset: 0x00 __IO uint32_t OTYPER; //port output type register, Address offset: 0x04 __IO uint32_t OSPEEDR; //port output speed register, Address offset: 0x08 __IO uint32_t PUPDR; //port pull-up/pull-down register, Address offset: 0x0C __IO uint32_t IDR; //port input data register, Address offset: 0x10 __IO uint32_t ODR; //port output data register, Address offset: 0x14 __IO uint32_t BSRR; //port bit set/reset register, Address offset: 0x18 __IO uint32_t LCKR; //port configuration lock register, Address offset: 0x1C __IO uint32_t AFR[2]; //alternate function registers, Address offset: 0x20-0x24 } GPIO_TypeDef; #define PERIPH_BASE 0x40000000U //Peripheral base address in the alias region #define AHB1PERIPH_BASE (PERIPH_BASE + 0x00020000U) #define GPIOA_BASE (AHB1PERIPH_BASE + 0x0000U) #define GPIOA ((GPIO_TypeDef *) GPIOA_BASE)</span></span></code> </pre><br>  рдЗрд╕реЗ рд╕рд╛рдзрд╛рд░рдг рдорд╛рдирд╡ рд╢рдмреНрджреЛрдВ рдореЗрдВ рдХрд╣реЗрдВ, рддреЛ <code>GPIO_TypeDef</code> рдкреНрд░рдХрд╛рд░ рдХреА рдкреВрд░реА рд╕рдВрд░рдЪрдирд╛ <code>GPIO_TypeDef</code> рдкрддреЗ рдкрд░ "рд▓реЗрдЯ" <code>GPIOA_BASE</code> , рдФрд░ рдЬрдм рдЖрдк рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреНрд╖реЗрддреНрд░ рдХрд╛ рд╕рдВрджрд░реНрдн рджреЗрддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ рдЗрд╕ рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдкрддреЗ рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдХрд░рддреЗ рд╣реИрдВ - рдЗрд╕ рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдПрдХ рддрддреНрд╡ рдХреЛ рдСрдлрд╕реЗрдЯ рдХрд░реЗрдВред  рдпрджрд┐ рдЖрдк <code>#define GPIOA</code> , рддреЛ рдХреЛрдб рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧрд╛: <br><br><pre> <code class="cpp hljs">((GPIO_TypeDef *) GPIOA_BASE)-&gt;ODR ^= (<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ; ((GPIO_TypeDef *) GPIOA_BASE)-&gt;IDR ^= (<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ; <span class="hljs-comment"><span class="hljs-comment">//</span></span></code> </pre><br>  C ++ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛ рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ, рдкреВрд░реНрдгрд╛рдВрдХ рдкрддрд╛ <code>GPIO_TypeDef</code> рд╕рдВрд░рдЪрдирд╛ рдореЗрдВ рдкреЙрдЗрдВрдЯрд░ рдкреНрд░рдХрд╛рд░ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди C ++ рдореЗрдВ, C рд░реВрдкрд╛рдВрддрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, рдХрдВрдкрд╛рдЗрд▓рд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЕрдиреБрдХреНрд░рдо рдореЗрдВ рд░реВрдкрд╛рдВрддрд░рдг рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реИ: <br><br><ul><li>  const_cast </li><li>  static_cast </li><li>  рд╕реНрдерд┐рд░_рдХрд╛рд╕реНрдЯ const_cast рдХреЗ рдмрдЧрд▓ рдореЗрдВ, </li><li>  reinterpret_cast </li><li>  const_cast рдХреЗ рдмрдЧрд▓ рдореЗрдВ reinterpret_cast </li></ul><br>  рдпрд╛рдиреА  рдпрджрд┐ рдХрдВрдкрд╛рдЗрд▓рд░ const_cast рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЛ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдирд╣реАрдВ рдХрд░ рд╕рдХрд╛, рддреЛ рд╡рд╣ static_cast рдФрд░ рдЗрддрдиреЗ рдкрд░ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддрд╛ рд╣реИред  рдирддреАрдЬрддрди, рдХреЙрд▓: <br><br><pre> <code class="cpp hljs">((GPIO_TypeDef *) GPIOA_BASE)-&gt;ODR ^= (<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ;</code> </pre> <br>  рдРрд╕рд╛ рдХреБрдЫ рдирд╣реАрдВ рд╣реИ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">reinterpret_cast</span></span>&lt;GPIO_TypeDef *&gt; (GPIOA_BASE)-&gt;ODR ^= (<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ;</code> </pre> <br>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╕реА ++ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП, рдЗрд╕ рддрд░рд╣ рд╕реЗ рдкрддреЗ рдкрд░ рд╕рдВрд░рдЪрдирд╛ рдХреЛ "рдЦреАрдВрдЪ" рдХрд░рдирд╛ рд╕рд╣реА рд╣реЛрдЧрд╛: <br><br><pre> <code class="cpp hljs">GPIO_TypeDef * GPIOA{<span class="hljs-keyword"><span class="hljs-keyword">reinterpret_cast</span></span>&lt;GPIO_TypeDef *&gt;(GPIOA_BASE)} ;</code> </pre> <br>  рдХрд┐рд╕реА рднреА рдорд╛рдорд▓реЗ рдореЗрдВ, рдЯрд╛рдЗрдк рд░реВрдкрд╛рдВрддрд░рдг рдХреЗ рдХрд╛рд░рдг, C ++ рдХреЗ рд▓рд┐рдП рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдПрдХ рдмрдбрд╝рд╛ рдЛрдг рд╣реИред  рдпрд╣ рдЗрд╕ рддрдереНрдп рдореЗрдВ <code>constexpr</code> рд╣реИ рдХрд┐ <code>reinterpret_cast</code> рдЙрдкрдпреЛрдЧ рди рддреЛ рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ <code>constexpr</code> рдФрд░ рдлрд╝рдВрдХреНрд╢рдВрд╕ рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рди рд╣реА рдЯреЗрдореНрдкрд▓реЗрдЯ рдорд╛рдкрджрдВрдбреЛрдВ рдореЗрдВ, рдФрд░ рдпрд╣ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░реНрд╕ рдХреЗ рд▓рд┐рдП C ++ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЛ рдХрд╛рдлреА рдХрдо рдХрд░рддрд╛ рд╣реИред <br>  рдореИрдВ рдЗрд╕реЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рд╕рд╛рде рд╕рдордЭрд╛рдКрдВрдЧрд╛ред  рдРрд╕рд╛ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ: <br><br><pre> <code class="cpp hljs"> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Test</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> b; } ; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;Test* mystruct&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">const</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Geta</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mystruct-&gt;a; } Test test{<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>}; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Geta&lt;&amp;test&gt;() ; }</code> </pre><br>  рд▓реЗрдХрд┐рди рдЖрдк рдРрд╕рд╛ рдкрд╣рд▓реЗ рд╕реЗ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;GPIO_TypeDef * mystruct&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">constexpr</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">volatile</span></span></span><span class="hljs-function"> uint32_t </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetIdr</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mystruct-&gt;IDR; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//GPIOA  reinterpret_cast&lt;GPIO_TypeDef *&gt; (GPIOA_BASE) //  ,        GetIdr&lt;GPIOA&gt;() ; // } //      : struct Port { constexpr Port(GPIO_TypeDef * ptr): port(*ptr) {} GPIO_TypeDef &amp; port ; } //  GPIOA  reinterpret_cast,   //  constexpr      constexpr Port portA{GPIOA}; //   </span></span></code> </pre><br>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдкреНрд░рддреНрдпрдХреНрд╖ рдЙрдкрдпреЛрдЧ C ++ рдХреЗ рдЙрдкрдпреЛрдЧ рдкрд░ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдкреНрд░рддрд┐рдмрдВрдз рд▓рдЧрд╛рддрд╛ рд╣реИред  рд╣рдо рдЙрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реЛрдВрдЧреЗ рдЬреЛ рднрд╛рд╖рд╛ рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ ROM рдореЗрдВ <code>GPIOA</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИ, рдФрд░ рд╣рдо рдРрд╕реА рд╡рд╕реНрддреБ рдХреЗ рд▓рд┐рдП рдореЗрдЯрд╛рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдХрд╛ рд▓рд╛рдн рдирд╣реАрдВ рд▓реЗ рдкрд╛рдПрдВрдЧреЗред <br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдпрд╣ рд╡рд┐рдзрд┐ рд╕реБрд░рдХреНрд╖рд╛ рдирд╣реАрдВ рд╣реИ (рдЬреИрд╕рд╛ рдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╢реНрдЪрд┐рдореА рд╕рд╛рдереА рдХрд╣рддреЗ рд╣реИрдВ)ред  рдЖрдЦрд┐рд░рдХрд╛рд░, рдХреБрдЫ рдЧреИрд░-рдордЬрд╝рд╛ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реИ <br>  рдЙрдкрд░реЛрдХреНрдд рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ, рд╣рдо рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд░рддреЗ рд╣реИрдВ: <br><blockquote><h4>  рдЖрдХрд░реНрд╖рдг рдЖрддреЗ рд╣реИрдВ </h4><br><ul><li>  рдирд┐рд░реНрдорд╛рддрд╛ рд╕реЗ рд╣реЗрдбрд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдпрд╣ рдЬрд╛рдБрдЪ рдХреА рдЬрд╛рддреА рд╣реИ, рдЗрд╕рдореЗрдВ рдХреЛрдИ рддреНрд░реБрдЯрд┐ рдирд╣реАрдВ рд╣реИ) </li><li>  рдХреЛрдИ рдЕрддрд┐рд░рд┐рдХреНрдд рдЗрд╢рд╛рд░реЗ рдФрд░ рд▓рд╛рдЧрдд рдирд╣реАрдВ рд╣реИрдВ, рдЖрдк рд▓реЗрддреЗ рд╣реИрдВ рдФрд░ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ </li><li>  рдЙрдкрдпреЛрдЧ рдореЗрдВ рдЖрд╕рд╛рдиреА </li><li>  рд╣рд░ рдХреЛрдИ рдЗрд╕ рд╡рд┐рдзрд┐ рдХреЛ рдЬрд╛рдирддрд╛ рдФрд░ рд╕рдордЭрддрд╛ рд╣реИред </li><li>  рдХреЛрдИ рдЙрдкрд░рд┐ рдирд╣реАрдВ </li></ul><br><h4>  рд╡рд┐рдкрдХреНрд╖ </h4><br><ul><li>  рдореЗрдЯрд╛рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдХрд╛ рд╕реАрдорд┐рдд рдЙрдкрдпреЛрдЧ </li><li>  рдХреЙрдиреНрд╕реНрдЯреИрдХреНрд╕ рдирд┐рд░реНрдорд╛рдгрдХрд░реНрддрд╛рдУрдВ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдореЗрдВ рдЕрд╕рдорд░реНрдерддрд╛ </li><li>  рдХрдХреНрд╖рд╛рдУрдВ рдореЗрдВ рд░реИрдкрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, рд░реИрдо рдХреА рдЕрддрд┐рд░рд┐рдХреНрдд рдЦрдкрдд рдЗрд╕ рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдПрдХ рдЙрджреНрджреЗрд╢реНрдп рд╣реИ </li><li>  рдЖрдк рдмреЗрд╡рдХреВрдл рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ </li></ul></blockquote>  рдЕрдм рдЖрдЗрдП рд╡рд┐рдзрд┐ рд╕рдВрдЦреНрдпрд╛ 2 рджреЗрдЦреЗрдВ <br><br><h3>  рд╡рд┐рдзрд┐ 2. рдХреНрд░реВрд░ </h3><br>  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдПрдореНрдмреЗрдб рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рд╕рднреА рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рд▓рд┐рдП рд╕рднреА рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рдкрддреЗ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдк рд╣рдореЗрд╢рд╛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдкрд╣рд▓реЗ рд╕реЗ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ рд╣реИ: <br><br><pre> <code class="cpp hljs">*<span class="hljs-keyword"><span class="hljs-keyword">reinterpret_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> *&gt;(GpioaOdrAddr) ^= (<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt;<span class="hljs-number"><span class="hljs-number">5</span></span>) ; *<span class="hljs-keyword"><span class="hljs-keyword">reinterpret_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> *&gt;(GpioaIdrAddr) ^= (<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt;<span class="hljs-number"><span class="hljs-number">5</span></span>) ; <span class="hljs-comment"><span class="hljs-comment">//</span></span></code> </pre> <br>  рдХрд╛рд░реНрдпрдХреНрд░рдо рдореЗрдВ рдХрд╣реАрдВ рднреА, рдЖрдк рд╣рдореЗрд╢рд╛ <code>volatile uint32_t</code> рд░рдЬрд┐рд╕реНрдЯрд░ рдкрддреЗ рдкрд░ рд░реВрдкрд╛рдВрддрд░рдг рдХреЛ рдХреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдХрдо рд╕реЗ рдХрдо рдХреБрдЫ рд╡рд╣рд╛рдВ рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br>  рдпрд╣рд╛рдВ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдХреЛрдИ рдкреНрд▓рд╕ рдирд╣реАрдВ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЙрди minuses рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрд╕реБрд╡рд┐рдзрд╛ рдХреЛ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд╛ рдкрддрд╛ рдЦреБрдж рдХреЛ рдПрдХ рдЕрд▓рдЧ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд▓рд┐рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдЗрд╕рд▓рд┐рдП, рд╣рдо рд╡рд┐рдзрд┐ рд╕рдВрдЦреНрдпрд╛ 3 рдХреА рдУрд░ рдореБрдбрд╝рддреЗ рд╣реИрдВред <br><br><h3>  рд╡рд┐рдзрд┐ 3. рд╕реНрдкрд╖реНрдЯ рдФрд░ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рдЕрдзрд┐рдХ рд╕рд╣реА </h3><br>  рдпрджрд┐ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рддрдХ рдкрд╣реБрдВрдЪ рд╕рдВрд░рдЪрдирд╛ рдХреНрд╖реЗрддреНрд░ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣реЛрддреА рд╣реИ, рддреЛ рд╕рдВрд░рдЪрдирд╛ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕рдВрдХреЗрддрдХ рдХреЗ рдмрдЬрд╛рдп, рдЖрдк рдкреВрд░реНрдгрд╛рдВрдХ рд╕рдВрд░рдЪрдирд╛ рдкрддреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХрд╛ рдкрддрд╛ рдирд┐рд░реНрдорд╛рддрд╛ рд╕реЗ рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, GPIOA рдХреЗ рд▓рд┐рдП GPIOA_BASE), рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рдЗрд╕реЗ рдпрд╛рдж рд░рдЦрдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдк рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЯреЗрдореНрдкрд▓реЗрдЯреНрд╕ рдФрд░ рдХреЙрдиреНрд╕реНрдЯреНрд░реЗрдХреНрд╕ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐рдпреЛрдВ рдореЗрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдЗрд╕ рдкрддреЗ рдкрд░ рд╕рдВрд░рдЪрдирд╛ рдХреЛ "рдУрд╡рд░рд▓реЗ" рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> addr, <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> pinNum&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Pin</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Registers = GPIO_TypeDef ; __<span class="hljs-function"><span class="hljs-function">forceinline </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Toggle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//     addr Registers *GpioPort{reinterpret_cast&lt;Registers*&gt;(addr)}; GpioPort-&gt;ODR ^= (1 &lt;&lt; pinNum) ; } }; int main() { using Led1 = Pin&lt;GPIOA_BASE, 5&gt; ; Led1::Toggle() ; }</span></span></code> </pre><br>  рдореЗрд░реА рджреГрд╖реНрдЯрд┐ рд╕реЗ, рдХреЛрдИ рд╡рд┐рд╢реЗрд╖ рдордВрддреНрд░ рдирд╣реАрдВ рд╣реИрдВред  рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ, рдПрдХ рдХрд╛рд░реНрдп рд╡рд┐рдХрд▓реНрдкред  рд▓реЗрдХрд┐рди рдлрд┐рд░ рднреА, рдЖрдЗрдП рдЕрдиреНрдп рддрд░реАрдХреЛрдВ рдкрд░ рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВред <br><br><h3>  рд╡рд┐рдзрд┐ 4. рдПрдХреНрд╕реЛрдЯреЗрд░рд┐рдХ рд░реИрдк </h3><br>  рд╕рдордЭрдиреЗ рдпреЛрдЧреНрдп рдХреЛрдб рдХреЗ рдкрд╛рд░рдЦреА рдХреЗ рд▓рд┐рдП, рдЖрдк рд░рдЬрд┐рд╕реНрдЯрд░ рдкрд░ рдПрдХ рдЖрд╡рд░рдг рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдПрдХреНрд╕реЗрд╕ рдХрд░рдирд╛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реЛ рдФрд░ "рд╕реБрдВрджрд░" рджрд┐рдЦреЗрдВ, рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдХреЛ рдлрд┐рд░ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░реЗрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Register</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">explicit</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Register</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint32_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> addr)</span></span></span><span class="hljs-function"> : ptr</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">reinterpret_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> *&gt;(addr) } { } __forceinline <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> Register&amp; <span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>^=(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> right) { *ptr ^= right; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> *<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> *ptr; <span class="hljs-comment"><span class="hljs-comment">//    }; int main() { Register Odr{GpioaOdrAddr}; Odr ^= (1 &lt;&lt; 5); Register Idr{GpioaIdrAddr}; Idr ^= (1 &lt;&lt; 5); // }</span></span></code> </pre><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдлрд┐рд░ рд╕реЗ рдЖрдкрдХреЛ рдпрд╛ рддреЛ рд╕рднреА рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рдкреВрд░реНрдгрд╛рдВрдХ рдкрддреЗ рдпрд╛рдж рдХрд░рдиреЗ рд╣реЛрдВрдЧреЗ, рдпрд╛ рдЙрдиреНрд╣реЗрдВ рдХрд╣реАрдВ рд╕реЗрдЯ рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдФрд░ рдЖрдкрдХреЛ рдПрдХ рдкреЙрдЗрдВрдЯрд░ рдХреЛ рд░рдЬрд┐рд╕реНрдЯрд░ рдкрддреЗ рдкрд░ рд╕реНрдЯреЛрд░ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рд▓реЗрдХрд┐рди рдлрд┐рд░ рд╕реЗ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рдирд╣реАрдВ рд╣реИ, рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдХрд░рдирд╛, рдлрд┐рд░ рд╕реЗ рдирд┐рд░реНрдорд╛рдг рдореЗрдВ рд╣реЛрддрд╛ рд╣реИ <br>  рдХреБрдЫ рдиреБрдХрд╕рд╛рди, рдФрд░ рдЗрд╕ рддрдереНрдп рд╕реЗ рдХрд┐ рдкрд╣рд▓реЗ рдФрд░ рджреВрд╕рд░реЗ рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ рд░реИрдо рдореЗрдВ 4 рдмрд╛рдЗрдЯреНрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреЙрдЗрдВрдЯрд░ рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рддреНрдпреЗрдХ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЧрдП рд░рдЬрд┐рд╕реНрдЯрд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреЛ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рдерд╛ред  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдПрдХ рд╡рд┐рдХрд▓реНрдк рдирд╣реАрдВред  рд╣рдо рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВред <br><br><h3>  рд╡рд┐рдзрд┐ 4,5ред  рдкреИрдЯрд░реНрди рдХреЗ рд╕рд╛рде рдПрдХреНрд╕реЛрдЯреЗрд░рд┐рдХ рд▓рдкреЗрдЯреЗрдВ </h3><br>  рд╣рдо рдореЗрдЯрд╛рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдХрд╛ рдПрдХ рдЕрдирд╛рдЬ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЗрд╕рд╕реЗ рдмрд╣реБрдд рдЕрдзрд┐рдХ рд▓рд╛рдн рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред  рдпрд╣ рд╡рд┐рдзрд┐ рдкрд┐рдЫрд▓реЗ рдПрдХ рд╕реЗ рд╣реА рднрд┐рдиреНрди рд╣реЛрддреА рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдкрддрд╛ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдирд┐рд░реНрдорд╛рдгрдХрд░реНрддрд╛ рдХреЛ рд╣рд╕реНрддрд╛рдВрддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЯреЗрдореНрдкреНрд▓реЗрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рдореЗрдВ, рд╣рдо рдирд┐рд░реНрдорд╛рдгрдХрд░реНрддрд╛ рдХреЛ рдкрддрд╛ рджреЗрддреЗ рд╕рдордп рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдкрд░ рдереЛрдбрд╝реА рдмрдЪрдд рдХрд░рддреЗ рд╣реИрдВ, рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЕрдЪреНрдЫрд╛ рд╣реИ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> addr&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Register</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: Register() : ptr{<span class="hljs-keyword"><span class="hljs-keyword">reinterpret_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> *&gt;(addr)} { } __forceinline <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> Register &amp;<span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>^=(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> right) { *ptr ^= right; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> *<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> *ptr; }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> GpioaOdr = Register&lt;GpioaOdrAddr&gt;; GpioaOdr Odr; Odr ^= (<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> GpioaIdr = Register&lt;GpioaIdrAddr&gt;; GpioaIdr Idr; Idr ^= (<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>); <span class="hljs-comment"><span class="hljs-comment">// }</span></span></code> </pre><br>  рдФрд░ рдЗрд╕рд▓рд┐рдП, рдПрдХ рд╣реА рд░реЗрдХ, рд╕рд╛рдЗрдб рд╡реНрдпреВред <br><br><h3>  рд╡рд┐рдзрд┐ 5. рдЙрдЪрд┐рдд </h3><br>  рдЬрд╛рд╣рд┐рд░ рд╣реИ, рдЖрдкрдХреЛ рдкреЙрдЗрдВрдЯрд░ рд╕реЗ рдЫреБрдЯрдХрд╛рд░рд╛ рдкрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЪрд▓реЛ рдРрд╕рд╛ рд╣реА рдХрд░реЗрдВ, рд▓реЗрдХрд┐рди рдЕрдирд╛рд╡рд╢реНрдпрдХ рдкреЙрдЗрдВрдЯрд░ рдХреЛ рдХрдХреНрд╖рд╛ рд╕реЗ рд╣рдЯрд╛ рджреЗрдВред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> addr&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Register</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: __forceinline Register &amp;<span class="hljs-keyword"><span class="hljs-keyword">operator</span></span>^=(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> right) { *<span class="hljs-keyword"><span class="hljs-keyword">reinterpret_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> *&gt;(addr) ^= right; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> *<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; } }; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> GpioaOdr = Register&lt;GpioaOdrAddr&gt;; GpioaOdr Odr; Odr ^= (<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> GpioaIdr = Register&lt;GpioaIdrAddr&gt;; GpioaIdr Idr; Idr ^= (<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>); <span class="hljs-comment"><span class="hljs-comment">//</span></span></code> </pre><br>  рдЖрдк рдпрд╣рд╛рдВ рд░рд╣ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдереЛрдбрд╝рд╛ рд╕реЛрдЪ рд╕рдХрддреЗ рд╣реИрдВред  рдпрд╣ рд╡рд┐рдзрд┐ рддреБрд░рдВрдд 2 рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЛ рд╣рд▓ рдХрд░рддреА рд╣реИ рдЬреЛ рдкрд╣рд▓реЗ рд╡рд┐рдзрд┐ рд╕реЗ рд╡рд┐рд░рд╛рд╕рдд рдореЗрдВ рдорд┐рд▓реА рдереАрдВред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЕрдм рдореИрдВ рдЯреЗрдореНрдкрд▓реЗрдЯ рдореЗрдВ <code>Register</code> рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд▓рд┐рдП рдкреЙрдЗрдВрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ, рдФрд░ рджреВрд╕рд░реА рдмрд╛рдд, рдореИрдВ рдЗрд╕реЗ <code>constexrp</code> рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдХреЛ рдкрд╛рд╕ рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;Register * <span class="hljs-keyword"><span class="hljs-keyword">register</span></span>&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Xor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint32_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> mask)</span></span></span><span class="hljs-function"> </span></span>{ *<span class="hljs-keyword"><span class="hljs-keyword">register</span></span> ^= mask ; } Register&lt;GpioaOdrAddr&gt; GpioaOdr; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Xor&lt;&amp;GpioaOdr&gt;(<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ; <span class="hljs-comment"><span class="hljs-comment">//  } //   struct Port { constexpr Port(Register&amp; ref): register(ref) {} Register &amp; register ; } constexpr Port portA{GpioaOdr};</span></span></code> </pre><br>  рдмреЗрд╢рдХ, рдпрд╣ рдлрд┐рд░ рд╕реЗ рдЖрд╡рд╢реНрдпрдХ рд╣реИ, рдпрд╛ рддреЛ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рдкрддреЗ рдХреЗ рд▓рд┐рдП рдИрдбрд┐рдЯрд┐рдХ рдореЗрдореЛрд░реА рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдпрд╛ рдореИрдиреНрдпреБрдЕрд▓ рд░реВрдк рд╕реЗ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рд╕рднреА рдкрддреЗ рдХреЛ рдПрдХ рдЕрд▓рдЧ рдлрд╛рдЗрд▓ рдореЗрдВ рдХрд╣реАрдВ рдФрд░ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ рд╣реЛрдЧрд╛ ... <br><blockquote><h4>  рдЖрдХрд░реНрд╖рдг рдЖрддреЗ рд╣реИрдВ </h4><br><ul><li>  рдЙрдкрдпреЛрдЧ рдореЗрдВ рдЖрд╕рд╛рдиреА </li><li>  рдореЗрдЯрд╛рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ </li><li>  рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдмрд┐рд▓реНрдбрд░реЛрдВ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ </li></ul><br><h4>  рд╡рд┐рдкрдХреНрд╖ </h4><br><ul><li>  рдирд┐рд░реНрдорд╛рддрд╛ рд╕реЗ рд╕рддреНрдпрд╛рдкрд┐рдд рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </li><li>  рдЖрдкрдХреЛ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рд╕рднреА рдкрддреЗ рд╕реНрд╡рдпрдВ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рд╣реЛрдВрдЧреЗ </li><li>  рдЖрдкрдХреЛ рдХрдХреНрд╖рд╛ рд░рдЬрд┐рд╕реНрдЯрд░ рдХреА рдПрдХ рд╡рд╕реНрддреБ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ </li><li>  рдЖрдк рдмреЗрд╡рдХреВрдл рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ </li></ul></blockquote><br>  рдмрдврд╝рд┐рдпрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрднреА рднреА рдмрд╣реБрдд рд╕рд╛рд░реЗ рдордВрддреНрд░реА рд╣реИрдВ ... <br><br><h3>  рд╡рд┐рдзрд┐ 6. рдЙрдЪрд┐рдд рд╕реЗ рдЕрдзрд┐рдХ рдЪрд┐рдХрдирд╛ </h3><br>  рдкрд┐рдЫрд▓реА рдкрджреНрдзрддрд┐ рдореЗрдВ, рд░рдЬрд┐рд╕реНрдЯрд░ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕ рд░рдЬрд┐рд╕реНрдЯрд░ рдХрд╛ рдПрдХ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдирд╛ рдЖрд╡рд╢реНрдпрдХ рдерд╛, рдпрд╣ рд░реИрдо рдФрд░ рд░реЛрдо рдХрд╛ рдПрдХ рдЕрдирд╛рд╡рд╢реНрдпрдХ рдЕрдкрд╢рд┐рд╖реНрдЯ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдо рд╕реНрдерд┐рд░ рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдЖрд╡рд░рдг рдХрд░рддреЗ рд╣реИрдВред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> addr&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Register</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: __<span class="hljs-function"><span class="hljs-function">forceinline </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Xor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">uint32_t</span></span></span></span><span class="hljs-function"><span class="hljs-params"> mask)</span></span></span><span class="hljs-function"> </span></span>{ *<span class="hljs-keyword"><span class="hljs-keyword">reinterpret_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> *&gt;(addr) ^= mask; } }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> Case6 ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Odr = Register&lt;GpioaOdrAddr&gt;; Odr::Xor(<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Idr = Register&lt;GpioaIdrAddr&gt;; Idr::Xor(<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>); <span class="hljs-comment"><span class="hljs-comment">// }</span></span></code> </pre><br>  рдПрдХ рдкреНрд▓рд╕ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ <br><blockquote><ul><li>  рдХреЛрдИ рдЙрдкрд░рд┐ рдирд╣реАрдВред  рдлрд╛рд╕реНрдЯ рдХреЙрдореНрдкреИрдХреНрдЯ рдХреЛрдб, рд╡рд┐рдХрд▓реНрдк 1 рдореЗрдВ рд╕рдорд╛рди (рдЬрдм рдХрдХреНрд╖рд╛рдУрдВ рдореЗрдВ рд░реИрдкрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдХреЛрдИ рдЕрддрд┐рд░рд┐рдХреНрдд рд░реИрдо рд▓рд╛рдЧрдд рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдСрдмреНрдЬреЗрдХреНрдЯ рдирд╣реАрдВ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рдмрд┐рдирд╛ рд╕реНрдерд┐рд░ рддрд░реАрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ) </li></ul></blockquote>  рдЖрдЧреЗ рдмрдврд╝реЛ ... <br><br><h3>  рд╡рд┐рдзрд┐ 7. рдореВрд░реНрдЦрддрд╛ рдХреЛ рджреВрд░ рдХрд░реЗрдВ </h3><br>  рдЬрд╛рд╣рд┐рд░ рд╣реИ, рдореИрдВ рд▓рдЧрд╛рддрд╛рд░ рдХреЛрдб рдореЗрдВ NON-FUNNY рдХрд░ рд░рд╣рд╛ рд╣реВрдВ рдФрд░ рд░рдЬрд┐рд╕реНрдЯрд░ рдореЗрдВ рдХреБрдЫ рд▓рд┐рдЦ рд░рд╣рд╛ рд╣реВрдВ, рдЬреЛ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд▓рд┐рдЦрдиреЗ рдХрд╛ рдЗрд░рд╛рджрд╛ рдирд╣реАрдВ рд╣реИред  рдпрд╣ рдареАрдХ рд╣реИ, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рд▓реЗрдХрд┐рди STUPIDness рдирд┐рд╖рд┐рджреНрдз рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдмрдХрд╡рд╛рд╕ рдХрд░рдиреЗ рд╕реЗ рдордирд╛ рдХрд░реЗрдВ  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рд╕рд╣рд╛рдпрдХ рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХрд╛ рдкрд░рд┐рдЪрдп рджреЗрддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WriteReg</span></span></span><span class="hljs-class"> {</span></span>}; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ReadReg</span></span></span><span class="hljs-class"> {</span></span>}; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ReadWriteReg</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> WriteReg, <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ReadReg {};</code> </pre> <br>  рдЕрдм рд╣рдо рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд░рдЬрд┐рд╕реНрдЯрд░ рд╕реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рд░рдЬрд┐рд╕реНрдЯрд░ рдХреЗрд╡рд▓-рдкрдврд╝рдиреЗ рдХреЗ рд▓рд┐рдП рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> addr, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> RegisterType&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Register</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: <span class="hljs-comment"><span class="hljs-comment">//       WriteReg,    // ,  ,       __forceinline template &lt;typename T = RegisterType, class = typename std::enable_if_t&lt;std::is_base_of&lt;WriteReg, T&gt;::value&gt;&gt; Register &amp;operator^=(const uint32_t right) { *reinterpret_cast&lt;volatile uint32_t *&gt;(addr) ^= right; return *this; } };</span></span></code> </pre><br>  рдЕрдм рдЖрдЗрдП рд╣рдорд╛рд░реЗ рдкрд░реАрдХреНрд╖рдг рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ рдФрд░ рджреЗрдЦреЗрдВ рдХрд┐ рдкрд░реАрдХреНрд╖рдг рд╕рдВрдХрд▓рд┐рдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ <code>Idr</code> рд░рдЬрд┐рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП <code>^=</code> рдСрдкрд░реЗрдЯрд░ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИ: <br><br><pre> <code class="cpp hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> GpioaOdr = Register&lt;GpioaOdrAddr, WriteReg&gt; ; GpioaOdr Odr ; Odr ^= (<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> GpioaIdr = Register&lt;GpioaIdrAddr, ReadReg&gt; ; GpioaIdr Idr ; Idr ^= (<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ; <span class="hljs-comment"><span class="hljs-comment">//,  Idr    }</span></span></code> </pre> <br>  рддреЛ, рдЕрдм рдЕрдзрд┐рдХ pluses рд╣реИрдВ ... <br><blockquote><h4>  рдЖрдХрд░реНрд╖рдг рдЖрддреЗ рд╣реИрдВ </h4><br><ul><li>  рдЙрдкрдпреЛрдЧ рдореЗрдВ рдЖрд╕рд╛рдиреА </li><li>  рдореЗрдЯрд╛рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ </li><li>  рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдмрд┐рд▓реНрдбрд░реЛрдВ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ </li><li>  рдлрд╛рд╕реНрдЯ рдХреЙрдореНрдкреИрдХреНрдЯ рдХреЛрдб, рд╡рд┐рдХрд▓реНрдк 1 рдореЗрдВ рд╕рдорд╛рди </li><li>  рдХрдХреНрд╖рд╛рдУрдВ рдореЗрдВ рд░реИрдкрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, рдХреЛрдИ рдЕрддрд┐рд░рд┐рдХреНрдд рд░реИрдо рд▓рд╛рдЧрдд рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдСрдмреНрдЬреЗрдХреНрдЯ рдирд╣реАрдВ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕реНрдЯреИрдЯрд┐рдХ рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдмрдирд╛рдП рдмрд┐рдирд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </li><li>  рдЖрдк рдореВрд░реНрдЦрддрд╛ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ </li></ul><br><h4>  рд╡рд┐рдкрдХреНрд╖ </h4><br><ul><li>  рдирд┐рд░реНрдорд╛рддрд╛ рд╕реЗ рд╕рддреНрдпрд╛рдкрд┐рдд рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </li><li>  рдЖрдкрдХреЛ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рд╕рднреА рдкрддреЗ рд╕реНрд╡рдпрдВ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рд╣реЛрдВрдЧреЗ </li><li>  рдЖрдкрдХреЛ рдХрдХреНрд╖рд╛ рд░рдЬрд┐рд╕реНрдЯрд░ рдХреА рдПрдХ рд╡рд╕реНрддреБ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ </li></ul></blockquote><br>  рддреЛ рдЖрдЗрдП рдЕрдзрд┐рдХ рдХреЛ рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд░реНрдЧ рдмрдирд╛рдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рдирд┐рдХрд╛рд▓реЗрдВ <br><br><h3>  рд╡рд┐рдзрд┐ 8. рдмрд┐рдирд╛ NONSENSE рдФрд░ рдмрд┐рдирд╛ рдХрд┐рд╕реА рдХреНрд▓рд╛рд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ </h3><br>  рддреБрд░рдВрдд рдХреЛрдб: <br><br><pre> <code class="cpp hljs"> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WriteReg</span></span></span><span class="hljs-class"> {</span></span>}; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ReadReg</span></span></span><span class="hljs-class"> {</span></span>}; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ReadWriteReg</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> WriteReg, <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ReadReg {}; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> addr, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Register</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: __forceinline <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T1 = T, class = <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">enable_if_t</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_base_of&lt;WriteReg, T1&gt;::value&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Xor(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> mask) { *<span class="hljs-keyword"><span class="hljs-keyword">reinterpret_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>*&gt;(addr) ^= mask; } }; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> main { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> GpioaOdr = Register&lt;GpioaOdrAddr, WriteReg&gt; ; GpioaOdr::Xor(<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> GpioaIdr = Register&lt;GpioaIdrAddr, ReadReg&gt; ; GpioaIdr::Xor(<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ; <span class="hljs-comment"><span class="hljs-comment">//,  Idr    }</span></span></code> </pre><br>  рд╣рдо рдПрдХ рдФрд░ рдкреНрд▓рд╕ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рд╣рдо рдПрдХ рдСрдмреНрдЬреЗрдХреНрдЯ рдирд╣реАрдВ рдмрдирд╛рддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдЖрдЧреЗ рдмрдврд╝реЗрдВ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЕрднреА рднреА рд╡рд┐рдкрдХреНрд╖ рд╣реИ <br><br><h3>  рд╡рд┐рдзрд┐ 9. рд╕рдВрд░рдЪрдирд╛ рдПрдХреАрдХрд░рдг рдХреЗ рд╕рд╛рде рд╡рд┐рдзрд┐ 8 </h3><br>  рдкрд┐рдЫрд▓реА рдкрджреНрдзрддрд┐ рдореЗрдВ, рдХреЗрд╡рд▓ рдорд╛рдорд▓реЗ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рд▓реЗрдХрд┐рди рд╡рд┐рдзрд┐ 1 рдореЗрдВ, рд╕рднреА рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЛ рд╕рдВрд░рдЪрдирд╛рдУрдВ рдореЗрдВ рд╕рдВрдпреЛрдЬрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдк рдЙрдиреНрд╣реЗрдВ рдореЙрдбреНрдпреВрд▓ рджреНрд╡рд╛рд░рд╛ рдЖрд╕рд╛рдиреА рд╕реЗ рдПрдХреНрд╕реЗрд╕ рдХрд░ рд╕рдХреЗрдВред  рдЪрд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВ ... <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> Case9 { <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WriteReg</span></span></span><span class="hljs-class"> {</span></span>}; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ReadReg</span></span></span><span class="hljs-class"> {</span></span>}; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ReadWriteReg</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> WriteReg, <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ReadReg {}; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> addr, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Register</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: __forceinline <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T1 = T, class = <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">enable_if_t</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_base_of&lt;WriteReg, T1&gt;::value&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Xor(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> mask) { *<span class="hljs-keyword"><span class="hljs-keyword">reinterpret_cast</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>*&gt;(addr) ^= mask; } }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> addr&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Gpio</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Moder = Register&lt;addr, ReadWriteReg&gt;; <span class="hljs-comment"><span class="hljs-comment">//      using Otyper = Register&lt;addr + OtyperShift, ReadWriteReg&gt; ; using Ospeedr = Register&lt;addr + OspeedrShift,ReadWriteReg&gt; ; using Pupdr = Register&lt;addr + PupdrShift,ReadWriteReg&gt; ; using Idr = Register&lt;addr + IdrShift, ReadReg&gt; ; using Odr = Register&lt;addr + OdrShift, WriteReg&gt; ; }; int main() { using Gpioa = Gpio&lt;GPIOA_BASE&gt; ; Gpioa::Odr::Xor(1 &lt;&lt; 5) ; Gpioa::Idr::Xor((1 &lt;&lt; 5) ); //,  Idr    }</span></span></code> </pre><br>  рдпрд╣рд╛рдВ рдорд╛рдЗрдирд╕ рдпрд╣ рд╣реИ рдХрд┐ рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреЛ рдирдП рд╕рд┐рд░реЗ рд╕реЗ рдкрдВрдЬреАрдХреГрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА, рдФрд░ рд╕рднреА рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рдСрдлрд╕реЗрдЯ рдХреЛ рдХрд╣реАрдВ рди рдХрд╣реАрдВ рдпрд╛рдж рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрд╣ рдЕрдЪреНрдЫрд╛ рд╣реЛрдЧрд╛ рдпрджрд┐ рдСрдлрд╕реЗрдЯ рдХрдВрдкрд╛рдЗрд▓рд░ рджреНрд╡рд╛рд░рд╛ рд╕реЗрдЯ рдХрд┐рдП рдЧрдП рдереЗ, рдФрд░ рд╡реНрдпрдХреНрддрд┐ рджреНрд╡рд╛рд░рд╛ рдирд╣реАрдВ, рд▓реЗрдХрд┐рди рдпрд╣ рдмрд╛рдж рдореЗрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдЕрдм рд╣рдо рдЕрдкрдиреЗ рд╕рд╣рдпреЛрдЧреА рджреНрд╡рд╛рд░рд╛ рд╕реБрдЭрд╛рдП рдЧрдП рдПрдХ рдФрд░ рджрд┐рд▓рдЪрд╕реНрдк рддрд░реАрдХреЗ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗред <br><br><h3>  рд╡рд┐рдзрд┐ 10. рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдПрдХ рд╕рджрд╕реНрдп рдХреЛ рд╕реВрдЪрдХ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд░рдЬрд┐рд╕реНрдЯрд░ рдкрд░ рд▓рдкреЗрдЯреЗрдВ </h3><br>  рдпрд╣рд╛рдВ рд╣рдо рдЗрд╕ рддрд░рд╣ рдХреА рдЕрд╡рдзрд╛рд░рдгрд╛ рдХреЛ рдПрдХ рд╕рдВрдХреЗрддрдХ рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрд░рдЪрдирд╛ рдХреЗ рдПрдХ рд╕рджрд╕реНрдп рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЙрди рддрдХ рдкрд╣реБрдВрдЪ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ</a> ред <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> addr, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RegisterStructWrapper</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: __forceinline <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> P&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Xor</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PT::*member, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> mask)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">reinterpret_cast</span></span>&lt;T*&gt;(addr)-&gt;*member ^= mask ; <span class="hljs-comment"><span class="hljs-comment">//   ,     . } } ; using GpioaWrapper = RegisterStructWrapper&lt;GPIOA_BASE, GPIO_TypeDef&gt; ; int main() { GpioaWrapper::Xor(&amp;GPIO_TypeDef::ODR, (1 &lt;&lt; 5)) ; GpioaWrapper::Xor(&amp;GPIO_TypeDef::IDR, (1 &lt;&lt; 5)) ; // return 0 ; }</span></span></code> </pre><br><blockquote><h4>  рдЖрдХрд░реНрд╖рдг рдЖрддреЗ рд╣реИрдВ </h4><br><ul><li>  рдЙрдкрдпреЛрдЧ рдореЗрдВ рдЖрд╕рд╛рдиреА </li><li>  рдореЗрдЯрд╛рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ </li><li>  рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдмрд┐рд▓реНрдбрд░реЛрдВ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ </li><li>  рдлрд╛рд╕реНрдЯ рдХреЙрдореНрдкреИрдХреНрдЯ рдХреЛрдб, рд╡рд┐рдХрд▓реНрдк 1 рдореЗрдВ рд╕рдорд╛рди </li><li>  рдХрдХреНрд╖рд╛рдУрдВ рдореЗрдВ рд░реИрдкрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╕рдордп, рдХреЛрдИ рдЕрддрд┐рд░рд┐рдХреНрдд рд░реИрдо рд▓рд╛рдЧрдд рдирд╣реАрдВ рд╣реЛрддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдСрдмреНрдЬреЗрдХреНрдЯ рдирд╣реАрдВ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕реНрдЯреИрдЯрд┐рдХ рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рдмрдирд╛рдП рдмрд┐рдирд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </li><li>  рдирд┐рд░реНрдорд╛рддрд╛ рд╕реЗ рд╕рддреНрдпрд╛рдкрд┐рдд рд╣реЗрдбрд░ рдлрд╝рд╛рдЗрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </li><li>  рд╕рднреА рд░рдЬрд┐рд╕реНрдЯрд░ рдкрддреЗ рдХреЛ рд╕реНрд╡рдпрдВ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ </li><li>  рдХрдХреНрд╖рд╛ рд░рдЬрд┐рд╕реНрдЯрд░ рдХреА рдПрдХ рд╡рд╕реНрддреБ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ </li></ul><br><h4>  рд╡рд┐рдкрдХреНрд╖ </h4><br><ul><li>  рдЖрдк рдореВрд░реНрдЦрддрд╛ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдХреЛрдб рдХреА рд╕рдордЭ рдкрд░ рднреА рдЕрдЯрдХрд▓реЗрдВ рд▓рдЧрд╛ рд╕рдХрддреЗ рд╣реИрдВред </li></ul></blockquote><br><h3>  рд╡рд┐рдзрд┐ 10.5ред  рд╡рд┐рдзрд┐ 9 рдФрд░ 10 рдХреЛ рдорд┐рд▓рд╛рдПрдВ </h3><br>  рд╕рдВрд░рдЪрдирд╛ рдХреА рд╢реБрд░реБрдЖрдд рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рд░рдЬрд┐рд╕реНрдЯрд░ рдХреА рдкрд╛рд░реА рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рд╕реВрдЪрдХ рдХреЛ рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд╕рджрд╕реНрдп рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <code>volatile uint32_t T::*member</code> , рдпрд╣ рдмрд╛рдЗрдЯреНрд╕ рдореЗрдВ рдЗрд╕рдХреА рд╢реБрд░реБрдЖрдд рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд╕рджрд╕реНрдп рдХреА рдСрдлрд╕реЗрдЯ рд▓реМрдЯрд╛рдПрдЧрд╛ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ <code>GPIO_TypeDef</code> рд╕рдВрд░рдЪрдирд╛ рд╣реИ, рдлрд┐рд░ рдкрддрд╛ <code>&amp;GPIO_TypeDef::ODR</code> 0x14 рд╣реЛрдЧрд╛ред <br>  рд╣рдо рдЗрд╕ рдЕрд╡рд╕рд░ рдХреЛ рд╣рд░рд╛ рджреЗрддреЗ рд╣реИрдВ рдФрд░ рдХрдВрдкрд╛рдЗрд▓рд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд┐рдзрд┐ 9 рд╕реЗ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рдкрддреЗ рдХреА рдЧрдгрдирд╛ рдХрд░рддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">WriteReg</span></span></span><span class="hljs-class"> {</span></span>}; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ReadReg</span></span></span><span class="hljs-class"> {</span></span>}; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ReadWriteReg</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> WriteReg, <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ReadReg {}; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> addr, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T, <span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> T::*member, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> RegType&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Register</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: __forceinline <span class="hljs-keyword"><span class="hljs-keyword">template</span></span> &lt;<span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T1 = RegType, class = <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-keyword"><span class="hljs-keyword">enable_if_t</span></span>&lt;<span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::is_base_of&lt;WriteReg, T1&gt;::value&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Xor(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> mask) { <span class="hljs-keyword"><span class="hljs-keyword">reinterpret_cast</span></span>&lt;T*&gt;(addr)-&gt;*member ^= mask ; } }; <span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> addr, <span class="hljs-keyword"><span class="hljs-keyword">typename</span></span> T&gt; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Gpio</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Moder = Register&lt;addr, GPIO_TypeDef, &amp;GPIO_TypeDef::ODR, ReadWriteReg&gt;; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Otyper = Register&lt;addr, GPIO_TypeDef, &amp;GPIO_TypeDef::OTYPER, ReadWriteReg&gt;; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Ospeedr = Register&lt;addr, GPIO_TypeDef, &amp;GPIO_TypeDef::OSPEEDR, ReadWriteReg&gt;; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Pupdr = Register&lt;addr, GPIO_TypeDef, &amp;GPIO_TypeDef::PUPDR, ReadWriteReg&gt;; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Idr = Register&lt;addr, GPIO_TypeDef, &amp;GPIO_TypeDef::IDR, ReadReg&gt;; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Odr = Register&lt;addr, GPIO_TypeDef, &amp;GPIO_TypeDef::ODR, WriteReg&gt;; } ;</code> </pre> <br>  рдЖрдк рдЕрдзрд┐рдХ рдЙрддреНрдХреГрд╖реНрдЯ рд░реВрдк рд╕реЗ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> Case11 ; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Gpioa = Gpio&lt;GPIOA_BASE, GPIO_TypeDef&gt; ; Gpioa::Odr::Xor(<span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; <span class="hljs-number"><span class="hljs-number">5</span></span>) ; <span class="hljs-comment"><span class="hljs-comment">//Gpioa::Idr::Xor((1 &lt;&lt; 5) ); //,  Idr   </span></span></code> </pre> <br>  рдЬрд╛рд╣рд┐рд░ рд╣реИ, рдпрд╣рд╛рдВ рд╕рднреА рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреЛ рдлрд┐рд░ рд╕реЗ рд▓рд┐рдЦрдирд╛ рд╣реЛрдЧрд╛ред  рдпрд╣ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдлрд╛рдЗрдЯрди рдореЗрдВ рдХреБрдЫ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рджреНрд╡рд╛рд░рд╛, рдЗрдирдкреБрдЯ рдореЗрдВ рдХреБрдЫ stm32f411xe.h рдХреА рддрд░рд╣ C ++ рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреЗ рд╕рд╛рде рдЖрдкрдХреА рдлрд╝рд╛рдЗрд▓ рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдкрд░ред <br>  рдХрд┐рд╕реА рднреА рдорд╛рдорд▓реЗ рдореЗрдВ, рдХрдИ рдЕрд▓рдЧ-рдЕрд▓рдЧ рддрд░реАрдХреЗ рд╣реИрдВ рдЬреЛ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдореЗрдВ рдХрд╛рдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><h3>  рдмреЛрдирд╕ред  рд╣рдо Phyton рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рднрд╛рд╖рд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдФрд░ рдкрд╛рд░реНрд╕рд┐рдо рдХреЛрдб рдкреЗрд╢ рдХрд░рддреЗ рд╣реИрдВ </h3><br>  C ++ рдореЗрдВ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреА рд╕рдорд╕реНрдпрд╛ рдХрд╛рдлреА рд╕рдордп рд╕реЗ рд╣реИред  рд▓реЛрдЧ рдЗрд╕реЗ рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЛрдВ рд╕реЗ рд╣рд▓ рдХрд░рддреЗ рд╣реИрдВред  рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдпрд╣ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реЛрдЧрд╛ рдпрджрд┐ рднрд╛рд╖рд╛ рд╕рдВрдХрд▓рди рд╕рдордп рдкрд░ рдХрдХреНрд╖рд╛рдУрдВ рдХрд╛ рдирд╛рдо рдмрджрд▓рдиреЗ рдЬреИрд╕реА рдХрд┐рд╕реА рдЪреАрдЬрд╝ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреА рд╣реИред  рдареАрдХ рд╣реИ, рдЪрд▓реЛ рдХрд╣рддреЗ рд╣реИрдВ, рдЕрдЧрд░ рдпрд╣ рдЗрд╕ рддрд░рд╣ рдереЗ: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">template</span></span>&lt;classname = [PortName]&gt; class Gpio[Portname] { __forceinline <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Xor(<span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> mask) { GPIO[PortName]-&gt;ODR ^= mask ; } }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> GpioA = Gpio&lt;<span class="hljs-string"><span class="hljs-string">"A"</span></span>&gt; ; GpioA::Xor(<span class="hljs-number"><span class="hljs-number">5</span></span>) ; }</code> </pre><br>  рд▓реЗрдХрд┐рди рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ рдпрд╣ рднрд╛рд╖рд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рддреА рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдЬреЛ рд╕рдорд╛рдзрд╛рди рд▓реЛрдЧ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ рд╡рд╣ рдкрд╛рдпрдерди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреЛрдб рдкрд╛рд░реНрд╕рд┐рдВрдЧ рд╣реИред  рдпрд╛рдиреА  рдХреБрдЫ рднрд╛рд╖рд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдкреЗрд╢ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЗрд╕ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП рдХреЛрдб рдХреЛ рдкрд╛рдпрдерди рдкрд╛рд░реНрд╕рд░ рдХреЛ рдЦрд┐рд▓рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдЗрд╕реЗ C ++ рдХреЛрдб рдореЗрдВ рдмрджрд▓ рджреЗрддрд╛ рд╣реИред  рдРрд╕рд╛ рдХреЛрдб рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: (рдПрдХ рдЙрджрд╛рд╣рд░рдг рдореЙрдбрдо рд▓рд╛рдЗрдмреНрд░реЗрд░реА рд╕реЗ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ; <a href="">рдпрд╣рд╛рдВ рдкреВрд░реНрдг рд╕реНрд░реЛрдд рд╣реИрдВ</a> ): <br><br><pre> <code class="cpp hljs">%% <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> port = gpio[<span class="hljs-string"><span class="hljs-string">"port"</span></span>] | upper %% <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> reg = <span class="hljs-string"><span class="hljs-string">"GPIO"</span></span> ~ port %% <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> pin = gpio[<span class="hljs-string"><span class="hljs-string">"pin"</span></span>] class Gpio{{ port ~ pin }} : <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Gpio { __forceinline <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Xor() { GPIO{{port}}-&gt;ODR ^= <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;&lt; {{pin}} ; } } <span class="hljs-comment"><span class="hljs-comment">//        class Gpio5 : public Gpio { __forceinline inline static void Xor() { GPIO-&gt;ODR ^= 1 &lt;&lt; 5 ; } } //     using Led = Gpio5; Led::Xor();</span></span></code> </pre><br><br><h3>  рдЕрдкрдбреЗрдЯ: рдмреЛрдирд╕  рдПрд╕рд╡реАрдбреА рдлрд╛рдЗрд▓реЗрдВ рдФрд░ рдкреИрдЯрди рдкрд░ рдкрд╛рд░реНрд╕рд░ </h3><br>  рдПрдХ рдФрд░ рд╡рд┐рдХрд▓реНрдк рдЬреЛрдбрд╝рдирд╛ рднреВрд▓ рдЧрдПред  рдПрдЖрд░рдПрдо рдкреНрд░рддреНрдпреЗрдХ рдПрд╕рд╡реАрдбреА рдирд┐рд░реНрдорд╛рддрд╛ рдХреЗ рд▓рд┐рдП рдПрдХ рд░рдЬрд┐рд╕реНрдЯрд░ рд╡рд┐рд╡рд░рдг рдлрд╝рд╛рдЗрд▓ рдЬрд╛рд░реА рдХрд░рддрд╛ рд╣реИред  рдЬрд┐рд╕рд╕реЗ рдЖрдк рдлрд┐рд░ рд░рдЬрд┐рд╕реНрдЯрд░реЛрдВ рдХреЗ рд╡рд┐рд╡рд░рдг рдХреЗ рд╕рд╛рде C ++ рдлрд╝рд╛рдЗрд▓ рдЬрдирд░реЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдкреЙрд▓ рдУрд╕рдмреЛрд░реНрди рдиреЗ рдЗрди рд╕рднреА рдлрд╛рдЗрд▓реЛрдВ рдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЧрд┐рдЯрд╣рдм</a> рдкрд░ рд╕рдВрдХрд▓рд┐рдд рдХрд┐рдпрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> ред  рдЙрдиреНрд╣реЛрдВрдиреЗ рдЙрдиреНрд╣реЗрдВ рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкрд╛рдпрдерди рд╕реНрдХреНрд░рд┐рдкреНрдЯ рднреА рд▓рд┐рдЦреАред <br><br>  рдпрд╣ рд╕рдм ... рдореЗрд░реА рдХрд▓реНрдкрдирд╛ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЧрдИ рд╣реИред  рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдЕрднреА рднреА рд╡рд┐рдЪрд╛рд░ рд╣реИрдВ, рддреЛ рдмреЗрдЭрд┐рдЭрдХред  рд╕рднреА рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдПрдХ рдЙрджрд╛рд╣рд░рдг <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ рдирд┐рд╣рд┐рдд рд╣реИред</a> <br><br><h4>  рд╕рдВрджрд░реНрдн </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">C ++ рдореЗрдВ рдЯрд╛рдЗрдкрд╕реЗрдл рд░рдЬрд┐рд╕реНрдЯрд░ рд░рдЬрд┐рд╕реНрдЯрд░ рдПрдХреНрд╕реЗрд╕</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЪреАрдЬреЗрдВ рдмрдирд╛рдирд╛ C-++ рд╕реЗ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░-рд╕рд╛рдорд╛рди рдХрд░рдирд╛</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд╛рдорд╛рди рдмрдирд╛рдирд╛ рд╕рд╛рдорд╛рди - рднрд╛рдЧ 3</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд╛рдорд╛рди рдмрдирд╛рдирд╛ - рд╕рдВрд░рдЪрдирд╛ рдУрд╡рд░рд▓реЗ</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi459204/">https://habr.com/ru/post/hi459204/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi459184/index.html">рдмреБрдирд┐рдпрд╛рджреА рдПрдХрддрд╛ рдХреМрд╢рд▓</a></li>
<li><a href="../hi459188/index.html">рдбреЗрдмрд┐рдпрди 10 рдмрд╕реНрдЯрд░ рдФрд░ рд▓рд┐рдирдХреНрд╕ 5.2 рдХрд╛ рд╡рд┐рдореЛрдЪрди рдХрд┐рдпрд╛</a></li>
<li><a href="../hi459194/index.html">рд╣рдордиреЗ UI рдХрд┐рдЯ рдереАрдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ CSS рд╡реЗрд░рд┐рдПрдмрд▓реНрд╕ рдХреЗ рд╕рд╛рде SCSS рдорд┐рддреНрд░ рдХреИрд╕реЗ рдмрдирд╛рдП</a></li>
<li><a href="../hi459196/index.html">рдореЛрдиреЛрд▓рд┐рде рд╕реЗ рд▓реЗрдХрд░ рдореЙрдбреНрдпреВрд▓рд░ рдЯреАрдореЗрдВ</a></li>
<li><a href="../hi459198/index.html">ClickHouse рдореЗрдВ рдХреНрд╡реЗрд░реА рдкреНрд░рджрд░реНрд╢рди рд╡рд┐рд╢реНрд▓реЗрд╖рдгред рдпреИрдВрдбреЗрдХреНрд╕ рд░рд┐рдкреЛрд░реНрдЯ</a></li>
<li><a href="../hi459206/index.html">рдиреЛрдб рдореЗрдВ рдПрдХ рдореЛрдиреЛрд▓рд┐рде рдореЗрдВ 9 рд╕рд╛рд▓</a></li>
<li><a href="../hi459208/index.html">рдкреНрд░реЛрд╕реНрдереЗрд╕рд┐рд╕ рдХреЗ рд╕рд╛рде рджреМрдбрд╝рдирд╛: рдорд╛рдВрд╕рдкреЗрд╢рд┐рдпреЛрдВ, рд╣рдбреНрдбрд┐рдпреЛрдВ рдФрд░ рдПрдХ рддрдВрддреНрд░рд┐рдХрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдорд╛рдирд╡ рдЖрдВрджреЛрд▓рди рдХреЗ рдиреЗрдХреНрд╕реНрдЯрдЬреЗрди рд╕рд┐рдореБрд▓реЗрд╢рди</a></li>
<li><a href="../hi459212/index.html">C ++ рдореЗрдВ рд╕рдВрдкрддреНрддрд┐ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</a></li>
<li><a href="../hi459214/index.html">рдХрд╕рд╛рди рднрдВрдбрд╛рд░рдг рдореЗрдВ рджреЛрд╖ рд╕рд╣рд┐рд╖реНрдгреБрддрд╛</a></li>
<li><a href="../hi459216/index.html">рдмреА-рдЯреНрд░реА рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>