<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚óæÔ∏è ‚ôÄÔ∏è üéé Inicio r√°pido con WPF. Parte 1. Enlace, INotifyPropertyChanged y MVVM üê∑ ‚óªÔ∏è ‚ò∫Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola a todos! 


 Por varias razones, la mayor√≠a de nosotros usamos aplicaciones de escritorio, al menos un navegador :) Y algunos de nosotros necesit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Inicio r√°pido con WPF. Parte 1. Enlace, INotifyPropertyChanged y MVVM</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/427325/"><p>  Hola a todos! </p><br><p> Por varias razones, la mayor√≠a de nosotros usamos aplicaciones de escritorio, al menos un navegador :) Y algunos de nosotros necesitamos escribir las nuestras.  En este art√≠culo, quiero repasar el proceso de desarrollo de una aplicaci√≥n de escritorio simple usando la tecnolog√≠a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Windows Presentation Foundation (WPF)</a> y aplicando el patr√≥n MVVM.  Aquellos que deseen continuar leyendo, por favor, debajo del gato. <a name="habracut"></a></p><br><p>  Creo que no es necesario decir que WPF es el desarrollo de Microsoft :) Esta tecnolog√≠a est√° dise√±ada para desarrollar aplicaciones de escritorio para Windows, comenzando con Windows XP.  Por qu√©  Esto se debe al hecho de que WPF se ejecuta sobre la plataforma .NET, cuyos requisitos m√≠nimos son Windows XP y versiones posteriores.  Desafortunadamente, WPF no funciona en otras plataformas, aunque hay posibilidades de que esto cambie en el futuro cercano: el marco de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Avalonia</a> basado en WPF est√° <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">en desarrollo</a> . </p><br><h4 id="v-chyom-osobennost-wpf">  ¬øQu√© tiene de especial WPF? </h4><br><p>  Dos diferencias principales entre WPF y otras herramientas de creaci√≥n de escritorio: </p><br><ul><li>  El lenguaje de marcado XAML para marcar la interfaz de la ventana. </li><li>  Renderizado a trav√©s de DirectX, aceleraci√≥n de gr√°ficos de hardware. </li></ul><br><p>  No voy a entrar en detalles, porque  Este no es el tema del art√≠culo.  Si est√° interesado, entonces google XAML, WPF rendering, milcore.dll y DirectX :) </p><br><h4 id="o-chyom-eta-statya">  ¬øDe qu√© trata este art√≠culo? </h4><br><p>  Este art√≠culo contiene una aplicaci√≥n de ejemplo basada en la tecnolog√≠a WPF: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Interfaz MVVM e INotifyPropertyChanged.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Copia del texto.</a> </li></ul><br><p>  Tratar√© de orientar el material del art√≠culo en una direcci√≥n pr√°ctica al estilo de "repetir despu√©s de m√≠" con explicaciones. </p><br><h4 id="chto-nam-ponadobitsya-dlya-povtoreniya-stati">  ¬øQu√© necesitamos para repetir el art√≠culo? </h4><br><p>  Poca experiencia de desarrollo en C # :) Como m√≠nimo, debe comprender bien la sintaxis del lenguaje.  Tambi√©n necesitar√° una m√°quina Windows (Win 10 en los ejemplos) con Visual Studio instalado (en los ejemplos ser√° 2017, hay una versi√≥n <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">comunitaria</a> gratuita).  Al instalar VS, deber√° habilitar el soporte para el desarrollo de escritorio para la plataforma .NET </p><br><p><img src="https://habrastorage.org/webt/g2/uf/ea/g2ufeaboqvhjvklpzn29cx45w3c.png" alt="imagen"></p><br><p>  Tambi√©n en esta secci√≥n describir√© la creaci√≥n de un proyecto. </p><br><p>  Lanzamos VS, creamos un nuevo proyecto, seleccionamos el tipo de aplicaci√≥n WPF App (.NET Framework) (puede ingresarlo en la barra de b√∫squeda en la esquina superior derecha), ll√°melo como quiera. </p><br><p><img src="https://habrastorage.org/webt/jb/mo/gu/jbmoguoemuje0em1g2gbofodsns.png" alt="imagen"></p><br><p>  Despu√©s de crear un nuevo proyecto, se abre la ventana del editor de la interfaz, as√≠ me parece </p><br><p><img src="https://habrastorage.org/webt/2d/tn/do/2dtndo0yii6z78g-1avlkglqoew.jpeg" alt="imagen"></p><br><p>  En la parte inferior hay un editor de dise√±o, en la parte superior hay una vista previa de la interfaz de la ventana, pero puede cambiar la ubicaci√≥n relativa del editor de c√≥digo y la vista previa de la interfaz para que se ubiquen en orden horizontal utilizando estos botones (en el borde de las dos √°reas a la derecha): </p><br><p><img src="https://habrastorage.org/webt/m8/xl/fo/m8xlfoleczsfra-w8yskkxg9ko4.png" alt="imagen"></p><br><h4 id="pered-tem-kak-nachat">  Antes de empezar </h4><br><p>  Los elementos de la ventana (tambi√©n se denominan controles de la palabra <strong>Control</strong> ) deben colocarse dentro del contenedor o dentro de otro elemento del tipo ContentControl.  <strong>Un contenedor</strong> es un control especial que le permite colocar varios controles secundarios dentro y organizar su disposici√≥n mutua.  Ejemplos de contenedores: </p><br><ul><li>  <strong>Cuadr√≠cula</strong> : le permite organizar elementos por columnas y filas, el ancho de cada columna o fila se configura individualmente. </li><li>  <strong>StackPanel</strong> : le permite organizar a los ni√±os en una sola fila o columna. </li></ul><br><p>  Hay otros contenedores.  Como el contenedor tambi√©n es un control, dentro del contenedor puede haber contenedores anidados que contengan contenedores anidados, etc.  Esto le permite organizar de manera flexible los controles entre s√≠.  Adem√°s, con la ayuda de los contenedores, no podemos controlar de manera menos flexible el comportamiento de los controles anidados al cambiar el tama√±o de una ventana. </p><br><h4 id="mvvm-i-interfeys-inotifypropertychanged-kopiya-teksta">  Interfaz MVVM e INotifyPropertyChanged.  Copia del texto. </h4><br><p>  <em>El resultado de este ejemplo ser√° una aplicaci√≥n con dos controles, en uno de los cuales puede editar el texto, y en el otro solo ver.</em>  <em>Los cambios de uno a otro se transferir√°n sincr√≥nicamente sin una copia expl√≠cita del texto mediante el <strong>enlace</strong> .</em> </p><br><p>  Entonces, tenemos un proyecto reci√©n creado (lo <strong>llam√© Ex1</strong> ), vaya al editor de dise√±o y, en primer lugar, reemplace el contenedor predeterminado ( <strong>&lt;Grid&gt; &lt;/Grid&gt;</strong> ) con <strong>&lt;StackPanel&gt; &lt;/StackPanel&gt;</strong> .  Este contenedor ser√° suficiente, porque  tendremos que colocar solo dos controles uno encima del otro.  Especificamos expl√≠citamente c√≥mo se organizar√°n los componentes agregando la propiedad <strong>Orientaci√≥n = "Vertical"</strong> .  Agregue un par de elementos dentro de la pila del panel: un campo para ingresar texto y un campo para mostrar texto.  Dado que estos controles no contendr√°n c√≥digo incrustado, puede describirlos con una etiqueta de cierre autom√°tico (consulte el c√≥digo a continuaci√≥n).  Despu√©s de todos los procedimientos anteriores, el c√≥digo de descripci√≥n del contenedor y los controles anidados deben adoptar la siguiente forma: </p><br><pre><code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">StackPanel</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Orientation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Vertical"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBox</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBlock</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">StackPanel</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Ahora centr√©monos en el prop√≥sito de este ejemplo.  Queremos que al escribir en el cuadro de texto, el mismo texto se muestre sincr√≥nicamente en el bloque de texto, evitando la operaci√≥n de copia expl√≠cita.  Necesitamos alg√∫n tipo de entidad de conexi√≥n, y aqu√≠ llegamos a algo como la <strong>vinculaci√≥n</strong> , que se mencion√≥ anteriormente.  La vinculaci√≥n en la terminolog√≠a de WPF es un mecanismo que le permite asociar algunas propiedades de los controles con algunas propiedades de un objeto de clase C # y actualizar mutuamente estas propiedades cuando cambia una de las partes del paquete (esto puede funcionar en una, la otra o en ambas direcciones a la vez).  Para aquellos que est√°n familiarizados con Qt, puede dibujar una analog√≠a de ranuras y se√±ales.  Para no alargar el tiempo, pasemos al c√≥digo. </p><br><p>  Por lo tanto, para organizar el enlace, necesita las propiedades de los controles y alguna propiedad de una determinada clase de C #.  Primero, descubramos el c√≥digo XAML.  El texto de ambos controles se almacena en la propiedad Texto, por lo tanto, agregue un enlace para estas propiedades.  Se hace as√≠: </p><br><pre> <code class="hljs pgsql">&lt;TextBox <span class="hljs-type"><span class="hljs-type">Text</span></span>="{Binding}"/&gt; &lt;TextBlock <span class="hljs-type"><span class="hljs-type">Text</span></span>="{Binding}"/&gt;</code> </pre> <br><p>  Hicimos un enlace, pero por ahora no est√° claro por qu√© :) Necesitamos un objeto de alguna clase y alguna propiedad en este objeto al que se realizar√° el enlace (como dicen, al que debe unirse). </p><br><p>  Entonces, ¬øqu√© es esta clase?  Esta clase se llama un modelo de vista y sirve como un enlace entre la vista (interfaz o sus partes) y el modelo (modelo, es decir, aquellas partes del c√≥digo que son responsables de la l√≥gica de la aplicaci√≥n. Esto le permite separar (hasta cierto punto) ) la l√≥gica de la aplicaci√≥n desde la interfaz (vista) se denomina <strong>patr√≥n Modelo-Vista-Modelo de Vista (MVVM)</strong> En WPF, esta clase tambi√©n se denomina <strong>DataContext</strong> . </p><br><p>  Sin embargo, escribir una clase de modelo de vista no es suficiente.  Es necesario informar de alguna manera al mecanismo de enlace que la propiedad del modelo de vista o la propiedad de vista ha cambiado.  Para hacer esto, hay una interfaz especial <strong>INotifyPropertyChanged</strong> , que contiene el evento <strong>PropertyChanged</strong> .  Implementamos esta interfaz en el marco de la clase base <strong>BaseViewModel</strong> .  En el futuro, heredaremos todos nuestros modelos de vista de esta clase base para no duplicar la implementaci√≥n de la interfaz.  Por lo tanto, agregue el directorio <em>ViewModels</em> al proyecto y agregue el archivo <em>BaseViewModel.cs</em> a este directorio.  Obtenemos la siguiente estructura de proyecto: </p><br><p><img src="https://habrastorage.org/webt/va/yi/sn/vayisnwyoe4gndnwxyp9zip12b4.png" alt="imagen"></p><br><p>  C√≥digo de implementaci√≥n para el modelo de vista base: </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.ComponentModel; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Ex1.ViewModels</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">BaseViewModel</span></span> : <span class="hljs-title"><span class="hljs-title">INotifyPropertyChanged</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">event</span></span> PropertyChangedEventHandler PropertyChanged; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">virtual</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnPropertyChanged</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> propertyName = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">""</span></span></span></span></span><span class="hljs-function">)</span></span> { PropertyChanged?.Invoke(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PropertyChangedEventArgs(propertyName)); } } }</code> </pre> <br><p>  Creemos nuestro modelo de vista para nuestra clase <strong>MainWindow</strong> , heredando de la base.  Para hacer esto, en el mismo directorio <em>ViewModels</em> , cree el archivo <em>MainWindowViewModel.cs</em> , dentro del cual habr√° dicho c√≥digo: </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Ex1.ViewModels</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MainWindowViewModel</span></span> : <span class="hljs-title"><span class="hljs-title">BaseViewModel</span></span> { } }</code> </pre> <br><p>  Genial  Ahora tenemos que agregar una propiedad a este modelo de vista, en el que vincularemos el texto de nuestros controles.  Como se trata de texto, el tipo de esta propiedad debe ser una <em>cadena</em> : </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> SynchronizedText { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; }</code> </pre> <br><p>  Como resultado, obtenemos dicho c√≥digo </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Ex1.ViewModels</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MainWindowViewModel</span></span> : <span class="hljs-title"><span class="hljs-title">BaseViewModel</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> SynchronizedText { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } } }</code> </pre> <br><p>  Entonces, parece que lo hicieron.  Queda por vincularse en esta propiedad desde la vista y est√° listo.  Hag√°moslo ahora mismo: </p><br><pre> <code class="hljs pgsql">&lt;TextBox <span class="hljs-type"><span class="hljs-type">Text</span></span>="{Binding Path=SynchronizedText}"/&gt; &lt;TextBlock <span class="hljs-type"><span class="hljs-type">Text</span></span>="{Binding Path=SynchronizedText}"/&gt;</code> </pre> <br><p>  Nishtyak, comenzamos el proyecto, escribimos en el cuadro de texto iiiii ... no pasa nada))) Bueno, est√° bien, de hecho vamos por el camino correcto, simplemente no hemos llegado al punto correcto. </p><br><p>  Propongo parar por un momento y pensar en lo que nos estamos perdiendo.  Tenemos una vista  Viewmodel tambi√©n.  Propiedades como zabindili.  Se implementa la interfaz deseada.  Trabajamos mucho para copiar una l√≠nea de texto pat√©tica, ¬øpor qu√© necesitamos esto? </p><br><p>  De acuerdo, bromas a un lado.  Olvidamos crear un objeto modelo de vista y algo m√°s (m√°s sobre eso m√°s adelante).  Describimos la clase en s√≠, pero esto no significa nada, porque no tenemos objetos de esta clase.  Ok, ¬ød√≥nde necesitas almacenar un enlace a este objeto?  M√°s cerca del comienzo del ejemplo, mencion√© un cierto <em>DataContext</em> utilizado en WPF.  Por lo tanto, cualquier vista tiene una propiedad <strong>DataContext</strong> a la que podemos asignar un enlace a nuestro modelo de vista.  Hag√°moslo  Para hacer esto, abra el archivo <em>MainWindow.xaml</em> y presione F7 para abrir el c√≥digo de esta vista.  Est√° casi vac√≠o, solo tiene un constructor de clase de ventana.  Agregue la creaci√≥n de nuestro modelo de vista y col√≥quelo en el <strong>DataContext de la</strong> ventana (no olvide agregar usando con el espacio de nombres deseado): </p><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MainWindow</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { InitializeComponent(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.DataContext = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MainWindowViewModel(); }</code> </pre> <br><p>  Era simple, pero a√∫n no era suficiente.  A√∫n as√≠, cuando se inicia la aplicaci√≥n, no se produce sincronizaci√≥n de texto.  ¬øQu√© m√°s hay que hacer? </p><br><p>  Debe generar el evento <strong>PropertyChanged</strong> cuando cambie la propiedad <strong>SynchronizedText</strong> e informar a la vista que debe supervisar este evento.  Entonces, para activar el evento, modifique el c√≥digo del modelo de vista: </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">MainWindowViewModel</span></span> : <span class="hljs-title"><span class="hljs-title">BaseViewModel</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> _synchronizedText; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> SynchronizedText { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> =&gt; _synchronizedText; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { _synchronizedText = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; OnPropertyChanged(<span class="hljs-keyword"><span class="hljs-keyword">nameof</span></span>(SynchronizedText)); } } }</code> </pre> <br><p>  Que hemos hecho aqui  Agregamos un campo oculto para almacenar texto, lo envolvimos en una propiedad existente y, al cambiar esta propiedad, no solo cambiamos el campo oculto, sino que tambi√©n llamamos al m√©todo <strong>OnPropertyChanged</strong> definido en el modelo de vista base y <strong>generamos</strong> el evento <strong>PropertyChanged</strong> declarado en la interfaz <strong>INotifyPropertyChanged</strong> , tambi√©n implementado en la base Ver modelos.  Resulta que cada vez que el texto cambia, se produce el evento <strong>PropertyChanged</strong> , al que se pasa el nombre de la propiedad del modelo de vista que se cambi√≥. </p><br><p>  Bueno, casi todo, la l√≠nea de meta!  Queda por especificar la vista que deber√≠a escuchar el evento <strong>PropertyChanged</strong> : </p><br><pre> <code class="hljs pgsql">&lt;TextBox <span class="hljs-type"><span class="hljs-type">Text</span></span>="{Binding Path=SynchronizedText, UpdateSourceTrigger=PropertyChanged, Mode=OneWayToSource}"/&gt; &lt;TextBlock <span class="hljs-type"><span class="hljs-type">Text</span></span>="{Binding Path=SynchronizedText, UpdateSourceTrigger=PropertyChanged, Mode=OneWay}"/&gt;</code> </pre> <br><p>  Adem√°s del hecho de que indicamos por qu√© disparador deber√≠a llevarse a cabo la actualizaci√≥n, tambi√©n indicamos en qu√© direcci√≥n se est√° rastreando esta actualizaci√≥n: de vista a vista del modelo o viceversa.  Como ingresamos texto en el cuadro de texto, solo nos interesan los cambios en la vista, por lo que seleccionamos el modo <strong>OneWayToSource</strong> .  En el caso del bloque de texto, todo es exactamente lo contrario: estamos interesados ‚Äã‚Äãen los cambios en el modelo de vista para mostrarlos en la vista, por lo que seleccionamos el modo <strong>OneWay</strong> .  Si quisi√©ramos rastrear los cambios en ambas direcciones, no podr√≠amos especificar el <strong>Modo</strong> en absoluto, o especificar <strong>TwoWay</strong> expl√≠citamente. </p><br><p>  Entonces, ejecute el programa, escriba el texto y ¬°voi-la!  ¬°El texto cambia sincr√≥nicamente y no copiamos nada en ning√∫n lado! </p><br><p><img src="https://habrastorage.org/webt/pu/69/jw/pu69jwasrfi2bs43obsaj026rlw.png" alt="imagen"></p><br><p>  Gracias por su atenci√≥n, continuar√°.  Nos ocuparemos de DataTemplate y el patr√≥n Command. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es427325/">https://habr.com/ru/post/es427325/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es427315/index.html">Sala de lectura de Izba o una selecci√≥n de literatura profesional.</a></li>
<li><a href="../es427317/index.html">Para tener √©xito en el campo de TI o lo que mata a IT'shnikov?</a></li>
<li><a href="../es427319/index.html">Programador de reclutamiento de caballeros UE4, parte 1</a></li>
<li><a href="../es427321/index.html">Un auricular neuro para cada d√≠a: c√≥mo est√° hecho, por qu√© es necesario y en qu√© nos convertir√°</a></li>
<li><a href="../es427323/index.html">Infraestructura para microservicios. K8 y todo-todo-todo</a></li>
<li><a href="../es427327/index.html">Arquitectura MVVM en aplicaciones m√≥viles Flutter</a></li>
<li><a href="../es427329/index.html">IBM supera el hito de 7 nan√≥metros utilizando grafeno para colocar nanomateriales en sustratos</a></li>
<li><a href="../es427331/index.html">Revisi√≥n de la versi√≥n internacional del tel√©fono inteligente Xiaomi Mi Max 3 - mi tama√±o</a></li>
<li><a href="../es427333/index.html">Convertir la temperatura de color (K) a RGB: algoritmo y ejemplo de c√≥digo</a></li>
<li><a href="../es427335/index.html">Leer datos de un viejo disco duro MiniScribe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>