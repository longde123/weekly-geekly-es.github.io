<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐๐ฟ ๐คฒ๐พ ๐ง๐ป ุฅูุดุงุก ุจููุฉ ุชุญุชูุฉ ูุชูููููุฌูุง ุงููุนูููุงุช ุชุชุญูู ุงูุฃุฎุทุงุก. ุงูุฌุฒุก 1 - ุงูุชุญุถูุฑ ููุดุฑ ูุฌููุนุฉ 4.3 vVirt ๐จ๐พโ๐ ๐ฏ ๐ด๐ฝ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงููุฑุงุก ูุฏุนููู ุฅูู ุงูุชุนุฑู ุนูู ูุจุงุฏุฆ ุฅูุดุงุก ุจููุฉ ุชุญุชูุฉ ูุชุณุงูุญุฉ ูุน ุงูุฃุฎุทุงุก ูู ูุคุณุณุฉ ุตุบูุฑุฉ ุฏุงุฎู ูุฑูุฒ ุจูุงูุงุช ูุงุญุฏ ุ ูุงูุชู ุณูุชู ูุญุตูุง ุจุงูุชูุตูู ูู ุณูุณูุฉ ูุตูุฑุฉ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฅูุดุงุก ุจููุฉ ุชุญุชูุฉ ูุชูููููุฌูุง ุงููุนูููุงุช ุชุชุญูู ุงูุฃุฎุทุงุก. ุงูุฌุฒุก 1 - ุงูุชุญุถูุฑ ููุดุฑ ูุฌููุนุฉ 4.3 vVirt</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/lenvendo/blog/483980/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงููุฑุงุก ูุฏุนููู ุฅูู ุงูุชุนุฑู ุนูู ูุจุงุฏุฆ ุฅูุดุงุก ุจููุฉ ุชุญุชูุฉ ูุชุณุงูุญุฉ ูุน ุงูุฃุฎุทุงุก ูู ูุคุณุณุฉ ุตุบูุฑุฉ ุฏุงุฎู ูุฑูุฒ ุจูุงูุงุช ูุงุญุฏ ุ ูุงูุชู ุณูุชู ูุญุตูุง ุจุงูุชูุตูู ูู ุณูุณูุฉ ูุตูุฑุฉ ูู ุงูููุงูุงุช. </p><a name="habracut"></a><br><h2 id="vvodnaya-chast" style=";text-align:right;direction:rtl">  ุจุงุฏุฑุฉ </h2><br><p style=";text-align:right;direction:rtl">  ุชุญุช <strong>DPC</strong> (ูุฑูุฒ ูุนุงูุฌุฉ ุงูุจูุงูุงุช) ูููู ูููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฑู ุฎุงุต ูู "ุบุฑูุฉ ุงูุฎูุงุฏู" ุนูู ุฃุฑุงุถู ุงููุคุณุณุฉ ุงูุชู ุชูุจู ุงูุญุฏ ุงูุฃุฏูู ูู ุงููุชุทูุจุงุช ูุชูููุฑ ูุนุฏุงุช ุงูุทุงูุฉ ูุงูุชุจุฑูุฏ ุ ููุฐูู ุงููุตูู ุฅูู ุงูุฅูุชุฑูุช ูู ุฎูุงู ุงุซููู ูู ููุฏูู ุงูุฎุฏูุงุช ุงููุณุชูููู ุ </li><li style=";text-align:right;direction:rtl">  ุฑู ูุณุชุฃุฌุฑ ูุน ูุนุฏุงุชู ุงูุฎุงุตุฉ ุงูููุฌูุฏุฉ ูู ูุฑูุฒ ุงูุจูุงูุงุช ูุฐุง - ูุง ูุณูู  ุงูุชุฌููุน ุ ุงูุฐู ูุชูุงูู ูุน ูุนูุงุฑ ุงููุณุชูู ุงูุซุงูุซ ุฃู ุงูุฑุงุจุน ุ ูุงูุฐู ูุถูู ููุซูู ุฅูุฏุงุฏุงุช ุงูุทุงูุฉ ูุงูุชุจุฑูุฏ ููููุฑ ุงููุตูู ุฅูู ุงูุฅูุชุฑูุช ุชุชุณุงูุญ ูุน ุงูุฃุนุทุงู ุ </li><li style=";text-align:right;direction:rtl">  ุงููุนุฏุงุช ุงููุคุฌุฑุฉ ุจุงููุงูู ูู ูุฑูุฒ ุจูุงูุงุช ุงููุณุชูู ุงูุซุงูุซ ุฃู ุงูุฑุงุจุน. </li></ul><br><p style=";text-align:right;direction:rtl">  ุฃู ุฎูุงุฑ ูู ุฃูุงูู ุงูุฅูุงูุฉ ูุฎุชุงุฑ - ูู ูู ุญุงูุฉ ุ ูู ุดูุก ูุฑุฏู ุ ูุนุงุฏุฉ ูุง ูุนุชูุฏ ุนูู ุนุฏุฉ ุนูุงูู ุฑุฆูุณูุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุงุฐุง ุชูุชูู ุงููุคุณุณุฉ ุจููุฉ ุชุญุชูุฉ ูุชูููููุฌูุง ุงููุนูููุงุช ุงูุฎุงุตุฉ ุจูุงุ </li><li style=";text-align:right;direction:rtl">  ูุง ุงูุฐู ุชุฑูุฏู ุงููุคุณุณุฉ ุจุงูุถุจุท ูู ุงูุจููุฉ ุงูุชุญุชูุฉ ูุชูููููุฌูุง ุงููุนูููุงุช (ุงูููุซูููุฉ ุ ุงูุชุฏุฑุฌูุฉ ุ ุงูุฅุฏุงุฑุฉ ุ ุฅูุฎ) ุ </li><li style=";text-align:right;direction:rtl">  ููุฏุงุฑ ุงูุงุณุชุซูุงุฑ ุงูุฃููู ูู ุงูุจููุฉ ุงูุชุญุชูุฉ ูุชูููููุฌูุง ุงููุนูููุงุช ุ ูุฃู ููุน ูู ุงูุชูุงููู ูู - ุฑุฃุณ ุงููุงู (ููุง ูุนูู ุดุฑุงุก ุงููุนุฏุงุช ุงูุฎุงุตุฉ ุจู) ุ ุฃู ุงูุชุดุบูู (ุนุงุฏุฉ ูุง ูุชู ุงุณุชุฆุฌุงุฑ ุงููุนุฏุงุช) ุ </li><li style=";text-align:right;direction:rtl">  ุฃูู ุงูุชุฎุทูุท ูููุดุฑูุน ููุณู. </li></ul><br><p style=";text-align:right;direction:rtl">  ูููู ูุชุงุจุฉ ุงููุซูุฑ ุนู ุงูุนูุงูู ุงูุชู ุชุคุซุฑ ุนูู ูุฑุงุฑ ุงููุคุณุณุฉ ุจุฅูุดุงุก ูุงุณุชุฎุฏุงู ุงูุจููุฉ ุงูุชุญุชูุฉ ูุชูููููุฌูุง ุงููุนูููุงุช ุงูุฎุงุตุฉ ุจูุง ุ ูููู ูุฏููุง ูู ุฃู ููุถุญ ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ููููุฉ ุฅูุดุงุก ูุฐู ุงูุจููุฉ ุงูุชุญุชูุฉ ุจุญูุซ ุชููู ูุชุณุงูุญุฉ ูุน ุงูุฃุฎุทุงุก ุ ูุณูููู ูู ุงููููู ุชูููุฑ ุงููุงู - ุชูููู ุชูููุฉ ุงูุญุตูู ุนูู ุงูุจุฑุงูุฌ ุงูุชุฌุงุฑูุฉ ุ ุฃู ุญุชู ุชุฌูุจูุง. </p><br><p style=";text-align:right;direction:rtl">  ููุง ุชุธูุฑ ุงูููุงุฑุณุฉ ุงูุทูููุฉ ุ ูุง ูุณุชุญู ุงูุชูููุฑ ุนูู ุงูุฃุฌูุฒุฉ ุ ุญูุซ ุฃู ุงูุฃุฐู ูุฏูุน ูุฑุชูู ุ ุจู ูุฃูุซุฑ ูู ุฐูู ุจูุซูุฑ.  ูููู ูุฑุฉ ุฃุฎุฑู - ุฅููุง ุฃุฌูุฒุฉ ุฌูุฏุฉ ุ ุฅููุง ูุฌุฑุฏ ุชูุตูุฉ ุ ููู ุงูููุงูุฉ ูุง ูุฌุจ ุนููู ุดุฑุงุคู ุจุงูุถุจุท ูุงููุฏู ุงูุฐู ูุนุชูุฏ ุนูู ูุฏุฑุงุช ุงููุคุณุณุฉ ุ ู "ุงูุฌุดุน" ูู ุฅุฏุงุฑุชูุง.  ุนูุงูุฉ ุนูู ุฐูู ุ ููุจุบู ููู ูููุฉ "ุงูุฌุดุน" ุจูุนูู ุฌูุฏ ูููููุฉ ุ ูุฃูู ูู ุงูุฃูุถู ุงูุงุณุชุซูุงุฑ ูู ุงูุญุฏูุฏ ูู ุงููุฑุญูุฉ ุงูุฃูููุฉ ุ ุจุญูุซ ูุง ุชูุฌุฏ ูู ููุช ูุงุญู ุฃูุฉ ูุดุงูู ุฎุทูุฑุฉ ูู ุฏุนููุง ูุชูุณูุน ูุทุงููุง ุ ูุฃู ุงูุชุฎุทูุท ุบูุฑ ุงูุตุญูุญ ูู ุงูุจุฏุงูุฉ ูุงูุงุฏุฎุงุฑ ุงูููุฑุท ูููู ุฃู ูุคุฏู ุฅูู ุงููุณุชูุจู ุฃุบูู ูู ุนูุฏ ุจุฏุก ุงููุดุฑูุน. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ุงูุจูุงูุงุช ุงูุฃูููุฉ ูููุดุฑูุน: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ููุงู ูุคุณุณุฉ ูุฑุฑุช ุฅูุดุงุก ุจูุงุจุฉ ุงูููุจ ุงูุฎุงุตุฉ ุจูุง ููุถุน ุฃูุดุทุชูุง ุนูู ุงูุฅูุชุฑูุช ุ </li><li style=";text-align:right;direction:rtl">  ูุฑุฑุช ุงูุดุฑูุฉ ุงุณุชุฆุฌุงุฑ ุฑู ููุถุน ูุนุฏุงุชูุง ูู ูุฑูุฒ ุจูุงูุงุช ุฌูุฏ ูุนุชูุฏ ููููุง ููุนูุงุฑ Tier III ุ </li><li style=";text-align:right;direction:rtl">  ูุฑุฑุช ุงูุดุฑูุฉ ุนุฏู ุชูููุฑ ุงููุซูุฑ ุนูู ุงูุฃุฌูุฒุฉ ุ ูุจุงูุชุงูู ุงุดุชุฑุช ุงููุนุฏุงุช ุงูุชุงููุฉ ูุน ุถูุงูุงุช ูุฏุนู ููุณุนูู: </li></ul><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุงุฆูุฉ ุงููุนุฏุงุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><blockquote style=";text-align:right;direction:rtl"><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฎุงุฏูุงู ูุนููุงู ูู Dell PowerEdge R640 ููุง ููู: </li><li style=";text-align:right;direction:rtl">  <em>ูุนุงูุฌุงุช Intel Xeon Gold 5120</em> </li><li style=";text-align:right;direction:rtl">  <em>512 ุฌูุฌุงุจุงูุช ูู ุฐุงูุฑุฉ ุงููุตูู ุงูุนุดูุงุฆู</em> </li><li style=";text-align:right;direction:rtl">  <em>ูุฑุตูู SAS ูู RAID1 ุ ูุชุซุจูุช ูุธุงู ุงูุชุดุบูู</em> </li><li style=";text-align:right;direction:rtl">  <em>ุงููุฏูุฌ ูู ุจุทุงูุฉ ุดุจูุฉ 1G 4 ููุงูุฐ</em> </li><li style=";text-align:right;direction:rtl">  <em>ุจุทุงูุชู ุดุจูุฉ 10G 2 ุงููููุงุก</em> </li><li style=";text-align:right;direction:rtl">  <em>ูุงุญุฏ 2 ูููุงุก FC HBA 16G.</em> </li><li style=";text-align:right;direction:rtl">  ูุธุงู ุชุฎุฒูู ูู ูุญุฏุชู ุชุญูู Dell MD3820f ุ ูุชุตู ุนุจุฑ FC 16G ูุจุงุดุฑุฉ ุจูุถููู Dell ุ </li><li style=";text-align:right;direction:rtl">  ููุชุงุญุงู ูู ุงููุณุชูู ุงูุซุงูู - Cisco WS-C2960RX-48FPS-L ููุฏุณุฉ ุ </li><li style=";text-align:right;direction:rtl"> ููุชุงุญุงู ูู ุงูุทุจูุฉ ุงูุซุงูุซุฉ - Cisco WS-C3850-24T-E ุ ููุฏุณุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุฑู ุ UPS ุ PDU ุ ุฎูุงุฏู ูุญุฏุฉ ุงูุชุญูู - ููุฏูุฉ ูู ูุฑูุฒ ุงูุจูุงูุงุช. </li></ul><br></blockquote></div></div><br><p style=";text-align:right;direction:rtl">  ููุง ูุฑู ุ ุชุชูุชุน ุงููุนุฏุงุช ุงูุญุงููุฉ ุจูุฑุต ุฌูุฏุฉ ููุชูุณุน ุงูุฃููู ูุงูุฑุฃุณู ุ ุฅุฐุง ูุงูุช ุงูุดุฑูุฉ ูุงุฏุฑุฉ ุนูู ุงูุชูุงูุณ ูุน ุดุฑูุงุช ุฃุฎุฑู ุฐุงุช ููู ุชุนุฑูู ููุงุซู ุนูู ุงูุฅูุชุฑูุช ุ ูุจุฏุฃุช ูู ุฌูู ุงูุฃุฑุจุงุญ ุงูุชู ูููู ุงุณุชุซูุงุฑูุง ูู ุชูุณูุน ุงูููุงุฑุฏ ูุฒูุงุฏุฉ ุงูููุงูุณุฉ ูุฒูุงุฏุฉ ููู ุงูุฃุฑุจุงุญ. </p><br><p style=";text-align:right;direction:rtl">  ูุง ุงููุนุฏุงุช ุงูุชู ูููู ุฃู ูุถูููุง ุฅุฐุง ูุฑุฑุช ุงููุคุณุณุฉ ุฒูุงุฏุฉ ุฃุฏุงุก ูุธุงู ุงูุญูุณุจุฉ ุงูุฎุงุต ุจูุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฏููุง ุงุญุชูุงุทู ูุจูุฑ ูุนุฏุฏ ุงูููุงูุฐ ุนูู ููุงุชูุญ 2960X ุ ููุง ูุนูู ุฃูู ููููู ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุฎูุงุฏู ุงูุฃุฌูุฒุฉ ุ </li><li style=";text-align:right;direction:rtl">  ุดุฑุงุก ุงุซููู ูู ููุงุชูุญ FC ููุงุชุตุงู ุฃูุธูุฉ ุงูุชุฎุฒูู ูุงูุฎูุงุฏู ุงูุฅุถุงููุฉ ููู ุ </li><li style=";text-align:right;direction:rtl">  ูููู ุชุฑููุฉ ุงูุฎูุงุฏู ุงูููุฌูุฏุฉ ุจุงููุนู - ุฅุถุงูุฉ ุฐุงูุฑุฉ ุ ูุงุณุชุจุฏุงู ุงููุนุงูุฌุงุช ุจุฃุฎุฑู ุฃูุซุฑ ููุงุกุฉ ุ ูุชูุตูู ูุญููุงุช ุงูุดุจูุฉ ุงูุญุงููุฉ ุจุดุจูุฉ 10G ุ </li><li style=";text-align:right;direction:rtl">  ููููู ุฅุถุงูุฉ ุฃุฑูู ุฃูุฑุงุต ุฅุถุงููุฉ ุฅูู ูุญุฏุฉ ุงูุชุฎุฒูู ุจุงุณุชุฎุฏุงู ููุน ุงูุฃูุฑุงุต ุงูุถุฑูุฑู - SAS ุฃู SATA ุฃู SSD ุ ุงุนุชูุงุฏูุง ุนูู ุงูุญูู ุงููุฎุทุท ุ </li><li style=";text-align:right;direction:rtl">  ุจุนุฏ ุฅุถุงูุฉ ููุงุชูุญ ุชุจุฏูู FC ุ ููููู ุดุฑุงุก ูุธุงู ุชุฎุฒูู ุขุฎุฑ ูุฅุถุงูุฉ ุงููุฒูุฏ ูู ุณุนุฉ ุงููุฑุต ุ ูุฅุฐุง ููุช ุจุดุฑุงุก ุฎูุงุฑ ุงููุณุฎ ุงููุชูุงุซู ุงูุจุนูุฏ ุงูุฎุงุต ุจู ุ ูููููู ุชูููู ุงููุณุฎ ุงููุชูุงุซู ููุจูุงูุงุช ุจูู ุฃูุธูุฉ ุงูุชุฎุฒูู ุฏุงุฎู ููุณ ูุฑูุฒ ุงูุจูุงูุงุช ูุจูู ูุฑุงูุฒ ุงูุจูุงูุงุช (ูููู ูุฐุง ูุชุฌุงูุฒ ุจุงููุนู ูุทุงู ุงูููุงู) ุ </li><li style=";text-align:right;direction:rtl">  ููุงู ุฃูุถูุง ูุญููุงุช ูู ุงููุณุชูู ุงูุซุงูุซ - Cisco 3850 ุ ูุงูุชู ูููู ุงุณุชุฎุฏุงููุง ูููุงุฉ ุชุชุณุงูุญ ูุน ุงูุฃุนุทุงู ูู ุงูุดุจูุฉ ูุชูุฌูู ุนุงูู ุงูุณุฑุนุฉ ุจูู ุงูุดุจูุงุช ุงูุฏุงุฎููุฉ.  ูุฐุง ุณูู ูุณุงุนุฏ ูุซูุฑุง ูู ุงููุณุชูุจู ุ ูุน ููู ุงูุจููุฉ ุงูุชุญุชูุฉ ุงูุฏุงุฎููุฉ.  ูุญุชูู 3850 ุฃูุถูุง ุนูู ููุงูุฐ 10G ูููู ุชูุดูุทูุง ูุงุญููุง ุนูุฏ ุชุฑููุฉ ูุนุฏุงุช ุงูุดุจูุฉ ุฅูู 10G. </li></ul><br><p style=";text-align:right;direction:rtl">  ุจูุง ุฃูู ูุง ููุฌุฏ ุงูุขู ุฃู ููุงู ุจุฏูู ุงููุญุงูุงุฉ ุงูุงูุชุฑุงุถูุฉ ุ ูุจุงูุชุฃููุฏ ุณูููู ูู ุงูุงุชุฌุงู ุ ููู ูุฐุง ููุซู ุทุฑููุฉ ุฑุงุฆุนุฉ ูุชูููู ุชูููุฉ ุดุฑุงุก ุฎูุงุฏู ุจุงูุธุฉ ุงูุซูู ูุนูุงุตุฑ ุจููุฉ ุฃุณุงุณูุฉ ูุนููุฉ (ุฎูุงุฏู ุงูููุจ ูููุงุนุฏ ุงูุจูุงูุงุช ููุง ุฅูู ุฐูู) ุ ูุงูุชู ููุณุช ุฏุงุฆููุง ูุซุงููุฉ ุงููุณุชุฎุฏูุฉ ูู ุญุงูุฉ ุงูุฎูุงุถ ุงูุญูู ุ ููุฐุง ูู ุจุงูุถุจุท ูุง ุณูููู ูู ุจุฏุงูุฉ ุฅุทูุงู ุงููุดุฑูุน. </p><br><p style=";text-align:right;direction:rtl">  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ุชุชููุฒ ุงููุญุงูุงุฉ ุงูุงูุชุฑุงุถูุฉ ุจุงูุนุฏูุฏ ูู ุงููุฒุงูุง ุงูุฃุฎุฑู ุงูุชู ูุฏ ุชููู ูููุฏุฉ ููุบุงูุฉ ุจุงููุณุจุฉ ููุง: ุงูุชุณุงูุญ ูุน ุงูุฃุนุทุงู VM ูู ูุดู ุฎุงุฏู ุงูุฃุฌูุฒุฉ ุ ุงูุชุฑุญูู ุงููุจุงุดุฑ ุจูู ุนูุฏ ุงูุฃุฌูุฒุฉ ูู ุงููุชูุฉ ูุตูุงูุชูุง ุ ููุงุฒูุฉ ุงูุชุญููู ุงููุฏูู ุฃู ุงูุชููุงุฆู ุจูู ุนูุฏ ูุธุงู ุงููุฌููุนุฉ ุ ุฅูุฎ. </p><br><p style=";text-align:right;direction:rtl">  ุจุงููุณุจุฉ ููุฃุฌูุฒุฉ ุงูุชู ุญุตูุช ุนูููุง ุงููุคุณุณุฉ ุ ููุญู ูุดุฑ ูุฌููุนุฉ VMware vSphere ุงูุชู ูููู ุงููุตูู ุฅูููุง ุจุดูู ูุจูุฑ ุ ูููู ูุธุฑูุง ูุฃู ุฃู ุจุฑูุงูุฌ ูู VMware ูุนุฑูู <a href="https://ru.wikipedia.org/wiki/OVirt"><strong>ุจุนูุงูุงุช</strong></a> ุณุนุฑ ุธููุฑ ุงูุฎูู ุงูุฎุงุตุฉ ุจู ุ ูุฅููุง ุณูู ูุณุชุฎุฏู ุจุฑูุงูุฌ ุฅุฏุงุฑุฉ ุงููุญุงูุงุฉ ุงูุงูุชุฑุงุถูุฉ ุงููุฌุงูู ุชูุงููุง - <a href="https://ru.wikipedia.org/wiki/OVirt"><strong>oVirt</strong></a> ุ ุนูู ุฃุณุงุณู ุจุฑูุงูุฌ ูุนุฑูู ุฌูุฏูุง ูููู ุงูููุชุฌ ุงูุชุฌุงุฑู ุจุงููุนู - <a href="https://ru.bmstu.wiki/RHEV_(Red_Hat_Enterprise_Virtualization)"><strong>RHEV</strong></a> . </p><br><p style=";text-align:right;direction:rtl">  ูุนุฏ ุจุฑูุงูุฌ <strong>oVirt</strong> ุถุฑูุฑููุง ููุฌูุน ุจูู ุฌููุน ุนูุงุตุฑ ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ูุนูุง ุญุชู ุชุชููู ูู ุงูุนูู ุจุดูู ูุฑูุญ ูุน ุงูุฃุฌูุฒุฉ ุงูุธุงูุฑูุฉ ุงูุชู ูููู ุงููุตูู ุฅูููุง ุจุดูู ูุจูุฑ - ูุซู ููุงุนุฏ ุงูุจูุงูุงุช ูุชุทุจููุงุช ุงูููุจ ูุงููููุงุก ูุงูููุงุฒูุงุช ูุงูุฎูุงุฏู ูุฌูุน ุงูุณุฌูุงุช ูุงูุชุญูููุงุช ุ ุฅูุฎ. n. ุ ููุฐุง ูู ุ ูุง ุชุชููู ููู ุงูุจูุงุจุฉ ุงูุฅููุชุฑูููุฉ ููุคุณุณุชูุง. </p><br><p style=";text-align:right;direction:rtl">  ูู ูุง ููู ููุฎุต ููุฐู ุงูููุฏูุฉ ุ ุชูุชุธุฑูุง ุงูููุงูุงุช ุงูุชุงููุฉ ุ ูุงูุชู ุณุชูุถุญ ูู ุงูููุงุฑุณุฉ ุงูุนูููุฉ ููููุฉ ูุดุฑ ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ููุฃุฌูุฒุฉ ูุงูุจุฑุงูุฌ ุจุงููุงูู ููุดุฑูุฉ: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูุงุฆูุฉ ุงูููุงุฏ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>ุงูุฌุฒุก 1.</strong> ุงูุชุญุถูุฑ ููุดุฑ ุงููุชูุฉ vVirt 4.3. </li><li style=";text-align:right;direction:rtl">  <strong>ุงูุฌุฒุก 2.</strong> ุชุซุจูุช ูุชูููู ุงููุชูุฉ vVirt 4.3. </li><li style=";text-align:right;direction:rtl">  <strong>ุงูุฌุฒุก 3.</strong> ุชูุธูู ุงูุชูุฌูู ุงููุชุณุงูุญุฉ ูุน ุงูุฃุฎุทุงุก ุนูู ุฃุฌูุฒุฉ ุงูุชูุฌูู ุงูุงูุชุฑุงุถูุฉ VyOS. </li><li style=";text-align:right;direction:rtl">  <strong>ุงูุฌุฒุก 4.</strong> ุชูููู ููุฏุณ Cisco 3850 ุ ูุชูุธูู ุชูุฌูู ุงูุฅูุชุฑุงูุช. </li></ul></div></div><br><h2 id="chast-1-podgotovka-k-razvyortyvaniyu-klastera-ovirt-43" style=";text-align:right;direction:rtl">  ุงูุฌุฒุก 1. ุงูุชุญุถูุฑ ููุดุฑ ูุฌููุนุฉ 4.3 vVirt </h2><br><h3 id="bazovaya-nastroyka-hostov" style=";text-align:right;direction:rtl">  ุงูุชูููู ุงููุถูู ุงูุฃุณุงุณู </h3><br><p style=";text-align:right;direction:rtl">  ูุนุฏ ุชุซุจูุช ูุธุงู ุงูุชุดุบูู ูุชููููู ุฃุณูู ุงูุฎุทูุงุช.  ููุงู ุงููุซูุฑ ูู ุงูููุงูุงุช ุญูู ููููุฉ ุชุซุจูุช ูุธุงู ุงูุชุดุบูู ูุชููููู ุจุดูู ุตุญูุญ ุ ูุฐูู ูุง ูุนูู ููุญุงููุฉ ุฅุนุทุงุก ุดูุก ุญุตุฑู ุญูู ูุฐุง. </p><br><p style=";text-align:right;direction:rtl">  ูุฐูู ุ ูุฏููุง ูุถููุงู PowerEdge R640 ูู Dell ุ ุชุญุชุงุฌ ุฅููููุง ุชุซุจูุช ูุธุงู ุงูุชุดุบูู ูุฅุฌุฑุงุก ุงูุชููููุงุช ุงููุณุจูุฉ ุ ูุงุณุชุฎุฏุงูููุง ููุฑุงูุจูู ูุชุดุบูู ุฃุฌูุฒุฉ ุงูุชุฑุงุถูุฉ ูู ูุธุงู ูุฌููุนุฉ oVirt 4.3. </p><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃููุง ูุนุชุฒู ุงุณุชุฎุฏุงู ุงูุจุฑูุงูุฌ ุงููุฌุงูู ุบูุฑ ุงูุชุฌุงุฑู ุนูู vVirt ุ <strong>ููุฏ ุชู</strong> ุงุฎุชูุงุฑ <strong>CentOS 7.7</strong> ููุดุฑ ุงููุถูููู ุ ุนูู ุงูุฑุบู ูู ุฃูู ูููู ุฃูุถูุง ุชุซุจูุช ุฃูุธูุฉ ุชุดุบูู ุฃุฎุฑู ุนูู ุงููุถูููู ูู oVirt: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุจูุงุก ุฎุงุต ุนูู ุฃุณุงุณ RHEL ุ ูุง ูุณูู  <a href="https://www.ovirt.org/documentation/admin-guide/chap-Hosts.html"><strong>ุงูุนูุฏุฉ</strong></a> </li><li style=";text-align:right;direction:rtl">  OS Oracle Linux ุ ูู ุตูู ุนุงู 2019 ุ ุชู ุงูุฅุนูุงู ุนู ุฏุนู ุชุดุบูู vVirt ุนููู. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุจู ุชุซุจูุช ูุธุงู ุงูุชุดุบูู ุ ููุตู ุจูุง ููู: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูู ุจุชูููู ูุงุฌูุฉ ุดุจูุฉ iDRAC ุนูู ููุง ุงููุถูููู </li><li style=";text-align:right;direction:rtl">  ุชุญุฏูุซ ุงูุจุฑุงูุฌ ุงูุซุงุจุชุฉ ููุธุงู BIOS ู iDRAC ุฅูู ุฃุญุฏุซ ุงูุฅุตุฏุงุฑุงุช ุ </li><li style=";text-align:right;direction:rtl">  ูู ุงููุณุชุญุณู ุชูููู ุฎุงุฏู "ููู ุชุนุฑูู ุงููุธุงู" ูู ูุถุน ุงูุฃุฏุงุก ุ </li><li style=";text-align:right;direction:rtl">  ูู ุจุชูููู RAID ูู ุงูุฃูุฑุงุต ุงููุญููุฉ (ููุตู ุจู RAID1) ูุชุซุจูุช ูุธุงู ุงูุชุดุบูู ุนูู ุงูุฎุงุฏู. </li></ul><br><p style=";text-align:right;direction:rtl">  ุซู ูููู ุจุชุซุจูุช ูุธุงู ุงูุชุดุบูู ุนูู ุงููุฑุต ุงูุฐู ุชู ุฅูุดุงุคู ูุณุจููุง ุนุจุฑ iDRAC - ุนูููุฉ ุงูุชุซุจูุช ุทุจูุนูุฉ ุ ููุง ุชูุฌุฏ ูุญุธุงุช ุฎุงุตุฉ ููู.  ูููู ุฃูุถูุง ุงููุตูู ุฅูู ูุญุฏุฉ ุชุญูู ุงูุฎุงุฏู ูุจุฏุก ุชุซุจูุช ูุธุงู ุงูุชุดุบูู ูู ุฎูุงู iDRAC ุ ุนูู ุงูุฑุบู ูู ุฃูู ูุง ููุฌุฏ ูุง ูููุนู ูู ุชูุตูู ุงูุดุงุดุฉ ูููุญุฉ ุงูููุงุชูุญ ูุงููุงูุณ ุจุงููููู ูุจุงุดุฑุฉ ูุชุซุจูุช ูุธุงู ุงูุชุดุบูู ูู ูุญุฑู ุฃูุฑุงุต ููุงุด. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุชุซุจูุช ูุธุงู ุงูุชุดุบูู ุ ูู ุจุฅุฌุฑุงุก ุฅุนุฏุงุฏุงุชู ุงูุฃูููุฉ: </p><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">systemctl enable network.service systemctl start network.service systemctl status network.service</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">systemctl stop NetworkManager systemctl disable NetworkManager systemctl status NetworkManager</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">yum install -y ntp systemctl enable ntpd.service systemctl start ntpd.service</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cat /etc/sysconfig/selinux SELINUX=disabled SELINUXTYPE=targeted</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cat /etc/security/limits.conf * soft nofile 65536 * hard nofile 65536</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cat /etc/sysctl.conf vm.max_map_count = 262144 vm.swappiness = 1</code> </pre> <br><p style=";text-align:right;direction:rtl">  <u>ูู ุจุชุซุจูุช ุงููุฌููุนุฉ ุงูุฃุณุงุณูุฉ ูู ุงูุจุฑูุงูุฌ</u> </p><br><p style=";text-align:right;direction:rtl">  ูุฅุนุฏุงุฏ ูุธุงู ุงูุชุดุบูู ุงูุฃููู ุ ุชุญุชุงุฌ ุฅูู ุชูููู ุฃู ูุงุฌูุฉ ุดุจูุฉ ุนูู ุงูุฎุงุฏู ุจุญูุซ ููููู ุงููุตูู ุฅูู ุงูุฅูุชุฑูุช ุ ูุชุญุฏูุซ ูุธุงู ุงูุชุดุบูู ูุชุซุจูุช ุญุฒู ุงูุจุฑุงูุฌ ุงููุงุฒูุฉ.  ูููู ุงูููุงู ุจุฐูู ุฃุซูุงุก ุชุซุจูุช ูุธุงู ุงูุชุดุบูู ูุจุนุฏู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">yum -y install epel-release yum update yum -y install bind-utils yum-utils net-tools git htop iotop nmon pciutils sysfsutils sysstat mc nc rsync wget traceroute gzip unzip telnet</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฌููุน ุงูุฅุนุฏุงุฏุงุช ุงููุฐููุฑุฉ ุฃุนูุงู ููุฌููุนุฉ ูู ุงูุจุฑุงูุฌ ูู ูุณุฃูุฉ ุชูุถูู ุดุฎุตู ุ ููุฐู ุงููุฌููุนุฉ ูู ูุฌุฑุฏ ุชูุตูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู ูุถูููุง ุณููุนุจ ุฏูุฑ ุจุฑูุงูุฌ hypervisor ุ ูุณูููู ุจุชูููู ููู ุชุนุฑูู ุงูุฃุฏุงุก ุงููุทููุจ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">systemctl enable tuned systemctl start tuned systemctl status tuned</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">tuned-adm profile tuned-adm profile virtual-host</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููููู ูุฑุงุกุฉ ุงููุฒูุฏ ุญูู ููู ุชุนุฑูู ุงูุฃุฏุงุก ููุง: " <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/virtualization_tuning_and_optimization_guide/chap-virtualization_tuning_optimization_guide-tuned">ุงููุตู 4. ุถุจุทูุง ูุถุจุทูุง</a> ". </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุชุซุจูุช ูุธุงู ุงูุชุดุบูู ุ ููุชูู ุฅูู ุงูุฌุฒุก ุงูุชุงูู - ุชูููู ูุงุฌูุงุช ุงูุดุจูุฉ ุนูู ุงููุถูููู ุ ููุฌููุนุฉ ุชุจุฏูู Cisco 2960X. </p><br><h3 id="nastroyka-steka-kommutatorov-cisco-2960x" style=";text-align:right;direction:rtl">  ุชูุตูู Cisco 2960X Switch Stack </h3><br><p style=";text-align:right;direction:rtl">  ุณูุณุชุฎุฏู ูุดุฑูุนูุง ุงูุฃุฑูุงู ุงูุชุงููุฉ ูู ุดุจูุงุช VLAN - ุฃู ูุฌุงูุงุช ุงูุจุซ ุงููุนุฒููุฉ ุนู ุจุนุถูุง ุงูุจุนุถ ุ ููุตู ุฃููุงุน ูุฎุชููุฉ ูู ุญุฑูุฉ ุงููุฑูุฑ: </p><br><p style=";text-align:right;direction:rtl">  <strong>ุดุจูุฉ ูุญููุฉ ุธุงูุฑูุฉ 10</strong> - ุงูุฅูุชุฑูุช <br>  <strong>VLAN 17</strong> - ุงูุฅุฏุงุฑุฉ (iDRAC ุ ุงูุชุฎุฒูู ุ ุฅุฏุงุฑุฉ ุงูููุงุชูุญ) <br>  <strong>VLAN 32</strong> - ุดุจูุฉ ุฅูุชุงุฌ VM <br>  <strong>VLAN 33</strong> - ุดุจูุฉ ุฑุจุท (ููููุงูููู ุงูุฎุงุฑุฌููู) <br>  <strong>VLAN 34</strong> - ุดุจูุฉ ุงุฎุชุจุงุฑ VM <br>  <strong>VLAN 35</strong> - ุดุจูุฉ ูุทูุฑ VM <br>  <strong>VLAN 40</strong> - ุดุจูุฉ ุงูุฑุตุฏ </p><br><p style=";text-align:right;direction:rtl">  ูุจู ุจุฏุก ุงูุนูู ุ ููุฏู ูุฎุทุทูุง ุนูู ูุณุชูู L2 ุ ูุงูุฐู ูุฌุจ ุฃู ูุตู ุฅููู ูู ุงูููุงูุฉ: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/in/ak/8a/inak8aoyty8yujo2zagwdehdytg.jpeg"></p><br><p style=";text-align:right;direction:rtl">  ูุชูุงุนู ุงูุดุจูุฉ ุจูู ูุถููู oVirt ูุงูุฃุฌูุฒุฉ ุงูุธุงูุฑูุฉ ูุน ุจุนุถูู ุงูุจุนุถ ุ ููุฐูู ูุฅุฏุงุฑุฉ ุงูุชุฎุฒูู ูุฏููุง ุ ุชุญุชุงุฌ ุฅูู ุชูููู ููุฏุณ ุงููุญูู Cisco 2960X. </p><br><p style=";text-align:right;direction:rtl">  ูุญุชูู ูุถููู Dell ุนูู ุจุทุงูุงุช ุดุจูุฉ ูุฏูุฌุฉ ุจุฃุฑุจุนุฉ ููุงูุฐ ุ ูุฐูู ุ ูููุตุญ ุจุชูุธูู ุงุชุตุงููู ูุน Cisco 2960X ุจุงุณุชุฎุฏุงู ุงุชุตุงู ุดุจูุฉ ูุชุญูู ุงูุฃุฎุทุงุก ุ ุจุงุณุชุฎุฏุงู ุชุฌููุน ููุงูุฐ ุงูุดุจูุฉ ุงููุนููุฉ ูู ูุงุฌูุฉ ููุทููุฉ ูุจุฑูุชูููู LACP (802.3ad): </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชู ุชูููู ุฃูู ูููุฐูู ุนูู ุงููุถูู ูู ูุถุน ุงูุชุฑุงุจุท ููุชุตููู ุจูุญูู 2960X - ุนูู ูุฐู ุงููุงุฌูุฉ ุงูููุทููุฉ ุ ุณูุชู ุชูููู <strong><em>ุฌุณุฑ</em></strong> ูุน ุนููุงู ูุฅุฏุงุฑุฉ ุงููุถูู ุ ูุงูุฑุตุฏ ุ ูุงูุชูุงุตู ูุน ุงููุถูููู ุงูุขุฎุฑูู ูู ูุฌููุนุฉ oVirt ุ ููุง ุณูุชู ุงุณุชุฎุฏุงูู ููุงูุชูุงู ุงููุจุงุดุฑ ููุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ุ </li><li style=";text-align:right;direction:rtl">  ูุชู ุฃูุถูุง ุชูููู ุงููููุฐูู ุงูุซุงูููู ุนูู ุงููุถูู ูู ูุถุน ุงูุชุฑุงุจุท ููุชุตููู ุจู 2960X - ุนูู ูุฐู ุงููุงุฌูุฉ ุงูููุทููุฉ ุจุงุณุชุฎุฏุงู oVirt ุ ุณูุชู ุฅูุดุงุก ุฌุณูุฑ ูุงุญูุฉ (ูู ุดุจูุงุช VLAN ุงูููุงุจูุฉ) ุงูุชู ุณูุชู ุชูุตูู ุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ุจูุง. </li><li style=";text-align:right;direction:rtl">  ุณูููู ููุง ูููุฐู ุงูุดุจูุฉ ุ ุฏุงุฎู ููุณ ุงููุงุฌูุฉ ุงูููุทููุฉ ุ ูุดุทูู ุ ุฃู  ูููู ุฃู ุชูุชูู ุญุฑูุฉ ุงููุฑูุฑ ุนูููุง ูู ููุช ูุงุญุฏ ุ ูู ูุถุน ุงูุชูุงุฒู. </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชููู ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ ุนูู ุนูุฏ ุงููุชูุฉ ุนูู ุงูุฅุทูุงู ุ ุจุงุณุชุซูุงุก ุนูุงููู IP. </li></ul><br><p style=";text-align:right;direction:rtl">  <u>ุงูุชูููู ุงูุฃุณุงุณู <strong>ูููุจุณ</strong> ุงููุญูู <strong>2960X ูููุงูุฐู</strong></u> </p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุณุงุจู ุ ูุฌุจ ุฃู ุชููู ููุงุชูุญูุง: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุดูุช ูู ุฑู. </li><li style=";text-align:right;direction:rtl">  ูุชุตูุฉ ุจูุงุณุทุฉ ูุจููู ุฎุงุตูู ูู ุงูุทูู ุงููุทููุจ ุ ุนูู ุณุจูู ุงููุซุงู ุ CAB-STK-E-1M ุ </li><li style=";text-align:right;direction:rtl">  ูุชุตูุง ุงูุฏุงุฏุงุช ุงูุทุงูุฉ. </li><li style=";text-align:right;direction:rtl">  ูุชุตูุงู ุจูุญุทุฉ ุนูู ุงููุณุคูู ูู ุฎูุงู ูููุฐ ูุญุฏุฉ ุงูุชุญูู ุ ูุชูููููุง ุงูุฃููู. </li></ul><br><p style=";text-align:right;direction:rtl">  ุงูุฅุฑุดุงุฏุงุช ุงููุงุฒูุฉ ูุฐูู ูุชููุฑุฉ ุนูู <a href="https://www.cisco.com/c/en/us/support/switches/catalyst-2960-x-series-switches/products-installation-guides-list.html">ุตูุญุฉ</a> ุงูุดุฑูุฉ ุงููุตูุนุฉ <a href="https://www.cisco.com/c/en/us/support/switches/catalyst-2960-x-series-switches/products-installation-guides-list.html">ุงูุฑุณููุฉ</a> . </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุชูููุฐ ุงูุฎุทูุงุช ุงููุฐููุฑุฉ ุฃุนูุงู ุ ูู ุจุชูููู ุงูููุงุชูุญ. <br>  ูุง ููุชุฑุถ ุฃู ูุนููู ูู ูุฑูู ูู ุฃู ูุชู ูู ุชุดููุฑู ูู ุฅุทุงุฑ ูุฐู ุงูููุงูุฉ ุ ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ูููู ุงูุนุซูุฑ ุนูู ุฌููุน ุงููุนูููุงุช ุจุดูู ูุณุชูู. <br>  ูุฏููุง ูู ุชูููู ููุฏุณ ุงูุชุจุฏูู ูู ุฃุณุฑุน ููุช ูููู ูุชูุตูู ุงููุถูููู ูุงุฌูุงุช ุฅุฏุงุฑุฉ ุงูุชุฎุฒูู ุจู. </p><br><p style=";text-align:right;direction:rtl">  1) ุงุชุตู ุจุงูููุชุงุญ ุงูุฑุฆูุณู ุ ูุงูุชูู ุฅูู ุงููุถุน ุงููููุฒ ุ ุซู ุงูุชูู ุฅูู ูุถุน ุงูุชูููู ููู ุจุฅุฌุฑุงุก ุงูุฅุนุฏุงุฏุงุช ุงูุฃุณุงุณูุฉ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุชูููู ุงูุชุจุฏูู ุงูุฃุณุงุณูุฉ:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs"> enable configure terminal hostname 2960X no service pad service timestamps debug datetime msec service timestamps log datetime localtime show-timezone msec no service password-encryption service sequence-numbers switch 1 priority 15 switch 2 priority 14 stack-mac persistent timer 0 clock timezone MSK 3 vtp mode transparent ip subnet-zero vlan 17 name Management vlan 32 name PROD vlan 33 name Interconnect vlan 34 name Test vlan 35 name Dev vlan 40 name Monitoring spanning-tree mode rapid-pvst spanning-tree etherchannel guard misconfig spanning-tree portfast bpduguard default spanning-tree extend system-id spanning-tree vlan 1-40 root primary spanning-tree loopguard default vlan internal allocation policy ascending port-channel load-balance src-dst-ip errdisable recovery cause loopback errdisable recovery cause bpduguard errdisable recovery interval 60 line con 0 session-timeout 60 exec-timeout 60 0 logging synchronous line vty 5 15 session-timeout 60 exec-timeout 60 0 logging synchronous ip http server ip http secure-server no vstack interface Vlan1 no ip address shutdown exit</code> </pre></div></div><br><p style=";text-align:right;direction:rtl">  ูููู ุจุญูุธ ุงูุชูููู ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ <strong>wr mem</strong> ูุฅุนุงุฏุฉ ุชุญููู ููุฏุณ ุงูุชุจุฏูู ุจุฃูุฑ <strong>reload</strong> ุนูู ุงูููุชุงุญ ุงูุฑุฆูุณู 1. </p><br><p style=";text-align:right;direction:rtl">  2) ูู ุจุชูููู ููุงูุฐ ุงูุดุจูุฉ ูููุญูู ูู ูุถุน ุงููุตูู ูู VLAN 17 ุ ูุชูุตูู ูุงุฌูุงุช ุฅุฏุงุฑุฉ ุงูุชุฎุฒูู ูุฎูุงุฏู iDRAC. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฅุนุฏุงุฏุงุช ูููุฐ ุงูุฅุฏุงุฑุฉ:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">interface GigabitEthernet1/0/5 description iDRAC - host1 switchport access vlan 17 switchport mode access spanning-tree portfast edge interface GigabitEthernet1/0/6 description Storage1 - Cntr0/Eth0 switchport access vlan 17 switchport mode access spanning-tree portfast edge interface GigabitEthernet2/0/5 description iDRAC - host2 switchport access vlan 17 switchport mode access spanning-tree portfast edge interface GigabitEthernet2/0/6 description Storage1 โ Cntr1/Eth0 switchport access vlan 17 switchport mode access spanning-tree portfast edge exit</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  3) ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงูููุฏุณ ุ ุชุญูู ูู ุฃูู ูุนูู ุจุดูู ุตุญูุญ: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุชุญูู ูู ุนูู ุงูููุฏุณ:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">2960X#show switch stack-ring speed Stack Ring Speed : 20G Stack Ring Configuration: Full Stack Ring Protocol : FlexStack 2960X#show switch stack-ports Switch # Port 1 Port 2 -------- ------ ------ 1 Ok Ok 2 Ok Ok 2960X#show switch neighbors Switch # Port 1 Port 2 -------- ------ ------ 1 2 2 2 1 1 2960X#show switch detail Switch/Stack Mac Address : 0cd0.f8e4. Mac persistency wait time: Indefinite H/W Current Switch# Role Mac Address Priority Version State ---------------------------------------------------------- *1 Master 0cd0.f8e4. 15 4 Ready 2 Member 0029.c251. 14 4 Ready Stack Port Status Neighbors Switch# Port 1 Port 2 Port 1 Port 2 -------------------------------------------------------- 1 Ok Ok 2 2 2 Ok Ok 1 1</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  4) ุชูููู SSH ุงููุตูู ุฅูู ุงูููุฏุณ 2960X </p><br><p style=";text-align:right;direction:rtl">  ูุฅุฏุงุฑุฉ ุงูููุฏุณ ุนู ุจุนุฏ ุนุจุฑ SSH ุ ุณูุณุชุฎุฏู IP 172.20.1.10 ุงูุฐู ุชู ุชููููู ุนูู SVI (ูุงุฌูุฉ ุงูุชุจุฏูู ุงูุงูุชุฑุงุถูุฉ) <strong>VLAN17</strong> . </p><br><p style=";text-align:right;direction:rtl">  ุนูู ุงูุฑุบู ูู ุฃูู ูู ุงููุณุชุญุณู ุงุณุชุฎุฏุงู ูููุฐ ูุฎุตุต ุนูู ุงููุญูู ูุฃุบุฑุงุถ ุงูุฅุฏุงุฑุฉ ุ ุฅูุง ุฃููุง ูุณุฃูุฉ ุชูุถูู ุดุฎุตู ููุฑุตุฉ. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชูููู ูุตูู SSH ุฅูู ููุฏุณ ุงูุชุจุฏูู:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">ip default-gateway 172.20.1.2 interface vlan 17 ip address 172.20.1.10 255.255.255.0 hostname 2960X ip domain-name hw.home-lab.ru no ip domain-lookup clock set 12:47:04 06 Dec 2019 crypto key generate rsa ip ssh version 2 ip ssh time-out 90 line vty 0 4 session-timeout 60 exec-timeout 60 0 privilege level 15 logging synchronous transport input ssh line vty 5 15 session-timeout 60 exec-timeout 60 0 privilege level 15 logging synchronous transport input ssh aaa new-model aaa authentication login default local username cisco privilege 15 secret my_ssh_password</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูู ุจุชูููู ูููุฉ ูุฑูุฑ ููุฏุฎูู ุฅูู ุงููุถุน ุงููููุฒ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">enable secret *myenablepassword* service password-encryption</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุชูููู NTP: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">ntp server 85.21.78.8 prefer ntp server 89.221.207.113 ntp server 185.22.60.71 ntp server 192.36.143.130 ntp server 185.209.85.222 show ntp status show ntp associations show clock detail</code> </pre> <br><p style=";text-align:right;direction:rtl">  5) ุชูููู ูุงุฌูุงุช Etherchannel ุงูููุทููุฉ ูุงูููุงูุฐ ุงููุงุฏูุฉ ุงููุชุตูุฉ ุงููุถูููู.  ูุณูููุฉ ุงูุชูููู ุ ุณูุชู ุงูุณูุงุญ ูุฌููุน ุดุจูุงุช VLAN ุงููุชุงุญุฉ ุนูู ุฌููุน ุงููุงุฌูุงุช ุงูููุทููุฉ ุ ูููู ููุตู ุนุงุฏุฉ ุจุชูููู ูุง ุชุญุชุงุฌ ุฅููู ููุท: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชูููู ูุงุฌูุงุช Etherchannel:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">interface Port-channel1 description EtherChannel with Host1-management switchport trunk allowed vlan 10,17,30-40 switchport mode trunk spanning-tree portfast edge trunk interface Port-channel2 description EtherChannel with Host2-management switchport trunk allowed vlan 10,17,30-40 switchport mode trunk spanning-tree portfast edge trunk interface Port-channel3 description EtherChannel with Host1-VM switchport trunk allowed vlan 10,17,30-40 switchport mode trunk spanning-tree portfast edge trunk interface Port-channel4 description EtherChannel with Host2-VM switchport trunk allowed vlan 10,17,30-40 switchport mode trunk spanning-tree portfast edge trunk interface GigabitEthernet1/0/1 description Host1-management switchport trunk allowed vlan 10,17,30-40 switchport mode trunk channel-protocol lacp channel-group 1 mode active interface GigabitEthernet1/0/2 description Host2-management switchport trunk allowed vlan 10,17,30-40 switchport mode trunk channel-protocol lacp channel-group 2 mode active interface GigabitEthernet1/0/3 description Host1-VM switchport trunk allowed vlan 10,17,30-40 switchport mode trunk channel-protocol lacp channel-group 3 mode active interface GigabitEthernet1/0/4 description Host2-VM switchport trunk allowed vlan 10,17,30-40 switchport mode trunk channel-protocol lacp channel-group 4 mode active interface GigabitEthernet2/0/1 description Host1-management switchport trunk allowed vlan 10,17,30-40 switchport mode trunk channel-protocol lacp channel-group 1 mode active interface GigabitEthernet2/0/2 description Host2-management switchport trunk allowed vlan 10,17,30-40 switchport mode trunk channel-protocol lacp channel-group 2 mode active interface GigabitEthernet2/0/3 description Host1-VM switchport trunk allowed vlan 10,17,30-40 switchport mode trunk channel-protocol lacp channel-group 3 mode active interface GigabitEthernet2/0/4 description Host2-VM switchport trunk allowed vlan 10,17,30-40 switchport mode trunk channel-protocol lacp channel-group 4 mode active</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  <u>ุงูุชูููู ุงูุฃููู ููุงุฌูุงุช ุงูุดุจูุฉ ููุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ุนูู <strong>Host1</strong> ู <strong>Host2</strong></u> </p><br><p style=";text-align:right;direction:rtl">  ูุชุญูู ูู ุชููุฑ ุงููุญุฏุงุช ุงููุงุฒูุฉ ููุชุฑุงุจุท ูู ุงููุธุงู ุ ููุซุจุช ุงููุญุฏุฉ ุงูููุทูุฉ ูุฅุฏุงุฑุฉ ุงูุฌุณูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">modinfo bonding modinfo 8021q yum install bridge-utils</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชูููู ุงููุงุฌูุฉ ุงูููุทููุฉ BOND1 ููุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ ุนูู ุงูุฃุฌูุฒุฉ ุงููุถููุฉ ูุงููุงุฌูุงุช ุงููุงุฏูุฉ:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cat /etc/sysconfig/network-scripts/ifcfg-bond1 #DESCRIPTION - management DEVICE=bond1 NAME=bond1 TYPE=Bond IPV6INIT=no ONBOOT=yes USERCTL=no NM_CONTROLLED=no BOOTPROTO=none BONDING_OPTS='mode=4 lacp_rate=1 xmit_hash_policy=2' cat /etc/sysconfig/network-scripts/ifcfg-em2 #DESCRIPTION - management DEVICE=em2 TYPE=Ethernet BOOTPROTO=none ONBOOT=yes MASTER=bond1 SLAVE=yes USERCTL=no NM_CONTROLLED=no cat /etc/sysconfig/network-scripts/ifcfg-em3 #DESCRIPTION - management DEVICE=em3 TYPE=Ethernet BOOTPROTO=none ONBOOT=yes MASTER=bond1 SLAVE=yes USERCTL=no NM_CONTROLLED=no</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุงูุชูุงุก ูู ุงูุฅุนุฏุงุฏุงุช ุนูู ุงูููุฏุณ ูุงููุถูููู <strong>2960X</strong> ุ ูููู ุจุฅุนุงุฏุฉ ุชุดุบูู ุงูุดุจูุฉ ุนูู ุงููุถูููู ูุงูุชุญูู ูู ุงููุงุฌูุฉ ุงูููุทููุฉ. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนูู ุงููุถูู: </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">systemctl restart network cat /proc/net/bonding/bond1 Ethernet Channel Bonding Driver: v3.7.1 (April 27, 2011) Bonding Mode: IEEE 802.3ad Dynamic link aggregation Transmit Hash Policy: layer2+3 (2) MII Status: up MII Polling Interval (ms): 100 Up Delay (ms): 0 Down Delay (ms): 0 ... 802.3ad info LACP rate: fast Min links: 0 Aggregator selection policy (ad_select): stable System priority: 65535 ... Slave Interface: em2 MII Status: up Speed: 1000 Mbps Duplex: full ... Slave Interface: em3 MII Status: up Speed: 1000 Mbps Duplex: full</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุนูู <strong>ููุฏุณ</strong> ุงูุชุจุฏูู <strong>2960X</strong> : </li></ul><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">2960X#show lacp internal Flags: S - Device is requesting Slow LACPDUs F - Device is requesting Fast LACPDUs A - Device is in Active mode P - Device is in Passive mode Channel group 1 LACP port Admin Oper Port Port Port Flags State Priority Key Key Number State Gi1/0/1 SA bndl 32768 0x1 0x1 0x102 0x3D Gi2/0/1 SA bndl 32768 0x1 0x1 0x202 0x3D 2960X#sh etherchannel summary Flags: D - down P - bundled in port-channel I - stand-alone s - suspended H - Hot-standby (LACP only) R - Layer3 S - Layer2 U - in use N - not in use, no aggregation f - failed to allocate aggregator M - not in use, minimum links not met m - not in use, port not aggregated due to minimum links not met u - unsuitable for bundling w - waiting to be aggregated d - default port A - formed by Auto LAG Number of channel-groups in use: 11 Number of aggregators: 11 Group Port-channel Protocol Ports ------+-------------+-----------+----------------------------------------------- 1 Po1(SU) LACP Gi1/0/1(P) Gi2/0/1(P)</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงูุชูููู ุงูุฃููู ููุงุฌูุงุช ุงูุดุจูุฉ ูุฅุฏุงุฑุฉ ููุงุฑุฏ ูุธุงู ุงููุฌููุนุฉ ุนูู <strong>Host1</strong> ู <strong>Host2</strong> </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชูููู ุงููุงุฌูุฉ ุงูููุทููุฉ BOND1 ููุฅุฏุงุฑุฉ ูุงููุงุฌูุงุช ุงููุงุฏูุฉ ุนูู ุงููุถูููู:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cat /etc/sysconfig/network-scripts/ifcfg-bond0 #DESCRIPTION - management DEVICE=bond0 NAME=bond0 TYPE=Bond BONDING_MASTER=yes IPV6INIT=no ONBOOT=yes USERCTL=no NM_CONTROLLED=no BOOTPROTO=none BONDING_OPTS='mode=4 lacp_rate=1 xmit_hash_policy=2' cat /etc/sysconfig/network-scripts/ifcfg-em0 #DESCRIPTION - management DEVICE=em0 TYPE=Ethernet BOOTPROTO=none ONBOOT=yes MASTER=bond0 SLAVE=yes USERCTL=no NM_CONTROLLED=no cat /etc/sysconfig/network-scripts/ifcfg-em1 #DESCRIPTION - management DEVICE=em1 TYPE=Ethernet BOOTPROTO=none ONBOOT=yes MASTER=bond0 SLAVE=yes USERCTL=no NM_CONTROLLED=no</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุงูุชูุงุก ูู ุงูุฅุนุฏุงุฏุงุช ุนูู ุงูููุฏุณ ูุงููุถูููู <strong>2960X</strong> ุ ูููู ุจุฅุนุงุฏุฉ ุชุดุบูู ุงูุดุจูุฉ ุนูู ุงููุถูููู ูุงูุชุญูู ูู ุงููุงุฌูุฉ ุงูููุทููุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">systemctl restart network cat /proc/net/bonding/bond1 2960X#show lacp internal 2960X#sh etherchannel summary</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูููู ุจุชููุฆุฉ ูุงุฌูุฉ ุดุจูุฉ ุงูุชุญูู ุนูู ูู ูุถูู ูู <strong>VLAN 17</strong> ุ ููุฑุจุทูุง ุจุงููุงุฌูุฉ ุงูููุทููุฉ BOND1: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชูููู VLAN17 ุนูู Host1:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cat /etc/sysconfig/network-scripts/ifcfg-bond1.17 DEVICE=bond1.17 NAME=bond1-vlan17 BOOTPROTO=none ONBOOT=yes USERCTL=no NM_CONTROLLED=no VLAN=yes MTU=1500 IPV4_FAILURE_FATAL=yes IPV6INIT=no IPADDR=172.20.1.163 NETMASK=255.255.255.0 GATEWAY=172.20.1.2 DEFROUTE=yes DNS1=172.20.1.8 DNS2=172.20.1.9 ZONE=public</code> </pre> </div></div><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชูููู VLAN17 ุนูู Host2:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cat /etc/sysconfig/network-scripts/ifcfg-bond1.17 DEVICE=bond1.17 NAME=bond1-vlan17 BOOTPROTO=none ONBOOT=yes USERCTL=no NM_CONTROLLED=no VLAN=yes MTU=1500 IPV4_FAILURE_FATAL=yes IPV6INIT=no IPADDR=172.20.1.164 NETMASK=255.255.255.0 GATEWAY=172.20.1.2 DEFROUTE=yes DNS1=172.20.1.8 DNS2=172.20.1.9 ZONE=public</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ูุนูุฏ ุชุดุบูู ุงูุดุจูุฉ ุนูู ุงููุถูููู ููุชุญูู ูู ูุถูุญูุง ูููุง ุจูููุง. </p><br><p style=";text-align:right;direction:rtl">  ูููู ูุฐุง ุฅุนุฏุงุฏ ููุฏุณ ุงููุญูู Cisco 2960X ุ ูุฅุฐุง ูุงู ูู ุดูุก ูุฏ ุชู ุจุดูู ุตุญูุญ ุ ููุฏููุง ุงูุขู ุงุชุตุงู ุดุจูุฉ ูู ุฌููุน ุนูุงุตุฑ ุงูุจููุฉ ุงูุฃุณุงุณูุฉ ูุน ุจุนุถูุง ุงูุจุนุถ ุนูู ูุณุชูู L2. </p><br><h3 id="nastroyka-shd-dell-md3820f" style=";text-align:right;direction:rtl">  ูู ุจุชููุฆุฉ Dell MD3820f Storage </h3><br><p style=";text-align:right;direction:rtl">  ูุจู ุจุฏุก ุงูุนูู ุนูู ุฅุนุฏุงุฏ ูุธุงู ุงูุชุฎุฒูู ุ ูุฌุจ ุฃู ูููู ูุชุตูุงู ุจุงููุนู <strong>ุจูุฌููุนุฉ ุงููุญููุงุช</strong> Cisco <strong>2960X</strong> ุจูุงุณุทุฉ ูุงุฌูุงุช ุงูุฅุฏุงุฑุฉ ุ ููุฐูู <strong>ุงููุถูููู Host1</strong> ู <strong>Host2 ูู</strong> ุฎูุงู FC. </p><br><p style=";text-align:right;direction:rtl">  ุชู ุฅุนุทุงุก ุงููุฎุทุท ุงูุนุงู ูููููุฉ ุชูุตูู ุงูุชุฎุฒูู ุจููุฏุณ ุงูุชุจุฏูู ูู ุงููุตู ุงูุณุงุจู. </p><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุจุฏู ูุฎุทุท ุฑุจุท ุงูุชุฎุฒูู ุนูู FC ุจุงููุถูููู ููุง ููู: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/el/k8/5a/elk85aqc6ilmxeiowmh6acrkwri.jpeg"></p><br><p style=";text-align:right;direction:rtl">  ุฃุซูุงุก ุงูุงุชุตุงู ุ ูู ุงูุถุฑูุฑู ุชุณุฌูู ุนูุงููู WWPN ููุถููู FC HBA ุงููุชุตููู ุจููุงูุฐ FC ุนูู ูุธุงู ุงูุชุฎุฒูู - ุณูููู ุฐูู ุถุฑูุฑููุง ููุชูููู ุงููุงุญู ูุฑุจุท ุงููุถูููู ูุน LUNs ุนูู ูุธุงู ุงูุชุฎุฒูู. </p><br><p style=";text-align:right;direction:rtl">  ุนูู ูุญุทุฉ ุนูู ุงููุณุคูู ุ ูู ุจุชูุฒูู ูุชุซุจูุช ุงูุฃุฏุงุฉ ุงููุณุงุนุฏุฉ ูุฅุฏุงุฑุฉ ุงูุชุฎุฒูู Dell MD3820f - <strong>PowerVault Modular Disk Storage Manager</strong> ( <strong>MDSM</strong> ). <br>  ูุญู <strong>ูุชุตู</strong> ุจู ูู ุฎูุงู ุนูุงููู IP ุงูุงูุชุฑุงุถูุฉ ุงูุฎุงุตุฉ ุจู ุ ุซู ูููู ุจุชููุฆุฉ <strong>ุนูุงููููุง</strong> ูู <strong>VLAN17</strong> ููุชุญูู ูู ูุญุฏุงุช ุงูุชุญูู ุนุจุฑ TCP / IP: </p><br><p style=";text-align:right;direction:rtl">  <strong>ุงูุชุฎุฒูู 1</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">ControllerA IP - 172.20.1.13, MASK - 255.255.255.0, Gateway - 172.20.1.2 ControllerB IP - 172.20.1.14, MASK - 255.255.255.0, Gateway - 172.20.1.2</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุชุนููู ุงูุนูุงููู ุ ุงูุชูู ุฅูู ูุงุฌูุฉ ุฅุฏุงุฑุฉ ุงูุชุฎุฒูู ูุชุนููู ูููุฉ ูุฑูุฑ ุ ูุถุจุท ุงูููุช ุ ูุชุญุฏูุซ ุงูุจุฑูุงูุฌ ุงูุซุงุจุช ููุญุฏุงุช ุงูุชุญูู ูุงูุฃูุฑุงุต ุ ุฅุฐุง ูุฒู ุงูุฃูุฑ ุ ุฅูุฎ. <br>  ุชู ุชูุถูุญ ููููุฉ ุงูููุงู ุจุฐูู ูู <a href="https://www.dell.com/support/manuals/ru/ru/rubsdc/powervault-md3820f/mdseriesagpub/introduction%3Fguid%3Dguid-51208376-0df9-48a8-be66-63c1b06512ae%26lang%3Den-us">ุฏููู ุฅุฏุงุฑุฉ</a> ุงูุชุฎุฒูู. </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุงูุชูุงุก ูู ุงูุฅุนุฏุงุฏุงุช ุงููุฐููุฑุฉ ุฃุนูุงู ุ ุณูุญุชุงุฌ ุฅูู ุงูููุงู ุจุจุนุถ ุงูุฅุฌุฑุงุกุงุช ููุท: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุชูููู <strong>ูุนุฑูุงุช</strong> FC <strong>ุงููุถูู</strong> . </li><li style=";text-align:right;direction:rtl">  ูู ุจุฅูุดุงุก ูุฌููุนุฉ <strong>ูุถูู</strong> - ูุฌููุนุฉ <strong>ูุถูู</strong> ูุฃุถู ูุถููููุง ูู Dell ุฅูููุง. </li><li style=";text-align:right;direction:rtl">  ูู ุจุฅูุดุงุก ูุฌููุนุฉ ุฃูุฑุงุต ูุฃูุฑุงุต ุงูุชุฑุงุถูุฉ (ุฃู LUNs) ูููุง ุ ูุณูุชู ุชูุฏูููุง ุฅูู ุงููุถูููู. </li><li style=";text-align:right;direction:rtl">  ุชูููู ุงูุนุฑุถ ุงูุชูุฏููู ููุฃูุฑุงุต ุงูุธุงูุฑูุฉ (ุฃู LUNs) ูููุถูููู. </li></ol><br><p style=";text-align:right;direction:rtl">  ุชุชู ุฅุถุงูุฉ ูุถูููู ุฌุฏุฏ ููุนุฑูุงุช ุฑุจุท ูููุงูุฐ FC ุงููุถููุฉ ููู ูู ุฎูุงู ุงููุงุฆูุฉ - <strong>ุชุนูููุงุช ุงููุถูู</strong> -&gt; <strong>ุชุนุฑูู</strong> -&gt; <strong>ุงููุถูููู ...</strong> <br>  ูููู ุงูุนุซูุฑ ุนูู ุนูุงููู WWPN ููุถููู FC HBA ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู ุฎุงุฏู iDRAC. </p><br><p style=";text-align:right;direction:rtl">  ูุชูุฌุฉ ูุฐูู ุ ูุฌุจ ุฃู ูุญุตู ุนูู ุดูุก ูุซู ูุฐุง: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/p_/uk/u4/p_uku4o-ewgqpyi0xudxqjesfjc.png"></p><br><p style=";text-align:right;direction:rtl">  ุชุชู ุฅุถุงูุฉ ูุฌููุนุฉ ูุถูู ุฌุฏูุฏุฉ ููุถููุงุช ุฑุจุท ููุง ูู ุฎูุงู ุงููุงุฆูุฉ - <strong>ุชุนูููุงุช ุงููุถูู</strong> -&gt; <strong>ุชุนุฑูู</strong> -&gt; <strong>ูุถูู ูุฌููุนุฉ ...</strong> <br>  ูููุถูููู ุ ุญุฏุฏ ููุน ูุธุงู ุงูุชุดุบูู - <strong><em>Linux (DM-MP)</em></strong> . </p><br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฅูุดุงุก ุงููุฌููุนุฉ ุงููุถููุฉ ุ ูู ุฎูุงู ุนูุงูุฉ ุงูุชุจููุจ <strong>Storage &amp; Copy Services</strong> ุ ูู ุจุฅูุดุงุก ูุฌููุนุฉ ุฃูุฑุงุต - <strong>Disk Group</strong> ุ ูุน ุงุนุชูุงุฏ ุงูููุน ุนูู ูุชุทูุจุงุช ุชุญูู ุงูุฃุฎุทุงุก ุ ุนูู ุณุจูู ุงููุซุงู ุ RAID10 ุ ูููู ุงูุฃูุฑุงุต ุงูุงูุชุฑุงุถูุฉ ุจุงูุญุฌู ุงูุตุญูุญ: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ue/g2/kn/ueg2kn0m3usv1kb4tygvx2vajz0.png"></p><br><p style=";text-align:right;direction:rtl">  ูุฃุฎูุฑูุง ุ ุชุชูุซู ุงููุฑุญูุฉ ุงูุฃุฎูุฑุฉ ูู ุชูุฏูู ุงูุฃูุฑุงุต ุงูุงูุชุฑุงุถูุฉ (ุฃู LUNs) ูููุถูููู. <br>  ููููุงู ุจุฐูู ุ ูู ุฎูุงู ุงููุงุฆูุฉ - <strong>ุชุนูููุงุช ุงููุถูู</strong> -&gt; <strong>ุชุนููู Lun</strong> -&gt; <strong>ุฅุถุงูุฉ ...</strong> ูุฌุนู ุฑุจุท ุงูุฃูุฑุงุต ุงูุงูุชุฑุงุถูุฉ ูููุถูููู ุ ูุน ุชุฎุตูุต ุฃุฑูุงู ููู. </p><br><p style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ูุชุญูู ูู ุดูุก ููุง ูู ููุทุฉ ุงูุดุงุดุฉ ูุฐู: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/db/a-/xq/dba-xqbacgrjxrutupvhvmua7ro.png"></p><br><p style=";text-align:right;direction:rtl">  ููุฏ ุงูุชูููุง ูู ุชูููู ุฃูุธูุฉ ุงูุชุฎุฒูู ุ ูุฅุฐุง ูุงู ูู ุดูุก ูุฏ ุชู ุจุดูู ุตุญูุญ ุ ุนูุฏูุง ูุฌุจ ุนูู ุงููุถูููู ุฑุคูุฉ LUNs ุงูููุฏูุฉ ููู ูู ุฎูุงู FC HBAs ุงูุฎุงุตุฉ ุจูู. <br>  ุงุฌุนู ุงููุธุงู ูููู ุจุชุญุฏูุซ ุงููุนูููุงุช ุงูุฎุงุตุฉ ุจูุญุฑูุงุช ุงูุฃูุฑุงุต ุงููุนููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">ls -la /sys/class/scsi_host/ echo "- - -" &gt; /sys/class/scsi_host/host[0-9]/scan</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฑู ุฃู ุงูุฃุฌูุฒุฉ ูุฑุฆูุฉ ุนูู ุฎูุงุฏููุง:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cat /proc/scsi/scsi Attached devices: Host: scsi0 Channel: 02 Id: 00 Lun: 00 Vendor: DELL Model: PERC H330 Mini Rev: 4.29 Type: Direct-Access ANSI SCSI revision: 05 Host: scsi15 Channel: 00 Id: 00 Lun: 00 Vendor: DELL Model: MD38xxf Rev: 0825 Type: Direct-Access ANSI SCSI revision: 05 Host: scsi15 Channel: 00 Id: 00 Lun: 01 Vendor: DELL Model: MD38xxf Rev: 0825 Type: Direct-Access ANSI SCSI revision: 05 Host: scsi15 Channel: 00 Id: 00 Lun: 04 Vendor: DELL Model: MD38xxf Rev: 0825 Type: Direct-Access ANSI SCSI revision: 05 Host: scsi15 Channel: 00 Id: 00 Lun: 11 Vendor: DELL Model: MD38xxf Rev: 0825 Type: Direct-Access ANSI SCSI revision: 05 Host: scsi15 Channel: 00 Id: 00 Lun: 31 Vendor: DELL Model: Universal Xport Rev: 0825 Type: Direct-Access ANSI SCSI revision: 05 Host: scsi18 Channel: 00 Id: 00 Lun: 00 Vendor: DELL Model: MD38xxf Rev: 0825 Type: Direct-Access ANSI SCSI revision: 05 Host: scsi18 Channel: 00 Id: 00 Lun: 01 Vendor: DELL Model: MD38xxf Rev: 0825 Type: Direct-Access ANSI SCSI revision: 05 Host: scsi18 Channel: 00 Id: 00 Lun: 04 Vendor: DELL Model: MD38xxf Rev: 0825 Type: Direct-Access ANSI SCSI revision: 05 Host: scsi18 Channel: 00 Id: 00 Lun: 11 Vendor: DELL Model: MD38xxf Rev: 0825 Type: Direct-Access ANSI SCSI revision: 05 Host: scsi18 Channel: 00 Id: 00 Lun: 31 Vendor: DELL Model: Universal Xport Rev: 0825 Type: Direct-Access ANSI SCSI revision: 05 lsscsi [0:2:0:0] disk DELL PERC H330 Mini 4.29 /dev/sda [15:0:0:0] disk DELL MD38xxf 0825 - [15:0:0:1] disk DELL MD38xxf 0825 /dev/sdb [15:0:0:4] disk DELL MD38xxf 0825 /dev/sdc [15:0:0:11] disk DELL MD38xxf 0825 /dev/sdd [15:0:0:31] disk DELL Universal Xport 0825 - [18:0:0:0] disk DELL MD38xxf 0825 - [18:0:0:1] disk DELL MD38xxf 0825 /dev/sdi [18:0:0:4] disk DELL MD38xxf 0825 /dev/sdj [18:0:0:11] disk DELL MD38xxf 0825 /dev/sdk [18:0:0:31] disk DELL Universal Xport 0825 -</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ููููู ุฃูุถูุง ุชููุฆุฉ <strong>ุชุนุฏุฏ ุงููุณุงุฑุงุช</strong> ุนูู ุงููุถูููู ุ ูุนูู ุงูุฑุบู ูู ุฃูู ุนูุฏ ุชุซุจูุช vVirt ููููู ุงูููุงู ุจุฐูู ุจููุณู ุ ููู ุงูุฃูุถู ุฃู ุชุชุญูู ูู ุงููุงุฆุจ ููุฏูุงู. </p><br><p style=";text-align:right;direction:rtl">  <u>ุชุซุจูุช ูุชูููู DM Multipath</u> </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">yum install device-mapper-multipath mpathconf --enable --user_friendly_names y cat /etc/multipath.conf | egrep -v "^\s*(#|$)" defaults { user_friendly_names yes find_multipaths yes } blacklist { wwid 26353900f02796769 devnode "^(ram|raw|loop|fd|md|dm-|sr|scd|st)[0-9]*" devnode "^hd[az]" }</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ุจุชุซุจูุช ุฎุฏูุฉ MP ูู ุงูุชุดุบูู ุงูุชููุงุฆู ูุชุดุบูููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">systemctl enable multipathd &amp;&amp; systemctl restart multipathd</code> </pre> <br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงูุชุญูู ูู ุงููุนูููุงุช ุญูู ุงููุญุฏุงุช ุงููุญููุฉ ูุชุดุบูู MP:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">lsmod | grep dm_multipath dm_multipath 27792 6 dm_service_time dm_mod 124407 139 dm_multipath,dm_log,dm_mirror modinfo dm_multipath filename: /lib/modules/3.10.0-957.12.2.el7.x86_64/kernel/drivers/md/dm-multipath.ko.xz license: GPL author: Sistina Software &lt;dm-devel@redhat.com&gt; description: device-mapper multipath target retpoline: Y rhelversion: 7.6 srcversion: 985A03DCAF053D4910E53EE depends: dm-mod intree: Y vermagic: 3.10.0-957.12.2.el7.x86_64 SMP mod_unload modversions signer: CentOS Linux kernel signing key sig_key: A3:2D:39:46:F2:D3:58:EA:52:30:1F:63:37:8A:37:A5:54:03:00:45 sig_hashalgo: sha256</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ุฑุงุฌุน ููุฎุต ุชูููู ุงููุณุงุฑุงุช ุงููุชุนุฏุฏุฉ ุงูุญุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">mpathconf multipath is enabled find_multipaths is disabled user_friendly_names is disabled dm_multipath module is loaded multipathd is running</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุฅุถุงูุฉ LUN ุฌุฏูุฏ ุฅูู ูุญุฏุฉ ุงูุชุฎุฒูู ูุชูุฏููู ุฅูู ุงููุถูู ุ ูู ุงูุถุฑูุฑู ุฅุฌุฑุงุก ูุณุญ ุถูุฆู ุนููู ูุชุตู ุจูุถูู HBA. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">systemctl reload multipathd multipath -v2</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุฃุฎูุฑูุง ุ ูุชุญูู ููุนุฑูุฉ ูุง ุฅุฐุง ูุงูุช ุฌููุน LUNs ูุฏ ุชู ุชูุฏูููุง ุนูู ูุญุฏุฉ ุงูุชุฎุฒูู ูููุถูููู ุ ููุง ุฅุฐุง ูุงูุช ุฌููุนูุง ููุง ูุณุงุฑุงู. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุชุญูู ุงูุนูููุฉ ุงููุงุฆุจ:</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">multipath -ll 3600a098000e4b4b3000003175cec1840 dm-2 DELL ,MD38xxf size=2.0T features='3 queue_if_no_path pg_init_retries 50' hwhandler='1 rdac' wp=rw |-+- policy='service-time 0' prio=14 status=active | `- 15:0:0:1 sdb 8:16 active ready running `-+- policy='service-time 0' prio=9 status=enabled `- 18:0:0:1 sdi 8:128 active ready running 3600a098000e4b48f000002ab5cec1921 dm-6 DELL ,MD38xxf size=10T features='3 queue_if_no_path pg_init_retries 50' hwhandler='1 rdac' wp=rw |-+- policy='service-time 0' prio=14 status=active | `- 18:0:0:11 sdk 8:160 active ready running `-+- policy='service-time 0' prio=9 status=enabled `- 15:0:0:11 sdd 8:48 active ready running 3600a098000e4b4b3000003c95d171065 dm-3 DELL ,MD38xxf size=150G features='3 queue_if_no_path pg_init_retries 50' hwhandler='1 rdac' wp=rw |-+- policy='service-time 0' prio=14 status=active | `- 15:0:0:4 sdc 8:32 active ready running `-+- policy='service-time 0' prio=9 status=enabled `- 18:0:0:4 sdj 8:144 active ready running</code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  ููุง ุชุฑูู ุ ูุฅู ุงูุฃูุฑุงุต ุงูุงูุชุฑุงุถูุฉ ุงูุซูุงุซุฉ ุนูู ูุธุงู ุงูุชุฎุฒูู ูุฑุฆูุฉ ุจุทุฑููุชูู.  ูุจุงูุชุงูู ุ ุชู ุงูุงูุชูุงุก ูู ุฌููุน ุงูุฃุนูุงู ุงูุชุญุถูุฑูุฉ ุ ููุง ูุนูู ุฃูู ูููููุง ุงููุถู ูุฏูุง ูู ุงูุฌุฒุก ุงูุฑุฆูุณู - ุฅูุดุงุก ูุฌููุนุฉ vVirt ุ ูุงูุชู ุณูุชู ููุงูุดุชูุง ูู ุงูููุงูุฉ ุงูุชุงููุฉ. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar483980/">https://habr.com/ru/post/ar483980/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar483964/index.html">ูุง ุชุฎุงููุง ูู JSON ุฃู ุฃูู ุชุทุจูู ููุงุฌูุฉ ุจุฑูุฌุฉ ุงูุชุทุจููุงุช</a></li>
<li><a href="../ar483972/index.html">ููููุฉ ุงุณุชุฎุฏุงู Quora ููุชุฑููุฌ ูุนููู</a></li>
<li><a href="../ar483974/index.html">Ceph ุนุจุฑ iSCSI - ุฃู ุงูุชุฒูุฌ ุฃุซูุงุก ุงููููู ูู ุฃุฑุฌูุญุฉ</a></li>
<li><a href="../ar483976/index.html">2020 ุงูุฃูู ุงูุณูุจุฑุงูู ูุงูุชูุฏูุฏุงุช: ูุง ููุชุธุฑูุง ุจุนุฏ ุงูุฃุนูุงุฏ</a></li>
<li><a href="../ar483978/index.html">ููู ููููู ุชุทููุฑ ุชุทุจููุงุช ุงูููุจ ุงูุญุฏูุซุฉ ูู ุนุงู 2020</a></li>
<li><a href="../ar483986/index.html">ุงูุณูุทุฑุฉ ุนูู ุฃููุงุฑ ุงูุฑูุจูุช ูุน Emotiv ุงูุณุงูุช</a></li>
<li><a href="../ar483988/index.html">MicroSPA ุ ุฃู ููููุฉ ุงุฎุชุฑุงุน ุนุฌูุฉ ูุฑุจุนุฉ</a></li>
<li><a href="../ar483992/index.html">ููุงุฐุง ุชุฃูู ุจุนุถ ุงูููุงูุจ ุณูุงุกูุงุ</a></li>
<li><a href="../ar483994/index.html">ููู ุชูููููุฌูุง ุงููุนูููุงุช ุนูู ูุชู ูุฎุช. ูู ุงูุณููุฏ ุฅูู ุฅุณุจุงููุง</a></li>
<li><a href="../ar484004/index.html">ุชุถููู ุงูุชุบุฑูุฏุฉPythonetc ุฏูุณูุจุฑ 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>