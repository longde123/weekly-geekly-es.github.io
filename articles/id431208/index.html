<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸˆ ğŸ–ğŸ¼ ğŸ« Memecah melalui mata seorang pemula: bagaimana kami melakukan sistem persediaan penyimpanan ğŸ¤¹ ğŸ¬ ğŸŒ¤ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Baru-baru ini, seorang pelanggan meminta kami untuk menerapkan sistem akuntansi kapasitas disk. Tugasnya adalah untuk menggabungkan informasi dari leb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Memecah melalui mata seorang pemula: bagaimana kami melakukan sistem persediaan penyimpanan</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jetinfosystems/blog/431208/"><img src="https://habrastorage.org/getpro/habr/post_images/d3c/c4f/709/d3cc4f70901c0d843b762341460437d1.png"><br><br>  Baru-baru ini, seorang pelanggan meminta kami untuk menerapkan sistem akuntansi kapasitas disk.  Tugasnya adalah untuk menggabungkan informasi dari lebih dari tujuh puluh array disk dari vendor yang berbeda, dari switch SAN dan host VMware ESX.  Kemudian data perlu disistematisasi, dianalisis, dan dapat ditampilkan pada dasbor dan berbagai laporan, misalnya, tentang volume ruang disk yang bebas dan ditempati di semua atau secara terpisah array yang diambil. <br><br>  Kami memutuskan untuk mengimplementasikan proyek menggunakan sistem analisis operasional - Splunk. <br><a name="habracut"></a><br><h2>  Mengapa splunk </h2><br>  Splunk sangat kuat dalam memvisualisasikan data yang dikumpulkannya.  Ini memungkinkan Anda membuat laporan interaktif - dasbor - diperbarui secara real time.  Kami menampilkan informasi tentang total ruang disk pada mereka, segera menampilkan semua array dengan kemampuan untuk mengurutkan berdasarkan filter yang berbeda, misalnya, berdasarkan kapasitas.  Dengan mengklik pada array, kami segera mendapatkan informasi tentang semua koneksi.  Di panel terpisah, Anda dapat memasukkan nama mesin virtual dan melihat host ESX yang digunakannya, dari array mana ia menerima data dan parameter lainnya. <br><br>  Menurut pendapat saya, sejauh ini Splunk tidak memiliki analog yang akan bekerja dengan sistem penyimpanan apa pun di luar kotak.  Beberapa tahun yang lalu, CommandCentral berbayar muncul, tetapi tidak memiliki fleksibilitas yang diperlukan, tidak tahu bagaimana menghasilkan laporan yang sewenang-wenang (dalam versi pertama laporan tidak ada sama sekali) dan dengan visualisasi lumpuh.  Secara umum, ini bukan alat untuk inventaris, tetapi untuk memantau dan mengendalikan status sistem.  Untuk memenuhi tugas yang ditetapkan oleh pelanggan, itu harus disempurnakan untuk waktu yang lama dan mahal. <br><br>  Pada saat yang sama, Splunk memiliki kemampuan tampilan informasi yang mengesankan: grafik dapat diatur secara bebas di antara mereka sendiri, memantau status semua sistem dalam mode jendela tunggal dan, dengan demikian, menyederhanakan pemeliharaannya.  Untuk yang lainnya - untuk tugas kami, kami menggunakan versi gratis. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/266/ee4/c78/266ee4c78b67d3bd6fa4dd887359a818.png"><br><br><h2>  Apa yang kamu lakukan </h2><br>  Hingga saat ini, tim kami tidak memiliki pengalaman dengan Splunk.  Untungnya, sistem ini ternyata ramah dan intuitif, dan solusi untuk masalah yang muncul dengan mudah ditemukan menggunakan bantuan reguler atau di mesin pencari. <br><br>  Splunk telah membangun sejumlah alat yang kami butuhkan.  Sebagai contoh, sistem memungkinkan Anda untuk menggabungkan data dari berbagai sumber untuk bidang apa pun melalui apa yang disebut Pencarian (direktori).  Jadi, dalam satu tabel, host ESX ditampilkan sebagai IP, di yang lain - sebagai nama DNS.  Pada awalnya, kami ingin membuat Pencarian buatan sendiri dan menggunakan utilitas nslookup untuk memilih catatan DNS dan mengumpulkan tabel, tetapi ternyata Splunk memiliki direktori yang membandingkan DNS lebih dari IP dan sebaliknya.  Pencarian bawaan ini tidak harus dikonfigurasi, itu sendiri mengekstrak data tentang server DNS dari pengaturan sistem, dan tidak masalah apakah itu Windows atau Linux, dan data pada catatan DNS selalu up to date. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/539/784/163/539784163408c3d1fb664d273651354c.png"><br><br>  Salah satu skenario menarik yang diimplementasikan dengan Splunk adalah perubahan kontrol (RFC) dalam sistem.  Misalnya, seorang manajer RFC menerima permintaan dari seorang insinyur untuk melayani salah satu sakelar SAN.  Dia memasukkan nama sakelar ke Splunk dan melihat penyimpanan mana yang terhubung dengannya dan server mana yang menerima data dari penyimpanan ini.  Pada saat yang sama, manajer melihat rencana kerja yang ditulis oleh insinyur dan dapat mengevaluasi bagaimana menonaktifkan sakelar ini selama pemeliharaan akan memengaruhi kinerja array dan server. <br><br>  Kami mengatur pemuatan harian informasi tentang menghubungkan semua sakelar dan array ke Splunk.  Pelanggan puas dengan tingkat pembaruan ini.  Dia sudah memiliki alat pemantauan Stor2RRD, tetapi dia tidak tahu bagaimana menggabungkan data dari berbagai sumber dan memvisualisasikannya.  Oleh karena itu, kami mengonfigurasi sistem akuisisi data di Splunk sebagai berikut: <br><br><ol><li>  Kami menerima informasi tentang penyimpanan dari Stor2RRD; </li><li>  Dari sakelar kami menerima informasi tentang SAN; </li><li>  Melalui vCenter menggunakan skrip PowerCLI kami mengumpulkan data dari host ESX. </li></ol><br>  Data yang diterima secara otomatis dibawa ke dalam satu bentuk, diproses dan ditampilkan dalam bentuk laporan yang diperlukan. <br><br><h2>  Kamu harus bertarung dengan apa? </h2><br>  Splunk adalah sistem yang kuat, tetapi ada tugas yang tidak dapat diselesaikan di luar kotak, dan untuk mengatasi beberapa masalah, kita membutuhkan pengetahuan mendalam tentang VMware. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a05/37c/6f6/a0537c6f60f84c056cf45f56b1f4907d.png"><br><br>  Misalnya, pelanggan menggunakan disk RDM yang dialokasikan langsung dan datastore virtual virtual untuk mesin virtual.  Kedua jenis drive ini perlu ditangani secara berbeda.  Pada awalnya kami memecahkan masalah sendiri, tetapi kemudian dihadapkan pada situasi di mana mesin virtual menerima kedua disk RAW dan yang virtual.  Ternyata kami mendapatkan bidang Path yang salah dalam laporan dari vCenter dan tautan yang salah ke array disk RAW.  Skema ini berfungsi dengan datastore biasa, tetapi tidak berfungsi dengan disk RAW.  Bagi mereka, gunakan properti disk ID RAW, yang berisi atribut disk.  Saya harus beralih ke pakar VMware yang membuat ulang skrip sehingga akan menghitung array yang benar melalui RAW Disk ID. <br><br>  Selain itu, kami tidak segera belajar cara bekerja secara optimal dengan skrip PowerCLI, kemudian algoritme harus dikembangkan lebih lanjut.  Awalnya, skrip memproses data dari beberapa ribu mesin virtual selama tiga jam!  Setelah disempurnakan, durasi skrip dikurangi menjadi empat puluh menit. <br><br><h2>  Apa hasilnya? </h2><br>  Karena tidak memiliki pengalaman dengan Splunk, kami dengan cepat mengimplementasikan sistem untuk kapasitas disk akuntansi, yang menerima informasi dari berbagai sumber, mengkonsolidasikannya, dan menyediakan berbagai grafik yang nyaman dan intuitif.  Jika Anda belum pernah memilih atau membuat sistem seperti itu sebelumnya, maka Splunk adalah kandidat yang baik untuk peran ini.  Ini bekerja dengan cepat, mudah dikonfigurasi dan fleksibel dan tidak memerlukan pengetahuan khusus untuk menyelesaikan sebagian besar tugas. <br><br>  <i>Vladislav Semenov, Kepala Kelompok Arsitektur Sistem, Pusat Perancangan Kompleks Komputasi, Jet Infosystems</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id431208/">https://habr.com/ru/post/id431208/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id431196/index.html">Bagaimana Yandex.Taxi memprediksi waktu pengiriman mobil menggunakan pembelajaran mesin</a></li>
<li><a href="../id431198/index.html">Cara kerja operator</a></li>
<li><a href="../id431200/index.html">Godot: tentang masalah penggunaan reguler dari penganalisa kode statis</a></li>
<li><a href="../id431202/index.html">Debian dan Devuan bergabung untuk sysvinit</a></li>
<li><a href="../id431204/index.html">Backdoor di salah satu dependensi pustaka EventStream</a></li>
<li><a href="../id431210/index.html">Mitap Kedua Menulis Dokumen Moskow. House Techwriters: Jangan Lupa Kami Ada</a></li>
<li><a href="../id431212/index.html">Caching Pagination di Android</a></li>
<li><a href="../id431216/index.html">Ulasan Telepon IP Snom D345</a></li>
<li><a href="../id431218/index.html">Bagaimana saya membuat game komik Lovecraft</a></li>
<li><a href="../id431220/index.html">Pandangan seorang ahli biologi tentang akar penuaan kita</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>