<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåï ‚òÉÔ∏è üï∂Ô∏è Das Buch "Python. Expresskurs. 3rd ed. ‚úãüèª ü§¥ ü¶Ä</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo habrozhiteli! Dieses Buch richtet sich an Personen, die bereits Erfahrung in einer oder mehreren Programmiersprachen haben und die Grundlagen vo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Das Buch "Python. Expresskurs. 3rd ed.</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/437050/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/sv/bp/53/svbp53i5ti4wyewcggfithv859w.jpeg" align="left" alt="Bild"></a>  Hallo habrozhiteli!  Dieses Buch richtet sich an Personen, die bereits Erfahrung in einer oder mehreren Programmiersprachen haben und die Grundlagen von Python 3 so schnell und einfach wie m√∂glich erlernen m√∂chten. Es wird davon ausgegangen, dass der Leser bereits mit Kontrollstrukturen, OOP, Dateibehandlung, Ausnahmebehandlung usw. vertraut ist. Das Buch ist auch n√ºtzlich f√ºr Benutzer fr√ºherer Python-Versionen, die eine kompakte Python 3.1-Referenz ben√∂tigen. <br><br>  Wir laden Sie ein, den Auszug "Verarbeiten von Datendateien" zu lesen. <br><a name="habracut"></a><br><h3>  Wie man ein Buch benutzt </h3><br>  Teil 1 enth√§lt allgemeine Informationen zu Python.  Sie erfahren, wie Sie Python herunterladen und auf Ihrem System installieren.  Es bietet auch einen allgemeinen √úberblick √ºber die Sprache, der vor allem f√ºr erfahrene Programmierer n√ºtzlich ist, die ein umfassendes Verst√§ndnis von Python w√ºnschen. <br><br>  Teil 2 enth√§lt das Hauptmaterial des Buches.  Es werden die Zutaten erl√§utert, die erforderlich sind, um praktische Kenntnisse in der Verwendung von Python als universelle Programmiersprache zu erwerben.  Das Material der Kapitel wurde so geplant, dass Leser, die gerade erst anfangen, Python zu lernen, nacheinander vorankommen und die wichtigsten Punkte der Sprache beherrschen k√∂nnen.  Dieser Teil enth√§lt auch komplexere Abschnitte, sodass Sie zur√ºckkehren und alle erforderlichen Informationen zu einem bestimmten Design oder Thema an einem Ort finden k√∂nnen. <br><br>  Teil 3 stellt die erweiterten Funktionen von Python vor - Sprachelemente, die nicht unbedingt erforderlich sind, aber f√ºr jeden ernsthaften Python-Programmierer n√ºtzlich sein werden. <br><br>  Teil 4 konzentriert sich auf spezielle Themen, die √ºber die einfache Syntax der Sprache hinausgehen.  Sie k√∂nnen diese Kapitel lesen oder √ºberspringen, je nach Ihren Anforderungen. <br><br>  Python-Programmieranf√§nger werden aufgefordert, mit Kapitel 3 zu beginnen, um einen allgemeinen Eindruck zu hinterlassen, und dann zu den Kapiteln von Interesse in Teil 2 √ºberzugehen. F√ºhren Sie interaktive Beispiele ein, um Konzepte sofort zu vertiefen.  Sie k√∂nnen auch √ºber die im Text angegebenen Beispiele hinausgehen und nach Antworten auf noch unklare Fragen suchen.  Dieser Ansatz erh√∂ht die Lerngeschwindigkeit und vertieft das Verst√§ndnis.  Wenn Sie mit OOP noch nicht vertraut sind oder es f√ºr Ihre Anwendung nicht erforderlich ist, k√∂nnen Sie den gr√∂√üten Teil von Kapitel 15 √ºberspringen. <br><br>  Leser, die bereits mit Python vertraut sind, sollten ebenfalls mit Kapitel 3 beginnen. Es bietet eine gute Einf√ºhrung und eine Beschreibung der Unterschiede zwischen Python 3 und den bekannteren Versionen.  Sie k√∂nnen damit auch bewerten, ob Sie bereit sind, mit den komplexeren Kapiteln der Teile 3 und 4 dieses Buches fortzufahren. <br><br>  M√∂glicherweise k√∂nnen einige Leser, die keine Erfahrung mit Python haben, aber √ºber ausreichende Erfahrung in anderen Programmiersprachen verf√ºgen, die meisten erforderlichen Informationen erhalten, indem sie Kapitel 3 lesen und die Python-Standardbibliotheksmodule (Kapitel 19) und das Referenzhandbuch f√ºr die Python-Bibliothek in der Python-Dokumentation lesen . <br><br><h3>  Auszug.  Datendateiverarbeitung </h3><br>  Die meisten Daten werden in Textdateien verteilt.  Dies kann entweder unstrukturierter Text (z. B. eine Sammlung von Nachrichten oder eine Sammlung literarischer Texte) oder strukturiertere Daten sein, bei denen jede Zeile ein Datensatz ist und die Felder durch ein spezielles Trennzeichen getrennt sind - ein Komma, ein Tabulatorzeichen oder eine vertikale Leiste (|).  Textdateien k√∂nnen sehr gro√ü sein.  Ein Datensatz kann zehn oder sogar Hunderte von Dateien belegen, und die darin enthaltenen Daten k√∂nnen unvollst√§ndig oder verzerrt sein.  Bei einer solchen Vielfalt werden Sie fast unweigerlich auf die Aufgabe sto√üen, Daten aus Textdateien zu lesen und zu verwenden.  In diesem Kapitel werden die grundlegenden Strategien zur L√∂sung dieses Problems in Python vorgestellt. <br><br><h3>  21.1.  Einf√ºhrung in ETL </h3><br>  Die Notwendigkeit, Daten aus Dateien zu extrahieren, zu analysieren, in ein praktisches Format zu konvertieren und dann etwas zu tun, erschien fast gleichzeitig mit Datendateien.  Dar√ºber hinaus gibt es f√ºr diesen Prozess sogar einen Standardbegriff: ETL (Extract-Transform-Load, dh ‚ÄûExtraktion - Transformation - Laden‚Äú).  Beim Abrufen wird eine Datenquelle gelesen und gegebenenfalls analysiert.  Die Konvertierung kann das Bereinigen und Normalisieren von Daten sowie das Kombinieren, Aufteilen und Reorganisieren der darin enthaltenen Datens√§tze umfassen.  Schlie√ülich bedeutet Laden, die konvertierten Daten an einem neuen Ort (in einer anderen Datei oder Datenbank) zu speichern.  In diesem Kapitel werden die Grundlagen der Implementierung einer ETL in Python erl√§utert, von Textdatendateien bis zum Speichern konvertierter Daten in anderen Dateien.  Weitere strukturierte Datendateien werden in Kapitel 22 und die Speicherung von Informationen in einer Datenbank in Kapitel 23 erl√§utert. <br><br><h3>  21.2.  Textdateien lesen </h3><br>  Die erste Komponente der ETL - Extraktion - umfasst das √ñffnen einer Datei und das Lesen ihres Inhalts.  Auf den ersten Blick klingt es einfach, aber auch hier k√∂nnen Probleme auftreten - zum Beispiel die Dateigr√∂√üe.  Wenn die Datei zu gro√ü ist, um in den Speicher zu passen, muss der Code so strukturiert sein, dass er mit kleineren Segmenten der Datei (m√∂glicherweise einer Zeile) funktioniert. <br><br><h3>  21.2.1.  Textcodierung: ASCII, Unicode und andere </h3><br>  Ein weiteres m√∂gliches Problem ist die Codierung.  Dieses Kapitel widmet sich der Arbeit mit Textdateien. Tats√§chlich wird ein gro√üer Teil der in der realen Welt √ºbertragenen Daten in Textdateien gespeichert.  Die genaue Art des Textes kann jedoch je nach Anwendung, Benutzer und nat√ºrlich Land variieren. <br><br>  Manchmal enth√§lt der Text Informationen in ASCII-Codierung, einschlie√ülich 128 Zeichen, von denen nur 95 als druckbar eingestuft sind.  Gl√ºcklicherweise ist die ASCII-Codierung das "am wenigsten verbreitete Vielfache" der meisten Daten√ºbertragungssituationen.  Andererseits kann es die Komplexit√§t der zahlreichen Alphabete und Schriftsysteme, die auf der Welt existieren, nicht bew√§ltigen.  Das Lesen von Dateien in ASCII-Codierung f√ºhrt mit ziemlicher Sicherheit dazu, dass beim Lesen nicht unterst√ºtzter Zeichen, sei es Deutsch √º, Portugiesisch √ß oder fast jedes Zeichen aus einer anderen Sprache als Englisch, Probleme auftreten und Fehler auftreten. <br><br>  Diese Fehler treten auf, weil ASCII 7-Bit-Werte verwendet, w√§hrend Bytes in einer typischen Datei aus 8 Bit bestehen, wodurch 256 m√∂gliche Werte anstelle von 128 f√ºr 7-Bit-Werte dargestellt werden k√∂nnen.  Diese zus√§tzlichen Codes werden normalerweise zum Speichern zus√§tzlicher Werte verwendet - von erweiterten Satzzeichen (z. B. mittleren und kurzen Strichen) bis zu verschiedenen Zeichen (Marke, Copyright-Zeichen und Gradzeichen) und Versionen von alphabetischen Zeichen mit diakritischen Zeichen.  Es gab immer ein Problem: Beim Lesen einer Textdatei konnte ein Zeichen auftreten, das √ºber den ASCII-Bereich von 128 Zeichen hinausging, und Sie konnten nicht sicher sein, welches Zeichen codiert war.  Angenommen, Sie sto√üen auf ein Zeichen mit dem Code 214. Was ist das?  Eine Teilungsmarke, der Buchstabe √ñ oder sonst etwas?  Ohne den Quellcode, der diese Datei erstellt hat, ist es unm√∂glich, dies herauszufinden. <br><br><h3>  Unicode und UTF-8 </h3><br>  Um diese Mehrdeutigkeit zu beseitigen, k√∂nnen Sie Unicode verwenden.  Die Unicode-Codierung mit der Bezeichnung UTF-8 unterst√ºtzt grundlegende ASCII-Zeichen ohne √Ñnderungen, erm√∂glicht jedoch auch eine nahezu unbegrenzte Anzahl anderer Zeichen und Zeichen aus dem Unicode-Standard.  Aufgrund seiner Flexibilit√§t wird UTF-8 in mehr als 85% der Webseiten verwendet, die zum Zeitpunkt dieses Schreibens existierten.  Dies bedeutet, dass Sie sich beim Lesen von Textdateien am besten auf UTF-8 konzentrieren sollten.  Wenn die Dateien nur ASCII-Zeichen enthalten, werden sie korrekt gelesen. Sie sind jedoch auch versichert, falls andere Zeichen in UTF-8 codiert sind.  Gl√ºcklicherweise unterst√ºtzt der Python 3-String-Datentyp standardm√§√üig Unicode. <br><br>  Selbst mit Unicode sind Situationen m√∂glich, in denen Werte im Text angezeigt werden, die nicht erfolgreich dekodiert werden k√∂nnen.  Die √ñffnungsfunktion in Python erh√§lt einen zus√§tzlichen Fehlerparameter, der bestimmt, wie mit Codierungsfehlern beim Lesen oder Schreiben von Dateien umgegangen wird.  Der Standardwert ist 'strict', mit dem jedes Mal ein Fehler ausgel√∂st wird, wenn ein Codierungsfehler erkannt wird.  Andere n√ºtzliche Werte sind 'ignorieren' (√ºberspringen Sie das Zeichen, das den Fehler verursacht hat);  'ersetzen' (ein Zeichen wird normalerweise durch einen speziellen Marker ersetzt?);  'backslashreplace' (das Zeichen wird durch die Escape-Sequenz durch \ ersetzt) ‚Äã‚Äãund 'surrogateescape' (das Eindringlingszeichen wird beim Lesen in einen privaten Unicode-Codepunkt konvertiert und beim Schreiben zur√ºck in die urspr√ºngliche Byte-Sequenz).  Die Wahl der Methode zur Verarbeitung oder Behebung von Codierungsfehlern h√§ngt von der jeweiligen Situation ab. <br><br>  Betrachten Sie ein kurzes Beispiel einer Datei mit einem ung√ºltigen UTF-8-Zeichen und sehen Sie, wie dieses Zeichen in verschiedenen Modi verarbeitet wird.  Schreiben Sie zuerst die Datei im Byte- und Bin√§rmodus: <br><br><pre><code class="plaintext hljs">&gt;&gt;&gt; open('test.txt', 'wb').write(bytes([65, 66, 67, 255, 192,193]))</code> </pre> <br>  Als Ergebnis des Befehls wird eine Datei aus den Zeichen "ABC" erstellt, gefolgt von drei Zeichen, die nicht in ASCII enthalten sind. Diese k√∂nnen je nach verwendeter Codierungsmethode unterschiedlich angezeigt werden.  Wenn Sie die Datei mit vim anzeigen, sieht das Ergebnis folgenderma√üen aus: <br><br><pre> <code class="plaintext hljs">ABC√ø√Ä√Å ~</code> </pre> <br><br>  Versuchen Sie beim Erstellen der Datei, sie im standardm√§√üigen strengen Fehlerbehandlungsmodus zu lesen: <br><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; x = open('test.txt').read() Traceback (most recent call last): File "&lt;stdin&gt;", line 1, in &lt;module&gt; File "/usr/local/lib/python3.6/codecs.py", line 321, in decode (result, consumed) = self._buffer_decode(data, self.errors, final) UnicodeDecodeError: 'utf-8' codec can't decode byte 0xff in position 3: invalid start byte</code> </pre> <br><br>  Das vierte Byte mit dem Wert 255 ist an dieser Position kein g√ºltiges UTF-8-Zeichen, daher tritt im "strengen" Modus eine Ausnahme auf.  Lassen Sie uns nun sehen, wie andere Fehlerbehandlungsmodi mit derselben Datei umgehen, ohne zu vergessen, dass die letzten drei Zeichen einen Fehler ausl√∂sen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rg/k8/kr/rgk8krlwwnpj47drpjqe8cp_pii.png" alt="Bild"></div><br>  Wenn Sie m√∂chten, dass die problematischen Zeichen einfach verschwinden, verwenden Sie den Modus "Ignorieren".  Der Ersetzungsmodus markiert nur die Positionen ung√ºltiger Zeichen, w√§hrend andere Modi anders versuchen, ung√ºltige Zeichen ohne Interpretation zu speichern. <br><br><h3>  21.2.2.  Unstrukturierter Text </h3><br>  Unstrukturierte Textdateien werden am einfachsten gelesen, verursachen jedoch auch die meisten Probleme beim Extrahieren von Informationen.  Die Verarbeitung von unstrukturiertem Text kann stark variieren, abh√§ngig von der Art des Textes und dem, was Sie damit tun werden. Eine ausf√ºhrliche Er√∂rterung der Textverarbeitung w√ºrde daher den Rahmen des Buches sprengen.  Ein kurzes Beispiel soll jedoch einige grundlegende Probleme aufzeigen und die Grundlage f√ºr die Er√∂rterung von Dateien mit strukturierten Textdaten legen. <br><br>  Eines der einfachsten Probleme ist die Auswahl der logischen Basiseinheit in der Datei.  Wenn Sie eine Sammlung von Tausenden von Twitter-Nachrichten, Moby Dick-Text oder eine Sammlung von Nachrichten verwenden, m√ºssen Sie diese irgendwie in Bl√∂cke aufteilen.  Bei Tweets kann jeder Block in einer Zeile platziert werden, und das Lesen und Verarbeiten jeder Zeile der Datei ist ganz einfach organisiert. <br><br>  Im Fall von Moby Dick und sogar einigen Neuigkeiten wird das Problem immer komplizierter.  Nat√ºrlich ist es normalerweise unerw√ºnscht, den Text des Romans und sogar den Text der Nachrichten als eine Einheit zu betrachten.  In diesem Fall m√ºssen Sie entscheiden, welche Bl√∂cke Sie ben√∂tigen, und dann eine Strategie zum Teilen der Datei in Bl√∂cke entwickeln.  M√∂glicherweise m√∂chten Sie den Text Absatz f√ºr Absatz bearbeiten.  In diesem Fall sollten Sie festlegen, wie die Aufteilung des Textes in Abs√§tze in der Datei organisiert ist, und den Code entsprechend schreiben.  Wenn die Abs√§tze mit den Zeilen einer Textdatei √ºbereinstimmen, ist dies nicht schwierig.  Oft besteht ein Absatz einer Textdatei jedoch aus mehreren Zeilen in einer Textdatei, und Sie m√ºssen hart arbeiten. <br><br>  Betrachten Sie nun einige Beispiele. <br><br><blockquote>  Nenn mich Ishmael.  Vor einigen Jahren - egal wie lange genau - <br>  Ich habe wenig oder gar kein Geld in meiner Handtasche und nichts Besonderes <br>  Um mich an Land zu interessieren, dachte ich, ich w√ºrde ein wenig segeln <br>  und sehen Sie den w√§ssrigen Teil der Welt.  Es ist ein Weg, den ich habe <br>  von der Milz zu vertreiben und den Kreislauf zu regulieren. <br>  Immer wenn ich mich √ºber den Mund grimmig f√ºhle; <br>  wann immer es ein feuchter, nieseliger November in meiner Seele ist;  wann immer ich <br>  finde mich unwillk√ºrlich vor Sarglagern pausieren, <br>  und die R√ºckseite jeder Beerdigung, die ich treffe, zur Sprache zu bringen; <br>  und besonders wenn meine Hypos so die Oberhand √ºber mich bekommen, <br>  dass es ein starkes moralisches Prinzip erfordert, um mich davon abzuhalten <br>  absichtlich auf die Stra√üe treten und methodisch klopfen <br>  Menschenh√ºte ab - dann halte ich es f√ºr h√∂chste Zeit, zur See zu fahren <br>  sobald ich kann.  Dies ist mein Ersatz f√ºr Pistole und Ball. <br>  Mit einem philosophischen Schwung wirft sich Cato auf sein Schwert; <br>  Ich gehe leise zum Schiff.  Daran ist nichts √úberraschendes. <br>  Wenn sie es nur w√ºssten, fast alle M√§nner in ihrem Abschluss, irgendwann <br>  oder andere, sch√§tzen fast die gleichen Gef√ºhle gegen√ºber <br>  der Ozean mit mir. <br><br>  Jetzt gibt es Ihre Inselstadt der Manhattoes, die von Kais umgeben ist <br>  als indische Inseln an Korallenriffen - der Handel umgibt sie mit ihrer Brandung. <br>  Rechts und links f√ºhren Sie die Stra√üen ins Wasser.  Es ist extrem in der Innenstadt <br>  ist die Batterie, in der dieser edle Maulwurf von Wellen gewaschen und gek√ºhlt wird <br>  durch die Brise, die einige Stunden zuvor au√üer Sichtweite des Landes war. <br>  Schauen Sie sich die Menge der Wassergucker dort an. </blockquote><br>  In diesem Beispiel (mit dem Anfang des Textes ‚ÄûMoby Dick‚Äú) werden Zeilen mehr oder weniger so unterbrochen, wie sie paginiert w√ºrden, und Abs√§tze werden durch eine einzelne leere Zeile angezeigt.  Wenn Sie jeden Absatz als Ganzes behandeln m√∂chten, m√ºssen Sie den Text in leere Zeilen aufteilen.  Gl√ºcklicherweise kann diese Aufgabe leicht mit der split () -Methode von Strings ausgef√ºhrt werden.  Jede neue Zeile im Text wird durch die Kombination "\ n" dargestellt.  Nat√ºrlich endet die letzte Textzeile jedes Absatzes mit einer neuen Zeile, und wenn die n√§chste Textzeile leer ist, folgt unmittelbar darauf die zweite neue Zeile: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lu/a1/qi/lua1qir3kpemtstjg37nvrzwws8.png" alt="Bild"></div><br>  Das Parsen von Text in Abs√§tze ist ein sehr einfacher Schritt bei der Verarbeitung von unstrukturiertem Text.  M√∂glicherweise m√ºssen Sie vor der weiteren Verarbeitung eine zus√§tzliche Normalisierung des Texts durchf√ºhren.  Angenommen, Sie m√∂chten die H√§ufigkeit des Auftretens jedes Wortes in einer Textdatei berechnen.  Wenn Sie die Datei einfach nach Auslassungen aufteilen, erhalten Sie eine Liste der W√∂rter in der Datei. Das genaue Z√§hlen der Vorkommen ist jedoch nicht so einfach, da dies, dies, dies.  und dies wird nicht das gleiche Wort sein.  Damit dieser Code ordnungsgem√§√ü funktioniert, muss der Text normalisiert werden, indem vor der Verarbeitung Satzzeichen entfernt und der gesamte Text in einen Fall konvertiert werden.  Im obigen Textbeispiel kann der Code zum Erstellen einer normalisierten Liste von W√∂rtern folgenderma√üen aussehen: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kz/ld/4z/kzld4zqrc9gggdkevqpurtln9z4.png" alt="Bild"></div><br><h3>  21.2.3.  Unstrukturierte begrenzte Dateien </h3><br>  Unstrukturierte Dateien werden sehr einfach gelesen, aber mangelnde Struktur ist auch ihr Nachteil.  Es ist oft bequemer, eine Struktur f√ºr eine Datei zu definieren, um die Auswahl einzelner Werte zu vereinfachen.  In der einfachsten Version ist die Datei in Zeilen unterteilt, und jede Zeile enth√§lt ein Informationselement.  Dies kann beispielsweise eine Liste von Dateinamen f√ºr die Verarbeitung, eine Liste von Personennamen oder eine Reihe von Temperaturmesswerten von einem Fernsensor sein.  In solchen F√§llen ist die Analyse der Daten sehr einfach organisiert: Sie lesen die Zeile und konvertieren sie gegebenenfalls in den gew√ºnschten Typ.  Dies ist alles, was Sie brauchen, um die Datei einsatzbereit zu machen. <br><br>  Die Situation ist jedoch nicht so einfach.  H√§ufiger m√ºssen Sie mehrere miteinander verbundene Datenelemente gruppieren, und Ihr Code sollte sie zusammen lesen.  In der Regel werden dazu verwandte Daten in einer Zeile platziert und durch ein Sonderzeichen getrennt.  In diesem Fall werden beim Lesen jeder Zeile der Datei Sonderzeichen verwendet, um die Daten in Felder aufzuteilen und die Feldwerte zur weiteren Verarbeitung in Variablen zu speichern. <br><br>  Die folgende Datei enth√§lt Temperaturdaten in einem begrenzten Format: <br><br><pre> <code class="plaintext hljs">State|Month Day, Year Code|Avg Daily Max Air Temperature (F)|Record Count for Daily Max Air Temp (F) Illinois|1979/01/01|17.48|994 Illinois|1979/01/02|4.64|994 Illinois|1979/01/03|11.05|994 Illinois|1979/01/04|9.51|994 Illinois|1979/05/15|68.42|994 Illinois|1979/05/16|70.29|994 Illinois|1979/05/17|75.34|994 Illinois|1979/05/18|79.13|994 Illinois|1979/05/19|74.94|994</code> </pre> <br>  Die Daten in der Datei werden durch eine Pipe (|) getrennt.  In diesem Beispiel bestehen sie aus vier Feldern: Status, Beobachtungsdatum, durchschnittliche Maximaltemperatur und Anzahl der Stationen, die Daten liefern.  Andere Standardtrennzeichen sind ein Tabulatorzeichen und ein Komma.  Vielleicht wird das Komma am h√§ufigsten verwendet, aber das Trennzeichen kann ein beliebiges Zeichen sein, das in den Werten nicht vorkommt (dazu sp√§ter mehr).  Durch Kommas getrennte Daten sind so h√§ufig, dass dieses Format h√§ufig als CSV (Comma-Separated Values, dh durch Kommas getrennte Daten) bezeichnet wird. Dieser Dateityp wird mit der Erweiterung .csv als Formatattribut bereitgestellt. <br><br>  Unabh√§ngig davon, welches Zeichen als Trennzeichen verwendet wird, k√∂nnen Sie, wenn Sie wissen, was das Zeichen ist, Ihren eigenen Python-Code schreiben, um die Zeichenfolge in Felder aufzuteilen und als Liste zur√ºckzugeben.  Im vorherigen Fall k√∂nnen Sie die Methode split () verwenden, um die Zeichenfolge in eine Liste von Werten zu konvertieren: <br><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; line = "Illinois|1979/01/01|17.48|994" &gt;&gt;&gt; print(line.split("|")) ['Illinois', '1979/01/01', '17.48', '994']</code> </pre> <br>  Diese Technik ist sehr einfach zu implementieren, aber alle Werte werden in Zeichenfolgenform gespeichert, und dies kann f√ºr die nachfolgende Verarbeitung unpraktisch sein. <br><br><h3>  21.2.4.  CSV-Modul </h3><br>  Wenn Sie h√§ufig begrenzte Datendateien verarbeiten m√ºssen, sollten Sie sich das CSV-Modul und seine Funktionen genauer ansehen.  Als ich gebeten wurde, mein Lieblingsmodul aus der Python-Standardbibliothek zu benennen, habe ich das CSV-Modul mehrmals aufgerufen - nicht weil es spektakul√§r aussieht (es ist nicht so), sondern weil es mir wahrscheinlich mehr Zeit und Zeit gespart hat von meinen m√∂glichen Fehlern √∂fter als jedes andere Modul. <br>  Das CSV-Modul ist das perfekte Beispiel f√ºr Pythons Philosophie ‚ÄûBatterie enthalten‚Äú.  Obwohl Sie Ihren eigenen Code zum Lesen von begrenzten Dateien perfekt schreiben k√∂nnen (au√üerdem ist dies nicht so schwierig), ist die Verwendung des Python-Moduls viel einfacher und zuverl√§ssiger.  Das CSV-Modul wurde getestet und optimiert und bietet eine Reihe von Funktionen, die Sie selbst kaum implementieren k√∂nnten, die jedoch recht praktisch und zeitsparend sind. <br><br>  Schauen Sie sich die vorherigen Daten an und entscheiden Sie, wie Sie sie mit dem CSV-Modul lesen m√∂chten.  Der Datenanalysecode sollte jede Zeile lesen und das nachfolgende Zeilenumbruchzeichen entfernen und dann die Zeile durch Zeichen | teilen  und h√§ngen Sie die Liste der Werte an die allgemeine Liste der Zeichenfolgen an.  Die L√∂sung k√∂nnte ungef√§hr so ‚Äã‚Äãaussehen: <br><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; results = [] &gt;&gt;&gt; for line in open("temp_data_pipes_00a.txt"): ... fields = line.strip().split("|") ... results.append(fields) ... &gt;&gt;&gt; results [['State', 'Month Day, Year Code', 'Avg Daily Max Air Temperature (F)', 'Record Count for Daily Max Air Temp (F)'], ['Illinois', '1979/01/01', '17.48', '994'], ['Illinois', '1979/01/02', '4.64', '994'], ['Illinois', '1979/01/03', '11.05', '994'], ['Illinois', '1979/01/04', '9.51', '994'], ['Illinois', '1979/05/15', '68.42', '994'], ['Illinois', '1979/ 05/16', '70.29', '994'], ['Illinois', '1979/05/17', '75.34', '994'], ['Illinois', '1979/05/18', '79.13', '994'], ['Illinois', '1979/05/19', '74.94', '994']]</code> </pre> <br>  Wenn Sie dasselbe mit dem CSV-Modul tun m√∂chten, sieht der Code m√∂glicherweise folgenderma√üen aus: <br><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; import csv &gt;&gt;&gt; results = [fields for fields in csv.reader(open("temp_data_pipes_00a.txt", newline=''), delimiter="|")] &gt;&gt;&gt; results [['State', 'Month Day, Year Code', 'Avg Daily Max Air Temperature (F)', 'Record Count for Daily Max Air Temp (F)'], ['Illinois', '1979/01/01', '17.48', '994'], ['Illinois', '1979/01/02', '4.64', '994'], ['Illinois', '1979/01/03', '11.05', '994'], ['Illinois', '1979/01/04', '9.51', '994'], ['Illinois', '1979/05/15', '68.42', '994'], ['Illinois', '1979/ 05/16', '70.29', '994'], ['Illinois', '1979/05/17', '75.34', '994'], ['Illinois', '1979/05/18', '79.13', '994'], ['Illinois', '1979/05/19', '74.94', '994']]</code> </pre> <br>  In diesem einfachen Fall ist der Gewinn im Vergleich zur unabh√§ngigen Implementierung der L√∂sung nicht so gro√ü.  Trotzdem stellte sich heraus, dass der Code zwei Zeilen k√ºrzer und etwas klarer war, und Sie m√ºssen sich keine Gedanken √ºber das Abschneiden von Zeilenumbr√ºchen machen.  Der eigentliche Vorteil ergibt sich aus komplexeren F√§llen. <br><br>  Die Daten in diesem Beispiel sind real, wurden jedoch in Wirklichkeit vereinfacht und gel√∂scht.  Reale Daten aus der Quelle werden komplexer.  Reale Daten enthalten mehr Felder, einige Felder werden in Anf√ºhrungszeichen gesetzt, andere nicht, und das erste Feld ist m√∂glicherweise leer.  Das Original ist durch Tabulatoren getrennt, aber zu Demonstrationszwecken zitiere ich sie durch Kommas getrennt: <br><br><pre> <code class="plaintext hljs">"Notes","State","State Code","Month Day, Year","Month Day, Year Code",Avg Daily Max Air Temperature (F),Record Count for Daily Max Air Temp (F),Min Temp for Daily Max Air Temp (F),Max Temp for Daily Max Air Temp (F),Avg Daily Max Heat Index (F),Record Count for Daily Max Heat Index (F),Min for Daily Max Heat Index (F),Max for Daily Max Heat Index (F),Daily Max Heat Index (F) % Coverage ,"Illinois","17","Jan 01, 1979","1979/01/ 01",17.48,994,6.00,30.50,Missing,0,Missing,Missing,0.00% ,"Illinois","17","Jan 02, 1979","1979/01/02",4.64,994,- 6.40,15.80,Missing,0,Missing,Missing,0.00% ,"Illinois","17","Jan 03, 1979","1979/01/03",11.05,994,- 0.70,24.70,Missing,0,Missing,Missing,0.00% ,"Illinois","17","Jan 04, 1979","1979/01/ 04",9.51,994,0.20,27.60,Missing,0,Missing,Missing,0.00% ,"Illinois","17","May 15, 1979","1979/05/ 15",68.42,994,61.00,75.10,Missing,0,Missing,Missing,0.00% ,"Illinois","17","May 16, 1979","1979/05/ 16",70.29,994,63.40,73.50,Missing,0,Missing,Missing,0.00% ,"Illinois","17","May 17, 1979","1979/05/ 17",75.34,994,64.00,80.50,82.60,2,82.40,82.80,0.20% ,"Illinois","17","May 18, 1979","1979/05/ 18",79.13,994,75.50,82.10,81.42,349,80.20,83.40,35.11% ,"Illinois","17","May 19, 1979","1979/05/ 19",74.94,994,66.90,83.10,82.87,78,81.60,85.20,7.85%</code> </pre> <br>  Bitte beachten Sie: Einige Felder enthalten Kommas.  Gem√§√ü den Regeln in solchen F√§llen ist das Feld in Anf√ºhrungszeichen eingeschlossen, um anzuzeigen, dass sein Inhalt nicht dazu bestimmt ist, Trennzeichen zu analysieren und zu suchen.  In der Praxis (wie in diesem Fall) wird h√§ufig nur ein Bruchteil der Felder in Anf√ºhrungszeichen gesetzt, insbesondere diejenigen, deren Werte ein Trennzeichen enthalten k√∂nnen.  Einige Felder sind jedoch (wie auch in diesem Beispiel) in Anf√ºhrungszeichen eingeschlossen, auch wenn es unwahrscheinlich ist, dass sie ein Trennzeichen enthalten. <br><br>  In solchen F√§llen werden selbst entwickelte L√∂sungen zu umst√§ndlich.  Jetzt funktioniert es nicht mehr, nur eine Linie durch ein Trennzeichen zu brechen.  Sie m√ºssen sicherstellen, dass Sie nur die Trennzeichen verwenden, die sich nicht in den Zeichenfolgen befinden.  Au√üerdem m√ºssen Sie die Anf√ºhrungszeichen entfernen, die sich m√∂glicherweise an einer beliebigen Stelle befinden oder nirgendwo gefunden werden.  Mit dem CSV-Modul m√ºssen Sie Ihren Code √ºberhaupt nicht √§ndern.  Da das Komma als Standardtrennzeichen betrachtet wird, muss es nicht einmal angegeben werden: <br><br><pre> <code class="plaintext hljs">&gt;&gt;&gt; results2 = [fields for fields in csv.reader(open("temp_data_01.csv", newline=''))] &gt;&gt;&gt; results2 [['Notes', 'State', 'State Code', 'Month Day, Year', 'Month Day, Year Code', 'Avg Daily Max Air Temperature (F)', 'Record Count for Daily Max Air Temp (F)', 'Min Temp for Daily Max Air Temp (F)', 'Max Temp for Daily Max Air Temp (F)', 'Avg Daily Min Air Temperature (F)', 'Record Count for Daily Min Air Temp (F)', 'Min Temp for Daily Min Air Temp (F)', 'Max Temp for Daily Min Air Temp (F)', 'Avg Daily Max Heat Index (F)', 'Record Count for Daily Max Heat Index (F)', 'Min for Daily Max Heat Index (F)', 'Max for Daily Max Heat Index (F)', 'Daily Max Heat Index (F) % Coverage'], ['', 'Illinois', '17', 'Jan 01, 1979', '1979/01/01', '17.48', '994', '6.00', '30.50', '2.89', '994', '-13.60', '15.80', 'Missing', '0', 'Missing', 'Missing', '0.00%'], ['', 'Illinois', '17', 'Jan 02, 1979', '1979/01/02', '4.64', '994', '-6.40', '15.80', '-9.03', '994', '-23.60', '6.60', 'Missing', '0', 'Missing', 'Missing', '0.00%'], ['', 'Illinois', '17', 'Jan 03, 1979', '1979/01/03', '11.05', '994', '- 0.70', '24.70', '-2.17', '994', '-18.30', '12.90', 'Missing', '0', 'Missing', 'Missing', '0.00%'], ['', 'Illinois', '17', 'Jan 04, 1979', '1979/01/04', '9.51', '994', '0.20', '27.60', '-0.43', '994', '-16.30', '16.30', 'Missing', '0', 'Missing', 'Missing', '0.00%'], ['', 'Illinois', '17', 'May 15, 1979', '1979/05/15', '68.42', '994', '61.00', '75.10', '51.30', '994', '43.30', '57.00', 'Missing', '0', 'Missing', 'Missing', '0.00%'], ['', 'Illinois', '17', 'May 16, 1979', '1979/05/ 16', '70.29', '994', '63.40', '73.50', '48.09', '994', '41.10', '53.00', 'Missing', '0', 'Missing', 'Missing', '0.00%'], ['', 'Illinois', '17', 'May 17, 1979', '1979/05/17', '75.34', '994', '64.00', '80.50', '50.84', '994', '44.30', '55.70', '82.60', '2', '82.40', '82.80', '0.20%'], ['', 'Illinois', '17', 'May 18, 1979', '1979/05/18', '79.13', '994', '75.50', '82.10', '55.68', '994', '50.00', '61.10', '81.42', '349', '80.20', '83.40', '35.11%'], ['', 'Illinois', '17', 'May 19, 1979', '1979/05/19', '74.94', '994', '66.90', '83.10', '58.59', '994', '50.90', '63.20', '82.87', '78', '81.60', '85.20', '7.85%']]</code> </pre> <br><br>  ¬ªWeitere Informationen zum Buch finden Sie auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Website des Herausgebers</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inhalt</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Auszug</a> <br><br>  20% Rabatt-Gutschein f√ºr Stra√üenh√§ndler - <b>Python</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de437050/">https://habr.com/ru/post/de437050/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de437034/index.html">Universal Whistles: Snom A230 und A210 USB Dongle Review</a></li>
<li><a href="../de437036/index.html">SAPUI5 f√ºr Dummies Teil 2: Eine vollst√§ndige Schritt-f√ºr-Schritt-√úbung</a></li>
<li><a href="../de437038/index.html">Benjamin Winterberg Stream API Guide √úbersetzung</a></li>
<li><a href="../de437040/index.html">In Russland begann der Test der inl√§ndischen neuronalen Schnittstelle "Neurochat"</a></li>
<li><a href="../de437044/index.html">So besiegen Sie den Drachen: Schreiben Sie Ihr Programm auf Golang neu</a></li>
<li><a href="../de437052/index.html">Verpassen Sie nicht zu lernen: Braucht ein Universit√§ts-IT-Spezialist</a></li>
<li><a href="../de437054/index.html">Neue Intel Prozessoren der 9. Generation: Core minus GPU</a></li>
<li><a href="../de437056/index.html">Die Zimbra Collaboration Suite und die Zextras Suite sind vollst√§ndig mit dem inl√§ndischen RED-Betriebssystem kompatibel</a></li>
<li><a href="../de437062/index.html">Die Auswirkung der Verz√∂gerung und die L√§nge der Schlussfolgerungen des Chips und der Software auf die Berechnung der Gesamtl√§nge / Verz√∂gerung der Leiter</a></li>
<li><a href="../de437064/index.html">Gomokus Gewinnstrategie - 35 Z√ºge</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>