<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍🏫 👨‍👨‍👧‍👧 🛐 Muat penyeimbangan saat mem-parsing situs dan menghubungkan sumber daya cloud tambahan 🤧 🏥 👹</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam posting ini, kita akan berbicara tentang perpustakaan yang mendaftarkan node itu sendiri dan mengarahkan permintaan dari luar ke node tertentu. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Muat penyeimbangan saat mem-parsing situs dan menghubungkan sumber daya cloud tambahan</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420303/">  Dalam posting ini, kita akan berbicara tentang perpustakaan yang mendaftarkan node itu sendiri dan mengarahkan permintaan dari luar ke node tertentu. <br><br><h4>  Bagaimana Anda mendapat ide untuk menulis proyek ini? </h4><br>  Setelah ada kebutuhan untuk mengurai situs dalam jumlah besar, saya mencoba menerapkan hal seperti itu menggunakan selenium grid, kemudian saya mengambil selenoid.  selenoid muncul, tetapi ada banyak hal yang tidak saya butuhkan, misalnya, versi dan opsi peramban, dan yang paling penting, kurangnya penskalaan otomatis (tetapi selenoid bukan untuk itu).  90% dari waktu cluster menganggur, dan kemudian muncul beban besar, yang tidak bisa diatasi oleh server.  Ternyata pengeluaran besar untuk besi, yang hampir sepanjang waktu tidak berfungsi, dan bahkan tidak bisa mengatasinya.  Saya pikir akan lebih baik jika, ketika beban tiba, jumlah browser yang dapat dieksekusi akan meningkat, tetapi bagaimana beban menghilang dan browser dihapus.  Untungnya, ini dapat diimplementasikan, misalnya, melalui <b>AWS EC2</b> . <br><a name="habracut"></a><br><br><h4>  Sedikit tentang strukturnya </h4><br><ul><li>  Hub <br><br>  Hub diluncurkan di tempat yang nyaman bagi Anda, diperlukan dalam satu contoh. <br>  Saat membuat wadah buruh pelabuhan dengan hub, ia harus meneruskan variabel lingkungan <b>token</b> ke sana. <br><br>  Setelah itu ia mulai mengharapkan koneksi masuk dari node dan dari pengguna. <br>  Hub mengingat rute, ia mengingatnya tepat satu menit <b>tidak aktif</b> , kemudian menghapus rute ini dan membebaskan node untuk klien lain. <br></li><li>  Node. <br><br>  Node dapat dikonfigurasi sebagai wadah dasar untuk sistem penskalaan otomatis, misalnya, dengan beban rata-rata pada wadah penampung, tambahkan yang lain, atau, dalam kasus ekstrem, Anda dapat memulai server virtual dengan wadah ini pada waktu peluncuran, asalkan Anda membayar biaya aktual waktu penggunaan server. <br><br>  Saat membuat wadah buruh pelabuhan dengan sebuah simpul, ia perlu meneruskan <b>token</b> dan variabel lingkungan <b>server</b> ke dalamnya.  Server adalah ip dari hub kami. <br><br></li></ul><br><h4>  Nomor opsi 1. Permintaan dari simpul </h4><br>  Node membuat permintaan ke hub dengan <b>set token</b> - yang merupakan token dari variabel lingkungan.  Hub memeriksa token dari permintaan dan jika cocok, ia mengingatnya.  Hub mulai melakukan ping node ini setiap 4 detik sekali.  Jika 5 upaya ping gagal, simpul dihapus dengan catatan kehilangan koneksi.  Node, pada gilirannya, menginisialisasi ping respons, setiap 10 detik sekali, jika koneksi dengan hub terputus.  Hal ini dilakukan sehingga setelah koneksi terputus, cluster itu sendiri akan mengembalikan negaranya. <br><br><h4>  Opsi nomor 2. Permintaan dari pengguna </h4><br>  Pengguna membuat permintaan ke hub dengan <b>token</b> dan header <b>nomor yang</b> ditetapkan.  Token diperlukan agar hanya node tepercaya yang dapat mengoperasikan cluster, dan memberi nomor agar kami dapat membuat sesi berbeda dalam ip klien yang sama.  Setiap sesi memiliki nomor uniknya sendiri. <br><br>  Untuk setiap permintaan, hub memeriksa apakah sudah ada rute yang dibuat atau tidak, jika ada - permintaan hanya dialihkan ke node yang diinginkan, jika tidak ada rute seperti itu, permintaan dari pengguna di antri untuk membebaskan node.  Segera setelah salah satu node dibebaskan, hub membuat rute untuk sesi pengguna dan rute yang dibebaskan.  Sekarang semua permintaan untuk sesi ini akan menuju ke simpul tertentu. <br><br>  Semenit kemudian.  bagaimana pengguna menutup koneksi - node dibebaskan dan ditransfer ke permintaan pengguna lain. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Tautan ke repositori proyek</a> <br><br><h4>  Ringkasan </h4><br>  Posnya ternyata lebih seperti instruksi untuk digunakan, tetapi bagaimanapun, saya percaya bahwa proyek ini dapat bermanfaat. <br><br><h4>  PS Beberapa klarifikasi </h4><br>  Ini adalah proyek pertama yang saya mulai menulis di GOLANG, sehubungan dengan itu, jika seseorang memiliki saran atau komentar, silakan tulis di komentar (Saya bahkan tidak mengandalkan PR, tetapi itu akan sangat keren!) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id420303/">https://habr.com/ru/post/id420303/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id420293/index.html">33 server dua unit dengan 13 TB RAM dan penyimpanan terdistribusi 0,6 PT - mengapa ini minimum untuk UBA proaktif</a></li>
<li><a href="../id420295/index.html">NeoQUEST-2018: Sepatu Boot yang telah lama ditunggu-tunggu, penelitian sains, dan tamu dari Nizhny Novgorod</a></li>
<li><a href="../id420297/index.html">Petunjuk langkah demi langkah untuk mendapatkan kembali akses ke Linux Amazon EC2 saat kehilangan file pem</a></li>
<li><a href="../id420299/index.html">Contoh favorit saya tentang pemrograman fungsional di Kotlin</a></li>
<li><a href="../id420301/index.html">Perdana Menteri India Narendra Modi: kami akan mengirim bendera negara itu ke luar angkasa bersama Gaganyan pada tahun 2022</a></li>
<li><a href="../id420305/index.html">Bagaimana cara menulis program di persimpangan pengembangan dan algoritme seluler? Kompetisi dan cerita Yandex</a></li>
<li><a href="../id420307/index.html">5 Trik CSS Yang Harus Anda Ketahui</a></li>
<li><a href="../id420311/index.html">Bagaimana intuisi kita menipu kita tentang pemanasan global</a></li>
<li><a href="../id420313/index.html">Kami membuat jam sastra berdasarkan buku elektronik</a></li>
<li><a href="../id420315/index.html">Kami membuat konfigurator 3D tanpa pemrograman dan tata letak</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>