<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéª üë≠ üßì Sound- und musikbasierte Umgebungsgenerierung in Unity3D üëèüèΩ üòî üò£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Anmerkung 


 Hallo an alle. Dieser Artikel ist der erste einer Reihe zum Thema Generieren von Inhalten basierend auf Musik und Sound. Tats√§chlich ist...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Sound- und musikbasierte Umgebungsgenerierung in Unity3D</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digital-ecosystems/blog/429872/"><h2 id="annotaciya">  Anmerkung </h2><br><p>  Hallo an alle.  Dieser Artikel ist der erste einer Reihe zum Thema Generieren von Inhalten basierend auf Musik und Sound.  Tats√§chlich ist eine solche Generierung eine ziemlich komplizierte technische Aufgabe, daher wird dieses Material einf√ºhrend sein, sich mehr auf das Spieldesign und ein allgemeines Verst√§ndnis des Themas konzentrieren, wonach wir uns mit den technischen Aspekten dieses Themas befassen werden. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gn/qs/ck/gnqscktbympej56xg1dr8gepcjm.jpeg" width="700"></div><br><p>  In diesem Artikel werden wir ein bestimmtes Genre von Spielen betrachten, bei denen Inhalte basierend auf Sound und Musik generiert werden.  Die allgemeine Theorie des Klangs wird hier nicht gegeben, aber im Material finden Sie Links zu Informationsquellen und eine kurze Beschreibung der Begriffe, die wir verwenden werden.  Das Material enth√§lt zwar technische Informationen zur Klangtheorie und -programmierung, ist jedoch f√ºr Anf√§nger gedacht.  Die Illustrationen sind selbst gemacht und da ich kein K√ºnstler bin, nehmen Sie sie bitte nicht ernst, sie werden nur zum besseren Verst√§ndnis des Materials ben√∂tigt.  Viel Spa√ü beim Lesen! </p><a name="habracut"></a><br><h2 id="vvedenie">  Einf√ºhrung </h2><br><p> Die prozedurale Generierung basierend auf Musik in Videospielen ist ein Thema, das f√ºr mich pers√∂nlich immer von einem gewissen Hauch von Mystik umgeben war.  Es ist unglaublich, wie Klangformen nicht nur visualisiert werden, sondern auch das Gameplay direkt beeinflussen.  Es sieht alles eigenartig aus, aber verdammt lustig.  Deshalb haben solche Spiele ein eigenes kleines, aber stabiles Publikum.  Steam hat separate Tags f√ºr diese Spiele hinzugef√ºgt: "Generation basierend auf Musik" und "Rhythmus-Spiel".  Im Moment k√∂nnen diese Tags ungef√§hr 200 Projekte gefunden werden, obwohl es viel mehr Spiele gibt, die diese Mechanik verwenden. </p><br><p>  Tats√§chlich bietet die Sound-basierte Generierung unbegrenzten Spielraum f√ºr die Entwicklung des Gameplays, aber bisher bleiben solche Ideen das Schicksal von Indie-Projekten, w√§hrend solche Experimente in AAA-Spielen (mit Ausnahme von Guitar Hero) aufgrund ihrer Instabilit√§t und Ungew√∂hnlichkeit des Gameplays nicht anwendbar sind . </p><br><h2 id="primery-horoshih-proektov">  Beispiele f√ºr gute Projekte </h2><br><p>  Bevor ich zum Kern der klangbasierten Erzeugung √ºbergehe (nicht zu verwechseln mit der Klangerzeugung!), M√∂chte ich Beispiele f√ºr erfolgreiche Spiele geben, die √§hnliche Mechaniken verwenden.  Wenn Sie sie noch nicht gespielt haben, probieren Sie es aus!  Sie haben das wahrscheinlich noch nie gesehen.  Viele dieser Projekte wurden von Spielern und der Presse ausgezeichnet. </p><br><p>  Genau genommen wird die reine Erzeugung nur in Audiosurf verwendet.  F√ºr den Rest der Spiele verwende ich das eine oder andere seiner Elemente.  Einige Spiele konzentrieren sich mehr auf das Verfolgen von Bits, andere auf die Lautst√§rke des Titels usw. </p><br><p>  Solche Projekte lassen sich nur schwer anhand eines Screenshots oder einer Beschreibung bewerten. Wenn Sie also keine Zeit zum Abspielen haben, schauen Sie sich das Video einfach auf YouTube an. </p><br><h3 id="audiosurf">  Audiosurf </h3><br><p><img src="https://habrastorage.org/webt/nh/dp/or/nhdporzttdbt587cybzmwcadnba.jpeg"><br>  F√ºr viele Spieler war Audiosurf das erste Spiel, das musikbasierte Inhaltsgenerierung verwendete.  Das Projekt wurde von einem unabh√§ngigen Entwickler von Invisible Handlebar - der Firma von Dylan Fiterer - erstellt.  Als Audiosurf auf Steam erschien, begann sich dieser Markt gerade zu entwickeln, und die derzeitige monstr√∂se Wachstumsrate war noch weit entfernt.  Audiosurf sah sehr frisch und ungew√∂hnlich aus. Au√üerdem war es das erste Spiel auf Steam (mit Ausnahme von Valve-Spielen), das Erfolge enthielt! </p><br><p>  Der Slogan von Audiosurf - "Ride your music" - spiegelt das Gameplay sehr genau wider: Auf der Grundlage Ihres Musiktitels wird der Titel erstellt, den Sie fahren m√ºssen.  Das Spiel ber√ºcksichtigt die Geschwindigkeit des Tracks, dynamische √Ñnderungen (Zunahme und Abnahme der Lautst√§rke) und das Bit.  Darin k√∂nnen Sie verschiedene Musikgenres verwenden und diese mit verschiedenen Spielmodi kombinieren.  Au√üerdem hat jeder Track eine eigene Tabelle mit Aufzeichnungen, und Sie werden √ºberrascht sein, dass Ihr Lieblings-Death Metal "Undeground" von zehn weiteren Personen angeh√∂rt wird. </p><br><p><img src="https://habrastorage.org/webt/jp/na/gw/jpnagwx7mg8oqxu13pc7vxxwrli.jpeg"><br>  <em>Leider wird Audiosurf in der Statik nicht wahrgenommen.</em>  <em>M√ºssen spielen.</em> </p><br><p>  Apropos Gameplay: Audiosurf ist gro√üartig.  Wenn die Strecke beispielsweise mit einer leisen Einf√ºhrung beginnt, kriecht Ihr Boot langsam bergauf, aber wenn die musikalische Textur ges√§ttigter und k√∂rperreicher wird, steigt die Geschwindigkeit und Sie rasen jederzeit nach unten.  Besonders gut zu sp√ºren ist der sogenannte Drop, bei dem der Sound mitten in der Entwicklung ‚Äûabbricht‚Äú und dann im Moment des H√∂hepunkts zur√ºckkehrt.  Ein abwechslungsreiches Schlagzeug kann Ihren Track in eine h√ºgelige Stra√üe verwandeln und Specials beeinflussen.  Effekte.  Au√üerdem werden die Bl√∂cke, die Sie beim √úbergeben der generierten Ablaufverfolgung sammeln m√ºssen, unter dem Bit platziert. </p><br><p>  10 Jahre sind seit der Ver√∂ffentlichung des Spiels vergangen, aber es ist immer noch sehr beliebt bei Spielern.  Im Moment wurden zwei Teile des Spiels ver√∂ffentlicht, und der Entwickler Dylan Fitterer entwickelte seine Ideen weiter und schuf Audioshield, wo Sie Bl√∂cke der virtuellen Realit√§t abwehren, die unter einem Schlag auf Sie losfliegen. </p><br><p>  Wir empfehlen, auf folgenden Titeln zu spielen: </p><br><ul><li>  System eines Down - Chop Suey! </li><li>  Martin Garrix - Tiere </li><li>  Skrillex - Bangarang </li></ul><br><p>  Teile deine Lieblingssongs f√ºr Audiosurf in den Kommentaren! </p><br><p>  Das Spiel kann bei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Steam gekauft werden</a> . </p><br><h3 id="beat-hazard">  Gefahr √ºberwinden </h3><br><p>  In diesem Projekt haben die Entwickler die Standardmechanik von Shoot'em √ºbernommen und dort eine Analyse Ihrer Musiktitel hinzugef√ºgt.  Es stellte sich als sehr cool heraus.  Musik beeinflusst alles: die Kraft Ihres Schiffes, die Anzahl der Gegner, die Gesamtgeschwindigkeit des Spiels.  Das Beste ist, dass das Spiel mit Musik zu sp√ºren ist, bei der es scharfe √úberg√§nge von Stille zu kraftvollem Klang gibt, dann explodiert Ihr Bildschirm vor den Effekten und das Schiff beginnt mit riesigen Strahlen zu schie√üen. </p><br><p>  Das Spiel hat eine ziemlich reiche Mechanik, mehrere Modi und riesige Bosse.  Im Allgemeinen alles, was Sie zum Spa√ü brauchen! </p><br><p><img src="https://habrastorage.org/webt/df/rb/9u/dfrb9uy1jhzy5bapkf5fpfar0vy.jpeg"></p><br><p>  Wir empfehlen, auf folgenden Titeln zu spielen: </p><br><ul><li>  Das Wunderkind - Invasoren m√ºssen sterben! </li><li>  Infizierter Pilz - Die Legende vom schwarzen Shawarma </li><li>  Daft Punk - Kontakt </li></ul><br><p>  Schreiben Sie in die Kommentare, welche Spuren Sie am liebsten feindliche Schiffe zerst√∂ren! </p><br><p>  Das Spiel kann bei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Steam gekauft werden</a> . </p><br><h3 id="soundodger">  Soundodger + </h3><br><p>  Das Spiel ist eine Art Mischung aus Beat Hazzard und dem beliebten Super Hexagon.  Das Wesentliche des Spiels ist, dass Sie Objekten ausweichen m√ºssen, deren Aktivit√§t von Ihrem Musiktitel abh√§ngt.  Der Prozess ist sehr kompliziert und daher - super spannend. </p><br><p><img src="https://habrastorage.org/webt/io/od/q0/ioodq0vk5pbmfujecgekpklm_90.jpeg"></p><br><p>  Das Spiel kann bei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Steam gekauft werden</a> . </p><br><h3 id="crypt-of-the-necrodancer">  Krypta des Nekrodancers </h3><br><p>  Ein Spiel, das den Rhythmus wahnsinnig genau √ºbertr√§gt und Sie mit einem Gamepad zum Tanzen bringt.  Crypt of the NecroDancer ist ein Roguelike-Projekt, bei dem sowohl Sie als auch die Monster sich strikt an die Musik halten m√ºssen.  Wenn Sie nicht in den Rhythmus kommen, werden Sie vom Spiel bestraft, wenn Sie sich bewegen.  Der gesamte Ort pulsiert gleichzeitig im Takt, was eine unwirkliche Atmosph√§re schafft.  Der Soundtrack wurde von dem ber√ºhmten Danny Baranowsky (Super Meat Boy, Die Bindung von Isaac) geschrieben.  Das Spiel unterst√ºtzt √ºbrigens Tanzmatten! </p><br><p><img src="https://habrastorage.org/webt/g0/tq/p3/g0tqp3ufnugpsybbeu-ku6_vk18.jpeg"></p><br><p>  Das Spiel kann bei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Steam gekauft werden</a> . </p><br><h3 id="geometry-dash">  Geometrie-Strich </h3><br><p>  Es ist ein sehr harter L√§ufer, bei dem Sie sich nicht nur auf Ihre Reaktion, sondern auch auf den Sinn f√ºr Rhythmus verlassen, da alle Hindernisse klar √ºberwunden sind und Sie sich am Ende der Strecke (wenn Sie sie erreichen) bereits auf einer intuitiven Ebene bewegen.  Genau genommen gibt es keine Generation als solche, aber die Entwickler haben die Analyse von Musiktiteln verwendet, um das Level besser zu konstruieren. </p><br><p><img src="https://habrastorage.org/webt/1z/bp/sy/1zbpsynlhfdxks9z_es3qifiwp8.png"><br>  <em>Wie fast alle Spiele dieses Genres sieht Geometry Dash sehr hell aus</em> </p><br><p>  Das Spiel kann bei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Steam gekauft werden</a> . </p><br><h3 id="beatbuddy-tale-of-the-guardians">  Beatbuddy: Geschichte der W√§chter </h3><br><p>  Ein gro√üartiger musikalischer Plattformer, dessen Action in der Unterwasserwelt stattfindet und der unter einem hellen Elektro-Swing-Beat lebt.  Jede Kreatur in diesem Spiel erzeugt ihren eigenen Sound.  Krabik tippt schnell, Anemonen sind f√ºr das Fass verantwortlich ... Gleichzeitig kann die Hauptfigur die Bewohner der Welt beeinflussen und die Musik und das Gameplay selbst ver√§ndern.  F√ºr das Spiel wurden die Tracks von Musikern wie Parov Stelar, Austin Wintory, Sabrepulse und La Rochelle Band verwendet. </p><br><p><img src="https://habrastorage.org/webt/do/km/yh/dokmyh3teztg93lai0ca422zesq.jpeg"></p><br><p>  Das Spiel kann bei <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Steam gekauft werden</a> . </p><br><p>  Nachdem wir uns von hervorragenden Projekten inspirieren lie√üen, k√∂nnen wir mit der Untersuchung der Frage fortfahren: "Wie funktioniert das alles?" </p><br><h2 id="osnovnye-parametry-zvuka">  Grundlegende Soundoptionen </h2><br><h3 id="parametry-analogovogo-zvuka">  Analoge Audiooptionen </h3><br><p>  Da das gew√§hlte Thema nicht zu einfach ist und viele technische Aspekte enth√§lt, habe ich beschlossen, den Artikel nicht mit Theorie aufzublasen, sondern grundlegende Konzepte zu definieren.  Wenn Sie die Theorie des Klangs genauer studieren m√∂chten, dann gab es auf Habr viele Artikel zu diesem Thema.  Am Ende des Artikels finden Sie viele n√ºtzliche Links. </p><br><p>  Zu den grundlegenden Klangparametern geh√∂ren: </p><br><ul><li>  Schallwellenfrequenz oder Tonh√∂he, Hz </li><li>  Schallwellenamplitude oder Schalllautst√§rke, dB </li><li>  Der D√§mpfungskoeffizient ist die Abnahmerate der Amplitude √ºber die Zeit. </li><li>  Wellenform - eine allgemeine Ansicht einer Schallwelle.  Mit diesem Parameter k√∂nnen Sie Sounds in Gruppen einteilen (scharf, weich, Rauschen usw.). </li></ul><br><p>  Aus Gr√ºnden der Klarheit habe ich in den folgenden Grafiken die Hauptmerkmale der Schallwelle angef√ºhrt (Einheiten sind nicht eingestellt, ich entschuldige mich): </p><br><p><img src="https://habrastorage.org/webt/4w/jw/5k/4wjw5kztenllvl9kji6hzxos5um.png"><br>  <em>Lauter Klang mit gro√üer Amplitude</em> </p><br><p><img src="https://habrastorage.org/webt/bu/-5/lp/bu-5lp0ns5jj5_vhdkpe0mlsvni.png"><br>  <em>Leiser Klang mit weniger Amplitude</em> </p><br><p><img src="https://habrastorage.org/webt/28/p2/zr/28p2zrfybsakqdpkj80zswskbjy.png"><br>  <em>Hohe Tonh√∂he, hohe Frequenz</em> </p><br><p><img src="https://habrastorage.org/webt/9e/eb/xy/9eebxygle4253bci6_wh8p_lj_i.png"><br>  <em>Leiser Ton mit weniger Frequenz</em> </p><br><p><img src="https://habrastorage.org/webt/y_/wr/gt/y_wrgtlts7ut9betdlwosmnu_km.png"><br>  <em>Lauter und hoher Ton (pass auf deine Ohren auf!)</em> </p><br><p>  Im Allgemeinen reichen diese Daten aus, um ein ausreichendes Verst√§ndnis f√ºr den Klang zu erhalten und weiterzumachen.  Aber wenn Sie sich f√ºr dieses Thema interessieren, m√ºssen Sie es nat√ºrlich genauer studieren. </p><br><h3 id="parametry-cifrovogo-zvuka">  Digitale Audiooptionen </h3><br><p>  Beim Schreiben von Spielen und anderen Programmen werden wir mit der digitalen Klangform arbeiten.  Digitaler Klang wird durch Abtasten (Aufteilen in kleine Zeitpunkte), Quantisieren (Aufrunden auf ein bestimmtes Niveau) und Codieren (tats√§chlich Umwandeln von Schall in Nullen und Einsen) erhalten.  Viele Informationen zu diesem Thema finden Sie im Artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Theory of Sound.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Was Sie √ºber Sound wissen m√ºssen, um damit arbeiten zu k√∂nnen.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erleben Sie Yandex.Music</a> , das mir sehr gut gefallen hat.  Dort finden Sie Informationen zum Messen des Volumens und eine Beschreibung der Filter, die ich erw√§hnen werde. </p><br><p>  Das Wichtigste, was wir √ºber das digitale Signal wissen m√ºssen, ist: </p><br><ol><li><p>  Abtastrate - Gibt an, wie genau Ihr Sound digitalisiert wird.  Wenn wir beispielsweise sagen, dass die Abtastrate 44,1 kHz betr√§gt, bedeutet dies, dass das Signal 44.100 Mal in einer Sekunde gemessen wird.  Heutzutage sind die h√§ufigsten Abtastraten 44,1 kHz und 48 kHz. </p><br></li><li><p>  Bittiefe eines digitalen Signals - charakterisiert, wie weit der Dynamikbereich in Ihr digitales Signal "passt".  Es wird in Bit gemessen und ist normalerweise 16, 24 und 32 Bit.  Der Dynamikbereich ist der Unterschied zwischen dem lautesten und dem leisesten Ton, ausgedr√ºckt in Dezibel.  F√ºr ein 8-Bit-Signal sind es beispielsweise 48 dB, f√ºr ein 16-Bit-Signal 96 dB, f√ºr ein 24-Bit-Signal 144 dB und f√ºr ein 32-Bit-Signal 192 dB. </p><br></li><li><p>  Bitrate haben sich alle Internetnutzer im Jahr 2002 angesehen, als sie Musik heruntergeladen haben.  Bitrate ist die Anzahl der Bits, die zum √úbertragen oder Verarbeiten von Daten pro Zeiteinheit verwendet werden.  In Streaming-Video- und Audio-Formaten (z. B. MPEG und MP3), die eine Komprimierung mit Qualit√§tsverlust verwenden, dr√ºckt der Parameter ‚ÄûBitrate‚Äú den Grad der Komprimierung des Streams aus. </p><br></li></ol><br><h2 id="metadannye-v-muzykalnyh-faylah">  Metadaten in Musikdateien </h2><br><p>  Zus√§tzlich zu den Soundparametern selbst k√∂nnen wir Informationen verwenden, die in den Sounddateien selbst verborgen sind.  Diese Informationen werden normalerweise als Tags bezeichnet und jedes Dateiformat hat ein eigenes Tag-Format.  Wir werden √ºber MP3-Dateien als die am h√§ufigsten verwendeten sprechen. </p><br><p>  Tags lassen sich am einfachsten mit einer vorgefertigten Bibliothek lesen, beispielsweise mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">TagLib</a> . </p><br><p>  Das MP3-Format enth√§lt Metadaten in seiner ID3-Struktur, in denen wir viele Informationen speichern k√∂nnen.  Es gibt verschiedene Optionen f√ºr das ID3-Format, aber wir werden √ºber ID3 v2.3 sprechen, in dem Sie die meisten Daten speichern k√∂nnen.  Aus n√ºtzlichen Informationen m√ºssen Sie Folgendes beachten: <strong>Name, Aufnahmejahr, Genre, BPM (Anzahl der Beats pro Minute), Titeldauer</strong> .  Wie k√∂nnen uns diese Felder beim Generieren von Inhalten helfen?  Wenn mit BPM alles klar ist, wird es w√§hrend der Generierung st√§ndig verwendet und wir werden separat dar√ºber sprechen. Warum brauchen wir dann andere Felder?  Hier muss man Fantasie zeigen. </p><br><p>  Zum Beispiel lesen wir das Genre und das Jahr.  Zun√§chst m√ºssen wir diese Informationen ein wenig verarbeiten.  Der Einfachheit halber werden wir nur Englisch betrachten.  MP3-Tags (und andere Tags) werden h√§ufig manuell ausgef√ºllt. Von hier aus folgen unterschiedliche Schreibweisen von Genres, unterschiedliche Interpunktion usw.  Es ist besser, das resultierende Tag in ein einziges Format zu bringen, damit es leichter mit anderen verglichen werden kann.  Es ist ratsam, alle Satzzeichen und Leerzeichen zu entfernen und die Zeichenfolge in Kleinbuchstaben umzuwandeln.  Dies kann mit regul√§ren Ausdr√ºcken erfolgen. </p><br><p>  Nach solchen Manipulationen ist es f√ºr Sie viel einfacher, Genres von Songs zu vergleichen.  Als N√§chstes m√ºssen Sie eine Basis von Genres erstellen, die auf einer bestimmten Quelle basieren, und diese durchgehen, um Ihre Tag-Datenbank zu kompilieren.  Hier ist ein Beispiel f√ºr eine Liste aller Genres: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">musicgenreslist.com</a> .  Nat√ºrlich m√ºssen Sie nur die grundlegendsten ausw√§hlen. </p><br><p>  Ich antwortete nicht, warum solche Schwierigkeiten?  Ich werde Beispiele geben (sehr vereinfacht). <br>  Basierend auf dem Genre k√∂nnen wir: </p><br><ul><li>  Ort wechseln (Rock - d√ºsterer Wald, elektronische Musik - Raum, Land - W√ºste, Pop - Stadt usw.) </li><li>  Charakter √§ndern </li><li>  √Ñndere Feinde usw. </li></ul><br><p><img src="https://habrastorage.org/webt/xf/ri/y7/xfriy7rqpsny7hsrcrbezkncpts.jpeg"><br>  <em>Ein Beispiel f√ºr einen Charakter, der auf den Tags Rock, Electro, Pop basiert.</em> </p><br><p>  Und dann k√∂nnen Sie sich alles einfallen lassen!  Erscheinungsjahr des Albums: 1960-1970?  Kleide den Charakter in die Kleidung dieser Zeit.  Trackdauer 10 Minuten?  Lassen Sie Ihre "musikalisch erzeugte Schlange" einen langen Schwanz haben.  Es gibt viele M√∂glichkeiten und es gibt immer eine Chance, den Spieler zu √ºberraschen. </p><br><h2 id="predstavlenie-audiofaylov-v-unity">  Darstellung von Audiodateien in Unity </h2><br><p><img src="https://habrastorage.org/webt/dn/oa/fh/dnoafhs7ydzopthfrzaowcgvygi.png"><br>  <em>Alles scheint einfach zu sein ...</em> </p><br><p>  Unity besteht aus mehreren Hauptkomponenten f√ºr die Arbeit mit Sound: </p><br><ul><li>  Der Audio Listener (Listener) verh√§lt sich wie ein Mikrofon.  Es empf√§ngt Eingaben von jeder Tonquelle (Audioquelle) in der Szene und spielt T√∂ne √ºber die Lautsprecher ab.  F√ºr die meisten Anwendungen ist es sinnvoll, der Hauptkamera einen Listener hinzuzuf√ºgen - das Hauptkameraobjekt. </li><li>  Audio Source spielt den Audioclip in der Szene ab.  Wenn es sich bei dem Audioclip um einen 3D-Clip handelt, wird die Quelle an einer bestimmten Position im Raum abgespielt und je nach Entfernung stummgeschaltet. </li><li>  Audioclips (Clips) enthalten Audiodaten, die in Audioquellen verwendet werden.  Unity unterst√ºtzt Mono-, Stereo- und Mehrkanal-Audio-Assets.  Unity kann die folgenden Dateitypen importieren: .aif, .wav, .mp3 und .ogg. </li></ul><br><p><img src="https://habrastorage.org/webt/yo/gn/4u/yogn4ur4qy6vpafvedpkylajw-s.png"></p><br><p>  Wenn Sie tief in die Arbeit mit Sound vertieft sind, m√ºssen Sie direkt mit Audioclips interagieren.  Ein Audioclip enth√§lt eine Reihe von Soundframes (Samples), die Sie lesen und √ºberschreiben k√∂nnen.  Mit diesem (und vielen Matan) k√∂nnen Sie die Parameter von Tonspuren bestimmen und Soundeffekte erzeugen. </p><br><h2 id="muzykalnye-parametry-treka">  Musiktiteleinstellungen </h2><br><p>  Also haben wir einige Startdaten von unserer Strecke gelesen und die ersten Grundlagen der Generation erhalten.  Jetzt k√∂nnen Sie zum schwierigeren Teil √ºbergehen.  Wir m√ºssen verstehen, welche dynamischen Parameter des Tracks wir bestimmen k√∂nnen und wie sie im Gameplay verwendet werden k√∂nnen.  Ein Teil des Materials basiert auf dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Parallelcube</a> Studio-Blog.  Die Jungs machen Assets und Tutorials f√ºr Unreal Engine, wof√ºr sie sich sehr bedanken. </p><br><p>  Folgende Aufgaben k√∂nnen unterschieden werden: </p><br><ul><li>  Definieren eines Fasses als Ausl√∂ser f√ºr Spezialeffekte </li><li>  Bestimmen leiser und lauter Momente in einer Spur </li><li>  Verwenden dieser Daten zum Erstellen eines Levels </li><li>  Verwenden dieser Daten zum Erstellen von Effekten </li></ul><br><h3 id="opredelenie-bochki-v-treke-i-ispolzovanie-etogo-zvuka-kak-triggera">  Erkennen einer Kick-Drum in einer Spur und Verwenden dieses Sounds als Ausl√∂ser. </h3><br><p>  Um mit der Bestimmung der Parameter des Titels zu beginnen, m√ºssen Sie die Musik ausw√§hlen.  Um die Arbeit zu erleichtern, ben√∂tigen Sie eine Spur, in der sich ein offensichtlicher Lauf und vorzugsweise scharfe Volumen√ºberg√§nge befinden.  Ich habe den Titel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Perturbator - Future Club gew√§hlt</a> , den man im Spiel Hotline Miami 2: Wrong Number h√∂ren konnte. </p><br><p>  Hier ist eine kleine Analyse des Eintrags dieser Spur (die Audiospur wurde speziell gek√ºrzt) </p><br><p><img src="https://habrastorage.org/webt/lg/5r/8_/lg5r8_jmgic9_dygd7ouaziop1y.png"></p><br><ol><li>  Das sogenannte Einblenden oder Einf√ºhren.  In diesem Moment steigt die Lautst√§rke des Tracks. </li><li>  Die Hauptsto√ükraft erscheint - der Lauf.  Die Momente des Auftretens des Laufs sind auf der visuellen Darstellung der Audiospur sehr leicht abzulesen.  Au√üerdem ert√∂nt hier ein Hintergrundsynthesizer, dessen Rauschen auf der Spur sichtbar ist.  Wenn die Spur nicht komprimiert worden w√§re, w√§re sie noch klarer gewesen.  (Details zur Komprimierung <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> ) </li><li>  Es erscheint ein zus√§tzlicher Synthesizer, der die Klarheit der visuellen Darstellung des Zylinders leicht beeintr√§chtigt </li><li>  Eine Pause, die vor einem hellen Moment in der Spur erscheint (Drop). </li><li>  Der Hauptteil, in dem zus√§tzlich zum Barrel ein Bass-Synthesizer erscheint, der die visuelle Darstellung des Signals stark verzerrt, der Barrel jedoch noch unterschieden werden kann. </li></ol><br><p>  Unsere Hauptaufgabe ist es also zu bestimmen, an welchem ‚Äã‚ÄãPunkt unser Fass klingt.  Dies ist eine ziemlich schwierige Aufgabe, f√ºr die normalerweise spezielle Audiobibliotheken verwendet werden.  Denken Sie daran, wenn es vorgefertigte Optionen gibt und Sie das Ziel haben, einen Effekt zu erzielen, und nicht die Matte zu studieren.  Teil, nehmen Sie vorgefertigte Optionen.  Wenn Ihr Spiel ein Budget und zus√§tzliche 25 US-Dollar hat, k√∂nnen Sie beim Entwickler 3y3net einen speziellen Verm√∂genswert kaufen, der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Beat Detection hei√üt</a> .  Dar√ºber hinaus k√∂nnen Sie eine gro√üartige Option des Entwicklers <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Allan Pichardo in</a> Betracht ziehen.  Wenn Sie verstehen m√∂chten, wie solche Algorithmen funktionieren, schreiben Sie sie nat√ºrlich selbst von Grund auf neu. </p><br><p>  Wie wir aus der Audiospur gesehen haben, unterscheidet sich ein Beat immer deutlich durch den Schallpegel.  Das ist seine Essenz.  Musiker verarbeiten und komprimieren den Track speziell, damit der Beat nicht durch andere Sounds verstopft wird und seinen Platz im Frequenzbereich des Tracks hat.  Das Bit ist immer lauter als der durchschnittliche Lautst√§rkepegel (Durchschnitt).  Wenn der Ton lauter als ein bestimmter Schwellenwert ist, k√∂nnen wir, wenn wir nur die grafische Anzeige der Schallwelle betrachten, mit Zuversicht sagen: "Ja, das ist ein bisschen!". </p><br><p><img src="https://habrastorage.org/webt/fk/i_/d8/fki_d86fbvfj_nj-watpcbczg_y.gif"></p><br><p>  Ich m√∂chte eine detailliertere technische Beschreibung und spezifische Algorithmen zur Bestimmung eines Bits in einem separaten Artikel ver√∂ffentlichen (der nach einer Weile ver√∂ffentlicht wird), da dieses Thema weit √ºber den Rahmen dieses Materials hinausgeht.  Kurz gesagt, bei solchen Algorithmen durchl√§uft der Schall zuerst Filter, um die Verarbeitung zu vereinfachen. Anschlie√üend wird die Dynamik der Schallenergie analysiert.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier ist ein Beispiel f√ºr einen solchen Algorithmus (Aufmerksamkeit, Matlab!)</a> . </p><br><p>  Eine vollst√§ndige mathematische Beschreibung dieses Algorithmus finden Sie in diesem Artikel: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Entwurf und Implementierung eines Beat Detector-Algorithmus</a> . </p><br><p>  Stellen wir uns daher vor, wir k√∂nnten ein Skript schreiben, das in Echtzeit bestimmt, an welchem ‚Äã‚ÄãPunkt ein Fass tritt.  Dar√ºber hinaus k√∂nnen wir mithilfe des Algorithmus auch die allgemeine BPM bestimmen und verstehen, wo der Hauptrhythmus bei uns ‚Äûschl√§gt‚Äú.  Was k√∂nnen wir mit den erhaltenen Informationen tun? </p><br><p>  Sie k√∂nnen Beathazard als Beispiel nehmen und sicherstellen, dass unser Schiff f√ºr jeden Schlag des Hauptrhythmus mit einem gew√∂hnlichen konventionellen Laser schie√üt. Wenn der Lauf trifft, schie√üen wir mit einem Superlaser.  Es wird ungef√§hr so ‚Äã‚Äãaussehen: </p><br><p><img src="https://habrastorage.org/webt/9t/1z/ts/9t1ztsknz1gonebi2lzw7urv3p0.gif"></p><br><p>  Zus√§tzlich k√∂nnen wir weitere Specials hinzuf√ºgen.  Effekte.  Und lassen Sie den Pegel zusammen mit dem Bit pulsieren: </p><br><p><img src="https://habrastorage.org/webt/yh/ga/e6/yhgae6kinv2oyb5aurq_c50ms60.gif"></p><br><p>  Mit demselben Algorithmus, der das Bit in Echtzeit bestimmt, k√∂nnen wir die BPM berechnen (Schl√§ge pro Minute oder die Anzahl der Schl√§ge pro Minute).  BPM-Informationen k√∂nnen beispielsweise verwendet werden, um Schwierigkeitsgrade zu generieren und Bonuspunkte zu berechnen.  Wenn die Strecke schnell ist (150 - 180 BMP), erh√§lt der Spieler einen X5-Bonus usw. </p><br><h3 id="opredelenie-tihih-i-gromkih-momentov-v-treke">  Bestimmen leiser und lauter Momente in einer Spur </h3><br><p>  Eine M√∂glichkeit, laute und leise Momente zu bestimmen, besteht darin, die Spur mit einem Tiefpassfilter zu verarbeiten und einen gleitenden Durchschnitt f√ºr den Lautst√§rkepegel zu erhalten.  Danach k√∂nnen wir diese Lautst√§rke in einem f√ºr uns geeigneten Format speichern, beispielsweise in einem Float-Array. </p><br><p>            ,           . ,       ,    ,  .          ,    .    ,     . </p><br><p><img src="https://habrastorage.org/webt/pe/ar/vi/pearviknrx8wgkrkdar9bfmxum4.gif"></p><br><h3 id="sozdanie-urovnya-na-osnove-audiodannyh">     . </h3><br><p>   ,   ,   ,        ,    (     ).      , ,   2D-?          .          : </p><br><p><img src="https://habrastorage.org/webt/i5/fk/vs/i5fkvsoesbwbwf1mbx7ysar2j20.png"></p><br><p>            3D,    2D .  ,  Audiosurf     ,          . </p><br><p><img src="https://habrastorage.org/webt/av/tk/ip/avtkipe2mfxasz1wzqjfnj9hyy0.png"><br> <em>   Elastomania,      ?    !?</em> </p><br><p>                  , ,  ,    -  . </p><br><h2 id="zaklyuchenie">  Fazit </h2><br><p>  ,         ,     .     ,       ,         ,    ,            . ,    ,       ,      .    ,      ,           .                 Unity.  Folgen Sie den Nachrichten! </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1y/u8/va/1yu8va0zuojgi-b0dos-rrkilw0.jpeg" width="700"></div><br><h2 id="poleznye-ssylki">  N√ºtzliche Links </h2><br><ul><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">    </a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Theorie des Klangs. </font><font style="vertical-align: inherit;">Was Sie √ºber Sound wissen m√ºssen, um damit arbeiten zu k√∂nnen. </font><font style="vertical-align: inherit;">Erleben Sie Yandex.Music</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Musikvisualisierung: von traditionellen Ans√§tzen zu modernen Schnittstellen</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grundlagen der verlustbehafteten Audiocodierung. </font><font style="vertical-align: inherit;">Testen der Beta-Version von Opus 1.3</font></font></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klangkomprimierung</font></font></a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de429872/">https://habr.com/ru/post/de429872/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de429854/index.html">Wie man eine interraciale Romanze im Spiel macht und den Spieler nicht zum Lachen bringt</a></li>
<li><a href="../de429856/index.html">Migration von Ubuntu auf Windows 10, Hyper-V und Beseitigung eines Iron Routers</a></li>
<li><a href="../de429858/index.html">Geld von Upwork abheben. Vergleichende Analyse</a></li>
<li><a href="../de429860/index.html">"Monster in Spielen oder wie man einen Spieler √ºberrascht"</a></li>
<li><a href="../de429866/index.html">Gewusst wie: IT-Begriffe in Englisch</a></li>
<li><a href="../de429876/index.html">Die Forscher haben die m√§chtigsten Werbeblocker √ºberwunden, der Formatkrieg kommt</a></li>
<li><a href="../de429878/index.html">Warum sind mit dem Wachstum des Unternehmens die Entwickler, die an der Spitze standen, ‚Äû√ºber Bord‚Äú?</a></li>
<li><a href="../de429880/index.html">Pix4D - von Fotos bis zu Messungen</a></li>
<li><a href="../de429882/index.html">Steuerung von RGB-LEDs √ºber Cypress UDB Microcontroller PSoC</a></li>
<li><a href="../de429884/index.html">PROSTOR 2018 Konferenz: Fragen und Antworten zur Zukunft der Speicherung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>