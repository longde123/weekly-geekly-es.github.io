<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßúüèø üë©‚Äçüíª ‚ôøÔ∏è Conf√©rence DEFCON 18. Vous avez d√©pens√© tout cet argent, mais ils continuent de vous avoir. 2e partie üßìüèº ü§∞ üëÉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Conf√©rence DEFCON 18. Vous avez d√©pens√© tout cet argent, mais ils continuent de vous avoir. Partie 1 

 J'utilise une chose int√©ressante de Gary O'Lea...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Conf√©rence DEFCON 18. Vous avez d√©pens√© tout cet argent, mais ils continuent de vous avoir. 2e partie</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/432496/">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Conf√©rence DEFCON 18. Vous avez d√©pens√© tout cet argent, mais ils continuent de vous avoir.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1</a> <br><br>  J'utilise une chose int√©ressante de Gary O'Leary-Steele appel√©e Unicod-fun, qui est plut√¥t bonne pour un utilitaire √©crit en Ruby.  Vous savez que mes outils doivent √™tre √©crits exclusivement en Python, nous avons donc traduit cela en Python.  Nous pouvons maintenant appliquer un codage diff√©rent pour les outils con√ßus pour attaquer les applications Web et faisant partie du cadre WAF. <br><br><img src="https://habrastorage.org/webt/fu/vw/kz/fuvwkztjmn8ydmom8nbow8z1owu.jpeg"><br><br>  Le cadre WAF comprend WAF Fun et WAFWOOF et fonctionne sur la base du multicodage et des informations re√ßues du proxy, et il peut fonctionner via des proxy Tor ou GLib dans le processus de faire toutes ces diff√©rentes choses.  C'est donc vraiment une chose utile pour obtenir les informations dont vous avez besoin. <a name="habracut"></a><br><br>  Nous avons parl√© d'attaquer des sites Web via Tor; j'en ai parl√© en d√©tail l'ann√©e derni√®re.  La diapositive suivante montre les scripts d'une telle attaque: <br><br><pre><code class="plaintext hljs">alias hide='su -c "/home/j0e/dumbscripts/hide.sh"' $ cat /home/j0e/dumbscripts/hide.sh #!/bin/bash # Startup privoxy /usr/sbin/privoxy /etc/privoxy/config # Start Tor /usr/bin/tor $ hide</code> </pre> <br>  Il convient √©galement de mentionner le plugin, qui est int√©gr√© en tant que bouton Tor dans Firefox. <br>  Je ne sais pas si vous avez travaill√© avec le DotNet Defender WAF utilis√© par ces fichues soci√©t√©s.  Nous avons constat√© qu'il est capable de prot√©ger le serveur contre l'injection SQL.  Sur la diapositive, vous voyez le r√©sultat de la g√©n√©ration d'une attaque de script intersite - dotDefender a bloqu√© notre demande. <br><br><img src="https://habrastorage.org/webt/p9/zg/eq/p9zgeqmu6a5a_nvjpj-1cdrr4j8.jpeg"><br><br>  Ensuite, vous voyez une tentative de contourner ce type de protection √† l'aide de l'injection SQL sans aucun codage.  Et DotNet Defender ne pouvait rien y faire. <br><br><img src="https://habrastorage.org/webt/cr/_g/yz/cr_gyznstlcjni0vg8jhi04zwqw.jpeg"><br><br>  Le fait est qu'il ne bloque que certaines injections SQL, contenant principalement le mot select.  C'est le summum de la technologie de s√©curit√© - bloquez le mot s√©lectionner.  Si vous chiffrez en Unicode, vous pouvez passer devant ce d√©fenseur, ils ont donc corrig√© cette vuln√©rabilit√© l'ann√©e derni√®re, mais n'ont rien fait contre les autres normes de codage.  Par cons√©quent, si vous utilisez un encodage diff√©rent, vous pouvez facilement contourner DotNet Defender.  Cela m'a permis de r√©initialiser le hachage du mot de passe administrateur sans aucun encodage. <br><br><img src="https://habrastorage.org/webt/di/ct/x_/dictx_cvz2dqmc9fax3fis4po8o.jpeg"><br><br>  Alors d√©sol√© les gars du DotNet Defender, mais vous devez corriger votre merde. <br><br>  Donc, la chose importante que j'ai r√©ussi √† faire √©tait de p√©n√©trer le LAN via Internet.  C'est d√©j√† assez difficile, mais toujours possible.  Pour cela, j'ai utilis√© un outil simple en Perl, j'ai d√ª le supporter, m√™me si je suis un ardent adepte de Python.  Cela fonctionne tr√®s bien, gr√¢ce √† lui, vous pouvez charger l'interface r√©seau shell netcat ou meterpreter via un tunnel DNS.  Il s'agit d'un projet vraiment formidable et une nouvelle mise √† jour a r√©cemment √©t√© publi√©e. <br><br><img src="https://habrastorage.org/webt/fo/2j/je/fo2jjei6arth5jmuvcvhei8bx60.jpeg"><br><br>  Ce qui suit est un moyen d'injecter du SQL √† l'aide de l'outil Carte SQL.  Cet outil, √©crit en Python, vous permet de t√©l√©charger os-shell ou meterpreter.  Il a √©galement son propre os-shell, avec lequel vous pouvez bricoler.  Ainsi, vous pouvez entrer les commandes n√©cessaires pour contr√¥ler le syst√®me, configurer netcat ou entrer directement dans le shell meterpreter, donc j'utilise cet outil assez souvent. <br><br>  Et maintenant, nous allons passer √† un mat√©riel plus important.  Le nom officiel de cette partie du rapport est de ne pas se laisser prendre!  Ne soyez pas un tigre! <br><br><img src="https://habrastorage.org/webt/ef/rp/ku/efrpkusaeqpcsppcp1ibbjbkjze.jpeg"><br><br>  Tout ce que je fais, c'est de ne pas me faire prendre.  Qui est Tiger?  C'est un punk, un punk flippant, qui est d'accord avec moi?  Si je vaux un milliard de dollars et que vous √™tes une pornostar, vous savez que j'ai des gens qui sont pr√™ts √† vous tuer si vous la laissez filer.  √ätes-vous d'accord avec moi? <br><br>  Donc, la chose la plus importante √† ne pas faire est de d√©finir des filtres d'intrusion.  Beaucoup de gens essaient diff√©rentes options.  Le premier est le filtrage c√¥t√© client.  C'est mauvais.  C'est mauvais.  Et cinq fois de plus - c'est mauvais!  N'utilisez pas de scripts JavaScript ou VB, ni quoi que ce soit du c√¥t√© client pour essayer de filtrer les entr√©es provenant d'une application importante.  Ou si vous utilisez un framework comme J2EE qui cr√©e ces JavaScripts, vous devrez √©crire du code c√¥t√© serveur qui v√©rifie que tout ce qui provient du client est correct. <br><br><img src="https://habrastorage.org/webt/we/-6/yp/we-6ypbesjhfnnafos_sshfsb5e.jpeg"><br><br>  V√©rifiez le code source pour tout param√®tre passant par le site qui peut √™tre filtr√© √† l'aide du script JavaScript ou VB, et supprimez-les.  Enregistrez la page localement et supprimez les scripts JavaScript ou VB appropri√©s ou utilisez un proxy local tel que Paros, Web Scarab, Burp Suite. <br><br>  Si vous venez de conclure ce putain de contrat avec une personne, gardez √† l'esprit que tout ce qui se passe mal sur la machine du client, vous devez donc enseigner ces petites le√ßons aux d√©veloppeurs.  Je leur dis: "OK, d√©veloppeur, je veux que vous y r√©fl√©chissiez, parce que vous allez placer toute cette s√©curit√© dans un ordinateur portable pirate!"  Pensez-vous que ce soit vrai? "  Par cons√©quent, les gars, n'utilisez pas le filtrage c√¥t√© client! <br><br>  Voici les restrictions de la liste noire.  Souvent, les gens essaient de restreindre l'utilisation de caract√®res sp√©ciaux.  Eh bien, disons que vous ne pouvez pas envoyer un signe √©gal, plus ou moins de signes, etc. <br><br><img src="https://habrastorage.org/webt/lh/gp/jw/lhgpjwttfy06fwaobmcgekqkgms.jpeg"><br><br>  Mais en ce qui concerne la syntaxe SQL, vous n'avez pas √† indiquer que 1 = 1.  Par exemple, dans la demande http: // [site] /page.asp?id=2 ou 1 comme 1, vous pouvez g√©n√©ralement √©viter d'utiliser le signe √©gal et l'op√©rateur or en les rempla√ßant dans la barre d'adresse par les mots "et" et " comme ", par exemple," et 1 comme 1 "," et 1 comme 2 "et ainsi de suite: <br><br>  http: // [site] /page.asp?id=2 et 1 comme 1 <br>  http: // [site] /page.asp?id=2 et 1 comme 2 <br><br>  En fait, dans la plupart des cas, les injections SQL n'utilisent pas de caract√®res sp√©ciaux. <br>  Ensuite, consid√©rez l'IDS bas√© sur la signature.  Dites-moi, lequel d'entre vous a une telle table sur votre tapis de souris?  Si vous avez un tableau de codes d√©cimaux ASCII ou HEX, d√©chirez-le avec ce tapis. <br><br><img src="https://habrastorage.org/webt/ci/su/0g/cisu0gqplsuhv1jcsqb86pbdh88.jpeg"><br><br>  Ce que j'ai appris hier soir quand j'√©tais ivre dans la semelle int√©rieure, c'est que l'ASCII fonctionne vraiment!  Ainsi, lorsque vous traitez avec IDS et recevez une alerte TCP de n'importe quelle IP, de n'importe quel port, arrivant sur le port de notre serveur Web, recherchez un type de donn√©es sp√©cial 1 = 1.  Pensons, combien de hackers ont pu attraper cette chose?  R√©fl√©chissons-y. <br><br><img src="https://habrastorage.org/webt/xe/mp/ua/xempuan-tcnciw18noczamu2kxg.jpeg"><br><br>  2 est 2?  Quarante onces √©quivalent √† quarante onces?  1 = 1 n'est pas le seul moyen de cr√©er une demande pour laquelle vous pouvez obtenir une r√©ponse "vrai", vous pouvez envoyer une demande de type "2 = 2", "1 &lt;2" et ainsi de suite.  Si les signatures sont si faciles √† contourner, pourquoi sont-elles n√©cessaires?  La r√©ponse est pour les outils automatiques et les enfants. <br><br>  La diapositive suivante montre ma vision IDS bas√©e sur la signature - c'est le gardien de but qui a attrap√© 1 balle tandis qu'une centaine de balles ont vol√© √† travers le but. <br><br><img src="https://habrastorage.org/webt/a0/mn/vo/a0mnvo3pk1eingnhy52hhcsqcus.jpeg"><br><br>  L'utilitaire pentester appel√© sqlmap contourne cette protection que je vous ai montr√© par d√©faut, et il est √©galement √©crit en Python! <br><br>  Une chose similaire est montr√©e sur la diapositive suivante.  Ici, pour une solution de contournement, j'ai utilis√© la technique 2 ou 2 et s√©lectionn√© l'utilisateur. <br><br><img src="https://habrastorage.org/webt/3r/vk/_b/3rvk_blgnuuu-w8ntjwqmuwgrbm.jpeg"><br><br>  Dans ce cas, j'ai pr√©sent√© l'expression enti√®re en code hexad√©cimal, mais vous pouvez le faire en Unicode, utf7, utf-8, utf-16, dans n'importe quel encodage, cela n'a pas d'importance, cette m√©thode fonctionne toujours et vous permet de contourner de nombreux WAF. <br><br>  Il y a un autre produit dans le domaine de PHP - c'est PHP IDS, je pense que c'est vraiment cool qu'ils aient maintenant une d√©monstration de ses capacit√©s sur le site.  Si vous allez sur demo.phpids.net, vous pouvez essayer le test de fum√©e.  Ce Smoketest vous permet d'essayer toutes vos injections SQL, les scripts intersites ou les attaques d'applications Web et vous montre quelles signatures ces attaques d√©tectent, afin que vous puissiez continuer √† pratiquer le kung-fu sur Internet. <br><br><img src="https://habrastorage.org/webt/5b/o2/ig/5bo2ig31xb7vefbhhzve4gogs-0.jpeg"><br><br>  Par exemple, vous pouvez appliquer un effet, obtenir une signature, en essayer une autre, obtenir un autre ensemble de signatures, etc.  Vous continuez simplement √† travailler et √† travailler jusqu'√† ce que ce mauvais gar√ßon dise que tout est en ordre, que vous avez contourn√© la d√©fense et que rien d'autre ne vous ¬´fume¬ª.  Donc, vous perfectionnez vos comp√©tences en kung-fu jusqu'√† ce que vous trouviez quelque chose qui peut contourner la plupart des r√®gles. <br><br><img src="https://habrastorage.org/webt/sb/za/ns/sbzansb4oyj8fz9thrazk418jtc.jpeg"><br><br>  Maintenant, Modsecurity s'est associ√© √† PHP IDS, et ils ont leur propre test de fum√©e.  Je ne l'ai pas ajout√© √† mes diapositives en raison d'une gueule de bois le matin, mais je dirai qu'ils ont r√©ussi √† combiner le jeu de r√®gles Modsecurity avec le jeu de r√®gles PHP IDS dans une seule interface Web, il vous suffit donc d'y ins√©rer vos exploits jusqu'√† ce que vous contourniez toutes les r√®gles.  En bref, l'IDS bas√© sur les signatures n'est qu'une blague stupide.  Au moins, je n'avais pas de clients qui connaissaient ces produits, mais ils les ont quand m√™me achet√©s.  Mais c'est une histoire l√©g√®rement diff√©rente. <br><br>  Je comprends parfaitement ceux d'entre vous qui sont analystes d'IDS et de WAF.  Je sais que je parle beaucoup, mais je ressens votre douleur parce que j'avais l'habitude de faire votre travail, et il n'y a pas assez d'alcool dans le monde pour supporter le travail que vous faites. <br><br><img src="https://habrastorage.org/webt/ad/b-/ok/adb-oktonu-m15srcmq-zh4k6di.jpeg"><br><br>  Ainsi, la grande majorit√© des choses que je viens de vous montrer se font via le r√©seau.  Comme je l'ai dit, vous interagissez √† distance avec IDS et IPS, chargeant divers exploits.  Combien d'entre vous ont trait√© avec JBoss, un serveur d'applications open source, savent que la plupart des fichiers sont t√©l√©charg√©s √† l'aide de celui-ci.  L'injection SQL code simplement certains chemins que je peux y acc√©der, ce qui me donne g√©n√©ralement acc√®s au shell et √† la DMZ, et j'essaie de travailler √† partir de l√†. <br><br>  Apr√®s cela, je fais une chose incroyable et envoie un e-mail au client car cela fonctionne.  Votre c√¥t√© client avec le framework Metasploit est tout simplement merveilleux, vous pouvez donc choisir tout ce qui prend en charge le dernier navigateur, PDF, ActiveX ou exploit de fichier, assurez-vous qu'il inverse le shell TCP, apr√®s quoi Metasploit transforme ce message en HTTPS.  Tout est super, la seule mauvaise chose c'est qu'il est √©crit en Ruby.  Mais l'outil Python SET est un tout nouveau niveau de pentesting. <br><br><img src="https://habrastorage.org/webt/nn/zn/h4/nnznh4uhjpij9ty0hrby0a0-dyo.jpeg"><br><br>  Cet outil vous permet de faire des choses incroyables.  SET a √©t√© cr√©√© par David Kennedy du groupe ReLic, f√©licitons-le pour cela.  C'est exactement ce dont nous avons besoin pour illustrer l'essence de ce qui se passe.  Les pirates n'analysent plus les ports de votre r√©seau, s'ils n'essaient pas de le faire, alors en tout cas ils ne vont probablement pas prendre le contr√¥le du shell.  Les pirates essaient de vous t√©l√©charger quelque chose de malveillant en utilisant le courrier √©lectronique ou quelque chose comme √ßa. <br><br>  Par cons√©quent, il est n√©cessaire que le client comprenne que lors d'un pentestage, il est n√©cessaire de tester son syst√®me pour la r√©sistance aux effets des sites frauduleux, du phishing, etc.  Surtout si vous rencontrez un tel client que j'avais, il s'est lev√© et a dit: "OK, Joe, je ne vais pas vous payer des conseils pour enseigner aux employ√©s de l'entreprise comment utiliser correctement le r√©seau."  Il faut donc reproduire toutes les vraies menaces c√¥t√© client pour qu'il comprenne √† quel point c'est s√©rieux. <br><br>  Ainsi, la prochaine √©tape du pentesting est l'attaque de pivot, ou ¬´attaque tournante¬ª, dans laquelle un h√¥te pirat√© est utilis√© pour attaquer d'autres h√¥tes.  ¬´Turning Attack¬ª sur le LAN est une partie importante du pentesting c√¥t√© client. <br><br><img src="https://habrastorage.org/webt/i0/a3/ae/i0a3aeevv25jnxgqfm6lktiwjso.jpeg"><br><br>  Metasploit prend en charge Pivot, et si je n'ai pas la possibilit√© de t√©l√©charger l'archive .cab avec tous les fichiers ex√©cutables qui ont √©t√© statiquement compil√©s √† l'avance, il n'est pas n√©cessaire d'installer quoi que ce soit.  Je l'utilise dans mon atelier pour faire un d√©ploiement Pivot sur un LAN, donc je ¬´saute¬ª dedans et commence √† bouger √† partir de l√†. <br><br>  La prochaine chose que j'envisage, ce sont les solutions de s√©curit√© g√©n√©rales pour le LAN.  Ce manque de DHCP, c'est-√†-dire les adresses IP statiques, les adresses MAC DHCP, la s√©curit√© des ports, les solutions NAC, sont des choses qui me rendent incapable d'acc√©der au r√©seau.  Alors, que dois-je faire si je ne peux pas acc√©der au net? <br><br>  Si DHCP est manquant et que les adresses IP sont statiques, je vole une adresse IP valide √† l'h√¥te.  Mes enfants m'ont appris cela parce que les adresses IP statiques sont une chose incroyablement inefficace.  J'esp√®re que vous n'avez pas de clients qui disent qu'ils vont arr√™ter les pirates utilisant des adresses IP statiques.  Je fais de m√™me en pr√©sence d'adresses MAC DHCP - je vole une adresse MAC valide.  Si nous avons un port s√©curis√©, je vole √©galement une adresse IP ou MAC valide.  Enfin, s'il existe des solutions NAC, vous pouvez simplement prendre l'ordinateur, le retourner et regarder son adresse MAC, ou essayer de trouver des exceptions de protocole 802.1x, c'est-√†-dire des p√©riph√©riques qui ne prennent pas en charge 802.1x, tels que des imprimantes, des copieurs, des supports de CD-ROM et t√©l√©phones VoIP. <br><br>  Toutes ces m√©thodes fonctionnent pour moi, et les meilleurs appareils pour p√©n√©trer les LAN sont les t√©l√©phones VoIP.  J'avais de nombreux clients qui utilisaient l'autorisation automatique des t√©l√©phones VoIP dans le r√©seau vocal en fonction de l'adresse MAC et de la balise VLAN.  Ainsi, vous pouvez cr√©er une ¬´bo√Æte¬ª Linux similaire √† un t√©l√©phone VoIP et vous √©craser sur un r√©seau LAN vocal virtuel, en contournant les solutions NAC. <br><br>  La plupart des t√©l√©phones de mes clients devaient √™tre connect√©s directement au centre logiciel CallManager dans la DMZ interne, car tous les centres CallManager devraient fonctionner avec d'autres serveurs, donc ma r√©ception a bien fonctionn√© pour l'ensemble du r√©seau. <br><br>  Il existe une chose appel√©e Voip Hopper qui automatise le processus de p√©n√©tration d'un VLAN vocal.  Vous pouvez t√©l√©charger cet exploit depuis voiphopper.sourceforge.net et l'utiliser pour ¬´sauter¬ª directement dans le VLAN. <br><br>  Lorsque je p√©n√®tre dans le r√©seau, je d√©couvre g√©n√©ralement d'abord qui est l'administrateur du domaine.  Sur la diapositive, vous voyez une liste de commandes que j'utilise: d√©finir - pour trouver des informations sur le domaine et les utilisateurs, vue r√©seau - pour voir les ordinateurs du r√©seau, les domaines utilisateur et d'autres domaines, net localgroup - pour trouver des groupes locaux d'ordinateurs et ainsi de suite. <br><br><img src="https://habrastorage.org/webt/9a/sk/sc/9askscguc6uavr4wuhu1vyl01na.jpeg"><br><br>  Je fais cela pour d√©couvrir qui et dans quels groupes travaille sur le r√©seau afin d'essayer d'attaquer leurs ordinateurs.  Encore mieux, si je peux obtenir un administrateur local ou un syst√®me local, la prochaine chose que je fais est de scanner le r√©seau pour d√©terminer qui est l'utilisateur sp√©cifique de cet ordinateur. <br><br><img src="https://habrastorage.org/webt/2n/2w/kx/2n2wkxxigbhr3c3kdihw9rrg-ow.jpeg"><br><br>  Vous pouvez utiliser une vari√©t√© de scripts pour inspecter le r√©seau pour savoir o√π, sur quelle machine se trouve la ¬´bo√Æte¬ª de l'administrateur.  Si vous avez "attrap√©" un administrateur local ou un syst√®me local, vous pouvez "sauter" dans leur "bo√Æte" et utiliser le shell pcexec √† partir de l√†. <br><br><img src="https://habrastorage.org/webt/fy/wf/kl/fywfklgaif8vw1dsxcuc35g4j_0.jpeg"><br><br>  Apr√®s avoir saut√© dans la ¬´bo√Æte¬ª, je commence √† chercher un moyen d'augmenter mes privil√®ges.  Construire des privil√®ges est une chose vraiment difficile.  Dans Windows XP, ces choses fonctionnent m√™me avec le Service Pack Sp3, qui utilise cette belle interface de ligne de commande cmd.exe, ce qui est une excellente chose. <br><br>  Lorsque j'ai tent√© de tester une banque, j'ai d√ª ¬´tuer¬ª le service d'infrastructure McAfee, qui fait r√©f√©rence au syst√®me de pr√©vention des intrusions HIPS.  Pour cela, j'ai utilis√© la commande pskill.exe.  J'ai donc d√©sactiv√© McAfee, d√©sactiv√© HIPS, d√©sactiv√© l'intercepteur et firepm et tous les autres processus lanc√©s par le syst√®me de pr√©vention des intrusions. <br><br><img src="https://habrastorage.org/webt/hg/zo/j9/hgzoj99riuecwoqodktqspulkre.jpeg"><br><br>  Une autre chose que je n'ai pas eu le temps de montrer sur la diapositive est que lorsque vous d√©sactivez McAfee, vous devez d'abord augmenter les privil√®ges, et cela fonctionne √©galement en ce qui concerne la protection des terminaux Symantec.  Le fait est qu'apr√®s avoir ¬´tu√©¬ª tous ces processus, ils recommencent apr√®s un certain temps.  Par cons√©quent, vous devez ¬´d√©crocher¬ª les fichiers DLL en m√©moire pour arr√™ter le red√©marrage de la protection.  Je n'ai pas post√© cela sur les diapositives, mais si vous vous en souvenez plus tard, je vais vous donner la syntaxe de cette astuce. <br>  Une autre chose que je viens d'apprendre sur McAfee est que les fichiers de la liste d'exclusion apparaissent sous un nom sp√©cifique, pas un hachage ou quelque chose de similaire.  Par cons√©quent, les fichiers inclus dans la liste d'exclusion antivirus McAfee ne sont pas prot√©g√©s contre les d√©passements de m√©moire tampon et je vais utiliser ce fait √† mes propres fins. <br><br>  Ce qui suit montre le ¬´massacre¬ª de HIPS en tant que syst√®me avec Metasploit.  Maintenant, ils ont quelque chose appel√© getsystem, vous pouvez donc simplement √©crire Metasploit, appeler getsystem et il vous lancera directement dans le syst√®me en utilisant l'une des quatre m√©thodes: arr√™ter la protection antivirus g√©n√©rale, arr√™ter HIPS, "tuer" les processus McAfee ou "tuer" Processus HIPS. <br><br><img src="https://habrastorage.org/webt/v4/zj/l0/v4zjl0bsdiczwgmjcsfsyz4_x8m.jpeg"><br><br>  La derni√®re chose que je voulais montrer √©tait la capture de domaine. <br><br><img src="https://habrastorage.org/webt/zx/q7/ol/zxq7oldrdrybyhrvhxh55qjwyym.jpeg"><br><br>  D√®s que j'arrive dans la ¬´bo√Æte¬ª de l'administrateur, j'utilise tous les jetons que j'ai vol√©s et commence √† utiliser ses pouvoirs.  Empruntant l'identit√© d'un administrateur de domaine, je cr√©e un groupe d'utilisateurs et je les ajoute au groupe d'administrateurs.  Pour mes besoins, cela fonctionne tr√®s bien. <br><br><img src="https://habrastorage.org/webt/xa/cp/hw/xacphwket5nhebsdpc3kzor_y04.jpeg"><br><br>  En ce qui concerne la protection, je disposerai de 1 √† 2 pages de documentation sur la protection contre chacune des attaques dont j'ai parl√© aujourd'hui.  Il indique comment mener une attaque et comment se d√©fendre contre elle.  Donc, si vous avez besoin de telles informations, contactez-moi, tous les contacts sont sur la diapositive. <br><br>  Si je n'ai pas de questions, je vais m'arr√™ter l√†. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/tJsNu0VRKYY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><br>  Merci de rester avec nous.  Aimez-vous nos articles?  Vous voulez voir des mat√©riaux plus int√©ressants?  Soutenez-nous en passant une commande ou en le recommandant √† vos amis, une <b>r√©duction de 30% pour les utilisateurs Habr sur un analogue unique de serveurs d'entr√©e de gamme que nous avons invent√©s pour vous:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Toute la v√©rit√© sur VPS (KVM) E5-2650 v4 (6 c≈ìurs) 10 Go DDR4 240 Go SSD 1 Gbps √† partir de 20 $ ou comment diviser le serveur?</a>  (les options sont disponibles avec RAID1 et RAID10, jusqu'√† 24 c≈ìurs et jusqu'√† 40 Go de DDR4). <br><br>  <b>VPS (KVM) E5-2650 v4 (6 c≈ìurs) 10 Go DDR4 240 Go SSD 1 Gbit / s jusqu'en janvier gratuitement</b> en payant pour une p√©riode de six mois, vous pouvez commander <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  <b>Dell R730xd 2 fois moins cher?</b>  Nous avons seulement <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2 x Intel Dodeca-Core Xeon E5-2650v4 128 Go DDR4 6x480 Go SSD 1 Gbps 100 TV √† partir de 249 $</a> aux Pays-Bas et aux √âtats-Unis!</b>  Pour en savoir plus sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cr√©ation d'un b√¢timent d'infrastructure.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">classe utilisant des serveurs Dell R730xd E5-2650 v4 co√ªtant 9 000 euros pour un sou?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr432496/">https://habr.com/ru/post/fr432496/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr432484/index.html">Global AI & MR Bootcamp Moscou 2018</a></li>
<li><a href="../fr432486/index.html">Pourquoi conduire une voiture est un d√©fi, m√™me pour l'IA</a></li>
<li><a href="../fr432488/index.html">Ce que je n'aime pas en C et C ++</a></li>
<li><a href="../fr432492/index.html">5 livres que Bill Gates conseille en 2018</a></li>
<li><a href="../fr432494/index.html">IntelliCode est d√©sormais √©galement en TypeScript / JavaScript</a></li>
<li><a href="../fr432498/index.html">D√©finition des nombres √† l'oreille: impl√©mentation sur Arduino</a></li>
<li><a href="../fr432500/index.html">Certification PMP: Audit d'application</a></li>
<li><a href="../fr432502/index.html">Internet peut avoir de graves probl√®mes en raison de langages comme C et C ++ qui contribuent aux vuln√©rabilit√©s</a></li>
<li><a href="../fr432506/index.html">Microsoft Connect (); 2018: toutes les annonces de la conf√©rence cloud</a></li>
<li><a href="../fr432508/index.html">Sur les barri√®res √† l'utilisation des syst√®mes de signalisation en intelligence artificielle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>