<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📞 🔀 👨🏻‍🚒 该指南的悠久历史-我如何编写5年的智能远足径服务 👩🏽‍🤝‍👨🏼 ⏰ 👲🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="许多人有一个或多个自己的家庭项目。 这些是小型公用事业，实验性作品，新技术样本，Facebook“杀手”等等。 此类项目长期参与的频率明显降低。 


 在这篇文章中，我将分享我的经验，并告诉您五年来我偶尔为圣彼得堡开发智能指南的方法，如何设法不放弃这项业务，对项目的态度如何变化以及最终发生了什么。...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>该指南的悠久历史-我如何编写5年的智能远足径服务</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471216/"><p> 许多人有一个或多个自己的家庭项目。 这些是小型公用事业，实验性作品，新技术样本，Facebook“杀手”等等。 此类项目长期参与的频率明显降低。 </p><br><p> 在这篇文章中，我将分享我的经验，并告诉您五年来我偶尔为圣彼得堡开发智能指南的方法，如何设法不放弃这项业务，对项目的态度如何变化以及最终发生了什么。 </p><br><p><img src="https://habrastorage.org/webt/ee/8f/lg/ee8flg22vilx7tptxu7jal6iity.jpeg"></p><a name="habracut"></a><br><blockquote> 下面描述了许多可疑的技术解决方案和自行车，但请不要感到惊讶-几乎所有这些解决方案都为当时的目标和资源辩护（通常是我的知识和时间） </blockquote><br><h2 id="ideya"> 主意 </h2><br><p> 在任何一个大型旅游城市中，都有数百本很好的和不太好的指南，其中绘出了主要路线，主要要点以及许多其他有用的信息。 <br> 但是那里的路线是恒定且有限的，景点通常只是最重要的景点，例如“三天内可以看到的风景”。 </p><br><p> 因此，构想是建立智能路线。 用户选择点A和B并不会收到经典的最短路线，而是收到靠近它的东西，但会经过附近的景点。 </p><br><p> 这样的指南的受众不仅是游客，还是想要多样化其典型的到家/公司/商店的路线的本地居民（应用程序中有这样的评论！），或者只是更好地了解这座城市。 </p><br><p>  <strong>TL; DR</strong> <br> 最重要的是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Wander</a> Android应用程序，该应用程序现在仅适用于圣彼得堡。 </p><br><h2 id="akt-1-prototip"> 第1幕：原型 </h2><br><p>这个想法是在2014年回到大学的，我什至不确定这个想法最初是我的，在某些课程中，有必要分成小组，提出项目并完成，作为学期论文。 他们当机并产生了该项目的想法，然后开始使用<code>TravelPath</code>这个名字。 </p><br><p> 它应该是一个Web服务，我对PHP有点了解，所以我选择了PHP。 <br> 有必要解决几个问题： </p><br><p>  <strong>1.景点基地</strong> <br> 在这里，我们遇到了<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">OpenStreetMap</a> ，结果证明这是最适合我们的最酷的项目。  OSM是基于社区的非营利性社区地图项目。 像Wikipedia一样，仅关于地图。 <br> 以xml格式下载圣彼得堡的地图- <a href="">此处有</a>资源列表。 <br> 我记得当时当时地图文件的重量超过1 GB，因此编写了一个流解析器，用于选择预选类别的对象-纪念碑，公园，教堂，博物馆。 <br>  OSM在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">此处</a>提供了有关标签，属性和您需要的所有内容的大量文档，这使它很容易弄清楚如何从卡中获取所需的数据。 </p><br><p> 制图数据是由发烧友创建的，因此并非到处都有，并且并非总是对象具有必要的标签，某些地方存在错误，问题。 但是对于大城市，数据质量很高。 </p><br><p> 如果我正确发掘了旧代码，则可以使用以下标签来获取对象： </p><br><ul><li> 意味着<code>cathedral</code> ， <code>chapel</code> ， <code>church</code>已成为<code>church</code>一种 </li><li> 与<code>fountain</code>价值的<code>amenity</code>成为<code>monument</code> </li><li> 具有<code>artwork</code>和<code>viewpoint</code>价值的<code>tourism</code>去<code>monument</code> ， <code>zoo</code>和<code>museum</code>到<code>museum</code> ，和<code>theme_park</code>到<code>park</code> </li><li> 具有<code>boundary_stone</code> <code>historic</code> ， <code>castle</code> ， <code>memorial</code> ， <code>monument</code>值归入<code>monument</code>类别 </li><li> 在<code>park</code>享有价值的<code>leisure</code>自然会在<code>park</code>结束 </li></ul><br><p> 我们将所有接收到的对象放入具有坐标和欢乐的数据库中！ 圣彼得堡已经释放了1,200点以上。 </p><br><p>  <strong>2.建立路线</strong> <br> 当然，这并不意味着要在课程中实施复杂的系统，并且当时的技术知识很匮乏，因此我们决定将路线构造分为两部分：路线中对象的选择和路线构造本身。 在某种程度上，这决定了未来的命运，因为后来我不想改变这一计划。 </p><br><p> 选定点之间的路线由Google Maps API给出，该路线可以很好地建立汽车路线，但当时至少在俄罗斯还不知道如何走路。 </p><br><p> 对象的选择必须由您自己实现。 事实证明，该应用程序的以下方案： </p><br><p><img src="https://habrastorage.org/webt/qf/ji/cu/qfjicujbis8zm-4ojiuumt9vkqk.jpeg"></p><br><p> 该方法的主要缺点是仅基于GPS坐标而在不考虑地图的情况下选择路线中的点。 总体而言，这相当有效，特别是在街道网频繁的地方。 例如，在桥梁稀少的河流上，罕见的问题就很明显。 </p><br><p> 接下来，我们提出一种用于选择路线中点的算法。 一方面，路线必须不会过多地转移到一侧，但另一方面，它仍会在给定的邻域中选择一些点。 </p><br><p> 关于问题的陈述不是很清楚，出现了相同的算法，类似于A *（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">wiki</a> ）：相信从每个点到每个点都有过渡。 此外，在A *中，搜索AB路径时到达顶点n的价格通常表示为： <code>f(n) = g(An) + h(nB)</code> ，其中<code>g(x,y)</code>是从x到y的路径长度，而<code>h(x,y)</code>是从x到y的距离的启发式估计。 我的价格是相同的<code>f(n) = h(x,n) + h(n,y) * q</code> ，其中q是小于1的常数。通过更改q的值，您可以影响路线中的点数。 </p><br><p> 我们实现了算法，并且欢呼雀跃，一切正常，紧固了界面，购买了域名，将其上传到托管服务器，编写了报告和其他官僚主义，并为之欢欣鼓舞！ 看起来像这样（之后并没有太大变化）： </p><br><p><img src="https://habrastorage.org/webt/b3/fw/uz/b3fwuz0lqz_x3z2adx9qv-usau8.jpeg"></p><br><p>  <strong>总计：我</strong>有了一个很酷的主意的原型，熟悉OSM，Google API，作为一个团队工作，在大学中获得荣誉，这也很有趣。 </p><br><h2 id="akt-2-pervaya-polnocennaya-web-versiya"> 第二幕：第一个完整的网络版本 </h2><br><p> 我真的很喜欢这个主意，因此决定进一步发展，但已经有了一个主意。 显而易见，首先需要的是：当时Google Maps尚无法建立步行路线，而仅建造了汽车路线。 应用程序的整体思想主要是关于步行，这意味着您需要能够沿着公园，人行道，桥梁等遮荫小巷建造路线。 </p><br><p> 那是在2015年，我继续从事TravelPath的工作，纠正了这一致命缺陷的方法-我开始自行建立方法。 </p><br><p> 我没有更改技术，即<code>PHP</code> + <code>MySQL</code> 。 当然，我立即意识到这不是执行此任务的最佳技术堆栈（用PHP构建路由？认真吗？）。 <br> 但是我时间有限，还没有准备好切换到一个更合理的堆栈，其次，直到现在，该项目是“摆在桌面上”编写的-我想在移动设备上使用这样的应用程序，并且在那些年中，这仅意味着本机开发。 也就是说，尽管进行了一些尝试来创建自适应界面，但它以Web版本的形式不适用仍然很明显。 </p><br><p> 出现了以下任务： </p><br><p>  <strong>1.获取城市图</strong> <br> 在这里，相同的OSM可以拯救我们。 再次，以xml格式下载图形，对其进行解析，仅选择必要的道路类型并惊叹于数据量-那时，出现了超过300万个顶点和500k边。 第一个想法是图形可能不相关。 <br> 任何院子，封闭的领土，难以理解的事物对于构建路线都不是很有趣，因此我们选择一个点，从中绕过整个图，标记通过的顶点并获得图的连接部分。 <br> 总共出现了超过60万个峰值和15万个边缘。 <br> 将收到的内容保存在数据库中，直到更好的时间为止。 </p><br><p>  <strong>2.建立路线</strong> <br> 有数据，一切都剩下了：在上面建立路由。 我们无需发明任何新技术-记住算法的过程，仔细阅读有关使用图的文章，采用A *算法，并在PHP中实现它， <del> 欢喜 </del> 一切工作的缓慢程度令其感到沮丧。 </p><br><p> 有很多数据，因此，在构建图形时，我们不会使用完整的数据，而只会读取其中的一部分-落入从路径中所有选定点获得的矩形中的所有内容。 </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qc/p7/9k/qcp79klhlir-x7udd5im-0h-cw0.jpeg"></div><br><p>  （红色框=〜读取了这样的图以构建路径） </p><br><p> 与路线的候选点相同-我们不考虑所有内容，只考虑起点和终点之间的点+一个小值。 <br> 选择了这个矩形的大小（增加它的常数）后，我们尝试保证读取的数据最小为最小。 <br> 还有一种想法是将城市划分为正方形，首先通过正方形构建路线，然后读取这些正方形内的图形并仅沿其寻找路径。 您可以预先计算所有相邻正方形之间的路径。 甚至更多-计算并保存所有景点之间的路径。 然后，仍然可以仅构建从初始对象到第一个对象以及从最后一个对象到终点的路径。 <br> 但是手没有达到这种自行车的实现。 </p><br><p>  <strong>3.在合理的时间内路由</strong> <br> 显而易见，瓶颈是存储和处理数据-搜索算法本身并没有特别加速。 膝上的基准测试确认，大部分时间都花在了从数据库和类似操作中的读取上。 <br> 在这种情况下应该怎么做？ 不要存储该图。 但是我有一种特殊的方式， <code>MySQL</code> ，仅此而已，但是这个问题需要解决。 </p><br><ol><li> 首先-数据被规范化，这在解析时很方便，但是读取成千上万条记录甚至从两个表中读取都是很痛苦的。 显而易见的解决方案是只为边创建两个表（用于顶点和边）之一，在每个表中记录两个顶点的坐标及其ID。 </li><li> 我们会预先计算图表中与景点最近的顶点，而不是每次都动态地进行计算。 </li><li> 要花费大量时间搜索最接近给定用户的图形点。 为了加快速度，我将整个图形分为多个小扇区，使用坐标公式，您可以立即获取扇区ID，然后仅在扇区内部而不是整个图形中选择顶点，这要快得多。 </li></ol><br><p> 经过所有操作后，我们在2秒钟内即可在圣彼得堡构建出一条合理的步行路线，这听起来不错-这是用户可以接受的等待时间。 <br> 最终方案如下所示： </p><br><p><img src="https://habrastorage.org/webt/gk/f0/mh/gkf0mhnk5i9xnnnm6g1eym_a3ce.jpeg"></p><br><p>  <strong>总计：我更加</strong>了解OSM数据，在实践中，我解决了图形问题（图形算法终于有用的情况），写了我的第一个基准测试。 </p><br><h2 id="akt-3-pervaya-normalnaya-web-versiya"> 第三幕：第一个普通的网络版本 </h2><br><p> 这是有关该项目作为一种可能对某人有用的产品的最初想法，而不是桌面上的工艺品。 <br> 因此，您需要解决两个最重要的问题： </p><br><ol><li> 显而易见，像我在上一段中所做的那样构建路线是错误的。 </li><li> 对于任何人来说，浏览器中的指南可能都不方便-您想要在城市中漫步，研究一个方便的应用程序，在其中可以阅读周围的特色等等。 简而言之，至少-您需要一个很酷的自适应界面，并且很好地需要一个移动应用程序。 </li></ol><br><p> 但是在这个阶段，我决定只处理第一点。 我们研究了有关此主题的Internet，在此OSM再次提供了帮助，或者更确切地说，这归功于OSM诞生的项目。 <br> 基于OSM的地图数据，开源路由机可以在适当的时候构建各种路线。 是的，还有一个带有良好文档的开源项目，您可以在服务器上安装和使用它。 <br> 另外，它还有一个相当方便的API。 <br>  antaresm早已在帮助我的时候就<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">撰写了</a>关于OSRM的文章。 没错，大量的水已经流过，文章已经过时了。 但是非常感谢作者！ 实际的，很好的文档在<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">这里</a> 。 <br> 成功安装后，我们几乎毫无遗憾地抛弃了所有关于路由的代码，并开始遵循OSRM api中的路由，最终图如下所示： </p><br><p><img src="https://habrastorage.org/webt/by/2_/sg/by2_sgklt4qfns1b6l_i544t9z8.jpeg"></p><br><p> 我们甚至不涉及客户端部分-就其而言，我们服务的API不会发生任何变化。 </p><br><p>  <strong>总计</strong> ：我考虑了其他人对应用程序的实际使用，结果证明这是正常的体系结构和良好的路由。 网络版本仍然可用，尽管自那时以来没有更改。  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://travelpath.ru/</a> </p><br><h2 id="akt-4-android-prilozhenie"> 行动4：Android应用 </h2><br><p> 尽管已解决了过去的问题，但很明显，该项目对除我以外的所有人而言仍然毫无用处。 因为您需要一个普通的界面，最重要的是需要一个移动应用程序，而不是浏览器版本。 现在，这项技术已经取得了进展，也许已经有可能为移动客户端开发一种功能良好的浏览器应用程序，但是在2015-2016年将无法实现。 这意味着以网络版本的形式使用该项目的可能性非常小-坐在家里，提前选择有趣的地方。 因此，如果我们谈论的是普通产品，则需要具有良好界面的移动应用程序。 </p><br><p> 然后到2016年，我开始用Java（但不是后端）编写程序，并认为在Android下，他们也用Java编写程序。 为什么不尝试应用程序开发，那应该是一个有趣的经历。 <br> 第二个问题是我不知道如何设计，我自己也不会做一个好的界面。 我来参观了我的第一个工作地点（一个小型​​的Le- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Dantu</a>工作室），并邀请了我的同事<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">burovk</a>参加该项目。 奇怪的是，他同意了，对此非常感谢：） </p><br><p>  <strong>第一个布局和原型</strong> <br> 首先，我们试图命名一个新名称，因为TravelPath并不是一个非常确切的缩写。 因此，在西里尔的努力下，“ Wander”出现了一个有趣的徽标： </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/6t/8y/7f/6t8y7fht6pqmxvwnajhrtimxe5u.png"></div><br><p> 我一直把它和一个大胡子男人联系在一起，但是总的来说，我喜欢它。 </p><br><p> 然后出现将来的应用程序的第一个布局： </p><br><p><img src="https://habrastorage.org/webt/t4/u6/x8/t4u6x8pszrlpk7vop64rizgsywu.jpeg"></p><br><p> 我们还认为，讨论，出现第二个选项，它成为应用程序的第一个版本： </p><br><p><img src="https://habrastorage.org/webt/uk/nr/py/uknrpyeckiz1gdqogmtyngojun4.jpeg"></p><br><p> 从开发方面，我有意识地决定不使用各种具有不同魔术效果的流行框架-因为在不了解工作的情况下使用它们存在很大风险，并且研究基础知识和基础知识都非常耗时。  Google，我们阅读了官方码头，教育文章，并且克服了困难。 </p><br><p> 记住的问题和任务： </p><br><ul><li> 对于android，有<code>ProGuard</code>一种实用程序，可在汇编过程中压缩源代码，切掉未使用的代码，更改名称等。 它的存在是合理的，但是当您只是自己开发并自己进行开发时-尚不存在重命名字段，这会影响行为，这一点并不明显。 而且一切都只发生在产品装配中。 发布后，一切都变得很酷，但是由于某种原因，没有统计信息。 您开始从后端扣款-客户端发送一些废话，而不是普通的字段名-a <code>a, b, c</code>等。 拐杖使API能够熟练地对此进行解析，然后您发现ProGuard尝试了，您需要在其配置中指定必要的类作为异常。 通常没有什么异常，但是调试时钟就消失了。 </li><li> 一个有趣的任务是更新应用程序数据。 主数据库带有一个<code>apk</code>文件，我在每次发行前都会对其进行更新。 但是，您还需要支持通过网络进行的更新，以便在发生任何更改时，客户端始终可以获取最新的数据。 <br> 在第一个版本中，我决定只关注上一次更新的时间。 该应用程序存储最新鲜对象的时间，在每次启动时，它都会询问后端是否有新的东西出现。 将更新发送给他，客户端再次记住最新接收到的对象的时间（但不记住更新本身的时间，这很重要）。 <br> 原来，我想得很糟-因为一年后出现了第五类-建筑物。 从旧版本升级到新版本时，会出现问题。 我必须稍作更改，客户会为每个类别（而不是一般类别）发送时间。 但是该方案仍然不是完美的-在向对象添加新字段时，会出现无法像这样解决的问题。 有一些关于如何做得更好的想法，但是没有伸出援手，总的来说任务不是很优先。 道德-值得认真对待这些问题并事先考虑一下。 </li></ul><br><p> 我还想说一下每个人都已经知道的知识-Stack Overflow非常酷，当您以我的方式进行一些无关紧要的开发时，这一点尤其明显-立即编写应用程序，而不是从课程，指南，演示示例中轻松编写。 当没有人问朋友时。 但是除了他之外，关于android开发的聊天也有帮助-在这里您可以提出更多抽象问题，并询问如何最好地做某事的提示。 </p><br><p> 该应用程序于2016年12月5日登陆Google Play <br> 他只有基本功能-铺设路线，查看有关点的信息。 但这似乎还是成功的！ 成功当然只有在自己的眼里。 据了解，该应用程序仍是原始应用程序，需要改进。 </p><br><p>  <strong>第一个完整版和媒体</strong> <br> 因此，我认为下一个版本是完整版本，并且是首次发布。 <br> 首先，我们同时审查了设计和徽标-现在它变成了这样： </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/4c/0q/ii/4c0qii9_t77tgksfkp31mldx94k.png" width="96"></div><br><p> 他们还添加了对指南重要的功能-收藏夹，地图上的观察点，带有搜索的景点列表。 更新后的应用程序如下所示： </p><br><p><img src="https://habrastorage.org/webt/eo/fh/2j/eofh2jhc1tjz8lyrc1t-ra9kpnk.jpeg"></p><br><p> 另一个想法浮出水面-与博物馆之夜联系，并为在圣彼得堡的活动设置单独的模式。 <br> 博物馆之夜是一年一度的国际性假期，博物馆经常在夜间开放，并提供特别节目。 一张票是有效的，许多人试图一次游览许多博物馆。 同时，没有用于移动设备的导航器/地图-活动官方网站上只有一些功能。 <br> 听起来很符合Wander的想法，并且也很需要。 我联系了活动的组织者，但不幸的是，这个主意没有得到赞赏，直到更美好的时光，它一直铭记在心。 </p><br><p> 最后，事实证明很酷，最终该应用程序可以被充分使用。  2018年6月2日，发布了一个版本，我们决定尝试向全世界展示-我们在VKontakte和Instagram上购买了一些广告。 但最重要的是，他们写信给几个媒体。 该文件写了关于该应用程序启动的<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">注释</a> ，之后，彼得堡的许多出版物-The Village，Dog和其他-用风扇被编写或转载。 终于有交通了！ 应用程序内部也出现了安装高峰期的活动图。 当然，我们不必为很长的时间而欢欣鼓舞-但是我们得到了第一批用户，一个有用的反馈，总的来说，这非常有启发性。 在同一个夏天，来自Google Play搜索的流量非常引人注目，这非常令人愉快，但后来无法再现结果。 <br> 总之，这给了我很大的动力，并有助于继续开发该应用程序。 </p><br><p>  <strong>接下来要做什么？</strong>  <strong>博物馆之夜，邪恶的Google，循环路线</strong> </p><br><p> 季节已经过去，应用程序中的活动急剧下降，很明显，锯功能不是很有用-没有人会看到它们，没有用于营销的预算。 有必要提出一些建议，然后我们在博物馆之夜再次回到被推迟的想法。 <br> 但是，再次无法达成合作伙伴关系，但是这次我们决定不推迟这个想法，而是自己做所有事情。 事实证明，在单独的导航模式下，许多有用的功能：地图上的博物馆，仅用于参与者的路线，简要信息，收藏夹。 </p><br><p> 除此模式外，即使从积压的订单中，我们也保留了路由，最重要的是-循环路由的功能。 </p><br><p> 循环路线始终比AB路线更重要，但被固执地忽略了。 尽管如此，人们还是经常有目的地从A到B漫步在地铁/家庭/工作/酒店周围。最后，他们把手伸到了手，我想到了一个简单的启发式方法： <br> 我们得到给定半径内的所有点。 半径是路线长度的限制器。 我们首先选择一些点（有条件地随机）。 来自它的所有其他元素按照它，中心和给定点之间的角度从小到大的顺序进行排序。          /  ,  . </p><br><p>       ,            . </p><br><p>     ,  ,   : </p><br><p><img src="https://habrastorage.org/webt/fe/nx/6s/fenx6slnfgifc85nw-prhsv51mq.jpeg"></p><br><p>    ,   ,       ,     ,  ,    .     —  ,         , . </p><br><p>        Kotlin   , ,   Wander.   ,     .    ,   .         ,     java   —       . </p><br><p>     ,  ,  ,   .          —    The Village.        -        1000 ,    1400   . ,      Wander  , , ,       .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> . </p><br><p>    Google  .            —  2018      ,         API.        —         2018-        <code>Places API</code>   .         API,   -  —        .        . </p><br><p>        —  <code>Places API</code> ,          .        ,      .  ,         —   Google Maps,    .           . </p><br><p> <strong></strong> :  android        Google Play,       .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">burovk</a> ,    Wander    ,       . </p><br><h2 id="ty-teper-ne-tolko-razrabotchik">      </h2><br><p>    ,   ,       ,     —       .      ,  ,    ,      —     .   ,   — ,      .    ,         ,     . </p><br><ul><li>                 —          <code>git tag v1.0.5</code> . </li><li>   ,   ,   ,    . </li><li>         -   ,       . </li><li>            —      ,    //etc       . </li></ul><br><p>        Android  .      , ,      ,       . </p><br><p>       —      ,    . </p><br><h2 id="plany">  </h2><br><p>  !  ,       .  , ,    ,           ,      ,   . <br>      : </p><br><ol><li>     — ? -   ? </li><li>   .   ,    —   . </li><li>   IOS </li><li>   </li></ol><br><p>     . ,   IOS      ,    . </p><br><p>      — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  </a> .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Google Play</a> . </p><br><h2 id="vyvody"> 结论 </h2><br><ul><li>      ,   — .      ,          .           . ,       . </li><li>   —  ,      .   backend ,       ,    android   Kotlin,   ,  ,     .     ,     . </li><li>      — .      - ,           .   -   .   ,    —   . </li></ul><br><p>     .         IOS (   ) —   ! </p><br><p> 聚苯乙烯 <br>         — <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://habr.com/post/414433/</a> .         . ,       (    -!),       . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN471216/">https://habr.com/ru/post/zh-CN471216/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN471198/index.html">我们使用指数分布研究中心极限定理的陈述</a></li>
<li><a href="../zh-CN471202/index.html">由于卸载TeamViewer而无法打开MacBook</a></li>
<li><a href="../zh-CN471204/index.html">在自然语音中识别日期和时间</a></li>
<li><a href="../zh-CN471210/index.html">上帝...关于程序员的民谣</a></li>
<li><a href="../zh-CN471212/index.html">10条提示和技巧，以帮助您成为VueJS上最好的开发人员</a></li>
<li><a href="../zh-CN471220/index.html">座舱-通过便捷的Web界面简化Linux中的典型管理任务</a></li>
<li><a href="../zh-CN471222/index.html">了解应用程序和服务隐私策略将有助于神经网络</a></li>
<li><a href="../zh-CN471226/index.html">Linux有很多面孔：如何在任何发行版上工作</a></li>
<li><a href="../zh-CN471228/index.html">Grokay PyTorch</a></li>
<li><a href="../zh-CN471232/index.html">我将LPS331AP连接到Omega Onion2的经验</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>