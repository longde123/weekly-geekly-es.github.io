<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ•— ğŸ‘¨ğŸ»â€ğŸ”§ ğŸ§—ğŸ½ Desenvolvimento de aplicativos em mini aplicativos VK ğŸ˜¬ ğŸˆ´ ğŸ›Œ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Por que devo procurar desenvolver aplicativos para trabalhar no VK? Eu jÃ¡ tive muitos anos de desenvolvimento front-end para serviÃ§os de massa e o que...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desenvolvimento de aplicativos em mini aplicativos VK</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480974/">  Por que devo procurar desenvolver aplicativos para trabalhar no VK?  Eu jÃ¡ tive muitos anos de desenvolvimento front-end para serviÃ§os de massa e o que a rede social da VKontakte atualmente oferece ao desenvolvedor Ã© uma maneira rÃ¡pida e eficaz de construir outro canal de comunicaÃ§Ã£o com um pÃºblico realmente grande.  Abaixo, mostrarei qual Ã© a ideia dos mini aplicativos VK, quais tecnologias usar no desenvolvimento do aplicativo e o que vocÃª deve prestar atenÃ§Ã£o. <br><br><img src="https://habrastorage.org/webt/au/2v/2d/au2v2d1ko6i5ifqn2lnydurcczg.jpeg" alt="imagem"><br><br>  <i>A publicaÃ§Ã£o inicial do artigo na postagem do blog Blog.ru Cloud Solutions: <a href="https://mcs.mail.ru/blog/razrabotka-prilozhenij-v-vk-mini-apps" rel="nofollow">https://mcs.mail.ru/blog/razrabotka-prilozhenij-v-vk-mini-apps</a></i> <br><br><a name="habracut"></a><h2>  Plataforma de aplicativos mini VK </h2><br>  O VKontakte oferece aos desenvolvedores de terceiros a oportunidade de escrever aplicativos da Web e colocÃ¡-los no diretÃ³rio de aplicativos e / ou promovÃª-los na rede.  Os usuÃ¡rios do aplicativo nÃ£o precisam fazer o download de aplicativos nativos individuais da Google Play / App Store. A funcionalidade do aplicativo selecionado estÃ¡ disponÃ­vel na sessÃ£o do usuÃ¡rio do aplicativo principal no VKontakte ou atravÃ©s de um navegador no site da rede social.  A rede social possui instruÃ§Ãµes detalhadas sobre como comeÃ§ar na <a href="https://vk.com/dev/vk_apps_docs" rel="nofollow">plataforma de aplicativos mini VK</a> . <br><br><h2>  Mini-aplicativo VK de infraestrutura de aplicativos </h2><br>  O mini aplicativo VK Ã© um recurso regular da Web localizado em um endereÃ§o especÃ­fico.  Devemos colocÃ¡-lo no "Painel de controle do aplicativo" da rede social. <br><br>  O VKontakte permite colocar trÃªs versÃµes do aplicativo: <br><br><ul><li>  para clientes mÃ³veis - ou seja, para abrir no aplicativo VKontakte nativo; </li><li>  opÃ§Ã£o de Ã¡rea de trabalho - <a href="https://vk.com/" rel="nofollow">vk.com</a> no navegador; </li><li>  opÃ§Ã£o para navegadores em telefones celulares (https://m.vk.com). </li></ul><br>  Ao colocar, vocÃª tambÃ©m pode ativar o "Modo de Desenvolvimento".  Ele permite que os usuÃ¡rios do VKontakte designados como administradores de aplicativos usem um endereÃ§o separado para testar cada uma das trÃªs fachadas de lojas.  Ou seja, ao abrir o aplicativo, um usuÃ¡rio comum verÃ¡ o que estÃ¡ localizado no endereÃ§o condicional yourapp.com e o administrador verÃ¡ test.yourapp.com. <br><br>  Seu recurso da Web Ã© incorporado ao aplicativo VKontakte por meio do WebView usual, quando aberto da Ã¡rea de trabalho, pelo iFrame.  Portanto, Ã© necessÃ¡rio ter em mente que parte da funcionalidade JavaScript pode nÃ£o estar disponÃ­vel, Ã© necessÃ¡rio um teste completo. <br><br>  ApÃ³s testar o aplicativo Web em diferentes dispositivos, ele pode ser enviado com moderaÃ§Ã£o para que possa ser colocado no diretÃ³rio  O pedido de moderaÃ§Ã£o Ã© enviado a partir do "Painel de Controle do Aplicativo".  O perÃ­odo de moderaÃ§Ã£o anunciado por VKontakte Ã© de 7 dias.  Os cÃ¡lculos de novas aplicaÃ§Ãµes (serviÃ§os na terminologia do VKontakte) ocorrem uma vez por semana Ã s quintas-feiras. <br><blockquote>  HÃ¡ uma <a href="https://vk.com/%40vkappsdev-vk-apps-kak-popast-v-katalog" rel="nofollow">nota detalhada</a> sobre como criar o aplicativo certo.  Eu recomendo que vocÃª verifique cuidadosamente com ela antes de apresentar o pedido de moderaÃ§Ã£o. </blockquote><br><h2>  Mini aplicativo VK de desenvolvimento de aplicativos </h2><br>  Portanto, o aplicativo VK Mini Apps Ã©, de fato, um aplicativo Web regular incorporado Ã  plataforma via iFrame ou WebView.  Portanto, a escolha da tecnologia na qual serÃ¡ escrita Ã© sua. <br><br>  No entanto, para desenvolver o frontend, o VKontakte recomenda sua prÃ³pria <a href="https://vkcom.github.io/vkui-styleguide/" rel="nofollow">biblioteca de componentes prontos para a interface do usuÃ¡rio do VK</a> , feitos no React: <br><br>  Isso Ã© conveniente - muitos componentes tÃ­picos jÃ¡ estÃ£o prontos, resta apenas incorporÃ¡-los na estrutura da sua pÃ¡gina ou SPA. <br><br>  Os componentes jÃ¡ foram estilizados de acordo com o guia de estilo do VKontakte - serÃ¡ mais familiar e conveniente para o usuÃ¡rio trabalhar com os controles e a interatividade com os quais ele jÃ¡ estava acostumado na rede social. <br><br>  O VKontakte nÃ£o exige que o desenvolvedor siga nenhuma arquitetura rÃ­gida de front-end - pegamos apenas o necessÃ¡rio e modificamos os componentes conforme necessÃ¡rio.  Por exemplo, vocÃª sempre pode adicionar sua classe, seu manipulador de eventos a um componente de exibiÃ§Ã£o estÃºpido, criar componentes aninhados de qualquer profundidade e assim por diante. <br>  Existe uma documentaÃ§Ã£o bastante detalhada (embora nÃ£o totalmente completa) <a href="https://vkcom.github.io/vkui-styleguide/" rel="nofollow">na VKUI</a> .  CÃ³digo-fonte no GitHub: <a href="https://github.com/VKCOM/VKUI" rel="nofollow">https://github.com/VKCOM/VKUI</a> .  Por conseguinte, a instalaÃ§Ã£o mais simples: <br><br><pre><code class="javascript hljs">npm i â€”save-dev @vkontakte/vkui</code> </pre> <br>  Coloque a seguinte metatag na cabeÃ§a da pÃ¡gina de layout do seu aplicativo; caso contrÃ¡rio, nos dispositivos iOS, a navegaÃ§Ã£o nativa do VKontakte nÃ£o serÃ¡ exibida corretamente: <br><br><pre> <code class="javascript hljs">&lt;meta content=Â»width=device-width, initial-scale=<span class="hljs-number"><span class="hljs-number">1</span></span>, shrink-to-fit=no, user-scalable=no, viewport-fit=coverÂ» name=Â»viewportÂ» /&gt;</code> </pre> <br>  Em seguida, precisamos incorporar o aplicativo React na pÃ¡gina. <br><br><h3>  OpÃ§Ãµes de abertura de aplicativos </h3><br>  O prÃ³prio VKontakte adiciona parÃ¢metros de inicializaÃ§Ã£o Ã  barra de endereÃ§o pela qual seu aplicativo Ã© aberto.  A lista deles Ã© a seguinte: <i>vk_user_id, vk_app_id, vk_are_notifications_enabled, vk_language, vk_ref, vk_access_token_settings, vk_group_id, vk_viewer_group_role, vk_platform, vk_is_favorite, sinal</i> .  Esse Ã© o quadro com o seu aplicativo serÃ¡ aberto com aproximadamente o mesmo endereÃ§o: <i><a href="https://youvkapp.ru/%3Fvk_access_token_settings%3Dnotify%26vk_app_id%3D888888%26vk_are_notifications_enabled%3D1%26vk_is_app_user%3D1%26vk_is_favorite%3D1%26vk_language%3Dru%26vk_platform%3Ddesktop_web%26vk_ref%3Dother%26vk_user_id%3D111111%26sign%3Dfsdfsdgfgfiuoitu8345u34j" rel="nofollow">youvkapp.ru/?vk_access_token_settings=notify&amp;vk_app_id=888888&amp;vk_are_notifications_enabled=1&amp;vk_is_app_user=1&amp;vk_is_favorite=1&amp;vk_language=ru&amp;vk_platform=desktop_web&amp;vk_ref=other&amp;vk_user_id=111111&amp;sign=fsdfsdgfgfiuoitu8345u34j</a></i> <br><br>  Isso permite que vocÃª jÃ¡ tenha um conjunto razoavelmente completo de dados extraÃ­dos do URL ao iniciar o aplicativo para iniciar a interaÃ§Ã£o pessoal com um usuÃ¡rio especÃ­fico.  Por exemplo, fale o mesmo idioma com ele - russo, inglÃªs ou outro idioma, ou peÃ§a para incluir suas notificaÃ§Ãµes. <br><br>  Para novembro de 2019, o Vkontakte nÃ£o planeja incluir parÃ¢metros adicionais nesta lista de VKontakte.  No entanto, no URL, vocÃª pode transmitir um hash arbitrÃ¡rio, por exemplo: <i><a href="https://youvkapp.ru/" rel="nofollow">youvkapp.ru # custom_param</a></i> <br><br><h3>  Encaminhamento </h3><br>  Se o aplicativo tiver mais de uma tela (acho que esse Ã© o seu caso), vocÃª precisarÃ¡ de uma transiÃ§Ã£o entre as telas.  O estado do nosso aplicativo React Ã© responsÃ¡vel por mostrar esta ou aquela tela.  Quanto Ã  organizaÃ§Ã£o do View, o VKontakte oferece duas maneiras: alterar o componente ativo do VKUI View e do VKUI Panel. <br><br>  Cada modo de exibiÃ§Ã£o Ã© responsÃ¡vel por seu prÃ³prio cenÃ¡rio de usuÃ¡rio: primÃ¡rio, secundÃ¡rio, diretÃ³rios de chamadas, pÃ¡ginas de pesquisa e outros.  Inside the View contÃ©m seu prÃ³prio conjunto de painÃ©is - estas sÃ£o etapas especÃ­ficas (telas) no script do usuÃ¡rio.  Abstratamente, fica assim: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> {Root, View, Panel} <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@vkontakte/vkui'</span></span>; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Root</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">activeView</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.state.views.activeView}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Â»mainÂ»</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">activePanel</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.state.views.main.activePanel}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Panel</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Â»step-1â€³</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> â€¦ </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Panel</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Panel</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Â»step-2â€³</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> â€¦ </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Panel</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Â»searchÂ»</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Panel</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Â»search-panelÂ»</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> â€¦ </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Panel</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Â»infoÂ»</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">activePanel</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.state.views.info.activePanel}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Panel</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Â»ofertaÂ»</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> â€¦ </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Panel</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Panel</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Â»conditionsÂ»</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> â€¦ </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Panel</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Panel</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">Â»aboutÂ»</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> â€¦ </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Panel</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">View</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Root</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  No estado do activePanel, especificamos o ID do elemento a ser exibido. <br><br><h3>  Layout e componentes </h3><br>  Agora vocÃª pode ver uma pÃ¡gina tÃ­pica dentro do painel, criada usando os componentes da interface do usuÃ¡rio da VK. <br><br>  A biblioteca de interface do usuÃ¡rio do VK fornece um conjunto quase completo de componentes necessÃ¡rios para a criaÃ§Ã£o de um aplicativo interativo: todos os tipos de elementos de formulÃ¡rio, pop-ups, alertas estilizados, galerias, painÃ©is de navegaÃ§Ã£o, giradores, avatares, rodapÃ©s e assim por diante. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Button, Div, FormLayout, Input, Panel, PanelHeader, PanelHeaderBack, Search, View } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"@vkontakte/vkui"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Icon36Done <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"@vkontakte/icons/dist/36/done"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> CustomTextarea <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./YourComponents/CustomTextarea"</span></span>; render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;div&gt; &lt;PanelHeader left={&lt;PanelHeaderBack onClick={(</span></span></span><span class="hljs-function">) =&gt;</span></span> {<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.Actions.historyBack()}} /&gt;} &gt;App Title&lt;<span class="hljs-regexp"><span class="hljs-regexp">/PanelHeader&gt; &lt;Icon36Done width={48} height={48} /</span></span>&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">This is the first page</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"page-hint"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">You can do some interaction here</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;FormLayout&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">defaultValue</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">""</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Enter your name"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"active"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">CustomTextarea</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"textarea1"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"custom"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">disabled</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.state.blocks.textarea.disabled}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.state.userData.textarea}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">size</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"xl"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">level</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"secondary"</span></span></span></span><span class="xml"><span class="hljs-tag"> &gt;</span></span></span><span class="xml">Submit</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">FormLayout</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Search</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.state.search.text}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onChange</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.onSearch}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ) }</span></span></code> </pre><br>  Como vocÃª pode ver, outro pacote vkontakte apareceu: <br><br><pre> <code class="javascript hljs">npm i â€”save-dev @vkontakte/icons</code> </pre> <br>  VocÃª pode usar o <a href="https://vkcom.github.io/icons/" rel="nofollow">gerenciador conveniente</a> para selecionar o Ã­cone desejado. <br><br>  <b>A regra principal</b> Ã© usar o componente corretamente ou seu prÃ³prio layout do cabeÃ§alho.  O aplicativo VKontakte nativo coloca os botÃµes de controle no lado direito do cabeÃ§alho. <br><br><img src="https://habrastorage.org/webt/ge/cc/_o/gecc_oj3rinrnjov7k-ddrsm3h0.jpeg" alt="imagem"><br><br>  Bloco personalizado: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { Textarea } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> Â«@vkontakte/vkuiÂ»; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CustomTextarea</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">React</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> &lt;div className=Â»form-group custom_textareaÂ»&gt; &lt;div className=Â»FormLayout__row-topÂ»&gt;Custom textarea is here&lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/div&gt; &lt;Textarea disabled={this.props.disabled} name={name} id={name} onChange={(e) =&gt; this.bindData(e, this.props.name)} value={this.props.value} className={this.props.className} /</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; &lt;</span></span><span class="hljs-regexp"><span class="hljs-function"><span class="hljs-params"><span class="hljs-regexp">/div&gt; &lt;/</span></span></span></span><span class="hljs-function"><span class="hljs-params">div&gt; </span></span></span><span class="hljs-function">); } }</span></span></code> </pre><br>  Vale a pena prestar atenÃ§Ã£o: o VKontakte declara que os componentes podem nÃ£o ser exibidos adequadamente nos desktops.  No entanto, eles podem ser estilizados adicionando suas prÃ³prias regras de css.  Por exemplo, a animaÃ§Ã£o de transiÃ§Ãµes entre painÃ©is em um aplicativo foi estilizada da seguinte maneira: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.desktop_web</span></span> { .View__panelâ€”prev { <span class="hljs-attribute"><span class="hljs-attribute">max-width</span></span>: <span class="hljs-number"><span class="hljs-number">458px</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> auto; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">calc</span></span>(50% â€” 230px) <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">-webkit-animation</span></span>: root-android-animation-hide-back <span class="hljs-number"><span class="hljs-number">3s</span></span> <span class="hljs-built_in"><span class="hljs-built_in">cubic-bezier</span></span>(.4, 0, .2, 1); <span class="hljs-attribute"><span class="hljs-attribute">animation</span></span>: root-android-animation-hide-back <span class="hljs-number"><span class="hljs-number">3s</span></span> <span class="hljs-built_in"><span class="hljs-built_in">cubic-bezier</span></span>(.4, 0, .2, 1); } <span class="hljs-selector-class"><span class="hljs-selector-class">.View__panel</span></span>â€”<span class="hljs-selector-tag"><span class="hljs-selector-tag">next</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">max-width</span></span>: <span class="hljs-number"><span class="hljs-number">460px</span></span> <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">left</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">calc</span></span>(50% â€” 230px) <span class="hljs-meta"><span class="hljs-meta">!important</span></span>; } }</code> </pre><br>  Esses estilos sÃ£o conectados no fluxo geral de estilos conectados ao seu aplicativo. <br><br><h2>  Biblioteca VK Connect </h2><br>  <a href="https://vk.com/dev/vk_apps_docs%3Ff%3D4.%2520VK%2520Connect" rel="nofollow">A biblioteca VK Connect</a> fornece acesso aos amplos recursos da prÃ³pria rede VKontakte, bem como aos recursos do dispositivo, se trabalharmos em um aplicativo mÃ³vel.  Para conectÃ¡-lo, vocÃª precisa instalar o <a href="https://habr.com/ru/users/vkontakte/" class="user_link">pacote vkontakte</a> / vk-connect: <i>npm i - <a href="https://habr.com/ru/users/vkontakte/" class="user_link">save</a> -dev <a href="https://habr.com/ru/users/vkontakte/" class="user_link">vkontakte</a> / vk-connect</i> . <br><br>  Entre os muitos recursos do VK Connect, estÃ£o a digitalizaÃ§Ã£o de um cÃ³digo QR, a obtenÃ§Ã£o de uma localizaÃ§Ã£o geogrÃ¡fica e a chamada de um cartÃ£o de contato.  TambÃ©m existem amplas oportunidades para o uso dos recursos de rede social: ativar / desativar notificaÃ§Ãµes, publicar mensagens na parede, autorizaÃ§Ã£o da comunidade, assinar mensagens.  Eles devem ser usados â€‹â€‹com sabedoria: por exemplo, hÃ¡ um limite no nÃºmero de notificaÃ§Ãµes - nÃ£o mais que uma por dia.  Existem <a href="https://vk.com/%40vkappsdev-uvedomleniya-za-kotorye-polzovateli-skazhut-spasibo" rel="nofollow">recomendaÃ§Ãµes separadas para notificaÃ§Ãµes</a> .  Uma lista completa de recursos <a href="https://vk.com/dev/vk_connect_events" rel="nofollow">Ã© fornecida na documentaÃ§Ã£o</a> . <br><br>  Para que nosso aplicativo comece a funcionar em geral, primeiro precisamos executar a inicializaÃ§Ã£o: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> connect <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'@vkontakte/vk-connect'</span></span>; connect.send(Â«VKWebAppInitÂ», {});</code> </pre><br>  Toda interaÃ§Ã£o adicional com a biblioteca ocorre de maneira semelhante.  Usando o mÃ©todo connect.send, chamamos a aÃ§Ã£o desejada e ouvimos as respostas.  Para fazer isso, precisamos assinar os eventos: <br><br><pre> <code class="javascript hljs">connect.subscribe(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (e.detail.type) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> Â«VKWebAppGetUserInfoResultÂ» : <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.bindConnectUserData(e.detail.data); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } });</code> </pre><br>  No objeto de detalhe, o tipo Ã© retornado - o nome do tipo de evento ao qual estamos aguardando uma resposta e os dados - um conjunto de dados.  No exemplo acima, ouvimos a resposta Ã  solicitaÃ§Ã£o connect.send ("VKWebAppGetUserInfo", {}), que deve retornar informaÃ§Ãµes sobre o usuÃ¡rio do aplicativo: nome, sexo, data de nascimento, local de residÃªncia, link para a imagem do avatar na rede social. <br><br>  O VKontakte nÃ£o garante suporte para todos os eventos em todos os dispositivos (iOS, Android, Web), portanto, Ã© melhor verificar esse suporte antes de executar o cÃ³digo: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (connect.supports(Â«VKWebAppGetUserInfoÂ»)) â€¦</code> </pre> <br>  O VK Connect tambÃ©m fornece suporte para solicitaÃ§Ãµes Ã  <a href="https://vk.com/dev/first_guide" rel="nofollow">API do VK</a> , se vocÃª precisar de algo mais do que a prÃ³pria biblioteca do VK Connect possa fornecer: <br><br><pre> <code class="javascript hljs">connect.send(Â«VKWebAppCallAPIMethodÂ», {Â«methodÂ»: Â«users.getÂ», Â«request_idÂ»: Â«your_unique_req_idÂ», Â«paramsÂ»: {Â«user_idsÂ»: Â«<span class="hljs-number"><span class="hljs-number">1</span></span>Â», Â«vÂ»:Â»<span class="hljs-number"><span class="hljs-number">5.103</span></span>â€³, Â«access_tokenÂ»:Â»your_tokenÂ»}});</code> </pre> <br><h2>  VK Pay </h2><br>  O VK Pay Ã©, de fato, um front-end conveniente para usar o serviÃ§o de pagamento on-line usando o Money Mail.Ru.  Para ligar para o formulÃ¡rio de pagamento, basta abrir a janela de pagamento usando uma chamada na biblioteca do VK Connect: <br><br><pre> <code class="javascript hljs">connect.send(Â«VKWebAppOpenPayFormÂ», {Â«app_idÂ»: <span class="hljs-number"><span class="hljs-number">888888</span></span>, Â«actionÂ»: Â«pay-to-serviceÂ», Â«paramsÂ»: {}});</code> </pre> <br>  Assim, vocÃª pode vender seus serviÃ§os e mercadorias usando um meio de pagamento interno na rede VKontakte.  Mais detalhes na <a href="https://vk.com/dev/vkpay" rel="nofollow">documentaÃ§Ã£o oficial</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt480974/">https://habr.com/ru/post/pt480974/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt480958/index.html">ConexÃ£o via satÃ©lite. VisÃ£o geral das empresas operadoras e um pouco sobre a classificaÃ§Ã£o</a></li>
<li><a href="../pt480960/index.html">Encontre arquivos perdidos em vÃ¡rios destinos do Xcode</a></li>
<li><a href="../pt480962/index.html">Desenvolvimento do compilador C para o novo neuroprocessador multiclet</a></li>
<li><a href="../pt480964/index.html">O que Ã© a zona Fresnel e o CCQ (Client Connection Quality) ou os fatores fundamentais de uma ponte sem fio de alta qualidade</a></li>
<li><a href="../pt480970/index.html">10 prÃ¡ticas recomendadas para proteger imagens do Docker. Parte 1</a></li>
<li><a href="../pt480976/index.html">Biblioteca de testes da API JSON-RPC</a></li>
<li><a href="../pt480978/index.html">Existe vida depois da Signora?</a></li>
<li><a href="../pt480980/index.html">Tecnologias analÃ­ticas modernas em seguranÃ§a cibernÃ©tica</a></li>
<li><a href="../pt480982/index.html">3. IntroduÃ§Ã£o ao Fortinet v6.0. PreparaÃ§Ã£o de layout</a></li>
<li><a href="../pt480984/index.html">Evitando erros populares de seguranÃ§a de rede</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>