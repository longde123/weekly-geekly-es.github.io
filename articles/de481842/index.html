<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙌🏻 ⛹🏼 😄 Umstieg auf reinen Speicher: Unser neuer Speicher 👩🏽‍🔧 🙎🏿 🕠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kürzlich haben wir unsere hoch geladenen Datenbanken - zentrale Bürodienste, E-Mails, virtuelle Workstations sowie Handelssysteme und Websites mvideo....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Umstieg auf reinen Speicher: Unser neuer Speicher</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mvideo/blog/481842/"><img src="https://habrastorage.org/webt/ml/7u/nz/ml7unzkujnu5qbfigbdeq_h6b5i.jpeg"><br><br>  Kürzlich haben wir unsere hoch geladenen Datenbanken - zentrale Bürodienste, E-Mails, virtuelle Workstations sowie Handelssysteme und Websites mvideo.ru und eldorado.ru - auf Pure Storage Flash-Arrays übertragen.  Und heute werden wir Ihnen erzählen, warum wir uns dazu entschieden haben und wie wir auf neue umgestiegen sind. <br><a name="habracut"></a><br><h2>  Hintergrund </h2><br>  Nach der Fusion von M.Video und Eldorado hat der Konzern das langfristige ONE RETAIL-Programm verabschiedet, mit dem digitale Plattformen aktiv entwickelt und IT-Services automatisiert werden.  Wir sind von unseren eigenen Einrichtungen und Cloud-Umgebungen auf eine hybride Infrastruktur umgestiegen.  Eine große Flotte von Geräten verschiedener Hersteller, die durch den Zusammenschluss entstanden war, verhinderte jedoch eine weitere Verbesserung der Effizienz der Systeme. <br><br>  Aus diesem Grund hatten wir die Idee, einen Teil der Repositories zu aktualisieren.  Nach der Analyse von Lösungen verschiedener Hersteller haben wir uns für Pure Storage entschieden.  Vor der endgültigen Entscheidung war es jedoch erforderlich, die Geräte anhand unserer Daten zu testen. <br><br><h2>  Testen </h2><br>  Die an den Tests beteiligten Systeme befanden sich auf dem Speichersystem mehrerer Anbieter, die sowohl klassische als auch Solid-State-Festplatten verwendeten.  Nachdem wir uns auf ein Testprogramm geeinigt und Pure Storage-Geräte in unserem Rechenzentrum installiert hatten, begannen wir mit der Migration. <br><br><img src="https://habrastorage.org/webt/k_/de/dj/k_dedjiw7yztzhugzc6fp8bulza.jpeg"><br><br>  Als eines der ersten haben wir den Virtual Desktop Service migriert.  Infolgedessen stellten Endbenutzer - und nicht Systemadministratoren - eine erhebliche Steigerung der Produktivität fest: PDF-Dateien, Textdokumente und Tabellen wurden viel schneller geöffnet.  Nachdem der Dienst zu seinem ursprünglichen Speichersystem zurückgekehrt war, verringerte sich die Antwortgeschwindigkeit.  Das heißt, durch die Übertragung auf den Speicher mit All-Flash-Architektur hat sich die Leistung eines eher kritischen Systems merklich erhöht.  Wir haben keine genauen Messungen durchgeführt, aber den Empfindungen zufolge betrug die Geschwindigkeitssteigerung 50-70%.  Bei einigen Anwendungen haben sich die Reaktionszeiten erheblich verkürzt. <br><br>  Dann haben wir die Komprimierung und Deduplizierung getestet.  Einer der Unterschiede zwischen Pure Storage besteht darin, dass die Deduplizierung und Komprimierung von Speichersystemen im laufenden Betrieb auf globaler Ebene erfolgt, sodass Sie keine Daten auf separate Speichervolumes verteilen müssen.  Darüber hinaus kann das Speichersystem mithilfe der fortschrittlicheren Komprimierungs- und Deduplizierungsalgorithmen im verzögerten Modus Informationen im Laufe der Zeit zusätzlich komprimieren.  Und schließlich arbeiten Komprimierungs- und Deduplizierungsalgorithmen in Pure Storage mit sehr kleinen Datenblöcken ab 512 Byte - die Länge des Blocks kann sich ändern und an verschiedene Datentypen anpassen. <br><br>  Dank dieser Tricks hat sich das Volumen der zum Testen ausgewählten MySQL- und Oracle-Datenbanken im Vergleich zum ursprünglichen Speichersystem um das 3,1-fache verringert. <br><br><h2>  Implementierung </h2><br>  Wir waren daran interessiert, nicht nur die Speicherleistung, sondern auch die Speicherzuverlässigkeit zu steigern.  Aus diesem Grund haben wir uns im nächsten Schritt dazu entschlossen, einen verteilten Speichercluster nach dem Active-Active-Schema (Pure Storage ActiveCluster) einzuführen, dh unsere Systeme auf zwei Rechenzentren zu verteilen.  Jedes Pure Storage-Speichersystem enthält bereits die erforderlichen Tools für die synchrone und asynchrone Replikation, einschließlich der Erstellung geografisch verteilter Aktiv-Aktiv-Cluster. <br><br><img src="https://habrastorage.org/webt/zs/ez/1c/zsez1ctlnsm6kib_pnx4wwtspni.jpeg"><br><br><img src="https://habrastorage.org/webt/cg/cx/gp/cgcxgpvx7xtkojonwyvhpkoxclw.jpeg"><br><br>  Nach dem Erscheinen des zweiten Pure-Speichersystems haben wir die synchrone Replikationsfunktion auf Array-Ebene verwendet, die die Migration von Daten zwischen Standorten erheblich beschleunigte, da die Daten in komprimierter Form übertragen werden.  Jetzt wählen wir Dienste aus, die im kontinuierlichen Synchronisationsmodus ausgeführt werden, um eine hohe Verfügbarkeit zu gewährleisten: Im Notfall oder bei einem Ausfall des gesamten Standorts funktionieren die IT-Dienste des Unternehmens ohne Unterbrechung weiter.  Da die Replikation im Active-Active-Modus ausgeführt wird, führt der tatsächliche Ausfall des gesamten Speichersystems zum Verlust einiger Pfade, wirkt sich jedoch nicht auf die Verfügbarkeit von gehosteten Anwendungen aus.  Für Endbenutzer geschieht dies unbemerkt.  In Anbetracht der Tatsache, dass Pure Storage standardmäßig eine Zuverlässigkeit von 99,9999% (31,5 Sekunden Ausfallzeit pro Jahr) bietet, liegt diese sogar noch höher - laut Statistiken, die der Hersteller von seinem Cloud-Service Pure Arrays erhebt, derzeit unserer Meinung nach über 6 Neunen (und dies sind nur 3 Sekunden Ausfallzeit pro Jahr), mit Hilfe der kontinuierlichen ActiveCluster-Synchronisation wird die reine Betriebszeit fast zu 100%.  Das heißt, selbst wenn das gesamte Rechenzentrum ausfällt, arbeiten die Benutzer leise, als wäre nichts passiert. <br><br><h2>  Management </h2><br>  Mit der Einführung der ersten Einheiten von Pure Storage-Geräten haben wir begonnen, den proprietären Cloud-Überwachungs- und Steuerungsdienst - Pure1 - zu nutzen.  Es verfügt über ein einziges Bedienfeld, das den Status aller Speichersysteme und die für die kommenden Jahre vorhergesagten Bedingungen anzeigt.  Das heißt, wir brauchen nicht zu berechnen, wann Leistung oder Kapazität nicht mehr ausreichen - das System warnt im Voraus oder lässt Vorhersagen im Voraus zu.  Dies vereinfacht den Prozess zukünftiger Erweiterungen und Upgrades erheblich. <br><br>  Pure1 hat auch ein Tool namens VM Analytics.  Da alle unsere Dienste und Anwendungen auf der Basis der VMware-Lösung vollständig virtualisiert sind, können wir eine Verbindung zum VMware-Virtualisierungscluster herstellen und die Topologie der gesamten Infrastruktur in Pure1 anzeigen.  Alle Zwischenberührungspunkte werden angezeigt: virtuelle Maschinen, Volumes, Speicher, individuelle Beziehungen.  Und im Falle eines Problems werden wir sehen, wo und was ohne die Hilfe eines Verkäufers passiert ist. <br><br><h2>  Platzierungsdichte </h2><br>  Wir haben Daten von 6 Arten von Speichersystemen verschiedener Hersteller auf zwei Modelle von Pure Storage-Speichersystemen migriert.  Alte Geräte belegten mehrere Gestelle.  Und jetzt belegen Geräte mit denselben Daten - etwa 1,5 Petabyte - ein Drittel eines Racks mit 18 Einheiten, während die Festplattenkapazität weiterhin bei 15 bis 20% liegt.  Der Energieverbrauch und die Wärmeabgabe sanken erheblich, wodurch das Kühlsystem geschont wird. <br><br><h2>  Andere Funktionen und Fähigkeiten </h2><br>  Das Herzstück des technischen Supports von Pure Storage ist eine Engine mit künstlicher Intelligenz, die potenzielle Probleme vorhersagen kann. <br><br>  Zusätzlich zu herkömmlichen Blockdiensten ermöglichen Pure Storage-Speichersysteme die Bereitstellung von Dateidiensten aufgrund der internen softwaredefinierten modularen Architektur.  Also machten wir: Auf x50 und x70 erstellten wir Windows-Dateiserver und begannen mit der Migration von Dateispeicherressourcen. <br><br>  Ich möchte auch erwähnen, dass Sie unabhängig davon, welche Softwarekomponente in Pure Storage verwendet wird, nicht über zukünftige Lizenzen nachdenken müssen - eine Lizenz beinhaltet das automatische Hinzufügen aller zukünftigen neuen Funktionen.  Beispielsweise wurde ab dem Moment der Erstimplementierung die Funktion zum Hochladen von Snapshots über das NFS-Protokoll auf ein externes Speichersystem eines beliebigen Herstellers oder über das S3-Protokoll auf einen externen Cloud-Speicher eingeführt. <br>  Ein weiterer Vorteil von Pure Storage-Produkten ist die einfache Verwaltung. <br><br><img src="https://habrastorage.org/webt/er/y-/uz/ery-uznzp0eid48ogcofonkmprw.jpeg"><br><br><img src="https://habrastorage.org/webt/mu/8n/o7/mu8no7fg2fbymxk9nttra9m2xb8.jpeg"><br><br>  Wir integrieren jetzt Pure Storage-Snapshots in ein zentrales Backup-System.  Mit ihrer Hilfe können wir sofortige Sicherungen erstellen. Auf diese Weise können Sie Anwendungen während des Sicherungsvorgangs entladen und die für die Wiederherstellung erforderliche Zeit erheblich verkürzen.  Im Falle eines Fehlers erfolgt die Wiederherstellung von Anwendungen aus dem Snapshot fast sofort.  Wenn Sie Snapshots mit einem Backup-System verwenden, erhalten Sie eine komplette Hochleistungslösung.  Das heißt, das Speichersystem erhält die anspruchsvollsten Ressourcen.  Solche Hardware-Snapshots beeinträchtigen nicht die Systemleistung, im Gegensatz zu Snapshots, die auf Anwendungs- oder Virtualisierungsebene erstellt wurden. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de481842/">https://habr.com/ru/post/de481842/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de481824/index.html">Schnelle Suche nach der Quelle unerwünschter Mutationen einer Objekteigenschaft</a></li>
<li><a href="../de481828/index.html">Die Geschichte der Lernsoftware: Lernmanagementsysteme und der Aufstieg der Online-Bildung</a></li>
<li><a href="../de481836/index.html">Pizza as a Service: Wie Amazon zu Redshift migrierte</a></li>
<li><a href="../de481838/index.html">WireGuard, Einrichtung mehrerer Clients für NAT und wohin geht STUN?</a></li>
<li><a href="../de481840/index.html">Schützen Sie Ihre GraphQL-API vor Sicherheitslücken</a></li>
<li><a href="../de481844/index.html">7 Jahre Hype um neuronale Netze in Grafiken und inspirierenden Perspektiven von Deep Learning 2020</a></li>
<li><a href="../de481846/index.html">Verwenden von GitHub CI für Elixir-Projekte</a></li>
<li><a href="../de481848/index.html">Erfahrene Mitarbeiterschulung</a></li>
<li><a href="../de481850/index.html">Die spanische Inquisition und der Roboter für Demütigung: Was sind die "räuberischen" Konferenzen um des Geldes willen?</a></li>
<li><a href="../de481852/index.html">3D Anet N4 Printer Review // Wie man einen Dark Souls Charakter realistisch färbt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>