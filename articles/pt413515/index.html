<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õπüèø üñ±Ô∏è üï¥üèæ Doh em imagens üöø ü¶à üëçüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Amea√ßas √† privacidade e seguran√ßa na Internet est√£o se tornando mais graves. N√≥s da Mozilla os estamos acompanhando de perto. Consideramos nosso dever...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Doh em imagens</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413515/">  Amea√ßas √† privacidade e seguran√ßa na Internet est√£o se tornando mais graves.  N√≥s da Mozilla os estamos acompanhando de perto.  Consideramos nosso dever fazer todo o poss√≠vel para proteger os usu√°rios do Firefox e seus dados. <br><br>  Estamos preocupados com empresas e organiza√ß√µes que coletam e vendem secretamente dados de usu√°rios.  Portanto, adicionamos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">prote√ß√£o de rastreamento</a> e criamos uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">extens√£o de cont√™iner do Facebook</a> .  Medidas mais protetoras aparecer√£o nos pr√≥ximos meses. <br><br><img src="https://habrastorage.org/webt/tc/un/hg/tcunhgfr0ybhbntkqfwkymqs7jq.png"><br><br>  Agora estamos adicionando mais duas tecnologias √† lista: <br><br><ul><li>  HTTPS DNS √© o novo padr√£o IETF do qual participamos no desenvolvimento </li><li>  Resolvedor recursivo confi√°vel - uma nova maneira segura de resolver o DNS, fornecida em conjunto com o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cloudflare</a> </li></ul><a name="habracut"></a><br>  Gra√ßas a essas duas iniciativas, os vazamentos de dados que fazem parte do sistema de nomes de dom√≠nio desde a sua cria√ß√£o, 35 anos atr√°s, est√£o sendo eliminados.  E precisamos da sua ajuda nos testes.  Vamos ver como o DNS HTTPS e o Resolvedor recursivo confi√°vel protegem nossos usu√°rios. <br><br>  Mas primeiro, vamos ver como as p√°ginas da web s√£o transmitidas pela Internet. <br><br>  Se voc√™ j√° sabe como o DNS e o HTTPS funcionam, pode pular para o t√≥pico de como o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DNS ajuda no HTTPS</a> . <br><br><h1>  Curso de HTTP </h1><br>  Quando as pessoas explicam como um navegador carrega uma p√°gina da web, geralmente a explicam assim: <br><br><ol><li>  Seu navegador faz uma solicita√ß√£o GET ao servidor. </li><li>  O servidor envia uma resposta, que √© um arquivo que cont√©m HTML. </li></ol><br><img src="https://habrastorage.org/webt/ck/su/_z/cksu_zcuvvlirpx982djarov_-a.png"><br><br>  Este sistema √© chamado HTTP. <br><br>  Mas esse esquema √© muito simplificado.  Seu navegador n√£o fala diretamente com o servidor.  Provavelmente porque eles n√£o est√£o pr√≥ximos um do outro. <br><br>  Um servidor pode estar a milhares de quil√¥metros de dist√¢ncia.  E provavelmente n√£o h√° conex√£o direta entre o seu computador e o servidor. <br><br><img src="https://habrastorage.org/webt/x6/mv/a6/x6mva6dbioxgkwcsoohlxmxr320.png"><br><br>  Portanto, antes de a solicita√ß√£o passar do navegador para o servidor, ela passar√° por v√°rias m√£os.  O mesmo vale para a resposta. <br><br>  Penso nisso como crian√ßas em idade escolar passando notas umas para as outras na sala de aula.  L√° fora, a nota diz a quem se destina.  A crian√ßa que escreveu a nota a entregar√° a um vizinho.  Ent√£o o pr√≥ximo filho o passa para um dos vizinhos - provavelmente n√£o para o destinat√°rio final, mas para algu√©m que est√° na dire√ß√£o certa. <br><br><img src="https://habrastorage.org/webt/x0/kk/wk/x0kkwkini7vmt5usfakytxs6j_c.png"><br>  <i><font color="gray">- Psst ... passe isso para Sandy</font></i> <br><br>  O problema √© que qualquer pessoa ao longo do caminho pode abrir a nota e l√™-la.  E n√£o h√° como saber antecipadamente qual o caminho que a nota seguir√°; portanto, n√£o se sabe quais pessoas ter√£o acesso a ela. <br><br>  Pode estar nas m√£os de pessoas que far√£o coisas prejudiciais ... <br><br>  Por exemplo, eles compartilhar√£o o conte√∫do de uma nota com todos. <br><br><img src="https://habrastorage.org/webt/b9/nj/by/b9njbyxbctfwu86frkmx7iutdzy.png"><br>  <i><font color="gray">- Oh, √© suculento ...</font></i>  <i><font color="gray">Ei pessoal!</font></i>  <i><font color="gray">Danny se apaixonou por Sandy!</font></i> <br><br>  Ou mude a resposta. <br><br><img src="https://habrastorage.org/webt/os/yl/h5/osylh5ioo-pde0rdxqlhe87bnjc.png"><br>  <i><font color="gray">"Voc√™ gosta de mim tamb√©m?"</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray">- Hehe, eu vou tirar sarro dele e escrever "N√£o" ...</font></i> <br><br>  Para resolver esses problemas, uma nova vers√£o segura do HTTP foi criada.  Chama-se HTTPS: √© como um bloqueio em todas as mensagens. <br><br><img src="https://habrastorage.org/webt/ui/ki/vg/uikivgsefzm2qlbthwl9urtj8ag.png"><br><br>  Somente o navegador e o servidor conhecem a combina√ß√£o a ser desbloqueada.  Mesmo que as mensagens passem por v√°rios roteadores, somente voc√™ e o site podem realmente ler o conte√∫do. <br><br>  Isso resolve muitos problemas de seguran√ßa.  Mas ainda existem mensagens n√£o criptografadas entre o navegador e o servidor.  Portanto, as pessoas a caminho ainda podem interferir nos seus neg√≥cios. <br><br>  Por exemplo, os dados ainda est√£o abertos durante a configura√ß√£o da conex√£o.  Ao enviar a mensagem original para o servidor, voc√™ tamb√©m envia o nome do servidor no campo ‚ÄúIndica√ß√£o do nome do servidor‚Äù.  Isso permite que os operadores de servidor executem v√°rios sites no mesmo computador e, ao mesmo tempo, entendam com quem voc√™ deseja entrar em contato.  Essa solicita√ß√£o inicial faz parte da configura√ß√£o de criptografia, mas a solicita√ß√£o inicial em si n√£o √© criptografada. <br><br>  Outro local onde os dados est√£o abertos √© o DNS.  Mas o que √© DNS? <br><br><h1>  DNS: Sistema de Nomes de Dom√≠nio </h1><br>  Numa met√°fora para passar notas em uma classe, eu disse que o nome do destinat√°rio deveria ser escrito fora da nota.  O mesmo vale para solicita√ß√µes HTTP ... elas devem declarar para onde est√£o indo. <br><br>  Mas voc√™ n√£o pode usar o nome usual do site.  Nenhum dos roteadores entende quem voc√™ est√° falando.  Em vez disso, use um endere√ßo IP.  √â assim que os roteadores ao longo do caminho entendem para qual servidor voc√™ deseja enviar a solicita√ß√£o. <br><br><img src="https://habrastorage.org/webt/j0/r9/u5/j0r9u5nvapj3glixleo9jpz5enc.png"><br>  <i><font color="gray">- Envie para 208.80.154.224</font></i> <br><br>  Isso est√° causando problemas.  √â inconveniente que os usu√°rios se lembrem dos n√∫meros do endere√ßo IP.  Quero dar ao site um nome cativante ... que ser√° depositado na mem√≥ria das pessoas. <br><br>  √â por isso que temos um sistema de nomes de dom√≠nio (DNS).  Seu navegador usa o DNS para resolver o nome do site para o endere√ßo IP.  Esse processo - converter um nome de dom√≠nio em um endere√ßo IP - √© chamado de resolu√ß√£o ou resolu√ß√£o de nomes de dom√≠nio. <br><br><img src="https://habrastorage.org/webt/cz/lq/gb/czlqgbvi0qws2esb903m-awk-ya.png"><br><br>  Como o navegador resolve o problema? <br><br>  Uma op√ß√£o √© fazer uma lista grande como uma lista telef√¥nica em um navegador.  Por√©m, √† medida que novos sites aparecerem ou forem movidos para novos servidores, ser√° dif√≠cil manter essa lista atualizada. <br><br>  Portanto, em vez de uma lista √∫nica para todos os nomes de dom√≠nio, h√° muitas pequenas listas vinculadas entre si.  Isso permite que eles sejam controlados independentemente. <br><br><img src="https://habrastorage.org/webt/3s/e3/he/3se3hesti0yunovtk-l-oeeoqay.png"><br><br>  Para obter o endere√ßo IP correspondente a um nome de dom√≠nio, voc√™ precisa encontrar uma lista espec√≠fica que contenha o nome de dom√≠nio desejado.  √â como encontrar um tesouro. <br><br>  Como √© essa pesquisa de tesouro em sites como Wikipedia em ingl√™s, <code>en.wikipedia.org</code> ? <br><br>  O dom√≠nio pode ser dividido em partes. <br><br><img src="https://habrastorage.org/webt/_v/5t/3y/_v5t3y32z0t0eforrxx2h2tejxc.png"><br><br>  Com essas partes, voc√™ pode come√ßar a procurar por uma lista contendo o endere√ßo IP do site.  Mas precisamos de ajuda para encontrar.  A ferramenta que realiza essa busca em vez de n√≥s e encontra o endere√ßo IP √© chamada de resolvedor. <br><br>  Primeiro, o resolvedor acessa o chamado servidor DNS raiz.  Ele conhece v√°rios servidores DNS raiz diferentes, ent√£o envia uma solicita√ß√£o para um deles.  O resolvedor solicita ao DNS raiz onde encontrar informa√ß√µes adicionais sobre endere√ßos na zona de dom√≠nio de n√≠vel superior <code>.org</code> . <br><br><img src="https://habrastorage.org/webt/mp/oz/eu/mpozeuvshtspg9sfhayuv2qu8oa.png"><br>  <i><font color="gray">- Voc√™ n√£o sabe como chegar ao pt.wikipedia.org?</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray">- N√£o sei nada na zona .org, mas o 5.6.7.8 pode ajudar</font></i> <br><br>  O pr√≥ximo servidor √© chamado de servidor de nome de dom√≠nio de n√≠vel superior (TLD).  O servidor do TLD conhece todos os dom√≠nios de segundo n√≠vel que terminam em <code>.org</code> . <br><br>  No entanto, ele n√£o sabe nada sobre os subdom√≠nios <code>wikipedia.org</code> , portanto, tamb√©m n√£o sabe o endere√ßo IP de <code>en.wikipedia.org</code> . <br><br>  O servidor de nomes do TLD aconselhar√° o resolvedor a fazer essa pergunta ao servidor de nomes da Wikipedia. <br><br><img src="https://habrastorage.org/webt/mu/cp/da/mucpdapdelnx2o0gd9to1laffiy.png"><br>  <i><font color="gray">- Voc√™ n√£o sabe como chegar ao pt.wikipedia.org?</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray">- V√° e pergunte 11.21.31.41, ele conhece os sites no dom√≠nio wikipedia.org</font></i> <br><br>  O resolvedor est√° quase pronto.  Um servidor de nomes da Wikipedia √© chamado de servidor autoritativo.  Ele conhece todos os subdom√≠nios do <code>wikipedia.org</code> .  Portanto, ele conhece o <code>en.wikipedia.org</code> e outros subdom√≠nios, como a vers√£o alem√£ do <code>de.wikipedia.org</code> .  Um servidor autorit√°rio informa ao resolvedor no qual os arquivos HTML do endere√ßo IP podem ser recuperados para este site. <br><br><img src="https://habrastorage.org/webt/ny/zj/rp/nyzjrpuokwdbl5lxgiurrybkm8u.png"><br>  <i><font color="gray">- Voc√™ n√£o sabe como chegar ao pt.wikipedia.org?</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray">- Ah, sim, basta ir para 208.80.154.224</font></i> <br><br>  O resolvedor retornar√° o endere√ßo IP <code>en.wikipedia.org</code> para o sistema operacional. <br><br>  Esse processo √© chamado de resolu√ß√£o recursiva porque voc√™ precisa ir e voltar, perguntando a diferentes servidores essencialmente a mesma pergunta. <br><br>  Eu disse que precisamos de um resolvedor para ajudar na pesquisa.  Mas como o navegador encontra esse resolvedor?  Em geral, ele pergunta ao sistema operacional. <br><br><img src="https://habrastorage.org/webt/qg/o8/cq/qgo8cqv3b68kxlk6d1adu6kqbuc.png"><br>  <i><font color="gray">"Eu preciso de um resolvedor."</font></i>  <i><font color="gray">Voc√™ pode ajudar</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray">- Claro, deixe-me apresentar-lhe o resolvedor que eu uso</font></i> <br><br>  Como o sistema operacional sabe qual resolvedor usar?  Existem duas maneiras poss√≠veis. <br><br>  Voc√™ <i>pode</i> configurar seu computador para usar um resolvedor espec√≠fico em que voc√™ confia.  Mas muito poucas pessoas fazem isso. <br><br>  Em vez disso, basta usar as configura√ß√µes padr√£o.  E, por padr√£o, o sistema operacional usar√° qualquer resolvedor que a rede indicar.  Quando um computador se conecta √† rede e recebe seu endere√ßo IP, a rede recomenda um resolvedor espec√≠fico. <br><br><img src="https://habrastorage.org/webt/qq/g5/1o/qqg51oyin5e6cvblsorcepmodh8.png"><br>  <i><font color="gray">- Posso obter um endere√ßo IP?</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray">- N√£o tem problema!</font></i>  <i><font color="gray">E se voc√™ precisar de um resolvedor, eu recomendo este</font></i> <br><br>  Isso significa que o resolvedor usado pode ser alterado v√°rias vezes ao dia.  Se voc√™ estiver indo para um caf√© para trabalhar durante o dia, provavelmente est√° usando um resolvedor diferente do que pela manh√£.  E isso acontece mesmo se voc√™ configurar seu pr√≥prio resolvedor, porque n√£o h√° seguran√ßa no protocolo DNS. <br><br><h1>  Como posso explorar o DNS? </h1><br>  Ent√£o, como esse sistema coloca em risco os usu√°rios? <br><br>  Normalmente, o resolvedor informa a cada servidor DNS qual dom√≠nio voc√™ est√° procurando.  √Äs vezes, essa solicita√ß√£o inclui seu endere√ßo IP completo.  E, se n√£o for um endere√ßo completo, mais frequentemente a solicita√ß√£o inclui a maior parte do seu endere√ßo IP, que pode ser facilmente combinado com outras informa√ß√µes para estabelecer sua identidade. <br><br><img src="https://habrastorage.org/webt/r5/tm/rk/r5tmrkwtqmjtl4ankon0ky9atgu.png"><br>  <i><font color="gray">Cont√©m a maior parte do seu endere√ßo IP ...</font></i> <i><font color="gray"><br></font></i>  <i><font color="gray">... e o dom√≠nio completo que voc√™ procura</font></i> <br><br>  Isso significa que cada servidor que voc√™ solicita ajuda na resolu√ß√£o de nomes de dom√≠nio v√™ o site que est√° procurando.  Al√©m disso, qualquer pessoa a caminho desses servidores tamb√©m v√™ suas solicita√ß√µes. <br><br>  Existem v√°rias maneiras pelas quais esse sistema compromete os dados do usu√°rio.  Os dois principais s√£o rastreamento (rastreamento) e falsifica√ß√£o (falsifica√ß√£o). <br><br><h3>  Rastreamento </h3><br>  Como eu disse acima, n√£o √© dif√≠cil determinar a identidade da pessoa que solicita acesso a um site espec√≠fico usando informa√ß√µes completas ou parciais sobre o endere√ßo IP.  Isso significa que o servidor DNS e qualquer usu√°rio no caminho para esse servidor DNS (roteador no caminho) podem criar um perfil de usu√°rio.  Eles podem fazer uma lista de todos os sites que voc√™ visualizou. <br><br>  E esses s√£o dados valiosos.  Muitas pessoas e empresas est√£o dispostas a pagar muito para ver seu hist√≥rico de navega√ß√£o. <br><br><img src="https://habrastorage.org/webt/6d/yr/qv/6dyrqvrgnlsweoegzwo_ue-dx5c.png"><br>  <i><font color="gray">Quanto voc√™ est√° disposto a pagar por informa√ß√µes sobre o que John Doe estava olhando?</font></i> <br><br>  Mesmo se n√£o precis√°ssemos nos preocupar com roteadores ou servidores DNS potencialmente infames, ainda existe o risco de que seus dados sejam coletados e vendidos.  Porque o pr√≥prio resolvedor - que a rede forneceu - pode n√£o ser confi√°vel. <br><br>  Mesmo se voc√™ confiar no resolvedor recomendado da rede, provavelmente o usar√° apenas em casa.  Como mencionei, sempre que estiver em um caf√©, hotel ou em qualquer outra rede, voc√™ provavelmente receber√° um resolvedor diferente.  E quem sabe qual √© sua pol√≠tica de coleta de dados? <br><br>  Al√©m do fato de seus dados serem coletados e depois vendidos sem o seu conhecimento ou consentimento, o sistema √© usado de uma maneira ainda mais perigosa. <br><br><h3>  Spoofing </h3><br>  Com a falsifica√ß√£o, algu√©m no caminho entre voc√™ e o servidor DNS altera a resposta.  Em vez de um endere√ßo IP real, o fraudador informa o endere√ßo IP errado para o site.  Assim, eles podem bloquear o acesso a um site real ou enviar uma vers√£o falsa dos golpistas. <br><br><img src="https://habrastorage.org/webt/zm/3b/5t/zm3b5ttg_mk9vcftxwiiluvc0i4.png"><br>  <i><font color="gray">Envie para 1.6.6.6 ... este √© um endere√ßo absolutamente correto, e n√£o um site falso que eu controle</font></i> <br><br>  Novamente, aqui o pr√≥prio resolvedor pode agir de maneira infame. <br><br>  Suponha que voc√™ fa√ßa uma compra em uma loja Megastore.  Voc√™ deseja comparar pre√ßos e ver se esse produto √© vendido mais barato na loja online concorrente big-box.com. <br><br>  Mas se voc√™ usa o Megastore WiFi na sala de opera√ß√µes, provavelmente usa o resolvedor.  Ele pode interceptar uma solicita√ß√£o para big-box.com e mentir para voc√™ que o site est√° indispon√≠vel. <br><br><a name="1"></a><h1>  Como corrigir a situa√ß√£o usando o TRR (Trusted Recursive Resolver) e o DNS sobre HTTPS (DoH)? </h1><br>  Na Mozilla, acreditamos firmemente que somos respons√°veis ‚Äã‚Äãpor proteger os usu√°rios e seus dados e, portanto, estamos trabalhando para solucionar essas vulnerabilidades. <br><br>  Introduzindo dois novos recursos para remediar isso: Trusted Recursive Resolver (TRR) e DNS sobre HTTPS (DoH).  Porque na verdade existem tr√™s amea√ßas: <br><br><ol><li>  Voc√™ pode acabar usando um resolvedor n√£o confi√°vel que rastreia suas solicita√ß√µes ou falsifica respostas de servidores DNS. </li><li>  Os roteadores ao longo do caminho podem rastrear solicita√ß√µes ou intervir da mesma maneira. </li><li>  Servidores DNS podem rastrear consultas DNS. </li></ol><br><img src="https://habrastorage.org/webt/3l/yg/op/3lygopv1uoy_s_iktu34-cogywu.png"><br><br>  Como evitar isso? <br><br><ol><li>  Evite resolvedores n√£o confi√°veis ‚Äã‚Äãcom o TRR. </li><li>  Proteja-se contra a escuta e a falsifica√ß√£o usando DNS sobre HTTPS. </li><li>  Transfira o m√≠nimo de dados poss√≠vel para proteger os usu√°rios do cancelamento do anonimato. </li></ol><br><h3>  Evite resolvedores n√£o confi√°veis ‚Äã‚Äãcom TRR </h3><br>  As redes podem parar de recomendar resolvedores n√£o confi√°veis ‚Äã‚Äãque coletam dados do usu√°rio ou consultas DNS falsas, porque muito poucos usu√°rios est√£o cientes dos riscos ou de como se proteger. <br><br>  Mesmo para usu√°rios que est√£o cientes dos riscos, √© dif√≠cil para um usu√°rio individual concordar com seu provedor ou outra organiza√ß√£o que ser√° tratado de forma respons√°vel com suas consultas DNS. <br><br>  No entanto, estudamos esses riscos ... e temos alguma influ√™ncia.  H√° muito tempo que procuramos uma empresa que nos ajude a proteger os dados DNS dos usu√°rios.  E eles encontraram um desses: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Cloudflare</a> . <br><br>  O Cloudflare fornece um servi√ßo de resolu√ß√£o recursiva com uma pol√≠tica de privacidade para os usu√°rios.  Eles se comprometeram a excluir todos os dados de identifica√ß√£o pessoal ap√≥s 24 horas e nunca transferir esses dados para terceiros.  Verifica√ß√µes regulares ser√£o feitas para garantir que os dados sejam realmente exclu√≠dos conforme prometido. <br><br>  Gra√ßas a isso, temos um resolvedor confi√°vel para proteger a privacidade do usu√°rio.  Isso significa que o Firefox pode ignorar o resolvedor de rede e ir diretamente para o Cloudflare.  Agora voc√™ n√£o precisa se preocupar que os invasores usem um resolvedor para vender dados do usu√°rio ou falsifica√ß√£o de DNS. <br><br>  Por que escolhemos um resolvedor?  Como n√≥s, o Cloudflare est√° preocupado em criar um servi√ßo DNS privado.  Juntamente conosco, eles desenvolveram um bom resolvedor de DoH transparente.  A empresa prontamente buscou prote√ß√£o adicional do servi√ßo, por isso estamos felizes em cooperar com eles. <br><br>  Mas isso n√£o significa que voc√™ deve usar o Cloudflare.  Os usu√°rios podem configurar o Firefox para usar qualquer resolvedor recursivo ativado por DoH.  √Ä medida que novos servi√ßos se tornam dispon√≠veis, planejamos implementar a descoberta simples e alternar entre eles. <br><br><h3>  Proteger contra escuta e falsifica√ß√£o usando DNS sobre HTTPS </h3><br>  Mas o resolvedor n√£o √© a √∫nica amea√ßa.  Os roteadores no caminho podem rastrear e falsificar consultas DNS, porque tamb√©m veem o conte√∫do das consultas e respostas DNS.  Felizmente, j√° existe tecnologia na Internet para proteger contra a escuta de roteadores no caminho.  Esta √© a criptografia que eu estava falando. <br><br>  O uso do HTTPS para trocar pacotes DNS protege as consultas DNS de nossos usu√°rios contra espionagem. <br><br><h3>  Transfira o m√≠nimo de dados poss√≠vel para proteger os usu√°rios do cancelamento do anonimato </h3><br>  Al√©m do resolvedor confi√°vel executado sob o protocolo DoH, o Cloudflare e eu estamos trabalhando em medidas de seguran√ßa adicionais. <br><br>  Normalmente, o resolvedor envia o nome de dom√≠nio completo para cada servidor: o DNS raiz, o dom√≠nio de n√≠vel superior, o servidor de nome de dom√≠nio de segundo n√≠vel etc. Mas o servidor Cloudflare far√° diferente.  Ele enviar√° apenas a parte relacionada a um servidor DNS espec√≠fico.  Isso √© chamado de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">minimiza√ß√£o de QNAME</a> . <br><br><img src="https://habrastorage.org/webt/zc/po/hd/zcpohdznrjwbjkyqhguxusrw_ii.png"><br>  <i><font color="gray">"Voc√™ n√£o sabe como acessar o servidor .org?"</font></i> <br><br>  Freq√ºentemente, o resolvedor tamb√©m inclui os primeiros 24 bits do seu endere√ßo IP na solicita√ß√£o.  Isso ajuda o servidor DNS a descobrir onde voc√™ est√° e selecionar a CDN mais pr√≥xima.  Mas os servidores DNS podem usar essas informa√ß√µes para vincular consultas d√≠spares entre si. <br><br>  Em vez disso, o Cloudflare far√° uma solicita√ß√£o a partir de um de seus pr√≥prios endere√ßos IP, que fica ao lado do usu√°rio.  Isso fornece geolocaliza√ß√£o sem refer√™ncia a uma pessoa espec√≠fica.  Tamb√©m estamos explorando como implementar um balanceamento de carga ainda melhor e mais preciso, com a privacidade em mente. <br><br>  Tudo isso - removendo partes desnecess√°rias do dom√≠nio e do endere√ßo IP - significa que o servidor DNS pode coletar muito menos dados sobre voc√™. <br><br><img src="https://habrastorage.org/webt/gy/rd/6v/gyrd6vpqy2p93vhgan08o2wweqo.png"><br><br><h1>  O que resta do TRR com DoH? </h1><br>  Essas medidas de prote√ß√£o reduzem o n√∫mero de pessoas que podem ver o hist√≥rico das p√°ginas que voc√™ visita.  Mas eles n√£o eliminam completamente o vazamento de dados. <br><br>  Depois de fazer uma pesquisa de DNS, voc√™ ainda precisa se conectar ao servidor da Web nesse endere√ßo para obter um endere√ßo IP.  Para fazer isso, envie uma solicita√ß√£o.  A solicita√ß√£o inclui um SNI (indica√ß√£o do nome do servidor) indicando o site espec√≠fico no servidor.  E essa solicita√ß√£o n√£o est√° criptografada. <br><br>  Ou seja, seu ISP ainda pode descobrir quais sites voc√™ visita, porque eles est√£o listados ali no SNI.  As informa√ß√µes tamb√©m est√£o abertas para roteadores que transmitem a solicita√ß√£o inicial do seu navegador para o servidor da web. <br><br>  Mas assim que voc√™ se conecta ao servidor da Web, tudo √© criptografado.  E o mais importante, essa conex√£o criptografada pode ser usada para qualquer site neste servidor, e n√£o apenas para o que voc√™ solicitou originalmente. <br><br>  √Äs vezes, isso √© chamado de conex√£o HTTP / 2, mesclando ou simplesmente reutilizando uma conex√£o.  Quando voc√™ abre uma conex√£o com um servidor compat√≠vel, ele informa quais outros sites est√£o hospedados nele.  Voc√™ pode visitar esses sites usando sua conex√£o criptografada existente. <br><br>  Por que isso √© √∫til?  Porque voc√™ n√£o precisa abrir uma nova conex√£o para se conectar a esses outros sites.  Ou seja, voc√™ n√£o precisa enviar outra solicita√ß√£o inicial n√£o criptografada, indicando o SNI e a divulga√ß√£o de informa√ß√µes em qual site voc√™ est√° acessando.  Assim, voc√™ pode visitar qualquer um dos outros sites no mesmo servidor sem revel√°-los ao seu provedor e roteadores ao longo do caminho. <br><br>  Com a crescente popularidade da CDN, mais e mais sites individuais s√£o atendidos por um √∫nico servidor.  E como voc√™ pode ter v√°rias conex√µes unificadas abertas, conecte-se simultaneamente a v√°rios servidores compartilhados ou CDNs, visitando todos os sites em servidores diferentes sem vazamento de dados.  Portanto, essa fun√ß√£o funciona cada vez mais efetivamente como uma tela de prote√ß√£o. <br><br><h1>  Qual √© o status? </h1><br>  J√° no Firefox, voc√™ pode ativar o DNS por HTTPS, e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">recomendamos que voc√™ fa√ßa isso</a> . <br><br>  Por padr√£o, queremos ativar o DoH para todos os usu√°rios, pois todos merecem privacidade e seguran√ßa, independentemente de saberem ou n√£o sobre vazamentos de DNS. <br><br>  Mas essa √© uma mudan√ßa significativa e precisa ser testada primeiro.  Portanto, estamos realizando um estudo.  Metade dos usu√°rios do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Firefox Nightly</a> est√° pedindo ajuda para coletar dados de desempenho. <br><br>  Nos testes, o resolvedor padr√£o √© usado, como agora, mas as solicita√ß√µes tamb√©m s√£o enviadas ao resolvedor do Cloudflare DoH.  Em seguida, comparamos o resultado para verificar se tudo est√° funcionando conforme o esperado. <br><br>  Para os participantes do estudo, a resposta DNS do Cloudflare ainda n√£o foi usada.  Apenas verificamos que tudo funciona e, em seguida, descartamos a resposta do Cloudflare. <br><br><img src="https://habrastorage.org/webt/p8/_a/el/p8_aelqb6nza3ypzpnzwuibnd6m.png"><br><br>  Obrigado aos usu√°rios noturnos que ajudam a testar o Firefox todos os dias.  Esperamos que voc√™ tamb√©m nos ajude. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt413515/">https://habr.com/ru/post/pt413515/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt413501/index.html">O ano passado com o React: conclus√µes e recomenda√ß√µes</a></li>
<li><a href="../pt413503/index.html">Corrija-me se puder: como estamos depurando a produ√ß√£o. Parte 1</a></li>
<li><a href="../pt413505/index.html">2 ingressos gratuitos para a In-Memory Computing Summit Europe</a></li>
<li><a href="../pt413511/index.html">Escolhendo um scanner 3D para a ind√∫stria. Maxim Zhuravlev. Reportagem na Top 3D Expo 2018</a></li>
<li><a href="../pt413513/index.html">Padr√µes de comunica√ß√£o ‚Äúesquecidos‚Äù: WiMAX, CDMA, ALOHAnet e outros</a></li>
<li><a href="../pt413517/index.html">Qual √© o paradoxo da produtividade de TI e como a nuvem ajuda a resolv√™-lo</a></li>
<li><a href="../pt413519/index.html">Teste comparativo de dispositivos de controle de mosquitos</a></li>
<li><a href="../pt413523/index.html">Vis√£o geral do trabalho com o Universal Links: pr√≥s e contras</a></li>
<li><a href="../pt413525/index.html">Ensine-me a entrevistar</a></li>
<li><a href="../pt413527/index.html">Tr√™s variantes da palavra "esconder" em ingl√™s e outras s√©ries sin√¥nimas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>