<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëÜüèø üßîüèΩ ü§Ø AI, cours pratique. Collection et recherche d'images ü§∑ üñ±Ô∏è üë©üèº‚Äç‚öïÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article d√©crit les m√©thodes utilis√©es pour collecter des donn√©es d'image dans un projet musical avec un diaporama. Il y avait des limitations qui ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>AI, cours pratique. Collection et recherche d'images</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/intel/blog/413839/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/_j/dr/q0/_jdrq0ffcxcf86rbei-wxierd5u.jpeg"></div><br>  Cet article d√©crit les m√©thodes utilis√©es pour collecter des donn√©es d'image dans un projet musical avec un diaporama.  Il y avait des limitations qui nous ont oblig√©s √† utiliser la base de donn√©es d'images existante, plut√¥t que des images prises √† partir de Flickr.  Cependant, cet article d√©crit les deux approches afin que le lecteur puisse apprendre √† extraire des donn√©es √† l'aide de l'API Flickr. <br><br>  De plus, la qualit√© d'une partie importante des images collect√©es avec Flickr √©tant faible, il a √©t√© d√©cid√© d'utiliser des images provenant de bases de donn√©es d'images existantes.  En particulier, des images ont √©t√© collect√©es dans trois bases de donn√©es pour des recherches psychologiques. <br><a name="habracut"></a><br>  Rappelons qu'au d√©part, les ensembles de donn√©es suivants ont √©t√© s√©lectionn√©s pour ce projet: <br><br><ol><li>  Un ensemble de donn√©es de formation contenant 7000 images √©motionnellement color√©es de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Flickr</a> pour un algorithme d'extraction d'√©motion. </li><li>  Un ensemble de donn√©es de formation contenant les ≈ìuvres de Bach pour l'algorithme d'ach√®vement de la m√©lodie. </li><li>  Un ensemble de m√©lodies qui servent de mod√®les pour moduler les √©motions. </li></ol><br>  Vous devez maintenant collecter les ensembles de donn√©es.  Comme indiqu√© dans l'article, la quantit√© de travail requise pour cela varie consid√©rablement en fonction de l'ensemble de donn√©es s√©lectionn√©. <br><br><h2>  <font color="#0071c5">Capture d'image</font> </h2><br>  Ce projet n√©cessitait un ensemble d'images qui √©voquaient sept √©motions diff√©rentes: bonheur, tristesse, peur, anxi√©t√©, admiration, d√©termination, col√®re.  Pour la collection d'images, il a √©t√© d√©cid√© d'utiliser Flickr, un site de partage de photos populaire, en raison de sa taille et de la licence de Creative Commons *. <br><br>  La recherche manuelle de 7000 images sur Flickr est une t√¢che ardue.  Heureusement, Flickr poss√®de une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API</a> qui fournit un ensemble de m√©thodes qui facilitent l'√©change de donn√©es avec Flickr dans un langage de programmation.  Cependant, avant d'utiliser l'API pour collecter des images, il est important de savoir quoi rechercher afin d'√©voquer des √©motions pertinentes.  Pour d√©terminer la liste des termes de recherche, une t√¢che a √©t√© utilis√©e sur la plateforme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Amazon Mechanical Turk</a> *. <br><br><h3>  <font color="#0071c5">API Flickr</font> </h3><br>  Pour utiliser les m√©thodes propos√©es par l'API Flickr, vous devrez cr√©er un compte Flickr et demander une cl√© API.  Pour ce faire, vous devez disposer d'un compte Flickr ou Yahoo! *.  Ensuite, vous devez suivre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ce lien</a> et obtenir la cl√©. <br><br><img src="https://habrastorage.org/webt/uh/q3/0k/uhq30kznjns9goydmrjwufzdwl0.png"><br>  <i>Capture d'√©cran de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">www.flickr.com/services/apps/create/apply</a></i> <br><br>  Le processus de traitement d'une demande de cl√© non commerciale est assez simple.  Il comprend une description de l'utilisation pr√©vue et l'acceptation des conditions d'utilisation.  La cl√© API est une mesure de s√©curit√© et est utilis√©e pour emp√™cher une mauvaise utilisation de l'API.  Dans les m√©thodes fournies par l'API, il s'agit d'un param√®tre obligatoire. <br><br>  Apr√®s avoir re√ßu la cl√© API, vous pouvez t√©l√©charger et installer la bo√Æte √† outils API pour l'un des langages de programmation de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">The App Garden</a> .  Ce projet utilise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'API Flickr PythonI de Beej</a> , qui peut √™tre utilis√©e avec le langage Python 3. Vous devez suivre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">le guide d'installation de l'</a> API Flickr. <br><br>  Le code utilis√© pour t√©l√©charger les images est indiqu√© ci-dessous.  Fondamentalement, la fonction de marche API est utilis√©e ici, qui recherche une image par balise.  Les balises sont stock√©es dans un fichier .txt et sont r√©pertori√©es une par ligne.  Si une image est trouv√©e, son URL est cr√©√©e √† partir du mod√®le dans la <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">batterie</a> {farm-id} .staticflickr.com / {server-id} / {id} _ {secret} .jpg</i> , o√π le contenu des accolades est remplac√© par des attributs d'image.  Ensuite, les 30 premi√®res images de chaque balise (tri√©es par pertinence) sont extraites et organis√©es en dossiers, en fonction de l'√©motion et des conditions de recherche. <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> flickrapi <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> urllib.request <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os project_path = <span class="hljs-string"><span class="hljs-string">'/path/to/your/project'</span></span> photos_per_tag = <span class="hljs-number"><span class="hljs-number">30</span></span> filenames = [<span class="hljs-string"><span class="hljs-string">'Awe.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'Happiness.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'Fear.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'Determination.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'Anxiety.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'Tranquility.txt'</span></span>, <span class="hljs-string"><span class="hljs-string">'Sadness.txt'</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">download_files</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(flickr, t, category, num_photos)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># Downloads the files of a specific tag os.mkdir(t) os.chdir(t) s = [] for photo in flickr.walk(tag_mode='all', sort='relevance', tags=t, license=4, per_page=50): url = 'https://farm{}.staticflickr.com/{}/{}_{}.jpg'.format(photo.get('farm'), photo.get('server'), photo.get('id'), photo.get('secret')) s.append(url) if len(s) == num_photos: break for i in range(len(s)): filename = '{}_{}_{}.jpg'.format(category, t, str(i)) urllib.request.urlretrieve(s[i], filename) os.chdir(os.path.join(project_path, category)) if __name__ == '__main__': # Creates flickr object # These keys should be requested from flickr api_key = u'xxxxxxxxxxxx' api_secret = u'xxxxxxxxxxx' flickr = flickrapi.FlickrAPI(api_key, api_secret) # Runs the program, cycles through the emotions and downloads the images for each tag. os.chdir(project_path) for fname in filenames: categ = fname[:-4] with open(fname, 'r') as f: tags = f.read().splitlines() os.mkdir(categ) os.chdir(categ) for t in tags: download_files(flickr, t, categ, photos_per_tag) os.chdir(project_path)</span></span></code> </pre> <br>  Pour utiliser ce code, vous devez cloner le r√©f√©rentiel √† l'aide du lien de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitHub</a> .  Apr√®s cela, suivez les instructions du fichier README.  Vous devez remplacer les param√®tres api_key et api_secret par les cl√©s API re√ßues sur Flickr.  Comme mentionn√© ci-dessus, ce script ne fonctionne que sur Python 3. <br><br>  Apr√®s l'ex√©cution du programme, le dossier ressemble √† ceci: <br><br><img src="https://habrastorage.org/webt/d6/vg/4u/d6vg4uz-dqluh8gznempvdzwxrk.png"><br><br><img src="https://habrastorage.org/webt/db/n5/l_/dbn5l_zbd8-w-zjvkjyyelpumz8.jpeg"><br>  <i>Un ensemble de donn√©es issues des r√©sultats de recherche sur Flickr.</i> <br><br>  Au total, environ 8800 images ont √©t√© collect√©es.  Plus d'images ont √©t√© re√ßues que n√©cessaire, car nous avions pr√©vu de supprimer certaines des images de faible qualit√© qui ne peuvent pas √™tre utilis√©es.  L'√©tape suivante consistait √† rechercher ces images. <br><br><h3>  <font color="#0071c5">S√©lection d'images</font> </h3><br>  La qualit√© des images collect√©es √©tait diff√©rente.  Certaines conditions de recherche, par exemple, les fleurs (illustr√©es sur la figure) ont donn√© des images utilisables de haute qualit√©.  Cependant, des conditions de recherche moins sp√©cifiques ont souvent produit des images compl√®tement inutilisables.  Par exemple, une image d'un g√¢teau avec une merveille * a √©t√© obtenue √† partir de l'√©tiquette miracle (en raison de l'√©motion de la crainte), et une image du chou d'Ambitious Farms a √©t√© trouv√©e √† partir de l'√©tiquette ambitieuse (en raison de l'√©motion de la d√©termination). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xk/ia/0k/xkia0kxzikvgjlowgyg8b6_bemo.jpeg"></div><br>  <i>Images inappropri√©es.</i> <br><br>  Quiconque envisage d'utiliser l'API Flickr pour rechercher des images est encourag√© √† utiliser des noms sp√©cifiques comme termes de recherche.  Les images trouv√©es sont bien meilleures que l'utilisation d'adjectifs ou de noms abstraits.  Par exemple, lorsque vous recherchez des images de crainte, vous devez utiliser des termes de recherche tels que l'oc√©an ou le Grand Canyon, plut√¥t que crainte ou miracle. <br><br>  Apr√®s avoir visionn√© les images, l'√©quipe a conclu que plus de 40% des images √©taient inutilisables.  En cons√©quence, l'approche de s√©lection d'un ensemble de donn√©es a √©t√© r√©vis√©e.  Apr√®s avoir discut√© d'un certain nombre de possibilit√©s, telles que la limitation de l'ensemble d'images √† des visages ayant des √©motions pertinentes, il a √©t√© d√©cid√© d'utiliser des images de bases de donn√©es existantes qui sont couramment utilis√©es dans la recherche psychologique (Geneva Affective PicturE Database ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GAPED</a> ), Open Affective Standardized Image Set ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OASIS</a> ) et Image Stimuli for Emotion Elicitation ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ISEE</a> )). <br><br>  Malgr√© le fait que les images dans les bases de donn√©es existantes sont moins diverses qu'elles ne pourraient l'√™tre dans le nouvel ensemble de donn√©es, le choix a √©t√© fait en faveur des bases de donn√©es existantes en raison de la meilleure qualit√© d'image et de la disponibilit√© des informations sur les param√®tres.  Avoir des informations sur les param√®tres est un √©norme avantage, car cela √©limine le besoin d'annotation √† l'aide d'Amazon Mechanical Turk, ce qui r√©duit consid√©rablement le co√ªt. <br><br><h3>  <font color="#0071c5">Source de donn√©es</font> </h3><br>  Le processus de collecte de donn√©es pour le nouvel ensemble de donn√©es √©tait beaucoup plus simple.  En particulier, les √©tapes n'√©taient plus n√©cessaires avec Amazon Mechanical Turk et l'API Flickr.  Les jeux de donn√©es GAPED et OASIS (y compris le balisage des param√®tres) peuvent √™tre t√©l√©charg√©s sur Internet.  L'ensemble de donn√©es ISEE est devenu disponible apr√®s un e-mail √† l'auteur demandant l'acc√®s.  Si les instructions de t√©l√©chargement des jeux de donn√©es ne sont pas bien comprises, une recherche Google * vous aidera probablement √† trouver des contacts d'auteurs qui peuvent directement demander l'acc√®s aux jeux de donn√©es. <br><br>  Deux ensembles de donn√©es ont √©t√© cr√©√©s pour ce projet.  Le premier a utilis√© l'API Flickr pour charger des images √† l'aide de balises d'√©motion, le second √©tait une compilation de bases de donn√©es existantes utilis√©es dans la recherche psychologique.  Chacun de ces ensembles de donn√©es a ses avantages et ses inconv√©nients;  cependant, le second a √©t√© choisi pour le projet - gr√¢ce √† des avantages tels que la qualit√© de l'image, la pr√©sence de param√®tres √©tiquet√©s et le co√ªt. <br><br>  La m√©thode utilis√©e pour collecter directement les donn√©es d√©pend des donn√©es requises.  Toutefois, les processus et m√©thodes d√©crits dans cet article sont susceptibles d'√™tre utiles pour de nombreux projets. <br><br>  Maintenant que les ensembles de donn√©es sont cr√©√©s, le projet est pr√™t √† effectuer les √©tapes suivantes - recherche et traitement pr√©liminaire des donn√©es. <br><br><h2>  <font color="#0071c5">Exploration de donn√©es d'images</font> </h2><br>  La qualit√© d'une partie importante des images collect√©es avec Flickr √©tant faible, il a √©t√© d√©cid√© d'utiliser des images provenant de bases de donn√©es d'images existantes.  En particulier, des images ont √©t√© collect√©es dans trois bases de donn√©es pour des recherches psychologiques.  Chaque image comprend des informations de notation pour (non) l'agr√©ment et l'intensit√©, collect√©es aupr√®s de plusieurs artistes.  Les images de 1986 de ces bases de donn√©es ont √©t√© divis√©es en 4 cat√©gories.  Ces cat√©gories couvraient 87% des images et comprenaient 34% d'animaux, 28% de personnes, 13% de sc√®nes et 12% d'objets.  Les 13% restants ont √©t√© class√©s comme divers. <br><br><h3>  <font color="#0071c5">Les animaux</font> </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_j/dr/q0/_jdrq0ffcxcf86rbei-wxierd5u.jpeg"></div><br>  <i>Exemples d'images de la cat√©gorie "Animaux"</i> <br><br>  Environ un tiers des images contiennent des animaux - isol√©s ou avec d'autres animaux, comme indiqu√© ci-dessus.  Dans ces exemples, en se d√©pla√ßant de gauche √† droite, la note d'agr√©ment augmente.  Des images d√©sagr√©ables d'hy√®nes mangeant leurs proies et leurs cafards peuvent provoquer une r√©ponse sous la forme d'√©motions telles que: la peur, la tristesse et le d√©go√ªt. <br><br>  Les images de droite - un chat endormi, un chien souriant - au contraire, peuvent provoquer sympathie et bonheur. <br><br><h3>  <font color="#0071c5">Les gens</font> </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/z6/kd/vf/z6kdvfa0yknvuqh3_sdboqobqa8.jpeg"></div><br>  <i>Exemples d'images de la cat√©gorie Personnes</i> <br><br>  La cat√©gorie d'images Personnes comprend des images d'individus et de groupes de personnes, tandis que les images de groupes de personnes contiennent souvent des informations plus contextuelles.  Par exemple, l'image de la fanfare semble avoir √©t√© prise dans le contexte d'un stade rempli de fans, ce qui sugg√®re que l'image a √©t√© prise lors d'une performance sportive.  L'image d'une femme en col√®re, au contraire, est priv√©e de contexte - le spectateur n'a pas la possibilit√© de d√©couvrir ou de deviner la raison de sa col√®re.  Il convient de noter que toutes les images avec de nombreuses personnes ou avec des groupes ne contiennent pas d'informations suppl√©mentaires. <br><br>  Par exemple, l'image d'hommes allong√©s en ligne sur le sol, avec des blessures visibles et des v√™tements ensanglant√©s, ne donne pas une id√©e de ce qui se passe.  N√©anmoins, m√™me avec un tel manque d'information, les images avec les gens provoquent diverses r√©actions √©motionnelles. <br><br><h3>  <font color="#0071c5">Sc√®nes</font> </h3><br>  La cat√©gorie ¬´Sc√®nes¬ª d'un ensemble d'images comprend une vari√©t√© de sc√®nes - des structures et objets artificiels aux sc√®nes de la nature et m√™me de l'espace. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ho/2v/tt/ho2vttl3iuauwnr94ce8uivrwdw.jpeg"></div><br>  <i>Exemples d'images de la cat√©gorie Sc√®nes</i> <br><br><h3>  <font color="#0071c5">Les objets</font> </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vl/5_/bk/vl5_bkiof6y8puazjhku6d9yfuy.jpeg"></div><br>  <i>Exemples d'images de la cat√©gorie Objets</i> <br><br>  La cat√©gorie ¬´Objets¬ª de l'ensemble d'images comprend des images focalis√©es sur un objet, comme illustr√© dans les exemples ci-dessus.  Il n'y a pas de contexte situationnel dans ces images, en particulier par rapport aux autres cat√©gories de l'ensemble d'images. <br><br><h3>  <font color="#0071c5">Divers</font> </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/md/qf/1g/mdqf1gyo2nw5sdu4oo2vyhbyxfm.jpeg"></div><br>  <i>Exemples d'images de la cat√©gorie Divers</i> <br><br>  Enfin, un sous-ensemble d'images est rest√© dans l'ensemble qui n'a pu √™tre attribu√© √† aucune des quatre cat√©gories.  Souvent, comme le montrent les exemples, ces images √©taient des sc√®nes avec plusieurs objets, mais sans le contexte typique des images de la cat√©gorie Sc√®nes.  Ce type d'image, en r√®gle g√©n√©rale, contenait une note neutre - ils n'√©taient ni agr√©ables ni d√©sagr√©ables. <br><br><h2>  <font color="#0071c5">Cat√©gories d'√©motions pour la base de donn√©es d'images</font> </h2><br>  Pour identifier les cat√©gories d'√©motions pour la base de donn√©es d'images, nous nous sommes appuy√©s sur des √©valuations de signification subjective normative qui accompagnent chaque image dans la base de donn√©es affective PicturE de Gen√®ve (GAPED) et l'Open Affective Standardized Image Set (OASIS).  √âtant donn√© que GAPED a utilis√© l'√©chelle de Likert de 0 √† 100 et OASIS a utilis√© l'√©chelle de Likert de 1 √† 7, une transformation lin√©aire a √©t√© appliqu√©e qui a amen√© toutes les √©valuations sur une √©chelle continue de 0 √† 100. Ensuite, deux r√®gles potentielles pour cat√©goriser les √©motions ont √©t√© √©tudi√©es. <br><br>  Premi√®rement, il est intuitivement souhaitable de trier les images selon le niveau d'agr√©ment, puis de les diviser en trois parties selon l'√©chelle de notation, de sorte que les images avec des notes de 0 √† 33,33 repr√©sentent la cat√©gorie n√©gative, avec des notes de 33,33 √† 66,67 neutres, et avec des notes de 66,67 √† 100 - une cat√©gorie positive.  Pour impl√©menter cette r√®gle de division en trois cat√©gories, du code Python a √©t√© utilis√©: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> shutil <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> csv <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">organizeFolderGAPED</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(original, pos, neg, neut)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#      GAPED    #        dict = {} files = os.listdir(original) for file in files: if '.txt' in file: with open(os.path.join(original, file), 'r') as f: for l in f: l = l.split() dict[l[0][:-4]] = l[1] #        pos/neg/neut      for roots, dirs, files, in os.walk(original): for file in files: if '.bmp' in file: if float(dict[file[:-4]]) &lt; 100/3: shutil.copy(os.path.join(roots, file), neg) elif float(dict[file[:-4]]) &gt; 200/3: shutil.copy(os.path.join(roots, file), pos) else: shutil.copy(os.path.join(roots, file), neut) def organizeFolderOASIS(original, pos, neg, neut): #      GAPED    #        dict = {} with open('/Users/harrys/Desktop/OASIS.csv') as file: reader = csv.reader(file) for row in reader: dict[row[1]] = row[4] #        pos/neg/neut       for roots, dirs, files, in os.walk(original): for file in files: if '.jpg' in file: if (float(dict[file[:-4]])-1)*100/6 &lt; 100/3: shutil.copy(os.path.join(roots, file), neg) elif (float(dict[file[:-4]])-1)*100/6 &gt; 200/3: shutil.copy(os.path.join(roots, file), pos) else: shutil.copy(os.path.join(roots, file), neut) if __name__ == '__main__' : gaped = 'path/to/your/project/directory/GAPED' oasis = 'path/to/your/project/directory/Oasis' pos = 'path/to/your/project/directory/Positive' neg = 'path/to/your/project/directory/Negative' neut = 'path/to/your/project/directory/Neutral' organizeFolderOASIS(oasis, pos, neg, neut) organizeFolderGAPED(gaped, pos, neg, neut)</span></span></code> </pre><br>  Cette approche nous a permis de diviser la base de donn√©es en cat√©gories: 417 images n√©gatives, 774 neutres et 442 positives.  Dans cette approche, la division en trois cat√©gories dans des proportions √©gales d'images d√©sagr√©ables, dont la note n'a pas atteint la valeur seuil, a √©t√© class√©e comme neutre;  par exemple, des images d'un cadavre, d'un enfant qui pleure, des cimeti√®res ont √©t√© class√©s comme neutres.  Bien que ces images soient moins d√©sagr√©ables que d'autres dans la cat√©gorie n√©gative, des doutes ont surgi quant √† leur neutralit√©. <br><br>  Par cons√©quent, il a √©t√© d√©cid√© d'appliquer une r√®gle de cat√©gorisation optimis√©e bas√©e sur la distribution normale des donn√©es, ainsi que d'am√©liorer la s√©paration des param√®tres en cat√©gories √©motionnelles.  Les valeurs 0 √† 39 ont √©t√© attribu√©es √† la cat√©gorie n√©gative, 40 √† 60 √† la cat√©gorie neutre et 61 √† 100 √† la cat√©gorie positive.  Pour impl√©menter cette r√®gle, du code Python a √©t√© utilis√©: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> shutil <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> csv <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">organizeFolderGAPED</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(original, pos, neg, neut)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#      GAPED    #        dict = {} files = os.listdir(original) for file in files: if '.txt' in file: with open(os.path.join(original, file), 'r') as f: for l in f: l = l.split() dict[l[0][:-4]] = l[1] #        pos/neg/neut      for roots, dirs, files, in os.walk(original): for file in files: if '.bmp' in file: if float(dict[file[:-4]]) &lt; 40: shutil.copy(os.path.join(roots, file), neg) elif float(dict[file[:-4]]) &gt; 60: shutil.copy(os.path.join(roots, file), pos) else: shutil.copy(os.path.join(roots, file), neut) def organizeFolderOASIS(original, pos, neg, neut): #      GAPED    #        dict = {} with open('path/to/your/project/directory/OASIS.csv') as file: reader = csv.reader(file) for row in reader: dict[row[1]] = row[4] #        pos/neg/neut       for roots, dirs, files, in os.walk(original): for file in files: if '.jpg' in file: if (float(dict[file[:-4]])-1)*100/6 &lt; 40: shutil.copy(os.path.join(roots, file), neg) elif (float(dict[file[:-4]])-1)*100/6 &gt; 60: shutil.copy(os.path.join(roots, file), pos) else: shutil.copy(os.path.join(roots, file), neut) if __name__ == '__main__' : gaped = 'path/to/your/project/directory/GAPED' oasis = 'path/to/your/project/directory/Oasis' pos = 'path/to/your/project/directory/Positive' neg = 'path/to/your/project/directory/Negative' neut = 'path/to/your/project/directory/Neutral' organizeFolderOASIS(oasis, pos, neg, neut) organizeFolderGAPED(gaped, pos, neg, neut)</span></span></code> </pre><br>  Avec cette r√®gle de cat√©gorisation, 40 √† 60 √† 40 567 images positives ont √©t√© jug√©es plus agr√©ables que 502 neutres et 564 images n√©gatives ont √©t√© jug√©es moins agr√©ables que neutres.  Ainsi, la valeur cible des cat√©gories √©motionnelles a √©t√© maintenue et la r√©partition des images par cat√©gorie a √©t√© am√©lior√©e.  La figure ci-dessous illustre le niveau d'agr√©ment associ√© √† chacune des cat√©gories.  Les diff√©rentes longueurs des moustaches sur le diagramme de dispersion indiquent dans quelle cat√©gorie √©motionnelle (positive ou n√©gative) il y a une plus grande gamme de notes par rapport √† la cat√©gorie neutre. <br><br><img src="https://habrastorage.org/webt/yx/3f/sv/yx3fsvbh9cpl_jyfz4_1j9xf-io.jpeg"><br>  <i>Notes d'agr√©ment moyennes pour chacune des cat√©gories √©motionnelles</i> <br><br>  Nous concluons que cette r√®gle de cat√©gorisation est suffisante pour classer les images en fonction des √©motions.  Concernant les cat√©gories de param√®tres de la base de donn√©es d'images, les types d'images repr√©sentant chacune des cat√©gories √©motionnelles sont indiqu√©s ci-dessous.  Il est √† noter que chaque cat√©gorie de param√®tres (animaux, personnes, sc√®nes, objets, divers) est repr√©sent√©e dans chacune des cat√©gories √©motionnelles. <br><br>  <i>Cat√©gorie √©motionnelle 1: n√©gative</i> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wg/mo/xx/wgmoxxsmn1b8zp5sbsapzfpgsxi.jpeg"></div><br>  <i>Cat√©gorie √©motionnelle 2: neutre</i> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rz/dv/8a/rzdv8a89hkcqc5gbrtqt8k_yc-q.jpeg"></div><br>  <i>Cat√©gorie √©motionnelle 3: positive</i> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/fx/u2/ot/fxu2otvmennaundgxobtgb-empq.jpeg"></div><br>  Pour r√©sumer.  Nous avons divis√© la base de donn√©es d'images en cat√©gories √©motionnelles neutres, n√©gatives et positives en utilisant des notations de signification normative dans la plage de 0 √† 100, en attribuant de 0 √† 39 √† n√©gatif, de 40 √† 60 √† neutre et de 61 √† 100 √† positif.  Les images ont √©t√© correctement r√©parties dans ces cat√©gories √©motionnelles.  Enfin, chaque cat√©gorie √©motionnelle comprenait des images d'animaux, de personnes, de sc√®nes, d'objets, etc. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr413839/">https://habr.com/ru/post/fr413839/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr413819/index.html">Honn√™tement sur le march√© informatique en Russie</a></li>
<li><a href="../fr413823/index.html">Le boom de l'emploi insignifiant</a></li>
<li><a href="../fr413827/index.html">Le projet Kubernetes f√™te ses 4 ans</a></li>
<li><a href="../fr413831/index.html">La nouvelle version de Tesla Autopilot sortira en ao√ªt, pour la premi√®re fois avec des ¬´fonctions de conduite enti√®rement autonomes¬ª</a></li>
<li><a href="../fr413837/index.html">Faire de Tower Defense un jeu d'unit√© - Partie 1</a></li>
<li><a href="../fr413841/index.html">Alternatives aux produits Google</a></li>
<li><a href="../fr413843/index.html">Waymo devance les autres: les robots de la soci√©t√© ont parcouru 11 millions de kilom√®tres</a></li>
<li><a href="../fr413847/index.html">Monument d√©clencheur "vivant"</a></li>
<li><a href="../fr413849/index.html">Histoire de la marque Sennheiser: libert√© et vision</a></li>
<li><a href="../fr413851/index.html">St√©ganographie en paquets IP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>