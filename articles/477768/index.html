<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçüç≥ üë±üèø üöª Historia de Vim y una gu√≠a para su uso efectivo. ü•ü üé≠ üõÉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nota del traductor: esta es la primera parte del art√≠culo monumental (en realidad monumental) sobre Vim y sus capacidades del desarrollador de Minneap...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Historia de Vim y una gu√≠a para su uso efectivo.</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dcmiran/blog/477768/">  <i>Nota del traductor: esta es la primera parte del art√≠culo monumental (en realidad monumental) sobre Vim y sus capacidades del desarrollador de Minneapolis y el autor del proyecto <a href="http://postgrest.org/en/v6.0/">PostgREST,</a> Joe <a href="https://github.com/begriffs">lamenta a</a> Nelson.</i> <i><br><br></i>  <i>La primera parte del art√≠culo est√° dedicada a conocer la historia de Vim como editor, y el autor habla sobre una serie de datos interesantes sobre las capacidades de Vim.</i>  <i>En la segunda parte de la traducci√≥n, todas las fichas y trucos de vida que Joe decidi√≥ compartir con el p√∫blico se concentrar√°n, all√≠ la narraci√≥n, como tal, se desvanece y solo queda un conjunto de pautas para la acci√≥n.</i>  <i>Dado que el texto original tiene dimensiones completamente inaceptables, dividimos esta historia en dos art√≠culos de aproximadamente el mismo tama√±o.</i>  <i>Hoy es la primera de dos publicaciones.</i>  <i>Que tengas una buena lectura.</i> <br><br><hr><br>  Este art√≠culo se basa en investigar la historia de Vim y leer su gu√≠a de usuario de principio a fin.  Espero que estas notas lo ayuden a descubrir (¬øo redescubrir?) La funcionalidad b√°sica de este editor para usted, as√≠ como tambi√©n le permitir√° abandonar el uso de archivos vimrc advertidos y usar complementos m√°s cuidadosamente. <br><br><img src="https://habrastorage.org/webt/hn/0g/5q/hn0g5qskcbqwtg_kauayaurqcak.png"><br><br><h3>  Referencias </h3><br>  Para ir m√°s all√° de los temas habituales, recomendar√≠a obtener una copia en papel de este manual y una referencia de bolsillo espaciosa.  No pude encontrar una copia impresa de la gu√≠a del usuario de Vim, as√≠ que al final simplemente imprim√≠ el <a href="https://begriffs.com/pdf/vim-user-manual.pdf">archivo PDF</a> que vino con el editor usando printme1.com.  <code>$VIMRUNTIME/doc/usr_??</code> Viene con software en <code>$VIMRUNTIME/doc/usr_??</code>  .  Como una lista conveniente de comandos, puedo aconsejar el libro de referencia <a href="https://www.goodreads.com/book/show/9787030-vi-and-vim-editors-pocket-reference">"Vi and Vim Editors Pocket"</a> . <br><br>  <b>Contenido</b> <br><br><ul><li>  La historia </li><li>  Jerarqu√≠a de configuraci√≥n </li><li>  Complementos de terceros </li><li>  Copias de seguridad y sobornos </li><li>  Incluir y ruta </li><li>  Edici√≥n y compilaci√≥n de un bucle </li><li>  Diffs y parches </li><li>  B√∫fer de entrada / salida </li><li>  Tipos de archivo </li><li>  No olvides el raton </li><li>  Miscel√°neo </li></ul><br><h2>  La historia </h2><br><h3>  Nacimiento vi </h3><br>  Los comandos y funciones de Vi han existido por m√°s de cincuenta a√±os, comenzando con el editor QED.  Aqu√≠ est√° su l√≠nea de tiempo: <br><a name="habracut"></a><br><ul><li>  1966: QED (Editor r√°pido) en el sistema Berkeley Timesharing </li><li>  Julio de 1969: con su ayuda aterrizaron en la luna (bueno, como referencia) </li><li>  Ago 1969: QED ‚Üí ed en AT&amp;T </li><li>  1976 Febrero: ed ‚Üí em ("Editor de mortales") en el Queen Mary's College </li><li>  1976: em ‚Üí ex ("EXTENDIDO") en la Universidad de California, Berkeley </li><li>  1977 Oct: ex recibe modo visual, vi - terminal de texto </li></ul><br>  Si lee el manual <a href="https://begriffs.com/pdf/qed-editor.pdf">QED</a> y <a href="https://begriffs.com/pdf/ex-manual.pdf">ex</a> , puede encontrar algunas similitudes entre ellos.  Ambos editores usan una gram√°tica similar para indicar y trabajar con rangos de l√≠nea. <br><br>  Los editores como QED ed y em fueron dise√±ados para terminales de impresi√≥n, que en su mayor parte eran m√°quinas de escribir el√©ctricas comunes con un m√≥dem conectado a ellas.  Tales terminales de "copiadora completa" mostraban comandos en papel y, obviamente, despu√©s de ingresar era imposible hacer correcciones.  Por lo tanto, el proceso de edici√≥n consisti√≥ en editar manualmente los comandos del usuario en papel y luego volver a ingresarlos. <br><br>  En 1976, aparecieron terminales de video, por ejemplo, ADM-3A.  Se agreg√≥ un "modo abierto" al editor Ex, que permit√≠a editar a trav√©s de un terminal de video dentro de una sola p√°gina.  Se agreg√≥ un modo visual para orientarse en las l√≠neas del terminal utilizando el cursor.  El modo visual se activ√≥ mediante el comando "vi" y actualiz√≥ constantemente el archivo que se muestra en la pantalla, manteniendo la posici√≥n de la l√≠nea de comando en la parte inferior de la pantalla.  Dato interesante: se colocaron flechas en las teclas h, j, k, l del ADM-3A, lo que nos permiti√≥ mover el cursor a vi. <br><br>  Puede obtener m√°s informaci√≥n sobre esta transici√≥n de ed a ex / vi en <a href="https://begriffs.com/pdf/unix-review-bill-joy.pdf">una entrevista con Bill Joy</a> .  En √©l, habla sobre c√≥mo cre√≥ ex / vi y sobre algunas cosas que finalmente lo decepcionaron. <br><br>  Classic vi es solo un alter es ex.  Ambos est√°n representados por el mismo archivo binario, que puede ejecutarse tanto en modo ex como en modo vi, dependiendo del nombre del archivo ejecutable.  El legado de toda esta historia es que ex / vi "se despliega" cuando se usa, casi no requiere recursos del sistema y puede funcionar en condiciones de ancho de banda limitado.  Tambi√©n est√° disponible en la mayor√≠a de los sistemas existentes y se <a href="http://pubs.opengroup.org/onlinepubs/9699919799/utilities/vi.html">describe completamente</a> en POSIX. <br><br><h3>  Vi to vim </h3><br>  Derivado de ed, el editor ex / vi era propiedad intelectual de AT&amp;T.  Para usar vi en plataformas que no sean Unix, las personas tuvieron que escribir clones que ten√≠an una base de c√≥digo fuente diferente. <br><br>  Aqu√≠ hay algunos de ellos: <br><br><ul><li>  nvi - 1980 para 4BSD </li><li>  calvin - 1987 para DOS </li><li>  vil - 1990 para DOS </li><li>  stevie - 1987 para Atari ST </li><li>  elvis - 1990 para Minix y 386BSD </li><li>  vim - 1991 para Amiga </li><li>  v√≠bora - 1995 para Emacs </li><li>  elwin - 1995 para Windows </li><li>  lemmy - 2002 para Windows </li></ul><br>  Nos centraremos en el clon del centro de la lista: Vim.  Bram Mulenaar quer√≠a usar vi en Amiga y comenz√≥ a portar con Atari y desarrollar el stevie clon vi.  Y llam√≥ a su versi√≥n del puerto "Vi Imitaci√≥n".  Si desea conocer este proceso de primera mano, mire su entrevista para la revista Free Software. <br><br>  En la versi√≥n 1.22, Vim pas√≥ a llamarse "Vi IMproved", lo que indica la superioridad de la copia sobre el original.  Aqu√≠ hay un gr√°fico de las siguientes versiones principales con descripciones de algunas caracter√≠sticas: <br><br><img src="https://habrastorage.org/webt/n-/gw/lu/n-gwlulgvi4i6rrmjqfzvmvpwbi.png"><br><br>  Para obtener m√°s informaci√≥n sobre cada versi√≥n, se debe utilizar la ayuda, por ejemplo, para vim8.  Para ver las actualizaciones planificadas, as√≠ como una lista de errores conocidos, debe dirigirse a todo.txt. <br><br>  Por ejemplo, la octava versi√≥n inclu√≠a cierto soporte para trabajos asincr√≥nicos debido a la presi√≥n sobre el proyecto de NeoVim.  Los desarrolladores de este √∫ltimo <a href="https://groups.google.com/forum/">quer√≠an</a> ejecutar depuraci√≥n y REPL para scripts web directamente dentro del editor. <br><br>  En general, Vim es superportable.  Adaptando toda la historia de su existencia para trabajar en plataformas completamente diferentes, este editor se vio obligado a permanecer dentro del marco de la cultura "f√°cil" de codificaci√≥n.  Vim se ejecuta en OS / 390, Amiga, BeOS y BeBox, Macintosh Classic, Atari MiNT, MS-DOS, OS / 2, QNX, RISC-OS, BSD, Linux, OS X, VMS y MS-Windows.  Puede confiar en Vim en cualquier lugar y no le importa qu√© equipo usa. <br><br>  Al final de la ruta vi original, en 2002, el c√≥digo fuente ex / vi todav√≠a se publicaba bajo la licencia de software libre BSD.  Los brujos est√°n disponibles en <a href="http://ex-vi.sourceforge.net/">ex-vi.sourceforge.net</a> . <br><br>  Pero vayamos al grano.  Antes de comenzar a analizar Vim, es √∫til saber c√≥mo organiza y lee sus archivos de configuraci√≥n. <br><br><h2>  Jerarqu√≠a de configuraci√≥n </h2><br>  Anteriormente, cre√≠ err√≥neamente que Vim obtiene todas sus configuraciones y scripts solo del archivo .vimrc.  Ver los repositorios de "archivos de puntos" aleatorios solo puede fortalecer esta opini√≥n.  Muy a menudo, las personas cargan monstruos en esencia archivos .vimrc individuales cuya tarea es controlar todos los aspectos del editor.  Estas configuraciones enormes tambi√©n se denominan a veces "distribuciones vim". <br><br>  De hecho, Vim tiene una estructura ordenada en la que .vimrc es solo uno de los muchos "puntos de entrada".  De hecho, usted mismo puede preguntarle a Vim qu√© scripts carga.  Para hacer esto, edite alg√∫n c√≥digo fuente para un proyecto aleatorio en su m√°quina, desc√°rguelo y luego ejecute el comando <br><br><pre> <code class="xml hljs">:scriptnames</code> </pre> <br>  Vale la pena leer esta lista.  Intente adivinar qu√© hacen estos scripts y anote los directorios en los que se encuentran. <br><br>  ¬øLa lista fue m√°s larga de lo que esperabas?  Si ha instalado muchos complementos, entonces el editor tiene mucho que hacer.  Verifique que se ralentiza al inicio ejecutando el siguiente comando de creaci√≥n start.log: <br><br><pre> <code class="xml hljs">vim --startuptime start.log name-of-your-file</code> </pre> <br>  Solo compara qu√© tan r√°pido comienza Vim desde el primer momento: <br><br><pre> <code class="xml hljs">vim --clean --startuptime clean.log name-of-your-file</code> </pre> <br>  Para determinar qu√© scripts deben cargarse al inicio o durante la carga del b√∫fer, debe verificar la ruta de tiempo de ejecuci√≥n de Vim.  Esta ruta est√° representada por una lista de directorios separados por comas, cada uno de los cuales contiene una estructura com√∫n.  Vim comprueba estas estructuras en cada directorio para encontrar sus scripts de inicio.  Los directorios se procesan estrictamente en el orden en que se encuentran en la lista. <br><br>  Verifique la ruta de ejecuci√≥n en su sistema a trav√©s de este comando: <br><br><pre> <code class="xml hljs">:set runtimepath</code> </pre> <br>  Mi sistema contiene los siguientes directorios especificados por defecto para la verificaci√≥n de runtimepath.  Ni siquiera todos existen, pero Vim a√∫n intentar√° acceder a ellos y verificar√° el contenido si todav√≠a est√°n en su lugar: <br><br> <code>~/.vim</code> <br>  Directorio de inicio, dise√±ado para perfiles creados. <br><br> <code>/usr/local/share/vim/vimfiles</code> <br>  Directorio Vim en todo el sistema, para perfiles con privilegios de administrador del sistema. <br><br> <code>/usr/local/share/vim/vim81</code> <br>  Aka $ VIMRUNTIME, para archivos distribuidos con Vim. <br><br> <code>/usr/local/share/vim/vimfiles/after</code> <br>  En el directorio Vim de todo el sistema, tambi√©n existe el directorio after.  Su objetivo es agregar la configuraci√≥n personal del administrador del sistema "predeterminado". <br><br> <code>~/.vim/after</code> <br>  El directorio "despu√©s" en el directorio de inicio.  Esto es necesario para que las configuraciones personales no cancelen ni se superpongan con las configuraciones de todo el sistema o "predeterminadas". <br><br>  En general, los directorios se procesan en el mismo orden en que se escriben en start.log, solo se hace una excepci√≥n para "despu√©s".  Este siempre est√° al final de la lista y se procesa en √∫ltimo lugar. <br><br>  Al procesar cada directorio, Vim busca subcarpetas en ellos con nombres espec√≠ficos.  Para obtener m√°s informaci√≥n sobre esto, consulte la ayuda runtimepath.  Aqu√≠ hay una breve descripci√≥n de las que consideraremos m√°s adelante en el texto: <br><br> <code>plugin /</code> <br>  Aqu√≠ se encuentran los archivos de script Vim que se cargan autom√°ticamente al editar cualquier tipo de archivo.  Tambi√©n se les llama "globales". <br><br> <code>autoload /</code> <br>  (No debe confundirse con "plugin").  Estas secuencias de comandos de inicio contienen funciones que se ajustan solo a petici√≥n de otras secuencias de comandos. <br><br> <code>ftdetect /</code> <br>  Scripts para determinar los tipos de archivo.  En su trabajo, conf√≠an en la extensi√≥n, ubicaci√≥n o contenido interno del archivo. <br><br> <code>ftplugin /</code> <br>  Scripts que se ejecutan al editar archivos de un tipo conocido. <br><br> <code>compiler /</code> <br>  Determina c√≥mo ejecutar varios compiladores o comprobaciones de pelusas y c√≥mo analizar su salida.  Se puede dividir entre varios ftplugins a la vez.  El compilador no se ejecuta autom√°ticamente y debe ser llamado por un comando. <br><br> <code>pack /</code> <br>  Un contenedor para paquetes nativos de Vim 8, el sucesor de la administraci√≥n de paquetes al estilo Pathogen.  Tiene su propio sistema de empaque, no requiere c√≥digo de terceros para funcionar. <br><br>  Y finalmente, <code>~ / .vimrc</code> es una trampa para la configuraci√≥n general del editor.  Se usa para configurar los ajustes predeterminados, que se pueden asignar a un tipo espec√≠fico de archivo.  Para ver la lista completa, puede seleccionar .vimrc y ejecutar el comando de opciones. <br><br><h2>  Complementos de terceros </h2><br>  Los complementos son solo scripts de Vim, para lo cual es suficiente colocarlos en los lugares correctos en el runtimepath.  En general, el proceso de instalaci√≥n es extremadamente simple: simplemente suba los archivos.  El problema es que algunos complementos son bastante dif√≠ciles de actualizar o eliminar, porque est√°n dispersos en diferentes subdirectorios y obstruyen las rutas de ejecuci√≥n con sus scripts.  Es decir, al final es dif√≠cil determinar qu√© archivo pertenece a qu√© complemento. <br><br>  Para resolver este problema, comenzaron a desarrollarse "administradores de complementos".  En vim.org hab√≠a un registro de complementos al menos hasta 2003 inclusive (si el archivo no est√° mintiendo).  Sin embargo, los "administradores de complementos" como entidad entraron de moda solo en 2008. <br><br>  Estas herramientas agregan directorios especiales para complementos para rastrear rutas de ejecuci√≥n y organizar etiquetas mediante las cuales se pueden rastrear complementos.  La mayor√≠a de los gerentes tambi√©n obtienen actualizaciones de complementos de la red. <br><br>  A continuaci√≥n, he creado administradores de complementos de acuerdo con la cronolog√≠a de su aparici√≥n.  Basado en los rangos de fechas de lanzamiento de la primera y la √∫ltima versi√≥n.  Si no hubo lanzamientos oficiales, tom√© como base las primeras fechas de lanzamiento y la √∫ltima actualizaci√≥n. <br><br><ul><li>  Mar 2006 - Jul 2014: Vimball </li><li>  Oct 2008 - Dic 2015: Pat√≥geno </li><li>  Ago. 2009 - Dic. 2009: Vimana </li><li>  Dic. 2009 - Dic. 2014: VAM </li><li>  Ago 2010 - Nov 2010: sacudida </li><li>  Oct 2010 - Nov 2012: tplugin </li><li>  Oct 2010 - Feb 2014: Vundle </li><li>  Mar 2012 - Mar 2018: vim-flavour </li><li>  Abr 2012 - Mar 2016: NeoBundle </li><li>  Ene 2013 - Ago 2017: infectar </li><li>  Febrero de 2013 - agosto de 2016: vimogen </li><li>  Oct 2013 - Jan 2015: vim-unbundle </li><li>  Diciembre de 2013 - julio de 2015: Vizardry </li><li>  Febrero de 2014 - octubre de 2018: vim-plug </li><li>  Ene. 2015 - Oct 2015: habilitador </li><li>  Ago. 2015 - Abr. 2016: Vizardry 2 </li><li>  Ene. 2016 - Jun. 2018: dein.vim </li><li>  Sep 2016 - Presente: nativo en Vim 8 </li><li>  Febrero de 2017 - septiembre de 2018: minpac </li><li>  Mar 2018 - Mar 2018: autopac </li><li>  Febrero de 2017 - junio de 2018: paquete </li><li>  Mar 2017 - Sep 2017: vim-pck </li><li>  Sep 2017 - Sep 2017: paquete vim8 </li><li>  Septiembre de 2017 - mayo de 2019: voltios </li><li>  Sep 2018 - Feb 2019: vim-packager </li><li>  Feb. 2019 - Feb. 2019: plugpac.vim </li></ul><br>  Lo primero a lo que debe prestar atenci√≥n en la lista anterior es la gran variedad.  El segundo: cada una de las herramientas presentadas ha estado "viva" durante unos cuatro a√±os y, muy probablemente, pasa de moda. <br><br>  El camino de menor resistencia en la administraci√≥n de complementos es simplemente usar la funcionalidad incorporada de Vim 8, que no requiere extraer ning√∫n c√≥digo de terceros.  Veamos c√≥mo hacerlo. <br><br>  Para comenzar, cree dos directorios dentro de su runtimepath: opt y start. <br><br><pre> <code class="xml hljs">mkdir -p ~/.vim/pack/foobar/{opt,start}</code> </pre> <br>  Presta atenci√≥n al marcador de posici√≥n "foobar" (el nombre se puede cambiar).  Clasifica completamente todos los paquetes que entran.  La mayor√≠a de los usuarios simplemente vuelcan todos sus complementos en cualquier categor√≠a y, en general, esto es normal.  Elige el nombre que quieras;  Seguir√© usando foobar.  En teor√≠a, tambi√©n puede crear varias categor√≠as, por ejemplo <code>~/.vim/pack/navigation</code> y <code>~/.vim/pack/linting</code> .  Tenga en cuenta que Vim no reconoce la duplicaci√≥n entre categor√≠as y descarga duplicados dos veces si existen. <br><br>  Los paquetes en "inicio" se cargan autom√°ticamente, mientras que los paquetes en "opt" no se cargan hasta que provienen de Vim usando el comando <code>:packadd</code> .  Esta opci√≥n es buena para paquetes poco utilizados y es compatible con Vim desde el primer momento, sin tener que ejecutar scripts.  Tenga en cuenta que <code>:packadd</code> no <code>:packadd</code> contraparte para descargar paquetes. <br><br>  Para revisar este ejemplo, agregaremos el complemento de b√∫squeda difusa ctrlp para optar.  Descargue y descomprima su √∫ltima versi√≥n en: <br><br><pre> <code class="xml hljs">curl -L https://github.com/kien/ctrlp.vim/archive/1.79.tar.gz \ | tar zx -C ~/.vim/pack/foobar/opt</code> </pre> <br>  Este comando crear√° la <code>~ / .vim / pack / foobar / opt / ctrlp.vim-1.79</code> paquete listo para usar.  Regrese a vim y cree los punteros de la etiqueta de ayuda (√≠ndice de etiquetas de ayuda) para el nuevo paquete: <br><br><pre> <code class="xml hljs">:helptags ~/.vim/pack/foobar/opt/ctrlp.vim-1.79/doc</code> </pre> <br>  Este comando crear√° un archivo llamado "etiquetas" en la carpeta con el tipo de paquete, que hace que los temas est√©n disponibles para su visualizaci√≥n en el sistema interno de Vim.  Forma alternativa: ejecute las etiquetas de ayuda TODAS despu√©s de descargar el paquete, y el comando se encargar√° de todos los archivos y sus rutas de ejecuci√≥n. <br>  Cuando desee usar un paquete, simplemente desc√°rguelo y recuerde que en este caso la terminaci√≥n funciona mediante pesta√±as, por lo que no necesita ingresar el nombre completo: <br><br><pre> <code class="xml hljs">:packadd ctrlp.vim-1.79</code> </pre> <br>  El directorio base de Packadd se encuentra en el runtimepath, que le permite usar scripts de su complemento y ftdetect.  Despu√©s de cargar ctrlp, puede usar el comando CTRL-P para abrir la b√∫squeda de archivos por coincidencia parcial. <br><br>  Algunas personas realizan un seguimiento de su directorio ~ / .vim y usan git para controlar la versi√≥n de cada paquete.  Por mi parte, simplemente desempaquete los paquetes de los archivos tar y los rastree manualmente a trav√©s del repositorio.  Si usa paquetes suficientemente maduros que no requieren actualizaciones frecuentes, as√≠ como scripts, entonces son bastante peque√±os y no saturan el historial de git. <br><br><h2>  Copias de seguridad y reversiones de versiones </h2><br>  Dependiendo de sus preferencias de usuario, Vim puede protegerlo de cuatro posibles causas de p√©rdida de datos: <br><br><ol><li>  Bloqueo al editar (entre guardados).  Vim puede proteger contra esto guardando peri√≥dicamente los cambios en el archivo de p√°gina. </li><li>  Protecci√≥n contra la edici√≥n del mismo archivo con dos instancias de Vim, protecci√≥n contra la sobrescritura de cambios realizados a trav√©s de una o m√°s instancias.  Esto tambi√©n se realiza a trav√©s del archivo de intercambio. </li><li>  Falla durante el proceso de guardar en s√≠ mismo despu√©s de cambiar el archivo final, pero hasta que el nuevo contenido est√© completamente escrito.  Vim puede protegerlo de esto con la funci√≥n de reescritura.  Para hacer esto, crea en el proceso de guardar un nuevo archivo, que posteriormente reemplaza al original, si todo sali√≥ bien.  El m√©todo de reemplazo est√° determinado por la configuraci√≥n de copia de seguridad. </li><li>  Guardar los nuevos contenidos del archivo siempre que se restaure el original.  Vim le permite guardar una copia de seguridad de un archivo despu√©s de realizar cambios. </li></ol><br>  Pero antes de comenzar a explorar estas configuraciones inteligentes, ¬øqu√© tal un par de bromas?  Aqu√≠ hay algunos comentarios de muestra de archivos vimrc en GitHub: <br><br>  ‚ÄúNo cree un archivo de p√°gina.  Administre todo a trav√©s del control de versiones ". <br>  ‚ÄúCopias de seguridad para exiliados.  Utiliza el control de versiones ". <br>  "¬°Solo control de versiones!"  ¬°Solo hardcore! <br>  "Vivimos en un mundo de control de versiones, por lo que los intercambios y las copias de seguridad est√°n en la basura". <br>  "¬øPor qu√© necesita archivos de copia de seguridad si el control de versiones es suficiente". <br>  "Nunca he usado archivos de copia de seguridad de Vim ... Use el control de versiones". <br>  "La mayor√≠a de las cosas se pueden encontrar a trav√©s del control de versiones". <br>  "Deshabilita las copias de seguridad de archivos, porque todav√≠a usas el sistema de control de versiones;)". <br>  "Y lleg√≥ el control de versiones, y Git nos salv√≥". <br>  "Deshabilitar archivos de intercambio y sistema de copia de seguridad.  ¬°Utilice siempre el control de versiones!  ¬°SIEMPRE! <br>  "No necesito una copia de seguridad, porque trabajo con control de versiones". <br><br>  La iron√≠a es que los comentarios anteriores reflejan solo una comprensi√≥n del cuarto y, en parte, el tercer tipo de falla.  Si rechaza el archivo de intercambio y la copia de seguridad, perder√° la protecci√≥n en el caso descrito en los p√°rrafos 1 y 2. <br><br>  Aqu√≠ hay un ejemplo de configuraci√≥n que recomiendo para una operaci√≥n segura: <br><br><pre> <code class="xml hljs">" Protect changes between writes. Default values of " updatecount (200 keystrokes) and updatetime " (4 seconds) are fine set swapfile set directory^=~/.vim/swap// " protect against crash-during-write set writebackup " but do not persist backup after successful write set nobackup " use rename-and-write-new method whenever safe set backupcopy=auto " patch required to honor double slash at end if has("patch-8.1.0251") " consolidate the writebackups -- not a big " deal either way, since they usually get deleted set backupdir^=~/.vim/backup// end " persist the undo tree for each file set undofile set undodir^=~/.vim/undo//</code> </pre> <br>  Estas configuraciones incluyen copias de seguridad para grabaciones incompletas, pero no guardan archivos despu√©s de que la operaci√≥n se complete con √©xito, porque tenemos control de versiones, el mejor control de versiones, bla, bla, bla, etc.  etc.  Tenga en cuenta que puede necesitar mkdir ~ / .vim / {swap, undodir, backup}, de lo contrario Vim acceder√° a la siguiente carpeta legible.  Probablemente tambi√©n deba ejecutar el comando chmod en las carpetas de destino para que sus contenidos sean privados, ya que los archivos de intercambio y el historial de copias de seguridad pueden contener informaci√≥n confidencial. <br><br>  Vale la pena se√±alar que la caracter√≠stica de nuestras rutas de configuraci√≥n es que siempre se cierran con una barra inclinada.  Esta ortograf√≠a permite que la funci√≥n elimine la posible ambig√ºedad en las rutas de los archivos de paginaci√≥n y copia de seguridad para archivos con los mismos nombres, que se encuentran en directorios diferentes.  Por ejemplo, el archivo de intercambio para / foo / bar se guardar√° en ~ / .vim / swap /% foo% bar.swp (escap√© barras con signos de porcentaje).  Hubo un error en el parche reciente de Vim que evit√≥ que la barra se tuviera en cuenta para backupdir, por lo que la protecci√≥n contra ella se muestra arriba. <br><br>  Nuestro Vim tambi√©n guarda el historial de reversi√≥n para cada archivo, por lo que puede restaurar la versi√≥n correcta incluso despu√©s de salir del modo de edici√≥n.  Aunque dicha funci√≥n puede parecer redundante en el contexto del archivo de intercambio que ya tenemos, el historial de reversi√≥n es una l√≠nea de defensa adicional durante la grabaci√≥n de archivos. <br><br>  Cuando hablamos de retrocesos, vale la pena recordar que Vim admite un √°rbol completo de historial de edici√≥n de archivos.  Esto significa que puede hacer un cambio, revertirlo y luego repetir los mismos cambios nuevamente, y todo esto ser√°n tres puntos de recuperaci√≥n diferentes.  El tiempo y el alcance de los cambios realizados pueden verificarse con el comando no incluido en la lista, pero es problem√°tico sacar el √°rbol de √©l.                 :     5 ,      .     ,        ‚Äî  ,  undotree ‚Äî  . <br><br>              .                .   :        .       ,    . <br><br>     :      ,      ,vim         .       nowritebackup,        ,      .     ,   Vim      ,     .    backupskip        . <br><br>  ¬´patchmode¬ª Vim      .      ,     . ,     tar-,        ,     git.  set patchmod = .orig   foo-      foo.orig. <br><br><h2> Include  path </h2><br>      (include)      . Vim     path, include, suffixesadd,  includeexpr.    (. help include-search) ‚Äî       ctags   . <br><br>         .    ,       .           ,     <code>help include</code> . <br><br>    ,    <code>[i</code>  ,    ,    <code>[d</code>    .    <code>gf</code>    Vim     .       :find,      <code>**/*</code>         ,    .       , ..   ,       . <br><br>        ,      .     (      )         CTRL-D.    . <br><br><pre> <code class="xml hljs">" fuzzy-find lite nmap <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Leader</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">space</span></span></span><span class="hljs-tag">&gt;</span></span> :e ./**/</code> </pre> <br>   :  path     (headers) .     ,   : checkpath,  ,   .     C   checkpath.     ,     ,       .   ,  checkpath      ,   . <br><br>      <code>¬´., / Usr / include ,,¬ª</code> .  ,     ‚Äî  /usr/include,        .       ,     <code>:help file-searching</code> . <br><br>   ftplugin   (  )      ,    . : ./src/include  ./include. <br><br><pre> <code class="xml hljs">setlocal path=.,,*/include/**3,./*/include/**3 setlocal path+=/usr/include</code> </pre> <br>   <code>¬´**3¬ª</code> ‚Äî      .    ,    .  ,      . <br><br>     ,        ,  :checkpath ,      . , ,       . <br><br>   : <code>:he [, :he gf, :he :find</code> . <br><br><hr><br> <i>  .</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/477768/">https://habr.com/ru/post/477768/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../477754/index.html">Compare micro: bit con Arduino. ¬øY c√≥mo obtener micro: bit gratis si no eres un estudiante de ingl√©s?</a></li>
<li><a href="../477756/index.html">C√≥mo nos casamos con dos sistemas bancarios de CRM</a></li>
<li><a href="../477758/index.html">"Doctor, elimine esto de la factura": c√≥mo buscamos servicios ilegales en VHI</a></li>
<li><a href="../477760/index.html">SberX RamblerFront & Meet Up: c√≥mo fue</a></li>
<li><a href="../477766/index.html">Aplicaci√≥n del modo de encriptaci√≥n de las tarjetas SL3 MIfare en el ejemplo de una compa√±√≠a</a></li>
<li><a href="../477770/index.html">Enciende la luz por el poder del pensamiento, bueno, casi</a></li>
<li><a href="../477774/index.html">Reuni√≥n de dise√±o en la oficina de San Petersburgo de Wrike 5 de diciembre</a></li>
<li><a href="../477778/index.html">Historial del procesador de video, Parte 2: 3Dfx Voodoo</a></li>
<li><a href="../477780/index.html">Escribir su propia CLI para React</a></li>
<li><a href="../477782/index.html">DJI Mavic Mini y la ley</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>