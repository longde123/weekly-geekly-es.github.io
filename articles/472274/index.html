<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>   SSH remoto: consejos y hacks ぞ  こ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En una publicaci贸n anterior sobre Remote SSH, vimos c贸mo configurar una m谩quina virtual Linux y conectarse a una m谩quina virtual usando la extensi贸n R...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SSH remoto: consejos y hacks</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/472274/">  En una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">publicaci贸n</a> anterior <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sobre Remote SSH,</a> vimos c贸mo configurar una m谩quina virtual Linux y conectarse a una m谩quina virtual usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la extensi贸n Remote - SSH</a> en Visual Studio Code.  En esta publicaci贸n, hablaremos sobre algunos consejos y trucos que puede usar para aprovechar al m谩ximo su configuraci贸n remota. <br><br><img src="https://habrastorage.org/webt/ov/u8/tt/ovu8ttvadc44hgdbjstecaecy9i.png"><a name="habracut"></a><br><br><h2>  Con茅ctese usando SSH remoto </h2><br>  La extensi贸n de Visual Studio Code Remote - SSH le permite conectarse a una m谩quina remota o m谩quina virtual usando SSH, y todo desde VS Code.  Si la extensi贸n a煤n no est谩 instalada, puede buscar "ssh remoto" en la pesta帽a "Extensiones" (рX). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7a1/94e/3a2/7a194e3a2e20a905fd72773a8c8e9524.png"><br><br>  Despu茅s de instalar la extensi贸n, ver谩 un indicador en la esquina inferior izquierda de la barra de estado.  Este indicador le dice en qu茅 contexto funciona VS Code (local o remoto).  Haga clic en el indicador para mostrar una lista de comandos de extensi贸n remota. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/575/c4f/3c9/575c4f3c962d7a2232dacd016debf545.png"><br><br><h2>  Archivo de configuraci贸n SSH </h2><br>  En una publicaci贸n anterior sobre SSH remota, nos conectamos a una sola m谩quina y, cuando se le solicit贸, ingresamos "usuario @ host".  Si se conecta regularmente a m煤ltiples servidores remotos o m谩quinas virtuales locales, hay una mejor manera de conectarse sin tener que recordar todos los nombres de usuario, direcciones y par谩metros de configuraci贸n adicionales. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">OpenSSH</a> admite el uso de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un archivo de configuraci贸n</a> para almacenar todas sus diversas conexiones SSH.  Para usar el archivo de configuraci贸n SSH, haga clic en el indicador remoto para invocar los comandos remotos, seleccione "Abrir archivo de configuraci贸n" y seleccione el archivo que se encuentra en "Usuarios / {su nombre de usuario} /. Ssh / config". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac7/29b/631/ac729b631568ca0f2006e2de9c424ff7.png"><br><br>  Aqu铆 hay un ejemplo de archivo de configuraci贸n SSH: <br><br><pre><code class="plaintext hljs">#      SSH: https://linux.die.net/man/5/ssh_config Host python-linux-vm HostName &lt;vm address&gt; User sana IdentityFile ~/.ssh/id_python_vm Host node-vm HostName &lt;vm address&gt; User sana Port 5522 IdentityFile ~/.ssh/id_node_vm</code> </pre> <br>  Hay muchas otras <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">opciones de configuraci贸n</a> que puede especificar en el formato de archivo de configuraci贸n SSH.  Obtendr谩 los complementos en este archivo, y puede hacer clic en (paceEspacio) para IntelliSense para obtener m谩s informaci贸n sobre las opciones de configuraci贸n. <br><br>  Opciones utilizadas anteriormente: <br><div class="scrollable-table"><table><tbody><tr><td>  Anfitri贸n </td><td>  Un alias f谩cil de recordar para tu host. </td></tr><tr><td>  Nombre de host </td><td>  Nombre de host del servidor (puede usar la direcci贸n IP del servidor). </td></tr><tr><td>  Usuario </td><td>  El usuario que especific贸 para iniciar sesi贸n a trav茅s de SSH. </td></tr><tr><td>  Puerto </td><td>  El puerto utilizado para conectarse a trav茅s de SSH.  El puerto predeterminado es 22, pero si especific贸 un puerto 煤nico, puede configurarlo aqu铆. </td></tr><tr><td>  IdentityFile </td><td>  La ubicaci贸n del archivo donde guard贸 su clave privada. </td></tr></tbody></table></div>  Puede agregar informaci贸n para todos los hosts que tenga.  Despu茅s de guardar el archivo de configuraci贸n, puede ver estos nodos en Remote Explorer, as铆 como cualquier carpeta que abra en este nodo.  Puede seleccionar un icono junto a cada host o carpeta, y se abrir谩 una nueva ventana de VS Code (instancia) y lo conectar谩 a ese host.  En la captura de pantalla a continuaci贸n, estoy conectado a mi m谩quina remota "python-linux-vm", y Remote Explorer me muestra las carpetas a las que me conect茅 en el pasado, as铆 como cualquier puerto redirigido desde la m谩quina remota. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a0f/500/def/a0f500defad2f6ea8d8a7b64755e14a8.png"><br><br><h2>  Comando proxy </h2><br>  A veces es posible que necesite conectarse desde su computadora de escritorio o port谩til a una computadora remota a trav茅s de la intranet de su empresa o detr谩s de un firewall.  En este caso, puede usar un servidor intermedio o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un cuadro de salto</a> .  Este tipo de configuraci贸n es 煤til si est谩 ejecutando un sistema seguro que est谩 configurado para aceptar conexiones SSH solo desde un conjunto fijo de hosts. <br><br>  Para usar la configuraci贸n de salto de caja con la extensi贸n Remote - SSH, puede usar el par谩metro de configuraci贸n <code>ProxyCommand</code> .  Esta configuraci贸n abrir谩 una conexi贸n SSH en segundo plano con la caja de salto y luego se conectar谩 a trav茅s de la direcci贸n IP privada al objetivo. <br><br>  Puede establecer el par谩metro de configuraci贸n <code>ProxyCommand</code> en el archivo de configuraci贸n SSH de la siguiente manera: <br><br><pre> <code class="plaintext hljs"># Jump box   IP- Host jump-box HostName 52.179.157.97 User sana IdentityFile ~/.ssh/jumpbox #     IP- Host target-box HostName &lt;IP address of target&gt; User sana IdentityFile ~/.ssh/target ProxyCommand ssh -q -W %h:%p jump-box</code> </pre> <br><h2>  Controlmaster </h2><br>  Si se conecta a un host SSH remoto utilizando m茅todos de autenticaci贸n distintos de la autenticaci贸n basada en clave, como la autenticaci贸n de dos factores, basada en contrase帽a o una clave SSH con una frase de contrase帽a, es posible que deba ingresar la informaci贸n requerida varias veces. <br><br>  En lugar de abrir m煤ltiples conexiones SSH, puede usar la opci贸n <code>ControlMaster</code> (solo en clientes macOS / Linux) para reutilizar una conexi贸n existente y reducir la cantidad de veces que necesita ingresar su frase de contrase帽a. <br><br>  Para usar esta funci贸n, agregue lo siguiente a su archivo de configuraci贸n SSH: <br><br><pre> <code class="plaintext hljs">Host * ControlMaster auto ControlPath ~/.ssh/sockets/%r@%h-%p ControlPersist 600</code> </pre><br><h2>  Computadora remota independiente </h2><br>  Si est谩 limitado por un firewall o su empresa est谩 bloqueando sus m谩quinas virtuales y no pueden conectarse a Internet, la extensi贸n Remote - SSH no podr谩 conectarse a su m谩quina virtual porque VS Code debe descargar un componente llamado VS Code Server en la m谩quina remota. <br><br>  Sin embargo, ahora puede resolver este problema con un nuevo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">par谩metro de</a> usuario en la extensi贸n Remota: SSH.  Si habilita el par谩metro <code>remote.SSH.allowLocalServerDownload</code> , la extensi贸n primero instalar谩 VS Code Server en el cliente y luego lo copiar谩 al servidor a trav茅s de SCP. <br><br>  Nota  Actualmente es una funci贸n experimental, pero se habilitar谩 de manera predeterminada en una versi贸n futura. <br><br><h2>  Remoto - Extensi贸n nocturna SSH </h2><br>  Si desea probar nuevas actualizaciones y caracter铆sticas experimentales tan pronto como est茅n disponibles, instale la extensi贸n Remota - SSH todas las noches (primero quite la extensi贸n estable SSH Remota).  Esta es una compilaci贸n nocturna de la extensi贸n, donde experimentamos con nuevas caracter铆sticas y configuraciones antes de agregarlas a la versi贸n estable. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/472274/">https://habr.com/ru/post/472274/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../472262/index.html">El resumen de materiales interesantes para el desarrollador m贸vil # 318 (del 14 al 20 de octubre)</a></li>
<li><a href="../472264/index.html">Arqueolog铆a digital y realidad virtual o c贸mo intent茅 hacerme amigo de BIM y VR</a></li>
<li><a href="../472268/index.html">Mejora de los controles de Microsoft Edge en Chromium</a></li>
<li><a href="../472270/index.html">"No tienes acceso a la oraci贸n actual": cuentas de alta tecnolog铆a del Vaticano fueron pirateadas en 15 minutos</a></li>
<li><a href="../472272/index.html">Un nuevo juego con un ambiente antiguo en Three.js. Parte 2</a></li>
<li><a href="../472278/index.html">Mi git commit favorito</a></li>
<li><a href="../472280/index.html">La tarea de determinar la presencia de una palma en un esc谩ner de venas</a></li>
<li><a href="../472288/index.html">9 extensiones de navegador 煤tiles para desarrolladores (lista para 2020)</a></li>
<li><a href="../472290/index.html">Estructuras vs. Clases</a></li>
<li><a href="../472292/index.html">Bloqueo de contenido: el escenario mundial</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>