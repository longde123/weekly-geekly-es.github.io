<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕔 👊🏼 🐋 SSH remoto: consejos y hacks 🤾🏼 😫 🤳🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En una publicación anterior sobre Remote SSH, vimos cómo configurar una máquina virtual Linux y conectarse a una máquina virtual usando la extensión R...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SSH remoto: consejos y hacks</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/472274/">  En una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">publicación</a> anterior <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">sobre Remote SSH,</a> vimos cómo configurar una máquina virtual Linux y conectarse a una máquina virtual usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">la extensión Remote - SSH</a> en Visual Studio Code.  En esta publicación, hablaremos sobre algunos consejos y trucos que puede usar para aprovechar al máximo su configuración remota. <br><br><img src="https://habrastorage.org/webt/ov/u8/tt/ovu8ttvadc44hgdbjstecaecy9i.png"><a name="habracut"></a><br><br><h2>  Conéctese usando SSH remoto </h2><br>  La extensión de Visual Studio Code Remote - SSH le permite conectarse a una máquina remota o máquina virtual usando SSH, y todo desde VS Code.  Si la extensión aún no está instalada, puede buscar "ssh remoto" en la pestaña "Extensiones" (⇧⌘X). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7a1/94e/3a2/7a194e3a2e20a905fd72773a8c8e9524.png"><br><br>  Después de instalar la extensión, verá un indicador en la esquina inferior izquierda de la barra de estado.  Este indicador le dice en qué contexto funciona VS Code (local o remoto).  Haga clic en el indicador para mostrar una lista de comandos de extensión remota. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/575/c4f/3c9/575c4f3c962d7a2232dacd016debf545.png"><br><br><h2>  Archivo de configuración SSH </h2><br>  En una publicación anterior sobre SSH remota, nos conectamos a una sola máquina y, cuando se le solicitó, ingresamos "usuario @ host".  Si se conecta regularmente a múltiples servidores remotos o máquinas virtuales locales, hay una mejor manera de conectarse sin tener que recordar todos los nombres de usuario, direcciones y parámetros de configuración adicionales. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">OpenSSH</a> admite el uso de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un archivo de configuración</a> para almacenar todas sus diversas conexiones SSH.  Para usar el archivo de configuración SSH, haga clic en el indicador remoto para invocar los comandos remotos, seleccione "Abrir archivo de configuración" y seleccione el archivo que se encuentra en "Usuarios / {su nombre de usuario} /. Ssh / config". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ac7/29b/631/ac729b631568ca0f2006e2de9c424ff7.png"><br><br>  Aquí hay un ejemplo de archivo de configuración SSH: <br><br><pre><code class="plaintext hljs">#      SSH: https://linux.die.net/man/5/ssh_config Host python-linux-vm HostName &lt;vm address&gt; User sana IdentityFile ~/.ssh/id_python_vm Host node-vm HostName &lt;vm address&gt; User sana Port 5522 IdentityFile ~/.ssh/id_node_vm</code> </pre> <br>  Hay muchas otras <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">opciones de configuración</a> que puede especificar en el formato de archivo de configuración SSH.  Obtendrá los complementos en este archivo, y puede hacer clic en (paceEspacio) para IntelliSense para obtener más información sobre las opciones de configuración. <br><br>  Opciones utilizadas anteriormente: <br><div class="scrollable-table"><table><tbody><tr><td>  Anfitrión </td><td>  Un alias fácil de recordar para tu host. </td></tr><tr><td>  Nombre de host </td><td>  Nombre de host del servidor (puede usar la dirección IP del servidor). </td></tr><tr><td>  Usuario </td><td>  El usuario que especificó para iniciar sesión a través de SSH. </td></tr><tr><td>  Puerto </td><td>  El puerto utilizado para conectarse a través de SSH.  El puerto predeterminado es 22, pero si especificó un puerto único, puede configurarlo aquí. </td></tr><tr><td>  IdentityFile </td><td>  La ubicación del archivo donde guardó su clave privada. </td></tr></tbody></table></div>  Puede agregar información para todos los hosts que tenga.  Después de guardar el archivo de configuración, puede ver estos nodos en Remote Explorer, así como cualquier carpeta que abra en este nodo.  Puede seleccionar un icono junto a cada host o carpeta, y se abrirá una nueva ventana de VS Code (instancia) y lo conectará a ese host.  En la captura de pantalla a continuación, estoy conectado a mi máquina remota "python-linux-vm", y Remote Explorer me muestra las carpetas a las que me conecté en el pasado, así como cualquier puerto redirigido desde la máquina remota. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a0f/500/def/a0f500defad2f6ea8d8a7b64755e14a8.png"><br><br><h2>  Comando proxy </h2><br>  A veces es posible que necesite conectarse desde su computadora de escritorio o portátil a una computadora remota a través de la intranet de su empresa o detrás de un firewall.  En este caso, puede usar un servidor intermedio o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">un cuadro de salto</a> .  Este tipo de configuración es útil si está ejecutando un sistema seguro que está configurado para aceptar conexiones SSH solo desde un conjunto fijo de hosts. <br><br>  Para usar la configuración de salto de caja con la extensión Remote - SSH, puede usar el parámetro de configuración <code>ProxyCommand</code> .  Esta configuración abrirá una conexión SSH en segundo plano con la caja de salto y luego se conectará a través de la dirección IP privada al objetivo. <br><br>  Puede establecer el parámetro de configuración <code>ProxyCommand</code> en el archivo de configuración SSH de la siguiente manera: <br><br><pre> <code class="plaintext hljs"># Jump box   IP- Host jump-box HostName 52.179.157.97 User sana IdentityFile ~/.ssh/jumpbox #     IP- Host target-box HostName &lt;IP address of target&gt; User sana IdentityFile ~/.ssh/target ProxyCommand ssh -q -W %h:%p jump-box</code> </pre> <br><h2>  Controlmaster </h2><br>  Si se conecta a un host SSH remoto utilizando métodos de autenticación distintos de la autenticación basada en clave, como la autenticación de dos factores, basada en contraseña o una clave SSH con una frase de contraseña, es posible que deba ingresar la información requerida varias veces. <br><br>  En lugar de abrir múltiples conexiones SSH, puede usar la opción <code>ControlMaster</code> (solo en clientes macOS / Linux) para reutilizar una conexión existente y reducir la cantidad de veces que necesita ingresar su frase de contraseña. <br><br>  Para usar esta función, agregue lo siguiente a su archivo de configuración SSH: <br><br><pre> <code class="plaintext hljs">Host * ControlMaster auto ControlPath ~/.ssh/sockets/%r@%h-%p ControlPersist 600</code> </pre><br><h2>  Computadora remota independiente </h2><br>  Si está limitado por un firewall o su empresa está bloqueando sus máquinas virtuales y no pueden conectarse a Internet, la extensión Remote - SSH no podrá conectarse a su máquina virtual porque VS Code debe descargar un componente llamado VS Code Server en la máquina remota. <br><br>  Sin embargo, ahora puede resolver este problema con un nuevo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">parámetro de</a> usuario en la extensión Remota: SSH.  Si habilita el parámetro <code>remote.SSH.allowLocalServerDownload</code> , la extensión primero instalará VS Code Server en el cliente y luego lo copiará al servidor a través de SCP. <br><br>  Nota  Actualmente es una función experimental, pero se habilitará de manera predeterminada en una versión futura. <br><br><h2>  Remoto - Extensión nocturna SSH </h2><br>  Si desea probar nuevas actualizaciones y características experimentales tan pronto como estén disponibles, instale la extensión Remota - SSH todas las noches (primero quite la extensión estable SSH Remota).  Esta es una compilación nocturna de la extensión, donde experimentamos con nuevas características y configuraciones antes de agregarlas a la versión estable. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/472274/">https://habr.com/ru/post/472274/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../472262/index.html">El resumen de materiales interesantes para el desarrollador móvil # 318 (del 14 al 20 de octubre)</a></li>
<li><a href="../472264/index.html">Arqueología digital y realidad virtual o cómo intenté hacerme amigo de BIM y VR</a></li>
<li><a href="../472268/index.html">Mejora de los controles de Microsoft Edge en Chromium</a></li>
<li><a href="../472270/index.html">"No tienes acceso a la oración actual": cuentas de alta tecnología del Vaticano fueron pirateadas en 15 minutos</a></li>
<li><a href="../472272/index.html">Un nuevo juego con un ambiente antiguo en Three.js. Parte 2</a></li>
<li><a href="../472278/index.html">Mi git commit favorito</a></li>
<li><a href="../472280/index.html">La tarea de determinar la presencia de una palma en un escáner de venas</a></li>
<li><a href="../472288/index.html">9 extensiones de navegador útiles para desarrolladores (lista para 2020)</a></li>
<li><a href="../472290/index.html">Estructuras vs. Clases</a></li>
<li><a href="../472292/index.html">Bloqueo de contenido: el escenario mundial</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>