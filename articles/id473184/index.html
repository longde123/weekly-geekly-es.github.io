<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë¥üèæ üçù üëãüèæ Docker + php-fpm + PhpStorm + Xdebug üé≥ üë©‚Äçüë¶‚Äçüë¶ ‚è©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Belum lama ini, ketua tim berkata: kawan-kawan saya ingin semua orang memiliki lingkungan pengembangan yang sama untuk proyek tempur kami + kita harus...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Docker + php-fpm + PhpStorm + Xdebug</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473184/">  Belum lama ini, ketua tim berkata: kawan-kawan saya ingin semua orang memiliki lingkungan pengembangan yang sama untuk proyek tempur kami + kita harus dapat men-debug semuanya - baik aplikasi web, dan permintaan api, dan skrip konsol untuk menghemat waktu dan saraf kita.  Dan bantu kami dengan buruh pelabuhan ini. <br><br>  Tidak lebih cepat dikatakan daripada dilakukan.  Detail di bawah potongan. <br><a name="habracut"></a><br>  Ada banyak manual peti kemas pada jaringan, tetapi bagaimana menerapkannya pada pengembangan pertempuran nyata?  Untuk setiap proyek, tulislah docker-compose.yml Anda sendiri?  Tetapi semua proyek kami berkomunikasi satu sama lain melalui api, mereka semua menggunakan tumpukan teknologi standar: nginx + php-fpm + mysql. <br><br>  Karena itu, mari kita perjelas kondisi masalah: <br><br><ol><li>  Kami bekerja di sebuah perusahaan, dalam sebuah tim, menemani beberapa proyek pertempuran.  Kita semua bekerja di bawah Ubuntu + PhpStorm </li><li>  Untuk pengembangan lokal, kami ingin menggunakan buruh pelabuhan agar memiliki lingkungan pengembangan yang sama untuk setiap anggota tim, dan juga agar ketika pengembang baru tiba, ia dapat dengan cepat menyebarkan lingkungan kerja </li><li>  Kami ingin berkembang dengan nyaman, kami ingin memulai segalanya: baik aplikasi web, dan skrip konsol, dan permintaan api. </li></ol><br>  Sekali lagi: kami ingin membawa <b>beberapa</b> proyek kerja ke buruh pelabuhan. <br><br>  Pada server tempur, bundel nginx + php-fpm + mysql standar digunakan.  Dan apa masalahnya? <br><br>  Kami menggunakan lingkungan yang sama persis + Xdebug pada mesin lokal, mengonfigurasi proyek kami di PhpStorm, dan bekerja.  Untuk debug, nyalakan "tabung" di PhpStorm, semuanya bekerja di luar kotak, semuanya baik-baik saja. <br><br><img src="https://habrastorage.org/webt/4m/tv/4e/4mtv4efpe_tiqc8mnwskabrxoqu.png"><br><br>  Semua ini benar - semuanya berfungsi di luar kotak.  Tapi, mari kita coba lihat di bawah kap lingkungan kerja kita. <br><br>  Nginx + php-fpm berkomunikasi melalui soket, xdebug mendengarkan pada port 9000, PhpStorm juga, secara default, mendengarkan pada port 9000 untuk debugging dan semuanya tampak baik-baik saja.  Dan jika kita memiliki beberapa aplikasi terbuka di PhpStorm, dan penyadapan ("tabung)" diaktifkan untuk beberapa aplikasi?  Apa yang akan dilakukan PhpStorm?  Dia akan mulai bersumpah bahwa koneksi baru untuk Xdebug telah terdeteksi, apakah Anda ingin mengabaikannya atau tidak? <br><br>  Yaitu, dengan pengaturan default di PhpStorm, pada titik waktu tertentu, saya hanya dapat debut satu aplikasi.  Untuk semua aplikasi terbuka lainnya, debug harus dimatikan.  Sial, tapi tidak nyaman.  Saya ingin mendengarkan semua aplikasi untuk debug, dan jika ada breakpoint di salah satu dari mereka, maka saya ingin PhpStorm berhenti di aplikasi ini, pada baris di mana saya membutuhkannya. <br><br>  Dan apa yang dibutuhkan untuk ini?  Tetapi Anda membutuhkan setiap aplikasi untuk memulai dengan pengaturannya sendiri untuk Xdebug.  Sehingga setiap aplikasi mendengarkan port-nya, mencari servernya, dan tidak seperti kita memiliki semua kesamaan, semuanya dalam satu tumpukan. <br><br>  Dan untuk ini ada buruh pelabuhan yang luar biasa!  Kita dapat meluncurkan masing-masing aplikasi tempur kita dalam wadah terpisah, berdasarkan pada satu gambar umum, misalnya, php: 7.1-fpm.  Berkat teknologi buruh pelabuhan, kami dapat mengisolasi aplikasi kami dengan overhead yang minimal. <br><br>  Ok, mari kita mulai proyek tempur kita di bawah buruh pelabuhan, jalankan setiap proyek dalam wadah yang terpisah, konfigurasikan setiap proyek di PhpStorm untuk debug secara individual, semuanya harus baik-baik saja. <br><br>  Dan, oops, masalah pertama: kontainer di buruh pelabuhan dijalankan sebagai root, dan secara lokal kami bekerja, biasanya sebagai pengguna dengan uid 1000, gid 1000. Aplikasi sedang berjuang, dan memberikan setiap aplikasi 777 hak untuk semuanya bukan merupakan pilihan.  Aplikasi kita berada di bawah git, dan jika kita memberikan hak 777 secara lokal, maka git akan mencatat semua ini dan mentransfernya ke server pertempuran. <br><br>  Kruk, berikut adalah contoh gambar php: 7.1-fpm yang akan dikompilasi. <br><br><h4>  Perbarui </h4><br>  Seperti yang ditunjukkan oleh komunitas dengan tepat, sama sekali tidak perlu kruk. <br>  Misalnya 1tidak <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">mengubah habrozer</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dalam komentar</a> <br><br><div class="spoiler">  <b class="spoiler_title">Contoh gambar php awal: 7.1-fpm (uid dan gid di-hardcode)</b> <div class="spoiler_text"><pre><code class="php hljs">FROM php:<span class="hljs-number"><span class="hljs-number">7.1</span></span>-fpm RUN apt-get update &amp;&amp; apt-get install -y \ git \ curl \ wget \ libfreetype6-dev \ libjpeg62-turbo-dev \ libmcrypt-dev \ libpng-dev zlib1g-dev libicu-dev g++ libmagickwand-dev libxml2-dev \ &amp;&amp; docker-php-ext-configure intl \ &amp;&amp; docker-php-ext-install intl \ &amp;&amp; docker-php-ext-install mbstring zip xml gd mcrypt pdo_mysql \ &amp;&amp; docker-php-ext-configure gd --with-freetype-dir=/usr/<span class="hljs-keyword"><span class="hljs-keyword">include</span></span>/ --with-jpeg-dir=/usr/<span class="hljs-keyword"><span class="hljs-keyword">include</span></span>/ \ &amp;&amp; docker-php-ext-install -j$(nproc) gd \ &amp;&amp; pecl install imagick \ &amp;&amp; docker-php-ext-enable imagick \ &amp;&amp; pecl install xdebug \ &amp;&amp; docker-php-ext-enable xdebug ADD ./php.ini /usr/local/etc/php/php.ini RUN wget https:<span class="hljs-comment"><span class="hljs-comment">//getcomposer.org/installer -O - -q \ | php -- --install-dir=/bin --filename=composer --quiet RUN usermod -u 1000 www-data &amp;&amp; groupmod -g 1000 www-data WORKDIR /var/www USER 1000:1000 CMD ["php-fpm"]</span></span></code> </pre> <br></div></div><br><br>  Contoh Dockerfile terkoreksi <br><br><pre> <code class="bash hljs">FROM php:7.1-fpm ARG USER_ID ARG GROUP_ID RUN apt-get update &amp;&amp; apt-get install -y \ git \ curl \ wget \ libfreetype6-dev \ libjpeg62-turbo-dev \ libmcrypt-dev \ libpng-dev zlib1g-dev libicu-dev g++ libmagickwand-dev --no-install-recommends libxml2-dev \ &amp;&amp; docker-php-ext-configure intl \ &amp;&amp; docker-php-ext-install intl \ &amp;&amp; docker-php-ext-install mbstring zip xml gd mcrypt pdo_mysql \ &amp;&amp; pecl install imagick \ &amp;&amp; docker-php-ext-enable imagick \ &amp;&amp; pecl install xdebug-2.5.0 \ &amp;&amp; docker-php-ext-enable xdebug ADD ./php.ini /usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/etc/php/php.ini RUN wget https://getcomposer.org/installer -O - -q \ | php -- --install-dir=/bin --filename=composer --quiet RUN usermod -u <span class="hljs-variable"><span class="hljs-variable">${USER_ID}</span></span> www-data &amp;&amp; groupmod -g <span class="hljs-variable"><span class="hljs-variable">${GROUP_ID}</span></span> www-data WORKDIR /var/www USER <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${USER_ID}</span></span></span><span class="hljs-string">:</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${GROUP_ID}</span></span></span><span class="hljs-string">"</span></span> CMD [<span class="hljs-string"><span class="hljs-string">"php-fpm"</span></span>]</code> </pre><br><br>  <s>Saat memulai sebuah wadah dari gambar ini, pengguna data-www mendapat uid = 1000, gid = 1000.</s>  <s>Biasanya, pengguna pertama yang dibuat di Linux memiliki hak ini.</s>  <s>Dan, persis dengan hak-hak tersebut, wadah php-fpm kami akan berfungsi.</s>  <s>Saya akan sangat berterima kasih jika seseorang memberi tahu saya cara bekerja tanpa kruk dengan hak akses ke buruh pelabuhan.</s> <br><br>  Saat memulai sebuah wadah dari gambar ini, pengguna data-www mendapat uid dan gid, yang akan ditransfer dari luar. <br><br>  <b>Juga di komentar topik yang diangkat</b> : mengapa mengubah hak pengguna data-www sama sekali, mengapa hak standar tidak sesuai 33. Hanya satu hal: ketika kita masuk ke wadah dan membuat, misalnya, file migrasi, kita tidak akan menjadi pemilik file pada mesin host.  Dan setiap kali akan diperlukan untuk menjalankan sesuatu seperti <pre> <code class="bash hljs"> sudo chown -R user:user ./</code> </pre> <br><br>  Dan masalah kecil kedua: agar Xdebug berfungsi dengan benar, Anda harus mendaftarkan alamat ip yang benar untuk mesin host.  Setiap anggota tim berbeda.  127.0.0.1 tidak bergulir.  Dan di sini buruh pelabuhan itu sendiri membantu kami.  Sebagai contoh, kita dapat secara eksplisit mengkonfigurasi jaringan - 192.168.220.0/28.  Dan kemudian mesin kami akan selalu memiliki alamat 192.168.220.1.  Kami akan menggunakan alamat ini untuk mengkonfigurasi PhpStorm, serta mengkonfigurasi aplikasi lain.  Misalnya, ketika bekerja dengan MySql. <br><br>  Docker-compose.yml sendiri, setelah mempertimbangkan komentar, terlihat seperti ini: <br><br><pre> <code class="python hljs">version: <span class="hljs-string"><span class="hljs-string">'3'</span></span> services: php71-first: build: context: ./images/php71 args: - USER_ID - GROUP_ID volumes: - ./www:/var/www - ./aliases/php71/bash.bashrc:/etc/bash.bashrc environment: XDEBUG_CONFIG: <span class="hljs-string"><span class="hljs-string">"remote_host=192.168.220.1 remote_enable=1 remote_autostart=off remote_port=9008"</span></span> PHP_IDE_CONFIG: <span class="hljs-string"><span class="hljs-string">"serverName=first"</span></span> networks: - test-network php71-two: build: context: ./images/php71 args: - USER_ID - GROUP_ID volumes: - ./www:/var/www - ./aliases/php71/bash.bashrc:/etc/bash.bashrc environment: XDEBUG_CONFIG: <span class="hljs-string"><span class="hljs-string">"remote_host=192.168.220.1 remote_enable=1 remote_autostart=off remote_port=9009"</span></span> PHP_IDE_CONFIG: <span class="hljs-string"><span class="hljs-string">"serverName=two"</span></span> networks: - test-network nginx-test: image: nginx volumes: - ./hosts:/etc/nginx/conf.d - ./www:/var/www - ./logs:/var/log/nginx ports: - <span class="hljs-string"><span class="hljs-string">"8080:80"</span></span> depends_on: - php71-first - php71-two networks: test-network: aliases: <span class="hljs-comment"><span class="hljs-comment">#         . ,    api - first.loc - two.loc # mysql: # image: mysql:5.7 # ports: # - "3306:3306" # volumes: # - ./mysql/data:/var/lib/mysql # environment: # MYSQL_ROOT_PASSWORD: secret # networks: # - test-network networks: test-network: driver: bridge ipam: driver: default config: - subnet: 192.168.220.0/28</span></span></code> </pre><br><br>  Kita melihat bahwa dalam konfigurasi ini dua kontainer php71-first dan php71-two dibuat, berdasarkan pada satu gambar php: 7.1-fpm.  Setiap kontainer memiliki pengaturannya sendiri untuk Xdebug.  Setiap kontainer individu akan mendengarkan, untuk debugging, port dan servernya. <br><br>  Juga, saya menarik perhatian Anda ke arahan <br><pre> <code class="python hljs"> args: - USER_ID - GROUP_ID</code> </pre><br><br>  Tanpa variabel-variabel ini, gambar php-fpm tidak akan mulai.  Pertanyaan: bagaimana cara mengirimkannya ke docker-compose.yml?  Jawab: karena lebih nyaman bagi Anda.  Anda bisa saat startup: <br><pre> <code class="bash hljs">USER_ID=$(id -u) GROUP_ID=$(id -g) docker-compose up -d</code> </pre> <br>  Anda dapat menulis variabel-variabel ini dalam file .env, yang terletak pada level yang sama dengan file docker-compose.yml <br> <code>USER_ID=1000 <br> GROUP_ID=1000 <br></code> <br>  Saya suka versi dengan file .env lebih banyak.  Tentu saja, Anda bisa menggunakan Makefile.  Anda lebih suka. <br><br>  Kode lengkap untuk versi demo diposting di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github</a> . <br><br>  Daftar proyek demo: <br><br><img src="https://habrastorage.org/webt/-k/ky/wz/-kkywzcbln7nintf6fbwgpagv_k.png"><br><br>  Secara singkat memeriksa daftar proyek. <br><br>  Alias ‚Äã‚Äã-&gt; php71 -&gt; direktori bash.bashrc.  Momen kontroversial.  Saya lebih suka berkomunikasi dengan wadah php-fpm melalui alias. <br><br>  File ini diteruskan ke docker-compose.yml: - ./aliases/php71/bash.bashrc:/etc/bash.bashrc <br>  Alat standar Linux. <br><br>  Direktori hosts - file konfigurasi untuk Nginx.  Setiap konfigurasi memiliki wadah php-fpm sendiri.  Contoh: <br><br><pre> <code class="php hljs">server { listen <span class="hljs-number"><span class="hljs-number">80</span></span>; index index.php; server_name first.loc; error_log /<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/log/nginx/first_error.log; root /<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/www/first.loc; location / { try_files $uri /index.php?$args; } location ~ \.php$ { fastcgi_split_path_info ^(.+\.php)(/.+)$; <span class="hljs-comment"><span class="hljs-comment">#  php-fpm fastcgi_pass php71-first:9000; fastcgi_index index.php; fastcgi_read_timeout 1000; include fastcgi_params; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; fastcgi_param PATH_INFO $fastcgi_path_info; } }</span></span></code> </pre><br>  Direktori gambar - instruksi untuk merakit gambar php-fpm, direktori mysql - kami menyimpan database, direktori www - semua proyek web kami, dalam contoh kami first.loc dan two.loc. <br><br>  <b>Mari kita simpulkan hasil antara</b> : menggunakan kemampuan buruh pelabuhan, kami meluncurkan semua proyek kerja kami dalam satu lingkungan.  Semua proyek kami saling melihat, pengaturan unik untuk Xdebug terdaftar untuk masing-masing proyek. <br><br>  Masih untuk mengkonfigurasi PhpStorm dengan benar untuk setiap proyek.  Saat mengatur, kita harus mendaftarkan port untuk debug dan nama server di beberapa tempat. <br><br>  Buat proyek di PhpStorm <br><br><img src="https://habrastorage.org/webt/_j/8p/is/_j8piswn2nem_vwbnj08oh8i7uu.png"><br><br><img src="https://habrastorage.org/webt/wl/3k/yd/wl3kydjytydrmthhcpzsfe3v85m.png"><br><br><img src="https://habrastorage.org/webt/_j/np/ra/_jnpranostnhpzg7l2hecdbsgb8.png"><br><br>  Kami akan mengonfigurasi bagian menu <br>  - PHP (Anda harus mendaftarkan CLI Interpreter dengan benar), <br>  - Debug (ubah port menjadi 9008, seperti pada file docker-compose.yml), <br>  <s>- Proxy DBGp (kunci IDE, Host, Port),</s> <br>  <b>pembaruan</b> Berkat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">browser</a> hub CrazyLazy untuk poin penting.  Item menu proksi DBGp tidak perlu dikonfigurasi. <br>  - Server (Anda harus menentukan nama server dengan benar, seperti pada file docker-compose.yml, dan menggunakan pemetaan jalur) <br><br><img src="https://habrastorage.org/webt/lj/k1/qi/ljk1qiesnz_oqzeoi-i0ytmxgey.png"><br><br>  Saya akan menyembunyikan semua tangkapan layar lebih lanjut di bawah spoiler. <br><br><div class="spoiler">  <b class="spoiler_title">Mengkonfigurasi CLI Interpreter dari file docker-compose.yml</b> <div class="spoiler_text">  Tidak ada yang rumit - penting, ketika mengatur, pilih gambar yang diinginkan, dan daftarkan nama server dengan benar.  Secara default, nama server Docker, kami memilikinya. <br><br><img src="https://habrastorage.org/webt/qn/ot/08/qnot080fzz-bymkgbtsevyzwkla.png"><br><br><img src="https://habrastorage.org/webt/-r/e-/wn/-re-wnhsmpa5xowhv9y0hc4zqjg.png"><br><br><img src="https://habrastorage.org/webt/o7/rd/ah/o7rdahdcbjltlgvgksjdymqb92w.png"><br><br><img src="https://habrastorage.org/webt/bu/eh/md/buehmdu3ohudyx_9ezu9wz7mk-u.png"><br><br><img src="https://habrastorage.org/webt/1i/xi/qh/1ixiqhy2psmqjjhiftuttkk8nhu.png"><br><br><img src="https://habrastorage.org/webt/3b/_t/17/3b_t17w1nt6ju_86gddfmxkzo-y.png"><br><br><img src="https://habrastorage.org/webt/bs/6m/_v/bs6m_vv-zfuhuqrddsqh1d1zwic.png"><br><br><img src="https://habrastorage.org/webt/ml/va/ch/mlvach925rq-t52s3s6nnajlzlm.png"><br><br><img src="https://habrastorage.org/webt/rf/zg/5n/rfzg5n1utpkmtq3bbcucqtkfla0.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Siapkan bagian menu Debug</b> <div class="spoiler_text">  Sekali lagi, kami meresepkan segalanya dari pengaturan docker-compose.yml untuk wadah tertentu.  Pada langkah yang sama, kami memvalidasi cara kerja debug kami. <br><br><img src="https://habrastorage.org/webt/t8/76/d3/t876d3mggafgcrw6vn_prztxowa.png"><br><br><img src="https://habrastorage.org/webt/h9/sz/e3/h9sze3ekrkttlvs1mxqlccinqxk.png"><br><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Siapkan bagian menu Server</b> <div class="spoiler_text">  Penting untuk mendaftar dengan benar pemetaan penggunaan jalur, sekali lagi kami mengambil nama server dari pengaturan <br><br><img src="https://habrastorage.org/webt/qf/7-/on/qf7-onhf100vot3sqjs0zpminpy.png"><br><br><img src="https://habrastorage.org/webt/qb/p7/7x/qbp77xg1h1usxej75fua3o-2mm8.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Kami meninggalkan bagian menu File -&gt; Settings, pergi ke bagian menu Run -&gt; Edit Configuration, buat Php Web Page</b> <div class="spoiler_text">  Kami memilih server kami, yang dibuat pada langkah sebelumnya. <br><br><img src="https://habrastorage.org/webt/y4/df/hh/y4dfhhqmp_20nf5-eqkfateeepw.png"><br><br><img src="https://habrastorage.org/webt/9e/xm/b4/9exmb4ftet-yw1798zr1-qxse-s.png"><br><br><img src="https://habrastorage.org/webt/0s/wy/r8/0swyr8zrk65k0-jcilaqjjyqjtw.png"><br></div></div><br><h4>  Yah, itu saja.  Ada banyak surat yang ditulis, sepertinya semuanya tidak mudah </h4><br>  Padahal, yang utama adalah memahami hal yang sangat sederhana.  Berkat teknologi buruh pelabuhan, kami dapat menjalankan semua aplikasi yang berfungsi dalam satu ruang, tetapi dengan pengaturan yang berbeda untuk Xdebug.  Setiap aplikasi bekerja dalam wadahnya sendiri, dan kita harus hati-hati meresepkan pengaturan untuk setiap aplikasi di PhpStorm. <br><br>  Dan di pintu keluar kita mendapatkan gambar yang indah. <br><br>  1. Kami mengkloning repositori di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github</a> .  Buat file .env dengan variabel <br> <code>USER_ID= uid <br> GROUP_ID= gid <br></code> <br><br>  2. Kami mendaftarkan node first.loc dan two.loc di file / etc / hosts <br><br><pre> <code class="plaintext hljs">127.0.0.1 first.loc 127.0.0.1 two.loc</code> </pre> <br>  3. Di folder git, jalankan perintah <code>docker-compose up -d</code> <br><br>  4. Kami mengkonfigurasi kedua proyek first.loc dan two.loc di PhpStorm, seperti dijelaskan di atas, dan menjalankan kedua proyek di PhpStorm.  Yaitu  kami memiliki dua jendela PhpStorm terbuka, dengan dua proyek, masing-masing dari mereka mendengarkan koneksi masuk (handset aktif). <br><br>  5. Dalam proyek two.loc kita meletakkan breakpoint pada baris kedua, misalnya,.  Dalam proyek first.loc pertama, kami memulai permintaan http dari file http.http <br><br>  Dan lihatlah!  Kami dilemparkan ke proyek kedua, di breakpoint kami. <br><br>  Untuk men-debug skrip konsol, kami melakukan hal yang persis sama.  Kita nyalakan penyadapan untuk penyadapan, atur breakpoint, pergi ke wadah yang tepat, jalankan skrip yang tepat. <br><br>  Sesuatu seperti: <br><br><pre> <code class="bash hljs">alex@alex-Aspire-ES1-572 ~ $ php71first www-data@a0e771cfac72:~$ cdf www-data@a0e771cfac72:~/first.loc$ php index.php I<span class="hljs-string"><span class="hljs-string">'am first host www-data@a0e771cfac72:~/first.loc$</span></span></code> </pre><br>  Di mana php71first adalah alias pada mesin host: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> php71first=<span class="hljs-string"><span class="hljs-string">"cd ~/docker_git &amp;&amp; docker-compose exec php71-first bash"</span></span></code> </pre> <br>  <code>cdf</code> - alias yang bekerja di sebuah wadah.  Saya menulis di atas bahwa saya lebih suka menggunakan alias untuk berkomunikasi dengan wadah. <br><br>  Itu semua, kritik yang membangun, komentar disambut. <br><br>  PS Saya ingin mengucapkan terima kasih yang mendalam kepada Denis Bondar untuk artikelnya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PhpStorm + Docker + Xdebug</a> , yang merupakan titik awal untuk menulis tutorial ini. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id473184/">https://habr.com/ru/post/id473184/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id473160/index.html">Merek pribadi untuk membantu bisnis: 8 langkah untuk membuat konsep</a></li>
<li><a href="../id473166/index.html">Mengkompilasi FFmpeg ke WebAssembly (= ffmpeg.js): Bagian 3 - Mengubah avi ke mp4</a></li>
<li><a href="../id473170/index.html">Seni Anotasi: Menulis Kode Kotlin yang ramah Jawa</a></li>
<li><a href="../id473172/index.html">Skenario dan Kinerja Penggunaan Server Blazor di .NET Core 3.0</a></li>
<li><a href="../id473182/index.html">Prinsip meningkatkan fleksibilitas karakteristik ICEs otomotif modern</a></li>
<li><a href="../id473186/index.html">Tata letak elemen yang tidak biasa pada flexbox tanpa permintaan media</a></li>
<li><a href="../id473190/index.html">Proyek metformin TAME: pendapat dibagi</a></li>
<li><a href="../id473192/index.html">Listrik dapat diperoleh dari salju.</a></li>
<li><a href="../id473194/index.html">Intisari telekomunikasi: tentang pembangunan jaringan operator, protokol Internet, dan keamanan informasi</a></li>
<li><a href="../id473196/index.html">Mengubah skrip menjadi alat pembelajaran mesin yang indah</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>