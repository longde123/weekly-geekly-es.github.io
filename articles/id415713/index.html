<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§œğŸ¾ ğŸ‘©ğŸ½â€ğŸ”§ ğŸ‘¨ğŸ¼â€ğŸ’» Pemrograman PHP Berorientasi Aspek ğŸ‡ â³ ğŸ”œ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Halo semuanya! 

 Bulan ini kami menyelesaikan set pertama kursus Pengembang PHP Backend dan merekrut mereka dengan sekuat tenaga (sebanyak mungkin se...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pemrograman PHP Berorientasi Aspek</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/415713/">  Halo semuanya! <br><br>  Bulan ini kami menyelesaikan set pertama kursus <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pengembang PHP Backend</a> dan merekrut mereka dengan sekuat tenaga (sebanyak mungkin selama liburan).  Kursus ini diisi ulang dengan guru lain - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Evgeny Volosatov</a> , yang mungkin banyak orang tahu.  Yah, secara tradisional kami berbagi hal-hal menarik. <br><br>  Ayo pergi. <br><br>  Dalam aplikasi apa pun, ada bagian kode yang memotong beberapa bagian arsitektur secara bersamaan. <br><br>  Masalah ini tidak begitu jelas ketika bekerja dengan kerangka kerja yang berfungsi penuh.  Kemungkinan besar masalah Anda akan meluas, dan akan ada kemungkinan bahwa kerangka tersebut telah menyelesaikannya dengan mengorbankan pembagian tanggung jawab atau dengan memberikan abstraksi di atas kerangka tersebut.  Banyak kerangka kerja menggunakan arsitektur berorientasi peristiwa untuk menyelesaikan masalah fungsionalitas ujung ke ujung.  Tapi selalu ada saat ketika kerangka kerja tidak dapat memberikan tingkat kontrol yang diinginkan atas sepotong logika tertentu.  Ini terutama benar ketika menggunakan mikroframe atau pengembangan dengan perpustakaan khusus.  Semakin banyak aplikasi Anda mempertimbangkan prinsip pemisahan tanggung jawab, semakin besar peran fungsi ujung ke ujung dalam arsitektur Anda. <br><br><img src="https://habrastorage.org/webt/hg/2m/2n/hg2m2nmlz9m4ztlew8ezhfaz30o.png"><a name="habracut"></a><br><br><h2>  Pemrograman PHP Berorientasi Aspek </h2><br>  Aspect Oriented Programming (AOP) adalah paradigma pemrograman yang berfokus pada pengorganisasian dan modulasi fungsi ujung-ke-ujung.  Kasus aplikasi - ACL, pencatatan, penanganan kesalahan, caching. <br><br>  Asumsi internal (internal) PHP (ketika Anda mendefinisikan fungsi / konstanta / kelas, tetap didefinisikan selamanya) membuat paradigma AOP sulit untuk diimplementasikan. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Li3</a> adalah yang pertama untuk memecahkan masalah fungsionalitas ujung ke ujung menggunakan mekanisme penyaringan yang memungkinkan penyaringan logika suatu metode melalui penutupan.  Untuk membuat metode ini dapat difilter, implementasi Li3 membutuhkan penambahan kode template secara manual.  Dengan keterbatasan seperti itu, teknik AOP terbatas pada teknik penyaringan. <br><br>  Implementasi AOP terkenal lainnya di PHP: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">AOP</a> (ekstensi PECL) </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pergi!</a> </li></ul><br>  Ekstensi PECL AOP adalah pendekatan yang menarik tetapi pada saat yang sama berisiko, karena dukungan untuk ekstensi PECL tidak umum.  Pilihan lain adalah Go! Libraries, yang merupakan implementasi AOP yang memperbaiki kode PHP dengan cepat, yang memungkinkan untuk menggunakan metode AOP. <br><br>  Ada implementasi lain, tetapi sebagian besar dibangun berdasarkan proxy (sejauh yang saya tahu), dan pendekatan ini memiliki banyak keterbatasan. <br><br><h2>  Orang baru di daerah itu </h2><br>  Pembuatan kode otomatis telah lama digunakan dalam PHP dan digunakan di banyak perpustakaan, misalnya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ProxyManager.</a>  Dan terima kasih atas adopsi Komposer, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Go!</a>  menunjukkan bahwa mengedit kode dengan cepat dimungkinkan. <br><br>  Jika pembuatan kode masih dapat dianggap sederhana, maka memperbaiki kode agak lebih rumit.  Pertama, di PHP tidak ada kode parser bawaan, dan kedua, ada sangat sedikit pustaka yang memecahkan masalah parsing kode PHP.  Yang paling terkenal adalah perpustakaan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">PHP-Parser</a> .  PHP-Parser adalah alat yang hebat, tetapi bahkan mengabaikan pemformatan ruang dalam pohon sintaksis abstrak yang dihasilkan.  Yang membuatnya sulit untuk memperbaiki kode.  Memang, kode yang perlu diperbaiki adalah kode yang dapat dieksekusi nyata.  Oleh karena itu, jika Anda ingin pelacakan mundur akurat dengan kesalahan, Anda perlu mempertimbangkan nomor baris dalam file yang diperbaiki. <br><br>  Untuk tugas ini, kami menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">patcher</a> kode Kahlan JIT.  Kahlan adalah kerangka uji Unit &amp; BDD baru, berkat teknik pengeditan JIT, yang memungkinkan kode patch stub dan monyet langsung di Ruby atau JavaScript.  Di bawah tenda, kami menemukan bahwa perpustakaan ini didasarkan pada parser PHP yang belum sempurna.  Tetapi, bagaimanapun, itu cukup cepat dan stabil untuk kita. <br><br>  Pustaka filter tersedia di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/crysalead/filter</a> dan dapat digunakan sebagai berikut. <br><br>  Pertama, patcher kode JIT harus diinisialisasi sesegera mungkin (misalnya, segera setelah menyalakan komposer autoloade): <br><br><pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">include</span></span> <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> . <span class="hljs-string"><span class="hljs-string">'/../vendor/autoload.php'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Lead</span></span>\<span class="hljs-title"><span class="hljs-title">Filter</span></span>\<span class="hljs-title"><span class="hljs-title">Filters</span></span>; Filters::patch(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>);</code> </pre> <br>  Perhatikan bahwa pengeditan kode hanya dimungkinkan untuk kelas yang dimuat oleh komposer autoload'er.  Jika sebuah kelas ditambahkan menggunakan ekspresi need atau include, itu sudah dimuat sebelum memanggil Filter :: patch (true), dan karenanya tidak akan diperbaiki. <br><br>  Secara default, semua kode yang diperbaiki akan disimpan di / tmp / jit, tetapi Anda selalu dapat mengubahnya ke kode Anda sendiri: <br><br><pre> <code class="php hljs">Filters::patch(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, [<span class="hljs-string"><span class="hljs-string">'cachePath'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'my/cache/path/jit'</span></span>]);</code> </pre> <br>  File yang di-cache akan dipulihkan secara otomatis setiap kali Anda mengubah file PHP. <br><br>  Perhatian!  <code>Filters::patch(true)</code> adalah cara termudah untuk mengonfigurasi patcher, perlu diingat bahwa semua kode Anda akan diperbaiki.  Butuh waktu lama untuk membungkus semua metode dalam basis kode Anda dalam penutupan filter. <br><br>  Untungnya, jika fungsionalitas ujung ke ujung memainkan peran penting dalam kode yang dirancang dengan baik, hanya beberapa metode yang diperlukan dalam proyek.  Oleh karena itu, pendekatan yang disukai adalah untuk memperbaiki hanya metode-metode yang akan difilter: <br><br><pre> <code class="php hljs">Filters::patch([ <span class="hljs-string"><span class="hljs-string">'A\ClassName'</span></span>, <span class="hljs-string"><span class="hljs-string">'An\Example\ClassName::foo'</span></span>, <span class="hljs-string"><span class="hljs-string">'A\Second\Example\ClassName'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'foo'</span></span>, <span class="hljs-string"><span class="hljs-string">'bar'</span></span>], ], [ <span class="hljs-string"><span class="hljs-string">'cachePath'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'my/cache/path/jit'</span></span>, ]);</code> </pre> <br>  Dengan demikian, Anda dapat memilih untuk memperbaiki semua metode dari kelas tertentu, hanya satu metode atau beberapa di antaranya. <br><br><h2>  Filter API </h2><br>  Sekarang setelah patcher JIT diaktifkan, buat filter log: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Chaos</span></span>\<span class="hljs-title"><span class="hljs-title">Filter</span></span>\<span class="hljs-title"><span class="hljs-title">Filters</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Chaos</span></span>\<span class="hljs-title"><span class="hljs-title">Database</span></span>\<span class="hljs-title"><span class="hljs-title">Database</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Monolog</span></span>\<span class="hljs-title"><span class="hljs-title">Logger</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Monolog</span></span>\<span class="hljs-title"><span class="hljs-title">Handler</span></span>\<span class="hljs-title"><span class="hljs-title">StreamHandler</span></span>; $logger = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Logger(<span class="hljs-string"><span class="hljs-string">'database'</span></span>); $logger-&gt;pushHandler(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StreamHandler(<span class="hljs-string"><span class="hljs-string">'my/log/path/db.log'</span></span>, Logger::WARNING)); Filters::apply(Database::class, <span class="hljs-string"><span class="hljs-string">'query'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($next, $sql, $data, $options)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">use</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($logger)</span></span></span><span class="hljs-function"> </span></span>{ $logger-&gt;info(<span class="hljs-string"><span class="hljs-string">'Ran SQL query: '</span></span> . $sql); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $next($sql, $data, $options); });</code> </pre><br>  Contoh di atas membuat filter log kueri SQL untuk pustaka database Chaos.  Informasi lebih lanjut tentang filter API dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github.com/crysalead/filter</a> . <br><br><h2>  Kesimpulan </h2><br>  AOP, menurut saya, adalah jawaban nyata untuk fungsionalitas ujung ke ujung.  Semua abstraksi lainnya sama-sama berlebihan dan dalam banyak kasus terbatas pada kerangka kerja tertentu.  Saya tidak kehilangan harapan bahwa suatu hari PHP akan menyediakan API bawaan untuk pemrograman berorientasi aspek.  Tapi sekarang, saya pikir, patch kode JIT adalah pilihan terbaik, di mana kelebihannya jauh melebihi biaya overhead CPU, yang secara praktis dapat diabaikan ketika patching kode JIT tidak diterapkan secara global. <br><br>  AKHIR <br><br>  Seperti biasa, kami berharap, jika ada, pertanyaan, keinginan dan mengundang Anda ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pelajaran terbuka di</a> mana Anda dapat mendengarkan ceramah yang menarik dan mengenal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">guru</a> baru dengan lebih baik. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id415713/">https://habr.com/ru/post/id415713/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id415699/index.html">Tiga cerita pendek registri Windows</a></li>
<li><a href="../id415701/index.html">Top 10: The Best Joker 2017 Papers</a></li>
<li><a href="../id415705/index.html">Peretas mengkompromikan repositori Gentoo Linux di GitHub</a></li>
<li><a href="../id415707/index.html">Richard Hamming: Bab 18. Pemodelan - I</a></li>
<li><a href="../id415709/index.html">7 dosa pemilik produk</a></li>
<li><a href="../id415715/index.html">Kisah keruntuhan dan penyelamatan mukjizat cetakan dalam KOMPAS-3D</a></li>
<li><a href="../id415717/index.html">Bisakah saya membuat senjata ringan untuk layar LCD? Kickstarter sudah mengumpulkan uang</a></li>
<li><a href="../id415721/index.html">Mengapa prosesor unggulan membutuhkan memori teratas? Menguji Kit HyperX Fury DDR4-3466</a></li>
<li><a href="../id415723/index.html">Dari desainer ke departemen QA, atau apakah ada kehidupan setelah pabrik</a></li>
<li><a href="../id415725/index.html">Bersihkan arsitektur cepat sebagai alternatif untuk VIPER</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>