<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💚 ☮️ 🕳️ Tipps zum Schreiben von selbstdokumentierendem Code 👩🏾‍🎨 👡 👨🏿‍🤝‍👨🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Worte "selbstdokumentierender Code" sind eine andere Art, "lesbaren Code" zu sagen. Es wird diese Dokumentation oder gute Kommentare nicht ersetze...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tipps zum Schreiben von selbstdokumentierendem Code</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481124/"><p>  Die Worte "selbstdokumentierender Code" sind eine andere Art, "lesbaren Code" zu sagen.  Es wird diese Dokumentation oder <a href="https://medium.com/%40mikecronin92/what-makes-a-good-code-comment-5267debd2c24">gute Kommentare</a> nicht ersetzen, aber mit oder ohne sie wird es definitiv Ihr Leben und das Leben Ihrer Kollegen erleichtern. </p><br><p>  Schauen wir uns einige wichtige Prinzipien für die Erstellung von selbstdokumentierendem Code an. </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5a8/96e/d3e/5a896ed3e066ce9b9fd826eb74acb6e1.png"></div><a name="habracut"></a><br><h1>  Verwenden Sie keine "magischen Zahlen" </h1><br><p>  Sag mir, was bedeutet diese Zeile? </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (students.length &gt; <span class="hljs-number"><span class="hljs-number">23</span></span>) {</code> </pre> <br><p>  Prüft, ob mehr Schüler als 23 sind?  Und was heißt das?  Warum genau 23 und nicht 24? </p><br><p>  Eine magische Zahl ist eine Zahl ohne Kontext.  Sie müssen Zeit und Mühe aufwenden, um diesen Kontext zu verstehen.  Vermeiden Sie unnötige Arbeiten und geben Sie der Nummer sofort die Bezeichnung: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> maxClassSize = <span class="hljs-number"><span class="hljs-number">23</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (students.length &gt; maxClassSize) {</code> </pre> <br><p>  Versuchen Sie jetzt, den Code zu lesen.  Wir überprüfen nicht, ob es mehr Schüler als 23 gibt, sondern, ob es mehr Schüler gibt, als die Klasse beherbergt. </p><br><h1>  Verwenden Sie eindeutige Namen für Variablen </h1><br><p>  Ich weiß nicht warum, aber vorher hatte ich ständig Angst, Variablennamen lang zu machen.  Das war dumm von mir, da <b>rStuNms</b> und <b>fStuNms</b> im Vergleich zu <strong>r</strong> <b>awStudentNames</b> und <b>filtersStudentNames</b> schrecklich sind. </p><br><p>  Scheint letzteres noch lang zu sein?  Denken Sie dann darüber nach: Nach 2 Wochen Urlaub und der Arbeit mit einem anderen Code werden Sie gut die Hälfte der Abkürzungen vergessen.  Die Fähigkeit, Variablennamen unterwegs zu lesen, ist die Fähigkeit, Code im Handumdrehen zu lesen: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fStuNms = stus.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function"> =&gt;</span></span> sn) <span class="hljs-comment"><span class="hljs-comment">//    const filteredStudentNames = students.map(student =&gt; { return student.name; });</span></span></code> </pre> <br><p>  Ein weiterer guter Tipp ist die Verwendung von Konventionen (Namenskonventionen).  Wenn die Variable boolesch ist, beginnen Sie ihren Namen mit <b>is</b> oder <b>has</b> ( <strong>isEnrolled: true</strong> ).  Wenn die Variable ein Array ist, verwenden Sie den Plural ( <b>Studenten</b> ).  Viele Zahlen müssen mit <strong>min</strong> oder <strong>max beginnen</strong> .  Und Funktionsnamen müssen ein Verb enthalten, z. B. <b>createSchedule</b> oder <b>updateNickname</b> .  Apropos Funktionen ... </p><br><h1>  Schreiben Sie winzige benannte Funktionen </h1><br><p>  Variablen sind nicht die einzige Möglichkeit, Code zu lesen.  Als junger Programmierer habe ich Funktionen nur verwendet, <a href="https://en.wikipedia.org/wiki/Don%2527t_repeat_yourself">um Codeduplizierungen</a> zu <a href="https://en.wikipedia.org/wiki/Don%2527t_repeat_yourself">vermeiden</a> .  Die wirkliche Offenbarung für mich war, dass es zuallererst Sinn macht, Funktionen <a href="https://www.amazon.com/Refactoring-Improving-Existing-Addison-Wesley-Signature/dp/0134757599/ref%3Dasc_df_0134757599/%3Ftag%3Dhyprod-20%26amp%3BlinkCode%3Ddf0%26amp%3Bhvadid%3D312125971120%26amp%3Bhvpos%3D1o1%26amp%3Bhvnetw%3Dg%26amp%3Bhvrand%3D12058574021797762441%26amp%3Bhvpone%3D%26amp%3Bhvptwo%3D%26amp%3Bhvqmt%3D%26amp%3Bhvdev%3Dc%26amp%3Bhvdvcmdl%3D%26amp%3Bhvlocint%3D%26amp%3Bhvlocphy%3D9004398%26amp%3Bhvtargid%3Dpla-464425925893%26amp%3Bpsc%3D1%26amp%3Btag%3D%26amp%3Bref%3D%26amp%3Badgrpid%3D61316180839%26amp%3Bhvpone%3D%26amp%3Bhvptwo%3D%26amp%3Bhvadid%3D312125971120%26amp%3Bhvpos%3D1o1%26amp%3Bhvnetw%3Dg%26amp%3Bhvrand%3D12058574021797762441%26amp%3Bhvqmt%3D%26amp%3Bhvdev%3Dc%26amp%3Bhvdvcmdl%3D%26amp%3Bhvlocint%3D%26amp%3Bhvlocphy%3D9004398%26amp%3Bhvtargid%3Dpla-464425925893">zu</a> erstellen, um <a href="https://www.amazon.com/Refactoring-Improving-Existing-Addison-Wesley-Signature/dp/0134757599/ref%3Dasc_df_0134757599/%3Ftag%3Dhyprod-20%26amp%3BlinkCode%3Ddf0%26amp%3Bhvadid%3D312125971120%26amp%3Bhvpos%3D1o1%26amp%3Bhvnetw%3Dg%26amp%3Bhvrand%3D12058574021797762441%26amp%3Bhvpone%3D%26amp%3Bhvptwo%3D%26amp%3Bhvqmt%3D%26amp%3Bhvdev%3Dc%26amp%3Bhvdvcmdl%3D%26amp%3Bhvlocint%3D%26amp%3Bhvlocphy%3D9004398%26amp%3Bhvtargid%3Dpla-464425925893%26amp%3Bpsc%3D1%26amp%3Btag%3D%26amp%3Bref%3D%26amp%3Badgrpid%3D61316180839%26amp%3Bhvpone%3D%26amp%3Bhvptwo%3D%26amp%3Bhvadid%3D312125971120%26amp%3Bhvpos%3D1o1%26amp%3Bhvnetw%3Dg%26amp%3Bhvrand%3D12058574021797762441%26amp%3Bhvqmt%3D%26amp%3Bhvdev%3Dc%26amp%3Bhvdvcmdl%3D%26amp%3Bhvlocint%3D%26amp%3Bhvlocphy%3D9004398%26amp%3Bhvtargid%3Dpla-464425925893">zu beschreiben, was passiert</a> . </p><br><p>  Nehmen Sie sich ein paar Sekunden Zeit, um diesen Code anzusehen und zu sagen, was er bewirkt: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> handleSubmit = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) =&gt;</span></span> { event.preventDefault(); NoteAdapter.update(currentNote) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { setCurrentAlert(<span class="hljs-string"><span class="hljs-string">'Saved!'</span></span>) setIsAlertVisible(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> setIsAlertVisible(<span class="hljs-literal"><span class="hljs-literal">false</span></span>), <span class="hljs-number"><span class="hljs-number">2000</span></span>); }) .then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hasTitleChanged) { context.setRefreshTitles(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); setHasTitleChanged(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); } }); };</code> </pre> <br><p>  Nun mache dasselbe für den Code: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> showSaveAlertFor = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">milliseconds</span></span></span><span class="hljs-function">) =&gt;</span></span> () =&gt; { setCurrentAlert(<span class="hljs-string"><span class="hljs-string">'Saved!'</span></span>) setIsAlertVisible(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); setTimeout( <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> setIsAlertVisible(<span class="hljs-literal"><span class="hljs-literal">false</span></span>), milliseconds, ); }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> updateTitleIfNew = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hasTitleChanged) { context.setRefreshTitles(<span class="hljs-literal"><span class="hljs-literal">true</span></span>); setHasTitleChanged(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); } }; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> handleSubmit = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">) =&gt;</span></span> { event.preventDefault(); NoteAdapter.update(currentNote) .then(showSaveAlertFor(<span class="hljs-number"><span class="hljs-number">2000</span></span>)) .then(updateTitleIfNew); };</code> </pre> <br><p>  Es scheint, dass es mehr Zeichen gibt, aber wie viel besser lesbar, oder?  Alles, was benötigt wurde, war die Aufteilung der logischen Operationen in kleine benannte Funktionen.  Darüber hinaus müssen die kleinen Funktionen selbst in den meisten Situationen nicht gelesen werden - dies sind Implementierungsdetails.  Um den Code zu verstehen, schauen Sie sich einfach die oberste Funktion an, die aus einer Kette von leicht verständlichen Ereignissen besteht. </p><br><p>  Darüber hinaus werden Sie wenig später feststellen, dass solche kleinen Funktionen sehr einfach wiederzuverwenden sind.  Die Wiederverwendbarkeit ist eine Folge der besseren Lesbarkeit und nicht umgekehrt. </p><br><h1>  Fügen Sie nützliche Testbeschreibungen hinzu </h1><br><p>  Am wenigsten wird wohl von selbst dokumentierten Tests gesprochen, aber vergebens. </p><br><p>  Nehmen wir an, wir haben eine Funktion wie diese: </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getDailySchedule = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">student, dayOfWeek</span></span></span><span class="hljs-function">) =&gt;</span></span> {</code> </pre> <br><p>  Stellen Sie sich vor, es enthält viele verschiedene Vorgänge: Es wird ein Zeitplan für einen Monat erstellt.  Wenn heute ein freier Tag ist, wird ein leeres Array zurückgegeben.  Wenn der Schüler in zusätzlichen Klassen eingeschrieben ist, fügt er diese am Ende des Tages hinzu usw.  Im Allgemeinen haben Sie die Idee verstanden: Die Funktion ist komplex und es wäre schön, den Algorithmus ihrer Arbeit irgendwo in einfachen Worten aufzuschreiben. </p><br><p>  Der Versuch, es in einen Kommentar einzufügen, ist eine schlechte Idee: Ein Kommentar wird einmal veraltet sein und nicht die Tatsache, dass er rechtzeitig korrigiert wird.  Wissen Sie, wo die Aufzeichnung des Operationsalgorithmus angebracht ist?  In Tests: </p><br><pre> <code class="javascript hljs">describe(<span class="hljs-string"><span class="hljs-string">'getDailySchedule '</span></span>, () =&gt; { it(<span class="hljs-string"><span class="hljs-string">"   "</span></span>, () =&gt; { it(<span class="hljs-string"><span class="hljs-string">'  ,   '</span></span>, () =&gt; { it(<span class="hljs-string"><span class="hljs-string">'     '</span></span>, () =&gt; {</code> </pre> <br><p>  Dies ist die eleganteste Möglichkeit, Code ohne Kommentar im Code zu kommentieren. </p><br><h1>  Fazit: Lesbarkeit ist wichtiger als Klugheit </h1><br><p>  Jeder kann Code schreiben, der für ihn selbst verständlich ist, ein <strong>guter Entwickler schreibt Code, der für andere verständlich ist</strong> .  Selten wird etwas Wichtiges von einer einzelnen Person erstellt, was bedeutet, dass früher oder später andere Personen Ihren Code lesen.  Aber selbst wenn Sie sicher sind, dass nur Sie über einen Code nachdenken, denken Sie daran, dass Sie heute und in einem Monat unterschiedliche Personen sind, was die Fähigkeit betrifft, sich diesen Code zu merken. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de481124/">https://habr.com/ru/post/de481124/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de481114/index.html">Seccomp bei Kubernetes: 7 Dinge, die Sie von Anfang an wissen müssen</a></li>
<li><a href="../de481116/index.html">Automatisch Posts aus der VKontakte-Community in Discord veröffentlichen</a></li>
<li><a href="../de481118/index.html">Anonymous Santa Claus 2019-2020: Post mit Neujahrsgeschenken</a></li>
<li><a href="../de481120/index.html">Wo und wie werden Edgeserver eingesetzt?</a></li>
<li><a href="../de481122/index.html">PostgreSQL Antipatterns: Übergeben von Mengen und Auswahlen an SQL</a></li>
<li><a href="../de481126/index.html">Programmierergewerkschaft? Sag es nicht meinen Hausschuhen</a></li>
<li><a href="../de481130/index.html">TOP12 Interdisziplinäre wissenschaftliche Entdeckungen 2019</a></li>
<li><a href="../de481134/index.html">So bewerten Sie die Kapazität des Dienstes und fallen nicht unter Last</a></li>
<li><a href="../de481138/index.html">Diese Leute erschaffen künstliche Intelligenz - 4 Geschichten von KI- und ML-Spezialisten</a></li>
<li><a href="../de481140/index.html">Python-Datendateiformat-Spickzettel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>