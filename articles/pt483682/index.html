<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚è≥ üå®Ô∏è üÜì Pacote e desempenho de JavaScript: pr√°ticas recomendadas üëµüèø üòä üïü</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Agora, na virada da d√©cada, √© hora de reavaliar criticamente o que foi considerado correto no passado recente e descobrir se ele perdeu relev√¢ncia hoj...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pacote e desempenho de JavaScript: pr√°ticas recomendadas</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/483682/">  Agora, na virada da d√©cada, √© hora de reavaliar criticamente o que foi considerado correto no passado recente e descobrir se ele perdeu relev√¢ncia hoje.  As melhores pr√°ticas de ontem √†s vezes se tornam antipadr√µes de hoje. <br><br> <a href="https://habr.com/ru/company/ruvds/blog/483682/"><img src="https://habrastorage.org/webt/tp/h1/jh/tph1jh5adpkk21ojvgqsadxjga4.jpeg"></a> <br><br>  O autor do artigo, cuja tradu√ß√£o estamos publicando hoje, explorar√° tr√™s abordagens para agrupar projetos JavaScript usando o exemplo de um aplicativo simples Hello World criado usando o React.  Alguns dos exemplos que ele cita incluem a leitura dos conceitos b√°sicos dos construtores de m√≥dulos, como o <a href="https://webpack.js.org/">Webpack</a> , que parece ser a ferramenta mais popular atualmente. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Abordagem n¬∫ 1: absolutamente tudo entra no pacote (parece uma grande bola de linha)</font> </h2><br>  A id√©ia principal: n√£o use essa abordagem. <br><br>  Com essa abordagem, o construtor de m√≥dulos √© simplesmente usado para empacotar tudo no pacote - depend√™ncias e c√≥digo do aplicativo.  A sa√≠da √© algo como um grande novelo de l√£.  No meu exemplo, isso inclui <code>react</code> , <code>react-dom</code> e o c√≥digo do pr√≥prio aplicativo.  Um √∫nico pacote que cont√©m todo o c√≥digo do projeto est√° conectado √† p√°gina: <br><br><pre> <code class="javascript hljs">&lt;!-- index.html --&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"bundle.[hash].min.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  Antes do lan√ßamento do HTTP / 2, esse padr√£o podia ser considerado, de alguma maneira, bastante aceit√°vel, pois seu uso reduz o n√∫mero de solicita√ß√µes HTTP que o navegador executa ao carregar os materiais da p√°gina.  Mas, como a maioria dos sites hoje usa HTTP / 2, esse padr√£o se tornou antipadr√£o. <br><br>  Porque  O fato √© que, ao usar o HTTP / 2, a execu√ß√£o de muitas solicita√ß√µes n√£o cria mais a mesma carga no sistema como antes.  Como resultado, compactar o c√≥digo em um √∫nico pacote grande n√£o oferece mais vantagens significativas ao projeto. <br><br>  Com essa abordagem, a organiza√ß√£o eficiente do cache do navegador √© complicada.  Por exemplo, alterar apenas uma linha de c√≥digo em um aplicativo simples alterar√° o hash do pacote e invalidar√° o cache que armazena todo o c√≥digo do projeto.  Como resultado, todos os visitantes que retornam precisam fazer o download do c√≥digo inteiro do site novamente, mesmo que esse c√≥digo n√£o seja 99% diferente do c√≥digo baixado na visita anterior.  Aqui estamos lidando com o uso irracional de recursos de rede devido √† transmiss√£o repetida dos mesmos dados do servidor para o cliente. <br><br>  Hoje, o HTTP / 2 √© suportado por <a href="&amp;xid=17259,15700022,15700186,15700191,15700259,15700271&amp;usg=ALkJrhhpwihwcRAE4nLEy5fkvbgjt9XUvw#feat=">mais de 95% dos clientes</a> .  Em 2019, esse protocolo foi implementado pela <a href="httparchive.org/reports/state-of-the-web">maioria dos</a> servidores.  Saiba mais sobre o uso do HTTP / 2 em 2019 aqui. <br><br><h2>  <font color="#3AC1EF">Abordagem n¬∫ 2: empacotamento separado do c√≥digo do projeto e do c√≥digo de bibliotecas de terceiros (separa√ß√£o de c√≥digo)</font> </h2><br>  Ideia principal: use esta abordagem. <br><br>  Vamos levar em conta o que falamos na se√ß√£o anterior e melhorar a situa√ß√£o com o cache do navegador, separando o c√≥digo do projeto do c√≥digo de depend√™ncia.  Isso resolve o problema no caso descrito acima, quando alteramos ligeiramente o c√≥digo do projeto e depois publicamos a atualiza√ß√£o na produ√ß√£o.  Agora, apenas o hash do pacote configur√°vel do <code>index</code> , que armazena o c√≥digo do projeto, foi alterado e o hash do pacote <code>vendor</code> do <code>vendor</code> permanece inalterado.  Os visitantes que retornarem ao site atualizado far√£o download apenas do arquivo de <code>index</code> modificado com essa abordagem, o que economizar√° alguns recursos de rede. <br><br>  Se falamos sobre o Webpack, para implementar essa estrat√©gia, voc√™ precisar√° de <a href="https://webpack.js.org/guides/code-splitting">configura√ß√µes adicionais</a> relacionadas √† separa√ß√£o de c√≥digo.  Com a ajuda deles, informamos o bundler sobre onde est√° o c√≥digo de depend√™ncia.  Uma maneira simples e conveniente de detectar esse c√≥digo √© que existem <code>node_modules</code> no caminho para os arquivos correspondentes, pois todo o c√≥digo de depend√™ncia √© armazenado nesta pasta. <br><br>  Aqui est√° o que o c√≥digo de conex√£o do script se tornou: <br><br><pre> <code class="javascript hljs">&lt;!-- index.html --&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"vendor.[hash].min.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;script src=<span class="hljs-string"><span class="hljs-string">"index.[hash].min.js"</span></span>&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  E aqui est√° a linha do tempo em cascata para carregar a p√°gina, ao trabalhar com o qual o HTTP / 2 √© usado. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bf5/d02/f85/bf5d02f8583eb58f1094dfaa592822e1.png"></div><br>  <i><font color="#999999">Programa√ß√£o de carregamento de p√°gina em cascata</font></i> <br><br>  Este √© um passo na dire√ß√£o certa.  Mas podemos continuar otimizando o pacote.  Se voc√™ pensar sobre tudo isso, poder√° entender que algumas depend√™ncias do projeto mudam com menos frequ√™ncia do que outras.  Talvez <code>react-dom</code> menos prov√°vel que <code>react</code> e <code>react-dom</code> alterados e <code>react</code> quando uma biblioteca √© atualizada, outra √© atualizada.  Como resultado, podemos concluir que essas duas bibliotecas podem ser agrupadas em um fragmento l√≥gico, que pode ser separado de outras depend√™ncias, que mudam com mais frequ√™ncia do que <code>react</code> e <code>react-dom</code> .  Realizando essa ideia, obtemos o seguinte: <br><br><pre> <code class="javascript hljs">&lt;!-- index.html --&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"vendor.react.[hash].min.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;script src=<span class="hljs-string"><span class="hljs-string">"vendor.others.[hash].min.js"</span></span>&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;script src=<span class="hljs-string"><span class="hljs-string">"index.[hash].min.js"</span></span>&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  Se continuarmos o desenvolvimento dessa id√©ia, podemos decidir que os visitantes do site talvez n√£o precisem baixar todo o c√≥digo do projeto para visualizar apenas uma p√°gina.  No inverno, alguns de n√≥s tendem a ganhar peso - e, portanto, o arquivo de <code>index</code> , que cont√©m o c√≥digo do aplicativo, aumenta com o tempo.  Em algum momento, pode acontecer que o c√≥digo do projeto esteja sujeito a uma separa√ß√£o mais justa, <a href="https://reacttraining.com/react-router/web/guides/code-splitting">carregando dinamicamente</a> componentes individuais e at√© organizando a <a href="https://webpack.js.org/guides/code-splitting/">pr√©-carga de</a> m√≥dulos individuais. <br><br>  Para mim, esse n√≠vel de separa√ß√£o de c√≥digo ainda parece bastante assustador.  Ainda parece uma tecnologia experimental (e algo assim, no qual erros sutis podem muito bem se manifestar).  Mas est√° muito claro para mim que uma forte separa√ß√£o de c√≥digo √© a dire√ß√£o que o setor de desenvolvimento da web est√° seguindo.  Talvez devido ao suporte do navegador para m√≥dulos JavaScript, eventualmente possamos abandonar completamente os empacotadores como o Webpack e simplesmente fornecer m√≥dulos de c√≥digo individuais aos clientes.  Ser√° interessante ver aonde tudo isso nos leva! <br><br><h2>  <font color="#3AC1EF">Abordagem 3: Usando CDNs P√∫blicas para o C√≥digo de Algumas Depend√™ncias</font> </h2><br>  A id√©ia principal: n√£o use essa abordagem. <br><br>  Se voc√™ √© um daqueles que √© um pouco antiquado no desenvolvimento da Web (como eu), pode ter uma sensa√ß√£o interna de que podemos conectar o arquivo <code>vendor.react</code> , discutido na se√ß√£o ‚ÄúAbordagem n¬∫. 2 ", usando um recurso p√∫blico da CDN: <br><br><pre> <code class="javascript hljs">&lt;!-- index.html --&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">crossorigin</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"https://unpkg.com/react@16.12.0/umd/react.production.min.js"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="undefined"></span><span class="hljs-tag"><span class="xml"><span class="undefined"></span><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;script crossorigin src=<span class="hljs-string"><span class="hljs-string">"https://unpkg.com/react-dom@16.12.0/umd/react-dom.production.min.js"</span></span>&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;script src=<span class="hljs-string"><span class="hljs-string">"index.[hash].min.js"</span></span>&gt;<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre> <br>  Observo que, ao usar essa abordagem, √© necess√°rio <a href="https://webpack.js.org/configuration/externals/">informar ao</a> coletor de projetos <a href="https://webpack.js.org/configuration/externals/">do</a> Webpack que ele deve excluir o c√≥digo de <code>react</code> e o c√≥digo de <code>react-dom</code> do pacote. <br><br>  √Ä primeira vista, tudo isso parece bastante s√≥lido, mas essa abordagem tem algumas desvantagens que proponho considerar. <br><br><h3>  <font color="#3AC1EF">‚ñç Menos # 1: Usando sites diferentes dos mesmos arquivos de depend√™ncia?</font>  <font color="#3AC1EF">J√° n√£o ...</font> </h3><br>  Os desenvolvedores da velha escola mant√™m a esperan√ßa de que, se todos os sites vincularem ao mesmo recurso da CDN e usarem a mesma vers√£o do React que o nosso site, os visitantes do site, se j√° houver um c√≥digo React no cache de seus navegadores, n√£o perder√° tempo recarregando-o.  Isso aumentaria seriamente a velocidade de exibi√ß√£o de p√°ginas do nosso site no modo de trabalho.  Sim, e a <a href="https://reactjs.org/docs/cdn-links.html">documenta√ß√£o</a> do React sobre esse assunto parece promissora.  Portanto, com certeza, alguns desenvolvedores usam esse padr√£o.  Certo? <br><br>  Embora anteriormente isso pudesse funcionar, recentemente em navegadores, para aumentar a seguran√ßa, eles come√ßaram a implementar um mecanismo de compartilhamento de cache.  Estamos falando do fato de que, mesmo em condi√ß√µes ideais, quando dois sites usam a mesma biblioteca, carregados pelo mesmo link CDN, o c√≥digo √© baixado independentemente para cada dom√≠nio e o cache, por raz√µes de privacidade, acaba na sandbox alocado para um dom√≠nio espec√≠fico.  Como <a href="https://andydavies.me/blog/2018/09/06/safari-caching-and-3rd-party-resources/">se viu</a> , esse mecanismo j√° foi implementado no Safari (aparentemente, existe desde 2013?!).  E se falarmos sobre o Chrome 77, para ativar a separa√ß√£o de cache por enquanto, voc√™ precisa usar um <a href="https://chromestatus.com/feature/5730772021411840">sinalizador</a> especial. <br><br>  <a href="httparchive.org/en/2019/cdn">Sup√µe-se</a> que o uso de CDNs publicamente dispon√≠veis diminuir√° √† medida que o compartilhamento de cache for implementado em mais navegadores. <br><br><h3>  <font color="#3AC1EF">‚ñç Menos 2: desperd√≠cio de recursos do sistema em opera√ß√µes auxiliares (para cada dom√≠nio)</font> </h3><br>  <a href="https://habr.com/ru/company/ruvds/blog/481574/">Aqui</a> se expressa <a href="https://habr.com/ru/company/ruvds/blog/481574/">a</a> id√©ia de que o uso da CDN leva a um aumento na carga no sistema, pois mesmo antes de enviar a solicita√ß√£o HTTP, o navegador precisa resolver muitos problemas: resolu√ß√£o de nomes DNS, conex√£o TCP, handshake SSL.  Para se conectar ao site, o navegador precisa executar essas a√ß√µes em qualquer caso, mas se for for√ßado a se conectar √† CDN, isso aumentar√° a carga nele. <br><br>  Aqui est√° um gr√°fico em cascata que ilustra o processo de carregamento de uma p√°gina que usa scripts de um recurso CDN dispon√≠vel ao p√∫blico. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7cd/3eb/c0a/7cd3ebc0aebe48e5819fc27993b016a0.png"></div><br>  <i><font color="#999999">Linha do tempo em cascata para carregar uma p√°gina usando recursos CDN dispon√≠veis ao p√∫blico</font></i> <br><br>  As ovais vermelhas destacam as √°reas nas quais ocorrem opera√ß√µes que precedem a execu√ß√£o de consultas.  Parece um pouco demais para um aplicativo simples Hello World. <br><br>  √Ä medida que meu exemplo simples evolui e cresce, chegar√° um momento em que eu quero usar minha pr√≥pria fonte nele.  Por exemplo - extra√≠do do Google Fonts.  E isso significa que o n√∫mero de tais atrasos aumentar√° apenas, pois voc√™ precisar√° se conectar ao dom√≠nio correspondente para baixar fontes.  Aqui, a id√©ia de hospedar todos os recursos do site em seu pr√≥prio dom√≠nio principal (que, √© claro, est√° localizado atr√°s do pr√≥prio recurso CDN do projeto baseado em Cloudflare ou Cloudfront) parece ser muito atraente. <br><br>  Se, em nosso exemplo, mudarmos para o download de duas depend√™ncias do React do dom√≠nio principal do site, isso levar√° ao fato de que o agendamento em cascata do carregamento da p√°gina se tornar√° muito mais preciso. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f32/82a/12e/f3282a12e8626574f5a13e9a10540417.png"></div><br>  <i><font color="#999999">Agenda de carregamento em cascata para uma p√°gina que n√£o usa recursos CDN dispon√≠veis ao p√∫blico</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñçMinus No. 3: usando diferentes vers√µes de depend√™ncias por sites diferentes</font> </h3><br>  Criei um pequeno <a href="https://docs.google.com/spreadsheets/d/12sNP1msbarCFw3v0tFyIpa8Nu0LDWGqDKjLRKkVb8gU/edit">estudo de</a> pesquisa <a href="https://docs.google.com/spreadsheets/d/12sNP1msbarCFw3v0tFyIpa8Nu0LDWGqDKjLRKkVb8gU/edit">dos</a> 32 maiores sites usando o React.  Infelizmente, descobri que apenas 10% deles usam recursos da CDN dispon√≠veis ao p√∫blico para baixar o React.  Por√©m, dadas as vers√µes do React que todos os sites estudados usam, isso realmente n√£o importa.  Em um mundo ideal, n√£o haveria separa√ß√£o do cache do navegador e todos os sites poderiam ser organizados e usar as mesmas vers√µes de script das mesmas CDNs p√∫blicas.  Na realidade, h√° uma varia√ß√£o extremamente forte nas vers√µes do React usadas por diferentes sites.  Isso destr√≥i a ideia de um cache compartilhado do navegador. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/876/fc9/4b0/876fc94b0752931da06e97f3132b3584.png"></div><br>  <i><font color="#999999">Reagir vers√µes usadas por sites diferentes</font></i> <br><br>  Se voc√™ abrir primeiro um site popular usando o React e depois outro, as chances de que esses dois sites usem a mesma vers√£o do React s√£o muito pequenas. <br><br>  No decorrer da pesquisa, encontrei algumas informa√ß√µes mais interessantes sobre esses sites do React.  Talvez eles tamb√©m pare√ßam interessantes para voc√™: <br><br><ul><li>  Em 2/3 sites, o Webpack √© usado para criar c√≥digo. </li><li>  87% dos sites usam HTTP / 2, que √© mais do que o valor m√©dio de 58%. </li><li>  A maioria dos projetos (aproximadamente 56%) hospeda as pr√≥prias fontes. </li></ul><br>  <a href="https://docs.google.com/spreadsheets/d/12sNP1msbarCFw3v0tFyIpa8Nu0LDWGqDKjLRKkVb8gU/edit">Aqui est√£o os</a> dados de origem da minha experi√™ncia. <br><br><h3>  <font color="#3AC1EF">‚ñçMinus No. 4: problemas de n√£o desempenho</font> </h3><br>  Infelizmente, hoje em dia, aqueles que usam recursos CDN dispon√≠veis ao p√∫blico enfrentam n√£o apenas problemas relacionados √† velocidade de carregamento da p√°gina, mas tamb√©m alguns outros problemas: <br><br><ul><li>  Quest√µes de seguran√ßa.  Existem problemas de seguran√ßa associados ao uso de recursos CDN dispon√≠veis ao p√∫blico, al√©m daqueles destinados a resolver o compartilhamento de cache nos navegadores.  Se, por exemplo, os hackers invadirem um recurso de CDN acess√≠vel ao p√∫blico, poder√£o injetar muito cuidadosamente c√≥digo JavaScript malicioso nas bibliotecas.  Esse c√≥digo ter√° todos os privil√©gios do c√≥digo do site executado no cliente e poder√° trabalhar com os dados dos usu√°rios que efetuaram login no site. </li><li>  Quest√µes de privacidade.  Muitas empresas coletam dados do usu√°rio de solicita√ß√µes feitas por recursos de terceiros.  Em teoria, se o uso de um recurso da CDN dispon√≠vel ao p√∫blico para o download de c√≥digo ou fontes de depend√™ncia for implementado em todos os sites, esse recurso da CDN poder√° rastrear as sess√µes do usu√°rio e os recursos de seu trabalho na Internet.  Um recurso semelhante poder√° fazer suposi√ß√µes sobre o que lhes interessa (por exemplo, para fins de publicidade).  E tudo isso - sem o uso de cookies! </li><li>  Ponto √∫nico de falha.  A distribui√ß√£o dos materiais necess√°rios para o funcionamento do site em v√°rios dom√≠nios aumenta as chances de que, devido a problemas em um desses dom√≠nios, o cliente possa baixar apenas parte dos materiais necess√°rios para colocar as p√°ginas em condi√ß√µes de funcionamento.  Para ser honesto, esses problemas podem ser resolvidos usando JavaScript, mas, para isso, o desenvolvedor do site precisar√° fazer alguns esfor√ßos adicionais. </li></ul><br><h2>  <font color="#3AC1EF">Sum√°rio</font> </h2><br>  √â muito √≥bvio que o futuro est√° na abordagem n¬∫ 2. <br><br>  Hospede seus pr√≥prios recursos CDN na frente de seus servidores usando HTTP / 2 (como Cloudflare ou Cloudfront).  Divida o c√≥digo em pequenos fragmentos para usar efetivamente o cache do navegador.  No futuro, os fragmentos nos quais o c√≥digo do site √© dividido podem se tornar ainda menores, atingindo o tamanho de <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules">m√≥dulos JavaScript</a> individuais, devido ao fato de os navegadores come√ßarem a implementar o suporte a essa tecnologia. <br><br>  <b>Caros leitores!</b>  Voc√™ usa tecnologias de separa√ß√£o de c√≥digo em seus projetos da web? <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt483682/">https://habr.com/ru/post/pt483682/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt483668/index.html">O resumo de materiais frescos do mundo do front-end da √∫ltima semana n¬∫ 397 (6 a 12 de janeiro de 2020)</a></li>
<li><a href="../pt483670/index.html">Tudo o que voc√™ queria saber sobre o endere√ßo MAC</a></li>
<li><a href="../pt483674/index.html">Como as redes neurais bin√°rias funcionam e por que elas ser√£o populares em 2020</a></li>
<li><a href="../pt483678/index.html">Desenvolvendo programas Python extremamente r√°pidos</a></li>
<li><a href="../pt483680/index.html">Falhas comuns de programa√ß√£o para evitar</a></li>
<li><a href="../pt483684/index.html">PHP Digest No. 171 (1 a 13 de janeiro de 2020)</a></li>
<li><a href="../pt483686/index.html">32 dicas para um desenvolvedor web que quer crescer acima de si mesmo em 2020</a></li>
<li><a href="../pt483688/index.html">Sobre o aumento de simultaneidade 30x no Node.js</a></li>
<li><a href="../pt483700/index.html">Resultados F√≠sicos do Ano - 2019</a></li>
<li><a href="../pt483704/index.html">Eventos digitais em Moscou de 13 a 19 de janeiro</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>