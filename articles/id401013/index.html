<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤰🏾 🚼 🕚 Hadiah kekasih untuk 14 Februari dari seorang insinyur elektronik 🏗️ 🦋 🥞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salam pembaca GT. Bagi saya, sebagai orang teknis dan tidak terlalu romantis, memilih hadiah untuk setiap kesempatan adalah rasa sakit yang luar biasa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Hadiah kekasih untuk 14 Februari dari seorang insinyur elektronik</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/401013/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salam pembaca GT. Bagi saya, sebagai orang teknis dan tidak terlalu romantis, memilih hadiah untuk setiap kesempatan adalah rasa sakit yang luar biasa. Semuanya akan sederhana jika kekasih saya dapat memberikan RAM ke laptop atau slide prosesor, tetapi dia tidak pernah seorang teknisi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi karena: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hadiah tidak semahal perhatian mahal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (s) - kami akan mencoba berinvestasi dalam waktu. Saya sajikan untuk perhatian Anda "Heart v1.0"</font></font><br>
<br>
<img src="https://habrastorage.org/files/772/31e/41d/77231e41d878453c8cbc358f4d397607.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gagasan dasar perangkat ditemukan secara kolektif dengan tim saya untuk "Pohon Natal v1.0". </font><font style="vertical-align: inherit;">Secara singkat, serangkaian fungsi: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - ucapan selamat terukir pada jantung </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - ditenagai oleh charger telepon (konektor microUSB) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - lampu latar RGB dengan kemampuan untuk merekam profil yang berkedip yang dapat diaktifkan dengan tombol </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - mode </font><font style="vertical-align: inherit;">lampu </font><font style="vertical-align: inherit;">malam </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - memori internal untuk merekam salam. </font><font style="vertical-align: inherit;">Ketika terhubung ke PC, itu didefinisikan sebagai flash drive. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah berdiskusi / bersukacita atas fungsi yang melekat, kami memutuskan untuk melakukannya - tidak ada yang curiga berapa waktu yang dibutuhkan jantung ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Besi</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ternyata - bagian paling sederhana dari hati. </font><font style="vertical-align: inherit;">Langkah pertama adalah menyusun diagram struktural perangkat: </font></font><br>
<br>
<img src="https://habrastorage.org/files/7a4/93c/70e/7a493c70e0ab4951b1ec11086a5553a4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rincian diambil dari yang ada di gudang kami, dan juga digunakan lebih dari satu kali di perangkat. </font><font style="vertical-align: inherit;">Menurut skema, kita dapat mengatakan: MK termurah dengan USB pada papan STM32F042F6P6, LDO sederhana - XC6206P332MR, memori 32Mbps SPI W25Q32FVSSIG (2 buah diletakkan di papan, tetapi akhirnya mereka menyolder satu), RGB28 yang dikendalikan LED WS2812. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diagram skematik: </font></font><br>
<br>
<img src="https://habrastorage.org/files/72a/0e4/c6b/72a0e4c6b92543d7b7fc91347f86a5e6.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Detail minimum dan kesalahan perhitungan yang paling penting adalah harapan bahwa WS2812 akan bekerja secara normal dari level 3.3V (Slavik! Ya, saya melakukannya ratusan kali ... banyak yang mengatakan). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Papan itu dibuat dari lebar minimum, untuk menyembunyikannya sebanyak mungkin di bawah tepi hati. </font><font style="vertical-align: inherit;">Warnanya putih. </font><font style="vertical-align: inherit;">Hasilnya didapat pada gambar.</font></font><br>
<br>
<img src="https://habrastorage.org/files/faa/dae/2a4/faadae2a46f748629f281affc3c31656.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Feil</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ingat, saya menyebutkan harapan malu-malu bahwa WS2812 akan bekerja dari 3.3V? </font><font style="vertical-align: inherit;">Jadi tidak akan !!! </font><font style="vertical-align: inherit;">Lebih tepatnya, semuanya tampak berfungsi seperti sebelum dimulainya pertukaran melalui USB. </font><font style="vertical-align: inherit;">Pada saat yang sama, saluran Biru mulai gagal. </font><font style="vertical-align: inherit;">Kami mencari masalah dalam perangkat lunak untuk waktu yang lama, berpikir bahwa tidak ada sumber daya prosesor yang cukup, tetapi kemudian menarik kaki PB1 ke 5V melalui resistor 1kΩ dan semuanya bekerja dengan jelas. </font><font style="vertical-align: inherit;">Pada saat yang sama, level log.1 menjadi sekitar 4.3V. </font><font style="vertical-align: inherit;">Saya mengerti bahwa ini tidak baik, tetapi tidak ada pilihan. </font><font style="vertical-align: inherit;">Papan ternyata menjadi "pertanian kolektif" yang agak elegan:</font></font><br>
<br>
<img src="https://habrastorage.org/files/317/0e1/b98/3170e1b98c5f4404a1032072a5e2039f.jpg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MK lunak</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memfasilitasi pemrograman MK, diputuskan untuk menggunakan Perpustakaan STM HAL, karena hampir semuanya sudah ada, Anda hanya perlu menambahkan logika dan menghubungkan semua modulnya satu sama lain. Sebagian, STM32CubeMX membantu kami dengan ini - generasi sebagian besar kode dapat ditugaskan untuk itu. Namun, di sini setiap orang memutuskan sendiri - kode yang dihasilkan masih harus diperbaiki secara substansial, dan ukuran firmware harus dibayar - perpustakaan HAL tidak kompak. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun demikian, 32kb tersedia di mikrokontroler kami, firmware akan memakan waktu lebih dari setengah, jadi logis untuk menyimpan dalam urutan memori yang tersisa dari tiga byte (RGB), yang ditransmisikan pada gilirannya ke input LED. Menekan tombol akan berputar di sekitar urutan yang direkam dalam flash MK.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita dihadapkan dengan masalah pertama: LED WS2812 sangat menuntut periode dan durasi pulsa, sedangkan waktu pulsa (0,4-0,8 μs) cukup kecil untuk prosesor yang beroperasi pada 48 MHz. Selain itu, kita harus memperhitungkan bahwa selain mengendalikan LED, rangkaian mikro kita juga harus melayani komunikasi dengan PC via usb dan memori baca / tulis flash.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untungnya, dioda ini cukup populer dan beberapa metode untuk mengimplementasikan protokolnya dijelaskan di Internet, termasuk pada mikrokontroler STM. </font><font style="vertical-align: inherit;">Kami telah memilih, mungkin, salah satu yang paling sulit dalam hal implementasi, tetapi juga pada saat yang sama paling efektif dalam hal waktu CPU - DMA + timer. </font><font style="vertical-align: inherit;">DMA menulis langsung ke port GPIO, timer mengontrol saluran DMA. </font><font style="vertical-align: inherit;">Karena DMA menulis ke seluruh port sekaligus, itu tidak akan berfungsi untuk menggunakan pin port lain sebagai output. </font><font style="vertical-align: inherit;">Itu sebabnya pin PB1 dipilih untuk mengontrol LED. </font><font style="vertical-align: inherit;">Secara ideologis, semuanya sederhana, tetapi saya harus mengotak-atik implementasi cukup banyak jika bukan karena perpustakaan indah yang Martin Hubáček tulis dan diposting di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Setelah sedikit selesai di bawah MK kami dan metode yang dipilih untuk menyimpan urutan RGB, kami mendapatkan LED yang berfungsi.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memori flash</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bayangkan memberi Anda hati dengan ucapan selamat pribadi. </font><font style="vertical-align: inherit;">Anda datang, bersukacita, pulang, sambungkan ke komputer, dan alih-alih “Aku mencintaimu!”, Memberi Anda “Driver perangkat yang diperlukan tidak ditemukan” atau sesuatu seperti itu. </font><font style="vertical-align: inherit;">Itu tidak baik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, jantung harus dikenali sebagai flash drive di salah satu sistem operasi yang umum, tanpa memerlukan instalasi driver. </font><font style="vertical-align: inherit;">Oleh karena itu, kita akan menggunakan kelas usb yang disebut "Mass Storage Device", karena STM32 USB Device Library memberi kita solusi turnkey. </font><font style="vertical-align: inherit;">Hentikan itu! </font><font style="vertical-align: inherit;">Siap ???? </font><font style="vertical-align: inherit;">Sekarang mari kita lihat.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membuat proyek di STM32CubeMX, menggabungkan metode baca / tulis untuk memori flash spi dengan panggilan yang sesuai dalam modul penyimpanan massal usb dan menemukan dua masalah sekaligus: USB flash drive tidak ingin dihapus dengan aman dan "tersedak" ketika mencoba menulis sesuatu lebih dari teks "Halo" World ”dalam file README.txt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masalah pertama mudah dipecahkan - Anda perlu mengimplementasikan pemrosesan SCSI yang hilang dari perintah StartStopUnit. Yang kedua lebih sulit untuk dipecahkan. Ukuran blok sistem file (secara alami, hanya memiliki ruang 8mb, kita akan menggunakan Fat16) adalah 512 byte. Memori hanya dapat dihapus dalam blok 4k. Kami harus memesan salah satu blok untuk penyimpanan sementara (kami tidak mampu membeli 4kb RAM dengan 6kb yang tersedia). Yaitu, untuk menulis 512 byte, Anda harus menyalin 4kb, menghapus 4kb, dan menyalinnya kembali. Selain itu, jika file tersebut cukup besar, sistem operasi ingin menulis ke drive 64kB sekaligus, dan pengontrol kami tidak dapat menangani data dalam jumlah besar untuk itu pada waktu yang tepat, mengingat bahwa flash drive yang digunakan juga bukan yang tercepat. Secara umumsementara controller perlahan-lahan menulis data 256 byte pada satu waktu (ukuran halaman memori), sistem operasi (setidaknya Fedora, di mana semua ini diuji) sudah berhasil memutuskan bahwa drive telah mati dengan berani.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penikmat mungkin akan menunjukkan solusi yang lebih elegan untuk masalah ini, tetapi "kita akan pergi ke arah lain." Memori flash akan dibaca melalui antarmuka perangkat penyimpanan massal dan dalam mode ini akan memposisikan dirinya sebagai Read-Only (pada saat yang sama, jantung dapat dengan mudah "ditarik keluar" dari komputer tanpa "ekstraksi aman", tetapi karena takut merusak sistem file), kami akan menuliskannya melalui virtual port-com (alias Kelas Perangkat Komunikasi). Melalui antarmuka yang sama, kami akan menulis urutan RGB kami hingga akhir memori MK. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mode boot (penyimpanan massal atau cdc) akan dipilih saat memuat dengan menekan tombol (atau tidak).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak lebih cepat dikatakan daripada dilakukan (seperti biasa, sebagian besar waktu dan kopi dihabiskan untuk dua kata ini). </font><font style="vertical-align: inherit;">Kami mengembalikan read-write ke antarmuka MSC, karena ditemukan bahwa dalam mode read-only, macO menolak untuk mengenali USB flash drive - itu tidak masalah, di sini kami menipu sistem operasi dan akan mengembalikan "sukses" ke setiap permintaan penulisan tanpa melakukan apa-apa (sekali lagi, solusi dari kategori "meskipun tidak elegan, tapi murah dan ceria"). </font><font style="vertical-align: inherit;">Intinya kecil - perangkat lunak untuk PC.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PC lunak</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena diputuskan untuk mengonfigurasi dan mem-flash melalui antarmuka cdc, Anda tidak dapat menarik dan melepaskan file dengan mouse dan Anda memerlukan aplikasi khusus yang dapat melakukannya. Tugas utamanya: untuk memberi pengguna kesempatan membuat disk image, mengunggah file pengguna di sana dan menulis gambar ini ke memori flash. Aplikasi juga harus menyediakan antarmuka untuk membuat / membaca / menulis urutan RGB.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aplikasi harus lintas-platform, dan di sini pustaka Qt untuk membuat antarmuka grafis dan ChaN FatFS untuk membuat dan mengelola image disk akan membantu kami. Pertukaran data dengan perangkat melalui port com tersedia dalam Qt versi terbaru "out of the box" (modul QSerialPort), untuk operasi gambar disk, kami menggunakan QTreeView dengan model item yang diwarisi dari QabstractItemModel, di mana operasi Drag &amp; Drop juga diterapkan (drag and drop, apa pun yang Anda katakan) dengan mouse ”nyaman dan tidak asing ketika datang ke file / folder). Untuk membuat urutan RGB, Anda dapat menggunakan QListWidget (untuk menampilkan urutan warna), perpustakaan QtColorWidgets (oleh Mattia Basaglia) untuk memilih warna, dan kelas QEasingCurve dibangun ke Qt untuk transisi yang halus (atau sebaliknya spasmodik) antara warna dan menciptakan efek pelangi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasil: aplikasi memiliki dua tab: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1) "Penyimpanan" untuk file </font></font><br>
<br>
<img src="https://habrastorage.org/files/592/3ac/357/5923ac357ea541ad8ba3a3fef2da78c5.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2) "LED" untuk mengelola urutan RGB </font></font><br>
<br>
<img src="https://habrastorage.org/files/a0a/8a6/e6b/a0a8a6e6b4f54dfb865a8b7acd1399c6.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dialog untuk membuat urutan RGB: </font></font><br>
<br>
<img src="https://habrastorage.org/files/d3f/2fb/2d2/d3f2fb2d2e334f008ef4ed03664ea45d.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dialog berfungsi dalam tiga mode: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
a) RGB - memungkinkan Anda menentukan transisi antara dua warna yang ditentukan dalam notasi RGB. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
b) HSV - hal yang sama, tetapi dalam notasi HSV - luapan lebih akrab bagi mata manusia, khususnya, mode "HSV" + "Iterate-&gt; HUE" memungkinkan Anda untuk membuat pelangi. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
c) Kustom - mode ini memungkinkan Anda untuk mengatur setiap warna urutan secara manual. </font><font style="vertical-align: inherit;">Tidak mungkin membuat urutan besar seperti ini, tetapi sangat nyaman untuk mengeluarkan hati Anda untuk sementara waktu (mengatur warnanya menjadi "hitam").</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan akhirnya, definisi perangkat kami sebagai flash drive di Windows / macOs / Linux (Gnome):</font></font><br>
<br>
<img src="https://habrastorage.org/files/dcc/621/4b9/dcc6214b92aa40b5a3b5dd3cf77a2ef1.png"><br>
<br>
<img src="https://habrastorage.org/files/397/434/a0d/397434a0d4ea40d5a061fcd7fa3bab77.png"><br>
<br>
<img src="https://habrastorage.org/files/5cf/549/4fc/5cf5494fcefe47dba54c442f72f9eaf3.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan setelah semua pekerjaan dilakukan dan teks tertulis, saya menemukan bahwa saya belum mengambil satu foto pun yang normal dari hati itu sendiri. </font><font style="vertical-align: inherit;">Oleh karena itu, saya melampirkan opsi "bagaimana hal itu terjadi": </font></font><br>
<br>
<img src="https://habrastorage.org/files/185/4b5/0d2/1854b50d264a44b8b7054dc876c3b211.jpg"><br>
<br>
<img src="https://habrastorage.org/files/25c/ccb/987/25cccb9873d946b083101dcae6af2b48.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada kenyataannya, itu tampak hebat (terutama dengan ukiran). </font><font style="vertical-align: inherit;">Cintai orang yang Anda cintai !!!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id401013/">https://habr.com/ru/post/id401013/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id401003/index.html">Jimat Bluetooth siap digunakan</a></li>
<li><a href="../id401005/index.html">Kepemimpinan Samsung berbicara tentang penyebab pembakaran spontan Galaxy Note 7</a></li>
<li><a href="../id401007/index.html">Koloni. Bab 2: Respon Kesulitan</a></li>
<li><a href="../id401009/index.html">Все больше людей ударяются в мракобесие и отрицают существование ВИЧ. Россия на грани эпидемии</a></li>
<li><a href="../id401011/index.html">Studi Survei Peningkatan Shooter Diingat</a></li>
<li><a href="../id401015/index.html">Polivox saga: penerbangan Phoenix Soviet dari tahun 80-an ke masa depan yang "cerah" di DOOM</a></li>
<li><a href="../id401019/index.html">1 Januari 1925: hari kami menemukan alam semesta</a></li>
<li><a href="../id401021/index.html">Internet Seluruh Dunia: Cina</a></li>
<li><a href="../id401023/index.html">Lampunya tidak sama</a></li>
<li><a href="../id401027/index.html">Bagaimana anak-anak mendapatkan [18+]</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>