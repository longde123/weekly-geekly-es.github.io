<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üóÇÔ∏è üë∏üèΩ ‚ù£Ô∏è Introducci√≥n a los contratos inteligentes üö≤ ü¶å üö£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En este art√≠culo veremos qu√© son los contratos inteligentes, cu√°les son, nos familiarizaremos con las diferentes plataformas de contratos inteligentes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Introducci√≥n a los contratos inteligentes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/distributedlab/blog/413231/">  En este art√≠culo veremos qu√© son los contratos inteligentes, cu√°les son, nos familiarizaremos con las diferentes plataformas de contratos inteligentes, sus caracter√≠sticas y tambi√©n discutiremos c√≥mo funcionan y qu√© ventajas pueden tener.  Este material ser√° muy √∫til para los lectores que no est√©n familiarizados con el tema de los contratos inteligentes, pero quieran acercarse a comprenderlo. <br><a name="habracut"></a><br><h2>  <b>Contrato regular vs.</b>  <b>contrato inteligente</b> </h2><br>  Antes de entrar en detalles, veamos un ejemplo de la diferencia entre un contrato ordinario, que se establece en papel, y un contrato inteligente, que se presenta en forma digital. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e19/d3a/226/e19d3a22688347a83b9ef987a94162c7.png" alt="imagen"><br><br>  ¬øC√≥mo funcion√≥ esto antes de los contratos inteligentes?  Imagine un grupo de personas que quiere establecer algunas reglas y condiciones para la distribuci√≥n de valores, as√≠ como un cierto mecanismo para garantizar la implementaci√≥n de esta distribuci√≥n de acuerdo con las reglas y condiciones dadas.  Luego se unieron, hicieron un papel en el que escribieron sus datos de identificaci√≥n, las condiciones, los valores involucrados, fijaron la fecha y firmaron.  Este contrato tambi√©n fue certificado por una parte confiable, como un notario p√∫blico.  Adem√°s, estas personas divergieron en diferentes direcciones con su copia impresa de dicho contrato y comenzaron a llevar a cabo algunas acciones que podr√≠an no corresponder con el contrato en s√≠, es decir, hicieron una cosa y se asegur√≥ en papel que deber√≠an hacer algo completamente diferente.  ¬øY c√≥mo salir de esta situaci√≥n?  De hecho, uno de los miembros del grupo necesita tomar este documento, tomar alguna evidencia, llevarlo a la corte y buscar el cumplimiento entre el contrato y las acciones reales.  Muy a menudo es dif√≠cil lograr una ejecuci√≥n justa de este contrato, lo que lleva a consecuencias desagradables. <br><br>  ¬øQu√© se puede decir sobre los contratos inteligentes?  Combinan tanto la posibilidad de escribir los t√©rminos del contrato como el mecanismo para su estricta implementaci√≥n.  Si se han establecido las condiciones y se ha firmado la transacci√≥n o solicitud correspondiente, luego de aceptar esta solicitud o transacci√≥n, ya no es posible cambiar las condiciones o afectar su implementaci√≥n. <br><br>  Hay un validador o toda la red, as√≠ como una base de datos que almacena todos los contratos inteligentes que se ejecutaron en estricto orden cronol√≥gico.  Tambi√©n es importante que esta base de datos contenga todas las condiciones de activaci√≥n para ejecutar un contrato inteligente.  Adem√°s, debe tener en cuenta el valor mismo, cuya distribuci√≥n se describe en el contrato.  Si esto se aplica a alguna moneda digital, entonces esta base de datos deber√≠a tenerla en cuenta. <br><br>  En otras palabras, los validadores de los contratos inteligentes deben tener acceso a todos los datos con los que opera el contrato inteligente.  Por ejemplo, una base de datos debe usarse para registrar simult√°neamente monedas digitales, saldos de usuarios, transacciones de usuarios y marcas de tiempo.  Luego, en un contrato inteligente, la condici√≥n puede ser el saldo del usuario en una determinada moneda, el inicio de un determinado momento o el hecho de una determinada transacci√≥n, pero no m√°s. <br><br><h2>  <b>Definici√≥n de contrato inteligente</b> </h2><br>  En general, la terminolog√≠a misma fue inventada por el investigador Nick Szabo y se aplic√≥ por primera vez en 1994, y se document√≥ en 1997 en un art√≠culo que describe la idea misma de los contratos inteligentes. <br><br>  Los contratos inteligentes implican que se lleva a cabo una automatizaci√≥n de la distribuci√≥n del valor, que puede depender solo de las condiciones predefinidas.  En su forma m√°s simple, parece un contrato con condiciones estrictamente especificadas, que est√° firmado por ciertas partes. <br><br>  Los contratos inteligentes est√°n dise√±ados para minimizar la confianza de terceros.  A veces, el centro de decisi√≥n, del que depende todo, est√° completamente excluido.  Adem√°s, es m√°s f√°cil realizar una auditor√≠a para dichos contratos.  Esto es consecuencia de algunas caracter√≠sticas de dise√±o de dicho sistema, pero a menudo nos referimos a un contrato inteligente como un entorno descentralizado y la presencia de funciones que permiten a cualquiera analizar la base de datos y realizar una auditor√≠a completa de la ejecuci√≥n de los contratos.  Esto garantiza la protecci√≥n contra cambios retroactivos en los datos que implicar√°n cambios en la ejecuci√≥n del contrato en s√≠.  La digitalizaci√≥n de la mayor√≠a de los procesos al crear y lanzar un contrato inteligente a menudo simplifica la tecnolog√≠a y el costo de su implementaci√≥n. <br><br><h3>  Un ejemplo simple: servicio de dep√≥sito de garant√≠a </h3><br>  Veamos un ejemplo muy simple.  Le ayudar√° a acercarse a comprender la funcionalidad de los contratos inteligentes, as√≠ como a navegar mejor en qu√© casos deben usarse. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c49/ff9/541/c49ff9541c0289e2da814c0d62a0425a.png" alt="imagen"><br><br>  Tambi√©n se puede implementar usando Bitcoin, aunque ahora todav√≠a es dif√≠cil llamar a Bitcoin una plataforma completa para contratos inteligentes.  Entonces, tenemos un comprador y hay una tienda en l√≠nea.  El comprador quiere comprar un monitor en esta tienda.  En el caso m√°s simple, el comprador prepara y env√≠a el pago, y la tienda en l√≠nea lo acepta, confirma y luego env√≠a los productos.  Sin embargo, en esta situaci√≥n es necesaria una gran confianza: el comprador debe confiar en la tienda en l√≠nea por el costo total del monitor.  Dado que la tienda en l√≠nea puede tener una baja reputaci√≥n a los ojos del comprador, existe el riesgo de que, por alguna raz√≥n, despu√©s de aceptar el pago, la tienda se niegue a prestar servicio y no enviar√° los productos al comprador.  Por lo tanto, el comprador hace una pregunta (respectivamente, y la tienda en l√≠nea hace esta pregunta) qu√© se puede aplicar en este caso para minimizar tales riesgos y hacer que dichas transacciones sean m√°s confiables. <br><br>  En el caso de Bitcoin, puede proporcionar al comprador y al vendedor la oportunidad de elegir un mediador de forma independiente.  Hay muchas personas que se ocupan de temas pol√©micos.  Y nuestros participantes pueden elegir de la lista general de mediadores en los que se confiar√° al mismo tiempo.  Juntos crean una direcci√≥n de firma m√∫ltiple 2 de 3, donde hay tres claves y dos claves requieren dos firmas para gastar monedas de esta direcci√≥n.  Una clave pertenecer√° al comprador, la segunda a la tienda en l√≠nea y la tercera al mediador.  Y el comprador enviar√° la cantidad necesaria para pagar el monitor a una direcci√≥n de m√∫ltiples firmas.  Ahora, cuando el vendedor ve que el dinero est√° bloqueado por un tiempo en la direcci√≥n de m√∫ltiples firmas, que depende de √©l, puede enviar el monitor de manera segura por correo. <br><br>  Adem√°s, el comprador recibe el paquete, inspecciona los productos y toma una decisi√≥n sobre la compra final.  Puede estar completamente de acuerdo con el servicio prestado y firmar la transacci√≥n con su clave, donde transfiere monedas desde la direcci√≥n de m√∫ltiples firmas al vendedor, o puede estar insatisfecho con algo.  En el segundo caso, se pone en contacto con el mediador para componer una transacci√≥n alternativa, que distribuir√° estas monedas de manera diferente. <br><br>  Supongamos que el monitor llegara un poco rayado y no hubiera un cable para conectarse a una computadora en el kit, aunque estaba escrito en el sitio web de la tienda en l√≠nea que el cable deber√≠a incluirse en el kit.  Luego, el comprador recopila la evidencia necesaria para demostrarle al mediador que fue enga√±ado en esta situaci√≥n: toma capturas de pantalla del sitio, toma una foto del cheque del correo, toma una foto de los rasgu√±os en el monitor y muestra que el sello se rompi√≥ y se sac√≥ el cable.  La tienda en l√≠nea, a su vez, recopila su evidencia y se la pasa al mediador. <br><br>  El mediador est√° interesado en satisfacer tanto la indignaci√≥n del comprador como los intereses de la tienda en l√≠nea (se entender√° m√°s por qu√©).  Realiza una transacci√≥n de este tipo en la que las monedas con direcciones de m√∫ltiples firmas se gastar√°n en alguna proporci√≥n entre el comprador, la tienda en l√≠nea y la selecci√≥n, ya que toma una parte para s√≠ mismo como recompensa por su trabajo.  Suponga que el 90% del monto total va al vendedor, el 5% al ‚Äã‚Äãmediador y el 5% de compensaci√≥n al comprador.  El mediador firma esta transacci√≥n con su clave, pero a√∫n no puede aplicarse, ya que esto requiere dos firmas, pero solo una.  Env√≠a tal transacci√≥n tanto al comprador como al vendedor.  Si al menos uno de ellos est√° satisfecho con esta opci√≥n de redistribuir monedas, la transacci√≥n se firmar√° adicionalmente y se distribuir√° a la red.  Para su validaci√≥n, es suficiente que uno de los participantes en la transacci√≥n est√© de acuerdo con la opci√≥n del mediador. <br><br>  En este caso, es importante elegir inicialmente un mediador para que ambos participantes conf√≠en en √©l.  En este caso, actuar√° independientemente de los intereses de uno u otro y evaluar√° objetivamente la situaci√≥n.  Si el mediador no proporciona una opci√≥n para la distribuci√≥n de monedas que satisfaga al menos a un participante, entonces, habiendo acordado juntos, tanto el comprador como la tienda en l√≠nea pueden enviar las monedas a una nueva direcci√≥n de m√∫ltiples firmas, colocando sus dos firmas.  La nueva direcci√≥n de m√∫ltiples firmas se compilar√° con otra selecci√≥n, que, tal vez, ser√° m√°s competente en el asunto y proporcionar√° una mejor opci√≥n. <br><br><h3>  Ejemplo de dormitorio y nevera </h3><br>  Veamos un ejemplo m√°s complejo que muestra las capacidades de un contrato inteligente de manera m√°s expl√≠cita. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4d9/d62/be0/4d9d62be0f11ea9938eb092ee279dd85.png" alt="imagen"><br><br>  Digamos que hay tres tipos que se han instalado recientemente en un dormitorio.  Los tres est√°n interesados ‚Äã‚Äãen comprar un refrigerador en su habitaci√≥n, que compartir√°n.  Uno de ellos se ofreci√≥ a recolectar la cantidad necesaria para comprar un refrigerador y negociar con el vendedor.  Sin embargo, se conocieron relativamente recientemente y no hay suficiente confianza entre ellos.  Obviamente, dos de ellos est√°n en riesgo, dando dinero a un tercero.  Adem√°s, deben llegar a un acuerdo sobre la elecci√≥n del vendedor. <br><br>  Pueden usar el servicio de custodia, es decir, elegir un mediador que supervisar√° la ejecuci√≥n de la transacci√≥n y resolver√° los problemas en disputa si surgen.  Luego, habiendo acordado, elaboran un contrato inteligente y prescriben ciertas condiciones en √©l. <br><br>  La primera condici√≥n es que antes de un cierto tiempo, por ejemplo, dentro de una semana, se deben recibir tres pagos de ciertas direcciones por un cierto monto en la cuenta correspondiente del contrato inteligente.  Si esto no sucede, el contrato inteligente termina y devuelve las monedas a todos los participantes.  Si se cumple la condici√≥n, se establecen los valores de los identificadores del vendedor y el mediador, y se verifica la condici√≥n de que todos los participantes est√©n de acuerdo con la elecci√≥n del vendedor y el mediador.  Cuando se cumplan todas las condiciones, los fondos se transferir√°n a las direcciones especificadas.  Tal enfoque puede proteger a los participantes del fraude en cualquier lado y generalmente elimina la necesidad de confiar. <br><br>  Vemos en este ejemplo el principio en s√≠ mismo de que tal oportunidad de establecer par√°metros paso a paso para que se cumpla cada condici√≥n permite crear sistemas de cualquier complejidad y profundidad de niveles anidados.  Adem√°s, primero puede definir la primera condici√≥n en un contrato inteligente, y solo despu√©s de su finalizaci√≥n ya puede establecer par√°metros para la siguiente condici√≥n.  En otras palabras, formalmente, se prescribe la condici√≥n, y los par√°metros para ella ya se pueden establecer durante su funcionamiento. <br><br><h3>  Clasificaci√≥n de contratos inteligentes </h3><br>  Para la clasificaci√≥n, puede especificar diferentes grupos de criterios.  Sin embargo, en el momento del desarrollo tecnol√≥gico, cuatro de ellos son relevantes. <br><br>  Los contratos inteligentes pueden distinguirse por un entorno de tiempo de ejecuci√≥n que puede ser centralizado o descentralizado.  En el caso de la descentralizaci√≥n, tenemos mucha m√°s independencia y tolerancia a fallas al ejecutar contratos inteligentes. <br><br>  Tambi√©n pueden distinguirse por el proceso de establecimiento y cumplimiento de condiciones: pueden ser arbitrariamente programables, limitados o predefinidos, es decir, estrictamente tipados.  Cuando en la plataforma de contrato inteligente solo hay 4 contratos inteligentes espec√≠ficos, los par√°metros para ellos se pueden establecer arbitrariamente.  En consecuencia, configurarlos es mucho m√°s f√°cil: seleccionamos un contrato de la lista y pasamos los par√°metros. <br><br>  Por el m√©todo de iniciaci√≥n, existen contratos inteligentes automatizados, es decir, cuando se cumplen ciertas condiciones, se cumplen por s√≠ mismos, y existen dichos contratos en los que se especifican las condiciones, pero la plataforma no verifica autom√°ticamente su cumplimiento, por lo que deben iniciarse por separado. <br><br>  Adem√°s, los contratos inteligentes var√≠an en t√©rminos de privacidad.  Pueden ser completamente abiertos, o parcialmente, o completamente confidenciales.  Esto √∫ltimo significa que los observadores externos no ven los t√©rminos de los contratos inteligentes.  Sin embargo, el tema de la privacidad es muy extenso y debe considerarse por separado del art√≠culo actual. <br><br>  A continuaci√≥n nos detendremos en los primeros tres criterios para aclarar la comprensi√≥n del tema actual. <br><br><h3>  Contratos inteligentes de tiempo de ejecuci√≥n </h3><br><img src="https://habrastorage.org/getpro/habr/post_images/64d/ffe/abc/64dffeabc36e80f36101529bd8cf1ff3.png" alt="imagen"><br><br>  El tiempo de ejecuci√≥n distingue entre plataformas de contratos inteligentes centralizadas y descentralizadas.  En el caso de los contratos digitales centralizados, se utiliza un servicio, donde solo hay un validador y puede haber un servicio de respaldo y recuperaci√≥n, que tambi√©n se administra de manera centralizada.  Hay una base de datos que almacena toda la informaci√≥n necesaria para establecer los t√©rminos del contrato inteligente y la distribuci√≥n del valor que se tiene en cuenta en esta misma base de datos del servicio.  Dicho servicio centralizado tiene un cliente que establece condiciones con ciertas solicitudes y utiliza dichos contratos.  Debido al hecho de que la plataforma est√° centralizada, los mecanismos de autenticaci√≥n pueden ser menos confiables que en las criptomonedas. <br><br>  Como ejemplo, puede tomar proveedores m√≥viles (diferentes operadores m√≥viles).  Supongamos que un determinado operador mantiene una cuenta centralizada del tr√°fico en sus servidores, que puede transmitirse en diferentes formatos, por ejemplo: en forma de llamadas de voz, SMS, tr√°fico de Internet m√≥vil y de acuerdo con diferentes est√°ndares, y tambi√©n realiza un seguimiento de los fondos en los saldos de los usuarios.  En consecuencia, un proveedor de servicios m√≥viles puede elaborar contratos para contabilizar los servicios prestados y su pago con diferentes condiciones.  En este caso, las condiciones como "enviar un SMS con tal o cual c√≥digo a tal y tal n√∫mero y obtendr√° tales y tales condiciones de distribuci√≥n de tr√°fico" se establecen f√°cilmente. <br><br>  Se puede citar un ejemplo m√°s: bancos tradicionales con funcionalidad avanzada de banca por Internet y contratos muy simples como pagos regulares, conversi√≥n autom√°tica de pagos entrantes, deducci√≥n autom√°tica de intereses en una cuenta espec√≠fica, etc. <br><br>  Si hablamos de contratos inteligentes con un tiempo de ejecuci√≥n descentralizado, entonces tenemos un grupo de validadores.  En el caso ideal, cualquiera puede convertirse en un validador.  Debido al protocolo de sincronizaci√≥n de la base de datos y la creaci√≥n de consenso, tenemos una base de datos com√∫n, que ahora almacenar√° todas las transacciones con contratos estrictamente descritos, y no algunas solicitudes condicionales, cuyos formatos a menudo cambian, pero no hay una especificaci√≥n abierta.  Aqu√≠, las transacciones contendr√°n instrucciones sobre c√≥mo ejecutar un contrato de acuerdo con especificaciones estrictas.  Esta especificaci√≥n es abierta y, por lo tanto, los propios usuarios de la plataforma pueden auditar y validar contratos inteligentes.  Aqu√≠ vemos que las plataformas descentralizadas son superiores a las centralizadas en independencia y tolerancia a fallas, pero su dise√±o y mantenimiento son mucho m√°s complicados. <br><br><h3>  Contratos inteligentes en el camino para establecer y cumplir condiciones </h3><br>  Ahora analizaremos con m√°s detalle c√≥mo los contratos inteligentes pueden diferir en la forma en que se definen y se cumplen.  Aqu√≠ prestamos atenci√≥n a los contratos inteligentes, que se programan arbitrariamente y se completan con Turing.  Un contrato inteligente completo de Turing le permite especificar casi cualquier algoritmo como condici√≥n para cumplir el contrato: ciclos de registro, alg√∫n tipo de funciones de c√°lculo de probabilidad y similares, hasta sus propios algoritmos de firma electr√≥nica.  En este caso, nos referimos a la ortograf√≠a realmente arbitraria de la l√≥gica. <br><br>  Tambi√©n se√±alan contratos inteligentes arbitrarios, pero no completos seg√∫n Turing.  Estos incluyen Bitcoin y Litecoin con su propio script.  Esto significa que es posible usar solo ciertas operaciones en un orden arbitrario, pero ya no es posible escribir bucles y algoritmos personalizados. <br><br>  Adem√°s, existen plataformas de contratos inteligentes que implementan contratos inteligentes predefinidos.  Estos incluyen Bitshares y Steemit.  Bitshares tiene una serie de contratos inteligentes para operar, administrar cuentas, administrar la plataforma y sus par√°metros.  Steemit es una plataforma similar, pero ya no se centra en emitir tokens y comerciar como Bitshares, sino en bloguear, es decir, almacena y procesa contenido de forma descentralizada. <br><br>  Los contratos arbitrarios de Turing-complete incluyen las plataformas Ethereum y RootStock, que a√∫n est√°n en desarrollo.  Por lo tanto, profundizaremos en m√°s detalles sobre la plataforma de contrato inteligente Ethereum. <br><br><h3>  Contratos inteligentes por m√©todo de iniciaci√≥n </h3><br>  Por el m√©todo de iniciaci√≥n, los contratos inteligentes tambi√©n se pueden dividir en al menos dos grupos: automatizados y manuales (no automatizados).<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es t√≠pico para los automatizados que con todos los par√°metros conocidos y el inicio de las condiciones, el contrato inteligente se ejecute completamente autom√°ticamente, es decir, no requiere el env√≠o de transacciones adicionales y el gasto de una comisi√≥n adicional para cada ejecuci√≥n posterior. La plataforma en s√≠ tiene todos los datos para calcular c√≥mo finalizar√° el contrato inteligente. La l√≥gica all√≠ no es arbitraria, sino predeterminada, y todo esto es predecible. Es decir, de antemano puede evaluar la complejidad del contrato inteligente, utilizar alg√∫n tipo de comisi√≥n constante para √©l y todos los procesos para su implementaci√≥n son m√°s eficientes.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para los contratos inteligentes que se programan arbitrariamente, la ejecuci√≥n no est√° automatizada. </font><font style="vertical-align: inherit;">Para iniciar un contrato inteligente de este tipo, pr√°cticamente en cada paso debe crear una nueva transacci√≥n que llame a la siguiente etapa de ejecuci√≥n o al siguiente m√©todo del contrato inteligente, pague la comisi√≥n correspondiente y espere a que se confirme la transacci√≥n. </font><font style="vertical-align: inherit;">La ejecuci√≥n se puede completar con √©xito o no, porque el c√≥digo del contrato inteligente es arbitrario y pueden aparecer algunos momentos impredecibles, como un ciclo eterno, la falta de algunos par√°metros y argumentos, momentos excepcionales no procesados, etc.</font></font><br><br><h2> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cuentas Ethereum</font></font></b> </h2><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tipos de cuentas de Ethereum </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consideremos qu√© cuentas en la plataforma Ethereum pueden ser. Aqu√≠ solo hay dos tipos de cuentas y no hay m√°s opciones. El primer tipo se llama cuenta de usuario, el segundo es la cuenta de contrato. Veamos en qu√© se diferencian. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La cuenta de usuario solo es administrada por la clave privada de la firma electr√≥nica. El propietario de la cuenta genera su par de claves para la firma electr√≥nica mediante el algoritmo ECDSA (Algoritmo de firma digital de curva el√≠ptica). Solo las transacciones firmadas por esta clave pueden cambiar el estado de esta cuenta.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hay una l√≥gica separada para la cuenta de contrato inteligente. </font><font style="vertical-align: inherit;">Se puede controlar solo con la ayuda de un c√≥digo de programa predeterminado que determina completamente el comportamiento del contrato inteligente: c√≥mo administrar√° sus monedas en ciertas circunstancias, por iniciativa de qu√© usuario y en qu√© condiciones adicionales se distribuir√°n estas monedas. </font><font style="vertical-align: inherit;">Si los desarrolladores no proporcionan algunos puntos en el c√≥digo del programa, pueden surgir problemas. </font><font style="vertical-align: inherit;">Por ejemplo, un contrato inteligente puede recibir un estado espec√≠fico en el que no acepta el inicio de una ejecuci√≥n posterior por parte de ninguno de los usuarios. </font><font style="vertical-align: inherit;">En este caso, las monedas se congelar√°n realmente, porque el contrato inteligente no proporciona una salida de este estado.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C√≥mo crear cuentas en Ethereum </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el caso de una cuenta de usuario, el propietario genera independientemente un par de claves a trav√©s de ECDSA. Es importante tener en cuenta que Ethereum usa exactamente el mismo algoritmo y exactamente la misma curva el√≠ptica que Bitcoin para la firma electr√≥nica, pero la direcci√≥n se calcula de una manera ligeramente diferente. Aqu√≠, el resultado del doble hashing ya no se aplica, como en Bitcoin, pero se proporciona un hashing √∫nico por la funci√≥n Keccak en una longitud de 256 bits. Los bits menos significativos se cortan del valor recibido, es decir, los 160 bits menos significativos del valor de salida de la funci√≥n hash. Como resultado, obtenemos la direcci√≥n en Ethereum. De hecho, toma 20 bytes.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tenga en cuenta que el identificador de cuenta en Ethereum est√° codificado en hexadecimal sin usar una suma de verificaci√≥n, a diferencia de Bitcoin y muchos otros sistemas donde la direcci√≥n est√° codificada en el sistema de n√∫meros base 58 con la suma de una suma de verificaci√≥n. Esto significa que debe trabajar con los identificadores de cuenta en Ethereum con cuidado: incluso un error en el identificador garantiza la p√©rdida de monedas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hay una caracter√≠stica importante y consiste en el hecho de que se crea una cuenta de usuario en el nivel general de la base de datos en el momento en que acepta el primer pago entrante.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hay un enfoque completamente diferente para crear una cuenta de contrato inteligente. Inicialmente, uno de los usuarios escribe el c√≥digo fuente del contrato inteligente, despu√©s de lo cual el c√≥digo se pasa a trav√©s de un compilador especial para la plataforma Ethereum, recibiendo el c√≥digo de bytes para la m√°quina virtual Ethereum. El bytecode recibido se coloca en un campo de transacci√≥n especial. Se autentica en nombre de la cuenta del iniciador. Adem√°s, esta transacci√≥n se distribuye a trav√©s de la red y aloja el c√≥digo de contrato inteligente. La comisi√≥n por la transacci√≥n y, en consecuencia, por la ejecuci√≥n del contrato se elimina del saldo de la cuenta del iniciador.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada contrato inteligente necesariamente contiene su propio constructor (de este contrato). </font><font style="vertical-align: inherit;">Puede estar vac√≠o o puede tener contenido. </font><font style="vertical-align: inherit;">Despu√©s de que se ejecuta el constructor, se crea un identificador de cuenta de contrato inteligente, mediante el cual puede enviar monedas, llamar a ciertos m√©todos del contrato inteligente, etc.</font></font><br><br><h2> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estructura de transacci√≥n de Ethereum</font></font></b> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para aclararlo, comenzaremos a revisar la estructura de la transacci√≥n Ethereum y el c√≥digo de contrato inteligente de muestra. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/2cf/562/c11/2cf562c11f33cc0ed594c935925a1fad.png" alt="imagen"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una transacci√≥n de Ethereum consta de varios campos. El primero de estos nonce es un cierto n√∫mero de transacci√≥n relativo a la cuenta en s√≠, que lo distribuye y es su autor. Esto es necesario para distinguir los dobles de las transacciones, es decir, para excluir el caso cuando la misma transacci√≥n se acepta dos veces. Mediante el uso de un identificador, cada transacci√≥n tiene un valor hash √∫nico. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esto es seguido por un campo como </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el precio del gas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Este es el precio al que la moneda base de Ethereum se convierte en gas, que paga la ejecuci√≥n del contrato inteligente y la asignaci√≥n del recurso de m√°quina virtual.</font></font> ¬øQu√© significa esto? <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En Bitcoin, las comisiones se pagan directamente por la moneda base, el propio Bitcoin. Esto es posible gracias a un mecanismo simple para calcularlos: pagamos estrictamente la cantidad de datos que contiene la transacci√≥n. En Ethereum, la situaci√≥n es m√°s complicada, porque es muy dif√≠cil comenzar desde la cantidad de datos de transacci√≥n. Aqu√≠, la transacci√≥n a√∫n puede contener c√≥digo de programa que se ejecutar√° en la m√°quina virtual, y cada operaci√≥n de la m√°quina virtual puede tener una complejidad diferente. Tambi√©n hay operaciones que asignan memoria para variables. Tendr√°n su propia complejidad, de la que depender√° el pago de cada operaci√≥n.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El costo de cada operaci√≥n en gas equivalente ser√° constante. Se introduce espec√≠ficamente para determinar el costo constante de cada operaci√≥n. Dependiendo de la carga en la red, el precio del gas cambiar√°, es decir, el coeficiente seg√∫n el cual la moneda base se convertir√° en esta unidad auxiliar para pagar la comisi√≥n.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hay otra caracter√≠stica de la transacci√≥n en Ethereum: el c√≥digo de bytes que contiene para la ejecuci√≥n en la m√°quina virtual se ejecutar√° hasta que termine con alg√∫n resultado (√©xito-fracaso) o hasta que se asigne un cierto n√∫mero de monedas para pagar una comisi√≥n Es para evitar la situaci√≥n cuando, en caso de alg√∫n error, todas las monedas se gastaron en comisi√≥n de la cuenta del remitente (por ejemplo, se lanz√≥ alg√∫n tipo de ciclo perpetuo en la m√°quina virtual), existe el siguiente campo: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gas de inicio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (a menudo se llama l√≠mite de gas): define La cantidad m√°xima de monedas que el remitente est√° dispuesto a gastar en una transacci√≥n espec√≠fica. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El siguiente campo se llama </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direcci√≥n de destino.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Esto incluye la direcci√≥n del destinatario de las monedas o la direcci√≥n de un contrato inteligente espec√≠fico, cuyos m√©todos se llamar√°n. Despu√©s de que sigue el campo de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , donde se ingresa la cantidad de monedas que se env√≠an a la direcci√≥n de destino. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El siguiente es un campo interesante llamado </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">datos</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que se ajusta a toda la estructura. Este no es un campo separado, sino toda la estructura en la que se define el c√≥digo para la m√°quina virtual. Puede poner datos arbitrarios aqu√≠; hay reglas separadas para esto. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y el √∫ltimo campo se llama </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">firma</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Contiene simult√°neamente la firma electr√≥nica del autor de esta transacci√≥n y la clave p√∫blica con la que se verificar√° esta firma. </font><font style="vertical-align: inherit;">A partir de la clave p√∫blica, puede obtener el identificador de la cuenta del remitente para esta transacci√≥n, es decir, identificar de forma exclusiva la cuenta del remitente en el propio sistema. </font><font style="vertical-align: inherit;">Seg√∫n la estructura de la transacci√≥n, descubrimos lo principal.</font></font><br><br><h2> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ejemplo de c√≥digo de contrato inteligente para solidez</font></font></b> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Echemos un vistazo m√°s de cerca al contrato inteligente m√°s simple usando un ejemplo. </font></font><br><br><pre><code class="javascript hljs">contract Bank { address owner; mapping(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">address</span></span></span><span class="hljs-function"> =&gt;</span></span> uint) balances; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Bank</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ owner = msg.sender; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deposit</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">payable</span></span></span><span class="hljs-function"> </span></span>{ balances[msg.sender] += msg.value; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">withdraw</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">uint amount</span></span></span><span class="hljs-function">) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (balances[msg.sender] &gt;= amount) { balances[msg.sender] -= amount; msg.sender.transfer(amount); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMyBalance</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">view</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">returns</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">uint</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> balances[msg.sender]; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kill</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">public</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (msg.sender == owner) selfdestruct(owner); } }</code> </pre> <br>  Arriba hay un c√≥digo fuente simplificado que puede contener monedas de usuario y devolverlas a pedido. <br><br>  Por lo tanto, existe un contrato inteligente del Banco que realiza las siguientes funciones: acumula monedas en su saldo, es decir, cuando se confirma una transacci√≥n y se coloca un contrato inteligente de este tipo, se crea una nueva cuenta que puede contener monedas en su saldo;  recuerda a los usuarios y la distribuci√≥n de monedas entre ellos;  Tiene varios m√©todos para administrar saldos, es decir, es posible reponer, retirar y verificar el saldo del usuario. <br><br>  Veamos cada l√≠nea de c√≥digo fuente.  Hay campos constantes en este contrato.  Uno de ellos, con el tipo de direcci√≥n, se llama propietario.  Aqu√≠, el contrato recuerda la direcci√≥n del usuario que cre√≥ este contrato inteligente.  Adem√°s, existe una estructura din√°mica que preserva la correspondencia entre las direcciones de usuario y los saldos. <br><br>  Despu√©s de que esto sigue el m√©todo del Banco, se llama igual que el contrato.  En consecuencia, este es su constructor.  Aqu√≠, a la variable de propietario se le asigna la direcci√≥n de la persona que public√≥ este contrato inteligente en la red.  Esto es lo √∫nico que sucede en este constructor.  Es decir, msg en este caso son exactamente los datos que se transfirieron a la m√°quina virtual junto con la transacci√≥n que contiene todo el c√≥digo para este contrato.  En consecuencia, msg.sender es el autor de esta transacci√≥n, que aloja este c√≥digo.  √âl ser√° el propietario del contrato inteligente. <br><br>  El m√©todo de dep√≥sito permite que una transacci√≥n transfiera un cierto n√∫mero de monedas a una cuenta de contrato.  En este caso, el contrato inteligente, al recibir estas monedas, las deja en su balance general, pero escribe a la estructura de saldos qui√©n fue exactamente el remitente de estas monedas para saber a qui√©n pertenecen. <br><br>  El siguiente m√©todo se llama retirar y toma un par√°metro: la cantidad de monedas que alguien quiere retirar de este banco.  Aqu√≠ hay una comprobaci√≥n para ver si hay suficientes monedas en el saldo del usuario que llama a este m√©todo para enviarlas.  Si hay suficientes, el contrato inteligente en s√≠ devuelve esta cantidad de monedas a la persona que llama. <br><br>  El siguiente es el m√©todo para verificar el saldo actual del usuario.  Quien llame a este m√©todo se utilizar√° para obtener este equilibrio en el contrato inteligente.  Vale la pena se√±alar que el modificador de este m√©todo es view.  Esto significa que el m√©todo en s√≠ no cambia las variables de su clase de ninguna manera y de hecho es solo un m√©todo de lectura.  No se crea una transacci√≥n separada para llamar a este m√©todo, no se paga comisi√≥n y todos los c√°lculos se realizan localmente, despu√©s de lo cual el usuario recibe el resultado. <br><br>  El m√©todo de matar es necesario para destruir el estado de un contrato inteligente.  Y aqu√≠ se escribe un chequeo adicional si la persona que llama de este m√©todo es el propietario de este contrato.  Si es as√≠, entonces el contrato se autodestruye, y la funci√≥n de destrucci√≥n acepta un par√°metro: el identificador de cuenta, al cual el contrato enviar√° todas las monedas restantes en su saldo.  En este caso, las monedas restantes ir√°n autom√°ticamente a la direcci√≥n del titular del contrato. <br><br><h2>  <b>¬øC√≥mo funciona un nodo de red Ethereum completo?</b> </h2><br>  Echemos un vistazo esquem√°tico a c√≥mo se ejecutan estos contratos inteligentes en la plataforma Ethereum y c√≥mo funciona un nodo de red completo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/10b/d25/63a/10bd2563a30d8284e5498e774e4abaf9.png" alt="imagen"><br><br>  Un nodo de red Ethereum completo debe tener al menos cuatro m√≥dulos. <br>  El primero, como para cualquier protocolo descentralizado, es el m√≥dulo de red P2P, un m√≥dulo para conexi√≥n de red y trabajo con otros nodos, donde se intercambian bloques, transacciones e informaci√≥n sobre otros nodos.  Este es un componente tradicional para todas las criptomonedas descentralizadas. <br><br>  Adem√°s, tenemos un m√≥dulo para almacenar datos de blockchain, procesar, seleccionar una rama prioritaria, complementar bloques, desacoplar bloques, verificar estos bloques, etc. <br><br>  El tercer m√≥dulo se llama EVM (m√°quina virtual Ethereum): esta es la m√°quina virtual que acepta el c√≥digo de bytes de la transacci√≥n Ethereum.  Este m√≥dulo toma el estado actual de una cuenta espec√≠fica y realiza cambios en su estado en funci√≥n del c√≥digo de bytes recibido.  La versi√≥n de la m√°quina virtual en cada uno de los nodos de la red debe ser la misma.  Los c√°lculos en cada uno de los nodos de Ethereum son exactamente los mismos, pero ocurren en un orden asincr√≥nico: alguien verifica y acepta esta transacci√≥n antes, es decir, ejecuta todo el c√≥digo contenido en ella, y alguien m√°s tarde.  En consecuencia, al crear una transacci√≥n, se distribuye a la red, los nodos la aceptan y, en el momento de la verificaci√≥n, al igual que Bitcoin Script se ejecuta en Bitcoin, el c√≥digo de bytes de la m√°quina virtual se ejecuta aqu√≠. <br><br>  Una transacci√≥n se considera verificada si se ejecut√≥ todo el c√≥digo que contiene, se gener√≥ un nuevo estado para una cuenta espec√≠fica y se guard√≥ hasta que qued√≥ claro si esta transacci√≥n se aplic√≥ o no.  Si se aplica la transacci√≥n, este estado se considera no solo completado, sino que ya es relevante.  Hay una base de datos que almacena el estado de cada cuenta para cada host.  Debido al hecho de que todos los c√°lculos se realizan de la misma manera y el estado de la cadena de bloques es el mismo, la base de datos que contiene el estado de todas las cuentas tambi√©n ser√° la misma para cada nodo. <br><br><h2>  <b>Mitos y limitaciones de los contratos inteligentes.</b> </h2><br>  En cuanto a las restricciones que existen para las plataformas de contratos inteligentes similares a Ethereum, se puede citar lo siguiente: <br><br><ul><li>  ejecuci√≥n de c√≥digo; </li><li>  asignar memoria; </li><li>  datos de blockchain; </li><li>  enviar pagos; </li><li>  crear un nuevo contrato; </li><li>  Llamar a otros contratos. </li></ul><br>  Veamos las restricciones que se imponen a una m√°quina virtual y, en consecuencia, disipamos algunos mitos sobre los contratos inteligentes.  En una m√°quina virtual, que puede estar no solo en Ethereum, sino tambi√©n en plataformas similares, puede realizar operaciones l√≥gicas verdaderamente arbitrarias, es decir, escribir c√≥digo y se ejecutar√° all√≠, adem√°s puede asignar memoria.  Sin embargo, la comisi√≥n se paga por separado para cada operaci√≥n y para cada unidad de memoria asignada adicionalmente. <br><br>  Adem√°s, la m√°quina virtual puede leer datos de la base de datos de blockchain para usar estos datos como desencadenante para ejecutar una u otra l√≥gica de contratos inteligentes.  Una m√°quina virtual puede crear y enviar transacciones, puede crear nuevos contratos y m√©todos de llamada de otros contratos inteligentes que ya est√°n publicados en la red: existen, est√°n disponibles, etc. <br><br>  El mito m√°s com√∫n es que los contratos inteligentes de Ethereum pueden usar informaci√≥n de cualquier recurso de Internet en sus propias condiciones.  La verdad es que la m√°quina virtual no puede enviar una solicitud de red a alg√∫n recurso de informaci√≥n externo en Internet, es decir, es imposible escribir un contrato tan inteligente que distribuya el valor entre los usuarios dependiendo del clima en la calle, o qui√©n gan√≥ en alg√∫n campeonato, o en funci√≥n de qu√© otro incidente sucedi√≥ en el mundo exterior, porque la informaci√≥n sobre estos incidentes simplemente no se encuentra en la base de datos de la plataforma en s√≠.  Es decir, no hay nada en la cadena de bloques sobre esto.  Si no aparece all√≠, la m√°quina virtual no puede usar estos datos como desencadenantes. <br><br><h2>  <b>Desventajas de Ethereum</b> </h2><br>  Hagamos una lista de los principales.  El primer inconveniente es que existen algunas dificultades para dise√±ar, desarrollar y probar contratos inteligentes en Ethereum (Ethereum usa el lenguaje Solidity para escribir contratos inteligentes).  De hecho, la pr√°ctica muestra que un porcentaje muy grande de todos los errores pertenece al factor humano.  Esto es realmente cierto para los contratos inteligentes Ethereum ya escritos, que tienen una complejidad de medio o superior.  Si para los contratos inteligentes simples la probabilidad de error es peque√±a, entonces en los contratos inteligentes complejos ocurren muy a menudo errores que conducen al robo de fondos, a su congelaci√≥n, a la destrucci√≥n de contratos inteligentes de una manera inesperada, etc. Muchos de estos casos ya se conocen. <br><br>  El segundo inconveniente es que la m√°quina virtual en s√≠ misma no es perfecta, ya que tambi√©n est√° escrita por personas.  Puede ejecutar comandos arbitrarios y esto es una vulnerabilidad: se pueden configurar varios comandos de una manera determinada, lo que conducir√° a consecuencias imprevistas.  Esta es un √°rea muy compleja, pero ya hay varios estudios que muestran que estas vulnerabilidades existen en la versi√≥n actual de la red Ethereum y pueden conducir al fracaso de muchos contratos inteligentes. <br><br>  Otra gran dificultad, puede considerarse un inconveniente.  Consiste en el hecho de que es posible, de manera pr√°ctica o t√©cnica, llegar a la conclusi√≥n de que si compila el c√≥digo de bytes del contrato que se ejecutar√° en la m√°quina virtual, puede determinar un orden espec√≠fico de operaciones.  Cuando se realizan juntas, estas operaciones cargar√°n en gran medida la m√°quina virtual y la ralentizar√°n desproporcionadamente a la comisi√≥n que se pag√≥ por estas operaciones. <br><br>  En el pasado, ya hab√≠a un per√≠odo de desarrollo de Ethereum, cuando muchos tipos que entendieron en detalle el funcionamiento de la m√°quina virtual encontraron tales vulnerabilidades.  De hecho, las transacciones pagaron una comisi√≥n muy peque√±a, pero pr√°cticamente ralentizaron toda la red.  Estos problemas son muy dif√≠ciles de resolver, porque necesita determinarlos, en segundo lugar, ajustar el precio para realizar estas operaciones y, en tercer lugar, realizar una bifurcaci√≥n dura, lo que significa actualizar todos los nodos de red a una nueva versi√≥n del software, y luego activaci√≥n simult√°nea de estos cambios. <br><br>  En cuanto a Ethereum, se ha llevado a cabo una gran cantidad de investigaci√≥n, se ha adquirido mucha experiencia pr√°ctica: tanto positiva como negativa, pero, sin embargo, a√∫n quedan dificultades y vulnerabilidades que a√∫n deben ser combatidas de alguna manera. <br><br>  Entonces, cuando se completa la parte tem√°tica del art√≠culo, pasamos a las preguntas que surgen con bastante frecuencia. <br><br><h2>  <b>Preguntas frecuentes</b> </h2><br>  <i>- Si todas las partes del contrato inteligente actual desean cambiar los t√©rminos, ¬øpueden cancelar este contrato inteligente mediante la firma m√∫ltiple y luego crear un nuevo contrato inteligente con condiciones actualizadas para su implementaci√≥n?</i> <br><br>  Aqu√≠ la respuesta ser√° doble.  Por qu√©  Porque, por un lado, un contrato inteligente se establece una vez y no implica ning√∫n cambio, y por otro lado, puede tener una l√≥gica predefinida que proporcione un cambio completo o parcial en algunas condiciones.  Es decir, si desea cambiar algo en su contrato inteligente, debe prescribir las condiciones bajo las cuales puede actualizar estas condiciones.  Por consiguiente, solo de manera tan prudente se puede organizar la renovaci√≥n del contrato.  Pero aqu√≠, tambi√©n, puede tener problemas: cometer alg√∫n tipo de error y obtener la vulnerabilidad correspondiente.  Por lo tanto, tales cosas deben ser muy detalladas y completamente dise√±adas y probadas. <br><br>  <i>- ¬øY si el mediador entra en una conspiraci√≥n con una de las partes involucradas: fideicomiso o un contrato inteligente?</i>  <i>¬øSe requiere un mediador en un contrato inteligente?</i> <br><br>  No se requiere un mediador en un contrato inteligente.  Puede que no sea.  Si en el caso de un dep√≥sito en garant√≠a el mediador entra en una conspiraci√≥n de una de las partes, entonces s√≠, este esquema pierde bruscamente todo su valor.  Por lo tanto, los mediadores se eligen de tal manera que todas las partes involucradas en este proceso conf√≠en en ellos al mismo tiempo.  En consecuencia, simplemente no transferir√° monedas a una direcci√≥n de m√∫ltiples firmas con el mediador en el que no conf√≠a. <br><br>  <i>- ¬øEs posible transferir muchos tokens diferentes de una direcci√≥n a diferentes direcciones de destino, por ejemplo, intercambiar direcciones, donde estos tokens se intercambian en una transacci√≥n de Ethereum?</i> <br><br>  Esta es una buena pregunta y se refiere al modelo de transacci√≥n de Ethereum y sus diferencias con el modelo de Bitcoin.  Y la diferencia es dram√°tica.  Si en el modelo de transacci√≥n de Ethereum simplemente transfiere monedas, entonces se transfieren solo de una direcci√≥n a otra, sin cambios, solo la cantidad espec√≠fica que especific√≥.  En otras palabras, este no es un modelo de salidas no gastadas (UTXO), sino un modelo de cuentas y saldos correspondientes.  Es te√≥ricamente posible enviar varios tokens diferentes a la vez con una transacci√≥n, si escribe un contrato inteligente complicado, pero a√∫n tiene que hacer muchas transacciones, crear un contrato, luego transferir tokens y monedas, y luego llamar al m√©todo apropiado.  Esto requiere esfuerzo y tiempo, respectivamente, en la pr√°ctica no funciona as√≠ y todos los pagos en Ethereum se realizan en transacciones separadas. <br><br>  <i>- Uno de los mitos sobre la plataforma Ethereum es que es imposible describir las condiciones que depender√°n de los datos de un recurso externo de Internet, ¬øentonces qu√©?</i> <br><br>  La soluci√≥n es que el contrato inteligente en s√≠ mismo puede incluir uno o m√°s de los llamados or√°culos de confianza que recopilan datos sobre el estado de las cosas en el mundo exterior y los transfieren a contratos inteligentes a trav√©s de m√©todos especiales.  El contrato en s√≠ considera que los datos que recibi√≥ de partes confiables son verdaderos.  Para una mayor confiabilidad, simplemente seleccionan un gran grupo de or√°culos y minimizan el riesgo de colusi√≥n.  El contrato en s√≠ mismo puede no tener en cuenta los datos de or√°culos que contradicen a la mayor√≠a. <br><br>  Este tema se trata en una de las conferencias del curso en l√≠nea Blockchain: " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Introducci√≥n a los contratos inteligentes</a> ". </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es413231/">https://habr.com/ru/post/es413231/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es413221/index.html">Las bacterias sobreviven en una "sala limpia" durante el montaje de naves espaciales, comiendo productos de limpieza</a></li>
<li><a href="../es413223/index.html">Diccionario habra. Parte 1</a></li>
<li><a href="../es413225/index.html">Semana de la seguridad 20: ciberataques no triviales</a></li>
<li><a href="../es413227/index.html">¬øQu√© es dios debajo de la ropa?</a></li>
<li><a href="../es413229/index.html">Build Caffe en Google Colaboratory: Tarjeta gr√°fica gratuita en la nube</a></li>
<li><a href="../es413233/index.html">El servicio uLogin env√≠a datos desde formularios (correo, tel√©fono) a un sitio de terceros y no dice nada al respecto.</a></li>
<li><a href="../es413235/index.html">Apuesta por mejores predicciones: nuevas matem√°ticas de pron√≥sticos del tiempo</a></li>
<li><a href="../es413237/index.html">Facebook niega haber enviado a los fabricantes de dispositivos los mismos datos que el desarrollador Alexander Kogan</a></li>
<li><a href="../es413239/index.html">C√≥mo hacer que un tel√©fono inteligente sea un poco m√°s tonto</a></li>
<li><a href="../es413241/index.html">Funciones de interceptaci√≥n en el kernel de Linux usando ftrace</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>