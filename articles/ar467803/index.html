<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤ŸğŸ¿ ğŸ™†ğŸ¾ â™ˆï¸ Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© Ù„Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ø¨Ø¯Ù†ÙŠ Ø§Ù„Ù…Ø®ØµØµ ÙÙŠ Ø¨ÙŠØ«ÙˆÙ† + Ù…Ø§ØªØ¨Ù„ÙˆØªÙ„ÙŠØ¨ ğŸ’¼ ğŸ§ ğŸ“”</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ØªØ­ÙŠØ©! 

 Ù†Ø­Ù† Ù‡Ù†Ø§ Ù†ØµÙ Ø¹Ù…Ù„ Ø­Ù‚Ù„ Ù…Ø¹ÙŠÙ† ØŒ Ø«Ù… Ù†ØµÙ†Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø¬Ù…ÙŠÙ„Ø© (ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø³ÙŠØ· Ø¬Ø¯Ù‹Ø§ Ù‡Ù†Ø§). 



 Ù…Ø§Ø°Ø§ Ø³ÙŠØ­Ø¯Ø« ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù‚Ø§Ù„. 

 Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ù…Ø©: 



1. ÙˆØµÙÙ†Ø§ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© Ù„Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„Ø¨Ø¯Ù†ÙŠ Ø§Ù„Ù…Ø®ØµØµ ÙÙŠ Ø¨ÙŠØ«ÙˆÙ† + Ù…Ø§ØªØ¨Ù„ÙˆØªÙ„ÙŠØ¨</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467803/" style=";text-align:right;direction:rtl">  ØªØ­ÙŠØ©! <br><br>  Ù†Ø­Ù† Ù‡Ù†Ø§ Ù†ØµÙ Ø¹Ù…Ù„ Ø­Ù‚Ù„ Ù…Ø¹ÙŠÙ† ØŒ Ø«Ù… Ù†ØµÙ†Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø¬Ù…ÙŠÙ„Ø© (ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø³ÙŠØ· Ø¬Ø¯Ù‹Ø§ Ù‡Ù†Ø§). <br><br><img src="https://habrastorage.org/webt/_u/hj/cw/_uhjcwkdv3vn28vmkcdlvgonnug.png"><br><br>  Ù…Ø§Ø°Ø§ Ø³ÙŠØ­Ø¯Ø« ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù‚Ø§Ù„. <br><br>  Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ø§Ù…Ø©: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ÙˆØµÙÙ†Ø§ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© ØŒ ÙˆÙ‡ÙŠ Ø§Ù„Ø¹Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…ØªØ¬Ù‡Ø§Øª (Ø¯Ø±Ø§Ø¬Ø© Ù‡ÙˆØ§Ø¦ÙŠØ© Ù„Ø£ÙˆÙ„Ø¦Ùƒ Ø§Ù„Ø°ÙŠÙ† Ù„ÙŠØ³ Ù„Ø¯ÙŠÙ‡Ù… Ø´Ø±ÙŠØ± ÙÙŠ Ù…ØªÙ†Ø§ÙˆÙ„ Ø§Ù„ÙŠØ¯) </li><li style=";text-align:right;direction:rtl">  ÙˆØµÙÙ†Ø§ Ø§Ù„Ù†Ù‚Ø·Ø© Ø§Ù„Ù…Ø§Ø¯ÙŠØ© ÙˆÙ…Ø¬Ø§Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ </li></ol><br>  Ø­Ø§Ù„Ø© Ø®Ø§ØµØ© (Ø¹Ù„Ù‰ Ø£Ø³Ø§Ø³ Ø¹Ø§Ù…): <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> Ù„Ù†Ù‚Ù… Ø¨ØªØµÙˆØ± Ù„Ø­Ù‚Ù„ Ø§Ù„Ù…ØªØ¬Ù‡ Ù„Ø´Ø¯Ø© Ø§Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„ÙƒÙ‡Ø±ÙˆÙ…ØºÙ†Ø§Ø·ÙŠØ³ÙŠ (Ø§Ù„ØµÙˆØ±ØªØ§Ù† Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙˆØ§Ù„Ø«Ø§Ù„Ø«Ø©) <br></li><li style=";text-align:right;direction:rtl">  Ø³ÙˆÙ Ù†ØªØµÙˆØ± Ø­Ø±ÙƒØ© Ø§Ù„Ø¬Ø²ÙŠØ¦Ø§Øª ÙÙŠ Ø§Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„ÙƒÙ‡Ø±ÙˆÙ…ØºÙ†Ø§Ø·ÙŠØ³ÙŠ <br></li></ol><br>  Ù…Ù‚Ø§Ø¨Ù„ØªÙŠ ØªØ­Øª Ø®ÙØ¶! <br><a name="habracut"></a><br><h1 style=";text-align:right;direction:rtl">  Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù†Ø¸Ø±ÙŠØ© </h1><br><h3 style=";text-align:right;direction:rtl">  Ø³Ù‡Ù… Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ </h3><br>  Ø£Ø³Ø§Ø³ ÙƒÙ„ Ø§Ù„Ø£Ø³Ø³ Ù‡Ùˆ Ù†Ø§Ù‚Ù„ (ÙˆØ®Ø§ØµØ© ÙÙŠ Ø­Ø§Ù„ØªÙ†Ø§).  Ù„Ø°Ù„Ùƒ ØŒ Ù…Ø¹ ÙˆØµÙ Ø§Ù„Ù…ØªØ¬Ù‡ Ø³Ù†Ø¨Ø¯Ø£.  Ù…Ø§Ø°Ø§ Ù†Ø­ØªØ§Ø¬ØŸ  Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠØ© Ø¹Ù„Ù‰ Ù†Ø§Ù‚Ù„ ØŒ Ø§Ù„Ù…Ø³Ø§ÙØ© ØŒ ÙˆØ­Ø¯Ø© ØŒ ÙˆØ§Ø«Ù†ÙŠÙ† Ù…Ù† Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ø§Ù„ØªÙ‚Ù†ÙŠØ©.  Ù†Ø§Ù‚Ù„ Ø³ÙˆÙ Ù†Ø±Ø« Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©.  Ù‡ÙƒØ°Ø§ ÙŠØ¨Ø¯Ùˆ Ø§Ù„ØªÙ‡ÙŠØ¦Ø©: <br><br><pre style=";text-align:right;direction:rtl"><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vector</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(list)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *el)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> e <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> el: self.append(e)</code> </pre> <br>  ÙˆÙ‡Ø°Ø§ Ù‡Ùˆ ØŒ Ø§Ù„Ø¢Ù† ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø§Ù‚Ù„ Ù…Ø¹ <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">v = Vector(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre><br>  Ù„Ù†Ù‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ø¹Ù…Ù„ÙŠØ© Ø­Ø³Ø§Ø¨ÙŠØ©: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vector</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(list)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__add__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] + other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self + other</code> </pre><br>  Ù…Ù…ØªØ§Ø²: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">v1 = Vector(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) v2 = Vector(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">57</span></span>, <span class="hljs-number"><span class="hljs-number">23.2</span></span>) v1 + v2 &gt;&gt;&gt; [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">59</span></span>, <span class="hljs-number"><span class="hljs-number">26.2</span></span>]</code> </pre><br>  Ù†Ø­Ø¯Ø¯ Ø¨Ø§Ù„Ù…Ø«Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ÙŠØ© (Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ÙƒØ§Ù…Ù„ Ù„Ù„Ù…ØªØ¬Ù‡ Ø³ÙŠÙƒÙˆÙ† Ø£Ù‚Ù„).  Ø£Ù†Øª Ø§Ù„Ø¢Ù† Ø¨Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù…Ø³Ø§ÙØ©.  ÙŠÙ…ÙƒÙ† Ø£Ù† Ø£Ù‚ÙˆÙ… Ø¨ØªÙ‚Ø³ÙŠÙ… Ø±ÙŠÙÙŠ (Ø§Ù„Ø¥ØµØ¯Ø§Ø± 1 ØŒ Ø§Ù„Ø¥ØµØ¯Ø§Ø± 2) - Ù„ÙƒÙ† Ù‡Ø°Ø§ Ù„ÙŠØ³ Ø¬Ù…ÙŠÙ„Ù‹Ø§ ØŒ Ù„Ø°Ø§ Ø£Ø¹Ø¯ ØªØ­Ø¯ÙŠØ¯ Ø¹Ø§Ù…Ù„ Ø§Ù„ØªØ´ØºÙŠÙ„Ùª: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vector</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(list)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__mod__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum((self - other) ** <span class="hljs-number"><span class="hljs-number">2</span></span>) ** <span class="hljs-number"><span class="hljs-number">0.5</span></span></code> </pre><br>  Ù…Ù…ØªØ§Ø²: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">v1 = Vector(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) v2 = Vector(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">57</span></span>, <span class="hljs-number"><span class="hljs-number">23.2</span></span>) v1 % v2 &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">58.60068258988115</span></span></code> </pre><br>  Ù†Ø­ØªØ§Ø¬ Ø£ÙŠØ¶Ù‹Ø§ Ø¥Ù„Ù‰ Ø·Ø±ÙŠÙ‚ØªÙŠÙ† Ù„ØªÙˆÙ„ÙŠØ¯ Ù†Ø§Ù‚Ù„Ø§Øª Ø£Ø³Ø±Ø¹ ÙˆØ¥Ø®Ø±Ø§Ø¬ Ø¬Ù…ÙŠÙ„.  Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´ÙŠØ¡ ØµØ¹Ø¨ Ù‡Ù†Ø§ ØŒ Ù„Ø°Ù„Ùƒ ÙŠÙˆØ¬Ø¯ Ø±Ù…Ø² ÙØ¦Ø© Vector Ø¨Ø£ÙƒÙ…Ù„Ù‡: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØªØ¬Ù‡Ø§Øª Ø±Ù…Ø² Ø§Ù„ÙØ¦Ø©</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vector</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(list)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *el)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> e <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> el: self.append(e) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__add__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] + other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self + other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__sub__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] - other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self - other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__mul__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] * other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self * other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__truediv__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] / other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self / other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__pow__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] ** other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self ** other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__mod__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum((self - other) ** <span class="hljs-number"><span class="hljs-number">2</span></span>) ** <span class="hljs-number"><span class="hljs-number">0.5</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self % Vector.emptyvec(len(self)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dim</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> len(self) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__str__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(self) == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Empty"</span></span> r = [str(i) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"&lt; "</span></span> + <span class="hljs-string"><span class="hljs-string">" "</span></span>.join(r) + <span class="hljs-string"><span class="hljs-string">" &gt;"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_ipython_display_</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> print(str(self)) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">emptyvec</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(lens=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, n=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Vector(*[n <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(lens)]) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">randvec</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dim)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Vector(*[random.random() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(dim)])</code> </pre><br></div></div><br><h3 style=";text-align:right;direction:rtl">  Ù†Ù‚Ø·Ø© Ø§Ù„Ù…ÙˆØ§Ø¯ </h3><br>  Ù‡Ù†Ø§ ØŒ Ù…Ù† Ø§Ù„Ù†Ø§Ø­ÙŠØ© Ø§Ù„Ù†Ø¸Ø±ÙŠØ© ØŒ ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø³ÙŠØ· - Ø§Ù„Ù†Ù‚Ø·Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª ÙˆØ§Ù„Ø³Ø±Ø¹Ø© ÙˆØ§Ù„ØªØ³Ø§Ø±Ø¹ (Ù„Ù„Ø¨Ø³Ø§Ø·Ø©).  Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø°Ù„Ùƒ ØŒ Ù„Ø¯ÙŠÙ‡Ø§ ÙƒØªÙ„Ø© ÙˆÙ…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ù…Ø¹Ù„Ù…Ø§Øª Ø§Ù„Ù…Ø®ØµØµØ© (Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„ ØŒ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ù„Ø­Ù‚Ù„ Ø§Ù„ÙƒÙ‡Ø±ÙˆÙ…ØºÙ†Ø§Ø·ÙŠØ³ÙŠ ØŒ ÙØ¥Ù† Ø§Ù„Ø´Ø­Ù†Ø© Ù„Ø§ ØªØ¤Ø°ÙŠÙ†Ø§ ØŒ Ù„ÙƒÙ† Ù„Ø§ Ø£Ø­Ø¯ ÙŠØ²Ø¹Ø¬Ùƒ Ù„ØªØ¹ÙŠÙŠÙ† Ø­ØªÙ‰ ØªØ¯ÙˆØ±). <br><br>  Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø³ØªÙƒÙˆÙ† ÙƒÙ…Ø§ ÙŠÙ„ÙŠ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Point</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, coords, mass=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, q=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params"> speed=None, **properties)</span></span></span><span class="hljs-function">:</span></span> self.coords = coords <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> speed <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: self.speed = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(coords))]) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: self.speed = speed self.acc = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(coords))]) self.mass = mass self.__params__ = [<span class="hljs-string"><span class="hljs-string">"coords"</span></span>, <span class="hljs-string"><span class="hljs-string">"speed"</span></span>, <span class="hljs-string"><span class="hljs-string">"acc"</span></span>, <span class="hljs-string"><span class="hljs-string">"q"</span></span>] + list(properties.keys()) self.q = q <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> prop <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> properties: setattr(self, prop, properties[prop])</code> </pre><br>  ÙˆÙ…Ù† Ø£Ø¬Ù„ ØªØ­Ø±ÙŠÙƒ ÙˆØ¬Ù‡Ø© Ù†Ø¸Ø±Ù†Ø§ ÙˆØªØ³Ø±ÙŠØ¹Ù‡Ø§ ÙˆØªØ³Ø±ÙŠØ¹Ù‡Ø§ ØŒ Ø³Ù†ÙƒØªØ¨ Ø§Ù„Ø·Ø±Ù‚ Ø§Ù„ØªØ§Ù„ÙŠØ©: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Point</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.coords = self.coords + self.speed * dt <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">accelerate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.speed = self.speed + self.acc * dt <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">accinc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, force)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#        self.acc = self.acc + force / self.mass def clean_acc(self): self.acc = self.acc * 0</span></span></code> </pre><br>  Ø£Ø­Ø³Ù†Øª ØŒ Ø§Ù„Ù†Ù‚Ø·Ø© Ù†ÙØ³Ù‡Ø§ Ù‡ÙŠ Ø§Ù„Ù‚ÙŠØ§Ù… Ø¨Ù‡. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ÙƒÙˆØ¯ Ø§Ù„Ù†Ù‚Ø·Ø© (Ù…Ø¹ Ø§Ù„Ø¥Ø®Ø±Ø§Ø¬ Ù„Ø·ÙŠÙØ©)</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Point</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, coords, mass=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, q=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params"> speed=None, **properties)</span></span></span><span class="hljs-function">:</span></span> self.coords = coords <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> speed <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: self.speed = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(coords))]) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: self.speed = speed self.acc = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(coords))]) self.mass = mass self.__params__ = [<span class="hljs-string"><span class="hljs-string">"coords"</span></span>, <span class="hljs-string"><span class="hljs-string">"speed"</span></span>, <span class="hljs-string"><span class="hljs-string">"acc"</span></span>, <span class="hljs-string"><span class="hljs-string">"q"</span></span>] + list(properties.keys()) self.q = q <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> prop <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> properties: setattr(self, prop, properties[prop]) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.coords = self.coords + self.speed * dt <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">accelerate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.speed = self.speed + self.acc * dt <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">accinc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, force)</span></span></span><span class="hljs-function">:</span></span> self.acc = self.acc + force / self.mass <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clean_acc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.acc = self.acc * <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__str__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> r = [<span class="hljs-string"><span class="hljs-string">"Point {"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.__params__: r.append(<span class="hljs-string"><span class="hljs-string">" "</span></span> + p + <span class="hljs-string"><span class="hljs-string">" = "</span></span> + str(getattr(self, p))) r += [<span class="hljs-string"><span class="hljs-string">"}"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"\n"</span></span>.join(r) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_ipython_display_</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> print(str(self))</code> </pre><br>  Ø§Ù„Ù†ØªÙŠØ¬Ø©: <br><img src="https://habrastorage.org/webt/gu/p2/hv/gup2hvuve_ty_bblqsaceemz4iw.png"><br></div></div><br><h3 style=";text-align:right;direction:rtl">  Ù…Ø¬Ø§Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ </h3><br>  Ù†Ø­Ù† Ù†Ø³Ù…ÙŠ Ù…Ø¬Ø§Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„ ÙƒØ§Ø¦Ù†Ø§Ù‹ ÙŠØªØ¶Ù…Ù† Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø§Ø¯ÙŠØ© ÙˆÙŠÙ…Ø§Ø±Ø³ Ø§Ù„Ù‚ÙˆØ© Ø¹Ù„ÙŠÙ‡Ø§.  Ø³Ù†Ù†Ø¸Ø± ÙÙŠ Ø­Ø§Ù„Ø© Ø®Ø§ØµØ© Ù„ÙƒÙˆÙ†Ù†Ø§ Ø§Ù„Ø±Ø§Ø¦Ø¹ ØŒ Ù„Ø°Ù„Ùƒ Ø³ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙ†Ø§ ØªÙØ§Ø¹Ù„ Ù…Ø®ØµØµ ÙˆØ§Ø­Ø¯ (Ø¨Ø§Ù„Ø·Ø¨Ø¹ ØŒ Ù‡Ø°Ø§ Ø³Ù‡Ù„ Ø§Ù„ØªÙˆØ³ÙŠØ¹).  Ø£Ø¹Ù„Ù† Ø§Ù„Ù…Ù†Ø´Ø¦ ÙˆØ£Ø¶Ù Ù†Ù‚Ø·Ø©: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InteractionField</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, F)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># F -   , F(p1, p2, r), p1, p2 - , r -    self.points = [] self.F = F def append(self, *args, **kwargs): self.points.append(Point(*args, **kwargs))</span></span></code> </pre><br>  Ø§Ù„Ø¢Ù† Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…Ù…ØªØ¹ Ù‡Ùˆ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø¹Ù† ÙˆØ¸ÙŠÙØ© ØªØ¹ÙŠØ¯ "Ø§Ù„ØªÙˆØªØ±" ÙÙŠ ØªÙ„Ùƒ Ø§Ù„Ù…Ø±Ø­Ù„Ø©.  Ø¹Ù„Ù‰ Ø§Ù„Ø±ØºÙ… Ù…Ù† Ø£Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…ÙÙ‡ÙˆÙ… ÙŠØ´ÙŠØ± Ø¥Ù„Ù‰ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„ÙƒÙ‡Ø±ÙˆÙ…ØºÙ†Ø§Ø·ÙŠØ³ÙŠ ØŒ ÙØ¥Ù†Ù‡ ÙÙŠ Ø­Ø§Ù„ØªÙ†Ø§ Ù‡Ùˆ Ø¨Ø¹Ø¶ Ø§Ù„Ù…ØªØ¬Ù‡Ø§Øª Ø§Ù„Ù…Ø¬Ø±Ø¯Ø© Ø§Ù„ØªÙŠ Ø³Ù†Ø¹Ù…Ù„ Ø¹Ù„Ù‰ ØªØ­Ø±ÙŠÙƒÙ‡Ø§.  ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ù„Ø© ØŒ Ø³ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙ†Ø§ Ø®Ø§ØµÙŠØ© Ø§Ù„Ù†Ù‚Ø·Ø© q ØŒ ÙÙŠ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø¹ÙŠÙ†Ø© - ØªÙƒÙ„ÙØ© Ø§Ù„Ù†Ù‚Ø·Ø© (Ø¨Ø´ÙƒÙ„ Ø¹Ø§Ù… - ÙƒÙ„ Ù…Ø§ Ù†Ø±ÙŠØ¯ ØŒ Ø­ØªÙ‰ Ø§Ù„Ù…ÙˆØ¬Ù‡).  Ø¥Ø°Ù† Ù…Ø§ Ù‡Ùˆ Ø§Ù„ØªÙˆØªØ± Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø·Ø© CØŸ  Ø´ÙŠØ¡ Ù…Ø«Ù„ Ù‡Ø°Ø§: <br><br><p style=";text-align:right;direction:rtl"></p><p style=";text-align:right;direction:rtl"><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>E</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>C</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><msub><mi>F</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>C</mi><mo stretchy=&quot;false&quot;>)</mo></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="34.555ex" height="2.66ex" viewBox="0 -832 14877.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-45" x="1635" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMAIN-28" x="2400" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-76" x="3039" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-65" x="3525" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-63" x="3991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-43" x="4425" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMAIN-29" x="5185" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMAIN-3D" x="5852" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-73" x="7159" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-75" x="7628" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-6D" x="8201" y="0"></use><g transform="translate(9079,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-63" x="1202" y="0"></use><g transform="translate(1635,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-69" x="910" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMAIN-28" x="2623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-76" x="3262" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-65" x="3748" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-63" x="4214" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-43" x="4648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMAIN-29" x="5408" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>E</mi><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>C</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><msub><mi>F</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>C</mi><mo stretchy="false">)</mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> \ vec E (\ vec C) = \ sum {\ vec F_i (\ vec C)} </script></p><br><br>  ÙˆÙ‡Ø°Ø§ Ù‡Ùˆ ØŒ ÙˆØ§Ù„ØªÙˆØªØ± ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø© <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>C</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.565ex" height="2.057ex" viewBox="0 -780.1 2396 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-43" x="1635" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>C</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> \ vec C </script>  ÙŠØ³Ø§ÙˆÙŠ Ù…Ø¬Ù…ÙˆØ¹ Ù‚ÙˆÙ‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø§Ø¯ÙŠØ© Ø§Ù„ØªÙŠ ØªØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ù†Ù‚Ø·Ø© ÙˆØ­Ø¯Ø© Ù…Ø¹ÙŠÙ†Ø©. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InteractionField</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">intensity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, coord)</span></span></span><span class="hljs-function">:</span></span> proj = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(coord.dim())]) single_point = Point(Vector(), mass=<span class="hljs-number"><span class="hljs-number">1.0</span></span>, q=<span class="hljs-number"><span class="hljs-number">1.0</span></span>) <span class="hljs-comment"><span class="hljs-comment">#       (   ,       F,      ) for p in self.points: if coord % p.coords &lt; 10 ** (-10): #      ,        ,   ,     (  ) continue d = p.coords % coord fmod = self.F(single_point, p, d) * (-1) #    -  proj = proj + (coord - p.coords) / d * fmod #  return proj</span></span></code> </pre><br>  ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø±Ø­Ù„Ø© ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø¨Ø§Ù„ÙØ¹Ù„ Ø±Ø³Ù… Ø­Ù‚Ù„ Ù…ØªØ¬Ù‡ ØŒ Ù„ÙƒÙ†Ù†Ø§ Ø³Ù†ÙØ¹Ù„Ù‡ ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©.  Ø§Ù„Ø¢Ù† Ù„Ù†Ø£Ø®Ø° Ø®Ø·ÙˆØ© ÙÙŠ ØªÙØ§Ø¹Ù„Ù†Ø§ <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InteractionField</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">step</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.clean_acc() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: p.accinc(self.intensity(p.coords) * pq) p.accelerate(dt) p.move(dt)</code> </pre><br>  ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø³ÙŠØ· Ù‡Ù†Ø§.  Ù„ÙƒÙ„ Ù†Ù‚Ø·Ø© ØŒ Ù†Ø­Ø¯Ø¯ Ø§Ù„ØªÙˆØªØ± ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª ÙˆÙ…Ù† Ø«Ù… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© Ø¹Ù„Ù‰ Ù†Ù‚Ø·Ø© Ø§Ù„Ù…ÙˆØ§Ø¯ ETU: <br><br><p style=";text-align:right;direction:rtl"></p><p style=";text-align:right;direction:rtl"><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>F</mi><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>E</mi><mo>&amp;#x2217;</mo><mi>q</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.476ex" height="2.419ex" viewBox="0 -780.1 7524.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-46" x="1635" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMAIN-3D" x="2662" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-76" x="3969" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-65" x="4454" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-63" x="4921" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-45" x="5354" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMAIN-2217" x="6341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-71" x="7064" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>F</mi><mo>=</mo><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>E</mi><mo>âˆ—</mo><mi>q</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> \ vec F = \ vec E * q </script></p><br><br>  ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø©. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ÙƒÙ„ Ø±Ù…Ø² InteractionField</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InteractionField</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, F)</span></span></span><span class="hljs-function">:</span></span> self.points = [] self.F = F <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_all</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: p.move(dt) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">intensity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, coord)</span></span></span><span class="hljs-function">:</span></span> proj = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(coord.dim())]) single_point = Point(Vector(), mass=<span class="hljs-number"><span class="hljs-number">1.0</span></span>, q=<span class="hljs-number"><span class="hljs-number">1.0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> coord % p.coords &lt; <span class="hljs-number"><span class="hljs-number">10</span></span> ** (<span class="hljs-number"><span class="hljs-number">-10</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> d = p.coords % coord fmod = self.F(single_point, p, d) * (<span class="hljs-number"><span class="hljs-number">-1</span></span>) proj = proj + (coord - p.coords) / d * fmod <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> proj <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">step</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.clean_acc() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: p.accinc(self.intensity(p.coords) * pq) p.accelerate(dt) p.move(dt) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clean_acc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: p.clean_acc() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">append</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *args, **kwargs)</span></span></span><span class="hljs-function">:</span></span> self.points.append(Point(*args, **kwargs)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gather_coords</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [p.coords <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points]</code> </pre><br></div></div><br><h1 style=";text-align:right;direction:rtl">  Ø­Ø§Ù„Ø© Ø®Ø§ØµØ©.  Ø­Ø±ÙƒØ© Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª ÙˆØ§Ù„ØªØµÙˆØ± Ù…Ø¬Ø§Ù„ Ù†Ø§Ù‚Ù„Ø§Øª </h1><br>  Ù„Ø°Ù„Ùƒ ÙˆØµÙ„Ù†Ø§ Ø¥Ù„Ù‰ Ø§Ù„Ø£ÙƒØ«Ø± Ø¥Ø«Ø§Ø±Ø© Ù„Ù„Ø§Ù‡ØªÙ…Ø§Ù….  Ù„Ù†Ø¨Ø¯Ø£ Ø¨Ù€ ... <br><br><h3 style=";text-align:right;direction:rtl">  Ù†Ù…Ø°Ø¬Ø© Ø­Ø±ÙƒØ© Ø§Ù„Ø¬Ø²ÙŠØ¦Ø§Øª ÙÙŠ Ø§Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„ÙƒÙ‡Ø±ÙˆÙ…ØºÙ†Ø§Ø·ÙŠØ³ÙŠ </h3><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">u = InteractionField(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> p1, p2, r: <span class="hljs-number"><span class="hljs-number">300000</span></span> * -p1.q * p2.q / (r ** <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">0.1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">3</span></span>): u.append(Vector.randvec(<span class="hljs-number"><span class="hljs-number">2</span></span>) * <span class="hljs-number"><span class="hljs-number">10</span></span>, q=random.random() - <span class="hljs-number"><span class="hljs-number">0.5</span></span>)</code> </pre><br>  ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ ØŒ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ø¹Ø§Ù…Ù„ k Ù…Ø³Ø§ÙˆÙŠØ§ Ù„Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„ÙŠØ§Ø±Ø§Øª (9 * 10 ^ (- 9)) ØŒ Ù„ÙƒÙ† Ø¨Ù…Ø§ Ø£Ù†Ù‡ Ø³ÙŠØªÙ… Ø¥Ø®Ù…Ø§Ø¯Ù‡ Ø¨Ø­Ù„ÙˆÙ„ Ø§Ù„ÙˆÙ‚Øª t -&gt; 0 ØŒ ÙÙ‚Ø¯ Ù‚Ø±Ø±Øª Ø¹Ù„Ù‰ Ø§Ù„ÙÙˆØ± Ø¬Ø¹Ù„ ÙƒÙ„ Ù…Ù†Ù‡Ù…Ø§ Ø£Ø¹Ø¯Ø§Ø¯Ù‹Ø§ ÙƒØ§ÙÙŠØ©.  Ù„Ø°Ù„Ùƒ ØŒ ÙÙŠ Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡ Ù„Ø¯ÙŠÙ†Ø§ Ùƒ = 300'000.  ÙˆÙ…Ø¹ ÙƒÙ„ Ø´ÙŠØ¡ Ø¢Ø®Ø± ØŒ Ø£Ø¹ØªÙ‚Ø¯ Ø£Ù†Ù‡ ÙˆØ§Ø¶Ø­. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">Øµ ** 2 + 0.1</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><br>  - Ù‡Ø°Ø§ Ù‡Ùˆ ØªØ¬Ù†Ø¨ Ø§Ù„Ù‚Ø³Ù…Ø© Ø¹Ù„Ù‰ 0. Ø¨Ø§Ù„Ø·Ø¨Ø¹ ØŒ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø§Ù„Ø®Ù„Ø· ØŒ ÙˆÙ†Ø­Ù„ Ù†Ø¸Ø§Ù…Ù‹Ø§ ÙƒØ¨ÙŠØ±Ù‹Ø§ Ù…Ù† Ø§Ù„Ø§Ø®ØªÙ„Ø§ÙØ§Øª ØŒ Ù„ÙƒÙ† Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø§Ø¯Ù„Ø© Ù„Ù„Ø­Ø±ÙƒØ© Ù„Ø£ÙƒØ«Ø± Ù…Ù† Ø¬Ø«ØªÙŠÙ† ØŒ ÙˆØ«Ø§Ù†ÙŠØ§Ù‹ Ù„Ø§ ÙŠØªÙ… ØªØ¶Ù…ÙŠÙ† Ø°Ù„Ùƒ Ø¨ÙˆØ¶ÙˆØ­ ÙÙŠ Ù…ÙÙ‡ÙˆÙ… "Ù…Ù‚Ø§Ù„Ø© Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ†" <br></div></div><br>  Ø¨Ø¹Ø¯ Ø°Ù„Ùƒ ØŒ Ù†Ø¶ÙŠÙ Ø¹Ø´Ø± Ù†Ù‚Ø§Ø· (Ù…Ø³Ø§Ø­Ø© Ø«Ù†Ø§Ø¦ÙŠØ© Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯) Ù…Ø¹ Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ù…Ù† 0 Ø¥Ù„Ù‰ 10 Ø¹Ù„Ù‰ Ø·ÙˆÙ„ ÙƒÙ„ Ù…Ø­ÙˆØ±.  Ø£ÙŠØ¶Ù‹Ø§ ØŒ Ù†Ø­Ù† Ù†Ù…Ù†Ø­ ÙƒÙ„ Ù†Ù‚Ø·Ø© ØªÙƒÙ„ÙØ© Ù…Ù† -0.25 Ø¥Ù„Ù‰ 0.25.  Ø§Ù„Ø¢Ù† Ù‚Ù… Ø¨Ø¹Ù…Ù„ Ø­Ù„Ù‚Ø© ÙˆØ§Ø±Ø³Ù… Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆÙÙ‚Ù‹Ø§ Ù„Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª (ÙˆØ§Ù„ØªØªØ¨Ø¹Ø§Øª): <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">X, Y = [], [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">130</span></span>): u.step(<span class="hljs-number"><span class="hljs-number">0.0006</span></span>) xd, yd = zip(*u.gather_coords()) X.extend(xd) Y.extend(yd) plt.figure(figsize=[<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>]) plt.scatter(X, Y) plt.scatter(*zip(*u.gather_coords()), color=<span class="hljs-string"><span class="hljs-string">"orange"</span></span>) plt.show()</code> </pre><br>  Ù…Ø§ ÙƒØ§Ù† ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­Ø¯Ø«: <br><br><img src="https://habrastorage.org/webt/en/px/hm/enpxhmzga54aedh3zunn6vwl9ns.png"><br><br>  ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ ØŒ Ø³ÙŠÙƒÙˆÙ† Ù‡Ù†Ø§Ùƒ Ø±Ø³Ù… Ø¹Ø´ÙˆØ§Ø¦ÙŠ ØªÙ…Ø§Ù…Ù‹Ø§ ØŒ Ù„Ø£Ù† Ù…Ø³Ø§Ø± ÙƒÙ„ Ù†Ù‚Ø·Ø© Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªÙ†Ø¨Ø¤ Ø¨Ù‡ ÙÙŠ Ù„Ø­Ø¸Ø© ØªØ·ÙˆØ± Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§. <br><br><h3 style=";text-align:right;direction:rtl">  Ù†Ø§Ù‚Ù„ Ù…Ø¬Ø§Ù„ Ø§Ù„ØªØµÙˆØ± </h3><br>  ÙƒÙ„ Ø´ÙŠØ¡ Ø¨Ø³ÙŠØ· Ù‡Ù†Ø§.  Ù†Ø­Ù† Ø¨Ø­Ø§Ø¬Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª Ù…Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„Ø®Ø·ÙˆØ© ÙˆØ±Ø³Ù… Ù…ØªØ¬Ù‡ ÙÙŠ ÙƒÙ„ Ù…Ù†Ù‡Ù… ÙÙŠ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµØ­ÙŠØ­. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">fig = plt.figure(figsize=[<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>]) res = [] STEP = <span class="hljs-number"><span class="hljs-number">0.3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> np.arange(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, STEP): <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> np.arange(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, STEP): inten = u.intensity(Vector(x, y)) F = inten.mod() inten /= inten.mod() * <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-comment"><span class="hljs-comment">#     res.append(([x - inten[0] / 2, x + inten[0] / 2], [y - inten[1] / 2, y + inten[1] / 2], F)) for r in res: plt.plot(r[0], r[1], color=(sigm(r[2]), 0.1, 0.8 * (1 - sigm(r[2])))) #        plt.show()</span></span></code> </pre><br>  ØªÙ‚Ø±ÙŠØ¨Ø§ Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³ØªÙ†ØªØ§Ø¬ ÙƒØ§Ù† ÙŠÙ†Ø¨ØºÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„ÙŠÙ‡Ø§. <br><br><img src="https://habrastorage.org/webt/hb/3w/ou/hb3wouiyh8_k5ob-drwfsiezzyu.png"><br><br>  ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø·Ø§Ù„Ø© Ø§Ù„Ù…ØªØ¬Ù‡Ø§Øª Ù†ÙØ³Ù‡Ø§ ØŒ Ø§Ø³ØªØ¨Ø¯Ù„ * 4 Ø¨Ù€ * 1.5: <br><br><img src="https://habrastorage.org/webt/3f/5z/i1/3f5zi1kln7lgmw3l_fwrviuwjpy.png"><br><br><h3 style=";text-align:right;direction:rtl">  Ù†Ø­Ù† Ù†Ù„Ø¹Ø¨ Ù…Ø¹ Ø§Ù„Ø¨Ø¹Ø¯ ÙˆØ§Ù„Ù†Ù…Ø°Ø¬Ø© </h3><br>  Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³Ø§Ø­Ø© Ø«Ù„Ø§Ø«ÙŠØ© Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ Ù…Ø¹ 200 Ù†Ù‚Ø·Ø© ÙˆØªÙØ§Ø¹Ù„ Ù„Ø§ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ù…Ø±Ø¨Ø¹ Ø§Ù„Ù…Ø³Ø§ÙØ© ØŒ ÙˆÙ„ÙƒÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø©. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">u = InteractionField(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> p1, p2, r: <span class="hljs-number"><span class="hljs-number">300000</span></span> * -p1.q * p2.q / (r ** <span class="hljs-number"><span class="hljs-number">4</span></span> + <span class="hljs-number"><span class="hljs-number">0.1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">200</span></span>): u.append(Vector.randvec(<span class="hljs-number"><span class="hljs-number">5</span></span>) * <span class="hljs-number"><span class="hljs-number">10</span></span>, q=random.random() - <span class="hljs-number"><span class="hljs-number">0.5</span></span>)</code> </pre><br>  Ø§Ù„Ø¢Ù† ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø­Ø¯Ø§Ø«ÙŠØ§Øª ÙˆØ§Ù„Ø³Ø±Ø¹Ø§Øª ØŒ ÙˆÙ…Ø§ Ø¥Ù„Ù‰ Ø°Ù„Ùƒ ÙÙŠ Ø®Ù…Ø³Ø© Ø£Ø¨Ø¹Ø§Ø¯.  Ø§Ù„Ø¢Ù† Ø¯Ø¹ÙˆÙ†Ø§ Ù†Ù…Ø«Ù„ Ø´ÙŠØ¦Ù‹Ø§: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">velmod = <span class="hljs-number"><span class="hljs-number">0</span></span> velocities = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>): u.step(<span class="hljs-number"><span class="hljs-number">0.0005</span></span>) velmod = sum([p.speed.mod() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> u.points]) <span class="hljs-comment"><span class="hljs-comment">#       velocities.append(velmod) plt.plot(velocities) plt.show()</span></span></code> </pre><br><img src="https://habrastorage.org/webt/md/ak/v0/mdakv0sa55ytezwm0zxe_i8toss.png"><br><br>  Ù‡Ø°Ø§ Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³Ø±Ø¹Ø§Øª ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª.  ÙƒÙ…Ø§ ØªØ±ÙˆÙ† ØŒ Ù…Ø¹ Ù…Ø±ÙˆØ± Ø§Ù„ÙˆÙ‚Øª ØªØªØ³Ø§Ø±Ø¹ Ø¨Ø¨Ø·Ø¡. <br><br>  Ø­Ø³Ù†Ù‹Ø§ ØŒ Ù„Ù‚Ø¯ ÙƒØ§Ù†Øª Ù‡Ø°Ù‡ ØªØ¹Ù„ÙŠÙ…Ø§Øª Ù‚ØµÙŠØ±Ø© Ø­ÙˆÙ„ ÙƒÙŠÙÙŠØ© ØµÙ†Ø¹ Ø´ÙŠØ¡ Ø¨Ø³ÙŠØ·.  ÙˆÙ„ÙƒÙ† Ù…Ø§Ø°Ø§ ÙŠØ­Ø¯Ø« Ø¥Ø°Ø§ ÙƒÙ†Øª ØªÙ„Ø¹Ø¨ Ù…Ø¹ Ø§Ù„Ø²Ù‡ÙˆØ±: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_iE7qDSQpSI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ÙƒÙ„ Ø±Ù…Ø² Ù…Ø¹ Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vector</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(list)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *el)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> e <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> el: self.append(e) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__add__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] + other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self + other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__sub__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] - other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self - other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__mul__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] * other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self * other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__truediv__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] / other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self / other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__pow__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] ** other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self ** other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__mod__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum((self - other) ** <span class="hljs-number"><span class="hljs-number">2</span></span>) ** <span class="hljs-number"><span class="hljs-number">0.5</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self % Vector.emptyvec(len(self)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dim</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> len(self) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__str__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(self) == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Empty"</span></span> r = [str(i) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"&lt; "</span></span> + <span class="hljs-string"><span class="hljs-string">" "</span></span>.join(r) + <span class="hljs-string"><span class="hljs-string">" &gt;"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_ipython_display_</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> print(str(self)) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">emptyvec</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(lens=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, n=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Vector(*[n <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(lens)]) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">randvec</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dim)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Vector(*[random.random() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(dim)]) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Point</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, coords, mass=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, q=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, speed=None, **properties)</span></span></span><span class="hljs-function">:</span></span> self.coords = coords <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> speed <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: self.speed = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(coords))]) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: self.speed = speed self.acc = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(coords))]) self.mass = mass self.__params__ = [<span class="hljs-string"><span class="hljs-string">"coords"</span></span>, <span class="hljs-string"><span class="hljs-string">"speed"</span></span>, <span class="hljs-string"><span class="hljs-string">"acc"</span></span>, <span class="hljs-string"><span class="hljs-string">"q"</span></span>] + list(properties.keys()) self.q = q <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> prop <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> properties: setattr(self, prop, properties[prop]) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.coords = self.coords + self.speed * dt <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">accelerate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.speed = self.speed + self.acc * dt <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">accinc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, force)</span></span></span><span class="hljs-function">:</span></span> self.acc = self.acc + force / self.mass <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clean_acc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.acc = self.acc * <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__str__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> r = [<span class="hljs-string"><span class="hljs-string">"Point {"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.__params__: r.append(<span class="hljs-string"><span class="hljs-string">" "</span></span> + p + <span class="hljs-string"><span class="hljs-string">" = "</span></span> + str(getattr(self, p))) r += [<span class="hljs-string"><span class="hljs-string">"}"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"\n"</span></span>.join(r) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_ipython_display_</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> print(str(self)) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InteractionField</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, F)</span></span></span><span class="hljs-function">:</span></span> self.points = [] self.F = F <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_all</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: p.move(dt) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">intensity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, coord)</span></span></span><span class="hljs-function">:</span></span> proj = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(coord.dim())]) single_point = Point(Vector(), mass=<span class="hljs-number"><span class="hljs-number">1.0</span></span>, q=<span class="hljs-number"><span class="hljs-number">1.0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> coord % p.coords &lt; <span class="hljs-number"><span class="hljs-number">10</span></span> ** (<span class="hljs-number"><span class="hljs-number">-10</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> d = p.coords % coord fmod = self.F(single_point, p, d) * (<span class="hljs-number"><span class="hljs-number">-1</span></span>) proj = proj + (coord - p.coords) / d * fmod <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> proj <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">step</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.clean_acc() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: p.accinc(self.intensity(p.coords) * pq) p.accelerate(dt) p.move(dt) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clean_acc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: p.clean_acc() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">append</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *args, **kwargs)</span></span></span><span class="hljs-function">:</span></span> self.points.append(Point(*args, **kwargs)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gather_coords</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [p.coords <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points] <span class="hljs-comment"><span class="hljs-comment">#  import matplotlib.pyplot as plt import numpy as np import time #     if False: u = InteractionField(lambda p1, p2, r: 300000 * -p1.q * p2.q / (r ** 2 + 0.1)) for i in range(10): u.append(Vector.randvec(2) * 10, q=(random.random() - 0.5) / 2) X, Y = [], [] for i in range(130): u.step(0.0006) xd, yd = zip(*u.gather_coords()) X.extend(xd) Y.extend(yd) plt.figure(figsize=[8, 8]) plt.scatter(X, Y) plt.scatter(*zip(*u.gather_coords()), color="orange") plt.show() def sigm(x): return 1 / (1 + 1.10 ** (-x/1000)) #    if False: u = InteractionField(lambda p1, p2, r: 300000 * -p1.q * p2.q / (r ** 2 + 0.1)) for i in range(3): u.append(Vector.randvec(2) * 10, q=random.random() - 0.5) fig = plt.figure(figsize=[5, 5]) res = [] STEP = 0.3 for x in np.arange(0, 10, STEP): for y in np.arange(0, 10, STEP): inten = u.intensity(Vector(x, y)) F = inten.mod() inten /= inten.mod() * 1.5 res.append(([x - inten[0] / 2, x + inten[0] / 2], [y - inten[1] / 2, y + inten[1] / 2], F)) for r in res: plt.plot(r[0], r[1], color=(sigm(r[2]), 0.1, 0.8 * (1 - sigm(r[2])))) plt.show() #    5-  if False: u = InteractionField(lambda p1, p2, r: 300000 * -p1.q * p2.q / (r ** 4 + 0.1)) for i in range(200): u.append(Vector.randvec(5) * 10, q=random.random() - 0.5) velmod = 0 velocities = [] for i in range(100): u.step(0.0005) velmod = sum([p.speed.mod() for p in u.points]) velocities.append(velmod) plt.plot(velocities) plt.show()</span></span></code> </pre><br></div></div><br>  Ù…Ù† Ø§Ù„Ù…Ø­ØªÙ…Ù„ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ù‚Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ Ø­ÙˆÙ„ Ø§Ù„Ù†Ù…Ø°Ø¬Ø© Ø§Ù„Ø£ÙƒØ«Ø± ØªØ¹Ù‚ÙŠØ¯Ù‹Ø§ ØŒ ÙˆØ±Ø¨Ù…Ø§ Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø³ÙˆØ§Ø¦Ù„ Ùˆ Navier-Stokes. <br>  Ù…Ø­Ø¯Ø«: Ù…Ù‚Ø§Ù„ ÙƒØªØ¨Ù‡ Ø²Ù…ÙŠÙ„ÙŠ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Ù‡Ù†Ø§</a> <br><br>  Ø¨ÙØ¶Ù„ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">MomoDev</a> Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© ÙÙŠ ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„ÙÙŠØ¯ÙŠÙˆ. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar467803/">https://habr.com/ru/post/ar467803/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar467791/index.html">ØªØ­Ù„ÙŠÙ„ ØªÙ…Ø±ÙŠØ± Ø§Ù„ØµÙØ­Ø© ÙÙŠ Google Data Studio</a></li>
<li><a href="../ar467793/index.html">ÙƒÙˆÙ…Ø© Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ù…Ù…Ù„Ø© Ù…Ù† Ø´Ø±ÙƒØ© Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ø±Ø¬Ù„ ÙˆØ§Ø­Ø¯</a></li>
<li><a href="../ar467795/index.html">Ù…Ù„Ø§Ø­Ø¸Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø´ÙØ±Ø© ÙˆØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø¯ÙˆÙ„Ø©</a></li>
<li><a href="../ar467797/index.html">"Ø§Ø¶Ø­Ùƒ Ù…Ù† Ø£Ø¬Ù„": Ù„Ù…Ø§Ø°Ø§ Ù‚Ø¯ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø£Ø¯ÙˆØ§Øª Ø¨Ø±Ù…Ø¬ÙŠØ© Ù„Ø§ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ØªØ·Ø¨ÙŠÙ‚ "Ù‚ØªØ§Ù„ÙŠ"</a></li>
<li><a href="../ar467801/index.html">Ø£ØªÙ…ØªØ© Ø£ØµØºØ±. Ø§Ù„Ø¬Ø²Ø¡ 1.1. Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©</a></li>
<li><a href="../ar467807/index.html">Ø´Ø±Ø§Ø¡ ÙˆØ¨ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø´ÙØ±Ø© ÙÙŠ Ø±ÙˆØ³ÙŠØ§: Ø§Ù„Ø·Ø±Ù‚ ØŒ Ø§Ù„ØªÙ‚Ù†ÙŠÙ† ØŒ Ø§Ù„Ù…Ø®Ø§Ø·Ø±</a></li>
<li><a href="../ar467811/index.html">Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ø¨Ø±Ù…Ø¬Ø© ÙÙŠØ±ØªØ´Ø§ÙŠÙ„Ø¯ Ø§Ù„Ù‚Ù†Ø§Ø© F</a></li>
<li><a href="../ar467813/index.html">Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø¨Ø§Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø³Ø§Ø¨Ø¹ Ø¹Ø´Ø± Ù„Ù„ FSTEC</a></li>
<li><a href="../ar467815/index.html">Ø£Ø«Ø§Ø±Øª ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù… Ø§Ù„Ø°Ø¹Ø± Ù…Ù† Ø£Ù† "Ø¹Ù†Ø§ÙˆÙŠÙ† IP ØªÙ†ÙØ¯ ÙÙŠ Ø±ÙˆØ³ÙŠØ§". ÙƒÙŠÙ Ø­Ù‚Ø§ØŸ</a></li>
<li><a href="../ar467817/index.html">Ù‚Ù„ÙŠÙ„Ø§ Ø¹Ù† Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„ØªÙˆÙ„ÙŠØ¯ÙŠ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>