<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ค๐ฟ ๐๐พ โ๏ธ ุงููุญุงูุงุฉ ุงูุฃูููุฉ ููุชูุงุนู ุงูุจุฏูู ุงููุฎุตุต ูู ุจูุซูู + ูุงุชุจููุชููุจ ๐ผ ๐ง ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุชุญูุฉ! 

 ูุญู ููุง ูุตู ุนูู ุญูู ูุนูู ุ ุซู ูุตูุน ุจุนุถ ุงูููุฒุงุช ุงูุฌูููุฉ (ูู ุดูุก ุจุณูุท ุฌุฏูุง ููุง). 



 ูุงุฐุง ุณูุญุฏุซ ูู ูุฐุง ุงูููุงู. 

 ุงูุญุงูุฉ ุงูุนุงูุฉ: 



1. ูุตููุง ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุงููุญุงูุงุฉ ุงูุฃูููุฉ ููุชูุงุนู ุงูุจุฏูู ุงููุฎุตุต ูู ุจูุซูู + ูุงุชุจููุชููุจ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/467803/" style=";text-align:right;direction:rtl">  ุชุญูุฉ! <br><br>  ูุญู ููุง ูุตู ุนูู ุญูู ูุนูู ุ ุซู ูุตูุน ุจุนุถ ุงูููุฒุงุช ุงูุฌูููุฉ (ูู ุดูุก ุจุณูุท ุฌุฏูุง ููุง). <br><br><img src="https://habrastorage.org/webt/_u/hj/cw/_uhjcwkdv3vn28vmkcdlvgonnug.png"><br><br>  ูุงุฐุง ุณูุญุฏุซ ูู ูุฐุง ุงูููุงู. <br><br>  ุงูุญุงูุฉ ุงูุนุงูุฉ: <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุตููุง ุงููุงุนุฏุฉ ุ ููู ุงูุนูู ูุน ุงููุชุฌูุงุช (ุฏุฑุงุฌุฉ ููุงุฆูุฉ ูุฃููุฆู ุงูุฐูู ููุณ ูุฏููู ุดุฑูุฑ ูู ูุชูุงูู ุงููุฏ) </li><li style=";text-align:right;direction:rtl">  ูุตููุง ุงูููุทุฉ ุงููุงุฏูุฉ ููุฌุงู ุงูุชูุงุนู </li></ol><br>  ุญุงูุฉ ุฎุงุตุฉ (ุนูู ุฃุณุงุณ ุนุงู): <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> ูููู ุจุชุตูุฑ ูุญูู ุงููุชุฌู ูุดุฏุฉ ุงููุฌุงู ุงูููุฑููุบูุงุทูุณู (ุงูุตูุฑุชุงู ุงูุฃููู ูุงูุซุงูุซุฉ) <br></li><li style=";text-align:right;direction:rtl">  ุณูู ูุชุตูุฑ ุญุฑูุฉ ุงูุฌุฒูุฆุงุช ูู ุงููุฌุงู ุงูููุฑููุบูุงุทูุณู <br></li></ol><br>  ููุงุจูุชู ุชุญุช ุฎูุถ! <br><a name="habracut"></a><br><h1 style=";text-align:right;direction:rtl">  ุจุฑูุฌุฉ ุงูุฎูููุฉ ุงููุธุฑูุฉ </h1><br><h3 style=";text-align:right;direction:rtl">  ุณูู ุงูุชูุฌูู </h3><br>  ุฃุณุงุณ ูู ุงูุฃุณุณ ูู ูุงูู (ูุฎุงุตุฉ ูู ุญุงูุชูุง).  ูุฐูู ุ ูุน ูุตู ุงููุชุฌู ุณูุจุฏุฃ.  ูุงุฐุง ูุญุชุงุฌุ  ุงูุนูููุงุช ุงูุญุณุงุจูุฉ ุนูู ูุงูู ุ ุงููุณุงูุฉ ุ ูุญุฏุฉ ุ ูุงุซููู ูู ุงูุฃุดูุงุก ุงูุชูููุฉ.  ูุงูู ุณูู ูุฑุซ ูู ุงููุงุฆูุฉ.  ููุฐุง ูุจุฏู ุงูุชููุฆุฉ: <br><br><pre style=";text-align:right;direction:rtl"><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vector</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(list)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *el)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> e <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> el: self.append(e)</code> </pre> <br>  ููุฐุง ูู ุ ุงูุขู ูููููุง ุฅูุดุงุก ูุงูู ูุน <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">v = Vector(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>)</code> </pre><br>  ูููู ุจุฅุถุงูุฉ ุนูููุฉ ุญุณุงุจูุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vector</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(list)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__add__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] + other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self + other</code> </pre><br>  ููุชุงุฒ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">v1 = Vector(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) v2 = Vector(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">57</span></span>, <span class="hljs-number"><span class="hljs-number">23.2</span></span>) v1 + v2 &gt;&gt;&gt; [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">59</span></span>, <span class="hljs-number"><span class="hljs-number">26.2</span></span>]</code> </pre><br>  ูุญุฏุฏ ุจุงููุซู ุฌููุน ุงูุนูููุงุช ุงูุญุณุงุจูุฉ (ุงูููุฏ ุงููุงูู ูููุชุฌู ุณูููู ุฃูู).  ุฃูุช ุงูุขู ุจุญุงุฌุฉ ุฅูู ูุธููุฉ ุงููุณุงูุฉ.  ูููู ุฃู ุฃููู ุจุชูุณูู ุฑููู (ุงูุฅุตุฏุงุฑ 1 ุ ุงูุฅุตุฏุงุฑ 2) - ููู ูุฐุง ููุณ ุฌููููุง ุ ูุฐุง ุฃุนุฏ ุชุญุฏูุฏ ุนุงูู ุงูุชุดุบูููช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vector</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(list)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__mod__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum((self - other) ** <span class="hljs-number"><span class="hljs-number">2</span></span>) ** <span class="hljs-number"><span class="hljs-number">0.5</span></span></code> </pre><br>  ููุชุงุฒ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">v1 = Vector(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) v2 = Vector(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">57</span></span>, <span class="hljs-number"><span class="hljs-number">23.2</span></span>) v1 % v2 &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">58.60068258988115</span></span></code> </pre><br>  ูุญุชุงุฌ ุฃูุถูุง ุฅูู ุทุฑููุชูู ูุชูููุฏ ูุงููุงุช ุฃุณุฑุน ูุฅุฎุฑุงุฌ ุฌููู.  ูุง ููุฌุฏ ุดูุก ุตุนุจ ููุง ุ ูุฐูู ููุฌุฏ ุฑูุฒ ูุฆุฉ Vector ุจุฃูููู: <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุฌููุน ุงููุชุฌูุงุช ุฑูุฒ ุงููุฆุฉ</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vector</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(list)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *el)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> e <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> el: self.append(e) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__add__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] + other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self + other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__sub__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] - other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self - other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__mul__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] * other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self * other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__truediv__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] / other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self / other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__pow__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] ** other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self ** other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__mod__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum((self - other) ** <span class="hljs-number"><span class="hljs-number">2</span></span>) ** <span class="hljs-number"><span class="hljs-number">0.5</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self % Vector.emptyvec(len(self)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dim</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> len(self) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__str__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(self) == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Empty"</span></span> r = [str(i) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"&lt; "</span></span> + <span class="hljs-string"><span class="hljs-string">" "</span></span>.join(r) + <span class="hljs-string"><span class="hljs-string">" &gt;"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_ipython_display_</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> print(str(self)) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">emptyvec</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(lens=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, n=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Vector(*[n <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(lens)]) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">randvec</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dim)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Vector(*[random.random() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(dim)])</code> </pre><br></div></div><br><h3 style=";text-align:right;direction:rtl">  ููุทุฉ ุงูููุงุฏ </h3><br>  ููุง ุ ูู ุงููุงุญูุฉ ุงููุธุฑูุฉ ุ ูู ุดูุก ุจุณูุท - ุงูููุทุฉ ุชุญุชูู ุนูู ุงูุฅุญุฏุงุซูุงุช ูุงูุณุฑุนุฉ ูุงูุชุณุงุฑุน (ููุจุณุงุทุฉ).  ุจุงูุฅุถุงูุฉ ุฅูู ุฐูู ุ ูุฏููุง ูุชูุฉ ููุฌููุนุฉ ูู ุงููุนููุงุช ุงููุฎุตุตุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ุจุงููุณุจุฉ ููุญูู ุงูููุฑููุบูุงุทูุณู ุ ูุฅู ุงูุดุญูุฉ ูุง ุชุคุฐููุง ุ ููู ูุง ุฃุญุฏ ูุฒุนุฌู ูุชุนููู ุญุชู ุชุฏูุฑ). <br><br>  ุงูุชููุฆุฉ ุณุชููู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Point</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, coords, mass=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, q=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params"> speed=None, **properties)</span></span></span><span class="hljs-function">:</span></span> self.coords = coords <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> speed <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: self.speed = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(coords))]) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: self.speed = speed self.acc = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(coords))]) self.mass = mass self.__params__ = [<span class="hljs-string"><span class="hljs-string">"coords"</span></span>, <span class="hljs-string"><span class="hljs-string">"speed"</span></span>, <span class="hljs-string"><span class="hljs-string">"acc"</span></span>, <span class="hljs-string"><span class="hljs-string">"q"</span></span>] + list(properties.keys()) self.q = q <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> prop <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> properties: setattr(self, prop, properties[prop])</code> </pre><br>  ููู ุฃุฌู ุชุญุฑูู ูุฌูุฉ ูุธุฑูุง ูุชุณุฑูุนูุง ูุชุณุฑูุนูุง ุ ุณููุชุจ ุงูุทุฑู ุงูุชุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Point</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.coords = self.coords + self.speed * dt <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">accelerate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.speed = self.speed + self.acc * dt <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">accinc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, force)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#        self.acc = self.acc + force / self.mass def clean_acc(self): self.acc = self.acc * 0</span></span></code> </pre><br>  ุฃุญุณูุช ุ ุงูููุทุฉ ููุณูุง ูู ุงูููุงู ุจู. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ููุฏ ุงูููุทุฉ (ูุน ุงูุฅุฎุฑุงุฌ ูุทููุฉ)</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Point</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, coords, mass=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, q=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params"> speed=None, **properties)</span></span></span><span class="hljs-function">:</span></span> self.coords = coords <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> speed <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: self.speed = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(coords))]) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: self.speed = speed self.acc = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(coords))]) self.mass = mass self.__params__ = [<span class="hljs-string"><span class="hljs-string">"coords"</span></span>, <span class="hljs-string"><span class="hljs-string">"speed"</span></span>, <span class="hljs-string"><span class="hljs-string">"acc"</span></span>, <span class="hljs-string"><span class="hljs-string">"q"</span></span>] + list(properties.keys()) self.q = q <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> prop <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> properties: setattr(self, prop, properties[prop]) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.coords = self.coords + self.speed * dt <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">accelerate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.speed = self.speed + self.acc * dt <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">accinc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, force)</span></span></span><span class="hljs-function">:</span></span> self.acc = self.acc + force / self.mass <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clean_acc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.acc = self.acc * <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__str__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> r = [<span class="hljs-string"><span class="hljs-string">"Point {"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.__params__: r.append(<span class="hljs-string"><span class="hljs-string">" "</span></span> + p + <span class="hljs-string"><span class="hljs-string">" = "</span></span> + str(getattr(self, p))) r += [<span class="hljs-string"><span class="hljs-string">"}"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"\n"</span></span>.join(r) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_ipython_display_</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> print(str(self))</code> </pre><br>  ุงููุชูุฌุฉ: <br><img src="https://habrastorage.org/webt/gu/p2/hv/gup2hvuve_ty_bblqsaceemz4iw.png"><br></div></div><br><h3 style=";text-align:right;direction:rtl">  ูุฌุงู ุงูุชูุงุนู </h3><br>  ูุญู ูุณูู ูุฌุงู ุงูุชูุงุนู ูุงุฆูุงู ูุชุถูู ูุฌููุนุฉ ูู ุฌููุน ุงูููุงุท ุงููุงุฏูุฉ ูููุงุฑุณ ุงูููุฉ ุนูููุง.  ุณููุธุฑ ูู ุญุงูุฉ ุฎุงุตุฉ ูููููุง ุงูุฑุงุฆุน ุ ูุฐูู ุณูููู ูุฏููุง ุชูุงุนู ูุฎุตุต ูุงุญุฏ (ุจุงูุทุจุน ุ ูุฐุง ุณูู ุงูุชูุณูุน).  ุฃุนูู ุงูููุดุฆ ูุฃุถู ููุทุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InteractionField</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, F)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment"># F -   , F(p1, p2, r), p1, p2 - , r -    self.points = [] self.F = F def append(self, *args, **kwargs): self.points.append(Point(*args, **kwargs))</span></span></code> </pre><br>  ุงูุขู ุงูุฌุฒุก ุงูููุชุน ูู ุงูุฅุนูุงู ุนู ูุธููุฉ ุชุนูุฏ "ุงูุชูุชุฑ" ูู ุชูู ุงููุฑุญูุฉ.  ุนูู ุงูุฑุบู ูู ุฃู ูุฐุง ุงูููููู ูุดูุฑ ุฅูู ุงูุชูุงุนู ุงูููุฑููุบูุงุทูุณู ุ ูุฅูู ูู ุญุงูุชูุง ูู ุจุนุถ ุงููุชุฌูุงุช ุงููุฌุฑุฏุฉ ุงูุชู ุณูุนูู ุนูู ุชุญุฑูููุง.  ูู ูุฐู ุงูุญุงูุฉ ุ ุณูููู ูุฏููุง ุฎุงุตูุฉ ุงูููุทุฉ q ุ ูู ุงูุญุงูุฉ ุงููุนููุฉ - ุชูููุฉ ุงูููุทุฉ (ุจุดูู ุนุงู - ูู ูุง ูุฑูุฏ ุ ุญุชู ุงูููุฌู).  ุฅุฐู ูุง ูู ุงูุชูุชุฑ ุนูุฏ ุงูููุทุฉ Cุ  ุดูุก ูุซู ูุฐุง: <br><br><p style=";text-align:right;direction:rtl"></p><p style=";text-align:right;direction:rtl"><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>E</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>C</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><msub><mi>F</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>C</mi><mo stretchy=&quot;false&quot;>)</mo></mrow></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="34.555ex" height="2.66ex" viewBox="0 -832 14877.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-45" x="1635" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMAIN-28" x="2400" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-76" x="3039" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-65" x="3525" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-63" x="3991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-43" x="4425" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMAIN-29" x="5185" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMAIN-3D" x="5852" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-73" x="7159" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-75" x="7628" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-6D" x="8201" y="0"></use><g transform="translate(9079,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-63" x="1202" y="0"></use><g transform="translate(1635,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-69" x="910" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMAIN-28" x="2623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-76" x="3262" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-65" x="3748" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-63" x="4214" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-43" x="4648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMAIN-29" x="5408" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>E</mi><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>C</mi><mo stretchy="false">)</mo><mo>=</mo><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><msub><mi>F</mi><mi>i</mi></msub><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>C</mi><mo stretchy="false">)</mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> \ vec E (\ vec C) = \ sum {\ vec F_i (\ vec C)} </script></p><br><br>  ููุฐุง ูู ุ ูุงูุชูุชุฑ ูู ูุฐู ุงููุฑุญูุฉ <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>C</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.565ex" height="2.057ex" viewBox="0 -780.1 2396 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-43" x="1635" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>C</mi></math></span></span><script type="math/tex" id="MathJax-Element-2"> \ vec C </script>  ูุณุงูู ูุฌููุน ููู ุฌููุน ุงูููุงุท ุงููุงุฏูุฉ ุงูุชู ุชุนูู ุนูู ููุทุฉ ูุญุฏุฉ ูุนููุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InteractionField</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">intensity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, coord)</span></span></span><span class="hljs-function">:</span></span> proj = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(coord.dim())]) single_point = Point(Vector(), mass=<span class="hljs-number"><span class="hljs-number">1.0</span></span>, q=<span class="hljs-number"><span class="hljs-number">1.0</span></span>) <span class="hljs-comment"><span class="hljs-comment">#       (   ,       F,      ) for p in self.points: if coord % p.coords &lt; 10 ** (-10): #      ,        ,   ,     (  ) continue d = p.coords % coord fmod = self.F(single_point, p, d) * (-1) #    -  proj = proj + (coord - p.coords) / d * fmod #  return proj</span></span></code> </pre><br>  ูู ูุฐู ุงููุฑุญูุฉ ุ ููููู ุจุงููุนู ุฑุณู ุญูู ูุชุฌู ุ ููููุง ุณููุนูู ูู ุงูููุงูุฉ.  ุงูุขู ููุฃุฎุฐ ุฎุทูุฉ ูู ุชูุงุนููุง <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InteractionField</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">step</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.clean_acc() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: p.accinc(self.intensity(p.coords) * pq) p.accelerate(dt) p.move(dt)</code> </pre><br>  ูู ุดูุก ุจุณูุท ููุง.  ููู ููุทุฉ ุ ูุญุฏุฏ ุงูุชูุชุฑ ูู ูุฐู ุงูุฅุญุฏุงุซูุงุช ููู ุซู ุชุญุฏูุฏ ุงูููุฉ ุงูููุงุฆูุฉ ุนูู ููุทุฉ ุงูููุงุฏ ETU: <br><br><p style=";text-align:right;direction:rtl"></p><p style=";text-align:right;direction:rtl"><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>F</mi><mo>=</mo><mtext>&amp;#xA0;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>E</mi><mo>&amp;#x2217;</mo><mi>q</mi></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.476ex" height="2.419ex" viewBox="0 -780.1 7524.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-46" x="1635" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMAIN-3D" x="2662" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-76" x="3969" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-65" x="4454" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-63" x="4921" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-45" x="5354" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMAIN-2217" x="6341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=https://habr.com/ru/post/467803/&amp;usg=ALkJrhgWtnq3a9OCqG3dd2dzfLv3TceAGA#MJMATHI-71" x="7064" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>F</mi><mo>=</mo><mtext>&nbsp;</mtext><mi>v</mi><mi>e</mi><mi>c</mi><mi>E</mi><mo>โ</mo><mi>q</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> \ vec F = \ vec E * q </script></p><br><br>  ุชุญุฏูุฏ ุงููุธุงุฆู ุงูููููุฏุฉ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูู ุฑูุฒ InteractionField</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InteractionField</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, F)</span></span></span><span class="hljs-function">:</span></span> self.points = [] self.F = F <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_all</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: p.move(dt) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">intensity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, coord)</span></span></span><span class="hljs-function">:</span></span> proj = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(coord.dim())]) single_point = Point(Vector(), mass=<span class="hljs-number"><span class="hljs-number">1.0</span></span>, q=<span class="hljs-number"><span class="hljs-number">1.0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> coord % p.coords &lt; <span class="hljs-number"><span class="hljs-number">10</span></span> ** (<span class="hljs-number"><span class="hljs-number">-10</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> d = p.coords % coord fmod = self.F(single_point, p, d) * (<span class="hljs-number"><span class="hljs-number">-1</span></span>) proj = proj + (coord - p.coords) / d * fmod <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> proj <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">step</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.clean_acc() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: p.accinc(self.intensity(p.coords) * pq) p.accelerate(dt) p.move(dt) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clean_acc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: p.clean_acc() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">append</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *args, **kwargs)</span></span></span><span class="hljs-function">:</span></span> self.points.append(Point(*args, **kwargs)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gather_coords</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [p.coords <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points]</code> </pre><br></div></div><br><h1 style=";text-align:right;direction:rtl">  ุญุงูุฉ ุฎุงุตุฉ.  ุญุฑูุฉ ุงูุฌุณููุงุช ูุงูุชุตูุฑ ูุฌุงู ูุงููุงุช </h1><br>  ูุฐูู ูุตููุง ุฅูู ุงูุฃูุซุฑ ุฅุซุงุฑุฉ ููุงูุชูุงู.  ููุจุฏุฃ ุจู ... <br><br><h3 style=";text-align:right;direction:rtl">  ููุฐุฌุฉ ุญุฑูุฉ ุงูุฌุฒูุฆุงุช ูู ุงููุฌุงู ุงูููุฑููุบูุงุทูุณู </h3><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">u = InteractionField(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> p1, p2, r: <span class="hljs-number"><span class="hljs-number">300000</span></span> * -p1.q * p2.q / (r ** <span class="hljs-number"><span class="hljs-number">2</span></span> + <span class="hljs-number"><span class="hljs-number">0.1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">3</span></span>): u.append(Vector.randvec(<span class="hljs-number"><span class="hljs-number">2</span></span>) * <span class="hljs-number"><span class="hljs-number">10</span></span>, q=random.random() - <span class="hljs-number"><span class="hljs-number">0.5</span></span>)</code> </pre><br>  ูู ุงููุงูุน ุ ูุฌุจ ุฃู ูููู ุงููุนุงูู k ูุณุงููุง ูููุน ุงููููุงุฑุงุช (9 * 10 ^ (- 9)) ุ ููู ุจูุง ุฃูู ุณูุชู ุฅุฎูุงุฏู ุจุญููู ุงูููุช t -&gt; 0 ุ ููุฏ ูุฑุฑุช ุนูู ุงูููุฑ ุฌุนู ูู ููููุง ุฃุนุฏุงุฏูุง ูุงููุฉ.  ูุฐูู ุ ูู ุงูููุฒูุงุก ูุฏููุง ู = 300'000.  ููุน ูู ุดูุก ุขุฎุฑ ุ ุฃุนุชูุฏ ุฃูู ูุงุถุญ. <br><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุต ** 2 + 0.1</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><br>  - ูุฐุง ูู ุชุฌูุจ ุงููุณูุฉ ุนูู 0. ุจุงูุทุจุน ุ ูููููุง ุงูุฎูุท ุ ููุญู ูุธุงููุง ูุจูุฑูุง ูู ุงูุงุฎุชูุงูุงุช ุ ููู ุฃููุงู ูุง ุชูุฌุฏ ูุนุงุฏูุฉ ููุญุฑูุฉ ูุฃูุซุฑ ูู ุฌุซุชูู ุ ูุซุงููุงู ูุง ูุชู ุชุถููู ุฐูู ุจูุถูุญ ูู ููููู "ููุงูุฉ ูููุจุชุฏุฆูู" <br></div></div><br>  ุจุนุฏ ุฐูู ุ ูุถูู ุนุดุฑ ููุงุท (ูุณุงุญุฉ ุซูุงุฆูุฉ ุงูุฃุจุนุงุฏ) ูุน ุฅุญุฏุงุซูุงุช ูู 0 ุฅูู 10 ุนูู ุทูู ูู ูุญูุฑ.  ุฃูุถูุง ุ ูุญู ูููุญ ูู ููุทุฉ ุชูููุฉ ูู -0.25 ุฅูู 0.25.  ุงูุขู ูู ุจุนูู ุญููุฉ ูุงุฑุณู ุงูููุงุท ููููุง ููุฅุญุฏุงุซูุงุช (ูุงูุชุชุจุนุงุช): <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">X, Y = [], [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">130</span></span>): u.step(<span class="hljs-number"><span class="hljs-number">0.0006</span></span>) xd, yd = zip(*u.gather_coords()) X.extend(xd) Y.extend(yd) plt.figure(figsize=[<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>]) plt.scatter(X, Y) plt.scatter(*zip(*u.gather_coords()), color=<span class="hljs-string"><span class="hljs-string">"orange"</span></span>) plt.show()</code> </pre><br>  ูุง ูุงู ูุฌุจ ุฃู ูุญุฏุซ: <br><br><img src="https://habrastorage.org/webt/en/px/hm/enpxhmzga54aedh3zunn6vwl9ns.png"><br><br>  ูู ุงููุงูุน ุ ุณูููู ููุงู ุฑุณู ุนุดูุงุฆู ุชูุงููุง ุ ูุฃู ูุณุงุฑ ูู ููุทุฉ ูุง ูููู ุงูุชูุจุค ุจู ูู ูุญุธุฉ ุชุทูุฑ ุงููููุงูููุง. <br><br><h3 style=";text-align:right;direction:rtl">  ูุงูู ูุฌุงู ุงูุชุตูุฑ </h3><br>  ูู ุดูุก ุจุณูุท ููุง.  ูุญู ุจุญุงุฌุฉ ุฅูู ุงูุฐูุงุจ ูู ุฎูุงู ุงูุฅุญุฏุงุซูุงุช ูุน ุจุนุถ ุงูุฎุทูุฉ ูุฑุณู ูุชุฌู ูู ูู ูููู ูู ุงูุงุชุฌุงู ุงูุตุญูุญ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">fig = plt.figure(figsize=[<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>]) res = [] STEP = <span class="hljs-number"><span class="hljs-number">0.3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> np.arange(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, STEP): <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> y <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> np.arange(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, STEP): inten = u.intensity(Vector(x, y)) F = inten.mod() inten /= inten.mod() * <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-comment"><span class="hljs-comment">#     res.append(([x - inten[0] / 2, x + inten[0] / 2], [y - inten[1] / 2, y + inten[1] / 2], F)) for r in res: plt.plot(r[0], r[1], color=(sigm(r[2]), 0.1, 0.8 * (1 - sigm(r[2])))) #        plt.show()</span></span></code> </pre><br>  ุชูุฑูุจุง ูุฐุง ุงูุงุณุชูุชุงุฌ ูุงู ููุจุบู ุงูุญุตูู ุนูููุง. <br><br><img src="https://habrastorage.org/webt/hb/3w/ou/hb3wouiyh8_k5ob-drwfsiezzyu.png"><br><br>  ููููู ุฅุทุงูุฉ ุงููุชุฌูุงุช ููุณูุง ุ ุงุณุชุจุฏู * 4 ุจู * 1.5: <br><br><img src="https://habrastorage.org/webt/3f/5z/i1/3f5zi1kln7lgmw3l_fwrviuwjpy.png"><br><br><h3 style=";text-align:right;direction:rtl">  ูุญู ููุนุจ ูุน ุงูุจุนุฏ ูุงูููุฐุฌุฉ </h3><br>  ุฅูุดุงุก ูุณุงุญุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ูุน 200 ููุทุฉ ูุชูุงุนู ูุง ูุนุชูุฏ ุนูู ูุฑุจุน ุงููุณุงูุฉ ุ ูููู ุนูู ุงูุฏุฑุฌุฉ ุงูุฑุงุจุนุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">u = InteractionField(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> p1, p2, r: <span class="hljs-number"><span class="hljs-number">300000</span></span> * -p1.q * p2.q / (r ** <span class="hljs-number"><span class="hljs-number">4</span></span> + <span class="hljs-number"><span class="hljs-number">0.1</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">200</span></span>): u.append(Vector.randvec(<span class="hljs-number"><span class="hljs-number">5</span></span>) * <span class="hljs-number"><span class="hljs-number">10</span></span>, q=random.random() - <span class="hljs-number"><span class="hljs-number">0.5</span></span>)</code> </pre><br>  ุงูุขู ูุชู ุชุญุฏูุฏ ุฌููุน ุงูุฅุญุฏุงุซูุงุช ูุงูุณุฑุนุงุช ุ ููุง ุฅูู ุฐูู ูู ุฎูุณุฉ ุฃุจุนุงุฏ.  ุงูุขู ุฏุนููุง ููุซู ุดูุฆูุง: <br><br><pre style=";text-align:right;direction:rtl"> <code class="python hljs">velmod = <span class="hljs-number"><span class="hljs-number">0</span></span> velocities = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(<span class="hljs-number"><span class="hljs-number">100</span></span>): u.step(<span class="hljs-number"><span class="hljs-number">0.0005</span></span>) velmod = sum([p.speed.mod() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> u.points]) <span class="hljs-comment"><span class="hljs-comment">#       velocities.append(velmod) plt.plot(velocities) plt.show()</span></span></code> </pre><br><img src="https://habrastorage.org/webt/md/ak/v0/mdakv0sa55ytezwm0zxe_i8toss.png"><br><br>  ูุฐุง ุฑุณู ุจูุงูู ููุฌููุน ุฌููุน ุงูุณุฑุนุงุช ูู ุฃู ููุช.  ููุง ุชุฑูู ุ ูุน ูุฑูุฑ ุงูููุช ุชุชุณุงุฑุน ุจุจุทุก. <br><br>  ุญุณููุง ุ ููุฏ ูุงูุช ูุฐู ุชุนูููุงุช ูุตูุฑุฉ ุญูู ููููุฉ ุตูุน ุดูุก ุจุณูุท.  ูููู ูุงุฐุง ูุญุฏุซ ุฅุฐุง ููุช ุชูุนุจ ูุน ุงูุฒููุฑ: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/_iE7qDSQpSI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ูู ุฑูุฒ ูุน ุงูุชุฌุฑูุจู</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vector</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(list)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *el)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> e <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> el: self.append(e) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__add__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] + other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self + other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__sub__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] - other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self - other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__mul__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] * other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self * other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__truediv__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] / other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self / other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__pow__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> type(other) <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> Vector: <span class="hljs-keyword"><span class="hljs-keyword">assert</span></span> len(self) == len(other), <span class="hljs-string"><span class="hljs-string">"Error 0"</span></span> r = Vector() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(self)): r.append(self[i] ** other[i]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> r <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: other = Vector.emptyvec(lens=len(self), n=other) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self ** other <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__mod__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, other)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum((self - other) ** <span class="hljs-number"><span class="hljs-number">2</span></span>) ** <span class="hljs-number"><span class="hljs-number">0.5</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self % Vector.emptyvec(len(self)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dim</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> len(self) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__str__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(self) == <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"Empty"</span></span> r = [str(i) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"&lt; "</span></span> + <span class="hljs-string"><span class="hljs-string">" "</span></span>.join(r) + <span class="hljs-string"><span class="hljs-string">" &gt;"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_ipython_display_</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> print(str(self)) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">emptyvec</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(lens=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span><span class="hljs-function"><span class="hljs-params">, n=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Vector(*[n <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(lens)]) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">randvec</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(dim)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Vector(*[random.random() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(dim)]) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Point</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, coords, mass=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, q=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, speed=None, **properties)</span></span></span><span class="hljs-function">:</span></span> self.coords = coords <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> speed <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>: self.speed = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(coords))]) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: self.speed = speed self.acc = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(len(coords))]) self.mass = mass self.__params__ = [<span class="hljs-string"><span class="hljs-string">"coords"</span></span>, <span class="hljs-string"><span class="hljs-string">"speed"</span></span>, <span class="hljs-string"><span class="hljs-string">"acc"</span></span>, <span class="hljs-string"><span class="hljs-string">"q"</span></span>] + list(properties.keys()) self.q = q <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> prop <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> properties: setattr(self, prop, properties[prop]) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.coords = self.coords + self.speed * dt <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">accelerate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.speed = self.speed + self.acc * dt <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">accinc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, force)</span></span></span><span class="hljs-function">:</span></span> self.acc = self.acc + force / self.mass <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clean_acc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.acc = self.acc * <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__str__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> r = [<span class="hljs-string"><span class="hljs-string">"Point {"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.__params__: r.append(<span class="hljs-string"><span class="hljs-string">" "</span></span> + p + <span class="hljs-string"><span class="hljs-string">" = "</span></span> + str(getattr(self, p))) r += [<span class="hljs-string"><span class="hljs-string">"}"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"\n"</span></span>.join(r) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_ipython_display_</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> print(str(self)) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InteractionField</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, F)</span></span></span><span class="hljs-function">:</span></span> self.points = [] self.F = F <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move_all</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: p.move(dt) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">intensity</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, coord)</span></span></span><span class="hljs-function">:</span></span> proj = Vector(*[<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(coord.dim())]) single_point = Point(Vector(), mass=<span class="hljs-number"><span class="hljs-number">1.0</span></span>, q=<span class="hljs-number"><span class="hljs-number">1.0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> coord % p.coords &lt; <span class="hljs-number"><span class="hljs-number">10</span></span> ** (<span class="hljs-number"><span class="hljs-number">-10</span></span>): <span class="hljs-keyword"><span class="hljs-keyword">continue</span></span> d = p.coords % coord fmod = self.F(single_point, p, d) * (<span class="hljs-number"><span class="hljs-number">-1</span></span>) proj = proj + (coord - p.coords) / d * fmod <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> proj <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">step</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, dt)</span></span></span><span class="hljs-function">:</span></span> self.clean_acc() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: p.accinc(self.intensity(p.coords) * pq) p.accelerate(dt) p.move(dt) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clean_acc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points: p.clean_acc() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">append</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, *args, **kwargs)</span></span></span><span class="hljs-function">:</span></span> self.points.append(Point(*args, **kwargs)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gather_coords</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [p.coords <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> p <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.points] <span class="hljs-comment"><span class="hljs-comment">#  import matplotlib.pyplot as plt import numpy as np import time #     if False: u = InteractionField(lambda p1, p2, r: 300000 * -p1.q * p2.q / (r ** 2 + 0.1)) for i in range(10): u.append(Vector.randvec(2) * 10, q=(random.random() - 0.5) / 2) X, Y = [], [] for i in range(130): u.step(0.0006) xd, yd = zip(*u.gather_coords()) X.extend(xd) Y.extend(yd) plt.figure(figsize=[8, 8]) plt.scatter(X, Y) plt.scatter(*zip(*u.gather_coords()), color="orange") plt.show() def sigm(x): return 1 / (1 + 1.10 ** (-x/1000)) #    if False: u = InteractionField(lambda p1, p2, r: 300000 * -p1.q * p2.q / (r ** 2 + 0.1)) for i in range(3): u.append(Vector.randvec(2) * 10, q=random.random() - 0.5) fig = plt.figure(figsize=[5, 5]) res = [] STEP = 0.3 for x in np.arange(0, 10, STEP): for y in np.arange(0, 10, STEP): inten = u.intensity(Vector(x, y)) F = inten.mod() inten /= inten.mod() * 1.5 res.append(([x - inten[0] / 2, x + inten[0] / 2], [y - inten[1] / 2, y + inten[1] / 2], F)) for r in res: plt.plot(r[0], r[1], color=(sigm(r[2]), 0.1, 0.8 * (1 - sigm(r[2])))) plt.show() #    5-  if False: u = InteractionField(lambda p1, p2, r: 300000 * -p1.q * p2.q / (r ** 4 + 0.1)) for i in range(200): u.append(Vector.randvec(5) * 10, q=random.random() - 0.5) velmod = 0 velocities = [] for i in range(100): u.step(0.0005) velmod = sum([p.speed.mod() for p in u.points]) velocities.append(velmod) plt.plot(velocities) plt.show()</span></span></code> </pre><br></div></div><br>  ูู ุงููุญุชูู ุฃู ูููู ุงูููุงู ุงูุชุงูู ุญูู ุงูููุฐุฌุฉ ุงูุฃูุซุฑ ุชุนููุฏูุง ุ ูุฑุจูุง ูุนุงุฏูุงุช ุงูุณูุงุฆู ู Navier-Stokes. <br>  ูุญุฏุซ: ููุงู ูุชุจู ุฒูููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> <br><br>  ุจูุถู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" class="user_link">MomoDev</a> ูููุณุงุนุฏุฉ ูู ุชูุฏูู ุงูููุฏูู. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar467803/">https://habr.com/ru/post/ar467803/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar467791/index.html">ุชุญููู ุชูุฑูุฑ ุงูุตูุญุฉ ูู Google Data Studio</a></li>
<li><a href="../ar467793/index.html">ูููุฉ ุงูุชูููููุฌูุง ูููุฉ ูู ุดุฑูุฉ ุงูุฅูุชุฑูุช ุฑุฌู ูุงุญุฏ</a></li>
<li><a href="../ar467795/index.html">ููุงุญุธุฉ ุนูู ุงูุนููุงุช ุงููุดูุฑุฉ ูุชูุธูู ุงูุฏููุฉ</a></li>
<li><a href="../ar467797/index.html">"ุงุถุญู ูู ุฃุฌู": ููุงุฐุง ูุฏ ุชุญุชุงุฌ ุฅูู ุฃุฏูุงุช ุจุฑูุฌูุฉ ูุง ุชุญุชูู ุนูู ุชุทุจูู "ูุชุงูู"</a></li>
<li><a href="../ar467801/index.html">ุฃุชูุชุฉ ุฃุตุบุฑ. ุงูุฌุฒุก 1.1. ุฃุณุงุณูุงุช ุงููุญุงูุงุฉ ุงูุงูุชุฑุงุถูุฉ</a></li>
<li><a href="../ar467807/index.html">ุดุฑุงุก ูุจูุน ุงูุนููุงุช ุงููุดูุฑุฉ ูู ุฑูุณูุง: ุงูุทุฑู ุ ุงูุชูููู ุ ุงููุฎุงุทุฑ</a></li>
<li><a href="../ar467811/index.html">ุงูููุฏุณุฉ ุงููุนูุงุฑูุฉ ูุงูุจุฑูุฌุฉ ููุฑุชุดุงููุฏ ุงูููุงุฉ F</a></li>
<li><a href="../ar467813/index.html">ูุฑุงุฌุนุฉ ุงูุชุบููุฑุงุช ุจุงูุชุฑุชูุจ ุงูุณุงุจุน ุนุดุฑ ูู FSTEC</a></li>
<li><a href="../ar467815/index.html">ุฃุซุงุฑุช ูุณุงุฆู ุงูุฅุนูุงู ุงูุฐุนุฑ ูู ุฃู "ุนูุงููู IP ุชููุฏ ูู ุฑูุณูุง". ููู ุญูุงุ</a></li>
<li><a href="../ar467817/index.html">ููููุง ุนู ุฃููุงุท ุงูุชุตููู ุงูุชูููุฏู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>