<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚼 👼🏼 👩‍🌾 Arrête de mettre la diode 🛣️ 👩‍👩‍👧‍👦 🤙🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Non, ce n'est pas un autre «pour toujours»
 
 Après avoir lu l' article sur la protection des circuits électriques contre une polarité de puissance in...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arrête de mettre la diode</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/397323/"><img src="https://habrastorage.org/files/85e/850/9c7/85e8509c767744c4b1d27f6729a89d8e.jpg" width="100%"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Non, ce n'est pas un autre «pour toujours»</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Après avoir lu l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur la protection des circuits électriques contre une polarité de puissance incorrecte à l'aide d'un transistor à effet de champ, je me suis souvenu que j'avais depuis longtemps un problème non résolu de déconnecter automatiquement la batterie du chargeur lorsque celui-ci était hors tension. Et j'étais curieux de savoir s'il serait possible d'appliquer une approche similaire dans un autre cas, où depuis des temps immémoriaux une diode était également utilisée comme élément d'arrêt.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cet article est un guide typique du cyclisme, </font><font style="vertical-align: inherit;">parle du développement d'un circuit dont la fonctionnalité a longtemps été implémentée dans des millions d'appareils finis. </font><font style="vertical-align: inherit;">Par conséquent, la demande ne s'applique pas à ce matériel, comme à quelque chose de complètement utilitaire. </font><font style="vertical-align: inherit;">Il s'agit plutôt d'une histoire sur la naissance d'un appareil électronique: de la prise de conscience du besoin à un prototype fonctionnel à travers tous les obstacles.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi tout ça?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de la sauvegarde d'une source d'alimentation CC basse tension, la façon la plus simple d'allumer une batterie au plomb est de l'utiliser comme tampon, juste parallèle à la source réseau, comme cela a été fait dans les voitures avant qu'elles n'aient un cerveau complexe. </font><font style="vertical-align: inherit;">La batterie, bien qu'elle ne fonctionne pas dans le mode le plus optimal, est toujours chargée et ne nécessite aucune commutation d'alimentation lors de la déconnexion ou de la mise sous tension du secteur à l'entrée PSU. </font><font style="vertical-align: inherit;">Plus en détail sur certains problèmes d'une telle inclusion et essayons de les résoudre.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contexte</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a une vingtaine d'années, une telle question n'était pas à l'ordre du jour. La raison en était le circuit d'une alimentation réseau typique (ou chargeur), qui empêchait la batterie de se décharger sur son circuit de sortie lorsque la tension secteur était coupée. Regardons le schéma de blocs le plus simple avec rectification demi-onde:</font></font><br>
<br>
<img src="https://habrastorage.org/files/767/e02/81b/767e0281bfad4c189c50c699bbb0d166.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est évident que la même diode qui rectifie la tension alternative de l'enroulement secteur empêchera également la batterie de se décharger sur l'enroulement secondaire du transformateur lorsque la tension secteur est déconnectée. Le circuit en pont demi-onde du redresseur, malgré un peu moins évident, a exactement les mêmes propriétés. Et même l'utilisation d'un stabilisateur de tension paramétrique avec un amplificateur de courant (comme la puce 7812 répandue et ses analogues) ne change pas la situation: en </font></font><br>
<br>
<img src="https://habrastorage.org/files/506/3d8/a4c/5063d8a4cce84369a9aad480cb5ff5a5.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
effet, si vous regardez le circuit simplifié d'un tel stabilisateur, il devient clair que la jonction d'émetteur du transistor de sortie joue le rôle de la même porte diode, qui se ferme lorsque la tension à la sortie du redresseur disparaît, et maintient la charge de la batterie intacte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, ces dernières années, tout a changé. </font><font style="vertical-align: inherit;">Les alimentations du transformateur avec stabilisation paramétrique ont été remplacées par des convertisseurs de tension AC / DC à commutation plus compacts et moins chers, qui ont un rendement et un rapport puissance / poids beaucoup plus élevés. </font><font style="vertical-align: inherit;">Mais seulement avec tous les avantages, ces alimentations ont montré un inconvénient: leurs circuits de sortie ont un circuit beaucoup plus complexe, qui ne fournit généralement pas de protection contre le flux de courant inverse du circuit secondaire. </font><font style="vertical-align: inherit;">Par conséquent, lors de l'utilisation d'une telle source dans un système de la forme «BP -&gt; batterie tampon -&gt; charge», lorsque la tension secteur est déconnectée, la batterie commence à se décharger de manière intensive vers le circuit de sortie du bloc d'alimentation.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La manière la plus simple (diode)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La solution la plus simple consiste à utiliser une diode avec une barrière Schottky incluse dans l'espace du fil positif reliant le bloc d'alimentation et la batterie: </font></font><br>
<br>
<img src="https://habrastorage.org/files/c9a/f25/c16/c9af25c1694d46e1bcf6d360bf5975ca.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, les principaux problèmes de cette solution ont déjà été évoqués dans l'article ci-dessus. </font><font style="vertical-align: inherit;">De plus, cette approche peut être inacceptable pour la raison que pour fonctionner en mode tampon, une batterie plomb-acide de 12 volts a besoin d'une tension d'au moins 13,6 volts. </font><font style="vertical-align: inherit;">Et près d'un demi-volt tombant sur la diode peut rendre cette tension banale inaccessible en combinaison avec une alimentation existante (juste mon cas). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout cela nous amène à rechercher des modes alternatifs de commutation automatique, qui devraient avoir les propriétés suivantes:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Petite chute de tension directe lorsqu'il est allumé.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La capacité de supporter sans échauffement important à l'état passant le courant continu consommé par l'alimentation par la charge et la batterie tampon.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chute de tension inverse élevée et faible autoconsommation à l'état éteint.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">État normalement éteint, de sorte que lorsqu'une batterie chargée est connectée au système initialement hors tension, sa décharge ne démarre pas.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passage automatique à l'état activé lorsque la tension secteur est appliquée, quels que soient la présence et le niveau de charge de la batterie.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La transition automatique la plus rapide à l'état désactivé lorsque la tension secteur tombe en panne.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la diode était un appareil idéal, elle remplirait toutes ces conditions sans problème, mais la dure réalité jette le doute sur les points 1 et 2.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solution naïve (relais DC)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de l'analyse des exigences, toute personne au moins un peu «sur le sujet» aura l'idée d'utiliser un relais électromagnétique à cet effet, capable de fermer physiquement les contacts en utilisant le champ magnétique créé par le courant de commande dans l'enroulement. Et, probablement, il jette même quelque chose comme ça sur une serviette:</font></font><br>
<br>
<img src="https://habrastorage.org/files/c40/3b5/f30/c403b5f3049f427f923f8f4f04dd45a8.jpg" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce circuit, les contacts de relais normalement ouverts ne sont fermés que lorsque le courant passe à travers l'enroulement connecté à la sortie de l'alimentation. Cependant, si vous parcourez la liste des exigences, il s'avère que ce circuit n'est pas conforme au point 6. Après tout, si les contacts de relais étaient une fois fermés, la panne de courant n'entraînera pas leur déconnexion pour la raison que l'enroulement (et avec lui l'ensemble du circuit de sortie de l'alimentation) reste connecté à la batterie via les mêmes contacts! Il y a un cas typique de rétroaction positive, lorsque le circuit de commande a une connexion directe avec l'exécutif et, par conséquent, le système acquiert les propriétés d'un déclencheur bistable.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une telle approche naïve n'est donc pas une solution au problème. </font><font style="vertical-align: inherit;">De plus, si nous analysons logiquement la situation actuelle, nous pouvons facilement conclure que dans l'écart «BP -&gt; batterie tampon» dans des conditions idéales, il ne peut tout simplement pas y avoir d'autre solution qu'une vanne qui conduit le courant dans une direction. </font><font style="vertical-align: inherit;">En effet, si nous n'utilisons aucun signal de commande externe, quoi que nous fassions à ce stade du circuit, l'un de nos éléments de commutation, une fois allumé, rendra l'électricité produite par la batterie indiscernable de l'électricité créée par l'alimentation.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rond-point (relais AC)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir réalisé tous les problèmes du paragraphe précédent, la personne «scumbag» trouve généralement la nouvelle idée d'utiliser l'alimentation elle-même comme une vanne conductrice unidirectionnelle. Pourquoi pas? Après tout, si le bloc d'alimentation n'est pas un appareil réversible et que la tension de la batterie fournie à sa sortie ne crée pas 220 volts à l'entrée CA (comme cela se produit dans 100% des cas de circuits réels), cette différence peut être utilisée comme signal de commande pour l'élément de commutation:</font></font><br>
<br>
<a href="" rel="nofollow"><img src="https://habrastorage.org/files/f55/02f/dee/f5502fdeea514274bd63bd0da492e422.png" width="100%"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bingo! Tous les points des exigences sont remplis et la seule chose nécessaire pour cela est un relais qui peut fermer les contacts lorsque la tension secteur lui est appliquée. Il peut s'agir d'un relais AC spécial, conçu pour la tension secteur. Ou un relais ordinaire avec son propre mini-PSU (tout circuit abaisseur sans transformateur avec un simple redresseur suffit ici). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il serait possible de célébrer la victoire, mais je n'ai pas aimé cette décision. Tout d'abord, vous devez connecter quelque chose directement au réseau, ce qui n'est pas un buzz en termes de sécurité. Deuxièmement, le fait que ce relais doit être commuté par des courants importants, probablement jusqu'à des dizaines d'ampères, et cela rend l'ensemble de la conception pas aussi trivial et compact qu'il aurait pu sembler au départ. Et troisièmement, qu'en est-il d'un transistor à effet de champ aussi pratique?</font></font><br>
<br>
<h3>  (  +   )</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La recherche d'une solution plus élégante au problème m'a conduit au fait qu'une batterie fonctionnant en mode tampon à une tension d'environ 13,8 volts sans «recharge» externe perd rapidement sa tension d'origine même en l'absence de charge. S'il commence à se décharger sur le bloc d'alimentation, il perd alors au moins 0,1 volt dans la première minute, ce qui est plus que suffisant pour une fixation fiable par un simple comparateur. En général, l'idée est la suivante: le comparateur contrôle la grille du transistor à effet de champ à commutation. L'une des entrées du comparateur est connectée à une source de tension stable. La deuxième entrée est connectée au diviseur de tension de l'alimentation. De plus, le coefficient de division est choisi de sorte que la tension à la sortie du diviseur avec le PS allumé soit environ 0,1 à 0,2 volts plus élevée que la tension de la source stabilisée. En conséquencelorsque le bloc d'alimentation est allumé, la tension du diviseur prévaudra toujours, mais lorsque le réseau est mis hors tension, lorsque la tension de la batterie diminue, elle diminue proportionnellement à cette baisse. Après un certain temps, la tension à la sortie du diviseur sera inférieure à la tension du stabilisateur et le comparateur coupera le circuit à l'aide d'un transistor à effet de champ.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un schéma approximatif d'un tel appareil:</font></font><br>
<br>
<img src="https://habrastorage.org/files/2b2/99a/20a/2b299a20a8f246ffa44fff380e7e9db9.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le voir, l'entrée directe du comparateur est connectée à la source de tension stable. La tension de cette source, en principe, n'est pas importante, l'essentiel est qu'elle se situe dans les tensions d'entrée admissibles du comparateur, mais elle est pratique lorsqu'elle est d'environ la moitié de la tension de la batterie, soit environ 6 volts. L'entrée inverse du comparateur est connectée au diviseur de tension du PSU, et la sortie à la grille du transistor de commutation. Lorsque la tension à l'entrée inverse dépasse celle à la tension directe, la sortie du comparateur connecte la grille du transistor à effet de champ à la masse, à la suite de quoi le transistor ouvre et ferme le circuit. Après la mise hors tension du secteur, après un certain temps, la tension de la batterie diminue, avec elle, la tension à l'entrée inverse du comparateur chute, et lorsqu'elle s'avère être inférieure au niveau à l'entrée directele comparateur «arrache» la grille du transistor du sol et coupe ainsi le circuit. À l'avenir, lorsque l'alimentation électrique "reprend vie", la tension à l'entrée inverse monte instantanément à un niveau normal et le transistor s'ouvre à nouveau.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la mise en œuvre pratique de ce circuit, ma puce LM393 existante a été utilisée. Il est très bon marché (moins de dix cents dans le commerce de détail), mais en même temps, un comparateur double est économique et possède de très bonnes caractéristiques. Il permet une alimentation jusqu'à 36 volts, a un coefficient de transmission d'au moins 50 V / mV, et ses entrées se caractérisent par une impédance assez élevée. Le premier des puissants MOSFET à canal P FDD6685 disponibles dans le commerce a été considéré comme un transistor de commutation. Après plusieurs expériences, le schéma pratique suivant de l'interrupteur a été déduit:</font></font><br>
<br>
<img src="https://habrastorage.org/files/68f/696/c06/68f696c06fe140a0a9526e4028d3cc2e.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce document, la source abstraite de tension stable est remplacée par un stabilisateur paramétrique très réel de la résistance R2 et de la diode zener D1, et le diviseur est basé sur une résistance de trimmer R1, qui vous permet d'ajuster le coefficient de division à la valeur souhaitée. Les entrées du comparateur ayant une impédance très importante, la résistance d'amortissement du stabilisateur peut être supérieure à cent kOhm, ce qui minimise le courant de fuite, et donc la consommation totale de l'appareil. La valeur de la résistance d'accord n'est pas critique du tout et sans aucune conséquence pour le fonctionnement du circuit peut être sélectionnée dans la plage de dix à plusieurs centaines de kOhm. Du fait que le circuit de sortie du comparateur LM393 est construit selon un circuit à collecteur ouvert, une résistance de charge R3 est également requise pour son achèvement fonctionnel.résistance de plusieurs centaines de kOhm.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le réglage du dispositif se résume à régler la position du curseur de la résistance de trimmer à une position où la tension sur la jambe 2 du microcircuit dépasse celle de la jambe 3 d'environ 0,1 à 0,2 volts. Pour le réglage, il est préférable de ne pas monter dans les circuits à haute impédance avec un multimètre, mais simplement en installant le moteur de la résistance dans la position inférieure (selon le schéma), connectez le bloc d'alimentation (nous ne connectons pas encore la batterie), et, en mesurant la tension à la broche 1 du microcircuit, déplacez le contact de la résistance vers le haut. Dès que la tension tombe à zéro, le préréglage peut être considéré comme terminé.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N'essayez pas d'éteindre à une différence de tension minimale, car cela entraînera inévitablement un mauvais fonctionnement du circuit. En conditions réelles, au contraire, il faut sous-estimer spécifiquement la sensibilité. Le fait est que lorsque la charge est allumée, la tension à l'entrée du circuit s'affaisse inévitablement en raison d'une stabilisation non idéale de l'alimentation et de la résistance finale des fils de connexion. Cela peut conduire au fait qu'un appareil trop sensible considérera un tel rabattement comme la coupure de l'alimentation et la coupure du circuit. Par conséquent, le bloc d'alimentation ne sera connecté qu'en l'absence de charge et le reste du temps, la batterie devra fonctionner. Cependant, lorsque la batterie est légèrement déchargée, la diode interne du transistor à effet de champ s'ouvre et le courant provenant du PSU commence à circuler dans le circuit qui le traverse. Mais cela conduira à une surchauffe du transistor et àque la batterie fonctionnera dans un mode de sous-charge longue. En général, l'étalonnage final doit être effectué sous charge réelle, en contrôlant la tension à la broche 1 du microcircuit et, par conséquent, en laissant une petite marge de fiabilité.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À la suite de tests pratiques, ces résultats ont été obtenus. La résistance à l'état ouvert correspond à la résistance de passage de la fiche technique au transistor. À l'état fermé, le courant parasite dans le circuit secondaire du bloc d'alimentation n'a pas pu être mesuré en raison de son insignifiance. La consommation de courant en mode batterie était de 1,1 mA, et elle est composée à près de 100% du courant consommé par la puce. Après étalonnage sous charge maximale, le temps de réponse sans charge est sorti de près de 15 minutes. Il a fallu tellement de temps pour que ma batterie se décharge à la tension qui provient de l'alimentation vers l'appareil à pleine charge. Certes, l'arrêt à pleine charge se produit presque immédiatement (moins de 10 secondes), mais cette durée dépend de la capacité, de la charge et de la «santé» générale de la batterie.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les inconvénients importants de ce schéma sont la complexité relative de l'étalonnage et la nécessité de supporter les pertes d'énergie potentielles de la batterie pour un fonctionnement correct. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le dernier inconvénient n'a pas donné de repos et après quelques délibérations m'a amené à penser non pas à mesurer la tension de la batterie, mais directement la direction du courant dans le circuit.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La deuxième solution (transistor à effet de champ + compteur de direction de courant)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour mesurer la direction du courant, on pourrait utiliser un capteur délicat. Par exemple, un capteur Hall qui détecte le vecteur de champ magnétique autour d'un conducteur et permet non seulement de couper le circuit pour déterminer la direction, mais aussi l'intensité du courant. Cependant, en raison de l'absence d'un tel capteur (et de l'expérience avec des appareils similaires), il a été décidé d'essayer de mesurer le signe de la chute de tension à travers le canal du transistor à effet de champ. Bien sûr, à l'état ouvert, la résistance du canal est mesurée en centièmes d'un ohm (pour cela et pour toute l'idée), mais, néanmoins, elle est assez finie et vous pouvez essayer de la jouer. Un argument supplémentaire en faveur d'une telle solution est l'absence de nécessité d'un ajustement fin. Nous mesurerons uniquement la polarité de la chute de tension, et non sa valeur absolue.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selon les calculs les plus pessimistes, lorsque la résistance de canal ouvert du transistor FDD6685 est d'environ 14 mOhm et que la sensibilité différentielle du comparateur LM393 de la colonne «min» est de 50 V / mV, nous aurons une plage de tension complète de 12 volts à la sortie du comparateur à un courant dans le transistor d'un peu plus de 17 mA. Comme vous pouvez le voir, la valeur est bien réelle. En pratique, il devrait même être d'un ordre de grandeur plus petit, car la sensibilité typique de notre comparateur est de 200 V / mV, la résistance du canal du transistor en conditions réelles, compte tenu de l'installation, ne devrait pas être inférieure à 25 mOhm, et l'oscillation de la tension de commande à la grille ne peut pas dépasser trois volt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une implémentation abstraite ressemblera à ceci:</font></font><br>
<br>
<img src="https://habrastorage.org/files/e8d/839/2a7/e8d8392a7e2d46869f8a78e746ec3f55.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, les entrées du comparateur sont connectées directement au bus positif sur les côtés opposés du transistor à effet de champ. Lorsque le courant le traverse dans différentes directions, les tensions aux entrées du comparateur différeront inévitablement, et le signe de la différence correspondra à la direction du courant, et l'amplitude à sa force. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À première vue, le circuit est extrêmement simple, mais ici il y a un problème avec la puissance du comparateur. Elle consiste dans le fait que l'on ne peut pas alimenter la puce directement à partir des mêmes circuits qu'elle devrait mesurer. Selon la fiche technique, la tension maximale aux entrées du LM393 ne doit pas être supérieure à la tension d'alimentation moins deux volts. Si ce seuil est dépassé, le comparateur cesse de remarquer la différence de tension aux entrées directes et inverses.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe deux solutions potentielles au problème. La première, évidente, consiste à augmenter la tension d'alimentation du comparateur. Le deuxième qui vous vient à l'esprit, si vous y réfléchissez un peu, est d'abaisser également les tensions de commande à l'aide de deux diviseurs. Voici à quoi cela pourrait ressembler:</font></font><br>
<br>
<img src="https://habrastorage.org/files/19d/834/275/19d834275a1047cf8993fae1daac6c2a.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce schéma séduit par sa simplicité et sa concision, mais dans le monde réel, malheureusement, il n'est pas réalisable. Le fait est que nous avons affaire à une différence de tension entre les entrées du comparateur de seulement quelques millivolts. Dans le même temps, la propagation des résistances, même dans la classe de précision la plus élevée, est de 0,1%. Avec un coefficient de division minimum acceptable de 2 à 8 et une impédance raisonnable de 10 kΩ, l'erreur de mesure atteindra 3 mV, ce qui est plusieurs fois supérieur à la chute de tension aux bornes du transistor à un courant de 17 mA. L'utilisation d'un "trimmer" dans l'un des diviseurs disparaît pour la même raison, car il n'est pas possible de sélectionner sa résistance avec une précision de plus de 0,01% même lors de l'utilisation d'une résistance multitours de précision (en plus n'oubliez pas la dérive de temps et de température). En outre, comme déjà mentionné ci-dessus,théoriquement, ce circuit ne devrait pas du tout être calibré en raison de sa nature presque "numérique".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur la base de ce qui précède, en pratique, il n'y a qu'une seule option avec l'augmentation de la tension d'alimentation. En principe, ce n'est pas un problème, étant donné qu'il existe un grand nombre de microcircuits spécialisés qui permettent d'utiliser seulement quelques pièces pour construire un convertisseur élévateur pour la tension souhaitée. Mais alors la complexité de l'appareil et sa consommation vont presque doubler, ce que j'aimerais éviter.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe plusieurs façons de créer un convertisseur élévateur basse consommation. Par exemple, la plupart des convertisseurs intégrés utilisent la tension d'auto-induction d'un petit inducteur connecté en série avec un interrupteur «power» situé directement sur la puce. Cette approche se justifie par une conversion relativement puissante, par exemple pour alimenter une LED avec un courant de dizaines de milliampères. Dans notre cas, cela est clairement redondant, car vous devez fournir un courant d'environ un milliampère seulement. Nous sommes beaucoup plus adaptés pour doubler la tension continue à l'aide d'une clé de commande, de deux condensateurs et de deux diodes. Le principe de son action peut être compris par le schéma:</font></font><br>
<br>
<img src="https://habrastorage.org/files/e1c/fcc/ed8/e1cfcced88fe4ee58d7e8a4ce34c5866.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au premier instant, lorsque le transistor est fermé, rien d'intéressant ne se produit. Le courant du bus de puissance à travers les diodes D1 et D2 va à la sortie, ce qui fait que même une tension légèrement inférieure est réglée sur le condensateur C2 par rapport à celle fournie à l'entrée. Cependant, si le transistor s'ouvre, le condensateur C1 à travers la diode D1 et le transistor seront chargés presque à la tension d'alimentation (moins la chute directe sur D1 et le transistor). Maintenant, si nous fermons à nouveau le transistor, il s'avère que le condensateur chargé C1 est connecté en série avec la résistance R1 et la source d'alimentation. En conséquence, sa tension s'ajoutera à la tension de la source d'alimentation et, après avoir subi quelques pertes dans la résistance R1 et la diode D2, elle chargera C2 pour presque doubler Uin. Après cela, tout le cycle peut être recommencé. Par conséquent, si le transistor commute régulièrement et que l'extraction d'énergie de C2 n'est pas trop importante,à partir de 12 volts, il en résulte environ 20 au prix de seulement cinq parties (sans compter la clé), parmi lesquelles il n'y a pas un seul enroulement ou élément dimensionnel.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour mettre en œuvre un tel doubleur, en plus des éléments déjà répertoriés, nous avons besoin d'un générateur d'oscillations et de la clé elle-même. Cela peut sembler beaucoup de détails, mais en fait ce n'est pas le cas, car presque tout ce dont nous avons besoin est déjà en place. J'espère que vous n'avez pas oublié que le LM393 contient deux comparateurs? Et qu'avons-nous utilisé jusqu'à présent un seul d'entre eux? Après tout, le comparateur est également un amplificateur, ce qui signifie que si vous le recouvrez de rétroaction positive sur le courant alternatif, il se transformera en générateur. Dans le même temps, son transistor de sortie s'ouvrira et se fermera régulièrement, jouant parfaitement le rôle d'une clé doubleur. Voici ce que nous obtenons lorsque nous essayons de mettre en œuvre notre plan:</font></font><br>
<br>
<img src="https://habrastorage.org/files/e1b/754/479/e1b754479515490b8a8adc85ae6d548e.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au début, l'idée de fournir au générateur une tension qu'il produit réellement pendant le fonctionnement peut sembler assez folle. Cependant, si vous regardez attentivement, vous pouvez voir qu'au départ le générateur reçoit de l'énergie à travers les diodes D1 et D2, ce qui lui suffit pour démarrer. Après la génération, le doubleur commence à fonctionner et la tension d'alimentation augmente progressivement jusqu'à environ 20 volts. Ce processus ne prend pas plus d'une seconde, après quoi le générateur, et avec lui le premier comparateur, reçoivent une puissance qui dépasse considérablement la tension de fonctionnement du circuit. Cela nous donne l'opportunité de mesurer directement la différence de tension à la source et au drain du transistor à effet de champ et d'atteindre notre objectif. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici le schéma final de notre interrupteur:</font></font><br>
<br>
<a href="" rel="nofollow"><img src="https://habrastorage.org/files/9ec/c4a/dea/9ecc4adeafc54bd09515fd0997f85cb0.png" width="100%"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il n'y a rien à expliquer là-dessus, tout est décrit ci-dessus. Comme vous pouvez le voir, l'appareil ne contient aucun élément de réglage et, lorsqu'il est correctement assemblé, commence à fonctionner immédiatement. En plus des éléments actifs déjà connus, seules deux diodes ont été ajoutées, qui peuvent être utilisées avec des diodes de faible puissance avec une tension inverse maximale d'au moins 25 volts et un courant direct maximal de 10 mA (par exemple, le 1N4148 répandu, qui peut être retiré d'une ancienne carte mère). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce circuit a été testé sur une maquette où il s'est avéré pleinement opérationnel. Les paramètres obtenus sont parfaitement conformes aux attentes: commutation instantanée dans les deux sens, absence de réaction inadéquate lorsque la charge est connectée, la consommation de courant de la batterie n'est que de 2,1 mA.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une des options de disposition des PCB est également incluse. </font><font style="vertical-align: inherit;">300 dpi, vue du côté des pièces (par conséquent, vous devez imprimer en image miroir). </font><font style="vertical-align: inherit;">Le transistor à effet de champ est monté sur le côté des conducteurs. </font><font style="vertical-align: inherit;">
L'appareil assemblé, complètement prêt pour l'installation: je l'ai </font><font style="vertical-align: inherit;">
élevé à l'ancienne, donc il s'est révélé un peu tordu, mais néanmoins, l'appareil fonctionne correctement depuis plusieurs jours dans un circuit avec un courant jusqu'à 15 ampères sans aucun signe de surchauffe. </font><a href="" rel="nofollow"><font style="vertical-align: inherit;">Archive avec schémas et fichiers de câblage pour EAGLE</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">
Merci de votre attention.</font></font><br>
<br>
<a href="" rel="nofollow"><img src="https://habrastorage.org/files/7b2/bbe/b91/7b2bbeb91acd4fecb4d5b83266fa11dc.png"></a> <a href="" rel="nofollow"><img src="https://habrastorage.org/files/496/413/125/496413125f7149b7b8b324975ad16a4a.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="" rel="nofollow"><img src="https://habrastorage.org/files/e10/385/07d/e1038507d5004b4baa4a43575f3295a9.jpg"></a> <a href="" rel="nofollow"><img src="https://habrastorage.org/files/75c/cf6/1f3/75ccf61f30804dcf8bac01df97612821.jpg"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr397323/">https://habr.com/ru/post/fr397323/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr397313/index.html">Ajoutez simplement de l'eau. Un petit additif H₂O augmente la puissance du moteur à combustion interne et économise du carburant</a></li>
<li><a href="../fr397315/index.html">Éclairage d'escalier automatique</a></li>
<li><a href="../fr397317/index.html">Rénové en usine: nous achetons de l'électronique à bas prix et avec une garantie</a></li>
<li><a href="../fr397319/index.html">Связь в интернете вещей: LoRa против UNB. Часть 2: бизнес</a></li>
<li><a href="../fr397321/index.html">Présentation officielle du Sony Xperia XZ et Xperia X Compact</a></li>
<li><a href="../fr397325/index.html">Le propriétaire du forum informatique Ru-Board tué</a></li>
<li><a href="../fr397327/index.html">WaveNet: discours de type humain synthétisé par ordinateur</a></li>
<li><a href="../fr397329/index.html">Pourquoi la peau se ride-t-elle dans l'eau</a></li>
<li><a href="../fr397331/index.html">iBrain est déjà là - et déjà dans votre téléphone</a></li>
<li><a href="../fr397333/index.html">La règle des cinq secondes ne fonctionne toujours pas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>