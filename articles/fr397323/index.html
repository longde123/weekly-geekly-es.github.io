<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöº üëºüèº üë©‚Äçüåæ Arr√™te de mettre la diode üõ£Ô∏è üë©‚Äçüë©‚Äçüëß‚Äçüë¶ ü§ôüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Non, ce n'est pas un autre ¬´pour toujours¬ª
 
 Apr√®s avoir lu l' article sur la protection des circuits √©lectriques contre une polarit√© de puissance in...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Arr√™te de mettre la diode</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/397323/"><img src="https://habrastorage.org/files/85e/850/9c7/85e8509c767744c4b1d27f6729a89d8e.jpg" width="100%"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Non, ce n'est pas un autre ¬´pour toujours¬ª</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Apr√®s avoir lu l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur la protection des circuits √©lectriques contre une polarit√© de puissance incorrecte √† l'aide d'un transistor √† effet de champ, je me suis souvenu que j'avais depuis longtemps un probl√®me non r√©solu de d√©connecter automatiquement la batterie du chargeur lorsque celui-ci √©tait hors tension. Et j'√©tais curieux de savoir s'il serait possible d'appliquer une approche similaire dans un autre cas, o√π depuis des temps imm√©moriaux une diode √©tait √©galement utilis√©e comme √©l√©ment d'arr√™t.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cet article est un guide typique du cyclisme, </font><font style="vertical-align: inherit;">parle du d√©veloppement d'un circuit dont la fonctionnalit√© a longtemps √©t√© impl√©ment√©e dans des millions d'appareils finis. </font><font style="vertical-align: inherit;">Par cons√©quent, la demande ne s'applique pas √† ce mat√©riel, comme √† quelque chose de compl√®tement utilitaire. </font><font style="vertical-align: inherit;">Il s'agit plut√¥t d'une histoire sur la naissance d'un appareil √©lectronique: de la prise de conscience du besoin √† un prototype fonctionnel √† travers tous les obstacles.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi tout √ßa?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de la sauvegarde d'une source d'alimentation CC basse tension, la fa√ßon la plus simple d'allumer une batterie au plomb est de l'utiliser comme tampon, juste parall√®le √† la source r√©seau, comme cela a √©t√© fait dans les voitures avant qu'elles n'aient un cerveau complexe. </font><font style="vertical-align: inherit;">La batterie, bien qu'elle ne fonctionne pas dans le mode le plus optimal, est toujours charg√©e et ne n√©cessite aucune commutation d'alimentation lors de la d√©connexion ou de la mise sous tension du secteur √† l'entr√©e PSU. </font><font style="vertical-align: inherit;">Plus en d√©tail sur certains probl√®mes d'une telle inclusion et essayons de les r√©soudre.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contexte</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a une vingtaine d'ann√©es, une telle question n'√©tait pas √† l'ordre du jour. La raison en √©tait le circuit d'une alimentation r√©seau typique (ou chargeur), qui emp√™chait la batterie de se d√©charger sur son circuit de sortie lorsque la tension secteur √©tait coup√©e. Regardons le sch√©ma de blocs le plus simple avec rectification demi-onde:</font></font><br>
<br>
<img src="https://habrastorage.org/files/767/e02/81b/767e0281bfad4c189c50c699bbb0d166.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est √©vident que la m√™me diode qui rectifie la tension alternative de l'enroulement secteur emp√™chera √©galement la batterie de se d√©charger sur l'enroulement secondaire du transformateur lorsque la tension secteur est d√©connect√©e. Le circuit en pont demi-onde du redresseur, malgr√© un peu moins √©vident, a exactement les m√™mes propri√©t√©s. Et m√™me l'utilisation d'un stabilisateur de tension param√©trique avec un amplificateur de courant (comme la puce 7812 r√©pandue et ses analogues) ne change pas la situation: en </font></font><br>
<br>
<img src="https://habrastorage.org/files/506/3d8/a4c/5063d8a4cce84369a9aad480cb5ff5a5.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
effet, si vous regardez le circuit simplifi√© d'un tel stabilisateur, il devient clair que la jonction d'√©metteur du transistor de sortie joue le r√¥le de la m√™me porte diode, qui se ferme lorsque la tension √† la sortie du redresseur dispara√Æt, et maintient la charge de la batterie intacte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, ces derni√®res ann√©es, tout a chang√©. </font><font style="vertical-align: inherit;">Les alimentations du transformateur avec stabilisation param√©trique ont √©t√© remplac√©es par des convertisseurs de tension AC / DC √† commutation plus compacts et moins chers, qui ont un rendement et un rapport puissance / poids beaucoup plus √©lev√©s. </font><font style="vertical-align: inherit;">Mais seulement avec tous les avantages, ces alimentations ont montr√© un inconv√©nient: leurs circuits de sortie ont un circuit beaucoup plus complexe, qui ne fournit g√©n√©ralement pas de protection contre le flux de courant inverse du circuit secondaire. </font><font style="vertical-align: inherit;">Par cons√©quent, lors de l'utilisation d'une telle source dans un syst√®me de la forme ¬´BP -&gt; batterie tampon -&gt; charge¬ª, lorsque la tension secteur est d√©connect√©e, la batterie commence √† se d√©charger de mani√®re intensive vers le circuit de sortie du bloc d'alimentation.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La mani√®re la plus simple (diode)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La solution la plus simple consiste √† utiliser une diode avec une barri√®re Schottky incluse dans l'espace du fil positif reliant le bloc d'alimentation et la batterie: </font></font><br>
<br>
<img src="https://habrastorage.org/files/c9a/f25/c16/c9af25c1694d46e1bcf6d360bf5975ca.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, les principaux probl√®mes de cette solution ont d√©j√† √©t√© √©voqu√©s dans l'article ci-dessus. </font><font style="vertical-align: inherit;">De plus, cette approche peut √™tre inacceptable pour la raison que pour fonctionner en mode tampon, une batterie plomb-acide de 12 volts a besoin d'une tension d'au moins 13,6 volts. </font><font style="vertical-align: inherit;">Et pr√®s d'un demi-volt tombant sur la diode peut rendre cette tension banale inaccessible en combinaison avec une alimentation existante (juste mon cas). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout cela nous am√®ne √† rechercher des modes alternatifs de commutation automatique, qui devraient avoir les propri√©t√©s suivantes:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Petite chute de tension directe lorsqu'il est allum√©.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La capacit√© de supporter sans √©chauffement important √† l'√©tat passant le courant continu consomm√© par l'alimentation par la charge et la batterie tampon.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chute de tension inverse √©lev√©e et faible autoconsommation √† l'√©tat √©teint.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âtat normalement √©teint, de sorte que lorsqu'une batterie charg√©e est connect√©e au syst√®me initialement hors tension, sa d√©charge ne d√©marre pas.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passage automatique √† l'√©tat activ√© lorsque la tension secteur est appliqu√©e, quels que soient la pr√©sence et le niveau de charge de la batterie.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La transition automatique la plus rapide √† l'√©tat d√©sactiv√© lorsque la tension secteur tombe en panne.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la diode √©tait un appareil id√©al, elle remplirait toutes ces conditions sans probl√®me, mais la dure r√©alit√© jette le doute sur les points 1 et 2.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solution na√Øve (relais DC)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de l'analyse des exigences, toute personne au moins un peu ¬´sur le sujet¬ª aura l'id√©e d'utiliser un relais √©lectromagn√©tique √† cet effet, capable de fermer physiquement les contacts en utilisant le champ magn√©tique cr√©√© par le courant de commande dans l'enroulement. Et, probablement, il jette m√™me quelque chose comme √ßa sur une serviette:</font></font><br>
<br>
<img src="https://habrastorage.org/files/c40/3b5/f30/c403b5f3049f427f923f8f4f04dd45a8.jpg" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce circuit, les contacts de relais normalement ouverts ne sont ferm√©s que lorsque le courant passe √† travers l'enroulement connect√© √† la sortie de l'alimentation. Cependant, si vous parcourez la liste des exigences, il s'av√®re que ce circuit n'est pas conforme au point 6. Apr√®s tout, si les contacts de relais √©taient une fois ferm√©s, la panne de courant n'entra√Ænera pas leur d√©connexion pour la raison que l'enroulement (et avec lui l'ensemble du circuit de sortie de l'alimentation) reste connect√© √† la batterie via les m√™mes contacts! Il y a un cas typique de r√©troaction positive, lorsque le circuit de commande a une connexion directe avec l'ex√©cutif et, par cons√©quent, le syst√®me acquiert les propri√©t√©s d'un d√©clencheur bistable.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une telle approche na√Øve n'est donc pas une solution au probl√®me. </font><font style="vertical-align: inherit;">De plus, si nous analysons logiquement la situation actuelle, nous pouvons facilement conclure que dans l'√©cart ¬´BP -&gt; batterie tampon¬ª dans des conditions id√©ales, il ne peut tout simplement pas y avoir d'autre solution qu'une vanne qui conduit le courant dans une direction. </font><font style="vertical-align: inherit;">En effet, si nous n'utilisons aucun signal de commande externe, quoi que nous fassions √† ce stade du circuit, l'un de nos √©l√©ments de commutation, une fois allum√©, rendra l'√©lectricit√© produite par la batterie indiscernable de l'√©lectricit√© cr√©√©e par l'alimentation.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rond-point (relais AC)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir r√©alis√© tous les probl√®mes du paragraphe pr√©c√©dent, la personne ¬´scumbag¬ª trouve g√©n√©ralement la nouvelle id√©e d'utiliser l'alimentation elle-m√™me comme une vanne conductrice unidirectionnelle. Pourquoi pas? Apr√®s tout, si le bloc d'alimentation n'est pas un appareil r√©versible et que la tension de la batterie fournie √† sa sortie ne cr√©e pas 220 volts √† l'entr√©e CA (comme cela se produit dans 100% des cas de circuits r√©els), cette diff√©rence peut √™tre utilis√©e comme signal de commande pour l'√©l√©ment de commutation:</font></font><br>
<br>
<a href="" rel="nofollow"><img src="https://habrastorage.org/files/f55/02f/dee/f5502fdeea514274bd63bd0da492e422.png" width="100%"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bingo! Tous les points des exigences sont remplis et la seule chose n√©cessaire pour cela est un relais qui peut fermer les contacts lorsque la tension secteur lui est appliqu√©e. Il peut s'agir d'un relais AC sp√©cial, con√ßu pour la tension secteur. Ou un relais ordinaire avec son propre mini-PSU (tout circuit abaisseur sans transformateur avec un simple redresseur suffit ici). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il serait possible de c√©l√©brer la victoire, mais je n'ai pas aim√© cette d√©cision. Tout d'abord, vous devez connecter quelque chose directement au r√©seau, ce qui n'est pas un buzz en termes de s√©curit√©. Deuxi√®mement, le fait que ce relais doit √™tre commut√© par des courants importants, probablement jusqu'√† des dizaines d'amp√®res, et cela rend l'ensemble de la conception pas aussi trivial et compact qu'il aurait pu sembler au d√©part. Et troisi√®mement, qu'en est-il d'un transistor √† effet de champ aussi pratique?</font></font><br>
<br>
<h3>  (  +   )</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La recherche d'une solution plus √©l√©gante au probl√®me m'a conduit au fait qu'une batterie fonctionnant en mode tampon √† une tension d'environ 13,8 volts sans ¬´recharge¬ª externe perd rapidement sa tension d'origine m√™me en l'absence de charge. S'il commence √† se d√©charger sur le bloc d'alimentation, il perd alors au moins 0,1 volt dans la premi√®re minute, ce qui est plus que suffisant pour une fixation fiable par un simple comparateur. En g√©n√©ral, l'id√©e est la suivante: le comparateur contr√¥le la grille du transistor √† effet de champ √† commutation. L'une des entr√©es du comparateur est connect√©e √† une source de tension stable. La deuxi√®me entr√©e est connect√©e au diviseur de tension de l'alimentation. De plus, le coefficient de division est choisi de sorte que la tension √† la sortie du diviseur avec le PS allum√© soit environ 0,1 √† 0,2 volts plus √©lev√©e que la tension de la source stabilis√©e. En cons√©quencelorsque le bloc d'alimentation est allum√©, la tension du diviseur pr√©vaudra toujours, mais lorsque le r√©seau est mis hors tension, lorsque la tension de la batterie diminue, elle diminue proportionnellement √† cette baisse. Apr√®s un certain temps, la tension √† la sortie du diviseur sera inf√©rieure √† la tension du stabilisateur et le comparateur coupera le circuit √† l'aide d'un transistor √† effet de champ.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un sch√©ma approximatif d'un tel appareil:</font></font><br>
<br>
<img src="https://habrastorage.org/files/2b2/99a/20a/2b299a20a8f246ffa44fff380e7e9db9.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le voir, l'entr√©e directe du comparateur est connect√©e √† la source de tension stable. La tension de cette source, en principe, n'est pas importante, l'essentiel est qu'elle se situe dans les tensions d'entr√©e admissibles du comparateur, mais elle est pratique lorsqu'elle est d'environ la moiti√© de la tension de la batterie, soit environ 6 volts. L'entr√©e inverse du comparateur est connect√©e au diviseur de tension du PSU, et la sortie √† la grille du transistor de commutation. Lorsque la tension √† l'entr√©e inverse d√©passe celle √† la tension directe, la sortie du comparateur connecte la grille du transistor √† effet de champ √† la masse, √† la suite de quoi le transistor ouvre et ferme le circuit. Apr√®s la mise hors tension du secteur, apr√®s un certain temps, la tension de la batterie diminue, avec elle, la tension √† l'entr√©e inverse du comparateur chute, et lorsqu'elle s'av√®re √™tre inf√©rieure au niveau √† l'entr√©e directele comparateur ¬´arrache¬ª la grille du transistor du sol et coupe ainsi le circuit. √Ä l'avenir, lorsque l'alimentation √©lectrique "reprend vie", la tension √† l'entr√©e inverse monte instantan√©ment √† un niveau normal et le transistor s'ouvre √† nouveau.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la mise en ≈ìuvre pratique de ce circuit, ma puce LM393 existante a √©t√© utilis√©e. Il est tr√®s bon march√© (moins de dix cents dans le commerce de d√©tail), mais en m√™me temps, un comparateur double est √©conomique et poss√®de de tr√®s bonnes caract√©ristiques. Il permet une alimentation jusqu'√† 36 volts, a un coefficient de transmission d'au moins 50 V / mV, et ses entr√©es se caract√©risent par une imp√©dance assez √©lev√©e. Le premier des puissants MOSFET √† canal P FDD6685 disponibles dans le commerce a √©t√© consid√©r√© comme un transistor de commutation. Apr√®s plusieurs exp√©riences, le sch√©ma pratique suivant de l'interrupteur a √©t√© d√©duit:</font></font><br>
<br>
<img src="https://habrastorage.org/files/68f/696/c06/68f696c06fe140a0a9526e4028d3cc2e.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce document, la source abstraite de tension stable est remplac√©e par un stabilisateur param√©trique tr√®s r√©el de la r√©sistance R2 et de la diode zener D1, et le diviseur est bas√© sur une r√©sistance de trimmer R1, qui vous permet d'ajuster le coefficient de division √† la valeur souhait√©e. Les entr√©es du comparateur ayant une imp√©dance tr√®s importante, la r√©sistance d'amortissement du stabilisateur peut √™tre sup√©rieure √† cent kOhm, ce qui minimise le courant de fuite, et donc la consommation totale de l'appareil. La valeur de la r√©sistance d'accord n'est pas critique du tout et sans aucune cons√©quence pour le fonctionnement du circuit peut √™tre s√©lectionn√©e dans la plage de dix √† plusieurs centaines de kOhm. Du fait que le circuit de sortie du comparateur LM393 est construit selon un circuit √† collecteur ouvert, une r√©sistance de charge R3 est √©galement requise pour son ach√®vement fonctionnel.r√©sistance de plusieurs centaines de kOhm.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le r√©glage du dispositif se r√©sume √† r√©gler la position du curseur de la r√©sistance de trimmer √† une position o√π la tension sur la jambe 2 du microcircuit d√©passe celle de la jambe 3 d'environ 0,1 √† 0,2 volts. Pour le r√©glage, il est pr√©f√©rable de ne pas monter dans les circuits √† haute imp√©dance avec un multim√®tre, mais simplement en installant le moteur de la r√©sistance dans la position inf√©rieure (selon le sch√©ma), connectez le bloc d'alimentation (nous ne connectons pas encore la batterie), et, en mesurant la tension √† la broche 1 du microcircuit, d√©placez le contact de la r√©sistance vers le haut. D√®s que la tension tombe √† z√©ro, le pr√©r√©glage peut √™tre consid√©r√© comme termin√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N'essayez pas d'√©teindre √† une diff√©rence de tension minimale, car cela entra√Ænera in√©vitablement un mauvais fonctionnement du circuit. En conditions r√©elles, au contraire, il faut sous-estimer sp√©cifiquement la sensibilit√©. Le fait est que lorsque la charge est allum√©e, la tension √† l'entr√©e du circuit s'affaisse in√©vitablement en raison d'une stabilisation non id√©ale de l'alimentation et de la r√©sistance finale des fils de connexion. Cela peut conduire au fait qu'un appareil trop sensible consid√©rera un tel rabattement comme la coupure de l'alimentation et la coupure du circuit. Par cons√©quent, le bloc d'alimentation ne sera connect√© qu'en l'absence de charge et le reste du temps, la batterie devra fonctionner. Cependant, lorsque la batterie est l√©g√®rement d√©charg√©e, la diode interne du transistor √† effet de champ s'ouvre et le courant provenant du PSU commence √† circuler dans le circuit qui le traverse. Mais cela conduira √† une surchauffe du transistor et √†que la batterie fonctionnera dans un mode de sous-charge longue. En g√©n√©ral, l'√©talonnage final doit √™tre effectu√© sous charge r√©elle, en contr√¥lant la tension √† la broche 1 du microcircuit et, par cons√©quent, en laissant une petite marge de fiabilit√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä la suite de tests pratiques, ces r√©sultats ont √©t√© obtenus. La r√©sistance √† l'√©tat ouvert correspond √† la r√©sistance de passage de la fiche technique au transistor. √Ä l'√©tat ferm√©, le courant parasite dans le circuit secondaire du bloc d'alimentation n'a pas pu √™tre mesur√© en raison de son insignifiance. La consommation de courant en mode batterie √©tait de 1,1 mA, et elle est compos√©e √† pr√®s de 100% du courant consomm√© par la puce. Apr√®s √©talonnage sous charge maximale, le temps de r√©ponse sans charge est sorti de pr√®s de 15 minutes. Il a fallu tellement de temps pour que ma batterie se d√©charge √† la tension qui provient de l'alimentation vers l'appareil √† pleine charge. Certes, l'arr√™t √† pleine charge se produit presque imm√©diatement (moins de 10 secondes), mais cette dur√©e d√©pend de la capacit√©, de la charge et de la ¬´sant√©¬ª g√©n√©rale de la batterie.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les inconv√©nients importants de ce sch√©ma sont la complexit√© relative de l'√©talonnage et la n√©cessit√© de supporter les pertes d'√©nergie potentielles de la batterie pour un fonctionnement correct. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le dernier inconv√©nient n'a pas donn√© de repos et apr√®s quelques d√©lib√©rations m'a amen√© √† penser non pas √† mesurer la tension de la batterie, mais directement la direction du courant dans le circuit.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La deuxi√®me solution (transistor √† effet de champ + compteur de direction de courant)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour mesurer la direction du courant, on pourrait utiliser un capteur d√©licat. Par exemple, un capteur Hall qui d√©tecte le vecteur de champ magn√©tique autour d'un conducteur et permet non seulement de couper le circuit pour d√©terminer la direction, mais aussi l'intensit√© du courant. Cependant, en raison de l'absence d'un tel capteur (et de l'exp√©rience avec des appareils similaires), il a √©t√© d√©cid√© d'essayer de mesurer le signe de la chute de tension √† travers le canal du transistor √† effet de champ. Bien s√ªr, √† l'√©tat ouvert, la r√©sistance du canal est mesur√©e en centi√®mes d'un ohm (pour cela et pour toute l'id√©e), mais, n√©anmoins, elle est assez finie et vous pouvez essayer de la jouer. Un argument suppl√©mentaire en faveur d'une telle solution est l'absence de n√©cessit√© d'un ajustement fin. Nous mesurerons uniquement la polarit√© de la chute de tension, et non sa valeur absolue.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selon les calculs les plus pessimistes, lorsque la r√©sistance de canal ouvert du transistor FDD6685 est d'environ 14 mOhm et que la sensibilit√© diff√©rentielle du comparateur LM393 de la colonne ¬´min¬ª est de 50 V / mV, nous aurons une plage de tension compl√®te de 12 volts √† la sortie du comparateur √† un courant dans le transistor d'un peu plus de 17 mA. Comme vous pouvez le voir, la valeur est bien r√©elle. En pratique, il devrait m√™me √™tre d'un ordre de grandeur plus petit, car la sensibilit√© typique de notre comparateur est de 200 V / mV, la r√©sistance du canal du transistor en conditions r√©elles, compte tenu de l'installation, ne devrait pas √™tre inf√©rieure √† 25 mOhm, et l'oscillation de la tension de commande √† la grille ne peut pas d√©passer trois volt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une impl√©mentation abstraite ressemblera √† ceci:</font></font><br>
<br>
<img src="https://habrastorage.org/files/e8d/839/2a7/e8d8392a7e2d46869f8a78e746ec3f55.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, les entr√©es du comparateur sont connect√©es directement au bus positif sur les c√¥t√©s oppos√©s du transistor √† effet de champ. Lorsque le courant le traverse dans diff√©rentes directions, les tensions aux entr√©es du comparateur diff√©reront in√©vitablement, et le signe de la diff√©rence correspondra √† la direction du courant, et l'amplitude √† sa force. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä premi√®re vue, le circuit est extr√™mement simple, mais ici il y a un probl√®me avec la puissance du comparateur. Elle consiste dans le fait que l'on ne peut pas alimenter la puce directement √† partir des m√™mes circuits qu'elle devrait mesurer. Selon la fiche technique, la tension maximale aux entr√©es du LM393 ne doit pas √™tre sup√©rieure √† la tension d'alimentation moins deux volts. Si ce seuil est d√©pass√©, le comparateur cesse de remarquer la diff√©rence de tension aux entr√©es directes et inverses.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe deux solutions potentielles au probl√®me. La premi√®re, √©vidente, consiste √† augmenter la tension d'alimentation du comparateur. Le deuxi√®me qui vous vient √† l'esprit, si vous y r√©fl√©chissez un peu, est d'abaisser √©galement les tensions de commande √† l'aide de deux diviseurs. Voici √† quoi cela pourrait ressembler:</font></font><br>
<br>
<img src="https://habrastorage.org/files/19d/834/275/19d834275a1047cf8993fae1daac6c2a.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce sch√©ma s√©duit par sa simplicit√© et sa concision, mais dans le monde r√©el, malheureusement, il n'est pas r√©alisable. Le fait est que nous avons affaire √† une diff√©rence de tension entre les entr√©es du comparateur de seulement quelques millivolts. Dans le m√™me temps, la propagation des r√©sistances, m√™me dans la classe de pr√©cision la plus √©lev√©e, est de 0,1%. Avec un coefficient de division minimum acceptable de 2 √† 8 et une imp√©dance raisonnable de 10 kŒ©, l'erreur de mesure atteindra 3 mV, ce qui est plusieurs fois sup√©rieur √† la chute de tension aux bornes du transistor √† un courant de 17 mA. L'utilisation d'un "trimmer" dans l'un des diviseurs dispara√Æt pour la m√™me raison, car il n'est pas possible de s√©lectionner sa r√©sistance avec une pr√©cision de plus de 0,01% m√™me lors de l'utilisation d'une r√©sistance multitours de pr√©cision (en plus n'oubliez pas la d√©rive de temps et de temp√©rature). En outre, comme d√©j√† mentionn√© ci-dessus,th√©oriquement, ce circuit ne devrait pas du tout √™tre calibr√© en raison de sa nature presque "num√©rique".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur la base de ce qui pr√©c√®de, en pratique, il n'y a qu'une seule option avec l'augmentation de la tension d'alimentation. En principe, ce n'est pas un probl√®me, √©tant donn√© qu'il existe un grand nombre de microcircuits sp√©cialis√©s qui permettent d'utiliser seulement quelques pi√®ces pour construire un convertisseur √©l√©vateur pour la tension souhait√©e. Mais alors la complexit√© de l'appareil et sa consommation vont presque doubler, ce que j'aimerais √©viter.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe plusieurs fa√ßons de cr√©er un convertisseur √©l√©vateur basse consommation. Par exemple, la plupart des convertisseurs int√©gr√©s utilisent la tension d'auto-induction d'un petit inducteur connect√© en s√©rie avec un interrupteur ¬´power¬ª situ√© directement sur la puce. Cette approche se justifie par une conversion relativement puissante, par exemple pour alimenter une LED avec un courant de dizaines de milliamp√®res. Dans notre cas, cela est clairement redondant, car vous devez fournir un courant d'environ un milliamp√®re seulement. Nous sommes beaucoup plus adapt√©s pour doubler la tension continue √† l'aide d'une cl√© de commande, de deux condensateurs et de deux diodes. Le principe de son action peut √™tre compris par le sch√©ma:</font></font><br>
<br>
<img src="https://habrastorage.org/files/e1c/fcc/ed8/e1cfcced88fe4ee58d7e8a4ce34c5866.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au premier instant, lorsque le transistor est ferm√©, rien d'int√©ressant ne se produit. Le courant du bus de puissance √† travers les diodes D1 et D2 va √† la sortie, ce qui fait que m√™me une tension l√©g√®rement inf√©rieure est r√©gl√©e sur le condensateur C2 par rapport √† celle fournie √† l'entr√©e. Cependant, si le transistor s'ouvre, le condensateur C1 √† travers la diode D1 et le transistor seront charg√©s presque √† la tension d'alimentation (moins la chute directe sur D1 et le transistor). Maintenant, si nous fermons √† nouveau le transistor, il s'av√®re que le condensateur charg√© C1 est connect√© en s√©rie avec la r√©sistance R1 et la source d'alimentation. En cons√©quence, sa tension s'ajoutera √† la tension de la source d'alimentation et, apr√®s avoir subi quelques pertes dans la r√©sistance R1 et la diode D2, elle chargera C2 pour presque doubler Uin. Apr√®s cela, tout le cycle peut √™tre recommenc√©. Par cons√©quent, si le transistor commute r√©guli√®rement et que l'extraction d'√©nergie de C2 n'est pas trop importante,√† partir de 12 volts, il en r√©sulte environ 20 au prix de seulement cinq parties (sans compter la cl√©), parmi lesquelles il n'y a pas un seul enroulement ou √©l√©ment dimensionnel.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour mettre en ≈ìuvre un tel doubleur, en plus des √©l√©ments d√©j√† r√©pertori√©s, nous avons besoin d'un g√©n√©rateur d'oscillations et de la cl√© elle-m√™me. Cela peut sembler beaucoup de d√©tails, mais en fait ce n'est pas le cas, car presque tout ce dont nous avons besoin est d√©j√† en place. J'esp√®re que vous n'avez pas oubli√© que le LM393 contient deux comparateurs? Et qu'avons-nous utilis√© jusqu'√† pr√©sent un seul d'entre eux? Apr√®s tout, le comparateur est √©galement un amplificateur, ce qui signifie que si vous le recouvrez de r√©troaction positive sur le courant alternatif, il se transformera en g√©n√©rateur. Dans le m√™me temps, son transistor de sortie s'ouvrira et se fermera r√©guli√®rement, jouant parfaitement le r√¥le d'une cl√© doubleur. Voici ce que nous obtenons lorsque nous essayons de mettre en ≈ìuvre notre plan:</font></font><br>
<br>
<img src="https://habrastorage.org/files/e1b/754/479/e1b754479515490b8a8adc85ae6d548e.png" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au d√©but, l'id√©e de fournir au g√©n√©rateur une tension qu'il produit r√©ellement pendant le fonctionnement peut sembler assez folle. Cependant, si vous regardez attentivement, vous pouvez voir qu'au d√©part le g√©n√©rateur re√ßoit de l'√©nergie √† travers les diodes D1 et D2, ce qui lui suffit pour d√©marrer. Apr√®s la g√©n√©ration, le doubleur commence √† fonctionner et la tension d'alimentation augmente progressivement jusqu'√† environ 20 volts. Ce processus ne prend pas plus d'une seconde, apr√®s quoi le g√©n√©rateur, et avec lui le premier comparateur, re√ßoivent une puissance qui d√©passe consid√©rablement la tension de fonctionnement du circuit. Cela nous donne l'opportunit√© de mesurer directement la diff√©rence de tension √† la source et au drain du transistor √† effet de champ et d'atteindre notre objectif. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici le sch√©ma final de notre interrupteur:</font></font><br>
<br>
<a href="" rel="nofollow"><img src="https://habrastorage.org/files/9ec/c4a/dea/9ecc4adeafc54bd09515fd0997f85cb0.png" width="100%"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il n'y a rien √† expliquer l√†-dessus, tout est d√©crit ci-dessus. Comme vous pouvez le voir, l'appareil ne contient aucun √©l√©ment de r√©glage et, lorsqu'il est correctement assembl√©, commence √† fonctionner imm√©diatement. En plus des √©l√©ments actifs d√©j√† connus, seules deux diodes ont √©t√© ajout√©es, qui peuvent √™tre utilis√©es avec des diodes de faible puissance avec une tension inverse maximale d'au moins 25 volts et un courant direct maximal de 10 mA (par exemple, le 1N4148 r√©pandu, qui peut √™tre retir√© d'une ancienne carte m√®re). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce circuit a √©t√© test√© sur une maquette o√π il s'est av√©r√© pleinement op√©rationnel. Les param√®tres obtenus sont parfaitement conformes aux attentes: commutation instantan√©e dans les deux sens, absence de r√©action inad√©quate lorsque la charge est connect√©e, la consommation de courant de la batterie n'est que de 2,1 mA.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une des options de disposition des PCB est √©galement incluse. </font><font style="vertical-align: inherit;">300 dpi, vue du c√¥t√© des pi√®ces (par cons√©quent, vous devez imprimer en image miroir). </font><font style="vertical-align: inherit;">Le transistor √† effet de champ est mont√© sur le c√¥t√© des conducteurs. </font><font style="vertical-align: inherit;">
L'appareil assembl√©, compl√®tement pr√™t pour l'installation: je l'ai </font><font style="vertical-align: inherit;">
√©lev√© √† l'ancienne, donc il s'est r√©v√©l√© un peu tordu, mais n√©anmoins, l'appareil fonctionne correctement depuis plusieurs jours dans un circuit avec un courant jusqu'√† 15 amp√®res sans aucun signe de surchauffe. </font><a href="" rel="nofollow"><font style="vertical-align: inherit;">Archive avec sch√©mas et fichiers de c√¢blage pour EAGLE</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">
Merci de votre attention.</font></font><br>
<br>
<a href="" rel="nofollow"><img src="https://habrastorage.org/files/7b2/bbe/b91/7b2bbeb91acd4fecb4d5b83266fa11dc.png"></a> <a href="" rel="nofollow"><img src="https://habrastorage.org/files/496/413/125/496413125f7149b7b8b324975ad16a4a.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="" rel="nofollow"><img src="https://habrastorage.org/files/e10/385/07d/e1038507d5004b4baa4a43575f3295a9.jpg"></a> <a href="" rel="nofollow"><img src="https://habrastorage.org/files/75c/cf6/1f3/75ccf61f30804dcf8bac01df97612821.jpg"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr397323/">https://habr.com/ru/post/fr397323/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr397313/index.html">Ajoutez simplement de l'eau. Un petit additif H‚ÇÇO augmente la puissance du moteur √† combustion interne et √©conomise du carburant</a></li>
<li><a href="../fr397315/index.html">√âclairage d'escalier automatique</a></li>
<li><a href="../fr397317/index.html">R√©nov√© en usine: nous achetons de l'√©lectronique √† bas prix et avec une garantie</a></li>
<li><a href="../fr397319/index.html">–°–≤—è–∑—å –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –≤–µ—â–µ–π: LoRa –ø—Ä–æ—Ç–∏–≤ UNB. –ß–∞—Å—Ç—å 2: –±–∏–∑–Ω–µ—Å</a></li>
<li><a href="../fr397321/index.html">Pr√©sentation officielle du Sony Xperia XZ et Xperia X Compact</a></li>
<li><a href="../fr397325/index.html">Le propri√©taire du forum informatique Ru-Board tu√©</a></li>
<li><a href="../fr397327/index.html">WaveNet: discours de type humain synth√©tis√© par ordinateur</a></li>
<li><a href="../fr397329/index.html">Pourquoi la peau se ride-t-elle dans l'eau</a></li>
<li><a href="../fr397331/index.html">iBrain est d√©j√† l√† - et d√©j√† dans votre t√©l√©phone</a></li>
<li><a href="../fr397333/index.html">La r√®gle des cinq secondes ne fonctionne toujours pas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>