<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â€¼ï¸ ğŸ‘¨ğŸ¼â€ğŸ¤â€ğŸ‘¨ğŸ» ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ¾ Baru di Jawa 12: The Teeing Collector ğŸ‘¨ğŸ½â€âœˆï¸ ğŸ‘©ğŸ½â€ğŸ“ ğŸ§–ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam artikel ini, kita akan melihat kolektor baru yang diperkenalkan di Jawa 12. Fitur baru ini tidak diumumkan di JEP resmi, karena itu adalah permi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Baru di Jawa 12: The Teeing Collector</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445622/">  Dalam artikel ini, kita akan melihat kolektor baru yang diperkenalkan di Jawa 12. Fitur baru ini tidak diumumkan di JEP resmi, karena itu adalah permintaan perubahan kecil dengan tajuk " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Buat Kolektor, yang menggabungkan hasil dari dua kolektor lain</a> ".  Ini dirancang untuk menggabungkan hasil dari dua kolektor. <br><br><img src="https://habrastorage.org/webt/ej/wh/np/ejwhnp9ubriragupcx8ey9a-xza.png"><br>  <i>Semua menarik - di bawah potongan</i> <i><br></i> <br><br><a name="habracut"></a><div class="spoiler">  <b class="spoiler_title">Jika Anda masih tidak tahu apa itu kolektor</b> <div class="spoiler_text">  Kolektor adalah kelas khusus yang digunakan untuk mengubah aliran ke struktur data lain.  Misalnya, dalam <code>list</code> : <pre> <code class="java hljs">list = Stream.of(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>).collect(Collectors.toList()); <span class="hljs-comment"><span class="hljs-comment">//     1, 2  3</span></span></code> </pre> <br>  Ini adalah contoh yang tidak berguna, karena menciptakan aliran baru dan segera mengubahnya.  Diperkirakan untuk menunjukkan penggunaan kolektor <br></div></div><br><h3>  Dokumentasi </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Klik di sini</a> untuk melihat <code>Collectors#teeing</code> .  Menurut dokumentasi resmi: <br><blockquote>  "... mengembalikan seorang kolektor yang terdiri dari dua kolektor bawahan.  Setiap elemen yang ditransfer ke kolektor yang dihasilkan diproses oleh kedua kolektor bawahan, dan kemudian hasilnya digabungkan menggunakan fungsi khusus yang menghubungkan mereka dengan hasil akhir. â€ <br><div class="spoiler">  <b class="spoiler_title">Asli</b> <div class="spoiler_text">  "... mengembalikan Kolektor yang merupakan gabungan dari dua kolektor hilir. Setiap elemen yang diteruskan ke kolektor yang dihasilkan diproses oleh kedua kolektor hilir, kemudian hasilnya digabung menggunakan fungsi gabungan yang ditentukan ke dalam hasil akhir." <br></div></div></blockquote>  Header Metode: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> &lt;T, R1, R2, R&gt; Collector&lt;T, ?, R&gt; teeing( Collector&lt;? <span class="hljs-keyword"><span class="hljs-keyword">super</span></span> T, ?, R1&gt; downstream1, Collector&lt;? <span class="hljs-keyword"><span class="hljs-keyword">super</span></span> T, ?, R2&gt; downstream2, BiFunction&lt;? <span class="hljs-keyword"><span class="hljs-keyword">super</span></span> R1, ? <span class="hljs-keyword"><span class="hljs-keyword">super</span></span> R2, R&gt; merger)</code> </pre> <br><h3>  Fakta menarik </h3><br>  Ini adalah <i>tee</i> (teeing dari Bahasa Inggris): <br><br><img src="https://habrastorage.org/webt/aj/vo/1i/ajvo1itohjc_8tcj7fjiquh7_6s.png"><br><br>  <code>Teeing</code> datang dari tee.  Menurut Wikipedia, "tee adalah fitting yang paling umum (menghubungkan bagian dari pipa, kira-kira. Penerjemah) yang digunakan untuk menggabungkan [atau membagi] aliran fluida (dalam hal ini, kami maksudkan stream, stream - stream / stream, comment translator)." <br><blockquote>  Nama lain diusulkan: membagi dua (membagi menjadi 2_parts), duplexing, membagi dua (membagi), replikator, fanout (membagi), mengetuk, membuka ritsleting, pengumpulan <br>  Semua alternatif yang dinilai oleh pengembang Core <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dapat ditemukan di sini</a> . </blockquote><h3>  Contoh Penggunaan </h3><br>  Saya telah mengumpulkan tiga contoh penggunaan kode dengan berbagai tingkat kompleksitas. <br><br><h4>  Daftar tamu </h4><br>  Kami mengekstraksi dua jenis informasi berbeda dari daftar objek dalam aliran.  Setiap tamu harus menerima undangan dan dapat memimpin keluarga.  Kami ingin tahu <b>siapa yang mengkonfirmasi reservasi</b> dan <b>jumlah peserta</b> (termasuk tamu dan anggota keluarga). <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = Stream.of( <span class="hljs-comment"><span class="hljs-comment">// Guest(String name, boolean participating, Integer participantsNumber) new Guest("Marco", true, 3), new Guest("David", false, 2), new Guest("Roger",true, 6)) .collect(Collectors.teeing( //  ,    ,    Collectors.filtering(Guest::isParticipating, //        Collectors.mapping(o -&gt; o.name, Collectors.toList())), //  ,       Collectors.summingInt(Guest::getParticipantsNumber), //      , //    EventParticipation::new )); System.out.println(result); //  // EventParticipation { guests = [Marco, Roger], // total number of participants = 11 }</span></span></code> </pre> <br><br><div class="spoiler">  <b class="spoiler_title">Tamu</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Guest</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> String name; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> participating; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Integer participantsNumber; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Guest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">boolean</span></span></span></span><span class="hljs-function"><span class="hljs-params"> participating, Integer participantsNumber)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.name = name; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.participating = participating; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.participantsNumber = participantsNumber; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isParticipating</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> participating; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Integer </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getParticipantsNumber</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> participantsNumber; } }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Partisipasi acara</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">EventParticipation</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;String&gt; guestNameList; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Integer totalNumberOfParticipants; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EventParticipation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;String&gt; guestNameList, Integer totalNumberOfParticipants)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.guestNameList = guestNameList; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.totalNumberOfParticipants = totalNumberOfParticipants; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"EventParticipation { "</span></span> + <span class="hljs-string"><span class="hljs-string">"guests = "</span></span> + guestNameList + <span class="hljs-string"><span class="hljs-string">", total number of participants = "</span></span> + totalNumberOfParticipants + <span class="hljs-string"><span class="hljs-string">" }"</span></span>; }}</code> </pre> <br></div></div><br><h4>  Saring nama dalam dua daftar berbeda </h4><br>  Dalam contoh ini, kami membagi aliran nama menjadi dua daftar sesuai dengan filter. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = Stream.of(<span class="hljs-string"><span class="hljs-string">"Devoxx"</span></span>, <span class="hljs-string"><span class="hljs-string">"Voxxed Days"</span></span>, <span class="hljs-string"><span class="hljs-string">"Code One"</span></span>, <span class="hljs-string"><span class="hljs-string">"Basel One"</span></span>, <span class="hljs-string"><span class="hljs-string">"Angular Connect"</span></span>) .collect(Collectors.teeing( <span class="hljs-comment"><span class="hljs-comment">//   Collectors.filtering(n -&gt; n.contains("xx"), Collectors.toList()), //   Collectors.filtering(n -&gt; n.endsWith("One"), Collectors.toList()), //  -       (List&lt;String&gt; list1, List&lt;String&gt; list2) -&gt; List.of(list1, list2) )); System.out.println(result); // -&gt; [[Devoxx, Voxxed Days], [Code One, Basel One]]</span></span></code> </pre> <br><h4>  Hitung dan tambahkan aliran angka </h4><br>  Anda mungkin telah melihat contoh serupa muncul di blog yang menggabungkan jumlah dan jumlah untuk mendapatkan rata-rata.  Contoh ini tidak memerlukan <code>Teeing</code> , dan Anda cukup menggunakan <code>AverageInt</code> dan seorang kolektor sederhana. <br><br>  Contoh berikut menggunakan fungsi dari <code>Teeing</code> untuk mengembalikan dua nilai: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = Stream.of(<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>, <span class="hljs-number"><span class="hljs-number">19</span></span>, <span class="hljs-number"><span class="hljs-number">21</span></span>) .collect(Collectors.teeing( <span class="hljs-comment"><span class="hljs-comment">//   Collectors.counting(), //   Collectors.summingInt(n -&gt; Integer.valueOf(n.toString())), // : (count, sum) -&gt; new Result(count, sum); Result::new )); System.out.println(result); // -&gt; {count=4, sum=57}</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Hasil</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Result</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Long count; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Integer sum; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Result</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Long count, Integer sum)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.count = count; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.sum = sum; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">toString</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"{"</span></span> + <span class="hljs-string"><span class="hljs-string">"count="</span></span> + count + <span class="hljs-string"><span class="hljs-string">", sum="</span></span> + sum + <span class="hljs-string"><span class="hljs-string">'}'</span></span>; }}</code> </pre> <br></div></div><br><h3>  Kemungkinan jebakan </h3><br><h5>  Peta. Coba </h5><br>  Banyak contoh menggunakan <code>Map.Entry</code> untuk menyimpan hasil <code>BiFunction</code> .  Tolong jangan lakukan ini karena Anda tidak dapat menyimpan argumen terakhir di <code>Map</code> .  Tidak ada objek standar di Java Core untuk menyimpan dua nilai - Anda harus membuatnya sendiri. <br><br><h3>  Semua Tentang Java 12 Fitur Baru </h3><br>  Anda dapat menemukan informasi lebih lanjut dan fakta menarik tentang Java 12 dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">presentasi</a> ini. <br><br>  Koleksi yang berhasil! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id445622/">https://habr.com/ru/post/id445622/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id445602/index.html">PHP Rusia 2019: "stadion" -nya untuk bahasa liga pertama</a></li>
<li><a href="../id445608/index.html">Game over: analis melaporkan peningkatan jumlah serangan DDoS pada segmen game</a></li>
<li><a href="../id445612/index.html">Penyimpanan cluster untuk cluster web kecil berdasarkan drbd + ocfs2</a></li>
<li><a href="../id445618/index.html">Kami menulis sistem operasi di Rust. Menerapkan memori halaman (baru)</a></li>
<li><a href="../id445620/index.html">Apa yang dilakukan penulis UX?</a></li>
<li><a href="../id445626/index.html">Seberapa dalam lubang kelinci? CLRium # 5: Pengumpul Sampah</a></li>
<li><a href="../id445632/index.html">Dari parser poster teater Python ke bot Telegram. Bagian 2</a></li>
<li><a href="../id445638/index.html">Magang buta di Museum Seni Modern Garage</a></li>
<li><a href="../id445640/index.html">Memprogram Basis LibreOffice. Bagian 3</a></li>
<li><a href="../id445642/index.html">Windows Virtual Desktop sekarang dalam pratinjau publik di Azure</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>