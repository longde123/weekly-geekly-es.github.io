<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèø‚Äçüè≠ ü•ù üöê Objetivos do n√≠vel de servi√ßo - Experi√™ncia do Google (tradu√ß√£o do cap√≠tulo do livro do Google SRE) üë©üèæ‚Äçü§ù‚Äçüë®üèº üó∫Ô∏è üíÜüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="SRE (Site Reliability Engineering) - uma abordagem para garantir a disponibilidade de projetos da web. Ele √© considerado uma estrutura para o DevOps e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Objetivos do n√≠vel de servi√ßo - Experi√™ncia do Google (tradu√ß√£o do cap√≠tulo do livro do Google SRE)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/484578/"><img src="https://habrastorage.org/webt/rj/u4/8s/rju48s3gqxozu32f2esipgkpc6c.png" alt="imagem"><br><br>  SRE (Site Reliability Engineering) - uma abordagem para garantir a disponibilidade de projetos da web.  Ele √© considerado uma estrutura para o DevOps e mostra como ter sucesso na aplica√ß√£o de pr√°ticas do DevOps.  Este artigo √© uma tradu√ß√£o do <a href="https://landing.google.com/sre/book/chapters/service-level-objectives.html" rel="nofollow">Cap√≠tulo 4 dos Objetivos</a> do <a href="https://landing.google.com/sre/book/chapters/service-level-objectives.html" rel="nofollow">n√≠vel de servi√ßo</a> da <a href="https://landing.google.com/sre/book.html" rel="nofollow">Engenharia de confiabilidade</a> do <a href="https://landing.google.com/sre/book.html" rel="nofollow">site</a> do Google.  Eu mesmo preparei esta tradu√ß√£o e confiei em minha pr√≥pria experi√™ncia na compreens√£o dos processos de monitoramento.  No canal de telegrama <a href="https://t.me/monitorim_it/26" rel="nofollow">monitorim_it</a> e no <a href="https://habr.com/ru/post/484246/">√∫ltimo post sobre Habr√©</a> , tamb√©m publiquei uma tradu√ß√£o do cap√≠tulo 6 do mesmo livro sobre monitoramento de sistemas distribu√≠dos. <br><br>  Tradu√ß√£o por cat.  Boa leitura! <br><a name="habracut"></a><br>  √â imposs√≠vel gerenciar um servi√ßo se n√£o houver entendimento de quais indicadores realmente importam e como medi-los e avali√°-los.  Para esse fim, definimos e fornecemos um certo n√≠vel de servi√ßo aos nossos usu√°rios, independentemente de eles usarem uma de nossas APIs internas ou um produto p√∫blico. <br><br>  Utilizamos nossa intui√ß√£o, experi√™ncia e reconhecemos o desejo dos usu√°rios de ter uma id√©ia de indicadores de n√≠vel de servi√ßo (SLI), objetivos de n√≠vel de servi√ßo (SLO) e contrato de n√≠vel de servi√ßo (SLA).  Essas medidas descrevem as principais m√©tricas que queremos controlar e √†s quais responderemos se n√£o pudermos fornecer a qualidade de servi√ßo esperada.  Por fim, a escolha dos indicadores certos ajuda a gerenciar as a√ß√µes certas, se algo der errado, e tamb√©m confere confian√ßa √† equipe do SRE na sa√∫de do servi√ßo. <br><br>  Este cap√≠tulo descreve a abordagem que usamos para lidar com os problemas de modelagem, sele√ß√£o e an√°lise de m√©tricas.  A maioria das explica√ß√µes ser√° sem exemplos; portanto, usaremos o servi√ßo de Shakespeare descrito no exemplo de sua implementa√ß√£o (procure as obras de Shakespeare) para ilustrar os principais pontos. <br><br><h1>  Terminologia de n√≠vel de servi√ßo </h1><br>  Muitos leitores provavelmente est√£o familiarizados com o conceito de SLA, mas os termos SLI e SLO merecem defini√ß√£o cuidadosa, pois, em geral, o termo SLA est√° sobrecarregado e possui v√°rios significados, dependendo do contexto.  Para maior clareza, queremos separar esses valores. <br><br><h3>  Indicadores </h3><br>  O SLI √© um indicador do n√≠vel de servi√ßo - uma medida cuidadosamente quantificada de um aspecto do n√≠vel de servi√ßo fornecido. <br><br>  Para a maioria dos servi√ßos, o atraso na solicita√ß√£o √© considerado como o SLI principal - quanto tempo √© necess√°rio para retornar uma resposta √† solicita√ß√£o.  Outras SLIs comuns incluem a taxa de erro, geralmente expressa como uma fra√ß√£o de todas as solicita√ß√µes recebidas, e a taxa de transfer√™ncia do sistema, geralmente medida em solicita√ß√µes por segundo.  As medidas geralmente s√£o agregadas: os dados brutos s√£o coletados primeiro e depois convertidos em taxa de varia√ß√£o, m√©dia ou percentil. <br><br>  Idealmente, o SLI mede diretamente o n√≠vel de servi√ßo de interesse, mas √†s vezes apenas a m√©trica associada est√° dispon√≠vel para medi√ß√£o, porque √© dif√≠cil obter ou interpretar o original.  Por exemplo, a lat√™ncia do lado do cliente geralmente √© uma m√©trica mais apropriada, mas acontece que medir a lat√™ncia s√≥ √© poss√≠vel no servidor. <br><br>  Outro tipo de SLI que √© importante para o SRE √© a disponibilidade ou parte do tempo durante o qual o servi√ßo pode ser usado.  √â geralmente definido como a porcentagem de solicita√ß√µes bem-sucedidas, √†s vezes chamadas de gera√ß√£o.  (Expectativa de vida - a probabilidade de os dados serem armazenados por um longo per√≠odo de tempo tamb√©m √© importante para os sistemas de armazenamento de dados.) Embora a acessibilidade seja 100% imposs√≠vel, acessibilidade pr√≥xima a 100% geralmente √© poss√≠vel, valores de acessibilidade s√£o expressos como o n√∫mero ‚Äúnove‚Äù ¬ªPorcentagem de disponibilidade.  Por exemplo, a disponibilidade de 99% e 99,999% pode ser referida como "2 noves" e "5 noves".  A atual meta declarada de acessibilidade para o Google Compute Engine √© "tr√™s e meio e nove" ou 99,95%. <br><br><h3>  Objetivos </h3><br>  SLO √© a meta de um n√≠vel de servi√ßo: um valor-alvo ou intervalo de valores para o n√≠vel de servi√ßo medido pelo SLI.  O valor normal para SLO √© "SLI ‚â§ valor alvo" ou "limite inferior ‚â§ SLI ‚â§ limite superior".  Por exemplo, podemos decidir que retornaremos os resultados da pesquisa para as obras de Shakespeare "rapidamente", assumindo na forma de SLO o valor do atraso m√©dio da consulta de pesquisa √© inferior a 100 milissegundos. <br><br>  Escolher o SLO certo √© um processo complexo.  Primeiro, voc√™ nem sempre pode selecionar um valor espec√≠fico.  Para solicita√ß√µes HTTP de entrada externas ao seu servi√ßo, a m√©trica do n√∫mero de solicita√ß√µes por segundo (QPS) √© determinada principalmente pelo desejo dos usu√°rios de visitar seu servi√ßo e voc√™ n√£o pode instalar o SLO para isso. <br><br>  Por outro lado, voc√™ pode dizer que deseja que o atraso m√©dio para cada solicita√ß√£o seja inferior a 100 milissegundos.  Definir essa meta pode fazer com que voc√™ escreva seu front-end com um atraso baixo ou compre equipamentos que ofere√ßam esse atraso.  (100 milissegundos √© obviamente um valor arbitr√°rio, mas √© melhor ter taxas de lat√™ncia ainda mais baixas. H√° raz√µes para acreditar que alta velocidade √© melhor que lenta e que atrasar o processamento de solicita√ß√µes de usu√°rios acima de certos valores realmente for√ßa as pessoas a ficarem longe do seu servi√ßo.) <br><br>  Novamente, isso √© mais amb√≠guo do que parece √† primeira vista: n√£o vale a pena jogar o QPS fora do c√°lculo.  O fato √© que o pacote QPS e o atraso est√£o fortemente relacionados um ao outro: um QPS mais alto geralmente leva a atrasos mais longos e, geralmente, os servi√ßos sofrem uma queda acentuada no desempenho quando um determinado limite de carga √© atingido. <br><br>  A escolha e publica√ß√£o do SLO define as expectativas do usu√°rio sobre como o servi√ßo funcionar√°.  Essa estrat√©gia pode reduzir reclama√ß√µes irracionais sobre o propriet√°rio do servi√ßo, por exemplo, sobre seu trabalho lento.  Sem um SLO expl√≠cito, os usu√°rios geralmente criam suas pr√≥prias expectativas sobre o desempenho desejado, o que pode n√£o estar relacionado √†s opini√µes das pessoas que projetam e gerenciam o servi√ßo.  Esse alinhamento pode levar a altas expectativas do servi√ßo, quando os usu√°rios acreditam erroneamente que o servi√ßo ser√° mais acess√≠vel do que realmente √© e causam desconfian√ßa quando os usu√°rios consideram o sistema menos confi√°vel do que realmente √©. <br><br><h3>  Acordo </h3><br>  Um contrato de n√≠vel de servi√ßo √© um contrato expl√≠cito ou impl√≠cito com seus usu√°rios que inclui as consequ√™ncias do in√≠cio (ou aus√™ncia) dos SLOs que eles cont√™m.  As consequ√™ncias s√£o mais facilmente reconhecidas quando s√£o financeiras - um desconto ou uma penalidade - mas podem assumir outras formas.  Uma maneira f√°cil de falar sobre a diferen√ßa entre SLOs e SLAs √© perguntar: "O que acontece se os SLOs n√£o forem atendidos?"  Se n√£o houver conseq√º√™ncias √≥bvias, voc√™ certamente ver√° o SLO. <br><br>  Os SREs geralmente n√£o est√£o envolvidos na cria√ß√£o de SLAs porque eles est√£o intimamente relacionados a solu√ß√µes de neg√≥cios e produtos.  A SRE, no entanto, est√° envolvida em ajudar a evitar as consequ√™ncias de falhas nos SLOs.  Eles tamb√©m podem ajudar a determinar os SLIs: obviamente, deve haver uma maneira objetiva de medir os SLOs em um contrato ou haver√° diverg√™ncias. <br><br>  A Pesquisa do Google √© um exemplo de um servi√ßo importante que n√£o possui um SLA para o p√∫blico: queremos que todos usem a Pesquisa com a maior efici√™ncia poss√≠vel, mas n√£o assinamos um contrato com o mundo inteiro.  No entanto, ainda existem consequ√™ncias se a pesquisa n√£o estiver dispon√≠vel - a inacessibilidade leva a uma queda em nossa reputa√ß√£o, bem como a uma diminui√ß√£o na receita de publicidade.  Muitos outros servi√ßos do Google, como o Google for Work, t√™m acordos expl√≠citos de n√≠vel de servi√ßo com os usu√°rios.  Independentemente de um servi√ßo espec√≠fico ter um SLA, √© importante determinar o SLI e o SLO e us√°-los para gerenciar o servi√ßo. <br><br>  Tanta teoria - agora para experimentar. <br><br><h1>  Indicadores na pr√°tica </h1><br>  Como conclu√≠mos que √© importante selecionar os indicadores apropriados para medir o n√≠vel de servi√ßo, como voc√™ sabe agora quais indicadores s√£o relevantes para o servi√ßo ou sistema? <br><br><h3>  O que voc√™ e seus usu√°rios se preocupam </h3><br>  Voc√™ n√£o precisa usar cada indicador como um SLI, que pode ser rastreado no sistema de monitoramento;  Compreender o que os usu√°rios desejam do sistema ajudar√° voc√™ a escolher algumas m√©tricas.  A escolha de muitos indicadores dificulta a aten√ß√£o a indicadores importantes, enquanto a escolha de poucos pode deixar partes significativas do sistema sem supervis√£o.  Normalmente, usamos v√°rios indicadores-chave para avaliar e entender o estado do sistema. <br><br>  Os servi√ßos, em regra, podem ser divididos em v√°rias partes em termos de SLI, que s√£o relevantes para eles: <br><br><ul><li>  Sistemas de front-end personalizados, como as interfaces de pesquisa de servi√ßo de Shakespeare do nosso exemplo.  Eles devem estar acess√≠veis, sem atrasos e ter largura de banda suficiente.  Nesse sentido, voc√™ pode fazer perguntas: podemos responder √† solicita√ß√£o?  Quanto tempo levou para responder √† solicita√ß√£o?  Quantas solicita√ß√µes podem ser processadas? </li><li>  Sistemas de armazenamento.  Baixa lat√™ncia, disponibilidade e durabilidade s√£o importantes para eles.  Perguntas relacionadas: Quanto tempo leva para ler ou gravar dados?  Podemos acessar dados sob demanda?  Os dados est√£o dispon√≠veis quando precisamos?  Veja o cap√≠tulo 26 Integridade de Dados: o que voc√™ l√™ √© o que voc√™ anotou para uma discuss√£o detalhada dessas quest√µes. </li><li>  Os sistemas de big data, como os pipelines de processamento de dados, dependem da taxa de transfer√™ncia e da lat√™ncia do processamento de solicita√ß√µes.  Perguntas relevantes: quantos dados s√£o processados?  Quanto tempo leva para os dados passarem de receber uma solicita√ß√£o para emitir uma resposta?  (Algumas partes do sistema tamb√©m podem ter atrasos em determinados est√°gios.) </li></ul><br><h3>  Coleta de Indicadores </h3><br>  √â mais natural coletar muitos indicadores de n√≠vel de servi√ßo no lado do servidor usando um sistema de monitoramento como o Borgmon (consulte o <a href="https://landing.google.com/sre/book/chapters/practical-alerting.html" rel="nofollow">Cap√≠tulo 10 - Pr√°ticas de alerta de s√©ries temporais</a> ) ou o Prometheus, ou simplesmente analisando periodicamente os logs para identificar respostas HTTP com um status de 500. No entanto, alguns sistemas devem estar equipados com uma cole√ß√£o de m√©tricas do lado do cliente, pois a falta de monitoramento no lado do cliente pode levar √† falta de v√°rios problemas que afetam os usu√°rios, mas n√£o afetam as m√©tricas do lado do servidor.  Por exemplo, focar na resposta atrasada do back-end de nosso aplicativo de teste, procurando as obras de Shakespeare, pode levar a um atraso no processamento de solicita√ß√µes no lado do usu√°rio devido a problemas de JavaScript: nesse caso, medir quanto tempo a p√°gina levar√° para processar no navegador √© o melhor indicador. <br><br><h3>  Agrega√ß√£o </h3><br>  Para simplificar e facilitar o uso, geralmente agregamos dimens√µes brutas.  Isso deve ser feito com cuidado. <br><br>  Alguns indicadores parecem simples, por exemplo, o n√∫mero de consultas por segundo, mas mesmo essa medi√ß√£o direta e √≥bvia agrega implicitamente dados ao longo do tempo.  A medida √© obtida especificamente uma vez por segundo ou a m√©dia √© calculada sobre o n√∫mero de consultas por minuto?  A √∫ltima op√ß√£o pode ocultar um n√∫mero instant√¢neo muito maior de solicita√ß√µes armazenadas por apenas alguns segundos.  Considere um sistema que atende 200 solicita√ß√µes por segundo com n√∫meros pares e 0 pelo resto do tempo.  Uma constante na forma de um valor m√©dio de 100 solicita√ß√µes por segundo e duas vezes mais carga instant√¢nea n√£o √© a mesma coisa.  Da mesma forma, a m√©dia da lat√™ncia de solicita√ß√µes pode parecer atraente, mas oculta um detalhe importante: √© poss√≠vel que a maioria das solicita√ß√µes seja r√°pida, mas haver√° muitas solicita√ß√µes que ser√£o lentas. <br><br>  A maioria dos indicadores √© melhor visualizada como distribui√ß√µes do que como m√©dias.  Por exemplo, para atrasos no SLI, algumas solicita√ß√µes ser√£o processadas rapidamente, enquanto outras sempre levar√£o mais, √†s vezes muito mais.  Uma m√©dia simples pode ocultar esses longos atrasos.  A figura mostra um exemplo: embora uma solicita√ß√£o t√≠pica seja atendida por aproximadamente 50 ms, 5% das solicita√ß√µes s√£o 20 vezes mais lentas!  O monitoramento e alertas baseados apenas na lat√™ncia m√©dia n√£o mostram mudan√ßas no comportamento durante o dia, quando, de fato, h√° mudan√ßas vis√≠veis no tempo de processamento de algumas solicita√ß√µes (a linha superior). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cc4/719/a60/cc4719a6007b867af81ec40a5a8ee7dd.jpg" alt="imagem"><br>  <i>50, 85, 95 e 99 percentil de atraso do sistema.</i>  <i>O eixo Y est√° no formato logar√≠tmico.</i> <br><br>  O uso de percentis para indicadores permite ver a forma da distribui√ß√£o e suas caracter√≠sticas: um alto n√≠vel de um percentil, como 99 ou 99,9, mostra o pior valor e, no percentil 50 (tamb√©m conhecido como mediana), √© poss√≠vel ver o estado mais frequente da m√©trica.  Quanto maior a varia√ß√£o no tempo de resposta, mais fortes as consultas de longo prazo afetam a experi√™ncia do usu√°rio.  O efeito √© aprimorado com carga alta na presen√ßa de filas.  Os estudos de experi√™ncia do usu√°rio mostraram que as pessoas geralmente preferem um sistema mais lento com uma alta dispers√£o do tempo de resposta; portanto, alguns comandos do SRE se concentram apenas em valores percentuais altos, com base no pressuposto de que, se o comportamento da m√©trica no percentil 99,9 for bom, a maioria dos usu√°rios n√£o experimentar√° problemas <br><br><blockquote>  <b>Nota sobre erros estat√≠sticos</b> <br><br>  Geralmente, preferimos trabalhar com percentis do que com um conjunto de valores m√©dio (m√©dia aritm√©tica).  Isso nos permite considerar valores mais dispersos, que geralmente t√™m caracter√≠sticas significativamente diferentes (e mais interessantes) do que a m√©dia.  Devido √† natureza artificial dos sistemas de computa√ß√£o, os valores das m√©tricas geralmente s√£o distorcidos, por exemplo, nenhuma solicita√ß√£o pode receber uma resposta em menos de 0 ms e um tempo limite de 1000 ms significa que n√£o pode haver respostas bem-sucedidas com valores que excedem o tempo limite.  Como resultado, n√£o podemos aceitar que a m√©dia e as medianas possam ser iguais ou pr√≥ximas umas das outras! <br><br>  Sem verifica√ß√£o preliminar, e se algumas suposi√ß√µes e aproxima√ß√µes padr√£o n√£o forem cumpridas, tentamos n√£o tirar conclus√µes de que nossos dados s√£o normalmente distribu√≠dos.  Se a distribui√ß√£o n√£o for como o esperado, o processo de automa√ß√£o que corrige o problema (por exemplo, quando v√™ valores fora dos limites, reinicia o servidor com altas lat√™ncias para processar a solicita√ß√£o) pode fazer isso com muita frequ√™ncia ou com pouca frequ√™ncia (ambas as op√ß√µes n√£o s√£o muito boas). </blockquote><br><h3>  Padronizar indicadores </h3><br>  Recomendamos a padroniza√ß√£o das caracter√≠sticas gerais das SLIs, para que voc√™ n√£o precise falar sobre elas todas as vezes.  Qualquer fun√ß√£o que atenda aos modelos padr√£o pode ser exclu√≠da da especifica√ß√£o de um SLI individual, por exemplo: <br><br><ul><li>  Intervalos de agrega√ß√£o: "m√©dia de 1 minuto" </li><li>  √Åreas de agrega√ß√£o: ‚ÄúTodas as tarefas no cluster‚Äù </li><li>  Com que frequ√™ncia s√£o feitas as medi√ß√µes: "A cada 10 segundos" </li><li>  Quais pedidos est√£o inclu√≠dos: "HTTP GET de trabalhos de monitoramento de caixa preta" </li><li>  Como os dados foram recebidos: "Gra√ßas ao nosso monitoramento medido no servidor", </li><li>  Atraso no acesso a dados: "Tempo at√© o √∫ltimo byte" </li></ul><br>  Para economizar esfor√ßo, crie um conjunto de modelos de SLI reutiliz√°veis ‚Äã‚Äãpara cada m√©trica comum;  eles tamb√©m facilitam a compreens√£o de todos sobre o que significa um SLI espec√≠fico. <br><br><h1>  Objetivos da pr√°tica </h1><br>  Comece pensando (ou descubra!) Com o que seus usu√°rios se preocupam, n√£o com o que voc√™ pode medir.  Freq√ºentemente, o que incomoda seus usu√°rios √© dif√≠cil ou imposs√≠vel de medir, ent√£o voc√™ acaba se aproximando das necessidades deles.  No entanto, se voc√™ come√ßar com o que √© f√°cil de medir, obter√° SLOs menos √∫teis.  Como resultado, √†s vezes descobrimos que a defini√ß√£o inicial das metas desejadas e o trabalho adicional com indicadores espec√≠ficos funcionam melhor do que escolher indicadores e, em seguida, atingir metas. <br><br><h3>  Definir metas </h3><br>  Para maior clareza, deve-se determinar como os SLOs s√£o medidos e as condi√ß√µes sob as quais eles s√£o v√°lidos.  Por exemplo, podemos dizer o seguinte (a segunda linha √© igual √† primeira, mas usa valores SLI por padr√£o): <br><br><ul><li>  99% (m√©dia de 1 minuto) das chamadas Get RPC ser√£o conclu√≠das em menos de 100 ms (medido em todos os servidores back-end). </li><li>  99% das chamadas Get RPC ser√£o conclu√≠das em menos de 100ms. </li></ul><br>  Se a forma das curvas de desempenho for importante, voc√™ poder√° especificar v√°rios objetivos de SLO: <br><br><ul><li>  90% das chamadas Get RPC conclu√≠das em menos de 1 ms. </li><li>  99% das chamadas Get RPC conclu√≠das em menos de 10 ms. </li><li>  99,9% das chamadas Get RPC conclu√≠das em menos de 100 ms. </li></ul><br>  Se seus usu√°rios gerarem cargas heterog√™neas: processamento em massa (para o qual a largura de banda √© importante) e processamento interativo (para o qual a quantidade de atraso √© importante), pode ser aconselh√°vel definir metas separadas para cada classe de carregamento: <br><br><ul><li>  95% das solicita√ß√µes de clientes s√£o largura de banda importante.  Defina a contagem de chamadas RPC em andamento &lt;1 s. </li><li>  99% dos clientes valorizam a quantidade de atraso.  Configure a contagem de chamadas RPC com tr√°fego &lt;1 kB e em andamento &lt;10 ms. </li></ul><br>  √â irreal e indesej√°vel insistir que os SLOs ser√£o executados em 100% dos casos: isso pode diminuir o ritmo da introdu√ß√£o de novas funcionalidades e implanta√ß√£o e exigir solu√ß√µes caras.  Em vez disso, √© melhor permitir um or√ßamento de erros - uma fra√ß√£o do tempo de inatividade do sistema e monitorar esse valor diariamente ou semanalmente.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A alta ger√™ncia pode querer uma avalia√ß√£o mensal ou trimestral. </font><font style="vertical-align: inherit;">(O or√ßamento do erro √© apenas um SLO para compara√ß√£o com outro SLO). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A porcentagem de viola√ß√£o do SLO pode ser comparada com o or√ßamento de erro (consulte o Cap√≠tulo 3 e a se√ß√£o </font></font><a href="https://landing.google.com/sre/book/chapters/embracing-risk.html" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúMotiva√ß√£o para or√ßamentos de erro‚Äù</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), e o valor da diferen√ßa √© usado como uma entrada para o processo que decide quando implantar novas vers√µes.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Selecionar valores planejados </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A sele√ß√£o de valores planejados (SLO) n√£o √© uma atividade puramente t√©cnica devido aos interesses do produto e do neg√≥cio, que devem refletir-se no SLI, SLO (e, possivelmente, SLA) selecionados. Da mesma forma, pode ser necess√°rio trocar informa√ß√µes sobre quest√µes relacionadas a pessoal, tempo de coloca√ß√£o no mercado, disponibilidade de equipamentos e financiamento. O SRE deve fazer parte dessa conversa e ajudar a lidar com os riscos e a viabilidade das v√°rias op√ß√µes. Descobrimos algumas perguntas que podem ajudar a fornecer uma discuss√£o mais produtiva: </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√£o escolha uma meta com base no desempenho atual.</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Embora seja importante compreender os pontos fortes e os limites do sistema, a adapta√ß√£o de indicadores sem racioc√≠nio pode impedi-lo de dar suporte ao sistema: ser√£o necess√°rios esfor√ßos her√≥icos para alcan√ßar metas que n√£o podem ser alcan√ßadas sem uma grande reorganiza√ß√£o. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mantenha-o simples</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Os c√°lculos complexos de SLI podem ocultar altera√ß√µes no desempenho do sistema e dificultar a localiza√ß√£o da causa do problema. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Evite o absoluto</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Embora seja tentador ter um sistema que possa suportar uma carga crescente ilimitada sem aumentar o valor do atraso, esse requisito n√£o √© realista. Um sistema que atenda a esses ideais provavelmente for√ßar√° muito tempo para projetar e construir, custar√° caro para operar ser√° muito bom para as expectativas dos usu√°rios que teriam menos.</font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use o menor n√∫mero poss√≠vel de SLOs.</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Escolha SLOs suficientes para fornecer uma boa cobertura dos atributos do sistema. Proteja os SLOs que voc√™ escolher: se voc√™ nunca conseguir vencer uma disputa sobre prioridades especificando um SLO espec√≠fico, provavelmente n√£o deve consider√°-lo. No entanto, nem todos os atributos do sistema se prestam ao SLO: √© dif√≠cil calcular o n√≠vel de entusiasmo do usu√°rio com o SLO. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√£o busque a perfei√ß√£o</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Voc√™ sempre pode esclarecer as defini√ß√µes e os objetivos do SLO ao longo do tempo, quando aprender mais sobre o comportamento do sistema sob carga. √â melhor come√ßar com uma meta flutuante, que voc√™ esclarecer√° com o tempo, do que escolher uma meta muito estrita, que deve ser enfraquecida quando voc√™ achar que √© inating√≠vel.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Os SLOs podem e devem ser o principal fator na prioriza√ß√£o do trabalho para SRE e desenvolvedores de produtos, pois refletem o atendimento ao usu√°rio. </font><font style="vertical-align: inherit;">Um bom SLO √© uma ferramenta √∫til para convencer uma equipe de desenvolvimento. </font><font style="vertical-align: inherit;">Mas um SLO mal projetado pode levar a um trabalho desnecess√°rio se a equipe fizer esfor√ßos her√≥icos para obter um SLO excessivamente agressivo ou um produto ruim se o SLO for muito baixo. </font><font style="vertical-align: inherit;">SLO √© uma alavanca poderosa, use-a com sabedoria.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Medi√ß√µes de controle </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SLI e SLO s√£o os principais elementos usados ‚Äã‚Äãpara gerenciar sistemas: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Monitorar e medir sistemas SLI. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Compare o SLI com o SLO e decida se s√£o necess√°rias a√ß√µes. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Se uma a√ß√£o for necess√°ria, descubra o que precisa acontecer para atingir a meta. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Execute esta a√ß√£o. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por exemplo, se a etapa 2 mostrar que o tempo limite da solicita√ß√£o est√° aumentando e interromper o SLO ap√≥s algumas horas, se nada for feito, a etapa 3 poder√° incluir o teste da hip√≥tese de que a carga do servidor est√° vinculada aos processadores e a adi√ß√£o de novos servidores distribuir√° a carga . Sem o SLO, voc√™ n√£o saberia se (ou quando) tomar uma a√ß√£o. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definir SLO - as expectativas do usu√°rio s√£o definidas</font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A publica√ß√£o de um SLO define as expectativas do usu√°rio em rela√ß√£o ao comportamento do sistema. Os usu√°rios (e usu√°rios em potencial) geralmente querem saber o que esperar de um servi√ßo para ver se ele √© adequado para uso. Por exemplo, as pessoas que desejam usar um site de compartilhamento de fotos podem querer evitar o uso de um servi√ßo que promete durabilidade e baixo custo em troca de disponibilidade um pouco menor, embora o mesmo servi√ßo possa ser ideal para um sistema de gerenciamento de grava√ß√£o de arquivo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para definir expectativas realistas para seus usu√°rios, use uma ou ambas das seguintes t√°ticas:</font></font><br><br><ul><li> <b>  .</b>     SLO,   .       ,      .  SLO        ,               . </li><li> <b>   .</b>    ,   ,     .       ,   SLO,      .     ,         . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compreender o qu√£o bem o sistema atende √†s expectativas ajuda a decidir se o sistema deve ser acelerado e mais acess√≠vel e mais est√°vel. </font><font style="vertical-align: inherit;">Como alternativa, se o servi√ßo funcionar muito bem, dedique algum tempo √† equipe em outras prioridades, como pagar d√≠vidas t√©cnicas, adicionar novos recursos ou colocar novos produtos em opera√ß√£o.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Acordos de pr√°tica </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A cria√ß√£o de um SLA exige que as equipes comerciais e jur√≠dicas determinem as conseq√º√™ncias e as penalidades por viol√°-lo. </font><font style="vertical-align: inherit;">O papel do SRE √© ajud√°-los a entender as prov√°veis ‚Äã‚Äãdificuldades com a execu√ß√£o dos SLOs contidos nos SLAs. </font><font style="vertical-align: inherit;">A maioria das diretrizes de SLO tamb√©m √© aplic√°vel a SLAs. </font><font style="vertical-align: inherit;">√â aconselh√°vel ser conservador quanto ao que voc√™ promete aos usu√°rios, porque quanto mais eles s√£o, mais dif√≠cil √© alterar ou remover SLAs que parecem irracionais ou dif√≠ceis de implementar. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obrigado por ler a tradu√ß√£o at√© o fim. </font><font style="vertical-align: inherit;">Inscreva-se no meu canal de telegrama sobre o monitoramento </font></font><a href="https://t.me/monitorim_it" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">monitorim_it</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e o </font></font><a href="https://medium.com/%40antonkasimov" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blog no Medium</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt484578/">https://habr.com/ru/post/pt484578/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt484556/index.html">Ent√£o, quando ainda √© poss√≠vel usar!</a></li>
<li><a href="../pt484564/index.html">Escrevemos um driver para um laptop para divers√£o e lucro, ou como se comprometer com o kernel, mesmo que voc√™ seja um tolo</a></li>
<li><a href="../pt484568/index.html">Hack The Box - Jogador passo a passo. Explora√ß√£o do FFmpeg, JWT e v√°rias listagens na web</a></li>
<li><a href="../pt484572/index.html">Minha abordagem de gerenciamento de tempo / tarefa usando VSCode</a></li>
<li><a href="../pt484574/index.html">Sem carrapatos! Vetor de plantas versus doen√ßa de Lyme</a></li>
<li><a href="../pt484580/index.html">O que voc√™ precisa saber sobre simuladores de mem√≥ria</a></li>
<li><a href="../pt484582/index.html">ASP.NET MVC - Entity Framework, MySQL e usando o Dependency Resolver para selecionar um reposit√≥rio</a></li>
<li><a href="../pt484584/index.html">Por que precisamos de um gerente em um projeto de TI e o que acontecer√° quando n√£o for</a></li>
<li><a href="../pt484586/index.html">Trabalhar com IPv6 em PHP</a></li>
<li><a href="../pt484588/index.html">Modelo de gerenciamento automatizado de programas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>