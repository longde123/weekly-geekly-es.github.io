<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏔️ 🔮 🚩 Klusterkit 📼 👨‍🎤 ☠️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="KlusterKit: Toolkit open source untuk menyederhanakan penyebaran Kubernetes dan bekerja di lingkungan lokal yang terisolasi secara fisik 





 Hari i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Klusterkit</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/449214/"><h2 id="klusterkit-nabor-instrumentov-s-otkrytym-ishodnym-kodom-dlya-uproscheniya-deploev-kubernetes-i-raboty-v-fizicheski-izolirovannyh-lokalnyh-sredah">  KlusterKit: Toolkit open source untuk menyederhanakan penyebaran Kubernetes dan bekerja di lingkungan lokal yang terisolasi secara fisik </h2><br><p><img src="https://habrastorage.org/webt/z5/q7/va/z5q7vawtfqjkbja8megct_o6mdi.png"></p><br><p>  Hari ini, kami dengan senang hati mengumumkan bahwa Platform9 membuka kode sumber untuk Klusterkit, kit tiga alat, di bawah lisensi Apache v2.0 di GitHub. </p><br><p>  Pelanggan kami meluncurkan perangkat lunak di pusat data pribadi, yang seringkali tidak terhubung ke Internet (untuk alasan keamanan atau karena alasan lain).  Perusahaan-perusahaan besar ini ingin mengambil keuntungan dari Kubernetes dan memodernisasi aplikasi mereka dan pada saat yang sama meluncurkannya ke pusat data yang berbeda, yang seringkali tidak memiliki koneksi dengan dunia luar.  Dan di sini Klusterkit datang untuk menyelamatkan, yang menyederhanakan pengiriman dan pengelolaan kluster K8 di lingkungan yang terisolasi secara fisik. </p><br><p>  Klusterkit mencakup tiga alat independen yang dapat digunakan bersama atau secara terpisah untuk mengelola siklus hidup kluster produksi Kubernetes: </p><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">etcdadm</a> , CLI untuk etc cluster management yang disederhanakan </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">nodeadm</a> , sebuah administrasi CLI node yang melengkapi kubeadm dan menyebarkan dependensi yang dibutuhkan oleh kubeadm. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">cctl</a> , alat manajemen siklus hidup klaster yang menerima API Cluster dari komunitas Kubernetes dan menggunakan nodeadm dan etcdadm untuk dengan mudah memasok dan memelihara kluster Kubernet yang sangat tersedia di lingkungan lokal dan bahkan secara fisik terisolasi. </li></ol><br><p>  Bersama-sama, ketiga alat ini melakukan tugas-tugas berikut: </p><a name="habracut"></a><br><ul><li>  Kemudahan pengiriman dan pengelolaan cluster dlld ketersediaan tinggi dan panel kontrol Kubernetes di lingkungan lokal yang terisolasi secara fisik melalui Cluster API. </li><li>  Kembalikan panel kontrol kluster setelah kegagalan menggunakan cadangan etcd. </li><li> Pengemasan semua artefak yang diperlukan untuk mengirimkan Kubernetes di lingkungan yang terisolasi secara fisik. </li></ul><br><h3 id="vozmozhnosti-klusterkit">  Fitur Klusterkit </h3><br><ul><li>  Dukungan banyak penyihir (K8s HA cluster). </li><li>  Pasokan dan manajemen cluster aman dll </li><li>  Bekerja di lingkungan yang terisolasi secara fisik. </li><li>  Mendukung pembaruan berurutan dan rollback. </li><li>  Flannel (vxlan) sebagai CNI untuk backend;  berencana untuk mendukung CNI lainnya. </li><li>  Mencadangkan dan memulihkan cluster dll setelah kehilangan kuorum. </li><li>  Melindungi panel kontrol dari kehabisan memori dan waktu CPU. </li></ul><br><h3 id="arhitektura-resheniya-klusterkit">  Arsitektur Solusi Klusterkit </h3><br><p> <a href=""><img src="https://habrastorage.org/webt/5y/xo/lv/5yxolv8yt1frmyxan5lmuji_ego.jpeg"></a> </p><br><p>  Untuk toleransi kesalahan dan kesederhanaan, Klusterkit menggunakan file cctl-state.yaml tunggal untuk menyimpan metadata cluster Kubernetes.  Melalui cctl CLI, Anda dapat mengelola siklus hidup kluster Kubernet pada mesin apa pun yang memiliki file status ini.  Ini bisa berupa laptop operator atau komputer lain yang merupakan bagian dari cluster Kubernetes. </p><br><p>  Cctl mengimplementasikan dan memanggil dari antarmuka hulu cluster-api sebagai pustaka operasi CRUD pada cluster.  Ia menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ssh-provider</a> , sebuah <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">penyedia</a> api-api cluster-api open-source dari Platform9, yang pada gilirannya memanggil etcdadm dan nodeadm untuk melakukan operasi pada cluster. </p><br><h3 id="kak-ispolzovat-klusterkit-i-ego-komponenty">  Cara menggunakan Klusterkit dan komponennya: </h3><br><p>  1 - Salah satu dari tiga alat ini dapat dengan mudah dipasang dengan perintah go get: </p><br><pre><code class="plaintext hljs">go get -u github.com/platform9/cctl go get -u github.com/platform9/nodeadm go get -u github.com/kubernetes-sigs/etcdadm</code> </pre> <br><p>  2 - Kemudian file-file yang dapat dieksekusi ini dapat dikemas dan disalin ke mesin target di mana cluster Kubernetes yang sangat mudah diakses harus dijalankan.  Masukkan file nodeadm dan etcdadm ke dalam direktori versi: </p><br><pre> <code class="plaintext hljs">cp $GOPATH/bin/nodeadm /var/cache/ssh-provider/nodeadm// cp $GOPATH/bin/etcdadm /var/cache/ssh-provider/etcdadm//</code> </pre> <br><p>  3 - Jika perlu, mengatur cluster Kubernetes secara lokal, dalam lingkungan yang terisolasi secara fisik, dependensi yang diperlukan dapat dengan mudah diunduh sebelumnya di komputer dengan akses Internet menggunakan perintah unduh nodeadm dan etcdadm.  Kemudian elemen yang diunduh (mis. Kubelet dan file unit kubelet untuk systemd, file yang dapat dieksekusi CNI, file kubeadm, semua gambar kontainer, termasuk Kubernetes, gambar yang disimpan dan file systemd, gambar kontainer dlld dan file konfigurasi yang sesuai) dapat dengan mudah disalin ke host terisolasi secara fisik bersama dengan cctl, nodeadm dan etcdadm  (Lihat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">wiki untuk</a> detailnya). </p><br><p>  4 - Ketika semuanya sudah ada, Anda bisa membuat cluster Kubernetes pertama dengan beberapa perintah: </p><br><p>  - Pertama buat kredensial untuk cluster. </p><br><pre> <code class="plaintext hljs">$GOPATH/bin/cctl create credential --user root --private-key ~/.ssh/id_rsa</code> </pre> <br><p>  - Lalu buat objek cluster.  –Membantu mencantumkan opsi yang didukung. </p><br><pre> <code class="plaintext hljs">$GOPATH/bin/cctl create cluster --pod-network 192.168.0.0/16 --service-network 192.169.0.0/24</code> </pre> <br><p>  - Akhirnya, buat mesin pertama di cluster. </p><br><pre> <code class="plaintext hljs">$GOPATH/bin/cctl create machine --ip $MACHINE_IP --role master</code> </pre> <br><p>  Baca dokumentasi lebih lanjut tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">GitHub</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id449214/">https://habr.com/ru/post/id449214/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id449198/index.html">FFmpeg memulai dengan Visual Studio</a></li>
<li><a href="../id449200/index.html">Sorotan dari Moscow Python Conf ++ 2019 yang lalu: transformasi menjadi platform untuk komunikasi</a></li>
<li><a href="../id449204/index.html">Saat kami mempertimbangkan metrik untuk pengembangan dan dukungan dokumentasi. Laporan Yandex</a></li>
<li><a href="../id449208/index.html">Cara membuat dan mengelola tim yang sukses</a></li>
<li><a href="../id449210/index.html">Bagaimana HPE SimpliVity 380 untuk VDI Akan Bekerja: Tes Beban yang Berat</a></li>
<li><a href="../id449216/index.html">Kecurangan kamera pengintai otomatis</a></li>
<li><a href="../id449218/index.html">10 keterampilan penting setiap insinyur DevOps</a></li>
<li><a href="../id449220/index.html">DrumHero: Bagaimana saya membuat game pertama dalam hidup saya</a></li>
<li><a href="../id449224/index.html">Tentang bias kecerdasan buatan</a></li>
<li><a href="../id449232/index.html">Pemantauan konsumsi energi matahari oleh komputer / server</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>