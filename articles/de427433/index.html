<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐏 🛒 🔮 Verkehrsausgleich in den IP-Netzen des Betreibers 🛀🏼 🎁 👩🏻‍🎓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich werde Sie sofort warnen, dass es besser ist, am Ende des Artikels zu beginnen, wenn Sie mehr über die moderne Architektur von Lösungen erfahren mö...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Verkehrsausgleich in den IP-Netzen des Betreibers</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/427433/">  Ich werde Sie sofort warnen, dass es besser ist, am Ende des Artikels zu beginnen, wenn Sie mehr über die moderne Architektur von Lösungen erfahren möchten. <br>  Wenn Sie sich über die Schwierigkeiten beim Entwurf eines Teils des Netzes eines Telekommunikationsbetreibers informieren möchten, sind Sie bei cat willkommen. <br><br>  Der Artikel beschreibt eine Methode zum Ausgleichen des Datenverkehrs an der Netzwerkgrenze unter den folgenden Bedingungen: <br><br><ul><li>  Transportprotokoll: IPv4; </li><li>  Dynamisches OSPFv2-Routing-Protokoll [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2</a> ]; </li><li>  ausgehender und eingehender Verkehr einer Benutzer-IP-Adresse wird über dasselbe Service-Gateway und denselben NAT-Router geleitet [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">3</a> ]; </li><li>  Der Verkehrsausgleich erfolgt zwischen 2 Service-Gateways (BNG [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">4</a> ]). </li><li>  Der Verkehrsausgleich wird zwischen zwei NAT-Routern durchgeführt, die kein dynamisches Routing verwenden. </li></ul><br>  Das verbundene Benutzernetzwerksegment wird am Beispiel von drahtlosen IEEE 802.11-Netzwerken [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">5</a> ] unter Verwendung von Controllern betrachtet. <br><br>  Zu lösende Aufgaben: <br><br><ul><li>  Ausgleich des Datenverkehrs an der Stelle, an der Benutzergeräte mit dem Netzwerk verbunden werden; </li><li>  gleichmäßige Verteilung des Benutzerverkehrs zwischen BNGs; </li><li>  Bereitstellung eines symmetrischen Routings für eingehenden und ausgehenden Datenverkehr bei Verwendung von NAT. </li></ul><br><a name="habracut"></a><br>  Die Verteilungsebene ist eine Edge-Netzwerkkomponente, die die folgenden Hauptfunktionen ausführt: <br><br><ul><li>  Anschluss von drahtlosen Zugangskontrollern; </li><li>  Routing und Verkehrsmanagement von drahtlosen Zugangskontrollern; </li><li>  Pairing mit anderen Netzwerken. </li></ul><br>  Die Ebene der Wireless Access Controller (UCBD) ist eine Gruppe von Controllern, die die folgenden Grundfunktionen ausführen: <br><br><ul><li>  Aggregationspunkt des Verkehrs von Zugangspunkten und drahtlosen Benutzern; </li><li>  Bereitstellung von drahtlosen Roaming-Benutzern zwischen Controllern; </li><li>  Access Point Management. </li></ul><br>  Funkabdeckungsgrad - Zugangspunkte auf Objekten. <br><br>  Service Center (CPU) - Ermöglicht die Verbindung von Controllern mit dem Datennetzwerk, die Verwaltung und Steuerung der Benutzer, die Internetverbindung und die Übersetzung von IP-Adressen. <br><br>  In Bezug auf das Routing ist das IP-Netzwerk in mehrere Routing-Segmente unterteilt: Benutzersegment, Access Point-Segment und Verwaltungssegment.  Dieser Artikel beschreibt nur das benutzerdefinierte Routing-Segment. <br><br>  Die vorgeschlagene Lösung verwendet das dynamische OSPFv2-Routing-Protokoll [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1</a> ] und die Multi-Instance-Erweiterung [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">2</a> ].  Die wichtigsten verwendeten Konfigurationsparameter für das OSPF-Protokoll sind in den Abbildungen 1-5 dargestellt. <br><br><h3>  VRF-Nutzung auf Verteilungsebene </h3><br>  Durch die Verwendung mehrerer VRFs können Sie verschiedene Primär- / Backup-BNG-Kombinationen für den Benutzerverkehr zuweisen. <br>  Zu diesem Zweck werden auf Verteilungsebene auf jedem der beiden L3-Switches Benutzeroberflächen in verschiedenen virtuellen Routing-Tabellen definiert ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">VRF Lite</a> [9]): <br>  Jede VRF erstellt einen OSPF-Prozess. <br><br><h3>  Ausgleich des Benutzerverkehrs am Netzwerkverbindungspunkt </h3><br>  Der Ausgleich erfolgt durch Verteilen von Benutzergeräten zwischen virtuellen Netzwerken (VLANs).  Zu diesem Zweck werden Zugriffspunkte auf drahtlosen Zugriffssteuerungen in Gruppen unterteilt (bis zu 10-15 Zugriffspunkte pro Gruppe).  Jede Gruppe sollte eine VLAN-ID und ein Subnetz von IP-Adressen von Benutzern mit einer Kapazität von mindestens 2 bis 4 Klasse-C-Netzwerken zuweisen (basierend auf bis zu 25 aktiven Verbindungen pro Zugriffspunkt und zusätzlicher Kapazität zur Berücksichtigung inaktiver Benutzerverbindungen und Funktionen der Verwendung des DHCP-Protokolls: „Lease Time“). [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">6</a> ]). <br>  Auf den L3-Switches der Verteilungsebene, mit der die Controller verbunden sind, werden die verwendeten IP-Netzwerke in zwei große Gruppen unterteilt.  Dies ist erforderlich, um die Routing-Informationen weiter zu summieren und den Verkehr zwischen BNGs auf der 3. Ebene des OSI-Modells auszugleichen. <br>  Jede Gruppe ist in einer der VRFs für Switches auf Verteilungsebene definiert. <br>  Auf L3 wird die Redundanz mit OSPF ausgeführt, wie in der Abbildung gezeigt. <br><div class="spoiler">  <b class="spoiler_title">Abbildung 1</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/mm/bp/fs/mmbpfse_xbtqlourl0ck2ysfceq.png"><br></div></div><br><br>  Die Wahl des Typs der NSSA-Zone wird durch die folgenden Faktoren bestimmt: <br>  - Reduziert die Anzahl der Routen in der NSSA durch Summieren der Routing-Informationen der drahtlosen Benutzernetzwerke auf der ASBR. <br>  - Bietet die Möglichkeit, den AD-Wert (Administrative Distance) für "externe" OSPF-Routen auf dem ABR festzulegen. <br>  - Bietet die Möglichkeit, Routing-Informationen von umverteilten Routen zu ABR einfach zu isolieren und zusammenzufassen. <br>  - Bietet die Möglichkeit, ABR als Quelle für Routing-Informationen festzulegen, wenn LSAs an Bereich 0 gesendet werden [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unterdrückung-fa 14</a> ].  Auf diese Weise können Sie keine Informationen über die Struktur der IP-Adressierung und die Quellen externer Routen aus der NSSA-Zone an Bereich 0 senden. <br>  - Ermöglicht es Ihnen, auf die Verteilung von zwei Standardrouten innerhalb der NSSA-Zone zu verzichten [ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">keine Zusammenfassung 14</a> ].  Der Ausgleich des Datenverkehrs zwischen ABRs erfolgt durch Festlegen der Kanalkosten zwischen ASBR und ABR innerhalb der NSSA-Zone. <br>  - Ermöglicht die Auswahl von zwei Arten externer Routen zum Filtern und Routen der Steuerung des Benutzersegment-Routings auf dem ABR. <br><br>  In diesem Artikel wurde nicht die Möglichkeit offenbart, Benutzer-Routing-Segmente über das MPLS-Netzwerk mit dem BNG zu verbinden. Einige der verwendeten Lösungen werden jedoch durch die Anforderungen für die Arbeit in diesem Modus bestimmt ([15] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sham-Link-Backdoor-Routing</a> ). <br><br>  Abbildung 2 zeigt Beispiele für die Verwendung von VRF auf Verteilungsebene: <br>  - WUsers1 - für Benutzer, die den SG-01-CPU-Router als primäres Service-Gateway und den SG-02-CPU-Router als Backup-Service-Gateway verwenden; <br>  - WUsers2 - für Benutzer, die den SG-02-CPU-Router als primäres Service-Gateway und den SG-01-CPU-Router als Backup-Service-Gateway verwenden. <br><br><div class="spoiler">  <b class="spoiler_title">Abbildung 2</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/n5/gf/oi/n5gfoivj6hbfdfghxgfu0sgeff8.png"><br></div></div><br>  Die Auswahl eines Paares von Primär- / Sicherungsdienst-Gateways in VRF-WUsers1 und WUsers2 wird durch dynamisches Routing und Zuweisen unterschiedlicher Kosten zu virtuellen Kommunikationskanälen implementiert. <br><br><h3>  Lastausgleich auf Verteilungsebene </h3><br>  Die IP-Netzwerke, die den virtuellen Kanälen (VLANs) der Benutzer in jedem der L3-Switches der Verteilungsebene zugewiesen sind, werden von zwei VRFs bestimmt.  Daher fallen drahtlose Benutzer abhängig von der AP-Gruppe, zu der sie von drahtlosen Zugriffscontrollern gehören, in verschiedene VRFs und verwenden unterschiedliche Paare von primären / Backup-Service-Gateways, wodurch ein Lastausgleich zwischen Service-Gateways ermöglicht wird. <br><br>  Bei einem Ausfall eines Switches auf Verteilungsebene werden alle Benutzer auf den verbleibenden Switch umgeschaltet, indem sie sich erneut mit dem drahtlosen Netzwerk verbinden und eine IP-Adresse vom neuen IP-Netzwerk erhalten.  Die IP-Netzwerke der geschalteten drahtlosen Benutzer sind ebenfalls auf zwei VRFs verteilt.  Somit bleibt der Lastausgleich zwischen den BNGs erhalten, unabhängig davon, dass zu einem bestimmten Zeitpunkt nur ein L3-Switch der Verteilungsebene funktioniert. <br><br>  Eine Reservierung einer Service-Gateway-Verbindung kann mithilfe doppelter virtueller Kommunikationskanäle organisiert werden, die sich in verschiedenen IP-Subnetzen befinden und an verschiedenen physischen Ports des Service-Gateways beendet werden. <br>  Das physikalische Schema und die Netzwerktopologie sowie das entsprechende Schema zum Organisieren logischer Kommunikationskanäle werden in diesem Artikel nicht vorgestellt.  Die auf diesen Ebenen verwendeten Lösungen ermöglichen auch die Organisation redundanter physischer und logischer Kommunikationskanäle. <br><br>  Das Routing-Schema auf Verteilungsebene ist in den Abbildungen 1 und 2 dargestellt. <br><br><h3>  Weiterleiten des Datenverkehrs zwischen Verteilungsebene und CPU </h3><br>  Die Organisation der Kommunikation zwischen UR-Switches und Gateways von Diensten der CPU ist nach einer der folgenden Methoden möglich: <br><br>  Auf der 2. Ebene des OSI-Modells ohne Verwendung eines Zwischen-L3-Hops. <br>  Mit dem Zwischenprodukt "L3 Hop". <br>  Die erste Lösung erfordert mehr Ressourcen (VLAN ID, STP). <br>  Bei Verwendung der zweiten Methode kann der Switch-Stapel, auf dem 2 VRFs erstellt werden, als Zwischenrouter fungieren. <br><br>  Diese Lösung kann die Anzahl der virtuellen Kanäle (VLANs), die zum Herstellen der Kommunikation zwischen den Gateways der CPU und den SD-Diensten erforderlich sind, erheblich reduzieren. <br><br>  Das Kommunikationsschema zwischen den Routern des UR und den Gateways der CPU-Dienste ist in Abbildung 3 dargestellt. <br><div class="spoiler">  <b class="spoiler_title">Abbildung 3</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/th/ec/gw/thecgw9ktr3nbfn1waerwzf5clq.png"></div></div><br>  Gleiche OSPF-Protokollmetriken, die parallelen virtuellen Kommunikationskanälen zugewiesen sind, ermöglichen die Verteilung des drahtlosen Benutzerverkehrs zwischen virtuellen Kommunikationskanälen und sorgen infolgedessen für einen Verkehrsausgleich zwischen physischen Kommunikationsleitungen. <br><br><h3>  NAT in der CPU </h3><br>  NAT-Router übersetzen (übersetzen) private IP-Adressen (Network Address Translation, NAT) in öffentliche IP-Adressen.  Um den Mechanismus zur Übersetzung von IP-Adressen zu implementieren, muss ein Pool eindeutiger öffentlicher IP-Adressen zugewiesen werden.  Entsprechende NAT-Gruppen werden für ein Paar von Routern gebildet, in denen jeweils ein Router als Hauptrouter (aktiv) und der andere als Sicherungsrouter ausgewählt ist.  Bei einem Ausfall des Hauptrouters wird die Sicherung aktiv und bedient weiterhin Benutzersitzungen. <br><br><h3>  Routing zwischen Service-Gateways und NAT-Routern </h3><br>  Bei der Verwendung von NAT-Routern werden die folgenden Einschränkungen berücksichtigt: <br><br><ul><li>  NAT-Router verwenden nur statische Routen. </li><li>  Für jede NAT-Gruppe werden zwei virtuelle Netzwerke (VLANs) zugewiesen: innerhalb des VLAN und außerhalb des VLAN; </li></ul><br>  Inside VLAN wird zur Kommunikation mit CPU-Service-Gateways verwendet.  Externes VLAN wird zur Kommunikation mit BGP-Edge-Routern verwendet. <br><br>  Um die Fehlertoleranz zu erhöhen, werden zwei physikalische Schnittstellen verwendet, um jedes BNG anzuschließen.  Aufgrund verschiedener Ausstattungsmerkmale sowie der Notwendigkeit, den Pool externer IP-Adressen fest an eine bestimmte BNG zu binden, wird vorgeschlagen, die folgenden Einschränkungen zu verwenden: <br>  - Verwenden Sie keine Etherchannel-Technologie, sondern organisieren Sie den Lastenausgleich und die Redundanz mithilfe des L3-Routings. <br>  - Verwenden Sie für jeden NAT-Router einen physischen Kanal, um mit dem BNG zu kommunizieren. <br><br>  Daher besteht ein Bedarf an einem Zwischen- "L3-Knoten" (im Folgenden als ASBR-CPU bezeichnet) zwischen den BNG- und NAT-Routern.  Der Zwischenknoten führt die folgenden Funktionen aus: <br>  - OSPF ASBR für Bereich 0. <br>  - Verteilung der Standardrouten für Bereich 0. <br>  - Weiterleiten von Paketen, die von NAT-Routern an OSPF ABR kommen. <br>  - Statisches Routing von Paketen aus dem OSPF-Bereich 0 zu NAT-Routern (Standard-Gateways). <br><br>  Die Rolle eines Zwischenrouters kann von einem Stapel von L3-Switches übernommen werden, die BNG- und NAT-Router bereitstellen, auf denen zu diesem Zweck zwei VRFs (VRF Lite [9]) erstellt werden: Users1_out und Users2_out. <br><br>  Es ist wichtig, den Stapel von L3-Schaltern zu verwenden, weil  Dies ermöglicht Ihnen: <br>  - Verwenden Sie beide physischen BNG-Verbindungen, um virtuelle Kommunikationskanäle mit jedem der NAT-Router zu organisieren. <br>  - Lastausgleich zwischen den physischen Schnittstellen des BNG gewährleisten; <br>  - Stellen Sie sicher, dass die BNG-Verbindung zum L3-Switch des Stacks erhalten bleibt, wenn einer der L3-Switches des Stacks ausfällt oder Probleme mit dem Betrieb einer der physischen Schnittstellen des BNG auftreten. <br><br>  Ein weiteres Merkmal der Lösung ist die Verwendung von zwei VRFs auf dem Stapel von L3-Switches. <br>  Dies ist erforderlich, um jedes BNG starr an einen bestimmten ASBR zu „binden“ (siehe Abbildung 4) und dementsprechend den Pool externer IP-Adressen an einen bestimmten BNG zu binden. <br>  Für jede dieser VRFs (Users1_out und Users2_out) werden unabhängige OSPF-Prozesse auf dem Stapel von L3-Switches gestartet.  Die virtuellen Kommunikationskanäle zwischen BNG und VRF Users1_out und Users2_out des Switch-Stacks befinden sich in der 0. (Haupt-) Zone von OSPF. <br><br>  Für das Routing zwischen ASBR- und NAT-Routern wird statisches Routing verwendet: <br><ul><li>  in VRF Users1_out - die statische Standardroute durch die virtuelle IP-Adresse NAT-group1; </li><li>  in VRF Users2_out die statische Standardroute durch die virtuelle IP-Adresse von NAT-group2; </li><li>  für den ersten NAT-Router statische Routen im IP-Netzwerk von drahtlosen Benutzern über die IP-Adresse VRF Users1_out; </li><li>  für den zweiten NAT-Router statische Routen im IP-Netzwerk von drahtlosen Benutzern über die IP-Adresse von VRF Users2_out. </li></ul><br><br>  Um die Standardroute in OSPF-Prozessen zu verteilen, aktivieren ASBR VRF Users1_out und ASBR Users2_out die Standardrouten-Ursprungsfunktion. <br><br>  Das Schema unter Verwendung des Zwischen „L3-Knotens“ ist in Abbildung 4 dargestellt. <br><div class="spoiler">  <b class="spoiler_title">Abbildung 4</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/ze/qv/pe/zeqvpeaznap7mifyfwufoivotya.png"><br><br></div></div>  Gleiche OSPF-Protokollmetriken, die parallelen virtuellen Kommunikationskanälen zugewiesen sind, ermöglichen die Verteilung des drahtlosen Benutzerverkehrs zwischen virtuellen Kommunikationskanälen und infolgedessen den Verkehrsausgleich zwischen physischen Kommunikationsleitungen, über die CPU-Dienstgateways mit dem Switch-Stack verbunden sind. <br><br>  Die ASBR-CPU ist ein OSPF-Grenzrouter und wird zum Umverteilen von Routen aus anderen Routingsegmenten, NAT-IP-Adresspools und dem Internet verwendet. <br><br><h3>  Routing und Ausgleich des Datenverkehrs zwischen CPU-ASBRs und NAT-Routern </h3><br>  Virtuelle Kommunikationskanäle werden zwischen der ASBR-CPU und den NAT-Routern erstellt (siehe Abbildung 5). Die Standardfehlertoleranz von Gateways auf NAT-Routern kann mithilfe des HSRP-Mechanismus (Hot Standby Router Protocol [11]) implementiert werden. <br><br>  Die Schnittstellen von NAT-Routern verwenden zwei HSRP-Gruppen.  Die erste HSRP-Gruppe ist für den Betrieb des Standard-Gateways für NAT-Gruppe1 verantwortlich, die zweite HSRP-Gruppe ist für den Betrieb des Standard-Gateways für NAT-Gruppe2 verantwortlich, wie in Abbildung 5 dargestellt. <br><div class="spoiler">  <b class="spoiler_title">Abbildung 5</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/og/qg/cv/ogqgcvhq1eainoxgztg4ayjqmxi.png"><br></div></div><br><br><h3>  Routing zwischen NAT-Routern und Netzwerk-Edge-Routern </h3><br>  In der vorgeschlagenen Lösung wurde das Routing unter Verwendung des statischen Routings und des HSRP-Protokolls auf Netzwerk-Edge-Routern (externer Router, siehe Abbildung 6) durchgeführt.  Diese Entscheidung wird in diesem Artikel nicht im Detail behandelt. <br><div class="spoiler">  <b class="spoiler_title">Abbildung 6</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/yu/uy/hv/yuuyhv-vuk94ft-bxujvm9nua8q.png"><br></div></div><br><br>  Zwischen NAT-Routern und Edge-Routern werden virtuelle Verbindungen erstellt.  Die Fehlertoleranz von Standard-Gateways auf Edge-Routern kann je nach den Fähigkeiten der verwendeten Geräte mithilfe des HSRP-Mechanismus oder ähnlichem implementiert werden.  Zu diesem Zweck werden zwei HSRP-Gruppen verwendet. <br>  Das Routing-Schema ist in Abbildung 6 dargestellt. <br><br><div class="spoiler">  <b class="spoiler_title">Schemata und Zeichnungen</b> <div class="spoiler_text">  Abbildung 1. Drahtlose VRF-Benutzer auf Verteilungsebene, die Routen in den IP-Subnetzen der Benutzer summieren. <br><img src="https://habrastorage.org/webt/mm/bp/fs/mmbpfse_xbtqlourl0ck2ysfceq.png"><br><br>  Abbildung 2. Routing auf Verteilungsebene. <br><img src="https://habrastorage.org/webt/n5/gf/oi/n5gfoivj6hbfdfghxgfu0sgeff8.png"><br><br>  Abbildung 3. Routing zwischen Verteilungsebene und CPU. <br><img src="https://habrastorage.org/webt/th/ec/gw/thecgw9ktr3nbfn1waerwzf5clq.png"><br><br>  Abbildung 4. Routing zwischen BNG und ASBR-CPU. <br><img src="https://habrastorage.org/webt/ze/qv/pe/zeqvpeaznap7mifyfwufoivotya.png"><br><br>  Abbildung 5. Routing zwischen ASBR-CPUs und NAT-Routern. <br><img src="https://habrastorage.org/webt/og/qg/cv/ogqgcvhq1eainoxgztg4ayjqmxi.png"><br><br>  Abbildung 6. Routing an der Netzwerkgrenze. <br><img src="https://habrastorage.org/webt/yu/uy/hv/yuuyhv-vuk94ft-bxujvm9nua8q.png"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Quellen</b> <div class="spoiler_text">  [1] J. Moy (Ascend Communications), Bitte um Kommentare: 2328 "OSPF Version 2", April 1998. <br>  [2] A. Lindem (Ericsson), A. Roy, S. Mirtorabi (Cisco Systems), Anforderung von Kommentaren: 6549, OSPFv2-Erweiterungen für mehrere Instanzen, März 2012 <br>  [3] S. Wadhwa (Alcatel-Lucent), J. Moisand (Juniper Networks), T. Haag (Deutsche Telekom), N. Voigt (Nokia Siemens Networks), T. Taylor, Ed.  (Huawei Technologies) Anfrage nach Kommentaren: 6320, Protokoll für den Mechanismus zur Kontrolle des Zugriffsknotens in Breitbandnetzen, Oktober 2011 <br>  [4] P. Srisuresh (Jasmine Networks), K. Egevang (Intel Corporation) Bitte um Kommentare: 3022, Traditional NAT, Januar 2001 <br>  [5] IEEE 802.11, "Spezifikationen für Wireless LAN Medium Access Control (MAC) und Physical Layer (PHY)", 1997. <br>  [6] R. Droms (Bucknell University), Anfrage nach Kommentaren 2131, Dynamic Host Configuration Protocol, März 1997 <br>  [7] Konfigurationsbeispiel für AP Group-VLANs mit WLAN-Controllern, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.cisco.com</a> , 2008 <br>  [8] L. Andersson, T. Madsen (Acreo AB), Anforderung von Kommentaren 4026, vom Anbieter bereitgestellte VPN-Terminologie (Virtual Private Network) <br>  [9] Konfigurieren von VRF-lite, Cisco-Website [Online].  Verfügbar: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.cisco.com</a> <br>  [10] Y. Rekhter TJ Watson-Forschungszentrum, IBM Corp.  T. Li, Cisco Systems Editors, Anfrage nach Kommentaren 1518, Eine Architektur für die Zuweisung von IP-Adressen mit CIDR, September 1993 <br>  [11] T. Li (Juniper Networks), B. Cole (Juniper Networks), P. Morton (Cisco Systems), D. Li (Cisco Systems), Anfrage nach Kommentaren 2281: Cisco Hot Standby Router Protocol (HSRP), März 1998 <br>  [12] NAT-Beispiele und Referenz, Cisco-Website [Online].  Verfügbar: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">www.cisco.com</a> <br>  [14] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Cisco IOS IP-Routing: OSPF-Befehlsreferenz</a> <br>  [15] <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sham-Link-Backdoor-Routing</a> <br>  [16] "Schaffung drahtloser öffentlicher Netzwerke" 2008-2010 ", <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">step.ru/projects/industrys/telecom/projects-to-create-public-wireless-networks-of-ojsc-tattelecom-2009-2010</a> <br></div></div><br><br><br><br>  Eine der Schwierigkeiten war das Design der Lösung, die eine erhebliche Anzahl von Knoten, Diensten und verwandten Systemen umfasste, mit denen die Integration sichergestellt werden musste.  Sowie die für das Design verschiedener Systeme und Dienste verantwortlichen Künstler. <br><br>  Mehrere Schlussfolgerungen basierend auf den gewonnenen Erkenntnissen: <br>  - End-2-End-Design von Diensten durchführen, einschließlich Verkehrsrouting; <br>  - Separate Funktionskomponenten in separate IP-Knoten (BNG, NAT-Router, Border-BGP-Router); <br>  - Stapelbare Router vereinfachen die Designlösung erheblich. <br>  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Vergessen Sie</a> bei der Verwendung von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">virtuellen P2P-Kanälen nicht,</a> OSPF auf den Router-Schnittstellen korrekt zu konfigurieren;) <br>  UPDATE: Eine sehr detaillierte Beschreibung der Lösung wurde hinzugefügt.  Ich hoffe es ist klarer geworden. <br>  Zeichnungen korrigiert. <br><br>  Vorbereitet aus den Materialien von 2008. <br>  Informationen zum Einsatz moderner BNG in den Netzen von Telekommunikationsbetreibern finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf der Learning Club-Website</a> oder in den Informationsquellen der Hersteller von Telekommunikationsgeräten. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de427433/">https://habr.com/ru/post/de427433/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de427421/index.html">Wie Genealogie-Sites es einfacher machen, Mörder zu fangen</a></li>
<li><a href="../de427423/index.html">City2Share: E- und autonome Autos in den Logistikzentren von München</a></li>
<li><a href="../de427427/index.html">Wie sie zur IT kommen: über Praktikanten und Joons (das Ergebnis der Umfrage „My Circle“)</a></li>
<li><a href="../de427429/index.html">GUI-Frameworks - pro Thread</a></li>
<li><a href="../de427431/index.html">Wie Android funktioniert, Teil 4</a></li>
<li><a href="../de427435/index.html">STM32H7 - Uhreinstellung ohne HAL</a></li>
<li><a href="../de427437/index.html">Verbindungsserver konfigurieren: MS SQL Server und Teradata</a></li>
<li><a href="../de427439/index.html">Die ganze Wahrheit über RTOS. Artikel 16. Signale</a></li>
<li><a href="../de427441/index.html">Konvergenz mit Kubernetes</a></li>
<li><a href="../de427443/index.html">Vivisektion des Erfolgs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>