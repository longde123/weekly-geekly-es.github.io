<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧗🏼 🍩 👩🏿‍🤝‍👨🏽 So entfernen und „kleben“ Sie ein sphärisches Panorama auf DJI Mavic Air 👨🏻‍🎓 ♿️ 🚣🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mit der Veröffentlichung von Dji Mavic Air scheint der Prozess der Erstellung von Kugelpanoramen bis an die Grenzen vereinfacht worden zu sein - er dr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So entfernen und „kleben“ Sie ein sphärisches Panorama auf DJI Mavic Air</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/coptertime/blog/418775/">  Mit der Veröffentlichung von Dji Mavic Air scheint der Prozess der Erstellung von Kugelpanoramen bis an die Grenzen vereinfacht worden zu sein - er drückte einen Knopf und die Kugel ist fertig.  Das hat die Werbung gesagt.  Um ehrlich zu sein, habe ich bereits erwartet, dass unser gesamter Ball in den ersten Verkaufsmonaten geschossen wird, aber aus irgendeinem Grund ist dies nicht geschehen. <br><br><img src="https://habrastorage.org/webt/jx/h4/lo/jxh4lof5xrcketwjgopnrbsckgq.jpeg"><br>  <i>Foto von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Paul Oostveen</a></i> <br><a name="habracut"></a><br>  Höchstwahrscheinlich gibt es mehrere Gründe: Die integrierte Software ist äußerst primitiv und kann kein anständiges Panorama erstellen, wenn die Bedingungen zumindest geringfügig vom Ideal abweichen.  Über dem Wasser oder über Schnee bei bewölktem Wetter kann es zu Himmelsbrocken auf dem Boden und anderen „Schönheiten“ kommen. Ich spreche nicht von den mittelmäßigen Farben der fertigen JPEG-Datei und absolut keiner Auflösung.  Ein Problem sind auch Objekte in der Nähe der Kamera. Wenn Sie beispielsweise eine Kugel entfernen, bei der sich ein Turm im Vordergrund befindet oder etwas Ähnliches an der Maschine, funktioniert dies höchstwahrscheinlich nicht.  Der Grund dafür ist die Parallaxe, nämlich die Drift des Hubschraubers während der Aufnahme (trotz der sehr guten GPS-Retention von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mavic Air</a> - ein Dutzend Zentimeter reichen aus, um die Automatisierung eingebetteter Systeme zu stören). <br><br>  In der Werbung beträgt die Panoramaauflösung 32 MP, aber ist es so viel, wenn wir bei 360 Grad fotografieren und überall mit Bildschirmen mit einer Auflösung von 4K oder höher?  Außerdem weiß die Firmware nicht, wie man den Himmel klebt, und versteht nicht, welche Farben die richtigen sind, und dies ist unmöglich.  Obwohl der Hubschrauber mit +15 Grad schießen kann, reicht es immer noch nicht aus, ein "Dach" zu bekommen. <br><br><img src="https://habrastorage.org/webt/ih/ov/wu/ihovwufh8nhz3r-d83_9sxaj6vs.png"><br><br>  Aber nicht alles ist so schlecht.  Wenn Sie entschlossen sind, ein gutes Panorama zu erhalten, ist dies mit Mavic Air durchaus möglich.  Anfangs war ich etwas skeptisch gegenüber der Standardaufnahme von 25 Bildern, aber dann kam ich zu dem Schluss, dass dies völlig ausreicht.  Früher habe ich bei Aufnahmen mit Litchi auf DJI Phantom® oder DJI Mavic Pro versucht, 32 bis 48 Fotos aufzunehmen.  Plus oder Minus.  Die 25 von Mavic Air angebotenen schienen mir zunächst ein wenig, ich habe Litchi ausprobiert, aber es kam keine signifikante Steigerung heraus.  Während des Trainings entwickelte ich eine klare Technik und optimierte den Prozess.  Jetzt schaffe ich es für eine nicht sehr große Batterie, bis zu 4-5 Kugeln herzustellen, und das Kleben mit Farbkorrektur dauert ungefähr 10-15 Minuten.  Am Ausgang haben wir ein Panorama mit einer Auflösung von bis zu 177 MP mit guten Farben, normalem Himmel und voller Kontrolle darüber, was passiert. <br><br>  Was ist also erforderlich, um ein gutes Ergebnis zu erzielen? <br><br><ul><li>  Standard DJI GO 4 Software und Speichern von Aufnahmen in DNG Raw </li><li>  Adobe Lightroom </li><li>  PtGui Pro </li><li>  Adobe Photoshop ...  10-20 Minuten für jedes Panorama </li></ul><br>  Zunächst ist es ratsam, alles korrekt zu entfernen, um die Verarbeitungszeit zu minimieren.  Natürlich ist das Fotografieren bei Sonnenaufgang / Sonnenuntergang sehr schön, aber aufgrund der niedrigen Sonne und der möglichen Blendung kann das Kleben schwierig sein.  Sie können eine zusätzliche Gegenlichtblende verwenden - dies erleichtert die Arbeit, aber Sie haben immer noch Rahmen, bei denen die Sonne direkt in die Kamera scheint.  Wählen Sie für die ersten Experimente eine Uhr näher am Mittag - dann kann die Sonne nicht in den Rahmen gelangen.  Es lohnt sich auch, Objekte zu vermeiden, die sich sehr nahe am Hubschrauber befinden.  Wählen Sie Pläne mit äquidistanten Objekten aus.  Es kann sehr schwierig sein, große Räume ohne eine offensichtliche Textur miteinander zu verbinden - See / Meer / Schnee / Sand.  Ich empfehle, die automatische Belichtung der Kamera auszuschalten.  Schauen Sie sich um und wählen Sie die durchschnittliche Verschlusszeit und Blende (im Fall des DJI Phantom 4 Pro), und korrigieren Sie die Empfindlichkeit (ISO).  Auch wenn die Belichtung in einer bestimmten Richtung nicht ideal ist, kann sie in Lightroom beim Konvertieren von RAW korrigiert werden.  Dies ist viel einfacher als die Bekämpfung von Automatisierungsfehlern, die auftreten können, wenn die Kamera auf die Sonne gerichtet ist oder wenn der Boden aus festem Wald / Wasser und ähnlichen Oberflächen besteht. <br><br>  Stellen Sie sicher, dass das Speichern von Originalen aktiviert ist.  Wenn alle Parameter eingestellt sind, können Sie mit der Aufnahme beginnen.  Dabei empfehle ich zu überwachen, was das Gerät entfernt.  Wenn sich ein Hauptobjekt im Rahmen befindet, müssen Sie sicherstellen, dass es mit dem gesamten Bild aufgenommen wird, dh, es fällt nicht in die Verbindung von 2 Bildern und befindet sich nicht zu nahe am Rand des Rahmens.  Wenn dies dennoch passiert ist - es ist besser, den Copter am Ende der Vermessung nicht zu bewegen, nur um seine Achse zu drehen und die Kamera zu neigen, um einige Bilder des Objekts manuell aufzunehmen -, kann dies das Kleben erheblich vereinfachen.  Um ein schönes Panorama zu erhalten, muss man nicht zu hoch gehen.  Die Panoramen sehen toll aus. Wenn Sie nach innen tauchen, befinden Sie sich nicht höher, sondern zwischen den Aufnahmeobjekten. Sie müssen jedoch sicherstellen, dass der Copter die oberen Ränder der Objekte entfernen kann, damit sie nicht verschwimmen. <br><br><img src="https://habrastorage.org/webt/r1/12/cu/r112cueigjsmwytgjbde7hggtmc.jpeg"><br>  <i>Ein Beispiel, bei dem der Hubschrauber zu niedrig war.</i>  <i>Das Panorama wird mit der integrierten DJI Mavic Air-Software verklebt.</i>  <i>Es ist jedoch wahrscheinlich, dass Sie den Quellcode speichern können, wenn Sie ihn mit einem externen Panorama-Programm zusammenkleben.</i> <br><br>  Und jetzt - die Frames werden empfangen - fahren wir mit der Verarbeitung fort.  DJI Go 4 speichert alle Quellen in einem separaten Ordner - "Panorama" - kopiert den Inhalt des gewünschten Ordners auf die Festplatte und legt ihn in Lightroom ab.  Unsere Aufgabe ist es, einzelne Bilder für das Kleben in PTGUI vorzubereiten - dafür ist es wichtig, nicht nur die Belichtung und Farbe jedes Rahmens zu berücksichtigen, sondern auch alle Teile des zukünftigen Panoramas in Helligkeit und Kontrast so nah wie möglich zu gestalten. <br><br><img src="https://habrastorage.org/webt/a0/z9/q1/a0z9q16uscbohtlohciwtafqggy.png"><br><br>  Wenn eine lokale Helligkeitskorrektur verwendet wird - ziehen Sie ein Objekt heraus -, stellen Sie sicher, dass dies bei allen Frames, in denen es vorhanden ist, so nah wie möglich erfolgt.  PTGUI verfügt über eine Helligkeitsausgleichsfunktion, dies ist jedoch besser im Voraus.  Außerdem kann das resultierende Material exportiert werden (ich empfehle die Verwendung von Tiff mit einer LZW-Komprimierung von 8/16 Bit pro Kanal, abhängig von der Leistung Ihres PCs). <br><br><img src="https://habrastorage.org/webt/ei/za/h2/eizah2wfiaszg0f1mmbjclpvj1g.png"><br><br>  Der nächste Schritt ist die direkte Montage des Panoramas.  Laden Sie Dateien auf PTGUI PRO hoch und klicken Sie auf Bilder ausrichten. <br><br><img src="https://habrastorage.org/webt/un/ar/z2/unarz2i0cb4uwldz0rzi3yng_eu.png"><br><br>  Das System analysiert die Daten und versucht, Frames anhand von Kontrollpunkten zu vergleichen. <br><br>  In einigen Fällen (Wasser / Schnee usw.) zeigt das Programm möglicherweise eine Meldung über das Fehlen von Übereinstimmungen in einigen Frames an. Dies bedeutet, dass Sie die Kontrollpunkte manuell festlegen müssen. <br><br>  Ist dies nicht der Fall, gibt das Programm ein Fenster mit einem Panorama-Scan aus, in dem Sie die Mitte - den Ort, der beim Laden angezeigt wird - für das Gesicht des Panoramas festlegen können. Sie können auch den Horizont anpassen. <br><br><img src="https://habrastorage.org/webt/eh/iu/bh/ehiubhvol5md_hd68rj_kcl9hdk.png"><br><br>  Als nächstes können wir eine Vorschau des Panoramas öffnen, die verdreht werden kann, und das Ergebnis vorab auswerten. <br><br><img src="https://habrastorage.org/webt/qu/rd/p5/qurdp5vci_el4jhywlvxccueusk.png"><br><br>  Hier können Sie besonders starke Probleme feststellen und, falls vorhanden, zur Bearbeitung von Kontrollpunkten gehen und versuchen, diese zu beheben. <br><br><img src="https://habrastorage.org/webt/yq/sx/4p/yqsx4pdng2errceagbvlie1liiq.png"><br><br>  Wenn keine besonderen Probleme auftreten, wird die letzte Registerkarte - Panorama erstellen - wie in Lightroom - Tiff mit LZW-Komprimierung festgelegt. <br><br><img src="https://habrastorage.org/webt/tw/r3/91/twr391f4kmzgn6w0bxuomof3r04.png"><br><br>  Der nächste Schritt ist die Inspektion und endgültige Anpassung in Photoshop.  Wir betrachten das gesamte Panorama langsam in Teilen auf Inkonsistenzen - der Horizont und die Probleme an den Hauptobjekten sind besonders auffällig.  Na wenn die Fuge auf dem Objekt ohne spezielle Textur ist. <br><br><img src="https://habrastorage.org/webt/u0/sw/-5/u0sw-5hap33vcbepdtaj0unwits.png"><br><br>  Hier sind alle Werkzeuge bereits gut - zuerst versuchen wir, sie durch Divergenz durch polygonale Auswahl zuzuweisen, dann durch Transformation - Verzerrung und andere Optionen - wir passen das "herausgefallene" Stück an.  Die Schattierung der Auswahl kann klein eingestellt werden - 1-2 Pixel, und manchmal ist es besser, scharfe Kanten zu belassen. Wir schließen die resultierenden Bereiche infolge der Verschiebung wie üblich mit einem Stempel oder einem Heilpinsel. <br><br><img src="https://habrastorage.org/webt/o0/ev/-u/o0ev-us8vs3jrgyfqr85fz4optw.png"><br><br>  Natürlich gibt es kompliziertere Fälle - dann öffnen wir eine separate Datei mit dem Objekt, kopieren sie auf eine neue Ebene, passen die Skalierung an, löschen den Überschuss - wir erhalten einen Patch.  Bei der Verwendung von Verformungen - insbesondere Verformungen von Puppen - ist es sehr wichtig, die Punkte zu begrenzen und die Kanten des Panoramas nicht zu berühren - da es sonst nicht zusammenklebt. <br><br>  Es ist Zeit, dem Panorama die Wirkung und den Reichtum zu verleihen.  Jetzt können wir Ebenen / Kurven / Farben sicher drehen, um den gewünschten Effekt zu erzielen.  Möglicherweise müssen Sie die Dodge / Burn-Tools verwenden, an einzelnen Objekten arbeiten - tatsächlich haben wir für diesen Moment den gesamten Weg nach Tiff exportiert und uns mit riesigen Dateigrößen abgefunden. <br><br><img src="https://habrastorage.org/webt/su/br/zr/subrzrgwexa9ypzhwz9sv5sidnw.png"><br><br>  Am Ende müssen Sie den Himmel aufheben.  Ich habe bereits einen bestimmten Betrag meiner Reserven angesammelt + Ich habe etwas im Netzwerk gefunden.  Wenn es keine Aktien oder gespeicherten Optionen gibt, strecken Sie den Himmel einfach bis zum Anschlag.  es wird nicht sehr schön sein, aber zumindest keine schwarze Kuppel. <br><br><img src="https://habrastorage.org/webt/xy/xy/xx/xyxyxxp0vsdvldheoauwfdrxxt0.png"><br><br>  Wir fügen das Himmelsobjekt ein, rastern es sofort (wenn vor der korrekten Ausführung des Himmelspanoramas keine Änderungen erforderlich sind), erstellen dann die Maske, verwenden den Verlauf, um vom Himmel zum Hintergrund zu gelangen, und passen die Helligkeit der eingefügten Ebene mit Kurven an.  Achten Sie auf die Verbindung von Himmel und Panorama, manchmal sogar mit Maske und Farbverlauf - dunkle Objekte können durchscheinen und Sie können leicht durchscheinende Berge über der Stadt erreichen.  Es ist besser, die Panoramaebene langsam auszuschalten, wenn Sie alle verdächtigen Radiergummis löschen müssen. <br><br><img src="https://habrastorage.org/webt/nt/nx/l_/ntnxl__-qsve95gnluixnfm2iko.png"><br><br>  Dies kann getan werden.  Kleben Sie die Funktion „Reduzieren“ in eine Ebene, um die Lautstärke zu minimieren, speichern Sie Tiff für alle Fälle und reduzieren Sie das Bild dann auf 10.000 Punkte unter der langen Seite, da die meisten Dienste (Sferika.ru oder dasselbe Google Maps) kein Panorama mit zu großem Volumen verpassen - Ja, und es ist nicht erforderlich, eine so große Ladung zu versenden (für Telefone mit 4 g ist dies im Allgemeinen unerträglich).  Wir speichern das Ergebnis der Arbeit in JPEG - Qualität ist ausreichend 10 und die Ausgabe hat ein Panorama von 50 Megapixeln und eine Dateigröße von 10-15 MB (abhängig von den Details). <br><br><img src="https://habrastorage.org/webt/ui/ea/vx/uieavxgqssxn5o-rgzc9c_ifpn4.png"><br><br>  Unser Panorama ist fertig - es bleibt nur noch ein Service zur Veröffentlichung zu finden. <br><img src="https://habrastorage.org/webt/9w/pj/bx/9wpjbx-ml7dzugyjwm-11cdpp-q.png"><br><br>  → <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Panorama hier fertig</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de418775/">https://habr.com/ru/post/de418775/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de418761/index.html">Das Buch „Pure Python. Die Feinheiten der Programmierung für Profis »</a></li>
<li><a href="../de418763/index.html">Mittel / Senior: Wie kann man aus dem Sumpf ausbrechen?</a></li>
<li><a href="../de418765/index.html">Dadata-Tipps helfen beim Ausfüllen von Eingabeformularen. Jetzt heile</a></li>
<li><a href="../de418767/index.html">Das riesige Gaming-Erbe von Adobe Flash und meine Versuche, es zu speichern</a></li>
<li><a href="../de418769/index.html">Beispiel für die Berechnung des „Verfügbarkeitsfaktors“ für ein IT-System</a></li>
<li><a href="../de418777/index.html">„Hier gibt es keinen Chef“: Über die Arbeit mit Open Source und Apache Ignite in Sberbank Technologies</a></li>
<li><a href="../de418779/index.html">Kassierer auf der Basis des Tablets: Warum Netzwerkhändler es brauchen (wir sagen am Beispiel unseres Kassierers)</a></li>
<li><a href="../de418781/index.html">Fügen Sie Zimbra E-Mail-Verschlüsselung und elektronische Signatur hinzu</a></li>
<li><a href="../de418783/index.html">"Wer gestern ein Monopolriese war, kann morgen nichts werden." Interview mit Evgeny Chereshnev von Biolink.Tech</a></li>
<li><a href="../de418785/index.html">Amigo alles. Jetzt ist es offiziell</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>