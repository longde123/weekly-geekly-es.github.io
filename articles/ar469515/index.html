<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ผ๐พ ๐ง๐ป ๐๐ป ุฅุนุฏุงุฏ ุงูุชุทุจูู ู Istio ๐ฆ ๐จ๐ฟโ๐ฌ ๐ฐ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Istio ูู ุฃุฏุงุฉ ููุงุฆูุฉ ูุชูุตูู ูุญูุงูุฉ ููุฑุงูุจุฉ ุงูุชุทุจููุงุช ุงูููุฒุนุฉ. ูุณุชุฎุฏู Istio ูุฌููุนุฉ ูุชููุนุฉ ูู ุงูุชูููุงุช ูุจุฏุก ุชุดุบูู ุงูุจุฑุงูุฌ ูุฅุฏุงุฑุชูุง ุนูู ูุทุงู ูุงุณุน ุ ุจูุง ู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุฅุนุฏุงุฏ ุงูุชุทุจูู ู Istio</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/469515/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/qy/yw/v1/qyywv1qmzphh1svbblasrxjc6ym.jpeg"></p><br><p style=";text-align:right;direction:rtl">  Istio ูู ุฃุฏุงุฉ ููุงุฆูุฉ ูุชูุตูู ูุญูุงูุฉ ููุฑุงูุจุฉ ุงูุชุทุจููุงุช ุงูููุฒุนุฉ.  ูุณุชุฎุฏู Istio ูุฌููุนุฉ ูุชููุนุฉ ูู ุงูุชูููุงุช ูุจุฏุก ุชุดุบูู ุงูุจุฑุงูุฌ ูุฅุฏุงุฑุชูุง ุนูู ูุทุงู ูุงุณุน ุ ุจูุง ูู ุฐูู ุญุงููุงุช ูุฑูุฒ ุชุทุจูู ุงูุชุนุจุฆุฉ ูุงูุชุบููู ูุงูุชุจุนูุงุช ูููุดุฑ ุ ู Kubernetes ูุฅุฏุงุฑุฉ ูุฐู ุงูุญุงููุงุช.  ูุฐูู ุ ููุนูู ูุน Istio ุ ูุฌุจ ุฃู ุชุนุฑู ููู ูุนูู ุชุทุจูู ูุน ุงูุนุฏูุฏ ูู ุงูุฎุฏูุงุช ุนูู ุฃุณุงุณ ูุฐู ุงูุชูููุงุช <em>ุฏูู</em> Istio.  ุฅุฐุง ููุช ุชุนุฑู ูุฐู ุงูุฃุฏูุงุช ูุงูููุงููู ุจุงููุนู ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> ุชุชุฑุฏุฏ ูู ุชุฎุทู ูุฐุง ุงูุฏููู ูุงูุงูุชูุงู ูุจุงุดุฑุฉู ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุซุจูุช Istio ุนูู Google Kubernetes Engine (GKE)</a> ุฃู ุชุซุจูุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Istio ุนูู GKE</a> extension. </p><br><p style=";text-align:right;direction:rtl">  ูุฐุง ุฏููู ุฎุทูุฉ ุจุฎุทูุฉ ุญูุซ ุณูููู ูุธุฑุฉ ุนูู ุงูุนูููุฉ ุจุฑูุชูุง ูู ุดูุฑุฉ ุงููุตุฏุฑ ุฅูู ุญุงููุฉ ุนูู GKE ุ ุญุชู ุชุญุตู ุนูู ููุฑุฉ ุฃุณุงุณูุฉ ุนู ูุฐู ุงูุชูููุงุช ุจุงุณุชุฎุฏุงู ูุซุงู.  ุณุชุฑู ุฃูุถูุง ููู ูุณุชููุฏ Istio ูู ูุฐู ุงูุชูููุงุช.  ูู ุงูููุชุฑุถ ุฃูู ูุง ุชุนุฑู ุฃู ุดูุก ุนู ุงูุญุงููุงุช ุฃู Kubernetes ุฃู ุดุจูุฉ ุงูุฎุฏูุฉ ุฃู Istio. </p><a name="habracut"></a><br><h3 id="zadachi" style=";text-align:right;direction:rtl">  ุงูููุงู </h3><br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงูุฏููู ุ ุณูู ุชููู ุงูููุงู ุงูุชุงููุฉ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงุณุชูุดุงู ุชุทุจูู hello world ุงูุจุณูุท ูุน ุงูุนุฏูุฏ ูู ุงูุฎุฏูุงุช. </li><li style=";text-align:right;direction:rtl">  ุชุดุบูู ุงูุชุทุจูู ูู ุดูุฑุฉ ุงููุตุฏุฑ. </li><li style=";text-align:right;direction:rtl">  ุชุนุจุฆุฉ ุงูุชุทุจูู ูู ุญุงููุงุช. </li><li style=";text-align:right;direction:rtl"> ุฅูุดุงุก ูุชูุฉ Kubernetes </li><li style=";text-align:right;direction:rtl">  ูุดุฑ ุงูุญุงููุงุช ุฅูู ูุชูุฉ. </li></ol><br><h3 id="prezhde-chem-nachat" style=";text-align:right;direction:rtl">  ูุจู ุฃู ุชุจุฏุฃ </h3><br><p style=";text-align:right;direction:rtl">  ุงุชุจุน ุงูุชุนูููุงุช ูุชูููู ูุงุฌูุฉ ุจุฑูุฌุฉ ุชุทุจููุงุช Kubernetes Engine: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุชูู ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุตูุญุฉ Kubernetes Engine</a> ูู ูุญุฏุฉ ุงูุชุญูู ูู Google Cloud Platform. </li><li style=";text-align:right;direction:rtl">  ุฅูุดุงุก ุฃู ุชุญุฏูุฏ ูุดุฑูุน. </li><li style=";text-align:right;direction:rtl">  ุงูุชุธุฑ API ูุงูุฎุฏูุงุช ุฐุงุช ุงูุตูุฉ ูุชุดุบูู.  ูุฏ ูุณุชุบุฑู ูุฐุง ุนุฏุฉ ุฏูุงุฆู. </li><li style=";text-align:right;direction:rtl">  ุชุฃูุฏ ูู ุชูููู ุงูููุงุชูุฑ ููุดุฑูุน Google Cloud Platform.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุนุฑู ุนูู ููููุฉ ุชูููู ุงูููุชุฑุฉ</a> . </li></ol><br><p style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงูุฏููู ุ ููููู ุงุณุชุฎุฏุงู Cloud Shell ุ ุงูุฐู ูุนุฏ ุงูุฌูุงุฒ ุงูุธุงูุฑู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">g1 ุงูุตุบูุฑ ูู Google Compute Engine</a> ูุน Linux ุงููุณุชูุฏุฉ ุฅูู ุฏุจูุงู ุฃู ููุจููุชุฑ Linux ุฃู macOS. </p><br><h3 id="variant-a-ispolzovanie-cloud-shell" style=";text-align:right;direction:rtl">  ุงูุฎูุงุฑ ุฃ: ุงุณุชุฎุฏุงู Cloud Cloud </h3><br><p style=";text-align:right;direction:rtl">  ููุงุฆุฏ ุงุณุชุฎุฏุงู Cloud Shell: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุจูุฆุงุช ุงูุชุทููุฑ Python 2 ู Python 3 (ุจูุง ูู ุฐูู <strong>virtualenv</strong> ) ูุฎุตุตุฉ ุจุงููุงูู. </li><li style=";text-align:right;direction:rtl">  <strong>ุฃุฏูุงุช</strong> ุณุทุฑ ุงูุฃูุงูุฑ <strong>gcloud</strong> ู <strong>docker</strong> ู <strong>git</strong> ู <strong>kubectl ุงูุชู ุณูุณุชุฎุฏููุง</strong> ูุซุจุชุฉ ุจุงููุนู. </li><li style=";text-align:right;direction:rtl">  ูุฏูู ุงูุนุฏูุฏ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุฑุงูุฌ ุชุญุฑูุฑ ุงููุตูุต</a> ููุงุฎุชูุงุฑ ูู ุจูููุง: <br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุฑุฑ ุงูููุฏ</a> ุงูุฐู ููุชุญ ูุน ุฃููููุฉ ุงูุชุญุฑูุฑ ูู ุงูุฌุฒุก ุงูุนููู ูู ูุงูุฐุฉ Cloud Shell. </li><li style=";text-align:right;direction:rtl">  Emacs ุฃู Vim ุฃู Nano ุงูุชู ุชูุชุญ ูู ุณุทุฑ ุงูุฃูุงูุฑ ูู Cloud Shell. </li></ol></li></ul><br><p style=";text-align:right;direction:rtl">  ูุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Cloud Shell</a> : </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุงูุชูู ุฅูู ูุญุฏุฉ ุชุญูู GCP. </li><li style=";text-align:right;direction:rtl">  ุงููุฑ ููู ุงูุฒุฑ <strong>Activate Cloud Shell</strong> ูู ุงูุฌุฒุก ุงูุนููู ูู ูุงูุฐุฉ ูุญุฏุฉ ุชุญูู GCP. </li></ol><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/yu/sh/9x/yush9xie9_peummad02lgu2n5x8.png"></p><br><p style=";text-align:right;direction:rtl">  ูู ุงูุฌุฒุก ุงูุณููู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุญุฏุฉ ุงูุชุญูู GCP ุ</a> ูู ูุงูุฐุฉ ุฌุฏูุฏุฉ ุ ูุชู ูุชุญ ุฌูุณุฉ Cloud Shell ุจุณุทุฑ ุงูุฃูุงูุฑ. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/yi/no/-q/yino-qj5bwaluwxlo3xtf0yr7ty.png"></p><br><h3 id="variant-b-ispolzovanie-instrumentov-komandnoy-stroki-lokalno" style=";text-align:right;direction:rtl">  ุงูุฎูุงุฑ ุจ: ุงุณุชุฎุฏุงู ุฃุฏูุงุช ุณุทุฑ ุงูุฃูุงูุฑ ูุญููุง </h3><br><p style=";text-align:right;direction:rtl">  ุฅุฐุง ููุช ุณุชุนูู ุนูู ุฌูุงุฒ ููุจููุชุฑ ูุนูู ุจูุธุงู Linux ุฃู macOS ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุชูููู ุงูููููุงุช ุงูุชุงููุฉ ูุชุซุจูุชูุง: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุฅุนุฏุงุฏ ุจูุฆุฉ ุชุทููุฑ Python 3 ู Python 2 ุงูุฎุงุตุฉ ุจู</a> . </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ุจุชุซุจูุช Cloud SDK</a> ุจุงุณุชุฎุฏุงู <strong>ุฃุฏุงุฉ</strong> ุณุทุฑ ุงูุฃูุงูุฑ <strong>gcloud</strong> . </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุชุซุจูุช <strong>kubectl</strong> ุ ุฃุฏุงุฉ ุณุทุฑ ุฃูุงูุฑ ููุนูู ูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Kubernetes</a> . </p><br><pre style=";text-align:right;direction:rtl"><code class="plaintext hljs">gcloud components install kubectl</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุซุจูุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Docker Community Edition (CE)</a> .  ุณุชุณุชุฎุฏู ุฃุฏุงุฉ ุณุทุฑ ุงูุฃูุงูุฑ <strong>docker</strong> ูุฅูุดุงุก ุตูุฑ ุญุงููุฉ ูุชุทุจูู ูููุฐุฌ. </p><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุชุซุจูุช ุฃุฏุงุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุญูู ูู ุฅุตุฏุงุฑ Git</a> ููุญุตูู ุนูู ุชุทุจูู ูููุฐุฌ ุจุงุณุชุฎุฏุงู GitHub. </p><br></li></ol><br><h3 id="zagruzka-primera-koda" style=";text-align:right;direction:rtl">  ุชุญููู ุฑูุฒ ุนููุฉ </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุชูุฒูู ููุฏ ูุตุฏุฑ <strong>helloserver</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">git clone https://github.com/GoogleCloudPlatform/istio-samples</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงูุชูู ุฅูู ุฏููู ุฑูุฒ ุนููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cd istio-samples/sample-apps/helloserver</code> </pre> <br></li></ol><br><h3 id="izuchenie-prilozheniya-s-neskolkimi-servisami" style=";text-align:right;direction:rtl">  ุงุณุชูุดุงู ุชุทุจูู ูุชุนุฏุฏ ุงูุฎุฏูุงุช </h3><br><p style=";text-align:right;direction:rtl">  ุชุทุจูู ุงูุนููุฉ ููุชูุจ ูู Python ููุชููู ูู ุนูุตุฑูู ูุชูุงุนูุงู ูุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">REST</a> : </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>ุงูุฎุงุฏู</strong> : <strong>ุฎุงุฏู</strong> ุจุณูุท ูุน ููุทุฉ ููุงูุฉ <strong>GET</strong> ูุงุญุฏุฉ <strong>ุ /</strong> ุ ูุงูุชู ุชุนุฑุถ "ุนุงูู ุงูุชุฑุญูุจ" ุนูู ูุญุฏุฉ ุงูุชุญูู. </li><li style=";text-align:right;direction:rtl">  <strong>loadgen</strong> : ุจุฑูุงูุฌ ูุตู ูุฑุณู ุญุฑูุฉ ุงููุฑูุฑ ุฅูู <strong>ุงูุฎุงุฏู</strong> ุ ูุน ุนุฏุฏ ูุงุจู ููุชูููู ูู ุงูุทูุจุงุช ูู ุงูุซุงููุฉ ุงููุงุญุฏุฉ. </li></ul><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/b1/ky/lj/b1kyljxdkjdci12qtle2w3dmtjw.png"></p><br><h3 id="zapusk-prilozheniya-iz-ishodnogo-koda" style=";text-align:right;direction:rtl">  ุชุดุบูู ุชุทุจูู ูู ุงููุตุฏุฑ </h3><br><p style=";text-align:right;direction:rtl">  ููุนุฑูุฉ ุชุทุจูู ูููุฐุฌ ุ ูู ุจุชุดุบููู ูู Cloud Shell ุฃู ุนูู ุฌูุงุฒ ููุจููุชุฑ. <br>  1) ูู ุฏููู <strong>istio-samples / sample-apps / helloserver</strong> ุ ูู ุจุชุดุบูู <strong>ุงูุฎุงุฏู</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">python3 server/server.py</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุจุฏุก ุชุดุบูู <strong>ุงูุฎุงุฏู</strong> ุ ูุชู ุนุฑุถ ูุง ููู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">INFO:root:Starting server...</code> </pre> <br><p style=";text-align:right;direction:rtl">  2) ุงูุชุญ ูุงูุฐุฉ ุทุฑููุฉ ุฃุฎุฑู ูุฅุฑุณุงู ุงูุทูุจุงุช ุฅูู <strong>ุงูุฎุงุฏู</strong> .  ุฅุฐุง ููุช ุชุณุชุฎุฏู Cloud Shell ุ ูุงููุฑ ููู ุฑูุฒ ุงูุฅุถุงูุฉ ููุชุญ ุฌูุณุฉ ุฃุฎุฑู. <br>  3) ุฅุฑุณุงู ุทูุจ ุฅูู <strong>ุงูุฎุงุฏู</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">curl http://localhost:8080</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุฅุฌุงุจุงุช ุงูุฎุงุฏู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Hello World!</code> </pre> <br><p style=";text-align:right;direction:rtl">  4) ูู ุงูุฏููู ุงูุฐู ููุช ุจุชูุฒูู ูููุฐุฌ ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ ุ ุงูุชูู ุฅูู ุงูุฏููู ุงูุฐู ูุญุชูู ุนูู <strong>loadgen</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cd YOUR_WORKING_DIRECTORY/istio-samples/sample-apps/helloserver/loadgen</code> </pre> <br><p style=";text-align:right;direction:rtl">  5) ูู ุจุฅูุดุงุก ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุชุงููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">export SERVER_ADDR=http://localhost:8080 export REQUESTS_PER_SECOND=5</code> </pre> <br><p style=";text-align:right;direction:rtl">  6) ุชุดุบูู <strong>virtualenv</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">virtualenv --python python3 env</code> </pre> <br><p style=";text-align:right;direction:rtl">  7) ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">source env/bin/activate</code> </pre> <br><p style=";text-align:right;direction:rtl">  8) ุชุนููู ูุชุทูุจุงุช ู <strong>loadgen</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">pip3 install -r requirements.txt</code> </pre> <br><p style=";text-align:right;direction:rtl">  9) ุชุดุบูู <strong>loadgen</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">python3 loadgen.py</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุงูุจุฏุก ุ ูุนุฑุถ <strong>loadgen</strong> ุงูุฑุณุงูุฉ ุงูุชุงููุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">Starting loadgen: 2019-05-20 10:44:12.448415 5 request(s) complete to http://localhost:8080</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ูุงูุฐุฉ ุทุฑููุฉ ุฃุฎุฑู ุ ูุนุฑุถ <strong>ุงูุฎุงุฏู</strong> ุงูุฑุณุงุฆู ุงูุชุงููุฉ ุนูู ูุญุฏุฉ ุงูุชุญูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">127.0.0.1 - - [21/Jun/2019 14:22:01] "GET / HTTP/1.1" 200 - INFO:root:GET request, Path: / Headers: Host: localhost:8080 User-Agent: python-requests/2.22.0 Accept-Encoding: gzip, deflate Accept: */*</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูู ููุธูุฑ ุงูุดุจูุฉ ุ ูุนูู ุงูุชุทุจูู ุจุงููุงูู ุนูู ููุณ ุงููุถูู (ุฌูุงุฒ ููุจููุชุฑ ูุญูู ุฃู ุฌูุงุฒ ุธุงูุฑู Cloud Cloud).  ูุฐูู ุ ููููู ุงุณุชุฎุฏุงู <strong>ุงููุถูู ุงููุญูู</strong> ูุฅุฑุณุงู ุงูุทูุจุงุช ุฅูู <strong>ุงูุฎุงุฏู</strong> . <br>  10) ูุฅููุงู <strong>loadgen</strong> <strong>ูุงูุฎุงุฏู</strong> ุ ุฃุฏุฎู <strong>Ctrl-c</strong> ูู ูู ูุงูุฐุฉ ุทุฑููุฉ. <br>  11) ูู <strong>ุฅุทุงุฑ</strong> ูุญุทุฉ <strong>loadgen ุ ูู</strong> ุจุฅูุบุงุก ุชูุดูุท ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">deactivate</code> </pre> <br><h3 id="upakovka-prilozheniya-v-konteynery" style=";text-align:right;direction:rtl">  ุชุนุจุฆุฉ ุงูุชุทุจูู ูู ุญุงููุงุช </h3><br><p style=";text-align:right;direction:rtl">  ูุชุดุบูู ุงูุชุทุจูู ุนูู GKE ุ ุชุญุชุงุฌ ุฅูู ุญุฒู ูููุฐุฌ ุงูุชุทุจูู - <strong>server</strong> ู <strong>loadgen</strong> - ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุญุงููุงุช</a> .  ุงูุญุงููุฉ ูู ูุณููุฉ ูุญุฒู ุชุทุจูู ูุนุฒูู ุนู ุงูุจูุฆุฉ. </p><br><p style=";text-align:right;direction:rtl">  ูุญุฒู ุงูุชุทุจูู ูู ุญุงููุฉ ุ ุชุญุชุงุฌ ุฅูู <strong>Dockerfile</strong> .  <strong>ููู Dockerfile</strong> ูู ููู ูุตู ูุญุฏุฏ ุฃูุงูุฑ ุฅูุดุงุก ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ ููุชุทุจูู ูุงูุชุจุนูุงุช ุงูุฎุงุตุฉ ุจู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุตูุฑุฉ Docker.</a>  ุจุนุฏ ุงูุฅูุดุงุก ุ ููููู ุชุญููู ุงูุตูุฑุฉ ุฅูู ุณุฌู ุงูุญุงููุฉ ุ ุนูู ุณุจูู ุงููุซุงู ุ Docker Hub ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Container Registry</a> . </p><br><p style=";text-align:right;direction:rtl">  ุงููุซุงู ูุญุชูู ุจุงููุนู ุนูู <strong>Dockerfile</strong> <strong>ููุฎุงุฏู</strong> ู <strong>loadgen</strong> ูุน ุฌููุน ุงูุฃูุงูุฑ ุงููุงุฒูุฉ ูุชุฌููุน ุงูุตูุฑ.  ุฃุฏูุงู ูู <strong>Dockerfile</strong> <strong>ููุฎุงุฏู</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">FROM python:3-slim as base FROM base as builder RUN apt-get -qq update \ &amp;&amp; apt-get install -y --no-install-recommends \ g++ \ &amp;&amp; rm -rf /var/lib/apt/lists/* # Enable unbuffered logging FROM base as final ENV PYTHONUNBUFFERED=1 RUN apt-get -qq update \ &amp;&amp; apt-get install -y --no-install-recommends \ wget WORKDIR /helloserver # Grab packages from builder COPY --from=builder /usr/local/lib/python3.7/ /usr/local/lib/python3.7/ # Add the application COPY . . EXPOSE 8080 ENTRYPOINT [ "python", "server.py" ]</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุฎุจุฑ ุงูุฃูุฑ <strong>FROM python: 3-slim as</strong> command ุฃู ูููู Docker ุจุงุณุชุฎุฏุงู ุฃุญุฏุซ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุตูุฑุฉ Python 3</a> ููุงุนุฏุฉ. </li><li style=";text-align:right;direction:rtl">  ูุฑูู <strong>ุงููุณุฎ.</strong>  <strong>.</strong>  ูุณุฎ ุงููููุงุช ุงููุตุฏุฑ ุฅูู ุฏููู ุงูุนูู ุงูุญุงูู (ูู ุญุงูุชูุง ููุท <strong>server.py</strong> ) ูู ูุธุงู ุงููููุงุช ุงูุญุงููุฉ. </li><li style=";text-align:right;direction:rtl">  ูุญุฏุฏ <strong>ENTRYPOINT</strong> ุงูุฃูุฑ ุงูุฐู ูุชู ุงุณุชุฎุฏุงูู ูุจุฏุก ุงูุญุงููุฉ.  ูู ุญุงูุชูุง ุ ูููู ูุฐุง ุงูุฃูุฑ ูู ููุณู ุชูุฑูุจุง ุงูุฃูุฑ ุงูุฐู ุงุณุชุฎุฏูุชู ูุชุดุบูู <strong>server.py</strong> ูู ุงูููุฏ ุงููุตุฏุฑู. </li><li style=";text-align:right;direction:rtl">  ูุดูุฑ ุฃูุฑ <strong>EXPOSE</strong> ุฅูู ุฃู <strong>ุงูุฎุงุฏู</strong> ูุณุชูุน ุฅูู ุงููููุฐ <strong>8080</strong> .  ูุฐุง ุงูุฃูุฑ ูุง <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุฑ ุงูููุงูุฐ</a> .  ูุฐุง ููุน ูู ุงููุซุงุฆู ุงููุงุฒูุฉ ููุชุญ ุงููููุฐ <strong>8080</strong> ุนูุฏ ุจุฏุก ุชุดุบูู ุงูุญุงููุฉ. </li></ul><br><h3 id="podgotovka-k-konteynerizacii-prilozheniya" style=";text-align:right;direction:rtl">  ุงูุชุญุถูุฑ ูุญุงููุงุช ุงูุชุทุจูู </h3><br><p style=";text-align:right;direction:rtl">  1) ุงุถุจุท ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุชุงููุฉ.  ุงุณุชุจุฏู <strong>PROJECT_ID ุจูุนุฑู</strong> ูุดุฑูุน GCP ุงูุฎุงุต ุจู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">export PROJECT_ID="PROJECT_ID"</code> </pre> <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">export GCR_REPO="preparing-istio"</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุงุณุชุฎุฏุงู <strong>ููู PROJECT_ID</strong> ู <strong>GCR_REPO ุ</strong> ููููู <strong>ุชูููุฒ</strong> ุตูุฑุฉ Docker ุนูุฏ ุฌูุนูุง ูุฅุฑุณุงููุง ุฅูู "ุญุงููุฉ ุงูุชุณุฌูู" ุงูุฎุงุตุฉ. </p><br><p style=";text-align:right;direction:rtl">  2) ูู ุจุชุนููู ูุดุฑูุน GCP ุงูุงูุชุฑุงุถู <strong>ูุฃุฏุงุฉ</strong> ุณุทุฑ ุงูุฃูุงูุฑ <strong>gcloud</strong> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">gcloud config set project $PROJECT_ID</code> </pre> <br><p style=";text-align:right;direction:rtl">  3) ูู ุจุชุนููู ุงูููุทูุฉ ุงูุงูุชุฑุงุถูุฉ <strong>ูุฃุฏุงุฉ</strong> ุณุทุฑ ุงูุฃูุงูุฑ <strong>gcloud</strong> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">gcloud config set compute/zone us-central1-b</code> </pre> <br><p style=";text-align:right;direction:rtl">  4) ุชุฃูุฏ ูู ุฃู ุฎุฏูุฉ ุญุงููุฉ ุงูุณุฌู ูุถููุฉ ูู ูุดุฑูุน GCP. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">gcloud services enable containerregistry.googleapis.com</code> </pre> <br><h3 id="konteynerizaciya-server" style=";text-align:right;direction:rtl">  ุฎุงุฏู ุญุงููุงุช </h3><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุงูุชุบููุฑ ุฅูู ุงูุฏููู ุญูุซ ููุฌุฏ ูุซุงู <strong>ุงูุฎุงุฏู</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cd YOUR_WORKING_DIRECTORY/istio-samples/sample-apps/helloserver/server/</code> </pre> <br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ูู ุจุจูุงุก ุงูุตูุฑุฉ ุจุงุณุชุฎุฏุงู ูุชุบูุฑุงุช <strong>Dockerfile</strong> ูุงูุจูุฆุฉ ุงูุชู ุญุฏุฏุชูุง ุณุงุจููุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">docker build -t gcr.io/$PROJECT_ID/$GCR_REPO/helloserver:v0.0.1 .</code> </pre> <br></li></ol><br><p style=";text-align:right;direction:rtl">  ููุซู <strong>ุงูุฎูุงุฑ -t</strong> ุนูุงูุฉ Docker.  ูุฐุง ูู ุงุณู ุงูุตูุฑุฉ ุงูุชู ุชุณุชุฎุฏููุง ุนูุฏ ูุดุฑ ุงูุญุงููุฉ. </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฅุฑุณุงู ุงูุตูุฑุฉ ุฅูู ุญุงููุฉ ุงูุชุณุฌูู: <br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">docker push gcr.io/$PROJECT_ID/$GCR_REPO/helloserver:v0.0.1</code> </pre> </li></ol><br><h3 id="konteynerizaciya-loadgen" style=";text-align:right;direction:rtl">  ุชุญููู ุงูุญุงููุงุช </h3><br><p style=";text-align:right;direction:rtl">  1) ุงูุชูู ุฅูู ุงูุฏููู ุญูุซ <strong>ููุฌุฏ</strong> ูุซุงู <strong>loadgen</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cd ../loadgen</code> </pre> <br><p style=";text-align:right;direction:rtl">  2) ุชุฌููุน ุงูุตูุฑุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">docker build -t gcr.io/$PROJECT_ID/$GCR_REPO/loadgen:v0.0.1 .</code> </pre> <br><p style=";text-align:right;direction:rtl">  3) ุฃุฑุณู ุงูุตูุฑุฉ ุฅูู ุญุงููุฉ ุงูุชุณุฌูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">docker push gcr.io/$PROJECT_ID/$GCR_REPO/loadgen:v0.0.1</code> </pre> <br><h3 id="prosmotr-spiska-obrazov" style=";text-align:right;direction:rtl">  ุนุฑุถ ูุงุฆูุฉ ุงูุตูุฑ </h3><br><p style=";text-align:right;direction:rtl">  ุงุณุชุนุฑุถ ูุงุฆูุฉ ุงูุตูุฑ ูู ุงููุณุชูุฏุน ูุชุฃูุฏ ูู ุฅุฑุณุงู ุงูุตูุฑ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">gcloud container images list --repository gcr.io/$PROJECT_ID/preparing-istio</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุนุฑุถ ุงูุฃูุฑ ุฃุณูุงุก ุงูุตูุฑ ุงููุฑุณูุฉ ููุชู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">NAME gcr.io/PROJECT_ID/preparing-istio/helloserver gcr.io/PROJECT_ID/preparing-istio/loadgen</code> </pre> <br><h3 id="sozdanie-klastera-gke" style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุฌููุนุฉ GKE </h3><br><p style=";text-align:right;direction:rtl">  ูููู ุชุดุบูู ูุฐู ุงูุญุงููุงุช ุนูู ุงูุฌูุงุฒ ุงูุธุงูุฑู ูู Cloud Shell ุฃู ุนูู ุงูููุจููุชุฑ ุจุงุณุชุฎุฏุงู <strong>ุฃูุฑ ุชุดุบูู</strong> ุงูุฌูุงุฒ ุงููุญููู.  ูููู ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุทุฑููุฉ ูุชูุธูู ุงูุญุงููุงุช ูุฑูุฒููุง.  ุนูู ุณุจูู ุงููุซุงู ุ ูุญุชุงุฌ ุฅูู ูุธุงู ูุถูู ุนูู ุงูุญุงููุงุช ุฏุงุฆููุง ุ ููุญุชุงุฌ ุฅูู ุทุฑููุฉ ูุชูุจูุฑ ูุฅุทูุงู ูุซููุงุช ุฅุถุงููุฉ ูู ุงูุญุงููุงุช ูู ุญุงูุฉ ุฒูุงุฏุฉ ุญุฑูุฉ ุงููุฑูุฑ. </p><br><p style=";text-align:right;direction:rtl">  ููููู ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GKE</a> ูุชุดุบูู ุชุทุจููุงุช ุงูุญุงููุฉ.  GKE ุนุจุงุฑุฉ ุนู ูุธุงู ุฃุณุงุณู ูุชูุณูู ุงูุญุงููุฉ ูููู ุจุชุฌููุน ุงูุฃุฌูุฒุฉ ุงูุงูุชุฑุงุถูุฉ.  ูุณูู ูู ุฌูุงุฒ ุงูุธุงูุฑู ุงููุถูู.  ุชุนุชูุฏ ูุฌููุนุงุช GKE ุนูู ูุธุงู ุฅุฏุงุฑุฉ ูุธุงู ุงููุฌููุนุฉ ุงูููุชูุญ Kubernetes.  ูููุฑ Kubernetes ุขููุงุช ููุชูุงุนู ูุน ุงููุชูุฉ. </p><br><p style=";text-align:right;direction:rtl">  ุฅูุดุงุก ูุฌููุนุฉ GKE: </p><br><p style=";text-align:right;direction:rtl">  1) ุฅูุดุงุก ูุชูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">gcloud container clusters create istioready \ --cluster-version latest \ --machine-type=n1-standard-2 \ --num-nodes 4</code> </pre> <br><p style=";text-align:right;direction:rtl">  ููุดุฆ ุงูุฃูุฑ <strong>gcloud</strong> ูุชูุฉ <strong>istioready</strong> ูู ูุดุฑูุน GCP ูุงูููุทูุฉ ุงูุงูุชุฑุงุถูุฉ ุงูุชู ุญุฏุฏุชูุง.  ูุจุฏุก ุชุดุบูู Istio ุ ููุตูู ุจูุฌูุฏ 4 ุนูุฏ ุนูู ุงูุฃูู ูุฌูุงุฒ ุธุงูุฑู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">n1-standard-2</a> . </p><br><p style=";text-align:right;direction:rtl">  ูููู ุงููุฑูู ุจุฅูุดุงุก ูุฌููุนุฉ ูุนุฏุฉ ุฏูุงุฆู.  ุนูุฏูุง ุชููู ุงููุชูุฉ ุฌุงูุฒุฉ ุ ูุตุฏุฑ ุงูุฃูุฑ ุฑุณุงูุฉ ููุงุซูุฉ. </p><br><p style=";text-align:right;direction:rtl">  2) ุญุฏุฏ ุจูุงูุงุช ุงูุงุนุชูุงุฏ ูู <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃุฏุงุฉ</a></strong> ุณุทุฑ ุงูุฃูุงูุฑ <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">kubectl</a></strong> ูุงุณุชุฎุฏุงููุง ูุฅุฏุงุฑุฉ ุงููุชูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">gcloud container clusters get-credentials istioready</code> </pre> <br><p style=";text-align:right;direction:rtl">  3) ุงูุขู ููููู ุงูุชูุงุตู ูุน Kubernetes ูู ุฎูุงู <strong>kubectl</strong> .  ุนูู ุณุจูู ุงููุซุงู ุ ุจุงุณุชุฎุฏุงู ุงูุฃูุฑ ุงูุชุงูู ุ ููููู ูุนุฑูุฉ ุญุงูุฉ ุงูุนูุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">kubectl get nodes</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุนุฑุถ ุงูุฃูุฑ ูุงุฆูุฉ ุงูุนูุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">NAME STATUS ROLES AGE VERSION gke-istoready-default-pool-dbeb23dc-1vg0 Ready &lt;none&gt; 99s v1.13.6-gke.13 gke-istoready-default-pool-dbeb23dc-36z5 Ready &lt;none&gt; 100s v1.13.6-gke.13 gke-istoready-default-pool-dbeb23dc-fj7s Ready &lt;none&gt; 99s v1.13.6-gke.13 gke-istoready-default-pool-dbeb23dc-wbjw Ready &lt;none&gt; 99s v1.13.6-gke.13</code> </pre> <br><h3 id="klyuchevye-ponyatiya-kubernetes" style=";text-align:right;direction:rtl">  ููุงููู Kubernetes ุงูุฑุฆูุณูุฉ </h3><br><p style=";text-align:right;direction:rtl">  ูุนุฑุถ ุงูุฑุณู ุงูุชุฎุทูุทู ุงูุชุทุจูู ุนูู GKE: </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/-s/x2/uj/-sx2ujtlifvzdtixzdqpnr9jzva.png"></p><br><p style=";text-align:right;direction:rtl">  ูุจู ูุดุฑ ุงูุญุงููุงุช ูู GKE ุ ุงูุธุฑ ุฅูู ุงูููุงููู ุงูุฃุณุงุณูุฉ ูู Kubernetes.  ููุงู ุฑูุงุจุท ูู ุงูููุงูุฉ ุฅุฐุง ููุช ุชุฑูุฏ ูุนุฑูุฉ ุงููุฒูุฏ. </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>ุงูุนูุฏ ูุงููุฌููุนุงุช</strong> .  ูู GKE ุ ุงูุนูุฏุฉ ูู ุขูุฉ ุงูุชุฑุงุถูุฉ.  ุนูู ููุตุงุช Kubernetes ุงูุฃุฎุฑู ุ ูููู ุฃู ูููู ุงููุถูู ุฌูุงุฒ ููุจููุชุฑ ุฃู ุฌูุงุฒ ุงูุชุฑุงุถู.  ุงููุชูุฉ ูู ูุฌููุนุฉ ูู ุงูุนูุฏ ุงูุชู ูููู ุงูุชูููุฑ ูููุง ููู ูุญูุซ ุชููู ุจูุดุฑ ุชุทุจูู ูู ุญุงููุฉ. </li><li style=";text-align:right;direction:rtl">  <strong>ุงูุณููุงุช</strong> .  ูู Kubernetes ุ ุชุนูู ุงูุญุงููุงุช ูู ุงููุฑูู.  ุฌุฑุงุจ ูู Kubernetes ูู ูุญุฏุฉ ุบูุฑ ูุงุจูุฉ ููุชุฌุฒุฆุฉ.  ุฌุฑุงุจ ูุญูู ุญุงููุฉ ูุงุญุฏุฉ ุฃู ุฃูุซุฑ.  ููููู ูุดุฑ ุงูุฎุงุฏู <strong>ูุญุงููุงุช ุชุญููู</strong> ูู ูุฑูู ูููุตูุฉ.  ุนูุฏูุง ูููู ููุงู ุนุฏุฉ ุญุงููุงุช ูู ุฌุฑุงุจ (ุนูู ุณุจูู ุงููุซุงู ุ ุฎุงุฏู ุชุทุจูู ูุฎุงุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููู</a> ) ุ ุชุชู ุฅุฏุงุฑุฉ ุงูุญุงููุงุช ููุงุฆู ูุงุญุฏ ููุดุงุฑูุฉ ููุงุฑุฏ ุงูุฌุฑุงุจ. </li><li style=";text-align:right;direction:rtl">  <strong>ุงููุดุฑ</strong> .  ูู Kubernetes ุ ุงููุดุฑ ูู ุนุจุงุฑุฉ ุนู ูุฌููุนุฉ ูู ุงููุฑูู ูุชุทุงุจูุฉ.  ูุดุฑ ูุนูู ุนุฏุฉ ูุณุฎ ูุชูุงุซูุฉ ูู ุงููุฑูู ููุฒุนุฉ ุนุจุฑ ุนูุฏ ุงููุชูุฉ.  ูุญู ุงููุดุฑ ุชููุงุฆููุง ูุญู ุงููุฑูู ุงูุชู ุชูุดู ุฃู ูุง ุชุณุชุฌูุจ. </li><li style=";text-align:right;direction:rtl">  <strong>ุฎุฏูุฉ Kubernetes</strong> .  ุนูุฏ ุชุดุบูู ุฑูุฒ ุงูุชุทุจูู ูู GKE ุ <strong>ูุชุบูุฑ</strong> ุงูุงุชุตุงู ุจูู <strong>loadgen</strong> <strong>ูุงูุฎุงุฏู</strong> .  ุนูุฏ ุจุฏุก ุชุดุบูู ุงูุฎุฏูุงุช ุนูู ุงูุฌูุงุฒ ุงูุธุงูุฑู ูู Cloud Shell ุฃู ุนูู ุงูููุจููุชุฑ ุ ููุช ุจุฅุฑุณุงู ุทูุจุงุช ุฅูู <strong>ุงูุฎุงุฏู</strong> ูู <strong>ุงููุถูู ุงููุญูู: 8080</strong> .  ุจุนุฏ ุงููุดุฑ ุฅูู GKE ุ ุชุนูู ุงููุฑูู ุนูู ุงูุนูุฏ ุงููุชุงุญุฉ.  ุจุดูู ุงูุชุฑุงุถู ุ ูุง ููููู ุงูุชุญูู ูู ูุง ูู ุฌุฑุงุจ ุงููุถูู ุงูุฐู ูุนูู ุนููู ุ ูุฐูู ูุง ุชููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุฑูู</a> ุนูุงููู IP ุฏุงุฆูุฉ. <br>  ููุญุตูู ุนูู ุนููุงู IP <strong>ููุฎุงุฏู</strong> ุ ุชุญุชุงุฌ ุฅูู ุชุญุฏูุฏ ุชุฌุฑูุฏ ุงูุดุจูุฉ ุนูู ุฃุนูู ุงูุณููุงุช.  ูุฐู ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฎุฏูุฉ Kubernetes</a> .  ุชููุฑ ุฎุฏูุฉ Kubernetes ููุทุฉ ููุงูุฉ ุฏุงุฆูุฉ ููุฌููุนุฉ ูู ุงููุฑูู.  ููุงู ุนุฏุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃููุงุน ูู ุงูุฎุฏูุงุช</a> .  ูุณุชุฎุฏู <strong>ุงูุฎุงุฏู</strong> <strong>LoadBalancer</strong> ุ ูุงูุฐู ูููุฑ ุนููุงู IP ุฎุงุฑุฌู ููุงุชุตุงู <strong>ุจุงูุฎุงุฏู</strong> ูู ุฎุงุฑุฌ ุงููุชูุฉ. <br>  ูุฏู Kubernetes ุฃูุถูุง ูุธุงู DNS ูุชูุงูู ูููู ุจุชุนููู ุฃุณูุงุก DNS (ุนูู ุณุจูู ุงููุซุงู ุ <strong>helloserver.default.cluster.local</strong> ) ููุฎุฏูุงุช.  ุจูุถู ูุฐุง ุ ุชุชูุงุตู ุงููุฑูู ุฏุงุฎู ุงููุฌููุนุฉ ูุน ุงููุฑูู ุงูุฃุฎุฑู ูู ุงููุฌููุนุฉ ุนูู ุนููุงู ุซุงุจุช.  ูุง ูููู ุงุณุชุฎุฏุงู ุงุณู DNS ุฎุงุฑุฌ ุงููุชูุฉ ุ ูุซู ุนูู Cloud Shell ุฃู ุนูู ุฌูุงุฒ ููุจููุชุฑ. </li></ul><br><h3 id="manifesty-kubernetes" style=";text-align:right;direction:rtl">  Kubernetes ุงูุธูุงูุฑ </h3><br><p style=";text-align:right;direction:rtl">  ุนูุฏ ุจุฏุก ุชุดุบูู ุงูุชุทุจูู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ ุ ุงุณุชุฎุฏูุช ุงูุฃูุฑ <strong>python3</strong> ุงูุฅูุฒุงูู </p><br><p style=";text-align:right;direction:rtl">  <strong>server.py</strong> </p><br><p style=";text-align:right;direction:rtl">  ุงูุญุชููุฉ ุชุนูู ุงููุนู: "ุงูุนููุง". </p><br><p style=";text-align:right;direction:rtl">  Kubernetes ูุณุชุฎุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุฐุฌ ุงูุชุนุฑููู</a> .  ูุฐุง ูุนูู ุฃููุง ูุง ูููู ูู Kubernetes ุจุงูุถุจุท ูุง ูุฌุจ ุงูููุงู ุจู ุ ูููู ูุตู ุงูุญุงูุฉ ุงููุทููุจุฉ.  ุนูู ุณุจูู ุงููุซุงู ุ ุชุจุฏุฃ Kubernetes ูุชููู ุงููุฑูู ุนูุฏ ุงูุถุฑูุฑุฉ ุ ุจุญูุซ ุชููู ุงูุญุงูุฉ ุงููุนููุฉ ูููุธุงู ููุง ูู ูุทููุจ. </p><br><p style=";text-align:right;direction:rtl">  ููููู ุชุญุฏูุฏ ุงูุญุงูุฉ ุงููุทููุจุฉ ูู ุงูุจูุงูุงุช ุฃู ูููุงุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">YAML</a> .  ูุญุชูู ููู YAML ุนูู ููุงุตูุงุช ูููุจู ุฃู ุฃูุซุฑ ูู ูุงุฆูุงุช Kubernetes. </p><br><p style=";text-align:right;direction:rtl">  ุงููุซุงู ูุญุชูู ุนูู ููู YAML <strong>ููุฎุงุฏู</strong> ู <strong>loadgen</strong> .  ูุดูุฑ ูู ููู YAML ุฅูู ุงูุญุงูุฉ ุงููุทููุจุฉ ููุงุฆู ุงููุดุฑ ูุฎุฏูุฉ Kubernetes. </p><br><p style=";text-align:right;direction:rtl">  <strong>server.yaml</strong> </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">apiVersion: apps/v1 kind: Deployment metadata: name: helloserver spec: selector: matchLabels: app: helloserver replicas: 1 template: metadata: labels: app: helloserver spec: terminationGracePeriodSeconds: 5 restartPolicy: Always containers: - name: main image: gcr.io/google-samples/istio/helloserver:v0.0.1 imagePullPolicy: Always</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุดูุฑ <strong>ุงูููุน</strong> ุฅูู ููุน ุงููุงุฆู. </li><li style=";text-align:right;direction:rtl">  ูุดูุฑ <strong>metadata.name</strong> ุฅูู ุงุณู ุงููุดุฑ. </li><li style=";text-align:right;direction:rtl">  ุชุญุชูู <strong>ุงูููุงุตูุงุช</strong> ุงูุญูู ุงูุฃูู ุนูู ูุตู ููุญุงูุฉ ุงููุทููุจุฉ. </li><li style=";text-align:right;direction:rtl">  <strong>spec.replicas</strong> ูุดูุฑ ุฅูู ุงูุนุฏุฏ ุงููุทููุจ ูู ุงููุฑูู. </li><li style=";text-align:right;direction:rtl">  ูุญุฏุฏ ุงููุณู <strong>spec.template</strong> ูุงูุจ <strong>pod</strong> .  ูู ููุงุตูุงุช ุงูุณููุงุช ุ ููุฌุฏ ุญูู <strong>ุตูุฑุฉ</strong> ูุดุงุฑ ููู ุฅูู ุงุณู ุงูุตูุฑุฉ ุงููุฑุงุฏ ุงุณุชุฎุฑุงุฌูุง ูู ุญุงููุฉ ุงูุชุณุฌูู. </li></ul><br><p style=";text-align:right;direction:rtl">  ูุชู ุชุนุฑูู ุงูุฎุฏูุฉ ุนูู ุงููุญู ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">apiVersion: v1 kind: Service metadata: name: hellosvc spec: type: LoadBalancer selector: app: helloserver ports: - name: http port: 80 targetPort: 8080</code> </pre> <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>LoadBalancer</strong> : ูููู ุงูุนููุงุก ุจุฅุฑุณุงู ุทูุจุงุช ุฅูู ุนููุงู IP ุงูุฎุงุต <strong>ุจููุงุฒู</strong> ุงูุชุญููู ุ ูุงูุฐู ูุญุชูู ุนูู ุนููุงู IP ุซุงุจุช ููููู ุงููุตูู ุฅููู ูู ุฎุงุฑุฌ ุงููุชูุฉ. </li><li style=";text-align:right;direction:rtl">  <strong>targetPort</strong> : ููุง ุชุชุฐูุฑ ุ ูู ูููุฑ ุงูุฃูุฑ <strong>EXPOSE</strong> <strong>8080</strong> ูู <strong>Dockerfile</strong> ููุงูุฐ.  ุชููุฑ ุงููููุฐ <strong>8080</strong> ุจุญูุซ ููููู ุงููุตูู ุฅูู ุญุงููุฉ <strong>ุงูุฎุงุฏู</strong> ูู ุฎุงุฑุฌ ุงููุชูุฉ.  ูู ุญุงูุชูุง ุ <strong>hellosvc.default.cluster.local: 80</strong> (ุงูุงุณู ุงููุฎุชุตุฑ: <strong>hellosvc</strong> ) ูุชูุงูู ูุน ุงููููุฐ <strong>8080 ูู</strong> ุนููุงู IP ุงูุฎุงุต <strong>ุจุฌูุงุฒ helloserver</strong> . </li><li style=";text-align:right;direction:rtl">  <strong>ุงููููุฐ</strong> : ูุฐุง ูู ุฑูู ุงููููุฐ ุญูุซ ุณุชุฑุณู ุงูุฎุฏูุงุช ุงูุฃุฎุฑู ูู ุงููุชูุฉ ุทูุจุงุช. </li></ul><br><p style=";text-align:right;direction:rtl">  <strong>loadgen.yaml</strong> </p><br><p style=";text-align:right;direction:rtl">  ูุดุจู ูุงุฆู ุงููุดุฑ ูู <strong>loadgen.yaml</strong> <strong>server.yaml</strong> .  ุงููุฑู ูู ุฃู ูุงุฆู ุงููุดุฑ ูุญุชูู ุนูู ูุณู <strong>env</strong> .  ุฅูู ูุญุฏุฏ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุชู ูุญุชุงุฌ ุฅูููุง <strong>loadgen</strong> ูุงูุชู ุชููู ุจุชุนููููุง ุนูุฏ ุจุฏุก ุชุดุบูู ุงูุชุทุจูู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">apiVersion: apps/v1 kind: Deployment metadata: name: loadgenerator spec: selector: matchLabels: app: loadgenerator replicas: 1 template: metadata: labels: app: loadgenerator spec: terminationGracePeriodSeconds: 5 restartPolicy: Always containers: - name: main image: gcr.io/google-samples/istio/loadgen:v0.0.1 imagePullPolicy: Always env: - name: SERVER_ADDR value: "http://hellosvc:80/" - name: REQUESTS_PER_SECOND value: "10" resources: requests: cpu: 300m memory: 256Mi limits: cpu: 500m memory: 512Mi</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุธุฑูุง ูุฃู <strong>loadgen</strong> ูุง ููุจู ุงูุทูุจุงุช ุงููุงุฑุฏุฉ ุ <strong>ูุชู</strong> ุชุญุฏูุฏ <strong>ClusterIP</strong> ูุญูู <strong>ุงููุชุงุจุฉ</strong> .  ูููุฑ ูุฐุง ุงูููุน ุนููุงู IP ุซุงุจุชูุง ูููู ุฃู ุชุณุชุฎุฏูู ุงูุฎุฏูุงุช ูู ุงููุชูุฉ ุ ููู ุนููุงู IP ูุฐุง ูุง ูุชู ุชูููุฑู ููุนููุงุก ุงูุฎุงุฑุฌููู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">apiVersion: v1 kind: Service metadata: name: loadgensvc spec: type: ClusterIP selector: app: loadgenerator ports: - name: http port: 80 targetPort: 8080</code> </pre> <br><h3 id="razvertyvanie-konteynerov-v-gke" style=";text-align:right;direction:rtl">  ูุดุฑ ุงูุญุงููุงุช ูู GKE </h3><br><p style=";text-align:right;direction:rtl">  1) ุงูุชูู ุฅูู ุงูุฏููู ุญูุซ ููุฌุฏ ูุซุงู <strong>ุงูุฎุงุฏู</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cd YOUR_WORKING_DIRECTORY/istio-samples/sample-apps/helloserver/server/</code> </pre> <br><p style=";text-align:right;direction:rtl">  2) ุงูุชุญ <strong>server.yaml</strong> ูู ูุญุฑุฑ ูุตูุต. <br>  3) ุงุณุชุจุฏู ุงูุงุณู ูู ุญูู <strong>ุงูุตูุฑุฉ</strong> ุจุงุณู ุตูุฑุฉ Docker ุงูุฎุงุตุฉ ุจู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">image: gcr.io/PROJECT_ID/preparing-istio/helloserver:v0.0.1</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงุณุชุจุฏู <strong>PROJECT_ID</strong> ุจูุนุฑู ูุดุฑูุน GCP ุงูุฎุงุต ุจู. <br>  4) ุงุญูุธ ูุฃุบูู <strong>server.yaml</strong> . <br>  5) ูู ุจุชูุณูุน ููู YAML ูู Kubernetes: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">kubectl apply -f server.yaml</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุงูุชูุงุก ุจูุฌุงุญ ุ ูุตุฏุฑ ุงูุฃูุฑ ุงูููุฏ ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">deployment.apps/helloserver created service/hellosvc created</code> </pre> <br><p style=";text-align:right;direction:rtl">  6) ุงูุชูู ุฅูู ุงูุฏููู ุญูุซ ููุน <strong>loadgen</strong> : </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">cd ../loadgen</code> </pre> <br><p style=";text-align:right;direction:rtl">  7) ุงูุชุญ <strong>loadgen.yaml</strong> ูู ูุญุฑุฑ ูุตูุต. <br>  8) ุงุณุชุจุฏู ุงูุงุณู ูู ุญูู <strong>ุงูุตูุฑุฉ</strong> ุจุงุณู ุตูุฑุฉ Docker ุงูุฎุงุตุฉ ุจู. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">image: gcr.io/PROJECT_ID/preparing-istio/loadgenv0.0.1</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงุณุชุจุฏู <strong>PROJECT_ID</strong> ุจูุนุฑู ูุดุฑูุน GCP ุงูุฎุงุต ุจู. <br>  9) ุงุญูุธ ูุฃุบูู <strong>loadgen.yaml</strong> ุ ุฃุบูู ูุญุฑุฑ ุงููุตูุต. <br>  10) ูู ุจุชูุณูุน ููู YAML ูู Kubernetes: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">kubectl apply -f loadgen.yaml</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุจุนุฏ ุงูุงูุชูุงุก ุจูุฌุงุญ ุ ูุตุฏุฑ ุงูุฃูุฑ ุงูููุฏ ุงูุชุงูู: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">deployment.apps/loadgenerator created service/loadgensvc created</code> </pre> <br><p style=";text-align:right;direction:rtl">  11) ุชุญูู ูู ุญุงูุฉ ุงููููุฏ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">kubectl get pods</code> </pre> <br><p style=";text-align:right;direction:rtl">  ูุธูุฑ ุงูุฃูุฑ ุงูุญุงูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">NAME READY STATUS RESTARTS AGE helloserver-69b9576d96-mwtcj 1/1 Running 0 58s loadgenerator-774dbc46fb-gpbrz 1/1 Running 0 57s</code> </pre> <br><p style=";text-align:right;direction:rtl">  12) ุงุณุชุฎุฑุงุฌ ุณุฌูุงุช ุงูุชุทุจูู ูู ุฌุฑุงุจ <strong>loadgen</strong> .  ุงุณุชุจุฏู <strong>POD_ID ุจุงููุนุฑู</strong> ูู ุงูุฅุฌุงุจุฉ ุงูุณุงุจูุฉ. </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">kubectl logs loadgenerator-POD_ID</code> </pre> <br><p style=";text-align:right;direction:rtl">  13) ุงูุญุตูู ุนูู <strong>ุนูุงููู IP hellosvc</strong> ุงูุฎุงุฑุฌูุฉ: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">kubectl get service</code> </pre> <br><p style=";text-align:right;direction:rtl">  ุงุณุชุฌุงุจุฉ ุงูุฃูุงูุฑ ุชุจุฏู ูุซู ูุฐุง: </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE hellosvc LoadBalancer 10.81.15.158 192.0.2.1 80:31127/TCP 33m kubernetes ClusterIP 10.81.0.1 &lt;none&gt; 443/TCP 93m loadgensvc ClusterIP 10.81.15.155 &lt;none&gt; 80/TCP 4m52s</code> </pre> <br><p style=";text-align:right;direction:rtl">  14) ุฃุฑุณู ุทูุจูุง ุฅูู <strong>hellosvc</strong> : <strong>ุงุณุชุจุฏู</strong> <strong>EXTERNAL_IP</strong> ุจุนููุงู IP ุงูุฎุงุฑุฌู ูู <strong>hellosvc</strong> . </p><br><pre style=";text-align:right;direction:rtl"> <code class="plaintext hljs">curl http://EXTERNAL_IP</code> </pre> <br><h3 id="beremsya-za-istio" style=";text-align:right;direction:rtl">  ูุนุงูุฌุฉ Istio </h3><br><p style=";text-align:right;direction:rtl">  ูุฏูู ุจุงููุนู ุชุทุจูู ุชู ูุดุฑู ุนูู GKE.  ูููู ุฃู ูุณุชุฎุฏู loadgen Kubernetes DNS ( <strong>hellosvc: 80</strong> ) ูุฅุฑุณุงู ุงูุทูุจุงุช ุฅูู <strong>ุงูุฎุงุฏู</strong> ุ ูููููู ุฅุฑุณุงู ุงูุทูุจุงุช ุฅูู <strong>ุงูุฎุงุฏู</strong> ุนูู ุนููุงู IP ุฎุงุฑุฌู.  ุนูู ุงูุฑุบู ูู ุฃู Kubernetes ุจูุง ุงูุนุฏูุฏ ูู ุงูููุฒุงุช ุ ุฅูุง ุฃู ุจุนุถ ุงููุนูููุงุช ุญูู ุงูุฎุฏูุงุช ุบูุฑ ูุชููุฑุฉ: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>ููู ุชุชูุงุนู ุงูุฎุฏูุงุชุ</strong>  ูุง ูู ุงูุนูุงูุฉ ุจูู ุงูุฎุฏูุงุชุ  ููู ูุชู ุงููุฑูุฑ ุจูู ุงูุฎุฏูุงุชุ  ุฃูุช ุชุฏุฑู ุฃู <strong>loadgen</strong> ูุฑุณู ุทูุจุงุช ุฅูู <strong>ุงูุฎุงุฏู</strong> ุ ูููู ุชุฎูู ุฃูู ูุง ุชุนุฑู ุดูุฆูุง ุนู ุงูุชุทุจูู.  ููุฅุฌุงุจุฉ ุนูู ูุฐู ุงูุฃุณุฆูุฉ ุ ูููู ูุธุฑุฉ ุนูู ูุงุฆูุฉ ุชุดุบูู ุงููููุฏ ูู GKE. </li><li style=";text-align:right;direction:rtl">  <strong>ุงูููุงููุณ</strong> .  ูู ูู ุงูููุช ูุณุชุฌูุจ <strong>ุงูุฎุงุฏู</strong> ูุทูุจ ูุงุฑุฏุ  ูู ุนุฏุฏ ุงูุทูุจุงุช ูู ุงูุซุงููุฉ ุชุฐูุจ ุฅูู ุงูุฎุงุฏูุ  ูู ูุนุทู ุฑุณุงุฆู ุฎุทุฃุ </li><li style=";text-align:right;direction:rtl">  <strong>ูุนูููุงุช ุงูุฃูู</strong> .  <strong>ูู</strong> ุญุฑูุฉ ุงููุฑูุฑ ุจูู <strong>loadgen</strong> <strong>ูุงูุฎุงุฏู</strong> ุจุจุณุงุทุฉ ุนู ุทุฑูู <strong>HTTP</strong> ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">mTLS</a> ุ </li></ul><br><p style=";text-align:right;direction:rtl">  ูุชู ุงูุฑุฏ ุนูู ูู ูุฐู ุงูุฃุณุฆูุฉ ูู ูุจู Istio.  ููููุงู ุจุฐูู ุ ูุถุน Istio ุจุฑููุณู ุฌุงูุจู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Envoy</a> ูู ูู ุฌุฑุงุจ.  ูููู ูุจุนูุซ ูุนุชุฑุถ ูู ุญุฑูุฉ ุงููุฑูุฑ ุงููุงุฑุฏุฉ ูุงูุตุงุฏุฑุฉ ุฅูู ุญุงููุงุช ุงูุชุทุจูู.  ูุฐุง ูุนูู ุฃู <strong>ุงูุฎุงุฏู</strong> ู <strong>loadgen ูุณุชูุจูุงู</strong> ุงููููุงุก <strong>ุงูุฌุงูุจูุงู ูู</strong> Envoy ุ ููู ุญุฑูุฉ ุงููุฑูุฑ ูู <strong>loadgen</strong> ุฅูู <strong>ุงูุฎุงุฏู</strong> ุชูุฑ ุนุจุฑ ูููุงุก ุงููููุงุก. </p><br><p style=";text-align:right;direction:rtl">  ุชุดูู ุงูุงุชุตุงูุงุช ุจูู ูููุงุก Envoy ุดุจูุฉ ุฎุฏูุฉ.  ุชููุฑ ุจููุฉ ุดุจูุฉ ุงูุฎุฏูุฉ ุทุจูุฉ ูู ุงูุชุญูู ูู Kubernetes. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/7n/sk/z-/7nskz-5os2onyoaaf5kz5x38ve4.png"></p><br><p style=";text-align:right;direction:rtl">  ุจูุฌุฑุฏ ุชูููุฐ ุจุฑููุณูุงุช Envoy ูู ุญุงููุงุชูุง ุ ูููู ุชุซุจูุช Istio ุฃุนูู ูุฌููุนุฉ GKE ุ ุฏูู ุชุบููุฑ ุฑูุฒ ุงูุชุทุจูู ุชูุฑูุจูุง.  ูููู ููุช ุจุจุนุถ ุงูุฃุนูุงู ูุฅุนุฏุงุฏ ุงูุชุทุจูู ููุฅุฏุงุฑุฉ ุจุงุณุชุฎุฏุงู Istio: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ุฎุฏูุงุช ูุฌููุน ุงูุญุงููุงุช.  <strong>ุชุฑุชุจุท ุนูููุงุช ูุดุฑ</strong> <strong>ุงูุฎุงุฏู</strong> ู <strong>loadgen</strong> ุจูุงุณุทุฉ ุฎุฏูุฉ Kubernetes.  ุญุชู <strong>loadgen</strong> ุ ุงูุฐู ูุง ูุชููู ุงูุทูุจุงุช ุงููุงุฑุฏุฉ ุ ูุฏูู ุฎุฏูุฉ. </li><li style=";text-align:right;direction:rtl">  ูุฌุจ ุฃู ุชุญุชูู ุงูููุงูุฐ ูู ุงูุฎุฏูุงุช ุนูู ุฃุณูุงุก.  ุนูู ุงูุฑุบู ูู ุฃูู ูููู ุชุฑู ููุงูุฐ ุงูุฎุฏูุฉ ุจุฏูู ุงุณู ูู GKE ุ ุฅูุง ุฃู Istio ูุชุทูุจ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุณู ูููุฐ</a> ููููุง ูุจุฑูุชููููู.  ูู ููู YAML ุ ููุณูู ูููุฐ <strong>ุงูุฎุงุฏู</strong> <strong>http</strong> ูุฃู ุงูุฎุงุฏู ูุณุชุฎุฏู <strong>ุจุฑูุชูููู HTTP</strong> .  ุฅุฐุง ุงุณุชุฎุฏูุช <strong>ุงูุฎุฏูุฉ</strong> <strong>gRPC</strong> ุ ูุณูู ุชููู ุจุชุณููุฉ <strong>grpc ุงูุฎุงุต</strong> ุจุงููููุงุก. </li><li style=";text-align:right;direction:rtl">  ุนูููุงุช ุงููุดุฑ ููุญูุธุฉ.  ูุฐูู ุ ููููู ุงุณุชุฎุฏุงู ููุฒุงุช ุฅุฏุงุฑุฉ ุญุฑูุฉ ุงููุฑูุฑ ูู Istio ุ ุนูู ุณุจูู ุงููุซุงู ุ ูุดุงุฑูุฉ ุญุฑูุฉ ุงููุฑูุฑ ุจูู ุฅุตุฏุงุฑุงุช ุงูุฎุฏูุฉ ููุณูุง. </li></ul><br><h3 id="ustanovka-istio" style=";text-align:right;direction:rtl">  ุชุซุจูุช Istio </h3><br><p style=";text-align:right;direction:rtl">  ููุงู ุทุฑููุชุงู ูุชุซุจูุช Istio.  ููููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูููู ููุญู Istio ุนูู GKE</a> ุฃู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุซุจูุช ุงูุฅุตุฏุงุฑ ุงูููุชูุญ ุงููุตุฏุฑ ูู Istio</a> ุนูู ูุธุงู ูุฌููุนุฉ.  ูุน Istio on GKE ุ ููููู ุจุณูููุฉ ุฅุฏุงุฑุฉ ุชุซุจูุช ูุชุฑููุฉ Istio ูุฌุฒุก ูู ุฏูุฑุฉ ุญูุงุฉ ูุฌููุนุฉ GKE.  ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูู ุฃุญุฏุซ ุฅุตุฏุงุฑ ูู Istio ุฃู ูุฒูุฏ ูู ุงูุชุญูู ูู ุชูููู ููุญุฉ ุงูุชุญูู Istio ุ ููู ุจุชุซุจูุช ุงูุฅุตุฏุงุฑ ุงูููุชูุญ ุงููุตุฏุฑ ุจุฏูุงู ูู Istio ุนูู ุงูุชุฏุงุฏ GKE.  ูุงุชุฎุงุฐ ูุฑุงุฑ ุจุดุฃู ุงูููุฌ ุ ุงูุฑุฃ ุงูููุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูู ุฃุญุชุงุฌ ุฅูู Istio ุนูู GKEุ</a>  . </p><br><p style=";text-align:right;direction:rtl">  ุญุฏุฏ ุฃุญุฏ ุงูุฎูุงุฑุงุช ุ ูุฏุฑุณ ุงูุฏููู ุงูููุงุณุจ ูุงุชุจุน ุงูุฅุฑุดุงุฏุงุช ูุชุซุจูุช Istio ุนูู ุงููุชูุฉ.  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุงุณุชุฎุฏุงู Istio ูุน ุชุทุจููู ุงูููุดูุฑ ุญุฏูุซูุง ุ ููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุชูููู ุงูุชุถููู ุงูุฌุงูุจู</a> ููุณุงุญุฉ ุงูุงุณู <strong>ุงูุงูุชุฑุงุถูุฉ</strong> . </p><br><h3 id="ochistka" style=";text-align:right;direction:rtl">  ุชูุธูู </h3><br><p style=";text-align:right;direction:rtl">  ูุชุฌูุจ ุดุญู ุญุณุงุจ Google Cloud Platform ุงูุฎุงุต ุจู ููููุงุฑุฏ ุงูุชู ุงุณุชุฎุฏูุชูุง ูู ูุฐุง ุงูุฏููู ุ ุฃุฒู ูุชูุฉ ุงูุญุงููุฉ ุนูุฏ ุชุซุจูุช Istio ูุงูุชุดุบูู ุจุงุณุชุฎุฏุงู ูููุฐุฌ ุงูุชุทุจูู.  ุณูุคุฏู ูุฐุง ุฅูู ุญุฐู ุฌููุน ููุงุฑุฏ ูุธุงู ุงููุฌููุนุฉ ุ ูุซู ุญุณุงุจ ุงููุซููุงุช ูุงูุฃูุฑุงุต ูููุงุฑุฏ ุงูุดุจูุฉ. </p><br><h3 id="chto-dalshe" style=";text-align:right;direction:rtl">  ูุง ุงูุชุงููุ </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุนูู ุงูุชูููุงุช ุงูุชุงููุฉ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนุงูู ูููุงุก</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุญุงููุงุช</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุญุงููุฉ ุงูุชุณุฌูู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Kubernetes</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GKE</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุดุจูุฉ ุงูุฎุฏูุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Istio</a> </li></ol><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุนูู ุงูุฃุฏูุงุช ุงูุชุงููุฉ: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุณุญุงุจุฉ sdk</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><strong>ุฅุดุงุฑุฉ Gcloud</strong></a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><strong>kubectl</strong></a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><strong>ุนุงูู ูููุงุก</strong></a> </li></ol><br></li><li style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  ุชุนูู ููุงููู Kubernetes: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฌููุนุงุช</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนูุฏุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Pod'y</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฎุฏูุงุช</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุดุฑ</a> </li></ol><br></li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar469515/">https://habr.com/ru/post/ar469515/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar469499/index.html">ููู ูุญู ูู Parallels ุบุฒุงูุง ุชุณุฌูู ุงูุฏุฎูู ูุน ุฃุจู</a></li>
<li><a href="../ar469503/index.html">ุงูุฃูู ุงูุณูุจุฑุงูู: ูุญูู ุจูุงูุงุช ุงููุดุชุฑู ูู ุงูุชุณุฑูุจุงุช ูู ุนุงู 2019</a></li>
<li><a href="../ar469505/index.html">3 ุทุฑู ุนูููุฉ ูุฌูุจ ุงูุฃุนูุงู ุฅูู ุงูุฃุณูุงู ุงูุฎุงุฑุฌูุฉ: ุฃุณุงููุจ ูุชูููุงุช ุงูุดุฑูุงุช ุงูุญููููุฉ</a></li>
<li><a href="../ar469507/index.html">ุถุนู ุนููู Windows Steam ุ ูููู ููุณ 0day</a></li>
<li><a href="../ar469509/index.html">ุงูุฎุทุท ุงูุฒุงูููุฉ ุ ุฃู ููู ูุชุจุช ุงููุงูุจ ุงูุฎุงุต ุจู CLI ุงูุฒุงูู</a></li>
<li><a href="../ar469521/index.html">ุงุดุชุฑูุช ุฏุฑุงุฌุฉ ูุงุฑูุฉ ูุฑููุจูุง ุ ูููุณ ููุณููุท</a></li>
<li><a href="../ar469523/index.html">ุงุนุชูุงุฏ ุฃุฏุงุก ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุนูู ุณูุงู ุชุนุฑูู ูุชุบูุฑ ูู JavaScript</a></li>
<li><a href="../ar469525/index.html">ูุธุงู ุงูุชุญูู ุงูุขูู ูุญูุงุฑุฉ ุงูุชุนุฏูู</a></li>
<li><a href="../ar469527/index.html">ูู ุงูุงุชุตุงู ุงูุฏุงุฎูู ุฃุฐู ุชุฌุณุณุ</a></li>
<li><a href="../ar469529/index.html">ุชูุฏูู ุงููุต ููุฑูู</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>