<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“› ğŸ¤ ğŸ¬ Catatan oleh arsitek frontend # 1. Anda tidak bisa mendapatkan dan menggunakan Redux. ğŸ§šğŸ» ğŸ¤š ğŸ§¢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Penafian 
 Pembaca yang terhormat! Jika Anda tidak tahu apa React dan Redux, membaca lebih lanjut tidak masuk akal, omong kosong teknis lebih lanjut. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Catatan oleh arsitek frontend # 1. Anda tidak bisa mendapatkan dan menggunakan Redux.</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445966/"><h4>  Penafian </h4><br>  Pembaca yang terhormat!  Jika Anda tidak tahu apa React dan Redux, membaca lebih lanjut tidak masuk akal, omong kosong teknis lebih lanjut.  Saya serius, memahami untuk apa catatan ini, memerlukan kerja sama dengan perpustakaan-perpustakaan ini - meskipun saya akan mencoba menulis dengan jelas, artikel ini bukan yang masuk ke level pemula.  Dan ini adalah pengalaman dan pendapat pribadi berdasarkan praktik. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a1/1ef/58a/4a11ef58abb70667a79ec9f1dc266d81.jpg" alt="gambar"></div><br><h4>  Apa yang salah dengan menggunakan Redux? </h4><br>  Kemudian saya memutuskan untuk menulis, tetapi apa yang sebenarnya salah dengan menggunakan redux di proyek saya dan ribuan lainnya?  Saya sudah menulis aplikasi reaksi / redux sejak April 2016 (tiga tahun).  Sudah waktunya untuk menemukan beberapa hal menarik ... Dan kemudian ada ceramah dan laporan, terutama ditujukan untuk pemula, tetapi tidak ada orang dewasa yang melihat ke belakang dan retrospektif.  Sementara itu, seseorang menaruh tanda bintang dalam paket yang memeriksa "bukan 13 jam," Saya akan mematahkan dinding stereotip yang berlaku. <br><a name="habracut"></a><br><h4>  Tetapi redux tidak diperlukan! </h4><br>  Anda berkata, dan dalam beberapa hal Anda akan benar.  Anda tidak dapat menggunakannya sejak 2018 - ada banyak artikel tentang topik ini di Internet, tetapi sejauh ini dengan "tidak digunakan" Anda mendapatkan pertanian kolektif, itu akan menjadi jelas di bawah alasannya.  Dan jumlah alternatif di luar skala dan bahkan lebih. <br><br>  Kami menggunakan Redux, karena ini merupakan standar yang dapat diterima (setidaknya untuk bereaksi), prediktabilitas dan keandalan yang dimiliki Redux penting bagi kami.  Tapi kami sangat merindukannya, sebenarnya dalam hal ini <br><br><h4>  Klaim </h4><br>  Mungkin, untuk memperjelas apa klaim tentang poin, pertama Anda harus kembali ke masa lalu, ke akar, seperti yang Anda inginkan, yaitu, buka dokumentasi redux yang mulia dan baca postulatnya.  Saya akan mempertimbangkan hanya yang pertama dari mereka.  Jika itu menarik bagi Anda - bagikan dalam komentar, saya akan menganalisis lebih banyak poin. <br><br><h4>  Satu-satunya sumber kebenaran ... </h4><br>  Di sini kita memiliki serangan.  Tentu saja, dikatakan ada 1 cerita, redux menyatakan perbedaannya dari arsitektur fluks dengan cara ini.  Tetapi jika Anda melihat lebih luas: apakah aturan tersebut diamati dalam proyek nyata?  Anda akan mengatakan: cukup.  Saya menyatakan (menyatakan) 1 sisi, saya mentransfernya ke penyedia dan kemudian ... <br><br>  Secara teknis, prosesnya dijelaskan dengan benar.  Tetapi saya dapat mengatakan bahwa orang-orang tunduk pada distorsi persepsi, logika, dan karena programmer masih manusia ... Nah, Anda mengerti apa yang saya tuju (jika Anda tidak mengerti: programmer cenderung mengalami distorsi persepsi, logika, dll.) <br>  Distorsi utama di sini adalah bahwa saya, seperti banyak rekan saya, terbiasa dengan kenyataan bahwa jika kita tidak menggunakan istilah "toko" dalam kaitannya dengan apa pun selain redux, maka tidak ada yang lain. <br><br><h4>  Dan inilah reaksi </h4><br>  Salah satu fitur teknis yang disebut keadaan internal ingin meludahi postulat ini.  Ini hanya membuat penyimpanan tipe keadaan internal di tempat yang nyaman.  Ada komponen - ada keadaan yang memiliki mekanisme untuk memperbarui dan mempengaruhi komponen.  Perbedaan penggunaan (keadaan toko, pembaruan, dan perubahan siaran) hampir tidak terlihat.  Anda dapat mengajukan keberatan: tidak sepenuhnya jelas mengapa Anda tidak menyukai status komponen.  Dia tidak seperti editor, bagaimana mereka bisa dibandingkan!  Itu internal, baik, bendera apa yang akan disimpan di sana. <br><br>  Pahami bahwa esensi tidak berubah dari fakta bahwa Anda mengganti nama item.  Ada palu godam Senin, ini tidak membuatnya menjadi hari dalam seminggu.  Ya, kedua hari Senin itu sulit, hari-hari lain dan palu godam lebih mudah.  Namun dari namanya, palu godam tidak berhenti menjadi instrumen perkusi. <br><br>  Skala komponen reaksi reduks dan keadaan berbeda, tetapi esensinya, bila digunakan hari ini, adalah satu. <br><br>  Saya akan menjelaskannya dengan cara ini: dalam kebanyakan kasus data dari keadaan internal komponen pergi ke anak melalui alat peraga, tetapi, tidak peduli seberapa jelas itu, data redux, ketika terintegrasi dengan reaksi, juga masuk ke komponen melalui alat peraga.  Dari sudut pandang komponen yang menerima alat peraga, tidak masalah apa yang ada di luar.  Artinya, untuk pengguna akhir - toko redux itu, keadaan internal itu - adalah sama. <br><br>  Juga, keadaan internal ini mungkin tidak tergantung pada alat peraga dari komponen di mana ia dinyatakan.  Kemudian kita mendapatkan isolasi yang membuat keadaan internal seperti itu menjadi toko yang lebih besar dari yang Anda bayangkan. <br><br>  Agar benar-benar internal, itu hanya akan mempengaruhi komponen di mana ia dinyatakan, tanpa memberikan kebocoran pada komponen anak.  Apakah ini sulit?  Cukup, karena maknanya hampir sepenuhnya hilang.  Ini adalah tanda lain bahwa keadaan internal adalah toko.  Setelah semua, kami hanya menghapus satu titik dari tujuan "menyimpan keadaan, memperbarui dan menyiarkan perubahan" - menyiarkan perubahan.  Semuanya, negara hilang. <br><br>  Artinya, masalah utama dengan memiliki keadaan internal adalah bahwa ia bersaing dengan redux untuk data, kehilangan dalam jangka panjang, dan omong kosong.  Kami memiliki semua jenis teknik seperti mengangkat status (inilah saat saudara kandung elemen host diperlukan, sehingga bagian negara dan semua logika bekerja dengannya dibawa ke induk, menghabiskan banyak waktu menulis ulang dan menguji logika kerja), dll. Bug dan overhead muncul dalam perbaikan dan banyak kesenangan.  Ini semua suara yang merusak perangkat lunak kami pada tahap pengembangan.  Kami belum mencapai penjualan, tetapi perangkat lunaknya sudah seperti itu. <br><br>  Yaitu, untuk semua tanda dan masalah, kami memiliki lebih dari satu cerita dan banyak masalah yang terkait dengan ini.  Hal terakhir, mungkin, adalah sebagai berikut: <br><br>  Saya juga suka redux untuk jenis devtools yang dimilikinya.  Ketika saya mulai, kami menggunakan logger yang hanya menggabungkan semua tindakan, tanpa memberikan, gambaran lengkap tentang apa yang terjadi.  Sekarang - ini adalah asisten dan teman utama.  Di Bereaksi, mereka juga diwakili.  Secara umum, devtools adalah alasan mengapa pubsub jauh dari Redux.  Seperti semut untuk paus biru. <br><br>  <b>Masalah</b> (tidak akan ada bukti DNA): <br><br><ol><li>  mengubah keadaan internal melalui devtools reaksi terkadang tidak mengarah pada pembaruan atau hasil yang diinginkan - Saya berdosa saat integrasi dengan redux. </li><li>  keadaan internal istirahat timet di redux devtools.  Fitur super dengan perjalanan waktu yang tersedia melalui arsitektur redux tidak berfungsi berkat arsitektur state internal.  Keadaan internal tidak peduli tentang perubahan redux, ia memiliki kondisi sendiri.  Timetravel tidak berhasil.  Beberapa elemen sama sekali tidak diperbarui, diperbarui sebagian, dll. Semua epik ini dengan sinkronisasi kode asinkron. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/991/8fd/5c2/9918fd5c23836212a6d11fc1b75351be.jpg" alt="gambar"></div><br><h4>  Contohnya, tentu saja tersedot dari latihan </h4><br>  Anda sedang mengerjakan proyek baru untuk Anda, atau kolega Anda menulis beberapa fungsi setahun yang lalu, dan sekarang Anda perlu mengembangkannya.  Secara umum, ada tugas menyelesaikan kode orang lain.  Anda mulai menyelidiki, dan memahami bahwa tidak ada data di editor.  Tidak ada tindakan, reduksi dalam kode yang menyimpan data yang Anda butuhkan.  Dan Anda memulai perjalanan melalui pohon komponen untuk mencari yang berharga dan menemukannya (!!!) bahkan beberapa keping.  Anda bertanya kepada kolega, tetapi jawabannya standar: Saya tidak ingat menulis ke negara lebih cepat, kami tidak punya waktu dan sebagainya.  Anda pergi ke sumber dan memahami bahwa keadaan saat ini tidak melibatkan revisi.  Anda menulis ulang yang berfungsi, kode yang diuji untuk melakukan perubahan dan menambahkan fungsionalitas baru. <br><br>  <i>Kehadiran alternatif yang merusak dalam bentuk keadaan internal melakukan tindakan kotornya.</i>  <i>Lagi pula, sekarang ini murah, dan tidak masalah apa yang terjadi dalam setahun.</i> <br><br><h4>  Beberapa metafora </h4><br>  Sepertinya makanan yang buruk - rasanya enak dan murah, tetapi setelah satu atau tiga tahun - saluran pencernaan berhenti mematuhi dan menjalani hidupnya sendiri.  Anda menghabiskan banyak waktu dan uang untuk mendapatkan kembali kesehatan Anda sebelumnya dan tidak selalu berhasil dalam hal ini. <br><br>  <b>Redux dan React Internal State adalah pesaing</b> , seperti bisnis besar dan kecil dalam satu ceruk.  Produk utama adalah data dan pengaruh.  Perangkat lunak adalah konsumen dari produk mereka.  Ada banyak analogi, tetapi esensinya tetap sama - ketika kita mengembangkan perangkat lunak - kita tidak membutuhkan persaingan. <br><br>  <i><b>Kami adalah "diktator" kode program dan persaingan apa pun harus ditekan, pasar bebas harus dilarang, dan ekonomi yang direncanakan serta monopoli negara harus mendominasi konsumen.</b></i> <br><br>  Ahem, sesuatu membuatku bosan.  Semuanya harus berjalan sesuai rencana, secara umum.  Kami memiliki sprint, rilis, dan banyak lagi, dan perangkat lunak memiliki biaya yang terbatas dan masa pakai / masuk ke pasar.  Ini sangat penting, dan kami tidak bisa membiarkan kerusuhan di kapal, pemberontakan perpustakaan. <br><br><h4>  Kesimpulannya sederhana. </h4><br>  Jangan gunakan repositori lain dengan redux.  Pengecualian hanya dapat membuat kasus yang sangat terisolasi.  Misalnya, komponen yang pada prinsipnya tidak dikontrol oleh redux tanpa lapisan yang sesuai dan tidak mempengaruhinya. <br><br><h4>  Contoh </h4><br>  Saya mengembangkan modul mandiri di satu cabang dan refactoring toko di yang lain - secara umum, pendekatan saya untuk mengelola toko dan negara adalah topik yang terpisah untuk publikasi.  Saya mulai refactoring ke modul, tetapi pada saat awal dan akhir penulisan modul, refactoring ke tes dan ke wizard tidak hilang.  Refactoring adalah besar dan membutuhkan jalan lain yang perlu direncanakan - secara umum, Anda tidak bisa hanya mengambil dan refactor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a39/bb2/c5f/a39bb2c5f0b89a7d9085521f74967e38.jpg" alt="gambar"></div><br>  Karena itu, mengetahui tentang perubahan yang akan terjadi di toko, saya tidak menggunakannya untuk mengembangkan fitur baru.  Ini akan meningkatkan biaya memperbarui refactoring dan tes yang diabaikan di waktu. <br>  Apa yang saya lakukan: Saya mendaftar untuk data minimum.  Data dan strukturnya tidak mengalami refactoring, kode yang membuat mereka menderita, disimpan, dll. Saya tidak menulis byte ke editor.  Saya memeriksa apakah pengguna login dan beberapa bidang lagi. <br><br>  Untuk kebutuhan saya, saya mencuci PubSub dengan saluran dan API sederhana.  Ya, ya, pubsab.  Kurangnya nyeri menyakitkan yang normal.  Perjalanan Waktu - Nyeri.  Secara umum, saya berencana untuk menulis ekstensi untuk chrome dalam bentuk devtools dan dimungkinkan untuk menerbitkan implementasi ulang sebagai pesaing untuk redux di github.  Saya punya banyak keluhan tentang redux, yang tidak akan saya bahas di artikel ini, tetapi PubSub praktis tidak memilikinya.  Selain fakta bahwa saya ingat redux logger ... <br><br>  Dan modul ini memiliki penyimpanan sendiri, koneksi sendiri ke server. <br><br>  Artinya, redux tidak memengaruhi modul sama sekali, praktis tidak dapat memengaruhi penyimpanan ini (hanya ada tiga bidang dalam langganan), tetapi modul dan PubSub tidak memengaruhi redux dengan cara apa pun.  Pemisahan ini tidak termasuk kompetisi. <br><br>  Pertanyaan "di mana menyimpan data?"  ketika mengembangkan modul, saya belum pernah menemukannya.  Tetapi ketika datang ke redux vs internal state - bagi banyak pertanyaan ini muncul hampir secara konstan.  Saya memutuskan untuk menjawab pertanyaan ini untuk selamanya. <br><br>  <b>Pendapat arsitektur saya adalah:</b> <b><br><br></b>  <b>Simpan data hanya dalam redux (semua-semua, bahkan "internal"), jika terhubung ke proyek reaksi Anda sebagai repositori utama, jangan gunakan repositori yang akan bersaing dengannya.</b>  Ini akan meningkatkan keandalan dan dampak pustaka ini dan devtoolsnya (pelacakan waktu dan pelacakan semua data dalam langkah-langkah mempercepat pengembangan dan mencari kemungkinan masalah - perubahan sinkron lebih curam dan lebih mudah untuk disinkronkan). <br><br>  <i>Mungkin perlu menambahkan perpustakaan yang sepenuhnya mengecualikan keadaan internal dari pembangunan?</i>  <i>Atau mengganti keadaan internal dengan seleksi dari redux, misalnya?</i>  Saya mulai menulis satu tahun yang lalu, selesai 90 persen, dan bahkan melakukan 1 laporan.  Apa yang kamu katakan  Butuh itu? <br><br>  Saya harap Anda menikmati catatan ini :) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id445966/">https://habr.com/ru/post/id445966/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id445952/index.html">Satu triliun lajang</a></li>
<li><a href="../id445954/index.html">Akselerator AI dari HSE, MTS dan Rostelecom</a></li>
<li><a href="../id445958/index.html">SPDS GraphiCS - sistem fasad dan atap</a></li>
<li><a href="../id445962/index.html">Magang di TI: pandangan manajer</a></li>
<li><a href="../id445964/index.html">MEPhI akan menyelenggarakan Olimpiade Keamanan Informasi Mahasiswa: cara berpartisipasi dan apa yang diberikannya</a></li>
<li><a href="../id445970/index.html">Bagaimana LANIT melengkapi sistem teknik dan TI dengan pusat transaksi di Sberbank</a></li>
<li><a href="../id445972/index.html">Membajak ladang data besar dalam bidang kedokteran dan farmasi</a></li>
<li><a href="../id445974/index.html">Cara mempromosikan pemula dan tidak merusak apa pun</a></li>
<li><a href="../id445978/index.html">Menyeberangi landak dengan landak: OpenJDK-11 + GraalVM</a></li>
<li><a href="../id445980/index.html">Kami memprogram kontrol suara copter menggunakan Node.js dan ARDrone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>