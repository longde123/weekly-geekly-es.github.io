<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ›‘ ğŸ¦‡ ğŸ¦‚ Stasiun cuaca di Arduino dari A hingga Z. Bagian 4 ğŸ¤¶ğŸ½ ğŸ¤°ğŸ¼ â›‘ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Untuk dilanjutkan. Bagian sebelumnya . 
 Daftar isi: 


- Bagian 1. Persyaratan. Pilihan besi. Skema umum 
- Bagian 2. Perangkat Lunak. Unit pusat, be...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Stasiun cuaca di Arduino dari A hingga Z. Bagian 4</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425963/"><p>  Untuk dilanjutkan.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian sebelumnya</a> . <br>  Daftar isi: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 1. Persyaratan.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Pilihan besi.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Skema umum</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 2. Perangkat Lunak.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Unit pusat, besi</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 3. Unit pusat, perangkat lunak</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 4. Sensor Jendela</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 5. MySQL, PHP, WWW, Android</a> </li></ul><br><h1 id="zaokonnyy-datchik-zhelezo">  Sensor tempel.  Besi </h1><br><p> Kita harus segera mengakui bahwa sensor jendela (jarak jauh) versi pertama ternyata tidak sepenuhnya berhasil dalam hal pasokan daya dan konsumsi energi.  Seperti yang sudah saya tulis, saya hanya memiliki modul Arduino Pro Mini di 5 V. Dan saya menggunakan baterai Ni-MH. </p><br><p>  Terlepas dari kenyataan bahwa saya juga menghubungkan baterai surya, seluruh struktur bekerja secara mandiri selama sekitar 25 hari.  Sangat negatif, kapasitas baterai dipengaruhi oleh suhu rendah, seringkali negatif di jalan pada akhir musim dingin. </p><br><p>  Agar semuanya bekerja lebih lama bagi Anda, lakukan penggantian berikut: </p><br><ul><li>  Beli Arduino Pro Mini di 3.3V </li><li>  Gunakan baterai Li-ion Panasonic NCR18650A 3.7V, 2 pcs.  sekitar $ 14 pada 3100mAh.  Anda dapat mencoba baterai CR123, CR123A.  Dan ingat bahwa baterai 9V (seperti Krona) adalah sumber listrik yang buruk. </li></ul><a name="habracut"></a><br><p>  Hal utama yang perlu diingat adalah baterai Anda akan bekerja di jalan, mis.  pada suhu negatif, yang memperlambat proses kimia yang terjadi di dalamnya dan, dengan demikian, sangat mengurangi kapasitasnya. </p><br><p>  Sensor DHT22 juga dapat bekerja dari 3,3 V, jadi itu cara yang harus dilakukan. </p><br><p>  Permutasi di atas tidak akan memerlukan perubahan atau penggantian komponen lain. </p><br><h1 id="pitanie">  Nutrisi </h1><br><p>  Saya awalnya menggunakan 4 pcs.  Baterai Ni-MH terhubung secara seri dengan satu ketukan dari yang ke-3, jadi kami mendapatkan dua tegangan suplai: 4,8 V untuk sensor DHT22 dan 3,6 V untuk yang lainnya.  Saya tidak menggunakan step-down (lebih tepatnya, penghancur energi) atau step-up sirkuit elektronik, hanya tegangan dan arus yang ramah lingkungan. </p><br><p><img src="https://habrastorage.org/webt/fu/y2/ug/fuy2ugymimv6bobt_raozj4phso.png" alt="Nutrisi"></p><br><p>  Panel surya terhubung seperti yang ditunjukkan.  Panel surya 1.6W 5.5V 266mA dibeli seharga $ 6.64. </p><br><p>  Dioda tipe Schottky 1N914 dan kapasitor elektrolit 50-100 Î¼F digunakan dalam rangkaian. </p><br><p><img src="https://habrastorage.org/webt/cb/tz/3f/cbtz3fcowam0ednzs-hrtvcgx0y.jpeg"></p><br><h1 id="raspinovka--i-soedinenie">  Pinout dan koneksi </h1><br><p>  Mari kita lanjutkan ke kebaktian. </p><br><h2 id="datchik-temperatury-i-vlazhnosti-dht22">  Sensor suhu dan kelembaban DHT22 </h2><br><p><img src="https://habrastorage.org/webt/lc/es/rh/lcesrhbcvwc62oyouhfplszy4mg.jpeg" alt="DHT22"></p><br><p>  Pinout untuk menghubungkan sensor suhu dan kelembaban DHT22: </p><br><table><thead><tr><th>  Sisi depan DHT22 kiri ke kanan </th><th>  Arduino Pro Mini </th><th>  Catatan </th></tr></thead><tbody><tr><td>  Vcc </td><td>  3.3 - 5V </td><td>  5V direkomendasikan, daya eksternal yang lebih baik </td></tr><tr><td>  SDA </td><td>  D2 </td><td> Dalam sketsa itu adalah <code>DHTPIN</code> </td></tr><tr><td>  NC </td><td>  Tidak terhubung </td></tr><tr><td>  GND </td><td>  GND </td></tr></tbody></table><br><p>  Secara opsional, Anda dapat menghubungkan (mengencangkan) SDA melalui resistor 10K ke VCC. </p><br><p>  Inisialisasi: </p><br><pre> <code class="hljs cpp"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> DHTPIN 2 </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//   D2 DHT dht(DHTPIN, DHTTYPE);</span></span></span></span></code> </pre> <br><p>  Untuk melindungi sensor dari sinar matahari langsung, saya membuat casing untuk itu dari kaleng, menempelkannya dengan pita perekat logam reflektif. </p><br><h2 id="nrf24l01">  nRF24L01 + </h2><br><p><img src="https://habrastorage.org/webt/s6/ec/cd/s6eccdukpd6vmu3p1jxvfbswufu.png" alt="nRF24L01 +"></p><br><p>  Pinout dari modul radio nRF24L01 + (lihat bagian atas papan di mana chip berada, sementara pin pin berada di bagian bawah): </p><br><table><thead><tr><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>  (2) 3.3V </td><td>  (4) CSN </td><td>  (6) MOSI </td><td>  (8) IRQ </td></tr><tr><td>  (1) GND </td><td>  (3) CE </td><td>  (5) SCK </td><td>  (7) MISO </td></tr></tbody></table><br><p>  Koneksi NRF24L01 + </p><br><table><thead><tr><th>  Arduino Pro Mini </th><th>  nRF24L01 + </th><th>  Catatan </th></tr></thead><tbody><tr><td>  3.3V </td><td>  VCC (2) </td><td>  Kekuatan eksternal yang lebih baik </td></tr><tr><td>  pin D8 </td><td>  CE (3) </td><td>  chip aktifkan </td></tr><tr><td>  SS pin D10 </td><td>  CSN (4) </td><td>  pilih chip </td></tr><tr><td>  Pin SCK D13 </td><td>  SCK (5) </td><td>  Jam SPI masuk </td></tr><tr><td>  Pin MOSI D11 </td><td>  SDI (6) </td><td>  Data SPI di </td></tr><tr><td>  MISO pin D12 </td><td>  SDO (7) </td><td>  Data SPI keluar </td></tr><tr><td>  IRQ 8 </td><td>  Output interupsi tidak terhubung </td></tr><tr><td>  GND </td><td>  GND (1) </td></tr></tbody></table><br><p>  Inisialisasi: </p><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-function">NRF24 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nrf24</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">8</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span></span><span class="hljs-function">)</span></span>;</code> </pre> <br><p>  Seperti yang disarankan di forum, kapasitor elektrolitik berkapasitas kecil (10 Î¼F) segera disolder ke terminal daya nRF24L01 +. </p><br><p>  Saya memiliki modul radio dengan antena tambahan eksternal, "menerobos" dua dinding dengan andal. </p><br><h1 id="voltmetr">  Voltmeter </h1><br><p>  Sensor eksternal memiliki voltmeter untuk mengukur tegangan suplai baterai.  Teknologi pengukuran dijelaskan oleh Scott Daniels "Secret Arduino Voltmeter - Measure Battery Voltage", 2012. </p><br><p>  Data dibaca dari pin analog A1. </p><br><p><img src="https://habrastorage.org/webt/j_/z1/-x/j_z1-xvapjojymqhqvnu8xsyvkm.png"></p><br><p>  Saya memiliki resistor pembagi tegangan 100 kOhm dan 10 kOhm (Anda mungkin memiliki peringkat yang sedikit berbeda, Anda perlu mengukurnya <strong>secara akurat</strong> dengan ohmmeter). </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> r1 = <span class="hljs-number"><span class="hljs-number">100400</span></span>; <span class="hljs-comment"><span class="hljs-comment">// 100KOm const float r2 = 9960; // 10KOm</span></span></code> </pre> <br><p>  Konstanta berikut harus dikalibrasi secara individual seperti yang dijelaskan oleh Scott Daniels.  Menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">shemka dan sketsa</a> terpisah. </p><br><p>  Kami mengukur dua nilai Vcc: Vcc nyata menggunakan voltmeter (pada pin AREF atau 5V) dan Vcc menggunakan fungsi kami.  Kemudian kami mengganti konstanta ( <code>1.1 * 1023.0 * 1000</code> ) dengan yang baru: </p><br><pre> <code class="hljs pgsql">scale_constant = internal1<span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-keyword"><span class="hljs-keyword">Ref</span></span> * <span class="hljs-number"><span class="hljs-number">1023</span></span> * <span class="hljs-number"><span class="hljs-number">1000</span></span></code> </pre> <br><p>  di mana <code>internal1.1Ref = 1.1 * Vcc1 ( ) / Vcc2 (  )</code> </p><br><p>  dimana </p><br><ul><li>  Vcc1 - Nilai Vcc diukur secara manual dengan voltmeter </li><li>  Vcc2 - Nilai Vcc ditentukan menggunakan fungsi kami </li></ul><br><p>  Nilai referensi ini akan bersifat individu untuk chip AVR <em>tertentu</em> dan akan tergantung pada fluktuasi suhu. </p><br><p>  Hasilnya, saya mendapat nilai berikut: </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> typVbg = <span class="hljs-number"><span class="hljs-number">1.082</span></span>; <span class="hljs-comment"><span class="hljs-comment">//    1.0 â€” 1.2 </span></span></code> </pre> <br><p>  Karena baterai isi ulang kami akan habis dalam gelap dan diisi dari baterai surya, grafik tegangan pasokan akan terlihat gigi gergaji, "mereda" pada hari berawan: </p><br><p><img src="https://habrastorage.org/webt/fb/ne/sg/fbnesguoqhfpwcgfa--lcrtpf4m.png" alt="Grafik"></p><br><p>  Grafiknya nyata, diambil dari permukaan web proyek. </p><br><h1 id="sborka">  Majelis </h1><br><p>  Untuk merakit blok secara keseluruhan, saya kembali menggunakan papan tempat memotong roti untuk menyolder. <br>  Saya disolder, dihubungkan oleh intuisi tanpa kabel awal, jadi saya tidak memiliki sirkuit. </p><br><p>  Inilah yang terjadi. </p><br><p><img src="https://habrastorage.org/webt/v0/jp/wd/v0jpwdvxp-ydqtqo99byjnpk3k0.jpeg" alt="Majelis"></p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id425963/">https://habr.com/ru/post/id425963/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id425953/index.html">Stasiun cuaca di Arduino dari A hingga Z. Bagian 3</a></li>
<li><a href="../id425955/index.html">8 bug iOS 12 beta yang menarik dan bagaimana kami mencarinya</a></li>
<li><a href="../id425957/index.html">Sepeda gas atau pencarian produk aneh (e-commerce)</a></li>
<li><a href="../id425959/index.html">Beberapa Tips Sudut</a></li>
<li><a href="../id425961/index.html">â€œBelajar Spring adalah pelajaran yang tidak masuk akalâ€ - Josh Long, penginjil utama Spring di dapur interior proyek</a></li>
<li><a href="../id425965/index.html">SAP Data Management Suite sebagai kompleks untuk bekerja dengan Big Data di perusahaan</a></li>
<li><a href="../id425967/index.html">Chainsaw Silicon Massacre</a></li>
<li><a href="../id425969/index.html">Bagaimana saya akan menjadi pengembang web ... dan akankah saya?</a></li>
<li><a href="../id425971/index.html">Ada bukti keberadaan chip mata-mata di server Supermicro</a></li>
<li><a href="../id425973/index.html">Bagaimana kami membangun penyimpanan S3 DataLine. Eksperimen, pengujian, dan sedikit tentang kuda nil</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>