<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ö´Ô∏è „äóÔ∏è ü§∞ Formale √úberpr√ºfung am Beispiel des Wolfs-, Ziegen- und Kohlproblems üé° üóÇÔ∏è üçí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Meiner Meinung nach wird im russischsprachigen Bereich des Internets das Thema der formalen √úberpr√ºfung nicht ausreichend behandelt, und es fehlen bes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Formale √úberpr√ºfung am Beispiel des Wolfs-, Ziegen- und Kohlproblems</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/449002/">  Meiner Meinung nach wird im russischsprachigen Bereich des Internets das Thema der formalen √úberpr√ºfung nicht ausreichend behandelt, und es fehlen besonders einfache und klare Beispiele. <br><br>  Ich werde ein solches Beispiel aus einer fremden Quelle geben und meine eigene L√∂sung f√ºr das bekannte Problem des Transports eines Wolfes, einer Ziege und eines Kohls auf die andere Seite des Flusses erg√§nzen. <br><br>  Aber zuerst werde ich kurz beschreiben, was formale √úberpr√ºfung ist und warum sie ben√∂tigt wird. <br><br>  Formale √úberpr√ºfung bedeutet normalerweise, ein Programm oder einen Algorithmus mit einem anderen zu √ºberpr√ºfen. <br><br>  Dies ist notwendig, um sicherzustellen, dass das Verhalten des Programms wie erwartet ist, und um seine Sicherheit zu gew√§hrleisten. <br><br>  Die formale √úberpr√ºfung ist das leistungsst√§rkste Tool zum Auffinden und Beseitigen von Schwachstellen: Sie k√∂nnen alle vorhandenen L√ºcken und Fehler im Programm finden oder nachweisen, dass sie nicht vorhanden sind. <br>  Es ist erw√§hnenswert, dass dies in einigen F√§llen unm√∂glich ist, beispielsweise beim Problem von 8 K√∂niginnen mit einer Brettbreite von 1000 Zellen: Alles h√§ngt von der algorithmischen Komplexit√§t oder dem Problem des Stoppens ab. <br><br>  In jedem Fall wird jedoch eine der drei Antworten empfangen: Das Programm ist korrekt, falsch oder die Antwort konnte nicht berechnet werden. <br><br>  Wenn es unm√∂glich ist, eine Antwort zu finden, ist es oft m√∂glich, dunkle Stellen im Programm zu verarbeiten und deren algorithmische Komplexit√§t zu verringern, um eine bestimmte Antwort zu erhalten, ja oder nein. <br><br>  Die formale √úberpr√ºfung wird beispielsweise in den Betriebssystemen Windows-Kernel und Darpa-Drohnen verwendet, um ein H√∂chstma√ü an Schutz zu gew√§hrleisten. <br><br>  Wir werden Z3Prover verwenden, ein sehr leistungsf√§higes Werkzeug zum automatisierten Beweis von Theoremen und zum L√∂sen von Gleichungen. <br><br>  Dar√ºber hinaus l√∂st Z3 die Gleichungen genau und w√§hlt ihre Werte nicht mit roher Gewalt aus. <br>  Dies bedeutet, dass er die Antwort auch in F√§llen finden kann, in denen Kombinationen von Eingabeoptionen und 10 ^ 100 vorliegen. <br><br>  Dies sind jedoch nur etwa ein Dutzend Eingabeargumente vom Typ Integer, die in der Praxis h√§ufig vorkommen. <br><br>  Das Problem von 8 K√∂niginnen (entnommen aus dem englischen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Handbuch</a> ). <br><br><img src="https://habrastorage.org/webt/n-/tp/51/n-tp51sjhdqfs0nk9a571pttkbk.png"><br><a name="habracut"></a><br><pre><code class="plaintext hljs"># We know each queen must be in a different row. # So, we represent each queen by a single integer: the column position Q = [ Int('Q_%i' % (i + 1)) for i in range(8) ] # Each queen is in a column {1, ... 8 } val_c = [ And(1 &lt;= Q[i], Q[i] &lt;= 8) for i in range(8) ] # At most one queen per column col_c = [ Distinct(Q) ] # Diagonal constraint diag_c = [ If(i == j, True, And(Q[i] - Q[j] != i - j, Q[i] - Q[j] != j - i)) for i in range(8) for j in range(i) ] solve(val_c + col_c + diag_c)</code> </pre> <br>  Mit Z3 erhalten wir die L√∂sung: <br><pre> <code class="plaintext hljs">[Q_5 = 1, Q_8 = 7, Q_3 = 8, Q_2 = 2, Q_6 = 3, Q_4 = 6, Q_7 = 5, Q_1 = 4]</code> </pre><br>  Das K√∂niginproblem ist vergleichbar mit einem Programm, das die Koordinaten von 8 K√∂niginnen aufnimmt und die Antwort anzeigt, wenn sich die K√∂niginnen gegenseitig schlagen. <br><br>  Wenn wir ein solches Programm mithilfe einer formalen √úberpr√ºfung l√∂sen w√ºrden, m√ºssten wir im Vergleich zur Aufgabe nur einen weiteren Schritt in Form der Konvertierung des Programmcodes in eine Gleichung unternehmen: Es w√ºrde sich als im Wesentlichen identisch mit unserem herausstellen (nat√ºrlich, wenn das Programm korrekt geschrieben wurde). <br><br>  Fast das Gleiche passiert bei der Suche nach Schwachstellen: Wir legen nur die Ausgabebedingungen fest, die wir ben√∂tigen, z. B. das Administratorkennwort, konvertieren den Quellcode oder den dekompilierten Code in mit der √úberpr√ºfung kompatible Gleichungen und erhalten dann die Antwort, welche Daten eingegeben werden m√ºssen, um das Ziel zu erreichen. <br><br>  Meiner Meinung nach ist das Problem von Wolf, Ziege und Kohl noch interessanter, da bereits viele (7) Schritte erforderlich sind, um es zu l√∂sen. <br><br>  Wenn die Aufgabe der K√∂niginnen mit der Option vergleichbar ist, dass Sie mit einer GET- oder POST-Anfrage in den Server eindringen k√∂nnen, zeigen Wolf, Ziege und Kohl ein Beispiel aus einer viel komplexeren und weit verbreiteten Kategorie, in der nur wenige Anfragen erreicht werden k√∂nnen. <br><br>  Dies ist beispielsweise mit dem Szenario vergleichbar, in dem Sie die SQL-Injection suchen, eine Datei durch sie schreiben, dann Ihre Rechte erh√∂hen und erst dann das Kennwort erhalten m√ºssen. <br><br><div class="spoiler">  <b class="spoiler_title">Problembedingungen und deren L√∂sung</b> <div class="spoiler_text">  Der Bauer muss den Wolf, die Ziege und den Kohl √ºber den Fluss transportieren.  Der Bauer hat ein Boot, in das nur ein Gegenstand passen kann, au√üer der Bauer selbst.  Der Wolf wird die Ziege essen, und die Ziege wird Kohl essen, wenn der Bauer sie unbeaufsichtigt l√§sst. <br><br>  Die L√∂sung besteht darin, dass der Landwirt in Schritt 4 die Ziege zur√ºcknehmen muss. </div></div><br>  Beginnen wir nun programmgesteuert mit der L√∂sung. <br><br>  Wir bezeichnen den Bauern, den Wolf, die Ziege und den Kohl als 4 Variablen, die nur den Wert 0 oder 1 annehmen. Null bedeutet, dass sie sich am linken Ufer befinden, und einer bedeutet, dass sie sich am rechten Ufer befinden. <br><br><pre> <code class="plaintext hljs">import json from z3 import * s = Solver() Num= 8 Human = [ Int('Human_%i' % (i + 1)) for i in range(Num) ] Wolf = [ Int('Wolf_%i' % (i + 1)) for i in range(Num) ] Goat = [ Int('Goat_%i' % (i + 1)) for i in range(Num) ] Cabbage = [ Int('Cabbage_%i' % (i + 1)) for i in range(Num) ] # Each creature can be only on left (0) or right side (1) on every state HumanSide = [ Or(Human[i] == 0, Human[i] == 1) for i in range(Num) ] WolfSide = [ Or(Wolf[i] == 0, Wolf[i] == 1) for i in range(Num) ] GoatSide = [ Or(Goat[i] == 0, Goat[i] == 1) for i in range(Num) ] CabbageSide = [ Or(Cabbage[i] == 0, Cabbage[i] == 1) for i in range(Num) ] Side = HumanSide+WolfSide+GoatSide+CabbageSide</code> </pre><br>  Num ist die Anzahl der Schritte, die zur L√∂sung ben√∂tigt werden.  Jeder Schritt ist ein Zustand eines Flusses, eines Bootes und aller Einheiten. <br><br>  W√§hlen Sie es zun√§chst nach dem Zufallsprinzip aus und nehmen Sie mit einem Rand 10. <br><br>  Jede Entit√§t wird in 10 Kopien dargestellt - dies ist ihr Wert in jedem der 10 Schritte. <br><br>  Jetzt legen wir die Bedingungen f√ºr Start und Ziel fest. <br><br><pre> <code class="plaintext hljs">Start = [ Human[0] == 0, Wolf[0] == 0, Goat[0] == 0, Cabbage[0] == 0 ] Finish = [ Human[9] == 1, Wolf[9] == 1, Goat[9] == 1, Cabbage[9] == 1 ]</code> </pre><br>  Dann legen wir die Bedingungen, unter denen der Wolf die Ziege oder den Ziegenkohl frisst, als Einschr√§nkungen in der Gleichung fest. <br>  (In Anwesenheit des Landwirts ist eine Aggression nicht m√∂glich) <br><br><pre> <code class="plaintext hljs"># Wolf cant stand with goat, and goat with cabbage without human. Not 2, not 0 which means that they are one the same side Safe = [ And( Or(Wolf[i] != Goat[i], Wolf[i] == Human[i]), Or(Goat[i] != Cabbage[i], Goat[i] == Human[i])) for i in range(Num) ]</code> </pre><br>  Und schlie√ülich fragen wir den Landwirt nach allen m√∂glichen Handlungen, wenn er dorthin oder zur√ºck zieht. <br>  Er kann entweder einen Wolf, eine Ziege oder einen Kohl mitnehmen oder niemanden mitnehmen oder gar nirgendwo hingehen. <br><br>  Nat√ºrlich kann niemand ohne einen Bauern √ºberqueren. <br><br>  Dies wird durch die Tatsache zum Ausdruck gebracht, dass sich jeder nachfolgende Zustand des Flusses, des Bootes und der Einheiten nur in streng begrenzter Weise von dem vorherigen unterscheiden kann. <br><br>  Nicht mehr als 2 Bits und mit vielen anderen Einschr√§nkungen, da der Landwirt jeweils nur eine Entit√§t transportieren kann und nicht alle zusammen gelassen werden k√∂nnen. <br><br><pre> <code class="plaintext hljs">Travel = [ Or( And(Human[i] == Human[i+1] + 1, Wolf[i] == Wolf[i+1] + 1, Goat[i] == Goat[i+1], Cabbage[i] == Cabbage[i+1]), And(Human[i] == Human[i+1] + 1, Goat[i] == Goat[i+1] + 1, Wolf[i] == Wolf[i+1], Cabbage[i] == Cabbage[i+1]), And(Human[i] == Human[i+1] + 1, Cabbage[i] == Cabbage[i+1] + 1, Wolf[i] == Wolf[i+1], Goat[i] == Goat[i+1]), And(Human[i] == Human[i+1] - 1, Wolf[i] == Wolf[i+1] - 1, Goat[i] == Goat[i+1], Cabbage[i] == Cabbage[i+1]), And(Human[i] == Human[i+1] - 1, Goat[i] == Goat[i+1] - 1, Wolf[i] == Wolf[i+1], Cabbage[i] == Cabbage[i+1]), And(Human[i] == Human[i+1] - 1, Cabbage[i] == Cabbage[i+1] - 1, Wolf[i] == Wolf[i+1], Goat[i] == Goat[i+1]), And(Wolf[i] == Wolf[i+1], Goat[i] == Goat[i+1], Cabbage[i] == Cabbage[i+1])) for i in range(Num-1) ]</code> </pre><br>  F√ºhren Sie die L√∂sung aus. <br><br><pre> <code class="plaintext hljs">solve(Side + Start + Finish + Safe + Travel)</code> </pre><br>  Und wir bekommen die Antwort! <br><br>  Z3 fand einen konsistenten und zufriedenstellenden Satz von Bedingungen. <br>  Eine Art vierdimensionale Besetzung von Raum-Zeit. <br><br>  Mal sehen, was passiert ist. <br><br>  Wir sehen, dass am Ende alle √ºberquerten, nur am Anfang entschied sich unser Bauer, sich zu entspannen und schwimmt in den ersten beiden Schritten nirgendwo. <br><br><pre> <code class="plaintext hljs">Human_2 = 0 Human_3 = 0</code> </pre><br>  Dies deutet darauf hin, dass die Anzahl der von uns gew√§hlten Staaten zu hoch ist und 8 v√∂llig ausreichen wird. <br><br>  In unserem Fall hat der Bauer Folgendes getan: Starten, Ausruhen, Ausruhen, √úberqueren der Ziege, Zur√ºckkreuzen, √úberqueren von Kohl, Zur√ºckkehren mit der Ziege, √úberqueren des Wolfs, Zur√ºckkehren allein, erneutes Ausliefern der Ziege. <br><br>  Aber am Ende ist das Problem gel√∂st. <br><br><pre> <code class="plaintext hljs">#. Human_1 = 0 Wolf_1 = 0 Goat_1 = 0 Cabbage_1 = 0 # . Human_2 = 0 Wolf_2 = 0 Goat_2 = 0 Cabbage_2 = 0 # . Human_3 = 0 Wolf_3 = 0 Goat_3 = 0 Cabbage_3 = 0 #     . Human_4 = 1 Wolf_4 = 0 Goat_4 = 1 Cabbage_4 = 0 # . Human_5 = 0 Wolf_5 = 0 Goat_5 = 1 Cabbage_5 = 0 #     . Human_6 = 1 Wolf_6 = 0 Cabbage_6 = 1 Goat_6 = 1 #  :    . Human_7 = 0 Wolf_7 = 0 Goat_7 = 0 Cabbage_7 = 1 #     ,       . Human_8 = 1 Wolf_8 = 1 Goat_8 = 0 Cabbage_8 = 1 #   . Human_9 = 0 Wolf_9 = 1 Goat_9 = 0 Cabbage_9 = 1 #         . Human_10 = 1 Wolf_10 = 1 Goat_10 = 1 Cabbage_10 = 1</code> </pre><br>  Versuchen wir nun, die Bedingungen zu √§ndern und zu beweisen, dass es keine L√∂sungen gibt. <br><br>  Dazu werden wir unseren Wolf mit Pflanzenfressern ausstatten, und er wird Kohl essen wollen. <br>  Dies kann mit dem Fall verglichen werden, in dem unser Ziel darin besteht, die Anwendung zu sch√ºtzen, und wir m√ºssen sicherstellen, dass es keine L√ºcken gibt. <br><br><pre> <code class="plaintext hljs"> Safe = [ And( Or(Wolf[i] != Goat[i], Wolf[i] == Human[i]), Or(Goat[i] != Cabbage[i], Goat[i] == Human[i]), Or(Wolf[i] != Cabbage[i], Goat[i] == Human[i])) for i in range(Num) ]</code> </pre><br>  Z3 gab uns folgende Antwort: <br><br><pre> <code class="plaintext hljs"> no solution</code> </pre><br>  Es bedeutet, dass es wirklich keine L√∂sungen gibt. <br><br>  So haben wir programmatisch bewiesen, dass es unm√∂glich ist, mit einem alles fressenden Wolf ohne Verluste f√ºr den Landwirt zu kreuzen. <br><br>  Wenn das Publikum dieses Thema interessant findet, werde ich Ihnen in zuk√ºnftigen Artikeln erkl√§ren, wie Sie ein gew√∂hnliches Programm oder eine gew√∂hnliche Funktion in eine mit formalen Methoden kompatible Gleichung umwandeln und l√∂sen k√∂nnen, um sowohl alle legitimen Szenarien als auch Schwachstellen aufzudecken.  Zun√§chst zur gleichen Aufgabe, aber bereits in Form eines Programms vorgestellt, dann schrittweise erschwerend und relevant zu relevanten Beispielen aus der Welt der Softwareentwicklung. <br><br>  Der folgende Artikel ist fertig: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Erstellen eines formalen Verifizierungssystems von Grund auf neu: Wir schreiben eine Zeichen-VM in PHP und Python</a> <br><br>  Darin gehe ich von der formalen √úberpr√ºfung von Aufgaben zu Programmen und beschreibe <br>  wie man sie automatisch in formale Regelsysteme umwandelt. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de449002/">https://habr.com/ru/post/de449002/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de448988/index.html">Kingston SSDs sind ger√§umiger geworden und haben fast die gleichen Kosten - wir erf√ºllen die A400-R-Serie</a></li>
<li><a href="../de448992/index.html">Vielseitiges und perfektes Hashing</a></li>
<li><a href="../de448994/index.html">Ist es so schwierig, den Weg eines IT-Personalvermittlers einzuschlagen?</a></li>
<li><a href="../de448998/index.html">Wenn die Verbindung nur aus Zinn besteht, m√ºssen Sie sie begraben</a></li>
<li><a href="../de449000/index.html">Ist Deno der neue Node.js?</a></li>
<li><a href="../de449004/index.html">Neu in der Zertifizierung f√ºr Informationssicherheit</a></li>
<li><a href="../de449006/index.html">Die versteckte Komplexit√§t von Videospiel-Slots</a></li>
<li><a href="../de449008/index.html">Protokollieren von HTTP-Anforderungen in Spring Boot mithilfe von Bobbins</a></li>
<li><a href="../de449012/index.html">Die Welt! Arbeit! iOS! Es lebe das Angebot f√ºr 1 Tag</a></li>
<li><a href="../de449014/index.html">Advance Ethereum DAPP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>