<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title> 锔  UI framework en 5 minutos   锔</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hace alg煤n tiempo, me preguntaba por qu茅 hay tantos marcos de interfaz de usuario para la web. He estado en TI durante mucho tiempo y no recuerdo que ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>UI framework en 5 minutos</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/415857/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/qi/bt/su/qibtsu7-adonxh3cztr05mvwabi.png"></div><br><p>  Hace alg煤n tiempo, me preguntaba por qu茅 hay tantos marcos de interfaz de usuario para la web.  He estado en TI durante mucho tiempo y no recuerdo que las bibliotecas de interfaz de usuario en otras plataformas nacieron y murieron a la misma velocidad que en WEB.  Bibliotecas para SO de escritorio, tales como: MFC, Qt, WPF, etc.  - eran monstruos que se desarrollaron a lo largo de los a帽os y no ten铆an una gran cantidad de alternativas.  Todo es diferente en la Web: los marcos se lanzan casi todas las semanas, los l铆deres cambian. </p><br><p>  Creo que la raz贸n principal es que la complejidad de escribir bibliotecas de interfaz de usuario ha disminuido considerablemente.  S铆, para escribir una biblioteca que muchos usar谩n, a煤n requiere mucho tiempo y experiencia, pero para escribir un prototipo, que, cuando est谩 envuelto en una API conveniente, estar谩 listo para usar, toma muy poco tiempo.  Si est谩 interesado en c贸mo se puede hacer esto, siga leyendo. <a name="habracut"></a></p><br><h4 id="zachem-eta-statya">  驴Por qu茅 este art铆culo? </h4><br><p>  Hubo un tiempo en Habr茅 que hab铆a una serie de art铆culos: escribir X para 30 l铆neas de c贸digo en js. </p><br><p>  Pens茅: 驴es posible escribir una reacci贸n en 30 l铆neas?  S铆, durante 30 l铆neas no tuve 茅xito, pero el resultado final es bastante acorde con esta cifra. </p><br><p>  En general, el prop贸sito del art铆culo es puramente educativo.  Puede ayudar a comprender un poco m谩s el principio del marco de UI basado en la casa virtual.  En este art铆culo quiero mostrar cu谩n simple es hacer otro marco de interfaz de usuario basado en un hogar virtual. </p><br><p>  Al principio quiero decir lo que quiero decir con el marco de la interfaz de usuario, porque muchos tienen opiniones diferentes sobre esto.  Por ejemplo, algunos creen que Angular and Ember es un marco de interfaz de usuario y React es solo una biblioteca que facilitar谩 el trabajo con la parte de vista de la aplicaci贸n. </p><br><p>  Definimos el marco de la interfaz de usuario de la siguiente manera: esta es una biblioteca que ayuda a crear / actualizar / eliminar p谩ginas o elementos de p谩gina individuales en este sentido, una gama bastante amplia de envoltorios sobre la API DOM puede resultar ser el marco de la interfaz de usuario, la 煤nica pregunta son las opciones de abstracci贸n (API) que esta biblioteca proporciona para manipular el DOM y en la efectividad de estas manipulaciones </p><br><p>  En la redacci贸n propuesta: React es un marco de interfaz de usuario bastante. </p><br><p>  Bueno, veamos c贸mo escribir su React con blackjack y m谩s.  Se sabe que React usa el concepto de un hogar virtual.  En una forma simplificada, consiste en el hecho de que los nodos del DOM real se construyen en estricta conformidad con los nodos del 谩rbol DOM virtual construido previamente.  La manipulaci贸n directa del DOM real no es bienvenida, si necesita realizar cambios en el DOM real, los cambios se realizan en el DOM virtual, luego se compara la nueva versi贸n del DOM virtual con la anterior, se recopilan los cambios que deben aplicarse al DOM real y se aplican de tal manera que se minimice la interacci贸n con el DOM real. DOM: lo que hace que la aplicaci贸n sea m谩s 贸ptima. </p><br><p>  Dado que el 谩rbol de la casa virtual es un objeto ordinario de Java-Script, es bastante f谩cil manipularlo, cambiar / comparar sus nodos, por la palabra es f谩cil aqu铆, entiendo que el c贸digo de ensamblaje es virtual pero bastante simple y puede ser generado parcialmente por un preprocesador a partir de un lenguaje declarativo de un nivel superior JSX. </p><br><h4 id="nachnem-s-jsx">  Comencemos con JSX </h4><br><p>  Este es un ejemplo de c贸digo JSX </p><br><pre><code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> Component = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"main"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{()</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> console.log('yo')}&gt; Submit </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">button</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> Component</code> </pre> <br><p>  necesitamos hacer un DOM virtual al llamar a la funci贸n <code>Component</code> </p><br><pre> <code class="hljs powershell">const vdom = { type: <span class="hljs-string"><span class="hljs-string">'div'</span></span>, props: { className: <span class="hljs-string"><span class="hljs-string">'main'</span></span> }, children: [ { <span class="hljs-type"><span class="hljs-type">type</span></span>: <span class="hljs-string"><span class="hljs-string">'input'</span></span> }, { <span class="hljs-type"><span class="hljs-type">type</span></span>: <span class="hljs-string"><span class="hljs-string">'button'</span></span>, <span class="hljs-type"><span class="hljs-type">props</span></span>: { <span class="hljs-type"><span class="hljs-type">onClick</span></span>: () =&gt; <span class="hljs-type"><span class="hljs-type">console.log</span></span>(<span class="hljs-string"><span class="hljs-string">'yo'</span></span>) }, <span class="hljs-type"><span class="hljs-type">children</span></span>: [<span class="hljs-string"><span class="hljs-string">'Submit'</span></span>] } ] }</code> </pre> <br><p>  Por supuesto, no escribiremos esta transformaci贸n manualmente, usaremos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">este complemento</a> , el complemento est谩 desactualizado, pero es lo suficientemente simple como para ayudarnos a entender c贸mo funciona todo.  Utiliza <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">jsx-transform</a> , que convierte JSX de esta manera: </p><br><pre> <code class="hljs ruby">jsx.fromString(<span class="hljs-string"><span class="hljs-string">'&lt;h1&gt;Hello World&lt;/h1&gt;'</span></span>, { <span class="hljs-symbol"><span class="hljs-symbol">factory:</span></span> <span class="hljs-string"><span class="hljs-string">'h'</span></span> }); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'h("h1", null, ["Hello World"])'</span></span></code> </pre> <br><p>  entonces, todo lo que tenemos que hacer es implementar el constructor vdom de los nodos h, una funci贸n que crear谩 recursivamente nodos DOM virtuales, en el caso de una reacci贸n, la funci贸n React.createElement hace esto.  A continuaci贸n se muestra una implementaci贸n primitiva de dicha funci贸n. </p><br><pre> <code class="hljs actionscript">export <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">h</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(type, props, </span></span><span class="hljs-rest_arg"><span class="hljs-function"><span class="hljs-params"><span class="hljs-rest_arg">...stack</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> children = (stack || []).reduce(addChild, []) props = props || {} <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> type === <span class="hljs-string"><span class="hljs-string">"string"</span></span> ? { type, props, children } : type(props, children) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addChild</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(acc, node)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Array.isArray(node)) { acc = node.reduce(addChild, acc) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-literal"><span class="hljs-literal">null</span></span> == node || <span class="hljs-literal"><span class="hljs-literal">true</span></span> === node || <span class="hljs-literal"><span class="hljs-literal">false</span></span> === node) { } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { acc.push(<span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> node === <span class="hljs-string"><span class="hljs-string">"number"</span></span> ? node + <span class="hljs-string"><span class="hljs-string">""</span></span> : node) } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> acc }</code> </pre> <br><p>  Por supuesto, la recursi贸n complica un poco el c贸digo aqu铆, pero espero que est茅 claro, ahora con esta funci贸n podemos construir vdom </p><br><pre> <code class="hljs scala"><span class="hljs-symbol"><span class="hljs-symbol">'h</span></span>(<span class="hljs-string"><span class="hljs-string">"h1"</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, [<span class="hljs-string"><span class="hljs-string">"Hello World"</span></span>])' =&gt; { <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">type</span></span></span></span>: <span class="hljs-symbol"><span class="hljs-symbol">'h</span></span>1', props:<span class="hljs-literal"><span class="hljs-literal">null</span></span>, children:[<span class="hljs-symbol"><span class="hljs-symbol">'Hello</span></span> <span class="hljs-type"><span class="hljs-type">World</span></span>']}</code> </pre> <br><p>  y as铆 para los nodos de cualquier anidamiento </p><br><p>  Genial, ahora nuestra funci贸n Componente devuelve el nodo vdom. </p><br><p>  Ahora, la parte <code></code> ser谩 que necesitamos escribir una funci贸n de <code>patch</code> que tome el elemento DOM ra铆z de la aplicaci贸n, el viejo vdom, el nuevo vdom y actualice los nodos del DOM real de acuerdo con el nuevo vdom. </p><br><p>  Tal vez puedas escribir este c贸digo m谩s f谩cilmente, pero result贸 que tom茅 el c贸digo del paquete picodom como base </p><br><pre> <code class="hljs powershell">export <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">patch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(parent, oldNode, newNode)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> patchElement(parent, parent.children[<span class="hljs-number"><span class="hljs-number">0</span></span>], oldNode, newNode) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">patchElement</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(parent, element, oldNode, node, isSVG, nextSibling)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (oldNode == null) { element = parent.insertBefore(createElement(node, isSVG), element) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (node.type != oldNode.type) { const oldElement = element element = parent.insertBefore(createElement(node, isSVG), oldElement) removeElement(parent, oldElement, oldNode) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { updateElement(element, oldNode.props, node.props) isSVG = isSVG || node.type === <span class="hljs-string"><span class="hljs-string">"svg"</span></span> let childNodes = [] ; (element.childNodes || []).forEach(element =&gt; childNodes.push(element)) let oldNodeIdex = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (node.children &amp;&amp; node.children.length &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (var i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; node.children.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (oldNode.children &amp;&amp; oldNodeIdex &lt;= oldNode.children.length &amp;&amp; (node.children[<span class="hljs-type"><span class="hljs-type">i</span></span>].type &amp;&amp; node.children[<span class="hljs-type"><span class="hljs-type">i</span></span>].type === oldNode.children[<span class="hljs-type"><span class="hljs-type">oldNodeIdex</span></span>].type || (!node.children[<span class="hljs-type"><span class="hljs-type">i</span></span>].type &amp;&amp; node.children[<span class="hljs-type"><span class="hljs-type">i</span></span>] === oldNode.children[<span class="hljs-type"><span class="hljs-type">oldNodeIdex</span></span>])) ) { patchElement(element, childNodes[<span class="hljs-type"><span class="hljs-type">oldNodeIdex</span></span>], oldNode.children[<span class="hljs-type"><span class="hljs-type">oldNodeIdex</span></span>], node.children[<span class="hljs-type"><span class="hljs-type">i</span></span>], isSVG) oldNodeIdex++ } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { let newChild = element.insertBefore( createElement(node.children[<span class="hljs-type"><span class="hljs-type">i</span></span>], isSVG), childNodes[<span class="hljs-type"><span class="hljs-type">oldNodeIdex</span></span>] ) patchElement(element, newChild, {}, node.children[<span class="hljs-type"><span class="hljs-type">i</span></span>], isSVG) } } } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (var i = oldNodeIdex; i &lt; childNodes.length; i++) { removeElement(element, childNodes[<span class="hljs-type"><span class="hljs-type">i</span></span>], oldNode.children ? oldNode.children[<span class="hljs-type"><span class="hljs-type">i</span></span>] || {} : {}) } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> element }</code> </pre> <br><p>  Esta implementaci贸n ingenua, es terriblemente no 贸ptima, no tiene en cuenta los identificadores de los elementos (clave, id) para actualizar correctamente los elementos necesarios en las listas, pero en casos primitivos funciona bien. </p><br><p>  La implementaci贸n de las <code>createElement updateElement removeElement</code> no la traigo aqu铆, es notable, cualquiera que est茅 interesado puede ver la fuente <a href="">aqu铆</a> . </p><br><p>  Existe la 煤nica advertencia: cuando se actualizan las propiedades de <code>value</code> para <code>input</code> elementos de <code>input</code> , la comparaci贸n no debe hacerse con el antiguo vnode sino con el atributo de <code>value</code> en la casa real: esto evitar谩 que el elemento activo actualice esta propiedad (ya que ya est谩 actualizada all铆) y evitar谩 problemas con el cursor y selecci贸n. </p><br><p>  Bueno, eso es todo, ahora solo tenemos que juntar estas piezas y escribir el marco de la interfaz de usuario <br>  Nos mantenemos dentro de <a href="">5 l铆neas</a> . </p><br><ol><li>  Como en React, para construir la aplicaci贸n necesitamos 3 par谩metros <br> <code>export function app(selector, view, initProps) {</code> <br>  selector - selector dom de ra铆z en el que se montar谩 la aplicaci贸n (por defecto 'cuerpo') <br>  view - una funci贸n que construye el vnode ra铆z <br>  initProps: propiedades de la aplicaci贸n inicial </li><li>  Tome el elemento ra铆z en el DOM <br> <code>const rootElement = document.querySelector(selector || 'body')</code> </li> <li>  Recolectamos vdom con propiedades iniciales <br> <code>let node = view(initProps)</code> </li> <li>  Montamos el vdom recibido en el DOM como el viejo vdom que tomamos nulo <br> <code>patch(rootElement, null, node)</code> </li> <li>  Devolvemos la funci贸n de actualizaci贸n de la aplicaci贸n con nuevas propiedades. <br> <code>return props =&gt; patch(rootElement, node, (node = view(props)))</code> </li> </ol><br><p>  <strong>隆El marco est谩 listo!</strong> </p><br><p>  'Hello world' en este Framework se ver谩 as铆: </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { h, app } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"../src/index"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">view</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">{`Hello ${state}`}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h2</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">input</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{state}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">oninput</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{e</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> render(e.target.value)} /&gt; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ) } const render = app('body', view, 'world')</span></span></code> </pre> <br><p>  Esta biblioteca, como React, admite la composici贸n de componentes, agregando y eliminando componentes en tiempo de ejecuci贸n, por lo que puede considerarse un marco de interfaz de usuario <code></code> .  Un caso de uso un poco m谩s complejo se puede encontrar aqu铆 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ejemplo de tarea pendiente</a> . </p><br><p>  Por supuesto, hay muchas cosas en esta biblioteca: eventos del ciclo de vida (aunque no es dif铆cil sujetarlos, nosotros mismos gestionamos la creaci贸n / actualizaci贸n / eliminaci贸n de nodos), actualizaciones separadas de nodos secundarios como este.setState (para esto necesita guardar enlaces a elementos DOM para cada uno vdom node: esto complicar谩 un poco la l贸gica), el c贸digo patchElement es terriblemente no 贸ptimo, no funcionar谩 bien en una gran cantidad de elementos, no rastrea elementos con un identificador, etc. </p><br><p>  En cualquier caso, la biblioteca se desarroll贸 con fines educativos; no la use en producci贸n :) </p><br><p>  <em>PD:</em> Me inspir贸 la magn铆fica biblioteca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Hyperapp</a> para este art铆culo, parte del c贸digo fue tomado de all铆. </p><br><p>  Buena codificaci贸n! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es415857/">https://habr.com/ru/post/es415857/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es415845/index.html">Preg煤ntele a Ethan: 驴C贸mo sabemos la edad del sistema solar?</a></li>
<li><a href="../es415847/index.html">Dispositivo de audio de prop贸sito especial: Dictograf铆a: desde el taller y la 贸pera hasta la primera obra maestra t茅cnica de escuchas telef贸nicas de 1907</a></li>
<li><a href="../es415851/index.html">Emulador Red Omega PS2</a></li>
<li><a href="../es415853/index.html">Misi贸n Hayabusa 2: los asteroides revelan la historia del sistema solar</a></li>
<li><a href="../es415855/index.html">Crear un controlador basado en l贸gica difusa con sintonizaci贸n multicanal</a></li>
<li><a href="../es415859/index.html">RuSSIR 2018: 12a Escuela de verano en recuperaci贸n de informaci贸n</a></li>
<li><a href="../es415863/index.html">"Comience bien la semana": qu茅 dispositivos ayudar谩n a reducir el ruido ambiental y "captar" la concentraci贸n</a></li>
<li><a href="../es415865/index.html">Markdown base de conocimiento (o blog, o documentaci贸n del proyecto)</a></li>
<li><a href="../es415867/index.html">Y Combinator Investor School: Ron Conway</a></li>
<li><a href="../es415871/index.html">El resumen de materiales frescos del mundo del front-end para la 煤ltima semana No. 321 (25 de junio - 1 de julio de 2018)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>