<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•ê üç≤ üßû Menyebarkan Model Keras Deep Learning sebagai Aplikasi Web Python üóûÔ∏è üÄÑÔ∏è ‚è≠Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Terjemahan artikel ini disiapkan khusus untuk siswa kursus "Pengembang web dengan Python . " 



 Membuat proyek pembelajaran mesin yang keren adalah ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menyebarkan Model Keras Deep Learning sebagai Aplikasi Web Python</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/477402/">  <i>Terjemahan artikel ini disiapkan khusus untuk siswa kursus <a href="https://otus.pw/PcSx/">"Pengembang web dengan Python</a> . <a href="https://otus.pw/PcSx/">"</a></i> <br><br><img src="https://habrastorage.org/webt/vz/ii/2j/vzii2j88n5_-t9hihzrz276v7ho.png"><br><hr><br>  Membuat proyek pembelajaran mesin yang keren adalah satu hal, hal lain ketika Anda membutuhkan orang lain untuk dapat melihatnya juga.  Tentu saja, Anda dapat menempatkan seluruh proyek di GitHub, tetapi bagaimana kakek-nenek Anda akan mengerti apa yang Anda lakukan?  Tidak, kami perlu menggunakan model pembelajaran mendalam kami sebagai aplikasi web yang akan tersedia bagi siapa saja di dunia. <br><br>  Pada artikel ini, kita akan belajar cara menulis aplikasi web yang menggunakan jaringan saraf berulang terlatih Keras dan memungkinkan pengguna untuk membuat anotasi paten baru.  Proyek ini didasarkan pada karya dari artikel <a href="https://medium.com/p/ffd204f99470%3Fsource%3Duser_profile---------6------------------">"Jaringan Syaraf Berulang dengan Contoh"</a> , namun, tidak perlu tahu bagaimana RNN dibangun sekarang.  Saat ini, kami hanya akan menganggapnya sebagai kotak hitam: kami menetapkan urutan awal, dan itu menampilkan anotasi paten yang sama sekali baru, yang dapat dilihat di browser! <a name="habracut"></a><br><br>  Biasanya, analis data mengembangkan model, dan front-end menunjukkannya kepada dunia.  Dalam proyek ini, kita harus memainkan kedua peran dan terjun ke pengembangan web (meskipun hampir seluruhnya dalam Python). <br><br>  Proyek ini akan membutuhkan penggabungan beberapa alat: <br><br><ul><li>  <a href="http://flask.pocoo.org/">Labu</a> : untuk membuat aplikasi web dasar dengan Python; </li><li>  <a href="http://keras.io/">Keras</a> : Menyebarkan Jaringan Syaraf <a href="http://keras.io/">Berulang Pra-terlatih</a> </li><li>  Template dari mesin template <a href="http://jinja.pocoo.org/">Jinja</a> ; </li><li>  <a href="https://www.w3schools.com/html/">HTML</a> dan <a href="https://www.w3schools.com/html/html_css.asp">CSS</a> untuk membuat halaman web. </li></ul><br>  Pada akhirnya, kami mendapatkan aplikasi web yang akan memungkinkan pengguna untuk membuat anotasi paten yang sama sekali baru menggunakan jaringan saraf berulang terlatih. <br><br><img src="https://habrastorage.org/webt/l_/oc/2j/l_oc2jgyuokd3kvrsk2pn87bhis.gif"><br><br>  Semua kode proyek tersedia di <a href="https://github.com/WillKoehrsen/recurrent-neural-networks">GitHub</a> . <br><br><h3>  Pendekatannya </h3><br>  Tujuannya adalah untuk menyebarkan aplikasi web secepat mungkin.  Untuk ini, saya memilih Flask, yang memungkinkan Anda untuk menulis aplikasi dengan Python.  Saya tidak suka mengotak-atik gaya (saya pikir Anda sudah melihatnya), jadi saya menyalin dan menempel hampir semua CSS dari sumber pihak ketiga.  <a href="https://blog.keras.io/building-a-simple-keras-deep-learning-rest-api.html">Artikel</a> dari tim Keras ini berguna untuk mempelajari dasar-dasarnya, dan <a href="https://towardsdatascience.com/deploying-keras-deep-learning-models-with-flask-5da4181436a2">artikel</a> ini juga merupakan panduan yang berguna. <br><blockquote>  <i>Secara umum, proyek ini memenuhi prinsip-prinsip desain saya: membuat prototipe yang berfungsi cepat (menyalin dan menempelkan kode sebanyak yang diperlukan), dan kemudian hanya mengulangi hal yang sama untuk meningkatkan produk.</i> </blockquote><h3>  Aplikasi web dasar pada Flask </h3><br>  Cara tercepat untuk membuat aplikasi web Python adalah dengan menggunakan Flask (http://flask.pocoo.org/).  Untuk membuat aplikasi kita sendiri, kita dapat menggunakan yang berikut ini: <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flask <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Flask app = Flask(__name__) @app.route(<span class="hljs-string"><span class="hljs-string">"/"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"&lt;h1&gt;Not Much Going On Here&lt;/h1&gt;"</span></span> app.run(host=<span class="hljs-string"><span class="hljs-string">'0.0.0.0'</span></span>, port=<span class="hljs-number"><span class="hljs-number">50000</span></span>)</code> </pre> <br>  Jika Anda menjalankan kode ini, Anda akan melihat aplikasi Anda sendiri di localhost: 50000.  Tentu saja, kami membutuhkan sesuatu yang lebih, jadi kami akan menggunakan fungsi yang lebih kompleks yang umumnya melakukan hal yang sama: ia memproses permintaan dari browser Anda dan menyajikan beberapa konten dalam bentuk HTML. <br><br><h3>  Formulir entri pengguna </h3><br>  Saat pengguna pergi ke halaman utama aplikasi, kami akan menunjukkan kepada mereka formulir dengan tiga opsi: <br><br><ol><li>  Masukkan urutan sumber untuk RNN ‚Äã‚Äãatau buat secara acak. </li><li>  Pemilihan "keragaman" dari perkiraan RNN. </li><li>  Pilihan jumlah kata yang dihasilkan dari RNN. </li></ol><br>  Untuk membuat formulir dengan Python, kami menggunakan <a href="https://wtforms.readthedocs.io/">wtforms</a> .  Anda akan melihat kode untuk pembuatannya di bawah: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> wtforms <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (Form, TextField, validators, SubmitField, DecimalField, IntegerField) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ReusableForm</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Form)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-string"><span class="hljs-string">"""User entry form for entering specifics for generation"""</span></span> <span class="hljs-comment"><span class="hljs-comment"># Starting seed seed = TextField("Enter a seed string or 'random':", validators=[ validators.InputRequired()]) # Diversity of predictions diversity = DecimalField('Enter diversity:', default=0.8, validators=[validators.InputRequired(), validators.NumberRange(min=0.5, max=5.0, message='Diversity must be between 0.5 and 5.')]) # Number of words words = IntegerField('Enter number of words to generate:', default=50, validators=[validators.InputRequired(), validators.NumberRange(min=10, max=100, message='Number of words must be between 10 and 100')]) # Submit button submit = SubmitField("Enter")</span></span></code> </pre> <br>  Dengan menggunakannya, kami membuat formulir yang ditunjukkan di bawah ini (dengan gaya dari <code>main.css</code> ): <br><br><img src="https://habrastorage.org/webt/ja/mc/2j/jamc2jeigbqz87z4flruuzuzp4e.png"><br><br>  Diperlukan pemeriksaan kode untuk memastikan bahwa pengguna memasukkan informasi yang benar.  Misalnya, kami memeriksa bahwa semua bidang diisi, dan bahwa nilai parameter keanekaragaman antara 0,5 dan 5. Kondisi ini harus dipenuhi untuk memulai. <br><br><img src="https://habrastorage.org/webt/wz/wy/e2/wzwye2lrn8rrnfdp1lemj9hf4p4.png"><br>  <i>Kesalahan memvalidasi data yang dimasukkan</i> <br><br>  Kami memproses formulir ini menggunakan templat di <code>Flask</code> . <br><br><h3>  Pola </h3><br>  Template adalah file dengan "bingkai" yang sudah disiapkan yang hanya perlu diisi dengan cara tertentu.  Untuk aplikasi web Flask, kita dapat menggunakan perpustakaan template <a href="http://jinja.pocoo.org/">Jinja</a> untuk menerjemahkan kode Python ke dalam dokumen HTML.  Misalnya, dalam fungsi utama kami, kami akan mengirimkan konten formulir ke templat yang disebut <code>index.html</code> . <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flask <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> render_template <span class="hljs-comment"><span class="hljs-comment"># Home page @app.route("/", methods=['GET', 'POST']) def home(): """Home page of app with form""" # Create form form = ReusableForm(request.form) # Send template information to index.html return render_template('index.html', form=form)</span></span></code> </pre> <br>  Ketika pengguna pergi ke halaman utama, aplikasi kami akan memberikan <code>index.html</code> input dari formulir.  Templat adalah struktur HTML lengkap tempat kami merujuk ke variabel Python menggunakan sintaks <code>{{variable}}</code> . <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>RNN Patent Writing<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/static/css/main.css"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shortcut icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/static/images/lstm.ico"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">center</span></span></span><span class="hljs-tag">&gt;</span></span>Writing Novel Patent Abstracts with Recurrent Neural Networks<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">center</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> {% block content %} {% for message in form.seed.errors %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"flash"</span></span></span><span class="hljs-tag">&gt;</span></span>{{ message }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> {% endfor %} {% for message in form.diversity.errors %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"flash"</span></span></span><span class="hljs-tag">&gt;</span></span>{{ message }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> {% endfor %} {% for message in form.words.errors %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"flash"</span></span></span><span class="hljs-tag">&gt;</span></span>{{ message }}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> {% endfor %} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">post</span></span></span><span class="hljs-tag">&gt;</span></span> {{ form.seed.label }} {{ form.seed }} {{ form.diversity.label }} {{ form.diversity }} {{ form.words.label }} {{ form.words }} {{ form.submit }} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> {% endblock %} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Ketika kesalahan terjadi dalam formulir (input yang tidak dapat diverifikasi), pesan kesalahan akan berkedip.  Selain itu, formulir akan ditampilkan seperti pada file di atas. <br><br>  Ketika pengguna memasukkan informasi dan klik <code>submit</code> (permintaan <code>POST</code> ), jika informasi itu benar, kami mengarahkan data input ke fungsi yang sesuai untuk membuat prediksi menggunakan RNN terlatih.  Ini artinya Anda perlu memodifikasi <code>home()</code> . <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> flask <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> request <span class="hljs-comment"><span class="hljs-comment"># User defined utility functions from utils import generate_random_start, generate_from_seed # Home page @app.route("/", methods=['GET', 'POST']) def home(): """Home page of app with form""" # Create form form = ReusableForm(request.form) # On form entry and all conditions met if request.method == 'POST' and form.validate(): # Extract information seed = request.form['seed'] diversity = float(request.form['diversity']) words = int(request.form['words']) # Generate a random sequence if seed == 'random': return render_template('random.html', input=generate_random_start(model=model, graph=graph, new_words=words, diversity=diversity)) # Generate starting from a seed sequence else: return render_template('seeded.html', input=generate_from_seed(model=model, graph=graph, seed=seed, new_words=words, diversity=diversity)) # Send template information to index.html return render_template('index.html', form=form)</span></span></code> </pre> <br>  Sekarang, ketika pengguna menekan <code>submit</code> dan informasi yang dimasukkan benar, tergantung pada input, input dikirim baik untuk <code>generate_random_start</code> atau <code>generate_from_seed</code> .  Fitur-fitur ini menggunakan model Keras terlatih untuk membuat paten baru dengan parameter pengguna dan <code>diversity</code> <code>num_words</code> .  Output dari fungsi ini, pada gilirannya, dikirim secara acak ke template <code>seeded.html</code> atau <code>seeded.html</code> untuk ditampilkan sebagai halaman web. <br><br><h2>  Membuat Prediksi Menggunakan Model Keras Pra-terlatih </h2><br>  Parameter parameter berisi model Keras pra-terlatih, yang memuat sebagai berikut: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> keras.models <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> load_model <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tensorflow <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> tf <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">load_keras_model</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""Load in the pre-trained model"""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> model model = load_model(<span class="hljs-string"><span class="hljs-string">'../models/train-embeddings-rnn.h5'</span></span>) <span class="hljs-comment"><span class="hljs-comment"># Required for model to work global graph graph = tf.get_default_graph() load_keras_model()</span></span></code> </pre> <br>  (Pada dasarnya, ada solusi yang terlihat seperti <code>tf.get_default_graph()</code> ) <br>  Saya tidak akan menunjukkan sepenuhnya dua fungsi <code>util</code> (kode yang akan Anda temukan di <a href="https://github.com/WillKoehrsen/recurrent-neural-networks/blob/master/deployment/utils.py">sini</a> ), karena yang perlu Anda pahami adalah mereka menyimpan model Keras yang sudah terlatih bersama dengan parameter dan membuat prediksi - anotasi paten. <br><br>  Kedua fungsi ini mengembalikan string dalam Python dengan HTML yang diformat.  Baris ini dikirim ke templat lain, yang akan muncul sebagai halaman web.  Misalnya, <code>generate_random_start</code> mengembalikan HTML berformat yang dikirim ke <code>random.html</code> : <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Random Starting Abstract <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"stylesheet"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/static/css/main.css"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shortcut icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/static/images/lstm.ico"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/"</span></span></span><span class="hljs-tag">&gt;</span></span>Home<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">header</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span><span class="hljs-tag">&gt;</span></span> {% block content %} {{input|safe}} {% endblock %} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Di sini kita kembali menggunakan mesin template <code>Jinja</code> untuk menampilkan file HTML yang diformat.  Karena string Python sudah diterjemahkan ke dalam HTML, yang perlu kita lakukan untuk menampilkannya adalah menggunakan <code>{{input|safe}}</code> (di mana <code>input</code> adalah variabel Python).  Kemudian di <code>main.css</code> kita bisa menambahkan gaya ke halaman ini, dan juga halaman HTML lainnya. <br><br><h3>  Hasil kerja </h3><br>  Fungsi <code>generate_random_start</code> memilih anotasi paten acak sebagai urutan input dan membuat prediksi berdasarkan itu.  Kemudian menampilkan urutan input, output yang dihasilkan RNN, dan output aktual: <br><br><img src="https://habrastorage.org/webt/z_/2y/6q/z_2y6q7q7xalfmwihsw3ohxwuza.png"><br>  <i>Outputnya didasarkan pada urutan input acak.</i> <br><br>  Fungsi <code>generate_from_seed</code> menerima urutan awal yang dimasukkan oleh pengguna dan membuat prakiraan berdasarkan itu.  Outputnya adalah sebagai berikut: <br><br><img src="https://habrastorage.org/webt/vd/4t/xw/vd4txwgqdyresaxrd5a0midnosm.png"><br>  <i>Output berdasarkan urutan input pengguna.</i> <br><br>  Meskipun hasilnya tidak selalu membentuk urutan logis, mereka tetap menunjukkan bahwa jaringan saraf akrab dengan dasar-dasar bahasa Inggris.  Dia dilatih untuk memprediksi setiap kata berikutnya berdasarkan 50 sebelumnya dan dengan demikian memilih anotasi yang menarik.  Bergantung pada parameter <code>diversity</code> , output mungkin benar-benar acak atau siklus. <br><br><h3>  Peluncuran aplikasi </h3><br>  Untuk memulai aplikasi sendiri, yang perlu Anda lakukan adalah mengunduh repositori, pergi ke direktori tempat penyebarannya dan masukkan <code>run_keras_server.py</code> .  Aplikasi akan tersedia di <code>localhost:10000</code> . <br><br>  Bergantung pada bagaimana Wi-Fi rumah Anda dikonfigurasi, Anda harus dapat mengakses aplikasi dari komputer mana pun di jaringan menggunakan alamat IP Anda. <br><br><h3>  Langkah selanjutnya </h3><br>  Aplikasi web yang berjalan di komputer pribadi Anda sangat bagus untuk berbagi dengan teman dan keluarga.  Namun, saya tidak merekomendasikan membukanya untuk semua orang di jaringan rumah Anda.  Nanti kita akan belajar cara menyebarkan aplikasi pada <a href="https://towardsdatascience.com/deploying-keras-deep-learning-models-with-flask-5da4181436a2">AWS EC2</a> dan akhirnya menunjukkannya kepada dunia. <br><br>  Untuk meningkatkan aplikasi, Anda dapat mengubah gaya ( <a href="">di main.css</a> ) dan, secara opsional, menambahkan parameter tambahan, seperti kemampuan untuk memilih jaringan pra-terlatih.  Hal hebat tentang proyek pribadi adalah Anda dapat mengembangkannya selama yang Anda inginkan.  Jika Anda ingin bermain dengan aplikasi tersebut, unduh <a href="https://github.com/WillKoehrsen/recurrent-neural-networks">repositori</a> dan mulai. <br><br><img src="https://habrastorage.org/webt/hu/z9/up/huz9upmw2zstf5wdojoflzsrxey.gif"><br><br><h2>  Kesimpulan </h2><br>  Pada artikel ini, kami belajar cara menggunakan model pembelajaran dalam yang pra-dilatih Keras sebagai aplikasi web.  Ini memerlukan integrasi sejumlah teknologi yang berbeda, termasuk jaringan saraf berulang, aplikasi web, templat, HTML, CSS dan, tentu saja, <a href="https://www.python.org/">Python</a> . <br><br>  Meskipun ini adalah aplikasi dasar, ini menunjukkan bahwa Anda dapat membuat aplikasi web menggunakan pembelajaran mendalam dengan sedikit usaha.  Hanya sedikit orang yang dapat mengatakan bahwa mereka dapat menggunakan model pembelajaran yang mendalam dalam bentuk aplikasi web, tetapi jika Anda mengikuti instruksi dalam artikel ini, Anda bisa menjadi salah satunya! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id477402/">https://habr.com/ru/post/id477402/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id477388/index.html">NILFS2 - sistem file antipeluru untuk / rumah</a></li>
<li><a href="../id477390/index.html">Debugging keterlambatan jaringan di Kubernetes</a></li>
<li><a href="../id477392/index.html">Buka mikrofon: backend. Kami mengundang pembicara</a></li>
<li><a href="../id477396/index.html">Cara mendaftar dalam suatu kursus dan ... lanjutkan ke bagian akhir</a></li>
<li><a href="../id477400/index.html">Tentang profesi manajer produk: bagaimana mencapai yang ideal?</a></li>
<li><a href="../id477404/index.html">Masalah sering membuat dan menghapus objek di C ++</a></li>
<li><a href="../id477406/index.html">Dukungan dan dukungan teknis. Riset hebat di pasar kerja dan gaji. Apa yang berubah dalam 2 tahun?</a></li>
<li><a href="../id477408/index.html">Tutorial JavaFX: Tata Letak Lanjutan</a></li>
<li><a href="../id477414/index.html">Insinyur Data - Profesi Terseksi Abad ke-21</a></li>
<li><a href="../id477416/index.html">Kapan itu berbahaya untuk hash</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>