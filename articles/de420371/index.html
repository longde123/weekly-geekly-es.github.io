<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐿️ 🤜🏻 👂🏼 Zum Thema Fahrradbau im Bereich der Elektropostlagerung 🔉 🤱🏽 🏜️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nach meinem Willen gibt es einen Mailserver in meiner Obhut. Klein, ~ 20 Benutzer. Es funktioniert stabil, es ist unerwünscht, Software zu ändern. Und...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zum Thema Fahrradbau im Bereich der Elektropostlagerung</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420371/">  Nach meinem Willen gibt es einen Mailserver in meiner Obhut.  Klein, ~ 20 Benutzer.  Es funktioniert stabil, es ist unerwünscht, Software zu ändern.  Und es wäre nicht notwendig, aber sobald die Sicherungsprotokolle eindeutig angedeutet sind - wenn Sie im gleichen Sinne fortfahren, wird die ganze Nacht zu einer vollständigen Sicherung.  Und die Sache ist in der Menge der Benutzerpostfächer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/1e/lg/ef/1elgefhundgzt-huf1mhs5fgj1u.jpeg"></div><a name="habracut"></a><br>  Das Problem wird angezeigt, es ist notwendig zu lösen.  Der Weg in die Zukunft - Eisen noch stärker zu kaufen - ist nicht mein Typ, und das Budget ist nicht aus Gummi.  Die naheliegende Option: Quoten.  In der Praxis hilft dies jedoch nicht viel.  Die Eide von „Ich habe alles gereinigt“ werden bei näherer Betrachtung zu Siegeln, lustigen Bildern und Familienfotoarchiven (in Firmenpost, ja).  Und die Anzahl der Schreie „Ich habe ein dringendes Licht funktioniert nicht, mach es sofort“ steigt um eine Größenordnung.  Also nicht lange und das Vertrauen in die Menschen verlieren. <br><br>  Zum Glück bin ich kein Psychologe, kein Coach oder Mentor.  Mein Geschäft ist Technologie.  Wir kommen also von der technischen Seite. <br><br>  Das erste, was ich dachte, waren selbstzerstörende Botschaften.  Grob gesagt wird alles ohne das „wichtige“ Zeichen nach N Tagen gelöscht.  Für meinen Geschmack sollte es in die Standards der E-Mail-Lagerung "eingenäht" werden.  Bisher ist dies jedoch nicht der Fall, und die Umsetzung schien mir zu ehrgeizig. <br><br>  Der zweite Gedanke waren Kopien.  Kennen Sie diese Nachrichten, wenn Sie nicht der Hauptempfänger sind.  Kommt nur zur Information zu Ihnen.  Einige dieser Nachrichten könnten automatisch gelöscht werden.  Aber plötzlich wurden die Benutzer hier in zwei Lager aufgeteilt: "Sie alle brauchen dich was" und "was ist es".  Ich habe den automatischen Sortieralgorithmus unter solchen Bedingungen nicht beherrscht. <br><br>  Nun, nicht löschen, also kopieren!  Nehmen Sie alle Kopien und stellen Sie symbolische Links her.  Eine schnelle Analyse ergab, dass selbst die Verarbeitung von nur VOLLSTÄNDIGEN Duplikaten auf diese Weise DREI Repositorys spart.  Aber, aber, aber.  Leider ist dies aufgrund vieler technischer Einschränkungen eine Sackgasse. <br><br><div class="spoiler">  <b class="spoiler_title">Details für Interessierte unter dem Spoiler</b> <div class="spoiler_text">  - Nicht alle Archivare verstehen Symlinks. <br>  - Die Server-Software wird stellenweise verrückt. <br>  - Komplexität org.  Charakter- und Zugriffsrechte. <br></div></div><br>  Übrigens sind in meinen Mailservern Einstellungen und allgemeine Backups sowie der Archivspeicher für Benutzer sehr spärlich.  Der Handlungsspielraum war also klein. <br><br>  Was bleibt übrig?  Mit Traurigkeit schaute ich auf die Robben <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/3_/lg/nh/3_lgnhen33bf-iilsfejxyfrpuo.jpeg"></div><br>  und fragte sich bereits ein einfaches neuronales Netzwerk, das E-Mails für den Benutzer bereinigen würde.  Und dann ... Entschuldigung, entschuldigen Sie, aber was machen die Katzen in dem Brief?  Ich erinnere mich, dass ein Brief mit einem Anhang fast ein Drittel mehr wiegt als ein Anhang!  Aber kann ich den Anhang verschieben? <br><br>  So begann der Weg, auf dem es "viele wunderbare Entdeckungen" gab.  Wenn ich wüsste ... Nun, du verstehst.  Ein Tropfen Unwissenheit und Mut führt uns zum Sieg! <br><br>  Also: Wir <b>speichern Anhänge getrennt von Briefen</b> . <br><br>  Der Hauptfehler, den Sie hier machen können, besteht darin, die eml-Datei in einem Texteditor zu öffnen und zu entscheiden, dass es sich um einfachen Text handelt.  Also habe ich es getan.  Und war begeistert.  Im Moment schreibe ich eine Batch-Datei.  Die Befehlszeilenprogramme zum Extrahieren von Anhängen sind voll: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github.com/erikvdv1/eml-attachments</a> oder <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github.com/maiken2051/uudeview</a> , offhand.  Es gibt Probleme mit der Codierung, aber dies ist nicht das Wichtigste. <br><br>  Das Wichtigste: Die Datei herauszunehmen und einen Link zu ihr zu erstellen, ist eine Kleinigkeit.  Aber um diesen Link in den Originalbrief zu verschieben ... Weil es keinen Text gibt.  Da ist <b>MIME</b> . <br><br>  Ein erfahrener Leser kichert jetzt natürlich über den unglücklichen Autor.  Der Autor entdeckte jedoch die Freuden des „Standards“.  Das Wichtigste, was ich verstanden habe: Fliegenpilzpilze sind nicht notwendig, um in einen Berserker zu fallen. <br><br><div class="spoiler">  <b class="spoiler_title">Beispiele und Missbrauch - unter dem Spoiler:</b> <div class="spoiler_text"><br>  Zeichensatz = utf-8 <br>  charset = "UTF-8" <br>  charset = "UTF-8" <br>  Zeichensatz = UTF-8; <br>  Zeichensatz = "UTF-8"; <br>  Zeichensatz = "UTF-8"; <br>  Das ist ein und dasselbe. <br><br>  Zeilenumbrüche in der Mitte eines Base64-Streams.  Woher sie kommen, ist mir immer noch ein Rätsel. <br><br>  Und umgekehrt: das Fehlen von \ r \ n \ r \ n nach dem Header-Teil. <br><br>  In der Kopfzeile selbst ist die Reihenfolge der Felder auf Anfrage der linken Ferse. <br><br>  Ältere Buchstaben erlauben eine Zeilenlänge von nicht mehr als 80 Zeichen, einschließlich Dienstzeichen. <br><br>  Es kann Zeilenumbrüche in Dateinamen geben (im Nachrichtentext und nicht im Namen selbst). <br><br>  Im Allgemeinen können Zeilenumbrüche überall auftreten, obwohl der Standardzeilenumbruch als Ende des aktuellen Parameters deklariert ist. <br><br>  Der Text des Briefes selbst ist verschlüsselt.  Wie genau es verschlüsselt ist, bleibt auf dem Gewissen eines bestimmten Servers, es gibt eine Reihe von Optionen (Gestank). <br><br>  Und in dem Brief gibt es fast immer einen HTML-Teil.  Das heißt, wenn Sie "Hallo" senden und ein Tag br oder p vorhanden ist, enthält der Brief immer ZWEI Abschnitte: mit einfachem Text und mit Tags.  Und der Text ist dupliziert.  Und hier haben sie Rechenleistung "gespart" ... Nur eine Menagerie mit Frankenstein. <br><br>  Der Name der Dateien lautet wie folgt: Dateiname = "=? Codierung? Typ ?; Und dies geschieht wie folgt: Dateiname * 0 * = Codierung '' (STA ?? !!). Der zweite ist ein neuerer Standard, RFC5987. Der Standard gibt dies explizit an dieser Dateiname * 0 * = ENC und Dateiname = "=?  das Gleiche.  An diesem Ort wurde ich schließlich überzeugt, dass sie mich verspotteten.  Wie es normal gehandhabt werden kann, weiß ich nicht. <br><br>  Wie üblich erzielte Apple ein Tor.  Sie haben im Allgemeinen einen eigenen Standard.  Mit Blick auf die Zukunft führten lange Versuche, ihren Code zu verarbeiten, zur einzig richtigen Lösung: "Fehler: Apple Mail wird nicht unterstützt." <br><br>  Thunderbird macht es aber.  Mit Trauer kletterte ich in seine Quellen, aber ich konnte nicht den notwendigen Abschnitt in anderthalb Gigabyte Code für eine Mischung aus Python und Dialekten von Java finden.  Hat in ihrem IRC geholfen, wo sie mir freundlicherweise gesagt haben, wo ich suchen soll, konnten es aber immer noch nicht finden. <br></div></div><br>  Aber er verlor nicht den Mut.  Lesen Sie die Dokumentation nicht @ schreiben Sie den Code und Sie sind fertig.  Nein, im Ernst, ich musste etwas tun, um das Ende von MIME näher zu bringen. <br><br>  Batch-Skript war nicht genug.  Das Ergebnis war <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ein Befehlszeilenprogramm in C # und dotNet</a> . <br><br>  Das Dienstprogramm verfügt über zwei Betriebsarten: <br>  Erstens: extrahiert nur die Anhänge.  Gleichzeitig funktioniert es korrekt mit Codierungen für Windows. <br><br>  Zweitens: und hier der Hauptspaß.  Jetzt können wir Mail-Anhänge immer noch getrennt von Mail speichern!  Das Dienstprogramm <b>erstellt einen neuen Buchstaben anstelle des alten</b> : Der <b>Anhang wird ausgeschnitten, der Buchstabe wird mit UTF-Codierung in einfaches HTML umformatiert,</b> ohne die Länge der Zeile zu begrenzen.  Der Text- / Klartextabschnitt wird als Grundlage verwendet.  Wenn der HTML-Abschnitt Tabellen enthält, werden diese übertragen, während die Formatierung in der Tabelle beibehalten wird. Diese Funktion funktioniert jedoch nur mittelmäßig.  Am Ende des Textes des aktuellen Briefes (wenn es sich um eine Antwort oder eine Weiterleitung handelt) werden Links zu Netzwerkressourcen mit dem Pfad zu den extrahierten Dateien in den Formaten file: /// und ftp: // eingefügt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cad/324/3b7/cad3243b7a0c78597fddcc3f4162c563.png" alt="Bild"><br><br>  Das System wird an mehr als 10000 Buchstaben getestet und in der vorhandenen Infrastruktur bereitgestellt. <br><br>  <b>Identifizierte Vorteile:</b> <br>  + war: <br><blockquote>  Backup <br>  Es wurde um 01:00:08 Uhr gestartet <br>  und erfolgreich abgeschlossen 03:26:32 <br></blockquote><br>  wurde: <br><blockquote>  Backup <br>  Es wurde um 01:00:09 Uhr begonnen <br>  und erfolgreich abgeschlossen 01:40:36 <br></blockquote><br>  + 30 +% des Speichers gespart: Dateien werden von Heavy Base64 und anderen ähnlichen Dateien in das normale Dateisystemformat verschoben, und es wurden viele Duplikate sogar in einzelnen Postfächern gefunden. <br><br>  + Die Geschwindigkeit der Verarbeitung von Postfächern durch den Server und Mailprogramme wird erhöht. <br><br>  + Verschwindet "Ich habe einen Brief von der Post geöffnet, ihn 10 Stunden lang bearbeitet und er hat nicht überlebt." <br><br>  + Sie können Quoten ablehnen. <br><br>  + Es bleibt möglich, einen Anhang in der Mail zu finden, anstatt ihn einfach in den Dateispeicher zu übertragen. <br><br>  + Gegen Ende von MIME.  Bereue, Autoren! <br><br>  <b>Nachteile der Entscheidung:</b> <br><br>  - Einige Buchstaben (aber keine Anhänge) schlagen noch.  Grundsätzlich nicht intern, aber bei einigen Kunden; <br>  - In FTP brechen ständig einige Teufel. <br>  - Nicht alle E-Mail-Clients unterstützen das Öffnen über die Datei: /// <br><br>  <b>Kontroverse Fragen:</b> <br><br>  ?  Apple Mail wird nicht unterstützt.  Für mich - und der Buddha ist bei ihm; <br>  ?  Schlagen Sie Buchstaben mit komplexer Formatierung.  In der Regel handelt es sich dabei um Flyer aus der Buchung oder Werbung; <br>  ?  Wenn sich der FTP-Server an einem nicht standardmäßigen Port befindet, können Zugriffsprobleme auftreten.  Von einem Mail-Bot entschieden. <br><br>  Auf so dornige Weise wurde das Problem gelöst. <br><br>  Vielen Dank für Ihre Aufmerksamkeit! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de420371/">https://habr.com/ru/post/de420371/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de420359/index.html">Var, let oder const? Variable Scope Issues und ES6</a></li>
<li><a href="../de420361/index.html">Fehler beim Ausführen von TextBox.GetLineText in .NET WPF</a></li>
<li><a href="../de420363/index.html">HPE-Webinare von August bis Oktober: Neue Themen (+ SHD, KI-Praxis, schlüsselfertiger Petabyte-Speicher)</a></li>
<li><a href="../de420367/index.html">Klimatisierte Apokalypse: Smart-Grid-Blackout-Szenario</a></li>
<li><a href="../de420369/index.html">Extreme Extended Edge oder IEEE 802.1BR-Switching</a></li>
<li><a href="../de420373/index.html">Fast OCR, um ein VPNBook-Passwort zu erhalten. PHP + Mikrotik</a></li>
<li><a href="../de420375/index.html">Lerne OpenGL. Lektion 5.8 - Blüte</a></li>
<li><a href="../de420377/index.html">Wie wir Videoanrufe gestartet haben</a></li>
<li><a href="../de420381/index.html">Warum reicht es aus, neuronale Netze als Black Box zu betrachten?</a></li>
<li><a href="../de420383/index.html">"Yandex.Money interessiert Sie nicht für die Eingabe Ihrer Bewerbung."</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>