<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò• üêö üê¥ Telegram Open Network: th√©orie et pratique du validateur de r√©seau üßùüèø üí† ‚úÇÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Au cours des derniers mois, toute l'attention de la communaut√© mondiale de la blockchain a √©t√© riv√©e au lancement de l'un des plus grands projets de c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Telegram Open Network: th√©orie et pratique du validateur de r√©seau</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mercuryo/blog/479354/"><img src="https://habrastorage.org/webt/dv/br/cr/dvbrcry8avlorp_luis0jjona4i.jpeg"><br><br>  Au cours des derniers mois, toute l'attention de la communaut√© mondiale de la blockchain a √©t√© riv√©e au lancement de l'un des plus grands projets de crypto-monnaie - Telegram Open Network (TON). <br>  √Ä quoi ressemble vraiment la blockchain TON?  Le r√©seau TON est-il vraiment d√©centralis√©?  Quelle est sa r√©elle √©volutivit√©?  Comment devenir validateur de r√©seau? <br><br>  Les r√©ponses √† ces questions et √† d'autres ont √©t√© recherch√©es par l'√©quipe du projet <a href="https://mercuryo.io/ru/%3Futm_source%3Dhabr%26utm_medium%3Dhabr%26utm_campaign%3DHabr">Mercuryo</a> , qui participe activement au r√©seau de test depuis d√©but septembre 2019. <br><br>  Le 15 novembre 2019, les services Telegram sont pass√©s √† testnet 2 et la troisi√®me phase des tests a commenc√©.  Notre √©quipe a continu√© √† participer aux tests, devenant les premiers validateurs du r√©seau apr√®s TON. <br><br>  Pour participer au processus de validation, l'utilisateur doit non seulement disposer d'un nombre suffisant de pi√®ces (jetons GRAM), mais √©galement d'un n≈ìud de r√©seau complet en cours d'ex√©cution (TON Blockchain Full Node). <br><br>  Th√©oriquement, tout utilisateur peut devenir un validateur √† la condition qu'il poss√®de la part minimale n√©cessaire de l'actif (en grammes) dans la cha√Æne principale, mais dans la pratique, un certain nombre de questions se posent auxquelles notre √©quipe r√©pondra dans cet article. <br><br>  De plus, nous souhaitons partager notre exp√©rience sur l‚Äôutilisation de <b>tonlib-cli</b> ,  actuellement, il n'y a pratiquement aucune information document√©e, contrairement √† la version de base d√©crite en d√©tail dans <a href="https://test.ton.org/HOWTO.txt">HowTo.</a> <a name="habracut"></a><br><br><h3>  TON Blockchain </h3><br>  Le composant principal du Telegram Open Network est un syst√®me de blockchain flexible, ci-apr√®s d√©nomm√© TON Blockchain, qui, selon les d√©veloppeurs eux-m√™mes, est capable de traiter des millions de transactions par seconde, prenant en charge Turing Complete Smart Contracts, les sp√©cifications officielles mises √† jour de la blockchain, les transferts multidevises, ainsi que les canaux de micropaiement pour les r√©seaux de paiement hors cha√Æne (hors cha√Æne). <br><br>  ¬´L'architecture TON Blockchain est unique car elle poss√®de des fonctionnalit√©s sp√©cifiques telles qu'un m√©canisme de blockchain vertical¬´ auto-r√©parateur ¬ªet un routage instantan√© √† hypercube, qui permet √† la blockchain d'√™tre √† la fois rapide et fiable. √©volutive et durable. " <br><br>  Comme mentionn√© ci-dessus, <b>TON Blockchain</b> est le nom conventionnel d'un r√©seau d√©centralis√© (un ensemble de cha√Ænes de blocs) ou d'une blockchain 2D compos√© de trois types principaux de blockchains. <br><cut></cut><br>  Master blockchain ou Masterchain est une cha√Æne unique de blocs contenant des informations g√©n√©rales sur le protocole et les valeurs actuelles de ses param√®tres, un ensemble de validateurs et leurs partages, un ensemble de cha√Ænes de travail actuellement actives et leurs ¬´fragments¬ª, ainsi qu'un ensemble de hachages des derniers blocs masterchains et shardchaynov. <br><br>  <b>Blockchains de travail ou Workchains</b> - un ensemble (jusqu'√† 232) de blockchains qui sont des ¬´chevaux de bataille¬ª qui contiennent des transactions de transfert d'actifs et des contrats intelligents.  Dans le m√™me temps, les cha√Ænes de travail individuelles peuvent avoir leurs propres ¬´r√®gles¬ª, formats d'adresse de compte, formats de transaction, diverses machines virtuelles (VM) pour les contrats intelligents, diff√©rents jetons de base ou cryptomonnaies, etc.  Mais tous doivent satisfaire √† certains crit√®res de base d'interop√©rabilit√© afin d'assurer une interaction relativement simple entre eux.  Ainsi, la blockchain TON est intrins√®quement h√©t√©rog√®ne, tout comme les blockchains EOS et Polkadot. <br><br>  <b>Shard blockchains ou Shardchains</b> - un sous-ensemble de blockchains (jusqu'√† 260) au sein d'un ensemble de cha√Ænes de travail, garantissant le fonctionnement du syst√®me de partitionnement et ayant les m√™mes r√®gles et le m√™me format de bloc que les cha√Ænes de travail.  Les Shardchains ne contiennent qu'un sous-ensemble de comptes, en fonction des premiers bits (les plus significatifs) de l'adresse de chaque compte particulier.  √âtant donn√© que toutes les cha√Ænes de partage ont un format et des r√®gles communs pour les blocs de construction, la cha√Æne de blocs TON √† cet √©gard est homog√®ne et r√©pond aux exigences d√©crites dans l'une des propositions de mise √† l'√©chelle d'Ethereum. <br><br><img src="https://habrastorage.org/webt/nn/m7/4i/nnm74iexx7lj9xjp4jyajurkick.png"><br><br>  Chaque bloc de la cha√Æne de partage (ainsi que la cha√Æne principale) n'est en fait pas seulement un bloc, mais une petite cha√Æne de blocs.  En r√®gle g√©n√©rale, cette "blockchain block" ou "blockchain verticale" se compose exactement d'un bloc, de sorte qu'elle peut √™tre consid√©r√©e comme un bloc de la blockchain "ordinaire" correspondante (ou "cha√Æne de blocs horizontale").  Cependant, s'il devient n√©cessaire de corriger des blocs incorrects, un nouveau bloc est entr√© dans la "cha√Æne verticale de blocs", contenant soit le remplacement du bloc "horizontal" existant, soit la "diff√©rence de bloc", contenant uniquement une description des parties de la version pr√©c√©dente du bloc qui doivent √™tre remplac√©es.  Ce m√©canisme sp√©cifique √† TON pour remplacer les blocs non valides d√©tect√©s sans avoir besoin d'un hard fork est appel√© une <b>blockchain 2D</b> , ou <b>simplement 2-blockchain.</b> <br><br><h3>  Algorithmes de consensus et m√©canisme de protection du r√©seau </h3><br>  TON propose une blockchain bas√©e sur le <b>paradigme de partage infini</b> (Proof of Stake ou PoS).  Selon la documentation du d√©veloppeur: <br><br>  ¬´Presque toutes les impl√©mentations de blockchains utilisant le sharding sont bas√©es sur le mod√®le descendant: nous imaginons d'abord une blockchain, puis nous d√©cidons comment la diviser en plusieurs parties interagissant les unes avec les autres (shardchains) pour augmenter l'efficacit√© et augmenter l'√©volutivit√©. <br><br>  L'approche de TON en mati√®re de partage est bas√©e sur le principe ascendant, ce qui signifie que la cha√Æne de blocs d'origine est extr√™mement √©volutive et que chaque cha√Æne de partage individuelle ne contient qu'un seul compte ou contrat intelligent.  Au niveau suivant, nous avons un grand nombre de ¬´cha√Ænes de comptes¬ª, chacune d√©crivant les transitions entre les √©tats d'un seul compte et s'envoyant des messages contenant des informations sur les transactions.  En m√™me temps, il n'est pas pratique d'avoir des centaines de millions de blockchains, les mises √† jour (c'est-√†-dire de nouveaux blocs) dans chacun d'entre eux apparaissent plut√¥t rarement, donc, pour leur mise en ≈ìuvre plus efficace, nous avons regroup√© ces ¬´cha√Ænes de comptes¬ª en ¬´shardchains¬ª, dont chaque bloc est essentiellement est une collection de blocs de cha√Ænes de comptes qui ont √©t√© li√©s √† ce fragment particulier.  Ainsi, les ¬´cha√Ænes de comptes¬ª ne sont en fait que des blocs virtuels ou logiques au sein des ¬´cha√Ænes de partage¬ª r√©ellement existantes.  Ce m√©canisme met en lumi√®re de nombreuses d√©cisions de conception de la blockchain TON et nous l'appelons le ¬´paradigme de partage infini¬ª. <br><br>  Le r√©seau de consensus TON se compose de diff√©rents types de n≈ìuds: <b>validateurs, nominateurs, hame√ßonneurs et collateurs.</b> <br><br><img src="https://habrastorage.org/webt/ze/ui/kr/zeuikreid-4ifyrg6aizdb02szc.png"><br><br>  <b>Les validateurs</b> sont des n≈ìuds PoS et des fabricants de blocs.  <b>Les p√™cheurs</b> surveillent le r√©seau de consensus afin de trouver une erreur ou d'identifier un n≈ìud de consensus suppos√© malveillant, et si le phishing confirme sans ambigu√Øt√© que le n≈ìud est tel, il re√ßoit une r√©compense sous forme de confiscation d'une partie de la part de ce validateur. <br><br>  La t√¢che des <b>collateurs</b> est de pr√©parer des blocs de cha√Ænes de partage et de les fournir pour validation aux n≈ìuds PoS, pour lesquels ils re√ßoivent leur part de la r√©compense pour la cr√©ation du bloc.  Dans le m√™me temps, les collecteurs sont essentiellement des participants suppl√©mentaires au consensus, car les validateurs g√©n√®rent presque toujours des blocs par eux-m√™mes. <br><br>  <b>Les proposants</b> pr√™tent leurs actifs (jetons <b>Gramme</b> ) aux validateurs √† des fins lucratives.  En fait, les candidats ne sont pas inclus dans l'infrastructure des validateurs, mais partagent seulement leur grande part initiale de l'actif entre eux en √©change d'un pourcentage proportionnel de la r√©mun√©ration totale.  Ainsi, le r√©gime et le montant de la r√©mun√©ration que les candidats re√ßoivent d√©pendent enti√®rement des r√©sultats du travail des validateurs, tandis que les candidats ¬´votent¬ª pour les validateurs, en leur pr√™tant des jetons Gram.  Les nominateurs peuvent √™tre des d√©tenteurs de jetons individuels ou des pools qui g√®rent les fonds des utilisateurs individuels de TON et agissent en m√™me temps comme validateurs, agissant en tant que d√©l√©gu√©s par le biais du contrat intelligent TON.  Dans ce cas, la r√©mun√©ration totale d'un tel pool est r√©partie entre ses participants au prorata de leurs contributions. <br><br>  Le processus de g√©n√©ration de nouveaux blocs se d√©roule comme suit: un certain nombre de validateurs s√©lectionne des blocs de cha√Æne principale (fragments) adapt√©s √† la validation √† l'aide d'un algorithme sp√©cial, puis un plus petit sous-ensemble de validateurs est s√©lectionn√© pour chacun de ces fragments dans l'ordre d√©termin√© de mani√®re pseudo-al√©atoire avec un intervalle d'environ tous les 1024 blocs. <br><br>  Ainsi, pour chaque bloc, il existe un ensemble de validateurs s√©lectionn√©s de mani√®re pseudo-al√©atoire pour d√©terminer le bloc candidat qui a la priorit√© la plus √©lev√©e.  Les validateurs et autres n≈ìuds v√©rifient la validit√© des candidats de bloc propos√©s.  Si le validateur signe automatiquement (non intentionnellement) un candidat invalide pour des blocs, il est alors puni de la perte d'une partie ou de la totalit√© de sa r√©mun√©ration, ou de la suspension de sa participation √† la s√©lection des validateurs pendant un certain temps. <br><br>  Ensuite, les validateurs doivent parvenir √† un consensus bas√© sur l'algorithme BFT (Byzantine Resiliency Protocol), similaire au <b>protocole pBFT</b> ou <b>Honey Badger BFT</b> .  Ensuite, une fois le consensus atteint, un nouveau bloc est cr√©√©, tandis que les frais de transaction sont r√©partis entre les valideurs. <br><br>  Il convient de noter que chaque validateur peut √™tre s√©lectionn√© pour participer √† plusieurs sous-ensembles de validateurs; par cons√©quent, il est suppos√© que tous les algorithmes de validation et de consensus sont ex√©cut√©s en parall√®le. <br><br>  Une fois que tous les nouveaux blocs de fragments de la cha√Æne ont √©t√© g√©n√©r√©s ou que le d√©lai est √©coul√©, un message appara√Æt indiquant qu'un nouveau bloc de cha√Æne ma√Ætre a √©t√© cr√©√©, qui comprend les hachages des derniers blocs de tous les fragments en fonction du consensus pBFT de tous les valideurs. <br><br><h2>  TON Testnet: une exp√©rience pratique dans le Telegram Open Network </h2><br>  L'√©quipe du projet <a href="https://mercuryo.io/ru/%3Futm_source%3Dhabr%26utm_medium%3Dhabr%26utm_campaign%3DHabr">Mercuryo</a> participe activement au r√©seau de test depuis septembre 2019 et, au cours de la p√©riode de test, nous avons acquis une exp√©rience que nous aimerions partager avec vous. <br><br><h3>  M√©thodes d'acc√®s au r√©seau </h3><br>  L'interaction avec le r√©seau TON, d'une mani√®re ou d'une autre, se r√©sume √† l'utilisation de sp√©cifications TL qui d√©crivent comment interagir avec l'API.  Les fichiers de sp√©cifications sont disponibles <a href="https://github.com/ton-blockchain/ton/tree/master/tl/generate/scheme">ici</a> . <br><br>  Il existe trois types d'API: <br><br>  <b>ton_api</b> - pour interagir avec la console du moteur de validation Full Node <br>  <b>lite_api</b> - pour travailler avec lite-client <br>  <b>tonlib</b> - tout ce qui concerne le portefeuille est collect√© ici et c'est la seule <b>API tonlib-cli</b> accessible au public <br><br><h3>  Cr√©ation de portefeuille </h3><br>  La fa√ßon la plus simple de cr√©er un portefeuille est d'utiliser le test Gram Wallet, qui est disponible sur le site <a href="https://wallet.ton.org/">officiel</a> pour les syst√®mes d'exploitation Windows, macOS et Linux. <br><br><img src="https://habrastorage.org/webt/my/em/6v/myem6vpqzwfyzxc17pyp5ddimwy.png"><br><img src="https://habrastorage.org/webt/pu/iz/n4/puizn4ai30qgix2biqtzbkax74c.png"><br><br>  Il existe √©galement plusieurs fa√ßons d'interagir via l'interface de ligne de commande: de base et en utilisant <b>tonlib-cli</b> .  Malheureusement, pour le moment, il n'y a pas de compatibilit√© entre eux. <br><br>  Ici, nous ne consid√©rerons que les outils que les d√©veloppeurs TON proposent eux-m√™mes.  Si la version de base est document√©e en d√©tail dans <a href="https://test.ton.org/HOWTO.txt">HowTo</a> , les informations sur l'utilisation de <b>tonlib-cli sont</b> pratiquement absentes. <br><br>  Comme mentionn√© ci-dessus, dans TON, il existe 3 API pour diff√©rentes t√¢ches.  Les fonctions associ√©es au fonctionnement du portefeuille sont responsables de <b>tonlib</b> . <br><br>  Pour commencer √† travailler avec <b>tonlib-cli</b> , en plus de l'interface de ligne de commande elle-m√™me, vous devez disposer d'un fichier de configuration pour la connexion au serveur de r√©seau public TON, disponible <a href="">ici</a> . <br><br>  La connexion est effectu√©e par l'√©quipe <br><br>  <b>tonlib-cli -c ton-lite-client-test1.config.json -v 0</b> <br><br>  o√π -v 0 est le param√®tre responsable de la sortie des informations de d√©bogage. <br><br><h3>  Liste des commandes: </h3><br><img src="https://habrastorage.org/webt/hh/i8/in/hhi8inliqyjpl11cmbf_glax-bq.png"><br><br>  Pour cr√©er une adresse de portefeuille, utilisez la commande <b>genkey</b> et une liste de phrases mn√©moniques qui peuvent √™tre n√©cessaires pour restaurer l'acc√®s √† l'adresse en cas de perte de la cl√© priv√©e. <br><br><img src="https://habrastorage.org/webt/mt/we/cq/mtwecq-g9afzaxiyf5neygidnqq.png"><br><br><h3>  Liste des cl√©s </h3><br>  La commande de <b>touches</b> affiche une liste de cl√©s.  Pour d'autres op√©rations lors de l'ex√©cution d'autres commandes, il est n√©cessaire d'utiliser leur num√©ro de s√©rie, c'est-√†-dire  pour la premi√®re cl√©, il y aura <b>id 0</b> . <br><br><img src="https://habrastorage.org/webt/sa/xd/q0/saxdq0xebpvyzr033qnb5qi96jm.png"><br><br><h3>  Initialisation d'adresse </h3><br>  Apr√®s avoir cr√©√© l'adresse, elle doit √™tre enregistr√©e sur le r√©seau.  Pour ce faire, vous devez d'abord le reconstituer.  Initialement, un contrat intelligent sp√©cial a √©t√© utilis√© pour cela - <b>testgiver</b> , mais maintenant il est plus facile et plus pratique d'utiliser un bot sp√©cial dans le t√©l√©gramme <b>@test_ton_bot</b> . <br><br>  Imm√©diatement apr√®s le r√©approvisionnement, le statut du compte est d√©fini comme uninited_accountState et ne changera qu'apr√®s l'envoi de jetons de test GRM √† partir de cette adresse. <br><br>  Si vous avez d√©j√† des jetons sur votre solde et que vous devez activer un autre portefeuille, vous pouvez utiliser la commande <b>transferf</b> puis, avec la reconstitution du portefeuille, il sera initialis√©. <br><br><img src="https://habrastorage.org/webt/v_/0h/mi/v_0hmiomkiqguimn1ptf1zk-dhy.png"><br><br>  Vous pouvez conna√Ætre l'√©tat du portefeuille √† l'aide de la commande <b>getstate 0.</b> <br><br><img src="https://habrastorage.org/webt/fs/mw/sz/fsmwszaop6impkokx1m519-zphw.png"><br><br>  Obtenir l'historique des transactions √† l'aide de la commande <br><br>  <b>gethistory &lt;num_of_key&gt;</b> <br><br>  o√π &lt;num_of_key&gt; est le num√©ro de s√©quence de touches <br><br><img src="https://habrastorage.org/webt/wc/8i/yw/wc8iywbafrylnebycxbt5qvro9s.png"><br><br><h3>  Base r√©seau </h3><br>  Comme avec la plupart des blockchains existantes, TON est bas√© sur des serveurs qui stockent un historique complet de toutes les blockchains qui ont jamais √©t√© cr√©√©es sur le r√©seau. <br><br>  Pour ex√©cuter un n≈ìud complet dans le r√©seau de test TON, 8 c≈ìurs productifs, 4 √† 8 Go de RAM suffisent, au moment de la r√©daction, les donn√©es occupaient environ 50 Go de disque dur, mais il est pr√©f√©rable d'avoir une marge d'au moins 100 Go.  Il convient de noter qu'il est pr√©f√©rable d'utiliser un lecteur SSD, car  Un grand nombre d'IOPS sont n√©cessaires pour l'enregistrement, sinon la synchronisation avec le r√©seau sera tr√®s lente. <br><br>  En tant qu'OS fonctionnel, il est pr√©f√©rable d'utiliser Ubuntu 18.04, comme  la plupart des tests communautaires y sont effectu√©s. <br><br>  <b>Guides d'installation</b> <br><br>  <a href="https://test.ton.org/README.txt">README.txt</a> <br>  <a href="https://test.ton.org/FullNode-HOWTO.txt">FullNode-HOWTO.txt</a> <br>  <a href="https://test.ton.org/Validator-HOWTO.txt">Validator-HOWTO.txt</a> <br><br><h3>  Syst√®me de validation </h3><br>  Il est connu que la blockchain TON se compose de blocs shardchain et masterchain, qui sont cr√©√©s et v√©rifi√©s par des n≈ìuds d√©sign√©s sp√©ciaux appel√©s validateurs.  Les validateurs re√ßoivent une r√©compense pour leur ¬´travail¬ª: maintenir la sant√© de la blockchain TON, tandis que les revenus sont distribu√©s proportionnellement au sein de la communaut√© des validateurs. <br><br>  √Ä premi√®re vue, tout est clair, mais en pratique, un certain nombre de questions se posent √† ce sujet: <br><br><ul><li>  <b>Y a-t-il une restriction de r√©seau sur le steak de validateur maximum?</b> </li></ul><br>  La limite de la taille d'un partage pour un valideur peut toujours √™tre v√©rifi√©e avec la commande <b>getconfig 17</b> , qui affichera la taille r√©elle des steaks autoris√©s: <br><br><img src="https://habrastorage.org/webt/ai/hh/zq/aihhzqztupdjgzsxkox665modzu.png"><br><br>  La capture d'√©cran montre que la taille minimale du partage est actuellement de 10 000 GRAM.  Cependant, si un validateur n'obtient pas plus de 100 000 GRAM pour un tour de scrutin, il n'a pas le droit de participer aux √©lections.  Dans le m√™me temps, le nombre maximal de jetons par validateur ne peut pas d√©passer 10 000 000 GRAM et pour que le vote ait lieu, la taille minimale du steak total doit d√©passer 1 000 000 GRAM. <br><br><ul><li>  <b>Comment les validateurs sont-ils s√©lectionn√©s?</b> </li></ul><br>  Pour postuler √† la participation au processus de validation, vous devez avoir un minimum de 10 000 GRAM.  L'algorithme du processus √©lectoral est d√©crit en d√©tail dans le contrat intelligent <b>elector-code.fc</b> <br>  Tr√®s probablement, le contrat sera diff√©rent dans le r√©seau principal, donc la version actuelle est applicable uniquement pour le r√©seau de test. <br><br>  Une part de 10 000 GRAM ne signifie pas que vous pouvez devenir validateur, car  la r√©ception de jetons de test pourrait √™tre facilement automatis√©e par des demandes <b>adress√©es</b> au <b>testeur</b> . <br><br>  √Ä l'heure actuelle, presque tous les validateurs, lorsqu'ils participent au vote, fixent un facteur maximal d'un montant de 2,7 et un steak d'un montant de 120 000 GRAM, car il y a la plupart de ces paris, en raison de leur poids, le steak minimum monte √† 120 000 / 2,7 = 45 000 GRAM (contrairement √† 100 000 selon la documentation officielle).  Mais m√™me avec un steak aussi minime, vos chances sont presque nulles, car les trois meilleurs validateurs ont un facteur max de 2, ce qui √©l√®ve la part minimale √† 60000 GRAM, ce qui vous permet de devenir un validateur dans le testnet. <br><br>  Si tous les validateurs actuels augmentaient leur facteur maximum ou r√©duisaient la taille du steak, alors il serait possible de devenir un validateur avec un steak minimum, √©tant donn√© que le nombre maximum de validateurs (1000 n≈ìuds) ne serait pas d√©pass√©. <br><br><ul><li>  <b>Si le syst√®me de validation est centralis√©, alors toute la cha√Æne de blocs aussi?</b> </li></ul><br>  Il n'y a pas de ch√®ques, c'est-√†-dire  personne ne contr√¥le les validateurs de mani√®re centralis√©e; les proposants eux-m√™mes d√©terminent les risques lors du choix d'un validateur. <br><br><ul><li>  <b>Quels types d'amendes sont pr√©vues pour les validateurs?</b> </li></ul><br>  Il n'y a aucune information pour le moment, tr√®s probablement il y aura un m√©canisme de consensus dans le document, car m√™me les n≈ìuds d√©synchronis√©s ont re√ßu des r√©compenses dans le testnet. <br><br><ul><li>  <b>Contrats intelligents</b> </li></ul><br>  Pour cr√©er des contrats intelligents TON, deux langages de programmation sp√©ciaux sont utilis√©s: <b>Fift</b> et <b>FunC</b> .  Si <b>Fift</b> poss√®de au moins une <a href="https://test.ton.org/fiftbase.pdf">documentation</a> g√©n√©rale, il <b>est</b> presque impossible de trouver des informations sur <b>FunC</b> (m√™me dans les <a href="https://rb.ru/news/telegram-contest/">conditions d'</a> un <a href="https://rb.ru/news/telegram-contest/">concours de</a> d√©veloppement <a href="https://rb.ru/news/telegram-contest/">, il est</a> indiqu√© qu'elles ne peuvent √™tre obtenues qu'en analysant son code source). <br><br>  Pendant les tests, il a √©t√© possible de d√©couvrir que la base de code <b>FunC n'est</b> pas si volumineuse (par rapport √† <b>Fift</b> ) et vous permet de l'apprendre beaucoup plus rapidement, donc travailler avec <b>FunC est</b> beaucoup plus facile qu'avec <b>Fift</b> . <br><br><ul><li>  <b>Questions r√©elles / urgentes / ouvertes</b> </li></ul><br>  Synchronisation lente <br>  <a href="https://github.com/ton-blockchain/ton/issues/100">https://github.com/ton-blockchain/ton/issues/100</a> <br><br>  Autorisations pour le moteur de validation <br>  +0 = requ√™tes lite-client habituelles <br>  +1 = requ√™tes compl√®tes de statistiques sur les n≈ìuds <br>  +2 = requ√™tes compl√®tes de modification de la configuration du code <br>  +4 = requ√™tes potentiellement dangereuses (telles que l'exportation de cl√© priv√©e ou la signature de cha√Ænes arbitraires) <br>  +8 = r√©serv√© pour les extensions futures (ne fait rien pour le moment) <br><br><ul><li>  <b>Comment faire fonctionner PIPE avec lite-client?</b> </li></ul><br>  Par d√©faut, la sortie lite-client est envoy√©e √† stderr, donc pour la traiter, vous devez d'abord rediriger la sortie de stderr vers stdout: <br><br>  $ lite-client 2 &gt;&gt; (grep ...) <br><br><ul><li>  <b>Quelles sont les options d'acc√®s programmatique au r√©seau?</b> </li></ul><br>  <a href="https://github.com/ton-blockchain/ton/issues/76">https://github.com/ton-blockchain/ton/issues/76</a> <br><br><ul><li>  <b>Quelle configuration de serveur est requise pour le validateur?</b> </li></ul><br>  L'utilisation d'un serveur biprocesseur est officiellement recommand√©e (au moins 8 c≈ìurs par processeur).  Le logiciel n'est pas tr√®s exigeant en RAM, donc 16 Go suffisent.  Vous devez utiliser un SSD comme lecteur principal, dont la taille minimale recommand√©e est de 512 Go.  Un disque dur de 8 To est suffisant pour stocker des donn√©es archiv√©es. <br><br>  Vous devez imp√©rativement disposer d'une connexion Internet haut d√©bit: avec une charge moyenne pr√©vue de 100 Mbit / s, vous devez √™tre capable de g√©rer des pics de charge jusqu'√† 1 Gbit / s. <br><br>  Il est recommand√© d'utiliser XFS comme syst√®me de fichiers, car les informations sur chaque bloc sont stock√©es dans un fichier s√©par√©.  Il est connu, par exemple, que ext4 ne fonctionne pas tr√®s bien avec un grand nombre de petits fichiers et peut conduire √† une situation o√π vous n'avez tout simplement pas d'inodes libres avec suffisamment d'espace disque. <br><br><ul><li>  <b>Comment savoir qu'un n≈ìud est synchronis√©?</b> </li></ul><br>  Le journal terminera le message de synchronisation, ou l'utilisation de <b>validator-engine-console -c "getstats"</b> unixtime et masterchainblocktime devrait √™tre presque la m√™me. <br><br><ul><li>  <b>Combien de validateurs peuvent √™tre en ligne?</b> </li></ul><br>  Getconfig 16 <br>  max_validators: 1000 max_main_validators: 100 min_validators: 5 <br><br><ul><li>  <b>Comment trouver les validateurs actifs actuels?</b> </li></ul><br>  Getconfig 34 <br><br>  Ensemble de validateurs getconfig 32 pr√©c√©dent <br><br><ul><li>  <b>Temps pour quels validateurs sont s√©lectionn√©s?</b> </li></ul><br>  Le livre blanc indique que les validateurs sont s√©lectionn√©s pour un mois, mais dans le testnet cette fois est beaucoup moins et vous pouvez le d√©couvrir dans la <b>configuration de getconfig 15.</b> <br><br>  Apr√®s le red√©marrage de testnet, les intervalles de temps pour les valideurs ont chang√©: <br><br>  ConfigParam (15) = (validators_elected_for: 65536 √©lections_start_before: 32768 √©lections_end_before: 8192 enjeu_held_for: 32768) <br><br>  D'o√π il r√©sulte qu'un groupe de validateurs est s√©lectionn√© pendant 65536 secondes. <br><br><ul><li> <b>      ?</b> </li></ul><br>       <a href="https://test.ton.org/Validator-HOWTO.txt">Validator-HOWTO</a> .     -,          <b>getconfig 1</b> .     . <br><br><img src="https://habrastorage.org/webt/-b/ka/ux/-bkauxbdrcknqeqglguol2ecfwa.png"><br><br>    result: [ 0 ],     ,      timestamp,      .      ,       : <br><br> &gt; runmethod -1:A4C2C7C05B093D470DE2316DBA089FA0DD775FD9B1EBFC9DC9D04B498D3A2DDA participant_list <br><br><ul><li> <b>   TON?</b> </li></ul><br>          ,     TON -  UDP  TCP. ,    Telegram   , ..    IP ,       .  TON     :      ,        . ,  ,     Telegram      , ,   ADNL Proxy. <br><br>         10 . .   159 IP-,      ,   : <br><br> 126 DIGITAL OCEAN (    TON) <br> 13 AMAZON <br> 4 GOOGLE <br> 3 HETZNER <br> 3 ALIBABA CLOUD <br> 2 OVH <br> 2 SELECTEL <br> 2 ONLINE.NET <br> 1 LINODE <br> 1 hosteurope.de <br> 1 contabo.de <br> and 1 person possibly hosting it at home in Italy telecomitalia.it <br><br>          IP-  . ,     TON,     -. <br><br>  , Telegram Open Network           WEB 3.0    ,           Telegram. <br><br>     TON   ,     ¬´ ¬ª,     .        , : <br><br><ul><li>      ,       ; </li><li>        - (Fift  FunC),           ; </li><li>   ,       ; </li><li>  telegram-,     TON; </li></ul><br><h3>     TON </h3><br>    (Infinite Sharding Paradigm)  ,        , ..     ,    , ,  ,      ,  ,         . TON   ,     ¬´   ¬ª       . ,       ,          TON    . <br><br>   ,      ,    TON   ,     ,  ¬´  ¬ª    ,   ,  ,     . <br><br><h3>    </h3><br> ,        ,  TON        ( Gram).     ,      ,     ,          TON         PoS,  ,                  -. <br><br>   PoS         .  ,   -        ,    PoS       ,        .       PoS,    ,       .  ,       PoS       ,    . <br><br><h3> Grams Wallet ‚Äî     Gram </h3><br>         -     <a href="https://telegram.org/tos/wallet">TON Grams Wallet</a> ,       Telegram,    -  ,    Telegram FZ-LLC              (  ). <br><br> ,     ,  ,          ,   ,      18        ,    ,    ,            ,  Telegram FZ-LLC       . <br><br>  ,        ,          (.  Linux).  ,          (. 4, . 4.3),      ,      Telegram Open Network: <br><blockquote> ¬´   TON Blockchain           ¬ª. </blockquote><br><h2> Our open source </h2><br> <b>Go-binding library</b> <br><br>   ,       TON    TONLIB. <br><br>     Mercuryo    Go,        ,  -,   . <br> <a href="https://github.com/mercuryoio/tonlib-go">https://github.com/mercuryoio/tonlib-go</a> <br><br>  <b>tonlib api</b>      ,           ,    : <br><br><ul><li>   (//// ); </li><li>  /gram/boc-  ; </li><li>       ; </li><li>     ; </li><li> Tongo      ; </li></ul><br>        : <br><br><ul><li>  .          .       tonlib; </li><li>   .   ; </li><li>     tongo.   -    ; </li><li>     tl .          ; </li></ul><br>       Telegram Open Network, Grams Wallet     . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <a href="https://test.ton.org/ton.pdf">Whitepaper.</a> <a href="https://test.ton.org/ton.pdf">test.ton.org/ton.pdf</a> <br> <a href="https://github.com/ton-blockchain/ton">Github</a> ‚Ä¶ <a href="https://github.com/ton-blockchain/ton">github.com/ton-blockchain/ton</a> <br> <a href="https://test.ton.org/"> </a> <br> <a href="https://docs.ton.dev/"> </a> <a href="https://docs.ton.dev/">docs.ton.dev</a> <br> <a href="https://en.bitcoinwiki.org/wiki/TON%3Ffbclid%3DIwAR1xGVsR1g7TSNTxfH09wbPXr0QhpPDAGd84dM6OA_sFUry3rVk5xdy32KA">TON ‚Äî Telegram Open Network</a> <br> <a href="https://telegram.org/tos/wallet">Grams Wallet</a> </div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr479354/">https://habr.com/ru/post/fr479354/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr479344/index.html">Pr√©sentation du module Terraform programmable AWS Landing Zone</a></li>
<li><a href="../fr479346/index.html">Texte qui a du sens: vid√©o du premier mitap pour les √©diteurs UX</a></li>
<li><a href="../fr479348/index.html">Roscosmos serait un analogue utile du programme Spinoff</a></li>
<li><a href="../fr479350/index.html">Info-bulles dans le programme de notes FAQ.Net ou navigation sur les documents RTF sans modifier les documents eux-m√™mes</a></li>
<li><a href="../fr479352/index.html">Enter IT: Mes recherches sur le passage √† l'informatique √† partir d'autres industries</a></li>
<li><a href="../fr479356/index.html">Contexte: l'essentiel des nouveaux "plugs" AirPods Pro</a></li>
<li><a href="../fr479358/index.html">R√©f√©rence rapide des cat√©gories de valeurs C ++: Partie 2</a></li>
<li><a href="../fr479360/index.html">Cr√©ez un projet open source pour Angels en quelques clics</a></li>
<li><a href="../fr479364/index.html">Classement des meilleurs processeurs pour PC de jeu en 2019</a></li>
<li><a href="../fr479366/index.html">R√©sultats du sondage mobile du vendredi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>