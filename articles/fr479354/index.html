<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😥 🐚 🐴 Telegram Open Network: théorie et pratique du validateur de réseau 🧝🏿 💠 ✂️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Au cours des derniers mois, toute l'attention de la communauté mondiale de la blockchain a été rivée au lancement de l'un des plus grands projets de c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Telegram Open Network: théorie et pratique du validateur de réseau</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mercuryo/blog/479354/"><img src="https://habrastorage.org/webt/dv/br/cr/dvbrcry8avlorp_luis0jjona4i.jpeg"><br><br>  Au cours des derniers mois, toute l'attention de la communauté mondiale de la blockchain a été rivée au lancement de l'un des plus grands projets de crypto-monnaie - Telegram Open Network (TON). <br>  À quoi ressemble vraiment la blockchain TON?  Le réseau TON est-il vraiment décentralisé?  Quelle est sa réelle évolutivité?  Comment devenir validateur de réseau? <br><br>  Les réponses à ces questions et à d'autres ont été recherchées par l'équipe du projet <a href="https://mercuryo.io/ru/%3Futm_source%3Dhabr%26utm_medium%3Dhabr%26utm_campaign%3DHabr">Mercuryo</a> , qui participe activement au réseau de test depuis début septembre 2019. <br><br>  Le 15 novembre 2019, les services Telegram sont passés à testnet 2 et la troisième phase des tests a commencé.  Notre équipe a continué à participer aux tests, devenant les premiers validateurs du réseau après TON. <br><br>  Pour participer au processus de validation, l'utilisateur doit non seulement disposer d'un nombre suffisant de pièces (jetons GRAM), mais également d'un nœud de réseau complet en cours d'exécution (TON Blockchain Full Node). <br><br>  Théoriquement, tout utilisateur peut devenir un validateur à la condition qu'il possède la part minimale nécessaire de l'actif (en grammes) dans la chaîne principale, mais dans la pratique, un certain nombre de questions se posent auxquelles notre équipe répondra dans cet article. <br><br>  De plus, nous souhaitons partager notre expérience sur l’utilisation de <b>tonlib-cli</b> ,  actuellement, il n'y a pratiquement aucune information documentée, contrairement à la version de base décrite en détail dans <a href="https://test.ton.org/HOWTO.txt">HowTo.</a> <a name="habracut"></a><br><br><h3>  TON Blockchain </h3><br>  Le composant principal du Telegram Open Network est un système de blockchain flexible, ci-après dénommé TON Blockchain, qui, selon les développeurs eux-mêmes, est capable de traiter des millions de transactions par seconde, prenant en charge Turing Complete Smart Contracts, les spécifications officielles mises à jour de la blockchain, les transferts multidevises, ainsi que les canaux de micropaiement pour les réseaux de paiement hors chaîne (hors chaîne). <br><br>  «L'architecture TON Blockchain est unique car elle possède des fonctionnalités spécifiques telles qu'un mécanisme de blockchain vertical« auto-réparateur »et un routage instantané à hypercube, qui permet à la blockchain d'être à la fois rapide et fiable. évolutive et durable. " <br><br>  Comme mentionné ci-dessus, <b>TON Blockchain</b> est le nom conventionnel d'un réseau décentralisé (un ensemble de chaînes de blocs) ou d'une blockchain 2D composé de trois types principaux de blockchains. <br><cut></cut><br>  Master blockchain ou Masterchain est une chaîne unique de blocs contenant des informations générales sur le protocole et les valeurs actuelles de ses paramètres, un ensemble de validateurs et leurs partages, un ensemble de chaînes de travail actuellement actives et leurs «fragments», ainsi qu'un ensemble de hachages des derniers blocs masterchains et shardchaynov. <br><br>  <b>Blockchains de travail ou Workchains</b> - un ensemble (jusqu'à 232) de blockchains qui sont des «chevaux de bataille» qui contiennent des transactions de transfert d'actifs et des contrats intelligents.  Dans le même temps, les chaînes de travail individuelles peuvent avoir leurs propres «règles», formats d'adresse de compte, formats de transaction, diverses machines virtuelles (VM) pour les contrats intelligents, différents jetons de base ou cryptomonnaies, etc.  Mais tous doivent satisfaire à certains critères de base d'interopérabilité afin d'assurer une interaction relativement simple entre eux.  Ainsi, la blockchain TON est intrinsèquement hétérogène, tout comme les blockchains EOS et Polkadot. <br><br>  <b>Shard blockchains ou Shardchains</b> - un sous-ensemble de blockchains (jusqu'à 260) au sein d'un ensemble de chaînes de travail, garantissant le fonctionnement du système de partitionnement et ayant les mêmes règles et le même format de bloc que les chaînes de travail.  Les Shardchains ne contiennent qu'un sous-ensemble de comptes, en fonction des premiers bits (les plus significatifs) de l'adresse de chaque compte particulier.  Étant donné que toutes les chaînes de partage ont un format et des règles communs pour les blocs de construction, la chaîne de blocs TON à cet égard est homogène et répond aux exigences décrites dans l'une des propositions de mise à l'échelle d'Ethereum. <br><br><img src="https://habrastorage.org/webt/nn/m7/4i/nnm74iexx7lj9xjp4jyajurkick.png"><br><br>  Chaque bloc de la chaîne de partage (ainsi que la chaîne principale) n'est en fait pas seulement un bloc, mais une petite chaîne de blocs.  En règle générale, cette "blockchain block" ou "blockchain verticale" se compose exactement d'un bloc, de sorte qu'elle peut être considérée comme un bloc de la blockchain "ordinaire" correspondante (ou "chaîne de blocs horizontale").  Cependant, s'il devient nécessaire de corriger des blocs incorrects, un nouveau bloc est entré dans la "chaîne verticale de blocs", contenant soit le remplacement du bloc "horizontal" existant, soit la "différence de bloc", contenant uniquement une description des parties de la version précédente du bloc qui doivent être remplacées.  Ce mécanisme spécifique à TON pour remplacer les blocs non valides détectés sans avoir besoin d'un hard fork est appelé une <b>blockchain 2D</b> , ou <b>simplement 2-blockchain.</b> <br><br><h3>  Algorithmes de consensus et mécanisme de protection du réseau </h3><br>  TON propose une blockchain basée sur le <b>paradigme de partage infini</b> (Proof of Stake ou PoS).  Selon la documentation du développeur: <br><br>  «Presque toutes les implémentations de blockchains utilisant le sharding sont basées sur le modèle descendant: nous imaginons d'abord une blockchain, puis nous décidons comment la diviser en plusieurs parties interagissant les unes avec les autres (shardchains) pour augmenter l'efficacité et augmenter l'évolutivité. <br><br>  L'approche de TON en matière de partage est basée sur le principe ascendant, ce qui signifie que la chaîne de blocs d'origine est extrêmement évolutive et que chaque chaîne de partage individuelle ne contient qu'un seul compte ou contrat intelligent.  Au niveau suivant, nous avons un grand nombre de «chaînes de comptes», chacune décrivant les transitions entre les états d'un seul compte et s'envoyant des messages contenant des informations sur les transactions.  En même temps, il n'est pas pratique d'avoir des centaines de millions de blockchains, les mises à jour (c'est-à-dire de nouveaux blocs) dans chacun d'entre eux apparaissent plutôt rarement, donc, pour leur mise en œuvre plus efficace, nous avons regroupé ces «chaînes de comptes» en «shardchains», dont chaque bloc est essentiellement est une collection de blocs de chaînes de comptes qui ont été liés à ce fragment particulier.  Ainsi, les «chaînes de comptes» ne sont en fait que des blocs virtuels ou logiques au sein des «chaînes de partage» réellement existantes.  Ce mécanisme met en lumière de nombreuses décisions de conception de la blockchain TON et nous l'appelons le «paradigme de partage infini». <br><br>  Le réseau de consensus TON se compose de différents types de nœuds: <b>validateurs, nominateurs, hameçonneurs et collateurs.</b> <br><br><img src="https://habrastorage.org/webt/ze/ui/kr/zeuikreid-4ifyrg6aizdb02szc.png"><br><br>  <b>Les validateurs</b> sont des nœuds PoS et des fabricants de blocs.  <b>Les pêcheurs</b> surveillent le réseau de consensus afin de trouver une erreur ou d'identifier un nœud de consensus supposé malveillant, et si le phishing confirme sans ambiguïté que le nœud est tel, il reçoit une récompense sous forme de confiscation d'une partie de la part de ce validateur. <br><br>  La tâche des <b>collateurs</b> est de préparer des blocs de chaînes de partage et de les fournir pour validation aux nœuds PoS, pour lesquels ils reçoivent leur part de la récompense pour la création du bloc.  Dans le même temps, les collecteurs sont essentiellement des participants supplémentaires au consensus, car les validateurs génèrent presque toujours des blocs par eux-mêmes. <br><br>  <b>Les proposants</b> prêtent leurs actifs (jetons <b>Gramme</b> ) aux validateurs à des fins lucratives.  En fait, les candidats ne sont pas inclus dans l'infrastructure des validateurs, mais partagent seulement leur grande part initiale de l'actif entre eux en échange d'un pourcentage proportionnel de la rémunération totale.  Ainsi, le régime et le montant de la rémunération que les candidats reçoivent dépendent entièrement des résultats du travail des validateurs, tandis que les candidats «votent» pour les validateurs, en leur prêtant des jetons Gram.  Les nominateurs peuvent être des détenteurs de jetons individuels ou des pools qui gèrent les fonds des utilisateurs individuels de TON et agissent en même temps comme validateurs, agissant en tant que délégués par le biais du contrat intelligent TON.  Dans ce cas, la rémunération totale d'un tel pool est répartie entre ses participants au prorata de leurs contributions. <br><br>  Le processus de génération de nouveaux blocs se déroule comme suit: un certain nombre de validateurs sélectionne des blocs de chaîne principale (fragments) adaptés à la validation à l'aide d'un algorithme spécial, puis un plus petit sous-ensemble de validateurs est sélectionné pour chacun de ces fragments dans l'ordre déterminé de manière pseudo-aléatoire avec un intervalle d'environ tous les 1024 blocs. <br><br>  Ainsi, pour chaque bloc, il existe un ensemble de validateurs sélectionnés de manière pseudo-aléatoire pour déterminer le bloc candidat qui a la priorité la plus élevée.  Les validateurs et autres nœuds vérifient la validité des candidats de bloc proposés.  Si le validateur signe automatiquement (non intentionnellement) un candidat invalide pour des blocs, il est alors puni de la perte d'une partie ou de la totalité de sa rémunération, ou de la suspension de sa participation à la sélection des validateurs pendant un certain temps. <br><br>  Ensuite, les validateurs doivent parvenir à un consensus basé sur l'algorithme BFT (Byzantine Resiliency Protocol), similaire au <b>protocole pBFT</b> ou <b>Honey Badger BFT</b> .  Ensuite, une fois le consensus atteint, un nouveau bloc est créé, tandis que les frais de transaction sont répartis entre les valideurs. <br><br>  Il convient de noter que chaque validateur peut être sélectionné pour participer à plusieurs sous-ensembles de validateurs; par conséquent, il est supposé que tous les algorithmes de validation et de consensus sont exécutés en parallèle. <br><br>  Une fois que tous les nouveaux blocs de fragments de la chaîne ont été générés ou que le délai est écoulé, un message apparaît indiquant qu'un nouveau bloc de chaîne maître a été créé, qui comprend les hachages des derniers blocs de tous les fragments en fonction du consensus pBFT de tous les valideurs. <br><br><h2>  TON Testnet: une expérience pratique dans le Telegram Open Network </h2><br>  L'équipe du projet <a href="https://mercuryo.io/ru/%3Futm_source%3Dhabr%26utm_medium%3Dhabr%26utm_campaign%3DHabr">Mercuryo</a> participe activement au réseau de test depuis septembre 2019 et, au cours de la période de test, nous avons acquis une expérience que nous aimerions partager avec vous. <br><br><h3>  Méthodes d'accès au réseau </h3><br>  L'interaction avec le réseau TON, d'une manière ou d'une autre, se résume à l'utilisation de spécifications TL qui décrivent comment interagir avec l'API.  Les fichiers de spécifications sont disponibles <a href="https://github.com/ton-blockchain/ton/tree/master/tl/generate/scheme">ici</a> . <br><br>  Il existe trois types d'API: <br><br>  <b>ton_api</b> - pour interagir avec la console du moteur de validation Full Node <br>  <b>lite_api</b> - pour travailler avec lite-client <br>  <b>tonlib</b> - tout ce qui concerne le portefeuille est collecté ici et c'est la seule <b>API tonlib-cli</b> accessible au public <br><br><h3>  Création de portefeuille </h3><br>  La façon la plus simple de créer un portefeuille est d'utiliser le test Gram Wallet, qui est disponible sur le site <a href="https://wallet.ton.org/">officiel</a> pour les systèmes d'exploitation Windows, macOS et Linux. <br><br><img src="https://habrastorage.org/webt/my/em/6v/myem6vpqzwfyzxc17pyp5ddimwy.png"><br><img src="https://habrastorage.org/webt/pu/iz/n4/puizn4ai30qgix2biqtzbkax74c.png"><br><br>  Il existe également plusieurs façons d'interagir via l'interface de ligne de commande: de base et en utilisant <b>tonlib-cli</b> .  Malheureusement, pour le moment, il n'y a pas de compatibilité entre eux. <br><br>  Ici, nous ne considérerons que les outils que les développeurs TON proposent eux-mêmes.  Si la version de base est documentée en détail dans <a href="https://test.ton.org/HOWTO.txt">HowTo</a> , les informations sur l'utilisation de <b>tonlib-cli sont</b> pratiquement absentes. <br><br>  Comme mentionné ci-dessus, dans TON, il existe 3 API pour différentes tâches.  Les fonctions associées au fonctionnement du portefeuille sont responsables de <b>tonlib</b> . <br><br>  Pour commencer à travailler avec <b>tonlib-cli</b> , en plus de l'interface de ligne de commande elle-même, vous devez disposer d'un fichier de configuration pour la connexion au serveur de réseau public TON, disponible <a href="">ici</a> . <br><br>  La connexion est effectuée par l'équipe <br><br>  <b>tonlib-cli -c ton-lite-client-test1.config.json -v 0</b> <br><br>  où -v 0 est le paramètre responsable de la sortie des informations de débogage. <br><br><h3>  Liste des commandes: </h3><br><img src="https://habrastorage.org/webt/hh/i8/in/hhi8inliqyjpl11cmbf_glax-bq.png"><br><br>  Pour créer une adresse de portefeuille, utilisez la commande <b>genkey</b> et une liste de phrases mnémoniques qui peuvent être nécessaires pour restaurer l'accès à l'adresse en cas de perte de la clé privée. <br><br><img src="https://habrastorage.org/webt/mt/we/cq/mtwecq-g9afzaxiyf5neygidnqq.png"><br><br><h3>  Liste des clés </h3><br>  La commande de <b>touches</b> affiche une liste de clés.  Pour d'autres opérations lors de l'exécution d'autres commandes, il est nécessaire d'utiliser leur numéro de série, c'est-à-dire  pour la première clé, il y aura <b>id 0</b> . <br><br><img src="https://habrastorage.org/webt/sa/xd/q0/saxdq0xebpvyzr033qnb5qi96jm.png"><br><br><h3>  Initialisation d'adresse </h3><br>  Après avoir créé l'adresse, elle doit être enregistrée sur le réseau.  Pour ce faire, vous devez d'abord le reconstituer.  Initialement, un contrat intelligent spécial a été utilisé pour cela - <b>testgiver</b> , mais maintenant il est plus facile et plus pratique d'utiliser un bot spécial dans le télégramme <b>@test_ton_bot</b> . <br><br>  Immédiatement après le réapprovisionnement, le statut du compte est défini comme uninited_accountState et ne changera qu'après l'envoi de jetons de test GRM à partir de cette adresse. <br><br>  Si vous avez déjà des jetons sur votre solde et que vous devez activer un autre portefeuille, vous pouvez utiliser la commande <b>transferf</b> puis, avec la reconstitution du portefeuille, il sera initialisé. <br><br><img src="https://habrastorage.org/webt/v_/0h/mi/v_0hmiomkiqguimn1ptf1zk-dhy.png"><br><br>  Vous pouvez connaître l'état du portefeuille à l'aide de la commande <b>getstate 0.</b> <br><br><img src="https://habrastorage.org/webt/fs/mw/sz/fsmwszaop6impkokx1m519-zphw.png"><br><br>  Obtenir l'historique des transactions à l'aide de la commande <br><br>  <b>gethistory &lt;num_of_key&gt;</b> <br><br>  où &lt;num_of_key&gt; est le numéro de séquence de touches <br><br><img src="https://habrastorage.org/webt/wc/8i/yw/wc8iywbafrylnebycxbt5qvro9s.png"><br><br><h3>  Base réseau </h3><br>  Comme avec la plupart des blockchains existantes, TON est basé sur des serveurs qui stockent un historique complet de toutes les blockchains qui ont jamais été créées sur le réseau. <br><br>  Pour exécuter un nœud complet dans le réseau de test TON, 8 cœurs productifs, 4 à 8 Go de RAM suffisent, au moment de la rédaction, les données occupaient environ 50 Go de disque dur, mais il est préférable d'avoir une marge d'au moins 100 Go.  Il convient de noter qu'il est préférable d'utiliser un lecteur SSD, car  Un grand nombre d'IOPS sont nécessaires pour l'enregistrement, sinon la synchronisation avec le réseau sera très lente. <br><br>  En tant qu'OS fonctionnel, il est préférable d'utiliser Ubuntu 18.04, comme  la plupart des tests communautaires y sont effectués. <br><br>  <b>Guides d'installation</b> <br><br>  <a href="https://test.ton.org/README.txt">README.txt</a> <br>  <a href="https://test.ton.org/FullNode-HOWTO.txt">FullNode-HOWTO.txt</a> <br>  <a href="https://test.ton.org/Validator-HOWTO.txt">Validator-HOWTO.txt</a> <br><br><h3>  Système de validation </h3><br>  Il est connu que la blockchain TON se compose de blocs shardchain et masterchain, qui sont créés et vérifiés par des nœuds désignés spéciaux appelés validateurs.  Les validateurs reçoivent une récompense pour leur «travail»: maintenir la santé de la blockchain TON, tandis que les revenus sont distribués proportionnellement au sein de la communauté des validateurs. <br><br>  À première vue, tout est clair, mais en pratique, un certain nombre de questions se posent à ce sujet: <br><br><ul><li>  <b>Y a-t-il une restriction de réseau sur le steak de validateur maximum?</b> </li></ul><br>  La limite de la taille d'un partage pour un valideur peut toujours être vérifiée avec la commande <b>getconfig 17</b> , qui affichera la taille réelle des steaks autorisés: <br><br><img src="https://habrastorage.org/webt/ai/hh/zq/aihhzqztupdjgzsxkox665modzu.png"><br><br>  La capture d'écran montre que la taille minimale du partage est actuellement de 10 000 GRAM.  Cependant, si un validateur n'obtient pas plus de 100 000 GRAM pour un tour de scrutin, il n'a pas le droit de participer aux élections.  Dans le même temps, le nombre maximal de jetons par validateur ne peut pas dépasser 10 000 000 GRAM et pour que le vote ait lieu, la taille minimale du steak total doit dépasser 1 000 000 GRAM. <br><br><ul><li>  <b>Comment les validateurs sont-ils sélectionnés?</b> </li></ul><br>  Pour postuler à la participation au processus de validation, vous devez avoir un minimum de 10 000 GRAM.  L'algorithme du processus électoral est décrit en détail dans le contrat intelligent <b>elector-code.fc</b> <br>  Très probablement, le contrat sera différent dans le réseau principal, donc la version actuelle est applicable uniquement pour le réseau de test. <br><br>  Une part de 10 000 GRAM ne signifie pas que vous pouvez devenir validateur, car  la réception de jetons de test pourrait être facilement automatisée par des demandes <b>adressées</b> au <b>testeur</b> . <br><br>  À l'heure actuelle, presque tous les validateurs, lorsqu'ils participent au vote, fixent un facteur maximal d'un montant de 2,7 et un steak d'un montant de 120 000 GRAM, car il y a la plupart de ces paris, en raison de leur poids, le steak minimum monte à 120 000 / 2,7 = 45 000 GRAM (contrairement à 100 000 selon la documentation officielle).  Mais même avec un steak aussi minime, vos chances sont presque nulles, car les trois meilleurs validateurs ont un facteur max de 2, ce qui élève la part minimale à 60000 GRAM, ce qui vous permet de devenir un validateur dans le testnet. <br><br>  Si tous les validateurs actuels augmentaient leur facteur maximum ou réduisaient la taille du steak, alors il serait possible de devenir un validateur avec un steak minimum, étant donné que le nombre maximum de validateurs (1000 nœuds) ne serait pas dépassé. <br><br><ul><li>  <b>Si le système de validation est centralisé, alors toute la chaîne de blocs aussi?</b> </li></ul><br>  Il n'y a pas de chèques, c'est-à-dire  personne ne contrôle les validateurs de manière centralisée; les proposants eux-mêmes déterminent les risques lors du choix d'un validateur. <br><br><ul><li>  <b>Quels types d'amendes sont prévues pour les validateurs?</b> </li></ul><br>  Il n'y a aucune information pour le moment, très probablement il y aura un mécanisme de consensus dans le document, car même les nœuds désynchronisés ont reçu des récompenses dans le testnet. <br><br><ul><li>  <b>Contrats intelligents</b> </li></ul><br>  Pour créer des contrats intelligents TON, deux langages de programmation spéciaux sont utilisés: <b>Fift</b> et <b>FunC</b> .  Si <b>Fift</b> possède au moins une <a href="https://test.ton.org/fiftbase.pdf">documentation</a> générale, il <b>est</b> presque impossible de trouver des informations sur <b>FunC</b> (même dans les <a href="https://rb.ru/news/telegram-contest/">conditions d'</a> un <a href="https://rb.ru/news/telegram-contest/">concours de</a> développement <a href="https://rb.ru/news/telegram-contest/">, il est</a> indiqué qu'elles ne peuvent être obtenues qu'en analysant son code source). <br><br>  Pendant les tests, il a été possible de découvrir que la base de code <b>FunC n'est</b> pas si volumineuse (par rapport à <b>Fift</b> ) et vous permet de l'apprendre beaucoup plus rapidement, donc travailler avec <b>FunC est</b> beaucoup plus facile qu'avec <b>Fift</b> . <br><br><ul><li>  <b>Questions réelles / urgentes / ouvertes</b> </li></ul><br>  Synchronisation lente <br>  <a href="https://github.com/ton-blockchain/ton/issues/100">https://github.com/ton-blockchain/ton/issues/100</a> <br><br>  Autorisations pour le moteur de validation <br>  +0 = requêtes lite-client habituelles <br>  +1 = requêtes complètes de statistiques sur les nœuds <br>  +2 = requêtes complètes de modification de la configuration du code <br>  +4 = requêtes potentiellement dangereuses (telles que l'exportation de clé privée ou la signature de chaînes arbitraires) <br>  +8 = réservé pour les extensions futures (ne fait rien pour le moment) <br><br><ul><li>  <b>Comment faire fonctionner PIPE avec lite-client?</b> </li></ul><br>  Par défaut, la sortie lite-client est envoyée à stderr, donc pour la traiter, vous devez d'abord rediriger la sortie de stderr vers stdout: <br><br>  $ lite-client 2 &gt;&gt; (grep ...) <br><br><ul><li>  <b>Quelles sont les options d'accès programmatique au réseau?</b> </li></ul><br>  <a href="https://github.com/ton-blockchain/ton/issues/76">https://github.com/ton-blockchain/ton/issues/76</a> <br><br><ul><li>  <b>Quelle configuration de serveur est requise pour le validateur?</b> </li></ul><br>  L'utilisation d'un serveur biprocesseur est officiellement recommandée (au moins 8 cœurs par processeur).  Le logiciel n'est pas très exigeant en RAM, donc 16 Go suffisent.  Vous devez utiliser un SSD comme lecteur principal, dont la taille minimale recommandée est de 512 Go.  Un disque dur de 8 To est suffisant pour stocker des données archivées. <br><br>  Vous devez impérativement disposer d'une connexion Internet haut débit: avec une charge moyenne prévue de 100 Mbit / s, vous devez être capable de gérer des pics de charge jusqu'à 1 Gbit / s. <br><br>  Il est recommandé d'utiliser XFS comme système de fichiers, car les informations sur chaque bloc sont stockées dans un fichier séparé.  Il est connu, par exemple, que ext4 ne fonctionne pas très bien avec un grand nombre de petits fichiers et peut conduire à une situation où vous n'avez tout simplement pas d'inodes libres avec suffisamment d'espace disque. <br><br><ul><li>  <b>Comment savoir qu'un nœud est synchronisé?</b> </li></ul><br>  Le journal terminera le message de synchronisation, ou l'utilisation de <b>validator-engine-console -c "getstats"</b> unixtime et masterchainblocktime devrait être presque la même. <br><br><ul><li>  <b>Combien de validateurs peuvent être en ligne?</b> </li></ul><br>  Getconfig 16 <br>  max_validators: 1000 max_main_validators: 100 min_validators: 5 <br><br><ul><li>  <b>Comment trouver les validateurs actifs actuels?</b> </li></ul><br>  Getconfig 34 <br><br>  Ensemble de validateurs getconfig 32 précédent <br><br><ul><li>  <b>Temps pour quels validateurs sont sélectionnés?</b> </li></ul><br>  Le livre blanc indique que les validateurs sont sélectionnés pour un mois, mais dans le testnet cette fois est beaucoup moins et vous pouvez le découvrir dans la <b>configuration de getconfig 15.</b> <br><br>  Après le redémarrage de testnet, les intervalles de temps pour les valideurs ont changé: <br><br>  ConfigParam (15) = (validators_elected_for: 65536 élections_start_before: 32768 élections_end_before: 8192 enjeu_held_for: 32768) <br><br>  D'où il résulte qu'un groupe de validateurs est sélectionné pendant 65536 secondes. <br><br><ul><li> <b>      ?</b> </li></ul><br>       <a href="https://test.ton.org/Validator-HOWTO.txt">Validator-HOWTO</a> .     -,          <b>getconfig 1</b> .     . <br><br><img src="https://habrastorage.org/webt/-b/ka/ux/-bkauxbdrcknqeqglguol2ecfwa.png"><br><br>    result: [ 0 ],     ,      timestamp,      .      ,       : <br><br> &gt; runmethod -1:A4C2C7C05B093D470DE2316DBA089FA0DD775FD9B1EBFC9DC9D04B498D3A2DDA participant_list <br><br><ul><li> <b>   TON?</b> </li></ul><br>          ,     TON -  UDP  TCP. ,    Telegram   , ..    IP ,       .  TON     :      ,        . ,  ,     Telegram      , ,   ADNL Proxy. <br><br>         10 . .   159 IP-,      ,   : <br><br> 126 DIGITAL OCEAN (    TON) <br> 13 AMAZON <br> 4 GOOGLE <br> 3 HETZNER <br> 3 ALIBABA CLOUD <br> 2 OVH <br> 2 SELECTEL <br> 2 ONLINE.NET <br> 1 LINODE <br> 1 hosteurope.de <br> 1 contabo.de <br> and 1 person possibly hosting it at home in Italy telecomitalia.it <br><br>          IP-  . ,     TON,     -. <br><br>  , Telegram Open Network           WEB 3.0    ,           Telegram. <br><br>     TON   ,     « »,     .        , : <br><br><ul><li>      ,       ; </li><li>        - (Fift  FunC),           ; </li><li>   ,       ; </li><li>  telegram-,     TON; </li></ul><br><h3>     TON </h3><br>    (Infinite Sharding Paradigm)  ,        , ..     ,    , ,  ,      ,  ,         . TON   ,     «   »       . ,       ,          TON    . <br><br>   ,      ,    TON   ,     ,  «  »    ,   ,  ,     . <br><br><h3>    </h3><br> ,        ,  TON        ( Gram).     ,      ,     ,          TON         PoS,  ,                  -. <br><br>   PoS         .  ,   -        ,    PoS       ,        .       PoS,    ,       .  ,       PoS       ,    . <br><br><h3> Grams Wallet —     Gram </h3><br>         -     <a href="https://telegram.org/tos/wallet">TON Grams Wallet</a> ,       Telegram,    -  ,    Telegram FZ-LLC              (  ). <br><br> ,     ,  ,          ,   ,      18        ,    ,    ,            ,  Telegram FZ-LLC       . <br><br>  ,        ,          (.  Linux).  ,          (. 4, . 4.3),      ,      Telegram Open Network: <br><blockquote> «   TON Blockchain           ». </blockquote><br><h2> Our open source </h2><br> <b>Go-binding library</b> <br><br>   ,       TON    TONLIB. <br><br>     Mercuryo    Go,        ,  -,   . <br> <a href="https://github.com/mercuryoio/tonlib-go">https://github.com/mercuryoio/tonlib-go</a> <br><br>  <b>tonlib api</b>      ,           ,    : <br><br><ul><li>   (//// ); </li><li>  /gram/boc-  ; </li><li>       ; </li><li>     ; </li><li> Tongo      ; </li></ul><br>        : <br><br><ul><li>  .          .       tonlib; </li><li>   .   ; </li><li>     tongo.   -    ; </li><li>     tl .          ; </li></ul><br>       Telegram Open Network, Grams Wallet     . <br><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> <a href="https://test.ton.org/ton.pdf">Whitepaper.</a> <a href="https://test.ton.org/ton.pdf">test.ton.org/ton.pdf</a> <br> <a href="https://github.com/ton-blockchain/ton">Github</a> … <a href="https://github.com/ton-blockchain/ton">github.com/ton-blockchain/ton</a> <br> <a href="https://test.ton.org/"> </a> <br> <a href="https://docs.ton.dev/"> </a> <a href="https://docs.ton.dev/">docs.ton.dev</a> <br> <a href="https://en.bitcoinwiki.org/wiki/TON%3Ffbclid%3DIwAR1xGVsR1g7TSNTxfH09wbPXr0QhpPDAGd84dM6OA_sFUry3rVk5xdy32KA">TON — Telegram Open Network</a> <br> <a href="https://telegram.org/tos/wallet">Grams Wallet</a> </div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr479354/">https://habr.com/ru/post/fr479354/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr479344/index.html">Présentation du module Terraform programmable AWS Landing Zone</a></li>
<li><a href="../fr479346/index.html">Texte qui a du sens: vidéo du premier mitap pour les éditeurs UX</a></li>
<li><a href="../fr479348/index.html">Roscosmos serait un analogue utile du programme Spinoff</a></li>
<li><a href="../fr479350/index.html">Info-bulles dans le programme de notes FAQ.Net ou navigation sur les documents RTF sans modifier les documents eux-mêmes</a></li>
<li><a href="../fr479352/index.html">Enter IT: Mes recherches sur le passage à l'informatique à partir d'autres industries</a></li>
<li><a href="../fr479356/index.html">Contexte: l'essentiel des nouveaux "plugs" AirPods Pro</a></li>
<li><a href="../fr479358/index.html">Référence rapide des catégories de valeurs C ++: Partie 2</a></li>
<li><a href="../fr479360/index.html">Créez un projet open source pour Angels en quelques clics</a></li>
<li><a href="../fr479364/index.html">Classement des meilleurs processeurs pour PC de jeu en 2019</a></li>
<li><a href="../fr479366/index.html">Résultats du sondage mobile du vendredi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>