<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⚫️ 👨🏻‍🍳 👩🏽‍🎤 Buat GIF dengan OpenCV 💸 😛 👩🏻‍⚕️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tutorial ini akan menunjukkan kepada Anda cara membuat animasi GIF menggunakan OpenCV, Python dan ImageMagick. Kemudian gabungkan metode ini untuk mem...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Buat GIF dengan OpenCV</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429024/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/g1/sx/hd/g1sxhdlqfra2bohbg5d7yjliv6g.gif"></div><br><br>  Tutorial ini akan menunjukkan kepada Anda cara membuat animasi GIF menggunakan OpenCV, Python dan ImageMagick.  Kemudian gabungkan metode ini untuk membuat generator meme dengan OpenCV! <br><br>  Kita semua harus tertawa dari waktu ke waktu.  Dan mungkin cara terbaik untuk menemukan lulza adalah dengan meme.  Beberapa favorit saya: <br><br><ul><li>  Kermit the Frog: "Tapi Ini Bukan urusanku" </li><li>  Kucing pemarah </li><li>  Gagal Epik </li><li>  Good guy greg </li></ul><br>  <b>Tetapi bagi saya pribadi, tidak ada meme ini yang dapat dibandingkan dengan meme "Deal With It" ("Deal with it" atau "Understand it it"), sebuah contoh yang diberikan pada awal artikel.</b> <br><a name="habracut"></a><br>  Biasanya digunakan dalam kasus berikut: <br><br><ol><li>  Sebagai jawaban atau keberatan kepada seseorang yang tidak menyetujui sesuatu yang telah Anda lakukan / katakan ("Atasi") </li><li>  Kenakan kacamata Anda seolah-olah Anda pergi dan meninggalkan orang itu sendirian dengan masalahnya (“Pahami itu sendiri”) </li></ol><br>  Beberapa tahun yang lalu saya membaca artikel yang menyenangkan di blog penulis, yang saya tidak ingat bagaimana menghasilkan meme seperti itu menggunakan visi komputer.  Minggu lalu saya tidak dapat menemukan panduan ini di mana pun, jadi sebagai seorang blogger, seorang ahli penglihatan komputer dan ahli meme, saya memutuskan untuk menulis tutorial sendiri!  (Omong-omong, jika Anda tidak sengaja mengetahui sumber aslinya, beri tahu saya agar saya dapat berterima kasih kepada penulis. <b>UPD:</b> Baru saja menemukan artikel asli dari blog Kirk Kaiser, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">MakeArtWithPython</a> ). <br><br>  Mengembangkan generator meme di OpenCV akan mengajarkan kita sejumlah keterampilan praktis yang berharga, termasuk: <br><br><ol><li>  Deteksi Wajah Menggunakan Teknik Pembelajaran Jauh </li><li>  Menggunakan perpustakaan dlib untuk mendeteksi landmark wajah dan mengekstrak area mata </li><li>  Cara menghitung sudut rotasi antara mata berdasarkan informasi yang diterima </li><li>  Dan akhirnya, cara membuat GIF animasi menggunakan OpenCV (dengan sedikit bantuan dari ImageMagick) </li></ol><br>  Panduan ini harus menyenangkan dan menghibur - dan pada saat yang sama mengajarkan Anda keterampilan pemrograman visi komputer yang berguna di dunia nyata. <br><br><h1>  Membuat GIF dengan OpenCV </h1><br>  Pada bagian pertama panduan ini, kami akan membahas kondisi dan dependensi yang diperlukan untuk proyek ini, termasuk konfigurasi lingkungan pengembangan yang tepat. <br><br>  Kemudian pertimbangkan struktur proyek / katalog untuk generator GIF OpenCV kami. <br><br>  Segera setelah kami memahami struktur proyek, kami akan mempertimbangkan: 1) file konfigurasi kami;  2) skrip Python yang bertanggung jawab untuk membuat GIF dengan OpenCV. <br><br>  Akhirnya, kami akan mengevaluasi hasil program pada meme populer "Deal With It". <br><br><h4>  Prasyarat dan Ketergantungan </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/ad6/c3e/193/ad6c3e193373bc04c877e60070d73071.png"><br>  <b>Fig.</b>  <b>1. Kami akan menggunakan OpenCV, dlib dan ImageMagick untuk membuat GIF</b> <br><br><h3>  Opencv dan dlib </h3><br>  OpenCV diperlukan untuk menentukan wajah dalam bingkai dan pemrosesan gambar dasar.  Ikuti salah satu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">panduan instalasi OpenCV</a> saya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">jika OpenCV</a> tidak diinstal pada sistem. <br><br>  Kami menggunakan Dlib untuk mendeteksi landmark wajah, yang memungkinkan kami menemukan dua mata di wajah dan mengenakan kacamata hitam.  Anda dapat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">menginstal dlib menggunakan instruksi ini</a> . <br><br><h4>  Imagemagick </h4><br>  Jika Anda tidak terbiasa dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ImageMagick</a> , maka sia-sia.  Ini adalah alat baris perintah lintas platform dengan banyak fitur pemrosesan gambar. <br><br>  Apakah Anda ingin mengonversi PNG / JPG ke PDF dengan satu perintah?  Tidak masalah <br><br>  Ada beberapa gambar dari mana Anda perlu membuat PDF multi-halaman?  Dengan mudah. <br><br>  Perlu menggambar poligon, garis, dan bentuk lainnya?  Dan itu mungkin. <br><br>  Bagaimana dengan gradasi warna bets atau mengubah ukuran semua gambar dengan satu perintah?  Untuk melakukan ini, Anda tidak perlu menulis beberapa baris dengan Python untuk OpenCV. <br><br>  ImageMagick juga menghasilkan GIF dari gambar apa pun. <br><br>  Untuk menginstal ImageMagick di Ubuntu (atau Raspbian) cukup gunakan apt: <br><br>  Membuat GIF dengan OpenCVShell <br><br><pre><code class="bash hljs">$ sudo apt-get install imagemagick</code> </pre> <br>  Di macOS, Anda dapat menggunakan HomeBrew: <br><br><pre> <code class="bash hljs">$ brew install imagemagick</code> </pre> <br><h4>  iblis </h4><br>  Di sebagian besar artikel, kursus, dan buku, saya menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">paket</a> pemrosesan gambar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">imutils</a> saya yang nyaman.  Itu diinstal pada sistem atau lingkungan virtual menggunakan pip: <br><br><pre> <code class="bash hljs">$ pip install imutils</code> </pre> <br><h2>  Struktur proyek </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/e42/281/af0/e42281af07fb94c9ae60a526098f662d.png"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">2. Struktur proyek mencakup dua direktori, file konfigurasi dan skrip Python</font></i> <br><br>  Ada dua katalog dalam proyek kami: <br><br><ul><li>  <code>images/</code> : contoh gambar input yang ingin kita buat GIF animasi.  Saya menemukan beberapa gambar dengan saya, tetapi jangan ragu untuk menambahkan gambar Anda sendiri. </li><li>  <code>assets/</code> : folder ini berisi detektor wajah, detektor tengara wajah, dan semua gambar + topeng terkait kami.  Dengan aset ini, kami akan meletakkan poin dan teks pada gambar asli dari folder pertama. </li></ul><br>  Karena banyaknya parameter yang dapat dikonfigurasi, saya memutuskan untuk membuat file konfigurasi JSON, yang: 1) akan memudahkan pengeditan parameter;  2) akan membutuhkan lebih sedikit argumen baris perintah.  Semua parameter konfigurasi yang diperlukan untuk proyek ini terdapat di <code>config.json</code> . <br><br>  Pertimbangkan konten <code>config.json</code> dan <code>create_gif.py</code> . <br><br><a name="1"></a>  <font color="gray">Catatan</font>  <font color="gray">Per.: Kode proyek dan manual 17 halaman tentang visi komputer, pembelajaran mesin, dan OpenCV dikeluarkan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">setelah pendaftaran</a> (mirror: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">kode sumber</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">manual</a> ).</font> <br><br><h2>  Generasi GIF dengan OpenCV </h2><br>  Jadi, mari kita lanjutkan dan mulai membuat generator GIF OpenCV kami! <br><br><h4>  Konten file konfigurasi JSON </h4><br>  Mari kita mulai dengan file konfigurasi JSON, dan kemudian beralih ke skrip Python. <br><br>  Buka file <code>config.json</code> baru dan masukkan pasangan kunci / nilai berikut: <br><br>  Membuat GIF dengan OpenCVPython <br><br><pre> <code class="python hljs">{ <span class="hljs-string"><span class="hljs-string">"face_detector_prototxt"</span></span>: <span class="hljs-string"><span class="hljs-string">"assets/deploy.prototxt"</span></span>, <span class="hljs-string"><span class="hljs-string">"face_detector_weights"</span></span>: <span class="hljs-string"><span class="hljs-string">"assets/res10_300x300_ssd_iter_140000.caffemodel"</span></span>, <span class="hljs-string"><span class="hljs-string">"landmark_predictor"</span></span>: <span class="hljs-string"><span class="hljs-string">"assets/shape_predictor_68_face_landmarks.dat"</span></span>,</code> </pre> <br>  Ini adalah file model <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pendeteksi wajah OpenCV dalam pembelajaran mendalam</a> . <br><br>  Baris terakhir adalah jalur menuju prediktor wajah dlib. <br><br>  Dan sekarang kita memiliki beberapa jalur ke file gambar: <br><br><pre> <code class="python hljs"><span class="hljs-string"><span class="hljs-string">"sunglasses"</span></span>: <span class="hljs-string"><span class="hljs-string">"assets/sunglasses.png"</span></span>, <span class="hljs-string"><span class="hljs-string">"sunglasses_mask"</span></span>: <span class="hljs-string"><span class="hljs-string">"assets/sunglasses_mask.png"</span></span>, <span class="hljs-string"><span class="hljs-string">"deal_with_it"</span></span>: <span class="hljs-string"><span class="hljs-string">"assets/deal_with_it.png"</span></span>, <span class="hljs-string"><span class="hljs-string">"deal_with_it_mask"</span></span>: <span class="hljs-string"><span class="hljs-string">"assets/deal_with_it_mask.png"</span></span>,</code> </pre> <br>  Ini adalah jalur menuju kacamata hitam, teks, dan topeng yang cocok untuk mereka, yang ditunjukkan di bawah ini. <br><br>  Pertama, kacamata hitam dan topeng mewah: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c18/c4c/647/c18c4c6471e203aedea66a80c9080192.png"></div><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">3. Anda tidak suka kacamata dengan piksel?</font></i>  <i><font color="gray">Cukup tahan dengan itu</font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/58b/91a/d9c/58b91ad9c2e66238b3f3ac22fe1ee439.png"></div><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">4. Anda tidak mengerti mengapa Anda membutuhkan topeng untuk kacamata hitam?</font></i>  <i><font color="gray">Cukup tahan dengan itu - atau baca sisa artikel untuk jawabannya.</font></i> <br><br>  Dan sekarang teks kita adalah "DEAL WITH IT" dan topengnya: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ec3/4e4/923/ec34e4923e2d05a5b33c065de8f5af66.png"></div><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">5. Apakah Anda membenci Helvetica Neue Condensed?</font></i>  <i><font color="gray">Menghadapinya</font></i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c6c/f70/819/c6cf708198bda68d849029b3ded02265.png"></div><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">6: Topeng ini memungkinkan Anda untuk menggambar batas di sekitar teks.</font></i>  <i><font color="gray">Oh, mungkin Anda tidak mau, apakah Anda ingin perbatasan?</font></i>  <i><font color="gray">Yah, tahan dengan itu</font></i> <br><br>  Masker diperlukan untuk melapisi gambar yang sesuai pada foto: kita akan membahasnya nanti. <br><br>  Sekarang atur beberapa parameter untuk generator meme: <br><br><pre> <code class="python hljs"> <span class="hljs-string"><span class="hljs-string">"min_confidence"</span></span>: <span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-string"><span class="hljs-string">"steps"</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-string"><span class="hljs-string">"delay"</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">"final_delay"</span></span>: <span class="hljs-number"><span class="hljs-number">250</span></span>, <span class="hljs-string"><span class="hljs-string">"loop"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"temp_dir"</span></span>: <span class="hljs-string"><span class="hljs-string">"temp"</span></span> }</code> </pre> <br>  Berikut adalah definisi untuk masing-masing parameter: <br><br><ul><li>  <code>min_confidence</code> : probabilitas deteksi wajah minimum yang diperlukan. </li><li>  <code>steps</code> : jumlah bingkai dalam animasi akhir.  Setiap "langkah" memindahkan kacamata hitam dari batas atas ke bawah ke target (yaitu ke mata). </li><li>  <code>delay</code> : delay antar frame dalam seperseratus detik. </li><li>  <code>final_delay</code> : penundaan frame terakhir dalam seperseratus detik (berguna dalam konteks ini, karena kami ingin teks ditampilkan lebih lama daripada frame lainnya). </li><li>  <code>loop</code> : nilai nol menunjukkan bahwa GIF berulang selamanya, jika tidak tentukan bilangan bulat positif untuk jumlah pengulangan animasi. </li><li>  <code>temp_dir</code> : direktori sementara di mana masing-masing frame akan disimpan sebelum membuat GIF final. </li></ul><br><h4>  Meme, GIF, dan OpenCV </h4><br>  Kami membuat file konfigurasi JSON, sekarang mari kita beralih ke kode asli. <br><br>  Buka file baru, <code>create_gif.py</code> nama <code>create_gif.py</code> dan rekatkan kode berikut: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    from imutils import face_utils from imutils import paths import numpy as np import argparse import imutils import shutil import json import dlib import cv2 import sys import os</span></span></code> </pre> <br>  Di sini kami mengimpor paket yang diperlukan.  Secara khusus, kita akan menggunakan imutils, dlib dan OpenCV.  Untuk menginstal dependensi ini, lihat bagian Prasyarat dan Ketergantungan di atas. <br><br>  Sekarang skrip memiliki paket yang diperlukan, jadi <code>overlay_image</code> mendefinisikan fungsi <code>overlay_image</code> : <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">overlay_image</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(bg, fg, fgMask, coords)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#     (, )  #    (sH, sW) = fg.shape[:2] (x, y) = coords #          #  ,   , **  # ,    overlay = np.zeros(bg.shape, dtype="uint8") overlay[y:y + sH, x:x + sW] = fg # - , **  ** # ,    ,    # ,       alpha = np.zeros(bg.shape[:2], dtype="uint8") alpha[y:y + sH, x:x + sW] = fgMask alpha = np.dstack([alpha] * 3) #  -   , #   - output = alpha_blend(overlay, bg, alpha) #   return output</span></span></code> </pre> <br>  Fungsi <code>overlay_image</code> memaksakan foreground ( <code>fg</code> ) di bagian atas gambar latar belakang ( <code>bg</code> ) pada koordinat <code>coords</code> <i>(</i> koordinat <i>(x, y)</i> ), mewujudkan transparansi alpha di atas foreground mask <code>fgMask</code> . <br><br>  Untuk membiasakan diri dengan dasar-dasar OpenCV, seperti bekerja dengan topeng, pastikan untuk membaca <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">panduan ini</a> . <br><br>  Untuk menyelesaikan proses blending, lakukan alpha blending: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">alpha_blend</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(fg, bg, alpha)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#  ,    - #        [0, 1] fg = fg.astype("float") bg = bg.astype("float") alpha = alpha.astype("float") / 255 #  - fg = cv2.multiply(alpha, fg) bg = cv2.multiply(1 - alpha, bg) #     ,    output = cv2.add(fg, bg) #   return output.astype("uint8")</span></span></code> </pre> <br>  Implementasi alpha blending ini juga tersedia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">di blog LearnOpenCV</a> . <br><br>  Intinya, kami akan mengonversi saluran latar, latar belakang, dan alfa ke angka titik mengambang dalam rentang <i>[0, 1]</i> .  Kemudian kita melakukan alpha blending, tambahkan foreground dan background untuk mendapatkan hasil bahwa kita kembali ke fungsi pemanggilan. <br><br>  Kami juga akan membuat fungsi pembantu yang memungkinkan menghasilkan GIF dari serangkaian jalur gambar menggunakan ImageMagick dan perintah <code>convert</code> : <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">create_gif</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inputPath, outputPath, delay, finalDelay, loop)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-comment"><span class="hljs-comment">#        imagePaths = sorted(list(paths.list_images(inputPath))) #      lastPath = imagePaths[-1] imagePaths = imagePaths[:-1] #   imagemagick 'convert'  #  GIF      #   ( ) cmd = "convert -delay {} {} -delay {} {} -loop {} {}".format( delay, " ".join(imagePaths), finalDelay, lastPath, loop, outputPath) os.system(cmd)</span></span></code> </pre> <br>  Fungsi <code>create_gif</code> mengambil satu set gambar dan mengumpulkannya ke dalam animasi GIF dengan penundaan yang ditentukan antara frame dan loop.  ImageMagick memproses semua ini - kita cukup membungkus perintah <code>convert</code> dalam fungsi yang secara dinamis memproses berbagai parameter. <br><br>  Untuk melihat argumen <code>convert</code> tersedia, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lihat dokumentasi</a> .  Di sana Anda akan melihat berapa banyak fungsi yang dimiliki tim ini! <br><br>  Khususnya dalam fungsi ini, kami: <br><br><ul><li>  Ambil <code>imagePaths</code> . </li><li>  Pilih jalur gambar terakhir, yang akan memiliki penundaan terpisah. </li><li>  <code>imagePaths</code> ulang <code>imagePaths</code> untuk mengecualikan jalur terakhir. </li><li>  Kami merakit perintah dengan argumen baris perintah, dan kemudian menginstruksikan sistem operasi untuk <code>convert</code> untuk membuat animasi GIF. </li></ul><br>  Tetapkan naskah argumen perintahnya sendiri: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#      ap = argparse.ArgumentParser() ap.add_argument("-c", "--config", required=True, help="path to configuration file") ap.add_argument("-i", "--image", required=True, help="path to input image") ap.add_argument("-o", "--output", required=True, help="path to output GIF") args = vars(ap.parse_args())</span></span></code> </pre> <br>  Kami memiliki tiga argumen baris perintah yang diproses saat runtime: <br><br><ul><li>  <code>--config</code> : path ke file konfigurasi JSON.  Kami meninjau file konfigurasi di bagian sebelumnya. </li><li>  <code>--image</code> : jalur ke gambar input tempat animasi dibuat (mis. mendeteksi wajah, menambahkan kacamata hitam, dan kemudian teks). </li><li>  <code>--output</code> : path ke GIF yang dihasilkan. </li></ul><br>  Setiap argumen ini diperlukan saat menjalankan skrip pada baris perintah / terminal. <br><br>  Unduh file konfigurasi, serta kacamata dan topeng yang sesuai: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    JSON, #     config = json.loads(open(args["config"]).read()) sg = cv2.imread(config["sunglasses"]) sgMask = cv2.imread(config["sunglasses_mask"]) #    (  ),   #  ,  ,     #   GIF- shutil.rmtree(config["temp_dir"], ignore_errors=True) os.makedirs(config["temp_dir"])</span></span></code> </pre> <br>  Di sini kita memuat file konfigurasi (yang mungkin tersedia di masa depan sebagai kamus Python).  Kemudian muat kacamata hitam dan topeng. <br><br>  Jika ada sesuatu yang tersisa dari skrip sebelumnya, hapus direktori sementara, dan buat ulang direktori sementara yang kosong.  Folder sementara akan berisi setiap frame individual dari animasi GIF. <br><br>  Sekarang muat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pendeteksi wajah pembelajaran dalam OpenCV</a> ke dalam memori: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># load our OpenCV face detector and dlib facial landmark predictor print("[INFO] loading models...") detector = cv2.dnn.readNetFromCaffe(config["face_detector_prototxt"], config["face_detector_weights"]) predictor = dlib.shape_predictor(config["landmark_predictor"])</span></span></code> </pre> <br>  Untuk melakukan ini, hubungi <code>cv2.dnn.readNetFromCaffe</code> .  Modul <code>dnn</code> hanya tersedia di OpenCV 3.3 atau yang lebih baru.  Detektor wajah akan mendeteksi keberadaan wajah dalam gambar: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a91/d3a/0cd/a91d3a0cde3dcb3cac9799c823e47c8c.jpg"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">7. Operasi Detektor Wajah Menggunakan OpenCV DNN</font></i> <br><br>  Kemudian muat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">prediktor tengara wajah dlib</a> .  Ini akan memungkinkan Anda untuk melokalisasi struktur individu: mata, alis, hidung, mulut dan garis dagu: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/056/816/890/0568168909b7f01d2f70f6e58faa9ed9.jpg"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">8. Landmark yang ditemukan oleh dlib ditumpangkan di wajah saya</font></i> <br><br>  Kemudian dalam skrip ini kami mengekstrak hanya area mata. <br><br>  Pindah, mari kita cari wajah: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#       image = cv2.imread(args["image"]) (H, W) = image.shape[:2] blob = cv2.dnn.blobFromImage(cv2.resize(image, (300, 300)), 1.0, (300, 300), (104.0, 177.0, 123.0)) #        print("[INFO] computing object detections...") detector.setInput(blob) detections = detector.forward() #       ,  #  ,      i = np.argmax(detections[0, 0, :, 2]) confidence = detections[0, 0, i, 2] #    if confidence &lt; config["min_confidence"]: print("[INFO] no reliable faces found") sys.exit(0)</span></span></code> </pre> <br>  Dalam blok ini kita melakukan hal berikut: <br><br><ul><li>  Unduh <code>image</code> aslinya. </li><li>  Kami membangun <code>blob</code> untuk dikirim ke detektor wajah jaringan saraf.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Artikel ini</a> menjelaskan cara kerja <code>blobFromImage</code> dari OpenCV. </li><li>  Lakukan prosedur deteksi wajah. </li><li>  Kami menemukan orang dengan nilai probabilitas tertinggi dan membandingkannya dengan batas probabilitas minimum yang dapat diterima.  Jika kriteria tidak terpenuhi, keluar saja dari skrip.  Kalau tidak, lanjutkan. </li></ul><br>  Sekarang kita akan mengekstrak wajah dan menghitung landmark: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#   (x, y)  #    box = detections[0, 0, i, 3:7] * np.array([W, H, W, H]) (startX, startY, endX, endY) = box.astype("int") #    dlib    #       rect = dlib.rectangle(int(startX), int(startY), int(endX), int(endY)) shape = predictor(image, rect) shape = face_utils.shape_to_np(shape) #        ,  #     (lStart, lEnd) = face_utils.FACIAL_LANDMARKS_IDXS["left_eye"] (rStart, rEnd) = face_utils.FACIAL_LANDMARKS_IDXS["right_eye"] leftEyePts = shape[lStart:lEnd] rightEyePts = shape[rStart:rEnd]</span></span></code> </pre> <br>  Untuk mengekstrak wajah dan menemukan landmark wajah, kami melakukan hal berikut: <br><br><ul><li>  Kami mengekstrak koordinat kotak pembatas di sekitar wajah. </li><li>  Buat objek <code>rectangle</code> di dlib dan terapkan lokalisasi wajah. </li><li>  Kami mengambil masing-masing koordinat <i>(x, y)</i> dari <code>leftEyePts</code> dan <code>rightEyePts</code> . </li></ul><br>  Diberikan koordinat mata, Anda dapat menghitung di mana dan bagaimana menempatkan kacamata hitam: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#       leftEyeCenter = leftEyePts.mean(axis=0).astype("int") rightEyeCenter = rightEyePts.mean(axis=0).astype("int") #      dY = rightEyeCenter[1] - leftEyeCenter[1] dX = rightEyeCenter[0] - leftEyeCenter[0] angle = np.degrees(np.arctan2(dY, dX)) - 180 #      ,  #      sg = imutils.rotate_bound(sg, angle) #     **  ,    #   —       # 90%       sgW = int((endX - startX) * 0.9) sg = imutils.resize(sg, width=sgW) #      ( ,   #  ),      #     - —   #       , #     sgMask = cv2.cvtColor(sgMask, cv2.COLOR_BGR2GRAY) sgMask = cv2.threshold(sgMask, 0, 255, cv2.THRESH_BINARY)[1] sgMask = imutils.rotate_bound(sgMask, angle) sgMask = imutils.resize(sgMask, width=sgW, inter=cv2.INTER_NEAREST)</span></span></code> </pre> <br>  Pertama, kita menghitung pusat masing-masing mata, lalu sudut antara centroid.  Operasi yang sama dilakukan dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">penyelarasan wajah</a> secara horizontal <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dalam bingkai</a> . <br><br>  Sekarang Anda dapat memutar dan mengubah ukuran kacamata.  Perhatikan bahwa kami menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">fungsi rotate_bound</a> , bukan hanya <code>rotate</code> , sehingga OpenCV tidak memangkas bagian yang tidak terlihat setelah konversi affine. <br><br>  Operasi yang sama yang diterapkan pada kacamata, berlaku pada topeng.  Tetapi pertama-tama Anda perlu mengubahnya menjadi nuansa abu-abu dan binarize, karena topeng selalu biner.  Lalu kami memutar dan mengubah ukuran topeng dengan cara yang sama seperti yang kami lakukan dengan kacamata. <br><br>  <i><b>Catatan:</b> perhatikan bahwa ketika mengubah ukuran topeng, kami menggunakan interpolasi untuk titik tetangga terdekat, karena topeng hanya memiliki dua nilai (0 dan 255).</i>  <i>Metode interpolasi lainnya lebih estetika, tetapi tidak cocok untuk masker.</i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Di sini</a> Anda bisa mendapatkan informasi tambahan tentang interpolasi di titik terdekat terdekat.</i> <br><br>  Tiga blok kode yang tersisa membuat bingkai untuk animasi GIF: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#    ,   #  N       #    steps = np.linspace(0, rightEyeCenter[1], config["steps"], dtype="int") # start looping over the steps for (i, y) in enumerate(steps): #      #  ,    **    #  ,       #   shiftX = int(sg.shape[1] * 0.25) shiftY = int(sg.shape[0] * 0.35) y = max(0, y - shiftY) # add the sunglasses to the image output = overlay_image(image, sg, sgMask, (rightEyeCenter[0] - shiftX, y))</span></span></code> </pre> <br>  Kacamata jatuh dari bagian atas gambar.  Pada setiap bingkai, mereka ditampilkan lebih dekat ke wajah hingga menutupi mata mereka.  Menggunakan variabel <code>"steps"</code> dalam file konfigurasi JSON, kami menghasilkan koordinat y untuk setiap frame.  Untuk melakukan ini, kami menggunakan fungsi <code>linspace</code> dari NumPy tanpa banyak usaha. <br><br>  Garis dengan sedikit pergeseran ke kiri dan ke atas mungkin tampak sedikit aneh, tetapi mereka diperlukan untuk memastikan bahwa kacamata menutupi mata secara keseluruhan, dan tidak hanya bergerak ke titik di mana pusat mata berada.  Saya menentukan persentase secara empiris untuk menghitung offset di sepanjang setiap sumbu.  Baris berikutnya memastikan tidak ada nilai negatif. <br><br>  Dengan menggunakan fungsi <code>overlay_image</code> , <code>overlay_image</code> menghasilkan frame <code>output</code> akhir. <br><br>  Sekarang terapkan teks "DEAL WITH IT" menggunakan mask lain: <br><br><pre> <code class="python hljs"> <span class="hljs-comment"><span class="hljs-comment">#    ,    #  "DEAL WITH IT"   if i == len(steps) - 1: #   "DEAL WITH IT"  , #   dwi = cv2.imread(config["deal_with_it"]) dwiMask = cv2.imread(config["deal_with_it_mask"]) dwiMask = cv2.cvtColor(dwiMask, cv2.COLOR_BGR2GRAY) dwiMask = cv2.threshold(dwiMask, 0, 255, cv2.THRESH_BINARY)[1] #       80%   #  oW = int(W * 0.8) dwi = imutils.resize(dwi, width=oW) dwiMask = imutils.resize(dwiMask, width=oW, inter=cv2.INTER_NEAREST) #  ,   ,  #   oX = int(W * 0.1) oY = int(H * 0.8) output = overlay_image(output, dwi, dwiMask, (oX, oY))</span></span></code> </pre> <br>  Pada langkah terakhir kita memaksakan teks, yang pada kenyataannya adalah gambar lain. <br><br>  Saya memutuskan untuk menggunakan gambar karena kemampuan rendering font OpenCV sangat terbatas.  Selain itu, saya ingin menambahkan bayangan dan perbatasan di sekitar teks, yang lagi-lagi OpenCV tidak bisa. <br><br>  Di sisa kode ini, kami memuat gambar dan topeng, dan kemudian melakukan alpha blending untuk menghasilkan hasil akhir. <br><br>  Tetap hanya menyimpan setiap frame ke disk dengan kreasi animasi GIF berikutnya: <br><br><pre> <code class="python hljs"> <span class="hljs-comment"><span class="hljs-comment">#      p = os.path.sep.join([config["temp_dir"], "{}.jpg".format( str(i).zfill(8))]) cv2.imwrite(p, output) #      ,     #   GIF- print("[INFO] creating GIF...") create_gif(config["temp_dir"], args["output"], config["delay"], config["final_delay"], config["loop"]) #  --    print("[INFO] cleaning up...") shutil.rmtree(config["temp_dir"], ignore_errors=True)</span></span></code> </pre> <br>  Kami menulis hasilnya ke disk.  Setelah membuat semua frame, kita memanggil fungsi <code>create_gif</code> untuk membuat file animasi GIF.  Ingat bahwa ini adalah shell yang meneruskan parameter ke alat baris perintah <code>convert</code> ImageMagick. <br><br>  Akhirnya, hapus direktori keluaran sementara dan file gambar individual. <br><br><h2>  Hasil </h2><br>  Sekarang bagian yang menyenangkan: mari kita lihat apa yang dihasilkan generator meme kami! <br><br>  Pastikan untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengunduh</a> kode sumber, gambar contoh, dan model pembelajaran dalam.  Kemudian buka terminal dan jalankan perintah berikut: <br><br><pre> <code class="bash hljs">$ python create_gif.py --config config.json --image images/adrian.jpg \ --output adrian_out.gif [INFO] loading models... [INFO] computing object detections... [INFO] creating GIF... [INFO] cleaning up...</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/dca/b24/46e/dcab2446ec5dc96065e37a473375eea6.gif"><br>  <i><font color="gray">Gambar 9. Animasi GIF yang dihasilkan dengan OpenCV dan ImageMagick dengan skrip Python ini</font></i> <br><br>  Di sini Anda dapat melihat GIF dibuat menggunakan OpenCV dan ImageMagick.  Tindakan berikut dilakukan di atasnya: <br><br><ol><li>  Deteksi wajah saya yang benar. </li><li>  Lokalisasi mata dan perhitungan pusat mereka. </li><li>  Kacamata jatuh tepat di wajah. </li></ol><br>  Pembaca blog saya tahu bahwa saya kutu buku besar di Jurassic Park dan sering menyebutkannya di buku, kursus, dan panduan belajar saya. <br><br>  Tidak suka <i>Jurassic Park</i> ? <br><br>  Ok, inilah jawaban saya: <br><br><pre> <code class="bash hljs">$ python create_gif.py --config config.json --image images/adrian_jp.jpg \ --output adrian_jp_out.gif [INFO] loading models... [INFO] computing object detections... [INFO] creating GIF... [INFO] cleaning up...</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/da9/0d7/740/da90d7740e8ac813b9f99a727b9e04bc.gif"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">10. Animasi OpenCV GIF berdasarkan foto dari pemutaran terbaru Jurassic World 2</font></i> <br><br>  Di sini saya di acara "Jurassic World: 2" dengan T-shirt tematik, dengan segelas cahaya dan buku koleksi. <br><br>  Cerita menyenangkan: <br><br>  Lima atau enam tahun yang lalu, saya dan istri saya mengunjungi taman hiburan Epcot Center di Disney World, Florida. <br><br>  Kami memutuskan untuk melakukan perjalanan untuk menjauh dari musim dingin yang keras di Connecticut, dan sangat membutuhkan sinar matahari. <br><br>  Sayangnya, di Florida hujan turun terus-menerus, dan suhunya hampir tidak melebihi 10 ° C. <br><br>  Di dekat Taman Kanada, Trisha mengambil foto saya: dia berkata bahwa saya terlihat seperti vampir dengan kulit pucat, pakaian gelap dan kerudung, dengan latar belakang taman yang rimbun di belakang: <br><br><pre> <code class="bash hljs">$ python create_gif.py --config config.json --image images/vampire.jpg \ --output vampire_out.gif [INFO] loading models... [INFO] computing object detections... [INFO] creating GIF... [INFO] cleaning up...</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/ad1/1ce/ca2/ad11ceca2ed48792a5aa28c0c8dc7f40.gif"><br>  <i><font color="gray">Fig.</font></i>  <i><font color="gray">11. Menggunakan OpenCV dan Python, Anda dapat membuat meme ini atau GIF animasi lainnya</font></i> <br><br>  Malam itu juga, Trisha menerbitkan foto di jejaring sosial - saya harus tahan dengan itu. <br><br>  Anda yang menghadiri PyImageConf 2018 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">baca ulasannya</a> ) tahu bahwa saya selalu terbuka untuk lelucon.  Berikut ini sebuah contoh: <br><br>  <i>Pertanyaan: Mengapa ayam jago menyeberang jalan?</i> <br><br><pre> <code class="bash hljs">$ python create_gif.py --config config.json --image images/rooster.jpg \ --output rooster_out.gif [INFO] loading models... [INFO] computing object detections... [INFO] creating GIF... [INFO] cleaning up...</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/5dd/e92/ef0/5dde92ef04cb35436e87b0b70cc5926d.gif"><br>  <i><font color="gray">Fig.</font></i> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12. Wajah dikenali bahkan dengan kontras rendah, dan OpenCV memproses foto dengan benar dan menurunkan kacamata hitam.</font></font></font></i> <br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jawab: Saya tidak akan mengatakan jawabannya - tahan dengan ini. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Akhirnya, kami menyimpulkan panduan hari ini dengan meme yang bagus. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sekitar enam tahun yang lalu, ayah saya dan saya mengadopsi seekor beagle kecil, Gemma. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di sini Anda dapat melihat Gemma di bahu saya:</font></font><br><br><pre> <code class="bash hljs">$ python create_gif.py --config config.json --image images/pupper.jpg \ --output pupper_out.gif [INFO] loading models... [INFO] computing object detections... [INFO] creating GIF... [INFO] cleaning up...</code> </pre> <br><img src="https://habrastorage.org/getpro/habr/post_images/08a/b5a/728/08ab5a728e8bd48ac2550a2962e76165.gif"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">13. Gemma enak. </font><font style="vertical-align: inherit;">Tidakkah begitu? </font><font style="vertical-align: inherit;">Lalu "setujui itu!" </font></font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tidak setuju bahwa dia lucu? </font><font style="vertical-align: inherit;">Menghadapinya.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Punya Kesalahan AttributeError? </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jangan khawatir! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda melihat kesalahan ini:</font></font><br><br><pre> <code class="bash hljs">$ python create_gif.py --config config.json --image images/adrian.jpg \ --output adrian_out.gif ... Traceback (most recent call last): File <span class="hljs-string"><span class="hljs-string">"create_gif.py"</span></span>, line 142, <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> &lt;module&gt; (lStart, lEnd) = face_utils.FACIAL_LANDMARKS_IDXS[<span class="hljs-string"><span class="hljs-string">"left_eye"</span></span>] AttributeError: module <span class="hljs-string"><span class="hljs-string">'imutils.face_utils'</span></span> has no attribute <span class="hljs-string"><span class="hljs-string">'FACIAL_LANDMARKS_IDXS'</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ... maka Anda hanya perlu memperbarui paket imutils: </font></font><br><br><pre> <code class="bash hljs">$ pip install --upgrade imutils Collecting imutils ... Successfully installed imutils-0.5.1</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengapa </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secara default, ia </font></font><code>imutils.face_utils</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan detektor landmark 68 titik yang dibangun ke dalam dlib (seperti dalam artikel ini). </font><font style="vertical-align: inherit;">Ada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">detektor 5-poin yang lebih cepat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang sekarang juga berfungsi dengan imutils. </font><font style="vertical-align: inherit;">Saya baru-baru ini memperbarui imutils untuk mendukung kedua detektor (sehingga Anda mungkin melihat kesalahan).</font></font><br><br><h1>  Ringkasan </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam tutorial hari ini, Anda belajar cara membuat GIF menggunakan OpenCV. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Untuk membuat pelajaran menjadi menyenangkan, kami menggunakan OpenCV untuk membuat animasi GIF "Deal With It", sebuah meme populer (dan favorit saya) yang ditemukan dalam satu atau lain bentuk di hampir setiap situs jejaring sosial. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam prosesnya, kami menggunakan visi komputer dan pembelajaran mendalam untuk memecahkan beberapa masalah praktis:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Identifikasi orang </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Perkirakan landmark di wajah </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Identifikasi area wajah (dalam hal ini, mata) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Perhitungan sudut antara mata untuk menyelaraskan wajah </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Buat campuran transparan dengan alpha blending </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Akhirnya, kami mengambil satu set gambar yang dihasilkan dan membuat GIF animasi menggunakan OpenCV dan ImageMagick. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya harap Anda menikmati tutorial hari ini! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda menyukainya, silakan tinggalkan komentar dan beri tahu saya. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nah, jika Anda tidak menyukainya, itu tidak masalah, cukup tahan.</font></font> ;) </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id429024/">https://habr.com/ru/post/id429024/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id429014/index.html">Git subtree secara detail</a></li>
<li><a href="../id429016/index.html">Volvo dan Baidu akan mengembangkan kendaraan tanpa awak bersama</a></li>
<li><a href="../id429018/index.html">Mengapa desain Gmail baru begitu lambat?</a></li>
<li><a href="../id429020/index.html">Apa itu setter yang fasih</a></li>
<li><a href="../id429022/index.html">GridGain on Highload: tempat berbicara tentang DBMS, In-Memory, dan sumber terbuka yang didistribusikan</a></li>
<li><a href="../id429028/index.html">Korolev. Obat untuk web</a></li>
<li><a href="../id429030/index.html">Logomachine membuat logo gratis per komentar</a></li>
<li><a href="../id429032/index.html">Splunk Essentials untuk Aplikasi Industri Layanan Keuangan, atau bagaimana Splunk memasuki pasar analitik keuangan</a></li>
<li><a href="../id429034/index.html">Beberapa cerita tentang programmer bawah tanah</a></li>
<li><a href="../id429036/index.html">Percayalah, saya tahu apa yang saya lakukan: adaptasi otomatis dari robot modular ke lingkungan pelaksanaan tugas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>