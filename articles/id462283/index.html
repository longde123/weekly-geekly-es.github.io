<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍛 👉🏻 🕵️ GAZ-66 mainan di panel kontrol. Bagian 1 🐨 ✌🏽 ☹️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Beberapa tahun terakhir saya ingin mendapatkan mainan di panel kontrol dan selalu dengan video. Tapi jangan beli yang sudah jadi, tapi lakukan sendiri...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>GAZ-66 mainan di panel kontrol. Bagian 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462283/"><img alt="utama" width="700" src="https://habrastorage.org/webt/rz/l8/s0/rzl8s0pnehcut_fbc7adfyu9kvy.jpeg"><br><p>  Beberapa tahun terakhir saya ingin mendapatkan mainan di panel kontrol dan selalu dengan video.  Tapi jangan beli yang sudah jadi, tapi lakukan sendiri.  Dan pada akhirnya saya memesan sendiri mainan semacam itu, dengan sistem kontrol yang sederhana, tetapi potensi besar untuk modernisasi.  Butuh ~ 9 bulan untuk menyelesaikan semua pekerjaan dari awal hingga hampir selesai.  Untuk sebagian besar waktu ini, komponen dari China sedang menunggu. <br>  Saya menulis sebagian besar artikel untuk diri saya sendiri, sehingga di masa depan saya tidak melupakan apa yang saya lakukan, bagaimana, mengapa dan mengapa. <br>  Ini akan berisi dua bagian utama: perangkat keras dan perangkat lunak, dan mungkin bagian lain tentang tata letak besi.  Pertama, saya akan menjelaskan perangkat keras, dari mana saya kumpulkan, masalah apa yang saya temui dan bagaimana saya menyelesaikannya. </p><a name="habracut"></a><br><h3 id="1-apparatnaya-chast">  1. Perangkat Keras </h3><br><p>  Sistem terdiri dari panel kontrol dan peralatan yang dipasang pada mesin tik.  Mari kita pertimbangkan secara lebih detail. </p><br><h4 id="11-pult-upravleniya">  1.1 Panel Kontrol </h4><br><p>  Komponen </p><br><ul><li>  Raspberry pi 3 </li><li>  ADS1115 ADC </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Topi permainan</a> </li></ul><br><h4 id="game-hat">  Topi permainan </h4><br><p>  Game HAT dipilih karena  Ini adalah solusi turnkey yang menggabungkan layar, joystick, dan keyboard yang cukup untuk mengendalikan mesin. </p><br><img alt="Topi permainan" width="400" src="https://habrastorage.org/webt/ku/cy/16/kucy16tjvivlokfhjnm1evobwis.jpeg"><br><p>  Joystick di papan ini adalah KY-023.  Dia memutuskan untuk menggunakan bukannya setir.  Tetapi ternyata Raspberry tidak memiliki ADC dan satu-satunya nilai yang dapat diperoleh darinya adalah 0 dan 1, yang jelas tidak cukup untuk rotasi roda yang mulus. </p><br><img alt="KY-023" width="200" src="https://habrastorage.org/webt/kn/qb/oe/knqboerydcnmgjguaidv8ctyycg.jpeg"><br><h4 id="ads1115">  ADS1115 </h4><br><p>  Masalah ini diselesaikan oleh modul ADS1115. </p><br><img alt="ADS1115" width="200" src="https://habrastorage.org/webt/_r/8n/f-/_r8nf-9rsvzupsigrs2f7q2k59a.jpeg"><br><p>  Modul disolder ke Game HAT dan dilampirkan menggunakan pita 3M.  Pembacaan diambil dari kaki tengah variabel resistor pada joystick.  Ini terlihat seperti ini: </p><br><img alt="Topi gim saya" width="600" src="https://habrastorage.org/webt/0v/zx/yt/0vzxythizaow9qadldo2mdvma7w.jpeg"><br><p>  Joystick juga disolder ke dalam Game HAT.  Kabel disolder ke konektor Game HAT, yang sesuai dengan konektor daya dan I2C pada Raspberry.  Diagram pengkabelan: </p><br><img alt="jauh" width="800" src="https://habrastorage.org/webt/x3/7g/nc/x37gnce-kbcv8ec9shm0par52ai.jpeg"><br><p>  Ini melengkapi koleksi perangkat keras dari panel kontrol.  Dari luar, dia tidak mengalami perubahan yang terlihat. </p><br><h4 id="12-mashinka">  1.2 Mesin </h4><br><p>  Bagaimana semuanya terlihat mengerikan di bawah tenda: </p><br><img alt="mobil" width="800" src="https://habrastorage.org/webt/mi/mw/ii/mimwiiy-4lj44y5ag-lpmp4rfb8.jpeg"><br><p>  Mari kita perbaiki. </p><br><p>  Komponen </p><br><ul><li>  Raspberry pi 3 </li><li>  Raspberry Pi Camera v2 NoIR </li><li>  PCA9685 Generator PWM </li><li>  Pengonversi daya step-down mini-360 </li><li>  BMS CF-4S30A-A pengendali biaya </li><li>  L298N driver kontrol motor </li><li>  Papan kontrol lampu saya berdasarkan driver L293 </li><li>  3 baterai lithium-ion 18650 </li><li>  370 motor </li><li>  DI-1181MG Servo </li></ul><br><h4 id="pitanie">  Nutrisi </h4><br><p>  Mari kita mulai dari catu daya, disediakan oleh tiga 18650 baterai yang terhubung secara seri dan memberikan ~ 12 volt. <br>  Baterai terhubung melalui papan BMS CF-4S30A-A sehingga dapat diisi dan tidak habis hingga nol pada pokatushki. </p><br><img alt="4S 40A BMS" width="200" src="https://habrastorage.org/webt/xt/q0/_k/xtq0_k_ycvqpeuivas6r8jnbgpw.jpeg"><br><p>  Tetapi papan ini dirancang untuk 4 baterai, jadi itu diperbaiki untuk bekerja dengan 3 baterai.  Mengapa dia diambil, dan bukan 3S 40A BMS.  Karena dia sudah dekat. </p><br><p>  Skema perubahan: </p><br><img alt="4S 40A BMS" width="450" src="https://habrastorage.org/webt/nl/li/-y/nlli-yxzn84k_lmtodkhozqaeog.jpeg"><br><p>  Tegangan ini memberi makan motor 370 melalui driver L298N. </p><br><img alt="370" width="300" src="https://habrastorage.org/webt/s6/9b/of/s69bof6t16zmpse8jn29at93ifa.jpeg"><br><img alt="L298N" width="300" src="https://habrastorage.org/webt/_l/vi/t4/_lvit4ox1-doo6kw8mjpixsvkny.jpeg"><br><p>  Untuk menyalakan Raspberry, tegangan dari baterai yang sama digunakan, tetapi tegangan dikurangi dengan modul Mini-360 menjadi 5 volt. </p><br><img alt="mini-360" width="200" src="https://habrastorage.org/webt/ag/zn/ra/agznrap593x3j6t4doyakiukgzo.jpeg"><br><p>  Raspberry bertenaga tepat di kakinya. </p><br><h4 id="dvizhenie">  Gerakan </h4><br><p>  Sekarang mari kita bicara tentang bagaimana mobil itu dikendarai.  Untuk mengontrol mekanisme kemudi, drive servo DI-1181MG digunakan, yang dikendalikan menggunakan PCA9685.  PCA9685 juga bertanggung jawab untuk mengendalikan motor dengan menyesuaikan kecepatan dan arah putarannya melalui driver L298N.  Raspberry juga mengontrol PCA9685 pada bus I2C.  PCA9685 ditenagai oleh 5 volt dengan konverter buck.  Ini cukup untuk servos dan kontrol motor.  Motor terhubung ke dua output L298N untuk menambah daya. </p><br><img alt="DI-1181MG" width="170" src="https://habrastorage.org/webt/km/wm/_b/kmwm_b7oben_iuu1rhyntdu7bru.jpeg"><br><img alt="PCA9685" width="200" src="https://habrastorage.org/webt/zr/3k/k2/zr3kk2nhhqub8p63mmo0ghelcea.jpeg"><br><h4 id="video">  Video </h4><br><p>  Untuk video yang saya gunakan Camera v2 NoIR, mudah terhubung ke Raspberry.  Tetapi ada beberapa perbaikan.  Putaran standar kamera adalah 15 cm, yang tidak cukup untuk pekerjaan instalasi.  Loop ini juga non-standar, memiliki 15 pin.  Di aliexpress, untuk satu putaran panjang untuk kamera ini, orang Cina menginginkan lebih dari 1000 rubel.  Oleh karena itu, satu set 10 loop 16 pin standar ~ untuk 300 rubel dibeli.  Dan dengan bantuan teknologi teknologi tinggi untuk menggunakan gunting kantor, kabel 15-pin untuk kamera telah dipasang kembali. </p><br><img alt="kamera" width="300" src="https://habrastorage.org/webt/1m/vl/am/1mvlamazfobyscudex2p3xx7d6i.jpeg"><br><img alt="tali" width="300" src="https://habrastorage.org/webt/-t/jp/uv/-tjpuv287l5c191kgkjdee_nawm.jpeg"><br><p>  Pada saat penulisan, bulan ke-2 saya sedang menunggu mount untuk kamera di kabin.  Sejauh ini, mesin hanya menunjukkan langit-langit) </p><br><h4 id="svet">  Cahaya </h4><br><p>  Mesin telah memasang lampu biasa, terdiri dari lampu depan dengan 2 LED kuning.  Tetap hanya untuk memberi mereka kekuatan. <br>  Lampu dikontrol melalui papan saya, yang didasarkan pada driver L293.  Daya ke dioda disuplai melalui resistor.  Papan dibuat menggunakan teknologi LUT.  Ini juga memiliki banyak lagu untuk kabel listrik. <br>  Adalah mungkin untuk menggunakan PCA9685 untuk mengontrol cahaya, pada saat saya mengerjakan sendiri, saya tidak tahu tentang PCA9685 dan dapat melakukannya tanpa itu. </p><br><p>  Papan sirkuit: </p><br><img alt="supir saya" width="500" src="https://habrastorage.org/webt/i0/c1/qx/i0c1qxlmibkwb5yiph3ijkv7d0o.jpeg"><br><p>  Saya akan menyajikan diagram koneksi umum: </p><br><img alt="semua" src="https://habrastorage.org/webt/yi/45/63/yi4563ligy60oj5mzjg_-r2xb9k.jpeg"><br><p>  Tapi inilah yang berdiri di mesin tik sampai saya naik)) </p><br><img alt="tua" width="200" src="https://habrastorage.org/webt/zh/i0/k8/zhi0k8fol1yt0e_wlnglzihgcvq.jpeg"><br><p>  Pada saat penulisan, saya sudah mulai melupakan apa yang saya lakukan dan bagaimana caranya.  Meskipun tidak lebih dari sebulan telah berlalu sejak mount. </p><br><p>  Semuanya ada di perangkat keras.  Dalam artikel saya berikutnya saya akan menjelaskan bagian perangkat lunak tentang cara animasi besi. </p><br><h3 id="blagodarnost">  Terima kasih </h3><br><p>  Rekan kerja saya: Andrei dan Nikolai untuk bantuan dengan besi, Anton dan Eugene untuk membantu dengan video.  Samodelkin-22 untuk LUT papan saya.  Dan Murzik. </p><br><h3 id="ssylki">  Referensi </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 2</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian 3</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id462283/">https://habr.com/ru/post/id462283/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id462271/index.html">Kode kunci di iOS: bagaimana Apple beralih dari pertahanan ke pertahanan untuk menjaga satu perbatasan</a></li>
<li><a href="../id462273/index.html">Kelola dudukan laptop Anda dengan digispark</a></li>
<li><a href="../id462275/index.html">Memperkenalkan PVS-Studio Static Analyzer untuk Java</a></li>
<li><a href="../id462277/index.html">Rilis Tech Mail.ru Group 2019</a></li>
<li><a href="../id462279/index.html">Membangun corong perilaku dalam bahasa R, berdasarkan data yang diperoleh dari Yandex.Metrica Logs API</a></li>
<li><a href="../id462293/index.html">Bagaimana Teknologi Pengembangan yang Cepat Dapat Menjadi Sumber Kerentanan yang Tidak Menyenangkan</a></li>
<li><a href="../id462295/index.html">Ukuran direktori tidak sepadan dengan usaha kami</a></li>
<li><a href="../id462297/index.html">Habr Weekly # 12 / OneWeb, stasiun melawan agregator, gaji di IT, "sayang, kami bunuh Internet" tidak diizinkan di Federasi Rusia</a></li>
<li><a href="../id462299/index.html">Pembulatan ke Seluruh dalam. NET</a></li>
<li><a href="../id462301/index.html">Rahasia, kiat, trik: cara membuat aksi keren untuk Google Assistant</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>