<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üç≤ üî∞ üçô Fa√ßa voc√™ mesmo anima√ß√µes em Flash no Unity3D. Parte Um, L√≠rico ü¶Å üë©‚Äç‚öñÔ∏è üë©üèº‚Äçü§ù‚Äçüë®üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nesta s√©rie de artigos, falarei sobre como e por que decidimos criar nossa pr√≥pria solu√ß√£o para importar anima√ß√µes em flash para o Unity, sobre otimiz...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fa√ßa voc√™ mesmo anima√ß√µes em Flash no Unity3D. Parte Um, L√≠rico</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443524/"><p>  Nesta s√©rie de artigos, falarei sobre como e por que decidimos criar nossa pr√≥pria solu√ß√£o para importar anima√ß√µes em flash para o Unity, sobre otimiza√ß√µes e a cozinha interna do plug-in resultante.  E tamb√©m no programa: uma hist√≥ria sobre o interior do formato swf, os recursos da extens√£o do editor do Unity e geralmente sobre anima√ß√µes em geral.  Eu pe√ßo um corte! </p><br><img src="https://habrastorage.org/webt/q3/4s/r_/q34sr_45c9c6d5lygnzixa7jhwy.png"><br><a name="habracut"></a><br><h2>  1. Introdu√ß√£o </h2><br><p> No in√≠cio de qualquer projeto, est√£o as dores da escolha da tecnologia para muitas de suas partes.  Uma dessas partes √© o sistema de anima√ß√£o.  Existem v√°rias vari√°veis ‚Äã‚Äãdas quais essa escolha depende.  Em primeiro lugar, com o que seus animadores costumam trabalhar (ou podem) ou com quais ferramentas esses animadores s√£o mais f√°ceis de encontrar.  √â claro que n√£o faz sentido escolher um produto extremamente espec√≠fico, porque se os funcion√°rios atuais deixarem por um motivo ou outro (um √¥nibus repentino?), Ser√° extremamente dif√≠cil substitu√≠-los, parte do projeto simplesmente parar√° indefinidamente, o que, no caso de um produto comercial pode ser muito caro.  A segunda vari√°vel √© mais t√©cnica: integra√ß√£o ao seu mecanismo.  Existem solu√ß√µes de terceiros e a qualidade dessas solu√ß√µes, existe alguma for√ßa e capacidade de criar as minhas, al√©m da produtividade e conveni√™ncia de todas as op√ß√µes acima?  Bem, a terceira vari√°vel s√£o os recursos dessa ferramenta, porque se voc√™ precisar de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cinem√°tica inversa</a> , √© absolutamente estranho escolher anima√ß√£o n√£o esquel√©tica. </p><br><h2>  Tipos de anima√ß√µes 2D </h2><br><p>  Considere as op√ß√µes mais populares para implementar anima√ß√µes em jogos.  Vou falar apenas de anima√ß√µes 2D, 3D - este √© o t√≥pico de uma conversa, abordagens e ferramentas completamente diferentes.  Voc√™ pode pular com seguran√ßa uma se√ß√£o se for mais experiente nessas quest√µes (n√£o haver√° revela√ß√µes nem avarias no v√©u), ou se pretendeu ir ver os recursos de apenas anima√ß√µes em flash, elas est√£o abaixo. </p><br><h3>  Anima√ß√µes de quadros </h3><br><p>  Nossa mini-revis√£o √© aberta com o tipo de anima√ß√£o mais simples e mais antigo: anima√ß√£o quadro a quadro.  Cada quadro de tal anima√ß√£o √© representado por uma imagem separada, com uma r√°pida mudan√ßa da qual surge uma ilus√£o de movimento. </p><br><p>  <strong>Pr√≥s:</strong> </p><br><p>  Uma implementa√ß√£o elementar, geralmente em qualquer mecanismo.  Qualquer complexidade e estilo de anima√ß√£o, pelo menos, exp√µe e insere um filme em quadros (em teoria, √© claro).  Qualquer ferramenta: quase tudo pode fornecer uma sequ√™ncia de quadros que, se necess√°rio, podem ser colados em um atlas de textura. </p><br><p>  <strong>Contras:</strong> </p><br><p>  O principal menos √©, obviamente, o tamanho dessas coisas na mem√≥ria.  Naturalmente, existem todos os tipos de truques, como cortar quadros em blocos e subsequente reutiliza√ß√£o de blocos repetidos, carregamento em segundo plano de quadros do disco e libera√ß√£o j√° mostrados, entre outros.  Mas esses truques t√™m suas desvantagens.  A divis√£o de blocos - adequada apenas para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pixel art</a> , carregamento em segundo plano - cria carga adicional no disco, ocupa muito espa√ßo nesse disco e o tamanho do seu jogo aumenta, assim como a quantidade de dados baixados para iniciar ou atualizar. </p><br><p>  <strong>Total:</strong> </p><br><p>  Adequado apenas para anima√ß√µes de tamanho pequeno e n√∫mero de quadros, ideal para pixel art e o estilo de jogos retr√¥ √† la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NES</a> . </p><br><h3>  Anima√ß√µes em v√≠deo </h3><br><p>  Como apoteose da loucura das anima√ß√µes quadro a quadro, aparecem as anima√ß√µes em v√≠deo.  E sim, √© usado e at√© ocasionalmente para o local.  Implementamos isso para jogos no g√™nero " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Hidden Object</a> ", para anima√ß√µes grandes e complexas, bem como para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">cenas cortadas</a> com um toque de realismo.  Com a ajuda de codecs como <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">theora</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vp8,</a> voc√™ pode implementar anima√ß√µes de v√≠deo bastante toler√°veis ‚Äã‚Äã(e mesmo com um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">canal alfa</a> ). </p><br><p>  As vantagens aqui, √© claro, s√£o que voc√™ pode mostrar em tais anima√ß√µes tudo o que seu cora√ß√£o deseja, desde cenas dirigidas com a participa√ß√£o de atores reais at√© batalhas em 3D renderizadas.  As desvantagens s√£o a carga selvagem na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CPU</a> ao decodificar isso e, √© claro, a qualidade da imagem.  Voc√™ pode encontrar um compromisso entre qualidade e desempenho em casos muito limitados e espec√≠ficos, como nos jogos indicados acima para Objetos Ocultos, por exemplo. </p><br><p>  Em geral, est√° longe de ser adequado para todos e longe de sempre, ou melhor, quase nunca, se n√£o considerarmos cenas cortadas renderizadas - onde √© o lugar para essas "anima√ß√µes".  Uma boa implementa√ß√£o de tais anima√ß√µes tamb√©m n√£o pode se vangloriar de simplicidade, h√° muitas nuances e truques, tanto em termos da qualidade da imagem de sa√≠da quanto das cargas recebidas no processador central.  Devido √† especificidade, existem poucas implementa√ß√µes prontas, elas tamb√©m n√£o diferem na qualidade ou custam muito dinheiro (oi, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Bink_Video</a> ), muitas escrevem por conta pr√≥pria. </p><br><h3>  Anima√ß√µes esquel√©ticas </h3><br><p>  Ent√£o chegamos aos tipos populares e modernos de anima√ß√µes 2D.  As anima√ß√µes esquel√©ticas capturam cada vez mais os cora√ß√µes e mentes dos desenvolvedores no campo de 2D, tornando-se a anima√ß√£o padr√£o para jogos.  √â engra√ßado que eles tenham aparecido t√£o amplamente em 2D recentemente, diferentemente da 3D, onde apareceram durante o tempo de King Peas, quando os pais escreveram <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Half-Life</a> .  A ess√™ncia das anima√ß√µes esquel√©ticas, curiosamente, est√° no esqueleto, que cria um animador a partir de ossos conectados entre si por uma estrutura de √°rvore.  Fragmentos s√£o anexados aos ossos na forma de figuras separadas.  Toda a estrutura √© acionada por deslocamentos e rota√ß√µes dos ossos um em rela√ß√£o ao outro.  Os deslocamentos e rota√ß√µes dos ossos no esqueleto seguem a linha do tempo geral da anima√ß√£o. </p><br><p>  As vantagens s√£o √≥bvias: n√£o precisamos armazenar cada quadro da anima√ß√£o na forma de figuras separadas, apenas fragmentos (os bra√ßos e as pernas do personagem, por exemplo), que moveremos os ossos do esqueleto.  Existem excelentes implementa√ß√µes desse tipo de anima√ß√£o com tempos de execu√ß√£o para as plataformas e mecanismos necess√°rios, com um pre√ßo razo√°vel de uso ou mesmo gratuito: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Spine</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Spriter</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Anima2D</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">DragonBones</a> e outros.  Gra√ßas ao esqueleto e suas caracter√≠sticas, √© poss√≠vel obter uma suavidade colossal das anima√ß√µes interpolando as posi√ß√µes de seus ossos, al√©m de misturar transi√ß√µes de anima√ß√£o para anima√ß√£o e at√© misturar duas anima√ß√µes diferentes: disparar em fuga, disparar furtivamente e assim por diante.  N√£o vou listar todas as possibilidades de anima√ß√£o esquel√©tica, existem muitas e s√£o muito legais.  √â melhor fornecer um link em que eles sejam mostrados claramente com fotos e descri√ß√µes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no site da Spine</a> . </p><br><p>  Parece uma bala de prata, mas n√£o.  Houve alguns pontos negativos.  Fa√ßa imediatamente uma reserva que, para muitos projetos e anima√ß√µes, essas desvantagens podem n√£o existir.  Se as anima√ß√µes esquel√©ticas combinam com voc√™ - √© √≥timo, use-as, elas s√£o lindas e modernas. </p><br><p>  Vamos voltar aos pontos negativos.  Um est√°gio adicional na cria√ß√£o de anima√ß√£o √© o rig (ou o rigging, como muitos termos em nossa ind√∫stria, tamb√©m foi russificado).  A pr√≥pria cria√ß√£o do esqueleto e a liga√ß√£o dos ossos aos fragmentos.  Se o objeto tiver uma anima√ß√£o, e n√£o v√°rias, como, por exemplo, o personagem do jogo no g√™nero " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Platformer</a> ", o palco ser√° completamente sup√©rfluo.  Nem todas as anima√ß√µes s√£o convenientemente animadas com ossos.  Existem muitas anima√ß√µes em que os ossos atrapalham e, sem elas, √© mais conveniente e r√°pido, tanto em termos de cria√ß√£o quanto em termos de desempenho do jogo.  Um item separado, contratarei especialistas do mercado.  O n√∫mero deles cresce com a popularidade da anima√ß√£o esquel√©tica, mas ainda n√£o √© uma tarefa f√°cil encontr√°-los em sua equipe.  A dispers√£o de ferramentas e ferramentas tamb√©m afeta, algu√©m est√° acostumado e usa um, algu√©m, √© necess√°rio reaprender em movimento, o que cria dificuldades adicionais em encontrar e treinar funcion√°rios. </p><br><h3>  Anima√ß√µes da linha do tempo </h3><br><p>  Levei esse tipo de anima√ß√£o at√© o fim, n√£o porque √© melhor que todos os outros, mas porque s√£o apenas as anima√ß√µes em flash sobre o interior que ser√£o discutidas na parte t√©cnica do artigo.  O Flash n√£o √© o √∫nico representante desse tipo de anima√ß√£o, mas certamente seu l√≠der, portanto tudo ser√° descrito com rela√ß√£o a ele.  As anima√ß√µes da linha do tempo consistem em fragmentos que s√£o animados em camadas separadas em uma linha do tempo.  Quase a mesma coisa que vimos na anima√ß√£o esquel√©tica, mas sem esqueleto.  De acordo com os quadros principais da linha do tempo, podemos mover, girar, substituir, desenhar novos fragmentos nesses quadros e, √© claro, interpolar a hifeniza√ß√£o, a escala e a rota√ß√£o entre eles.  Ou seja, n√£o movemos os ossos com os fragmentos anexados, mas os pr√≥prios fragmentos.  Obviamente, perdemos muitas das oportunidades que as anima√ß√µes esquel√©ticas nos d√£o, mas nem todo mundo precisa delas.  Em troca, adquirimos outros, como: </p><br><ul><li>  a capacidade de desenhar e inserir novos fragmentos no meio da anima√ß√£o; </li><li>  sem plataforma, sem ossos que √†s vezes apenas interferem; </li><li>  O Adobe Flash (agora <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Adobe Animate</a> ) √© a ferramenta de anima√ß√£o mais antiga e comprovada h√° anos; um n√∫mero muito grande de animadores, de uma forma ou de outra, √© o propriet√°rio; </li><li>  a capacidade de usar anima√ß√µes antigas ao traduzir seus projetos em flash para o Unity, incluindo anima√ß√µes feitas em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gr√°ficos vetoriais</a> , e n√£o apenas em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">raster</a> . </li></ul><br><p>  O flash est√° morto?  Como jogador nos navegadores - certamente, como uma ferramenta para anima√ß√µes - viva e bem, n√£o h√° alternativas e n√£o s√£o esperadas.  Contras?  Claro.  O principal ponto negativo √© que isso n√£o √© anima√ß√£o esquel√©tica, hein.  Somos privados da oportunidade de misturar anima√ß√µes entre si, n√£o temos cinem√°tica inversa e recursos semelhantes inerentes apenas ao esqueleto.  Mas temos cronogramas aninhados um no outro, bem como m√°scaras de varredura e vetor!  Todos os animadores adoram m√°scaras!  Aqui, vale ressaltar que no Spine, surgiram muito recentemente recursos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">recorte</a> , mas at√© agora apenas geom√©tricos e muito limitados em compara√ß√£o com m√°scaras de flash. </p><br><h3>  Resumo do Tipo de Anima√ß√£o </h3><br><p>  Naturalmente, n√£o listei todos os tipos de anima√ß√µes, apenas as principais.  Por exemplo, as chamadas anima√ß√µes processuais foram deixadas para tr√°s, quando objetos ou seus fragmentos s√£o acionados apenas por c√≥digo, mas n√£o √© poss√≠vel contrast√°-los com outros, e eu realmente n√£o queria inflar o artigo, √© melhor ver algo mais especializado em anima√ß√µes para completar a imagem. </p><br><p>  Para resumir.  N√£o h√° bala de prata, como sempre e em quase tudo.  Voc√™ precisa escolher o projeto, tarefas e pessoas.  Afinal, ningu√©m restringe ningu√©m a usar um tipo de anima√ß√£o.  Em todos os lugares existem projetos em que todos os tipos de anima√ß√µes s√£o usados ‚Äã‚Äãao mesmo tempo e todos est√£o felizes.  Cenas - v√≠deo, personagens - esqueleto, cen√°rio - linha do tempo, v√¥os de emissores <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">de sistemas de part√≠culas</a> - procedurais, as pr√≥prias part√≠culas em seus sistemas - quadro a quadro.  Tiramos o melhor de cada tipo. </p><br><h2>  A agonia da escolha e a decis√£o de escrever sua pr√≥pria </h2><br><p>  Bem, por algumas raz√µes objetivas, decidimos que precis√°vamos de anima√ß√µes em flash para o nosso projeto.  Surgiu a quest√£o de integr√°-los ao mecanismo.  Depois de experimentar v√°rias op√ß√µes de plug-ins, decidimos por um que nos adequasse √†s suas capacidades, estivesse ativo e em suporte, e tamb√©m tinha um pre√ßo completamente indecente para uma licen√ßa entre licen√ßas, mas voc√™ pode tolerar um bom produto.  Intencionalmente, n√£o cito nomes, para n√£o fazer publicidade ou anti-publicidade a ningu√©m. </p><br><p>  Com este plugin, vivemos quase um ano de desenvolvimento, durante o qual os detalhes foram esclarecidos, que n√£o pudemos usar mais.  Ou seja, a qualidade de sua integra√ß√£o no Unity.  Tudo isso resultou em erros francamente graves que n√£o se pode dizer que s√£o f√°ceis, r√°pidos e sem uma luta reparada por parte dos desenvolvedores, e com um desempenho terr√≠vel nos dispositivos de destino, e ainda temos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">o</a> n√≠vel do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">iPad 2</a> .  Isso aconteceu devido √† integra√ß√£o analfabeta em um mecanismo espec√≠fico, √† ignor√¢ncia de suas especificidades e armadilhas, e ficamos mais do que satisfeitos com as possibilidades, mas os c√≥digos-fonte, mesmo em ordem pessoal, recusaram-se a abrir e foi decidido escrever nossa decis√£o. </p><br><p>  Tive <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uma</a> experi√™ncia bastante bem-sucedida ao escrever extens√µes para o Unity e tive pouca experi√™ncia em converter anima√ß√µes em flash para meus formatos.  Este √∫ltimo foi h√° muito tempo, mas algo foi lembrado.  No mesmo local, foi decidido escrever tudo como um projeto dom√©stico, para n√£o depender do projeto ou da empresa em que trabalho e, para ser sincero, tamb√©m queria ter meu pr√≥prio produto.  Ent√£o, armado com uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">especifica√ß√£o de formato swf de</a> 250 p√°ginas, fui para a batalha. </p><br><h2>  Op√ß√µes de exporta√ß√£o </h2><br><p>  Para come√ßar, vale a pena discutir op√ß√µes para exportar anima√ß√µes do editor de flash.  Existem v√°rios deles, naturalmente com seus pr√≥s e contras.  Vamos passar pelos principais. </p><br><h3>  Formato .xfl </h3><br><p>  No editor de anima√ß√£o em flash, √© poss√≠vel salvar a fonte da anima√ß√£o em um formato .xfl n√£o compactado, em vez do formato .fla fechado, oferecido por padr√£o.  O formato √© bastante simples, mas n√£o documentado.  Ele consiste em v√°rios diret√≥rios aninhados e um monte de arquivos .xml, onde s√£o descritos todos os estados dos clipes armazenados.  O formato da descri√ß√£o tamb√©m √© simples e claro, aqui est√° um exemplo: </p><br><p>  <strong>static_clip.xml</strong> </p><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">itemID</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5c719f28-00000051"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lastModified</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1550950184"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Layer_1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#00FFFF"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">current</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">isSelected</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">index</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"9728"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMBitmapInstance</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">selected</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">libraryItemName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bitmap.png"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>Link para a fonte</i></a> <br><blockquote><p>  Aqui temos um clipe est√°tico <code>static_clip</code> com uma camada <code>Layer_1</code> e um quadro, no qual existe um bitmap chamado <code>bitmap.png</code> . </p></blockquote><p>  <strong>movie_clip.xml</strong> </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"movie_clip"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">itemID</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5c719f30-00000053"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lastModified</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1550950713"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"movie_clip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Layer_1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#00FFFF"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">current</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">isSelected</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">index</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">duration</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tweenType</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"motion"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">motionTweenSnap</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"22017"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">libraryItemName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Matrix</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tx</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-50"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ty</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-50"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"28.5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"27.5"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">index</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tweenType</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"motion"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">motionTweenSnap</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">keyMode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"22017"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">libraryItemName</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"static_clip"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">centerPoint3DX</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"128.5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">centerPoint3DY</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"127.5"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Matrix</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tx</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ty</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">matrix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Point</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"28.5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"27.5"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">transformationPoint</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolInstance</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">elements</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMFrame</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">frames</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMLayer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">layers</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMTimeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">timeline</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DOMSymbolItem</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i>Link para a fonte</i></a> <br><blockquote><p>  Aqui, descrevemos o clipe de anima√ß√£o <code>movie_clip</code> , que cont√©m dois quadros-chave com os √≠ndices 0 e 4, respectivamente.  Os quadros cont√™m nosso clipe est√°tico <code>static_clip</code> nas coordenadas <code>(-50;-50)</code> e <code>(100;100)</code> .  Entre os quadros, h√° interpola√ß√£o de movimento (anima√ß√£o procedural, no nosso caso, √© apenas uma transfer√™ncia, sem escala e rota√ß√£o), respectivamente, a posi√ß√£o de um clipe est√°tico entre os quadros-chave pode ser obtida pela interpola√ß√£o linear de coordenadas desses quadros. </p></blockquote><p>  Naturalmente, tudo estar√° em anima√ß√£o real, ahem ... um pouco mais complicado e mais volumoso, mas voc√™ pode descobrir tudo sem documenta√ß√£o.  Parece que aqui √© felicidade.  E conhe√ßo v√°rios projetos e empresas que foram bem-sucedidos nesse caminho, mas com algumas limita√ß√µes e dificuldades.  Essas dificuldades s√£o a mosca na pomada .xfl, a saber: </p><br><ol><li>  Os pr√©-adolescentes (pr√©-adolescentes, russificados quanto poss√≠vel) s√£o muito diferentes, simples: com interpola√ß√£o linear e mais complexos: com fun√ß√µes definidas pelo usu√°rio e gr√°ficos dessa interpola√ß√£o, transformando gr√°ficos vetoriais em g√™meos, com suas pr√≥prias regras apenas para macromedia e adobe; </li><li>  Os gr√°ficos vetoriais, como todas as anima√ß√µes, exceto os gr√°ficos de varredura, s√£o descritos em forma de texto, por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">exemplo</a> .  Portanto, √© necess√°rio escrever seu pr√≥prio rasterizador, o que, devido √†s complexidades e caracter√≠sticas do vetor em flash, n√£o √© poss√≠vel na pr√°tica; </li><li>  As regras para reproduzir anima√ß√µes, incluindo as aninhadas, voc√™ precisa pensar a partir do zero, n√£o h√° documenta√ß√£o para ela e quando o quadro deve ser mostrado, o que ajustar em quais situa√ß√µes e o que deixar sem interpola√ß√£o - ele ainda precisa ser determinado por longas experi√™ncias, tentando cobrir todos os casos poss√≠veis. execu√ß√µes de teste, que s√£o um exerc√≠cio n√£o trivial para uma solu√ß√£o geral, e n√£o privada. </li></ol><br><p>  Essas n√£o s√£o todas as dificuldades dessa abordagem, mas s√£o suficientes para entender que, para uma solu√ß√£o geral, ela √© adequada apenas com fortes reservas.  Era uma vez o caminho para um dos projetos em que participei.  Havia cenas cortadas com flash, com g√™meos cl√°ssicos (sem regras de interpola√ß√£o personalizadas e fun√ß√µes especiais dessa interpola√ß√£o), apenas gr√°ficos de bitmap e sem outros recursos avan√ßados que o editor de flash fornece.  A solu√ß√£o privada foi escrita com bastante rapidez e efici√™ncia, mas os animadores tiveram que ser severamente limitados para n√£o usar nada mais ou menos complicado.  A abordagem tem direito √† vida e existem v√°rias bibliotecas, com diferentes graus de neglig√™ncia, baseadas nela, mas, como eu disse, com muitas reservas e limita√ß√µes. </p><br><h3>  Scripts .jsfl </h3><br><p>  Outra op√ß√£o, quase funcionando, √© obter informa√ß√µes sobre nossas anima√ß√µes.  O jsfl-scripts permite expandir o editor de flash, interagir com o ambiente, alterar a anima√ß√£o e, √© claro, obter todas as informa√ß√µes necess√°rias sobre linhas de tempo, camadas, clipes e quadros neles.  E tamb√©m √© usado pelos animadores para automatizar v√°rias a√ß√µes, mas essa √© uma hist√≥ria de um livro vizinho.  Em geral, a abordagem √© dotada de todas as desvantagens da abordagem anterior, ent√£o n√£o vou me deter nela, s√≥ posso dizer que com ela √© poss√≠vel descarregar toda a anima√ß√£o na forma de, por exemplo, anima√ß√£o quadro a quadro, e esse n√£o √© o caminho de um Jedi real (mas, naturalmente, ocorre em alguns projetos).  Voltaremos a esses scripts da maneira que escolhi: rasterizar gr√°ficos vetoriais e otimizar a anima√ß√£o paginada. </p><br><h3>  Aplicativo AIR </h3><br><p>  Mas essa abordagem j√° est√° funcionando e pode ser usada como deveria.  Eu n√£o o escolhi, mas como refer√™ncia darei essa op√ß√£o.  A ess√™ncia da abordagem √© que criamos um aplicativo AIR no pr√≥prio flash ou, para os estetas, no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Haxe</a> , por exemplo, que obter√° todas as informa√ß√µes de uma anima√ß√£o j√° compilada em um formato swf.  Reproduzimos a anima√ß√£o quadro a quadro dentro de nosso aplicativo, obtemos todas as informa√ß√µes do quadro e as salvamos no formato que precisamos para nosso tempo de execu√ß√£o.  Aqui todos os problemas acima s√£o resolvidos: </p><br><ul><li>  n√£o √© necess√°rio rasterizar gr√°ficos vetoriais, o flash runtime far√° isso por n√≥s; resta apenas obter essas informa√ß√µes e salvar o resultado da varredura de fragmentos vetoriais; </li><li>  n√£o √© necess√°rio criar regras e lidar com interpola√ß√£o dupla personalizada, o flash player dentro do aplicativo AIR sabe exatamente como fazer isso e far√° quase tudo por n√≥s; </li></ul><br><p>  Como b√¥nus, temos a oportunidade de usar scripts de quadros em anima√ß√µes (todos os tipos de <code>play()</code> , <code>stop()</code> e outros <code>gotoAndPlay()</code> , alguns animadores os amam muito).  A desvantagem √© a incapacidade de exportar as anima√ß√µes em loop para o pr√≥prio flash, mas isso n√£o importa, j√° que voc√™ j√° pode execut√°-las em seu tempo de execu√ß√£o e pedir aos animadores que preparem tudo para isso. </p><br><p>  Vale ressaltar que tenho certeza de que tudo ser√° um pouco mais complicado do que parece na minha descri√ß√£o, j√° que eu pessoalmente n√£o fui l√°, ent√£o n√£o posso lhe contar os detalhes.  Que aqueles que passaram por esse caminho compartilhem suas experi√™ncias, com prazer lemos sobre suas alegrias e tribula√ß√µes! </p><br><h3>  Pr√≥prio flash player </h3><br><p>  Esta √© provavelmente a op√ß√£o mais honesta, √≥bvia e direta de todas, mas tamb√©m a mais dif√≠cil.  No final, √© isso que um flash player real faz, que a maioria de n√≥s possui em nosso navegador favorito como complemento.  Representantes populares desse g√™nero: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">gameswf</a> e, crescidos a partir do anterior, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">scaleform</a> .  Ambos agora est√£o mortos.  √â interessante que eles foram usados ‚Äã‚Äãprincipalmente para implementar a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GUI</a> em v√°rios projetos, incluindo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">AAA</a> .  Mas estamos interessados ‚Äã‚Äãna estrutura interna, n√£o nas aplica√ß√µes espec√≠ficas de bibliotecas mortas. </p><br><p>  Qualquer flash player que se preze tem pelo menos o seguinte: </p><br><ul><li>  analisador de formato swf; </li><li>  gr√°ficos vetoriais de rasterizador; </li><li>  implementa√ß√£o de uma m√°quina virtual para executar o c√≥digo do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ActionScript</a> ; </li><li>  implementa√ß√£o de uma biblioteca padr√£o para c√≥digo de usu√°rio; </li></ul><br><p>  Cada um desses pontos fala sobre o que √© poss√≠vel implement√°-lo, ent√£o voc√™ ter√° que mudar mais de uma equipe para esta tarefa e trocar v√°rios anos de desenvolvimento para a vers√£o m√≠nima.  Mesmo a implementa√ß√£o de uma pequena parte, suficiente para desempenhar alguma coisa, levar√° muito tempo, e as dificuldades adicionais, na forma de tantas partes n√£o documentadas de todo esse pipeline, dobrar√£o esse per√≠odo j√° imenso. </p><br><p>  Sim, a rede est√° cheia de tentativas de implementar cada uma dessas partes, com v√°rios graus de neglig√™ncia e agravamento.  Mas nem mesmo √© poss√≠vel tomar esses desenvolvimentos como base, apenas levar√° anos para detectar bugs e escrever testes de unidade n√£o escritos antes de perceber que n√£o funcionar√° em toda a extens√£o.  Aqueles que tentaram complementar o gameswf com os recursos necess√°rios entendem do que estou falando.  Um flash-player honesto tamb√©m precisa rasterizar gr√°ficos vetoriais com anteced√™ncia, mas em tempo de execu√ß√£o, o que afetar√° um desempenho t√£o grande que nem todo projeto pode sobreviver.  Aproveito esta oportunidade para expressar meus cumprimentos aos sobreviventes que usaram o scaleform em dispositivos m√≥veis.  Em geral, o caminho mais sombrio e sem esperan√ßa, n√£o a nossa escolha. </p><br><h3>  Combinamos abordagens </h3><br><p>  Ent√£o finalmente chegou √† minha op√ß√£o.  Tendo estudado os caminhos poss√≠veis, uma combina√ß√£o interessante foi desenhada para mim.  De implementa√ß√£o relativamente simples, vi√°vel para uma pessoa em volume e ao mesmo tempo funcional o suficiente para atender √†s necessidades da maioria das anima√ß√µes em 2D da linha do tempo. </p><br><p>  Primeiro, usaremos a anima√ß√£o compilada no swf para n√£o oferecer v√°rias op√ß√µes de reprodu√ß√£o e quase nunca adivinhar como o flash player funciona por dentro, pois n√£o podemos cobrir todos os casos poss√≠veis, mas tentamos escrever uma solu√ß√£o geral.  Al√©m disso, o editor de flash se livra de todos os g√™meos que foram usados ‚Äã‚Äãna anima√ß√£o, representando inteligentemente, no swf compilado, as posi√ß√µes nuas dos fragmentos. </p><br><p>  Em segundo lugar, proibimos o uso de scripts em anima√ß√µes.  Sim, esse √© um requisito muito dif√≠cil e triste, mas n√£o tenho uma equipe de programadores para implementar uma m√°quina virtual honesta e uma biblioteca padr√£o que precisaria escrever quase cegamente.  Aqui, √© claro, o menos da minha abordagem √© vis√≠vel em rela√ß√£o √† abordagem em que o aplicativo AIR foi usado, pois, no √∫ltimo, alguns scripts para reprodu√ß√£o de anima√ß√£o interna poderiam ser usados.  Por outro lado, isso n√£o interfere na cria√ß√£o de boas anima√ß√µes.  Para transferir informa√ß√µes personalizadas da anima√ß√£o para o jogo, voc√™ pode usar os chamados <code>frame labels</code> , que ser√£o vis√≠veis no c√≥digo, al√©m de suspender eventos personalizados em quadros espec√≠ficos, na forma de fun√ß√µes de retorno de chamada que j√° est√£o em tempo de execu√ß√£o. </p><br><p>  Em terceiro lugar, nos livramos de escrever nosso pr√≥prio rasterizador de gr√°ficos vetoriais, pela incapacidade de escrever um para o caso geral, para cobrir todas as op√ß√µes e recursos do vetor em flash.  Em vez disso, rasterizaremos os gr√°ficos para a compila√ß√£o (!) Usando um script jsfl.  Ao mesmo tempo, com a ajuda desse script, otimizaremos nossos gr√°ficos vetoriais mesclando clipes est√°ticos em uma imagem, reduzir ou aumentar as imagens de bitmap resultantes para nossas necessidades: qualidade e / ou desempenho.  Aqui tamb√©m vale lembrar as v√°rias op√ß√µes de qualidade / resolu√ß√£o da arte para dispositivos com diferentes densidades de pixel na tela (por exemplo, arte em HD e SD). </p><br><h2>  A conclus√£o da parte l√≠rica </h2><br><p>  Isso conclui a primeira parte do artigo.  Na segunda parte, haver√° detalhes t√©cnicos de implementa√ß√£o, partes de c√≥digo, figuras (!), Otimiza√ß√µes, truques e truques.  Em breve em suas telas, n√£o perca!  No final, darei alguns links interessantes com informa√ß√µes sobre o uso de anima√ß√µes em flash de colegas, felizmente do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ZeptoLab</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Playrix</a> . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt443524/">https://habr.com/ru/post/pt443524/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt443514/index.html">Escrevendo sua camada de rede no Swift: abordagem orientada a protocolo</a></li>
<li><a href="../pt443516/index.html">Hacker Geohot decidiu libertar pessoas da simula√ß√£o de IA</a></li>
<li><a href="../pt443518/index.html">RBKmoney Payments under the hood - microsservi√ßos, protocolos e configura√ß√£o de plataforma</a></li>
<li><a href="../pt443520/index.html">Escolhendo um carro para um especialista em TI ou dicas para bules de uma chaleira</a></li>
<li><a href="../pt443522/index.html">Hospedagem: op√ß√µes, compara√ß√µes, estat√≠sticas do usu√°rio</a></li>
<li><a href="../pt443526/index.html">Dos algoritmos ao c√¢ncer: palestras da Escola de Bioinform√°tica</a></li>
<li><a href="../pt443528/index.html">Amazon lan√ßou o Open Distro for Elasticsearch</a></li>
<li><a href="../pt443530/index.html">Evolu√ß√£o da infraestrutura de banco de dados: do banco de dados e aplicativos em um servidor √† replica√ß√£o de streaming</a></li>
<li><a href="../pt443532/index.html">5 recursos de p√≥s met√°licos para impress√£o 3D</a></li>
<li><a href="../pt443534/index.html">Compute Express Link - Interconex√£o para Big Data</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>