<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë¨ üßñ üìÆ Nouveau dans Git 3: fermetures üë®üèº‚Äçüé§ üìë ‚ôàÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Git est un syst√®me de contr√¥le de version populaire. Dans ce document, le changement atomique d'un ou plusieurs fichiers est appel√© un commit, et plus...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nouveau dans Git 3: fermetures</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445676/"><p>  Git est un syst√®me de contr√¥le de version populaire.  Dans ce document, le changement atomique d'un ou plusieurs fichiers est appel√© un commit, et plusieurs commits cons√©cutifs sont combin√©s dans une branche.  Les branches sont utilis√©es pour mettre en ≈ìuvre de nouvelles id√©es (fonctionnalit√©s). </p><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aa5/222/85a/aa522285a7fd7fd5f8c597050956d878.svg"></div><p></p><br><p> Il arrive que l'id√©e se r√©v√®le √™tre une impasse, le d√©veloppeur s'√©teint dans le mauvais sens et il est n√©cessaire de revenir √† la version d'origine, pour cela, vous devez oublier la nouvelle branche et passer au d√©veloppeur principal ou au <strong>ma√Ætre</strong> , puis continuer √† travailler comme si de rien n'√©tait.  Dans ce cas, le "shoot" va se bloquer pour toujours, comme le d√©sir de le retirer.  Mais comment supprimer s'il fait partie de l'histoire?  Ce processus montre les efforts du programmeur bourreau de travail, bien qu'en vain.  Il est plus facile de signaler aux autorit√©s, car un r√©sultat infructueux est √©galement un r√©sultat! </p><br><p>  Je m'empresse de plaire: les d√©veloppeurs de Git dans la version 3 introduiront une nouvelle commande pour fermer ces branches parasites.  Permettez-moi de vous rappeler que la version actuelle est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2.21.0</a> . </p><br><p>  Comment utiliser cette √©quipe, que donne-t-elle et que pensent les entreprises informatiques?  L'article r√©pond √† ces questions et √† d'autres. </p><a name="habracut"></a><br><h2 id="opisanie">  La description </h2><br><p>  Vous pouvez maintenant fermer une branche qui a √©chou√© avec l'un des validations pr√©c√©dentes.  Les arcs de la faille sont color√©s en jaune dans les figures ci-dessous. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/831/c59/f42/831c59f42a1c28e9316781e918ab5ad2.svg"></div><br><br><p> Ici, le commit <code>4</code> est le dernier d'une fonction qui a √©chou√©.  Il a √©t√© ferm√© √† partir du <code>1</code> , puis est retourn√© vers le capitaine et est all√© dans l'autre sens, √† partir du commit <code>5</code> . </p><br><p>  Vous pouvez √©galement verrouiller le commit en lui-m√™me, cr√©ant ainsi des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">boucles</a> : </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6e2/d3b/c7f/6e2d3bc7f118f60d4e3a05762bda92ea.svg"></div><br><br><p>  Vous pouvez vous enfermer dans n'importe quel commit - smart Git calculera la diff√©rence et combinera tout correctement: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/61f/1e3/7e1/61f1e37e1861b8307f715fd3b003fa2c.svg"></div><br><br><h2 id="kak-polzovatsya">  Comment utiliser? </h2><br><p>  La commande <code>merge</code> ne contient pas de fonctionnalit√© de fermeture, car pour le premier cas la branche sera <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">forg√©e rapidement</a> , et pour le second elle ne fera rien ( <code>git already up to date</code> ). </p><br><p>  Afin de ne pas modifier l'ancien comportement, les d√©veloppeurs ont d√©cid√© d'entrer une commande pour fermer: </p><br><pre> <code class="plaintext hljs">git closure -s $source_commit -d $dest_commit -m $message</code> </pre> <br><p>  Le premier argument de <code>-s $source_commit</code> d√©finit le hachage de la validation √† partir de laquelle effectuer la boucle, et le second, <code>-d $dest_commit</code> d√©finit la validation de la boucle √† fermer.  S'il est absent, la fermeture a lieu dans la branche de paiement actuelle.  Le param√®tre <code>-m $message</code> d√©finit le message de fermeture, tel qu'une <code>failed feature, revert to origin</code> .  Cependant, l' <code>--allow-empty-message</code> est √©galement disponible, ce qui permet des validations sans texte de message.  Par d√©faut, Git autorise exactement une fermeture pour quelques validations.  Pour contourner cette limitation, l'option <code>--allow-multiple-closures</code> . </p><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d4/735/680/0d4735680312484fdb0f59ee1bf3ec56.svg"></div><br><p>  Une fois la commande ex√©cut√©e, le git lui-m√™me calculera les changements, et dans le commit final, le double diff sera visible: depuis les branches de base et de fin.  En g√©n√©ral, il s'agit d'un diff √† n dimensions, c'est-√†-dire que vous pouvez effectuer la fermeture autant de fois que vous le souhaitez.  close-commit est similaire √† merge-commit, √† la diff√©rence pr√®s qu'il stocke plusieurs messages, pas un. </p><br><p>  Malheureusement, les interfaces graphiques existantes pour travailler avec Git ne prennent pas encore totalement en charge les fermetures.  La version d'aper√ßu de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GitExtensions</a> cr√©e des courbes comme une fusion au lieu d'un bel arc.  Notez les nouveaux champs <code>Closure message</code> <code>Closure diff</code> et <code>Closure diff</code> : </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/w0/pn/ny/w0pnny3xyxyhdhr1pk9h8i03whk.png"></div><br><p>  Il convient de noter que l'√©quipe de <code>closure</code> change toujours l'historique (Git, maintenant Git est une machine √† remonter le temps √† part enti√®re!), Alors maintenant, vous ne pouvez <code>--force</code> branches qu'avec l'option <code>--force</code> , ou avec l'option s√ªre <code>--force-with-lease</code> . </p><br><p>  Des rebases pour les branches avec des boucles sont √©galement disponibles, cependant, la logique de recomptage des commits est compliqu√©e. </p><br><p>  De plus, l'option <code>auto</code> vous permet de fermer automatiquement toutes les anciennes branches.  Dans ce cas, la validation de fermeture est celle √† partir de laquelle le branchement a commenc√©.  En utilisant des plugins pour Git IDE, les fermetures peuvent √™tre ex√©cut√©es p√©riodiquement.  Dans GitExtensions, un plugin similaire <strong>Supprimer les branches</strong> obsol√®tes supprime les branches obsol√®tes. </p><br><h2 id="mnenie-it-kompaniy">  Opinion des soci√©t√©s informatiques </h2><br><p>  Les grandes entreprises informatiques: Google, Facebook, Apple, DeepMind, Positive Technologies, et surtout Microsoft, attendent avec impatience les fermetures, car il sera d√©sormais possible de formaliser le cycle de vie des succursales, y compris les succursales non contigu√´s. </p><br><p>  L'un des principaux dirigeants de Microsoft, Michael Richter, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©crit</a> : </p><br><blockquote>  La nouvelle fonctionnalit√© de git r√©duira certainement le chaos dans le monde du d√©veloppement Open Source et pas seulement.  Nos r√©f√©rentiels ont beaucoup de branches suspendues.  Par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">il</a> y en a plus de 200 dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vscode</a> , et il y en a plus de 300 dans <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TypeScript</a> !  Et ce n'est pas seulement le probl√®me de Microsoft.  Les fermetures am√©liorent non seulement l'organisation, mais vous permettent √©galement de suivre le raisonnement du programmeur, parfois compl√®tement incompr√©hensible m√™me pour ses coll√®gues :) Les fermetures m'ont rappel√© le film "Back to the Future" - o√π les personnages ont voyag√© dans le pass√© et le futur.  J'adore ce film, je l'ai revu plusieurs fois.  Et je pense que j'aimerai le git √† cause de √ßa encore plus :) </blockquote><br><h2 id="na-zametku">  Remarque </h2><br><p>  Si auparavant le graphe de validation √©tait un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">graphe acyclique dirig√©</a> (DAG), les fermetures l'√©tendent √† un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">graphe dirig√©</a> g√©n√©ralis√©.  Avec Git, il sera possible de d√©crire des expressions r√©guli√®res dans lesquelles les √©tats sont valid√©s, et l'alphabet est l'ensemble de tous les messages.  Mais cela sent le hub "programmation anormale", et d√©passe donc la port√©e de l'article.  Cependant, si cela vous int√©resse, consultez l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article</a> qui d√©crit comment vous pouvez stocker des arbres g√©n√©alogiques dans Git. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr445676/">https://habr.com/ru/post/fr445676/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr445666/index.html">Nous avons besoin d'un mois de juin pr√™t √† l'emploi - enseignez-le vous-m√™me, ou comment nous avons lanc√© un cours de s√©minaires pour les √©tudiants</a></li>
<li><a href="../fr445668/index.html">Neoquest 2019: connexion avec le ciel</a></li>
<li><a href="../fr445670/index.html">Cons√©quences de la r√©√©criture des composants Firefox dans Rust</a></li>
<li><a href="../fr445672/index.html">Catalyse des muons en termes de chimie quantique. Partie II: √©lectronique vs liaison chimique muon</a></li>
<li><a href="../fr445674/index.html">PVS-Studio pour Java prend la route. Le prochain arr√™t est Elasticsearch</a></li>
<li><a href="../fr445678/index.html">4. Check Point Getting Started R80.20. Installation et initialisation</a></li>
<li><a href="../fr445680/index.html">Nouvelle fonctionnalit√© dans Git 3: fermetures</a></li>
<li><a href="../fr445682/index.html">PVS-Studio pour Java est envoy√© vers le chemin. Le prochain arr√™t est Elasticsearch</a></li>
<li><a href="../fr445684/index.html">Onduleur monobloc vs modulaire</a></li>
<li><a href="../fr445686/index.html">D√©veloppement d'applications pour un ancien PDA (Cybiko Xtreme) en 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>