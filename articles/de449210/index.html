<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò© üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë© üñï So funktioniert HPE SimpliVity 380 f√ºr VDI: Tests mit hoher Belastung üë∂üèº üëµüèΩ üôãüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der Kunde wollte VDI. Ich habe mir die Reihe von SimpliVity + VDI Citrix Virtual Desktop sehr genau angesehen. F√ºr alle Betreiber, B√ºroangestellte in ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So funktioniert HPE SimpliVity 380 f√ºr VDI: Tests mit hoher Belastung</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/croc/blog/449210/"><img src="https://habrastorage.org/webt/_c/-f/ze/_c-fze90jo2wiz1tnxiharmlfde.jpeg" alt="Bild"><br><br>  Der Kunde wollte VDI.  Ich habe mir die Reihe von SimpliVity + VDI Citrix Virtual Desktop sehr genau angesehen.  F√ºr alle Betreiber, B√ºroangestellte in St√§dten und so weiter.  Nur in der ersten Migrationswelle gibt es f√ºnftausend Benutzer, und deshalb bestanden sie auf Stresstests.  VDI kann langsamer werden, es kann sich ruhig hinlegen - und dies geschieht nicht immer aufgrund von Problemen mit dem Kanal.  Wir haben ein sehr leistungsf√§higes Testpaket speziell f√ºr VDI gekauft und die Infrastruktur geladen, bis sie auf die Festplatten und den Prozessor fiel. <br><br>  Wir ben√∂tigen also eine Plastikflasche, LoginVSI-Software f√ºr anspruchsvolle VDI-Tests.  Wir haben es mit Lizenzen f√ºr 300 Benutzer.  Dann nahmen sie die HPE SimpliVity 380-Hardware in eine Verpackung, die f√ºr die Aufgabe der maximalen Benutzerdichte auf einem Server geeignet war, schnitten virtuelle Maschinen mit einer guten √úberzeichnung, setzten Office-Software auf Win10 und begannen mit dem Testen. <br><br>  <b>Lass uns gehen!</b> <a name="habracut"></a><br><br><h2>  Das System </h2><br>  Zwei Knoten (Server) HPE SimpliVity 380 Gen10.  Auf jedem: <br><br><ul><li>  2 x Intel Xeon Platinum 8170 26c 2,1 GHz. </li><li>  RAM: 768 GB, 12 x 64 GB LRDIMMs DDR4 2666 MHz. </li><li>  Prim√§rer Festplattencontroller: HPE Smart Array P816i-a SR Gen10. </li><li>  Festplatten: 9 x 1,92 TB SATA 6 Gbit / s SSD (in RAID6 7 + 2-Konfiguration, d. H. Es handelt sich um ein mittleres Modell in Bezug auf HPE SimpliVity). </li><li>  Netzwerkkarten: 4 x 1 GB Eth (Benutzerdaten), 2 x 10 GB Eth (SimpliVity- und vMotion-Backend). </li><li>  Spezielle integrierte FPGA-Karten in jedem Knoten zur Deduplizierung / Komprimierung. </li></ul><br>  Die Knoten sind √ºber eine 10-Gbit-Ethernet-Verbindung direkt ohne externen Switch miteinander verbunden, der als SimpliVity-Backend und zur √úbertragung von Daten virtueller Maschinen √ºber NFS verwendet wird.  Daten virtueller Maschinen in einem Cluster werden immer zwischen zwei Knoten gespiegelt. <br><br>  Knoten werden in einem Vmware vSphere-Cluster geclustert, in dem vCenter ausgef√ºhrt wird. <br><br>  Zum Testen werden ein Dom√§nencontroller und ein Citrix-Verbindungsbroker bereitgestellt.  Der Dom√§nencontroller, der Broker und vCenter befinden sich in einem separaten Cluster. <br><img src="https://habrastorage.org/webt/iy/2f/cm/iy2fcmya1kwnjrngq2hsdg-0dcs.png" alt="Bild"><br><img src="https://habrastorage.org/webt/_w/wm/uw/_wwmuwksqxifn3xvsjqxqg8mbj0.png" alt="Bild"><br>  Als Testinfrastruktur werden 300 virtuelle Desktops in der Konfiguration "Dedicated - Full Copy" bereitgestellt, dh jeder Desktop ist eine vollst√§ndige Kopie des Originalabbilds der virtuellen Maschine und speichert alle von Benutzern vorgenommenen √Ñnderungen. <br><br>  Jede virtuelle Maschine verf√ºgt √ºber 2vCPU und 4 GB RAM: <br><br><img src="https://habrastorage.org/webt/6s/un/ru/6sunrupu_e3qtrv0ozkzjhdz1ti.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/3z/tp/cg/3ztpcgbgkwhbjqiypygrcvq7t9o.png" alt="Bild"><br><br>  Die folgende zum Testen erforderliche Software wurde auf den virtuellen Maschinen installiert: <br><br><ul><li>  Windows 10 (64-Bit), Version 1809. </li><li>  Adobe Reader XI. </li><li>  Citrix Virtual Delivery Agent 1811.1. </li><li>  Doro PDF 1.82. </li><li>  Java 7 Update 13. </li><li>  Microsoft Office Professional Plus 2016. </li></ul><br>  Zwischen Knoten - synchrone Replikation.  Jeder Datenblock im Cluster hat zwei Kopien.  Das hei√üt, jetzt ein vollst√§ndiger Datensatz auf jedem der Knoten.  Mit einem Cluster von drei oder mehr Knoten - Kopien von Bl√∂cken an zwei verschiedenen Stellen.  Beim Erstellen einer neuen VM wird eine zus√§tzliche Kopie auf einem der Clusterknoten erstellt.  Wenn ein Knoten ausf√§llt, werden alle zuvor auf ihm ausgef√ºhrten VMs automatisch auf anderen Knoten neu gestartet, auf denen sie √ºber Replikate verf√ºgen.  Wenn der Knoten l√§ngere Zeit ausf√§llt, beginnt eine schrittweise Wiederherstellung der Redundanz, und der Cluster kehrt wieder zu N + 1-Redundanz zur√ºck. <br><br>  Das Ausgleichen und Speichern von Daten erfolgt auf der Ebene des Softwarespeichers von SimpliVity. <br><br>  Virtuelle Maschinen f√ºhren einen Virtualisierungscluster aus und hosten sie auch im Softwarespeicher.  Die Desktops selbst wurden gem√§√ü der Standardvorlage erstellt: Die Tabellen der Finanziers und Operationalisten fuhren zu einem Test (dies sind zwei verschiedene Vorlagen). <br><br><h3>  Testen </h3><br>  Zum Testen wurde der Testkomplex der LoginVSI 4.1-Software verwendet.  Der LoginVSI-Komplex als Teil des Verwaltungsservers und 12 Computer f√ºr Testverbindungen wurden auf einem separaten physischen Host bereitgestellt. <br><img src="https://habrastorage.org/webt/a9/tg/a8/a9tga8ijvirliv42fkcqld9yvma.png" alt="Bild"><br><br>  Die Tests wurden in drei Modi durchgef√ºhrt: <br><br>  Benchmark-Modus - Ladeoptionen f√ºr 300 Knowledge Worker und 300 Storage Worker. <br><br>  Der Standardmodus ist die Ladeoption 300 Power Worker. <br><br>  Damit Power Worker arbeiten und die Lastvielfalt erh√∂hen k√∂nnen, wurde dem LoginVSI-Komplex eine Bibliothek mit zus√§tzlichen Power Library-Dateien hinzugef√ºgt.  Um die Wiederholbarkeit der Ergebnisse sicherzustellen, wurden alle Pr√ºfstandseinstellungen auf Standard gesetzt. <br><br>  Die Knowledge and Power Worker-Tests simulieren die tats√§chliche Belastung von Benutzern, die an virtuellen Workstations arbeiten. <br><br>  Der Storage Worker-Test wurde speziell zum Testen von Speichersystemen entwickelt, weit entfernt von realen Workloads und besteht gr√∂√ütenteils in der Arbeit des Benutzers mit einer gro√üen Anzahl von Dateien unterschiedlicher Gr√∂√üe. <br><br>  W√§hrend des Tests melden sich Benutzer 48 Minuten lang an Arbeitsstationen an, etwa alle 10 Sekunden ein Benutzer. <br><br><h2>  Ergebnisse </h2><br>  Das Hauptergebnis der LoginVSI-Tests ist die VSImax-Metrik, die aus der Ausf√ºhrungszeit verschiedener vom Benutzer ausgef√ºhrter Aufgaben kompiliert wird.  Beispiel: Datei√∂ffnungszeit im Editor, Dateikomprimierungszeit in 7-Zip usw. <br><br>  Eine detaillierte Beschreibung der Berechnung von Metriken finden Sie in der offiziellen Dokumentation unter dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> . <br><br>  Mit anderen Worten, LoginVSI wiederholt ein typisches Lademuster, simuliert Benutzeraktionen in einer Office-Suite, liest PDFs usw. und misst verschiedene Verz√∂gerungen.  Es gibt ein kritisches Ma√ü an Verz√∂gerungen (‚Äûalles verlangsamt sich, es ist unm√∂glich zu arbeiten‚Äú), bevor davon ausgegangen wird, dass das Maximum an Benutzern nicht erreicht wird.  Wenn die Antwortzeit 1.000 ms schneller ist als dieser Status "Alles verlangsamt sich", funktioniert das System als einwandfrei und Sie k√∂nnen weitere Benutzer hinzuf√ºgen. <br><br>  Hier sind die grundlegenden Metriken: <br><table><tbody><tr><td width="78"><p>  <b>Metrisch</b> </p><br></td><td width="191"><p>  <b>Ma√ünahmen ergriffen</b> </p><br></td><td width="301"><p>  <b>Detaillierte</b> <b>Beschreibung</b> </p><br></td><td width="142"><p>  <b>Ladef√§hige Komponenten</b> </p><br></td></tr><tr><td width="78"><p>  <b>NSLD</b> </p><br></td><td width="191"><p>  √ñffnungszeit des Textes <br>  Datei mit einem Gewicht von 1.500 kB </p><br></td><td width="301"><p>  Editor startet und <br>  √∂ffnet ein zuf√§lliges Dokument mit einem Gewicht von 1.500 KB, das aus dem Pool kopiert wird <br>  von Ressourcen </p><br></td><td width="142"><p>  CPU und E / A. </p><br></td></tr><tr><td width="78"><p>  <b>Nfo</b> </p><br></td><td width="191"><p>  Dialog√∂ffnungszeit <br>  Notizblockfenster </p><br></td><td width="301"><p>  √ñffnen einer VSI-Notepad-Datei [Strg + O] </p><br></td><td width="142"><p>  CPU, RAM und E / A. </p><br><p></p><br></td></tr><tr><td width="78"><p>  <b>ZHC *</b> </p><br></td><td width="191"><p>  Erstellungszeit f√ºr ZIP-Dateien mit starker Komprimierung </p><br></td><td width="301"><p>  Lokale Komprimierung <br>  zuf√§llige PST-Dateigr√∂√üe von 5 MB, aus der kopiert wird <br>  Ressourcenpool </p><br></td><td width="142"><p>  CPU und E / A. </p><br></td></tr><tr><td width="78"><p>  <b>ZLC *</b> </p><br></td><td width="191"><p>  Erstellungszeit f√ºr Zip-Dateien mit geringer Komprimierung </p><br></td><td width="301"><p>  Lokale Komprimierung <br>  zuf√§llige PST-Dateigr√∂√üe von 5 MB, aus der kopiert wird <br>  Ressourcenpool </p><br></td><td width="142"><p>  I / O. </p><br><p></p><br></td></tr><tr><td width="78"><p>  <b>CPU</b> </p><br></td><td width="191"><p>  Berechnung gro√ü <br>  zuf√§lliges Datenarray </p><br></td><td width="301"><p>  Erstellen Sie ein gro√ües Array <br>  Zufallsdaten, die im E / A-Timer verwendet werden sollen (E / A-Timer) </p><br></td><td width="142"><p>  CPU </p><br></td></tr></tbody></table><br>  Bei der Durchf√ºhrung des Tests wird zun√§chst die grundlegende VSIbase-Metrik berechnet, die die Geschwindigkeit der Aufgaben ohne Belastung des Systems anzeigt.  Darauf basierend wird der VSImax-Schwellenwert bestimmt, der VSIbase + 1000 ms entspricht. <br><br>  Schlussfolgerungen zur Systemleistung werden auf der Grundlage von zwei Metriken gezogen: VSIbase, die die Geschwindigkeit des Systems bestimmt, und VSImax-Schwellenwert, der die maximale Anzahl von Benutzern bestimmt, denen das System ohne wesentliche Verschlechterung standhalten kann. <br><br><h3>  300 Benchmark f√ºr Wissensarbeiter </h3><br>  Wissensarbeiter sind Benutzer, die regelm√§√üig Speicher, Prozessor und E / A mit verschiedenen kleinen Spitzen laden.  Die Software emuliert die Last anspruchsvoller B√ºrobenutzer, als w√ºrden sie st√§ndig etwas stupsen (PDF, Java, Office Suite, Anzeigen von Fotos, 7-Zip).  Wenn Benutzer von Null auf 300 hinzugef√ºgt werden, erh√∂ht sich die Verz√∂gerung f√ºr jeden Benutzer allm√§hlich. <br><br>  VSImax-Statistikdaten: <br><img src="https://habrastorage.org/webt/yr/pg/u-/yrpgu-lqswmvwsxousflbpiid0e.png" alt="Bild"><br>  VSIbase = 986 ms, VSI-Schwellenwert wurde nicht erreicht. <br><br>  Statistik der Belastung des Speichersystems durch SimpliVity-√úberwachung: <br><img src="https://habrastorage.org/webt/hi/ki/x4/hikix4jqp5ujbqkeff-taxzp_z0.png" alt="Bild"><br><br>  Mit dieser Art von Last kann das System einer erh√∂hten Last standhalten, ohne dass die Leistung beeintr√§chtigt wird.  Die Ausf√ºhrungszeit von Benutzeraufgaben w√§chst reibungslos, die Antwortzeit des Systems √§ndert sich w√§hrend des Tests nicht und betr√§gt bis zu 3 ms zum Schreiben und bis zu 1 ms zum Lesen. <br><br>  <b>Schlussfolgerung:</b> 300 Benutzerkenntnisse ohne Probleme arbeiten im aktuellen Cluster und st√∂ren sich nicht gegenseitig, wodurch eine √úberzeichnung von pCPU / vCPU 1 bis 6 erreicht wird. Allgemeine Verz√∂gerungen nehmen gleichm√§√üig zu, aber die bedingte Grenze wurde nicht erreicht. <br><br><h3>  Benchmark f√ºr 300 Lagerarbeiter </h3><br>  Dies sind Benutzer, die st√§ndig im Verh√§ltnis 30 zu 70 schreiben und lesen.  Dieser Test wurde eher experimentell durchgef√ºhrt.  VSImax-Statistikdaten: <br><img src="https://habrastorage.org/webt/ib/2h/ga/ib2hgacipsoa5r2w2qk-giyd_74.png" alt="Bild"><br><br>  VSIbase = 1673, VSI-Schwellenwert bei 240 Benutzern erreicht. <br><br>  Statistik der Belastung des Speichersystems durch SimpliVity-√úberwachung: <br><img src="https://habrastorage.org/webt/h3/5e/dl/h35edlal4qoqlm50xovdrm0skjm.png" alt="Bild"><br>  Diese Art der Belastung ist in der Tat ein Stresstest des Speichersystems.  Bei der Ausf√ºhrung schreibt jeder Benutzer viele zuf√§llige Dateien unterschiedlicher Gr√∂√üe auf die Festplatte.  In diesem Fall ist ersichtlich, dass einige Benutzer bei √úberschreiten eines bestimmten Lastschwellenwerts die Zeit verl√§ngern, die zum Ausf√ºhren von Dateiaufzeichnungsaufgaben erforderlich ist.  Gleichzeitig √§ndert sich die Belastung des Speichersystems, des Prozessors und des Hostspeichers nicht wesentlich. Daher ist es derzeit unm√∂glich, genau zu bestimmen, mit welchen Verz√∂gerungen verbunden ist. <br><br>  R√ºckschl√ºsse auf die Systemleistung mit diesem Test k√∂nnen nur im Vergleich zu den Testergebnissen anderer Systeme gezogen werden, da solche Belastungen synthetisch und unrealistisch sind.  Im Allgemeinen verlief der Test jedoch gut.  Bis zu 210 Sitzungen lief alles gut, und dann begannen unverst√§ndliche Antworten, die nur mit Login VSI verfolgt wurden. <br><br><h3>  300 Kraftarbeiter </h3><br>  Dies sind Benutzer, die den Prozessor, den Speicher und die hohe E / A lieben.  Diese ‚Äûfortgeschrittenen Benutzer‚Äú f√ºhren regelm√§√üig komplexe Aufgaben mit langen Spitzen aus, z. B. die Installation neuer Software und das Entpacken gro√üer Archive.  VSImax-Statistikdaten: <br><img src="https://habrastorage.org/webt/ai/v4/m0/aiv4m093szu4euojw1le0djqqvg.png" alt="Bild"><br><br>  VSIbase = 970, VSI-Schwellenwert wurde nicht erreicht. <br><br>  Statistik der Belastung des Speichersystems durch SimpliVity-√úberwachung: <br><img src="https://habrastorage.org/webt/01/61/tj/0161tj6hzex9d4yfjqati65jb8q.png" alt="Bild"><br><br>  W√§hrend des Tests wurde die Prozessorlastschwelle auf einem der Systemknoten erreicht, dies hatte jedoch keine wesentlichen Auswirkungen auf den Betrieb: <br><br><img src="https://habrastorage.org/webt/s0/2q/z3/s02qz3amd1xazzhdk8hmh12rdpk.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/wn/yf/6s/wnyf6swpmuwerwvw6xxu881scni.png" alt="Bild"><br><br>  In diesem Fall kann das System einer erh√∂hten Belastung standhalten, ohne die Leistung wesentlich zu beeintr√§chtigen.  Die Ausf√ºhrungszeit von Benutzeraufgaben w√§chst reibungslos, die Antwortzeit des Systems √§ndert sich w√§hrend des Tests nicht und betr√§gt bis zu 3 ms zum Schreiben und bis zu 1 ms zum Lesen. <br><br>  Die √ºblichen Tests f√ºr den Kunden reichten nicht aus, und wir gingen weiter: Wir erh√∂hten die Eigenschaften der VM (die Anzahl der vCPUs, um die Zunahme der √úberbelegung und der Festplattengr√∂√üe zu bewerten) und f√ºgten zus√§tzliche Last hinzu. <br><br>  Bei zus√§tzlichen Tests wurde die folgende Standkonfiguration verwendet: <br>  Bereitstellung von 300 virtuellen Desktops in der Konfiguration von 4vCPU, 4 GB RAM und 80 GB Festplatte. <br><br>  Konfiguration einer der Testmaschinen: <br><img src="https://habrastorage.org/webt/qf/ws/mj/qfwsmjptnkubxctz0-1gcx9u0si.png" alt="Bild"><br><br>  Maschinen werden in der Option Dedicated - Full Copy bereitgestellt: <br><br><img src="https://habrastorage.org/webt/tm/jz/0u/tmjz0uxhrw_adxqzttt2rgcboh8.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/qp/zz/iw/qpzziw9qrafmmvz5aeqs4aa26ru.png" alt="Bild"><br><br><h3>  300 Wissensarbeiter messen 12 √úberzeichnungen </h3><br>  VSImax-Statistikdaten: <br><img src="https://habrastorage.org/webt/1f/wq/kg/1fwqkg1fm42iqsjuvmll4cym7p4.png" alt="Bild"><br><br>  VSIbase = 921 ms, VSI-Schwellenwert wurde nicht erreicht. <br><br>  Statistik der Belastung des Speichersystems durch SimpliVity-√úberwachung: <br><img src="https://habrastorage.org/webt/v8/d1/ko/v8d1kocafexbhemlivrcfog9cy8.png" alt="Bild"><br><br>  Die Ergebnisse √§hneln dem Testen der vorherigen VM-Konfiguration. <br><br><h3>  300 Power Worker √ºberzeichnen 12 </h3><br>  VSImax-Statistikdaten: <br><img src="https://habrastorage.org/webt/dv/tz/gk/dvtzgkj-bpuanvk5ffguz65qmr0.png" alt="Bild"><br><br>  VSIbase = 933, VSI-Schwellenwert wurde nicht erreicht. <br><br>  Statistik der Belastung des Speichersystems durch SimpliVity-√úberwachung: <br><img src="https://habrastorage.org/webt/gw/gi/bo/gwgibojmbld7r6ztpoe6ss0y8bo.png" alt="Bild"><br><br>  In diesem Test wurde auch die Prozessorlastschwelle erreicht, dies hatte jedoch keinen signifikanten Einfluss auf die Leistung: <br><br><img src="https://habrastorage.org/webt/5m/ny/te/5mnyteugxst3_7osvcklrg2adxi.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/60/ha/eu/60haeutmt3k6bn2ywn70e7_d6bu.png" alt="Bild"><br><br>  Die Ergebnisse √§hneln dem Testen der vorherigen Konfiguration. <br><br><h3>  Was passiert, wenn Sie den Ladevorgang 10 Stunden lang starten? </h3><br>  Jetzt werden wir sehen, ob es einen "Akkumulationseffekt" gibt, und 10 Stunden hintereinander Tests durchf√ºhren. <br><br>  Lange Tests und eine Beschreibung des Abschnitts sollten darauf abzielen, dass wir pr√ºfen wollten, ob es Probleme mit der Farm mit einer langen Belastung gibt. <br><br><h3>  300 Wissensarbeiter Benchmark + 10 Stunden </h3><br>  Zus√§tzlich wurde der Test der Lastvariante von 300 Wissensarbeitern mit der anschlie√üenden Arbeit der Benutzer f√ºr 10 Stunden durchgef√ºhrt. <br><br>  VSImax-Statistikdaten: <br><img src="https://habrastorage.org/webt/1m/bk/jc/1mbkjcthbgggrycwnjrqu56rwww.png" alt="Bild"><br><br>  VSIbase = 919 ms, VSI-Schwellenwert wurde nicht erreicht. <br><br>  VSImax Detaillierte Statistikdaten: <br><img src="https://habrastorage.org/webt/wy/lb/cs/wylbcstsir7bxiw9lua3m7xi2_c.png" alt="Bild"><br><br>  Die Grafik zeigt, dass w√§hrend des gesamten Tests keine Leistungseinbu√üen auftreten. <br><br>  Statistik der Belastung des Speichersystems durch SimpliVity-√úberwachung: <br><img src="https://habrastorage.org/webt/gl/r4/g0/glr4g0s7zaeev1k1zq5turro40k.png" alt="Bild"><br><br>  Die Leistung des Speichersystems bleibt w√§hrend des gesamten Tests auf dem gleichen Niveau. <br><br><h3>  Zus√§tzliche Tests mit zus√§tzlicher synthetischer Belastung </h3><br>  Der Kunde hat darum gebeten, der Festplatte eine Wildload hinzuzuf√ºgen.  Zu diesem Zweck wurde dem Speichersystem in jeder virtuellen Maschine des Benutzers eine Aufgabe hinzugef√ºgt, um eine synthetische Last auf der Festplatte zu starten, wenn sich der Benutzer am System anmeldet.  Die Last wurde vom Dienstprogramm fio bereitgestellt, mit dem die Last auf der Festplatte durch die Anzahl der IOPS begrenzt werden kann.  In jeder Maschine wurde eine Aufgabe gestartet, um eine zus√§tzliche Last in H√∂he von 22 IOPS 70% / 30% Random Read / Write zu starten. <br><br><h3>  Benchmark f√ºr 300 Wissensarbeiter + 22 IOPS pro Benutzer </h3><br>  Bei ersten Tests wurde festgestellt, dass fio den Prozessor virtueller Maschinen erheblich zus√§tzlich belastet.  Dies f√ºhrte zu einer schnellen Host√ºberlastung der CPU und beeintr√§chtigte den Betrieb des gesamten Systems erheblich. <br><br>  CPU-Auslastung der Hosts: <br><img src="https://habrastorage.org/webt/w6/gz/wt/w6gzwt7zok77j_mrtclbzur7sfc.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/_m/n7/dw/_mn7dwrbhicgrgllc9cnb_gzxkm.png" alt="Bild"><br><br>  Die Verz√∂gerungen des Speichersystems nahmen nat√ºrlich ebenfalls zu: <br><img src="https://habrastorage.org/webt/vp/uz/e7/vpuze7bmzsbvpsskg_3rcsyxlrk.png" alt="Bild"><br><br>  Der Mangel an Rechenleistung ist f√ºr ungef√§hr 240 Benutzer kritisch geworden: <br><img src="https://habrastorage.org/webt/uq/nr/e7/uqnre7iobieo2zcqosxmadyl7ca.png" alt="Bild"><br><br>  Aufgrund der Ergebnisse wurde beschlossen, einen Test durchzuf√ºhren, der weniger CPU-intensiv ist. <br><br><h3>  230 Benchmark f√ºr B√ºroangestellte + 22 IOPS pro Benutzer </h3><br>  Um die Belastung der CPU zu verringern, wurde der Lasttyp der B√ºroangestellten ausgew√§hlt und jeder Sitzung wurden 22 IOPS synthetische Last hinzugef√ºgt. <br><br>  Der Test wurde auf 230 Sitzungen begrenzt, um die maximale Belastung der CPU nicht zu √ºberschreiten. <br><br>  Der Test wurde mit der anschlie√üenden Arbeit der Benutzer f√ºr 10 Stunden gestartet, um die Stabilit√§t des Systems bei l√§ngerem Betrieb bei einer Last nahe dem Maximum zu √ºberpr√ºfen. <br><br>  VSImax-Statistikdaten: <br><img src="https://habrastorage.org/webt/ne/vz/nh/nevznhbzamx-9idqqcsmkaip6j4.png" alt="Bild"><br><br>  VSIbase = 918 ms, VSI-Schwellenwert wurde nicht erreicht. <br><br>  VSImax Detaillierte Statistikdaten: <br><img src="https://habrastorage.org/webt/e6/3b/2g/e63b2g_qhey5o9vmzuanqfidqhe.png" alt="Bild"><br><br>  Die Grafik zeigt, dass w√§hrend des gesamten Tests keine Leistungseinbu√üen auftreten. <br><br>  CPU-Statistiken: <br><img src="https://habrastorage.org/webt/mt/tn/jo/mttnjo09trs9shnvuelmutmkjaw.png" alt="Bild"><br><br><img src="https://habrastorage.org/webt/at/bv/im/atbvim4noi3ehoqwcpw_nkuk5hu.png" alt="Bild"><br><br>  Bei diesem Test war die CPU-Belastung der Hosts nahezu maximal. <br><br>  Statistik der Belastung des Speichersystems durch SimpliVity-√úberwachung: <br><img src="https://habrastorage.org/webt/qc/_z/bd/qc_zbdfztexr5yw6s2xh2pe_evy.png" alt="Bild"><br><br>  Die Leistung des Speichersystems bleibt w√§hrend des gesamten Tests auf dem gleichen Niveau. <br><br>  Die Belastung des Speichersystems w√§hrend des Tests betrug ungef√§hr 6.500 IOPS in einem Verh√§ltnis von 60/40 (3.900 IOPS zum Lesen, 2.600 IOPS zum Schreiben), was ungef√§hr 28 IOPS pro Workstation entspricht. <br><br>  Die durchschnittliche Antwortzeit betrug 3 ms zum Schreiben und bis zu 1 ms zum Lesen. <br><br><h2>  Zusammenfassung </h2><br>  Bei der Simulation realer Lasten der HPE SimpliVity-Infrastruktur wurden Ergebnisse erzielt, die die F√§higkeit des Systems best√§tigen, virtuelle Desktops in H√∂he von mindestens 300 Full Clone-Computern auf einem Paar von SimpliVity-Knoten bereitzustellen.  Gleichzeitig wurde die Reaktionszeit des Speichersystems w√§hrend des gesamten Tests auf einem optimalen Niveau gehalten. <br><br>  Wir sind sehr beeindruckt von dem Ansatz, langwierige Tests durchzuf√ºhren und L√∂sungen vor der Implementierung zu vergleichen.  Wenn Sie m√∂chten, k√∂nnen wir die Leistung f√ºr Ihre Workloads testen.  Einschlie√ülich anderer hyperkonvergenter L√∂sungen.  Der genannte Kunde f√ºhrt nun parallel Tests an einer anderen L√∂sung durch.  Die derzeitige Infrastruktur besteht lediglich aus einer PC-Flotte, einer Dom√§ne und einer Software an jedem Arbeitsplatz.  Der Wechsel zu VDI ohne Tests ist nat√ºrlich ziemlich schwierig.  Insbesondere ist es schwierig, die tats√§chlichen Funktionen der VDI-Farm zu verstehen, ohne echte Benutzer darauf zu migrieren.  Mit diesen Tests k√∂nnen Sie schnell die tats√§chlichen F√§higkeiten eines bestimmten Systems beurteilen, ohne normale Benutzer anziehen zu m√ºssen.  Daher entstand eine solche Studie. <br><br>  Der zweite wichtige Ansatz - der Kunde hat sofort die richtige Skalierung festgelegt.  Hier k√∂nnen Sie einen Server kaufen und eine Farm hinzuf√ºgen, zum Beispiel f√ºr 100 Benutzer, alles ist zum Preis des Benutzers vorhersehbar.  Wenn sie beispielsweise weitere 300 Benutzer hinzuf√ºgen m√ºssen, wissen sie, dass sie zwei Server in einer bereits definierten Konfiguration ben√∂tigen, und √ºberdenken nicht die M√∂glichkeiten, ihre Infrastruktur insgesamt zu aktualisieren. <br><br>  Interessante Funktionen der HPE SimpliVity Federation.  Das Gesch√§ft ist geografisch aufgeteilt, daher ist es sinnvoll, ein separates VDI-St√ºck Eisen in einem entfernten B√ºro aufzubewahren.  In der SimpliVity Federation wird jede virtuelle Maschine nach einem Zeitplan repliziert, mit der M√∂glichkeit, sehr schnell und ohne Belastung des Kanals zwischen geografisch entfernten Clustern zu wechseln. Dies ist eine sehr gute integrierte Sicherung.  Beim Replizieren von VMs zwischen Standorten wird der Kanal so minimal wie m√∂glich verwendet. Auf diese Weise k√∂nnen sehr interessante DR-Architekturen mit einem einzigen Kontrollzentrum und einer Reihe von dezentralen Speicherstandorten erstellt werden. <br><img src="https://habrastorage.org/webt/iu/zm/mo/iuzmmojtdcsyhteccn2fvq4bxbi.png" alt="Bild"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">F√∂deration</a> <br><br>  All dies zusammen erm√∂glicht es, die finanzielle Seite detailliert zu bewerten, die Kosten von VDI den Wachstumspl√§nen des Unternehmens aufzuerlegen und zu verstehen, wie schnell sich die L√∂sung auszahlt und wie sie funktioniert.  Denn jeder VDI ist eine L√∂sung, die letztendlich viele Ressourcen spart, aber h√∂chstwahrscheinlich gleichzeitig keine kosteng√ºnstige M√∂glichkeit bietet, sie innerhalb von 5-7 Jahren nach ihrer Verwendung zu √§ndern. <br><br>  Wenn Sie Fragen haben, die keine Kommentare enthalten, schreiben Sie mir im Allgemeinen unter mk@croc.ru. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de449210/">https://habr.com/ru/post/de449210/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de449196/index.html">Flexiant Cloud Orchestrator: Womit es isst</a></li>
<li><a href="../de449198/index.html">FFmpeg Erste Schritte mit Visual Studio</a></li>
<li><a href="../de449200/index.html">H√∂hepunkte der Vergangenheit Moskau Python Conf ++ 2019: Umwandlung in eine Plattform f√ºr Kommunikation</a></li>
<li><a href="../de449204/index.html">Da betrachten wir die Metriken f√ºr die Entwicklung und Unterst√ºtzung der Dokumentation. Yandex-Bericht</a></li>
<li><a href="../de449208/index.html">So erstellen und verwalten Sie erfolgreiche Teams</a></li>
<li><a href="../de449214/index.html">Klusterkit</a></li>
<li><a href="../de449216/index.html">Betrug automatisierter √úberwachungskameras</a></li>
<li><a href="../de449218/index.html">10 kritische F√§higkeiten f√ºr jeden DevOps-Ingenieur</a></li>
<li><a href="../de449220/index.html">DrumHero: Wie ich das erste Spiel in meinem Leben gemacht habe</a></li>
<li><a href="../de449224/index.html">√úber die Tendenz der k√ºnstlichen Intelligenz</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>