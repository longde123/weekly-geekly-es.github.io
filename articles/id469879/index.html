<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎧 🈳 🧑🏽‍🤝‍🧑🏼 VPN ganda dalam satu klik. Cara mudah membagi alamat IP dari titik masuk dan keluar 👨🏻‍🏭 ✖️ 🏳️‍🌈</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="TL; DR Artikel ini menjelaskan cara termudah untuk mengonfigurasi server VPN, yang alamat IP-nya untuk menghubungkan klien VPN berbeda dari alamat IP ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VPN ganda dalam satu klik. Cara mudah membagi alamat IP dari titik masuk dan keluar</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vdsina/blog/469879/"><img src="https://habrastorage.org/webt/gu/ux/_r/guux_rw3bw9b6_0h617yyow4xrq.png"><br><br>  <b>TL; DR</b> <i>Artikel ini menjelaskan cara termudah untuk mengonfigurasi server VPN, yang alamat IP-nya untuk menghubungkan klien VPN berbeda dari alamat IP yang digunakan klien untuk mengakses Internet.</i> <br><br>  Apakah Anda menggunakan VPN untuk melindungi privasi di Internet dan menyewa server Anda sendiri untuk ini?  Apakah Anda satu-satunya klien yang terhubung ke server ini di seluruh dunia?  Apakah sulit menemukan alamat IP asli Anda, menurut Anda?  Dengan berlakunya paket Spring, menjadi jauh lebih mudah. <br><br>  <b>Double VPN</b> adalah topik populer di mana ada banyak spekulasi.  Seringkali istilah ini disebut teknologi yang sama sekali berbeda, tetapi hampir selalu berarti koneksi Internet dan titik keluar yang terpisah pada tingkat alamat IP.  Kami akan mempertimbangkan cara termudah untuk mengonfigurasi server VPN dalam mode ini, yang tidak memerlukan konfigurasi tambahan di sisi server dan memungkinkan Anda untuk mendapatkan kecepatan maksimum dan latensi terendah. <br><a name="habracut"></a><br><h2>  Model Ancaman </h2><br>  Untuk melindungi diri Anda dari sesuatu, Anda perlu memahami model ancaman dengan jelas.  Kami tidak akan membahas undang-undang baru yang mewajibkan penyedia untuk menyimpan semua lalu lintas klien, tetapi kami pasti dapat mengatakan bahwa data koneksi, yang disebut  Netflow, penyimpanan cukup sederhana, dan telah berhasil dilakukan untuk waktu yang lama.  Artinya, fakta menghubungkan alamat IP bersyarat <b><code>1.1.1.1</code></b> ke alamat <b><code>2.2.2.2</code></b> pada waktu tertentu dalam sehari dicatat. <br><br>  Memiliki akses ke informasi semacam itu pada skala penyedia, kota atau negara, cukup dengan menetapkan siapa yang bersembunyi di balik VPN. <br><br>  Untuk meningkatkan tingkat privasi saat menggunakan VPN, Anda harus memisahkan titik koneksi dan jalur akses Internet di tingkat IP.  Pada gambar di atas, pengguna kami berada di belakang pagar di bawah pengawasan Irina Yarovoy.  Semua koneksi yang melewati pagar, Irina ingat dengan ketat.  Pengguna, sebagai warga negara yang layak, terhubung ke alamat <b><code>good.citizen.vpn</code></b> , sementara ia kembali dari alamat <b><code>super.cool.guy.vpn</code></b> .  Alhasil, bagi Irina, kedua koneksi ini terlihat tidak terhubung. <br><br><h2>  Apa itu VPN ganda? </h2><br>  Di bawah nama "ganda" VPN, hal-hal yang berbeda sering dipahami, tetapi hampir selalu berarti node koneksi dan akses ke Internet yang berjarak geografis atau di tingkat jaringan.  Kadang-kadang itu hanya trik pemasaran penyedia VPN, yang sama sekali tidak berarti apa-apa, layanan seperti itu bisa disebut "triple" dan "quadruple" VPN. <br><br>  Kami akan menganalisis skema paling umum yang digunakan dalam praktik. <br><br><h3>  VPN antar server </h3><br>  Cara paling umum.  Dalam mode ini, klien membuat koneksi VPN hanya ke server pertama.  Terowongan ke yang kedua dikonfigurasi pada server pertama, dan semua lalu lintas dari klien pergi ke server kedua, dan seterusnya.  Mungkin ada beberapa server perantara.  Dalam hal ini, terowongan antara server dapat diinstal menggunakan protokol lain selain dari protokol yang digunakan klien terhubung, misalnya IPsec, atau tanpa enkripsi apa pun, seperti GRE atau IPIP.  Dalam mode ini, semua server perantara <b>dapat dilihat dalam jejak rute</b> .  Tidak ada cara untuk memeriksa dengan tepat bagaimana server perantara di sisi klien terhubung, sehingga Anda hanya bisa mempercayai penyedia. <br><br>  Sepanjang rute lalu lintas, MTU minimum (unit transmisi maksimum) tetap sama dengan nilai terowongan pertama, dan setiap server perantara <b>memiliki akses ke lalu lintas klien yang dienkripsi</b> . <br><br><img src="https://habrastorage.org/webt/-f/k8/0p/-fk80pf8rdttoxn4tbpu7qcnopi.png"><br><br><h3>  VPN melalui proxy </h3><br>  Juga cara yang cukup umum.  Sering digunakan untuk menutupi lalu lintas VPN di bawah protokol yang berbeda, misalnya di Cina.  Metode ini lebih nyaman daripada rantai proxy, karena menggunakan VPN, mudah untuk mengarahkan semua lalu lintas sistem ke terowongan.  Ada juga alat untuk mencegat panggilan sistem dari program dan mengarahkan mereka ke proxy: ProxyCap, Proxifier, tetapi mereka kurang stabil karena mereka kadang-kadang kehilangan permintaan dan mereka mem-bypass proxy atau bekerja secara tidak benar pada beberapa program. <br><br>  Dalam mode ini, server proxy tidak terlihat dalam jejak rute. <br><br><img src="https://habrastorage.org/webt/hd/uf/ar/hdufardfsfqecwuasklqamx_fzw.png"><br><br><h3>  VPN di dalam VPN </h3><br>  Cara paling paranoid dan paling lambat: semua terowongan naik di sisi klien, dengan masing-masing di dalam yang lain.  Metode ini membutuhkan konfigurasi rute yang licik di sisi klien dan peluncuran semua klien VPN dengan urutan yang benar.  Ini buruk untuk latensi dan kinerja, tetapi server perantara tidak memiliki akses ke lalu lintas terbuka klien.  Semua overhead enkapsulasi dirangkum, dan ukuran paket maksimum (MTU) yang akhirnya tersedia untuk klien berkurang tergantung pada jumlah terowongan.  Server perantara tidak terlihat dalam jejak rute. <br><br><img src="https://habrastorage.org/webt/1f/bc/_d/1fbc_dpm24jxomg-gtt-t4xhouu.png"><br><br><h2>  Konfigurasikan VDS </h2><br>  Cara termudah untuk mengatur VPN dengan titik masuk dan keluar terpisah adalah dengan menghubungkan beberapa alamat IP ke satu server virtual.  Metode ini memungkinkan Anda untuk mendapatkan kecepatan maksimum dan penundaan minimum, karena sebenarnya lalu lintas dihentikan pada satu server.  Di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Vdsina.ru,</a> Anda dapat melakukannya sendiri dari panel kontrol.  Sementara IPv4 berakhir di mana-mana, kami mengeluarkan alamat IP tambahan bahkan di server selama 60 rubel! <br><br>  Kami akan menganalisis konfigurasi server langkah demi langkah. <br><br><h3>  Pilih server </h3><br>  Kami memesan VDS dengan tarif yang sesuai, di pusat data yang diperlukan.  Mengingat tugas kami, kami akan memilih pusat data lebih jauh, di Belanda;) <br><br><img src="https://habrastorage.org/webt/xf/jv/nt/xfjvntqtokkir7sgkqlzcctlgyq.png"><br><br><h3>  Hubungkan alamat IP tambahan </h3><br>  Setelah membeli alamat IP tambahan, Anda harus mengonfigurasinya <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sesuai dengan instruksi</a> . <br><br><img src="https://habrastorage.org/webt/um/er/ot/umerotsqubrxdreezekpld2jzyi.png"><br><br>  Untuk kejelasan, tetapkan catatan PTR ke IP.  Ini adalah nama domain yang akan terlihat ketika alamat IP dikonversi kembali ke domain.  Ini bisa berupa nilai apa pun, termasuk domain yang tidak ada. <br><br>  Sebagai contoh, kami akan menggunakan nilai-nilai berikut: <br><br><pre> <code class="bash hljs">xxx.xxx.38.220 — super.cool.guy.vpn <span class="hljs-comment"><span class="hljs-comment">#   ( ) xxx.xxx.39.154 — good.citizen.vpn #   ( )</span></span></code> </pre><br><img width="400" src="https://habrastorage.org/webt/mz/oh/uj/mzohujvwi-8-ahlpeuuaduo1rie.png"><br><br><h2>  Dua Verifikasi IP </h2><br>  Penting untuk diingat bahwa alamat IP yang awalnya ditetapkan di server akan menjadi titik keluar, sehingga alamat baru akan menjadi titik masuk.  Terhubung melalui SSH ke server dan periksa alamat mana yang digunakan sebagai alamat eksternal. <br><br>  Untuk melakukan ini, paling mudah menggunakan layanan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">ifconfig.co</a> dari konsol.  Saat meminta melalui ikal, itu mengembalikan alamat IP dari mana permintaan itu dibuat. <br><br><pre> <code class="bash hljs">$ curl ifconfig.co xxx.xxx.38.220</code> </pre><br>  Angka-angka terakhir menunjukkan bahwa alamat eksternal kami sangat cocok dengan titik keluar.  Mari kita coba periksa operasi IP kedua yang benar sebagai titik masuk.  Untuk melakukan ini, cukup gunakan fungsi proksi SOCKS yang dibangun ke dalam SSH. <br><br>  Perintah dieksekusi pada klien: <br><br><pre> <code class="bash hljs">ssh -D 9999 root@good.citizen.vpn <span class="hljs-comment"><span class="hljs-comment">#    curl -x socks5h://127.0.0.1:9999 ifconfig.co super.cool.guy.vpn</span></span></code> </pre><br>  Perintah pertama mengatur sesi SSH dengan alamat good.citizen.vpn dan secara bersamaan mengaktifkan proxy SOCKS di dalam sesi ini, yang tersedia di port lokal.  Yang kedua membuat permintaan HTTP normal melalui proxy ini. <br><blockquote>  Penting untuk diingat bahwa contoh kami menggunakan nama domain fiktif untuk kueri.  Mereka akan ditampilkan hanya dengan resolusi PTR, dan permintaan penuh kepada mereka tidak dapat dibuat.  Oleh karena itu, pada tahap ini, Anda perlu mengakses server melalui alamat IP. </blockquote><h2>  Konfigurasi Server IKEv2 </h2><br><div style="text-align:center;"><img width="700" src="https://habrastorage.org/webt/gg/tv/jr/ggtvjr7iq-tknhzeiv-3cdogqw0.png"></div><br><br>  IPsec IKEv2 adalah protokol VPN modern yang didukung oleh hampir semua sistem operasi di luar kotak.  Ini digunakan sebagai protokol default di Windows, macOS dan iOS.  Namun, itu tidak memerlukan instalasi perangkat lunak pihak ketiga dan dalam kebanyakan kasus bekerja lebih cepat daripada OpenVPN.  Sudah ada <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel tentang pengaturan server IKEv2 di hub</a> , tetapi semuanya menggambarkan penggunaan sertifikat yang ditandatangani sendiri, dan tidak nyaman karena mengharuskan Anda untuk menginstal sertifikat root di sisi klien VPN. <br><br>  Kami akan menganalisis contoh konfigurasi server menggunakan sertifikat tepercaya dari Let's Encrypt.  Ini memungkinkan Anda untuk tidak menginstal sertifikat root asing untuk klien, tetapi hanya mengeluarkan nama pengguna dan kata sandi. <br><br><h3>  Persiapan server </h3><br>  Kami akan menggunakan server berbasis Ubuntu 18.04, tetapi instruksi ini juga cocok untuk sebagian besar distribusi modern. <br><br>  Kami memperbarui sistem dan menginstal paket yang diperlukan <br><br><pre> <code class="plaintext hljs">apt update &amp;&amp; apt upgrade apt install certbot strongswan libstrongswan-extra-plugins</code> </pre><br><h3>  Masalah sertifikat </h3><br>  Untuk mengeluarkan sertifikat tepercaya, Anda perlu mengarahkan domain asli ke alamat IP titik masuk.  Kami tidak akan mempertimbangkan item ini secara terperinci, karena ini berada di luar cakupan artikel.  Sebagai contoh, kita akan menggunakan domain fiktif <b>good.citizen.vpn</b> <br><br>  Jika Anda sudah memiliki server web di server, gunakan metode yang sesuai untuk menerbitkan sertifikat melalui certbot atau klien lain untuk Let's Encrypt.  Contoh ini mengasumsikan bahwa port HTTP (80) tidak sibuk. <br><br><pre> <code class="bash hljs">certbot certonly --standalone --agree-tos -d good.citizen.vpn</code> </pre><br>  Menjawab pertanyaan penyihir?  kami akan menerima sertifikat dan kunci yang ditandatangani <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># find /etc/letsencrypt/live/good.citizen.vpn/ /etc/letsencrypt/live/good.citizen.vpn/ /etc/letsencrypt/live/good.citizen.vpn/fullchain.pem /etc/letsencrypt/live/good.citizen.vpn/README /etc/letsencrypt/live/good.citizen.vpn/cert.pem /etc/letsencrypt/live/good.citizen.vpn/privkey.pem /etc/letsencrypt/live/good.citizen.vpn/chain.pem</span></span></code> </pre><br>  Untuk otentikasi server IKEv2, sertifikat X.509 yang sama digunakan untuk <br>  Https  Agar Strongswan dapat menggunakan sertifikat ini, sertifikat tersebut harus disalin ke folder /etc/ipsec.d. <br><br>  Begini caranya sertifikat harus ditemukan: <br><br><pre> <code class="plaintext hljs">cp /etc/letsencrypt/live/good.citizen.vpn/cert.pem /etc/ipsec.d/certs/ cp /etc/letsencrypt/live/good.citizen.vpn/privkey.pem /etc/ipsec.d/private/ cp /etc/letsencrypt/live/good.citizen.vpn/chain.pem /etc/ipsec.d/cacerts/</code> </pre><br>  Karena sertifikat enkripsi mari kita sering dikeluarkan kembali, melakukannya secara manual tidak nyaman.  Oleh karena itu, kami mengotomatiskan proses ini menggunakan hook untuk certbot. <br><br>  Tugas skrip adalah menyalin tiga file ke folder yang diinginkan setiap kali sertifikat diperbarui, dan kemudian mengirim perintah strongswan untuk membaca kembali sertifikat. <br><br>  Buat file <b>/etc/letsencrypt/renewal-hooks/deploy/renew-copy.sh</b> dan buat itu bisa dieksekusi. <br><br><pre> <code class="plaintext hljs">#!/bin/sh set -e for domain in $RENEWED_DOMAINS; do case $domain in good.citizen.vpn) daemon_cert_root=/etc/ipsec.d/ # Make sure the certificate and private key files are # never world readable, even just for an instant while # we're copying them into daemon_cert_root. umask 077 cp "$RENEWED_LINEAGE/cert.pem" "$daemon_cert_root/certs/" cp "$RENEWED_LINEAGE/chain.pem" "$daemon_cert_root/cacerts/" cp "$RENEWED_LINEAGE/privkey.pem" "$daemon_cert_root/private/" # Reread certificates /usr/sbin/ipsec reload /usr/sbin/ipsec purgecerts /usr/sbin/ipsec rereadall ;; esac done</code> </pre><br>  Sekarang, setelah setiap penerbitan ulang sertifikat, skrip akan menyalin file baru ke folder Strongswan dan mengirim perintah ke daemon untuk membaca kembali sertifikat. <br><br><h3>  Setup Strongswan </h3><br>  Tambahkan konfigurasi /etc/ipsec.conf strongswan <br><br><pre> <code class="bash hljs">config setup <span class="hljs-comment"><span class="hljs-comment">#       uniqueids=no # Increase debug level # charondebug = ike 3, cfg 3 conn %default #       ike=aes256-sha256-modp1024,aes256-sha256-modp2048 #  ""  dpdaction=clear dpddelay=35s dpdtimeout=2000s keyexchange=ikev2 auto=add rekey=no reauth=no fragmentation=yes #compress=yes # left - local (server) side leftcert=cert.pem #      /etc/ipsec.d/certs/ leftsendcert=always #    leftsubnet=0.0.0.0/0 # right - remote (client) side eap_identity=%identity #   IP-  VPN- rightsourceip=10.0.1.0/24 rightdns=8.8.8.8,1.1.1.1 # Windows and BlackBerry clients usually goes here conn ikev2-mschapv2 rightauth=eap-mschapv2 # Apple clients usually goes here conn ikev2-mschapv2-apple rightauth=eap-mschapv2 leftid=good.citizen.vpn</span></span></code> </pre><br>  Login dan kata sandi klien VPN diatur dalam file <b>/etc/ipsec.secrets</b> <br><br>  Dalam file ini Anda juga perlu menentukan nama kunci pribadi yang sebelumnya kami salin dari folder letsencrypt: <br><br><pre> <code class="plaintext hljs">#       /etc/ipsec.d/private/ : RSA privkey.pem #  VPN #  : EAP "" IrinaYarovaya : EAP "PleaseLoveMe123" Mizooleena : EAP "IwannaLoveToo3332"</code> </pre><br>  Pada tahap ini, Anda dapat me-restart server Strongswan dan memeriksa apakah konfigurasi baru telah diaktifkan: <br><br><pre> <code class="plaintext hljs">$ systemctl restart strongswan $ ipsec statusall Virtual IP pools (size/online/offline): 10.0.1.0/24: 254/0/0 Listening IP addresses: xxx.xxx.38.220 Connections: ikev2-mschapv2: %any...%any IKEv2, dpddelay=35s ikev2-mschapv2: local: [CN=good.citizen.vpn] uses public key authentication ikev2-mschapv2: cert: "CN=good.citizen.vpn" ikev2-mschapv2: remote: uses EAP_MSCHAPV2 authentication with EAP identity '%any' ikev2-mschapv2: child: 0.0.0.0/0 === dynamic TUNNEL, dpdaction=clear ikev2-mschapv2-apple: %any...%any IKEv2, dpddelay=35s ikev2-mschapv2-apple: local: [good.citizen.vpn] uses public key authentication ikev2-mschapv2-apple: cert: "CN=good.citizen.vpn" ikev2-mschapv2-apple: remote: uses EAP_MSCHAPV2 authentication with EAP identity '%any' ikev2-mschapv2-apple: child: 0.0.0.0/0 === dynamic TUNNEL, dpdaction=clear</code> </pre><br>  Anda dapat melihat bahwa konfigurasi berhasil diaktifkan dan sertifikat terhubung.  Pada tahap ini, Anda sudah dapat terhubung ke server VPN, tetapi itu akan tanpa akses ke Internet.  Untuk melepaskan klien di Internet, Anda harus mengaktifkan penerusan dan konfigurasi NAT. <br><br><h3>  Pengaturan NAT </h3><br>  Kami mengaktifkan paket penerusan: <br><br><pre> <code class="plaintext hljs">echo "net.ipv4.ip_forward=1" &gt;&gt; /etc/sysctl.conf sysctl -p</code> </pre><br>  Nyalakan NAT.  Penting untuk diingat bahwa ini hanyalah contoh konfigurasi iptables minimal.  Sesuaikan sisa aturan sesuai dengan kebutuhan Anda. <br><br>  <b>ethName0</b> - ganti dengan nama antarmuka Anda <br>  <b>10.0.1.0/24</b> - kisaran alamat IP yang akan dikeluarkan untuk klien VPN.  Kami menanyakannya di <b>/etc/ipsec.conf</b> <br>  <b>111.111.111.111</b> - alamat IP dari titik keluar, dalam contoh kita ini adalah alamat super.cool.guy.vpn <br><br><pre> <code class="plaintext hljs">iptables -t nat -A POSTROUTING -s 10.0.1.0/24 -o ethName0 -j SNAT --to-source 111.111.111.111</code> </pre><br><h3>  Debugging </h3><br>  Pada tahap konfigurasi ini, kita harus mendapatkan server yang berfungsi penuh, yang sudah dapat disambungkan oleh klien.  Sebelum melanjutkan, lebih baik memverifikasi ini dengan memeriksa koneksi. <br><br>  Jika ada masalah koneksi, Anda dapat menonton log secara langsung: <br><br><pre> <code class="plaintext hljs">journalctl -f -u strongswan</code> </pre><br><h3>  Startup saat startup </h3><br>  Jika semuanya berhasil, Anda dapat menambahkan strongswan ke startup saat startup: <br><br><pre> <code class="plaintext hljs">systemctl enable strongswan</code> </pre><br><h3>  Menyimpan aturan iptables </h3><br>  Untuk menyimpan aturan iptables setelah reboot, ada paket <b>iptables-persistent</b> khusus.  Penting untuk diingat bahwa itu akan menyimpan set aturan saat ini dan menambahkannya ke startup. <br><br><pre> <code class="plaintext hljs">apt install iptables-persistent</code> </pre><br><h2>  Pengaturan pelanggan </h2><br>  Menyiapkan di sisi klien sangat sederhana - cukup beri tahu klien alamat server, nama pengguna dan kata sandi.  Untuk macOS dan iOS, Anda dapat membuat profil konfigurasi otomatis yang cukup untuk diaktifkan dalam dua klik. <br><br><div class="spoiler">  <b class="spoiler_title">Pengaturan Windows</b> <div class="spoiler_text">  Dalam versi baru Windows, IKEv2 dikonfigurasi dalam wizard sederhana, yang dapat diakses dari menu koneksi WiFi. <br><br><img src="https://habrastorage.org/webt/mu/hq/_r/muhq_rn7iubyixxxsislcmmqvzm.png"><br><br>  Windows tidak menetapkan rute default untuk koneksi seperti itu, jadi kami akan menginstalnya secara manual.  Di properti koneksi VPN, buka properti TCP / IPv4 -&gt; tambahan dan centang kotak "Gunakan gateway di jaringan jauh" <br><br> <a href=""><img src="https://habrastorage.org/webt/ra/c5/_x/rac5_xi76rjiuadeswi3e1m8rug.png"></a> <br>  <sup>diklik</sup> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Pengaturan MacOS</b> <div class="spoiler_text">  MacOS mendukung IKEv2 dimulai dengan versi 10.11 (El Capitan).  Koneksi dibuat melalui menu pengaturan jaringan. <br><br><img src="https://habrastorage.org/webt/f4/ad/hk/f4adhkw9swpneyfo0jn9jgro9s4.png" alt="gambar"><br><br>  Tambahkan koneksi baru.  Nama koneksi adalah nama sembarang. <br><br><img src="https://habrastorage.org/webt/xc/ng/zq/xcngzqon0ilejqrl7hqla-8vbf4.png" alt="gambar"><br><br>  Untuk mengotentikasi sertifikat, Anda harus menentukan nama domain.  Pada saat yang sama, di bidang "Alamat Server", Anda dapat menentukan alamat IP server, dan domain hanya dalam "Remote ID", maka resolusi DNS tidak akan dilakukan untuk koneksi, dan itu akan terjadi sedikit lebih cepat. <br><br><img src="https://habrastorage.org/webt/x4/c2/eq/x4c2eqk2waefy8woi_pnaa8o5uw.png" alt="gambar"><br><br>  Nama pengguna dan kata sandi ditentukan dari file <b>/etc/ipsec.secrets</b> <br><br><img src="https://habrastorage.org/webt/-p/gu/98/-pgu98eevkywzjzqjd7dfvq94zc.png" alt="gambar"><br></div></div><br><div class="spoiler">  <b class="spoiler_title">Pengaturan IOS</b> <div class="spoiler_text">  Konfigurasi iOS dapat dilakukan secara manual melalui wizard, tetapi jauh lebih nyaman untuk menggunakan profil konfigurasi otomatis mobileconfig. <br><br>  Penyetelan manual memiliki arti yang mirip dengan macOS desktop: <br><br>  <b>Pengaturan -&gt; VPN -&gt; Tambahkan Konfigurasi VPN</b> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">Profil Konfigurasi Otomatis untuk Perangkat Apple</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/sj/r2/up/sjr2up4rsqjjrxzltdldqrepnmk.png"><br>  Profil konfigurasi otomatis .mobileconfig adalah file konfigurasi XML yang dapat mengonfigurasi apa pun dari sertifikat SSL hingga koneksi VPN. <br><br>  Cukup bagi pengguna untuk mengklik file, dan semua pengaturan yang diperlukan akan diinstal secara otomatis. <br><br>  Contoh konfigurasi untuk terhubung ke server IKEv2 kami. <br>  Untuk mengonfigurasi file untuk konfigurasi Anda, cukup edit beberapa parameter dalam templat ini: <br><br>  <b>AuthName</b> - nama pengguna dari file <b>/etc/ipsec.secrets</b> <br>  <b>AuthPassword</b> - kata sandi pengguna <b>/etc/ipsec.secrets</b> <br>  <b>RemoteAddress</b> - domain atau alamat IP server <br>  <b>RemoteIdentifier</b> - domain yang mengeluarkan sertifikat <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plist</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>PayloadContent<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>IKEv2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- Username and password from ipsec.secrets --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>AuthName<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>IrinaYarovaya<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>AuthPassword<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>PleaseLoveMe123<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- Hostname or IP address of VPN server. Chosing IP address instead of DNS name can avoid issues with client DNS resolvers and speed up connection process. --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>RemoteAddress<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>123.123.123.123<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- leftid in ipsec.conf --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>RemoteIdentifier<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>good.citizen.vpn<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>AuthenticationMethod<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>Certificate<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>ChildSecurityAssociationParameters<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- in ipsec.conf this proposal is: ike=aes256-sha256-modp2048 --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>DiffieHellmanGroup<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span>14<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>EncryptionAlgorithm<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>AES-256<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>IntegrityAlgorithm<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>SHA2-256<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>LifeTimeInMinutes<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span>1440<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>DeadPeerDetectionRate<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- None (Disable) Low (keepalive sent every 30 minutes) Medium (keepalive sent every 10 minutes) High (keepalive sent every 1 minute) --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>High<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>ExtendedAuthEnabled<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">true</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>IKESecurityAssociationParameters<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>DiffieHellmanGroup<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span>14<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>EncryptionAlgorithm<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>AES-256<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>IntegrityAlgorithm<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>SHA2-256<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>LifeTimeInMinutes<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span>1440<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- Always On OnDemand Rule Cen be disabled in connection preferences by "On Demand" checkbox http://www.v2ex.com/t/137653 https://developer.apple.com/library/mac/featuredarticles/iPhoneConfigurationProfileRef/Introduction/Introduction.html https://github.com/iphoting/ovpnmcgen.rb --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>OnDemandEnabled<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>OnDemandRules<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>Action<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>Connect<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>IPv4<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>OverridePrimary<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>PayloadDescription<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>Configures VPN settings<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>PayloadDisplayName<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>VPN<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>PayloadIdentifier<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>com.apple.vpn.managed.96C1C38F-D4D6-472E-BA90-9117ED8896B5<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>PayloadType<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>com.apple.vpn.managed<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>PayloadUUID<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>96C1C38F-D4D6-472E-BA90-9117ED8896B5<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>PayloadVersion<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- VPN connection name in Network Preferences --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>UserDefinedName<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>London VPN<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>VPNType<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>IKEv2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- Set the name to whatever you like, it is used in the profile list on the device --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>PayloadDisplayName<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>My Super IKEv2 VPN<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- A reverse-DNS style identifier (com.example.myprofile, for example) that identifies the profile. This string is used to determine whether a new profile should replace an existing one or should be added. --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>PayloadIdentifier<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>vpn.googd.citizen<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- A globally unique identifier, use uuidgen on Linux/Mac OS X to generate it --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>PayloadUUID<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>F3FAD91C-019C-4A79-87A1-CF334C583339<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>PayloadType<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>Configuration<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>PayloadVersion<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">integer</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plist</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre></div></div><br><div class="spoiler">  <b class="spoiler_title">Penyiapan Android</b> <div class="spoiler_text">  Sayangnya, Android adalah satu-satunya sistem operasi populer yang masih belum memiliki dukungan bawaan untuk IKEv2.  Untuk terhubung, Anda dapat menggunakan klien <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Strongswan</a> resmi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dari PlayMarket</a> <br></div></div><br><h2>  Ringkasan </h2><br>  Kami menunjukkan opsi pengaturan server paling sederhana dengan titik masuk dan keluar spasi.  Konfigurasi ini memungkinkan Anda untuk mendapatkan kecepatan VPN maksimum, karena tidak menggunakan terowongan tambahan di antara server, terlepas dari kenyataan bahwa alamat IP titik masuk dan keluar berada pada subnet yang berbeda.  Pendekatan ini memungkinkan Anda untuk bereksperimen lebih lanjut dengan menghubungkan lebih dari dua alamat IP ke server. <br><br>  Protokol IKEv2 sangat cocok untuk menggunakannya pada OS desktop untuk pekerjaan sehari-hari, karena secara maksimal diintegrasikan ke dalam sistem dan, semua hal lain dianggap sama, memungkinkan Anda untuk mendapatkan kecepatan lebih daripada melalui program VPN pihak ketiga. <br><br><img src="https://habrastorage.org/webt/hi/b3/xj/hib3xjmkyohwf9yqp_irjum5tls.png"><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/ud/xv/wf/udxvwfcz80j3nug11rxaguqelww.png"><br></a> <br><h3>  Berlangganan pengembang Instagram kami </h3><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/e5/as/-l/e5as-ltfnotkemk2dsqngygimra.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id469879/">https://habr.com/ru/post/id469879/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id469861/index.html">Struktur data untuk pemrogram game: data massal</a></li>
<li><a href="../id469869/index.html">Mengapa Anda harus overclock RAM (mudah!)</a></li>
<li><a href="../id469871/index.html">Ketika keyboard adalah tabel</a></li>
<li><a href="../id469875/index.html">Cara melindungi kata sandi Anda pada tahun 2019</a></li>
<li><a href="../id469877/index.html">Oh metode Newton ini</a></li>
<li><a href="../id469881/index.html">Tiga hari pertama kehidupan sebuah pos di Habré</a></li>
<li><a href="../id469883/index.html">Apakah mungkin memprogram keacakan?</a></li>
<li><a href="../id469885/index.html">Nonaktifkan konsol lokal saat menggunakan x11vnc</a></li>
<li><a href="../id469889/index.html">SamsPcbGuide, bagian 12: Teknologi - penutup tipe BGA, plastik, dan ruang II</a></li>
<li><a href="../id469893/index.html">Rumah dengan elemen teknologi tinggi untuk kucing gelandangan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>