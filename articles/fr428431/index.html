<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò´ ‚ùì üëßüèæ Plus que des couches concentriques üòè üë¥üèø üë®üèΩ‚Äçüíª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article fait partie de la Chronique de l'architecture logicielle , une s√©rie d'articles sur l'architecture logicielle. J'y √©cris ce que j'ai appri...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Plus que des couches concentriques</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/428431/"><img src="https://habrastorage.org/webt/lm/yh/jm/lmyhjmjqhejzhfwqvxvozhtjt3g.jpeg"><br><br>  <i>Cet article fait partie de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la Chronique de l'architecture logicielle</a> , une s√©rie d'articles sur l'architecture logicielle.</i>  <i>J'y √©cris ce que j'ai appris sur l'architecture logicielle, ce que j'en pense et comment j'utilise les connaissances.</i>  <i>Le contenu de cet article peut avoir plus de sens si vous lisez les articles pr√©c√©dents de la s√©rie.</i> <br><br>  Dans un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">article pr√©c√©dent de la</a> s√©rie, j'ai publi√© une carte conceptuelle qui montre les relations entre les types de code. <br><br>  Mais il m'a toujours sembl√© que tout ne s'y refl√®te pas tr√®s bien, je ne savais tout simplement pas comment faire mieux.  Il s'agit d'un tronc commun. <br><br>  En outre, quelques r√©flexions suppl√©mentaires ont surgi que je vais d√©crire dans ce court article. <br><a name="habracut"></a><br>  Dans l'infographie du dernier article de cette s√©rie, au centre m√™me du diagramme, nous voyons le tronc commun.  Il semble √™tre situ√© √† l'int√©rieur de la couche de domaine et au-dessus des sections coniques, qui sont des contextes limit√©s. <br><br> <a href=""><img src="https://habrastorage.org/webt/mm/07/bx/mm07bx1u2dxlgab0prkzllunvf8.png"></a> <br><br>  Malgr√© son emplacement, je ne voulais pas dire que le noyau commun d√©pend du reste du code ou que le noyau commun est une autre couche √† l'int√©rieur du niveau de domaine. <br><br><h1>  Qu'est-ce qu'un tronc commun?! </h1><br>  Le noyau commun, tel que d√©fini par Eric Evans, le <i>p√®re de</i> DDD, est le code que l'√©quipe de d√©veloppement d√©cide de r√©partir entre plusieurs contextes limit√©s: <br><br><blockquote>  [...] un sous-ensemble du mod√®le de domaine que les deux √©quipes ont convenu d'utiliser ensemble.  Bien entendu, avec ce sous-ensemble du mod√®le, le noyau commun comprend un sous-ensemble du code ou de l'architecture de base de donn√©es associ√©e √† cette partie du mod√®le.  Ce mat√©riel clairement g√©n√©ral a un statut sp√©cial et ne doit pas √™tre modifi√© sans consulter une autre √©quipe. <br><br>  - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">¬´Common Kernel¬ª</a> , DDD Wiki de Ward Cunningham </blockquote><br>  Ainsi, il peut s'agir de tout type de code: code au niveau du domaine, code au niveau de l'application, biblioth√®ques ... peu importe. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/edc/a8f/2f5/edca8f2f5a6b1ff83123709b2b412e81.jpg"><br><br>  Cependant, dans le contexte de notre carte conceptuelle, je le pr√©sente comme un sous-ensemble, comme un type de code sp√©cifique.  Dans ma carte conceptuelle, le noyau commun contient du code pour les niveaux de domaine et d'application, qui est partag√© dans des contextes limit√©s afin que la communication entre des contextes restreints soit possible. <br><br>  Par exemple, cela signifie que les √©v√©nements sont d√©clench√©s dans un ou plusieurs contextes restreints et √©cout√©s dans d'autres contextes restreints.  Avec ces √©v√©nements, nous devons partager tous les types de donn√©es utilis√©s par ces √©v√©nements, par exemple: identificateurs d'entit√©, objets de valeur, √©num√©rations, etc. Les objets complexes tels que les entit√©s ne doivent pas √™tre utilis√©s directement par les √©v√©nements, car ils peuvent √™tre difficiles s√©rialiser / d√©s√©rialiser vers / depuis la file d'attente, donc le code g√©n√©rique ne doit pas √™tre largement distribu√©. <br><br>  Bien s√ªr, si nous avons un syst√®me multilingue de microservices, le noyau commun doit √™tre descriptif, en JSON, XML, YAML, etc., afin que tous les microservices puissent le comprendre. <br><br>  Par cons√©quent, ce noyau commun est compl√®tement s√©par√© du reste de la base de code, des composants.  C'est formidable, car alors les composants, bien que connect√©s au noyau commun, sont s√©par√©s les uns des autres.  Le code g√©n√©rique est explicitement identifi√© et facilement r√©cup√©r√© dans une biblioth√®que distincte. <br><br>  Il est √©galement tr√®s pratique si nous d√©cidons d'extraire l'un des contextes limit√©s dans un microservice, s√©par√© du monolithe.  Nous savons avec certitude ce qui est commun et pouvons simplement extraire le noyau commun dans la biblioth√®que, qui sera install√©e √† la fois dans le monolithe et dans le microservice. <br><br>  Donc, pour r√©sumer, dans ma carte conceptuelle, le c≈ìur de l'application d√©pend d'un noyau commun qui contient du code du domaine et des niveaux d'application partag√©s entre des contextes limit√©s. <br><br><h1>  Quand la langue ne suffit pas ... </h1><br>  Donc, nous avons le code d'application avec toutes les couches concentriques, et le noyau d'application d√©pend du noyau commun, qui est sous tout ce code. <br><br>  Nous pouvons √©galement dire que tout ce code d√©pend du ou des langages de programmation utilis√©s, mais c'est un fait tellement √©vident que nous avons tendance √† l'ignorer compl√®tement. <br><br>  Cependant, la question se pose: "Et si les constructions de langage ne suffisent pas?!"  Eh bien, √©videmment, nous cr√©ons nous-m√™mes ces constructions de langage et compensons ainsi les d√©fauts de la langue.  Mais j'ai des questions de suivi importantes: ¬´Comment et o√π justifier l'existence de ce code?  Comment indiquer clairement quand et comment l'utiliser? ¬ª <br><br>  Ce que j'ai vu et fait moi-m√™me √©tait un paquet appel√© Utils ou Commons, o√π se trouve ce code.  Mais au final, on finit par y jeter tout le code, qu'on ne sait pas o√π mettre!  Toutes sortes de codes √† des fins diff√©rentes et faciles √† utiliser (envelopp√©s dans un adaptateur utilis√© directement ...) y sont finalement d√©vers√©s.  Le paquet n'a pas de sens conceptuel, pas de coh√©rence, pas de coh√©rence, pas de clart√©, beaucoup d'ambigu√Øt√©s. <br><br>  Je veux abandonner les packages Utils and Commons! <br><br>  Tous les packages doivent avoir une coh√©sion conceptuelle!  Il devrait √™tre clair quand et comment utiliser le paquet!  Aucune ambigu√Øt√©! <br><br>  Par exemple, si une application interagit avec l'interface de ligne de commande d'une mani√®re sp√©ciale, au lieu de placer 'Acme / Util / SpecialCli' dans l'espace de noms, vous pouvez la placer dans 'Acme / App / Infrastructure / Cli / SpecialCli'.  Cela signifie que ce package est associ√© √† la CLI, il fait partie de l'infrastructure de l'application Acme App.  L'affiliation √† l'infrastructure de l'application indique √©galement qu'il existe un port dans le noyau de l'application auquel ce package correspond. <br><br>  Alternativement, si nous voyons ce paquet comme quelque chose qui manque au langage lui-m√™me, nous pouvons le mettre dans l'espace de noms appropri√©, par exemple, 'Acme / PhpExtension / SpecialCli'.  Cela montre que ce package doit √™tre consid√©r√© comme faisant partie du langage lui-m√™me, et donc son code doit √™tre utilis√© directement dans la base de code comme toute construction de langage.  Bien s√ªr, si une autre entreprise d√©pend de ce package, il peut √™tre raisonnable pour elle de ne pas en d√©pendre directement, mais il est plus s√ªr de cr√©er un port / adaptateur afin de pouvoir l'√©changer contre autre chose.  Mais si nous poss√©dons le package, nous pouvons le consid√©rer comme faisant partie du langage, car le risque de devoir le remplacer par une autre alternative n'est pas si grand.  Le compromis est toujours la chose. <br><br>  Un autre exemple de ce qui peut √™tre consid√©r√© comme faisant partie du langage est les UUID uniques en PHP.  Il est tout √† fait possible de les imaginer en dehors du langage, car √† chaque fois qu'il y a une nouvelle version et c'est un cauchemar avec support de code, mais c'est un concept tr√®s g√©n√©ral, un concept large et suffisamment coh√©rent pour faire partie du langage. <br><br>  Alors pourquoi ne pas cr√©er une impl√©mentation UUID et l'utiliser comme une partie de PHP lui-m√™me, comment utiliser un objet DateTime?!  Pendant que nous contr√¥lons la mise en ≈ìuvre, je ne vois aucun d√©faut. <br><br>  Qu'en est-il du langage de requ√™te de doctrine (DQL)?  (Doctrine est le port Hibernate en PHP) peut-on regarder DQL comme s'il s'agissait de SQL, Elasticsearch QL ou Mongo QL? <br><br><h1>  Conclusion </h1><br>  Donc, au niveau macro, je vois quatre types de code de base et je pense qu'il est important de les montrer clairement dans l'organisation de la base de code, afin de ne pas se retrouver avec beaucoup de salet√©. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4c4/861/97e/4c486197ead0a3876b911e49627b8776.png"><br><br>  Pour moi, la v√©rit√© ind√©niable est que l' <b>architecture existe toujours, la seule question est de savoir si on la contr√¥le ou pas?!</b> <br><br>  Organisons donc <b>clairement le code en fonction de l'architecture</b> , en tout ou en partie, sur une carte conceptuelle - la mienne ou une autre.  L'essentiel est d'organiser le code afin que le projet rende compte explicitement de son architecture √† travers la structure et l'organisation du code. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr428431/">https://habr.com/ru/post/fr428431/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr428417/index.html">Apprentissage automatique dans MatLab / Octave: exemples d'algorithmes pris en charge par les formules</a></li>
<li><a href="../fr428419/index.html">Faites glisser et faites glisser dans RecyclerView. Partie 2: glisser-d√©poser des contr√¥leurs, des grilles et des animations personnalis√©es</a></li>
<li><a href="../fr428421/index.html">Syst√®me flexible pour tester et collecter des m√©triques de programme en utilisant la suite de tests LLVM comme exemple</a></li>
<li><a href="../fr428423/index.html">Comment un accord de 34 milliards de dollars entre IBM et Red Hat va changer le march√© informatique: experts et analystes</a></li>
<li><a href="../fr428429/index.html">GOST R 34.10 signature √©lectronique de documents PDF dans la suite bureautique LibreOffice</a></li>
<li><a href="../fr428433/index.html">Avocats testeurs priv√©s</a></li>
<li><a href="../fr428435/index.html">Que lire en PHP en russe?</a></li>
<li><a href="../fr428437/index.html">Portefeuille Apple Qu'est-ce que c'est et comment y int√©grer votre carte</a></li>
<li><a href="../fr428439/index.html">Sans ensemble</a></li>
<li><a href="../fr428441/index.html">Achat GitHub termin√©. Que se passera-t-il ensuite?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>