<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè¶ üßñüèº üë®üèª‚Äçüíª Heures sur les lampes √† d√©charge (GRI), ce sont des horloges Nixie üñçÔ∏è üë®üèº‚Äç‚öïÔ∏è üë©üèæ‚Äçü§ù‚Äçüë®üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Concept de projet 
 Le concept de ce produit est de r√©pondre au besoin de regarder la vraie flamme. Une d√©charge luminescente dans un gaz n'est pas √† ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Heures sur les lampes √† d√©charge (GRI), ce sont des horloges Nixie</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/431868/"><h3>  Concept de projet </h3><br>  Le concept de ce produit est de r√©pondre au besoin de regarder la vraie flamme.  Une d√©charge luminescente dans un gaz n'est pas √† proprement parler une flamme, bien qu'elle ressemble √† une vraie flamme. <br>  J'aime sa couleur et c'√©tait le seul motif pour commencer √† cr√©er de telles montres pour moi en un seul exemplaire. <br><br>  La t√¢che de cr√©er un dispositif pour la production de masse n'a pas √©t√© pos√©e. <br><br>  Par cons√©quent, le budget du projet est beaucoup plus raisonnable.  Les d√©cisions ont √©t√© prises sur la base de nos propres id√©es sur la beaut√©, le co√ªt des composants n'a pas √©t√© pris en compte.  Bien s√ªr, il y a toujours des limites, par exemple, je n'ai pas achet√© de gros GRI (indicateurs de d√©charge de gaz) tels que IN18 - leur prix est plus qu'une fronti√®re d√©finie intuitivement et ils ne correspondaient pas √† mon concept d'apparence du produit.  J'ai utilis√© le GRI type IN-12. <br><a name="habracut"></a><br>  IN12 est rempli d'un m√©lange de n√©on (ou d'un m√©lange de gaz inertes) et de vapeur de mercure.  La vapeur de mercure augmente consid√©rablement la durabilit√© de l'appareil et donne une teinte bleu√¢tre √† la lueur du plasma.  D'autres GRI peuvent √™tre sans mercure et donner une lueur n√©on claire. <br><br>  La fonction principale de la montre est d'afficher l'heure exacte (CEP, bonjour!).  Il est tr√®s souhaitable que l'heure au d√©marrage soit r√©gl√©e automatiquement et ne n√©cessite aucune manipulation de la part de l'utilisateur.  De mon point de vue personnel, les boutons de ces appareils ne sont pas du tout n√©cessaires.  Des appareils similaires avec une douzaine de boutons et des centaines de fonctions provoqu√©s par diverses combinaisons de pressions et de temps de pression me provoquent une tristesse silencieuse.  Premi√®rement, les GRI sont bien adapt√©s pour afficher uniquement les chiffres.  Rien d'autre n'est envisag√© et tente d'afficher les √©l√©ments de menu, etc. √† mon avis - l'utilisation d'un outil inappropri√©.  Il en va de m√™me pour des fonctions suppl√©mentaires telles qu'un r√©veil, etc. <br><br>  Deuxi√®mement, il est √©vident qu'il est irr√©aliste de se rappeler quelle combinaison de pressions de bouton active l'une ou l'autre des fonctions int√©gr√©es.  √âcrire des programmes pour de tels appareils est amusant et agr√©able, mais impossible √† utiliser. <br><br>  Cette question est parfaitement consid√©r√©e dans le livre Donald A. Norman Design of familiar things.  Je citerai un passage: <br><br>  <i>¬´Lors de mes voyages, j'ai utilis√© plusieurs fois le projecteur de diapositives Leitz.</i>  <i>La premi√®re fois a √©t√© le pire cauchemar.</i>  <i>J'ai commenc√© √† donner des conf√©rences et j'ai montr√© la premi√®re diapositive.</i>  <i>Quand il a fallu passer √† la diapositive suivante, l'√©tudiant responsable du spectacle a doucement appuy√© sur le bouton et a commenc√© √† regarder avec horreur le support se diriger dans la direction oppos√©e, sortir du projecteur de diapositives et tomber de la table au sol, m√©langeant toutes les diapositives.</i>  <i>Il a fallu 15 minutes pour organiser les diapositives dans l'ordre.</i>  <i>Ce n'√©tait pas l'√©tudiant qui √©tait √† bl√¢mer pour cela, mais cet √©l√©gant projecteur de diapositives.</i>  <i>Comment un bouton peut-il remplir deux fonctions oppos√©es?</i>  <i>Personne ne pouvait le faire correctement la premi√®re fois. ¬ª</i> <i><br><br></i>  <i>Le probl√®me √©tait qu'un bouton remplissait deux fonctions oppos√©es - une pression courte d√©pla√ßait la glissi√®re vers l'avant, une longue - vers l'arri√®re. ¬ª</i> <br><br>  Nous continuons la discussion sur le r√©glage de l'horloge.  Ces appareils sont configur√©s de mani√®re optimale √† partir de leur propre page Web √† l'aide d'un ordinateur, d'une tablette ou d'un smartphone. <br><br>  Je n'ai pas besoin d'un r√©veil pour les montres avec GRI - tout d'abord, il y a toujours des t√©l√©phones portables avec de telles fonctions et une interface beaucoup plus pratique.  Deuxi√®mement, l'horloge du GRI ne peut pas utiliser une source d'alimentation autonome car la consommation √©lectrique typique (200 Volt * 7 mA = 1400 mW ou 1,4 watts) est assez grande et d√©passe les limites raisonnables pour les sources de courant chimique.  Par cons√©quent, l'horloge avec le GRI sera aliment√©e par le r√©seau et la fonction d'alarme d√©pendra de la fiabilit√© du r√©seau. <br><br>  Du raisonnement ci-dessus, le syst√®me suivant √©merge: <br><br>  Horloge GRI avec alimentation du r√©seau, avec la possibilit√© de prendre l'heure exacte sur Internet, avec le r√©glage de sa propre page Web.  Aucune fonctionnalit√© suppl√©mentaire n'est requise. <br><br>  N√©anmoins, j'ai viol√© la rigueur de cette r√®gle en ajoutant les fonctionnalit√©s suivantes: <br><br>  Une montre peut afficher la temp√©rature, l'humidit√© et la pression atmosph√©rique de la rue.  Cette fonction r√©pond √† mon besoin personnel de conna√Ætre la temp√©rature ext√©rieure lorsque j'arrive au travail le matin.  J'attache ma chemise tous les jours au m√™me endroit et lorsque la montre me trouve l√†-bas, ils affichent constamment la temp√©rature ext√©rieure, l'humidit√© et la pression atmosph√©rique en millim√®tres de mercure.  La fonction s'est av√©r√©e r√©ussie et tr√®s demand√©e par moi et les membres de ma famille.  Les donn√©es sur la temp√©rature, la pression et l'humidit√© de la rue sont automatiquement prises et stock√©es pour le temps entre les colis provenant d'une source externe.  Si le d√©lai est d√©pass√© (les donn√©es sont obsol√®tes), l'horloge affiche la date actuelle.  Dans mon syst√®me domestique, les donn√©es sur les param√®tres de l'environnement externe arrivent √† des intervalles de 10 minutes, le d√©lai d'attente "donn√©es obsol√®tes" est r√©gl√© sur 30 minutes.  Lors de la conception de la montre, il a √©t√© suppos√© que l'√©quipe externe pourrait avoir une voix, par exemple, dire: "Horloge, m√©t√©o!".  Cependant, lors du prototypage, il s'est av√©r√© que cette m√©thode n'est pas fiable et peu pratique.  Par cons√©quent, √† l'avenir, la commande vocale a √©t√© remplac√©e par une m√©thode pour d√©terminer la pr√©sence d'une personne devant la montre en fonction du localisateur laser de l'heure de vol.  L'horloge doit afficher les donn√©es m√©t√©orologiques si vous vous tenez devant elles pendant environ une seconde. <br><br>  L'horloge par une commande externe via l'interface HTTP peut afficher les donn√©es re√ßues dans cette commande.  L'√©quipe transf√®re √† la fois les donn√©es elles-m√™mes et l'heure √† laquelle elles sont affich√©es √† l'√©cran.  Il a √©t√© con√ßu comme une opportunit√© pour afficher quelque chose de l'ordinateur par des √©v√©nements, par exemple, une surchauffe du processeur du serveur domestique ou d'autres param√®tres.  L'interface int√©gr√©e vous permet d'afficher un code √† sept chiffres de l'ext√©rieur, y compris deux points.  En pratique, il n'est pas appliqu√© du tout. <br><br>  Les exigences obligatoires comprenaient √©galement l'effet d'un changement en douceur des nombres.  C'est cet effet, le seul de tous, j'aime beaucoup! <br><br>  La luminosit√© des indicateurs doit √™tre ajust√©e √† la lumi√®re ambiante, tout en maintenant le contraste de l'image inchang√©. <br><br>  L'horloge doit afficher six chiffres et une valeur auxiliaire devant les chiffres pour indiquer ce qui est actuellement affich√©. <br><br><h3>  Mise en ≈ìuvre de la solution mat√©rielle con√ßue </h3><br><h3>  S√©lection GRI </h3><br>  Pour afficher l'heure et d'autres donn√©es, quatre GRI IN-12A, deux IN-12B et un IN-15A ont √©t√© utilis√©s. <br><br>  IN-12B contient les points que j'ai utilis√©s pour s√©parer les heures-minutes-secondes. <br><br>  GRI IN-15A peut afficher un certain nombre de signes sp√©ciaux ¬´+¬ª, ¬´-¬ª, ¬´%¬ª, ¬´P¬ª, etc., plac√©s au d√©but de la ligne. <br><br><h3>  La distance optimale entre les indicateurs. </h3><br>  Pour que la montre soit harmonieuse, une certaine distance entre les indicateurs doit √™tre garantie, comme entre les lettres d'une ligne.  L'√©tude de la question a donn√© les informations suivantes: la distance optimale entre les nombres est de 4 mm, entre les mots 8 mm.  La distance optimale entre les chiffres est assur√©e avec un indicateur d'ajustement serr√© dans les panneaux.  Je crois que ce n'est pas un hasard, ont pens√© les ing√©nieurs sovi√©tiques avec leur t√™te pendant le d√©veloppement et ont fait la bonne distance. <br><br><h3>  Synchronisation avec les serveurs de temps </h3><br>  Examinez les moyens d'obtenir automatiquement l'heure exacte: <br><br><ol><li>  Une demande sur Internet √† un serveur de temps exact. </li><li>  R√©cepteur Glonass \ GPS.  Malheureusement, dans certains cas, cela ne fonctionne pas: par exemple, dans mon appartement au bas de la pi√®ce, le signal des satellites dispara√Æt, la configuration infructueuse des b√¢timents environnants m'affecte, dans laquelle le ciel clair n'est visible que directement √† la fen√™tre. </li><li>  R√©seau cellulaire.  En th√©orie, vous pouvez demander du temps √† une station cellulaire sans vous inscrire (c'est-√†-dire sans carte SIM).  Je n'ai pas essay√©.  Th√©oriquement, le moyen le plus universel qui ne n√©cessite rien de l'utilisateur. </li><li>  Signaux temporels pr√©cis √† grandes longueurs d'onde.  Il est difficile √† appliquer, il n'y a pas de solutions pr√™tes √† l'emploi portables. </li></ol><br>  √Ä mon avis, le meilleur moyen est de demander l'heure exacte via Internet.  Il convient de noter que les fonctions int√©gr√©es pour stocker l'heure actuelle de l'ESP8266 se sont av√©r√©es assez pr√©cises: en un mois de d√©connexion accidentelle du point d'acc√®s au r√©seau par lequel les heures d√©crites √©taient connect√©es √† Internet, le d√©part √©tait inf√©rieur √† une minute.  J'ai d√©termin√© cela par la co√Øncidence de l'horloge et de l'heure de l'ordinateur.  Une fois l'alimentation r√©tablie, le point d'acc√®s se synchronise automatiquement. <br><br><h3>  Le choix du processeur et des circuits de contr√¥le GRI </h3><br>  Pour contr√¥ler l'horloge, il faut un processeur capable d'acc√©der √† Internet.  Parmi celles disponibles, ce sont des cartes bas√©es sur l'ESP8266.  L'√©tude du probl√®me a montr√© que la carte est bon march√©, r√©pandue, poss√®de de riches logiciels pr√™ts √† l'emploi cr√©√©s par des passionn√©s, peut √™tre programm√©e dans l'environnement Arduino. <br><br><h3>  Le choix du syst√®me (microcircuit) de la commande </h3><br>  Le GRI est aliment√© par une tension assez √©lev√©e d'environ 200 volts.  Selon le passeport (voir Fig. 1), IN12 n√©cessite au moins 170 volts pour l'occurrence normale d'une d√©charge luminescente √† un courant allant jusqu'√† 2 mA.  Le syst√®me de commande doit pouvoir commuter des courants de plusieurs milliamp√®res et r√©sister √† des tensions de l'ordre de 200 volts.  En Union sovi√©tique, des microcircuits K155ID1 (133ID1, etc.) ont √©t√© produits (d√©codeur d√©cimal binaire haute tension).  Ils fonctionnaient parfaitement en mode statique, un d√©codeur √©tait n√©cessaire par lampe.  Maintenant, ces microcircuits sont disponibles √† partir d'anciens stocks et sont m√™me produits en petits lots par l'usine de Minsk Integral.  En principe, un bon choix pour les montres sur contre-microcircuits.  Cependant, ils sont difficiles √† utiliser dans un syst√®me √† microprocesseur en raison du nombre limit√© de sorties sur les microprocesseurs.  Ainsi, l'horloge ESP8266, prise comme base, n'a qu'une douzaine de conclusions, et certaines d'entre elles ont certaines limites.  Pour 7 d√©codeurs, 28 broches sont n√©cessaires, ou un registre interm√©diaire, dans lequel les donn√©es doivent √™tre sorties s√©quentiellement puis sorties en parall√®le sur K155ID1, ce qui complique grandement le circuit. <br><br><img src="https://habrastorage.org/webt/99/81/ve/9981vejezvjuviohr0l_8xauc_8.gif"><br>  <i>Fig 1. Passeport de l'indicateur de d√©charge luminescente IN-12</i> <br><br><img src="https://habrastorage.org/webt/ij/w7/dv/ijw7dvvzivci68gogd0tcyjigfe.jpeg"><br>  <i>Fig 2. Passeport de l'indicateur de d√©charge luminescente IN-15</i> <br><br>  Lors de l'utilisation de 155ID1, l'effet d'un changement en douceur des nombres n√©cessite une indication dynamique.  Le fait est que le GRI est un appareil fortement non lin√©aire et il est tr√®s difficile de contr√¥ler sa luminosit√© de mani√®re analogique en changeant la tension - il est tr√®s difficile en raison de la forte pente de la caract√©ristique de tension appliqu√©e au courant.  Dans la r√©gion de faible luminosit√©, la d√©charge de gaz devient instable.  En outre, l'√©clairage externe affecte l'allumage constant de la lampe - avec une diminution de l'√©clairage externe, √† la fois la tension de claquage et l'indicateur de temps d'activation augmentent.  Les photons externes servent comme une sorte d'initiateurs plus l√©gers de la d√©charge.  Soit dit en passant, la forte pente de la d√©pendance du courant √† travers le dispositif de d√©charge de gaz sur la tension appliqu√©e est utilis√©e pour obtenir une tension stable, en fait, un tel dispositif de d√©charge de gaz est un stabilisateur de tension.  Par cons√©quent, pour contr√¥ler la luminosit√© du GDI, l'utilisation d'un mode de puissance puls√©e est n√©cessaire, dans lequel la luminosit√© est proportionnelle au courant moyen traversant le GDI, qui √† son tour est proportionnel √† la largeur de l'impulsion. <br><br>  L'indication dynamique lors de l'utilisation de 155ID1 + GRI est tout √† fait possible, mais pr√©sente un certain nombre de limitations.  Ainsi, en raison de la particularit√© des circuits 155ID1 (√©l√©ments cl√©s relativement basse tension - seulement 60 volts), des √©clairs de nombres voisins et d'autres effets ind√©sirables sont possibles.  Ces effets sont combattus avec une vari√©t√© d'astuces - √† la fois mat√©rielles et logicielles.  Il y a un √©norme sujet sur le site Web de RADIOKOT.RU (https://radiokot.ru/forum/viewtopic.php?f=3&amp;t=3210) d√©di√© √† NIXIE CLOCK, j'ai tout lu et tir√© des conclusions pour moi-m√™me - l'indication dynamique ne convient pas √† mes fins . <br><br>  Une recherche sur Internet a donn√© un excellent substitut au 155ID1 - il s'agit de la puce HV5622, qui repr√©sente un registre √† d√©calage 32 bits avec des sorties haute tension.  Le sch√©ma de principe est illustr√© √† la Fig.3. <br><br><img src="https://habrastorage.org/webt/rb/nu/xc/rbnuxc9pdbdqrtxg5epadxwbtg8.png"><br>  <i>Figure 3. Diagramme structurel du HV5622, Supertex inc.</i>  <i>¬©</i> <br><br>  Le HV5622 est capable de commuter des tensions jusqu'√† 230 volts, recevant des donn√©es via une interface s√©rie avec une fr√©quence d'horloge jusqu'√† 8 MHz.  Les microcircuits peuvent √™tre connect√©s en s√©rie dans une cha√Æne.  Pour le contr√¥le, seules 4 sorties du MK sont n√©cessaires: donn√©es, un signal d'horloge, un signal d'√©criture dans le registre de sortie et un signal d'activation.  La seule chose qui a suscit√© des doutes a √©t√© de nourrir les tensions.  Selon le manuel, il devrait √™tre d'au moins 8 volts.  Et je voudrais alimenter les puces √† partir de 5 volts, et m√™me les contr√¥ler avec un signal logique avec un niveau de 3,3v.  Sur Internet, j'ai trouv√© quelques exemples d'utilisation de tels microcircuits et les alimenter √† partir de 5 volts.  Par cons√©quent, au cours du d√©veloppement, juste au cas o√π, j'ai fourni la possibilit√© d'installer un convertisseur de niveau logique et une alimentation 5622 avec une tension plus √©lev√©e, mais je n'ai pas imm√©diatement install√© ces n≈ìuds.  La pratique a montr√© que tout fonctionne bien √† partir de 5 volts de toute fa√ßon. <br><br><h3>  Regarder la nutrition </h3><br>  Pour alimenter l'horloge du GRI, une alimentation √† deux sorties est n√©cessaire: 5 volts avec un courant de l'ordre du demi-amp√®re et 180-200 volts avec un courant d'environ 10 mA.  Par d√©faut, les auteurs de sch√©mas pour de telles montres r√©solvent le probl√®me d'alimentation comme suit: ils utilisent une alimentation √† d√©coupage externe 220 -&gt; 12 volts, dont 5 volts sont fabriqu√©s √† l'int√©rieur de l'horloge, et 180 volts pour l'alimentation sont obtenus par le deuxi√®me convertisseur d'impulsions √† partir de l'entr√©e 12 volts.  C'est-√†-dire  en fait, 2 convertisseurs d'impulsions sont utilis√©s dans le circuit de puissance g√©n√©ral, dont le premier fait 220 - 12, et le second 12 - 180. √Ä mon avis, il est inefficace.  J'ai donc choisi une mani√®re tr√®s traditionnelle d'utiliser le transformateur toro√Ødal pr√™t √† l'emploi TorAN15.  L'aspect de ce transformateur est illustr√© √† la Fig.4. <br><br><img src="https://habrastorage.org/webt/1e/uv/f_/1euvf_52xjsdpo-m64pa5dgxqwy.jpeg"><br>  <i>Figure 4. Transformateur TorAN15</i> <br><br>  J'ai achet√© ce transformateur sur le site Web ISTOK2.COM.  Le transformateur a deux enroulements secondaires - un √† 170 volts, le second √† 6,3 volts.  Cela a permis de se d√©brouiller avec le circuit d'alimentation le plus simple.  La haute alimentation GRI est redress√©e par un pont de diodes et filtr√©e sur des condensateurs.  Ces pi√®ces sont utilis√©es √† partir d'un √©conomiseur de lampe fluorescent inutile.  Le faible niveau d'alimentation des microcircuits est √©galement rectifi√© par un pont de diodes, filtr√© sur un condensateur √©lectrolytique et stabilis√© sur un stabilisateur int√©gr√© 7805. L'efficacit√© d'un tel circuit est beaucoup plus √©lev√©e qu'un syst√®me √† deux conversions, la fiabilit√© du syst√®me est beaucoup plus √©lev√©e.  De plus, l'absence totale d'interf√©rences haute fr√©quence.  Le moins est d√©mod√© et le transformateur est lourd.  Mais la gravit√© du transformateur dans ce cas est plut√¥t un avantage - je voulais que la montre soit brutalement massive. <br><br>  Ainsi, le sch√©ma d'horloge est d√©fini: il s'agit d'un module pr√™t √† l'emploi bas√© sur ESP12E, de trois microcircuits HV5622, d'un capteur de lumi√®re bas√© sur MAX44009 et d'une alimentation traditionnelle (je dirais m√™me conservatrice).  Par la suite, un n≈ìud pour d√©terminer une personne devant la montre a √©t√© ajout√© sur la base du module laser √† t√©l√©m√®tre √† temps de vol VL53L0X.  Le sch√©ma de l'horloge est illustr√© √† la Fig.5. <br><br><img src="https://habrastorage.org/webt/uo/n7/oy/uon7oyahasvsbxnkajvzm-bz0oi.jpeg"><br>  <i>Figure 5. Horloge Dronsky Nixie.</i>  <i>Diagramme sch√©matique</i> <br><br>  J'ai divis√© la commutation des broches comme suit: les trois premi√®res lampes - la premi√®re HV5622, les trois autres lampes - la deuxi√®me HV5622, la HV5622 restante contr√¥le la lampe avec des caract√®res sp√©ciaux et des points dans deux IN12B. <br><br>  Au stade de la conception, il n'√©tait pas clair si le canal SPI aurait suffisamment de vitesse pour produire des donn√©es pour un changement en douceur des chiffres.  Le fait qu'une fois par seconde pour sortir 96 bits n'est pas difficile pour l'ESP12E √©tait hors de doute.  Mais y a-t-il suffisamment de vitesse pour produire des effets?  Selon les calculs devrait suffire avec une marge.  Mais comme vous le savez, c'√©tait lisse sur le papier ... <br><br>  Par cons√©quent, il √©tait initialement pr√©vu de produire des donn√©es en trois √©tapes, s√©par√©ment pour chaque puce.  Un test pratique a montr√© que le canal SPI a suffisamment de vitesse avec une √©norme marge d'effets, m√™me avec une fr√©quence d'horloge de 4 MHz.  M√™me la possibilit√© de doubler la vitesse n'√©tait pas r√©clam√©e.  En cons√©quence, tous les microcircuits sont connect√©s en cha√Æne et la sortie de 96 bits est effectu√©e avec une seule commande.  Selon les calculs, le temps de sortie de 96 bits devrait √™tre de 24 Œºs.  La figure 6 montre un enregistrement d'un analyseur logique produisant sept caract√®res sur le GRI.  Le temps de sortie total, compte tenu de la g√©n√©ration du signal LE, est inf√©rieur √† 30 ŒºS. <br><br><img src="https://habrastorage.org/webt/my/iw/-m/myiw-mjjwbqh8sghcw2no7obnzo.png"><br>  <i>Figure 6. Sortie de l'analyseur logique canal de sortie HSPI 96 bits avec une fr√©quence d'horloge de 4 MHz</i> <br><br>  Les broches CLOCK de toutes les puces sont combin√©es.  La borne DI (entr√©e de donn√©es) des deuxi√®me et troisi√®me microcircuits est connect√©e aux bornes DO (donn√©es sortantes) des premier et deuxi√®me microcircuits, respectivement.  Les broches LE (Latch enable) sont combin√©es, elles re√ßoivent une impulsion qui transf√®re les donn√©es du d√©calage vers le registre de sortie.  Jusqu'√† ce que la lampe soit transf√©r√©e, ce qui est stock√© dans le registre de sortie est √©mis.  Les broches BLOCK sont combin√©es, connect√©es √† la masse via une r√©sistance 1k, pour maintenir les √©tages de sortie du HV5622 √©teints jusqu'√† ce que le programme d√©marre dans le MK.  Le manuel recommande de mettre sous tension, d'effectuer la premi√®re sortie de donn√©es, puis d'activer les √©tages de sortie. <br><br><h3>  Contr√¥le de la luminosit√© </h3><br>  Pour contr√¥ler la luminosit√© du GRI afin de maintenir un contraste optimal constant des indicateurs, la sortie BLOCK est utilis√©e, √† laquelle un signal PWM avec une fr√©quence de 2500 Hz est fourni.  Une fr√©quence suffisamment √©lev√©e du signal de commande PWM a √©t√© utilis√©e, ce qui garantit l'absence d'effets stroboscopiques, etc. Conform√©ment aux normes (Normes et r√®glements de construction (Normes et r√®gles de construction) 23-05-2010 (version mise √† jour de SNiP 23-05-05-95) et aux r√®gles et normes sanitaires de SNPiN 2.21 /2.1.1.1278-03) on pense qu'une personne ne per√ßoit pas la fr√©quence des pulsations d'√©clairage au-dessus de 300 Hz.  Dans ce cas, un exc√®s de la fr√©quence PWM de presque un ordre fournit le bon niveau de confort visuel. <br><br><h3>  L'effet d'un changement en douceur des nombres </h3><br>  Afin d'obtenir l'effet visuel d'un changement en douceur des chiffres, il est n√©cessaire d'activer alternativement les anciens et les nouveaux chiffres pendant le temps de changement d'un chiffre √† un autre (g√©n√©ralement 200-250 ms), et le temps de gravure de l'ancien chiffre devrait diminuer et le nouveau devrait augmenter.  L'algorithme de changement de chiffres (changement de sous-programme ()) effectue 60 cycles.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lors du d√©marrage de l'algorithme de changement de chiffre, le premier chiffre est inclus √† 100% du temps de cycle et le second √† 0%. Au fur et √† mesure que les cycles passent, le temps d'activation du premier chiffre diminue de 100% √† 0% et le temps d'activation du deuxi√®me chiffre augmente de 0% √† 100%). Ainsi, l'algorithme de changement progressif des chiffres sur 200 ms et 60 cycles r√©duit la luminosit√© du premier chiffre √† l'arr√™t et du second √† la pleine luminosit√©. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le reste du temps du deuxi√®me intervalle, les nombres sont allum√©s en continu et statiquement, leur luminosit√© globale est r√©duite en contr√¥lant l'indication g√©n√©rale marche / arr√™t du signal PWM sur les terminaux BL.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La figure 7 montre les signaux enregistr√©s par l'analyseur logique lors du changement de nombres. </font><font style="vertical-align: inherit;">On peut voir qu'au d√©but du sous-programme de d√©calage, l'ancien num√©ro est activ√© pendant la dur√©e maximale, et le nouveau est le minimum, et pendant le d√©calage (environ 250 ms), le temps de gravure de l'ancien nombre diminue √† 0, et le nouveau augmente au maximum. </font><font style="vertical-align: inherit;">Visuellement, cela se manifeste par une diminution r√©guli√®re de la luminosit√© de l'ancienne figure avec la ¬´d√©cong√©lation¬ª simultan√©e de la nouvelle. </font></font><br><br><img src="https://habrastorage.org/webt/q9/ic/db/q9icdb570c3qwwi3cdxxpoji5tk.png"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 7. Enregistrement des signaux de commande lors d'un changement de chiffres en douceur</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Un enregistrement vid√©o de l'effet est donn√© ici.</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/1d2PpXAWdis" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et ici </font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/iLqac4LQwv8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  et ici: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/jb82CykLpQA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Synchronisation avec les serveurs de temps </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apr√®s avoir √©tudi√© la question sur Internet, j'ai conclu que les auteurs des programmes eux-m√™mes √©crivent (ou utilisent des routines tierces pr√™tes √† l'emploi) pour le protocole NTP. Cela m'a quelque peu surpris, car le SDK Espressif mentionne des fonctions int√©gr√©es pour travailler en temps r√©el. La fonctionnalit√© int√©gr√©e fournit une demande de serveurs de temps (jusqu'√† trois), une correction du temps (selon mes observations - une demande √† un serveur de temps a lieu toutes les 4-6 heures), la conversion d'une valeur sous forme de temps Unix en une forme lisible par l'homme, une correction en fonction d'un temps donn√© - zone. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parmi les caract√©ristiques de l'utilisation de la fonction en temps r√©el int√©gr√©e: pour la premi√®re et plusieurs demandes de temps suivantes, z√©ro est renvoy√© et le diagnostic ¬´ex√©cuter rtc en premier¬ª est √©mis.Comment faire - je ne l'ai pas trouv√© et donc j'attends (quelques secondes) jusqu'√† ce qu'une heure autre que z√©ro apparaisse.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Algorithme de lancement d'horloge </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque l'horloge est allum√©e, le syst√®me s'allume en mode client et une tentative est effectu√©e pour se connecter au point d'acc√®s avec les d√©tails stock√©s. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESP8266 se souvient de ces d√©tails apr√®s une connexion pr√©c√©dente r√©ussie par lui-m√™me dans la m√©moire de service. </font><font style="vertical-align: inherit;">Il s'agit d'une fonctionnalit√© impl√©ment√©e dans le SDK. </font><font style="vertical-align: inherit;">Si cette connexion √©choue, la tentative suivante est effectu√©e, mais le nom et le mot de passe du point d'acc√®s sont lus √† partir de l'EEPROM. </font><font style="vertical-align: inherit;">L'EEPROM stocke √©galement le fuseau horaire (un nombre compris entre -12 et +12), qui est ensuite utilis√© pour convertir correctement l'heure au format local.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si cette connexion √©choue √©galement, le mode de fonctionnement passe au ¬´point d'acc√®s¬ª et la page Web de la montre devient disponible √† l'adresse standard 192.168.4.1 pour tout appareil connect√© √† ce point d'acc√®s. Dans mon cas, le nom du point d'acc√®s est ESP_D. Depuis un smartphone, une tablette ou un ordinateur portable, acc√©dez √† la page de l'appareil, s√©lectionnez un point d'acc√®s et entrez un mot de passe. Pendant que le mode point d'acc√®s est activ√©, le mode client est d√©sactiv√©. Cela est d√ª aux particularit√©s du comportement du syst√®me dans une situation o√π la connexion au point d'acc√®s a √©chou√©. Le syst√®me r√©p√©tera sans cesse les tentatives d'adh√©sion, il ne s'en occupera que et il ne restera pratiquement plus de ressources pour autre chose. Ext√©rieurement, cela se manifestera comme une inhibition d√©sagr√©able de l'interface. L'apparence de la page est illustr√©e √† la Fig.8.</font></font><br><br><img src="https://habrastorage.org/webt/8o/am/ie/8oamiekijplb_n_aoqwaj6o9l_a.png"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 8. Apparence de l'interface d'horloge WEB et de la ligne de commande, illustrant la r√©ponse √† la commande ping.</font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sur cette page, tous les points d'acc√®s trouv√©s sont affich√©s. Les points d'acc√®s sont tri√©s par force du signal, la ligne sup√©rieure est le point d'acc√®s avec le signal le plus fort et tr√®s probablement le plus proche (c'est-√†-dire celui auquel vous devez vous joindre). Vous devez saisir un mot de passe, s√©lectionner un fuseau horaire et cliquer sur OK. Le syst√®me activera le mode ¬´client¬ª (simultan√©ment avec le ¬´point d'acc√®s¬ª) et tentera de se joindre. Si la connexion r√©ussit, les param√®tres seront stock√©s dans l'EEPROM. Si la connexion a √©chou√©, un message appara√Æt sur la page et vous pouvez r√©essayer d'entrer le mot de passe, etc.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apr√®s une connexion r√©ussie au r√©seau, le mode ¬´point d'acc√®s¬ª sera d√©sactiv√© et seul le mode ¬´client¬ª restera, c'est-√†-dire La page de lecture n'est accessible que depuis le r√©seau interne. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Afin de pouvoir acc√©der √† la montre par son nom (dans mon cas ¬´esp¬ª), la biblioth√®que NBNS est lanc√©e, qui fournit une r√©ponse via le protocole NetBios. La biblioth√®que permet √† la montre de r√©pondre √† des commandes comme ping esp et d'y acc√©der simplement par le nom </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">esp</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour des raisons qui ne me paraissent pas claires, il s'agit d'une merveilleuse biblioth√®que qui r√©pond √† une demande de diffusion telle que "√† quelle adresse est le" nom "?" </font><font style="vertical-align: inherit;">et vous permettant d'oublier la triste proc√©dure de d√©termination de l'adresse IP de l'appareil en fonction des donn√©es internes du routeur (switch), elle est tr√®s rarement utilis√©e. </font><font style="vertical-align: inherit;">Presque tous les appareils de l'ESP8266 d√©crits sur Internet n'utilisent pas ce m√©canisme simple et pratique. </font><font style="vertical-align: inherit;">La paresse devrait faire avancer le progr√®s - mais dans ce cas, elle ne bouge pas. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ensuite, le cycle de programme principal d√©marre, dans lequel les √©v√©nements suivants se produisent:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L'heure actuelle est interrog√©e et lorsque les secondes passent, un changement dans l'affichage de l'heure commence. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le capteur de lumi√®re est interrog√© et le rapport cyclique du signal PWM est ajust√©, ce qui contr√¥le la luminosit√© de l'horloge. </font><font style="vertical-align: inherit;">Le but de l'ajustement est de maintenir le contraste constant des nombres lors du changement de l'√©clairage dans la pi√®ce.</font></font></li><li>    VL53L0X.       ,       2 . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des exp√©riences ont montr√© que 2 m√®tres sont dans des conditions id√©ales lorsqu'une feuille de papier blanc ou une feuille d'aluminium avec un coefficient de r√©flexion proche de l'unit√© est utilis√©e comme r√©flecteur. Pour les objets ordinaires avec un coefficient de r√©flexion imparfait (tissu, peau humaine, etc.), la distance de d√©termination s√ªre est l√©g√®rement sup√©rieure √† 1 m√®tre. Si le capteur indique la pr√©sence d'un objet devant la montre, un sous-programme commence √† afficher la temp√©rature ext√©rieure actuelle, l'humidit√© et la pression atmosph√©rique. Des mesures ont √©t√© prises pour une certaine augmentation de l'immunit√© au bruit - l'algorithme le plus simple ¬´plus de 50% des op√©rations¬ª est utilis√©. Cela signifie que pour un intervalle de 800 ms, la cible doit √™tre d√©tect√©e √† une distance inf√©rieure √† 1 m√®tre dans plus de la moiti√© des mesures de la plage. Lors du d√©bogage, le syst√®me a montr√© que g√©n√©ralement 50 √† 60 op√©rations sont obtenues lorsque la cible est dans le champ de vision du capteur.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le syst√®me de d√©tection humain ne fonctionne que lorsque la cible appara√Æt dans le champ de vision. Pour recommencer l'√©mission, vous devez prendre du recul et recommencer. Ceci est fait pour supprimer la situation qui, en se tenant devant l'horloge, affiche tous les param√®tres externes de temps. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le capteur laser VL53L0X utilise une diode laser IR √©mettant √† une longueur d'onde de 940 nm, sans danger pour les yeux. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La vid√©o montre la r√©action du syst√®me √† l'apparition d'un obstacle dans le champ de vision du localisateur laser:</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/He5ZtJGpG68" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le plan initial pour d√©clencher l'affichage de donn√©es externes √©tait d'utiliser une puce de reconnaissance vocale. Pour ce faire, j'ai utilis√© la puce WTK6900B02 (reconnaissance de commande vocale), aimablement fournie par Sound Technologies. Selon la description, le microcircuit doit reconna√Ætre une dizaine de commandes audio et √©mettre un code binaire correspondant √† la commande re√ßue. Une impulsion du microcircuit a √©t√© connect√©e √† l'une des sorties de l'ESP8266 et un gestionnaire d'interruption mat√©rielle y a √©t√© connect√©. Par interruption mat√©rielle, le fait de la reconnaissance d'une commande vocale est enregistr√©. Un certain nombre de commandes en anglais ont √©t√© pr√©-enregistr√©es dans la puce que j'ai re√ßue. Je me suis entra√Æn√© dur dans la "prononciation correcte" des commandes, pour qu'elles soient reconnues. Il s'est av√©r√© que l'on ne devait pas parler avec la prononciation d'Oxford, mais avec un accent chinois :)), assez fort.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Malgr√© le temps consid√©rable pass√©, je n'ai pas pu obtenir une reconnaissance fiable des commandes vocales. Le meilleur que j'ai obtenu √©tait une reconnaissance correcte d'environ 50%. Par cons√©quent, j'ai √©t√© oblig√© d'utiliser un autre m√©canisme pour d√©clencher l'affichage de donn√©es externes - le t√©l√©m√®tre laser VL53L0X. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le programme principal de la montre a laiss√© des traces d'utilisation du syst√®me de commande vocale.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le programme comprend √©galement des parties pour lire les donn√©es de leur capteur ultraviolet VEML6070. </font><font style="vertical-align: inherit;">Le fait est que j'ai d√©bogu√© le programme d'horloge alternativement √† la maison et au travail, et je n'avais qu'un seul capteur MAX44009. </font><font style="vertical-align: inherit;">Par cons√©quent, au travail, le capteur ultraviolet VEML6070 a √©t√© connect√© √† l'ESP8266 et une partie du programme a √©t√© √©crite pour d√©terminer lequel des capteurs est actuellement connect√©. </font><font style="vertical-align: inherit;">Pour travailler sur l'algorithme de r√©glage du contraste, cela s'est av√©r√© √™tre tout √† fait suffisant, et je n'ai rien chang√© dans la version finale du programme.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sortie de donn√©es vers les registres HV5622 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comme je l'ai mentionn√© ci-dessus, pour contr√¥ler les lampes √† d√©charge, des microcircuits capables de commuter une tension assez √©lev√©e sont n√©cessaires. J'ai choisi les puces HV5622, qui sont un registre 32 bits avec √©criture s√©quentielle et lecture parall√®le. Les cathodes des lampes sont chacune connect√©es √† leur borne HV5622. Pour allumer un chiffre sp√©cifique, il est n√©cessaire de sortir 0. Aux deux premiers HV5622 sont connect√©es les cathodes de six GRI, au troisi√®me HV5622 sont les s√©parateurs de points d'heures-minutes et minutes-secondes et les cathodes de la septi√®me lampe avec des caract√®res sp√©ciaux. Pour inclure les chiffres n√©cessaires dans les lampes, un nombre de 32 bits doit √™tre affich√© dans le registre, dans lequel le journal 1 (les donn√©es √† l'int√©rieur du HV5622 sont invers√©es) correspond aux cathodes n√©cessaires des lampes. Le programme a des tableaux de variables de dimension 10 32 bits.Chaque √©l√©ment d'un tel tableau contient un nombre binaire avec log 1 √† l'une des positions, dont la sortie dans le registre conduira √† l'allumage du chiffre souhait√©. √âtant donn√© que chaque microcircuit contr√¥le plusieurs GDI, pour la sortie, il est n√©cessaire de former une variable 32 bits √† partir de plusieurs √©l√©ments, consistant principalement en 0 logique, o√π log 1 correspond aux chiffres n√©cessaires dans chaque lampe.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il convient de mentionner que la d√©cision d'utiliser des matrices pour contr√¥ler les cathodes GRI a un s√©rieux avantage: si une erreur a √©t√© commise et que les conclusions du GRI ont √©t√© m√©lang√©es lors du soudage des fils des prises GRI aux prises HV5622, puis pour le r√©parer, il suffit de changer la constante dans le programme sans rien souder. Le nombre important et la disposition serr√©e des fils HV5622 rendent difficile le soudage de deux fils adjacents. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour compl√©ter les trois registres, il est n√©cessaire de sortir 3 variables 32 bits (96 bits au total). Il est d√©raisonnable de le faire avec un ¬´effet de levier¬ª - trop long et trop long.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heureusement, l'ESP8266 int√®gre un m√©canisme mat√©riel (HSPI) pour la communication s√©rie, et le SDK a des fonctions d'acc√®s √† ce m√©canisme. Avec le lancement de ce m√©canisme, j'ai d√ª souffrir. La difficult√© √©tait qu'il n'√©tait pas clair o√π placer les variables 32 bits pour la sortie en mode HSPI. Pour comprendre le m√©canisme HSPI, j'ai utilis√© un analyseur logique. Apr√®s une s√©rie d'exp√©riences, j'ai r√©alis√© que 96 bits sont sortis, cependant, c'est le nombre de 32 bits souhait√© au d√©but et deux nombres de 32 bits contenant des ordures arbitraires. La recherche sur Internet n'a rien donn√©, mais √† quel moment j'ai r√©alis√© que s'il y avait une instruction comme WRITE_PERI_REG (SPI_W0 (HSPI), d0); alors vous pouvez essayer d'√©crire WRITE_PERI_REG (SPI_W1 (HSPI), d1); et en outre WRITE_PERI_REG (SPI_W2 (HSPI), d2); o√π d0, d1, d2 sont des variables de 32 bits.</font></font> C'est-√†-dire<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vous devez d'abord d√©composer les donn√©es dans les registres SPI_W0 - SPI_W2, puis √©mettre une commande pour d√©marrer l'√©change. </font><font style="vertical-align: inherit;">Je note √©galement que le module HSPI peut produire jusqu'√† 512 bits et qu'il n'y a que 16 registres de ce type: W0 - W15. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le signal LE, par lequel les donn√©es sont transf√©r√©es vers le registre de sortie HV5622, est g√©n√©r√© par programme.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> D√©bogage du syst√®me </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je n'ai pas os√© d√©boguer le syst√®me imm√©diatement avec une pleine haute tension (230 volts) et j'ai fait une douzaine de LED avec un indicateur de d√©bogage avec une tension de fonctionnement de 5 volts. </font><font style="vertical-align: inherit;">Apr√®s le d√©bogage, lorsque j'√©tais s√ªr que les bonnes LED √©taient allum√©es correctement, le GRI √©tait mont√© dans les panneaux et un haut √©tait appliqu√©. </font><font style="vertical-align: inherit;">√Ä la suite d'une telle s√©quence de d√©bogage, pas une seule puce ou un seul voyant n'a √©t√© endommag√© :). </font><font style="vertical-align: inherit;">Une photographie du n≈ìud utilis√© pour le d√©bogage est illustr√©e √† la figure 9. </font></font><br><br><img src="https://habrastorage.org/webt/7r/k9/8v/7rk98vqof6l_pkxyrkgqkvrjkja.png"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 9. Photo de l'assemblage de DEL de d√©bogage. </font></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un court processus de d√©bogage vid√©o ici</font></font><br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/QJY9gOSSuRQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  Logement </h3><br>  L'id√©e originale √©tait de fabriquer un bo√Ætier brutal en m√©tal √©pais comme le cuivre, le laiton ou le bronze.  Cependant, comme la connexion Wi-Fi n√©cessite un bo√Ætier di√©lectrique, dans la version finale, il ne reste que le panneau avant en m√©tal √©pais.  Une recherche rapide sur Internet de soci√©t√©s r√©alisant des bo√Ætiers sur mesure a donn√© un chiffre d'environ 5000 r par bo√Ætier.  √Ä mon avis, il s'agit d'un montant d√©raisonnable dans les circonstances actuelles.  J'ai donc ramass√© le b√¢timent fini (Gainta G2119C), l'ai achet√© sur le chemin du chalet dans la boutique Shcherbinsky Chip-i-Deep et je me suis install√© l√†-dessus, laissant la question de la face avant et peut-√™tre un autre b√¢timent pour plus tard. <br><br>  Malgr√© la faille dans la partie du bo√Ætier de la montre, j'ai d√©cid√© d'indiquer les r√©sultats obtenus dans l'article, estimant que les solutions de circuits et de logiciels d√©velopp√©es et appliqu√©es seraient d'int√©r√™t pour le public. <br><br>  L'aspect de l'affaire aujourd'hui est pr√©sent√© sur la Fig.10. <br><br><img src="https://habrastorage.org/webt/ze/bn/4v/zebn4v6lvphsgy-eovfqp6kdi9a.jpeg"><br><br><img src="https://habrastorage.org/webt/rx/jo/gh/rxjoghkpz0xhrl5_j2fvlj0losm.jpeg"><br>  <i>Figure 10. Apparence du bo√Ætier de la montre</i> <br><br><h3>  Conclusion </h3><br>  La montre fonctionne depuis plus d'un an, il n'y a eu aucun √©chec, les t√¢ches sont termin√©es.  Je vais √©num√©rer √† nouveau les caract√©ristiques distinctives de ma variante de montre: <br><br><ul><li>  Mode d'affichage statique avec effet simultan√© d'un changement en douceur des nombres </li><li>  Utilisation des puces HV5622 pour contr√¥ler GRI </li><li>  Les donn√©es HV5622 sont √©crites √† l'aide du moteur mat√©riel HSPI </li><li>  L'heure exacte est prise √† partir des serveurs d'heure exacte d'Internet. </li><li>  L'acc√®s √† l'horloge est possible par son nom depuis le r√©seau interne </li><li>  La configuration est requise une fois au premier d√©marrage. </li><li>  L'absence totale de boutons, d'alarmes, etc. </li><li>  Ajustement continu de la luminosit√© de la lueur du GRI afin de maintenir un contraste d'image constant dans les limites donn√©es du changement de la lumi√®re ambiante </li><li>  La montre r√©agit √† l'approche d'une personne et affiche la temp√©rature de la rue, l'humidit√©, la pression atmosph√©rique. </li></ul><br>  Je suis satisfait :) <br><br>  ‚Üí L'archive avec le programme se trouve <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr431868/">https://habr.com/ru/post/fr431868/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr431858/index.html">Mitap Sbertekh √† Rostov-sur-le-Don</a></li>
<li><a href="../fr431860/index.html">Sur les options du pilote Linux ou comment j'ai pass√© le week-end</a></li>
<li><a href="../fr431862/index.html">Mitap Sbertekh √† Iekaterinbourg</a></li>
<li><a href="../fr431864/index.html">PVS-Studio ROI: comment ne pas perdre des millions (version provisoire de l'article)</a></li>
<li><a href="../fr431866/index.html">Id√©es fausses des programmeurs sur les noms - avec des exemples</a></li>
<li><a href="../fr431870/index.html">Un d√©veloppeur de livres interactifs avec LED se plaint du vol d'id√©es par les employ√©s de Google</a></li>
<li><a href="../fr431872/index.html">Guide JavaScript Partie 9: Pr√©sentation des normes ES7, ES8 et ES9</a></li>
<li><a href="../fr431874/index.html">Imba: langage compatible JavaScript pour un travail rapide avec DOM</a></li>
<li><a href="../fr431876/index.html">Optimisation des applications angulaires</a></li>
<li><a href="../fr431878/index.html">Fonctionnalit√©s JavaScript peu connues</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>