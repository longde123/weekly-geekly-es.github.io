<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∏üèΩ üßëüèæ‚Äçü§ù‚Äçüßëüèª üòë Reagir nativo da perspectiva de um desenvolvedor m√≥vel üìã üë©‚Äç‚ù§Ô∏è‚Äçüë© ü§õüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O artigo √© destinado a desenvolvedores de iOS e Android que j√° s√£o bastante versados ‚Äã‚Äãem seu campo e olham para o React Native. 

 Quando soube pela ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Reagir nativo da perspectiva de um desenvolvedor m√≥vel</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/qlean/blog/416097/"><img src="https://habrastorage.org/webt/6y/dk/ia/6ydkiap1asyevkiekkhbtqglzhy.png"><br><br>  <i>O artigo √© destinado a desenvolvedores de iOS e Android que j√° s√£o bastante versados ‚Äã‚Äãem seu campo e olham para o React Native.</i> <br><br>  Quando soube pela primeira vez sobre o React Native, aproveitei a oportunidade para que os desenvolvedores da Web invadissem meu territ√≥rio ( <i>absolutamente imposs√≠vel!</i> ) E, ao mesmo tempo, estragaram o produto que funcionava sem falhas e com 60 fps.  <s>E assim aconteceu.</s>  <s>O fim</s>  A hist√≥ria real acabou sendo mais longa. <br><a name="habracut"></a><br><h2>  Nega√ß√£o </h2><br>  JavaScript em um aplicativo m√≥vel?  Apenas algumas bibliotecas com o uso do JavaScriptCore no iOS vieram √† minha mente (essas mesmas bibliotecas foram respons√°veis ‚Äã‚Äãpor 90% das falhas dos aplicativos em que foram usadas) e aplicativos h√≠bridos do "modelo antigo" (bem, isso √©, atas) <br><br>  Os aplicativos h√≠bridos mostraram esperan√ßa at√© o momento em que voc√™ os experimenta, ap√≥s o que voc√™ come√ßa a fugir deles de uma vez e o mais longe poss√≠vel. <br><br>  Lembrando as tentativas malsucedidas de aprender Xamarin h√° tr√™s anos, abandonei rapidamente a id√©ia de usar o React Native. <br><br>  Vale ressaltar que sempre fiquei feliz em perceber novas maneiras de escrever aplicativos nativos (do ObjC ao Swift, do Java ao Kotlin, do Eclipse ao Android Studio).  Estou envolvido no desenvolvimento de iOS e Android como hobby e profissionalmente h√° muitos anos.  Depois de mudar para um novo idioma (dentro do mesmo sistema operacional) ou IDE, raramente voltei ao anterior.  Parece que o React Native √© um pr√≥ximo passo l√≥gico, outro novo passo adiante.  Ou √© um passo atr√°s? <br><br><h2>  Raiva </h2><br>  Por que devo ensinar uma vers√£o simplificada quando j√° sei como fazer isso "de verdade" ?! <br>  Eu ainda precisava encontrar uma resposta para essa pergunta quando a empresa definiu a tarefa de redesenhar completamente um dos aplicativos (naquele momento dispon√≠vel apenas no iOS) e liber√°-lo no Android. <br><br>  Como fazer duas coisas ao mesmo tempo e escrever menos c√≥digo?  Sugest√µes como: um thin client, bibliotecas C com uma chamada do c√≥digo Swift / Kotlin, React Native? <br><br>  O React Native parecia bastante promissor devido √† capacidade de criar bibliotecas e us√°-las imediatamente em tr√™s plataformas (iOS / android / web). <br><br><h2>  Licita√ß√£o </h2><br>  Promissor para qualquer um, mas n√£o para mim.  Eu certamente n√£o estava feliz com este turno.  Eu senti que estava no auge da capacidade de desenvolver iOS e Android e, em seguida, me pediram para jogar fora todo esse conhecimento, como se eu fosse um rec√©m-formado e tivesse 0. Eu at√© duvidava que com o React Native voc√™ pudesse criar um produto de qualidade. <br><br><img src="https://habrastorage.org/webt/9v/o8/uy/9vo8uy4yheyrmhezpccdxpcmiwo.png"><br><br><h2>  Depress√£o </h2><br>  D√∫vidas eram razo√°veis.  Os principais problemas s√£o: <br><br><ul><li>  uma quantidade decente de gotas no n√∫cleo do React Native; </li><li>  m√©todos que funcionam apenas em uma plataforma (as docas indicam que funcionam em qualquer lugar); </li><li>  descri√ß√£o incompleta.  Basta olhar para as <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">docas do coletor React Native</a> . </li></ul><br>  O principal problema oculto: o bloqueio interno na minha cabe√ßa, o que me impedia de ver as vantagens por tr√°s de um monte de desvantagens. <br><br><h2>  Aceita√ß√£o </h2><br>  E, √© claro, o React Native n√£o √© apenas desvantagens.  H√° muito de bom, ele √© escrito muito mais f√°cil e funciona de maneira melhor do que o mesmo em plataformas espec√≠ficas. <br><br>  Se descartarmos problemas √≥bvios, como falhas e docas escassas, aqui est√£o exemplos do que eu tive que enfrentar: <br><br><h3>  Javascript </h3><br>  N√£o √© de admirar.  Esta √© a primeira coisa a andar de m√£os dadas com sangue, suor e l√°grimas. <br>  Quando comecei a relembrar minha experi√™ncia anterior como desenvolvedor front-end (eu estava envolvido em sites antes de aplicativos m√≥veis), comecei com a s√≠ndrome vietnamita: <i>Johnny, o JavaScript nos rodeia!</i> <br><br>  Se voc√™ decidir escrever aplicativos no React Native, recomendo fazer um dos cursos JS mais recentes.  Eles n√£o precisam ser React ou React Native. <br><br>  Nos √∫ltimos anos, com o lan√ßamento dos padr√µes ES6, ES7 e ES8, a maneira como voc√™ escreve c√≥digo mudou muito. <br><br>  E ele se tornou <b>muito pessoal</b> . <br><br><h3>  Verifica√ß√£o est√°tica </h3><br>  Nos primeiros meses, o analisador est√°tico, que est√° em todos os idiomas m√≥veis nativos, est√° faltando. <br><br>  Existem v√°rios utilit√°rios que suavizam sua aus√™ncia, realizando parte das fun√ß√µes <br><br><h3>  Elementos de layout </h3><br>  O maior desafio aqui ser√° para desenvolvedores iniciantes de iOS. <br><br>  Esse desafio √© a falta de um editor de interface visual. <br><br>  Tudo √© feito no c√≥digo usando a marca√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JSX</a> .  Tecnicamente, essa marca√ß√£o √© opcional, pois ajuda a ver a hierarquia dos componentes.  Os desenvolvedores do Android ficar√£o √† vontade, observando as semelhan√ßas com o XML. <br><br>  Ao mesmo tempo, h√° uma vis√£o clara das visualiza√ß√µes e do potencial de reutiliza√ß√£o. <br><br>  No iOS, existe um ou outro, dependendo do m√©todo a ser escolhido (layout no c√≥digo ou no construtor de interface).  Sim, esses dois problemas podem ser resolvidos, mas voc√™ precisa escrever uma quantidade decente de c√≥digo. <br><br>  O React Native n√£o tem esse problema. <br>  No Android, a prop√≥sito, tamb√©m n√£o est√° l√°. <br>  Mas os especialistas em Android apreciar√£o a maneira como os par√¢metros s√£o transferidos de componentes externos para internos diretamente na marca√ß√£o. <br><br>  A visualiza√ß√£o b√°sica aqui √© uma analogia do LinearLayout (android) e UIStackView (iOS) com uma mistura de constantes ao mesmo tempo.  Uma maneira bastante simples (em compara√ß√£o com constru√ß√µes) de elementos de posicionamento. <br><br><h3>  UIViewController e Atividade </h3><br>  O React Native n√£o tem um nem o outro. <br>  Claro que eles est√£o sob o cap√¥.  A intera√ß√£o direta com eles n√£o funcionar√°.  Sim, isso n√£o √© necess√°rio. <br><br>  O ciclo de vida de todos os componentes do React Native √© completamente diferente do iOS e do Android. √â dif√≠cil tra√ßar paralelos.  Se voc√™ se concentrar nas diferen√ßas dos sistemas nativos, ent√£o: <br><br><ul><li>  Os pr√≥prios elementos da interface do usu√°rio alteram o estado / apar√™ncia ao alterar os par√¢metros de entrada; </li><li>  no android, n√£o h√° necessidade de fazer malabarismos com o <i>onSaveInstantState</i> .  O React Native faz tudo isso por n√≥s; </li><li>  no iOS, n√£o h√° m√©todos que relatem explicitamente diretamente o momento em que as telas do aplicativo aparecem / ocultam. </li></ul><br><h3>  Tempo de compila√ß√£o / Recarga ao vivo / Recarga a quente </h3><br>  √â obtida uma grande velocidade devido √† montagem incremental - apenas os m√≥dulos modificados s√£o reconstru√≠dos, e n√£o todo o pacote. <br><br>  Todas as altera√ß√µes no c√≥digo JS s√£o vis√≠veis imediatamente vis√≠veis no simulador.  Acelera enormemente o desenvolvimento! <br><br><h3>  Falta de funcionalidade nativa em JS </h3><br>  Na parte JS do React Native, nem tudo o que voc√™ precisa est√° pronto para o uso. <br><br>  Voc√™ pode escrever a parte nativa nas duas plataformas, criar um wrapper JS e cham√°-lo como o resto do c√≥digo.  N√£o h√° nada complicado. <br><br>  H√° um grande n√∫mero de m√≥dulos prontos criados por desenvolvedores de terceiros. <br><br>  Todos os m√≥dulos s√£o conectados via <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">npm</a> (an√°logo do CocoaPods para iOS e Gradle para android), que possuem c√≥digo nativo com a funcionalidade necess√°ria. <br><br><h3>  Links universais e diretos </h3><br>  A funcionalidade √© implementada pelo Facebook. <br>  Funciona bem e consistentemente. <br><br><h3>  Processando inten√ß√µes de terceiros </h3><br>  Como um caso especial do par√°grafo anterior. <br><br>  O maior problema no Android √© lidar com uma inten√ß√£o diferente de um link profundo em um aplicativo. <br>  Depende, √© claro, da Inten√ß√£o e do que precisa ser feito quando √© recebido. <br><br>  Voc√™ pode escrever um artigo separado sobre este t√≥pico.  O ponto de partida √© adicionar o m√©todo createReactActivityDelegate a MainActivity. <br><br><h3>  Desempenho </h3><br>  √â muito f√°cil obter 60 FPS ao rolar por longas listas com c√©lulas complexas. <br>  O desempenho de todo o resto (por exemplo, pressionar um bot√£o, imprimir texto em um campo) √© menor.  √â percept√≠vel durante uma mudan√ßa animada de estado em um grande n√∫mero de elementos.  Isso pode ser facilmente resolvido.  Uma boa se√ß√£o da documenta√ß√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Usando o driver nativo para anima√ß√£o</a> . <br><br>  E voc√™ n√£o pode obter o controle normal dos gestos e a associa√ß√£o deles com a anima√ß√£o pronta para uso. <br><br><img src="https://habrastorage.org/webt/t-/g5/33/t-g5335qtreeuxilvixyhhhterw.png"><br><br><h3>  Instabilidade </h3><br>  Muitas vezes, um projeto simplesmente para de construir, por exemplo, depois de: <br><br><ul><li>  Reagir atualiza√ß√µes nativas do kernel (inclusive ao atualizar a vers√£o secund√°ria); </li><li>  atualiza√ß√µes do m√≥dulo npm; </li><li>  Atualiza√ß√µes do Xcode; </li><li>  Atualiza√ß√µes do CocoaPods (problemas permanentes com isso); </li><li>  assim mesmo.  Sim, isso acontece tamb√©m. </li></ul><br>  Felizmente, a maioria desses problemas √© corrigida rapidamente.  Voc√™ pode adicionar um script que limpa todos os caches em qualquer lugar e execut√°-lo quando algo der errado.  Ajuda a resolver 98% dos problemas estranhos que surgem do nada.  Com exce√ß√£o do CocoaPods, tudo √© triste. <br><br><h3>  Instabilidade de depend√™ncia de terceiros </h3><br>  O maior problema no iOS era e √© o desejo generalizado dos m√≥dulos npm de usar o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">m√©todo swizzling</a> . <br><br>  Muitos m√≥dulos nativos s√£o conectados por bin√°rios.  Entender que v√°rios m√≥dulos independentes svizlyat o mesmo m√©todo n√£o √© t√£o simples. <br><br>  A montagem ocorre em v√°rias etapas e em cada uma delas algo pode dar errado. <br><br><h3>  Instabilidade ao atualizar depend√™ncias de terceiros </h3><br>  Alguns m√≥dulos npm dependem de outros m√≥dulos npm e assim por diante.  Se dois m√≥dulos estiverem vinculados a vers√µes diferentes do terceiro m√≥dulo, receberemos imediatamente um aviso ao instalar, na melhor das hip√≥teses.  E no pior dos casos, n√£o h√° aviso, mas nada funciona. <br><br>  Um problema semelhante se os m√≥dulos npm dependem de m√≥dulos Android nativos com vers√µes diferentes. <br><br>  Ap√≥s a limpeza do cache, novas vers√µes podem ser carregadas silenciosamente.  Parece que ele n√£o fez nada, mas parou de trabalhar. <br><br><h3>  Teste de unidade e interface do usu√°rio </h3><br>  Um mecanismo de teste muito f√°cil atrav√©s da biblioteca Jest, vem com o React Native.  An√°lise conveniente da cobertura do teste - mostra quais linhas na fun√ß√£o em teste nunca foram chamadas. <br><br>  Existem bibliotecas para teste de interface do usu√°rio.  At√© agora, na verdade, eu n√£o precisava us√°-lo. <br><br><h2>  Conclus√£o </h2><br>  Ap√≥s 13 meses de trabalho com o React Native, posso dizer com confian√ßa: <br><br><ul><li>  √© adequado para a maioria dos aplicativos em que voc√™ apenas precisa obter uma lista do servidor, mostrar a lista, mostrar uma vis√£o detalhada do item da lista, enviar altera√ß√µes ao servidor; </li><li>  tudo isso √© conseguido com menos c√≥digo; </li><li>  agora esta √© minha op√ß√£o "padr√£o" para novos projetos que est√£o entrando em contato comigo, porque veja o par√°grafo anterior; </li><li>  n√£o √© adequado para projetos que viajam para o exterior ‚Äúenviaram uma solicita√ß√£o - receberam uma resposta‚Äù, alguns exemplos: editor de fotos, player, trabalho com Bluetooth, AI, ML, social.  mensageiro de rede; </li><li>  Projetos avan√ßados podem ser feitos no React Native, mas voc√™ ainda precisa escrever muito c√≥digo nativo, para que o ponto n√£o seja mais v√°lido; </li><li>  O React Native chegou e n√£o ir√° a lugar algum; isso deve ser considerado; </li><li>  a demanda por desenvolvedores m√≥veis nativos diminuir√° um pouco, o influxo de novos desenvolvedores m√≥veis nativos diminuir√° muito mais.  Porque  veja abaixo; </li><li>  uma pessoa geralmente segue a maneira mais simples e n√£o h√° necessidade de tentar se 95% dos aplicativos podem ser feitos gastando 20% do esfor√ßo (comparado ao desenvolvimento nativo) para estudar; </li><li>  como conseq√º√™ncia dos tr√™s pontos anteriores: a diferen√ßa entre a demanda e a oferta de desenvolvedores m√≥veis nativos se tornar√° ainda maior.  Aqueles que realmente n√£o podem viver sem eles ter√£o mais dificuldade em encontr√°-los.  E isso √© triste. </li></ul><br>  A palavra final para algu√©m que imediatamente come√ßou a escrever sobre o React Native e, por algum motivo, decidiu ler este artigo, at√© o fim. <br><br>  Se voc√™ acha que entende o t√≥pico e est√° se saindo bem, tente o desenvolvedor nativo. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt416097/">https://habr.com/ru/post/pt416097/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt416083/index.html">Minhas regras de efici√™ncia: trabalhando com tarefas, projetos, livros e anota√ß√µes</a></li>
<li><a href="../pt416087/index.html">Coleta de estat√≠sticas do MTProto Proxy</a></li>
<li><a href="../pt416089/index.html">Como reparamos uma fonte de alimenta√ß√£o ininterrupta din√¢mica ao diesel</a></li>
<li><a href="../pt416091/index.html">Como automatizei a casa de campo em 90%</a></li>
<li><a href="../pt416095/index.html">As ag√™ncias de intelig√™ncia dos EUA operaram esquemas de lavagem de dinheiro da darknet por um ano</a></li>
<li><a href="../pt416099/index.html">N√£o racha nem congela</a></li>
<li><a href="../pt416101/index.html">Teste de varejo A / B offline</a></li>
<li><a href="../pt416103/index.html">Arquivo Klay</a></li>
<li><a href="../pt416109/index.html">Experi√™ncia na implementa√ß√£o de criptografia de gateways ViPNet no ERIS</a></li>
<li><a href="../pt416111/index.html">Convers√£o de dados GraphQL para o componente CustomTreeData do DevExtreme-Reactive</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>