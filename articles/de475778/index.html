<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèà üëÆ üï¢ WebAssembly: was und wie üë©üèæ‚Äçüî¨ üë©üèæ‚Äçüöí ‚è≥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dieser Artikel basiert auf meinem Vortrag auf der ITSubbotnik-Konferenz am 2. November 2019 in Moskau. 


 Im Allgemeinen bin ich ein Backend-Programm...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>WebAssembly: was und wie</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/475778/"><p><img src="https://habrastorage.org/webt/ss/-n/ix/ss-nixhppesfhxvizle2xwcd7sa.png"></p><br><p>  Dieser Artikel basiert auf meinem Vortrag auf der ITSubbotnik-Konferenz am 2. November 2019 in Moskau. </p><br><p> Im Allgemeinen bin ich ein Backend-Programmierer, aber ich interessierte mich f√ºr diese Technologie, mit der ich mein Backend-Wissen an der Front einsetzen kann. </p><br><h2 id="problema">  Das problem </h2><br><p>  Beginnen wir mit dem Problem, das durch diese (relativ neue) Technologie gel√∂st wird.  Dieses Problem besteht darin <strong>, Code in einem Browser schnell auszuf√ºhren</strong> .  Schnell - das bedeutet "schneller als JavaScript", idealerweise so schnell, wie es unser aktueller Prozessor zul√§sst. <a name="habracut"></a><br>  Dar√ºber hinaus ergaben sich in der Vergangenheit nach und nach wichtige zus√§tzliche Anforderungen f√ºr dieses Problem: </p><br><ul><li>  <strong>Keine Konfiguration</strong> - es sollte eine sofort einsatzbereite L√∂sung sein, nichts als ein Browser. </li><li>  <strong>Sicher</strong> - die neue Technologie sollte keine neuen Bedrohungen hervorrufen, wir haben bereits etwas mit Sicherheit zu tun. </li><li>  <strong>Plattform√ºbergreifend</strong> - Browser laufen auf allen wichtigen Prozessoren, einschlie√ülich mobiler Plattformen. </li><li>  <strong>Praktisch f√ºr Entwickler</strong> - das ist f√ºr uns. </li></ul><br><h2 id="istoriya-do-wasm">  Geschichte vor Wasm </h2><br><p>  Wir haben viele M√∂glichkeiten gesehen, Code in einem Browser auszuf√ºhren.  Wir k√∂nnen sagen, dass es auf diesem Gebiet Gewinner und Verlierer gibt. </p><br><p><img src="https://habrastorage.org/webt/24/cd/be/24cdbepmn1xputvkq2jbwuz7n64.png"></p><br><p>  Gewinner: Dies ist definitiv JavaScript;  der V8-Motor, der JS so schnell machte;  sowie HTML5. </p><br><p>  Verlierer: ActiveX - Wenn Sie sich erinnern, war es Ihnen mit dieser Technologie im Allgemeinen m√∂glich, alles mit dem Computer zu tun, d. H.  Sicherheit war sehr schlecht;  Flash - Jetzt erleben wir die √Ñra des Niedergangs von Flash, obwohl ActionScript in der Tat dasselbe JavaScript verwendet.  Silverlight - er muss zu sp√§t erschienen sein, um eine ernsthafte Nische zu besetzen. <br>  Dadurch gehen alle Plugins verloren, auch aufgrund von Sicherheitsproblemen. </p><br><p>  Es gab bereits im Browser andere Versuche, das Problem zu l√∂sen: </p><br><ul><li>  NaCl - Native Client von Google vorgeschlagen;  nativer Code direkt im Browser, der nat√ºrlich plattform√ºbergreifend wirkt;  Mozilla unterst√ºtzte diese Initiative nicht, weshalb die Implementierung nur in Chrome erfolgte. </li><li>  PNaCl - Portable Native Client - Eine Teilmenge von LLVM IR wurde als portabler Code verwendet.  wurde auch in Mozilla nicht unterst√ºtzt, wieder nur Chrome.  Aus diesem Grund weigerte sich Google im Mai 2017, PNaCl zu unterst√ºtzen. </li></ul><br><h2 id="asmjs">  asm.js </h2><br><p>  <strong>asm.js</strong> ist eine weitere interessante Initiative der Mozilla Foundation, die uns dem Thema WebAssembly n√§her bringt.  Es erschien im Jahr 2010 und wurde im Jahr 2013 √∂ffentlich zug√§nglich. </p><br><p>  asm.js ist eine Teilmenge von JavaScript. Mit dem Emscripten-Compiler k√∂nnen Sie Code aus C und C ++ kompilieren. </p><br><p>  Da dies auch JavaScript ist, wird dieser Code in jedem Browser ausgef√ºhrt.  Dar√ºber hinaus konnten die wichtigsten modernen Browser asm.js seit langem schnell erkennen und effizient in den systemeigenen Code des Prozessors kompilieren.  Im Vergleich zum nativen Code, der direkt von C / C ++ erhalten wird, ist der Code, der von asm.js erhalten wird, nur um das 1,5-2-fache langsamer (50-67%). </p><br><p><img src="https://habrastorage.org/webt/mk/--/i-/mk--i-r7f1ionj80by3qbies0ks.png"></p><br><p> Links steht der Code der einfachsten Funktion in C / C ++, rechts wird angezeigt, was sich nach dem Kompilieren in asm.js verwandelt.  Erstens sehen wir hier die Zeile <code>'use asm'</code> , dies ist eine Markierung, die deutlich macht, dass der Code f√ºr asm.js als n√§chstes verwendet wird.  Und in diesem Code sehen wir Konstruktionen der Form <code>|0</code> , dies ist eine bitweise ODER-Operation mit einem Nullwert.  Gem√§√ü der Spezifikation ist das Ergebnis dieser Operation eine 32-Bit-Ganzzahl mit Vorzeichen.  Aber dieser Typ ist nicht einmal in JavaScript.  Dieser Typ entsteht jedoch als Ergebnis dieser Operation, d.h.  Es ist im Wesentlichen eine Besetzung f√ºr einen bestimmten Typ. </p><br><p>  Asm.js basiert im Allgemeinen auf unserem Wissen dar√ºber, wie die Browser-Engine JS kompiliert, um diese Arbeit zu optimieren. </p><br><h2 id="chto-zhe-takoe-webassembly">  Was ist WebAssembly? </h2><br><p><img src="https://habrastorage.org/webt/h2/f-/be/h2f-beaumjejbndrbscr3e6-n3s.png"></p><br><p>  <strong>WebAssembly</strong> (oder <strong>Wasm</strong> ) ist ein Bin√§rformat, das in einem Browser, einer virtuellen Maschine und dem Ergebnis der Kompilierung aus einer h√∂heren Sprache ausgef√ºhrt wird. </p><br><p>  Wasm ist keine Programmiersprache, so wie Java-Bytecode keine Programmiersprache ist, sondern ein Kompilierungsergebnis und ein laufender Codeblock. </p><br><p>  Jemand, der sehr schlau war, sagte, dass der Name <strong>Webassembly</strong> (also ‚ÄûAssembler f√ºr das Web‚Äú) v√∂llig falsch ist, da es sich nicht um Assembler (keine Programmiersprache) handelt und nichts mit dem Web zu tun hat (da es sich nur um eine virtuelle Maschine handelt). </p><br><p>  Die Entwickler von WebAssembly haben sich von den folgenden Zielen und Einschr√§nkungen leiten lassen - siehe das Video Die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Entwicklung von Wasm zu einer richtigen Fehlbezeichnung: Andreas Rossberg</a> . </p><br><p><img src="https://habrastorage.org/webt/hx/qg/xc/hxqgxczg-vl7wds82p5rk9-_lku.png"></p><br><p>  Tats√§chlich kommt es auf drei Dinge an: plattform√ºbergreifend, kompakt und schnell.  Es gab jedoch noch eine weitere wichtige Anforderung, n√§mlich "Verkaufsf√§higkeit" - die Entwickler der wichtigsten Browser h√§tten die Initiative ergreifen und ergreifen sollen.  Infolgedessen konnten Vertreter von Google, Mozilla, Microsoft und Apple an der Entwicklung der Spezifikation "verkauft" werden. </p><br><p>  Mal sehen, wie Wasm einer virtuellen Maschine √§hnelt. </p><br><p><img src="https://habrastorage.org/webt/tn/yx/7j/tnyx7j12olss0rbvec5stpaajwc.png"></p><br><p>  Dies ist ein solcher "fiktiver Prozessor", aber ohne Register wird alles √ºber den Stack erledigt.  Nur vier Datentypen: zwei Integer, zwei Floating.  Relativ einfache Bedienung - siehe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Spezifikation</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">interaktive Tabelle</a> . </p><br><p><img src="https://habrastorage.org/webt/ux/ch/dj/uxchdjjzisdir4nnsgrwvo9k70a.png"></p><br><p>  Flaches Speichermodell: F√ºr den Speicher wird ein einzelner Block zugewiesen, dessen Gr√∂√üe ein Vielfaches von 64 KB ist.  Hier sind der Code, die Daten, die Konstanten, die globalen Variablen, der herabwachsende Stapel und der heranwachsende Haufen.  Sie k√∂nnen den Heap bei Bedarf automatisch vergr√∂√üern lassen, w√§hrend der Speicherblock um ein Vielfaches von 64 KB erweitert wird. </p><br><p>  Zeiger werden nicht verwendet (dies dient der Sicherheit), stattdessen wird ein Index verwendet.  Der Index ist 32-Bit und adressiert somit bis zu 4 GB Arbeitsspeicher. </p><br><p>  Auf den gesamten WebAssembly-Speicher kann sowohl zum Lesen als auch zum Schreiben vollst√§ndig mit JavaScript zugegriffen werden. </p><br><p><img src="https://habrastorage.org/webt/3f/_x/2e/3f_x2ekh3ggdky_m1ip-8ezhzim.png"></p><br><p>  Werfen wir einen Blick auf das WebAssembly-Laufzeitmodell.  Wasm wird immer NUR von JavaScript geladen und aufgerufen.  Dar√ºber hinaus arbeiten JS und Wasm in derselben Sandbox und werden von derselben Engine ausgef√ºhrt. </p><br><p>  Beachten Sie, dass Sie JS auch von Wasm aus aufrufen k√∂nnen.  Es kann ein Funktionsaufruf mit √úbergabe von Argumenten und R√ºckgabe eines Wertes sein oder es kann einfach eine beliebige Zeichenfolge als JS-Code ausgef√ºhrt werden. </p><br><h2 id="probuem-webassembly">  WebAssembly testen </h2><br><p>  Um mit WebAssembly zu beginnen, empfehle ich die Verwendung der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WasmFiddle-</a> Website oder von <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WebAssembly Studio</a> - auf einfache und visuelle Weise k√∂nnen Sie selbst nachvollziehen, was Wasm wirklich ist. </p><br><p><img src="https://habrastorage.org/webt/1q/hz/8z/1qhz8z55kl1qrnkrfsjnbro4hmm.png"></p><br><p>  Hier befindet sich der Quellcode in C / C ++ oben links (in diesem Fall die rekursive Funktion zur Berechnung der Fibonacci-Zahl), oben rechts der JS-Code zum Laden von Wasm, zum Instanziieren des Wasm-Moduls und zum Aufrufen der <code>fib()</code> -Funktion.  Wenn wir den Build-Button dr√ºcken, erhalten wir einen Wasm-Codeblock (.wasm-Datei), den wir jederzeit zu einer Textdarstellung (.wat-Datei) erweitern k√∂nnen. </p><br><p>  Diese Textdarstellung mit einer Reihe von Klammern ist im Wesentlichen ein abstrakter Syntaxbaum (AST).  Nun, eigentlich mit einer Klammer, √§hnelt es der Lisp-Sprache.  Theoretisch k√∂nnen wir den Code als Textdarstellung bearbeiten und dann wieder in ein Bin√§rformat komprimieren - dies erinnert an Assembler-Programmierung.  Aber normalerweise erhalten wir bin√§ren Wasm als Ergebnis der Kompilierung aus einer Hochsprache. </p><br><h2 id="2017-god-production-ready">  2017: Produktionsbereit </h2><br><p>  Im November 2017 wurde WebAssembly als "einsatzbereit f√ºr die Produktion" deklariert.  Die Spezifikation f√ºr alle Hauptteile von Wasm wurde vorbereitet, die Implementierung von Wasm wurde in allen g√§ngigen Browsern ver√∂ffentlicht.  Daher wurde f√ºr WebAssembly MVP ver√∂ffentlicht - Minimum Viable Product, Version 1.0, mit der wir uns jetzt befassen. </p><br><h2 id="podderzhka-v-brauzerah">  Browser-Unterst√ºtzung </h2><br><p>  Ende 2017 wurden Releases aller g√§ngigen Browser mit WebAssembly-Unterst√ºtzung ver√∂ffentlicht: </p><br><p><img src="https://habrastorage.org/webt/wf/jv/1v/wfjv1vfutkgfezhoallogkapcaq.png"></p><br><p>  Die Ausnahme ist IE11, es gibt keine Unterst√ºtzung daf√ºr und h√∂chstwahrscheinlich wird es weg sein.  Es wurde angenommen, dass es f√ºr √§ltere Browser eine Polyf√ºllung geben wird - die F√§higkeit, Wasm in asm.js zu konvertieren;  Es gibt solche Prototypen, aber meines Erachtens werden diese Projekte aufgegeben, anscheinend ist die Community nicht in der Lage, sie umzusetzen. </p><br><p>  Von allen installierten Browsern unterst√ºtzen nun <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">~ 88% Wasm</a> . </p><br><p><img src="https://habrastorage.org/webt/ci/w0/6_/ciw06_js_cfccf9gmcy_o8qo0cw.png"></p><br><h2 id="podderzhka-yazykov">  Sprachunterst√ºtzung </h2><br><p>  Damit Ihre Lieblingssprache in Wasm kompiliert werden kann, muss der Compiler dieses Kompilierungsziel bereitstellen.  Mittlerweile unterst√ºtzen einige Sprachen Wasm, und es gibt jeden Monat mehr von ihnen.  Siehe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">appcypher / awesome-wasm-langs</a> . </p><br><ul><li>  C / C ++ - durch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Emscripten</a> sehr gute Unterst√ºtzung. </li><li>  Rust - Wasm Support erschien vor langer Zeit, das √ñkosystem rund um Wasm ist weitgehend auf Rust aufgebaut. </li><li>  Java - durch TeaVM, JWebAssembly, Bytecoder - auf experimenteller Ebene. </li><li>  Kotlin - Es gibt Unterst√ºtzung in Kotlin / Native √ºber das LLVM-Backend - Experimental. </li><li>  Geh </li><li>  √úber <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Blazor</a> (Mono) und in Zukunft auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Uno Platform</a> . </li><li>  TypeScript - durch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AssemblyScript</a> . </li></ul><br><p>  Vor nicht allzu langer Zeit gab es Neuigkeiten, dass LLVM nun Wasm als Kompilierungsziel unterst√ºtzt.  Dadurch k√∂nnen Entwickler von Programmiersprachen noch mehr Sprachen in Wasm kompilieren. </p><br><h2 id="scenarii-ispolzovaniya">  Anwendungsf√§lle </h2><br><p>  Dies ist wahrscheinlich eine der Hauptfragen: "Wie kann ich Wasm verwenden?" </p><br><p>  WebAssembly verwendet bereits aktiv: </p><br><ul><li>  Spiele, Spiele-Engines, Physik-Engines, VR / AR - zum Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Godot</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Doom 3</a> </li><li>  Emulatoren, virtuelle Maschinen - zum Beispiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DOSBox</a> </li><li>  Grafik- / 3D-Editoren - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Figma</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">AutoCAD</a> </li><li>  Web-Kunden f√ºr Finanzhandelsplattformen - Ich habe Pr√§sentationen √ºber zwei solche Kunden gesehen </li><li>  Codecs und Audio- / Videofilter - z. B. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ffmpeg</a> </li><li>  Datenbanken - beispielsweise SQLite </li></ul><br><p>  Andere m√∂gliche Szenarien: </p><br><ul><li>  Progressive Webanwendungen (PWA) </li><li>  Erkennung durch ein trainiertes neuronales Netzwerk </li></ul><br><h2 id="proizvoditelnost">  Leistung </h2><br><p>  Wasm-Leistung war einer der wichtigsten Verkaufsfaktoren, aber was passiert wirklich? </p><br><p>  Im Vergleich zu JavaScript stellt sich heraus, dass Wasm im Durchschnitt schneller ist. In jedem Fall m√ºssen Sie jedoch einen JS / Wasm-Vergleich durchf√ºhren, da sich herausstellen kann, dass es um ein Vielfaches besser und um ein Vielfaches schlechter ist.  Dies kann auch stark vom verwendeten Browser abh√§ngen. </p><br><p>  Tats√§chlich ist die Spitzenleistung von JS und Wasm gleich, da beide zu nativem Prozessorcode werden.  Aber JS ist viel einfacher in der Leistung zu verlieren, und Wasm bietet einen "gleichm√§√üigeren" Ansatz. </p><br><p>  Wasm schneidet im Volumetric Computing in der Regel gut ab.  Wo es viele Speicheroperationen gibt, verliert Wasm.  Nun, das Hauptproblem in realen Anwendungen ist das langsame JS &lt;-&gt; Wasm-Interop.  Siehe zum Beispiel einen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Benchmark</a> . </p><br><p><img src="https://habrastorage.org/webt/ii/61/oa/ii61oac4klecbtbae8ydzpymba8.png"></p><br><p>  Im Juli 2019 erschien der wissenschaftliche Artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">‚ÄûNicht so schnell: Analyse der Leistung von WebAssembly vs.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Nativer Code</a> . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"</a>  Die Autoren implementierten die M√∂glichkeit, Linux-Konsolendienstprogramme unter WebAssembly auszuf√ºhren, um Benchmarks auszuf√ºhren, und verwendeten SPEC-Benchmarks, um die Wasm-Leistung im Vergleich zu denselben Tests auf asm.js und nativem Code zu bewerten. </p><br><p>  Die Ergebnisse sind wie folgt: </p><br><ul><li>  Wasm 30% schneller als JavaScript (Durchschnitt f√ºr diese Tests) </li><li>  Wasm ist 50% langsamer als der native Code (im Durchschnitt in diesen Tests) </li></ul><br><p>  Die Autoren des Artikels gaben auch eine Analyse der Gr√ºnde, aus denen Wasm ‚Äûlangsamer wird‚Äú: </p><br><ul><li>  ungef√§hr doppelt so viele Datenlade- / Speichervorg√§nge im Vergleich zum nativen Code; </li><li>  mehr Verzweigungen - verursacht durch die Notwendigkeit zus√§tzlicher √úberpr√ºfungen beim Zugriff auf den Speicher; </li><li>  mehr verfehlt den L1-Cache. </li></ul><br><p>  Im Allgemeinen ist die Leistung gar nicht so schlecht.  Dar√ºber hinaus k√∂nnen Browser-Entwickler mit dieser Analyse Wasm noch schneller machen. </p><br><p>  In Zukunft wird Wem nicht nur durch eine bessere Optimierung der Browser beschleunigt, sondern auch durch neue Funktionen, wie z. B .: Blockieren von Speicheroperationen, Unterst√ºtzung f√ºr SIMD-Anweisungen, Unterst√ºtzung f√ºr Threads. </p><br><h2 id="chto-budet-dalshe">  Was wird als n√§chstes passieren? </h2><br><p>  Wie entwickelt sich WebAssembly? </p><br><p>  Zun√§chst setzt das Spezifikationsteam f√ºr Wasm seine Arbeit fort.  Die Spezifikationen befinden sich in verschiedenen Stadien (Phasen), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">f√ºr</a> diese Arbeit gibt es eine bestimmte <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">‚ÄûRoadmap‚Äú</a> . </p><br><p>  Insbesondere erwarten wir in naher Zukunft weitere Merkmale dieser Art: </p><br><ul><li>  <strong>Float-to-Int-Konvertierungen ohne Trapping</strong> - Die Konvertierung von einem Floating-Wert in eine Ganzzahl kann nun unter bestimmten Bedingungen eine Ausnahme verursachen.  F√ºr einen Programmierer ist dies ziemlich unerwartet, daher m√ºssen alle derartigen Konvertierungen umbrochen werden, was die Leistung beeintr√§chtigt.  Diese Funktion l√∂st das Problem. </li><li>  <strong>Mehrfachwert</strong> - die F√§higkeit, mehr als einen Wert von einer Funktion zur√ºckzugeben, die F√§higkeit, neue Anweisungen zu erstellen, die mehr als einen Wert zur√ºckgeben - zum Beispiel das Ergebnis der Division und den Rest der Division oder das Ergebnis der Addition und des √úbertragsbits. </li><li>  <strong>Reference Types</strong> ist eine Einf√ºhrung in den anyref-Typ und bedeutet "Verkn√ºpfung zu etwas auf dem JS-Heap", der erste Schritt zur Beschleunigung der Interaktion mit JS. </li></ul><br><p>  Zweitens implementieren Browserentwickler ihrerseits diese Spezifikationen, d.h.  Allm√§hlich werden neue Funktionen zu Wasm hinzugef√ºgt, die zuerst in den Einstellungen unter der Flagge verborgen und dann standardm√§√üig aktiviert werden. </p><br><p>  Im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Folgenden finden</a> Sie beispielsweise eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Liste der Chrome-Funktionen im Zusammenhang mit WebAssembly</a> . <br>  F√ºr Firefox finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> eine √§hnliche Liste. </p><br><h2 id="webassembly-vne-brauzera">  WebAssembly au√üerhalb des Browsers </h2><br><p>  Wie oben erw√§hnt, ist Wasm im Wesentlichen nicht mit dem Web verbunden, sondern lediglich eine virtuelle Maschine.  Dies bedeutet, dass es auch au√üerhalb des Webs verwendet werden kann. </p><br><p>  Jetzt gibt es verschiedene Szenarien f√ºr die Verwendung von Wasm au√üerhalb des Browsers: </p><br><ul><li>  Node.js - Node.js basiert auf der V8-Engine, die Wasm unterst√ºtzt. </li><li>  Eine separate Konsolenanwendung, Anwendungscode, wird in Wasm VM ausgef√ºhrt - Beispiele f√ºr eine solche Laufzeit: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wasmtime</a> , wasmer. </li><li>  Wasm VM wird als Bibliothek aus anderen Sprachen verwendet. Mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wasmer</a> k√∂nnen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sie</a> sich beispielsweise aus einem Dutzend verschiedener Sprachen aufrufen. </li></ul><br><p>  F√ºr Wasm, das au√üerhalb des Browsers arbeitet, werden die Sandbox-Einschr√§nkungen nicht mehr ben√∂tigt, im Gegenteil, der Zugriff auf die Systemfunktionen ist erforderlich - das Dateisystem und die Dateien, die Konsolen-E / A usw.  Dies f√ºhrte zur Erstellung des WebAssembly System Interface (WASI), einer plattform√ºbergreifenden API-Spezifikation √§hnlich POSIX.  Siehe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WebAssembly / WASI</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wasi.dev</a> . </p><br><p><img src="https://habrastorage.org/webt/rw/w9/qz/rww9qzljwdtjnkvolzwjckiik4c.png"></p><br><p>  Der n√§chste Schritt war das Erstellen eines Paketmanagers - <strong>Wasm Package Manager</strong> (WAPM) - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wapm.io.</a>  Hier k√∂nnen Sie die fertige .wasm-Datei nehmen und in Ihrer Anwendung verwenden.  Normalerweise sprechen wir √ºber Wasm-Versionen einiger bekannter Bibliotheken.  Einige Pakete sind mit dem WASI-Tag versehen, was bedeutet, dass sie nur in Szenarien au√üerhalb des Browsers verwendet werden k√∂nnen. </p><br><h2 id="zaklyuchenie">  Fazit </h2><br><p>  Die Verwendung von WebAssembly ist also durchaus m√∂glich, da es seit zwei Jahren ‚Äûproduktionsbereit‚Äú ist. <br>  Die Verwendung von Wasm kann im Vergleich zu √§hnlichem JavaScript-Code durchaus zu einer Beschleunigung f√ºhren, Sie sollten jedoch immer pr√ºfen, ob Sie eine Beschleunigung erhalten. <br>  Die Wasm-Unterst√ºtzung von Programmiersprachen wird st√§ndig weiterentwickelt. </p><br><p>  Nun, und das Wichtigste ist, dass WebAssembly die Landschaft des Webs etwas ‚Äûver√§ndert‚Äú hat - es hat uns neue Nutzungsszenarien geliefert, die wir in unseren Anwendungen implementieren k√∂nnen. </p><br><h2 id="ssylki">  Referenzen </h2><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">webassembly.org</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">github.com/webassembly</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">developer.mozilla.org/en-US/docs/WebAssembly</a> </li></ul><br><p>  Tolle Angebote: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">mbasso / awesome-wasm</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">appcypher / awesome-wasm-langs</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">appcypher / awesome-wasm-laufzeiten</a> </li></ul><br><p>  Video: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WebAssembly f√ºr Webentwickler (Google I / O '19)</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Was ist WebAssembly?</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Von einigen seiner Sch√∂pfer</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Aus Wasm wird eine richtige Fehlbezeichnung: Andreas Rossberg</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">C ++ Russia 2018: Pavel Bulatov, √úbergang zu WebAssembly: Ist das Spiel die Kerze wert?</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Andrey Nagikh - Entwicklung f√ºr WebAssembly: echter Rechen und Beispiele</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Sergey Rubanov - Verstehen Sie WebAssembly</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WebAssembly im Browser und dar√ºber hinaus von Dan Callahan |</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mozilla Developer Roadshow EU 2019</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de475778/">https://habr.com/ru/post/de475778/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de475768/index.html">Kotlin: Wie ist es eine gute Wahl f√ºr die Entwicklung von Android-Apps?</a></li>
<li><a href="../de475770/index.html">Stanford University - Besuch und R√ºckblick</a></li>
<li><a href="../de475772/index.html">6 Anwendungspunkte f√ºr das industrielle Internet der Dinge</a></li>
<li><a href="../de475774/index.html">"Das sind alberne Regeln, die jeden nerven": Diskussion √ºber die Praxis der Passwortfelder</a></li>
<li><a href="../de475776/index.html">Do-it-yourself steht f√ºr drei Gitarren</a></li>
<li><a href="../de475780/index.html">Kyrillischer Decoder von quoted-printable</a></li>
<li><a href="../de475782/index.html">Tautologische Tests, gut und schlecht</a></li>
<li><a href="../de475784/index.html">Messung der Codequalit√§t von Android-Apps mit Sonarqube und Jacoco im Jahr 2019</a></li>
<li><a href="../de475788/index.html">"Anscheinend steht eine gro√üe Schlacht bevor." Was erwartet die IT-Branche in naher Zukunft</a></li>
<li><a href="../de475790/index.html">Startups, die √ºberraschen k√∂nnen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>