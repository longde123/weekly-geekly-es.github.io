<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üß• üéã üîº Die Legende vom Machtrahmen ü§òüèø üìò üöÖ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In j√ºngster Zeit gewinnt der Trend zum ‚ÄûVerschwinden von Frameworks‚Äú an Popularit√§t, dessen Lokomotive zweifellos als SvelteJS bezeichnet werden kann ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die Legende vom Machtrahmen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420113/"> In j√ºngster Zeit gewinnt der Trend zum <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">‚ÄûVerschwinden von Frameworks‚Äú</a> an Popularit√§t, dessen Lokomotive zweifellos als <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SvelteJS bezeichnet werden kann</a> - ein Buildtime-Framework und ein Vanilla-Javascript-Compiler. <br><br>  Trotz der Tatsache, dass Svelte konzeptionell sehr einfach und noch einfacher zu verwenden ist, fragen sich viele Entwickler, was das Killer-Feature dieses Frameworks und den gesamten Ansatz ist.  Warum ist dies kein ‚Äûweiteres Javascript-Framework‚Äú? <br><br>  In diesem Artikel werde ich √ºber eine der vielen Svelte-Superm√§chte sprechen, die Ihr Leben ernsthaft erleichtern k√∂nnen. <br><br>  Lassen Sie es uns herausfinden, aber zuerst werde ich Ihnen eine Legende erz√§hlen ... <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7o/oi/xe/7ooixeqngyip_s7tw9zpxhcvygw.png"></div><br><a name="habracut"></a><br><h2>  Die Legende vom Machtrahmen </h2><br><blockquote>  <i>Einige Frameworks wurden von den Jungs von Google und Facebook erstellt, andere - coole Typen, aber alle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">unter der engen "Aufmerksamkeit" von Rich Harris</a> .</i> <i><br><br></i>  <i>Neun Frameworks wurden f√ºr Menschen geschaffen, sieben scheinen f√ºr Zwerge zu sein.</i>  <i>Drei weitere Ger√ºste (reagieren, vue, eckig) waren f√ºr Elfen.</i> <i><br><br></i>  <i>Nachdem Rich Harris die Frameworks erstellt und in Tausenden von Projekten implementiert hatte, erstellte er pers√∂nlich und heimlich ein Framework ...</i> <i><br><br></i>  <i>Ein Rahmen, um sie alle zu regieren,</i> <i><br></i>  <i>Ein Rahmen, um sie zu finden,</i> <i><br></i>  <i>Ein Rahmen, um sie alle zu bringen</i> <i><br></i>  <i>Und binden sie zusammen.</i> <i><br></i> <br>  <b><i>- Der Herr der Rahmenbedingungen</i></b> <br></blockquote><h2>  Das Problem </h2><br>  Ich bin sicher, dass viele von Ihnen, die sich ernsthaft und lange mit Front-End-Entwicklung besch√§ftigt haben, wiederholt mit dem Problem konfrontiert waren, Tools f√ºr Ihr aktuelles und / oder n√§chstes Projekt auszuw√§hlen. <br>  Die Vielfalt aller Arten von Paketen, Dienstprogrammen, Walen, Frameworks, Bibliotheken und anderen L√∂sungen ist so gro√ü wie nie zuvor.  Und vor allem beschleunigt sich all diese Bewegung weiter. <br><br>  All dies gilt auf die eine oder andere Weise f√ºr die Wahl des Rahmens.  Wahrscheinlich nicht falsch, wenn ich davon ausgehe, dass nur wenige moderne Teams und Unternehmen neue Projekte starten, ohne ein js-Framework zu verwenden.  Nat√ºrlich, wenn es um moderne Webanwendungen geht, nicht nur um Websites.  Und alles w√§re in Ordnung, wenn so viel in Ihrem Projekt nicht davon abh√§ngen w√ºrde. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wj/fq/7d/wjfq7dchw2-jmtp1qsiieqgfp9c.jpeg"></div><br>  √úberzeugen Sie sich selbst, dass die Zusammensetzung und die Eigenschaften des Teams weitgehend von dem von Ihnen gew√§hlten Rahmen abh√§ngen, und der gesamte Prozess der Jagd h√§ngt sicherlich davon ab.  Manchmal h√§ngen das Budget und die Zeitpl√§ne sogar davon ab.  Kurz brrr. <br><br>  Die eigentlichen Probleme beginnen jedoch, wenn Sie irgendwo in der Mitte des Projekts feststellen, dass Sie eine falsche Wahl getroffen haben.  Etwas wuchs nicht zusammen und drehte sich.  Das Framework ben√∂tigte etwas mehr Zeit, um es zu meistern, ein etwas gr√∂√üeres Team, erwies sich als etwas weniger schnell, etwas nicht geeignet f√ºr Ihre Ziele oder Ihren Entwicklungsstil usw.  Und am wichtigsten ist, dass Ihr Projekt jetzt zu 100% an dieses Framework gebunden ist und Sie es nicht einfach auf etwas anderes √ºbertragen k√∂nnen. <br><br>  Noch offensiver, wenn Sie das Projekt dennoch mit Erfolg abgeschlossen haben, verstehen Sie, dass Sie im Allgemeinen nicht sehr gl√ºcklich sind.  Und wahrscheinlich m√∂chten wir das n√§chste Projekt nicht im selben Framework schreiben.  Alle diese ‚Äûwiederverwendeten‚Äú L√∂sungen, die wir anstreben, k√∂nnen in die Pipe geworfen werden. <br><br>  Zum Teufel funktioniert es mit einem Gesch√§ftscode, der eine bestimmte Gesch√§ftsaufgabe implementiert.  Aber Sie haben so ein cooles "% f√ºge dein% mit Blackjack und M√§dchen mit geringer sozialer Verantwortung ein" geschrieben, und du wolltest es in deinem n√§chsten Projekt verwenden, aber diese Infektion ist eng mit dem aktuellen Rahmen verbunden, von dem aus du bereits eine Art betrachtest. <br><br>  Eine weitere Variante des gleichen Problems: Stellen Sie sich vor, Sie sind ein gro√ües Unternehmen wie Yandex.  Sie haben eine Vielzahl von Projekten, von denen einige nur einigen Mitarbeitern bekannt sind, und jedes Projekt hat bereits alles erlebt, was ich oben beschrieben habe.  Das Problem ist, dass all diese Projekte die verschiedenen Frameworks hassen, die sie urspr√ºnglich ausgew√§hlt haben. <br><br>  Und hier ist Ihre wunderbare F√ºhrung, die sich entschlossen hat, mit Google Material Design zu konkurrieren und Sie auf einen Kreuzzug zu den vielf√§ltigen Schnittstellen Ihrer Projekte zu schicken, um sie auf einen gemeinsamen Nenner zu bringen.  Schlaue Designer zeichnen bereits neue Schaltfl√§chen und Selektoren und kritzeln Tausende von Seiten mit Richtlinien f√ºr das neue einzelne UI-Kit Ihrer Komponenten.  Hurra Kameraden! <br><br>  Nicht das Leben, sondern ein M√§rchen, oder?  Es bleibt nur zu √ºberlegen, wie Sie all diese neuen Komponenten in all den Projekten abrufen k√∂nnen, die Sie bereits in alle m√∂glichen Frameworks geschrieben haben.  Wenn es wirklich viel Zeit und Geld gibt und es einen √§sthetischen Wunsch gibt und vor allem den Glauben, dass "alles vereinheitlicht werden muss", dann k√∂nnen Sie ein paar Dutzend Teams einsetzen, um all dies erneut zu schreiben, zum Beispiel auf React.  Das ist richtig, denn die langweilige Schei√üe, √ºber die Sie in den letzten 2-3 Jahren geschrieben haben, ist moralisch bereits veraltet, aber React wird f√ºr immer sein.  Gut, gut) <br><br>  Es gibt noch einen anderen Weg.  Sie k√∂nnen ein wunderbares neues UI-Kit auf einem Framework schreiben, sozusagen eine Bibliothek wiederverwendbarer Komponenten erstellen und dieses UI-Kit dann einfach in all Ihren Projekten verwenden.  Klingt cool?  Nat√ºrlich, aber es bleibt ein Problem - die Laufzeit. <br><br>  Wenn Ihr Projekt in Angular (~ 500 KB) geschrieben ist und Sie sich entschieden haben, ein UI-Kit in React (~ 98 KB) zu schreiben, ziehen Sie jedes Projekt auf ein Framework, ein anderes Framework und selbst mit einer Reihe von Abh√§ngigkeiten ist das UI-Kit selbst direkt Nehmen wir an, es sieht nicht optimal aus. <br><br><h2>  L√∂sung </h2><br>  Um uns zu helfen, kommen die sehr "verschwindenden" Frameworks ohne Laufzeit.  Die Hauptbedingung hierbei ist, dass sie hinsichtlich ihres √ñkosystems so isoliert wie m√∂glich sind und √ºber externe Integrationsmechanismen und entsprechende APIs verf√ºgen. <br><br>  Ein gutes Beispiel f√ºr ein solches Framework ist SvelteJS, √ºber das bereits <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">einige</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">√ºber Habr√© geschrieben wurden</a> . <br><br>  Stellen Sie sich also die Situation vor, in der wir eine Anwendung auf React haben.  Vielleicht haben wir es satt und wollen es loswerden, aber alles auf einmal umzuschreiben ist ein unzul√§ssiger Luxus.  Oder einige Teile der Anwendung m√ºssen verbessert oder umgestaltet werden.  Nun, oder wir haben beschlossen, eine einzelne Komponentenbibliothek zu erstellen, und jetzt werden wir alle Komponenten in Svelte schreiben und in allen Projekten verwenden.  Pr√§sentiert?  Ja, nat√ºrlich nicht, niemand hat eine solche Fantasie.  Schauen wir uns ein reales Beispiel an. <br><br><img src="https://habrastorage.org/webt/h_/br/kr/h_brkrwgnkyf9oqewysg70boexg.png"><br><div class="spoiler">  <b class="spoiler_title">Haftungsausschluss</b> <div class="spoiler_text">  Ich m√∂chte Sie sofort darauf aufmerksam machen, dass ich kein React-Entwickler bin und das letzte Mal, dass ich React im Jahr 2015 "gef√ºhlt" habe.  Daher nehme ich an, dass die Art und Weise, wie ich einen Teil des React-Beispiels geschrieben habe, die Gef√ºhle <s>glaubender</s> Reaktoren verletzen kann.  Es tut mir leid, nicht streng zu urteilen, zumal sich die Bedeutung des Artikels nicht √§ndert. <br></div></div><br><br>  Die Aufgabe besteht also darin, die vorgefertigte Svelte-Komponente in die React-Anwendung zu implementieren, ohne die Komponente selbst zu √§ndern und ohne zus√§tzliche Laufzeit in die Anwendung zu packen.  Zum Beispiel nehme ich die Komponente, die nach GitHub-Benutzern sucht, die ich f√ºr den vorherigen Artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">"So suchen Sie auf GitHub nach Benutzern ohne React + RxJS 6 + Recompose" geschrieben habe</a> . <br><br>  Der Code f√ºr diese Komponente kann in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">REPL</a> und der Beispielcode aus diesem Artikel im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Repository</a> angezeigt werden. <br><br><h4>  Erstellen Sie eine Reaktions-App </h4><br>  Erstellen Sie zun√§chst ein neues React-Projekt mit dem De-facto-Standardtool - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">create-react-app</a> : <br><br><pre><code class="bash hljs">npx create-react-app my-app <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> my-app npm start</code> </pre> <br>  Ok, wenn Sie zum 3000. Port gehen, scheint es zu funktionieren. <br><br><h4>  Passen Sie Svelte an </h4><br>  Wenn Sie nichts √ºber Svelte wissen, werde ich dies im Kontext der Svelte-Aufgabe sagen. Dies ist nur ein weiterer Schritt Ihres Sammlers (Webpack / Rollup / Gupl / Grunt / etc), mit dem Sie Komponenten im SFC-Format schreiben und in Vanille kompilieren k√∂nnen Javascript. <br><br>  In der Svelte-Community wird Rollup bevorzugt, was nicht verwunderlich ist, da sie einen Autor haben - Rich Harris.  Da CRA jedoch Webpack verwendet, werden wir Svelte damit konfigurieren.  Dazu m√ºssen Sie zuerst die Webpack-Konfigurationen von React-Skripten in das Projekt √ºbertragen, damit wir sie √§ndern k√∂nnen.  Dies erfolgt mit dem eingebauten Befehl: <br><br><pre> <code class="bash hljs">npm run eject</code> </pre> <br><br>  Soweit ich wei√ü, ist dies kein koscherer Ansatz, aber zum Beispiel ist dies die bequemste Option. <br><br>  Nachdem sich die Webpack-Konfigurationen im Stammverzeichnis des Projekts befinden, k√∂nnen Sie Svelte installieren: <br><br><pre> <code class="bash hljs">npm i --save-dev svelte svelte-loader</code> </pre><br><br>  <b>Achten Sie</b> auf das <b>Flag --save-dev. Denken Sie</b> daran, dass es keine Laufzeit gibt.)))) <br><br>  Als letzten Schliff m√ºssen Sie den entsprechenden Lader in den Konfigurationen anschlie√üen: <br><br><pre> <code class="javascript hljs"> { <span class="hljs-attr"><span class="hljs-attr">test</span></span>: <span class="hljs-regexp"><span class="hljs-regexp">/\.svelte$/</span></span>, <span class="hljs-attr"><span class="hljs-attr">use</span></span>: { <span class="hljs-attr"><span class="hljs-attr">loader</span></span>: <span class="hljs-string"><span class="hljs-string">'svelte-loader'</span></span>, } },</code> </pre><br><br>  Im Allgemeinen ist es in der Svelte-Community √ºblich, Komponentendateien mit der Erweiterung <b>.html</b> zu schreiben, da die Svelte-Komponente eine g√ºltige HTML-Datei ist.  Um m√∂gliche Kollisionen zu vermeiden, ist es in einigen F√§llen besser, das benutzerdefinierte <b>.svelte-</b> Dateiformat zu <b>verwenden</b> . <br><br>  Nun haben wir alle im Projekt <b>enthaltenen .svelte-</b> Dateien von diesem Loader abgefangen und von Svelte kompiliert. <br><br><h4>  Schreiben einer schlanken Komponente </h4><br>  Zun√§chst ist es beispielsweise besser, den Code-Editor so zu konfigurieren, dass er die Hervorhebung der HTML-Syntax auf Dateien mit der entsprechenden Erweiterung anwendet.  So etwas wird in VS Code gemacht: <br><br><pre> <code class="json hljs"> <span class="hljs-string"><span class="hljs-string">"files.associations"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"*.svelte"</span></span>: <span class="hljs-string"><span class="hljs-string">"html"</span></span> }</code> </pre><br>  Erstellen Sie nun einen Ordner ./src/svelte_components/ und dort den Ordner der Komponente selbst.  Danach √ºbertragen wir einfach alle Dateien aus dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">REPL-Beispiel</a> in diesen Ordner, geben ihnen gleichzeitig die neue Erweiterung <b>.svelte</b> und rufen die Datei App.html Widget.svelte auf. <br><br>  Das Ergebnis sollte ungef√§hr so ‚Äã‚Äãaussehen: <br><br><div style="text-align:center;"><img height="300" src="https://habrastorage.org/webt/ke/b7/v9/keb7v9dimbzchwje0xwwn6qevxy.png"></div><br>  An derselben Stelle erstellen wir die Datei index.js, in der wir den Integrationscode Svelte and React haben. <br><br><h4>  Integrieren </h4><br>  Vielleicht m√∂chten Sie jetzt wissen, was Magie ist?  Die Magie ist, dass wir bereits die ganze Magie gemacht haben.  Magisch, nicht wahr? <br><br>  Im Ernst, jetzt k√∂nnen wir die Svelte-Komponenten in unserer React-Anwendung als ganz normale JS-Konstruktoren verwenden, was bedeutet, dass sich der Integrationscode mit Svelte nicht von der Integration mit anderen eigenst√§ndigen Komponenten unterscheidet.  Die React-Dokumentation enth√§lt sogar einen entsprechenden Abschnitt: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Integration in andere Bibliotheken</a> . <br><br>  Der Integrationscode kann folgenderma√üen aussehen: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { PureComponent } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Widget <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Widget.svelte'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PureComponent</span></span></span><span class="hljs-class"> </span></span>{ componentDidMount() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { username } = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.widget = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Widget({ <span class="hljs-attr"><span class="hljs-attr">target</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: { username } }); } componentWillUnmount() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.widget.destroy(); } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{el</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> this.el = el}&gt;</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre><br>  Insgesamt haben wir den Code unserer komplexen Svelte-Komponente einfach in eine sehr einfache React-Komponente verpackt, die einfach eine neue Instanz der Svelte-Komponente erstellt und beim Erstellen das Mount-Element und die Daten von den Requisiten √ºbergibt.  Au√üerdem vergessen wir nicht, die Svelte-Komponente im <b>componentWillUnmount-</b> Hook zu deinstallieren. <br><br>  Das einzige, was wir noch nicht getan haben, ist, dass sie die Werte des Komponentenstatus nicht synchronisiert haben.  Das hei√üt, wenn die √ºbergeordnete Komponente andere Requisiten in die Wrapper-Komponente geworfen hat, sollten sie auf die Svelte-Komponente angewendet werden.  Wenn umgekehrt die Daten innerhalb der Svelte-Komponente ge√§ndert wurden, m√ºssen sie zur√ºckgesetzt werden. <br><br>  Zu diesem Zweck gehen wir davon aus, dass die √ºbergeordnete React-Komponente den onChange-R√ºckruf √ºbertr√§gt, den wir abrufen sollten, wenn √Ñnderungen im Inneren auftreten, und dass wir √Ñnderungen an den Requisiten der Wrapper- <b>Komponente</b> im <b>componentWillReceiveProps-</b> Hook erwarten.  Lass es uns tun: <br><br><pre> <code class="javascript hljs"> componentDidMount() { ... this.widget.on(<span class="hljs-string"><span class="hljs-string">'state'</span></span>, ({ <span class="hljs-attr"><span class="hljs-attr">current</span></span>: { username }, changed }) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (changed.username) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.onChange({ username }); } }); } componentWillReceiveProps({ username }) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.widget.set({ username }); }</code> </pre><br>  Hier haben wir das integrierte Statusereignis verwendet, das jedes Mal ausgel√∂st wird, wenn sich der <b>Status der</b> Svelte-Komponente √§ndert.  Ein Objekt, das den aktuellen Status der Komponente ( <b>aktuell</b> ), den vorherigen Status ( <b>zuvor</b> ) und die Liste der ge√§nderten Eigenschaften ( <b>ge√§ndert</b> ) enth√§lt, wird an den R√ºckruf √ºbertragen.  Dementsprechend pr√ºfen wir einfach, ob der Benutzername ge√§ndert wurde, und rufen gegebenenfalls den <b>R√ºckruf</b> onChange auf. <br><br>  Im <b>KomponentenWillReceiveProps-</b> Hook legen wir den neuen <b>Benutzernamen</b> mithilfe der integrierten <b>set ()</b> -Methode fest. <br><br>  Zus√§tzlich zu den integrierten Komponenten k√∂nnen Svelte-Komponenten benutzerdefinierte Ereignisse und Methoden implementieren.  Mit diesen netten Funktionen k√∂nnen Sie die Benutzeroberfl√§che der Komponente beschreiben und die Kommunikation mit der "Au√üenwelt" bequem organisieren. <br><br><h4>  Verwenden Sie </h4><br>  Versuchen wir nun, unser Widget direkt in der React-Anwendung zu verwenden.  Bearbeiten Sie dazu die vom Starter generierte Datei App.js: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-string"><span class="hljs-string">'./App.css'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> GithubWidget <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./svelte_components/GithubWidget'</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">App</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Component</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state = { <span class="hljs-attr"><span class="hljs-attr">username</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span> }; } handleChange = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">state</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ ...state }); } render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"App"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">header</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"App-header"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Github Widget for: {this.state.username}</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">GithubWidget</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onChange</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.handleChange}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">username</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.state.username}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">header</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> ); } } export default App;</span></span></code> </pre><br>  Kurz gesagt, wir verwenden es als regul√§re React-Komponente.  Und als Ergebnis erhalten wir: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/qd/0z/1k/qd0z1khfju_dcx2yxvczi8btoas.gif"></div><br>  Schon nicht schlecht, oder?) Bitte beachten Sie, dass der Benutzername, den wir in das Textfeld des Widgets eingeben, sofort zur React-Anwendung springt. <br><br><h4>  Wir werden abschlie√üen </h4><br>  Lassen Sie uns nun unserem Widget beibringen, nicht nur die GitHub-Benutzerkarte, sondern auch die Repository-Karte zu suchen und anzuzeigen. <br><br>  Zun√§chst m√ºssen Sie eine neue Komponente Repo.svelte erstellen, die die Repository-Karte zeichnet.  Der Einfachheit halber habe ich nur die Vorlage und die Stile von User.svelte kopiert und an die Repository-Daten angepasst.  Theoretisch ist dies jedoch eine separate Komponente. <br><br>  Als N√§chstes m√ºssen Sie die Steuerungskomponente Widget.svelte lernen, um diese beiden Kartentypen im laufenden Betrieb zu wechseln.  Au√üerdem m√ºssen Sie ihm beibringen, verschiedene Anforderungen f√ºr den Benutzer und das Repository abzurufen. <br><br>  Wir werden ein Feld f√ºr die Eingabe verwenden und den Datentyp durch das Vorhandensein von "/" im Wert bestimmen.  Das hei√üt, wenn Sie nach dem Benutzer suchen m√ºssen, geben Sie seinen Benutzernamen und, wenn das Repository, den Benutzernamen des Benutzers, dann "/" und den Namen des Repositorys ein. <br><br>  Auf den ersten Blick sieht es ziemlich verwirrt aus, aber auf Svelte wird die L√∂sung buchst√§blich 5-6 Codezeilen ben√∂tigen.  Lassen Sie uns zun√§chst eine neue Komponente und eine neue API-Methode verbinden, die wir in debounce einschlie√üen: <br><br><pre> <code class="javascript hljs">... import Repo <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Repo.svelte'</span></span>; ... import { getUserCard, getRepoCard } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./api.js'</span></span>; ... const getRepo = debounce(getRepoCard, <span class="hljs-number"><span class="hljs-number">1000</span></span>);</code> </pre><br>  Erstellen Sie als N√§chstes eine berechnete Eigenschaft, die bestimmt, welcher Kartentyp angezeigt werden soll: <br><br><pre> <code class="javascript hljs">computed: { ... repo: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ username }</span></span></span><span class="hljs-function">) =&gt;</span></span> username.includes(<span class="hljs-string"><span class="hljs-string">'/'</span></span>), ... }</code> </pre><br>  F√ºgen Sie nun den API-Schalter f√ºr Anforderungen hinzu: <br><br><pre> <code class="javascript hljs">computed: { ... card: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ username, repo }</span></span></span><span class="hljs-function">) =&gt;</span></span> username &amp;&amp; (repo ? getRepo : getUser)(username), ... }</code> </pre><br>  Und schlie√ülich das Wechseln der Kartenkomponenten je nach Typ: <br><br><pre> <code class="javascript hljs">computed: { ... Card: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{ repo }</span></span></span><span class="hljs-function">) =&gt;</span></span> repo ? Repo : User, ... }</code> </pre><br>  Um Komponenten dynamisch zu ersetzen, m√ºssen wir au√üerdem ein spezielles Svelte-Tag verwenden, das die Komponente zeichnet, deren Wert an <b>dieses</b> Attribut √ºbergeben wird: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">svelte:component</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">this</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{Card}</span></span></span><span class="hljs-tag"> {</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">...card</span></span></span><span class="hljs-tag">} /&gt;</span></span></code> </pre><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nj/lf/ai/njlfaigk7v00mzr6bajdfz8hwai.gif"></div><br>  Es funktioniert.  Hast du es bemerkt?  Wir schreiben bereits √ºber Svelte in der React-Anwendung!  ))) <br><br>  Lassen Sie uns nun unserem Widget beibringen, das Eingabefeld auszublenden, und versuchen, den Benutzernamen nicht im Widget, sondern in der React-Anwendung einzugeben.  Ist es wichtig, wie unsere Gesch√§ftslogik diesen Wert erh√§lt? <br><br>  Wir f√ºhren eine neue <b>Sucheigenschaft ein,</b> deren Standardwert false ist.  Abh√§ngig von dieser Eigenschaft wird das Eingabefeld angezeigt oder nicht angezeigt.  Dementsprechend wird standardm√§√üig kein Feld angezeigt. <br><br><pre> <code class="html hljs xml">{#if search} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">bind:value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">username</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"username or username/repo"</span></span></span><span class="hljs-tag">&gt;</span></span> {/if} ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">export</span></span></span><span class="javascript"> </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">default</span></span></span><span class="javascript"> { ... data() { </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">username</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">search</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript"> }; }, ... }; </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Jetzt erstellen wir in App.js ein Eingabefeld auf der React-Seite der Anwendung und schreiben die entsprechende Verarbeitung f√ºr das Eingabeereignis: <br><br><pre> <code class="javascript hljs"> ... handleUsername = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setState({ <span class="hljs-attr"><span class="hljs-attr">username</span></span>: e.target.value }); } ... &lt;h1&gt;Github Widget <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>: {<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.state.username}&lt;<span class="hljs-regexp"><span class="hljs-regexp">/h1&gt; &lt;input value={this.state.username} onChange={this.handleUsername} className="Username" placeholder="username or username/</span></span>repo<span class="hljs-string"><span class="hljs-string">" /&gt;</span></span></code> </pre><br>  Und auch kopieren Sie es in den Ordner mit dem Widget hier ist so ein SVG-Spinner auf Svelte: <br><br><pre> <code class="javascript hljs">&lt;svg height={size} width={size} style=<span class="hljs-string"><span class="hljs-string">"animation-duration:{speed}ms;"</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span></span>=<span class="hljs-string"><span class="hljs-string">"svelte-spinner"</span></span> viewbox=<span class="hljs-string"><span class="hljs-string">"0 0 32 32"</span></span> &gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">circle</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">role</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"presentation"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cx</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"16"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">cy</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"16"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">r</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{radius}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stroke</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{color}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">fill</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"none"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stroke-width</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{thickness}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stroke-dasharray</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"{dash},100"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">stroke-linecap</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"round"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">svg</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;script&gt; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> { data() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">size</span></span>: <span class="hljs-number"><span class="hljs-number">25</span></span>, <span class="hljs-attr"><span class="hljs-attr">speed</span></span>: <span class="hljs-number"><span class="hljs-number">750</span></span>, <span class="hljs-attr"><span class="hljs-attr">color</span></span>: <span class="hljs-string"><span class="hljs-string">'rgba(0,0,0,0.4)'</span></span>, <span class="hljs-attr"><span class="hljs-attr">thickness</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">gap</span></span>: <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-attr"><span class="hljs-attr">radius</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span> }; }, <span class="hljs-attr"><span class="hljs-attr">computed</span></span>: { <span class="hljs-attr"><span class="hljs-attr">dash</span></span>: <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">{radius, gap}</span></span></span><span class="hljs-function">) =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> * <span class="hljs-built_in"><span class="hljs-built_in">Math</span></span>.PI * radius * (<span class="hljs-number"><span class="hljs-number">100</span></span> - gap) / <span class="hljs-number"><span class="hljs-number">100</span></span> } }; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">script</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;style&gt; .svelte-spinner { transition-property: transform; animation-name: svelte-spinner_infinite-spin; animation-iteration-count: infinite; animation-timing-<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">: </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">linear</span></span></span><span class="hljs-function">; } @</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">keyframes</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">svelte</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">spinner_infinite</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">spin</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> { <span class="hljs-attr"><span class="hljs-attr">transform</span></span>: rotate(<span class="hljs-number"><span class="hljs-number">0</span></span>deg); } to { <span class="hljs-attr"><span class="hljs-attr">transform</span></span>: rotate(<span class="hljs-number"><span class="hljs-number">360</span></span>deg); } } &lt;<span class="hljs-regexp"><span class="hljs-regexp">/style&gt;</span></span></code> </pre><br>  Und wir werden es im Widget anwenden, damit es sehr sch√∂n ist: <br><br><pre> <code class="html hljs xml">... {#await card} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Spinner</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">size</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">speed</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"750"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">color</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#38b0ee"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">thickness</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">gap</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"40"</span></span></span><span class="hljs-tag"> /&gt;</span></span> {:then card} ...</code> </pre><br>  Meiner Meinung nach stellte sich heraus, dass es nicht sehr schlecht war: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/e_/2l/cb/e_2lcbvrci4btwtg6wwhjrf9zic.gif"></div><br>  Der Zylinder mit schwarzem Hintergrund und Eingabefeld ist eine React-Anwendung, der wei√üe Block darunter ist ein Svelte-Widget.  Das sind die Kuchen.  ))) <br><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Repository</a> <br><br><h2>  Schlussfolgerungen </h2><br>  Svelte ist ein gro√üartiges Tool f√ºr die Entwicklung moderner komponentenbasierter Webanwendungen.  Dar√ºber hinaus k√∂nnen Sie schnell und bequem wiederverwendbare eigenst√§ndige UI-Komponenten und Widgets darauf schreiben, die in allen Webanwendungen verwendet werden k√∂nnen, auch in Verbindung mit anderen Frameworks.  Es eignet sich auch hervorragend f√ºr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mikrofronts</a> . <br><br><h4>  Svelte ist perfekt f√ºr Sie, wenn: </h4><br><ol><li>  Sie m√∂chten ein neues Projekt starten und wissen nicht, welches Framework Sie daf√ºr w√§hlen sollen. </li><li>  Sie haben ein Projekt, es funktioniert und es ist besser, es nicht zu ber√ºhren.  Neue Komponenten und Module k√∂nnen Sie in Svelte schreiben und nahtlos in vorhandenen Code integrieren. </li><li>  Sie haben bereits ein Projekt, aber es ist teilweise oder vollst√§ndig veraltet und / oder erfordert ernsthafte Umgestaltungen bis hin zu einer vollst√§ndigen Neufassung.  Sie k√∂nnen beginnen, es in Teilen neu zu schreiben.  In diesem Fall m√ºssen Sie keine komplexen Konfigurationen erstellen.  Sie nehmen einfach eine Komponente, schreiben sie in Svelte um und verpacken die neue Komponente mit der alten.  Dem Rest der Anwendung sind die √Ñnderungen jedoch nicht einmal bekannt. </li><li>  Sie haben mehrere Projekte auf unterschiedlichen Codebasen und m√∂chten gleichzeitig ein einziges UI-Kit haben und es in einem dieser Projekte verwenden.  Schreiben Sie ein UI-Kit auf Svelte und verwenden Sie es √ºberall.  Es ist sch√∂n. </li></ol><br>  M√∂chten Sie weitere interessante F√§lle herausfinden?  Treten Sie unserem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Telegrammkanal bei</a> ! <br><br>  <b>UPDATE:</b> danke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">justboris</a> f√ºr die richtige <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">frage</a> .  Fortsetzung des Beispiels: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { PureComponent } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'react'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Widget <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'./Widget.svelte'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PureComponent</span></span></span><span class="hljs-class"> </span></span>{ componentDidMount() { ... this.widget = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Widget({ <span class="hljs-attr"><span class="hljs-attr">target</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.el, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: { username }, <span class="hljs-attr"><span class="hljs-attr">slots</span></span>: { <span class="hljs-attr"><span class="hljs-attr">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.slot } }); ... } ... render() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{el</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> this.el = el}&gt; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{el</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> this.slot = el}&gt; {this.props.children} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ); } }</code> </pre><br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">GithubWidget</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onChange</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.handleChange}</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">username</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{this.state.username}</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span>Hello world<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">p</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">GithubWidget</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de420113/">https://habr.com/ru/post/de420113/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de420103/index.html">Die besten Englisch sprechenden Personen mit HighLoad ++ 2017</a></li>
<li><a href="../de420105/index.html">Maximale Anpassungsf√§higkeit bei minimaler Anzahl von Medienabfragen oder die Methode der umgekehrten Anpassungsf√§higkeit</a></li>
<li><a href="../de420107/index.html">Typegramm - Zen Blog Plattform</a></li>
<li><a href="../de420109/index.html">Elon Musk sagte, das Unternehmen k√∂nne an private Investoren verkauft werden. Es stellte sich heraus, dass es sich um einen saudischen Fonds handelte</a></li>
<li><a href="../de420111/index.html">Von Null bis zum Helden "Aktionen bei Google": Ihr Code</a></li>
<li><a href="../de420115/index.html">UE4 | Ausr√ºstung f√ºr den Mehrspielermodus # 4 | Erstellen und Verbinden eines Containers</a></li>
<li><a href="../de420117/index.html">Simple Queues Guide bei Mikrotik</a></li>
<li><a href="../de420119/index.html">10 Python-Webframeworks, mit denen es sich zu arbeiten lohnt, 2018</a></li>
<li><a href="../de420121/index.html">Festigkeitstest: Termite LT450, LXI</a></li>
<li><a href="../de420123/index.html">Was ist Node.js wirklich?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>