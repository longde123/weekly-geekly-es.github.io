<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚟 👨‍👩‍👦 ⏫ Maximale Anpassungsfähigkeit bei minimaler Anzahl von Medienabfragen oder die Methode der umgekehrten Anpassungsfähigkeit 🤶🏿 👩🏿‍🤝‍👩🏽 🤽🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="" Jedes Problem hat immer eine Lösung - einfach, bequem und natürlich fehlerhaft ." - Henry Louis Mencken. 
 Das Wesentliche des Problems 
 Auf den er...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Maximale Anpassungsfähigkeit bei minimaler Anzahl von Medienabfragen oder die Methode der umgekehrten Anpassungsfähigkeit</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/420105/"><blockquote>  " <i>Jedes Problem hat immer eine Lösung - einfach, bequem und natürlich fehlerhaft</i> ."  - Henry Louis Mencken. </blockquote><br><h2>  Das Wesentliche des Problems </h2><br>  Auf den ersten Blick mag die Implementierung eines adaptiven Layouts wie eine „lineare Suche“ mit einem relativ kleinen Feld für Manöver erscheinen. <br><br>  Wir weisen die erforderlichen Klassen zu, ändern die Größe, Position oder Reihenfolge der Elemente nach Bedarf, und die Angelegenheit scheint erledigt zu sein. <br><br>  Wenn Sie jedoch von Zeit zu Zeit das Layout in vollständig abgeschlossenen Projekten analysieren, denken Sie unwillkürlich, dass theoretisch alles viel besser aussieht als in der Praxis.  Zu Beginn sieht CSS so gepflegt und logisch wie möglich aus, aber je mehr es ist, desto häufiger wird es gestartet, insbesondere nach mehreren Änderungen mit großen Zeitintervallen. <br><br>  Bei ungewöhnlichen Designlösungen werden Medienabfragen „dicker“, es werden nicht standardmäßige Haltepunkte angezeigt, und wenn Sie Designdetails ändern, wird es ziemlich schwierig, Änderungen am Layout vorzunehmen. <br><br>  Jede Korrektur durch den Client oder Designer und den CSS-Code muss in allen Medienabfragen bearbeitet werden (insbesondere, wenn es sich um die CSS eines anderen handelt und diese an verschiedenen Stellen mit einer unlogischen Reihenfolge im Code verteilt sind). <br><br>  Dies führt häufig zu einer Situation, in der Sie die Situation nicht ganz unter Kontrolle haben und die Versuchung besteht, auf "harte" Methoden wie die! Wichtige Direktive oder das Verschachteln zurückzugreifen.  Der Code wird noch weniger anpassbar und irgendwo aus Tausenden von Zeilen erscheinen Zeilen, die nicht mehr benötigt werden und den Browser nur (wenn auch geringfügig) verlangsamen. <br><a name="habracut"></a><br><h2>  Lösung </h2><br><h3>  Teil 1. Absolute Relativitätstheorie </h3><br>  Die wichtigste und wichtigste Idee dieses Artikels ist, dass es umso einfacher ist, ihn zu steuern, je weniger CSS-Code wir schreiben. <br><br>  Das Wesentliche der Methode der umgekehrten Anpassungsfähigkeit besteht darin, jedes Element so anpassungsfähig wie möglich zu machen und dann seine Fähigkeit zur Anpassung an die Größe des Bildschirms schrittweise zu verringern. <br><br>  Der Hauptschritt dazu ist also die Verwendung absoluter Maßeinheiten: px, em, rem nur innerhalb von Medienabfragen (mit seltenen Ausnahmen). <br><br>  Außerhalb von Medienabfragen verwenden wir besser nur relative Maßeinheiten für Ansichtsfenster: vw, vh, vmax und Prozent%. <br><br>  Wir werden die Root-Tags der Blöcke und des Texts in Ansichtsfenstereinheiten messen, während es für untergeordnete Blöcke bequemer ist, die Größe als Prozentsatz des übergeordneten Elements zu betrachten. <br><br>  Es klingt logisch - ermöglichen Sie den Elementen, sich unabhängig an die Bildschirmgröße anzupassen, ohne die Einstellungen für jeden Haltepunkt zu überschreiben. <br><br>  Die Arbeit sollte jedes Mal mit der Vorbereitung beginnen, unabhängig von der Größe des Projekts. <br>  Als erstes messen wir unser Beispiellayout und notieren alle Abmessungen, die wir benötigen. <br><br><img src="https://habrastorage.org/webt/eu/9x/ms/eu9xmserputeowpkl50dt3hxdtc.jpeg" alt="Bild"><br><br>  1920 ist die Hauptbreite unseres Layouts, alle anderen horizontalen Abmessungen hängen davon ab. <br>  930 ist die Haupthöhe unseres Layouts (die geschätzte Höhe des Seitenbereichs, der gleichzeitig auf dem Bildschirm angezeigt wird). Alle vertikalen Größen hängen davon ab. <br>  1400 ist die Breite des Containers, in den der gesamte Inhalt der Seite gepackt wird. <br>  Als Nächstes erstellen wir die Hauptklassen für den Container und den Text wie folgt: <br>  (Berechnete Breite / Breite des Layouts) * 100, d.h.  in unserem Fall <br>  (1400/1920) * 100 = 72,9 <br>  Das Ergebnis wird, wie oben geplant, in Ansichtsfenstereinheiten geschrieben, nämlich in der Ansichtsbreite: <br><br><pre><code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.container</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">72.91vw</span></span>; }</code> </pre> <br>  Wir werden dasselbe für den Text tun, mit der Ausnahme, dass wir anstelle von vw vmax verwenden - um die maximale Bildschirmgröße und nicht die Breite zu verwenden. <br>  (55/1920) * 100 = 2,86 <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.page__title</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">2.86vmax</span></span>; }</code> </pre> <br>  Für Elemente mit derselben Höhe und Breite (quadratische und runde Elemente) müssen Sie außerdem vmax-Einheiten verwenden, um die Proportionen beizubehalten.  Als nächstes können Sie mit dem Setzen und Skizzieren des Rasters beginnen. <br><br>  Für die Blöcke, deren Höhe festgelegt werden muss, verwenden wir dieselbe Neuberechnungsformel im Ansichtsfenster. Jetzt beginnen wir anstelle der Breite mit der Bildschirmhöhe und fügen dem Ergebnis vh (Ansichtshöhe) hinzu.  Wir werden vh auch auf den oberen und unteren Einzug anwenden. <br>  (300/1920) * 100 = 15,62; <br>  (60/1920) * 100 = 3,12; <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.main__block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">15.62vmax</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">15.62vmax</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: <span class="hljs-number"><span class="hljs-number">3.12vh</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">margin-right</span></span>: <span class="hljs-number"><span class="hljs-number">3.12vw</span></span>; }</code> </pre> <br>  Und die Breite verschachtelter Blöcke wird, wie ich bereits sagte, als Prozentsatz auf Flex-Basis berechnet. <br><br><img src="https://habrastorage.org/webt/xq/cl/l-/xqcll-dt4815w0zd34o4vz0_hbu.jpeg" alt="Bild"><br><br>  (970/1920) * 100 = 50,52; <br>  (16/1920) * 100 = 0,83; <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.main-menu</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">50.52vw</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.main-menu__item</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">flex-basis</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">calc</span></span>(100% / 4 - 0.83vw); }</code> </pre> <br><h3>  Teil 2. Reverse Anpassungsfähigkeit </h3><br>  Blöcke verhalten sich so anpassungsfähig wie möglich, sind jedoch zu anpassungsfähig: <br>  Text wird auf kleinen Bildschirmen unlesbar, und Blöcke können sich auf jedem Bildschirm bis ins Unendliche verjüngen. <br><br>  Jetzt ist die Zeit für Anpassungsfähigkeit nach hinten. <br><br>  Bei Medienabfragen ersetzen wir relative Einheiten durch absolute. <br>  Em für Schriftgröße; <br>  Px für Blockhöhe; <br><br>  Für die Breite des Containers und einiger Blöcke werden weiterhin relative Einheiten verwendet, diese jedoch in% geändert: <br><br><pre> <code class="hljs css">@<span class="hljs-keyword"><span class="hljs-keyword">media</span></span> (max-width: <span class="hljs-number"><span class="hljs-number">767px</span></span>) { <span class="hljs-selector-class"><span class="hljs-selector-class">.page__title</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>: <span class="hljs-number"><span class="hljs-number">4em</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.main__block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">300px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">300px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.some__block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">100%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">300px</span></span>; } .... }</code> </pre> <br>  Daher haben wir mit einer einzigen Medienanforderung die Ansichtsfenstereinheiten auf absolut geändert, wodurch der Anpassungsprozess teilweise gestoppt wurde. <br>  Ein wichtiges Plus: Aufgrund der relativen Maßeinheiten sieht das Layout jetzt sowohl auf dem Laptop-Bildschirm als auch auf dem Bildschirm eines riesigen Plasmabildschirms gleich aus. <br><br><h3>  Teil 3. Bequemlichkeit und eine Prise Programmierung </h3><br>  Trotz der Vielseitigkeit dieser Methode arbeiten wir weiterhin viel hinter den Kulissen, nämlich den Taschenrechner endlos zu verwenden, um Pixel „manuell“ in die Ansichtsfenstereinheiten zu übersetzen.  Um diesen Prozess zu automatisieren, müssen wir einige einfache Schritte mit Scss ausführen: <br><br>  1. Schreiben Sie Hauptdimensionen in Variablen <br><br><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$full</span></span><span class="hljs-literal"><span class="hljs-literal">-width</span></span>: <span class="hljs-number"><span class="hljs-number">1920</span></span>; <span class="hljs-variable"><span class="hljs-variable">$work</span></span><span class="hljs-literal"><span class="hljs-literal">-width</span></span>: <span class="hljs-number"><span class="hljs-number">80</span></span>; <span class="hljs-variable"><span class="hljs-variable">$screen</span></span><span class="hljs-literal"><span class="hljs-literal">-height</span></span>: <span class="hljs-number"><span class="hljs-number">720</span></span>;</code> </pre> <br>  2. Schreiben Sie eine Funktion, um Pixel im Ansichtsfenster automatisch neu zu berechnen <br><br><pre> <code class="hljs powershell">@<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vmax</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$pixels</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$context:</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$full</span></span></span></span><span class="hljs-function"><span class="hljs-params">-width)</span></span></span></span> { @<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-comment"><span class="hljs-comment">#{($pixels/$context)* 100}vmax }</span></span></code> </pre> <br>  und zwei ähnliche für vw und vh. <br><br>  Jetzt können wir sicher alle Größen in der Form schreiben, in der sie im Beispiellayout angegeben sind, und dies nicht „manuell“ berücksichtigen: <br><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.main__block</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">vmax</span></span>(300); <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">vmax</span></span>(300); <span class="hljs-attribute"><span class="hljs-attribute">margin-top</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">vh</span></span>(60); <span class="hljs-attribute"><span class="hljs-attribute">margin-right</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">vw</span></span>(60); }</code> </pre> <br>  So sparen wir Zeit und Mühe. <br><br>  Oben in Medienabfragen haben wir em-Einheiten verwendet, um die Schriftgrößen anzugeben. <br>  Daher wäre es schön, auch für sie eine Funktion zu schreiben, um Klarheit und Ordnung zu beachten: <br><br><pre> <code class="hljs powershell"><span class="hljs-variable"><span class="hljs-variable">$browser</span></span><span class="hljs-literal"><span class="hljs-literal">-context</span></span>: <span class="hljs-number"><span class="hljs-number">16</span></span>; @<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">em</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$pixels</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$context:</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-variable"><span class="hljs-function"><span class="hljs-params"><span class="hljs-variable">$browser</span></span></span></span><span class="hljs-function"><span class="hljs-params">-context)</span></span></span></span> { @<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-comment"><span class="hljs-comment">#{$pixels/$context}em }</span></span></code> </pre> <br>  Ich denke, es ist ziemlich offensichtlich, dass diese Funktionen einmal geschrieben werden und dann zusammen mit den erstellten Variablen sowie einigen davon abhängigen Klassen von einem Projekt in ein anderes "verschoben" werden können. <br><br>  Das einzige, was Sie tun müssen, wenn Sie mit der Arbeit an einem neuen Projekt beginnen, ist erneut, die Messung aus dem Layout zu übernehmen und die Werte in diesen Variablen zu ersetzen. <br><br><h3>  Fazit </h3><br><ul><li>  Wir erhalten ein Minimum an unnötigem Code, der an verschiedenen Enden und in verschiedenen Dateien verteilt ist. </li><li>  Wir erhöhen unsere Kontrolle darüber. </li><li>  Wir beschleunigen das Schreiben und Bearbeiten von Code. </li><li>  Vereinfachen Sie Ihr Leben, wie die Praxis zeigt - weniger Code = weniger Probleme. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de420105/">https://habr.com/ru/post/de420105/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de420095/index.html">Asymmetrische Kryptographie mit einem einmaligen geheimen Schlüssel: Beschreibung der Idee und mögliche Anwendung</a></li>
<li><a href="../de420097/index.html">Sicherheitswoche 30: Fünf Absätze über Black Hat</a></li>
<li><a href="../de420099/index.html">Erstellen eines Thin Clients auf Basis billiger Single-Board-PCs</a></li>
<li><a href="../de420101/index.html">9 Jahre gekapselte Entwicklung - wie das Projektteam in einem Unternehmen mit 2500 Mitarbeitern arbeitet</a></li>
<li><a href="../de420103/index.html">Die besten Englisch sprechenden Personen mit HighLoad ++ 2017</a></li>
<li><a href="../de420107/index.html">Typegramm - Zen Blog Plattform</a></li>
<li><a href="../de420109/index.html">Elon Musk sagte, das Unternehmen könne an private Investoren verkauft werden. Es stellte sich heraus, dass es sich um einen saudischen Fonds handelte</a></li>
<li><a href="../de420111/index.html">Von Null bis zum Helden "Aktionen bei Google": Ihr Code</a></li>
<li><a href="../de420113/index.html">Die Legende vom Machtrahmen</a></li>
<li><a href="../de420115/index.html">UE4 | Ausrüstung für den Mehrspielermodus # 4 | Erstellen und Verbinden eines Containers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>