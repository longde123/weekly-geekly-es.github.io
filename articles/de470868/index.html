<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏕️ 🧓🏾 😤 Zeit bis zum ersten Byte: Was ist das und warum ist es wichtig? 🦉 🐝 🈲</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Jetzt arbeite ich an einem Projekt für einen Kunden. Dies ist eine E-Commerce-Website, daher interessieren mich einige Aspekte der Leistung sehr. Für ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zeit bis zum ersten Byte: Was ist das und warum ist es wichtig?</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/470868/">  Jetzt arbeite ich an einem Projekt für einen Kunden.  Dies ist eine E-Commerce-Website, daher interessieren mich einige Aspekte der Leistung sehr.  Für den Anfang sind dies verschiedene Indikatoren, die die Ladezeit einer Site charakterisieren.  Weiter - Dies ist die Startzeit für das Rendern der Seite. Dies ist wichtig für diejenigen Besucher, die nach dem Aufrufen der Website den Inhalt so schnell wie möglich sehen möchten (natürlich fallen alle Website-Besucher in diese Kategorie).  Zu den Leistungsindikatoren, die mich interessieren, gehören diejenigen, die die Besonderheiten der Aktivitäten meines Kunden widerspiegeln.  Zum Beispiel: "Wie schnell wird das Hauptbild des Produkts geladen?"  Eine Analyse all dieser Indikatoren kann wertvolle Informationen über den Stand des Projekts liefern. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/tq/4b/8i/tq4b8ifmpqelzhiw5uzboghocp8.jpeg"></a> <br><br>  Es gibt jedoch einen Indikator, dem Front-End-Entwickler anscheinend häufig nicht genügend Aufmerksamkeit schenken.  Es ist Zeit für das erste Byte (Time to First Byte, TTFB).  Sie können dies verstehen, Sie können Entwicklern diese Haltung gegenüber TTFB zumindest teilweise verzeihen, insbesondere angesichts der Tatsache, dass sie diesen Indikator als etwas betrachten, das nur vom Backend der Projekte abhängt.  Wenn wir jedoch versuchen, das Problem in Bezug auf diesen Indikator buchstäblich kurz auszudrücken, können wir Folgendes sagen: "Obwohl ein guter TTFB-Wert nicht unbedingt bedeutet, dass die Website, die dies demonstriert, als schnell angesehen werden kann, weist ein schlechter TTFB-Indikator mit ziemlicher Sicherheit auf Probleme mit der Projektleistung hin." <br><a name="habracut"></a><br>  Selbst wenn wir die Tatsache berücksichtigen, dass der Front-End-Entwickler möglicherweise in einer Position ist, in der er das Backend und den TTFB nicht unabhängig beeinflussen kann, ist es wichtig zu berücksichtigen, dass hohe TTFB-Werte die Leistung der Site erheblich beeinträchtigen können.  Infolgedessen ähneln die Bemühungen eines Front-End-Entwicklers, der nach Website-Geschwindigkeit strebt, einem Aufholspiel.  Dies gilt beispielsweise für die Bildoptimierung, die Minimierung des Materialvolumens, aus dem die wichtigsten Abschnitte des Projekts bestehen, und das asynchrone Herunterladen von Webschriftarten.  Dies bedeutet nicht, dass Sie in diesem Wissen die Front-End-Optimierungen aufgeben und aufgeben können.  Wenn der TTFB jedoch zu hoch ist, erinnern alle derartigen Optimierungen an den Versuch, ein Problem unter Bedingungen zu beheben, unter denen es bereits Schaden angerichtet hat und zu spät ist, um dieses Problem zu beheben.  In der Tat ist es deshalb für diejenigen, die das Front-End entwickeln, sehr wichtig, den TTFB-Indikator genau zu überwachen, und es ist sehr wichtig, wenn seine Werte zu hoch sind, Maßnahmen zu seiner Verbesserung zu ergreifen. <br><br><h2>  <font color="#3AC1EF">Was ist TTFB?</font> </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/620/d0b/fe1/620d0bfe1034ff0d0c565f459ad2aa79.png"></div><br>  <i><font color="#999999">TTFB sieht nicht sehr informativ aus ( <a href="">Bild in voller Größe</a> )</font></i> <br><br>  TTFB ist ein Indikator, der, gelinde gesagt, undurchsichtig aussieht.  Er beeinflusst so sehr, dass ich das Gefühl habe, dass wir die ganze Zeit nur seine ernsthafte Analyse abwischen.  Viele spekulieren, dass TTFB nur die Zeit ist, die der Server benötigt, um eine Antwort vorzubereiten, aber es ist tatsächlich nur ein kleiner Teil dessen, was TTFB betrifft. <br><br>  Das erste, worauf ich Sie aufmerksam machen möchte, ist, dass die Leute beim Lernen normalerweise sehr überrascht sind.  Wir sprechen über die Tatsache, dass TTFB die Zeit enthält, zu der die Anforderung vom Client über das Netzwerk an den Server gesendet wird, und die Zeit, die der Serverantwortpfad zum Client benötigt.  Dies ist die sogenannte "Round Trip Time" (Round Trip Time, RTT).  TTFB ist nicht nur eine Zeit, die der Server für die Vorbereitung einer Antwort benötigt.  Es ist auch die Zeit, die für die Übertragung von Daten von Client zu Server und von Server zu Client aufgewendet wird (diese Daten enthalten natürlich das für uns interessante „erste Byte“). <br><br>  Mit diesem Wissen können wir nun leicht verstehen, warum der TTFB-Indikator beim Anzeigen von Websites von Mobilgeräten oft einfach unangemessen groß ist.  Es ist durchaus möglich, dass Sie früher in solchen Situationen Folgendes gefragt hätten: "Ich bin sicher, dass der Server nicht weiß, dass ich die Website von einem Mobiltelefon aus ansehe.  Wie erhöht es dann den TTFB? “  Der Grund dafür ist, dass Mobilfunknetzverbindungen in der Regel Verbindungen mit hoher Latenz sind.  Wenn die RTT-Anzeige, die die Zeit angibt, die die Daten benötigen, um vom Telefon zum Server und zurück zu gelangen, beispielsweise 250 ms beträgt, erhöht sich der TTFB um den entsprechenden Wert. <br><br>  Wenn ich möchte, dass die Leser dieses Materials nur eine Hauptidee daraus herausnehmen, würde ich diese Idee wie folgt formulieren: "Netzwerkverzögerungen wirken sich auf TTFB aus." <br><br>  Was betrifft TTFB noch?  In der Tat - viel von allem.  Hier ist eine alles andere als vollständige Liste dessen, was zu diesem Indikator beiträgt.  Die Elemente in dieser Liste sind in zufälliger Reihenfolge. <br><br><ul><li>  <b>Netzwerkverzögerungen.</b>  Wie bereits erwähnt, enthält TTFB die Zeit, die erforderlich ist, um eine Anforderung an den Server zu senden und eine Antwort vom Server zurückzugeben.  Nehmen Sie zum Beispiel die Zeit, die für eine Datenaustauschsitzung zwischen einem Gerät in London und einem Server in New York erforderlich ist.  Idealerweise sind dies bei Verwendung einer Glasfaserverbindung 28 ms.  Dies basiert jedoch auf vielen sehr optimistischen Annahmen.  In Wirklichkeit sollten Sie ungefähr <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">75 ms</a> erwarten.  Deshalb ist es so wichtig, CDN zu verwenden.  Selbst jetzt, im Zeitalter des Internets, ist die geografische Nähe eines bestimmten Unternehmens und seiner Kunden von Vorteil. </li><li>  <b>Routing</b>  Wenn Sie CDN verwenden (und das sollte auch so sein!), Kann die Anfrage Ihres Kunden, beispielsweise von Leeds, nur an das MAN-Rechenzentrum umgeleitet werden, sodass sich herausstellt, dass sich die vom Client benötigte Ressource nicht im entsprechenden <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PoP-</a> Cache befindet .  Anschließend wird die Anfrage mit Ihren Materialien an den realen Server umgeleitet, um dem Client dennoch zu übermitteln, was er benötigt.  Befindet sich dieser Server beispielsweise in Virginia, führt all dies ohne ersichtlichen Grund zu einer ernsthaften Erhöhung des TTFB. </li><li>  <b>Mit Dateien arbeiten.</b>  Selbst wenn der Server einfach statische Daten aus seinem Dateisystem liest, z. B. Bilder oder Stildateien, dauert es einige Zeit, bis dieser Vorgang abgeschlossen ist.  Diese Zeit ist auch Teil von TTFB. </li><li>  <b>Priorisierung</b>  Das HTTP / 2-Protokoll verfügt über Mechanismen zum Priorisieren der Anforderungsverarbeitung.  Infolgedessen kann sich herausstellen, dass Anforderungen mit niedriger Priorität auf dem Server verzögert werden können, was Anforderungen mit hoher Priorität Platz macht.  Selbst wenn Sie die HTTP / 2-Priorisierungsmechanismen nicht berücksichtigen und davon ausgehen, dass alles reibungslos funktioniert, können diese erwarteten Verzögerungen zu TTFB beitragen. </li><li>  <b>Ausführen von Anwendungen.</b>  Dies ist in der Tat ziemlich offensichtlich, aber ich möchte darauf hinweisen, dass die zum Ausführen der Serveranwendungen erforderliche Zeit TTFB ernsthaft beeinflusst. </li><li>  <b>Datenbankabfragen.</b>  Wenn Sie etwas von der Datenbank anfordern müssen, um die Seite zu erstellen, wird die Zeit zum Abschließen eines solchen Vorgangs auch in TTFB enthalten sein. </li><li>  <b>API-Aufrufe</b>  Wenn Daten von bestimmten APIs (intern oder extern) zur Vorbereitung der Seite benötigt werden, wirken sich Aufrufe dieser APIs auf TTFB aus. </li><li>  <b>Server-Rendering</b>  Es ist ziemlich offensichtlich, dass das serverseitige Rendern Zeit braucht. Diese Zeit ist leicht zu bewerten, aber dies negiert nicht den Beitrag dieser Operation zu TTFB. </li><li>  <b>Günstiges Hosting.</b>  Wenn Sie billiges Hosting verwenden, versuchen, so viel wie möglich zu sparen und die Leistung zu beeinträchtigen, bedeutet dies normalerweise, dass eine Reihe anderer Projekte den Server verwenden, auf dem sich Ihr Projekt befindet.  Vielleicht eine beträchtliche Menge.  Infolgedessen kann jemand, der billiges Hosting verwendet, mit einem Rückgang der Serverleistung rechnen, was sich auf die Fähigkeit des Projekts auswirken kann, Anforderungen zu verarbeiten.  In der Tat sprechen wir über die Tatsache, dass die Leistung der Serverhardware nicht ausreicht, um die Anforderungen der Anwendung zu erfüllen. </li><li>  <b>DDoS-Angriffe, hohe Belastung des Projekts.</b>  Hier setzen wir das im vorherigen Absatz dieser Liste behandelte Thema fort.  Wenn nämlich die Auslastung des Servers zunimmt und das Projekt keine flexible Skalierung der Serverkapazitäten vorsieht, führt dies dazu, dass die Geräte an ihre Grenzen stoßen.  Infolgedessen sinkt die Anwendungsleistung. </li><li>  <b>WAF, Load Balancer.</b>  Dienste wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">WAF</a> oder Load Balancer vor der Serveranwendung erhöhen die TTFB. </li><li>  <b>Einige Funktionen von CDN.</b>  Die Verwendung von CDNs ist ein Faktor, der sich sicherlich positiv auf TTFB auswirkt, aber einige Merkmale von CDNs können dies noch verschlimmern.  Dies ist beispielsweise <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Anforderungsfaltung</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ESI</a> usw. </li><li>  <b>Verzögerungen bei der „letzten Meile“.</b>  Wenn wir über einen Computer aus London sprechen, der auf einen Server in New York zugreift, vereinfachen wir die Situation normalerweise zu stark und reduzieren sie fast auf die Tatsache, dass Computer und Server direkt miteinander verbunden sind.  In Wirklichkeit ist alles viel komplizierter.  Das Signal zwischen Computer und Server geht über viele Vermittler.  Unser Router sendet es an den Anbieter.  Über ein drahtloses Netzwerk gelangt er in ein Kabel, das über den Meeresboden verlegt ist. Zu den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Verzögerungen auf der "letzten Meile"</a> gehören alle Schwierigkeiten, die der Datenübertragung zwischen Endgeräten im Wege stehen. </li></ul><br>  Ein 0 ms TTFB ist ein Wunschtraum.  Daher ist es wichtig zu beachten, dass die Liste nichts enthält, was den TTFB immer negativ beeinflusst oder diesen Indikator immer verschlechtert.  Diese Liste wird am besten als Beschreibung der TTFB-Struktur eines Projekts verstanden.  Mein Ziel ist es nicht, bestimmte Technologien zu kritisieren, sondern zu zeigen, wie bestimmte Technologien TTFB beeinflussen können.  Und um ehrlich zu sein, ist es angesichts der Tatsache, wie viel passiert, bevor der Client das erste Byte der Antwort vom Server erhält, bereits überraschend, dass die Websites im Allgemeinen geladen werden. <br><br><h2>  <font color="#3AC1EF">Mit TTFB das Geheimnis aufdecken</font> </h2><br>  Hoffentlich sieht TTFB jetzt nicht mehr so ​​mysteriös aus.  Wenn Sie ein wenig Zeit mit der Implementierung von API <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Server Timing</a> verbringen, können Sie schwierige Serverzeitindikatoren messen und an Client-Systeme senden.  Auf diese Weise können Webentwickler potenzielle Leistungsengpässe erkennen und beseitigen, die zuvor vor ihren Augen verborgen waren. <br><br>  Mit der Server-Timing-API können Entwickler Abfrageantworten mit dem optionalen <code>Server-Timing</code> HTTP-Header erweitern.  Es enthält Zeitinformationen, die von der Anwendung selbst gemessen werden. <br><br>  Diesen Mechanismus haben wir letztes Jahr bei der Arbeit am BBC iPlayer verwendet. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/573/4b1/63e/5734b163e8c49e7bd6729537f37a2866.png"></div><br>  <i><font color="#999999">Jeder Antwort kann ein neuer Server-Timing-Header hinzugefügt werden ( <a href="">Bild in voller Größe</a></font></i> ). <br><br>  Beachten Sie, dass das Server-Timing auch das System belastet.  Während der Arbeit müssen Sie die relevanten Indikatoren messen und den <code>Server-Timing</code> Header ausfüllen.  Der Browser erlaubt dem Front-End-Entwickler nur, diese Daten mit den entsprechenden Tools anzuzeigen. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/503/a38/b0c/503a38b0cb82096726135107e593fb25.png"></div><br>  <i><font color="#999999">Jetzt können Sie direkt im Browser die TTFB-Struktur sehen ( <a href="">Bild in voller Größe</a> ).</font></i> <br><br>  Wenn Sie die Server-Timing-API implementieren möchten, sehen Sie sich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieses Material an</a> . <br><br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br>  Es ist sehr wichtig, dass Webentwickler verstehen, inwieweit TTFB die sogenannte "Site-Leistung" beeinflusst.  Die Zeit bis zum ersten Byte ist eine bestimmte Grenze, nach der Überquerung können wir über Website-Optimierung sprechen.  Je niedriger dieser Indikator, desto besser. <br><br>  <b>Liebe Leser!</b>  Optimieren Sie Ihre Webprojekte mit TTFB? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/it/t5/3p/itt53pns2iucwylb3bwn1fmmtnu.png"></a> </div><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de470868/">https://habr.com/ru/post/de470868/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de470844/index.html">Das neue Projekt der Brüder Durov: Telegram Open Network</a></li>
<li><a href="../de470852/index.html">Verarbeitung von 40 TB Code aus 10 Millionen Projekten auf einem dedizierten Server mit Go für 100 US-Dollar</a></li>
<li><a href="../de470856/index.html">Telegramm GRAM Wallet: Nutzungsbedingungen</a></li>
<li><a href="../de470858/index.html">Antiquitäten: Benchmark des 386. Prozessors und der schneidigen neunziger Jahre</a></li>
<li><a href="../de470864/index.html">Über die Freuden des Wechsels zum Panel und nicht nur</a></li>
<li><a href="../de470870/index.html">Schriftarten vorladen</a></li>
<li><a href="../de470872/index.html">Leistungsmetriken für die Suche nach unglaublich schnellen Webanwendungen</a></li>
<li><a href="../de470874/index.html">Optimierung des Ladens von JavaScript auf Wikipedia</a></li>
<li><a href="../de470876/index.html">Erstellen Sie mit Babel benutzerdefinierte JavaScript-Syntaxkonstrukte. Teil 1</a></li>
<li><a href="../de470878/index.html">Erstellen Sie mit Babel benutzerdefinierte JavaScript-Syntaxkonstrukte. Teil 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>