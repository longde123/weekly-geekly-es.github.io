<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßùüèæ üöÅ üëº Entwicklung von IoT-Ger√§ten mit Bluetooth LE ‚ò†Ô∏è üìµ üí®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Bluetooth- Technologie bricht energisch ihren Platz im Internet der Dinge. Ein Teil dieser Technologie, Bluetooth LE  ( Bluetooth Low Energy , auc...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entwicklung von IoT-Ger√§ten mit Bluetooth LE</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/394757/"><a href=""><div style="text-align:center;"><img width="1010" src="https://habrastorage.org/getpro/geektimes/post_images/054/28f/426/05428f4260bd302f20e5a277359c591e.png"></div></a> <br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Bluetooth-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Technologie </font><font style="vertical-align: inherit;">bricht energisch ihren Platz im Internet der Dinge. Ein Teil dieser Technologie, </font></font><font color="#C00000"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth </font></font></b><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LE</font></font></font> </font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth Low Energy</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , auch bekannt als </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth Smart</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , auch bekannt als </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), positioniert sich direkt als ideale Wahl f√ºr </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IoT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Internet der Dinge</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Schwer zu widersprechen. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wei√ü bereits, wie man den Internetverkehr </font><font style="vertical-align: inherit;">weiterleitet, </font><font style="vertical-align: inherit;">Koordinaten in R√§umen ermittelt, industrielle speicherprogrammierbare Steuerungen anschlie√üt, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WEB-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Server unterst√ºtzt, Waagen, Thermometer, Herzfrequenzmesser, Oximeter, Blutdruckmessger√§te und viele andere Dinge anschlie√üt. C </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ble</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Viele Probleme, die mit </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wi-Fi-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L√∂sungen verbunden sind, werden automatisch behoben </font><font style="vertical-align: inherit;">. Nicht lange vor dem Moment, in dem Ger√§te mit </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mithilfe einer </font><b><font style="vertical-align: inherit;">ZigBee-</font></b><font style="vertical-align: inherit;"> √§hnlichen Technologie </font><font style="vertical-align: inherit;">im </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MESH-Netzwerk</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> organisiert werden k√∂nnen </font><font style="vertical-align: inherit;">. Dies spiegelt sich bereits in der </font><b><font style="vertical-align: inherit;">Bluetooth-</font></b><font style="vertical-align: inherit;"> Spezifikation </font><b><font style="vertical-align: inherit;">5.0</font></b><font style="vertical-align: inherit;"> wider </font><b><font style="vertical-align: inherit;">.</font></b></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher habe </font><font style="vertical-align: inherit;">ich </font><font style="vertical-align: inherit;">bei der Entwicklung meines </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IoT-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Moduls </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bedingungslos </font><font style="vertical-align: inherit;">der Verwendung von </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wi-Fi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vorgezogen </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ich werde den </font><font style="vertical-align: inherit;">peripheren Teil des </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Netzwerks </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">am Beispiel des K66BLEZ-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Debugging-Moduls betrachten </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier m√∂chte ich meinen Entwicklungsweg von der fast vollst√§ndigen Unkenntnis von </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bis zur Serienproduktion beschreiben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Vertrautheit mit dem </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K66BLEZ1-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Modul </font><font style="vertical-align: inherit;">wurde in folgenden Artikeln begonnen:</font></font><br>
<blockquote><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">     .  </a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">     .  FatFs</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">     .  </a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K66BLEZ-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Modul </font><font style="vertical-align: inherit;">verwendet den </font><font style="vertical-align: inherit;">von </font><b><font style="vertical-align: inherit;">NXP</font></b><font style="vertical-align: inherit;"> hergestellten </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">MKW40Z160-</font></a><font style="vertical-align: inherit;"> Chip </font><font style="vertical-align: inherit;">( </font><b><i><font style="vertical-align: inherit;">48 MHz Cortex-M0 +, 160 KB Flash, 20 KB RAM</font></i></b><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">als </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Transceiver </font><font style="vertical-align: inherit;">. Der Chip ist insofern interessant, als er zusammen mit BLE auch als Transceiver von Signalen des Standards </font><b><font style="vertical-align: inherit;">802.15.4 fungieren kann</font></b><font style="vertical-align: inherit;"> . Und der Standard </font><b><font style="vertical-align: inherit;">802.15.4 ist</font></b><font style="vertical-align: inherit;"> , wie Sie wissen, der Tr√§ger der </font><b><font style="vertical-align: inherit;">ZigBee-</font></b><font style="vertical-align: inherit;"> Technologie </font><font style="vertical-align: inherit;">. Der </font><b><font style="vertical-align: inherit;">ZigBee-</font></b><font style="vertical-align: inherit;"> Stack selbst </font><font style="vertical-align: inherit;">f√ºr den </font><b><font style="vertical-align: inherit;">MKW40Z wurde</font></b><font style="vertical-align: inherit;"> noch nicht ver√∂ffentlicht, es wird jedoch bereits eine Firmware angeboten, bei der </font><b><font style="vertical-align: inherit;">802.15.4</font></b><font style="vertical-align: inherit;"> gleichzeitig mit </font><b><font style="vertical-align: inherit;">BLE</font></b><font style="vertical-align: inherit;"> funktioniert </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">
Ein Diagramm eines Teils eines Moduls mit einem BLE-Chip ist unten gezeigt.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<a href=""><img align="left" width="1010" src="https://habrastorage.org/getpro/geektimes/post_images/b5d/0c0/158/b5d0c01586e8bc42182a764c0b7e8716.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Klicken zum Vergr√∂√üern)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Anstelle des Chips</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MKW40</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bereits Chip</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MKW41</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit einem Volumen von 128 KB RAM, 512 KB Flash</font><font style="vertical-align: inherit;">Kapazit√§t und Unterst√ºtzung f√ºr alle g√§ngigen Protokolle:</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> BLE 4.2, BLE die Mesh, die ZigBee, Thread A, die IPv6 - </font><font style="vertical-align: inherit;">6LoBLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Es gibt noch keine offene Dokumentation zum neuen Chip, aber er verspricht, mit MKW40 pin-kompatibel zu sein.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der MKW40 BLE-Chip auf dem Modul wird √ºber SPI- und I2C-Schnittstellen mit dem Hauptmikrocontroller MK66 verbunden. Die I2C-Schnittstelle verbindet den Chip auch mit dem Ladechip. Der Hauptkommunikationskanal ist auf der SPI-Schnittstelle mit einer Bitrate von 6 Mbit / s implementiert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Debuggen des Programms im MKW40-Chip kann √ºber die SWD-Schnittstelle mit dem JTAG-Adapter und √ºber die Debugging-Schnittstelle UART0 erfolgen, die ebenfalls an den Debugger-Anschluss X4 ausgegeben wird.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NXP bietet mehr als zwei Dutzend Beispiele f√ºr die Implementierung verschiedener Anwendungen auf dem MKW40-Chip, darunter: Druck, Glukose, Temperatur, N√§herungssensoren, Herzfrequenzmesser usw. </font><font style="vertical-align: inherit;">Es gibt Anwendungen f√ºr drahtlosen UART und drahtlosen Bootloader. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe das NXP-Framework f√ºr diese Chips gr√ºndlich √ºberarbeitet und neue Profile mit Demoprogrammen auf Windows-PCs erstellt, f√ºr die auf der PC-Seite kein separater Adapter erforderlich ist. </font><font style="vertical-align: inherit;">Aber dazu sp√§ter mehr. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bluetooth LE ist schwer zu lernen. </font><font style="vertical-align: inherit;">Der Grund ist die umfangreiche Spezifikation und eine gro√üe Anzahl ihrer kurzen Paraphrasen in der Dokumentation der Hersteller, die sofort mit einer ungew√∂hnlichen Terminologie beginnen. </font><font style="vertical-align: inherit;">Fangen wir also damit an.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dekodierung und √úbersetzung von Begriffen und Abk√ºrzungen, Slang.</font></font></h1><br>
<ul>
<li><b><font color="#C00000">Pairing</font> </b> ‚Äî  ().    BLE           .      ,     PIN .</li>
<li><b><font color="#C00000">Bonding</font> </b> ‚Äî ().             BLE .</li>
<li><b><font color="#C00000">Device </font><font color="#C00000">authentication</font> </b> ‚Äî ()   ,       .</li>
<li><b><font color="#C00000">Advertising</font> </b> ‚Äî    BLE   ().         ,   ,  ,    .</li>
<li><b><font color="#C00000">Scanning</font> </b> ‚Äî       BLE    .           ,    .</li>
<li><b><font color="#C00000">Profile</font> </b> ‚Äî .   , ,         .</li>
<li><b><font color="#C00000">UUID</font> </b> ‚Äî universally unique identifier. 128-    .</li>
<li><b><font color="#C00000">BLE </font><font color="#C00000">Host</font> </b> ‚Äî .     BLE    ,             .   GAP, GATT,   GATT, L2CA.</li>
<li><b><font color="#C00000">BLE </font><font color="#C00000">Controller</font> </b> ‚Äî .     BLE   - Bluetooth.</li>
<li><b><font color="#C00000">HCI</font> </b> ‚Äî Host Controller Interface.   API        BLE   BLE .</li>
<li><b><font color="#C00000">GAP</font> </b> ‚Äî Generic Access Profile,   .      layer ().       .       ,          BLE .</li>
<li><b><font color="#C00000">GATT</font> </b> ‚Äî Generic Attribute Profile,   .          .  ‚Äî      (, , ...)         , ,   ..   ,     UUID.</li>
<li><b><font color="#C00000">L2CA</font> </b> ‚Äî Logical Link Control and Adaptation Layer.             .   ,  ,  ,  ,      .   BLE .</li>
<li><b><font color="#C00000">SMP</font> </b> ‚Äî Security Manager Protocol.    .      L2CA.</li>
<li><b><font color="#C00000">LTK</font> </b> ‚Äî Long-Term Key.      BLE .</li>
<li><b><font color="#C00000">IRK</font> </b> ‚Äî Identity Resolving Key.         .</li>
<li><b><font color="#C00000">CSRK</font> </b> ‚Äî Connection Signature Resolving Key.    .</li>
<li><b><font color="#C00000">RAND</font> </b> ‚Äî 64-   ,    LTK</li>
<li><b><font color="#C00000">EDIV</font> </b> ‚Äî 16-   ,    LTK</li>
<li><b><font color="#C00000">MITM</font> </b> ‚Äî man-in-the-middle.                  .</li>
<li><b><font color="#C00000">Message </font><font color="#C00000">integrity </font></b> ‚Äî    .</li>
<li><b><font color="#C00000"></font> </b> ‚Äî         ,              .     BSP (board support package), HAL (hardware abstraction layer), OSA (OS abstraction layer),    (middleware)  :  ,  ,     .</li>
</ul><br>
<h1>  </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Auswahl eines Chips f√ºr BLE habe ich eine kleine Analyse der Angebote der bekanntesten Hersteller durchgef√ºhrt. </font><font style="vertical-align: inherit;">Am meisten interessierte mich die Komposition der vorgeschlagenen Software, Frameworks und Tools zum Debuggen von Zusammenstellungen, Zusammenstellungen und Assemblierungen f√ºr Projekte unter dem ARM-Kern. </font><font style="vertical-align: inherit;">Ein wichtiger Faktor war die Kontinuit√§t mit der IAR-Umgebung und dem </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RTOS MQX-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Framework, </font><font style="vertical-align: inherit;">die bei der Entwicklung der Anwendung auf dem Hauptprozessor des Moduls verwendet werden.</font></font><br>
<br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NORDIC SEMICONDUCTOR</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es stellt ein SDK f√ºr den Chip </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nRF51822</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit dem </font><font style="vertical-align: inherit;">Kern </font></font><font color="#C00000"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der Cortex</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M0</font></font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Zusammengestellt in IAR, KEIL, GCC. Der BLE-Stapel wird durch eine monolithische Bibliothek ohne Quellcode namens </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SoftDevice dargestellt,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in der alle APIs implementiert sind: GAP, GATT, L2CA, HCI. Um diese Bibliothek herum ist ein Framework mit Treibern aufgebaut. Das Framework enth√§lt zwei RTOS: </font><font style="vertical-align: inherit;">Keils </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RL-ARM RTX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FreeRTOS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Das Framework verwendet die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protobuf-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Serialisierungstechnologie </font><font style="vertical-align: inherit;">und das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Segger RTT-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Debugging </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zus√§tzlich wird das </font><b><font style="vertical-align: inherit;">nrf5 IoT SDK</font></b><font style="vertical-align: inherit;"> angeboten.</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Es enth√§lt die Quellcodes der Protokolle MQTT, COAP, TLS (aus dem MBED-Projekt), cJSON, lwip (kostenloser TCP / IPv4 / IPv6-Protokollstapel), Socket-Schnittstelle und IPv6-Adapter. </font><font style="vertical-align: inherit;">Es gibt auch </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6LoWPAN</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , jedoch ohne Quellcode.</font></font><br>
<br>
<h2><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Texas Instruments</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auf ARM werden nur 2-Kern-BLE-Chips </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CC2640</font></font></a> </b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cortex-M3 und Cortex-M0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) hergestellt. Die entsprechenden Spezifikationen sind jedoch </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth 4.2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Zum Herunterladen wird SDK </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SimpleLink Bluetooth Low Energy Software Stack 2.2.0 bereitgestellt.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Es wird von der eigenen Entwicklungsumgebung von Code Composer Studio kompiliert in der IAR-Umgebung. Es wird mit einem eigenen RTOS </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TI-RTOS 2.16</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und einem entwickelten Framework f√ºr die BLE-Stack-Bibliotheken geliefert. SDK als eines der Szenarien beinhaltet die Verwendung eines externen Anwendungsprozessors - Simple Application Processor (SAP). Der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CC2640-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chip </font><b><font style="vertical-align: inherit;">selbst wird</font></b><font style="vertical-align: inherit;"> als Simple Network Processor (SNP) bezeichnet. Zwischen ihnen wird die Kommunikation unter einem Protokoll hergestellt, das als </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unified Network Processor Interface bezeichnet wird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(NPI). </font><font style="vertical-align: inherit;">Auf der CC2640-Seite wird unbedingt TI-RTOS verwendet, auf der SAP-Prozessorseite k√∂nnen Sie RTOS nach eigenem Ermessen verwenden. </font><font style="vertical-align: inherit;">Der Quellcode f√ºr das NPI-Protokoll wird mit dem SDK sowohl f√ºr die SAP-Seite als auch f√ºr die SNP-Seite geliefert. </font><font style="vertical-align: inherit;">Dies ist die </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SimpleLink-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Technologie </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der BLE-Stack selbst ist in 3 vorkompilierte Bibliotheken ohne Quellen unterteilt: Host, Controller, HCI. </font><font style="vertical-align: inherit;">Alle drei Bibliotheken arbeiten nur mit dem Cortex-M3-Prozessor, der Teil des CC2640-Chips ist. </font><font style="vertical-align: inherit;">Zus√§tzlich zum Studium von TI-RTOS muss der Benutzer einen speziellen Softwaremechanismus oder ein spezielles Protokoll f√ºr die Interaktion mit dem BLE-Stack namens iCall studieren.</font></font><br>
<br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mikrochip-Atmel</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stellt </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATBTLC1000</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bluetooth LE-Chips </font><font style="vertical-align: inherit;">auf dem </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cortex-M0-Kern her</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Der gesamte Chipstapel wird in den ROM geschrieben. </font><font style="vertical-align: inherit;">Auf der Atmel-Website wurden keine offenen Tools zum Programmieren dieser Chips gefunden. </font><font style="vertical-align: inherit;">Stattdessen schl√§gt Atmel vor, einen externen Mikrocontroller f√ºr die Interaktion mit dem ATBTLC1000 zu verwenden. </font><font style="vertical-align: inherit;">Software f√ºr einen externen Mikrocontroller und Beispiele finden Sie im Atmel Software Framework. </font><font style="vertical-align: inherit;">Kompiliert in </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atmel Studio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Shell f√ºr GCC) oder in IAR.</font></font><br>
<br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cypress Semiconductor Corp.</font></font></a> </h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">produziert eine Familie programmierbarer BLE-Chips basierend auf dem </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cortex-M0-Kern</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSoC 4: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSoC 4XX8</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRoC CYBL1XX7X,</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> die die </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth 4.2-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Spezifikation unterst√ºtzen </font><font style="vertical-align: inherit;">. Projekte f√ºr Chips werden in einem speziellen IDE </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PSoC Creator erstellt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Die Chips von Cypress unterscheiden sich darin, dass es keine vorgefertigte Peripheriekonfiguration (UART, SPI, I2S, PWM usw.) gibt. Sie muss aus Bibliothekselementen in einem Schaltungseditor mit zus√§tzlichen Softwarebibliotheken erstellt werden. </font><font style="vertical-align: inherit;">Dies soll eine gewisse Flexibilit√§t bieten. </font><font style="vertical-align: inherit;">Obwohl es dem Entwickler viel Arbeit hinzuf√ºgt. </font><font style="vertical-align: inherit;">Ein konfiguriertes Projekt kann mit einer der folgenden Toolchains kompiliert werden: GCC, IAR, Keil. </font><font style="vertical-align: inherit;">BLE gibt es eine der Bibliotheken. </font><font style="vertical-align: inherit;">Der BLE-Stapel wird als vorkompilierte monolithische Bibliothek ohne Quellcodes geliefert, die den BLE-Host, den BLE-Controller und die HCI kombinieren. </font><font style="vertical-align: inherit;">Das Unternehmen ver√∂ffentlichte jedoch den Quellcode f√ºr Android- und iOS-Anwendungen, die mit BLE arbeiten.</font></font><br>
<br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Siliziumlabore</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stellt </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EFR32 Blue Gecko Bluetooth Smart SoCs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> auf der Basis des ARM </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cortex-M4-Kerns her</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , der die </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth 4.2-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Spezifikation unterst√ºtzt </font><font style="vertical-align: inherit;">. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EFR32BG1P332F256GMxx-Chips</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> k√∂nnen </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">eine</font></a><font style="vertical-align: inherit;"> Leistung von bis zu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19,5 dBm </font></font></b><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">liefern</font></a><font style="vertical-align: inherit;"> und einen separaten 868-MHz-Funkkanal mit einer Leistung von bis zu 20 dBm und einer Empfindlichkeit von 121,4 dBm kombinieren. Der Silicon Labs-Chip ist eine riesige Auswahl alternativer Pin-Funktionen und ein System namens </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peripheral Reflex System</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(PRS). Obwohl die Peripherie nicht wie Cypress-Chips erstellt werden kann, ihre Verbindung zu den Pins jedoch nahezu willk√ºrlich ist, erm√∂glicht das Vorhandensein von PRS die Interaktion miteinander, ohne dass ein Prozessor beteiligt ist. Der BLE-Stapel von Silicon Labs kann Ergebnisse der Profilerstellung von </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Bluetooth Developer Studio</font></a><font style="vertical-align: inherit;"> akzeptieren</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">was unten diskutiert wird. </font><font style="vertical-align: inherit;">Silicon Labs bietet zwei Bluetooth-Stacks an. </font><font style="vertical-align: inherit;">Eines davon ist f√ºr Bluegiga-Module konzipiert und unterst√ºtzt neben BLE auch regul√§res Bluetooth. </font><font style="vertical-align: inherit;">Der zweite Stapel entspricht der Spezifikation 4.2 und nur LE. </font><font style="vertical-align: inherit;">Der BLE-Stapel wird als monolithische vorkompilierte Bibliothek ohne Quellen geliefert. </font><font style="vertical-align: inherit;">F√ºr die Option mit einem externen Mikrocontroller werden ein serielles Protokoll und eine API in den Quellen angeboten. </font><font style="vertical-align: inherit;">Sowohl GCC, IAR als auch Keil k√∂nnen kompilieren. </font><font style="vertical-align: inherit;">Alles wird in einer einzigen Entwicklungsumgebung erledigt. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simplicity Studio V4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Das zugeh√∂rige Stack-Framework wird von RTOS nicht unterst√ºtzt. </font><font style="vertical-align: inherit;">Im Quellcode von Simplicity Studio finden Sie jedoch Perlen wie Speex mit 8 kbit / s, die f√ºr die √úbertragung von Sprache √ºber BLE geeignet sind, sowie eine leistungsstarke Fenster-GUI von Segger.</font></font><br>
 <br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STMicroelectronics</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stellt </font><b><font style="vertical-align: inherit;">Cortex-M0-</font></b><font style="vertical-align: inherit;"> basierte </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BlueNRG-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Netzwerkcontroller-Chips her, </font><font style="vertical-align: inherit;">die einen BLE-Stapel gem√§√ü der </font><b><font style="vertical-align: inherit;">Bluetooth 4.1-</font></b><font style="vertical-align: inherit;"> Spezifikation enthalten </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">
Die Chips selbst sind nicht programmierbar, verf√ºgen jedoch √ºber eine serielle Anwendungsbefehlsschnittstelle (ACI), √ºber die ein externer Mikrocontroller mit ihnen kommunizieren muss. </font><font style="vertical-align: inherit;">F√ºr ACI wurde ein Framework entwickelt, das als Teil der propriet√§ren Entwicklungsumgebung STM32Cube von ST integriert werden kann.</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSR PLC</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stellt keine BLE-Chips auf ARM Cortex her, ist aber an der Implementierung des </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MESH-Netzwerks auf Bluetooth-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Modulen </font><font style="vertical-align: inherit;">interessiert </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Das Video ist </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Die Quellcodes verschiedener BLE-Anwendungen f√ºr Android und iOS sind angelegt. </font><font style="vertical-align: inherit;">Es gibt ein SDK.</font></font><br>
 <br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renesas</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">macht BLE-Chips auf seinem 16-Bit- </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RL78-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kern </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Der BLE-Stack wird nur an Premium-Benutzer ausgegeben. </font><font style="vertical-align: inherit;">Alle ihre eigenen - Compiler, RTOS, Host-Mikrocontroller. </font><font style="vertical-align: inherit;">Es gibt jedoch ein Plug-In f√ºr </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth Developer Studio</font></font></a><br>
<br>
<h2><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dialog Halbleiter</font></font></a></h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bieten, wie sie behaupten, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die kleinsten BLE-Chips an</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Die Chips mit Flash-Speicher </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DA14583</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (der Rest ist nur mit ROM) k√∂nnen jedoch nicht als die kleinsten bezeichnet werden - </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b><font style="vertical-align: inherit;">5 x 5</font></b></a><font style="vertical-align: inherit;"> mm. Der Kern </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des Cortex-M0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Maximale Leistung </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 dBm</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Unterst√ºtzung f√ºr </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth 4.1-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Spezifikation </font><b><font style="vertical-align: inherit;">.</font></b><font style="vertical-align: inherit;"> Um das SDK von der Firma zu erhalten, m√ºssen Sie sich registrieren und den Test bestehen. Aber mit solchen Chipparametern habe ich nicht einmal versucht, ein SDK zu bekommen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also die Quellen von MQTT, COAP, TLS, SPEEX, LwIP und so weiter. Diejenigen in verschiedenen SDKs sind f√ºr uns von geringem Interesse. Sie k√∂nnen frei auf Github gefunden werden, ohne an bestimmte Frameworks gebunden zu sein. Die Unterst√ºtzung f√ºr die Bluetooth 4.2-Spezifikation macht wenig, da es noch nicht m√∂glich ist, sie auf einem PC zu verwenden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nischen-RTOS wie TI-RTOS oder spezielle Scheduler machen es uns schwer, sie zu meistern. Wir versuchen, solche Entscheidungen zu vermeiden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich war erfreut, dass ich mich f√ºr die L√∂sung von Kinetis entschieden habe.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist interessant am NXP Bluetooth LE-Stack f√ºr die Kinetis-Familie?</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der BLE-Stack f√ºr Kinetis wird wie andere in Form von vorkompilierten Bibliotheken geliefert. Um diese Bibliotheken herum wird ein Multitasking-Framework aufgebaut, das unabh√§ngig vom Betriebssystem Treiber und eine Ebene der Hardwareabstraktion im Quellcode enth√§lt. Das Framework kann so konfiguriert werden, dass es ohne Betriebssystem funktioniert, oder es kann verwendet werden. Ab sofort wird das Framework f√ºr FreeRTOS angepasst. Es interagiert jedoch mit FreeRTOS √ºber einen zus√§tzlichen Satz von Funktionen, die als Abstraktionsschicht des Betriebssystems bezeichnet werden (OS-Abstraktion, OSA). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dank OSA k√∂nnen Sie anstelle von FreeRTOS jedes andere Betriebssystem ersetzen, das Nachrichtenwarteschlangen, Pr√§emptionen, Flags und Timer unterst√ºtzt. Zum Beispiel RTOS MQX. Stack wird seltsamerweise nur in der IAR-Umgebung kompiliert. Zum Gl√ºck ist dies in meinem Fall kein Problem.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interessanter ist, dass der Stack in zwei Bibliotheken unterteilt ist - BLE-Host und BLE-Controller. </font><font style="vertical-align: inherit;">Und die BLE-Hostbibliothek kann auf einem anderen Chip arbeiten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Bibliotheken interagieren in diesem Fall √ºber das HCI-Protokoll miteinander. </font><font style="vertical-align: inherit;">Das hei√üt, </font><font style="vertical-align: inherit;">Wo andere Hersteller ein anderes Kommunikationsprotokoll f√ºr die Interaktion der Anwendung auf dem externen Mikrocontroller mit dem BLE-Stack entwickeln (denken Sie an SimpleLink), bietet NXP eine Standardl√∂sung an. </font><font style="vertical-align: inherit;">Und vor allem k√∂nnen wir mit diesem Ansatz, bei dem der BLE-Host auf einen leistungsst√§rkeren externen Mikrocontroller umgestellt wird, die Funktionen unserer GATT-Datenbank und -Dienste erheblich verbessern.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kurz √ºber BLE</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine offene Bluetooth-Spezifikation Version 4.2 finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Die Beschreibung der unteren BLE-Ebene ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controller-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ebene </font><font style="vertical-align: inherit;">) ist darin als </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄûVol.6 Core System Package [Low Energy Controller-Volume]‚Äú</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ab Seite 2544 enthalten. Die obere Ebene ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Host-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ebene </font><font style="vertical-align: inherit;">) mit einer Beschreibung des ATT-Protokolls und des GATT-Profils befindet sich in </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄûVol.3 Core System Package [Host Volume] ‚Äùdes</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dokuments ab Seite 1693. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verwendeter Frequenzbereich </font></font><br>
<a href=""><img align="left" width="1010" src="https://habrastorage.org/getpro/geektimes/post_images/3fb/e8a/e0e/3fbe8ae0e3e35ab16e27593cef024fff.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Zum Vergr√∂√üern anklicken)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Drei Frequenzen (in der obigen Abbildung sind die Kanalnummern 37.38.39 angegeben) sind f√ºr adresslose Rundfunkpakete und der Rest f√ºr die √úbertragung von Paketen beim Einrichten logischer Kommunikationskan√§le zwischen Ger√§ten vorgesehen. Ein bekanntes Merkmal von Bluetooth ist, dass bei der √úbertragung von Paketen jedes nachfolgende Paket mit einer anderen Frequenz √ºbertragen wird, die pseudozuf√§llig aus der Liste der zul√§ssigen ausgew√§hlt wird. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle Daten in BLE-Paketen k√∂nnen verschl√ºsselt und authentifiziert werden. Eine dynamische zuf√§llige Erzeugung von Ger√§teadressen und deren Identifizierung unter Verwendung von Hashing wird ebenfalls verwendet, d.h. Nachdem wir die Adresse des Ger√§ts auf Sendung abgefangen haben, k√∂nnen wir sie nicht l√§nger als 15 Minuten verwenden, da sich die Adresse gem√§√ü einem uns in dieser Zeit unbekannten Algorithmus √§ndert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BLE-Module k√∂nnen als unidirektionale Sender arbeiten, d.h. Senden Sie einfach einige Daten in Form von Werbepaketen, z. B. Temperatur, ohne eine bidirektionale Verbindung herzustellen. </font><b><font style="vertical-align: inherit;">Hierzu</font></b><font style="vertical-align: inherit;"> kann der Datentyp in </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Werbepaketen verwendet</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> werden, die als herstellerspezifische </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daten gekennzeichnet</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sind </font><font style="vertical-align: inherit;">. Ein Computer oder Tablet kann Daten von Hunderten solcher Sender ohne unn√∂tige vorbereitende Schritte zum Suchen, Herstellen einer Verbindung, Eingeben eines PIN-Codes usw. empfangen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine andere M√∂glichkeit, Daten ohne Installation eines Kommunikationskanals zu √ºbertragen, ist die √úbertragung im Anforderungs-Antwort-Modus (die Anforderung ist das </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ScanRequest-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Paket </font><font style="vertical-align: inherit;">, die Antwort des Moduls ist das </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ScanResponce-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Paket </font><font style="vertical-align: inherit;">). Diese </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE unterscheidet sich</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erheblich von </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wi-Fi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, wo selbst f√ºr das einfachste Thermometer eine Verbindung hergestellt werden muss, die die Ressourcen des Routers beansprucht. </font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE-Protokollstapel</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die folgende Abbildung zeigt </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wie es ein Mikrocontroller-Programmierer sieht. Der BLE-Stack besteht aus zwei Softwareteilen: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Host</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Host-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Software </font><font style="vertical-align: inherit;">befasst sich mit Funktionen auf hoher Ebene zum Organisieren und Verwalten von Daten, Verbindungen, und der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controller</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verwaltet die physische Peripherie des Transceivers, arbeitet mit geheimen Schl√ºsseln und befasst sich mit anderen Funktionen auf niedriger Ebene. Die genannten Teile werden √ºber die </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HCI-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Softwareschnittstelle </font><font style="vertical-align: inherit;">( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Host Controller Interface</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) verbunden. In einer PC-Implementierung wird der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Host-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Teil </font><font style="vertical-align: inherit;">auf einem Computer und der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controller-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Teil </font><font style="vertical-align: inherit;">auf einem Hardware-Transceiver ausgef√ºhrt</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und das </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HCI-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Protokoll werden </font><font style="vertical-align: inherit;">meistens √ºber </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USB √ºbertragen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Bei der Implementierung auf dem Mikrocontroller arbeiten beide Teile auf demselben Chip, und die </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HCI-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Schnittstelle </font><font style="vertical-align: inherit;">wird einfach in eine direkte Daten√ºbertragung von der Host-Task (Softwaremodul) zur Controller-Task (Softwaremodul) und umgekehrt umgewandelt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der </font><font style="vertical-align: inherit;">Tat sieht der Programmierer mehrere S√§tze von API auf Arbeits </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Host</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : bekannt als </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">das GATT</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die GAP, L2CA, einem SMP, der HCI</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Mit der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GAP-API</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wird der Betriebsmodus des Ger√§ts eingestellt - </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zentral, Peripherie, Beobachter, Sender</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und die Verbindung wird bei Bedarf hergestellt. Und mit der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GATT-API</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das direkte Senden und Empfangen n√ºtzlicher Daten und deren Analyse werden durchgef√ºhrt. </font></font><br>
<a href=""><img align="left" width="691" src="https://habrastorage.org/getpro/geektimes/post_images/4df/ce8/06a/4dfce806ac92c29f99024ede56bba3d6.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Zum Vergr√∂√üern anklicken)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Die meisten vorhandenen Ger√§te unterst√ºtzen derzeit BLE 4.1, obwohl Version 4.2 vorhanden ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle Unterschiede von Version 4.2 gegen√ºber der vorherigen beziehen sich speziell auf Verbesserungen im BLE-Teil: erh√∂hte Geschwindigkeit, die F√§higkeit zur √úbertragung von IP-Protokoll- und HTTP-Verkehr, erh√∂hter kryptografischer Schutz und Unkenntlichkeit f√ºr externe Beobachter.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein wichtiges Merkmal von BLE im Vergleich zu Wi-Fi ist die Angabe nicht nur des Kommunikationskanals, sondern auch der Anwendungen, die ihn selbst verwenden. Dies wird als Profile und Dienste bezeichnet. Profile mit Diensten beschreiben die Rollen von Ger√§ten, den Zweck der Daten, die Zusammensetzung und das Format der Daten, den Datenschutz, die Reihenfolge, Arten und Ereignisse des Austauschs und nicht nur die Art und Weise, wie die Daten √ºbertragen werden. Auf diese Weise k√∂nnen Sie das Rad nicht neu aus den Protokollen erfinden, wenn Sie beispielsweise einen K√∂rpertemperatursensor oder einen Pulsmesser entwickeln. Spezifikationen wurden bereits angegeben, es bleibt nur auf der Ger√§teseite, um die notwendigen Felder zum Senden der Messergebnisse auszuf√ºllen. Kunden solcher Ger√§te in Form von Smartphones, Tablets, PCs oder K√ºchenger√§ten erkennen diese Daten automatisch und zeigen sie an oder verwenden sie entsprechend. Alles dankdass alle Hersteller die gleichen BLE-Spezifikationen bez√ºglich der Darstellung von Temperatur- oder Herzfrequenzdaten und der Arbeit mit ihnen befolgen. Es gibt jedoch noch Raum f√ºr die Vorstellungskraft des Entwicklers, da Profile Mechanismen zur Erweiterung der Funktionalit√§t aufweisen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Folgende ist eine grobe Hierarchie von Attributen in einem BLE-Ger√§t. </font></font><br>
<a href=""><img align="left" width="609" src="https://habrastorage.org/getpro/geektimes/post_images/7df/ca0/0fe/7dfca00fe6427b57e47b1ba1e10c4767.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Zum Vergr√∂√üern anklicken)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Unten finden Sie einen etwas detaillierteren typischen Attributbaum. Dies ist kein vollst√§ndiger Baum, die meisten werden weggelassen, da er zu viel Platz beanspruchen w√ºrde. Farben markieren Baumebenen, jedes Attribut hat eine eindeutige Nummer - UUID. Das Aufzeichnen von Standardnummern wird auf 16 Bit reduziert. In dieser Abbildung sind alle Zahlen Standard. GAP- und GATT-Profile werden ebenfalls als Services mit ihren Standardfunktionen dargestellt. Jeder Dienst kann √ºber ein eigenes Sicherheitsmodell und eine eigene Berechtigung verf√ºgen. Der gesamte Baum im Ger√§t wird als Datenbank namens GATT-Datenbank gespeichert, normalerweise in Form einer einfachen Tabelle mit Querverweisen. </font></font><br>
<br>
<a href=""><img align="left" width="1010" src="https://habrastorage.org/getpro/geektimes/post_images/3b1/d8c/5e7/3b1d8c5e7718f9e8e334af7de0a694b7.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Zum Vergr√∂√üern anklicken)</font></font></em></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Serviceeigenschaften haben viele Eigenschaften, wie unten gezeigt. </font><font style="vertical-align: inherit;">Hier muss man sich f√ºr die Tautologie entschuldigen, aber in BLE gibt es wirklich eine Art Terminologiekrise. </font><font style="vertical-align: inherit;">Mit einem Wort, die Merkmale des dazugeh√∂rigen Dienstes k√∂nnen das Lesen, Schreiben, die Notwendigkeit von Benachrichtigungen, Best√§tigungen, Signaturen usw. spezifizieren. </font></font><br>
<br>
<a href=""><img align="left" width="752" src="https://habrastorage.org/getpro/geektimes/post_images/c7b/dd6/c8c/c7bdd6c8cc8b066c8390a00634a7927f.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Zum Vergr√∂√üern anklicken)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
BLE ist eine seri√∂se Technologie. Es wurde so viel getan, um Sicherheit und maximale Formalisierung zu gew√§hrleisten, was wiederum das Erreichen der Kompatibilit√§t erleichtern sollte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Datenaustausch zwischen BLE-Ger√§ten erfolgt durch Schreiben und Lesen der Werte der Merkmale. </font><font style="vertical-align: inherit;">Streaming-Kan√§le wie TCP oder UART sind nicht hier. </font><font style="vertical-align: inherit;">Und wenn die Ger√§te √ºber sie verf√ºgen, werden sie von Software-Add-Ons einer h√∂heren Ebene organisiert.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entwicklungswerkzeuge</font></font></h1><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entwicklungstools mit der vorgeschlagenen Bluetooth Special Interest Group (Bluetooth SIG)</font></font></b> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
-Site </font></font><font color="#BA5555"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.bluetooth.com/develop-with-bluetooth/developer-resources-tools</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Die </font><font style="vertical-align: inherit;">folgenden n√ºtzlichen Tools werden </font><font style="vertical-align: inherit;">auf der Site der Hauptstandardisierungsorganisation - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth SIG - angeboten</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth Developer Studio</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth Developer Studio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist ein Tool, mit dem Sie Profile, Dienste, Merkmale und Deskriptoren korrekt erstellen und in die Implementierung eines </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ger√§ts </font><font style="vertical-align: inherit;">einf√ºgen k√∂nnen </font><font style="vertical-align: inherit;">, d. H. Erstellen Sie eine Datenbank. Wenn Sie einen zus√§tzlichen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hardware-Bluetooth-Adapter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> f√ºr 99 US-Dollar </font><font style="vertical-align: inherit;">kaufen </font><font style="vertical-align: inherit;">, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k√∂nnen Sie mit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dem </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Programm</font></a><font style="vertical-align: inherit;"> Bluetooth-Protokollpakete </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">abfangen</font></a><font style="vertical-align: inherit;"> , entschl√ºsseln und anzeigen. Das Programm kann auch die erstellten Dienste debuggen und testen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Weil in </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Genehmigte Profile werden ausf√ºhrlich beschrieben, auch kleinere Fehler in Bezug auf Format, Nummerierung, Zug√§nglichkeit usw. In diesen Profilen treten Kompatibilit√§tsprobleme auf. Bei nicht standardm√§√üigen Profilen ist es jedoch sehr schwierig, auf ein Tool zu verzichten, das einen Baum von Diensten, Merkmalen und Deskriptoren in √úbereinstimmung mit allen Spezifikationen genau erstellt. Es ist leicht, die Namen von Diensten, Merkmalen, Deskriptoren und deren eindeutigen Multi-Byte-Nummern ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UUID)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu verwechseln </font><font style="vertical-align: inherit;">. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Ergebnis des Tools sind insbesondere die generierten </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XML-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dateien, die Profile, Dienste, Merkmale und Deskriptoren im Projekt des Benutzers beschreiben. Diese XML-Dateien werden direkt von Silicon Labs Simplicity IDE verwendet, um sie f√ºr ihre Chips in eingebettete Projekte zu integrieren. </font></font><br>
<br>
<a href=""><img align="left" width="1010" src="https://habrastorage.org/getpro/geektimes/post_images/a38/1de/850/a381de850e5724e57c5e607d78568eff.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Zum Vergr√∂√üern anklicken)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein weiteres Ergebnis des Tools kann der Quellcode f√ºr das Ger√§t sein, das mit der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Datenbank arbeitet </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Daf√ºr muss der Benutzer sein Plugin in </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> schreiben </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Das Programm bietet auch Plug-in - </font><font style="vertical-align: inherit;">Benutzer Zugriff auf die Datenbank √ºber eine spezielle </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eine Reihe vorgefertigter Plug-Ins</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die verschiedene Quelltextdateien generieren, die f√ºr die Kompilierung in Umgebungen und Software-Frameworks von Drittanbietern geeignet sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es </font><font style="vertical-align: inherit;">gibt noch keine Plugins </font><font style="vertical-align: inherit;">f√ºr L√∂sungen, die auf dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NXP Kinetis KW40Z Connectivity Software</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Framework basieren </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anwendungsbeschleuniger</font></font></h2><br>
 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Application Accelerator 2.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - eine Reihe von Demo-Projekten mit Quelltexten f√ºr verschiedene </font></font><font color="#C00000"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android </font></font></b><font color="#C00000"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6-</font></font></font><font style="vertical-align: inherit;"></font><font color="#C00000"><font style="vertical-align: inherit;"></font></font><font style="vertical-align: inherit;"></font><font color="#C00000"><font style="vertical-align: inherit;"></font></font><font style="vertical-align: inherit;"></font><font color="#C00000"><font style="vertical-align: inherit;"></font></font><font color="#C00000"><font style="vertical-align: inherit;"></font></font><font style="vertical-align: inherit;"></font><font color="#C00000"><font style="vertical-align: inherit;"></font></font><font color="#C00000"><font style="vertical-align: inherit;"></font></font><font style="vertical-align: inherit;"></font><font color="#C00000"><font style="vertical-align: inherit;"></font></font><font color="#C00000"><font style="vertical-align: inherit;"></font></font><font color="#C00000"><font style="vertical-align: inherit;"></font></font><font color="#C00000"><font style="vertical-align: inherit;"></font></font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Betriebssysteme </font><font color="#C00000"><font style="vertical-align: inherit;">. </font></font><font color="#C00000"><font color="#C00000"><font style="vertical-align: inherit;">0</font></font></font><font color="#C00000"><font style="vertical-align: inherit;"> , </font></font><font color="#C00000"><font color="#C00000"><font style="vertical-align: inherit;">Blackberry</font></font></font><font color="#C00000"><font style="vertical-align: inherit;"> , </font></font><font color="#C00000"><font color="#C00000"><font style="vertical-align: inherit;">iOS </font></font></font><font color="#C00000"><font color="#C00000"><font style="vertical-align: inherit;">9</font></font></font><font color="#C00000"><font style="vertical-align: inherit;"> , </font></font><font color="#C00000"><font color="#C00000"><font style="vertical-align: inherit;">Tizen </font></font></font><font color="#C00000"><font color="#C00000"><font style="vertical-align: inherit;">2</font></font></font><font color="#C00000"><font style="vertical-align: inherit;"> . </font></font><font color="#C00000"><font color="#C00000"><font style="vertical-align: inherit;">4 </font></font></font><font color="#C00000"><font color="#C00000"><font style="vertical-align: inherit;">und </font></font></font><font color="#C00000"><font color="#C00000"><font style="vertical-align: inherit;">Windows </font></font></font><font color="#C00000"><font color="#C00000"><font style="vertical-align: inherit;">10</font></font></font><font style="vertical-align: inherit;"> . Unter </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows 10 gelten</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Projekte nur f√ºr die </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Visual Studio-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Entwicklungsumgebung f√ºr die </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UWP-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Architektur </font><b><font style="vertical-align: inherit;">(Universal Windows Platform).</font></b><font style="vertical-align: inherit;"> Das hei√üt, Diese Projekte k√∂nnen nicht unter </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Forms</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oder </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WPF</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> c </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.NET Frameworks</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kompiliert werden </font><font style="vertical-align: inherit;">. Und Br√ºcken f√ºr die √úbersetzung regul√§rer Windows-Anwendungen in </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UWP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gerade erstellt werden. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist zu beachten, dass </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UWP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> das Platzieren von Anwendungen im </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Store erm√∂glicht</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , jedoch keine einfache ausf√ºhrbare </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EXE-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Datei erstellt, die Sie einfach kopieren und ausf√ºhren k√∂nnen. </font><font style="vertical-align: inherit;">Der erste Start einer </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UWP-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anwendung wird </font><font style="vertical-align: inherit;">immer von einer Installation begleitet. </font><font style="vertical-align: inherit;">All dies schafft Schwierigkeiten f√ºr den Entwickler. </font><font style="vertical-align: inherit;">Und die Funktionalit√§t der Demonstrationsprojekte l√§sst zu w√ºnschen √ºbrig.</font></font><br>
<br>
<a href=""><div style="text-align:center;"><img width="376" src="https://habrastorage.org/getpro/geektimes/post_images/fd8/213/747/fd82137474453134c3bd6744473908a8.png"></div><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Zum Vergr√∂√üern anklicken)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Oben sehen Sie einen Screenshot der einzigen Demo-Anwendung f√ºr</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Windows - BLEServiceBrowser</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gateway Smart Satarter Kit</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Starter Kit die Smart - </font><font style="vertical-align: inherit;">Gateway </font></font></a> <font color="#BA5555"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font></font><font color="#000F00"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projekt </font></font></b><font color="#000F00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gateway - </font></font></font><font color="#000F00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE - </font></font></font><font color="#000F00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ger√§te </font></font></font><font color="#000F00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">an den </font></font></font><font color="#000F00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WEB - </font></font></font><font color="#000F00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Server </font></font></font><font color="#000F00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und </font></font></font><font color="#000F00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">selbst </font></font></font><font color="#000F00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WEB - </font></font></font><font color="#000F00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Server</font></font></font> </font><font color="#000F00"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> implementiert die </font></font></font><font style="vertical-align: inherit;"><font color="#000F00"><font style="vertical-align: inherit;">Benutzerschnittstelle</font></font><font style="vertical-align: inherit;"> f√ºr die Netzwerk - </font><b><font style="vertical-align: inherit;">BLE</font></b><font style="vertical-align: inherit;"> - Ger√§te. Alles ist in Node.js implementiert. Es wird vorgeschlagen, auf einem </font><b><font style="vertical-align: inherit;">Raspberry Pi 2 Modell B-</font></b><font style="vertical-align: inherit;"> Mikrocomputer </font><font style="vertical-align: inherit;">mit dem </font><b><font style="vertical-align: inherit;">Raspbian Jessie-</font></b><font style="vertical-align: inherit;"> Betriebssystem bereitzustellen </font><font style="vertical-align: inherit;">. Der direkte Anschluss des </font><b><font style="vertical-align: inherit;">Raspberry Pi</font></b><font style="vertical-align: inherit;"> an </font><b><font style="vertical-align: inherit;">BLE-</font></b><font style="vertical-align: inherit;"> Ger√§te erfolgt </font><font style="vertical-align: inherit;">√ºber die </font><b><font style="vertical-align: inherit;">Bluetooth-HCI-</font></b><font style="vertical-align: inherit;"> Schnittstelle von Sockets auf </font><b><font style="vertical-align: inherit;">L2CAP-</font></b><font style="vertical-align: inherit;"> Ebene </font><font style="vertical-align: inherit;">und </font><b><font style="vertical-align: inherit;">USB-HCI</font></b></font><font color="#000F00"><font style="vertical-align: inherit;"></font></font><font color="#000F00"><font style="vertical-align: inherit;"></font></font><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adapter. </font><font style="vertical-align: inherit;">Um unter </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows ausgef√ºhrt zu werden, m√ºssen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sie einen speziellen Ersatz f√ºr den Standard- </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bluetooth-HCI-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Treiber installieren </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Die L√∂sung funktioniert aufgrund des begrenzten HCI-Treibers mit einer sehr begrenzten Anzahl von Arten von Hardwareadaptern.</font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/156/371/75e/15637175e9313970bef4ee048bc18b56.png"> <br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peryton</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unter den kommerziellen Tools </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> das Analyseprogramm </font><font style="vertical-align: inherit;">ein interessanter </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">BLE-Verkehrsanalysator von Perytons</font></a><font style="vertical-align: inherit;"> . Der Analysator l√§uft auf </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows-PCs</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ab Version 7. </font><font style="vertical-align: inherit;">Dies ist ein wichtiger Punkt, da native BLE-Treiber f√ºr Windows erst ab Version 8 funktionieren. </font><font style="vertical-align: inherit;">Der Analysator arbeitet mit einer begrenzten </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Liste von Hardware-BLE-Adaptern</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Arbeit mit Adaptern gibt es auch Einschr√§nkungen bei der Analyse, die durch die Verkehrsverschl√ºsselung in BLE verursacht werden. </font></font><br>
<br>
<a href=""><img align="left" width="1010" src="https://habrastorage.org/getpro/geektimes/post_images/1e3/c09/488/1e3c094883e576474a719aff13a0b422.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Zum Vergr√∂√üern anklicken)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selbst mit der Testversion des Programms k√∂nnen Sie jedoch viele Vorteile erzielen. </font><font style="vertical-align: inherit;">Das Programm wird von Demonstrationsaufzeichnungen von Interceptions begleitet, die reale Ger√§te austauschen. </font><font style="vertical-align: inherit;">Diese Datens√§tze geben nach dem Laden in das Programm ein detailliertes Bild des Betriebs des gesamten BLE-Protokollstapels. </font><font style="vertical-align: inherit;">Das Anzeigen eines solchen Abfangens ersetzt das Erkunden der gesamten Bluetooth-Spezifikation.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bushund</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie nur irgendwie die Aktivit√§t zwischen dem Computer und dem BLE-Ger√§t √ºberwachen m√ºssen und auf eine detaillierte Analyse des Protokolls verzichten k√∂nnen, ist der bekannte Windows-Treiber-Verkehrsabfangj√§ger namens </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bus Hound ausreichend</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im folgenden Screenshot sehen Sie den Stream der empfangenen Werbepakete. </font><font style="vertical-align: inherit;">Die Ungleichm√§√üigkeit der Paketempfangszeitintervalle ist deutlich sichtbar. </font><font style="vertical-align: inherit;">Dies weist auf einen signifikanten Paketverlust hin. </font><font style="vertical-align: inherit;">Das Timeout-Intervall f√ºr das BLE-Ger√§t wurde auf 20 ms eingestellt. </font></font><br>
<br>
<a href=""><img align="left" width="784" src="https://habrastorage.org/getpro/geektimes/post_images/302/242/408/30224240815c37125998cb7eabbb7184.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Zum Vergr√∂√üern anklicken) Der folgende</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Screenshot zeigt die Darstellung des BLE-Ger√§ts im Bus Hound-Fenster nach dem Pairing mit einem PC. </font><font style="vertical-align: inherit;">F√ºr jeden Ger√§tedienst wird nach dem Peering ein logischer Kommunikationskanal angezeigt. </font><font style="vertical-align: inherit;">Hier sehen Sie die UUID des Ger√§ts und der Dienste.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/0ac/28d/99d/0ac28d99d49e38dea38c2da5caa46658.png"><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE Verkehrsanalysator (Sniffer) USB-KW40Z</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist ein Tool aus dem Kinetis Development Support Kit. Deshalb werde ich n√§her darauf eingehen. </font><font style="vertical-align: inherit;">NXP- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sniffer-Seite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<img src="https://habrastorage.org/getpro/geektimes/post_images/ef1/108/1c9/ef11081c9b38097c1b2fdcd91cb01094.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Sniffer wurde von NXP (oder besser gesagt dem fr√ºheren Freescale) entwickelt und kann kosteng√ºnstig in beliebten Online-Funkkomponentengesch√§ften erworben werden: Mouser, Digi-Key, Farnell ... Er wird von NXP als Tool zur √úberwachung von Funkpaketen angeboten, die von BLE-Ger√§ten gesendet werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit diesem Ger√§t k√∂nnen Sie die Struktur von Paketen untersuchen, sie in einem Protokoll aufzeichnen und die Verkehrsdichte analysieren. Die Sniffer-Schaltung ist offen f√ºr Studien, aber das Mikrocontroller-Programm wird als Bin√§rdatei geliefert. Mit Sniffer k√∂nnen Sie Pakete nach Adresswerten filtern.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie k√∂nnen die PC-Software f√ºr den Sniffer √ºber die folgende Suchabfrage auf der Website </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.nxp.com herunterladen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kinetis_Protocol_Analyzer_Adapter.exe</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Da der Sniffer neben der Hauptfunktion auch eine Debugging-Plattform f√ºr verschiedene Anwendungen sein kann, werden bin√§re grundlegende Firmware-Dateien daran angeh√§ngt Sie k√∂nnen die Sniffer-Funktionalit√§t nach dem Experimentieren wiederherstellen. Dateien werden mit dem </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KW40Z Connectivity Software-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Paket </font><b><font style="vertical-align: inherit;">geliefert</font></b><font style="vertical-align: inherit;"> , das von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.nxp.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> f√ºr die Suchabfrage KW40Z_Connectivity_Software heruntergeladen wird. Die Dateien hei√üen </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sniffer_processing_core_usbkw40z_k22f.bin</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (f√ºr den Mikrocontroller MK22FN512 auf der Sniffer- </font><b><font style="vertical-align: inherit;">Karte</font></b><font style="vertical-align: inherit;"> ) und </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sniffer_radio_core_usbkw40z_kw40z.bin</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(f√ºr den Mikrocontroller MKW40Z auf der Sniffer-Karte). Dateien werden mit SWD-Debuggern programmiert: JLink, STLink, OpenSDA ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Von der PC-Seite wird das Ger√§t als zusammengesetztes USB-Ger√§t mit einem COM-Port und einem Debug-Port gem√§√ü der Spezifikation OpenSDA mit CMSIS-DAP-Firmware wahrgenommen. In der IAR-Umgebung k√∂nnen Sie den MKW40Z-Sniffer-Chip frei programmieren und debuggen, indem Sie seinen anderen MK22FN512-Chip als Tr√§ger f√ºr die Funktionalit√§t des Debug-Adapters verwenden. Beide Chips auf der Platine verf√ºgen jedoch √ºber Standard-SWD-Anschl√ºsse f√ºr einen externen Debug-Adapter.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sniffer garantiert nicht den Empfang aller in der Luft √ºbertragenen Pakete. Es ist leicht zu √ºberfluten, wonach keine Pakete mehr akzeptiert werden. Daher wird empfohlen, die Filterung nach Adresse zu aktivieren, um nur Pakete vom interessierenden Knoten mit relativ seltenem Datenverkehr zu empfangen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das folgende Fenster zeigt das Paketanalysatorprogramm. Das Fenster enth√§lt das Abfangen auf allen drei Kan√§len: </font></font><br>
<br>
<a href=""><img align="left" width="746" src="https://habrastorage.org/getpro/geektimes/post_images/900/756/ae8/900756ae87aa2a06256d83774460fbd5.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Zum Vergr√∂√üern anklicken)</font></font></em></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Bei der Installation der Analysesoftware auf einem PC wird ein virtueller Ethernet-Adapter erstellt, der √ºber den virtuellen COM-Port des Sniffers aufgenommene Pakete in Ethernet-Pakete konvertiert. In meinem Fall erhielt ein solcher virtueller Adapter automatisch einen einfachen Namen - Ethernet. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Pakete anzuzeigen, m√ºssen Sie zus√§tzlich das Wireshark Ethernet Packet Sniffer-Programm installieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ansicht des Hauptfensters des Wireshark-Programms w√§hrend der √úberwachung des Datenverkehrs. </font><font style="vertical-align: inherit;">Wireshark beschreibt ausf√ºhrlich alle Bitfelder des LE LL-Protokollpakets (Link Layer). Nach dem Herstellen einer Verbindung zwischen den Ger√§ten und dem Starten des L2CAP-Protokolls wird der Paketinhalt jedoch nicht erkannt, da er verschl√ºsselt √ºbertragen wird. </font></font><br>
<br>
<a href=""><img align="left" width="736" src="https://habrastorage.org/getpro/geektimes/post_images/762/d12/cde/762d12cdec62b23d94b1f5e254d19c4f.png"><br clear="left">
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Zum Vergr√∂√üern anklicken)</font></font></em></a><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wireshark-Fensteransicht mit Dekodierung des Werbepakets</font></font></b><div class="spoiler_text"><a href=""><img align="left" width="745" src="https://habrastorage.org/getpro/geektimes/post_images/37a/bbd/8ba/37abbd8ba6306e22b6c2dbd50e92f3c2.png"><br clear="left">
<em>(  )</em></a><br>
<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inhalt des Scananforderungspakets</font></font></b><div class="spoiler_text"><a href=""><img align="left" width="740" src="https://habrastorage.org/getpro/geektimes/post_images/5d7/4fb/fd5/5d74fbfd589f42c9ebaed86c0bef7f3a.png"><br clear="left">
<em>(  )</em></a><br>
<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inhalt des Scan Responce-Pakets</font></font></b><div class="spoiler_text"><a href=""><img align="left" width="741" src="https://habrastorage.org/getpro/geektimes/post_images/012/627/201/012627201de64dfc530926aa9241c20c.png"><br clear="left">
<em>(  )</em></a><br>
<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Inhalt des Verbindungsanforderungspakets mit Parametern, die die Geschwindigkeit des Kommunikationskanals bestimmen</font></font></b><div class="spoiler_text"><a href=""><img align="left" width="755" src="https://habrastorage.org/getpro/geektimes/post_images/7a8/032/eeb/7a8032eeb21f6834f6f9bfc19d6bfd8e.png"><br clear="left">
<em>(  )</em></a><br>
<br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verbindungspaketsequenz</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/getpro/geektimes/post_images/7e7/baf/5c9/7e7baf5c91ecdc461aa878c8148a6d48.png"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kommentare, Erg√§nzungen, Korrekturen und Einw√§nde gegen die Informationen in diesem Artikel sind willkommen.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de394757/">https://habr.com/ru/post/de394757/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de394747/index.html">AlphaGo wird mit dem chinesischen Meister Ke Jie spielen</a></li>
<li><a href="../de394749/index.html">–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –¥—ã—Ä–∞ –≤ —Å–µ—Ä–¥—Ü–µ —Å–æ—Ç–æ–≤—ã—Ö —Å–µ—Ç–µ–π</a></li>
<li><a href="../de394751/index.html">Herstellung von S√§ulengeh√§usen: Material√ºbersicht</a></li>
<li><a href="../de394753/index.html">Spiele f√ºr Programmierer</a></li>
<li><a href="../de394755/index.html">Kenntnisse der Physik helfen, Roulette-Casinos zu schlagen</a></li>
<li><a href="../de394759/index.html">Wie das US-Verteidigungsministerium die Ohren von Soldaten sch√ºtzt</a></li>
<li><a href="../de394761/index.html">Mit dem drahtlosen Adapter ‚ÄûMorecard‚Äú in Kreditkartengr√∂√üe kann das iPhone gleichzeitig in den Netzwerken von zwei Betreibern verbleiben</a></li>
<li><a href="../de394767/index.html">–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã ¬´–ø–æ–¥—ä–µ–¥–∞—é—Ç¬ª –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ —Å–≤—è–∑–∏, —Ç–µ –≥–æ—Ç–æ–≤—è—Ç –æ—Ç–≤–µ—Ç–Ω—ã–π —É–¥–∞—Ä</a></li>
<li><a href="../de394769/index.html">Das k√ºnstliche System √ºbertraf das nat√ºrliche Blatt hinsichtlich der Effizienz der Photosynthese</a></li>
<li><a href="../de394771/index.html">ISS-Modelle auf der Erde</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>