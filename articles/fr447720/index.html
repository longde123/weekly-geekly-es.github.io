<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí™üèª ‚¨ÜÔ∏è üóûÔ∏è S√©curit√© IoT. Num√©ro 2. Smart Home üßìüèΩ üêü üì∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La maison intelligente est repr√©sent√©e par une large gamme d'appareils. Dans la deuxi√®me partie de la s√©rie sur la s√©curit√© de l'IoT, les d√©codeurs TV...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>S√©curit√© IoT. Num√©ro 2. Smart Home</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pm/blog/447720/"><img src="https://habrastorage.org/webt/qf/_6/1n/qf_61ngu9k5-y65gst9znrvs_qo.jpeg"><br><br>  La maison intelligente est repr√©sent√©e par une large gamme d'appareils.  Dans la deuxi√®me partie de la s√©rie sur la s√©curit√© de l'IoT, les d√©codeurs TV intelligents, les cuisines intelligentes, les assistants vocaux et l'√©clairage seront abord√©s.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lien vers 1 partie</a> . <br><a name="habracut"></a><br><h2>  S√©curit√© de la maison intelligente </h2><br><h3>  Smart TV - Apple TV </h3><br><img src="https://habrastorage.org/webt/cw/ir/q2/cwirq2ptsnoozmokvynxx2baqpc.jpeg"><br>  L'Apple TV est un lecteur multim√©dia num√©rique avec une large gamme de fonctionnalit√©s dans un syst√®me d'exploitation s√©par√©, g√©r√© par un t√©l√©phone, Siri, √† distance et extensible par programmation gr√¢ce √† des applications tierces.  L'Apple TV a plusieurs g√©n√©rations: <br><br><ol><li>  G√©n√©ration I - Y'07, MacOS X, disque dur traditionnel et port USB </li><li>  G√©n√©ration II - Y'10, iOS + MicroUSB </li><li>  G√©n√©ration III - Y'12, iOS + MicroUSB </li><li>  G√©n√©ration IV - Y'15, tvOS (iOS) + USB-C et Bluetooth </li><li>  G√©n√©ration V (4K) - Y'17, tvOS (iOS) + Bluetooth, pas d'USB </li><li>  G√©n√©ration VI - mod√®le de 2018, sans USB </li></ol><br><h4>  M√©thodes d'acc√®s connues √† l'Apple TV </h4><br>  Ces m√©thodes sont accessibles par des mod√®les de 1√®re g√©n√©ration pr√©sent√©s lors de la conf√©rence 2009 ¬´Hacking the Apple TV and Where Your Forensic Data Lives¬ª, Kevin Estis et Randy Robbins, Def Con 2009 ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pr√©sentation</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vid√©o</a> ).  Le mod√®le de cette g√©n√©ration a √©t√© r√©alis√© sur la base de Mac OS X et l'acc√®s aux donn√©es a √©t√© r√©duit √† l'analyse du disque dur et aux fonctionnalit√©s de connexion au t√©l√©viseur dans son ensemble. <br><br>  L'acc√®s aux donn√©es Apple TV des g√©n√©rations II-V est tr√®s similaire dans la m√©thodologie pour acc√©der √† d'autres produits Apple et se r√©sume √† <br><br><ul><li>  Analyse des sauvegardes avec divers outils, y compris la criminalistique. </li><li>  Recherchez un jailbreak pour rechercher des donn√©es en dehors des sauvegardes ou rechercher des t√©l√©viseurs d√©j√† pirat√©s. </li><li>  Analyse de contenu, clients m√©t√©o, contenu en streaming: Netflix, iTunes, NHL, NBA, Vimeo, YouTube, etc. </li><li>  Acc√®s aux donn√©es de l'application dans le but d'extraire des comptes et des cartes de cr√©dit, ainsi que d'autres informations utiles. </li></ul><br><h4>  Utilitaires pour Jailbreak </h4><br>  Contrairement aux montres, l'ensemble d'utilitaires Jailbreak pour la t√©l√©vision est largement repr√©sent√©, √† l'exception des mod√®les de 3e g√©n√©ration: <br><br><ul><li>  La liste actuelle est mise √† jour, par exemple, sur la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ressource pangu.</a> </li><li>  <b>Apple TV 1</b> - scripts, ssh, √©jection de disque et autres m√©thodes similaires √† Mac. </li><li>  <b>Apple TV 2</b> - <i>Prison Seas0npass</i> pour les versions tvOS 4.3 - tvOS 5.3 (non connect√©) &amp; tvOS 6.1.2 (connect√©). </li><li>  <b>Apple TV 4</b> - <i>prison Pangu9</i> pour les versions de tvOS 9.0 - tvOS 9.0.1, <i>prison LiberTV</i> pour les versions de tvOS 9.1 - tvOS 10.1, <i>prison GreenG0blin</i> pour les versions de tvOS 10.2.2. </li><li>  <b>Apple TV</b> <i>4/5</i> - <i>LiberTV jail</i> pour tvOS versions 11.0 et 11.1, <i>Electra jail</i> pour tvOS versions 11.2 - tvOS 11.3. </li></ul><br><h4>  Gestion des mots de passe </h4><br>  La question de la gestion des mots de passe pour de nombreux appareils est fondamentale, et compte tenu des montres intelligentes, il a √©t√© not√© que les mots de passe et les codes PIN ne sont pas obligatoires.  Pour Apple TV, les mots de passe, comme pour de nombreux autres t√©l√©viseurs, ne sont pas utilis√©s du tout, sauf pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">restreindre l'acc√®s au contenu</a> et n'affectent que les achats effectu√©s dans le magasin d'applications dans le cadre des applications, du contenu, de la modification des param√®tres et de la suppression des appareils connect√©s ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">en m√™me temps, le jumelage des appareils n'est pas n√©cessite un mot de passe</a> ). <br><br><h4>  Analyse USB </h4><br>  Pour les premiers mod√®les, √† l'exception des deux derni√®res ann√©es, le port USB, bien qu'il ait √©t√© officiellement r√©serv√© √† des fins officielles, a √©t√© utilis√© pour obtenir des informations de base sur l'appareil;  officiellement disparu, √† commencer par la 5e g√©n√©ration d'Apple 5e g√©n√©ration (4k).  Les informations de base incluent des informations sur l'heure de l'appareil, les journaux, l'acc√®s √† un dossier multim√©dia qui n'est pas un dossier syst√®me (/ private / var / mobile / Media), des informations sur le Wi-Fi, Bluetooth, les adresses MAC Ethernet, le nom de l'appareil, l'ID de s√©rie, le mod√®le .  Comme outils pour obtenir des donn√©es, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ideviceinfo, idevicesyslog</a> peuvent √™tre utilis√©s. <br><br><h4>  Sauvegardes </h4><br>  Les sauvegardes permettent d'acc√©der aux donn√©es suivantes qui se croisent avec les donn√©es d'analyse USB: <br><br><ul><li>  Journal des √©v√©nements </li><li>  Donn√©es multim√©dias dans la base de donn√©es MediaLibrary.sqlitedb. </li><li>  Donn√©es iCloud. </li><li>  R√©seau Wi-fi. </li><li>  Utilisation chronologique de l'appareil. </li><li>  Bases de donn√©es d'achat incl.  contenu. </li></ul><br><img src="https://habrastorage.org/webt/f7/qd/j5/f7qdj5jni7zb26bmzzpr99kgfu0.jpeg"><br><br><h4>  Analyse TV avec jailbreak </h4><br>  Ces t√©l√©viseurs vous permettent d'acc√©der √† plus de donn√©es: fuseau horaire, historique Wi-Fi, dictionnaire du clavier, informations de compte, param√®tres, liste des villes m√©t√©o, informations de t√™te de lit (informations sur le contenu utilisateur), ainsi que des captures d'√©cran du contenu utilisateur, vid√©o en cache , une liste des applications install√©es et les donn√©es des applications elles-m√™mes. <br><br><h4>  Profilage </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Le profilage</a> est l'un des m√©canismes de d√©fense de certaines versions r√©centes de tvOS 11.3+ et iOS 11.3+.  Le m√©canisme vous permet de sp√©cifier une liste ou des p√©riph√©riques sp√©cifiques qui seront autoris√©s;  apr√®s quoi l'interaction sera limit√©e √† certains appareils, et aucun appareil tiers ne pourra se connecter √† votre d√©codeur.  Le m√©canisme peut √™tre utilis√© √† la fois dans le cadre de la gestion d'entreprise des appareils Apple, ainsi que dans les appareils personnels via les param√®tres de profil avec les param√®tres n√©cessaires (√† condition que vous utilisiez Mac OS Server) <br><br><h3>  Amazon tv </h3><br><img src="https://habrastorage.org/webt/6n/cr/5f/6ncr5fab5rgbspbktqot99jfjde.jpeg"><br><br>  Amazon Fire TV est un d√©codeur avec un ensemble de fonctionnalit√©s similaires.  Il existe en deux √©ditions - sous la forme d'un d√©codeur conventionnel (Fire TV box) et d'une version compacte du type de Chromecast (Fire TV Stick).  Dans le m√™me temps, comme de nombreuses solutions Android, il permet de t√©l√©charger des applications via le m√©canisme ADB-sideload, qui permet √† de nombreux utilisateurs de recevoir du contenu sans abonnement payant. <br><br>  En raison de ce dernier fait, les outils racine ne sont pas largement utilis√©s pour FireOS, et les outils d'enracinement disponibles sont divis√©s en outils racine classiques et firmware racine. <br><br>  Le repr√©sentant le plus c√©l√®bre des outils root est KingRoot, qui vous permet d'acc√©der principalement aux anciennes versions de type 5.0.5, bien qu'il ne s'y limite pas.  Une caract√©ristique est √©galement que la plupart des outils sont r√©gl√©s pour utiliser un clavier et une souris, pas une t√©l√©commande de t√©l√©vision, il est donc important d'avoir des connexions Bluetooth pour connecter des claviers et des souris sans fil. <br><br>  Parmi les fonctionnalit√©s de FireOS, il convient de noter le chargement lat√©ral sans racine, un chargeur de d√©marrage verrouill√© (51.1.xx n'est pas bloqu√©, 5.xxx est bloqu√©, mais 5.0.x peut √™tre d√©verrouill√©, mais il n'y a pas d'informations sur les anciennes versions), et il est possible de r√©trograder pour ex√©cuter la racine anciennes versions. <br><br>  Versions disponibles des outils racine et du firmware: <br><br><ul><li>  Fire TV 1 - racine pour les versions 51.1.0.0 - 51.1.6.3, 5.0.3, 5.0.5, pas de racine pour 5.0.5.1, 5.2.1.0 - 5.2.6.3 </li><li>  Fire TV 2 - racine pour les versions 5.0.0 - 5.2.1.1, pas de racine pour 5.2.4.0 - 5.2.6.3 </li><li>  Fire TV 2 - 5.2.6.6 - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ROM pr√©-enracin√©e</a> </li><li>  Fire TV 3, Fire TV Cube - pas de ROM racine ou pr√©-racine </li><li>  Fire TV Stick 1 - racine pour les versions 5.0.0 - 5.2.1.1 et pas de racine pour 54.1.2.3 et les versions ant√©rieures, 5.2.1.2 - 5.2.6.3 </li><li>  Fire TV Stick 2 - pas de racine logicielle, cependant, une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">m√©thode a √©t√©</a> trouv√©e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">pour l'acc√®s physique au lecteur eMMC</a> </li><li>  T√©l√©vision Fire TV Edition - racine pour les versions 5.2.5.0 et pas de racine pour 5.2.5.1 - 5.2.6.3 </li></ul><br>  Il n'y a actuellement aucun outil officiel parmi les solutions m√©dico-l√©gales, cependant, les m√©thodes m√©dico-l√©gales sont typiques pour les solutions Android (en utilisant DD, sideload + ADB, etc.) <br><br>  Lors de l'examen des donn√©es de p√©riph√©rique dans un ensemble d'applications de base, les ensembles de donn√©es utiles suivants peuvent √™tre distingu√©s: <br><br><ul><li>  <b>Informations sur le navigateur</b> - stock√©es dans la base de donn√©es browser.db et incluent l'historique du navigateur et d'autres informations stock√©es par Mozilla Firefox. </li><li>  <b>Images</b> - stock√©es dans [root] /data/com.amazon.bueller.photos/files/cmsimages, y compris  voici les images d'Amazon Cloud.  Il y a une fonctionnalit√© ici: malgr√© l'originalit√© des images, les images sur le t√©l√©viseur sont converties au format TV (en cons√©quence, deux fichiers avec la m√™me extension et des noms diff√©rents peuvent √™tre trouv√©s sur l'appareil * -full.jpg et * -thumb.jpg). </li><li>  <b>Appareils Bluetooth</b> - les informations sur les appareils, les noms et les adresses mac sont stock√©es dans [root] /data/com.amazon.device.controllermanager/databases/devices. </li><li>  <b>Journaux Amazon</b> - diverses informations sur les activit√©s des appareils avec horodatage, qui peuvent √™tre corr√©l√©es avec l'activit√© des utilisateurs et le lancement des applications [root] /data/com.amazon.device.logmanager/files + Log.amazon \ main. </li><li>  <b>Amazon Appstore</b> - donn√©es stock√©es dans com.amazon.venezia. </li><li>  / cache / = cache et aper√ßu des applications t√©l√©charg√©es et consult√©es + recommand√©. </li><li>  / bases de donn√©es / = les fichiers sqlite sont distribu√©s dans des dossiers. </li><li>  / databases / contentProvider = Le tableau "Apps" contenant les noms des applications avec cache et aper√ßus ("thumbnailUri"), ("previewUri") dans le dossier ../cache. </li><li>  / databases / locker = commandes, liste de souhaits, t√¢ches, applications, cache, etc. </li><li>  / databases / logging = journaux d'√©v√©nements. </li></ul><br><h3>  Assistants vocaux (application Amazon Echo Dot et Alexa) </h3><br>  Amazon Voice Assistants fournit Echo en tant que p√©riph√©rique physique et solution logicielle d'application Alexa.  Ils sont destin√©s au m√™me objectif de contr√¥le de la maison intelligente et d'autres appareils qui prennent en charge l'int√©gration avec l'API Amazon Voice Assistant. <br><br><img src="https://habrastorage.org/webt/mr/6y/5o/mr6y5oo_15kgvn3bkcgf8irvnzw.jpeg"><br><br>  √Ä l'heure actuelle, l'assistant mat√©riel ne dispose pas de m√©thodes de communication par c√¢ble famili√®res √† Android ou √† d'autres appareils Amazon, tels que FireTablet: la communication USB est limit√©e √† la r√©ception d'informations de base via un ensemble de pilotes MediaTek et l'outil SP Flash Tool, et le chargeur de d√©marrage de l'appareil est verrouill√©.  Amazon permet aux d√©veloppeurs d'utiliser leurs certificats pour prot√©ger les donn√©es transmises ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lien n ¬∞ 1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lien n ¬∞ 2</a> ), mais les utilisateurs n'ont pas la possibilit√© d'installer des certificats racine suppl√©mentaires sur l'appareil, ce qui exclut la possibilit√© de MITM.  De plus, les appareils sont prot√©g√©s contre les attaques SSL Strip.  Cependant, comme beaucoup de choses intelligentes, le firmware est t√©l√©charg√© via HTTP sans cryptage suppl√©mentaire. <br><br><pre><code class="json hljs">GET /obfuscated-otav<span class="hljs-number"><span class="hljs-number">3</span></span><span class="hljs-number"><span class="hljs-number">-9</span></span>/‚Ä¶/update-kindle-full_biscuit-XXXX_user_[XXXXXXXXX].bin HTTP/<span class="hljs-number"><span class="hljs-number">1.1</span></span> Host: amzdigitaldownloads.edgesuite.net Connection: close User-Agent: AndroidDownloadManager/<span class="hljs-number"><span class="hljs-number">5.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> (Linux; U; Android <span class="hljs-number"><span class="hljs-number">5.1</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span>; AEOBC Build/LVY<span class="hljs-number"><span class="hljs-number">4</span></span><span class="hljs-number"><span class="hljs-number">8</span></span>F) ro.build.version.fireos=<span class="hljs-number"><span class="hljs-number">5.5</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span> ro.build.version.fireos.sdk=<span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <br>  Fire OS est bas√© sur Android et a la correspondance suivante <br><br><ul><li>  ver 5.x - Android 5.1.1 Lollipop.  Echo Works version 5.x </li><li>  ver 6.x - Android 7.1 Nougat </li></ul><br>  Dans le m√™me temps, en parlant de l'assistant logiciel, il convient de noter le large soutien non seulement du Kindle OS, mais aussi d'Android et iOS, ainsi que le manque de m√©canismes de protection contre le MITM.  Par exemple, les informations d'identification peuvent √™tre obtenues dans la demande ¬´https://www.amazon.com/ap/signin¬ª <br><br><ul><li><pre> <code class="json hljs">{<span class="hljs-attr"><span class="hljs-attr">"Credentials"</span></span>:{<span class="hljs-attr"><span class="hljs-attr">"AccessKeyId"</span></span>:<span class="hljs-string"><span class="hljs-string">"ASIAXHE6EPSWNVIGFBVP"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"Expiration"</span></span>:<span class="hljs-number"><span class="hljs-number">1.538588872E9</span></span>,<span class="hljs-attr"><span class="hljs-attr">"SecretKey"</span></span>:<span class="hljs-string"><span class="hljs-string">"+8gSx7/H.....U="</span></span>},<span class="hljs-attr"><span class="hljs-attr">"IdentityId"</span></span>:<span class="hljs-string"><span class="hljs-string">"us-east-1:503e25f6-2302-4dcd-8cb2-64a0e888f76b"</span></span>}</code> </pre> </li><li>  Mail, mot de passe de la requ√™te POST 'https://www.amazon.com/ap/signin'. </li><li>  Informations sur les jetons et les appareils. </li><li>  Le code du pays est ¬´RU¬ª. </li></ul><br>  De plus, des informations sur le profil utilisateur (ou les profils, car l'utilisation multi-utilisateurs est prise en charge) sont transmises dans le trafic: <br><br><ul><li>  Nom, adresse de paiement, adresse de livraison. </li><li>  L'ID de l'appareil, le compte, les capacit√©s de l'appareil et leurs types. </li><li>  Les r√©ponses au format .mp3 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sont stock√©es</a> pendant plusieurs mois. </li></ul><br><img src="https://habrastorage.org/webt/lc/7p/az/lc7paz2d_akc0atfj8-jdevbfug.jpeg"><br><br>  Les donn√©es locales de la sauvegarde contiennent principalement des m√©triques et des journaux d'appareils, une liste d'appareils et leurs num√©ros de s√©rie, de br√®ves informations de compte et des param√®tres. <br><br>  L'une des fa√ßons int√©ressantes d'attaquer les assistants est de s√©lectionner un code PIN qui peut √™tre ex√©cut√© avec un d√©lai minimum entre les tentatives et sans limiter le nombre de fois.  Cette m√©thode a √©t√© publi√©e en 2017 par <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Security Analysis of the Amazon Echo</a> avec le script joint.  La proc√©dure est la suivante: <br><br><ol><li>  L'ordinateur attend un mot pour se r√©veiller et la commande suivante est une demande d'achat. </li><li>  Alexa propose des r√©sultats et propose de passer une commande. </li><li>  L'ordinateur confirme la commande et Alexa demande un code PIN √† quatre chiffres. </li><li>  La premi√®re tentative est faite pour faire correspondre le code PIN. </li><li>  Alexa accepte ou n'accepte pas les codes PIN. </li><li>  Le processus est r√©p√©t√© jusqu'√† ce que le code PIN correct soit trouv√©.  Chaque it√©ration de 2 tentatives de demande de code PIN prend 30 secondes et, en supposant un pool commun de 10 000 codes PIN, il faut 42 heures pour s√©lectionner le code correct. </li></ol><br><h3>  Cuisine intelligente / bouilloires (Redmond) </h3><br>  Redmond est un fournisseur de technologies intelligentes en Russie.  Pour travailler avec un ensemble de ¬´fonctionnalit√©s intelligentes¬ª, l'offre Ready For Sky est propos√©e, qui est mise en ≈ìuvre en deux versions - une application d'interaction directe via Bluetooth et une application de hub, qui, d'une part, interagit directement avec l'appareil, et d'autre part, vous permet de contr√¥ler l'√©quipement via Internet. <br><br><img src="https://habrastorage.org/webt/au/jt/my/aujtmy4iz55ekrdlnuzvxztqinw.jpeg"><br><br>  √Ä partir des donn√©es locales qui tombent dans les sauvegardes (R4S.sqlite), seule une liste d'appareils et de mod√®les, une liste de recettes et de param√®tres, des donn√©es utilisateur sans mot de passe (uniquement nom d'utilisateur, e-mail), ainsi que des appareils utilisateur et des adresses MAC d'appareils ont √©t√© trouv√©s. <br><br><img src="https://habrastorage.org/webt/vt/jl/bl/vtjlblwr_1zjbd5mbpygxihihfu.jpeg"><br><br>  Dans le cadre des donn√©es r√©seau, il n'y a pas de protection contre l'interception de donn√©es avec un certificat, vous pouvez donc acc√©der √† la version du firmware et √† l'image de l'appareil (de plus, ces donn√©es sont transmises via http), une liste de recettes pour l'appareil, une liste d'actions <br><br><pre> <code class="json hljs">https://content.readyforsky.com/api/program/catalog/id:IN:<span class="hljs-number"><span class="hljs-number">90</span></span>,<span class="hljs-number"><span class="hljs-number">97</span></span>?locale=en <span class="hljs-string"><span class="hljs-string">"id"</span></span>: <span class="hljs-number"><span class="hljs-number">90</span></span>, <span class="hljs-string"><span class="hljs-string">"protocol_id"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"BOILING"</span></span>, / HEATING <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"40"</span></span>, | <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"55"</span></span>, | <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"70"</span></span>, | <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"85"</span></span>, | <span class="hljs-string"><span class="hljs-string">"value"</span></span>: <span class="hljs-string"><span class="hljs-string">"95"</span></span>.</code> </pre> <br>  Aussi les informations d'identification, les jetons incl.  lors d'une demande de changement de mot de passe <br><br><pre> <code class="json hljs">https://content.readyforsky.com/headless/change-password {<span class="hljs-attr"><span class="hljs-attr">"current_password"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"plainPassword"</span></span>: <span class="hljs-string"><span class="hljs-string">"1"</span></span>} { <span class="hljs-attr"><span class="hljs-attr">"error"</span></span>: <span class="hljs-string"><span class="hljs-string">"invalid_grant"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"error_description"</span></span>: <span class="hljs-string"><span class="hljs-string">"The access token provided is invalid."</span></span>} { <span class="hljs-attr"><span class="hljs-attr">"access_token"</span></span>: <span class="hljs-string"><span class="hljs-string">"YjNhYmEwOWM1ZDcwYTk0ODU1ODhmZDZiMDRjNjA5NzUyN2YzM2VhNGUyMjBhYzc0ZjBhYWRhY2IzZmNjMzdiOA"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"expires_in"</span></span>: <span class="hljs-number"><span class="hljs-number">86400</span></span>, <span class="hljs-attr"><span class="hljs-attr">"token_type"</span></span>: <span class="hljs-string"><span class="hljs-string">"bearer"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"scope"</span></span>: <span class="hljs-string"><span class="hljs-string">"r4s"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"refresh_token"</span></span>: <span class="hljs-string"><span class="hljs-string">"YzE4ZGUwN2NkMzdiMDBlYmM5NGQwMGVjYmU4YThkYTVkMGE1ZTc4ODQ2MDRkNjhhZWY4NGIxZjlkODRhZGI3MQ‚Äú }</span></span></code> </pre> <br>  Informations utilisateur (https://content.readyforsky.com/api/user/current) et informations sur la structure du r√©seau interne (adresse IP), informations sur l'appareil (mod√®le, adresse mac, nom du concentrateur) <br><br>  Adresse du client |  192.168.1.38:50654 (le port change) <br>  Adresse distante |  content.readyforsky.com/178.62.194.132-00-0043 (port fixe) <br><br><pre> <code class="json hljs">https://content.readyforsky.com/api/device/user ‚Äúname<span class="hljs-string"><span class="hljs-string">": "</span></span>RK-G<span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-number"><span class="hljs-number">0</span></span>S<span class="hljs-string"><span class="hljs-string">", "</span></span>address<span class="hljs-string"><span class="hljs-string">": "</span></span>E<span class="hljs-number"><span class="hljs-number">7</span></span>:<span class="hljs-number"><span class="hljs-number">7</span></span>F:BC:<span class="hljs-number"><span class="hljs-number">60</span></span>:C<span class="hljs-number"><span class="hljs-number">2</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>A<span class="hljs-string"><span class="hljs-string">", "</span></span>name<span class="hljs-string"><span class="hljs-string">": "</span></span>Gateway XIAOMI Redmi <span class="hljs-number"><span class="hljs-number">4</span></span>X<span class="hljs-string"><span class="hljs-string">", "</span></span>address<span class="hljs-string"><span class="hljs-string">": "</span></span><span class="hljs-number"><span class="hljs-number">77</span></span>d<span class="hljs-number"><span class="hljs-number">3</span></span>efcf-f<span class="hljs-number"><span class="hljs-number">6</span></span><span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-number"><span class="hljs-number">7</span></span><span class="hljs-number"><span class="hljs-number">-402</span></span>e-bbed<span class="hljs-number"><span class="hljs-number">-4</span></span>ee<span class="hljs-number"><span class="hljs-number">0</span></span>c<span class="hljs-number"><span class="hljs-number">8</span></span><span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-number"><span class="hljs-number">9</span></span><span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-number"><span class="hljs-number">4</span></span><span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-number"><span class="hljs-number">7</span></span><span class="hljs-string"><span class="hljs-string">",</span></span></code> </pre> <br><h3>  Eclairage </h3><br>  L'√©clairage intelligent a √©t√© con√ßu pour optimiser les co√ªts en fonction de l'automatisation des t√¢ches.  Il est pr√©sent√© dans l'article par des mod√®les populaires: <br><br><ul><li>  Lightify </li><li>  IKEA TR√ÖDFRI </li><li>  Philips HUE </li></ul><br><img src="https://habrastorage.org/webt/wc/lv/nj/wclvnjqkijbxstlcuebe8mforkk.jpeg"><br><br><h4>  Lightify </h4><br>  LIGHTIFY Home est une plate-forme Internet des objets avec prise en charge du cloud et √©volutivit√©.  Pour le travail, un compte Lightify est requis.  Les donn√©es sont transmises via le protocole QUIC avec cryptage sur UDP;  pour d√©crypter QUIC et gQUIC, il est recommand√© d'utiliser la derni√®re <b>version 2.9</b> cableshark ( <b>v2.9.1rc0-332-ga0b9e8b652, v2.9.1rc0-487-gd486593ce3</b> ), et de pr√©f√©rence <b>3.0 et sup√©rieur</b> , car  dans diverses versions de la version 2.9, il y avait des probl√®mes avec la prise en charge du d√©cryptage du protocole (et la <b>version</b> par d√©faut <b>2.8.6 a √©t√©</b> propos√©e comme version stable pour le t√©l√©chargement).  Lightify Gateway s'ex√©cute au-dessus de TCP sans chiffrement (avec interaction locale) et en utilisant un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">protocole binaire</a> qui est analys√© et pour lequel il existe un support pour <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">les outils tiers</a> .  Les informations d'identification sont stock√©es localement dans le cadre des fichiers de sauvegarde. <br><br><h4>  IKEA TR√ÖDFRI </h4><br>  Les ampoules IKEA offrent √©galement un contr√¥le marche / arr√™t, mais en bonus, il y a un changement de sch√©ma de couleurs.  Les nouveaux mod√®les sont d√©j√† subdivis√©s en Ikea d'origine et de marque Xiaomi.  Ne prend actuellement pas en charge la t√©l√©commande.  La mise √† jour du micrologiciel est traditionnellement effectu√©e par le fichier http JSON, qui contient notamment  firmware disponible pour tous les appareils TR√ÖDFRI <br><br><pre> <code class="json hljs">http://fw.ota.homesmart.ikea.net/feed/version_info.json</code> </pre> <br>  La communication se fait via UDP en utilisant DTLS (SSL pour UDP) et le cryptage.  La cl√© pr√©-partag√©e utilis√©e pour l'√©tablissement de liaison lors du couplage des appareils est la cl√© secr√®te.  Pour associer l'application au concentrateur, l'utilisateur doit scanner un code QR contenant le ¬´num√©ro de s√©rie¬ª (qui est en fait l'adresse MAC) et le ¬´code de s√©curit√©¬ª de l'appareil.  Le code de s√©curit√© est stock√© localement dans le stockage de cl√©s et est utilis√© pour un chiffrement suppl√©mentaire √† l'aide de l'algorithme AES.  Cependant, si l'application s'ex√©cute sur un ancien appareil Android 4.3 ou inf√©rieur, ou qu'une attaque APK de mise √† niveau inf√©rieure a √©t√© effectu√©e, la cl√© peut √™tre trouv√©e dans l'APK lui-m√™me dans le fichier "key_file.txt" et sera cod√©e en dur "Bar12345Bar12345".  <i>Le downgrade-attack est assez populaire √† la fois dans le cadre des solutions m√©dico-l√©gales et des commandes adb habituelles pour downgrade de l'application apk, afin d'exploiter les vuln√©rabilit√©s des versions pr√©c√©dentes dans la protection des donn√©es.</i>  <i>La prise en charge et la possibilit√© d'effectuer des attaques de r√©trogradation d√©pendent du p√©riph√©rique, de la version du syst√®me d'exploitation et du fabricant du p√©riph√©rique, ainsi que de la compatibilit√© des bases de donn√©es des nouvelles et anciennes versions de l'application.</i> <br><br><img src="https://habrastorage.org/webt/3w/di/rz/3wdirzcjga9s4zk0csu-x_gkqhe.jpeg"><br><br><h4>  Philips HUE </h4><br>  Philips Hue propose une large gamme de produits d'√©clairage intelligents pour une utilisation int√©rieure et ext√©rieure.  En 2016, l'√©clairage de ce constructeur a d√©j√† √©t√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">attaqu√©</a> via ZigBee √† une distance de 200 m√®tres en raison d'une erreur dans le protocole de communication.  L'interaction en ligne entre le concentrateur et les serveurs s'effectue sous une forme prot√©g√©e avec protection contre l'interception des donn√©es.  √Ä la premi√®re connaissance, la cl√© de d√©chiffrement des donn√©es sur AES n'a pas √©t√© trouv√©e (on suppose qu'il pourrait faire partie du micrologiciel).  L'interaction entre l'application et le serveur fonctionne via SSL avec une protection contre les attaques SSL Strip et MITM.  Interaction locale - via HTTP. <br><br><pre> <code class="json hljs">PUT http://<span class="hljs-number"><span class="hljs-number">192.168</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.38</span></span>/api/Ds<span class="hljs-number"><span class="hljs-number">7</span></span>KfNjjYtC<span class="hljs-number"><span class="hljs-number">8</span></span>uN mU<span class="hljs-number"><span class="hljs-number">8</span></span>azGBiOSj-uacXI<span class="hljs-number"><span class="hljs-number">0</span></span>q<span class="hljs-number"><span class="hljs-number">0</span></span>JKaTs/groups/<span class="hljs-number"><span class="hljs-number">1</span></span>/action</code> </pre> <br>  ainsi que le t√©l√©chargement du firmware <br><br><pre> <code class="json hljs">http://iotworm.eyalro.net/</code> </pre> <br><h2>  Astuces </h2><br>  Les conseils de protection des appareils intelligents peuvent √™tre r√©partis dans les groupes suivants: <br><br><h3>  Groupe de s√©curit√© r√©seau </h3><br><ul><li>  <b>Masquer les noms</b> .  Par d√©faut, les noms de p√©riph√©rique ont des noms de base associ√©s au mod√®le, au fabricant ou au nom d'utilisateur du p√©riph√©rique.  Pour cette raison, il n'est pas recommand√© de donner des noms qui identifient de mani√®re unique les informations utilisateur. </li><li>  <b>Cryptage</b>  L'utilisation du cryptage dans les r√©seaux domestiques et les param√®tres pour √©viter un cryptage faible. </li><li>  <b>R√©seaux invit√©s</b> .  Le partage Wi-Fi est propos√© pour utiliser les informations critiques et les visiteurs / amis, ou pour d√©sactiver ce mode. </li><li>  <b>Segmentation du r√©seau</b> .  S√©paration du r√©seau en segments virtuels en fonction du degr√© de criticit√© des donn√©es transmises, par exemple, l'allocation d'appareils et de concentrateurs √† un sous-r√©seau IOT, les appareils qui interagissent avec les donn√©es critiques et bancaires √† un autre, et les appareils d'essai ou non approuv√©s au troisi√®me.  Si le routeur prend en charge plusieurs SSID, cela peut √©galement √™tre utilis√© pour s√©parer les r√©seaux. </li><li>  <b>Pare-feu</b>  Le pare-feu est un outil indispensable dans un environnement o√π de plus en plus d'appareils sont disponibles sur Internet et vous devez limiter leurs sc√©narios de disponibilit√©. </li><li>  <b>Restriction d'utilisation publique</b> .  Je propose de s√©parer et de limiter le stockage des donn√©es critiques sur les appareils portables susceptibles d'√™tre perdus, d'autant plus que dans le cloud, de nombreuses donn√©es sont agr√©g√©es et deviennent accessibles de mani√®re crois√©e.  De plus, pour les appareils publics, il n'est pas recommand√© d'activer les modes de connexion avec des appareils non approuv√©s, ainsi que d'utiliser un grand nombre d'applications qui ne prot√®gent pas correctement les donn√©es. </li></ul><br><h3>  Groupe de gestion des mots de passe </h3><br><ul><li>  <b>Les informations d'identification par d√©faut</b> .  Par d√©faut, tous les appareils n'ont pas de mot de passe ou ont une liste connue de mots de passe par d√©faut qui doivent √™tre modifi√©s imm√©diatement. </li><li>  <b>Mots de passe uniques</b> .  En r√®gle g√©n√©rale, il est recommand√© d'utiliser des mots de passe uniques qui ont √©t√© v√©rifi√©s par plusieurs gestionnaires de mots de passe. </li></ul><br><h3>  Groupe de gestion des logiciels </h3><br><ul><li>  <b>Param√®tres</b>  Modifiez les param√®tres par d√©faut et modifiez les param√®tres en fonction des sc√©narios d'utilisation. </li><li>  <b>Opportunit√©s.</b>  D√©sactivez ou limitez les fonctionnalit√©s qui ne sont pas requises dans les scripts.  Par exemple, t√©l√©commande, reliant des appareils de la cat√©gorie maison ou voiture intelligente √† Facebook ou √† d'autres r√©seaux sociaux. </li><li>  <b>Les applications</b>  Diff√©renciation des appareils et des applications du point de vue des donn√©es critiques, au lieu de les m√©langer au sein d'un m√™me appareil, ainsi que de r√©duire le nombre d'applications qui ne prot√®gent pas les donn√©es stock√©es ou transmises. </li><li>  <b>Une mise √† jour du syst√®me</b> r√©sout les probl√®mes de s√©curit√©, mais pas toujours une nouvelle mise √† jour apporte une protection √† 100%, comme l'apparition de la possibilit√© de sauvegarder avec tout nouveau mot de passe pour iOS 11+.  De plus, un certain nombre d'appareils IoT et m√™me de routeurs ordinaires, plus ils sont anciens, plus ils n'offrent pas de m√©canismes de mise √† jour pratiques du point de vue de l'utilisateur, vous devez donc surveiller ind√©pendamment les modifications et mettre √† jour les appareils. </li><li>  <b>VPN</b> pour prot√©ger le r√©seau, les segments de r√©seau et les applications et appareils individuels, en particulier aux points publics. </li></ul><br><h3>  Groupe d'outils de piratage </h3><br><ul><li>  <b>Applications suspectes</b> - applications en dehors des magasins officiels, applications ind√©sirables. </li><li>  <b>Hack√©</b> - applications pirat√©es "sans inscription et SMS" + pirat√©es, ainsi que des outils de piratage. </li><li>  <b>Firmware</b> - firmware du fournisseur (bien que les faits d'un code malveillant pr√©-install√© soient connus), ainsi que le firmware propre. </li></ul><br><h3>  Groupe de services et services cloud et tiers </h3><br><ul><li>  <b>Cloud IoT</b> - analyse des rapports sur l'audit des solutions cloud. </li><li>  <b>Services tiers pour IOT</b> - les solutions d'automatisation sont souvent un point de collecte de donn√©es en un seul endroit (au sein d'un compte utilisateur) et en cas de probl√®mes de s√©curit√© repr√©sentent un large √©ventail de donn√©es utilisateur critiques et de m√©canismes de gestion des objets intelligents. </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr447720/">https://habr.com/ru/post/fr447720/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr447708/index.html">Yandex a remis aux jeunes scientifiques et leaders scientifiques les premiers prix Ilya Segalovich</a></li>
<li><a href="../fr447712/index.html">Salut, SaaS | Russian SaaS 2018 - r√©sultats</a></li>
<li><a href="../fr447714/index.html">Sur l'application de la th√©orie des processus ARMA dans la pratique de l'ing√©nierie</a></li>
<li><a href="../fr447716/index.html">Unit√©: dessinez plusieurs barres de vie en un seul appel</a></li>
<li><a href="../fr447718/index.html">Tout se passera comme pr√©vu</a></li>
<li><a href="../fr447724/index.html">Comment naissent les villes intelligentes</a></li>
<li><a href="../fr447728/index.html">Nous calculons le bilan √©nerg√©tique d'une ligne radio pour un satellite au format CubeSat</a></li>
<li><a href="../fr447730/index.html">L'√©volution de l'email marketing: de QWERTYUIOP au GDPR</a></li>
<li><a href="../fr447732/index.html">Identifiant de race de chien: d√©veloppement de cycle complet du programme Keras √† l'application Android. sur le march√© du jeu</a></li>
<li><a href="../fr447734/index.html">Pourquoi le front-end devrait comprendre les principes de l'interface utilisateur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>