<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∏üèª üë®üèº‚Äçüéì ü§∏üèª OpenUNB borrador del est√°ndar nacional de IoT: revisi√≥n cr√≠tica üåÉ üí™üèø üÜò</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hola Habr! 

 Hace alg√∫n tiempo, el Grupo de Trabajo de Internet de las Cosas de Skoltech public√≥ un borrador del est√°ndar nacional de IoT de banda es...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>OpenUNB borrador del est√°ndar nacional de IoT: revisi√≥n cr√≠tica</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464103/"> Hola Habr! <br><br>  Hace alg√∫n tiempo, el Grupo de Trabajo de Internet de las Cosas de Skoltech public√≥ un borrador del est√°ndar nacional de IoT de banda estrecha llamado "OpenUNB", cuyo texto completo se puede encontrar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Por un lado, el fen√≥meno es indudablemente positivo: si en el campo de los est√°ndares de banda ancha hay un hecho abierto para uso de todos los que quieran, LoRaWAN, los est√°ndares de banda estrecha hasta el d√≠a de hoy han sido extremadamente propietarios (Sigfox, XNB de Strizh, NB-Fi de Vaviot), aunque este √∫ltimo tambi√©n se publica en forma de un proyecto de norma nacional, no revela partes que son esenciales para la implementaci√≥n de terceros). <br><br>  Al mismo tiempo, los sistemas de banda estrecha y banda ancha tienen sus propios pros y contras, por lo que decir "por qu√© necesitas algo m√°s cuando hay LoRaWAN" no es del todo cierto.  Es decir, se necesita un est√°ndar abierto para las comunicaciones de UNB. <br><br>  Sin embargo, la necesidad es solo una de dos condiciones.  El segundo es la suficiencia.  Ok, lo que Skoltech public√≥ es necesario, pero ¬øes suficiente para un uso pr√°ctico? <br><br><img src="https://habrastorage.org/webt/mu/4m/y3/mu4my3u5mgerviabkc-yhlqhb2m.jpeg"><br><br>  Responderemos esto en un formato similar a una entrevista: bajo las citas cortadas del borrador del est√°ndar OpenUNB y los comentarios al respecto, dados por Alexander Sheptovetsky (AS), director t√©cnico de GoodWAN, y Oleg Artamonov (OA), director t√©cnico de Unwired Devices. <br><br>  Entonces vamos.  Se conservan la estil√≠stica, la ortograf√≠a y la puntuaci√≥n de los autores. <br><a name="habracut"></a><br><blockquote>  Una caracter√≠stica del protocolo es el uso de modulaci√≥n de banda ultra estrecha (el ancho del espectro de emisi√≥n es inferior a 1 kHz), que permite lograr una alta relaci√≥n se√±al / ruido (con restricciones en la potencia radiada en el rango sin licencia), lo que significa transmitir datos a largas distancias o a trav√©s de m√∫ltiples obst√°culos (paredes de concreto, particiones gabinetes de metal). </blockquote>  <b>OA: el</b> primer error de los autores del est√°ndar es que inicialmente asumen una alta SNR (relaci√≥n se√±al / ruido) como el requisito principal para las se√±ales en los sistemas LPWAN, y a partir de estos errores continuar√° creciendo en el dise√±o e implementaci√≥n del protocolo en s√≠, como elegir pre√°mbulos, por ejemplo. <br><br>  En realidad, la capacidad principal de los protocolos inal√°mbricos LPWAN, que proporciona su "rango", es la capacidad de recibir una se√±al con una SNR <i>baja</i> , hasta una negativa, es decir  casos en los que el nivel de se√±al es inferior al nivel de ruido. <br><br>  Adem√°s, los autores del est√°ndar no est√°n bien familiarizados con los principios b√°sicos de la teor√≠a de la transmisi√≥n de se√±ales, y espec√≠ficamente con el l√≠mite de Shannon en la velocidad de transferencia de datos en el canal en presencia de ruido.  Esta velocidad est√° determinada por el valor de SNR <i>y el</i> ancho del espectro de la se√±al; de hecho, uno es compensado por el otro.  Por lo tanto, para transmitir datos en sistemas LPWAN a largas distancias, se utilizan con bastante √©xito se√±ales de banda estrecha y de banda ancha (por ejemplo, en la banda LoRaWAN - 125 kHz), cada uno de los m√©todos tiene sus propias ventajas y desventajas. <br><blockquote>  Esto es posible debido al hecho de que los dispositivos de abonado transmiten datos sin establecer una conexi√≥n con la estaci√≥n base (modo simplex), como por ejemplo, esto se hace en redes celulares m√≥viles. </blockquote>  <b>OA:</b> adem√°s de los errores estil√≠sticos y de puntuaci√≥n, observo el uso inaceptable y descuidado de la terminolog√≠a.  El modo simplex, es decir, la transmisi√≥n de mensajes a trav√©s del canal de comunicaci√≥n solo en una direcci√≥n, no est√° directamente relacionado con la necesidad de establecer una conexi√≥n, y ciertamente no son sin√≥nimos.  El mismo LoRaWAN proporciona comunicaci√≥n bidireccional en modo semid√∫plex, pero tampoco requiere conexi√≥n previa con el BS. <br><br>  Probablemente, los autores ten√≠an en mente la ausencia de un modo de operaci√≥n de sesi√≥n en OpenUNB, pero esta es una caracter√≠stica de todos los protocolos LPWAN. <br><blockquote>  Para simplificar y reducir el costo del dise√±o del transceptor, la transmisi√≥n y la recepci√≥n se separan en el tiempo, es decir, los datos se intercambian desde la estaci√≥n base ya sea en modo simplex (transmisi√≥n desde la unidad de abonado a la estaci√≥n base) o en modo semid√∫plex (transmisi√≥n desde la unidad de abonado a la estaci√≥n base y la posterior recepci√≥n en el dispositivo suscriptor desde la estaci√≥n base). </blockquote>  <b>OA:</b> y, literalmente, media p√°gina m√°s tarde, ¬°resulta que tambi√©n hay modo semid√∫plex en OpenUNB!  En general, quiero se√±alar que existen muchas contradicciones internas en el proyecto de norma. <br><blockquote>  El orden de bytes en el paquete es del m√°s antiguo al m√°s joven (big-endian) </blockquote>  <b>OA:</b> big-endian es un tipo de arquitectura de computadora con un orden de bytes espec√≠fico en un n√∫mero multibyte.  En un paquete, el orden de los bytes es siempre el mismo, desde el primero hasta el √∫ltimo.  Repito: para un proyecto de norma nacional, un uso tan descuidado de la terminolog√≠a establecida es inaceptable. <br><blockquote>  Los paquetes pueden ser de diferentes longitudes dependiendo del tama√±o de la carga √∫til.  Opciones de longitud de carga √∫til: 0, 64 o 128 bits.  Un mensaje con carga √∫til cero puede usarse como una se√±al regular de que el dispositivo est√° funcionando (latido).  Las longitudes de paquetes de 64 y 128 bits est√°n determinadas por el tama√±o de los bloques de cifrado de los algoritmos de cifrado. </blockquote>  <b>AS:</b> Los desarrolladores han limitado la longitud de la carga √∫til a 0, 64 o 128 bits, lo que justifica esto con la conveniencia del cifrado.  Esta es una limitaci√≥n completamente artificial.  A veces necesita enviar mensajes muy cortos, pero debe usar 64 bits.  ¬°De qu√© eficiencia energ√©tica podemos hablar despu√©s de eso!  C√≥mo encriptar mensajes cortos con claves largas se puede leer, por ejemplo, en el protocolo LoRaWAN. <br><br>  <b>OA:</b> s√≠, en el mismo LoRaWAN se usa regularmente el esquema de encriptaci√≥n AES-CTR, que permite encriptar parcelas de cualquier longitud, incluyendo  Menos longitud de la clave. <br><blockquote>  Para lograr un alto rango de transmisi√≥n en el rango sin licencia, se requiere una alta relaci√≥n se√±al / ruido.  Se logra debido al ancho de banda de transmisi√≥n ultra peque√±o (del orden de 100 Hz). </blockquote>  <b>AS:</b> en el borrador del est√°ndar no hay ni una sola opini√≥n sobre el ancho de banda: es "menos de 1 kHz", luego "del orden de 100 Hz".  ¬øNo fue posible llegar a una sola declaraci√≥n en el est√°ndar? .. <br><br>  <b>OA:</b> y nuevamente sobre la necesidad de una alta SNR.  No no  LPWAN tambi√©n es LPWAN para funcionar incluso con una SNR negativa. <br><br><blockquote>  Algunos transceptores pueden cambiar sus propiedades con bastante fuerza al comienzo de una transmisi√≥n.  Esto puede afectar la frecuencia y la longitud de la se√±al modulada de los primeros bits del paquete.  Para compensar este factor, se recomienda emitir una se√±al a una frecuencia de paquete de una duraci√≥n igual a una duraci√≥n de transmisi√≥n de 1-2 bits antes de comenzar la transmisi√≥n del pre√°mbulo (Figura 2).  [...] Al final de la transmisi√≥n, despu√©s de la suma de comprobaci√≥n, tambi√©n debe estudiar 1 bit m√°s y reducir gradualmente la amplitud de la se√±al, lo que aumentar√° la probabilidad de la recepci√≥n correcta del √∫ltimo bit. </blockquote><br><br>  <b>AS: La</b> informaci√≥n y el dibujo se toman de la descripci√≥n t√©cnica de SigFox y est√°n relacionados con algunas caracter√≠sticas de la descripci√≥n de SigFox.  El receptor arregla los bits no en el momento del cambio de fase, sino antes y despu√©s.  No debe copiar sin pensar las caracter√≠sticas y errores de descripci√≥n de otras personas. <br><blockquote>  Valor de pre√°mbulo recomendado para el paquete de enlace ascendente: 101010101010101010 <sub>2</sub> .  A discreci√≥n de los desarrolladores, los valores de pre√°mbulo para toda la red pueden cambiarse.  Por ejemplo, esto se puede usar para crear varias redes en un territorio, cuya recepci√≥n de una u otra estaci√≥n base se dividir√° en funci√≥n de varios pre√°mbulos. </blockquote>  <b>AS:</b> Breve explicaci√≥n.  Los receptores de se√±al UNB funcionan al nivel del ruido del aire.  Como regla general, se utilizan receptores de conversi√≥n directa, despu√©s de lo cual se realizan FFT.  Si la se√±al tiene modulaci√≥n de fase, observe el cambio de fase para cada canal de frecuencia.  Si se encuentra una secuencia digital correspondiente al pre√°mbulo en cualquier canal, entonces se toma una decisi√≥n sobre la presencia de una se√±al √∫til.  Al mismo tiempo, en cada correlacionador despu√©s de la FFT, una secuencia aleatoria de ceros y unos va constantemente del ruido del √©ter; esto significa que siempre existe la posibilidad de obtener un pre√°mbulo del ruido del √©ter.  Ahora veamos con qu√© frecuencia aparecer√°n pre√°mbulos falsos de 16 bits, por ejemplo, en el receptor, cuyo uso es declarado por Vaviot, los autores de un "proyecto de norma nacional" similar.  La banda de recepci√≥n declarada por ellos es de 200 kHz con un paso FFT de 7 Hz, lo que significa que se necesitan m√°s de 28 mil correlacionadores.  Para un impacto exacto en una longitud de 10 ms (velocidad de transmisi√≥n de 100 bps), los correlacionadores comienzan cada 2,5 ms.  En total, se deben verificar 11 millones de correlatos cada segundo para detectar la posible presencia de un pre√°mbulo, y se <i>emitir√° un promedio de 178 pre√°mbulos falsos</i> del ruido del √©ter <i>cada segundo</i> .  Cada pre√°mbulo falso debe ser procesado y, al mismo tiempo, no perder la recepci√≥n de los pre√°mbulos verdaderos.  Esta es una tarea excesivamente redundante para un procesador BS, que ya funciona hasta el l√≠mite. <br><br>  Para todos los fabricantes de sistemas UNB que conozco, <i>el pre√°mbulo tiene una longitud de 32 bits</i> y fue elegido no por casualidad, sino como resultado de c√°lculos y experimentos. <br><br>  Adem√°s, el prop√≥sito del pre√°mbulo no es solo extraer una se√±al √∫til del flujo de ruido, sino tambi√©n proporcionar sincronizaci√≥n.  <i>En los sistemas UNB, se utilizan secuencias M especiales de bits con una funci√≥n de autocorrelaci√≥n pronunciada como pre√°mbulo</i> .  Por ejemplo, si antes de la secuencia que proponen los autores (10101010101010101 <sub>2</sub> ), <sub>se</sub> recibe accidentalmente otro par 10 <sub>2</sub> del ruido, entonces el receptor determinar√° el comienzo de la informaci√≥n √∫til dos bits antes y no podr√° recibir el paquete. <br><br>  Algunos sistemas usan pre√°mbulos regulares, pero despu√©s de ellos siempre viene la sincronizaci√≥n de palabras, que no est√° prevista en este protocolo.  Por las mismas razones, es incorrecto utilizar el identificador del dispositivo como pre√°mbulo para el enlace descendente, seg√∫n lo dispuesto por este protocolo. <br><br>  <b>OA: los</b> autores del proyecto de norma se resumen claramente en la idea de una "alta relaci√≥n se√±al / ruido" que est√° profundamente arraigada en sus cabezas, que ya han enfatizado varias veces.  S√≠, durante los experimentos en el laboratorio, la SNR es alta, y el receptor puede funcionar en el modo "Veo la se√±al: recibo la se√±al" (y muchos productos baratos vendidos en Aliexpress funcionan con √©xito en este modo, proporcionando un rango de comunicaci√≥n de varios cientos de metros). <br><br>  En cualquier condici√≥n real, y a√∫n m√°s a distancias declaradas de 50 km, el pre√°mbulo propuesto simplemente morir√° en ruido: un bit malo o ruido aleatorio frente a √©l ser√° suficiente para evitar que el receptor reconozca el paquete. <br><br>  <b>AS:</b> Sin elementos de codificaci√≥n a prueba de ruido, es imposible obtener comunicaciones de alta calidad en las condiciones de ruido diario del aire, especialmente en el rango de frecuencia sin licencia, este es un "cl√°sico del g√©nero".  Cualquier interferencia de pulso corto en el canal, noqueando solo un bit en toda la secuencia, y el receptor no aceptar√° nada. <br><blockquote>  La identificaci√≥n del remitente es una secuencia √∫nica de 32 bits asignada a un dispositivo durante su producci√≥n.  En el Ap√©ndice E se proporciona informaci√≥n adicional sobre los identificadores: Formato para escribir identificadores, unidades de abonado, c√°lculo de informaci√≥n de control y rangos reservados de identificadores. </blockquote>  <b>OA:</b> el est√°ndar, que afirma ser la base de un sistema unificado de transferencia de datos en los sistemas de contabilidad de recursos, no describe las reglas por las cuales los fabricantes eligen identificadores por s√≠ mismos; ni siquiera se indica que tales reglas existan alguna vez.  ¬øA qu√© conducir√°?  As√≠ es, para un mont√≥n de dispositivos de diferentes fabricantes, pero con los mismos identificadores, porque cada segundo fabricante simplemente numerar√° los dispositivos desde cero. <br><blockquote>  La informaci√≥n de servicio consta de 8 bits, con los 6 bits m√°s a la izquierda reservados para uso futuro.  Se reservan 2 bits para el n√∫mero de paquete en el mensaje. </blockquote>  <b>OA: una cantidad</b> muy extra√±a y muy modesta de informaci√≥n general.  Se podr√≠a especificar el n√∫mero de paquete de extremo a extremo, el tipo de cifrado, el tama√±o del paquete y mucho m√°s.  No est√° claro por qu√© incluso necesitamos un n√∫mero de paquete "local" en el mensaje. Digamos que recibimos el paquete n√∫mero 0 y luego el n√∫mero 1. ¬øDeber√≠amos descartar el segundo?  Y si este es el paquete n√∫mero 1 del siguiente mensaje, ¬ødesde el cual perdimos el n√∫mero 0 en el aire?  Y si no podemos descartar paquetes sobre esta base, ¬øc√≥mo resolvemos el problema con el hecho de que el dispositivo puede transmitir 4 paquetes id√©nticos seguidos? ¬øAceptamos y tomamos en cuenta todos, recibiendo m√∫ltiples cargas √∫tiles duplicadas en la salida? <br><br>  <b>AS:</b> Por lo general, un pre√°mbulo sigue un encabezado que indica la longitud del paquete; este no es el caso en este protocolo.  ¬øC√≥mo entiende el receptor cu√°ntos bits marcar?  Puede, por supuesto, verificar todas las longitudes posibles utilizando CRC, pero nadie lo hace, es demasiado costoso desde el punto de vista del hardware del receptor. <br><blockquote>  La suma de verificaci√≥n del paquete se calcula con base en el algoritmo del Ap√©ndice B: C√°lculo de la suma de verificaci√≥n del paquete. </blockquote>  <b>OA:</b> para ser honesto, solo estoy parado con la boca abierta.  No, <i>generalmente no se proporciona</i> protecci√≥n contra ataques t√≠picos en el protocolo.  Con la seguridad declarada del protocolo, el uso de cifrados fuertes, y otros, y otros, cualquiera puede atrapar el paquete de otra persona, cambiar los campos en √©l, sustituir la carga de otro paquete, recalcular la suma de verificaci√≥n y transmitirla, y la estaci√≥n base lo aceptar√°. y de ninguna manera puede distinguir un paquete falso de un paquete "nativo". <br><br>  <b>AS: los</b> desarrolladores protegen la informaci√≥n √∫til con cifrado, ¬°pero esto claramente no es suficiente!  Los desarrolladores afirman que est√°n familiarizados con los protocolos LoRaWAN y NB-FI, si ese fuera el caso, entender√≠an por qu√© se requiere protecci√≥n contra repeticiones y por qu√© se necesita un inserto de imitaci√≥n adicional en el paquete.  Por ejemplo, un paquete con una carga √∫til de 0 bits es absolutamente inseguro, no hay problema para escribirlo desde el aire y repetirlo, y el sistema lo entender√° como propio.  Tampoco es dif√≠cil para un atacante enviar basura al sistema o repetir en nombre de cualquier sensor en paquetes con una longitud distinta de cero. <br><br>  El est√°ndar a priori ya se ha convertido en protocolos de seguridad de la informaci√≥n en LoRaWAN, que justifica el uso de dos claves de seguridad, para la red y para el usuario, as√≠ como la capacidad de generar claves de sesi√≥n a trav√©s del aire, los desarrolladores de protocolos aparentemente ni siquiera pensaron en ello. <br><blockquote>  Las claves de cifrado deben almacenarse en el dispositivo del suscriptor y en los servidores de red en un almacenamiento seguro.  Para cifrar los paquetes de enlace ascendente y enlace descendente, se deben utilizar diferentes claves de cifrado.  Para cada dispositivo, el conjunto de claves de cifrado debe ser √∫nico. </blockquote>  <b>OA:</b> por un lado, los desarrolladores de OpenUNB se atribuyen a s√≠ mismos "tama√±os de campo seleccionados en m√∫ltiplos de 8 bits, para un procesamiento m√°s eficiente en microprocesadores" (ortograf√≠a del autor), por otro lado, parece que simplemente no conocen una t√©cnica de optimizaci√≥n sim√©trica tan efectiva cifrado, como la capacidad de mantener el dispositivo final en lugar de dos procedimientos, cifrado y descifrado, solo uno, lo que reduce el tama√±o del firmware en los microcontroladores.  Al menos en el proyecto de norma no se menciona. <br><br>  <b>AS: ¬°</b> pero realmente lograron recoger los tama√±os de los campos en m√∫ltiplos de 8 bits! <br><blockquote>  Enviar un mensaje desde un canal descendente solo es posible en respuesta a un mensaje de un canal ascendente.  Hay varias razones para esto.  En primer lugar, el protocolo est√° especializado para dispositivos de suscriptor que no tienen alimentaci√≥n externa y est√°n dise√±ados para una vida √∫til de la bater√≠a extra larga, lo que significa que el consumo de energ√≠a juega un papel clave.  Dado que el consumo del transmisor en el modo de recepci√≥n es bastante alto, debe cambiar a este modo solo por un corto per√≠odo de tiempo </blockquote>  <b>OA: No</b> entiendo muy bien por qu√© limitar conscientemente el alcance del est√°ndar, adem√°s, hazlo m√°s de lo que se indica en la introducci√≥n del mismo est√°ndar.  ¬øUn medidor el√©ctrico dom√©stico normal tiene energ√≠a externa?  Tiene.  ¬øQu√© le impide mantener el "transmisor en modo de recepci√≥n" encendido todo el tiempo?  Nada <br><blockquote>  En segundo lugar, no es posible seleccionar un intervalo de tiempo espec√≠fico en un dispositivo suscriptor, ya que para reducir el costo de los dispositivos suscriptores, a menudo est√°n equipados con osciladores de cristal inestables y no tienen un reloj en tiempo real. </blockquote>  <b>OA:</b> Esto, por supuesto, no es as√≠.  En primer lugar, mirando hacia adelante dos p√°rrafos, los autores ya tienen una gran ventana de recepci√≥n: 8 segundos (en el mismo LoRaWAN, las ventanas de recepci√≥n tienen un tama√±o de 1-2 segundos).  En segundo lugar, es suficiente calcular con qu√© frecuencia el dispositivo debe sincronizar el reloj con la estaci√≥n base (y proporcionar un m√©todo para dicha sincronizaci√≥n) para que el problema de la inestabilidad del cuarzo no sea un problema.  En LoraWAN, esto se hace en dispositivos de Clase B. <br><blockquote>  En tercer lugar, la baja estabilidad de los osciladores de cristal en los dispositivos de abonado requiere el uso del algoritmo de ajuste de frecuencia descrito en el Ap√©ndice D: Ajuste de la frecuencia de transmisi√≥n del enlace descendente.  Pero, dado que el √∫ltimo mensaje del canal ascendente se usa para calcular la deriva de frecuencia, y la frecuencia del oscilador de cristal puede cambiar en el tiempo (por ejemplo, cuando cambia la temperatura), el tiempo entre el √∫ltimo mensaje ascendente y el descendente debe ser lo suficientemente peque√±o como para cambiar la desviaci√≥n de frecuencia en el abonado dispositivo durante este per√≠odo fue insignificante. </blockquote>  <b>AS:</b> A juzgar por los detalles de la descripci√≥n, los desarrolladores del protocolo OpenUNB consideran que su soluci√≥n al problema de la sincronizaci√≥n del canal descendente en frecuencia es su logro m√°s importante. <br><br>  El m√©todo de c√°lculo en s√≠ es bastante aceptable, pero hay varios problemas: <br><br><ul><li>         ,     ,    . </li><li>        . </li><li>      ,     7  50 ,   7      . </li><li>         ,        . </li><li>              . </li><li>           ,            ,     . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Realizamos los estudios apropiados y no pudimos obtener, en condiciones reales, una precisi√≥n de impacto en el rango de 868 MHz por encima de ¬± 150 Hz. Para recibir una se√±al BPSK de 100 Hz, se requiere una precisi√≥n de al menos 30 Hz. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SigFox opera en el canal de retorno con una modulaci√≥n de frecuencia de 600 Hz. Creo que la organizaci√≥n m√°xima posible del canal de retorno es 2GFSK con una desviaci√≥n de 300 Hz y un aumento de la potencia de la se√±al aguas abajo a 100 mW.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adem√°s, los sistemas UNB con modulaci√≥n de fase de la se√±al no funcionan muy bien en los objetos en movimiento de todos modos debido a un aumento en el ruido de fase durante la propagaci√≥n de la se√±al multitrayecto. El m√©todo propuesto para determinar la frecuencia de la se√±al descendente en presencia de polarizaci√≥n Doppler dar√° un error adicional al determinar la frecuencia portadora del canal de enlace ascendente, lo que conducir√° a un error adicional al determinar la frecuencia descendente. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quiz√°s los autores del protocolo tienen otros datos, confirmados no "sobre la mesa", pero en condiciones reales, me gustar√≠a ver los informes de las pruebas. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OA:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agrego que incluso una desviaci√≥n de 30 Hz con una banda de 100 Hz no es la recepci√≥n ideal, sino alrededor del 10% de los errores de bits (en los sistemas LPWAN esto se lleva tradicionalmente al extranjero, en el que la calidad de recepci√≥n a√∫n puede considerarse aceptable). Dada la falta de codificaci√≥n de ruido en OpenUNB, la probabilidad de que un mensaje del orden de un par de cientos de bits capte al menos un error con una BER del 10% es muy alta, es decir, espec√≠ficamente en OpenUNB, estimar√≠a la desviaci√≥n de frecuencia permitida, en lo que de alguna otra manera a veces se tomar√°, al 5% como m√°ximo. En </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">treinta veces</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mejor de lo que es posible obtener en la realidad. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En resumen, existen serias dudas de que el m√©todo de organizaci√≥n de un canal de comunicaci√≥n inversa descrito en el borrador del est√°ndar sea generalmente operativo en principio.</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La duraci√≥n del intervalo de tiempo T </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dl</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se selecciona para que sea varias veces la duraci√≥n de la transmisi√≥n de un enlace descendente de paquete. </font><font style="vertical-align: inherit;">Tal aumento en el tama√±o de la ventana de tiempo es necesario, ya que generalmente hay muchos dispositivos por estaci√≥n, lo que puede llevar a la necesidad de enviar un paquete de enlace descendente a varios dispositivos al mismo tiempo.</font></font></blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OA:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cada magia tiene un precio, como dijo el h√©roe de una serie. </font><font style="vertical-align: inherit;">En el caso de la planificaci√≥n de la red de radio, este precio debe calcularse, o bien los autores del borrador del est√°ndar no encontraron tiempo para tales c√°lculos (¬øpero tal vez no vali√≥ la pena apresurarse a publicar el proyecto?), O no adivinaron en absoluto para hacerlos.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En este caso, como los mismos autores se√±alaron correctamente anteriormente, el funcionamiento del receptor es un procedimiento que consume bastante energ√≠a. En un caso, obtenemos 8 segundos de operaci√≥n inactiva, en el otro (cuando la ranura de recepci√≥n se reduce a 1-2 segundos): la posibilidad de que la estaci√≥n base no responda (no ten√≠a tiempo para la ranura de tiempo establecida) y la necesidad de reiniciar los mensajes desde el receptor. Era necesario estimar al menos aproximadamente la carga del √©ter y el consumo de energ√≠a en ambos casos, dependiendo de la intensidad del intercambio de radio en la red, y tambi√©n proporcionar una forma expl√≠citamente descrita para confirmar que el receptor recibi√≥ mensajes de la estaci√≥n base. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finalmente, del texto del est√°ndar no queda claro si toda la premisa aguas abajo debe caer en T </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dl</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- o el destinatario, habiendo captado el pre√°mbulo y su direcci√≥n, extender√° la ventana de recepci√≥n hasta el tiempo suficiente para recibir el paquete completo. </font><font style="vertical-align: inherit;">Como regla, en los sistemas LPWAN siguen la segunda ruta, esto nuevamente permite reducir la duraci√≥n requerida de la ventana de recepci√≥n.</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En caso de que el dispositivo suscriptor reciba con √©xito el mensaje del canal descendente, en respuesta env√≠a un mensaje sobre la recepci√≥n exitosa en el enlace ascendente. </font><font style="vertical-align: inherit;">Los datos del usuario de los cuales deben contener una indicaci√≥n del mensaje confirmado. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[...] Un mensaje con carga √∫til cero puede usarse como confirmaci√≥n de que la estaci√≥n base ha recibido datos de una unidad de abonado (acuse de recibo).</font></font></blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OA:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hola de nuevo, seguridad! Como confirmaci√≥n de entrega, se propone enviar un paquete criptogr√°ficamente desprotegido desde la estaci√≥n base, que cualquiera puede falsificar en medio minuto. Sin mencionar lo que intenta comprender de estos dos p√°rrafos: ¬øel dispositivo debe enviar un mensaje sobre su recepci√≥n exitosa al ACK? Del texto literal del borrador del est√°ndar resulta que deber√≠a. ACK a ACK. Pero, al menos, no se dice en ninguna parte que la estaci√≥n base deber√≠a responder ACK por ACK en ACK, o m√°s bien, el borrador del est√°ndar no dice en ninguna parte c√≥mo la BS debe entender si debe reconocer el paquete o no. Esta no es una propiedad del paquete (aunque con 6 bits vac√≠os en su encabezado, uno podr√≠a asignarse al indicador de confirmaci√≥n de entrega).</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øY qu√© significa "debe contener una indicaci√≥n de un mensaje confirmado"? </font><font style="vertical-align: inherit;">¬øC√≥mo se puede se√±alar un mensaje espec√≠fico en un sistema en el que no se proporciona un etiquetado individual de mensajes por un protocolo?</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El est√°ndar OpenUNB requiere una cantidad m√≠nima de energ√≠a para enviar un bit de informaci√≥n. </font><font style="vertical-align: inherit;">Seg√∫n los resultados de las pruebas preliminares, ahora es uno de los protocolos m√°s ahorradores de energ√≠a.</font></font></blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AS: Una</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> declaraci√≥n controvertida y sin confirmar. </font><font style="vertical-align: inherit;">El protocolo contiene al menos algunos elementos que indican su baja eficiencia energ√©tica:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Una suma de verificaci√≥n excesivamente larga de 32 bits, aunque todos los fabricantes de dichos sistemas cuestan CRC 16 bits. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La restricci√≥n en la longitud de la informaci√≥n es estrictamente de 64 o 128 bits. </font><font style="vertical-align: inherit;">Si necesita enviar un mensaje corto de varios bits (por ejemplo, desde cualquier sensor binario - 1 bit), deber√° transmitir unos pocos bytes adicionales cada vez, ¬øcu√°l es la eficiencia aqu√≠?</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La necesidad declarada de duplicar la transmisi√≥n de un mensaje hasta cuatro veces, lo que cambia de inmediato los par√°metros de energ√≠a en 4 veces. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Una larga ventana de 8 segundos para recibir paquetes descendentes. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Me gustar√≠a mucho ver los informes de prueba, hay ciertas dudas de que incluso existan. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OA:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s√≠, es dif√≠cil entender d√≥nde estaba Skoltech con tanta prisa que ni siquiera pod√≠a compartir informes de prueba y otra informaci√≥n que lo acompa√±ara para evaluar con qu√© se puede contar con el rendimiento real de OpenUNB.</font></font><br><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenUNB es un est√°ndar abierto universal, absolutamente listo para su uso pr√°ctico. </font></font></blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AS:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> El texto del est√°ndar es crudo, contiene descripciones fragmentarias, incompletas e inexactas de elementos perforados individuales; su uso en la pr√°ctica es imposible. </font><font style="vertical-align: inherit;">No hay nada acerca de los detalles del elemento clave de los sistemas UNB: el receptor de la estaci√≥n base. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OA:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En general, tengo la sensaci√≥n de un buen curso de tercer a√±o escrito en una o dos semanas. </font><font style="vertical-align: inherit;">Bien hecho, asist√≠ a todas las conferencias, incluso entend√≠ 70-80 por ciento, hay cero experiencia real, pero al menos hay un tema para una discusi√≥n fruct√≠fera con el maestro al aprobar el examen. </font><font style="vertical-align: inherit;">Antes de la aplicaci√≥n pr√°ctica, no es como antes de la luna: para la aplicaci√≥n pr√°ctica en LPWAN, todo este proyecto tendr√° que desecharse y reescribirse.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/464103/">https://habr.com/ru/post/464103/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../464091/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 311 (del 12 al 18 de agosto)</a></li>
<li><a href="../464093/index.html">Productos digitales: ¬øqu√© hacer si un cliente viene a recoger una compra en un a√±o?</a></li>
<li><a href="../464095/index.html">Getters y Setters en Dart and Flutter</a></li>
<li><a href="../464097/index.html">La evoluci√≥n de la inteligencia: por qu√© los robots necesitan emociones</a></li>
<li><a href="../464099/index.html">An√°lisis del lenguaje VKScript: JavaScript, ¬øy t√∫?</a></li>
<li><a href="../464105/index.html">Servidor Commento nativo con Docker Compose</a></li>
<li><a href="../464107/index.html">Eventos digitales en Mosc√∫ del 19 al 25 de agosto.</a></li>
<li><a href="../464109/index.html">Paraca√≠das supers√≥nicos espaciales</a></li>
<li><a href="../464111/index.html">Natas Web. Paso de la plataforma CTF destinada a explotar vulnerabilidades web</a></li>
<li><a href="../464113/index.html">"CAD para todos, gratis, y no dejes que nadie vaya ..." o los primeros pasos en la programaci√≥n de FreeCAD en Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>