<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üÜì üòà üö® node.js serverside - fonctionne sur les bugs. Partie 1 ü§≥üèΩ ü§¶üèæ ü§ôüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bon apr√®s-midi 

 Cet article s'adresse aux d√©veloppeurs familiers avec node.js. 

 R√©cemment, je pr√©parais du mat√©riel sur des faits qui sont utiles ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>node.js serverside - fonctionne sur les bugs. Partie 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430972/">  Bon apr√®s-midi <br><br>  Cet article s'adresse aux d√©veloppeurs familiers avec node.js. <br><br>  R√©cemment, je pr√©parais du mat√©riel sur des faits qui sont utiles √† conna√Ætre pour les d√©veloppeurs sous node.js dans notre bureau.  Les projets sur lesquels nous travaillons sont des services d'API qui utilisent le module express node.js comme serveur Web.  Le mat√©riel est bas√© sur des cas r√©els dans lesquels le code a fonctionn√© de mani√®re incorrecte ou la logique qu'il contient a √©t√© soigneusement cach√©e, ou il a provoqu√© des erreurs lors de l'expansion.  Sur la base de ce mat√©riel, un atelier de d√©veloppement du personnel a √©t√© organis√©. <br><br>  J'ai donc d√©cid√© de partager.  Jusqu'√† pr√©sent, seule la premi√®re partie repr√©sente environ 30%.  Si vous √™tes int√©ress√©, sera poursuivi! <br><br>  J'ai essay√© de fournir une opportunit√© de familiarisation rapide, alors j'ai cach√© les exemples, le raisonnement et les commentaires dans les spoilers.  Si les d√©clarations sont √©videntes, vous pouvez sauter ¬´l'eau¬ª.  Bien que notre "r√¢teau" dans les spoilers puisse aussi √™tre int√©ressant. <br><br>  Un coll√®gue au cours du s√©minaire m'a pos√© une question, pourquoi en parler, si tout est d√©j√† dans telle ou telle documentation.  Ma r√©ponse √©tait la suivante.  Malgr√© le fait que le message soit vrai, tout est vraiment dans la documentation, nous faisons toujours des erreurs g√™nantes li√©es √† des malentendus ou √† l'ignorance des choses de base. <br><br>  Commen√ßons! <br><br><h1>  Machine virtuelle Node.js </h1><br><br><h2>  Filetage simple </h2><br><br>  Contrairement √† javavm, nodejs-vm est monothread <sup>**</sup> . <br><br><img src="https://habrastorage.org/webt/vu/am/qu/vuamqumjnxczyrhnjiirjuvbjya.png"><br><br>  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Source</a></sup> <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">plus de d√©tails</b> <div class="spoiler_text">  Dans le m√™me temps, il existe un pool de threads auxiliaires qui sont utilis√©s par la machine virtuelle elle-m√™me, par exemple, pour organiser les E / S.  Mais tout le code utilisateur est ex√©cut√© dans un seul thread, "principal". <br><br>  Cela simplifie grandement la vie, car il n'y a pas de concurrence.  L'ex√©cution du code ne peut pas √™tre interrompue dans un endroit arbitraire et poursuivie dans un autre.  Le code est simplement ex√©cut√© jusqu'√† ce qu'il soit n√©cessaire d'attendre quelque chose, par exemple, la pr√©paration des donn√©es lors de la lecture d'un fichier.  En attendant, un autre gestionnaire peut √™tre ex√©cut√©, jusqu'√† ce qu'il finisse de fonctionner, ou jusqu'√† ce qu'il commence √©galement √† attendre quelque chose. <br><br>  Autrement dit, s'il existe une structure de donn√©es interne, vous n'avez pas √† vous soucier de la synchronisation de l'acc√®s √† celle-ci! <br><br>  Que faire si le thread "principal" n'a pas le temps de traiter les donn√©es? <br></div></div><br>  La mise √† l'√©chelle se fait en d√©marrant un autre processus node.js ou, si les ressources du serveur arrivent √† leur fin, en d√©marrant un autre serveur. <br><br><div class="spoiler">  <b class="spoiler_title">cons√©quences et notre "rake"</b> <div class="spoiler_text">  Ici aussi, tout est clair.  Vous devez toujours √™tre pr√©par√© au fait qu'il peut y avoir (et tr√®s probablement) plus d'un processus node.js.  Et parfois, il peut √©galement y avoir plusieurs serveurs. <br><br><h3>  Le "r√¢teau" qui √©tait <s>cach√© se</s> trouve dans notre code </h3><br><blockquote>  Les lignes parall√®les se coupent √† l'infini.  C'est impossible √† prouver, mais j'ai vu. <br>  Jean Effel, "Le roman d'Adam et Eve." <br></blockquote>  Une tentative a √©t√© faite pour garantir l'unicit√© des instances d'entit√© dans la base de donn√©es exclusivement par l'application.  En g√©n√©ral, cela et ind√©pendamment du contexte ne semble <s>pas</s> tr√®s <s>mal</s> , mais dans cette situation encore plus.  Sans engager un service tiers, cette t√¢che ne me semble pas avoir de solution. <br><br>  Le coll√®gue qui √©tait engag√© dans ce projet voulait vraiment mettre en ≈ìuvre cela sans impliquer la base de donn√©es r√©elle.  Au final, apr√®s quelques "approches du projectile", il s'est r√©alis√© ... en impliquant SharePoint. <br></div></div><br><br><h2>  <sup>**</sup> Multithreading ou "si vous voulez vraiment" </h2><br><br>  √Ä partir de la version 10.5.0, node.js a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un support exp√©rimental pour le multithreading</a> . <br><br><img src="https://habrastorage.org/webt/nx/lh/hk/nxlhhksvxbtchfb6wloktxildqu.png"><br>  <sup><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Source</a></sup> <br><br><div class="spoiler">  <b class="spoiler_title">Mais le paradigme reste le m√™me</b> <div class="spoiler_text"><ul><li>  Chaque nouveau workflow cr√©e sa propre instance isol√©e de l'environnement de la machine virtuelle node.js. </li><li>  Les flux de travail manquent de donn√©es mutables communes.  (Il y a quelques r√©serves, mais en gros, la d√©claration est juste.) </li><li>  La communication se fait √† l'aide de messages et de SharedArrayBuffer. </li></ul><br>  Par cons√©quent, l'ancien code continuera de fonctionner lors de l'utilisation des workflows. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lisez plus ici.</a> <br></div></div><br><br><h2>  Cycle de vie de l'application </h2><br><br>  Le c≈ìur de nodejs-vm est la boucle d'√©v√©nements.  Lorsque l'ex√©cution du code doit √™tre suspendue ou que le code semble avoir pris fin, le contr√¥le lui passe. <br><br><div class="spoiler">  <b class="spoiler_title">Texte masqu√©</b> <div class="spoiler_text">  La boucle d'√©v√©nements v√©rifie si (oh) les √©v√©nements pour lesquels nous avons enregistr√© les gestionnaires se sont produits.  Si quelque chose se produit, les gestionnaires seront appel√©s.  Sinon, il sera v√©rifi√© s'il existe des "g√©n√©rateurs" d'√©v√©nements pour lesquels nous avons enregistr√© des gestionnaires.  Une connexion TCP ouverte ou un minuteur peuvent √™tre de tels g√©n√©rateurs.  S'ils sont introuvables, le programme se ferme.  Sinon, l'un de ces √©v√©nements est attendu, des gestionnaires sont appel√©s et tout se r√©p√®te. <br><br>  La cons√©quence de ce comportement est le fait que lorsque le code semble √™tre termin√©, la sortie de nodejs-vm ne se produit pas, par exemple, car nous avons enregistr√© un gestionnaire de temporisation, qui devrait √™tre appel√© apr√®s un certain temps. <br><br>  Ceci est illustr√© dans l'exemple suivant. <br><br><pre><code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'registering timer callbacks'</span></span>); setTimeout( <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Timer Event 1'</span></span>); }, <span class="hljs-number"><span class="hljs-number">1000</span></span>); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Is it the end?'</span></span>);</code> </pre> <br><br>  r√©sultat: <br><pre> <code class="plaintext hljs">registering timer callbacks Is it the end? Timer Event 1</code> </pre><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Lisez plus ici.</a> <br><br><h3>  Un autre "rake" dans notre code </h3><br><br><blockquote>  Tout le monde peut g√©rer l'√âtat! </blockquote>  Le signe indiquant si l'utilisateur est un administrateur a √©t√© stock√© dans une variable globale.  Cette variable a √©t√© initialis√©e √† false au d√©but du programme.  Plus tard, lorsque l'administrateur s'est inscrit, cette variable a √©t√© d√©finie sur true. <br><br>  Par cons√©quent, si l'administrateur visitait le syst√®me, tout utilisateur ayant acc√©d√© √† cette instance du service √©tait per√ßu comme un administrateur. <br><br>  Il m'a fallu quelques efforts pour montrer √† mon coll√®gue qu'il y avait une erreur de logique.  Un coll√®gue √©tait s√ªr que pour chaque demande http, un environnement compl√®tement nouveau √©tait cr√©√©. <br></div></div><br><br><h1>  package.json - champs qui valent la peine d'√™tre remplis </h1><br><br>  package.json est le fichier de description de notre package.  Dans ce contexte, il s'agit de <i>notre</i> application et non des d√©pendances.  Les champs et explications ci-dessous expliquent pourquoi il vaut la peine de les remplir tout de m√™me. <br><br><div class="spoiler">  <b class="spoiler_title">Texte masqu√©</b> <div class="spoiler_text"><h2>  nom </h2><br>  Jusqu'√† ce que nous publions le package dans le r√©f√©rentiel, le champ peut √©galement √™tre √©valu√©.  La question est que ce champ est pratique √† utiliser pour nommer le fichier d'installation ou, par exemple, pour afficher le nom du produit sur sa page Web.  En g√©n√©ral, "comment appelez-vous un yacht, .." <br><br><h2>  version </h2><br>  L'id√©e principale est de ne pas oublier d'augmenter le num√©ro de version tout en √©tendant les fonctionnalit√©s, en corrigeant les bugs, ... Malheureusement, dans notre bureau, vous pouvez toujours trouver des produits avec la version inchang√©e 0.0.0.  Et ensuite, devinez quel type de fonctionnalit√© fonctionne pour le client ... <br><br><h2>  principal </h2><br>  Ce <a href="">champ</a> indique quel fichier sera lanc√© au d√©marrage de notre application (`npm start`).  Si le package est utilis√© comme d√©pendance, quel fichier sera import√© lors de l'utilisation de notre module par une autre application.  Le r√©pertoire courant est le r√©pertoire o√π se trouve le fichier `package.json`. <br><br>  Et aussi, si nous, par exemple, utilisons <abbr title="√©diteur de texte gratuit pour les d√©veloppeurs 'visual studio code'">vscode</abbr> , le fichier sp√©cifi√© dans ce champ sera lanc√© lorsque le d√©bogueur est appel√© ou lorsque la commande "execute" est ex√©cut√©e. <br><br>  L'extension ".js" peut √™tre omise.  C'est plut√¥t une cons√©quence de tous les cas d'utilisation possibles, donc ce n'est pas directement expliqu√© dans la documentation. <br><br><h2>  moteurs </h2><br>  Ce champ contient le tuple: {"node": <i>version</i> , "npm": <i>version</i> , ...}. <br><br>  Je connais les champs "node" et "npm".  Ils d√©terminent les versions de node.js et npm n√©cessaires au fonctionnement de notre application.  Les versions sont v√©rifi√©es en ex√©cutant la commande npm install. <br><br>  La syntaxe standard pour d√©terminer la version des packages de d√©pendances est prise en charge: sans pr√©fixe (version unique), le pr√©fixe "~" (les deux premiers chiffres de la version doivent correspondre) et le pr√©fixe "^" (seul le premier num√©ro de la version doit correspondre).  S'il y a un pr√©fixe, la version doit √™tre sup√©rieure ou √©gale √† celle sp√©cifi√©e dans ce champ.  Juste une liste de versions;  indication explicite plus, moins, ... etc.  fonctionne √©galement. <br><br>  Clause de non-responsabilit√©  "Npm install" v√©rifie les versions sp√©cifi√©es dans les "moteurs" uniquement si le mode "strict moteur" est activ√©.  Nous l'incluons pour chaque projet, en ajoutant le fichier .npmrc avec la ligne: ¬´engine-strict = true¬ª.  Il √©tait une fois, "npm install" faisait cette v√©rification par d√©faut. <br><br>  Certains conteneurs, au moins dans la documentation, √©crivent que des versions appropri√©es seront utilis√©es par d√©faut.  Dans ce cas, nous parlons d'Azure. <br><br>  Un exemple: <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"engines"</span></span>: { <span class="hljs-string"><span class="hljs-string">"node"</span></span>: <span class="hljs-string"><span class="hljs-string">"~8.11"</span></span>, <span class="hljs-comment"><span class="hljs-comment">// require node version 8.11.* starting from 8.11.0 "npm": "^6.0.1" // require npm version 6.* starting from 6.0.1 },</span></span></code> </pre><br><br><h3>  "r√¢teau" r√©gulier </h3><br><br><blockquote>  Et le roi est nu! </blockquote><br>  Il a √©t√© convenu √† plusieurs reprises avec le client que la version requise de `node.js` devrait √™tre au moins 8. Lorsque les versions initiales de l'application ont √©t√© livr√©es, tout a fonctionn√©.  ¬´Un jour¬ª apr√®s la livraison de la nouvelle version chez le client, l'application a cess√© de fonctionner.  Tout a fonctionn√© dans nos tests. <br><br>  Le probl√®me √©tait que dans cette version, nous avons commenc√© √† utiliser des fonctionnalit√©s prises en charge uniquement √† partir de la version 8 node.js.  Le champ ¬´moteurs¬ª n'√©tait pas rempli, donc personne n'avait remarqu√© auparavant que le client avait une ancienne version de node.js.  (Services Web Azure par d√©faut). <br><br><h2>  scripts </h2><br>  Le champ contient un tuple de la forme: {"script1": <i>script1</i> , "script2": <i>script2</i> , ...}. <br><br>  Il existe des scripts standard qui s'ex√©cutent dans une situation donn√©e.  Par exemple, le script "install" s'ex√©cutera apr√®s avoir ex√©cut√© "npm install".  Il est tr√®s pratique, par exemple, de v√©rifier la disponibilit√© des programmes n√©cessaires au fonctionnement de l'application.  Ou, par exemple, pour compresser tous les fichiers statiques disponibles via notre service Web afin qu'ils n'aient pas √† √™tre compress√©s √† la vol√©e. <br><br>  Dans ce cas, vous ne pouvez pas vous limiter uniquement aux noms standard.  Pour ex√©cuter un script arbitraire, vous devez ex√©cuter "npm run <i>script-name</i> ". <br><br>  Il est pratique de rassembler tous les scripts utilis√©s en un seul endroit. <br><br>  Un exemple: <br><pre> <code class="javascript hljs"> <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-string"><span class="hljs-string">"install"</span></span>: <span class="hljs-string"><span class="hljs-string">"node scripts/install-extras"</span></span>, <span class="hljs-string"><span class="hljs-string">"start"</span></span>: <span class="hljs-string"><span class="hljs-string">"node src/well/hidden/main/server extra_param_1 extra_param_2"</span></span>, <span class="hljs-string"><span class="hljs-string">"another-script"</span></span>: <span class="hljs-string"><span class="hljs-string">"node scripts/another-script"</span></span> }</code> </pre><br><br>  PS L'extension ".js" peut √™tre omise dans la plupart des cas. <br></div></div><br><br><h1>  package-lock.json - aide √† installer des versions sp√©cifiques des d√©pendances, pas les ¬´derni√®res¬ª </h1><br><br><div class="spoiler">  <b class="spoiler_title">Texte masqu√©</b> <div class="spoiler_text"><blockquote>  Git ou ne pas git? .. </blockquote><br><br>  Ce fichier est apparu dans npm relativement r√©cemment.  Son but est d'organiser la r√©p√©tabilit√© de l'assemblage. <br><br><h3>  et encore un "r√¢teau" </h3><br><blockquote>  Mais je n'ai rien chang√© √† mon programme!  Hier, elle a travaill√©! </blockquote><br><br>  Sur une machine homologue, l'application fonctionnait tr√®s bien.  Sur un autre ordinateur dans un environnement identique, dans une application plac√©e de git dans un nouveau r√©pertoire, apr√®s avoir ex√©cut√© 'npm install', 'npm start' des erreurs jusqu'ici sans pr√©c√©dent sont apparues. <br><br>  Le probl√®me √©tait d√ª au fait que le fichier 'package-lock.json' manquait dans le r√©f√©rentiel git.  Par cons√©quent, lors de l'installation des packages, toutes les d√©pendances du deuxi√®me niveau ou plus (naturellement, non √©crites dans package.json) ont √©t√© install√©es aussi fra√Æches que possible.  Sur l'ordinateur d'un coll√®gue, tout allait bien.  Un ensemble de versions incompatible a √©t√© s√©lectionn√© sur l'ordinateur test√©. <br><br><h2>  package-lock.json - pour git! </h2><br><br>  Revenant de la digression.  Le fichier 'package-lock.json' contient une liste de <i>tous les</i> modules install√©s localement pour notre application.  La pr√©sence de ce fichier vous permet de recr√©er un ensemble univoque de versions de modules. <br><br>  R√©sum√©: n'oubliez pas de mettre en git et de l'inclure dans le fichier de livraison (installation) de l'application! <br><br>  Utile: si le fichier 'package-lock.json' est manquant, mais qu'il existe un r√©pertoire 'node_modules' avec tous les modules n√©cessaires, le fichier 'package-lock.json' peut √™tre recr√©√©: <br><pre> <code class="plaintext hljs">npm shrinkwrap rename npm-shrinkwrap.json package-lock.json</code> </pre><br></div></div><br><br>  Vous pouvez y mettre fin pour l'instant.  Les informations non incluses sont la technique de simplification du code utilis√©e par notre √©quipe. <br><br>  Si des erreurs sont d√©tect√©es, je vais essayer de les corriger rapidement! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr430972/">https://habr.com/ru/post/fr430972/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr430962/index.html">Prise en charge de Razor dans Visual Studio Code</a></li>
<li><a href="../fr430964/index.html">Pens√©e d√©clarative</a></li>
<li><a href="../fr430966/index.html">Sprints g√©n√©raux chez Atlassian Jira Software</a></li>
<li><a href="../fr430968/index.html">"L'esprit est en ligne." Les drones sont partout</a></li>
<li><a href="../fr430970/index.html">Cloud personnel</a></li>
<li><a href="../fr430974/index.html">Grande visite photo du nuage de Moscou 1cloud</a></li>
<li><a href="../fr430976/index.html">Le condens√© de mat√©riaux int√©ressants pour le d√©veloppeur mobile # 276 (du 19 au 25 novembre)</a></li>
<li><a href="../fr430978/index.html">Combien de temps avez-vous consacr√© aux films?</a></li>
<li><a href="../fr430980/index.html">¬´Tout le monde veut parfois regarder le chat¬ª: nous parlons de marketing de contenu dans le podcast GLPH</a></li>
<li><a href="../fr430982/index.html">DEFCON 16. Comment puis-je vous joindre? Permettez-moi d'√©num√©rer les moyens. Partie 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>