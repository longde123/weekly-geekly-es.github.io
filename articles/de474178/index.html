<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ôåÔ∏è ü§¥üèæ üë† IVR auf Webhook üßúüèΩ üå∏ üé©</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ein Online-Chatbot ist ein aktueller Trend auf dem Markt. Aber wie kann man mit den Clients interagieren, die offline sind? Ein erheblicher Prozentsat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>IVR auf Webhook</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zadarma/blog/474178/"><img src="https://habrastorage.org/webt/6i/wc/yt/6iwcytdcaivt0kpvrob20iahmsm.png"><br><br>  Ein Online-Chatbot ist ein aktueller Trend auf dem Markt.  Aber wie kann man mit den Clients interagieren, die offline sind?  Ein erheblicher Prozentsatz der Menschen zieht es vor, √ºber das Telefon zu interagieren.  Und das Unternehmen ben√∂tigt entweder eine gro√üe Anzahl von Betreibern oder eine L√∂sung zur Automatisierung der Sprachkommunikation.  Wir bieten eine L√∂sung zur Reduzierung von Arbeitsbelastung und Kosten (und werden die Gesch√§ftigkeit Ihrer Entwickler kaum beeintr√§chtigen). <br><a name="habracut"></a><br>  Wie kann man schnell und einfach ein Sprachmen√º, einen Autoinformanten oder eine Robotersekret√§rin mit einer angeh√§ngten Client-Datenbank programmieren? <br><br>  Spoiler-Alarm: Alles wird durch die Implementierung von Webhooks erledigt und wir verwenden ein PHP-Beispiel. <br><br>  <b>Was und warum?</b> <br><br>  Sie haben beispielsweise einen Lieferservice oder einen Online-Shop mit eigener Logistik.  Einige Kunden rufen an, um zu sehen, was mit ihren Paketen los ist, und das kann einfach automatisiert werden.  Gleiches gilt f√ºr die Geolokalisierung von Kabinen, einige Datenerfassungen oder einzelne Informationen, die dem Kunden gemeldet werden k√∂nnen, ohne dass menschliche Energie verschwendet wird. <br><br>  Es kann leicht automatisiert werden. Im Folgenden finden Sie ein Beispiel.  Oh, und es kann v√∂llig kostenlos gemacht werden. <br><br>  <b>Warum nicht dein eigenes Sternchen?</b> <br><br>  Nat√ºrlich kann alles mit Asterisk erledigt werden, aber neben dem Entwickler ben√∂tigen Sie auch einen Administrator, der auch mit der Sicherheit der Sprachkommunikation vertraut ist (da diese h√§ufig gehackt werden). <br>  Wir werden also den einfachsten Weg zur L√∂sung der Aufgabe diskutieren - mit Webhooks. <br><br>  <b>Liste der Methoden</b> <br><br>  Sie ben√∂tigen nur zwei neue Methoden f√ºr den Job, aber jede bietet Ihnen viele M√∂glichkeiten und vor allem unbegrenzte Zyklen.  Mithilfe dieser Zyklen erhalten Sie ein mehrstufiges Sprachmen√º und einen Informanten f√ºr jedes Thema. <br><br>  <b>Hauptmethoden:</b> <br><br><ul><li>  NOTIFY_START - Der Beginn eines eingehenden Anrufs in der TK-Anlage </li><li>  NOTIFY_IVR - Antwort des Anrufers auf eine bestimmte Aktion </li></ul><br>  Die detaillierte Methodenbeschreibung kann in die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">API-Beschreibung</a> kopiert und eingef√ºgt werden. <br><br>  F√ºr NOTIFY_START- und NOTIFY_IVR-Anforderungen k√∂nnen Sie Szenarien w√§hrend des Anrufs √§ndern, indem Sie mit einer der folgenden Optionen antworten: <br><br><img src="https://habrastorage.org/webt/o-/qb/2j/o-qb2j_sbansavtyv9ozmcepotw.png"><br><img src="https://habrastorage.org/webt/km/jz/g9/kmjzg91272jweekf2s1mwv6g-re.png"><br><img src="https://habrastorage.org/webt/er/u4/kf/eru4kf3bhtepzadbkqjgwsk8oic.png"><br><img src="https://habrastorage.org/webt/_y/fg/7a/_yfg7akgztm3m-9nxqcqpowpcvo.png"><br><img src="https://habrastorage.org/webt/da/xh/d-/daxhd-p3c1f2ewcljo4xg-o85qu.png"><br><img src="https://habrastorage.org/webt/nj/rd/o3/njrdo3kqwruuctzcogbjdrw3vh0.png"><br><br>  Ein Kunde ruft an und h√∂rt die Begr√º√üung, w√§hlt dann eine bestimmte Nummer (z. B. einen Tracking-Code), wir senden eine Benachrichtigung mit den eingegebenen Ziffern, das Skript pr√ºft mit der Datenbank und sendet die Antwort an uns.  Die Antwort kann eine Sprachdatei-ID oder eine Standard-Sprachantwort enthalten. <br><br>  Wir haben ein Standard-Zahlenspielsystem, sodass Sie keine Antwort im Voraus aufzeichnen m√ºssen.  Das hei√üt, die entsprechende Benachrichtigung wird aus der Datenbank ausgew√§hlt und von einem Roboter als Nummer abgespielt.  Oder Sie k√∂nnen bis zu hundert Standard-Sprachnachrichten erstellen und diese verwenden, um Kunden zu antworten (z. B. "Ihre Lieferung erfolgt im Lager", "Sie k√∂nnen Ihr Paket jeden Tag zwischen 9.00 und 22.00 Uhr erhalten"). <br><br>  <b>Das Implementierungsminimum</b> <br><br>  Damit der Antwortende antworten kann, ben√∂tigen Sie mindestens eine Telefonnummer und eine TK-Anlage.  Sie sollten auch die m√∂glichen Antworten hochladen oder eingeben. <br><br>  <b>Einrichten</b> <br><br><img src="https://habrastorage.org/webt/nr/wc/u_/nrwcu_blznq1tjzmncdz3i4s_fy.png"><br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die kostenlose Telefonanlage</a> f√ºr diese Aufgabe kann mit drei Klicks eingestellt werden (w√§hlen Sie die Anzahl der Mitarbeiter und das Sprachmen√º kann sp√§ter eingestellt werden). </li><li>  Telefonnummern f√ºr PBX k√∂nnen aus 100 L√§ndern auf der ganzen Welt verbunden werden.  Die Nummer wird nach Abschluss der ID-√úberpr√ºfung automatisch verbunden (falls dies f√ºr das Land Ihrer Wahl erforderlich ist).  Sie k√∂nnen auch kostenlos eine Ihrer eigenen Nummern verbinden </li><li>  Um die Sprachmen√ºs einzustellen, gehen Sie zur Seite ‚ÄûEingehende Anrufe und IVR‚Äú und w√§hlen Sie eine Option, die am besten zu Ihnen passt.  Oder Sie k√∂nnen Ihre Dateien hochladen oder einen Text eingeben, der vom Roboter automatisch gelesen wird.  Es stehen 16 Sprachen mit jeweils mehreren Stimmen zur Verf√ºgung (14 Stimmen in Englisch).  Sie k√∂nnen bis zu 100 Gr√º√üe in Ihrem pers√∂nlichen Konto speichern. </li></ol><br><img src="https://habrastorage.org/webt/fi/om/f_/fiomf_rhb6i5kneddqae5pxj_uy.png"><br><br>  <b>PHP Beispiel</b> <br><br>  Um verschiedene Optionen zu demonstrieren, haben wir 4 Beispiele f√ºr die IVR-Leistung unter PHP erstellt. <br><br><ol><li>  Das System erkennt die letzten 3 Ziffern von CallerID (Beispiel f√ºr die Arbeit mit Informationen √ºber Zahlen und das Aussprechen von Ziffern). </li><li>  Der Benutzer gibt sein Geburtsdatum in DTMF ein und das System gibt an, wie viele Tage bis zum Geburtstag verbleiben (Arbeiten mit DTMF und Aussprechen von Ziffern). </li><li>  Endloses mehrstufiges Men√º: Der Benutzer kann Ziffern eingeben und zum n√§chsten / vorherigen Men√º gelangen (Beispiel daf√ºr, wie Sie mit einem einfachen Zyklus eine beliebige Anzahl von Sprachmen√ºs erstellen k√∂nnen). </li><li>  Beispiel f√ºr die Berechtigung zum Erhalt des Kontostands (n√ºtzlich f√ºr viele Lebenssituationen) </li></ol><br>  Die ersten drei Beispiele sind auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitHub</a> verf√ºgbar.  Dort haben Sie alle erforderlichen Elemente, Sie m√ºssen nur die Dateien mit der F√ºllung einf√ºgen (die m√ºssen vor dem Hochladen oder Einlesen in PBX sein). <br><br>  <b>Aufgabe 4</b> : Der Anrufer h√∂rt die Begr√º√üung und wird aufgefordert, die Identifikationsnummer einzugeben. Nach Eingabe des Systems teilt er den Kontostand mit, verabschiedet sich mit einem beliebten Satz aus der Liste und beendet den Anruf. <br><br>  Hier ist ein Beispiel f√ºr Code f√ºr die beschriebene Aufgabe. <br>  <b>PHP-Code</b> <br><br><pre><code class="php hljs">$request = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Request(); $notify = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::getEvent([AbstractNotify::EVENT_START, AbstractNotify::EVENT_IVR]); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!$notify) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> ($notify-&gt;event){ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> AbstractNotify::EVENT_START: $request -&gt;setIvrPlay(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::INFO_FILE_ID) -&gt;setWaitDtmf(TIMEOUT , ATTEMPTS, MAXDIGITS, DTMF_NAME, DEFAULT_BEHAVIOUR); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> AbstractNotify::EVENT_IVR: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($notify-&gt;wait_dtmf-&gt;digits)) { $balance = getBalance($notify-&gt;wait_dtmf-&gt;digits); $request-&gt;setIvrSayNumber($balance, <span class="hljs-string"><span class="hljs-string">'en'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">elseif</span></span> (!<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($notify-&gt;ivr_saynumber)) { $request-&gt;setIvrSayPopular(POPULAR_PHRASE_NUM, <span class="hljs-string"><span class="hljs-string">'en'</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { $request-&gt;setHangup(); } } $request-&gt;send();</code> </pre> <br>  Wir m√∂chten unsere Methodenfunktionen weiter ausbauen und Feedback in den Kommentaren unten sammeln.  Wir haben auch andere Webhook-Methoden und APIs zur Verf√ºgung. Die vollst√§ndige Liste finden Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf der Website</a> . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de474178/">https://habr.com/ru/post/de474178/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de474164/index.html">Zimbra ist unser Alles</a></li>
<li><a href="../de474166/index.html">Titelindizes f√ºr GiST</a></li>
<li><a href="../de474170/index.html">Design Confession - 15. November, Moskau, DI Telegraph</a></li>
<li><a href="../de474172/index.html">Eine Geldstrafe von 30.000 Euro f√ºr die illegale Verwendung von Cookies</a></li>
<li><a href="../de474176/index.html">11 Videos vom ersten Tag des DevFest 2019 in Kaliningrad</a></li>
<li><a href="../de474180/index.html">Wie fehlertolerante Webarchitektur in der Mail.ru Cloud Solutions-Plattform implementiert wird</a></li>
<li><a href="../de474184/index.html">Wir bestehen die Herausforderung von Callum Macrae zu 100%</a></li>
<li><a href="../de474186/index.html">Mythen widerlegen: Echte IT-Praktiken in Armenien</a></li>
<li><a href="../de474192/index.html">Warum bin ich von UX zu PM und dann zu Lead PM gewechselt und was hat sich ge√§ndert?</a></li>
<li><a href="../de474194/index.html">Kompass-Team</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>