<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👃🏽 👨🏻‍🏫 🔡 Die Geschichte von Octopus 👐🏾 💣 🚪</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wenn Sie im Internet nach Produkten suchen, möchten Sie häufig Ihre Suchanfrage verfeinern, damit die Suchergebnisse relevanter werden. Ob es sich um ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die Geschichte von Octopus</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/youla/blog/479924/"><img src="https://habrastorage.org/webt/cc/32/t4/cc32t425o66s2jjbaxaijm28t_k.jpeg"><br><br>  Wenn Sie im Internet nach Produkten suchen, möchten Sie häufig Ihre Suchanfrage verfeinern, damit die Suchergebnisse relevanter werden.  Ob es sich um die Farbe eines T-Shirts, den Getriebetyp eines Autos, die Anzahl der USB-Anschlüsse eines Laptops oder den Küchenbereich einer gewünschten Wohnung handelt. <br><br>  Fast von Anfang an verfügten wir über ein System von flachen Feldern, mit denen die Anfrage verfeinert werden konnte.  Das heißt, beim Erstellen und Suchen von Waren standen einfache Auswahlfelder zur Verfügung, mit denen Sie Produkte mit zusätzlichen Parametern speichern und anschließend suchen konnten. <br><br>  Um neue Gipfel zu entwickeln und zu erobern, benötigte Yulia ein neues System, mit dem Sie Feldbäume mit manueller Eingabe und Auswahl von Werten erstellen und sogar neue Felder erhalten können, abhängig von zuvor ausgewählten Optionen.  Als Apotheose musste ein einfaches System erstellt werden, um all dies über das Admin-Panel zu verwalten. <br><a name="habracut"></a><br><h2>  Erster Teil: "Cthulhu, komm" </h2><br>  Wir haben begonnen, dieses Problem zu lösen.  Bei der Analyse möglicher Optionen haben wir uns ständig damit auseinandergesetzt, dass sich die Konzepte von „Feld“, „Präsentation“ usw. mit der vorhandenen Funktionalität überschnitten, was den Gesprächspartner in die Irre führte.  Unser Kollege, der eine radikale Methode zur Trennung von Getreide und Spreu vorgeschlagen hat, hat uns vor dieser Verwirrung bewahrt - nennen wir das alles „Octopus“. <br><br>  Warum Krake?  Weil alles wie ein Tintenfisch klingt.  Octopus ist ein allgemeines Feldsystem, das beschreibt: <br><br><ul><li>  welche Plattform die Felder anzeigen soll; <br></li><li>  Welche Art von Präsentation ist für das Schema verantwortlich (Produkterstellung, Filter, Kartenanzeige usw.)? <br></li></ul><br>  Der Oktopus hat Tentakel oder Tentakel (Husaren, schweigen Sie!) - das nennen wir Äste, die beschreiben, wie bestimmte Felder im Formular angezeigt werden sollen.  Es kann sein: <br><br><ul><li>  Eingabefelder; <br></li><li>  Auswahlfelder <br></li><li> Feldgruppierungen; <br></li><li>  Textfelder. <br></li></ul><br>  So etwas wie HTML-Markup, bei dem Tags vorhanden sind und Tags Parameter und Werte haben, die der Benutzer eingibt oder aus einer vordefinierten Liste auswählt. <br><br>  Diejenigen, die für und gegen den Namen Octopus waren, waren ungefähr gleich geteilt, aber nach einiger Zeit nach dem Start des Systems wurde klar, dass dank dieses Namens jeder sofort klar verstand, was diskutiert wurde. <br><br><h2>  Teil zwei: Struktur </h2><br>  Wir ließen zu, dass das Wasserwesen der Name unseres neuen Systems wurde, aber nicht alles wurde den von den Meeresfürsten zerrissenen gegeben, es gab einen Platz für klassischere Bezeichnungen.  Ich werde alle Elemente auflisten: <br><br><ul><li>  Krake - ist verantwortlich für die Struktur als Ganzes. <br></li><li> Tentakel - beschreibt die Anzeige jedes einzelnen Zweigs.  Das <code>widget</code> wird an den Client übergeben, der angibt, wie das Feld angezeigt werden soll. <br></li><li>  Attribut - speichert den eingegebenen Wert. <br></li><li>  Wörterbuch - enthält eine Liste möglicher Werte zur Auswahl aus einer Liste. <br></li><li>  Tag - enthält einen Wert, der aus der Liste ausgewählt werden kann. <br></li><li>  Parameter - Attribut oder Tentakel können mit verschiedenen Parametern zur Validierung und Reaktion des Kunden ergänzt werden. <br></li><li>  Abhängigkeiten - Eine Struktur, die die Reaktion eines Feldes auf die Wahl eines anderen beschreibt. <br></li></ul><br>  Der Kunde, der Octopus erhalten hat, kann die Seite zum Erstellen oder Bearbeiten des Produkts oder zum Suchen gemäß der oben beschriebenen Struktur zeichnen.  Nach dem Ausfüllen werden die Daten vom Backend gespeichert und an die Suche zur Indizierung gesendet. Auf diese Weise können Redakteure schnell neue Felder erstellen und diese sofort für die Suche verwenden. <br><br><h2>  Dritter Teil: Präsentation </h2><br>  Hier geht es nicht um die Aufführung im Zirkus, wo die Oktopusse in Tentakeln klatschen und <s>das</s> Publikum mit Feinheiten und Wasserprozeduren erfreuen (Interessanterweise gibt es einen solchen Zirkus?).  Ich werde darüber sprechen, wie unsere Kraken im Leben eines Kunden erscheinen. <br><br>  Wie oben erwähnt, verfügt jedes Feldschema (Octopus) über eine Reihe von Parametern, die angeben, zu welcher Aktion dieses Schema gehört und wem es angezeigt werden soll.  Beispielsweise fragt eine Android-Anwendung das Backend nach einem Suchfilterschema für den Bereich "Damengarderobe".  Wenn die Datenbank ein Schema hat, das für die angegebenen Parameter geeignet ist, gibt das Backend es zurück und der Benutzer sieht die Felder "Farbe" und "Schuhgröße". <br><br>  Wie ist das umgesetzt? <br><br>  Die Bearbeiter im Admin-Bereich erstellen ein neues Octopus-Schema. Sie geben an, dass es für einen bestimmten Typ von Client-Anwendung (iOS, Android, Web oder für alle Typen) bestimmt ist, dass dieses Schema Felder für die Anzeige auf der Suchseite enthält, und vor allem das Schema einer bestimmten Warengruppe zugeordnet werden. <br><br>  Wenn der Benutzer die Suche in der mobilen Anwendung eingibt, fordert der Client das Feldlayout vom Backend an, wobei er berücksichtigt, dass es sich um Android handelt, die Kategorie „Damengarderobe“ angegeben ist und das Schema für die Ansicht „Suche“ gelten sollte. <br><br><h2>  Vierter Teil: Suche </h2><br>  Der Benutzer in der Anwendung gab die Werte für seine Anzeige ein, der Kunde überprüfte sie gemäß den Regeln des Schemas und schickte sie an das Backend.  Er überprüfte alles noch einmal und bewahrte es sicher auf.  Jetzt wird die Anzeige Käufern mit einem vollständigen Feldsatz angezeigt.  Dies reicht jedoch nicht aus, da die Anzeige vom Käufer gefunden werden muss. <br><br>  Zu diesem Zweck senden wir alle Attribute, die mit der Anzeige geliefert werden, an unsere Suche. Dort werden die Daten indiziert, sodass Sie die Anzeige anhand der angegebenen Parameter sofort finden können.  Die Redakteure können jederzeit neue Felder im Octopus-Verwaltungsbereich erstellen und die Nutzer können sie sofort beim Erstellen einer Anzeige oder beim Suchen verwenden. <br><br><h2>  Fünfter Teil: Integration </h2><br>  B2B-Partner arbeiten mit Yulia zusammen, um ihre Anzeigen-Datenbank mit uns zu teilen und ihre Reichweite zu vergrößern.  Wenn wir beispielsweise mit einem Autopartner zusammenarbeiten, gibt es für jede Anzeige in einem externen Dienst eine große Anzahl von Feldern.  Wie mache ich mit unseren Octopuses eine Datenbank mit Autoanzeigen?  Die Antwort ist einfach - mit Mapping;  oder, wenn der Partner verifiziert ist, können Sie Felder direkt in unserem System erstellen. <br><br>  Über Kafka organisieren wir einen Kommunikationskanal mit einem Partner und erhalten: <br><br><ul><li>  Aktualisierung des Feldlayouts für Partnerprodukte; <br></li><li>  Waren selbst und Manipulationen mit ihnen. <br></li></ul><br>  Bevor wir mit der Integration beginnen, werden wir herausfinden, welches Datenformat an uns gesendet wird und welche Arten von Feldern wir erhalten.  Nachdem wir zuvor die Bedingungen für die Zuordnung in unseren Feldern im Code erstellt haben, erhalten wir Partnerschemata und ordnen sie zu.  Sie können entweder neue Felder erstellen oder vorhandene zuordnen.  Nach erfolgreicher Zuordnung können wir Waren erhalten und alle Felder werden in unserem Octopus angelegt.  Wenn die Partner in Zukunft plötzlich das Programm ändern, ist unsere Teilnahme nicht mehr erforderlich. <br><br><h2>  Teil Sechs: Probleme </h2><br>  Mit all den Vorteilen der Octopuses stießen wir auch auf einige Schwierigkeiten.  Wenn einzelne Entitäten in Redis zwischengespeichert wurden, wie sieht es dann mit dem gesamten Schema aus?  Jedes Mal ist das Erzeugen sehr teuer, und das Speichern einer solchen größeren Schaltung im Cache ist problematisch.  Außerdem müssen wir die Schemata ändern, wenn abhängige Felder ins Spiel kommen. <br><br>  Wir haben beschlossen, die Ausgabe von Octopus-Programmen im Backend in zwei Phasen zu unterteilen: <br><br><ul><li>  Alle n Minuten wird im Hintergrund ein unveränderlicher Baum aktualisiert, den wir in den lokalen Cache stellen. <br></li><li>  Verzweigungsmanipulationen: Ergänzen eines Baums mit Abhängigkeiten und Erstellen einer Antwort ohne Cache. <br></li></ul><br>  Dieser Ansatz löste das Cache-Problem und die Rückgabezeit der Felder wurde minimiert. <br><br><h2>  Teil Sieben: A / B-Test </h2><br>  Nirgendwo in der modernen Lebensmittelwelt ohne Prüfung der Produkteigenschaften.  A / B-Tests haben Octopus nicht umgangen.  Die Aufgabe bestand darin, die Belegung von Feldern in einer bestimmten Kategorie unter Berücksichtigung ihrer unterschiedlichen Anzahl und Variabilität von Werten zu messen.  Aufgrund der Flexibilität der Schaltung war die Durchführung eines solchen Tests zeitsparend und die Funktionalität wurde schnellstmöglich in Betrieb genommen. <br><br>  Wie haben wir das gemacht? <br><br>  Auf der Ebene der Octopus-Verbindungen mit Produktkategorien haben wir einen Test für den Einstieg in das Experiment erstellt.  Im positiven Fall wurde ein weiterer Octopus vergeben und der Benutzer sah einen anderen Satz von Feldern. <br><br>  Wir haben auch A / B-Tests auf anderen Octopus-Ebenen eingeführt: in Tentakeln und Wörterbüchern. <br><br><h2>  Achter Teil: Wo sonst bewerben? </h2><br>  In Julia werden Octopuses nicht nur zum Ausfüllen und Suchen von Produktkarten verwendet.  Mit Octopus-Schemata können Sie sie an beliebige Systemeinheiten anhängen. Derzeit werden Octopus-Schemata im persönlichen Konto des Benutzers und bei der Lieferung von Waren verwendet. <br><br><h2>  Neunter Teil: Ein Beispiel </h2><br>  Wörter sind Wörter, aber ohne ein Beispiel ist es ziemlich schwer zu verstehen.  Erklären wir es an den Fingern.  Nehmen Sie die Struktur der Felder zum Anlegen des Produkts in den Bereich "Immobilien". <br><br><div class="spoiler">  <b class="spoiler_title">Beispiel JSON aus der Kategorie Wohnung zu verkaufen - Wohnungsparameter</b> <div class="spoiler_text"><pre> <code class="json hljs">{ <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"widget"</span></span>:<span class="hljs-string"><span class="hljs-string">"group"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"order"</span></span>:<span class="hljs-number"><span class="hljs-number">17</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"required"</span></span>:<span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"subfields"</span></span>:[ { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"widget"</span></span>:<span class="hljs-string"><span class="hljs-string">"section"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"order"</span></span>:<span class="hljs-number"><span class="hljs-number">18</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"required"</span></span>:<span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"subfields"</span></span>:[ { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">"  "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"widget"</span></span>:<span class="hljs-string"><span class="hljs-string">"select"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"order"</span></span>:<span class="hljs-number"><span class="hljs-number">19</span></span>, <span class="hljs-attr"><span class="hljs-attr">"slug"</span></span>:<span class="hljs-string"><span class="hljs-string">"komnat_v_kvartire"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"tag_id"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"attribute_id"</span></span>:<span class="hljs-number"><span class="hljs-number">1374</span></span>, <span class="hljs-attr"><span class="hljs-attr">"values"</span></span>:[ { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>:<span class="hljs-string"><span class="hljs-string">"1 "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"order"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>:<span class="hljs-string"><span class="hljs-string">"2 "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"order"</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>:<span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"order"</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span> }, { <span class="hljs-attr"><span class="hljs-attr">"id"</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-attr"><span class="hljs-attr">"value"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"order"</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span> } ], <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"required"</span></span>:<span class="hljs-literal"><span class="hljs-literal">true</span></span> } }, { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"widget"</span></span>:<span class="hljs-string"><span class="hljs-string">"input_int"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"order"</span></span>:<span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-attr"><span class="hljs-attr">"slug"</span></span>:<span class="hljs-string"><span class="hljs-string">"realty_etaj"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"int"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"attribute_id"</span></span>:<span class="hljs-number"><span class="hljs-number">1543</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"required"</span></span>:<span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"min_value"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"max_value"</span></span>:<span class="hljs-number"><span class="hljs-number">500</span></span> } } ] }, { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"widget"</span></span>:<span class="hljs-string"><span class="hljs-string">"section"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"order"</span></span>:<span class="hljs-number"><span class="hljs-number">21</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"required"</span></span>:<span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"subfields"</span></span>:[ { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"widget"</span></span>:<span class="hljs-string"><span class="hljs-string">"input_float"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"order"</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span>, <span class="hljs-attr"><span class="hljs-attr">"slug"</span></span>:<span class="hljs-string"><span class="hljs-string">"realty_obshaya_ploshad"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"float"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"attribute_id"</span></span>:<span class="hljs-number"><span class="hljs-number">1541</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"required"</span></span>:<span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"unit"</span></span>:<span class="hljs-string"><span class="hljs-string">"²"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"min_value"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"max_value"</span></span>:<span class="hljs-number"><span class="hljs-number">100000</span></span> } } ] }, { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-attr"><span class="hljs-attr">"widget"</span></span>:<span class="hljs-string"><span class="hljs-string">"section"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"order"</span></span>:<span class="hljs-number"><span class="hljs-number">25</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"required"</span></span>:<span class="hljs-literal"><span class="hljs-literal">false</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"subfields"</span></span>:[ { <span class="hljs-attr"><span class="hljs-attr">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">" "</span></span>, <span class="hljs-attr"><span class="hljs-attr">"widget"</span></span>:<span class="hljs-string"><span class="hljs-string">"input_float"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"order"</span></span>:<span class="hljs-number"><span class="hljs-number">25</span></span>, <span class="hljs-attr"><span class="hljs-attr">"slug"</span></span>:<span class="hljs-string"><span class="hljs-string">"building_flat_ceiling_height"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>:<span class="hljs-string"><span class="hljs-string">"float"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"attribute_id"</span></span>:<span class="hljs-number"><span class="hljs-number">1518</span></span>, <span class="hljs-attr"><span class="hljs-attr">"params"</span></span>:{ <span class="hljs-attr"><span class="hljs-attr">"required"</span></span>:<span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-attr"><span class="hljs-attr">"min_value"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-attr"><span class="hljs-attr">"max_value"</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">"unit"</span></span>:<span class="hljs-string"><span class="hljs-string">""</span></span> } } ] } ] }</code> </pre><br></div></div><br>  Der Baum zeigt einen Ausschnitt des Felddiagramms zur Abgabe einer Anzeige in der Kategorie „Wohnung zum Verkauf“.  Nach diesem Schema kann der Client die Benutzeroberfläche für den Benutzer zeichnen, die Felder in verschiedene Gruppen gruppieren, die eingegebenen Werte validieren und zum Speichern an das Backend senden.  Lassen Sie uns näher darauf eingehen. <br><br>  Tentakel können ineinander verschachtelt werden. Damit der Client versteht, was und wie angezeigt werden soll, haben wir die <code>widget</code> Eigenschaft eingeführt, die dem Client mitteilt, was an dieser Stelle angezeigt werden soll: Gruppierung von Feldern, Textblock, Einzug oder ein vollwertiges Feld. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Brp6pss79xk" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  Teil 10: Octopus-Abhängigkeiten </h2><br>  In einigen Fällen können nicht alle Werte, die in einem Auswahlfeld angezeigt werden, gleichzeitig in einem Formular angezeigt werden.  Wenn wir zum Beispiel über Autos sprechen, wäre es für Benutzer äußerst unpraktisch, ein Formular mit allen Marken und Modellen auf einem Bildschirm zu platzieren, selbst wenn man die Verwendung von Such-Widgets und anderen Tricks berücksichtigt. <br><br>  Um dieses Problem zu lösen, haben wir ein Abhängigkeitssystem implementiert, mit dem wir im Backend angeben können, welche Felder in Tentakeln angezeigt werden sollen, abhängig von den zuvor vom Benutzer in anderen Feldern ausgewählten Werten. <br><br>  Beispiel: Ein Benutzer gibt einen Autoverkauf ein, wählt eine BMW Marke aus und im Feld Modell werden nur die Modelle angezeigt, die zu dieser Marke gehören. <br><br>  Es ist so implementiert: <br><br><ul><li>  der Kunde erhält eine Feldkarte; <br></li><li>  Für die Felder, die sich auf die Bildung des Schemas auswirken, wird ein spezielles Flag angegeben, mit dem der Client bei der Auswahl eines Werts das Schema erneut abfragt und diesen Wert an das Backend sendet. <br></li><li>  der Benutzer wählt das Feld aus, der Client sendet eine Anfrage für das Backend; <br></li><li>  Das Backend durchsucht das Abhängigkeitssystem nach verwandten Feldern für die angegebenen Werte und füllt sie in diesem Fall gemäß den zuvor erstellten Anweisungen. <br></li><li>  Der Client erhält ein aktualisiertes Schema mit einem neuen Satz von Feldern. <br></li><li>  Jetzt kann der Benutzer die Werte in den neuen Feldern auswählen. <br></li></ul><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0L-ToccBvWo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h2>  Abschließend </h2><br>  Neben Witzen über Octopus haben wir ein leistungsstarkes Tool, mit dem Sie schnell verschiedene Feldschemata für Waren, Benutzerprofile, Lieferung usw. implementieren können.  Administratoren können jetzt über das Control Panel Änderungen vornehmen und Schemata ergänzen, ohne die Entwicklung und Suche zu berühren.  Durch das Hinzufügen eines A / B-Testsystems konnten Manager die Effektivität verschiedener Datensätze für Benutzereingaben auf einfache Weise überprüfen. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de479924/">https://habr.com/ru/post/de479924/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de479914/index.html">Erstellung von Videos durch PowerPoint - Nuancen, Fehler und Automatisierung</a></li>
<li><a href="../de479916/index.html">Das Blockieren von Anzeigen-Trackern auf Netzwerkebene ist schwierig, aber möglich</a></li>
<li><a href="../de479918/index.html">Erleben Sie das Schreiben eines Spiels in TypeScript und WebGL oder eine Geschichte darüber, wie ein Backend-Shch in ein modernes Frontend eingetaucht ist</a></li>
<li><a href="../de479920/index.html">PostgreSQL Antipatterns: Sisyphus JOIN Arrays</a></li>
<li><a href="../de479922/index.html">Ewiger Sonnenschein des Clean .NET</a></li>
<li><a href="../de479926/index.html">Wie gut sollte der CTO die Projekttechnologie verstehen? Wir haben Leute von 5 Firmen befragt</a></li>
<li><a href="../de479930/index.html">RPA Software Robot Geschwindigkeitstests</a></li>
<li><a href="../de479932/index.html">Wie Sie Ihre Programmierkenntnisse verbessern können</a></li>
<li><a href="../de479938/index.html">Google Stadia - eine Cloud-basierte Gaming-Plattform mit einer seltsamen Monetarisierungsstrategie</a></li>
<li><a href="../de479940/index.html">Wie man von einem anderen Beruf zur Entwicklung übergeht und schnell an einem neuen Ort wächst</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>