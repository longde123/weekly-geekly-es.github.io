<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ˜š ğŸ™Š âœ‹ğŸ¾ Encore mieux la bombe zip ğŸ‘¨ğŸ¼â€ğŸ« ğŸŒ‚ ğŸ‘¨ğŸ¿â€ğŸ¤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L 'article montre comment crÃ©er une bombe zip non rÃ©cursive qui fournit un degrÃ© Ã©levÃ© de compression en chevauchant des fichiers Ã  l' intÃ©rieur d 'un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Encore mieux la bombe zip</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459254/"> L 'article montre comment crÃ©er une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">bombe zip</a> <i>non rÃ©cursive</i> qui fournit un degrÃ© Ã©levÃ© de compression en chevauchant des fichiers Ã  l' intÃ©rieur d 'un conteneur zip.  Â«Non rÃ©cursifÂ» signifie qu'il ne dÃ©pend pas des dÃ©compresseurs dÃ©compressant les fichiers intÃ©grÃ©s dans les archives zip: il n'y a qu'un seul tour.  La taille de sortie augmente de faÃ§on quadratique Ã  partir de l'entrÃ©e, atteignant un taux de compression de plus de 28 millions (10 Mo â†’ 281 To) dans le format zip.  Une extension supplÃ©mentaire est possible avec des extensions 64 bits.  La conception utilise uniquement l'algorithme de compression DEFLATE le plus courant et est compatible avec la plupart des analyseurs zip. <br><br><a name="2"></a><ul><li>  <a href="">zbsm.zip</a> 42 ko â†’ 5,5 Go <br></li><li>  <a href="">zblg.zip</a> 10 Mo â†’ 281 To <br></li><li>  <a href="">zbxl.zip</a> 46 Mo â†’ 4,5 PB (Zip64, moins compatible avec les analyseurs) </li></ul><br>  Code source: <br><pre>  git clone https://www.bamsoftware.com/git/zipbomb.git </pre>  <a href="">zipbomb-20190702.zip</a> <br><br>  DonnÃ©es et source d'illustrations: <br><pre>  git clone https://www.bamsoftware.com/git/zipbomb-paper.git </pre><a name="habracut"></a><br><div class="scrollable-table"><table><thead><tr><td colspan="2"></td><th colspan="2">  non rÃ©cursif </th><th colspan="2">  rÃ©cursif </th></tr><tr><td></td><th>  taille de l'archive </th><th>  taille non compressÃ©e </th><th>  le rapport </th><th>  taille non compressÃ©e </th><th>  le rapport </th></tr></thead><tbody><tr><th>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Quine Cox</a> </th><td>  440 </td><td>  440 </td><td>  1.0 </td><td>  âˆ </td><td>  âˆ </td></tr><tr><th>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://web.archive.org/web/20160130230432/">Quine Ellingsen</a> </th><td>  28 809 </td><td>  42 569 </td><td>  1,5 </td><td>  âˆ </td><td>  âˆ </td></tr><tr><th>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">42.zip</a> </th><td>  42 374 * </td><td>  558 432 </td><td>  13,2 </td><td>  4 507 981 343 026 016 </td><td>  106 milliards </td></tr><tr><th>  cette technique </th><td>  42 374 </td><td>  5 461 307 620 </td><td>  129 mille </td><td>  5 461 307 620 </td><td>  129 mille </td></tr><tr><th>  cette technique </th><td>  9 893 525 </td><td>  281 395 456 244 934 </td><td>  28 millions </td><td>  281 395 456 244 934 </td><td>  28 millions </td></tr><tr><th>  cette technique (Zip64) </th><td>  45 876 â€‹â€‹952 </td><td>  4 507 981 427 706 459 </td><td>  98 millions </td><td>  4 507 981 427 706 459 </td><td>  98 millions </td></tr></tbody></table></div><br>  <sub>* Il existe deux versions de 42.zip: les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://web.archive.org/web/20120222083624/">anciens</a> 42 374 octets et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://web.archive.org/web/20120301154142/">les nouveaux</a> 42 428 octets.</sub>  <sub>La diffÃ©rence est que le nouveau nÃ©cessite un mot de passe avant de dÃ©baller.</sub>  <sub>Nous ne comparons qu'avec l'ancienne version.</sub>  <sub>Voici une copie du fichier si vous en avez besoin: <a href="">42.zip</a> .</sub> <sub><br><br></sub>  <sub>** Je voudrais connaÃ®tre et indiquer l'auteur de 42.zip, mais je ne l'ai pas trouvÃ© - faites-moi savoir si vous avez des informations.</sub> <br><br>  Les bombes zip doivent surmonter le fait que l'algorithme de compression DEFLATE le plus souvent pris en charge par les analyseurs <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ne peut pas dÃ©passer le</a> taux de compression de 1032 Ã  1. Pour cette raison, les bombes zip reposent gÃ©nÃ©ralement sur la dÃ©compression rÃ©cursive en insÃ©rant des fichiers zip dans des fichiers zip pour obtenir un rapport supplÃ©mentaire 1032 avec chaque couche.  Mais l'astuce ne fonctionne que dans les implÃ©mentations qui dÃ©compressent rÃ©cursivement, et la plupart ne le font pas.  La bombe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">42.zip la</a> plus cÃ©lÃ¨bre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">se</a> dÃ©veloppe Ã  un formidable 4,5 PB si les six couches sont rÃ©cursivement dÃ©ballÃ©es, mais sur la couche supÃ©rieure, elle a 0,6 Mo.  Les tyroliennes, comme celles de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Cox</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://web.archive.org/web/20160130230432/">Ellingsen</a> , donnent une copie d'eux-mÃªmes et, par consÃ©quent, se dÃ©veloppent indÃ©finiment lors du dÃ©ballage rÃ©cursif.  Mais ils sont Ã©galement complÃ¨tement sÃ»rs lors du dÃ©ballage une fois. <br><br>  Cet article montre comment crÃ©er une bombe zip non rÃ©cursive, dont le taux de compression dÃ©passe la limite DEFLATE de 1032. Il fonctionne en chevauchant les fichiers Ã  l'intÃ©rieur d'un conteneur zip pour rÃ©fÃ©rencer le Â«noyauÂ» de donnÃ©es hautement compressÃ©es dans plusieurs fichiers sans faire plusieurs copies.  La taille de sortie de la bombe zip croÃ®t de faÃ§on quadratique par rapport Ã  la taille d'entrÃ©e;  c'est-Ã -dire que le taux de compression s'amÃ©liore avec l'augmentation de la taille de la bombe.  La conception dÃ©pend des fonctionnalitÃ©s de zip et DEFLATE: elle ne peut pas Ãªtre transfÃ©rÃ©e directement vers d'autres formats de fichiers ou algorithmes de compression.  La bombe est compatible avec la plupart des analyseurs zip, Ã  l'exception de ceux en "streaming", qui analysent les fichiers en une seule fois sans vÃ©rifier le rÃ©pertoire central du fichier zip.  Nous essayons d'Ã©quilibrer deux objectifs contradictoires: <br><br><ul><li>  Augmentez le taux de compression.  Nous dÃ©finissons le taux de compression comme la somme des tailles de tous les fichiers de l'archive divisÃ©e par la taille du fichier zip lui-mÃªme.  Il ne prend pas en compte les noms de fichiers ou autres mÃ©tadonnÃ©es de systÃ¨me de fichiers, mais uniquement le contenu. <br></li><li>  Gardez la compatibilitÃ©.  Zip est un format complexe et les analyseurs diffÃ¨rent, en particulier dans les situations limites, et les fonctions supplÃ©mentaires.  N'utilisez pas de techniques qui fonctionnent uniquement avec certains analyseurs.  Nous noterons quelques faÃ§ons d'augmenter l'efficacitÃ© d'une bombe zip avec une certaine perte de compatibilitÃ©. </li></ul><br><h1>  Structure du fichier Zip </h1><br>  Le fichier zip se compose d'un <i>rÃ©pertoire central de</i> liens <i>de</i> fichiers. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/896/5d8/074/8965d80745e0b95831b8e3f7c68c5386.svg"><br><br>  Le rÃ©pertoire central se trouve Ã  la fin du fichier zip.  Il s'agit d'une liste d'en- <i>tÃªtes de rÃ©pertoire central</i> .  Chaque en-tÃªte de rÃ©pertoire central contient des mÃ©tadonnÃ©es pour un seul fichier, comme le nom de fichier et la somme de contrÃ´le CRC-32, ainsi qu'un pointeur vers l'en-tÃªte de fichier local.  L'en-tÃªte du rÃ©pertoire central a une longueur de 46 octets plus la longueur du nom de fichier. <br><br>  Le fichier se compose de l'en-tÃªte du fichier local, suivi des donnÃ©es du fichier compressÃ©.  La longueur de l'en-tÃªte de fichier local est de 30 octets plus la longueur du nom de fichier.  Il contient une copie redondante des mÃ©tadonnÃ©es de l'en-tÃªte du rÃ©pertoire central, ainsi que les tailles des fichiers de donnÃ©es compressÃ©s et non compressÃ©s qui se trouvent derriÃ¨re.  Zip est un format de conteneur, pas un algorithme de compression.  Les donnÃ©es de chaque fichier sont compressÃ©es Ã  l'aide de l'algorithme spÃ©cifiÃ© dans les mÃ©tadonnÃ©es - gÃ©nÃ©ralement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DEFLATE</a> . <br><br>  Cette description du format zip omet de nombreux dÃ©tails qui ne sont pas nÃ©cessaires pour comprendre la bombe zip.  Pour des informations complÃ¨tes, voir la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">section 4.3 APPNOTE.TXT</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Â«PKZip File StructureÂ» par</a> Florian Buchholz, ou voir le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">code source</a> . <br><br>  Une redondance importante et de nombreuses ambiguÃ¯tÃ©s au format zip ouvrent des possibilitÃ©s de mÃ©faits de diffÃ©rents types.  Une bombe zip n'est que la pointe de l'iceberg.  Liens pour plus de lecture: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Â«Dix mille piÃ¨ges de sÃ©curitÃ©: un format ZIPÂ», par</a> Ginwael Coldwind <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">L'analyse syntaxique ambiguÃ« vous permet de masquer les fichiers complÃ©mentaires de Firefox du linter et des personnes</a> : ma vulnÃ©rabilitÃ© sur addons.mozilla.org </li></ul><br><h1>  PremiÃ¨re dÃ©couverte: chevauchement de fichiers </h1><br>  En compressant une longue chaÃ®ne d'octets rÃ©pÃ©tÃ©s, nous pouvons crÃ©er un <i>noyau de</i> donnÃ©es hautement compressÃ©es.  Le taux de compression du noyau lui-mÃªme ne peut pas dÃ©passer la limite DEFLATE de 1032, nous avons donc besoin d'un moyen de rÃ©utiliser le noyau dans de nombreux fichiers, sans en crÃ©er une copie sÃ©parÃ©e dans chaque fichier.  Nous pouvons le faire en chevauchant les fichiers: faites en sorte que de nombreux en-tÃªtes du rÃ©pertoire central pointent vers un seul fichier dont les donnÃ©es sont le cÅ“ur. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f80/675/a85/f80675a8530b8adfc1d5847eaaf813ca.svg"><br><br>  Prenons un exemple de la faÃ§on dont cette conception affecte le taux de compression.  Supposons qu'un noyau de 1000 octets soit dÃ©compressÃ© dans 1 Mo.  Ensuite, le premier mÃ©gaoctet de sortie Â«coÃ»teÂ» 1078 octets de donnÃ©es d'entrÃ©e: <br><br><ul><li>  31 octets pour l'en-tÃªte du fichier local (dont 1 nom de fichier octet) <br></li><li>  47 octets pour l'en-tÃªte du rÃ©pertoire central (y compris un nom de fichier Ã  1 octet) <br></li><li>  1000 octets par cÅ“ur </li></ul><br>  Mais chaque 1 Mo de sortie aprÃ¨s le premier ne coÃ»te que 47 octets - nous n'avons pas besoin d'un autre en-tÃªte du fichier local ou d'une autre copie du noyau, seulement d'un en-tÃªte supplÃ©mentaire du rÃ©pertoire central.  Ainsi, alors que le premier maillon du noyau a un taux de compression de 1 000 000/1 078 â‰ˆ 928, chaque maillon supplÃ©mentaire rapproche le coefficient de 1 000 000/47 â‰ˆ 21 277, et un gros noyau soulÃ¨ve le plafond. <br><br>  Le problÃ¨me avec cette idÃ©e est le manque de compatibilitÃ©.  Ã‰tant donnÃ© que de nombreux en-tÃªtes du rÃ©pertoire central pointent vers un en-tÃªte du fichier local, les mÃ©tadonnÃ©es (en particulier, le nom du fichier) ne peuvent pas Ãªtre les mÃªmes pour chaque fichier.  Certains analyseurs ne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">jurent que par cela</a> .  Par exemple, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Info-ZIP UnZip</a> (le programme de <code>unzip</code> standard sur Unix) rÃ©cupÃ¨re les fichiers, mais avec des avertissements: <br><br><pre>  $ dÃ©compressez overlap.zip
   gonflage: A
 B: incompatibilitÃ© du nom de fichier "local" (A),
          continuer avec la version "centrale" du nom de fichier
   gonflage: B
 ... </pre><br>  Le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">fichier zip</a> Python <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">lÃ¨ve</a> Ã©galement <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">une exception</a> : <br><br><pre>  $ python3 -m fichier zip -e overlap.zip.
 Traceback (dernier appel le plus rÃ©cent):
 ...
 __main __. BadZipFile: Le nom de fichier dans le rÃ©pertoire 'B' et l'en-tÃªte b'A 'diffÃ¨rent. </pre><br>  Ensuite, nous allons voir comment repenser la cohÃ©rence des noms de fichiers, tout en prÃ©servant la plupart des avantages des fichiers qui se chevauchent. <br><br><h1>  DeuxiÃ¨me dÃ©couverte: citer les en-tÃªtes des fichiers locaux </h1><br>  Nous devons sÃ©parer les en-tÃªtes des fichiers locaux pour chaque fichier, tout en rÃ©utilisant un noyau.  La simple combinaison de tous les en-tÃªtes ne fonctionne pas, car l'analyseur zip trouvera l'en-tÃªte du fichier local lÃ  oÃ¹ il attend le dÃ©but du flux DEFLATE.  Mais l'idÃ©e fonctionnera, avec des changements mineurs.  Nous utiliserons la fonction DEFLATE des blocs non compressÃ©s pour Â«citerÂ» les en-tÃªtes des fichiers locaux afin qu'ils semblent faire partie du mÃªme flux DEFLATE qui se termine dans le noyau.  Chaque en-tÃªte du fichier local (sauf le premier) sera interprÃ©tÃ© de deux maniÃ¨res: en tant que code (partie de la structure du fichier zip) et en tant que donnÃ©es (partie du contenu du fichier). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1c1/668/e92/1c1668e92501880340aaf1651df25095.svg"><br><br>  Un flux DEFLATE est une sÃ©quence de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">blocs</a> oÃ¹ chaque bloc peut Ãªtre compressÃ© ou non compressÃ©.  Nous ne pensons gÃ©nÃ©ralement qu'aux blocs compressÃ©s, par exemple, le noyau est un gros bloc compressÃ©.  Mais il existe Ã©galement des fichiers non compressÃ©s qui commencent par un en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">-tÃªte de 5 octets</a> avec un champ de longueur, ce qui signifie simplement: "affiche les <i>n</i> octets suivants mot pour mot."  DÃ©compresser un bloc non compressÃ© signifie uniquement supprimer l'en-tÃªte de 5 octets.  Les blocs compressÃ©s et non compressÃ©s peuvent se mÃ©langer librement dans le flux DEFLATE.  La sortie est une concatÃ©nation des rÃ©sultats du dÃ©ballage de tous les blocs dans l'ordre.  Le concept de Â«non compressÃ©Â» n'a d'importance qu'au niveau DEFLATE;  les donnÃ©es des fichiers sont toujours considÃ©rÃ©es comme Â«compressÃ©esÂ» au niveau zip, quels que soient les blocs utilisÃ©s. <br><br>  La faÃ§on la plus simple d'imaginer cette conception est un chevauchement interne, du dernier fichier au premier.  Nous commenÃ§ons par insÃ©rer un noyau qui formera la fin du fichier de donnÃ©es pour chaque fichier.  Ajoutez l'en-tÃªte du fichier LFH <sub><i>N</i></sub> local et l'en-tÃªte du rÃ©pertoire central CDH <sub><i>N</i></sub> qui pointe vers celui-ci.  DÃ©finissez le champ de mÃ©tadonnÃ©es Â«taille compressÃ©eÂ» dans LFH <sub><i>N</i></sub> et CDH <sub><i>N</i></sub> sur la taille de noyau compressÃ©.  Ajoutez maintenant l'en-tÃªte de 5 octets du bloc non compressÃ© (en vert sur le diagramme), dont le champ de longueur est Ã©gal Ã  la taille LFH <sub><i>N.</i></sub>  Ajoutez le deuxiÃ¨me en-tÃªte du fichier LFH local <sub><i>N</i> -1</sub> et le titre du rÃ©pertoire central CDH <sub><i>N</i> -1</sub> , qui pointe vers lui.  DÃ©finissez le champ de mÃ©tadonnÃ©es Â«taille compressÃ©eÂ» comme nouvel en-tÃªte pour la taille du noyau compressÃ© <i>plus la</i> taille de l'en-tÃªte de bloc non compressÃ© (5 octets) <i>plus la</i> taille de LFH <sub><i>N.</i></sub> <br><br>  Pour le moment, le fichier zip contient deux fichiers avec les noms Y et Z. Voyons ce que l'analyseur verra lors de l'analyse.  Supposons que la taille du noyau compressÃ© soit de 1000 octets et la taille LFH <sub><i>N de</i></sub> 31 octets.  Nous commenÃ§ons par CDH <sub><i>N</i> -1</sub> et suivons le signe pour LFH <sub><i>N</i> -1</sub> .  Le nom du premier fichier est Y et la taille compressÃ©e de son fichier de donnÃ©es est de 1036 octets.  En interprÃ©tant les 1036 octets suivants comme un flux DEFLATE, nous rencontrons d'abord un en-tÃªte de 5 octets d'un bloc non compressÃ© qui dit de copier les 31 octets suivants.  Nous Ã©crivons les 31 octets suivants, qui sont LFH <sub><i>N</i></sub> , que nous dÃ©compressons et ajoutons au fichier Y. En allant plus loin dans le flux DEFLATE, nous trouvons le bloc compressÃ© (noyau), que nous dÃ©compressons dans le fichier Y. Nous avons maintenant atteint la fin des donnÃ©es compressÃ©es et terminÃ© avec le fichier Y. <br><br>  Passant au fichier suivant, nous suivons le pointeur de CDH <sub><i>N</i></sub> Ã  LFH <sub><i>N</i></sub> et trouvons un fichier nommÃ© Z avec une taille compressÃ©e de 1000 octets.  InterprÃ©tant ces 1000 octets comme un flux DEFLATE, nous rencontrons immÃ©diatement un bloc compressÃ© (core encore) et le dÃ©compressons dans un fichier Z. Nous avons maintenant atteint la fin du fichier final et terminÃ©.  Le fichier de sortie Z contient le noyau dÃ©compressÃ©;  le fichier de sortie Y est le mÃªme, mais Ã©ventuellement avec un prÃ©fixe de 31 octets LFH <sub><i>N.</i></sub> <br><br>  Nous terminons la construction en rÃ©pÃ©tant la procÃ©dure de citation jusqu'Ã  ce que l'archive zip contienne le nombre de fichiers requis.  Chaque nouveau fichier ajoute un en-tÃªte de rÃ©pertoire central, un en-tÃªte de fichier local et un bloc non compressÃ© pour citer directement Ã  partir de l'en-tÃªte de fichier local suivant.  Les donnÃ©es de fichiers compressÃ©s sont gÃ©nÃ©ralement une chaÃ®ne de blocs DEFLATE non compressÃ©s (en-tÃªtes de fichiers locaux entre guillemets) suivis d'un noyau compressÃ©.  Chaque octet du noyau contribue Ã  environ 1032 <i>N</i> Ã  la taille de sortie, car chaque octet fait partie de tous les <i>N</i> fichiers.  Les fichiers de sortie sont Ã©galement de tailles diffÃ©rentes: les premiers sont plus grands que les derniers car ils citent davantage les en-tÃªtes des fichiers locaux.  Le contenu des fichiers de sortie n'a pas beaucoup de sens, mais personne n'a dit que cela devrait avoir du sens. <br><br>  Cette conception de citation de chevauchement a une meilleure compatibilitÃ© que la conception de chevauchement complet de la section prÃ©cÃ©dente, mais la compatibilitÃ© est obtenue par compression.  LÃ , chaque fichier ajoutÃ© ne coÃ»te que le titre du rÃ©pertoire central, ici il en coÃ»te le titre du rÃ©pertoire central, l'en-tÃªte du fichier local et encore 5 octets pour l'en-tÃªte de citation. <br><br><h1>  Optimisation </h1><br>  AprÃ¨s avoir reÃ§u le design de base de la bombe zip, nous allons essayer de la rendre aussi efficace que possible.  Nous voulons rÃ©pondre Ã  deux questions: <br><br><ul><li>  Quel est le taux de compression maximal pour une taille de fichier zip donnÃ©e? <br></li><li>  Quel est le taux de compression maximal compte tenu des limites du format zip? </li></ul><br><h3>  Compression du noyau </h3><br>  Il est avantageux pour nous de compresser le noyau autant que possible, car chaque octet dÃ©compressÃ© est multipliÃ© par <i>N.</i>  Pour cela, nous utilisons un compresseur DEFLATE personnalisÃ© appelÃ© bulk_deflate, spÃ©cialisÃ© dans la compression d'une chaÃ®ne d'octets rÃ©pÃ©tÃ©s. <br><br>  Tous les archiveurs DEFLATE dÃ©cents se rapprochent du taux de compression de 1032 sur un flux sans fin d'octets rÃ©pÃ©tÃ©s, mais nous sommes prÃ©occupÃ©s par la taille spÃ©cifique.  Dans notre taille d'archive, bulk_deflate contient plus de donnÃ©es que les archiveurs Ã  usage gÃ©nÃ©ral: environ 26 Ko de plus que zlib et Info-ZIP, et environ 15 Ko de plus que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Zopfli</a> , ce qui sacrifie la vitesse au profit de la qualitÃ© de la compression. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/8b4/cac/e5b/8b4cace5b49ef6945fd1d1ddc8fd7310.svg"><br><br>  Le prix d'un taux de compression Ã©levÃ© bulk_deflate - le manque de polyvalence.  Il ne peut compresser que des lignes d'octets rÃ©pÃ©titifs et seulement une certaine longueur, Ã  savoir 517 + 258 <i>k</i> pour un entier <i>k</i> â‰¥ 0. En plus d'une bonne compression, bulk_deflate fonctionne rapidement, effectuant un travail presque en mÃªme temps quelle que soit la taille des donnÃ©es d'entrÃ©e, compter le travail d'Ã©criture d'une chaÃ®ne compressÃ©e. <br><br><a name="1"></a><h3>  Noms de fichiers </h3><br>  Pour nos besoins, les noms de fichiers ont presque un poids mort.  Bien qu'ils contribuent Ã  la taille de la sortie en faisant partie des en-tÃªtes des fichiers locaux entre guillemets, les octets du nom de fichier contribuent beaucoup moins que les octets du noyau.  Nous voulons que les noms de fichiers soient aussi courts que possible, tout en Ã©tant diffÃ©rents, sans oublier la compatibilitÃ©. <br><br>  Chaque octet dÃ©pensÃ© sur un nom de fichier signifie deux octets non dÃ©pensÃ©s sur le noyau (deux car chaque nom de fichier apparaÃ®t deux fois: dans l'en-tÃªte du rÃ©pertoire central et dans l'en-tÃªte du fichier local).  Un octet de nom de fichier donne une moyenne de seulement ( <i>N</i> + 1) / 4 octets de sortie, tandis qu'un octet dans le noyau compte pour 1032 <i>N.</i>  Exemples: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">1</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">3</a> . <br><br>  La premiÃ¨re considÃ©ration de compatibilitÃ© est le codage.  La spÃ©cification du format zip indique que les noms de fichiers doivent Ãªtre interprÃ©tÃ©s comme <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CP 437</a> ou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">UTF-8</a> si un bit indicateur spÃ©cifique est dÃ©fini ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">APPNOTE.TXT, annexe D</a> ).  C'est le principal point d'incompatibilitÃ© entre les analyseurs zip, qui peuvent interprÃ©ter les noms de fichiers dans certains encodages fixes ou spÃ©cifiques aux paramÃ¨tres rÃ©gionaux.  Par consÃ©quent, pour des raisons de compatibilitÃ©, il est prÃ©fÃ©rable de vous limiter aux caractÃ¨res ayant le mÃªme codage dans le CP 437 et l'UTF-8.  Ã€ savoir, ce sont 95 caractÃ¨res US-ASCII imprimables. <br><br>  Nous sommes Ã©galement liÃ©s par des restrictions de dÃ©nomination du systÃ¨me de fichiers.  Certains systÃ¨mes de fichiers ne sont pas sensibles Ã  la casse, donc Â«aÂ» et Â«AÂ» ne sont pas considÃ©rÃ©s comme des noms diffÃ©rents.  Les systÃ¨mes de fichiers courants, tels que FAT32, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">interdisent certains caractÃ¨res</a> , tels que Â«*Â» et Â«?Â». <br><br>  Comme compromis sÃ»r, mais pas nÃ©cessairement optimal, notre bombe zip utilisera des noms de fichiers issus de l'alphabet Ã  36 caractÃ¨res, qui n'inclut pas les caractÃ¨res spÃ©ciaux et les caractÃ¨res de casse diffÃ©rente: <br><br><pre>  0 1 2 3 4 5 6 7 8 9 ABCDEFGHIJKLMNOPQRSTU VWXYZ </pre><br>  Les noms de fichiers sont gÃ©nÃ©rÃ©s de maniÃ¨re Ã©vidente, toutes les positions Ã  tour de rÃ´le, avec l'ajout d'une position Ã  la fin de la boucle: <br><br><pre>  "0", "1", "2", ..., "Z",
 "00", "01", "02", ..., "0Z",
 ...
 "Z0", "Z1", "Z2", ..., "ZZ",
 "000", "001", "002", ... </pre><br>  Il existe 36 noms de fichier Ã  un caractÃ¨re, 36Â² noms Ã  deux caractÃ¨res, etc.  Quatre octets suffisent pour 1 727 604 noms de fichiers diffÃ©rents. <br><br>  Ã‰tant donnÃ© que les noms de fichiers dans l'archive auront gÃ©nÃ©ralement des longueurs diffÃ©rentes, comment puis-je mieux les trier: du plus court au plus long ou vice versa?  Si vous rÃ©flÃ©chissez un peu, il vaut mieux mettre les noms les plus longs en dernier.  Ce tri ajoute plus de 900 Mo de sortie Ã  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">zblg.zip</a> , par rapport Ã  la commande la plus longue Ã  la plus courte.  Cependant, il s'agit d'une optimisation mineure, car 900 Mo ne reprÃ©sentent que 0,0003% de la taille totale du problÃ¨me. <br><br><h3>  Taille du noyau </h3><br>  La conception de devis qui se chevauchent vous permet de placer un noyau de donnÃ©es compressÃ©, puis de le copier Ã  plusieurs reprises Ã  moindre coÃ»t.  Pour une taille spÃ©cifique du fichier zip <i>X</i> , combien d'espace est optimal Ã  allouer pour stocker le noyau, et combien pour crÃ©er des copies? <br><br>  Pour trouver l'Ã©quilibre optimal, vous devez optimiser une seule variable <i>N</i> , le nombre de fichiers dans l'archive zip.  Chaque valeur <i>N</i> nÃ©cessite une certaine quantitÃ© de surcharge pour les en-tÃªtes du rÃ©pertoire central, les en-tÃªtes des fichiers locaux, les en-tÃªtes des blocs de citation et les noms de fichiers.  Le reste de l'espace sera occupÃ© par le noyau.  Ã‰tant donnÃ© que <i>N</i> doit Ãªtre un entier et que vous ne pouvez mettre qu'un certain nombre de fichiers avant que la taille du noyau ne tombe Ã  zÃ©ro, il suffit de vÃ©rifier toutes les valeurs possibles de <i>N</i> et de sÃ©lectionner celle qui donne la plus grande sortie. <br><br>  L'application de la procÃ©dure d'optimisation Ã  <i>X</i> = 42 374 pour 42.zip trouve un maximum Ã  <i>N</i> = 250. Ces 250 fichiers nÃ©cessitent 21 195 octets de surcharge, ce qui laisse 21 179 octets pour le noyau.  Un noyau de cette taille est dÃ©compressÃ© en 21 841 249 octets (rapport 1031,3 pour 1).  250 copies du noyau dÃ©compressÃ© et quelques en-tÃªtes de fichiers locaux citÃ©s donnent une sortie totale dÃ©compressÃ©e de 5 461 307 620 octets et un taux de compression de 129 000. <br><br><ul><li>  <a href="">zbsm.zip</a> 42 ko â†’ 5,5 Go </li></ul><pre>  zipbomb --mode = quoted_overlap --num-files = 250 --compressed-size = 21179&gt; zbsm.zip </pre><br>  L'optimisation a conduit Ã  une rÃ©partition presque uniforme de l'espace entre le noyau et les en-tÃªtes de fichiers.  Ce n'est pas un hasard.  ConsidÃ©rons un modÃ¨le simplifiÃ© d'une construction de citation avec chevauchement.  Dans un modÃ¨le simplifiÃ©, nous ignorons les noms de fichiers, ainsi qu'une lÃ©gÃ¨re augmentation de la taille du fichier de sortie en raison de la citation des en-tÃªtes des fichiers locaux.  L'analyse du modÃ¨le simplifiÃ© montrera que la distribution optimale entre le noyau et les en-tÃªtes de fichier est approximativement uniforme, et la taille de sortie avec la distribution optimale croÃ®t de faÃ§on quadratique en fonction de la taille de l'entrÃ©e. <br><br>  DÃ©finition de certaines constantes et variables: <br><br><div class="scrollable-table"><table><tbody><tr><td>  X </td><td></td><td>  taille du fichier zip (considÃ©rÃ© comme fixe) </td></tr><tr><td>  N </td><td></td><td>  nombre de fichiers dans l'archive zip (variable d'optimisation) </td></tr><tr><td>  Cdh </td><td>  = 46 </td><td>  taille d'en-tÃªte du rÃ©pertoire central (sans nom de fichier) </td></tr><tr><td>  Lfh </td><td>  = 30 </td><td>  taille de l'en-tÃªte du fichier local (sans nom de fichier) </td></tr><tr><td>  Q </td><td>  = 5 </td><td>  DEFLATE bloc taille non compressÃ©e </td></tr><tr><td>  C </td><td>  â‰ˆ 1032 </td><td>  taux de compression du noyau </td></tr></tbody></table></div><br>  Soit <i>H (N)</i> le volume de la surcharge pour les en-tÃªtes de <i>N</i> fichiers.  Consultez le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">tableau</a> pour comprendre l'essence de la formule. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">H</span><span class="MJXp-mo" id="MJXp-Span-3" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">N</span><span class="MJXp-mo" id="MJXp-Span-5" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-6" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">N</span><span class="MJXp-mo" id="MJXp-Span-8" style="margin-left: 0.267em; margin-right: 0.267em;">â‹…</span><span class="MJXp-mo" id="MJXp-Span-9" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">H</span><span class="MJXp-mo" id="MJXp-Span-13" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">L</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">H</span><span class="MJXp-mo" id="MJXp-Span-17" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-18" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-19" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">N</span><span class="MJXp-mo" id="MJXp-Span-21" style="margin-left: 0.267em; margin-right: 0.267em;">âˆ’</span><span class="MJXp-mn" id="MJXp-Span-22">1</span><span class="MJXp-mo" id="MJXp-Span-23" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-24" style="margin-left: 0.267em; margin-right: 0.267em;">â‹…</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">Q</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="42.802ex" height="2.66ex" viewBox="0 -832 18428.8 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMATHI-48" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMAIN-28" x="888" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMATHI-4E" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMAIN-29" x="2166" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMAIN-3D" x="2833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMATHI-4E" x="3890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMAIN-22C5" x="5000" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMAIN-28" x="5501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMATHI-43" x="5891" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMATHI-44" x="6651" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMATHI-48" x="7480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMAIN-2B" x="8590" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMATHI-4C" x="9591" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMATHI-46" x="10272" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMATHI-48" x="11022" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMAIN-29" x="11910" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMAIN-2B" x="12522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMAIN-28" x="13523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMATHI-4E" x="13912" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMAIN-2212" x="15023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMAIN-31" x="16024" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMAIN-29" x="16524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMAIN-22C5" x="17136" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgUoPTXSUHqKSEMko6o-2OmwkjjZg#MJMATHI-51" x="17637" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> H (N) = N â‹… (CDH + LFH) + (N - 1) â‹… Q </script></p><br>  Pour le noyau, il reste des emplacements <i>X - H (N)</i> .  La taille totale dÃ©compressÃ©e <i>S <sub>X</sub> (N)</i> est Ã©gale Ã  la taille de <i>N</i> copies du noyau dÃ©compressÃ© avec le rapport <i>C</i> (dans ce modÃ¨le simplifiÃ©, nous ignorons la lÃ©gÃ¨re extension supplÃ©mentaire des en-tÃªtes de fichiers locaux mentionnÃ©s). <br><br><p><math> </math> $$ afficher $$ S_X (N) = (X - H (N)) CN \\ = (X - (N â‹… (CDH + LFH) + (N - 1) â‹… Q)) CN \\ = - - (CDH + LFH + Q) CN ^ 2 + (X + Q) CN $$ afficher $$ </p><br>  S <sub>X</sub> (N) est un polynÃ´me dans la partie N, par consÃ©quent, le maximum devrait Ãªtre oÃ¹ la dÃ©rivÃ©e S ' <sub>X</sub> (N) est Ã©gale Ã  zÃ©ro.  Prendre la dÃ©rivÃ©e et trouver zÃ©ro nous donne N <sub>OPT</sub> , le nombre optimal de fichiers. <br><br><p><math> </math> $$ afficher $$ Sâ€²X (N_ {OPT}) = âˆ’2 (CDH + LFH + Q) C N_ {OPT} + (X + Q) C \\ 0 = âˆ’2 (CDH + LFH + Q) C N_ {OPT} + (X + Q) C \\ N_ {OPT} = (X + Q) / (CDH + LFH + Q) / 2 $$ affichage $$ </p><br>  <i>H (N <sub>OPT</sub> )</i> donne la quantitÃ© optimale d'espace pour placer les en-tÃªtes de fichier.  Il est indÃ©pendant de CDH, LFH et C et est proche de <i>X / 2</i> . <br><br><p><math> </math> $$ afficher $$ H (N_ {OPT}) = N_ {OPT} â‹… (CDH + LFH) + (N_ {OPT} - 1) â‹… Q \\ = (X - Q) / 2 $$ afficher $$ </p><br>  S <sub>X</sub> (N <sub>OPT</sub> ) - taille totale non emballÃ©e Ã  distribution optimale.  De cela, nous voyons que la taille de la sortie augmente de faÃ§on quadratique avec l'augmentation des donnÃ©es d'entrÃ©e. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-249"><span class="MJXp-msubsup" id="MJXp-Span-250"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-252" style="vertical-align: -0.4em;">X</span></span><span class="MJXp-mo" id="MJXp-Span-253" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-254"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255" style="margin-right: 0.05em;">N</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-256" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-257">O</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">P</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">T</span></span></span><span class="MJXp-mo" id="MJXp-Span-260" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-261" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-262" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-263">X</span><span class="MJXp-mo" id="MJXp-Span-264" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-265">Q</span><span class="MJXp-msubsup" id="MJXp-Span-266"><span class="MJXp-mo" id="MJXp-Span-267" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-268" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">C</span><span class="MJXp-mrow" id="MJXp-Span-270"><span class="MJXp-mo" id="MJXp-Span-271" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mo" id="MJXp-Span-272" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-273">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">H</span><span class="MJXp-mo" id="MJXp-Span-276" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277">L</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-278">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">H</span><span class="MJXp-mo" id="MJXp-Span-280" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">Q</span><span class="MJXp-mo" id="MJXp-Span-282" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-283"><span class="MJXp-mo" id="MJXp-Span-284" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-285">4</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> S_X (N_ {OPT}) = (X + Q) ^ 2C / (CDH + LFH + Q) / 4 </script></p><br>  En augmentant la taille du fichier zip, nous rencontrerons finalement les limites du format zip: l'archive ne peut pas avoir plus de 2 <sup>16</sup> âˆ’1 fichiers avec une taille ne dÃ©passant pas 2 <sup>32</sup> âˆ’1 octets chacun.  Pire, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">certaines implÃ©mentations</a> prennent des valeurs maximales comme indicateur de la prÃ©sence d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">extensions 64 bits</a> , donc nos limites sont en fait 2 <sup>16</sup> -2 et 2 <sup>32</sup> -2.  Il arrive que la premiÃ¨re fois nous rencontrons une limite sur la taille d'un fichier non compressÃ©.  Avec une taille de fichier zip de 8 319 377 octets, l'optimisation naÃ¯ve nous donnera le nombre de fichiers 47 837 et un fichier maximum de 2 <sup>32</sup> +311 octets. <br><br>  (En fait, tout est un peu plus compliquÃ©, car les limites exactes dÃ©pendent de l'implÃ©mentation. Le fichier zip Python <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ignore le</a> nombre de fichiers, archive / zip dans Go <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">permet d'</a> augmenter le nombre de fichiers jusqu'Ã  ce qu'ils correspondent aux 16 bits infÃ©rieurs. Mais pour une compatibilitÃ© gÃ©nÃ©rale, nous devons respecter limites Ã©tablies). <br><br>  Si nous ne pouvons pas augmenter indÃ©finiment <i>N</i> ou la taille du noyau, nous aimerions trouver le taux de compression maximum dans le format zip.  Vous devez rendre le noyau aussi grand que possible avec le nombre maximum de fichiers.  MalgrÃ© le fait que nous ne pouvons plus maintenir une sÃ©paration approximativement uniforme entre le noyau et les en-tÃªtes de fichiers, chaque fichier ajoutÃ© augmente <i>toujours</i> le taux de compression - mais pas aussi vite que si nous pouvions continuer Ã  augmenter le noyau.  En fait, Ã  mesure que des fichiers sont ajoutÃ©s, nous devrons <i>rÃ©duire la</i> taille du noyau pour libÃ©rer de l'espace pour la taille de fichier maximale, qui augmente lÃ©gÃ¨rement avec chaque fichier ajoutÃ©. <br><br>  Le plan conduit Ã  une archive zip avec 2 <sup>16</sup> âˆ’2 fichiers et un noyau, qui est dÃ©compressÃ© en 2 <sup>32</sup> âˆ’2 178 825 octets.  Les fichiers seront plus volumineux vers le dÃ©but de l'archive zip - le premier et le plus gros fichier est dÃ©compressÃ© en 2 <sup>32</sup> âˆ’56 octets.  C'est aussi proche que possible de l'utilisation des paramÃ¨tres de sortie approximatifs de bulk_deflate - l'encodage des 54 derniers octets coÃ»tera plus cher que leur taille (le fichier zip dans son ensemble a un taux de compression de 28 millions, et les 54 derniers octets recevront un maximum de 54 â‹… 10 <sup>32</sup> â‹… ( 2 <sup>16</sup> - 2) â‰ˆ 36 - 5 millions d'octets, donc cela n'aide que si 54 octets peuvent Ãªtre encodÃ©s en un octet - et je n'ai pas pu coder en moins de deux. Par consÃ©quent, si vous ne pouvez pas encoder 54 octets en 1 octet, cela ne fait que rÃ©duire le taux de compression).  La taille de sortie de cette bombe zip est de 281 395 456 244 934 octets, 99,97% du maximum thÃ©orique (2 <sup>32</sup> - 1) Ã— (2 <sup>16</sup> - 1).  Toute amÃ©lioration significative du taux de compression ne peut Ãªtre obtenue qu'en rÃ©duisant la taille du signal d'entrÃ©e et non en augmentant la sortie. <br><br><ul><li>  <a href="">zblg.zip</a> 10 Mo â†’ 281 To </li></ul><pre>  zipbomb --mode = quoted_overlap --num-files = 65534 --max-uncompressed-size = 4292788525&gt; zblg.zip </pre><br><h1>  Calcul CRC-32 efficace </h1><br>  Parmi les mÃ©tadonnÃ©es dans l'en-tÃªte du rÃ©pertoire central et l'en-tÃªte du fichier local se trouve une somme de contrÃ´le des donnÃ©es du fichier non compressÃ© - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CRC-32</a> .  Cela pose un problÃ¨me car la quantitÃ© de calculs CRC-32 pour chaque fichier est proportionnelle Ã  sa taille, qui est trÃ¨s grande par dÃ©faut (aprÃ¨s tout, c'est une bombe zip).  Nous prÃ©fÃ©rons effectuer un travail au moins proportionnel Ã  la taille de l'archive.  Deux facteurs jouent en notre faveur: tous les fichiers ont un noyau commun et un noyau non compressÃ© est une chaÃ®ne d'octets rÃ©pÃ©tÃ©s.  Imaginez le CRC-32 comme un produit matriciel - cela nous permettra non seulement de calculer rapidement la somme de contrÃ´le du noyau, mais Ã©galement de rÃ©utiliser les calculs entre les fichiers.  La mÃ©thode dÃ©crite dans cette section est une petite extension de la fonction <a href="">crc32_combine</a> dans zlib, que Mark Adler explique <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . <br><br>  Le CRC-32 peut Ãªtre modÃ©lisÃ© comme une machine d'Ã©tat, mettant Ã  jour un registre d'Ã©tat 32 bits pour chaque bit d'entrÃ©e.  Les opÃ©rations de mise Ã  jour de base pour les bits 0 et 1 sont les suivantes: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">uint32 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">crc32_update_0</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(uint32 state)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Shift out the least significant bit. bit b = state &amp; 1; state = state &gt;&gt; 1; // If the shifted-out bit was 1, XOR with the CRC-32 constant. if (b == 1) state = state ^ 0xedb88320; return state; } uint32 crc32_update_1(uint32 state) { // Do as for a 0 bit, then XOR with the CRC-32 constant. return crc32_update_0(state) ^ 0xedb88320; }</span></span></code> </pre> <br>  Si vous reprÃ©sentez le registre d'Ã©tat comme un vecteur binaire Ã  32 Ã©lÃ©ments et utilisez XOR pour l'addition et la multiplication, alors <code>crc32_update_0</code> est un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">mappage linÃ©aire</a> ;  c'est-Ã -dire qu'il peut Ãªtre reprÃ©sentÃ© comme une multiplication par une <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">matrice de transition</a> binaire 32 Ã— 32.  Pour comprendre pourquoi, notez que multiplier une matrice par un vecteur revient simplement Ã  additionner les colonnes de la matrice aprÃ¨s avoir multipliÃ© chaque colonne par l'Ã©lÃ©ment correspondant du vecteur.  L' <code>state &gt;&gt; 1</code> opÃ©ration de dÃ©calage <code>state &gt;&gt; 1</code> prend simplement chaque bit <i>i</i> du vecteur d'Ã©tat et le multiplie par un vecteur qui est nul partout sauf pour le bit <i>i</i> - 1 (numÃ©rotation des bits de droite Ã  gauche).  Relativement parlant, l' <code>state ^ 0xedb88320</code> XOR final <code>state ^ 0xedb88320</code> se produit uniquement lorsque le bit <code>b</code> est Ã©gal Ã  un.  Cela peut Ãªtre reprÃ©sentÃ© comme la premiÃ¨re multiplication de b par 0xedb88320, puis XORing Ã  cet Ã©tat. <br><br>  De plus, <code>crc32_update_1</code> n'est qu'une <code>crc32_update_0</code> plus (XOR).<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela fait </font></font><code>crc32_update_1</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une transformation affine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : multiplication matricielle suivie d'une cartographie (c'est-Ã -dire, addition de vecteur). Nous pouvons imaginer la multiplication et la cartographie matricielles en une seule Ã©tape, si nous augmentons la taille de la matrice de transformation Ã  33 Ã— 33 et ajoutons un Ã©lÃ©ment supplÃ©mentaire au vecteur d'Ã©tat, qui est toujours 1 (cette reprÃ©sentation est appelÃ©e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coordonnÃ©es homogÃ¨nes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><br><img src="https://habrastorage.org/webt/sg/ay/or/sgayorbdqetnkmc1y-qm42uywic.png"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les matrices de transformation sont 33 Ã— 33 M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui calculent le changement d'Ã©tat CRC-32 effectuÃ© respectivement par les bits 0 et 1. Les vecteurs de colonne sont stockÃ©s avec le bit le plus significatif ci-dessous: en lisant la premiÃ¨re colonne de bas en haut, vous voyez la constante polynomiale CRC-32 edb8832016 = </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">111</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">111</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 000 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 00000 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 00 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 00000 </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ces deux matrices ne diffÃ¨rent que dans la derniÃ¨re colonne, qui reprÃ©sente le vecteur de translation en coordonnÃ©es homogÃ¨nes. Dans M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0, la</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> translation est nulle et dans M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1, c'est</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> edb88320 </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , la constante polynomiale est CRC-32. Les </font><font style="vertical-align: inherit;">unitÃ©s sont immÃ©diatement au-dessus de l'Ã©tat de l'opÃ©ration en </font><font style="vertical-align: inherit;">diagonale</font></font><code>state &gt;&gt; 1</code></font></i> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> deux opÃ©rations</font></font><code>crc32_update_0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code>crc32_update_1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peuvent Ãªtre reprÃ©sentÃ©s par la matrice de transition de 33 x 33. Les matrices M</font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et M</font><sub><font style="vertical-align: inherit;"> 1</font></sub><font style="vertical-align: inherit;"> sont reprÃ©sentÃ©es.</font></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">L'avantage de la reprÃ©sentation matricielle est que les matrices peuvent Ãªtre multipliÃ©es. </font><font style="vertical-align: inherit;">Supposons que nous voulons voir un changement d'Ã©tat effectuÃ© en traitant un caractÃ¨re ASCII Â«aÂ», dont la reprÃ©sentation binaire est 01100001 </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">On peut imaginer le changement cumulÃ© de l'Ã©tat du CRC-32 de ces huit bits dans une matrice de transformation:</font></font><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-286"><span class="MJXp-msubsup" id="MJXp-Span-287"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-289" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-290" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-291"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-293" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-296" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-297"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-298" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-299" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-300"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-301" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-302" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-303"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-305" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-306"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-307" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-308" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-309"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-311" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-312"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-314" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-6">M_a = M_0 M_1 M_1 M_0 M_0 M_0 M_0 M_1</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et nous pouvons imaginer un changement dans l'Ã©tat d'une rangÃ©e rÃ©pÃ©tant Â«aÂ» en multipliant plusieurs copies de M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Ã©levant la matrice Ã  une puissance. </font><font style="vertical-align: inherit;">Nous pouvons le </font><font style="vertical-align: inherit;">faire rapidement en </font><font style="vertical-align: inherit;">utilisant l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algorithme d'exponentiation rapide</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ce </font><font style="vertical-align: inherit;">qui permet de calculer le M </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> connectez </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></sub> <sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ã©tapes. </font><font style="vertical-align: inherit;">Par exemple, voici une matrice pour changer l'Ã©tat d'une chaÃ®ne de 9 caractÃ¨res 'a':</font></font><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-315"><span class="MJXp-mo" id="MJXp-Span-316" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-317"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-319" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-320"><span class="MJXp-mo" id="MJXp-Span-321" style="margin-left: 0em; margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-322" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-323" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-324"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-325" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-326" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-327"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-329" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-330"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-332" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-333"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-334" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-335" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-336"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-338" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-339"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-341" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-342"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-344" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-345"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-346" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-347" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span></span><font style="vertical-align: inherit;"><span class="MJXp-msubsup" id="MJXp-Span-348"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">M </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-348"><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-350" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-345"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-346" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">M </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-345"><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-347" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;">a </font></span></span></font><span class="MJXp-msubsup" id="MJXp-Span-348"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-350" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></span></span><span class="MJXp-mspace" id="MJXp-Span-351" style="width: 0em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-352" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-353" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-354"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-355" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-356" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-msubsup" id="MJXp-Span-357"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-358" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-359" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-msubsup" id="MJXp-Span-360"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-361" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-362" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-msubsup" id="MJXp-Span-363"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-364" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-365" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-msubsup" id="MJXp-Span-366"><span class="MJXp-mo" id="MJXp-Span-367" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-368" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-369"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-370" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-371" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mspace" id="MJXp-Span-372" style="width: 0em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-373" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-374" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-375" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-376"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-377" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-378" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-msubsup" id="MJXp-Span-379"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-380" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-381" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-msubsup" id="MJXp-Span-382"><span class="MJXp-mo" id="MJXp-Span-383" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-384" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-385"><span class="MJXp-mo" id="MJXp-Span-386" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-387" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-388"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-389" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-390" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mspace" id="MJXp-Span-391" style="width: 0em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-392" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-393" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-394" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-395" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-396"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-397" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-398" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-msubsup" id="MJXp-Span-399"><span class="MJXp-mo" id="MJXp-Span-400" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-401" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-402"><span class="MJXp-mo" id="MJXp-Span-403" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-404" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-405"><span class="MJXp-mo" id="MJXp-Span-406" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-407" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-408"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409" style="margin-right: 0.05em;">M</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-410" style="vertical-align: -0.4em;">a</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-7">(M_a)^9 = M_a M_a M_a M_a M_a M_a M_a M_a M_a\\ = (M_a M_a M_a M_a)^2 M_a\\ = ((M_a M_a)^2)^2 M_a\\ = (((M_a)^2)^2)^2 M_a</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'algorithme de multiplication rapide de matrice est utile pour calculer le </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">noyau</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> M </font><font style="vertical-align: inherit;">, une matrice pour un noyau non compressÃ©, car le noyau est une chaÃ®ne d'octets rÃ©pÃ©tÃ©s. Pour obtenir la somme de contrÃ´le CRC-32 de la matrice, multipliez la matrice par le vecteur zÃ©ro (le vecteur zÃ©ro est en coordonnÃ©es uniformes, soit 32 zÃ©ros, puis l'unitÃ©; ici, nous omettons la lÃ©gÃ¨re complication du prÃ© et post-traitement de la somme de contrÃ´le pour vÃ©rifier la conformitÃ©). Pour calculer la somme de contrÃ´le de chaque fichier, nous travaillons dans la direction opposÃ©e. Nous commenÃ§ons par un initialisÃ©es </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M: M = </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le noyau</font></font></sub></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La somme de contrÃ´le du noyau est Ã©galement la somme de contrÃ´le du fichier final </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , donc nous multiplions </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un vecteur zÃ©ro et stocke la somme de </font><font style="vertical-align: inherit;">contrÃ´le reÃ§ue dans la CDH </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et LFH </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les donnÃ©es du fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N - 1 sont les</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mÃªmes que les donnÃ©es du fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais avec le prÃ©fixe LFH </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ajoutÃ© </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Par consÃ©quent, nous calculons</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-411"><span class="MJXp-msubsup" id="MJXp-Span-412"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-414" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span><span class="MJXp-mrow" id="MJXp-Span-416"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-418"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-419" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-420" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></span></span></span></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , matrice de changement d'Ã©tat pour LFH</font><sub><font style="vertical-align: inherit;">N</font></sub><font style="vertical-align: inherit;">et mise Ã  jour</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-8">M_{L{FH_N}}</script><font style="vertical-align: inherit;"></font><sub><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-421"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-422"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mo" id="MJXp-Span-423" style="margin-left: 0.111em; margin-right: 0.167em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-425"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-426" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M </font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-427" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span><span class="MJXp-mrow" id="MJXp-Span-429"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-430"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-431"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-432" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-433" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-9">M := M M_{L{FH_N}}</script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maintenant, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> reprÃ©sente le changement d'Ã©tat cumulatif du traitement de LFH </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> derriÃ¨re le noyau. </font><font style="vertical-align: inherit;">Nous calculons la somme de contrÃ´le pour le fichier </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N - 1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , multipliant Ã  nouveau </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> par le vecteur zÃ©ro. </font><font style="vertical-align: inherit;">Nous continuons la procÃ©dure en accumulant des matrices de changement d'Ã©tat dans </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jusqu'Ã  ce que tous les fichiers soient traitÃ©s.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Extension: Zip64 </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plus tÃ´t, nous avons Ã©tÃ© confrontÃ©s au problÃ¨me de l'expansion en raison des limitations du format zip - il Ã©tait impossible d'Ã©mettre plus de 281 To, quelle que soit la faÃ§on dont le fichier zip Ã©tait emballÃ©. </font><font style="vertical-align: inherit;">Vous pouvez transcender ces limites en utilisant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zip64</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, une extension au format zip qui augmente la taille de certains champs d'en-tÃªte Ã  64 bits. La prise en charge de Zip64 n'est en aucun cas universelle, mais c'est l'une des extensions les plus couramment implÃ©mentÃ©es. Quant au taux de compression, l'effet de Zip64 est d'augmenter la taille de l'en-tÃªte du rÃ©pertoire central de 46 Ã  58 octets, et la taille de l'en-tÃªte du rÃ©pertoire local de 30 Ã  50 octets. En regardant la formule du coefficient d'expansion optimal dans un modÃ¨le simplifiÃ©, nous voyons que la bombe zip au format Zip64 croÃ®t toujours de maniÃ¨re quadratique, mais plus lentement en raison du plus grand dÃ©nominateur - cela peut Ãªtre vu dans le diagramme ci-dessous. En raison de la perte de compatibilitÃ© et du retard de croissance, nous supprimons presque toutes les restrictions sur la taille des fichiers.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Supposons que nous ayons besoin d'une bombe zip qui se dÃ©veloppe Ã  4,5 PB, comme 42.zip. </font><font style="vertical-align: inherit;">Quelle doit Ãªtre la taille des archives? </font><font style="vertical-align: inherit;">En utilisant la recherche binaire, nous constatons que la taille minimale d'un tel fichier est de 46 Mo.</font></font><br><br><ul><li> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zbxl.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 46 Mo â†’ 4,5 PB (Zip64, moins compatible)</font></font></li></ul><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zipbomb --mode = quoted_overlap --num-files = 190023 --compressed-size = 22982788 --zip64&gt; zbxl.zip </font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4,5 pÃ©taoctets - Ã  peu prÃ¨s la </font><font style="vertical-align: inherit;">mÃªme </font><font style="vertical-align: inherit;">quantitÃ© de donnÃ©es a Ã©tÃ© enregistrÃ©e par le tÃ©lescope Event Horizon pour la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">premiÃ¨re image d'un trou noir</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : des racks et des racks avec des disques durs dans le centre de donnÃ©es. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avec Zip64, il n'est presque pas intÃ©ressant de considÃ©rer le taux de compression maximal, car nous pouvons simplement continuer Ã  augmenter la taille du fichier zip et le taux de compression avec lui, jusqu'Ã  ce que mÃªme le fichier zip compressÃ© devienne prohibitif. Un seuil intÃ©ressant, cependant, est de 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> octets (18 EB ou 16 EiB) - tant de donnÃ©es ne rentreront pas sur la plupart des systÃ¨mes de fichiers. La recherche binaire trouve la plus petite bombe zip qui produit au moins autant de sortie: elle contient 12 millions de fichiers et un noyau compressÃ© de 1,5 Go. La taille totale du fichier zip est de 2,9 Go et il est dÃ©ballÃ© en 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+11 727 895 877 octets avec un taux de compression de plus de 6,2 milliards Ã  un. </font><font style="vertical-align: inherit;">Je n'ai pas tÃ©lÃ©chargÃ© ce fichier pour le tÃ©lÃ©charger, mais vous pouvez le gÃ©nÃ©rer vous-mÃªme en utilisant le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">code source</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il a des fichiers d'une taille telle que mÃªme un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bug a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ã©tÃ© rÃ©vÃ©lÃ© </font><font style="vertical-align: inherit;">dans Info-ZIP UnZip 6.0.</font></font><br><br><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zipbomb --mode = quoted_overlap --num-files = 12056313 --compressed-size = 1482284040 --zip64&gt; zbxxl.zip </font></font></pre><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Extension: bzip2 </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DEFLATE est l'algorithme de compression le plus courant pour le format zip, mais ce n'est qu'une des nombreuses options. Le deuxiÃ¨me algorithme le plus courant est probablement </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bzip2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Bien qu'il ne soit pas aussi compatible que DEFLATE. ThÃ©oriquement, dans bzip2, le taux de compression maximal est d'environ 1,4 million pour un, ce qui permet un compactage plus dense du noyau. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bzip2 code d'abord le Â«codage de longueur d'exÃ©cutionÂ», rÃ©duisant de 51 fois la longueur de chaÃ®ne des octets rÃ©pÃ©tÃ©s. Ensuite, les donnÃ©es sont divisÃ©es en blocs de 900 Ko et chaque bloc est compressÃ© sÃ©parÃ©ment. ThÃ©oriquement, un bloc peut compresser jusqu'Ã  32 octets. 900 000 Ã— 51/32 = 1 434 375. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ignorant la perte de compatibilitÃ©, bzip2 fait-il une bombe plus efficace?</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oui - mais uniquement pour les petits fichiers. Le problÃ¨me est que dans bzip2 il n'y a rien de tel que les blocs DEFLATE non compressÃ©s que nous avons utilisÃ©s pour citer les en-tÃªtes des fichiers locaux. Ainsi, il est impossible de chevaucher des fichiers et de rÃ©utiliser le noyau - pour chaque fichier, vous devez Ã©crire votre propre copie, donc le taux de compression global ne sera pas meilleur que le taux pour un seul fichier. Dans le graphique ci-dessous, nous voyons que sans chevauchement, bzip2 est supÃ©rieur Ã  DEFLATE uniquement pour les fichiers d'environ mÃ©gaoctets. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il n'y a qu'un espoir pour un autre moyen de citer les en-tÃªtes dans bzip2, qui est discutÃ© dans la section suivante. De plus, si vous savez qu'un analyseur zip particulier prend en charge bzip2 </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">permet des noms de fichiers incompatibles, vous pouvez utiliser la construction de chevauchement complÃ¨te, qui n'a pas besoin d'Ãªtre citÃ©e. </font></font><br><br><img src="https://habrastorage.org/getpro/habr/post_images/350/bb1/aa1/350bb1aa131f71762b2ad03d4203ac66.svg"><br> <i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparaison du taux de compression de diffÃ©rentes bombes zip. Faites attention Ã  l'axe logarithmique. Chaque design est illustrÃ© avec et sans Zip64. Les structures sans chevauchement ont un taux de croissance linÃ©aire, qui peut Ãªtre vu Ã  partir du rapport constant des axes. Le dÃ©calage vertical du graphique bzip2 signifie que le taux de compression de bzip2 est environ mille fois supÃ©rieur Ã  celui de DEFLATE. Les constructions DEFLATE citÃ©es ont un taux de croissance quadratique, comme en tÃ©moigne une inclinaison vers les axes 2: 1. La variante Zip64 est lÃ©gÃ¨rement moins efficace, mais permet plus de 281 To. Les graphiques pour bzip2 avec des citations Ã  travers un champ supplÃ©mentaire passent de quadratique Ã  linÃ©aire lorsque la taille maximale du fichier est atteinte (2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> âˆ’2 octets), ou le nombre maximal autorisÃ© de fichiers</font></font></font></i> <br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Extension: cotation via un champ supplÃ©mentaire </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jusqu'Ã  prÃ©sent, nous avons utilisÃ© la fonction DEFLATE pour citer les en-tÃªtes des fichiers locaux, et nous venons de voir que cette astuce ne fonctionne pas dans bzip2. </font><font style="vertical-align: inherit;">Cependant, il existe une autre mÃ©thode de citation, un peu plus limitÃ©e, qui n'utilise que des fonctions de format zip et est indÃ©pendante de l'algorithme de compression. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ã€ la fin de la structure d'en-tÃªte du fichier local, il y a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un champ supplÃ©mentaire de</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> longueur variable pour stocker des informations qui ne correspondent pas aux champs d'en-tÃªte habituels ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APPNOTE.TXT, section 4.3.7</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">Des informations supplÃ©mentaires peuvent inclure, par exemple, un horodatage ou un uid / gid d'Unix. </font><font style="vertical-align: inherit;">Les informations Zip64 sont Ã©galement stockÃ©es dans un champ supplÃ©mentaire. </font><font style="vertical-align: inherit;">Un champ supplÃ©mentaire est reprÃ©sentÃ© comme une structure de valeur de longueur; </font><font style="vertical-align: inherit;">si vous augmentez la longueur sans ajouter de valeur, le champ supplÃ©mentaire inclura ce qu'il y a derriÃ¨re dans le fichier zip, Ã  savoir l'en-tÃªte suivant du fichier local. </font><font style="vertical-align: inherit;">En utilisant cette mÃ©thode, chaque en-tÃªte du fichier local peut Â«citerÂ» les en-tÃªtes suivants, en les enfermant dans son propre champ supplÃ©mentaire. </font><font style="vertical-align: inherit;">ComparÃ© Ã  DEFLATE, il y a trois avantages:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Citer via un champ supplÃ©mentaire ne nÃ©cessite que 4 octets, pas 5, ce qui laisse plus d'espace pour le noyau. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Il n'augmente pas la taille du fichier, ce qui signifie un noyau plus grand, compte tenu des limites du format zip. </font></font><br></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Il fournit des citations dans bzip2. </font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MalgrÃ© ces avantages, la cotation dans des champs supplÃ©mentaires est moins flexible. Ce n'est pas une chaÃ®ne, comme dans DEFLATE: chaque en-tÃªte d'un fichier local doit contenir non seulement l'en-tÃªte immÃ©diatement suivant, mais aussi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tous</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les en-tÃªtes suivants. Les champs supplÃ©mentaires augmentent Ã  mesure que vous approchez du dÃ©but du fichier zip. Ã‰tant donnÃ© que la longueur maximale du champ est de 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> âˆ’1 octets, seuls 1808 en-tÃªtes de fichiers locaux (ou 1170 en Zip64) peuvent Ãªtre citÃ©s, en supposant que les noms sont </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attribuÃ©s comme prÃ©vu.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(dans le cas de DEFLATE, vous pouvez utiliser un champ supplÃ©mentaire pour citer les premiers en-tÃªtes (les plus courts) des fichiers locaux, puis passer Ã  la citation DEFLATE pour le reste). Autre problÃ¨me: pour correspondre Ã  la structure interne des donnÃ©es du champ supplÃ©mentaire, il est nÃ©cessaire de sÃ©lectionner une balise 16 bits pour le type ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APPNOTE.TXT, section 4.5.2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) prÃ©cÃ©dant les donnÃ©es de citation. Nous voulons sÃ©lectionner une balise de type qui obligera les analyseurs Ã  ignorer les donnÃ©es entre guillemets, plutÃ´t que d'essayer de les interprÃ©ter comme des mÃ©tadonnÃ©es significatives. Les analyseurs Zip devraient ignorer les balises de type inconnu, afin que nous puissions sÃ©lectionner des balises au hasard, mais il y a un risque qu'Ã  l'avenir certaines balises violent la compatibilitÃ© du design.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le schÃ©ma prÃ©cÃ©dent illustre la possibilitÃ© d'utiliser des champs supplÃ©mentaires dans bzip2, c et sans Zip64. Sur les deux graphiques, il y a un tournant, lorsque la croissance passe du quadratique au linÃ©aire. Sans Zip64, cela se produit lorsque la taille maximale du fichier non compressÃ© est atteinte (2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">âˆ’2 octets); alors vous pouvez seulement augmenter le nombre de fichiers, mais pas leur taille. Le graphique se termine complÃ¨tement lorsque le nombre de fichiers atteint 1809, puis nous manquons d'espace dans un champ supplÃ©mentaire pour citer des en-tÃªtes supplÃ©mentaires. Avec Zip64, une fracture se produit sur 1171 fichiers, aprÃ¨s quoi seule la taille du fichier peut Ãªtre augmentÃ©e, mais pas leur nombre. Un champ supplÃ©mentaire aide dans le cas de DEFLATE, mais la diffÃ©rence est si petite qu'elle n'est pas visuellement perceptible. Il augmente le taux de compression de zbsm.zip de 1,2%; zblg.zip de 0,019%; et zbxl.zip de 0,0025%.</font></font><br><br><h1>  La discussion </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans leur travail sur ce sujet, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pletz et ses collÃ¨gues</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilisent le chevauchement de fichiers pour crÃ©er une archive zip presque auto-rÃ©plicable. Le chevauchement du fichier lui-mÃªme a Ã©tÃ© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">suggÃ©rÃ© plus tÃ´t</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (diapositive 47) par Ginvael Coldwind. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous avons dÃ©veloppÃ© une conception d'une bombe zip avec un chevauchement de devis prenant en compte la compatibilitÃ© - un certain nombre de diffÃ©rences dans les implÃ©mentations, dont certaines sont prÃ©sentÃ©es dans le tableau ci-dessous. La conception rÃ©sultante est compatible avec les analyseurs zip qui fonctionnent de la maniÃ¨re habituelle, c'est-Ã -dire en vÃ©rifiant d'abord le rÃ©pertoire central et en l'utilisant comme index de fichiers. Parmi eux, un analyseur zip unique de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nail</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qui est gÃ©nÃ©rÃ© automatiquement Ã  partir de la grammaire formelle. Cependant, la conception est incompatible avec les analyseurs "en streaming", qui analysent le fichier zip du dÃ©but Ã  la fin en une seule passe sans avoir d'abord lu le rÃ©pertoire central. De par leur nature, les analyseurs en streaming ne permettent en aucun cas aux fichiers de se chevaucher. TrÃ¨s probablement, ils extrairont uniquement le premier fichier. De plus, ils peuvent mÃªme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lancer une</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erreur, comme c'est le cas avec </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">sunzip</font></a><font style="vertical-align: inherit;"> , qui analyse le rÃ©pertoire central Ã  la fin et vÃ©rifie la cohÃ©rence avec les en-tÃªtes des fichiers locaux qu'il a dÃ©jÃ  vus.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous souhaitez que les fichiers extraits commencent par un prÃ©fixe spÃ©cifique diffÃ©rent des octets d'en-tÃªte du fichier local, vous pouvez insÃ©rer un bloc DEFLATE avant le bloc non compressÃ© citÃ© par l'en-tÃªte suivant. Tous les fichiers de l'archive zip ne doivent pas participer Ã  la crÃ©ation de la bombe: vous pouvez inclure des fichiers ordinaires dans l'archive, si nÃ©cessaire, afin de correspondre Ã  un format spÃ©cial (il y a un paramÃ¨tre dans le code source </font></font><code>--template</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour ce cas d'utilisation). De nombreux formats utilisent zip comme conteneur, tels que les documents Java JAR, Android APK et LibreOffice. </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pdf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ã  bien des Ã©gards similaire Ã  zip. Il a une table de rÃ©fÃ©rences croisÃ©es Ã  la fin du fichier qui pointe vers les objets prÃ©cÃ©dents, et il prend en charge la compression des objets via le filtre FlateDecode. Je n'ai pas essayÃ©, mais vous pouvez utiliser l'idÃ©e de citer avec chevauchement pour fabriquer une bombe PDF. Peut-Ãªtre que vous n'avez mÃªme pas Ã  travailler dur ici: binaryhax0r </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ã©crit dans un article de blog</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que vous pouvez simplement spÃ©cifier plusieurs couches FlateDecode sur un objet, aprÃ¨s quoi la crÃ©ation d'une bombe PDF devient triviale. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DÃ©finir une classe particuliÃ¨re de bombes zip dÃ©crit dans cet article est simple: il suffit de trouver les fichiers qui se chevauchent. Mark Adler a Ã©crit un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">patch</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour Unzip Info-ZIP, qui fait exactement cela. </font><font style="vertical-align: inherit;">Cependant, en gÃ©nÃ©ral, le blocage des fichiers qui se chevauchent ne protÃ¨ge pas contre toutes les classes de bombes zip. </font><font style="vertical-align: inherit;">Il est difficile de prÃ©dire Ã  l'avance si le fichier est une bombe zip ou non si vous n'avez pas une connaissance prÃ©cise des composants internes des analyseurs qui seront utilisÃ©s pour l'analyser. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La consultation des en-tÃªtes et la somme des champs Â«taille non compressÃ©eÂ» de tous les fichiers ne fonctionnent pas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , car la valeur dans les en-tÃªtes peut ne pas correspondre Ã  la taille rÃ©elle non compressÃ©e (dans le tableau de compatibilitÃ©, voir la ligne Â«permet que le fichier soit trop petitÂ»). </font><font style="vertical-align: inherit;">Une protection fiable contre les bombes zip comprend des limites de temps, de mÃ©moire et d'espace disque dans l'analyseur zip pendant son fonctionnement. </font><font style="vertical-align: inherit;">Prenez l'analyse des fichiers zip, comme toutes les opÃ©rations complexes avec des donnÃ©es non fiables, avec prudence.</font></font><br><br><div class="scrollable-table"><table><thead><tr><td></td><th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Info-zip </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UnZip 6.0</font></font></a> </th><th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Python 3.7 <br> zipfile</a> </th><th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Go 1.12 <br> archive/zip</a> </th><th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">yauzl 2.10.0 <br> (Node.js)</a> </th><th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Nail <br> examples/zip</a> </th><th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Android 9.0.0 r1 <br> libziparchive</a> </th><th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sunzip 0.4</a> <br> (streaming) </th></tr></thead><tbody><tr><th> DEFLATE </th><td>  âœ“ </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">âœ“</a> </td><td> <a href="">âœ“</a> </td><td> <a href="">âœ“</a> </td><td> <a href="">âœ“</a> </td><td> <a href="">âœ“</a> </td><td> <a href="">âœ“</a> </td></tr><tr><th> Zip64 </th><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">âœ“</a> </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">âœ“</a> </td><td> <a href="">âœ“</a> </td><td> <a href="">âœ“</a> </td><td> <a href="">âˆ’</a> </td><td> <a href="">âˆ’</a> </td><td> <a href="">âœ“</a> </td></tr><tr><th> bzip2 </th><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">âœ“</a> </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">âœ“</a> </td><td> <a href="">âˆ’</a> </td><td> <a href="">âˆ’</a> </td><td> <a href="">âˆ’</a> </td><td> <a href="">âˆ’</a> </td><td> <a href="">âœ“</a> </td></tr><tr><th>     </th><td>  </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">âˆ’</a> </td><td> <a href="">âœ“</a> </td><td> <a href="">âœ“</a> </td><td> <a href="">âœ“</a> </td><td> <a href="">âˆ’</a> </td><td> <a href="">âœ“</a> </td></tr><tr><th>   CRC-32 </th><td> <abbr title="montre le CRC attendu et rÃ©el"></abbr> </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">âˆ’</a> </td><td> <a href=""> </a> </td><td> <a href="">âœ“</a> </td><td> <a href="">âˆ’</a> </td><td> <a href="">âœ“</a> </td><td> <a href="">âˆ’</a> </td></tr><tr><th>      </th><td>  âœ“ </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">âˆ’</a> </td><td> <a href="">âˆ’</a> </td><td> <a href="">âˆ’</a> </td><td> <a href="">âˆ’</a> </td><td> <a href="">âˆ’</a> </td><td> <a href="">âˆ’</a> </td></tr><tr><th>  2 <sup>32</sup> âˆ’1  </th><td>  âœ“ </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">âœ“</a> </td><td> <a href="">âœ“</a> </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">âˆ’</a> </td><td> <a href="">âœ“</a> </td><td> <a href="">âœ“</a> </td><td> <a href="">âœ“</a> </td></tr><tr><th>  2 <sup>16</sup> âˆ’1  </th><td>  âœ“ </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">âœ“</a> </td><td> <a href="">âœ“</a> </td><td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">âˆ’</a> </td><td> <a href="">âœ“</a> </td><td> <a href="">âœ“</a> </td><td> <a href="">âœ“</a> </td></tr></tbody><tbody><tr><th>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">overlap.zip</a> </th><td>  </td><td> âˆ’ </td><td>  âœ“ </td><td>  âœ“ </td><td>  âœ“ </td><td> âˆ’ </td><td> âˆ’ </td></tr><tr><th>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">zbsm.zip  zblg.zip</a> </th><td>  âœ“ </td><td>  âœ“ </td><td>  âœ“ </td><td>  âœ“ </td><td>  âœ“ </td><td>  âœ“ </td><td> âˆ’ </td></tr><tr><th>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">zbxl.zip</a> </th><td>  âœ“ </td><td>  âœ“ </td><td>  âœ“ </td><td>  âœ“ </td><td> âˆ’ </td><td> âˆ’ </td><td> âˆ’ </td></tr></tbody></table></div><br> <i><font color="gray">    zip-,    ,     zip-.      DEFLATE  Zip64,          ,    CRC     32-  16- .</font></i> <br><br><h1>  Remerciements </h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Merci Ã  </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mark Adler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Russ Cox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brandon Enright</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marek Maykovsky</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Josh Wolfe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et aux critiques de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USENIX WOOT 2019</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour leurs commentaires sur le projet de cet article. </font><font style="vertical-align: inherit;">Kaolan McNamara a Ã©valuÃ© l'impact des bombes zip sur la sÃ©curitÃ© de LibreOffice. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une version de cet article a Ã©tÃ© prÃ©parÃ©e pour l'atelier </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USENIX WOOT 2019</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le code source</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est disponible. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les artefacts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ã  prÃ©senter lors de l'atelier se trouvent dans le fichier </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zipbomb-woot19.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avez-vous trouvÃ© un systÃ¨me qui largue l'une des bombes? </font><font style="vertical-align: inherit;">Les bombes vous ont-elles aidÃ© Ã  trouver un bug ou Ã  gagner de l'argent dans un programme de recherche de bug? </font><font style="vertical-align: inherit;">Faites le moi savoir, je vais essayer de le mentionner ici.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> LibreOffice 6.1.5.2 </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AprÃ¨s avoir renommÃ© zblg.zip en zblg.odt ou zblg.docx, LibreOffice crÃ©e et supprime une sÃ©rie de fichiers temporaires d'environ 4 Go, essayant de dÃ©terminer le format de fichier. </font><font style="vertical-align: inherit;">En fin de compte, il termine cette opÃ©ration et supprime les fichiers temporaires Ã  mesure qu'ils arrivent, de sorte que la bombe zip ne provoque qu'un DoS temporaire sans remplir le disque. </font><font style="vertical-align: inherit;">Kaolan McNamara a rÃ©pondu Ã  mon message d'erreur.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mozilla addons-server 2019.06.06 </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai essayÃ© des bombes zip contre l'installation du serveur d'addons local, qui fait partie du logiciel addons.mozilla.org. </font><font style="vertical-align: inherit;">Le systÃ¨me gÃ¨re gracieusement la bombe, imposant un dÃ©lai de 110 secondes sur l'extraction des fichiers. </font><font style="vertical-align: inherit;">La bombe zip se dÃ©veloppe rapidement, dans la mesure oÃ¹ le disque le permet jusqu'Ã  cette limite de temps, mais le processus est alors tuÃ© et les fichiers dÃ©compressÃ©s sont finalement automatiquement effacÃ©s.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> UnZip 6.0 </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mark Adler a Ã©crit un patch pour UnZip pour dÃ©tecter cette classe de bombes zip. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 juillet 2019: j'ai remarquÃ© que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CVE-2019-13232 a Ã©tÃ© attribuÃ© Ã  UnZip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Personnellement, je dirais que la capacitÃ© / l'incapacitÃ© d'UnZip (ou de tout analyseur zip) de traiter ce type de bombe zip est nÃ©cessairement une vulnÃ©rabilitÃ© ou mÃªme un bug. Il s'agit d'une implÃ©mentation naturelle qui ne viole pas les spÃ©cifications, que puis-je dire. Le type de bombe dans cet article n'est qu'un type, et il existe de nombreuses autres faÃ§ons de rÃ©soudre un analyseur zip. Comme mentionnÃ© ci-dessus, si vous souhaitez vous protÃ©ger contre les attaques d'Ã©puisement des ressources, vous ne devez pas essayer de rÃ©pertorier, dÃ©tecter et bloquer chaque attaque connue; il est plutÃ´t nÃ©cessaire d'Ã©tablir des restrictions externes sur le temps et les autres ressources afin que l'analyseur n'entre pas dans une telle situation, quel que soit le type d'attaque qu'il a rencontrÃ©. Il n'y a rien de mal Ã  essayer de dÃ©tecter et de rejeter certains modÃ¨les comme une optimisation de la premiÃ¨re passe,mais vous ne pouvez pas vous arrÃªter lÃ . Ã€ moins que vous finissiez par isoler et restreindre les opÃ©rations avec des donnÃ©es non fiables, votre systÃ¨me est probablement toujours vulnÃ©rable. ConsidÃ©rez l'analogie avec les scripts intersites en HTML: la bonne protection n'est pas d'essayer de filtrer des octets spÃ©cifiques qui peuvent Ãªtre interprÃ©tÃ©s comme du code, mais d'Ã©viter tout correctement.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Moteurs antivirus </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'utilisateur de Twitter @TVqQAAMAAAAEAAA </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rapporte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : "L'antivirus McAfee sur ma machine de test vient d'exploser." </font><font style="vertical-align: inherit;">Je ne l'ai pas testÃ© moi-mÃªme et je n'ai pas de dÃ©tails tels que le numÃ©ro de version. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tavis Ormandi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indique</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VirusTotal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a un certain nombre de dÃ©lais </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">d'expiration pour zblg.zip</font></a><font style="vertical-align: inherit;"> ( </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">capture d'Ã©cran du 6 juin 2019</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ): AhnLab-V3, ClamAV, DrWeb, Endgame, F-Secure, GData, K7AntiVirus, K7GW, MaxSecure, McAfee, McAfee-GW -Edition, Panda, Qihoo-360, Sophos ML, VBA32. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RÃ©sultats pour zbsm.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">capture d'Ã©cran du 6 juin 2019</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) sont similaires, mais avec un ensemble diffÃ©rent de moteurs de temporisation: Baido, Bkav, ClamAV, CMC, DrWeb, Endgame, ESET-NOD32, F-Secure, GData, Kingsoft, McAfee-GW-Edition, NANO-Antivirus, Acronis. </font><font style="vertical-align: inherit;">Fait intÃ©ressant, </font><font style="vertical-align: inherit;">il n'y a pas de dÃ©lais d'attente </font><font style="vertical-align: inherit;">dans les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rÃ©sultats de zbxl.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">capture d'Ã©cran du 6 juin 2019</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Peut-Ãªtre que certains antivirus ne prennent pas en charge Zip64? </font><font style="vertical-align: inherit;">Plusieurs moteurs dÃ©tectent les fichiers comme une sorte de Â«bombe de compressionÂ». </font><font style="vertical-align: inherit;">Il est intÃ©ressant de voir s'ils continueront Ã  le faire avec des modifications mineures, telles que la modification des noms de fichiers ou l'ajout d'un prÃ©fixe ASCII Ã  chaque fichier.</font></font><br><br><h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> DÃ©claration finale </font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est temps de mettre fin Ã  Facebook. </font><font style="vertical-align: inherit;">Ce n'est pas un travail neutre pour vous: chaque jour, quand vous venez au travail, vous faites quelque chose de mal. </font><font style="vertical-align: inherit;">Si vous avez un compte Facebook, supprimez-le. </font><font style="vertical-align: inherit;">Si vous travaillez sur Facebook, licenciez-vous. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et n'oubliez pas que l'Agence de sÃ©curitÃ© nationale doit Ãªtre dÃ©truite.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr459254/">https://habr.com/ru/post/fr459254/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr459244/index.html">Gestionnaire de produits Notes: comportement des utilisateurs sur les pages de jeu de l'App Store. Combien de temps faut-il pour tÃ©lÃ©charger un jeu</a></li>
<li><a href="../fr459246/index.html">Pourquoi la conversion de sites diminue-t-elle? Exemples de 60 erreurs de conception et d'utilisation</a></li>
<li><a href="../fr459248/index.html">Ã‰vÃ©nements numÃ©riques Ã  Moscou du 09 juillet au 14 juillet</a></li>
<li><a href="../fr459250/index.html">WAL dans PostgreSQL: 2. Journal de prÃ©-enregistrement</a></li>
<li><a href="../fr459252/index.html">Semaine de la sÃ©curitÃ© 28: pirater une maison intelligente</a></li>
<li><a href="../fr459256/index.html">Comment nous avons optimisÃ© notre hÃ´pital thÃ©matique pour diffÃ©rentes plateformes</a></li>
<li><a href="../fr459258/index.html">14 000 milles non accrochÃ©s</a></li>
<li><a href="../fr459262/index.html">RetraitÃ© Ã  22 ans</a></li>
<li><a href="../fr459264/index.html">Sortir des rÃ©seaux Tarantool. Synchronisation des nÅ“uds lors du filtrage du trafic</a></li>
<li><a href="../fr459272/index.html">Ã‰criture d'une API pour les composants React, partie 1: ne crÃ©ez pas d'accessoires conflictuels</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>