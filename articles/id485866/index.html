<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ™ŒğŸ¼ ğŸ–•ğŸ¿ â—€ï¸ Integrasi Zimbra Open-Source Edition dengan Enterprise Portal ğŸ‘©ğŸ¿â€âš–ï¸ ğŸ’’ ğŸ“²</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Membuat portal perusahaan adalah praktik umum di antara perusahaan dengan sejumlah besar sistem informasi. Memiliki satu jalur akses ke semua sumber d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Integrasi Zimbra Open-Source Edition dengan Enterprise Portal</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/485866/">  Membuat portal perusahaan adalah praktik umum di antara perusahaan dengan sejumlah besar sistem informasi.  Memiliki satu jalur akses ke semua sumber daya yang diperlukan untuk bekerja menghilangkan kebutuhan untuk bingung dalam lusinan bookmark dan mengingat beberapa kata sandi, yang berarti bahwa karyawan perusahaan dapat fokus pada pekerjaan mereka sebanyak mungkin.  Salah satu sistem informasi utama dalam kasus ini, tentu saja, adalah komunikasi korporat dan sistem e-mail, karena praktis semua karyawan perusahaan menggunakannya dengan satu atau lain cara. <br><br>  Zimbra Collaboration Suite Open-Source Edition hanyalah workstation digital yang dapat memberikan akses tidak hanya ke email, tetapi juga ke kalender digital, daftar tugas, buku alamat, dan dengan bantuan serangkaian ekstensi Zextras Suite Pro dan untuk pengeditan kolaboratif dokumen, perusahaan Obrolan teks dan video dan Drive penyimpanan pribadi.  Selain itu, Zimbra OSE dapat dengan mudah diintegrasikan ke dalam portal perusahaan.  Mari kita lihat bagaimana hal ini dapat dilakukan dengan menggunakan domain company.ru sebagai contoh. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e98/93d/7d9/e9893d7d9f995c2a24dce02df7fa5d51.png" alt="gambar"><a name="habracut"></a><br><br>  Ada dua antarmuka untuk mengintegrasikan Zimbra OSE dengan portal perusahaan.  Yang pertama, antarmuka URL, adalah membuat tautan khusus, yang dengannya Anda dapat membuat spanduk, ketika diklik, pengguna yang sah pada portal perusahaan akan dialihkan ke akun Zimbra OSE-nya dan dapat dengan aman melakukan tugasnya.  Yang kedua didasarkan pada pra-otorisasi menggunakan antarmuka SOAP.  Antarmuka pertama adalah yang paling umum dan digunakan karena kemudahan integrasinya dengan sebagian besar portal web.  Antarmuka kedua biasanya digunakan dengan portal yang memerlukan kontrol atas pembuatan token otentikasi dan pengalihan pengguna. <br><br>  Dalam kedua kasus, hal pertama yang perlu kita lakukan adalah menyiapkan domain email kita.  Untuk melakukan ini, buat kunci pra-otentikasi.  Ini dilakukan dengan menggunakan perintah <b>companym zmprov generateDomainPreAuthKey</b> .  Output dari perintah ini akan berisi kunci 64-karakter, yang diperoleh dengan secara acak menghasilkan 32 karakter dan mengenkripsi mereka, misalnya <b>preAuthKey: 9b34da63e5c1cba4cf7eb8262bacb18f712f6abafb02cf670234cb9bca63cb31</b> .  Kunci ini selanjutnya dapat dilihat kembali menggunakan perintah <b>zmprov gd company.ru zimbraPreAuthKey</b> .  Setelah itu, Anda harus memulai kembali server surat agar perubahan diterapkan. <br><br>  Mari kita cari tahu bagaimana menerapkan otentikasi awal menggunakan antarmuka URL.  Kemudian, berdasarkan kunci pra-otorisasi ini, kami akan membuat URL khusus di mana pengguna yang sudah diotorisasi di portal perusahaan dapat masuk ke Zimbra OSE tanpa harus memasukkan kata sandi.  URL akan terlihat seperti <b>mail.company.ru/service/preauth?{account-identifier{{by-value}{time{{expiresâ–ºâ–º&amp;admin=1{{computed-preauth}</b> . <br><br>  Parameter dalam URL ini adalah: <br><br><ul><li>  <b>{pengenal akun}</b> dan <b>{menurut-nilai}</b> , yang diperlukan untuk mengidentifikasi akun.  Parameter pertama menunjukkan pengidentifikasinya, dan tipe kedua dari pengidentifikasi ini.  Jika jenis {menurut-nilai} yang digunakan tidak ditentukan, otentikasi menurut nama digunakan. </li><li>  <b>{time}</b> adalah timestamp yang dikonversi selama Unix </li><li>  <b>{expire}</b> adalah waktu dalam milidetik setelah token otentikasi berakhir.  Jika 0 ditentukan sebagai nilai parameter ini, waktu kedaluwarsa token untuk akun default digunakan </li><li>  <b>[&amp; admin = 1]</b> parameter ini diperlukan hanya jika Anda ingin menggunakan pra-otentikasi untuk masuk tidak hanya ke klien web, tetapi juga ke konsol administrasi.  Jika parameter ini ditentukan, masukkan di antara parameter {account-identifier} dan {by-value} saat menghitung HMAC. </li><li>  <b>{computed-preauth} Nilai preauthentication yang</b> dihitung. </li></ul><br>  Perhitungan {computed-preauth} adalah sebagai berikut: <br><br><ol><li>  Anda harus menyatukan nilai-nilai {pengenal akun}, {dengan-nilai}, {waktu} dan {kedaluwarsa} <b>dalam urutan ini</b> </li><li>  Sejajarkan mereka, bagi dengan "|" </li><li>  Hitung HMAC menggunakan DomainPreAuthKey </li><li>  Ubah nilai HMAC menjadi heksadesimal </li></ol><br>  Misalnya, memiliki data berikut: <br><br><ul><li>  DomainPreAuthKey: 9b34da63e5c1cba4cf7eb8262bacb18f712f6abafb02cf670234cb9bca63cb31 </li><li>  {pengenal akun}: manager@company.ru </li><li>  {menurut-nilai}: nama </li><li>  {kedaluwarsa}: 0 </li><li>  {waktu}: 1579862639 </li></ul><br>  Anda dapat membuat set informasi <b>manajer</b> berikut <b>ini@company.ru| nama |0|1579862639.</b>  <b>Maka dari baris ini Anda dapat menghitung SHA-1 HMAC: preauth = hmac ("manager@company.ru|001579862639", "9b34da63e5c1cba4cf7eb8262bacb18f712f6abafb02cf670234cb9bca63cb31"</b> ;  Hasilnya, kami mendapatkan nilai {computed-preauth} <b>93a43cd03a5b2fca40f46c3ce99b4a4dd6e5676a</b> . <br><br>  Sekarang kita menggunakannya untuk mengkompilasi URL: <b>mail.company.ru/service/preauth?account=manager@company.ru&amp;expires=0&amp;timestamp=1579862639&amp;preauth=93a43cd03a5b2fca40f46c3ce99b4a4dd6e5676a</b> .  Dengan mengklik URL ini, Anda dapat memasukkan klien web Zimbra dan menerima token otentikasi tanpa harus memasukkan nama akun atau kata sandi. <br><br>  Jika Anda ingin melakukan pra-otentikasi, maka gunakan data " <b>admin@company.ru| 1|name|0|1579862639</b> " untuk menghitung HMAC, dan gunakan URL <b>mail.company.ru/service/preauth?account=admin@company</b> untuk memasukkan <b>.ru &amp; kedaluwarsa = 0 &amp; timestamp = 1579862639 &amp; preauth = 7b410ed71e4eb6c7724598587ae03078bca5e29f &amp; admin = 1</b> <br><br>  Dalam kasus antarmuka SOAP, permintaan AuthRequest standar digunakan, di mana data pra-otentikasi dikirim bukan kata sandi menggunakan pola berikut: <br><br><blockquote>  {pengenal akun} <br>  {computed-preauth} <br></blockquote><br>  Isi template ini dengan contoh manager@company.ru: <br><br><blockquote>  manager@company.ru <br>  93a43cd03a5b2fca40f46c3ce99b4a4dd6e5676a <br></blockquote><br>  Setelah itu, tetap hanya untuk membentuk tautan <b><a href="https://company.ru/CorpPortal/preauth%3Fisredirect%3D1%26authtoken%3D">company.ru/CorpPortal/preauth?isredirect=1&amp;authtoken=</a> {...}</b> dengan token otentikasi yang akan mengarahkan pengguna ke server Zimbra dan mengimplementasikannya menggunakan antarmuka URL yang sudah kita ketahui. <br><br>  Tugas lain untuk administrator sistem yang menerapkan pra-otentikasi Zimbra di portal perusahaannya adalah mengotomatiskan perhitungan nilai {computed-preauth}.  Ini dapat dicapai dengan menggunakan skrip yang secara otomatis akan menggantikan semua data yang diperlukan dan pada output menyediakan tautan yang siap untuk pra-otentikasi.  Berikut adalah beberapa contoh skrip tersebut: <br><br>  <b>Python / Django</b> <br><br><pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">webmail_redirect</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(request)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> hmac, hashlib preauth_key = <span class="hljs-string"><span class="hljs-string">"9b34da63e5c1cba4cf7eb8262bacb18f712f6abafb02cf670234cb9bca63cb31"</span></span> preauth_url = <span class="hljs-string"><span class="hljs-string">"http://mail.company.ru/service/preauth"</span></span> timestamp = int(time()*<span class="hljs-number"><span class="hljs-number">1000</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: acct = request.user.email pak = hmac.new(preauth_key, <span class="hljs-string"><span class="hljs-string">'%s|name|0|%s'</span></span>%(acct, timestamp), hashlib.sha1).hexdigest() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> HttpResponseRedirect(<span class="hljs-string"><span class="hljs-string">"%s?account=%s&amp;expires=0&amp;timestamp=%s&amp;preauth=%s"</span></span>%(preauth_url, acct, timestamp, pak)) <span class="hljs-keyword"><span class="hljs-keyword">except</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> HttpResponseRedirect(<span class="hljs-string"><span class="hljs-string">"/not_logged_in/"</span></span>)</code> </pre> <br>  <b>Php</b> <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** *  .     config.inc.php     . */</span></span> $PREAUTH_KEY=<span class="hljs-string"><span class="hljs-string">"9b34da63e5c1cba4cf7eb8262bacb18f712f6abafb02cf670234cb9bca63cb31"</span></span>; $WEB_MAIL_PREAUTH_URL=<span class="hljs-string"><span class="hljs-string">"http://mail.company.ru/service/preauth"</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** *      .        GET. */</span></span> $user = $_GET[<span class="hljs-string"><span class="hljs-string">"user"</span></span>]; $domain=$_GET[<span class="hljs-string"><span class="hljs-string">"domain"</span></span>]; $email = <span class="hljs-string"><span class="hljs-string">"{$user}@{$domain}"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">empty</span></span>($PREAUTH_KEY)) { <span class="hljs-keyword"><span class="hljs-keyword">die</span></span>(<span class="hljs-string"><span class="hljs-string">"Need preauth key for domain "</span></span>.$domain); } <span class="hljs-comment"><span class="hljs-comment">/** *    URL   */</span></span> $timestamp=time()*<span class="hljs-number"><span class="hljs-number">1000</span></span>; $preauthToken=hash_hmac(<span class="hljs-string"><span class="hljs-string">"sha1"</span></span>,$email.<span class="hljs-string"><span class="hljs-string">"|name|0|"</span></span>.$timestamp,$PREAUTH_KEY); $preauthURL = $WEB_MAIL_PREAUTH_URL.<span class="hljs-string"><span class="hljs-string">"?account="</span></span>.$email.<span class="hljs-string"><span class="hljs-string">"&amp;by=name&amp;timestamp="</span></span>.$timestamp.<span class="hljs-string"><span class="hljs-string">"&amp;expires=0&amp;preauth="</span></span>.$preauthToken; <span class="hljs-comment"><span class="hljs-comment">/** *   URL   Zimbra */</span></span> header(<span class="hljs-string"><span class="hljs-string">"Location: $preauthURL"</span></span>); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> <br>  Untuk semua pertanyaan yang terkait dengan Zextras Suite, Anda dapat menghubungi perwakilan perusahaan "Zextras" Ekaterina Triandafilidi melalui email katerina@zextras.com </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id485866/">https://habr.com/ru/post/id485866/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id485852/index.html">10 alasan untuk TIDAK memesan audit usability audit online</a></li>
<li><a href="../id485854/index.html">Bantu kompiler C ++ dalam mengatasi kelebihan fungsi</a></li>
<li><a href="../id485856/index.html">Bagaimana kami mencetak hexapod dan apa yang terjadi</a></li>
<li><a href="../id485858/index.html">Bagaimana cara mengajar telepon untuk melihat keindahan</a></li>
<li><a href="../id485862/index.html">DDoS dari pembuat kopi</a></li>
<li><a href="../id485868/index.html">Pencahayaan untuk ruang kelas dan ruang kelas</a></li>
<li><a href="../id485872/index.html">Mengunyah Regresi Logistik</a></li>
<li><a href="../id485874/index.html">Buku â€œLearning Python: pemrograman game, visualisasi data, aplikasi web. Edisi ke-3.</a></li>
<li><a href="../id485876/index.html">Kami mempercepat OpenVPN pada router Openwrt. Versi alternatif tanpa menyolder besi dan ekstremisme keras</a></li>
<li><a href="../id485878/index.html">Urutan langkah-langkah untuk mengatur akuntansi manajemen pada platform JetCalc</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>