<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚èèÔ∏è üïí üë©üèæ‚Äç‚öñÔ∏è Einfacher als MQTT? MQTT / UDP ‚úçüèº ‚åöÔ∏è üêì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich wollte einen ausf√ºhrlichen Artikel zu diesem Thema schreiben, aber meine H√§nde reichen offensichtlich nicht aus. Daher eine kurze Nachricht. Ich h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Einfacher als MQTT? MQTT / UDP</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429714/"> Ich wollte einen ausf√ºhrlichen Artikel zu diesem Thema schreiben, aber meine H√§nde reichen offensichtlich nicht aus.  Daher eine kurze Nachricht.  Ich habe in mehreren Sprachen als Prototypcode eine Version des MQTT-Protokolls unter dem Arbeitsnamen MQTT / UDP entwickelt und implementiert.  F√ºr Ungeduldige und diejenigen, die bereits alles verstehen und nat√ºrlich den Code <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">auf Github</a> <br><br>  <b>Warum</b> <br><br>  Ich lebe seit mehreren Jahren in einer Wohnung, die fast vollst√§ndig von meinem eigenen Smart-Home-System gesteuert wird.  Licht, Klimatisierung, Sensoren, einfache Automatisierung, das ist alles. <br><br>  W√§hrend dieser Zeit fand ich heraus (ja, das habe ich √ºbrigens schon verstanden), dass die Haupteigenschaft von UD-Systemen die Zuverl√§ssigkeit ist. <br><br>  Alle Systeme mit einem zentralen Knoten sind per Definition unzuverl√§ssig.  Daher der Wunsch, die Verbindung der Systemkomponenten herzustellen (und es gibt viele davon in einem echten Smart Home), ohne einen zentralen Hub zu verwenden. <br><a name="habracut"></a><br>  Gleichzeitig gehen wir davon aus, dass der Verkehr von UD-Systemen im Allgemeinen gering ist - Sensoren m√ºssen selten √∂fter als einmal pro Minute aktualisiert werden, der Rest der Daten ist ereignisbasiert (Licht eingeschaltet) und der Verkehr ist v√∂llig unbedeutend.  Selbst jede zweite Aktualisierung aller Daten im System ist nicht nur eine Katastrophe, sondern sogar ein erhebliches Problem. <br><br>  Die logische Schlussfolgerung ist, dass UDP Broadcast ein ideales Werkzeug ist. <br><br>  (Ja, ich gehe davon aus, dass das interne Netzwerk der Wohnung durch eine Firewall geschlossen ist.) <br><br>  <b>Was ist in den Profis:</b> <br><br>  Unglaublich einfache Implementierung.  Ein minimaler Mikrocontroller mit winzigem Speicher kann ein UDP-Paket senden.  F√ºr den Sensor ist kein UDP-Empfang erforderlich. <br><br>  Extrem niedrige Latenz.  Im zentralen Hub gibt es keine Weiterleitung. Die UDP-Paketzustellzeit ist praktisch der minimale Zeitschlitz in einem modernen System. <br><br>  Es gibt keinen zentralen Fehlerpunkt im Hub / Broker.  Stellen Sie sich ein einfaches Schema vor: zwei Temperatursensoren, eine Fu√übodenheizung und eine Heizungsbatterie.  Bei Verwendung von MQTT / UDP f√ºhrt ein Ausfall eines Teils eines solchen Systems nicht zu einem Ausfall des gesamten Systems. <br><br>  Geringer Netzwerkverkehr.  Unten nirgendwo.  TCP und Best√§tigungen erh√∂hen nur den Datenverkehr, erh√∂hen jedoch nicht die Zuverl√§ssigkeit.  Ein ausgefallener Sensor funktioniert beim Empfang einer TCP-Best√§tigung nicht.  Und wir identifizieren Fehler durch das Fehlen von Updates. <br><br>  Die Zuverl√§ssigkeit des UDP-Protokolls selbst ist unerheblich - die Sensoren aktualisieren die Daten immer noch regelm√§√üig, und das Verschwinden der Z√§hlung ist vollst√§ndig unsichtbar, und das Verschwinden eines Befehls von beispielsweise einem Switch wird durch den Ausfall des Zielsystems visuell best√§tigt.  Was macht eine Person?  Klickt erneut.  Dies ist jedoch eine wesentliche Einschr√§nkung der Anwendbarkeit des Protokolls.  Ideal f√ºr wiederkehrende Umfragen. <br><br>  Keine Systemkonfiguration erforderlich.  Niemand muss die Adresse eines Brokers, Hubs usw. registrieren.  Die Sensorkonfiguration wird jedoch weiterhin ben√∂tigt - Sie m√ºssen die Sensor-ID registrieren.  Wenn Sie jedoch andere Teile des Systems auf andere Server √ºbertragen, ist keine Neukonfiguration der Antwortkomponenten erforderlich. <br><br>  Es ist besonders interessant, dass dieses Modell des Datenaustauschs gut zu nat√ºrlich ausgestrahlten Medien wie einem Radiosender oder RS ‚Äã‚Äã/ 485 passt.  Ich habe damit nicht experimentiert und das Protokoll in solchen Umgebungen muss kontrolliert werden.  Hier ist es √ºbrigens logisch, CRC16 vom Modbus anzuwenden. <br><br>  Die Minuspunkte liegen ebenfalls auf der Hand: Die Zuverl√§ssigkeit der Zustellung wird nur durch die Hardware und den Datenverkehr im Netzwerk bestimmt. Wenn der Feind in das Netzwerk gelangt ist, wird das Protokoll sofort besiegt.  Wir werden ehrlich sein, das Hacken anderer typischer Smart-Home-Protokolle ist nur eine Frage von Sekunden. Dies ist also ein umstrittener Nachteil von MQTT / UDP.  Ein weiteres nicht offensichtliches Minus ist maximal ein Empf√§nger pro IP-Adresse. <br><br>  <b>Was wurde getan und liegt im Quellcode-Repository:</b> <br><br><ul><li>  Client / Server-Implementierungen in mehreren Sprachen.  Es gibt C, Python und Java.  Ich habe Lua nicht gemeistert (konnte nicht alles sagen, was du brauchst, wie lebst du darin?) Und Codesys (konnte das Paket nicht kompilieren, wer hat diese Sprache erfunden?). </li><li>  Minimales Tor zum traditionellen MQTT in Python </li><li>  Ein primitives Tool zum Anzeigen des MQTT / UDP-Verkehrs in einem Netzwerk </li></ul><br>  <b>Was w√ºrde ich tun, wenn ich mehr Zeit h√§tte:</b> <br><br><ul><li>  Ich w√ºrde ein Modul f√ºr openHUB schreiben. </li><li>  W√ºrde eine Protokollvariante f√ºr JSON an einem anderen Port und einen Konverter f√ºr das Hauptformat und den Port erstellen.  Oder ein Tor in beide Richtungen. </li><li>  Ich w√ºrde Implementierungsl√ºcken f√ºr die Hauptplattformen machen.  F√ºr Arduino habe ich mich dem Gewicht zugewandt und den Code wirklich getestet, aber nicht alles richtig entworfen.  F√ºr Raspberry sind Testf√§lle in Python geeignet. </li><li>  W√ºrde digital signieren und verschl√ºsseln, aber es ist nicht klar wie. </li><li>  Multicast. </li></ul><br>  Vielen Dank daf√ºr, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">willkommen im Repository</a> <br><br>  PS: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ein √§hnlicher Ansatz, jedoch mit Multicast, wird in diesem Artikel beschrieben.</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de429714/">https://habr.com/ru/post/de429714/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de429704/index.html">Verbinden Sie den Multipath-LUN-Speicher mit Windows Server 2008 und Windows Server 2012</a></li>
<li><a href="../de429706/index.html">A1: 2017 - Injektionen (Teil 3 und letzte)</a></li>
<li><a href="../de429708/index.html">Teil des HolyJS 2018 Moskau Programms</a></li>
<li><a href="../de429710/index.html">Kohlendioxid auf der ISS</a></li>
<li><a href="../de429712/index.html">Einf√ºhrung in React Hooks</a></li>
<li><a href="../de429716/index.html">5 besten PC-Spiele zum Englischlernen</a></li>
<li><a href="../de429718/index.html">Ich will alles auf einmal! Wir untersuchen den RAM HyperX Predator DDR4 RGB mit einer Frequenz von 4000 MHz</a></li>
<li><a href="../de429720/index.html">Wie man einem unerfahrenen Entwickler in einem Interview √ºberlebt und bei der Arbeit nicht verr√ºckt wird</a></li>
<li><a href="../de429722/index.html">Wie wir in Yandex.Cash √ºber Google Pay bezahlt haben [aktualisiert]</a></li>
<li><a href="../de429724/index.html">N√ºtzliche Bewertung. 28 B√ºcher, die mein Denken beeinflusst, inspiriert oder verbessert haben</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>