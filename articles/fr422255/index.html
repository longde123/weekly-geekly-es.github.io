<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♟️ 🏳️‍🌈 🥕 Création de personnages dans Blender et Unity 🏧 🏹 💪🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Visuellement, les personnages du jeu 3D sont imités à l'aide de modèles, de textures et d'animations. 

 Dans le passé, pour utiliser les mêmes animat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Création de personnages dans Blender et Unity</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/422255/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ae7/47d/1a6/ae747d1a62ce8e52a8efc5dbdbe4d7e1.gif"></div><br>  Visuellement, les personnages du jeu 3D sont imités à l'aide de modèles, de textures et d'animations. <br><br>  Dans le passé, pour utiliser les mêmes animations, les personnages devaient avoir des squelettes complètement identiques.  Cela limitait la variété des personnages, car leur croissance et leurs proportions devaient également être les mêmes.  Par exemple, dans les anciens jeux <i>FIFA</i> , tous les joueurs étaient de la même taille, car créer un squelette séparé et un ensemble d'animations se transformerait en un véritable cauchemar. <br><br>  Heureusement pour les développeurs de jeux, la plupart des moteurs disposent aujourd'hui d'un système qui vous permet de réutiliser des animations, à condition que la hiérarchie squelettique soit compatible.  Un tel système permet d'utiliser les mêmes animations pour des personnages de <i>toutes</i> formes et tailles.  Dans Unity, ce système est appelé <em>Mecanim</em> .  Il offre une personnalisation pratique des animations, un mélange entre elles et le transfert d'animations humanoïdes entre les modèles. <br><br>  La réutilisabilité des animations vous permet d'utiliser des animations de la boutique d'actifs et de sites Web tels que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">mixamo.com</a> pour vos propres personnages.  Ça fait gagner beaucoup de temps! <br><br>  Dans ce didacticiel, vous apprendrez à préparer un modèle humanoïde dans Blender et à le transférer vers Unity.  En particulier, vous apprendrez ce qui suit: <br><br><ul><li>  Créer un renfort (squelette) du personnage et effectuer son gréage (lier le squelette au maillage) </li><li>  Modifiez le personnage en ajoutant des accessoires et des objets </li><li>  Exporter le modèle vers FBX </li><li>  Importer des modèles Blender </li><li>  Créez et personnalisez un avatar humanoïde </li><li>  Attachez des objets au personnage </li><li>  Animer un humanoïde dans Unity </li></ul><a name="habracut"></a><br><h2>  Se rendre au travail </h2><br>  Pour terminer ce didacticiel, vous avez besoin des éléments suivants: <br><br><ul><li>  Installez la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">dernière version stable d'Unity</a> . </li><li>  Installez la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">dernière version 64 bits stable de Blender</a> . </li><li>  Avoir une compréhension minimale de l'éditeur Unity.  Vous pouvez apprendre des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">tutoriels pour débutants</a> sur notre site Web. </li><li>  Une expérience avec Blender est recommandée.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">Il</a> y a des tutoriels sur la façon d'apprendre les bases. </li></ul><br>  Téléchargez le <a href="">matériel source</a> et décompressez-le quelque part. <br><br>  Ouvrez le dossier de <em>démarrage du projet</em> et accédez au dossier <em>Assets \ RW \ Models</em> .  Ouvrez le fichier <em>CuteCharacter.blend</em> dans Blender. <br><br>  Le fichier contient les données suivantes: <br><br><ul><li>  Modèle low poly d'un caractère humanoïde. </li><li>  Matériel <b>CuteCharacter</b> . </li><li>  Une référence à la texture <em>CuteBase</em> contenue dans le même dossier que le modèle. </li></ul><br>  Lorsque vous ouvrez le fichier, vous devriez voir un modèle de personnage sur la gauche: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ab1/942/030/ab1942030db2b8c4325e2810970401ea.png"></div><br>  Notez qu'il est mis en miroir le long de l'axe X, cela simplifiera considérablement tout le processus.  À droite, une simple image d'une texture chargée: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cf6/2f6/879/cf62f687945cdc81c5811e97e1244663.png"></div><br>  La première étape de l'animation de ce personnage consiste à effectuer un gréement. <br><br><h2>  Créer un rig de personnage </h2><br>  Le gréement est la création de renfort, le squelette d'un modèle.  Le renfort a plusieurs os connectés auxquels des sommets peuvent être attachés afin qu'ils se déplacent lorsque l'os se déplace. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a5f/063/6cb/a5f0636cbcdd2082d59f1cdf2ac9e2d4.png"></div><br>  Déplacez la souris vers la fenêtre <em>Vue 3D</em> pour basculer le focus dessus.  Ajoutez ensuite une nouvelle armature - maintenez <em>Shift</em> et appuyez sur <em>A</em> pour ouvrir le <em>menu Ajouter</em> .  Choisissez <em>Armature&gt; Single Bone</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5f0/256/838/5f0256838f448f52bcc0a3c7c657b119.gif"></div><br>  Nous avons créé l'armature et son tout premier os, également appelé os racine.  Sans supprimer la sélection de l'armature, recherchez la case à cocher <em>Rayons X</em> dans la section <em>Affichage</em> de l'onglet <em>Propriétés</em> et sélectionnez-la. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f32/aa8/f18/f32aa8f188dbf8823a3e7120306aa06b.png"></div><br>  L'armature sera désormais visible à travers le personnage.  Cela simplifiera la création du squelette. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3bf/821/a17/3bf821a179023340f97ed9a60c2a719e.gif"></div><br>  Avant de commencer à créer une structure complète, il est important de comprendre comment vous devez la configurer pour la compatibilité avec le moteur <em>Humanoid Avatar</em> de Unity. <br><br>  En raison de la nature de la liaison des os au système d'Unity, certains os clés sont requis. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4de/727/23c/4de72723cff1401a27ae8d5c5dce56ad.png"></div><br>  Unity attend un minimum de 15 os, à savoir: <br><br><ul><li>  Hanches (os radiculaire) - bassin </li><li>  Colonne inférieure - colonne vertébrale inférieure </li><li>  Colonne vertébrale supérieure - colonne vertébrale supérieure </li><li>  Cou - cou </li><li>  Tête - tête </li><li>  Deux bras - deux épaules </li><li>  Deux avant-bras - deux avant-bras </li><li>  Deux mains - deux brosses </li><li>  Deux jambes - deux hanches </li><li>  Deux jambes inférieures - deux jambes inférieures </li></ul><br>  La plate-forme que nous créons contiendra tous les os ci-dessus, ainsi que plusieurs autres pour augmenter la stabilité pendant l'animation. <br><br>  Assurez-vous que l'armature est toujours sélectionnée et appuyez sur <em>Tab</em> pour passer en mode <em>Edit</em> .  Sélectionnez l'os racine en cliquant avec le bouton <em>droit</em> dessus. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2cf/36b/aa6/2cf36baa6bd69be34f1f19a4ed6089a0.gif"></div><br><blockquote>  <em>Remarque:</em> Blender utilise le <em>bouton droit de la souris</em> pour sélectionner des objets.  Appuyez sur le bouton gauche de la souris pour modifier la position du <em>curseur 3D</em> - un petit cercle jaune avec un anneau rouge-blanc autour.  Lorsque vous déplacez le curseur 3D, tous les nouveaux objets sont créés à leur nouvelle position, mais cela n'est pas requis pour notre didacticiel.  Pour réinitialiser la position du curseur 3D, vous pouvez appuyer sur <em>Maj + S</em> , le <em>menu d'accrochage</em> s'ouvrira, puis sélectionnez <em>Curseur au centre</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/df6/2f4/c3a/df62f4c3aa0284af5f3c4c4c3b68be5a.png"></div></blockquote><br>  Ouvrez l'onglet <em>Os</em> dans le panneau <em>Propriétés</em> à droite afin de pouvoir apporter rapidement des modifications et renommez l'os racine en <em>Hanches</em> en tapant un nom dans la zone de nom et en appuyant sur <em>Entrée</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/571/78d/b69/57178db692b146b3db114406b176be19.png"></div><br><h2>  Dos </h2><br>  Il est temps de créer une structure osseuse! <br><br>  Sélectionnez la <em>sphère inférieure</em> de l'os des <em>hanches</em> et appuyez sur <em>G</em> , <em>Z</em> , <em>0,5</em> et <em>Entrée</em> afin de la déplacer là où le nombril devrait être. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4b1/c23/308/4b1c23308273043f33bf0cf75e338889.gif"></div><br>  Sélectionnez maintenant la <em>sphère supérieure</em> et appuyez sur <em>G</em> , <em>Z</em> , <em>0,1</em> et <em>Entrée</em> pour la déplacer un peu vers le haut. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8a8/be6/d41/8a8be6d41cb4069c82cde5eeba2b2ff7.gif"></div><br><blockquote>  <em>Remarque:</em> si vous pouvez à peine voir ce qui se passe, vous pouvez vous approcher et vous éloigner à <em>l'</em> aide de <em>la molette de la souris</em> . </blockquote><br>  Pour créer plusieurs os de la colonne vertébrale, nous devons diviser l'os des <em>hanches</em> en trois parties.  Sélectionnez l'os des <em>hanches</em> , appuyez sur <em>W</em> pour ouvrir le menu <em>Specials</em> et sélectionnez <em>Subdivide</em> .  Par défaut, cette opération divise l'os en deux parties, modifiez donc la valeur <em>Nombre de coupes</em> en bas du panneau Outils à gauche sur <em>2</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/36f/259/062/36f2590627054ba2bfe24f053a1bd9d7.gif"></div><br>  <em>Remarque:</em> si vous ne voyez pas le curseur <em>Nombre de coupes</em> , déplacez le curseur de la souris sous le texte <em>Subdivide Multi</em> en bas à gauche et faites défiler vers le haut pour le rendre visible. <br><br>  Après avoir divisé la colonne vertébrale, les nouveaux os sont appelés <em>Hips.001</em> et <em>Hips.002</em> .  C'est une mauvaise façon de nommer les os;  renommer les os en les sélectionnant un par un et en changeant le nom dans le panneau <em>os de</em> droite. <br><br>  Nommez la <em>poitrine</em> supérieure et la <em>colonne</em> médiane <em>inférieure</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2eb/3e1/5e5/2eb3e15e52397b0bd62179831e9f1394.png"></div><br><h2>  Les jambes </h2><br>  Passons maintenant aux os des jambes.  Dupliquez l'os des <em>hanches</em> en le sélectionnant et en appuyant sur <em>Maj + D</em> , puis appuyez sur le <em>bouton droit de la souris</em> pour confirmer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e9/a8b/9a3/1e9a8b9a367a7d40c1ae855ba6bbeea8.gif"></div><br>  Si vous regardez le panneau Os à droite, vous pouvez voir qu'un os portant le nom <em>Hips.001 est sélectionné</em> .  Renommez-le en <em>UpperLeg.L</em> .  L signifie gauche, "gauche".  Nous allons donc comprendre de quel côté des os nous sommes et cela nous aidera à l'avenir lors de la mise en miroir. <br><br>  <em>Faites</em> pivoter l'os <em>UpperLeg.L</em> dans l'axe Y en appuyant sur <em>R</em> , <em>Y</em> , <em>180</em> et <em>Entrée</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a9b/a62/0c6/a9ba620c6fb6a839ef4c2bb7a8a497c7.gif"></div><br>  Maintenant, passez à la position horizontale en appuyant sur <em>G</em> , <em>X</em> , <em>.23</em> et <em>Entrée</em> .  Appuyez ensuite sur <em>G</em> , <em>Z</em> , <em>-.2</em> et <em>Entrée</em> pour le déplacer verticalement. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cc5/82e/8d6/cc582e8d62a8bcc7738661d7d4cf6e8d.gif"></div><br><blockquote>  <em>Remarque:</em> l'image ci-dessus montre le <em>mode filaire</em> pour souligner où se trouve l'os.  Vous pouvez activer ou désactiver ce mode en appuyant sur <em>Z.</em> </blockquote><br>  Sélectionnez la sphère inférieure (également appelée connecteur) et déplacez-la vers le bas en appuyant sur <em>G</em> , <em>Z</em> , <em>-.3</em> et <em>Entrée</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/825/b07/fb5/825b07fb59cbb01d54683acd072b15d8.gif"></div><br>  Pour que la jambe puisse être pliée, elle doit être divisée.  Sélectionnez l'os <em>UpperLeg.L</em> , appuyez sur <em>W</em> et sélectionnez <em>Subdiviser</em> pour diviser les jambes en deux.  En conséquence, nous obtenons deux os de jambe;  nommez <em>LowerLeg.L</em> inférieur. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2bc/455/d2f/2bc455d2f47d7234759461920c7fb54a.png"></div><br>  La dernière partie des jambes est les pieds.  Passez à la vue latérale en appuyant sur <em>3</em> sur le pavé numérique, puis appuyez sur la touche <em>point</em> ( <em>.</em> ) Pour vous concentrer sur le bas de la jambe. <br><br><blockquote>  <em>Remarque:</em> si le clavier n'a pas de bloc alphanumérique, vous pouvez basculer entre les vues en cliquant sur le bouton <em>Afficher</em> en bas de l'écran. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d6/fb2/a75/4d6fb2a752c5b428b6be0e60674778b6.png"></div></blockquote><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/017/33e/e2a/01733ee2afdd8daaf7ebe9591082a5b6.gif"></div><br>  Faites un zoom arrière sur la fenêtre de visualisation pour voir la majeure partie du bas de la jambe. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b7a/b4d/599/b7ab4d599389567664e9c8c3ed377537.png"></div><br>  Sélectionnez maintenant le connecteur inférieur et pour créer une pile, extrudez-la en appuyant sur <em>E</em> , <em>Y</em> , <em>-.18</em> et <em>Entrée</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a4/c27/875/4a4c2787507c319addca74605b1b7804.gif"></div><br>  Renommez l'os créé en <em>Foot.L</em> dans le panneau Os. <br><br>  Maintenant, ce serait bien d'enregistrer le fichier.  Appuyez sur <em>CTRL + S</em> et cliquez avec le bouton gauche sur le nom de fichier qui apparaît.  Enregistrez votre travail périodiquement, Blender est une application assez stable, mais parfois elle peut se bloquer. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a19/1fb/6df/a191fb6df433efff24a7f0c992aa7321.png"></div><br>  Revenez à la vue de face en appuyant sur <em>1</em> sur le bloc alphanumérique.  Avant de passer à la tête, nous devons faire le parent osseux pelvien pour la jambe.  Heureusement, c'est assez facile! <br><br>  Sélectionnez <em>UpperLeg.L</em> et recherchez la liste déroulante <em>Parent</em> dans la section <em>Relations</em> du panneau <em>Bone</em> .  Cliquez dessus et sélectionnez <em>Hanches</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6bf/02f/aa2/6bf02faa2bfff4f73274d4d8d2d46b57.png"></div><br><h3>  Le corps </h3><br>  Mettons-nous à la tête!  Sélectionnez le connecteur en haut de la <em>poitrine</em> , appuyez sur <em>E</em> , <em>Z</em> , <em>.055</em> et <em>Entrée</em> .  Ce sera l'os du cou, alors nommez-le dans le panneau Bone <em>Neck</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fb7/cdf/f92/fb7cdff92db59c2fa83ceb6ef9b867c0.gif"></div><br>  Pour ajouter un os de tête, ne désélectionnez pas le connecteur supérieur et appuyez sur <em>E</em> , <em>Z</em> , <em>0,95</em> et <em>Entrée</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/de8/8b7/1d7/de88b71d7041a77f9f890f24eea1b195.gif"></div><br>  Nommez la <em>tête d'</em> os créée. <br><br>  Ensuite, passez au connecteur de l'épaule gauche.  Sélectionnez le connecteur d'os de <em>poitrine</em> supérieur et appuyez sur <em>E</em> , <em>X</em> , <em>.08</em> et <em>Entrée</em> pour ajouter un nouvel os.  Déplacez-le un peu vers le bas en sélectionnant le connecteur droit et en appuyant sur <em>G</em> , <em>Z</em> , <em>-.09</em> et <em>Entrée</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dde/bac/70c/ddebac70c9b184d3e63b852191e5f9aa.gif"></div><br>  Nommez cet os <em>ShoulderConnector.L</em> .  Cet os attachera l'épaule au sternum.  Pour le protocole: ce n'est en aucun cas anatomiquement correct, mais nous n'en avons pas besoin. <br><br>  Sélectionnez à nouveau le connecteur le plus à droite et appuyez sur <em>E</em> , <em>X</em> , <em>0,85</em> et <em>Entrée</em> .  Nous allons donc créer un gros os, qui devra être divisé afin de créer les os restants sur le côté gauche. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/29b/f48/d63/29bf48d63d538b45a73aa6e5a4100f65.gif"></div><br>  Sélectionnez l'os que vous avez créé, appuyez sur <em>W</em> et sélectionnez <em>Subdiviser</em> .  Modifiez le nombre de coupes en bas à gauche à <em>3</em> pour obtenir quatre parties. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/acf/c1a/214/acfc1a2144eaf36c61970d3913930bc1.png"></div><br>  Nommez ces os comme suit, en commençant de gauche à droite: <br><br><ul><li>  Épaule.L </li><li>  UpperArm.L </li><li>  LowerArm.L </li><li>  Hand.L </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e19/b82/b0f/e19b82b0fd09a04679b4b5fcde93a9f0.png"></div><br>  À première vue, l'emplacement actuel de ces os semble bon, mais en raison de la façon dont le connecteur est situé entre les parties de la main (on peut l'appeler un coude), la main ne pourra pas se plier correctement.  Appuyez sur <em>Z</em> pour passer en mode filaire et voyez par vous-même: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5be/b95/982/5beb959824dbdb867baaf105bc617970.png"></div><br>  La ligne rouge indique où se trouve le coude maintenant, et la ligne blanche indique le point de flexion du bras sur le maillage.  Pour résoudre ce problème, sélectionnez <em>LowerArm.L</em> et déplacez-le vers la droite en appuyant sur <em>G</em> , <em>X</em> , <em>.09</em> et <em>Entrée</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/98a/ec2/a45/98aec2a4505dd056b02bd4996cf59051.gif"></div><br>  Alors que nous travaillons uniquement avec le côté gauche.  Mais qu'en est-il du bon? <br><br>  Je ne sais pas pour vous, mais je saisirais chaque occasion pour simplifier mon travail.  Par conséquent, l'étape suivante consiste à refléter les os de gauche à droite en appuyant sur quelques touches seulement. <br><br><h3>  Miroir </h3><br>  Depuis la version 2.79, Blender dispose d'une nouvelle fonctionnalité pratique pour refléter rapidement les os de renforcement en quelques étapes simples!  Avant l'apparition de cette fonction, vous deviez dupliquer, dupliquer manuellement, changer les noms et attribuer les rôles des os.  Si vous avez déjà fait cela, vous savez combien de temps cela prend. <br><br>  Pour commencer, supprimez la sélection de tous les os en appuyant sur <em>A</em> afin qu'il n'y ait pas de contour orange de la sélection. <br><br>  Ensuite, sélectionnez les os uniquement sur le côté gauche (le côté gauche du personnage est à votre droite), en maintenant <em>Shift</em> et en <em>cliquant avec le bouton droit sur</em> chaque os.  N'oubliez pas le pied! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d5/423/ab6/4d5423ab66baffcb9294f05adf73441e.gif"></div><br>  Une fois ces os sélectionnés, appuyez sur <em>W</em> et sélectionnez <em>Symmetrize</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f3/606/c08/7f3606c08887978886a822da9f893088.png"></div><br>  Et cela suffit pour obtenir la version miroir parfaite des os sélectionnés: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/22e/b7d/f7a/22eb7df7ab529ca38d10736fe0073957.png"></div><br>  De plus, à la fin des noms d'os, il y aura une lettre <em>.R</em> au lieu de <em>.L</em> , indiquant leur position. <br><br>  Enregistrez le fichier et préparez-vous pour le gréage. <br><br><h2>  Dessin des poids </h2><br>  <em>La peinture de poids</em> est le processus de liaison des os à un maillage 3D.  Chaque os est attaché à un groupe de sommets avec un certain <em>poids</em> . <br><br>  Le poids détermine la «raideur» du glissement des sommets derrière l'os. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2e/4c1/766/f2e4c17664725abce6e83072e84c909b.gif"></div><br>  L'exécution manuelle de cette tâche peut prendre beaucoup de temps, car vous devez dessiner indépendamment le poids de chaque os individuel.  Heureusement, Blender peut assumer la majeure partie de la corvée en dessinant automatiquement des poids en fonction de la proximité des os par rapport aux sommets. <br><br>  Appuyez sur <em>Tab</em> pour passer en mode objet.  Sélectionnez d'abord un modèle, puis maintenez la <em>touche Maj</em> enfoncée et cliquez avec le bouton <em>droit</em> sur l'armature pour le sélectionner également. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3a4/1f5/e9d/3a41f5e9d0bd17a194ba155d2bd508c2.gif"></div><br>  Appuyez maintenant sur <em>CTRL + P</em> pour ouvrir le menu Parent et sélectionnez <em>Avec des poids automatiques</em> pour faire du modèle le parent de l'armature et dessiner automatiquement les poids. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3c5/c2d/d9f/3c5c2dd9f0ccf6247d27023a4b4ca355.png"></div><br>  Visuellement, la différence n'est peut-être pas perceptible, mais maintenant les os sont attachés au maillage. <br><br>  Avant de commencer la vérification, assurez-vous que le <em>point de pivot</em> est en mode de <em>point médian</em> en vérifiant le panneau inférieur: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7bc/cda/e76/7bccdae76562693aeebcd9ad78616166.png"></div><br>  Activez le mode <em>Point médian</em> si <em>le</em> mode <em>Curseur 3D y</em> est toujours sélectionné. <br><br>  Et maintenant, le plaisir commence!  Passez en mode <em>Pose</em> , sélectionnez un os et faites-le pivoter en appuyant sur <em>R</em> et en déplaçant le curseur de la souris.  Faites-le avec chaque os au centre et à gauche du modèle pour vous assurer que tous les poids sont correctement attribués. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/068/52c/f83/06852cf832c60ba31f28a6bf9def48d5.gif"></div><br>  Faites pivoter la fenêtre dans différentes directions et vérifiez la rotation sous d'autres angles en appuyant sur <em>la molette de la souris</em> et en déplaçant la souris dans différentes directions. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cef/efb/9b7/cefefb9b76bcd2449700b38225b1e892.gif"></div><br>  Après avoir vérifié tous les os, vous pouvez remarquer que les yeux ne bougent pas avec la tête, ce qui semble pour le moins étrange: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aeb/b08/a29/aebb08a2971aa88a6ade268d50c3486f.gif"></div><br>  Pour attacher les yeux à la tête, nous devons encore attribuer des poids.  Ne quittez pas le mode de renforcement Pose, maintenez la <em>touche Maj</em> enfoncée et cliquez sur <em>RMB</em> sur le modèle pour le sélectionner également.  Passez maintenant en mode <em>Weight Paint</em> .  Nous sommes prêts à tirer des poids. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d4/123/ba7/0d4123ba79866b20e8a99384323b15b6.gif"></div><br>  Dans ce mode, vous pouvez sélectionner des os en maintenant <em>CTRL</em> et en cliquant avec le bouton droit sur les os.  Sélectionnez l'os de la <em>tête</em> et faites-le pivoter en arrière en appuyant sur <em>R</em> , <em>X</em> , <em>-90</em> et <em>Entrée</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e1a/cdc/37e/e1acdc37e29fd2c6b2350db04f3306fa.gif"></div><br>  Pour attacher des yeux à l'os de la <em>tête</em> , sélectionnez le pinceau <em>Ajouter</em> dans la section <em>Pinceau</em> du panneau Outil à gauche. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a51/1bd/dba/a511bddba3066fa000f9a5b13362fd97.png"></div><br>  Appuyez sur <em>Z</em> pour passer en mode filaire et faites pivoter la fenêtre de façon à ce qu'au moins l'un des yeux ne se trouve plus à l'avant de la tête.  Maintenant, peignez le dessus des yeux pour augmenter le poids jusqu'à ce que les yeux ne pendent plus en l'air. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/658/110/1ea/6581101ea73a71e967810b385e1cb1f7.gif"></div><br>  Le poids peut être vu visuellement par la couleur sur la maille;  les valeurs varient de <em>0</em> (bleu foncé) à <em>1</em> (rouge vif).  Pour vérifier les résultats, revenez à la vue de face en appuyant sur le <em>pavé numérique 1</em> et <em>Alt (ou Option) + R</em> pour réinitialiser la rotation de l'os de la <em>tête</em> . <br><br>  Maintenant, les yeux sont correctement attachés à la tête. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/01f/35d/88e/01f35d88e989cb41a17c46c950df5d1a.gif"></div><br><blockquote>  <em>Remarque: La</em> rotation indiquée ci-dessus se fait en faisant tourner la <em>boule de commande</em> .  Ce mode de rotation peut être activé en appuyant à nouveau sur <em>R</em> après le début de la rotation. </blockquote><br>  Après avoir terminé le dessin de base des échelles, vous pouvez passer aux détails. <br><br><h2>  Ajout d'accessoires </h2><br>  Les accessoires dans ce contexte sont des objets attachés au personnage, mais ne faisant pas partie de son corps.  Dans cette section, nous considérerons deux façons d'attacher des objets: au modèle lui-même et en tant qu'objet réutilisable séparé attaché à un os. <br><br>  La première méthode peut être utilisée pour les chapeaux, la seconde - pour les armes que le personnage détient. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/89c/7dc/58c/89c7dc58cba5a8413a312d0514c320fb.png"></div><br>  Tout d'abord, nous appuyez sur <em>Z</em> pour quitter le mode filaire et appuyez sur <em>A</em> , puis sur <em>Alt (ou Option) + R</em> pour réinitialiser la rotation de tous les os. <br><br><h3>  Édition de caractères </h3><br>  La première façon d'ajouter des détails au personnage est plus simple, mais impose certaines restrictions.  Lorsque vous travaillez avec le modèle lui-même, qui est mis en miroir, toute la géométrie ajoutée sera copiée de gauche à droite, et vice versa.  Par conséquent, il est impossible d'ajouter quelque chose d'unique à l'une des parties.  Étant donné que la géométrie fait partie de ce modèle particulier, elle ne peut pas non plus être réutilisée pour d'autres personnages.  Cette méthode est idéale pour toute situation dans laquelle de telles restrictions ne sont pas un problème. <br><br>  Si vous avez répété les étapes du tutoriel après moi, vous êtes maintenant en mode <em>Weight Paint</em> .  Et c'est bien, car après avoir ajouté le chapeau, nous devons recommencer à dessiner des poids.  Appuyez sur <em>Tab</em> pour entrer en mode Édition et commencez par basculer le mode de sélection sur Vertex en appuyant sur <em>CTRL + Tab</em> et en sélectionnant <em>Vertex</em> dans le menu. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8a4/b78/d60/8a4b78d60f0d82e8101b9bd2f67ae32b.gif"></div><br>  Maintenant, cliquez avec le bouton droit sur un sommet dans la partie supérieure de la tête au-dessus de la ligne rouge (qui est utilisée pour texturer avec une <em>couture UV</em> ).  Appuyez sur <em>CTRL + L</em> pour sélectionner tous les sommets attachés, nous sélectionnons donc le modèle entier.  Sélectionnez maintenant <em>le délimiteur UV</em> en choisissant&gt; UVs dans le volet inférieur gauche. <br><br>  Maintenant, seul le haut de la tête sera sélectionné. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dfb/95e/ee9/dfb95eee9661bef0f8a73bdeed3b355d.gif"></div><br>  Sélectionnez également la boucle de bord en dessous, en maintenant <em>Maj</em> et <em>Alt (ou Option)</em> , puis en cliquant avec le bouton droit sur l'un des premiers bords horizontaux ci-dessous. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0be/6fa/4cf/0be6fa4cf50906ec028012eea5a0a4f2.gif"></div><br>  Maintenant, dupliquez les faces sélectionnées en appuyant sur <em>Maj + D</em> puis sur <em>Entrée</em> .  Déplacez un peu les faces dupliquées en appuyant sur <em>G</em> , <em>Z</em> et <em>0,01</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f48/629/102/f486291023cc8bf774f4298eebcc7197.gif"></div><br>  Mettez ensuite à l'échelle tout ce qui est sélectionné en appuyant sur <em>S</em> , <em>1.05</em> et <em>Entrée</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/264/5ed/51a/2645ed51af1f9555f440533c887b88aa.gif"></div><br>  Nous allons donc retirer légèrement le chapeau de la tête pour éviter un conflit en Z des visages. <br><br>  Le chapeau est toujours comme un morceau de corps suspendu dans l'air, alors pour le fixer au corps, procédez comme suit: <br><br><ul><li>  Sélectionnez uniquement la ligne inférieure du «chapeau»: appuyez sur <em>A</em> pour tout désélectionner, puis maintenez la <em>touche Alt (ou Option)</em> et cliquez avec le bouton <em>droit</em> sur l'un des bords inférieurs. </li><li>  Rendez-les à plat en appuyant sur <em>S</em> , <em>Z</em> et <em>0</em> . </li><li>  Appuyez sur <em>E</em> pour extruder et sur <em>Enter</em> pour confirmer. </li><li>  Appuyez sur <em>S</em> pour commencer la mise à l'échelle et déplacez le curseur sur le modèle jusqu'à ce que les bords soient à l'intérieur de la tête.  Faites pivoter la fenêtre pour la rendre plus visible.  Appuyez sur <em>Entrée</em> pour confirmer la mise à l'échelle. </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/797/ee6/9a2/797ee69a2e2dd61f32183fbfdfb42b42.gif"></div><br>  Cela donnera au chapeau un peu de profondeur pour qu'il soit beau de tous les côtés et qu'il n'y ait pas de trous.  Cependant, un chapeau en peau humaine n'est pas tout à fait ce que nous aimerions.  Pour changer la couleur, nous devons d'abord étendre ses coordonnées UV afin qu'elles reposent magnifiquement sur la texture. <br><br>  Sélectionnez le chapeau entier en sélectionnant l'un de ses hauts et en appuyant sur <em>CTRL + L.</em>  Cette fois, changez le délimiteur en <em>Normal</em> pour sélectionner tous les sommets connectés. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7d1/e74/e9f/7d1e74e9f5b155828c12a77aa23f885b.gif"></div><br>  Pour notre chapeau, nous effectuerons l'un des scans les plus simples du monde: de la vue.  Appuyez sur le <em>pavé numérique 1</em> pour accéder à la vue de face, puis appuyez sur <em>U</em> pour ouvrir le menu Développer et sélectionnez Projeter à <em>partir de la vue</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5e2/8a7/ca6/5e28a7ca67ed819a177a17869f28c3d9.png"></div><br>  Si vous regardez le côté droit de la fenêtre Blender, qui montre la texture, vous remarquerez qu'il y a plusieurs sommets ajoutés qui ressemblent à un demi-chapeau: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/384/93a/3e2/38493a3e25bd044d77d26a4ca442134f.png"></div><br>  Vous pouvez sélectionner tous les sommets en déplaçant le curseur de la souris sur la texture et en appuyant sur <em>A.</em>  Les actions dans Blender sont contextuelles et dépendent de l'emplacement du curseur, alors laissez-le se trouver dans cette zone de texture pour l'instant. <br><br>  Maintenant, appuyez sur <em>G</em> pour déplacer les UV vers le point bleu, confirmez le mouvement en appuyant sur <em>Entrée</em> , puis mettez l'échelle à l'échelle pour qu'elle tienne dans la zone bleue: appuyez sur <em>S</em> et confirmez avec <em>Entrée</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d96/751/91f/d9675191f134ff0ce9e85873021f571e.gif"></div><br>  Si vous regardez maintenant le personnage, vous pouvez voir que son chapeau est devenu bleu. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3d9/fa3/144/3d9fa31444c10fb85601119ff490df11.png"></div><br>  Vous pouvez modifier l'image de texture pour créer une autre couleur. <br><br>  Déplacez à nouveau le curseur vers la gauche à côté du modèle et appuyez sur <em>Tab</em> pour revenir au mode <em>Weight Paint</em> .  Tournez un peu la <em>tête</em> pour vérifier si le chapeau est attaché. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4b1/843/25a/4b184325a06064bfdf3562bbb06a721c.gif"></div><br>  On dirait que nous avons eu de la chance!  Étant donné que les sommets du chapeau sont proches de l'os de la <em>tête</em> , ils sont ajoutés automatiquement.  Si cela ne se produisait pas, nous devions colorer le chapeau à la main, comme nous l'avons fait avec les yeux. <br><br>  Nous examinons maintenant la création et l'attachement d'un seul objet. <br><br><h3>  Attacher des objets </h3><br>  Dans cette section, nous allons créer un petit bâton qui sera une arme entre les mains du personnage.  Au lieu de cela, vous pouvez facilement imaginer une épée, une hache ou même une baguette magique, mais dans ce tutoriel, nous ne considérerons pas la création d'armes complexes. <br><br>  Accédez au mode <em>objet</em> et appuyez sur <em>Maj + A</em> pour ouvrir le menu <em>Ajouter</em> .  Choisissez <em>Maillage&gt; Cylindre</em> pour ajouter un nouveau cylindre à la scène. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fd1/8a2/37c/fd18a237c496c642a6785758dab64f31.png"></div><br>  Le cylindre par défaut est trop grand, alors configurez ses paramètres dans le coin inférieur gauche: changez le <em>rayon</em> à <em>0,04</em> et la <em>profondeur</em> à <em>1,2</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8a5/d7d/edd/8a5d7dedd5a189efcc095aaa58013a07.png"></div><br>  Grâce à cela, le cylindre deviendra plus mince et plus court. <br><br>  Rendez le cylindre lisse en cliquant sur le bouton <em>Lisser</em> dans la section Ombrage du panneau Tool Shelf à gauche. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f97/28f/eaa/f9728feaa2b92218ccca25d783b7e5e6.png"></div><br>  Jusqu'à présent, aucun matériau n'a été attribué à notre cylindre.  Pour affecter un matériau, ouvrez l'onglet <em>Matériau</em> dans le panneau Propriétés à droite et sélectionnez <em>CuteMaterial</em> dans la liste déroulante à côté du bouton Nouveau. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c44/464/65f/c4446465f9375895daf4f123e842655a.png"></div><br>  Pour transformer le cylindre en bâton brun, nous devons d'abord effectuer un scan UV.  Appuyez sur <em>Tab</em> pour <em>passer en</em> mode <em>Édition</em> , appuyez sur <em>U</em> pour ouvrir le menu <em>Développer</em> et sélectionnez <em>Projeter</em> <em>depuis la vue</em> . <br><br>  Déplacez le curseur de la souris sur la texture de droite, appuyez sur <em>G</em> pour déplacer les UV sur le morceau de texture marron.  Confirmez le mouvement avec <em>Entrée</em> et effectuez un zoom arrière en appuyant sur <em>S</em> et en déplaçant la souris pour que les UV s'insèrent à l'intérieur de cette pièce. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bbd/668/34c/bbd66834cf03fcd05671a15131fbc1bc.gif"></div><br>  Maintenant, le personnel est devenu brun.  Ne vous inquiétez pas du mauvais emplacement, nous nous en occuperons bientôt. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/90f/317/799/90f317799cc22627f651337b8de9af4b.png"></div><br>  Cliquez sur l'onglet <em>Contraintes</em> du panneau Propriétés.  Ajoutez une nouvelle contrainte en cliquant sur la liste déroulante Ajouter une contrainte d' <em>objet</em> et en sélectionnant <em>Enfant de</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a0e/e88/199/a0ee88199da71da04a00ff9da0dbca72.png"></div><br>  Les contraintes sont utilisées pour limiter la position, la rotation et l'échelle d'un objet.  Dans notre cas, j'ai fait du cylindre un enfant de l'os du bras du personnage.  Pour cette raison, lors de la création d'animations, l'objet sera constamment attaché à la main.  Cela simplifie considérablement l'aperçu de l'animation et vous permet de limiter l'intersection de l'objet avec le corps. <br><br>  La définition d'une contrainte est très simple.  Cliquez sur la liste déroulante <em>Cible</em> et sélectionnez <em>Armature</em> .  Maintenant, cliquez sur la liste déroulante <em>Vertex Group</em> et sélectionnez <em>Hand.R.</em> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/108/ff4/198/108ff4198d8f2f1f188fec85bdf6e471.png"></div><br>  Après cela, vous remarquerez que le bâton s'est instantanément attaché à la main droite du personnage.  Cependant, sa position et son tour ne sont pas entièrement vrais.  Faites pivoter la portée dans l'axe Z de 90 degrés en appuyant sur <em>R</em> , <em>X</em> , <em>90</em> et <em>Entrée</em> .  Maintenant, déplacez-le un peu en avant en appuyant sur <em>G</em> , <em>Y</em> , <em>-0,4</em> et <em>Entrée</em> .  Tant mieux! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e87/179/ea5/e87179ea57febca9904dc8334318603e.gif"></div><br>  Il est temps d'essayer le personnel.  Revenez au mode <em>Objet</em> en appuyant sur <em>Tab</em> , sélectionnez l'armature et passez en mode <em>Pose</em> à l'aide de la liste déroulante en bas de l'écran.  Faites pivoter la fenêtre de façon à voir clairement la portée, sélectionnez <em>UpperArm.R</em> et <em>faites</em> -la pivoter un peu en appuyant sur <em>R</em> et en déplaçant la souris.  Le bâton suivra la main, comme si le personnage la tenait. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d83/566/a41/d83566a41a40deae3de357f806157aee.gif"></div><br>  Le personnage et ses accessoires sont prêts.  Enregistrez le fichier, notre travail ici est terminé. <br><br>  Nous allons maintenant exporter des modèles et des appareils vers Unity. <br><br><h2>  Exporter vers d'autres formats </h2><br>  <em>Remarque:</em> si vous n'êtes pas intéressé par l'exportation de modèles vers d'autres formats afin de les partager avec des personnes, vous pouvez ignorer cette section.  Enregistrez simplement le fichier et fermez Blender. <br><br>  Unity fonctionne assez bien avec le format .blend d'une application Blender si Blender est installé sur le système.  Cependant, lors du transfert de modèles à d'autres personnes, il est préférable d'utiliser des formats tels que .FBX ou .OBJ, qui ne nécessitent aucun logiciel tiers.  Pour cette raison, la plupart de nos didacticiels utilisent des fichiers modèles en .FBX plutôt que les fichiers .blend d'origine. <br><br>  L'exportation vers FBX à partir de Blender est très simple.  Pour commencer, sélectionnez <em>Fichier&gt; Exporter&gt; FBX (.fbx)</em> dans le menu supérieur. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/250/32e/3ee/25032e3ee0c21614e5f5ea713bf90c31.png"></div><br>  Vous verrez le mode d'exportation.  Contrairement à la plupart des applications, Blender n'ouvre pas une fenêtre distincte, mais remplace à la place le contenu de la fenêtre entière. <br><br>  Vous pouvez sélectionner l'emplacement pour enregistrer le fichier en sélectionnant le dossier sur la gauche ou en entrant l'emplacement dans le champ en haut.  Les options d'exportation sont indiquées dans le coin inférieur gauche de la fenêtre: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/04f/066/804/04f0668049bce6cd7e1dc8298e5dedc7.png"></div><br>  Ces options d'exportation par défaut conviennent à Unity, mais il est possible que dans des scènes plus complexes, elles créent le chaos car elles exportent tout, même les sources lumineuses et les caméras.  Pour conserver l'exportation propre, apportez les modifications suivantes: <br><br>  Désélectionnez <em>Appareil photo</em> , <em>Lampe</em> et <em>Autre</em> .  Cela peut être fait en maintenant <em>Shift</em> et en cliquant sur les options que vous souhaitez désactiver. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e11/c45/687/e11c45687902fe1a0f03b1f7d095b6b6.gif"></div><br>  Si seules ces options sont sélectionnées, aucun objet indésirable n'est exporté.  Maintenant cochez la case <em>! EXPÉRIMENTAL!</em>  <em>Appliquez Transform</em> sous ces options.  Il appliquera la position, la rotation et l'échelle de tous les objets.  Cela signifie que les valeurs non uniformes seront réinitialisées;  par exemple, si la rotation avait des valeurs <em>(X: 23, Y: 125, Z: 7)</em> , elle sera réinitialisée sur <em>(X: 0, Y: 0, Z: 0)</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3e1/351/aec/3e1351aec63d7c56bf0fefc7323455aa.png"></div><br>  Basculez vers l'onglet <em>Géométries</em> en cliquant sur le bouton <em>Géométries</em> et décochez la case <em>Utiliser les paramètres de rendu des modificateurs</em> .  Cela gardera un nombre élevé de polygones à l'intérieur pour le rendu dans Blender, mais le laissera bas dans Unity. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ca9/061/e51/ca9061e5161ccdf014f7fdc398064b05.png"></div><br>  Ensuite, ouvrez l'onglet <em>Armatures</em> , cochez la <em>case Déformer uniquement les os</em> et décochez <em>Ajouter les os des feuilles</em> .  Cela empêchera l'application Blender d'ajouter des os supplémentaires au renfort.  Les os des feuilles ne sont nécessaires que pour la compatibilité Maya.  Les os non déformés, tels que les os de contrôle, ne sont nécessaires que dans les logiciels de simulation pour affiner;  dans les moteurs de jeux comme Unity, ils sont inutiles. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e44/7bd/558/e447bd558142dc8a3838dbf89eef7a08.png"></div><br>  <em>Les</em> options d' <em>animation</em> sont configurées correctement par défaut, vous n'avez donc pas besoin de les modifier. <br><br>  Après avoir configuré tout cela, il serait trop ennuyeux de le faire à chaque fois que vous exportez un fichier.  Et ici, les préréglages nous aideront.  Nous pouvons enregistrer tous ces paramètres dans les options internes de Blender pour une utilisation future. <br><br>  Pour ce faire, cliquez sur le bouton + à côté de la liste déroulante <em>Presets opérateur</em> , entrez le nom du préréglage dans la zone de texte et cliquez sur <em>OK</em> .  Dans ce tutoriel, nous l'appellerons <em>Unity FBX</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6ba/0fd/745/6ba0fd7453dd9e938871627326163d08.png"></div><br>  Si vous ouvrez maintenant la liste déroulante <em>Presets opérateur</em> , vous pouvez sélectionner le nouveau preset créé: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c7d/7cb/7b1/c7d7cb7b1ff1fcbc517eca0e6c63cddd.png"></div><br>  Après cela, les paramètres seront instantanément appliqués.  Les préréglages fonctionnent pour tous les fichiers, vous pouvez donc maintenant facilement exporter n'importe quel fichier Blender vers FBX pour l'utiliser dans Unity. <br><br>  La dernière étape est l'exportation elle-même.  Dans ce didacticiel, le fichier .blend est utilisé par Unity pour l'animation, alors enregistrez le fichier FBX à n'importe quel emplacement en sélectionnant le dossier à gauche et en cliquant sur le bouton <em>Exporter FBX</em> dans le coin supérieur droit. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e30/9a2/261/e309a2261a5d19b74810ee844fc1078a.png"></div><br>  Enregistrez le fichier et fermez Blender.  Enfin, il est temps de passer à Unity et de profiter de notre modèle. <br><br><h2>  Personnalisation humanoïde </h2><br>  Ouvrez le projet vide dans Unity et regardez la fenêtre <em>Projet</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/531/32e/bd4/53132ebd4d152afee9a068da94e91fb1.png"></div><br>  Voici une brève description des dossiers: <br><br><ul><li>  <em>Contrôleurs d'animation</em> : utilisés pour insérer un contrôleur d'animation de personnage. </li><li>  <em>Animations</em> : contient des animations d'attente simples. </li><li>  <em>Modèles</em> : ici, nous avons édité et enregistré le personnage.  Dans ce dossier se trouve également un modèle de dojo et plusieurs textures. </li><li>  <em>Musique</em> : Un air chinois simple qui correspond au style dojo. </li><li>  <em>Scènes</em> : scène Dojo. </li></ul><br>  Si la scène <em>Dojo</em> n'est pas déjà ouverte, ouvrez-la à partir du dossier <em>Scenes</em> .  La scène est à l'intérieur d'un dojo avec une source audio jouant de la musique de fond. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/37c/a46/a80/37ca46a807bab9f5e6b614301b5f223b.png"></div><br>  Après avoir traité cela, commençons à utiliser le personnage! <br><br><h3>  Avatar de lien </h3><br>  Tout d'abord, sélectionnez le modèle <em>CuteCharacter</em> dans le dossier <em>Models</em> et ouvrez l'onglet <em>Rig</em> dans l' <em>inspecteur</em> .  Ouvrez le menu déroulant <em>Type d'animation</em> et sélectionnez <em>Humanoïde</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3d3/1a7/842/3d31a78423869af5c6ee536b134d0bb6.png"></div><br>  Nous allons donc signaler que le personnage est un humanoïde, afin que Unity puisse l'utiliser en conséquence.  Maintenant, cliquez sur <em>Appliquer</em> pour enregistrer ces paramètres. <br><br>  Après une brève réimportation, vous remarquerez que le bouton <em>Configurer ...</em> est apparu.  Cliquez dessus pour commencer à relier les os au système de moteur Mecanim d'Unity. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/90e/bd2/0ae/90ebd20ae56b424940ce5da34745f058.png"></div><br>  Regardez la fenêtre <em>Scène</em> et faites pivoter la fenêtre pour que le personnage vous regarde.  Remarquez les os verts;  ils sont utilisés par le moteur Unity.  Cliquez sur l'un d'eux pour sélectionner l'os correspondant dans la <em>hiérarchie</em> et l' <em>inspecteur</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f35/7c5/8c3/f357c58c31708740d1c64ef485c9c892.png"></div><br>  L'utilisation des os du moteur Unity ressemble au travail d'un marionnettiste.  Au lieu d'utiliser directement les fichiers d'animation pour mettre à jour les os de chaque image, il lit les valeurs et les applique à chaque humanoïde en fonction de sa définition d'avatar.  Cela offre une flexibilité lorsque vous travaillez avec différentes formes de corps.  Prenez par exemple le personnage avec lequel nous avons travaillé - ses proportions sont irréalistes, mais cela n'a pas d'importance, car son squelette a les os nécessaires: colonne vertébrale, bras, jambes, etc.  Certains os peuvent être plus courts que la plupart des gens, mais ils sont toujours présents. <br><br>  Regardons maintenant l' <em>inspecteur</em> : vous voyez la figure d'une personne avec des cercles verts et gris dispersés autour d'elle.  Tous les cercles continus sont nécessaires au fonctionnement du système Avatar.  Si certains d'entre eux manquent, ils deviennent rouges et vous ne pouvez pas animer correctement le personnage. <br><br>  Les cercles en pointillés sont des os supplémentaires pour les montages plus complexes.  Toutes les parties grises sont manquantes, mais facultatives.  Par exemple, notre personnage n'a pas de doigts. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/893/c05/9f5/893c059f5cb7c2436e6894eb0b2e8ae5.png"></div><br>  Voici une description complète des os, et c'est ici que les parties du corps doivent être connectées aux os.  Si l'un des cercles est rouge, vous devez affecter (ou réaffecter) l'os.  Le squelette que nous avons créé répondait pleinement aux exigences lors de l'importation dans Unity, donc aucun paramètre n'est requis.  Hourra! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/47c/32f/36b/47c32f36bc7b945f27746ae3e8bae55d.png"></div><br>  Cliquez sur le bouton <em>Appliquer</em> dans le coin inférieur droit et cliquez sur le bouton <em>Muscles et paramètres</em> en haut de l'inspecteur.  Cela vous permettra de visualiser et de configurer les muscles virtuels. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8e8/eea/63a/8e8eea63a8e80f5bb3795ad52a9617fd.png"></div><br>  Vous verrez trois sections: <br><br><ul><li>  Aperçu du groupe musculaire </li><li>  Paramètres par muscle </li><li>  Paramètres supplémentaires </li></ul><br>  Dans le premier, plusieurs curseurs peuvent être déplacés vers la gauche et la droite pour vérifier que les muscles sont correctement attachés.  Expérimentez avec eux et voyez ce qu'ils font.  Notez que les muscles des doigts ne sont en aucun cas pris en compte, car le personnage n'a pas de doigts.  Après chaque test, cliquez sur le bouton <em>Réinitialiser tout</em> pour réinitialiser tous les curseurs de l'aperçu. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/17b/47a/5c6/17b47a5c6155918f5deec754b62b5291.gif"></div><br>  La section Paramètres par muscle contient des sous-sections qui peuvent être développées en cliquant sur les flèches.  Chacun d'eux a des aperçus distincts.  Ces sous-sections vous permettent de spécifier des angles minimum et maximum pour éviter les chevauchements dans votre modèle. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3a4/1ea/fa6/3a41eafa658e5c0d965b69fea42aa61c.png"></div><br>  Développez la section <em>Bras gauche</em> et essayez de faire glisser le curseur <em>Bras vers</em> le <em>bas</em> .  Remarquez ce qui se passe avec la valeur minimale: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5a4/fb3/c7b/5a4fb3c7b63921b16138448d4bbe3cac.gif"></div><br><blockquote>  <em>Remarque:</em> si le personnage est trop sombre pour créer une silhouette, vous pouvez désactiver l'éclairage de la scène dans la fenêtre Scène en cliquant sur la petite icône du soleil en haut. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2c/9aa/5dc/f2c9aa5dc4c564e9634df8c4ca4944ae.png"></div></blockquote><br>  Une main se déplace dans le corps du personnage.  Dommage! <br><br>  Pour résoudre ce problème, déplacez le curseur d'aperçu sur la valeur la plus basse et modifiez l' <em>angle minimum</em> de la section <em>Arm Down-Up</em> à <em>-20</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/929/53c/8c5/92953c8c56a92331624e40ba9545708c.png"></div><br>  Faites de même pour <em>Bras droit</em> &gt; <em>Bras vers le bas</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eb7/81e/f78/eb781ef7841c2584c74f7df8e71593f9.png"></div><br>  C'est là que nous finissons de régler les muscles.  Vous pouvez également régler d'autres muscles pour éviter les chevauchements, mais dans ce didacticiel, nous nous concentrerons sur le déplacement de vos bras de haut en bas. <br><br>  Cliquez sur le bouton <em>Appliquer</em> dans le coin inférieur droit pour enregistrer les images dans Avatar et cliquez sur <em>Terminé</em> pour fermer le mode d'accrochage. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fd8/00f/38e/fd800f38e8e20892a1ceca619da7c40a.png"></div><br>  Il est maintenant temps d'ajouter le personnage à la scène et de lui donner une animation jouable. <br><br><h2>  Utilisation des personnages </h2><br>  Pour ajouter un personnage, faites glisser le modèle <em>CuteCharacter</em> du dossier <em>Modèles</em> vers la <em>hiérarchie</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6c9/268/ff6/6c9268ff66992a6ea73ae21332a597ff.png"></div><br>  Réglez CuteCharacter pour qu'il pivote <em>(X: 0, Y: 180, Z: 0)</em> afin qu'il regarde dans la caméra. <br><br>  Créez un nouveau contrôleur d'animation en cliquant avec le bouton droit sur le dossier <em>RW \ ​​Animation Controllers</em> et en choisissant <em>Créer&gt; Animation Controller</em> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/51b/950/34f/51b95034f7de76da422edb6a8fe4eda8.png"></div><br>  Nommez-le <em>CharacterController</em> et double-cliquez dessus pour ouvrir la fenêtre Animator.  Faites maintenant glisser l'animation <em>inactive</em> du dossier <em>RW \ ​​Animations</em> vers la grille Animator pour en faire l'animation par défaut. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b82/715/69f/b8271569fe6ad83cef7f48d5301d437f.png"></div><br>  Ensuite, sélectionnez <em>CuteCharacter</em> dans la <em>hiérarchie</em> et cliquez sur le bouton de sélection à côté du champ <em>Contrôleur</em> .  Sélectionnez <em>CharacterController</em> dans la zone de sélection. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/81f/774/ab9/81f774ab9ed3f97dc1bcff563c13dc4e.png"></div><br>  Enfin, développez <em>CuteCharacter</em> dans une <em>hiérarchie</em> et faites glisser <em>Cylinder</em> sur <em>Hand_R</em> pour en faire un enfant.  C'est la limitation de l'ajout d'un objet séparé, que j'ai mentionné ci-dessus.  Si cela n'est pas fait, l'arme flottera simplement autour du personnage. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0f1/4b6/47f/0f14b647f96be9a808c6465cef81b20c.png"></div><br>  C'est tout!  Cliquez sur le bouton Jouer pour voir le personnage en action. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ae7/47d/1a6/ae747d1a62ce8e52a8efc5dbdbe4d7e1.gif"></div><br>  Appuyez à nouveau sur le bouton <em>Lecture</em> pour arrêter la scène et appuyez sur <em>CTRL + S</em> pour enregistrer les modifications. <br><br><h2>  Où aller ensuite? </h2><br>  Félicitations, vous avez terminé le didacticiel.  Le projet terminé peut être téléchargé <a href="">ici</a> . <br><br>  Dans ce didacticiel, vous avez appris les éléments suivants: <br><br><ul><li>  Créer l'armature (squelette) du personnage et effectuer son gréement </li><li>  Modifiez votre personnage avec des accessoires et des objets </li><li>  Exporter vers FBX </li><li>  Importer des modèles Blender </li><li>  Créez et personnalisez un avatar humanoïde </li><li>  Attachez des objets au personnage </li><li>  Animer un humanoïde dans Unity </li></ul><br>  Pour profiter des connaissances acquises, vous pouvez créer indépendamment plusieurs accessoires et leur donner différentes couleurs ou une palette.  Si vous connaissez la simulation, vous pouvez créer un personnage à partir de zéro et effectuer son calage. <br><br>  Pour en savoir plus sur Blender, consultez les didacticiels suivants: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">Tutoriels officiels de Blender</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">Blender Guru series pour les débutants</a> . </li></ul><br>  Pour en savoir plus sur Mecanim et Avatar, lisez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener">ce billet de</a> développeur Unity. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr422255/">https://habr.com/ru/post/fr422255/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr422241/index.html">KPI - Trois lettres d'achoppement</a></li>
<li><a href="../fr422243/index.html">CRM pour les petites entreprises. En avez-vous besoin?</a></li>
<li><a href="../fr422247/index.html">OK Instant Games Cup. Concurrence pour les développeurs de jeux HTML5</a></li>
<li><a href="../fr422251/index.html">"Un haut niveau d'auto-discipline." Jeffrey Richter explique comment coder, écrire des livres et créer ses propres entreprises</a></li>
<li><a href="../fr422253/index.html">If - Cadre frontal de Rust & WebAssembly</a></li>
<li><a href="../fr422257/index.html">Critique du lecteur PocketBook 627: classe moyenne avec rétro-éclairage, Wi-Fi et service cloud</a></li>
<li><a href="../fr422259/index.html">Structures de données de base. Matériel. Les bases</a></li>
<li><a href="../fr422261/index.html">Zextras Powerstore et systèmes de hiérarchisation</a></li>
<li><a href="../fr422263/index.html">«Dormammu, je suis tombé d'accord»: un algorithme de coopération mutuellement bénéfique avec une personne</a></li>
<li><a href="../fr422265/index.html">Présentation de l'imprimante 3D PICASO 3D Designer X PRO</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>