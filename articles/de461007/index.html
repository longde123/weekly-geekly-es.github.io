<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëû ‚õèÔ∏è üòø Erste Schritte mit dem PVS-Studio Static Analyzer f√ºr Visual C ++ üñãÔ∏è üë∏üèª ü¶ì</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Artikel werde ich Ihnen PVS-Studio, einen Analysator f√ºr C- und C ++ - Code, erl√§utern und Ihnen zeigen, wie Sie ihn in der Visual C ++ - Um...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erste Schritte mit dem PVS-Studio Static Analyzer f√ºr Visual C ++</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/461007/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e61/add/44c/e61add44c3ad8d47978a57af0b2b60cb.png" alt="Bild 8"></div><br>  In diesem Artikel werde ich Ihnen PVS-Studio, einen Analysator f√ºr C- und C ++ - Code, erl√§utern und Ihnen zeigen, wie Sie ihn in der Visual C ++ - Umgebung verwenden.  Diese Anleitung richtet sich speziell an Anf√§nger. <br><a name="habracut"></a><br><h2>  Analysator installieren </h2><br>  PVS-Studio unterst√ºtzt Microsoft Visual Studio 2019, 2017, 2015, 2013, 2012 und 2010. Die Systemanforderungen finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> .  Derzeit kann PVS-Studio Projekte analysieren, die in C, C ++, C # und Java geschrieben wurden.  Dieser Artikel konzentriert sich jedoch auf Programmierer, die in Visual C ++ arbeiten und nach Hilfe suchen, um mit dem Analysator zu beginnen. <br><br>  Das Installationspaket kann hier heruntergeladen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">werden</a> .  Nach dem Ausf√ºhren stehen Ihnen eine Reihe von Integrationsoptionen (Abbildung 1) zur Auswahl.  Nicht verf√ºgbare Optionen sind ausgegraut. <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f73/fd3/04d/f73fd304d32b6083509934876f4cc581.png" alt="Abbildung 1. Auswahlfenster f√ºr Integrationskomponenten."></div><br>  <font color="#999999"><i>Abbildung 1. Auswahlfenster f√ºr Integrationskomponenten.</i></font> <br><br>  √ñffnen Sie nach der Installation von PVS-Studio das Info-Fenster von Visual Studio und stellen Sie sicher, dass der Analysator unter den installierten Produkten vorhanden ist. <br><br><h2>  Ein Projekt √ºberpr√ºfen </h2><br>  Nach Abschluss der Installation k√∂nnen Sie Ihr Projekt √ºberpr√ºfen.  Sie k√∂nnen auch versuchen, die gesamte L√∂sung zu analysieren.  Klicken Sie dazu auf Erweiterungen ‚Üí PVS-Studio ‚Üí Pr√ºfen ‚Üí L√∂sung (Abbildung 2). <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/716/ee3/2d8/716ee32d88dcc6bac832be8356dfaca6.png" alt="Abbildung 2. √úberpr√ºfen einer L√∂sung mit PVS-Studio."></div><br>  <font color="#999999"><i>Abbildung 2. √úberpr√ºfen einer L√∂sung mit PVS-Studio.</i></font> <br><br>  Wenn Sie Probleme beim Ausf√ºhren der Pr√ºfung haben, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">lesen Sie den</a> Abschnitt " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">PVS-Studio: Fehlerbehebung</a> " auf unserer Website.  Dies sind keine dummen Hinweise wie "Stellen Sie sicher, dass der Stecker in die Steckdose gesteckt ist".  In diesem Abschnitt werden typische Probleme beschrieben, die unsere Benutzer gemeldet haben, und M√∂glichkeiten, sie zu l√∂sen. <br><br><h2>  Umgang mit der Warnliste </h2><br>  Nach Abschluss der Pr√ºfung werden die Diagnosemeldungen in einem speziellen Fenster angezeigt.  Dieses Fenster enth√§lt viele Elemente, die alle dazu dienen, die Liste so zu bearbeiten, dass Sie nur die Warnungen von Interesse anzeigen k√∂nnen.  Zun√§chst k√∂nnte es jedoch etwas kompliziert aussehen. <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b28/700/7c4/b287007c4520a416cd531e31962c01ca.png" alt="Abbildung 3. Warnfenster. Klicken Sie auf das Bild, um es zu vergr√∂√üern."></div><br>  <font color="#999999"><i>Abbildung 3. Warnfenster.</i></font>  <font color="#999999"><i>Klicken Sie auf das Bild, um es zu vergr√∂√üern.</i></font> <br><br>  Die vollst√§ndige √úbersicht √ºber die Elemente des Fensters finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> . Jetzt konzentrieren wir uns nur auf die grundlegenden: <br><br><ol><li>  Sicherheitsstufen der Warnungen.  Der Screenshot oben zeigt die aktivierten mittleren und hohen Pegel.  Das niedrige Niveau befasst sich mehr mit "Code-Ger√ºchen" und Warnungen, die leider dazu neigen, zu viele Fehlalarme zu erzeugen.  Warum gibt es so viele Warnungen auf niedriger und mittlerer Ebene, aber so wenige Warnungen auf hoher Ebene?  Die Antwort ist, dass die MISRA-Diagnose aktiviert wurde, die Regeln wie "Die Funktion sollte nur einen einzigen Austrittspunkt haben" enth√§lt.  Nat√ºrlich ben√∂tigen Sie diese Diagnose normalerweise nicht, daher sind sie standardm√§√üig deaktiviert.  Hinweis: " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Wie k√∂nnen Sie schnell interessante Warnungen des PVS-Studio-Analysators f√ºr C- und C ++ - Code √ºberpr√ºfen?</a> ". </li><li>  Der Filter.  Sie k√∂nnen die Nachrichten nach Code, CWE, Text, Projekt oder Datei filtern. </li><li>  Die Nummer der ausl√∂senden Leitung.  Einige Diagnosen k√∂nnen sich auf mehrere Zeilen beziehen: Solche Warnungen haben ein Auslassungszeichen neben der Zeilennummer. </li></ol><br><h2>  SAST </h2><br>  PVS-Studio ist ein Tool f√ºr statische Anwendungssicherheitstests (SAST), mit dem potenzielle Schwachstellen im Quellcode erkannt und die entsprechende Schwachstellenkennung gem√§√ü einer bestimmten Klassifizierung angezeigt werden kann. <br><br>  PVS-Studio unterst√ºtzt die folgenden Schwachstellenklassifizierungen: <br><br><ol><li>  CWE </li><li>  SEI CERT </li><li>  Misra </li></ol><br>  Um CWE-Codes zu aktivieren, √∂ffnen Sie das Dropdown-Men√º des Analysefensters und aktivieren Sie dann Spalten anzeigen&gt; CWE <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/919/85b/e34/91985be349bf7385fa7f3878ef57dcde.png" alt="Abbildung 4. Aktivieren von CWE-Codes √ºber das Dropdown-Men√º."></div><br>  <font color="#999999"><i>Abbildung 4. Aktivieren von CWE-Codes √ºber das Dropdown-Men√º.</i></font> <br><br>  Eine andere M√∂glichkeit hierf√ºr ist Erweiterungen&gt; PVS-Studio&gt; CWE-Codes im Ausgabefenster in der Men√ºleiste von Visual Studio anzeigen <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0b6/582/d8c/0b6582d8c2626066567dfd111439cbc6.png" alt="Abbildung 5. Untermen√º PVS-Studio im Men√º Erweiterungen."></div><br>  <font color="#999999"><i>Abbildung 5. Untermen√º PVS-Studio im Men√º Erweiterungen.</i></font> <br><br>  Im Gegensatz dazu ist die MISRA-Diagnose im Optionsfenster aktiviert: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b89/898/709/b89898709db7045f949fb564c6c80059.png" alt="Abbildung 6. Liste der feststellbaren Schwachstellen."></div><br>  <font color="#999999"><i>Abbildung 6. Liste der feststellbaren Schwachstellen.</i></font> <br><br>  Mehr √ºber diese Klassifikationen erfahren Sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> . <br><br><h2>  √úberpr√ºfen von Projekten √ºber die Befehlszeile </h2><br>  PVS-Studio_Cmd.exe ist ein Dienstprogramm zum √úberpr√ºfen von C ++ .vcxproj-Projekten und -L√∂sungen √ºber die Befehlszeile.  Dies kann hilfreich sein, wenn Sie den Analyseprozess automatisieren m√∂chten.  Das Programm befindet sich standardm√§√üig im Installationsverzeichnis "C: \ Programme (x86) \ PVS-Studio". <br><br>  Das Dienstprogramm verf√ºgt √ºber mehrere <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Parameter</a> , Sie ben√∂tigen jedoch nur drei, um loszulegen: <ul><li>  --target: Die Datei des zu √ºberpr√ºfenden Projekts oder der zu √ºberpr√ºfenden L√∂sung. </li><li>  --output: Die Plog-Datei, in der der Analysebericht gespeichert werden soll. </li><li>  --progress: Verfolgen Sie den Analysefortschritt. </li></ul><br>  Folgendes sehen Sie nach dem Start der Pr√ºfung: <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ce/ee2/aa1/3ceee2aa11c0bf9f887ad8959d7cdd65.png" alt="Abbildung 7. Ausgabe des Dienstprogramms PVS-Studio_Cmd.exe"></div><br>  <font color="#999999"><i>Abbildung 7. Ausgabe des Dienstprogramms PVS-Studio_Cmd.exe</i></font> <br><br>  Nach Abschluss der Pr√ºfung wird in dem in den Startparametern angegebenen Verzeichnis eine Plog-Datei mit dem Analysebericht erstellt.  Dieser Bericht kann mit dem Dienstprogramm PlogConverter.exe in andere Formate konvertiert werden. Wenn Sie den Bericht in der IDE √∂ffnen m√∂chten, doppelklicken Sie einfach im Windows Explorer auf die Plog-Datei. <br><br>  Die Berichtsdatei kann auch √ºber das Men√º Erweiterungen ge√∂ffnet werden: Erweiterungen&gt; PVS-Studio&gt; √ñffnen / Speichern&gt; Analysebericht √∂ffnen ... <br><br><p></p><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/490/7ac/cc5/4907accc516b05ccfedf52acc9c85d9f.png" alt="Abbildung 8. √ñffnen eines Analyseberichts √ºber das Plugin-Men√º."></div><br>  <font color="#999999"><i>Abbildung 8. √ñffnen eines Analyseberichts √ºber das Plugin-Men√º.</i></font> <br><br>  Weitere Informationen zum Dienstprogramm und seinen Parametern finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> . <br><br><h2>  Unterdr√ºckung von Fehlalarmen </h2><br>  Der Analysator bietet eine Vielzahl von Mitteln zur Unterdr√ºckung von Fehlalarmen.  Sie werden in den folgenden Abschnitten ausf√ºhrlich beschrieben: <br><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Feinabstimmung</a> . </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Massenunterdr√ºckung</a> , die besonders n√ºtzlich ist, wenn Sie nur die Warnungen unterdr√ºcken m√∂chten, die sich auf neuen oder ge√§nderten Code beziehen. </li></ul><br><h2>  Beispielwarnung </h2><br>  Schauen wir uns ein Beispiel f√ºr eine vom Analyseger√§t ausgegebene Warnung an.  Das folgende Codefragment stammt aus dem ReactOS-Projekt: <br><br><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">VOID NTAPI </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AtapiDmaInit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... ULONG treg = <span class="hljs-number"><span class="hljs-number">0x54</span></span> + (dev &lt; <span class="hljs-number"><span class="hljs-number">3</span></span>) ? (dev &lt;&lt; <span class="hljs-number"><span class="hljs-number">1</span></span>) : <span class="hljs-number"><span class="hljs-number">7</span></span>; .... }</code> </pre> <br>  Diagnosemeldung von PVS-Studio: V502 M√∂glicherweise funktioniert der Operator '?:' Anders als erwartet.  Der Operator '?:' Hat eine niedrigere Priorit√§t als der Operator '+'.  uniata id_dma.cpp 1610 <br><br>  Der <i>Ausdruck 0x54 + (dev &lt;3)</i> wird immer als <i>wahr</i> ausgewertet: Die Nicht-Null-Konstante <i>0x54</i> wird zuerst zum Ergebnis des Ausdrucks <i>(dev &lt;3)</i> addiert, der entweder zu 0 oder 1 ausgewertet werden kann, und erst dann ist der resultierender Wert verglichen mit Null. <br><br>  So sieht die richtige Version aus: <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-function">VOID NTAPI </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AtapiDmaInit</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(....)</span></span></span><span class="hljs-function"> </span></span>{ .... ULONG treg = <span class="hljs-number"><span class="hljs-number">0x54</span></span> + ((dev &lt; <span class="hljs-number"><span class="hljs-number">3</span></span>) ? (dev &lt;&lt; <span class="hljs-number"><span class="hljs-number">1</span></span>) : <span class="hljs-number"><span class="hljs-number">7</span></span>); .... }</code> </pre> <br>  Wir haben das Problem gel√∂st, indem wir die Operation <i>'?:'</i> In Klammern gesetzt haben, sodass das Ergebnis nun vom Ergebnis des Ausdrucks <i>(dev &lt;3)</i> abh√§ngt. <br><br><h2>  Fazit </h2><br>  Dies war eine kurze Einf√ºhrung in die ersten Schritte mit PVS-Studio f√ºr Visual C ++.  Es werden nat√ºrlich nicht alle Aspekte behandelt. Willkommen in unserem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Blog</a> , in dem wir ausf√ºhrlich erkl√§ren, wie Sie mit dem Analyseger√§t arbeiten, und in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dokumentation</a> eine vollst√§ndige Beschreibung der Diagnosemeldungen und der Einstellungen des Tools finden. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de461007/">https://habr.com/ru/post/de461007/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de460995/index.html">Wir stellen das ML-Projekt mit Flask als REST-API bereit und machen es √ºber die Flutter-Anwendung zug√§nglich</a></li>
<li><a href="../de460997/index.html">Touristen helfen Wissenschaftlern, die Anzahl der gro√üen Raubtiere abzusch√§tzen</a></li>
<li><a href="../de460999/index.html">Lass uns ein kleines Spiel mit Lamoda spielen</a></li>
<li><a href="../de461003/index.html">Analyse: Wie der Hochfrequenzhandelsmarkt an der B√∂rse funktioniert</a></li>
<li><a href="../de461005/index.html">Testen f√ºr das Unternehmen: Stellen Sie beim Interview die richtigen Fragen</a></li>
<li><a href="../de461009/index.html">Wie man in 10 Tagen einen Standard macht. Teil Zwei Langweilig</a></li>
<li><a href="../de461013/index.html">Internetverbindung reservieren</a></li>
<li><a href="../de461015/index.html">Lebe und lerne. Teil 2. Universit√§t: 5 Jahre oder 5 Korridore?</a></li>
<li><a href="../de461017/index.html">Neuer GPU-Tracking-Algorithmus: Wavefront Path Tracing</a></li>
<li><a href="../de461019/index.html">Wie ist das Leben f√ºr Entwickler im Iran?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>