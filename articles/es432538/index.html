<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëä „äóÔ∏è üè≥Ô∏è Hogar inteligente, todav√≠a te hice ü§õüèº üëàüèΩ üë≤üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hogar inteligente, un tema bastante trillado en nuestro tiempo, y en esta publicaci√≥n no le contar√© sobre nuevas tecnolog√≠as, fabricantes y tendencias...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Hogar inteligente, todav√≠a te hice</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/432538/"><img src="https://habrastorage.org/webt/rc/pi/ap/rcpiaplfihjycjb82knoboywbs4.jpeg"><br><br>  Hogar inteligente, un tema bastante trillado en nuestro tiempo, y en esta publicaci√≥n no le contar√© sobre nuevas tecnolog√≠as, fabricantes y tendencias modernas de este tema, todo est√° escrito para m√≠ una vez cada cien.  Intentar√© describir brevemente el proceso de creaci√≥n de una casa inteligente (en adelante, UD) sin narraciones t√©cnicas profundas.  Si este tema ser√° interesante para los lectores, presentar√© completamente todos los listados de programas, firmware MK, circuitos y todo lo necesario para que este milagro se convierta en el coraz√≥n de su hogar. <br><a name="habracut"></a><br>  Los conceptos b√°sicos en el desarrollo de UD son la ausencia total de una "granja colectiva", en otras palabras, el relleno electr√≥nico no debe sobresalir est√©ticamente (enchufes, interruptores, bombillas) y no sobrecargar a los usuarios (duplicando la funcionalidad principal de la manera habitual: cualquier fuente de luz puede encenderse desde el interruptor y desde el tel√©fono, y no como con las l√°mparas inteligentes, cualquier persona en el tema lo entender√°).  Incluso adjuntar√© una imagen para mayor claridad: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kj/78/ez/kj78ez2owrbmnv3pesjm1xar1b8.png"></div><br>  La √∫ltima adici√≥n y la letra terminar√°n.  Pod√≠a comprar un sistema de casa inteligente listo para usar, pero en el pasado reciente ten√≠a una buena comprensi√≥n de los circuitos, la electr√≥nica de radio, la programaci√≥n y ten√≠a un auto a tiempo, e incluso en ese momento comenc√© a construir una casa de campo que realmente quer√≠a dotar a mi cerebro.  En general, as√≠ es como preguntarle al pescador por qu√© est√° pescando, si puede ir a comprarlo.  Para el placer de los muchachos, para el placer de comprender que puede automatizar su hogar e invertir su alma, sus ideas, su l√≥gica en √©l, realmente hace que su hogar cobre vida.  Vamos! <br><br>  En primer lugar, determin√© el funcionamiento del UD, que es realmente necesario: <br><br><ul><li>  Gesti√≥n de todas las fuentes de luz, tanto desde el interruptor, como desde la aplicaci√≥n. </li><li>  Control de brillo de la l√°mpara </li><li>  Varios modos de iluminaci√≥n: apagado autom√°tico, modo de presencia, luz por la noche: a m√≠ mismo se me ocurri√≥ este modo, cuando lo enciende, ilumina su camino por la noche al ba√±o.  Si no acaricias las paredes en busca de un interruptor, puedes pensar en otra cosa. </li><li>  Gestione tomas espec√≠ficas donde est√°n conectadas la plancha, el rizador, el secador de pelo, la encimera, etc.  La ideolog√≠a es la siguiente: izquierda, olvid√© apagarlo o no, lo apagu√© a trav√©s de la aplicaci√≥n. </li><li>  El p√°rrafo anterior implica la necesidad de controlar la casa desde cualquier parte del mundo y sigue siendo ligera: <br><br>  -temperatura y humedad en la casa, en la calle y en el s√≥tano <br>  -Temperatura y presi√≥n en el sistema de calefacci√≥n (casa privada, sin ella en ning√∫n lado) <br>  -protecci√≥n contra fugas, humo, a√∫n m√°s precisamente no protecci√≥n, sino notificaci√≥n. </li></ul><br><h2>  De las palabras a los hechos </h2><br>  Dividi√≥ el sistema en tres bloques: <br><br><ul><li>  Unidad de control de iluminaci√≥n y carga de potencia. </li><li>  Unidad de monitoreo (varios sensores) </li><li>  Mini computadora (cerebro principal, n√∫cleo del servidor OS, .Net) </li></ul><br>  <b>Unidad de control de carga de potencia e iluminaci√≥n de 9 canales.</b> <br><br>  La base de MK de Atmel atmega1284 no es arduino, solo hardcode, solo C, el m√≥dulo de ethernet ENC28J60 fue elegido como canal de comunicaci√≥n con el cerebro (UART es aburrido, la limitaci√≥n de la longitud del cable incluso depende del humo), algunas palabras sobre el m√≥dulo ENC28J60, en realidad un microcircuito dudoso : errata es m√°s que una hoja de datos, pero en un mes de trabajo nunca se colg√≥, as√≠ que por ahora no tengo ninguna queja al respecto.  Prometi√≥ sin narrativas t√©cnicas, pero esto no es limpieza de pisos, completamente sin terminolog√≠a en ninguna parte.  7 interruptores y 7 accesorios de iluminaci√≥n est√°n conectados a la unidad, dos canales van a contactores de 25A cada uno, uno a la salida donde la esposa acaricia mis pantalones para el trabajo, y el segundo a la habitaci√≥n de los ni√±os, dos para salidas paralelas.  Primero, recog√≠ todo sobre mi rodilla en mi laboratorio <br><br><img src="https://habrastorage.org/webt/j5/ni/bg/j5nibgoaxs10wzoladnb0mejbya.jpeg"><br><br>  Grab√≥ el tablero usando el m√©todo LUT <br><br><img src="https://habrastorage.org/webt/rf/bh/yl/rfbhyl53ica3mhfcxva6mdkc2og.jpeg"><br><br><img src="https://habrastorage.org/webt/sm/31/oc/sm31ocrqok26zcj5d_8oig8vexa.jpeg"><br><br>  Despu√©s de probar el rendimiento de la placa, ped√≠ varias instancias de placas de circuito en Novosibirsk <br><br><img src="https://habrastorage.org/webt/mm/03/mj/mm03mjsycbzieajbn9ddir9lbtc.jpeg"><br><br>  Reun√≠ dos copias de la unidad de control, una para probar cargas y la segunda para instalarla en una casa de campo.  Es aterrador instalar equipos de los que no est√° seguro en su hogar.  En teor√≠a, cada canal soporta una corriente de 12 amperios, pero 2-3A es suficiente para encender o controlar contactores.  No importa c√≥mo intent√© quemar la placa probada, no funcion√≥ para m√≠, incluso conect√© una pistola de calor de 3 kW, los triacs se calentaron casi a rojo, pero ninguno fall√≥.  Para resumir, la junta aprob√≥ la prueba lo mejor posible. <br><br>  Program√© e instal√© los microcontroladores en el tablero en la casa, la luz ya pod√≠a encenderse a trav√©s de los interruptores, pero la casa inteligente todav√≠a no ol√≠a. <br><br>  <b>Mini computadora</b> <br><br>  En el trabajo, abr√≠ un cliente ligero con 1 GB de RAM y 8 GB de ROM, en Amazon cuesta un poco m√°s de 100 d√≥lares.  Eleg√≠ Server Core como SO, porque soy una persona orientada a C #).  No puedo escribir software nativo para Android y Apple, y durante mucho tiempo decid√≠ por m√≠ mismo que mi bot en la plataforma de Pashka Durov (que no entendi√≥ el telegrama) administrar√° el hogar inteligente durante aproximadamente una semana, me sent√© en la computadora port√°til debajo de Spaten y el bot est√° listo.  Es bueno trabajar con personas inteligentes, se trata de telegramas, el bot se escribi√≥ de una vez, documentaci√≥n clara, bibliotecas de trabajo, sin fallas.  Un punto triste que todos saben: Roskomnadzor quiere bloquear el carro con todas sus fuerzas y funciona en tel√©fonos inteligentes, pero la situaci√≥n con los bots es un poco diferente, se conectan a los servidores cada dos veces y para no tentar al destino, elev√© openvpn a AWS (Amazon Web Services) servidor (y de forma gratuita, en Amazon hay pago por tr√°fico, y el tr√°fico a trav√©s del bot es m√≠nimo).  Despu√©s de cargar, el thin client se conecta al servidor vpn y omite todos los bloqueos de Roskomnadzor que se procesan en silencio. <br><br><h2>  Resumen </h2><br>  El sistema funciona durante un mes en condiciones reales sin una sola falla.  En los telegramas en Android hay un mo√±o que puede llevar el bot directamente al escritorio y abrir como una aplicaci√≥n separada.  S√≠, estoy lejos de ser una persona creativa y llam√© al bot Jarvis <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/l4/ot/tj/l4ottjtc_lwqs6t9jpamdpmq3yc.jpeg" width="350"></div><br>  Estoy muy satisfecho con el bot y simplemente no hay necesidad de escribir software nativo para dispositivos m√≥viles <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/nx/ap/uk/nxapukjpdt8zilon-2ll2w2nqnq.jpeg" width="350"></div><br>  Alguna informaci√≥n de la unidad de monitoreo <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zm/ty/5i/zmty5i89jgwl7qnjqaczenusasq.jpeg" width="350"></div><br>  Haga preguntas, repito, si el tema es interesante, publicar√© en github todas las fuentes del proyecto, as√≠ como todos los circuitos, para que pueda ensamblar todo el KIT y cargar el firmware y trabajar√° con una explosi√≥n sin ning√∫n conocimiento especial de programaci√≥n y circuitos. <br><br>  PS.  Hay fallas en la placa de circuito (espacios demasiado peque√±os entre las rutas de alimentaci√≥n, los contactos, hay pistas divorciadas en √°ngulo recto).  Cambiar√© la tarifa, el beneficio de hacer uno nuevo es un centavo.  Gracias a todos los que se√±alaron estos errores. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es432538/">https://habr.com/ru/post/es432538/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es432518/index.html">Electr√≥n y el declive de las aplicaciones nativas.</a></li>
<li><a href="../es432520/index.html">C√≥mo cambiar la contrase√±a de administrador en Atlassian Jira y Confluence en la base de datos integrada (H2)</a></li>
<li><a href="../es432524/index.html">¬øPor qu√© nunca deber√≠as volver a usar Quora?</a></li>
<li><a href="../es432526/index.html">Evaluaci√≥n de nuevos proyectos.</a></li>
<li><a href="../es432536/index.html">Calidad del aire en la casa en invierno.</a></li>
<li><a href="../es432540/index.html">50 a√±os despues. La madre de todas las demos.</a></li>
<li><a href="../es432542/index.html">Cient√≠ficos chinos han desarrollado papel t√©rmico regrabable pr√°ctico</a></li>
<li><a href="../es432544/index.html">Matem√°ticas en Gamedev es simple. Matrices y transformaciones afines</a></li>
<li><a href="../es432546/index.html">El resumen de materiales interesantes para el desarrollador m√≥vil # 278 (del 3 al 9 de diciembre)</a></li>
<li><a href="../es432548/index.html">Un ejemplo de uso de una biblioteca Java para crear un bot de Telegram</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>