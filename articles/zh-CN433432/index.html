<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤°ğŸ½ ğŸ‘§ğŸ¾ ğŸ¤¶ğŸ» GraalVMå¯ä»¥åšçš„åä»¶äº‹ ğŸ‘©ğŸ¼â€ğŸ’» âšœï¸ ğŸ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="è¯‘è€…çš„è¯ï¼šGraalVMæ˜¯ä¸€é¡¹æœ‰è¶£çš„æ–°æŠ€æœ¯ï¼Œä½†æ˜¯åœ¨HabrÃ©ä¸Šï¼Œæ²¡æœ‰å¤šå°‘æ–‡ç« å¯ä»¥å±•ç¤ºGraalåŠŸèƒ½çš„ç¤ºä¾‹ã€‚ ä¸‹é¢çš„æ–‡ç« ä¸ä»…åˆ—å‡ºäº†GraalVMçš„åŠŸèƒ½ï¼Œè€Œä¸”è¿˜ç±»ä¼¼äºChris Seatonå’ŒOleg Shelaevåœ¨Oracle CodeOne 2018ä¸Šè¿›è¡Œçš„å°å‹å¤§å¸ˆç­ã€‚åœ¨ä½œè€…ä¹‹åï¼Œæˆ‘æ•¦ä¿ƒæ‚¨å°è¯•ä»æœ¬...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>GraalVMå¯ä»¥åšçš„åä»¶äº‹</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/haulmont/blog/433432/"><p><img src="https://habrastorage.org/webt/7z/5d/ap/7z5dap05rvptsue50u6ajtsxsmw.png"><br>  <em>è¯‘è€…çš„è¯ï¼šGraalVMæ˜¯ä¸€é¡¹æœ‰è¶£çš„æ–°æŠ€æœ¯ï¼Œä½†æ˜¯åœ¨HabrÃ©ä¸Šï¼Œæ²¡æœ‰å¤šå°‘æ–‡ç« å¯ä»¥å±•ç¤ºGraalåŠŸèƒ½çš„ç¤ºä¾‹ã€‚</em>  <em>ä¸‹é¢çš„æ–‡ç« ä¸ä»…åˆ—å‡ºäº†GraalVMçš„åŠŸèƒ½ï¼Œè€Œä¸”è¿˜ç±»ä¼¼äºChris Seatonå’ŒOleg Shelaevåœ¨Oracle CodeOne 2018ä¸Šè¿›è¡Œçš„å°å‹å¤§å¸ˆç­ã€‚åœ¨ä½œè€…ä¹‹åï¼Œæˆ‘æ•¦ä¿ƒæ‚¨å°è¯•ä»æœ¬æ–‡ä¸­ä¸¾ä¾‹è¯´æ˜ï¼Œæœ‰è¶£ã€‚</em> </p><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GraalVMä¸­æœ‰</a>å¾ˆå¤šä¸åŒçš„äº‹æƒ…ï¼Œå¦‚æœæ‚¨ä»¥å‰å¬è¿‡è¿™ä¸ªåå­—ï¼Œç”šè‡³çœ‹åˆ°è¿‡æŠ¥å‘Šï¼Œæ‚¨å¯èƒ½ä»ç„¶ä¸çŸ¥é“å¾ˆå¤šäº‹æƒ…ï¼Œä½†æ˜¯GraalVMå¯ä»¥åšä»€ä¹ˆã€‚ åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»GraalVMæä¾›çš„å„ç§åŠŸèƒ½ï¼Œå¹¶å±•ç¤ºæ‚¨å¯ä»¥ä½¿ç”¨å®ƒä»¬åšä»€ä¹ˆã€‚ </p><br><ol><li>  Javaå¿«é€Ÿæ‰§è¡Œ </li><li> å‡å°‘Javaçš„å¯åŠ¨æ—¶é—´å’Œå†…å­˜ä½¿ç”¨é‡ </li><li> ç»“åˆJavaScriptï¼ŒJavaï¼ŒRubyå’ŒR </li><li> æ‰§è¡Œä»¥å¹³å°ç‰¹å®šè¯­è¨€ç¼–å†™çš„ç¨‹åº </li><li> æ‰€æœ‰ç¼–ç¨‹è¯­è¨€çš„é€šç”¨å·¥å…· </li><li>  JVMåº”ç”¨ç¨‹åºè¡¥å…… </li><li> å¹³å°ç›¸å…³çš„åº”ç”¨ </li><li>  Javaä»£ç ä½œä¸ºç‰¹å®šäºå¹³å°çš„åº“ </li><li> æ”¯æŒæ•°æ®åº“ä¸­çš„å¤šç§ç¼–ç¨‹è¯­è¨€ </li><li> ä¸ºGraalVMåˆ›å»ºç¼–ç¨‹è¯­è¨€ </li></ol><a name="habracut"></a><br><p> æ‚¨å¯ä»¥ä½¿ç”¨GraalVM 1.0.0 RC1å®Œæˆæœ¬æ–‡ä¸­æ˜¾ç¤ºçš„æ‰€æœ‰æ“ä½œï¼Œå¯é€šè¿‡<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GraalVMç½‘ç«™</a>ä¸Šçš„é“¾æ¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è·å¾—è¯¥åŠŸèƒ½</a> ã€‚ æˆ‘ä½¿ç”¨äº†MacOS Enterprise Editionï¼Œä½†æ­¤å¤„ç¼–å†™çš„ä»£ç å°†åœ¨Linuxå’ŒGraalVM Community Editionä¸Šè¿è¡Œã€‚ </p><br><p> é˜…è¯»æœ¬æ–‡æ—¶ï¼Œè¯·è¿è¡Œå…¶ä¸­æè¿°çš„ç¨‹åºï¼ å¯ä»¥ä»<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GitHub</a>ä¸‹è½½ä»£ç ã€‚ </p><br><h2 id="ustanovka"> å®‰è£…æ–¹å¼ </h2><br><p>ä»<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">http://graalvm.org/downloads</a>ä¸‹è½½å<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ï¼Œ</a>æˆ‘åœ¨<code>$PATH</code>æ·»åŠ äº†GraalVMå¯æ‰§è¡Œæ–‡ä»¶çš„<code>$PATH</code> ã€‚ é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™å¢åŠ äº†å¯¹Javaå’ŒJavaScriptæ‰§è¡Œçš„æ”¯æŒã€‚ </p><br><pre> <code class="plaintext hljs">$ git clone https://github.com/chrisseaton/graalvm-ten-things.git $ cd foo $ tar -zxf graalvm-ee-1.0.0-rc1-macos-amd64.tar.gz # or graalvm-ee-1.0.0-rc1-linux-amd64.tar.gz on Linux $ export PATH=graalvm-1.0.0-rc1/Contents/Home/bin:$PATH # or PATH=graalvm-1.0.0-rc1/bin:$PATH on Linux</code> </pre> <br><p>  GraalVMå¸¦æœ‰å†…ç½®çš„JavaScriptæ”¯æŒï¼Œå¹¶åŒ…å«ä¸€ä¸ªåä¸º<code>gu</code>çš„è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œè¯¥è½¯ä»¶åŒ…ç®¡ç†å™¨å¢åŠ äº†å®‰è£…å¯¹Javaå’ŒJavaScriptä»¥å¤–çš„è¯­è¨€çš„æ”¯æŒçš„åŠŸèƒ½ã€‚ æˆ‘è¿˜å®‰è£…äº†Rubyï¼ŒPythonå’ŒRï¼Œå®ƒä»¬æ˜¯ä»GitHubä¸‹è½½çš„ã€‚ </p><br><pre> <code class="plaintext hljs">$ gu install -c org.graalvm.ruby $ gu install -c org.graalvm.python $ gu install -c org.graalvm.R</code> </pre> <br><p> ç°åœ¨ï¼Œå¦‚æœæ‰§è¡Œ<code>java</code>æˆ–<code>js</code>å‘½ä»¤ï¼Œæ‚¨å°†çœ‹åˆ°è¿™äº›å¼•æ“çš„GraalVMç‰ˆæœ¬ã€‚ </p><br><pre> <code class="plaintext hljs">$ java -version java version "1.8.0_161" Java(TM) SE Runtime Environment (build 1.8.0_161-b12) GraalVM 1.0.0-rc1 (build 25.71-b01-internal-jvmci-0.42, mixed mode) $ js --version Graal JavaScript 1.0 (GraalVM 1.0.0-rc1)</code> </pre> <br><h2 id="1-bystroe-vypolnenie-java">  1.å¿«é€Ÿæ‰§è¡ŒJava </h2><br><p>  GraalVMä¸­çš„â€œ Graalâ€æ˜¯ç¼–è¯‘å™¨çš„åç§°ã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä»–ä¸€ä¸ªäººè¢«åˆ›é€ æ¥ç»Ÿæ²»ä¸€åˆ‡</a> ï¼ è¿™æ„å‘³ç€è¿™æ˜¯ä¸€ä¸ªä»¥åº“çš„å½¢å¼ç¼–å†™çš„ç¼–è¯‘å™¨å®ç°ï¼Œå¯ä»¥ç”¨äºè®¸å¤šä¸åŒçš„äº‹æƒ…ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬ä½¿ç”¨Graal <em>æå‰</em>ç¼–è¯‘å’Œ<em>åŠæ—¶</em>ç¼–è¯‘ï¼Œä»¥ç¼–è¯‘ç”¨ä¸åŒç¼–ç¨‹è¯­è¨€ï¼ˆåŒ…æ‹¬ç”¨äºä¸åŒå¤„ç†å™¨ä½“ç³»ç»“æ„ï¼‰ç¼–å†™çš„ä»£ç ã€‚ </p><br><p> ä½¿ç”¨Graalçš„ç¬¬ä¸€ç§ä¹Ÿæ˜¯æœ€ç®€å•çš„æ–¹æ³•æ˜¯å°†å…¶ç”¨ä½œJava JITç¼–è¯‘å™¨ã€‚ </p><br><p> ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªç¨‹åºï¼Œè¯¥ç¨‹åºåœ¨æ–‡æ¡£ä¸­äº§ç”Ÿ10ä¸ªæœ€å¸¸è§çš„å•è¯ã€‚ è¯¥ç¨‹åºä½¿ç”¨äº†ç°ä»£Javaè¯­è¨€çš„åŠŸèƒ½ï¼Œä¾‹å¦‚æµå’Œé›†åˆã€‚ </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.IOException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.nio.file.Files; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.nio.file.Paths; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.Arrays; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.function.Function; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.stream.Collectors; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.stream.Stream; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TopTen</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ Arrays.stream(args) .flatMap(TopTen::fileLines) .flatMap(line -&gt; Arrays.stream(line.split(<span class="hljs-string"><span class="hljs-string">"\\b"</span></span>))) .map(word -&gt; word.replaceAll(<span class="hljs-string"><span class="hljs-string">"[^a-zA-Z]"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>)) .filter(word -&gt; word.length() &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) .map(word -&gt; word.toLowerCase()) .collect(Collectors.groupingBy(Function.identity(), Collectors.counting())) .entrySet().stream() .sorted((a, b) -&gt; -a.getValue().compareTo(b.getValue())) .limit(<span class="hljs-number"><span class="hljs-number">10</span></span>) .forEach(e -&gt; System.out.format(<span class="hljs-string"><span class="hljs-string">"%s = %d%n"</span></span>, e.getKey(), e.getValue())); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Stream&lt;String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fileLines</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String path)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Files.lines(Paths.get(path)); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (IOException e) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RuntimeException(e); } } }</code> </pre> <br><p>  GraalVMåŒ…å«<code>javac</code>ç¼–è¯‘å™¨ï¼Œä½†æ˜¯æ­¤æ¼”ç¤ºæ— è®ºä½¿ç”¨å®ƒè¿˜æ˜¯ä½¿ç”¨æ ‡å‡†ç¼–è¯‘å™¨éƒ½æ²¡æœ‰åŒºåˆ«ã€‚ å› æ­¤ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦ä½¿ç”¨æ ‡å‡†çš„<code>javac</code>ç¼–è¯‘å™¨ã€‚ </p><br><pre> <code class="plaintext hljs">$ javac TopTen.java</code> </pre> <br><p> å¦‚æœæˆ‘ä»¬è¿è¡ŒGraalVMä¸­åŒ…å«çš„<code>java</code>å‘½ä»¤ï¼Œé‚£ä¹ˆGrait JITç¼–è¯‘å™¨å°†è‡ªåŠ¨ä½¿ç”¨-æ— éœ€å…¶ä»–æ­¥éª¤ã€‚ æˆ‘å°†ä½¿ç”¨<code>time</code>å‘½ä»¤æ¥è·å–æœ‰å…³ä»å¤´åˆ°å°¾æ‰§è¡Œç¨‹åºæ‰€èŠ±è´¹æ—¶é—´çš„çœŸå®æ•°æ®ï¼Œè€Œä¸æ˜¯éƒ¨ç½²å¤æ‚çš„å¾®åŸºå‡†æµ‹è¯•ã€‚ ä¹Ÿå°†ä½¿ç”¨å¤§é‡è¾“å…¥ï¼Œå› æ­¤ä¸ä¼šåœ¨è¿™é‡Œæˆ–é‚£é‡Œæš—ç¤ºæ‰€èŠ‚çœçš„å‡ ç§’é’Ÿã€‚  <code>large.txt</code>æ–‡ä»¶çš„å¤§å°ä¸º150 MBã€‚ </p><br><pre> <code class="plaintext hljs">$ make large.txt $ time java TopTen large.txt sed = 502701 ut = 392657 in = 377651 et = 352641 id = 317627 eu = 317627 eget = 302621 vel = 300120 a = 287615 sit = 282613 real 0m17.367s user 0m32.355s sys 0m1.456s</code> </pre> <br><p> åƒå¤§å¤šæ•°å…¶ä»–Javaçš„JITç¼–è¯‘å™¨ä¸€æ ·ï¼ŒGraalç”¨Javaè€Œä¸æ˜¯C ++ç¼–å†™ã€‚ æˆ‘ä»¬è®¤ä¸ºï¼Œè¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ¯”ç°æœ‰çš„ç¼–è¯‘å™¨æ›´å¿«åœ°å¯¹å…¶è¿›è¡Œæ”¹è¿›ï¼Œå¹¶æ·»åŠ äº†é’ˆå¯¹HotSpotçš„æ ‡å‡†JITç¼–è¯‘å™¨ä¸­ä¸æä¾›çš„æ–°çš„å¼ºå¤§ä¼˜åŒ–ï¼ˆä¾‹å¦‚ï¼Œéƒ¨åˆ†è½¬ä¹‰åˆ†æï¼‰ã€‚ <br> è¿™å¯ä»¥ä½¿æ‚¨çš„Javaç¨‹åºæ›´å¿«ã€‚ </p><br><p> ä¸ºäº†è¿›è¡Œæ¯”è¾ƒï¼Œè¦åœ¨æ²¡æœ‰Grait JITç¼–è¯‘å™¨çš„æƒ…å†µä¸‹è¿è¡Œç¨‹åºï¼Œæˆ‘å°†ä½¿ç”¨<code>-XX:-UseJVMCICompiler</code> ã€‚  JVMCIæ˜¯Graalå’ŒJVMä¹‹é—´çš„æ¥å£ã€‚ æ‚¨è¿˜å¯ä»¥åœ¨æ ‡å‡†JVMä¸Šè¿è¡Œè¯¥ç¤ºä¾‹å¹¶æ¯”è¾ƒç»“æœã€‚ </p><br><pre> <code class="plaintext hljs">$ time java -XX:-UseJVMCICompiler TopTen large.txt sed = 502701 ut = 392657 in = 377651 et = 352641 id = 317627 eu = 317627 eget = 302621 vel = 300120 a = 287615 sit = 282613 real 0m23.511s user 0m24.293s sys 0m0.579s</code> </pre> <br><p> è¯¥æµ‹è¯•è¡¨æ˜ï¼ŒGraalä½¿ç”¨æ ‡å‡†çš„HotSpotç¼–è¯‘å™¨è¿è¡ŒJavaç¨‹åºçš„æ—¶é—´å¤§çº¦ä¸ºå››åˆ†ä¹‹ä¸‰ã€‚ æˆ‘ä»¬è®¤ä¸ºä»¥ç™¾åˆ†æ¯”ä¸ºå•ä½æé«˜ç”Ÿäº§åŠ›æ˜¯ä¸€é¡¹é‡å¤§æˆå°±ï¼Œè€Œ25ï¼…çš„æ„ä¹‰é‡å¤§ã€‚ </p><br><p>  Twitteræ˜¯å½“ä»Šå”¯ä¸€ä¸€å®¶<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨â€œæˆ˜æ–—â€æœåŠ¡å™¨ä¸Šä½¿ç”¨Graalçš„</a>å…¬å¸ï¼Œå¹¶ä¸”ä»–ä»¬è¯´ï¼Œè¿™æ ·åšå¯¹èŠ‚çœèµ„é‡‘æ˜¯æœ‰é“ç†çš„ã€‚  Twitterä½¿ç”¨Graalæ‰§è¡Œç”¨Scalaç¼–å†™çš„åº”ç”¨ç¨‹åº-Graalåœ¨JVMå­—èŠ‚ç çº§åˆ«ä¸Šå·¥ä½œï¼Œå³ é€‚ç”¨äºä»»ä½•JVMè¯­è¨€ã€‚ </p><br><p> è¿™æ˜¯GraalVMçš„ç¬¬ä¸€ä¸ªç”¨ä¾‹-åªéœ€ç”¨ç°æœ‰Javaåº”ç”¨ç¨‹åºçš„æ›´å¥½ç‰ˆæœ¬æ›¿æ¢JITç¼–è¯‘å™¨ã€‚ </p><br><h2 id="2-umenshenie-vremeni-starta-i-potrebleniya-pamyati-dlya-java">  2.å‡å°‘Javaçš„å¯åŠ¨æ—¶é—´å’Œå†…å­˜ä½¿ç”¨é‡ </h2><br><p> å½“ä½¿ç”¨é•¿æ—¶é—´è¿è¡Œçš„è¿›ç¨‹å’Œå³°å€¼è´Ÿè½½æ—¶ï¼ŒJavaå¹³å°çš„ä¼˜åŠ¿å°¤å…¶æ˜æ˜¾ã€‚ ç›¸æ¯”ä¹‹ä¸‹ï¼Œå¯¿å‘½çŸ­çš„è¿›ç¨‹åˆ™éœ€è¦è¾ƒé•¿çš„å¯åŠ¨æ—¶é—´å’Œç›¸å¯¹è¾ƒé«˜çš„å†…å­˜ä½¿ç”¨é‡ã€‚ </p><br><p> ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬è¿è¡Œä¸Šä¸€èŠ‚ä¸­çš„åº”ç”¨ç¨‹åºï¼Œå‘å®ƒæä¾›å°‘é‡çš„è¾“å…¥æ•°æ®-å¤§çº¦1Kbè€Œä¸æ˜¯150MBï¼Œé‚£ä¹ˆä¸ºäº†å¤„ç†è¿™ä¹ˆå°çš„æ–‡ä»¶ï¼Œä¼¼ä¹å°†èŠ±è´¹ä¸åˆç†çš„æ—¶é—´å’Œå¤§é‡çš„å†…å­˜-å¤§çº¦60MBã€‚ ã€‚ é™¤äº†æ‰§è¡Œæ—¶é—´ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜ä½¿ç”¨<code>-l</code>é€‰é¡¹æ¥æ‰“å°å·²ä½¿ç”¨çš„å†…å­˜é‡ã€‚ </p><br><pre> <code class="plaintext hljs">$ make small.txt $ /usr/bin/time -l java TopTen small.txt # -v on Linux instead of -l sed = 6 sit = 6 amet = 6 mauris = 3 volutpat = 3 vitae = 3 dolor = 3 libero = 3 tempor = 2 suscipit = 2 0.32 real 0.49 user 0.05 sys 59846656 maximum resident set size</code> </pre> <br><p>  GraalVMä¸ºæˆ‘ä»¬æä¾›äº†è§£å†³æ­¤é—®é¢˜çš„å·¥å…·ã€‚ æˆ‘ä»¬è¯´è¿‡Graalæ˜¯ä¸€ä¸ªç¼–è¯‘å™¨åº“ï¼Œå¯ä»¥ç”¨è®¸å¤šä¸åŒçš„æ–¹å¼ä½¿ç”¨ã€‚ å…¶ä¸­ä¹‹ä¸€æ˜¯<em>æå‰</em>ç¼–è¯‘ä¸º<em>ä¾èµ–</em>äºå¹³å°çš„å¯æ‰§è¡Œæ˜ åƒï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶å³æ—¶ç¼–è¯‘ã€‚ è¿™ç±»ä¼¼äºå¸¸è§„ç¼–è¯‘å™¨ï¼ˆä¾‹å¦‚<code>gcc</code> ã€‚ </p><br><pre> <code class="plaintext hljs">$ native-image --no-server TopTen classlist: 1,513.82 ms (cap): 2,333.95 ms setup: 3,584.09 ms (typeflow): 4,642.13 ms (objects): 3,073.58 ms (features): 156.34 ms analysis: 8,059.94 ms universe: 353.02 ms (parse): 1,277.02 ms (inline): 1,412.08 ms (compile): 10,337.76 ms compile: 13,776.23 ms image: 2,526.63 ms write: 1,525.03 ms [total]: 31,439.47 ms</code> </pre> <br><p> æ­¤å‘½ä»¤åˆ›å»ºä¸€ä¸ªå¹³å°<code>topten</code>ç§°ä¸º<code>topten</code> ã€‚ è¯¥æ–‡ä»¶ä¸ä¼šå¯åŠ¨JVMï¼Œå®ƒæ²¡æœ‰é“¾æ¥åˆ°JVMï¼Œå¹¶ä¸”å®ƒä¸ä»¥ä»»ä½•æ–¹å¼åŒ…æ‹¬JVMã€‚  <code>native-image</code>å‘½ä»¤å¯å°†æ‚¨çš„Javaä»£ç å’Œæ‚¨ä½¿ç”¨çš„Javaåº“çœŸæ­£ç¼–è¯‘ä¸ºå®Œæ•´çš„æœºå™¨ä»£ç ã€‚ å¯¹äºè¿è¡Œæ—¶ç»„ä»¶ï¼ˆä¾‹å¦‚åƒåœ¾æ”¶é›†å™¨ï¼‰ï¼Œæˆ‘ä»¬å¯åŠ¨äº†è‡ªå·±çš„æ–°è™šæ‹Ÿæœºï¼Œç§°ä¸ºSubstrateVMï¼Œä¸Graalä¸€æ ·ï¼Œå®ƒä¹Ÿæ˜¯ç”¨Javaç¼–å†™çš„ã€‚ </p><br><p> å¦‚æœæŸ¥çœ‹<code>topten</code>ä½¿ç”¨çš„ä¾èµ–é¡¹ï¼Œæ‚¨å°†çœ‹åˆ°å®ƒä»¬åªæ˜¯æ ‡å‡†ç³»ç»Ÿåº“ã€‚ æˆ‘ä»¬åªèƒ½å°†è¿™ä¸€ä¸ªæ–‡ä»¶ä¼ è¾“åˆ°ä»æœªå®‰è£…è¿‡JVMçš„ç³»ç»Ÿä¸­ï¼Œç„¶ååœ¨è¯¥ç³»ç»Ÿä¸­è¿è¡Œè¯¥æ–‡ä»¶ä»¥ç¡®è®¤å®ƒä¸ä½¿ç”¨JVMæˆ–ä»»ä½•å…¶ä»–æ–‡ä»¶ã€‚  <code>Topten</code>ä¹Ÿéå¸¸å°-å¯æ‰§è¡Œä»£ç å ç”¨çš„<code>Topten</code>ä¸åˆ°6 MBã€‚ </p><br><pre> <code class="plaintext hljs">$ otool -L topten # ldd topten on Linux topten: .../CoreFoundation.framework ... .../libz.1.dylib ... .../libSystem.B.dylib ... $ du -h topten 5.7M topten</code> </pre> <br><p> å¦‚æœè¿è¡Œæ­¤å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å®ƒçš„å¯åŠ¨é€Ÿåº¦æ¯”åœ¨JVMä¸‹è¿è¡Œçš„åŒä¸€ç¨‹åºå¿«å¤§çº¦ä¸€ä¸ªæ•°é‡çº§ï¼Œå¹¶ä¸”ä½¿ç”¨çš„å†…å­˜å°‘å¤§çº¦ä¸€ä¸ªæ•°é‡çº§ã€‚ å‘å°„æ˜¯å¦‚æ­¤ä¹‹å¿«ï¼Œæ‚¨å‡ ä¹ä¸ä¼šæ³¨æ„åˆ°å®ƒèŠ±äº†å¤šé•¿æ—¶é—´ã€‚ å¦‚æœä½¿ç”¨å‘½ä»¤è¡Œï¼Œå½“æ‚¨åœ¨JVMä¸‹è¿è¡Œä¸€ä¸ªçŸ­æš‚çš„å°å‹ç¨‹åºæ—¶ï¼Œé€šå¸¸ä¸ä¼šå‡ºç°æš‚åœç°è±¡ </p><br><pre> <code class="plaintext hljs">$ /usr/bin/time -l ./topten small.txt sed = 6 sit = 6 amet = 6 mauris = 3 volutpat = 3 vitae = 3 dolor = 3 libero = 3 tempor = 2 suscipit = 2 0.02 real 0.00 user 0.00 sys 4702208 maximum resident set size</code> </pre> <br><p> æœ¬<code>native-image</code>å®ç”¨ç¨‹åºæœ‰ä¸€äº›<a href="">é™åˆ¶</a> ã€‚ å› æ­¤ï¼Œåœ¨ç¼–è¯‘æ—¶ï¼Œåº”è¯¥æä¾›æ‰€æœ‰ç±»ï¼Œå¹¶ä¸”åœ¨ä½¿ç”¨Reflection APIæ–¹é¢ä¹Ÿæœ‰ä¸€äº›é™åˆ¶ã€‚ ä½†æ˜¯ï¼Œä¸åŸºæœ¬ç¼–è¯‘ç›¸æ¯”ï¼Œè¿˜æœ‰å…¶ä»–ä¸€äº›ä¼˜ç‚¹ï¼Œä¾‹å¦‚åœ¨ç¼–è¯‘æ—¶æ‰§è¡Œé™æ€åˆå§‹åŒ–ç¨‹åºã€‚ å› æ­¤ï¼Œå‡å°‘äº†æ¯æ¬¡ä¸‹è½½åº”ç”¨ç¨‹åºæ—¶æ‰§è¡Œçš„å·¥ä½œé‡ã€‚ </p><br><p> è¿™æ˜¯GraalVMçš„ç¬¬äºŒä¸ªåº”ç”¨ç¨‹åº-ç°æœ‰Javaç¨‹åºçš„åˆ†å‘å’Œæ‰§è¡Œï¼Œå…·æœ‰å¿«é€Ÿå¯åŠ¨å’Œè¾ƒå°‘çš„å†…å­˜æ¶ˆè€—çš„åŠŸèƒ½ã€‚ æ­¤æ–¹æ³•ä¿®å¤äº†é…ç½®é—®é¢˜ï¼Œä¾‹å¦‚åœ¨è¿è¡Œæ—¶æ‰¾åˆ°æ­£ç¡®çš„jarï¼Œè¿˜å…è®¸æ‚¨åˆ›å»ºè¾ƒå°çš„dockeræ˜ åƒã€‚ </p><br><h2 id="3-kombinirovanie-javascript-java-ruby-i-r">  3.ç»“åˆJavaScriptï¼ŒJavaï¼ŒRubyå’ŒR </h2><br><p> ä¸Javaä¸€èµ·ï¼ŒGraalVMåŒ…æ‹¬JavaScriptï¼ŒRubyï¼ŒRå’ŒPythonå¼•æ“çš„æ–°å®ç°ã€‚ å®ƒä»¬æ˜¯ä½¿ç”¨ç§°ä¸º<em>Truffle</em>çš„æ–°æ¡†æ¶ç¼–å†™çš„ã€‚ è¯¥æ¡†æ¶ä½¿åˆ›å»ºç®€å•è€Œé«˜æ€§èƒ½çš„è¯­è¨€è§£é‡Šå™¨æˆä¸ºå¯èƒ½ã€‚ å½“æ‚¨ä½¿ç”¨Truffleç¼–å†™è¯­è¨€è§£é‡Šå™¨æ—¶ï¼Œå®ƒå°†è‡ªåŠ¨ä½¿ç”¨Graalä¸ºæ‚¨çš„è¯­è¨€æä¾›JITç¼–è¯‘ã€‚ å› æ­¤ï¼ŒGraalä¸ä»…æ˜¯Javaçš„JITç¼–è¯‘å™¨å’ŒAOTç¼–è¯‘å™¨ï¼Œè€Œä¸”è¿˜å¯ä»¥æ˜¯JavaScriptï¼ŒRubyï¼ŒRå’ŒPythonçš„JITç¼–è¯‘å™¨ã€‚ </p><br><p>  GraalVMä¸­å¯¹ç¬¬ä¸‰æ–¹è¯­è¨€çš„æ”¯æŒæ—¨åœ¨é€æ˜æ›¿ä»£ç°æœ‰å¼•æ“ï¼Œä»¥æ‰§è¡Œå„ç§è¯­è¨€ã€‚ ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºNode.jså®‰è£…â€œé¢œè‰²â€æ¨¡å—ï¼š </p><br><pre> <code class="plaintext hljs">$ npm install --global color ... + color@3.0.0 added 6 packages in 14.156s</code> </pre> <br><p> ç„¶åä½¿ç”¨è¯¥æ¨¡å—ç¼–å†™ä¸€ä¸ªç¨‹åºï¼Œå°†RGB HTMLé¢œè‰²è½¬æ¢ä¸ºHSLï¼š </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Color = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'color'</span></span>); process.argv.slice(<span class="hljs-number"><span class="hljs-number">2</span></span>).forEach(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">val</span></span></span><span class="hljs-function">) </span></span>{ print(Color(val).hsl().string()); });</code> </pre> <br><p> å¹¶ä»¥é€šå¸¸çš„æ–¹å¼è¿è¡Œå®ƒï¼š </p><br><pre> <code class="plaintext hljs">$ node color.js '#42aaf4' hsl(204.89999999999998, 89%, 60.8%)</code> </pre> <br><p>  GraalVMä¸­ä¸åŒè¯­è¨€çš„æ‰§è¡Œå¼•æ“å¯ä»¥ååŒå·¥ä½œ-æœ‰ä¸€ä¸ªAPIï¼Œä½¿æ‚¨å¯ä»¥åœ¨ç”¨å¦ä¸€ç§è¯­è¨€ç¼–å†™çš„ç¨‹åºä¸­ä»ä¸€ç§è¯­è¨€è¿è¡Œä»£ç ã€‚ è¿™æ ·ï¼Œæ‚¨å°±å¯ä»¥ç¼–å†™å¤šè¯­è¨€ç¨‹åº-ç”¨ä¸€ç§ä»¥ä¸Šçš„ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„ç¨‹åºã€‚ </p><br><p> å¦‚æœæ‚¨ä½¿ç”¨ä¸€ç§è¯­è¨€ç¼–å†™å¤§å¤šæ•°ç¨‹åºï¼Œä½†æ˜¯æƒ³ä½¿ç”¨ä»¥å¦ä¸€ç§ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„åº“ï¼Œåˆ™å¯èƒ½æœ‰å¿…è¦ã€‚ ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬éœ€è¦ç¼–å†™ä¸€ä¸ªåº”ç”¨ç¨‹åºæ¥å°†é¢œè‰²åç§°ä»CSSè½¬æ¢ä¸ºNode.jsä¸­çš„æ•°å­—è¡¨ç¤ºå½¢å¼ï¼Œä½†æ˜¯æˆ‘ä»¬æƒ³ä½¿ç”¨Rubyé¢œè‰²åº“è€Œä¸æ˜¯è‡ªå·±ç¼–å†™è½¬æ¢ã€‚ </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = express(); color_rgb = Polyglot.eval(<span class="hljs-string"><span class="hljs-string">'ruby'</span></span>, <span class="hljs-string"><span class="hljs-string">` require 'color' Color::RGB `</span></span>); app.get(<span class="hljs-string"><span class="hljs-string">'/css/:name'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">) </span></span>{ color = color_rgb.by_name(req.params.name).html() res.send(<span class="hljs-string"><span class="hljs-string">'&lt;h1 style="color: '</span></span> + color + <span class="hljs-string"><span class="hljs-string">'" &gt;'</span></span> + color + <span class="hljs-string"><span class="hljs-string">'&lt;/h1&gt;'</span></span>); }); app.listen(<span class="hljs-number"><span class="hljs-number">8080</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'serving at http://localhost:8080'</span></span>) });</code> </pre> <br><p> åœ¨è¿™æ®µä»£ç ä¸­ï¼Œæˆ‘ä»¬å†™é“æˆ‘ä»¬éœ€è¦å°†Rubyä»£ç ä½œä¸ºå­—ç¬¦ä¸²æ‰§è¡Œï¼Œä½†æ˜¯è¯·æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå¹¶æ²¡æœ‰åšå¤ªå¤šäº‹æƒ…-æˆ‘ä»¬åªæ˜¯è¿æ¥äº†åº“ï¼Œç„¶åè¿”å›äº†Rubyå¯¹è±¡ã€‚ åœ¨Rubyä¸­ï¼Œæˆ‘ä»¬å°†è¿™æ ·ä½¿ç”¨å®ƒï¼š <code>Color::RGB.by_name (name).html</code> ã€‚ å¦‚æœæ‚¨ç¨åæŸ¥çœ‹å¦‚ä½•åœ¨JavaScriptä¸­ä½¿ç”¨<code>color_rgb</code> ï¼Œæ‚¨å°†çœ‹åˆ°æˆ‘ä»¬å®é™…ä¸Šä»JavaScriptè°ƒç”¨äº†ç›¸åŒçš„æ–¹æ³•ï¼Œå°½ç®¡å®ƒä»¬æ˜¯Rubyå¯¹è±¡å’Œæ–¹æ³•ã€‚ ç„¶åå°†å®ƒä»¬ä½œä¸ºJavaScriptå­—ç¬¦ä¸²ä¼ é€’ï¼Œå¹¶å°†ç»“æœï¼ˆä¸€ä¸ªRubyå­—ç¬¦ä¸²ï¼‰ä¸ä¸€ä¸ªJavaScriptå­—ç¬¦ä¸²ç»„åˆåœ¨ä¸€èµ·ã€‚ </p><br><p> å®‰è£…ä¸¤ä¸ªä¾èµ–é¡¹-Rubyå’ŒJavaScriptã€‚ </p><br><pre> <code class="plaintext hljs">$ gem install color Fetching: color-1.8.gem (100%) Successfully installed color-1.8 1 gem installed $ npm install express + express@4.16.2 updated 1 package in 10.393s</code> </pre> <br><p> ç„¶åï¼Œæ‚¨éœ€è¦ä½¿ç”¨ä¸¤ä¸ªé™„åŠ é€‰é¡¹æ¥å¯åŠ¨<code>node</code> ï¼š-- <code>--polyglot</code> ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬éœ€è¦è®¿é—®å…¶ä»–è¯­è¨€å’Œ<code>--jvm</code> ï¼Œå› ä¸ºé»˜è®¤æƒ…å†µä¸‹ï¼Œ <code>node</code>çš„å¯æ‰§è¡Œæ˜ åƒä¸åŒ…å«JavaScriptä»¥å¤–çš„ä»»ä½•å†…å®¹ã€‚ </p><br><pre> <code class="plaintext hljs">$ node --polyglot --jvm color-server.js serving at http://localhost:8080</code> </pre> <br><p> ç„¶åï¼Œåƒå¾€å¸¸ä¸€æ ·ï¼Œåœ¨æµè§ˆå™¨ä¸­è½¬åˆ°URL <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">httpï¼š//æœ¬åœ°ä¸»æœºï¼š8080 / css / orange</a> ï¼ˆæˆ–å…¶ä»–é¢œè‰²ï¼‰ã€‚ <br><img src="https://habrastorage.org/webt/_h/uz/e2/_huze29ugzgpz8ecll22rpv6s1w.png"><br> è®©æˆ‘ä»¬å°è¯•åšä¸€ä¸ªæ›´ä¸¥è‚ƒçš„ä¾‹å­ï¼Œå®ƒä½¿ç”¨æ›´å¤šçš„è¯­è¨€å’Œæ¨¡å—ã€‚ </p><br><p>  JavaScriptä¸æ”¯æŒéå¸¸å¤§çš„æ•´æ•°ã€‚ æˆ‘å‘ç°äº†å‡ ä¸ªæ¨¡å—ï¼Œä¾‹å¦‚<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">big-integer</a> ï¼Œä½†æ˜¯å®ƒä»¬éƒ½æ•ˆç‡ä¸é«˜ï¼Œå› ä¸º å°†æ•°å­—çš„ç»„æˆéƒ¨åˆ†å­˜å‚¨ä¸ºJavaScriptæµ®ç‚¹æ•°ã€‚  Javaä¸­çš„<code>BigInteger</code>ç±»æ•ˆç‡æ›´é«˜ï¼Œè®©æˆ‘ä»¬ä½¿ç”¨å®ƒå¯¹å¤§æ•´æ•°è¿›è¡Œä¸€äº›ç®—æœ¯è¿ç®—ã€‚ </p><br><p>  JavaScriptä¹Ÿæ²¡æœ‰å†…ç½®çš„å›¾å½¢ç»˜åˆ¶æ”¯æŒï¼Œè€ŒRå¯ä»¥å‡ºè‰²åœ°ç»˜åˆ¶å›¾å½¢ã€‚ è®©æˆ‘ä»¬ä½¿ç”¨Rä¸­çš„<code>svg</code>æ¨¡å—åœ¨3Dç©ºé—´ä¸­ç»˜åˆ¶ä¸‰è§’å‡½æ•°çš„æ•£ç‚¹å›¾ã€‚ </p><br><p> åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬éƒ½å°†ä½¿ç”¨è¯¥APIæ”¯æŒGraalVMçš„å¤šç§è¯­è¨€ï¼ˆä»¥ä¸‹ç§°ä¸ºPolyglot APIï¼‰ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥ç®€å•åœ°å°†å…¶ä»–è¯­è¨€çš„ç¨‹åºæ‰§è¡Œç»“æœæ’å…¥JavaScriptã€‚ </p><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> express = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'express'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> app = express() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> BigInteger = Java.type(<span class="hljs-string"><span class="hljs-string">'java.math.BigInteger'</span></span>) app.get(<span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">req, res</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> text = <span class="hljs-string"><span class="hljs-string">'Hello World from Graal.js!&lt;br&gt; '</span></span> <span class="hljs-comment"><span class="hljs-comment">// Using Java standard library classes text += BigInteger.valueOf(10).pow(100) .add(BigInteger.valueOf(43)).toString() + '&lt;br&gt;' // Using R interoperability to create graphs text += Polyglot.eval('R', `svg(); require(lattice); x &lt;- 1:100 y &lt;- sin(x/10) z &lt;- cos(x^1.3/(runif(1)*5+10)) print(cloud(x~y*z, main="cloud plot")) grDevices:::svg.off() `); res.send(text) }) app.listen(3000, function () { console.log('Example app listening on port 3000!') })</span></span></code> </pre> <br><p> åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">httpï¼š// localhostï¼š3000 /</a>ä»¥æŸ¥çœ‹ç»“æœï¼š <br><img src="https://habrastorage.org/webt/1o/so/fj/1osofjuimjcfd7pv1qhcikonupo.png"><br> è¿™æ˜¯æˆ‘ä»¬ä½¿ç”¨GraalVMå¯ä»¥åšçš„ç¬¬ä¸‰ä»¶äº‹-è¿è¡Œä»¥å¤šç§è¯­è¨€ç¼–å†™çš„ç¨‹åºï¼Œå¹¶åœ¨ä¸€ä¸ªç¨‹åºä¸­ä¸€èµ·ä½¿ç”¨è¿™äº›è¯­è¨€çš„æ¨¡å—ã€‚ æˆ‘ä»¬å°†å…¶ä½œä¸ºç»Ÿä¸€è¿è¡Œæ—¶ç¯å¢ƒå’Œåº“çš„ä¸€ç§æ–¹å¼-æ‚¨å¯ä»¥ä½¿ç”¨è®¤ä¸ºæœ€é€‚åˆè§£å†³å½“å‰ä»»åŠ¡çš„ç¼–ç¨‹è¯­è¨€ä»¥åŠæ‰€éœ€çš„ä»»ä½•åº“ï¼Œè€Œæ— éœ€è€ƒè™‘ä½¿ç”¨å“ªç§ç¼–ç¨‹è¯­è¨€ã€‚ </p><br><h2 id="4-ispolnenie-programm-napisannyh-na-platformo-zavisimyh-yazykah">  4.ä»¥å¹³å°ç‰¹å®šè¯­è¨€ç¼–å†™çš„ç¨‹åºçš„æ‰§è¡Œ </h2><br><p>  GraalVMæ”¯æŒçš„å¦ä¸€ç§è¯­è¨€æ˜¯Cã€‚GraalVMå¯ä»¥æ‰§è¡ŒCä»£ç ï¼Œå°±åƒæ‰§è¡Œä»¥JavaScriptå’ŒRubyç¼–å†™çš„ç¨‹åºä¸€æ ·ã€‚ </p><br><p>  GraalVMå®é™…æ”¯æŒçš„æ˜¯æ‰§è¡ŒLLVMå®ç”¨ç¨‹åºæ‰€äº§ç”Ÿçš„ä»£ç ï¼Œå³ ä½ä»£ç ï¼Œè€Œä¸æ˜¯ç›´æ¥æ”¯æŒCã€‚è¿™æ„å‘³ç€æ‚¨å¯ä»¥ä½¿ç”¨ç°æœ‰çš„Cè¯­è¨€å·¥å…·ä»¥åŠå…¶ä»–æ”¯æŒLLVMçš„å·¥å…·ï¼Œä¾‹å¦‚C ++ï¼ŒFortranä»¥åŠå°†æ¥å¯èƒ½ä½¿ç”¨çš„æ›´å¤šè¯­è¨€ã€‚ ä¸ºäº†ç®€åŒ–æ¼”ç¤ºï¼Œæˆ‘è¿è¡Œäº†ä¸€ä¸ªç‰¹æ®Šç‰ˆæœ¬çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">gzip</a> ï¼Œè¯¥ç‰ˆæœ¬åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ç»„è£…ï¼ˆ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Stephen McCamant</a>æ”¯æŒè¯¥ç‰ˆæœ¬ï¼‰ã€‚ ä¸ºäº†ç®€å•èµ·è§ï¼Œè¿™åªæ˜¯<code>gzip</code>æºä»£ç å’Œ<code>autoconf</code>é…ç½®ç»„åˆåˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚ æˆ‘å¿…é¡»ä¿®è¡¥ä¸€äº›ä¸œè¥¿æ‰èƒ½ä½¿å…¶åœ¨macOSå’Œclangä¸Šè¿è¡Œï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰åšä»»ä½•ä¸“é—¨æ”¯æŒGraalVMçš„äº‹æƒ…ã€‚ </p><br><p> æˆ‘ä»¬ä½¿ç”¨æ ‡å‡†çš„<code>clang</code> ï¼ˆç”¨äºCçš„LLVMç¼–è¯‘å™¨ï¼‰ç¼–è¯‘gzipï¼Œå¹¶å¸Œæœ›å®ƒä½¿æˆ‘ä»¬æˆä¸ºLLVMä½ä»£ç ï¼Œè€Œä¸æ˜¯ç‰¹å®šäºå¹³å°çš„ç‰ˆæœ¬ï¼Œå› ä¸ºGraalVMä¸ä¼šå¯åŠ¨å®ƒã€‚ æˆ‘æ­£åœ¨ä½¿ç”¨<code>clang</code> 4.0.1ã€‚ </p><br><pre> <code class="plaintext hljs">$ clang -c -emit-llvm gzip.c</code> </pre> <br><p> ç„¶åç›´æ¥ä½¿ç”¨GraalVMçš„lliå‘½ä»¤ï¼ˆLLVMä½ä»£ç è§£é‡Šå™¨ï¼‰è¿è¡Œç»“æœã€‚ è®©æˆ‘ä»¬å°è¯•ä½¿ç”¨æˆ‘çš„gzipç³»ç»Ÿå­˜æ¡£ç¨‹åºå‹ç¼©æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨åœ¨GraalVMä¸‹è¿è¡Œçš„gzipè§£å‹ç¼©æ–‡ä»¶ã€‚ </p><br><pre> <code class="plaintext hljs">$ cat small.txt Lorem ipsum dolor sit amet... $ gzip small.txt $ lli gzip.bc -d small.txt.gz $ cat small.txt Lorem ipsum dolor sit amet...</code> </pre> <br><p>  GraalVMä¸­çš„Rubyå’ŒPythonå®ç°ä½¿ç”¨ç›¸åŒçš„æŠ€æœ¯æ¥è¿è¡Œç”¨Cè¯­è¨€ç¼–å†™çš„é’ˆå¯¹è¿™äº›è¯­è¨€çš„æ‰©å±•ã€‚ è¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨VMå†…è¿è¡Œè¿™äº›æ‰©å±•ï¼Œå³ä½¿æˆ‘ä»¬ä½¿ç”¨äº†ç‰¹å®šäºå¹³å°çš„æ‰©å±•æ¥å£ï¼Œä¹Ÿå¯ä»¥ä½¿æˆ‘ä»¬ä¿æŒè¾ƒé«˜çš„æ‰§è¡Œé€Ÿåº¦ã€‚ </p><br><p> è¿™æ˜¯ä½¿ç”¨GraalVMçš„ç¬¬å››ç§æ–¹æ³•-è¿è¡Œä»¥ç‰¹å®šäºå¹³å°çš„è¯­è¨€ï¼ˆä¾‹å¦‚Cæˆ–C ++ï¼‰ç¼–å†™çš„ç¨‹åºï¼Œä»¥åŠå¯åŠ¨å¯¹è¯¸å¦‚Pythonæˆ–Rubyä¹‹ç±»çš„è¯­è¨€çš„æ‰©å±•ï¼Œè¿™äº›æ‰©å±•æ— æ³•ä½¿è¿™äº›è¯­è¨€çš„JVMå®ç°æˆä¸ºå¯èƒ½ï¼Œä¾‹å¦‚JRubyã€‚ </p><br><h2 id="5-obschie-instrumenty-dlya-vseh-yazykov-programmirovaniya">  5.é€‚ç”¨äºæ‰€æœ‰ç¼–ç¨‹è¯­è¨€çš„é€šç”¨å·¥å…· </h2><br><p> å¦‚æœæ‚¨ä½¿ç”¨Javaç¼–ç¨‹ï¼Œåˆ™å¯èƒ½ä½¿ç”¨çš„æ˜¯éå¸¸é«˜è´¨é‡çš„å·¥å…·ï¼Œä¾‹å¦‚IDEï¼Œè°ƒè¯•å™¨å’Œåˆ†æå™¨ã€‚ å¹¶éæ‰€æœ‰è¯­è¨€éƒ½å…·æœ‰æ­¤å·¥å…·åŒ…ï¼Œä½†æ˜¯å¦‚æœæ‚¨ä½¿ç”¨GraalVMæ”¯æŒçš„è¯­è¨€ï¼Œåˆ™å¯ä»¥è·å¾—ä¸€ä¸ªå·¥å…·åŒ…ã€‚ </p><br><p> ä½¿ç”¨é€šç”¨æ¡†æ¶-Truffleå®ç°äº†å¯¹GraalVMä¸­æ‰€æœ‰è¯­è¨€ï¼ˆç›®å‰ä¸åŒ…æ‹¬Javaï¼‰çš„æ”¯æŒã€‚ è¿™æ ·ï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥ä¸€æ¬¡åˆ›å»ºè¯¥åŠŸèƒ½ï¼ˆä¾‹å¦‚è°ƒè¯•å™¨ï¼‰ï¼Œå¹¶å°†å…¶ç”¨äºæ‰€æœ‰è¯­è¨€ã€‚ </p><br><p> ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ç¼–å†™æœ€ç®€å•çš„ç¨‹åº<em>FizzBuâ€‹â€‹zz</em> ï¼Œå› ä¸ºå®ƒæ˜¯å¯è§†çš„ï¼ˆåœ¨å±å¹•ä¸Šæ‰“å°å‡ºä¸€äº›ä¸œè¥¿ï¼‰ï¼Œå¹¶ä¸”å…·æœ‰æ¸…æ™°çš„åˆ†æ”¯ï¼Œä»…åœ¨æŸäº›è¿­ä»£ä¸­ä½¿ç”¨ã€‚ å› æ­¤ï¼Œå¯¹æˆ‘ä»¬æ¥è¯´è®¾ç½®æ–­ç‚¹å°†æ›´åŠ å®¹æ˜“ã€‚ è®©æˆ‘ä»¬ä»JavaScriptå®ç°å¼€å§‹ã€‚ </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fizzbuzz</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((n % <span class="hljs-number"><span class="hljs-number">3</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) &amp;&amp; (n % <span class="hljs-number"><span class="hljs-number">5</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'FizzBuzz'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n % <span class="hljs-number"><span class="hljs-number">3</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Fizz'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (n % <span class="hljs-number"><span class="hljs-number">5</span></span> == <span class="hljs-number"><span class="hljs-number">0</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'Buzz'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> n; } } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> n = <span class="hljs-number"><span class="hljs-number">1</span></span>; n &lt;= <span class="hljs-number"><span class="hljs-number">20</span></span>; n++) { print(fizzbuzz(n)); }</code> </pre> <br><p> æˆ‘ä»¬ä½¿ç”¨GraalVMä¸‹çš„<code>js</code>å®ç”¨ç¨‹åºç…§å¸¸å¯åŠ¨ç¨‹åºã€‚ </p><br><pre> <code class="plaintext hljs">$ js fizzbuzz.js 1 2 Fizz 4 Buzz Fizz</code> </pre> <br><p> æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨<code>--inspect</code>æ ‡å¿—è¿è¡Œè¯¥ç¨‹åºã€‚ è¿™å°†ä¸ºæˆ‘ä»¬æä¾›ä¸€ä¸ªé“¾æ¥ï¼Œæ‚¨å¯ä»¥åœ¨Chromeä¸­æ‰“å¼€è¯¥é“¾æ¥å¹¶åœ¨è°ƒè¯•å™¨ä¸­åœæ­¢è¯¥ç¨‹åºã€‚ </p><br><pre> <code class="plaintext hljs">$ js --inspect fizzbuzz.js Debugger listening on port 9229. To start debugging, open the following URL in Chrome: chrome-devtools://devtools/bundled/inspector.html?ws=127.0.0.1:9229/6c478d4e-1350b196b409</code> </pre> <br><p> æ‚¨å¯ä»¥åœ¨<em>FizzBuâ€‹â€‹zz</em>ä»£ç ä¸­è®¾ç½®ä¸€ä¸ªæ–­ç‚¹ï¼Œç„¶åç»§ç»­æ‰§è¡Œã€‚ å½“ç¨‹åºä¸­æ–­æ‰§è¡Œæ—¶ï¼Œæˆ‘ä»¬å°†åœ¨è°ƒè¯•å™¨ä¸­çœ‹åˆ°å˜é‡<code>n</code>çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­æ‰§è¡Œç¨‹åºæˆ–ç ”ç©¶è°ƒè¯•å™¨æ¥å£ã€‚ <br><img src="https://habrastorage.org/webt/kn/nq/so/knnqsotzl0j-k8e4y83a1ziz97w.png"><br>  Chromeä¸­çš„è°ƒè¯•å™¨é€šå¸¸ç”¨äºJavaScriptï¼Œä½†JavaScriptä¸­çš„GraalVMä¸å…¶ä»–è¯­è¨€æ²¡æœ‰ä»€ä¹ˆä¸åŒã€‚  <code>--inspect</code>æ ‡å¿—ä¹Ÿå¯ç”¨ï¼Œå¹¶ä¸”å¯ä»¥åœ¨Pythonï¼ŒRubyå’ŒRå®ç°ä¸­ä½¿ç”¨ã€‚æˆ‘ä¸ä¼šå‘æ‚¨å±•ç¤ºæ¯ä¸ªç¨‹åºçš„æºä»£ç ï¼Œä½†æ˜¯å®ƒä»¬ä»¥ç›¸åŒçš„æ–¹å¼è¿è¡Œï¼Œå¹¶ä¸”æ‚¨åœ¨Chromeä¸­ä¸ºæ¯ä¸ªç¨‹åºéƒ½ä½¿ç”¨äº†ç›¸åŒçš„è°ƒè¯•å™¨ã€‚ </p><br><pre> <code class="plaintext hljs">$ graalpython --jvm --inspect fizzbuzz.py</code> </pre> <br><p><img src="https://habrastorage.org/webt/6t/fx/2m/6tfx2m4btthox9mxxkweqehwjgm.png"></p><br><pre> <code class="plaintext hljs">$ ruby --inspect fizzbuzz.rb</code> </pre> <br><p><img src="https://habrastorage.org/webt/2z/_z/ti/2z_ztia4yk9fqomzo_vxj9c7mb0.png"></p><br><pre> <code class="plaintext hljs">$ Rscript --inspect fizzbuzz.r</code> </pre> <br><p><img src="https://habrastorage.org/webt/rg/12/wn/rg12wnspfc176rtrz7uww4qymo0.png"><br> æ‚¨å¯èƒ½ä»Javaç†Ÿæ‚‰çš„å¦ä¸€ä¸ªå·¥å…·æ˜¯VisualVMã€‚ å®ƒæä¾›äº†ä¸€ä¸ªç”¨æˆ·ç•Œé¢ï¼Œé€šè¿‡è¯¥ç”¨æˆ·ç•Œé¢ï¼Œæ‚¨å¯ä»¥åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šæˆ–é€šè¿‡ç½‘ç»œåŠ å…¥æ­£åœ¨è¿è¡Œçš„JVMï¼Œä»¥æ£€æŸ¥ç¨‹åºæ‰§è¡Œçš„å„ä¸ªæ–¹é¢ï¼Œä¾‹å¦‚å†…å­˜ä½¿ç”¨æˆ–çº¿ç¨‹æ‰§è¡Œã€‚ </p><br><p>  GraalVMåŒ…æ‹¬VisualVMä½œä¸ºæ ‡å‡†çš„<code>jvisualvm</code>å®ç”¨ç¨‹åºã€‚ </p><br><pre> <code class="plaintext hljs">$ jvisualvm &amp;&gt; /dev/null &amp;</code> </pre> <br><p> å¦‚æœåœ¨<code>TopTen</code> Javaç¨‹åºè¿è¡Œæ—¶è¿è¡ŒVisualVMï¼Œåˆ™å¯ä»¥è§‚å¯Ÿå†…å­˜ä½¿ç”¨æƒ…å†µï¼Œä¾‹å¦‚ï¼Œå¯¹å†…å­˜å†…å®¹è¿›è¡Œå¿«ç…§ï¼Œå¹¶æŸ¥çœ‹æˆ‘ä»¬åœ¨å †ä¸Šä½¿ç”¨å†…å­˜çš„å¯¹è±¡ç±»å‹ã€‚ </p><br><pre> <code class="plaintext hljs">$ java TopTen large.txt</code> </pre> <br><p><img src="https://habrastorage.org/webt/gd/-5/ld/gd-5ldwlrn3y9szdaoqrmd_7res.png"><br> æˆ‘ç”¨Rubyç¼–å†™äº†æ­¤ç¨‹åºï¼Œä»¥ä¾¿åœ¨è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€äº›åƒåœ¾ã€‚ </p><br><pre> <code class="ruby hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'erb'</span></span> x = <span class="hljs-number"><span class="hljs-number">42</span></span> template = ERB.new &lt;&lt;-EOF The value of x <span class="hljs-symbol"><span class="hljs-symbol">is:</span></span> &lt;%= x %&gt; EOF loop <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> puts template.result(binding) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p> å¦‚æœæ‚¨åœ¨JVM-JRubyä¸Šè¿è¡Œæ ‡å‡†Rubyå®ç°ï¼Œæ‚¨å°†å¯¹VisualVMæ„Ÿåˆ°å¤±æœ›ï¼Œå› ä¸ºæ‚¨åªä¼šçœ‹åˆ°å†…éƒ¨Javaå¯¹è±¡ï¼Œè€Œä¸æ˜¯æ‚¨æ‰€ç”¨è¯­è¨€çš„å¯¹è±¡ã€‚ </p><br><p> å¦‚æœä½¿ç”¨Ruby for GraalVMç‰ˆæœ¬ï¼Œåˆ™VisualVMå¯ä»¥è¯†åˆ«Rubyå¯¹è±¡ã€‚ æˆ‘ä»¬éœ€è¦ä½¿ç”¨<code>--jvm</code>é€‰é¡¹æ¥ä½¿ç”¨VisualVMï¼Œå› ä¸º å®ƒä¸æ”¯æŒRubyçš„æœ¬æœºç‰ˆæœ¬ã€‚ </p><br><pre> <code class="plaintext hljs">$ ruby --jvm render.rb</code> </pre> <br><p> ,  ,       Java ,    , ,   Summary,   Ruby Heap       Ruby . <br><img src="https://habrastorage.org/webt/ge/d4/xc/ged4xcxp5ylkaxjxyxd5b8v3kyo.png"><br>  Truffle â€”  -  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Nexus</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  </a> .         Truffle      ,  ,   API Truffle'  ,         ,   Truffle,         . </p><br><p> ,   GraalVM â€”         ,       .   Truffle  GraalVM      ,       VisualVM. </p><br><h2 id="6-dopolnenie-jvm-prilozheniy"> 6.  JVM  </h2><br><p>   ,   ,   ,        Java .  API   <code>org.graalvm.polyglot</code>      ,         . </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.graalvm.polyglot.Context; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.graalvm.polyglot.Value; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ExtendJava</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ String language = <span class="hljs-string"><span class="hljs-string">"js"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> (Context context = Context.newBuilder().allowNativeAccess(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>).build()) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String arg: args) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (arg.startsWith(<span class="hljs-string"><span class="hljs-string">"-"</span></span>)) { language = arg.substring(<span class="hljs-number"><span class="hljs-number">1</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Value v = context.eval(language, arg); System.out.println(v); } } } } }</code> </pre> <br><p>    <code>javac</code>  <code>java</code>   GraalVM,   <code>org.graalvm.*</code>     <code>classpath</code> , ..          . </p><br><pre> <code class="plaintext hljs">$ javac ExtendJava.java $ java ExtendJava '14 + 2' 16 $ java ExtendJava -js 'Math.sqrt(14)' 3.7416573867739413 $ java ExtendJava -python '[2**n for n in range(0, 8)]' [1, 2, 4, 8, 16, 32, 64, 128] $ java ExtendJava -ruby '[4, 2, 3].sort' [2, 3, 4]</code> </pre> <br><p> ,        â€”     ,      <code>node</code>  <code>ruby</code> ,  GraalVM. </p><br><p>     GraalVM â€”             Java . Polyglot API     â€œâ€      Java ,       . </p><br><h2 id="7-dopolnenie-platformo-zavisimyh-prilozheniy"> 7.  -  </h2><br><p>  GraalVM    ,  ,    â€”  ,        ,  GraalVM,  - . ,  JavaScript ,  V8,  Python â€” CPython     , ..          . GraalVM           â€”      Polyglot . </p><br><p>    GraalVM,       ,         JavaScript.    Polyglot ,    ,  : </p><br><pre> <code class="plaintext hljs">$ graalvm-1.0.0-rc1/Contents/Home/jre/lib/svm/bin/rebuild-images libpolyglot</code> </pre> <br><p>     C,   ,    ,  GraalVM,     .       <code>ExtendJava</code>   ,    ,   . </p><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;stdlib.h&gt; #include &lt;stdio.h&gt; #include &lt;polyglot_api.h&gt; int main(int argc, char **argv) { graal_isolate_t *isolate = NULL; graal_isolatethread_t *thread = NULL; if (graal_create_isolate(NULL, &amp;isolate) != 0 || (thread = graal_current_thread(isolate)) == NULL) { fprintf(stderr, "initialization error\n"); return 1; } poly_context context = NULL; if (poly_create_context(thread, NULL, 0, &amp;context) != poly_ok) { fprintf(stderr, "initialization error\n"); return 1; } char* language = "js"; for (int n = 1; n &lt; argc; n++) { if (argv[n][0] == '-') { language = &amp;argv[n][1]; } else { poly_value result = NULL; if (poly_context_eval(thread, context, language, "unicalc", argv[n], &amp;result) != poly_ok) { fprintf(stderr, "eval error\n"); return 1; } char buffer[1024]; size_t length; if (poly_value_to_string_utf8(thread, result, buffer, sizeof(buffer), &amp;length) != poly_ok) { fprintf(stderr, "to string error\n"); return 1; } buffer[length] = '\0'; printf("%s\n", buffer); poly_destroy_handle(thread, result); } } return 0; }</span></span></span></span></code> </pre> </div></div><br><p>      ,       polyglot   GraalVM.  , ,    JVM. </p><br><pre> <code class="plaintext hljs">$ clang -Igraalvm-1.0.0-rc1/Contents/Home/jre/lib/polyglot / -rpath graalvm-1.0.0-rc1/Contents/Home / -Lgraalvm-1.0.0-rc1/Contents/Home/jre/lib/polyglot / -lpolyglot extendc.c -o extendc $ otool -L extendc extendc: .../libpolyglot.dylib ... .../libSystem.B.dylib ...</code> </pre> <br><pre> <code class="plaintext hljs">$ ./extendc '14 + 2' 16 $ ./extendc -js 'Math.sqrt(14)' 3.7416573867739413 $ ./extendc -python '[2**n for n in range(0, 8)]' [1, 2, 4, 8, 16, 32, 64, 128]</code> </pre> <br><p>   ,      GraalVM â€”  -    ,    ,  GraalVM. </p><br><h2 id="8-kod-na-java-kak-platformo-zavisimaya-biblioteka"> 8.   Java  -  </h2><br><p>  Java        , , ,    ,  - ,      .     Java   - ,     JVM   ,         . </p><br><p> GraalVM    Java ,   ,      - ,          .      ,    ,    Java    JVM. </p><br><p>   ,     Apache SIS    ,     ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> )     .   SIS 0.8,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">http://sis.apache.org/</a>     jar. </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.apache.sis.distance.DistanceUtils; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Distance</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> aLat = Double.parseDouble(args[<span class="hljs-number"><span class="hljs-number">0</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> aLong = Double.parseDouble(args[<span class="hljs-number"><span class="hljs-number">1</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> bLat = Double.parseDouble(args[<span class="hljs-number"><span class="hljs-number">2</span></span>]); <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">double</span></span> bLong = Double.parseDouble(args[<span class="hljs-number"><span class="hljs-number">3</span></span>]); System.out.printf(<span class="hljs-string"><span class="hljs-string">"%.2f km%n"</span></span>, DistanceUtils.getHaversineDistance(aLat, aLong, bLat, bLong)); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">distance</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IsolateThread thread, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> aLat, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> aLong, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> bLat, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> bLong)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DistanceUtils.getHaversineDistance(aLat, aLong, bLat, bLong); } }</code> </pre> <br><p>      ,       - </p><br><pre> <code class="plaintext hljs">$ javac -cp sis.jar -parameters Distance.java $ java -cp sis.jar:. Distance 51.507222 -0.1275 40.7127 -74.0059 5570.25 km</code> </pre> <br><p>       ,      <code>topten</code> . </p><br><pre> <code class="plaintext hljs">$ native-image --no-server -cp sis.jar:. Distance ... $ ./distance 51.507222 -0.1275 40.7127 -74.0059 5570.25 km</code> </pre> <br><p>      ,    .   ,        <code>@CEntryPoint</code> </p><br><pre> <code class="java hljs">... <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.graalvm.nativeimage.IsolateThread; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.graalvm.nativeimage.c.function.CEntryPoint; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Distance</span></span></span><span class="hljs-class"> </span></span>{ ... <span class="hljs-meta"><span class="hljs-meta">@CEntryPoint</span></span>(name = <span class="hljs-string"><span class="hljs-string">"distance"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">distance</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IsolateThread thread, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a_lat, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a_long, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b_lat, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">double</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b_long)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> DistanceUtils.getHaversineDistance(a_lat, a_long, b_lat, b_long); } ... }</code> </pre> <br><p>      <code>javac</code> ,   GraalVM    API  <code>classpath</code> . C         . </p><br><pre> <code class="plaintext hljs">$ native-image --no-server -cp sis.jar:. -H:Kind=SHARED_LIBRARY \ -H:Name=libdistance $ otool -L libdistance.dylib # .so on Linux libdistance.dylib: .../libdistance.dylib ... .../CoreFoundation.framework ... .../libz.1.dylib ... .../libSystem.B.dylib ... $ du -h libdistance.dylib 4.8M libdistance.dylib</code> </pre> <br><p>      ,     .     ,    :   VM   ,      ,           . </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;stdlib.h&gt; #include &lt;stdio.h&gt; #include &lt;libdistance.h&gt; int main(int argc, char **argv) { graal_isolate_t *isolate = NULL; graal_isolatethread_t *thread = NULL; if (graal_create_isolate(NULL, &amp;isolate) != 0 || (thread = graal_current_thread(isolate)) == NULL) { fprintf(stderr, "initialization error\n"); return 1; } double a_lat = strtod(argv[1], NULL); double a_long = strtod(argv[2], NULL); double b_lat = strtod(argv[3], NULL); double b_long = strtod(argv[4], NULL); printf("%.2f km\n", distance(thread, a_lat, a_long, b_lat, b_long)); return 0; }</span></span></span></span></code> </pre> <br><p>       ,       (  <code>LD_LIBRARY_PARTH=.</code>  Linux) </p><br><pre> <code class="plaintext hljs">$ clang -I. -L. -ldistance distance.c -o distance $ otool -L distance distance: .../libdistance.dylib ... .../libSystem.B.dylib ... $ ./distance 51.507222 -0.1275 40.7127 -74.0059 5570.25 km</code> </pre> <br><p>     GraalVM â€”   java  - ,         JVM </p><br><h2 id="9-podderzhka-neskolkih-yazykov-programmirovaniya-v-baze-dannyh"> 9.        </h2><br><p>     Polyglot  â€”     Oracle.      Oracle Database Multilingual Engine (MLE),         GraalVM   SQL. </p><br><p> ,    front-end,    JavaScript     email ,  JavaScript  <code>validator</code> .     -       ,      SQL  PL/SQL.         ,    . </p><br><p>  MLE  Docker  : </p><br><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">https://oracle.github.io/oracle-db-mle/releases/0.2.7/docker/</a> </p><br><p>     Docker Daemon. </p><br><pre> <code class="plaintext hljs">$ docker load --input mle-docker-0.2.7.tar.gz</code> </pre> <br><p>  ,  Docker,  ,    (    ),  Bash   . </p><br><pre> <code class="plaintext hljs">$ docker run mle-docker-0.2.7 $ docker ps $ docker exec -ti &lt;container_id&gt; bash -li</code> </pre> <br><p>    <code>sqlplus</code> ( SQL ),   Bash,     ,   ,     . </p><br><pre> <code class="plaintext hljs">$ sqlplus scott/tiger@localhost:1521/ORCLCDB</code> </pre> <br><p>    ,    <code>sqlplus</code> . ,   Bash  Docker,         <code>dbjs</code> ,       .   <code>sqlplus</code> . </p><br><pre> <code class="plaintext hljs">$ npm install validator $ npm install @types/validator $ dbjs deploy -u scott -p tiger -c localhost:1521/ORCLCDB validator $ sqlplus scott/tiger@localhost:1521/ORCLCDB</code> </pre> <br><p>         <code>validator</code>   SQL . </p><br><pre> <code class="plaintext hljs">SQL&gt; select validator.isEmail('hello.world@oracle.com') from dual; VALIDATOR.ISEMAIL('HELLO.WORLD@ORACLE.COM') ------------------------------------------- 1 SQL&gt; select validator.isEmail('hello.world') from dual; VALIDATOR.ISEMAIL('HELLO.WORLD') -------------------------------- 0</code> </pre> <br><p>    ,     GraalVM â€”  ,  GraalVM,   Oracle.  ,     front-end  back-end,    ,  ,           . </p><br><h2 id="10-sozdanie-yazykov-programmirovaniya-dlya-graalvm"> 10.     GraalVM </h2><br><p> Oracle Labs            JavaScript, R, Ruby, Python  C   ,      Truffle,       GraalVM. </p><br><p> Truffle â€”  java ,     <em>  </em> (AST).  AST â€” ,     ,                ,   , ,  .     ,    ,   Truffle  Graal   JIT  ,       AST . </p><br><p>    Truffle,    GraalVM    ,      ,  DSL.      Truffle  Graal   ,     ,  Truffle â€”         GraalVM.        , , , , . ,         ,        . Oracle labs    Ruby ,    ,         . </p><br><p>       ,     ,   ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SimpleLanguage</a> â€”         Truffle,       JavaScript.  ,  ,   , , , <a href="">   if</a> . </p><br><p>  ,    Truffle   Oracle Labs,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">SmallTalk</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Newspeak</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Lisp</a> .    Lisp  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> ,         . </p><br><h2 id="zaklyuchenie"> ç»“è®º </h2><br><p> GraalVM        â€”  ,         ,       .       ,  ,    ,      ,    . </p><br><p>   GraalVM,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">http://www.graalvm.org/</a> .          ,  ,      . </p><br><p>    ,              ,    .     ,     GraalVM         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">@ChrisGSeaton</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">@shelajev</a> . </p><br><p> <em>:</em> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Oleg Å elajev</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Olya Gupalo</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Doug Simon</a> </p><cut></cut></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN433432/">https://habr.com/ru/post/zh-CN433432/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN433414/index.html">æµ‹è¯•PRTGç½‘ç»œç›‘è§†å™¨å¹¶ä¸Zabbixè¿›è¡Œæ¯”è¾ƒ</a></li>
<li><a href="../zh-CN433420/index.html">ZeroNights 2018ç»“æœ</a></li>
<li><a href="../zh-CN433424/index.html">å¯ä»¥åœ¨Super Mario Makerä¸­åŠ è½½æ— æ³•é€¾è¶Šçš„å…³å¡å—ï¼Ÿ</a></li>
<li><a href="../zh-CN433428/index.html">åˆ›é€ åŠ›ä»ä½•è€Œæ¥ï¼šåœ¨RATæµ‹è¯•è¿‡ç¨‹ä¸­å¯¹å¤§è„‘Î±æ³¢æ´»åŠ¨çš„åˆ†æ</a></li>
<li><a href="../zh-CN433430/index.html">æ–°é²œçš„SoC Amlogic S905X2ä¸Šå…·æœ‰4 GB RAMå’ŒAndroid TV 8.1çš„Androidç›’å­Mecool KM9-äº†è§£å¹¶åŸè°…</a></li>
<li><a href="../zh-CN433434/index.html">â€œç»å¯¹ä¸éœ€è¦Pascalï¼Œå°¤å…¶æ˜¯Basicï¼Œâ€ï¼šå¯¹ä½“è‚²ç¼–ç¨‹åŸ¹è®­å¸ˆçš„é‡‡è®¿</a></li>
<li><a href="../zh-CN433436/index.html">ç»©æ•ˆç ”ç©¶ä»‹ç»</a></li>
<li><a href="../zh-CN433438/index.html">å›½å®¶æœé©¬å°†é™åˆ¶ä¼—ç­¹</a></li>
<li><a href="../zh-CN433442/index.html">å®ä½“æ¡†æ¶æ ¸å¿ƒ2.2å‘å¸ƒã€‚ æœ€æ–°æ¶ˆæ¯ ï¼ˆ3ä¹‹3ï¼‰</a></li>
<li><a href="../zh-CN433446/index.html">å®‰å…¨å‘¨51ï¼šWordPress 5.0å’ŒLogitechè½¯ä»¶ä¸­çš„é”™è¯¯ï¼ŒFacebookç…§ç‰‡æ¼æ´</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>