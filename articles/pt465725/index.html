<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶á üé´ üë©üèª‚Äçüî¨ Treinamento Cisco 200-125 CCNA v3.0. Dia 28. Estudo aprofundado do LCA üë©‚Äçüé§ üë©üèª‚Äçüé§ üì†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hoje, continuaremos o t√≥pico do tutorial em v√≠deo no 27¬∫ dia e faremos um estudo aprofundado das ACLs: falaremos um pouco sobre a m√°scara reversa da W...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Treinamento Cisco 200-125 CCNA v3.0. Dia 28. Estudo aprofundado do LCA</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/465725/"> Hoje, continuaremos o t√≥pico do tutorial em v√≠deo no 27¬∫ dia e faremos um estudo aprofundado das ACLs: falaremos um pouco sobre a m√°scara reversa da Wildcard Mask, lista estendida de ACL, configura√ß√£o de uma lista estendida de ACL e comandos que ajudam a diagnosticar problemas de design de rede. <br>  Na li√ß√£o anterior, introduzimos um novo conceito de m√°scara inversa para n√≥s, e agora vou falar sobre a m√°scara curinga com mais detalhes.  Se voc√™ se lembra, a m√°scara de sub-rede nos ajuda a dividir visualmente a rede na parte do endere√ßo da rede e na parte do endere√ßo do host. <br><br><img src="https://habrastorage.org/webt/m5/wk/bk/m5wkbkrukhvkbdo63ozgwgexmp4.jpeg"><br><br>  Se voc√™ for para o n√≠vel de bit, poder√° ver que a m√°scara de sub-rede consiste em uma s√©rie de unidades que denotam a parte da rede e uma s√©rie de zeros que indicam parte do host.  A m√°scara reversa √© muito semelhante √† m√°scara de sub-rede, somente na forma ‚Äúinvertida‚Äù - onde existem unidades na m√°scara de sub-rede, zeros est√£o na m√°scara de sub-rede e vice-versa.  Esta n√£o √© uma regra obrigat√≥ria - em alguns casos, a m√°scara inversa √© formada de acordo com um princ√≠pio diferente; ao aprender o CCNA, essa regra sempre se aplica. <a name="habracut"></a><br><br>  A melhor maneira de calcular a m√°scara inversa √© subtrair os octetos da m√°scara de sub-rede da m√°scara global, que sempre se parece com 255.255.255.255. <br>  Portanto, para calcular a m√°scara inversa da m√°scara de sub-rede 255.255.255.0, simplesmente a subtra√≠mos da m√°scara global e obtemos 0.0.0.255. <br><br><img src="https://habrastorage.org/webt/ey/ax/lm/eyaxlm4ogzres7rzcbjei01qztq.jpeg"><br><br>  Neste exemplo, vimos a rede 192.168.100.255/24 e agora vamos ver a rede / 26.  Se voc√™ tiver / 26, o √∫ltimo octeto da m√°scara de sub-rede ser√° 192. <br><br><img src="https://habrastorage.org/webt/nk/y6/3t/nky63tumrtn6s9nebzyomv17vx8.jpeg"><br><br>  Se voc√™ observar a forma de bit desses endere√ßos IP, ver√° que a m√°scara de sub-rede cont√©m 26 bits √∫nicos e 6 bits zero. <br><br><img src="https://habrastorage.org/webt/6q/-f/nm/6q-fnmpouw_-2_h3gpwjmkcctw4.jpeg"><br><br>  Nesse caso, a m√°scara reversa deve consistir em 26 zeros e 6 unidades.  Como j√° dissemos, os locais onde 0 est√° localizado mostram os par√¢metros de endere√ßo correspondentes e os locais onde as unidades est√£o localizadas, voc√™ pode ignorar. <br><br><img src="https://habrastorage.org/webt/do/uf/i_/doufi_9ublvappivmz-b_esvlz8.jpeg"><br><br>  Para tornar mais claro, escreverei o endere√ßo IP na forma decimal na parte superior.  O √∫ltimo octeto da m√°scara inversa corresponde ao n√∫mero 63, e eu posso exibi-lo como 0.0.0.63.  Simplificando, / 26 significa que os 26 zeros ou os 3 primeiros octetos do endere√ßo IP s√£o iguais e os √∫ltimos 6 bits podem ser qualquer coisa - zeros ou uns. <br><br><img src="https://habrastorage.org/webt/_v/hs/hq/_vhshqkthswmlyzxq_t748itbuo.jpeg"><br><br>  Veja - se substituirmos esses √∫ltimos 6 bits do endere√ßo IP por zeros, obteremos o n√∫mero 192 e, se conseguirmos o n√∫mero 255. Portanto, a m√°scara reversa mostra que a sub-rede com endere√ßos IP cujo √∫ltimo octeto est√° no intervalo de 192 a 255 , ou seja, parte da rede 192.168.100.225/26, est√° sujeita √† condi√ß√£o ACL especificada. <br><br>  Voc√™ pode perguntar por que duas m√°scaras s√£o necess√°rias: uma m√°scara de sub-rede e uma m√°scara curinga.  Eu mesmo fiz essa pergunta quando era estudante, e ainda muitas pessoas, mesmo trabalhando na Cisco, fazem essa pergunta.  Vou tentar responder.  Em geral, a m√°scara de sub-rede e a m√°scara reversa mostram a mesma coisa quando se trata da sub-rede, ou seja, parte do endere√ßo IP que indica a rede.  Quando identificamos toda a rede, a m√°scara inversa √© simplesmente uma vers√£o "invertida" da m√°scara direta. <br><br>  No entanto, a identifica√ß√£o do host √© diferente.  Se voc√™ deseja identificar toda a sub-rede com todos os endere√ßos inclu√≠dos nela, pode usar a m√°scara de sub-rede.  Mas se voc√™ precisar identificar apenas alguns hosts desta rede para aplicar seletivamente regras de ACL a eles, precisar√° de uma m√°scara reversa. <br><br>  Voc√™ nunca ver√° uma m√°scara de sub-rede que consiste em zeros e zeros alternados - ela sempre possui unidades primeiro e zeros no final.  O curinga √©, portanto, chamado de "curinga" porque pode consistir em qualquer sequ√™ncia de zeros e uns.  Para deixar mais claro, vamos resolver o problema: "identifique hosts em uma determinada rede que tenham n√∫meros pares no quarto octeto". <br><br><img src="https://habrastorage.org/webt/gv/_-/4t/gv_-4tr9a7figizqkv4poigrxze.jpeg"><br><br>  Isso √© necess√°rio para criar uma regra ACL desse tipo: permitir 192.168.100.0 &lt;m√°scara reversa&gt;, ou seja, o tr√°fego ser√° permitido para os endere√ßos IP desta sub-rede com apenas quatro quartos octetos.  Isso pode ser feito usando uma m√°scara de sub-rede?  Acho que n√£o, porque o quarto octeto de uma m√°scara de sub-rede comum pode conter apenas um n√∫mero espec√≠fico.  Vamos olhar para uma m√°scara inversa de 4 octetos. <br><br><img src="https://habrastorage.org/webt/fo/k_/mr/fok_mrujs7lq66x80sm4co4utlq.jpeg"><br><br>  No √∫ltimo octeto da m√°scara inversa, voc√™ pode colocar os seguintes bits: 11111110. Vou explicar o que √©.  Se o quarto octeto contiver n√∫meros pares, o √∫ltimo bit do octeto ser√° necessariamente 0 e, se o √∫ltimo bit for 1, o n√∫mero ser√° √≠mpar.  Se estamos falando sobre a sub-rede / 24, somente o √∫ltimo octeto nela pode conter um n√∫mero par. <br><br>  No caso da m√°scara reversa, os tr√™s primeiros octetos s√£o 0 e os primeiros sete bits do quarto octeto n√£o nos incomodam, o principal √© que o oitavo bit do octeto √© zero, porque deve coincidir com o √∫ltimo octeto do endere√ßo IP da rede, que √© 0. <br><br>  Se o √∫ltimo bit do endere√ßo IP for 1, esse endere√ßo ser√° negado, agora adicionarei a condi√ß√£o √† nossa ACL - Negar qualquer.  Portanto, somente se o √∫ltimo octeto de qualquer endere√ßo IP de nossa sub-rede terminar com 0, ou seja, ser√° uniforme, cumpriremos a condi√ß√£o de correspond√™ncia com a m√°scara reversa, que tamb√©m termina com 0, e a condi√ß√£o da ACL "permitir todos os endere√ßos com um quarto octeto uniforme" ficar√° satisfeito.  Caso contr√°rio, ou seja, para todos os endere√ßos IP √≠mpares, a nega√ß√£o de qualquer condi√ß√£o ser√° aplicada. <br><br>  Portanto, n√£o nos importamos com o valor exato de um octeto uniforme - 2,4,6, 8 e assim por diante, o principal √© que ele ter√° um bit zero no final.  Se us√°ssemos uma m√°scara de sub-rede comum, precisar√≠amos criar uma entrada separada para cada endere√ßo IP com um quarto octeto uniforme.  O uso da m√°scara inversa permite substituir todas essas entradas por uma. <br>  Exatamente o mesmo princ√≠pio se aplica aos n√∫meros √≠mpares do quarto octeto, neste caso, apenas o √∫ltimo bit da m√°scara reversa deve ser 1. Nesse caso, uma regra geral ser√° estabelecida, permitida ou negada, para todos os endere√ßos IP da sub-rede com um √≠mpar 4- octeto.  Veja como √© esse exemplo decimal. <br><br><img src="https://habrastorage.org/webt/-d/63/2r/-d632rvriaexxcp5bypajippplq.jpeg"><br><br>  Se eu usar a m√°scara reversa 0.0.0.254, nosso problema ser√° resolvido: todos os hosts com um quarto octeto ainda s√£o permitidos e todos os outros hosts s√£o proibidos.  A vantagem de uma m√°scara reversa √© que, ao criar uma ACL, voc√™ pode configur√°-la para atender √†s suas necessidades.  Voc√™ n√£o precisa se preocupar muito com m√°scaras reversas espec√≠ficas, porque o CCNA n√£o exige isso.  Basta lembrar a regra: a m√°scara reversa √© obtida quando a m√°scara de sub-rede √© removida da m√°scara global 255.255.255.255.  Observe que o curso CCNA se concentra mais em sub-redes do que em hosts. <br><br>  Vamos voltar ao slide anterior e falarei sobre outra maneira de calcular a m√°scara curinga. <br><br><img src="https://habrastorage.org/webt/yi/0j/np/yi0jnpzrjwsfflhnobgt5bve4ba.jpeg"><br><br>  Se voc√™ se lembra da nossa tabela "m√°gica", / 26 significa o tamanho do bloco de bits igual a 64. Se esse bloco for 64, o √∫ltimo octeto da m√°scara inversa ter√° o valor (64-1) = 63.  Se tivermos / 25, o tamanho do bloco ser√° 128, o que significa que o √∫ltimo octeto da m√°scara inversa ser√° (128-1) = 127.  Essa √© outra dica para facilitar o c√°lculo do valor da m√°scara inversa.  Mas se voc√™ n√£o quiser us√°-lo, use o m√©todo usual, subtraindo a m√°scara de sub-rede da m√°scara global. <br><br>  Agora vamos para a sintaxe dos comandos estendidos da ACL.  Como na ACL padr√£o, existem dois tipos de grava√ß√£o de comando: cl√°ssica e moderna. <br><br><img src="https://habrastorage.org/webt/um/0p/lh/um0plhlq7ds-bcarxsh5lumbzxi.jpeg"><br><br>  O comando cl√°ssico √© a lista de acesso √† entrada &lt;n√∫mero da ACL&gt; &lt;desativar / permitir&gt; &lt;protocolo&gt;.  Portanto, o primeiro comando estendido da ACL difere do comando padr√£o da ACL especificando um protocolo, n√£o um crit√©rio.  Isso significa que aqui o tr√°fego √© filtrado n√£o pelo endere√ßo IP da origem ou destino, mas pelo protocolo usado. <br>  Em todos os casos, usamos o protocolo IP, que √© de tr√™s tipos: ICMP, ou o ping conhecido por n√≥s, TCP, que depende da porta espec√≠fica 21,23 e assim por diante, e UDP.  Deixe-me lembr√°-lo de que a Wikipedia possui um artigo com uma lista de todos os protocolos e seus n√∫meros de porta correspondentes. <br>  A seguir est√° a linha de comando &lt;IP de origem&gt; &lt;m√°scara reversa&gt; [informa√ß√µes de protocolo].  Informa√ß√µes de protocolo significa especificar um n√∫mero de porta.  Ou seja, no comando anterior como &lt;protocol&gt;, voc√™ especifica ICMP, TCP ou UDP, e no segundo comando como par√¢metro [informa√ß√µes do protocolo] especifica o n√∫mero da porta 21.23, etc. <br><br>  A terceira linha do comando √© &lt;IP de destino&gt; &lt;m√°scara reversa&gt; [informa√ß√µes do protocolo], ou seja, os par√¢metros referentes ao destino. <br><br>  Se voc√™ se lembra das li√ß√µes anteriores, o n√∫mero da porta de origem √© um n√∫mero aleat√≥rio, porque o dispositivo que envia o tr√°fego cria uma porta de n√∫mero aleat√≥rio para isso.  Nesse sentido, na primeira linha referente √† fonte de tr√°fego, voc√™ indica [informa√ß√µes de protocolo] do destino, por exemplo, FTP, ou seja, o protocolo do dispositivo cujo tr√°fego voc√™ deseja bloquear. <br><br>  Deixe-me lembr√°-lo de que, para fazer altera√ß√µes na lista de ACLs estendidas do tipo cl√°ssico, voc√™ precisar√° reformular a lista inteira manualmente, como no caso das ACLs padr√£o do tipo cl√°ssico. <br><br>  Uma equipe de apar√™ncia moderna come√ßa com a express√£o ip, que nada tem a ver com o protocolo IP, √© apenas uma palavra-chave.  Portanto, a primeira linha cont√©m a palavra-chave ip, o par√¢metro "lista de acesso estendida" e o n√∫mero ou nome da ACL.  Ap√≥s executar o primeiro comando, voc√™ alterna para o modo de subcomando config-ext-nacl e insere &lt;disable / allow&gt; &lt;protocol&gt;, conforme discutimos acima. <br><br>  A seguir est√£o os dois comandos &lt;IP de origem&gt; &lt;m√°scara reversa&gt; [informa√ß√µes do protocolo] e &lt;IP de destino&gt; &lt;m√°scara reversa&gt; [informa√ß√µes do protocolo], o primeiro geralmente ignorando o par√¢metro [informa√ß√µes do protocolo de origem] e, em vez disso, o par√¢metro [informa√ß√µes do protocolo] destino].  √Äs vezes, pode ser necess√°rio especificar a porta de origem, mas no CCNA, na maioria dos casos, esse par√¢metro pode ser ignorado. <br><br>  O uso de uma ACL estendida √© semelhante ao uso de uma ACL padr√£o.  Aqui voc√™ tamb√©m precisa especificar a interface do dispositivo ao qual a lista √© aplicada e, em seguida, usar o par√¢metro ip access-group, o n√∫mero ou nome da lista ACL e a dire√ß√£o do fluxo de tr√°fego - entrada ou sa√≠da.  No v√≠deo anterior, j√° discutimos como a dire√ß√£o do tr√°fego √© determinada para uma porta espec√≠fica. <br><br>  Vamos seguir para o esquema e configurar a ACL avan√ßada usando a topologia de rede da li√ß√£o anterior.  O problema n√∫mero 1 √©: "Os computadores da rede do departamento de gerenciamento e da rede do departamento financeiro podem acessar via protocolos HTTP (80) e FTP (21) apenas o servidor Server0 localizado na rede do servidor". <br><br><img src="https://habrastorage.org/webt/ki/fg/_o/kifg_onbczdnlpgc67dbge--5hc.jpeg"><br><br>  Ao mesmo tempo, nem todo o tr√°fego √© permitido, mas somente o que vem das portas 80 e 21, ou seja, por exemplo, o tr√°fego via protocolo SSH deve ser bloqueado.  Se voc√™ se lembra, a ACL estendida deve ser aplicada mais pr√≥xima da origem, portanto, para o departamento de gerenciamento, deve ser aplicada √† porta G0 / 0 do roteador R1 e, para contabilidade, √† porta G0 / 0 do roteador R2.  Em rela√ß√£o ao roteador, bloqueamos o tr√°fego recebido e, portanto, usamos o par√¢metro IN nos comandos da lista.  Atribua a ACL ao n√∫mero da lista 101 e fa√ßa uma lista de linhas que ele deve conter usando a abordagem cl√°ssica. <br><br><img src="https://habrastorage.org/webt/wi/uq/hi/wiuqhiidr1bfzxd6_sdpxthr4b0.jpeg"><br><br>  A primeira linha permite o TCP, porque a porta HTTP 80 significa TCP, ent√£o indicamos a rede do departamento de gerenciamento, 192.168.1.224/28.  Neste exemplo, omito a m√°scara reversa, a usamos no Packet Tracer, at√© agora o princ√≠pio da forma√ß√£o da lista √© importante para n√≥s.  A rede de gerenciamento √© a fonte de tr√°fego, depois que o endere√ßo IP de destino 192.168.1.194/32 √© indicado, onde 194 √© o √∫ltimo octeto do endere√ßo Server0 e / 32 significa que a condi√ß√£o se aplica apenas a esse dispositivo espec√≠fico localizado na sub-rede 192.168.1.192/27.  No final da linha, indicamos a porta de destino permitida 80, destinada ao tr√°fego HTTP. <br><br>  Da mesma maneira, uma entrada √© criada para a porta 21 usada para transmitir o tr√°fego FTP.  N√£o estou escrevendo uma terceira linha, que por padr√£o se parece com Negar e pro√≠be qualquer tr√°fego de sa√≠da de dispositivos que n√£o pertencem a esta sub-rede.  Em seguida, voc√™ deve especificar que a lista seja aplicada √† porta G0 / 0 de R1 na dire√ß√£o IN, ou seja, para tr√°fego de entrada. <br><br>  Fazemos o mesmo na compila√ß√£o de entradas ACL Allow_Acc para o departamento financeiro, permitindo o tr√°fego TCP das portas 80 e 21 e aplicando essa lista √† interface de entrada G0 / 0 do roteador R2. <br><br><img src="https://habrastorage.org/webt/2f/z8/xj/2fz8xjhmwenmvjxeozpld2dsjmm.jpeg"><br><br>  O problema n√∫mero 2 √©: "Os computadores na rede do departamento de vendas podem usar todos os protocolos, exceto o PING (ICMP), apenas no Server1, localizado na rede do servidor".  Isso significa que, para comunica√ß√£o com o servidor, os computadores do departamento de vendas podem usar os protocolos HTTP, SSH, FTP - qualquer outro protocolo que n√£o seja o ICMP.  Nesse caso, a lista de condi√ß√µes da ACL ficar√° assim. <br><br><img src="https://habrastorage.org/webt/5l/ps/in/5lpsinofhqzxn32u7ql8uuf9nw8.jpeg"><br><br>  Na primeira linha, proibimos todo o tr√°fego via ICMP, colocando uma condi√ß√£o espec√≠fica no topo da lista e geral no final da lista.  Este registro mostra o identificador de sub-rede do departamento de vendas 192.168.1.0/25, o endere√ßo IP de um servidor Server 1 espec√≠fico √© 192.168.1.195/32.  O par√¢metro echo significa que o tr√°fego na forma de ping, ou seja, um pacote enviado ao servidor para retornar ao computador deve ser negado. <br><br>  A segunda linha permite todo o tr√°fego proveniente da sub-rede 192.168.1.0/25 para o endere√ßo do servidor 192.168.1.195/32.  Como de costume, no final da lista, a linha padr√£o √© Negar, o que significa que, se os computadores do departamento de vendas tentarem entrar em contato com o departamento financeiro, esse tr√°fego ser√° descartado.  A seguir, indicamos em qual interface do roteador a ACL deve ser aplicada e o segundo problema √© resolvido. <br><br>  A tarefa 3 √©: ‚ÄúLaptop2 de vendas Laptop2 e o departamento financeiro PC0 pode acessar o laptop0 management0 laptop0.‚Äù  Suponha que esses dispositivos sejam gerenciados pelos chefes dos departamentos de vendas e contabilidade, que podem se comunicar com o CFO do CFO localizado no departamento de gerenciamento.  No entanto, n√£o h√° restri√ß√µes nos protocolos utilizados, incluindo o ICMP. <br><br>  J√° temos tr√™s ACLs aplicadas √†s interfaces que circulei em vermelho no diagrama.  O Laptop2 n√£o pode entrar em contato com o Laptop0 no momento, porque isso contradiz as condi√ß√µes do Problema 3. <br><br><img src="https://habrastorage.org/webt/hp/nq/y2/hpnqy2-n_4wels92e7cih94i7q0.jpeg"><br><br>  Para se comunicar entre esses dois dispositivos, voc√™ deve adicionar condi√ß√µes adicionais √† ACL Allow_Sa. <br><br><img src="https://habrastorage.org/webt/t5/cu/j-/t5cuj-hkbez_nf-qxuyoq6c3k_4.jpeg"><br><br>  Da mesma forma, voc√™ precisa adicionar condi√ß√µes √† ACL Allow_Acc para que o PC0 possa entrar em contato livremente com o Laptop0. <br><br><img src="https://habrastorage.org/webt/rb/ya/vc/rbyavcokvtgs9_dz9rwj0yuy34c.jpeg"><br><br>  Nas duas listas, adicionamos linhas com o par√¢metro Permit IP, o que significa permitir tr√°fego por qualquer protocolo IP. <br><br>  Como voc√™ sabe, o ICMP usa tr√°fego bidirecional: voc√™ envia ping e o eco retorna.  Em nossa situa√ß√£o, se o Laptop2 resolver o ping do Laptop0, o tr√°fego fluir√° livremente para a rede do departamento de gerenciamento.  No entanto, quando o pacote retornar ao laptop do departamento de vendas, ele ser√° direcionado para a interface G0 / 0 do roteador R1, onde o ACL 101 est√° ativo.Como o tr√°fego de retorno n√£o corresponde a nenhuma das condi√ß√µes nesta lista, ele ser√° bloqueado.  Portanto, precisamos suplementar a lista ACL101 com as condi√ß√µes de resolu√ß√£o para executar ping no laptop Sales2 do departamento de vendas e executar ping no computador PC0 do departamento financeiro. <br><br><img src="https://habrastorage.org/webt/rw/y_/zi/rwy_zihar-nzak7n9syenz0prk0.jpeg"><br><br>  Resolvemos a tarefa n¬∫ 3 e agora prosseguimos para a solu√ß√£o do problema n¬∫ 4: ‚ÄúO laptop Sales3 Laptop3 pode acessar apenas sua pr√≥pria rede de VENDAS e apenas o servi√ßo da Web pela porta 80 no servidor 1‚Äù. <br><br>  A primeira parte da tarefa significa que, assim que o Laptop3 tentar sair da rede SALES, seu tr√°fego ser√° bloqueado pelo roteador R2.  No entanto, de acordo com a segunda parte da tarefa, este computador deve ter acesso a um servi√ßo da Web localizado fora da rede SALES.  Isso significa que todo o tr√°fego, exceto o tr√°fego direcionado ao servidor, est√° bloqueado. <br><br>  Nas tarefas anteriores, sabemos que o tr√°fego proveniente do departamento de vendas √© regulado pela Allow_Sa ACL, que aplicamos √† interface de entrada G0 / 1 do roteador R2.  Portanto, precisamos alterar essa lista, primeiro adicionando a ela a linha ‚Äúpermitir TCP ao servidor 1 pela porta 80‚Äù do seguinte tipo: Permitir TCP 192.168.1.3/32 192.168.1.195/32 80 <br><br><img src="https://habrastorage.org/webt/g1/ii/e8/g1iie8wrn_ys4_d5pxzgzsxlrxi.jpeg"><br><br>  A primeira linha significa que qualquer tr√°fego HTTP chega ao servidor e a segunda Negar IP 192.168.1.3/32 significa que o restante do tr√°fego, por exemplo, FTP vindo do Laptop3, ser√° descartado.  Al√©m disso, deixamos inalteradas as tr√™s linhas a seguir da ACL anterior, resolvendo o problema 4. <br><br>  Eu j√° disse que recomendo que voc√™ anote as solu√ß√µes para esses problemas em papel ou digite-as manualmente em um computador, pois elas mudam. No papel ou em um computador, voc√™ sempre pode adicionar, riscar ou excluir linhas.  Chamo a aten√ß√£o para o fato de que, se voc√™ simplesmente adicionar a solu√ß√£o ao quarto problema no final da ACL, adicionando duas linhas, o sistema as ignorar√°, porque as condi√ß√µes localizadas acima absorvem essas regras.  Como a segunda linha da lista antiga permite todo o tr√°fego, a condi√ß√£o Negar IP 192.168.1.3/32, localizada no final da lista, simplesmente n√£o ser√° atendida. <br><br>  Portanto, a sequ√™ncia correta de entradas da ACL √© de extrema import√¢ncia.  Primeiro, voc√™ deve desenvolver uma cadeia l√≥gica de opera√ß√µes e organizar as linhas para que elas n√£o se contradigam.  Agora vamos seguir para o Packet Tracer e concluir todas as configura√ß√µes de acordo com as solu√ß√µes. <br><br><img src="https://habrastorage.org/webt/d6/k8/so/d6k8soi4ha94psryok6hfmdbqcg.jpeg"><br><br>  Vamos come√ßar a configura√ß√£o a partir do primeiro roteador, Roteador1.  Eu uso o comando show access-list para mostrar que a ACL est√° ausente no momento.  Em seguida, usando o comando show ip route, mostro que o RIP entre os dois roteadores j√° est√° configurado e funcionando. <br><br>  Vamos para Laptop0 e executar ping no Server1 em 192.168.1.195.  Como voc√™ pode ver, o ping foi bem-sucedido, pois n√£o temos nenhuma ACL que pro√≠ba ou filtre o tr√°fego.  Tamb√©m estou livre para executar ping no Server0. <br><br>  Agora vamos para o roteador Router1, entram no modo de configura√ß√µes globais e criam a lista do ACL 101. Para fazer isso, digite o comando access-list 101 allow tcp.  Observe que o sistema fornece uma dica de qual valor de par√¢metro, al√©m de tcp, pode ser usado neste comando. <br><br><img src="https://habrastorage.org/webt/39/ah/7e/39ah7eyonfof74wpxuislhwm4pq.jpeg"><br><br>    esp, icmp, osfp   .    CCNA      ip, ismp, tcp  udp. <br><br>      ,     access-list 101 permit tcp 192.168.1.224.  /28    16 ,     0.0.0.15. <br><br>  28  4  ,   1 ,    128,  2  ‚Äì 64,   ‚Äì 32, 4     16, ,      (16-1) =15.     ,         .      ,       host   IP-,      : access-list 101 permit tcp 192.168.1.224 0.0.0.15 host 192.168.1.194. <br><br>      ,     ,   ,   . <br><br><img src="https://habrastorage.org/webt/bv/ky/av/bvkyav2z_cfkdsqbdgysd6edisy.jpeg"><br><br>    dscp,        ,  eq,          , gt ‚Äì      ,  , lt ‚Äì       ..         ,       eq.          . <br><br><img src="https://habrastorage.org/webt/rd/qx/ss/rdqxss4ca-_8cp5m0e6nfw7romw.jpeg"><br><br>        0  65535,    ,    .  FTP   21,  SMTP ‚Äì  25,    www ‚Äì    HTTP-   80.         80. <br>     do show run    , ,      80   www.     ,    ,  80     21: access-list 101 permit tcp 192.168.1.224 0.0.0.15 host 192.168.1.194 eq 21. <br><br>       ICMP-,   .     access-list 101 permit icmp.     host,    ,       IP- 192.168.1.226    0.0.0.0,      ,  .      host  IP- Laptop2 ‚Äì 192.168.1.2.           ‚Äì   ,     . <br><br><img src="https://habrastorage.org/webt/qc/ju/fh/qcjufhyq6nqg31_gp1nuflwvgkw.jpeg"><br><br>       ,       echo-replay.  ,      .       : access-list 101 permit icmp192.168.1.226 0.0.0.0 host 192.168.1.2 echo-replay.     : access-list 101 permit icmp 192.168.1.226 0.0.0.0 host 192.168.1.130 echo-replay. <br><br>     ,       int g0/0  ip access-group,    101     ,      IN.    Laptop0     192.168.1.194,    ACL   .  ,   ,     .    IP-  192.168.1.195,       . <br><br>  ,       Server0   Laptop0  .     HTTP  FTP-    80  21,    ICMP-,   .     . <br>    -,           192.168.1.194,      - Server0. <br><br><img src="https://habrastorage.org/webt/qe/so/d_/qesod_x7ju9zigyjiro7133vrko.jpeg"><br><br>         192.168.1.195,   ,    ACL    . <br><br>     ‚Ññ1      R2    ACL    ‚Äì Allow_Ac.  ,   ACL     ,          .      ip access-list extended Allow_Ac     . <br><br>    permit tcp 192.168.1.128.     /26,     ,   ,     ‚Äì    128,   ‚Äì   64, ,    0.0.0.63.          ,     255.255.255.192    255.255.255.255.      permit tcp 192.168.1.128 0.0.0.63 host 192.168.1.194 eq 80.      : permit tcp 192.168.1.128 0.0.0.63 host 192.168.1.194 eq 21. <br><br>      ‚Ññ1 ‚Äì      PC0        Laptop0  .      permit ip host 192.168.1.130 host 192.168.1.226    ,         . <br><br>     ACL   g0/0,     ip access-group Allow_Ac IN.   , PC0      Server 0,     -  .     PC0  192.168.1.194,    Packet Tracer,      ,   R2   . <br><br>     ACL    ,     ip access-list extended Allow_Sa  permit tcp host 192.168.1.3 host 192.168.1.195 eq 80.  ,    HTTP-     ,       ,  deny ip host 192.168.1.3 any. <br><br><img src="https://habrastorage.org/webt/4y/x7/le/4yx7leb24li9ft21i3sf6--y4f8.jpeg"><br><br>    ,   ,  .      deny icmp 192.168.1.0.     /25,  1  ,    128 , ,      0.0.0.127.              192.168.1.195,    Server2.    ACL   : deny icmp 192.168.1.0 0.0.0.127 host 192.168.1.195 echo. <br><br>        4-  ,        ,    : permit ip 192.168.1.0 0.0.0.127 host 192.168.1.195. <br><br>    ,   Laptop2   Laptop0.     permit host 192.168.1.2 host 192.168.1.226,       g0/1  ip access-group Allow_Sa IN. <br><br><img src="https://habrastorage.org/webt/bw/ve/w0/bwvew0hl60slwzsqkrdsxouia1y.jpeg"><br><br> ,    ACL    Laptop3,   ,     - .     192.168.1.195  ,     PC   192.168.1.130        192.168.1.226. ,     ‚Äì   -  Server1. <br><br><img src="https://habrastorage.org/webt/1a/y3/lt/1ay3ltyzggjbjjbss5dh92hjxnk.jpeg"><br><br> Laptop2         Laptop0,  .  ,   ,        192.168.1.226.        Laptop1  ,     ACL   ,   Laptop0.   Laptop2      Server1   192.168.1.195,    -  .  ,     4- ,      ACL. <br><br>   ,          ,        .      ACL        ‚Äì      ,      .       ,    ,        ,   . <br><br>  CCNA       ,           .   ,                .  ,               . <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/6Rtxun6dl-0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Obrigado por ficar conosco.  Voc√™ gosta dos nossos artigos?  Deseja ver materiais mais interessantes?  Ajude-nos fazendo um pedido ou recomendando a seus amigos, um <b>desconto de 30% para os usu√°rios da Habr em um an√°logo exclusivo de servidores b√°sicos que inventamos para voc√™:</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Toda a verdade sobre o VPS (KVM) E5-2650 v4 (6 n√∫cleos) 10GB DDR4 240GB SSD 1Gbps de US $ 20 ou como dividir o servidor?</a>  (as op√ß√µes est√£o dispon√≠veis com RAID1 e RAID10, at√© 24 n√∫cleos e at√© 40GB DDR4). <br><br>  <b>Dell R730xd 2 vezes mais barato?</b>  Somente temos <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">2 TVs Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV a partir de US $ 199</a> na Holanda!</b>  <b><b>Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - a partir de US $ 99!</b></b>  Leia sobre <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Como criar um pr√©dio de infraestrutura.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">classe usando servidores Dell R730xd E5-2650 v4 custando 9.000 euros por um centavo?</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt465725/">https://habr.com/ru/post/pt465725/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt465713/index.html">O que ler para o gerente de projeto: livros sobre gerenciamento de pessoal, habilidades pessoais e DevOps</a></li>
<li><a href="../pt465715/index.html">Balanceamento de carga Openstack (parte 2)</a></li>
<li><a href="../pt465719/index.html">Por que as notifica√ß√µes push n√£o s√£o recebidas no cliente 3CX VoIP para Android</a></li>
<li><a href="../pt465721/index.html">Sistema aeroespacial totalmente reutiliz√°vel a partir de tecnologias existentes</a></li>
<li><a href="../pt465723/index.html">Posit-aritm√©tica: derrotar um ponto flutuante em seu pr√≥prio campo. Parte 1</a></li>
<li><a href="../pt465727/index.html">Torne-se Zuckerberg ou programador infantil</a></li>
<li><a href="../pt465729/index.html">Eventos digitais em Moscou, de 2 a 8 de setembro</a></li>
<li><a href="../pt465731/index.html">Muitos canais do YouTube para bombear ingl√™s para programadores</a></li>
<li><a href="../pt465733/index.html">O que fazer se os certificados estiverem podres e o cluster se transformar em ab√≥bora?</a></li>
<li><a href="../pt465735/index.html">Como √© o sistema de refrigera√ß√£o passiva nos computadores MIC-7900</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>