<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïì üíÖüèø üçÇ Nous utilisons des certificats SSL gratuits pour prot√©ger les sites Web Azure üå©Ô∏è ‚ö∞Ô∏è ü•†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Depuis pr√®s de 3 ans, il existe un centre de certification Let's Encrypt qui vous permet de recevoir un certificat X.509 gratuitement (c'est-√†-dire po...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Nous utilisons des certificats SSL gratuits pour prot√©ger les sites Web Azure</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/425591/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/zb/gl/mv/zbglmv5_rqfooppekrv9foo7scg.jpeg"></a> <br><br>  Depuis pr√®s de 3 ans, il existe un centre de certification Let's Encrypt qui vous permet de recevoir un certificat X.509 gratuitement (c'est-√†-dire pour rien).  Depuis mars de cette ann√©e, m√™me les certificats g√©n√©riques ont √©t√© pris en charge, vous permettant de prot√©ger tous les sous-domaines √† la fois, plut√¥t que de sp√©cifier un nom sp√©cifique pour chacun. <br><br>  Le certificat de type DV (Validation de domaine) est d√©livr√© pour une p√©riode de 90 jours.  Il est possible de renouveler le certificat (encore une fois, gratuitement - sans leurre).  Les certificats de niveau sup√©rieur (validation d'organisation ou validation √©tendue) ne sont pas d√©livr√©s par le service. <br>  Let's Encrypt utilise un protocole appel√© ACME (Automated Certificate Management Environment).  Vous pouvez remercier les principaux sponsors pour l'opportunit√© de recevoir un certificat gratuit en la personne de Electronic Frontier Foundation (EFF), Mozilla Foundation, Akamai, Cisco Systems. <br><br>  Sous la coupe, vous pouvez lire comment ajouter gratuitement un certificat SSL √† votre site Web Azure. <br><a name="habracut"></a><br>  Le certificat est d√©livr√© pour 3 mois et ce serait bien s'il √©tait en quelque sorte automatiquement mis √† jour.  L'extension Azure que je propose d'utiliser pour vous contient une fonctionnalit√© int√©gr√©e qui mettra √† jour le certificat √† l'aide de WebJob, mais pour son fonctionnement, il est n√©cessaire de cr√©er un stockage Blob.  Il existe une option d'extension sans renouvellement automatique de certificat.  C'est beaucoup plus facile √† mettre en place.  Mais je veux distinguer une option plus complexe.  Apr√®s l'avoir trait√©, vous pouvez trouver une option simple qui ne renouvelle pas automatiquement le certificat. <br><br><img src="https://habrastorage.org/webt/bg/s6/lm/bgs6lmcpifzfc8xadkfoabzp8bw.png"><br><br>  L'option de r√©plication la moins co√ªteuse est LRS (ici, nous n'avons pas besoin d'une sorte de r√©plication sophistiqu√©e).  Le mod√®le d'acc√®s est cool car l'acc√®s aux donn√©es se produira rarement - seulement une fois tous les 3 mois. <br><br>  Nous avons besoin d'une cha√Æne de connexion pour le stockage d'objets blob, qui peut √™tre trouv√©e ici: <br><br><img src="https://habrastorage.org/webt/un/pc/w_/unpcw_lkbzbscukwzo5qr11zp7c.png"><br><br>  La valeur de cette cha√Æne de connexion doit √™tre enregistr√©e dans les param√®tres d'application de notre service d'application avec le type personnalis√© et les noms suivants: <br><br><img src="https://habrastorage.org/webt/zs/ix/vo/zsixvoi4ejhbqt_t_v55cbqrxei.png"><br><br>  Maintenant que nous avons cr√©√© un blob, nous pouvons ajouter une extension √† App Service. <br><br><img src="https://habrastorage.org/webt/ch/n9/hi/chn9hivbtk_8phamewiul9zj9vg.png"><br><br>  En allant dans la section Extensions de votre App Service et en cliquant sur Ajouter +, vous trouverez 2 options.  L'un avec WebJobs renouvelle automatiquement le certificat, l'autre non.  Depuis que nous avons cr√©√© un blob, nous pouvons choisir l'option avec WebJobs. <br><br><img src="https://habrastorage.org/webt/y-/cr/6f/y-cr6fh6jvzfkkl88mi_ua8-abk.png"><br><br>  Maintenant vous pouvez aller dans l'extension et cliquer sur Parcourir pour ouvrir l'extension <br><br><img src="https://habrastorage.org/webt/oy/5e/eu/oy5eeusb0tv4p3kofxsch9jazs8.png"><br><br>  Ou l'option n'est pas pour les paresseux - entrez l'adresse <code>https://.scm.azurewebsites.net/letsencrypt/</code> dans la ligne du navigateur <br><br>  Une fen√™tre s'ouvrira avec les param√®tres suivants: <br><br><img src="https://habrastorage.org/webt/hh/bg/vy/hhbgvykvmpj73ds355bsgxethja.png"><br><br>  Voyons maintenant de quelles valeurs viennent.  En haut du formulaire, il y a une description en anglais, mais je vais essayer de l'expliquer avec des captures d'√©cran et de petits commentaires. <br><br>  Les valeurs Tenant et SubscriptionId peuvent √™tre obtenues en acc√©dant √† la section facturation. <br><br><img src="https://habrastorage.org/webt/k0/cf/ni/k0cfnixsxg1_dyqljwmyosifft4.png"><br><br>  Cliquez sur abonnement <br><br><img src="https://habrastorage.org/webt/5j/lx/hu/5jlxhuitmmlhn11nzgfg7ft8hxi.png"><br><br>  Ici, vous pouvez voir l'ID d'abonnement et le nom du r√©pertoire par d√©faut juste en dessous.  Le r√©pertoire par d√©faut est Locataire. <br><br>  Avec ClientID et ClientSecret un peu plus compliqu√©.  Nous devons cr√©er une sorte de compte sous lequel certaines t√¢ches peuvent √™tre effectu√©es - le principal du service.  Vous ne pouvez pas vous connecter √† Azure avec ce compte.  Il est destin√© uniquement √† effectuer certaines t√¢ches internes. <br><br>  Cr√©ez-le via Azure Active Directory - Inscriptions d'applications <br><br><img src="https://habrastorage.org/webt/gv/bb/0y/gvbb0yk0jbj4_lffaykjp32oiiu.png"><br><br>  Cliquez sur + Nouvelle inscription d'application <br><br><img src="https://habrastorage.org/webt/ci/ob/9z/ciob9zklgxid05elti44mynwoyw.png"><br><br>  √Ä partir des donn√©es de l'application cr√©√©e, vous pouvez d√©j√† prendre l'ID d'application - il s'agit de l'ID client souhait√©.  Allez dans Param√®tres et touches <br><br><img src="https://habrastorage.org/webt/7d/t6/hp/7dt6hpvqh92z1sfulynjckicphm.png"><br><br>  Entrez la DESCRIPTION de la cl√© cr√©√©e et cliquez sur Enregistrer. <br><br><img src="https://habrastorage.org/webt/ul/hr/mn/ulhrmnuefqce0ire_lojpg7y3gg.png"><br><br>  Copiez la valeur VALUE - il s'agit de ClientSecret. <br><br>  Un principal de service a √©t√© cr√©√©, mais il doit ajouter des droits.  Pour ce faire, acc√©dez au groupe de ressources dans lequel se trouve App Service.  Allez ensuite √† IAM <br><br><img src="https://habrastorage.org/webt/dc/ax/91/dcax91acruqfgjmeudrl3_0lvom.png"><br><br>  Et ajoutez une nouvelle autorisation pour le principal de service cr√©√© avec le r√¥le Contributeur <br><br><img src="https://habrastorage.org/webt/dq/ng/mj/dqngmjg4askqw91t4ccky75etso.png"><br><br>  Nous avons maintenant les droits et toutes les valeurs n√©cessaires pour remplir le formulaire.  ResourceGroupName est le nom du groupe dans lequel se trouve App Service.  ServicePlanResourceGroupName est le nom du groupe dont se trouve le plan de service de votre App Service.  La valeur SiteSlotName peut √™tre omise si vous n'utilisez pas les emplacements de d√©veloppement dans App Service.  Mais vous devez cocher la case √† c√¥t√© de Mettre √† jour les param√®tres d'application. <br><br>  Apr√®s avoir entr√© tout ce qui est n√©cessaire, cliquez sur Suivant et sur la page suivante, nous vous montrons des informations sur les certificats existants (si nous r√©p√©tons soudainement le processus, il y aura quelque chose dans la liste). <br><br>  Nous passons plus loin √† Suivant et avons la possibilit√© de s√©lectionner des noms d'h√¥tes: <br><br><img src="https://habrastorage.org/webt/tu/_a/fg/tu_afgyle5bxeua0matj5-dvdc8.png"><br><br>  Apr√®s avoir termin√© la demande d'un nouveau certificat, vous pouvez v√©rifier ses performances en allant sur le site Web et en cliquant sur le cadenas √† c√¥t√© du certificat <br><br><img src="https://habrastorage.org/webt/cj/yk/du/cjykdubr0fiouxuulfri7voczh4.png"><br><br>  Le manuel officiel en anglais peut √™tre trouv√© ici: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Comment installer et configurer Let's Encrypt sur Azure Web Apps</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr425591/">https://habr.com/ru/post/fr425591/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr425575/index.html">Neuroinflammation</a></li>
<li><a href="../fr425581/index.html">Jetpack 11 octobre 1961: le pr√©sident ouvre la bouche ...</a></li>
<li><a href="../fr425583/index.html">Tout ce qui d√©route encore les robots, √† commencer par les mouettes</a></li>
<li><a href="../fr425587/index.html">Pr√©vision du premier essai sur les souris d'expression allotopique</a></li>
<li><a href="../fr425589/index.html">Actualit√©s anti-√¢ge</a></li>
<li><a href="../fr425593/index.html">Rappel de la version finale de Windows 1809</a></li>
<li><a href="../fr425595/index.html">Blaue Karte pour un sp√©cialiste de l'informatique ou comment je suis descendu en Allemagne</a></li>
<li><a href="../fr425597/index.html">Instruments de musique ¬´technologiques¬ª jusqu'au XXe si√®cle: clavecin magn√©tique et piano √©lectrom√©canique</a></li>
<li><a href="../fr425599/index.html">Comment la perception de l'espace dans 61 ans</a></li>
<li><a href="../fr425601/index.html">Correction d'un bug dans un jeu 2000 sur Shockwave</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>