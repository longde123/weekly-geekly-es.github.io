<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👽 💔 👨🏼‍🔧 نصنع مشروعًا إضافيًا مع تجميع للإصدارات المختلفة من Revit / AutoCAD 🏪 🎠 🥚</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="عند تطوير المكونات الإضافية لتطبيقات CAD ( في حالتي ، أوتوكاد و Revit و Renga) ، تنشأ مشكلة بمرور الوقت - ظهور إصدارات جديدة من البرامج وتغييرات واجهة...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>نصنع مشروعًا إضافيًا مع تجميع للإصدارات المختلفة من Revit / AutoCAD</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482308/" style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/u7/vh/xi/u7vhxitqphrjiza_fsmzmoclmha.png"><br><br><p style=";text-align:right;direction:rtl">  عند تطوير المكونات الإضافية لتطبيقات CAD ( <a href="https://modplus.org/ru/" rel="nofollow">في حالتي ،</a> أوتوكاد و Revit و Renga) ، تنشأ مشكلة بمرور الوقت - ظهور إصدارات جديدة من البرامج وتغييرات واجهة برمجة تطبيقاتها وإصدارات جديدة من المكونات الإضافية. </p><br><p style=";text-align:right;direction:rtl">  عندما يكون لديك مكون إضافي واحد فقط أو كنت لا تزال مبتدئًا في هذا الأمر ، يمكنك ببساطة إنشاء نسخة من المشروع وتغيير الأماكن اللازمة فيه وإنشاء نسخة جديدة من المكون الإضافي.  وفقًا لذلك ، ستستتبع التغييرات اللاحقة على الكود زيادة متعددة في تكاليف العمالة. </p><br><p style=";text-align:right;direction:rtl">  مع اكتساب الخبرة والمعرفة ، ستجد عدة طرق لأتمتة هذه العملية.  ذهبت بهذه الطريقة وأريد أن أخبركم بما جئت إليه في النهاية ومدى ملائمته. </p><a name="habracut"></a><br><p style=";text-align:right;direction:rtl">  للبدء ، فكر في طريقة واضحة وأستخدمها لفترة طويلة </p><br><h3 style=";text-align:right;direction:rtl">  روابط لملفات المشروع </h3><br><p style=";text-align:right;direction:rtl">  ولجعل كل شيء بسيطًا وواضحًا ومفهومًا ، سوف أصف كل شيء باستخدام مثال تجريبي لتطوير المكونات الإضافية. </p><br><p style=";text-align:right;direction:rtl">  افتح Visual Studio (لدي إصدار Community 2019. ونعم - باللغة الروسية) وقم بإنشاء حل جديد.  دعنا نسميها <b>MySuperPluginForRevit</b> </p><br><img src="https://blog.modplus.org/images/Blog/Blog24_1.png" alt="IMAGE1"><br><br><p style=";text-align:right;direction:rtl">  سنقوم بعمل ملحق لبرنامج Revit للإصدارات 2015-2020.  لذلك ، سنقوم بإنشاء مشروع جديد في الحل (مكتبة Net Framework Class) <b>وسنسميها MySuperPluginForRevit_2015</b> </p><br><img src="https://blog.modplus.org/images/Blog/Blog24_2.png" alt="image2"><br><br><p style=";text-align:right;direction:rtl">  نحن بحاجة إلى إضافة روابط إلى Revit API.  بالطبع ، يمكننا إضافة روابط إلى الملفات المحلية (ستحتاج إلى تثبيت جميع SDKs اللازمة أو جميع إصدارات Revit) ، لكننا سنمضي على الطريق الصحيح مباشرة ونربط حزمة NuGet.  لا يمكنك العثور على عدد صغير من الحزم ، لكنني سأستخدم حزمتي الخاصة. </p><br><p style=";text-align:right;direction:rtl">  بعد توصيل الحزمة ، انقر بزر الماوس الأيمن على عنصر " <em>الروابط</em> " وحدد " <em>نقل الحزم. قم بتكوين الحزم إلى PackageReference ...</em> " في القائمة </p><br><img src="https://blog.modplus.org/images/Blog/Blog24_3.png" alt="image3"><br><br><p style=";text-align:right;direction:rtl">  إذا أصبت بالذعر فجأة في هذه المرحلة ، نظرًا لأن نافذة خصائص الحزمة لا تحتوي على العنصر المهم " <em>نسخ محليًا</em> " ، والذي نحتاج بالتأكيد إلى تعيينه على " <em>خطأ"</em> ، فلا داعي للذعر - انتقل إلى مجلد المشروع وافتح الملف بالملحق. csproj في محرر مناسب (يمكنني استخدام Notepad ++) ونجد أن هناك سجلًا حول الحزمة الخاصة بنا.  يبدو هذا الآن: </p><br><pre style=";text-align:right;direction:rtl"><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ModPlus.Revit.API.2015"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  أضف <em>خاصية &lt;ExcludeAssets&gt; وقت التشغيل &lt;/ ExcludeAssets&gt; إليها</em> .  اتضح مثل هذا: </p><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ModPlus.Revit.API.2015"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ExcludeAssets</span></span></span><span class="hljs-tag">&gt;</span></span>runtime<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ExcludeAssets</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  الآن ، عند إنشاء مشروع ، لن يتم نسخ الملفات من الحزمة إلى مجلد الإخراج. <br>  نذهب إلى أبعد من ذلك - تخيل على الفور أن المكون الإضافي الخاص بنا سوف يستخدم شيئًا ما من واجهة برمجة تطبيقات Revit ، والتي تغيرت مع إصدار إصدارات جديدة.  حسنًا ، أو فقط ، نحتاج إلى تغيير شيء ما في الكود ، اعتمادًا على إصدار Revit الذي نصنع المكون الإضافي له.  لحل هذه الاختلافات في التعليمات البرمجية ، سوف نستخدم رموز الترجمة الشرطية.  افتح خصائص المشروع ، انتقل إلى علامة التبويب " <em>التجميع</em> " وفي حقل " <em>رموز التجميع الشرطي</em> " ، اكتب <strong>R2015</strong> . </p><br><img src="https://blog.modplus.org/images/Blog/Blog24_4.png" alt="image4"><br><br><p style=";text-align:right;direction:rtl">  لاحظ أنه يجب إضافة الرمز لكل من تكوين Debug وتكوين الإصدار. </p><br><p style=";text-align:right;direction:rtl">  حسنًا ، أثناء وجودنا في نافذة الخصائص ، ننتقل على الفور إلى علامة التبويب " <em>التطبيق</em> " وفي الحقل " <em>مساحة الاسم الافتراضية</em> " نحذف اللاحقة <strong>_2015</strong> حتى <strong>تصبح</strong> مساحة اسمنا عالمية ومستقلة عن اسم التجميع: </p><br><img src="https://blog.modplus.org/images/Blog/Blog24_5.png" alt="image5"><br><br><p style=";text-align:right;direction:rtl">  في حالتي ، في المنتج النهائي ، يتم وضع المكونات الإضافية لجميع الإصدارات في مجلد واحد ، لذلك تظل أسماء التجميع الخاصة بي مع لاحقة النموذج <strong>_20xx</strong> .  ولكن يمكنك أيضًا إزالة اللاحقة من اسم التجميع إذا كان موقع الملفات في مجلدات مختلفة مفترضًا. </p><br><p style=";text-align:right;direction:rtl">  نمرر إلى رمز الملف <em>Class1.cs ونحاكي</em> بعض التعليمات البرمجية هناك ، مع مراعاة الإصدارات المختلفة من Revit: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">MySuperPluginForRevit</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Autodesk.Revit.Attributes; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Autodesk.Revit.DB; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Autodesk.Revit.UI; [Regeneration(RegenerationOption.Manual)] [Transaction(TransactionMode.Manual)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Class1</span></span> : <span class="hljs-title"><span class="hljs-title">IExternalCommand</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Result </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ExternalCommandData commandData, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">ref</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> message, ElementSet elements</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> R2015 TaskDialog.Show("ModPlus", "Hello Revit 2015"); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">elif</span></span></span><span class="hljs-meta"> R2016 TaskDialog.Show("ModPlus", "Hello Revit 2016"); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">elif</span></span></span><span class="hljs-meta"> R2017 TaskDialog.Show("ModPlus", "Hello Revit 2017"); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">elif</span></span></span><span class="hljs-meta"> R2018 TaskDialog.Show("ModPlus", "Hello Revit 2018"); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">elif</span></span></span><span class="hljs-meta"> R2019 TaskDialog.Show("ModPlus", "Hello Revit 2019"); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">elif</span></span></span><span class="hljs-meta"> R2020 TaskDialog.Show("ModPlus", "Hello Revit 2020"); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> return Result.Succeeded; } } }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  أخذت على الفور في الاعتبار جميع إصدارات Revit أعلى من إصدار 2015 (التي كانت في وقت كتابة هذا التقرير) وأخذت على الفور في الاعتبار وجود رموز الترجمة الشرطية ، التي أقوم بإنشائها باستخدام نفس القالب. </p><br><p style=";text-align:right;direction:rtl">  نمر إلى تسليط الضوء الرئيسي.  نقوم بإنشاء مشروع جديد في حلنا ، فقط لإصدار المكون الإضافي لـ Revit 2016. نكرر جميع الخطوات الموضحة أعلاه ، على التوالي ، مع استبدال الرقم 2015 بالرقم 2016. لكننا نحذف ملف <em>Class1.cs</em> من المشروع الجديد. </p><br><img src="https://blog.modplus.org/images/Blog/Blog24_6.png" alt="image6"><br><br><p style=";text-align:right;direction:rtl">  الملف الذي يحتوي على الكود المطلوب - <em>Class1.cs</em> - لدينا بالفعل ونحتاج فقط إلى إدراج رابط إليه في المشروع الجديد.  هناك طريقتان لإدراج الروابط: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>منذ فترة طويلة</strong> - انقر فوق المشروع باستخدام زر الماوس الأيمن ، وحدد العنصر " <em>إضافة</em> " -&gt; " <em>عنصر موجود</em> " ، في النافذة التي تفتح ، ابحث عن الملف المطلوب ، وبدلاً من خيار " <em>إضافة</em> " ، حدد خيار " <em>إضافة رابط</em> " </li></ol><br><img src="https://blog.modplus.org/images/Blog/Blog24_7.png" alt="image7"><br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>باختصار</strong> - في مستكشف الحلول ، حدد الملف المطلوب (أو حتى الملفات. أو حتى المجلدات بأكملها) واسحب وإفلات في المشروع الجديد مع الضغط على مفتاح Alt.  عند السحب ، سترى أنه عندما تضغط على المفتاح Alt ، فإن المؤشر على الماوس سيتغير من علامة الجمع إلى السهم. <br>  <strong>محدث:</strong> لقد ارتكبت بعض التشويش في هذا القسم - لنقل عدة ملفات ، مع الاستمرار على <strong>Shift + Alt</strong> ! </li></ol><br><p style=";text-align:right;direction:rtl">  بعد الإجراء ، سنرى في المشروع الثاني ملف <em>Class1.cs</em> مع الأيقونة المقابلة (السهم الأزرق): </p><br><img src="https://blog.modplus.org/images/Blog/Blog24_8.png" alt="image8"><br><br><p style=";text-align:right;direction:rtl">  عند تحرير الكود في نافذة المحرر ، يمكنك أيضًا الاختيار في سياق أي مشروع لعرض الكود ، والذي يسمح لك بمشاهدة الكود الذي يتم تحريره برموز مختلفة للتجميع الشرطي: </p><br><img src="https://blog.modplus.org/images/Blog/Blog24_9.png" alt="image9"><br><br><p style=";text-align:right;direction:rtl">  بموجب هذا المخطط ، نقوم بإنشاء جميع المشاريع الأخرى (2017-2020).  اختراق الحياة - إذا قمت بسحب وإفلات الملفات في مستكشف الحلول ليس من المشروع الأساسي ، ولكن من المشروع حيث تم إدراجها بالفعل كرابط ، فلا يمكنك الضغط باستمرار على مفتاح Alt! </p><br><p style=";text-align:right;direction:rtl">  يعد الخيار الموضح جيدًا حتى يتم إضافة الإصدار الجديد من المكون الإضافي أو حتى تتم إضافة الملفات الجديدة إلى المشروع - يصبح كل هذا كئيباً للغاية.  ومؤخراً ، أدركت فجأة كيفية حل كل هذا بمشروع واحد ونحن نتحرك إلى الطريقة الثانية </p><br><h3 id="magiya-konfiguraciy" style=";text-align:right;direction:rtl">  سحر التكوين </h3><br><p style=";text-align:right;direction:rtl">  بعد القراءة هنا ، يمكنك أن تصيح ، "ماذا بحق الجحيم هل وصفت الطريقة الأولى ، إذا كانت المقالة على الفور عن الثانية؟!"  وقد وصفت كل شيء لجعله أكثر وضوحًا لماذا نحتاج إلى رموز تجميع مشروط وفي أي الأماكن تختلف مشاريعنا.  والآن أصبح الأمر أكثر وضوحًا بالنسبة لنا عن الفروق المحددة في المشروع التي نحتاج إلى تنفيذها ، ولم يتبق سوى مشروع واحد. </p><br><p style=";text-align:right;direction:rtl">  ولكي يكون كل شيء أكثر وضوحًا ، فلن ننشئ مشروعًا جديدًا ، بل سنجري تغييرات على مشروعنا الحالي ، الذي تم إنشاؤه بالطريقة الأولى. </p><br><p style=";text-align:right;direction:rtl">  أولاً وقبل كل شيء ، نزيل جميع المشاريع من الحل ، باستثناء المشروع الرئيسي (الذي يحتوي على الملفات مباشرة).  أي  مشاريع للإصدارات 2016-2020.  افتح مجلد الحل واحذف مجلدات هذه المشروعات هناك. </p><br><p style=";text-align:right;direction:rtl">  لدينا حل واحد متبقي في الحل - <strong>MySuperPluginForRevit_2015</strong> .  نفتح خصائصه و: </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  في علامة تبويب <em>التطبيق</em> ، قم بإزالة اللاحقة <strong>_2015</strong> من <strong>اسم</strong> التجميع (سيصبح السبب واضحًا) </li><li style=";text-align:right;direction:rtl">  في علامة التبويب " <em>التجميع</em> " ، احذف <strong>رمز الترجمة</strong> الشرطية <strong>R2015</strong> من الحقل المقابل </li></ol><br><blockquote style=";text-align:right;direction:rtl">  ملاحظة: في أحدث إصدار من Visual Studio ، هناك رموز تجميع مشروط لا يتم عرضها في نافذة خصائص المشروع ، على الرغم من وجودها.  إذا كان لديك هذا الخلل ، فأنت بحاجة إلى إزالتها يدويًا من ملف .csproj.  ومع ذلك ، ما زلنا نعمل فيه ، لذا تابع القراءة. </blockquote><p style=";text-align:right;direction:rtl">  أعد تسمية المشروع في نافذة <strong>مستكشف</strong> الحلول عن طريق إزالة اللاحقة <strong>_2015</strong> ثم قم بإزالة المشروع من الحل.  هذا ضروري للحفاظ على النظام ومشاعر الكمال!  نفتح مجلد حلنا ، ونعيد تسمية مجلد المشروع هناك بنفس الطريقة ونعيد تحميل المشروع مرة أخرى إلى الحل. </p><br><p style=";text-align:right;direction:rtl">  افتح مدير التهيئة.  نحن ، من حيث المبدأ ، لن نحتاج إلى تهيئة <strong>الإصدار</strong> ، لذلك نقوم بحذفه.  نقوم بإنشاء تكوينات جديدة بأسماء <strong>R2015</strong> ، <strong>R2016</strong> ، ... ، <strong>R2020</strong> مألوفة لنا بالفعل.  يرجى ملاحظة أنك لا تحتاج إلى نسخ المعلمات من التكوينات الأخرى ولا تحتاج إلى إنشاء تكوينات المشروع: </p><br><img src="https://blog.modplus.org/images/Blog/Blog24_10.png" alt="image10"><br><p style=";text-align:right;direction:rtl">  نذهب إلى مجلد المشروع ونفتح الملف بالملحق .csproj في محرر مناسب.  بالمناسبة ، يمكن أيضًا فتحه في Visual Studio - تحتاج إلى إلغاء تحميل المشروع وبعد ذلك سيكون العنصر المناسب في قائمة السياق: </p><br><img src="https://blog.modplus.org/images/Blog/Blog24_11.png" alt="image11"><br><br><p style=";text-align:right;direction:rtl">  يعد التحرير في Visual Studio هو الأفضل ، حيث أن المحرر يحاذي ويطالبك. </p><br><p style=";text-align:right;direction:rtl">  في الملف ، سنرى عناصر <a href="https://docs.microsoft.com/ru-ru/visualstudio/msbuild/propertygroup-element-msbuild%3Fview%3Dvs-2019" rel="nofollow">PropertyGroup</a> - في الأعلى هو عام ، ثم مع الشروط.  تقوم هذه العناصر بتعيين خصائص المشروع أثناء التجميع.  العنصر الأول ، الذي بدون شروط ، يحدد الخصائص العامة ، والعناصر ذات الشروط ، على التوالي ، يغير بعض الخصائص حسب التكوينات. </p><br><p style=";text-align:right;direction:rtl">  نذهب إلى العنصر (الأول) العام في <em>PropertyGroup</em> وننظر إلى خاصية <strong>AssemblyName</strong> - هذا هو اسم التجميع وينبغي أن يكون لدينا بدون اللاحقة <strong>_2015</strong> .  إذا كان هناك لاحقة ، فاحذفها. </p><br><p style=";text-align:right;direction:rtl">  نجد عنصرا مع الشرط </p><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' "</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  نحن لسنا في حاجة إليها - نحن نحذفها. </p><br><p style=";text-align:right;direction:rtl">  شرط الشرط </p><br><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' "</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  سيكون من الضروري للعمل في مرحلة تطوير وتصحيح التعليمات البرمجية.  يمكنك تغيير خصائصها حسب احتياجاتك - تعيين مسارات إخراج مختلفة ، وتغيير رموز الترجمة الشرطية ، إلخ. </p><br><p style=";text-align:right;direction:rtl">  الآن قم بإنشاء عناصر <em>PropertyGroup</em> جديدة لتكويناتنا.  في هذه العناصر ، نحتاج فقط إلى تعيين أربعة خصائص: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <strong>OutputPath</strong> هو مجلد الإخراج.  قمت بتعيين <strong>bin \ R20xx</strong> القيمة القياسية </li><li style=";text-align:right;direction:rtl">  <strong>DefineConstants</strong> - رموز التجميع الشرطي.  <strong>ضبط TRACE ؛ R20xx</strong> </li><li style=";text-align:right;direction:rtl">  <strong>TargetFrameworkVersion</strong> - إصدار النظام الأساسي.  بالنسبة للإصدارات المختلفة من واجهة برمجة تطبيقات Revit ، يجب تحديد منصات مختلفة. </li><li style=";text-align:right;direction:rtl">  اسم التجميع - اسم التجميع (أي اسم الملف).  يمكنك كتابة اسم التجميع المطلوب مباشرةً ، ولكن بالنسبة إلى العالمية ، أوصي بكتابة قيمة <strong>$ (AssemblyName) _20xx</strong> .  للقيام بذلك ، سبق أن أزلنا اللاحقة من اسم التجميع </li></ul><br><p style=";text-align:right;direction:rtl">  الميزة الأكثر أهمية لكل هذه العناصر هي أنه يمكن نسخها بشكل تافه إلى مشاريع أخرى دون تغييرها على الإطلاق.  في وقت لاحق من هذه المقالة سوف أرفق جميع محتويات ملف .csproj. </p><br><p style=";text-align:right;direction:rtl">  حسنًا ، اكتشفنا خصائص المشروع - إنه ليس بالأمر الصعب.  ولكن ماذا تفعل مع مكتبات المكونات (حزم NuGet).  إذا نظرنا إلى أبعد من ذلك ، <a href="https://docs.microsoft.com/ru-ru/visualstudio/msbuild/itemgroup-element-msbuild%3Fview%3Dvs-2019" rel="nofollow">فسنرى أن</a> مكتبات المكونات الإضافية محددة بواسطة عناصر <a href="https://docs.microsoft.com/ru-ru/visualstudio/msbuild/itemgroup-element-msbuild%3Fview%3Dvs-2019" rel="nofollow">ItemGroup</a> .  ولكن هذا هو الحظ السيئ - يعالج هذا العنصر بشكل غير صحيح الظروف ، مثل عنصر <em>PropertyGroup</em> .  ربما يكون هذا خلل في Visual Studio ، ولكن إذا قمت بتعيين العديد من عناصر <em>ItemGroup</em> مع شروط التكوين ، وأدرجت روابط مختلفة إلى حزم NuGet بالداخل ، ثم عند تغيير التكوين ، يتم توصيل جميع الحزم المحددة بالمشروع. </p><br><p style=";text-align:right;direction:rtl">  يأتي عنصر " <a href="https://docs.microsoft.com/ru-ru/visualstudio/msbuild/choose-element-msbuild%3Fview%3Dvs-2019" rel="nofollow">اختيار"</a> في مساعدتنا ، والذي يعمل وفقًا للمنطق المعتاد. </p><br><p style=";text-align:right;direction:rtl">  باستخدام عنصر <em>اختيار</em> ، نقوم بتعريف حزم NuGet المختلفة لتكوينات مختلفة: </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">جميع محتويات csproj</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><pre style=";text-align:right;direction:rtl"> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ToolsVersion</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"15.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/developer/msbuild/2003"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Import</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Project</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Exists('$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props')"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Configuration</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)' == '' "</span></span></span><span class="hljs-tag">&gt;</span></span>Debug<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Configuration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Platform</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Platform)' == '' "</span></span></span><span class="hljs-tag">&gt;</span></span>AnyCPU<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Platform</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProjectGuid</span></span></span><span class="hljs-tag">&gt;</span></span>{5AD738D6-4122-4E76-B865-BE7CE0F6B3EB}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ProjectGuid</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputType</span></span></span><span class="hljs-tag">&gt;</span></span>Library<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputType</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AppDesignerFolder</span></span></span><span class="hljs-tag">&gt;</span></span>Properties<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AppDesignerFolder</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RootNamespace</span></span></span><span class="hljs-tag">&gt;</span></span>MySuperPluginForRevit<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RootNamespace</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AssemblyName</span></span></span><span class="hljs-tag">&gt;</span></span>MySuperPluginForRevit<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AssemblyName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TargetFrameworkVersion</span></span></span><span class="hljs-tag">&gt;</span></span>v4.5<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TargetFrameworkVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FileAlignment</span></span></span><span class="hljs-tag">&gt;</span></span>512<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FileAlignment</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Deterministic</span></span></span><span class="hljs-tag">&gt;</span></span>true<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Deterministic</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DebugSymbols</span></span></span><span class="hljs-tag">&gt;</span></span>true<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DebugSymbols</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DebugType</span></span></span><span class="hljs-tag">&gt;</span></span>full<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DebugType</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Optimize</span></span></span><span class="hljs-tag">&gt;</span></span>false<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Optimize</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputPath</span></span></span><span class="hljs-tag">&gt;</span></span>bin\Debug\<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputPath</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefineConstants</span></span></span><span class="hljs-tag">&gt;</span></span>DEBUG;R2015<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefineConstants</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ErrorReport</span></span></span><span class="hljs-tag">&gt;</span></span>prompt<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ErrorReport</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">WarningLevel</span></span></span><span class="hljs-tag">&gt;</span></span>4<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">WarningLevel</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)|$(Platform)' == 'R2015|AnyCPU' "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputPath</span></span></span><span class="hljs-tag">&gt;</span></span>bin\R2015\<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputPath</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefineConstants</span></span></span><span class="hljs-tag">&gt;</span></span>TRACE;R2015<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefineConstants</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TargetFrameworkVersion</span></span></span><span class="hljs-tag">&gt;</span></span>v4.5<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TargetFrameworkVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AssemblyName</span></span></span><span class="hljs-tag">&gt;</span></span>$(AssemblyName)_2015<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AssemblyName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)|$(Platform)' == 'R2016|AnyCPU' "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputPath</span></span></span><span class="hljs-tag">&gt;</span></span>bin\R2016\<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputPath</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefineConstants</span></span></span><span class="hljs-tag">&gt;</span></span>TRACE;R2016<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefineConstants</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TargetFrameworkVersion</span></span></span><span class="hljs-tag">&gt;</span></span>v4.5<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TargetFrameworkVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AssemblyName</span></span></span><span class="hljs-tag">&gt;</span></span>$(AssemblyName)_2016<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AssemblyName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)|$(Platform)' == 'R2017|AnyCPU' "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputPath</span></span></span><span class="hljs-tag">&gt;</span></span>bin\R2017\<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputPath</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefineConstants</span></span></span><span class="hljs-tag">&gt;</span></span>TRACE;R2017<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefineConstants</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TargetFrameworkVersion</span></span></span><span class="hljs-tag">&gt;</span></span>v4.5.2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TargetFrameworkVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AssemblyName</span></span></span><span class="hljs-tag">&gt;</span></span>$(AssemblyName)_2017<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AssemblyName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)|$(Platform)' == 'R2018|AnyCPU' "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputPath</span></span></span><span class="hljs-tag">&gt;</span></span>bin\R2018\<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputPath</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefineConstants</span></span></span><span class="hljs-tag">&gt;</span></span>TRACE;R2018<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefineConstants</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TargetFrameworkVersion</span></span></span><span class="hljs-tag">&gt;</span></span>v4.5.2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TargetFrameworkVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AssemblyName</span></span></span><span class="hljs-tag">&gt;</span></span>$(AssemblyName)_2018<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AssemblyName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)|$(Platform)' == 'R2019|AnyCPU' "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputPath</span></span></span><span class="hljs-tag">&gt;</span></span>bin\R2019\<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputPath</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefineConstants</span></span></span><span class="hljs-tag">&gt;</span></span>TRACE;R2019<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefineConstants</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TargetFrameworkVersion</span></span></span><span class="hljs-tag">&gt;</span></span>v4.7<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TargetFrameworkVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AssemblyName</span></span></span><span class="hljs-tag">&gt;</span></span>$(AssemblyName)_2019<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AssemblyName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)|$(Platform)' == 'R2020|AnyCPU' "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputPath</span></span></span><span class="hljs-tag">&gt;</span></span>bin\R2020\<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">OutputPath</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefineConstants</span></span></span><span class="hljs-tag">&gt;</span></span>TRACE;R2020<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DefineConstants</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TargetFrameworkVersion</span></span></span><span class="hljs-tag">&gt;</span></span>v4.7<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TargetFrameworkVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AssemblyName</span></span></span><span class="hljs-tag">&gt;</span></span>$(AssemblyName)_2020<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AssemblyName</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Reference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"System"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Reference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"System.Core"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Reference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"System.Xml.Linq"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Reference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"System.Data.DataSetExtensions"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Reference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Microsoft.CSharp"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Reference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"System.Data"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Reference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"System.Net.Http"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Reference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"System.Xml"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Compile</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Class1.cs"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Compile</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Properties\AssemblyInfo.cs"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Choose</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">When</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)'=='R2015' "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ModPlus.Revit.API.2015"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ExcludeAssets</span></span></span><span class="hljs-tag">&gt;</span></span>runtime<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ExcludeAssets</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">When</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">When</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)'=='R2016' "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ModPlus.Revit.API.2016"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ExcludeAssets</span></span></span><span class="hljs-tag">&gt;</span></span>runtime<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ExcludeAssets</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">When</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">When</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)'=='R2017' "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ModPlus.Revit.API.2017"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ExcludeAssets</span></span></span><span class="hljs-tag">&gt;</span></span>runtime<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ExcludeAssets</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">When</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">When</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)'=='R2018' "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ModPlus.Revit.API.2018"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ExcludeAssets</span></span></span><span class="hljs-tag">&gt;</span></span>runtime<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ExcludeAssets</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">When</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">When</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)'=='R2019' "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ModPlus.Revit.API.2019"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ExcludeAssets</span></span></span><span class="hljs-tag">&gt;</span></span>runtime<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ExcludeAssets</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">When</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">When</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(Configuration)'=='R2020' or '$(Configuration)'=='Debug'"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ModPlus.Revit.API.2020"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ExcludeAssets</span></span></span><span class="hljs-tag">&gt;</span></span>runtime<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ExcludeAssets</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PackageReference</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">When</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Choose</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Import</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Project</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$(MSBuildToolsPath)\Microsoft.CSharp.targets"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Project</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> </div></div><br><p style=";text-align:right;direction:rtl">  يرجى ملاحظة أنه في أحد الشروط ، حددت تكوينين عبر <strong>OR (أو)</strong> .  وبالتالي ، سيتم توصيل الحزمة الضرورية أثناء تكوين <strong>Debug</strong> . </p><br><p style=";text-align:right;direction:rtl">  وهنا لدينا تقريبا كل شيء مثالي.  نقوم بإعادة تشغيل المشروع ، وتشغيل التهيئة التي نحتاجها ، واستدعاء عنصر " <em>استعادة جميع حزم NuGet</em> " في قائمة سياق الحل (وليس المشروع) ونرى كيف تتغير الحزم. </p><br><img src="https://blog.modplus.org/images/Blog/Blog24_12.png" alt="image12"><br><br><p style=";text-align:right;direction:rtl">  وفي هذه المرحلة وصلت إلى طريق مسدود - من أجل جمع كل التكوينات في وقت واحد ، يمكننا استخدام مجموعة الدُفعات (قائمة " <em>التجميع</em> " -&gt; " <em>تجميع الدُفعات</em> ") ، ولكن عند تبديل التكوينات ، لا تتم استعادة الحزم تلقائيًا.  وعند تجميع المشروع ، لا يحدث ذلك أيضًا ، رغم أنه من الناحية النظرية ، يجب أن يحدث.  لم أجد حلاً لهذه المشكلة بالوسائل القياسية.  وعلى الأرجح هذا أيضًا خطأ في Visual Studio. </p><br><p style=";text-align:right;direction:rtl">  لذلك ، للتجميع الدفعي ، تقرر استخدام نظام التجميع الآلي <a href="https://nuke.build/" rel="nofollow">Nuke</a> الخاص.  في الواقع ، لم أكن أرغب في ذلك ، لأنني اعتبر ذلك غير ضروري في إطار تطوير المكونات الإضافية ، لكن في الوقت الحالي لا أرى أي حل آخر.  والسؤال "لماذا بالضبط النووي؟" الجواب بسيط - نحن استخدامه في العمل. </p><br><p style=";text-align:right;direction:rtl">  لذا ، انتقل إلى مجلد حلنا (وليس المشروع) ، اضغط مع الاستمرار على <strong>مفتاح Shift</strong> وانقر بزر الماوس الأيمن على مكان فارغ في المجلد - في قائمة السياق ، حدد العنصر " <em>Open PowerShell window هنا</em> ". </p><br><img src="https://blog.modplus.org/images/Blog/Blog24_13.png" alt="image13"><br><br><p style=";text-align:right;direction:rtl">  إذا لم تكن مثبتة على <em>السلاح النووي</em> ، فاكتب الأمر أولاً </p><br><pre style=";text-align:right;direction:rtl"> <code class="powershell hljs">dotnet tool install Nuke.GlobalTool –global</code> </pre> <br><p style=";text-align:right;direction:rtl">  الآن اكتب الأمر <strong>nuke</strong> وسيُطلب منك تكوين <em>nuke</em> للمشروع الحالي.  لا أعرف كيفية كتابتها بشكل صحيح باللغة الروسية - تعذر العثور. سيتم كتابة ملف nuke باللغة الإنجليزية.  هل تريد إعداد بناء؟  [ص / ن] </p><br><p style=";text-align:right;direction:rtl">  اضغط على المفتاح Y ومن ثم سيكون هناك الإعدادات الفورية.  نحتاج إلى أبسط خيار باستخدام <strong>MSBuild</strong> ، لذلك نجيب كما في لقطة الشاشة: </p><br><img src="https://blog.modplus.org/images/Blog/Blog24_14.png" alt="image14"><br><br><p style=";text-align:right;direction:rtl">  دعنا ننتقل إلى Visual Studio ، والذي سيوفر لنا إعادة تحميل الحل ، حيث تمت إضافة مشروع جديد إليه.  نحن نعيد تشغيل الحل ونرى أن لدينا مشروع <strong>بناء</strong> لا نهتم إلا بملف واحد - <em>Build.cs</em> </p><br><img src="https://blog.modplus.org/images/Blog/Blog24_15.png" alt="image15"><br><br><p style=";text-align:right;direction:rtl">  افتح هذا الملف واكتب نصًا لإنشاء المشروع لجميع التكوينات.  حسنًا ، أو استخدم البرنامج النصي الخاص بي ، والذي يمكنك تعديله بنفسك: </p><br><pre style=";text-align:right;direction:rtl"> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.IO; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Nuke.Common; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Nuke.Common.Execution; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Nuke.Common.ProjectModel; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> Nuke.Common.Tools.MSBuild; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> Nuke.Common.Tools.MSBuild.MSBuildTasks; [CheckBuildProjectConfigurations] [UnsetVisualStudioEnvironmentVariables] <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Build</span></span> : <span class="hljs-title"><span class="hljs-title">NukeBuild</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> =&gt; Execute&lt;Build&gt;(x =&gt; x.Compile); [Solution] <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> Solution Solution; <span class="hljs-comment"><span class="hljs-comment">// If the solution name and the project (plugin) name are different, then indicate the project (plugin) name here string PluginName =&gt; Solution.Name; Target Compile =&gt; _ =&gt; _ .Executes(() =&gt; { var project = Solution.GetProject(PluginName); if (project == null) throw new FileNotFoundException("Not found!"); var build = new List&lt;string&gt;(); foreach (var (_, c) in project.Configurations) { var configuration = c.Split("|")[0]; if (configuration == "Debug" || build.Contains(configuration)) continue; Logger.Normal($"Configuration: {configuration}"); build.Add(configuration); MSBuild(_ =&gt; _ .SetProjectFile(project.Path) .SetConfiguration(configuration) .SetTargets("Restore")); MSBuild(_ =&gt; _ .SetProjectFile(project.Path) .SetConfiguration(configuration) .SetTargets("Rebuild")); } }); }</span></span></code> </pre> <br><p style=";text-align:right;direction:rtl">  نعود إلى نافذة PowerShell <strong>ونكتب</strong> الأمر <strong>nuke</strong> مرة أخرى (يمكنك كتابة الأمر <strong>nuke</strong> باستخدام <em>الهدف</em> المطلوب. لكن لدينا هدفًا واحدًا يبدأ افتراضيًا).  بعد الضغط على مفتاح Enter ، سنشعر بأننا متسللين حقيقيين ، لأنه كما في فيلم ، سيتم تجميع مشروعنا تلقائيًا لتكوينات مختلفة. </p><br><p style=";text-align:right;direction:rtl">  بالمناسبة ، يمكنك استخدام PowerShell مباشرة من Visual Studio (القائمة " <em>عرض</em> " -&gt; " <em>نوافذ أخرى</em> " -&gt; " <em>Package Manager Console</em> ") ، ولكن سيكون كل شيء أبيض وأسود ، وهو غير مناسب للغاية. </p><br><p style=";text-align:right;direction:rtl">  في هذا مقالي انتهى.  أنا متأكد من أنه يمكنك معرفة خيار أوتوكاد بنفسك.  آمل أن تجد المواد المعروضة هنا "زبائنها". </p><br><p style=";text-align:right;direction:rtl">  شكرا لاهتمامكم! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar482308/">https://habr.com/ru/post/ar482308/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar482296/index.html">البرنامج التعليمي من Ember.js تعليمي. سوبر الإيجارات التطبيق. الجزء 1.1</a></li>
<li><a href="../ar482298/index.html">مبرمج متعصب. كيفية الحفاظ على المزايا التنافسية وتصبح مرئية؟</a></li>
<li><a href="../ar482300/index.html">استكشاف جافا 14 السجلات</a></li>
<li><a href="../ar482302/index.html">ضباب نفسي عن العام الجديد</a></li>
<li><a href="../ar482304/index.html">صنع من أجل الصين: كيفية إنشاء لافتة مثالية للمستهلك الصيني</a></li>
<li><a href="../ar482310/index.html">نقل الحيوانات من القرن 21st</a></li>
<li><a href="../ar482314/index.html">بناء مجموعة PostgreSQL عالية التوفر باستخدام Patroni ، وغيرها ، HAProxy</a></li>
<li><a href="../ar482316/index.html">نقوم بتعقيد نماذج الخيال العلمي من الناحية الإجرائية: ما هي قابلية استخدامها وكيفية استخدامها</a></li>
<li><a href="../ar482318/index.html">لماذا يجب أن يصبح الصدأ لغة برمجة وظيفية</a></li>
<li><a href="../ar482328/index.html">V&V ليس للثأر</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>