<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèø‚Äç‚öñÔ∏è üçï üì∂ Simulation du navigateur physique üñïüèΩ ‚òùüèΩ üë©üèø‚Äç‚úàÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans cet article, je veux d√©crire les solutions existantes pour cr√©er des applications avec des simulations physiques, comparer leurs performances et ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Simulation du navigateur physique</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436192/"><img src="https://habrastorage.org/webt/yq/sd/ff/yqsdffig9ijz6ggtlxz5woecato.png"><br><br>  Dans cet article, je veux d√©crire les solutions existantes pour cr√©er des applications avec des simulations physiques, comparer leurs performances et les outils fournis. <br><a name="habracut"></a><br><h3>  Pr√©sentation </h3><br>  Les moteurs suivants seront pris en compte dans l'article: <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Ammo.js</a> <br>  <a href="">Cannon.js</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Oimo.js</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">box2dweb</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Unity3D WebGL</a> <br><br>  L'objectif principal √©tait de choisir le moteur le plus productif, le plus pratique et le plus l√©ger pour d√©velopper des jeux et des applications √† l'aide de simulations physiques. <br><br><h3>  Ammo.js </h3><br>  Il s'agit d'un portage du moteur physique Bullet en javascript utilisant le compilateur Emscripten et, selon les d√©veloppeurs, a des fonctionnalit√©s presque identiques.  La fonctionnalit√© d'Ammo.js est vraiment √©tendue.  Pour l'utiliser, vous avez besoin d'une biblioth√®que distincte pour la visualisation.  Le plus couramment utilis√© est Three.js.  De plus, chaque cycle de redessin devra synchroniser manuellement la position et la rotation de chaque objet sur la sc√®ne avec son mod√®le physique, le moteur ne le fait pas automatiquement. <br><br>  Quant aux performances, elles ne sont pas trop √©lev√©es, mais il n'y aura pas de baisses fps notables dans la plupart des projets. <br><br>  L'API peut parfois √™tre assez d√©routante et la documentation n'aide pas vraiment. <br>  En g√©n√©ral, un tr√®s bon outil qui continue de se d√©velopper et de se d√©velopper. <br><br><h3>  Cannon.js </h3><br>  Cannon.js est un moteur de physique l√©ger open source.  Contrairement au pr√©c√©dent, il a √©t√© √©crit √† l'origine en javascript et vous permet d'utiliser toutes ses fonctionnalit√©s et optimisations.  En fait, il est difficile de dire s'il s'agit d'un plus ou d'un moins, car le code compil√© peut √™tre beaucoup plus efficace qu'il n'est √©crit √† partir de z√©ro.  N√©anmoins, cannon.js est consid√©r√© comme plus compact, plus productif et aussi plus facile √† comprendre que ammo.js, mais il n'a pas autant de fonctions.  En pratique, leurs performances sont souvent √† peu pr√®s les m√™mes. <br><br>  Le processus de travail avec le moteur est assez simple: <br><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   var world = new CANNON.World(); world.gravity.set(0, 0, -9.82); //   (   ) //        var radius = 1; var sphereBody = new CANNON.Body({ mass: 5, position: new CANNON.Vec3(0, 0, 10), shape: new CANNON.Sphere(radius) }); world.addBody(sphereBody); var fixedTimeStep = 1.0 / 60.0; var maxSubSteps = 3; //    var lastTime; (function simloop(time){ requestAnimationFrame(simloop); if(lastTime !== undefined){ var dt = (time - lastTime) / 1000; world.step(fixedTimeStep, dt, maxSubSteps); } lastTime = time; })();</span></span></code> </pre> <br>  Une biblioth√®que graphique tierce est √©galement requise pour le travail, et chaque cycle de rendu devra d√©placer manuellement l'objet correspondant sur la sc√®ne √† l'emplacement de l'objet physique. <br><br><pre> <code class="javascript hljs">mesh.position.x = body.position.x; mesh.position.y = body.position.y; mesh.position.z = body.position.z; mesh.quaternion.x = body.quaternion.x; mesh.quaternion.y = body.quaternion.y; mesh.quaternion.z = body.quaternion.z; mesh.quaternion.w = body.quaternion.w;</code> </pre><br>  Pour le moment, le moteur ne se d√©veloppe pratiquement pas, la derni√®re activit√© dans le r√©f√©rentiel du projet il y a plus de 2 ans, et √† ce moment-l√†, le moteur commen√ßait √† peine √† se d√©velopper, donc √† certains endroits, il peut ne pas fonctionner. <br><br><h3>  Oimo.js </h3><br>  Oimo.js est une version du moteur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">OimoPhysics</a> r√©√©crite en pur javascript.  Compar√© √† d'autres solutions, il a de tr√®s bonnes performances et pr√©cision, mais il ne prend en charge que la g√©om√©trie primitive (cubes et sph√®res).  Il est inclus dans Babylon.js, un cadre pour le rendu de graphiques 2D et 3D, donc aucune biblioth√®que suppl√©mentaire n'est requise. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//   world = new OIMO.World({ timestep: 1/60, iterations: 8, broadphase: 2, worldscale: 1, random: true, info: false, gravity: [0,-9.8,0] }); //    var body = world.add({ type:'sphere', size:[1,1,1], pos:[0,0,0], rot:[0,0,90], move:true, density: 1, friction: 0.2, restitution: 0.2, belongsTo: 1, collidesWith: 0xffffffff; }); var body = world.add({ type:'jointHinge', body1: "b1", body2: "b1", }); world.step(); //           myMesh.position.copy( body.getPosition() ); myMesh.quaternion.copy( body.getQuaternion() );</span></span></code> </pre><br>  Un gros inconv√©nient du moteur n'est pas une documentation de tr√®s haute qualit√©, mais les d√©veloppeurs continuent de travailler dessus. <br><br>  Pour le moment, le moteur continue de se d√©velopper. <br><br><h3>  box2dweb </h3><br>  box2dweb est le port javascript box2d.  Comme son nom l'indique, il est sp√©cialis√© dans la simulation de la physique 2D.  Malgr√© cela, box2dweb est un outil assez puissant qui ne tra√Æne pas derri√®re ses homologues en trois dimensions.  Par exemple, le moteur comprend des syst√®mes extr√™mement pratiques pour d√©tecter les collisions et simuler les connexions (contrainte). <br><br>  En ce qui concerne les performances, vous devez vraiment essayer d'√©crire du code non optimal pour que les tirages fps apparaissent. <br><br>  Parmi les avantages, il convient √©galement de mentionner la simplicit√© de l'API et la documentation pratique. <br><br><h3>  Unity3d </h3><br>  Unity3D est un moteur de jeu multiplateforme populaire.  Comprend un simple √©diteur de glisser-d√©poser pratique et une bo√Æte √† outils compl√®te pour cr√©er du contenu 3D.  La derni√®re version du moteur d'√©criture de la logique de jeu prend en charge C #. <br><br>  Unity a une simulation physique int√©gr√©e, pour cela utilise le moteur <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PhysX</a> int√©gr√© de NVIDIA.  PhysX fournit des fonctionnalit√©s √©tendues pour simuler la physique des solides, des liquides et des tissus, et a de tr√®s bonnes performances, bien que de nombreux avantages soient annul√©s lorsque vous travaillez sur des acc√©l√©rateurs graphiques autres que NVIDIA.  Un fait extr√™mement agr√©able est que depuis le 3 d√©cembre 2018, le code source du moteur est disponible sous la licence ouverte BSD-3, mais le moteur est trop complexe pour essayer de le r√©√©crire par vous-m√™me ou pour comprendre son appareil, donc la documentation vous aidera mieux ici. <br><br>  Unity s'est retrouv√© sur cette liste, car il est possible d'y construire un projet sous WebGL.  Pour ce faire, s√©lectionnez simplement l'√©l√©ment appropri√© dans les param√®tres de g√©n√©ration. <br><br><img src="https://habrastorage.org/webt/tg/gc/il/tggcilkqw_p0jrnypfl4wbntmfg.png"><br><br>  N√©anmoins, la version WebGL d'Unity, en raison des sp√©cificit√©s de son architecture (traduction du code de C # en C ++ et plus loin en JavaScript), a un certain nombre de probl√®mes de performances, de consommation de m√©moire et de capacit√© de travail sur les appareils mobiles, et il ne semble pas que les d√©veloppeurs vont le faire quelque chose √† faire bient√¥t.  Par cons√©quent, cette option n'est pas populaire et je ne l'examinerai pas en d√©tail. <br><br><h3>  Comparaison des performances </h3><br>  Comparons les performances des moteurs par la fa√ßon dont ils traitent le traitement des collisions d'un grand nombre d'objets.  Le navigateur utilis√© est Firefox 64.0.2 x64. <br><table><tbody><tr><th>  Moteur </th><th>  fps lors du traitement de 100 objets </th><th>  fps lors du traitement de 500 objets </th><th>  fps lors du traitement de 1000 objets </th></tr><tr><td>  ammo.js </td><td>  40-50 </td><td>  25-27 </td><td>  15-25 </td></tr><tr><td>  cannon.js </td><td>  30-40 </td><td>  20-25 </td><td>  15-20 </td></tr><tr><td>  oimo.js </td><td>  45-55 </td><td>  35-40 </td><td>  35-40 </td></tr></tbody></table><br>  Selon les r√©sultats des tests, Oimo.js affiche les meilleures performances. <br><br>  Bien s√ªr, ces r√©sultats ne fournissent pas une √©valuation ad√©quate de la productivit√©, car ils d√©pendent de nombreux facteurs tiers, mais une √©tude √† part enti√®re n√©cessiterait beaucoup plus de temps, et je ne me suis pas fix√© un tel objectif.  De plus, il est √† noter que les performances de tous les moteurs compar√©s sont plut√¥t faibles, donc ces solutions ne conviennent pas pour √©crire loin de chaque jeu, mais sont bien adapt√©es pour cr√©er de petites d√©mos. <br><br><h3>  Conclusion </h3><br>  En g√©n√©ral, le choix d'un moteur particulier d√©pend de la t√¢che.  Si vous avez besoin d'un moteur facile √† comprendre et √† apprendre, Cannon.js ou Oimo.js.est bien adapt√©.  Si plus de fonctionnalit√©s sont n√©cessaires, il est pr√©f√©rable d'utiliser Ammo.js.  Dans certaines situations, si de grandes performances ne sont pas requises, vous pouvez essayer d'utiliser Unity. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr436192/">https://habr.com/ru/post/fr436192/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr436180/index.html">Ce que vous devez savoir si vous souhaitez passer de PHP √† Python</a></li>
<li><a href="../fr436182/index.html">Un autre √©v√©nement pour la position CSS: collant</a></li>
<li><a href="../fr436184/index.html">Slack pr√©voit de rendre public en contournant le m√©canisme traditionnel d'introduction en bourse</a></li>
<li><a href="../fr436186/index.html">Que penser lors de l'entretien NALSD</a></li>
<li><a href="../fr436188/index.html">La libert√© de voler √† port√©e de main avec le contr√¥leur intelligent DJI</a></li>
<li><a href="../fr436194/index.html">Fonctionnement du syst√®me de vid√©osurveillance Ivideon: pr√©sentation de l'application mobile</a></li>
<li><a href="../fr436196/index.html">Voyeurisme testeur: comment espionner correctement les gens et pourquoi il est n√©cessaire</a></li>
<li><a href="../fr436198/index.html">G√©n√©rateur de donjon de n≈ìud graphique</a></li>
<li><a href="../fr436200/index.html">D√©cision d'un tribunal am√©ricain: les autorit√©s n'ont pas le droit de forcer une personne √† d√©verrouiller le t√©l√©phone avec un doigt ou un visage</a></li>
<li><a href="../fr436202/index.html">J'ai perdu confiance dans le d√©veloppement, br√ªl√©, mais le culte de l'outil m'a sauv√©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>