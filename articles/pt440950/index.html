<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∏üèª üë®üèª‚Äçüîß üßìüèº Auditoria do Chrome 500: Parte 1. Aterragem üíë üßñüèª üë®üèº‚Äçü§ù‚Äçüë®üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As Ferramentas do desenvolvedor do Chrome t√™m a guia Auditoria. Nele, encontra-se uma ferramenta chamada Lighthouse, que serve para analisar o desempe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Auditoria do Chrome 500: Parte 1. Aterragem</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/440950/">  As Ferramentas do desenvolvedor do Chrome t√™m a guia Auditoria.  Nele, encontra-se uma ferramenta chamada Lighthouse, que serve para analisar o desempenho da aplica√ß√£o web. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ce/cc/oa/ceccoatvjkhcvrm65wqqjxbp2ag.png" alt="imagem"></div><br>  Decidi recentemente testar um aplicativo e fiquei horrorizado com os resultados.  Imediatamente em v√°rias se√ß√µes, a avalia√ß√£o ocorreu na zona vermelha.  Comecei a estudar o que havia de errado com minha inscri√ß√£o.  E encontrou nos resultados da an√°lise uma grande lista de recomenda√ß√µes muito √∫teis, cumpriu-as e obteve 500 pontos.  Como resultado, o aplicativo come√ßou a rodar muito mais r√°pido e revisei v√°rios conceitos sobre o m√©todo de cria√ß√£o de aplicativos.  E neste artigo, quero compartilhar as solu√ß√µes mais interessantes que encontrei. <br><a name="habracut"></a><br>  Se voc√™ n√£o conseguir instalar o chrome, poder√° instalar o farol a partir das npm e trabalhar com ele no console. <br><br>  No artigo, n√£o comecei a comparar cada recomenda√ß√£o com uma se√ß√£o espec√≠fica; em vez disso, dividi as se√ß√µes em solu√ß√µes que apliquei e de que Ligthouse gostava.  Isso n√£o √© tudo o que ele recomenda, √© apenas o mais interessante.  As recomenda√ß√µes restantes s√£o muito simples e, como o SEO, s√£o conhecidas por todos h√° muito tempo. <br><br><h2>  Desempenho </h2><br><h3>  Sele√ß√£o de servidor </h3><br>  Esse √© o conselho mais comum, mas √© esse o fundamento de toda a produtividade.  Felizmente, encontrar uma boa solu√ß√£o √© simples, √© qualquer data center de Camada 3 ou Camada 4. Esse status em si n√£o diz nada sobre velocidade, mas diz que os propriet√°rios cuidaram da qualidade. <br><br><h3>  Inicializa√ß√£o de aplicativo </h3><br>  Uma vez havia apenas html nos navegadores.  Ent√£o veio o javascript e a l√≥gica de neg√≥cios.  Hoje, existe tanta l√≥gica no cliente que o html n√£o consegue lidar com isso e n√£o √© mais necess√°rio.  Mas porque  se o navegador n√£o puder iniciar o carregamento do arquivo JavaScript, teremos que colocar um pequeno peda√ßo de html para iniciar nosso aplicativo. <br><br>  Idealmente, deve ser algo como isto: <br><br><pre><code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"manifest"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"./manifest.webmanifest"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shortcut icon"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"content/images/favicon.ico"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/x-icon"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http-equiv</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Content-Type"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/html; charset=utf-8"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"utf-8"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http-equiv</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"X-UA-Compatible"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"IE=edge,chrome=1"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width=device-width"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"theme-color"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#425566"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Description"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"loader"</span></span></span><span class="hljs-tag">&gt;</span></span> loading <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">async</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">// todo:     </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  N√£o deve haver nenhum conte√∫do nele, apenas o c√≥digo necess√°rio para inicializar o aplicativo, que carregar√° o pr√≥prio aplicativo e o conte√∫do. <br><br>  Este artigo n√£o considera otimiza√ß√£o para bots, mas direi que √© mais f√°cil capturar um bot espec√≠fico e fornecer o que um bot espec√≠fico precisa.  O pr√≥prio bot do Google entender√° tudo, desde o conte√∫do que ser√° carregado posteriormente. <br><br><h3>  Usar tela inicial </h3><br>  Todos n√≥s estamos acostumados a exibir telas ao carregar em aplicativos m√≥veis e at√© mesmo ao carregar o sistema operacional, mas poucas pessoas usam telas em um aplicativo da web.  √â isso que colocaremos no bloco do carregador para que o usu√°rio n√£o fique entediado enquanto o aplicativo estiver carregando. <br><br>  Como tela inicial, como op√ß√£o, voc√™ pode usar anima√ß√£o css ou apenas uma imagem, como √© feito em telefones celulares.  A √∫nica condi√ß√£o √© que deve ser muito leve. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/73/qr/hf/73qrhfy7z3rrngzugo6b0-m4qiq.png" alt="imagem"></div><br>  O que n√≥s ganhamos?  Usu√°rios com Internet lenta receber√£o instantaneamente uma rea√ß√£o do site, eles n√£o ir√£o admirar a tela branca e se perguntar√£o se o site est√° funcionando ou n√£o.  Os usu√°rios com Internet r√°pida provavelmente nem a ver√£o, mas eles t√™m defasagens na Internet. <br><br>  Como um exemplo interessante do uso de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">telas de apresenta√ß√£o</a> , apresentarei o site da <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">esta√ß√£o dock</a> , onde uma onda agrad√°vel adorna um carregamento muito longo do site.  De fato, √© assim que as pessoas com Internet lenta ver√£o seu aplicativo. <br><br>  E imediatamente apresso-me a incomodar aqueles que pensam que salpicar uma tela pode enganar o Lighthouse e colocar uma aplica√ß√£o pesada atr√°s dele.  Ele v√™ tudo e n√£o lhe dar√° uma boa nota para uma aplica√ß√£o pesada. <br><br><h3>  Inicializa√ß√£o de aplicativo </h3><br>  Agora que estamos distraindo a aten√ß√£o do usu√°rio com fotos, √© hora de baixar o aplicativo.  Para fazer isso, inserimos o seguinte script dentro do bloco de scripts. <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// 1.  ServiceWorker,     PWA if (navigator.serviceWorker &amp;&amp; !navigator.serviceWorker.controller) { navigator.serviceWorker.register('pwabuider-sw.js', { scope: './' }); } // 2.    [ "./content/font.css", "./content/grid.css" ].forEach(function(url){ var style = document.createElement("link"); style.href = url; style.rel = "stylesheet"; document.head.appendChild(style); }); // 3.    [ "./scripts/polyfills.min.js", //  vendors.min.js "./scripts/main.min.js" // spa  ].forEach(function(url){ const script = document.createElement("script"); script.src = url; script.async = false; document.head.appendChild(script); });</span></span></code> </pre><br>  Em que consiste: <br><br><ol><li>  <b>Conex√£o PWA</b> - consideraremos na se√ß√£o correspondente abaixo.  Voc√™ precisa conect√°-lo o mais r√°pido poss√≠vel, porque √© poss√≠vel que o pwa j√° tenha tudo o necess√°rio para o site funcionar e n√£o haver√° mais solicita√ß√µes ao servidor. </li><li>  <b>Conectar estilos</b> - conecte estilos conforme necess√°rio.  Idealmente, esse c√≥digo n√£o deveria existir e os estilos devem conectar seus componentes conforme necess√°rio. </li><li>  <b>Conectar scripts</b> - conecte o programa.  Ele deve consistir em apenas dois desses scripts.  Todos os outros scripts (mapas, an√°lises, bibliotecas) que n√£o afetam a exibi√ß√£o da primeira tela (n√£o a p√°gina inteira) s√£o carregados ap√≥s desenhar a primeira tela do aplicativo.  O componente de an√°lise j√° deve carregar a an√°lise ap√≥s o carregamento do programa.  A qualidade da an√°lise n√£o ser√° afetada por isso, e os sistemas de an√°lise suportam o carregamento ap√≥s o download do programa.  Os cart√µes s√≥ devem ser imersos depois que o usu√°rio os digitaliza e eles atingem a tela.  Com bibliotecas de terceiros necess√°rias para componentes espec√≠ficos funcionarem da mesma forma. </li></ol><br>  Como resultado, mudando um pouco as prioridades, obtemos uma renderiza√ß√£o r√°pida do aplicativo.  Assim, os usu√°rios e os rob√¥s de pesquisa est√£o satisfeitos com a velocidade e, ao mesmo tempo, n√£o infringem as an√°lises. <br><br><h3>  Carregamento e renderiza√ß√£o pregui√ßosos </h3><br>  Um par√¢metro muito importante √© a rapidez com que a primeira tela √© desenhada e o usu√°rio pode come√ßar a interagir com esta p√°gina.  E aqui vale a pena usar as seguintes otimiza√ß√µes: <br><br>  1. Renderiza√ß√£o pregui√ßosa.  √â necess√°rio desenhar apenas a parte da p√°gina em que o usu√°rio est√° olhando, e a renderiza√ß√£o de componentes pesados ‚Äã‚Äãou imagens j√° deve ser feita quando o usu√°rio pular para eles. <br><br>  Uma boa solu√ß√£o aqui s√£o os componentes lazy-block e lazy-img: <br><br><pre> <code class="javascript hljs">&lt;div&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"></span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">p</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;lazy-img src=<span class="hljs-string"><span class="hljs-string">"..."</span></span>/&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;lazy-block&gt;   &lt;<span class="hljs-regexp"><span class="hljs-regexp">/lazy-block&gt; &lt;lazy-block&gt;   &lt;/</span></span>lazy-block&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">lazy-block</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">   </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">lazy-block</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  O ponto √© que eles monitorar√£o a rolagem do usu√°rio e, se o componente cair na √°rea da tela, ele ser√° desenhado.  Isso pode ser comparado com a t√©cnica de rolagem virtual ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">exemplo</a> ), que √© familiar a todos nas paredes das redes sociais.  Podemos rolar para sempre, mas eles nunca diminuem a velocidade. <br><br>  Mas n√£o se esque√ßa do bot do Google, que v√™ spa, mas n√£o rola a p√°gina inteira.  Portanto, se voc√™ n√£o tomar cuidado, ele n√£o ver√° seu conte√∫do. <br><br>  2. Se algum dos componentes usar uma depend√™ncia externa, ele precisar√° carreg√°-lo, conforme necess√°rio.  Por exemplo, pode ser um bloco com mapas, gr√°ficos ou gr√°ficos 3D.  E, recentemente, uma maneira de fazer isso no JS tem sido muito simples: <br><br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Demo</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.init(); } private <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> init() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-built_in"><span class="hljs-built_in">module</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>(<span class="hljs-string"><span class="hljs-string">'./external.mjs'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   module.default(); module.doStuff(); } }</span></span></code> </pre><br>  Como resultado, o usu√°rio carrega apenas o que ele precisa, o que economiza bastante recursos do usu√°rio e do servidor. <br><br><h3>  Minimiza√ß√£o de pacote </h3><br>  E ... sim, voc√™ n√£o pensou nisso, n√£o se trata de minifica√ß√£o no Terser (UglifyJS), mas de fornecer apenas o necess√°rio para um navegador espec√≠fico. <br><br>  O fato √© que os navegadores est√£o em constante evolu√ß√£o, eles t√™m uma nova API, os desenvolvedores est√£o come√ßando a us√°-la e, para compatibilidade com navegadores mais antigos, conectam polyfills e transpilers.  Como resultado, surge o problema de que os usu√°rios com os navegadores mais recentes, que s√£o cerca de 80%, obtenham c√≥digo projetado para usu√°rios do IE11, transpilados e com polyfiles. <br><br>  O problema com esse c√≥digo √© que ele cont√©m muito texto extra e seu desempenho √© 3 vezes menor (de acordo com minhas estimativas subjetivas) do que o original.  √â muito mais l√≥gico criar v√°rios pacotes para diferentes vers√µes de navegadores.  Um pacote com o c√≥digo ES2017 para o Chrome 73 com um m√≠nimo de polyfiles, um pacote com ES5 para o IE11 com um m√≠nimo de polyfiles etc. <br><br>  Eu escrevi sobre como coletar pacotes de vers√µes diferentes ao mesmo tempo em um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo anterior</a> .  E para selecionar a vers√£o correta no navegador, modificamos levemente o script de conex√£o do programa: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> esVersion = <span class="hljs-string"><span class="hljs-string">".es2017"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">eval</span></span>(<span class="hljs-string"><span class="hljs-string">'"use strict"; class foo {}'</span></span>); }<span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(e){ esVersion = <span class="hljs-string"><span class="hljs-string">".es5"</span></span>; } [ <span class="hljs-string"><span class="hljs-string">"./scripts/polyfills"</span></span> + esVersion + <span class="hljs-string"><span class="hljs-string">".min.js"</span></span>, <span class="hljs-string"><span class="hljs-string">"./scripts/main"</span></span> + esVersion + <span class="hljs-string"><span class="hljs-string">".min.js"</span></span> ].forEach(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">url</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> script = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">"script"</span></span>); script.src = url; script.async = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.head.appendChild(script); });</code> </pre><br>  Como resultado, os usu√°rios de navegadores modernos receber√£o o programa mais leve e produtivo, e os usu√°rios do IE11 obter√£o o que merecem. <br><br><div class="spoiler">  <b class="spoiler_title">Outra maneira interessante de minificar</b> <div class="spoiler_text">  Uma <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">biblioteca</a> muito interessante <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">para reduzir pacotes em 50%</a> , infelizmente com resultados imprevis√≠veis. <br></div></div><br><h3>  Minimiza√ß√£o de c√≥digo </h3><br>  Um problema muito popular √© quando os desenvolvedores come√ßam a conectar tudo em que seus olhos caem.  Como resultado, √†s vezes voc√™ pode assistir a programas com peso de 5 a 15 mb ou mais.  Portanto, a escolha das bibliotecas deve ser abordada com sabedoria. <br><br>  Em vez de estruturas pesadas como Angular ou React, √© melhor escolher suas contrapartes mais leves: vue, pr√©-reagir, mithril, etc.  Eles n√£o s√£o de forma alguma inferiores aos seus eminentes colegas, mas a economia no tamanho do pacote pode ser v√°rias vezes. <br><br>  Evite usar bibliotecas pesadas.  Em vez de usar bibliotecas como jquery, lodash, moment, rxjs e qualquer outra com tamanho reduzido&gt; 100kb, tente estudar os algoritmos mais profundamente e encontrar uma solu√ß√£o em JS nativo.  Como regra, voc√™ pode escrever mais simples em um script nativo e se livrar de uma depend√™ncia pesada desnecess√°ria. <br><br><h3>  Minifica√ß√£o de imagem </h3><br>  Provavelmente, todos os desenvolvedores de front-end conhecem o formato de imagem webp e tamb√©m a necessidade de reduzir as imagens para o tamanho de exibi√ß√£o necess√°rio.  Mas, por alguma raz√£o, quase todos os desenvolvedores ignoram isso.  E a raz√£o para isso, na minha opini√£o, √© extremamente simples, as pessoas n√£o entendem como isso √© feito e aplicado em diferentes navegadores. <br><br>  Portanto, aqui darei uma receita muito simples para resolver todos os problemas com fotos.  Esta receita √© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">baseada na ferramenta de processamento e convers√£o de imagens Sharp</a> .  Destaca-se por um pipeline muito ponderado, devido ao qual a velocidade de processamento de imagem √© 30 a 40 vezes maior que a dos an√°logos.  E o pr√≥prio tempo de montagem de centenas de imagens de grandes fontes em diferentes tamanhos e formatos √© compar√°vel √† velocidade de montagem de um front-end moderno. <br><br>  Para usar o Sharp, voc√™ precisa escrever um script, eu o uso em conjunto com a glob para pesquisar recursivamente imagens no diret√≥rio com as imagens de origem e oculto o pr√≥prio script do utilit√°rio para executar tarefas gulp.  Um exemplo da minha montagem: <br><br><pre> <code class="javascript hljs">gulp.task(<span class="hljs-string"><span class="hljs-string">'core-min-images'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> () =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> fs = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'fs'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> path = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'path'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> glob = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'glob'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> sharp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'sharp'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 1.          glob const files = await new Promise((resolve, reject) =&gt; { glob('src/content/**/*.{jpeg,jpg,png}', {}, async (er, files) =&gt; { !er ? resolve(files) : reject(er); }); }); // 2.      let completed = 1; await Promise.all(files.map(async (file) =&gt; { const outFile = file.replace(/^src/, 'www'); const outDir = path.dirname(outFile); // 2.1.       if (!fs.existsSync(outDir)) { fs.mkdirSync(outDir, { recursive: true }); } // 2.2.    const origin = sharp(file); // 2.3.     1920     //       jpg/png  webp    (80%) const size1920 = origin.resize({ width: 1920 }); await size1920.toFile(outFile.replace(/\.(jpeg|jpg|png)$/, '-1920w.$1')); await size1920.toFile(outFile.replace(/\.(jpeg|jpg|png)$/, '-1920w.webp')); // 2.4.    480   const size480 = origin.resize({ width: 480 }); await size480.toFile(outFile.replace(/\.(jpeg|jpg|png)$/, '-480w.$1')); await size480.toFile(outFile.replace(/\.(jpeg|jpg|png)$/, '-480w.webp')); // 2.5.    120   const size120 = origin.resize({ width: 120 }); await size120.toFile(outFile.replace(/\.(jpeg|jpg|png)$/, '-120w.$1')); await size120.toFile(outFile.replace(/\.(jpeg|jpg|png)$/, '-120w.webp')); // 2.6.      console.log(`Complete image ${completed++} of ${files.length}:`, file); })); });</span></span></code> </pre><br>  Como resultado, obtemos imagens otimizadas para diferentes tamanhos de tela e navegadores diferentes de cada imagem de origem de tamanho grande.  Agora precisamos aprender a us√°-los.  Aqui tamb√©m tudo √© simples, se anteriormente escrevemos assim: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"sample.jpg"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre><br>  Agora precisamos escrever assim: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/sample-480w.webp"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/webp"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/sample-480w.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/jpeg"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/sample-480w.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" !"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  E ent√£o o pr√≥prio navegador escolher√° o formato mais conveniente para ele.  Voc√™ tamb√©m pode adicionar esta op√ß√£o com imagens responsivas: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/sample-480w.webp, img/sample-960w.webp 2x"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/webp"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">source</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">srcset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/sample-480w.jpg, img/sample-960w.webp 2x"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"image/jpeg"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img/sample-480w.jpg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alt</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" !"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">picture</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  E levando em conta o fato de que agora √© poss√≠vel gerar imagens no est√°gio de montagem do aplicativo, todas as imagens ter√£o o mesmo conjunto de formatos e resolu√ß√µes, o que significa que podemos unificar essa l√≥gica e ocult√°-la atr√°s de algum componente, por exemplo, o mesmo <code>&lt;lazy-img src="img/sample.jpg"&gt;</code> . <br><br><h3>  Minifica√ß√£o de Estilo </h3><br>  Fa√ßa o download apenas dos estilos que usam seus componentes.  Idealmente, quando os estilos est√£o vinculados aos componentes e s√£o incorporados na casa somente quando o pr√≥prio componente √© desenhado. <br><br>  Minimize os nomes das classes.  O tamanho dos seletores aninhados ou BEM nos estilos afeta negativamente o tamanho do seu aplicativo.  Atualmente, ele est√° cheio de ferramentas que n√£o geram estilos com seletores exclusivos: JSS, Componentes com estilo, M√≥dulos CSS. <br><br><h3>  Minifica√ß√£o em casa </h3><br>  Todos conhecemos o html, mas poucos pensam que isso seja apenas uma abstra√ß√£o simples sobre uma √°rvore de objetos muito complexos.  A cadeia de heran√ßa para o elemento div √© a seguinte: <br><br> <code>HTMLDivElement -&gt; HTMLElement -&gt; Element -&gt; Node -&gt; EventTarget <br></code> <br>  E cada objeto nesta cadeia tem 10 a 100 propriedades e m√©todos que consomem muita mem√≥ria.  E toda essa riqueza deve ser levada em considera√ß√£o pelo mecanismo do DOM para criar a imagem que vemos.  Portanto, tente n√£o usar elementos em excesso na casa. <br><br>  Minimize o HTML.  Exclua tudo o que voc√™ usa para formatar html no momento da reda√ß√£o.  O fato √© que os espa√ßos usados ‚Äã‚Äãao escrever c√≥digo no navegador tamb√©m se transformam em objetos em casa: <br><br> <code>TextNode -&gt; Node -&gt; EventTarget <br></code> <br>  Excluir coment√°rios.  Eles tamb√©m s√£o um elemento da casa e consomem muitos recursos: <br><br> <code>Comment -&gt; CharacterData -&gt; Node -&gt; EventTarget <br></code> <br>  O uso de mecanismos de modelo jsx pode ser uma boa pr√°tica.  O fato √© que, ao compil√°-lo, ele se transforma em c√≥digo js nativo que n√£o gera espa√ßos, coment√°rios e nunca se engana em abrir e fechar tags. <br><br>  M√° pr√°tica, eu diria mesmo um pesadelo, √© o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">facebook.com</a> .  Aqui est√£o os fragmentos html: <br><br><div class="spoiler">  <b class="spoiler_title">Snippet de p√°gina em HTML</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-comment"><span class="hljs-comment">&lt;!--  1 --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_42ef"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_25-w"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_17pg"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1rwk"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" _129h"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" _3d2q _65tb _7c_r _4w79"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_5rp7"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1p1t"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1p1v"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"placeholder-77m1n"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"white-space: pre-wrap;"</span></span></span><span class="hljs-tag">&gt;</span></span>  ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1obb"</span></span></span><span class="hljs-tag">&gt;</span></span> ...li... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--  2 --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_3nd0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1mwp navigationFocus _395 _4c_p _5bu_ _34nd _21mu _5yk1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">role</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"presentation"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js_u"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_5yk2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tabindex</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-1"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_5rp7"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1p1t"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1p1v"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"placeholder-6t6up"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"white-space: pre-wrap;"</span></span></span><span class="hljs-tag">&gt;</span></span>    ? <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_5rpb"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">aria-autocomplete</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"list"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">aria-controls</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"js_1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">aria-describedby</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"placeholder-6t6up"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">aria-multiline</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"notranslate _5rpu"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">contenteditable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-testid</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"status-attachment-mentions-input"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">role</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"textbox"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">spellcheck</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"outline: none; user-select: text; white-space: pre-wrap; overflow-wrap: break-word;"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-contents</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-block</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-editor</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"6t6up"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-offset-key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"6b02n-0-0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-offset-key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"6b02n-0-0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"_1mf _1mj"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-offset-key</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"6b02n-0-0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">br</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  Como voc√™ pode ver, um aninhamento de dez elementos √© usado, mas esse aninhamento n√£o funciona.  O primeiro fragmento exibe apenas o texto "Escreva um coment√°rio ..." e os √≠cones, o segundo "O que h√° de novo?".  Como resultado de um uso n√£o racional do DOM, todo o desempenho do mecanismo de modelagem React √© simplesmente negado, e o site se torna um dos mais lentos que eu conhe√ßo. <br><br><h2>  Progressive Web App </h2><br><h3>  Arquivo de manifesto </h3><br>  O PWA permite que voc√™ use seu aplicativo Web como aplicativo nativo.  Quando voc√™ ativa o suporte no site, o bot√£o para instalar o site no dispositivo (Windows, Android, iOS) aparece no menu do navegador, ap√≥s o qual come√ßa a se comportar como nativo e funciona offline, e tudo isso ignorando as lojas de aplicativos. <br><br>  Ativar o suporte ao PWA no site √© realmente muito simples.  Basta incluir um link para o arquivo de manifesto na p√°gina html.  O arquivo de manifesto pode ser gerado em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pwabuilder.com</a> . <br><br>  N√£o vou parar em detalhes no processo de conex√£o, porque  Esta se√ß√£o √© digna de um grande artigo separado e no Habr√© j√° existem artigos muito bons. <br><br><h3>  Trabalhador de servi√ßo </h3><br>  A configura√ß√£o do PWA n√£o termina ao conectar o arquivo de manifesto, tamb√©m √© necess√°rio conectar o ServiceWorker, que ser√° respons√°vel por trabalhar offline. <br><br>  Um c√≥digo de exemplo pode ser encontrado em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">pwabuilder.com</a> : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// This is the service worker with the Cache-first network const CACHE = "pwabuilder-precache"; const precacheFiles = [ /* Add an array of files to precache for your app */ ]; self.addEventListener("install", function (event) { console.log("[PWA Builder] Install Event processing"); console.log("[PWA Builder] Skip waiting on install"); self.skipWaiting(); event.waitUntil( caches.open(CACHE).then(function (cache) { console.log("[PWA Builder] Caching pages during install"); return cache.addAll(precacheFiles); }) ); }); // Allow sw to control of current page self.addEventListener("activate", function (event) { console.log("[PWA Builder] Claiming clients for current page"); event.waitUntil(self.clients.claim()); }); // If any fetch fails, it will look for the request in the cache and serve it from there first self.addEventListener("fetch", function (event) { if (event.request.method !== "GET") return; event.respondWith( fromCache(event.request).then( function (response) { // The response was found in the cache so we responde with it and update the entry // This is where we call the server to get the newest version of the // file to use the next time we show view event.waitUntil( fetch(event.request).then(function (response) { return updateCache(event.request, response); }) ); return response; }, function () { // The response was not found in the cache so we look for it on the server return fetch(event.request) .then(function (response) { // If request was success, add or update it in the cache event.waitUntil(updateCache(event.request, response.clone())); return response; }) .catch(function (error) { console.log("[PWA Builder] Network request failed and no cache." + error); }); } ) ); }); function fromCache(request) { // Check to see if you have it in the cache // Return response // If not in the cache, then return return caches.open(CACHE).then(function (cache) { return cache.match(request).then(function (matching) { if (!matching || matching.status === 404) { return Promise.reject("no-match"); } return matching; }); }); } function updateCache(request, response) { return caches.open(CACHE).then(function (cache) { return cache.put(request, response); }); }</span></span></code> </pre><br>  Como voc√™ pode ver no c√≥digo, todas as respostas do servidor s√£o armazenadas em cache, mas o cache n√£o √© usado online.  E eles come√ßam a ser usados ‚Äã‚Äãquando a conex√£o com o servidor se esgota.  Assim, o usu√°rio que navega no site pode n√£o perceber o desaparecimento de curto prazo da Internet e, mesmo que a Internet tenha desaparecido por um longo tempo, o usu√°rio ainda tem a oportunidade de mover dados j√° armazenados em cache. <br><br>  O script acima √© simples, mas adequado apenas para p√°ginas de destino e √© apenas um ponto de partida para escrever um trabalhador para um aplicativo Web mais s√©rio.  Mas mais sobre isso na segunda parte deste artigo.  Al√©m disso, a tecnologia √© conveniente, pois n√£o interrompe o trabalho em navegadores antigos, ou seja,  nos navegadores no n√≠vel IE11, voc√™ n√£o precisa reescrever a l√≥gica, o modo offline simplesmente n√£o funcionar√°. <br><br><h2>  Acessibilidade </h2><br><h3>  Corre√ß√£o de atributos para pessoas com necessidades especiais </h3><br>  Existem muito poucas pessoas com sa√∫de perfeita, mas infelizmente h√° muitas pessoas com problemas de sa√∫de, incluindo a vis√£o.  E para facilitar o uso dessas pessoas pelo aplicativo da Web, basta seguir regras bastante simples: <br><br><ul><li>  <b>Use cores contrastantes suficientes.</b>  Segundo estat√≠sticas do Minist√©rio da Sa√∫de, 20% das pessoas t√™m problemas de vis√£o.  Um baixo contraste de sites complica apenas suas vidas e pessoas saud√°veis ‚Äã‚Äãaumentam a fadiga. </li><li>  <b>Organize o √≠ndice de tabula√ß√£o.</b>  Permite que voc√™ use o site sem um mouse e dispositivos de toque.  O arranjo adequado de transi√ß√µes usando o teclado simplifica bastante o processo de preenchimento de formul√°rios. </li><li>  <b>Atributo Aria-label nos links.</b>  Permite que os leitores de tela leiam texto dentro de um atributo. </li><li>  <b>O atributo alt nas imagens.</b>  Semelhante ao anterior.  Al√©m disso, ele exibir√° texto se n√£o for poss√≠vel baixar a imagem. </li><li>  <b>O idioma do documento.</b>  Marque a tag html com o atributo com idioma lang = "c√≥digo do idioma".  Isso ajudar√° as ferramentas auxiliares configuradas corretamente para o trabalho. </li></ul><br>  Como voc√™ pode ver, os requisitos s√£o poucos e simples de cumprir.  Mas, por alguma raz√£o, a maioria dos desenvolvedores ignora essas regras, mesmo quando se trata de sites especializados para pessoas com necessidades especiais. <br><br><h2>  Melhores pr√°ticas </h2><br><h3>  Separe o aplicativo front-end do aplicativo do servidor </h3><br>  Primeiro, se voc√™ ainda estiver renderizando html no servidor, pare de fazer isso j√°.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transferir o processo de renderiza√ß√£o para o cliente em duas ordens de grandeza reduz a carga no servidor e, como resultado, o custo de suporte ao aplicativo do servidor. </font><font style="vertical-align: inherit;">E os clientes obt√™m um aplicativo com rea√ß√£o instant√¢nea a suas a√ß√µes.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Segundo, separe o aplicativo SPA do cliente do aplicativo back-end. </font><font style="vertical-align: inherit;">Voc√™ n√£o mant√©m juntos o aplicativo de servidor e o aplicativo do Windows, o aplicativo Android e o aplicativo iOS. </font><font style="vertical-align: inherit;">Portanto, o aplicativo da Web h√° muito tempo √© um aplicativo independente que pode funcionar sem um servidor e at√© offline. </font><font style="vertical-align: inherit;">O erro mais popular que vejo √© quando uma estrutura de back-end como Spring ou Asp.Net est√° envolvida na distribui√ß√£o de est√°tica, incluindo o aplicativo SPA montado. </font><font style="vertical-align: inherit;">√â hora de parar de fazer isso e remover a est√°tica e o SPA em um microsservi√ßo separado e ocult√°-la atr√°s de um servidor da web especializado para distribuir est√°tica, por exemplo, nginx.</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7j/oc/uf/7jocufzclwsldlrr7jnybguxs18.png" alt="imagem"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado, cada tecnologia far√° o que deve e far√° melhor. </font><font style="vertical-align: inherit;">O Nginx distribuir√° a est√°tica com os cabe√ßalhos corretos e a velocidade m√°xima, o aplicativo do servidor preparar√° os dados para o cliente, o dispositivo do cliente coletar√° tudo juntos e exibir√° para o usu√°rio.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Configurando servidor proxy, HTTP / 2, gzip, cache </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seu aplicativo de back-end n√£o deve se comunicar diretamente com o cliente; √© melhor ocult√°-lo atr√°s de portas especializadas, por exemplo, o servidor proxy Nginx. </font><font style="vertical-align: inherit;">E nele voc√™ j√° pode configurar tudo o que √© necess√°rio para uma comunica√ß√£o confort√°vel entre o dispositivo cliente e o servidor.</font></font><br><br><ul><li> <b>  SSL.</b>     SSL    ,  ,           ,  Nginx.   Nginx  Asp.Net Core      ,    . </li><li> <b>GZIP</b>      .            . </li><li> <b>Cache</b>    .     Get, Head   ,       . </li><li> <b>   </b>      . </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Novamente, devido ao fato de esta parte ser digna de um grande artigo separado, n√£o descrevo todo o processo de configura√ß√£o em detalhes, mas recomendo um site para </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gerar a configura√ß√£o nginx nginxconfig.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SEO </font></font></h2><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Crie meta tags em html e use marca√ß√£o sem√¢ntica </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todo mundo j√° sabe disso e, como regra, eles o usam. </font><font style="vertical-align: inherit;">Portanto, para corrigi-lo, basta olhar para a lista de coment√°rios do Lighthouse e corrigi-lo.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O fim </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä primeira vista, pode parecer que muitas informa√ß√µes aqui escritas s√£o dif√≠ceis de observar, mas na verdade n√£o s√£o. </font><font style="vertical-align: inherit;">Todas essas informa√ß√µes refletem o estado atual do desenvolvimento do front-end e o cumprimento de todas essas regras quase n√£o leva tempo. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este artigo n√£o descreve como otimizar a √°rea administrativa, o formul√°rio e outras empresas, mas esta ser√° a segunda parte.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt440950/">https://habr.com/ru/post/pt440950/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt440940/index.html">Redux - revisando a l√≥gica e as a√ß√µes do redutor</a></li>
<li><a href="../pt440942/index.html">BYD anuncia crescimento de vendas de ve√≠culos el√©tricos plug√°veis</a></li>
<li><a href="../pt440944/index.html">Como escrever rapidamente um site ou aplicativo da Web e n√£o ser pego em colecionadores</a></li>
<li><a href="../pt440946/index.html">Rollup: voc√™ j√° pode criar aplicativos</a></li>
<li><a href="../pt440948/index.html">N√£o fique esperto com formul√°rios de login</a></li>
<li><a href="../pt440954/index.html">Ciclo de vida de um artigo sobre Habr√©: escrevemos um habraparser. Parte dois</a></li>
<li><a href="../pt440956/index.html">Orquestrador n√¥made alternativo na √°rea de trabalho</a></li>
<li><a href="../pt440958/index.html">Como eu tentei consertar uma pesquisa no mapa por drivers. Parte 2</a></li>
<li><a href="../pt440960/index.html">Orange Pi 2G-IOT: mapa do campo minado</a></li>
<li><a href="../pt440962/index.html">Os provedores de comunica√ß√£o ser√£o obrigados a concluir contratos para a conex√£o de edif√≠cios residenciais</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>