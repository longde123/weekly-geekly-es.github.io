<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äç‚úàÔ∏è ‚ÜôÔ∏è üóûÔ∏è C√≥mo dise√±√© la caja LED HEART üßìüèø üéÇ üêΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saludos, Habr! 

 Quiero contar una historia sobre la creaci√≥n de una caja de m√∫sica con elementos de iluminaci√≥n de luz, un hermoso regalo con la pos...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>C√≥mo dise√±√© la caja LED HEART</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/456366/">  Saludos, Habr! <br><br>  Quiero contar una historia sobre la creaci√≥n de una caja de m√∫sica con elementos de iluminaci√≥n de luz, un hermoso regalo con la posibilidad de selecci√≥n individual de efectos de iluminaci√≥n y acompa√±amiento musical.  La caja se llamaba simple - LED HEART.  Se ha realizado cualquier trabajo, quiero compartir una historia corta sobre c√≥mo trabajar en este proyecto "hobby". <br><br>  No es ning√∫n secreto que en la red (incluso en Habr√©) puedes cumplir muchos proyectos para crear valentines, corazones, etc.  Los videos de demostraci√≥n con ellos a menudo recogen cr√≠ticas halagadoras y entusiastas en los comentarios.  Al mismo tiempo, la oportunidad de dar un regalo tan interesante hasta ahora ha seguido siendo una gran cantidad de ingenieros, jamones, etc.  personas con calificaciones suficientes para repetir el proyecto de alguien / hacer el suyo.  Adem√°s, necesita mucho tiempo libre para esto.  No he visto una producci√≥n por lotes de tal regalo.  Lo m√°s cercano son los kits de soldadura para aficionados m√°s simples de un par de compa√±√≠as nacionales, y opciones similares presentadas en sitios chinos. <br>  Esta idea inicialmente llev√≥ a comenzar un proyecto para crear un coraz√≥n LED, que estar√° disponible no solo para aquellos que est√°n "con usted" con la electr√≥nica. <br><br>  Comenzar√© un poco desde lejos, con un trasfondo.  Dur√≥ todos los a√±os ... <a name="habracut"></a><br><br><h3>  Antecedentes </h3><br>  El primer video con un coraz√≥n de LED que vi en 2010 en uno de los canales de YouTube.  El proyecto fue impresionante.  Y en 2011, como estudiante, durante un par de semanas de trabajo por las tardes, en secreto de su novia, arm√≥ una versi√≥n simple del coraz√≥n LED y la present√≥ el 8 de marzo.  El proyecto fue desarrollado por m√≠ mismo, tanto hardware como firmware, bicicletas inventadas y estudiadas. <br><br>  Se ve√≠a ... en general, algo as√≠: <br><br><img src="https://habrastorage.org/webt/aa/ii/gz/aaiigzidhcvjjne9-iys01aj3_g.png" alt="imagen"><br><br><img src="https://habrastorage.org/webt/3g/w7/wk/3gw7wk6ohmy_mfadpdkomtq2aqw.jpeg" alt="imagen"><br><br>  Desafortunadamente, ninguna foto transmitir√° completamente el grado de exclusividad de regalos que me pareci√≥ insuperable en algunos lugares hace 9 a√±os.  Hab√≠a una placa de circuito impreso con Attiny13A en la lata del pescado enlatado (MK no es visible en la foto, estaba soldado por cables desde el exterior, un mont√≥n de cables que se extienden m√°s all√° del borde superior de la foto), con registros de desplazamiento y LED brillantes soldados a lo largo del contorno del s√≠mbolo del coraz√≥n.  En el exterior de la tapa de la lata hay una inscripci√≥n: "En tus manos todo est√° lleno de amor ... e incluso ..." y en el interior "... caballa.  ¬°Desde el 8 de marzo!  Al presionar un gran bot√≥n rojo, las luces comenzaron a funcionar, los LED parpadearon y brillaron de acuerdo con lo que se meti√≥ en 1 kilobyte de memoria del microcontrolador.  La creatividad y el romance salpicaron el borde, como puedes ver.  Como recuerdo ahora, deambulo entre las filas del supermercado y pienso en qu√© tipo de caja elegir para un "presente abundante" ... de repente mis ojos se ponen en un estante con productos enlatados ... y aqu√≠ est√° ... una idea ... <br><br>  Bueno, un poco distra√≠do, continuar√©. <br><br><h3>  La historia misma </h3><br>  Habiendo recibido la respuesta deseada de su futura esposa, el pensamiento se instal√≥ en su cabeza de que la producci√≥n y venta de regalos tan interesantes puede tener sentido en principio.  Tal recuerdo evoca emociones positivas y simboliza los sentimientos c√°lidos de la persona que lo entrega.  Pero el estudio, el diploma, el trabajo, la rutina, la vida personal no permitieron asignar suficiente tiempo para participar en tales aventuras, todo termin√≥ antes de comenzar. <br><br>  Pasaron 3 a√±os ... lleg√≥ 2014 ... En alg√∫n momento comenc√© a tropezar con proyectos similares en Internet nuevamente, algunos de ellos ya eran m√°s avanzados e interesantes, la idea de desarrollar mi propia versi√≥n √∫nica del coraz√≥n y participar en su producci√≥n se encendi√≥ con renovado vigor, No hab√≠a nada as√≠ antes.  Al mismo tiempo, obviamente, la gente mostr√≥ inter√©s.  Habiendo tenido experiencia en ingenier√≠a, comenz√≥ a abordar este problema de manera m√°s sistem√°tica.  Pero a√∫n as√≠, el trabajo en este coraz√≥n se llev√≥ a cabo en un modo de pasatiempo, algunas noches y los fines de semana, si es posible, en paralelo con otros proyectos de "pasatiempo" y el trabajo principal, que era en primer lugar la prioridad de todos los trabajos.  Por lo tanto, al final, el plazo result√≥ ser incre√≠blemente abultado para tal proyecto. <br><br>  ¬øC√≥mo comenz√≥ el estudio? <br><br>  En primer lugar, se identificaron y evaluaron las deficiencias en las construcciones de aficionados vistas.  Lo m√°s importante que se observ√≥ entonces: <br><br><ul><li>  Falta de variedad de elementos de iluminaci√≥n ligera. </li><li>  La simplicidad y la torpeza de los dise√±os, que siempre lubrican la primera impresi√≥n y pueden no conducir al efecto adecuado al dar.  La abrumadora mayor√≠a de los dispositivos examinados parec√≠an artesan√≠as de aficionados, nada m√°s (como el que hice en 2010): s√≥lidos, no serios, aburridos ... La mayor√≠a de los dise√±os de corazones considerados no tienen cuerpo, o este cuerpo es terrible. Ala una sierra de trastes de madera contrachapada podrida, un tornillo autorroscante en una tabla, ventanas de org.  vidrio, etc.  Se necesita un cierto √≥ptimo: el tipo de dispositivo no debe al menos asustar a las personas, por el contrario, debe transmitir al m√°ximo toda la gama de sentimientos de quien lo da, y al mismo tiempo, el dispositivo no debe ser demasiado dimensional, s√∫per complejo, etc. . </li><li>  La falta de efectos de sonido de los efectos de luz en los proyectos de corazones (con muy raras excepciones), aunque, en mi opini√≥n, se suplica por s√≠ misma.  Solo parpadear la matriz LED no es suficiente.  La m√∫sica deber√≠a mejorar el efecto, agregar romance a la hora de dar.  La m√∫sica puede incluso ser una caracter√≠stica individual de tal regalo, ya que "calienta" la atm√≥sfera adecuada para la situaci√≥n correspondiente: rom√°ntica / solemne / divertida y cualquier otra.  Se supon√≠a que si los efectos de la iluminaci√≥n, para todo lo dem√°s, tambi√©n son sincr√≥nicos con la melod√≠a de fondo, ser√° muy genial, convincente y genial. </li><li>  Dado que, de acuerdo con el p√°rrafo anterior, debe haber m√∫sica, la idea de hacer una caja de m√∫sica surgi√≥ por s√≠ sola, la abres, suena y brilla, la cierras, se apaga y se desvanece. </li></ul><br>  Todos estos pensamientos el cerebro asalt√≥ por un tiempo.  Primero tuve que decidir sobre la funcionalidad espec√≠fica de la caja.  En t√©rminos generales, se vio de la siguiente manera: <br><br><ul><li>  El coraz√≥n debe tener una matriz de LED, de resoluci√≥n suficiente para que pueda ejecutar una l√≠nea en ejecuci√≥n, haga la animaci√≥n m√°s simple.  Deber√≠a ser posible desvanecer suavemente e iluminar los LED. </li><li>  Deber√≠a ser posible crear y corregir r√°pidamente los efectos de iluminaci√≥n para la r√°pida reestructuraci√≥n del programa de iluminaci√≥n para un cliente espec√≠fico.  Debe aclararse que el modelo de interacci√≥n con los clientes implica lo siguiente.  Inicialmente, el cliente recibe un conjunto b√°sico de programas de iluminaci√≥n con melod√≠as predefinidas, de las cuales selecciona uno que sea m√°s adecuado para sus deseos; adem√°s, por su parte, ajustaremos el programa de iluminaci√≥n, adapt√°ndolo a esta persona en particular, su ocasi√≥n / vacaciones (texto de la l√≠nea de carrera, que otros marcos).  En el futuro, se plane√≥ expandir gradualmente la base de melod√≠as y efectos de iluminaci√≥n disponibles.  Adem√°s, por mi parte, siempre puedo aconsejar la mejor opci√≥n despu√©s de comunicarme con el cliente, en base a los datos de entrada.  La posibilidad de un estudio completamente individual de la melod√≠a y la iluminaci√≥n, pero a un costo mayor, no se descarta por completo.  El proceso de compilaci√≥n de un programa de efectos de iluminaci√≥n para una nueva melod√≠a en cualquier caso resulta ser significativamente m√°s largo que otros procesos de preparaci√≥n del dispositivo para la venta. </li><li>  Un caso enga√±oso (confiando solo en su gusto en la etapa de prototipo). </li><li>  Autonom√≠a del poder, como  el dispositivo es esencialmente un recuerdo, no tiene sentido hacerlo estacionario, conectado a una fuente externa. </li></ul><br>  Adem√°s, estos requisitos se formalizaron en tareas t√©cnicas espec√≠ficas y, una por una, estas tareas se resolvieron gradualmente.  En el proceso, se examinaron diferentes materiales, se pensaron los tipos de dise√±os, los circuitos, bueno, escribir el software, la posibilidad de agregar / quitar / editar r√°pidamente efectos de iluminaci√≥n, etc., tom√≥ la mayor parte del tiempo. <br>  Como ejemplo de tales transformaciones, puedo ofrecer una demostraci√≥n de la versi√≥n intermedia de la caja prototipo fabricada en 2015: se puede considerar condicionalmente el resultado de la iteraci√≥n 1 (la calidad del video es terrible, el sonido se superpuso por separado del archivo mp3, entonces no se pudo grabar adecuadamente): <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/F8leTFH6pFw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Y ya la versi√≥n final, ensamblada en 2017: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/0MPJeOb9aJI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Puede parecer que aqu√≠ los LED brillan m√°s tenuemente que en la versi√≥n 2015, pero esto no es as√≠: era solo que al disparar, la fuente externa era demasiado fuerte.  El sonido aqu√≠ ya es real. <br><br>  Para cuando apareci√≥ esta muestra, mucho hab√≠a cambiado tanto fuera como dentro del dispositivo, y en su parte de software. <br><br><h3>  Brevemente sobre HW </h3><br>  La caja electr√≥nica est√° ubicada en tres placas de circuito impreso.  En uno: LED, transistores y resistencias, necesarios para la inclusi√≥n de LED en la matriz, el microcontrolador de control Atmega32A y su cableado.  En la segunda placa, el control de encendido se implementa cuando se abre la caja, un circuito de apagado con una reducci√≥n inaceptable de la tensi√≥n de alimentaci√≥n.  La tercera placa tiene un reproductor de mp3 (m√≥dulo comprado). <br><br>  La caja es una caja de metal comprada.  En el interior, toda la estructura se basa en un marco de pl√°stico impreso en una impresora 3D.  Algunos elementos est√°n sujetos por juntas adhesivas, la placa principal est√° sujeta por imanes montados en una base de pl√°stico. <br>  La caja funciona con tres bater√≠as AAA. <br><br><h3>  Brevemente sobre SW </h3><br>  Para la PC, se desarroll√≥ un programa: un generador de c√≥digo con una interfaz gr√°fica, que le permite crear y editar r√°pidamente efectos de iluminaci√≥n, controlar todos los intervalos de tiempo necesarios (para la sincronizaci√≥n con la melod√≠a de fondo) e inmediatamente generar un c√≥digo para flashear el microcontrolador ubicado en el tablero del coraz√≥n.  Se desarroll√≥ un cierto formato para registrar par√°metros de efectos en matrices de datos.  En el lado MK, el firmware analiza estos arreglos y los convierte en el brillo de los LED correctos en el momento correcto.  El formato para grabar efectos en las tablas de c√≥digos es bastante econ√≥mico: la memoria interna de los programas del microcontrolador es suficiente para el c√≥digo de firmware y para las tablas con par√°metros de efectos de iluminaci√≥n. <br><br>  Se puede escribir un art√≠culo separado sobre la resoluci√≥n de problemas t√©cnicos y problemas encontrados durante el desarrollo.  Por supuesto, esto no es una "ciencia de cohetes" y masticar esas preguntas puede ser aburrido para el p√∫blico, pero si alguien est√° interesado, definitivamente puede confundirse. <br><br><h3>  Resumen </h3><br>  Cual es el resultado?  El proyecto del ata√∫d todav√≠a se puede lamer y actualizar sin cesar, mejorar en direcciones completamente diferentes, funcionalidad adicional, etc.  Pero en la forma en que se concibi√≥ la caja, se hizo, se complet√≥ el proyecto de desarrollo.  Para la producci√≥n en serie (peque√±a), se necesita m√°s trabajo, pero esto es una cuesti√≥n de tecnolog√≠a, como dicen. <br><br>  En alg√∫n lugar en el medio del viaje, me di cuenta de que tratar de desarrollar de forma independiente el componente comercial del proyecto no era muy interesante para m√≠, no hab√≠a tiempo ni ganas de hacerlo.  No hab√≠a ninguna persona que asumiera la mayor parte del trabajo de organizar ventas, trabajar con melod√≠as y efectos de iluminaci√≥n en mi entorno.  Con una asociaci√≥n tan potencial, acept√© cerrar todos los problemas t√©cnicos, producci√≥n, adquisiciones y log√≠stica.  Pero no funcion√≥.  Y el tiempo est√° constantemente ocupado por otras tareas, ya sean m√°s interesantes o simplemente necesarias / dom√©sticas. <br><br>  Por lo tanto, en este momento, considero que el proyecto se ha completado en esta etapa.  En total, se hicieron 3 copias de la √∫ltima versi√≥n: dos para obsequios a seres queridos y una copia a pedido.  Puede suceder que alg√∫n tipo de historia contin√∫e en alg√∫n momento, no lo prometo, pero en este momento el estado es as√≠.  En general, el resultado del trabajo me satisfizo.  Pero lo m√°s valioso es la reacci√≥n de los seres queridos a los que se destinaron las primeras muestras de coraz√≥n, ¬°para esto no ser√≠a una pena pasar tanto tiempo como desee! <br><br>  Bueno, en t√©rminos de la racionalidad de llevar a cabo tal proyecto, se sacaron conclusiones objetivas, se aprendieron lecciones que seguramente me servir√°n en futuros actos y logros. <br><br>  Gracias por leer, siempre me complace hablar en los comentarios, si tiene preguntas, comentarios, sugerencias. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/456366/">https://habr.com/ru/post/456366/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../456350/index.html">Eventos digitales en Mosc√∫ del 17 al 23 de junio.</a></li>
<li><a href="../456352/index.html">M√≥dulo inal√°mbrico de comunicaci√≥n de objetos WISE-4000</a></li>
<li><a href="../456354/index.html">¬øC√≥mo recolectamos cajas de TV?</a></li>
<li><a href="../456358/index.html">Los 13 art√≠culos m√°s infames del a√±o pasado</a></li>
<li><a href="../456362/index.html">Dise√±ador de nivel 6: c√≥mo motivamos y desarrollamos dise√±adores</a></li>
<li><a href="../456368/index.html">Realizaci√≥n de transacciones p√∫blicas y privadas en la cadena de bloques JPMorgan Quorum usando Web3</a></li>
<li><a href="../456370/index.html">Implemente QoS en Qsan Storage</a></li>
<li><a href="../456372/index.html">SimbirSoft invita a profesionales de TI al verano intensivo 2019</a></li>
<li><a href="../456374/index.html">Estructuras de datos de estado de blockchain de Plasma Cash</a></li>
<li><a href="../456376/index.html">Not One Spring Boot: una descripci√≥n general de alternativas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>