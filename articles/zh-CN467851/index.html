<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⏲️ 👩‍💼 🆚 在不离开收银机的情况下检查质量 〽️ 🙏🏽 🖐🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="生产资料越便宜，假货问题就越严重。 而且，如果产品很大且容易伪造，那么几乎可以肯定会出现假冒浪潮。 为了应对这一祸害，我们先进技术开发中心正在开发一种用于标记和跟踪产品的系统。 她的名字叫诚实标志 。 制造商在其产品的每个单元上都放置了一个唯一的DataMatrix代码，客户可以通过该代码查看产品是...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>在不离开收银机的情况下检查质量</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/chestnyznak/blog/467851/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/109/4a1/3cb/1094a13cb00c8c50d75cb095077f965a.png" width="500"></div><br><br> 生产资料越便宜，假货问题就越严重。 而且，如果产品很大且容易伪造，那么几乎可以肯定会出现假冒浪潮。 为了应对这一祸害，我们先进技术开发中心正在开发一种用于标记和跟踪产品的系统。 她的名字叫<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">诚实标志</a> 。 制造商在其产品的每个单元上都放置了一个唯一的DataMatrix代码，客户可以通过该代码查看产品是否在其前面，由谁生产以及如何在柜台上出售。 <br><br> 通过我们博客上的介绍性帖子，我们想向您介绍该系统及其操作原理，并且在以下文章中，我们将更详细地描述技术结构和开发功能。 <br><a name="habracut"></a><br><h1> 我们是谁，我们做什么 </h1><br> 我们是<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">CRPT</a>公司，即先进技术开发中心。 我们活动的方向之一是开发，实施和开发用于标记和追踪任何商品的数字系统。 有必要使每个购买者都可以确定商店中是否有假货。 <br><br> 如今，俄罗斯的香烟，鞋子和药品制造商已连接到我们的数据库。 到目前为止，最活跃的用户是烟草业的代表-该组已经开始对该国的所有制成品和进口产品进行强制性标记。 每天通过该系统传输的数据量高达5000万包。 轻工业，牛奶，轮胎，相机和其他仍在试验模式中研究该技术的行业的制造商也正在积极加入。 <br><br><h1> 标记系统如何工作 </h1><br> 俄罗斯政府决定是否需要对某些商品进行试点标签项目。 通常，此决定是在业务代表的主动下出现的。 我们正在启动一个试点项目，制造商在该项目中选择对他们来说方便的标签格式，以及将放置在数据库中并以唯一的标签代码DataMatrix加密的每个商品的附加信息。 此附加信息可能非常不同-例如，建议的零售价或有效期。 然后，制造商介绍了允许他们将DataMatrix放在包装上的软件，我们作为系统运营商，向他们提供了免费的设备-排放注册商，需要通过安全的通信渠道传输数字代码。 <br><br> 在试点项目进行期间，我们帮助参与者调试标记和信息交换过程。 当一切准备就绪时，该行业的其他制造商必须加入我们的系统。 <br><br> 当货物从制造商转移到货架时，链中的所有参与者都会向Honest SIGN发送各种信息： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/28c/b23/4c2/28cb234c24be2b52d52cca3b2d92329a.png"><br><br> 结果，我们收集了有关系统参与者生产的每种产品的来源和移动的所有信息，并将其提供给制造商，零售商和客户。 来到商店时，您可以在柜台前转到Honest SIGN移动应用程序（ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">AppStore</a> ， <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Google Play</a> ），扫描包装上的代码，然后立即找到生产的国家，城市和地址。 也就是说，您将立即知道假货是否在您面前。 <br><br> 您肯定会问：“还有什么能防止伪造您的代码？” 事实是，每个标记代码都由一个小的受保护部分（即密码）签名。 而且，伪造的代码根本不会在应用程序中，买方进行扫描时或在结帐时通过系统中的支票。 <br><br> 代码从何而来？ 有两种获取方法： <br><br><ul><li> 或者，我们自己完全生成唯一的不可复制的代码，并将其提供给制造商。 </li><li> 或者，制造商自行发行代码的序列部分，以便更方便地在其记帐系统中使用标记，并添加我们生成的密码部分。 <br></li></ul><br><h1> 我们的系统如何运作 </h1><br> 基本工作方案如下： <br><br><img src="https://habrastorage.org/getpro/habr/post_images/70e/048/1dc/70e0481dc81d0a1fcad078fbf746d4ae.png"><br><br> 它包括五个块。 <br><br> 系统的“入口门”就是<b>路由</b> -一种网关。 来自贸易链中每个参与者的所有信息都在这里：制造商，批发商和零售商。 路由使用其他属性丰富了传入的数据，并确定应由哪个管道处理该信息或该信息。 <br><br>  <b>处理</b>参与处理所有传入信息，并通过路由进行过滤和丰富。 每个行业都以其业务流程集而著称，而这些业务流程是我们不断自动化的。 例如，对于烟草，它是消费税，对于牛奶，它是到期日。 <br><br>  <b>该存储系统</b>建立在分布式键值基础之上。 在这里，我们放置了有关每个标签字段以及影响此代码状态更改的每个文档的所有信息。 每个大型产品组都有自己的基础，因为需要备份和扩展的信息量非常大。 <br><br> 我们以不同的方式使用数据仓库：我们进行选择，在您的个人帐户中形成信息的图形显示，并使用外部API将其提供给系统参与者。 <br><br>  <b>系统组件</b>执行许多任务：身份验证，授权，服务间交互。 换句话说，一切与检查访问权限以及系统组件之间的交互有关。 <br><br> 最后， <b>个人帐户</b>是系统参与者（制造商，批发商和零售组织）的图形界面。 也就是说，对于从事销售，退休和销售给最终消费者的公司。 在您的个人帐户中，将以方便的形式生成报告和图表，以显示公司发送了多少代码，在什么时期，在哪个产品类别中，已经在零售中出售了多少商品，等等。 <br><br><h1> 信息如何在系统中流动？ </h1><br> 制造商生成一批代码并发送给我们或创建订单以接收代码。 作为响应，我们发送按模板检查代码的结果，或者发送现成代码的列表。 此后，制造商放置这些代码并报告在生产过程中它们已被使用或丢失，也就是说，带有代码的货物将被拒绝。 此信息从路由转移到处理，直接与数据仓库交互。 另外，个人帐户与他一起工作，在其中保护了系统参与者的业务逻辑。 <br><br> 换句话说，我们从参与者那里接收数据： <br><br><ul><li> 什么代码应用于货物， </li><li> 需要向最终用户显示哪些其他产品信息。 </li></ul><br> 此外，我们对这些数据进行汇总，以确保伪造代码的唯一性和安全性，并以便捷的形式通过移动应用程序为所有用户提供服务。 业务代表可以随时接收有关我们系统中可用产品的所有信息的报告。 <br><br><h1> 技术领域 </h1><br> 由于我们正在创建一个国家标签系统，因此它将每天“消化”该国生产的所有商品的信息，并将其提供给数千万的用户。 因此，我们选择的技术不仅可以提供高性能，还可以使我们快速扩展系统。 <br><br> 如今，我们每秒处理多达300单位的商品，并且其频率大致相同-经历了“发布”，“代码”，“从一个参与者转移到另一参与者”阶段的商品记录。 仅就烟草产品而言，每月大约有十亿条记录输入该系统，信息总量达到数十Tb。 <br><br> 系统中的所有服务（大约有250个）都部署在Kubernetes集群上，因此我们根据需要悄悄地增加容量和存储量。 <br><br> 在大多数情况下，系统是用Java 11编写的，处理过程是用Scala编写的。 对于服务器之间的通信，我们选择了Kafka。 标签代码本身存储在Hbase中，相关信息存储在PostgreSQL中。 我们将系统代码打包到Docker容器中，将Helm交付给Kubernetes集群，监视Prometheus并监视Grafana中的运行状况。 <br><br> 我们已将由我们开发的分析服务器连接到数据仓库，这些服务器为系统参与者构建报告。 到目前为止，服务器是基于Hbase构建的，但是我们正在非常积极地尝试使用ClickHouse。 <br><br><h1> 系统开发 </h1><br> 许多参与者都希望得到我们的反馈-我们会收到所有发送的信息吗？在处理文档时是否有任何问题？系统中的参与者是否拥有传输的代码？ 这样的反馈机制应该是端对端的，而不使用存储，以免重复信息和不额外加载系统。 因此，我们将远离中间存储库，并且已经在通过路由，处理来实现端到端事务，反之亦然。 <br><br> 在以下出版物中，我们将详细介绍五个体系结构块中的每一个的实现方式，以及我们的系统，技术和创建它的人员。 <br><br>  <i>该材料是在MDCT开发团队（Java）负责人Dmitry Poluyanov的支持下编写的。</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN467851/">https://habr.com/ru/post/zh-CN467851/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN467831/index.html">编程的棘手路径</a></li>
<li><a href="../zh-CN467837/index.html">“糟糕”的三美分MCU-成本低于0.1美元的微控制器的简要概述</a></li>
<li><a href="../zh-CN467843/index.html">如何在AWS中节省多达一百万美元？</a></li>
<li><a href="../zh-CN467847/index.html">“物联网全渠道演进”或物联网如何影响全渠道</a></li>
<li><a href="../zh-CN467849/index.html">佩洛顿：下一个苹果还是另一个骗局？</a></li>
<li><a href="../zh-CN467853/index.html">名片演变：从名片到应用程序</a></li>
<li><a href="../zh-CN467855/index.html">新的2GIS：完整的俄罗斯地图和在线商店中的商品搜索</a></li>
<li><a href="../zh-CN467859/index.html">九家俄罗斯大学在微软的支持下开始了硕士课程</a></li>
<li><a href="../zh-CN467863/index.html">我们分析了Yandex.Music中的收听历史</a></li>
<li><a href="../zh-CN467865/index.html">关于投资者错误导致股票突然上涨和下跌的5个故事以及如何避免的故事</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>