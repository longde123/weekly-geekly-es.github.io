<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯИ╣ ЁЯСжЁЯП┐ ЁЯСитАНтЪХя╕П рд╕реНрд╡рд┐рдлреНрдЯ 5.0ред рдирдпрд╛ рдХреНрдпрд╛ рд╣реИ ЁЯд╕ЁЯП╜ ЁЯСЖ ЁЯРЩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╕реНрд╡рд┐рдлреНрдЯ 5 - рд▓рдВрдмреЗ рд╕рдордп рд╕реЗ рдкреНрд░рддреАрдХреНрд╖рд┐рдд рд░рд┐рд▓реАрдЬ, рдЬрд┐рд╕рдореЗрдВ рдХрдИ рджрд░реНрдЬрди рд╕реБрдзрд╛рд░ рдФрд░ рд╕реБрдзрд╛рд░ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред рд▓реЗрдХрд┐рди рд╕реНрд╡рд┐рдлреНрдЯ 5.0 рдХреА рд░рд┐рд▓реАрдЬ рдХрд╛ рдореБрдЦреНрдп рд▓рдХреНрд╖реНрдп рдПрдмреАрдЖрдИ рд╕реНрдерд┐рд░рддрд╛ рдкреНрд░рд╛рдкреНрдд рдХ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рд╕реНрд╡рд┐рдлреНрдЯ 5.0ред рдирдпрд╛ рдХреНрдпрд╛ рд╣реИ</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/avito/blog/444862/"><p>  рд╕реНрд╡рд┐рдлреНрдЯ 5 - рд▓рдВрдмреЗ рд╕рдордп рд╕реЗ рдкреНрд░рддреАрдХреНрд╖рд┐рдд рд░рд┐рд▓реАрдЬ, рдЬрд┐рд╕рдореЗрдВ рдХрдИ рджрд░реНрдЬрди рд╕реБрдзрд╛рд░ рдФрд░ рд╕реБрдзрд╛рд░ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред  рд▓реЗрдХрд┐рди рд╕реНрд╡рд┐рдлреНрдЯ 5.0 рдХреА рд░рд┐рд▓реАрдЬ рдХрд╛ рдореБрдЦреНрдп рд▓рдХреНрд╖реНрдп рдПрдмреАрдЖрдИ рд╕реНрдерд┐рд░рддрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдерд╛ред  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рдЖрдк рд╕реАрдЦреЗрдВрдЧреЗ рдХрд┐ ABI рдХреНрдпрд╛ рд╣реИ рдФрд░ ABI iOS / macOS рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рдХреНрдпрд╛ рд╕реНрдерд┐рд░ рджреЗрдЧрд╛ред  рд╣рдо рд╕реНрд╡рд┐рдлреНрдЯ 5 рдХреА рдХрдИ рдирдИ рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХрд╛ рднреА рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВрдЧреЗред </p><br><p><img src="https://habrastorage.org/webt/-p/8s/zk/-p8szkb7m3mn49xjavc3_nvkjyk.png"></p><a name="habracut"></a><br><h1 id="abi-stability">  рдПрдмреАрдЖрдИ рд╕реНрдерд┐рд░рддрд╛ </h1><br><p>  ABI рдПрдХ рдмрд╛рдЗрдирд░реА рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рд╣реИред  рдПрдХ рдПрдмреАрдЖрдИ рдХреЛ рдирд┐рдпрдореЛрдВ рдХреЗ рдПрдХ рд╕реЗрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдорд╛рдирд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ рд╕рдВрдХрд▓рдХ рдХреЛ рд╕рдВрдХрд▓рд┐рдд рдШрдЯрдХ рдореЙрдбреНрдпреВрд▓ рдХреЛ рд╕рдВрдпреЛрдЬрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред </p><br><p>  рддрджрдиреБрд╕рд╛рд░, рдПрдмреАрдЖрдИ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╡рд░реНрдгрд┐рдд рд╣реИред </p><br><ol><li>  рдЬрд┐рд╕ рддрд░рд╣ рд╕реЗ рд╕рд┐рд╕реНрдЯрдо рдореЙрдбреНрдпреВрд▓ рд╕рд╣рд┐рдд рд╡рд┐рднрд┐рдиреНрди рдореЙрдбреНрдпреВрд▓ рд╕реЗ рдХреЛрдб рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред </li><li>  рддрд░реНрдХреЛрдВ рдХреЛ рдкрд╛рд░рд┐рдд рдХрд░рдиреЗ рдФрд░ рдлрд╝рдВрдХреНрд╢рдВрд╕ рд╕реЗ рд░рд┐рдЯрд░реНрди рд╡реИрд▓реНрдпреВ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рд╛рд░реВрдкред </li><li>  рд░реИрдо рдбреЗрдЯрд╛ рд▓реЗрдЖрдЙрдЯ рдПрд▓реНрдЧреЛрд░рд┐рджрдоред </li><li>  рдореЗрдореЛрд░реА рдкреНрд░рдмрдВрдзрди, рдПрдЖрд░рд╕реАред </li><li>  рдЯрд╛рдЗрдк рд╕рд┐рд╕реНрдЯрдо, рдЬреЗрдирд░рд┐рдХред </li></ol><br><p>  рд╕реНрд╡рд┐рдлреНрдЯ 5, рд╕реНрдерд┐рд░ рдПрдмреАрдЖрдИ рдХреЗ рд╕рд╛рде, рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рджреНрд╡рд┐рдЖрдзрд╛рд░реА рд╕рдВрдЧрддрддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  IOS / macOS рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рджреНрд╡рд┐рдЖрдзрд╛рд░реА рд╕рдВрдЧрддрддрд╛ рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╕рдВрдХрд▓рд┐рдд рдЕрдиреБрдкреНрд░рдпреЛрдЧ рднрд╛рд╖рд╛ рдХреЗ рдкрд╣рд▓реЗ рдпрд╛ рдмрд╛рдж рдХреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдХрд▓рд┐рдд рд╕рд┐рд╕реНрдЯрдо рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЗ рд╕рд╛рде рд░рдирдЯрд╛рдЗрдо рдореЗрдВ рд╕рдВрдЧрдд рд╣реЛрдВрдЧреЗред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╕реНрд╡рд┐рдлреНрдЯ 5.0 рдХреЗ рд╕рд╛рде рд╕рдВрдХрд▓рд┐рдд рдПрдХ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реНрд╡рд┐рдлреНрдЯ 5.1 рдпрд╛ рд╕реНрд╡рд┐рдлреНрдЯ 6.0 рдХреЗ рд╕рд╛рде рд╕рдВрдХрд▓рд┐рдд рдорд╛рдирдХ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЗ рд╕рд╛рде рд╕рдВрдЧрдд рд╣реЛрдЧрд╛ред </p><br><p>  IOS 12.2 рдФрд░ macOS 10.14.4 рдХреЗ рд╕рд╛рде рд╢реБрд░реВ, Apple рдХреЗ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд╕рдм рдХреБрдЫ рд╣реЛрдЧрд╛ рдЬрд┐рд╕рдореЗрдВ рдЖрдкрдХреЛ рд╕реНрд╡рд┐рдлреНрдЯ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдЪрд▓рд╛рдиреЗ рд╣реЛрдВрдЧреЗред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╕реНрд╡рд┐рдлреНрдЯ 5 рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдФрд░ рдмрд╛рдж рдореЗрдВ рд░рдирдЯрд╛рдЗрдо рдФрд░ рдПрдХ рдорд╛рдирдХ рднрд╛рд╖рд╛ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдирд╣реАрдВ рд╣реЛрдЧрд╛ред  рдЗрд╕рд▓рд┐рдП, рд╕реНрд╡рд┐рдлреНрдЯ 5 рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХрд╛ рд╡рдЬрди рд▓рдЧрднрдЧ 3-10 рдореЗрдЧрд╛рдмрд╛рдЗрдЯ рдХрдо рд╣реЛрдЧрд╛ред </p><br><p>  рдпрд╣ рдзреНрдпрд╛рди рд░рдЦрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдПрдмреАрдЖрдИ рд╕реНрдерд┐рд░рддрд╛ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдореЙрдбреНрдпреВрд▓ рд╕реНрдерд┐рд░рддрд╛ рднреА рд╣реИред  рдпрджрд┐ ABI рд╕реНрдерд┐рд░рддрд╛ рд░рдирдЯрд╛рдЗрдо рдореЗрдВ рдПрдХ рд╕реНрд╡рд┐рдлреНрдЯ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдХреЛ рд╕рдВрдпреЛрдЬрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ, рддреЛ рдореЙрдбреНрдпреВрд▓ рд╕реНрдерд┐рд░рддрд╛ рдЗрд╕ рдмрд╛рдд рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИ рдХрд┐ рднрд╛рд╖рд╛ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ рд▓рд┐рдЦреЗ рдЧрдП рджреНрд╡рд┐рдЖрдзрд╛рд░реА рдврд╛рдВрдЪреЗ рдХреЛ рдХреИрд╕реЗ рд╕рдВрдХрд▓рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╕реНрд╡рд┐рдлреНрдЯ 5.1 рдореЗрдВ рдореЙрдбреНрдпреВрд▓ рд╕реНрдерд┐рд░рддрд╛ рджрд┐рдЦрд╛рдИ рджреЗрдЧреАред  рдФрд░ рдлрд┐рд░ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдЕрдкрдиреЗ рдврд╛рдВрдЪреЗ рдХреЛ рди рдХреЗрд╡рд▓ рдЦреБрд▓реЗ рд╕реНрд░реЛрдд рдХреЛрдб рдХреЗ рд╕рд╛рде рд╡рд┐рддрд░рд┐рдд рдХрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдВрдЧреЗ, рдмрд▓реНрдХрд┐ рд╕рдВрдХрд▓рд┐рдд рд░реВрдк рдореЗрдВ рднреАред </p><br><p>  <strong>ABI рд╕реНрдерд┐рд░рддрд╛ рдХреЗ рдкреЗрд╢реЗрд╡рд░реЛрдВред</strong> </p><br><ol><li>  рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХрдо рд╡рдЬрди рд╣реЛрдЧрд╛ред </li><li>  рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рддреЗрдЬреАред </li><li>  рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ, Apple рдкреВрд░реА рддрд░рд╣ рд╕реЗ рд╕реНрд╡рд┐рдлреНрдЯ рдкрд░ рдирдИ рд░реВрдкрд░реЗрдЦрд╛ рд▓рд┐рдЦ тАЛтАЛрд╕рдХрддрд╛ рд╣реИред </li></ol><br><p>  <strong>рд╡рд┐рдкрдХреНрд╖ рдПрдмреАрдЖрдИ рд╕реНрдерд┐рд░рддрд╛ред</strong> </p><br><p> рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рдорд╛рдирдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЗ рдкреБрд░рд╛рдиреЗ рд╕рдВрд╕реНрдХрд░рдгреЛрдВ рдореЗрдВ рдХрд┐рд╕реА рднреА рдирдИ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдХреА рдХрдореА рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдорд╛рдирдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдореЗрдВ рдХрд┐рд╕реА рднреА рдирдП рд╡рд░реНрдЧреЛрдВ / рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд╕рд╛рде рд╕реНрд╡рд┐рдлреНрдЯ 5.1 iOS 13 рдореЗрдВ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ iOS 12.2 рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдореЗрдВ рд╕рдорд░реНрдерди рдХреЗ рд╕рд╛рде, рдбреЗрд╡рд▓рдкрд░реНрд╕ рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░ рдкрд╛рдПрдВрдЧреЗред  (рдЖрдкрдХреЛ рдлрд╛рдЙрдВрдбреЗрд╢рди, рдпреВрдЖрдИрдХрд┐рдЯ рдФрд░ рдЕрдиреНрдп рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЗ рд▓рд┐рдП рдЙрд╕реА рддрд░рд╣ рд╕реЗ # рдЕрд╡реЗрд▓реЗрдмрд▓ (...) рдЪреЗрдХ рдбрд╛рд▓рдиреЗ рд╣реЛрдВрдЧреЗред </p><br><h1 id="tip-result-v-standartnoy-biblioteke">  рдорд╛рдирдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдореЗрдВ рдкрд░рд┐рдгрд╛рдо рдкреНрд░рдХрд╛рд░ </h1><br><p>  рдЕрддреБрд▓реНрдпрдХрд╛рд▓рд┐рдХ рдПрдкреАрдЖрдИ рдореЗрдВ рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рд╕рдВрдЪрд╛рд░рд┐рдд рдХрд░рдиреЗ рдФрд░ рд╕рдВрднрд╛рд▓рдиреЗ рдХрд╛ рдПрдХ рдорд╛рдирдХ рддрд░реАрдХрд╛ рдорд╛рдирдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдореЗрдВ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ рд╣реИред  рдЖрдк рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рднреА рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдпрджрд┐ рдХрд┐рд╕реА рдХрд╛рд░рдгрд╡рд╢ рдорд╛рдирдХ рддреНрд░реБрдЯрд┐ рд╕реЗ рдирд┐рдкрдЯрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ / рдкрдХрдбрд╝ рд╣рдореЗрдВ рд╢реЛрднрд╛ рдирд╣реАрдВ рджреЗрддреА рд╣реИред </p><br><p>  рдкрд░рд┐рдгрд╛рдо рдкреНрд░рдХрд╛рд░ рджреЛ рдорд╛рдорд▓реЛрдВ рдХреЗ рд╕рд╛рде enum рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: рд╕рдлрд▓рддрд╛ рдФрд░ рд╡рд┐рдлрд▓рддрд╛: </p><br><pre><code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">enum</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Result</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Success</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Failure</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">where</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Failure</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Error</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> success(<span class="hljs-type"><span class="hljs-type">Success</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> failure(<span class="hljs-type"><span class="hljs-type">Failure</span></span>) ... }</code> </pre> <br><p>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рд╕реНрд╡рд┐рдлреНрдЯ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЗ рд▓рд┐рдП рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдирдпрд╛ рдирд╣реАрдВ рд╣реИред  рдХрднреА рд╕реНрд╡рд┐рдлреНрдЯ рдХреЗ рдкрд╣рд▓реЗ рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рдмрд╛рдж рд╕реЗ, рдХрдИ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдиреЗ рдПрдХ рд╕рдорд╛рди рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдЕрдм, рдЬрдм рдкрд░рд┐рдгрд╛рдо рдорд╛рдирдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдореЗрдВ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ рд╣реИ, рддреЛ рдпрд╣ рдмрд╛рд╣рд░реА рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рд╕реЗ рдХреЛрдб рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХреЛ рд╕рд░рд▓ рдХрд░реЗрдЧрд╛ред </p><br><p>  рд▓реЗрдЦ рдбрд╛рдЙрдирд▓реЛрдб рд╕реЗрд╡рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг: </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Article</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> title: <span class="hljs-type"><span class="hljs-type">String</span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ArticleService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fetchArticle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(id: Int64, completion: @escaping </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(Result&lt;Article, Error&gt;)</span></span></span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Void</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//    // ... completion(.success(Article(title: "Swift 5.0.  ?"))) } }</span></span></code> </pre> <br><p>  рдФрд░ рдпрд╣рд╛рдВ рдкрд░рд┐рдгрд╛рдо рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИред  рдЪреВрдВрдХрд┐ рдкрд░рд┐рдгрд╛рдо рд╕рд┐рд░реНрдл рдПрдХ рдПрдирдо рд╣реИ, рд╣рдо рдЗрд╕рдХреЗ рд╕рднреА рд░рд╛рдЬреНрдпреЛрдВ рдХреЛ рдПрдХ рд╕реНрд╡рд┐рдЪ рдХреЗ рд╕рд╛рде рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="swift hljs">articleService.fetchArticle(id: <span class="hljs-number"><span class="hljs-number">42</span></span>) { result <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> result { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .success(<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> article): <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Success: \(article)"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> .failure(<span class="hljs-keyword"><span class="hljs-keyword">let</span></span> error): <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Failure: \(error)"</span></span>) } }</code> </pre> <br><h1 id="raw-strings">  рдХрдЪреНрдЪреЗ рддрд╛рд░ </h1><br><p>  рд╕реНрд╡рд┐рдлреНрдЯ 5 рдореЗрдВ, рдЙрдиреНрд╣реЛрдВрдиреЗ рддрдерд╛рдХрдерд┐рдд рдХрдЪреНрдЪреЗ рддрд╛рд░ рдЬреЛрдбрд╝реЗ, рдЬрд┐рд╕рдореЗрдВ рдЙрджреНрдзрд░рдг рдЪрд┐рд╣реНрдиреЛрдВ рдФрд░ рдмреИрдХрд▓реИрд╢ рдХреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рдмрд┐рд▓реНрдХреБрд▓ рдкрд╛рддреНрд░реЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдХреА рдЧрдИ рд╣реИ, рдФрд░ рдЙрдиреНрд╣реЗрдВ рд╢рд╛рдмреНрджрд┐рдХ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рднрд╛рдЧрдиреЗ рд╡рд╛рд▓реЗ рдЪрд░рд┐рддреНрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рдРрд╕реА рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдПрдХ рд╢рд╛рдмреНрджрд┐рдХ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдХрд┐рдирд╛рд░реЛрдВ рдкрд░ # рд╡рд░реНрдг рдХреЛ рджреЛрд╣рд░реЗ рдЙрджреНрдзрд░рдг рдЪрд┐рд╣реНрдиреЛрдВ рдореЗрдВ рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛ред </p><br><p>  рдЙрджреНрдзрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг: </p><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">// swift 4.2 print("    \"\"   .") print("     ,    \\n") // swift 5 print(#" ""      "#) print(#"     ,    \n"#)</span></span></code> </pre> <br><p>  рдирд┐рдпрдорд┐рдд рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рд▓рд┐рдЦрддреЗ рд╕рдордп рдпрд╣ рд╕реБрд╡рд┐рдзрд╛ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧреА рд╣реИ: </p><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">// swift 4.2 let regex = "^\\(*\\d{3}\\)*( |-)*\\d{3}( |-)*\\d{4}$" // swift 5 let regex = #"^\(*\d{3}\)*( |-)*\d{3}( |-)*\d{4}$"#</span></span></code> </pre> <br><p>  рдмреИрдХрд╕реНрд▓реИрд╢ рдХреЗ рдмрд╛рдж рд▓рд╛рдЗрдиреЛрдВ рдХреЛ рдкреНрд░рдХреНрд╖реЗрдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, # рд╡рд░реНрдг рдЬреЛрдбрд╝реЗрдВ: </p><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">// swift 4.2 let string = "   \(variable)" // swift 5 let string = #"   \#(variable)"#</span></span></code> </pre> <br><p>  рдЖрдк <a href="">рдЗрд╕ рд╡рд╛рдХреНрдп рдореЗрдВ</a> рдЕрдзрд┐рдХ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h1 id="obnovlennaya-interpolyaciya-strok">  рдЕрджреНрдпрддрди рд▓рд╛рдЗрди рдкреНрд░рдХреНрд╖реЗрдк </h1><br><p>  рд╕реНрдЯреНрд░рд┐рдВрдЧ рдкреНрд░рдХреНрд╖реЗрдк рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛, рд╣рдо рдПрдХ рдЪрд░ рдХреЗ рдореВрд▓реНрдп рдпрд╛ рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╢рд╛рдмреНрджрд┐рдХ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдХреЗ рдкрд░рд┐рдгрд╛рдо рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред  рднрд╛рд╖рд╛ рдХреЗ 5 рд╡реЗрдВ рд╕рдВрд╕реНрдХрд░рдг рд╕реЗ рд╢реБрд░реВ рд╣реЛрдХрд░, рд╣рдорд╛рд░реА рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐рдпреЛрдВ рдХреЛ рдЕрдВрддрд┐рдо рдкрдВрдХреНрддрд┐ рдореЗрдВ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рддрд░реАрдХреЗ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛ рдЧрдпрд╛ред <br>  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдмрд╕ DefaultStringInterpolation рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рд▓рд┐рдЦреЗрдВ рдФрд░ appendInterpolation рдирд╛рдордХ рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝реЗрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рд╣рдо рдПрдХ рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдореЗрдВ рдПрдХ рдореВрд▓реНрдп рдЬреЛрдбрд╝рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ: </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DefaultStringInterpolation</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">mutating</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">appendInterpolation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(price: Decimal)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> formatter = <span class="hljs-type"><span class="hljs-type">NumberFormatter</span></span>() formatter.numberStyle = .currency <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> string = formatter.string(from: price <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-type"><span class="hljs-type">NSDecimalNumber</span></span>) { appendLiteral(string) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { appendLiteral(price.description) } } } <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"Price of item: \(price: 9.99)"</span></span>) <span class="hljs-comment"><span class="hljs-comment">// Price of item: $9.99</span></span></code> </pre> <br><p>  рдпрд╣ рдзреНрдпрд╛рди рд░рдЦрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐, рд╕рдВрдХрд▓рдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдореЗрдВ рдирд┐рд░реНрдорд╛рдг (рдореВрд▓реНрдп: 9.99) рдХреЛ рдПрдкреЗрдВрдбрдЗрдВрдЯрд░рдкреЛрд▓реЗрд╢рди (рдореВрд▓реНрдп: рджрд╢рдорд▓рд╡) рд╡рд┐рдзрд┐ рдореЗрдВ рдПрдХ рдХреЙрд▓ рдореЗрдВ рдмрджрд▓ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред <br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдкрд░рд┐рд╢рд┐рд╖реНрдЯ рд╡рд┐рдзрд┐рдпреЛрдВ рдореЗрдВ рд╣рдо рдЕрд╕реАрдорд┐рдд рд╕рдВрдЦреНрдпрд╛ рдореЗрдВ рддрд░реНрдХреЛрдВ рдХреЛ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ, рджреЛрдиреЛрдВ рдирд╛рдо рдФрд░ рдЕрдирд╛рдо, рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдорд╛рдиреЛрдВ рдХреЗ рд╕рд╛рде рдпрд╛ рдмрд┐рдирд╛ред </p><br><p>  рдЖрдк <a href="">рдЗрд╕ рд╡рд╛рдХреНрдп рдореЗрдВ</a> рдЕрдзрд┐рдХ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h1 id="proverka-kratnosti-chisel">  рд╕рдВрдЦреНрдпрд╛рдУрдВ рдХреА рдмрд╣реБрд▓рддрд╛ рдХреА рдЬрд╛рдБрдЪ рдХрд░рдирд╛ </h1><br><p>  рдмрд╣реБрд▓рддрд╛ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреЗ рдХреА рд╡рд┐рдзрд┐ рд╣реИрдореМрд▓реНрдЯ (рдорд╛рдирдХ рдХреА) рдХреЛ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдореЗрдВ рд╕рдВрдЦреНрдпрд╛рддреНрдордХ рдкреНрд░рдХрд╛рд░реЛрдВ рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рд╣реИред  рд╣рд╛рдВ, рд╣рдо рдЕрднреА рднреА рд╢реЗрд╖% рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд▓реЗрдиреЗ рдХреЗ рд▓рд┐рдП рдСрдкрд░реЗрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ Multiple (рдореЗрдВ рд╕реЗ :) рдЕрдзрд┐рдХ рджреГрд╢реНрдп рджрд┐рдЦрддрд╛ рд╣реИред </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> interger = <span class="hljs-number"><span class="hljs-number">42</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> interger.isMultiple(of: <span class="hljs-number"><span class="hljs-number">3</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">" "</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">"  "</span></span>) }</code> </pre> <br><h1 id="metod-compactmapvalues-v-dictionary">  рд╢рдмреНрджрдХреЛрд╢ рдореЗрдВ CompactMapValues тАЛтАЛрд╡рд┐рдзрд┐ </h1><br><p>  CompactMapValues тАЛтАЛрд╡рд┐рдзрд┐ рдЖрдкрдХреЛ рд╢рдмреНрджрдХреЛрд╢ рдорд╛рдиреЛрдВ рдХреЛ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ, рд╕рд╛рде рд╣реА рдЙрдиреНрд╣реЗрдВ рдлрд╝рд┐рд▓реНрдЯрд░ рднреА рдХрд░рддреА рд╣реИ рдпрджрд┐ рд░реВрдкрд╛рдВрддрд░рдг рд╢реВрдиреНрдп рд╣реЛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, URL рдкреНрд░рдХрд╛рд░ рдХреЗ рд▓рд┐рдП рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреБрдВрдЬрд┐рдпреЛрдВ рдХреА рдореИрдкрд┐рдВрдЧ: </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> dict = [ <span class="hljs-string"><span class="hljs-string">"site"</span></span>: <span class="hljs-string"><span class="hljs-string">"https://www.site.ru/path/to/web/site/page"</span></span>, <span class="hljs-string"><span class="hljs-string">"other site"</span></span>: <span class="hljs-string"><span class="hljs-string">"invalid url"</span></span> ] <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> mappedDict: [<span class="hljs-type"><span class="hljs-type">String</span></span>: <span class="hljs-type"><span class="hljs-type">URL</span></span>] = dict.compactMapValues { <span class="hljs-type"><span class="hljs-type">URL</span></span>(string: $<span class="hljs-number"><span class="hljs-number">0</span></span>) } <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(mappedDict) <span class="hljs-comment"><span class="hljs-comment">// ["site": https://www.site.ru/path/to/web/site/page]</span></span></code> </pre> <br><p>  рджреВрд╕рд░реА рдХреБрдВрдЬреА / рдорд╛рди рдЬреЛрдбрд╝реА рдХреЛ рдореИрдкрд┐рдВрдЧ рдХреЗ рдмрд╛рдж рд╣рдЯрд╛ рджрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рдХреНрдпреЛрдВрдХрд┐ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдПрдХ рдорд╛рдиреНрдп URL рдирд╣реАрдВ рд╣реИред </p><br><h1 id="izmenenie-povedeniya-try">  рд╡реНрдпрд╡рд╣рд╛рд░ рдмрджрд▓рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ? </h1><br><p>  рдХреЛрд╢рд┐рд╢ рдирд┐рд░реНрдорд╛рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕реНрд╡рд┐рдлреНрдЯ 4.2 рдореЗрдВ?  рдЖрдк рдЖрд╕рд╛рдиреА рд╕реЗ рдШреЛрдВрд╕рд▓реЗ рдХреЗ рд╢рд┐рдХрд╛рд░ рдХреЗ рд╕реНрддрд░ рдХреЗ рд╕рд╛рде рдПрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ рдкреНрд░рдХрд╛рд░ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЬреНрдпрд╛рджрд╛рддрд░ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдпрд╣ рд╡рд╣ рдирд╣реАрдВ рд╣реИ рдЬреЛ рдбреЗрд╡рд▓рдкрд░ рдХреЛ рдЙрдореНрдореАрдж рд╣реИред  рдЗрд╕ рдХрд╛рд░рдг рд╕реЗ, рд╕реНрд╡рд┐рдлреНрдЯ 5 рдореЗрдВ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ?  рдЧ рд╡реИрдХрд▓реНрдкрд┐рдХ рдЪрд╛рдЗрдирд┐рдВрдЧ рдХреЗ рд╕рдорд╛рди рд╡реНрдпрд╡рд╣рд╛рд░ рдорд┐рд▓рд╛ред  рдпрд╣реА рд╣реИ, рдХреЛрд╢рд┐рд╢ рдХреЗ рд╕рдВрдпреЛрдЬрди рдХреЗ рд╕рд╛рде?  рд╡реИрдХрд▓реНрдкрд┐рдХ рдЪреЗрдирд┐рдВрдЧ рдпрд╛ рд╡реИрдХрд▓реНрдкрд┐рдХ рдХрд╛рд╕реНрдЯрд┐рдВрдЧ рдХреЗ рд╕рд╛рде, рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдХрд╛ рдкрд░рд┐рдгрд╛рдо рдШреЛрдВрд╕рд▓реЗ рдХреЗ рдПрдХ рд╕реНрддрд░ рдХреЗ рд╕рд╛рде рдПрдХ рд╡реИрдХрд▓реНрдкрд┐рдХ рд╣реЛрдЧрд╛ред </p><br><p>  рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ?  рд╕рд╛рде рдореЗрдВ: </p><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">// Swift 4.2 let jsonDict = try? JSONSerialization.jsonObject(with: data, options: []) as? [String: Any] //  jsonDict - [String: Any]?? // Swift 5 let jsonDict = try? JSONSerialization.jsonObject(with: data, options: []) as? [String: Any] //  jsonDict - [String: Any]?</span></span></code> </pre> <br><p>  рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВ?  рдПрдХ рд╕рд╛рде рд╡реИрдХрд▓реНрдкрд┐рдХ рд╡рд╕реНрддреБ рд╡рд┐рдзрд┐ рдХреЗ рд╕рд╛рде: </p><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">// Swift 4.2 let article = try? storage?.getArticle() //  article - Article?? //  if let first = article, let second = first { first //  Article? second //  Article } //   if case let value?? = article { value //  Article } // Swift 5 let article = try? storage?.getArticle() //  article - Article? //  if let value = article { value //  Article }</span></span></code> </pre> <br><p>  рдЖрдк <a href="">рдЗрд╕ рд╡рд╛рдХреНрдп рдореЗрдВ</a> рдЕрдзрд┐рдХ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h1 id="atribut-dynamiccallable">  @ рдбрд╛рдпрдирд╛рдорд┐рдХ рдХреЙрд▓ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рд╡рд┐рд╢реЗрд╖рддрд╛ </h1><br><p>  рдирдИ @dynamicCallable рд╡рд┐рд╢реЗрд╖рддрд╛ рдЖрдкрдХреЛ "рдХреЙрд▓ рдХрд░рдиреЗ рдпреЛрдЧреНрдп" рдХреЗ рд░реВрдк рдореЗрдВ рдЪрд┐рд╣реНрдирд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред  рдЗрд╕рдХрд╛ рдорддрд▓рдм рд╣реИ рдХрд┐ рд╣рдо рдЯрд╛рдЗрдк рдХреЛ рд╕рд╛рдорд╛рдиреНрдп рд╡рд┐рдзрд┐ рдХрд╣ рд╕рдХрддреЗ рд╣реИрдВред <br>  рдпрджрд┐ рд╣рдо @dynamicCallable рдХреЗ рд░реВрдк рдореЗрдВ рдЯрд╛рдЗрдк рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рд╡рд┐рдзрд┐рдпреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ (рдпрд╛ рджреЛрдиреЛрдВ) рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рд╣реЛрдЧрд╛: </p><br><pre> <code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dynamicallyCall</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(withArguments: &lt;#Arguments#&gt;)</span></span></span></span> -&gt; &lt;#<span class="hljs-type"><span class="hljs-type">R1</span></span>#&gt; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dynamicallyCall</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(withKeywordArguments: &lt;#KeywordArguments#&gt;)</span></span></span></span> -&gt; &lt;#<span class="hljs-type"><span class="hljs-type">R2</span></span>#&gt;</code> </pre> <br><p>  рддрд░реНрдХ рдкреНрд░рдХрд╛рд░ ExpressibleByArrayLiteral рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, KeywordArguments рдкреНрд░рдХрд╛рд░ рдХреЛ ExpressibleByDictionaryLiteral рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП, рдФрд░ R1 рдФрд░ R2 рдХрд┐рд╕реА рднреА рдкреНрд░рдХрд╛рд░ рдХрд╛ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╕рдо рдХреА рд╕рдВрд░рдЪрдирд╛ред  рдЬрдм рдЖрдк рдЗрд╕реЗ рдХреЙрд▓ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдХрд┐рд╕реА рднреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрдирдХреА рд░рд╛рд╢рд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="swift hljs">@dynamicCallable <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Sum</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dynamicallyCall</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(withArguments args: [Int])</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Int</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> args.<span class="hljs-built_in"><span class="hljs-built_in">reduce</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, +) } } <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> sum = <span class="hljs-type"><span class="hljs-type">Sum</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> result = sum(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(result) <span class="hljs-comment"><span class="hljs-comment">// 10</span></span></code> </pre> <br><p>  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдХрдВрдкрд╛рдЗрд▓рд░ рд░рд╛рд╢рд┐ (1, 2, 3, 4) рдХреЛ рдХреЙрд▓ рдореЗрдВ sum.dynamicallyCall (withArguments: [1, 2, 3, 4]) рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рддрд╛ рд╣реИред  рдЗрд╕реА рддрд░рд╣ рдбрд╛рдпрдирд╛рдорд┐рдХ рд░реВрдк рд╕реЗ (withKeywordArguments :) рд╡рд┐рдзрд┐ред </p><br><p>  рдпрд╣ рд╕реБрд╡рд┐рдзрд╛ рдЖрдкрдХреЛ рд╡рд┐рднрд┐рдиреНрди рдЧрддрд┐рд╢реАрд▓ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛рдУрдВ рдХреЗ рд╕рд╛рде рд╕реНрд╡рд┐рдлреНрдЯ рдХреЛрдб рдХреЗ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдкрд╛рдпрдерди рдпрд╛ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯред </p><br><p>  рдЖрдк <a href="">рдЗрд╕ рд╡рд╛рдХреНрдп рдореЗрдВ</a> рдЕрдзрд┐рдХ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h1 id="podderzhka-operatora-menshe-v-direktivah-proverki-versii-kompilyatora-i-yazyka">  рд╕рдВрдХрд▓рдХ рд╕рдВрд╕реНрдХрд░рдг рдФрд░ рднрд╛рд╖рд╛ рдХреА рдЬрд╛рдВрдЪ рдХреЗ рдирд┐рд░реНрджреЗрд╢реЛрдВ рдореЗрдВ рдХрдо рдСрдкрд░реЗрдЯрд░ рд╕рдорд░реНрдерди </h1><br><p>  рд╕реНрд╡рд┐рдлреНрдЯ рдХреЗ 5 рд╡реЗрдВ рд╕рдВрд╕реНрдХрд░рдг рд╕реЗ рд╢реБрд░реВ рд╣реЛрдХрд░, рдЖрдк рдХреЛрдб рдореЗрдВ рдХрдВрдкрд╛рдЗрд▓рд░ рд╕рдВрд╕реНрдХрд░рдг рдХреА рдЬрд╛рдВрдЪ рдХрд░рддреЗ рд╕рдордп "рдХрдо" рдСрдкрд░реЗрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="swift hljs"><span class="hljs-comment"><span class="hljs-comment">// Swift 4.2 #if !swift(&gt;=5) //        4.2   #endif // Swift 5 #if swift(&lt;5) //        4.2   #endif</span></span></code> </pre> <br><h1 id="zaklyuchenie">  рдирд┐рд╖реНрдХрд░реНрд╖ </h1><br><p>  рдпреЗ рд╕рднреА рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдВ рдФрд░ рд╕реБрдзрд╛рд░ рдирд╣реАрдВ рд╣реИрдВ рдЬреЛ рд╕реНрд╡рд┐рдлреНрдЯ 5 рдореЗрдВ рджрд┐рдЦрд╛рдИ рджрд┐рдПред рдХреБрд▓ рдорд┐рд▓рд╛рдХрд░, рд╕рдореБрджрд╛рдп рд╕реЗ 28 рдкреНрд░рд╕реНрддрд╛рд╡реЛрдВ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд┐рдпрд╛ рдЧрдпрд╛, рдЬрд┐рд╕рдореЗрдВ рд▓рд╛рдЗрди рдкреНрд░рджрд░реНрд╢рди рдореЗрдВ рд╕реБрдзрд╛рд░, рд╕реНрд╡рд┐рдлреНрдЯ рдкреИрдХреЗрдЬ рдореИрдиреЗрдЬрд░ рдореЗрдВ рд╕реБрдзрд╛рд░ рдФрд░ рдорд╛рдирдХ рдкреБрд╕реНрддрдХрд╛рд▓рдп рднреА рд╢рд╛рдорд┐рд▓ рдереЗред  рдкрд░рд┐рд╡рд░реНрддрди рдФрд░ рд╕реБрдзрд╛рд░ рдХреА рдкреВрд░реА рд╕реВрдЪреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЬрд╛рд░реА рдиреЛрдЯреЛрдВ рдореЗрдВ</a> рдкрд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИред </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi444862/">https://habr.com/ru/post/hi444862/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi444850/index.html">рдХреНрд╡рд╛рдВрдЯрдо рдпрд╛рдВрддреНрд░рд┐рдХреА: рд╡реНрдпрд╛рдЦреНрдпрд╛рдУрдВ рдХреЗ рдпреБрджреНрдз рдХрд╛ рдЕрдВрдд</a></li>
<li><a href="../hi444852/index.html">рд╕реНрдорд╛рд░реНрдЯ рд╣реЛрдо - рдкреБрдирд░реНрд╡рд┐рдЪрд╛рд░</a></li>
<li><a href="../hi444854/index.html">PureLayout (рднрд╛рдЧ 1) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░реЛрдЧреНрд░рд╛рдореЗрдЯрд┐рдХ рд░реВрдк рд╕реЗ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рддрддреНрд╡ рдмрдирд╛рдирд╛</a></li>
<li><a href="../hi444858/index.html">рд╕рдмрд╕реЗ рдЕрдЪреНрдЫреЗ рдЙрдкрд╛рдп рдХреА рдЦреЛрдЬ рдореЗрдВ</a></li>
<li><a href="../hi444860/index.html">OFFZONE 2.0</a></li>
<li><a href="../hi444864/index.html">USB рдЯрд╛рдЗрдкрд░рд╛рдЗрдЯрд░</a></li>
<li><a href="../hi444866/index.html">рдкрд╛рдпрдерди рд╕реЗ рдЧреЛ рддрдХ рдореЗрд░рд╛ рд░рд╛рд╕реНрддрд╛ - рд╕реБрдЭрд╛рд╡ рдФрд░ рд╕рдВрд╕рд╛рдзрди рд╕рд╛рдЭрд╛ рдХрд░рдирд╛</a></li>
<li><a href="../hi444868/index.html">рдХреИрд╕реЗ рд╕рднреА рдХреЗ рд▓рд┐рдП рдПрдХ рдкреИрд▓реЗрдЯ рдЖрд░рд╛рдорджрд╛рдпрдХ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП</a></li>
<li><a href="../hi444870/index.html">рдХреЙрд░реНрдкреЛрд░реЗрдЯ рд╡реНрдпрд╛рдкрд╛рд░ рд╕рдВрд░рдЪрдирд╛ 2019</a></li>
<li><a href="../hi444872/index.html">рд░реВрд╕ рдореЗрдВ рдЬрд╝реИрдмрд┐рдХреНрд╕ рдХрд╛ рдЙрджреНрдШрд╛рдЯрди рдХреИрд╕реЗ рд╣реБрдЖ?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>