<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§òüèΩ üë©‚Äç‚ù§Ô∏è‚Äçüë® üö≤ G√©n√©ration de code dans Uber üôáüèø üìò ü§¶üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Chacun de nous fait une corv√©e. Tout le monde √©crit du code passe-partout. Pourquoi? N'est-il pas pr√©f√©rable d'automatiser ce processus et de travaill...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>G√©n√©ration de code dans Uber</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/e-Legion/blog/413603/">  Chacun de nous fait une corv√©e.  Tout le monde √©crit du code passe-partout.  Pourquoi?  N'est-il pas pr√©f√©rable d'automatiser ce processus et de travailler uniquement sur des t√¢ches int√©ressantes?  Lisez cet article si vous souhaitez que l'ordinateur effectue un tel travail pour vous. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/144/cb5/052/144cb5052ca1830f2aac609dc3cc93c0.jpg" alt="image"></a> <br><br>  <i>Cet article est bas√© sur une transcription d'un rapport de Zack Sweers, d√©veloppeur d'applications mobiles Uber, qui a pris la parole lors de la conf√©rence <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MBLT DEV</a> en 2017.</i> <i><br></i> <br><a name="habracut"></a>  Uber compte environ 300 d√©veloppeurs d'applications mobiles.  Je travaille dans une √©quipe appel√©e ¬´plateforme mobile¬ª.  Le travail de mon √©quipe est de simplifier et d'am√©liorer au maximum le processus de d√©veloppement d'applications mobiles.  Nous travaillons principalement sur les frameworks internes, les biblioth√®ques, les architectures, etc.  En raison de l'effectif important, nous devons r√©aliser des projets √† grande √©chelle dont nos ing√©nieurs auront besoin √† l'avenir.  Ce peut √™tre demain, ou peut-√™tre le mois prochain ou m√™me un an. <br><br><h3>  G√©n√©ration de code pour l'automatisation </h3><br>  Je voudrais d√©montrer la valeur du processus de g√©n√©ration de code, ainsi que consid√©rer quelques exemples pratiques.  Le processus lui-m√™me ressemble √† ceci: <br><br><pre><code class="hljs python">FileSpec.builder(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">"Presentation"</span></span>) .addComment(<span class="hljs-string"><span class="hljs-string">"Code generating your way to happiness."</span></span>) .addAnnotation(AnnotationSpec.builder(Author::<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">) .</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">addMember</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(</span></span><span class="hljs-string"><span class="hljs-class"><span class="hljs-params"><span class="hljs-string">"name"</span></span></span></span><span class="hljs-class"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-class"><span class="hljs-params"><span class="hljs-string">"%S"</span></span></span></span><span class="hljs-class"><span class="hljs-params">, </span></span><span class="hljs-string"><span class="hljs-class"><span class="hljs-params"><span class="hljs-string">"Zac Sweers"</span></span></span></span><span class="hljs-class"><span class="hljs-params">)</span></span></span><span class="hljs-class"> .</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">useSiteTarget</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(FILE)</span></span></span><span class="hljs-class"> .</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span><span class="hljs-class">) .</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">()</span></span></span></span></code> </pre> <br>  Ceci est un exemple d'utilisation de Kotlin Poet.  Kotlin Poet est une biblioth√®que avec une bonne API qui g√©n√®re du code Kotlin.  Alors que voit-on ici? <br><br><ol><li>  <b>FileSpec.builder</b> cr√©e un fichier appel√© ¬´ <b>Pr√©sentation</b> ¬ª. </li><li>  <b>.addComment ()</b> - Ajoute un commentaire au code g√©n√©r√©. </li><li>  <b>.addAnnotation ()</b> - Ajoute une annotation de type <b>Auteur</b> . </li><li>  <b>.addMember ()</b> - ajoute une variable " <b>nom</b> " avec un param√®tre, dans notre cas c'est " <b>Zac Sweers</b> ".  <b>% S</b> - type de param√®tre. </li><li>  <b>.useSiteTarget ()</b> - Installe SiteTarget. </li><li>  <b>.build ()</b> - compl√®te la description du code qui sera g√©n√©r√©. </li></ol><br>  Apr√®s la g√©n√©ration de code, les √©l√©ments suivants sont obtenus: <br><br><pre> <code class="hljs pgsql">Presentation.kt // Code generating your way <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> happiness. @file:Author(<span class="hljs-type"><span class="hljs-type">name</span></span> = "Zac Sweers")</code> </pre> <br>  Le r√©sultat de la g√©n√©ration de code est un fichier avec le nom, le commentaire, l'annotation et le nom de l'auteur.  La question se pose imm√©diatement: "Pourquoi dois-je g√©n√©rer ce code si je peux le faire en quelques √©tapes simples?"  Oui, vous avez raison, mais que faire si j'ai besoin d'un millier de ces fichiers avec diff√©rentes options de configuration?  Que se passe-t-il si nous commen√ßons √† modifier les valeurs de ce code?  Et si nous avons plusieurs pr√©sentations?  Et si nous avons beaucoup de conf√©rences? <br><br><pre> <code class="hljs pgsql">conferences .flatMap { it.presentations } .onEach { (presentationName, <span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>, author) -&gt; FileSpec.builder("", presentationName) .addComment(<span class="hljs-keyword"><span class="hljs-keyword">comment</span></span>) .addAnnotation(AnnotationSpec.builder(Author::<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>) .addMember("name", "%S", author) .useSiteTarget(FILE) .build()) .build() }</code> </pre><br>  En cons√©quence, nous arriverons √† la conclusion qu'il est tout simplement impossible de maintenir un tel nombre de fichiers manuellement - il est n√©cessaire d'automatiser.  Par cons√©quent, le premier avantage de la g√©n√©ration de code est de se d√©barrasser du travail de routine. <br><br><h3>  G√©n√©ration de code sans erreur </h3><br>  Le deuxi√®me avantage important de l'automatisation est un fonctionnement sans erreur.  Tout le monde fait des erreurs.  Cela se produit surtout souvent lorsque nous faisons la m√™me chose.  Les ordinateurs, au contraire, font parfaitement ce travail. <br><br>  Prenons un exemple simple.  Il existe une classe Personne: <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> firstName: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> lastName: String)</code> </pre><br>  Supposons que nous voulons lui ajouter de la s√©rialisation en JSON.  Nous le ferons en utilisant la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Moshi</b></a> , car elle est assez simple et id√©ale pour la d√©monstration.  Cr√©ez un PersonJsonAdapter et h√©ritez de JsonAdapter avec un param√®tre de type Person: <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> firstName: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> lastName: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PersonJsonAdapter</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">JsonAdapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Person</span></span></span><span class="hljs-class">&gt;</span></span>() { }</code> </pre><br>  Ensuite, nous impl√©mentons la m√©thode fromJson.  Il fournit un lecteur pour lire les informations qui seront finalement retourn√©es √† la personne.  Ensuite, nous remplissons les champs avec le pr√©nom et le nom et obtenons la nouvelle valeur de Personne: <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> firstName: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> lastName: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PersonJsonAdapter</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">JsonAdapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Person</span></span></span><span class="hljs-class">&gt;</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromJson</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(reader: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">JsonReader</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: Person? { <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> firstName: String <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lastName: String <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Person(firstName, lastName) } }</code> </pre><br>  Ensuite, nous regardons les donn√©es au format JSON, les v√©rifions et les entrons dans les champs n√©cessaires: <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> firstName: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> lastName: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PersonJsonAdapter</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">JsonAdapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Person</span></span></span><span class="hljs-class">&gt;</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromJson</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(reader: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">JsonReader</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: Person? { <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> firstName: String <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lastName: String <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (reader.hasNext()) { <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> (reader.nextName()) { <span class="hljs-string"><span class="hljs-string">"firstName"</span></span> -&gt; firstName = reader.nextString() <span class="hljs-string"><span class="hljs-string">"lastName"</span></span> -&gt; lastName = reader.nextString() } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Person(firstName, lastName) } }</code> </pre><br>  Est-ce que cela fonctionnera?  Oui, mais il y a une nuance: les objets que nous lisons doivent √™tre contenus dans JSON.  Afin de filtrer les donn√©es exc√©dentaires pouvant provenir du serveur, ajoutez une autre ligne de code: <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> firstName: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> lastName: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PersonJsonAdapter</span></span></span><span class="hljs-class"> : </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">JsonAdapter</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Person</span></span></span><span class="hljs-class">&gt;</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fromJson</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(reader: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">JsonReader</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>: Person? { <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> firstName: String <span class="hljs-keyword"><span class="hljs-keyword">lateinit</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lastName: String <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (reader.hasNext()) { <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> (reader.nextName()) { <span class="hljs-string"><span class="hljs-string">"firstName"</span></span> -&gt; firstName = reader.nextString() <span class="hljs-string"><span class="hljs-string">"lastName"</span></span> -&gt; lastName = reader.nextString() <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> -&gt; reader.skipValue() } } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Person(firstName, lastName) } }</code> </pre><br>  √Ä ce stade, nous avons r√©ussi √† contourner le domaine du code de routine.  Dans cet exemple, seulement deux champs de valeur.  Cependant, ce code a un tas de sections diff√©rentes o√π vous pourriez soudainement tomber en panne.  Soudain, nous avons fait une erreur dans le code? <br><br>  Prenons un autre exemple: <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> firstName: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> lastName: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">City</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> name: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> country: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vehicle</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> licensePlate: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Restaurant</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> type: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> address: Address) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Payment</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> cardNumber: String, <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> type: String) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TipAmount</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> value: <span class="hljs-built_in"><span class="hljs-built_in">Double</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rating</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> numStars: <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Correctness</span></span></span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> confidence: <span class="hljs-built_in"><span class="hljs-built_in">Double</span></span>)</code> </pre><br>  Si vous avez au moins un probl√®me tous les 10 mod√®les environ, cela signifie que vous aurez certainement des difficult√©s dans ce domaine.  Et c'est le cas lorsque la g√©n√©ration de code peut vraiment vous √™tre utile.  S'il y a beaucoup de classes, vous ne pourrez pas travailler sans automatisation, car tout le monde autorise les fautes de frappe.  Avec l'aide de la g√©n√©ration de code, toutes les t√¢ches seront effectu√©es automatiquement et sans erreur. <br><br>  La g√©n√©ration de code pr√©sente d'autres avantages.  Par exemple, il donne des informations sur le code ou vous indique si quelque chose ne va pas.  La g√©n√©ration de code sera utile pendant la phase de test.  Si vous utilisez le code g√©n√©r√©, vous pouvez voir √† quoi ressemblera r√©ellement le code de travail.  Vous pouvez m√™me ex√©cuter la g√©n√©ration de code pendant les tests pour simplifier votre travail. <br><br>  Conclusion: il vaut la peine de consid√©rer la g√©n√©ration de code comme une solution possible pour se d√©barrasser des erreurs. <br><br>  Examinons maintenant les outils logiciels qui aident √† la g√©n√©ration de code. <br><br><h3>  Les outils </h3><br><ol><li>  Les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>biblioth√®ques</b></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>JavaPoet</b></a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>KotlinPoet</b></a> pour Java et Kotlin, respectivement.  Ce sont les normes de g√©n√©ration de code. </li><li>  Patternisation.  Un exemple populaire de mod√®les pour Java est <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Apache Velocity</b></a> et pour les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>guidons</b></a> iOS. </li><li>  <b>SPI</b> - Interface du processeur de service.  Il est int√©gr√© √† Java et vous permet de cr√©er et d'appliquer une interface, puis de la d√©clarer dans un JAR.  Lorsque le programme est ex√©cut√©, vous pouvez obtenir toutes les impl√©mentations pr√™tes √† l'emploi de l'interface. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Compile Testing</b></a> est une biblioth√®que de Google qui aide aux tests de compilation.  En termes de g√©n√©ration de code, cela signifie: "Voici ce que j'attendais, mais voici ce que j'ai finalement obtenu."  La compilation d√©marrera en m√©moire, puis le syst√®me vous dira si ce processus s'est termin√© ou quelles erreurs se sont produites.  Si la compilation est termin√©e, il vous sera demand√© de comparer le r√©sultat avec vos attentes.  La comparaison est bas√©e sur le code compil√©, alors ne vous inqui√©tez pas de choses comme la mise en forme du code ou toute autre chose. </li></ol><br><h3>  Outils de cr√©ation de code </h3><br>  Il existe deux outils principaux pour cr√©er du code: <br><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Traitement des annotations</b></a> - vous pouvez √©crire des annotations dans le code et demander au programme des informations suppl√©mentaires √† leur sujet.  Le compilateur fournira des informations avant m√™me d'avoir fini de travailler avec le code source. </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Gradle</b></a> est un syst√®me d'assemblage d'applications avec de nombreux hooks (hook - interception d'appels de fonction) dans son cycle de vie d'assembly de code.  Il est largement utilis√© dans le d√©veloppement Android.  Il vous permet √©galement d'appliquer la g√©n√©ration de code au code source, qui est ind√©pendant de la source actuelle. </li></ol><br>  Consid√©rons maintenant quelques exemples. <br><br><h3>  Couteau √† beurre </h3><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Butter Knife</b></a> est une biblioth√®que d√©velopp√©e par Jake Wharton.  Il est une figure bien connue de la communaut√© des d√©veloppeurs.  La biblioth√®que est tr√®s populaire parmi les d√©veloppeurs Android car elle permet d'√©viter la grande quantit√© de travail de routine auquel presque tout le monde est confront√©. <br><br>  Habituellement, nous initialisons la vue de cette fa√ßon: <br><br><pre> <code class="java hljs">TextView title; ImageView icon; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ title = findViewById(R.id.title); icon = findViewById(R.id.icon); }</code> </pre><br>  Avec Butterknife, cela ressemblera √† ceci: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.title) TextView title; <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.icon) ImageView icon; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ ButterKnife.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); }</code> </pre><br>  Et nous pouvons facilement ajouter un nombre illimit√© de vues, tandis que la m√©thode onCreate n'augmentera pas le code passe-partout: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.title) TextView title; <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.text) TextView text; <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.icon) ImageView icon; <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.button) Button button; <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.next) Button next; <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.back) Button back; <span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.open) Button open; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ ButterKnife.bind(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); }</code> </pre><br>  Au lieu d'effectuer manuellement cette liaison √† chaque fois, vous ajoutez simplement des annotations @BindView √† ces champs, ainsi que les identifiants (ID) auxquels ils sont affect√©s. <br><br>  La chose int√©ressante √† propos de Butter Knife est qu'il va analyser le code et g√©n√©rer toutes ses sections similaires pour vous.  Il a √©galement une excellente √©volutivit√© pour les nouvelles donn√©es.  Par cons√©quent, si de nouvelles donn√©es apparaissent, il n'est pas n√©cessaire de r√©appliquer onCreate ou de suivre quelque chose manuellement.  Cette biblioth√®que est √©galement id√©ale pour supprimer des donn√©es. <br><br>  Alors, √† quoi ressemble ce syst√®me de l'int√©rieur?  La vue est recherch√©e par reconnaissance de code et ce processus est effectu√© au stade du traitement des annotations. <br><br>  Nous avons ce domaine: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@BindView</span></span>(R.id.title) TextView title;</code> </pre><br>  A en juger par ces donn√©es, elles sont utilis√©es dans une certaine FooActivity: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// FooActivity @BindView(R.id.title) TextView title;</span></span></code> </pre><br>  Elle a sa propre signification (R.id.title), qui agit comme la cible.  Veuillez noter que lors du traitement des donn√©es, cet objet devient une valeur constante √† l'int√©rieur du syst√®me: <br><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// FooActivity @BindView(2131361859) TextView title;</span></span></code> </pre><br>  C'est normal.  C'est √† cela que Butter Knife devrait avoir acc√®s de toute fa√ßon.  Il existe un composant TextView en tant que type.  Le champ lui-m√™me est appel√© titre.  Si, par exemple, nous cr√©ons une classe de conteneur √† partir de ces donn√©es, nous obtenons quelque chose comme ceci: <br><br><pre> <code class="java hljs">ViewBinding( target = <span class="hljs-string"><span class="hljs-string">"FooActivity"</span></span>, id = <span class="hljs-number"><span class="hljs-number">2131361859</span></span>, name = <span class="hljs-string"><span class="hljs-string">"title"</span></span>, type = <span class="hljs-string"><span class="hljs-string">"field"</span></span>, viewType = TextView.class )</code> </pre><br>  Ainsi, toutes ces donn√©es peuvent √™tre facilement obtenues lors de leur traitement.  Il est √©galement tr√®s similaire √† ce que fait Butter Knife √† l'int√©rieur du syst√®me. <br><br>  En cons√©quence, cette classe est g√©n√©r√©e ici: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">FooActivity_ViewBinding</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Unbinder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> FooActivity target; <span class="hljs-meta"><span class="hljs-meta">@UiThread</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FooActivity_ViewBinding</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(FooActivity target, View source)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.target = target; target.title = Utils.findRequiredViewAsType(source, <span class="hljs-number"><span class="hljs-number">2131361859</span></span>, <span class="hljs-comment"><span class="hljs-comment">// R.id.title "field 'title'", TextView.class); } }</span></span></code> </pre><br>  Nous voyons ici que toutes ces donn√©es sont rassembl√©es.  Par cons√©quent, nous avons la classe cible ViewBinding de la biblioth√®que java Underscore.  √Ä l'int√©rieur, ce syst√®me est organis√© de telle mani√®re que chaque fois que vous cr√©ez une instance de la classe, il ex√©cute imm√©diatement toutes ces liaisons aux informations (code) que vous avez g√©n√©r√©es.  Et tout cela est pr√©c√©demment g√©n√©r√© statiquement lors du traitement des annotations, ce qui signifie qu'il est techniquement correct. <br><br>  Revenons √† notre pipeline de logiciels: <br><br><img src="https://habrastorage.org/webt/t3/d3/jv/t3d3jv5bxgx5q3occc3ldovxfjm.png"><br><br>  Pendant le traitement des annotations, le syst√®me lit ces annotations et g√©n√®re la classe ViewBinding.  Et puis pendant la m√©thode de liaison, nous effectuons une recherche identique pour la m√™me classe d'une mani√®re simple: nous prenons son nom et ajoutons le ViewBinding √† la fin.  En soi, une section avec un ViewBinding pendant le traitement est √©cras√©e dans la zone sp√©cifi√©e √† l'aide de JavaPoet. <br><br><h3>  Rxbindings </h3><br>  RxBindings seul n'est pas responsable de la g√©n√©ration de code.  Il ne g√®re pas les annotations et n'est pas un plugin Gradle.  Ceci est une biblioth√®que ordinaire.  Il fournit des usines statiques bas√©es sur le principe de la programmation r√©active pour l'API Android.  Cela signifie que, par exemple, si vous avez setOnClickListener, une m√©thode de clic appara√Ætra qui retournera un flux d'√©v√©nements (observables).  Il agit comme un pont (mod√®le de conception). <br><br>  Mais en r√©alit√©, il existe une g√©n√©ration de code dans RxBinding: <br><br><img src="https://habrastorage.org/webt/ju/ty/bv/jutybv1ayxqhcfrs9l4virsivb8.png"><br><br>  Dans ce r√©pertoire appel√© buildSrc, il y a une t√¢che Gradle appel√©e KotlinGenTask.  Cela signifie que tout cela est r√©ellement cr√©√© par la g√©n√©ration de code.  RxBinding a des impl√©mentations Java.  Elle poss√®de √©galement des artefacts Kotlin qui contiennent des fonctions d'extension pour tous les types de cibles.  Et tout cela est tr√®s strictement soumis aux r√®gles.  Par exemple, vous pouvez g√©n√©rer toutes les fonctions d'extension de Kotlin et vous n'avez pas besoin de les contr√¥ler individuellement. <br><br>  √Ä quoi √ßa ressemble vraiment? <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Observable&lt;Object&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clicks</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ViewClickObservable(view); }</code> </pre><br>  Voici une m√©thode RxBinding compl√®tement classique.  Les objets observables sont retourn√©s ici.  La m√©thode s'appelle les clics.  Le travail avec les √©v√©nements de clic a lieu ¬´sous le capot¬ª.  Nous omettons les fragments de code suppl√©mentaires pour maintenir la lisibilit√© de l'exemple.  √Ä Kotlin, cela ressemble √† ceci: <br><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> View.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clicks</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: Observable&lt;Object&gt; = RxView.clicks(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)</code> </pre><br>  Cette fonction d'extension renvoie des objets observables.  Dans la structure interne du programme, il appelle directement l'interface Java habituelle pour nous.  Dans Kotlin, vous devez changer cela en Type d'unit√©: <br><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> View.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clicks</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: Observable&lt;<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>&gt; = RxView.clicks(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)</code> </pre><br>  Autrement dit, en Java, cela ressemble √† ceci: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> Observable&lt;Object&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clicks</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ViewClickObservable(view); }</code> </pre><br>  Et le code Kotlin aussi: <br><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> View.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clicks</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: Observable&lt;<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>&gt; = RxView.clicks(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)</code> </pre><br>  Nous avons une classe RxView qui contient cette m√©thode.  Nous pouvons remplacer les donn√©es correspondantes dans l'attribut cible, dans l'attribut name par le nom de la m√©thode et dans le type que nous d√©veloppons, ainsi que dans le type de la valeur de retour.  Toutes ces informations seront suffisantes pour commencer √† √©crire ces m√©thodes: <br><br><pre> <code class="hljs pgsql">BindingMethod( target = "RxView", <span class="hljs-type"><span class="hljs-type">name</span></span> = "clicks", <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">View</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">class</span></span>, returnType = "Observable&lt;Unit&gt;" )</code> </pre><br>  Maintenant, nous pouvons directement substituer ces fragments dans le code Kotlin g√©n√©r√© √† l'int√©rieur du programme.  Voici le r√©sultat: <br><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> View.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">clicks</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>: Observable&lt;<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>&gt; = RxView.clicks(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>)</code> </pre><br><h3>  Service gen </h3><br>  Nous travaillons sur Service Gen chez Uber.  Si vous travaillez dans une entreprise et que vous traitez avec des caract√©ristiques g√©n√©rales et une interface logicielle commune pour le backend et le c√¥t√© client, que vous d√©veloppiez des applications Android, iOS ou Web, cela n'a aucun sens de cr√©er manuellement des mod√®les et des services pour le travail d'√©quipe. <br><br>  Nous utilisons la biblioth√®que <a href=""><b>AutoValue</b></a> de Google pour les mod√®les d'objets.  Il traite les annotations, analyse les donn√©es et g√©n√®re un code de hachage sur deux lignes, la m√©thode equals () et d'autres impl√©mentations.  Elle est √©galement responsable du support des extensions. <br><br>  Nous avons un objet de type Rider: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@AutoValue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">uuid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">firstName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> Address </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">address</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br>  Nous avons des lignes avec ID, pr√©nom, nom et adresse.  Pour travailler avec le r√©seau, nous utilisons les biblioth√®ques Retrofit et OkHttp, et JSON comme format de donn√©es.  Nous utilisons √©galement RxJava pour la programmation r√©active.  Voici √† quoi ressemble notre service API g√©n√©r√©: <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UberService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@GET(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"/rider"</span></span></span><span class="hljs-meta">)</span></span> Rider getRider() }</code> </pre><br>  Nous pouvons √©crire tout cela manuellement, si nous le souhaitons.  Et pendant une longue p√©riode, nous l'avons fait.  Mais cela prend beaucoup de temps.  Au final, cela co√ªte cher en temps et en argent. <br><br><h3>  Quoi et comment Uber fait aujourd'hui </h3><br>  La derni√®re t√¢che de mon √©quipe est de cr√©er un √©diteur de texte √† partir de z√©ro.  Nous avons d√©cid√© de ne plus √©crire manuellement le code qui frappe ensuite le r√©seau, nous utilisons donc <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Thrift</b></a> .  C'est quelque chose comme un langage de programmation et un protocole √† la fois.  Uber utilise Thrift comme langage pour les sp√©cifications techniques. <br><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">required</span></span> string uuid; <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">required</span></span> string firstName; <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">required</span></span> string lastName; <span class="hljs-number"><span class="hljs-number">4</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">optional</span></span> <span class="hljs-type"><span class="hljs-type">Address</span></span> address; }</code> </pre><br>  Dans Thrift, nous d√©finissons des contrats API entre le backend et le c√¥t√© client, puis g√©n√©rons simplement le code appropri√©.  Nous utilisons la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>Thrifty</b></a> pour analyser les donn√©es et JavaPoet pour la g√©n√©ration de code.  √Ä la fin, nous g√©n√©rons des impl√©mentations √† l'aide d'AutoValue: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@AutoValue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">uuid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">firstName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> Address </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">address</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br>  Nous faisons tout le travail en JSON.  Il existe une extension appel√©e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b>AutoValue Moshi</b></a> , qui peut √™tre ajout√©e aux classes AutoValue √† l'aide de la m√©thode statique jsonAdapter: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@AutoValue</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rider</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">uuid</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">firstName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lastName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">abstract</span></span></span><span class="hljs-function"> Address </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">address</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> JsonAdapter&lt;Rider&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jsonAdapter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Moshi moshi)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> AutoValue_Rider.JsonAdapter(moshi); } }</code> </pre> <br>  Thrift contribue √©galement au d√©veloppement de services: <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">service</span></span> UberService { <span class="hljs-attribute"><span class="hljs-attribute">Rider</span></span> getRider() }</code> </pre><br>  Nous devons √©galement ajouter quelques m√©tadonn√©es ici pour nous faire savoir quel r√©sultat final nous voulons atteindre: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">service</span></span> UberService { <span class="hljs-attribute"><span class="hljs-attribute">Rider</span></span> getRider() (path=<span class="hljs-string"><span class="hljs-string">"/rider"</span></span>) }</code> </pre><br>  Apr√®s la g√©n√©ration du code, nous recevrons notre service: <br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UberService</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@GET</span></span>(<span class="hljs-string"><span class="hljs-string">"/rider"</span></span>) <span class="hljs-function"><span class="hljs-function">Single&lt;Rider&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRider</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br>  Mais ce n'est l√† qu'un des r√©sultats possibles.  Un mod√®le.  Comme nous le savons par exp√©rience, personne n'a jamais utilis√© un seul mod√®le.  Nous avons de nombreux mod√®les qui g√©n√®rent du code pour nos services: <br><br><pre> <code class="hljs rust"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rider</span></span></span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">City</span></span></span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vehicle</span></span></span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Restaurant</span></span></span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Payment</span></span></span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TipAmount</span></span></span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rating</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment">// And 6000 more</span></span></code> </pre><br>  En ce moment, nous avons environ 5-6 applications.  Et ils ont de nombreux services.  Et tout le monde passe par le m√™me pipeline de logiciels.  √âcrire tout cela √† la main serait fou. <br><br>  Dans la s√©rialisation en JSON, ¬´l'adaptateur¬ª n'a pas besoin d'√™tre enregistr√© dans Moshi, et si vous utilisez JSON, vous n'avez pas besoin de vous inscrire dans JSON.  Il est √©galement douteux de proposer aux salari√©s de r√©aliser la d√©s√©rialisation en r√©√©crivant le code via un graphe DI. <br><br>  Mais nous travaillons avec Java, nous pouvons donc utiliser le mod√®le Factory, que nous g√©n√©rons via la biblioth√®que <b>Fractory</b> .  Nous pouvons g√©n√©rer cela parce que nous connaissons ces types avant la compilation.  Fractory g√©n√®re un adaptateur comme celui-ci: <br><br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ModelsAdapterFactory</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JsonAdapter</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Factory</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> JsonAdapter&lt;?&gt; create(Type type, Set&lt;? extends Annotation&gt; annotations, Moshi moshi) { Class&lt;?&gt; rawType = Types.getRawType(type); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rawType.isAssignableFrom(Rider.class)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Rider.adapter(moshi); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rawType.isAssignableFrom(City.class)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> City.adapter(moshi); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rawType.isAssignableFrom(Vehicle.class)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Vehicle.adapter(moshi); } <span class="hljs-comment"><span class="hljs-comment">// Etc etc return null; } }</span></span></code> </pre><br>  Le code g√©n√©r√© n'a pas l'air tr√®s bon.  Si cela fait mal √† l'≈ìil, il peut √™tre r√©√©crit manuellement. <br><br>  Ici, vous pouvez voir les types mentionn√©s pr√©c√©demment avec les noms des services.  Le syst√®me d√©terminera automatiquement les adaptateurs √† s√©lectionner et les appellera.  Mais ici, nous sommes confront√©s √† un autre probl√®me.  Nous avons 6000 de ces adaptateurs.  M√™me si vous les divisez entre eux dans le m√™me mod√®le, le mod√®le ¬´Eats¬ª ou ¬´Driver¬ª tombera dans le mod√®le ¬´Rider¬ª ou sera dans son application.  Le code va s'√©tirer.  Apr√®s un certain point, il ne peut m√™me pas tenir dans un fichier .dex.  Par cons√©quent, vous devez en quelque sorte s√©parer les adaptateurs: <br><br><img src="https://habrastorage.org/webt/ds/ul/tg/dsultg8mrgkboye3dvwmfcepdou.png"><br><br>  Finalement, nous analyserons le code √† l'avance et cr√©erons un sous-projet fonctionnel pour celui-ci, comme dans Gradle: <br><br><img src="https://habrastorage.org/webt/-4/pj/fz/-4pjfzwuq-cwmdl8lil_cia4-pi.png"><br><br>  Dans la structure interne, ces d√©pendances deviennent des d√©pendances Gradle.  Les √©l√©ments utilisant l'application Rider en d√©pendent d√©sormais.  Avec eux, ils formeront les mod√®les dont ils ont besoin.  En cons√©quence, notre t√¢che sera r√©solue, et tout cela sera r√©glement√© par le syst√®me d'assemblage de code √† l'int√©rieur du programme. <br><br>  Mais ici, nous sommes confront√©s √† un autre probl√®me: nous avons maintenant un nombre n de mod√®les d'usine.  Tous sont compil√©s en divers objets: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> RiderModelFactory <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> GiftCardModelFactory <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> PricingModelFactory <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> DriverModelFactory <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> EATSModelFactory <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> PaymentsModelFactory</code> </pre><br>  Dans le processus de traitement des annotations, il ne sera pas possible de lire uniquement les annotations des d√©pendances externes et de g√©n√©rer du code suppl√©mentaire uniquement sur celles-ci. <br><br>  Solution: nous avons un certain support dans la biblioth√®que Fractory, ce qui nous aide d'une mani√®re d√©licate.  Il est contenu dans le processus de liaison des donn√©es.  Nous introduisons les m√©tadonn√©es en utilisant le param√®tre classpath dans l'archive Java pour leur stockage suppl√©mentaire: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> RiderModelFactory // -&gt; <span class="hljs-type"><span class="hljs-type">json</span></span> // -&gt; ridermodelfactory-fractory.bin <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> MyAppGlobalFactory // Delegates <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> discovered fractories</code> </pre><br>  Maintenant, chaque fois que vous devez les utiliser dans l'application, nous allons dans le filtre du r√©pertoire classpath avec ces fichiers, puis nous les extrayons √† partir de l√† au format JSON pour savoir quelles d√©pendances sont disponibles. <br><br><h3>  Comment tout se combine </h3><br><br><img src="https://habrastorage.org/webt/ih/nj/7i/ihnj7i5j631gcjbkgt-8u64h7l8.jpeg"><br><br>  Nous avons un <b>Thrift</b> .  Les donn√©es de l√† vont √† <b>Thrifty</b> et passent par l'analyse.  Ils passent ensuite par un programme de g√©n√©ration de code que nous appelons <b>Jenga</b> .  Il produit des fichiers au format Java.  Tout cela se produit m√™me avant la phase pr√©liminaire du traitement ou avant la compilation.  Et pendant le processus de compilation, les annotations sont trait√©es.  C'est <b>au</b> tour <b>d'AutoValue de</b> g√©n√©rer une impl√©mentation.  Il appelle √©galement <b>AutoValue Moshi</b> pour fournir un support JSON.  <b>Fractory est</b> √©galement <b>impliqu√©</b> .  Tout se passe pendant le processus de compilation.  Le processus est pr√©c√©d√© d'un composant pour cr√©er le projet lui-m√™me, qui g√©n√®re principalement des sous-projets <b>Gradle</b> . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maintenant que vous voyez l'image compl√®te, vous commencez √† remarquer les outils mentionn√©s pr√©c√©demment. </font><font style="vertical-align: inherit;">Ainsi, par exemple, il y a Gradle, cr√©ant des mod√®les, AutoValue, JavaPoet pour la g√©n√©ration de code. </font><font style="vertical-align: inherit;">Tous les outils sont non seulement utiles seuls, mais √©galement en combinaison les uns avec les autres.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Inconv√©nients de la g√©n√©ration de code </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il faut parler des pi√®ges. </font><font style="vertical-align: inherit;">Le inconv√©nient le plus √©vident est de gonfler le code et de perdre le contr√¥le de celui-ci. </font><font style="vertical-align: inherit;">Par exemple, Dagger occupe environ 10% de tout le code de l'application. </font><font style="vertical-align: inherit;">Les mod√®les occupent une part beaucoup plus importante - environ 25%. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chez Uber, nous essayons de r√©soudre le probl√®me en jetant le code inutile. </font><font style="vertical-align: inherit;">Nous devons effectuer une analyse statistique du code et comprendre quels domaines sont vraiment impliqu√©s dans le travail. </font><font style="vertical-align: inherit;">Quand nous le d√©couvrons, nous pouvons faire quelques transformations et voir ce qui se passe. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous pr√©voyons de r√©duire le nombre de mod√®les g√©n√©r√©s d'environ 40%. </font><font style="vertical-align: inherit;">Cela permettra d'acc√©l√©rer l'installation et le fonctionnement des applications, ainsi que de nous faire √©conomiser de l'argent.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment la g√©n√©ration de code affecte les d√©lais de d√©veloppement de projet </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La g√©n√©ration de code, bien s√ªr, acc√©l√®re le d√©veloppement, mais le timing d√©pend des outils que l'√©quipe utilise. </font><font style="vertical-align: inherit;">Par exemple, si vous travaillez √† Gradle, vous le faites tr√®s probablement √† un rythme mesur√©. </font><font style="vertical-align: inherit;">Le fait est que Gradle g√©n√®re des mod√®les une fois par jour, et non quand le d√©veloppeur le souhaite.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> En savoir plus sur le d√©veloppement chez Uber et d'autres grandes soci√©t√©s. </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le 28 septembre, la 5e Conf√©rence internationale des d√©veloppeurs mobiles </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MBLT DEV</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©bute √† Moscou </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">800 participants, haut-parleurs, quiz et puzzles pour ceux qui sont int√©ress√©s par le d√©veloppement d'Android et iOS. </font><font style="vertical-align: inherit;">Les organisateurs de la conf√©rence sont e-Legion et RAEC. </font><font style="vertical-align: inherit;">Vous pouvez devenir participant ou partenaire de MBLT DEV 2018 </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">sur le site Web de la conf√©rence</font></a><font style="vertical-align: inherit;"> .</font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=http://"><img src="https://habrastorage.org/webt/yr/u2/x0/yru2x0-bqpghfoa6zqfrkyluuhq.jpeg"></a> <br><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Signaler la vid√©o </font></font></h3><br><iframe width="560" height="315" src="https://www.youtube.com/embed/GpMR_Zjnn_Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr413603/">https://habr.com/ru/post/fr413603/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr413591/index.html">Robotique industrielle - 57 ans! Rappelez-vous d'o√π vient le d√©compte</a></li>
<li><a href="../fr413593/index.html">Continuer √† conqu√©rir le fond de la mer. Microsoft et son projet de centre de donn√©es sous-marin Natick 2</a></li>
<li><a href="../fr413597/index.html">¬´Dernier recours¬ª ou pourquoi la premi√®re conception de la base de donn√©es est n√©cessaire</a></li>
<li><a href="../fr413599/index.html">Il y a S.L.O.N.a en plusieurs parties. Introduisez ITAM et ne vous √©touffez pas</a></li>
<li><a href="../fr413601/index.html">Le centre de donn√©es de Microsoft chauffe-t-il la mer</a></li>
<li><a href="../fr413605/index.html">Demandez √† Ethan: que se passe-t-il lorsqu'une √©toile traverse le syst√®me solaire?</a></li>
<li><a href="../fr413607/index.html">Fintech digest: les monnaies num√©riques ne menacent pas le syst√®me financier de la F√©d√©ration de Russie; PayPal a d√©couvert combien les joueurs d√©pensent pour les jeux</a></li>
<li><a href="../fr413609/index.html">Syndrome d'imposteur: qu'est-ce que c'est et comment s'en d√©barrasser</a></li>
<li><a href="../fr413611/index.html">Comment CCTV a attaqu√© Positive Hack Days: concours CAMBreaker</a></li>
<li><a href="../fr413613/index.html">Ce vaisseau spatial sera plus proche du Soleil que tout ce qui l'a pr√©c√©d√© et ne fondra pas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>