<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥌 🛀🏾 👨🏼 Die Geschichte einer erfolgreichen Anwendung von SPR in einem Legacy-Projekt ⛵️ 🎇 🏂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Artikel werde ich Ihnen am Beispiel der Entwicklung meines Projekts die Geschichte des Übergangs und die Vision der Vertragsprogrammierung e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Die Geschichte einer erfolgreichen Anwendung von SPR in einem Legacy-Projekt</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468853/"> In diesem Artikel werde ich Ihnen am Beispiel der Entwicklung meines Projekts die Geschichte des Übergangs und die Vision der Vertragsprogrammierung erläutern. <br><br>  Zuerst wollte ich den Artikel „Vertragsprogrammierung“ nennen, sofern der verwendete Ansatz darin besteht, die gesamte Geschäftslogik in Datenverträge und Service-Clients zu unterteilen, die diese Verträge verwenden und über diese Datenstrukturen miteinander interagieren, so dass dies auch der Fall ist Die Struktur wird erfolgreich in verschiedenen Diensten verarbeitet. <br><br>  Etwas, das ich in meiner eigenen Sprache beschreiben werde. <br><a name="habracut"></a><br>  Die Geschichte meines Übergangs zur Vertragsprogrammierung begann mit der Tatsache, dass ich ein überwachsenes Legacy-Projekt mit einer Vielzahl unterschiedlicher Funktionen innerhalb desselben Geschäftsbereichs hatte.  Außerdem war dies immer noch Multithreading und Anpassung für verschiedene Kunden.  Der Geschäftsbereich war insbesondere der Austausch elektronischer rechtlich relevanter Dokumente zwischen Buchhaltungssystem, Datei- und Cloud-Diensten. <br><br>  Während der Entwicklung des Systems traten neue Geschäftsanforderungen auf, und infolgedessen entwickelte sich das Projekt schnell und wurde durch neue Funktionen kompliziert, was zu einer Situation führte, in der die Architektur des Projekts mehreren separaten Anwendungen mit verwandten Funktionen ähnelte.  Nur diese Funktionalität wurde implementiert, nicht aus gemeinsamen Elementen, sondern aus ähnlichen, aber unterschiedlich implementierten Strukturen in verschiedenen Assemblys und Namespaces. <br><br>  Visuell kann eine solche Architektur als mehrere Funktionsbereiche dargestellt werden <br><br><img src="https://habrastorage.org/webt/i9/ma/pf/i9mapfv3huwzddt7xcbghogdxjg.jpeg" alt="Bild"><br><br>  Ein charakteristisches Merkmal einer solchen Architektur war, dass, wenn zusätzliche Anforderungen oder Fehler auftraten, eine solche Aufgabe in allen „Funktionsmodulen“ des Systems und nicht in einem Bereich implementiert werden musste.  Ein weiteres charakteristisches Merkmal war die Präsenz einer großen Anzahl von Bauherren im Projekt, die zu einer solchen vertikalen Aufteilung des Geschäftsbereichs führte.  Der Entwickler implementiert neue Algorithmen für neue Geschäftsanforderungen in den Code von Buildern, was zur Entstehung neuer Entitäten mit unterschiedlichen Strukturen für dasselbe Geschäftsobjekt führt.  Zugegebenermaßen kann dieser Ansatz als objektorientierter angesehen werden als ein einfacher Code-Behind-Ansatz mit Spaghetti-Code.  Wenn Sie also eine große Anzahl von Buildern in Ihren Projekten sehen, vereinfacht der Übergang zu einem Kontaktansatz die Unterstützung und beschleunigt die Entwicklung Ihres Projekts. <br><br>  Einmal im Unternehmen wurden wir mit der Tatsache konfrontiert, dass der Kunde, mit dem wir implementierten, zum Ausdruck brachte, dass das von mir entwickelte System häufig Fehler verursachte.  Ich konnte nicht damit streiten, obwohl Fehler regelmäßig auftraten, aber sie wurden behoben und einige der Clients hatten das System installiert und verwendeten es.  Ich muss mich bei Ihnen bedanken, dass der Client schädlich und wählerisch war und unser System während des Implementierungszeitraums sehr sorgfältig getestet hat. <br><br>  Ich selbst mochte auch nicht die Tatsache, dass ich trotz vieler Bemühungen nicht genug Zeit für Entwicklung und Support hatte, und irgendwann hatte ich einfach keine Ahnung, was das System sonst noch verbessern und stabiler machen könnte. <br><br>  Die Entscheidung kam plötzlich und unerwartet. <br><br>  Ich habe gut verstanden, dass dieselben Geschäftsobjekte in verschiedenen Modulen des Systems unterschiedlich implementiert sind - Dokumente verschiedener Typen, Belege, Mitarbeiter, Service-Clients, Datenbank-Clients, Datei-Clients mit der Fähigkeit, Dokumente in verschiedenen Formaten zu speichern (Anpassung für verschiedene Clients;) ) <br><br>  Ein Teil der Logik wurde in Entitäten implementiert, wodurch die Verwendung derselben Entitäten in verschiedenen Algorithmen verhindert wurde. <br><br>  Dann entschied ich mich - es war notwendig, so etwas wie einen einzelnen Konstruktor mit Details zu erstellen, aus denen alle im System implementierten Algorithmen zusammengesetzt werden können.  Das ist logisch, weil es die Anzahl ähnlicher Klassen reduziert und die Unterstützung vereinfacht. <br><br>  Ich beschloss, das "Universum" meiner Anwendung streng zu unterteilen <br><br><ul><li>  <b>Datenverträge</b> - Datenstrukturen, die Datenspeicher enthalten und nur zur Datenspeicherung verwendet werden <br><br>  Docs <br>  Umschläge <br>  Quittungen <br>  EP <br>  ... <br></li><li>  <b>Kunden-Services</b> - Ich schreibe speziell, dass Kunden Services sind, da ich bei der Implementierung jedes Systems, das im Geschäftsbereich interagierte, dieses als Umschlag für dieses System darstellte, in dem die Methoden für die Arbeit mit Datumsverträgen implementiert wurden.  Neben der Tatsache, dass diese Klassen Wrapper über Services sind, enthielten sie auch die erforderliche Bindungslogik, Konvertierungen und Transformationen, um die Geschäftslogik zu vereinfachen <br></li></ul><br>  Außerdem hielten sich Logger an diesen Clients fest.  So konnten Sie den Fehlerpunkt schnell im Protokoll finden.  (In Zukunft verschwanden viele Anrufe, als die Benutzer anhand der Protokolle zu verstehen begannen, wo sie einen Fehler hatten - ein Dateisystem, ein Netzwerk, ein Buchhaltungssystem oder ein Webdienst des Betreibers.) <br><br>  Zum Beispiel <br>  CloudClient - ein Client eines Cloud-Dienstes, an den Dokumente gesendet und verarbeitet werden <br>  - Herunterladen <br>  - senden <br>  - Holen Sie sich <br>  - Herunterladen <br>  - Stimme zu <br>  ... <br><br>  FileSystemClient - Dateisystem-Client <br>  ERPClient - Kundenbuchhaltungssystem <br><br>  Die Clients implementierten alle zuvor in den Algorithmen verwendeten Methoden in allen Modulen, wodurch es möglich wurde, neu implementierte Algorithmen aus denselben Teilen schnell und einfach zu implementieren. <br><br>  Die Zuweisung ähnlicher Funktionsmethoden in den jeweiligen Clients führte zu einer stärkeren Spezialisierung und Wiederverwendung des Codes. <br><br>  Architektur war jetzt ein Diagramm wie auf dem Bild <br><br><img src="https://habrastorage.org/webt/wg/rq/ej/wgrqejf4f6gvfyezzwejorljsa8.jpeg" alt="Bild"><br><br>  Mit dem Ende des SDK (Software Developers Kit) habe ich alle grundlegenden Objekte meines Designers der Baugruppe zugewiesen, und es wurde einfacher zu arbeiten und vor allem angenehmer.  Die Arbeit hat bereits aufgehört, Krücken und temporäre Lösungen zu schaffen, und jetzt ist die Einstellung zum Projekt von innen ernster geworden, weil ich jetzt einen großen Spielraum für Skalierbarkeit und Wettbewerbsfähigkeit der Architektur gesehen habe.  Dies liegt daran, dass eine solche Tatsache die Motivation erheblich steigerte und neue berufliche Horizonte eröffnete. <br><br>  Basierend auf dem erstellten SDK habe ich eine Schicht Geschäftslogik implementiert, die die Implementierung direkter Geschäftsaufgaben automatisiert.  Da alle technischen Nuancen in die unteren Schichten der Clients gebracht wurden, wurde die Implementierung derselben Algorithmen vereinfacht und sah viel angenehmer aus. <br><br>  Der Ansatz ist einfach und ermöglicht eine Vereinfachung der Weiterentwicklung. Wichtig ist, die Flexibilität der Architektur zu erhöhen.  Ja, dies erfordert ein umfangreiches Refactoring.  In meinem Fall dauerte die Entwicklung im fanatischen Modus 2 Wochen.  Aber danach habe ich fast nicht mehr codiert, weil alles stabil funktioniert hat. <br><br>  Dank der Trennung von Verantwortlichkeiten (SPR) und Protokollen konnte ich Fehler von Diensten von Drittanbietern schnell unterdrücken, was zu Fehlern auf meiner Seite führte.  Zuvor waren dafür Analysen erforderlich, die viel Zeit in Anspruch nahmen. <br><br>  Dieser Ansatz eignet sich gut für bestimmte Ebenen.  Auf höheren Ebenen der Anwendung kann ein anämisches Modell bequemer sein, nur ist es besser, ein anämisches Modell zu implementieren, das auf einem vertraglichen Ansatz basiert. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de468853/">https://habr.com/ru/post/de468853/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de468843/index.html">Haben Sie Angst, ein CRM-System zu implementieren? Ihr Geschäft kann krank sein</a></li>
<li><a href="../de468845/index.html">Ein kurzer Kurs in der Physiologie der Stadt oder Körperteile</a></li>
<li><a href="../de468847/index.html">Öffentliches Beschaffungswesen in anderen Ländern: Warum Gesetze Rahmenbedingungen benötigen</a></li>
<li><a href="../de468849/index.html">Unbekanntes Prozessor-Reverse Engineering in einem einzigen Programm</a></li>
<li><a href="../de468851/index.html">Implementierung der Animation in React Native</a></li>
<li><a href="../de468859/index.html">„Router zum Pumpen“: TP-Link-Geräteoptimierung für Internetprovider</a></li>
<li><a href="../de468861/index.html">Positive Technologien erwecken 'Hackable City' in The Standoff Cyberbattle auf der HITB + CyberWeek zum Leben</a></li>
<li><a href="../de468863/index.html">Internals Go: Wrap-Loop-Variablen werden geschlossen</a></li>
<li><a href="../de468873/index.html">Ein privater Zug, der einst die Bequemlichkeit ruinierte</a></li>
<li><a href="../de468875/index.html">Collapsed Hashrate and Depreciation Episode</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>