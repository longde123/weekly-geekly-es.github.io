<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸš£ â¯ï¸ ğŸ‘Ÿ æˆ‘ä»¬ä½¿ç”¨Python / Tkinteræ‹†å¸å’ŒæŸ¥çœ‹åˆæ ¼è¯ä¹¦ ğŸ“¢ ğŸ§’ğŸ¼ ğŸ‘¸ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åˆæ ¼çš„è¯ä¹¦å¾ˆå¿«æˆä¸ºæ—¥å¸¸ç”Ÿæ´»ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚ è¶Šæ¥è¶Šå¤šçš„äººå¸Œæœ›ä»å†…éƒ¨çœ‹åˆ°è¿™ç§â€œé‡å…½â€ã€‚ è¿™æ˜¯ä¸€æ–¹é¢ã€‚ å¦ä¸€æ–¹é¢ï¼Œæ­£åœ¨å¼€å‘è¶Šæ¥è¶Šå¤šçš„åº”ç”¨ç¨‹åºï¼Œå…¶ä¸­ä½¿ç”¨äº†æ¥è‡ªè¿™äº›è¯ä¹¦çš„ä¿¡æ¯ã€‚ è¿™äº›ä¸ä»…æ˜¯è¯ä¹¦æ‰€æœ‰è€…æˆ–å‘å¸ƒè€…çš„TINæˆ–BINå±æ€§ã€‚ è¿™å¯ä»¥æ˜¯æœ‰å…³è¯ä¹¦æŒæœ‰äººä½¿ç”¨å“ªä¸ªåŠ å¯†æä¾›ç¨‹åºï¼ˆsubjectSignTool...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>æˆ‘ä»¬ä½¿ç”¨Python / Tkinteræ‹†å¸å’ŒæŸ¥çœ‹åˆæ ¼è¯ä¹¦</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421107/"><img src="https://habrastorage.org/webt/nc/op/59/ncop592ddqui_ckgkjas77-ccuq.png" align="left"> åˆæ ¼çš„è¯ä¹¦å¾ˆå¿«æˆä¸ºæ—¥å¸¸ç”Ÿæ´»ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚ è¶Šæ¥è¶Šå¤šçš„äººå¸Œæœ›ä»å†…éƒ¨çœ‹åˆ°è¿™ç§â€œé‡å…½â€ã€‚ è¿™æ˜¯ä¸€æ–¹é¢ã€‚ å¦ä¸€æ–¹é¢ï¼Œæ­£åœ¨å¼€å‘è¶Šæ¥è¶Šå¤šçš„åº”ç”¨ç¨‹åºï¼Œå…¶ä¸­ä½¿ç”¨äº†æ¥è‡ªè¿™äº›è¯ä¹¦çš„ä¿¡æ¯ã€‚ è¿™äº›ä¸ä»…æ˜¯è¯ä¹¦æ‰€æœ‰è€…æˆ–å‘å¸ƒè€…çš„TINæˆ–BINå±æ€§ã€‚ è¿™å¯ä»¥æ˜¯æœ‰å…³è¯ä¹¦æŒæœ‰äººä½¿ç”¨å“ªä¸ªåŠ å¯†æä¾›ç¨‹åºï¼ˆsubjectSignToolå±æ€§ï¼‰æ¥ç”Ÿæˆç§é’¥çš„ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥æ˜¯å…³äºåŸºäºå“ªç§è®¤è¯æ‰‹æ®µè€Œåˆ›å»ºçš„é¢å‘è¯ä¹¦çš„è®¤è¯ä¸­å¿ƒï¼ˆCAï¼‰çš„ä¿¡æ¯ã€‚ å¹¶ä¸”ï¼Œå¦‚æœæ‚¨ç¼–å†™äº†ä¸€ä¸ªç”¨äºåˆ†æå·²é¢å‘è¯ä¹¦çš„ç¨‹åºï¼Œåˆ™å¯ä»¥æ”¶é›†æœ‰å…³è¯ä¹¦æŒæœ‰äººä½¿ç”¨å“ªäº›åŠ å¯†ä¿¡æ¯ä¿æŠ¤å·¥å…·çš„æœ‰è¶£ç»Ÿè®¡ä¿¡æ¯ï¼Œå¹¶å¯ä»¥æ ¹æ®éƒ¨ç½²äº†å“ªäº›ï¼ˆå°½ç®¡ä¸é‚£ä¹ˆæœ‰è¶£ï¼‰è®¤è¯ï¼ˆæˆ–éè®¤è¯ï¼‰åŸºé‡‘CAï¼ˆissuerSignToolså±æ€§ï¼‰ï¼š <br><a name="habracut"></a><br><img src="https://habrastorage.org/webt/iy/l7/-z/iyl7-zghkwsdmk4zfzx9fa1azma.png"><br><br> åœ¨Habrçš„å¼€æ”¾ç©ºé—´ä¸Šï¼Œå·²ç»æˆåŠŸåœ°<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å°è¯•</a>å¯¹åˆæ ¼è¯ä¹¦<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¿›è¡Œ</a>åˆ†ç±»ã€‚ ä¸å¹¸çš„æ˜¯ï¼Œè¯¥åˆ†æä»…æ¶‰åŠä½œä¸ºä¸“æœ‰åç§°DNä¸€éƒ¨åˆ†çš„TINï¼ŒPSRNå’ŒSNILSå±æ€§çš„æ¥æ”¶ã€‚ è™½ç„¶ï¼Œä¸ºä»€ä¹ˆä¸å¹¸å‘¢ï¼Ÿ ä½œè€…æœ‰ä¸€ä¸ªç‰¹å®šçš„é—®é¢˜ï¼Œå·²ç»è§£å†³ã€‚ æˆ‘ä»¬å¸Œæœ›é€šè¿‡Pythonè®¿é—®åˆæ ¼è¯ä¹¦çš„å±æ€§ï¼Œå¹¶æä¾›ç”¨äºæŸ¥çœ‹å®ƒä»¬çš„å›¾å½¢å®ç”¨ç¨‹åºã€‚ <br><br> è¦è®¿é—®è¯ä¹¦çš„å±æ€§ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">fsb795</a>è½¯ä»¶åŒ…ã€‚ è¯¥è½¯ä»¶åŒ…å¯ç”¨äºLinuxå’ŒWindowsçš„Pytho2å’ŒPython3ã€‚ è¦å®‰è£…å®ƒï¼Œåªéœ€è¿è¡Œä¼ ç»Ÿå‘½ä»¤ï¼š <br><br><pre><code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># python -m pip install fsb795 Collecting fsb795 Requirement already satisfied: pyasn1-modules&gt;=0.2.2 in /usr/lib/python2.7/site-packages (from fsb795) (0.2.2) Collecting pyasn1&gt;=0.4.4 (from fsb795) Using cached https://files.pythonhosted.org/packages/d1/a1/7790cc85db38daa874f6a2e6308131b9953feb1367f2ae2d1123bb93a9f5/pyasn1-0.4.4-py2.py3-none-any.whl Requirement already satisfied: six in /usr/lib/python2.7/site-packages (from fsb795) (1.11.0) Installing collected packages: pyasn1, fsb795 Successfully installed fsb795-1.5.2 pyasn1-0.4.4 [root@localhost GCryptGOST]#</span></span></code> </pre> <br>  fsb795è½¯ä»¶åŒ…éœ€è¦pyasn1å’Œpyasn1-modulesè½¯ä»¶åŒ…ã€‚ å› æ­¤ï¼Œå¦‚æœæœªå®‰è£…å®ƒä»¬ï¼Œå°†å°è¯•å®‰è£…å®ƒä»¬ã€‚ <br><br> å¯¹äºpython3ï¼Œæ­¤å‘½ä»¤å¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># python -m pip install fsb795 ... #</span></span></code> </pre> <br> æ‚¨è¿˜å¯ä»¥ä¸‹è½½<a href="">python3</a>å’Œ<a href="">python2</a>å®‰è£…è½¯ä»¶åŒ…å¹¶åœ¨æœ¬åœ°<a href="">å®‰è£…</a>å®ƒä»¬ã€‚ <br> è½¯ä»¶åŒ…åç§°ç±»ä¼¼äºpyasn1-modulesè½¯ä»¶åŒ…ä¸­çš„æ¨¡å—ï¼Œä¾‹å¦‚rfc2459ç­‰ï¼Œè¡¨ç¤ºè¯¥è½¯ä»¶åŒ…æ—¨åœ¨ä¸æ»¡è¶³2011å¹´12æœˆ27æ—¥ä¿„ç½—æ–¯è”é‚¦è”é‚¦å®‰å…¨å±€å‘½ä»¤<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">795å·</a>è¦æ±‚çš„è¯ä¹¦ä¸€èµ·ä½¿ç”¨ã€‚åˆæ ¼è¯ä¹¦å½¢å¼çš„è¦æ±‚...â€ã€‚ <br><br> é€šè¿‡Certificateç±»å¯è®¿é—®fsb795è½¯ä»¶åŒ…ä¸­çš„è¯ä¹¦ï¼š <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*- import os, sys import pyasn1 import binascii import six from pyasn1_modules import rfc2459, pem from pyasn1.codec.der import decoder from datetime import datetime, timedelta class Certificate: #  cert_full = '' cert = '' pyver = '' formatCert = '' def __init__ (self,fileorstr): #     if not os.path.exists(fileorstr): #  ,  ,     #    PEM- strcert = fileorstr.strip('\n') if (strcert[0:27] != '-----BEGIN CERTIFICATE-----'): return idx, substrate = pem.readPemBlocksFromFile(six.StringIO( strcert), ('-----BEGIN CERTIFICATE-----', '-----END CERTIFICATE-----') ) self.pyver = sys.version[0] try: self.cert_full, rest = decoder.decode(substrate, asn1Spec=rfc2459.Certificate()) self.cert = self.cert_full["tbsCertificate"] self.formatCert = 'PEM' except: self.pyver = '' self.formatCert = '' return #   #  self.pyver   python self.pyver = sys.version[0] filename = fileorstr if (self.pyver == '2'): if sys.platform != "win32": filename = filename.encode("UTF-8") else: filename = filename.encode("CP1251") #  DER file1 = open(filename, "rb") substrate = file1.read() if (self.pyver == '2'): b0 = ord(substrate[0]) b1 = ord(substrate[1]) else: b0 = substrate[0] b1 = substrate[1] #  PEM/DER,   0x30,       127  if (b0 == 48 and b1 &gt; 128) : self.formatCert = 'DER' else: self.formatCert = 'PEM' file1 = open(filename, "r") idx, substrate = pem.readPemBlocksFromFile( file1, ('-----BEGIN CERTIFICATE-----', '-----END CERTIFICATE-----') ) file1.close() try: self.cert_full, rest = decoder.decode(substrate, asn1Spec=rfc2459.Certificate()) self.cert = self.cert_full["tbsCertificate"] except: self.pyver = '' self.formatCert = '' #       def subjectSignTool(self): . . . #,     if __name__ == "__main__": . . .</span></span></code> </pre> <br> è¦ä¸ºç‰¹å®šè¯ä¹¦åˆ›å»ºå¯¹è±¡çš„å®ä¾‹ï¼Œåªéœ€æ‰§è¡Œä»¥ä¸‹è¯­å¥å³å¯ï¼š <br><br><pre> <code class="bash hljs">$ python Python 2.7.15 (default, May 23 2018, 14:20:56) [GCC 5.4.0] on linux Type <span class="hljs-string"><span class="hljs-string">"help"</span></span>, <span class="hljs-string"><span class="hljs-string">"copyright"</span></span>, <span class="hljs-string"><span class="hljs-string">"credits"</span></span> or <span class="hljs-string"><span class="hljs-string">"license"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> more information. &gt;&gt;import fsb795 &gt;&gt;tek_cert = fsb795.Certificate(&lt;/  &gt;) &gt;&gt;</code> </pre><br> ä½œä¸ºå‚æ•°ï¼Œåœ¨åˆ›å»ºç±»çš„å®ä¾‹æ—¶ï¼Œå°†æŒ‡å®šè¯ä¹¦ï¼Œè¯ä¹¦å¯ä»¥åœ¨PEMæˆ–DERæ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥æ˜¯PEMæ ¼å¼çš„å­—ç¬¦ä¸²ã€‚ <br><br> åˆ›å»ºåï¼Œæ¯ä¸ªå®ä¾‹å…·æœ‰å››ä¸ªå±æ€§ï¼špyverï¼ŒformatCertï¼Œcert_fullå’Œcertã€‚ <br> ä½¿ç”¨pyverå±æ€§ï¼Œæ‚¨å¯ä»¥æ£€æŸ¥è¯ä¹¦çš„è§£æè¿‡ç¨‹ã€‚ å¦‚æœpyverç­‰äºç©ºå­—ç¬¦ä¸²ï¼Œåˆ™æ–‡ä»¶æˆ–å­—ç¬¦ä¸²ä¸åŒ…å«è¯ä¹¦ã€‚ å¦åˆ™ï¼Œpyverå±æ€§åŒ…å«pythonè¯­è¨€ç‰ˆæœ¬ï¼š <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>c1=fsb795.Certificate(<span class="hljs-string"><span class="hljs-string">'     '</span></span>) &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (c1.pyver == <span class="hljs-string"><span class="hljs-string">''</span></span>): ... <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (<span class="hljs-string"><span class="hljs-string">'   '</span></span>) ...     &gt;&gt;&gt; c2 = fsb795.Certificate(<span class="hljs-string"><span class="hljs-string">'/home/a513/cert_nss.der'</span></span>) &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (c2.pyver != <span class="hljs-string"><span class="hljs-string">""</span></span>): ... print(c2.pyver) ... <span class="hljs-number"><span class="hljs-number">2</span></span> &gt;&gt;&gt; print(c2.formatCert) DER &gt;&gt;&gt;</code> </pre> <br> æˆåŠŸåˆ›å»ºCertificateç±»çš„å®ä¾‹æ—¶ï¼ŒformatCertå±æ€§åŒ…å«è¯ä¹¦çš„æ–‡ä»¶/å­—ç¬¦ä¸²æ ¼å¼ç±»å‹ã€‚ å®ƒå¯ä»¥æ˜¯PEMæˆ–DERã€‚ ä¸ºä»€ä¹ˆéœ€è¦æ­¤å±æ€§çš„åŸå› å°†åœ¨ä¸‹é¢é˜æ˜ã€‚ <br><br>  fsb795è½¯ä»¶åŒ…æ˜¯ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">pyasn1</a>è½¯ä»¶åŒ…åˆ›å»ºçš„ã€‚ å› æ­¤ï¼Œä¸¤ä¸ªå±æ€§ä»å¾…æ£€æŸ¥ã€‚  certå±æ€§å­˜å‚¨å¯ä¸pyasn1è½¯ä»¶åŒ…ä¸€èµ·ä½¿ç”¨çš„tbsè¯ä¹¦ã€‚ å¦ä¸€ä¸ªcert_fullå±æ€§å­˜å‚¨æœ‰å…³rfc2459çš„æ•´ä¸ªè§£ç è¯ä¹¦ã€‚ æˆ‘ä»¬å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨certå±æ€§å’Œè¿æ¥çš„pyasn1åŒ…è·å–å…¬é’¥ç®—æ³•ï¼š <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>pubkey = c2.cert[<span class="hljs-string"><span class="hljs-string">'subjectPublicKeyInfo'</span></span>] &gt;&gt;&gt; ff = pubkey[<span class="hljs-string"><span class="hljs-string">'algorithm'</span></span>] &gt;&gt;&gt; ff1 = ff[<span class="hljs-string"><span class="hljs-string">'algorithm'</span></span>] &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (ff1) <span class="hljs-number"><span class="hljs-number">1.2</span></span><span class="hljs-number"><span class="hljs-number">.643</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.19</span></span> &gt;&gt;&gt;</code> </pre> <br> æœ€åï¼Œå¯ä»¥è¯„ä¼°fsb795è½¯ä»¶åŒ…çš„åŠŸèƒ½ï¼Œä»¥è·å–æœ‰å…³åˆæ ¼è¯ä¹¦çš„å…¬é’¥çš„ä¿¡æ¯ã€‚ <br><br> æˆåŠŸåˆ›å»ºCertificateç±»çš„å®ä¾‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€äº›æ–¹æ³•ï¼Œä½¿ä»è¯ä¹¦ä¸­è½»æ¾è·å–å¿…è¦çš„æ•°æ®å˜å¾—å®¹æ˜“ã€‚ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–æœ‰å…³å…¬é’¥çš„æ‰€æœ‰ä¿¡æ¯ï¼š <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>c3 = fsb795.Certificate(<span class="hljs-string"><span class="hljs-string">'cert.der'</span></span>) &gt;&gt;&gt; key_info=c3.publicKey() &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> opt <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> key_info.keys(): ... val = str(key_info[opt]) ... <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> (opt + <span class="hljs-string"><span class="hljs-string">'='</span></span> + val) ... curve=<span class="hljs-number"><span class="hljs-number">1.2</span></span><span class="hljs-number"><span class="hljs-number">.643</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.36</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span> hash=<span class="hljs-number"><span class="hljs-number">1.2</span></span><span class="hljs-number"><span class="hljs-number">.643</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.30</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span> valuepk=<span class="hljs-number"><span class="hljs-number">5</span></span>b785f86f0dd5316ba37c8440e398e83f2ec0c34478f90da9c0c8046d341ff66f9044cd00a0e25530 acefd51e6be852dbecacbaabc55e807be8e1f861658bd58 algo=<span class="hljs-number"><span class="hljs-number">1.2</span></span><span class="hljs-number"><span class="hljs-number">.643</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.2</span></span><span class="hljs-number"><span class="hljs-number">.19</span></span> &gt;&gt;&gt;</code> </pre><br> å½“å‰ï¼Œè¯ä¹¦ç±»åŒ…å«ä»¥ä¸‹æ–¹æ³•ï¼š <br><br><ul><li>  subjectSignToolï¼ˆï¼‰-è¿”å›å¸¦æœ‰å¯†ç ä¿¡æ¯ä¿æŠ¤è¯ä¹¦æŒæœ‰è€…åç§°çš„å­—ç¬¦ä¸²ï¼› </li><li>  issuerSignToolï¼ˆï¼‰-è¿”å›å››ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«è¯ä¹¦é¢å‘è€…çš„ä¿¡æ¯åŠ å¯†å·¥å…·ï¼› </li><li>  classUserï¼ˆï¼‰-è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå…¶ä¸­åŒ…å«è¯ä¹¦æŒæœ‰è€…çš„å¯†ç ä¿¡æ¯ä¿æŠ¤è¯ä¹¦çš„å®‰å…¨ç±»çš„oidï¼Œä»¥å­—ç¬¦â€œ ;;â€åˆ†éš”ï¼› </li><li>  issuerCertï¼ˆï¼‰-è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­åŒ…å«è¯ä¹¦é¢å‘è€…çš„åŒºåˆ«åDNçš„å­—æ®µå’Œå€¼ä»¥åŠæ ‡è¯†è¯ä¹¦çš„æ•°å­—ï¼ˆ2-æ³•äººå®ä½“ï¼‰ï¼› </li><li>  subjectCertï¼ˆï¼‰-è¿”å›å­—å…¸ï¼Œå…¶ä¸­åŒ…å«è¯ä¹¦æŒæœ‰è€…çš„ä¸“æœ‰åç§°DNçš„å­—æ®µå’Œå€¼ä»¥åŠæ ‡è¯†è¯ä¹¦çš„æ•°å­—ï¼ˆ2-æ³•äººå®ä½“ï¼‰ï¼› </li><li>  publicKeyï¼ˆï¼‰-è¿”å›ä¸€ä¸ªåŒ…å«é”®å€¼ï¼ˆ'valuepk'ï¼‰å’Œé”®å‚æ•°ï¼ˆ'curve'å’Œ'hash'ï¼‰çš„å­—å…¸ï¼› </li><li>  signatureCert-è¿”å›ä¸¤ä¸ªå€¼ï¼šç­¾åç®—æ³•å’Œç­¾åå€¼ï¼› </li><li>  validityCert-è¿”å›å¸¦æœ‰ä¸¤ä¸ªé”®â€œ not_afterâ€å’Œâ€œ not_beforeâ€çš„å­—å…¸ï¼› </li><li>  keyUsageï¼ˆï¼‰-è¿”å›é”®èŒƒå›´çš„åˆ—è¡¨ï¼› </li><li>  serialNumberï¼ˆï¼‰-ä»¥åè¿›åˆ¶å½¢å¼è¿”å›è¯ä¹¦çš„åºåˆ—å·ï¼› </li><li>  prettyPrintï¼ˆï¼‰-æ ¹æ®pyasn1ï¼ˆself.cert_full.prettyPrintï¼ˆï¼‰ï¼‰è¿”å›å¸¦æœ‰è¯ä¹¦â€œæ‰“å°è¾“å‡ºâ€çš„å­—ç¬¦ä¸²ã€‚ </li></ul><br> æ‰°æµæ¿åŒ…å«ä¸€ä¸ªæµ‹è¯•ç¤ºä¾‹ï¼Œæ¸…æ¥šåœ°æ¼”ç¤ºäº†è¿™äº›æ–¹æ³•çš„å·¥ä½œã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">æµ‹è¯•test795.pyä»¥æµ‹è¯•fsb795è½¯ä»¶åŒ…</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> fsb795 certpem = <span class="hljs-string"><span class="hljs-string">""" -----BEGIN CERTIFICATE----- MIIG3DCCBougAwIBAgIKE8/KkAAAAAAC4zAIBgYqhQMCAgMwggFKMR4wHAYJKoZI hvcNAQkBFg9kaXRAbWluc3Z5YXoucnUxCzAJBgNVBAYTAlJVMRwwGgYDVQQIDBM3 NyDQsy4g0JzQvtGB0LrQstCwMRUwEwYDVQQHDAzQnNC+0YHQutCy0LAxPzA9BgNV BAkMNjEyNTM3NSDQsy4g0JzQvtGB0LrQstCwLCDRg9C7LiDQotCy0LXRgNGB0LrQ sNGPLCDQtC4gNzEsMCoGA1UECgwj0JzQuNC90LrQvtC80YHQstGP0LfRjCDQoNC+ 0YHRgdC40LgxGDAWBgUqhQNkARINMTA0NzcwMjAyNjcwMTEaMBgGCCqFAwOBAwEB EgwwMDc3MTA0NzQzNzUxQTA/BgNVBAMMONCT0L7Qu9C+0LLQvdC+0Lkg0YPQtNC+ 0YHRgtC+0LLQtdGA0Y/RjtGJ0LjQuSDRhtC10L3RgtGAMB4XDTE4MDcwOTE1MjYy NFoXDTI3MDcwOTE1MjYyNFowggFVMR4wHAYJKoZIhvcNAQkBFg9jb250YWN0QGVr ZXkucnUxITAfBgNVBAMMGNCe0J7QniDCq9CV0LrQtdC5INCj0KbCuzEwMC4GA1UE Cwwn0KPQtNC+0YHRgtC+0LLQtdGA0Y/RjtGJ0LjQuSDRhtC10L3RgtGAMSEwHwYD VQQKDBjQntCe0J4gwqvQldC60LXQuSDQo9CmwrsxCzAJBgNVBAYTAlJVMRgwFgYD VQQIDA83NyDQnNC+0YHQutCy0LAxRDBCBgNVBAkMO9Cj0JvQmNCm0JAg0JjQm9Cs 0JjQndCa0JAsINCULjQsINCQ0J3QotCgIDMg0K3Qojsg0J/QntCcLjk0MRgwFgYD VQQHDA/Qsy7QnNC+0YHQutCy0LAxGDAWBgUqhQNkARINMTE0Nzc0NjcxNDYzMTEa MBgGCCqFAwOBAwEBEgwwMDc3MTA5NjQzNDgwYzAcBgYqhQMCAhMwEgYHKoUDAgIk AAYHKoUDAgIeAQNDAARAW3hfhvDdUxa6N8hEDjmOg/LsDDRHj5DanAyARtNB/2b5 BEzQCg4lUwrO/VHmvoUtvsrLqrxV6Ae+jh+GFli9WKOCA0AwggM8MBIGA1UdEwEB /wQIMAYBAf8CAQAwHQYDVR0OBBYEFMQYnG5GfYRnj2ehEQ5tv8Fso/qBMAsGA1Ud DwQEAwIBRjAdBgNVHSAEFjAUMAgGBiqFA2RxATAIBgYqhQNkcQIwKAYFKoUDZG8E Hwwd0KHQmtCX0JggwqvQm9CY0KDQodCh0JstQ1NQwrswggGLBgNVHSMEggGCMIIB foAUi5g7iRhR6O+cAni46sjUILJVyV2hggFSpIIBTjCCAUoxHjAcBgkqhkiG9w0B CQEWD2RpdEBtaW5zdnlhei5ydTELMAkGA1UEBhMCUlUxHDAaBgNVBAgMEzc3INCz LiDQnNC+0YHQutCy0LAxFTATBgNVBAcMDNCc0L7RgdC60LLQsDE/MD0GA1UECQw2 MTI1Mzc1INCzLiDQnNC+0YHQutCy0LAsINGD0LsuINCi0LLQtdGA0YHQutCw0Y8s INC0LiA3MSwwKgYDVQQKDCPQnNC40L3QutC+0LzRgdCy0Y/Qt9GMINCg0L7RgdGB 0LjQuDEYMBYGBSqFA2QBEg0xMDQ3NzAyMDI2NzAxMRowGAYIKoUDA4EDAQESDDAw NzcxMDQ3NDM3NTFBMD8GA1UEAww40JPQvtC70L7QstC90L7QuSDRg9C00L7RgdGC 0L7QstC10YDRj9GO0YnQuNC5INGG0LXQvdGC0YCCEDRoHkDLQe8zqaC3yHaSmikw WQYDVR0fBFIwUDAmoCSgIoYgaHR0cDovL3Jvc3RlbGVjb20ucnUvY2RwL2d1Yy5j cmwwJqAkoCKGIGh0dHA6Ly9yZWVzdHItcGtpLnJ1L2NkcC9ndWMuY3JsMIHGBgUq hQNkcASBvDCBuQwj0J/QkNCa0JwgwqvQmtGA0LjQv9GC0L7Qn9GA0L4gSFNNwrsM INCf0JDQmiDCq9CT0L7Qu9C+0LLQvdC+0Lkg0KPQpsK7DDbQl9Cw0LrQu9GO0YfQ tdC90LjQtSDihJYgMTQ5LzMvMi8yLTk5OSDQvtGCIDA1LjA3LjIwMTIMONCX0LDQ utC70Y7Rh9C10L3QuNC1IOKEliAxNDkvNy8xLzQvMi02MDMg0L7RgiAwNi4wNy4y MDEyMAgGBiqFAwICAwNBALvjFGhdFE9llvlvKeQmZmkI5J+yO2jFWTh8nXPjIpiL OutUew2hIZv15pJ1QM/VgRO3BTBGDOoIrq8LvgC+3kA= -----END CERTIFICATE----- """</span></span> <span class="hljs-comment"><span class="hljs-comment">#c1 = fsb795.Certificate('OOO_VOLGA.der') #c1 = fsb795.Certificate('cert.der') c1 = fsb795.Certificate(certpem) if (c1.pyver == ''): print('Context for certificate not create') exit(-1) print('=================formatCert================================') print(c1.formatCert) res = c1.subjectSignTool() print('=================subjectSignTool================================') print (res) print('=================issuerSignTool================================') res1 = c1.issuerSignTool() print (res1[0]) print (res1[1]) print (res1[2]) print (res1[3]) print('=================prettyPrint================================') res2 = c1.prettyPrint() #print(res2) print('=================classUser================================') res3 = c1.classUser() print (res3) print('=================issuerCert================================') iss, vlad_is = c1.issuerCert() print ('vlad_is=' + str(vlad_is)) for key in iss.keys(): print (key + '=' + iss[key]) print('=================subjectCert================================') sub, vlad_sub = c1.subjectCert() print ('vlad_sub=' + str(vlad_sub)) for key in sub.keys(): print (key + '=' + sub[key]) print('================publicKey=================================') key_info = c1.publicKey() print(key_info['curve']) print(key_info['hash']) print(key_info['valuepk']) print('================serialNumber=================================') print(c1.serialNumber()) print('================validityCert=================================') valid = c1.validityCert() print(valid['not_after']) print(valid['not_before']) print('================signatureCert=================================') algosign, value = c1.signatureCert() print(algosign) print(value) print('================KeyUsage=================================') ku = c1.KeyUsage() for key in ku: print (key) # print(ku) print('================END=================================')</span></span></code> </pre><br></div></div><br> è¦è¿è¡Œæµ‹è¯•ç¤ºä¾‹ï¼Œåªéœ€è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$python</span></span> test795.py</code> </pre> <br> ä½¿ç”¨fsb795è½¯ä»¶åŒ…æ—¶ï¼Œå¾ˆè‡ªç„¶åœ°ç”¨pythonç¼–å†™äº†ä¸€ä¸ªç‹¬ç«‹çš„ï¼Œå¹³å°æ— å…³çš„å›¾å½¢å®ç”¨ç¨‹åºï¼Œç”¨äºæŸ¥çœ‹åˆæ ¼çš„è¯ä¹¦ã€‚  Tkinterè½¯ä»¶åŒ…ç”¨ä½œå›¾å½¢æ”¯æŒï¼š <br><br><img src="https://habrastorage.org/webt/wb/sw/m8/wbswm8thi6y0edcmxs2osp8uw2q.png"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">viewCertFL63</a>å®ç”¨ç¨‹åºå…·æœ‰ä¸‰ä¸ªé€‰é¡¹å¡ã€‚ å…³äºè¯ä¹¦é€‰é¡¹å¡ï¼Œé™¤å…¶ä»–å¤–ï¼Œæ˜¾ç¤ºå½“å‰æ—¶é—´ã€‚ æˆ‘ä»¬å°†åœ¨ä¸‹é¢è¿”å›å®ƒã€‚ è¦é€‰æ‹©è¯ä¹¦ï¼Œåªéœ€å•å‡»â€œé€‰æ‹©â€æŒ‰é’®ï¼š <br><br><img src="https://habrastorage.org/webt/w_/qe/s6/w_qes6wmp_rwam1prr8-lvmam7s.png"><br><br> æ³¨æ„æŒ‰é’®ï¼ˆåœ¨Windowsä¸Šå·¥ä½œçš„äººä¸ä¼šçœ‹åˆ°æ­¤æŒ‰é’®ï¼‰ï¼Œå®ƒä½¿æ‚¨å¯ä»¥éšè—æ‰€è°“çš„ä¸å¯è§æ–‡ä»¶/ç›®å½•ï¼ˆéšè—ï¼‰ã€‚ ä¸ºäº†æ˜¾ç¤ºæ­¤æŒ‰é’®ï¼Œåªéœ€æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> sys.platform != <span class="hljs-string"><span class="hljs-string">"win32"</span></span>: root.tk.call(<span class="hljs-string"><span class="hljs-string">'set'</span></span>, <span class="hljs-string"><span class="hljs-string">'::tk::dialog::file::showHiddenBtn'</span></span>, <span class="hljs-string"><span class="hljs-string">'1'</span></span>) root.tk.call(<span class="hljs-string"><span class="hljs-string">'set'</span></span>, <span class="hljs-string"><span class="hljs-string">'::tk::dialog::file::showHiddenVar'</span></span>, <span class="hljs-string"><span class="hljs-string">'0'</span></span>)</code> </pre><br> ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æŒ‰é’®ã€‚ å› æ­¤ï¼Œé€‰æ‹©è¯ä¹¦åï¼Œâ€œå…³äºè¯ä¹¦â€æ ‡ç­¾å°†é‡‡ç”¨ä»¥ä¸‹å½¢å¼ï¼š <br><br><img src="https://habrastorage.org/webt/sn/x4/cc/snx4ccjle-z5atjx-4ffg-gvb_u.png"><br><br><img src="https://habrastorage.org/webt/sj/6x/9h/sj6x9hwsr5dr1xqahzigdvitst8.gif" align="left"> æ­¤å¤„å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¯ä¹¦åœ¨æŸ¥çœ‹è¯ä¹¦æ—¶è¿‡æœŸï¼Œåˆ™å·¦ä¸Šè§’å›¾æ ‡ä¸Šçš„æ‰“å°å°†åˆ†ä¸ºä¸¤åŠã€‚ æ¯ä¸ªäººéƒ½å¯ä»¥ç›¸ä¿¡è¿™ä¸€ç‚¹ï¼Œå¯ä»¥æå‰ä¸€å¹´åœ¨è®¡ç®—æœºä¸Šé‡æ–°å®‰æ’æ—¶é’Ÿã€‚ <br> åœ¨â€œè¯¦ç»†ä¿¡æ¯â€é€‰é¡¹å¡ä¸Šï¼Œæ‚¨å¯ä»¥è¯¦ç»†æŸ¥çœ‹åˆæ ¼è¯ä¹¦çš„æ‰€é€‰å±æ€§çš„ç‰¹å¾ï¼š <br><br><img src="https://habrastorage.org/webt/jc/va/4j/jcva4j74wlkzzbqb34rdjb-etuc.png"><br><br> æœ€åï¼Œç¬¬ä¸‰ä¸ªé€‰é¡¹å¡æ˜¯â€œæ–‡æœ¬â€ã€‚ æ­¤é€‰é¡¹å¡æ˜¾ç¤ºæ•´ä¸ªè¯ä¹¦çš„å†…å®¹ï¼š <br><br><img src="https://habrastorage.org/webt/6z/z5/xz/6zz5xzinnpyy_qm7s5uheeqbsyu.png"><br><br> è¦æŸ¥çœ‹è¯ä¹¦ï¼Œä¸ä»…å¯ä»¥ä½¿ç”¨Pythonï¼ˆâ€œ Pythonâ€æŒ‰é’®ï¼‰ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ç½‘ç»œå®‰å…¨æœåŠ¡ï¼ˆNSSï¼‰çš„opensslå’Œppå®ç”¨ç¨‹åºã€‚ å¦‚æœæŸäººæ²¡æœ‰è¿™äº›å®ç”¨ç¨‹åºï¼Œåˆ™å¯ä»¥é€šè¿‡æ”¶é›†æ”¯æŒä¿„ç½—æ–¯å¯†ç çš„opensslæ¥è·å¾—ç¬¬ä¸€ä¸ªå®ç”¨ç¨‹åºã€‚ ä½¿ç”¨ppå®ç”¨ç¨‹åºæ—¶ï¼Œè¯ä¹¦è¾“å‡ºå¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><img src="https://habrastorage.org/webt/pa/bf/cn/pabfcn24oeu0katqhkdgbp_ryzg.png"><br><br> ä¸Šé¢æˆ‘ä»¬æåˆ°äº†fsb795è½¯ä»¶åŒ…çš„Certificateç±»çš„formatCertå±æ€§ã€‚ å› æ­¤ï¼Œå½“è¿è¡Œè¯¥å®ç”¨ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬éœ€è¦æ­¤å±æ€§çš„å€¼æ¥æŒ‡ç¤ºå¸¦æœ‰è¯ä¹¦çš„æ–‡ä»¶æ ¼å¼ã€‚ ä¾‹å¦‚ï¼Œä½¿ç”¨PEMæ–‡ä»¶æ ¼å¼è°ƒç”¨ppå®ç”¨ç¨‹åºå¦‚ä¸‹æ‰€ç¤ºï¼š <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$pp</span></span> â€“tc â€“u â€“a â€“i &lt; &gt;</code> </pre> <br>  -aé€‰é¡¹æŒ‡ç¤ºPEMæ–‡ä»¶çš„æ ¼å¼ã€‚ å¯¹äºDERæ ¼å¼ï¼ŒæœªæŒ‡å®šã€‚ <br>  opensslçš„â€œ â€“informâ€å‚æ•°çš„è®¾ç½®æ–¹æ³•ç›¸åŒã€‚ <br>  UtilityæŒ‰é’®ç”¨äºæŒ‡ç¤ºopensslæˆ–ppå®ç”¨ç¨‹åºçš„è·¯å¾„ã€‚ <br>  ViewCertFL63å®ç”¨ç¨‹åºå‘è¡Œç‰ˆä½äº<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„</a> ã€‚ <br> ä½¿ç”¨pyinstallerè½¯ä»¶åŒ…æ„å»ºå‘è¡Œç‰ˆï¼š <br><br><pre> <code class="bash hljs"><span class="hljs-variable"><span class="hljs-variable">$python</span></span> pyinstaller.py --noconsole -F viewCertFL63.py</code> </pre></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN421107/">https://habr.com/ru/post/zh-CN421107/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN421097/index.html">UIViewControllersçš„ç»„æˆä»¥åŠå®ƒä»¬ä¹‹é—´çš„å¯¼èˆªï¼ˆä¸ä»…å¦‚æ­¤ï¼‰</a></li>
<li><a href="../zh-CN421099/index.html">å¾ˆéš¾é›†ä¸­ç²¾ç¥å—ï¼Ÿ ä¹Ÿè®¸è¿™ä¸æ˜¯ä½ çš„é”™</a></li>
<li><a href="../zh-CN421101/index.html">8æœˆçš„â€œæµ‹è¯•è€…æ—¥å†â€ã€‚ çœ‹ä¹¦</a></li>
<li><a href="../zh-CN421103/index.html">é¦–å…ˆçœ‹çœ‹Mavic 2ï¼šæ›´é•¿ï¼Œæ›´å®‰é™ï¼Œæ›´å¿«åœ°é£è¡Œ</a></li>
<li><a href="../zh-CN421105/index.html">æƒ…å†µï¼šSpotifyä¸éŸ³ä¹å®¶è¿›è¡Œç›´æ¥äº¤æ˜“-å”±ç‰‡å…¬å¸ä¸æ»¡æ„</a></li>
<li><a href="../zh-CN421109/index.html">ï¼ˆå·²æ›´æ–°ï¼‰è‹±ç‰¹å°”ç¦æ­¢å‘å¸ƒå¾®ä»£ç æ›´æ–°åŸºå‡†</a></li>
<li><a href="../zh-CN421111/index.html">Figmaä¸­çš„è®¾è®¡ç³»ç»Ÿã€‚ é€šè¿‡ç»„ä»¶çœ‹ç•Œé¢</a></li>
<li><a href="../zh-CN421113/index.html">DJI Mavic 2 Pro / Zooméš†é‡æ¨å‡º</a></li>
<li><a href="../zh-CN421115/index.html">Androidåº”ç”¨ç¨‹åºä¸­çš„ä¸Šä¸‹æ–‡</a></li>
<li><a href="../zh-CN421119/index.html">æ°´ä¸‹è€™SmartTVå¼€å‘</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>