<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå± üôéüèº üë©üèΩ‚Äçü§ù‚Äçüë®üèº Appels syst√®me Fancy Linux üë©‚Äçüëß‚Äçüë¶ üëÇüèª ü§ôüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Que voit un programmeur lorsqu'il commence √† travailler avec le langage C? Il voit fopen , printf , scanf et bien d'autres fonctions. Il voit toutes s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Appels syst√®me Fancy Linux</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/475184/"><p> <a href=""><img alt="ls / usr / share / man / man2 /" src="https://habrastorage.org/webt/ej/cn/w4/ejcnw4zqrqo_wee6kw-evxqziui.png"></a> </p><br><p> Que voit un programmeur lorsqu'il commence √† travailler avec le langage C?  Il voit <code>fopen</code> , <code>printf</code> , <code>scanf</code> et bien d'autres fonctions.  Il voit toutes sortes de <code>mmap</code> <code>open</code> et <code>mmap</code> - il semblerait, pourquoi les mettre en √©vidence?  Mais, contrairement au premier groupe, ces deux fonctions lorsqu'elles sont ex√©cut√©es sur le noyau Linux sont des appels syst√®me (en <em>fait pas</em> , presque jamais un appel syst√®me ne peut simplement √™tre appel√© en tant que fonction, et donc <code>libc</code> contient des wrappers qui reconditionnent les arguments et parfois, comme dans le cas <code>open</code> , rempla√ßant les anciens appels syst√®me par de nouveaux plus g√©n√©raux).  En g√©n√©ral, contrairement aux milliers de fonctions de biblioth√®que disponibles sur un syst√®me GNU / Linux typique, l'interface du noyau a un nombre assez limit√© de points d'entr√©e - de l'ordre de plusieurs centaines, mais pour l'espace utilisateur, il se bloque (par exemple, acc√©der √† une page manquante), pour le noyau - mode de fonctionnement par d√©faut. </p><br><p>  Dans cet article, je vais vous dire quelques faits int√©ressants √† mon avis.  Il n'aura pas de <code>futex</code> et d'autres d√©tails d'impl√©mentation ennuyeux (probablement).  Ce sera principalement ce qui m'a provoqu√© la r√©action "Et quoi, cela pourrait-il en √™tre ainsi?!?". </p><a name="habracut"></a><br><p>  Tout d'abord, quelques commentaires sur le texte avant kat: certains appels syst√®me ont une interface optionnelle sous la forme d'une fonction √† partir d'un objet partag√© appel√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">vDSO</a> , que le noyau met dans le processus.  Il y a peu de ces fonctions (environ quatre, mais la quantit√© sp√©cifique, apparemment, peut d√©pendre de la version et de l'architecture du noyau) - ce sont toutes sortes de <code>time</code> et de <code>gettimeofday</code> , qui, d'une part, sont souvent utilis√©s, et d'autre part, ils ont √©t√© mis en ≈ìuvre sans passer √† contexte du noyau. </p><br><p>  Deuxi√®mement, SIGSEGV ne se termine pas toujours par un crash de processus, mais nous en parlerons <code>userfaultfd</code> en ce qui concerne <code>userfaultfd</code> . </p><br><p>  <strong>AVERTISSEMENT:</strong> N'oubliez pas qu'en utilisant la plupart des fonctionnalit√©s pr√©sent√©es ici, vous liez votre programme Linux.  Ceci est normal si vous effectuez ainsi l'optimisation facultative pour un type de syst√®me particulier ou une fonctionnalit√© suppl√©mentaire qui autrement n'existerait tout simplement pas.  Mais sinon, je recommande de r√©fl√©chir √† la fa√ßon de faire un repli multi-plateforme. </p><br><h2 id="obschie-voprosy">  Questions d'ordre g√©n√©ral </h2><br><p>  Pour commencer, comment tout cela peut-il √™tre d√©bogu√©?  Bien s√ªr, <code>strace</code> nous aidera!  √âtant donn√© que l'ensemble des appels syst√®me est limit√© et que la plupart des <code>strace</code> savent ¬´√† vue¬ª, il affichera non seulement ¬´le pointeur 0x12345678 a √©t√© pass√©¬ª, mais d√©crira ce qui est transf√©r√© dans telle ou telle direction dans cette structure.  Si <code>strace</code> est suffisamment frais, alors en utilisant l'option <code>-k</code> , vous pouvez lui demander d'√©mettre une pile d'appels. </p><br><div class="spoiler">  <b class="spoiler_title">Cela ressemble √† ceci</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">$ strace -k sleep 1 execve("/bin/sleep", ["sleep", "1"], 0x7ffe9f9cce30 /* 60 vars */) = 0 &gt; /lib/x86_64-linux-gnu/libc-2.30.so(execve+0xb) [0xe601b] &gt; /usr/bin/strace(+0x0) [0xa279c] &gt; /usr/bin/strace(+0x0) [0xa41d2] &gt; /usr/bin/strace(+0x0) [0x7090b] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__libc_start_main+0xf3) [0x271e3] &gt; /usr/bin/strace(+0x0) [0x7112a] brk(NULL) = 0x558936ded000 &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_catch_error+0x20b) [0x1ccdb] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(__get_cpu_features+0x1cd2) [0x1b872] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x203c] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x1108] arch_prctl(0x3001 /* ARCH_??? */, 0x7fff593c0070) = -1 EINVAL ( ) &gt; /lib/x86_64-linux-gnu/ld-2.30.so(__get_cpu_features+0x1e25) [0x1b9c5] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x203c] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x1108] access("/etc/ld.so.preload", R_OK) = -1 ENOENT (    ) &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_catch_error+0x10cb) [0x1db9b] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x3c12] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(__get_cpu_features+0x1e7b) [0x1ba1b] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x203c] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x1108] openat(AT_FDCWD, "/etc/ld.so.cache", O_RDONLY|O_CLOEXEC) = 3 &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_catch_error+0x1238) [0x1dd08] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_debug_state+0x73a) [0x11d4a] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_exception_free+0x908) [0x189c8] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0xa362] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_rtld_di_serinfo+0x41b5) [0xeb35] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_catch_exception+0x65) [0x1ca85] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_rtld_di_serinfo+0x4603) [0xef83] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x3c55] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(__get_cpu_features+0x1e7b) [0x1ba1b] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x203c] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x1108] fstat(3, {st_mode=S_IFREG|0644, st_size=254851, ...}) = 0 &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_catch_error+0x1009) [0x1dad9] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_debug_state+0x761) [0x11d71] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_exception_free+0x908) [0x189c8] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0xa362] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_rtld_di_serinfo+0x41b5) [0xeb35] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_catch_exception+0x65) [0x1ca85] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_rtld_di_serinfo+0x4603) [0xef83] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x3c55] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(__get_cpu_features+0x1e7b) [0x1ba1b] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x203c] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x1108] mmap(NULL, 254851, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7fc49621c000 &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_catch_error+0x1426) [0x1def6] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_debug_state+0x79d) [0x11dad] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_exception_free+0x908) [0x189c8] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0xa362] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_rtld_di_serinfo+0x41b5) [0xeb35] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_catch_exception+0x65) [0x1ca85] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_rtld_di_serinfo+0x4603) [0xef83] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x3c55] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(__get_cpu_features+0x1e7b) [0x1ba1b] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x203c] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x1108] close(3) = 0 &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_catch_error+0x10fb) [0x1dbcb] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_debug_state+0x780) [0x11d90] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_exception_free+0x908) [0x189c8] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0xa362] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_rtld_di_serinfo+0x41b5) [0xeb35] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_catch_exception+0x65) [0x1ca85] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_rtld_di_serinfo+0x4603) [0xef83] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x3c55] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(__get_cpu_features+0x1e7b) [0x1ba1b] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x203c] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x1108] openat(AT_FDCWD, "/lib/x86_64-linux-gnu/libc.so.6", O_RDONLY|O_CLOEXEC) = 3 &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_catch_error+0x1238) [0x1dd08] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x7d40] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0xa3a8] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_rtld_di_serinfo+0x41b5) [0xeb35] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_catch_exception+0x65) [0x1ca85] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_rtld_di_serinfo+0x4603) [0xef83] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x3c55] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(__get_cpu_features+0x1e7b) [0x1ba1b] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x203c] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x1108] read(3, "\177ELF\2\1\1\3\0\0\0\0\0\0\0\0\3\0&gt;\0\1\0\0\0\360r\2\0\0\0\0\0"..., 832) = 832 &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_catch_error+0x12f8) [0x1ddc8] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x7d79] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0xa3a8] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_rtld_di_serinfo+0x41b5) [0xeb35] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_catch_exception+0x65) [0x1ca85] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(_dl_rtld_di_serinfo+0x4603) [0xef83] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x3c55] &gt; /lib/x86_64-linux-gnu/ld-2.30.so(__get_cpu_features+0x1e7b) [0x1ba1b] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x203c] &gt; /lib/x86_64-linux-gnu/ld-2.30.so() [0x1108] ...    ... brk(NULL) = 0x558936ded000 &gt; /lib/x86_64-linux-gnu/libc-2.30.so(brk+0xb) [0x11755b] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__sbrk+0x67) [0x117617] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__default_morecore+0xd) [0x9fd3d] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(thrd_yield+0x2725) [0x9a745] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(thrd_yield+0x3943) [0x9b963] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(thrd_yield+0x3b2b) [0x9bb4b] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(thrd_yield+0x4d9e) [0x9cdbe] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(textdomain+0x740) [0x3be70] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0x1d35) [0x35515] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0xbdf) [0x343bf] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0x215) [0x339f5] &gt; /bin/sleep() [0x25f0] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__libc_start_main+0xf3) [0x271e3] &gt; /bin/sleep() [0x287e] brk(0x558936e0e000) = 0x558936e0e000 &gt; /lib/x86_64-linux-gnu/libc-2.30.so(brk+0xb) [0x11755b] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__sbrk+0x91) [0x117641] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__default_morecore+0xd) [0x9fd3d] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(thrd_yield+0x2725) [0x9a745] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(thrd_yield+0x3943) [0x9b963] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(thrd_yield+0x3b2b) [0x9bb4b] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(thrd_yield+0x4d9e) [0x9cdbe] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(textdomain+0x740) [0x3be70] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0x1d35) [0x35515] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0xbdf) [0x343bf] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0x215) [0x339f5] &gt; /bin/sleep() [0x25f0] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__libc_start_main+0xf3) [0x271e3] &gt; /bin/sleep() [0x287e] openat(AT_FDCWD, "/usr/lib/locale/locale-archive", O_RDONLY|O_CLOEXEC) = 3 &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__open64_nocancel+0x4c) [0x11679c] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0x1ce9) [0x354c9] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0xbdf) [0x343bf] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0x215) [0x339f5] &gt; /bin/sleep() [0x25f0] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__libc_start_main+0xf3) [0x271e3] &gt; /bin/sleep() [0x287e] fstat(3, {st_mode=S_IFREG|0644, st_size=8994080, ...}) = 0 &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__fxstat64+0x19) [0x1107b9] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0x1e33) [0x35613] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0xbdf) [0x343bf] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0x215) [0x339f5] &gt; /bin/sleep() [0x25f0] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__libc_start_main+0xf3) [0x271e3] &gt; /bin/sleep() [0x287e] mmap(NULL, 8994080, PROT_READ, MAP_PRIVATE, 3, 0) = 0x7fc495795000 &gt; /lib/x86_64-linux-gnu/libc-2.30.so(mmap64+0x26) [0x11baf6] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0x1e5d) [0x3563d] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0xbdf) [0x343bf] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0x215) [0x339f5] &gt; /bin/sleep() [0x25f0] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__libc_start_main+0xf3) [0x271e3] &gt; /bin/sleep() [0x287e] close(3) = 0 &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__close_nocancel+0xb) [0x1165bb] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0x1eab) [0x3568b] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0xbdf) [0x343bf] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(setlocale+0x215) [0x339f5] &gt; /bin/sleep() [0x25f0] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__libc_start_main+0xf3) [0x271e3] &gt; /bin/sleep() [0x287e] nanosleep({tv_sec=1, tv_nsec=0}, NULL) = 0 &gt; /lib/x86_64-linux-gnu/libc-2.30.so(nanosleep+0x17) [0xe5d17] &gt; /bin/sleep() [0x5827] &gt; /bin/sleep() [0x5600] &gt; /bin/sleep() [0x27b0] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__libc_start_main+0xf3) [0x271e3] &gt; /bin/sleep() [0x287e] close(1) = 0 &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__close_nocancel+0xb) [0x1165bb] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(_IO_file_close_it+0x70) [0x92fc0] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(fclose+0x166) [0x85006] &gt; /bin/sleep() [0x5881] &gt; /bin/sleep() [0x2d27] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__libc_secure_getenv+0x127) [0x49ba7] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(exit+0x20) [0x49d60] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__libc_start_main+0xfa) [0x271ea] &gt; /bin/sleep() [0x287e] close(2) = 0 &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__close_nocancel+0xb) [0x1165bb] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(_IO_file_close_it+0x70) [0x92fc0] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(fclose+0x166) [0x85006] &gt; /bin/sleep() [0x5881] &gt; /bin/sleep() [0x2d4d] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__libc_secure_getenv+0x127) [0x49ba7] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(exit+0x20) [0x49d60] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__libc_start_main+0xfa) [0x271ea] &gt; /bin/sleep() [0x287e] exit_group(0) = ? +++ exited with 0 +++ &gt; /lib/x86_64-linux-gnu/libc-2.30.so(_exit+0x36) [0xe5fe6] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__libc_secure_getenv+0x242) [0x49cc2] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(exit+0x20) [0x49d60] &gt; /lib/x86_64-linux-gnu/libc-2.30.so(__libc_start_main+0xfa) [0x271ea] &gt; /bin/sleep(+0x0) [0x287e]</code> </pre> </div></div><br><p>  Certes, les noms de fichiers source et les num√©ros de ligne ne sont pas affich√©s ici.  <code>addr2line</code> aidera (si ces informations sont en principe pr√©sentes, bien s√ªr). </p><br><p>  Il y a une deuxi√®me question: certains appels syst√®me n'ont pas de wrappers dans <code>libc</code> .  Ensuite, vous pouvez utiliser le wrapper universel appel√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>syscall</code></a> : </p><br><pre> <code class="cpp hljs"> syscall(SYS_kcmp, getpid(), getpid(), KCMP_FILE, <span class="hljs-number"><span class="hljs-number">1</span></span>, fd)</code> </pre> <br><h2 id="fayl-----eto-ochen-uzh-strannyy-predmet">  Un fichier est une chose tr√®s √©trange ... </h2><br><p>  Les appels syst√®me ne sont pas seulement un moyen de demander au noyau d'acc√©der au mat√©riel au nom du processus.  Il s'agit √©galement d'une API universelle compr√©hensible par toutes les biblioth√®ques du syst√®me.  Donc, si la fonctionnalit√© dont vous avez besoin n'est pas prise en charge dans la biblioth√®que, elle fonctionnera probablement automatiquement si vous demandez correctement le noyau.  De plus, une partie des ¬´param√®tres¬ª du processus est h√©rit√©e par <code>execve</code> , vous pouvez donc essayer de le faire sans b√©quilles compliqu√©es en formant simplement l'√©tat correctement avant de d√©marrer le processus (quelque chose comme ¬´pourquoi transf√©rer manuellement <code>stderr</code> dans un fichier, si vous pouvez simplement ouvrir le fichier et faire son FD # 2 pour le processus enfant "). </p><br><p>  Une fois, j'ai d√ª soustraire une s√©quence de paquets r√©seau d'un fichier.  √Ä un moment donn√©, le nombre de b√©quilles a d√©pass√© toutes les limites raisonnables, et j'ai d√©cid√© qu'il √©tait peu probable que <code>libpcap</code> soit plus compliqu√© que ce que j'avais √©crit, d'ailleurs, c'√©tait la norme, et il y avait des outils g√©n√©ralement accept√©s pour ouvrir ces fichiers.  Il s'est av√©r√© que l'utilisation de <code>libpcap</code> pour lire les vidages est √† peu pr√®s aussi difficile que <code>fopen</code> pour lire les fichiers: vous ouvrez simplement le vidage avec <code>pcap_(f)open_offline</code> et r√©cup√©rez les paquets via <code>pcap_next_ex</code> .  C‚Äôest tout!  Eh bien, cela vaut toujours la peine de fermer le d√©potoir √† la fin des travaux ... </p><br><p>  Mais voici le probl√®me: il semble que <code>libpcap</code> ne puisse pas lire depuis la m√©moire.  Peut-√™tre qu'il le peut, bien s√ªr, si vous y plongez, mais pour notre ¬´laboratoire¬ª, nous imaginerons qu'il ne peut pas. </p><br><p>  Donc, un exemple de mod√®le: nous attendons sur <code>stdin</code> s√©quence d'octets, apr√®s quoi il y a un vidage align√© de 4 octets.  Je comprends que vous pouvez utiliser une entr√©e mise en m√©moire tampon et certains <code>ungetc</code> (car <code>libpcap</code> n√©cessite toujours <code>FILE *</code> ), mais dans le cas g√©n√©ral, nous pouvons le d√©compresser sur la route, par exemple, ou la biblioth√®que peut fonctionner directement avec <code>read</code> / <code>write</code> . </p><br><h3 id="reshenie-1-memfd_create">  Solution 1: memfd_create </h3><br><p>  L' <code>memfd_create</code> syst√®me <code>memfd_create</code> permet de cr√©er un descripteur de fichier "g√©n√©ralement anonyme".  Le fichier est en m√©moire et existe alors qu'au moins un descripteur est ouvert dessus.  Dans le cas le plus simple, vous obtenez simplement un tel descripteur, y √©crivez des donn√©es via <code>write</code> , rembobinez <code>lseek</code> et avec <code>fdopen</code> faites-le savoir √† <code>libc</code> : </p><br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> fd = memfd_create(<span class="hljs-string"><span class="hljs-string">"pcap-dump-contents"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); write(fd, buf, length); lseek(fd, <span class="hljs-number"><span class="hljs-number">0</span></span>, SEEK_SET); FILE *file = fdopen(fd, <span class="hljs-string"><span class="hljs-string">"r"</span></span>);</code> </pre> <br><p>  Le nom de fichier transmis avec le premier argument sera affich√© dans un lien symbolique dans <code>/proc/&lt;PID&gt;/fd</code> : </p><br><pre> <code class="plaintext hljs">$ ls -l /proc/31747/fd  0 lr-x------ 1 trosinenko trosinenko 64  10 13:12 0 -&gt; /path/to/128test.pcap lrwx------ 1 trosinenko trosinenko 64  10 13:12 1 -&gt; /dev/pts/17 lrwx------ 1 trosinenko trosinenko 64  10 13:12 2 -&gt; /dev/pts/17 lrwx------ 1 trosinenko trosinenko 64  10 13:12 23 -&gt; '/home/trosinenko/.cache/appstream-cache-AH3OA0.mdb (deleted)' lrwx------ 1 trosinenko trosinenko 64  10 13:12 3 -&gt; '/memfd:pcap-dump-contents (deleted)' lrwx------ 1 trosinenko trosinenko 64  10 13:12 57 -&gt; 'socket:[41036]'</code> </pre> <br><h3 id="reshenie-2-open-s-flagom-o_tmpfile">  Solution 2: ouvrir avec l'indicateur O_TMPFILE </h3><br><p>  Sous Linux, √† partir d'une version, lors de la cr√©ation d'un fichier, vous pouvez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>  O_TMPFILE</code></a> et le nom du r√©pertoire au lieu du nom du fichier.  En cons√©quence, le fichier, comme disait un caract√®re litt√©raire (environ), il <em>semble √™tre l√†, mais il n'existe pas</em> ... Je ne sais pas si les donn√©es sont √©crites sur le disque, mais cela d√©pend probablement du syst√®me de fichiers (en passant, il devrait prendre en charge ce mode) .  Le fichier dispara√Æt toujours lorsque le dernier lien est ferm√©, mais il peut √™tre attach√© √† l'arborescence de r√©pertoires √† l'aide de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>linkat</code></a> : </p><br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> fd = open(<span class="hljs-string"><span class="hljs-string">"."</span></span>, O_RDWR | O_TMPFILE, S_IRUSR | S_IWUSR); assert(fd != <span class="hljs-number"><span class="hljs-number">-1</span></span>); assert(write(fd, buffer + offset, len - offset) == len - offset); assert(lseek(fd, <span class="hljs-number"><span class="hljs-number">0</span></span>, SEEK_SET) == <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *link_to = getenv(<span class="hljs-string"><span class="hljs-string">"LINK_TO"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (link_to != <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> path[<span class="hljs-number"><span class="hljs-number">128</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">snprintf</span></span>(path, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(path), <span class="hljs-string"><span class="hljs-string">"/proc/self/fd/%d"</span></span>, fd); linkat(AT_FDCWD, path, AT_FDCWD, link_to, AT_SYMLINK_FOLLOW); }</code> </pre> <br><p>  En plus de la possibilit√© de ne pas souffrir de la d√©nomination du fichier, il permet de remplir le fichier, de configurer les droits, etc., puis de lier atomiquement √† l'arborescence des r√©pertoires. </p><br><div class="spoiler">  <b class="spoiler_title">Exemple (pour les deux approches)</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _GNU_SOURCE #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> NDEBUG </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//    assert  -   # undef NDEBUG #endif #include &lt;sys/mman.h&gt; #include &lt;unistd.h&gt; #include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; #include &lt;assert.h&gt; #include &lt;signal.h&gt; #include &lt;sys/types.h&gt; #include &lt;sys/stat.h&gt; #include &lt;fcntl.h&gt; #include &lt;pcap.h&gt; //     PCAP (   -- . ) static const uint32_t pcap_mgc = 0xA1B2C3D4; char buffer[1 &lt;&lt; 20]; int main() { int len = read(0, buffer, sizeof(buffer)); //  -      "", //     pcap_mgc,   //   4  .   ... int offset = -1; for (int i = 0; i &lt; len; i += 4) { if (*(uint32_t *)(buffer + i) == pcap_mgc) { offset = i; break; } } if (offset &gt;= 0) { printf("Found PCAP dump at offset %d\n", offset); } else { fprintf(stderr, "No PCAP dump found.\n"); exit(1); } //   ,  libpcap ,   //   . #if 0 int fd = memfd_create("pcap-dump-contents", 0); assert(fd != -1); assert(write(fd, buffer + offset, len - offset) == len - offset); assert(lseek(fd, 0, SEEK_SET) == 0); #else int fd = open(".", O_RDWR | O_TMPFILE, S_IRUSR | S_IWUSR); assert(fd != -1); assert(write(fd, buffer + offset, len - offset) == len - offset); assert(lseek(fd, 0, SEEK_SET) == 0); const char *link_to = getenv("LINK_TO"); if (link_to != NULL) { char path[128]; snprintf(path, sizeof(path), "/proc/self/fd/%d", fd); linkat(AT_FDCWD, path, AT_FDCWD, link_to, AT_SYMLINK_FOLLOW); } #endif raise(SIGSTOP); //    /proc/PID/fd/ //      - ... FILE *file = fdopen(fd, "r"); char errbuf[PCAP_ERRBUF_SIZE]; pcap_t * dump = pcap_fopen_offline(file, errbuf); assert(dump != NULL); struct pcap_pkthdr *hdr; const uint8_t *data; while (pcap_next_ex(dump, &amp;hdr, &amp;data) == 1) { printf("Read packet: full length = %d bytes, available %d bytes.\n", hdr-&gt;len, hdr-&gt;caplen); } return 0; }</span></span></span></span></code> </pre> <br><pre> <code class="plaintext hljs">$ fallocate -l 128 zero128 $ cat zero128 test.pcap &gt; 128test.pcap $ ./memfd &lt; 128test.pcap Found PCAP dump at offset 128 Read packet: full length = 105 bytes, available 105 bytes. Read packet: full length = 105 bytes, available 105 bytes. Read packet: full length = 66 bytes, available 66 bytes. Read packet: full length = 385 bytes, available 385 bytes. Read packet: full length = 66 bytes, available 66 bytes. ...</code> </pre> </div></div><br><h2 id="userfaultfd-obrabotka-oshibok-pamyati-v-userspace">  userfaultfd: gestion des erreurs de m√©moire dans l'espace utilisateur </h2><br><p>  Je pense qu'il n'y aura rien de tr√®s nouveau √† dire que sur les syst√®mes de type UNIX, les descripteurs de fichiers n'indiquent rien.  Par exemple, sous Linux, il peut s'agir d'un socket, d'un pipe, d'un eventfd ou m√™me d'un lien vers un programme ebpf.  Mais cet exemple vous surprendra peut-√™tre encore.  Au d√©but de l'article, j'ai parl√© du fait que les d√©fauts de page sont une chose courante pour le noyau: √©change, copie sur √©criture, c'est tout ... Lorsque le processus utilisateur "rate", SIGSEGV lui est envoy√©.  Pour autant que je sache, le retour du contr√¥le du gestionnaire SIGSEGV g√©n√©r√© par le noyau est un comportement non d√©fini, et n√©anmoins, il existe la biblioth√®que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">GNU libsigsegv</a> qui g√©n√©ralise les fonctionnalit√©s de gestion des erreurs d'acc√®s √† la m√©moire sur diverses plates-formes, m√™me Windows <strong>(ATTENTION: licence GPL, si elle n'est pas pr√™te pour distribuez votre programme, n'utilisez pas libsigsegv)</strong> .  Il n'y a pas si longtemps, une m√©thode compl√®tement document√©e est apparue sous Linux, appel√©e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>userfaultfd</code></a> : en utilisant l'appel syst√®me du m√™me nom, vous ouvrez un descripteur de fichier, lisant et √©crivant dans lequel des structures sp√©ciales sont des commandes. </p><br><p>  Avec un tel descripteur de fichier, vous pouvez marquer une plage d'adresses virtuelles pour votre processus.  Apr√®s cela, au premier acc√®s √† chaque page de m√©moire marqu√©e, le flux s'endormira et la lecture du descripteur de fichier renverra des informations sur ce qui s'est pass√©.  Apr√®s cela, le gestionnaire remplira la structure de r√©ponse avec un pointeur sur les donn√©es qui doivent √™tre utilis√©es pour initialiser la page "probl√®me", le noyau l'initialisera et r√©veillera le thread qui a tourn√©.  Dans ce cas, il est suppos√© qu'il existe un flux distinct, dont les fonctions comprennent la lecture des commandes du descripteur et l'√©mission de r√©ponses.  <em>De mani√®re g√©n√©rale, d'autres informations peuvent <code>userfaultfd</code> √™tre obtenues via <code>userfaultfd</code> , par exemple, certaines notifications concernant un changement de carte virtuelle de processus.</em> </p><br><div class="spoiler">  <b class="spoiler_title">Exemple d'utilisation</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _GNU_SOURCE #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifdef</span></span></span><span class="hljs-meta"> NDEBUG </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//    assert  -   # undef NDEBUG #endif #include &lt;linux/userfaultfd.h&gt; #include &lt;syscall.h&gt; #include &lt;sys/mman.h&gt; #include &lt;sys/ioctl.h&gt; #include &lt;unistd.h&gt; #include &lt;pthread.h&gt; #include &lt;assert.h&gt; #include &lt;stdint.h&gt; #include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; #include &lt;string.h&gt; // -,   sysconf... #define PAGE_SIZE 4096 #define PAGE_MASK (PAGE_SIZE - 1) static void *thread_fn(void * arg) { int uffd = (intptr_t)arg; struct uffd_msg msg; // ,    hugepages... uint8_t *replacement_page = mmap(NULL, PAGE_SIZE, PROT_READ | PROT_WRITE, MAP_PRIVATE | MAP_ANONYMOUS, -1 ,0); while(1) { assert(read(uffd, &amp;msg, sizeof msg) &gt; 0); //    ,    if (msg.event == UFFD_EVENT_PAGEFAULT) { uintptr_t addr = msg.arg.pagefault.address; fprintf(stderr, "Fault: addr = 0x%zx\n", addr); //       uint8_t *page_addr = (uint8_t *)((uintptr_t)addr &amp; ~PAGE_MASK); //  "" ,  ""! memset(replacement_page, 0xAB, PAGE_SIZE); //     struct uffdio_copy copy; copy.src = (uintptr_t)replacement_page; copy.dst = (uintptr_t)page_addr; copy.mode = 0; // ,  --   copy.copy = 0; //   --      copy.len = PAGE_SIZE; assert(ioctl(uffd, UFFDIO_COPY, &amp;copy) != -1); } } } static int init_userfaultfd(void) { //   int uffd = syscall(__NR_userfaultfd, 0); // ,       struct uffdio_api api; api.api = UFFD_API; api.features = 0; assert(ioctl(uffd, UFFDIO_API, &amp;api) != -1); fprintf(stderr, "UFFD open\n"); //  - pthread_t thread; memset(&amp;thread, 0, sizeof(thread)); // ...    int  void *? pthread_create(&amp;thread, 0, thread_fn, (void *)(intptr_t)uffd); return uffd; } static void register_region(int uffd, void * aligned_addr, size_t size) { struct uffdio_register reg; memset(&amp;reg, 0, sizeof reg); reg.range.start = (uintptr_t)aligned_addr; reg.range.len = size; reg.mode = UFFDIO_REGISTER_MODE_MISSING; assert (ioctl(uffd, UFFDIO_REGISTER, &amp;reg) != -1); } int main() { void *addr = mmap(NULL, PAGE_SIZE, PROT_READ | PROT_WRITE, MAP_PRIVATE | MAP_ANONYMOUS, -1, 0); int uffd = init_userfaultfd(); register_region(uffd, addr, PAGE_SIZE); fprintf(stderr, "Before reading\n"); fprintf(stderr, "Data at %p: %x\n", addr, *(volatile int *)addr); return 0; }</span></span></span></span></code> </pre> <br><pre> <code class="plaintext hljs">$ ./userfaultfd UFFD open Before reading Fault: addr = 0x7f46f40d5000 Data at 0x7f46f40d5000: abababab</code> </pre> </div></div><br><h2 id="laquoklyuchevoy-vopros-matematiki-ne-vsyo-li-ravnoraquo-c">  "La question cl√© des math√©matiques: est-ce la m√™me chose?" ¬© </h2><br><p>  Que faire si vous avez besoin de savoir si ce descripteur de fichier fait r√©f√©rence √† <code>stdin</code> ?  Il semblerait que <code>if (fd == 0) ...</code> - et c'est tout.  Bon, ok ... </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _GNU_SOURCE #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;unistd.h&gt; #include &lt;stdio.h&gt; int main() { int fd = dup(0); printf("stdin is fd %d, too\n", fd); if (fd == 0) printf("stdin"); else printf("not stdin"); return 0; }</span></span></span></span></code> </pre> <br><pre> <code class="plaintext hljs">$ gcc kcmp.c -o kcmp $ ./kcmp stdin is fd 3, too not stdin</code> </pre> <br><p>  Oups ... Le handle est un peu comme un, mais les alias sont diff√©rents.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">CRIU</a> - Checkpoint / Restore In Userspace nous aidera.  ,     ,      .     userspace-,    ,   ,      <code>kcmp</code> :    PID,   , ,  ,   ,          : </p><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> _GNU_SOURCE #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;linux/kcmp.h&gt; #include &lt;syscall.h&gt; #include &lt;unistd.h&gt; #include &lt;stdio.h&gt; int main() { int fd = dup(0); printf("stdin is fd %d, too\n", fd); int pid = getpid(); if (syscall(SYS_kcmp, pid, pid, KCMP_FILE /*    _FILES! */, 0 /* stdin fd */, fd) == 0) printf("stdin\n"); else printf("not stdin\n"); if (syscall(SYS_kcmp, pid, pid, KCMP_FILE, 1 /* stdout fd */, fd) == 0) printf("stdout\n"); else printf("not stdout\n"); return 0; }</span></span></span></span></code> </pre> <br><pre> <code class="plaintext hljs">$ ./kcmp stdin is fd 3, too stdin stdout</code> </pre> <br><p>   !  ,   ... </p><br><pre> <code class="plaintext hljs">$ ls -l /proc/self/fd  0 lrwx------ 1 trosinenko trosinenko 64  10 14:45 0 -&gt; /dev/pts/17 lrwx------ 1 trosinenko trosinenko 64  10 14:45 1 -&gt; /dev/pts/17 lrwx------ 1 trosinenko trosinenko 64  10 14:45 2 -&gt; /dev/pts/17 lrwx------ 1 trosinenko trosinenko 64  10 14:45 23 -&gt; '/home/trosinenko/.cache/appstream-cache-AH3OA0.mdb (deleted)' lr-x------ 1 trosinenko trosinenko 64  10 14:45 3 -&gt; /proc/17265/fd lrwx------ 1 trosinenko trosinenko 64  10 14:45 57 -&gt; 'socket:[41036]'</code> </pre> <br><p> ,   ,   ,  ,       .  ,  bash        ,    <code>ls</code> ! </p><br><pre> <code class="plaintext hljs">$ ./kcmp &lt; kcmp.c stdin is fd 3, too stdin not stdout</code> </pre> <br><p>   ,       ‚Äî         -,   best effort   -    . </p><br><h2 id="obo-vsyom-i-ponemnozhku">     </h2><br><p>   , ... </p><br><ul><li> ‚Ä¶      JIT-    userspace?  ,         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> eBPF-</a> .       ,  ( ,   ,      -)  . .,    JIT-,  . ,      , BPF. </li><li> ‚Ä¶        ?  ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>sigaltstack</code></a> . </li><li> ‚Ä¶       ,     : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>readahead</code></a> </li></ul><br><p>           <code>oldolduname</code> ... </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr475184/">https://habr.com/ru/post/fr475184/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr475172/index.html">5 fa√ßons d'utiliser efficacement le Raspberry Pi Troisi√®me partie</a></li>
<li><a href="../fr475174/index.html">Comment d√©coller sur batteries ou un peu de th√©orie du paramoteur √©lectrique. Partie 1</a></li>
<li><a href="../fr475178/index.html">Remplacement d'EAV par JSONB dans PostgreSQL</a></li>
<li><a href="../fr475180/index.html">Comment d√©coller sur batteries ou la pratique du paramoteur √©lectrique SkyMax. 2e partie</a></li>
<li><a href="../fr475182/index.html">Comment j'ai d√©cid√© d'un concours d'apprentissage automatique de type donn√©es</a></li>
<li><a href="../fr475188/index.html">Algorithme de placement de tuiles bas√© sur des contraintes</a></li>
<li><a href="../fr475192/index.html">Comment trouver un emploi dans une entreprise qui aide √† lutter contre le r√©chauffement climatique?</a></li>
<li><a href="../fr475194/index.html">Ecrire redux par SOLID</a></li>
<li><a href="../fr475196/index.html">Le condens√© de mat√©riaux int√©ressants pour le d√©veloppeur mobile # 321 (du 4 au 10 novembre)</a></li>
<li><a href="../fr475200/index.html">Nouvelles du monde d'OpenStreetMap n ¬∞ 484 (22/10/2019 - 28/10/2019)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>