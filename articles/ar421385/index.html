<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ง๐ฝโ๐คโ๐ง๐ผ ๐ถ๏ธ ๐ฉ๐ผโ๐คโ๐จ๐ฟ ุชุนูู ุจุฑูุงูุฌ OpenGL. ุงูุฏุฑุณ 5.10 - ุงูุณุฏุงุฏ ูุณุงุญุฉ ุงูุดุงุดุฉ ุงููุญูุทุฉ ๐ ๐ ๐ณ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="SSAO 
 ุชู ุทุฑุญ ููุถูุน ุฅุถุงุกุฉ ุงูุฎูููุฉ ูู ูุจููุง ูู ุฏุฑุณ ุญูู ุฃุณุงุณูุงุช ุงูุฅุถุงุกุฉ ุ ูููู ุจุดูู ุนุงุจุฑ. ุฏุนูู ุฃุฐูุฑู: ูููู ุงูุฎูููุฉ ููุฅุถุงุกุฉ ูู ูู ุงูุฃุณุงุณ ูููุฉ ุซุงุจุชุฉ ุชุถุงู ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>ุชุนูู ุจุฑูุงูุฌ OpenGL. ุงูุฏุฑุณ 5.10 - ุงูุณุฏุงุฏ ูุณุงุญุฉ ุงูุดุงุดุฉ ุงููุญูุทุฉ</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/421385/" style=";text-align:right;direction:rtl"><img align="left" src="https://habrastorage.org/web/c9e/9b2/a3b/c9e9b2a3baf749ab8e2b385c6d93d966.png" alt="OGL3" width="300"><h2 style=";text-align:right;direction:rtl">  SSAO </h2><br>  ุชู ุทุฑุญ ููุถูุน ุฅุถุงุกุฉ ุงูุฎูููุฉ ูู ูุจููุง ูู ุฏุฑุณ ุญูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃุณุงุณูุงุช ุงูุฅุถุงุกุฉ</a> ุ ูููู ุจุดูู ุนุงุจุฑ.  ุฏุนูู ุฃุฐูุฑู: ูููู ุงูุฎูููุฉ ููุฅุถุงุกุฉ ูู ูู ุงูุฃุณุงุณ ูููุฉ ุซุงุจุชุฉ ุชุถุงู ุฅูู ุฌููุน ุญุณุงุจุงุช ุฅุถุงุกุฉ ุงููุดูุฏ ููุญุงูุงุฉ ุนูููุฉ <i>ุชุดุชุช ุงูุถูุก</i> .  ูู ุงูุนุงูู ุงูุญูููู ุ ูุฎุถุน ุงูุถูุก ููุนุฏูุฏ ูู ุงูุงูุนูุงุณุงุช ุจุฏุฑุฌุงุช ูุชูุงูุชุฉ ูู ุงูุดุฏุฉ ุ ููุง ูุคุฏู ุฅูู ุฅุถุงุกุฉ ุบูุฑ ูุชุณุงููุฉ ููุฃุฌุฒุงุก ุงููุถุงุกุฉ ุจุดูู ุบูุฑ ูุจุงุดุฑ ูู ุงููุดูุฏ.  ูู ุงููุงุถุญ ุฃู ุงูุชููุฌ ุจููุฉ ุซุงุจุชุฉ ููุณ ูุนููููุง ุฌุฏูุง. <br><br>  ุฃุญุฏ ุฃููุงุน ุงูุญุณุงุจุงุช ุงูุชูุฑูุจูุฉ ููุชุธููู ูู ุงูุฅุถุงุกุฉ ุบูุฑ ุงููุจุงุดุฑุฉ ูู ุฎูุงุฑุฒููุฉ <i>ุงูุงูุณุฏุงุฏ ุงููุญูุท (AO</i> ) ุ ูุงูุชู ุชุญุงูู ุชูููู ุงูุฅุถุงุกุฉ ุบูุฑ ุงููุจุงุดุฑุฉ ุจุงููุฑุจ ูู ุงูุฒูุงูุง ูุงูุชุฌุงุนูุฏ ูุงููุฎุงููุงุช ุงูุณุทุญูุฉ ุงูุฃุฎุฑู.  ุชุชุฏุงุฎู ูุฐู ุงูุนูุงุตุฑ ุ ุจุดูู ุนุงู ุ ุจุดูู ูุจูุฑ ูุน ุงูููุฏุณุฉ ุงููุฌุงูุฑุฉ ูุจุงูุชุงูู ุชุชุฑู ุฃุดุนุฉ ุถูุก ุฃูู ูููุฑูุจ ุฅูู ุงูุฎุงุฑุฌ ุ ููุง ูุญุฌุจ ูุฐู ุงูููุงุทู. <br><br>  ูููุง ููู ููุงุฑูุฉ ุจูู ุงูุนุฑุถ ุจุฏูู ูุงุณุชุฎุฏุงู ุฎูุงุฑุฒููุฉ AO.  ุงูุชุจู ุฅูู ููููุฉ ุงูุฎูุงุถ ุดุฏุฉ ุงูุฅุถุงุกุฉ ุงูุฎูููุฉ ุจุงููุฑุจ ูู ุฒูุงูุง ุงูุฌุฏุฑุงู ูุงูุงููุณุงุฑุงุช ุงูุญุงุฏุฉ ุงูุฃุฎุฑู ูู ุงูุณุทุญ: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/6s/8z/kv/6s8zkvpob8nbgaails8mtfutgw8.png"></div><br>  ุนูู ุงูุฑุบู ูู ุฃู ุงูุชุฃุซูุฑ ููุณ ููุญูุธูุง ุฌุฏูุง ุ ูุฅู ูุฌูุฏ ุงูุชุฃุซูุฑ ูู ุฌููุน ุฃูุญุงุก ุงููุดูุฏ ูุถูู ุงููุงูุนูุฉ ุฅููู ุจุณุจุจ ุงูููู ุงูุฅุถุงูู ููุนูู ุงููุงุชุฌ ุนู ุงูุชูุงุตูู ุงูุตุบูุฑุฉ ูุชุฃุซูุฑ ุงูุชุธููู ุงูุฐุงุชู. <br><a name="habracut"></a><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">ุงููุญุชููุงุช</b> <div class="spoiler_text" style=";text-align:right;direction:rtl">  ุงูุฌุฒุก 1. ุงูุดุฑูุน ูู ุงูุนูู <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">Opengl</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅูุดุงุก ุงููุงูุฐุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุงูุฐุฉ ูุฑุญุจูุง</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฑุญุจุง ูุซูุซ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุธููู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุงู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุญููุงุช</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุณูู ุงูุฃูุธูุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุงููุฑุง</a> </li></ol><br>  ุงูุฌุฒุก 2. ุงูุฅุถุงุกุฉ ุงูุฃุณุงุณูุฉ <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฃููุงู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฃุณุงุณูุงุช ุงูุฅุถุงุกุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูููุงุฏ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฎุฑุงุฆุท ูุณูุฌ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตุงุฏุฑ ุงูุถูุก</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตุงุฏุฑ ุฅูุงุฑุฉ ูุชุนุฏุฏุฉ</a> </li></ol><br>  ุงูุฌุฒุก 3. ุชูุฒูู ุงูููุงุฐุฌ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุชุจุฉ Assimp</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุดุจูุฉ ูุถูุน ูู ุงูุฏุฑุฌุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฆุฉ ุงูููุงุฐุฌ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ</a> </li></ol><br>  ุงูุฌุฒุก 4. ููุฒุงุช ุจุฑูุงูุฌ OpenGL ุงููุชูุฏูุฉ <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุฎุชุจุงุฑ ุงูุนูู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงุฎุชุจุงุฑ ุงูุงุณุชูุณู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฎูุท ุงูููู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูููู ุงููุฌูู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุนุงุฒูุฉ ุงูุฅุทุงุฑ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุทุงูุงุช ููุนุจุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุนุงูุฌุฉ ุงูุจูุงูุงุช ุงููุชูุฏูุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">GLSL ูุชูุฏู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุธููู ููุฏุณู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชูุงุนุจ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุนูู</a> </li></ol><br>  ุงูุฌุฒุก 5. ุงูุฅุถุงุกุฉ ุงููุชูุฏูุฉ <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฅุถุงุกุฉ ูุชูุฏูุฉ.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูููุฐุฌ ุจููู ูููุบ.</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุตุญูุญ ุบุงูุง</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจุทุงูุงุช ุงูุธู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฎุฑุงุฆุท ุงูุธู ูุชุนุฏุฏุฉ ุงูุงุชุฌุงูุงุช</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฑุณู ุงูุฎุฑุงุฆุท ุงูุนุงุฏูุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฑุณู ุฎุฑุงุฆุท ุงูููุธุฑ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชูุฑูุฑ ุงูุชูููุฉ ุงูุจุดุฑูุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุจููู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุนุฑุถ ูุคุฌู</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">SSAO</a> </li></ol><br>  ุงูุฌุฒุก 6. PBR <br><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุธุฑูุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุตุงุฏุฑ ุงูุถูุก ุงูุชุญููููุฉ</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">IBL</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุดุนูุน ููุชุดุฑ.</a> </li><li style=";text-align:right;direction:rtl">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">IBL</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุชุนุฑุถ ุงููุฑุขุฉ.</a> </li></ol><br></div></div><br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃู ุงูุฎูุงุฑุฒููุงุช ูุญุณุงุจ AO ุชุณุชููู ููุงุฑุฏ ุจุดูู ูุจูุฑ ุ ูุฃููุง ุชุชุทูุจ ุชุญููู ุงูููุฏุณุฉ ุงููุญูุทุฉ.  ูู ุงูุชูููุฐ ุงูุณุงุฐุฌ ุ ุณูููู ูู ุงููููู ุจุจุณุงุทุฉ ุฅุทูุงู ุงููุซูุฑ ูู ุงูุฃุดุนุฉ ูู ูู ููุทุฉ ุนูู ุงูุณุทุญ ูุชุญุฏูุฏ ุฏุฑุฌุฉ ุงูุชุธููู ุ ูููู ูุฐุง ุงูููุฌ ูุตู ุจุณุฑุนุฉ ูุจูุฑุฉ ุฅูู ุงูุญุฏ ุงูููุซู ูู ุงูููุงุฑุฏ ุงูููุจูู ููุชุทุจููุงุช ุงูุชูุงุนููุฉ.  ูุญุณู ุงูุญุธ ุ ูู ุนุงู 2007 ุ ูุดุฑ Crytek ูุฑูุฉ ุชุตู ููุฌูุง ุงูุฎุงุต ูู ุชูููุฐ ุฎูุงุฑุฒููุฉ <i>ุงูุณุฏุงุฏ ุงูุดุงุดุฉ ุงููุถุงุฆูุฉ (SSAO</i> ) ุงููุณุชุฎุฏูุฉ ูู ูุณุฎุฉ ุฅุตุฏุงุฑ Crysis.  ูุงู ุงูููุฌ ุจุญุณุงุจ ุฏุฑุฌุฉ ุงูุชุธููู ูู ูุณุงุญุฉ ุงูุดุงุดุฉ ุ ุจุงุณุชุฎุฏุงู ุงููุฎุฒู ุงููุคูุช ุงูุญุงูู ููุนูู ููุท ุจุฏูุงู ูู ุงูุจูุงูุงุช ุงูุญููููุฉ ุญูู ุงูููุฏุณุฉ ุงููุญูุทุฉ.  ุฃุฏู ูุฐุง ุงูุชุญุณูู ุฅูู ุชุณุฑูุน ุงูุฎูุงุฑุฒููุฉ ุจุดูู ุฌุฐุฑู ููุงุฑูุฉ ุจุงูุชุทุจูู ุงููุฑุฌุนู ููู ุงูููุช ููุณู ุฃุนุทู ูุชุงุฆุฌ ูุนูููุฉ ูู ุงูุบุงูุจ ุ ููุง ุฌุนู ูุฐุง ุงูููุฌ ูู ุงูุญุณุงุจ ุงูุชูุฑูุจู ูุชุธููู ุงูุฎูููุฉ ุตูุงุนุฉ ููุงุณูุฉ ูุงูุนูุฉ. <br><br>  ุฅู ุงููุจุฏุฃ ุงูุฐู ุชููู ุนููู ุงูุฎูุงุฑุฒููุฉ ุจุณูุท ููุบุงูุฉ: ููู ุฌุฒุก ูู ุฑุจุงุน ููุก ุงูุดุงุดุฉ ุ <i>ูุชู</i> ุญุณุงุจ <i>ุนุงูู ุงูุฅุทุจุงู</i> ุจูุงุกู ุนูู ููู ุนูู ุงูุฃุฌุฒุงุก ุงููุญูุทุฉ.  ูุณุชุฎุฏู ุจุนุฏ ุฐูู ูุนุงูู ุงูุชุธููู ุงููุญุณูุจ ูุชูููู ุดุฏุฉ ุงูุฅุถุงุกุฉ ุงูุฎูููุฉ (ุญุชู ุงูุงุณุชุจุนุงุฏ ุงููุงูู).  ูุชุทูุจ ุงูุญุตูู ุนูู ูุนุงูู ุฌูุน ุจูุงูุงุช ุงูุนูู ูู ูุฌููุนุฉ ูู ุงูุนููุงุช ูู ุงูููุทูุฉ ุงููุฑููุฉ ุงููุญูุทุฉ ุจุงูุฌุฒุก ุงููุนูู ูููุงุฑูุฉ ููู ุงูุนูู ูุฐู ุจุนูู ุงูุฌุฒุก ุงููุนูู.  ูุญุฏุฏ ุนุฏุฏ ุงูุนููุงุช ุงูุชู ููุง ุนูู ุฃูุจุฑ ูู ุงูุฌุฒุก ุงูุญุงูู ูุจุงุดุฑุฉ ูุนุงูู ุงูุชุธููู.  ุงูุธุฑ ุฅูู ูุฐุง ุงูุฑุณู ุงูุจูุงูู: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/y5/yh/8o/y5yh8oeqvguchqopeu7nz0g-tsy.png"></div><br>  ููุง ุ ุชูุน ูู ููุทุฉ ุฑูุงุฏูุฉ ุฏุงุฎู ูุงุฆู ููุฏุณู ูุนูู ุ ูุจุงูุชุงูู ุชุณูู ูู ูููุฉ ูุนุงูู ุงูุชุธููู.  ูููุง ุฒุงุฏ ุนุฏุฏ ุงูุนููุงุช ุฏุงุฎู ููุฏุณุฉ ุงููุงุฆูุงุช ุงููุญูุทุฉ ุ ูููุง ููุช ุงููุซุงูุฉ ุงููุชุจููุฉ ูุชุธููู ุงูุฎูููุฉ ูู ูุฐู ุงูููุทูุฉ. <br><br>  ูู ุงููุงุถุญ ุฃู ุฌูุฏุฉ ููุงูุนูุฉ ุงูุชุฃุซูุฑ ุชุนุชูุฏ ุจุดูู ูุจุงุดุฑ ุนูู ุนุฏุฏ ุงูุนููุงุช ุงููุฃุฎูุฐุฉ.  ูุน ูุฌูุฏ ุนุฏุฏ ูููู ูู ุงูุนููุงุช ุ ุชูู ุฏูุฉ ุงูุฎูุงุฑุฒููุฉ ูุชุคุฏู ุฅูู ุธููุฑ ูุทุนุฉ ุฃุซุฑูุฉ ุฃู " <i>ุฑุจุท</i> " ูุทุนุฉ ุฃุซุฑูุฉ ุจุณุจุจ ุงูุชุญููุงุช ุงูููุงุฌุฆุฉ ุจูู ุงูููุงุทู ุฐุงุช ูุนุงููุงุช ุงูุชุธููู ุงููุฎุชููุฉ ุฌุฏูุง.  ุนุฏุฏ ูุจูุฑ ูู ุงูุนููุงุช ููุชู ุจุจุณุงุทุฉ ุงูุฃุฏุงุก.  ุชุณูุญ ุนุดูุงุฆูุฉ ููุจ ุงูุนููุงุช ุจูุชุงุฆุฌ ูุชุดุงุจูุฉ ุฅูู ุญุฏ ูุง ูุชูููู ุนุฏุฏ ุงูุนููุงุช ุงููุทููุจุฉ ุจุดูู ุทููู.  ุถููู ุฅุนุงุฏุฉ ุงูุชูุฌูู ุจุงูุชูุงูุจ ุฅูู ุฒุงููุฉ ุนุดูุงุฆูุฉ ููุฌููุนุฉ ูู ูุงููุงุช ุงูุนููุฉ.  ููุน ุฐูู ุ ูุฅู ุฅุฏุฎุงู ุงูุนุดูุงุฆูุฉ ูุฌูุจ ุนูู ุงูููุฑ ูุดููุฉ ุฌุฏูุฏุฉ ูู ุดูู ููุท ุถูุถุงุก ููุญูุธ ุ ูุงูุฐู ูุชุทูุจ ุงุณุชุฎุฏุงู ูุฑุดุญุงุช ุทูุณ ูุชูุนูู ุงููุชูุฌุฉ.  ูููุง ููู ูุซุงู ุนูู ุงูุฎูุงุฑุฒููุฉ (ุงููุคูู - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌูู ุชุดุงุจูุงู</a> ) ููุดุงูููุง ุงููููุฐุฌูุฉ: ุงููุทุงู ูููุท ุงูุถุฌูุฌ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/r_/ay/l3/r_ayl3jjozsa6fyuni69ejkwpei.jpeg"></div><br>  ููุง ูุชุจูู ุ ุชุชู ุฅุฒุงูุฉ ุงููุทุงูุงุช ุงูููุญูุธุฉ ุจุณุจุจ ุงูุนุฏุฏ ุงูุตุบูุฑ ููุนููุงุช ุจุดูู ุฌูุฏ ุนู ุทุฑูู ุฅุฏุฎุงู ุงูุชูุฒูุน ุงูุนุดูุงุฆู ูุงุชุฌุงู ุงูุนููุงุช. <br><br>  ูุงู ูุฏู ุชุทุจูู Crytek ุงูุฎุงุต ูู SSAO ุฃุณููุจ ูุฑุฆู ูููู ุงูุชุนุฑู ุนููู.  ูุธุฑูุง ูุฃู ูุชุฎุตุตู Crytek ุงุณุชุฎุฏููุง ููุจูุง ูุฑูููุง ููุนููุฉ ุ ููุฏ ุฃุซุฑ ุฐูู ุนูู ุงูุฃุณุทุญ ุงููุณุชููุฉ ูุซู ุงูุฌุฏุฑุงู ุ ููุง ุฌุนููุง ูุธููุฉ - ูุฃู ูุตู ุญุฌู ููุจ ุงูุนููุฉ ุชู ุบูุฑู ุชุญุช ุงูููุฏุณุฉ.  ูููุง ููู ููุทุฉ ุดุงุดุฉ ููุดูุฏ ูู Crysis ูุนุฑูุถ ุจุงูุชุฏุฑุฌ ุงูุฑูุงุฏู ุจูุงุกู ุนูู ูููุฉ ุนุงูู ุงูุชุธููู.  ููุง ูุธูุฑ ุชุฃุซูุฑ "ุงูุฑูุงุฏู" ุจูุถูุญ: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/j9/zr/r8/j9zrr81dluj-5eobuqcgst48om8.jpeg"></div><br>  ูุชุฌูุจ ูุฐุง ุงูุชุฃุซูุฑ ุ ุณููุชูู ูู ุงูููุจ ุงููุฑูู ููุนููุฉ ุฅูู ูุตู ุงููุฑุฉ ุงูููุฌู ุนูู ุทูู ุงูุนุงุฏู ุฅูู ุงูุณุทุญ: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/br/pf/3v/brpf3vfbmzd9pmna58ub5x7-age.png"></div><br>  ุนูุฏ ุฃุฎุฐ ุงูุนููุงุช ูู <i>ูุตู ุงููุฑุฉ ุงูุฃุฑุถูุฉ ุงูููุฌู</i> ุจุดูู <i>ุทุจูุนู ุ</i> ูุง ูุชุนูู ุนูููุง ุฃู ูุฃุฎุฐ ูู ุงูุงุนุชุจุงุฑ ุงูุดุธุงูุง ุงูุชู ุชูุน ุชุญุช ุณุทุญ ุงูุณุทุญ ุงููุฌุงูุฑ ูู ุญุณุงุจ ูุนุงูู ุงูุชุธููู.  ูุฒูู ูุฐุง ุงูููุฌ ุงูุชุธููู ุบูุฑ ุงูุถุฑูุฑู ุ ุจุดูู ุนุงู ุ ูุนุทู ูุชุงุฆุฌ ุฃูุซุฑ ูุงูุนูุฉ.  ุณูุณุชุฎุฏู ูุฐุง ุงูุฏุฑุณ ููุฌ ูุตู ุงููุฑุฉ ุงูุฃุฑุถูุฉ ูุฑูุฒูุง ุฃูุซุฑ ุฏูุฉ ูู ุงูุฏุฑุณ ุงูุฑุงุฆุน ูู SSAO ุจูุงุณุทุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌูู ุชุดุงุจูุงู</a> . <br><br><h2 style=";text-align:right;direction:rtl">  ูุฎุฒู ุงูุจูุงูุงุช ุงูุฎุงู </h2><br>  ุชุชุทูุจ ุนูููุฉ ุญุณุงุจ ุนุงูู ุงูุชุธููู ูู ูู ุฌุฒุก ุชูุงูุฑ ุงูุจูุงูุงุช ุญูู ุงูููุฏุณุฉ ุงููุญูุทุฉ.  ุนูู ูุฌู ุงูุชุญุฏูุฏ ุ ูุญุชุงุฌ ุฅูู ุงูุจูุงูุงุช ุงูุชุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุชุฌู ุงูููุถุน ููู ุฌุฒุก ุ </li><li style=";text-align:right;direction:rtl">  ูุงูู ุนุงุฏู ููู ุฌุฒุก. </li><li style=";text-align:right;direction:rtl">  ููู ููุชุดุฑ ููู ุฌุฒุก ุ </li><li style=";text-align:right;direction:rtl">  ูุจ ุงูุนููุฉ </li><li style=";text-align:right;direction:rtl">  ูุชุฌู ุฏูุฑุงู ุนุดูุงุฆู ููู ุฌุฒุก ูุณุชุฎุฏู ูู ุฅุนุงุฏุฉ ุชูุฌูู ููุจ ุงูุนููุฉ. </li></ul><br>  ุจุงุณุชุฎุฏุงู ุงูุจูุงูุงุช ุงููุชุนููุฉ ุจุฅุญุฏุงุซูุงุช ุงูุฌุฒุก ูู ูุณุงุญุฉ ุงูุฃููุงุน ุ ูููููุง ุชูุฌูู ูุตู ุงููุฑุฉ ูู ููุจ ุงูุนููุฉ ุนูู ุทูู ุงููุงูู ุงูุนุงุฏู ุงููุญุฏุฏ ูู ูุณุงุญุฉ ุงูุฃููุงุน ููุฌุฒุก ุงูุญุงูู.  ุซู ุ ูุชู ุงุณุชุฎุฏุงู ุงูููุงุฉ ุงููุงุชุฌุฉ ูุนูู ุนููุงุช ุจุฃุฒูุงุฌ ูุฎุชููุฉ ูู ูุณูุฌ ูุฎุฒู ุงูุจูุงูุงุช ุนูู ุฅุญุฏุงุซูุงุช ุงูุดุธุงูุง.  ูููู ุจุนูู ุงูุนุฏูุฏ ูู ุงูุนููุงุช ูู ูู ุฌุฒุก ุ ูููู ุนููุฉ ูููู ุจูุง ุ ูููู ุจููุงุฑูุฉ ูููุฉ ุงูุนูู ูุน ูููุฉ ุงูุนูู ูู ุงููุฎุฒู ุงููุคูุช ูุฅุญุฏุงุซูุงุช ุงูุฌุฒุก ูุชูุฏูุฑ ูููุฉ ุงูุชุธููู.  ุซู ุชูุณุชุฎุฏู ุงููููุฉ ุงููุงุชุฌุฉ ููุญุฏ ูู ูุณุงููุฉ ูููู ุงูุฎูููุฉ ูู ุญุณุงุจ ุงูุฅุถุงุกุฉ ุงูููุงุฆู.  ุจุงุณุชุฎุฏุงู ูุงูู ุงูุฏูุฑุงู ุงูุนุดูุงุฆู ุงูุญููู ุ ูููููุง ุชูููู ุงูุนุฏุฏ ุงููุทููุจ ูู ุงูุนููุงุช ุจุดูู ูุจูุฑ ููุญุตูู ุนูู ูุชูุฌุฉ ูุงุฆูุฉ ุ ุซู ุณูุชู ุฅุซุจุงุช ุฐูู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/wv/xo/aj/wvxoajroexwvjgq77n81-fjhats.png"></div><br>  ูุธุฑูุง ูุฃู SSAO ูู ุชุฃุซูุฑ ูุญูู ูู ูุณุงุญุฉ ุงูุดุงุดุฉ ุ ููู ุงููููู ุฅุฌุฑุงุก ุญุณุงุจ ูุจุงุดุฑ ุนู ุทุฑูู ุนุฑุถ ุฑุจุงุนู ุจููุก ุงูุดุงุดุฉ.  ูููู ุจุนุฏ ุฐูู ูู ูููู ูุฏููุง ุจูุงูุงุช ุนู ููุฏุณุฉ ุงููุดูุฏ.  ููุชุบูุจ ุนูู ูุฐุง ุงูุชูููุฏ ุ ุณูููู ุจุชูุฏูู ุฌููุน ุงููุนูููุงุช ุงูุถุฑูุฑูุฉ ูู ุงููุณูุฌ ุ ูุงูุชู ุณูุชู ุงุณุชุฎุฏุงููุง ูุงุญููุง ูู ุชุธููู SSAO ูููุตูู ุฅูู ุงููุนูููุงุช ุงูููุฏุณูุฉ ูุบูุฑูุง ุญูู ุงููุดูุฏ.  ุฅุฐุง ุงุชุจุนุช ูุฐู ุงูุฏุฑูุณ ุจุนูุงูุฉ ุ ููุฌุจ ุฃู ุชุนุฑู ุจุงููุนู ูู ุงูููุฌ ุงูููุตูู ุธููุฑ ุฎูุงุฑุฒููุฉ ุงูุชุธููู ุงููุชุฃุฎุฑุฉ.  ูุฐุง ูู ุฅูู ุญุฏ ูุจูุฑ ุณุจุจ ุธููุฑ ุชุฃุซูุฑ SSAO ูููุงุทู ูู ุงูุนุฑุถ ูุน ุชุธููู ูุคุฌู - ุจุนุฏ ูู ุดูุก ุ ุชุชููุฑ ุงูููุงุฏ ุงูุชู ุชุฎุฒู ุงูุฅุญุฏุงุซูุงุช ูุงููุนุงููุฑ ูู G-buffer. <br><br><blockquote style=";text-align:right;direction:rtl">  ูู ูุฐุง ุงูุฏุฑุณ ุ ูุชู ุชูููุฐ ุงูุชุฃุซูุฑ ููู ูุณุฎุฉ ูุจุณุทุฉ ููููุงู ูู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูู ุงูุฏุฑุณ ุญูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุฅุถุงุกุฉ ุงููุคุฌูุฉ</a> .  ุฅุฐุง ูู ุชูู ูุฏ ุชุนุฑูุช ุจุนุฏ ุนูู ูุจุงุฏุฆ ุงูุฅุถุงุกุฉ ุงููุคุฌูุฉ ุ ูุฅููู ุฃูุตูู ุจุดุฏุฉ ุจุงูุชุญูู ุฅูู ูุฐุง ุงูุฏุฑุณ. <br></blockquote><br>  ูุธุฑูุง ูุฃู ุงููุตูู ุฅูู ูุนูููุงุช ุงูุฌุฒุก ุญูู ุงูุฅุญุฏุงุซูุงุช ูุงููุนุงููุฑ ูุฌุจ ุฃู ูููู ูุชุงุญูุง ุจุงููุนู ุจุณุจุจ ุงููุฎุฒู ุงููุคูุช G ุ ูุฅู ุชุธููู ุงูุฌุฒุก ููุฑุญูุฉ ุงููุนุงูุฌุฉ ุงูููุฏุณูุฉ ุจุณูุท ููุบุงูุฉ: <br><br><pre style=";text-align:right;direction:rtl"><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 330 core layout (location = 0) out vec4 gPosition; layout (location = 1) out vec3 gNormal; layout (location = 2) out vec4 gAlbedoSpec; in vec2 TexCoords; in vec3 FragPos; in vec3 Normal; void main() { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//        gPosition = FragPos; //       gNormal = normalize(Normal); //    -   gAlbedoSpec.rgb = vec3(0.95); }</span></span></span></span></code> </pre> <br>  ูุธุฑูุง ูุฃู ุฎูุงุฑุฒููุฉ SSAO ููุง ุชุฃุซูุฑ ูู ูุณุงุญุฉ ุงูุดุงุดุฉ ุ ููุชู ุญุณุงุจ ุนุงูู ุงูุชุธููู ุจูุงุกู ุนูู ุงูููุทูุฉ ุงููุฑุฆูุฉ ูู ุงููุดูุฏ ุ ููู ุงูููุทูู ุฅุฌุฑุงุก ุงูุญุณุงุจุงุช ูู ูุณุงุญุฉ ุงูุนุฑุถ.  ูู ูุฐู ุงูุญุงูุฉ ุ ูููู ูุชุบูุฑ <i>FragPos ุงูุฐู</i> ุชู ุงูุญุตูู ุนููู ูู shader vertex ุจุชุฎุฒูู ุงูููุถุน ุชูุงููุง ูู ุฅุทุงุฑ ุงูุนุฑุถ.  ูุฌุฏุฑ ุงูุชุฃูุฏ ูู ุชุฎุฒูู ุงูุฅุญุฏุงุซูุงุช ูุงููุนุงููุฑ ูู ุงููุฎุฒู ุงููุคูุช G ูู ูุณุงุญุฉ ุงูุนุฑุถ ุ ุญูุซ ุณูุชู ุฅุฌุฑุงุก ุฌููุน ุงูุญุณุงุจุงุช ุงูุฅุถุงููุฉ ููู. <br><br><blockquote style=";text-align:right;direction:rtl">  ููุงู ุฅููุงููุฉ ูุงุณุชุนุงุฏุฉ ูุชุฌู ุงูููุถุน ุจูุงุกู ุนูู ุนูู ุฌุฒุก ูุนุฑูู ููุท ููููุฉ ูุนููุฉ ูู ุงูุณุญุฑ ุงูุฑูุงุถู ุ ูุงูุชู ุชู ูุตููุง ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ูุฏููุฉ</a> ูุงุช ุจูุชูููู.  ูุฐุง ุ ุจุงูุทุจุน ุ ูุชุทูุจ ุชูููุฉ ุญุณุงุจ ูุจูุฑุฉ ุ ููููู ููุบู ุงูุญุงุฌุฉ ุฅูู ุชุฎุฒูู ุจูุงูุงุช ุงููููุน ูู ุงููุฎุฒู ุงููุคูุช G ุ ุงูุฐู ูุณุชููู ุงููุซูุฑ ูู ุฐุงูุฑุฉ ุงูููุฏูู.  ููุน ุฐูู ุ ูู ุฃุฌู ุจุณุงุทุฉ ูููุฐุฌ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุ ุณูุชุฑู ูุฐุง ุงูููุฌ ููุฏุฑุงุณุฉ ุงูุดุฎุตูุฉ. </blockquote><br>  ูุชู ุชูููู ูุณูุฌ ุงููุฎุฒู ุงููุคูุช ููุฃููุงู <i>gPosition ุนูู</i> ุงููุญู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">glGenTextures(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;gPosition); glBindTexture(GL_TEXTURE_2D, gPosition); glTexImage2D(GL_TEXTURE_2D, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_RGB16F, SCR_WIDTH, SCR_HEIGHT, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_RGB, GL_FLOAT, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);</code> </pre> <br>  ูุฎุฒู ูุฐุง ุงููุณูุฌ ุฅุญุฏุงุซูุงุช ุงูุดุธุงูุง ููููู ุงุณุชุฎุฏุงูู ููุญุตูู ุนูู ุจูุงูุงุช ุงูุนูู ููู ููุทุฉ ูู ููุจ ุงูุนููุงุช.  ุฃูุงุญุธ ุฃู ุงููููุณ ูุณุชุฎุฏู ุชูุณูู ุจูุงูุงุช ุงููุงุตูุฉ ุงูุนุงุฆูุฉ - ููุฐุง ุณูุณูุญ ุจุฅุญุฏุงุซูุงุช ุงูุดุธุงูุง ูุง ูุชู ุชูููููุง ุฅูู ุงููุงุตู ุงูุฒููู [0. ุ 1.].  ุงูุชุจู ุฃูุถูุง ุฅูู ูุถุน ุงูุชูุฑุงุฑ - ุชู ุชุนููู <i>GL_CLAMP_TO_EDGE</i> .  ูุฐุง ุถุฑูุฑู ูููุถุงุก ุนูู ุฅููุงููุฉ ุนุฏู ุงููุจุงูุบุฉ ูู ูุณุงุญุฉ ุงูุดุงุดุฉ ุนู ูุตุฏ.  ุชุฌุงูุฒ ุงููุงุตู ุงูุฒููู ุงูุฑุฆูุณู ูุฅุญุฏุงุซูุงุช ุงููุณูุฌ ุณูุนุทููุง ุจูุงูุงุช ุบูุฑ ุตุญูุญุฉ ุนู ุงูููุถุน ูุงูุนูู. <br><br>  ุจุนุฏ ุฐูู ุ ุณููุฎุฑุท ูู ุชูููู ููุจ ูุตู ูุฑูู ููุนููุงุช ูุฅูุดุงุก ุทุฑููุฉ ููุชูุฌูู ุงูุนุดูุงุฆู. <br><br><h2 style=";text-align:right;direction:rtl">  ุฎูู ูุตู ุงููุฑุฉ ุฐุงุช ุงูุงุชุฌุงู ุงูุทุจูุนู </h2><br>  ูุฐุง ุ ูุฅู ุงููููุฉ ูู ุฅูุดุงุก ูุฌููุนุฉ ูู ููุงุท ุงูุนููุฉ ุงูููุฌูุฏุฉ ุฏุงุฎู ูุตู ุงููุฑุฉ ุงูููุฌู ุนูู ุทูู ุงูุนุงุฏู ุฅูู ุงูุณุทุญ.  ูุธุฑูุง ูุฃู ุฅูุดุงุก ููุงุฉ ุนููุฉ ูุฌููุน ุงูุงุชุฌุงูุงุช ุงููุญุชููุฉ ููุทุจูุนู ุฃูุฑ ูุง ูููู ุชุญูููู ูู ุงููุงุญูุฉ ุงูุญุณุงุจูุฉ ุ ูุฅููุง ูุณุชุฎุฏู ุงูุงูุชูุงู ุฅูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงููุถุงุก ุงูููุงุณ</a> ุ ุญูุซ ูุชู ุชูุซูู ุงููุถุน ุงูุทุจูุนู ุฏุงุฆููุง ููุชุฌู ูู ุงุชุฌุงู semiaxis <i>Z</i> ุงูุฅูุฌุงุจู <i>.</i> <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/br/pf/3v/brpf3vfbmzd9pmna58ub5x7-age.png"></div><br>  ุจุงูุชุฑุงุถ ุฃู ูุตู ูุทุฑ ูุตู ุงููุฑุฉ ุงูุฃุฑุถูุฉ ูููู ุนูููุฉ ูุงุญุฏุฉ ุ ูุฅู ุชูููู ููุจ ุนููุฉ ูู 64 ููุทุฉ ูุจุฏู ููุง ููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//      0.0 - 1.0 std::uniform_real_distribution&lt;float&gt; randomFloats(0.0, 1.0); std::default_random_engine generator; std::vector&lt;glm::vec3&gt; ssaoKernel; for (unsigned int i = 0; i &lt; 64; ++i) { glm::vec3 sample( randomFloats(generator) * 2.0 - 1.0, randomFloats(generator) * 2.0 - 1.0, randomFloats(generator) ); sample = glm::normalize(sample); sample *= randomFloats(generator); float scale = (float)i / 64.0; ssaoKernel.push_back(sample); }</span></span></code> </pre> <br>  ููุง ูุฎุชุงุฑ ุนุดูุงุฆููุง ุฅุญุฏุงุซูุงุช <i>x</i> ู <i>y</i> ูู ุงููุงุตู ุงูุฒููู [-1.ุ 1.] ุ ูุฅุญุฏุงุซูุงุช <i>z</i> ูู ุงููุงุตู ุงูุฒููู [0. ุ 1.] (ุฅุฐุง ูุงู ุงููุงุตู ุงูุฒููู ูู ููุณู ูู <i>x</i> ู <i>y</i> ุ ูุณูู ูุญุตู ุนูู ููุจ ูุฑูู ุฃุฎุฐ ุงูุนููุงุช).  ุณุชูุชุตุฑ ููุงูู ุงูุนููุฉ ุงููุงุชุฌุฉ ุนูู ูุตูู ุงููุฑุฉ ุงูุฃุฑุถูุฉ ุ ุญูุซ ุณูุชู ุชูุฌูู ููุจ ุงูุนููุฉ ูู ุงูููุงูุฉ ุนูู ุทูู ุงููุถุน ุงูุทุจูุนู ุฅูู ุงูุณุทุญ. <br><br>  ูู ุงูููุช ุงูุญุงูู ุ ูุชู ุชูุฒูุน ุฌููุน ููุงุท ุงูุนููุฉ ุจุดูู ุนุดูุงุฆู ุฏุงุฎู ุงูููุจ ุ ูููู ูู ุฃุฌู ุฌูุฏุฉ ุงูุชุฃุซูุฑ ุ ูุฌุจ ุฃู ุชูุฏู ุงูุนููุงุช ุงูุชู ุชูุน ุจุงููุฑุจ ูู ุฃุตู ุงูููุงุฉ ูุณุงููุฉ ุฃูุจุฑ ูู ุญุณุงุจ ูุนุงูู ุงูุชุธููู.  ูููู ุชุญููู ุฐูู ุนู ุทุฑูู ุชุบููุฑ ุชูุฒูุน ููุงุท ุงูุนููุฉ ุงููุดููุฉ ุนู ุทุฑูู ุฒูุงุฏุฉ ูุซุงูุชูุง ุจุงููุฑุจ ูู ุงูุฃุตู.  ูููู ุฅูุฌุงุฒ ูุฐู ุงููููุฉ ุจุณูููุฉ ุจุงุณุชุฎุฏุงู ูุธููุฉ ุงูุงุณุชููุงู ุงูุฏุงุฎูู ููุชุณุงุฑุน: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">scale = lerp(<span class="hljs-number"><span class="hljs-number">0.1f</span></span>, <span class="hljs-number"><span class="hljs-number">1.0f</span></span>, scale * scale); sample *= scale; ssaoKernel.push_back(sample); }</code> </pre> <br>  ูุชู ุชุนุฑูู ุฏุงูุฉ <i>lerp ()</i> ุนูู ุงููุญู ุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lerp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> f)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> a + f * (b - a); }</code> </pre> <br>  ุชุนุทููุง ูุซู ูุฐู ุงูุฎุฏุนุฉ ุชูุฒูุนุงู ูุนุฏูุงู ุ ุญูุซ ุชูุน ูุนุธู ููุงุท ุงูุนููุฉ ุจุงููุฑุจ ูู ุฃุตู ุงูููุงุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/h7/dy/xm/h7dyxm-1zerxg1krzbxszp7kzqi.png"></div><br>  ุณูุชู ุงุณุชุฎุฏุงู ูู ูู ููุงูู ุงูุนููุงุช ุงูุชู ุชู ุงูุญุตูู ุนูููุง ูุชุบููุฑ ุฅุญุฏุงุซูุงุช ุงูุฌุฒุก ูู ูุณุงุญุฉ ุงูุฃููุงุน ููุญุตูู ุนูู ุจูุงูุงุช ุนู ุงูููุฏุณุฉ ุงููุญูุทุฉ.  ููุญุตูู ุนูู ูุชุงุฆุฌ ูุงุฆูุฉ ุนูุฏ ุงูุนูู ูู ูููุฐ ุงูุนุฑุถ ุ ูุฏ ุชุญุชุงุฌ ุฅูู ุนุฏุฏ ูุฐูู ูู ุงูุนููุงุช ุ ููุง ุณูุคุซุฑ ุญุชููุง ุนูู ุงูุฃุฏุงุก.  ููุน ุฐูู ุ ูุฅู ุฅุฏุฎุงู ุถูุถุงุก ุนุดูุงุฆูุฉ ุฒุงุฆูุฉ ุฃู ุฏูุฑุงู ููุงูู ุงูุนููุฉ ูู ูู ุฌุฒุก ูุนุงูุฌ ุณูููู ุจุดูู ูุจูุฑ ูู ุงูุนุฏุฏ ุงููุทููุจ ูู ุงูุนููุงุช ุจุฌูุฏุฉ ููุงุซูุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุฏูุฑุงู ุนุดูุงุฆู ููุนููุฉ ุงูุฃุณุงุณูุฉ </h2><br>  ูุฐุง ุ ูุฅู ุฅุฏุฎุงู ุงูุนุดูุงุฆูุฉ ูู ุชูุฒูุน ุงูููุงุท ูู ููุจ ุงูุนููุฉ ูููู ุฃู ูููู ุจุดูู ูุจูุฑ ูู ูุชุทูุจุงุช ุนุฏุฏ ูุฐู ุงูููุงุท ููุญุตูู ุนูู ุชุฃุซูุฑ ุฌูุฏุฉ ูุงุฆู.  ูุฏ ูููู ูู ุงููููู ุฅูุดุงุก ูุงูู ุฏูุฑุงู ุนุดูุงุฆู ููู ุฌุฒุก ูู ุงููุดูุฏ ุ ููููู ูููู ููุบุงูุฉ ูู ุงูุฐุงูุฑุฉ.  ุฅูู ุฃูุซุฑ ููุงุกุฉ ูุฅูุดุงุก ูุณูุฌ ุตุบูุฑ ูุญุชูู ุนูู ูุฌููุนุฉ ูู ูุงููุงุช ุงูุฏูุฑุงู ุงูุนุดูุงุฆูุฉ ุ ุซู ุงุณุชุฎุฏุงูู ููุท ูุน <i>ูุฌููุนุฉ</i> ูุถุน ุชูุฑุงุฑ <i>GL_REPEAT</i> . <br><br>  ุฃูุดุฆ ูุตูููุฉ 4 ร 4 ูุงููุฃูุง ุจููุงูู ุฏูุฑุงู ุนุดูุงุฆูุฉ ููุฌูุฉ ุนูู ุทูู ุงููุงูู ุงูุนุงุฏู ูู ุงููุถุงุก ุงูููุงุณ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">vector</span></span>&lt;glm::vec3&gt; ssaoNoise; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; <span class="hljs-number"><span class="hljs-number">16</span></span>; i++) { glm::<span class="hljs-function"><span class="hljs-function">vec3 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">noise</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( randomFloats(generator) * </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2.0</span></span></span></span><span class="hljs-function"><span class="hljs-params"> - </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, randomFloats(generator) * </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">2.0</span></span></span></span><span class="hljs-function"><span class="hljs-params"> - </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0f</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span>; ssaoNoise.push_back(noise); }</code> </pre> <br>  ูุธุฑูุง ูุฃู ุงููุญุงุฐุงุฉ ุงูุฃุณุงุณูุฉ ุนูู ุทูู semiaxis <i>Z</i> ุงูููุฌุจ ูู ุงููุถุงุก ุงูููุงุณ ุ ูุชุฑู ุงููููู <i>z</i> ูุณุงูููุง ููุตูุฑ - ููุฐุง ุณูุถูู ุงูุฏูุฑุงู ููุท ุญูู ุงููุญูุฑ <i>Z.</i> <br><br>  ุจุนุฏ ุฐูู ุ ูู ุจุฅูุดุงุก ูุณูุฌ 4x4 ูุงููุฃู ุจูุฌููุนุฉ ุงููุชุฌูุงุช ุงูุฏูุงุฑุฉ ูุฏููุง.  ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู <i>ูุถุน</i> ุฅุนุงุฏุฉ <i>GL_REPEAT ูุชุฌุงูุจ</i> ุงููููุณ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> noiseTexture; glGenTextures(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;noiseTexture); glBindTexture(GL_TEXTURE_2D, noiseTexture); glTexImage2D(GL_TEXTURE_2D, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_RGB16F, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_RGB, GL_FLOAT, &amp;ssaoNoise[<span class="hljs-number"><span class="hljs-number">0</span></span>]); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_REPEAT); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_REPEAT);</code> </pre> <br>  ุญุณููุง ุ ูุฏููุง ุงูุขู ุฌููุน ุงูุจูุงูุงุช ุงููุงุฒูุฉ ููุชูููุฐ ุงููุจุงุดุฑ ูุฎูุงุฑุฒููุฉ SSAO! <br><br><h2 style=";text-align:right;direction:rtl">  ุดุงุฏุฑ SSAO </h2><br>  ุณูุชู ุชูููุฐ ุชุธููู ุชุฃุซูุฑ ููู ุฌุฒุก ูู ุฑุจุงุนูุฉ ููุก ุงูุดุงุดุฉ ุ ุจุญุณุงุจ ูุนุงูู ุงูุชุธููู ูู ูู ูููุง.  ูุธุฑูุง ูุฃู ุงููุชุงุฆุฌ ุณุชูุณุชุฎุฏู ูู ูุฑุญูุฉ ุนุฑุถ ุฃุฎุฑู ุชููุดุฆ ุงูุฅุถุงุกุฉ ุงูููุงุฆูุฉ ุ ูุณูุญุชุงุฌ ุฅูู ุฅูุดุงุก ูุงุฆู ุขุฎุฑ ููุงุนุฏุฉ ุงูุฅุทุงุฑุงุช ูุชุฎุฒูู ูุชูุฌุฉ ุฌูุงุฒ ุชุธููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ssaoFBO; glGenFramebuffers(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;ssaoFBO); glBindFramebuffer(GL_FRAMEBUFFER, ssaoFBO); <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ssaoColorBuffer; glGenTextures(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;ssaoColorBuffer); glBindTexture(GL_TEXTURE_2D, ssaoColorBuffer); glTexImage2D(GL_TEXTURE_2D, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_RED, SCR_WIDTH, SCR_HEIGHT, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_RGB, GL_FLOAT, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST); glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, ssaoColorBuffer, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br>  ูุธุฑูุง ูุฃู ูุชูุฌุฉ ุงูุฎูุงุฑุฒููุฉ ูู ุงูุฑูู ุงูุญูููู ุงููุญูุฏ ุฏุงุฎู [0. ุ 1.] ุ ููุชุฎุฒูู ุณูููู ูุงููุงู ูุฅูุดุงุก ูุณูุฌ ุจุงููููู ุงููุญูุฏ ุงููุชุงุญ.  ูุฐุง ูู ุงูุณุจุจ ูู ุชุนููู <i>GL_RED ูุชูุณูู ุฏุงุฎูู ููุฎุฒู</i> ุงูุฃููุงู ุงููุคูุช. <br><br>  ุจุดูู ุนุงู ุ ุชุจุฏู ุนูููุฉ ุชูุฏูู ูุฑุญูุฉ SSAO ูุงูุชุงูู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//  :  G- glBindFramebuffer(GL_FRAMEBUFFER, gBuffer); [...] glBindFramebuffer(GL_FRAMEBUFFER, 0); //  G-      SSAO glBindFramebuffer(GL_FRAMEBUFFER, ssaoFBO); glClear(GL_COLOR_BUFFER_BIT); glActiveTexture(GL_TEXTURE0); glBindTexture(GL_TEXTURE_2D, gPosition); glActiveTexture(GL_TEXTURE1); glBindTexture(GL_TEXTURE_2D, gNormal); glActiveTexture(GL_TEXTURE2); glBindTexture(GL_TEXTURE_2D, noiseTexture); shaderSSAO.use(); SendKernelSamplesToShader(); shaderSSAO.setMat4("projection", projection); RenderQuad(); glBindFramebuffer(GL_FRAMEBUFFER, 0); //  :    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT); shaderLightingPass.use(); [...] glActiveTexture(GL_TEXTURE3); glBindTexture(GL_TEXTURE_2D, ssaoColorBuffer); [...] RenderQuad();</span></span></code> </pre> <br>  ููุจู <i>shaderSSAO</i> shader ููุงุฏ G-buffer ุงูุชู ูุญุชุงุฌูุง ููุฏุฎู ุ ุจุงูุฅุถุงูุฉ ุฅูู ูุณูุฌ ุงูุถุฌูุฌ ูููุงุฉ ุงูุนููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 330 core out float FragColor; in vec2 TexCoords; uniform sampler2D gPosition; uniform sampler2D gNormal; uniform sampler2D texNoise; uniform vec3 samples[64]; uniform mat4 projection; </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//             //      1280x720 const vec2 noiseScale = vec2(1280.0/4.0, 720.0/4.0); void main() { [...] }</span></span></span></span></code> </pre> <br>  ูุงุญุธ <i>ูููุงุณ ุงูุถูุถุงุก</i> ุงููุชุบูุฑ.  ูุฌุจ ุชุฌุงูุจ <i>ููุงููุง</i> ุงูุตุบูุฑ ูุน ุงูุถุฌูุฌ ุนูู ูุงูู ุณุทุญ ุงูุดุงุดุฉ ุ ูููู ูุธุฑูุง ูุฃู <i>ุฅุญุฏุงุซูุงุช</i> ูุณูุฌ <i>TexCoords</i> ุชูุน ุถูู [0. ุ 1.] ูุฅู ูุฐุง ูู ูุญุฏุซ ุจุฏูู ุชุฏุฎููุง.  ููุฐู ุงูุฃุบุฑุงุถ ุ ูุญุณุจ ุนุงูู ุฅุญุฏุงุซูุงุช ุงููุณูุฌ ุ ูุงูุฐู ููุฌุฏ ููุณุจุฉ ูู ุญุฌู ุงูุดุงุดุฉ ุฅูู ุญุฌู ูุณูุฌ ุงูุถูุถุงุก: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">vec3 fragPos = texture(gPosition, TexCoords).xyz; vec3 normal = texture(gNormal, TexCoords).rgb; vec3 randomVec = texture(texNoise, TexCoords * noiseScale).xyz;</code> </pre> <br>  ููุฐ ุฅูุดุงุก ูุณูุฌ ุถูุถุงุก <i>texNoise ุ</i> ูููุง ุจุชุนููู ูุถุน ุงูุชูุฑุงุฑ ุนูู <i>GL_REPEAT</i> ุ ูุงูุขู ุณูุชูุฑุฑ ุนุฏุฉ ูุฑุงุช ุนูู ุณุทุญ ุงูุดุงุดุฉ.  ูุน ูุฌูุฏ <i>randomVec</i> ู <i>fragPos</i> ูุงูููู <i>ุงูุนุงุฏูุฉ</i> ูู ูุชูุงูู ุงููุฏ ุ ูููููุง ุฅูุดุงุก ูุตูููุฉ ุชุญููู TBN ูู ุงูุธู ุฅูู ูุณุงุญุฉ ุงูุฃููุงุน: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">vec3 tangent = normalize(randomVec - normal * dot(randomVec, normal)); vec3 bitangent = cross(normal, tangent); mat3 TBN = mat3(tangent, bitangent, normal);</code> </pre> <br>  ุจุงุณุชุฎุฏุงู ุนูููุฉ Gram-Schmidt ุ ูููู ุจุฅูุดุงุก ุฃุณุงุณ ูุชุนุงูุฏ ูููู ุจุดูู ุนุดูุงุฆู ูู ูู ุฌุฒุก ุจูุงุกู ุนูู ุงููููุฉ ุงูุนุดูุงุฆูุฉ ุนุดูุงุฆู.  ููุทุฉ ูููุฉ: ูุธุฑูุง ูุฃูู ูู ูุฐู ุงูุญุงูุฉ ูุง ููููุง ุฃู ูุตูููุฉ TBN ููุฌูุฉ ุชูุงููุง ุนูู ุทูู ุณุทุญ ุงููุซูุซ (ููุง ูู ุงูุญุงู ูู ุฑุณู ุฎุฑุงุฆุท ุงูููุธุฑ ุ ุชูุฑูุจูุง ููู.) ุ ูุฅููุง ูุง ูุญุชุงุฌ ุฅูู ุจูุงูุงุช ุงูุชูุงุณ ุงููุนูุงุฑู ูุงูุจูุงูุงุช ุฐุงุช ุงูุธู ุงูุซูุงุฆู. <br><br>  ุจุนุฏ ุฐูู ุ ููุชูู ุนุจุฑ ูุตูููุฉ ููุจ ุงูุนููุฉ ุ ููุชุฑุฌู ูู ูุงูู ุนููุฉ ูู ุงููุถุงุก ุงูููุงุณ ุฅูู ูุณุงุญุฉ ุงูุฃููุงุน ููุญุตู ุนูู ูุฌููุนูุง ูุน ุงููุถุน ุงูุญุงูู ููุฌุฒุก.  ุซู ููุงุฑู ูููุฉ ุงูุนูู ูููููุฉ ุงููุงุชุฌุฉ ูุน ูููุฉ ุงูุนูู ุงูุชู ุชู ุงูุญุตูู ุนูููุง ุนู ุทุฑูู ุฃุฎุฐ ุงูุนููุงุช ูู ูุณูุฌ G-buffer ุงูููุงุจู. <br><br>  ุจูููุง ูุจุฏู ุงูุฃูุฑ ูุฑุจููุง ุ ุฏุนูุง ูุฐูุจ ุนุจุฑ ุงูุฎุทูุงุช: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> occlusion = <span class="hljs-number"><span class="hljs-number">0.0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; kernelSize; ++i) { <span class="hljs-comment"><span class="hljs-comment">//     vec3 sample = TBN * samples[i]; //      - sample = fragPos + sample * radius; [...] }</span></span></code> </pre> <br>  ููุง ุ <i>kernelSize</i> <i>ููุตู ุงููุทุฑ</i> ูู ูุชุบูุฑุงุช ุชุชุญูู ูู ุฎุตุงุฆุต ุงูุชุฃุซูุฑ.  ูู ูุฐู ุงูุญุงูุฉ ุ ููุง 64 ู 0.5 ุ ุนูู ุงูุชูุงูู.  ุนูุฏ ูู ุชูุฑุงุฑ ูุชุฑุฌู ูุงูู ุนููุฉ ุงูุนููุฉ ุฅูู ูุณุงุญุฉ ุงูุฃููุงุน.  ุจุนุฏ ุฐูู ุ ูุถูู ุฅูู ุงููููุฉ ุงูุชู ุชู ุงูุญุตูู ุนูููุง ูู ุฅุฒุงุญุฉ ุงูุนููุฉ ูู ูุณุงุญุฉ ุงูุฃููุงุน ูููุฉ ููุถุน ุงูุฌุฒุก ูู ูุณุงุญุฉ ุงูุฃููุงุน.  ูู ูุฐู ุงูุญุงูุฉ ุ ูุชู ุถุฑุจ ูููุฉ ุงูุชุฎุงูู ูู ูุชุบูุฑ ูุตู ุงููุทุฑ ุ ุงูุฐู ูุชุญูู ูู ูุตู ูุทุฑ ููุจ ุนููุฉ ุชุฃุซูุฑ SSAO. <br><br>  ุจุนุฏ ูุฐู ุงูุฎุทูุงุช ุ ูุฌุจ ุนูููุง ุชุญููู ูุงูู <i>ุงูุนููุฉ</i> ุงููุงุชุฌ ุฅูู ูุณุงุญุฉ ุดุงุดุฉ ุ ุญุชู ูุชููู ูู ุงูุชุญุฏูุฏ ูู ูุณูุฌ G-buffer ุงูุฐู ูุฎุฒู ููุงุถุน ูุฃุนูุงู ุงูุฃุฌุฒุงุก ุจุงุณุชุฎุฏุงู ุงููููุฉ ุงููุชููุนุฉ ุงูุชู ุชู ุงูุญุตูู ุนูููุง.  ูุธุฑูุง ูุฃู <i>ุงูุนููุฉ</i> ูู ุฅุทุงุฑ ุงูุนุฑุถ ุ ููุญู ุจุญุงุฌุฉ ุฅูู ูุตูููุฉ <i>ุฅุณูุงุท ุงูุฅุณูุงุท</i> : <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">vec4 offset = vec4(sample, <span class="hljs-number"><span class="hljs-number">1.0</span></span>); offset = projection * offset; <span class="hljs-comment"><span class="hljs-comment">//     offset.xyz /= offset.w; //   offset.xyz = offset.xyz * 0.5 + 0.5; //    [0., 1.]</span></span></code> </pre> <br>  ุจุนุฏ ุงูุชุญููู ุฅูู ูุณุงุญุฉ ุงูููุทุน ุ ูููู ุจุฅุฌุฑุงุก ุชูุณูู ุงูููุธูุฑ ูุฏูููุง ุนู ุทุฑูู ูุณูุฉ ููููุงุช <i>xyz ุนูู</i> ุงููููู <i>w</i> .  ูุชู ุชุฑุฌูุฉ ุงููุชุฌู ุงููุงุชุฌ ูู ุฅุญุฏุงุซูุงุช ุงูุฌูุงุฒ ุงููุนูุงุฑู ( <i>NDC</i> ) ุฅูู ูุงุตู ุงูููู [0. ุ 1.] ุจุญูุซ ูููู ุงุณุชุฎุฏุงูู ูู ุฅุญุฏุงุซูุงุช ูุณูุฌ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> sampleDepth = texture(gPosition, offset.xy).z;</code> </pre> <br>  ูุญู ูุณุชุฎุฏู ููููุงุช <i>xy</i> ููุชุฌู <i>ุงูุนููุฉ</i> ูุชุญุฏูุฏ ููุงุถุน ุงูุนุงุฒูุฉ G ูู ุงููุณูุฌ.  ูุญุตู ุนูู ูููุฉ ุงูุนูู (ููููุงุช <i>z</i> ) ุงูููุงุจูุฉ ููุชุฌู ุงูุนููุฉ ุนูุฏ ุงููุธุฑ ุฅูููุง ูู ูููุน ุงููุฑุงูุจ (ูุฐุง ูู ุฃูู ุฌุฒุก ูุฑุฆู ุบูุฑ ูุญูู).  ุฅุฐุง ูุงู ุนูู ุฃุฎุฐ ุงูุนููุงุช ุงูุฐู ุชู ุงูุญุตูู ุนููู ูู ููุณ ุงูููุช ุฃูุจุฑ ูู ุงูุนูู ุงููุฎุฒู ุ ูุฅููุง ูุฒูุฏ ูู ูุนุงูู ุงูุชุธููู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">occlusion += (sampleDepth &gt;= sample.z + bias ? <span class="hljs-number"><span class="hljs-number">1.0</span></span> : <span class="hljs-number"><span class="hljs-number">0.0</span></span>);</code> </pre> <br>  ูุงุญุธ ุฅุฒุงุญุฉ <i>ุงูุชุญูุฒ</i> ุ ุงูุชู ุชูุช ุฅุถุงูุชูุง ุฅูู ุนูู ุงูุฌุฒุก ุงูุฃุตูู (ุชู ุชุนูููู ูู ุงููุซุงู ุฅูู 0.025).  ูุฐุง ุงูุฅุฒุงุญุฉ ููุณ ูุทููุจูุง ุฏุงุฆููุง ุ ูููู ูุฌูุฏ ูุชุบูุฑ ูุณูุญ ูู ุจุงูุชุญูู ูู ููููุฉ ุธููุฑ ุชุฃุซูุฑ SSAO ุ ููู ุญุงูุงุช ูุนููุฉ ุฃูุถูุง ุ ูุฒูู ูุดุงูู ุงูุชููุฌุงุช ูู ุงูููุงุทู ุงููุธููุฉ. <br><br>  ููู ูุฐุง ููุณ ูู ุดูุก ุ ูุฃู ูุฐุง ุงูุชูููุฐ ูุคุฏู ุฅูู ูุทุน ุฃุซุฑูุฉ ููุญูุธุฉ.  ูุชุฌูู ูู ุงูุญุงูุงุช ุงูุชู ูุชู ูููุง ุงููุธุฑ ุฅูู ุฌุฒุก ูููู ุจุงููุฑุจ ูู ุญุงูุฉ ุณุทุญ ูุนูู.  ูู ูุซู ูุฐู ุงูุญุงูุงุช ุ ุนูุฏ ููุงุฑูุฉ ุงูุฃุนูุงู ุ ุณูู ุชูุชูุท ุงูุฎูุงุฑุฒููุฉ ุญุชููุง ุฃุนูุงู ุงูุฃุณุทุญ ุ ูุงูุชู ูููู ุฃู ุชูุน ุจุนูุฏูุง ุฌุฏูุง ุนู ุงูุณุทุญ ุงููุฏุฑูุณ.  ูู ูุฐู ุงูุฃูุงูู ุ ุณุชุฒูุฏ ุงูุฎูุงุฑุฒููุฉ ุจุดูู ุฎุงุทุฆ ุฏุฑุฌุฉ ุงูุชุธููู ุจุดูู ูุจูุฑ ุ ููุง ุณูุฎูู ูุงูุงุช ุฏุงููุฉ ููุญูุธุฉ ุนูุฏ ุญูุงู ุงูุฃุดูุงุก.  ูุชู ุงูุชุนุงูู ูุน ุงููุทุน ุงูุฃุซุฑูุฉ ุนู ุทุฑูู ุฅุฏุฎุงู ูุญุต ูุณุงูุฉ ุฅุถุงููุฉ (ูุซุงู ุจูุงุณุทุฉ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุฌูู ุชุดุงุจูุงู</a> ): <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/zv/yv/eq/zvyveqh3zc_rjcy6fo-z8d76eme.png"></div><br>  ุณูุญุฏ ุงูุงุฎุชูุงุฑ ูู ุงููุณุงููุฉ ูู ูุนุงูู ุงูุชุธููู ููุท ูููู ุงูุนูู ุงูููุฌูุฏุฉ ุฏุงุฎู ูุตู ูุทุฑ ุงูุนููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> rangeCheck = smoothstep(<span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>, radius / <span class="hljs-built_in"><span class="hljs-built_in">abs</span></span>(fragPos.z - sampleDepth)); occlusion += (sampleDepth &gt;= sample.z + bias ? <span class="hljs-number"><span class="hljs-number">1.0</span></span> : <span class="hljs-number"><span class="hljs-number">0.0</span></span>) * rangeCheck;</code> </pre> <br>  ูุณุชุฎุฏู ุฃูุถูุง <i>ุฏุงูุฉ</i> GLSL <i>smoothstep ()</i> ุ ุงูุชู ุชููุฐ <i>ุงุณุชููุงุกูุง</i> ุณูุณูุง ูููุนููุฉ ุงูุซุงูุซุฉ ุจูู ุงูุฃููู ูุงูุซุงููุฉ.  ูู ููุณ ุงูููุช ุ ูุชู ุฅุฑุฌุงุน 0 ุฅุฐุง ูุงูุช ุงููุนููุฉ ุงูุซุงูุซุฉ ุฃูู ูู ุฃู ุชุณุงูู ุงูุฃููู ุ ุฃู 1 ุฅุฐุง ูุงูุช ุงููุนููุฉ ุงูุซุงูุซุฉ ุฃูุจุฑ ูู ุฃู ุชุณุงูู ุงูุซุงููุฉ.  ุฅุฐุง ูุงู ูุฑู ุงูุนูู ุฏุงุฎู <i>ูุตู ุงููุทุฑ</i> ุ ูุณูุชู ุชูุนูู ูููุชู ุจุณูุงุณุฉ ูู ุงููุงุตู ุงูุฒููู [0. ุ 1.] ููููุง ููุฐุง ุงูููุญูู: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/jq/9h/p4/jq9hp4-yun_sc277m6pslbjyin0.png"></div><br>  ุฅุฐุง ุงุณุชุฎุฏููุง ุญุฏูุฏูุง ูุงุถุญุฉ ูู ุธุฑูู ุงูุชุญูู ูู ุงูุนูู ุ ูุณูุถูู ุฐูู ุนูุงุตุฑูุง ูู ุดูู ุญุฏูุฏ ุญุงุฏุฉ ูู ุชูู ุงูุฃูุงูู ุงูุชู ุชููู ูููุง ููู ุงูุงุฎุชูุงู ูู ุงูุฃุนูุงู ุฎุงุฑุฌ ุญุฏูุฏ <i>ูุตู ุงููุทุฑ</i> . <br><br>  ูุน ุงูููุณุฉ ุงูููุงุฆูุฉ ุ ูููู ุจุชุทุจูุน ูููุฉ ูุนุงูู ุงูุชุธููู ุจุงุณุชุฎุฏุงู ุญุฌู ููุจ ุงูุนููุฉ ูุชุณุฌูู ุงููุชูุฌุฉ.  ูููู ุฃูุถูุง ุจุนูุณ ุงููููุฉ ุงูููุงุฆูุฉ ุนู ุทุฑูู ุทุฑุญูุง ูู ุงููุญุฏุฉ ุ ุจุญูุซ ููููู ุงุณุชุฎุฏุงู ุงููููุฉ ุงูููุงุฆูุฉ ูุจุงุดุฑุฉ ูุชุนุฏูู ูููู ุงูุฎูููุฉ ููุฅุถุงุกุฉ ุฏูู ุฎุทูุงุช ุฅุถุงููุฉ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">} occlusion = <span class="hljs-number"><span class="hljs-number">1.0</span></span> - (occlusion / kernelSize); FragColor = occlusion;</code> </pre> <br>  ุจุงููุณุจุฉ ูููุดูุฏ ุงูุฐู ูุฑุชุฏู ุจุฏูุฉ ูุงูููุฉ ูุงุฐุจุฉ ูุฃูููุฉ ููุง ุ ูุฅู ุฃุฏุงุก ุชุธููู SSAO ูุนุทู ุงููุณูุฌ ุงูุชุงูู: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/-z/a4/fx/-za4fxhsbref6easc-cgxnsp94q.png"></div><br>  ููุง ุชุฑู ุ ูุฅู ุชุฃุซูุฑ ุชุธููู ุงูุฎูููุฉ ูุฎูู ููููุง ุฌูุฏูุง ุจุงูุนูู.  ููุท ุตูุฑุฉ ุงูุฅุฎุฑุงุฌ ููุชุธููู ุชุณูุญ ูู ุจุงููุนู ุจุชูููุฒ ุชูุงุตูู ุงูุฒู ูุงูุชุฃูุฏ ูู ุฃูู ููุน ุนูู ุงูุฃุฑุถ ุญููุง ุ ููุง ูุฑูุน ุนูู ูุณุงูุฉ ูุนููุฉ ููู. <br><br>  ููุน ุฐูู ุ ูุฅู ุงูุชุฃุซูุฑ ุจุนูุฏ ูู ุงูุจุนุฏ ุนู ุงููุซุงููุฉ ุ ุญูุซ ูููู ููุงุญุธุฉ ููุท ุงูุถุฌูุฌ ุงููุงุชุฌ ุนู ูุณูุฌ ูุงููุงุช ุงูุฏูุฑุงู ุงูุนุดูุงุฆู ุจุณูููุฉ.  ูุชุณููู ูุชูุฌุฉ ุญุณุงุจ SSAO ุ ูููู ุจุชุทุจูู ูุฑุดุญ ุทูุณ. <br><br><h2 style=";text-align:right;direction:rtl">  ุชุธููู ุงูุฎูููุฉ ุทูุณ </h2><br>  ุจุนุฏ ุจูุงุก ูุชูุฌุฉ SSAO ููุจู ุงูุฎูุท ุงูููุงุฆู ููุฅุถุงุกุฉ ุ ูู ุงูุถุฑูุฑู ุทูุณ ุงููุณูุฌ ุงูุฐู ูุฎุฒู ุงูุจูุงูุงุช ูู ูุนุงูู ุงูุชุธููู.  ููููุงู ุจุฐูู ุ ุณูููู ูุฏููุง ุขุฎุฑ Framebuffer: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> ssaoBlurFBO, ssaoColorBufferBlur; glGenFramebuffers(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;ssaoBlurFBO); glBindFramebuffer(GL_FRAMEBUFFER, ssaoBlurFBO); glGenTextures(<span class="hljs-number"><span class="hljs-number">1</span></span>, &amp;ssaoColorBufferBlur); glBindTexture(GL_TEXTURE_2D, ssaoColorBufferBlur); glTexImage2D(GL_TEXTURE_2D, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_RED, SCR_WIDTH, SCR_HEIGHT, <span class="hljs-number"><span class="hljs-number">0</span></span>, GL_RGB, GL_FLOAT, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST); glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST); glFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, ssaoColorBufferBlur, <span class="hljs-number"><span class="hljs-number">0</span></span>);</code> </pre> <br>  ูููุฑ ุชุฌุงูุจ ูุณูุฌ ุงูุถุฌูุฌ ูู ูุณุงุญุฉ ุงูุดุงุดุฉ ุฎุตุงุฆุต ุนุดูุงุฆูุฉ ูุญุฏุฏุฉ ุฌูุฏูุง ููููู ุงุณุชุฎุฏุงููุง ูุตุงูุญู ุนูุฏ ุฅูุดุงุก ูุฑุดุญ ุถุจุงุจู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 330 core out float FragColor; in vec2 TexCoords; uniform sampler2D ssaoInput; void main() { vec2 texelSize = 1.0 / vec2(textureSize(ssaoInput, 0)); float result = 0.0; for (int x = -2; x &lt; 2; ++x) { for (int y = -2; y &lt; 2; ++y) { vec2 offset = vec2(float(x), float(y)) * texelSize; result += texture(ssaoInput, TexCoords + offset).r; } } FragColor = result / (4.0 * 4.0); }</span></span></code> </pre> <br>  ูููู ุฌูุงุฒ ุงูุชุธููู ุจุจุณุงุทุฉ ุจุชุญููู texels ูู ูุณูุฌ SSAO ูุน ุฅุฒุงุญุฉ ูู -2 ุฅูู +2 ุ ููู ูุง ูุชูุงูู ูุน ุงูุญุฌู ุงููุนูู ููุณูุฌ ุงูุถุฌูุฌ.  ุงูุฅุฒุงุญุฉ ุชุณุงูู ุงูุญุฌู ุงูุฏููู ูุชูุณู ูุงุญุฏ: ูุชู ุงุณุชุฎุฏุงู ูุธููุฉ ูุณูุฌ <i>()</i> ููุญุณุงุจ ุ ูุงูุชู ุชุฑุฌุน <i>vec2</i> ูุน ุฃุจุนุงุฏ ุงููุณูุฌ ุงููุญุฏุฏ.  T.O.  ูููู ุฌูุงุฒ ุงูุชุธููู ุจุจุณุงุทุฉ ุจุญุณุงุจ ูุชูุณุท โโุงููุชุงุฆุฌ ุงููุฎุฒูุฉ ูู ุงููุณูุฌ ุ ููุง ูุนุทู ุชูููููุง ุณุฑูุนูุง ููุนุงููุง ุฅูู ุญุฏ ูุง: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/5p/0g/i7/5p0gi7qn_v5w738uyindxexally.png"></div><br>  ูู ุงููุฌููุน ุ ูุฏููุง ูุณูุฌ ูุน ุจูุงูุงุช ุชุธููู ุงูุฎูููุฉ ููู ุฌุฒุก ุนูู ุงูุดุงุดุฉ - ูู ุดูุก ุฌุงูุฒ ููุฑุญูุฉ ุชูููู ุงูุตูุฑุฉ ุงูููุงุฆูุฉ! <br><br><h2 style=";text-align:right;direction:rtl">  ุชุทุจูู ุชุธููู ุงูุฎูููุฉ </h2><br>  ุฅู ุฎุทูุฉ ุชุทุจูู ูุนุงูู ุงูุชุธููู ูู ุงูุญุณุงุจ ุงูููุงุฆู ููุฅุถุงุกุฉ ุจุณูุทุฉ ุจุดูู ูุฏูุด: ุจุงููุณุจุฉ ููู ุฌุฒุก ุ ูููู ุจุจุณุงุทุฉ ูุถุงุนูุฉ ูููุฉ ูููู ุงูุฎูููุฉ ููุตุฏุฑ ุงูุถูุก ุจูุงุณุทุฉ ูุนุงูู ุงูุชุธููู ูู ุงููุณูุฌ ุงููุญุถุฑ.  ููููู ุงูุญุตูู ุนูู ุชุธููู ุฌุงูุฒ ุจุงุณุชุฎุฏุงู ูููุฐุฌ Blinn-Fong ูู ุงูุฏุฑุณ ุญูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ุงูุชุธููู ุงููุคุฌู</a> ูุชุตุญูุญู ููููุงู: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 330 core out vec4 FragColor; in vec2 TexCoords; uniform sampler2D gPosition; uniform sampler2D gNormal; uniform sampler2D gAlbedo; uniform sampler2D ssao; struct Light { vec3 Position; vec3 Color; float Linear; float Quadratic; float Radius; }; uniform Light light; void main() { </span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//    G- vec3 FragPos = texture(gPosition, TexCoords).rgb; vec3 Normal = texture(gNormal, TexCoords).rgb; vec3 Diffuse = texture(gAlbedo, TexCoords).rgb; float AmbientOcclusion = texture(ssao, TexCoords).r; //   -    //   :   -  vec3 ambient = vec3(0.3 * Diffuse * AmbientOcclusion); vec3 lighting = ambient; //    (0, 0, 0)   - vec3 viewDir = normalize(-FragPos); //   vec3 lightDir = normalize(light.Position - FragPos); vec3 diffuse = max(dot(Normal, lightDir), 0.0) * Diffuse * light.Color; //   vec3 halfwayDir = normalize(lightDir + viewDir); float spec = pow(max(dot(Normal, halfwayDir), 0.0), 8.0); vec3 specular = light.Color * spec; //   float dist = length(light.Position - FragPos); float attenuation = 1.0 / (1.0 + light.Linear * dist + light.Quadratic * dist * dist); diffuse *= attenuation; specular *= attenuation; lighting += diffuse + specular; FragColor = vec4(lighting, 1.0); }</span></span></span></span></code> </pre> <br>  ููุงู ุชุบููุฑุงู ุฑุฆูุณูุงู ููุท: ุงูุงูุชูุงู ุฅูู ุงูุญุณุงุจุงุช ูู ุฅุทุงุฑ ุงูุนุฑุถ ูุถุฑุจ ุนูุตุฑ ุฅุถุงุกุฉ ุงูุฎูููุฉ ุจูููุฉ <i>AmbientOcclusion</i> .  ูุซุงู ุนูู ูุดูุฏ ุจุถูุก ุฃุฒุฑู ูุงุญุฏ: <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/bz/8_/1i/bz8_1in-othscilg_udfyscghg0.png"></div><br>  ููุฏ ุงููุตุฏุฑ ุงููุงูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">ููุง</a> . <br><br>  ูุนุชูุฏ ูุธูุฑ ุชุฃุซูุฑ SSAO ุจุดุฏุฉ ุนูู ูุนููุงุช ูุซู <i>kernelSize ูุงููุทุฑ</i> <i>ูุงูุชุญูุฒ</i> ุ ูุบุงูุจูุง ูุง ูููู <i>ุถุจุทูุง</i> ุฃูุฑูุง <i>ุทุจูุนููุง ููููุงู ููุญุฏุฏ</i> ูููุนูุง / ูุดูุฏูุง ูุนูููุง.  ูุง ุชูุฌุฏ ูุฌููุนุงุช "ุฃูุถู" ูุนุงูููุฉ ูู ุงููุนููุงุช: ุจุงููุณุจุฉ ูุจุนุถ ุงููุดุงูุฏ ุ ูููู ูุตู ุงููุทุฑ ุงูุตุบูุฑ ูู ููุจ ุงูุนููุฉ ุฌูุฏูุง ุ ุจูููุง ูุณุชููุฏ ุงูุจุนุถ ุงูุขุฎุฑ ูู ุฒูุงุฏุฉ ูุตู ุงููุทุฑ ูุนุฏุฏ ุงูุนููุงุช.  ูุณุชุฎุฏู ุงููุซุงู 64 ููุทุฉ ุนููุฉ ุ ููู ุ ุจุตุฑุงุญุฉ ุ ุฒุงุฆุฏุฉ ุนู ุงูุญุงุฌุฉ ุ ูููู ููููู ุฏุงุฆููุง ุชุนุฏูู ุงูุฑูุฒ ููุนุฑูุฉ ูุง ูุญุฏุซ ูุน ุนุฏุฏ ุฃูู ูู ุงูุนููุงุช. <br><br>  ุจุงูุฅุถุงูุฉ ุฅูู ุงูุฃุฒูุงุก ุงูุฑุณููุฉ ุงููุฏุฑุฌุฉ ูุงููุณุคููุฉ ุนู ุชุญุฏูุฏ ุงูุชุฃุซูุฑ ุ ููุงู ุฅููุงููุฉ ููุชุญูู ุจุดูู ูุงุถุญ ูู ุดุฏุฉ ุชุฃุซูุฑ ุชุธููู ุงูุฎูููุฉ.  ููููุงู ุจุฐูู ุ ูููู ุฑูุน ุงููุนุงูู ุฅูู ุฏุฑุฌุฉ ูุชุญูู ุจูุง ุฒู ุขุฎุฑ: <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">occlusion = <span class="hljs-number"><span class="hljs-number">1.0</span></span> - (occlusion / kernelSize); FragColor = <span class="hljs-built_in"><span class="hljs-built_in">pow</span></span>(occlusion, power);</code> </pre> <br>  ุฃูุตุญู ุจูุถุงุก ุจุนุถ ุงูููุช ูู ุงููุนุจุฉ ูุน ุงูุฅุนุฏุงุฏุงุช ุ ูุฃู ูุฐุง ุณูุนุทู ูููุงู ุฃูุถู ูุทุจูุนุฉ ุงูุชุบููุฑุงุช ูู ุงูุตูุฑุฉ ุงูููุงุฆูุฉ. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุชูุฎูุต ุ ูู ุงูุฌุฏูุฑ ุจุงูุฐูุฑ ุฃูู ุนูู ุงูุฑุบู ูู ุฃู ุงูุชุฃุซูุฑ ุงููุฑุฆู ูุชุทุจูู SSAO ุฎูู ุฅูู ุญุฏ ูุง ุ ูู ุงููุดุงูุฏ ุฐุงุช ุงูุฅุถุงุกุฉ ูู ููุงู ุฌูุฏ ุ ูุฅูู ูุง ูููู ุฅููุงุฑู ูุถูู ุฌุฒุกูุง ููุญูุธูุง ูู ุงููุงูุนูุฉ. </font><font style="vertical-align: inherit;">ูู ุงููุคูุฏ ุฃู ูุฌูุฏ ูุซู ูุฐู ุงูุฃุฏุงุฉ ูู ุชุฑุณุงูุชู ุฃูุฑ ูููู.</font></font><br><br><h2 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุงุฑุฏ ุฅุถุงููุฉ </font></font></h2><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฏุฑูุณ SSAO</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : ููุงูุฉ ุฏุฑุณ ููุชุงุฒุฉ ูู ุฌูู ุชุดุงุจูุงู ุ ุชู ุนูู ุฃุณุงุณูุง ุจูุงุก ููุฏ ูุฐุง ุงูุฏุฑุณ.</font></font></li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุนุฑู ุนูู ุงููุทุน ุงูุฃุซุฑูุฉ ูุฏู SSAO</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : ููุงูุฉ ูููุฉ ููุบุงูุฉ ุชุธูุฑ ุจูุถูุญ ููุณ ููุท ุงููุดุงูู ุงูุฃูุซุฑ ุฅูุญุงุญูุง ูู ุฌูุฏุฉ SSAO ุ ูููู ุฃูุถูุง ุทุฑู ุญููุง. </font><font style="vertical-align: inherit;">ุงููุฑุงุกุฉ ุงูููุตู ุจูุง.</font></font></li><li style=";text-align:right;direction:rtl"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSAO ูุน ุฅุนุงุฏุฉ ุจูุงุก ุงูุนูู</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : ุฅุถุงูุฉ ุฅูู ุฏุฑุณ SSAO ุงูุฑุฆูุณู ูู ูุจู OGLDev ูููุง ูุชุนูู ุจุงูุชูููุฉ ุดุงุฆุนุฉ ุงูุงุณุชุฎุฏุงู ูุงุณุชุนุงุฏุฉ ุฅุญุฏุงุซูุงุช ุงููุทุน ุจูุงุกู ุนูู ุงูุนูู. </font><font style="vertical-align: inherit;">ุชุฑุฌุน ุฃูููุฉ ูุฐุง ุงูููุฌ ุฅูู ูููุฑุงุช ูุจูุฑุฉ ูู ุงูุฐุงูุฑุฉ ุจุณุจุจ ุนุฏู ุงูุญุงุฌุฉ ุฅูู ุชุฎุฒูู ุงูููุงูู ูู ุงููุฎุฒู ุงููุคูุช G. </font><font style="vertical-align: inherit;">ุงูููุฌ ูู ุนุงููู ุฌุฏุง ุ ูููุทุจู ุนูู SSAO ุจูุฏุฑ ูุง.</font></font></li></ol><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงุญุธุฉ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : ูุฏููุง </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุฑููุฉ ุฃุณููุท</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุชูุณูู ุงูุชุญูููุงุช. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุงูุช ูุฏูู ุฑุบุจุฉ ุฌุงุฏุฉ ูู ุงููุณุงุนุฏุฉ ูู ุงูุชุฑุฌูุฉ ุ ูุฃูุช ูุฑุญุจ ุจู!</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar421385/">https://habr.com/ru/post/ar421385/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar421375/index.html">ููู ููุชู ุนุฏู ุงููููู ุงูุชุฌุงุฑุฉ</a></li>
<li><a href="../ar421377/index.html">7 ููุงููู ุฎุงุทุฆุฉ ููุฏูุฑ ูุดุฑูุน ูุจุชุฏุฆ ูู ุบุงูุฏูู</a></li>
<li><a href="../ar421379/index.html">ุซูุงูุฉ ุฅูุชู ุงูุณุงูุฉ</a></li>
<li><a href="../ar421381/index.html">ุฏูุฑุฉ ูุฌุงููุฉ Cisco ASA Administrator</a></li>
<li><a href="../ar421383/index.html">ูุคุชูุฑ ุงูููู ุงูููุญูู ุฎุฑูู 2018 - ูุคุชูุฑ ุชุณููู ุงูููุชุฌุงุช ูู ููุณูู</a></li>
<li><a href="../ar421387/index.html">ููุงุจูุฉ ูุน Lennart Pottering ุนูู Linux Piter ุญูู ุงูุชุบููุฑุงุช ูู Linux ุ ุญูู systemd ูููุงุฐุง ุชุญุถุฑ ุงููุคุชูุฑุงุช</a></li>
<li><a href="../ar421389/index.html">ูุตู ุงูุณูุทุงุช ุงูุฅุฏุงุฑูุฉ ูู ุฒููุจุฑุง</a></li>
<li><a href="../ar421391/index.html">HackThings - ูุงูุงุซูู ูุจูุฑ ุนูู ุฅูุชุฑูุช ุงูุฃุดูุงุก 7-9 ุณุจุชูุจุฑ ูู Skoltech</a></li>
<li><a href="../ar421393/index.html">ุณูุฉ ุงูุจุฑูุฏ ุงูููุฌูุฑุฉ: ุฏููู ูููุณูุงู</a></li>
<li><a href="../ar421395/index.html">ุชูุฑูุฑ ูุงุฏู ุฑููุง 2018 ุ ุงููุตู 3.7: "ุงูููุงุฎ: ุฃุฎุจุงุฑ ุณุงุฑุฉ ุ ููู ูุดุงูู ูุจูุฑุฉ"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>