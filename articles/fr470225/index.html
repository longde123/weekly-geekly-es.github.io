<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>âš«ï¸ ğŸ’‡ğŸ¼ ğŸ‘©ğŸ¼â€ğŸ’¼ Pourquoi les photos / vidÃ©os autodestructrices sur Telegram ne sont pas sÃ»res ğŸ¢ ğŸŒ· ğŸ†—</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Plus rÃ©cemment, j'ai vu un article qui parlait de l'introduction de messages auto-destructeurs dans le messager WhatsApp . Il aura des fonctionnalitÃ©s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Pourquoi les photos / vidÃ©os autodestructrices sur Telegram ne sont pas sÃ»res</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470225/"><img src="https://habrastorage.org/webt/pb/vz/ur/pbvzuriwtjebtwfbawzykgzjnek.png" alt="image"><br><br>  Plus rÃ©cemment, j'ai vu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">un article</a> qui parlait de l'introduction de <b>messages auto-destructeurs</b> dans le messager <b>WhatsApp</b> .  Il aura des fonctionnalitÃ©s similaires Ã  Telegram, mais si dans le messager de Durov la suppression s'applique aux messages ordinaires (chats secrets), ils peuvent Ã©galement Ãªtre utilisÃ©s sur des photos dans des chats rÃ©guliers.  Autrement dit, aprÃ¨s avoir envoyÃ© supposer la photo, l'interlocuteur sera en mesure de la visualiser pendant une durÃ©e limitÃ©e, et aprÃ¨s, en thÃ©orie, elle sera supprimÃ©e des deux interlocuteurs (de prÃ©fÃ©rence du serveur Ã©galement), puis WhatsApp prÃ©voit d'introduire la suppression des messages rÃ©guliers (et jusqu'Ã  prÃ©sent, cela a Ã©tÃ© fait) . <br><br>  Mais aujourd'hui, nous ne parlons pas de WhatsApp (parce que je ne l'utilise pas du tout), mais de Telegram.  L'idÃ©e mÃªme de messages autodestructeurs n'est guÃ¨re en demande, mais il y a ces utilisateurs qui les utilisent, par exemple, pour envoyer des documents ou des photos qui ne peuvent Ãªtre vus qu'une seule fois (ahem). <br><br>  Pour ceux qui sont trop paresseux pour lire, <b>les messages autodestructeurs sur Telegram ne sont ni sÃ»rs</b> ni confidentiels.  Ne pensez pas que si vous envoyez un document important Ã  quelqu'un Ã  qui vous parlez de cette maniÃ¨re, il ne pourra pas le sauvegarder (et je ne parle pas d'une capture d'Ã©cran rapide ou de photographies d'Ã©crans de tÃ©lÃ©phone, Dieu nous en prÃ©serve) - utilisez des chats secrets pour cela.  Et pour ceux qui sont intÃ©ressÃ©s par la mise en Å“uvre mÃªme de ces messages, vous pouvez continuer Ã  lire. <a name="habracut"></a><br><br>  Je les ai aussi utilisÃ©s, mais pas souvent et plutÃ´t ils n'Ã©taient que du "divertissement" et je ne les regardais pas spÃ©cialement.  Au mois de juin de cette annÃ©e, lors de <b>mes</b> recherches sur le <b>tÃ©lÃ©gramme UserAPI</b> , j'ai testÃ© l'envoi et la rÃ©ception de photos.  Je me suis amusÃ©, pas plus.  Et un intÃ©rÃªt est apparu dans l'affichage de la Â«vueÂ» de l'envoi des messages, et comment ils sont gÃ©nÃ©ralement affichÃ©s dans la rÃ©ponse.  Je me demandais comment cette fonction est implÃ©mentÃ©e Â«de l'intÃ©rieurÂ», si les fichiers sont supprimÃ©s du serveur Telegram ou peuvent-ils Ãªtre cryptÃ©s d'une maniÃ¨re ou d'une autre. <br><br>  Et Ã  ma grande surprise, ces messages ne sont pratiquement pas diffÃ©rents des messages habituels.  Tout droit.  Ils ont le mÃªme <b>id_fichier</b> que les photos ordinaires, avec lesquelles vous pouvez obtenir le fichier lui-mÃªme.  Et mÃªme si vous avez regardÃ© le message et qu'il a disparu dans le chat, <b>vous pouvez l'enregistrer / envoyer / transfÃ©rer en toute sÃ©curitÃ©</b> et faire la mÃªme chose que vous pourriez faire avec des photos / vidÃ©os ordinaires.  Autrement dit, il n'est pas supprimÃ© du serveur Telegram lui-mÃªme. <br><br>  Je le rÃ©pÃ¨te, ces messages ne s'appliquent pas aux chats secrets, oÃ¹ la correspondance est sur deux appareils, et Ã  partir d'un autre client, je ne peux pas y accÃ©der.  Cette fonctionnalitÃ© est conÃ§ue pour les chats rÃ©guliers et semble Ãªtre considÃ©rÃ©e comme "sÃ»re".  Mais ici, c'est intÃ©ressant, je n'ai trouvÃ© nulle part une description dÃ©taillÃ©e de ces messages autodestructeurs.  Autrement dit, Telegram ne semble pas nous dire que ces messages sont si sÃ»rs en termes d'accÃ¨s (si vous avez accÃ¨s au compte lui-mÃªme) comme par exemple les mÃªmes chats secrets.  La seule chose que j'ai vue, c'est que Telegram lui-mÃªme a dit qu'aucun message, mÃªme les conversations secrÃ¨tes, n'ont une sÃ©curitÃ© Ã  100% et que tout le monde est responsable des messages qu'il envoie, mais ... <br>  J'avoue qu'il serait implÃ©mentÃ© dans certains WhatsApp / Viber / VK, je n'y ferais mÃªme pas attention, mais Telegram est un messager trÃ¨s pratique que j'aime vraiment, mais ce que je dÃ©teste, c'est son soutien rempli de bÃ©nÃ©voles. <br><br>  Au cours du mÃªme mois de juin, j'ai Ã©crit Ã  support@telegram.org, oÃ¹ j'ai Ã©crit une lettre entiÃ¨re en deux langues.  Il a dit non seulement sur les messages autodestructeurs, mais aussi sur les messages ordinaires et que Telegram ne fixe aucune limite au transfert, mais plus Ã  ce sujet plus tard. <br><br>  Deux mois plus tard, ils ne m'ont pas rÃ©pondu, j'ai donc dÃ» Ã©crire au tÃ©lÃ©gramme trÃ¨s Â«supportÂ» pour expliquer quoi faire et oÃ¹ Ã©crire lorsque je dÃ©couvrais ce type de Â«vulnÃ©rabilitÃ©Â». <br><br>  LÃ , ils m'ont Ã©tonnamment rÃ©pondu trois heures plus tard, oÃ¹ ils m'ont dit que vous devriez Ã©crire sur les vulnÃ©rabilitÃ©s graves du protocole Ã  security@telegram.org ou partager les dÃ©tails ici.  Je joins le texte de rÃ©ponse original du support: <br><br><div class="spoiler">  <b class="spoiler_title">5 juillet, rÃ©ponse du support</b> <div class="spoiler_text">  <i>Salut</i>  <i>Vous pouvez partager les dÃ©tails ici ou Ã©crire Ã  security@telegram.org si nous parlons vraiment d'une sorte de vulnÃ©rabilitÃ© dans nos applications ou notre protocole.</i> <br></div></div><br>  J'ai dÃ©cidÃ© d'Ã©crire au support lui-mÃªme sur les Â«dÃ©tailsÂ» des vulnÃ©rabilitÃ©s, en appliquant la vidÃ©o, le script lui-mÃªme et les solutions au problÃ¨me (voici mon message ci-dessous), mais jusqu'Ã  prÃ©sent, je n'ai reÃ§u aucune rÃ©ponse, ni par mail, ni par le support lui-mÃªme.  Apparemment jusqu'Ã  prÃ©sent, cela ne les dÃ©range pas.  <s>Mieux vaut faire une animation d'emojis simples.</s> <br><br>  En plus de l'option avec des messages auto-destructeurs, j'ai Ã©galement remarquÃ© que tout message qui a Ã©tÃ© supprimÃ©, par exemple, dans un chat privÃ©, un groupe, un canal, est Ã©galement facile Ã  intercepter.  Cela se fait en utilisant le <b>transfert habituel de tous les messages</b> , par exemple, dans un groupe distinct, et aprÃ¨s les avoir obtenus en <b>utilisant l'ID du message supprimÃ©</b> (maintenant les bibliothÃ¨ques ont des gestionnaires sur eux). <br><br>  J'ai Ã©galement dÃ©crit l'ensemble du processus dans ma lettre (bien qu'en fait il soit simple), avec une solution au problÃ¨me sous la forme d'une limitation des retransmissions des messages eux-mÃªmes.  Et si vous ne limitez pas complÃ¨tement, interdisez le transfert constant de tous les messages.  Je pense que l'Ã©quipe de dÃ©veloppement sera en mesure de faire de l'anti-flood Ã  partir de l'avant. <br><br>  Et avec ceux qui s'autodÃ©truisent, supprimez-les simplement du serveur.  Cela ne rÃ©soudra pas le problÃ¨me, les messages peuvent toujours Ãªtre interceptÃ©s exactement au moment oÃ¹ ils sont reÃ§us.  Pour une Ã©limination complÃ¨te, l'algorithme complet de leur lecture doit Ãªtre retravaillÃ©.  Par exemple, pour crÃ©er une clÃ© d'accÃ¨s Ã  chaque message et lorsque vous utilisez cette clÃ©, l'image / la vidÃ©o ne sera disponible que pendant un certain temps.  J'ai du mal Ã  trouver l'algorithme complet pour l'Ã©quipe de dÃ©veloppement, je l'avoue, je ne suis pas moi-mÃªme capable de rÃ©flÃ©chir Ã  tous les aspects et en tout cas, il y a un moyen de les intercepter.  Mais pour le moment, elles sont implÃ©mentÃ©es de maniÃ¨re horrible, le ou les dÃ©veloppeurs qui Ã©taient engagÃ©s dans cette fonction devraient Ãªtre plus responsables du dÃ©veloppement de ce type de fonction.  Eh bien, ou dans des cas extrÃªmes, Ã©crivez simplement, en lettres rouges et en gras, que les messages autodestructeurs sont faciles Ã  intercepter et ce n'est rien de plus qu'un jouet. <br><br>  Je vais vous parler de moi-mÃªme, un Ã©tudiant de 15 ans, rÃ©cemment amateur de dÃ©veloppement en Python, qui a essayÃ© l'API utilisateur et a trouvÃ© ce genre de "faille / vulnÃ©rabilitÃ©".  Plus cela m'a rendu furieux et m'a forcÃ© Ã  Ã©crire tout cela ici - une implÃ©mentation terrible du support Telegram, qui m'a simplement ignorÃ© trois fois en 4 mois. <br><br>  Pour certains, cette fonction ne sera pas utile, elle ne trouvera rien de mal dans la mauvaise mise en Å“uvre de tels messages, mais je pense que puisque Telegram lui-mÃªme n'est pas intÃ©ressÃ© Ã  amÃ©liorer les fonctions actuelles, il sera utile pour d'autres de simplement en tenir compte. <br><br>  J'Ã©cris des articles pour la premiÃ¨re fois, je pourrais laisser des erreurs quelque part, mais j'espÃ¨re qu'ils me corrigeront dans les commentaires, en indiquant.  Ou, en gÃ©nÃ©ral, ils me diront que tout va mal et ignorer le soutien Ã©tait une bonne solution et je vais enfin me calmer.  Je joins Ã©galement mon message: <br><br><div class="spoiler">  <b class="spoiler_title">Message d'assistance pour lequel aucune rÃ©ponse n'a Ã©tÃ© reÃ§ue</b> <div class="spoiler_text">  <i>Bonjour, je m'appelle Khamidov Amal.</i> <i><br><br></i>  <i>RÃ©cemment, j'ai Ã©crit une expÃ©rience utilisateur pour mon projet.</i>  <i>Ã€ un moment donnÃ©, j'ai remarquÃ© comment mon ami m'a envoyÃ© une photo Ã  retrait automatique.</i>  <i>Je l'ai regardÃ© sur mon client Android et il a Ã©tÃ© supprimÃ© comme il se doit aprÃ¨s 10 secondes.</i> <i><br><br></i>  <i>Mais je me demandais comment ces messages Ã©taient cryptÃ©s et comment ils Ã©taient stockÃ©s en dÃ©placement.</i>  <i>AprÃ¨s tout, il s'avÃ¨re que le client du tÃ©lÃ©gramme tÃ©lÃ©charge d'abord la photo sur le tÃ©lÃ©phone, et aprÃ¨s la lecture, il doit la supprimer.</i> <i><br><br></i>  <i>J'ai Ã©crit un petit script python en utilisant la bibliothÃ¨que Pyrogram et je voulais voir comment ils Ã©taient arrivÃ©s au client.</i> <i><br><br></i>  <i>J'ai Ã©tÃ© surpris quand j'ai vu que ces "photos Ã  suppression automatique" ressemblaient Ã  des photos ordinaires (quoi?).</i> <i><br></i>  <i>C'est-Ã -dire que si j'envoyais une photo ordinaire, ce n'Ã©tait pas diffÃ©rent de "l'auto-dÃ©prÃ©ciation".</i> <i><br></i>  <i>AprÃ¨s cela, j'ai Ã©crit un script qui envoie cette photo sur le fichier, et Ã  ce moment, la photo est allÃ©e sur ma chaÃ®ne de test comme une photo normale.</i>  <i>Et sur le tÃ©lÃ©phone Ã  partir duquel j'ai envoyÃ© cette photo la plus "auto-extractible", elle n'a mÃªme pas Ã©tÃ© lue.</i> <i><br><br></i>  <i>Cela m'a Ã©galement permis de voir la photo sur mon client de bureau.</i>  <i>Autrement dit, ce script contourne l'essence la plus importante de la photo "auto-extractible".</i> <i><br><br></i>  <i>Je le considÃ¨re comme une vulnÃ©rabilitÃ©, et je le considÃ¨re comme une solution pour reconsidÃ©rer la mÃ©thode d'envoi de messages "Ã  suppression automatique" et les traiter sur le serveur et non sur l'appareil.</i> <i><br><br></i>  <i>De plus, j'ai trouvÃ© le deuxiÃ¨me (presque une vulnÃ©rabilitÃ©), qui a Ã©tÃ© crÃ©Ã© en utilisant le tÃ©lÃ©gramme de l'API lui-mÃªme et n'est pas du tout interdit.</i> <i><br><br></i>  <i>Donc, nous parlons de messages ordinaires.</i> <i><br><br></i>  <i>J'ai Ã©galement Ã©crit un script rÃ©gulier qui envoie (transfÃ¨re) tous les messages du chat Ã  mon groupe et les marque par leur ID.</i> <i><br><br></i>  <i>J'ai ajoutÃ© un gestionnaire Ã  ce script qui rÃ©pond Ã  tous les messages supprimÃ©s et donne l'ID de ces messages supprimÃ©s (bonjour pyrogramme).</i> <i><br><br></i>  <i>AprÃ¨s cela, j'ai ajoutÃ© un script et maintenant, lorsque le gestionnaire rÃ©pond Ã  tous les messages supprimÃ©s, il les vÃ©rifie avec les messages du groupe (qui contient tous les messages) et recherche ce message par ID.</i> <i><br><br></i>  <i>D'une part, cela ne viole rien, car les tÃ©lÃ©grammes ont un code ouvert, tout le monde peut Ã©crire ses userbots.</i>  <i>mais d'un autre cÃ´tÃ© (le russe est bon), dans la derniÃ¨re mise Ã  jour, vous avez ajoutÃ© la fonction de suppression de vos propres messages et ceux des autres pour des raisons de sÃ©curitÃ©, mais de tels scripts simples Ã©crits par un Ã©colier de 15 ans semblent contourner cette trÃ¨s sÃ©curitÃ©.</i> <i><br><br></i>  <i>Je comprends que tout le monde rÃ©pond en rÃ©ponse qu'il envoie, mais une personne peut envoyer des fichiers importants Ã  une personne inutile par erreur et Ã  ce moment il supprimera le message (alors que l'interlocuteur n'a pas lu) sans savoir que tous ces messages peuvent Ãªtre compromis et surtout, que les messages ne sont pas marquÃ©s comme lus.</i> <i><br><br></i>  <i>La dÃ©cision, je pense, est d'ajouter des limites aux messages Ã  transmettre et de revoir la faÃ§on de Â«lireÂ» les messages.</i> <i><br><br></i>  <i>Dans la deuxiÃ¨me vidÃ©o, j'ai joint comment puis-je enregistrer tous les messages supprimÃ©s sans les lire.</i> <i><br></i>  <i>Je joins la vidÃ©o et le script que j'ai Ã©crits pour montrer clairement comment cela fonctionne.</i> <br></div></div><br><br>  Et Ã  quoi cela ressemble dans le code (utilisÃ© la bibliothÃ¨que du TÃ©lÃ©thon, sur Pyrogram c'est presque la mÃªme chose): <br><br><div class="spoiler">  <b class="spoiler_title">La partie la plus importante du code.</b>  <b class="spoiler_title">Le reste n'est qu'une indication du compte, du numÃ©ro de tÃ©lÃ©phone, etc.</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">@client.on(events.NewMessage(func=lambda e: e.is_private and getattr(e, 'photo'))) async def handler(event: message.Message): # event.input_chat may be None, use event.get_input_chat() chat: InputPeerUser = await event.get_input_chat() sender: User = await event.get_sender() photo: Photo = event.photo await client.send_message(img_channel, file=MessageMediaPhoto(photo), message=f'&lt;code&gt;{chat.user_id}&lt;/code&gt;\n' f'&lt;code&gt;{sender.first_name}&lt;/code&gt;\n', parse_mode='HTML')</span></span></code> </pre> <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr470225/">https://habr.com/ru/post/fr470225/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr470215/index.html">CAGR comme une malÃ©diction pour les spÃ©cialistes, ou des erreurs dans la prÃ©diction des processus exponentiels</a></li>
<li><a href="../fr470217/index.html">Faux DS18B20 Ã©tanche: que faire?</a></li>
<li><a href="../fr470219/index.html">F # 5: OpÃ©rateurs</a></li>
<li><a href="../fr470221/index.html">Holivar. Histoire de Runet. Partie 3. Moteurs de recherche: Yandex vs Rambler. Comment ne pas investir</a></li>
<li><a href="../fr470223/index.html">Consignes de conception de jeux mobiles UX</a></li>
<li><a href="../fr470227/index.html">Comment interviewer un employeur?</a></li>
<li><a href="../fr470229/index.html">Sounds for UI: A Compilation of Themed Resources</a></li>
<li><a href="../fr470233/index.html">Comment Ã©crire un robot de trading: des outils pour les dÃ©butants</a></li>
<li><a href="../fr470235/index.html">Entretien avec Dmitry Simonov, crÃ©ateur de la chaÃ®ne CTORECORDS: Â«La principale qualitÃ© de techdir est l'habitude de gagnerÂ»</a></li>
<li><a href="../fr470237/index.html">LittÃ©rature de fin de semaine: lecture facile pour les techniciens</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>