<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📴 🦗 🕘 Reagieren Sie auf das Entwicklungshandbuch für native Webanwendungen 👨🏿‍🏫 🤲 🤟🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Du bist aufgewacht. Die Sonne scheint, die Vögel zwitschern. In der Welt befindet sich niemand im Krieg mit irgendjemandem, niemand hungert und der gl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Reagieren Sie auf das Entwicklungshandbuch für native Webanwendungen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/428568/">  Du bist aufgewacht.  Die Sonne scheint, die Vögel zwitschern.  In der Welt befindet sich niemand im Krieg mit irgendjemandem, niemand hungert und der gleiche Code kann in Webprojekten und in nativen Anwendungen verwendet werden.  Wie schön wäre es!  Leider ist am Horizont nur universeller Code zu sehen, aber der Weg dorthin ist auch heute noch voller Überraschungen. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/df2/6a3/ed5/df26a3ed5295339d89c7e0b8778a501a.png" alt="Bild"></a> <br><br>  Das Material, dessen Übersetzung wir heute veröffentlichen, ist eine kleine, aber recht detaillierte Anleitung zur Entwicklung universeller Anwendungen mit React Native. <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Warum ist das alles?</font> </h2><br>  Die Abkürzung "PWA" ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Progressive Web Apps</a> , Progressive Web Applications) ist heute allen bekannt. Dieses aus drei Buchstaben bestehende Akronym scheint nur ein Wal in einem Meer technischer Begriffe zu sein.  Diese beliebte Technologie ist jedoch immer noch nicht ohne <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mängel</a> .  Mit solchen Anwendungen sind viele technologische Schwierigkeiten verbunden. Es gibt Situationen, in denen ein Entwickler gezwungen ist, gleichzeitig native Anwendungen und Webanwendungen zu erstellen.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier ist ein</a> guter Artikel zum Vergleich von PWA und nativen Anwendungen. <br><br>  Vielleicht sollte sich das Geschäft nur auf native Anwendungen konzentrieren?  Nein, das ist es nicht wert.  Das ist ein großer Fehler.  Infolgedessen wird die Entwicklung einer einzigen universellen Anwendung zu einem logischen Schritt.  Auf diese Weise können Sie die Entwicklungszeit verkürzen und die Kosten für die Erstellung und Unterstützung von Projekten senken.  Es sind diese Eigenschaften universeller Anwendungen, die mich zu einem kleinen Experiment veranlasst haben. <br><br>  Dies ist ein universelles Anwendungsbeispiel aus dem Bereich des elektronischen Handels für die Bestellung von Lebensmitteln.  Nach dem Experiment habe ich eine Vorlage für zukünftige Projekte und für die weitere Forschung erstellt. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/165/f3a/8d3/165f3a8d3fe98bc532e66cd849fbb694.png"><br>  <i><font color="#999999">Papu ist eine Anwendung zum Bestellen von Lebensmitteln für Android, iOS und das Internet</font></i> <br><br><h2>  <font color="#3AC1EF">Anwendungsbausteine</font> </h2><br>  Hier verwenden wir React, daher müssen wir die Anwendungslogik von der Benutzeroberfläche trennen.  Es ist am besten, ein System zu verwenden, um den Status einer Anwendung wie Redux oder Mobx zu steuern.  Ein solcher Schritt macht die Logik der Anwendung sofort universell.  Es kann ohne Änderungen auf verschiedenen Plattformen verwendet werden. <br><br>  Der visuelle Teil der Anwendung ist eine weitere Konversation.  Um die Anwendungsschnittstelle zu erstellen, benötigen Sie einen universellen Satz von Grundelementen, Grundbausteinen.  Sie sollten sowohl im Web als auch in der nativen Umgebung funktionieren.  Leider sind die Sprache des Webs und die Sprache der nativen Plattformen zwei verschiedene Dinge. <br><br>  Ein Standard-Webcontainer wird Sie beispielsweise folgendermaßen kontaktieren: <br><br><pre><code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> !  -   !<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Und einheimisch - so: <br><br><pre> <code class="hljs pgsql">&lt;<span class="hljs-keyword"><span class="hljs-keyword">View</span></span>&gt;!  -    React Native&lt;/<span class="hljs-keyword"><span class="hljs-keyword">View</span></span>&gt;</code> </pre> <br>  Einige kluge Leute haben einen Ausweg aus dieser Situation gefunden.  Die Ausgabe waren spezialisierte Elementbibliotheken.  Einer meiner Favoriten ist die wunderbare <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">React Native Web</a> Library.  Es kümmert sich nicht nur um die Grundelemente der Anwendung und ermöglicht die Verwendung von React Native-Komponenten im Web (nicht alle Komponenten!), Sondern bietet auch Zugriff auf verschiedene React Native-APIs.  Unter ihnen sind <code>Geolocation</code> , <code>Platform</code> , <code>Animated</code> , <code>AsyncStorage</code> und viele andere.  Schauen Sie sich die großartigen Beispiele an, die im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Handbuch</a> für diese Bibliothek zu finden sind. <br><br><h2>  <font color="#3AC1EF">Muster</font> </h2><br>  Wir haben die Primitiven herausgefunden.  Wir müssen jedoch noch die Umgebung für die Webentwicklung und die native Entwicklung verbinden.  Mein Projekt verwendet <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die Create-</a> React <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">-App</a> (für eine Webanwendung) und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ein Initialisierungsskript von</a> React Native (für eine native Anwendung ohne Expo).  Zuerst habe ich ein Projekt mit diesem Befehl erstellt: <code>create-react-app rnw_web</code> .  Dann erstellte er ein zweites Projekt: <code>react-native init raw_native</code> .  Dann habe ich nach dem Beispiel von Victor Frankenstein die <code>package.json</code> Dateien aus diesen beiden Projekten genommen und zusammengeführt.  Danach habe ich im Ordner des neuen Projekts die neue <code>yarn</code> eingezogen.  Hier ist die betreffende <code>package</code> : <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"rnw_boilerplate"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"0.1.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"private"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">"dependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"react"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.5.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"react-art"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.5.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"react-dom"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.5.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"react-native"</span></span>: <span class="hljs-string"><span class="hljs-string">"0.56.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"react-native-web"</span></span>: <span class="hljs-string"><span class="hljs-string">"^0.9.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"react-navigation"</span></span>: <span class="hljs-string"><span class="hljs-string">"^2.17.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"react-router-dom"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.3.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"react-router-modal"</span></span>: <span class="hljs-string"><span class="hljs-string">"^1.4.2"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"devDependencies"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"babel-jest"</span></span>: <span class="hljs-string"><span class="hljs-string">"^23.4.0"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"babel-preset-react-native"</span></span>: <span class="hljs-string"><span class="hljs-string">"^5"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"jest"</span></span>: <span class="hljs-string"><span class="hljs-string">"^23.4.1"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"react-scripts"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.5"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"react-test-renderer"</span></span>: <span class="hljs-string"><span class="hljs-string">"^16.3.1"</span></span> }, <span class="hljs-attr"><span class="hljs-attr">"scripts"</span></span>: {   <span class="hljs-attr"><span class="hljs-attr">"start"</span></span>: <span class="hljs-string"><span class="hljs-string">"node node_modules/react-native/local-cli/cli.js start"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"test"</span></span>: <span class="hljs-string"><span class="hljs-string">"jest"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"start-ios"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-native run-ios"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"start-web"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-scripts start"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"build"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-scripts build"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"test-web"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-scripts test --env=jsdom"</span></span>,   <span class="hljs-attr"><span class="hljs-attr">"eject-web"</span></span>: <span class="hljs-string"><span class="hljs-string">"react-scripts eject"</span></span> } }</code> </pre> <br>  Bitte beachten Sie, dass diese Version der Datei keine Navigationsfunktionen enthält.  Als Nächstes müssen Sie alle Quellcodedateien aus den Ordnern der Webanwendung und der nativen Anwendung in den Ordner des neuen einheitlichen Projekts kopieren. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b5d/f0c/05b/b5df0c05b4739e5d1a4f3aa61f8de1a6.png"><br>  <i><font color="#999999">Ordner, die in ein neues Projekt kopiert werden sollen</font></i> <br><br>  Erstellen Sie nun im Ordner <code>src</code> , der sich im Verzeichnis des neuen Projekts befindet, zwei Dateien: <code>App.js</code> und <code>App.native.js</code> .  Dank <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Webpack können</a> wir Dateinamenerweiterungen verwenden, um dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bundler</a> mitzuteilen, wo welche Dateien verwendet werden sollen.  Das Trennen von <code>App</code> Dateien ist von entscheidender Bedeutung, da wir für die Navigation in Apps unterschiedliche Ansätze verwenden werden. <br><br>  Hier ist die <code>App.js</code> Datei für das Web.  <code>react-router</code> zur Navigation verwendet. <br><br><pre> <code class="hljs pgsql">// App.js - WEB <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "react"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">View</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "react-native"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> WebRoutesGenerator <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./NativeWebRouteWrapper/index"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { ModalContainer } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "react-router-modal"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> HomeScreen <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./HomeScreen"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> TopNav <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./TopNav"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SecondScreen <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./SecondScreen"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> UserScreen <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./UserScreen"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> DasModalScreen <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./DasModalScreen"; const routeMap = { Home: {   component: HomeScreen,   <span class="hljs-type"><span class="hljs-type">path</span></span>: "/",   exact: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }, Second: {   component: SecondScreen,   <span class="hljs-type"><span class="hljs-type">path</span></span>: "/second" }, <span class="hljs-keyword"><span class="hljs-keyword">User</span></span>: {   component: UserScreen,   <span class="hljs-type"><span class="hljs-type">path</span></span>: "/user/:name?",   exact: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }, DasModal: {   component: DasModalScreen,   <span class="hljs-type"><span class="hljs-type">path</span></span>: "*/dasmodal",   modal: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> } }; <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> App extends Component { render() {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (     &lt;<span class="hljs-keyword"><span class="hljs-keyword">View</span></span>&gt;       &lt;TopNav /&gt;       {WebRoutesGenerator({ routeMap })}       &lt;ModalContainer /&gt;     &lt;/<span class="hljs-keyword"><span class="hljs-keyword">View</span></span>&gt;   ); } } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> App;</code> </pre> <br>  Hier ist die <code>App.js</code> für die React Native App.  Hier wird die <code>react-navigation</code> . <br><br><pre> <code class="hljs pgsql">// App.js - React Native <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React, { Component } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "react"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> { createStackNavigator, createBottomTabNavigator } <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "react-navigation"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> HomeScreen <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./HomeScreen"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> DasModalScreen <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./DasModalScreen"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> SecondScreen <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./SecondScreen"; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> UserScreen <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./UserScreen"; const HomeStack = createStackNavigator({ Home: { screen: HomeScreen, navigationOptions: { title: "Home" } } }); const SecondStack = createStackNavigator({ Second: { screen: SecondScreen, navigationOptions: { title: "Second" } }, <span class="hljs-keyword"><span class="hljs-keyword">User</span></span>: { screen: UserScreen, navigationOptions: { title: "User" } } }); const TabNav = createBottomTabNavigator({ Home: HomeStack, SecondStack: SecondStack }); const RootStack = createStackNavigator( {   Main: TabNav,   DasModal: DasModalScreen }, {   mode: "modal",   headerMode: "none" } ); <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> App extends Component { render() {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> &lt;RootStack /&gt;; } } export <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> App;</code> </pre> <br>  So habe ich eine einfache Anwendungsvorlage erstellt und die Plattform für die weitere Arbeit vorbereitet.  Sie können diese Vorlage ausprobieren, indem Sie sich <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">dieses</a> Repository ansehen. <br><br>  Jetzt werden wir diese Vorlage etwas komplizieren und ein Routing- / Navigationssystem hinzufügen. <br><br><h2>  <font color="#3AC1EF">Navigationsprobleme und ihre Lösungen</font> </h2><br>  Eine Anwendung benötigt, sofern sie nicht aus einem einzigen Bildschirm besteht, eine Art Navigationssystem.  Jetzt (wir sprechen über September 2018) gibt es nur ein solches universelles Arbeitssystem, das sowohl für das Web als auch für native Anwendungen geeignet ist.  Es geht um den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">React Router</a> .  Für das Web funktioniert diese Lösung gut, aber bei React Native-Projekten ist nicht alles so klar. <br><br>  In React Router Native gibt es keine Übergänge zwischen Bildschirmen, es gibt keine Unterstützung für die Schaltfläche Zurück (für die Android-Plattform), es gibt keine modalen Bildschirme, Navigationsleisten und andere Funktionen.  Andere Navigationswerkzeuge wie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">React Navigation</a> verfügen über diese Funktionen. <br><br>  Ich habe diese spezielle Bibliothek benutzt, aber Sie können etwas anderes aufgreifen.  Daher ist in meinem Projekt React Router für die Navigation in der Webanwendung und React Navigation für die Navigation in der nativen Anwendung verantwortlich.  Dies schafft jedoch ein neues Problem.  Tatsache ist, dass die Ansätze zur Navigation und zur Übertragung von Parametern in diesen Systemen sehr unterschiedlich sind. <br><br>  Um den Geist von React Native Web zu bewahren und überall einen ähnlichen Ansatz wie in nativen Anwendungen zu verwenden, habe ich mich der Lösung dieses Problems zugewandt, indem ich Webrouten erstellt und in HOC verpackt habe.  Dies gab mir die Möglichkeit, eine API zu erstellen, die an React Navigation erinnert. <br><br>  Dieser Ansatz ermöglichte es mir, zwischen den Bildschirmen einer Webanwendung zu wechseln, sodass keine separaten Komponenten für zwei Arten von Anwendungen erstellt werden mussten. <br><br>  Der erste Schritt bei der Implementierung dieses Mechanismus besteht darin, ein Objekt mit einer Beschreibung der Routen für die Webanwendung zu erstellen: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> WebRoutesGenerator <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> "./NativeWebRouteWrapper"; //   ,    React Router     HOC const routeMap = { Home: {   screen: HomeScreen,   <span class="hljs-type"><span class="hljs-type">path</span></span>: <span class="hljs-string"><span class="hljs-string">'/'</span></span>,   exact: <span class="hljs-keyword"><span class="hljs-keyword">true</span></span> }, Menu: {   screen: MenuScreen,   <span class="hljs-type"><span class="hljs-type">path</span></span>: <span class="hljs-string"><span class="hljs-string">'/menu/sectionIndex?'</span></span> } } //  render &lt;<span class="hljs-keyword"><span class="hljs-keyword">View</span></span>&gt; {WebRoutesGenerator({ routeMap })} &lt;/<span class="hljs-keyword"><span class="hljs-keyword">View</span></span>&gt;</code> </pre> <br>  In der Tat ist hier eine Kopie der React Navigation-Erstellungsfunktion mit zusätzlichen React Router-spezifischen Funktionen. <br><br>  Als Nächstes erstelle ich mit meiner Hilfsfunktion <code>react-router</code> Routen und verpacke sie in HOC.  Auf diese Weise können Sie die <code>screen</code> klonen und ihren Eigenschaften eine <code>navigation</code> hinzufügen.  Dieser Ansatz ahmt das Verhalten von React Navigation nach und stellt Methoden wie <code>goBack()</code> , <code>getParam()</code> , <code>getParam()</code> . <br><br><h2>  <font color="#3AC1EF">Modale Bildschirme</font> </h2><br>  React Navigation ermöglicht dank <code>createStackNavigator</code> , dass eine bestimmte Seite der Anwendung in Form eines modalen Bildschirms von unten angezeigt wird.  Um dies in einer Webanwendung zu erreichen, musste ich die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">React Router Modal-</a> Bibliothek verwenden.  Um mit dem modalen Bildschirm zu arbeiten, müssen Sie dem <code>routeMap</code> Objekt zunächst die entsprechende Option <code>routeMap</code> : <br><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> routeMap = { Modal: {   screen: ModalScreen,   path: <span class="hljs-string"><span class="hljs-string">'*/modal'</span></span>,   modal: <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-comment"><span class="hljs-comment">//    ModalRoute     } }</span></span></code> </pre> <br>  Außerdem muss die <code>&lt;ModalContainer /&gt;</code> -Komponente aus der <code>&lt;ModalContainer /&gt;</code> <code>react-router-modal</code> Bibliothek zum Anwendungslayout hinzugefügt werden.  Dort wird die entsprechende Seite angezeigt. <br><br><h2>  <font color="#3AC1EF">Navigation zwischen Bildschirmen</font> </h2><br>  Dank des HOC unserer Entwicklung (vorübergehend heißt diese Komponente <code>NativeWebRouteWrapper</code> , und dies ist übrigens ein schrecklicher Name) können wir fast dieselben Funktionen wie in React Navigation verwenden, um die Bewegung zwischen Seiten in der Webversion der Anwendung zu organisieren: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { product, navigation } = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props &lt;Button onPress={navigation.navigate(<span class="hljs-string"><span class="hljs-string">'ProductScreen'</span></span>, {<span class="hljs-attr"><span class="hljs-attr">id</span></span>: product.id})} title={<span class="hljs-string"><span class="hljs-string">`Go to </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${product.name}</span></span></span><span class="hljs-string">`</span></span>} /&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onPress</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{navigation.goBack}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"Go Back"</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span></span></code> </pre> <br><h2>  <font color="#3AC1EF">Kehren Sie zum vorherigen Bildschirm zurück.</font> </h2><br>  In React Navigation können Sie zu <code>n</code> Bildschirmen zurückkehren, die sich im Navigationsstapel befinden.  Ähnlich ist in React Router nicht verfügbar, es gibt keinen Navigationsstapel.  Um dieses Problem zu lösen, müssen wir die <code>pop</code> Funktion unseres eigenen Designs in den Code importieren.  Wenn wir sie anrufen, geben wir ihr verschiedene Parameter: <br><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pop from <span class="hljs-string"><span class="hljs-string">'/NativeWebRouteWrapper/pop'</span></span> render() { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> { navigation } = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   &lt;Button     onPress={pop({screen: <span class="hljs-string"><span class="hljs-string">'FirstScreen'</span></span>, n: <span class="hljs-number"><span class="hljs-number">2</span></span>, navigation})}     title=<span class="hljs-string"><span class="hljs-string">"Go back two screens"</span></span>   /&gt; ) }</code> </pre> <br>  Wir beschreiben diese Parameter: <br><br><ul><li>  <code>screen</code> - Der Name des Bildschirms (wird von React Router in der Webversion der Anwendung verwendet). </li><li>  <code>n</code> ist die Anzahl der Bildschirme, die mithilfe des Stapels (mithilfe von React Navigation) zurückgegeben werden sollen. </li><li>  <code>navigation</code> - ein Objekt, das Navigation bietet. </li></ul><br><h2>  <font color="#3AC1EF">Arbeitsergebnisse</font> </h2><br>  Wenn Sie mit der hier vorgestellten Idee der Entwicklung universeller Anwendungen experimentieren möchten, habe ich zwei Vorlagen erstellt. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die erste</a> ist eine saubere, universelle Umgebung für die Entwicklung von Webanwendungen und nativen Anwendungen. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Die zweite</a> ist im Wesentlichen die erste Vorlage, die aufgrund meines Systems zur Organisation der Navigation in der Anwendung erweitert wurde. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Hier ist</a> eine Papu-Demo-Anwendung, die auf den obigen Überlegungen basiert.  Es ist voller Fehler und Sackgassen, aber Sie können es selbst zusammenstellen, in einem Browser und auf einem mobilen Gerät ausführen und sich in der Praxis ein Bild davon machen, wie alles funktioniert. <br><br><h2>  <font color="#3AC1EF">Zusammenfassung</font> </h2><br>  Die React-Entwickler-Community benötigt natürlich eine universelle Bibliothek für die Organisation der Anwendungsnavigation, da dies die Entwicklung von Projekten wie dem, über das wir gesprochen haben, vereinfacht.  Es wäre sehr schön, wenn die React Navigation-Bibliothek im Web funktionieren würde (tatsächlich ist diese Funktion bereits <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">verfügbar</a> , aber die Arbeit damit ist nicht ohne Schwierigkeiten). <br><br>  <b>Liebe Leser!</b>  Nutzen Sie React, um universelle Anwendungen zu erstellen? <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de428568/">https://habr.com/ru/post/de428568/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de428558/index.html">Wie ich aus meiner tiefen Faulheit einen Assistenten für WordPress erstellt habe</a></li>
<li><a href="../de428560/index.html">Außerplanmäßige Ankündigung am Freitag</a></li>
<li><a href="../de428562/index.html">Droidcon London. Wie war es</a></li>
<li><a href="../de428564/index.html">MapKit-Suche: Tipps und Tricks</a></li>
<li><a href="../de428566/index.html">JavaScript-Pfeilfunktionen: Warum werden sie benötigt, wie werden sie behandelt, wann werden sie verwendet und wann nicht?</a></li>
<li><a href="../de428570/index.html">Funktionen höherer Ordnung in JavaScript</a></li>
<li><a href="../de428572/index.html">Komponenten höherer Ordnung reagieren</a></li>
<li><a href="../de428574/index.html">Bringen Sie die Unternehmenskommunikation mit Zextras Chat auf die nächste Ebene</a></li>
<li><a href="../de428576/index.html">[Lesezeichen] PDF-Version des Node.js-Tutorials und neuer JavaScript-Anleitung</a></li>
<li><a href="../de428578/index.html">Erste Schritte mit der Suche im Ruhezustand</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>