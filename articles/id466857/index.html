<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤸 🎪 🤹🏼 Eksekusi aplikasi latar belakang di iOS 13 🕎 🏂🏿 🐵</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Acara utama tahun ini di dunia pengembang iOS dan MacOS, WWDC, selalu menyenangkan semua orang yang terlibat dalam industri dengan merilis versi baru ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Eksekusi aplikasi latar belakang di iOS 13</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466857/">  Acara utama tahun ini di dunia pengembang iOS dan MacOS, WWDC, selalu menyenangkan semua orang yang terlibat dalam industri dengan merilis versi baru dari sistem operasi, kerangka kerja, perangkat keras - secara umum, semua yang sebenarnya perlu dikerjakan. <br><br>  Tahun ini tidak menjadi pengecualian dan subjek diskusi aktif adalah versi baru iOS, SwiftUI, dan OS iPadOS untuk Anda-sendiri-mengerti-apa-perangkat. <br><br>  Namun, ada topik yang kurang dibahas, tetapi tidak kalah menarik dari ini - misalnya, hal yang bermanfaat seperti pelaksanaan latar belakang aplikasi disentuh. <br><a name="habracut"></a><br><h4>  Secara singkat tentang topik tersebut </h4><br>  Bagi mereka yang tidak mengerti apa itu eksekusi Latar Belakang, mari kita jelaskan: eksekusi di latar belakang berarti aplikasi melakukan beberapa pekerjaan dalam keadaan ketika tidak secara fisik berjalan di layar ponsel cerdas pengguna (mis., Itu tidak ada di latar depan) . <br><br><img src="https://habrastorage.org/webt/9u/w9/wu/9uw9wug0hyv-bwo3wjkgrjznwsu.png" alt="gambar"><br><br>  Gambar ini jelas menunjukkan dalam kondisi apa aplikasi dapat tetap dan bagaimana untuk berpindah dari satu ke yang lain. <br><br>  Selain itu, pengembang Apple dalam sesi ini fokus pada konsumsi sumber daya (Saya harap cukup jelas bahwa ketika bekerja di latar belakang, aplikasi terus mengkonsumsi energi).  Tapi sekarang saatnya untuk langsung ke laporan. <br><br><h4>  Apa yang terjadi di WWDC </h4><br>  Sebenarnya, para pembicara mulai dengan hal yang sama seperti yang saya lakukan - secara singkat berbicara tentang bekerja di latar belakang dan menjelaskan tugas-tugas yang akan dilakukan di sana. <br><br><img src="https://habrastorage.org/webt/o-/s7/v8/o-s7v8ntucfmwwnfonknzwbpt8a.png" alt="gambar"><br><br>  Kami bergerak lebih dekat ke pembangunan.  Ada 3 pertimbangan utama untuk Apple dalam hal kinerja latar belakang: <br><br><ul><li>  kekuatan </li><li>  kinerja </li><li>  kerahasiaan </li></ul><br>  Semuanya cukup sederhana - jika tugas aplikasi berjalan di latar belakang, eksekusi ini dapat terjadi saat aplikasi lain berjalan di latar depan.  Dengan demikian, ada batasan sumber daya yang ditempatkan pada Anda untuk memastikan bahwa sumber daya tidak dikonsumsi secara berlebihan.  Jika batas ini terlampaui, aplikasi Anda mungkin diberhentikan secara paksa oleh Apple, yang akan memperlambat waktu startup lebih lanjut.  Mengenai privasi, perusahaan sangat menyarankan agar pengembang menggunakan semua fitur API mereka untuk memberi tahu pengguna tentang data apa yang digunakan aplikasi dalam pekerjaannya (bahkan di latar belakang). <br><br>  Ngomong-ngomong, daftar API ini cukup mengesankan - mereka tidak melakukan tinjauan terpisah, tetapi saya menyarankan Anda untuk memperhatikannya. <br><br>  Ya, dan pada sesi itu sendiri, pengembang Apple menunjukkan ikhtisar singkat tentang kemungkinan menggunakan contoh aplikasi messenger (layak menonton video dari WWDC). <br><br><h4>  BackgroundTasks </h4><br>  Hampir setengah dari laporan tahun ini dikhususkan untuk kerangka kerja ini. <br><br>  2 jenis tugas yang diberikan kebaruan ini: <br><br><ul><li>  App Segarkan Tugas </li><li>  Tugas Pemrosesan Latar Belakang </li></ul><br><h4>  App Segarkan Tugas </h4><br>  BG App Refresh Task adalah jenis khusus tugas latar belakang yang dapat kita gunakan untuk memperbarui data aplikasi.  Satu hal yang membuat jenis tugas ini sangat istimewa adalah perilaku pengguna.  iOS mempelajari seberapa sering dan kapan pengguna meluncurkan aplikasi Anda, dan mencoba meluncurkan BGAppRefreshTask pada saat pengguna tidak mungkin menggunakan aplikasi tersebut. <br><br><img src="https://habrastorage.org/webt/ic/6b/9e/ic6b9e126kh0p3ygesscusklvlo.png" alt="gambar"><br><br>  Ya, itu tidak akan bekerja lebih dari 30 detik - fitur ini sangat tidak menyenangkan, yang tersisa dari versi OS sebelumnya. <br><br>  Pertimbangkan contoh kode dari Internet. <br><br><pre><code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> UIKit <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> BackgroundTasks @UIApplicationMain class AppDelegate: UIResponder, UIApplicationDelegate { func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -&gt; Bool { BGTaskScheduler.shared.register( forTaskWithIdentifier: "pl.snowdog.example.refresh", using: DispatchQueue.global() ) { task in self.handleAppRefresh(task) } return true } private func handleAppRefresh(_ task: BGTask) { let queue = OperationQueue() queue.maxConcurrentOperationCount = 1 let appRefreshOperation = AppRefreshOperation() queue.addOperation(appRefreshOperation) task.expirationHandler = { queue.cancelAllOperations() } let lastOperation = queue.operations.last lastOperation?.completionBlock = { task.setTaskCompleted(success: !(lastOperation?.isCancelled ?? false)) } scheduleAppRefresh() } }</code> </pre> <br>  Ada beberapa poin yang perlu Anda hentikan dan pertimbangkan dengan lebih baik: <br><br><ul><li>  Instal pengendali kedaluwarsa pada objek tugas (expirationHandler), karena sistem menyediakan waktu terbatas untuk menyelesaikan pekerjaan, dan jika terlampaui, Anda harus menghapus sumber daya. </li><li>  Pastikan bahwa metode setTaskCompleted telah dipanggil segera setelah operasi selesai. </li><li>  BGTaskScheduler adalah kelas utama yang digunakan untuk menjadwalkan pekerjaan latar belakang. </li></ul><br><h4>  Tugas Pemrosesan Latar Belakang </h4><br>  Jenis lain dari peretasan latar belakang adalah Tugas Pemrosesan BG.  Anda dapat menggunakannya untuk melatih model ML pada perangkat atau melakukan pembersihan dalam database.  Apple berjanji bahwa sistem ini dapat mengalokasikan hingga beberapa menit waktu untuk jenis tugas ini, yang merupakan inovasi yang sangat penting untuk pekerjaan berat yang tidak masuk ke dalam 30 detik yang menyedihkan. <br><br>  Sekali lagi sebuah contoh: <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> UIKit <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> BackgroundTasks @UIApplicationMain class AppDelegate: UIResponder, UIApplicationDelegate { func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -&gt; Bool { BGTaskScheduler.shared.register( forTaskWithIdentifier: "pl.snowdog.example.train", using: DispatchQueue.global() ) { task in self.handleMLTrain(task) } return true } private func scheduleMLTrain() { do { let request = BGProcessingTaskRequest(identifier: "pl.snowdog.example.train") request.requiresExternalPower = true request.requiresNetworkConnectivity = true try BGTaskScheduler.shared.submit(request) } catch { print(error) } } }</code> </pre> <br>  Poin-poin penting: <br><br><ul><li>  requiesExternalPower adalah nilai Boolean yang menunjukkan apakah perangkat yang terhubung ke sumber daya diperlukan untuk tugas pemrosesan. </li><li>  MembutuhkanNetworkConnectivity - Nilai Boolean yang menunjukkan apakah koneksi jaringan diperlukan untuk tugas pemrosesan. </li></ul><br><h4>  Debugging </h4><br>  Di sini juga bukan tanpa fasilitas.  Penundaan antara waktu eksekusi yang dijadwalkan dari tugas latar belakang dan saat ketika sistem memulai aplikasi untuk menyelesaikannya bisa beberapa jam.  Saat mengembangkan aplikasi, Anda dapat menggunakan dua fungsi pribadi untuk meluncurkan tugas dan memaksa penyelesaian awal sesuai dengan waktu yang dipilih.  Fitur debugging hanya berfungsi pada perangkat. <br><br><ul><li>  Peluncuran Tugas: <br><br><pre> <code class="plaintext hljs">e -l objc -- (void)[[BGTaskScheduler sharedScheduler] _simulateLaunchForTaskWithIdentifier:@"TASK_IDENTIFIER"]</code> </pre> </li><li>  Pengakhiran awal tugas secara paksa: <br><br><pre> <code class="plaintext hljs">e -l objc -- (void)[[BGTaskScheduler sharedScheduler] _simulateExpirationForTaskWithIdentifier:@"TASK_IDENTIFIER"]</code> </pre> </li></ul><br><h4>  Kesimpulannya </h4><br>  BackgroundTasks adalah cara terbaik untuk merencanakan kerja keras Anda dengan pengalaman pengguna terbaik menggunakan lingkungan Anda.  Karena sejak versi ke-13 sistem, banyak metode untuk bekerja di latar belakang menjadi usang, kerangka kerja akan tetap sangat populer dalam aplikasi.  Mengingat kemungkinan di atas, ini cukup logis. <br><br>  Saya juga merekomendasikan menonton <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">video dari WWDC</a> , contoh-contoh yang dijelaskan di sana sangat menarik. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id466857/">https://habr.com/ru/post/id466857/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id466841/index.html">Mengapa bantal pemanas, jika ada laptop: studi tentang resistensi termal di tingkat atom</a></li>
<li><a href="../id466845/index.html">Wawancara terbalik: pertanyaan apa yang harus ditanyakan perusahaan?</a></li>
<li><a href="../id466849/index.html">noexcept-ctcheck atau beberapa macro sederhana untuk membantu kompiler menulis kode noexcept</a></li>
<li><a href="../id466851/index.html">Agilex line - 10nm Intel FPGA</a></li>
<li><a href="../id466855/index.html">Menciptakan Tower Defense in Unity: Skenario dan Waves of Enemies</a></li>
<li><a href="../id466859/index.html">Menggunakan Layanan Federasi AD untuk Memberi Otorisasi Pengguna AWS dengan Distribusi Hak</a></li>
<li><a href="../id466861/index.html">Cara melarikan diri dari kenyataan menggunakan hackathon</a></li>
<li><a href="../id466863/index.html">Menyiapkan Asymptote</a></li>
<li><a href="../id466865/index.html">Menunggu tanggal 1 November: larangan atau legalisasi cryptocurrency</a></li>
<li><a href="../id466873/index.html">5 hal yang paling baru untuk JavaScript tidak mengerti</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>