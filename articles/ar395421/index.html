<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♠️ 🥠 🧒🏻 مسح عدادات القياس على قناة GSM 🔻 🤠 🔕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="المهمة: الاستجواب حسب الجدول الزمني لجهاز قياس الكهرباء باستخدام مودم GSM. 
 
 لم أختر المكواة ، لقد تم اختياري قبل ذلك ، وحصلت على إنشاء نظام اقتراع ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>مسح عدادات القياس على قناة GSM</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/395421/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">المهمة: الاستجواب حسب الجدول الزمني لجهاز قياس الكهرباء باستخدام مودم GSM. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لم أختر المكواة ، لقد تم اختياري قبل ذلك ، وحصلت على إنشاء نظام اقتراع عن بعد. لذا ، كان مصدر المعلومات حول الكهرباء المهدرة هو Diris A40 المصنعة من قبل Socomec (المشار إليها فيما يلي باسم العداد). </font></font><br>
<br>
<img src="http://savepic.ru/10209758.jpg" alt="الصورة"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يمكن للجهاز قياس الكثير من الأشياء ، لقد توقفت عن قراءة المئات من التسجيلات ، بدءًا من العنوان العشري 1792 إلى 1891. كواجهة ، كان هناك أيضًا قطعة من الحديد لم أختارها: بوابة وحدة الاتصال RS485 باستخدام بروتوكول JBUS / MODBUS®. بروتوكول يشبه مودبوس مع مرتبة الشرف في ترقيم التسجيل.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
أجهزة مودم GSM من Siemens هي MC35i (يشار إليها فيما بعد باسم أجهزة المودم). إليك هذه: هناك </font></font><br>
 <br>
<img src="http://savepic.ru/10205662.jpg" alt="الصورة"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
الكثير من المقالات حولها ، من السهل العثور على وثائق. يتم التحكم فيه من قبل فرق AT. لم تعد متاحة. تم استبداله بمحطة Cinterion MC52iT. لا يزال بإمكانك شرائه. وشملت امدادات الطاقة والهوائي. لتحويل RS232toRS485 ، تم اختيار هذا الجهاز الرخيص بشكل عام. إنها تقوم بعملها. </font></font><br>
<br>
<img src="http://savepic.ru/10194398.jpg" alt="الصورة"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
سيبدو المخطط الهيكلي للنظام المتصور كما يلي: </font></font><br>
<br>
<img src="http://savepic.ru/10197470.jpg" alt="الصورة"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
قمت بتسمية كبل كبل مباشر ، حيث تتطابق جميع المسامير مع بعضها البعض في البداية وفي النهاية. على سبيل المثال ، تم توصيل الطرف الثاني بالطرف 2. دعوت الكبل كبل متقاطع ، حيث يتم توصيل الطرف الثاني بالطرف 3 ويتصل الطرف الثالث بالطرف الثاني. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
للاستقصاء ، كان من المفترض استخدام MasterOPC Universal Modbus Server ، الذي يعيش</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">هنا</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> مجاني إذا كنت لا ترغب في استطلاع أكثر من 32 علامة (يقول البعض "علامات" ، أحب "علامات" أكثر). سحرها هو أنه يحتوي على إعدادات تسمح لك باستخدام مودم للاستقصاء. مثل اثنين في واحد. هذا هو البرنامج الوحيد الذي وجدته مع هذه الميزات. على سبيل المثال ، لم أجد مثل هذه الفرص في ibaPDA. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
فشل خادم MasterOPC العالمي Modbus. بدلاً من ذلك ، اتضح أنه نصف: عند توصيله بالمتر عن طريق الأسلاك - كل شيء على ما يرام ، عند الاتصال عبر المودم ، الحزم المستلمة لسبب ما (بالنسبة لي لا يزال هناك لغز ، من يدري - الكتابة) تبدو كالتالي: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
طلب: 13/5/2016 14 : 12: 56.408 مفكرة :: DirisA40 (adr5) :( COM5) Tx: [0008] 05 03 07 0A 00 01 A4 F8</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
الجواب: 13 2016-05 14: 12: 56.401 Notebook :: DirisA40 (adr5) :( COM5) Rx: [0013] F1 EB FF FD B7 00 05 03 02 13 86 C5 16 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
كما ترى من الإجابة ، فإن المعلومات الضرورية موجودة : 05 03 02 13 86 C5 16. من الواضح أيضًا أن هناك أيضًا شخص خارجي: F1 EB FF FD B7 00. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
من يهتم ، يمكنك استخدام المحلل اللغوي لفك تشفير الحزم. على سبيل المثال ، أستخدم CAS_Modbus_RTU_Parser. إنه مجاني ورائع. هناك أيضا محللون على الإنترنت. على سبيل المثال: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://modbus.rapidscada.net/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لم أكن أعرف كيف أتخلص من هذه "القمامة" ، لذلك كتبت برنامجًا على LabView (ربما يكون من الأصح أن أقول "رسم"). يقطع القطع غير الضرورية من الحزمة المستقبلة ثم يفك تشفير حزمة Modbus. ما هو LabView الذي يمكنك قراءته </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">هنا</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. بشكل عام ، على Habrahabr ، لدهشتي ، تم العثور على الكثير من المقالات حول LabView. والنتيجة هي واجهة: </font></font><br>
<br>
<img src="http://savepic.ru/10173918.jpg" alt="الصورة"><br>
<br>
<img src="http://savepic.ru/10170846.jpg" alt="الصورة"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
نص التعليمات على النحو التالي. ويهدف البرنامج إلى استجواب عدادات DirisA40. قبل تشغيل الملف القابل للتنفيذ ، يجب عليك تثبيت LabVIEW Run-Time Engine (مرة واحدة). يمكن أن يعمل البرنامج في وضعين: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1) الاستقصاء المباشر </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2) الاستقصاء من خلال </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
وضع </font><font style="vertical-align: inherit;">استقصاء المودم </font><font style="vertical-align: inherit;">افتراضيًا: استقصاء 100 تسجيل بدءًا من التسجيل 1792. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
تنسيق بيانات تسجيلات الكلمات. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
عنوان Modbus الافتراضي هو 5. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يبدأ الاستقصاء المباشر بالضغط على زر START.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
يتم الاستقصاء من خلال المودم وفقًا للجدول الزمني (افتراضيًا 5 دقائق). ويبدأ بعد الضغط على الزرين "START" و "حفظ". يجب ألا يقل الجدول الزمني للمسح عن دقيقة واحدة وأكثر من 60 دقيقة. في حالة الضغط ، يتم توقيع زر "START" باسم "الاستطلاع قيد التقدم". في حالة الضغط ، يتم توقيع زر "تسجيل" على أنه "تسجيل قيد التقدم".</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
تم تصميم مربع الاختيار "مراعاة عوامل التحويل" لقياس قيمة قراءة السجل وفقًا للصيغة X * Factor + Offset. يتم تسجيل قيم Factor و Offset في أعمدة نفس جدول جدول الإعداد واختيار السجلات للكتابة. تتم الكتابة في ملف نصي في نفس الدليل حيث يوجد الملف القابل للتنفيذ بالتنسيق التالي - تاريخ وقت data.txt (على سبيل المثال: 05/21/2016 22_12 data.txt). إذا تم التسجيل باستخدام مودم ، فسيبدو اسم ملف البيانات كما يلي: 06/08/2016 9_47 data__modem.txt. في المرة الأولى التي تحاول فيها كتابة ملف ، يمكنك تغيير اسم الملف. يتم التسجيل في نفس الملف حتى يتم الضغط على زر "التسجيل قيد التقدم". تتم كتابة السجلات ذات مربعات الاختيار المحددة في جدول الإعدادات إلى الملف. يمكنك تغيير حالة مربع الاختيار في جدول الإعدادات بنقرة مزدوجة.يتم عرض قيم التسجيل المستلمة في جدول الإعدادات مع عمود "القيمة". في علامة التبويب "الرسوم البيانية" ، يمكنك تكوين عرض أي قيمة تسجيل من جدول الإعدادات. يتوافق لون منحنى الرسم البياني مع لون الإطار حول العلامة المحددة. يجب تعيين العلامات التي يجب تعطيلها من الإصدار للحفظ أو أي تسجيل آخر بقيمة 0. يتم نشر واجهة الويب للجهاز _http: // computername: 8000 / DirisA40.html ولا يمكن الوصول إليها إلا من خلال المستكشف إذا تم تثبيت LabVIEW Run-Time المحركتحتاج إلى وضعه في وضع "الحفظ" أو أي سجل آخر بقيمة 0. يتم نشر واجهة الويب للجهاز _http: // computername: 8000 / DirisA40.html ولا يمكن الوصول إليها إلا من خلال المستكشف إذا تم تثبيت LabVIEW Run-Time Engine.تحتاج إلى وضعه في وضع "الحفظ" أو أي سجل آخر بقيمة 0. يتم نشر واجهة الويب للجهاز _http: // computername: 8000 / DirisA40.html ولا يمكن الوصول إليها إلا من خلال المستكشف إذا تم تثبيت LabVIEW Run-Time Engine.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
في عملية الكتابة / الرسم ، تم استخدام البرامج المساعدة التالية. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لمحاكاة تشغيل العداد ، تم استخدام البرنامج المجاني DevEmu. </font><font style="vertical-align: inherit;">تعرفت عليها من </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">مدونة أليكسي</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ، التي وصفت عملها وتطبيقها جيدًا. </font><font style="vertical-align: inherit;">الذي شكره له. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
لمحاكاة الاتصال بالعداد ، تم استخدام إصدارات تجريبية من برامج مختلفة تسمى Serial Port Splitter. </font><font style="vertical-align: inherit;">إنهم مختلفون تمامًا ، وكانت الفترة التجريبية لاثنين من مثل هذا التقسيم كافية بالنسبة لي لكتابة البرنامج أعلاه. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ملاحظة: بينما كنت أكتب هذا التأليف ، على ما يبدو زميل ، كتبت مقالًا حول نفس الموضوع: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geektimes.ru/post/277358</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar395421/">https://habr.com/ru/post/ar395421/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar395409/index.html">إطلاق مركبة الفضاء شيبرد الجديدة بنجاح وهبط للمرة الرابعة</a></li>
<li><a href="../ar395411/index.html">لم ينقر أحد على 6 روابط من أصل 10 على Twitter (إعادة تغريدها بدلاً من ذلك)</a></li>
<li><a href="../ar395415/index.html">شركة 3DO و 3DO Interactive Multiplayer (باناسونيك والمزيد)</a></li>
<li><a href="../ar395417/index.html">مقدار المعلومات التي يمكن نقلها من خلال مروحة وحدة المعالجة المركزية</a></li>
<li><a href="../ar395419/index.html">اسأل إيثان رقم 61: إلى أي مدى تصل الجاذبية؟</a></li>
<li><a href="../ar395423/index.html">القنفذ - طائر يتحدث [إذا كان مع مشغل MP3]</a></li>
<li><a href="../ar395425/index.html">أعلنت وكالة ناسا عن طائرة كهربائية X-57 Maxwell</a></li>
<li><a href="../ar395429/index.html">سيتم استخدام الحضارة V للتدريس في المدارس</a></li>
<li><a href="../ar395431/index.html">Июньские бесплатные вебинары от MediaTek Labs</a></li>
<li><a href="../ar395433/index.html">في عام 2015 ، تم تسجيل زيادة قياسية في حجم التحويلات الدولية التي يقوم بها المهاجرون</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>