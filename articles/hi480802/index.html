<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯТР ЁЯеФ ЁЯХ│я╕П рдЕрд░рд╛рдЬрдХрддрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ, рднрд╛рдЧ 3: рддрд░реАрдХреЗ рдФрд░ рдЙрдкрдХрд░рдг тЫ┤я╕П ЁЯСитАНтЭдя╕ПтАНЁЯСи ЁЯзЩЁЯП╝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╣рдо рд╡рд╣реА рджреЗрдЦрддреЗ рд╣реИрдВ рдЬреЛ рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВред рдкрд╣рд▓реЗ рд╣рдо рдЯреВрд▓реНрд╕ рдХреЛ рдЖрдХрд╛рд░ рджреЗрддреЗ рд╣реИрдВ, рдлрд┐рд░ рдЯреВрд▓реНрд╕ рд╣рдореЗрдВ рдЖрдХрд╛рд░ рджреЗрддреЗ рд╣реИрдВред 

 тАФрдорд░реНрд╢рд▓ рдореИрдХрд▓реБрд╣рд╛рди 

 рдореИрдВ рдЕрдкрдиреЗ рдЕрдЪреНрдЫреЗ рджреЛрд╕реНрдд рд░рд┐рдХрд╛рд░реНрдбреЛ рд╕реБ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдЕрд░рд╛рдЬрдХрддрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ, рднрд╛рдЧ 3: рддрд░реАрдХреЗ рдФрд░ рдЙрдкрдХрд░рдг</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/southbridge/blog/480802/"><p><img src="https://habrastorage.org/webt/bj/bo/hr/bjbohri48f3n_qtsbswegzbyw5y.jpeg"></p><br><blockquote>  рд╣рдо рд╡рд╣реА рджреЗрдЦрддреЗ рд╣реИрдВ рдЬреЛ рд╣рдо рджреЗрдЦрддреЗ рд╣реИрдВред  рдкрд╣рд▓реЗ рд╣рдо рдЯреВрд▓реНрд╕ рдХреЛ рдЖрдХрд╛рд░ рджреЗрддреЗ рд╣реИрдВ, рдлрд┐рд░ рдЯреВрд▓реНрд╕ рд╣рдореЗрдВ рдЖрдХрд╛рд░ рджреЗрддреЗ рд╣реИрдВред <br><br>  тАФрдорд░реНрд╢рд▓ рдореИрдХрд▓реБрд╣рд╛рди </blockquote><p>  <em>рдореИрдВ рдЕрдкрдиреЗ рдЕрдЪреНрдЫреЗ рджреЛрд╕реНрдд <a href="https://medium.com/%40094459">рд░рд┐рдХрд╛рд░реНрдбреЛ рд╕реБрдПрд░рд╛рд╕</a> рдХреА рдЙрдирдХреА рд╕рдореАрдХреНрд╖рд╛, рдпреЛрдЧрджрд╛рди рдФрд░ рдореБрдЭреЗ рдЗрд╕ рд▓реЗрдЦ рдХреЛ рдЕрдзреВрд░рд╛ рди рдЫреЛрдбрд╝рдиреЗ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдИрдорд╛рдирджрд╛рд░реА рд╕реЗ рдзрдиреНрдпрд╡рд╛рдж рдФрд░ рдЖрднрд╛рд░ рд╡реНрдпрдХреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реВрдВред</em>  <em>рд░рд┐рдХрд╛рд░реНрдбреЛ, рддреБрдо рд╕рд┐рд░реНрдл рдПрдХ рдХрд┐рдВрд╡рджрдВрддреА рд╣реЛ!</em> </p><br><p>  рдпрд╣ рдпрд╛рдж рд░рдЦрдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ рдХрд┐ рдЕрд░рд╛рдЬрдХрддрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдирд╣реАрдВ рд╣реИ рдЬрдм рдЖрдк рдмрдВрджрд░реЛрдВ рдХреЛ рдЫреЛрдбрд╝рддреЗ рд╣реИрдВ рдФрд░ рдЕрдВрдзрд╛рдзреБрдВрдз рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдореЗрдВ рдкреНрд░рд╡реЗрд╢ рдХрд░рддреЗ рд╣реИрдВред  рдХреИрдУрд╕ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдПрдХ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд, <a href="https://en.wikipedia.org/wiki/Scientific_method">рдФрдкрдЪрд╛рд░рд┐рдХ</a> рдкреНрд░рдпреЛрдЧ <a href="https://en.wikipedia.org/wiki/Scientific_method">рддрдХрдиреАрдХ рд╣реИ</a> ред </p><a name="habracut"></a><br><blockquote>  "рдЕрд░рд╛рдЬрдХрддрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдореЗрдВ рдЕрд╡рд▓реЛрдХрди рдХреА рд╡рд╕реНрддреБ рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ рд╕рд╛рд╡рдзрд╛рди рдЕрд╡рд▓реЛрдХрди, рдЧрдВрднреАрд░ рд╕рдВрджреЗрд╣ рд╢рд╛рдорд┐рд▓ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╕рдВрдЬреНрдЮрд╛рдирд╛рддреНрдордХ рдзрд╛рд░рдгрд╛рдПрдВ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреА рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреЛ рд╡рд┐рдХреГрдд рдХрд░рддреА рд╣реИрдВред рдЗрд╕ рддрдХрдиреАрдХ рдореЗрдВ рд╕рдорд╛рди рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдкреНрд░реЗрд░рдг рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкреНрд░реЗрд░рдг рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдкрд░рд┐рдХрд▓реНрдкрдирд╛ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рд╢рд╛рдорд┐рд▓ рд╣реИ; рдЗрд╕реА рддрд░рд╣ рдХреА рдкрд░рд┐рдХрд▓реНрдкрдирд╛ рд╕реЗ рдХрд┐рдП рдЧрдП рдирд┐рд╖реНрдХрд░реНрд╖реЛрдВ рдХреЗ рдкреНрд░рдпреЛрдЧрд╛рддреНрдордХ рдФрд░ рдорд╛рдк-рдЖрдзрд╛рд░рд┐рдд рдкрд░реАрдХреНрд╖рдг; рд╕рдорд╛рдпреЛрдЬрди рдпрд╛ рдкреНрд░рдпреЛрдЧрд╛рддреНрдордХ рдкрд░рд┐рдгрд╛рдореЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдкрд░рд┐рдХрд▓реНрдкрдирд╛ рдХреА рдЕрд╕реНрд╡реАрдХреГрддрд┐ " <br><br>  -Wikipedia </blockquote><p>  рдЕрд░рд╛рдЬрдХрддрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдЙрд╕ рдкреНрд░рдгрд╛рд▓реА рдХреА рд╕реНрдерд┐рд░ рд╕реНрдерд┐рддрд┐ рдХреЛ рд╕рдордЭрдиреЗ рд╕реЗ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ рдЬреЛ рдЖрдк рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдлрд┐рд░ рдПрдХ рдкрд░рд┐рдХрд▓реНрдкрдирд╛ рддреИрдпрд╛рд░ рдХрд░рдирд╛, рдФрд░ рдЕрдВрдд рдореЗрдВ рдПрдХ рдкреНрд░рдпреЛрдЧ рдЬреЛ рдЗрд╕рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рддрд╛ рд╣реИ, рд╕рд┐рд╕реНрдЯрдо рдХреА рд╕реБрд░рдХреНрд╖рд╛ рдХреЗ рдорд╛рд░реНрдЬрд┐рди рдХреЛ рдмрдврд╝рд╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/gq/yq/jc/gqyqjcysfguozpispkjletc21ik.png"><br>  <em>рдЕрд░рд╛рдЬрдХрддрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдЪрд░рдг</em> </p><br><p>  <a href="https://medium.com/%40adhorn/chaos-engineering-ab0cc9fbd12a">рд▓реЗрдЦреЛрдВ рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЗ рдкрд╣рд▓реЗ рднрд╛рдЧ рдореЗрдВ,</a> рдореИрдВрдиреЗ рдЕрд░рд╛рдЬрдХрддрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдХреА рд╢реБрд░реБрдЖрдд рдХреА рдФрд░ рдКрдкрд░ рд╡рд░реНрдгрд┐рдд рдХрд╛рд░реНрдпрдкреНрд░рдгрд╛рд▓реА рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рдЪрд░рдг рдкрд░ рдЪрд░реНрдЪрд╛ рдХреАред </p><br><p>  <a href="https://medium.com/%40adhorn/chaos-engineering-part-2-b9c78a9f3dde">рджреВрд╕рд░реЗ рднрд╛рдЧ рдореЗрдВ</a> , рдореИрдВрдиреЗ рдЙрди рдХреНрд╖реЗрддреНрд░реЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХреА, рдЬрд┐рдирдореЗрдВ рдЕрд░рд╛рдЬрдХрддрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдкрд░ рдкреНрд░рдпреЛрдЧ рдбрд┐рдЬрд╛рдЗрди рдХрд░рддреЗ рд╕рдордп рдЖрдкрдХреЛ рдирд┐рд╡реЗрд╢ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдФрд░ рд╕рд╣реА рдкрд░рд┐рдХрд▓реНрдкрдирд╛ рдХреИрд╕реЗ рдЪреБрдирдиреА рд╣реИред </p><br><p>  рдЗрд╕ рддреАрд╕рд░реЗ рднрд╛рдЧ рдореЗрдВ, рдореИрдВ рд╕реНрд╡рдпрдВ рдкреНрд░рдпреЛрдЧ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░реВрдВрдЧрд╛ рдФрд░ рдЙрди рдЙрдкрдХрд░рдгреЛрдВ рдФрд░ рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рдЪрдпрди рдкреНрд░рд╕реНрддреБрдд рдХрд░реВрдВрдЧрд╛ рдЬреЛ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреА рдПрдХ рд╡рд┐рд╕реНрддреГрдд рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреЛ рдХрд╡рд░ рдХрд░рддреЗ рд╣реИрдВред </p><br><p>  рд╕реВрдЪреА рд╕рдВрдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдФрд░ рд╡рд┐рдЪрд╛рд░ рдХреЗ рд▓рд┐рдП рднреЛрдЬрди рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП, рдпрд╣ рдкрд░реНрдпрд╛рдкреНрдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><h2 id="vvedenie-otkaza---chto-eto-i-dlya-chego-nuzhno">  рд╡рд┐рдлрд▓рддрд╛ рдХрд╛ рдкрд░рд┐рдЪрдп - рдпрд╣ рдХреНрдпрд╛ рд╣реИ рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рдХреНрдпрд╛ рд╣реИ? </h2><br><p>  рд╡рд┐рдлрд▓рддрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдпрд╣ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдХрд┐ рд╕рд┐рд╕реНрдЯрдо рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рд╛рдорд╛рдиреНрдп рд▓реЛрдб рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЗ рддрд╣рдд рд╡рд┐рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░рддреА рд╣реИред  рдкрд╣рд▓реА рдмрд╛рд░ рдЗрд╕ рддрдХрдиреАрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рддрдм рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ рдЬрдм <a href="https://ieeexplore.ieee.org/document/780999/">рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЛ "рд▓реЛрд╣реЗ"</a> рд╕реНрддрд░ рдкрд░ - рд╕рдВрдкрд░реНрдХреЛрдВ рдХреЗ рд╕реНрддрд░ рдкрд░, рдЙрдкрдХрд░рдгреЛрдВ рдкрд░ рд╡рд┐рджреНрдпреБрдд рд╕рдВрдХреЗрддреЛрдВ рдХреЛ рдмрджрд▓рдХрд░ рдкреЗрд╢ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </p><br><p>  рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдореЗрдВ, рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреА рд╢реБрд░реВрдЖрдд рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рд╕рд┐рд╕реНрдЯрдо рдХреА рд╕реНрдерд┐рд░рддрд╛ рдореЗрдВ рд╕реБрдзрд╛рд░ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддреА рд╣реИ рдФрд░ рдЖрдкрдХреЛ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рд╕рдВрднрд╛рд╡рд┐рдд рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЗ рдкреНрд░рддрд┐рд░реЛрдз рдореЗрдВ рдХрдорд┐рдпреЛрдВ рдХреЛ рдареАрдХ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред  рдЗрд╕реЗ рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рд╡рд┐рдлрд▓рддрд╛ рд╕реЗ рдиреБрдХрд╕рд╛рди рдХрд╛ рдЖрдХрд▓рди рдХрд░рдиреЗ рдореЗрдВ рднреА рдорджрдж рдХрд░рддрд╛ рд╣реИ - рдЕрд░реНрдерд╛рддред  рдЙрддреНрдкрд╛рджрди рдХреЗ рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рд╡рд┐рдлрд▓рддрд╛ рд╣реЛрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рд╣реА рдиреБрдХрд╕рд╛рди рдХреА рддреНрд░рд┐рдЬреНрдпрд╛ред  рдЗрд╕реЗ рдлреЙрд▓реНрдЯ рдкреНрд░реАрдбрд┐рдХреНрд╢рди рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреА рд╢реБрд░реВрдЖрдд рдХреЗ рдХрдИ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд▓рд╛рдн рд╣реИрдВ, рдорджрдж рдХрд░рдирд╛: </p><br><ul><li>  рджреБрд░реНрдШрдЯрдирд╛рдУрдВ рдФрд░ рдШрдЯрдирд╛рдУрдВ рдХреА рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рд╕рдордЭреЗрдВ рдФрд░ рдЙрдирдХрд╛ рдЕрднреНрдпрд╛рд╕ рдХрд░реЗрдВред </li><li>  рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЗ рдкреНрд░рднрд╛рд╡ рдХреЛ рд╕рдордЭреЗрдВред </li><li>  рдкреНрд░рднрд╛рд╡рд╢реАрд▓рддрд╛ рдФрд░ рджреЛрд╖ рд╕рд╣рд┐рд╖реНрдгреБрддрд╛ рддрдВрддреНрд░ рдХреА рд╕реАрдорд╛рдУрдВ рдХреЛ рд╕рдордЭреЗрдВред </li><li>  рдбрд┐рдЬрд╝рд╛рдЗрди рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░реЗрдВ рдФрд░ рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рд╕рд╛рдорд╛рдиреНрдп рдмрд┐рдВрджреБрдУрдВ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдПрдВред </li><li>  рд╕рдордЭрдиреЗ рдФрд░ рдкреНрд░рдгрд╛рд▓реА рдХреА рдирд┐рдЧрд░рд╛рдиреА рдореЗрдВ рд╕реБрдзрд╛рд░ред </li><li>  рд╡рд┐рдлрд▓рддрд╛ рдХреА рддреНрд░рд┐рдЬреНрдпрд╛ рдХреЛ рд╕рдордЭреЗрдВ рдФрд░ рдЗрд╕реЗ рдХрдо рдХрд░реЗрдВред </li><li>  рд╕рд┐рд╕реНрдЯрдо рдШрдЯрдХреЛрдВ рдХреЗ рдмреАрдЪ рддреНрд░реБрдЯрд┐ рдХреЗ рдкреНрд░рд╕рд╛рд░ рдХреЛ рд╕рдордЭреЗрдВред </li></ul><br><h3 id="kategorii-vvedeniya-otkazov">  рд╡рд┐рдлрд▓рддрд╛ рд╢реНрд░реЗрдгрд┐рдпрд╛рдБ </h3><br><p>  рд╡рд┐рдлрд▓рддрд╛ рдХреА рд╢реБрд░реВрдЖрдд рдХреА 5 рд╢реНрд░реЗрдгрд┐рдпрд╛рдВ рд╣реИрдВ: (1) рд╕рдВрд╕рд╛рдзрди рдХреЗ рд╕реНрддрд░ рдкрд░;  (2) рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рдирд┐рд░реНрднрд░рддрд╛;  (3) рдЖрд╡реЗрджрди, рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдФрд░ рд╕реЗрд╡рд╛;  (4) рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдБрдЪрд╛;  рдФрд░ (5) рдорд╛рдирд╡ рд╕реНрддрд░ **ред </p><br><p>  рдЕрдЧрд▓рд╛, рдореИрдВ рдкреНрд░рддреНрдпреЗрдХ рд╢реНрд░реЗрдгреА рдХреА рдЬрд╛рдВрдЪ рдХрд░реВрдВрдЧрд╛ рдФрд░ рдЙрдирдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдХреЗ рд▓рд┐рдП рдЕрд╕рдлрд▓рддрд╛рдУрдВ рдХреЛ рдкреЗрд╢ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рджреВрдВрдЧрд╛ред  рдореИрдВ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдФрд░ рд╕рднреА рдореЗрдВ рдПрдХ рдЖрд░реНрдХреЗрд╕реНрдЯреНрд░рд╛ рд╕рд╛рдзрдиреЛрдВ рдХреЛ рдкреЗрд╢ рдХрд░рдиреЗ рдХреЗ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдкрд░ рднреА рд╡рд┐рдЪрд╛рд░ рдХрд░реВрдВрдЧрд╛ред </p><br><blockquote>  ** рдорд╣рддреНрд╡рдкреВрд░реНрдг!  рдЗрд╕ рдкреЛрд╕реНрдЯ рдореЗрдВ рдореИрдВ рдорд╛рдирд╡реАрдп рд╕реНрддрд░ рдкрд░ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЗ рдкрд░рд┐рдЪрдп рдХреЛ рдирд╣реАрдВ рдЫреВрддрд╛ рд╣реВрдВ, рд▓реЗрдХрд┐рди рдореИрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдореЗрдВ рдЗрд╕ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реВрдВрдЧрд╛ред </blockquote><br><h2 id="1---vvedenie-otkaza-na-urovne-resursa-aka-nehvatka-resursov">  1 - рд╕рдВрд╕рд╛рдзрди рд╕реНрддрд░ рдкрд░ рд╡рд┐рдлрд▓рддрд╛ рдХрд╛ рдкрд░рд┐рдЪрдп, рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреА рдХрдореА рдЙрд░реНрдлред </h2><br><p>  рд╣рд╛рдВ, рдХреНрд▓рд╛рдЙрдб рдкреНрд░реМрджреНрдпреЛрдЧрд┐рдХрд┐рдпреЛрдВ рдиреЗ рд╣рдореЗрдВ рд╕рд┐рдЦрд╛рдпрд╛ рд╣реИ рдХрд┐ рд╕рдВрд╕рд╛рдзрди рд▓рдЧрднрдЧ рдЕрд╕реАрдорд┐рдд рд╣реИрдВ, рд▓реЗрдХрд┐рди рдореИрдВ рдЖрдкрдХреЛ рдирд┐рд░рд╛рд╢ рдХрд░рдиреЗ рдХреА рдЬрд▓реНрджрдмрд╛рдЬреА рдХрд░рддрд╛ рд╣реВрдВ: рд╡реЗ рдЕрдирдВрдд рдирд╣реАрдВ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг, рдХрдВрдЯреЗрдирд░, рдлрд╝рдВрдХреНрд╢рди, рдЖрджрд┐ред  - рдЕрдореВрд░реНрддрддрд╛ рдХреА рдкрд░рд╡рд╛рд╣ рдХрд┐рдП рдмрд┐рдирд╛, рд╕рдВрд╕рд╛рдзрди рдЕрдВрддрддрдГ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВред  рдЕрдиреБрдореЗрдп рд╕реЗ рдкрд░реЗ рдЬрд╛рдХрд░ рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреА рдЕрдзрд┐рдХрддрдо рдердХрд╛рд╡рдЯ рдХреЛ рдердХрд╛рд╡рдЯ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/ri/54/nn/ri54nnmprlvjvug3f395w6ohofk.png"></p><br><p>  рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреА рдХрдореА <a href="https://en.wikipedia.org/wiki/Denial-of-service_attack">рд╕реЗрд╡рд╛</a> рд╣рдорд▓реЗ рдХреЗ рдПрдХ <a href="https://en.wikipedia.org/wiki/Denial-of-service_attack">рдЦрдВрдбрди рдХрд╛</a> рдЕрдиреБрдХрд░рдг рдХрд░рддреА рд╣реИ, рд▓реЗрдХрд┐рди рд╕рд╛рдорд╛рдиреНрдп рд╕рд░реНрд╡рд░ рдкрд░ рдШреБрд╕рдкреИрда рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВред  рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХрд╛ рдпрд╣ рдкрд░рд┐рдЪрдп рд╢рд╛рдпрдж рд╡реНрдпрд╛рдкрдХ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐, рд╢рд╛рдпрдж, рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдореБрд╢реНрдХрд┐рд▓ рдирд╣реАрдВ рд╣реИред </p><br><h3 id="istoschaya-resursy-cpu-pamyati-i-vvodavyvoda">  CPU, рдореЗрдореЛрд░реА рдФрд░ I / O рд╕рдВрд╕рд╛рдзрдиреЛрдВ рдХреЛ рд╣рдЯрд╛рдирд╛ </h3><br><p>  рдореЗрд░рд╛ рдПрдХ рдкрд╕рдВрджреАрджрд╛ рдЙрдкрдХрд░рдг <a href="https://www.mankier.com/1/stress-ng">рддрдирд╛рд╡-рдПрдирдЬреА рд╣реИ,</a> рдореВрд▓ <a href="https://directory.fsf.org/wiki/Stress">рддрдирд╛рд╡ рдкрд░реАрдХреНрд╖рдг рдЙрдкрдХрд░рдг</a> <a href="https://www.mankier.com/1/stress-ng">рдХрд╛</a> рдкрддреНрд░рд╛рдЪрд╛рд░ <a href="https://directory.fsf.org/wiki/Stress">, рдЬрд┐рд╕реЗ рдЕрдореЛрд╕ рд╡реЙрдЯрд░рд▓реИрдВрдб рдиреЗ рд▓рд┐рдЦрд╛ рд╣реИ</a> ред </p><br><p>  рддрдирд╛рд╡-рдПрдирдЬреА рдХреЗ рд╕рд╛рде, рдХрдВрдкреНрдпреВрдЯрд░ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рднреМрддрд┐рдХ рдЙрдкрддрдВрддреНрд░реЛрдВ рдХреЛ рд▓реЛрдб рдХрд░рдХреЗ рджреЛрд╖реЛрдВ рдХреЛ рджрд░реНрдЬ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рддрдирд╛рд╡ рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╕рд┐рд╕реНрдЯрдо рдХреЛрд░ рдХреЗ рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрдирд╛рд╡ рдкрд░реАрдХреНрд╖рдг рдЙрдкрд▓рдмреНрдз рд╣реИрдВ: рд╕реАрдкреАрдпреВ, рд╕реАрдкреАрдпреВ рдХреИрд╢, рдбрд┐рд╡рд╛рдЗрд╕, рдЖрдИ / рдУ, рдЗрдВрдЯрд░рдкреНрдЯ, рдлрд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо, рдореЗрдореЛрд░реА, рдиреЗрдЯрд╡рд░реНрдХ, рдУрдПрд╕, рдкрд╛рдЗрдкрд▓рд╛рдЗрди, рдЕрдиреБрд╕реВрдЪрдХ рдФрд░ рд╡реАрдПрдоред  <a href="https://www.mankier.com/1/stress-ng">рдореИрди рдкреЗрдЬ</a> рдореЗрдВ рд╕рднреА рдЙрдкрд▓рдмреНрдз рддрдирд╛рд╡ рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХрд╛ рдкреВрд░рд╛ рд╡рд┐рд╡рд░рдг рд╢рд╛рдорд┐рд▓ рд╣реИ, рдФрд░ рдЙрдирдореЗрдВ рд╕реЗ рдХреЗрд╡рд▓ 220 рд╣реИрдВ! </p><br><p>  рдиреАрдЪреЗ рддрдирд╛рд╡-рдПрдирдЬреА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдХреБрдЫ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рдЙрджрд╛рд╣рд░рдг рджрд┐рдП рдЧрдП рд╣реИрдВ: </p><br><p> рд╕реАрдкреАрдпреВ <code>matrixprod</code> рдкрд░ рд▓реЛрдб рдореЗрдореЛрд░реА, рдХреИрд╢ рдФрд░ рдлреНрд▓реЛрдЯрд┐рдВрдЧ рдкреЙрдЗрдВрдЯ рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд▓рди рдХрд╛ рд╕рд╣реА рдорд┐рд╢реНрд░рдг рджреЗрддрд╛ рд╣реИред  рдпрд╣, рд╢рд╛рдпрджред  рд╕реАрдкреАрдпреВ рдХреЛ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдЧрд░реНрдо рдХрд░рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЕрдЪреНрдЫрд╛ рддрд░реАрдХрд╛ рд╣реИред </p><br><pre> <code class="plaintext hljs">тЭп stress-ng тАФ-cpu 0 --cpu-method matrixprod -t 60s</code> </pre> <br><p>  <code>iomix-bytes</code> рд▓реЛрдб рдкреНрд░рддреНрдпреЗрдХ <code>iomix</code> рд╣реИрдВрдбрд▓рд░ <code>iomix</code> рд▓рд┐рдП рдПрди-рдмрд╛рдЗрдЯреНрд╕ рд▓рд┐рдЦрддрд╛ <code>iomix</code> ;  рдбрд┐рдлрд╝реЙрд▓реНрдЯ 1 GB рд╣реИ рдФрд░ I / O рддрдирд╛рд╡ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрджрд░реНрд╢ рд╣реИред  рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рдореИрдВ рдлрд╝рд╛рдЗрд▓ рд╕рд┐рд╕реНрдЯрдо рдкрд░ 80% рдЦрд╛рд▓реА рд╕реНрдерд╛рди рд╕реЗрдЯ рдХрд░реВрдБрдЧрд╛ред </p><br><pre> <code class="plaintext hljs">тЭп stress-ng --iomix 1 --iomix-bytes 80% -t 60s</code> </pre> <br><p>  <code>vm-bytes</code> рдореЗрдореЛрд░реА рд╕реНрдЯреНрд░реЗрд╕ рдЯреЗрд╕реНрдЯ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реИред  рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рддрдирд╛рд╡-рдПрдирдЬреА рд╡рд░реНрдЪреБрдЕрд▓ рдореЗрдореЛрд░реА рдХреЗ 9 рддрдирд╛рд╡ рдкрд░реАрдХреНрд╖рдг рдЪрд▓рд╛рддрд╛ рд╣реИ, рдЬреЛ рдПрдХ рд╕рд╛рде рдкреНрд░рддрд┐ рдШрдВрдЯреЗ рдЙрдкрд▓рдмреНрдз рдореЗрдореЛрд░реА рдХрд╛ 90% рдЙрдкрднреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдкреНрд░рддреНрдпреЗрдХ рддрдирд╛рд╡ рдкрд░реАрдХреНрд╖рдг рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╕реНрдореГрддрд┐ рдХрд╛ 10% рд╣рд┐рд╕реНрд╕рд╛ рд╣реЛрддрд╛ рд╣реИред </p><br><pre> <code class="plaintext hljs">тЭп stress-ng --vm 9 --vm-bytes 90% -t 60s</code> </pre> <br><h3 id="nehvatka-diskovogo-prostranstva-na-zhestkih-diskah">  рд╣рд╛рд░реНрдб рдбреНрд░рд╛рдЗрд╡ рдкрд░ рдбрд┐рд╕реНрдХ рд╕реНрдерд╛рди рд╕реЗ рдмрд╛рд╣рд░ </h3><br><p>  <code>dd</code> рдлрд╝рд╛рдЗрд▓реЛрдВ рдХреЛ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдФрд░ рдХреЙрдкреА рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдВрдХрд▓рд┐рдд рдПрдХ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдЙрдкрдпреЛрдЧрд┐рддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдБрдХрд┐, <code>dd</code> рд╣рд╛рд░реНрдб рдбрд┐рд╕реНрдХ рдХреЗ рдмреВрдЯ рд╕реЗрдХреНрдЯрд░ рдХрд╛ рдмреИрдХрдЕрдк рд▓реЗрдиреЗ рдФрд░ рд░реИрдВрдбрдо рдбреЗрдЯрд╛ рдХреА рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд░рд╛рд╢рд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдЬреИрд╕реЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд▓рд┐рдП <code>/dev/zero</code> рдФрд░ <code>/dev/random</code> рдЬреИрд╕реЗ рд╡рд┐рд╢реЗрд╖ рдЙрдкрдХрд░рдгреЛрдВ рдХреА рдлрд╛рдЗрд▓реЛрдВ рд╕реЗ рдкрдврд╝ рдФрд░ / рдпрд╛ рд▓рд┐рдЦ тАЛтАЛрд╕рдХрддрд╛ рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕рд░реНрд╡рд░ рдкрд░ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЛ рдкреЗрд╢ рдХрд░рдиреЗ рдФрд░ рдбрд┐рд╕реНрдХ рдУрд╡рд░рдлреНрд▓реЛ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдХреНрдпрд╛ рдЖрдкрдХреА рд▓реЙрдЧ рдлрд╝рд╛рдЗрд▓реЛрдВ рдиреЗ рд╕рд░реНрд╡рд░ рдХреЛ рдУрд╡рд░рдлреНрд▓реЛ рдХрд┐рдпрд╛ рдФрд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЫреЛрдбрд╝ рджрд┐рдпрд╛?  рддреЛ, <code>dd</code> рдорджрдж рдХрд░реЗрдЧрд╛ - рдФрд░ рдпрд╣ рдЪреЛрдЯ рд▓рдЧреА рд╣реЛрдЧреА! </p><br><p>  <strong><code>dd</code> рдЙрдкрдпреЛрдЧ рдмрд╣реБрдд рд╕рд╛рд╡рдзрд╛рдиреА рд╕реЗ рдХрд░реЗрдВред</strong>  <strong>рдЧрд▓рдд рдХрдорд╛рдВрдб рджрд░реНрдЬ рдХрд░реЗрдВ - рдФрд░ рд╣рд╛рд░реНрдб рдкрд░ рдбреЗрдЯрд╛ рдорд┐рдЯ рдЬрд╛рдПрдЧрд╛, рдирд╖реНрдЯ рд╣реЛ рдЬрд╛рдПрдЧрд╛ рдпрд╛ рдУрд╡рд░рд░рд╛рдЗрдЯ рд╣реЛ рдЬрд╛рдПрдЧрд╛!</strong> </p><br><pre> <code class="plaintext hljs">тЭп dd if=/dev/urandom of=/burn bs=1M count=65536 iflag=fullblock &amp;</code> </pre> <br><h3 id="podtormazhivanie-api-prilozheniy">  рдПрдкреНрд▓рд┐рдХреЗрд╢рди API рд╕реНтАНрд▓реЛрдбрд╛рдЙрди </h3><br><p>  рдПрдкреАрдЖрдИ рдХреЗ рдкреНрд░рджрд░реНрд╢рди, рд▓рдЪреАрд▓рд╛рдкрди рдФрд░ рдорд╛рдкрдиреАрдпрддрд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИрдВред  рдПрдкреАрдЖрдИ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдФрд░ рдЖрдкрдХреЗ рд╡реНрдпрд╡рд╕рд╛рдп рдХреЛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИрдВред </p><br><p>  рд▓реЛрдб рдкрд░реАрдХреНрд╖рдг рдЙрддреНрдкрд╛рджрди рдореЗрдВ рдЬрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЕрдкрдиреЗ рдЖрд╡реЗрджрди рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХрд╛ рдПрдХ рд╢рд╛рдирджрд╛рд░ рддрд░реАрдХрд╛ рд╣реИред  рдпрд╣ рднреА рддрдирд╛рд╡ рд▓реЛрдб рдХрд░рдиреЗ рдХреА рдПрдХ рд╢рд╛рдВрдд рд╡рд┐рдзрд┐ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЕрдХреНрд╕рд░ рдЕрдкрд╡рд╛рджреЛрдВ рдФрд░ рд╕реАрдорд╛рдУрдВ рдХреЛ рдкреНрд░рдХрдЯ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдЕрдиреНрдп рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ, рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЗ рд╕рд╛рде рдорд┐рд▓рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЕрджреГрд╢реНрдп рдмрдиреЗ рд░рд╣реЗрдВрдЧреЗред </p><br><p>  <a href="https://github.com/wg/wrk"><code>wrk</code></a> рдПрдХ HTTP рдмреЗрдВрдЪрдорд╛рд░реНрдХрд┐рдВрдЧ рдЯреВрд▓ рд╣реИ рдЬреЛ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╕реНрдЯреНрд░реЗрди рдбрд╛рд▓рддрд╛ рд╣реИред  рдореБрдЭреЗ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдПрдкреАрдЖрдИ рдПрдХреНрд╕реЗрд╕ рдЪреЗрдХ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдирд╛ рдкрд╕рдВрдж рд╣реИ, рдЦрд╛рд╕рдХрд░ рдЬрдм рдпрд╣ <a href="https://medium.com/%40adhorn/patterns-for-resilient-architecture-part-3-16e8601c488e">рдкреНрд░рджрд░реНрд╢рди рдЪреЗрдХ рдХреА</a> рдмрд╛рдд рдЖрддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рд╡реЗ рдбреЗрд╡рд▓рдкрд░ рдХреЛрдб рд╕реНрддрд░ рдкрд░ рдбрд┐рдЬрд╛рдЗрди рдирд┐рд░реНрдгрдпреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╣реБрдд рд╕рд╛рд░реА рдЪреАрдЬреЗрдВ рдкреНрд░рдХрдЯ рдХрд░рддреЗ рд╣реИрдВ: рдХреИрд╢ рдХреИрд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ?  рдЧрддрд┐ рд╕реАрдорд╛ рдХреИрд╕реЗ рд▓рд╛рдЧреВ рдХреА рдЬрд╛рддреА рд╣реИ?  рдХреНрдпрд╛ рд╕рд┐рд╕реНрдЯрдо рд▓реЛрдб рдмреИрд▓реЗрдиреНрд╕рд░ рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ рд╕реНрд╡рд╛рд╕реНрдереНрдп рдЬрд╛рдВрдЪ рдХреЛ рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рджреЗрддрд╛ рд╣реИ? </p><br><p>  рдпрд╣рд╛рдВ рд╕реЗ рд╢реБрд░реВ рдХрд░рдирд╛ рд╣реИ: </p><br><pre> <code class="plaintext hljs">тЭп wrk -t12 -c400 -d20s http://127.0.0.1/api/health</code> </pre> <br><p>  рдпрд╣ рдХрдорд╛рдВрдб 12 рдереНрд░реЗрдб рд╢реБрд░реВ рдХрд░рддрд╛ рд╣реИ рдФрд░ 400 HTTP рдХрдиреЗрдХреНрд╢рди 20 рд╕реЗрдХрдВрдб рдХреЗ рд▓рд┐рдП рдЦреБрд▓рд╛ рд░рдЦрддрд╛ рд╣реИред </p><br><h2 id="2---vvedenie-otkazov-na-urovne-seti-i-zavisimostey">  2 - рдиреЗрдЯрд╡рд░реНрдХ-рд╕реНрддрд░реАрдп рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдФрд░ рдирд┐рд░реНрднрд░рддрд╛ рдХрд╛ рдкрд░рд┐рдЪрдп </h2><br><p>  <a href="http://wiki.c2.com/%3FPeterDeutsch">рдкреАрдЯрд░ рдбрд┐рдЯрд░ рдХреА</a> рдкреБрд╕реНрддрдХ, <a href="http://eightfallaciesofdistributedcomputing/">рдж рдЖрда рдлрд╛рд▓рд┐рдЬ рдСрдл рдбрд┐рд╕реНрдЯреНрд░рд┐рдмреНрдпреВрдЯреЗрдб рдХрдореНрдкреНрдпреВрдЯрд┐рдВрдЧ,</a> рдЙрди рдорд╛рдиреНрдпрддрд╛рдУрдВ рдХрд╛ рдПрдХ рд╕рдВрдЧреНрд░рд╣ рд╣реИ рдЬреЛ рдбреЗрд╡рд▓рдкрд░реНрд╕ рд╡рд┐рддрд░рд┐рдд рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдбрд┐рдЬрд╛рдЗрди рдХрд░рддреЗ рд╕рдордп рдмрдирд╛рддреЗ рд╣реИрдВред  рдФрд░ рдлрд┐рд░ рдЬрд╡рд╛рдм рджреБрд░реНрдЧрдорддрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдбрд╝рддрд╛ рд╣реИ, рдФрд░ рдЖрдкрдХреЛ рд╕рдм рдХреБрдЫ рдлрд┐рд░ рд╕реЗ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдпреЗ рдЧрд▓рдд рдзрд╛рд░рдгрд╛рдПрдВ рд╣реИрдВ: </p><br><ul><li>  рдиреЗрдЯрд╡рд░реНрдХ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд╣реИред </li><li>  рджреЗрд░реА 0 рд╣реИред </li><li>  рдмреИрдВрдбрд╡рд┐рдбреНрде рдЕрдВрддрд╣реАрди рд╣реИред </li><li>  рдиреЗрдЯрд╡рд░реНрдХ рд╕реБрд░рдХреНрд╖рд┐рдд рд╣реИред </li><li>  рдЯреЛрдкреЛрд▓реЙрдЬреА рдирд╣реАрдВ рдмрджрд▓рддреА рд╣реИред </li><li>  рдХреЗрд╡рд▓ рдПрдХ рд╡реНрдпрд╡рд╕реНрдерд╛рдкрдХ рд╣реИред </li><li>  рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рд▓рд╛рдЧрдд 0ред </li><li>  рдиреЗрдЯрд╡рд░реНрдХ рд╕рдЬрд╛рддреАрдп рд╣реИред </li></ul><br><p>  рдпрд╣ рд╕реВрдЪреА рд╡рд┐рдлрд▓рддрд╛ рдХреЛ рдЪреБрдирдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрдЪреНрдЫрд╛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдмрд┐рдВрджреБ рд╣реИ рдпрджрд┐ рдЖрдк рдпрд╣ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реАрдХреНрд╖рдг рдХрд░ рд░рд╣реЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ рдЖрдкрдХрд╛ рд╡рд┐рддрд░рд┐рдд рд╕рд┐рд╕реНрдЯрдо рдиреЗрдЯрд╡рд░реНрдХ рд╡рд┐рдлрд▓рддрд╛ рдХреЛ рд╕рдВрднрд╛рд▓ рд╕рдХрддрд╛ рд╣реИред <br>  рдкреЗрд╢ рд╣реИ рдиреЗрдЯрд╡рд░реНрдХ рд▓реЗрдЯреЗрдВрд╕реА, рд▓реЙрд╕ рдПрдВрдб рдЖрдЙрдЯреЗрдЬ </p><br><h3 id="vvedenie-zaderzhki-poteri-ili-obryva-seti">  рдиреЗрдЯрд╡рд░реНрдХ рд╡рд┐рд▓рдВрдмрддрд╛, рд╣рд╛рдирд┐ рдпрд╛ рд░реБрдХрд╛рд╡рдЯ рдХрд╛ рдкрд░рд┐рдЪрдп </h3><br><p>  <code>tc</code> ( <a href="http://tldp.org/HOWTO/Traffic-Control-HOWTO/intro.html">рдЯреНрд░реИрдлрд┐рдХ рдХрдВрдЯреНрд░реЛрд▓</a> ) рдПрдХ рд▓рд┐рдирдХреНрд╕ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдЯреВрд▓ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд▓рд┐рдирдХреНрд╕ рдХрд░реНрдиреЗрд▓ рдмреИрдЪ рд╢реЗрдбреНрдпреВрд▓рд░ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрд╣ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдиреЗрдЯрд╡рд░реНрдХ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдореЗрдВ рдЯреНрд░рд╛рдВрд╕рдорд┐рд╢рди рдФрд░ рд░рд┐рд╕реЗрдкреНрд╢рди рдХреЗ рд▓рд┐рдП рдкреИрдХреЗрдЯ рдХреИрд╕реЗ рдкрдВрдХреНрддрд┐рдмрджреНрдз рд╣реИрдВред  рд╕рдВрдЪрд╛рд▓рди рдореЗрдВ рдХрддрд╛рд░рдмрджреНрдз рдХрд░рдирд╛, рдиреАрддрд┐ рдкрд░рд┐рднрд╛рд╖рд╛, рд╡рд░реНрдЧреАрдХрд░рдг, рдпреЛрдЬрдирд╛, рдЖрдХрд╛рд░ рджреЗрдирд╛ рдФрд░ рдиреБрдХрд╕рд╛рди рд╢рд╛рдорд┐рд▓ рд╣реИрдВред </p><br><p>  рдпреВрдбреАрдкреА рдпрд╛ рдЯреАрд╕реАрдкреА рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рджреЗрд░реА рдФрд░ рдкреИрдХреЗрдЯ рдиреБрдХрд╕рд╛рди рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╛ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рд╕реЗрд╡рд╛ рдХреЗ рдмреИрдВрдбрд╡рд┐рдбреНрде рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЛ рд╕реАрдорд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>tc</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ - рдЗрдВрдЯрд░рдиреЗрдЯ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреА рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред </p><br><p>  <strong>- 100 рдПрдордПрд╕ рдХреА рджреЗрд░реА рдХрд╛ рдкрд░рд┐рдЪрдп</strong> </p><br><pre> <code class="plaintext hljs">#Start тЭп tc qdisc add dev etho root netem delay 100ms #Stop тЭп tc qdisc del dev etho root netem delay 100ms</code> </pre> <br><p>  <strong>- 50 рдПрдордПрд╕ рдХреЗ рдбреЗрд▓реНрдЯрд╛ рдХреЗ рд╕рд╛рде 100 рдПрдордПрд╕ рдХреА рджреЗрд░реА рдХрд╛ рдкрд░рд┐рдЪрдп</strong> </p><br><pre> <code class="plaintext hljs">#Start тЭп tc qdisc add dev eth0 root netem delay 100ms 50ms #Stop тЭп tc qdisc del dev eth0 root netem delay 100ms 50ms</code> </pre> <br><p>  <strong>- 5% рдиреЗрдЯрд╡рд░реНрдХ рдкреИрдХреЗрдЯ рдХреЛ рдиреБрдХрд╕рд╛рди</strong> </p><br><pre> <code class="plaintext hljs">#Start тЭп tc qdisc add dev eth0 root netem corrupt 5% #Stop тЭп tc qdisc del dev eth0 root netem corrupt 5%</code> </pre> <br><p>  <strong>- 25 рдкреНрд░рддрд┐рд╢рдд рд╕рд╣рд╕рдВрдмрдВрдз рдХреЗ рд╕рд╛рде 7% рдкреИрдХреЗрдЯ рдХрд╛ рдиреБрдХрд╕рд╛рди</strong> </p><br><pre> <code class="plaintext hljs">#Start тЭп tc qdisc add dev eth0 root netem loss 7% 25% #Stop тЭп tc qdisc del dev eth0 root netem loss 7% 25%</code> </pre> <br><blockquote>  <strong>рдорд╣рддреНрд╡рдкреВрд░реНрдг!</strong>  рдЯреАрд╕реАрдкреА рдЖрд╡реЗрджрди рдирд╣реАрдВ рдЫреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП 7% рдкрд░реНрдпрд╛рдкреНрдд рд╣реИред </blockquote><br><h3 id="igraya-s-etchosts---staticheskoy-tablicey-poiska-dlya-imen-uzlov">  "/ Etc / рдореЗрдЬрдмрд╛рди" рдХреЗ рд╕рд╛рде рдЦреЗрд▓рдирд╛ - рдореЗрдЬрдмрд╛рди рдирд╛рдореЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реНрдерд┐рд░ рд▓реБрдХрдЕрдк рддрд╛рд▓рд┐рдХрд╛ </h3><br><p>  <code>/etc/hosts</code> рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдкрд╛рда рдлрд╝рд╛рдЗрд▓ рд╣реИ рдЬреЛ рдЖрдИрдкреА рдкрддреЗ рдХреЛ рд╣реЛрд╕реНрдЯ рдирд╛рдореЛрдВ, рдПрдХ рд╕рдордп рдореЗрдВ рдПрдХ рдкрдВрдХреНрддрд┐ рдХреЗ рд╕рд╛рде рдЬреЛрдбрд╝рддреА рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рдиреЛрдб рдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬрд╛рдирдХрд╛рд░реА рд╡рд╛рд▓реА рдПрдХ рдкрдВрдХреНрддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ: </p><br><pre> <code class="plaintext hljs">IP_address canonical_hostname [aliases...]</code> </pre> <br><p><img src="https://habrastorage.org/webt/mx/po/lo/mxpoloqghh2ou_bphgifo69ydba.png"></p><br><p>  рдореЗрдЬрдмрд╛рдиреЛрдВ рдХреА рдлрд╛рдЗрд▓ рдХрдИ рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рд╣реИ рдЬреЛ рдХрдВрдкреНрдпреВрдЯрд░ рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдиреЗрдЯрд╡рд░реНрдХ рдиреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИ рдФрд░ рдЙрди рд╣реЛрд╕реНрдЯ рдирд╛рдореЛрдВ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдХрд░рддреА рд╣реИ рдЬрд┐рдиреНрд╣реЗрдВ рд▓реЛрдЧ рдЖрдИрдкреА рдкрддреЗ рдореЗрдВ рд╕рдордЭрддреЗ рд╣реИрдВред  рдФрд░ рд╣рд╛рдВ, рдЖрдкрдиреЗ рдпрд╣ рдЕрдиреБрдорд╛рди рд▓рдЧрд╛рдпрд╛: рдЗрд╕рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рдпрд╣ рдХрдВрдкреНрдпреВрдЯрд░ рдХреЛ рдзреЛрдЦрд╛ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИред  рдпрд╣рд╛рдБ рдХреБрдЫ рдЙрджрд╛рд╣рд░рдг рд╣реИрдВ: </p><br><p>  <strong>- EC2 рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП DynamoDB API рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рдмреНрд▓реЙрдХ рдХрд░реЗрдВ</strong> </p><br><pre> <code class="plaintext hljs">#Start # make copy of /etc/hosts to /etc/host.back тЭп cp /etc/hosts /etc/hosts.back тЭп echo "127.0.0.1 dynamodb.us-east-1.amazonaws.com" &gt;&gt; /etc/hosts тЭп echo "127.0.0.1 dynamodb.us-east-2.amazonaws.com" &gt;&gt; /etc/hosts тЭп echo "127.0.0.1 dynamodb.us-west-1.amazonaws.com" &gt;&gt; /etc/hosts тЭп echo "127.0.0.1 dynamodb.us-west-2.amazonaws.com" &gt;&gt; /etc/hosts тЭп echo "127.0.0.1 dynamodb.eu-west-1.amazonaws.com" &gt;&gt; /etc/hosts тЭп echo "127.0.0.1 dynamodb.eu-north-1.amazonaws.com" &gt;&gt; /etc/hosts #Stop # copy back the old version /etc/hosts тЭп cp /etc/hosts.back /etc/hosts</code> </pre> <br><p>  <strong>- EC2 рдЙрджрд╛рд╣рд░рдг рд╕реЗ EC2 API рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рд░реЛрдХреЗрдВ</strong> </p><br><pre> <code class="plaintext hljs">#Start # make copy of /etc/hosts to /etc/host.back тЭп cp /etc/hosts /etc/hosts.back тЭп echo "127.0.0.1 ec2.us-east-1.amazonaws.com" &gt;&gt; /etc/hosts тЭп echo "127.0.0.1 ec2.us-east-2.amazonaws.com" &gt;&gt; /etc/hosts тЭп echo "127.0.0.1 ec2.us-west-1.amazonaws.com" &gt;&gt; /etc/hosts тЭп echo "127.0.0.1 ec2.us-west-2.amazonaws.com" &gt;&gt; /etc/hosts тЭп echo "127.0.0.1 ec2.eu-west-1.amazonaws.com" &gt;&gt; /etc/hosts тЭп echo "127.0.0.1 ec2.eu-north-1.amazonaws.com" &gt;&gt; /etc/hosts #Stop # copy back the old version /etc/hosts тЭп cp /etc/hosts.back /etc/hosts</code> </pre> <br><p>  рд▓рд╛рдЗрд╡ рджреЗрдЦреЗрдВ: рдкрд╣рд▓реЗ, EC2 API рдЙрдкрд▓рдмреНрдз рд╣реИ рдФрд░ <code>ec2 describe-instances</code> рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рджреЗрддрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/f9/oy/bc/f9oybcnf8l9s8ov4m7bzulyx6as.png"></p><br><p>  рдПрдХ рдмрд╛рд░ рдЬрдм рдореИрдВрдиреЗ <code>127.0.01 ec2.eu-west-1.amazonaws.com</code> рдХреЛ <code>/etc/hosts</code> , рдФрд░ EC2 API рдХреЙрд▓ рдбреНрд░реЙрдкреНрд╕ рдореЗрдВ рдЬреЛрдбрд╝рд╛ред </p><br><p><img src="https://habrastorage.org/webt/lj/6v/_y/lj6v_y8w7yfhnk9h8izd2gtj2aw.png"></p><br><p>  рдмреЗрд╢рдХ, рдпрд╣ рд╕рднреА рдПрдбрдмреНрд▓реНрдпреВрдПрд╕ рдПрдкреАрдЖрдИ рдХреЗ рд▓рд┐рдП рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред </p><br><h2 id="rasskazal-by-ya-vam-anekdot-pro-dns">  рдореИрдВ рдЖрдкрдХреЛ DNS рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдПрдХ рдЪреБрдЯрдХреБрд▓рд╛ рдмрддрд╛рдКрдВрдЧрд╛ ... </h2><br><p><img src="https://habrastorage.org/webt/dq/mo/ps/dqmopsts1wl0pfntxgvwoqgcwby.gif"></p><br><h3 id="no-boyus-do-vas-doydet-tolko-na-vtorye-sutki-v-smysle-cherez-24-chasa">  ... рд▓реЗрдХрд┐рди, рдореБрдЭреЗ рдбрд░ рд╣реИ, рдпрд╣ рджреВрд╕рд░реЗ рджрд┐рди рд╣реА рдЖрдк рддрдХ рдкрд╣реБрдБрдЪ рдЬрд╛рдПрдЧрд╛ред  рдореЗрд░рд╛ рдорддрд▓рдм рд╣реИ, 24 рдШрдВрдЯреЗ рдХреЗ рдмрд╛рджред </h3><br><p>  21 рдЕрдХреНрдЯреВрдмрд░, 2016 рдХреЛ, <a href="https://en.wikipedia.org/wiki/2016_Dyn_cyberattack">DDoS Dyn рд╣рдорд▓реЗ рдХреЗ рдХрд╛рд░рдг,</a> рдпреВрд░реЛрдк рдФрд░ рдЙрддреНрддрд░реА рдЕрдореЗрд░рд┐рдХрд╛ рдореЗрдВ рдкреНрд▓реЗрдЯрдлрд╛рд░реНрдореЛрдВ рдФрд░ рд╕реЗрд╡рд╛рдУрдВ рдХреА <a href="https://en.wikipedia.org/wiki/2016_Dyn_cyberattack">рдПрдХ</a> рдЕрдЪреНрдЫреА рд╕рдВрдЦреНрдпрд╛ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рдереАред  <a href="https://www.thousandeyes.com/resources/2018-global-dns-performance-benchmark-report">2018 рдореЗрдВ рджреБрдирд┐рдпрд╛ рднрд░ рдореЗрдВ DNS рдкреНрд░рджрд░реНрд╢рди рдкрд░ рдерд╛рдЙрдЬрд╝реЗрдВрдбрд╛рдЗрдЬрд╝ рдХреА рд░рд┐рдкреЛрд░реНрдЯ рдХреЗ</a> рдЕрдиреБрд╕рд╛рд░, 60% рдЙрджреНрдпрдо рдФрд░ рд╕рд╛рд╕ рдкреНрд░рджрд╛рддрд╛ рдЕрднреА рднреА рдПрдХ рд╣реА рд╕реНрд░реЛрдд DNS рдкреНрд░рджрд╛рддрд╛ рдкрд░ рднрд░реЛрд╕рд╛ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░, DNS рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдХрдордЬреЛрд░ рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВред  рдФрд░ рдЪреВрдВрдХрд┐ рдбреАрдПрдирдПрд╕ рдХреЗ рдмрд┐рдирд╛ рдХреЛрдИ рдЗрдВрдЯрд░рдиреЗрдЯ рдирд╣реАрдВ рд╣реЛрдЧрд╛, рдЗрд╕рд▓рд┐рдП рдбреАрдПрдирдПрд╕ рдХреА рд╡рд┐рдлрд▓рддрд╛ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдЧрд▓реА рдбреАрдПрдирдПрд╕ рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рд▓рдЪреАрд▓рд╛рдкрди рдХрд╛ рдореВрд▓реНрдпрд╛рдВрдХрди рдХрд░рдирд╛ рдмрд╣реБрдд рдЕрдЪреНрдЫрд╛ рд╣реЛрдЧрд╛ред </p><br><p>  <strong>рдмреНрд▓реИрдХрд╣реЛрд▓рд┐рдВрдЧ</strong> рдПрдХ рдРрд╕реА рд╡рд┐рдзрд┐ рд╣реИ рдЬрд┐рд╕рдХреЗ рджреНрд╡рд╛рд░рд╛ рд╡реЗ рдкрд╛рд░рдВрдкрд░рд┐рдХ рд░реВрдк рд╕реЗ <a href="https://en.wikipedia.org/wiki/Denial-of-service_attack">DDoS рд╣рдорд▓реЗ</a> рдХреЗ рдиреБрдХрд╕рд╛рди рдХреЛ рдХрдо рдХрд░рддреЗ рд╣реИрдВред  рдЦрд░рд╛рдм рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЛ рдмреНрд▓реИрдХ рд╣реЛрд▓ рдореЗрдВ рд░реВрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЙрд╕реЗ рд╢реВрдиреНрдп рдореЗрдВ рдбрд╛рд▓ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдиреЗрдЯрд╡рд░реНрдХ рдкрд░ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>/dev/null</code> рдХрд╛ рд╕рдВрд╕реНрдХрд░рдг :-) рдЖрдк рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдиреЗрдЯрд╡рд░реНрдХ рдЯреНрд░реИрдлрд╝рд┐рдХ рдХреЗ рдиреБрдХрд╕рд╛рди рдпрд╛ рдЙрд╕реА <a href="https://en.wikipedia.org/wiki/Domain_Name_System">DNS</a> рдХреЗ рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдХрд╣рддреЗ рд╣реИрдВред </p><br><p>  рдЗрд╕ рдХрд╛рд░реНрдп рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ <a href="https://linux.die.net/man/8/iptables"><code>iptables</code></a> рдЯреВрд▓ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд▓рд┐рдирдХреНрд╕ рдХрд░реНрдиреЗрд▓ рдореЗрдВ рдЖрдИрдкреА рдкреИрдХреЗрдЯ рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдиреЗ, рдмрдирд╛рдП рд░рдЦрдиреЗ рдФрд░ рд╕рддреНрдпрд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рдмреНрд▓реИрдХрд╣реЛрд▓ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ DNS рдЯреНрд░реИрдлрд╝рд┐рдХ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЗрд╕реЗ рдЖрдЬрд╝рдорд╛рдПрдБ: </p><br><pre> <code class="plaintext hljs">#Start тЭп iptables -A INPUT -p tcp -m tcp --dport 53 -j DROP тЭп iptables -A INPUT -p udp -m udp --dport 53 -j DROP #Stop тЭп iptables -D INPUT -p tcp -m tcp --dport 53 -j DROP тЭп iptables -D INPUT -p udp -m udp --dport 53 -j DROP</code> </pre> <br><h3 id="vvedenie-otkazov-s-ispolzovaniem-toxiproxy">  Toxiproxy рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХрд╛ рдкрд░рд┐рдЪрдпред </h3><br><p>  рд▓рд┐рдирдХреНрд╕ рдЙрдкрдХрд░рдг рдЬреИрд╕реЗ <code>tc</code> рдФрд░ <code>iptables</code> рдПрдХ рд╣реИ - рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдЧрдВрднреАрд░ рд╕рдорд╕реНрдпрд╛ рдирд╣реАрдВ рд╣реИред  рдЙрдиреНрд╣реЗрдВ рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд░реВрдЯ рдЕрдиреБрдорддрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдФрд░ рдпрд╣ рдХреБрдЫ рд╕рдВрдЧрдардиреЛрдВ рдФрд░ рд╡рд╛рддрд╛рд╡рд░рдг рдХреЗ рд▓рд┐рдП рд╕рдорд╕реНрдпрд╛рдПрдВ рдкреИрджрд╛ рдХрд░рддрд╛ рд╣реИред  рдХреГрдкрдпрд╛ рдкреНрдпрд╛рд░ рдФрд░ рдЕрдиреБрдЧреНрд░рд╣ рдХрд░реЗрдВ - <strong>рдЯреЛрдХреНрд╕рд┐рдкреНрд░реЛрдХреНрд╕реА</strong> ! </p><br><p>  <a href="https://github.com/shopify/toxiproxy">Toxiproxy</a> <a href="https://engineering.shopify.com/">рдЗрдВрдЬреАрдирд┐рдпрд░реЛрдВ рдХреА Shopify рдЯреАрдо рджреНрд╡рд╛рд░рд╛</a> рд╡рд┐рдХрд╕рд┐рдд рдПрдХ рдЦреБрд▓рд╛ рд╕реНрд░реЛрдд рдЯреАрд╕реАрдкреА рдкреНрд░реЙрдХреНрд╕реА рд╣реИред  рдпрд╣ рдЕрд░рд╛рдЬрдХ рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рд╕рд┐рд╕реНрдЯрдо рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдпрд╛ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рд┐рд╕реНрдЯрдо рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИред  рдЗрд╕реЗ рдиреАрдЪреЗ рджрд┐рдЦрд╛рдП рдЧрдП рдЕрдиреБрд╕рд╛рд░ рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рдШрдЯрдХреЛрдВ рдХреЗ рдмреАрдЪ рд░рдЦреЗрдВред </p><br><p><img src="https://habrastorage.org/webt/9u/k6/w-/9uk6w-tyk0jk6n1jgdg8awf0oyo.png"></p><br><p>  рдпрд╣ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ рдкрд░реАрдХреНрд╖рдг, рд╕реАрдЖрдИ рдФрд░ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд╡рд╛рддрд╛рд╡рд░рдг рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛, рдФрд░ рдПрдХ рдкреВрд░реНрд╡рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдпрд╛ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рднреНрд░рдо рдХрд╛ рдкрд░рд┐рдЪрдп рджреЗрддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЯреЛрдХреНрд╕рд┐рдкреНрд░реЛрдХреНрд╕реА рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ рдбреЗрд╡рд▓рдкрд░ рдХреЛрдб рдХреЗ рдмреАрдЪ рд╕рдВрдмрдВрдзреЛрдВ рдореЗрдВ рд╣реЗрд░рдлреЗрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд┐рд╖рд╛рдХреНрдд рдкрджрд╛рд░реНрдереЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдЗрд╕реЗ <a href="&amp;xid=17259,15700023,15700186,15700191,15700259,15700271&amp;usg=ALkJrhgaWzSKV-kjIxlPb5tra59PWQfn6Q#">HTTP рдПрдкреАрдЖрдИ рдХреЗ</a> рдорд╛рдзреНрдпрдо рд╕реЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ <a href="&amp;xid=17259,15700023,15700186,15700191,15700259,15700271&amp;usg=ALkJrhgaWzSKV-kjIxlPb5tra59PWQfn6Q#">рд╣реИ</a> ред  рдФрд░ рдХрд┐рдЯ рдореЗрдВ рдЙрд╕реЗ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╡рд┐рд╖ рд╣реИред </p><br><p>  рдирд┐рдореНрди рдЙрджрд╛рд╣рд░рдг рджрд┐рдЦрд╛рддрд╛ рд╣реИ рдХрд┐ рдЯреЛрдХреНрд╕рд┐рдкреНрд░реЛрдХреНрд╕реА рдХреИрд╕реЗ рд╡рд┐рд╖рд╛рдХреНрддрддрд╛ рдЧреНрд░рд╛рд╣рдХ рдХреЛрдб рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ рдореЗрд░реЗ рд░реЗрдбрд┐рд╕ рдХреНрд▓рд╛рдЗрдВрдЯ, рд░реЗрдбрд┐рд╕-рдХреНрд▓реА рдФрд░ рдЦреБрдж рд░реЗрдбрд┐рд╕ рдХреЗ рдмреАрдЪ рдХрдиреЗрдХреНрд╢рди рдореЗрдВ 1000 рдПрдордПрд╕ рд╡рд┐рд▓рдВрдм рдХреА рд╢реБрд░реБрдЖрдд рдХрд░рдХреЗред </p><br><p><img src="https://habrastorage.org/webt/vg/zg/gf/vgzggft6l5n0eywx2gn__njbc08.png"></p><br><p>  рдЕрдХреНрдЯреВрдмрд░ 2014 рдХреЗ рдмрд╛рдж рд╕реЗ рд╕рднреА рдЙрддреНрдкрд╛рджрди рдФрд░ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рд╢реЙрдкрд┐рдлрд╛рдИ рджреНрд╡рд╛рд░рд╛ рдЯреЛрдХреНрд╕рд┐рдкреНрд░реЛрдХреНрд╕реА рдХрд╛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдЙрдирдХреЗ <a href="https://shopifyengineering.myshopify.com/blogs/engineering/building-and-testing-resilient-ruby-on-rails-applications">рдмреНрд▓реЙрдЧ рдкрд░ рд╣реИ</a> ред </p><br><h2 id="3---vvedenie-otkazov-na-urovne-prilozheniya-processa-i-servisa">  3 - рдЖрд╡реЗрджрди, рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдФрд░ рд╕реЗрд╡рд╛ рд╕реНрддрд░ рдкрд░ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХрд╛ рдкрд░рд┐рдЪрдп </h2><br><p>  рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдЧрд┐рд░ рд░рд╣рд╛ рд╣реИред  рдпрд╣ рдПрдХ рддрдереНрдп рд╣реИред  рдФрд░ рдЖрдк рдХреНрдпрд╛ рдХрд░рддреЗ рд╣реИрдВ?  рдХреНрдпрд╛ рдореБрдЭреЗ рд╕рд░реНрд╡рд░ рдкрд░ рдПрд╕рдПрд╕рдПрдЪ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реЙрдЧ рдЗрди рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдФрд░ рдЕрд╕рдлрд▓ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдкреБрдирд░рд╛рд░рдВрдн рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП?  рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рдгрд╛рд▓реА рд░рд╛рдЬреНрдп рдирд┐рдпрдВрддреНрд░рдг рдпрд╛ рд░рд╛рдЬреНрдп рдХреЗ рдкреНрд░рдХрд╛рд░ рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдкреНрд░рд╛рд░рдВрдн, рд░реЛрдХрдирд╛, рдкреБрдирдГ рдЖрд░рдВрдн рдХрд░рдирд╛ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред  рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рдгрд╛рд▓реА рдЖрдорддреМрд░ рдкрд░ рд╕реНрдерд┐рд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдирд┐рдпрдВрддреНрд░рдг рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рддреА рд╣реИред  <a href="https://en.wikipedia.org/wiki/Systemd"><code>systemd</code></a> рд╕рд┐рд░реНрдл рдПрдХ рдРрд╕рд╛ рдЙрдкрдХрд░рдг рд╣реИ, рдЬреЛ Linux рдХреЗ рд▓рд┐рдП рдмреБрдирд┐рдпрд╛рджреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдирд┐рдпрдВрддреНрд░рдг рдИрдВрдЯреЗрдВ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  <a href="http://supervisord.org/introduction.html"><code>Supervisord</code></a> рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдЬреИрд╕реЗ UNIX рдкрд░ рдХрдИ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХрд╛ рдирд┐рдпрдВрддреНрд░рдг рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдЬрдм рдЖрдк рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рддреИрдирд╛рдд рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдЗрди рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдпрд╣ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдорд╛рд░рдиреЗ рд╕реЗ рдиреБрдХрд╕рд╛рди рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЕрдЪреНрдЫрд╛ рдЕрднреНрдпрд╛рд╕ рд╣реИред  рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдк рдЕрд▓рд░реНрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдкреБрдирд░рд╛рд░рдВрдн рд╣реЛ рдЬрд╛рддреА рд╣реИред </p><br><p>  <strong>- рдЬрд╛рд╡рд╛ рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдорд╛рд░ рдбрд╛рд▓реЛ</strong> </p><br><pre> <code class="plaintext hljs">тЭп pkill -KILL -f java #Alternative тЭп pkill -f 'java -jar'</code> </pre> <br><p>  <strong>- рдкрд╛рдпрдерди рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдорд╛рд░ рдбрд╛рд▓реЛ</strong> </p><br><pre> <code class="plaintext hljs">тЭп pkill -KILL -f python</code> </pre> <br><p>  рдмреЗрд╢рдХ, рдЖрдк рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдЪрд▓ рд░рд╣реА рдХреБрдЫ рдЕрдиреНрдп рдкреНрд░рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рдорд╛рд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>pkill</code> рдХрдорд╛рдВрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h2 id="vvedenie-otkazov-bazy-dannyh">  рдкреЗрд╢ рд╣реИ рдбреЗрдЯрд╛рдмреЗрд╕ рд╡рд┐рдлрд▓рддрд╛рдПрдБ </h2><br><p>  рдпрджрд┐ рд╡рд┐рдлрд▓рддрд╛ рд╕рдВрджреЗрд╢ рд╣реИрдВ рдЬреЛ рдСрдкрд░реЗрдЯрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдкрд╕рдВрдж рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпреЗ рдбреЗрдЯрд╛рдмреЗрд╕ рд╡рд┐рдлрд▓рддрд╛ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИрдВред  рдбреЗрдЯрд╛ рд╕реЛрдиреЗ рдореЗрдВ рдЕрдкрдиреЗ рд╡рдЬрди рдХреЗ рд▓рд╛рдпрдХ рд╣реИ, рдФрд░ рдЗрд╕рд▓рд┐рдП, рд╣рд░ рдмрд╛рд░ рдЬрдм рдПрдХ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреНрд░реИрд╢ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЧреНрд░рд╛рд╣рдХ рдбреЗрдЯрд╛ рдЦреЛрдиреЗ рдХрд╛ рдЬреЛрдЦрд┐рдо рдмрдврд╝ рдЬрд╛рддрд╛ рд╣реИред </p><br><p><img src="https://habrastorage.org/webt/3c/lz/ye/3clzye5agj95ocxbo0vyorq2opc.png"><br>  <em>рдпрд╣ рд╕рд┐рд░реНрдл рдЖрд╕рд╛рди рд░рдЦрд░рдЦрд╛рд╡ рд╣реЛрдЧрд╛ред</em>  <em>рдФрд░-рддреЛ-рдФрд░-рдФрд░ ... рд╕рдм рдХреБрдЫ рдЧрд┐рд░ рдЧрдпрд╛</em> </p><br><p>  рдХрднреА-рдХрднреА рдбреЗрдЯрд╛ рдХреЛ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдФрд░ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдЬрд▓реНрдж рд╕реЗ рдЬрд▓реНрдж рдХрд╛рдо рдХрд░рдиреЗ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд▓рд╛рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдХрдВрдкрдиреА рдХрд╛ рднрд╡рд┐рд╖реНрдп рддрдп рдХрд░рддреА рд╣реИред  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдбреЗрдЯрд╛рдмреЗрд╕ рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЛрдВ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рдХрд░рдирд╛ рднреА рд╣рдореЗрд╢рд╛ рдЖрд╕рд╛рди рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ - рдФрд░ рдЙрдирдореЗрдВ рд╕реЗ рдХрдИ рдХреЗрд╡рд▓ рдЙрддреНрдкрд╛рджрди рд╡рд╛рддрд╛рд╡рд░рдг рдореЗрдВ рдкреЙрдк рдЕрдк рд╣реЛрдВрдЧреЗред </p><br><p>  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдпрджрд┐ рдЖрдк <a href="https://aws.amazon.com/rds/aurora/">рдЕрдореЗрдЬрд╝реЕрди рдЕрд░реЛрд░рд╛</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдЖрдк рдЕрд╕рдлрд▓ <a href="https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/AuroraMySQL.Managing.FaultInjectionQueries.html">рдЕрдиреБрд░реЛрдзреЛрдВ</a> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдореЗрдЬрд╝реЕрди рдЕрд░реЛрд░рд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреНрд▓рд╕реНрдЯрд░ рдХреА рд▓рдЪреАрд▓рд╛рдкрди рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h3 id="vvedenie-otkaza-amazon-aurora">  рдЕрдореЗрдЬрд╝реЕрди рдЕрд░реЛрд░рд╛ рдХреНрд░реИрд╢ рдкрд░рд┐рдЪрдп </h3><br><p>  рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рдЕрдиреБрд░реЛрдзреЛрдВ рдХреЛ рдЕрдореЗрдЬрд╝реЕрди рдЕрд░реЛрд░рд╛ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдПрд╕рдХреНрдпреВрдПрд▓ рдХрдорд╛рдВрдб рдХреЗ рд░реВрдк рдореЗрдВ рдЬрд╛рд░реА рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдШрдЯрдирд╛рдУрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХреЗ рд╕рд┐рдореБрд▓реЗрд╢рди рдХреЛ рд╢реЗрдбреНрдпреВрд▓ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ: </p><br><ul><li>  рдПрдХ рд▓реЗрдЦрди DB рдЙрджрд╛рд╣рд░рдг рдХреА рд╡рд┐рдлрд▓рддрд╛ред </li><li>  рдЕрд░реЛрд░рд╛ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреА рд╡рд┐рдлрд▓рддрд╛ред </li><li>  рдбрд┐рд╕реНрдХ рд╡рд┐рдлрд▓рддрд╛ред </li><li>  рдбрд┐рд╕реНрдХ рдЕрдзрд┐рднрд╛рд░ред </li></ul><br><p>  рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рд▓рд┐рдП рдЕрдиреБрд░реЛрдз рднреЗрдЬрддреЗ рд╕рдордп, рдЖрдкрдХреЛ рдЙрд╕ рд╕рдордп рдХреА рдорд╛рддреНрд░рд╛ рднреА рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреА рд╣реЛрдЧреА, рдЬрд┐рд╕рдХреЗ рджреМрд░рд╛рди рд╡рд┐рдлрд▓рддрд╛ рдХреА рдШрдЯрдирд╛ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </p><br><p>  <strong>- рдХрд╛рд░рдг рдЕрдореЗрдЬрд╝реЕрди рдЕрд░реЛрд░рд╛ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рд╡рд┐рдлрд▓рддрд╛:</strong> </p><br><pre> <code class="plaintext hljs">ALTER SYSTEM CRASH [ INSTANCE | DISPATCHER | NODE ];</code> </pre> <br><p>  <strong>- рдЕрд░реЛрд░рд╛ рдкреНрд░рддрд┐рдХреГрддрд┐ рдХреА рд╡рд┐рдлрд▓рддрд╛ рдХрд╛ рдЕрдиреБрдХрд░рдг рдХрд░реЗрдВ:</strong> </p><br><pre> <code class="plaintext hljs">ALTER SYSTEM SIMULATE percentage PERCENT READ REPLICA FAILURE [ TO ALL | TO "replica name" ] FOR INTERVAL quantity { YEAR | QUARTER | MONTH | WEEK | DAY | HOUR | MINUTE | SECOND };</code> </pre> <br><p>  <strong>- рдЕрд░реЛрд░рд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП рдбрд┐рд╕реНрдХ рд╡рд┐рдлрд▓рддрд╛ рдЕрдиреБрдХрд░рдг:</strong> </p><br><pre> <code class="plaintext hljs">ALTER SYSTEM SIMULATE percentage PERCENT DISK FAILURE [ IN DISK index | NODE index ] FOR INTERVAL quantity { YEAR | QUARTER | MONTH | WEEK | DAY | HOUR | MINUTE | SECOND };</code> </pre> <br><p>  <strong>- рдЕрд░реЛрд░рд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд▓рд┐рдП рдбрд┐рд╕реНрдХ рд╡рд┐рдлрд▓рддрд╛ рдЕрдиреБрдХрд░рдг:</strong> </p><br><pre> <code class="plaintext hljs">ALTER SYSTEM SIMULATE percentage PERCENT DISK CONGESTION BETWEEN minimum AND maximum MILLISECONDS [ IN DISK index | NODE index ] FOR INTERVAL quantity { YEAR | QUARTER | MONTH | WEEK | DAY | HOUR | MINUTE | SECOND };</code> </pre> <br><h2 id="otkazy-v-mire-besservernyh-prilozheniy">  рд╕рд░реНрд╡рд░ рд░рд╣рд┐рдд рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреА рджреБрдирд┐рдпрд╛ рдореЗрдВ рдХреНрд░реИрд╢ </h2><br><p>  рдпрджрд┐ рдЖрдк рд╕рд░реНрд╡рд░ рд░рд╣рд┐рдд рдШрдЯрдХреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╡рд┐рдлрд▓рддрд╛ рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЪреБрдиреМрддреА рд╣реЛ рд╕рдХрддреА рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ AWS рд▓реИрдореНрдмреНрдбрд╛ рдЬреИрд╕реА рд╕рд░реНрд╡рд░ рд░рд╣рд┐рдд рд╕реЗрд╡рд╛рдПрдВ рдореВрд▓ рд░реВрдк рд╕реЗ рд╡рд┐рдлрд▓рддрд╛ рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рддреА рд╣реИрдВред </p><br><h3 id="vvedenie-otkazov-v-funkcii-lambda">  рдкреЗрд╢ рд╣реИ рд▓рд╛рдореНрдмрд╛ рдХреА рд╡рд┐рдлрд▓рддрд╛рдПрдВ </h3><br><p>  рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ <a href="https://aws.amazon.com/lambda/">AWS рд▓реИрдореНрдмреНрдбрд╛</a> рдореЗрдВ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХрд╛ рдкрд░рд┐рдЪрдп рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ <a href="https://github.com/adhorn/aws-lambda-chaos-injection">рдЫреЛрдЯреА рд╕реА рдЕрдЬрдЧрд░ рд▓рд╛рдЗрдмреНрд░реЗрд░реА</a> рдФрд░ рдПрдХ <a href="https://github.com/adhorn/aws-lambda-layer-chaos-injection">рд▓реИрдореНрдмреНрдбрд╛ рд▓реЗрдпрд░</a> рд▓рд┐рдЦреАред  рд╡рд░реНрддрдорд╛рди рдореЗрдВ, рджреЛрдиреЛрдВ рджреЗрд░реА, рддреНрд░реБрдЯрд┐рдпреЛрдВ, рдЕрдкрд╡рд╛рджреЛрдВ рдФрд░ рдПрдХ HTTP рддреНрд░реБрдЯрд┐ рдХреЛрдб рдХреА рд╢реБрд░реВрдЖрдд рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВред  рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-parameter-store.html">AWS SSM рдкреИрд░рд╛рдореАрдЯрд░ рд╕реНрдЯреЛрд░</a> рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдХреЗ рд╡рд┐рдлрд▓рддрд╛ рдкреНрд░рд╛рдкреНрдд рдХреА рдЬрд╛рддреА рд╣реИ: </p><br><pre> <code class="plaintext hljs">{ "isEnabled": true, "delay": 400, "error_code": 404, "exception_msg": "I really failed seriously", "rate": 1 }</code> </pre> <br><p>  рд╡рд┐рдлрд▓рддрд╛ рдХреЛ рдкреЗрд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк рд╣реИрдВрдбрд▓рд░ рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдПрдХ рдЕрдЬрдЧрд░ рдбреЗрдХреЛрд░реЗрдЯрд░ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  <strong>- рдПрдХ рдЕрдкрд╡рд╛рдж рдлреЗрдВрдХ:</strong> </p><br><pre> <code class="plaintext hljs">@inject_exception def handler_with_exception(event, context): return { 'statusCode': 200, 'body': 'Hello from Lambda!' } &gt;&gt;&gt; handler_with_exception('foo', 'bar') Injecting exception_type &lt;class "Exception"&gt; with message I really failed seriously a rate of 1 corrupting now Traceback (most recent call last): File "&lt;stdin&gt;", line 1, in &lt;module&gt; File "/.../chaos_lambda.py", line 316, in wrapper raise _exception_type(_exception_msg) Exception: I really failed seriously</code> </pre> <br><p>  <strong>- рддреНрд░реБрдЯрд┐ рдХреЛрдб "рдЕрд╡реИрдз HTTP" рджрд░реНрдЬ рдХрд░реЗрдВ:</strong> </p><br><pre> <code class="plaintext hljs">@inject_statuscode def handler_with_statuscode(event, context): return { 'statusCode': 200, 'body': 'Hello from Lambda!' } &gt;&gt;&gt; handler_with_statuscode('foo', 'bar') Injecting Error 404 at a rate of 1 corrupting now {'statusCode': 404, 'body': 'Hello from Lambda!'}</code> </pre> <br><p>  <strong>- рджреЗрд░реА рджрд░реНрдЬ рдХрд░реЗрдВ:</strong> </p><br><pre> <code class="plaintext hljs">@inject_delay def handler_with_delay(event, context): return { 'statusCode': 200, 'body': 'Hello from Lambda!' } &gt;&gt;&gt; handler_with_delay('foo', 'bar') Injecting 400 of delay with a rate of 1 Added 402.20ms to handler_with_delay {'statusCode': 200, 'body': 'Hello from Lambda!'}</code> </pre> <br><p>  рдЗрд╕ рдЕрдЬрдЧрд░ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП <a href="https://github.com/adhorn/aws-lambda-chaos-injection">рдпрд╣рд╛рдВ</a> рдХреНрд▓рд┐рдХ <a href="https://github.com/adhorn/aws-lambda-chaos-injection">рдХрд░реЗрдВ</a> ред </p><br><h3 id="vvedenie-otkaza-v-ispolnenie-lambda-cherez-ogranichenie-parallelizma">  рдХрдВрдмрд╛рдЗрдВрдб рд▓рд┐рдорд┐рдЯреЗрд╢рди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд▓реИрдореНрдмреНрдбрд╛ рдкреНрд░рд╡рд░реНрддрди рдбреЗрдирд┐рдпрд▓ </h3><br><p>  рд╕реБрд░рдХреНрд╖рд╛ рдХрд╛рд░рдгреЛрдВ рд╕реЗ, рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд▓реИрдореНрдмреНрдбрд╛, рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдкреНрд░рддрд┐ рдЦрд╛рддрд╛ рд╕рднреА рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рд╕рдорд╛рдирд╛рдВрддрд░ рдирд┐рд╖реНрдкрд╛рджрди рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рддрд╛ рд╣реИред  рд╕рдорд╛рдирд╛рдВрддрд░ рдирд┐рд╖реНрдкрд╛рджрди рд╕рдордп рдореЗрдВ рдХрд┐рд╕реА рднреА рдХреНрд╖рдг рдореЗрдВ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рдлрд╝рдВрдХреНрд╢рди рдХреЛрдб рдХреЗ рдХрдИ рдирд┐рд╖реНрдкрд╛рджрди рдХреЛ рд╕рдВрджрд░реНрднрд┐рдд рдХрд░рддрд╛ рд╣реИред  рдЗрдирдХрдорд┐рдВрдЧ рдЕрдиреБрд░реЛрдз рдХреЛ рдПрдХ рдлрдВрдХреНрд╢рди рдХреЙрд▓ рдХреЛ рд╕реНрдХреЗрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд▓реЗрдХрд┐рди рдпрд╣ рд╡рд┐рдкрд░реАрдд рдЙрджреНрджреЗрд╢реНрдп рдХреЗ рд▓рд┐рдП рдХрд╛рдо рдХрд░ рд╕рдХрддрд╛ рд╣реИ: рд▓реИрдореНрдмреНрдбрд╛ рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдХреЛ рд░реЛрдХрдирд╛ред </p><br><pre> <code class="plaintext hljs">тЭп aws lambda put-function-concurrency --function-name &lt;value&gt; --reserved-concurrent-executions 0</code> </pre> <br><p>  рдпрд╣ рдХрдорд╛рдВрдб рд╢реВрдиреНрдп рддрдХ рдкрд╣реБрдВрдЪ рдХреЛ рдХрдо рдХрд░ рджреЗрдЧрд╛, рдЬрд┐рд╕рд╕реЗ "рдмреНрд░реЗрдХрд┐рдВрдЧ" рдЬреИрд╕реА рддреНрд░реБрдЯрд┐ рдХреЗ рд╕рд╛рде рдХреНрд╡реЗрд░реА рд╡рд┐рдлрд▓ рд╣реЛ рд╕рдХрддреА рд╣реИ - рдбреАрдЯреАрд╕реА <code>429</code> ред </p><br><h3 id="thundra---trassirovka-besservernyh-peredach">  рдердВрдбреНрд░рд╛ - рд╕рд░реНрд╡рд░ рд░рд╣рд┐рдд рдЯреНрд░рд╛рдВрд╕рдорд┐рд╢рди рдЯреНрд░реЗрд╕ </h3><br><p>  <a href="https://www.thundra.io/"><strong>рдердВрдбреНрд░рд╛</strong></a> рдПрдХ рд╕рд░реНрд╡рд░ рд░рд╣рд┐рдд рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдирд┐рдЧрд░рд╛рдиреА рдЙрдкрдХрд░рдг рд╣реИ рдЬрд┐рд╕рдореЗрдВ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЛ рд╕рд░реНрд╡рд░ рд░рд╣рд┐рдд рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдВрддрд░реНрдирд┐рд╣рд┐рдд рдХреНрд╖рдорддрд╛ рд╣реИред  рд╡рд╣ рдбрд╛рдпрдирдореЛрдл рдХреЗ рд╕рд╛рде рд╕рдВрдЪрд╛рд▓рди рдХреЗ рд▓рд┐рдП "рдХреЛрдИ рддреНрд░реБрдЯрд┐ рд╣реИрдВрдбрд▓рд░" рдЬреИрд╕реЗ рдЕрд╕рдлрд▓рддрд╛рдУрдВ рдХреЛ рдкреЗрд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <a href="https://docs.thundra.io/docs/python-span-listeners">рд░реИрдкрд░ рд╣реИрдВрдбрд▓рд░</a> рдмрдирд╛рддрд╛ рд╣реИ, рдбреЗрдЯрд╛ рд╕реНрд░реЛрдд рдХреЗ рд▓рд┐рдП "рдХреЛрдИ рддреНрд░реБрдЯрд┐ рдиреНрдпреВрдЯреНрд░рд▓рд╛рдЗрдЬреЗрд╢рди" рдпрд╛ "рдирд┐рд╡рд░реНрддрдорд╛рди HTTP рдЕрдиреБрд░реЛрдзреЛрдВ рдореЗрдВ рдХреЛрдИ рд╕рдордп рдирд╣реАрдВ"ред  рдореИрдВрдиреЗ рдЗрд╕реЗ рд╕реНрд╡рдпрдВ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдирд╣реАрдВ рдХреА рд╣реИ, рд▓реЗрдХрд┐рди <a href="https://twitter.com/theburningmonk">рдпрд╛рди рдЪреБрдИ</a> рдХреЗ рд▓реЗрдЦрдХ рдХреЗ <a href="https://blog.thundra.io/chaos-test-your-lambda-functions-with-thundra">рдкрдж рдХреЗ</a> рд▓рд┐рдП рдФрд░ <a href="https://twitter.com/mavi888uy">рдорд╛рд░реНрд╢рд╛ рд╡рд┐рд▓реНрд▓рд▓реНрдмрд╛ рдХреЗ</a> рдЗрд╕ <a href="https://www.youtube.com/watch%3Fv%3DTpoN1wm2bok">рд╢рд╛рдирджрд╛рд░ рд╡реАрдбрд┐рдпреЛ рдореЗрдВ</a> <a href="https://twitter.com/mavi888uy">, рдЗрд╕</a> рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХрд╛ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рд╡рд░реНрдгрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдпрд╣ рдЖрд╢рд╛рдЬрдирдХ рд▓рдЧ рд░рд╣рд╛ рд╣реИред </p><br><p>  рдФрд░ рд╕рд░реНрд╡рд░ рд░рд╣рд┐рдд рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдкрд░ рдЕрдиреБрднрд╛рдЧ рдХреЗ рд╕рдорд╛рдкрди рдореЗрдВ, рдореИрдВ рдХрд╣реВрдВрдЧрд╛ рдХрд┐ рд╕рд░реНрд╡рд░ рд░рд╣рд┐рдд рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЗ рд╕рдВрдмрдВрдз рдореЗрдВ рдпрд╛рди рдЪреБрдИ рдХреА рдХрдард┐рдирд╛рдЗрдпреЛрдВ рдкрд░ рдпрд╛рди рдЪреБрдИ рдХрд╛ <a href="https://hackernoon.com/how-can-we-apply-the-principles-of-chaos-engineering-to-aws-lambda-80f87e3237e2">рдПрдХ рдЙрддреНрдХреГрд╖реНрдЯ рд▓реЗрдЦ рд╣реИ</a> ред  рдореИрдВ рд╕рднреА рдХреЛ рдЗрд╕реЗ рдкрдврд╝рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддрд╛ рд╣реВрдВред </p><br><h2 id="4---vvedenie-otkazov-na-urovne-infrastruktury">  4 - рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреЗ рд╕реНрддрд░ рдкрд░ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХрд╛ рдкрд░рд┐рдЪрдп </h2><br><p>  рдпрд╣ рд╕рдм <a href="https://medium.com/%40adhorn/chaos-engineering-ab0cc9fbd12a">рдЕрдореЗрдЬрд╝реЕрди рдФрд░ рдиреЗрдЯрдлреНрд▓рд┐рдХреНрд╕</a> рджреЛрдиреЛрдВ рдХреЗ рд▓рд┐рдП - рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреЗ рд╕реНрддрд░ рдкрд░ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреА рд╢реБрд░реВрдЖрдд рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рд╣реБрдЖ <a href="https://medium.com/%40adhorn/chaos-engineering-ab0cc9fbd12a">ред</a>  рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреЗ рд╕реНрддрд░ рдкрд░ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреА рд╢реБрд░реВрдЖрдд - рдПрдХ рд╕рдВрдкреВрд░реНрдг рдбреЗрдЯрд╛ рдХреЗрдВрджреНрд░ рдХреЛ рдмреЗрддрд░рддреАрдм рдврдВрдЧ рд╕реЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЛ рдмрдВрдж рдХрд░рдиреЗ рд╕реЗ - рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рд╣реИред </p><br><p>  рдФрд░, рдЬрд╝рд╛рд╣рд┐рд░ рд╣реИ, " <a href="https://github.com/Netflix/chaosmonkey">рдЕрд░рд╛рдЬрдХрддрд╛ рдХреЗ рдмрдВрджрд░</a> " рдХрд╛ рдЙрджрд╛рд╣рд░рдг рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ рджрд┐рдорд╛рдЧ рдореЗрдВ рдЖрддрд╛ рд╣реИред </p><br><h3 id="ostanovka-instansov-ec2-vybrannyh-sluchayno-v-nekotoroy-zone-dostupnosti">  EC2 рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЛ рд░реЛрдХрдирд╛ рдЬреЛ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдЕрдирд┐рдпрдорд┐рдд рд░реВрдк рд╕реЗ рдЪреБрдиреЗ рдЧрдП рд╣реИрдВред </h3><br><p>  рдЕрдкрдиреА рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдЕрд╡рд╕реНрдерд╛ рдореЗрдВ, рдиреЗрдЯрдлреНрд▓рд┐рдХреНрд╕ рдХрдард┐рди рд╡рд╛рд╕реНрддреБ рдирд┐рдпрдореЛрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ред  рдЙрдиреНрд╣реЛрдВрдиреЗ рдЕрдкрдиреЗ "рдЕрд░рд╛рдЬрдХ рдмрдВрджрд░" рдХреЛ рдкрд╣рд▓реЗ рдПрдбрдмреНрд▓реНрдпреВрдПрд╕ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХреЗ рд░реВрдк рдореЗрдВ рддреИрдирд╛рдд рдХрд┐рдпрд╛ рддрд╛рдХрд┐ рд╡реЗ рдХрд┐рд╕реА рднреА рдЙрджрд╛рд╣рд░рдг рдХреЛ рдирд╖реНрдЯ рдХрд░ рд╕рдХреЗрдВ рдпрд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд░ рд╕рдХреЗрдВред  рдХреИрдУрд╕ рдмрдВрджрд░ рдиреЗ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд┐рдпрд╛ рдХрд┐ рдХрд┐рд╕реА рдиреЗ рднреА рдЗрд╕ рдирд┐рдпрдо рдХрд╛ рдЙрд▓реНрд▓рдВрдШрди рдирд╣реАрдВ рдХрд┐рдпрд╛ред </p><br><p>  рдЕрдЧрд▓реЗ рдкрд░рд┐рджреГрд╢реНрдп - "рдЕрд░рд╛рдЬрдХрддрд╛ рдХреЗ рдмрдВрджрд░" рдХреЗ рд╕рдорд╛рди - рд╕рдорд╛рди рдХреНрд╖реЗрддреНрд░ рдХреЗ рднреАрддрд░ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдкрд░ рдХрд┐рд╕реА рднреА рдЙрджрд╛рд╣рд░рдг рдХреЛ рд░реЛрдХрдирд╛ рд╣реИред </p><br><pre> <code class="plaintext hljs">тЭп stop_random_instance(az="eu-west-1a", tag_name="chaos", tag_value="chaos-ready", region="eu-west-1")</code> </pre> <br><pre> <code class="plaintext hljs">import boto3 import random REGION = 'eu-west-1' def stop_random_instance(az, tag_name, tag_value, region=REGION): ''' &gt;&gt;&gt; stop_random_instance(az="eu-west-1a", tag_name='chaos', tag_value="chaos-ready", region='eu-west-1') ['i-0ddce3c81bc836560'] ''' ec2 = boto3.client("ec2", region_name=region) paginator = ec2.get_paginator('describe_instances') pages = paginator.paginate( Filters=[ { "Name": "availability-zone", "Values": [ az ] }, { "Name": "tag:" + tag_name, "Values": [ tag_value ] } ] ) instance_list = [] for page in pages: for reservation in page['Reservations']: for instance in reservation['Instances']: instance_list.append(instance['InstanceId']) print("Going to stop any of these instances", instance_list) selected_instance = random.choice(instance_list) print("Randomly selected", selected_instance) response = ec2.stop_instances(InstanceIds=[selected_instance]) return response</code> </pre> <br><p>  рдХреНрдпрд╛ рдЖрдкрдиреЗ <code>tag_name</code> рдФрд░ <code>tag_value</code> ?  рдРрд╕реА рдЫреЛрдЯреА рдЪреАрдЬреЗрдВ рдЧрд▓рдд рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреА рд╡рд┐рдлрд▓рддрд╛ рдХреЛ рд░реЛрдХреЗрдВрдЧреАред  #lessonlearned </p><br><p><img src="https://habrastorage.org/webt/fj/a3/uq/fja3uq8zoomlzrr4zomp1ycnh3k.jpeg"><br>  <em>рдФрд░ рд╣рд╛рдБ ... рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдкреБрдирдГ рдЖрд░рдВрдн рдХрд░реЗрдВ - рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдХрд┐рдпрд╛ рдЧрдпрд╛ [рдЙрдлрд╝, рдирд╣реАрдВ рддреЛ рдЙрджрд╛рд╣рд░рдг]</em> </p><br><h2 id="5---vvedenie-otkazov-i-instrumenty-orkestracii-tipa-vse-v-odnom">  5 - рд╡рд┐рдлрд▓рддрд╛ рдкрд░рд┐рдЪрдп рдФрд░ рд╕рднреА рдореЗрдВ рдПрдХ рдЖрд░реНрдХреЗрд╕реНрдЯреНрд░рд╛ рдЙрдкрдХрд░рдг </h2><br><p>  рдпрд╣ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдЖрдк рдЗрддрдиреЗ рд╕рд╛рд░реЗ рдЙрдкрдХрд░рдгреЛрдВ рдореЗрдВ рдЦреЛ рдЧрдП рд╣реИрдВред  рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, рдХреБрдЫ рдЗрдВрдХрд╛рд░ рдЗрдВрдЯреНрд░реЛрдбрдХреНрд╢рди рдФрд░ рдСрд░реНрдХреЗрд╕реНрдЯреНрд░реЗрд╢рди рдЯреВрд▓ рд╣реИрдВ рдЬрд┐рдирдореЗрдВ рд╕реЗ рдЕрдзрд┐рдХрд╛рдВрд╢ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ рдФрд░ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдореЗрдВ рдЖрд╕рд╛рди рд╣реИрдВред </p><br><h3 id="chaos-toolkit">  рдЕрд░рд╛рдЬрдХрддрд╛ рдЯреВрд▓рдХрд┐рдЯ </h3><br><p>  рдореЗрд░реЗ рдкрд╕рдВрджреАрджрд╛ рдЙрдкрдХрд░рдгреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ <a href="https://github.com/chaostoolkit">рдХреИрдУрд╕ рдЯреВрд▓рдХрд┐рдЯ рд╣реИ</a> , рдЬреЛ рдПрдХ рдЦреБрд▓рд╛ рд╕реНрд░реЛрдд рдЕрд░рд╛рдЬрдХрддрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рд╣реИ, рдЬреЛ рдорд╣рд╛рди <a href="https://chaosiq.io/">рдХреИрдУрд╕рдХреНрдпреВ</a> рдЯреАрдо рджреНрд╡рд╛рд░рд╛ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рд░реВрдк рд╕реЗ рд╕рдорд░реНрдерд┐рдд рд╣реИред  рдпрд╣рд╛рдБ рдЙрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рд╣реИрдВ: <a href="https://twitter.com/lawouach">рд░рд╛рдИрд╕</a> <a href="https://twitter.com/russmiles">рдорд╛рдЗрд▓реНрд╕</a> , <a href="https://twitter.com/lawouach">рд╕рд┐рд▓реНрд╡реЗрди рд╣реЗрд▓рдЧреБрдЧрд╛рд░реНрдЪ</a> рдФрд░ <a href="https://twitter.com/mperrien">рдорд╛рд░реНрдХ рдкреИрд░реАрдиреЗ</a> ред </p><br><p>  рдЕрд░рд╛рдЬрдХрддрд╛ рдЯреВрд▓рдХрд┐рдЯ рдПрдХ рдШреЛрд╖рдгрд╛ рдФрд░ рдПрдХреНрд╕реНрдЯреЗрдВрд╕рд┐рдмрд▓ рдПрдкреАрдЖрдИ рдХреЛ рдЖрд╕рд╛рдиреА рд╕реЗ рдЕрд░рд╛рдЬрдХрддрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдкреНрд░рдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░рддрд╛ рд╣реИред  рдЗрд╕рдореЗрдВ AWS, Google рдХреНрд▓рд╛рдЙрдб рдЗрдВрдЬрди, Microsoft Azure, Cloud Foundry, Humino, Prometheus рдФрд░ Gremlin рдХреЗ рдбреНрд░рд╛рдЗрд╡рд░ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред </p><br><p>  рдПрдХреНрд╕рдЯреЗрдВрд╢рдиреНрд╕ рдЪреЗрдХ рдФрд░ рдкреНрд░рдпреЛрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рдиреЗ рд╡рд╛рд▓реА рдХреНрд░рд┐рдпрд╛рдУрдВ рдХрд╛ рдПрдХ рд╕рдореВрд╣ рд╣реИ: рд╣рдо рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЙрдкрд▓рдмреНрдзрддрд╛ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдмреЗрддрд░рддреАрдм рдврдВрдЧ рд╕реЗ рдЪрдпрдирд┐рдд рдЙрджрд╛рд╣рд░рдг рдХреЛ рд░реЛрдХ рджреЗрддреЗ рд╣реИрдВ рдпрджрд┐ <code>tag-key</code> рдореЗрдВ <code>chaos-ready</code> рдореВрд▓реНрдп рд╣реЛрддреЗ рд╣реИрдВред </p><br><pre> <code class="plaintext hljs">{ "version": "1.0.0", "title": "What is the impact of randomly terminating an instance in an AZ", "description": "terminating EC2 instance at random should not impact my app from running", "tags": ["ec2"], "configuration": { "aws_region": "eu-west-1" }, "steady-state-hypothesis": { "title": "more than 0 instance in region", "probes": [ { "provider": { "module": "chaosaws.ec2.probes", "type": "python", "func": "count_instances", "arguments": { "filters": [ { "Name": "availability-zone", "Values": ["eu-west-1c"] } ] } }, "type": "probe", "name": "count-instances", "tolerance": [0, 1] } ] }, "method": [ { "type": "action", "name": "stop-random-instance", "provider": { "type": "python", "module": "chaosaws.ec2.actions", "func": "stop_instance", "arguments": { "az": "eu-west-1c" }, "filters": [ { "Name": "tag-key", "Values": ["chaos-ready"] } ] }, "pauses": { "after": 60 } } ], "rollbacks": [ { "type": "action", "name": "start-all-instances", "provider": { "type": "python", "module": "chaosaws.ec2.actions", "func": "start_instances", "arguments": { "az": "eu-west-1c" }, "filters": [ { "Name": "tag-key", "Values": ["chaos-ready"] } ] } } ] }</code> </pre> <br><p>  рдЙрдкрд░реЛрдХреНрдд рдкреНрд░рдпреЛрдЧ рдХрд░рдирд╛ рд╕рд░рд▓ рд╣реИ: </p><br><pre> <code class="plaintext hljs">тЭп chaos run experiment_aws_random_instance.json</code> </pre> <br><p><img src="https://habrastorage.org/webt/0l/tb/qz/0ltbqz2b-ppule8qm6xxn0jb6p4.png"></p><br><p>  рдХреИрдУрд╕ рдЯреВрд▓рдХрд┐рдЯ рдХреА рддрд╛рдХрдд рдпрд╣ рд╣реИ рдХрд┐, рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдпрд╣ рдЦреБрд▓рд╛ рд╕реНрд░реЛрдд рд╣реИ рдФрд░ рдЖрдкрдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЗ рдЕрдиреБрд░реВрдк рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рджреВрд╕рд░реЗ, рдпрд╣ рд╕реАрдЖрдИ / рд╕реАрдбреА рдкрд╛рдЗрдкрд▓рд╛рдЗрди рдореЗрдВ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдлрд┐рдЯ рдмреИрдарддрд╛ рд╣реИ рдФрд░ рдирд┐рд░рдВрддрд░ рдЕрд░рд╛рдЬрдХрддрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдХреИрдУрд╕ рдЯреВрд▓рдХрд┐рдЯ рдХреЗ рдирдХрд╛рд░рд╛рддреНрдордХ рдкрдХреНрд╖ рдпрд╣ рд╣реИ рдХрд┐ рдЗрд╕реЗ рдорд╛рд╕реНрдЯрд░ рдХрд░рдиреЗ рдореЗрдВ рд╕рдордп рд▓рдЧрддрд╛ рд╣реИред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЗрд╕рдореЗрдВ рдХреЛрдИ рддреИрдпрд╛рд░-рдХрд┐рдП рдЧрдП рдкреНрд░рдпреЛрдЧ рдирд╣реАрдВ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рдЙрдиреНрд╣реЗрдВ рд╕реНрд╡рдпрдВ рд▓рд┐рдЦрдирд╛ рд╣реЛрдЧрд╛ред  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдореИрдВ ChaosIQ рдореЗрдВ рдЯреАрдо рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реВрдВ, рдЬреЛ рдЗрд╕ рдХрд╛рд░реНрдп рдХреЛ рд╕рдордЭрддреЗ рд╣реБрдП рдЕрдердХ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреА рд╣реИред </p><br><h3 id="gremlin">  рджреБрд╖реНрдЯрд╛рддреНрдорд╛ </h3><br><p>  рдореЗрд░рд╛ рдПрдХ рдФрд░ рдкрд╕рдВрджреАрджрд╛ рдЧреНрд░реЗрдорд▓рд┐рди рд╣реИред  рдЗрд╕рдореЗрдВ рд╕рд╣рдЬ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреЗ рд╕рд╛рде рдПрдХ рд╕рд░рд▓ рдЙрдкрдХрд░рдг рдореЗрдВ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреЛ рдкреЗрд╢ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡реНрдпрд╛рдкрдХ рд╕реЗрдЯ рд╣реИред  рдРрд╕реА рдЕрд░рд╛рдЬрдХрддрд╛-рдЬреИрд╕реА-рдП-рд╕реЗрд╡рд╛ред </p><br><p>  рдЧреНрд░реЗрдорд▓рд┐рди <a href="https://www.gremlin.com/docs/infrastructure-layer/attacks/">рд╕рдВрд╕рд╛рдзрди, рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рдХреНрд╡реЗрд░реА</a> рд╕реНрддрд░реЛрдВ рдкрд░ рд╡рд┐рдлрд▓рддрд╛рдУрдВ рдХреА рд╢реБрд░реВрдЖрдд рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЖрдк рдкреВрд░реА рдкреНрд░рдгрд╛рд▓реА рдХреЗ рд╕рд╛рде рдЬрд▓реНрджреА рд╕реЗ рдкреНрд░рдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ  рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдХреЗ рд╕рд╛рде, рд╡рд┐рднрд┐рдиреНрди рдХреНрд▓рд╛рдЙрдб рдкреНрд░рджрд╛рддрд╛, рдХрдВрдЯреЗрдирд░реАрдХреГрдд рд╡рд╛рддрд╛рд╡рд░рдг, рдЬрд┐рд╕рдореЗрдВ рдХреБрдмреЗрд░рдиреЗрдЯ, рдЕрдиреБрдкреНрд░рдпреЛрдЧ рдФрд░ рдХреБрдЫ рд╣рдж рддрдХ рд╕рд░реНрд╡рд░ рд░рд╣рд┐рдд рдЕрдиреБрдкреНрд░рдпреЛрдЧ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред </p><br><p>  рдкреНрд▓рд╕ рдПрдХ рдмреЛрдирд╕ - <a href="https://twitter.com/GremlinInc">рдЧреНрд░реЗрдорд▓рд┐рди рдХреЗ рд▓реЛрдЧ</a> рдорд╣рд╛рди рдлреИрд▓реЛ рд╣реИрдВ рдЬреЛ <a href="https://www.gremlin.com/blog/">рдмреНрд▓реЙрдЧ рдХреЗ</a> рд▓рд┐рдП рд╢рд╛рдирджрд╛рд░ рд╕рд╛рдордЧреНрд░реА рд▓рд┐рдЦрддреЗ рд╣реИрдВ рдФрд░ рд╣рдореЗрд╢рд╛ рдорджрдж рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд░рд╣рддреЗ рд╣реИрдВ!  рдпрд╣рд╛рдБ рдЙрдирдореЗрдВ рд╕реЗ рдХреБрдЫ рд╣реИрдВ: <a href="https://twitter.com/callmeforni">рдореИрдереНрдпреВ</a> , <a href="https://twitter.com/KoltonAndrus">рдХреЛрд▓реНрдЯрди</a> , <a href="https://twitter.com/tammybutow">рдЯреИрдореА</a> , <a href="https://twitter.com/richburroughs">рд░рд┐рдЪ</a> , <a href="https://twitter.com/Ana_M_Medina">рдПрдирд╛</a> рдФрд░ <a href="https://twitter.com/HoReaL">рдПрдЪрдПрдордПрд▓</a> ред </p><br><p>  Gremlin рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣реАрдВ рдирд╣реАрдВ рд╣реИ: </p><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ Gremlin рдРрдк рдПрдВрдЯрд░ рдХрд░реЗрдВ рдФрд░ "Create Attack" рдЪреБрдиреЗрдВред </p><br><p><img src="https://habrastorage.org/webt/xw/cv/m9/xwcvm9psqdr8uottkvc2nt4kexi.png"></p><br><p>  рдПрдХ рд▓рдХреНрд╖реНрдп - рдЙрджрд╛рд╣рд░рдг рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░реЗрдВред </p><br><p><img src="https://habrastorage.org/webt/v_/2v/u7/v_2vu75wvlrzgdem88t2ml0rggu.png"></p><br><p>  рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рдкреНрд░рдХрд╛рд░ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдЬрд┐рд╕реЗ рдЖрдк рд╢реБрд░реВ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рдФрд░ рдЕрд░рд╛рдЬрдХрддрд╛ рд╢реБрд░реВ рд╣реЛ рд╕рдХрддреА рд╣реИ! </p><br><p><img src="https://habrastorage.org/webt/bx/oq/ox/bxoqoxv4vvxlayqtbtwpgkxd_yw.png"></p><br><p>  рдореБрдЭреЗ рдпрд╣ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдореБрдЭреЗ рд╣рдореЗрд╢рд╛ рдЧреНрд░реЗрдорд▓рд┐рди рдкрд╕рдВрдж рдерд╛: рдЙрд╕рдХреЗ рд╕рд╛рде, рдЕрд░рд╛рдЬрдХрддрд╛ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ рдкрд░ рдкреНрд░рдпреЛрдЧ рд╕рд╣рдЬ рд░реВрдк рд╕реЗ рд╕рд░рд▓ рд╣реИрдВред </p><br><p><font style="vertical-align: inherit;"></font><a href="https://www.gremlin.com/pricing/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореВрд▓реНрдп рдирд┐рд░реНрдзрд╛рд░рдг рдиреАрддрд┐</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдорд╛рдЗрдирд╕ </font><font style="vertical-align: inherit;">- рдХрд╛рдо рдХреЗ рд▓рд┐рдП рдПрдХ рд▓рд╛рдЗрд╕реЗрдВрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬреЛ рдиреМрд╕рд┐рдЦрд┐рдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдпрд╛ рдПрдХ рдмрд╛рд░ рдХреА рдиреМрдХрд░рд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд╣рд╛рд▓рд╛рдВрдХрд┐, рд╣рд╛рд▓ рд╣реА рдореЗрдВ рдЗрд╕рдХрд╛ рдореБрдлреНрдд рд╕рдВрд╕реНрдХрд░рдг рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЧреНрд░реЗрдорд▓рд┐рди рдХреНрд▓рд╛рдЗрдВрдЯ рдФрд░ рдбреЗрдореЙрди рдХреЛ рдРрд╕реЗ рдЙрджрд╛рд╣рд░рдгреЛрдВ рдореЗрдВ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬрд┐рди рдкрд░ рд╣рдорд▓рд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рд╣рд░ рдХрд┐рд╕реА рдХреЛ рдкрд╕рдВрдж рдирд╣реАрдВ рд╣реИред</font></font></p><br><h3 id="run-command-ot-aws-system-manager"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AWS рд╕рд┐рд╕реНрдЯрдо рдореИрдиреЗрдЬрд░ рд╕реЗ рдХрдорд╛рдВрдб рдЪрд▓рд╛рдПрдБ </font></font></h3><br><p>  <a href="https://aws.amazon.com/blogs/aws/new-ec2-run-command-remote-instance-management-at-scale/">Run command    EC2</a> ,   2015 ,       .           тАФ   2,      <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-managedinstances.html"> </a> .       ,       ,   Systems Manager. </p><br><p> Run Command    DevOps   ad-hoc  ,      . </p><br><p>   ,  Run Command            ,        Windows,       -. </p><br><p>       <a href="https://medium.com/%40adhorn/injecting-chaos-to-amazon-ec2-using-amazon-system-manager-ca95ee7878f5">    AWS System Manager</a>   <a href="https://github.com/adhorn/chaos-ssm-documents">  </a>    .  тАФ ! </p><br><h2 id="zakruglyaemsya"> ! </h2><br><p>     ,          . </p><br><p> 1 тАФ - тАФ    ,     -   .  .          тАФ    , тАФ     , ,    .   ,     !    <a href="https://twitter.com/ovhall"> </a> : </p><br><blockquote> "  .      ". <br> тАФ ,    - Amazon Prime Video </blockquote><p> 2 тАФ    , ,        .                ,        -. </p><br><p> 3 тАФ        ,        ,    . </p><br><p> 4 тАФ , , ,     . ,  - тАФ        ,     . </p><br><p>    , , ,    . ,    . ,     ,       :-) </p><br><p> тАФ  </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi480802/">https://habr.com/ru/post/hi480802/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi480792/index.html">рдЙрдкрд╣рд╛рд░ рдЗрдВрдЬреАрдирд┐рдпрд░рд┐рдВрдЧ</a></li>
<li><a href="../hi480794/index.html">рдЦреБрд▓реЗ рджрд░рд╡рд╛рдЬреЗ рдХреЗ рдЦреЛрдЬ рдПрд▓реНрдЧреЛрд░рд┐рджрдо рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд╡рд┐рд╢реЗрд╖ рдорд╛рдорд▓реЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛</a></li>
<li><a href="../hi480796/index.html">рд╢реНрд░реЛрдбрд┐рдВрдЧрд░ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░, рдбреЗрдкреЙрдкреНрд╕ рдФрд░ рдХреИрдЯ</a></li>
<li><a href="../hi480798/index.html">C ++ Russia Piter 2019 рд░рд┐рдкреЛрд░реНрдЯ рдХреА рд╕рдореАрдХреНрд╖рд╛</a></li>
<li><a href="../hi480800/index.html">рдиреМрдХрд░реА рдкрд░реАрдХреНрд╖рдХ рдХреА рддрд▓рд╛рд╢ рд╣реИ? рдбреЗрд╡рд▓рдкрд░ рдХреМрд╢рд▓ рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реЛ рдЬрд╛рдЗрдП</a></li>
<li><a href="../hi480804/index.html">рд╕рд╣реА 3 рдбреА рдбрд┐рдЬрд╛рдЗрди рд╕рд┐рд╕реНрдЯрдо рдЪреБрдирдирд╛</a></li>
<li><a href="../hi480806/index.html">рд╢реАрд░реНрд╖ 5 рдХрд╛рд░рдг рдореБрдЭреЗ рдХрд╕реНрдЯрдо рд╕реАрдПрд╕рдПрд╕ рдЧреБрдг рдХреНрдпреЛрдВ рдкрд╕рдВрдж рд╣реИрдВ</a></li>
<li><a href="../hi480808/index.html">New Odnoklassniki рдлреНрд░рдВрдЯреЗрдВрдб: рдЬрд╛рд╡рд╛ рдореЗрдВ рд░рд┐рдПрдХреНрдЯ рд▓реЙрдиреНрдЪ рдХрд░рдирд╛ред рднрд╛рдЧ I</a></li>
<li><a href="../hi480810/index.html">рдбрд┐рдЬрд┐рдЯрд▓ рдкрд░рд┐рд╡рд░реНрддрди рдХреА рддреИрдпрд╛рд░реА рдХреИрд╕реЗ рдХрд░реЗрдВ? рдЕрдкрдиреЗ рд╡реНрдпрд╡рд╕рд╛рдп рдХреЛ рдкрд╣рд▓реЗ рд╣реА рдирд╖реНрдЯ рдХрд░ рджреЗрдВ</a></li>
<li><a href="../hi480812/index.html">рдПрдирд╡реАрдбрд┐рдпрд╛ рдЖрд░рдЯреАрдПрдХреНрд╕ - рд░рд┐рдпрд▓-рдЯрд╛рдЗрдо рд░реЗ рдЯреНрд░реЗрд╕рд┐рдВрдЧ рддрдХрдиреАрдХ рдЖрдЦрд┐рд░рдХрд╛рд░ SOLIDWORKS рд╡рд┐рдЬрд╝реБрдЕрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>