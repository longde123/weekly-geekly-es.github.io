<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯОз ЁЯУШ ЁЯХ╡я╕П рдЖрд░ рднрд╛рд╖рд╛ рдореЗрдВ рддрд╛рд░реАрдЦреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛ (рдореВрд▓ рд╕реБрд╡рд┐рдзрд╛рдПрдБ, рд╕рд╛рде рд╣реА рд╕рд╛рде рд▓реБрдмреНрд░рд┐рдбреЗрдЯ рдФрд░ рдЯрд╛рдЗрдордкрд░рд┐рдпреЛрдбреНрд╕рдЖрд░ рдкреИрдХреЗрдЬ) ЁЯСйЁЯП┐тАНЁЯТ╗ ЁЯОЗ ЁЯХг</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдХрд┐рд╕реА рднреА рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛ рдореЗрдВ рд╡рд░реНрддрдорд╛рди рддрд┐рдерд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ, "рд╣реИрд▓реЛ рд╡рд░реНрд▓реНрдб!" рдХреЗ рдмрд░рд╛рдмрд░ рдПрдХ рдСрдкрд░реЗрд╢рдиред рднрд╛рд╖рд╛ R рдХреЛрдИ рдЕрдкрд╡рд╛рдж рдирд╣реАрдВ рд╣реИред 


 рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рд╣рдо рдпрд╣ рд╕рдордЭреЗрдВрдЧреЗ рдХрд┐...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдЖрд░ рднрд╛рд╖рд╛ рдореЗрдВ рддрд╛рд░реАрдЦреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛ (рдореВрд▓ рд╕реБрд╡рд┐рдзрд╛рдПрдБ, рд╕рд╛рде рд╣реА рд╕рд╛рде рд▓реБрдмреНрд░рд┐рдбреЗрдЯ рдФрд░ рдЯрд╛рдЗрдордкрд░рд┐рдпреЛрдбреНрд╕рдЖрд░ рдкреИрдХреЗрдЬ)</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/469215/"><p>  рдХрд┐рд╕реА рднреА рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛ рдореЗрдВ рд╡рд░реНрддрдорд╛рди рддрд┐рдерд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ, "рд╣реИрд▓реЛ рд╡рд░реНрд▓реНрдб!" рдХреЗ рдмрд░рд╛рдмрд░ рдПрдХ рдСрдкрд░реЗрд╢рдиред  рднрд╛рд╖рд╛ R рдХреЛрдИ рдЕрдкрд╡рд╛рдж рдирд╣реАрдВ рд╣реИред </p><br><p>  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рд╣рдо рдпрд╣ рд╕рдордЭреЗрдВрдЧреЗ рдХрд┐ рдЖрд░ рднрд╛рд╖рд╛ рдХреЗ рдореВрд▓ рд╕рд┐рдВрдЯреИрдХреНрд╕ рдореЗрдВ рддрд╛рд░реАрдЦреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХреИрд╕реЗ рд╡реНрдпрд╡рд╕реНрдерд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдХрдИ рдЙрдкрдпреЛрдЧреА рдкреИрдХреЗрдЬреЛрдВ рдкрд░ рднреА рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВ рдЬреЛ рддрд╛рд░реАрдЦреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп рдЕрдкрдиреА рдХреНрд╖рдорддрд╛рдУрдВ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рддреЗ рд╣реИрдВ: </p><br><ul><li> <code>lubridate</code> - рдПрдХ рдкреИрдХреЗрдЬ рдЬреЛ рддрд┐рдерд┐рдпреЛрдВ рдХреЗ рдмреАрдЪ рдЕрдВрдХрдЧрдгрд┐рддреАрдп рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ; </li><li>  <code>timeperiodsR</code> - рд╕рдордп рдЕрдВрддрд░рд╛рд▓ рдФрд░ рдЙрдирдХреЗ рдШрдЯрдХреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреИрдХреЗрдЬред </li></ul><br><p><img src="https://habrastorage.org/webt/l2/mg/nl/l2mgnl_5u7eejcuu1hazlp5xocg.jpeg"></p><a name="habracut"></a><br><hr><br><h1 id="soderzhanie">  рд╕рд╛рдордЧреНрд░реА </h1><br><ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдореВрд▓ рдЖрд░ рд╕рд┐рдВрдЯреИрдХреНрд╕ рдореЗрдВ рддрд┐рдерд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛</a> <br>  1.1ред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд╛рда рдХреЛ рджрд┐рдирд╛рдВрдХ рдореЗрдВ рдмрджрд▓реЗрдВ</a> <br>  1.2ред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдмреЗрд╕ рдЖрд░ рдореЗрдВ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрддрд┐ рджрд┐рдирд╛рдВрдХ рдШрдЯрдХ</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реБрдмреНрд░рд┐рдбреЗрдЯ рдкреИрдХреЗрдЬ рдХреЗ рд╕рд╛рде рддрд╛рд░реАрдЦреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛</a> <br>  2.1ред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реБрдмреНрд░рд┐рдбреЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрд╛рда рдХреЛ рддрд╛рд░реАрдЦ рдореЗрдВ рдмрджрд▓реЗрдВ</a> <br>  2.2ред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд▓реБрдмреНрд░рд┐рдбреЗрдЯ рдкреИрдХреЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рджрд┐рдирд╛рдВрдХ рдШрдЯрдХреЛрдВ рдХреЛ рдкреБрдирдГ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛</a> <br>  2.3ред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рддрд┐рдерд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдЕрдВрдХрдЧрдгрд┐рдд рд╕рдВрдЪрд╛рд▓рди</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рдордпрд╛рд╡рдзрд┐ рдХреЗ рд╕рд╛рде рд╕рд░рд▓реАрдХреГрдд рдХрд╛рд░реНрдп, рдЯрд╛рдЗрдордкреЗрд░реЛрдбреНрд╕рдЖрд░ рдкреИрдХреЗрдЬ</a> <br>  3.1ред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">TimeperiodsR рдореЗрдВ рд╕рдордп рдЕрдВрддрд░рд╛рд▓</a> <br>  3.2ред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">TimeperiodsR рдХреЗ рд╕рд╛рде рджрд┐рдирд╛рдВрдХ рд╡реЗрдХреНрдЯрд░ рдХреЛ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдирд╛</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдирд┐рд╖реНрдХрд░реНрд╖</a> </li></ol><br><hr><br><h1 id="rabota-s-datami-v-bazovom-sintaksise-r">  рдореВрд▓ рдЖрд░ рд╕рд┐рдВрдЯреИрдХреНрд╕ рдореЗрдВ рддрд┐рдерд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛ </h1><br><h3 id="preobrazovanie-teksta-v-datu">  рдкрд╛рда рдХреЛ рджрд┐рдирд╛рдВрдХ рдореЗрдВ рдмрджрд▓реЗрдВ </h3><br><p>  рдмреБрдирд┐рдпрд╛рджреА рдЖрд░ рдореЗрдВ рддрд╛рд░реАрдЦреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдпреЛрдВ рдХрд╛ рдПрдХ рд╕реЗрдЯ рд╣реИред  рдореВрд▓ рд╕рд┐рдВрдЯреИрдХреНрд╕ рдХрд╛ рдорд╛рдЗрдирд╕ рдпрд╣ рд╣реИ рдХрд┐ рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдирд╛рдо рдФрд░ рддрд░реНрдХреЛрдВ рдХрд╛ рд░рдЬрд┐рд╕реНрдЯрд░ рдмрд╣реБрдд рд╣реА рдЦрдВрдбрд┐рдд рд╣реИ, рдФрд░ рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд░реВрдк рд╕реЗ рдЗрд╕рдХрд╛ рдХреЛрдИ рддрд╛рд░реНрдХрд┐рдХ рд╕рдВрдмрдВрдз рдирд╣реАрдВ рд╣реИред  рдлрд┐рд░ рднреА, рднрд╛рд╖рд╛ рдХреЗ рдмреБрдирд┐рдпрд╛рджреА рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдЬрд╛рдирдирд╛ рдЪрд╛рд╣рд┐рдП, рдЗрд╕рд▓рд┐рдП рд╣рдо рдЙрдирдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░реЗрдВрдЧреЗред </p><br><p>  рдЕрдХреНрд╕рд░, рдЖрд░рдПрд╕рд╡реА рдлрд╛рдЗрд▓реЛрдВ, рдпрд╛ рдЕрдиреНрдп рд╕реНрд░реЛрддреЛрдВ рд╕реЗ рдбреЗрдЯрд╛ рдХреЛ рдЖрд░ рдореЗрдВ рд▓реЛрдб рдХрд░рддреЗ рд╕рдордп, рдЖрдкрдХреЛ рдкрд╛рда рдХреЗ рд░реВрдк рдореЗрдВ рддрд╛рд░реАрдЦ рдорд┐рд▓рддреА рд╣реИред  рдЗрд╕ рдкрд╛рда рдХреЛ рд╕рд╣реА рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░ рдореЗрдВ <code>as.Date()</code> рд▓рд┐рдП, <code>as.Date()</code> рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред </p><br><pre> <code class="plaintext hljs">#      my_dates &lt;- c("2019-09-01", "2019-09-10", "2019-09-23") #    class(my_dates)</code> </pre> <br><pre> <code class="plaintext hljs">#&gt; [1] "character"</code> </pre> <br><pre> <code class="plaintext hljs">#     my_dates &lt;- as.Date(my_dates) #    class(my_dates)</code> </pre> <br><pre> <code class="plaintext hljs">#&gt; [1] "Date"</code> </pre> <br><p>  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, <code>as.Date()</code> рджреЛ рд╕реНрд╡рд░реВрдкреЛрдВ рдореЗрдВ рдПрдХ рддрд┐рдерд┐ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИ: <em>YYYY-MM-DD</em> рдпрд╛ <em>YYYY / MM / DD</em> ред <br>  рдпрджрд┐ рдЖрдкрдХреЗ рдбреЗрдЯрд╛ рд╕реЗрдЯ рдореЗрдВ рджрд┐рдирд╛рдВрдХ рдХрд┐рд╕реА рдЕрдиреНрдп рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд╣реИрдВ, рддреЛ рдЖрдк рд░реВрдкрд╛рдВрддрд░рдг рдХреЗ рд▓рд┐рдП <code>format</code> рддрд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><pre> <code class="plaintext hljs">as.Date("September 26, 2019", format = "%B %d, %Y")</code> </pre> <br><p>  <em>рдкреНрд░рд╛рд░реВрдк</em> рдХрд┐рд╕реА рднреА рд╕рдордп рдЕрдВрддрд░рд╛рд▓ рдФрд░ рдЙрд╕рдХреЗ рдкреНрд░рд╛рд░реВрдк рдХреЛ рджрд░реНрд╢рд╛рддреЗ рд╣реБрдП рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдлреЙрд░реНрдо рдСрдкрд░реЗрдЯрд░реЛрдВ рдореЗрдВ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИ, рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рдмрд╛рд░ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдорд╛рди рдиреАрдЪреЗ рджреА рдЧрдИ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рджрд┐рдЦрд╛рдП рдЧрдП рд╣реИрдВ: </p><br><div class="scrollable-table"><table><thead><tr><th>  рдкреНрд░рд╛рд░реВрдк </th><th>  рд╡рд┐рд╡рд░рдг </th></tr></thead><tbody><tr><td>  % d </td><td>  рдорд╣реАрдиреЗ рдореЗрдВ рджрд┐рди рдХреА рд╕рдВрдЦреНрдпрд╛ </td></tr><tr><td>  % рдП </td><td>  рд╕рдкреНрддрд╛рд╣ рдХреЗ рджрд┐рди рдХреЗ рдирд╛рдо рдХреЗ рд▓рд┐рдП рд╕рдВрдХреНрд╖рд┐рдкреНрддрд┐рдХрд░рдг </td></tr><tr><td>  % рдП </td><td>  рд╕рдкреНрддрд╛рд╣ рдХреЗ рджрд┐рди рдХрд╛ рдкреВрд░рд╛ рдирд╛рдо </td></tr><tr><td>  % рд╡ </td><td>  рд╕рдкреНрддрд╛рд╣ рд╕рдВрдЦреНрдпрд╛ рдХрд╛ рджрд┐рди (0-6, рдЬрд╣рд╛рдВ 0 рд░рд╡рд┐рд╡рд╛рд░ рд╣реИ) </td></tr><tr><td>  % рдо </td><td>  рджреЛ рдЕрдВрдХреЛрдВ рдХрд╛ рдорд╣реАрдирд╛ рдкрджрдирд╛рдо (01-12) </td></tr><tr><td>  % рдм </td><td>  рдорд╣реАрдиреЗ рдХреЗ рдирд╛рдо рдХреЗ рд▓рд┐рдП рд╕рдВрдХреНрд╖рд┐рдкреНрддрд┐рдХрд░рдг (рдЕрдкреНрд░реИрд▓, рдорд╛рд░реНрдЪ, ...) </td></tr><tr><td>  % рдм </td><td>  рдкреВрд░реЗ рдорд╣реАрдиреЗ рдХрд╛ рдирд╛рдо </td></tr><tr><td>  % рдп </td><td>  рджреЛ рдЕрдВрдХреЛрдВ рдХрд╛ рд╡рд░реНрд╖ рдкрджрдирд╛рдо </td></tr><tr><td>  % рдп </td><td>  рдЪрд╛рд░ рдЕрдВрдХреЛрдВ рдХрд╛ рд╡рд░реНрд╖ рдкрджрдирд╛рдо </td></tr><tr><td>  % рдЬ </td><td>  рд╡рд░реНрд╖ рдХреА рджрд┐рди рд╕рдВрдЦреНрдпрд╛ (001 - 366) </td></tr><tr><td>  % рдпреВ </td><td>  рд╕рдкреНрддрд╛рд╣ рдХреА рд╕рдВрдЦреНрдпрд╛ (00 - 53), рд╕рдкреНрддрд╛рд╣ рд░рд╡рд┐рд╡рд╛рд░ рд╕реЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ </td></tr><tr><td>  % W </td><td>  рд╕рдкреНрддрд╛рд╣ рдХреА рд╕рдВрдЦреНрдпрд╛ (00 - 53), рд╕рдкреНрддрд╛рд╣ рд╕реЛрдорд╡рд╛рд░ рд╕реЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ </td></tr></tbody></table></div><br><p>  рддрджрдиреБрд╕рд╛рд░, "26 рд╕рд┐рддрдВрдмрд░, 2019" рдорд╣реАрдиреЗ, рджрд┐рди рдФрд░ рд╡рд░реНрд╖ рдХрд╛ рдкреВрд░рд╛ рдирд╛рдо рд╣реИред  рдЖрдк рд╕рдВрдЪрд╛рд▓рдХреЛрдВ рдХреЗ рд╕рд╛рде рдЗрд╕ рддрд┐рдерд┐ рдкреНрд░рд╛рд░реВрдк рдХрд╛ рд╡рд░реНрдгрди рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: <code>"%B %d, %Y"</code> ред </p><br><p>  <strong>рдЬрд╣рд╛рдВ:</strong> </p><br><ul><li>  <code>%B</code> - рдкреВрд░реЗ рдорд╣реАрдиреЗ рдХрд╛ рдирд╛рдо </li><li>  <code>%d</code> - рдорд╣реАрдиреЗ рдореЗрдВ рджрд┐рди рдХреА рд╕рдВрдЦреНрдпрд╛ </li><li>  <code>%Y</code> - рдЪрд╛рд░ рдЕрдВрдХреЛрдВ рдХрд╛ рд╡рд░реНрд╖ рдкрджрдирд╛рдо </li></ul><br><p>  рджрд┐рдирд╛рдВрдХ рдкреНрд░рд╛рд░реВрдк рдХрд╛ рд╡рд░реНрдгрди рдХрд░рддреЗ рд╕рдордп, рдЕрдкрдиреЗ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЗ рд╕рднреА рдЕрддрд┐рд░рд┐рдХреНрдд рд╡рд░реНрдгреЛрдВ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдбреИрд╢, рдЕрд▓реНрдкрд╡рд┐рд░рд╛рдо, рдЕрд╡рдзрд┐, рд░рд┐рдХреНрдд рд╕реНрдерд╛рди, рдФрд░ рдЗрд╕реА рддрд░рд╣ред  рдореЗрд░реЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, "26 рд╕рд┐рддрдВрдмрд░, 2019", рддрд╛рд░реАрдЦ рдХреЗ рдмрд╛рдж рдПрдХ рдЕрд▓реНрдкрд╡рд┐рд░рд╛рдо рд░рдЦрд╛ рдЧрдпрд╛ рд╣реИ, рдФрд░ рдПрдХ рдЕрд▓реНрдкрд╡рд┐рд░рд╛рдо рдХреЛ рдкреНрд░рд╛рд░реВрдк рд╡рд┐рд╡рд░рдг рдореЗрдВ рднреА рд░рдЦрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП: <code>"%B %d, %Y"</code> ред </p><br><p>  рдРрд╕реА рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпрд╛рдВ рд╣реЛрддреА рд╣реИрдВ рдЬрдм рдЖрдкрдХреЛ рдПрдХ рддрд╛рд░реАрдЦ рдорд┐рд▓рддреА рд╣реИ рдЬреЛ рди рдХреЗрд╡рд▓ рдорд╛рдирдХ рдкреНрд░рд╛рд░реВрдкреЛрдВ <em>(YYYY-MM-DD рдпрд╛ YYYY / MM / DD) рдХреЗ</em> рд▓рд┐рдП рдЕрдиреБрдЪрд┐рдд рд╣реИ, рдмрд▓реНрдХрд┐ рдПрдХ рдРрд╕реА рднрд╛рд╖рд╛ рдореЗрдВ рднреА рд╣реИ рдЬреЛ рдЖрдкрдХреЗ рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реЗрдЯрд┐рдВрдЧ рд╕реЗ рднрд┐рдиреНрди рд╣реЛрддреА рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдкрдиреЗ рдбреЗрдЯрд╛ рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ рд╣реИ рдЬрд╣рд╛рдБ рджрд┐рдирд╛рдВрдХ рдирд┐рдореНрди рд░реВрдк рдореЗрдВ рдЗрдВрдЧрд┐рдд рдХреА рдЧрдИ рд╣реИ: "15 рджрд┐рд╕рдВрдмрд░, 2019"ред  рдЗрд╕ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЛ рдХрд┐рд╕реА рджрд┐рдирд╛рдВрдХ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ рд▓реЛрдХреЗрд▓ рдХреЛ рдмрджрд▓рдирд╛ рд╣реЛрдЧрд╛ред </p><br><pre> <code class="plaintext hljs">#   Sys.setlocale("LC_TIME", "Russian") #     as.Date(" 15, 2019 .", format = "%B %d, %Y")</code> </pre> <br><h3 id="izvlechenie-komponentov-daty-v-bazovom-r">  рдмреЗрд╕ рдЖрд░ рдореЗрдВ рдкреБрдирд░реНрдкреНрд░рд╛рдкреНрддрд┐ рджрд┐рдирд╛рдВрдХ рдШрдЯрдХ </h3><br><p>  рдмреБрдирд┐рдпрд╛рджреА рдЖрд░ рдореЗрдВ рдХрдИ рдХрд╛рд░реНрдп рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ рдЖрдкрдХреЛ <em>рджрд┐рдирд╛рдВрдХ</em> рд╡рд░реНрдЧ рдХреЗ рдХрд┐рд╕реА рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдХрд┐рд╕реА рднреА рднрд╛рдЧ рдХреЛ рдирд┐рдХрд╛рд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред </p><br><pre> <code class="plaintext hljs">current_date &lt;- Sys.Date() #   weekdays(current_date) #     months(current_date) #      quarters(current_date) #     </code> </pre> <br><p>  рдЖрдзрд╛рд░ R рдореЗрдВ <em>рджрд┐рдирд╛рдВрдХ</em> рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рдореБрдЦреНрдп рд╡рд░реНрдЧ рдХреЗ рдЕрд▓рд╛рд╡рд╛, 2 рдФрд░ рдбреЗрдЯрд╛ рдкреНрд░рдХрд╛рд░ рд╣реИрдВ рдЬреЛ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░рддреЗ рд╣реИрдВ: <em>POSIXlt</em> , <em>POSIXct</em> ред  рдЗрди рд╡рд░реНрдЧреЛрдВ рдФрд░ <em>рджрд┐рдирд╛рдВрдХ рдХреЗ</em> рдмреАрдЪ рдореБрдЦреНрдп рдЕрдВрддрд░ рдпрд╣ рд╣реИ рдХрд┐ рд╡реЗ рддрд╛рд░реАрдЦ рдХреЗ рдЕрд▓рд╛рд╡рд╛ рд╕рдордп рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░рддреЗ рд╣реИрдВред </p><br><pre> <code class="plaintext hljs">#      current_time &lt;- Sys.time() #    current_time class(current_time)</code> </pre> <br><pre> <code class="plaintext hljs"># "POSIXct" "POSIXt"</code> </pre><br><p>  <code>Sys.time()</code> рдлрд╝рдВрдХреНрд╢рди <em>POSIXct</em> рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рд╡рд░реНрддрдорд╛рди рджрд┐рдирд╛рдВрдХ рдФрд░ рд╕рдордп <em>рд▓реМрдЯрд╛рддрд╛</em> рд╣реИред  рдпрд╣ рдкреНрд░рд╛рд░реВрдк <em>UNIXTIME рдХреЗ</em> рдЕрд░реНрде рдореЗрдВ рд╕рдорд╛рди рд╣реИ, рдФрд░ <em>31 рджрд┐рд╕рдВрдмрд░, 1969 рд╕реЗ 1 рдЬрдирд╡рд░реА, 1970</em> рддрдХ UNIX рдпреБрдЧ <em>(рдордзреНрдпрд░рд╛рддреНрд░рд┐ (UTC)</em> рдХреА рд╢реБрд░реБрдЖрдд рдХреЗ рдмрд╛рдж рд╕реЗ рд╕реЗрдХрдВрдб рдХреА рд╕рдВрдЦреНрдпрд╛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред </p><br><p>  <em>POSIXlt</em> рд╡рд░реНрдЧ рднреА рд╕рдордп рдФрд░ рддрд╛рд░реАрдЦ рдФрд░ рдЙрдирдХреЗ рд╕рднреА рдШрдЯрдХреЛрдВ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдпрд╣ рдПрдХ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╕рдВрд░рдЪрдирд╛ рдХреЗ рд╕рд╛рде рдПрдХ рд╡рд╕реНрддреБ рд╣реИ, рд▓реЗрдХрд┐рди рдЬрд┐рд╕рдореЗрдВ рд╕реЗ рддрд╛рд░реАрдЦ рдФрд░ рд╕рдордп рдХреЗ рдХрд┐рд╕реА рднреА рдШрдЯрдХ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИ  рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ <em>POSIXlt</em> рдПрдХ <em>рд╕реВрдЪреА рд╣реИ</em> ред </p><br><pre> <code class="plaintext hljs">#      current_time_ct &lt;- Sys.time() #    POSIXlt current_time_lt &lt;- as.POSIXlt(current_time_ct) #      current_time_lt$sec #  current_time_lt$min #  current_time_lt$hour #  current_time_lt$mday #   current_time_lt$mon #  current_time_lt$year #  current_time_lt$wday #   current_time_lt$yday #   current_time_lt$zone #  </code> </pre> <br><p>  <em>POSIX *</em> рд╕реНрд╡рд░реВрдкреЛрдВ рдореЗрдВ рд╕рдВрдЦреНрдпрд╛рддреНрдордХ рдФрд░ рдкрд╛рда рдбреЗрдЯрд╛ рдХрд╛ рд░реВрдкрд╛рдВрддрд░рдг рдХрд╛рд░реНрдп рдХреЗ рд░реВрдк рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред <code>as.POSIXct()</code> рдФрд░ <code>as.POSIXlt()</code> ред  рдЗрди рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ рддрд░реНрдХреЛрдВ рдХрд╛ рдПрдХ рдЫреЛрдЯрд╛ рд╕рд╛ рд╕рдореВрд╣ рд╣реЛрддрд╛ рд╣реИред </p><br><ul><li>  x - рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <em>рджрд┐рдирд╛рдВрдХ</em> рд╡рд░реНрдЧ рдХреА рд╕рдВрдЦреНрдпрд╛, рд╕реНрдЯреНрд░рд┐рдВрдЧ рдпрд╛ рдСрдмреНрдЬреЗрдХреНрдЯ; </li><li>  tz - рд╕рдордп рдХреНрд╖реЗрддреНрд░, рдбрд┐рдлрд╝реЙрд▓реНрдЯ "GMT" рд╣реИ; </li><li>  рдкреНрд░рд╛рд░реВрдк - рддрд╛рд░реАрдЦ рдкреНрд░рд╛рд░реВрдк рдХрд╛ рд╡рд┐рд╡рд░рдг рдЬрд┐рд╕рдореЗрдВ рддрд░реНрдХ x рдореЗрдВ рджрд┐рдпрд╛ рдЧрдпрд╛ рдбреЗрдЯрд╛ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ; </li><li>  рдЙрддреНрдкрддреНрддрд┐ - рдХрд┐рд╕реА рд╕рдВрдЦреНрдпрд╛ рдХреЛ POSIX рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рддреЗ рд╕рдордп рд╣реА рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЖрдкрдХреЛ рдЗрд╕ рддрд░реНрдХ рдХреЗ рд▓рд┐рдП рдПрдХ рджрд┐рдирд╛рдВрдХ рдСрдмреНрдЬреЗрдХреНрдЯ рдкрд╛рд╕ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдФрд░ рдЬрд┐рд╕ рд╕рдордп рд╕реЗ рд╕реЗрдХрдВрдб рдЧрд┐рдиреЗ рдЬрд╛рддреЗ рд╣реИрдВред  рдЖрдорддреМрд░ рдкрд░ UNIXTIME рд╕реЗ рдЕрдиреБрд╡рд╛рдж рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </li></ul><br><p>  рдпрджрд┐ рдЖрдкрдХрд╛ рджрд┐рдирд╛рдВрдХ рдФрд░ рд╕рдордп рдбреЗрдЯрд╛ <em>UNIXTIME</em> рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ рд╕рдордЭрдиреЗ рдпреЛрдЧреНрдп, рдкрдврд╝рдиреЗ рдпреЛрдЧреНрдп рддрд┐рдерд┐ рдореЗрдВ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрди рдЙрджрд╛рд╣рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">#  UNIXTIME    as.POSIXlt(1570084639, origin = "1970-01-01")</code> </pre> <br><p>  рдореВрд▓ рдореЗрдВ рдЖрдк рдХрд┐рд╕реА рднреА рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдпрджрд┐ рдЖрдкрдХреЗ рдбреЗрдЯрд╛ рдореЗрдВ рджрд┐рдирд╛рдВрдХ рдФрд░ рд╕рдордп 15 рд╕рд┐рддрдВрдмрд░, 2019 12:15 рд╕реЗ рд╢реБрд░реВ рд╣реЛрдиреЗ рд╡рд╛рд▓реЗ рд╕реЗрдХрдВрдб рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЗрдВрдЧрд┐рдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВ, рддреЛ рдЙрдиреНрд╣реЗрдВ рддрд╛рд░реАрдЦ рдореЗрдВ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ: </p><br><pre> <code class="plaintext hljs">#  UNIXTIME       15  2019 12:15 as.POSIXlt(1546123, origin = "2019-09-15 12:15:00")</code> </pre> <br><h1 id="rabota-s-datami-s-pomoschyu-paketa-lubridate">  рд▓реБрдмреНрд░рд┐рдбреЗрдЯ рдкреИрдХреЗрдЬ рдХреЗ рд╕рд╛рде рддрд╛рд░реАрдЦреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдирд╛ </h1><br><p>  <code>lubridate</code> рд╢рд╛рдпрдж R рдореЗрдВ рддрд╛рд░реАрдЦреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рд▓реЛрдХрдкреНрд░рд┐рдп рдкреИрдХреЗрдЬ рд╣реИред рдпрд╣ рдЖрдкрдХреЛ рдЕрддрд┐рд░рд┐рдХреНрдд рддреАрди рдФрд░ рдХрдХреНрд╖рд╛рдПрдВ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред </p><br><ul><li>  рдЕрд╡рдзрд┐ - рдЕрд╡рдзрд┐, рдЕрд░реНрдерд╛рддреНред  рджреЛ рдЯрд╛рдЗрдорд╕реНрдЯреИрдореНрдк рдХреЗ рдмреАрдЪ рд╕реЗрдХрдВрдб рдХреА рд╕рдВрдЦреНрдпрд╛; </li><li>  рдЕрд╡рдзрд┐ - рдЕрд╡рдзрд┐ рдЖрдкрдХреЛ рдорд╛рдирд╡-рдкрдардиреАрдп рдЕрдВрддрд░рд╛рд▓ рдХреА рддрд╛рд░реАрдЦреЛрдВ рдХреЗ рдмреАрдЪ рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИ: рджрд┐рди, рдорд╣реАрдиреЗ, рд╕рдкреНрддрд╛рд╣, рдФрд░ рдЗрд╕реА рддрд░рд╣; </li><li>  рдЕрдВрддрд░рд╛рд▓ - рд╕рдордп рдореЗрдВ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рдФрд░ рдЕрдВрддрд┐рдо рдмрд┐рдВрджреБ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рд╡рд╛рд▓реА рд╡рд╕реНрддреБрдПрдВред </li></ul><br><p>  R рднрд╛рд╖рд╛ рдореЗрдВ рдЕрддрд┐рд░рд┐рдХреНрдд рдкреИрдХреЗрдЬ рдХреА рд╕реНрдерд╛рдкрдирд╛ рдорд╛рдирдХ рдлрд╝рдВрдХреНрд╢рди <code>install.packages()</code> ред </p><br><p>  <code>lubridate</code> рдкреИрдХреЗрдЬ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛: </p><br><pre> <code class="plaintext hljs">install.packages("lubridate")</code> </pre> <br><h3 id="preobrazovanie-teksta-v-datu-s-pomoschyu-lubridate">  рд▓реБрдмреНрд░рд┐рдбреЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкрд╛рда рдХреЛ рддрд╛рд░реАрдЦ рдореЗрдВ рдмрджрд▓реЗрдВ </h3><br><p>  <code>lubridate</code> рдкреИрдХреЗрдЬ рдХреЗ рдХрд╛рд░реНрдп рдкрд╛рда рдХреЛ рддрд┐рдерд┐ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдХреА рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рдмрд╣реБрдд рд╕рд░рд▓ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдЖрдкрдХреЛ рджрд┐рдирд╛рдВрдХ рдФрд░ рд╕рдордп рдХреЗ рд╕рд╛рде рдХрд┐рд╕реА рднреА рдЕрдВрдХрдЧрдгрд┐рддреАрдп рд╕рдВрдЪрд╛рд▓рди рдХреЛ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рднреА рджреЗрддреЗ рд╣реИрдВред </p><br><p>  <code>today()</code> рдФрд░ <code>now()</code> рдХрд╛рд░реНрдп рд╡рд░реНрддрдорд╛рди рджрд┐рдирд╛рдВрдХ, рдпрд╛ рджрд┐рдирд╛рдВрдХ рдФрд░ рд╕рдордп рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдореЗрдВ рдЖрдкрдХреА рд╕рд╣рд╛рдпрддрд╛ рдХрд░реЗрдВрдЧреЗред </p><br><pre> <code class="plaintext hljs">today() #   now() #    </code> </pre> <br><p>  рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЛ рдбреЗрдЯ рдореЗрдВ рдмрджрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, <code>lubridate</code> рдкрд╛рд╕ <code>lubridate</code> рдХрд╛ рдкреВрд░рд╛ рдкрд░рд┐рд╡рд╛рд░ рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рдирдХреЗ рдирд╛рдо рдореЗрдВ рд╣рдореЗрд╢рд╛ рддреАрди рдЕрдХреНрд╖рд░ рд╣реЛрддреЗ рд╣реИрдВ, рдФрд░ рдбреЗрдЯ рдХрдВрдкреЛрдиреЗрдВрдЯреНрд╕ рдХрд╛ рдПрдХ рдХреНрд░рдо рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИ: </p><br><ul><li>  y - рд╡рд░реНрд╖ </li><li>  m - рдорд╣реАрдирд╛ </li><li>  рдШ - рджрд┐рди </li></ul><br><div class="spoiler">  <b class="spoiler_title">рд▓реБрдмреНрд░рд┐рдбреЗрдЯ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рддрд╛рд░реАрдЦ рдореЗрдВ рдкрд╛рда рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдпреЛрдВ рдХреА рд╕реВрдЪреА</b> <div class="spoiler_text"><ul><li> <code>ymd()</code> </li> <li> <code>ydm()</code> </li> <li> <code>mdy()</code> </li> <li> <code>myd()</code> </li> <li> <code>dmy()</code> </li> <li> <code>dym()</code> </li> <li> <code>yq()</code> </li> </ul></div></div><br><p>  рддрд╛рд░ рдХреЛ рддрд╛рд░реАрдЦреЛрдВ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдЙрджрд╛рд╣рд░рдг: </p><br><pre> <code class="plaintext hljs">ymd("2017 jan 21") mdy("March 20th, 2019") dmy("1st april of 2018")</code> </pre> <br><p>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдкрд╛рда рдХреЗ рд░реВрдк рдореЗрдВ рддрд┐рдерд┐ рд╡рд┐рд╡рд░рдг рдХреЛ рдкрд╣рдЪрд╛рдирдиреЗ рдореЗрдВ <code>lubridate</code> рдмрд╣реБрдд рдЕрдзрд┐рдХ рдХреБрд╢рд▓ рд╣реИ, рдФрд░ рдЖрдкрдХреЛ рдкреНрд░рд╛рд░реВрдк рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрддрд┐рд░рд┐рдХреНрдд рдСрдкрд░реЗрдЯрд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдмрд┐рдирд╛ рдкрд╛рда рдХреЛ рддрд┐рдерд┐ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред </p><br><h3 id="izvlechenie-komponentov-dat-s-pomoschyu-paketa-lubridate">  рд▓реБрдмреНрд░рд┐рдбреЗрдЯ рдкреИрдХреЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рджрд┐рдирд╛рдВрдХ рдШрдЯрдХреЛрдВ рдХреЛ рдкреБрдирдГ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ </h3><br><p>  рд╕рд╛рде рд╣реА <code>lubridate</code> рдХрд╛ рдЙрдкрдпреЛрдЧ <code>lubridate</code> рдЖрдк рдХрд┐рд╕реА рднреА рдШрдЯрдХ рдХреЛ рдбреЗрдЯ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">dt &lt;- ymd("2017 jan 21") year(dt) #  month(dt) #  mday(dt) #    yday(dt) #    wday(dt) #  </code> </pre> <br><h3 id="arifmeticheskie-operacii-s-datami">  рддрд┐рдерд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдЕрдВрдХрдЧрдгрд┐рдд рд╕рдВрдЪрд╛рд▓рди </h3><br><p>  рд▓реЗрдХрд┐рди, <code>lubridate</code> рдХреА рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдФрд░ рдмреБрдирд┐рдпрд╛рджреА рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рддрд╛рд░реАрдЦреЛрдВ рдХреЗ рд╕рд╛рде рд╡рд┐рднрд┐рдиреНрди рдЕрдВрдХрдЧрдгрд┐рддреАрдп рд╕рдВрдЪрд╛рд▓рди рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реИред </p><br><p>  рдХрд┐рд╕реА рддрд┐рдерд┐ рдХреЛ рддреАрди рдХрд╛рд░реНрдпреЛрдВ рджреНрд╡рд╛рд░рд╛ рдкреВрд░рд╛ рдХрд░рдирд╛ рд╣реИ: </p><br><ul><li>  <code>floor_date</code> - рдирд┐рдХрдЯрддрдо рдкрд┐рдЫрд▓реЗ рд╕рдордп рдХреЗ рд▓рд┐рдП рдЧреЛрд▓рд╛рдИ </li><li>  <code>ceiling_date</code> - рдирд┐рдХрдЯ рднрд╡рд┐рд╖реНрдп рдХреЗ рд▓рд┐рдП рдЧреЛрд▓рд╛рдИ </li><li>  <code>round_date</code> - рдирд┐рдХрдЯрддрдо рд╕рдордп рдХреЗ рд▓рд┐рдП рд░рд╛рдЙрдВрдбрд┐рдВрдЧ </li></ul><br><p>  рдЗрди рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ рд╕реЗ рдкреНрд░рддреНрдпреЗрдХ рдореЗрдВ рдПрдХ <em>рдЗрдХрд╛рдИ</em> рддрд░реНрдХ рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рдПрдХ рдЧреЛрд▓рд╛рдИ рдЗрдХрд╛рдИ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ: рджреВрд╕рд░рд╛, рдорд┐рдирдЯ, рдШрдВрдЯрд╛, рджрд┐рди, рд╕рдкреНрддрд╛рд╣, рдорд╣реАрдирд╛, рджреНрд╡рд┐рдорд╛рд╕рд┐рдХ, рддрд┐рдорд╛рд╣реА, рдореМрд╕рдо, рдЫрдорд╛рд╣реА, рд╡рд░реНрд╖ </p><br><pre> <code class="plaintext hljs">dt &lt;- ymd("2017 jan 21") round_date(dt, unit = "month") #    round_date(dt, unit = "3 month") #   3  round_date(dt, unit = "quarter") #    round_date(dt, unit = "season") #    round_date(dt, unit = "halfyear") #   </code> </pre> <br><p>  рддреЛ, рдЖрдЗрдП рдЬрд╛рдиреЗрдВ рдХрд┐ рд╡рд░реНрддрдорд╛рди рддрд┐рдерд┐ рдХреЗ 8 рджрд┐рди рдмрд╛рдж рдХреА рддрд╛рд░реАрдЦ рдХреИрд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ рдФрд░ рджреЛ рддрд┐рдерд┐рдпреЛрдВ рдХреЗ рдмреАрдЪ рд╡рд┐рднрд┐рдиреНрди рдЕрдиреНрдп рдЕрдВрдХрдЧрдгрд┐рддреАрдп рдЧрдгрдирд╛рдПрдВ рдХрд░реЗрдВред </p><br><pre> <code class="plaintext hljs">today() + days(8) #     8  today() - months(2) #    2   today() + weeks(12) #     12  today() - years(2) #    2  </code> </pre> <br><h1 id="uproschyonnaya-rabota-s-periodami-paket-timeperiodsr">  рд╕рдордпрд╛рд╡рдзрд┐ рдХреЗ рд╕рд╛рде рд╕рд░рд▓реАрдХреГрдд рдХрд╛рд░реНрдп, рдЯрд╛рдЗрдордкреЗрд░реЛрдбреНрд╕рдЖрд░ рдкреИрдХреЗрдЬред </h1><br><p>  <code>timeperiodsR</code> рдЙрди рддрд╛рд░реАрдЦреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рддрд╛рдЬрд╛ рдкреИрдХреЗрдЬ рд╣реИ рдЬреЛ рд╕рд┐рддрдВрдмрд░ 2019 рдореЗрдВ CRAN рдкрд░ рдкреНрд░рдХрд╛рд╢рд┐рдд рдХрд┐рдП рдЧрдП рдереЗред </p><br><p>  <code>timeperiodsR</code> рдкреИрдХреЗрдЬ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдирд╛: </p><br><pre> <code class="plaintext hljs">install.packages("timeperiodsR")</code> </pre> <br><p>  рдореБрдЦреНрдп рдЙрджреНрджреЗрд╢реНрдп рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рддрд┐рдерд┐ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╕рдордп рдЕрдВрддрд░рд╛рд▓ рдХреЛ рдЬрд▓реНрджреА рд╕реЗ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдирд╛ рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ, рдЖрдк рдЖрд╕рд╛рдиреА рд╕реЗ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><ul><li>  рдкрд┐рдЫрд▓реЗ рд╕рдкреНрддрд╛рд╣, рдорд╣реАрдиреЗ, рддрд┐рдорд╛рд╣реА рдпрд╛ рд╡рд░реНрд╖ рдореЗрдВ рдЖрд░ред </li><li>  рдХрд┐рд╕реА рджрд┐рдирд╛рдВрдХ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдЯрд╛рдЗрдо рд╕реНрд▓реЙрдЯ рдХреА рд╕рдВрдЦреНрдпрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ, рдЬреИрд╕реЗ рдХрд┐ рдкрд┐рдЫрд▓реЗ 4 рд╕рдкреНрддрд╛рд╣ред </li><li>  рдкреНрд░рд╛рдкреНрдд рд╕рдордп рдЕрдВрддрд░рд╛рд▓ рд╕реЗ рдЗрд╕рдХреЗ рдШрдЯрдХреЛрдВ рдХреЛ рдирд┐рдХрд╛рд▓рдирд╛ рдЖрд╕рд╛рди рд╣реИ: рдкреНрд░рд╛рд░рдВрдн рдФрд░ рд╕рдорд╛рдкреНрддрд┐ рддрд┐рдерд┐рдпрд╛рдВ, рдЕрдВрддрд░рд╛рд▓ рдореЗрдВ рдЧрд┐рд░рдиреЗ рд╡рд╛рд▓реЗ рджрд┐рдиреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛, рдЗрд╕реЗ рджрд░реНрдЬ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рддрд┐рдерд┐рдпреЛрдВ рдХрд╛ рдкреВрд░рд╛ рдХреНрд░рдоред </li></ul><br><p>  <code>timeperiodsR</code> рдкреИрдХреЗрдЬ рдХреЗ рд╕рднреА рдХрд╛рд░реНрдпреЛрдВ рдХрд╛ рдирд╛рдо рд╕рд╣рдЬ рд╣реИ, рдФрд░ рд╡реЗ рджреЛ рднрд╛рдЧреЛрдВ рд╕реЗ рдорд┐рд▓рдХрд░ рдмрдиреЗ рд╣реИрдВ: <em>рджрд┐рд╢рд╛</em> _ <em>рдЕрдВрддрд░рд╛рд▓</em> , рдЬрд╣рд╛рдВ: </p><br><ul><li>  <strong>рд╡рд╣ рджрд┐рд╢рд╛</strong> рдЬрд┐рд╕рдореЗрдВ рдХрд┐рд╕реА рджрд┐рдП рдЧрдП рджрд┐рдирд╛рдВрдХ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдЪрд▓рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ: last_n, рдкрд┐рдЫрд▓рд╛, рдпрд╣, рдЕрдЧрд▓рд╛, рдЕрдЧрд▓рд╛_nред </li><li>  рдЕрд╡рдзрд┐ рдХреА рдЧрдгрдирд╛ рдХреЗ рд▓рд┐рдП рд╕рдордп <strong>рдЕрдВрддрд░рд╛рд▓</strong> : рджрд┐рди, рд╕рдкреНрддрд╛рд╣, рдорд╣реАрдирд╛, рддрд┐рдорд╛рд╣реА, рд╡рд░реНрд╖ред </li></ul><br><div class="spoiler">  <b class="spoiler_title">рдкреВрд░реНрдг рд╕реБрд╡рд┐рдзрд╛ рд╕реЗрдЯ:</b> <div class="spoiler_text"><ul><li> <code>last_n_days()</code> </li> <li> <code>last_n_weeks()</code> </li> <li> <code>last_n_months()</code> </li> <li> <code>last_n_quarters()</code> </li> <li> <code>last_n_years()</code> </li> <li> <code>previous_week()</code> </li> <li> <code>previous_month()</code> </li> <li> <code>previous_quarter()</code> </li> <li> <code>previous_year()</code> </li> <li> <code>this_week()</code> </li> <li> <code>this_month()</code> </li> <li> <code>this_quarter()</code> </li> <li> <code>this_year()</code> </li> <li> <code>next_week()</code> </li> <li> <code>next_month()</code> </li> <li> <code>next_quarter()</code> </li> <li> <code>next_year()</code> </li> <li> <code>next_n_days()</code> </li> <li> <code>next_n_weeks()</code> </li> <li> <code>next_n_months()</code> </li> <li> <code>next_n_quarters()</code> </li> <li> <code>next_n_years()</code> </li> <li> <code>custom_period()</code> </li> </ul></div></div><br><h3 id="vremennye-intervaly-v-timeperiodsr">  TimeperiodsR рдореЗрдВ рд╕рдордп рдЕрдВрддрд░рд╛рд▓ </h3><br><p>  рдпреЗ рдХрд╛рд░реНрдп рддрдм рдЙрдкрдпреЛрдЧреА рд╣реЛрддреЗ рд╣реИрдВ рдЬрдм рдЖрдкрдХреЛ рдкрд┐рдЫрд▓реЗ рд╕рдкреНрддрд╛рд╣ рдпрд╛ рдорд╣реАрдиреЗ рдХреЗ рдЖрдВрдХрдбрд╝реЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд░рд┐рдкреЛрд░реНрдЯ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдкрд┐рдЫрд▓реЗ рдорд╣реАрдиреЗ рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рд╕рдорд╛рди рдирд╛рдо рдХреЗ рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдкрд┐рдЫрд▓реЗ_ рдорд╛рд╣ <code>previous_month()</code> : </p><br><pre> <code class="plaintext hljs">prmonth &lt;- previous_month()</code> </pre> <br><p>  рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рдЖрдкрдХреЗ рдкрд╛рд╕ <em>tpr class рдХрд╛</em> рдПрдХ <em>prprth</em> рдСрдмреНрдЬреЗрдХреНрдЯ рд╣реЛрдЧрд╛, рдЬрд┐рд╕рд╕реЗ рдЖрдк рдЖрд╕рд╛рдиреА рд╕реЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХрдВрдкреЛрдиреЗрдВрдЯ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><ul><li>  рдЕрд╡рдзрд┐ рдХреА рд╢реБрд░реБрдЖрдд рдХреА рддрд╛рд░реАрдЦ, рд╣рдорд╛рд░реЗ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рдпрд╣ рдЖрдЦрд┐рд░реА рдорд╣реАрдирд╛ рд╣реИ </li><li>  рдЕрд╡рдзрд┐ рд╕рдорд╛рдкреНрддрд┐ рдХреА рддрд╛рд░реАрдЦ </li><li>  рдЕрд╡рдзрд┐ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рджрд┐рдиреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ </li><li>  рдЕрд╡рдзрд┐ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рддрд┐рдерд┐рдпреЛрдВ рдХрд╛ рдХреНрд░рдо </li></ul><br><p>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЖрдк рдкреНрд░рддреНрдпреЗрдХ рдШрдЯрдХ рдХреЛ рд╡рд┐рднрд┐рдиреНрди рддрд░реАрдХреЛрдВ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ: </p><br><pre> <code class="plaintext hljs">#    prmonth$start start(prmonth) #    prmonth$end end(prmonth) #   prmonth$sequence seq(prmonth) #      prmonth$length length(prmonth)</code> </pre> <br><p>  рдЖрдк <em>рднрд╛рдЧ</em> рддрд░реНрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХрд┐рд╕реА рднреА рдШрдЯрдХ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдкреНрд░рддреНрдпреЗрдХ рдкреИрдХреЗрдЬ рдлрд╝рдВрдХреНрд╢рди рдореЗрдВ рдореМрдЬреВрдж рд╣реИред  рд╕рдВрднрд╛рд╡рд┐рдд рдорд╛рди: рдкреНрд░рд╛рд░рдВрдн, рдЕрдВрдд, рдЕрдиреБрдХреНрд░рдо, рд▓рдВрдмрд╛рдИред </p><br><pre> <code class="plaintext hljs">previous_month(part = "start") #   previous_month(part = "end") #   previous_month(part = "sequence") #   previous_month(part = "length") #    </code> </pre> <br><p>  рддреЛ, рдЪрд▓реЛ <code>timeperiodsR</code> рдкреИрдХреЗрдЬ рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╕рднреА рддрд░реНрдХреЛрдВ рдХреЛ рджреЗрдЦреЗрдВ: </p><br><ul><li>  <code>x</code> - рд╕рдВрджрд░реНрдн рддрд┐рдерд┐ рдЬрд┐рд╕рд╕реЗ рд╕рдордп рдЕрд╡рдзрд┐ рдХреА рдЧрдгрдирд╛ рдХреА рдЬрд╛рдПрдЧреА, рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рд╡рд░реНрддрдорд╛рди рддрд┐рдерд┐; </li><li>  <code>n</code> - рдЕрдВрддрд░рд╛рд▓ рдХреА рд╕рдВрдЦреНрдпрд╛ рдЬреЛ рдЕрд╡рдзрд┐ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛрдЧреА, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, 3 рдкрд┐рдЫрд▓реЗ рд╕рдкреНрддрд╛рд╣; </li><li>  <code>part</code> - <code>tpr</code> рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ рдХреМрди рд╕рд╛ рдШрдЯрдХ рдЖрдкрдХреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ; </li><li>  <code>week_start</code> - рдпрд╣ рддрд░реНрдХ рдХреЗрд╡рд▓ рд╣рдлреНрддреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдореМрдЬреВрдж рд╣реИ, рдФрд░ рдЖрдкрдХреЛ рд╕рдкреНрддрд╛рд╣ рдХреА рдЙрд╕ рджрд┐рди рдХреА рд╕рдВрдЦреНрдпрд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬрд┐рд╕реЗ рдЗрд╕рдХреА рд╢реБрд░реБрдЖрдд рдорд╛рдирд╛ рдЬрд╛рдПрдЧрд╛, рд╕рдкреНрддрд╛рд╣ рдХреА рд╢реБрд░реБрдЖрдд рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╕реЛрдорд╡рд╛рд░ рд╣реИ, рд▓реЗрдХрд┐рди рдЖрдк 1 рд╕реЗ рд╕реЛрдорд╡рд╛рд░ - 7 рд╕реЗ рд░рд╡рд┐рд╡рд╛рд░ рддрдХ рдХрд┐рд╕реА рдХреЛ рднреА рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </li></ul><br><p>  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдЖрдк рд╡рд░реНрддрдорд╛рди рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рдХрд┐рд╕реА рднреА рд╕рдордп рдЕрд╡рдзрд┐ рдХреА рдЧрдгрдирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдпрд╛ рдХрд┐рд╕реА рднреА рдЕрдиреНрдп рддрд╛рд░реАрдЦ рдХреЛ рджреЗ рд╕рдХрддреЗ рд╣реИрдВ, рдореИрдВ рдХреБрдЫ рдФрд░ рдЙрджрд╛рд╣рд░рдг рджреВрдВрдЧрд╛: </p><br><hr><br><pre> <code class="plaintext hljs">#  3   #  6  2019  #   -  last_n_weeks(x = "2019-10-06", n = 3, week_start = 1)</code> </pre> <br><pre> <code class="plaintext hljs"> Time period: from 9 September of 2019, Monday to 29 September of 2019, Sunday</code> </pre> <br><p>  6 рдЕрдХреНрдЯреВрдмрд░ рд░рд╡рд┐рд╡рд╛рд░ рд╣реИ: <br><img src="https://habrastorage.org/getpro/habr/post_images/32c/cca/606/32ccca60658416fc953de4ed8016226e.png" alt="6 рдЕрдХреНрдЯреВрдмрд░, 2019"></p><br><p>  рд╣рдореЗрдВ рдПрдХ рдРрд╕реА рдЕрд╡рдзрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬреЛ 6 рдЕрдХреНрдЯреВрдмрд░ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ 3 рдкрд┐рдЫрд▓реЗ рд╕рдкреНрддрд╛рд╣ рд▓реЗ рдЬрд╛рдПрдЧреАред  6 рдЕрдХреНрдЯреВрдмрд░ рдХреЗ рд╕рдкреНрддрд╛рд╣ рдХреЛ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ред  рддрджрдиреБрд╕рд╛рд░, рдпрд╣ 9 рд╕реЗ 29 рд╕рд┐рддрдВрдмрд░ рддрдХ рдХреА рдЕрд╡рдзрд┐ рд╣реИред </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/68f/749/599/68f7495999a3da01e764710b169a5a2b.png" alt="6 рдЕрдХреНрдЯреВрдмрд░, 2019 рд╕реЗ 3 рд╕рдкреНрддрд╛рд╣ рд╢реБрд░реВ"></p><br><hr><br><pre> <code class="plaintext hljs">#     4  #  16  2019  previous_month(x = "2019-09-16", n = 4)</code> </pre> <br><pre> <code class="plaintext hljs"> Time period: from 1 May of 2019, Wednesday to 31 May of 2019, Friday</code> </pre> <br><p>  рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рд╣рдо рдЙрд╕ рдорд╣реАрдиреЗ рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ рдЬреЛ 4 рдорд╣реАрдиреЗ рдкрд╣рд▓реЗ рдерд╛, рдЕрдЧрд░ рд╣рдо 16 рд╕рд┐рддрдВрдмрд░, 2019 рд╕реЗ рдЖрдЧреЗ рдмрдврд╝рддреЗ рд╣реИрдВ, рддрджрдиреБрд╕рд╛рд░, рдпрд╣ рдордИ 2019 рдерд╛ред </p><br><h3 id="filtraciya-vektora-dat-s-pomoschyu-timeperiodsr">  TimeperiodsR рдХреЗ рд╕рд╛рде рджрд┐рдирд╛рдВрдХ рд╡реЗрдХреНрдЯрд░ рдХреЛ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдирд╛ </h3><br><p>  <code>timeperiodsR</code> рдореЗрдВ рджрд┐рдирд╛рдВрдХ рдлрд╝рд┐рд▓реНрдЯрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рдСрдкрд░реЗрдЯрд░ рд╣реИрдВ: </p><br><ul><li>  % left_out% - tpr рд╡рд░реНрдЧ рдХреА рджреЛ рд╡рд╕реНрддреБрдУрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдмрд╛рдИрдВ рдУрд░ рд╕реЗ рдорд╛рди рд▓реМрдЯрд╛рддрд╛ рд╣реИ, рдЬреЛ рджрд╛рдИрдВ рдУрд░ рдирд╣реАрдВ рд╣реИред </li><li>  % left_in% - tpr рд╡рд░реНрдЧ рдХреА рджреЛ рд╡рд╕реНрддреБрдУрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рдмрд╛рдПрдБ рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реЗ рддрд┐рдерд┐рдпрд╛рдБ рд▓реМрдЯрд╛рддрд╛ рд╣реИ рдЬреЛ рджрд╛рдИрдВ рдУрд░ рд╢рд╛рдорд┐рд▓ рд╣реЛрддрд╛ рд╣реИред </li><li>  % right_out% - tpr рд╡рд░реНрдЧ рдХреА рджреЛ рд╡рд╕реНрддреБрдУрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рджрд╛рдИрдВ рдУрд░ рд╕реЗ рдорд╛рди рд▓реМрдЯрд╛рддрд╛ рд╣реИ, рдЬреЛ рдмрд╛рдИрдВ рдУрд░ рдЕрдиреБрдкрд╕реНрдерд┐рдд рд╣реИред </li><li>  % right_in% - tpr рд╡рд░реНрдЧ рдХреА рджреЛ рд╡рд╕реНрддреБрдУрдВ рдХреА рддреБрд▓рдирд╛ рдХрд░рддрд╛ рд╣реИ, рдФрд░ рджрд╛рдПрдВ рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реЗ рддрд╛рд░реАрдЦреЗрдВ рд╡рд╛рдкрд╕ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдмрд╛рдИрдВ рдУрд░ рдореМрдЬреВрдж рд╣реИрдВред </li></ul><br><pre> <code class="plaintext hljs">period1 &lt;- this_month("2019-11-07") period2 &lt;- previous_week("2019-11-07") period1 %left_in% period2 #    period1    period2 period1 %left_out% period2 #    period1     period2 period1 %right_in% period2 #    period2    period1 period1 %right_out% period2 #    period2     period1</code> </pre> <br><h1 id="zaklyuchenie">  рдирд┐рд╖реНрдХрд░реНрд╖ </h1><br><p>  рд╣рдордиреЗ рдЙрди рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд╡рд░реНрдЧреЛрдВ рдХреА рд╡рд┐рд╕реНрддрд╛рд░ рд╕реЗ рдЬрд╛рдВрдЪ рдХреА рдЬреЛ рдЖрд░ рднрд╛рд╖рд╛ рдореЗрдВ рддрд╛рд░реАрдЦреЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдбрд┐рдЬрд╝рд╛рдЗрди рдХреА рдЧрдИ рд╣реИрдВред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдЕрдм рдЖрдк рддрд╛рд░реАрдЦреЛрдВ рдкрд░ рдЕрдВрдХрдЧрдгрд┐рдд рд╕рдВрдЪрд╛рд▓рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдФрд░ рдЬрд▓реНрджреА рд╕реЗ рдХрд┐рд╕реА рднреА рд╕рдордп рд╕рдордпрд╛рд╡рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </p><br><p>  рдпрджрд┐ рдЖрдк рдЖрд░ рднрд╛рд╖рд╛ рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ, рддреЛ рдореИрдВ рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рдЪреИрдирд▓ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЖрд░ 4рдорд╛рд░реНрдХреЗрдЯрд┐рдВрдЧ рдХреА</a> рд╕рджрд╕реНрдпрддрд╛ рд▓реЗрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдордВрддреНрд░рд┐рдд рдХрд░рддрд╛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реВрдВ</a> , рдЬрд┐рд╕рдореЗрдВ рджреИрдирд┐рдХ рдЖрдзрд╛рд░ рдкрд░ рдореИрдВ рдЕрдкрдиреЗ рд░реЛрдЬрдорд░реНрд░рд╛ рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдореЗрдВ рдЖрд░ рднрд╛рд╖рд╛ рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЙрдкрдпреЛрдЧреА рд╕рд╛рдордЧреНрд░реА рд╕рд╛рдЭрд╛ рдХрд░рддрд╛ рд╣реВрдВред </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi469215/">https://habr.com/ru/post/hi469215/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi469203/index.html">рдирд╛рд╢реНрддреЗ рдФрд░ рд╣реИрдХрд╛рдердиреЛрдВ рдХреЗ рд▓рд┐рдП рдордЬрдмреВрдд "рдХреИрдл": рдпрд╣ рдбреЗрдЯрд╛ рд╕рд╛рдЗрдВрд╕ рд╕рдореБрджрд╛рдп рдХреЗ рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП рдХреНрдпреЛрдВ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ</a></li>
<li><a href="../hi469205/index.html">рд╕рдВрдЧреНрд░рд╣рд╛рд▓рдп рдбреЗрдЯрд╛рдЖрд░реНрдЯред рдЕрдирдкреИрдХ "рдЗрд▓реЗрдХреНрдЯреНрд░реЙрдирд┐рдХреНрд╕ рдПрдордПрд╕ 0511"</a></li>
<li><a href="../hi469209/index.html">рдХреИрд╕реЗ рд╕рд╕реНрддреЗ рдлрд┐рд▓рд┐рдкреНрд╕ рдПрд▓рдИрдбреА рд▓реИрдВрдк рдорд╣рдВрдЧреЗ рд╕реЗ рдЕрд▓рдЧ рд╣реИрдВ</a></li>
<li><a href="../hi469211/index.html">рдЖрдИрд╕реАрдбреА рдмреИрдВрдХ рдЧреНрд░рд╛рд╣рдХреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдкрд╛рд░рд┐рд╕реНрдерд┐рддрд┐рдХреА рддрдВрддреНрд░ рдХреИрд╕реЗ рд╡рд┐рдХрд╕рд┐рдд рдХрд░ рд░рд╣рд╛ рд╣реИ</a></li>
<li><a href="../hi469213/index.html">рдЬрдВрдЧ рдХреЗ рд╕рд╛рде рджрд╣рдирд╢реАрд▓ рдкрд╛рд░реНрд╕рд░ рдХреА рдЦреЛрдЬ</a></li>
<li><a href="../hi469217/index.html">рдЖрдИрдПрдордПрдЪрдУ рд╕рдВрдд рдЯреАрдорд▓рд╛рдЗрдб рдХреЙрдиреНрдл 2019</a></li>
<li><a href="../hi469219/index.html">IntelliJ IDEA рдкрд░ рд╢реАрд░реНрд╖ 20 рдиреЗрд╡рд┐рдЧреЗрд╢рди рд╕реБрд╡рд┐рдзрд╛рдПрдБред рднрд╛рдЧ реи</a></li>
<li><a href="../hi469221/index.html">рдХреИрд╕реНрдХреЗрдбреВрд░: рдПрдХ рдЪрд░рд┐рддреНрд░ рдХреЗ рдЫрд╣-рдмрд┐рдВрджреБ рдореБрджреНрд░рд╛ рдХреА рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдХрд░рдирд╛</a></li>
<li><a href="../hi469223/index.html">рдмреИрдХрдбреЛрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдПрд▓рдИрдбреА рд▓рд╛рдЗрдЯ</a></li>
<li><a href="../hi469229/index.html">рд░реЛрдмреЛрдЯрд┐рдХреНрд╕ рдХреНрд▓рдм рдкреНрд░реЛрдЬреЗрдХреНрдЯ "рдЧреЙрд░реЛ" - рдЖрдИрдЯреАрдПрдордУ рд╡рд┐рд╢реНрд╡рд╡рд┐рджреНрдпрд╛рд▓рдп рдХреЗ рддреНрд╡рд░рдХ рд╕реЗ рдПрдХ рд╕реНрдЯрд╛рд░реНрдЯрдЕрдк рдЗрд╕реЗ рдмрдирд╛рддрд╛ рд╣реИ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>