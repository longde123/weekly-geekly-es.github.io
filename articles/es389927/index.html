<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍⚖️ 🍏 👩‍👩‍👦‍👦 Descripción general y pruebas comparativas de PC "Elbrus 401 - PC". Tercera parte: herramientas de desarrollo ⏬ 🛌🏻 🚙</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continuamos revisando la nueva computadora doméstica. Después de un breve conocimiento de las características de la arquitectura de Elbrus, considerar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Descripción general y pruebas comparativas de PC "Elbrus 401 - PC". Tercera parte: herramientas de desarrollo</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/389927/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Continuamos revisando la nueva computadora doméstica. </font><font style="vertical-align: inherit;">Después de un breve conocimiento de las características de la arquitectura de Elbrus, consideraremos las herramientas de desarrollo de software que se nos ofrecen.</font></font><br>
<br>
<img src="https://habrastorage.org/files/6c3/e5f/5a6/6c3e5f5a6ffa4c3a84e7513fdeadb231.jpeg" alt="Vista frontal y lateral de la unidad del sistema Elbrus 401-PC" title="Elbrus 401-PC.  Unidad del sistema  Vista frontal y lateral" width="288" height="288"><img src="https://habrastorage.org/files/9d3/6bd/204/9d36bd20497345beb64a7062a9362a0b.png" alt="Programa de lenguaje de máquina de muestra E2K" title="Elbrus 401-PC.  Lenguaje de máquina E2K.  Programa ejemplo" width="400" height="288"><br>
<br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recordemos la estructura del artículo:</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">revisión de hardware</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proceso de adquisición;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hardware</font></font></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">revisión de software</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lanzamiento del sistema operativo;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">software regular;</font></font></li>
</ul></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resumen de herramientas de desarrollo:</font></font></strong><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">características de la arquitectura</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lenguaje de máquina</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">herramientas de desarrollo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rendimiento de evaluación comparativa</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descripción de computadoras rivales</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resultados de referencia;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resumiendo</font></font></li>
</ul></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Que tengas una buena lectura!</font></font><br>
<br>
<h1><a name="arch"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Características de la arquitectura</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La esencia de la arquitectura E2K en una oración se puede formular de la siguiente manera: registros de 64 bits, paralelismo explícito de ejecución de instrucciones y acceso estrictamente controlado a la memoria. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, los procesadores de arquitectura x86 o SPARC que son capaces de ejecutar más de una instrucción por ciclo (superescalar), y a veces también fuera de orden, están </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">implícitos</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">paralelismo: el procesador directamente en tiempo real analiza las dependencias entre instrucciones en una pequeña sección de código y, si lo considera posible, carga ciertos actuadores al mismo tiempo. A veces actúa de manera demasiado optimista, especulativamente, con descartar el resultado o revertir la transacción en caso de predicción fallida. A veces, por el contrario, es demasiado pesimista, suponiendo dependencias entre los valores de los registros o partes de los registros, que en realidad no son desde el punto de vista del programa ejecutable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si es&nbsp; </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">explícito</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">paralelismo (computación de instrucción explícitamente paralela, EPIC), el mismo análisis tiene lugar en la etapa de compilación, y todas las instrucciones de máquina definidas para ejecución paralela se escriben en una palabra de instrucción muy grande (VLIW), y Elbrus tiene la longitud de esto Las "palabras" no son fijas y pueden tener de 1 a 8 palabras dobles (en este contexto, una sola palabra tiene una capacidad de 32 bits).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin lugar a dudas, el compilador tiene muchas más oportunidades en términos de la cantidad de código cubierto, el tiempo y la memoria gastados, y al escribir el código de la máquina manualmente, el programador puede llevar a cabo una optimización aún más inteligente. Pero esto es en teoría, y en la práctica es poco probable que use el ensamblador, y por lo tanto todo depende de cuán bueno sea el compilador de optimización, y escribir uno no es una tarea fácil, por decir lo menos. Además, si, con paralelismo implícito, las instrucciones "lentas" pueden continuar funcionando sin bloquear la recepción de las siguientes instrucciones en otros actuadores, entonces, con un paralelismo explícito, todo el comando ancho esperará la finalización completa. Finalmente, un compilador optimizador ayudará poco en la interpretación de lenguajes dinámicos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo esto se entiende bien en el MCST, por supuesto, y por lo tanto, Elbrus también implementa tecnologías de ejecución especulativa, código y datos precargados y operaciones computacionales combinadas. </font><font style="vertical-align: inherit;">Por lo tanto, en lugar de teorizar y preguntarse infinitamente cuántos gigaflops hipotéticos puede ofrecer esta o aquella plataforma en un conjunto de circunstancias exitosas, en la cuarta parte del artículo simplemente tomamos y evaluamos el rendimiento real de los programas reales, aplicados y sintéticos.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VLIW: ¿un avance o un callejón sin salida?</font></font></b><div class="spoiler_text"> ,   VLIW   &nbsp;  : , &nbsp; ‑ Transmeta Crusoe&nbsp;— &nbsp;«».     , &nbsp;        &nbsp; Efficeon (   &nbsp; ) &nbsp;&nbsp;  .  &nbsp;,  &nbsp;   x86- &nbsp; ,  &nbsp;  . ,  &nbsp;Pentium&nbsp;M  &nbsp;,   &nbsp; Pentium&nbsp;4 ,      . &nbsp;&nbsp;   &nbsp;  VIA&nbsp;C3,    x86.<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Debido a su naturaleza exótica, la tecnología de ejecución protegida de programas en lenguajes C / C ++, donde el uso de punteros proporciona una amplia gama de oportunidades para dispararse en el pie, no es menos interesante. El concepto de protección contextual, implementado conjuntamente por el compilador en la etapa de ensamblaje y el procesador en tiempo de ejecución, así como el sistema operativo en términos de gestión de memoria, no permitirá violar el alcance de las variables, ya sea acceder a una variable de clase privada, datos privados de otro módulo, variables locales de la función de llamada . Cualquier manipulación con el cambio del nivel de acceso está permitida solo en la dirección de reducir los derechos. El bloqueo de enlaces a objetos de corta duración en estructuras de larga duración está bloqueado. También se evita que los intentos utilicen enlaces muertos: si el objeto al que se recibió el enlace ya se ha eliminado,incluso la ubicación de otra instalación nueva en la misma dirección no se considerará una excusa para acceder a su contenido. Se alienta a utilizar los datos como código y transferir el control a cualquier lugar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De hecho, tan pronto como pasamos de modismos de alto nivel a punteros de bajo nivel, todas estas áreas de visibilidad resultan ser nada más que sal sintáctica. Algunos casos (más simples) de mal uso de punteros a veces pueden ayudar a detectar analizadores de código fuente estático. Pero cuando el programa ya está traducido a instrucciones de máquina x86 o SPARC, nada impedirá que lea o escriba el valor de la celda de memoria incorrecta o el tamaño incorrecto, lo que provocará un bloqueo en un lugar completamente diferente, y aquí está sentado, mirando la pila dañada. y no tiene idea de dónde comenzar a depurar, porque en la otra máquina el mismo código se cumple con éxito. Y el desbordamiento de la pila y las vulnerabilidades resultantes son solo el flagelo de las plataformas populares. Es gratificante que nuestros desarrolladores aborden sistemáticamente estos problemas,y no se limita a organizar más y más muletas, cuyo efecto todavía se parece más bien a un rastrillo. Después de todo, a nadie le importa qué tan rápido funciona su programa si no funciona correctamente. Además, un control más estricto por parte del compilador lo obliga a reescribir el código "maloliente" e intolerable, lo que significa que indirectamente mejora la cultura de programación.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El orden de bytes cuando se almacenan números en la memoria de Elbrus, a diferencia de SPARC, es little endian (el byte inferior viene primero), es decir, como en x86. </font><font style="vertical-align: inherit;">Del mismo modo, dado que la plataforma tiene como objetivo admitir el código x86, no hay restricciones en la alineación de los datos en la memoria.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orden, alineación y portabilidad</font></font></b><div class="spoiler_text">&nbsp;,    Intel,   ,  &nbsp;    &nbsp; &nbsp; (,  32‑  &nbsp; <em>0x0400000<strong>5</strong></em>)&nbsp;—  &nbsp;  ,   , &nbsp; ,  &nbsp; .    - ,   &nbsp; ,  &nbsp;    &nbsp;,&nbsp;—   ,    &nbsp;  ( &nbsp; ,  UTF‑16),  &nbsp;  ,  , &nbsp;   , &nbsp;&nbsp;    ‑. ,         &nbsp; ,&nbsp;— , SPARC,&nbsp;—    &nbsp; .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede leer más sobre el diseño de las computadoras MCST en arquitecturas SPARC y E2K en el libro "Microprocesadores y complejos de computación de la familia Elbrus", que fue </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">publicado por Peter Publishing House</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en una&nbsp; </font><font style="vertical-align: inherit;">tirada mínima y se ha vendido durante mucho tiempo, pero está disponible de forma gratuita como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PDF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 MB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) y por una pequeña tarifa en&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Play</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">En el contexto de la falta de otra información detallada en el dominio público, esta publicación es solo un depósito de conocimiento. </font><font style="vertical-align: inherit;">Pero el texto se concentra principalmente en el hardware, los algoritmos de operación de las memorias intermedias y las tuberías, los cachés y los dispositivos de lógica aritmética: el tema de escribir programas [efectivos] no se aborda por completo, e incluso solo mencionar las instrucciones de la máquina se puede contar con los dedos.</font></font><br>
<br>
<h1><a name="asm"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lenguaje de máquina</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Además de compilar los lenguajes de alto nivel C, C ++, Fortran, la documentación en cada oportunidad no olvida mencionar la posibilidad de escribir programas directamente en Assembler, pero en ninguna parte se especifica cómo exactamente puede involucrarse en este arte de filigrana, donde al menos puede obtener una referencia a las instrucciones de la máquina. </font><font style="vertical-align: inherit;">Afortunadamente, el sistema tiene un depurador GDB que puede desmontar el código de los programas compilados previamente. </font><font style="vertical-align: inherit;">Para no ir más allá del alcance del artículo, escribimos una función aritmética simple que tiene una buena acumulación de trabajos paralelos.</font></font><br>
<br>
<pre><code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> CalcParallel(
	<span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> a,
	<span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> b,
	<span class="hljs-keyword"><span class="hljs-keyword">uint64_t</span></span> c,
	<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> d,
	<span class="hljs-keyword"><span class="hljs-keyword">uint32_t</span></span> e,
	<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> f,
	<span class="hljs-keyword"><span class="hljs-keyword">uint16_t</span></span> g,
	<span class="hljs-keyword"><span class="hljs-keyword">uint8_t</span></span> h<font></font>
) {<font></font>
	<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (a * b) + (c * d) - (e * f) + (g / h);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto es lo que se traduce al compilar en modo </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-O3</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="hljs perl"><span class="hljs-number"><span class="hljs-number">0x0000000000010490</span></span> &lt;+<span class="hljs-number"><span class="hljs-number">0</span></span>&gt;:<font></font>
	muld,<span class="hljs-number"><span class="hljs-number">1</span></span> %dr0, %dr1, %dg20<font></font>
	sxt,<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>, %r3, %dg19<font></font>
	getfs,<span class="hljs-number"><span class="hljs-number">3</span></span> %r6, _f32,_lts2 <span class="hljs-number"><span class="hljs-number">0x2400</span></span>, %g17<font></font>
	getfs,<span class="hljs-number"><span class="hljs-number">4</span></span> %r5, _lit32_ref, _lts2 <span class="hljs-number"><span class="hljs-number">0x00002400</span></span>, %g18<font></font>
	getfs,<span class="hljs-number"><span class="hljs-number">5</span></span> %r7, _f32,_lts3 <span class="hljs-number"><span class="hljs-number">0x200</span></span>, %g16
	<span class="hljs-keyword"><span class="hljs-keyword">return</span></span> %ctpr3<font></font>
	setwd wsz = <span class="hljs-number"><span class="hljs-number">0x5</span></span>, nfx = <span class="hljs-number"><span class="hljs-number">0x1</span></span>
	setbp psz = <span class="hljs-number"><span class="hljs-number">0x0</span></span>
<span class="hljs-number"><span class="hljs-number">0x00000000000104c8</span></span> &lt;+<span class="hljs-number"><span class="hljs-number">56</span></span>&gt;:<font></font>
	nop <span class="hljs-number"><span class="hljs-number">5</span></span>
	muld,<span class="hljs-number"><span class="hljs-number">0</span></span> %dr2, %dg19, %dg18<font></font>
	muls,<span class="hljs-number"><span class="hljs-number">3</span></span> %r4, %g18, %g17<font></font>
	sdivs,<span class="hljs-number"><span class="hljs-number">5</span></span> %g17, %g16, %g16
<span class="hljs-number"><span class="hljs-number">0x00000000000104e0</span></span> &lt;+<span class="hljs-number"><span class="hljs-number">80</span></span>&gt;:<font></font>
	sxt,<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span>, %g17, %dg17<font></font>
	addd,<span class="hljs-number"><span class="hljs-number">1</span></span> %dg20, %dg18, %dg18
<span class="hljs-number"><span class="hljs-number">0x00000000000104f0</span></span> &lt;+<span class="hljs-number"><span class="hljs-number">96</span></span>&gt;:<font></font>
	nop <span class="hljs-number"><span class="hljs-number">5</span></span>
	subd,<span class="hljs-number"><span class="hljs-number">0</span></span> %dg18, %dg17, %dg17
<span class="hljs-number"><span class="hljs-number">0x00000000000104f8</span></span> &lt;+<span class="hljs-number"><span class="hljs-number">104</span></span>&gt;:<font></font>
	sxt,<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>, %g16, %dg16
<span class="hljs-number"><span class="hljs-number">0x0000000000010500</span></span> &lt;+<span class="hljs-number"><span class="hljs-number">112</span></span>&gt;:<font></font>
	ct %ctpr3<font></font>
	ipd <span class="hljs-number"><span class="hljs-number">3</span></span>
	addd,<span class="hljs-number"><span class="hljs-number">0</span></span> %dg17, %dg16, %dr0
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo primero que llama la atención es que cada comando se decodifica inmediatamente en varias instrucciones ejecutadas en paralelo. La designación mnemónica de instrucciones es generalmente intuitiva, aunque algunos nombres parecen inusuales después de Intel: por ejemplo, una instrucción de extensión sin signo aquí se llama </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sxt</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , no&nbsp; </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">movzx</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . El parámetro de muchos comandos computacionales, además de los operandos mismos, es el número del dispositivo ejecutivo; no sin razón, ELBRUS significa programación explícita de utilización de recursos básicos, es decir, "planificación explícita para el uso de recursos básicos". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para acceder al valor de registro completo de 64 bits, el prefijo " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"; en teoría, también es posible acceder a los 16 y 8 bits inferiores del valor. La designación de registros globales de propósito general, de los cuales hay 32 piezas, tiene el prefijo " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " </font><font style="vertical-align: inherit;">antes del número </font><font style="vertical-align: inherit;">, y los registros de procedimientos locales con el prefijo " </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". El tamaño de la ventana de los registros locales solicitados por la instrucción </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setwd</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> puede alcanzar 224, y la </font><em><font style="vertical-align: inherit;">bomba se empuja a la</font></em><font style="vertical-align: inherit;"> pila automáticamente según sea necesario. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La forma en que aplica ciertas instrucciones es confusa: por ejemplo, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regresar</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como puede suponer, sirve para devolver el control al procedimiento de llamada, sin embargo, en todos los ejemplos de código estudiados, esta instrucción ocurre mucho antes del último comando (donde también está presente algún tipo de manipulación del contexto), a veces incluso en la primera palabra de comando, como aquí. Aunque el libro mencionado paga un párrafo completo sobre este tema, aún no nos queda claro. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Actualización a partir del 9 de febrero de 2016:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> los comentarios sugieren que la </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instrucción return</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> solo prepara el camino para regresar del subprograma y permite que el procesador comience a cargar los siguientes comandos del procedimiento de llamada, y el control en sí mismo regresa cuando la ejecución alcanza la instrucción&nbsp; </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ct</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, "código fácil de leer" y "código eficiente" están lejos de ser lo mismo cuando se trata de instrucciones de la máquina. </font><font style="vertical-align: inherit;">Si compila sin optimización, entonces el código es más consistente y similar al cálculo de la frente, pero a costa de alargarlo: en lugar de 6 palabras de comando saturadas, se generan 8 dispersas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sesión de adivinación en café molido para el sim, terminemos antes de fantasear con suposiciones completamente ridículas. </font><font style="vertical-align: inherit;">Esperemos que algún día la referencia de comandos y la guía de programación y optimización se hagan públicos.</font></font><br>
<br>
<h1><a name="devel"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Herramientas de desarrollo</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El compilador de lenguaje C / C ++ estándar en el sistema operativo Elbrus es LCC, un desarrollo patentado de la compañía MCST, compatible con GCC. </font><font style="vertical-align: inherit;">La información detallada sobre la estructura y los principios de este compilador no se publica, pero según </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">una entrevista con un desarrollador anterior de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> una de varias subespecies desarrolladas del compilador, </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">Edison Design Group</font></a><font style="vertical-align: inherit;"> utiliza una interfaz para el análisis de alto nivel de los códigos fuente&nbsp;</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, y la traducción de bajo nivel a las instrucciones de la máquina se puede realizar de diferentes maneras, sin optimización o con optimización. </font><font style="vertical-align: inherit;">Es el compilador de optimización que se entrega a los usuarios finales, no solo en la plataforma E2K, para la que simplemente no hay generadores de código de máquina alternativos, sino también en la familia de plataformas SPARC, donde también está disponible el GCC habitual como parte del sistema operativo MSVS.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teniendo en cuenta las características arquitectónicas enumeradas anteriormente (concurrencia obvia, ejecución segura de programas), el compilador LCC obviamente implementa muchas soluciones únicas dignas del estudio y las pruebas más rigurosos en la práctica. Desafortunadamente, al momento de escribir estas líneas, el autor no tiene calificaciones suficientes para esto, ni tiempo para tales estudios; Espero que tarde o temprano este problema sea abordado por un círculo mucho más amplio de representantes de la comunidad de TI, incluidos los más competentes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo que logró notar a simple vista al crear programas para probar el rendimiento, LCC en E2K con más frecuencia que otros brinda advertencias sobre posibles errores, construcciones analfabetas o simplemente lugares sospechosos en el código. Es cierto que el autor no está tan familiarizado con GCC para garantizar la distinción entre mensajes únicos de LCC en ruso y simplemente traducidos (además, la traducción es selectiva), y no estoy seguro de que un flujo más intenso de advertencias no sea el resultado de una configuración de ensamblaje completada automáticamente. Además, al no conocer la semántica de una sección de código en particular, a veces es difícil entender cuán inteligente es el compilador para encontrar errores ocultos o generar una falsa alarma. Por ejemplo, en el código Postgresql, la misma construcción se encuentra cuatro veces en el mismo archivo con ligeras variaciones:</font></font><br>
<br>
<pre><code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i = <span class="hljs-number"><span class="hljs-number">0</span></span>, ptr = cont-&gt;cells; *ptr; i++, ptr++) {<font></font>
<font></font>
	<span class="hljs-comment"><span class="hljs-comment">//....//</span></span><font></font>
<font></font>
	<span class="hljs-comment"><span class="hljs-comment">/* is string only whitespace? */</span></span>
	<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ((*ptr)[<span class="hljs-built_in"><span class="hljs-built_in">strspn</span></span>(*ptr, <span class="hljs-string"><span class="hljs-string">" \t"</span></span>)] == <span class="hljs-string"><span class="hljs-string">'\0'</span></span>)
		<span class="hljs-built_in"><span class="hljs-built_in">fputs</span></span>(<span class="hljs-string"><span class="hljs-string">"&amp;nbsp; "</span></span>, fout);
	<span class="hljs-keyword"><span class="hljs-keyword">else</span></span><font></font>
		html_escaped_print(*ptr, fout);<font></font>
<font></font>
	<span class="hljs-comment"><span class="hljs-comment">//....//</span></span><font></font>
}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El compilador predice una posible salida de la matriz unidimensional en la cadena con la llamada de la función </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strspn</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En qué circunstancias puede suceder esto, el autor no comprende (y no hubo tal advertencia en otras plataformas, aunque el modo de verificación es </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warray-limits</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es estándar para GCC), sin embargo, es notable que la replicación múltiple del mismo diseño no trivial (ya que era necesario explicar su propósito en el comentario), en lugar de ponerlo en una función separada con un nombre elocuente que no requiere explicación. Incluso si la alarma resultó ser falsa, detectar un código maloliente es un efecto útil; los autores del analizador estático PVS - Studio se quedarán sin trabajo. Pero en serio, sería divertido y útil comparar qué errores adicionales en el código el LCC es realmente capaz de detectar debido a las características únicas de la arquitectura E2K; al mismo tiempo, el mundo del software libre podría recibir otro lote de informes de errores.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro resultado de un conocido curiosa con LCC locuaz fue el autor de la educación, y luego sus colegas más experimentados, por lo que trigrafos ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trigrafos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) en lenguajes C / C ++, y por qué no están soportados por defecto, por suerte. Así es como vives y no sospeches que la combinación aparentemente inocua de puntuación en textos literales o comentarios puede resultar una bomba de tiempo, o un excelente material para un marcador de programa, dependiendo de qué lado de la barricada estés.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una consecuencia desagradable de la autosuficiencia de LCC es que su formato de mensaje es diferente al de GCC, y cuando se compila desde un entorno de desarrollo (por ejemplo, Qt Creator), estos mensajes se encuentran solo en el registro general de trabajo, pero no en la lista de problemas reconocidos. Quizás esto se pueda personalizar de alguna manera, ya sea desde el lado del compilador o en el entorno de desarrollo, pero al menos desde el primer momento no se comprende entre sí.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tradicionalmente grave para las plataformas domésticas, dado su rendimiento relativamente bajo, existe el problema de la compilación cruzada, es decir, el ensamblaje de programas para la arquitectura de destino y un conjunto específico de bibliotecas del sistema, utilizando recursos de computadoras más potentes, con arquitectura diferente y otro software. </font><font style="vertical-align: inherit;">A juzgar por las líneas de identificación en el núcleo del sistema Elbrus y en el compilador LCC, están ensambladas en Linux i386, pero este kit de herramientas para x86, por supuesto, no está incluido en el paquete de distribución del sistema en sí. </font><font style="vertical-align: inherit;">Es interesante, pero ¿es posible hacer lo contrario: en Elbrus para recopilar programas para otras plataformas? </font><font style="vertical-align: inherit;">(El autor no tuvo éxito más allá de la primera fase del ensamblaje de GCC para i386). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versiones de los paquetes más importantes para el desarrollador:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">compiladores: lcc 1.19.18 (compatible con gcc 4.4.0);</font></font></li>
<li>: erlang&nbsp;15.b.1, gawk&nbsp;4.0.2, lua&nbsp;5.1.4, openjdk&nbsp;1.6.0_27 (jvm&nbsp;20.0‑b12), perl&nbsp;5.16.3, php&nbsp;5.4.11, python&nbsp;2.7.3, slang&nbsp;2.2.4, tcl&nbsp;8.6.1;</li>
<li> : autoconf&nbsp;2.69, automake&nbsp;1.13.1, cmake&nbsp;2.8.10.2, distcc&nbsp;3.1, m4&nbsp;1.4.16, make&nbsp;3.81, makedepend&nbsp;1.0.4, pkgtools&nbsp;13.1, pmake&nbsp;1.45;</li>
<li> : binutils&nbsp;2.23.1, elfutils&nbsp;0.153, patchelf&nbsp;0.6;</li>
<li>: boost&nbsp;1.53.0, qt&nbsp;4.8.4, qt&nbsp;5.2.1;</li>
<li>: expat&nbsp;2.1.0, ffi&nbsp;3.0.10, gettext&nbsp;0.18.2, glib&nbsp;2.36.3, glibc&nbsp;2.16.0, gmp&nbsp;4.3.1, gtk+&nbsp;2.24.17, mesa&nbsp;10.0.4, ncurses&nbsp;5.9, opencv&nbsp;2.4.8, pcap&nbsp;1.3.0, popt&nbsp;1.7, protobuf&nbsp;2.4.1, sdl&nbsp;1.2.13, sqlite&nbsp;3.6.13, tk&nbsp;8.6.0, usb&nbsp;1.0.9, wxgtk&nbsp;2.8.12, xml‑parser&nbsp;2.41, zlib&nbsp;1.2.7;</li>
<li>  &nbsp;: cppunit&nbsp;1.12.1, dprof&nbsp;1.3, gdb&nbsp;7.2, perf&nbsp;3.5.7;</li>
<li> : anjuta&nbsp;2.32.1.1, glade&nbsp;2.12.0, glade&nbsp;3.5.1, qt‑creator&nbsp;2.7.1;</li>
<li>  : bzr&nbsp;2.2.4, cvs&nbsp;1.11.22, git&nbsp;1.8.0, patch&nbsp;2.7, subversion&nbsp;1.7.7.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nuevamente, si esperaba GCC 5, PHP 7 y Java 9, entonces estos son sus problemas, como dice un famoso futbolista. En este caso, también debo agradecer que al menos no GCC 3.4.6 (LCC 1.16.12), como en las versiones anteriores del sistema Elbrus, o GCC 3.3.6 en la composición del MSVS 3.0; Por cierto, el compilador principal en MSVS 3.0 sigue siendo GCC 2.95.4 (¿y por qué sorprenderse cuando hay un núcleo de una rama 2.4?). En comparación con la situación anterior, cuando era posible tropezar con un error de GCC corregido en el flujo ascendente hace diez años, el nuevo sistema tiene condiciones casi celestiales: incluso puede deslizarlo en C ++ 11 si no desea mantener la compatibilidad con versiones anteriores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La aparición de OpenJDK, al menos en alguna forma, ya se puede llamar un gran avance, porque no les gusta Java y&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mono</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en tales sistemas se conoce desde hace mucho tiempo; y esta aversión se puede entender cuando incluso los programas nativos apenas se mueven. Dado que hay muchos Javists entre los colegas del autor, debido a las circunstancias anteriores, obligados a contener los maravillosos impulsos de las almas, se decidió dedicar una serie separada de pruebas de rendimiento para dedicar Java. Mirando hacia el futuro, notamos que los resultados fueron desalentadores incluso en términos relativos: con el mismo éxito, puede escribir scripts interpretados en PHP o Python, probablemente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El soporte para C y C ++ solo no se limita a la compatibilidad con la Colección de compiladores GNU: el sistema todavía tiene un traductor Fortran. Como el autor solo está familiarizado con el profesor Fortran, cualquier persona interesada puede recomendar el </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">tema de</font></a><font style="vertical-align: inherit;"> diciembre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sobre "Hecho con nosotros"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, donde los comentarios se refieren al uso de este lenguaje como punto de referencia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para el postre, almacenamos lo más delicioso: la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">última parte del artículo está</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dedicada al estudio del desempeño de Elbrus en comparación con una variedad de plataformas de hardware y software, incluidas las domésticas.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es389927/">https://habr.com/ru/post/es389927/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es389915/index.html">RandomRace.ru - búsqueda de dirección para tontos (inicio)</a></li>
<li><a href="../es389917/index.html">Unidad flash electrónica multitool Power-flash</a></li>
<li><a href="../es389919/index.html">eReader Prestigio: unidad y lucha de los opuestos de un lector</a></li>
<li><a href="../es389921/index.html">Elon Musk se negó a vender el Modelo X al cliente después de criticar</a></li>
<li><a href="../es389923/index.html">Vuelo a Marte en 2025, visita a la ISS y el camión Tesla: lo que prometió Elon Musk en StartmeupHK 2016</a></li>
<li><a href="../es389929/index.html">Robot aspirador: 10 criterios de selección clave</a></li>
<li><a href="../es389931/index.html">El equipo de fútbol americano perdió porque las tabletas Microsoft Surface se rompieron</a></li>
<li><a href="../es389935/index.html">Elon Musk: "La realidad virtual puede reducir la actividad física"</a></li>
<li><a href="../es389943/index.html">Revisión de video del escáner 3D RangeVision Advanced</a></li>
<li><a href="../es389945/index.html">Vinilo: nuevo está bien olvidado viejo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>