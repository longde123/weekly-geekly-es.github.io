<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©‚Äçüë¶ ‚õëÔ∏è üê† Beheben von Adressengp√§ssen mit CGNAT ü§∑ üöò ü§¶üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Das Internet ist ausnahmslos in alle Aspekte unseres Lebens eingedrungen. Wenn Sie wissen, welche Ger√§te √ºber Ports verf√ºgen, um eine Verbindung zum N...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Beheben von Adressengp√§ssen mit CGNAT</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/nag/blog/410325/"><img src="https://habrastorage.org/webt/u_/sw/9z/u_sw9zekm8jepuprzoayoppwiye.jpeg"><br><br>  Das Internet ist ausnahmslos in alle Aspekte unseres Lebens eingedrungen.  Wenn Sie wissen, welche Ger√§te √ºber Ports verf√ºgen, um eine Verbindung zum Netzwerk herzustellen, k√∂nnen Sie verr√ºckt werden.  Inzwischen nimmt die Anzahl der IP-Adressen direkt ab. <br><a name="habracut"></a><br>  Ein einfaches Beispiel: Ich bin in dieser Hinsicht recht konservativ, habe aber bereits Folgendes verbunden: <br><br><ul><li>  TV (2 St√ºck); </li><li>  Telefon (2 sim); </li><li>  DVR </li><li>  ein Auto; </li><li>  Hund (Halsband mit GPS / GPRS). </li></ul><br>  Weiter in der Reihe: <br><br><ul><li>  Licht im Haus; </li><li>  Wasserkocher; </li><li>  B√ºgelbrett. </li></ul><br>  Und in Zukunft gibt es noch viel mehr.  Zu Hause, bei der Arbeit, im Auto, im √∂ffentlichen Verkehr, auf dem Land - √ºberall gibt es Internetzugang.  Es ist einfacher zu sagen, wo es nicht ist ... Obwohl es im Gegenteil schwieriger ist, da das Internet √ºberall ist. <br><br>  Die Anzahl der ‚Äûverbundenen‚Äú Ger√§te w√§chst rasant.  Statistiken und Wachstumsprognosen f√ºr Hardware, die eine IP-Adresse ben√∂tigt, k√∂nnen nicht analysiert werden. Alle Quellen sind sich jedoch einig, dass das Wachstum exponentiell ist, und dieser Trend wird sich in den n√§chsten 5 bis 10 Jahren fortsetzen. <br><br>  Mit der n√§chsten Erweiterung des Netzwerks ging der n√§chste Block von IP-Adressen in Produktion, und es gab fast keinen Mut mehr ... LIR PI gibt nicht nach (was vorhersehbar bereits 5 Jahre alt ist), und PA wird jedes Jahr teurer, und das Mieten einer solch kritischen Ressource ist mit erheblichen Risiken verbunden.  Es gab praktisch die letzte Chance, den LIR-Status und die begehrte / 22 zu erhalten, und nach den neuesten RIPE-Nachrichten w√ºrde diese Chance bald √ºberhaupt nicht mehr bestehen: Der europ√§ische Registrar gab mehr als die H√§lfte des letzten / 8-Blocks aus. <br><br><img src="https://habrastorage.org/webt/xe/vt/pi/xevtpienobbeec7n7yuthbvtf78.png"><br><br>  Und der gesamte Adressbestand geht zur Neige: <br><br><img src="https://habrastorage.org/webt/mc/hr/dr/mchrdrds2wk-k6t814sjggs9_ss.jpeg"><br><br>  Wenn man sich das Diagramm ansieht, wird klar, dass die Registrar-Prognosen wahr werden.  Trotz aller Bem√ºhungen von RIPE, die Qual zu verl√§ngern, wurden im Jahr 2017 etwa 4 Millionen Adressen vergeben, von denen es insgesamt 11 Millionen gab.  Und dies deutet darauf hin, dass sie bis 2020 √ºberhaupt nicht mehr sein werden.  Und die Betreiber m√ºssen eine Wahl treffen: IPv4 intensiv speichern oder auf IPv6 umsteigen. <br><br>  Wenn ich √ºber die zuk√ºnftige Architektur des Netzwerks nachdenke, komme ich zu dem Schluss, dass nach dem Tempo der IPv6-Implementierung in den n√§chsten (mindestens) 10 bis 15 Jahren der Hauptverkehr weiterhin auf Version 4 des Internetprotokolls verbleibt.  In Russland haben heute in BGP-Ank√ºndigungen nur etwa 15% der AS IPv6 und in der Welt - etwas mehr als 25% - <br><br><img src="https://habrastorage.org/webt/v3/9x/6q/v39x6qekc0bo6msrsj9pyfmhaii.png"><br><br>  Der IPv6-Verkehr in MSK-IX betr√§gt weniger als 1% von IPv4 (Quelle). <br><br><img src="https://habrastorage.org/webt/0i/xk/ib/0ixkibpqzir39pvuanb3wrnrr4i.png"><br><br><img src="https://habrastorage.org/webt/1r/o_/tv/1ro_tvylgwt9ffb-osdbk3govvw.png"><br><br>  Laut Google stammen etwas mehr als 20% der Nutzer weltweit (und nur 1,34% in Russland) aus IPv6. <br><br><img src="https://habrastorage.org/webt/qe/bi/qx/qebiqxf0n-jssx4m-cryi8hx6ic.jpeg"><br><br>  Der IPv6-Verkehr nimmt zu, ist jedoch nicht so bedeutend, dass er sich ernsthafte Sorgen macht und die Implementierung beschleunigt.  Dies liegt daran, dass die native Unterst√ºtzung f√ºr IPv6 immer noch nicht auf allen Clientger√§ten implementiert ist!  Sogar neue, selbst in neuartigen Dingen, beanspruchen eine neue Generation von IoT-Ger√§ten.  Wie der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Artikel</a> eines Mitarbeiters von Google, Avery Pennarun, nach dem vollst√§ndigen √úbergang von Netzwerken zu IPv6 zu Recht noch ... NAT ben√∂tigt.  Damit veraltete IPv4-Lampen ins Internet gelangen k√∂nnen. <br><br>  Es gibt viele Artikel zur IPv6-Implementierung.  Mit durchschnittlich Megabyte gelesenem Text und unseren eigenen Experimenten lautet die Schlussfolgerung Ende 2017: Sie m√ºssen IPv6 implementieren, aber sorgf√§ltig.  Es wird viele Rechen geben, und jeder wird seine eigenen haben.  Mit der Unterst√ºtzung von v6 ist auch auf Bedienerger√§ten immer noch alles schlecht (Sie k√∂nnen zumindest <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">hier</a> √ºber den Implementierungsrechen lesen).  Sie m√ºssen DualStack implementieren, d. H.  Geben Sie gleichzeitig IPv6- und IPv4-Adressen an den Client aus.  Dies bedeutet, dass die Reste von IPv4 noch an Kunden verteilt werden m√ºssen und bald Gold wert sein werden und sie gerettet werden m√ºssen.  Daher wird NAT in den n√§chsten (mindestens) 10 Jahren nirgendwo hingehen. Dies bedeutet, dass Sie die Entwicklung von Netzwerken unter Ber√ºcksichtigung der Implementierung von Dual Stack planen oder einfach neue Hardware nur mit v6-Unterst√ºtzung kaufen m√ºssen, um anschlie√üend so wenig Probleme wie m√∂glich zu bekommen. <br><br>  Ich prognostiziere das Wachstum des Datenverkehrs und die Anzahl der Abonnenten und bin √ºberzeugt, dass auf der vorhandenen Hardware, die NAT implementiert, die Ressourcen fr√ºh genug aufgebraucht sind und eine Erweiterung erforderlich sein wird.  Folgende Aufgaben m√ºssen gel√∂st werden: <br><br><ul><li>  Bereitstellung einer bestimmten Anzahl von Sendungen pro Teilnehmer; </li><li>  Adresspooling bereitstellen - Alle Verbindungen von einem Client m√ºssen an dieselbe wei√üe IP gesendet werden. </li><li>  die Lebensdauer einer Sendung begrenzen; </li><li>  F√ºhren Sie ein Broadcast-Protokoll (f√ºr SORM). </li></ul><br>  Welche L√∂sungen bietet uns der Markt? <br><br><img src="https://habrastorage.org/webt/l2/1k/zx/l21kzx7bdd6kfikn3s3inpyy9pg.jpeg"><br><br>  Die Wahl der Hardwarel√∂sungen ist die Wahl der Marke und die Hoffnung auf Stabilit√§t und Zuverl√§ssigkeit.  Es geht darum, wie man ein Top-End-Auto ausw√§hlt - Ferrari, Lamborghini, Maclaren ... Alle sind sicherlich gut, aber das Budget f√ºr ihren Kauf ist sehr gro√ü und der Betrieb erfordert hochqualifizierte Ingenieure.  Und diese Qualifikation ist nicht nur sehr teuer, sondern sollte auch auf einen bestimmten Hersteller zugeschnitten sein.  Zum Beispiel ist Juniper bereit, Ihrem Administrator beizubringen, NAT auf seinen Ger√§ten f√ºr etwas mehr als 700 USD (hier) zu konfigurieren, sofern nur ein AJSPR-Zertifikat verf√ºgbar ist.  Wenn Sie also bereits Cisco ASR im Kern des Netzwerks haben, ist es nat√ºrlich nicht sinnvoll, beispielsweise Ericcsson in Betracht zu ziehen, um eine einzelne Funktion darauf auszuf√ºhren. <br><br>  Andererseits ist die Implementierung von NAT auf reiner Hardware (ASIC) ziemlich exotisch, und als Beweis daf√ºr ist das CGSE-Modul f√ºr Cisco nichts weiter als ein x.86-Server mit propriet√§rer Software auf FreeBSD-Basis, die f√ºr die Arbeit als Teil von angepasst ist Hardware-Router.  Und in diesem Sinne scheint sein Preis v√∂llig himmelhoch.  Die begehrteste Funktionalit√§t von Markenhardwarel√∂sungen ist jedoch "Einrichten und Vergessen". Schade, nur dass sie noch von niemandem zu 100% implementiert wurde.  Es lohnt sich, virtualisierte Plattformen wie NFWare Virtual Carrier Grade NAT, Juniper vSRX / vMX und andere NFV-L√∂sungen einzusetzen, f√ºr die NAT ein interessanter Fall f√ºr das Konzept der verteilten NFV (dNFV) ist, wenn Netzwerkfunktionen logisch zentralisiert sind (wir haben einen einzigen Pool) Adressen und Ressourcen sowie eine einzige Verwaltungsstelle), die jedoch gleichzeitig geografisch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">verteilt sind</a> .  Dieses Thema verdient jedoch eine gesonderte und hinreichend umfassende Pr√ºfung. <br><br>  Es wird angenommen, dass die Zukunft von NFV f√ºr diese Themen nicht umsonst interessant ist. Sowohl bedeutende Marken, die traditionell die Spitzenpositionen auf dem Eisenmarkt des Betreibers einnehmen, als auch Gro√üinvestoren finanzieren aktiv alles, was mit Virtualisierung zu tun hat, einschlie√ülich Netzwerkfunktionen (zum Beispiel AFK) Systeme und NFWare).  Aber NFV, im Rahmen dieses Artikels werde ich nicht mehr ber√ºhren. <br><br>  Mikrotik unterscheidet sich auch etwas voneinander, was auf den Plattformen x.86 und nicht x.86 (CCR) sowie in einer virtualisierten Umgebung (CHR) implementiert werden kann. Dies ist jedoch ein reiner Soft-Router, der fast alle Funktionen verarbeitet identische Prozessoren.  Angesichts der Tatsache, dass CCR ein vollst√§ndiges Ger√§t mit propriet√§rer Software ist - ich habe es auch in den Hardwareabschnitt aufgenommen (dies ist √ºbrigens eine der wenigen L√∂sungen f√ºr kleine Netzwerke - - liegt die Leistungsgrenze im NAT + -Modus bei etwa 4 bis 5 Gbit / s Modelle CCR-1036) und RouterOs f√ºr x.86 - Software - landete im Abschnitt x.86. <br><br>  Selbstorganisation unter Linux / FreeBSD ist, wenn Sie zu den Automobilthemen zur√ºckkehren, ein Rallyeauto.  Wir m√ºssen eine Plattform nehmen, die urspr√ºnglich f√ºr zivile Zwecke gedacht war, kompetente Mechaniker und sehen, drehen, optimieren, stimmen, wieder aufbauen und hoffen, dass wir am Ende alle sehr schnell den Sieg erringen k√∂nnen ... Es h√§ngt alles von 90% derjenigen ab, die es sein werden implementieren und unterst√ºtzen.  In der Regel nur eine solche Person im Unternehmen.  Und er baut ein System auf, das auf seinem Verst√§ndnis des Prozesses basiert.  Und er unterst√ºtzt das System.  Was wird passieren, wenn er geht?  Wie gut ist die Funktionalit√§t dokumentiert?  Die Wartung eines anderen Systems dieser Art ist genauso kostspielig wie das Schreiben von Grund auf neu. <br><br>  Reine Softwarel√∂sungen wie RDP.ru, Carbon Soft, VAS Experts usw. sind eine Alternative zu Self-Collection und bekannten Marken.  In Bezug auf das Auto ist dies ein Tuning-Studio, das f√ºr einen bestimmten Geldbetrag aus einem Zivilwagen, der ber√ºhmten Marken in nichts nachsteht, einen sehr beeindruckenden Sportwagen machen kann.  Heutzutage bietet diese Option f√ºr mittlere und sogar gro√üe Netzwerke viele Vorteile.  N√§mlich: x.86 ist eine g√§ngige Plattform, deren Komponenten in fast jeder Gro√üstadt gekauft werden k√∂nnen und die beim Lieferanten h√§ufig auf Lager sind.  Die Hardware ist deutlich g√ºnstiger als die gleichen Module f√ºr Cisco oder Juniper, sodass Sie sie in Ersatzteilen aufbewahren k√∂nnen.  Sie k√∂nnen die Plattform aktualisieren, indem Sie die Hardware durch eine produktivere ersetzen, Lizenzen erwerben und die freigegebenen Ger√§te f√ºr andere Zwecke verwenden.  Das hei√üt,  Reservierungsprobleme lassen sich leicht l√∂sen und das Pay-as-you-Grow-Konzept ist in seiner ganzen Pracht sichtbar.  Dar√ºber hinaus f√ºhren Softwarel√∂sungen wie SCAT DPI von VAS Experts eine Reihe von Aufgaben aus, die bei Hardwarel√∂sungen separat implementiert werden m√ºssen.  Dies ist das Zwischenspeichern von Datenverkehr, der Schutz vor DDOS und andere Vorteile einer vollwertigen DPI, z. B. das Blockieren gem√§√ü Bundesgesetz 139, das Blockieren und Ersetzen von Werbung, das Senden von Journalen und das Exportieren von Daten nach SORM-3, das Sammeln von Statistiken zu Verkehrstypen und die M√∂glichkeit, einige zus√§tzliche zu implementieren.  Dienstleistungen wie "Kinder-Internet" usw.  Wichtig ist, dass einheimische Hersteller auf dem Markt f√ºr Softwarel√∂sungen sehr gut vertreten sind. Dies ist neben dem Stolz auf ihre Heimat auch eine Unterst√ºtzung in russischer Sprache, die bei Entwicklern keine Sprachbarriere aufweist. <br><br>  Die Nachteile von x.86-L√∂sungen liegen ebenfalls auf der Hand - dies betrifft vor allem die kompetente Auswahl von Hardwarekomponenten.  Fehler sind mit Leistungs- und Fehlertoleranzproblemen behaftet.  Die Installation eines Systems (wenn der Hersteller einen solchen Service nicht anbietet) kann √§u√üerst trivial sein.  Ein geeigneter Softwareanbieter sollte jedoch immer sowohl bei der Auswahl der Hardware als auch bei der Installation und Inbetriebnahme helfen.  Unabh√§ngig davon ist anzumerken, dass die L√∂sung zertifiziert werden sollte. Ich denke, dass die Fragen ‚ÄûWarum‚Äú und ‚ÄûWarum‚Äú nicht auftauchen sollten. <br><br>  Zusammenfassend kann ich sagen, dass f√ºr mich die Wahl offensichtlich ist - NAT und DPI in einer Box sind die beste L√∂sung f√ºr die Kombination von Anforderungen an Kosten, Funktionalit√§t, Skalierbarkeit und Wartbarkeit. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de410325/">https://habr.com/ru/post/de410325/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de410315/index.html">23. Februar Geschenkideen - Smart Geek Pens</a></li>
<li><a href="../de410317/index.html">Beobachtung von Sternen am Nachmittag oder tags√ºber Astronomie</a></li>
<li><a href="../de410319/index.html">Warum einige Anwendungen keine echten Fortschrittsbalken verwenden</a></li>
<li><a href="../de410321/index.html">Add-Ons f√ºr den Menschen: Empowerment</a></li>
<li><a href="../de410323/index.html">So gehen Sie √ºber Intermediate und bringen Englisch zu Advanced</a></li>
<li><a href="../de410327/index.html">Jeff Bezos begann mit der Installation einer mechanischen 150-Meter-Uhr, die 10.000 Jahre halten wird</a></li>
<li><a href="../de410329/index.html">Spionagef√§lle (Teil 1)</a></li>
<li><a href="../de410331/index.html">Die Trump-Administration plant, das USS-Segment ISS nach 2024 zu privatisieren</a></li>
<li><a href="../de410333/index.html">Das Alienschiff Oumuamua dreht sich zuf√§llig</a></li>
<li><a href="../de410335/index.html">Hacker haben die Tesla-Instanz in AWS gehackt und dort die Kryptow√§hrung abgebaut</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>