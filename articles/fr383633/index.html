<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏵️ ⏫ 💏 Robot tondeuse à gazon. Du métal ferreux au prototype 👨🏼‍🌾 🐭 ⚓️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il s'agit d'une courte histoire sur l'assemblage d'un robot de tonte à partir d'outils improvisés par un gestionnaire ordinaire, ainsi que sur la form...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Robot tondeuse à gazon. Du métal ferreux au prototype</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/383633/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il s'agit d'une courte histoire sur l'assemblage d'un robot de tonte à partir d'outils improvisés par un gestionnaire ordinaire, ainsi que sur la formation d'un geek, niant une singularité, d'accord avec Sa Majesté Ilon Mask et combattant un homme avec des machines. </font><font style="vertical-align: inherit;">Attachez vos ceintures de sécurité, nous sommes envoyés dans une atmosphère d'ironie légère et une description décontractée du développement d'une tondeuse à gazon robotisée du métal ferreux au prototype. </font><font style="vertical-align: inherit;">Lecteur curieux, bienvenue au chat!</font></font><br>
<br>
<img src="https://habrastorage.org/files/c86/3ce/2bb/c863ce2bb314460a8b18383776ebcfed.jpg"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Au lieu d'une préface:</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
salut! Je m'appelle Vyacheslav Golitsyn et je suis un geek! Cela a commencé alors que j'étais encore à l'école, des amis de la classe de physique et de technologie m'ont accroché. Aux pauses, se faufilant dans les toilettes et au coin de l'école, nous avons discuté de nouveaux gadgets et circuits pour les bugs des émetteurs radio. Je pensais que je serais choyé, mais je ne pouvais plus descendre. L'électronique que j'allais réparer n'a jamais été vue dans la maison par qui que ce soit. Pendant le prochain déchaînement enchanteur, j'ai tué brutalement le magnétophone «302 Electronics». J'ai été puni, mais je ne pouvais pas abandonner complètement ma dépendance, alors je suis devenu un geek secret, mais même dans le club de radio, ils ne me prenaient pas pour eux-mêmes, oui, dans les clubs, ce n'est pas très visible, à cause du pathos, tout a basculé. Lorsque j'ai échangé mon nouveau scooter des neiges contre un manuel d'A. Marchenko et du concepteur de l'autoradio, j'ai réalisé que je roulais vers le bas!Ils ont commencé à me reconnaître en personne sur les marchés de la radio et dans les magasins d'électronique, j'ai lu «Youth Technique» et des forums médiocres le soir sur dialup. J'ai commencé à porter des lunettes avec des lunettes tout le monde m'a appelé «à lunettes». Même mon propre père m'a mis 3 fois en camarades de classe. Je me suis finalement effondrée quand une fille m'a quitté, puis j'ai souffert ... J'ai acheté une nouvelle station de soudage et mon compte Aliexpress a commencé à exiger</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le sang</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> représente une part croissante de mon modeste salaire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puis la vie s'est améliorée d'une manière ou d'une autre ... la famille, les enfants, et depuis plusieurs années maintenant, j'ai les yeux bandés, mais chaque jour je lis Habr (maintenant Giktayms). Je suis un manager très intermédiaire, j'aime que tout le monde travaille au bureau. Hélas, je n'ai pas de formation technique, mais lorsque je lis la critique d'un nouveau gadget, mini-ordinateur ou tableau d'automatisation, mon esprit génère déjà un grand nombre d'idées partout où il pourrait être appliqué ( </font><font style="vertical-align: inherit;">n'offre pas d' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">automatisation des toilettes de bureau</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Après un court vol de fantaisie, un ordre suit généralement et l'attente languissante d'un miracle étranger miraculeux. Pendant que le fret tant attendu traverse tous les cercles de l' </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enfer</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">centres de tri de la poste russe, un peu de romantisme disparaît d'un nouvel exemple d'un génie moderne de la pensée technique. </font><font style="vertical-align: inherit;">Il en était de même pour Raspberry Pi, Arduino, une petite boîte avec des capteurs et des fils. </font><font style="vertical-align: inherit;">Mais ensuite, il y a eu de la douleur. </font><font style="vertical-align: inherit;">Son nom est un chalet d'été, ou plutôt une pelouse dans un chalet d'été.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tondre la pelouse - pas couper du bois. </font><font style="vertical-align: inherit;">Et ne buvez pas de thé, ne passez pas les quêtes et n'allez pas chercher de la bière. </font><font style="vertical-align: inherit;">Eh bien, tu comprends ...</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez vous demander: pourquoi la tondeuse à gazon, l'été se termine et les hivers sont longs? Pas étonnant que les gens disent: "L'hiver arrive ...". Peut-être que la réponse est banale paresse ou curiosité, peut-être tous ensemble, mais entretenir la pelouse sous une belle forme n'est pas une tâche facile, même avec des terrains modestes, qui sont présentés à votre humble serviteur. J'ai décidé de combiner le désir actif d'apprendre le nouveau + modèle framboise pi B + arduino + Chermet + libre arbitre, l'héroïsme, le professionnalisme, le capitalisme, ne s'en soucient pas et le cataclysme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai longuement réfléchi à la décision, envisagé l'option d'acheter une tondeuse finie, mais je suis arrivé à la conclusion qu'il serait plus pratique de souder le chariot lui-même et de fixer l'ICE à partir de la tondeuse à gazon manuelle.</font></font><br>
<br>
<img src="https://habrastorage.org/files/3d6/e06/529/3d6e06529f454863844d1be37ad29942.jpg"><br>
<br>
<img src="https://habrastorage.org/files/e7b/6b8/32e/e7b6b832e4104ea68bab636227da8881.jpg"><br>
<br>
<img src="https://habrastorage.org/files/905/c67/848/905c67848a2b4a1bb69055816c9f678c.jpg"><br>
<br>
<img src="https://habrastorage.org/files/f2b/13e/8d2/f2b13e8d22594a8a8a1850ae6fae01e3.jpg"><br>
<br>
<img src="https://habrastorage.org/files/6ea/ee7/c2b/6eaee7c2b3d9466496964e6ea9eeb65b.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le chariot est entraîné par deux moteurs avec des boîtes de vitesses d'un essuie-glace VAZ-2108 (remplacement des importations en action). Les moteurs n'ont pas deux brosses sur le collecteur, comme j'étais habitué, mais trois. Je ne comprenais toujours pas pourquoi la troisième brosse était utilisée, mais le fait que l'un des fils était connecté au corps et que les moteurs devaient se déplacer dans différentes directions pour avancer, m'a fait isoler l'un des moteurs du châssis. </font></font><br>
<br>
<img src="https://habrastorage.org/files/5e7/5f1/d29/5e75f1d2905949f68fac54b26c89bb40.jpg"><br>
<br>
<img src="https://habrastorage.org/files/f74/060/5d6/f740605d67514368a4e23944a048f8d8.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une histoire difficile avec les moteurs: pour essayer de comprendre la conception du moteur, j'ai démantelé l'un d'eux - c'était un signe avant-coureur du fait que le moteur avec toute sa puissance irait pour toujours au khalosar du grand éleveur. En général, «celui qui n’avale pas som ne connaît pas de problèmes», il a acheté un nouveau moteur et a continué à faire du vélo et à coder.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La source d'alimentation est une batterie 12V. Arduino reçoit une alimentation USB des framboises. La framboise est connectée à un commutateur USB avec une alimentation séparée, l'alimentation est fournie par la même batterie 12V via deux L7805 parallèles (tandis que le long voyage d'un convertisseur DC-DC pulsé dure).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Roues de chariot achetées sur le marché de la construction. Les moteurs étaient connectés via le Monster Motor Shield, mais par tradition, cette carte a commandé une longue durée de vie après avoir connecté l'alimentation aux broches de sortie. Wangyu holivar dans les commentaires sur le fait qu'avec des mains tordues, ça ne vaut rien de commencer, mais que se passe-t-il si le cœur le demande? En général, il n'y a pas de grammes et de soms: nous passons une commande pour la même carte, mais pour l'instant nous nous en sortirons avec deux relais, car les moteurs du premier couple ne peuvent tourner que dans une seule direction. En général, étant donné le manque de besoin de PWM, vous pouvez faire un pont en H basé sur un bloc de 8 relais pour Arduino. Et qu'en pensez-vous, cher lecteur?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le contrôle du moteur et l'interrogation des capteurs (capteurs de distance à ultrasons et encodeurs de roue; dans la version 1.1: capteurs d'obstacles infrarouges, un bouton dans le pare-chocs avant) est effectué par Arduino mega 2560. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Andurina (ma femme continue de l'appeler de cette façon) est connectée à la framboise pi via USB (Tous communication modeste sur le port série). </font><font style="vertical-align: inherit;">De plus, une webcam (en version 1.0 pour la sortie d'images via Motion) et un sifflet wi-fi sont connectés à la framboise.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La logique du système. </font><font style="vertical-align: inherit;">De l'herbe dans la cour, dans l'herbe ...</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considérant à quel point Ilon Mask (et pas seulement lui) m'a averti (j'espère qu'il m'a également parlé) des dangers de l'intelligence artificielle, j'ai décidé pour l'instant (i.e., AI), i.e. Je ne l'ai pas introduit dans ce produit, de sorte que la singularité soudainement effondrée ne déforme pas tous les conifères de mon site. Sur Raspberry pi, Raspbian OS, OpenCV (qui n'a pas démarré si correctement) est installé et le serveur Web et FTP sont déclenchés. La gestion et la configuration se font via ssh. Ce code avec OpenCV, qui fonctionne sur l'ordinateur portable, ne veut pas fonctionner sur la framboise. Après de longues danses avec un tambourin, il a été décidé de laisser l'implémentation de la fonctionnalité liée à OpenCV pour la version 2.0.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le script Python 2.7 s'exécute sur la framboise, ce qui enregistre dans la table MySQL des données sur la position actuelle de la tondeuse dans le système de coordonnées (plus à ce sujet plus tard). Lors de l'accès à l'IP de la tondeuse, une matrice (système de coordonnées) est affichée, divisée en cellules (pour plus de commodité, 0,5 x 0,5 mètre, car il s'agit de la largeur du biseau). Le tableau montre l'état actuel des cellules dans différentes couleurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Gris - inconnu; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Vert - herbe non tondue; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Jaune - zones biseautées; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Rouge - sections avec un obstacle; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Bleu - la zone où se trouve la tondeuse. </font></font><br>
<br>
<img src="https://habrastorage.org/files/a8f/9d4/c1b/a8f9d4c1bf5d4f5481ddb3e8b4492787.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cliquant sur un site gratuit ou inconnu, il est possible de transférer son état sur un site bloqué afin de définir indépendamment des obstacles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, dans la version 1.1, la page devrait avoir un bouton d'arrêt d'urgence, un bouton de commande de carburant du moteur à combustion interne et un bouton de commande manuelle.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans chaque course de framboises:</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">attend de l'arduino des informations sur l'achèvement de la tâche précédente (si elle l'était);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reçoit par Arduino des informations de télémètres;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traite les informations d'une webcam;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s'il est possible d'avancer, envoie à arduino la tâche d'avancer d'une cellule (0,5 m). </font><font style="vertical-align: inherit;">Si la cellule en face est bloquée (il y a un obstacle), envoie la tâche pour tourner de 90 degrés vers la droite.</font></font></li>
</ul><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arduino dans chaque cycle:</font></font></h3><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interroge les capteurs de distance à ultrasons;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour la version 1.1: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - interroge le bouton de pare-chocs (en cas de collision avec un obstacle, il coupe le relais de puissance du moteur à combustion interne); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Interroge les capteurs d'obstacles infrarouges.</font></font></li>
<li>       ;</li>
<li>(   ,       ,   ,    .);</li>
<li>  raspbery          ;</li>
<li>  .</li>
</ul><br>
<br>
<h2>  </h2><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/jrwyfBr8W34" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a><br>
<br>
<h2>  ,     :</h2><br>
<ul>
<li> OpenCV    . ..  (   )       .           .  OpenCV      ,    — .               .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En utilisant OpenCV, vérifiez le bas du cadre pour une couleur moyenne qui devrait être verte pour éviter de conduire sur les trottoirs.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connectez une deuxième webcam et utilisez openCV pour créer une carte d'obstacles en trois dimensions.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connectez un moteur 12V en tant que générateur au moteur à combustion interne, créez un système de support de batterie sur la tondeuse pour éliminer la nécessité de le charger séparément.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il est possible d'utiliser un «générateur» comme démarreur.</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Code rapide en accès libre. </font><font style="vertical-align: inherit;">Fourchette à la santé. </font><font style="vertical-align: inherit;">Je ne serai heureux que de personnes partageant les mêmes idées: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://yadi.sk/d/qObAm0deiogvP </font></font></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Merci de votre attention!</font></font></b></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr383633/">https://habr.com/ru/post/fr383633/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr383619/index.html">Les paléontologues ont trouvé les restes du plus grand ancêtre des écrevisses et des scorpions</a></li>
<li><a href="../fr383623/index.html">Étude: d'ici 2020, le prix des batteries Li-ion baissera de 60%</a></li>
<li><a href="../fr383625/index.html">Mur de son: partie 1</a></li>
<li><a href="../fr383629/index.html">Horloge électronique maison, base élément - partie 2</a></li>
<li><a href="../fr383631/index.html">Réfrigérateur, bouilloire ou aspirateur - qui «mange» le plus?</a></li>
<li><a href="../fr383635/index.html">Face à face, la Fusion hybride autonome de Ford</a></li>
<li><a href="../fr383637/index.html">Demandez à Ethan n ° 28: Comment nourrir un monstre</a></li>
<li><a href="../fr383639/index.html">Boris Grebenshchikov en deux jours a levé 3 millions pour enregistrer de nouvelles chansons</a></li>
<li><a href="../fr383643/index.html">Notre tout: nous accumulons l'expérience utilisateur</a></li>
<li><a href="../fr383645/index.html">Test STMC. Comment obtenir une qualité d'impression garantie au meilleur prix</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>