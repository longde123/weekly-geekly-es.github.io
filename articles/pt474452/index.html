<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§£ üòû üê∑ Relat√≥rio de status de outono Haxe ü§∂üèΩ ‚ÅâÔ∏è ü•ë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Em 26 de outubro, Linz am Rhein (Alemanha) organizou a mini-confer√™ncia HaxeUp Sessions 2019 dedicada √† Haxe e tecnologias relacionadas. E seu evento ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Relat√≥rio de status de outono Haxe</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474452/"><p>  Em 26 de outubro, Linz am Rhein (Alemanha) organizou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">a mini-confer√™ncia HaxeUp Sessions 2019</a> dedicada √† Haxe e tecnologias relacionadas.  E seu evento mais significativo foi, √© claro, a vers√£o final do Haxe 4.0.0 (no momento da publica√ß√£o, ou seja, ap√≥s cerca de uma semana, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">atualiza√ß√£o 4.0.1 foi lan√ßada</a> ).  Neste artigo, gostaria de apresentar uma tradu√ß√£o do primeiro relat√≥rio da confer√™ncia - um relat√≥rio sobre o trabalho realizado pela equipe da Haxe em 2019. </p><br><p><img src="https://habrastorage.org/webt/hk/ik/sp/hkiksp6o31il9tcdxjjlm6xnmve.png" alt="imagem"></p><a name="habracut"></a><br><p>  Um pouco sobre o autor do relat√≥rio: </p><br><p>  Simon trabalha com Haxe desde 2010, quando ainda era aluno e escreveu um trabalho sobre simula√ß√µes de fluidos no Flash.  A implementa√ß√£o dessa simula√ß√£o exigia acesso constante aos dados que descrevem o estado das part√≠culas (em cada etapa foram feitas mais de 100 consultas a matrizes de dados sobre o estado de cada c√©lula na simula√ß√£o), enquanto o trabalho com matrizes no ActionScript 3 n√£o √© t√£o r√°pido.  Portanto, a implementa√ß√£o inicial era simplesmente inoperante e necess√°ria para encontrar uma solu√ß√£o para esse problema.  Em sua pesquisa, Simon encontrou um <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigo de Nicolas Kannass</a> (criador do Haxe) sobre os opcodes da Alquimia n√£o documentados que n√£o estavam dispon√≠veis no ActionScript, mas o Haxe permitiu que eles fossem usados.  Reescrevendo a simula√ß√£o no Haxe usando opcodes, Simon conseguiu uma simula√ß√£o de trabalho!  E assim, gra√ßas √†s matrizes lentas no ActionScript, Simon aprendeu sobre o Haxe. </p><br><p>  Desde 2011, Simon ingressou no desenvolvimento do Haxe, ele come√ßou a estudar o OCaml (no qual o compilador est√° escrito) e a fazer v√°rias corre√ß√µes no compilador. </p><br><p>  E desde 2012, ele se tornou o principal desenvolvedor de compiladores.  No mesmo ano, a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Funda√ß√£o Haxe</a> foi criada (uma organiza√ß√£o cujos principais objetivos s√£o o desenvolvimento e manuten√ß√£o do ecossistema Haxe, ajudando a comunidade a organizar confer√™ncias, servi√ßos de consultoria), e Simon se tornou um dos seus co-fundadores. </p><br><p><img src="https://habrastorage.org/webt/ic/n2/-z/icn2-zvorldkegboovusqzxfdbo.png" alt="imagem"></p><br><p>  Em 2014-2015, Simon convidou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Josephine Pertosa</a> para a Funda√ß√£o Haxe, que com o tempo se tornou respons√°vel pela organiza√ß√£o de confer√™ncias e rela√ß√µes com a comunidade. </p><br><p>  Em 2016, Simon fez <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">sua</a> primeira <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">apresenta√ß√£o no Haxe</a> e, em 2018, organizou as <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">primeiras sess√µes do HaxeUp</a> . </p><br><p><img src="https://habrastorage.org/webt/ii/3p/vq/ii3pvqd1f88pj3toyvcaxjcmjr8.png" alt="imagem"></p><br><p>  Ent√£o, o que aconteceu no mundo Haxe nos √∫ltimos 2019? </p><br><p>  Em fevereiro e mar√ßo, foram lan√ßados 2 candidatos a libera√ß√£o (4.0.0-rc1 e 4.0.0-rc2) <br>  Em abril, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Aurel Bili</a> (como estagi√°rio) e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Alexander Kuzmenko</a> (como desenvolvedor de compiladores) se juntaram √† equipe da Haxe Foundation. </p><br><p>  Em maio, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">foi realizada</a> a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Haxe US Summit 2019</a> . <br>  Em junho, o Haxe 4.0.0-rc3 foi lan√ßado.  E em setembro - Haxe 4.0.0-rc4 e Haxe 4.0.0-rc5. </p><br><p><img src="https://habrastorage.org/webt/bg/cz/di/bgczdidj4imp0y_rteusgqy-dwq.png" alt="imagem"></p><br><p>  O Haxe n√£o √© apenas um compilador, mas tamb√©m um conjunto inteiro de v√°rias ferramentas, e ao longo do ano o trabalho nelas tamb√©m era constantemente conduzido: <br>  Gra√ßas aos esfor√ßos de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Andy Lee,</a> Haxe agora usa os pipelines do Azure em vez do Travis CI e do AppVeyor.  Isso significa que agora os testes de montagem e automatizados s√£o muito mais r√°pidos. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Hugh Sanderson</a> continua trabalhando no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">hxcpp</a> (uma biblioteca de suporte ao C ++ no Haxe). <br>  De repente, os usu√°rios do Github <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">terurou</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">takashiski</a> juntaram-se ao trabalho de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">externos para o</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Node.js.</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Rudy Ges</a> trabalhou em corre√ß√µes e melhorias para dar suporte ao destino C #. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">George Corney</a> continua a suportar o gerador externo de HTML. <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Jens Fisher est√°</a> trabalhando no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">vshaxe</a> (uma extens√£o do VS Code para trabalhar com o Haxe) e em muitos outros projetos relacionados ao Haxe. </p><br><p><img src="https://habrastorage.org/webt/4c/n-/vr/4cn-vrhfusi6b6adnvyldgpyd7y.png" alt="imagem"></p><br><p>  E o principal evento do ano, √© claro, foi o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">t√£o esperado lan√ßamento do Haxe 4.0.0</a> (assim como o neko 2.3.0), que coincidiu acidentalmente com o HaxeUp 2019 Linz :) </p><br><p><img src="https://habrastorage.org/webt/z6/n5/w0/z6n5w0pvjr4oecito4cd4w0ge_i.png" alt="imagem"></p><br><p>  Simon dedicou a maior parte do relat√≥rio aos novos recursos do Haxe 4.0.0 (voc√™ tamb√©m pode aprender sobre eles no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">relat√≥rio de Alexander Kuzmenko</a> do √∫ltimo Haxe US Summit 2019). </p><br><p><img src="https://habrastorage.org/webt/mn/-z/u2/mn-zu2pk84sti-8ztm8hvhmvizm.png" alt="imagem"></p><br><p>  O novo int√©rprete de macro de avalia√ß√£o √© v√°rias vezes mais r√°pido que o antigo.  Simon falou sobre ele <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">em</a> detalhes <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">em seu discurso na Haxe Summit EU 2017</a> .  Mas desde ent√£o, ele aprimorou os recursos de depura√ß√£o do c√≥digo, corrigiu muitos bugs e reformulou a implementa√ß√£o de strings. </p><br><p><img src="https://habrastorage.org/webt/d_/j3/uq/d_j3uqwvxpukog8q9pgp9prafrw.png" alt="imagem"></p><br><p> O Haxe 4 apresenta o suporte Unicode para todas as plataformas (exceto Neko).  Simon descreveu isso em detalhes no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">discurso do ano passado</a> .  Para o usu√°rio final do compilador, isso significa que a express√£o <code>"Haxe„ÅØÊúÄÈ´ò„Å†„ÅûÔºÅ".length</code> de todas as plataformas sempre retornar√° <code>10</code> (novamente, exceto Neko). </p><br><p>  A codifica√ß√£o UCS-2 √© minimamente suportada (uma codifica√ß√£o suportada nativamente √© usada para cada plataforma / idioma; tentar suportar a mesma codifica√ß√£o em qualquer lugar seria impratic√°vel): </p><br><ul><li>  JavaScript, Flash, HashLink e C ++ usam codifica√ß√£o UCS-2 </li><li>  para eval, PHP, lua - UTF-8 </li><li>  para Java e C # - UTF-16 </li><li>  para Python - UTF-32 </li></ul><br><p>  Todos os caracteres que est√£o fora do plano multil√≠ngue principal (incluindo emoji) s√£o representados como "pares substitutos" - esses caracteres s√£o representados por dois bytes.  Por exemplo, se em Java / C # / JavaScript (ou seja, para cadeias de caracteres nas codifica√ß√µes UTF-16 e UCS-2) solicitar o comprimento de uma cadeia de caracteres composta por um emoji, o resultado ser√° "2".  Esse fato deve ser levado em considera√ß√£o ao trabalhar com essas seq√º√™ncias nessas plataformas. </p><br><p>  O Haxe 4 apresenta um novo tipo de iterador - valor-chave: </p><br><p><img src="https://habrastorage.org/webt/h5/8l/1f/h58l1f46pistrquuipoopbqybeq.png" alt="imagem"></p><br><p>  Funciona com cont√™ineres do tipo <code>Map</code> (dicion√°rios) e strings (usando a classe StringTools), o suporte a matrizes ainda n√£o foi implementado.  Tamb√©m √© poss√≠vel implementar esse iterador para classes personalizadas, para isso basta implementar o m√©todo <code>keyValueIterator():KeyValueIterator&lt;K, V&gt;</code> para elas <code>keyValueIterator():KeyValueIterator&lt;K, V&gt;</code> . </p><br><p>  A nova meta tag <code>@:using</code> permite associar extens√µes est√°ticas a tipos no local da declara√ß√£o. </p><br><p>  No exemplo mostrado no slide abaixo, a enumera√ß√£o <code>MyOption</code> associada ao <code>MyOptionTools</code> , ent√£o expandimos estaticamente essa enumera√ß√£o (o que √© imposs√≠vel na situa√ß√£o usual) e temos a oportunidade de chamar o m√©todo <code>get()</code> , referindo-se a ele como um m√©todo de objeto. </p><br><p><img src="https://habrastorage.org/webt/ol/i7/in/oli7inyhluzdfnval9ohazjh-lg.png" alt="imagem"></p><br><p>  Neste exemplo, o m√©todo <code>get()</code> √© embutido, o que tamb√©m permite que o compilador otimize ainda mais o c√≥digo: em vez de chamar o <code>MyOptionTools.get(myOption)</code> , o compilador substituir√° o valor armazenado, ou seja, <code>12</code> . </p><br><p>  Se o m√©todo n√£o for declarado como incorpor√°vel, outra ferramenta de otimiza√ß√£o dispon√≠vel para o programador √© incorporar as fun√ß√µes no local da chamada (inlining do site de chamada).  Para fazer isso, ao chamar a fun√ß√£o, voc√™ tamb√©m deve usar a <code>inline</code> - <code>inline</code> : </p><br><p><img src="https://habrastorage.org/webt/4p/bb/xp/4pbbxpcwmgfbabo5dih7lpqdmm0.png" alt="imagem"></p><br><p>  Gra√ßas ao trabalho de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Daniil Korostelev</a> , Haxe agora tem a oportunidade de gerar classes ES6 para JavaScript.  Tudo que voc√™ precisa fazer √© adicionar a flag de compila√ß√£o <code>-D js-es=6</code> . </p><br><p>  Atualmente, o compilador gera um arquivo js para todo o projeto (pode ser poss√≠vel no futuro gerar arquivos js separados para cada uma das classes, mas at√© agora isso s√≥ pode ser feito usando <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ferramentas adicionais</a> ). </p><br><p><img src="https://habrastorage.org/webt/md/mk/no/mdmknohyzhrkyftm1frzusodoi4.png" alt="imagem"></p><br><p>  Para enumera√ß√µes abstratas, os valores agora s√£o gerados automaticamente. </p><br><p>  No Haxe 3, era necess√°rio definir valores manualmente para cada construtor.  No Haxe 4, as enumera√ß√µes abstratas criadas no topo do <code>Int</code> se comportam de acordo com as mesmas regras do C. As enumera√ß√µes abstratas criadas no topo das seq√º√™ncias de caracteres se comportam de maneira semelhante - para elas, os valores gerados coincidir√£o com os nomes dos construtores. </p><br><p><img src="https://habrastorage.org/webt/mu/gr/uj/mugrujzah5vmzrw-vcgyjzw42ju.png" alt="imagem"></p><br><p>  Tamb√©m vale a pena mencionar algumas melhorias na sintaxe: </p><br><ul><li>  enumera√ß√µes abstratas e fun√ß√µes externas tornaram-se membros de pleno direito do Haxe e agora voc√™ n√£o precisa usar as metatags <code>@:enum</code> e <code>@:extern</code> para declar√°-las </li><li>  O quarto Haxe usa uma nova sintaxe de interse√ß√£o de tipo que reflete melhor a ess√™ncia das estruturas em expans√£o.  Tais constru√ß√µes s√£o mais √∫teis ao declarar estruturas de dados: a express√£o <code>typedef T = A &amp; B</code> significa que a estrutura <code>T</code> possui todos os campos dos tipos <code>A</code> e <code>B</code> </li><li>  Da mesma forma, os quatro declaram restri√ß√µes de par√¢metro de tipo: a entrada <code>&lt;T:A &amp; B&gt;</code> indica que o tipo de par√¢metro <code>T</code> deve ser <code>A</code> e <code>B</code> </li><li>  a sintaxe antiga funcionar√° (exceto a sintaxe para restri√ß√µes de tipo, porque entrar√° em conflito com a nova sintaxe para descrever os tipos de fun√ß√£o) </li></ul><br><p><img src="https://habrastorage.org/webt/ju/gt/yu/jugtyumi4hrt7fvt7ridshgzt5a.png" alt="imagem"></p><br><p>  A nova sintaxe para descrever os tipos de fun√ß√£o (sintaxe do tipo de fun√ß√£o) √© mais l√≥gica: usar par√™nteses em torno dos tipos de argumentos da fun√ß√£o √© visualmente mais f√°cil de ler.  Al√©m disso, a nova sintaxe permite definir nomes de argumentos, que podem ser usados ‚Äã‚Äãcomo parte da documenta√ß√£o do c√≥digo (embora isso n√£o afete a digita√ß√£o). </p><br><p><img src="https://habrastorage.org/webt/1v/yu/y5/1vyuy5q4ayqlbteqmq3ugx9lzba.png" alt="imagem"></p><br><p>  Nesse caso, a sintaxe antiga continua sendo suportada e n√£o √© preterida, pois  caso contr√°rio, exigiria muitas altera√ß√µes no c√≥digo existente (o pr√≥prio Simon constantemente se encontra fora de h√°bito e continua a usar a sintaxe antiga). </p><br><p>  O Haxe 4 finalmente possui fun√ß√µes de seta (ou express√µes lambda)! </p><br><p><img src="https://habrastorage.org/webt/vh/49/oo/vh49oomjlu8y1o1t5cs-jmzv7nm.png" alt="imagem"></p><br><p>  Os recursos das fun√ß√µes de seta no Haxe s√£o: </p><br><ul><li>  <code>return</code> impl√≠cito.  Se o corpo da fun√ß√£o consistir em uma express√£o, essa fun√ß√£o retornar√° implicitamente o valor dessa express√£o </li><li>  √© poss√≠vel definir os tipos de argumentos da fun√ß√£o, porque  o compilador nem sempre pode determinar o tipo necess√°rio (por exemplo, <code>Float</code> ou <code>Int</code> ) </li><li>  se o corpo da fun√ß√£o consistir em v√°rias express√µes, voc√™ precisar√° cerc√°-lo com chaves </li><li>  mas n√£o h√° como definir explicitamente o tipo de retorno da fun√ß√£o </li></ul><br><p>  Em geral, a sintaxe das fun√ß√µes de seta √© muito semelhante √† usada no Java 8 (embora funcione de maneira um pouco diferente). </p><br><p>  E como mencionamos o Java, deve-se dizer que no Haxe 4 foi poss√≠vel gerar diretamente o bytecode da JVM.  Para fazer isso, ao compilar um projeto em Java, basta adicionar o sinalizador <code>-D jvm</code> . </p><br><p>  Gerar um bytecode da JVM significa que n√£o h√° necessidade de usar um compilador Java e o processo de compila√ß√£o √© muito mais r√°pido. </p><br><p><img src="https://habrastorage.org/webt/ut/bc/mw/utbcmwnuwk1ade_vqrztz5rzhjk.png" alt="imagem"></p><br><p>  At√© o momento, o destino da JVM possui status experimental pelos seguintes motivos: </p><br><ul><li>  em alguns casos, o bytecode √© um pouco mais lento que o resultado da tradu√ß√£o do Haxe em Java e da compila√ß√£o com o javac.  Mas a equipe do compilador est√° ciente do problema e sabe como corrigi-lo, apenas requer trabalho adicional. </li><li>  existem problemas com o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MethodHandle</a> no Android, o que tamb√©m requer trabalho adicional (Simon ficar√° feliz se ele for ajudado a resolver esses problemas). </li></ul><br><p><img src="https://habrastorage.org/webt/yo/ho/r5/yohor5rg8cydts1horbcezmqqf0.png" alt="imagem"></p><br><p>  Uma compara√ß√£o geral da gera√ß√£o direta do bytecode (genjvm) e da compila√ß√£o do Haxe no c√≥digo Java, que √© ent√£o compilado no bytecode (genjava): </p><br><ul><li>  como j√° mencionado, em termos de velocidade de compila√ß√£o, o genjvm √© mais r√°pido que o genjava <br>  em termos de velocidade de execu√ß√£o, o bytecode genjvm ainda √© inferior ao genjava </li><li>  existem alguns problemas ao usar par√¢metros de tipo e genjava </li><li>  O genJvm usa o MethodHandle para se referir √†s fun√ß√µes, e o genjava usa as chamadas "fun√ß√µes Waneck" (em homenagem a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Kaui Vanek</a> , gra√ßas √†s quais o suporte a Java e C # apareceu no Haxe).  Embora o c√≥digo obtido usando as fun√ß√µes Waneck n√£o pare√ßa bonito, ele funciona e funciona com rapidez suficiente. </li></ul><br><p>  Dicas gerais para trabalhar com Java no Haxe: </p><br><ul><li>  Devido ao fato de o coletor de lixo em Java ser r√°pido, os problemas associados a ele s√£o raros.  Obviamente, criar constantemente novos objetos n√£o √© uma boa ideia, mas Java lida bem com o gerenciamento de mem√≥ria e a necessidade de cuidar constantemente das aloca√ß√µes n√£o √© t√£o aguda quanto em outras plataformas suportadas pelo Haxe (por exemplo, no HashLink) </li><li>  acessar os campos de uma classe em um destino jvm pode funcionar muito lentamente no caso em que isso √© feito atrav√©s de uma estrutura ( <code>typedef</code> ) - enquanto o compilador n√£o pode otimizar esse c√≥digo </li><li>  o uso excessivo da palavra-chave <code>inline</code> deve ser evitado - o compilador JIT faz um bom trabalho </li><li>  Evite usar <code>Null&lt;T&gt;</code> , especialmente ao lidar com c√°lculos matem√°ticos complexos.  Caso contr√°rio, muitas instru√ß√µes condicionais aparecer√£o no c√≥digo gerado, o que afetar√° negativamente a velocidade do seu c√≥digo. </li></ul><br><p>  O novo recurso Haxe 4, seguran√ßa nula, pode ajudar a evitar o uso de <code>Null&lt;T&gt;</code> .  Alexander Kuzmenko falou <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">em</a> detalhes sobre ela <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">no HaxeUp do ano passado</a> . </p><br><p><img src="https://habrastorage.org/webt/wx/hk/vk/wxhkvkjk-aq9pjo4mlp6l9hxrzi.png" alt="imagem"></p><br><p>  No exemplo no slide acima, o m√©todo static <code>safe()</code> possui o modo Rigoroso para verificar a seguran√ßa Nula ativada e esse m√©todo possui um par√¢metro <code>arg</code> opcional, que pode ter um valor nulo.  Para que essa fun√ß√£o seja compilada com √™xito, o programador precisar√° adicionar uma verifica√ß√£o do valor do argumento <code>arg</code> (caso contr√°rio, o compilador exibir√° uma mensagem sobre a impossibilidade de chamar o m√©todo <code>charAt()</code> em um objeto potencialmente nulo). </p><br><p><img src="https://habrastorage.org/webt/sd/mq/md/sdmqmdmuv3lauh3wopzzblnxm8k.png" alt="imagem"></p><br><p>  A seguran√ßa nula pode ser configurada no n√≠vel do pacote (usando uma macro) e tipos e campos individuais de objetos (usando a metatag <code>@:nullSafety</code> ). </p><br><p>  Os modos nos quais as verifica√ß√µes de seguran√ßa nula funcionam s√£o: Estrito, Solto e Desativado.  Globalmente, essas verifica√ß√µes est√£o desativadas (modo desativado).  Quando est√£o ativados, o modo Loose √© usado por padr√£o (a menos que voc√™ especifique explicitamente o modo).  A principal diferen√ßa entre os modos Loose e Strict √© que o modo Loose ignora a possibilidade de alterar valores entre opera√ß√µes de acesso a esses valores.  No exemplo no slide abaixo, vemos que uma verifica√ß√£o <code>null</code> foi adicionada para a vari√°vel <code>x</code> .  No entanto, no modo Estrito, esse c√≥digo n√£o √© compilado, porque  antes de trabalhar diretamente com a vari√°vel <code>x</code> , o m√©todo <code>sideEffect()</code> √© <code>sideEffect()</code> , o que pode potencialmente anular o valor dessa vari√°vel; portanto, voc√™ precisar√° adicionar outra verifica√ß√£o ou copiar o valor da vari√°vel em uma vari√°vel local, com a qual continuaremos trabalhando. </p><br><p><img src="https://habrastorage.org/webt/m6/sq/6w/m6sq6w1wgue4r9fiylnchvfaxk4.png" alt="imagem"></p><br><p>  O Haxe 4 apresenta uma nova palavra-chave <code>final</code> , que tem um significado diferente, dependendo do contexto: </p><br><ul><li>  se voc√™ us√°-lo em vez da palavra-chave <code>var</code> , o campo declarado dessa maneira n√£o poder√° receber um novo valor.  Voc√™ pode defini-lo diretamente apenas ao declarar (para campos est√°ticos) ou no construtor (para campos n√£o est√°ticos) </li><li>  se voc√™ us√°-lo ao declarar uma classe, ele proibir√° a heran√ßa dela </li><li>  se voc√™ o usar como um modificador para acessar a propriedade de um objeto, isso proibir√° a redefini√ß√£o de getter / setter nas classes derivadas. </li></ul><br><p><img src="https://habrastorage.org/webt/fo/je/_6/foje_6ftilhqwsyhnb-zbskf-l8.png" alt="imagem"></p><br><p>  Teoricamente, o compilador, tendo encontrado a palavra-chave <code>final</code> , pode tentar otimizar o c√≥digo, assumindo que o valor desse campo n√£o seja alterado.  Mas, por enquanto, essa possibilidade est√° sendo considerada apenas e n√£o est√° implementada no compilador. </p><br><p><img src="https://habrastorage.org/webt/aa/z_/th/aaz_thozjk6apzimnpf15tsfsja.png" alt="imagem"></p><br><p>  E um pouco sobre o futuro de Haxe: </p><br><ul><li>  atualmente trabalhando na API de E / S ass√≠ncrona <br>  O suporte √† Coroutine est√° planejado, mas, at√© o momento, o trabalho sobre eles est√° paralisado no est√°gio de planejamento.  Talvez eles apare√ßam no Haxe 4.1, e talvez mais tarde. </li><li>  A otimiza√ß√£o de chamada de cauda aparecer√° no compilador </li><li>  e possivelmente as <a href="">fun√ß√µes dispon√≠veis no n√≠vel do m√≥dulo</a> .  Embora a prioridade desse recurso esteja constantemente mudando </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt474452/">https://habr.com/ru/post/pt474452/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt474440/index.html">Dificuldades no c√°lculo da receita de assinaturas renov√°veis ‚Äã‚Äãautomaticamente em aplicativos iOS</a></li>
<li><a href="../pt474442/index.html">Hist√≥ria da extens√£o da vida irlandesa</a></li>
<li><a href="../pt474444/index.html">Mais 5 projetos de treinamento ousados ‚Äã‚Äãpara o desenvolvedor (Camada, Squoosh, Calculadora, Rastreador de sites, Leitor de m√∫sica)</a></li>
<li><a href="../pt474448/index.html">O que o c√©rebro de um estudante no mundo da computa√ß√£o √© capaz</a></li>
<li><a href="../pt474450/index.html">Pare de usar TTL ridiculamente pequeno para DNS</a></li>
<li><a href="../pt474458/index.html">Total acumulado em SQL</a></li>
<li><a href="../pt474460/index.html">Descri√ß√£o das arquiteturas de processador no LLVM usando o TableGen</a></li>
<li><a href="../pt474462/index.html">Enorme conjunto de dados aberto da vers√£o 1.0 do discurso russo</a></li>
<li><a href="../pt474466/index.html">Hist√≥ria do primeiro Diablo</a></li>
<li><a href="../pt474470/index.html">Ataque DDoS aos servi√ßos RDP: reconhe√ßa e supere. Experi√™ncia bem sucedida de Tucha</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>