<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍠 👯 🧚🏼 Elementos personalizados en batalla 👋 👮 ‼️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Buenas tardes 

 La historia de esta publicación es bastante simple y quizás familiar para muchos. La compañía desarrolla muchos productos, en nuestro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Elementos personalizados en batalla</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/444662/"> Buenas tardes <br><br>  La historia de esta publicación es bastante simple y quizás familiar para muchos.  La compañía desarrolla muchos productos, en nuestro caso, principalmente para un cliente.  Recientemente, todas las soluciones se desarrollan para la web y se transfieren las soluciones de escritorio existentes en la web. <br><br>  A este respecto, si había un deseo de aumentar la velocidad de desarrollo y garantizar la uniformidad de los productos, se decidió desarrollar una base de componentes comunes.  No hablaremos sobre cómo se creó el kit de interfaz de usuario y sobre las largas batallas con los diseñadores, pero quiero hablar sobre la implementación de esta tarea. <br>  En el frente, tenemos democracia o incluso anarquía.  Las personas son libres de usar las soluciones con las que se sienten cómodas.  En este momento hay proyectos en batalla en AngularJS, Angular, React, Vanilla, y también hay proyectos en Vue para uso interno.  En este punto, nuestra mirada se volvió hacia los componentes web. <br><a name="habracut"></a><br><h4>  Componentes web </h4><br>  Echemos un vistazo rápido al concepto de componentes web.  Se basa en el concepto de elementos personalizados, que le permite ampliar la clase HTMLElement creando sus propias etiquetas html, con la lógica empresarial oculta al usuario.  Suena bien, se ve bien.  Veamos que podemos hacer.  En lo sucesivo, el código fuente se da en mecanografiado. <br><br>  Para crear un elemento personalizado, debemos hacer lo siguiente.  Describa la clase y registre el componente. <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NewCustomElement</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HTMLElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Here I am'</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!customElements.get(<span class="hljs-string"><span class="hljs-string">'new-custom-element'</span></span>)) { <span class="hljs-comment"><span class="hljs-comment">/*  ,     */</span></span> customElements.define(<span class="hljs-string"><span class="hljs-string">'new-custom-element'</span></span>, NewCustomElement); }</code> </pre> <br>  Además, al conectar este código a cualquier html (compilándolo en JS), podemos usar el componente (de hecho, volveremos a esto si sus clientes no se atreven a usar Chrome). <br><br>  Los elementos personalizados también nos dan algunos ganchos para seguir la vida útil de los componentes. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NewCustomElement</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HTMLElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'I am created'</span></span>); } <span class="hljs-comment"><span class="hljs-comment">/*   ,     DOM,   ,  ,    ,       */</span></span> connectedCallback() { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Now I am in Dom'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._render(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._addEventListeners(); } <span class="hljs-comment"><span class="hljs-comment">/*   ,     DOM,  ,    */</span></span> disconnectedCallback() { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'I am removed now'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>._removeEventListeners(); } <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> get observedAttributes() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [<span class="hljs-string"><span class="hljs-string">'date'</span></span>]; } <span class="hljs-comment"><span class="hljs-comment">/* ,       */</span></span> attributeChangedCallback(attrName, oldVal, newVal) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (attrName) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">'date'</span></span>: { <span class="hljs-comment"><span class="hljs-comment">/*   ,      */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } } <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> adoptedCallback() { <span class="hljs-comment"><span class="hljs-comment">/*  ,    ,      */</span></span> } }</code> </pre><br>  También podemos generar eventos en componentes a través del método dispatchEvent <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NewCustomElement</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HTMLElement</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">////// _date: Date = new Date(); set date(val: Date) { this._date = val; this.dispatchEvent(new CustomEvent('dateChanged', { bubbles: true, cancelable: false, detail: this._date })); } ////// }</span></span></code> </pre><br><h4>  El futuro ha llegado, dijeron, escribes el código una vez y lo usas en todas partes, dijeron </h4><br>  Nos familiarizamos un poco con los componentes, ahora hablaré sobre los sentimientos que quedaron después de trabajar con esta tecnología.  En general, en el artículo <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Componentes web en el mundo real, el</a> autor describió una actitud hacia la tecnología que resultó ser muy cercana a mí. <br><br>  Veamos qué ventajas tenemos. <br><br><ul><li>  <b>Reutilizable</b> : tenemos una biblioteca realmente reutilizable.  Por el momento, funciona en un proyecto de vainilla, conectándose como un paquete compilado de Webpack, y en un proyecto angular 7, conectando fuentes de mecanografiado en el AppModule </li><li>  <b>Comportamiento comprensible</b> : si sigue las <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">mejores prácticas</a> , obtenemos componentes con un comportamiento comprensible que se pueden integrar fácilmente en los marcos existentes, por ejemplo, para angular, usar plátanos en una caja, en aplicaciones nativas a través de atributos o trabajar con propiedades que reflejen atributos </li><li>  <b>Estilo unificado</b> : esta es una repetición del punto sobre la reutilización, pero aún así.  Ahora todos los proyectos usan bloques de construcción individuales para la construcción de la interfaz de usuario. </li><li>  <b>Honestamente, no puedo encontrar más ventajas</b> : cuéntanos cómo te ayudaron WebComponents. </li></ul><br>  A continuación, trataré de describir cosas que probablemente no me gustaron. <br><br><ul><li>  <b>Costos laborales</b> : los costos de desarrollar componentes son incomparablemente más altos que el desarrollo de un marco. </li><li>  <b>Nomenclatura</b> : los componentes compiten globalmente, por lo que tanto los nombres de clase como los nombres de etiqueta deben tener el prefijo.  Dado que todavía tenemos bibliotecas de componentes implementadas en marcos que fueron nombrados como &lt;nombre-componente- <b>compañía</b> &gt;, tuvimos que prefijar los componentes web dos veces con &lt;nombre-componente-compañía&gt;. </li><li>  <b>ShadowRoot</b> : de acuerdo con las mejores prácticas, se recomienda el uso de shadowRoot.  Sin embargo, esto no es muy conveniente, ya que no hay posibilidad de influir en la apariencia del componente desde el exterior.  Y tal necesidad a menudo se encuentra. </li><li>  <b>Renderizado</b> : sin marcos, debe olvidarse del enlace de datos y la reactividad (LitElement para ayudar, pero esta es otra dependencia). </li><li>  <b>El futuro no ha llegado</b> : para mantener el soporte al usuario en el nivel anterior (lo tenemos ie11 y todo lo que es más reciente), debe sujetar los polífilos, es5 es el estándar objetivo, lo que crea problemas adicionales. </li><li>  <b>Polifilos mismos</b> : para obtener todo esto bajo IE, tuve que atormentar mucho y tomar algunas decisiones feas, ya que los polycoms del componente web rompen algo dentro del hangar, causando un desbordamiento de la pila de llamadas.  Como resultado, tuve que rellenar polyphiles, habiendo recibido dependencias adicionales. </li></ul><br>  No sé qué conclusión sacar de todo esto.  Si Microsoft crea un navegador basado en cromo y deja de admitir IE y Edge, entonces sí, será más fácil respirar. <br><br>  Hay un beneficio extraño: puede dar el desarrollo de componentes web limpios a desarrolladores novatos: déjelos ver cómo es, escriba en JS sin marcos.  Un colega durante mucho tiempo no pudo entender por qué el cambio de propiedad en el componente no se reflejó de inmediato en el DOM.  Aquí están las personas que crecen en marcos.  Y yo soy igual. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/444662/">https://habr.com/ru/post/444662/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../444650/index.html">Desodorante bacteriano: una relación simbiótica entre las ranas arbóreas y la bacteria Pseudomonas</a></li>
<li><a href="../444652/index.html">"Es hora de salir del front-end": Andrey Sitnik sobre el estancamiento de la comunidad, el código abierto y no solo</a></li>
<li><a href="../444654/index.html">La economía de la alegría. La tutoría como caso especial. La ley del tres por ciento</a></li>
<li><a href="../444658/index.html">Video de Badoo PHP Meetup # 2: Acerca de las pruebas y la calidad del código</a></li>
<li><a href="../444660/index.html">Registro de todas las consultas de la base de datos en Asp.Net Boilerplate 4.3 .Net Core 2.1</a></li>
<li><a href="../444664/index.html">Linux Foundation tratará con chips de código abierto</a></li>
<li><a href="../444668/index.html">Los 5 problemas más comunes de los empleadores al seleccionar especialistas de TI desde el punto de vista de un reclutador-outsourcer</a></li>
<li><a href="../444670/index.html">Investigación: la música daña el pensamiento creativo: comprende y discute opiniones alternativas</a></li>
<li><a href="../444672/index.html">Roskachestvo presentó una calificación de auriculares con cable e inalámbricos disponibles en Rusia</a></li>
<li><a href="../444674/index.html">Sony Xperia 10 y Xperia 10 Plus: teléfonos inteligentes de visión amplia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>