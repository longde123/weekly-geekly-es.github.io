<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò• ü§∂ ‚ô£Ô∏è Station de soudage r√©versible classe HI-END üë®üèΩ‚Äçüé® ü§ì üï∫üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nous avions plusieurs photos du circuit imprim√© principal, une vid√©o de YouTube avec des formes d'onde de tension sur le drain des mosfets, un comment...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Station de soudage r√©versible classe HI-END</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/412607/"><img src="https://habrastorage.org/webt/zy/do/hq/zydohqpxzvzoygol3o6ci9wkebw.jpeg"><br><br>  Nous avions plusieurs photos du circuit imprim√© principal, une vid√©o de YouTube avec des formes d'onde de tension sur le drain des mosfets, un commentaire sur le forum listant les capacit√©s des condensateurs r√©sonnants, ainsi que plusieurs vid√©os du d√©ballage avec le tournage du processus de r√©chauffement de la piq√ªre.  La vid√©o √©tait particuli√®rement pr√©occupante avec la mesure de la consommation √©lectrique maximale pendant le chauffage.  Il n'y a rien de plus triste qu'une cartouche br√ªl√©e fra√Æchement achet√©e sur Amazon d'une valeur de quatre mille roubles.  Mais ... recommen√ßons. <br><a name="habracut"></a><br><h4>  Introduction au cours </h4><br>  Afin de comprendre quel type d'appareil nous allons construire aujourd'hui, rappelons d'abord bri√®vement ce que les stations de soudage sont en g√©n√©ral et comment elles diff√®rent les unes des autres. <br><br>  Comme vous pouvez le deviner, l'ensemble du segment de prix inf√©rieur de ces √©quipements est captur√© par les marques chinoises, copiant pour la plupart la construction plut√¥t r√©ussie du fer √† souder Hakko japonais.  Le principe de fonctionnement de l'original et de nombreuses copies est tr√®s simple: un radiateur en nichrome ou √† couche mince transf√®re la chaleur √† une piq√ªre amovible, dont la temp√©rature est contr√¥l√©e par un thermocouple ou une thermistance int√©gr√©e au radiateur.  Il s'agit d'une solution simple et peu co√ªteuse, mais dans les copies chinoises, la qualit√© peut √™tre un peu faible: le radiateur est un peu de la m√™me taille, un peu d'√©conomie du mat√©riau de la pointe et, par cons√©quent, du papier est enroul√© sur le radiateur, la piq√ªre japonaise d'origine est command√©e √† l'√©tranger, le connecteur passer √† un plus puissant ... en g√©n√©ral, il y a quelque chose √† faire. <br><br>  Quelque part au milieu de l'√©chelle de valeur se trouvent des stations de soudage de marque de grandes marques occidentales.  ERSA allemand, Weller am√©ricain, Hakko japonais, c'est tout.  Le principe de fonctionnement est essentiellement le m√™me, mais aucune ferme collective n'est n√©cessaire ici, des petits pains agr√©ables sortent de la bo√Æte comme un c√¢ble en silicone souple qui ne fond pas au moindre toucher d'un fer √† souder, et ... en fait il n'y a pas tellement de petits pains!  Prix?  Correspond au niveau.  Des dizaines de milliers de roubles libell√©s bouleverseront non seulement un humble amateur de maison pour passer des soir√©es derri√®re le d√©bogage de mat√©riel, mais m√™me une entit√© juridique de taille moyenne. <br><br>  Cependant, le sujet de l'article d'aujourd'hui n'est pas √† ce sujet.  Je vais vous parler du vrai HI-END dans le monde des stations de soudage, √† savoir les fers √† souder par induction de la soci√©t√© am√©ricaine Metcal (OK International les produit d√©sormais sous cette marque).  En fait, il existe plusieurs fabricants de tels appareils, outre le Metcal susmentionn√©, je sais √©galement que Thermaltronics, JBC et m√™me Hakko ont un mod√®le similaire.  Le principe de fonctionnement du chauffage par induction dans de tels appareils est tr√®s √©l√©gant: <br><br> <a href=""><img src="https://habrastorage.org/webt/u_/zy/lj/u_zyljn2jccu9qkjsywbyn1w7ro.jpeg"></a> <br><br>  Comme vous pouvez le voir, il n'y a pas de capteur de temp√©rature du tout ici, le noyau de piq√ªre est en cuivre recouvert d'un mat√©riau ferromagn√©tique, qui est chauff√© par le champ magn√©tique alternatif √† haute fr√©quence (13,56 MHz), puis √† une certaine temp√©rature, appel√©e point de Curie, il perd ses propri√©t√©s magn√©tiques, et En cons√©quence, il cesse de chauffer davantage.  Lorsque vous touchez le point de soudure, l'√©l√©ment ferromagn√©tique se refroidit un peu et la puissance de l'inductance commence imm√©diatement √† √™tre transmise √† la pointe du fer √† souder.  Les pointes sont disponibles en quatre temp√©ratures fixes, dont seulement deux sont essentiellement n√©cessaires - pour le plomb et pour le brasage sans plomb.  C‚Äôest tout. <br><br>  OKI / Metcal produit plusieurs vari√©t√©s de stations de soudage par induction de divers co√ªts et avec une puissance de sortie diff√©rente, cependant, l'ordre des quantit√©s dans la r√©gion de 60000 roubles d√©courage tout d√©sir de toucher le beau, aussi beau que ce beau.  Eh bien, essayons d'√©conomiser un peu? <br><br><h4>  D√©fi </h4><br>  Nous le formulons comme suit: en utilisant uniquement des sources ouvertes, effectuons une r√©tro-ing√©nierie virtuelle du dispositif MX-5200 d'origine, et en cons√©quence d√©veloppons une source monocanale de tension RF sinuso√Ødale adapt√©e √† la fabrication √† la maison avec une puissance de sortie de pointe de 80 W, r√©p√©tant autant que possible la fonctionnalit√© de la soudure d'origine gare. <br><br>  Sur Internet, vous pouvez facilement trouver le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">sch√©ma de</a> circuit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">de</a> la station Metcal MX-500 de g√©n√©ration pr√©c√©dente, soigneusement tir√© de la carte.  L'utilisation directe de solutions de circuits ne fonctionnera pas √† partir d'ici, car la puissance de sortie de cet appareil n'est que de 40 W et, d'une mani√®re simple, elle n'est pas √©volutive.  Cependant, cet ancien sch√©ma nous aidera √† comprendre les principes de fonctionnement des principaux composants. <br><br>  Donc, dans le document, nous voyons: <br><br><ol><li>  G√©n√©rateur RF puissant √† quartz avec trois circuits r√©sonnants en sortie; </li><li>  Convertisseur √† impulsion pour alimenter le g√©n√©rateur (1), avec une tension de sortie variant dans la plage de 17 √† 21 V; </li><li>  Circuit de r√©troaction qui r√©gule la tension du convertisseur abaisseur (2) en fonction de la tension √† l'un des circuits r√©sonants de sortie du g√©n√©rateur (1); </li><li>  Le n≈ìud de protection qui √©teint le g√©n√©rateur (1) lors de la d√©connexion de l'inductance; </li><li>  Alimentation transformateur avec une tension de sortie de 53 V. </li></ol><br>  D√©terminez imm√©diatement les solutions g√©n√©rales du circuit.  Pour alimenter le circuit, par exemple, un transformateur toro√Ødal basse fr√©quence est parfait.  Bien que ... appliquons-nous, nous sommes mieux sur un convertisseur LLC r√©sonnant bas√© sur une puce HiperLCS rare fabriqu√©e par Power Integrations: j'ai longtemps voulu travailler avec.  Le convertisseur abaisseur utilis√© pour r√©gler la puissance de sortie en prendra √©galement un plus moderne, voyez s'il est vraiment possible de serrer cinq amp√®res dans un bo√Ætier de la taille d'un SO-8.  Mais qu'est-ce que ce projet sans arduino, croquis et LED?  Ajoutez le microcontr√¥leur STM32 et un petit √©cran pour afficher la puissance de sortie actuelle.  Pour simplifier, nous mesurerons la puissance sur la ligne √©lectrique du g√©n√©rateur RF, et nous tiendrons compte de l'efficacit√© dans le logiciel (ou non).  Prenez un bo√Ætier m√©tallique de taille appropri√©e, il servira √† la fois d'√©cran et de radiateur. <br><br><img src="https://habrastorage.org/webt/gc/u2/w1/gcu2w1dww-mhiyltoow_rpraa8c.jpeg"><br><br>  Pour le soudage direct sur Amazon, le kit de mise √† niveau Metcal MX-UK1 sera achet√©, qui comprend un support et un fer √† souder lui-m√™me (il s'agit essentiellement d'un stylo avec un fil), ainsi que les cartouches de soudure r√©elles.  Historiquement, il est plus pratique pour moi de travailler avec de petites pi√®ces avec le soi-disant ¬´sabot¬ª (un c√¥ne tronqu√© √† 30 ¬∞), et pour souder des √©l√©ments massifs, il est pr√©f√©rable de prendre quelque chose de plus large, plus massif et plus chaud, alors voici mon choix: Metcal SMTC-0167 pour ex√©cution fine, et Thermaltronics M7K100 pour le travail avec des √©l√©ments de grande taille.  Oui, les piq√ªres Thermaltronics moins ch√®res conviennent √©galement. <br><br><img src="https://habrastorage.org/webt/dt/go/ha/dtgohazuklmmwjlzrnkjeqatbrc.jpeg"><br><br>  Pendant que les d√©tails sont en cours, nous allons dessiner un sch√©ma de principe de l'appareil con√ßu.  Le voici: <br><br><img src="https://habrastorage.org/webt/zl/uy/bh/zluybhztltpnmerd00thb0u5smo.png"><br><br>  Il est tr√®s important de dire imm√©diatement quelques mots sur la r√©troaction entre la sortie du g√©n√©rateur RF et l'entr√©e de commande du convertisseur abaisseur.  Le fait est qu'apr√®s que la piq√ªre a atteint la temp√©rature de fonctionnement, le g√©n√©rateur continue de g√©n√©rer une tension d'amplitude assez importante (environ 100 V), et cette puissance commence √† se dissiper √† la r√©sistance active de la bobine d'inductance, qui, en raison de l'effet de peau, est beaucoup plus que vous ne pouvez l'imaginer multim√®tre conventionnel.  En cons√©quence, la minuscule bobine est chauff√©e au rouge et br√ªle.  Pour √©viter que cela ne se produise, les stations d'origine utilisent une r√©troaction n√©gative, ce qui r√©duit la tension d'alimentation du g√©n√©rateur avec une augmentation du coefficient d'onde stationnaire accompagnant le changement d'imp√©dance de l'inductance.  La version 40 watts utilise la m√©thode assez simple de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">US4626767A</a> , tandis que la version 80 watts utilise un syst√®me d'exploitation plus sophistiqu√© avec un transformateur de courant.  Regardons cette vid√©o tir√©e d'Internet: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/-55dR4yTJDQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Le faisceau bleu sur celui-ci montre la tension d'alimentation de l'√©tage de sortie du g√©n√©rateur RF, et, comme nous le voyons ici, nous devons nous assurer que la tension d'alimentation change au moins deux fois (la puissance de sortie dans ce cas change proportionnellement au carr√© de la tension, c'est-√†-dire quatre fois).  Dans la version OS mod√©lis√©e simple simul√©e dans LTSpice, je ne pouvais pas atteindre un tel niveau de r√©gulation, donc nous tirons simplement la cha√Æne de r√©troaction de la photo de la carte de circuit imprim√©. <br><br><h4>  G√©n√©rateur haute fr√©quence </h4><br>  Nous commen√ßons la conception de la partie haute fr√©quence avec les circuits r√©sonants de sortie.  Jetons un coup d'≈ìil √† cette photo haute r√©solution: <br><br> <a href=""><img src="https://habrastorage.org/webt/ng/9m/ia/ng9miake_7v8hi53skrpz8ko3lm.jpeg"></a> <br><br>  Ici, nous voyons trois bobines enroul√©es autour de noyaux toro√Ødaux jaunes, le nombre de tours est de 4, 6 et 7, en comptant de gauche √† droite.  Selon la classification d'Amidon, la couleur jaune indique un noyau en fer atomis√© avec une perm√©abilit√© magn√©tique de 8,5 (mat√©riau n ¬∞ 6).  Nous estimons la taille des anneaux en mesurant la taille de l'anneau avec une r√®gle sur l'√©cran et la taille d'un √©l√©ment connu, par exemple, un transistor de sortie dans le bo√Ætier TO-247.  Apparemment, des noyaux magn√©tiques T130-6 sont utilis√©s ici;  √† mon avis, c'est une sorte de surpuissance - de tels grands anneaux sont con√ßus pour une puissance consid√©rablement plus √©lev√©e.  Mais je n'ai pas beaucoup envie d'√™tre intelligent ici: je n'utiliserai certainement pas les bagues am√©ricaines originales, au lieu de cela je commande des copies chinoises bon march√© sur AliExpress et vois comment elles fonctionnent (spoiler: tout va bien avec elles).  Les inductances calcul√©es √©taient d'environ 180, 400 et 540 nH, respectivement. <br><br>  Dans les circuits r√©sonants, les condensateurs d√©pendent √©galement d'inductances.  Il n'est pas possible de d√©terminer leurs capacit√©s √† partir de la photographie, cependant, il existe facilement un poste dans lequel le micro √©lectrique p√©dant (auteur de la vid√©o pr√©c√©dente) partage ses observations (surlign√©es en jaune): <br><br><img src="https://habrastorage.org/webt/hq/aq/md/hqaqmdiwweyahwjsjwp5ayrhqx0.png"><br><br>  Si nous substituons ces valeurs dans le mod√®le d'√©pices, nous pouvons voir que les fr√©quences de r√©sonance des circuits sont l√©g√®rement d√©cal√©es de 13,56 MHz.  Le fait est que plus la fr√©quence est proche de la r√©sonance, moins la tension d'alimentation du g√©n√©rateur RF est n√©cessaire et plus il consomme de courant.  Dans l'original, un convertisseur abaisseur avec un courant maximum de 3A a √©t√© utilis√© pour alimenter l'√©tage de sortie, de sorte que les d√©veloppeurs ont un peu boulevers√© les circuits de sortie afin qu'il soit possible d'augmenter la tension d'alimentation et de r√©duire la consommation de courant.  Nous pr√©voyons d'utiliser un microcircuit de cinq amp√®res, cependant, ce courant n'√©tait pas non plus suffisant pour fonctionner en r√©sonance, nous allons donc l√©g√®rement perturber le circuit de la m√™me mani√®re.  Nous s√©lectionnerons exp√©rimentalement les valeurs exactes de capacit√©, en nous concentrant sur la tension d'alimentation maximale de l'√©tage de sortie 22 V et la consommation de courant maximale de 4 A. <br><br>  Je note qu'une puissance assez importante circule √† l'int√©rieur des circuits r√©sonnants, qui s'efforce d'√™tre lib√©r√©e dans l'environnement sous forme de chaleur.  Par cons√©quent, afin d'augmenter le facteur de qualit√© des bobines, nous utilisons un fil √©maill√© plus √©pais - 1,25 mm, et nous mettons plusieurs condensateurs en parall√®le. <br><br>  Le choix du transistor de sortie est √©galement un sujet difficile.  Lors du remplacement ou de la d√©connexion de la piq√ªre, la surtension peut atteindre des valeurs assez importantes (300-350 V), mais dans l'original, le d√©veloppeur n'a pas beaucoup travaill√© avec les protections et a mis dans l'√©tage de sortie un transistor RF IXYS IXFH12N50F RF assez rare, rapide et cher avec une tension de drain maximale 500 V. Nous, bien s√ªr, ne pouvons pas nous permettre un tel luxe.  Prenez un transistor √† effet de champ ordinaire de 200 volts STP19NF20 d'une valeur de 34 roubles, et en parall√®le, nous connectons un suppresseur de 150 V. Id√©al!  Le limiteur coupe l√©g√®rement le haut des √©missions r√©sonantes, emp√™chant les circuits de trop se balancer, et environ 10 millisecondes apr√®s la perte de charge, la protection arr√™tera le g√©n√©rateur. <br><br><img src="https://habrastorage.org/webt/rf/tg/il/rftgil-a5rpht6bup_enjbtq8kk.jpeg"><br><br>  En raison de la grande capacit√© d'entr√©e et de la haute fr√©quence, cela ne fonctionnera pas pour contr√¥ler l'obturateur du transistor de sortie directement √† l'aide d'un pilote conventionnel.  Sur la photo de la carte d'origine entre les deux transistors de puissance, une inductance sans cadre est visible.  C'est une petite astuce largement utilis√©e: l'inductance avec la capacit√© de grille forme un circuit r√©sonnant, qui fournit une recirculation de puissance dans le circuit de grille, √† la suite de quoi l'efficacit√© du pr√©amplificateur augmente fortement.  Le m√™me circuit impose √©galement une limitation non √©vidente au mod√®le du transistor de sortie: la r√©sistance de sa grille doit √™tre minimale pour que le facteur de qualit√© du circuit reste acceptable.  Sans entrer dans trop de d√©tails, r√©p√©tons la solution utilis√©e par le constructeur.  Nous s√©lectionnons la valeur d'inductance √† l'efficacit√© maximale du circuit r√©el en compressant / √©tirant les spires de la bobine. <br><br>  Eh bien, les circuits deviennent plus triviaux.  Le pr√©amplificateur r√©alis√© sur un transistor √† faible capacit√© d'entr√©e IRF510 sera secou√© par le double driver <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">MAX17602</a> , ses caract√©ristiques de vitesse sont assez bonnes.  Les MAX17600 ou MAX17601 sont encore meilleurs, leurs sorties pourraient √™tre connect√©es en parall√®le, mais je n'avais pas de telles options, nous allons donc travailler avec ce que nous avons. <br><br>  La fr√©quence de g√©n√©ration souhait√©e est fix√©e par un r√©sonateur √† quartz.  Malheureusement, je n'ai pas non plus trouv√© de quartz √† 13,56 MHz pour l'oscillateur ma√Ætre.  Mais cela n'a pas d'importance.  Prenez le r√©sonateur 27,12 MHz le plus courant et divisez la fr√©quence en deux.  Ici, le microcontr√¥leur est juste utile, √† savoir l'un de ses temporisateurs programm√©s en cons√©quence.  Je tiens √©galement √† noter que pour la connexion directe au MCU, seuls les r√©sonateurs √† quartz fonctionnant au premier harmonique conviennent.  Les r√©sonateurs russes tr√®s r√©pandus √† 27120 kHz fonctionnant au troisi√®me harmonique ne peuvent √™tre connect√©s qu'√† une b√©quille sous la forme d'un circuit r√©sonant suppl√©mentaire. <br><br><h4>  La nutrition </h4><br>  Apr√®s de longues et infructueuses exp√©riences avec des produits chinois, l'√©tage de sortie RF a √©t√© d√©cid√© d'√™tre aliment√© par un convertisseur abaisseur sur une puce TI <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TPS54560</a> .  La fr√©quence du g√©n√©rateur interne pour emp√™cher l'apparition de battements entendus par l'oreille est r√©gl√©e √† environ 450 kHz, loin de la plage de fr√©quences du convertisseur LLC.  Il existe √©galement une option pour faire le contraire, synchroniser le convertisseur abaisseur avec le g√©n√©rateur de convertisseur LLC, mais la paresse a d√©j√† commenc√© √† se faire sentir.  Nous ne le ferons pas. <br><br>  Le convertisseur TPS54560 lui-m√™me, malgr√© sa taille miniature, a un courant de sortie assez important, et il peut parfois sembler que ce soit une sorte de miracle jusqu'√† pr√©sent dans la lutte pour l'efficacit√© √©nerg√©tique ... Mais non - la puce a vraiment besoin d'un bon refroidissement.  La carte de d√©monstration bas√©e au Texas contient deux grands polygones ¬´en terre¬ª d'une √©paisseur de 2 oz des deux c√¥t√©s, et pour le transfert de chaleur entre les couches, six vias sont utilis√©s situ√©s directement sous le sommet du microcircuit (l√†, il a un contact de dissipateur de chaleur).  Cet arrangement rend quelque peu difficile la fabrication d'une carte de circuit imprim√© √† la maison, donc vous devrez apparemment commander la production en Chine.  Eh. <br><br>  Pour alimenter le pilote et le pr√©amplificateur, nous prenons une tension 12V non stabilis√©e du deuxi√®me enroulement du convertisseur LLC.  Les courants consomm√©s des parties restantes du circuit seront tr√®s faibles, par cons√©quent, pour le contr√¥leur cinq volts et le r√©tro√©clairage LCD, dans le cadre de la substitution d'importation, nous installerons un stabilisateur lin√©aire KP142EN5A, con√ßu sp√©cifiquement pour une utilisation dans l'√©conomie nationale, et la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gouge LD2985</a> fournira une ligne 3,3 V pour le MCU. <br><br>  Le convertisseur LLC sur la puce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">LCS708HG</a> r√©duira <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">la</a> tension <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">du</a> secteur aux 30 et 12 volts requis. <br><br><img src="https://habrastorage.org/webt/65/l8/ed/65l8edk_ucvq50zsc5hf2jbxxp8.jpeg"><br><br>  Je suis s√ªr que de nombreux lecteurs ne savent pas que cette b√™te est un convertisseur LLC en g√©n√©ral, donc je m'attarderai sur le principe de son fonctionnement plus en d√©tail.  LLC n'est pas une abr√©viation, ces lettres signifient "inductance-inductance-capacit√©" et, en bref, d√©crivent les circuits de connexion de l'enroulement primaire du transformateur.  Le fait est qu'une partie des lignes du champ magn√©tique de l'enroulement primaire ne "s'accrochent" pas aux tours du secondaire, √† la suite de quoi la soi-disant inductance de diffusion est form√©e - une inductance parasite qui n'est pas capable de transf√©rer l'√©nergie stock√©e en elle-m√™me vers les circuits secondaires.  Dans les convertisseurs flyback conventionnels, cette √©nergie doit √™tre dissip√©e sur les suppresseurs ou les r√©sistances d'amortissement, de sorte que les transformateurs (ou, plus pr√©cis√©ment, les selfs √† double enroulement) sont g√©n√©ralement con√ßus de mani√®re √† r√©duire l'induction de fuite √† la valeur la plus basse possible.  Mais tout change lorsque vous concevez une LLC. <br><br>  Dans un convertisseur r√©sonant, l'inductance de fuite, avec un condensateur connect√© en s√©rie √† l'enroulement primaire, forme un circuit oscillant qui remplit deux t√¢ches importantes.  Premi√®rement, il permet la commutation des transistors haute tension de sortie du convertisseur √† une tension proche de z√©ro (le mode de commutation √† tension nulle), ce qui r√©duit consid√©rablement les pertes de commutation.  Et deuxi√®mement, l'√©nergie accumul√©e dans une inductance non connect√©e retourne au circuit: maintenant les amortisseurs ne sont plus n√©cessaires, et il n'y a pas non plus de pertes d'√©nergie.  Le document <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">AN-55 sur les</a> int√©grations de puissance explique comment concevoir un transformateur de mani√®re √† augmenter l'inductance de fuite (cela est n√©cessaire pour cr√©er la bonne caract√©ristique de commande).  Par exemple, j'ai enroul√© les enroulements primaire et secondaire l'un de l'autre, dans deux sections diff√©rentes: <br><br><img src="https://habrastorage.org/webt/7i/iu/z-/7iiuz-igqg1rhgqisg31neowkm8.jpeg"><br><br>  Dans le cas g√©n√©ral, le r√©sultat de ces raffinements de circuits est la r√©alisation d'une efficacit√© tr√®s d√©cente, en particulier, le microcircuit LCS708HG install√© sans radiateur, avec ses tr√®s petites dimensions, fournit une puissance de sortie de l'ordre de 200W!  C'est un r√©sultat vraiment exceptionnel, mais il ne peut √™tre atteint qu'en travaillant pr√©cis√©ment √† la fr√©quence de r√©sonance du circuit de sortie.  Et nous attendons ici une embuscade. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le fait est que la r√©gulation de la tension de sortie s'effectue ici en changeant la fr√©quence, et non le rapport cyclique des impulsions, et cette r√©gulation est limit√©e par une plage de tension tr√®s √©troite - environ ¬± 15%. De plus, lorsque la tension d'entr√©e s'√©carte de la valeur nominale, la fr√©quence de conversion s'√©loigne de la r√©sonance, et la commutation des transistors √† l'int√©rieur du microcircuit devient ¬´dure¬ª, avec la perte de ZVS, qui s'accompagne d'un √©chauffement important. En fait, on peut dire que le convertisseur √† l'entr√©e a besoin d'une tension d√©j√† stabilis√©e!</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans les produits fabriqu√©s industriellement, un correcteur de puissance active (APFC) est inclus devant l'entr√©e du convertisseur, qui, en plus de la correction de puissance elle-m√™me, maintient √©galement une tension de sortie d'environ 380-390 volts. Cependant, notre d√©veloppement est encore amateur, donc nous pouvons en toute s√©curit√© fermer les yeux sur un petit joint sous la forme d'une sensibilit√© √† la qualit√© de l'alimentation secteur. Les calculs montrent que, compte tenu des ondulations de la capacit√© du tampon, la plage de tension d'entr√©e est d'environ 230 V ¬± 10%, donc si les param√®tres du r√©seau ne d√©passent pas le GOST, alors tout fonctionnera. Laissons-le comme √ßa pour l'instant.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Copiez le reste de la conception du circuit du convertisseur √† partir de la fiche technique. Peut-√™tre que seul un condensateur r√©sonnant devait faire l'objet d'une attention particuli√®re - un √©l√©ment apparemment tr√®s simple. Et si vous vous √™tes d√©j√† demand√© comment les condensateurs en polypropyl√®ne et en poly√©thyl√®ne t√©r√©phtalate (polyester) diff√®rent l'un de l'autre, alors vous conna√Ætrez la r√©ponse d√®s maintenant: les premiers ont une perte tangente dix fois inf√©rieure. C'est pourquoi une tentative d'utiliser un polyester K73-17 moins cher et plus compact au lieu d'un K78-2 de grande taille (oui, voici √©galement la substitution des importations) s'accompagne d'effets sp√©ciaux int√©ressants: le condenseur chauffe beaucoup et commence √† craquer de mani√®re suspecte.</font></font> Int√©ressant. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La s√©rie de puces HiperLCS n√©cessite une alimentation s√©par√©e de 12 volts. </font><font style="vertical-align: inherit;">Afin de ne pas jouer avec les cha√Ænes de bobinage, de redressement et de d√©marrage suppl√©mentaires, empruntons le chemin le plus canonique. </font><font style="vertical-align: inherit;">Nous prenons la tension n√©cessaire √† partir d'un convertisseur miniature s√©par√© sur la puce </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LNK304</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sa caract√©ristique principale est la conception sans transformateur; seule une inductance de penny fabriqu√©e en usine sera requise des √©l√©ments inductifs. </font><font style="vertical-align: inherit;">Le courant de sortie maximal n'est pas tr√®s important, de l'ordre de centaines de milliamp√®res, mais le minimum de d√©tails et la simplicit√© de la conception sont captivants (et le nombre de convertisseurs par d√©cim√®tre carr√© de surface commence √† ne pas fonctionner. Plus de convertisseurs au Dieu des convertisseurs!)</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cerveaux </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eh bien, il en reste un peu. La station d'origine a un √©cran LCD, qui pour tout l'argent pay√© montre quelque chose comme une puissance de sortie. Faisons une chose similaire: prenez le contr√¥leur STM32F030 dans la configuration la plus minimale (dans le bo√Ætier TSSOP-20), accrochez une ligne ADC pour mesurer la tension d'alimentation de l'√©tage de sortie du g√©n√©rateur RF et une autre ligne pour mesurer le courant. Afin de ne pas rompre le circuit "masse", nous </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">placerons</font></a><font style="vertical-align: inherit;"> le capteur de courant r√©sistif sur le fil positif, et pour la conversion de niveau nous utiliserons la puce </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">INA138</font></a><font style="vertical-align: inherit;"> , sp√©cialement con√ßue pour de tels cas</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qui √† son meilleur a √©t√© d√©velopp√© par Burr-Brown. Pour afficher les informations, nous utilisons un √©cran OLED texte 16x2 fabriqu√© par WinStar. Eh bien, c'est tout. Eh bien, une jambe de processeur est rest√©e inactive. Eh bien, laissez la LED clignoter. Ne demandez pas pourquoi.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le micrologiciel du contr√¥leur est √©crit dans le langage "C" en utilisant STM32CubeMX et la version gratuite de IAR Embedded Workbench. Le code du programme est tr√®s trivial. Le cycle principal d'interruption du temporisateur du syst√®me toutes les 300 millisecondes lit les donn√©es de deux canaux ADC, les multiplie et les affiche sous forme de chiffres de puissance. En dessous de cette m√™me puissance est visualis√©e par une bande dessin√©e par des polices personnalis√©es. Lorsque la pointe est d√©sactiv√©e, le gestionnaire d'interruption de la sortie du d√©tecteur de charge arr√™te le temporisateur principal du g√©n√©rateur RF. En cas de blocage ou de blocage du MCU, des gestionnaires d'erreurs mat√©rielles et des chiens de garde ont √©t√© ajout√©s; CSS est √©galement impliqu√© dans la technologie du firmware (Clock Security System), qui permet, en cas d'amortissement des oscillations du cristal de quartz principal, de basculer sur le g√©n√©rateur RC interne et de red√©marrer le microcontr√¥leur. La quantit√© totale de firmware est de 10 Ko.Le code source du firmware, ainsi que tous les autres fichiers du projet, j'ai post√© sur</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , les plus curieux peuvent se familiariser (mais ne vous attendez pas √† quelque chose de tr√®s int√©ressant l√†-bas).</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Constructif </font></font></h4><br><div class="spoiler"> <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'appareil contient plusieurs produits d'enroulement personnalis√©s</font></font></b> <div class="spoiler_text"><ul><li>                  1686    50.   ¬´ ¬ª     :  , ,          .     0,6,   ‚Äì 15  ,  214   ; </li><li>       5    0,6.   10      10; </li><li>       -  EFD25   N87   Epcos.    ,            (  0,2).   (33 )    (26 )        100/46  175/46  (   ‚Äì   ,  ‚Äì     American Wire Gauge).  , 12-  ‚Äî     . </li></ul></div></div><br>  Toutes les donn√©es calcul√©es de tous les √©l√©ments du convertisseur LLC, y compris l'inductance des enroulements du transformateur, sont donn√©es dans le fichier de conception joint au projet, qui peut √™tre ouvert √† l'aide de l'application PIXls Designer.  Aussi, juste au cas o√π, j'ai ajout√© au projet toute la documentation utilis√©e pour le d√©veloppement des composants √©lectroniques utilis√©s dans le d√©veloppement, t√©l√©charg√© des mod√®les LTspice de certaines parties du circuit, et bien s√ªr les photos, maintenant sans eux. <br><br>  Le r√©sultat du d√©veloppement ci-dessus a √©t√© le sch√©ma √©lectrique suivant: <br><br> <a href=""><img src="https://habrastorage.org/webt/6a/bn/p0/6abnp0p3g-16iu0umf5eq4eo3zq.png"></a> <br><br>  Le circuit et la disposition de la carte de circuit imprim√© sont dessin√©s dans le paquet DipTrace; pour l'envoi √† l'usine, les dessins de la carte de circuit ont √©t√© convertis au format Gerber.  La carte est c√¢bl√©e exactement √† la taille du bo√Ætier utilis√©, pour prot√©ger les circuits d√©licats √† faible courant, une couche est enti√®rement donn√©e sous le sol.  Ce c√¢blage simplifie consid√©rablement la fabrication de la carte de circuit imprim√© √† la maison, car il n'y a pas besoin d'alignement pr√©cis des masques photo ici: presque tout le c√¥t√© arri√®re de la carte de circuit imprim√© peut √™tre rempli d'un polygone solide, puis biseaut√© avec un foret √©pais aux ouvertures des bornes qui ne n√©cessitent pas de connexion √† la terre. <br><br><img src="https://habrastorage.org/webt/py/hr/jg/pyhrjgytrdz7antf8jetd_xzu-4.jpeg"><br><br><img src="https://habrastorage.org/webt/rv/-a/nv/rv-anvkpggckyvycywv2kgr8bja.jpeg"><br><br>  Le g√©n√©rateur HF de la conception siffle d√©cemment dans l'air, les √©l√©ments de puissance sont tr√®s chauds, donc le choix du mat√©riau du bo√Ætier est √©vident: bien s√ªr, ce sera l'aluminium.  Nous s√©lectionnons dans le catalogue Gainta un bo√Ætier pr√™t √† l'emploi G0476 de taille approximativement appropri√©e.  Nous allons d√©couper la fen√™tre de l'√©cran OLED dans le bo√Ætier √† l'aide d'un dremel, le bo√Ætier lui-m√™me sera connect√© directement au fil de ¬´terre¬ª du cordon d'alimentation avec le blindage du fil de fer √† souder et √† la ¬´masse¬ª de la carte de circuit imprim√©. <br><br>  Malheureusement, l'id√©e de connecter un OLED plus contrast√© au lieu d'un LCD m'est venue √† l'esprit apr√®s l'envoi de la commande des cartes √† l'usine.  Les niveaux CMOS d'entr√©e de l'√©cran OLED <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">WEH001602AGPP5N00001</a> fabriqu√©s par WinStar diff√®rent des niveaux TTL standard de l'√©cran LCD, de sorte que la feinte avec les oreilles lorsque + 5V est fournie au contr√¥leur d'affichage et √† son r√©tro-√©clairage, et que les signaux logiques sont extraits du microprocesseur aliment√© par + 3,3V, ici ne roule pas.  Par cons√©quent, l'alimentation de l'√©cran devait √™tre c√¢bl√©e √† partir d'une ligne de 3,3 V. <br><br>  Pour r√©duire le niveau d'interf√©rence, une boucle de bruit d'une valeur nominale de 390 Ohms a √©t√© ajout√©e au "c√¢ble" reliant la carte et l'√©cran, et le microcontr√¥leur est recouvert d'un √©cran en feuille de cuivre.  Pendant le fonctionnement normal, une partie correspondante est plac√©e sur le connecteur de programmation, qui attire les fils de d√©bogage directement √† la terre, et NRST - √† travers le condensateur. <br><br>  Au final, l'appareil d√©velopp√© a pris une apparence compl√®te: <br><br><img src="https://habrastorage.org/webt/dp/pj/ay/dppjaykwjjd0xym_k3nxxe5n4g4.jpeg"><br><br>  Maintenant, le chauffage du fer √† souder est le suivant: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/odTL6zllHzc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h4>  Banquet </h4><br>  Maintenant, estimons √† peu pr√®s ce que ce divertissement nous a co√ªt√©: <br><br>  Composants radio - environ 3000 roubles (les √©l√©ments les plus chers ici sont la puce HiperLCS pour 1000 roubles et l'√©cran OLED - encore 600 roubles); <br>  Production de circuits imprim√©s, co√ªt pour 10 pi√®ces - 2700 roubles; <br>  Affaire - 500 roubles. <br><br>  <b>Le</b> co√ªt <b>total</b> de l'alimentation haute fr√©quence elle-m√™me √©tait d'environ 6 200 roubles.  Ils ont √©galement pay√© de l'argent suppl√©mentaire pour un fer √† souder avec un support (11 000 roubles) et pour deux cartouches (6 000 roubles). <br><br>  Bien s√ªr, ces montants peuvent √™tre un peu optimis√©s, par exemple, sur eBay, un large assortiment de composants Metcal utilis√©s est pr√©sent√©, auquel cas nous pouvons parler de quelques dizaines de dollars, mais c'est probablement une question de pr√©f√©rence personnelle. <br><br><h4>  Errata </h4><br><ol><li>  Le circuit des condensateurs de charge du r√©sonateur √† quartz est mal c√¢bl√© et recueille toutes les interf√©rences.  C'est juste de faire comme <a href="">√ßa</a> .  Merci √† Alexander Chulkin pour ses pr√©cieuses pr√©cisions; <br></li><li>  La d√©connexion du fil de fer √† souder sur un poste de travail n'est pas prise en charge, ce qui entra√Æne parfois un red√©marrage du microcontr√¥leur.  Nous devons penser √† un blindage suppl√©mentaire de la partie RF (mais ce n'est pas pr√©cis). <br></li></ol><br><h4>  Conclusions </h4><br>  Eh bien, maintenant, la chose la plus importante pour laquelle il s'agissait √©tait: le plaisir de travailler avec l'appareil.  On a l'impression de travailler avec un fer √† souder tr√®s puissant et tr√®s chaud, tout en tenant un petit outil l√©ger.  Vaut-il l'argent et l'effort?  C'est difficile √† dire.  Je vais laisser cette question ouverte. <br><br><img src="https://habrastorage.org/webt/gy/uj/vn/gyujvninztoywjpa9ruzoae0dts.jpeg"></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr412607/">https://habr.com/ru/post/fr412607/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr412593/index.html">Nouveaux produits, plates-formes et tout-en-un: Webinaires HPE</a></li>
<li><a href="../fr412595/index.html">Rapport 2018 du Club de Rome, chapitre 1.1.2: ¬´Financement¬ª</a></li>
<li><a href="../fr412597/index.html">Jeff Bezos va construire une colonie √† la surface de la lune</a></li>
<li><a href="../fr412603/index.html">√âtranges d√©clarations PHP</a></li>
<li><a href="../fr412605/index.html">Bataille de MERGE. Chronique avec conclusions et morale</a></li>
<li><a href="../fr412609/index.html">10 conseils pour la productivit√© dans CLion, un IDE C / C ++ multiplateforme</a></li>
<li><a href="../fr412611/index.html">Qu'ont en commun l'efficacit√© de l'exploitation mini√®re et de la th√©orie des jeux</a></li>
<li><a href="../fr412613/index.html">Arithm√©tique enti√®re. Divisez en arrondissant le r√©sultat. Partie 1</a></li>
<li><a href="../fr412615/index.html">Pr√©sence d'un objectif de route dans les annonces BGP entre PE et CE</a></li>
<li><a href="../fr412617/index.html">Wi-Fi ext√©rieur pour une productivit√© accrue et plus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>