<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêì üë®üèΩ‚Äçüè≠ üôé Comment j'ai √©crit une biblioth√®que pour le service Yandex.Music ü¶ã üë®üèæ‚ÄçüöÄ üë®üèæ‚Äçü§ù‚Äçüë®üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pr√©sentation 
 √Ä propos de moi 


 Bonjour √† tous, je suis un √©tudiant ordinaire dans la sp√©cialit√© "technicien logiciel". Depuis l'enfance, j'aime le...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment j'ai √©crit une biblioth√®que pour le service Yandex.Music</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462607/"><h1 id="vvedenie">  Pr√©sentation </h1><br><h2 id="obo-mne">  √Ä propos de moi </h2><br><p>  Bonjour √† tous, je suis un √©tudiant ordinaire dans la sp√©cialit√© "technicien logiciel".  Depuis l'enfance, j'aime les ordinateurs, depuis la 7e ann√©e j'ai commenc√© √† apprendre la programmation elle-m√™me.  Je suis propri√©taire d'un abonnement √† Yandex Music depuis plus d'un an et je suis g√©n√©ralement satisfait du service (bien qu'il y ait maintenant des r√©p√©titions continues dans la playlist du jour). </p><br><h2 id="predystoriya">  Contexte </h2><br><p> Je ne me souviens pas exactement pourquoi j'ai d√©cid√© de rechercher la documentation officielle de l'API pour ce service, comme un bot que je voulais √©crire pour Telegram, mais je suis tomb√© sur le fait que ce n'√©tait pas le cas ... Apr√®s un certain temps, j'ai rencontr√© un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">probl√®me</a> dans le r√©f√©rentiel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">yandex / audio-js</a> .  L√†, les gars posent exactement la m√™me question que moi: "O√π est l'API?"  Peu de gens sont impatients d'√©couter de la musique via un navigateur, ils veulent une application, mais il n'y a pas non plus d'application Linux!  L'int√©gration √† votre joueur pr√©f√©r√© est impossible! </p><br><p>  Puis j'ai eu l'id√©e de le faire.  Naturellement, je dois en quelque sorte travailler avec le service, faire des b√©quilles autour d'une application Web n'est pas une option.  J'ai compris qu'avoir un tel service, avoir des applications mobiles et Windows (du Microsoft Store), il est tout simplement impossible de ne pas avoir sa propre API interne pour l'interaction.  J'avais raison! </p><br><h2 id="obyazatelno-k-prochteniyu-pered-osnovnoy-chastyu">  Lecture obligatoire devant l'instance principale </h2><br><p>  Je suis conscient qu'en √©tudiant leur API non publique, je fouille dans les choses sales des autres.  Ci-dessous seront d√©crites diverses questions controvers√©es, les d√©cisions des d√©veloppeurs et, en g√©n√©ral, comment ils l'ont √©crit et comment ils l'utilisent.  √Ä certains endroits, <strong>j'√©tais juste choqu√©</strong> , mais je suis s√ªr que s'ils le faisaient, il <strong>y avait des raisons √† cela</strong> !  N'oublions pas que personne n'aurait d√ª voir √ßa.  Je tiens √©galement √† dire que tout ce qui est √©crit ci-dessous est <strong>mon opinion</strong> .  Vous pouvez √™tre d'accord avec lui ou non. </p><a name="habracut"></a><br><h1 id="osnovnaya-chast">  Corps principal </h1><br><h2 id="podgotovka">  La pr√©paration </h2><br><h3 id="api-veb-prilozheniya">  API d'application Web </h3><br><p> Ci-dessus, j'ai d√©j√† √©crit que j'avais trouv√© l'API.  Ce n'√©tait pas du tout difficile.  Tout d'abord, j'ai regard√© leur application Web, leur point de terminaison au moment de la r√©daction est ici: <code>https://music.yandex.ru/api/v2.1/</code> .  Ils ont des URL suffisamment longues dans lesquelles je participe aux donn√©es, et ils envoient √©galement le formulaire.  Je vous demande √©galement de faire attention √† <strong>indiquer la version de l'API</strong> , elle l' <strong>est</strong> . </p><br><p>  Vous devez comprendre que ce que j'ai trouv√© n'est utilis√© par eux que dans une application Web.  Il n'y a pas d'OAuth.  Plus pr√©cis√©ment, il a plus de chances d'exister, mais l√†, dans les entrailles de notre s√©ance sur le site.  En g√©n√©ral, la biblioth√®que ne convient pas pour les b√©quilles en autorisation. </p><br><h3 id="api-prilozheniy">  API d'application </h3><br><p>  Je me mis √† chercher plus loin.  J'√©tais trop paresseux pour prendre le t√©l√©phone, donc j'allais en dernier aux applications mobiles.  √Ä cette √©poque, l'ordinateur ex√©cutait Windows 10 et j'ai activement utilis√© l'application officielle <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Yandex Music du Microsoft Store</a> .  En cons√©quence, j'ai commenc√© √† √©tudier comment cela fonctionne. </p><br><p>  Pour la recherche, j'avais besoin d'un renifleur pour suivre tout le trafic des applications.  Vous pouvez utiliser <em>Wireshark</em> , mais je me suis install√© sur <em>HTTP Analyzer</em> .  Il me semble plus l√©ger et parfaitement adapt√© √† ma t√¢che. </p><br><p>  Allumez le renifleur, acc√©dez √† l'application et vous avez termin√©.  Les demandes sont achemin√©es par flux.  Nous nous asseyons, comprenons, essayons d'appeler chaque gestionnaire qui se trouve dans cette application et d√©couvrons toutes les m√©thodes existantes, leurs arguments et, bien s√ªr, <strong>les r√©ponses JSON</strong> . </p><br><p><img src="https://habrastorage.org/webt/ha/ld/g1/haldg1jv_nj89ezqeygrgt2qdke.png" alt="Capture d'√©cran d'une des demandes"></p><br><p>  De la capture d'√©cran ci-dessus, vous pouvez imm√©diatement remarquer une adresse API compl√®tement diff√©rente - <code>api.music.yandex.net</code> .  De plus, faites attention aux rubriques.  En plus des informations sur mon client √† partir duquel la demande a √©t√© faite, il existe un jeton OAuth - c'est ce dont vous avez besoin! </p><br><h2 id="izuchenie-api">  API d'apprentissage </h2><br><p>  L'√©tude a eu lieu en m√™me temps que l'√©criture du code.  J'ai √©crit des classes wrapper pour les objets de service re√ßus de l'API, impl√©ment√© l'envoi de requ√™tes, tri√© les param√®tres et √† certains endroits, j'ai juste devin√© ce que ce nom pouvait signifier.  √Ä ce stade, j'ai rencontr√© diverses choses que je ne m'attendais pas √† voir ici. </p><br><p>  Au moment de la r√©daction, la biblioth√®que contient <strong>83 classes,</strong> et seules certaines d'entre elles sont auxiliaires.  Les autres sont des cours de musique Yandex, qui indiquent l'ampleur de ce service et le niveau d'abstractions. </p><br><p>  L'envoi de <strong>47 m√©thodes a</strong> √©t√© impl√©ment√©.  Et ce n'est pas tout ce qui se trouve dans l'API (plus d'informations ci-dessous). </p><br><h2 id="bol">  La douleur </h2><br><p>  Au d√©but, j'ai essay√© de ne pas faire attention, j'ai √©t√© simplement surpris, car c'est <strong>Yandex</strong> , comment cela peut-il √™tre.  Mais ensuite, √† un moment pr√©cis, tout a explos√©.  Je vais peut-√™tre commencer par lui. </p><br><ol><li><p>  <strong>Deux objets avec diff√©rents niveaux d'attachement au champ</strong> </p><br><p><img src="https://habrastorage.org/webt/8d/ri/my/8drimyevhjw1pirnlbc-bdsjqp4.png" alt="Nouvelle version de l'objet"></p><br><p>  L'objet lui-m√™me n'est qu'une ¬´r√©f√©rence¬ª √† lui-m√™me.  Pour sa version compl√®te.  Lorsque nous demandons une liste de pistes, nous recevons leur identifiant, gr√¢ce auquel nous pouvons obtenir des informations plus d√©taill√©es.  De bonnes pratiques, beaucoup le font, mais elles ne sont pas toujours respect√©es (paragraphe 9). </p><br><p><img src="https://habrastorage.org/webt/bu/gz/eg/bugzeg-c9rm2nvluh0mmpfny_d0.png" alt="Ancienne version de l'objet"></p><br><p>  Ayant impl√©ment√© la classe pour cet objet au tout d√©but, j'ai pens√© que je l'utiliserais partout, mais peu importe comment!  Il me semble que les commentaires sont superflus et tout peut √™tre vu dans les captures d'√©cran. </p><br><p>  Je n'ai pas r√©par√© ce type de montants dans ma biblioth√®que, donc avoir la classe <code>TrackShortOld</code> a maintenant <code>TrackShortOld</code> . </p><br><p>  Soit dit en passant, ces deux objets vivent dans la m√™me m√©thode, dans la m√©thode d' <em>atterrissage</em> . </p><br></li><li><p>  <strong>Versions, m√©thodes d'API</strong> </p><br><p>  Je ne vous ai pas simplement demand√© de pr√™ter attention √† la fa√ßon dont la version est sp√©cifi√©e dans l'API de l'application Web.  G√©n√©ralement, comment indique-t-on habituellement une version?  Probablement de l'une des mani√®res suivantes: </p><br><ul><li>  faire la version sur un sous-domaine s√©par√©; </li><li>  mettre la version dans la partie demande; </li><li>  passez la version souhait√©e du param√®tre API √† la demande. </li></ul><br><p>  Yandex a d√©cid√© dans ce cas de faire autrement.  Nous avons une m√©thode <strong>landing3</strong> - sa version actuelle au moment de la r√©daction.  Mais personne <strong>n'interdit d'</strong> envoyer une demande d' <strong>atterrissage2</strong> - une structure compl√®tement diff√©rente, d'autres objets. </p><br><p>  J'ai d√©couvert cela tout √† fait par accident, <strong>oubliant</strong> simplement <strong>d'ajouter un nombre √† la fin du nom de la m√©thode</strong> et interceptant un tas d'exceptions. </p><br></li><li><p>  <strong>Travailler avec le nouveau, ne pas abandonner l'ancien</strong> </p><br><p>  Je l'ai vu quand j'ai √©crit des m√©thodes d'envoi "Like" pour tous les objets qui le sont.  Il n'y en a pas beaucoup (playlist, artiste, piste, album).  Quelle a √©t√© ma surprise quand j'ai vu diff√©rentes approches de la m√™me action. </p><br><p>  Nous aimons les artistes comme celui-ci: <code>https://api.music.yandex.net/users/&lt;USER_ID&gt;/likes/artists/add</code> et transf√©rer l' <code>artist-id</code> dans le formulaire. </p><br><p>  Nous aimons les pistes comme celle-ci: <code>https://api.music.yandex.net/users/&lt;USER_ID&gt;/likes/tracks/add-multiple</code> et sous la forme de <code>track-ids</code> . </p><br><p>  Si vous ne l'avez pas remarqu√©, alors quand vous aimez la piste, la m√©thode <strong>add-multiple</strong> est utilis√©e, pas <strong>add</strong> .  Cette m√©thode n'est utilis√©e avec aucun autre type, <strong>mais</strong> elles <strong>existent</strong> toutes (cela valait la peine d'essayer d'envoyer une demande)!  Et je les ai impl√©ment√©s dans ma biblioth√®que au lieu d'en <strong>ajouter</strong> .  Apr√®s tout, cette m√©thode est universelle.  Vous pouvez ajouter une ou plusieurs pistes. </p><br></li><li><p>  <strong>Qu'est-ce qu'un identifiant de piste unique</strong> </p><br><p>  Beaucoup de temps s'est √©coul√©, mais je ne comprends toujours pas quand envoyer uniquement l' <code>id</code> la piste, et quand l'identifiant et l'album_id sont concat√©n√©s via deux points ( <code>id:album_id</code> ).  Parfois une piste est dans plusieurs albums, parfois il n'y a pas d'album.  Cas trop obscurs en regardant de c√¥t√©, je ne sais pas comment ils g√®rent cela (ou je ne peux pas le faire, bagus 2). </p><br></li><li><p>  <strong>Nombreux champs facultatifs</strong> </p><br><p>  J'ai eu quelques probl√®mes.  S'il y a un probl√®me, il est li√© au champ requis.  Je ne cesse d'√™tre surpris de voir comment, √† mon avis, les champs obligatoires ne renvoient tout simplement pas l'API. </p><br><ul><li>  album_id de la classe TrackID et TrackShort; </li><li>  order_id de la classe AutoRenewable (abonnement); </li><li>  next_revision dans Feed; </li><li>  cover_uri dans Track; </li><li>  anniversaire dans le compte; </li><li>  balises dans la liste de lecture. </li></ul><br><p>  La liste est longue, mais tout est dans l'histoire des commits.  Peut-√™tre que cet article est aspir√© du doigt. </p><br></li><li><p>  <strong>M√©thodes de similitude √† l'exception de certains champs de la r√©ponse</strong> </p><br><p>  R√©ponse sur l'√©tat du compte ( <code>api.music.yandex.net/account/status</code> ): </p><br><p><img src="https://habrastorage.org/webt/vq/w5/ob/vqw5obhwgf-sfxzvldnjx0oqiow.png" alt="R√©ponse sur l'√©tat du compte"></p><br><p>  √âtat du compte <strong>radio de</strong> r√©ponse ( <code>https://api.music.yandex.net/rotor/account/status</code> ): </p><br><p><img src="https://habrastorage.org/webt/5u/x-/-i/5ux--iokzt8ubw_n0xg8p7mtdl8.png" alt="R√©ponse radio de l'√©tat du compte"></p><br><p>  Je comprends que les droits sont diff√©rents, les champs sont maintenant avec une limite non pas sur le nombre de pistes dans le cache, mais sur le nombre de sauts par heure, mais cela ressemble plus √† une sorte de duplication. </p><br><p>  Je ne sais pas comment dans Yandex, mais je l'ai fusionn√© en une seule classe. </p><br></li><li><p>  <strong>Donc un ou plusieurs?</strong> </p><br><p>  J'ai toujours pens√© que si une m√©thode renvoie une liste, m√™me si le r√©sultat est un √©l√©ment, la liste contenant cet √©l√©ment sera renvoy√©e et rien d'autre, mais ici et l√†, et plus encore. </p><br><p><img src="https://habrastorage.org/webt/r5/so/n8/r5son8mfj8yudwvmvtz52rb5smw.png" alt="fonctionnalit√© et fonctionnalit√©s"></p><br><p>  Cette <em>fonctionnalit√©</em> reviendra, puis les <em>fonctionnalit√©s</em> , puis la <em>fonctionnalit√©</em> et les <em>fonctionnalit√©s</em> . </p><br></li><li><p>  <strong>Utilisation abusive des m√©thodes</strong> </p><br><p>  Ci-dessus, j'ai √©crit qu'ils utilisent l'une ou l'autre m√©thode pour effectuer une action.  Ils sont all√©s plus loin. </p><br><p><img src="https://habrastorage.org/webt/xo/mz/gx/xomzgx1wbkbvhhfawdgy7vm4qss.png" alt="Envoi de morceaux supprim√©s lorsque le dos en est bien conscient"></p><br><p>  En plus de l' <strong>ID</strong> de la liste de lecture et des images <strong>avec</strong> et <strong>par</strong> quelle piste supprimer, pour une raison quelconque, ils transf√®rent les <strong>pistes</strong> √† supprimer √† la m√©thode de suppression des pistes de la liste de lecture.  Il est possible que je n'aie pas compris cela, comme tout le reste, mais la m√©thode fonctionne sans trop d'informations.  Et quelles pistes ont √©t√© supprim√©es, il vaut mieux le savoir au dos, que de passer par param√®tre. </p><br></li><li><p>  <strong>Demandes tr√®s lourdes</strong> </p><br><p>  J'ai √©crit ci-dessus que donner une liste avec les ID de piste est une bonne pratique, vous obtenez des informations d√©taill√©es sur une piste uniquement lorsque vous en avez vraiment besoin.  Ce n'est pas toujours utilis√© ici. </p><br><p>  Jetez un ≈ìil √† la fa√ßon dont ils donnent sans piti√© des informations d√©taill√©es sur <strong>tous</strong> mes morceaux de la liste de lecture "J'aime" en une seule demande: </p><br><p><img src="https://habrastorage.org/webt/cp/rk/1z/cprk1zszg-9qym37enbbunzxx40.png" alt="Demande lourde"></p><br><p>  Il a donn√© <strong>les 396 pistes</strong> !  Octets re√ßus: <strong>3,75 M</strong> , et ceci est un autre t√©l√©chargement de couverture! </p><br></li></ol><br><h2 id="bagusiki">  Baguettes </h2><br><ol><li><p>  <strong>T√©l√©chargez toutes les pistes dans le cache √† partir de "J'aime"</strong> </p><br><p>  Lorsque la limite a √©t√© atteinte, un ajout a √©t√© fait √† la fin et supprim√© depuis le d√©but.  Merci pour la visualisation de la file d'attente, mais j'ai pens√© que je ne ferais que t√©l√©charger les 100 derniers morceaux de la playlist.  Cela s'est produit dans le client mobile pour Android ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">regarder la vid√©o</a> ). </p><br></li><li><p>  <strong>On dirait que je ne suis pas confus quand je dois envoyer un identifiant, mais quand id: album_id</strong> </p><br><p><img src="https://habrastorage.org/webt/x4/gl/fh/x4glfha84s1itujzdqjt0b53pbw.png" alt="Pistes en double"></p><br></li></ol><br><h1 id="zametki">  Remarques </h1><br><p>  Le nombre de tentatives d'activation du code cadeau est de 10. Prochaine interdiction pour 24 heures. </p><br><p>  Selon l'application √† partir de laquelle vous √™tes assis, diff√©rentes offres vous sont propos√©es pour souscrire un abonnement. </p><br><p>  La limite du nombre de pistes dans le cache est une illusion, c'est juste un nombre, et l'application ne vous permet pas de charger plus (bagus 2). </p><br><p>  Toutes ces listes de lecture intelligentes, suggestions, couleurs de texte et de bouton proviennent de l'API - le voici, un vrai RESTFull. </p><br><p>  L'heure de d√©but de l'annonce et l'annonce elle-m√™me sont renvoy√©es m√™me si vous avez un abonnement. </p><br><p>  Un lien vers XML contenant des donn√©es sur l'emplacement du fichier √† t√©l√©charger dure 1 minute, puis une erreur 410. </p><br><h1 id="zaklyuchenie">  Conclusion </h1><br><p>  Je n'ai √©crit que ce dont je me souvenais.  Apr√®s tout, j'ai rencontr√© tout cela pendant plusieurs mois.  Toutes mes notes sont des messages dans un t√©l√©gramme, parce que quand je suis tomb√© sur quelque chose comme √ßa, j'ai partag√© avec des amis.  J'ai essay√© de restaurer les points cl√©s. </p><br><p>  Je ne voulais en aucun cas dire √† quel point tout √©tait mauvais, en quelque sorte pour mettre les jambages sur le public sp√©cialement.  Ce n'est peut-√™tre pas du tout un montant, mais tout ce que j'ai √©crit ci-dessus <strong>me</strong> semble personnellement √©trange. </p><br><p>  Il a partag√© avec vous comment il a √©crit la biblioth√®que de l'API de service priv√©e Yandex.Music et quelles choses il a rencontr√©es pendant le d√©veloppement. </p><br><p>  Vous savez maintenant comment et sur quoi fonctionne leur application Windows, et donc ma biblioth√®que. </p><br><p>  Au fait, maintenant j'essaie de tout documenter, lors de la documentation de ma biblioth√®que, je documente automatiquement leur API.  C'est serr√©, et j'ai encore besoin de temps pour trouver une entreprise pour passer par la pratique technologique industrielle. </p><br><p>  Merci d'avoir lu jusqu'ici! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr462607/">https://habr.com/ru/post/fr462607/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr462593/index.html">De l'autre c√¥t√© du stand</a></li>
<li><a href="../fr462595/index.html">Audit et test des lettres: ce √† quoi vous devez faire attention lors de la mise en page</a></li>
<li><a href="../fr462597/index.html">Dactylographier et r√©agir</a></li>
<li><a href="../fr462601/index.html">Sauvegarde des serveurs Windows dans AWS</a></li>
<li><a href="../fr462605/index.html">Trace italienne en cryptographie</a></li>
<li><a href="../fr462615/index.html">Pourquoi est-il si difficile de choisir le film √† regarder (et les r√©seaux de neurones ne r√©soudront pas ce probl√®me)</a></li>
<li><a href="../fr462619/index.html">Enfants, math√©matiques et R</a></li>
<li><a href="../fr462625/index.html">Dell G5 5590: l'un des ordinateurs portables de jeu les plus abordables avec RTX 2060</a></li>
<li><a href="../fr462631/index.html">Week-end Web: d√©veloppement intensif de sites Web en Netologie</a></li>
<li><a href="../fr462635/index.html">Quantum, or there and back: un nouvel algorithme pour √©tudier la transition quantique-classique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>