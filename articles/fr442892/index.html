<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè¥Û†ÅßÛ†Å¢Û†Å∑Û†Å¨Û†Å≥Û†Åø ‚¨ÜÔ∏è ü§• Programmation orient√©e d√©bogage ou tristesse aux yeux de l'int√©grateur üë©üèø‚ÄçüöÄ üõ¢Ô∏è üë∑üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il s'est av√©r√© qu'au cours des derni√®res ann√©es, j'ai cousu Frankenstein et non sculpt√© de jolies figurines en porcelaine de berg√®res et de ramoneurs....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Programmation orient√©e d√©bogage ou tristesse aux yeux de l'int√©grateur</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442892/"><p>  Il s'est av√©r√© qu'au cours des derni√®res ann√©es, j'ai cousu Frankenstein et non sculpt√© de jolies figurines en porcelaine de berg√®res et de ramoneurs.  Je cr√©e des solutions bas√©es sur Magento 2. Cela signifie que le mat√©riel source pour moi est le r√™ve de tout arch√©ologue.  La couche culturelle avec des traces de diverses "√©poques" et "civilisations".  Il peut √™tre utilis√© pour √©tudier le d√©veloppement de la pens√©e des programmeurs dans les communaut√©s PHP / JS au cours de la derni√®re d√©cennie. </p><br><p>  Et ce n'est que la base, et l'add-in est des modules tiers qui doivent √™tre int√©gr√©s √† l'int√©rieur.  Ici, il est d√©j√† possible de rencontrer des manifestations d'intelligence extraterrestre.  Certains modules sont cr√©√©s par des cr√©atures d√©velopp√©es, tr√®s similaires dans leur pens√©e aux cr√©ateurs de la base, mais vous tombez sur ceux que vous voulez prendre l'auteur par l'√©paule, regardez profond√©ment dans ses yeux et demandez amicalement: " <em>De quelle plan√®te √™tes-vous originaire?</em> " </p><br><p><img src="https://habrastorage.org/webt/7_/ad/je/7_adjedqio4dyoclps-_jxbg5ha.jpeg" alt="image"></p><br><p> Le d√©bogueur aide √† assembler Frankenstein √† partir d'un tel mat√©riau.  Ci-dessous est ma technique de codage personnel, qui peut compliquer la vie de toute personne qui, comme moi, utilise le d√©bogueur quotidiennement dans sa vie.  Il est petit, avec quatre positions, mais chaque fois que je rencontre quelque chose comme √ßa lors du d√©bogage, je suis triste.  Peut-√™tre que mon message r√©duira le nombre de peines dans le monde, ou peut-√™tre pas.  Je vais au moins essayer. </p><a name="habracut"></a><br><h1 id="obfuskaciya-i-shifrovanie-koda">  Obfuscation et cryptage de code </h1><br><p>  C'est hors comp√©tition.  J'ai rencontr√© plusieurs fois des modules pour lesquels <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ionCube</a> est n√©cessaire, et je peux dire que la derni√®re chose que je ferai est de mettre un module similaire dans mon projet.  Je soutiens pleinement la minification du code JS, surtout lorsque la source habituelle est √† proximit√©, mais l'obfuscation et le cryptage sont un mal distill√© et concentr√©.  Je vous le dis en tant qu'int√©grateur. </p><br><h1 id="iv-odnostrochnyy-kod">  IV.  Code sur une seule ligne </h1><br><p>  √âconomiser sur des lignes de code est le plus inoffensif de ma liste: </p><br><pre><code class="plaintext hljs">if ($cond) aaa(); else bbb();</code> </pre> <br><p>  Raccroche deux √©tapes sur cette ligne lors de l'ex√©cution pas √† pas du programme (calcul de la condition, ex√©cution de la branche <code>true</code> ou <code>false</code> ).  C'est bon, il vous suffit de garder √† l'esprit le nombre de fois que vous avez effectu√© un pas sur cette ligne et de suivre la valeur de <code>$cond</code> dans la liste des variables.  Au fil du temps, l'automatisme s'est d√©velopp√©. </p><br><p>  Un peu pire est que vous ne pouvez pas d√©finir un point d'arr√™t inconditionnel sur la branche <code>true</code> ou <code>false</code> .  Au lieu d'un simple clic dans l'EDI, vous devrez travailler avec la souris / le clavier un peu plus longtemps, en ajoutant un point d'arr√™t conditionnel. </p><br><p>  L'option id√©ale est lorsque chaque √©tape ex√©cutable (condition, <code>true</code> -light, <code>false</code> -light) est sur sa propre ligne: </p><br><pre> <code class="plaintext hljs">if ($cond) aaa(); else bbb();</code> </pre> <br><h1 id="iii-rezultat-vyrazhenie">  III.  R√©sultat d'expression </h1><br><p>  Utilisation d'expressions dans des conditions: </p><br><pre> <code class="plaintext hljs">if (exp()) ...</code> </pre> <br><p>  cycles: </p><br><pre> <code class="plaintext hljs">foreach (exp() as $item) ...</code> </pre> <br><p>  comme param√®tres: </p><br><pre> <code class="plaintext hljs">foo(exp(), ...)</code> </pre> <br><p>  et r√©sultat de retour: </p><br><pre> <code class="plaintext hljs">return exp();</code> </pre> <br><p>  non seulement rend le code "plus dense", le rend plus facile √† comprendre, mais rend √©galement le d√©bogage plus difficile - vous ne voyez tout simplement pas les valeurs d'ex√©cution des expressions dans la liste des variables du d√©bogueur.  Je dois ajouter des montres (une <em>question int√©ressante, et si vous surveillez les g√©n√©rateurs via des montres, cela affectera-t-il l'ex√©cution du programme?</em> ). </p><br><p>  L'option id√©ale est une variable temporaire: </p><br><pre> <code class="plaintext hljs">$exp = exp(); if ($exp) ...</code> </pre> <br><h1 id="ii-mnozhestvo-tochek-vyhoda">  II.  De nombreux points de sortie </h1><br><p>  Plusieurs fois, je suis tomb√© sur la recommandation de n'avoir qu'un seul point de sortie de la fonction et plusieurs fois j'ai rencontr√© une violation de cette recommandation (un exemple invent√©, mais typique): </p><br><pre> <code class="plaintext hljs">public function onEvent($event) { if($event == 'entrance') { return 'entranceRoute'; } else if($event == 'exit') { return 'exitRoute'; } return 'defaultRoute'; }</code> </pre> <br><p>  Voici une option plus correcte: </p><br><pre> <code class="plaintext hljs">public function onEvent($event) { $result = 'defaultRoute'; if($event == 'entrance') { $result = 'entranceRoute'; } else if($event == 'exit') { $result = 'exitRoute'; } return $result; }</code> </pre> <br><p>  C'est tout, je n'ai pas besoin de disperser les points d'arr√™t √† chaque <code>return</code> ou de faire un pas en avant √† partir de la premi√®re ligne (si le code appelant me donne l'opportunit√© de voir le r√©sultat dans une variable distincte) pour comprendre comment l'ex√©cution s'est termin√©e.  Imaginez une fonction avec 120 lignes et 22 retours √† l'int√©rieur?  Et j'ai d√©boulonn√© cela moi-m√™me et je soup√ßonne que ce n'est pas la limite. </p><br><h1 id="i-kaskadnyy-vyzov-metodov">  I. Appels de m√©thode en cascade </h1><br><p>  Mon pr√©f√©r√© est la <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">m√©thode en cascade</a> : </p><br><pre> <code class="plaintext hljs">$collection -&gt;addFilterByProduct(...) -&gt;addShowInStoresFilter(...) -&gt;addPublicFilter(...) -&gt;addApprovedStatusFilter(...) -&gt;addCreatedAtLessThanNowFilter(...);</code> </pre> <br><p>  Si je dois entrer dans la m√©thode <code>addApprovedStatusFilter()</code> , qui est bas√©e sur une interface et impl√©ment√©e dans plusieurs classes diff√©rentes (une classe sp√©cifique est d√©termin√©e au moment de l'ex√©cution), la chose la plus simple consiste √† d√©finir un point d'arr√™t sur <code>$collection</code> et √† parcourir tout √† son tour ( <code>addFilterByProduct</code> , <code>addShowInStoresFilter</code> , <code>addPublicFilter</code> ) au bon endroit.  Si vous combinez cela √† l'aide d'expressions dans les param√®tres et les r√©sultats renvoy√©s, le chemin d'acc√®s ne se ferme pas compl√®tement.  Dans l'original, ce code ressemble √† ceci: </p><br><pre> <code class="plaintext hljs">$collection -&gt;addFilterByProduct($this-&gt;getProduct()) -&gt;addShowInStoresFilter($this-&gt;_storeManager-&gt;getStore()-&gt;getId()) -&gt;addPublicFilter() -&gt;addApprovedStatusFilter() -&gt;addCreatedAtLessThanNowFilter();</code> </pre> <br><p>  Oui, avec les m√©thodes en cascade, le code devient plus lisible, mais le d√©bit devient plus difficile.  Je n'ai rien contre la cascade de set'er (moi, en r√®gle g√©n√©rale, je ne fais pas mes d√©buts): </p><br><pre> <code class="plaintext hljs">$answerModel -&gt;setAuthorName(...) -&gt;setStatus(...) -&gt;setCreatedAt(...) -&gt;setAuthorEmail(...) -&gt;setCustomerId(...) -&gt;setHelpfulness(...)</code> </pre> <br><p>  Mais le code qui contient la logique qui peut devoir √™tre d√©bit√©, ou peut-√™tre m√™me par moi-m√™me, vaut mieux √©crire " <em>old school</em> " (je le fais moi-m√™me): </p><br><pre> <code class="plaintext hljs">$collection-&gt;addFilterByProduct(...); $collection-&gt;addShowInStoresFilter(...); $collection-&gt;addPublicFilter(...); $collection-&gt;addApprovedStatusFilter(...); $collection-&gt;addCreatedAtLessThanNowFilter(...);</code> </pre> <br><p>  Est-il devenu beaucoup plus difficile √† percevoir? </p><br><p>  Ou voici les <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">recommandations pour un</a> bon style de programmation: </p><br><pre> <code class="plaintext hljs">ladder.up().up().down().up().down().showStep();</code> </pre> <br><p>  Regardez cela du point de vue d'un int√©grateur, qui devrait p√©n√©trer dans le second. </p><br><h1 id="rezyume">  R√©sum√© </h1><br><p>  Je ne veux pas dire que ces techniques sont utilis√©es dans leur code par des ¬´ <em>extraterrestres</em> ¬ª.  Pas du tout, pour la plupart, au contraire, ils visent √† r√©duire la quantit√© de code.  Mais ces techniques compliquent le d√©bogage.  Une personne n'a pas la vitesse d'un ordinateur, et pour atteindre le code du probl√®me, l'int√©grateur doit d'abord scanner (ne pas comprendre, √† savoir scanner) la progression du programme √† des points cl√©s.  Tout ce qui pr√©c√®de, ayant d'une part la t√¢che d'am√©liorer la compr√©hension du code, en fait, lors du d√©bogage, cette compr√©hension est entrav√©e.  Ils n'interf√®rent pas √† l'emplacement du code, mais interf√®rent avec l'acc√®s √† la zone √† probl√®me, qui, en g√©n√©ral, n√©cessite une r√©elle compr√©hension. </p><br><h1 id="disclaimer">  Clause de non-responsabilit√© </h1><br><p>  Ce qui pr√©c√®de est le r√©sultat d'une d√©formation professionnelle personnelle et peut diff√©rer des opinions bas√©es sur d'autres d√©formations professionnelles. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr442892/">https://habr.com/ru/post/fr442892/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr442882/index.html">[Vid√©o] "Les Piems ne sont pas n√©cessaires" et trois autres id√©es de gestion de projet</a></li>
<li><a href="../fr442884/index.html">D√©j√†, la technologie vous permet de parler avec la voiture en tant que personne</a></li>
<li><a href="../fr442886/index.html">Sketch + Node.js: g√©n√©rez des ic√¥nes pour de nombreuses plateformes et marques. 2e partie</a></li>
<li><a href="../fr442888/index.html">Personnaliser la s√©lection sur css pur</a></li>
<li><a href="../fr442890/index.html">CYOD? COPE? BYOD?</a></li>
<li><a href="../fr442896/index.html">La production additive en cycle complet dans une entreprise a√©ronautique est une question pour l'avenir proche</a></li>
<li><a href="../fr442898/index.html">Solutions au probl√®me des robots anti-spam ajout√©s aux groupes de t√©l√©grammes</a></li>
<li><a href="../fr442900/index.html">Pourquoi avons-nous besoin de la d√©centralisation d'Internet et pourquoi est-il in√©vitable</a></li>
<li><a href="../fr442902/index.html">Cinq conseils pour apprendre √† accepter calmement les commentaires au travail</a></li>
<li><a href="../fr442904/index.html">√Ä propos de la fonctionnalit√© des dispositifs de s√©curit√©</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>