<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦕 🥈 😓 培训Cisco 200-125 CCNA v3.0。 第9天。交换机的物理世界。 第二部分 🤚🏿 🤚🏼 🙇🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="因此，我们研究了如何在计算机上建立网络。 至于交换机，让我提醒您，它是OSI模型的第二级设备，我们必须配置IP地址，该地址属于第三级。 为此，我们使用IP地址管理并转到VLAN1接口。 我们将在以下视频教程之一中详细讨论VLAN，现在只需记住新交换机“开箱即用”已将所有端口配置为使用VLAN1。 因...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>培训Cisco 200-125 CCNA v3.0。 第9天。交换机的物理世界。 第二部分</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/455343/">因此，我们研究了如何在计算机上建立网络。 至于交换机，让我提醒您，它是OSI模型的第二级设备，我们必须配置IP地址，该地址属于第三级。 为此，我们使用IP地址管理并转到VLAN1接口。 我们将在以下视频教程之一中详细讨论VLAN，现在只需记住新交换机“开箱即用”已将所有端口配置为使用VLAN1。 因此，为了将IP地址10.1.1.10分配给交换机，我们转到此接口。 <br><br><img src="https://habrastorage.org/webt/5c/ya/ku/5cyakubuinsay5yvgcwl04g1h-s.jpeg"><br><br> 如果要分配默认网关的IP地址，则必须使用ip default gateway 10.1.1.100命令。 <a name="habracut"></a><br><br><img src="https://habrastorage.org/webt/np/8d/ff/np8dffaroy2wr42y8fwuv_6mdu8.jpeg"><br><br> 这是必需的，以便我们的交换机可以与另一个网络通信。 如果返回到交换接口的工作配置，我们将看到以下行： <br><br> 接口Vlan1 <br>  ip地址10.1.1.10 255.255.255.0 <br><br> 这意味着IP地址的前三个八位字节为10.1.1。的任何设备都将使用默认网关地址10.1.1.100连接到另一个网络。 这是分配默认网关地址的方式。 <br><br> 让我们考虑如何断开交换机的任何端口。 现在，我犯了一个错误，并将尝试从中受益。 如果我们有路由器，则其名称以f0 / 0或g0 / 0开头，而交换机的名称始终以f0 / 1或g0 / 1开头，具体取决于使用的是FastEthernet还是GigabitEthernet。 在本例中，这是FastEthernet，因此我们使用开关名称f0 / 1。 <br><br> 如您所知，路由器是思科发明的，它决定路由器编号始终以f0 / 0开头。 因此，如果要禁用此端口，只需键入shutdown命令，然后物理禁用FastEthernet 0/1端口。 如果要再次启用此端口，请输入no shutdown命令。 如您所见，在第一种情况下，我们收到一条消息，指出端口的状态为“管理上关闭”，在第二种情况下，我们收到的消息是端口状态为“开启”。 <br><br><img src="https://habrastorage.org/webt/r3/ye/vj/r3yevj50xr1uncb0zftvgftfz9m.jpeg"><br><br> 现在，我将再次断开端口连接，并给命令do sh ip interface br-这是我最喜欢的命令之一，这使得可以快速查看所有交换机接口的当前状态。 <br><br><img src="https://habrastorage.org/webt/by/xa/o0/byxao0zvuulme70nk_zolpaffkg.jpeg"><br><br> 我们看到，FastEthernet0 / 1接口在管理上被禁用。 从管理上来说，该接口已使用shutdown命令禁用。 在右列中，我们看到该接口的协议也被禁用并且处于关闭状态，但是，当该端口上出现流量时，它将立即进入打开状态。 <br><br>  FastEthernet0 / 4接口的状态也显示为关闭，即目前处于打开状态，但不起作用。  FastEthernet0 / 2和FastEthernet0 / 3接口处于打开状态，因为如果您查看我们网络的逻辑拓扑，则可以看到PC2和PC3已连接到它们。 在图中，这些交换机端口标有绿点，而连接到集线器的管理断开连接的端口标有红点。 <br><br><img src="https://habrastorage.org/webt/gf/5x/uo/gf5xuolgexrbebnorybg-mbf9p8.jpeg"><br><br> 现在，我将输入no shutdown命令，您将看到几秒钟后红点如何改变颜色，表明该端口已打开。 因此，我们进行了关机和取反命令设置。 我们还有最后一项设置-保存“保存配置”开关的配置。 为此，我们输入wr（wright）命令并保存设置。 接下来，我们将这些设置复制到启动开关配置文件中。 <br><br><img src="https://habrastorage.org/webt/kk/j_/ar/kkj_aru1qnjkdfbe_hrbnimiwo0.jpeg"><br><br> 现在让我们回到我们的网络布局，那里有一个大问题。 了解网络的人都知道集线器和交换机之间的区别。 <br><br><img src="https://habrastorage.org/webt/z5/cv/y4/z5cvy4_wbvupxtu0jbb1hv3pzsm.jpeg"><br><br> 如果PC2连接到交换机或与PC3通信，则流量仅在这两个设备-PC2和PC3之间流动。 如果PC0通过集线器与集线器或PC1进行通信，则流量不仅会在这两台计算机之间流动，因为集线器会将此流量的副本发送到交换机。 <br><br> 假设您是坐在PC1上的网络管理员，并且正尝试使用通过集线器到Telnet终端的远程访问协议连接到交换机。 但是，坐在PC0上的黑客可以查看定向到交换机的所有流量，因为集线器会将该流量的副本发送到他的计算机。 <br><br><img src="https://habrastorage.org/webt/wt/r-/lk/wtr-lkg0o8o3stmn4x2sx30s4um.jpeg"><br><br> 由于您使用用户名和密码连接到交换机，因此黑客可以使用免费的Wireshark软件，该软件可让您分析流量并获取凭据。 因此，我们在创建现代网络时尽量不使用集线器。 当前，几乎所有公司都已将集线器替换为交换机。 <br> 防止流量通过集线器泄漏的一种方法可能是使用基于SSH协议或“安全外壳”的另一种传输技术。 该协议类似于Telnet，并且使用流量加密以相同的方式，但以更安全的方式进行。 <br><br> 考虑这个例子。 国防部想要将一些秘密设备运到该国的另一端时，它会使用卡车进行运输。 这辆卡车必须在有护卫的情况下通过大门，护卫向驾驶员询问文件。 在我们的例子中，这是用户名和密码。 一旦警卫收到正确的密码，她就会想念卡车。 这就是Telnet协议的工作方式，但是我们的卡车将货物装在敞开的车身中，并且在前往目的地时，任何人都可以看到其中的内容。 但是，我们不希望任何人知道我们正在运输的货物，我们需要关闭卡车。 这意味着任何看见他的人将无法找出背后的东西。  SSH就是这样做的-它保护来自外部的流量内容。 <br><br>  Telnet对于受信任的网络已经足够好，当您联系认识的收件人时，使用授权进入网络，发送和接收消息。 但是他无法保护设法渗透到您网络中的黑客的邮件内容。 当消息只能由两个人（发送者和接收者）解密时，SSH提供这种连接。 这只能由预定此消息的设备来完成。 <br><br> 因此，如果我们使用SSH协议在PC1和交换机之间交换消息，则集线器还将其复制到其他设备，但这绝不会帮助PC0的黑客，因为他将无法对其进行解密。 就是说，他看到了我们的卡车，却无法发现密闭箱中装的是哪种货物。 让我们看看什么是SSH协议。 <br><br><img src="https://habrastorage.org/webt/av/jc/fi/avjcfi6ofgsusneeuo8pssvbw8u.jpeg"><br><br> 为了使用此协议，您需要进行6项设置。 第一种是设置主机名，但是由于我们已经为切换完成了主机名，因此您可以立即进行第二种设置-设置域名。 为此，请在切换命令窗口中输入ip域名Nwking.org命令，但是您可以使用任何其他名称。 然后，我们需要确保安全密钥的安全性，即使用crypto key命令启用加密，然后使用crypto key generate命令激活加密密钥生成功能。 <br><br><img src="https://habrastorage.org/webt/pb/b2/qo/pbb2qomwian4kekccfmsmhgjzes.jpeg"><br><br> 我将在以下视频中详细讨论SSH协议的操作，因此请继续关注有关Internet安全性的更多有趣事情。 您会看到，使用此命令后，消息“生成RSA密钥”出现在行中，其中RSA是网络领域中最常见的加密标准之一。 <br> 按“ Enter”后，屏幕上会显示一条消息，提示您可以将会话加密密钥的长度从360位选择为2048位，并且创建512位密钥可能需要几分钟。 让我们分配一个1024位的密钥，这是一个相当安全的密钥。 <br><br><img src="https://habrastorage.org/webt/a3/ti/ng/a3tingorxbetzqwfcpeqsrtywcy.jpeg"><br><br> 我想指出一个1024位的密钥比512位的密钥可靠很多倍，因此不要感到困惑，因为它只有2倍大。 这只是生成会话密钥所需的源位数，密钥本身的大小将比该数目大很多倍。 <br><br> 因此，我们有了主机名，域名和加密密钥，现在我们需要使SSH版本2功能可用，该安全协议的第二个版本与SSH的第一个版本不兼容。  ip ssh version 2命令用于此操作，这意味着所有通过SSH到达的流量都将使用第二个版本。 <br><br> 接下来，我们需要创建用户-创建用户。 这可以通过输入以下行来完成：用户名Imran密码ssh123。 现在，您需要启用交换机以使用SSH。 我们知道SSH和Telnet使用vty线路，因此我们输入line vty 0 15命令，因为我们要使用所有16​​条通信线路。 <br><br><img src="https://habrastorage.org/webt/wv/sd/7e/wvsd7egs1hwfixvoh3kqlw-w4bc.jpeg"><br><br> 要为此交换机禁用SSH或Telnet协议，您需要使用transport input命令，此后，系统将显示来自4个可能选项的提示： <br><br> 全部-使用两种协议的能力； <br> 无-禁用两种协议； <br>  ssh-使用SSH TCP / IP协议; <br>  telnet-使用Telnet TCP / IP协议。 <br><br> 如果输入transport input none命令，则将拒绝通过SSH和Telnet进行的任何通信，并且将禁用从0到15的所有vty线路。 <br><br> 如果我再次返回PC0命令行终端，退出交换机设置并尝试通过Telnet连接，那么我将看到连接已关闭。 原因是我们禁止使用任何通信协议。 现在，如果要使用Telnet，我将在交换机设置窗口中输入transport input telnet命令。 <br><br><img src="https://habrastorage.org/webt/se/qs/pd/seqspdxwqnugnb-4mw66wf0ljvc.jpeg"><br><br> 如果在此之后我们再次尝试通过计算机与交换机联系，并在命令行终端中键入telnet 10.1.1.10，则将建立连接，我们将看到一个欢迎标语和一个建议输入密码以进行用户验证的建议。 <br><br><img src="https://habrastorage.org/webt/6x/nd/ms/6xndms7w6hw1jntzhbmripb9oiw.jpeg"><br><br> 我们做了什么？ 作为安全措施，我们禁止使用Telnet流量，仅允许使用SSH流量。 如果现在在交换机设置中输入transport input ssh命令并尝试通过计算机登录，则系统将拒绝提供访问。 在这种情况下，您需要在PC0命令提示符窗口中键入ssh-这意味着用户希望使用SSH协议建立通信。 <br><br> 之后，命令行上将显示一个模板，用于用户必须输入的数据格式：SSH-1个用户名目标。 <br><br><img src="https://habrastorage.org/webt/bc/ng/_g/bcng_gks3kkpzqtzhvlkwarbyqy.jpeg"><br><br> 我必须输入要与之通信的设备的协议版本，用户名和IP地址，因此我输入以下行： <br><br>  ssh -1 Imran 10.1.1.10 <br><br> 此后，将显示“打开”消息，指示目标设备接口已打开，提示您输入密码。 我输入密码ssh123，但由于某些原因，它不被接受。 事实是我犯了一个错误，这很好，因为有了这个我可以将您的注意力集中在另一个必要的步骤上。 <br><br> 让我们尝试找出发生了什么。 我输入了密码ssh123，该密码先前已输入到交换机设置中。 让我们再次看一下交换机的当前配置，以了解我设置了哪种密码。 <br><br><img src="https://habrastorage.org/webt/bo/xm/ra/boxmraykkvlzchkqrx2jmmatn5e.jpeg"><br><br> 我们看到在vty 0行上运行了连接，该行的密码不是ssh123，而是telnet。 如果在计算机的命令行上输入此密码，则可以进入开关设置。 为什么不接受ssh123密码？ 全部与登录命令有关。 这意味着您只能使用先前设置的密码登录，即，您必须使用上面的telnet词作为密码。 但是，如果要使用用户密码，则必须使用login local命令而不是login命令。 <br><br><img src="https://habrastorage.org/webt/nl/fm/sb/nlfmsbkn_j_nigoqgsam7qwkxtm.jpeg"><br><br> 现在，我们看到包含登录命令的所有设置都已更改为本地登录，这意味着：“使用本地用户名和密码”。 本地用户名和密码在用户名Imran密码ssh123行中。 我想检查Packet Tracer是否支持本地命令，并查看它支持什么-此命令意味着检查本地密码。 <br><br> 在以下有关Internet安全性的视频教程中，我将展示使用Cisco特殊的访问控制协议可以使用户登录设置更加容易。 即使使用不用于路由器和交换机且旨在与其他设备一起使用的Cisco Identity Services Engine（ISE），我们也必须确保这些设备可以使用本地用户名和密码访问中央数据库。 <br><br> 因此，在切换命令行终端中，我们使用了login local命令，该命令告诉系统必须使用本地用户名和密码。 现在，我将在计算机的命令行上输入Exit命令，并尝试使用ssh123密码重新连接到交换机。 如您所见，现在它可以工作了。 <br><br> 今天，我们研究了如何在实践中使用SSH协议。 我想指出的是，当您在公司工作时，每个人都应该首先询问经理，是否可以使用SSH协议将所有设备置于操作模式，以保护您的流量。 <br><br> 我认为今天我们已经考虑了足够有用的材料。 我建议您做笔记，以更好地了解手头的问题。 如果您不了解今天的视频教程中有关物理和逻辑网络拓扑或交换机设置的知识，请随时提出问题，包括在Facebook组<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">www.facebook.com/NetworKingConsultant中</a> ，我将作答。 <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/F2KBA9iOiFg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br> 感谢您与我们在一起。 你喜欢我们的文章吗？ 想看更多有趣的资料吗？ 通过下订单或将其推荐给您的朋友来支持我们， <b>为我们为您发明的入门级服务器的独特模拟，为Habr用户</b>提供<b>30％的折扣：</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">关于VPS（KVM）E5-2650 v4（6核）的全部真相10GB DDR4 240GB SSD 1Gbps从$ 20还是如何划分服务器？</a>  （RAID1和RAID10提供选件，最多24个内核和最大40GB DDR4）。 <br><br>  <b>戴尔R730xd便宜2倍？</b> 仅<b>在荷兰，</b>我们有<b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">2台Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100电视</a> ！</b>  <b><b>戴尔R420-2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB-$ 99起！</b></b> 阅读有关<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">如何构建基础架构大厦的信息。</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">使用价格为9000欧元的Dell R730xd E5-2650 v4服务器的上等课程？</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN455343/">https://habr.com/ru/post/zh-CN455343/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN455333/index.html">谁将Python放入Windows 10 May 2019更新中？</a></li>
<li><a href="../zh-CN455335/index.html">小资小喜乐＃3：诗歌</a></li>
<li><a href="../zh-CN455337/index.html">谁将Python添加到最新的Windows更新中？</a></li>
<li><a href="../zh-CN455339/index.html">挖掘坟墓，SQL Server，多年外包和您的第一个项目</a></li>
<li><a href="../zh-CN455341/index.html">关于ITIL 4认证的知识</a></li>
<li><a href="../zh-CN455345/index.html">小心医生</a></li>
<li><a href="../zh-CN455347/index.html">VBA中的功能接口...</a></li>
<li><a href="../zh-CN455351/index.html">VMware EMPOWER 2019-会议的主要公告和结论</a></li>
<li><a href="../zh-CN455353/index.html">深度神经网络的硬件加速：GPU，FPGA，ASIC，TPU，VPU，IPU，DPU，NPU，RPU，NNP等字母</a></li>
<li><a href="../zh-CN455355/index.html">最小的有线电视网络。 第8部分：光骨干网</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>