<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♊️ 🤽🏾 👩🏾‍🌾 Desenvolvimento de um editor para criação de sites / desembarques (experiência) 🕕 🏁 👩🏽‍💼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="(Arte de http://www.simonstalenhag.se/ ) 
 Antecedentes / Isenção 


 Olá pessoal, este artigo é de fato material para o meu discurso na segunda-feira...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Desenvolvimento de um editor para criação de sites / desembarques (experiência)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/417637/"><p><img src="https://habrastorage.org/webt/6j/yl/ny/6jylnys0x91jmmt4g_hqy9mat1q.jpeg"><br>  (Arte de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">http://www.simonstalenhag.se/</a> ) </p><br><h3>  Antecedentes / Isenção </h3><br><p>  Olá pessoal, este artigo é de fato material para o meu discurso na segunda-feira na maratona de Kiev.  Mas não pense que você é o público em que elaboro o texto; é apenas mais fácil para mim me preparar. </p><br><p>  Atualmente, sou desenvolvedor Front-end da Conductor / WeWork.  Não desenvolvemos editores, assim como eu, à noite, não desenvolvemos essas coisas.  Isso é mais sobre a experiência que recebi em um projeto anterior na UTI (abreviado), utipi, uti….  Foi há muito tempo, mas, como se vê, o tópico é relevante para este dia, bem como os batentes associados a ele. </p><br><p>  Normalmente, estamos falando de sites de cartões de visita, páginas de entrada e sites mais ou menos funcionais, mas certamente não sobre back-office ou áreas administrativas. </p><br><blockquote>  UTIEditor especial para você &lt;3 </blockquote><br><h3>  Por que precisamos de tais editores? </h3><br><p>  Existem muitas respostas para essa pergunta, muitos de vocês, com certeza, acho que sim. <br>  Responderei a essa pergunta do ponto de vista da UTI, uma empresa que fornece serviços de desenvolvimento de sites. </p><br><p>  A UTI é essencialmente uma empresa de bens de consumo.  Estou certo de que ao mesmo tempo, cada um, uma dúzia de sites de cartões de visita por pessoa, uma dúzia de lojas on-line e uma cereja de marca funcionavam da mesma maneira - o próprio CMS. </p><br><p>  Então você criou outra página de destino, um site de cartão de visita e a deu ao cliente, e ele volta em um dia e pede para alterar o texto.  Após outro dia, altere a cor do plano de fundo e adicione apenas uma imagem.  Para o cliente, parece algo simples e rápido.  É difícil argumentar com isso, é verdade.  Mas para você, isso significa que você precisa retirar o desenvolvedor / designer de suas tarefas atuais.  Sem mencionar o trabalho de um gerente que gasta tempo com comunicação.  Assim, você fatura e não é pequeno.  O cliente está indignado e reclama.  Da próxima vez, você já pensa sobre essas coisas e começa a fazer perguntas, colocando a funcionalidade de edição no TK. </p><br><p>  Aqui talvez valha a pena discutir essa funcionalidade, porque é muito diferente. <br>  Eu gostaria de acrescentar que não incluirei CMS como WrodPress, Drupal nesta conversa; nos concentraremos no mercado de editores. </p><a name="habracut"></a><br><h3>  Debry UTI </h3><br><p>  A primeira coisa que vem à mente é criar um formulário no qual o usuário possa alterar o que deseja: </p><br><p><img src="https://habrastorage.org/webt/jd/hu/0h/jdhu0hykoas1wvksoc1vhaurivk.png"></p><br><p>  Um pouco fora da vida real, o nome dos campos, mas a essência que você pegou. </p><br><p>  Do ponto de vista da empresa, ela cumpriu seu dever e até cuidou da “personalização”.  Mas essa abordagem ainda tem várias limitações. </p><br><p>  As vantagens desta abordagem: </p><br><ul><li>  Fácil de implementar </li><li>  Fácil de usar </li><li>  Resolve o problema </li></ul><br><p>  Contras desta abordagem: </p><br><ul><li>  Não há como mudar o design </li><li>  Não há como mudar o comportamento </li><li>  Sem posicionamento </li><li>  Você pode editar apenas o que foi colocado no formulário </li></ul><br><p>  Você já pensou no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CKEeditor</a> ?  Estrela de todos os tempos.  Siga o próximo passo para melhorar o conteúdo editável no site. </p><br><p><img src="https://habrastorage.org/webt/u2/z8/l2/u2z8l2je3kdzcou8mcbbmdocs20.jpeg"></p><br><p>  Existe um tipo de oportunidade para formatar o texto e até inserir alguns elementos adicionais.  Em algum lugar desse lugar, antes de ingressar na empresa, os caras tiveram uma ideia de criar um editor de páginas com arrastar e soltar diretamente no CKEditor.  Infelizmente não tinha mais nada para mostrar, mas tente imaginar esse horror :) </p><br><p>  Mas, no momento, 2018, por assim dizer, o CKEditor fez alguns progressos nessa direção, o que é bastante divertido.  O que não é uma página inteira? </p><br><p><img src="https://habrastorage.org/webt/hs/uv/5t/hsuv5tni9olhtsnh65sevvmg3di.png"></p><br><p>  Mas tudo isso não era conveniente, tanto no desenvolvimento quanto no uso.  E conhecendo apenas a espinha dorsal e o jquery, eu me chamei de desenvolvedor front-end e decidi oferecer a eles para desenvolver um editor completo, como Wix, Squarespace, Tilda, LPGenerator ... Na verdade, eles eram meus concorrentes.  Mas como a UTI é uma empresa sem nome, eles não sabiam disso.  E eles não reconheceram e não reconhecerão.  Embora o patrocinador da maratona seja o Wix.  Oh, isso é apenas uma coincidência. </p><br><p>  Eles não reconheceram, porque tudo estava de acordo com os clássicos - a empresa não se importava com o projeto. </p><br><p>  Estes são dois screencasts, eles não são perfeitos, com batentes, mas tenho certeza de que fornecerão uma idéia geral do editor. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/N6ViA0XCWxU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/ArwNT9EZ2y8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  Eu estava sozinho neste projeto.  Designer, gerente de produto, na frente e atrás, mas não houve testes.  Mas a verdade era que os testadores manuais, que vieram para a empresa, foram temperados no fogo do reator.  Os testadores, é claro, eram engraçados.  O que você entenderia do nível - uma vez, um deles foi nocauteado: </p><br><p><img src="https://habrastorage.org/webt/0e/gx/vs/0egxvsufxxpgjoghgiwij23wrve.png"></p><br><p>  E eles registraram um bug, dizem que o site está fora do ar.  O cara acabou de soltar o cabo da Internet do sistema :) </p><br><p>  Cada vez, de uma maneira nova, eu tinha que explicar o que pode ser feito no editor, o que é impossível e por que funciona dessa maneira, e é assim que funciona.  De fato, para mim foi divertido.  Uma espécie de feedback de primeira linha.  Praticamente não havia clientes, e o editor evoluiu em grande parte graças a eles. </p><br><p>  Alguém tem alguma idéia de qual pilha eu usei?  O aplicativo parece ótimo, sólido, por assim dizer.  Não é buggy, pois não era buggy há 5 anos. </p><br><p>  Ah, e que processo incrível de CI / CD eu tenho.  Eu fui à comida o quanto você quer uma vez por dia.  Codinome Filezilla, arraste e solte, repita.  Primeiro, conecte-se ao ftp usando o filezilla, faça uma compilação, faça o download da compilação atual, coloque-a em uma pasta chamada backup, faça o upload de uma nova compilação e verifique se alguém morreu lá.  Se você morreu, você carrega o arquivo da pasta de backup.  Mas, honestamente, o momento com o backup, eu nem sempre fazia, dependia de um conjunto de novas funcionalidades.  E, como o editor estava em vários projetos, para dizer que entrei em cada um deles e verifiquei se ele estava lá, não o faria.  E ainda usamos SVN, dá sabor? </p><br><h3 id="chto-zhe-po-povodu-steka">  E a pilha? </h3><br><p>  Backbone + jquery + 0 testes. </p><br><p>  Módulo, carregamento assíncrono, divisão de código ala e renderização no servidor.  Então, esses termos não foram usados ​​especificamente, era de fato uma otimização simples.  Mas agora é a hora do marketing no código aberto e sua revolução! </p><br><p>  O que você entenderia, o Wix da época, agora não difere muito do editor Wix.  É que ele tem mais modelos, espaços em branco e componentes acabados.  Eles migraram a reação, completamente ou não, eu não sei.  É de bugs exatamente da mesma maneira, apenas em macbooks com RAM de 16 gigabytes, com um sistema de renderização mais íngreme chamado casa virtual e mecanismos legais da web.  Em projetos dessa escala, as ferramentas não desempenham um papel especial, é mais uma conversa sobre arquitetura e UI / UX.  E UI / UX é muito mais importante.  A complexidade da implementação, o desempenho e o nível de desejo de se matar ao criar sites do seu editor dependem disso.  Os clientes geralmente estarão longe do desenvolvimento, longe de todas essas regras, propriedades, atributos e parâmetros do CSS.  Entre eles, haverá pessoas mais ou menos versadas que servirão seus clientes e os levarão embora no futuro.  Mas não vamos falar de coisas tristes, vamos tentar considerar um pouco mais as gerações de editores. </p><br><p>  Os clientes, se você lhes der a ferramenta de edição perfeita, ainda não poderão usá-la.  O artesanato deles será mais ou menos assim: </p><br><p><img src="https://habrastorage.org/webt/ee/cg/i9/eecgi9-bcho9jh_vhkpzz09jdbm.png"></p><br><p>  Isso é verdade e não é verdade, já que a Web é simplesmente complicada para humanidades e, por outro lado, existe uma UI / UX ideal que permite criar um site, faça o que quiser com o clique de um botão. </p><br><p>  Mas às vezes é impossível e tem que procurar um meio termo. </p><br><h3 id="vizualnyy-html-redaktor">  Editor visual HTML </h3><br><p>  A tarefa inicial foi a seguinte: faça o mesmo que no CKEditor, para que você possa mover elementos (texto, figuras) e de alguma forma editá-los / formatá-los. </p><br><p>  Um dos principais requisitos era a capacidade de carregar HTML personalizado para trabalhos futuros. </p><br><p>  Comecei criando elementos na página arrastável.  Ou seja, o usuário pode movê-los.  No começo, tudo parecia bem, mas quanto mais peças eu tentava, pior parecia.  O fato é que o HTML personalizado pode ser completamente arbitrário e imprevisível.  Isso leva a problemas da tarefa elementar de arrastar e soltar, incapacidade de entender que tipo de elemento o usuário escolheu e até mesmo de ter um controle banal sobre a página.  Foi um caos. </p><br><p> Grapesjs permite que você carregue seu HTML.  Ele vê o texto envolto em tags óbvias e o texto que está no <code>body</code> , ele não sente: </p><br><p><img src="https://habrastorage.org/webt/hj/0s/jj/hj0sjjit2iz396ul0aqlykqo3r0.png"></p><br><h3 id="ogranicheniya">  Limitações </h3><br><p>  Permitir que você faça upload e edite seu HTML é certamente uma jogada ousada.  Do ponto de vista do usuário, essa é uma grande liberdade.  Mas há um exemplo maravilhoso de como as coisas estão na web - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">uma caixa azul</a> . </p><br><p>  Tenho certeza de que nem sequer existem todas as opções de implementação.  O fato é que as mesmas coisas em termos de semântica podem ser implementadas de maneiras completamente diferentes, usando abordagens completamente diferentes.  E imagine, na página, algo mais complicado que o quadrado azul.  A mesma imagem pode ser adicionada à página usando a tag &lt;img /&gt; ou configurada usando o plano de fundo.  Um botão pode ser um &lt;botão&gt; ou pode ser um &lt;div&gt; ou a mesma imagem.  E como entender qual ferramenta de edição mostrar? </p><br><p>  De jeito nenhum. </p><br><h3 id="ogranichenie-00">  Limite 00 </h3><br><p>  A próxima opção é proibir este ou aquele layout, criar um guia de estilo ou proibir o carregamento de HTML personalizado.  Claro, escolhemos o segundo :) </p><br><h3 id="ogranichenie-01">  Limite 01 </h3><br><p>  Como proibimos o carregamento de HTML personalizado, precisamos de nossos próprios componentes / elementos, e este é o primeiro passo para um editor real. </p><br><h3 id="ogranichenie-02">  Restrição 02 </h3><br><p>  Como o usuário trabalhará com vários de nossos elementos, devemos impedir que o editor trabalhe com não "nossos elementos" e nos ensinar como trabalhar com eles. </p><br><h3 id="rabochee-okruzhenie">  Ambiente de trabalho </h3><br><p>  Não é o tópico mais interessante, mas importante.  Eu realmente gosto da interface do Photoshop.  Há vários painéis e uma área de trabalho.  Você pode manipular o espaço de trabalho como quiser, ele está centralizado e, dependendo do tamanho, pode rolar na horizontal e na vertical. </p><br><p><img src="https://habrastorage.org/webt/m5/ki/w8/m5kiw8n2pp2hgl_w2bp7ci7fid4.jpeg"></p><br><p>  Além disso, muitos de mim tocaram no meu design do Google Web Designer: </p><br><p><img src="https://habrastorage.org/webt/ue/2o/gj/ue2ogjwar96x4ivn-tc76mmdtei.png"></p><br><p>  By the way, este é um tipo de editor do Google, alguém usou? </p><br><p>  A parte mais difícil é quebrar a página dessa maneira.  Eu não sou um especialista em CSS, e desta vez foi muito mais fácil para mim, mas foi uma dança com um layout de tabela.  Antes de prosseguirmos, vamos ver que tipo de layouts de espaço de trabalho são em geral. </p><br><h4 id="fotoshop">  Photoshop </h4><br><p>  LPGenerator </p><br><p><img src="https://habrastorage.org/webt/ox/ff/6o/oxff6o1gmfnhsjntp4cppr8ythm.png"></p><br><p>  Minha criação </p><br><p><img src="https://habrastorage.org/webt/9r/57/q2/9r57q2fwlzmnakhmt0rdkgrxsr8.png"></p><br><p>  Grapesjs </p><br><p><img src="https://habrastorage.org/webt/tv/td/-6/tvtd-6ewxcldd_uwlkrp33bt1z8.png"></p><br><p>  De fato, já discutimos esse layout acima.  À esquerda, são usadas frequentemente ferramentas, à direita, opções, na parte superior há algo adicional, na parte inferior há uma barra de informações.  A opção mais óbvia, mas ao mesmo tempo sobrecarregada para o usuário.  Ele tem medo de todos esses botões, como se estivesse no cockpit e precisava fazer um pouso de emergência. </p><br><p><img src="https://habrastorage.org/webt/bi/qt/h2/biqth2l4au7rd5pmphd2bpukxpq.jpeg"></p><br><h4 id="tak-peregruzhen-chto-nado-vse-pryatat">  Tão sobrecarregado que você tem que esconder tudo </h4><br><p>  Wix </p><br><p><img src="https://habrastorage.org/webt/3-/fc/ir/3-fcirszrvx_ahs4nqdt4vg0wlc.png"></p><br><p>  Por 5 anos, o design do Vicks mudou pouco.  Após entrar no LPGenerator, você entende imediatamente que pode arrastar um elemento para uma página, ver as configurações etc.  No caso do Wix, tudo está inicialmente oculto.  Essa é uma boa abordagem.  O fato é que o usuário não precisa ver, algo que provavelmente não precisará no momento.  Mas aqui você precisa manter o equilíbrio.  O Wix.com tem muitos elementos que você pode adicionar à página e, por esse motivo, eles criaram uma galeria inteira de elementos.  Mas é claro que coisas óbvias como texto ou botão podem ser trazidas para um dos painéis para acesso rápido. </p><br><p><img src="https://habrastorage.org/webt/x8/cq/8q/x8cq8qzdq0swfpy6nbnjfdrrn3i.png"></p><br><p>  Quando você clica em um elemento, uma funcionalidade adicional aparece acima dele, relacionada ao elemento. </p><br><p><img src="https://habrastorage.org/webt/cv/jk/kl/cvjkkl_jkisk6dankfyobhxetts.png"></p><br><p>  Para perceber que isso ainda é hemorrágico, falaremos sobre isso um pouco mais tarde. </p><br><h4 id="minimalist">  Minimalista </h4><br><p>  Squarespace </p><br><p><img src="https://habrastorage.org/webt/3c/go/bq/3cgobqbddacwl9b2x8eovoswqli.png"></p><br><p>  Design minimalista, espaço de trabalho ocupa a maior parte da tela, a partir da interface o mínimo mais necessário.  A caixa de ferramentas é muito estranha.  Por exemplo, a primeira tela com o botão é editada assim: </p><br><p><img src="https://habrastorage.org/webt/uc/hq/1z/uchq1z78zirhfhz-y0ltv-rsdvi.png"></p><br><p>  O botão aqui é representado pelo texto. </p><br><p>  Por si só, o modo de edição é muito semelhante à visualização e, somente quando você clica duas vezes em algumas telas, ele muda para o modo de edição. </p><br><p><img src="https://habrastorage.org/webt/vo/45/ib/vo45ibzpk2tr_gs39b7pvz_md0k.png"></p><br><p>  Ao mesmo tempo, o editor nos move para outra parte do aplicativo. </p><br><h4 id="ya-est-grut">  Eu sou groot </h4><br><p>  Tilda </p><br><p><img src="https://habrastorage.org/webt/i8/8s/8k/i88s8kktamx-mf1g-ttfugnr0vo.png"></p><br><p>  Editando um site, você parece estar nele.  Muito semelhante ao Wordpress e seu painel na parte superior com funcionalidade de edição / publicação e muito mais.  Mas, ao mesmo tempo, a funcionalidade não é tão paradora quanto a do Squarespace, e o mesmo texto é muito mais fácil de editar. </p><br><p>  Para adicionar algo, você precisa clicar em +.  Mova o botão para qualquer lugar conveniente para você, mas não dará certo.  Tudo é limitado. </p><br><p><img src="https://habrastorage.org/webt/5o/oh/jt/5oohjth7pgvlstdyplk3b1p9voe.png"></p><br><p>  A consequência disso são galerias com várias opções diferentes para o mesmo elemento. </p><br><p><img src="https://habrastorage.org/webt/rw/nv/qr/rwnvqr9qwor0bv9ykif4om-w_rq.png"></p><br><p>  Como você já pode entender, sou fã da versão do Photoshop.  Uma vez que fui atormentado com o layout da tabela, mas agora em 2018 e para fins educacionais, não podemos dar a mínima para o suporte e implementar um layout nas CSS Grids. </p><br><p><img src="https://habrastorage.org/webt/43/0u/u_/430uu__6jgftrpnrbe-5o4nzx4c.png"></p><br><p>  Se alguém não estiver familiarizado com grades CSS, essa é uma das últimas maneiras de fazer o layout das páginas.  Se for preferível usar o Flexbox para menus, formulários e outros conjuntos de elementos, em seguida, CSS Grids, eles se sentirão bem em coisas globais. </p><br><p>  Este não é um tutorial de CSS Grids, por isso vou explicar em poucas palavras ao longo do caminho, mas sem mega detalhes. </p><br><p>  Portanto, nossa tarefa é criar os painéis esquerdo e direito e, no meio, a área de trabalho em que o conteúdo do site será exibido. </p><br><p>  Trabalhar com grades é um pouco mais fácil no FireFox, isso é estranho, mas o cromo está por trás disso.  Em um dos <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">artigos anteriores,</a> eu já falei sobre isso. </p><br><p>  Como é uma inspeção de grade no chrome: </p><br><p><img src="https://habrastorage.org/webt/l4/zp/kx/l4zpkxvws1hyhw3s5vj8pjkxcts.png"></p><br><p>  Ao mesmo tempo no muff: </p><br><p><img src="https://habrastorage.org/webt/s6/sv/9e/s6sv9erwvogh3ycfwxdrmn0xkzy.png"></p><br><p>  Há uma mini representação da grade, rótulos semânticos de colunas / linhas são mostrados.  Portanto, se você quiser obter mais informações, use o FireFox por enquanto.  Estranho, sinto recomendar este navegador.  O tempo do Bugzilla já passou. </p><br><p>  Vamos começar com uma marcação simples. </p><br><pre> <code class="hljs cs">&lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"main"</span></span>&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"left"</span></span>&gt;&lt;/div&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"content"</span></span>&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"site"</span></span>&gt;&lt;/div&gt; &lt;/div&gt; &lt;div <span class="hljs-keyword"><span class="hljs-keyword">class</span></span>=<span class="hljs-string"><span class="hljs-string">"right"</span></span>&gt;&lt;/div&gt; &lt;/div&gt;</code> </pre> <br><p>  .left - painel esquerdo <br>  .content - o meio em que o site será exibido <br>  .right - painel direito </p><br><p><img src="https://habrastorage.org/webt/rx/1_/7x/rx1_7x-geqcqxbqn8aa7p_rrfgq.png"></p><br><p>  Até agora, isso não é suficiente para o que parece.  Queremos que nossa interface seja igual à Viewport.  Isso pode ser feito usando <code>height: 100%</code> , mas também existem unidades de viewport <code>vh</code> e <code>vw</code> .  Nós vamos usá-los. </p><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.main</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">100vw</span></span>; }</code> </pre> <br><p><img src="https://habrastorage.org/webt/xd/90/xu/xd90xuw42emg47k_dudo7peaeee.png"></p><br><p>  Por padrão, os filhos são transformados em seqüências de caracteres.  Este é um tipo de eixo flexbox.  Precisamos definir as colunas, podemos fazer isso da seguinte maneira: </p><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.main</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">display</span></span>: grid; <span class="hljs-comment"><span class="hljs-comment">/* grid-template-columns: 1fr 2fr 1fr; */</span></span> <span class="hljs-attribute"><span class="hljs-attribute">grid-template-columns</span></span>: <span class="hljs-built_in"><span class="hljs-built_in">minmax</span></span>(200px, .4fr) <span class="hljs-built_in"><span class="hljs-built_in">minmax</span></span>(560px, 2fr) <span class="hljs-built_in"><span class="hljs-built_in">minmax</span></span>(200px, .4fr); }</code> </pre> <br><p>  Por tentativa e erro, cheguei a um temleit bastante complicado.  A função <code>minmax</code> permite definir os tamanhos máximo e mínimo.  <code>fr</code> é uma unidade universal que nos impede de calcular o tamanho em pixels ou porcentagem.  O problema é que propriedades como <code>grid-gap</code> afetam o tamanho como a <code>border</code> .  <code>fr</code> projetado para nos livrar dessa dor. </p><br><p>  Tingir um pouco e remover a <code>margin</code> do <code>body</code> , isso nos incomoda um pouco: </p><br><pre> <code class="hljs css"> <span class="hljs-selector-tag"><span class="hljs-selector-tag">body</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">margin</span></span>: <span class="hljs-number"><span class="hljs-number">0px</span></span>; } <span class="hljs-selector-class"><span class="hljs-selector-class">.left</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.content</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.right</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">box-sizing</span></span>: border-box; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>: solid <span class="hljs-number"><span class="hljs-number">1px</span></span>; }</code> </pre> <br><p><img src="https://habrastorage.org/webt/eb/or/ju/eborjuzgno_g3xaigatthvl2af8.png"></p><br><p>  Ótimo.  Mas essa foi a parte mais fácil.  Agora precisamos criar um espaço de trabalho. <br>  <code>.site</code> é o nosso site imaginário.  Vamos transformá-lo no padrão 960px e destacar. </p><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.site</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">height</span></span>: <span class="hljs-number"><span class="hljs-number">2000px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">960px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">background</span></span>: rebeccapurple; }</code> </pre> <br><p><img src="https://habrastorage.org/webt/wu/gd/p_/wugdp_c3sisp1pncb4avqwlmv9k.png"></p><br><p>  Se você apertar essa coisa, é ainda mais divertido: </p><br><p><img src="https://habrastorage.org/webt/fo/yh/py/foyhpyslg-vh9014_3aui5qr4lk.png"></p><br><p>  Mas </p><br><pre> <code class="hljs css"><span class="hljs-selector-class"><span class="hljs-selector-class">.content</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">overflow</span></span>: scroll; }</code> </pre> <br><p>  Resolve o problema.  Apenas a parte estética permanece.  Recuo. </p><br><p>  Isso pode ser feito usando a <code>margin</code> : </p><br><pre> <code class="hljs powershell"> margin: auto; margin<span class="hljs-literal"><span class="hljs-literal">-top</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>px; margin<span class="hljs-literal"><span class="hljs-literal">-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>px;</code> </pre> <br><p><img src="https://habrastorage.org/webt/b3/tu/oy/b3tuoy-ggnam_lctd6rhggruelm.png"></p><br><p>  <code>20px</code> pouco ou muitos depende de você.  Mas há outro problema.  Se a tela for muito pequena, não haverá recuo à esquerda e à direita.  Desde <code>maring: auto</code> será apertado.  A primeira coisa que vem à mente é definir <code>margin-left</code> e <code>margin-right</code> , mas aqui está outra piada.  O recuo estará apenas no lado esquerdo.  Se você rolar para a direita, ele não estará lá.  Esse é um recurso. </p><br><p>  Sem entrar em detalhes, você pode corrigir isso usando <code>display: inline-block</code> .  Sim  Mas, ao mesmo tempo, a <code>margin: auto</code> que se comporta muito bem com tamanhos de tela grandes.  A próxima solução mais óbvia é usar as consultas de mídia.  Em telas grandes <code>display: block + margin: auto</code> , em telas pequenas <code>display: inline-block; margin-left/right: 20px</code>  <code>display: inline-block; margin-left/right: 20px</code> . </p><br><pre> <code class="hljs powershell"> .site{ height: <span class="hljs-number"><span class="hljs-number">2000</span></span>px; width: <span class="hljs-number"><span class="hljs-number">960</span></span>px; margin: auto; margin<span class="hljs-literal"><span class="hljs-literal">-top</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>px; margin<span class="hljs-literal"><span class="hljs-literal">-bottom</span></span>: <span class="hljs-number"><span class="hljs-number">20</span></span>px; background: rebeccapurple; } @media(max<span class="hljs-literal"><span class="hljs-literal">-width</span></span>: <span class="hljs-number"><span class="hljs-number">1350</span></span>px) { .site { display: inline<span class="hljs-literal"><span class="hljs-literal">-block</span></span>; margin: <span class="hljs-number"><span class="hljs-number">20</span></span>px; } }</code> </pre> <br><p>  Algo assim.  Se alguém tiver alguma idéia melhor, bem-vindo ao comentar. </p><br><h3 id="otobrazhenie-sayta">  Mapeamento de site </h3><br><p>  O layout está pronto, agora você precisa exibir o site que o usuário editará.  Isso é uma coisa muito importante.  Várias decisões dependem disso.  Existem duas maneiras de exibir um site para edição após o fato.  No <code>document</code> , onde está a interface do seu editor ou no <code>iframe</code> .  Ambas as opções têm propriedades positivas e não muito positivas. </p><br><h4 id="tot-zhe-document">  Mesmo documento </h4><br><p>  É mais fácil, tanto mental quanto tecnicamente.  Mas muito mais problemático no futuro.  O fato é que, se você adicionar e adicionar a capacidade de inserir CSS e JS customizados, seu editor explodirá após alguns minutos. </p><br><p>  Usuários que não foram explicados como usar a caneca: </p><br><p><img src="https://habrastorage.org/webt/il/zj/6o/ilzj6otyz1cykjzdp4j6blxt4gy.gif"></p><br><p>  CSS encapsulado ainda não é uma realidade, como era há 5 anos.  Existem opções, mas elas são muito pesadas ou não protegem totalmente.  Quando o usuário inclina toda a interface e exclui acidentalmente todo o seu trabalho, você será responsabilizado.  Olhando um pouco à frente, quando você decidir adicionar vários modelos prontos, seus desenvolvedores sofrerão com isso.  Não importa como você redefina algum estilo.  Agora, se você olhar para Tilda, eles têm problemas com isso. </p><br><p>  Tomemos, por exemplo, a primeira interface do usuário deste editor que veio à mão.  Botões de formatação de texto: </p><br><p><img src="https://habrastorage.org/webt/o3/mc/9d/o3mc9df9lmkxsc0qugbqew6606w.png"></p><br><p>  Você vê esses estilos?  <code>!important</code> na cor?  Esses estilos não são necessários, se você desativá-los, nada mudará.  De qualquer forma, redefini-los é muito simples, inserindo HTML personalizado na página do site: </p><br><p><img src="https://habrastorage.org/webt/wk/zr/4t/wkzr4tkwtqy5doy_x7ctzgsikdu.png"></p><br><p>  Admito, inseri esse código manualmente.  Mas eu encontrei um período gratuito de duas semanas com a capacidade de inserir HTML e CSS personalizados e obtive exatamente o mesmo efeito. </p><br><p><img src="https://habrastorage.org/webt/yt/dn/zj/ytdnzjgajp91hk0_pjcejrnh9rm.png"></p><br><p>  Como isso é possível?  Imagine que você comprou serviços para desenvolver um site em Tilda por mil dólares e desejou definir seu próprio estilo de links.  Tudo, o usuário não poderá editar o site.  Bem, estou exagerando nas bordas, mas você pode imaginar qualquer outro estilo, para não mencionar o JS personalizado.  Além disso, a colisão se estende até a algum tipo de interface aninhada, embora isso seja óbvio. </p><br><p><img src="https://habrastorage.org/webt/vq/sj/b7/vqsjb74djtc-apq4qavvt0i2hdo.png"></p><br><p>  Impedir que os usuários incorporem seu próprio código seria uma solução para esse problema.  Mas no mundo real é quase impossível.  Você não fará integrações personalizadas para cada usuário.  Isso é possível com clientes gordos.  Mas não quando você tem 90% da funcionalidade custa de 5 a 10 dólares. </p><br><h4 id="iframe">  Iframe </h4><br><p>  Encapsule a página quase completamente, o <code>iframe</code> nos ajudará.  Este é provavelmente o único lugar em que usei o <code>iframe</code> tanto tempo.  Podemos acessar o conteúdo <code>iframe</code> e até vice-versa, se estiverem no mesmo domínio.  É por isso que temos tudo sob controle.  Mas todos esses encapsulamentos são um pouco desconcertantes para nós.  Por exemplo, a seleção de elementos, que discutiremos um pouco mais tarde.  Isolá-lo no nível da interface, posicionando-se acima do <code>iframe</code> ou no próprio <code>iframe</code> ? </p><br><p>  Obviamente, será mais fácil fazer isso no próprio <code>iframe</code> .  O fato é que, ao rolar o conteúdo, você não precisa atualizar a posição da seleção / pensar em um layout astuto (embora seja melhor) e em uma interface adicional.  Mas, calculando se a sua interface se sobrepõe, a interface do editor será mais fácil se você renderizar essas coisas sobre um <code>iframe</code> em um <code>document</code> .  Portanto, por exemplo, o Grapesjs combina essas duas abordagens: </p><br><p><img src="https://habrastorage.org/webt/vx/de/dl/vxdedlcxlsqeh7hndohcnh-1mbu.png"></p><br><p>  A seleção ocorre com elementos no <code>iframe</code> , e a funcionalidade adicional sensível à sobreposição é renderizada sobre o <code>iframe</code> . </p><br><p><img src="https://habrastorage.org/webt/xu/s7/tf/xus7tfy-lzsxgawmbgqhmbg1lts.gif"></p><br><p>  Mas, para dar suporte aos seus estilos, você precisará importar tudo o que precisa para o <code>iframe</code> .  Imediatamente você terá que anexar a tela de carregamento para que o usuário não veja o site / interface não inventada. </p><br><p>  Wix <code>&lt;head&gt;</code> <br><img src="https://habrastorage.org/webt/e6/km/pv/e6kmpv8lppux7hfqcn2whridp5c.gif"></p><br><p>  Portanto, você deve entender que isso só é necessário ao editar.  E não se esqueça do estilo do usuário ou você terá problemas novamente. </p><br><p>  Classe Grapesjs que eu "acidentalmente" atualizei com uma borda: </p><br><p><img src="https://habrastorage.org/webt/2n/4z/51/2n4z51jqizu1aowkutnjbeya6hi.png"></p><br><p>  O Grapesjs adiciona a <code>gjs-comp-selected</code> ao destacar, que é claramente visível durante a inspeção, e acredite: essa será a primeira coisa que o usuário copiará para personalização. </p><br><h3 id="vydelenie-elementov">  Selecionar elementos </h3><br><p>  Estamos um pouco à frente de nós mesmos, porque ainda não entendemos como ensinar o editor a ver os elementos na página, mas isso não irá nos prejudicar.  Antes de nos aprofundarmos em um tópico mais complexo tecnologicamente, vamos ver como é tecnologicamente difícil fazer a seleção dos elementos da página :) Você acha que isso é difícil?  Se você é muito confiante, aqui está como todos os editores mencionados acima lidam com isso com um exemplo de texto: </p><br><p>  Meu editor </p><br><p><img src="https://habrastorage.org/webt/-v/h_/dv/-vh_dvzxkjgftcm4dki_ievlmzy.png"></p><br><p>  Tilda </p><br><p><img src="https://habrastorage.org/webt/sb/ns/jm/sbnsjm4bor01vaox3zv4cgdwrli.png"></p><br><p>  Grapesjs </p><br><p><img src="https://habrastorage.org/webt/uz/wj/5f/uzwj5frexaqpjz735_icekbkdec.png"></p><br><p>  Web designer do Google </p><br><p><img src="https://habrastorage.org/webt/hy/rq/0n/hyrq0nsfb_jcz3s4twd-e8sntoa.png"></p><br><p>  Wix </p><br><p><img src="https://habrastorage.org/webt/bo/qx/-u/boqx-ueywv-t_kheskn-v0ezibq.png"></p><br><p>  E ao editar </p><br><p><img src="https://habrastorage.org/webt/or/sg/bx/orsgbxrnaiixg_cki8c4-_sd7tw.png"></p><br><p>  Parte do texto não está visível.  Oh bem.  Do ponto de vista do desenvolvedor front-end, esse é um recurso. </p><br><p><img src="https://habrastorage.org/webt/mh/qj/cn/mhqjcn9djii9ssocep76ifmu7a8.gif"></p><br><p>  O fato é que os editores selecionam a maior parte do modelo DOM.  Mas julgue por si mesmo, você como usuário, longe do desenvolvimento de sites, acha que está tudo bem?  Não, não está tudo bem.  O conteúdo é mais do que o editor mostra.  No caso de alguns, há uma chance de perder a capacidade de selecionar um item.  É normal que o navegador aloque dessa maneira para desenvolvedores, isso é verdade por especificação. </p><br><p>  O que o usuário vê (azul, tornou o texto transparente, para a obviedade do problema), destacado pelos editores, navegadores (vermelho): </p><br><p><img src="https://habrastorage.org/webt/cg/5y/yr/cg5yyra4dzwcbb5vnb3jqjobvmw.png"></p><br><p>  Chrome </p><br><p><img src="https://habrastorage.org/webt/vf/tk/uz/vftkuzunahq_xggyxewe6_ueir0.png"></p><br><p>  Firefox </p><br><p><img src="https://habrastorage.org/webt/_u/1i/yq/_u1iyqqoyfeusm5w_xpfdrze4fu.png"></p><br><p>  Ao selecionar texto no FF, o chrome não. </p><br><p><img src="https://habrastorage.org/webt/ma/cp/ke/macpkebqeejixndozhyleaztlka.png"></p><br><p>  Então, por que esse batente em todos os editores?  Na minha experiência, direi que isso é algo difícil de entender para gerentes de produto e / ou testadores.  Como regra geral, é improvável que todos os que trabalham no editor definam <code>line-height: 1px</code> ou tentem jogar com diferentes estilos e tamanhos de texto.  Eles têm olhos turvos e esses cardumes à primeira vista elementar permanecem na zona cega.  E acredite, os clientes os encontram nos primeiros minutos. </p><br><p>  Do ponto de vista da UI / UX, isso pode não estar claro tecnicamente, e esses detalhes de implementação geralmente são deixados a critério do desenvolvedor. </p><br><p>  Então, é possível fazer uma seleção de fácil utilização?  Alguma idéia de como destacar um elemento? <br>  A seleção deve incluir itens como <del>  margem </del>  , estofamento, borda.  O modelo de tamanho não é simples: </p><br><p><img src="https://habrastorage.org/webt/ti/og/bg/tiogbgalrcdz5gsq8z0sunuozcq.png"></p><br><p>  Na minha caixa de areia: </p><br><p><img src="https://habrastorage.org/webt/4z/4f/2o/4z4f2oj64higysv4mwtursdvgbo.png"></p><br><p>  Talvez a informação mais útil que extraí do msdn: </p><br><p><img src="https://habrastorage.org/webt/xs/ib/_r/xsib_rshhtuuqsrzmipksfhkd-i.png"></p><br><p>  Mas não há resposta para a nossa pergunta. </p><br><p>  Vamos tentar o que o DOM nos fornece em primeiro lugar.  Temos esse layout: </p><br><pre> <code class="hljs pgsql"> font-size: <span class="hljs-number"><span class="hljs-number">54</span></span>px; <span class="hljs-type"><span class="hljs-type">line</span></span>-height: <span class="hljs-number"><span class="hljs-number">0</span></span>px; <span class="hljs-comment"><span class="hljs-comment">/*   ,     */</span></span> border: <span class="hljs-number"><span class="hljs-number">10</span></span>px solid; padding: <span class="hljs-number"><span class="hljs-number">10</span></span>px;</code> </pre> <br><p><img src="https://habrastorage.org/webt/by/0n/di/by0ndiu0vxfqo9uotfxmhahxt7m.png"></p><br><p>  O tamanho do conteúdo visível é 62px, o navegador mostra 40px.  Como obter 62px? </p><br><p>  getBoundingClientRect nos retorna - 40px <br>  clientHeight - 20 px <br>  scrollHeight - 41px </p><br><p>  Você pode brincar com a matemática por muito tempo, mas eu não encontrei soluções usando essa abordagem. <br>  Mas, como ~ 5 anos atrás, eu sabia que era a chave para destacar o texto.  Bem, se você selecionar o texto, a seleção será exatamente a mesma que precisamos: </p><br><p><img src="https://habrastorage.org/webt/we/sc/po/wescpozlladamt4zra2t6-7i_qm.png"></p><br><p>  Não é um bom exemplo, mas a altura com a qual temos o principal problema - tudo é legal.  Mas como distinguir como faz alguma mágica do sistema? </p><br><p>  Depois de tantos anos, pesquisei no Google (aprendi!), Infelizmente, como pesquisei e o link foi perdido, mas aqui está a solução: </p><br><pre> <code class="hljs pgsql"> const range = document.createRange(); let rangeRect; range.selectNode(elm); rangeRect = range.getBoundingClientRect();</code> </pre> <br><p>  Crie um <code>range</code> , selecione um nó e tire-o do <code>range</code> <code>ClientRect</code> .  Voila!  Além disso, a seleção funciona para tudo.  Você pode selecionar partes inteiras da página ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://developer.mozilla.org/en-US/docs/Web/API/Range</a> ). </p><br><p>  Tanto em altura como em largura, o destaque perfeito. </p><br><p><img src="https://habrastorage.org/webt/8_/9a/pn/8_9apnhsaht4i_2yb67mffxu-9s.png"></p><br><p>  (O destaque no editor será uma borda azul, sem fundo. Texto selecionado para mostrar a seleção do sistema.) </p><br><p>  Outra parte menos importante do destaque é como mostrá-lo?  Alguma idéia?  Um monte de maneiras.  Começando pela borda, terminando com um elemento flutuante adicional. </p><br><p>  Antes de tudo, decida fazer isso em um <code>iframe</code> ou sobre um <code>iframe</code> , falamos sobre os prós e os contras acima. </p><br><p>  A borda não se encaixa, porque adiciona tamanho ao elemento e, e se o usuário definir sua borda para o elemento?  O mesmo com o <code>outline</code> , o Grapesjs peca fazendo uma seleção através dele. </p><br><p>  No meu caso, usei :: before, mas isso também não é legal.  A maneira mais confiável é fazer 4 tiras e posicioná-las nas bordas (que no futuro serão elementos de redimensionamento do elemento) ou bloquear na parte superior.  É melhor escolher entre essas duas opções, combinando-as o máximo possível.  O excesso de posicionamento da página não ajuda a otimizar uma interface do usuário já sobrecarregada.  Portanto, quanto mais multifuncionais você posicionar, melhor. </p><br><h4 id="eto-ne-vse">  Isso não é tudo </h4><br><p>  Acabamos de realizar a seleção.  Mas essa seleção está no nível de apontar e ver.  Há mais dois problemas associados a ele que deixarei para você pensar por si mesmo.  Eles não são tão desagradáveis. </p><br><ol><li>  As dimensões de um elemento mudam ao editar.  Você precisa acompanhar isso e atualizar a seleção.  É exatamente disso que meu editor e o Google Web Designer estão cansados.  Nem sempre, mas frequentemente. </li><li>  Para fazer um rótulo / seleção sobre um elemento, deixando o usuário saber o que é esse elemento, você precisa saber o que é.  Portanto, o elemento deve ser inicializado no seu editor.  O desempenho do editor depende disso.  Pode haver mais de cem elementos em uma página, e apenas pegar e inicializar tudo na inicialização nem sempre é a melhor idéia.  Mas no caso do meu editor, como ok.  haha  A inicialização pode ser feita clicando-se, ao passar o mouse, pela teoria da frequência de uso. </li></ol><br><h3 id="redaktirovanie">  Edição </h3><br><p>  Desde que começamos a falar sobre o destaque com um texto de exemplo, vamos rapidamente editá-lo. </p><br><p>  De fato, o texto é a segunda parte importante do editor após as figuras e o destaque :) </p><br><p>  Bem, veja como fazê-lo para que, quando eu selecionar parte do texto e clicar em alguma funcionalidade de formatação, formatar o texto selecionado exatamente? </p><br><p>  Se você é filho de um amigo e um desenvolvedor engenhoso da mãe, certamente dirá: envolva o texto selecionado.  Ah, e você estará certo, quase como se Ilon tivesse respondido que, para construir um foguete, contratasse cem engenheiros. </p><br><p>  Quebrar o texto selecionado não é tão fácil.  Como resultado, haverá várias tags, e como segurá-las posteriormente com a próxima seleção e formatação é uma grande questão.  Estudei o mesmo CKEditor por um longo tempo e descobri um milagre: </p><br><pre> <code class="hljs">contentEditable</code> </pre> <br><p>  ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/contentEditable</a> ) </p><br><p>  Este é um editor de panquecas no navegador.  Isso não apenas nos dá a oportunidade de escrever um texto, mas também de formatá-lo. </p><br><p>  Artigos relacionados: </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Editable_content/Rich-Text_Editing_in_Mozilla</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Editable_content</a> </li></ul><br><p>  Essa API permite executar comandos de formatação no texto selecionado: </p><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> = document.execCommand(aCommandName, aShowDefaultUI, aValueArgument)</code> </pre> <br><p>  , ,  ,           . </p><br><p>     .      ,  ,             .    ,       .     .    ,   . </p><br><p> <code>contentEditable</code>        .   ,        .    .      ,    .         . </p><br><p>   , <code>contentEditable</code>    ,   CKEditor, CodeMirror,  .          .         ,         . </p><br><p>       ,      .      ,          ,   CKEditor.  ,   .   ,     ,      .        <code>iframe</code>         .      ,    .   ,           /.      <code>contentEditable</code>       .    <code>contentEditable</code> .  Wix, 2018 .      ,      <code>iframe</code> .         :)   ,   ,    .    ,  ,          .        .     ,     .         ,    . </p><br><p>  : </p><br><p><img src="https://habrastorage.org/webt/vu/di/sx/vudisxcbvdnll65w4i5cvhpzfnm.png"></p><br><p>        : </p><br><p><img src="https://habrastorage.org/webt/se/et/4u/seet4uwrlrqatgwp0hl-5e6-1d0.png"></p><br><p>        . </p><br><h3 id="resayz-elementov">   </h3><br><p>  ,       ,  , ,      /  ,   /     .    <code>0,0</code>  ,     : </p><br><p><img src="https://habrastorage.org/webt/zp/45/sk/zp45skikovnmwxv6xmuurtpef9s.png"><br> (svg/dom element) </p><br><h3 id="rabota-s-elementami-vc-mvc-i-vse-takoe">   , VC++, MVC    </h3><br><p>           ,        ,    Visual C++, C#, Delphi  .  -  ,    Backbone  ,          ,           //. </p><br><p><img src="https://habrastorage.org/webt/td/eg/pu/tdegpub5m4bj-fb4ncgxud05f8a.jpeg"></p><br><p>    ,  - ,    ,   <code></code> , <code></code>  .         : </p><br><p><img src="https://habrastorage.org/webt/hm/_y/mh/hm_ymhue2rsd6mrsxnvgp9buaka.jpeg"><br>  ,    ,    . </p><br><p>  ,         CSS,              . </p><br><p> Backbone,         (View),  (Model)   (Collection).      (Router).       View. MV*, MVV,    . </p><br><p>  ,     Backbone,    .      View  .       CSS .     ,        View     . </p><br><p>       ,   ,    View  .    View  Model    .        ,       .            ,        View  .  ,      .    ,  <code>.parent</code>      . </p><br><p><img src="https://habrastorage.org/webt/lm/t_/os/lmt_os4npi7ymexhji-mdtgdjta.png"></p><br><p>  View ,     View  Model,  <code>data-</code>    .    , Model              ,      . ,  Backbone,     React,   DOM,       .    ,      .    50-100     -  . </p><br><p>  ,      ,     HTML. ,   ,       .    virtual dom,      JS.      — . !,      .    Wix,             : </p><br><p>  : </p><br><p><img src="https://habrastorage.org/webt/pi/ob/kl/piobkly8pmrwgdilipji6_lpdh8.png"></p><br><p>       : </p><br><p><img src="https://habrastorage.org/webt/nu/tf/l_/nutfl_4ot5oqluo9btnvq5_b6so.png"></p><br><p>    ,    : </p><br><p><img src="https://habrastorage.org/webt/4l/gf/un/4lgfun5qzl7_uu0nlewhl78qyr0.png"></p><br><p>    ,       .  .   React. </p><br><p>    CSS  ,       .       ,  HTML,        .  ,      . </p><br><p>   ,            <code>&lt;style&gt;</code>   .            ,     .       . </p><br><h4 id="hranenie-dannyh">   </h4><br><p>     <code>data-</code> , html   .      !== .     html     .        ,      ID,     ,           . </p><br><h4 id="redaktirovaniepredprosmotrprosmotr"> // </h4><br><p>    . ,        .       .  , ,    . </p><br><p>             .      .    . </p><br><h4 id="react-polymer-vue-rodilsya-pozzhe-angular-shutka"> React? Polymer? Vue ( )? Angular (!)? </h4><br><p>   3              ,     React    Polymer,  React   Web Components. </p><br><p>   ,       (Polymer),      .        .      .     Shady DOM     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="></a> , ,    .      ,        . </p><br><h4 id="react">  Reagir </h4><br><p>      :)   .  React           : </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> rootElement = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"root"</span></span>).contentDocument.body; ReactDOM.render(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">App</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">, rootElement);</span></span></code> </pre> <br><p>     HTML,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">ReactDOM.hydrate(element, container[, callback])</a> ,     -    DOM React.      .  Isso é demais.  ,   ,         Virtual DOM     .    . </p><br><p>      ,     . Redux, Flux, Mobx   .            Redux,    . </p><br><p>       Marrionett  .     Backbone.    .    . </p><br><p>    ,     .     ?        React,  .      DOM?       ?  <code>ReactDOM.hydrate</code>   HTML?   ,        . </p><br><h3 id="responsive-and-adaptive"> Responsive and Adaptive </h3><br><p>        .    ,   ,       .       960px.       ,     ,    -  .      . </p><br><p>   ,      ,    .    ,     . </p><br><p><img src="https://habrastorage.org/webt/0o/4s/ko/0o4skozzucxwfcbp4llwch8rlzk.png"></p><br><p>      ,   <code>relative</code> .     ,   .     .     .       . </p><br><p><img src="https://habrastorage.org/webt/yf/3l/pt/yf3lptxzpieufnpgpgvfr7q8aso.png"><br> (    ) </p><br><p>    ,    .    ,      ,   ,      .      . </p><br><p><img src="https://habrastorage.org/webt/pu/sa/81/pusa811bvrhllottdbeium-ekrg.png"></p><br><h4 id="ogranichenie-03">  03 </h4><br><p>   , .     .    . </p><br><p><img src="https://habrastorage.org/webt/vn/bk/te/vnbktefl9_obc9yjhzn8jyxupeu.png"></p><br><p>     960px,    .          . </p><br><p>   , ,         . Wix,         .      ,                 . </p><br><p>       .  Sim sim  ,     ,      ,       —    . </p><br><p><img src="https://habrastorage.org/webt/53/5p/ac/535pac6n0v8k9jmst-ni5slsvsa.gif"></p><br><p>      .     :) </p><br><h4 id="12-druzey-verstki-fleks-gridy"> 12  , , . </h4><br><p> 12  , ?  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">https://grapesjs.com/</a> ,       . </p><br><p><img src="https://habrastorage.org/webt/xm/-s/zw/xm-szwfalmrkyq3-pvttn-cfjic.png"></p><br><p>  ,      ,           .        ,         .     .       . </p><br><h4 id="zagotovki-shablonchiki-i-platnyy-servispomosch-mutnye-lyudi-vokrug"> ,    /,    </h4><br><p>        .                .        ,                  .      .    ,       UI/UX. </p><br><p><img src="https://habrastorage.org/webt/4p/eu/ou/4peuoum15qwic5jpd9iqnzjrx7e.png"></p><br><p><img src="https://habrastorage.org/webt/j_/bg/tx/j_bgtxifdftyiln2378mk_khgtk.png"></p><br><p><img src="https://habrastorage.org/webt/5k/q0/gv/5kq0gv5xbatji2jellyyumqrh4i.png"></p><br><p>   -        ,     , ,  —   . </p><br><p>  ,   ,   ,   .       .  ,  ,        . </p><br><h3 id="itak">  </h3><br><p>     . C       .   UI/UX.         ,     undo/redo ,    .   ,     HTML    localStorage… ,      . </p><br><p><img src="https://habrastorage.org/webt/ro/9i/3i/ro9i3idfnbnlxeu3umw8sfwb9bs.gif"></p><br><p>      .        ,    ,           — .     ,     , . </p><br><p> <strong>PS</strong>      .   ,      .      ,  :) </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt417637/">https://habr.com/ru/post/pt417637/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt417617/index.html">Cassandra para armazenar metadados: sucessos e falhas</a></li>
<li><a href="../pt417621/index.html">O que aconteceu quando quebramos a exibição?</a></li>
<li><a href="../pt417627/index.html">Hyper CRM ou Mini ERP? Negócios bagunçados</a></li>
<li><a href="../pt417629/index.html">Delphi e C ++ Builder Community Edition</a></li>
<li><a href="../pt417631/index.html">Tutorial em vídeo da grade CSS</a></li>
<li><a href="../pt417639/index.html">O reverso do Neuromancer. Parte 4: Som, Animação, Huffman, Github</a></li>
<li><a href="../pt417641/index.html">10 cursos de aprendizado de máquina em verão</a></li>
<li><a href="../pt417643/index.html">Cavaleiros da capa e rootkits: o que ver sobre hackers. Programas de TV</a></li>
<li><a href="../pt417645/index.html">Concurso de programação: negociação (resultados intermediários e anúncios)</a></li>
<li><a href="../pt417647/index.html">Um projeto de lei sobre a proteção de dados pessoais apresentado na Bielorrússia - o que está “dentro” dele</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>