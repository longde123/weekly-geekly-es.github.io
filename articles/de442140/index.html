<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐣 🈹 ☝🏿 So deaktivieren Sie den Spectre-Schutz: Dem Linux-Kernel wurde ein neuer Parameter hinzugefügt 🚵🏾 👨🏼‍⚖️ 👧🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Im Linux-Kernel wurde ein Flag angezeigt, das den Schutz vor Spectre v4-Schwachstellen in allen untergeordneten Prozessen auf dem Server deaktiviert. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>So deaktivieren Sie den Spectre-Schutz: Dem Linux-Kernel wurde ein neuer Parameter hinzugefügt</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/1cloud/blog/442140/">  Im Linux-Kernel wurde ein Flag angezeigt, das den Schutz vor Spectre v4-Schwachstellen in allen untergeordneten Prozessen auf dem Server deaktiviert.  Mehr zum neuen Parameter - unter dem Schnitt. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/25/9x/p2/259xp2x-uwaukqzuau_duxb9inc.jpeg"></a> <a name="habracut"></a><br>  <font color="#A9A9A9"><i>/ Flickr / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rie H</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CC BY</a> / Foto geändert</i></font> <br><br><h2>  Warum mussten Sie den Schutz deaktivieren? </h2><br>  Die Schwachstellengruppe der Spectre-Prozessoren wurde erstmals Anfang 2018 bekannt, und in den nächsten Monaten wurde diese Familie mit neuen „Sicherheitslücken“ aufgefüllt.  Sicherheitslücken sind mit dem Betrieb von Systemen verbunden, die die Prozessorleistung steigern - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">spekulatives</a> Schreiben und Lesen sowie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Vorhersagen von Übergängen</a> - und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">es</a> Angreifern <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ermöglichen</a> , Speicherisolationsmechanismen in Prozessoren von Intel und AMD zu umgehen. <br><br>  Um die Sicherheitslücken zu schließen, geben Entwickler von Betriebssystemen Patches heraus. Die Installation dieser Patches führt jedoch häufig zu einer Verringerung der Servergeschwindigkeit.  Auf Linux-Computern <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">reduzieren</a> beispielsweise einige Spectre-Patches <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die</a> Leistung um 30 bis 50%. <br><br>  Die Systemadministratoren waren mit dem Problem insbesondere in großen Rechenzentren unzufrieden.  Sie baten Linux-Kernel-Entwickler, den Spectre-Schutz selektiv zu deaktivieren.  Einige der entdeckten Schwachstellen sind nur theoretischer Natur und können in einer Reihe von Systemen grundsätzlich keinen Schaden anrichten.  Beispielsweise werden Renderfarmen und Offline-Supercomputer vom Internet getrennt, sodass sie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">keine Angst vor</a> schädlichen Code-Injektionen haben. <br><br>  Das Linux-Team traf Benutzer und führte verschiedene Funktionen ein, die den Schutz vor Schwachstellen Spectre v1, v2 (wir werden später mehr darüber sprechen) und v4 deaktivieren.  Die letzte davon wurde Anfang Februar für alle aktuellen Kernelversionen eingeführt - dies ist das neue Flag PR_SPEC_DISABLE_NOEXEC. <br><br><h2>  Was und warum deaktiviert die Funktion </h2><br>  Die Sicherheitsanfälligkeit von Spectre v4 wird als Speculative Store Bypass bezeichnet.  Es ermöglicht Malware, auf spekulative Computerergebnisse zuzugreifen, die der Prozessor zuvor als unnötig verworfen hat. <br><br>  Diese Situation tritt auf, wenn die CPU abwechselnd mit indirekter Adressierung liest und schreibt.  Das Lesen erfolgt häufiger als das Schreiben, und der Prozessor kann Daten aus dem Speicher verwenden, um die Leseadresse zu bestimmen, ohne auf die Berechnung des Versatzes der indirekten Adressierung zu warten.  Wenn nach der Berechnung des Versatzes ein Schnittpunkt der Speicherbereiche zum Schreiben und Lesen erkannt wird (dh das Lesen wurde aus dem falschen Bereich durchgeführt), wird die zweite Operation erneut ausgeführt und das spekulative Ergebnis verworfen. <br><br>  Theoretisch stellt sich heraus, dass ein Angreifer, wenn er die Adressen und die Struktur von Speicherzellen kennt, Daten daraus extrahieren kann, beispielsweise Verschlüsselungsschlüssel. <br><br>  Der Patch für Spectre v4 erschien einige Tage nach der Veröffentlichung von Informationen über die Sicherheitsanfälligkeit im Linux-Kernel. Standardmäßig <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">wurde</a> die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Speicherdisambiguierungsfunktion deaktiviert</a> , die eine außergewöhnliche Ausführung von Befehlen ermöglichte.  Dies <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">verlangsamte jedoch die</a> Prozessor-E / A-Operationen um 10–40%. <br><br><img src="https://habrastorage.org/webt/ug/hf/ea/ughfeapypkngowzen4e-cpxrnlo.jpeg"><br>  <font color="#A9A9A9"><i>/ Flickr / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rie H</a> / <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">CC BY-SA</a></i></font> <br><br>  Anfang Juni 2018 ermöglichte die Kernel-Version 4.17 die Deaktivierung dieses Schutzes.  Es gab ein Problem: Der Parameter wurde nicht vom übergeordneten an den untergeordneten Prozess übergeben.  Für sie musste der Schutz manuell deaktiviert werden, was den Systemadministratoren Unannehmlichkeiten bereitete.  Anfang Februar implementierten Kernel-Entwickler das Flag <b>PR_SPEC_DISABLE_NOEXEC</b> .  Es ergänzt die vorherige Funktion und kopiert den Betriebsmodus des Patches von Spectre v4 aus dem übergeordneten Prozess in die untergeordneten.  PR_SPEC_DISABLE_NOEXEC ist Teil von prctl und kann beim Start eines neuen Prozesses aktiviert werden. <br><br><h2>  Was Experten sagen </h2><br>  In der Mailingliste der Linux-Kernel-Entwickler wurde die Einführung des neuen Flags <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">von</a> Waiman Long von Red Hat geschrieben.  Ihm zufolge wirkt sich der Schutz vor Spectre v4 erheblich auf die Leistung von Anwendungen aus, die viele Schreibvorgänge ausführen, z. B. Datenbanken.  PR_SPEC_DISABLE_NOEXEC hilft dabei, die Überprüfung zum Deaktivieren des Patches zu automatisieren und Server mit einer großen Anzahl gleichzeitig laufender Prozesse zu beschleunigen. <br><br>  Gleichzeitig stellen die Teilnehmer der IT-Community fest, dass der unachtsame Umgang mit einer neuen Flagge in bestimmten Situationen zu unangenehmen Konsequenzen führen kann. <br><br><blockquote>  „Es ist erwähnenswert, dass es in einigen Umgebungen nicht sicher ist, den Schutz vor Spectre v4 zu deaktivieren“, sagt Sergey Belkin, Leiter der Entwicklungsabteilung des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">IaaS-Anbieters 1cloud.ru</a> .  - Dazu gehören beispielsweise Webdienste mit Java und JavaScript.  Die Offenlegung des Inhalts des Steuerungsprozesses durch verwalteten Code kann für die Anwendungssicherheit schwerwiegend sein. “ </blockquote><br><h2>  Informationen zu anderen Spectre-Patches im Linux-Kernel </h2><br>  Zusätzlich zum PR_SPEC_DISABLE_NOEXEC-Flag verfügt der Linux-Kernel über weitere Parameter, die den Spectre-Schutz deaktivieren. <br><br>  Der erste ist <b>nospectre_v2</b> .  Die Funktion deaktiviert den Schutz vor Spectre v2, wodurch Angreifer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">den Übergangsvorhersageblock verwenden können,</a> um den Prozessor zu zwingen, eine Operation in einem bestimmten Speichermodul spekulativ auszuführen.  Zum Schutz <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">deaktiviert</a> der Patch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die</a> Funktion zur indirekten Vorhersage von Übergängen und verhindert die Übertragung empfangener Informationen zwischen Threads im selben CPU-Kern. <br><br>  Das Deaktivieren des Schutzes führt zu einer Steigerung der Prozessorleistung um 30%. Dies ist der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Fall,</a> nachdem ein Patch von Spectre v2 installiert wurde.  Sogar der Linux-Entwickler Linus Torvalds unterstützte die neue Funktion.  Ihm zufolge bedroht die Sicherheitsanfälligkeit nur Prozessoren mit der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">SMT-</a> Funktion. In diesem speziellen Fall ist es rentabler, sie zu deaktivieren. <br><br>  Der zweite Parameter - <b>nospectre_v1</b> - deaktiviert den Schutz vor der ersten Spectre-Option.  Mithilfe von Malware können Hacker dazu führen, dass der Prozessor das Ergebnis eines bedingten Übergangs falsch vorhersagt und die Ergebnisse spekulativer Berechnungen im von Hackern benötigten Speicherbereich verwirft.  Obwohl der Patch von Version 1 die Leistung nicht wesentlich beeinträchtigt (einigen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Berichten</a> zufolge kann die Reduzierung der Prozessorgeschwindigkeit überhaupt vernachlässigt werden), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">baten</a> die Entwickler <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">darum,</a> die Möglichkeit hinzuzufügen, diesen Schutz für den Kernel zu deaktivieren.  Dies ermöglichte es uns, die Struktur von Netzwerken zu vereinfachen, die vom externen Zugriff isoliert sind. <br><br>  Die Linux-Kernel-Community bleibt der Idee der freien Wahl treu, die Linus Torvalds zu Beginn festgelegt hat: Die Benutzer selbst sind dafür verantwortlich, die Sicherheit und Leistung von Linux-Systemen in Einklang zu bringen.  Es ist daher zu erwarten, dass beim Erkennen neuer Schwachstellen, die Spectre im Kernel ähneln, sowohl ein Patch als auch die Möglichkeit zum Deaktivieren angezeigt werden. <br><br><h5>  Beiträge aus unserem Unternehmensblog: </h5><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Meltdown and Spectre: Neujahrs-Prozessor-Sicherheitslücke</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Dateisicherung: So schützen Sie sich vor Datenverlust</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">1cloud Cloud Architecture Evolution</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de442140/">https://habr.com/ru/post/de442140/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de442130/index.html">3CX v16-Tests auf Raspberry Pi 3B + und WebMeeting-Update</a></li>
<li><a href="../de442132/index.html">Beginnen Sie mit Azure Machine Learning mithilfe des Python SDK</a></li>
<li><a href="../de442134/index.html">128 Charakterberechnungen: Gewinner des Wolfram Single-Line-Wettbewerbs</a></li>
<li><a href="../de442136/index.html">Eine anderthalbtägige Vorhersage der Windkraft wird dazu beitragen, die Ausgangsleistung von Windgeneratoren zu optimieren</a></li>
<li><a href="../de442138/index.html">Zusammengesetztes "Datenquellen" -Objekt und Elemente eines funktionalen Ansatzes</a></li>
<li><a href="../de442142/index.html">Roskomnadzor hat versehentlich die Stubs der Anbieter blockiert</a></li>
<li><a href="../de442144/index.html">GitLab 11.8 mit JavaScript-Unterstützung in SAST, Untergruppen in Pages und Fehlerverfolgung veröffentlicht</a></li>
<li><a href="../de442146/index.html">Energizer Phone: 18.000 mAh saubere Energie</a></li>
<li><a href="../de442148/index.html">VS Code - Puppenspieler-Schnipsel</a></li>
<li><a href="../de442150/index.html">Neurosexismus: Den Mythos entlarven, dass Männer und Frauen unterschiedliche Gehirne haben</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>