<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üï§ üóØÔ∏è üïâÔ∏è Telegramas a√∫n m√°s secretos üë©üèª‚Äçüè≠ üèáüèΩ üë©üèæ‚ÄçüöÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sol√≠amos pensar en Telegram como un medio de transmisi√≥n confiable y seguro para mensajes de cualquier tipo. Pero bajo el cap√≥, tiene una combinaci√≥n ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Telegramas a√∫n m√°s secretos</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/452434/"><p>  Sol√≠amos pensar en Telegram como un medio de transmisi√≥n confiable y seguro para mensajes de cualquier tipo.  Pero bajo el cap√≥, tiene una combinaci√≥n bastante com√∫n de cifrados sim√©tricos y a.  ¬øD√≥nde est√° la diversi√≥n en eso?  Y de todos modos, ¬øpor qu√© alguien confiar√≠a sus mensajes al tercero? <br><img src="https://habrastorage.org/webt/fj/xl/ka/fjxlkasq2yqy1vfjle83rlnc4js.png" alt="Spy vs Spy de Antonio Proh√≠as"><br>  TL; DR: inventar un canal secreto privado sobre usuarios que se bloquean entre s√≠. </p><a name="habracut"></a><br><h2 id="covert-channels">  Canales encubiertos </h2><br><p>  Hay muchas soluciones para transmitir datos entre dos usuarios evitando el contacto directo.  Puede usar intermediarios, m√©todos de criptograf√≠a y esteganograf√≠a, redes de transmisi√≥n de retransmisi√≥n y otras extensiones de protocolos existentes.  Pero a veces es √∫til poder establecer un contacto seguro utilizando solo caracter√≠sticas documentadas oficialmente.  O como uno deber√≠a decir, configure un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">canal secreto</a> . </p><br><p> Podemos ver un ejemplo de ello en una pel√≠cula de esp√≠as sovi√©tica "Diecisiete momentos de la primavera" (esta es, como, realmente buena, intenta verla).  En ella, una flor en la ventana de la casa de seguridad se usaba para indicar si el esp√≠a hab√≠a fallado en su misi√≥n o no.  La flor en s√≠ misma no significa nada: puede estar all√≠ y podr√≠a no estar, esa simbiosis es algo com√∫n y solo nos dice sobre el amor del due√±o por las flores.  Solo una interpretaci√≥n predeterminada distingue la informaci√≥n recibida por un esp√≠a de la recibida por un transe√∫nte aleatorio. </p><br><p><img src="https://habrastorage.org/webt/xq/z2/bs/xqz2bs06a68qp9m11r-fpqgy6fo.jpeg" alt="de la pelicula"></p><br><h2 id="in-window-flower-based-channels-in-telegram">  Canales basados ‚Äã‚Äãen flores en la ventana en Telegram </h2><br><p>  Para organizar su propio canal secreto por el mismo principio, solo necesitar√° dos cosas: una ventana y una flor.  La ventana representa un objeto que puede cambiar el estado visto por otros y la flor, posibles estados y una forma de cambiarlos. </p><br><p>  Entonces, ¬øqu√© podr√≠a cambiar Alice en Telegram que Bob pueda ver?  Muchas cosas, en realidad: avatares, nombres de usuario, hora de la √∫ltima visita y m√°s.  Pero por lo general, estas cosas est√°n disponibles para todos al mismo tiempo, lo que limita la privacidad del di√°logo: si uno posee el m√©todo de transici√≥n, podr√≠a leer cualquier cosa que Alice env√≠e.  Sorprendentemente, es posible evitar esta limitaci√≥n sin ning√∫n tipo de cifrado involucrado. </p><br><h3 id="im-blocking-you-haha">  Te estoy bloqueando, jaja </h3><br><p>  Cada usuario tiene su propia lista negra, y si el lector fue lo suficientemente molesto, deber√≠a haber notado despu√©s de ser bloqueado que su estado de "√∫ltima visita" que no era un amigo cambi√≥ a "visto por √∫ltima vez hace mucho tiempo".  La verdad es que podr√≠a haber estado en l√≠nea hace unos segundos o incluso estar en este momento, pero la API de Telegram ya no enviar√° esta informaci√≥n a su aplicaci√≥n.  De esa manera, protege la privacidad de otros usuarios de los no deseados.  A cambio, pueden ver si est√°n en la lista negra o no. </p><br><p>  Entonces, ¬øqu√© tienen en com√∫n ver una flor y ser bloqueada?  Ambos se pueden verificar en un momento dado, lo que permite recibir un bit de informaci√≥n dependiendo de si est√° bloqueado o no.  Otra ventaja es el hecho de que Telegram probablemente no almacena registros de usuarios que se bloquean entre s√≠ (a lo sumo por per√≠odos cortos en el diario). </p><br><h2 id="organizing-bits">  Bits de organizaci√≥n </h2><br><p>  La posibilidad de enviar y recibir bits es divertida y todo, pero a√∫n necesitamos describir su mecanismo de explotaci√≥n.  Telegram se niega a notarlo cuando est√° bloqueado, por lo que cada acci√≥n de 'recibir bit' debe ser inicializada por el destinatario (llam√©moslo Bob) y no depender del remitente (y ella ser√° Alice), es decir, de forma independiente.  Tambi√©n se deduce que Alice y Bob deben hacer solicitudes con la misma frecuencia. </p><br><p>  El algoritmo de intercambio de bits en cada reloj se ve as√≠: </p><br><ul><li>  A comprueba enviando un bit y si tiene un valor diferente al anterior, cambi√°ndolo dependiendo de un valor: <br><ul><li>  A -&gt; T: bloque B si el bit es 1; </li><li>  A -&gt; T: desbloquear B si el bit es 0. </li></ul></li><li>  B recibe un poco: <br><ul><li>  B -&gt; T: resolver A; </li><li>  T -&gt; B: disponible para informaci√≥n de B sobre A; </li><li>  B: comprueba si la informaci√≥n recibida tiene un estado: <br><ul><li>  B: si es -&gt; no est√° bloqueado y el bit es 0 </li><li>  B: si no es -&gt; √©l est√° bloqueado y el bit es 1 </li></ul></li></ul></li></ul><br><p>  La mayor√≠a de las PC modernas tienen buenos generadores de frecuencia (un reloj del sistema, por ejemplo) para que podamos sincronizar nuestros relojes con ellos sin utilizar el canal para transmitir nada, excepto los bits de mensaje.  Solo vale la pena notar que las solicitudes de API de Telegram, tanto el (des) bloqueo como la resoluci√≥n del estado del usuario, son llamadas de red y no tienden a funcionar r√°pidamente, especialmente si est√° usando proxies o VPN.  Esto produce una limitaci√≥n: la longitud del reloj debe ser m√°s larga que un tiempo de respuesta promedio (ya que necesitamos ajustar uno en el otro) y es por eso que nuestra velocidad de transmisi√≥n de datos ser√° limitada. </p><br><h3 id="encoding-messages">  Codificar mensajes </h3><br><p>  Los textos en idiomas naturales tienen una redundancia bastante alta, y los mensajes recibidos con errores seguir√°n siendo legibles en su mayor√≠a por un humano.  Y dado que Telegram es un mensajero (ignorando algunas <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">cosas locas</a> ), podemos descuidar la correcci√≥n de errores que limita la posible transmisi√≥n de datos a mensajes de texto simples. </p><br><p>  Nuestro canal tiene un ancho de banda extremadamente bajo, por lo que debemos usar la codificaci√≥n de mensajes m√°s efectiva disponible para posibles mensajes.  Afortunadamente, el nombre del mensajero nos recuerda las veces que ese problema era com√∫n. </p><br><p>  Es por eso que nosotros, que vivimos en el siglo XXI, codificaremos nuestros textos con una de las codificaciones m√°s eficientes disponibles para los telegrafistas hace cien a√±os: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el c√≥digo Baudot</a> .  M√°s precisamente, su variaci√≥n final ITA-2 creada por <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Donald Murray</a> para realizar menos llamadas API en los s√≠mbolos m√°s frecuentes del lenguaje. </p><br><p> Lo √∫nico que queda para transmitir con √©xito un mensaje es encontrar los l√≠mites de una sesi√≥n de transmisi√≥n para que el destinatario pueda encontrar uno enviado entre el flujo continuo de bits.  Antes de que comience la transmisi√≥n, Bob est√° bloqueado o no, y su estado no cambia por s√≠ solo en el corto plazo.  Es por eso que Alice puede se√±alar el inicio de la sesi√≥n intercambi√°ndola a un opuesto por solo un reloj.  Al final exitoso de la sesi√≥n, ella lo desbloquear√° y se ir√° con paz.  √âl, por otro lado, continuar√° recibiendo cero bits hasta que decida que no son parte del mensaje: el c√≥digo Baudot no tiene el s√≠mbolo <code>00000</code> . </p><br><p><img src="https://habrastorage.org/webt/vx/fa/0q/vxfa0q7-ko6isor152okxwclvto.png" alt="En la l√≠nea de tiempo"></p><br><p>  Los inconvenientes del m√©todo son una imposibilidad pr√°ctica de conectarse (puede, pero probablemente requerir√° una correcci√≥n manual de errores debido al cambio de bits) a la traducci√≥n en curso y la necesidad de separar los s√≠mbolos nulos recibidos con los errores enviados.  Pero hay todos los problemas de implementaci√≥n. </p><br><h2 id="high-tech">  Alta tecnolog√≠a </h2><br><p>  Despu√©s de pasar varias horas tratando de usar <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">una biblioteca oficial</a> para usar la API, me cans√© y escrib√≠ todo con un Python usando una biblioteca de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Telethon</a> m√°s amigable para los humanos.  Incluso tiene una API de estilo s√≠ncrono por algunas extra√±as razones raras hoy en d√≠a.  Codificaci√≥n de mensajes con ITA-2 que escrib√≠ yo mismo, ya que no he encontrado nada √∫til en Internet. </p><br><p>  La sincronizaci√≥n del reloj se realiza con los relojes del sistema (y s√≠, ¬°duerme () s! En el medio) ya que es lo suficientemente preciso teniendo en cuenta que el tiempo requerido en cada llamada API de red es m√°s de una d√©cima de segundo en la mayor√≠a de los casos.  El usuario puede establecer la velocidad de transmisi√≥n como lo desee, pero le recomiendo seguir la regla de 'no m√°s de una solicitud por segundo' si no desea ver los errores en el otro lado y verse prohibido por un sistema de prevenci√≥n de inundaciones.  Telegram result√≥ ser muy exigente con el uso de API, bloqueando mi acceso por un d√≠a incluso con unos pocos intentos de Autorizaci√≥n simples (¬°exitosos!) Seguidos y solo bloqueo aleatorio de una inundaci√≥n durante la transmisi√≥n por una raz√≥n desconocida.  Siempre deben declarar sus l√≠mites de uso de API, muchachos. </p><br><p>  Si el usuario decidi√≥ utilizar un canal tan extra√±o para intercambiar mensajes, no deber√≠a preocuparse por las caracter√≠sticas de la interfaz gr√°fica de usuario.  Y no todos los sistemas lo tienen de todos modos, es por eso que escrib√≠ mi aplicaci√≥n en forma de herramienta de terminal.  Permite enviar y recibir mensajes a trav√©s de un canal mediante una identificaci√≥n de usuario dada en los argumentos de la l√≠nea de comandos, pero solo una operaci√≥n por lanzamiento.  Por supuesto, nadie lo limitar√° a ejecutar solo una copia de un programa y utilizar m√∫ltiples canales simult√°neamente en ambos sentidos, solo tendr√° que ejecutar varias copias del mismo script con diferentes par√°metros. </p><br><h3 id="using-the-stuff">  Usando las cosas </h3><br><p>  Puede leer m√°s sobre el uso de esto como una utilidad de l√≠nea de comandos y una biblioteca python3 a trav√©s de la API en GitHub (repositorio vinculado al final).  El √∫nico problema es adquirir sus propias credenciales de API (un <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">manual</a> simple es lo suficientemente √∫til) ya que Telegram no permite revelar el m√≠o y establecerlo de acuerdo con los valores en su copia local de un script.  Todo pas√≥ a trav√©s de los argumentos de la l√≠nea de comando, excepto la parte de autorizaci√≥n que, de forma predeterminada, se realiz√≥ a trav√©s del stdio) y se ve as√≠: </p><br><pre> <code class="plaintext hljs">For Alice: For Bob: Enter your phone number: XXX | Enter your phone number: XXX Enter auth code: YYY | Enter auth code: YYY Started message transmission... | Listening for the message... ---++ ('O', '9') | ---++ ('O', '9') --+-+ ('H', '#') | --+-+ ('H', '#') +++++ (1, 1) | +++++ (1, 1) --++- ('N', ',') | --++- ('N', ',') --+-- (' ', ' ') | --+-- (' ', ' ') ++-++ (0, 0) | ++-++ (0, 0) --+-+ ('H', '#') | --+-+ ('H', '#') -++-- ('I', '8') | -++-- ('I', '8') --+-- (' ', ' ') | --+-- (' ', ' ') --+++ ('M', '.') | --+++ ('M', '.') ++--- ('A', '-') | ++--- ('A', '-') -+-+- ('R', "'") | -+-+- ('R', "'") ++++- ('K', '(') | ++++- ('K', '(') +++++ (1, 1) | +++++ (1, 1) +-++- ('F', '!') | +-++- ('F', '!') --+++ ('M', '.') | --+++ ('M', '.') --+++ ('M', '.') | --+++ ('M', '.') Done, exiting... | ----- ('', '') | ----- ('', '') | Automatically decoded: OH, HI MARK!..</code> </pre> <br><p>  El mensaje recibido se decodific√≥ autom√°ticamente, pero si desea corregir algunos errores manualmente o realizar un seguimiento del progreso, puede hacerlo mirando la salida de la l√≠nea de comandos. </p><br><h2 id="outside-of-the-telegram">  Fuera del telegrama </h2><br><p>  Vale la pena notar que dicho canal podr√≠a implementarse a trav√©s de cualquier mensajero y / o red social en la que uno pueda detectar si est√° bloqueado o no por otros usuarios.  Las interfaces similares se pueden reemplazar f√°cilmente en el c√≥digo existente, por lo que si desea hacerlo, solo use la base de la mina.  El bajo rendimiento de Python (en comparaci√≥n con lo habitual para tales cosas C / ++) no ser√° un factor limitante debido a la baja velocidad de transmisi√≥n y al tiempo de respuesta de las llamadas API. </p><br><p>  PD: Un agradecimiento especial al amor inusual de mi pasi√≥n por bloquearme. </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Versi√≥n rusa</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Espejo medio</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Github</a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/452434/">https://habr.com/ru/post/452434/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../452424/index.html">La deficiencia de helio puede retrasar el desarrollo de las computadoras cu√°nticas, discutiendo la situaci√≥n</a></li>
<li><a href="../452426/index.html">Iniciar sesi√≥n en Azure DevOps con las credenciales de GitHub</a></li>
<li><a href="../452428/index.html">Fast Yandex Dictionary</a></li>
<li><a href="../452430/index.html">QA: Hackathons</a></li>
<li><a href="../452432/index.html">De las humanidades a los desarrolladores en n√∫meros y colores.</a></li>
<li><a href="../452436/index.html">Aprender ingl√©s: cinco errores escritos no obvios y c√≥mo evitarlos</a></li>
<li><a href="../452438/index.html">La historia de la lucha contra la censura: c√≥mo funciona el m√©todo flash proxy creado por cient√≠ficos del MIT y Stanford</a></li>
<li><a href="../452440/index.html">Peque√±o, s√≠, elimine: una mirada real al proyecto japon√©s Minimal Fab</a></li>
<li><a href="../452442/index.html">Jugamos en la consola del navegador</a></li>
<li><a href="../452444/index.html">El acuerdo por $ 39 millones: por qu√© los creadores del DBMS de c√≥digo abierto decidieron hacer desarrollo m√≥vil</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>