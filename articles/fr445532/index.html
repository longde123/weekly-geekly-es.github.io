<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏽‍🌾 📥 👊🏼 20 projets, 20 langues, date limite hier 🏊 ⚕️ 🤾🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Imaginez: vous avez 7 équipes de développement totalisant plus de 100 personnes. Ils ont vu simultanément 13 demandes. Le travail est effectué dans 20...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>20 projets, 20 langues, date limite hier</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/445532/">  Imaginez: vous avez 7 équipes de développement totalisant plus de 100 personnes.  Ils ont vu simultanément 13 demandes.  Le travail est effectué dans 20 référentiels. <br><br>  Toutes les applications doivent être traduites.  Certains en 6 langues, certains en 20. Et certains en 13, mais il s'agit d'un ensemble de langues complètement différent, il n'est pas inclus dans les 20 précédents. <br><br>  Chacun a une pile différente, en raison de différents formats de ligne: js, json, ts, yaml ou yml.  Et certains conservent toujours leurs textes dans la base de données. <br><br>  Vous travaillez sur Agile: livraison de valeur quotidienne, sprints de deux semaines.  DoR comprend toutes les traductions nécessaires.  Eh bien, bien sûr, des traductions étaient nécessaires hier pour avoir le temps de tester. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1eb/c49/eae/1ebc49eae19ba18afaeb306ce033560b.jpg" alt="image"></div><a name="habracut"></a><br>  Il existe un département de rédacteurs techniques.  Qui est rédacteur technique?  Il s'agit d'une personne qui écrit de la documentation externe, parfois interne.  Écrit toutes sortes de textes que les utilisateurs ou les partenaires peuvent voir: textes frontaux, textes de message, réponses API, erreurs.  Accompagne le processus de développement pour s'immerger dans la technologie et la logique métier.  Et assure la livraison en temps opportun des traductions de l'application. <br><br>  Il y a aussi le poste de rédacteur-traducteur et de gestionnaire de localisation.  Il s'agit d'une personne qui crée tous les textes en anglais et surveille également la cohérence des traductions, nomme les traducteurs et résout tous les problèmes connexes. <br>  Attention, la question est: combien de spécifications techniques, rédacteurs et responsables de localisation sont nécessaires pour ne pas gêner le développement et ne pas nuire à l'ensemble du service technique? <br><br>  Dans notre cas, nous avons géré 4 services techniques et 1 gestionnaire de localisation de rédacteurs.  La livraison des virements tient en moyenne dans un jour ouvrable et ne dépasse jamais trois jours ouvrables.  J'espère que vous le trouverez intéressant. <br><br><h2>  Comment en sommes-nous arrivés là? </h2><br>  Il y a 6 ans, nous travaillions dans des feuilles Google et une base de données.  Autrement dit, si au cours du processus de développement, des lignes sont apparues pour la traduction, nous les avons copiées sur une tablette, puis nous les avons envoyées par courrier à la traduction.  Lorsque la traduction était prête, elle a été versée manuellement dans la base de données.  Le seul avantage de cette solution est que vous n'avez pas besoin de recaler l'application pour voir de nouvelles lignes.  Mais s'il y a une erreur dans les traductions, cela ne fonctionnera pas pour revenir en arrière.  Pas de mémoire de traduction, pas de glossaires.  La cohérence des traductions est obtenue par la méthode du regard. <br><br><h3>  Première tentative </h3><br>  La première version à automatiser ce processus ressemblait à ceci: lorsqu'un développeur avait des lignes, il les ajoutait à une nouvelle branche dans un référentiel spécial pour les traductions.  Puis, dans la même branche, un pipeline a été lancé, qui, par API, a envoyé toutes les lignes de diff pour traduction.  Certes, les traductions devaient déjà revenir à la base de données, mais il n'a pas réussi à charger les lignes de la ressource externe vers la base de données interne via l'API. <br><br>  Qu'est-ce que cette intégration a apporté?  Une étape a été supprimée où le rédacteur technique doit tout rassembler dans une table, envoyer manuellement, puis diviser les traductions reçues par application et par nombre de langues.  Dans ce cas, les lignes ont été immédiatement envoyées pour traduction dans le cadre d'un projet du même nom avec l'application à laquelle elles étaient destinées.  En conséquence, le rédacteur technique a reçu un ensemble d'archives pour chacune des applications pour lesquelles des travaux ont été effectués.  Cela a considérablement réduit la part du travail manuel.  De plus, la mémoire de traduction a été implémentée côté fournisseur.  Mais cette solution a également conservé un certain nombre d'inconvénients: le stockage des lignes dans la base de données ne permettait pas de gérer les lignes à part entière de notre côté et impliquait toujours une grande partie du travail manuel. <br><br><h3>  Douleur et localisation continue </h3><br>  L'intégration suivante a apporté beaucoup de souffrance aux développeurs.  Il me semble que ceux qui l'ont attrapé ont encore les yeux tremblants au mot «localisation».  Ce fut la première intégration avec Serge et Smartcat. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4fe/db4/065/4fedb40651055739d9eda616754b4613.jpg" alt="image"><br><br>  Ici, il est important de dire ce que sont Serge et Smartcat. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Serge</a> est un utilitaire qui prend en charge git.  Elle sait comment obtenir les lignes nécessaires de la branche, les envoyer pour traduction, puis renvoyer la traduction des mêmes lignes à la même branche uniquement.  Nous avons également besoin d'un plugin qui appellera l'API du système CAT dans lequel nous traduisons.  Le plugin devrait recevoir de nouvelles lignes de Serge et retourner les traductions prêtes à Serge. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Smartcat</a> est un système CAT <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">prenant en</a> charge le glossaire, la mémoire de traduction et les espaces réservés.  En outre, Smartcat agrège et simplifie le processus de règlement avec les pigistes, prend en charge la connexion des fournisseurs de traduction. <br><br>  À cette étape, nous avons transféré les lignes de la base de données vers le référentiel du projet.  Maintenant, les chaînes devaient être envoyées directement à partir du référentiel d'applications et y être retournées. <br><br>  Il était supposé que cela fonctionnerait comme ceci: le développeur sait à partir de quelle branche il a créé sa branche de fonctionnalité, et la différence dans les fichiers de ressources entre ces deux branches est exactement ce qui doit être traduit.  Lorsqu'un développeur dispose d'un ensemble de lignes de traduction, il commence un travail dans sa branche avec la configuration Serge.  Serge calcule le diff, extrait de nouvelles lignes, appelle le plugin et envoie les lignes pour traduction.  Lorsque les traductions sont prêtes, le développeur appelle le travail suivant: il déploie l'instance Serge créée à l'étape précédente, reçoit les traductions terminées et les valide dans la branche source. <br><br>  La solution s'est avérée instable: Serge n'était pas destiné à être déployé à partir de zéro à chaque lancement du pipeline, les développeurs ne voulaient pas penser aux différences entre les branches, et le plugin Smartcat avait un besoin urgent de mise à jour et d'amélioration.  Le processus de livraison de nouvelles lignes pourrait prendre des heures.  Et, hélas, cela n'a pas toujours réussi. <br><br>  Théoriquement, toutes les étapes du processus ont été automatisées, en fait, la maintenance, le calcul du différentiel avant le début du pipeline et le dépannage ont pris plus de temps que de faire la même tâche complètement manuellement. <br><br><h3>  La lumière au bout du tunnel </h3><br>  D'ici août 2018, nous avons lancé la version actuelle de l'intégration.  Nous avons un serveur de localisation.  Sur le serveur de chaque référentiel, il existe une instance distincte de Serge.  Serge scanne toutes les branches du référentiel, envoie de nouvelles lignes pour la traduction et valide les traductions terminées dans les branches d'origine.  Dans l'intégration actuelle, tout est rapide et stable.  Après avoir créé une branche pour les traductions, les lignes apparaissent dans Smartcat dans les 5-6 minutes.  Après avoir confirmé les transferts, la validation se produit de la même manière, dans les mêmes 5-6 minutes.  Le délai de livraison des traductions n'est limité que par le facteur humain: la charge de travail des traducteurs, la différence de fuseaux horaires, etc. <br><br>  Dans les articles suivants, je vais vous expliquer comment configurer à partir de zéro l'intégration Serge-Smartcat-Gitlab et comment nous avons résolu diverses tâches non standard. <br>  Suite: <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">20 projets, 20 langues, date limite hier.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">2e partie</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">20 projets, 20 langues, date limite hier.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">3e partie</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr445532/">https://habr.com/ru/post/fr445532/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr445518/index.html">Vieux fer: des outils électroniques qui se perdent dans les profondeurs de l'histoire</a></li>
<li><a href="../fr445520/index.html">Extensions pour Visual Studio Code qui vous aident à travailler avec Git</a></li>
<li><a href="../fr445524/index.html">Analyse de l'affichage (interface de la disposition des marchandises dans le magasin)</a></li>
<li><a href="../fr445528/index.html">AMP: L'avenir du courrier électronique</a></li>
<li><a href="../fr445530/index.html">Un autre Github 2: Machine Learning, Datasets et Jupyter Notebooks</a></li>
<li><a href="../fr445534/index.html">Norme WebAuthn officiellement terminée</a></li>
<li><a href="../fr445536/index.html">Astérisque Dialplan Askozia 6. Appels sortants</a></li>
<li><a href="../fr445538/index.html">Maison «intelligente» en termes de vulnérabilité: nous traitons les vecteurs et la mécanique d'attaque</a></li>
<li><a href="../fr445542/index.html">Lunettes de casque Optishokz pour ceux qui n'aiment pas le soleil et aiment la musique</a></li>
<li><a href="../fr445544/index.html">Résumé des nouvelles de PostgreSQL. Numéro 15</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>