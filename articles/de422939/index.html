<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè∫ ü§∏üèª üëà Das Buch "Kali Linux von Entwicklern" üë©‚Äçüéì üò∫ üë®‚Äçüöí</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo habrozhiteli! Die Autoren werden Sie Schritt f√ºr Schritt in die Grundlagen und Funktionen von Kali Linux einf√ºhren. Das Buch bietet einen kurzen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Das Buch "Kali Linux von Entwicklern"</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/422939/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/u5/j9/z7/u5j9z7uvbhipymy9n2igvy9fvvy.jpeg" align="left" alt="Bild"></a>  Hallo habrozhiteli!  Die Autoren werden Sie Schritt f√ºr Schritt in die Grundlagen und Funktionen von Kali Linux einf√ºhren.  Das Buch bietet einen kurzen Kurs zur Arbeit mit der Linux-Befehlszeile und ihren Konzepten und beschreibt typische Installationsszenarien f√ºr Kali Linux.  Nachdem Sie dieses Buch gelesen haben, lernen Sie, wie Sie Kali Linux konfigurieren, debuggen und sch√ºtzen sowie mit dem leistungsstarken Paketmanager des Debian-Distributionspakets arbeiten.  Erfahren Sie, wie Sie Kali Linux in jeder Umgebung, einschlie√ülich gro√üer Unternehmensnetzwerke, ordnungsgem√§√ü installieren.  Schlie√ülich m√ºssen Sie sich mit komplexen Themen vertraut machen: Kompilieren des Kernels, Erstellen eigener ISO-Images, industrielle Verschl√ºsselung und professioneller Schutz vertraulicher Informationen. <br><a name="habracut"></a><br><br><h3>  Kapitel 7. Schutz und Kontrolle von Kali Linux </h3><br>  Sobald Sie Kali Linux f√ºr vertraulichere und bekanntere Aufgaben verwenden, m√ºssen Sie die Sicherheit Ihrer Installation h√∂chstwahrscheinlich ernst nehmen.  In diesem Kapitel werden wir zun√§chst die Sicherheitsrichtlinie er√∂rtern, die wichtigsten Punkte bei ihrer Festlegung hervorheben und einige Bedrohungen f√ºr Ihr System und Sie als Sicherheitsexperte ber√ºcksichtigen.  Wir werden auch Sicherheitsma√ünahmen f√ºr Laptops und Desktops diskutieren und Firewalls und Paketfilterung separat betrachten.  Abschlie√üend werden wir auf √úberwachungstools und -strategien eingehen und die effektivsten M√∂glichkeiten aufzeigen, mit denen potenzielle Bedrohungen f√ºr Ihr System erkannt werden k√∂nnen. <br><br><h3>  7.1.  Definition der Sicherheitsrichtlinie </h3><br>  Es ist unangemessen, die Sicherheit allgemein zu diskutieren, da dieses Konzept eine breite Palette von Konzepten, Werkzeugen und Verfahren darstellt, die nicht universell sind.  Die Auswahl unter ihnen erfordert eine genaue Darstellung Ihrer Ziele.  Der Systemschutz beginnt mit Antworten auf mehrere Fragen.  Die hastige und r√ºcksichtslose Implementierung eines beliebigen Satzes von Dienstprogrammen f√ºhrt zu dem Risiko, Sicherheitsaspekte falsch zu definieren. <br><br>  Es ist am besten, zun√§chst ein bestimmtes Ziel zu identifizieren.  Der richtige Ansatz zur L√∂sung dieses Problems sind die Antworten auf die folgenden Fragen. <br><br>  1. Was versuchst du zu sch√ºtzen?  Die Sicherheitsrichtlinie h√§ngt davon ab, was Sie sch√ºtzen m√∂chten: Computer oder Daten.  Im letzteren Fall m√ºssen Sie auch wissen, welche Informationen gesch√ºtzt werden m√ºssen. <br><br>  2. Wovor versuchst du dich zu sch√ºtzen?  Aus dem Verlust vertraulicher Daten?  Aus versehentlichem Informationsverlust?  Aus einem Verlust, der durch einen Fehler bei der Erbringung von Dienstleistungen verursacht wurde? <br><br>  3. Vor wem versuchst du dich zu sch√ºtzen?  Die Sicherheitsma√ünahmen zum Schutz vor Tippfehlern eines einfachen Benutzers des Systems und zum Schutz vor einer bestimmten Gruppe von Eindringlingen sind v√∂llig unterschiedlich. <br><br>  Der Begriff ‚ÄûRisiko‚Äú wird normalerweise verwendet, um diese Faktoren allgemein zu definieren: Was muss gesch√ºtzt werden, was sollte verhindert werden und durch wessen Fehler kann es passieren.  Die Risikomodellierung erfordert Antworten auf alle drei Fragen.  Basierend auf dem resultierenden Modell k√∂nnen Sie eine Sicherheitsrichtlinie entwickeln und mithilfe bestimmter Aktionen implementieren. <br><br><blockquote> Bruce Schneier, ein globaler Experte f√ºr Sicherheitsfragen (nicht nur f√ºr Computer), versucht, einem der wichtigsten Sicherheitsmythen entgegenzuwirken, indem er unter dem Motto handelt: "Sicherheit ist ein Prozess, kein Produkt."  Verm√∂genswerte, die gesch√ºtzt werden m√ºssen, √§ndern sich im Laufe der Zeit, ebenso wie die Bedrohungen und Mittel, die potenziellen Angreifern zur Verf√ºgung stehen.  Selbst wenn die Sicherheitsrichtlinie urspr√ºnglich ideal entworfen und implementiert wurde, sollten Sie hier niemals aufh√∂ren.  Die Risikokomponenten entwickeln sich weiter, und Methoden zu ihrer Verhinderung sollten entsprechend entwickelt werden. </blockquote><br>  Dar√ºber hinaus sollten zus√§tzliche Einschr√§nkungen ber√ºcksichtigt werden, die den Umfang der verf√ºgbaren Richtlinien einschr√§nken k√∂nnen.  Was sind Sie bereit, um das System zu sch√ºtzen?  Dieses Thema ist f√ºr die Wahl der Politik von gro√üer Bedeutung.  Sehr oft wird die Antwort nur unter dem Gesichtspunkt der Bargeldkosten bestimmt, aber andere Elemente sollten ber√ºcksichtigt werden, wie beispielsweise die m√∂glichen Unannehmlichkeiten, unter denen Benutzer des Systems leiden werden, oder die Verschlechterung seiner Leistung. <br><br>  Sobald das Risiko modelliert ist, k√∂nnen Sie √ºber die Entwicklung einer geeigneten Sicherheitsrichtlinie nachdenken. <br><br>  Es gibt Extreme, die bei der Entscheidung √ºber das erforderliche Sicherheitsniveau ber√ºcksichtigt werden sollten.  Einerseits ist es √§u√üerst einfach, grundlegende Systemsicherheit bereitzustellen. <br><br>  Wenn ein zum Schutz definiertes System beispielsweise nur einen gebrauchten Computer enth√§lt, der am Ende des Tages nur zum Hinzuf√ºgen einiger Zahlen verwendet wird, ist es eine vern√ºnftige Entscheidung, nichts Besonderes zu tun, um ihn zu sch√ºtzen.  Der wahre Wert eines solchen Systems ist niedrig und der Wert der Daten ist vollst√§ndig Null, da sie nicht auf dem Computer gespeichert sind.  Ein potenzieller Angreifer, der in dieses System eindringt, erh√§lt nur einen Taschenrechner.  Die Kosten f√ºr den Schutz eines solchen Systems sind wahrscheinlich h√∂her als die Kosten f√ºr das Hacken. <br><br>  Die gegenteilige Situation besteht darin, die Vertraulichkeit vertraulicher Daten so vollst√§ndig wie m√∂glich zu sch√ºtzen und etwaige Einschr√§nkungen zu √ºberwinden.  In diesem Fall ist die vollst√§ndige Zerst√∂rung von Informationen (sicheres L√∂schen von Dateien, Zerkleinern von Festplatten in kleine St√ºcke, anschlie√üendes Aufl√∂sen dieser Teile in S√§ure usw.) eine geeignete L√∂sung.  Wenn es eine zus√§tzliche Anforderung gibt, dass die Daten f√ºr die zuk√ºnftige Verwendung gespeichert werden m√ºssen (nicht unbedingt in st√§ndiger Verf√ºgbarkeit) und die Kosten immer noch keine abschreckende Wirkung haben, ist es am besten, die Daten auf Iridium- und Platinlegierungsplatten in Luftschutzbunkern unter den Bergen zu speichern die Welt, von denen jede (nat√ºrlich) von einer Armee klassifiziert und gesch√ºtzt wird. <br><br>  Obwohl diese Methoden √ºbertrieben erscheinen m√∂gen, k√∂nnen sie dennoch geeignete L√∂sungen f√ºr bestimmte Risiken sein, da sie es Ihnen erm√∂glichen, Ihre Ziele mit vorgegebenen Einschr√§nkungen zu erreichen.  Aufgrund einer fundierten Entscheidung ist keine Sicherheitsrichtlinie mehr oder weniger ausreichend als jede andere. <br><br>  Zur√ºck zu einem typischeren Fall: Ein Informationssystem kann in kompatible und √ºberwiegend unabh√§ngige Subsysteme unterteilt werden.  Alle haben ihre eigenen Anforderungen und Einschr√§nkungen, daher sollte die Risikobewertung und die Entwicklung einer Sicherheitsrichtlinie f√ºr jedes dieser Subsysteme separat durchgef√ºhrt werden.  Sie sollten immer daran denken, dass eine kleine Angriffsfl√§che leichter zu sch√ºtzen ist als eine gro√üe.  Netzwerkorganisationen sollten so gestaltet sein: Anf√§llige Dienste m√ºssen sich auf eine kleine Anzahl von Computern konzentrieren, und letztere sollten √ºber eine Mindestanzahl von Routen oder Kontrollpunkten zug√§nglich sein.  Die Logik ist einfach: Es ist einfacher, Haltepunkte zu sch√ºtzen als alle anf√§lligen Computer vor der gesamten Au√üenwelt.  An diesem Punkt werden die Vorteile der Netzwerkfilterung (einschlie√ülich Firewalls) deutlich.  Diese Filterung kann mit speziellen Ger√§ten implementiert werden. Eine einfachere und flexiblere L√∂sung besteht jedoch darin, eine Software-Firewall zu verwenden, die der im Linux-Kernel integrierten √§hnelt. <br><br><h3>  7.2.  M√∂gliche Sicherheitsma√ünahmen </h3><br>  Wie oben erw√§hnt, gibt es keine einheitliche Antwort auf die Frage, wie Kali Linux gesch√ºtzt werden kann.  Es h√§ngt alles davon ab, wie Sie es verwenden und was genau Sie sch√ºtzen m√∂chten. <br><br>  <b>Auf dem Server</b> <br><br>  Wenn Sie Kali Linux auf einem √∂ffentlichen Server verwenden, sollten Sie Netzwerkdienste sch√ºtzen, indem Sie alle Standardkennw√∂rter √§ndern, die konfiguriert werden k√∂nnen, und m√∂glicherweise den Zugriff auf diese mithilfe einer Firewall einschr√§nken (Abschnitte 7.3 ‚ÄûSichern von Netzwerkdiensten‚Äú und 7.4 ‚ÄûFirewall‚Äú) oder Paketfilterung ‚Äú(siehe unten). <br><br>  Wenn Sie Benutzerkontoinformationen direkt auf den Server oder auf einen der Netzwerkdienste √ºbertragen, m√ºssen Sie sichere Kennw√∂rter festlegen (diese m√ºssen Brute-Force-Angriffen standhalten).  Gleichzeitig k√∂nnen Sie das Programm fail2ban konfigurieren, das das Knacken von Kennw√∂rtern durch eine umfassende Suche √ºber das Netzwerk erheblich erschwert (indem Sie IP-Adressen filtern, die die Grenze fehlgeschlagener Anmeldeversuche √ºberschreiten).  Sie k√∂nnen fail2ban mit dem Befehl apt update und anschlie√üend apt install fail2ban installieren. <br><br>  Wenn Sie Webdienste verwenden, konfigurieren Sie diese so, dass sie √ºber das HTTPS-Protokoll funktionieren, sodass Netzwerkintermedi√§re Ihren Datenverkehr nicht √ºberwachen (einschlie√ülich der Cookie-Authentifizierung). <br><br>  <b>Auf einem Laptop</b> <br><br>  Der Laptop eines Penetrationstest-Spezialisten ist nicht den gleichen Risiken ausgesetzt wie ein offener Server: Beispielsweise sind Sie weniger anf√§llig f√ºr versehentliche Angriffe eines Amateur-Crackers, und in diesem Fall verf√ºgen Sie zu diesem Zeitpunkt wahrscheinlich nicht √ºber aktive Netzwerkdienste. <br><br>  Das reale Risiko entsteht h√§ufig, wenn Sie von einem Kunden zum anderen reisen.  Beispielsweise kann Ihr Laptop w√§hrend einer Reise gestohlen oder vom Zoll beschlagnahmt werden.  Aus diesem Grund lohnt es sich, die vollst√§ndige Festplattenverschl√ºsselung zu verwenden (siehe Abschnitt ‚ÄûInstallation auf einem vollst√§ndig verschl√ºsselten Dateisystem‚Äú in Abschnitt 4.2) und m√∂glicherweise auch die Nuke-Funktion einzurichten (siehe die Seitenleiste ‚ÄûFestlegen eines Selbstzerst√∂rungskennworts f√ºr zus√§tzliche Sicherheit‚Äú in Kapitel 9): Daten, die Sie haben w√§hrend Ihrer Arbeit gesammelt, sind vertraulich und ben√∂tigen maximalen Schutz. <br><br>  M√∂glicherweise ben√∂tigen Sie auch Firewall-Regeln (siehe Abschnitt 7.4 unten), jedoch nicht f√ºr den gleichen Zweck wie auf dem Server.  M√∂glicherweise m√∂chten Sie den gesamten ausgehenden Datenverkehr mit Ausnahme des von Ihrem VPN-Zugriff generierten Datenverkehrs blockieren.  Diese Einstellungen √§hneln den Netzwerksicherheitseinstellungen. Wenn das VPN nicht mehr funktioniert, werden Sie dies sofort bemerken (anstatt zum lokalen Netzwerkzugriff zur√ºckzukehren).  Daher geben Sie beim Surfen im Internet oder in anderen Netzwerkaktivit√§ten nicht die IP-Adressen Ihrer Clients an.  Wenn Sie lokale interne Interaktionen durchf√ºhren, ist es au√üerdem am besten, Ihre Aktivit√§ten st√§ndig zu √ºberwachen, um das im Netzwerk verursachte Rauschen zu reduzieren, das die Aufmerksamkeit der Kunden und ihrer Schutzsysteme auf sich ziehen kann. <br><br><h3>  7.3.  Schutz der Netzwerkdienste </h3><br>  Es wird empfohlen, Dienste zu deaktivieren, die Sie nicht verwenden.  Kali vereinfacht diese Aufgabe, da die meisten Netzwerkdienste bereits standardm√§√üig deaktiviert sind. <br>  Solange Dienste deaktiviert bleiben, stellen sie kein Sicherheitsrisiko dar.  Sie sollten jedoch beim Einschalten aufgrund der folgenden Faktoren vorsichtig sein. <br><br>  1. Standardm√§√üig verf√ºgen sie nicht √ºber eine Firewall. Wenn sie also alle Netzwerkschnittstellen abh√∂ren, sind sie f√ºr die √ñffentlichkeit weitgehend zug√§nglich. <br><br>  2. Einige Dienste verf√ºgen nicht √ºber Anmeldeinformationen und k√∂nnen bei der ersten Verwendung festgelegt werden.  andere verf√ºgen √ºber Standardanmeldeinformationen (und sind daher allgemein bekannt).  Stellen Sie sicher, dass Sie ein Passwort (neu) festlegen, das nur Ihnen bekannt ist. <br><br>  3. Viele Dienste werden mit Root-Rechten (mit vollst√§ndigen Administratorrechten) ausgestattet, sodass die Folgen eines nicht autorisierten Zugriffs oder von Sicherheitsverletzungen normalerweise schwerwiegend sind. <br><br><blockquote>  Wir werden hier nicht alle Tools auflisten, die mit den Standardanmeldeinformationen geliefert werden.  √úberpr√ºfen Sie stattdessen die Datei README.Debian f√ºr die jeweiligen Pakete sowie die Seiten <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">docs.kali.org</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">tools.kali.org,</a> um festzustellen, ob der Dienst spezielle Wartungsarbeiten ben√∂tigt, um die erforderliche Sicherheit zu gew√§hrleisten. <br><br>  Wenn Sie in Echtzeit starten, lautet das Root-Passwort toor.  Daher d√ºrfen Sie SSH nicht aktivieren, bevor Sie das Kennwort des Root-Kontos ge√§ndert haben oder bevor Sie eine kennwortbasierte Anmeldesperre in der Kontokonfiguration eingerichtet haben. <br><br>  Beachten Sie auch die bekannte Tatsache, dass das BeEF-Projekt (aus dem bereits installierten Rindfleisch-xss-Paket) die Standardanmeldeinformationen hat: den Rindfleisch-Benutzernamen und das Rindfleisch-Passwort, die in der Konfigurationsdatei "zwangsweise" festgelegt sind. <br></blockquote><br><h3>  7.4.  Firewall- oder Paketfilterung </h3><br>  Eine Firewall ist ein Computerger√§t mit Hardware, Software oder beidem, das eingehende oder ausgehende Netzwerkpakete (eingehend oder ausgehend vom lokalen Netzwerk) analysiert und nur solche weitergibt, die bestimmte vordefinierte Bedingungen erf√ºllen. <br><br>  Ein Filtering Network Gateway ist eine Art Firewall, die das gesamte Netzwerk sch√ºtzt.  In der Regel wird es auf einem dedizierten Computer installiert, der als Gateway zum Netzwerk konfiguriert ist, sodass alle in das Netzwerk ein- und aus dem Netzwerk kommenden Pakete analysiert werden k√∂nnen.  Alternativ gibt es eine lokale Firewall, bei der es sich um einen Softwaredienst handelt, der auf einem bestimmten Computer ausgef√ºhrt wird, um den Zugriff auf eine Reihe von Diensten auf diesem Computer zu filtern oder einzuschr√§nken oder um m√∂glicherweise ausgehende Verbindungen von Spyware zu verhindern, die der Benutzer versehentlich oder absichtlich installieren k√∂nnte. <br><br>  Der Linux-Kernel verf√ºgt √ºber eine integrierte Netfilter-Firewall.  Es gibt keine einzige L√∂sung zum Konfigurieren einer Firewall, da die Anforderungen des Netzwerks und des Benutzers unterschiedlich sind.  Sie k√∂nnen netfilter jedoch mit den Befehlen iptables und ip6tables vom Benutzerbereich aus steuern.  Der Unterschied zwischen letzterem besteht darin, dass ersteres f√ºr IPv4-Netzwerke funktioniert, w√§hrend letzteres f√ºr IPv6 funktioniert.  Da beide Stapel von Netzwerkprotokollen wahrscheinlich viele Jahre lang funktionieren, sollten beide Tools parallel verwendet werden.  Sie k√∂nnen auch das hervorragende GUI-basierte Dienstprogramm fwbuilder verwenden, das eine grafische Darstellung der Filterregeln bietet. <br><br>  Wenn Sie sich jedoch f√ºr die Konfiguration von netfilter (die Implementierung der Linux-Firewall) entscheiden, werden wir uns die Funktionsweise genauer ansehen. <br><br>  <b>Verhalten des Netfilter-√úberspannungsschutzes</b> <br><br>  Der Netfilter-Filter verwendet vier verschiedene Tabellen, in denen die Regeln f√ºr die drei Arten von Vorg√§ngen f√ºr Pakete gespeichert sind: <br><br>  1. Filter bezieht sich auf Filterregeln (Akzeptieren, Ablehnen oder Ignorieren eines Pakets); <br><br>  2. nat (Network Address Translation) bezieht sich auf die √úbersetzung von Quell- oder Zieladressen und Paketports; <br><br>  3. Mangle bezieht sich auf andere √Ñnderungen in IP-Paketen (einschlie√ülich des ToS-Felds (Art des Dienstes) und der Optionen). <br><br>  4. raw erm√∂glicht andere manuelle √Ñnderungen an den Paketen, bevor sie (die Pakete) das Verbindungsverfolgungssystem erreichen. <br><br>  Jede Tabelle enth√§lt Listen von Regeln, die als Ketten bezeichnet werden.  Die Firewall verwendet Standardketten, um Pakete basierend auf vordefinierten Bedingungen zu verarbeiten.  Der Administrator kann andere Ketten erstellen, die nur beim √úbertragen einer der Standardketten (direkt oder indirekt) verwendet werden. <br><br>  Die Filtertabelle enth√§lt drei Standardketten: <br><br>  1. INPUT - bezieht sich auf Pakete, deren Zweck die Firewall selbst ist; <br><br>  2. AUSGABE - bezieht sich auf Pakete, die von der Firewall kommen; <br><br>  3. FORWARD - bezieht sich auf Pakete, die die Firewall passieren (die weder ihre Quelle noch ihr Ziel ist). <br><br>  Die Nat-Tabelle hat auch drei Standardketten: <br><br>  1. PREROUTING - um Pakete sofort nach ihrer Ankunft zu wechseln; <br><br>  2. POSTROUTING - um Pakete zu √§ndern, wenn sie versandbereit sind; <br><br>  3. AUSGABE - um die von der Firewall selbst generierten Pakete zu √§ndern. <br><br>  Diese Ketten sind in Abb. 1 dargestellt.  7.1. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/js/ay/4r/jsay4rupgg9yg_2skcyxdx1w2gs.png" alt="Bild"></div><br>  Jede Kette ist eine Liste von Regeln;  Jede Regel besteht aus einer Reihe von Bedingungen und einer Aktion, die ausgef√ºhrt wird, wenn Bedingungen erf√ºllt sind.  Bei der Verarbeitung eines Pakets durchsucht die Firewall die entsprechende Kette eine Regel nach der anderen. Wenn die Bedingungen f√ºr eine Regel erf√ºllt sind, springt sie (daher der Parameter -j in den Befehlen) zur angegebenen Aktion, um die Verarbeitung fortzusetzen.  Die g√§ngigsten Verhaltensweisen sind standardisiert und es gibt spezielle Ma√ünahmen f√ºr sie.  Das Ausf√ºhren einer dieser Standardaktionen unterbricht die Verarbeitung der Kette, da das weitere Schicksal der Pakete bereits vorbestimmt ist (ohne Ber√ºcksichtigung der unten genannten Ausnahme).  Das Folgende sind Netfilter-Aktionen. <br><br>  1. AKZEPTIEREN (AKZEPTIEREN) - Erm√∂glichen Sie dem Paket, sich weiter entlang seiner Route zu bewegen. <br><br>  2. REJECT - lehnt das Paket mit dem ICMP-Fehlerpaket (Internet Control Message Protocol) ab (der Typ --reject-with f√ºr iptables bestimmt den Fehlertyp f√ºr die Ablehnung). <br><br>  3. DROP - L√∂schen (ignorieren) Sie das Paket. <br><br>  4. LOG (REGISTER) - Registrieren Sie (√ºber den syslogd-Daemon) eine Nachricht, die das Paket beschreibt.  Beachten Sie, dass diese Aktion die Verarbeitung nicht unterbricht und die Kettenausf√ºhrung ab der n√§chsten Regel fortgesetzt wird. Daher erfordert die Registrierung abgelehnter Pakete sowohl die LOG- als auch die REJECT / DROP-Regeln.  Allgemeine Parameter im Zusammenhang mit der Registrierung sind: <br><br><ul><li>  --log-level gibt mit einer Standardwarnung den Schweregrad des Syslogs an. </li><li>  Mit --log-prefix k√∂nnen Sie ein Textpr√§fix angeben, um zwischen protokollierten Nachrichten zu unterscheiden. </li><li>  --log-tcp-sequence, --log-tcp-options und --log-ip-options geben zus√§tzliche Daten an, die in die Nachricht eingef√ºgt werden sollen: TCP-Seriennummer, TCP-Parameter bzw. IP-Parameter. </li></ul><br>  5. ULOG - Registrieren einer Nachricht √ºber ulogd, die f√ºr die Verarbeitung einer gro√üen Anzahl von Nachrichten besser angepasst und effizienter als syslogd sein kann.  Beachten Sie, dass diese Aktion wie LOG auch die Verarbeitung zur n√§chsten Regel in der aufrufenden Kette zur√ºckgibt. <br><br>  6. Kettenname - Gehen Sie zur angegebenen Kette und bewerten Sie deren Regeln. <br><br>  7. RETURN - bricht die Verarbeitung der aktuellen Kette ab und kehrt zur aufrufenden Kette zur√ºck;  Wenn die aktuelle Kette Standard ist, gibt es keine aufrufende Kette, daher wird stattdessen die Standardaktion ausgef√ºhrt (definiert mit dem Parameter -P f√ºr iptables). <br><br>  8. SNAT (nur in der Nat-Tabelle) - Wenden Sie die SNAT (Source Network Address Translation) an.  Zus√§tzliche Parameter beschreiben die genauen √Ñnderungen, die angewendet werden sollen, einschlie√ülich des Parameters --to-source address: port, der die neue Quelle der IP-Adresse und / oder des Ports definiert. <br><br>  9. DNAT (nur in der Nat-Tabelle) - Wenden Sie DNAT (Destination Network Address Translation) an.  Zus√§tzliche Parameter beschreiben die genauen zu verwendenden √Ñnderungen, einschlie√ülich des Parameters --to-destination address: Der Port, der die neue Quelle der IP-Adresse und / oder des Ports definiert. <br><br>  10. MASQUERADE (nur in der Nat-Tabelle) - Maskierung anwenden (Sonderfall von Source NAT). <br><br>  11. REDIRECT (nur in der nat-Tabelle) - Leiten Sie das Paket offen an diesen Port der Firewall selbst weiter.  Sie k√∂nnen einen Webproxy verwenden, um einen offenen Server zu konfigurieren, der ohne Konfiguration auf der Clientseite funktioniert. W√§hrend der Client glaubt, dass er eine Verbindung zum Empf√§nger herstellt, werden die Nachrichten tats√§chlich √ºber den Proxyserver gesendet.  Die Parameterportport (s) geben den Port oder Portbereich an, an den Pakete weitergeleitet werden sollen. <br><br>  Andere Ma√ünahmen, insbesondere im Zusammenhang mit der Mangeltabelle, wurden in diesem Unterabschnitt nicht ber√ºcksichtigt.  Eine vollst√§ndige Liste finden Sie in den Handbuchseiten iptables (8) und ip6tables (8). <br><br><h3>  Syntax f√ºr die Befehle iptables und ip6tables </h3><br>  Mit den Befehlen iptables und ip6tables werden Tabellen, Ketten und Regeln verwaltet.  Ihre Parameter -t-Tabelle gibt an, mit welcher Tabelle gearbeitet werden soll (standardm√§√üig die Filtertabelle). <br><br>  <b>Teams</b> <br><br>  Die Hauptparameter f√ºr die Interaktion mit Schaltkreisen sind unten aufgef√ºhrt. <br><br>  1. -L Kette listet die in der Kette enthaltenen Regeln auf.  Wird mit der Option -n verwendet, um die Namensaufl√∂sung zu deaktivieren (z. B. zeigt iptables -n -L INPUT die Regeln f√ºr eingehende Pakete an). <br><br>  2. -N Kette erstellt eine neue Kette.  Sie k√∂nnen neue Ketten f√ºr verschiedene Zwecke erstellen, z. B. zum Testen eines neuen Netzwerkdienstes oder zum Abwehr eines Netzwerkangriffs. <br><br>  3. -X Kette entfernt die leere und nicht verwendete Kette (z. B. iptables -X ddos-attack). <br><br>  4. - Eine Kettenregel f√ºgt eine Regel am Ende einer bestimmten Kette hinzu.  Denken Sie daran, dass Regeln von oben nach unten verarbeitet werden. Vergessen Sie nicht, diesen Moment beim Hinzuf√ºgen von Regeln zu ber√ºcksichtigen. <br><br>  5. -Ich kette rule_number rule f√ºgt die Regel vor der Regel mit der angegebenen Nummer ein.  Ber√ºcksichtigen Sie wie bei der Option -A die Verarbeitungsreihenfolge, wenn Sie neue Regeln in die Kette eingeben. <br><br>  6. -D Kettenregel_Nummer (oder -D Kettenregel) entfernt die Regel in der Kette.  Die erste Syntax gibt an, dass die Regel mit einer bestimmten Nummer gel√∂scht werden soll (der Befehl iptables -L --line-numbers zeigt die Regelnummern an), und die zweite gibt die zu l√∂schende Regel anhand ihres Wesens an. <br><br>  7. -F Kette setzt die Kette zur√ºck (entfernt alle ihre Regeln).  Um beispielsweise alle Regeln zu entfernen, die mit ausgehenden Paketen verkn√ºpft sind, geben Sie den Befehl iptables -F OUTPUT ein.  Wenn keine Kette angegeben ist, werden alle Regeln in der Tabelle gel√∂scht. <br><br>  8. -P Kettenaktion definiert die Standardaktion oder "Richtlinie" f√ºr eine bestimmte Kette.  Bitte beachten Sie: Diese Richtlinie gilt nur f√ºr Standardschaltungen.  Um den gesamten eingehenden Datenverkehr standardm√§√üig zu entfernen, m√ºssen Sie den Befehl iptables -P INPUT DROP ausf√ºhren. <br><br>  <b>Die Regeln</b> <br><br>        :  -j  _.       ,     ( ) ,   ,     ,      . <br><br>  -p     IP-.     tcp, udp, icmp  icmpv6.       TCP-    --source-port   --destination-port . <br><br><blockquote>   <br><br>        . ,     -p  ¬´   ,   ,  ¬ª.         . <br></blockquote><br>  -s   -s /   (source)  . , -d   -d /    (destination). <br>  -i   ,     ; -o  ‚Äî ,    . <br><br>  --state       (     ipt_ conntrack   ).  NEW  ,   ,  ESTABLISHED  ,     ,   RELATED  ,   ,    (    ftp-     FTP). <br><br>      iptables  ip6tables,       .    ,      , ‚Äî  ,         . <br> ,       IP- 10.0.1.5  31.13.74.0/24  C ,    : <br><br><pre><code class="hljs pgsql"># iptables -A <span class="hljs-keyword"><span class="hljs-keyword">INPUT</span></span> -s <span class="hljs-number"><span class="hljs-number">10.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span> -j <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> # iptables -A <span class="hljs-keyword"><span class="hljs-keyword">INPUT</span></span> -s <span class="hljs-number"><span class="hljs-number">31.13</span></span><span class="hljs-number"><span class="hljs-number">.74</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> -j <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> # iptables -n -L <span class="hljs-keyword"><span class="hljs-keyword">INPUT</span></span> Chain <span class="hljs-keyword"><span class="hljs-keyword">INPUT</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">policy</span></span> ACCEPT) target prot opt source destination <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> <span class="hljs-comment"><span class="hljs-comment">-- 10.0.1.5 0.0.0.0/0 DROP all -- 31.13.74.0/24 0.0.0.0/0</span></span></code> </pre> <br>  Ein anderer iptables-Befehl wird h√§ufig verwendet, um den Netzwerkverkehr f√ºr einen bestimmten Dienst oder Port zuzulassen.  Damit Benutzer eine Verbindung zu SSH, HTTP und IMAP herstellen k√∂nnen, m√ºssen Sie die folgenden Befehle ausf√ºhren: <br><br><pre> <code class="hljs vbscript"># iptables -A INPUT -m state --state <span class="hljs-keyword"><span class="hljs-keyword">NEW</span></span> -p tcp --dport <span class="hljs-number"><span class="hljs-number">22</span></span> -j ACCEPT # iptables -A INPUT -m state --state <span class="hljs-keyword"><span class="hljs-keyword">NEW</span></span> -p tcp --dport <span class="hljs-number"><span class="hljs-number">80</span></span> -j ACCEPT # iptables -A INPUT -m state --state <span class="hljs-keyword"><span class="hljs-keyword">NEW</span></span> -p tcp --dport <span class="hljs-number"><span class="hljs-number">143</span></span> -j ACCEPT # iptables -n -L INPUT Chain INPUT (policy ACCEPT) target prot opt source destination DROP all -- <span class="hljs-number"><span class="hljs-number">10.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> DROP all -- <span class="hljs-number"><span class="hljs-number">31.13</span></span><span class="hljs-number"><span class="hljs-number">.74</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> ACCEPT tcp -- <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">NEW</span></span> tcp dpt:<span class="hljs-number"><span class="hljs-number">22</span></span> ACCEPT tcp -- <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">NEW</span></span> tcp dpt:<span class="hljs-number"><span class="hljs-number">80</span></span> ACCEPT tcp -- <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">NEW</span></span> tcp dpt:<span class="hljs-number"><span class="hljs-number">143</span></span></code> </pre> <br>  Die Regel f√ºr eine gute Computerhygiene besteht darin, alte und unn√∂tige Regeln zu bereinigen.  Der einfachste Weg, die iptables-Regel zu entfernen, besteht darin, auf die Regeln nach Zeilennummer zu verweisen, die Sie mit dem Parameter --line-numbers erhalten.  Seien Sie vorsichtig: Wenn Sie eine Regel zur√ºcksetzen, werden alle nachfolgenden Regeln in der Kette neu nummeriert. <br><br><pre> <code class="hljs vbscript"># iptables -n -L INPUT --line-numbers Chain INPUT (policy ACCEPT) num target prot opt source destination <span class="hljs-number"><span class="hljs-number">1</span></span> DROP all -- <span class="hljs-number"><span class="hljs-number">10.0</span></span><span class="hljs-number"><span class="hljs-number">.1</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> DROP all -- <span class="hljs-number"><span class="hljs-number">31.13</span></span><span class="hljs-number"><span class="hljs-number">.74</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> ACCEPT tcp -- <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">NEW</span></span> tcp dpt:<span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> ACCEPT tcp -- <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">NEW</span></span> tcp dpt:<span class="hljs-number"><span class="hljs-number">80</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> ACCEPT tcp -- <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">NEW</span></span> tcp dpt:<span class="hljs-number"><span class="hljs-number">143</span></span> # iptables -D INPUT <span class="hljs-number"><span class="hljs-number">2</span></span> # iptables -D INPUT <span class="hljs-number"><span class="hljs-number">1</span></span> # iptables -n -L INPUT --line-numbers Chain INPUT (policy ACCEPT) num target prot opt source destination <span class="hljs-number"><span class="hljs-number">1</span></span> ACCEPT tcp -- <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">NEW</span></span> tcp dpt:<span class="hljs-number"><span class="hljs-number">22</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> ACCEPT tcp -- <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">NEW</span></span> tcp dpt:<span class="hljs-number"><span class="hljs-number">80</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> ACCEPT tcp -- <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span><span class="hljs-number"><span class="hljs-number">.0</span></span>/<span class="hljs-number"><span class="hljs-number">0</span></span> state <span class="hljs-keyword"><span class="hljs-keyword">NEW</span></span> tcp dpt:<span class="hljs-number"><span class="hljs-number">143</span></span></code> </pre> <br>  Abh√§ngig von den oben beschriebenen allgemeinen Bedingungen liegen spezifischere Bedingungen vor.  Weitere Informationen finden Sie in den Handb√ºchern zu iptables (8) und ip6tables (8). <br><br><h3>  Regeln erstellen </h3><br>  Jede neue Regel erfordert einen Aufruf von iptables oder ip6tables.  Die manuelle Eingabe dieser Befehle kann m√ºhsam sein. Daher werden Anrufe normalerweise in einem Skript gespeichert. Daher wird das System bei jedem Start des Computers automatisch gleich konfiguriert.  Dieses Skript kann von Hand geschrieben werden, aber Sie k√∂nnen auch daran interessiert sein, es mit einem √ºbergeordneten Tool wie fwbuilder vorzubereiten. <br><br><pre> <code class="hljs vala"><span class="hljs-meta"><span class="hljs-meta"># apt install fwbuilder</span></span></code> </pre> <br>  Das Prinzip ist einfach.  Beschreiben Sie in der ersten Phase alle Elemente, die an den neuen Regeln beteiligt sein werden: <br><br>  1. Die Firewall selbst mit ihren Netzwerkschnittstellen; <br><br>  2. Netzwerke mit geeigneten IP-Adressbereichen; <br><br>  3. Server; <br><br>  4. Ports, die zu auf Servern gehosteten Diensten geh√∂ren. <br><br>  Erstellen Sie dann die Regeln mit einfachen Drag &amp; Drop-Aktionen (siehe Abb. 1).  7.2.  Mehrere Kontextmen√ºs k√∂nnen eine Bedingung √§ndern (z. B. ablehnen).  Dann m√ºssen Sie die Aktion ausw√§hlen und konfigurieren. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xo/cj/xc/xocjxc7arenjvm28orxvp-a4spa.png" alt="Bild"></div><br>  Bei IPv6 k√∂nnen Sie entweder zwei verschiedene Regels√§tze f√ºr IPv4 und IPv6 erstellen oder nur einen erstellen und fwbuilder die Regeln gem√§√ü den den Objekten zugewiesenen Adressen √ºbersetzen lassen. <br><br>  Das fwbuilder-Tool erstellt ein Skript, das die Firewall gem√§√ü den von Ihnen definierten Regeln konfiguriert.  Dank seiner modularen Architektur k√∂nnen Sie Skripte f√ºr verschiedene Systeme generieren, darunter iptables f√ºr Linux, ipf f√ºr FreeBSD und pf f√ºr OpenBSD. <br><br><h3>  Festlegen von Regeln f√ºr jeden Start </h3><br>  Um bei jedem Start des Computers Firewall-Regeln zu implementieren, m√ºssen Sie das Konfigurationsskript in der Anweisung up der Datei / etc / network / interfaces registrieren.  Im folgenden Beispiel wird das Skript in /usr/local/etc/arrakis.fw gespeichert. <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">auto</span></span> eth0 iface eth0 inet static address <span class="hljs-number"><span class="hljs-number">192.168.0.1</span></span> network <span class="hljs-number"><span class="hljs-number">192.168.0.0</span></span> netmask <span class="hljs-number"><span class="hljs-number">255.255.255.0</span></span> broadcast <span class="hljs-number"><span class="hljs-number">192.168.0.255</span></span> up /usr/local/etc/arrakis.fw</code> </pre> <br>  In diesem Beispiel wird davon ausgegangen, dass Sie das ifupdown-Paket zum Konfigurieren von Netzwerkschnittstellen verwenden.  Wenn Sie etwas anderes verwenden (z. B. NetworkManager oder systemd-networkd), lesen Sie in der entsprechenden Dokumentation nach, wie Sie das Skript nach dem Starten der Schnittstelle ausf√ºhren. <br><br><h3>  7.5.  √úberwachung und Protokollierung </h3><br>  Vertraulichkeit und Datenschutz sind wichtige Aspekte der Sicherheit, aber es ist ebenso wichtig, die Verf√ºgbarkeit von Diensten sicherzustellen.  Als Administrator und Sicherheitsspezialist m√ºssen Sie sicherstellen, dass alles ordnungsgem√§√ü funktioniert. Sie sind daf√ºr verantwortlich, abnormales Verhalten und eine Verschlechterung der Dienste rechtzeitig zu erkennen.  √úberwachungs- und Protokollierungssoftware spielt in diesem Aspekt der Sicherheit eine Schl√ºsselrolle und vermittelt ein Verst√§ndnis daf√ºr, was im System und im Netzwerk geschieht. <br><br>  In diesem Abschnitt sehen wir uns eine Reihe von Tools an, mit denen verschiedene Aspekte des Kali-Systems √ºberwacht werden k√∂nnen. <br><br><h3>  √úberwachen von Protokollen mit logcheck </h3><br>  Logcheck √ºberwacht standardm√§√üig st√ºndlich Protokolldateien und sendet nicht standardm√§√üige Protokollnachrichten an E-Mail-Nachrichten an den Administrator zur weiteren Analyse. <br><br>  Die Liste der √ºberwachten Dateien wird unter /etc/logcheck/logcheck.logfiles gespeichert.  Die Standardwerte funktionieren ordnungsgem√§√ü, wenn die Datei /etc/rsyslog.conf nicht vollst√§ndig neu erstellt wurde. <br><br>  Das Logcheck-Programm kann Berichte mit verschiedenen Detailebenen erstellen: paranoid (paranoid), Server (Server) und Workstation (f√ºr Workstations).  Der paranoide Modus ist sehr ausf√ºhrlich und sollte wahrscheinlich auf bestimmte Server wie Firewalls beschr√§nkt sein.  Der Servermodus wird standardm√§√üig verwendet und f√ºr die meisten Server empfohlen.  Der Workstation-Modus ist offensichtlich f√ºr Workstations konzipiert und extrem komprimiert, wodurch mehr Nachrichten herausgefiltert werden als bei anderen "Br√ºdern". <br><br>  In allen drei F√§llen sollte die Protokollpr√ºfung wahrscheinlich so konfiguriert sein, dass zus√§tzliche Nachrichten (abh√§ngig von den installierten Diensten) ausgeschlossen werden, wenn Sie keine st√ºndlichen Stapel langer, nicht registrierter E-Mails erhalten m√∂chten.  Da der Nachrichtenauswahlmechanismus ziemlich kompliziert ist, muss die Datei /usr/share/doc/logcheck-database/README.logcheck-database.gz bei Schwierigkeiten gelesen werden. <br><br>  Die geltenden Regeln k√∂nnen in verschiedene Typen unterteilt werden: <br><br>  1. diejenigen, die die Nachricht als Hacking-Versuch qualifizieren (gespeichert in einer Datei im Verzeichnis /etc/logcheck/cracking.d/); <br><br>  2. ignorierte Hacking-Versuche (/etc/logcheck/cracking.ignore.d/); <br><br>  3. diejenigen, die die Nachricht als Sicherheitswarnung klassifizieren (/etc/logcheck/violations.d/); <br><br>  4. ignorierte Sicherheitswarnungen (/etc/logcheck/violations.ignore.d/); <br><br>  5. Schlie√ülich diejenigen, die f√ºr andere Nachrichten gelten (als Systemereignisse behandelt). <br><br>  Die Dateien ignore.d werden (offensichtlich) verwendet, um Nachrichten zu ignorieren.  Beispielsweise kann eine Nachricht, die als Hacking-Versuch oder Sicherheitswarnung markiert ist (in der Regel in /etc/logcheck/violations.d/myfile gespeichert), nur von einer Regel in /etc/logcheck/violations.ignore.d/myfile ignoriert werden oder in der Datei /etc/logcheck/changes.ignore.d/myfile- Erweiterung. <br><br>  Ein Systemereignis wird immer gemeldet, es sei denn, die Regel in einem der Verzeichnisse /etc/logcheck/ignore.d.{paranoid, server, workstation} / gibt nicht an, dass dieses Ereignis ignoriert werden soll.  Nat√ºrlich werden nur solche Kataloge ber√ºcksichtigt, deren Detaillierungsgrad der ausgew√§hlten Betriebsart entspricht oder diese √ºbersteigt. <br><br><h3>  Echtzeit-Aktivit√§ts√ºberwachung </h3><br>  Das oberste interaktive Tool zeigt eine Liste der aktuell ausgef√ºhrten Prozesse an.  Die Standardsortierung basiert auf der aktuellen Prozessorlast und kann mit Schl√ºssel P abgerufen werden. Andere Befehlssortierungen umfassen das Sortieren nach belegtem Speicher (Schl√ºssel M), Gesamtprozessorzeit (Schl√ºssel T) und Prozesskennung (Schl√ºssel N).  Der Schl√ºssel k beendet den Prozess mit der eingegebenen Kennung.  Der Schl√ºssel r √§ndert die Priorit√§t des Prozesses. <br><br>  Wenn ein System √ºberlastet zu sein scheint, ist top ein gro√üartiges Tool, um festzustellen, welche Prozesse um CPU-Zeit konkurrieren oder zu viel Speicher verbrauchen.  Daher ist es oft interessant zu √ºberpr√ºfen, ob die Prozesse, die Ressourcen verbrauchen, realen Diensten entsprechen, die auf einem Computer gehostet werden sollten.  Ein unbekannter Prozess, der wie www-data funktioniert, sollte sich wirklich von der Liste abheben und untersucht werden, da es sich h√∂chstwahrscheinlich um ein Beispiel f√ºr Software handelt, die auf einem System installiert ist und unter Verwendung einer Sicherheitsanf√§lligkeit in einer Webanwendung ausgef√ºhrt wird. <br><br>  Das Top-Tool ist sehr flexibel und das Handbuch enth√§lt detaillierte Informationen zum Anpassen der Benutzeroberfl√§che und zum Anpassen an Ihre pers√∂nlichen Bed√ºrfnisse und Gewohnheiten. <br><br>  Das grafische Tool gnome-system-monitor √§hnelt top und bietet ungef√§hr die gleichen Funktionen. <br><br>  ¬ªWeitere Informationen zum Buch finden Sie auf <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">der Website des Herausgebers</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Inhalt</a> <br>  ¬ª <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Auszug</a> <br><br>  20% Rabatt auf Gutschein f√ºr <b>Linux</b> - <b>Linux</b> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de422939/">https://habr.com/ru/post/de422939/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de422925/index.html">Interview mit dem Sprecher der RubyRussia-Konferenz, Godfrey Chan</a></li>
<li><a href="../de422929/index.html">Yandex Mail [war] um 12:16 Uhr Moskauer Zeit etwa eine Stunde lang nicht verf√ºgbar</a></li>
<li><a href="../de422931/index.html">Wir betrachten die Tools zur √úberwachung verteilter Anwendungen</a></li>
<li><a href="../de422935/index.html">2GIS ist an Ihren Fingerspitzen. Wie wir der Apple Watch eine Karte hinzugef√ºgt haben</a></li>
<li><a href="../de422937/index.html">Festplatten-Caching von Lazy Computing-B√§umen</a></li>
<li><a href="../de422941/index.html">"Drei in einem Boot, Armut und Hunde" oder wie Antiplagiat Paraphrase sucht</a></li>
<li><a href="../de422943/index.html">Ein bisschen √ºber den industriellen Bergbau</a></li>
<li><a href="../de422945/index.html">27. September, Moskau - Mitap QIWI SERVER PARTY 3.0</a></li>
<li><a href="../de422947/index.html">So richten Sie die Archivierung von Veeam-Sicherungen in Microsoft Azure Blob Storage mithilfe von StarWind VTL ein</a></li>
<li><a href="../de422949/index.html">Neue CNCF-Statistiken zu Containern, Cloud Native und Kubernetes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>