<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏥 🧗🏼 🤦🏼 SwiftUI para a última tarefa competitiva do Telegram Charts (março de 2019): tudo é simples 🏧 📊 🤶🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Começarei com a observação de que o aplicativo discutido neste artigo requer o Xcode 11 e o MacOS Catalina, se você quiser usar as Live Previews , e o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>SwiftUI para a última tarefa competitiva do Telegram Charts (março de 2019): tudo é simples</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468897/"><img src="https://habrastorage.org/webt/pt/1z/21/pt1z21temtcp4omtiecaoojqrqa.png"><br><br>  Começarei com a observação de que o aplicativo discutido neste artigo requer o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Xcode 11</a> e o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">MacOS Catalina,</a> se você quiser usar as <code>Live Previews</code> , e o <code>Mojave</code> se você usar o simulador.  O código do aplicativo está no <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Github</a> . <br><br>  Este ano, na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">WWDC 2019</a> , a <code>Apple</code> anunciou o <code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SwiftUI</a></code> , uma nova maneira declarativa de criar uma interface de usuário (UI) em todos os dispositivos <code>Apple</code> .  É quase uma partida completa do <code><font color="#0000FF">UIKit</font></code> usual, e eu - como muitos outros desenvolvedores - realmente queria ver essa nova ferramenta em ação. <br><br>  Este artigo apresenta a experiência de resolver com o <code><font color="#0000FF">SwiftUI</font></code> um problema cujo código no <code><font color="#0000FF">UIKit</font></code> incomparavelmente mais complexo e não pode ser <code><font color="#0000FF">UIKit</font></code> na minha opinião de maneira legível. <br><a name="habracut"></a><br>  A tarefa está relacionada ao último concurso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Telegram</a> para desenvolvedores de <code>Android</code> , <code>iOS</code> e <code>JS</code> , realizado de 10 a 24 de março de 2019.  Nesta competição, uma tarefa simples foi proposta para exibir graficamente a intensidade de uso de um determinado recurso na Internet, dependendo do tempo com base nos dados <code>JSON</code> .  Como desenvolvedor do <code>iOS</code> , você deve usar o <code>Swift</code> para enviar o código escrito do zero para a competição sem usar bibliotecas especializadas externas para plotagem. <br><br>  Essa tarefa exigia habilidades para trabalhar com os recursos gráficos e de animação do iOS: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Core Graphics</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Core Animation</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Metal</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">OpenGL ES</a> .  Algumas dessas ferramentas são ferramentas de programação de baixo nível e não orientadas a objetos.  Basicamente, no <code>iOS</code> não havia modelos aceitáveis ​​para resolver tarefas gráficas aparentemente leves à primeira vista.  Portanto, cada competidor inventou seu próprio animador ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Render</a> ) com base em <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Metal</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CALayers</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">OpenGL</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">CADisplayLink</a> .  Isso gerou toneladas de código dos quais não foi possível emprestar e desenvolver nada, uma vez que esses são trabalhos puramente "protegidos por direitos autorais" que somente autores podem realmente desenvolver.  No entanto, isso não deve ser assim. <br><br>  E no início de junho na <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">WWDC 2019</a> , o <code><font color="#0000FF">SwifUI</font></code> aparece - uma nova <code>framework</code> desenvolvida pela <code>Apple</code> , escrita em <code>Swift</code> e projetada para descrever declarativamente a interface do usuário ( <code>UI</code> ) no código.  Você determina quais <code><font color="#0000FF">subviews</font></code> exibidas em sua <code><font color="#0000FF">View</font></code> , quais dados fazem com que essas <code><font color="#0000FF">subviews</font></code> sejam alteradas, quais modificadores você precisa aplicar a eles, para posicioná-los no lugar certo, para ter o tamanho e o estilo certos.  Um elemento igualmente importante do <code><font color="#0000FF">SwiftUI</font></code> é o controle do fluxo de dados modificáveis ​​pelo usuário, que por sua vez atualiza a <code>UI</code> do <code>UI</code> . <br><br>  Neste artigo, quero mostrar como a própria tarefa do concurso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Telegram</a> no <code><font color="#0000FF">SwiftUI</font></code> é resolvida de maneira rápida e fácil.  Além disso, este é um processo muito emocionante. <br><br><h1>  Tarefa </h1><br>  O aplicativo competitivo deve exibir simultaneamente 5 "conjuntos de gráficos" na tela usando os dados fornecidos pelo <code>Telegram</code> .  Para um "conjunto de gráficos", a <code>UI</code> do <code>UI</code> seguinte: <br><br><img src="https://habrastorage.org/webt/6j/me/ai/6jmeai2ecva9nvxoc8rbdki9qbu.png"><br><br>  Na parte superior, há uma "zona do gráfico" com uma escala comum ao longo do eixo Y normal, com marcas e linhas de grade horizontais.  Abaixo disso, há uma linha rasteira com carimbos de data / hora ao longo do eixo X como datas. <br><br>  Ainda mais baixo é o chamado “mini mapa” (como no <code>Xcode 11</code> ), ou seja, uma “janela” transparente que define a parte do período de nossos “Gráficos”, que é apresentada com mais detalhes na “zona Gráficos” superior.  Este “mini mapa” não só pode ser movido ao longo do eixo <code>X</code> , mas também sua largura pode ser alterada, o que afeta a escala de tempo na “área Gráficos”. <br><br>  Com a ajuda de <code>checkboxs</code> de <code>checkboxs</code> pintadas nas cores de "Gráficos" e fornecidas com seus nomes, você pode recusar a exibição dos "Gráficos" correspondentes a essa cor na "zona Gráficos". <br><br>  Existem muitos desses "conjuntos de gráficos"; no nosso exemplo de teste, existem 5 deles, por exemplo, e todos devem estar localizados em uma tela. <br><br>  Na <code>UI</code> do <code>UI</code> projetada usando o <code><font color="#0000FF">SwiftUI</font></code> não há necessidade de um botão para alternar entre os modos <code><font color="#0000FF">Dark</font></code> e <code><font color="#0000FF">Light</font></code> , isso já está incorporado no <code><font color="#0000FF">SwiftUI</font></code> .  Além disso, o <code><font color="#0000FF">SwiftUI</font></code> muito mais opções para combinar "conjuntos de gráficos" (ou seja, os conjuntos de telas apresentados acima) do que simplesmente rolar uma tabela para baixo, e examinaremos algumas dessas opções muito interessantes. <br><br>  Mas primeiro, vamos nos concentrar em exibir um "conjunto de <code><font color="#0000FF">SwiftUI</font></code> " para o qual criaremos um <code><font color="#0000FF">ChartView</font></code> : <br><br><img src="https://habrastorage.org/webt/c9/fs/jt/c9fsjthmivuphsmdbvajccjfg18.png"><br><br>  <code><font color="#0000FF">SwiftUI</font></code> permite criar e testar uma <code>UI</code> do <code>UI</code> complexa em pedaços pequenos e, em seguida, é muito fácil montar essas peças em um quebra-cabeça.  Nós faremos isso.  Nosso <code><font color="#0000FF">ChartView</font></code> muito bem em pequenos pedaços: <br><br><ul><li>  <code><font color="#0000FF">GraphsForChart</font></code> - estes são os próprios gráficos, criados para um "conjunto de gráficos" específico.  "Gráficos" são mostrados para o intervalo de tempo controlado pelo usuário usando o <code><font color="#0000FF">RangeView</font></code> "mini mapa", que será apresentado abaixo. </li><li>  <code><font color="#0000FF">YTickerView</font></code> é o eixo <code>Y</code> com elevações e a grade horizontal correspondente. </li><li>  <code><font color="#0000FF">IndicatorView</font></code> é um <code><font color="#0000FF">IndicatorView</font></code> horizontal orientado ao usuário que permite visualizar os valores de "Gráficos" e o tempo da posição correspondente do indicador no eixo do tempo no eixo <code>X</code> </li><li>  <code><font color="#0000FF">TickerView</font></code> - "linha rasteira" mostrando carimbos de data e hora no eixo <code>X</code> como datas, </li><li>  <code><font color="#0000FF">RangeView</font></code> - uma "janela" temporária, personalizável pelo usuário usando gestos, para definir o intervalo de tempo para "Gráficos", </li><li>  <code><font color="#0000FF">CheckMarksView</font></code> - contém "botões" coloridos nas cores de "Gráficos" e permite controlar a presença de " <code><font color="#0000FF">ChartView</font></code> " no <code><font color="#0000FF">ChartView</font></code> . </li></ul><br>  <code><font color="#0000FF">ChartView</font></code> usuário pode interagir com o <code><font color="#0000FF">ChartView</font></code> de três maneiras: <br><br>  1. controle o “mini mapa” usando o gesto <code><font color="#0000FF">DragGesture</font></code> - ele pode mudar a “janela” temporária para a direita e esquerda e diminuir / aumentar seu tamanho: <br><br><img src="https://habrastorage.org/webt/ic/yc/4b/icyc4bxgrxyq0wiu1sxuqg5ft10.png"><br><br>  2. mova o indicador na direção horizontal, mostrando os valores dos "Gráficos" em um ponto fixo no tempo: <br><br><img src="https://habrastorage.org/webt/hp/kc/tt/hpkctt_b-gbljvhetcylfxkdtxa.png"><br><br>  3. oculte / mostre certos "Gráficos" usando botões coloridos nas cores "Gráficos" e localizados na parte inferior do <code><font color="#0000FF">ChartView</font></code> : <br><br><img src="https://habrastorage.org/webt/jm/dm/2x/jmdm2xiezy_vznyu8rwpkkmnjou.png"><br><br>  Podemos combinar vários "Conjuntos de gráficos" (temos cinco deles em dados de teste) de diferentes maneiras, por exemplo, colocando-os todos simultaneamente em uma tela usando a <code><font color="#0000FF">List</font></code> Lista (como uma tabela rolável para cima e para baixo): <br><br><img src="https://habrastorage.org/webt/-y/ah/do/-yahdowfzpcqeee7ewn0phjkn7y.png"><br><br>  ou usando o <code><font color="#0000FF">ScrollView</font></code> e uma pilha horizontal do <code><font color="#0000FF">HStack</font></code> com um efeito 3D: <br><br><img src="https://habrastorage.org/webt/sz/-c/1s/sz-c1s8eycfzb1krumjgr7oxteg.png"><br><br>  ... ou na forma de um <code><font color="#0000FF">ZStack</font></code> "cartões" sobrepostos, cuja ordem pode ser alterada: o "cartão" superior com "" um conjunto de gráficos "pode ​​ser puxado para baixo o suficiente para olhar para o próximo cartão e, se você continuar a arrastá-lo para baixo, então" vai "para o último lugar no <code><font color="#0000FF">ZStack</font></code> , e este próximo" cartão "" segue em frente ": <br><br><img src="https://habrastorage.org/webt/0e/pz/mh/0epzmhcuuqif2_um7uew4r0z_l8.png"><br><br>  Nessas <code>UI</code> complexas - uma “mesa rolável”, uma pilha horizontal com efeito <code>3D</code> , um <code><font color="#0000FF">ZStack</font></code> “cartões” sobrepostos uns aos outros - todos os meios de interação do usuário funcionam completamente: movendo-se na linha do tempo e alterando a “escala” dos <code><font color="#0000FF">ZStack</font></code> , indicador e ocultar "Gráficos". <br><br>  Além disso, consideraremos em detalhes o design dessa <code>UI</code> do <code>UI</code> usando o <code><font color="#0000FF">SwiftUI</font></code> - de elementos simples a composições mais complexas.  Mas primeiro, vamos entender a estrutura de dados que temos. <br><br>  Portanto, a solução para o nosso problema foi dividida em várias etapas: <br><br><ul><li>  Faça o download dos dados de um arquivo <code>JSON</code> e apresente-os em um formato "interno" conveniente </li><li>  Criar <code>UI</code> do <code>UI</code> para um "conjunto de gráficos" </li><li>  Combine vários "conjuntos de gráficos" </li></ul><br><h2>  Baixar dados </h2><br>  À nossa disposição, o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Telegram</a> forneceu dados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JSON</a> contendo vários "conjuntos de gráficos".  Cada "conjunto de <code><font color="#0000FF">chart</font></code> " individual de um <code><font color="#0000FF">chart</font></code> contém vários "Gráficos" (ou "Linhas") de <code><font color="#0000FF">chart.columns</font></code> .  Cada "Gráfico" ("Linhas") tem uma marca na posição <code><font color="#0000FF">0</font></code> - <code><font color="#0000FF">"x"</font></code> , <code><font color="#0000FF">"y0"</font></code> , <code><font color="#0000FF">"y1"</font></code> , <code><font color="#0000FF">"y2"</font></code> , <code><font color="#0000FF">"y3"</font></code> , seguida pelos valores de tempo no eixo X ("x") ou os valores de "Gráficos" ("Linhas") ( <code><font color="#0000FF">"y0"</font></code> , <code><font color="#0000FF">"y1"</font></code> , <code><font color="#0000FF">"y2"</font></code> , <code><font color="#0000FF">"y3"</font></code> ) no eixo <code>Y</code> : <br><br><img src="https://habrastorage.org/webt/_j/qt/ex/_jqtex2-hskpvedg3imtrlzl20w.png"><br><br>  A presença de todas as "Linhas" no "conjunto de gráficos" é opcional.  Os valores para a "coluna" x são registros de data e hora do UNIX em milissegundos. <br><br>  Além disso, cada "conjunto de <code><font color="#0000FF">chart</font></code> " individual do <code><font color="#0000FF">chart</font></code> é fornecido com cores <code><font color="#0000FF">chart.colors</font></code> no formato de 6 dígitos hexadecimais (por exemplo, "#AAAAAA") e <code><font color="#0000FF">chart.names</font></code> . <br><br>  Para criar o Modelo de Dados localizado no arquivo <code>JSON</code> , usei o excelente serviço <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">quicktype</a> .  Neste site, você insere um pedaço de texto de um arquivo <code>JSON</code> e especifica a linguagem de programação ( <code>Swift</code> ), o nome da estrutura ( <code><font color="#0000FF">Chart</font></code> ), que será formada após a "análise" desses dados <code>JSON</code> e é isso. <br><br>  Um código é gerado na parte central da tela, que <code>Chart.swift</code> em nosso aplicativo em um arquivo separado chamado <code>Chart.swift</code> .  É aqui que colocaremos o Modelo de Dados no formato JSON.  Usando o carregador de dados do arquivo <code>JSON</code> para o modelo emprestado das <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">demos SwiftUI</a> <code>Generic</code> , obtive uma matriz de <code><font color="#0000FF">columns: [ChartElement]</font></code> , que é uma coleção de "conjuntos de <code><font color="#0000FF">columns: [ChartElement]</font></code> " no formato de <code>Telegram</code> . <br><br>  A <code><font color="#0000FF">ChartElement</font></code> dados <code><font color="#0000FF">ChartElement</font></code> , contendo matrizes de elementos heterogêneos, não é muito adequada para trabalhos interativos intensivos com gráficos; além disso, os carimbos de data e hora são apresentados no formato <code>UNIX</code> em milissegundos (por exemplo, <code><font color="#0000FF">1542412800000, 1542499200000, 1542585600000, 1542672000000</font></code> ) e cores no formato hexadecimal 6 dígitos (por exemplo, <code><font color="#0000FF">"#AAAAAA"</font></code> ). <br><br>  Portanto, dentro de nossa aplicação, usaremos os mesmos dados, mas em um formato "interno" e bastante simples diferente <code><font color="#0000FF">[LinesSet]</font></code> .  A matriz <code><font color="#0000FF">[LinesSet]</font></code> é uma coleção de "Conjuntos de <code><font color="#0000FF">LinesSet</font></code> " de <code><font color="#0000FF">LinesSet</font></code> , cada um dos quais contém <code><font color="#0000FF">xTime</font></code> data <code><font color="#0000FF">xTime</font></code> hora <code><font color="#0000FF">xTime</font></code> no formato <code><font color="#0000FF">"Feb 12, 2019"</font></code> (eixo <code>X</code> ) e várias <code><font color="#0000FF">lines</font></code> "Gráficos" (eixo <code>Y</code> ): <br><br><img src="https://habrastorage.org/webt/rs/b_/up/rsb_updm-bojah79bsz23bdu6k0.png"><br><br>  Os dados para cada gráfico de linhas (linha) são apresentados <br><br><ul><li>  uma matriz de <code><font color="#0000FF">points: [Int]</font></code> inteiros <code><font color="#0000FF">points: [Int]</font></code> , </li><li>  chamado <code><font color="#0000FF">title: String</font></code> "Gráficos" <code><font color="#0000FF">title: String</font></code> , </li><li>  tipo "Graphics" <code><font color="#0000FF">type: String?</font></code>  , </li><li>  <code><font color="#0000FF">color : UIColor</font></code> no formato <code><font color="#0000FF">UIColor</font></code> do <code>Swift</code> , </li><li>  número de pontos <code><font color="#0000FF">countY: Int</font></code> . </li></ul><br>  Além disso, qualquer "Gráfico" pode ser oculto ou exibido, dependendo do valor de <code><font color="#0000FF">isHidden: Bool</font></code> .  Os <code><font color="#0000FF">upperBound</font></code> e <code><font color="#0000FF">upperBound</font></code> ajustar o intervalo de tempo levam valores de <code><font color="#0000FF">0</font></code> a <code><font color="#0000FF">1</font></code> e mostram não apenas o tamanho da janela de tempo do “mini mapa” ( <code><font color="#0000FF">upperBound</font></code> - <code><font color="#0000FF">lowerBound</font></code> ), mas também sua localização no eixo temporal <code>X</code> : <br><br><img src="https://habrastorage.org/webt/hp/s5/_v/hps5_vebuvf83hxiethp57hiho0.png"><br><br>  As estruturas de dados <code>JSON</code> <code><font color="#0000FF">[ChartElement]</font></code> e as estruturas de dados das <code><font color="#0000FF">LinesSet</font></code> e <code><font color="#0000FF">Line</font></code> "internas" estão no arquivo <b>Chart.swift</b> .  O código para carregar dados <code>JSON</code> e convertê-los em uma estrutura interna está localizado no arquivo <b>Data.swift</b> .  Detalhes sobre essas transformações podem ser encontrados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">aqui</a> . <br><br>  Como resultado, recebemos dados sobre os "conjuntos de gráficos" no formato interno como uma matriz de <code><font color="#0000FF">chartsData</font></code> . <br><br><img src="https://habrastorage.org/webt/7i/y0/bk/7iy0bk7mifanhlnph6euwk7lg8o.png"><br><br>  Este é o nosso <code></code> Dados, mas, para trabalhar no <code><font color="#0000FF">SwiftUI</font></code> , é necessário garantir que quaisquer alterações feitas pelo usuário na matriz <code><font color="#0000FF">chartsData</font></code> (alterando a "janela" temporária, ocultando / mostrando "Gráficos") levem a atualizações automáticas de nossos <code><font color="#0000FF">chartsData</font></code> exibição. <br><br>  <code><font color="#0000FF">@EnvironmentObject</font></code> .  Isso nos permitirá usar o <code></code> Dados sempre que necessário e, além disso, atualizaremos automaticamente nossas <code><font color="#0000FF">Views</font></code> se os dados forem alterados.  Isso é algo como <code><font color="#0000FF">Singleton</font></code> ou dados globais. <br><br>  <code><font color="#0000FF">@EnvironmentObject</font></code> exige que <code><font color="#0000FF">@EnvironmentObject</font></code> uma <code><font color="#0000FF">final class UserData</font></code> , localizada no arquivo <b>UserData.swift</b> , armazene os dados <code><font color="#0000FF">chartsData</font></code> e implemente o protocolo <code><font color="#0000FF">ObservableObject</font></code> : <br><br><img src="https://habrastorage.org/webt/hr/3i/ng/hr3ingagv3dfwfjlgasjtsiy6ye.png"><br><br>  A presença de "wrappers" do <code><font color="#0000FF">@Published</font></code> permitirá que você publique "notícias" que essas propriedades dos <code><font color="#0000FF">charts</font></code> da classe <code><font color="#0000FF">UserData</font></code> foram alteradas, para que quaisquer <code><font color="#0000FF">Views</font></code> "subscritas a esta notícia" no <code><font color="#0000FF">SwiftUI</font></code> possam selecionar automaticamente novos dados e atualizar. <br><br>  Lembre-se de que na propriedade de <code><font color="#0000FF">charts</font></code> os valores <code><font color="#0000FF">isHidden</font></code> de qualquer " <code><font color="#0000FF">isHidden</font></code> " podem mudar (eles permitem ocultar ou mostrar esses "Gráficos"), bem como os limites de tempo inferior inferior e superior superior para cada "conjunto de gráficos" individual. <br><br>  Queremos usar a propriedade de <code><font color="#0000FF">charts</font></code> da classe <code><font color="#0000FF">UserData</font></code> todo o aplicativo e não precisamos sincronizá-los com a <code>UI</code> do <code>UI</code> manualmente, graças a <code><font color="#0000FF">@EnvironmentObject</font></code> . <br><br>  Para fazer isso, ao iniciar o aplicativo, precisamos criar uma instância da classe <code><font color="#0000FF">UserData ()</font></code> para que posteriormente possamos acessá-lo em qualquer lugar do aplicativo.  Faremos isso no arquivo <code>SceneDelegate.swift</code> dentro do método <code><font color="#0000FF">scene (_ : , willConnectTo: , options: )</font></code> .  É aqui que nosso <code><font color="#0000FF">ContentView</font></code> é criado e lançado, e é aqui que devemos passar o <code><font color="#0000FF">@EnvironmentObject</font></code> <code><font color="#0000FF">ContentView</font></code> qualquer <code><font color="#0000FF">@EnvironmentObject</font></code> que <code><font color="#0000FF">@EnvironmentObject</font></code> para que o <code><font color="#0000FF">SwiftUI</font></code> possa disponibilizá-los para qualquer outra <code><font color="#0000FF">View</font></code> : <br><br><img src="https://habrastorage.org/webt/jv/20/ui/jv20uihyiuv6xnkm13zt7o0him8.png"><br><br>  Agora, em qualquer <code><font color="#0000FF">View</font></code> para acessar os dados <code><font color="#0000FF">@Published</font></code> da classe <code><font color="#0000FF">UserData</font></code> , precisamos criar a variável <code><font color="#0000FF">var</font></code> usando o wrapper <code><font color="#0000FF">@EnvironmentObject</font></code> .  Por exemplo, ao definir o intervalo de tempo no <code><font color="#0000FF">RangeView</font></code> criamos a variável <code><font color="#0000FF">var userData</font></code> com o <code><font color="#0000FF">UserData</font></code> TYPE: <br><br><img src="https://habrastorage.org/webt/sx/lr/vy/sxlrvyrfvqphxtkqxhblnsyf5as.png"><br><br>  Portanto, assim que implementamos algum <code><font color="#0000FF">@EnvironmentObject</font></code> no "ambiente" do aplicativo, podemos começar a usá-lo imediatamente no nível mais alto ou no 10º nível abaixo - isso não importa.  Mais importante, porém, sempre que uma <code><font color="#0000FF">View</font></code> muda o "ambiente", todas as <code><font color="#0000FF">Views</font></code> que possuem esse <code><font color="#0000FF">@EnvironmentObject</font></code> serão <code><font color="#0000FF">@EnvironmentObject</font></code> automaticamente, garantindo a sincronização com os dados. <br><br>  Vamos seguir para o design da interface do usuário ( <code>UI</code> ). <br><br><h2>  Interface do usuário (UI) para um "conjunto de gráficos" </h2><br>  <code><font color="#0000FF">SwiftUI</font></code> oferece uma tecnologia composta para criar <code><font color="#0000FF">SwiftUI</font></code> de <code><font color="#0000FF">SwiftUI</font></code> partir de muitas pequenas <code><font color="#0000FF">Views</font></code> , e já vimos que nosso aplicativo se encaixa muito bem com essa tecnologia, pois se divide em pequenas partes: o conjunto " <code><font color="#0000FF">ChartView</font></code> Charts", " <code><font color="#0000FF">GraphsForChart</font></code> Charts", <code>Y</code> <code><font color="#0000FF">YTickerView</font></code> - <code><font color="#0000FF">YTickerView</font></code> , indicador acionado pelo usuário dos valores "Graphs" <code><font color="#0000FF">IndicatorView</font></code> , linha " <code><font color="#0000FF">TickerView</font></code> " em execução com <code><font color="#0000FF">TickerView</font></code> data e hora no eixo <code>X</code> , <code><font color="#0000FF">RangeView</font></code> "janela de tempo" acionado pelo usuário, marcas para ocultar / mostrar o <code><font color="#0000FF">CheckMarksView</font></code> "Graphs".  Não podemos apenas criar todas essas <code><font color="#0000FF">Views</font></code> independentemente uma da outra, mas também testar imediatamente no <code>Xcode 11</code> usando <code><font color="#0000FF">Previews</font></code> ( <code><font color="#0000FF">Previews</font></code> preliminares "ao vivo") nos dados de teste.  Você ficará surpreso com a simplicidade do código para criá-los a partir de outras <code><font color="#0000FF">Views</font></code> mais básicas. <br><br><h3>  <code><font color="#0000FF">GraphView</font></code> - "Gráfico" ("Linha") </h3><br>  A primeira <code><font color="#0000FF">View</font></code> , com a qual começaremos, é na verdade o próprio “Gráfico” (ou “Linha”).  Vamos chamá-lo de <code><font color="#0000FF">GraphView</font></code> : <br><br><img src="https://habrastorage.org/webt/el/qv/gl/elqvglloxidiuisuqfa6ue_ppgm.png"><br><br>  A criação de um <code><font color="#0000FF">GraphView</font></code> , como sempre, começa com a criação de um novo arquivo no <code>Xcode 11</code> usando o menu <code>File</code> → <code>New</code> → <code>File</code> : <br><br><img src="https://habrastorage.org/webt/e5/cj/36/e5cj36vuvyrgldcpsvoe-h49t8y.png"><br><br>  Em seguida, selecionamos o TIPO desejado do arquivo - este é o arquivo <code>SwiftUI</code> : <br><br><img src="https://habrastorage.org/webt/oj/qv/uz/ojqvuznrwfj2eak_rdxchb1zebo.png"><br><br>  ... atribua o nome "GraphView" à nossa <code><font color="#0000FF">View</font></code> e indique sua localização: <br><br><img src="https://habrastorage.org/webt/ul/k_/hh/ulk_hhp_irtcrjs3kau_gl1jtbo.png"><br><br>  Clique no botão <code>"Create"</code> e obtenha uma <code><font color="#0000FF">View</font></code> padrão com <code><font color="#0000FF">Text ( "Hello World!")</font></code> No meio da tela: <br><br><img src="https://habrastorage.org/webt/lt/-g/dm/lt-gdm28u35e_j0fcqntlfkzzk4.png"><br><br>  Nossa tarefa é substituir o <code><font color="#0000FF">Text ("Hello World!")</font></code> do <code><font color="#0000FF">Text ("Hello World!")</font></code> "Graph", mas primeiro vamos ver quais dados iniciais temos para criar o "Graph": <br><br><ul><li>  nós temos os valores de <code><font color="#0000FF">line.points</font></code> "Graphics" <code><font color="#0000FF">line: Line</font></code> , </li><li>  intervalo de tempo <code><font color="#0000FF">rangeTime</font></code> , que é um intervalo de índices <code><font color="#0000FF">Range</font></code> carimbos <code><font color="#0000FF">Range</font></code> hora <code><font color="#0000FF">xTime</font></code> no eixo X, </li><li>  faixa de valores <code><font color="#0000FF">rangeY: Range</font></code> “Graphics” para o <code><font color="#0000FF">rangeY: Range</font></code> Y, </li><li>  espessura da linha da linha de traçado "Gráficos" </li></ul><br>  Adicione essas propriedades à estrutura <code><font color="#0000FF">GraphView</font></code> : <br><br><img src="https://habrastorage.org/webt/u1/ox/yk/u1oxyk-mytozrngercig59livp4.png"><br><br>  Se quisermos usar para nossas <code><font color="#0000FF">Previews</font></code> "Gráficos" (visualizações), que são possíveis apenas para o <code>MacOS Catalyna</code> , devemos iniciar um <code><font color="#0000FF">GraphView</font></code> com o intervalo de índices <code><font color="#0000FF">rangeTime</font></code> e os dados de <code><font color="#0000FF">line</font></code> dos próprios "Gráficos": <br><br><img src="https://habrastorage.org/webt/ke/pm/ff/kepmffuuv1oqjczavsmk4ylehsm.png"><br><br>  Já temos os dados de teste <code><font color="#0000FF">chartsData</font></code> que obtivemos do arquivo <code>JSON</code> <code>chart.json</code> e usamos para <code><font color="#0000FF">Previews</font></code> - <code><font color="#0000FF">Previews</font></code> . <br><br>  No nosso caso, este será o primeiro "conjunto de <code><font color="#0000FF">chartsData[0]</font></code> " <code><font color="#0000FF">chartsData[0]</font></code> e o primeiro "Gráfico" neste conjunto de <code><font color="#0000FF">chartsData[0].lines[0]</font></code> , que forneceremos o <code><font color="#0000FF">GraphView</font></code> como o parâmetro de <code><font color="#0000FF">line</font></code> . <br><br>  Usaremos todo o intervalo de índices <code><font color="#0000FF">0..&lt;(chartsData[0].xTime.count - 1)</font></code> como intervalo de tempo <code><font color="#0000FF">rangeTime</font></code> . <br>  Os <code><font color="#0000FF">lineWidth</font></code> e <code><font color="#0000FF">lineWidth</font></code> podem ser definidos externamente ou não, pois já possuem valores iniciais: <code><font color="#0000FF">rangeY</font></code> é <code><font color="#0000FF">nil</font></code> e <code><font color="#0000FF">lineWidth</font></code> é <code><font color="#0000FF">1</font></code> . <br><br>  Intencionalmente, <code><font color="#0000FF">rangeY</font></code> um TYPE da propriedade <code><font color="#0000FF">rangeY</font></code> Propriedade <code>Optional</code> TYPE, porque se <code><font color="#0000FF">rangeY</font></code> não <code><font color="#0000FF">rangeY</font></code> definido externamente e <code><font color="#0000FF">rangeY = nil</font></code> , calcularemos os valores mínimo <code><font color="#0000FF">minY</font></code> e máximo <code><font color="#0000FF">maxY</font></code> dos "Gráficos" diretamente a partir da <code><font color="#0000FF">line.points</font></code> . <br><br><img src="https://habrastorage.org/webt/hm/8s/td/hm8stdxllwz2cjz-mx1mribdmz0.png"><br><br>  Esse código é compilado, mas ainda temos uma <code><font color="#0000FF">View</font></code> padrão na tela com o texto <code><font color="#0000FF">Text ("Hello World!")</font></code> No meio da tela: <br><br><img src="https://habrastorage.org/webt/a7/gb/cb/a7gbcbzmh8o2vqwvxjaymj_-efq.png"><br><br>  Porque no <code><font color="#0000FF">body</font></code> temos que substituir o texto <code><font color="#0000FF">Text ("Hello World!")</font></code> <code><font color="#0000FF">Path</font></code> , que criará nosso "Graph: points: <code><font color="#0000FF">line.points</font></code> usando o <code><font color="#0000FF">addLines(_:)</font></code> (quase como no <code><font color="#0000FF">Core Graphics</font></code> ) <br><br><img src="https://habrastorage.org/webt/d8/kk/so/d8kksod7xystc05pnet590ffnqi.png"><br><img src="https://habrastorage.org/webt/u4/g_/oo/u4g_oozbtounjhimpueunibqimw.png"><br><br>  <code><font color="#0000FF">lineWidth</font></code> <code><font color="#0000FF">stroke (...)</font></code> nosso <code><font color="#0000FF">Path</font></code> linha cuja espessura é <code><font color="#0000FF">lineWidth</font></code> , e a cor da linha do traçado corresponderá à cor padrão (ou seja, preto): <br><br><img src="https://habrastorage.org/webt/go/hb/ha/gohbhaazgmzagwgb39hbwxv1r7m.png"><br><br>  Podemos substituir a cor preta da linha de traçado pela cor especificada em nosso <code><font color="#0000FF">line.color</font></code> "Linha" específico "Cor": <br><br><img src="https://habrastorage.org/webt/jp/ru/e-/jprue-t_4pthzn2jov-uqunbvim.png"><br><br>  Para que nosso "Gráfico" seja colocado em retângulos de qualquer tamanho, usamos o contêiner <code><font color="#0000FF">GeometryReader</font></code> .  Na documentação da <code>Apple</code> <code><font color="#0000FF">GeometryReader</font></code> é uma <code><font color="#0000FF">View</font></code> "contêiner" que define seu conteúdo como uma função de seu próprio tamanho de <code><font color="#0000FF">size</font></code> e espaço de coordenadas.  Essencialmente, <code><font color="#0000FF">GeometryReader</font></code> é outra <code><font color="#0000FF">View</font></code> !  Porque quase tudo no <code><font color="#0000FF">SwiftUI</font></code> é <code><font color="#0000FF">View</font></code> !  <code><font color="#0000FF">GeometryReader</font></code> permitirá que você, diferentemente de outras <code><font color="#0000FF">Views</font></code> acesse algumas informações adicionais úteis que você pode usar ao criar sua <code><font color="#0000FF">View</font></code> personalizada. <br><br>  Usamos os contêineres <code><font color="#0000FF">GeometryReader</font></code> e <code><font color="#0000FF">Path</font></code> para criar o <code><font color="#0000FF">GraphView</font></code> adaptável a qualquer tamanho.  E se olharmos atentamente para o nosso código, veremos no fechamento do <code><font color="#0000FF">GeometryReader</font></code> variável chamada <code><font color="#0000FF">geometry</font></code> : <br><br><img src="https://habrastorage.org/webt/_s/0d/3y/_s0d3ycqsymzwtqhqril4ycawru.png"><br><br>  Essa variável possui o <code><font color="#0000FF">GeometryProxy</font></code> TYPE, que por sua vez é uma estrutura <code><font color="#0000FF">struct</font></code> com muitas "surpresas": <br><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> size: <span class="hljs-type"><span class="hljs-type">CGSize</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> safeAreaInsets: <span class="hljs-type"><span class="hljs-type">EdgeInsets</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">frame</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">in</span></span></span></span><span class="hljs-function"><span class="hljs-params"> coordinateSpace: CoordinateSpace)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">CGRect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">subscript</span></span>&lt;<span class="hljs-type"><span class="hljs-type">T</span></span>&gt;(anchor: <span class="hljs-type"><span class="hljs-type">Anchor</span></span>&lt;<span class="hljs-type"><span class="hljs-type">T</span></span>&gt;) -&gt; <span class="hljs-type"><span class="hljs-type">T</span></span> <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> <span class="hljs-type"><span class="hljs-type">T</span></span> : <span class="hljs-type"><span class="hljs-type">Equatable</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> }</code> </pre><br>  A partir da definição de <code><font color="#0000FF">GeometryProxy</font></code> , vemos que existem duas variáveis ​​computadas <code><font color="#0000FF">var size</font></code> e <code><font color="#0000FF">var safeAreaInsets</font></code> , um <code><font color="#0000FF">frame( in:)</font></code> função <code><font color="#0000FF">frame( in:)</font></code> e um <code><font color="#0000FF">subscript getter</font></code> .  Precisamos apenas da variável de <code><font color="#0000FF">size</font></code> para determinar a largura da largura <code><font color="#0000FF">geometry.size.width</font></code> e altura da <code><font color="#0000FF">geometry.size.height</font></code> área de desenho “Graphics”. <br><br>  Além disso, permitimos que nosso “Gráfico” seja animado usando o modificador de <code><font color="#0000FF">animation (.linear(duration: 0.6))</font></code> . <br><br><img src="https://habrastorage.org/webt/fi/kc/4u/fikc4uzehzfzkwvqza6zm_curwy.png"><br><br>  <code><font color="#0000FF">GraphView_Previews</font></code> nos permite testar quaisquer "Gráficos" de qualquer "conjunto" de maneira muito simples.  Abaixo está o "Gráfico" do "conjunto de gráficos" com o índice 4: <code><font color="#0000FF">chartsData[4]</font></code> e o índice 0 "Gráficos" neste conjunto: <code><font color="#0000FF">chartsData[4].lines[0]</font></code> : <br><br><img src="https://habrastorage.org/webt/gk/nv/74/gknv74w88p7hv46koyptkkkqn-k.png"><br><br>  Definimos a <code><font color="#0000FF">height</font></code> “Gráficos” para 400 usando o <code><font color="#0000FF">frame (height: 400)</font></code> , a largura permanece a mesma que a largura da tela.  Se não usamos o <code><font color="#0000FF">frame (height: 400)</font></code> , o "Gráfico" ocuparia a tela inteira.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Não especificamos um intervalo de valores </font></font><code><font color="#0000FF">rangeY</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code><font color="#0000FF">GraphView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usamos o valor </font></font><code><font color="#0000FF">nil</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">padrão. Nesse caso, o "Gráfico" leva seus valores mínimo e máximo no intervalo de tempo </font></font><code><font color="#0000FF">rangeTime</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/ga/nm/c6/ganmc6t8wiap8exed4yxqwkgyqo.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">embora tenhamos usado um </font></font><code><font color="#0000FF">Path</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modificador </font><font style="vertical-align: inherit;">para o nosso </font><font style="vertical-align: inherit;">modelo </font></font><code><font color="#0000FF">animation (.linear(duration: 0.6))</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, nenhuma animação ocorrerá, por exemplo, ao alterar o intervalo de </font></font><code><font color="#0000FF">rangeY</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valores " Gráficos ". Um "gráfico" simplesmente "salta" de um valor de um intervalo </font></font><code><font color="#0000FF">rangeY</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para outro sem nenhuma animação. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O motivo é simples: ensinamos </font></font><code><font color="#0000FF">SwiftUI</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">como desenhar um “Gráfico” para um intervalo específico </font></font><code><font color="#0000FF">rangeY</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mas não ensinamos </font></font><code><font color="#0000FF">SwiftUI</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">como reproduzir um “Gráfico” várias vezes com valores intermediários do intervalo </font></font><code><font color="#0000FF">rangeY</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">entre o início e o fim, e para isso em</font></font><code><font color="#0000FF">SwiftUI</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atende ao protocolo </font></font><code><font color="#0000FF">Animatable</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Felizmente, se a sua </font></font><code><font color="#0000FF">View</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é uma "figura", isto é </font></font><code><font color="#0000FF">View</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que implementa um protocolo </font></font><code><font color="#0000FF">Shape</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, então um </font><font style="vertical-align: inherit;">protocolo </font><font style="vertical-align: inherit;">já foi implementado para ele </font></font><code><font color="#0000FF">Animatable</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Isso significa que existe uma propriedade computada </font></font><code><font color="#0000FF">animatableData</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com a qual podemos controlar o processo de animação, mas, por padrão, é definida como </font></font><code><font color="#0000FF">EmptyAnimatableData</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ou seja, nenhuma animação ocorre. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para resolver o problema da animação, primeiro precisamos transformar nosso "Gráfico" </font></font><code><font color="#0000FF">GraphView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em </font></font><code><font color="#0000FF">Shape</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. É muito simples, precisamos apenas implementar a função </font></font><code><font color="#0000FF">func path (in rect:CGRect) -&gt; Path</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que já possuímos e indicar com a ajuda da propriedade computada </font></font><code><font color="#0000FF">animatableData</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quais dados queremos animar: </font></font><br><br><img src="https://habrastorage.org/webt/ie/xm/gt/iexmgtfxveueipqyopubpbb_3uc.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observe que o tema do controle de animação é um tópico avançado em</font></font><code><font color="#0000FF">SwiftUI</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e você pode aprender mais sobre isso no artigo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Animações avançadas do SwiftUI - Parte 1: Caminhos”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Podemos usar a </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"figura" resultante </font></font><code><font color="#0000FF">Graph</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em um </font></font><code><font color="#0000FF">GraphViewNew</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Gráficos" </font><font style="vertical-align: inherit;">muito mais simples </font><font style="vertical-align: inherit;">com animação: </font></font><br><br><img src="https://habrastorage.org/webt/yq/qk/ca/yqqkcah_txfmxn3zsaiixwbmjak.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">você vê que não precisamos </font></font><code><font color="#0000FF">GeometryReader</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dos nossos novos "Gráficos" </font></font><code><font color="#0000FF">GraphViewNew</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, porque, graças ao protocolo, </font></font><code><font color="#0000FF">Shape</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nossa "figura" </font></font><code><font color="#0000FF">Graph</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">poderá se adaptar a qualquer tamanho do pai </font></font><code><font color="#0000FF">View</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Naturalmente, </font></font><code><font color="#0000FF">Previews</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">obtivemos o mesmo resultado que no caso de </font></font><code><font color="#0000FF">GraphView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/bo/dn/tb/bodntbqfjjkcnwqyzvhzkljand0.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nas seguintes combinações, usaremos os </font></font><code><font color="#0000FF">GraphViewNew</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mesmos "Gráficos" para exibir os valores.</font></font><br><br><h3> <code><font color="#0000FF">GraphsForChart</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - conjunto de "gráficos" ("linhas") </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O objetivo deste </font></font><code><font color="#0000FF">View</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Exibe todos "Gráficos" ( "linhas") de "ajustou gráficos" </font></font><code><font color="#0000FF">chart</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em um intervalo de tempo pré-determinado </font></font><code><font color="#0000FF">rangeTime</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com um eixo comum </font></font><code>Y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, a largura das "linhas" é igual a </font></font><code><font color="#0000FF">lineWidth</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/yp/nj/eu/ypnjeuqfnjxvrzwe-mfe8ui7slo.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tal como acontece com </font></font><code><font color="#0000FF">GraphView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code><font color="#0000FF">GraphViewNew</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vamos criar </font></font><code><font color="#0000FF">GraphsForChart</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um novo arquivo </font></font><code>GraphsForChart.swift</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, e definir os dados de entrada para "Conjunto de gráficos":</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o próprio "conjunto de gráficos" </font></font><code><font color="#0000FF">chart: LineSet</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(valores ativados </font></font><code> Y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">),</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intervalo </font></font><code><font color="#0000FF">rangeTime: Range</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code> X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) de índices dos carimbos de hora de "Gráficos",</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> espessura do traçado da linha do gráfico </font></font><code><font color="#0000FF">lineWidth</font></code> </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O intervalo de valores </font></font><code><font color="#0000FF">rangeY: Range</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para o "conjunto de gráficos" ( </font></font><code> Y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) é calculado como a união dos intervalos do indivíduo </font><font style="vertical-align: inherit;">não oculto </font><font style="vertical-align: inherit;">( </font></font><code><font color="#0000FF">isHidden = false</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) "Gráficos" incluídos neste "conjunto": </font></font><br><br><img src="https://habrastorage.org/webt/xb/jd/mj/xbjdmjbwiyguhmplj1znuy794fq.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para isso, usamos a função </font></font><code><font color="#0000FF">rangeOfRanges</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">Mostramos </font></font><br><br><img src="https://habrastorage.org/webt/w-/uh/hr/w-uhhrzrrdp8wjznihwiduyatni.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">todos os gráficos NÃO ocultos ( </font></font><code><font color="#0000FF">isHidden = false</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) na </font></font><code><font color="#0000FF">ZStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">construção </font></font><code><font color="#0000FF">ForEach</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dando a cada “gráfico” a possibilidade de aparecer na tela e sair da tela “usando o modificador“ mover ” </font></font><code><font color="#0000FF">transition(.move(edge: .top))</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/el/pe/n5/elpen5p3hgqi9n3izkbwpssfeo4.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">graças a esse modificador, o processo de ocultar e retornar o“ gráfico ” </font></font><code><font color="#0000FF">ChartView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ocorrerá na tela com animação e deixará claro para o usuário por que a escala mudou </font></font><code> Y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use </font></font><code><font color="#0000FF">drawingGroup()</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">significa use</font></font><code>Metal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para desenhar formas gráficas. </font><font style="vertical-align: inherit;">Em nossos dados de teste e no simulador, você não sentirá a diferença na velocidade do desenho com </font></font><code>Metal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code> Metal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mas se você reproduzir muitos gráficos bastante volumosos em qualquer um </font></font><code>iPhone</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deles, notará essa diferença. </font><font style="vertical-align: inherit;">Para uma introdução mais detalhada, quando usá-lo </font></font><code><font color="#0000FF">drawingGroup()</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, você pode ver o artigo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Animações avançadas do SwiftUI - Parte 1: Caminhos"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou assistir à sessão de vídeo 237 WWDC 2019 ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando visualizações personalizadas com o SwiftUI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como no caso de </font></font><code><font color="#0000FF">GraphViewNew</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">testes </font></font><code><font color="#0000FF">GraphsForChart</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usando visualizações, </font></font><code><font color="#0000FF">Previews</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">podemos defina qualquer "conjunto de gráficos", por exemplo, com um índice </font></font><code><font color="#0000FF">0</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><img src="https://habrastorage.org/webt/3f/0s/v_/3f0sv_wpwemxkrdtsjdn2utz_ca.png"><br><br><h3> <code><font color="#0000FF">IndicatorView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - indicador "Gráficos" movido horizontalmente. </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este indicador permite obter os valores exatos de "Gráficos" e o tempo para o ponto correspondente no momento </font></font><code> X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/vi/xt/sq/vixtsqqwrjuu3dj55vzmhxyibhy.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O indicador é criado para um "conjunto de gráficos" específico </font></font><code><font color="#0000FF">chart</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e consiste em mover-se ao longo da </font></font><code> X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LINHA vertical com MARCAS na forma de "círculos" no lugar dos valores de "Gráficos". Um pequeno "POSTER" é anexado ao topo desta linha vertical, contendo os valores numéricos dos "Gráficos" e da hora. </font></font><br><br><img src="https://habrastorage.org/webt/nu/0q/7n/nu0q7nmjrtoqgcaaaasp2b3ukks.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O indicador desliza pelo usuário usando um gesto </font></font><code><font color="#0000FF">DragGesture</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/v4/4w/zg/v44wzgzsujx-w7f9iymlfuijlia.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usamos a chamada execução de gesto “incremental”. Em vez de uma distância contínua do ponto de partida </font></font><code><font color="#0000FF">value.translation.width</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code><font color="#0000FF">onChanged</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">receberemos constantemente a distância do local em que estávamos na última vez em que executamos o gesto </font><font style="vertical-align: inherit;">no manipulador </font><font style="vertical-align: inherit;">:</font></font><code><font color="#0000FF">value.translation.width - self.prevTranslation</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Isso nos fornecerá um movimento suave do indicador. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para testar o indicador </font></font><code><font color="#0000FF">IndicatorView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com a ajuda de um </font></font><code><font color="#0000FF">Previews</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">determinado "conjunto de gráficos", </font></font><code><font color="#0000FF">chart</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">podemos atrair a </font></font><code><font color="#0000FF">View</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">construção </font><font style="vertical-align: inherit;">pronta </font><font style="vertical-align: inherit;">de "gráficos" </font></font><code><font color="#0000FF">GraphsForChart</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/ce/cb/oy/cecboyk2-z74i_zdenfvkl36kya.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">podemos definir qualquer intervalo de tempo, mas coordenado entre si, para </font></font><code><font color="#0000FF">rangeTime</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o indicador </font></font><code><font color="#0000FF">IndicatorView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e "gráficos" </font></font><code><font color="#0000FF">GraphsForChart</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Isso nos permitirá garantir que os "círculos" que indicam os valores dos "Gráficos" estejam nos lugares certos.</font></font><br><br><h3> <code><font color="#0000FF">TickerView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code> X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com marcas.</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Até o momento, nossos “Gráficos” são despersonalizados no sentido de que NÃO </font></font><code> X  Y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">possuem as escalas e marcas apropriadas. Vamos desenhar </font></font><code> X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com timestamps </font></font><code><font color="#0000FF">TickerMarkView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nele. marca Sami </font></font><code><font color="#0000FF">TickerMarkView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">são muito simples </font></font><code><font color="#0000FF">View</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pilha vertical </font></font><code><font color="#0000FF">VStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em que estão dispostas </font></font><code><font color="#0000FF">Path</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code><font color="#0000FF">Text</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/qj/5f/ms/qj5fmst7za8mibfd16lv43fq_wa.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O conjunto de marcas sobre o eixo de tempo para um certo "conjunto de gráficos" </font></font><code><font color="#0000FF">chart : LineSet</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">formados </font></font><code><font color="#0000FF">TickerView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de acordo com o intervalo de tempo seleccionado pelo utilizador </font></font><code><font color="#0000FF">rangeTime</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e a quantidade aproximada de marcas </font></font><code><font color="#0000FF">estimatedMarksNumber</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, os quais devem estar no campo de visão do utilizador: </font></font><br><br><img src="https://habrastorage.org/webt/6n/cq/pd/6ncqpdiagf-023ftarlzz_qaqgo.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para arranjo Carimbos de data e hora em execução, usamos uma </font></font><code><font color="#0000FF">ScrollView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pilha horizontal</font></font><code><font color="#0000FF">HStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que mudará conforme o intervalo de tempo for alterado </font></font><code><font color="#0000FF">rangeTime</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como </font></font><code><font color="#0000FF">TickerView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se formar um degrau </font></font><code><font color="#0000FF">step</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que aparecem selo de tempo </font></font><code><font color="#0000FF">TimeMarkView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com base num intervalo de tempo predeterminado </font></font><code><font color="#0000FF">rangeTime</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e a largura da tela </font></font><code><font color="#0000FF">widthRange</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... </font></font><br><br><img src="https://habrastorage.org/webt/dv/0a/um/dv0aum4_9qfirikrlgzpquc4tio.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... e, em seguida, seleccionar o tempo do passo c selo </font></font><code><font color="#0000FF">step</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">da matriz </font></font><code><font color="#0000FF">chart.xTime</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por meio do índice </font></font><code><font color="#0000FF">indexes</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na verdade </font></font><code> X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- uma linha horizontal - vamos colocar </font></font><code><font color="#0000FF">overlay</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... </font></font><br><br><img src="https://habrastorage.org/webt/_z/_z/bh/_z_zbh7qxng8xsqeor_mje-4bb8.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... em uma pilha horizontal </font></font><code><font color="#0000FF">HStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, com registros de data </font></font><code><font color="#0000FF">TimeMarkView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font><font style="vertical-align: inherit;">hora </font><font style="vertical-align: inherit;">, com os quais avançamos </font></font><code><font color="#0000FF">offset</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/lx/ha/ha/lxhahaxobvg1e0novqhdqcv6ju8.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Além disso, podemos definir as cores do </font></font><code> X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- em </font><font style="vertical-align: inherit;">si </font></font><code><font color="#0000FF">colorXAxis</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e as marcas - </font></font><code><font color="#0000FF">colorXMark</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><img src="https://habrastorage.org/webt/fp/e5/lc/fpe5lcp-_a4e_okpgb3hmbpopto.png"><br><br><h3> <code><font color="#0000FF">YTickerView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code> Y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com marcas e uma grade.</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Este </font></font><code><font color="#0000FF">View</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desenha </font></font><code> Y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com marcas digitais </font></font><code><font color="#0000FF">YMarkView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. As próprias marcas </font></font><code><font color="#0000FF">YMarkView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">são muito simples, </font></font><code><font color="#0000FF">View</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com uma pilha vertical </font></font><code><font color="#0000FF">VStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na qual são colocadas </font></font><code><font color="#0000FF">Path</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(linha horizontal) e </font></font><code><font color="#0000FF">Text</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com um número: </font></font><br><br><img src="https://habrastorage.org/webt/sl/1l/u-/sl1lu-qb3vu0prdm20x1mml8uxs.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um conjunto de marcas ativadas </font></font><code> Y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para um determinado "conjunto de tabelas" </font></font><code><font color="#0000FF">chart</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é formado </font></font><code><font color="#0000FF">YTickerView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. O intervalo de valores </font></font><code><font color="#0000FF">rangeY</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é calculada como a união de todas as gamas de valores "Graphics", incluído no "conjunto de gráficos" com a função </font></font><code><font color="#0000FF">rangeOfRanges</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. O número aproximado de marcas no eixo Y é definido pelo parâmetro </font></font><code><font color="#0000FF">estimatedMarksNumber</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/2i/0t/s6/2i0ts6fkosuamlcuekwltqp8ars.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Â </font></font><code><font color="#0000FF">YTickerView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">monitoramos a alteração no intervalo dos valores de "Gráficos" </font></font><code><font color="#0000FF">rangeY</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Na verdade, o eixo Y - a linha vertical - impomos </font></font><code><font color="#0000FF">overlay</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">às nossas marcas ...</font></font><br><br><img src="https://habrastorage.org/webt/fp/ux/vd/fpuxvd0yeuhcliigesjup79ep0g.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Além disso, podemos definir as cores do próprio eixo Y </font></font><code><font color="#0000FF">colorYAxis</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e as marcas - </font></font><code><font color="#0000FF">colorYMark</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><img src="https://habrastorage.org/webt/p3/j9/fx/p3j9fx2xe0y0rowdofhru1drlr8.png"><br><br><h3> <code><font color="#0000FF">RangeView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - definir o intervalo de tempo usando o "mini-mapa". </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A parte mais comovente de nossa interface do usuário é definir o intervalo de tempo ( </font></font><code><font color="#0000FF">lowerBound</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code><font color="#0000FF">upperBound</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) para exibir o "conjunto de gráficos": </font></font><br><br><img src="https://habrastorage.org/webt/-h/6u/8k/-h6u8kncvpv4pkxwcabhf_qlwh0.png"><br><br> <code><font color="#0000FF">RangeView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- é meio que </font></font><code>mini - map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">destacar uma seção de tempo específica para fins de uma consideração mais detalhada do "conjunto de gráficos" em outros </font></font><code><font color="#0000FF">Views</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como nos anteriores </font></font><code><font color="#0000FF">View</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, os dados iniciais para </font></font><code><font color="#0000FF">RangeView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">são:</font></font><br><br><img src="https://habrastorage.org/webt/ze/lh/hm/zelhhm0q-nuriuyeamidrtmr7zq.png"><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o próprio "conjunto de gráficos" </font></font><code><font color="#0000FF">chart: LineSet</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(valores </font></font><code>Y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">),</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">altura </font></font><code><font color="#0000FF">height</font></code> <code>"mini-map"</code> <code><font color="#0000FF">RangeView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">largura </font></font><code><font color="#0000FF">widthRange</font></code> <code>"mini-map"</code> <code><font color="#0000FF">RangeView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recuo </font></font><code><font color="#0000FF">indent</font></code> <code>"mini-map"</code> <code><font color="#0000FF">RangeView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diferentemente dos outros discutidos acima </font></font><code><font color="#0000FF">Views</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, devemos alterar o </font></font><code><font color="#0000FF">DragGesture</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intervalo de tempo ( </font></font><code><font color="#0000FF">lowerBound</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code><font color="#0000FF">upperBound</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">com um gesto </font><font style="vertical-align: inherit;">e ver imediatamente sua alteração, para que o intervalo de tempo definido pelo usuário ( </font></font><code><font color="#0000FF">lowerBound</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code><font color="#0000FF">upperBound</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) com o qual trabalharemos seja armazenado em uma variável variável </font></font><code><font color="#0000FF">@EnvironmentObject var userData: UserData</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/cr/mf/r8/crmfr8u455ij8zkeyk_c6wvgimw.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qualquer alteração na variável </font></font><code><font color="#0000FF">var userData</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">levará a redesenhar todos </font></font><code><font color="#0000FF">Views</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dependentes dele. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O personagem principal </font></font><code><font color="#0000FF">RangeView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é uma “janela” transparente, cuja posição e tamanho são regulados pelo usuário com um gesto </font></font><code><font color="#0000FF">DragGesture</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. se usarmos o gesto dentro de uma “janela” transparente, a POSIÇÃO da “janela” </font></font><code> X</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">muda e seu tamanho não muda:</font></font><br><br><img src="https://habrastorage.org/webt/gi/kr/en/gikrenmvik9d-vwnxkxgyjukchk.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. se usarmos um gesto na parte escura da esquerda, somente a FRONDA ESQUERDA da “janela” muda </font></font><code><font color="#0000FF">lowerBound</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, permitindo diminuir ou aumentar a largura da “janela” transparente: </font></font><br><br><img src="https://habrastorage.org/webt/sa/bb/ud/sabbudvk8c4npw3rqwnn3dnje70.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. se usarmos um gesto na parte escura da direita, somente a FRONDA DIREITA da “janela” muda </font></font><code><font color="#0000FF">upperBound</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, permitindo diminuir ou aumentar a largura da “janela” transparente: </font></font><br><br><img src="https://habrastorage.org/webt/hb/hd/94/hbhd94uyj3kvkgjskq4ymtlpb1a.png"><br><br> <code><font color="#0000FF">RangeView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">consiste em 3 elementos básicos muito simples: dois retângulos </font></font><code><font color="#0000FF">Rectangle ()</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e uma imagem </font></font><code><font color="#0000FF">Image</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, cujas bordas são determinadas pelas propriedades </font></font><code><font color="#0000FF">lowerBound</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e a </font></font><code><font color="#0000FF">upperBound</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partir de </font></font><code><font color="#0000FF">@EnvironmentObject var userData: UserData</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e são ajustadas usando gestos </font></font><code><font color="#0000FF">DragGesture</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/lv/8f/ko/lv8fkojv9ebiz9glwpqziatyshk.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Sobrepomos” ( </font></font><code><font color="#0000FF">overlay</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) o familiar </font><font style="vertical-align: inherit;">desta construção ( </font><font style="vertical-align: inherit;">) -nos </font></font><code><font color="#0000FF">GraphsForChartView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para "gráfico" de um determinado "conjunto de gráficos" </font></font><code><font color="#0000FF">chart</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><img src="https://habrastorage.org/webt/v4/qj/ll/v4qjllex5cv8elmq9j6zelnimkg.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isso nos permitirá monitorar quanto dos "gráficos" entra na "janela". </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qualquer mudança na "janela" transparente (ele é movido inteiramente ou mudança de fronteiras) é uma conseqüência de mudanças nas propriedades </font></font><code><font color="#0000FF">lowerBound</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code><font color="#0000FF">upperBound</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em userData nas funções de </font></font><code><font color="#0000FF">onChanged</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">processamento de sinal </font></font><code><font color="#0000FF">DragGesture</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nas duas caixas </font></font><code><font color="#0000FF">Rectangle ()</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e imagem </font></font><code><font color="#0000FF">Image</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... </font></font><br><br><img src="https://habrastorage.org/webt/9g/uv/em/9guvemkjpr39ihj_w5xmdew90ua.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isto é, como já sabemos, levará automaticamente para redesenhar o outro </font></font><code><font color="#0000FF">Views</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(neste caso, “Gráficos”, eixo X com marcas, eixo Y com marcas e indicador c </font></font><code><font color="#0000FF">hartView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">): </font></font><br><br><img src="https://habrastorage.org/webt/jx/qq/nt/jxqqntjuvpdwbo52uezrhdkklyu.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como o nosso </font></font><code><font color="#0000FF">View</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contém uma variável </font></font><code><font color="#0000FF">@EnvironmentObject userData: UserData</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, para visualizações </font></font><code><font color="#0000FF">Previews</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, devemos definir seu valor inicial usando </font></font><code><font color="#0000FF">.environmentObject (UserData())</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><img src="https://habrastorage.org/webt/xo/vo/ms/xovomsbphswg4cqogfb79rahfn0.png"><br><br><h3> <code><font color="#0000FF">CheckMarksView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - "ocultando" e mostrando "gráficos". </font></font></h3><br> <code><font color="#0000FF">CheckMarksView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é uma pilha horizontal </font></font><code><font color="#0000FF">HStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com uma linha </font></font><code>checkBoxes</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para alternar as propriedades de </font></font><code><font color="#0000FF">isHidden</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cada "Gráficos" individuais no "conjunto de gráficos" </font></font><code><font color="#0000FF">chart</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/zt/qj/te/ztqjtefsylug2bfraz89cnwojok.png"><br><br> <code><font color="#0000FF">CheckBox</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em nosso projeto, ele pode ser implementado usando um botão regular </font></font><code><font color="#0000FF">Button</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e chamado </font></font><code><font color="#0000FF">CheckButton</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ou usando um botão de simulação </font></font><code><font color="#0000FF">SimulatedButton</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><img src="https://habrastorage.org/webt/fz/e5/ef/fze5efrmahu4b1tmifksllqooou.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O botão </font></font><code><font color="#0000FF">Button</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">teve que ser imitado porque, ao colocar vários desses botões no </font></font><code><font color="#0000FF">List</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localizado mais alto na hierarquia, eles "recusam" a funcionar corretamente. Este é um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bug de longa data</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que ficou preso no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xcode 11 desde o beta 1 até a versão atual</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . A versão atual do aplicativo usa um botão simulado </font></font><code><font color="#0000FF">SimulatedButton</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O botão simulado </font></font><code><font color="#0000FF">SimulatedButton</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e o botão real</font></font><code><font color="#0000FF">CheckButton</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">use a mesma coisa </font></font><code><font color="#0000FF">View</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para a sua "aparência" - </font></font><code><font color="#0000FF">CheckBoxView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Isso </font></font><code><font color="#0000FF">HStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contém </font></font><code><font color="#0000FF">Tex</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code><font color="#0000FF">Image</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/eo/2l/i-/eo2li-qvqfxmlyjh9c0yu7hxf4o.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observe que o parâmetro de inicialização </font></font><code><font color="#0000FF">CheckBoxView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é uma </font></font><code><font color="#0000FF">@Binding</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">variável </font></font><code><font color="#0000FF">var line: Line</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. A propriedade </font></font><code><font color="#0000FF">isHidden</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desta variável define a "aparência" </font></font><code><font color="#0000FF">CheckBoView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/gc/sz/4m/gcsz4moq72xv3eoxhof9hb7in8e.png"><br><img src="https://habrastorage.org/webt/bx/dx/sc/bxdxscnfmsadskh9ye1osfpryge.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ao usar </font></font><code><font color="#0000FF">CheckBoView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in </font></font><code><font color="#0000FF">SimulatedButton</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e in, </font></font><code><font color="#0000FF">CheckButton</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">você deve usar o sinal </font></font><code><font color="#0000FF">$</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para </font></font><code><font color="#0000FF">line</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">durante a inicialização: </font></font><br><br><img src="https://habrastorage.org/webt/-i/_c/e9/-i_ce9sihdp9op0fhgb2xbswye4.png"><br><img src="https://habrastorage.org/webt/yj/kh/pj/yjkhpjuoecgzysng-x4wwy3lcv4.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A propriedade da </font></font><code><font color="#0000FF">isHidden</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">variável é </font></font><code><font color="#0000FF">line</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ativada </font></font><code><font color="#0000FF">SimulatedButton</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com </font></font><code><font color="#0000FF">onTapGesture</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... </font></font><br><br><img src="https://habrastorage.org/webt/vt/im/xz/vtimxzby-vaotjdld3hsrzqek1c.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... e in </font></font><code><font color="#0000FF">CheckButton</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- com o </font></font><code><font color="#0000FF">action</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">botão </font><font style="vertical-align: inherit;">usual </font></font><code><font color="#0000FF">Button</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/cf/ni/zs/cfnizshn609usurlzrnxeb6iwpq.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observe que o parâmetro de inicialização para </font></font><code><font color="#0000FF">SimulatedButton</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code><font color="#0000FF">CheckButton</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">também </font><font style="vertical-align: inherit;">é</font></font><code><font color="#0000FF">@Binding</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">variável </font></font><code><font color="#0000FF">var line: Line</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Portanto, seu uso deve ser aplicada </font></font><code><font color="#0000FF">$</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">à </font></font><code><font color="#0000FF">CheckMarksView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">variável de comutação </font></font><code><font color="#0000FF">userData.charts[self.chartIndex].lines[self.lineIndex(line: line)].isHidden</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que é armazenado em uma variável global variável </font></font><code><font color="#0000FF">@EnvironmentObject var userData</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/gi/fu/pz/gifupzgtguur-qvdwdcftcciepw.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mantivemos não utilizado no projeto é actualmente </font></font><code><font color="#0000FF">CheckButton</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o caso, se de repente você </font></font><code>Apple</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vai corrigir este erro. </font><font style="vertical-align: inherit;">Além disso, você pode tentar usar </font></font><code><font color="#0000FF">CheckButton</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em </font></font><code><font color="#0000FF">CheckMarksView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vez </font></font><code><font color="#0000FF">SimulatedButton</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e certifique-se de que ele não funciona no caso da composição do conjunto, "um conjunto de gráficos </font></font><code><font color="#0000FF">ChartView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usando </font></font><code><font color="#0000FF">List</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no </font></font><code><font color="#0000FF">ListChartsView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como o nosso </font></font><code><font color="#0000FF">View</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contém uma variável </font></font><code><font color="#0000FF">@EnvironmentObject var userData: UserData</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, para visualizações </font></font><code><font color="#0000FF">Previews</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, devemos definir seu valor inicial com </font></font><code><font color="#0000FF">.environmentObject(UserData())</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><img src="https://habrastorage.org/webt/cd/e7/l6/cde7l6me6nfz3kwrbhehbf_3fxq.png"><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combinação de vários </font></font><code><font color="#0000FF">Views</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></h3><br> <code><font color="#0000FF">SwiftUI</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- isso é principalmente uma combinação de vários pequenos </font></font><code><font color="#0000FF">Views</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em grandes e grandes </font></font><code><font color="#0000FF">Views</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em muito grandes etc., como no jogo </font></font><code>Lego</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Como </font></font><code><font color="#0000FF">SwiftUI</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">há uma variedade de meios, tais combinação </font></font><code><font color="#0000FF">Views</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma pilha vertical </font></font><code><font color="#0000FF">VStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pilha horizontal </font></font><code><font color="#0000FF">HStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Profundidade" da pilha </font></font><code><font color="#0000FF">ZStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">grupo </font></font><code><font color="#0000FF">Group</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li><li> <code><font color="#0000FF">ScrollView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lista </font></font><code><font color="#0000FF">List</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">formar </font></font><code><font color="#0000FF">Form</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> recipiente de marcador </font></font><code><font color="#0000FF">TabView</font></code> </li><li>  etc. </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Começamos nossa combinação com a mais simples </font></font><code><font color="#0000FF">GraphsViewForChart</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que fornece o </font></font><code><font color="#0000FF">GraphsForChart</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AXIS Y </font><font style="vertical-align: inherit;">"sem rosto" "conjunto de gráficos" </font><font style="vertical-align: inherit;">e um indicador movendo-se ao longo do eixo X usando a pilha "profunda" </font></font><code><font color="#0000FF">ZStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/0c/fo/s9/0cfos9igmhy1bbpcnpzsywefxgw.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adicionamos um </font><font style="vertical-align: inherit;">contêiner </font><font style="vertical-align: inherit;">ao </font></font><code><font color="#0000FF">Previews</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nosso novo </font></font><code><font color="#0000FF">GraphsViewForChart</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contêiner </font></font><code><font color="#0000FF">NavigationView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para exibi-lo no </font></font><code>Dark</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modo usando um modificador </font></font><code><font color="#0000FF">.collorScheme(.dark)</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Continuamos a combinação e anexamos ao "conjunto de gráficos" obtido acima com o AXIS Y e um indicador, o AXIS X na forma de uma "linha de corrida", além de controles: o intervalo de tempo do "mini-mapa" </font></font><code><font color="#0000FF">RangeView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e os comutadores de </font></font><code><font color="#0000FF">CheckMarksView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exibição de "Gráficos". </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como resultado, obtemos o indicado acima </font></font><code><font color="#0000FF">ChartView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que exibe um "conjunto de gráficos" e permite controlar sua exibição no eixo do tempo:</font></font><br><br><img src="https://habrastorage.org/webt/ip/wf/8x/ipwf8xxpgdjlwlfy_fp9lv3fjwo.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nesse caso, executamos a combinação usando a pilha vertical </font></font><code><font color="#0000FF">VStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/p7/mr/hv/p7mrhv7fh-t742zlhhnhdwmajo4.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora, consideraremos 3 opções para combinar o conjunto de "ChartView Charts" já recebidos:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Tabela rolável" </font></font><code><font color="#0000FF">List</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pilha horizontal </font></font><code><font color="#0000FF">HStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com efeito 3D,</font></font></li><li> <code><font color="#0000FF">ZStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "cartões" sobrepostos </font></font></li></ol><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma “tabela rolável” é</font></font><code><font color="#0000FF">ListChartsView</font></code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> organizada usando uma lista </font></font><code><font color="#0000FF">List</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Uma </font></font><br><br><img src="https://habrastorage.org/webt/bu/e8/tk/bue8tkzjntcqfhh7akcjnvbiu0q.png"><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pilha horizontal com efeito 3D é</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> organizada usando uma </font></font><code><font color="#0000FF">ScrollView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pilha horizontal </font></font><code><font color="#0000FF">HStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e uma lista no formato </font></font><code><font color="#0000FF">ForEach</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/t8/s9/iq/t8s9iq9wiyorwncxj6fprdqbqke.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nesta exibição, todos os meios de interação do usuário funcionam completamente: movendo-se na linha do tempo e alterando os </font></font><code>mini- map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">botões </font><font style="vertical-align: inherit;">“escala” </font><font style="vertical-align: inherit;">, indicador e ocultar "Gráficos".</font></font><br><br><h3> <code><font color="#0000FF">ZStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sobrepostos "cartões". </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primeiro criamos </font></font><code><font color="#0000FF">CardView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para o “mapa” - este é um “conjunto de gráficos” com os EIXOS X e Y, mas sem controles: sem um “mini-mapa” e sem botões para controlar a aparência / ocultação de gráficos. </font></font><code><font color="#0000FF">CardView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">muito parecido com </font></font><code><font color="#0000FF">ChartView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mas como vamos sobrepor as "cartas" umas sobre as outras, precisamos que elas sejam opacas.Para isso, usamos uma </font></font><code><font color="#0000FF">ZStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cor </font><font style="vertical-align: inherit;">adicional </font><font style="vertical-align: inherit;">para ser colocada no "fundo" </font></font><code><font color="#0000FF">cardBackgroundColor</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Além disso, vamos fazer para "mapa" uma caixa com cantos arredondados: </font></font><br><br><img src="https://habrastorage.org/webt/8g/ls/az/8glsazeq3d35dtypveiszcxjnr4.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">superposição do "mapa" organizado por uma pilha </font></font><code><font color="#0000FF">VStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code><font color="#0000FF">ZStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ea lista na forma </font></font><code><font color="#0000FF">ForEach</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/hs/3a/dt/hs3adtpjp09ohrd2awxu35unyq4.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mas vamos impor uns sobre os outros não é apenas um "cartão" e "3D-macshtabiruemye" cartões </font></font><code><font color="#0000FF">CardViewScalable</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, cujo tamanho diminui com o aumento do índice</font></font><code><font color="#0000FF">indexChat</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e eles mudam um pouco na vertical. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A ordem dos "cartões escaláveis ​​em 3D" pode ser alterada usando a sequência ( </font></font><code>sequenced</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) de gestos </font></font><code><font color="#0000FF">LongPressGesture</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><code><font color="#0000FF">DragGesture</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que atua apenas no "cartão" mais alto com </font></font><code><font color="#0000FF">indexChat == 0</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/gg/4y/tt/gg4yttrlrk6xsojogyonvwqart0.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você pode clicar em ( </font></font><code><font color="#0000FF">LongPress</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) no "cartão" superior com um "conjunto de gráficos" e puxá-lo </font></font><code><font color="#0000FF">Drag</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para baixo </font><font style="vertical-align: inherit;">( </font><font style="vertical-align: inherit;">) longe o suficiente para olhar para a próxima carta e, se você continuar a arrastá-la para baixo, ela "vai" para o último lugar </font></font><code><font color="#0000FF">ZStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e a próxima "carta" aparece: </font></font><br><br><img src="https://habrastorage.org/webt/28/en/vp/28envpte6i3ap7_0nqlym55rgwa.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Além disso, para a "carta" superior podemos aplicar </font></font><code><font color="#0000FF">TapGesture</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, o que agirá juntamente com gestos </font></font><code><font color="#0000FF">LongPressGesture</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e uma </font></font><code><font color="#0000FF">DragGesture</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br><br><img src="https://habrastorage.org/webt/ly/er/lu/lyerlubus5wzjahe-vthnnfb9mu.png"><br><br> <code><font color="#0000FF">Tap</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um gesto mostrará o modal "conjunto de gráficos" </font></font><code><font color="#0000FF">ChartView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com e </font><font style="vertical-align: inherit;">gestão ementami </font></font><code><font color="#0000FF">RangeView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e</font></font><code><font color="#0000FF">CheckMarksView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><br><img src="https://habrastorage.org/webt/-r/zr/uh/-rzruhqnyn6lum_lufx7nqcwh70.png"><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pedido </font></font><code><font color="#0000FF">TabView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de combinação em uma tela de todas as 3 variantes da composição "conjunto de gráficos" </font></font><code><font color="#0000FF">ChartView</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></h4><br><br><img src="https://habrastorage.org/webt/sf/fs/6f/sffs6fnm075_ebzabtu1wp9qkiu.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Temos 3 marcadores com uma imagem </font></font><code><font color="#0000FF">Image</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font><font style="vertical-align: inherit;">um </font><font style="vertical-align: inherit;">texto </font></font><code><font color="#0000FF">Text</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code><font color="#0000FF">VStack</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">não é necessária </font><font style="vertical-align: inherit;">uma pilha vertical </font><font style="vertical-align: inherit;">para sua apresentação conjunta. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eles correspondem aos nossos três métodos de combinação de "conjuntos de gráficos" </font></font><code><font color="#0000FF">ChartViews</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Tabela rolável" </font></font><code><font color="#0000FF">ListChartViews</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pilha horizontal com efeito 3D </font></font><code><font color="#0000FF">HStackChartViews</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O ZStack sobrepôs "cartões" </font></font><code><font color="#0000FF">OverlayCardsViews</font></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todos os elementos da interação do usuário: movendo-se ao longo da linha do tempo e alterando a “escala” com a ajuda </font></font><code>mini - map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, indicador e botões para ocultar os “Gráficos”. </font><font style="vertical-align: inherit;">funcione totalmente em todos os 3 casos. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O código está no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br><h3>     <code><font color="#0000FF">SwiftUI</font></code> ... </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Você deve estar familiarizado com tutoriais em vídeo, livros e blogs: </font></font><br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mang do Para</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deixa Que a criar o aplicativo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , bem como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma descrição de algumas aplicações SwiftUI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- livre livro «SwiftUI por exemplo» e vídeo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.hackingwithswift.com/quick-start/swiftui</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - livro de pagamento mas metade dele pode ser baixado gratuitamente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.bigmountainstudio.com/swiftui-views-book</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - curso de 100 dias com SwiftUI </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.hackingwithswift.com/articles/201/start-the-100-days-of-swiftui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que começa agora e terminará em 31 de dezembro de 2019, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- coisas impressionantes no SwiftUI são feitas no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">swiftui-lab.com</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Majid blog</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- no pointFree.co</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.pointfree.co A</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> “maratona” de posts sobre o uso de redutores no SwiftUI (super interessante) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é um ótimo aplicativo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MovieSwiftUI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que emprestou algumas idéias.</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt468897/">https://habr.com/ru/post/pt468897/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt468879/index.html">No início da memória do computador</a></li>
<li><a href="../pt468883/index.html">Natalia Kozlovskaya: “Quem se importa com quem desenha o OpenStreetMap: homens ou mulheres?”</a></li>
<li><a href="../pt468885/index.html">Não aprenda padrões, aprenda conceitos</a></li>
<li><a href="../pt468889/index.html">Funções de retorno de chamada de script</a></li>
<li><a href="../pt468891/index.html">Antiguidades: considere a placa-mãe do 386º computador</a></li>
<li><a href="../pt468899/index.html">Quais projetos faz sentido começar e o que o setor precisa da TI agora</a></li>
<li><a href="../pt468901/index.html">Reagir nativo - aplicação e crítica</a></li>
<li><a href="../pt468903/index.html">O futuro pertence às plataformas educacionais adaptáveis. Flow Entrevista com Asger Palm</a></li>
<li><a href="../pt468905/index.html">Rumo à acessibilidade</a></li>
<li><a href="../pt468907/index.html">Desmodulação Yandex</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>