<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üì¨ üéÖüèª ü§µ Comment parler des principaux composants d'Android en 15 minutes üç∂ üôèüèæ ‚ôèÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pr√©sentation 


 Cet article explique comment informer une personne qui ne connaissait pas auparavant la programmation pour Android, de ses principaux...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment parler des principaux composants d'Android en 15 minutes</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483878/"><h1 id="vvedenie">  Pr√©sentation </h1><br><p>  Cet article explique comment informer une personne qui ne connaissait pas auparavant la programmation pour Android, de ses principaux composants.  Int√©resser et montrer que tout n'est pas aussi difficile qu'on le pense.  En m√™me temps, faites-le en 15 minutes et sans entrer dans l'explication d'une th√©orie de base que tout le monde peut lire par lui-m√™me et revenir avec des questions de clarification. </p><br><p>  Quand j'ai essay√© de le faire pour la premi√®re fois, j'ai √©t√© d√©sagr√©ablement surpris par moi-m√™me.  Mon explication ¬´simple et compr√©hensible¬ª s'est transform√©e en ennuyeuse, dans le cadre de laquelle une tentative d√©sesp√©r√©e de saisir l'immensit√© et de dire en bref tout ce qui √©tait un peu √©tait clairement trac√©e.  Inutile de dire qu'une telle histoire n'est pas susceptible d'int√©resser, mais fait plut√¥t peur √† votre interlocuteur, tout en diminuant le d√©sir de faire quelque chose de votre propre chef, m√™me si vous aviez auparavant une petite calculatrice dans vos plans. </p><br><p>  Ce n'est un secret pour personne qu'un grand nombre d'articles sur ce sujet sont publi√©s sur Internet, mais dans mon cas, le r√©cit sera l√©g√®rement diff√©rent: il n'y aura que de la pratique visuelle, sans d√©finitions et autres d√©tails.  Autrement dit, nous regardons - nous voyons - nous commentons ce qui se passe.  Il semble, √† mon avis, tout est assez simple et clair, les morceaux de code sont √©galement petits et tr√®s simples, pr√™ts √† √™tre utilis√©s rapidement dans votre propre projet.  Il me semble que cette approche donne un aper√ßu assez large des outils Android classiques, et lors de l'√©criture de la premi√®re application, au lieu des questions ¬´que dois-je utiliser¬ª, il y aura des questions plus sp√©cifiques ¬´exactement comment dois-je utiliser le composant X¬ª.  Et d√©j√† tous les d√©tails sur cette personne pourront le d√©couvrir par lui-m√™me - s'il le veut. </p><a name="habracut"></a><br><p>  Alors allons-y! </p><br><h1 id="izuchaem-komponenty">  Apprentissage des composants </h1><br><p>  Installez l'application, lancez-la et ... pour l'instant, il suffit que MainActivity soit ouverte avant nous.  On r√©pondra plus tard √† la question ¬´pourquoi est-ce exactement¬ª. </p><br><p>  Tout d'abord, regardons d'o√π il vient - de main_activity.xml, o√π tous les √©l√©ments d'interface sont d√©clar√©s.  Ils sont publi√©s dans LinearLayout, il est donc peu probable que des questions se posent ici. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre><code class="plaintext hljs">&lt;LinearLayout android:orientation="vertical" android:layout_width="match_parent" android:layout_height="match_parent"&gt; &lt;TextView android:id="@+id/textView" android:layout_width="match_parent" android:layout_height="wrap_content" android:text="Android Demo Application" /&gt; &lt;TextView android:id="@+id/textView3" android:layout_width="match_parent" android:layout_height="wrap_content" android:text=" 1" /&gt; &lt;Button android:id="@+id/buttonShowToast" android:layout_width="match_parent" android:layout_height="wrap_content" android:text=" Toast" /&gt; ... &lt;/LinearLayout&gt;</code> </pre> </div></div><br><h2 id="prostye-komponenty">  Composants simples </h2><br><h3 id="toast">  Toast </h3><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/g7/oh/a7/g7oha7j9ymxha54ezk_u9p962qk.jpeg"></p></div></div><br><p>  Passons maintenant √† MainActivity.java et au premier bouton de son interface - "Show Toast" (notification pop-up). <br>  Recherchez l'identifiant du bouton dans main_activity.xml et acc√©dez √† son OnClickListener dans MainActivity.java. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Button btn = findViewById(R.id.buttonShowToast); btn.setOnClickListener(new View.OnClickListener() { @Override public void onClick(View v) { Toast.makeText(getApplicationContext(), "This is a Toast", Toast.LENGTH_LONG).show(); } });</code> </pre> </div></div><br><p>  Il s'av√®re que pour afficher une notification pop-up, une ligne de code suffit!  Super, non? </p><br><h3 id="vzaimodeystvie-s-drugim-activity">  Interaction avec une autre activit√© </h3><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p>  Premi√®re activit√© <br><img src="https://habrastorage.org/webt/tz/oj/zh/tzojzhhwxgkdbhlgmw8mizvzk8m.jpeg"><br>  Deuxi√®me activit√© <br><img src="https://habrastorage.org/webt/d8/tn/t6/d8tnt6ov9udgwmnxtxtrllgz1ui.jpeg"></p></div></div><br><p>  Essayons maintenant d'aller quelque part en dehors de la page principale de l'application.  Par exemple, vers une autre de ces pages!  Allez √† "Interaction avec une autre activit√©" - et nous entrons dans une autre activit√© avec d'autres contr√¥les.  Comment diff√©rentes activit√©s d'une m√™me application transf√®rent-elles des donn√©es entre elles?  Voici le moment de parler de deux m√©canismes diff√©rents: un stockage constant des valeurs - shared_prefs, ainsi que startActivityForResult / onActivityResult (je ne voulais pas ins√©rer cela au d√©but, mais encore bri√®vement: si vous d√©marrez une <strong>nouvelle</strong> activit√© √† partir d' <strong>une</strong> activit√© <strong>ouverte en</strong> utilisant startActivityForResult, puis une fois la <strong>deuxi√®me</strong> activit√© termin√©e) sera appel√© onActivityResult dans la <strong>premi√®re</strong> activit√©. Ne vous inqui√©tez pas si ce n'est pas encore clair). <br>  Et bien s√ªr, d√©montrez en pratique! </p><br><p>  Entr√©e dans shared_prefs: </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">String valueToSave = "test"; SharedPreferences.Editor editor = getSharedPreferences("demoapp", MODE_PRIVATE).edit(); editor.putString("myValue", valueToSave); editor.apply();</code> </pre> </div></div><br><p>  Lecture √† partir de shared_prefs: </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">SharedPreferences prefs = getSharedPreferences("demoapp", MODE_PRIVATE); String storedValue = prefs.getString("myValue", "NOT_FOUND");</code> </pre> </div></div><br><p>  Un exemple avec onActivityResult - voir dans la source de l'application. </p><br><h3 id="sohranenie-i-vosstanovlenie-nastroek">  Enregistrement et restauration des param√®tres </h3><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/bq/_s/3v/bq_s3vglngrttsakobha70texya.jpeg"></p></div></div><br><p>  Puisque nous avons mentionn√© shared_prefs, terminons avec eux.  Nous allons dans "Enregistrer et restaurer les param√®tres", o√π nous sommes pr√©sent√©s avec une carte typique d'un compte typique avec diff√©rents types de champs (notez que leur type est d√©fini par une seule variable - un commutateur).  Nous allons enregistrer le contenu de ces champs dans shared_prefs, puis les restaurer.  Jusqu'√† pr√©sent, un bouton s√©par√©, aucun onResume - nous ne les avons pas encore atteints! <br>  Enregistrer: </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">SharedPreferences.Editor editor = getSharedPreferences(MY_PREFS_NAME, MODE_PRIVATE).edit(); EditText et = findViewById(R.id.editTextName); String name = et.getText().toString(); editor.putString("name", name); editor.apply();</code> </pre> </div></div><br><p>  Nous restaurons: </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">SharedPreferences prefs = getSharedPreferences(MY_PREFS_NAME, MODE_PRIVATE); EditText et = findViewById(R.id.editTextName); et.setText(prefs.getString("name", "")); ...</code> </pre> </div></div><br><h3 id="prostoe-menyu">  Menu simple </h3><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/nc/9u/6y/nc9u6ypwmnmxhrvpoflexjjtuhe.jpeg"></p></div></div><br><p>  La section suivante est un menu simple.  Nous apprenons de lui qu'il n'y a rien de compliqu√© dedans - il suffit de d√©finir onCreateOptionsMenu et de le remplir avec la structure de my_menu.xml. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">@Override public boolean onCreateOptionsMenu(Menu menu) { MenuInflater inflater = getMenuInflater(); inflater.inflate(R.menu.my_menu, menu); return true; }</code> </pre> </div></div><br><h3 id="vsplyvayuschee-menyu">  Menu contextuel </h3><br><p>  Imm√©diatement apr√®s - un bouton de menu contextuel.  Il est d√©j√† plus int√©ressant que le pr√©c√©dent m√™me avec la pr√©sence de m√©moire de r√©glages et la pr√©sence de sous-menus. <br>  Le code du menu contextuel peut √™tre consult√© dans la source de l'application. </p><br><h3 id="audiopleer">  Lecteur audio </h3><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/jl/c8/fj/jlc8fj0leasmypoxdtysiyywfdg.jpeg"></p></div></div><br><p>  En utilisant l'exemple du lecteur audio, en plus du fait qu'il n'y a rien de compliqu√© √† jouer de la musique, vous pouvez d√©montrer la liaison de seekBar √† quelque chose, dans ce cas, √† la position actuelle du lecteur multim√©dia.  Dans le contr√¥le du volume - aussi rien de surnaturel.  Le bonus montre une erreur.  Ouvrez l'activit√© avec le lecteur multim√©dia, lancez la lecture et appuyez sur le bouton "Retour".  La musique continue de jouer, et elle ne peut plus √™tre arr√™t√©e ... Le probl√®me!  Comment le r√©soudre - nous le d√©couvrirons un peu plus tard. <br>  Le code du lecteur audio se trouve dans le code source de l'application. </p><br><h3 id="veb-brauzer">  Navigateur Web </h3><br><p>  Eh bien, en conclusion de la premi√®re partie, nous montrons qu'il n'y a rien de divin dans le navigateur Web non plus. </p><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/5h/od/rw/5hodrwcppknr_gl2nkkq1odvdfe.jpeg"></p></div></div><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">WebView view = findViewById(R.id.webView); view.setWebViewClient(new WebViewClient()); view.getSettings().setJavaScriptEnabled(true); view.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE); view.loadUrl("https://google.com");</code> </pre> </div></div><br><p>  La partie suivante est d√©j√† plus difficile. </p><br><h2 id="servisy-i-uvedomleniya">  Services et notifications </h2><br><h3 id="broadcastreceiver">  BroadcastReceiver </h3><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/vl/jj/qu/vljjquneo8n5iiejykuxgd81mug.jpeg"></p></div></div><br><p>  Rappelez-vous comment nous avons transmis le r√©sultat d'une activit√© √† une autre.  L√†, d'une mani√®re ou d'une autre (nous ne savons pas encore comment), il s'est av√©r√© que lorsque la deuxi√®me activit√© a √©t√© ferm√©e, le r√©sultat a vol√© dans le r√©sultat onActivityResult de la premi√®re.  Mais pouvons-nous transf√©rer le r√©sultat n'importe o√π dans notre application?  Oui, nous pouvons annoncer et enregistrer un auditeur qui nous entend de n'importe o√π dans le programme.  Un tel auditeur est appel√© BroadcastReceiver. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">public BroadcastReceiver MyReceiver = new BroadcastReceiver() { @Override public void onReceive(Context context, Intent intent) { Toast.makeText(getApplicationContext(), "Broadcast receiver: received!", Toast.LENGTH_LONG).show(); } };</code> </pre> </div></div><br><p>  Ici, vous ne pouvez pas vous passer d'intentions, mais au niveau le plus primitif: pour l'instant, le fait qu'elles nous suffisent est envoy√© √† un certain bus commun, et que selon une action pr√©d√©termin√©e, BroadcastReceiver nous entendra o√π que nous soyons. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">IntentFilter filter = new IntentFilter(); filter.addAction("MyCustomActionName"); registerReceiver(MyReceiver, filter); sendBroadcast(new Intent("MyCustomActionName"));</code> </pre> </div></div><br><p>  Pour le moment, nous avons une id√©e de base de ce qu'est le r√©cepteur, mais pourquoi il est n√©cessaire n'est pas clair: c'est normal, et maintenant cela deviendra plus facile. </p><br><h3 id="prostoy-servis">  Service simple </h3><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/jh/c6/5b/jhc65b-blaklmc4cd0n8v_fzrms.jpeg"></p></div></div><br><p>  Passez en toute transparence au service, o√π BroadcastReceiver trouvera son application compl√®te.  Et au lieu d'essayer de dire en quelques mots ce qu'est un service Android, je propose de commencer la d√©monstration tout de suite.  Ex√©cutez le service, qui d√©marre son travail en arri√®re-plan.  Parall√®lement √† cela, nous enregistrerons deux r√©cepteurs: un en activit√© et un en service. <br>  Le r√©cepteur en service est n√©cessaire pour d√©montrer que, malgr√© l'ex√©cution en arri√®re-plan, nous pouvons toujours l'atteindre √† partir de l'activit√©. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">public BroadcastReceiver MyServiceReceiver = new BroadcastReceiver() { @Override public void onReceive(Context context, Intent intent) { Toast.makeText(getApplicationContext(), "Toast from Service: I hear you!", Toast.LENGTH_LONG).show(); } };</code> </pre> </div></div><br><p>  Le r√©cepteur en activit√© est n√©cessaire pour afficher les r√©sultats du service dans TextView. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">public BroadcastReceiver MyPrintReceiver = new BroadcastReceiver() { @Override public void onReceive(Context context, Intent intent) { Toast.makeText(getApplicationContext(), "pong", Toast.LENGTH_SHORT).show(); TextView tv = findViewById(R.id.textViewSimpleServiceStatus); String msg = intent.getStringExtra("msg"); tv.setText(msg); } };</code> </pre> </div></div><br><p>  Et, pour bien comprendre, lors de l'envoi d'un message du service √† Activity, nous afficherons Toast ("ping").  Et lorsque nous recevons le message dans l'activit√© et que nous dessinons la valeur dans TextView, nous afficherons Toast ("pong"). <br>  Que la t√¢che principale du service soit d'envoyer de tels ¬´pings¬ª √† l'activit√©, et la t√¢che de l'activit√© est de simplement les afficher dans son interface. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Handler handler = new Handler(); runnable = new Runnable() { public void run() { if (running) { printMsg("Service is still running " + running); handler.postDelayed(runnable, 5000); //   } else { printMsg("Service exited"); } } }; handler.postDelayed(runnable, 5000);</code> </pre> </div></div><br><p>  Un exemple de l'op√©ration du gestionnaire sera examin√© en d√©tail plus tard, pour le moment, il ne s'agit que d'un moyen d'envoyer un ping toutes les 5 secondes. </p><br><p>  Et maintenant, apr√®s le d√©marrage du service, nous voyons Toast ("Service cr√©√©!") Et envoyer des notifications de ping-pong.  Et dans TextView, les messages du service ont commenc√© √† arriver. </p><br><p>  Grande ex√©cution en arri√®re-plan que nous avons vue.  Fermez maintenant l'application!  Sur les derni√®res versions d'Android, nous verrons ce qui suit: le service a red√©marr√© (Toast ("Service cr√©√©!") Appara√Ætra) et enverra des "pings".  En m√™me temps, il n'y a pas de "pongs" - apr√®s tout, il n'y a plus d'activit√© qui les traite!  Apr√®s quelques secondes, les pings se sont √©galement arr√™t√©s sur mon smartphone.  Le service est en train d'√™tre d√©truit.  Ouvrez les param√®tres d'√©nergie, d√©sactivez l'optimisation pour notre application et recommencez la proc√©dure.  Maintenant, le service n'est pas d√©truit, et m√™me apr√®s la fermeture du programme, nous voyons des ¬´pings¬ª entrants stables.  Mais, bien s√ªr, il n'y a aucune garantie ici, et un tel service ne durera pas tr√®s longtemps.  Du point de vue du d√©veloppeur, cela peut √™tre terrible, mais regardons-le √† travers les yeux d'un simple utilisateur: voulons-nous qu'une application fonctionne en arri√®re-plan si librement et en toute impunit√©, en mangeant une batterie?  √Ä peine.  Comment alors travailler pleinement en arri√®re-plan? </p><br><p>  Pour ce faire, il vous suffit d'en informer l'utilisateur.  Il s'agit d'une exigence obligatoire d'Android, qui, en pr√©sence d'un canal de notification, vous permet de lancer non seulement l'habituel, mais le service Foreground, qui fonctionnera pleinement en arri√®re-plan sans risquer d'√™tre tu√© √† l'improviste. <br>  Ajoutez √† notre cr√©ation de notre service: </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">String CHANNEL_ID = "my_channel_01"; NotificationChannel channel = new NotificationChannel(CHANNEL_ID, "Channel human readable title", NotificationManager.IMPORTANCE_DEFAULT); ((NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE)).createNotificationChannel(channel); Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID) .setContentTitle("") .setContentText("").build(); startForeground(1, notification);</code> </pre> </div></div><br><p>  Et nous l'ex√©cuterons avec la commande: </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">startForegroundService(new Intent(getApplicationContext(), TestServiceForeground.class));</code> </pre> </div></div><br><p>  Nous reviendrons √† notre application de d√©monstration, r√©tablirons les param√®tres d'√©conomie d'√©nergie √† leur √©tat d'origine.  Et maintenant, nous allons lancer le service Foreground.  En fermant l'application lorsque le service est en cours d'ex√©cution, nous notons que le service ne red√©marre plus et n'est pas d√©truit, mais continue simplement de fonctionner de mani√®re stable en arri√®re-plan, en envoyant ses "pings" toutes les 5 secondes.  Dans le m√™me temps, une ic√¥ne de notification se bloque dans les notifications. </p><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/-d/xv/of/-dxvofzx6oknkrfw6eyiwpowybk.jpeg"></p></div></div><br><p>  L'utilisateur pourra masquer ces notifications s'il le souhaite, mais vous ne pouvez pas les masquer par programme au moment de la cr√©ation du canal de notification. </p><br><h3 id="plavayuschaya-knopka-overlay">  Bouton flottant (superposition) </h3><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/hw/ca/l0/hwcal0xkvtxak6ciqpa1zdjexas.jpeg"></p></div></div><br><p>  Sachant ce qu'est un service, vous pouvez passer √† son utilisation la plus simple et la plus √©vidente - travailler avec des boutons flottants.  Sur les andro√Ødes actuels, vous ne pouvez pas simplement d√©clarer les droits de rendu des superpositions comme √ßa - vous devez demander explicitement √† l'utilisateur l'autorisation "Au-dessus de toutes les fen√™tres".  Ensuite, nous cliquons sur Dessiner la superposition et nous voyons une ic√¥ne flottante, derri√®re laquelle se trouve vraiment un service qui √©coute les clics dessus. </p><br><h3 id="otpravka-uvedomleniy">  Envoi de notifications </h3><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/vu/sb/w-/vusbw-5nvjt-ws-kgrw95hfwzpy.jpeg"></p></div></div><br><p>  Une autre caract√©ristique importante qui sera tr√®s probablement utile dans la plupart des applications Android est l'envoi de notifications √† l'utilisateur.  Voyons bri√®vement comment cela fonctionne.  Pour commencer (sur les andro√Ødes actuels), nous devons cr√©er un canal de notification - oui, oui, l'un de ceux qui sont g√©n√©ralement disponibles en grand nombre dans les applications modernes. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">private void createNotificationChannel() { try { CharSequence channelName = CHANNEL_ID; String channelDesc = "channelDesc"; if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) { int importance = NotificationManager.IMPORTANCE_LOW; NotificationChannel channel = new NotificationChannel(CHANNEL_ID, channelName, importance); channel.setDescription(channelDesc); NotificationManager notificationManager = getSystemService(NotificationManager.class); assert notificationManager != null; NotificationChannel currChannel = notificationManager.getNotificationChannel(CHANNEL_ID); if (currChannel == null) { notificationManager.createNotificationChannel(channel); Toast.makeText(getApplicationContext(), "channel created", Toast.LENGTH_SHORT).show(); } else { Toast.makeText(getApplicationContext(), "channel exists", Toast.LENGTH_SHORT).show(); } } } catch (Exception e) { } }</code> </pre> </div></div><br><p>  Eh bien, vous pouvez alors lui envoyer des notifications sans restrictions. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">public void setNotify() { try { Intent snoozeIntent = new Intent("ActionFromNotify"); PendingIntent snoozePendingIntent = PendingIntent.getBroadcast(this, 0, snoozeIntent, 0); String title = "Start"; Intent intent = new Intent(this, MainActivity.class); intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK); NotificationCompat.Action action = new NotificationCompat.Action.Builder(R.drawable.ic_launcher_background, title, snoozePendingIntent).build(); NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(this, CHANNEL_ID) .setSmallIcon(R.drawable.ic_launcher_background) .setContentTitle("MyNotification") .setContentText("Text here") .setPriority(NotificationCompat.PRIORITY_LOW) .setContentIntent(null) .setOngoing(true) //   .setSound(null) .addAction(action); NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this); int notificationId = (int) (System.currentTimeMillis() / 4); notificationManager.notify(notificationId, mBuilder.build()); } catch (Exception e) { Log.e("error", e.toString()); } }</code> </pre> </div></div><br><h3 id="servis-s-otpravkoy-uvedomleniy">  Service d'envoi de notifications </h3><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/nj/ee/lr/njeelrzozunwgncm4a3vusood6k.jpeg"></p></div></div><br><p>  L'envoi de notifications directement depuis l'activit√©, vous voyez, n'est pas tr√®s impressionnant.  Nous sommes encore habitu√©s √† autre chose.  Mais que savons-nous de l'ex√©cution en arri√®re-plan jusqu'√† pr√©sent?  Juste qu'il y a des services.  Alors ne nous pr√©cipitons pas et ne faisons pas un service simple (pas m√™me Foreground - pour plus de simplicit√©) qui envoie une nouvelle notification toutes les 5 secondes.  D'accord, c'est d√©j√† plus joli et plus impressionnant que d'envoyer simplement des notifications par un bouton. </p><br><p>  Comme une courte pause apr√®s des services apparemment compliqu√©s (si vous ne les avez jamais rencontr√©s auparavant), nous consid√©rerons quatre contr√¥les faciles √† comprendre.  Et l√† encore, nous nous tournons vers des mat√©riaux complexes - vers les flux. </p><br><h2 id="dopolnitelnye-komponenty">  Composants suppl√©mentaires </h2><br><h3 id="tablica-s-dannymi">  Tableau de donn√©es </h3><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/_r/sx/f_/_rsxf_zb6buobcqpdlrxtcuhtpc.jpeg"></p></div></div><br><p>  Commen√ßons notre pause avec le tableau de donn√©es.  L'√©tude du code source est laiss√©e au lecteur. </p><br><h3 id="okno-s-vkladkami">  Fen√™tre √† onglets </h3><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/d4/l3/tc/d4l3tc6j_ruxlnmm-p7nl4l-jce.jpeg"></p></div></div><br><p>  Le prochain arr√™t est une fen√™tre √† onglets.  √Ä l'aide d'une simple TabView, vous pouvez placer plusieurs activit√©s sur un seul √©cran. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">public class TabsActivity extends TabActivity { @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.tabs_activity); //  TabHost TabHost tabHost = getTabHost(); TabHost.TabSpec tabSpec; tabSpec = tabHost.newTabSpec("tag1"); tabSpec.setIndicator(""); tabSpec.setContent(new Intent(this, SaveRestorePrefsActivity.class)); tabHost.addTab(tabSpec); tabSpec = tabHost.newTabSpec("tag2"); tabSpec.setIndicator(""); tabSpec.setContent(new Intent(this, FloatingMenuActivity.class)); tabHost.addTab(tabSpec); ... } }</code> </pre> </div></div><br><h3 id="vyvod-obektov-struktur-fragment-i-tablica">  Affichage des objets de structure: fragment et table </h3><br><p>  La sortie des objets de structure peut se faire avec des fragments et une table. <br>  Voici √† quoi ressemble le remplissage de fragments </p><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ck/hw/nz/ckhwnzzk1fbl4ohzv5cwrc5rhiq.jpeg"></p></div></div><br><p>  Et donc la table </p><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/k9/ap/ty/k9aptygs4p29eczt1qlru2pgqk8.jpeg"></p></div></div><br><h3 id="zhiznennyy-cikl-activity">  Cycle de vie de l'activit√© </h3><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/8j/kg/-e/8jkg-eoo706wtilrcga7nhefnr0.jpeg"></p></div></div><br><p>  Finissant progressivement notre pause, nous proc√©dons au cycle de vie de l'activit√©.  Voici le moment de d√©couvrir qu'il existe un certain nombre d'autres m√©thodes en plus de onCreate.  Un petit morceau de code et des notifications contextuelles au d√©but aideront √† mieux les comprendre que toute explication. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">@Override protected void onResume() { super.onResume(); Toast.makeText(getApplicationContext(), "onResume -    ", Toast.LENGTH_SHORT).show(); } @Override protected void onDestroy() { super.onDestroy(); Toast.makeText(getApplicationContext(), "onDestroy -  ", Toast.LENGTH_SHORT).show(); } @Override protected void onPause() { super.onPause(); Toast.makeText(getApplicationContext(), "onPause -      ", Toast.LENGTH_SHORT).show(); }</code> </pre> </div></div><br><p>  Il en va de m√™me pour OnTouchListener'ov et onTextChanged. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">CheckBox cb = findViewById(R.id.checkBoxChangeExample); cb.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() { public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) { printMsg("CheckBox - OnCheckedChangeListener: new value is checked = " + isChecked); } }); SeekBar seekBar = (SeekBar) findViewById(R.id.seekBarChangeExample); seekBar.setMax(100); seekBar.setOnTouchListener(new View.OnTouchListener() { @Override public boolean onTouch(View v, MotionEvent event) { Integer progress = ((SeekBar)v).getProgress(); printMsg("SeekBar - OnTouchListener: new value is = " + progress.toString()); return false; } });</code> </pre> </div></div><br><h2 id="otlozhennoe-parallelnoe-i-regulyarnoe-vypolnenie">  Ex√©cution diff√©r√©e, parall√®le et r√©guli√®re </h2><br><p>  Nous passons √† la partie la plus difficile de l'histoire - l'ex√©cution diff√©r√©e et parall√®le. </p><br><h3 id="otlozhennoe-vypolnenie-handler">  Ex√©cution diff√©r√©e: gestionnaire </h3><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/og/lv/xh/oglvxhy6hgo0yqpamaybomdrmus.jpeg"></p></div></div><br><p>  Commen√ßons la plong√©e avec Handler.  Qu'est-ce qu'un gestionnaire dans tous les d√©tails - une personne le lira plus tard lui-m√™me, nous ne le priverons pas de ce plaisir.  Mais, puisque nous l'envisageons, il est important de savoir l'essentiel - qu'il vous permet d'effectuer une t√¢che en attente, et ne le fait pas en parall√®le. <br>  Montrez-le.  Cr√©ons un gestionnaire, ajoutons-lui la t√¢che "toast Toast in 5 seconds".  Nous voyons que Toast a √©t√© retir√© et aucun sommeil (pauses dans l'ex√©cution de l'ensemble du programme) n'a √©t√© n√©cessaire. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Handler handler = new Handler(); Runnable r = new Runnable() { public void run() { Toast.makeText(getApplicationContext(), "Delayed task executed", Toast.LENGTH_SHORT).show(); } }; handler.postDelayed(r, 5000);</code> </pre> </div></div><br><p>  Ajoutez maintenant une t√¢che cyclique au gestionnaire: </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Runnable r = new Runnable() { public void run() { Toast.makeText(getApplicationContext(), "Delayed task executed", Toast.LENGTH_SHORT).show(); handler.postDelayed(this, 5000); //   } }; handler.postDelayed(r, 5000);</code> </pre> </div></div><br><p>  Apr√®s vous √™tre assur√© qu'il s'ex√©cute toutes les 5 secondes, d√©sactivez le gestionnaire </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">handler.removeCallbacksAndMessages(null);</code> </pre> </div></div><br><p>  Il reste √† d√©montrer que l'ex√©cution des t√¢ches de Handler ne se fait pas en parall√®le.  La fa√ßon la plus simple de le montrer est de le charger avec quelque chose de lourd et en m√™me temps simple.  Comme ... tout (vrai) sans sommeil!  Dix secondes, pour ne pas tuer compl√®tement l'application. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Runnable r = new Runnable() { public void run() { long initTime = System.currentTimeMillis(); boolean timeElapsed = false; while(!timeElapsed){ if(System.currentTimeMillis() - initTime &gt; 10000 ){ timeElapsed = true; //   ,   ! (  ,    ).         sleep } } } }; Toast.makeText(getApplicationContext(), "Hard Delayed task started", Toast.LENGTH_SHORT).show(); handler.postDelayed(r, 100);</code> </pre> </div></div><br><p>  En lan√ßant une telle t√¢che, nous voyons que l'application ne r√©pond pas √† nos clics pendant ces 10 secondes - elle est compl√®tement et compl√®tement occup√©e √† traiter notre cycle complexe.  La deuxi√®me conclusion qui d√©coule de cet exemple est que vous ne pouvez pas ex√©cuter de t√¢ches gourmandes en ressources dans le m√™me thread avec l'interface.  Le thread d'interface utilisateur doit toujours √™tre libre et ses fonctions doivent √™tre d√©finies le plus rapidement possible.  Certaines op√©rations dans le flux d'interface utilisateur sont explicitement interdites: par exemple, Android plantera l'application s'il essaie d'acc√©der √† Internet dans le flux d'interface utilisateur. </p><br><h3 id="parallelnoe-vypolnenie-potok">  Ex√©cution simultan√©e: flux </h3><br><div class="spoiler">  <b class="spoiler_title">Voir l'image</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/l7/3q/81/l73q81k62jyqkcimlbw_nvtotqe.jpeg"></p></div></div><br><p>  La question logique est maintenant de savoir comment cr√©er de nouveaux threads et travailler en parall√®le? <br>  Nous montrons √† la fois la cr√©ation du flux et le fait de son fonctionnement parall√®le.  Cr√©ons un flux et chargez-le avec la m√™me t√¢che, √† cause de quoi, dans le cas de habdler, nous nous sommes retrouv√©s avec une interface inactive pendant 10 secondes. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Thread thread = new Thread() { @Override public void run() { try { sendMsgUsingBroadcast("Thread started"); long initTime = System.currentTimeMillis(); boolean timeElapsed = false; while(!timeElapsed){ if(System.currentTimeMillis() - initTime &gt; 10000 ){ timeElapsed = true; } } sendMsgUsingBroadcast("Thread stopped"); } catch (Exception e) { sendMsgUsingBroadcast("Thread error " + e.toString()); } } }; thread.start();</code> </pre> </div></div><br><p>  Cr√©√©, charg√© - et l'interface fonctionne!  L'ex√©cution du thread se produit en parall√®le. <br>  La question suivante est de savoir comment contr√¥ler le flux.  Il est important de comprendre qu'un thread ne sera termin√© que lorsque tout son code source sera ex√©cut√©.  Vous ne pouvez pas simplement prendre et tuer le flux.  Il est temps de penser √† shared_prefs et d'appliquer la variable pour la synchronisation: laissez la variable running = true √™tre d√©finie avec le d√©but du flux.  Dans chacune de ses it√©rations, le thread v√©rifie si l'ex√©cution de == true est en cours d'ex√©cution, et sinon, termine son ex√©cution. </p><br><div class="spoiler">  <b class="spoiler_title">Afficher le code</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">Thread thread = new Thread() { @Override public void run() { try { sendMsgUsingBroadcast("Thread started"); SharedPreferences prefs = getSharedPreferences(MY_PREFS_NAME, MODE_PRIVATE); while (true) { if (!prefs.getBoolean("running", false)) { break; } else { try { Thread.sleep(100); } catch (Exception e) {} } } sendMsgUsingBroadcast("Thread stopped"); } catch (Exception e) { sendMsgUsingBroadcast("Thread error " + e.toString()); } } }; thread.start();</code> </pre> </div></div><br><p>  Nous avons donc franchi quelques √©tapes et nous connaissons d√©sormais non seulement le service, mais aussi le gestionnaire et le flux.  Il semblerait que ces outils soient suffisants pour commencer √† √©crire une application qui a l'une des fonctions de notification utilisateur r√©guli√®re.  Mais ils ont une caract√©ristique: tous sont unis par le fait que nous ne perdons pas le contr√¥le pendant une seconde, et sommes toujours oblig√©s d'√™tre dans une sorte de cycle sans fin qui dort la plupart du temps et se r√©veille parfois pour v√©rifier si quelques conditions sont remplies pour comprendre - pour d√©duire - pour d√©duire - pour d√©duire avis de l'utilisateur ou dormir √† nouveau pendant une longue p√©riode.  Cela ajoute un mal de t√™te: que se passe-t-il si notre service ou application tue l'optimiseur de batterie, et pourquoi consommons-nous autant de ressources de smartphone pour un petit coup de sifflet pas si n√©cessaire? ,    ,               ,  -    ,             ? </p><br><h3 id="povtoryayuscheesya-vypolnenie-alarmmanager">  : AlarmManager </h3><br><p>       AlarmManager. </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/zf/9p/_u/zf9p_ushxeqt_yto0askm_xo-fw.jpeg"></p></div></div><br><p>  ,    ‚Äî  sendBroadcast  Action,        BroadcastReceiver! </p><br><p>  BroadcastReceiver, ,   ,    : </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="plaintext hljs">public class MyAlarmServiceReceiver extends BroadcastReceiver { private String CHANNEL_ID = "MyNotificationsChannel"; @Override public void onReceive(Context context, Intent intent) { Toast.makeText(context, "MyAlarmServiceReceiver onReceive", Toast.LENGTH_SHORT).show(); setNotify("Notify from AlarmManager", context); } }</code> </pre> </div></div><br><p>  AlarmManager   Receiver  15 : </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="plaintext hljs">AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE); Intent intent = new Intent(AlarmActivity.this, MyAlarmServiceReceiver.class); PendingIntent pendingIntent = PendingIntent.getBroadcast(getApplicationContext(), 0, intent, PendingIntent.FLAG_UPDATE_CURRENT); Calendar calendar = Calendar.getInstance(); calendar.setTimeInMillis(System.currentTimeMillis()); calendar.set(Calendar.HOUR_OF_DAY, 1); calendar.set(Calendar.MINUTE, 10); //alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, 1 * 60 * 1000, pendingIntent); // not repeating - just one run, if needed alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), AlarmManager.INTERVAL_FIFTEEN_MINUTES, pendingIntent);</code> </pre> </div></div><br><p>      :  15      . </p><br><p>   (     )   . </p><br><h3 id="logirovanie">  </h3><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/96/e-/0r/96e-0rjswq33id8bi4g4xjq3du8.jpeg"></p></div></div><br><p>  Logcat Reader   ,     . <br>     (      )  ,     . </p><br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"><pre> <code class="plaintext hljs">String LOG_TAG = "MYDEMOAPP"; Log.i(LOG_TAG, "Test info log"); Log.d(LOG_TAG, "Test debug log"); Log.e(LOG_TAG, "Test error log");</code> </pre> </div></div><br><p>      ,   ,       MainActivity,     ,   . </p><br><h1 id="ishodnyy-kod">  Code source </h1><br><p> <a href="https://github.com/Jen94/AndroidDemo" rel="nofollow">     <br></a> </p><br><h1 id="zaklyuchenie">  Conclusion </h1><br><p>      ,           Android.           ,    ,   ,      :     ,     .  , ,           -       Android-. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr483878/">https://habr.com/ru/post/fr483878/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr483862/index.html">Fonctions virtuelles dans les microcontr√¥leurs - le c√¥t√© obscur</a></li>
<li><a href="../fr483864/index.html">Plus rapide que C ++; plus lent que php</a></li>
<li><a href="../fr483872/index.html">Motifs sur la fen√™tre ou le fl√©au des automobilistes: comment la glace en deux dimensions se d√©veloppe</a></li>
<li><a href="../fr483874/index.html">La publication du code VVVVVV a montr√© √† quel point les jeux sont grossiers</a></li>
<li><a href="../fr483876/index.html">La culture d'entreprise rouge est le principal probl√®me des entreprises russes (partie 1)</a></li>
<li><a href="../fr483882/index.html">Tests unitaires dans l'architecture Clean Swift</a></li>
<li><a href="../fr483886/index.html">D√©codeur Movix Pro: du logiciel au dernier √©crou</a></li>
<li><a href="../fr483888/index.html">Ex√©cution de programmes √† fichier unique dans Java 11 sans compilation</a></li>
<li><a href="../fr483894/index.html">Meetup Avito Kafka: connecteurs, int√©gration, cloud</a></li>
<li><a href="../fr483896/index.html">Comment lancer un produit seul si vous √™tes d√©veloppeur: conseils du cr√©ateur de Laravel, Taylor Otvel. Partie 2: Trouver une id√©e</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>