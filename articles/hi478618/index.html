<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЪгЁЯП╜ ЁЯОе ЁЯС▓ЁЯП┐ рдореИрдЬрд┐рдХ рдкреАрдПрдЪрдкреА рдХрд╛ рд╕реНрдХреВрд▓ ЁЯЩЙ ЁЯЧ╗ ЁЯМЯ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="PHP рдореЗрдВ рдХреНрдпрд╛ рдЬрд╛рджреВ рд╣реИ? рдЗрд╕рдХрд╛ рдорддрд▓рдм рдЖрдорддреМрд░ рдкрд░ _construct() рдпрд╛ __get() рдЬреИрд╕реЗ рддрд░реАрдХреЛрдВ рд╕реЗ рд╣реИред PHP рдореЗрдВ рдЬрд╛рджреВ рдХреЗ рддрд░реАрдХреЗ рдХрдорд┐рдпрд╛рдВ рд╣реИрдВ рдЬреЛ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рдЕрджреНрднреБрдд рдЪреАрдЬреЗрдВ рдХрд░рдиреЗ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдореИрдЬрд┐рдХ рдкреАрдПрдЪрдкреА рдХрд╛ рд╕реНрдХреВрд▓</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/478618/"> PHP рдореЗрдВ рдХреНрдпрд╛ рдЬрд╛рджреВ рд╣реИ?  рдЗрд╕рдХрд╛ рдорддрд▓рдм рдЖрдорддреМрд░ рдкрд░ <code>_construct()</code> рдпрд╛ <code>__get()</code> рдЬреИрд╕реЗ рддрд░реАрдХреЛрдВ рд╕реЗ рд╣реИред  PHP рдореЗрдВ рдЬрд╛рджреВ рдХреЗ рддрд░реАрдХреЗ рдХрдорд┐рдпрд╛рдВ рд╣реИрдВ рдЬреЛ рдбреЗрд╡рд▓рдкрд░реНрд╕ рдХреЛ рдЕрджреНрднреБрдд рдЪреАрдЬреЗрдВ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддреЗ рд╣реИрдВред  рдиреЗрдЯрд╡рд░реНрдХ рдЙрдиреНрд╣реЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирд┐рд░реНрджреЗрд╢реЛрдВ рд╕реЗ рднрд░рд╛ рд╣реИ, рдЬрд┐рд╕рдХреЗ рд╕рд╛рде рдЖрдк рд╢рд╛рдпрдж рдкрд░рд┐рдЪрд┐рдд рд╣реИрдВред  рд▓реЗрдХрд┐рди рдХреНрдпрд╛ рд╣реЛрдЧрд╛ рдЕрдЧрд░ рд╣рдо рдХрд╣реЗрдВ рдХрд┐ рдЖрдкрдиреЗ рдЕрд╕рд▓реА рдЬрд╛рджреВ рднреА рдирд╣реАрдВ рджреЗрдЦрд╛ рд╣реИ?  рдЖрдЦрд┐рд░рдХрд╛рд░, рдЬрд┐рддрдирд╛ рдЕрдзрд┐рдХ рдпрд╣ рдЖрдкрдХреЛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЖрдк рд╕рдм рдХреБрдЫ рдЬрд╛рдирддреЗ рд╣реИрдВ, рдЙрддрдирд╛ рд╣реА рдЕрдзрд┐рдХ рдЬрд╛рджреВ рдЖрдкрдХреЛ рдЦрддреНрдо рдХрд░ рджреЗрддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/kd/xp/vm/kdxpvmeklgs6av1hp8ldzbnq4vc.jpeg"><br><br>  рдЖрдЗрдП OOP рдирд┐рдпрдореЛрдВ рдХреЗ рд╕реНрдерд╛рдкрд┐рдд рдврд╛рдВрдЪреЗ рдХреЛ рдЧрд┐рд░рд╛рдПрдВ рдФрд░ PHP рд╕реНрдХреВрд▓ рдСрдл рдореИрдЬрд┐рдХ рдореЗрдВ рдЕрд╕рдВрднрд╡ рдХреЛ рд╕рдВрднрд╡ рдХрд░реЗрдВред  рд╕реНрдХреВрд▓ рдХрд╛ рдореБрдЦреНрдп рдФрд░ рдкрд╣рд▓рд╛ рдЬрд╛рджреБрдИ рд╢рд┐рдХреНрд╖рдХ <b>рдЕрд▓реЗрдХреНрдЬреЗрдВрдбрд░ рд▓рд┐рд╕рд╛рдЪреЗрдВрдХреЛ</b> ( <a href="https://habr.com/ru/users/nighttiger/" class="user_link">рдирд╛рдЗрдЯрдЯрд╛рдЗрдЧрд░</a> ) рд╣реИред  рд╡рд╣ рдЬрд╛рджреВ рдХреА рд╕реЛрдЪ рд╕рд┐рдЦрд╛рдПрдЧрд╛ рдФрд░ рд╢рд╛рдпрдж рдЖрдкрдХреЛ рдЬрд╛рджреВ рдХреЗ рддрд░реАрдХреЗ, рдЧреБрдгреЛрдВ рддрдХ рдкрд╣реБрдВрдЪрдиреЗ рдХреЗ рдЧреИрд░-рдорд╛рдирдХ рддрд░реАрдХреЗ, рдмрджрд▓рддреЗ рд╕рдВрджрд░реНрдн, рдкрд╣рд▓реВ-рдЙрдиреНрдореБрдЦ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рдФрд░ рд╕реНрдЯреНрд░реАрдо рдлрд┐рд▓реНрдЯрд░ рдкрд╕рдВрдж рдЖрдПрдЧрд╛ред <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/1W3UR7v3sAo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><a name="habracut"></a><br>  <b>рдЕрд▓реЗрдХреНрдЬреЗрдВрдбрд░ рд▓рд┐рд╕рд╛рдЪреЗрдВрдХреЛ</b> рдЕрд▓реНрдкрд╛рд░реА рдореЗрдВ рд╡реЗрдм рд╡рд┐рдХрд╛рд╕ рдФрд░ рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рд╡рд┐рднрд╛рдЧ рдХреЗ рдкреНрд░рдореБрдЦ рд╣реИрдВред  рд▓реЗрдЦрдХ рдФрд░ рдкрд╣рд▓реВ рдЙрдиреНрдореБрдЦ рдврд╛рдВрдЪреЗ рдХреЗ рдкреНрд░рдореБрдЦ рдбреЗрд╡рд▓рдкрд░ <a href="http://go.aopphp.com/">рдЬрд╛рдУ!</a>  <a href="http://go.aopphp.com/">рдПрдУрдкреА</a> ред  PHP рдкрд░ рдЕрдВрддрд░реНрд░рд╛рд╖реНрдЯреНрд░реАрдп рд╕рдореНрдореЗрд▓рдиреЛрдВ рдореЗрдВ рдЕрдзреНрдпрдХреНрд╖ред <br><br>  рдЕрдЪреНрдЫреА рдлрд┐рд▓реНрдо рдореЗрдВ "рдзреЛрдЦреЗ рдХрд╛ рднреНрд░рдо" рдПрдХ рд╡рд╛рдХреНрдпрд╛рдВрд╢ рд╣реИ: <br><blockquote>  "рдЖрдк рдЬрд┐рддрдиреЗ рдХрд░реАрдм рд╣реЛрдВрдЧреЗ, рдЖрдкрдХреЛ рдЙрддрдирд╛ рд╣реА рдХрдо рджрд┐рдЦрд╛рдИ рджреЗрдЧрд╛ред" </blockquote><br>  PHP рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рднреА рдпрд╣реА рдХрд╣рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдПрдХ рдЬрд╛рджреВ рдХреА рдЪрд╛рд▓ рдХреЗ рд░реВрдк рдореЗрдВ рдЬреЛ рдЖрдкрдХреЛ рдЕрд╕рд╛рдорд╛рдиреНрдп рдЪреАрдЬреЗрдВ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред  рд▓реЗрдХрд┐рди рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдпрд╣ рдЖрдкрдХреЛ рдзреЛрдЦрд╛ рджреЗрдиреЗ рдХреЗ рд▓рд┐рдП рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛: "... рдПрдХ рдРрд╕реА рдХрд╛рд░реНрд░рд╡рд╛рдИ рдЬрд┐рд╕реЗ рдзреЛрдЦрд╛ рджреЗрдиреЗ рдХрд╛ рдЗрд░рд╛рджрд╛ рд╣реИ, рдпрд╛ рддреЛ рдХрд┐рд╕реА рдХреЛ рдзреЛрдЦрд╛ рджреЗрдиреЗ рдХреЗ рддрд░реАрдХреЗ рдХреЗ рд░реВрдк рдореЗрдВ, рдпрд╛ рдПрдХ рдордЬрд╛рдХ рдпрд╛ рдордиреЛрд░рдВрдЬрди рдХреЗ рд░реВрдк рдореЗрдВред" <br><br>  рдпрджрд┐ рд╣рдо PHP рдХреЛ рдПрдХ рд╕рд╛рде рд▓реЗрддреЗ рд╣реИрдВ рдФрд░ рдЙрд╕ рдкрд░ рдХреБрдЫ рдЬрд╛рджреБрдИ рд▓рд┐рдЦрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ рдХрд┐ рдореИрдВ рдЖрдкрдХреЛ рдзреЛрдЦрд╛ рджреВрдВрдЧрд╛ред  рдореИрдВ рдХреБрдЫ рдЪрд╛рд▓ рдХрд░реВрдВрдЧрд╛, рдФрд░ рдЖрдк рд▓рдВрдмреЗ рд╕рдордп рддрдХ рд╕реЛрдЪ рд░рд╣реЗ рд╣реЛрдВрдЧреЗ рдХрд┐ рдРрд╕рд╛ рдХреНрдпреЛрдВ рд╣реЛрддрд╛ рд╣реИред  рдРрд╕рд╛ рдЗрд╕рд▓рд┐рдП рд╣реИ рдХреНрдпреЛрдВрдХрд┐ PHP рдПрдХ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ рднрд╛рд╖рд╛ рд╣реИ рдЬреЛ рдЕрдкрдиреЗ рдЕрд╕рд╛рдорд╛рдиреНрдп рд╕рд╛рдорд╛рди рдХреЗ рд▓рд┐рдП рдЬрд╛рдиреА рдЬрд╛рддреА рд╣реИред <br><br><h2>  рдЬрд╛рджреВ рдХреЗ рдЙрдкрдХрд░рдг </h2><br>  рд╣рдореЗрдВ рдЬрд╛рджреВ рдХреЗ рдЙрдкрдХрд░рдгреЛрдВ рд╕реЗ рдХреНрдпрд╛ рдЪрд╛рд╣рд┐рдП?  рджрд░реНрдж рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рддрд░реАрдХреЗред <br><br> <code>__construct(), __destruct(), __clone(), <br> __call(), __callStatic(), <br> __get(), __set(), __isset(), __unset(), <br> __sleep(), __wakeup(), <br> __toString(), __invoke(), __set_state(), <br> __debugInfo()</code> <br> <br>  рдореИрдВ рдЕрдВрддрд┐рдо рд╡рд┐рдзрд┐ рдХреЛ рдЕрд▓рдЧ рд╕реЗ рдиреЛрдЯ рдХрд░реВрдВрдЧрд╛ - рдЗрд╕рдХреЗ рд╕рд╛рде рдЖрдк рдЕрд╕рд╛рдорд╛рдиреНрдп рдЪреАрдЬреЛрдВ рдХреЛ рдХреНрд░реИрдВрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рдпрд╣ рд╕рдм рдирд╣реАрдВ рд╣реИред <br><br><ul><li>  <code>declare(ticks=1)</code> ред <br></li><li>  <code>debug_backtrace()</code> ред  рдпрд╣ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рд╣рдорд╛рд░рд╛ рд╕рд╛рдереА рд╣реИ рдХрд┐ рд╣рдо рд╡рд░реНрддрдорд╛рди рдХреЛрдб рдореЗрдВ рдХрд╣рд╛рдВ рд╣реИрдВ, рдпрд╣ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рд╣рдореЗрдВ рдХрд┐рд╕рдиреЗ рдФрд░ рдХреНрдпреЛрдВ, рдХрд┐рд╕ рддрд░реНрдХ рдХреЗ рд╕рд╛рде рдмреБрд▓рд╛рдпрд╛ред  рд╕рднреА рддрд░реНрдХ рдХрд╛ рдкрд╛рд▓рди рди рдХрд░рдиреЗ рдХрд╛ рдирд┐рд░реНрдгрдп рд▓реЗрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реИред <br></li><li>  <code>unset(), isset()</code> ред  рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдХреБрдЫ рдЦрд╛рд╕ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдпреЗ рдбрд┐рдЬрд╛рдЗрди рдмрд╣реБрдд рд╕рд╛рд░реА рдЪрд╛рд▓реЗрдВ рдЫрд┐рдкрд╛рддреЗ рд╣реИрдВ, рдЬрд┐рд╕ рдкрд░ рд╣рдо рдЖрдЧреЗ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВрдЧреЗред <br></li><li>  <code>by-reference passing</code> ред  рдЬрдм рд╣рдо рдХрд┐рд╕реА рд╡рд╕реНрддреБ рдпрд╛ рдЪрд░ рдХреЛ рд╕рдВрджрд░реНрдн рджреНрд╡рд╛рд░рд╛ рдкрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рдпрд╣ рдЙрдореНрдореАрдж рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП рдХрд┐ рдХреБрдЫ рдЬрд╛рджреВ рдЕрдирд┐рд╡рд╛рд░реНрдп рд░реВрдк рд╕реЗ рдЖрдкрдХреЗ рд╕рд╛рде рд╣реЛрдЧрд╛ред <br></li><li>  <code>bound closures</code> ред  рдмрдВрдж рд╣реЛрдиреЗ рдФрд░ рдЗрд╕ рддрдереНрдп рдкрд░ рдХрд┐ рд╡реЗ рдмрд╛рдВрдз рд╕рдХрддреЗ рд╣реИрдВ, рдЖрдк рдмрд╣реБрдд рд╕рд╛рд░реА рдЪрд╛рд▓реЗрдВ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред <br></li><li>  рдкреНрд░рддрд┐рдмрд┐рдВрдм рдПрдкреАрдЖрдИ рдПрдХ рдирдП рд╕реНрддрд░ рдкрд░ рдкреНрд░рддрд┐рдмрд┐рдВрдм рд▓реЗрдиреЗ рдореЗрдВ рдорджрдж рдХрд░рддрд╛ рд╣реИред <br></li><li>  StreamWrapper APIред <br></li></ul><br>  рдЙрдкрдХрд░рдг рддреИрдпрд╛рд░ рд╣реИ - рдореИрдВ рдЬрд╛рджреВ рдХреЗ рдкрд╣рд▓реЗ рдирд┐рдпрдо рдХреЛ рдпрд╛рдж рджрд┐рд▓рд╛рдКрдВрдЧрд╛ред <br><br><blockquote>  рдХрдорд░реЗ рдореЗрдВ рд╣рдореЗрд╢рд╛ рд╕рдмрд╕реЗ рдЪрддреБрд░ рдЖрджрдореА рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред </blockquote><br><h2>  рдЯреНрд░рд┐рдХ # резред  рдЕрд╕рдВрднрд╡ рддреБрд▓рдирд╛ </h2><br>  рдЪрд▓реЛ рдкрд╣рд▓реА рдЪрд╛рд▓ рд╕реЗ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рдЬрд┐рд╕реЗ рдореИрдВ рдЕрд╕рдВрднрд╡ рддреБрд▓рдирд╛ рдХрд╣рддрд╛ рд╣реВрдВред <br>  рдХреЛрдб рдХреЛ рдмрд╛рд░реАрдХреА рд╕реЗ рджреЗрдЦреЗрдВ рдФрд░ рджреЗрдЦреЗрдВ рдХрд┐ рдХреНрдпрд╛ рдпрд╣ PHP рдореЗрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/ji/sd/8i/jisd8ip2pzz7kx9otvdxq8_c-k4.png"><br><br>  рдПрдХ рдЪрд░ рд╣реИ, рд╣рдо рдЗрд╕рдХреЗ рдореВрд▓реНрдп рдХреА рдШреЛрд╖рдгрд╛ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдлрд┐рд░ рдЕрдЪрд╛рдирдХ рдпрд╣ рдЦреБрдж рдХреЗ рдмрд░рд╛рдмрд░ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИред <br><br><h3>  рдирд╣реАрдВ рдПрдХ рдирдВрдмрд░ </h3><br>  NaN рдХреЗ рд░реВрдк рдореЗрдВ рдЗрд╕ рддрд░рд╣ рдХреА рдПрдХ рдЬрд╛рджреБрдИ рдХрд▓рд╛рдХреГрддрд┐ рд╣реИ - рдиреЙрдЯ-рдП-рдирдВрдмрд░ред <br><br><img src="https://habrastorage.org/webt/gf/fw/3b/gffw3bl5rfz8xz1br3ut9ocmhnw.jpeg"><br><br>  рдЗрд╕рдХреА рдЕрджреНрднреБрдд рд╡рд┐рд╢реЗрд╖рддрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ рд╕реНрд╡рдпрдВ рдХреЗ рдмрд░рд╛рдмрд░ рдирд╣реАрдВ рд╣реИред  рдФрд░ рдпрд╣ рд╣рдорд╛рд░реА рдкрд╣рд▓реА рдЪрд╛рд▓ рд╣реИ: рджреЛрд╕реНрдд рдХреА рдкрд╣реЗрд▓реА рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП NaN рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред  рд▓реЗрдХрд┐рди NaN рдЗрд╕ рдХрд╛рд░реНрдп рдХреЗ рд▓рд┐рдП рдПрдХрдорд╛рддреНрд░ рд╕рдорд╛рдзрд╛рди рдирд╣реАрдВ рд╣реИред <br><br><h3>  рд╣рдо рд╕реНрдерд┐рд░рд╛рдВрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ </h3><br><img src="https://habrastorage.org/webt/7c/hd/l1/7chdl1uranfz-cg9lbhc078ipnq.jpeg"><br><br>  рдЪрд╛рд▓ рдпрд╣ рд╣реИ рдХрд┐ рд╣рдо <code>namespace</code> рд▓рд┐рдП <code>false</code> рдХреЛ <code>true</code> рдШреЛрд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рддреБрд▓рдирд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЕрд╢реБрдн рдбреЗрд╡рд▓рдкрд░ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рдЖрд╢реНрдЪрд░реНрдп рдХрд░реЗрдЧрд╛ рдХрд┐ рдХреНрдпреЛрдВ <code>true</code> рдФрд░ <code>false</code> рдирд╣реАрдВ <code>false</code> ред <br><br><h3>  рд╣реИрдВрдбрд▓рд░ </h3><br>  рдЕрдЧрд▓реА рдЪрд╛рд▓ рджреЛ рдкрд┐рдЫрд▓реЗ рд╡рд┐рдХрд▓реНрдкреЛрдВ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рддреЛрдкрдЦрд╛рдиреЗ рд╣реИред  рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рдпрд╣ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/xj/3g/5j/xj3g5jvenlytadytgnqth9yb47c.jpeg"><br><br>  рдЯреНрд░рд┐рдХ <code>tick_function</code> рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИ рдФрд░ рдЬреИрд╕рд╛ рдХрд┐ рдореИрдВрдиреЗ рдЙрд▓реНрд▓реЗрдЦ рдХрд┐рдпрд╛ рд╣реИ, <code>declare(ticks=1)</code> ред <br><br>  рдпрд╣ рд╕рдм рдмреЙрдХреНрд╕ рд╕реЗ рдмрд╛рд╣рд░ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ?  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо рдХреБрдЫ рдлрд╝рдВрдХреНрд╢рди рдХреА рдШреЛрд╖рдгрд╛ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рд╕рдВрджрд░реНрдн рд╕реЗ рдпрд╣ <code>isMagic</code> рдкреИрд░рд╛рдореАрдЯрд░ рд▓реЗрддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рдпрд╣ рдЗрд╕ рдорд╛рди рдХреЛ <code>true</code> рдмрджрд▓рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ <code>true</code> ред  рдЬрдм рд╣рдордиреЗ <code>declare(ticks=1)</code> рдШреЛрд╖рд┐рдд <code>declare(ticks=1)</code> рдмрд╛рдж, PHP рджреБрднрд╛рд╖рд┐рдпрд╛ рдкреНрд░рддреНрдпреЗрдХ рдкреНрд░рд╛рдердорд┐рдХ рдСрдкрд░реЗрд╢рди рдХреЗ рдмрд╛рдж <code>register_tick_function</code> - рдХреЙрд▓рдмреИрдХ рдХрд╣рддрд╛ рд╣реИред  рдЗрд╕ рдХреЙрд▓рдмреИрдХ рдореЗрдВ, рд╣рдо рдЙрд╕ рдореВрд▓реНрдп рдХреЛ рдмрджрд▓ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдкрд╣рд▓реЗ <code>false</code> рд╕реЗ <code>true</code> ред  рдЬрд╛рджреВ! <br><br><h2>  рдЯреНрд░рд┐рдХ # реиред  рдЬрд╛рджреВ рдХреЗ рднрд╛рд╡ </h2><br>  рдПрдХ рдЙрджрд╛рд╣рд░рдг рд▓реЗрдВ рдЬрд┐рд╕рдореЗрдВ рджреЛ рдЪрд░ рдШреЛрд╖рд┐рдд рдХрд┐рдП рдЧрдП рд╣реИрдВред  рдЙрдирдореЗрдВ рд╕реЗ рдПрдХ <code>false</code> , рджреВрд╕рд░реА <code>true</code> ред  рд╣рдо <code>isBlack</code> рдФрд░ <code>isWhite</code> рдФрд░ var_dump рдкрд░рд┐рдгрд╛рдо рд╣реИред  рдЖрдкрдХреЛ рдХреНрдпрд╛ рд▓рдЧрддрд╛ рд╣реИ рдЗрд╕рдХрд╛ рдкрд░рд┐рдгрд╛рдо рдХреНрдпрд╛ рд╣реЛрдЧрд╛? <br><br><img src="https://habrastorage.org/webt/yy/5r/kx/yy5rkxfp5zdicpodqjrutq1diri.png"><br><br>  <b>рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рд╕рдВрдЪрд╛рд▓рдХ</b> ред  рд╕рд╣реА рдЙрддреНрддрд░ <code>false</code> , рдХреНрдпреЛрдВрдХрд┐ PHP рдореЗрдВ "рдСрдкрд░реЗрдЯрд░ рдкреВрд░реНрд╡рддрд╛" рдЬреИрд╕реА рдХреЛрдИ рдЪреАрдЬ рд╣реИред <br><br><img src="https://habrastorage.org/webt/tm/8e/uf/tm8eufef1fi8j46c3fc3xbgl1z8.jpeg"><br><br>  рдЖрд╢реНрдЪрд░реНрдпрдЬрдирдХ рд░реВрдк рд╕реЗ, рддрд╛рд░реНрдХрд┐рдХ рдСрдкрд░реЗрдЯрд░ <code>or</code> рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдСрдкрд░реЗрд╢рди рдХреА рддреБрд▓рдирд╛ <code>or</code> рдХрдо рдкреНрд░рд╛рдердорд┐рдХрддрд╛ рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдХреЗрд╡рд▓ <code>false</code> рдЕрд╕рд╛рдЗрди рдХрд░рдирд╛  <code>isWhite</code> рднреА рдЕрдиреНрдп рдПрдХреНрд╕рдкреНрд░реЗрд╢рди рд╣реЛ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ рдкрд╣рд▓реЗ рднрд╛рдЧ рдХреЗ рд╡рд┐рдлрд▓ рд╣реЛрдиреЗ рдкрд░ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рд╣реЛрдЧрд╛ред <br><br><h3>  рдЬрд╛рджреВ рдХреЗ рднрд╛рд╡ </h3><br>  рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдХреЛрдб рдкрд░ рдПрдХ рдирдЬрд╝рд░ рдбрд╛рд▓реЗрдВред  рдХреБрдЫ рд╡рд░реНрдЧ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░, рдФрд░ рдХреБрдЫ рдХрд╛рд░рдЦрд╛рдиреЗ рд╢рд╛рдорд┐рд▓ рд╣реИрдВ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдХреЛрдб рдЖрдЧреЗ рд╣реЛрдЧрд╛ред <br><br><img src="https://habrastorage.org/webt/bk/md/w5/bkmdw5zdb6bxcpml7jzygu9vjhs.jpeg"><br><br>  рдЕрдВрддрд┐рдо рдкрдВрдХреНрддрд┐ рдкрд░ рдзреНрдпрд╛рди рджреЗрдВред <br><br><pre> <code class="php hljs">$value = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> $factory-&gt;build(Foo::class);</code> </pre> <br>  рдХрдИ рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ рдЬреЛ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред <br><br><ul><li>  <code>$factory</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрдХреНрд╖рд╛ рдХреЗ рдирд╛рдо рдХреЗ рд░реВрдк рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛; <br></li><li>  рдПрдХ рдкрд╛рд░реНрд╕рд┐рдВрдЧ рддреНрд░реБрдЯрд┐ рд╣реЛрдЧреА; <br></li><li>  рдХреЙрд▓ <code>$factory-&gt;build()</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕ рдореВрд▓реНрдп рдкрд░ рдпрд╣ рдлрд╝рдВрдХреНрд╢рди рд╡рд╛рдкрд╕ рдЖрдПрдЧрд╛, рдкрд░рд┐рдгрд╛рдо <code>new</code> рд╣реЛрдЧрд╛; <br></li><li>  <code>$factory-&gt;build</code> рдкреНрд░реЙрдкрд░реНрдЯреА рдХреЗ рдореВрд▓реНрдп рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреНрд▓рд╛рд╕ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br></li></ul><br>  рдЖрдЗрдП рдЕрдВрддрд┐рдо рд╡рд┐рдЪрд╛рд░ рджреЗрдЦреЗрдВред  <code>$factory</code> рд╡рд░реНрдЧ рдореЗрдВ, рд╣рдо рдЬрд╛рджреВ рдХреЗ рдХрд╛рд░реНрдпреЛрдВ рдХреА рдПрдХ рд╢реНрд░реГрдВрдЦрд▓рд╛ рдХреА рдШреЛрд╖рдгрд╛ рдХрд░рддреЗ рд╣реИрдВред  рд╡реЗ рд▓рд┐рдЦреЗрдВрдЧреЗ рдХрд┐ рд╣рдо рдХреНрдпрд╛ рдХрд░рддреЗ рд╣реИрдВ: рд╕рдВрдкрддреНрддрд┐ рдХреЛ рдХреЙрд▓ рдХрд░реЗрдВ, рд╡рд┐рдзрд┐ рдХреЛ рдХреЙрд▓ рдХрд░реЗрдВ, рдпрд╛ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдСрдмреНрдЬреЗрдХреНрдЯ рдкрд░ <code>invoke</code> рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВред <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Factory</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($name)</span></span></span><span class="hljs-function"> </span></span>{<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Getting property {$name}"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Foo::class;} <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_call</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($name, $arg)</span></span></span><span class="hljs-function"> </span></span>{<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Calling method {$name}"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Foo::class;} <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_invoke</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($name)</span></span></span><span class="hljs-function"> </span></span>{<span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Invoking {$name}"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Foo::class;} }</code> </pre> <br>  рд╕рд╣реА рдЙрддреНрддрд░: рд╣рдо рдПрдХ рд╡рд┐рдзрд┐ рдирд╣реАрдВ рдХрд╣ рд░рд╣реЗ рд╣реИрдВ, рдмрд▓реНрдХрд┐ рдПрдХ рд╕рдВрдкрддреНрддрд┐ рд╣реИред  <code>$factory-&gt;build</code> рдмрд╛рдж <code>$factory-&gt;build</code> рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдХреЗ рд▓рд┐рдП рдПрдХ рдкреИрд░рд╛рдореАрдЯрд░ рд╣реИ, рдЬрд┐рд╕реЗ рд╣рдо рдЗрд╕ рд╡рд░реНрдЧ рдореЗрдВ рдкрд╛рд╕ рдХрд░реЗрдВрдЧреЗред <br><br>  рд╡реИрд╕реЗ, рдЗрд╕ рд░реВрдкрд░реЗрдЦрд╛ рдореЗрдВ рдореИрдВрдиреЗ "рдирдИ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЛ рд░реЛрдХрдирд╛" рдирд╛рдордХ рдПрдХ рд╕реБрд╡рд┐рдзрд╛ рдХреЛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рд╣реИ - рдЖрдк рдЗрд╕ рдбрд┐рдЬрд╛рдЗрди рдХреЛ "рд▓реЙрдХ" рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br><h3>  рдкрд╛рд░реНрд╕рд░ рд▓реЛрдлреЛрд▓ </h3><br>  рдирд┐рдореНрди рдЙрджрд╛рд╣рд░рдг PHP рдкрд╛рд░реНрд╕рд░ рдХреЗ рд▓рд┐рдП рд╣реА рд╣реИред  рдХреНрдпрд╛ рдЖрдкрдиреЗ рдХрднреА рдХреЙрд▓рд┐рдВрдЧ рдлрд╝рдВрдХреНрд╢рдВрд╕ рдХреА рдХреЛрд╢рд┐рд╢ рдХреА рд╣реИ рдпрд╛ рдШреБрдВрдШрд░рд╛рд▓реЗ рдмреНрд░реЗрд╕рд┐рдЬрд╝ рдХреЗ рдЕрдВрджрд░ рд╡реИрд░рд┐рдПрдмрд▓ рдЕрд╕рд╛рдЗрди рдХрд┐рдпрд╛ рд╣реИ? <br><br><img src="https://habrastorage.org/webt/wi/b5/kb/wib5kbzb1j_0gzdurptouztvb7u.jpeg"><br><br>  рдореБрдЭреЗ рдЯреНрд╡рд┐рдЯрд░ рдкрд░ рдпрд╣ рдЯреНрд░рд┐рдХ рдорд┐рд▓реА, рдпрд╣ рдмреЗрд╣рдж рдЕрдорд╛рдирдХ рд╣реИред <br><br><pre> <code class="php hljs">$result = ${<span class="hljs-string"><span class="hljs-string">'_'</span></span> . !$_=getCallback()}(); $_=getCallback(); <span class="hljs-comment"><span class="hljs-comment">// string(5) "hello" !$_=getCallback()}(); // bool(false) '_'.!$_=getCallback()}(); // string(1) "_" ${'_'.!$_=getCallback()}(); // string(5) "hello"</span></span></code> </pre> <br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдХреЗ рдореВрд▓реНрдп рдХреЛ <code>_</code> (рдЕрдВрдбрд░рд╕реНрдХреЛрд░) рдирд╛рдо рдХреЗ рд╡реЗрд░рд┐рдПрдмрд▓ рдХреЛ рдЕрд╕рд╛рдЗрди рдХрд░рддреЗ рд╣реИрдВред  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрдХ рдЪрд░ рд╣реИ, рд╣рдо рддрд╛рд░реНрдХрд┐рдХ рд░реВрдк рд╕реЗ рдЗрд╕рдХреЗ рдореВрд▓реНрдп рдХреЛ рдЙрд▓рдЯрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рд╣рдо <code>false</code> - рд▓рд╛рдЗрди рдХреЛ <code>true</code> рдорд╛рди рд▓рд┐рдпрд╛ рдЬрд╛рддрд╛ <code>true</code> ред  рдлрд┐рд░ рд╣рдо рдЗрд╕реЗ рдЪрд░ рдирд╛рдо рд╕реЗ рд╕рднреА рдХреЛ рдПрдХ рд╕рд╛рде рдЧреЛрдВрдж рджреЗрддреЗ рд╣реИрдВ, рдЬрд┐рд╕рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╣рдо рдлрд┐рд░ рдШреБрдВрдШрд░рд╛рд▓реЗ рдХреЛрд╖реНрдардХ рдХреЗ рдЕрдВрджрд░ рдмрджрд▓ рдЬрд╛рддреЗ рд╣реИрдВред <br><br><blockquote>  рдЬрд╛рджреВ рдХреНрдпрд╛ рд╣реИ?  рдпрд╣ рдордиреЛрд░рдВрдЬрди рд╣реИ рдЬреЛ рд╣рдореЗрдВ рдкреНрд░реЗрд░рд┐рдд, рдЕрд╕рд╛рдорд╛рдиреНрдп рдорд╣рд╕реВрд╕ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдХрд╣рддреЗ рд╣реИрдВ: тАЬрдХреНрдпрд╛?  рддреЛ рдпрд╣ рд╕рдВрднрд╡ рдерд╛? тАЭ </blockquote><br><h2>  рдЯреНрд░рд┐рдХ # рейред  рдирд┐рдпрдо рддреЛрдбрд╝рдирд╛ </h2><br>  PHP рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдореБрдЭреЗ рдЬреЛ рдкрд╕рдВрдж рд╣реИ рд╡рд╣ рдпрд╣ рд╣реИ рдХрд┐ рдЖрдк рдЙрди рдирд┐рдпрдореЛрдВ рдХреЛ рддреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рд╣рд░ рдХреЛрдИ рд╕реБрдкрд░-рд╕рд┐рдХреНрдпреЛрд░ рд╣реЛрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдореЗрдВ рдмрдирд╛рддрд╛ рд╣реИред  рдПрдХ рдбрд┐рдЬрд╝рд╛рдЗрди рд╣реИ рдЬрд┐рд╕реЗ "рд╕реАрд▓ рдХреНрд▓рд╛рд╕" рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдирд┐рдЬреА рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рд╣реЛрддрд╛ рд╣реИред  рдЬрд╛рджреВрдЧрд░ рдХреЗ рдЫрд╛рддреНрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдЖрдкрдХрд╛ рдХрд╛рд░реНрдп рдЗрд╕ рдХрдХреНрд╖рд╛ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рдирд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/rt/uw/h4/rtuwh49inyhecfbsbea1hvb6kq4.jpeg"><br><br>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддреАрди рд╡рд┐рдХрд▓реНрдкреЛрдВ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред <br><br><h3>  рд╡реИрдХрд▓реНрдкрд┐рдХ рд╣рд▓ </h3><br>  рдкрд╣рд▓рд╛ рддрд░реАрдХрд╛ рд╕рдмрд╕реЗ рд╕реНрдкрд╖реНрдЯ рд╣реИред  рдпрд╣ рдкреНрд░рддреНрдпреЗрдХ рдбреЗрд╡рд▓рдкрд░ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП - рдпрд╣ рдорд╛рдирдХ рдПрдкреАрдЖрдИ рд╣реИ рдЬреЛ рднрд╛рд╖рд╛ рд╣рдореЗрдВ рдкреНрд░рджрд╛рди рдХрд░рддреА рд╣реИред <br><br><img src="https://habrastorage.org/webt/w2/or/df/w2ordfmqdhs3qg-nnzbff9yiilc.png"><br><br>  <code>newInstanceWithoutConstructor</code> рдирд┐рд░реНрдорд╛рдг рдЖрдкрдХреЛ рднрд╛рд╖рд╛ рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рдХреЛ рдмрд╛рдпрдкрд╛рд╕ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬреЛ рдХрд┐ рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдирд┐рдЬреА рд╣реИ рдФрд░ рд╣рдорд╛рд░реЗ рд╕рднреА рдирд┐рдЬреА рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдШреЛрд╖рдгрд╛рдУрдВ рдХреЛ рджрд░рдХрд┐рдирд╛рд░ рдХрд░рддреЗ рд╣реБрдП рдХрдХреНрд╖рд╛ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рддрд╛ рд╣реИред <br><br>  рд╡рд┐рдХрд▓реНрдк рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИ, рд╕рд░рд▓ рд╣реИ, рдХрд┐рд╕реА рднреА рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред <br><br><h3>  рд╢реЙрд░реНрдЯ рд╕рд░реНрдХрд┐рдЯ </h3><br>  рджреВрд╕рд░реЗ рд╡рд┐рдХрд▓реНрдк рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рдзреНрдпрд╛рди рдФрд░ рдХреМрд╢рд▓ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИред  рдПрдХ рдЕрдирд╛рдо рдлрд╝рдВрдХреНрд╢рди рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рддрдм рдЙрд╕ рд╡рд░реНрдЧ рдХреЗ рдУрд╕реНрдкреНрд░реЗ рдХреЛ рдмрд╛рдВрдзрддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/2z/6k/lz/2z6klzhpzlkbcglexaslmiu9ezo.png"><br><br>  рдпрд╣рд╛рдВ рд╣рдо рдХреНрд▓рд╛рд╕ рдХреЗ рдЕрдВрджрд░ рд╣реИрдВ рдФрд░ рд╕реБрд░рдХреНрд╖рд┐рдд рддрд░реАрдХреЗ рд╕реЗ рдирд┐рдЬреА рддрд░реАрдХреЛрдВ рд╕реЗ рдХреЙрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд╣рдо рдЕрдкрдиреА рдХрдХреНрд╖рд╛ рдХреЗ рд╕рдВрджрд░реНрдн рд╕реЗ <code>new static</code> рдХреЛ рдХреЙрд▓ рдХрд░рдХреЗ рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/fn/v5/ul/fnv5ulkueuayx56vd07u7tfk128.png"><br><br><h3>  deserializing </h3><br>  рддреАрд╕рд░рд╛ рд╡рд┐рдХрд▓реНрдк рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рд╕рдмрд╕реЗ рдЙрдиреНрдирдд рд╣реИред <br><br><img src="https://habrastorage.org/webt/ky/qi/xb/kyqixbfapmoxxaisd6g3mlypuny.png"><br><br>  рдпрджрд┐ рдЖрдк рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рдкрдВрдХреНрддрд┐ рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рддреЛ рдХреБрдЫ рдорд╛рдиреЛрдВ рдХреЛ рд╡рд╣рд╛рдВ рдкреНрд░рддрд┐рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ - рд╣рдорд╛рд░реА рдХрдХреНрд╖рд╛ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЬрд╛рдПрдЧреАред <br><br><img src="https://habrastorage.org/webt/d2/0k/fi/d20kfibw1fnqmmovhc90_mqb1sy.png"><br><br>  рдбрд┐рд╕реЗрд░рд┐рдПрд▓рд╛рдЗрдЬрд╝реЗрд╢рди рдХреЗ рдмрд╛рдж, рд╣рдореЗрдВ рдЕрдкрдирд╛ <code>instance</code> рдорд┐рд▓рддрд╛ рд╣реИред <br><br><h3>  рд╕рд┐рджреНрдзрд╛рдВрдд / рддрд╛рддреНрдХрд╛рд▓рд┐рдХ рдкреИрдХреЗрдЬ </h3><br>  рдЬрд╛рджреВ рдЕрдХреНрд╕рд░ рдПрдХ рдкреНрд░рд▓реЗрдЦрд┐рдд рдврд╛рдВрдЪрд╛ рдпрд╛ рдкреБрд╕реНрддрдХрд╛рд▓рдп рдмрди рдЬрд╛рддрд╛ рд╣реИ - рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <b>рд╕рд┐рджреНрдзрд╛рдВрдд / рддрд╛рддреНрдХрд╛рд▓рд┐рдХрддрд╛ рдореЗрдВ</b> рдпрд╣ рд╕рдм рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╣рдо рдХрд┐рд╕реА рднреА рдХреЛрдб рдХреЗ рд╕рд╛рде рдХреЛрдИ рднреА рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред <br><br><pre> <code class="plaintext hljs">composer show doctrine/instantiator --all name : doctrine/instantiator descrip. : A small, lightweight utility to instantiate objects in PHP without invoking their constructors keywords : constructor, instantiate type : library license : MIT License (MIT)</code> </pre> <br><h2>  рдЯреНрд░рд┐рдХ # 4  рд╕рдВрдкрддреНрддрд┐ рдХреА рдкрд╣реБрдВрдЪ рдХреЛ рдмрд╛рдзрд┐рдд рдХрд░рдирд╛ </h2><br>  рдмрд╛рджрд▓ рдПрдХрддреНрд░рд┐рдд рд╣реЛ рд░рд╣реЗ рд╣реИрдВ: рд╡рд░реНрдЧ рдЧреБрдкреНрдд рд╣реИ, рдЧреБрдг рдФрд░ рдирд┐рд░реНрдорд╛рддрд╛ рдирд┐рдЬреА рд╣реИрдВ, рдФрд░ рдХреЙрд▓рдмреИрдХ рднреАред <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Secret</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $secret = <span class="hljs-number"><span class="hljs-number">42</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Secret is: '</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;secret; } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onPropAccess</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Accessing property {$name}"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">100500</span></span>; } } <span class="hljs-comment"><span class="hljs-comment">// How to create a secret instance and intercept the secret value?</span></span></code> </pre> <br>  рд╡рд┐рдЬрд╛рд░реНрдб рдХреЗ рд░реВрдк рдореЗрдВ рд╣рдорд╛рд░рд╛ рдХрд╛рдо, рдХрд┐рд╕реА рддрд░рд╣ рдХреЙрд▓рдмреИрдХ рдХрд░рдирд╛ рд╣реИред <br><br><h3>  рдЬрд╛рджреВ рдЬреЛрдбрд╝рдирд╛ ... рдкрд╛рдиреЗ рд╡рд╛рд▓рд╛ </h3><br>  рдЗрд╕реЗ рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЪреБрдЯрдХреА рдЬрд╛рджреВ рдЬреЛрдбрд╝реЗрдВред <br><br><img src="https://habrastorage.org/webt/p7/ut/2w/p7ut2w699vysx99jnvmxvr0akfy.png"><br><br>  рдпрд╣ рдЪреБрдЯрдХреА рд▓реЗрдиреЗ рд╡рд╛рд▓рд╛ рдЬрд╛рджреВ рдХрд░рдиреЗ <code>getter</code> ред  рдпрд╣ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рдХрд╣рддрд╛ рд╣реИ, рдФрд░ рдЕрдм рддрдХ рдХреБрдЫ рднреА рднрдпрд╛рдирдХ рдирд╣реАрдВ рд╣реБрдЖ рд╣реИред  рд▓реЗрдХрд┐рди рд╣рдо рдкрд┐рдЫрд▓реА рдЪрд╛рд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ рдФрд░ рдирд┐рдЬреА рдирд┐рд░реНрдорд╛рдг рдХреЛ рджрд░рдХрд┐рдирд╛рд░ рдХрд░рдХреЗ рдЗрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рдмрдирд╛рдПрдВрдЧреЗред <br><br><img src="https://habrastorage.org/webt/b0/oy/gu/b0oyguiksznuw3rzfn19rsz1s4y.jpeg"><br><br>  рдЕрдм рд╣рдореЗрдВ рдХрд┐рд╕реА рддрд░рд╣ рдХреЙрд▓рдмреИрдХ рдХреА рдЬрд░реВрд░рдд рд╣реИред <br><br><h3>  рд╕рд░реНрдХрд┐рдЯ рдХреЗ рдЕрдВрджрд░ "рдкрд░реЗрд╢рд╛рди" </h3><br>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдПрдХ рдХреНрд▓реЛрдЬрд░ рдмрдирд╛рдПрдВред  рдХреНрд▓реЛрдЬрд░ рдХреЗ рдЕрдВрджрд░ рдЬреЛ рдХрдХреНрд╖рд╛ рдХреЗ рджрд╛рдпрд░реЗ рдореЗрдВ рд╣реИ, рд╣рдо рдЗрд╕ рд╡реЗрд░рд┐рдПрдмрд▓ рдХреЛ <code>unset()</code> рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд╕рд╛рде рд╣рдЯрд╛рддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/-n/2l/md/-n2lmdkswrc0cgk6tcobilajlgk.jpeg"><br><br>  <code>unset</code> рдЖрдкрдХреЛ рдЕрд╕реНрдерд╛рдпреА рд░реВрдк рд╕реЗ рдПрдХ рд╡реИрд░рд┐рдПрдмрд▓ рдХреЛ рдмрд╛рд╣рд░ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЬреЛ рд╣рдорд╛рд░реЗ рдЬрд╛рджреВ <code>get</code> рд╡рд┐рдзрд┐ рдХрд╣рд▓рд╛рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ред <br><br><h3>  рд╣рдо рдкреНрд░рд╛рдЗрд╡реЗрдЯ рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдХреЛ рдмреБрд▓рд╛рддреЗ рд╣реИрдВ </h3><br>  рдЪреВрдВрдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рдирд┐рдЬреА рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рд╣реИ рдЬреЛ <code>echo</code> рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ, рдЖрдк рдмрд╕ рдЗрд╕ рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕реЗ рдХреЙрд▓ рдХрд░рдХреЗ рд╕реБрд▓рдн рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/1z/-g/vo/1z-gvohztwjnrbeujkiwecxdowi.jpeg"><br><br>  рддреЛ рд╣рдорд╛рд░рд╛ рдЧреБрдкреНрдд рд╡рд░реНрдЧ рдЯреБрдХрдбрд╝реЛрдВ рдореЗрдВ рдЯреВрдЯ рдЧрдпрд╛ред <br><br><img src="https://habrastorage.org/webt/om/cv/ef/omcvefwmkjdrmnvuepdf3mmvf5k.png"><br><br>  рд╣рдореЗрдВ рдПрдХ рд╕рдВрджреЗрд╢ рдорд┐рд▓рд╛ рдХрд┐ рд╣рдо: <br><br><ul><li>  рдкрдХрдбрд╝рд╛; <br></li><li>  рдХреБрдЫ рдЕрд▓рдЧ рддрд░рд╣ рд╕реЗ рд▓реМрдЯрд╛ред <br></li></ul><br><h3>  leedavis / altr-ego рдкреИрдХреЗрдЬ </h3><br>  рдмрд╣реБрдд рд╕рд╛рд░реЗ рдЬрд╛рджреВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкреНрд░рд▓реЗрдЦрд┐рдд рд╣реИрдВред  <b>рд╡реЗрджреА-рдЕрд╣рдВрдХрд╛рд░</b> рдкреИрдХреЗрдЬ рдХреЗрд╡рд▓ рдЖрдкрдХреЗ рдШрдЯрдХ рд╣реЛрдиреЗ рдХрд╛ рджрд┐рдЦрд╛рд╡рд╛ рдХрд░ рд░рд╣рд╛ рд╣реИред <br><br><pre> <code class="plaintext hljs">composer show leedavis81/altr-ego --all name : leedavis81/altr-ego descrip. : Access an objects protected / private properties and methods keywords : php, break scope versions : dev-master, v1.0.2, v1.0.1, v1.0.0 type : library license : MIT License (MIT)</code> </pre> <br>  рдЖрдк рдЕрдкрдиреА рдПрдХ рд╡рд╕реНрддреБ рдмрдирд╛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрд╕рдореЗрдВ рдПрдХ рд╕реЗрдХреЗрдВрдб рд╕рдВрд▓рдЧреНрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдпрд╣ рд╕реБрд╡рд┐рдзрд╛ рдореЗрдВ рдмрджрд▓рд╛рд╡ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрдЧрд╛ред  рд╡рд╣ рдЖрдЬреНрдЮрд╛рдХрд╛рд░реА рд░реВрдк рд╕реЗ рдмрджрд▓ рдЬрд╛рдПрдЧрд╛ рдФрд░ рдЖрдкрдХреА рд╕рднреА рдЗрдЪреНрдЫрд╛рдУрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░реЗрдЧрд╛ред <br><br><h2>  рдЯреНрд░рд┐рдХ # 5  PHP рдореЗрдВ рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдп рд╡рд╕реНрддреБрдПрдБ </h2><br>  рдХреНрдпрд╛ PHP рдореЗрдВ рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдп рд╡рд╕реНрддреБ рд╣реИрдВ?  рд╣рд╛рдВ, рдФрд░ рдмрд╣реБрдд, рдмрд╣реБрдд рд▓рдВрдмреЗ рд╕рдордп рддрдХред <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Magic</span></span> { $<span class="hljs-title"><span class="hljs-title">object</span></span> = (<span class="hljs-title"><span class="hljs-title">object</span></span>) [ "\0<span class="hljs-title"><span class="hljs-title">Secret</span></span>\0<span class="hljs-title"><span class="hljs-title">property</span></span>" =&gt; '<span class="hljs-title"><span class="hljs-title">test</span></span>' ]; var_dump($object); }</code> </pre> <br>  рдмрд╕ рдЙрдиреНрд╣реЗрдВ рдПрдХ рджрд┐рд▓рдЪрд╕реНрдк рддрд░реАрдХреЗ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред  рджрд┐рд▓рдЪрд╕реНрдк рдмрд╛рдд рдпрд╣ рд╣реИ рдХрд┐ рд╣рдо рдПрдХ рд╕рд░рдгреА рдмрдирд╛рддреЗ рд╣реИрдВ рдЬрд┐рд╕рдореЗрдВ рдПрдХ <b>рд╡рд┐рд╢реЗрд╖ рдХреБрдВрдЬреА рд╣реЛрддреА рд╣реИ</b> ред  рдпрд╣ рдХрдВрд╕реНрдЯреНрд░рдХреНрд╢рди <code>\0</code> рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ - рдпрд╣ рдПрдХ рд╢реВрдиреНрдп рдмрд╛рдЗрдЯ рдХреИрд░реЗрдХреНрдЯрд░ рд╣реИ, рдФрд░ <code>Secret</code> рдмрд╛рдж рд╣рдо <code>\0</code> рднреА рджреЗрдЦрддреЗ рд╣реИрдВред <br><br>  рдирд┐рд░реНрдорд╛рдг рдХрд╛ рдЙрдкрдпреЛрдЧ PHP рдореЗрдВ рдПрдХ рд╡рд░реНрдЧ рдХреЗ рднреАрддрд░ рдПрдХ рдирд┐рдЬреА рд╕рдВрдкрддреНрддрд┐ рдШреЛрд╖рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрджрд┐ рд╣рдо рдХрд┐рд╕реА рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдЕрд░реИ рдореЗрдВ рдбрд╛рд▓рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдо рдЙрд╕реА рдХреБрдВрдЬреА рдХреЛ рджреЗрдЦреЗрдВрдЧреЗред  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ <code>stdClass</code> рдХреБрдЫ рдирд╣реАрдВ рд╣реЛрдЧрд╛ред  рдЗрд╕рдореЗрдВ <code>Secret</code> рд╡рд░реНрдЧ рд╕реЗ рдПрдХ рдирд┐рдЬреА рд╕рдВрдкрддреНрддрд┐ рд╢рд╛рдорд┐рд▓ рд╣реИ, рдЬреЛ <code>test</code> рдмрд░рд╛рдмрд░ рд╣реИред <br><br><pre> <code class="php hljs">object(stdClass) [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-string"><span class="hljs-string">'property'</span></span> (Secret) =&gt; string <span class="hljs-string"><span class="hljs-string">'test'</span></span> (length=<span class="hljs-number"><span class="hljs-number">4</span></span>)</code> </pre> <br>  рдПрдХрдорд╛рддреНрд░ рд╕рдорд╕реНрдпрд╛ рдпрд╣ рд╣реИ - рдлрд┐рд░ рдЖрдк рдЗрд╕ рд╕рдВрдкрддреНрддрд┐ рдХреЛ рд╡рд╣рд╛рдВ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗред  рдпрд╣ рдмрдирд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реИред <br><br>  рдореИрдВрдиреЗ рд╕реЛрдЪрд╛ рдХрд┐ рдпрд╣ рдЕрд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ - рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдп рд╡рд╕реНрддреБрдПрдБ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЖрдк рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗред  рдЗрд╕рд▓рд┐рдП, рдореИрдВрдиреЗ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ рдХрд┐ рдореЗрд░реЗ рдлреИрд╕рд▓реЗ рдХреЛ рджрд░реНрдЬ рдХрд░рдиреЗ рдХрд╛ рд╕рдордп рдЖ рдЧрдпрд╛ рд╣реИред  рдореИрдВрдиреЗ рдЕрдкрдиреЗ рд╕рднреА рдЬреНрдЮрд╛рди рдФрд░ рдЬрд╛рджреВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬреЛ рдХрд┐ рд╣рдорд╛рд░реЗ рд╕рднреА рдЬрд╛рджреВ рдХреА рдЪрд╛рд▓ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдПрдХ рдирд┐рд░реНрдорд╛рдг рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкреАрдПрдЪрдкреА рдореЗрдВ рдЙрдкрд▓рдмреНрдз рд╣реИред <br><br>  <b>рдЖрдЗрдП рдПрдХ рд╕рд░рд▓ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░реЗрдВ - рдПрдХ рдбреАрдЯреАрдУ рдмрдирд╛рдПрдВ</b> рдФрд░ рдЗрд╕рдореЗрдВ рд╕рднреА рдЧреБрдгреЛрдВ рдХреЛ рд░реЛрдХрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ (рдкрд┐рдЫрд▓реА рдЪрд╛рд▓ рджреЗрдЦреЗрдВ)ред <br><br>  <b>рд╣рдо рдПрдХ рд╕реБрд░рдХреНрд╖рд┐рдд рдЬрдЧрд╣ рдореЗрдВ рдЙрди рдореВрд▓реНрдпреЛрдВ рдХреЛ рд╕рд╣реЗрдЬрддреЗ рд╣реИрдВ</b> рдЬрд┐рдиреНрд╣реЗрдВ рд╣рдо рд╡рд╣рд╛рдВ рд╕реЗ рдХреИрдкреНрдЪрд░ рдХрд░рддреЗ рд╣реИрдВред  рд╡реЗ рдХрд┐рд╕реА рднреА рддрд░реАрдХреЗ рд╕реЗ рджреБрд░реНрдЧрдо рд╣реЛрдВрдЧреЗ: рди рддреЛ <code>reflection</code> , рди рд╣реА рдмрдВрдж, рдФрд░ рди рд╣реА рдЕрдиреНрдп рдЬрд╛рджреВред  рд▓реЗрдХрд┐рди рдЕрдирд┐рд╢реНрдЪрд┐рддрддрд╛ рд╣реИ - рдХреНрдпрд╛ PHP рдореЗрдВ рдРрд╕реА рдХреЛрдИ рдЬрдЧрд╣ рд╣реИ рдЬреЛ рдХреБрдЫ рдЪрд░реЛрдВ рдХреЛ рдмрдЪрд╛рдиреЗ рдХреА рдЧрд╛рд░рдВрдЯреА рджреЗрдЧреА рддрд╛рдХрд┐ рдХреЛрдИ рдЪрд╛рд▓рд╛рдХ рдпреБрд╡рд╛ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рд╡рд╣рд╛рдВ рди рдкрд╣реБрдВрдЪреЗ? <br><br>  <b>рд╣рдо рдПрдХ рдЬрд╛рджреВ рдкрджреНрдзрддрд┐ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ</b> рддрд╛рдХрд┐ рдЖрдк рдЗрд╕ рдореВрд▓реНрдп рдХреЛ рдкрдврд╝ рд╕рдХреЗрдВред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдЬрд╛рджреВ <code>getters</code> , рдЬрд╛рджреВ рдХреА <code>isset</code> рддрд░реАрдХреЗ рд╣реИрдВ рдЬреЛ рд╣рдореЗрдВ рдПрдкреАрдЖрдИ рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред <br><br>  рдЪрд▓реЛ рдПрдХ рд╡рд┐рд╢реНрд╡рд╕рдиреАрдп рд╕реНрдерд╛рди рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВ рдФрд░ рдЦреЛрдЬ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред <br><br><ul><li>  <code>Global variables</code> рд░рджреНрдж <code>Global variables</code> рджрд┐рдП рдЧрдП рд╣реИрдВ - рдХреЛрдИ рднреА рдЙрдиреНрд╣реЗрдВ рдмрджрд▓ рд╕рдХрддрд╛ рд╣реИред <br></li><li>  <code>Public properties</code> рднреА рдЙрдкрдпреБрдХреНрдд рдирд╣реАрдВ рд╣реИрдВред <br></li><li>  <code>Protected properties</code> рддреЛ рдРрд╕рд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдмрдЪреНрдЪреЗ рд╡рд░реНрдЧ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдорд┐рд▓реЗрдЧрд╛ред <br></li><li>  <code>Private properties</code> ред  рдХреЛрдИ рднрд░реЛрд╕рд╛ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдмрдВрдж рд╣реЛрдиреЗ рдпрд╛ <code>reflection</code> рдорд╛рдзреНрдпрдо рд╕реЗ рдЗрд╕реЗ рдмрджрд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред <br></li><li>  <code>Private static properties</code> рдХреА рдХреЛрд╢рд┐рд╢ рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ, рд▓реЗрдХрд┐рди <code>reflection</code> рднреА рдЯреВрдЯ рдЬрд╛рддрд╛ рд╣реИред <br></li></ul><br>  рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдЪрд░ рдХреЗ рдореВрд▓реНрдпреЛрдВ рдХреЛ рдЫрд┐рдкрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд╣реАрдВ рдирд╣реАрдВ рд╣реИред  рд▓реЗрдХрд┐рди рдПрдХ рдЬрд╛рджреВ рдХреА рдмрд╛рдд рдереА - <code>Static variables in functions</code> - рдпреЗ рд╡реЗ рд╡реЗрд░рд┐рдПрдмрд▓реНрд╕ рд╣реИрдВ рдЬреЛ рдлрд╝рдВрдХреНрд╢рдВрд╕ рдХреЗ рдЕрдВрджрд░ рд╣реЛрддреЗ рд╣реИрдВред <br><br><h3>  рдореВрд▓реНрдпреЛрдВ рдХрд╛ рд╕реБрд░рдХреНрд╖рд┐рдд рднрдВрдбрд╛рд░рдг </h3><br>  рдореИрдВрдиреЗ <b>рдирд┐рдХрд┐рддрд╛ рдкреЛрдкреЛрд╡</b> рдФрд░ <b>рдЬреЗ рд╡реЙрдЯрдХрд┐рдВрд╕ рд╕реЗ</b> рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╡рд┐рд╢реЗрд╖ рд╕реНрдЯреИрдХ рдУрд╡рд░рдлреНрд▓реЛ рдЪреИрдирд▓ рдкрд░ рдкреВрдЫрд╛ред <br><br><img src="https://habrastorage.org/webt/dz/lg/ev/dzlgevsl3qi9lwbi91sjwladbpu.png"><br><br>  рдпрд╣ рдПрдХ рдлрд╝рдВрдХреНрд╢рди рд╣реИ рдЬрд┐рд╕рдХреЗ рднреАрддрд░ рдПрдХ рд╕реНрдерд┐рд░ рдЪрд░ рдШреЛрд╖рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдХреНрдпрд╛ рдХрд┐рд╕реА рддрд░рд╣ рд╕реЗ рдЗрд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд╛рд▓рдирд╛ рд╕рдВрднрд╡ рд╣реИ, рдЗрд╕реЗ рдмрджрд▓ рджреЗрдВ?  рдЬрд╡рд╛рдм рд╣реИ рдирд╣реАрдВред <br><br>  рд╣рдореЗрдВ рд╕рдВрд░рдХреНрд╖рд┐рдд рдЪрд░ рдХреА рджреВрд╕рд░реА рджреБрдирд┐рдпрд╛ рдореЗрдВ рдПрдХ рдЫреЛрдЯреА рдЦрд╛рдореА рдорд┐рд▓реА рд╣реИ рдФрд░ рд╣рдо рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред <br><br><h3>  рд▓рд┐рдВрдХ рджреНрд╡рд╛рд░рд╛ рдорд╛рди рдкрд╛рд░рд┐рдд рдХрд░рдирд╛ </h3><br>  рд╣рдо рдЗрд╕реЗ рдЧреИрд░-рдорд╛рдирдХ рд░реВрдк рд╕реЗ рд╡рд╕реНрддреБ рдХреА рд╕рдВрдкрддреНрддрд┐ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред  рд▓реЗрдХрд┐рди рдЖрдк рдХрд┐рд╕реА рд╕рдВрдкрддреНрддрд┐ рдХреЛ рдкрд╛рд╕ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ, рдЗрд╕рд▓рд┐рдП рд╣рдо рд╕рдВрджрд░реНрдн рджреНрд╡рд╛рд░рд╛ рдореВрд▓реНрдпреЛрдВ рдХреЗ рдХреНрд▓рд╛рд╕рд┐рдХ рд╣рд╕реНрддрд╛рдВрддрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/xr/qe/vn/xrqevnya2a0a8mizylf8gbimfb8.jpeg"><br><br>  рдпрд╣ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ рдХрд┐ рдПрдХ рд╡рд░реНрдЧ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдЬрд╛рджреВ <code>callStatic</code> рд╡рд┐рдзрд┐ рд╣реИ, рдФрд░ рдЗрд╕рдореЗрдВ <code>Static</code> рдЪрд░ рдШреЛрд╖рд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдХрд┐рд╕реА рдлрд╝рдВрдХреНрд╢рди рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рднреА рдХреЙрд▓ рдореЗрдВ, рд╣рдо рдЕрдкрдиреЗ рд╕рднреА рдиреЗрд╕реНрдЯреЗрдб рддрд░реАрдХреЛрдВ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдп рд╡рд╕реНрддреБ рд╕реЗ рдЪрд░ рдХрд╛ рдорд╛рди рдкрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВред  рдЗрд╕рд▓рд┐рдП рд╣рдо рд╕рдВрджрд░реНрдн рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред <br><br><h3>  рд░рд╛рдЬреНрдп рдмрдЪрд╛рдУ </h3><br>  рдЖрдЗрдП рджреЗрдЦреЗрдВ рдХрд┐ рд░рд╛рдЬреНрдп рдХреИрд╕реЗ рдмрдЪрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/ef/5j/tm/ef5jtmjn0yuws-_nkbegq0neqag.png"><br><br>  рдпрд╣ рдмрд╣реБрдд рдЖрд╕рд╛рди рд╣реИред  рд╣рд╕реНрддрд╛рдВрддрд░рд┐рдд рд╡рд╕реНрддреБ рдХреЗ рд▓рд┐рдП, рд╣рдо <code>spl_object_id</code> рдлрд╝рдВрдХреНрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдкреНрд░рддреНрдпреЗрдХ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рд▓реМрдЯрд╛рддрд╛ рд╣реИред  рдЬреЛ <code>State</code> рд╣рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рд╡рд╕реНрддреБ рд╕реЗ рдорд┐рд▓рд╛ рд╣реИ, рд╡рд╣ рд╡рд╣рд╛рдВ рдмрдЪрд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░ рд░рд╣рд╛ рд╣реИред  рдХреБрдЫ рдЦрд╛рд╕ рдирд╣реАрдВред <br><br><h3>  рд╡рд╕реНрддреБ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рд▓рд╛рдЧреВ рдХрд░реЗрдВ </h3><br>  рдпрд╣рд╛рдБ рдлрд┐рд░ рд╕реЗ рд╕рдВрджрд░реНрдн рдФрд░ <code>unset</code> рдЧреБрдгреЛрдВ рджреНрд╡рд╛рд░рд╛ рдореВрд▓реНрдпреЛрдВ рдХреЛ рдкрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдирд┐рд░реНрдорд╛рдг рд╣реИред  рд╣рдо рд╕рднреА рд╡рд░реНрддрдорд╛рди рдЧреБрдгреЛрдВ рдХреЛ рдкрд░реЗрд╢рд╛рди рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдкрд╣рд▓реЗ рдЙрдиреНрд╣реЗрдВ <code>State</code> рдЪрд░ рдореЗрдВ рд╕рд╣реЗрдЬ рдЪреБрдХреЗ рд╣реИрдВ, рдФрд░ рдЗрд╕ рд╕рдВрджрд░реНрдн рдХреЛ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд▓рд┐рдП рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВред  рдСрдмреНрдЬреЗрдХреНрдЯ рдореЗрдВ рдЕрдм рдХреЛрдИ рдЧреБрдг рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдХреЗрд╡рд▓ рдЙрд╕рдХрд╛ рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛, рдЬрд┐рд╕реЗ <code>spl_object_id</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдШреЛрд╖рд┐рдд рдХрд┐рдпрд╛ <code>spl_object_id</code> рдФрд░ рдЗрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИ, рдЬрдмрдХрд┐ рдпрд╣ рдЕрднреА рднреА рдЬреАрд╡рд┐рдд рд╣реИред <br><br><img src="https://habrastorage.org/webt/tl/gp/b9/tlgpb9z5yi8ibnwqmod_kifacrq.jpeg"><br><br><h3>  рд░рд╛рдЬреНрдп рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ </h3><br>  рдлрд┐рд░ рд╕рдм рдХреБрдЫ рд╕рд░рд▓ рд╣реИред <br><br><img src="https://habrastorage.org/webt/2n/om/aq/2nomaqdui4jxeusbrlzucow9dck.png"><br><br>  рд╣рдо рдЗрд╕ рд╕рдВрджрд░реНрдн рдХреЛ рдЬрд╛рджреВ рдХрд░рдиреЗ <code>getter</code> рдкрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЕрдкрдиреА рд╕рдВрдкрддреНрддрд┐ рдХреЛ рдЙрд╕рдореЗрдВ рд╕реЗ рдмреБрд▓рд╛рддреЗ рд╣реИрдВред  рдЕрдм рдХреЛрдИ рднреА рдФрд░ рдХреБрдЫ рднреА рдирд╣реАрдВ рдмрджрд▓ рд╕рдХрддрд╛ рд╣реИ рдЗрд╕ <code>Trait</code> рдЬреБрдбрд╝реЗ рд╣реЛрдиреЗ рдХреЗ рдмрд╛рджред <br><br><img src="https://habrastorage.org/webt/m7/iu/_y/m7iu_yazwpqoc4hxhlg6rv4srbo.png"><br><br>  рд╕рднреА рдЬрд╛рджреВ рдкрджреНрдзрддрд┐рдпрд╛рдВ рдЕрддрд┐рдкреНрд░рд╛рдкреНрдд рд╣реИрдВ рдФрд░ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреА рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдпрддрд╛ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддреА рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/jy/he/ht/jyheht4ncrsuwsh7ngerdnd5x4m.jpeg"><br><br><h3>  рд▓рд┐рд╕рд╛рдЪреЗрдВрдХреЛ / рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдп рд╡рд╕реНрддреБ </h3><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЕрдкреЗрдХреНрд╖рд┐рдд рдерд╛, рдкреБрд╕реНрддрдХрд╛рд▓рдп рдореЗрдВ рд╕рдм рдХреБрдЫ рддреБрд░рдВрдд рдФрдкрдЪрд╛рд░рд┐рдХ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдЙрдкрдпреЛрдЧ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реЛрддрд╛ рд╣реИред <br><br><pre> <code class="plaintext hljs">composer show /immutable-object --all name : /immutable-object descrip. : Immutable object library keywords : versions : * dev-master type : library license : MIT License (MIT)</code> </pre> <br>  рдкреБрд╕реНрддрдХрд╛рд▓рдп рдмрд╣реБрдд рд╕рд░рд▓ рджрд┐рдЦрддрд╛ рд╣реИред  рд╣рдо рдЗрд╕реЗ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ рдФрд░ рд╣рдорд╛рд░реА рдХрдХреНрд╖рд╛ рдмрдирд╛рддреЗ рд╣реИрдВред  рдЗрд╕рдХреЗ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдЧреБрдг рд╣реИрдВ: рдирд┐рдЬреА, рд╕рдВрд░рдХреНрд╖рд┐рдд рдФрд░ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХред  рд╣рдо <code>ImmutableTrait</code> рдХрдиреЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/xj/gt/pe/xjgtpettshurwn257f51iaj5u78.jpeg"><br><br>  рдЙрд╕рдХреЗ рдмрд╛рдж, рдЖрдк рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдПрдХ рдмрд╛рд░ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ - рдЗрд╕рдХрд╛ рдореВрд▓реНрдп рджреЗрдЦреЗрдВред  рдпрд╣ рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ рд╡рд╣рд╛рдВ рдмрдЪрд╛ рд╣реИ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдПрдХ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдбреАрдЯреАрдУ рдХреА рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИред <br><br><pre> <code class="php hljs">object (MagicObject) [<span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-string"><span class="hljs-string">'value'</span></span> =&gt; int <span class="hljs-number"><span class="hljs-number">200</span></span></code> </pre> <br>  рд▓реЗрдХрд┐рди рдЕрдЧрд░ рд╣рдо рдЗрд╕реЗ рдмрджрд▓рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕ рддрд░рд╣ ... <br><br><img src="https://habrastorage.org/webt/su/s2/dh/sus2dhhps9ts4gwpx5nxk9301m4.jpeg"><br><br>  ... рддреЛ рддреБрд░рдВрдд рдПрдХ <code>fatal exception</code> рдорд┐рд▓рддрд╛ <code>fatal exception</code> ред  рд╣рдо рдПрдХ рд╕рдВрдкрддреНрддрд┐ рдирд╣реАрдВ рдмрджрд▓ рд╕рдХрддреЗ рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдп рд╣реИред  рдРрд╕рд╛ рдХреИрд╕реЗ? <br><br><img src="https://habrastorage.org/webt/sh/iy/1c/shiy1cl8vmbfmwzbmah8whsbnyu.png"><br><br>  рдпрджрд┐ рдЖрдк рдПрдХ рд░реЛрдорд╛рдВрдЪрдХ рдЪреБрдиреМрддреА рдореЗрдВ рд╢рд╛рдорд┐рд▓ рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдорд┐рдЯрд╛рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдорд┐рд▓рддреЗ рд╣реИрдВ <br><br><img src="https://habrastorage.org/webt/ga/ym/l6/gayml6qurl3mr1o6qpvhzk1_rgi.png"><br><br>  рдпрд╣ рдореЗрд░рд╛ рд╡рд░реНрддрдорд╛рди рд╣реИред  рдЬреИрд╕реЗ рд╣реА рдЖрдк рдЗрд╕ рд╡рд░реНрдЧ рдХреЗ рдЕрдВрджрд░ PHPStorm рдХреЗ рдЕрдВрджрд░ рд╡рд┐рдлрд▓ рд╣реЛрдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ, рдпрд╣ рддреБрд░рдВрдд рдЖрдкрдХреЗ рдЖрджреЗрд╢ рдХреЗ рдирд┐рд╖реНрдкрд╛рджрди рдХреЛ рд░реЛрдХ рджреЗрдЧрд╛ред  рдореИрдВ рдирд╣реАрдВ рдЪрд╛рд╣рддрд╛ рдХрд┐ рдЖрдк рдЗрд╕ рдХреЛрдб рдХреЛ рддреВрд▓ рджреЗрдВ - рдпрд╣ рдмрд╣реБрдд рдЦрддрд░рдирд╛рдХ рд╣реИред  рд╡рд╣ рдЪреЗрддрд╛рд╡рдиреА рджреЗрдЧрд╛ рдХрд┐ рдХреБрдЫ рдирд╣реАрдВ рдХрд░рдирд╛ рд╣реИред <br><br><h2>  рдЯреНрд░рд┐рдХ # 6  рдзрд╛рдЧрд╛ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг </h2><br>  рдбрд┐рдЬрд╛рдЗрди рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">include</span></span> <span class="hljs-string"><span class="hljs-string">'php://filter/read=string.toupper/resource=magic.php'</span></span>;</code> </pre> <br>  рдХреБрдЫ рдЬрд╛рджреБрдИ рд╣реИ: рдПрдХ PHP рдлрд╝рд┐рд▓реНрдЯрд░, <code>read</code> , рдЕрдВрдд рдореЗрдВ рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХрд╛ рдЬрд╛рджреВред php <b>рдлрд╝рд╛рдЗрд▓ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рд╣реИ</b> ред  рдпрд╣ рдлрд╝рд╛рдЗрд▓ рдмрд╣реБрдд рд╕рд░рд▓ рд▓рдЧрддреА рд╣реИред <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">'Hello, world!'</span></span></code> </pre> <br>  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдорд╛рдорд▓рд╛ рдЕрд▓рдЧ рд╣реИред  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдЕрдЧрд░ рд╣рдо рдЕрдкрдиреЗ рдбрд┐рдЬрд╝рд╛рдЗрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдлрд╝рд╛рдЗрд▓ рдХреЛ "рдкреЙрдкреНрдпреБрд▓реЗрдЯ" рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рдпрд╣ рдорд┐рд▓рддрд╛ рд╣реИ: <br><br><pre> <code class="php hljs">HELLO, WORLD!</code> </pre> <br>  рдЙрд╕ рдХреНрд╖рдг рдХреНрдпрд╛ рд╣реБрдЖ рдерд╛?  <code>include</code> рдХрд░рдиреЗ рдореЗрдВ PHP рдлрд╝рд┐рд▓реНрдЯрд░ рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╕реЗ рдЖрдкрдХреЛ рд╕реНрд░реЛрдд рдХреЛрдб рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЗ рд╕рд╣рд┐рдд рдХрд┐рд╕реА рднреА рдлрд╝рд┐рд▓реНрдЯрд░ рдХреЛ рдХрдиреЗрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рдорд┐рд▓рддреА рд╣реИред  рдЖрдк рдЗрд╕ рд╕реНрд░реЛрдд рдХреЛрдб рдореЗрдВ рд╕рдм рдХреБрдЫ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░ рд░рд╣реЗ рд╣реИрдВред  рдЖрдк рдХрдХреНрд╖рд╛рдУрдВ рдФрд░ рд╡рд┐рдзрд┐рдпреЛрдВ рд╕реЗ <code>final</code> рдирд┐рдХрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВ, рдЧреБрдг рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ - рдХреБрдЫ рднреА рдЖрдк рдЗрд╕ рдЪреАрдЬ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдХреНрд░реИрдВрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдореЗрд░реЗ рдкрд╣рд▓реВ рдврд╛рдВрдЪреЗ рдХрд╛ рдПрдХ рд╣рд┐рд╕реНрд╕рд╛ рдЗрд╕ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИред  рдЬрдм рдЖрдкрдХрд╛ рд╡рд░реНрдЧ рдЬреБрдбрд╝рд╛ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд╡рд╣ рдЗрд╕рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рдХреНрд░рд┐рдпрд╛рдиреНрд╡рд┐рдд рдХрд░рддрд╛ рд╣реИред <br><br>  PHP рдореЗрдВ рдмреЙрдХреНрд╕ рдХреЗ рдмрд╛рд╣рд░ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рддреИрдпрд╛рд░ рдлрд┐рд▓реНрдЯрд░ рдХрд╛ рдПрдХ рдкреВрд░рд╛ рдЧреБрдЪреНрдЫрд╛ рд╣реИред <br><br><pre> <code class="php hljs">var_dump(stream_get_filters()); <span class="hljs-keyword"><span class="hljs-keyword">array</span></span> (size=<span class="hljs-number"><span class="hljs-number">10</span></span>) <span class="hljs-number"><span class="hljs-number">0</span></span> =&gt; string <span class="hljs-string"><span class="hljs-string">'zlib.*'</span></span> (length=<span class="hljs-number"><span class="hljs-number">6</span></span>) <span class="hljs-number"><span class="hljs-number">1</span></span> =&gt; string <span class="hljs-string"><span class="hljs-string">'bzip2.*'</span></span> (length=<span class="hljs-number"><span class="hljs-number">7</span></span>) <span class="hljs-number"><span class="hljs-number">2</span></span> =&gt; string <span class="hljs-string"><span class="hljs-string">'convert.iconv.*'</span></span> (length=<span class="hljs-number"><span class="hljs-number">15</span></span>) <span class="hljs-number"><span class="hljs-number">3</span></span> =&gt; string <span class="hljs-string"><span class="hljs-string">' string.rotl3'</span></span> (length=<span class="hljs-number"><span class="hljs-number">12</span></span>) <span class="hljs-number"><span class="hljs-number">4</span></span> =&gt; string <span class="hljs-string"><span class="hljs-string">'string.toupper'</span></span> (length=<span class="hljs-number"><span class="hljs-number">14</span></span>) <span class="hljs-number"><span class="hljs-number">5</span></span> =&gt; string <span class="hljs-string"><span class="hljs-string">'string.tolower'</span></span> (length=<span class="hljs-number"><span class="hljs-number">14</span></span>) <span class="hljs-number"><span class="hljs-number">6</span></span> =&gt; string <span class="hljs-string"><span class="hljs-string">'string.strip_tags'</span></span> (length=<span class="hljs-number"><span class="hljs-number">17</span></span>) <span class="hljs-number"><span class="hljs-number">7</span></span> =&gt; string <span class="hljs-string"><span class="hljs-string">'convert.*'</span></span> (length=<span class="hljs-number"><span class="hljs-number">9</span></span>) <span class="hljs-number"><span class="hljs-number">8</span></span> =&gt; string <span class="hljs-string"><span class="hljs-string">'consumed'</span></span> (length=<span class="hljs-number"><span class="hljs-number">8</span></span>) <span class="hljs-number"><span class="hljs-number">9</span></span> =&gt; string <span class="hljs-string"><span class="hljs-string">'dechunk'</span></span> (length=<span class="hljs-number"><span class="hljs-number">7</span></span>)</code> </pre> <br>  рд╡реЗ рдЖрдкрдХреЛ рд╕рд╛рдордЧреНрд░реА рдХреЛ "рдЬрд╝рд┐рдк" рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВ, рдЗрд╕реЗ рдКрдкрд░реА рдпрд╛ рдирд┐рдЪрд▓реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдЕрдиреБрд╡рд╛рдж рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдореБрдЦреНрдп рдЪрд╛рд▓реЗрдВ рдЬреЛ рдореИрдВ рджрд┐рдЦрд╛рдирд╛ рдЪрд╛рд╣рддрд╛ рдерд╛ рдЦрддреНрдо рд╣реЛ рдЧрдИ рд╣реИрдВред  рдЪрд▓рд┐рдП рдЕрдм рдореИрдВ рдЬреЛ рдХреБрдЫ рднреА рдХрд░ рд╕рдХрддрд╛ рд╣реВрдВ, рдЙрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЖрдЧреЗ рдмрдврд╝рддрд╛ рд╣реВрдВ - рдкрд╣рд▓реВ-рдЙрдиреНрдореБрдЦ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧред <br><br><h2>  рдЯреНрд░рд┐рдХ # 7  рдкрд╣рд▓реВ рдЙрдиреНрдореБрдЦ рдкреНрд░реЛрдЧреНрд░рд╛рдорд┐рдВрдЧ </h2><br>  рдЗрд╕ рдХреЛрдб рдХреЛ рджреЗрдЦреЗрдВ рдФрд░ рд╕реЛрдЪреЗрдВ рдХрд┐ рдХреНрдпрд╛ рдпрд╣ рдЖрдкрдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рд╕реЗ рдЕрдЪреНрдЫрд╛ рд╣реИ рдпрд╛ рдмреБрд░рд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/xx/za/wa/xxzawap4whyavczg4g5ptvsx6q0.jpeg"><br><br>  рдХреЛрдб рдХрд╛рдлреА рдкрд░реНрдпрд╛рдкреНрдд рд▓рдЧрддрд╛ рд╣реИред  рдпрд╣ рдПрдХреНрд╕реЗрд╕ рдЕрдзрд┐рдХрд╛рд░реЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рддрд╛ рд╣реИ, рд▓реЙрдЧрд┐рдВрдЧ рдХрд░рддрд╛ рд╣реИ, рдПрдХ рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдмрдирд╛рддрд╛ рд╣реИ, рдмрдиреА рд░рд╣рддреА рд╣реИ, <code>exception</code> рдХреЛ рдкрдХрдбрд╝рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ <code>exception</code> ред <br><br>  рдпрджрд┐ рдЖрдк рдЗрд╕ рд╕рднреА рдиреВрдбрд▓реНрд╕ рдХреЛ рджреЗрдЦрддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рд╣рдорд╛рд░реЗ рдкреНрд░рддреНрдпреЗрдХ рддрд░реАрдХреЗ рдореЗрдВ рджреЛрд╣рд░рд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдпрд╣рд╛рдВ рдХреЗрд╡рд▓ рдореВрд▓реНрдпрд╡рд╛рди рдЪреАрдЬ рдпрд╣ рд╣реИ рдХрд┐ рдпрд╣ рд╣рд░реЗ рд░рдВрдЧ рдореЗрдВ рдЪрд┐рд╣реНрдирд┐рдд рд╣реИред <br><br><img src="https://habrastorage.org/webt/uk/za/mo/ukzamorqli1-u6wijf7d7knpwu4.jpeg"><br><br>  рдмрд╛рдХреА рд╕рдм рдХреБрдЫ: "рдорд╛рдзреНрдпрдорд┐рдХ рдЪрд┐рдВрддрд╛рдПрдВ" рдпрд╛ "рдХреНрд░реЙрд╕рдХрдЯрд┐рдВрдЧ рдЪрд┐рдВрддрд╛рдПрдВ" рдХреНрд░реЙрд╕-рдХрдЯрд┐рдВрдЧ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рд╣реИред <br><br>  рдкрд╛рд░рдВрдкрд░рд┐рдХ рдУрдУрдкреА рдЗрди рд╕рднреА рд╕рдВрд░рдЪрдирд╛рдУрдВ рдХреЛ рдХреЙрдкреА-рдкреЗрд╕реНрдЯ рдХреЗ рд╕рд╛рде рдХреЙрдкреА рдХрд░рдирд╛, рдЙрдиреНрд╣реЗрдВ рдирд┐рдХрд╛рд▓рдирд╛ рдФрд░ рдЙрдиреНрд╣реЗрдВ рдХрд╣реАрдВ рдмрд╛рд╣рд░ рд▓реЗ рдЬрд╛рдирд╛ рдЕрд╕рдВрднрд╡ рдмрдирд╛рддрд╛ рд╣реИред  рдпрд╣ рдмреБрд░рд╛ рд╣реИ рдХреНрдпреЛрдВрдХрд┐ рдЖрдкрдХреЛ рдЗрд╕реЗ рджреЛрд╣рд░рд╛рдирд╛ рд╣реИред  рдХрд╛рд╢ рдХреЛрдб рд╣рдореЗрд╢рд╛ рд╕рд╛рдл рдФрд░ рд╕реБрд╡реНрдпрд╡рд╕реНрдерд┐рдд рджрд┐рдЦреЗред <br><br><img src="https://habrastorage.org/webt/hg/vw/pm/hgvwpmdhsbhaeeh0uj5tdngunqo.jpeg"><br><br>  рддрд╛рдХрд┐ рдЗрд╕рдореЗрдВ рд▓реЙрдЧрд┐рдВрдЧ рди рд╣реЛ (рдЗрд╕реЗ рдХрд┐рд╕реА рддрд░рд╣ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рдП) рдФрд░ рдЗрд╕рдореЗрдВ <code>security</code> рдирд╣реАрдВ рд╣реИред <br><br><img src="https://habrastorage.org/webt/yz/-4/i2/yz-4i2yxrju_ti0839xg7idj5ua.jpeg"><br><br>  рддрд╛рдХрд┐ рд▓реЙрдЧрд┐рдВрдЧ рд╕рд╣рд┐рдд рд╕рднреА ... <br><br><img src="https://habrastorage.org/webt/sb/g1/8u/sbg18ud79gi4fg2dhc4h__ojxie.jpeg"><br><br>  ... рдФрд░ рдПрдХ рд╕реБрд░рдХреНрд╖рд╛ рдЬрд╛рдВрдЪ, ... <br><br><img src="https://habrastorage.org/webt/3p/-s/07/3p-s07k5zl65ze55vxs4iddkia8.jpeg"><br><br>  ... рд╕реНрд╡рдпрдВ рджреНрд╡рд╛рд░рд╛ рдХрд┐рдпрд╛ рдЧрдпрд╛ред <br><br>  рдФрд░ рдпрд╣ рд╕рдВрднрд╡ рд╣реИред <br><br><h3>  рд╢рдмреНрджрд╛рд╡рд▓реА "рдкрд╣рд▓реВ" </h3><br>  рдкрд╣рд▓реВ рдирд╛рдо рдХреА рдПрдХ рдЪреАрдЬ рд╣реИред  рдпрд╣ рдПрдХ рд╕рд░рд▓ рдЙрджрд╛рд╣рд░рдг рд╣реИ рдЬреЛ рдЕрдиреБрдорддрд┐рдпреЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░рддрд╛ рд╣реИред  рдЙрд╕рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рдЖрдк рдХреБрдЫ рдПрдиреЛрдЯреЗрд╢рди рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдЬрд┐рд╕реЗ PhpStorm рдХреЗ рд▓рд┐рдП рдкреНрд▓рдЧрдЗрди рджреНрд╡рд╛рд░рд╛ рднреА рд╣рд╛рдЗрд▓рд╛рдЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  "рдкрд╣рд▓реВ" рдПрд╕рдХреНрдпреВрдПрд▓ рдЕрднрд┐рд╡реНрдпрдХреНрддрд┐ рдХреА рдШреЛрд╖рдгрд╛ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рдЗрд╕ рд╕реНрдерд┐рддрд┐ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреЛрдб рдореЗрдВ рдЗрдВрдЧрд┐рдд рдХрд░рддрд╛ рд╣реИред  рдиреАрдЪреЗ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдо <code>UserService</code> рд╡рд░реНрдЧ рд╕реЗ рд╕рднреА рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рддрд░реАрдХреЛрдВ рдХреЗ рд▓рд┐рдП рдПрдХ рдмрдВрдж рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/jx/y_/g4/jxy_g4pvoli4gjezfp3w1vqpkpi.jpeg"><br><br>  <code>$invocation</code> рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╣рдо рдмрдВрдж рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/ym/ju/mp/ymjump3eozldipcvntd-lpo9zbi.jpeg"><br><br>  рдпрд╣ <code>reflection</code> рд╡рд┐рдзрд┐ рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХрд╛ рдЖрд╡рд░рдг рд╣реЛрддрд╛ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдЕрдзрд┐рдХ рддрд░реНрдХ рд╣реЛрддреЗ рд╣реИрдВред <br><br>  рдкреНрд░рддреНрдпреЗрдХ рд╡рд┐рдзрд┐ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдХреЙрд▓рдмреИрдХ рдореЗрдВ рдЖрдЧреЗ, рдЖрдк рдЖрд╡рд╢реНрдпрдХ рдПрдХреНрд╕реЗрд╕ рдЕрдзрд┐рдХрд╛рд░реЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕реЗ "рд╕рд▓рд╛рд╣" рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/i8/zz/pq/i8zzpqsvck05an3amyc8hihxj00.jpeg"><br><br>  рд╣рдо рдЗрд╕ рддрд░рд╣ рдХреА рднрд╛рд╖рд╛ рдХрд╣рддреЗ рд╣реИрдВ: "рдкреНрд░рд┐рдп PHP, рдХреГрдкрдпрд╛ рдЗрд╕ рд╡рд┐рдзрд┐ рдХреЛ рд╣рд░ рдХреЙрд▓ рд╕реЗ рдкрд╣рд▓реЗ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╡рд┐рдзрд┐ рд╕реЗ <code>UserService</code> рд╡рд░реНрдЧ рд╕реЗ рд▓рд╛рдЧреВ рдХрд░реЗрдВ <code>UserService</code> "  рдмрд╕ рдПрдХ рдкрдВрдХреНрддрд┐, рд▓реЗрдХрд┐рди рдмрд╣реБрдд рдЙрдкрдпреЛрдЧреАред <br><br><h3>  рдкрд╣рд▓реВ рдмрдирд╛рдо рдШрдЯрдирд╛ рд╢реНрд░реЛрддрд╛ </h3><br>  рдЗрд╕реЗ рд╕реНрдкрд╖реНрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВрдиреЗ рдЗрд╡реЗрдВрдЯ рд╢реНрд░реЛрддрд╛ рдХреЗ рд╕рд╛рде рдкрд╣рд▓реВ рдХреА рддреБрд▓рдирд╛ рдХреАред  рд╕рд┐рдореНрдлрдиреА рдореЗрдВ рдХрдИ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдЗрд╡реЗрдВрдЯ рдбрд┐рд╕реНрдкреИрдЪрд░ рдХреНрдпрд╛ рд╣реИред <br><br><img src="https://habrastorage.org/webt/5v/8o/ge/5v8oge0pczc4pteufmb0bvxf-da.jpeg"><br><br>  рд╡реЗ рд╕рдорд╛рди рд╣реИрдВ рдХрд┐ рд╣рдо рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХреА рдирд┐рд░реНрднрд░рддрд╛ рд╕реЗ <code>AutorizationChecker</code> , рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, <code>AutorizationChecker</code> , рдФрд░ рдпрд╣ рдШреЛрд╖рдгрд╛ рдХрд░реЗрдВ рдХрд┐ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рдХрд╣рд╛рдВ рдЖрд╡реЗрджрди рдХрд░рдирд╛ рд╣реИред  рд╢реНрд░реЛрддрд╛ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдпрд╣ <code>SubscrabingEvent</code> рдирд╛рдордХ рдПрдХ <code>SubscrabingEvent</code> , рдФрд░ <code>Aspect</code> рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ <code>Aspect</code> рд╣рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реЗрд╡рд╛ рд╕реЗ рд╕рднреА рддрд░реАрдХреЛрдВ рдХреЛ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреЙрд▓ рдХрд░рддреЗ рд╣реИрдВред       callback  :   -    . <br><br> ,      . <br><br> <b> </b> ,    ,  <b></b> <code>Aspects</code> . <br><br><img src="https://habrastorage.org/webt/-i/ae/iy/-iaeiyqqw4oar3tyxzbe4au38n8.jpeg"><br><br> <b> </b> .   ,    <b>  PHP-</b> . <br><br><img src="https://habrastorage.org/webt/6z/sq/da/6zsqda5rxa9alxpilq57s0wyspc.jpeg"><br><br>   ,     .    ,      ,     OPcache. <br><br> <b> </b> .     <code>Composer</code> .    Go! AOP,      <code>Composer</code>    ,    . <br><br><img src="https://habrastorage.org/webt/or/v8/l9/orv8l9yh9swl-mxtzowmrzoomm4.jpeg"><br><br>         <code>Aspects</code> ,   <code>Aspects</code> .       . <br><br>     . <br><br> <b>PHP-Parser</b> .     ,   ,      <b></b> . ,      <b> </b> ,  <a href="https://github.com/nikic/PHP-Parser">PHP-Parser</a> .           . <br><br><img src="https://habrastorage.org/webt/eg/ys/dm/egysdmlqf0bbvkmnacewmrrx-bw.jpeg"><br><br> <b> </b> .     ,   <b>goaop/parser-reflection</b> . <br><br><img src="https://habrastorage.org/webt/b_/oc/6d/b_oc6dfphlk-dtq3jxoijxzmn3i.jpeg"><br><br>    AST-      ,     .    ,        ,       ,       . <br><br>      . <br><br><img src="https://habrastorage.org/webt/9p/lu/an/9pluanmjyprlie0muf8sndyudba.jpeg"><br><br> ,         ,     <code>Aspect</code> . <br><br><img src="https://habrastorage.org/webt/3u/36/3z/3u363ztvggoi6ugvvsunvuilvuy.jpeg"><br><br>            ,     . <br><br><img src="https://habrastorage.org/webt/7z/tv/8p/7ztv8pyc8zti-wlpidlp3fm2zqk.jpeg"><br><br>    ,             ,       .      тАФ     ,   -   ,      . <br><br><img src="https://habrastorage.org/webt/ea/o9/zn/eao9znftd3ywdjzd14acr-9w-fe.png"><br><br>      ,    .      ,   . <br><br>      Aspect MOCK.   ┬л┬╗,      ,   .     . <br><br>       тАФ   <code>joinPoint</code> .   -    <code>joinPoint</code> :  ,   ,    . <br><br><h3>  рдЖрдЧреЗ рдХреНрдпрд╛ рд╣реИ? </h3><br>    . <br><br> <b>OPcache preloading for AOP Core</b> .  AOP-      .          10   . Bootstrapping     ,       PHP. <br><br> <b>FFI integration to modify binary opcodes</b> . ,    ,    .     PHP-opcodes,        <code>.bin</code> .   FFI  . <br><br> <b>Modifying PHP engine internal callbacks</b>   PHP-   userland.  PHP   .   FFI  PHP     userland,       , , .     . <br><br>    ,   . <br><br><h2>  #8. goaop/framework </h2><br>   ,   <a href="https://github.com/goaop/framework"> GitHub</a>       . <br><br><pre> <code class="plaintext hljs">composer show goaop/framework --all name : goaop/framework descrip. : Framework for aspect-oriented programming in PHP. keywords : php, aop, library, aspect versions : dev-master, 3.0.x-dev, 2.x-dev, 2.3.1, тАж type : library license : MIT License</code> </pre> <br>    ,        PhpStorm. <br><br><img src="https://habrastorage.org/webt/ut/ah/rp/utahrp4yrgxj7ch2d0brjr_p7fk.jpeg"><br><br>   ,     Pointcuts.  ,    ,  .     тАФ    ,   ,     . <br><br><h2> Trick #9.   </h2><br>          . ,    . <br><br>   :  ,   -    .           <code>fastcgi_finish_request</code> .    ,      ,   , - callback  тАФ   . <br><br>         ? <br><br>   ,   <code>Deffered</code> ,  ,       . <br><br><img src="https://habrastorage.org/webt/yy/zh/7d/yyzh7dcpvv14sd3r75kroe07xky.jpeg"><br><br>    <code>Aspect</code> ,  ,    ,   <code>Deffered</code> ,    . <br><br><img src="https://habrastorage.org/webt/cc/y5/zj/ccy5zjad0olfwzemsxmnmo8mi_c.png"><br><br>   <code>Aspect</code>    :  ,  , ,      callback,  ,     callback.      . <br><br>  React ,     <code>promise</code> .     ,  -    ,  -     ,   . <br><br> ,       . <br><br><img src="https://habrastorage.org/webt/yp/zl/zp/ypzlzpf5k7tmuiculbcntozf0ga.png"><br><br>  <code>shutdown_function</code>   <code>Aspect</code> .     ,    callback,  ,   ,   ,   callback <code>onPhpTerminate</code> .     <code>fastcgi_finish_request</code>  : ┬л, , ,   ,  ┬╗.         . <br><br>   ,          <code>sendPushNotification</code> . <br><br><img src="https://habrastorage.org/webt/z4/4g/g0/z44gg0rpyaguh-rs8xge_tf6ync.jpeg"><br><br> , -       тАФ   2 . <br><br><img src="https://habrastorage.org/webt/v9/oa/rr/v9oarrwwsrifqgxpfpldsbezd4s.jpeg"><br><br>   ,  ,      ,  2   . <br><br>    ,  <code>Deferred</code> . <br><br><img src="https://habrastorage.org/webt/62/um/gw/62umgw3pjrqokgzk462oyhtlcpu.jpeg"><br><br>   ,    . -       ,  ,      . <br><br>  рд╡рд╣ рд╕рдм рд╣реИред ,          - .  ,   . <br><br><blockquote>    <a href="https://phprussia.ru/moscow/2020">PHP Russia 2020</a>   .        тАФ <a href="https://conf.ontico.ru/lectures/propose%3Fconference%3Dpc2020"> </a> .   <a href="http://eepurl.com/VYVaf"></a>  <a href="https://t.me/PHPRussiaConfChannel">telegram-</a> ,       PHP Russia 2020. </blockquote></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi478618/">https://habr.com/ru/post/hi478618/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi478590/index.html">рдХреНрдпрд╛ рдЖрдк рд╡рд╛рдХрдИ рдорд╛рдЗрдХреНрд░реЛрд╕реЗрд╡рд░реНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВ?</a></li>
<li><a href="../hi478602/index.html">рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдСрдмреНрдЬреЗрдХреНрдЯреНрд╕ рдХреЗ рд╕рд╛рде рдПрдХрддрд╛ рдореЗрдВ MVCред рднрд╛рдЧ реи</a></li>
<li><a href="../hi478604/index.html">рдордЬрджреВрд░реЛрдВ рд╕реЗ рд▓реЗрдХрд░ php рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рддрдХред рдЕрд╕рд╛рдорд╛рдиреНрдп рд╡рд┐рдХрд╛рд╕ рдХреИрд░рд┐рдпрд░</a></li>
<li><a href="../hi478606/index.html">"рд╢реБрдн рд░рд╛рддреНрд░рд┐" - рдХреИрд╕реЗ рд╕реНрдорд╛рд░реНрдЯ рдЧреИрдЬреЗрдЯ рд▓реЛрдЧреЛрдВ рдХреЛ рдиреАрдВрдж рд╕реЗ рд╡рдВрдЪрд┐рдд рдХрд░рддреЗ рд╣реИрдВ</a></li>
<li><a href="../hi478616/index.html">рд╡рд┐рдВрдбреЛрдЬ рдпреВрдПрд╕реА рдХрднреА рд╡рд┐рд╕реНрдорд┐рдд рдХрд░рдирд╛ рдмрдВрдж рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рдпрд╛ рдПрдХ рдЕрдВрджрд░реВрдиреА рд╕реВрддреНрд░ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХреИрд╕реЗ</a></li>
<li><a href="../hi478626/index.html">рд╕реНрдЯреНрд░реАрдВрдЧ рдХреЗ рд╕рд╛рде рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдкрд░рд┐рдирд┐рдпреЛрдЬрди рдбреАрдмрдЧ рдХрд░рдирд╛</a></li>
<li><a href="../hi478628/index.html">рдЪреАрдиреА рдореЗрдВ рдЙрдЪреНрдЪ рд╕реА.рдЖрд░.рдЖрдИ.</a></li>
<li><a href="../hi478630/index.html">рдкрд╛рд╕реНрдХрд▓ рдЧреЛ рдЦреЗрд▓рддреЗ рд╣реИрдВред рдПрдХ рд╢реМрдХрд┐рдпрд╛ рд╕рдВрдХрд▓рдХ рдореЗрдВ рддрд░реАрдХреЛрдВ рдФрд░ рдЗрдВрдЯрд░рдлреЗрд╕ рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди</a></li>
<li><a href="../hi478634/index.html">рдорд╢реАрди рд▓рд░реНрдирд┐рдВрдЧ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдкреНрд░рдмрдВрдзрди рдореЗрдВ рдиреБрдХрд╕рд╛рди</a></li>
<li><a href="../hi478636/index.html">рдЯреЗрдХреНрд╕реНрдЯ рдПрдирдХреЛрдбрд┐рдВрдЧ рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддреА рд╣реИред "рдордЧрд░рдордЪреНрдЫ" рдХрд╣рд╛рдБ рд╕реЗ рдЖрддреЗ рд╣реИрдВред рдХреЛрдбрд┐рдВрдЧ рдХреЗ рд╕рд┐рджреНрдзрд╛рдВрддред рд╕рд╛рдорд╛рдиреНрдпреАрдХрд░рдг рдФрд░ рд╡рд┐рд╕реНрддреГрдд рд╡рд┐рд╢реНрд▓реЗрд╖рдг</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>