<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯЪ╢ЁЯП╗ ЁЯжС ЁЯО║ рдПрдХрддрд╛ рдореЗрдВ рдПрдХ рдмрд┐рд▓реНрд▓реА рд╣реБрдХ рдмрдирд╛рдирд╛ред рднрд╛рдЧ 1 ЁЯеД ЁЯШ╕ ЁЯПм</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдХреИрдЯ рд╣реБрдХ рдЦреЗрд▓ рдореЗрдВ рдордЬреЗрджрд╛рд░ рдФрд░ рджрд┐рд▓рдЪрд╕реНрдк рдпрд╛рдВрддреНрд░рд┐рдХреА рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред рдЖрдк рдЙрдиреНрд╣реЗрдВ рд╕реНрддрд░реЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ, рдПрд░реЗрдирд╛рд╕ рдореЗрдВ рд▓рдбрд╝рдиреЗ рдФрд░ рдЖрдЗрдЯрдо рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдПрдХрддрд╛ рдореЗрдВ рдПрдХ рдмрд┐рд▓реНрд▓реА рд╣реБрдХ рдмрдирд╛рдирд╛ред рднрд╛рдЧ 1</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/414887/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/348/a3e/e5d/348a3ee5d95a10273c8bc644e3dbc7d9.gif" alt="рдЫрд╡рд┐"></div><br>  рдХреИрдЯ рд╣реБрдХ рдЦреЗрд▓ рдореЗрдВ рдордЬреЗрджрд╛рд░ рдФрд░ рджрд┐рд▓рдЪрд╕реНрдк рдпрд╛рдВрддреНрд░рд┐рдХреА рдЬреЛрдбрд╝рддреЗ рд╣реИрдВред  рдЖрдк рдЙрдиреНрд╣реЗрдВ рд╕реНрддрд░реЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ, рдПрд░реЗрдирд╛рд╕ рдореЗрдВ рд▓рдбрд╝рдиреЗ рдФрд░ рдЖрдЗрдЯрдо рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рд▓реЗрдХрд┐рди рд╕реНрдкрд╖реНрдЯ рд╕рд╛рджрдЧреА рдХреЗ рдмрд╛рд╡рдЬреВрдж, рд░рд╕реНрд╕реА рдкреНрд░рдмрдВрдзрди рдХреА рднреМрддрд┐рдХреА рдФрд░ рдпрдерд╛рд░реНрдерд╡рд╛рджреА рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдЪреБрдиреМрддреАрдкреВрд░реНрдг рд╣реЛ рд╕рдХрддрд╛ рд╣реИ! <br><br>  рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рдкрд╣рд▓реЗ рднрд╛рдЧ рдореЗрдВ, рд╣рдо рдЕрдкрдиреА рджреЛ рдЖрдпрд╛рдореА рд╣реБрдХ-рдХреИрдЯ рдкреНрд░рдгрд╛рд▓реА рдХреЛ рд▓рд╛рдЧреВ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рд╕реАрдЦрддреЗ рд╣реИрдВ: <br><br><ul><li>  рдПрдХ рд▓рдХреНрд╖реНрдп рдкреНрд░рдгрд╛рд▓реА рдмрдирд╛рдПрдБред </li><li>  рд░рд╕реНрд╕реА рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЗрди рд░реЗрдВрдбрд░рд░ рдФрд░ рджреВрд░реА рд╕рдВрдпреБрдХреНрдд рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред </li><li>  рд╣рдо рд░рд╕реНрд╕реА рдХреЛ рдЦреЗрд▓ рдХреА рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рд▓рдкреЗрдЯрдирд╛ рд╕рд┐рдЦрд╛рдПрдВрдЧреЗред </li><li>  рд░рд╕реНрд╕реА рдкрд░ рд╕реНрд╡рд┐рдВрдЧ рдХреЛрдг рдХреА рдЧрдгрдирд╛ рдХрд░реЗрдВ рдФрд░ рдЙрд╕ рджрд┐рд╢рд╛ рдореЗрдВ рддрд╛рдХрдд рдЬреЛрдбрд╝реЗрдВред </li></ul><br><blockquote>  <em>рдиреЛрдЯ</em> : рдпрд╣ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдЙрдиреНрдирдд рдФрд░ рдЕрдиреБрднрд╡реА рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рд╣реИ, рдФрд░ рдЗрд╕рдореЗрдВ рдШрдЯрдХреЛрдВ рдХреЛ рдЬреЛрдбрд╝рдиреЗ, рдирдП рдЧреЗрдо рдСрдмрдЬреЗрдХреНрдЯ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмрдирд╛рдиреЗ рдФрд░ рд╕реА # рд╕рд┐рдВрдЯреИрдХреНрд╕ рдЬреИрд╕реЗ рд╡рд┐рд╖рдпреЛрдВ рдХреЛ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдпрджрд┐ рдЖрдкрдХреЛ рдЕрдкрдиреЗ рдПрдХрддрд╛ рдХреМрд╢рд▓ рдореЗрдВ рд╕реБрдзрд╛рд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рддреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХрддрд╛</a> рдФрд░ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕реНрдХреНрд░рд┐рдкреНрдЯрд┐рдВрдЧ</a> рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкрд░рд┐рдЪрдп рдХреЗ</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╕рд╛рде</a> рд╣рдорд╛рд░реЗ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдкреНрд░рд╛рд░рдВрдн рдХрд░рдирд╛ рджреЗрдЦреЗрдВ</a> ред  рдЪреВрдВрдХрд┐ рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ <em>DistanceJoint2D рдХрд╛</em> рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХрддрд╛ 2 рдбреА рдореЗрдВ рднреМрддрд┐рдХреА рдЬреЛрдбрд╝реЛрдВ рдХреЗ</a> рдорд╛рдзреНрдпрдо рд╕реЗ рднреА рджреЗрдЦрдирд╛ рдЪрд╛рд╣рд┐рдП, рдФрд░ рдЙрд╕рдХреЗ рдмрд╛рдж рд╣реА рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдореЗрдВ рд╡рд╛рдкрд╕ рдЖрдирд╛ рдЪрд╛рд╣рд┐рдПред </blockquote><a name="habracut"></a><br><h2>  рдХрд╛рдо рдкрд░ рд▓рдЧрдирд╛ </h2><br>  рдЗрд╕ рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рд▓рд┐рдП <a href="">рдбреНрд░рд╛рдлреНрдЯ</a> рдбрд╛рдЙрдирд▓реЛрдб рдХрд░реЗрдВ рдФрд░ рдлрд┐рд░ рдЗрд╕реЗ рдПрдХрддрд╛ рд╕рдВрдкрд╛рджрдХ рдореЗрдВ рдЦреЛрд▓реЗрдВред  рдСрдкрд░реЗрд╢рди рдХреЗ рд▓рд┐рдП рдПрдХрддрд╛ 2017.1 рдпрд╛ рдЙрдЪреНрдЪрддрд░ рдЖрд╡рд╢реНрдпрдХ рд╣реИред <br><br>  <em>рдкрд░реНрджреЗ рдХреЗ</em> рдлрд╝реЛрд▓реНрдбрд░ рд╕реЗ <em>рдЧреЗрдо рдХрд╛</em> рджреГрд╢реНрдп рдЦреЛрд▓реЗрдВ рдФрд░ рджреЗрдЦреЗрдВ рдХрд┐ рд╣рдо рдХрд╣рд╛рдВ рд╢реБрд░реВ рдХрд░реЗрдВрдЧреЗ: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/973/819/22f/97381922f527deb0b338346d13083c13.png"></div><br>  рдЕрднреА рдХреЗ рд▓рд┐рдП, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдЦрд┐рд▓рд╛рдбрд╝реА рдЪрд░рд┐рддреНрд░ (рд╕реНрд▓рдЧ) рдФрд░ рдкрддреНрдерд░ рд╣рд╡рд╛ рдореЗрдВ рд▓рдЯрдХреЗ рд╣реБрдП рд╣реИрдВред <br><br>  GameObject <em>Player рдХреЗ</em> рдорд╣рддреНрд╡рдкреВрд░реНрдг рдШрдЯрдХ рдХреИрдкреНрд╕реВрд▓ рдХреЛрд▓рд╛рдЗрдбрд░ рдФрд░ рдХрдареЛрд░рддрд╛ рд╣реИрдВ, рдЬреЛ рдЗрд╕реЗ рд╕реНрддрд░ рдкрд░ рднреМрддрд┐рдХ рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдореЛрд╢рди рд╕реНрдХреНрд░рд┐рдкреНрдЯ ( <em>PlayerMovement</em> ) рдЪрд░рд┐рддреНрд░ рд╕реЗ рдЬреБрдбрд╝реА рд╣реБрдИ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдпрд╣ рдЬрдореАрди рдкрд░ <em>рдлрд┐рд╕рд▓рдиреЗ</em> рдФрд░ рд╕рд░рд▓ рдХреВрдж рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br><br>  рдЦреЗрд▓ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <em>рдкреНрд▓реЗ</em> рдмрдЯрди рджрдмрд╛рдПрдВ, рдФрд░ рдЪрд░рд┐рддреНрд░ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред  <em>рдП</em> рдФрд░ <em>рдбреА</em> рдЗрд╕реЗ рдмрд╛рдПрдВ / рджрд╛рдПрдВ <em>рдШреБрдорд╛рддреЗ рд╣реИрдВ,</em> рдФрд░ рдЬрдм рдЖрдк <em>рд╕реНрдкреЗрд╕рдмрд╛рд░</em> рдХреЛ <em>рджрдмрд╛рддреЗ рд╣реИрдВ, рддреЛ</em> рдпрд╣ рдХреВрджрддрд╛ рд╣реИред  рдлрд┐рд╕рд▓рдиреЗ рдФрд░ рдЪрдЯреНрдЯрд╛рди рд╕реЗ рдЧрд┐рд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рди рдХрд░реЗрдВ, рдЕрдиреНрдпрдерд╛ рдЖрдк рдорд░ рдЬрд╛рдПрдВрдЧреЗ! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/69a/8b5/841/69a8b58415940671c3519ceccfcf6ed7.png"></div><br>  рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдкреНрд░рдмрдВрдзрди рдХреА рдореВрд▓ рдмрд╛рддреЗрдВ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЕрдм рд╕рдмрд╕реЗ рдмрдбрд╝реА рд╕рдорд╕реНрдпрд╛ рдХреИрдЯ рд╣реБрдХ рдХреА рдХрдореА рд╣реИред <br><br><h2>  рд╣реБрдХ рдФрд░ рд░рд╕реНрд╕реА рдмрдирд╛рдирд╛ </h2><br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдмрд┐рд▓реНрд▓реА-рд╣реБрдХ рдкреНрд░рдгрд╛рд▓реА рдХрд╛рдлреА рд╕рд░рд▓ рд▓рдЧрддреА рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХреЗ рдЙрдЪреНрдЪ рдЧреБрдгрд╡рддреНрддрд╛ рд╡рд╛рд▓реЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЗ рд▓рд┐рдП рдХрдИ рдкрд╣рд▓реБрдУрдВ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИред  рдпрд╣рд╛рдБ рджреЛ-рдЖрдпрд╛рдореА рдмрд┐рд▓реНрд▓реА-рд╣реБрдХ рдпрд╛рдВрддреНрд░рд┐рдХреА рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдЖрд╡рд╢реНрдпрдХрддрд╛рдПрдБ рд╣реИрдВ: <br><br><ul><li>  рд░рд╕реНрд╕реА рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд▓рд╛рдЗрди рд░реЗрдВрдбрд░рд░ред  рдЬрдм рд░рд╕реНрд╕реА рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рдШреВрдорддреА рд╣реИ, рддреЛ рд╣рдо рдкрдВрдХреНрддрд┐ рд░реЗрдВрдбрд░ рдореЗрдВ рдФрд░ рд╕реЗрдЧрдореЗрдВрдЯ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд░рд╕реНрд╕реА рдХреЗ рдмреНрд░реЗрдХ рдХреЗ рдЕрдиреБрд░реВрдк рдмрд┐рдВрджреБрдУрдВ рдкрд░ рд╡рд░реНрдЯрд┐рдХрд▓ рд░рдЦ рд╕рдХрддреЗ рд╣реИрдВред </li><li>  DistanceJoint2Dред  рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдмрд┐рд▓реНрд▓реА рдХреЗ рд╣реБрдХ рдХреЗ рд╡рд░реНрддрдорд╛рди рд▓рдВрдЧрд░ рдмрд┐рдВрджреБ рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ рд╣рдорд╛рд░рд╛ рд╕реНрд▓рдЧ рд╕реНрд╡рд┐рдВрдЧ рд╣реЛ рд╕рдХреЗред  рдпрд╣ рд╣рдореЗрдВ рджреВрд░реА рдХреЛ рд╕рдорд╛рдпреЛрдЬрд┐рдд рдХрд░рдиреЗ рдХреА рднреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд░рд╕реНрд╕реА рдХреЛ рд▓рдВрдмрд╛ рдХрд░рдиреЗ рдФрд░ рдХрдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </li><li>  RigidBody2D рдХреЗ рд╕рд╛рде рдЪрд╛рдЗрд▓реНрдб рдЧреЗрдордСрдмрдЬреЗрдХреНрдЯ, рдЬрд┐рд╕реЗ рд╣реБрдХ рдХреЗ рдПрдВрдХрд░ рдкреЙрдЗрдВрдЯ рдХреЗ рд╡рд░реНрддрдорд╛рди рд╕реНрдерд╛рди рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рдпрд╣ рд░рд╕реНрд╕реА рдХрд╛ рдирд┐рд▓рдВрдмрди / рд▓рдВрдЧрд░ рдмрд┐рдВрджреБ рд╣реЛрдЧрд╛ред </li><li>  рд╣реБрдХ рдлреЗрдВрдХрдиреЗ рдФрд░ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рд╕рдВрд▓рдЧреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд░реЗрдХрд╛рд╕реНрдЯред </li></ul><br>  рдкрджрд╛рдиреБрдХреНрд░рдо рдореЗрдВ <em>рдкреНрд▓реЗрдпрд░</em> рдСрдмреНрдЬреЗрдХреНрдЯ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рдЗрд╕рдореЗрдВ рдПрдХ рдирдпрд╛ рдмрдЪреНрдЪрд╛ GameObject рдЬреЛрдбрд╝реЗрдВ RopeHingeAnchor рдирд╛рдоред  рдЗрд╕ GameObject рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрдЯ рд╣реБрдХ рдХреЗ рдирд┐рд▓рдВрдмрди / рд▓рдВрдЧрд░ рдмрд┐рдВрджреБ рдХреЛ рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  <em>RopeHingeAnchor рдкрд░ SpriteRenderer</em> рдФрд░ <em>RigidBody2D</em> рдШрдЯрдХ рдЬреЛрдбрд╝реЗрдВред <br><br>  SpriteRenderer рдХреЗ рд▓рд┐рдП, <em>UISprite</em> рдорд╛рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <em>рд╕реНрдкреНрд░рд╛рдЗрдЯ</em> рдкреНрд░реЙрдкрд░реНрдЯреА рд╕реЗрдЯ рдХрд░реЗрдВ рдФрд░ <em>рдСрд░реНрдбрд░ рдХреЛ рд▓реЗрдпрд░</em> рдореЗрдВ <em>2</em> <em>рдореЗрдВ</em> рдмрджрд▓реЗрдВред  рдЗрд╕рдХреЗ рдирд╛рдо рдХреЗ рдЖрдЧреЗ <em>рдмреЙрдХреНрд╕</em> рдХреЛ <em>рдЕрдирдЪреЗрдХ рдХрд░рдХреЗ</em> рдШрдЯрдХ рдХреЛ рдЕрдХреНрд╖рдо рдХрд░реЗрдВред <br><br>  <em>RigidBody2D</em> рдШрдЯрдХ рдХреЗ рд▓рд┐рдП <em>,</em> рдмреЙрдбреА рдЯрд╛рдЗрдк рдкреНрд░реЙрдкрд░реНрдЯреА рдХреЛ <em>рдХрд╛рдЗрдиреЗрдЯрд┐рдХ рдкрд░</em> рд╕реЗрдЯ рдХрд░реЗрдВред  рдЗрд╕ рдмрд┐рдВрджреБ рдХреЛ рднреМрддрд┐рдХ рдЗрдВрдЬрди рджреНрд╡рд╛рд░рд╛ рдирд╣реАрдВ, рдмрд▓реНрдХрд┐ рдХреЛрдб рджреНрд╡рд╛рд░рд╛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред <br><br>  <em>рд░реЛрдк</em> рд▓реЗрдпрд░ рдХрд╛ рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рдЯреНрд░рд╛рдВрд╕рдлреЙрд░реНрдо рдХрдВрдкреЛрдиреЗрдВрдЯ рдХреЗ X рдФрд░ Y рд╕реНрдХреЗрд▓ рдорд╛рди рдХреЛ <em>4 рдкрд░ рд╕реЗрдЯ рдХрд░реЗрдВ</em> ред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e18/4aa/8e4/e184aa8e457a1e1d3928966b2ae3bca7.png"></div><br>  рдлрд┐рд░ рд╕реЗ <em>рдЦрд┐рд▓рд╛рдбрд╝реА рдХрд╛</em> рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рдирдП <em>DistanceJoint2D</em> рдШрдЯрдХ рдХреЛ рд╕рдВрд▓рдЧреНрди рдХрд░реЗрдВред <br><br>  <em>RemoteJoint2D</em> рдШрдЯрдХ рдХреА <em>рдХрдиреЗрдХреНрдЯреЗрдб рдХрдареЛрд░ рдмреЙрдбреА</em> рдкреНрд░реЙрдкрд░реНрдЯреА рдкрд░ рдкрджрд╛рдиреБрдХреНрд░рдо рд╕реЗ <em>RopeHingeAnchor</em> рдХреЛ рдЦреАрдВрдЪреЗрдВ рдФрд░ <em>Auto Configure рджреВрд░реА рдХреЛ</em> рдмрдВрдж рдХрд░реЗрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e46/25b/b80/e4625bb804bb2ed2a0c5bee2aed0eade.gif"></div><br>  <em>рд╕реНрдХреНрд░рд┐рдкреНрдЯ</em> рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ <em>рд░реЛрдкрд╕рд┐рд╕реНрдЯрдо</em> рдирд╛рдордХ рдПрдХ рдирдпрд╛ C # рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмрдирд╛рдПрдВ рдФрд░ рдЗрд╕реЗ рдХреЛрдб рд╕рдВрдкрд╛рджрдХ рдореЗрдВ рдЦреЛрд▓реЗрдВред <br><br>  <code>Update</code> рд╡рд┐рдзрд┐ рдирд┐рдХрд╛рд▓реЗрдВред <br><br>  <code>RopeSystem</code> рд╡рд░реНрдЧ <code>RopeSystem</code> рдЕрдВрджрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ <code>RopeSystem</code> рдирдП рдЪрд░, <code>Awake()</code> рд╡рд┐рдзрд┐ рдФрд░ рдирдпрд╛ <code>Update</code> : <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// 1 public GameObject ropeHingeAnchor; public DistanceJoint2D ropeJoint; public Transform crosshair; public SpriteRenderer crosshairSprite; public PlayerMovement playerMovement; private bool ropeAttached; private Vector2 playerPosition; private Rigidbody2D ropeHingeAnchorRb; private SpriteRenderer ropeHingeAnchorSprite; void Awake() { // 2 ropeJoint.enabled = false; playerPosition = transform.position; ropeHingeAnchorRb = ropeHingeAnchor.GetComponent&lt;Rigidbody2D&gt;(); ropeHingeAnchorSprite = ropeHingeAnchor.GetComponent&lt;SpriteRenderer&gt;(); } void Update() { // 3 var worldMousePosition = Camera.main.ScreenToWorldPoint(new Vector3(Input.mousePosition.x, Input.mousePosition.y, 0f)); var facingDirection = worldMousePosition - transform.position; var aimAngle = Mathf.Atan2(facingDirection.y, facingDirection.x); if (aimAngle &lt; 0f) { aimAngle = Mathf.PI * 2 + aimAngle; } // 4 var aimDirection = Quaternion.Euler(0, 0, aimAngle * Mathf.Rad2Deg) * Vector2.right; // 5 playerPosition = transform.position; // 6 if (!ropeAttached) { } else { } }</span></span></code> </pre> <br>  рдЖрдЗрдП рдкреНрд░рддреНрдпреЗрдХ рднрд╛рдЧ рдХрд╛ рдХреНрд░рдо рдореЗрдВ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВ: <br><br><ol><li>  рд╣рдо рдЗрди рдЪрд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрди рд╡рд┐рднрд┐рдиреНрди рдШрдЯрдХреЛрдВ рдХреЛ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рд░реЛрдкрд╕рд┐рд╕реНрдЯрдо рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░реЗрдВрдЧреЗред </li><li>  <code>Awake</code> рд╡рд┐рдзрд┐ рдЦреЗрд▓ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ рдФрд░ <code>ropeJoint</code> ( <code>ropeJoint</code> рдШрдЯрдХ) рдХреЛ рдирд┐рд╖реНрдХреНрд░рд┐рдп <code>ropeJoint</code> ред  рдпрд╣ <code>playerPosition</code> рдХреЛ рдкреНрд▓реЗрдпрд░ рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдореЗрдВ рднреА рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИред </li><li>  рдпрд╣ рдореБрдЦреНрдп <code>Update()</code> рд▓реВрдк рдХрд╛ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣рд┐рд╕реНрд╕рд╛ рд╣реИред  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдо <code>ScreenToWorldPoint</code> рдХреИрдорд░рд╛ <code>ScreenToWorldPoint</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рджреБрдирд┐рдпрд╛ рдореЗрдВ рдорд╛рдЙрд╕ рдХрд░реНрд╕рд░ рдХреА рд╕реНрдерд┐рддрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВред  рдлрд┐рд░ рд╣рдо рджреБрдирд┐рдпрд╛ рдореЗрдВ рдорд╛рдЙрд╕ рдХреА рд╕реНрдерд┐рддрд┐ рд╕реЗ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдШрдЯрд╛рдХрд░ рдЕрдкрдиреЗ рдЯрдХрдЯрдХреА рдХреА рджрд┐рд╢рд╛ рдХреА рдЧрдгрдирд╛ рдХрд░рддреЗ рд╣реИрдВред  рддрдм рд╣рдо рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд▓рдХреНрд╖реНрдп рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП <code>aimAngle</code> , рдЬреЛ рдХрд░реНрд╕рд░ рдХреЗ рд▓рдХреНрд╖реНрдп рдХреЛрдг рдХрд╛ рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рдХрд░рддрд╛ рд╣реИред  рдорд╛рди рдЕрдЧрд░ рдирд┐рд░реНрдорд╛рдг рдореЗрдВ рдПрдХ рд╕рдХрд╛рд░рд╛рддреНрдордХ рдореВрд▓реНрдп рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддрд╛ рд╣реИред </li><li>  <code>aimDirection</code> рдПрдХ рдореЛрдбрд╝ рд╣реИ рдЬреЛ рдмрд╛рдж рдореЗрдВ рдХрд╛рдо рдЖрддрд╛ рд╣реИред  рд╣рдо рдХреЗрд╡рд▓ Z рдорд╛рди рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВ, рдХреНрдпреЛрдВрдХрд┐ рд╣рдо рдПрдХ 2D рдХреИрдорд░рд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рдФрд░ рдпрд╣ рдПрдХрдорд╛рддреНрд░ рд╕рдВрдЧрдд OS рд╣реИред  рд╣рдо рдЙрджреНрджреЗрд╢реНрдп рдкрд╛рд╕ <code>aimAngle * Mathf.Rad2Deg</code> , рдЬреЛ рд░реЗрдбрд┐рдпрди рдХреЛрдг рдХреЛ рдбрд┐рдЧреНрд░реА рдореЗрдВ рдХреЛрдг рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░рддрд╛ рд╣реИред </li><li>  рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдПрдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдЪрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдореЙрдирд┐рдЯрд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЖрдк рд▓рдЧрд╛рддрд╛рд░ <code>transform.Position</code> рдЙрд▓реНрд▓реЗрдЦ рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗред </li><li>  рдЕрдВрдд рдореЗрдВ, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ <code>if..else</code> рдХрдВрд╕реНрдЯреНрд░рдХреНрд╢рди рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣рдо рдЬрд▓реНрдж рд╣реА рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░реЗрдВрдЧреЗ рдХрд┐ рд░рд╕реНрд╕реА рдПрдВрдХрд░ рдкреЙрдЗрдВрдЯ рд╕реЗ рдЬреБрдбрд╝реА рд╣реИ рдпрд╛ рдирд╣реАрдВред </li></ol><br>  рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рд╕рдВрдкрд╛рджрдХ рдкрд░ рд╡рд╛рдкрд╕ рд▓реМрдЯреЗрдВред <br><br>  рдЦрд┐рд▓рд╛рдбрд╝реА рдСрдмреНрдЬреЗрдХреНрдЯ рдореЗрдВ <em>рд░реЛрдкрд╕рд┐рд╕реНрдЯрдо</em> рдШрдЯрдХ рд╕рдВрд▓рдЧреНрди рдХрд░реЗрдВ рдФрд░ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдХреНрд╖реЗрддреНрд░реЛрдВ рдкрд░ рд╡рд┐рднрд┐рдиреНрди рдШрдЯрдХреЛрдВ рдХреЛ <em>рд▓рдЯрдХрд╛рдПрдВ</em> рдЬреЛ рд╣рдордиреЗ <em>рд░реЛрдкрд╕рд┐рд╕реНрдЯрдо</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдмрдирд╛рдП рдереЗред  рдЙрдкрдпреБрдХреНрдд рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдбреНрд░реИрдЧ <em>рдкреНрд▓реЗрдпрд░</em> , <em>рдХреНрд░реЙрд╕рд╣реЗрдпрд░</em> рдФрд░ <em>рд░реЛрдкрд╣рд┐рдиреНрдЧрдЕрдВрдЪрд░</em> : <br><br><ul><li>  <em>рд░реЛрдк</em> рд╣рд┐рдВрдЬ <em>рдПрдВрдХрд░</em> : рд░реЛрдкрд╣рд┐рдВрдЧ <em>рдПрдВрдХрд░</em> </li><li>  <em>рд░рд╕реНрд╕реА рд╕рдВрдпреБрдХреНрдд</em> : рдЦрд┐рд▓рд╛рдбрд╝реА </li><li>  <em>рдХреНрд░реЙрд╕рд╣реЗрдпрд░</em> : рдХреНрд░реЙрд╕рд╣реЗрдпрд░ </li><li>  <em>рдХреНрд░реЙрд╕рд╣реЗрдпрд░ рд╕реНрдкреНрд░рд╛рдЗрдЯ</em> : рдХреНрд░реЙрд╕рд╣реЗрдпрд░ </li><li>  <em>рдкреНрд▓реЗрдпрд░ рдореВрд╡рдореЗрдВрдЯ</em> : рдкреНрд▓реЗрдпрд░ </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e97/9ca/d2e/e979cad2e2690cc65e9fe237a9f6c47a.gif"></div><br>  рдЕрдм рд╣рдо рдЗрди рд╕рднреА рдЬрдЯрд┐рд▓ рдЧрдгрдирд╛рдУрдВ рдХреЛ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЕрднреА рддрдХ рдРрд╕рд╛ рдХреЛрдИ рджреГрд╢реНрдп рдирд╣реАрдВ рд╣реИ рдЬреЛ рдЙрдиреНрд╣реЗрдВ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдореЗрдВ рджрд┐рдЦрд╛ рд╕рдХреЗред  рд▓реЗрдХрд┐рди рдЪрд┐рдВрддрд╛ рдордд рдХрд░реЛ, рд╣рдо рдЗрд╕реЗ рдЬрд▓реНрдж рд╣реА рдХрд░реЗрдВрдЧреЗред <br><br>  <em>рд░рд╕реНрд╕реАрд╕рд┐рд╕реНрдЯрдо</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдЦреЛрд▓реЗрдВ рдФрд░ <em>рдЗрд╕рдореЗрдВ</em> рдПрдХ рдирдИ рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetCrosshairPosition</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> aimAngle</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!crosshairSprite.enabled) { crosshairSprite.enabled = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = transform.position.x + <span class="hljs-number"><span class="hljs-number">1f</span></span> * Mathf.Cos(aimAngle); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> y = transform.position.y + <span class="hljs-number"><span class="hljs-number">1f</span></span> * Mathf.Sin(aimAngle); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> crossHairPosition = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vector3(x, y, <span class="hljs-number"><span class="hljs-number">0</span></span>); crosshair.transform.position = crossHairPosition; }</code> </pre> <br>  рдпрд╣ рд╡рд┐рдзрд┐ рд╕рдВрдЪрд╛рд░рд┐рдд <code>aimAngle</code> (рдлреНрд▓реЛрдЯ рдорд╛рди рдЬрд┐рд╕реЗ рд╣рдордиреЗ <code>Update()</code> рдореЗрдВ рдЧрдгрдирд╛ рдХреА рд╣реИ <code>Update()</code> рдЖрдзрд╛рд░ рдкрд░ рджреГрд╖реНрдЯрд┐ рдХреЛ рддреИрдирд╛рдд рдХрд░рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдпрд╣ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ 1 рдпреВрдирд┐рдЯ рдХреЗ рддреНрд░рд┐рдЬреНрдпрд╛ рдХреЗ рд╕рд╛рде рдШреВрдорддрд╛ рд░рд╣реЗред  рд╣рдо рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдРрд╕рд╛ рдирд╣реАрдВ рд╣реЛрдиреЗ рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╕реНрдкреНрд░рд╛рдЗрдЯ рд╕реНрдХреЛрдк рднреА рд╢рд╛рдорд┐рд▓ рдХрд░рддреЗ рд╣реИрдВред <br><p>  <code>Update()</code> рд╣рдо <code>!ropeAttached</code> рдХрдВрд╕реНрдЯреНрд░рдХреНрд╢рди рдХреЛ рдЪреЗрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП <code>!ropeAttached</code> рддрд╛рдХрд┐ рдпрд╣ рдЗрд╕ рддрд░рд╣ <code>!ropeAttached</code> : <br><br></p><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!ropeAttached) { SetCrosshairPosition(aimAngle); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { crosshairSprite.enabled = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre> <br>  рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рдмрдЪрд╛рдПрдВ рдФрд░ рдЦреЗрд▓ рдХреЛ рдЪрд▓рд╛рдПрдВред  рдЕрдм рд╣рдорд╛рд░реЗ рд╕реНрд▓рдЧ рдХреЛ рдПрдХ рджреГрд╖реНрдЯрд┐ рд╕реЗ рдирд┐рд╢рд╛рдирд╛ рдмрдирд╛рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ffe/b1f/8ca/ffeb1f8ca53fbc0463aad677677fb837.gif"></div><br>  рддрд░реНрдХ рдХрд╛ рдЕрдЧрд▓рд╛ рдЯреБрдХрдбрд╝рд╛ рдЬрд┐рд╕реЗ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рд╡рд╣ рдПрдХ рдХреИрдЯ-рд╣реБрдХ рд╢реЙрдЯ рд╣реИред  рд╣рдордиреЗ рд▓рдХреНрд╖реНрдп рдХрд░рдиреЗ рдХреА рджрд┐рд╢рд╛ рдкрд╣рд▓реЗ рд╣реА рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░ рд▓реА рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдПрдХ рдРрд╕реА рд╡рд┐рдзрд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬреЛ рдЗрд╕реЗ рдПрдХ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдЧреАред <br><br>  <em>RopeSystem</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдЪрд░ рдХреЗ рдиреАрдЪреЗ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> LineRenderer ropeRenderer; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> LayerMask ropeLayerMask; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> ropeMaxCastDistance = <span class="hljs-number"><span class="hljs-number">20f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;Vector2&gt; ropePositions = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;Vector2&gt;();</code> </pre> <br>  рд▓рд╛рдЗрди рд░реЗрдВрдбрд░рд░ рдореЗрдВ рд▓рд╛рдЗрди рд░реЗрдВрдбрд░рд░ рдХрд╛ рд▓рд┐рдВрдХ рд╣реЛрдЧрд╛ рдЬреЛ рд░рд╕реНрд╕реА рдЦреАрдВрдЪрддрд╛ рд╣реИред  <em>рд▓реЗрдпрд░рдорд╛рд╕реНрдХ</em> рдЖрдкрдХреЛ рднреМрддрд┐рдХреА рдкрд░рддреЛрдВ рдХреЛ рдЕрдиреБрдХреВрд▓рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдЬреЛ рд╣реБрдХ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИред  <code>ropeMaxCastDistance</code> рд╡реИрд▓реНрдпреВ рдЕрдзрд┐рдХрддрдо рджреВрд░реА рддрдп рдХрд░рддреА рд╣реИ рдЬреЛ рд░реЗрдХрд╛рд╕реНрдЯ "рд╢реВрдЯ" рдХрд░ рд╕рдХрддреА рд╣реИред <br><br>  рдЕрдВрдд рдореЗрдВ, рд╡реЗрдХреНрдЯрд░ 2 рдХреЗ рдкрджреЛрдВ рдХреА рд╕реВрдЪреА рдХрд╛ рдЙрдкрдпреЛрдЧ рд░рд╕реНрд╕реА рд▓рдкреЗрдЯрдиреЗ рд╡рд╛рд▓реЗ рдмрд┐рдВрджреБрдУрдВ рдХреЛ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рдЬрд┐рд╕реЗ рд╣рдо рдмрд╛рдж рдореЗрдВ рдЪрд░реНрдЪрд╛ рдХрд░реЗрдВрдЧреЗред <br><br>  рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдирдИ рд╡рд┐рдзрд┐рдпрд╛рдБ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// 1 private void HandleInput(Vector2 aimDirection) { if (Input.GetMouseButton(0)) { // 2 if (ropeAttached) return; ropeRenderer.enabled = true; var hit = Physics2D.Raycast(playerPosition, aimDirection, ropeMaxCastDistance, ropeLayerMask); // 3 if (hit.collider != null) { ropeAttached = true; if (!ropePositions.Contains(hit.point)) { // 4 //    ,    -  . transform.GetComponent&lt;Rigidbody2D&gt;().AddForce(new Vector2(0f, 2f), ForceMode2D.Impulse); ropePositions.Add(hit.point); ropeJoint.distance = Vector2.Distance(playerPosition, hit.point); ropeJoint.enabled = true; ropeHingeAnchorSprite.enabled = true; } } // 5 else { ropeRenderer.enabled = false; ropeAttached = false; ropeJoint.enabled = false; } } if (Input.GetMouseButton(1)) { ResetRope(); } } // 6 private void ResetRope() { ropeJoint.enabled = false; ropeAttached = false; playerMovement.isSwinging = false; ropeRenderer.positionCount = 2; ropeRenderer.SetPosition(0, transform.position); ropeRenderer.SetPosition(1, transform.position); ropePositions.Clear(); ropeHingeAnchorSprite.enabled = false; }</span></span></code> </pre> <br>  рдпрд╣рд╛рдБ рдЙрдкрд░реЛрдХреНрдд рдХреЛрдб рдХреНрдпрд╛ рд╣реИ: <br><br><ol><li>  HandleInput рдХреЛ <code>Update()</code> рд▓реВрдк рд╕реЗ рдкреБрдХрд╛рд░рд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдмрд╕ рдмрд╛рдПрдВ рдФрд░ рджрд╛рдПрдВ рдорд╛рдЙрд╕ рдмрдЯрди рдХреЗ рдЗрдирдкреБрдЯ рдХреЛ рдкреЛрд▓ рдХрд░рддрд╛ рд╣реИред </li><li>  рдЬрдм рдПрдХ рдмрд╛рдпрд╛рдБ-рдХреНрд▓рд┐рдХ рдкрдВрдЬреАрдХреГрдд рд╣реЛрддрд╛ рд╣реИ, рддреЛ рд░рд╕реНрд╕реА рд░реЗрдЦрд╛ рдЪрд╛рд▓реВ рд╣реЛ рдЬрд╛рддреА рд╣реИ рдФрд░ рдПрдХ 2D- рд░реЗрдХрд╛рд╕реНрдЯ рдХреЛ рд▓рдХреНрд╖реНрдп рдХреА рджрд┐рд╢рд╛ рдореЗрдВ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рд╕реНрдерд┐рддрд┐ рд╕реЗ рдирд┐рдХрд╛рд▓ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдЕрдзрд┐рдХрддрдо рджреВрд░реА рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХреА рдЬрд╛рддреА рд╣реИ рддрд╛рдХрд┐ рд╣реБрдХ рдмрд┐рд▓реНрд▓реА рдХреЛ рдПрдХ рдЕрдирдВрдд рджреВрд░реА рдкрд░ рдЧреЛрд▓реА рди рдорд╛рд░реА рдЬрд╛ рд╕рдХреЗ, рдФрд░ рдПрдХ рдореБрдЦреМрдЯрд╛ рд▓рдЧрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ рднреМрддрд┐рдХреА рдХреА рдкрд░рддреЛрдВ рдХрд╛ рдЪрдпрди рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛ, рдЬрд┐рд╕рдореЗрдВ рд░реЗрдХрд╛рд╕реНрдЯ рдЯрдХрд░рд╛ рд╕рдХрддрд╛ рд╣реИред </li><li>  рдпрджрд┐ рдПрдХ рд░реЗрдХрд╛рд╕реНрдЯ рд╣рд┐рдЯ рдХрд╛ рдкрддрд╛ рдЪрд▓рд╛ рд╣реИ, рддреЛ <code>ropeAttached</code> <code>true</code> , рдФрд░ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд░рд╕реНрд╕реА рдХреЗ рдХреЛрдиреЗ рдХреЗ рдкрджреЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рдХреА рдЬрд╛рдВрдЪ рдХреА рдЬрд╛рддреА рд╣реИ рдХрд┐ рд╡рд╣рд╛рдВ рдХреЛрдИ рдмрд┐рдВрджреБ рдирд╣реАрдВ рд╣реИред </li><li>  рдпрджрд┐ рдкрд░реАрдХреНрд╖рдг рд╕рд╣реА рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдмрд▓ рдХреЗ рдПрдХ рдЫреЛрдЯреЗ рд╕реЗ рдЖрд╡реЗрдЧ рдХреЛ рд╕реНрд▓рдЧ рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдпрд╣ рдЬрдореАрди рд╕реЗ рдКрдкрд░ <code>ropeJoint</code> , <code>ropeJoint</code> ( <code>ropeJoint</code> ) рдХреЛ рдЪрд╛рд▓реВ <code>ropeJoint</code> , рдЬреЛ рд╕реНрд▓рдЧ рдФрд░ рд░реЗрдпрд╛рд╕реНрдЯ рд╣рд┐рдЯ рдмрд┐рдВрджреБ рдХреЗ рдмреАрдЪ рдХреА рджреВрд░реА рдХреЗ рдмрд░рд╛рдмрд░ рджреВрд░реА рдкрд░ рд╕реЗрдЯ рд╣реЛрддрд╛ рд╣реИред  рд▓рдВрдЧрд░ рдмрд┐рдВрджреБ рд╕реНрдкреНрд░рд╛рдЗрдЯ рднреА рд╢рд╛рдорд┐рд▓ рд╣реИред </li><li>  рдпрджрд┐ рд░реЗрдХрд╛рд╕реНрдЯ рдХреБрдЫ рднреА рд╣рд┐рдЯ рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ, рддреЛ рд▓рд╛рдЗрди рд░реЗрдВрдбрд░рд░ рдФрд░ рд░рд╕реНрд╕реАрдЬреЙрдЗрдВрдЯ рдЕрдХреНрд╖рдо рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВ, рдФрд░ <code>ropeAttached</code> рдзреНрд╡рдЬ рдЭреВрдард╛ рд╣реИред </li><li>  рдпрджрд┐ рд╕рд╣реА рдорд╛рдЙрд╕ рдмрдЯрди рджрдмрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ <code>ResetRope()</code> рд╡рд┐рдзрд┐ рдХреЛ <code>ResetRope()</code> , рдЬреЛ рд░рд╕реНрд╕реА / рд╣реБрдХ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╕рднреА рдорд╛рдкрджрдВрдбреЛрдВ рдХреЛ рдирд┐рд╖реНрдХреНрд░рд┐рдп рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЙрди рдорд╛рдиреЛрдВ рдХреЛ рд░реАрд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ рдЬреЛ рд╣реБрдХ рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </li></ol><br>  рд╣рдорд╛рд░реЗ <code>Update</code> рд╡рд┐рдзрд┐ рдХреЗ рд╕рдмрд╕реЗ рдирд┐рдЪрд▓реЗ рднрд╛рдЧ рдореЗрдВ, рдирдП <code>HandleInput()</code> рд╡рд┐рдзрд┐ рдореЗрдВ рдПрдХ рдХреЙрд▓ рдЬреЛрдбрд╝реЗрдВ рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП <code>aimDirection</code> рдкрд╛рд╕ рдХрд░реЗрдВ: <br><br><pre> <code class="cs hljs">HandleInput(aimDirection);</code> </pre> <br>  <em>RopeSystem.cs</em> рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рд╕рдВрдкрд╛рджрдХ рдкрд░ рд▓реМрдЯреЗрдВред <br><br><h2>  рд░рд╕реНрд╕реА рдЬреЛрдбрд╝рдирд╛ </h2><br>  рд╣рдорд╛рд░рд╛ рд╕реНрд▓рдЧ рд░рд╕реНрд╕реА рдХреЗ рдмрд┐рдирд╛ рд╣рд╡рд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдбрд╝рд╛рди рднрд░рдиреЗ рдореЗрдВ рд╕рдХреНрд╖рдо рдирд╣реАрдВ рд╣реЛрдЧрд╛, рдЗрд╕рд▓рд┐рдП рдЗрд╕реЗ рдХреБрдЫ рдРрд╕рд╛ рджреЗрдиреЗ рдХрд╛ рд╕рдордп рд╣реИ рдЬреЛ рд░рд╕реНрд╕реА рдХрд╛ рдПрдХ рджреГрд╢реНрдп рдкреНрд░рддрд┐рдирд┐рдзрд┐рддреНрд╡ рд╣реЛрдЧрд╛ рдФрд░ рдЗрд╕рдореЗрдВ рдХреЛрдиреЛрдВ рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ "рдореЛрдбрд╝" рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рд╣реИред <br><br>  рд▓рд╛рдЗрди рд░реЗрдВрдбрд░рд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рдЖрджрд░реНрд╢ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ рд╣рдореЗрдВ рджреБрдирд┐рдпрд╛ рдХреА рдЬрдЧрд╣ рдореЗрдВ рдЕрдВрдХреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдФрд░ рдЙрдирдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред <br><br>  рдпрд╣рд╛рдБ рд╡рд┐рдЪрд╛рд░ рдпрд╣ рд╣реИ рдХрд┐ рд╣рдо рд╣рдореЗрд╢рд╛ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд░рд╕реНрд╕реА рдХреЗ рдкрд╣рд▓реЗ рд╢реАрд░реНрд╖ (0) рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдЕрдиреНрдп рд╕рднреА рдХреЛрдиреЗ рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ рд╕реНрдерд┐рдд рд╣реЛрддреЗ рд╣реИрдВ рдЬрдм рд░рд╕реНрд╕реА рдХреЛ рдХрд┐рд╕реА рдЪреАрдЬрд╝ рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рд▓рдкреЗрдЯрдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬрд┐рд╕рдореЗрдВ рдХрд╛рдЬ рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рднреА рд╢рд╛рдорд┐рд▓ рд╣реИ, рдЬреЛ рдХрд┐ рд░рд╕реНрд╕реА рдХреЗ рд╕рд╛рде рдЕрдЧрд▓рд╛ рдмрд┐рдВрджреБ рд╣реИ рдЦрд┐рд▓рд╛рдбрд╝реА рд╕реЗред <br><br>  <em>рдкреНрд▓реЗрдпрд░ рдХрд╛</em> рдЪрдпрди рдХрд░реЗрдВ рдФрд░ рдЗрд╕рдореЗрдВ <em>LineRenderer</em> рдШрдЯрдХ рдЬреЛрдбрд╝реЗрдВред  <em>рдЪреМрдбрд╝рд╛рдИ</em> рдХреЛ <em>0.075 рдкрд░</em> рд╕реЗрдЯ рдХрд░реЗрдВред  <em>рд╕рд╛рдордЧреНрд░реА</em> рд╕реВрдЪреА рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░реЗрдВ рдФрд░, <em>рддрддреНрд╡ 0 рдХреЗ</em> рд░реВрдк рдореЗрдВ, рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ <em>рд╕рд╛рдордЧреНрд░реА</em> рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рд╕реНрдерд┐рдд <em>рд░реЛрдкрдореИрдЯ</em> рд╕рд╛рдордЧреНрд░реА рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред  рдЖрдЦрд┐рд░ рдореЗрдВ рд▓рд╛рдЗрди рд░реЗрдВрдбрд░рд░ рдХреЗ рд▓рд┐рдП, <em>рдЯреЗрдХреНрд╕рдЪрд░ рдореЛрдб рдХреЗ рд▓рд┐рдП,</em> <em>рдбрд┐рд╕реНрдЯреНрд░реАрдмреНрдпреВрдЯ рдкреНрд░рддрд┐ рд╕реЗрдЧрдореЗрдВрдЯ рдЪреБрдиреЗрдВ</em> ред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c80/6aa/59f/c806aa59f875ac106babef5a8b57a6fc.png"></div><br>  <em>рд░реЛрдк рд╕рд┐рд╕реНрдЯрдо</em> рдШрдЯрдХ рдХреЗ <em>рд░реЛрдк рд░реЗрдВрдбрд░рд░</em> рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рд▓рд╛рдЗрди рд░реЗрдВрдбрд░рд░ рдШрдЯрдХ рдХреЛ рдЦреАрдВрдЪреЗрдВред <br><br>  <em>рд░реЛрдк рд▓реЗрдпрд░ рдорд╛рд╕реНрдХ</em> рдХреА рдбреНрд░реЙрдк-рдбрд╛рдЙрди рд╕реВрдЪреА рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рдЙрди рдкрд░рддреЛрдВ рдХреЗ рд░реВрдк рдореЗрдВ рдЪрдпрди рдХрд░реЗрдВ рдЬрд┐рдирдХреЗ рд╕рд╛рде рд░реЗрдХреЙрд╕реНрдЯ <em>рдбрд┐рдлрд╝реЙрд▓реНрдЯ, рд░рд╕реНрд╕реА рдФрд░ рдкрд┐рд╡рдЯ</em> рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕рдХреЗ рдХрд╛рд░рдг, рдЬрдм рдПрдХ рд░реЗрдХрд╛рд╕реНрдЯ "рд╢реВрдЯрд┐рдВрдЧ", рдпрд╣ рдХреЗрд╡рд▓ рдЗрди рдкрд░рддреЛрдВ рд╕реЗ рдЯрдХрд░рд╛рдПрдЧрд╛, рд▓реЗрдХрд┐рди рдЕрдиреНрдп рд╡рд╕реНрддреБрдУрдВ рдХреЗ рд╕рд╛рде рдирд╣реАрдВ, рдЬреИрд╕реЗ рдХрд┐ рдПрдХ рдЦрд┐рд▓рд╛рдбрд╝реАред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f9f/eab/2c3/f9feab2c30cc84b83c94d39ce74acdea.gif"></div><br>  рдпрджрд┐ рдЖрдк рдЕрднреА рдЦреЗрд▓ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдЕрдЬреАрдм рд╡реНрдпрд╡рд╣рд╛рд░ рджреЗрдЦреЗрдВрдЧреЗред  рдЬрдм рд╣рдо рд╕реНрд▓рдЧ рдХреЗ рд╕рд┐рд░ рдХреЗ рдКрдкрд░ рдПрдХ рдкрддреНрдерд░ рдХреЛ рдирд┐рд╢рд╛рдирд╛ рдмрдирд╛рддреЗ рд╣реИрдВ рдФрд░ рдПрдХ рд╣реБрдХ рдХреЗ рд╕рд╛рде рд╢реВрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рд╣рдореЗрдВ рдПрдХ рдЫреЛрдЯреА рдЫрд▓рд╛рдВрдЧ рдорд┐рд▓рддреА рд╣реИ, рдЬрд┐рд╕рдХреЗ рдмрд╛рдж рд╣рдорд╛рд░рд╛ рдорд┐рддреНрд░ рдмреЗрддрд░рддреАрдм рдврдВрдЧ рд╕реЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░ рджреЗрддрд╛ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/815/abd/ae6/815abdae693911ed0ba56f14775e5488.gif"></div><br>  рд╣рдордиреЗ рдЕрднреА рддрдХ рд╕рдВрдпреБрдХреНрдд рджреВрд░реА рдХреЗ рд▓рд┐рдП рджреВрд░реА рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдирд╣реАрдВ рдХреА рд╣реИ, рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд▓рд╛рдЗрди рд░реЗрдВрдбрд░ рдХреЗ рдХреЛрдиреЗ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдирд╣реАрдВ рдХрд┐рдП рдЧрдП рд╣реИрдВред  рдЗрд╕рд▓рд┐рдП, рд╣рдо рд░рд╕реНрд╕реА рдХреЛ рдирд╣реАрдВ рджреЗрдЦрддреЗ рд╣реИрдВ, рдФрд░ рдЪреВрдВрдХрд┐ рджреВрд░реА рд╕рдВрдпреБрдХреНрдд рд╕реАрдзреЗ рд╕реНрд▓рдЧ рдХреА рд╕реНрдерд┐рддрд┐ рд╕реЗ рдКрдкрд░ рд╣реИ, рджреВрд░реА рд╕рдВрдпреБрдХреНрдд рджреВрд░реА рдХрд╛ рд╡рд░реНрддрдорд╛рди рдореВрд▓реНрдп рдЗрд╕реЗ рдиреАрдЪреЗ рдХреЗ рдкрддреНрдерд░реЛрдВ рддрдХ рдкрд╣реБрдВрдЪрд╛рддрд╛ рд╣реИред <br><br>  рд▓реЗрдХрд┐рди рдЪрд┐рдВрддрд╛ рдордд рдХрд░реЛ, рдЕрдм рд╣рдо рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░реЗрдВрдЧреЗред <br><br>  <em>RopeSystem.cs</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ <em>,</em> рдХреНрд▓рд╛рд╕ рдХреА рд╢реБрд░реБрдЖрдд рдореЗрдВ рдПрдХ рдирдпрд╛ рдСрдкрд░реЗрдЯрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Linq;</code> </pre> <br>  рдпрд╣ рд╣рдореЗрдВ LINQ рдкреНрд░рд╢реНрдиреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЬреЛ рд╣рдорд╛рд░реЗ рдорд╛рдорд▓реЗ рдореЗрдВ рдмрд╕ рд╣рдореЗрдВ рдЖрд╕рд╛рдиреА рд╕реЗ <code>ropePositions</code> рд╕реВрдЪреА рдХреЗ рдкрд╣рд▓реЗ рдпрд╛ рдЕрдВрддрд┐рдо рддрддреНрд╡ рдХреЛ рдЦреЛрдЬрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред <br><br><blockquote>  <em>рдиреЛрдЯ</em> : рднрд╛рд╖рд╛-рдПрдХреАрдХреГрдд рдХреНрд╡реЗрд░реА (LINQ) рдкреНрд░реМрджреНрдпреЛрдЧрд┐рдХрд┐рдпреЛрдВ рдХрд╛ рдПрдХ рд╕реЗрдЯ рдХрд╛ рдирд╛рдо рд╣реИ рдЬреЛ рд╕реАрдзреЗ рд╕реА # рдореЗрдВ рдХреНрд╡реЗрд░реА рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рдПрдореНрдмреЗрдб рдХрд░рдиреЗ рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИред  рдЖрдк рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдФрд░ рдЕрдзрд┐рдХ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ</a> рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВред </blockquote><br>  рдЕрдиреНрдп рдЪрд░ рдХреЗ рдЕрдВрддрд░реНрдЧрдд <code>distanceSet</code> рдХреЗ рдирд╛рдо рд╕реЗ рдПрдХ рдирдпрд╛ рдмреВрд▓ рдирд┐рдЬреА рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> distanceSet;</code> </pre> <br>  рд╣рдо рдЗрд╕ рдЪрд░ рдХреЛ рдПрдХ рдзреНрд╡рдЬ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ рддрд╛рдХрд┐ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдпрд╣ рдкрд╣рдЪрд╛рди рд╕рдХреЗ рдХрд┐ рд░рд╕реНрд╕реА рдХреА рджреВрд░реА (рдЦрд┐рд▓рд╛рдбрд╝реА рдФрд░ рд╡рд░реНрддрдорд╛рди рд╕рдВрджрд░реНрдн рдмрд┐рдВрджреБ рдХреЗ рдмреАрдЪ рдЬрд╣рд╛рдВ рдХреИрдЯ рд╣реБрдХ рд╕рдВрд▓рдЧреНрди рд╣реИ) рд╕рд╣реА рдврдВрдЧ рд╕реЗ рд╕реЗрдЯ рд╣реИред <br><br>  рдЕрдм рдПрдХ рдирдИ рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝реЗрдВ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣рдо рд▓рд╛рдЗрди рдХреЛ рд░реЗрдВрдбрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд░рд╕реНрд╕реА рдХреА рд╕реНрдерд┐рддрд┐ рдХреЗ рдкрджреЛрдВ рдХреЛ рд╕реЗрдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░реЗрдВрдЧреЗ рдФрд░ рд░рд╕реНрд╕реА ( <code>ropePositions</code> ) рдХреЗ рд╕рд╛рде рдкрджреЛрдВ рдХреА рд╕рдВрдЧреНрд░рд╣реАрдд рд╕реВрдЪреА рдореЗрдВ рджреВрд░реА рдХреА рд╕рдВрдпреБрдХреНрдд рджреВрд░реА рдирд┐рд░реНрдзрд╛рд░рд┐рдд <code>ropePositions</code> : <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">UpdateRopePositions</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// 1 if (!ropeAttached) { return; } // 2 ropeRenderer.positionCount = ropePositions.Count + 1; // 3 for (var i = ropeRenderer.positionCount - 1; i &gt;= 0; i--) { if (i != ropeRenderer.positionCount - 1) // if not the Last point of line renderer { ropeRenderer.SetPosition(i, ropePositions[i]); // 4 if (i == ropePositions.Count - 1 || ropePositions.Count == 1) { var ropePosition = ropePositions[ropePositions.Count - 1]; if (ropePositions.Count == 1) { ropeHingeAnchorRb.transform.position = ropePosition; if (!distanceSet) { ropeJoint.distance = Vector2.Distance(transform.position, ropePosition); distanceSet = true; } } else { ropeHingeAnchorRb.transform.position = ropePosition; if (!distanceSet) { ropeJoint.distance = Vector2.Distance(transform.position, ropePosition); distanceSet = true; } } } // 5 else if (i - 1 == ropePositions.IndexOf(ropePositions.Last())) { var ropePosition = ropePositions.Last(); ropeHingeAnchorRb.transform.position = ropePosition; if (!distanceSet) { ropeJoint.distance = Vector2.Distance(transform.position, ropePosition); distanceSet = true; } } } else { // 6 ropeRenderer.SetPosition(i, transform.position); } } }</span></span></code> </pre> <br>  рдКрдкрд░ рджрд┐рдЦрд╛рдпрд╛ рдЧрдпрд╛ рдХреЛрдб рдмрддрд╛рдПрдВ: <br><br><ol><li>  рд░рд╕реНрд╕реА рд╕рдВрд▓рдЧреНрди рди рд╣реЛрдиреЗ рдкрд░ рд╡рд┐рдзрд┐ рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓реЗрдВред </li><li>  рд╣рдо рд░реЛрдк рд▓рд╛рдЗрди рдХреЗ рд░реЗрдВрдбрд░ рдкреЙрдЗрдВрдЯреНрд╕ рдХреА рд╡реИрд▓реНрдпреВ рдЕрд╕рд╛рдЗрди рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рд░реЛрдк рдкреЛрдЬрд┐рд╢рди рдореЗрдВ рд╕реНрдЯреЛрд░ рдХрд┐рдП рдЧрдП <code>ropePositions</code> рдХреА рд╕рдВрдЦреНрдпрд╛ рд╕реЗ рдЕрдзрд┐рдХ 1 (рдкреНрд▓реЗрдпрд░ рдХреА рдкреЛрдЬреАрд╢рди рдХреЗ рд▓рд┐рдП) рд╣реИред </li><li>  рд╣рдо рдкреНрд░рддреНрдпреЗрдХ рд╕реНрдерд┐рддрд┐ (рдЕрдВрддрд┐рдо рдХреЛ рдЫреЛрдбрд╝рдХрд░) рдХреЗ рд▓рд┐рдП <code>ropePositions</code> рд╕реВрдЪреА рдФрд░ рд▓реВрдк рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рд▓реВрдк рдХрд░рддреЗ рд╣реИрдВ, <code>ropePositions</code> рд╕реВрдЪреА рдореЗрдВ рд▓реВрдк рдЗрдВрдбреЗрдХреНрд╕ рджреНрд╡рд╛рд░рд╛ рд╕рдВрдЧреНрд░рд╣реАрдд <code>ropePositions</code> рд╕реНрдерд┐рддрд┐ рдХреЗ рдорд╛рди рдХреЛ рд▓рд╛рдЗрди рд░реЗрдВрдбрд░рд░ рдХреЗ рд╢реАрд░реНрд╖ рдХреА рд╕реНрдерд┐рддрд┐ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВред </li><li>  рд░рд╕реНрд╕реА рдХреЗ рдЕрдВрдд рдмрд┐рдВрджреБ рд╕реЗ рджреВрд╕рд░реА рдЬрдЧрд╣ рд░рд╕реНрд╕реА рдХреЗ рд▓рдВрдЧрд░ рдмрд┐рдВрджреБ рдХреЛ рдЕрд╕рд╛рдЗрди рдХрд░реЗрдВ, рдЬрд┐рд╕рдореЗрдВ рд╡рд░реНрддрдорд╛рди рдХрд╛рдЬ / рд▓рдВрдЧрд░ рдмрд┐рдВрджреБ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдпрд╛ рдпрджрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд░рд╕реНрд╕реА рдХреА рдХреЗрд╡рд▓ рдПрдХ рд╕реНрдерд┐рддрд┐ рд╣реИ, рддреЛ рдЗрд╕реЗ рд▓рдВрдЧрд░ рдмрд┐рдВрджреБ рдмрдирд╛рдПрдВред  рддреЛ рд╣рдо рджреВрд░реА <code>ropeJoint</code> рд╕реЗрдЯ рдХрд░рддреЗ рд╣реИрдВред рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдмреАрдЪ рдХреА рджреВрд░реА рдФрд░ рд░рд╕реНрд╕реА рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдХреЗ рдмреАрдЪ рдХреА рджреВрд░реА, рдЬреЛ рд╣рдо рд▓реВрдк рдореЗрдВ <code>ropeJoint</code> ред </li><li>  рдпрджрд┐ рдирд┐рд░реНрдорд╛рдг рдЙрд╕ рдорд╛рдорд▓реЗ рдХреЛ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИ рдЬрд╣рд╛рдВ рд▓реВрдк рдореЗрдВ рд░рд╕реНрд╕реА рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдЕрдВрдд рд╕реЗ рджреВрд╕рд░реА рд╣реИ;  рдпрд╛рдиреА рд╡рд╣ рдмрд┐рдВрджреБ рдЬрд┐рд╕ рдкрд░ рд░рд╕реНрд╕реА рд╡рд╕реНрддреБ рд╕реЗ рдЬреБрдбрд╝рддреА рд╣реИ, рдЕрд░реНрдерд╛рддреНред  рд╡рд░реНрддрдорд╛рди рдХрд╛рдЬ / рд▓рдВрдЧрд░ рдмрд┐рдВрджреБред </li><li>  рдпрд╣ <code>else</code> рдмреНрд▓реЙрдХ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдХреЗ рдорд╛рди рдХреЛ рд░рд╕реНрд╕реА рдХреЗ рдЕрдВрддрд┐рдо рд╢реАрд░реНрд╖ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЗ рдЕрд╕рд╛рдЗрдирдореЗрдВрдЯ рдХреЛ рд╕рдВрднрд╛рд▓рддрд╛ рд╣реИред </li></ol><br>  <code>UpdateRopePositions()</code> рдХреЙрд▓ рдХреЛ <code>Update()</code> рдХреЗ рдЕрдВрдд рдореЗрдВ рдЬреЛрдбрд╝рдирд╛ рдпрд╛рдж рд░рдЦреЗрдВ <code>UpdateRopePositions()</code> : <br><br><pre> <code class="cs hljs">UpdateRopePositions();</code> </pre> <br>  рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рдЦреЗрд▓ рдХреЛ рдлрд┐рд░ рд╕реЗ рдЪрд▓рд╛рдПрдБред  рд▓рдХреНрд╖реНрдп рд╕реЗ рдКрдкрд░ рдПрдХ рдкрддреНрдерд░ рдкрд░ рдПрдХ рд╣реБрдХ рдХреЗ рд╕рд╛рде рдирд┐рд╢рд╛рдирд╛ рд▓рдЧрд╛рдХрд░ рдФрд░ рд╢реВрдЯрд┐рдВрдЧ рдХрд░рдХреЗ рдПрдХ "рдЫреЛрдЯреА рдЬрдЧрд╣" рдХреЛ рдПрдХ рдЫреЛрдЯреА рдЫрд▓рд╛рдВрдЧ рдмрдирд╛рдПрдВред  рдЕрдм рдЖрдк рдЕрдкрдиреЗ рдордЬрджреВрд░реЛрдВ рдХреЗ рдлрд▓реЛрдВ рдХрд╛ рдЖрдирдВрдж рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВ - рдкрддреНрдерд░реЛрдВ рдкрд░ рд╢рд╛рдВрдд рддрд░реАрдХреЗ рд╕реЗ рдврд▓рд╛рдиред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b94/f87/d7c/b94f87d7c533fdae336e3818f7cf3908.gif"></div><br>  рдЕрдм рдЖрдк рджреГрд╢реНрдп рд╡рд┐рдВрдбреЛ рдкрд░ рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдкреНрд▓реЗрдпрд░ рдХрд╛ рдЪрдпрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕реЗ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдореВрд╡ рдЯреВрд▓ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, <em>рдбрдмреНрд▓реНрдпреВ</em> рдХреБрдВрдЬреА) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдпрд╣ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рд░рд╕реНрд╕реА рд▓рд╛рдЗрди рдХреЗ рджреЛ рдХреЛрдиреЗ рдХреИрд╕реЗ рд╣реБрдХ рдХреА рд╕реНрдерд┐рддрд┐ рдФрд░ рд░рд╕реНрд╕реА рдЦреАрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рд╕реНрдерд┐рддрд┐ рдХрд╛ рдкрд╛рд▓рди рдХрд░рддреЗ рд╣реИрдВред  рд╣рдо рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рд░рд┐рд▓реАрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рдмрд╛рдж, рджреВрд░реАрдЬреЗрди 2 рдбреА рд╕рд╣реА рдврдВрдЧ рд╕реЗ рджреВрд░реА рдХреА рдЧрдгрдирд╛ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд╕реНрд▓рдЧ рдЬреБрдбрд╝рд╛ рд╣реБрдЖ рдХрд╛рдЬ рдкрд░ рдЭреВрд▓рддреЗ рд░рд╣реЗрдВрдЧреЗред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5e1/66e/18c/5e166e18ca7ff821025a920b1eaf849a.gif"></div><br><h2>  рд▓рдкреЗрдЯрдиреЗ рдХреЗ рдЕрдВрдХ рдХреЛ рд╕рдВрднрд╛рд▓рдирд╛ </h2><br>  рдПрдХ рдЭреВрд▓рддреЗ рд╣реБрдП рд╕реНрд▓рдЧ рдХреЗ рд╕рд╛рде рдЦреЗрд▓рдирд╛ рдЕрдм рддрдХ рдкрд╛рдиреА рд╕реЗ рдмрдЪрд╛рдиреЗ рд╡рд╛рд▓реА рдХреНрд░реАрдо рддреМрд▓рд┐рдпрд╛ рд╕реЗ рдЕрдзрд┐рдХ рдЙрдкрдпреЛрдЧреА рдирд╣реАрдВ рд╣реИ, рдЗрд╕рд▓рд┐рдП рд╣рдореЗрдВ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рдЗрд╕реЗ рдкреВрд░рдХ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6e9/3bd/43e/6e93bd43eb1ebff2241cb89af3b09f0a.png"></div><br>  рдЕрдЪреНрдЫреА рдЦрдмрд░ рдпрд╣ рд╣реИ рдХрд┐ рднрд╡рд┐рд╖реНрдп рдореЗрдВ рд░рд╕реНрд╕реА рдкрджреЛрдВ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдирдИ рдЬреЛрдбрд╝реА рдЧрдИ рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЕрднреА рддрдХ рд╣рдо рдХреЗрд╡рд▓ рджреЛ рд░рд╕реНрд╕реА рдкрджреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВред  рдПрдХ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рд╕реНрдерд┐рддрд┐ рд╕реЗ рдЬреБрдбрд╝рд╛ рд╣реЛрддрд╛ рд╣реИ, рдФрд░ рджреВрд╕рд░рд╛ рдЙрд╕рдХреА рд╢реВрдЯрд┐рдВрдЧ рдХреЗ рд╕рдордп рд╣реБрдХ рдХреЗ рдПрдВрдХрд░ рдкреЙрдЗрдВрдЯ рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рд╕реЗред <br><br>  рдПрдХрдорд╛рддреНрд░ рд╕рдорд╕реНрдпрд╛ рдпрд╣ рд╣реИ рдХрд┐ рдЬрдм рд╣рдо рд░рд╕реНрд╕реА рдХреЗ рд╕рднреА рд╕рдВрднрд╛рд╡рд┐рдд рдкрджреЛрдВ рдХреЛ рдЯреНрд░реИрдХ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВ, рдФрд░ рдЗрд╕рдХреЗ рд▓рд┐рдП рдереЛрдбрд╝рд╛ рдХрд╛рдо рдХрд░рдирд╛ рдкрдбрд╝рддрд╛ рд╣реИред <br><br>  рдкрддреНрдерд░реЛрдВ рдкрд░ рдЙрди рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдХреЛ рдкрд╣рдЪрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдЬрд┐рдирдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рд░рд╕реНрд╕реА рд▓рдкреЗрдЯрдиреА рдЪрд╛рд╣рд┐рдП, рд▓рд╛рдЗрди рд░реЗрдВрдбрд░рд░ рдореЗрдВ рдПрдХ рдирдпрд╛ рд╡рд░реНрдЯреЗрдХреНрд╕ рдкреЛрдЬрд┐рд╢рди рдЬреЛрдбрд╝рддреЗ рд╣реБрдП, рд╣рдореЗрдВ рдПрдХ рдРрд╕реА рдкреНрд░рдгрд╛рд▓реА рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рдЬреЛ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддреА рд╣реИ рдХрд┐ рд░рд╕реНрд╕рд┐рдпреЛрдВ рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдФрд░ рд░рд╕реНрд╕реА рдХреЗ рдХрд░рдВрдЯ / рдПрдВрдХрд░ рдкреЙрдЗрдВрдЯ рдХреЗ рдмреАрдЪ рд╕реАрдзреА рд░реЗрдЦрд╛ рдХреЗ рдмреАрдЪ рдХреЛрд▓рд╛рдЗрдбрд░ рд╡рд░реНрдЯреЗрдХреНрд╕ рдкреЙрдЗрдВрдЯ рд╣реИ рдпрд╛ рдирд╣реАрдВред <br><br>  рдРрд╕рд╛ рд▓рдЧрддрд╛ рд╣реИ рдХрд┐ рдпрд╣ рдЕрдЪреНрдЫреА рдкреБрд░рд╛рдиреА рд░реЗрдХрд╛рд╕реНрдЯ рдХреЗ рд▓рд┐рдП рдлрд┐рд░ рд╕реЗ рдХрд╛рдо рд╣реИ! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/47a/52b/abe/47a52babe8fb16ef57a365b287dceb12.png"></div><br>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рд╣рдореЗрдВ рдПрдХ рдРрд╕реА рд╡рд┐рдзрд┐ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рдЬреЛ рдХрд┐ рд░рд╛рдИрдбрдХрд╛ рдХреЗ рд╣рд┐рдЯ рдкреЙрдЗрдВрдЯ рдФрд░ рдХреЛрд▓рд╛рдЗрдбрд░ рдХреЗ рдХрд┐рдирд╛рд░реЛрдВ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдХреЛрд▓рд╛рдЗрдбрд░ рдореЗрдВ рдирд┐рдХрдЯрддрдо рдмрд┐рдВрджреБ рдХрд╛ рдкрддрд╛ рд▓рдЧрд╛ рд╕рдХреЗред <br><br>  <em>RopeSystem.cs</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдПрдХ рдирдИ рд╡рд┐рдзрд┐ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// 1 private Vector2 GetClosestColliderPointFromRaycastHit(RaycastHit2D hit, PolygonCollider2D polyCollider) { // 2 var distanceDictionary = polyCollider.points.ToDictionary&lt;Vector2, float, Vector2&gt;( position =&gt; Vector2.Distance(hit.point, polyCollider.transform.TransformPoint(position)), position =&gt; polyCollider.transform.TransformPoint(position)); // 3 var orderedDictionary = distanceDictionary.OrderBy(e =&gt; e.Key); return orderedDictionary.Any() ? orderedDictionary.First().Value : Vector2.zero; }</span></span></code> </pre><br>  рдпрджрд┐ рдЖрдк LINQ рдкреНрд░рд╢реНрдиреЛрдВ рд╕реЗ рдкрд░рд┐рдЪрд┐рдд рдирд╣реАрдВ рд╣реИрдВ, рддреЛ рдпрд╣ рдХреЛрдб рдХрд┐рд╕реА рдкреНрд░рдХрд╛рд░ рдХреЗ рдЬрдЯрд┐рд▓ C # рдЬрд╛рджреВ рдХреА рддрд░рд╣ рд▓рдЧ рд╕рдХрддрд╛ рд╣реИред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9e8/0d6/c88/9e80d6c88df7182190a87a8ca54dcb70.png"></div><br>  рдпрджрд┐ рдРрд╕рд╛ рд╣реИ, рддреЛ рдбрд░реЗрдВ рдирд╣реАрдВред  LINQ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рдмрд╣реБрдд рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ: <br><br><ol><li>  рдпрд╣ рд╡рд┐рдзрд┐ рджреЛ рдкреИрд░рд╛рдореАрдЯрд░ рд▓реЗрддреА рд╣реИ - <em>RaycastHit2D</em> рдСрдмреНрдЬреЗрдХреНрдЯ рдФрд░ <em>PolygonCollider2D рдСрдмреНрдЬреЗрдХреНрдЯ</em> ред  рд╕реНрддрд░ рдкрд░ рд╕рднреА рдкрддреНрдерд░реЛрдВ рдореЗрдВ PolygonCollider2D рдХреЛрд▓рд╛рдЗрдбрд░ рд╣реЛрддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдпрджрд┐ рд╣рдо рд╣рдореЗрд╢рд╛ PolygonCollider2D рдЖрдХреГрддрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдпрд╣ рдареАрдХ рдХрд╛рдо рдХрд░реЗрдЧрд╛ред </li><li>  рдпрд╣ рд╡рд╣ рдЬрдЧрд╣ рд╣реИ рдЬрд╣рд╛рдБ LINQ рдХреНрд╡реЗрд░реА рдореИрдЬрд┐рдХ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ!  рдпрд╣рд╛рдВ рд╣рдо рдкреЙрд▓реАрдЧреЙрдирд▓ рдХреЛрд▓рд╛рдЗрдбрд░ рдХреЗ рдмрд┐рдВрджреБрдУрдВ рдХреЗ рд╕рдВрдЧреНрд░рд╣ рдХреЛ <em>рд╡реЗрдХреНрдЯрд░ 2</em> (рд╢рдмреНрджрдХреЛрд╢ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рддрддреНрд╡ рдХрд╛ рдореВрд▓реНрдп рд╕реНрд╡рдпрдВ рд╕реНрдерд┐рддрд┐ рд╣реИ) рдХреЗ рдПрдХ рд╢рдмреНрджрдХреЛрд╢ рдореЗрдВ рдмрджрд▓рддреЗ рд╣реИрдВ, рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рддрддреНрд╡ рдХреА рдХреБрдВрдЬреА рдХреЛ рдЗрд╕ рдмрд┐рдВрджреБ рд╕реЗ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рд╕реНрдерд┐рддрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА (рдлреНрд▓реЛрдЯ рдорд╛рди) рдХреА рджреВрд░реА рдХреЗ рд▓рд┐рдП рдЕрд╕рд╛рдЗрди рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдХрднреА-рдХрднреА рдпрд╣рд╛рдВ рдХреБрдЫ рдФрд░ рд╣реЛрддрд╛ рд╣реИ: рдкрд░рд┐рдгрд╛рдореА рд╕реНрдерд┐рддрд┐ рдХреЛ рд╡рд┐рд╢реНрд╡ рд╕реНрдерд╛рди рдореЗрдВ рдмрджрд▓ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдХреЛрд▓рд╛рдЗрдбрд░ рдХреЗ рдкрджреЛрдВ рдХреЛ рд╕реНрдерд╛рдиреАрдп рдЕрдВрддрд░рд┐рдХреНрд╖ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рддреН, рдЙрд╕ рд╡рд╕реНрддреБ рдХреЗ рд╕рд╛рдкреЗрдХреНрд╖ рд╕реНрдерд╛рдиреАрдп рд╕рдВрдмрдВрдз рдЬрд┐рд╕рд╕реЗ рдХреЛрд▓рд╛рдЗрдбрд░ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ, рдФрд░ рд╣рдореЗрдВ рд╡рд┐рд╢реНрд╡ рд╕реНрдерд╛рди рдореЗрдВ рдкрджреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ)ред </li><li>  рд╢рдмреНрджрдХреЛрд╢ рдХреБрдВрдЬреА рджреНрд╡рд╛рд░рд╛ рд╕реЙрд░реНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рджреВрд╕рд░реЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ, рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рд╡рд░реНрддрдорд╛рди рд╕реНрдерд┐рддрд┐ рдХреЗ рдирд┐рдХрдЯрддрдо рджреВрд░реА рд╕реЗред  рдирд┐рдХрдЯрддрдо рджреВрд░реА рд╡рд╛рдкрд╕ рдЖ рдЧрдИ рд╣реИ, рдЕрд░реНрдерд╛рдд, рдЗрд╕ рд╡рд┐рдзрд┐ рджреНрд╡рд╛рд░рд╛ рд▓реМрдЯрд╛рдпрд╛ рдЧрдпрд╛ рдХреЛрдИ рднреА рдмрд┐рдВрджреБ рдЦрд┐рд▓рд╛рдбрд╝реА рдФрд░ рд░рд╕реНрд╕реА рдХреЗ рдХрд╛рдЬ рдХреЗ рдмреАрдЪ рдХрд╛ рдмрд┐рдВрджреБ рд╣реИ! </li></ol><br>  рдЖрдЗрдП рд╡рд╛рдкрд╕ <em>рд░реЛрдкрд╕рд┐рд╕реНрдЯрдо</em> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдкрд░ рдЬрд╛рдПрдВ рдФрд░ рд╢реАрд░реНрд╖ рдкрд░ рдПрдХ рдирдпрд╛ рдирд┐рдЬреА рдХреНрд╖реЗрддреНрд░ рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Dictionary&lt;Vector2, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt; wrapPointsLookup = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Dictionary&lt;Vector2, <span class="hljs-keyword"><span class="hljs-keyword">int</span></span>&gt;();</code> </pre> <br>  рд╣рдо рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЙрди рдкрджреЛрдВ рдХреЛ рдЯреНрд░реИрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░реЗрдВрдЧреЗ рдЬрд┐рдирдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рд░рд╕реНрд╕реА рд▓рдкреЗрдЯ рд╕рдХрддреА рд╣реИред <br><br>  <code>Update()</code> рд╡рд┐рдзрд┐ рдХреЗ рдЕрдВрдд рдореЗрдВ, рд╡рд╣реА рдирд┐рд░реНрдорд╛рдг рдвреВрдВрдвреЗрдВ рдЬрд┐рд╕рдореЗрдВ <code>crosshairSprite.enabled = false;</code>  рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">// 1 if (ropePositions.Count &gt; 0) { // 2 var lastRopePoint = ropePositions.Last(); var playerToCurrentNextHit = Physics2D.Raycast(playerPosition, (lastRopePoint - playerPosition).normalized, Vector2.Distance(playerPosition, lastRopePoint) - 0.1f, ropeLayerMask); // 3 if (playerToCurrentNextHit) { var colliderWithVertices = playerToCurrentNextHit.collider as PolygonCollider2D; if (colliderWithVertices != null) { var closestPointToHit = GetClosestColliderPointFromRaycastHit(playerToCurrentNextHit, colliderWithVertices); // 4 if (wrapPointsLookup.ContainsKey(closestPointToHit)) { ResetRope(); return; } // 5 ropePositions.Add(closestPointToHit); wrapPointsLookup.Add(closestPointToHit, 0); distanceSet = false; } } }</span></span></code> </pre> <br>  рдЗрд╕ рдХреЛрдб рдХреЛ рд╕рдордЭрд╛рдЗрдП: <br><br><ol><li>  рдпрджрд┐ рдХреБрдЫ рдкрджреЛрдВ рдХреЛ <code>ropePositions</code> рд╕реВрдЪреА рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ ... </li><li>  рд╣рдо рд╕реВрдЪреА рд╕реЗ рд░рд╕реНрд╕реА рдХреА рдЕрдВрддрд┐рдо рд╕реНрдерд┐рддрд┐ рдХреЛ рджреЗрдЦрдиреЗ рд╡рд╛рд▓реЗ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рджрд┐рд╢рд╛ рдореЗрдВ рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рд╕реНрдерд┐рддрд┐ рд╕реЗ рд╢реВрдЯ рдХрд░рддреЗ рд╣реИрдВ - рд╕рдВрджрд░реНрдн рдмрд┐рдВрджреБ рдЬрд┐рд╕ рдкрд░ рдмрд┐рд▓реНрд▓реА рдиреЗ рдкрддреНрдерд░ рдХреЛ рдЭреБрдХрд╛ рджрд┐рдпрд╛ - рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЗ рдмреАрдЪ рдХреА рджреВрд░реА рдХреЗ рдмрд░рд╛рдмрд░ рд░реЗрдХрд╛рд╕реНрдЯ рдХреА рджреВрд░реА рдФрд░ рд░рд╕реНрд╕реА рдХреЗ рд╕рдВрджрд░реНрдн рдмрд┐рдВрджреБ рдХреА рд╕реНрдерд┐рддрд┐ред </li><li>  рдпрджрд┐ рд░реЗрдХрд╛рд╕реНрдЯ рдХреБрдЫ рдХреЗ рд╕рд╛рде рдЯрдХрд░рд╛рддрд╛ рд╣реИ, рддреЛ рдЗрд╕ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рдХреЛрд▓рд╛рдЗрдбрд░ рдХреЛ рд╕реБрд░рдХреНрд╖рд┐рдд рд░реВрдк рд╕реЗ <em>рдкреЙрд▓реАрдЧреЛрдирдХреЙрд▓рд┐рдбрд░ 2 рдбреА</em> рдкреНрд░рдХрд╛рд░ рдореЗрдВ <em>рдбрд╛рд▓рд╛</em> рдЬрд╛рддрд╛ рд╣реИред  рд╣рд╛рд▓рд╛рдВрдХрд┐ рдпрд╣ рдПрдХ рд╕рдЪреНрдЪрд╛ PolygonCollider2D рд╣реИ, рдЗрд╕ рдХреЛрд▓рд╛рдЗрдбрд░ рдХреА рдирд┐рдХрдЯрддрдо рд╢реАрд░реНрд╖ рд╕реНрдерд┐рддрд┐ рдХреЛ рд╣рдо <em>рд╡реЗрдХреНрдЯрд░ 2 рдХреЗ</em> рдкрд╣рд▓реЗ рд▓рд┐рдЦреЗ рдЧрдП рддрд░реАрдХреЗ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд▓реМрдЯрд╛рддреЗ рд╣реИрдВред </li><li>  рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдЙрд╕реА рд╕реНрдерд┐рддрд┐ рдХреЛ рдлрд┐рд░ рд╕реЗ рдЬрд╛рдБрдЪ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕реЗ <code>wrapPointsLookup</code> рджреНрд╡рд╛рд░рд╛ рдЪреЗрдХ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдпрджрд┐ рдпрд╣ рдЬрд╛рдБрдЪ рдХреА рдЬрд╛рддреА рд╣реИ, рддреЛ рд╣рдо рд░рд╕реНрд╕реА рдХреЛ рдЫреЛрдбрд╝ рджреЗрддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдХрд╛рдЯ рджреЗрддреЗ рд╣реИрдВ, рдЦрд┐рд▓рд╛рдбрд╝реА рдХреЛ рдЧрд┐рд░рд╛ рджреЗрддреЗ рд╣реИрдВред </li><li>  рдлрд┐рд░ <code>ropePositions</code> рд╕реВрдЪреА <code>ropePositions</code> : рдЙрд╕ рд╕реНрдерд┐рддрд┐ рдХреЛ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рд░рд╕реНрд╕реА <code>ropePositions</code> рдЪрд╛рд╣рд┐рдПред  <code>wrapPointsLookup</code> рд╢рдмреНрджрдХреЛрд╢ рднреА рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред  рдЕрдВрдд рдореЗрдВ, <code>UpdateRopePositions()</code> рдлреНрд▓реИрдЧ рдХреЛ рд░реАрд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ <code>UpdateRopePositions()</code> рд╡рд┐рдзрд┐ рд░рд╕реНрд╕реА рдХреА рд▓рдВрдмрд╛рдИ рдФрд░ рд╕реЗрдЧрдореЗрдВрдЯ рдХреЗ рд╕рд╛рде рд░рд╕реНрд╕реА рдХреА рджреВрд░реА рдХреЛ рдлрд┐рд░ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░ рд╕рдХреЗред </li></ol><br>  <code>ResetRope()</code> рдирд┐рдореНрди рдкрдВрдХреНрддрд┐ рдЬреЛрдбрд╝реЗрдВ <code>ResetRope()</code> рддрд╛рдХрд┐ рдПрдХ рдЦрд┐рд▓рд╛рдбрд╝реА рджреНрд╡рд╛рд░рд╛ рдПрдХ рд░рд╕реНрд╕реА рдХреЛ рдХрд╛рдЯ рджреЗрдиреЗ рдкрд░ рд╣рд░ рдмрд╛рд░ <code>wrapPointsLookup</code> рдбрд┐рдХреНрд╢рдирд░реА рд╕рд╛рдлрд╝ рд╣реЛ рдЬрд╛рдП: <br><br><pre> <code class="cs hljs">wrapPointsLookup.Clear();</code> </pre> <br>  рдЧреЗрдо рдХреЛ рд╕рд╣реЗрдЬреЗрдВ рдФрд░ рд▓реЙрдиреНрдЪ рдХрд░реЗрдВред  рд╕реНрд▓рдЧ рдХреЗ рдКрдкрд░ рдкрддреНрдерд░ рдХреЗ рд╣реБрдХ рдореЗрдВ рдмрд┐рд▓реНрд▓реА рдХреЗ рд╣реБрдХ рдХреЛ рдЧреЛрд▓реА рдорд╛рд░реЛ рдФрд░ рдХрдИ рдкрддреНрдерд░ рдХреЗ рдХрд┐рдирд╛рд░реЛрдВ рдкрд░ рд╕реНрд▓рдЧ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рджреГрд╢реНрдп рд╡рд┐рдВрдбреЛ рдореЗрдВ рдореВрд╡ рдЯреВрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c62/999/f50/c62999f50094252b3850b8b4c54e2cdc.gif"></div><br>  рдпрд╣реА рдХрд╛рд░рдг рд╣реИ рдХрд┐ рд╣рдордиреЗ рд╡рд╕реНрддреБрдУрдВ рдХреЛ рд▓рдкреЗрдЯрдиреЗ рдХреЗ рд▓рд┐рдП рд░рд╕реНрд╕реА рд╕рд┐рдЦрд╛рдИ! <br><br><h2>  рд░реЙрдХрд┐рдВрдЧ рдХреНрд╖рдорддрд╛ рдЬреЛрдбрд╝реЗрдВ </h2><br>  рд░рд╕реНрд╕реА рдкрд░ рд▓рдЯрдХрд╛ рд╣реБрдЖ рд╕реНрд▓рдЧ рдмрд╣реБрдд рд╕реНрдерд┐рд░ рд╣реИред  рдЗрд╕реЗ рдареАрдХ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рд╕реНрд╡рд┐рдВрдЧрд┐рдВрдЧ рдХреА рдХреНрд╖рдорддрд╛ рдХреЛ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдореЗрдВ рдЖрдЧреЗ рдХреА рддрд░рдл (рдмрдЧрд╝рд▓ рдореЗрдВ) рдЭреВрд▓рдиреЗ рдХреА рд╕реНрдерд┐рддрд┐ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реНрдерд┐рддрд┐ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЪрд╛рд╣реЗ рдЬрд┐рд╕ рдХреЛрдг рд╕реЗ рд╡рд╣ рджреЗрдЦ рд░рд╣рд╛ рд╣реЛред <br><br>  <em>PlayerMovement.cs</em> рдЦреЛрд▓реЗрдВ рдФрд░ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рджреЛ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдЪрд░ рдЬреЛрдбрд╝реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Vector2 ropeHook; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> swingForce = <span class="hljs-number"><span class="hljs-number">4f</span></span>;</code> </pre> <br>  <code>ropeHook</code> рд╡реЗрд░рд┐рдПрдмрд▓ рдХреЛ рдХрд┐рд╕реА рднреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╕реМрдВрдкрд╛ рдЬрд╛рдПрдЧрд╛ рдЬрд┐рд╕рдореЗрдВ рд░реЛрдк рд╣реБрдХ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рд╕реНрдерд┐рдд рд╣реИ, рдФрд░ <code>swingForce</code> рд╡рд╣ рдореВрд▓реНрдп рд╣реИ рдЬреЛ рд╣рдо рд╕реНрд╡рд┐рдВрдЧ рдореЛрд╢рди рдХреЛ рдЬреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред <br><br>  <code>FixedUpdate()</code> рд╡рд┐рдзрд┐ <code>FixedUpdate()</code> рдирдП рдХреЗ <code>FixedUpdate()</code> рдмрджрд▓реЗрдВ: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FixedUpdate</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (horizontalInput &lt; <span class="hljs-number"><span class="hljs-number">0f</span></span> || horizontalInput &gt; <span class="hljs-number"><span class="hljs-number">0f</span></span>) { animator.SetFloat(<span class="hljs-string"><span class="hljs-string">"Speed"</span></span>, Mathf.Abs(horizontalInput)); playerSprite.flipX = horizontalInput &lt; <span class="hljs-number"><span class="hljs-number">0f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (isSwinging) { animator.SetBool(<span class="hljs-string"><span class="hljs-string">"IsSwinging"</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 1 -          var playerToHookDirection = (ropeHook - (Vector2)transform.position).normalized; // 2 -  ,     Vector2 perpendicularDirection; if (horizontalInput &lt; 0) { perpendicularDirection = new Vector2(-playerToHookDirection.y, playerToHookDirection.x); var leftPerpPos = (Vector2)transform.position - perpendicularDirection * -2f; Debug.DrawLine(transform.position, leftPerpPos, Color.green, 0f); } else { perpendicularDirection = new Vector2(playerToHookDirection.y, -playerToHookDirection.x); var rightPerpPos = (Vector2)transform.position + perpendicularDirection * 2f; Debug.DrawLine(transform.position, rightPerpPos, Color.green, 0f); } var force = perpendicularDirection * swingForce; rBody.AddForce(force, ForceMode2D.Force); } else { animator.SetBool("IsSwinging", false); if (groundCheck) { var groundForce = speed * 2f; rBody.AddForce(new Vector2((horizontalInput * groundForce - rBody.velocity.x) * groundForce, 0)); rBody.velocity = new Vector2(rBody.velocity.x, rBody.velocity.y); } } } else { animator.SetBool("IsSwinging", false); animator.SetFloat("Speed", 0f); } if (!isSwinging) { if (!groundCheck) return; isJumping = jumpInput &gt; 0f; if (isJumping) { rBody.velocity = new Vector2(rBody.velocity.x, jumpSpeed); } } }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣рд╛рдВ рдореБрдЦреНрдп рдмрджрд▓рд╛рд╡ рдпрд╣ рд╣реИ рдХрд┐ рдЭрдВрдбреЗ рдХреЛ рдкрд╣рд▓реЗ рдЪреЗрдХ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font></font><code>isSwinging</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рддрд╛рдХрд┐ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЗрд╡рд▓ рддрдм рдХреА рдЬрд╛рдП рдЬрдм рд╕реНрд▓рдЧ рдХреЛ рд░рд╕реНрд╕реА рдкрд░ рд▓рдЯрдХрд╛ рджрд┐рдпрд╛ рдЬрд╛рдП, рдФрд░ рд╣рдо рд╕реНрд▓рдЧ рдХреЗ рдХреЛрдиреЗ рдкрд░ рдПрдХ рд▓рдВрдмрд╡рдд рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ, рдпрд╣ рд░рд╕реНрд╕реА рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ рдЗрд╕рдХреЗ рд╡рд░реНрддрдорд╛рди рдПрдВрдХрд░ рдмрд┐рдВрджреБ рдХреЛ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕рдХреА рд╕реНрд╡рд┐рдВрдЧ рдХреА рджрд┐рд╢рд╛ рдХреЗ рд▓рд┐рдП рд▓рдВрдмрд╡рддред</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣рдо рдЦрд┐рд▓рд╛рдбрд╝реА рд╕реЗ рд╣реБрдХ рд▓рдЧрд╛рд╡ рдмрд┐рдВрджреБ рддрдХ рд╕рд╛рдорд╛рдиреНрдпреАрдХреГрдд рджрд┐рд╢рд╛ рд╡реЗрдХреНрдЯрд░ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВред </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рдмрд╛рдд рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ рдХрд┐ рд╕реНрд▓рдЧ рд╕рд╛рдЗрдб рд▓реЗрдлреНрдЯ рд╣реИ рдпрд╛ рд░рд╛рдЗрдЯ, рд╕реАрдзрд╛ рджрд┐рд╢рд╛ рдХреА рдЧрдгрдирд╛ рдХреА рдЬрд╛рддреА рд╣реИ </font></font><code>playerToHookDirection</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдбрд┐рдмрдЧ рдбреНрд░рд╛ рдХреЙрд▓ рднреА рдЬреЛрдбрд╝рд╛ рдЧрдпрд╛ рд╣реИ рддрд╛рдХрд┐ рдЖрдк рдЪрд╛рд╣реЗрдВ рддреЛ рдЗрд╕реЗ рд╕рдВрдкрд╛рджрдХ рдореЗрдВ рджреЗрдЦ рд╕рдХреЗрдВред</font></font></li></ol><br><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RopeSystem.cs</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЦреЛрд▓реЗрдВ </font><font style="vertical-align: inherit;">рдФрд░ </font><font style="vertical-align: inherit;">рд╡рд┐рдзрд┐ рдХреЗ </font><font style="vertical-align: inherit;">рдЕрдВрджрд░ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдиреНрдп рдмреНрд▓реЙрдХ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ </font><font style="vertical-align: inherit;">рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬреЛрдбрд╝реЗрдВ:</font></font><code>if(!ropeAttached)</code><font style="vertical-align: inherit;"></font><code>Update()</code><font style="vertical-align: inherit;"></font><br><br><pre> <code class="cs hljs">playerMovement.isSwinging = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; playerMovement.ropeHook = ropePositions.Last();</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдореЗрдВ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдЧрд░ рдмреНрд▓реЙрдХ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдПрдХ рд╣реА рдбрд┐рдЬрд╛рдЗрди рдХреА </font></font><code>if(!ropeAttached)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЬреЛрдбрд╝реЗрдВ:</font></font><br><br><pre> <code class="cs hljs">playerMovement.isSwinging = <span class="hljs-literal"><span class="hljs-literal">false</span></span>;</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП рд╣рдо рдкреНрд▓реЗрдпрд░рдореЛрд╡рдореЗрдВрдЯ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЛ рд╕реВрдЪрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдЦрд┐рд▓рд╛рдбрд╝реА рд╕реНрд╡рд┐рдВрдЧ рдХрд░ рд░рд╣рд╛ рд╣реИ, рдФрд░ рд░рд╕реНрд╕реА рдХреЗ рдЕрдВрддрд┐рдо (рдЦрд┐рд▓рд╛рдбрд╝реА рдХреА рд╕реНрдерд┐рддрд┐ рдХреЛ рдЫреЛрдбрд╝рдХрд░) рд╕реНрдерд┐рддрд┐ рдХреЛ рднреА рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рддрд╛ рд╣реИ - рджреВрд╕рд░реЗ рд╢рдмреНрджреЛрдВ рдореЗрдВ, рд░рд╕реНрд╕реА рдХрд╛ рдПрдВрдХрд░ рдкреЙрдЗрдВрдЯред </font><font style="vertical-align: inherit;">рдпрд╣ рд▓рдВрдмрд╡рдд рдХреЛрдг рдХреА рдЧрдгрдирд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдЬреЛ рд╣рдордиреЗ рдЕрднреА-рдЕрднреА рдкреНрд▓реЗрдпрд░рдореВрд╡рдореЗрдВрдЯ рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдЬреЛрдбрд╝рд╛ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрджрд┐ рдЖрдк рдПрдХ рдЪрд▓ рд░рд╣реЗ рдЦреЗрд▓ рдореЗрдВ рдЧрд┐рдЬрд╝реНрдореЛ рдХреЛ рдЪрд╛рд▓реВ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдмрд╛рдПрдВ рдпрд╛ рджрд╛рдПрдВ рд╕реНрд╡рд┐рдВрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдП рдпрд╛ рдбреА рджрдмрд╛рддреЗ рд╣реИрдВ рддреЛ рдпрд╣ рдХреИрд╕рд╛ рджрд┐рдЦрддрд╛ рд╣реИ:</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5bd/6a5/4ed/5bd6a54ed3c8661e61b3bf765e50acfb.png"></div><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд░рд╕реНрд╕реА рд╡рдВрд╢ рдЬреЛрдбрд╝рдирд╛ </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬрдмрдХрд┐ рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рд░рд╕реНрд╕реА рдХреЛ рдКрдкрд░ рдФрд░ рдиреАрдЪреЗ рд▓реЗ рдЬрд╛рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рд╣рд╛рд▓рд╛рдВрдХрд┐ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЬреАрд╡рди рдореЗрдВ рд╕реНрд▓рдЧ рдЖрд╕рд╛рдиреА рд╕реЗ рд░рд╕реНрд╕реА рдХреЗ рд╕рд╛рде рдирд╣реАрдВ рдЙрда рд╕рдХрддрд╛ рдФрд░ рдЧрд┐рд░ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдПрдХ рдРрд╕рд╛ рдЦреЗрд▓ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдХреБрдЫ рднреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд╣реИ рдирд╛? </font><em><font style="vertical-align: inherit;">рд░рд╕реНрд╕реАрд╕рд┐рд╕реНрдЯрдо</font></em></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд╢реАрд░реНрд╖ рдкрд░ </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рджреЛ рдирдП рдлрд╝реАрд▓реНрдб рдЪрд░ рдЬреЛрдбрд╝реЗрдВ:</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> climbSpeed = <span class="hljs-number"><span class="hljs-number">3f</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> isColliding;</code> </pre> <br> <code>climbSpeed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрд╕ рдЧрддрд┐ рдХреЛ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░реЗрдЧрд╛ рдЬрд┐рд╕ рдкрд░ рд╕реНрд▓рдЧ рдКрдкрд░ рдФрд░ рдиреАрдЪреЗ рд░рд╕реНрд╕реА рдХреЛ </font></font><code>isColliding</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓реЗ рдЬрд╛ рд╕рдХрддреА рд╣реИ </font><font style="vertical-align: inherit;">, рдФрд░ </font><font style="vertical-align: inherit;">рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдзреНрд╡рдЬ рдХреЗ рд░реВрдк рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ рдХрд┐ рджреВрд░реА рд╕рдВрдпреБрдХреНрдд рд░рд╕реНрд╕реА рдХреА рджреВрд░реА рд╕рдВрдпреБрдХреНрдд рд╕рдВрдкрддреНрддрд┐ рдХреЛ рдмрдврд╝рд╛рдпрд╛ рдпрд╛ рдШрдЯрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рдирдИ рд╡рд┐рдзрд┐ рдХреЛ рдЬреЛрдбрд╝реЗрдВ:</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HandleRopeLength</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// 1 if (Input.GetAxis("Vertical") &gt;= 1f &amp;&amp; ropeAttached &amp;&amp; !isColliding) { ropeJoint.distance -= Time.deltaTime * climbSpeed; } else if (Input.GetAxis("Vertical") &lt; 0f &amp;&amp; ropeAttached) { ropeJoint.distance += Time.deltaTime * climbSpeed; } }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣ рдмреНрд▓реЙрдХ </font></font><code>if..elseif</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдКрд░реНрдзреНрд╡рд╛рдзрд░ рдЕрдХреНрд╖ рдХреЗ рд╕рд╛рде рдЗрдирдкреБрдЯ рдХреЛ рдкрдврд╝рддрд╛ рд╣реИ (рдХреАрдмреЛрд░реНрдб рдкрд░ / рдиреАрдЪреЗ рдпрд╛ рдбрдмреНрд▓реНрдпреВ / рдПрд╕), рдФрд░, рдЭрдВрдбреЗ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реБрдП, </font></font><code>ropeAttached iscColliding</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджреВрд░реА рдХреЛ рдмрдврд╝рд╛рддрд╛ рдпрд╛ рдШрдЯрд╛рддрд╛ рд╣реИ </font></font><code>ropeJoint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, рдЬрд┐рд╕рд╕реЗ рд░рд╕реНрд╕реА рдХреЛ рд▓рдВрдмрд╛ рдпрд╛ рдЫреЛрдЯрд╛ рдХрд░рдиреЗ рдХрд╛ рдкреНрд░рднрд╛рд╡ рдкреИрджрд╛ рд╣реЛрддрд╛ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо рдЗрд╕ рд╡рд┐рдзрд┐ рдХреЛ рд╕рдорд╛рдкреНрдд рдХрд░рддреЗ рд╣реИрдВ, рдЗрд╕рдХреЗ рдХреЙрд▓ рдХреЛ рдЕрдВрдд рддрдХ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ </font></font><code>Update()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br><br><pre> <code class="cs hljs">HandleRopeLength();</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдореЗрдВ рдЭрдВрдбрд╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рднреА рдЪрд╛рд╣рд┐рдП </font></font><code>isColliding</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рдирд┐рдЪрд▓реЗ рднрд╛рдЧ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рджреЛ рд╡рд┐рдзрд┐рдпрд╛рдБ рдЬреЛрдбрд╝реЗрдВ:</font></font><br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerStay2D</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D colliderStay</span></span></span><span class="hljs-function">)</span></span> { isColliding = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnTriggerExit2D</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Collider2D colliderOnExit</span></span></span><span class="hljs-function">)</span></span> { isColliding = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпреЗ рджреЛ рд╡рд┐рдзрд┐рдпрд╛рдБ рдореЛрдиреЛрдмреЗрд╣реМрд░ рд▓рд┐рдкрд┐рдпреЛрдВ рдХреЗ рдЖрдзрд╛рд░ рд╡рд░реНрдЧ рдХреА рдореВрд▓ рд╡рд┐рдзрд┐рдпрд╛рдБ рд╣реИрдВред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрджрд┐ рдХреЛрд▓рд╛рдЗрдбрд░ рд╡рд░реНрддрдорд╛рди рдореЗрдВ рдЦреЗрд▓ рдореЗрдВ рдХрд┐рд╕реА рдЕрдиреНрдп рднреМрддрд┐рдХ рд╡рд╕реНрддреБ рдХреЛ рдЫреВрддрд╛ рд╣реИ, рддреЛ рд╡рд┐рдзрд┐ рд▓рдЧрд╛рддрд╛рд░ рдЖрдЧ </font></font><code>OnTriggerStay2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рдЧрд╛рдПрдЧрд╛, рдзреНрд╡рдЬ рдХреЛ рдПрдХ </font></font><code>isColliding</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдорд╛рди </font><font style="vertical-align: inherit;">рдкреНрд░рджрд╛рди рдХрд░реЗрдЧрд╛ </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдЗрд╕рдХрд╛ рдорддрд▓рдм рдпрд╣ рд╣реИ рдХрд┐ рдЬрдм рд╕реНрд▓рдЧ рдкрддреНрдерд░ рдХреЛ рдЫреВрддрд╛ рд╣реИ, рддреЛ рдЖрдЗрд╕реЛрд▓реНрдбрд┐рдВрдЧ рдзреНрд╡рдЬ рдХреЛ рдПрдХ рдорд╛рди рд╕реМрдВрдкрд╛ рдЬрд╛рддрд╛ рд╣реИ </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд┐рдзрд┐ рдХреЛ </font></font><code>OnTriggerExit2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЯреНрд░рд┐рдЧрд░ рдХрд┐рдпрд╛ </font><font style="vertical-align: inherit;">рдЬрд╛рддрд╛ </font><font style="vertical-align: inherit;">рд╣реИ рдЬрдм рдПрдХ рдХреЛрд▓рд╛рдЗрдбрд░ рджреВрд╕рд░реЗ рдХреЛрд▓рд╛рдЗрдбрд░ рдХреЗ рдХреНрд╖реЗрддреНрд░ рдХреЛ рдЫреЛрдбрд╝ рджреЗрддрд╛ рд╣реИ, рдЭрдВрдбреЗ рдХреЛ рдЭреВрдард╛ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддрд╛ рд╣реИред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдзреНрдпрд╛рди рд░рдЦреЗрдВ: рд╡рд┐рдзрд┐ </font></font><code>OnTriggerStay2D</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрд╣реБрдд рдХрдореНрдкреНрдпреВрдЯреЗрд╢рдирд▓ рд░реВрдк рд╕реЗ рдорд╣рдВрдЧреА рд╣реЛ рд╕рдХрддреА рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕рд╛рд╡рдзрд╛рдиреА рд╕реЗ рдХрд░реЗрдВред</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЖрдЧреЗ рдХрд╣рд╛рдБ рдЬрд╛рдирд╛ рд╣реИ? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЧреЗрдо рдХреЛ рдлрд┐рд░ рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ рдФрд░ рдЗрд╕ рдмрд╛рд░ рд░рд╕реНрд╕реА рдХреЛ рдКрдкрд░ рдФрд░ рдиреАрдЪреЗ рд▓реЗ рдЬрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрд░реЛ рдХреАрдЬрд╝ рдпрд╛ рдбрдмреНрд▓реНрдпреВ / рдПрд╕ рджрдмрд╛рдПрдБред </font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/348/a3e/e5d/348a3ee5d95a10273c8bc644e3dbc7d9.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ рдХреЗ рдЗрд╕ рднрд╛рдЧ рдХреА рддреИрдпрд╛рд░ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдХреЛ </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпрд╣рд╛рдБ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдбрд╛рдЙрдирд▓реЛрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ </font><a href=""><font style="vertical-align: inherit;">рд╣реИ</font></a><font style="vertical-align: inherit;"> ред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо рдПрдХ рд▓рдВрдмрд╛ рд░рд╛рд╕реНрддрд╛ рддрдп рдХрд░ рдЪреБрдХреЗ рд╣реИрдВ - рдиреЙрди-рд╕реНрд╡рд┐рдВрдЧрд┐рдВрдЧ рд╕реНрд▓рдЧ-рд╕реНрд▓рдЧ рд╕реЗ рд▓реЗрдХрд░ рдПрдХреНрд░реЛрдмреИрдЯрд┐рдХ рд╢реЗрд▓-рдлреНрд░реА рдЧреИрд╕реНрдЯреНрд░реЛрдкреЙрдб рдореЛрд▓рд╕реНрдХ! </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдкрдиреЗ рд╕реАрдЦрд╛ рд╣реИ рдХрд┐ рдПрдХ рд▓рдХреНрд╖реНрдпреАрдХрд░рдг рдкреНрд░рдгрд╛рд▓реА рдХреИрд╕реЗ рдмрдирд╛рдИ рдЬрд╛рддреА рд╣реИ рдЬреЛ рдХрд┐рд╕реА рднреА рд╡рд╕реНрддреБ рдкрд░ рдПрдХ рдмрд┐рд▓реНрд▓реА рдХреЗ рд╣реБрдХ рдХреЛ рдЧреЛрд▓реА рдорд╛рд░ рд╕рдХрддреА рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдХреЛрд▓рд╛рдЗрдбрд░ рд╣реЛрддрд╛ рд╣реИ, рдЙрд╕рд╕реЗ рдЪрд┐рдкрдХ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рд╕рд╛рде рд╣реА рдЙрд╕ рдкрд░ рдЭреВрд▓рддрд╛ рд╣реИ, рд╡рд╕реНрддреБрдУрдВ рдХреЗ рдХрд┐рдирд╛рд░реЛрдВ рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рдПрдХ рдЧрддрд┐рд╢реАрд▓ рд░рд╕реНрд╕реА рдкрд░ рдШреВрдорддрд╛ рд╣реИ! </font><font style="vertical-align: inherit;">рдмрдврд╝рд┐рдпрд╛ рдХрд╛рдо рд╣реИред</font></font><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4dd/bb5/29d/4ddbb529d88b62441d7b2d91424bf906.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рд╛рд▓рд╛рдВрдХрд┐, рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдХрд╛рд░реНрдп рдпрд╣рд╛рдВ рдЧрд╛рдпрдм рд╣реИ - рдЬрдм рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рддреЛ рд░рд╕реНрд╕реА "рдЦреЛрд▓рдирд╛" рдирд╣реАрдВ рдХрд░ рд╕рдХрддреА рд╣реИред </font><font style="vertical-align: inherit;">рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓ </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЗ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рджреВрд╕рд░реЗ рднрд╛рдЧ рдореЗрдВ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣рдо рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░реЗрдВрдЧреЗред </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рдЕрдЧрд░ рдЖрдк рдПрдХ рдореМрдХрд╛ рд▓реЗрдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИрдВ, рддреЛ рдЗрд╕реЗ рдЦреБрдж рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХреНрдпреЛрдВ рди рдХрд░реЗрдВ? </font><font style="vertical-align: inherit;">рдЖрдк рдЗрд╕рдХреЗ рд▓рд┐рдП рдПрдХ рд╢рдмреНрджрдХреЛрд╢ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </font></font><code>wrapPointsLookup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ред</font></font></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi414887/">https://habr.com/ru/post/hi414887/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi414877/index.html">рдПрдХ рдирд┐рдпрдорд┐рдд рдХреИрдорд░реЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд╕рд╛рдорд╛рдиреНрдп рд▓реЗрдВрд╕ рдпрд╛ рдлрд╝реЛрдХрд╕ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕реЛрдЪрдирд╛ рдХреИрд╕реЗ рдмрдВрдж рдХрд░реЗрдВ</a></li>
<li><a href="../hi414879/index.html">3 рдбреА рдкреНрд░рд┐рдВрдЯрд░ рдореЗрдВ 2 рдПрдХреНрд╕рдЯреНрд░реВрд╕рд░ рдХреНрдпреЛрдВ?</a></li>
<li><a href="../hi414881/index.html">рдереЛрдбрд╝рд╛ рдмреИрдХрд╕реНрдЯреЗрдЬ рд╡реАрдХреЗ</a></li>
<li><a href="../hi414883/index.html">рдпрд╛рджреЗрдВ рдПрдХ рдирдП рддрд░реАрдХреЗ рд╕реЗ рд▓рдЧ рд░рд╣реА рдереАрдВ: рдмреАрдмреАрд╕реА рдиреЗ рд░реЗрдореЗрдХ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рд╕рд╛рдЙрдВрдб рдЖрд░реНрдХрд╛рдЗрд╡ рдХреЛ рдЕрдкрдбреЗрдЯ рдХрд┐рдпрд╛</a></li>
<li><a href="../hi414885/index.html">рд╣рдо рдХрд╛рдиреВрдиреА рд╕рдВрд╕реНрдерд╛рдУрдВ рдХреЗ рдПрдХреАрдХреГрдд рд░рд╛рдЬреНрдп рд░рдЬрд┐рд╕реНрдЯрд░ рдореЗрдВ рдЧрд▓рддрд┐рдпреЛрдВ рдФрд░ "рдмреИрд╕рд╛рдЦреА" рд╕реЗ рдирд┐рдкрдЯрддреЗ рд╣реИрдВ - рдХрд╛рдиреВрдиреА рд╕рдВрд╕реНрдерд╛рдУрдВ рдХрд╛ рд░рд╛рдЬреНрдп рд░рдЬрд┐рд╕реНрдЯрд░</a></li>
<li><a href="../hi414889/index.html">рдЬрдм рдбрд┐рдЬрд┐рдЯрд▓ рдПрдЬреЗрдВрд╕рд┐рдпреЛрдВ рдХреЛ IaaS рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ</a></li>
<li><a href="../hi414891/index.html">рдбреЗрд╡рд▓рдкрд░ рдХреА рдЖрджрддреЗрдВ</a></li>
<li><a href="../hi414893/index.html">рд╡рд╛рдЗрдмрд░, рд╡реНрд╣рд╛рдЯреНрд╕рдПрдк, рдЯреЗрд▓реАрдЧреНрд░рд╛рдо - рдХреМрди рд╕рд╛ рдмреЗрд╣рддрд░ рд╣реИ?</a></li>
<li><a href="../hi414895/index.html">рдФрд░ рд╣рдорд╛рд░реЗ рд▓рд┐рдП рд╕рдм рдХреБрдЫ "рдИрдорд╛рдирджрд╛рд░" рд╣реИ - DBMS рд╡рд░реНрдЯрд┐рдХрд╛</a></li>
<li><a href="../hi414897/index.html">рдмрд╣реБ-рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдореЗрдВ рдбреЗрдЯрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>