<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíáüèΩ üöÉ üßó JavaScript divertido: Uma equa√ß√£o quase linear üèüÔ∏è üë©‚Äçüé® üôåüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="E se pegarmos uma matem√°tica maravilhosa (ou seja, equa√ß√µes lineares) e nosso igualmente maravilhoso JavaScript , e depois sobrepormos uma √† outra? Na...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>JavaScript divertido: Uma equa√ß√£o quase linear</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/semrush/blog/475594/">  E se pegarmos uma matem√°tica maravilhosa (ou seja, equa√ß√µes lineares) e nosso igualmente maravilhoso <b>JavaScript</b> , e depois sobrepormos uma √† outra?  Nas condi√ß√µes de limita√ß√µes e especificidades do ambiente js, um simples problema matem√°tico pode se transformar em um muito curioso e cheio de armadilhas de js-stones.  Na √∫ltima confer√™ncia do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">HolyJS 19</a> em Moscou, uma dessas equa√ß√µes lineares (entre outras tarefas do <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">SEMrush</a> ) causou um grande <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">alvoro√ßo</a> . <br><br><img src="https://habrastorage.org/webt/9g/kg/wb/9gkgwb96ttlrqlsnqmqgmnjygyu.jpeg"><br><br>  E sim, este √© novamente o t√≠tulo do Entertaining JavaScript: pe√ßo que corte todos que se importam. <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Tarefas anteriores</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Dia de neve</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Ofusca√ß√£o de suporte</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O memoizer mais curto</a> <br></div></div><br>  Obviamente, tudo o que √© descrito abaixo - √© apenas uma tentativa fr√≠vola de simbiose duas coisas maravilhosas para se divertir - n√£o deve ser levado a s√©rio.  E esse material n√£o teria existido se n√£o fosse pelo vivo interesse dos participantes da confer√™ncia, pelos quais agradecemos especialmente a eles! <br><br><h3>  Reda√ß√£o </h3><br>  1. Encontre todas as solu√ß√µes inteiras da equa√ß√£o: <br><br><pre><code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br>  2. Encontre todas as solu√ß√µes inteiras da equa√ß√£o: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  A segunda equa√ß√£o difere da primeira apenas em uma opera√ß√£o adicional no lado direito. <br><br><h3>  Aproxima√ß√£o matem√°tica </h3><br>  Nos voltamos para a primeira equa√ß√£o.  E, para come√ßar, entenderemos as prioridades das opera√ß√µes utilizadas, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">conforme a tabela</a> : <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">9</span></span> +(~ x)) &gt;&gt; (<span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>) = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br>  Pegamos a nega√ß√£o bit a bit de <i>x</i> e a adicionamos a 9. O resultado da adi√ß√£o √© deslocado bit a bit para a direita pelo n√∫mero de bits igual ao resultado da divis√£o de 6 por 3. <br><br>  Obviamente, o problema est√° no uso de opera√ß√µes bit a bit no <i>x</i> desejado.  Mas, para encontrar alguma raiz condicional para mais racioc√≠nios, vale a pena tentar levar a equa√ß√£o a um an√°logo matem√°tico aproximado. <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">As opera√ß√µes bit a bit funcionam</a> com operandos como n√∫meros inteiros de 32 bits assinados.  O NOT bit a bit pode ser substitu√≠do por <b>uma</b> nega√ß√£o de <b>n√∫mero inteiro a</b> partir do incremento: <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">9</span></span> -(x + <span class="hljs-number"><span class="hljs-number">1</span></span>)) &gt;&gt; (<span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>) = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> (<span class="hljs-number"><span class="hljs-number">8</span></span> - x) &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br>  O deslocamento bit a bit para a direita (preservando o sinal) pode ser substitu√≠do pela divis√£o <b>inteira</b> por dois no grau igual ao operando √† direita: <br><br><pre> <code class="javascript hljs">(<span class="hljs-number"><span class="hljs-number">8</span></span> - x) / <span class="hljs-number"><span class="hljs-number">2</span></span>^<span class="hljs-number"><span class="hljs-number">2</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> (<span class="hljs-number"><span class="hljs-number">8</span></span> - x) / <span class="hljs-number"><span class="hljs-number">4</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre><br>  Obviamente, essas substitui√ß√µes s√£o muito arbitr√°rias, e falaremos sobre isso mais tarde.  E agora temos a equa√ß√£o linear usual, cuja √∫nica raiz √© -24.  Substitua o valor nos lados esquerdo e direito da equa√ß√£o original: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ (<span class="hljs-number"><span class="hljs-number">-24</span></span>) &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-comment"><span class="hljs-comment">// = 8 -(-24) / 3; // = 8</span></span></code> </pre><br>  Ambas as partes s√£o iguais, o que significa que nem tudo √© t√£o desesperador e -24 √© realmente uma solu√ß√£o. <br><br><h3>  Procure os pregui√ßosos </h3><br>  Se desenharmos gr√°ficos das fun√ß√µes <i>f1 (x) = (8 -x) / 4</i> <i>ef2 (x) = -x / 3</i> , √© claro que encontraremos o √∫nico ponto de interse√ß√£o das duas linhas em <i>x = -24</i> . <br><br><img src="https://habrastorage.org/webt/lq/-u/eq/lq-ueqg2tcs4_kuacbct4ry7lee.png"><br><br>  Mas fizemos algumas substitui√ß√µes desiguais com opera√ß√µes bit a bit na express√£o esquerda, portanto, na realidade, o gr√°fico da fun√ß√£o <i>f1</i> ser√° um pouco diferente.  Para qualquer <i>x, o</i> valor da fun√ß√£o ser√° um n√∫mero inteiro diferente do valor na linha cont√≠nua <i>f1,</i> com uma poss√≠vel mudan√ßa no intervalo de -1 a 1. Isso significa que podemos limitar a √°rea de pesquisa da solu√ß√£o √† esquerda e √† direita de -24, onde os valores das fun√ß√µes <i>f1</i> e <i>f2</i> come√ßar a diferir em mais de um. <br><br>  Para encontrar os limites da √°rea de pesquisa, voc√™ pode 1) resolver a desigualdade com o m√≥dulo ou 2) examinar mais de perto os gr√°ficos das fun√ß√µes.  Veremos que vale a pena analisar <i>x</i> no segmento [-36, -12]: <br><br><pre> <code class="javascript hljs">| (<span class="hljs-number"><span class="hljs-number">8</span></span> - x) / <span class="hljs-number"><span class="hljs-number">4</span></span> + x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span></span></span></code> </pre><br><img src="https://habrastorage.org/webt/js/cu/zy/jscuzy-3pnej3cnxpbiuor4lzus.png"><br><br>  Para iterar solu√ß√µes inteiras em um intervalo fechado <i>[beg, end],</i> escrevemos a fun√ß√£o <i>findx</i> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> findx = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">f, beg, end</span></span></span><span class="hljs-function">) =&gt;</span></span> [...Array(end - beg + <span class="hljs-number"><span class="hljs-number">1</span></span>)].map(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_, i</span></span></span><span class="hljs-function">) =&gt;</span></span> i + beg).filter(f);</code> </pre><br>  A fun√ß√£o retorna uma matriz de n√∫meros inteiros para os quais o valor da fun√ß√£o passada <i>f</i> √© reduzido para <i>verdadeiro</i> .  Para encontrar solu√ß√µes, representamos a equa√ß√£o como uma fun√ß√£o js usando o operador de igualdade: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> eq1 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> == -x / <span class="hljs-number"><span class="hljs-number">3</span></span>; findx(eq1, <span class="hljs-number"><span class="hljs-number">-36</span></span>, <span class="hljs-number"><span class="hljs-number">-12</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [-24, -21, -18, -15]</span></span></code> </pre><br>  Assim, <i>x</i> = [-24, -21, -18, -15] s√£o as solu√ß√µes desejadas para a primeira equa√ß√£o. <br><br><h3>  Solu√ß√£o gr√°fica </h3><br>  A enumera√ß√£o √© obviamente um sucesso, mas ainda vamos descobrir o gr√°fico da fun√ß√£o <i>f1</i> at√© o fim e resolver a equa√ß√£o graficamente.  Al√©m disso, a solu√ß√£o n√£o implica a propriedade obrigat√≥ria do console do navegador. <br><br>  O operador NOT bit a bit simplesmente descarta a parte fracion√°ria, assim o resultado <i>- (x + 1)</i> ser√° arredondado para baixo.  O operador de troca de bits √© um pouco mais complicado.  N√≥s a substitu√≠mos por divis√£o inteira, mas, dependendo do sinal do n√∫mero de dividendos, esta opera√ß√£o arredonda o resultado para baixo ou para cima: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">10</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-comment"><span class="hljs-comment">// = 2 -10 &gt;&gt; 2; // = -3</span></span></code> </pre><br>  No entanto, sabemos que o <i>x</i> desejado est√° no intervalo [-36, -12].  Conseq√ºentemente, o operando esquerdo do deslocamento bit a bit ( <i>8 -x</i> ) est√° no intervalo [20, 44], ou seja, √© sempre positivo.  O que, por sua vez, significa divis√£o inteira com arredondamento para baixo. <br><br>  Depois de descobrir a natureza das opera√ß√µes, podemos desenhar o gr√°fico correto da fun√ß√£o <i>f1</i> : <br><br><img src="https://habrastorage.org/webt/-z/-e/69/-z-e69kdpamkon9l-tnprrtwvxw.png"><br><br>  Vamos encontrar quatro pontos de interse√ß√£o das fun√ß√µes nas mesmas coordenadas <i>x</i> = [-24, -21, -18, -15]. <br><br><h3>  Segunda equa√ß√£o </h3><br>  Ent√£o, chegamos √† segunda equa√ß√£o: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = -x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  Difere do primeiro pela adi√ß√£o de um OR bit a bit.  Se o operando direito de tal opera√ß√£o for zero, o resultado ser√° simplesmente o valor do operando esquerdo com a parte fracion√°ria descartada. <br><br>  Para come√ßar, vamos fazer a mesma pesquisa, basta decidir na √°rea de pesquisa.  Como agora a fun√ß√£o <i>f2</i> tem um caractere semelhante a <i>f1</i> , para confiabilidade, uma poss√≠vel mudan√ßa deve ser resumida e a pesquisa deve ser limitada onde as fun√ß√µes diferem em valor absoluto em mais de duas unidades - isto √© [-48, 0]. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> eq2 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> == -x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span>; findx(eq2, <span class="hljs-number"><span class="hljs-number">-48</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [-24, -21, -18, -15]</span></span></code> </pre><br>  E n√≥s temos as mesmas respostas.  H√° uma suspeita de que, afinal, algo est√° errado.  Mas o fato √© que, tendo representado a equa√ß√£o original como uma fun√ß√£o js, ‚Äã‚Äãcombinamos as duas express√µes (esquerda e direita) atrav√©s do operador de igualdade em uma.  E o operador de igualdade tem sua prioridade, que √© maior que a prioridade do OR bit a bit.  A fun√ß√£o √© id√™ntica √† seguinte: <br><br><pre> <code class="javascript hljs">x =&gt; (<span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> == -x / <span class="hljs-number"><span class="hljs-number">3</span></span>) | <span class="hljs-number"><span class="hljs-number">0</span></span>;</code> </pre><br>  Nesse caso, um OR bit a bit n√£o tem efeito, pois <i>true |</i>  <i>0 = 1</i> .  Para evitar isso, √© necess√°rio indicar explicitamente no corpo da fun√ß√£o que estamos comparando os resultados de duas subexpress√µes: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> eq2 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">x</span></span></span><span class="hljs-function"> =&gt;</span></span> (<span class="hljs-number"><span class="hljs-number">9</span></span> +~ x &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span>) == (-x / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span>); findx(eq2, <span class="hljs-number"><span class="hljs-number">-48</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-comment"><span class="hljs-comment">// [-32, -29, -28, -26, -25, -24, -23, -22, -21, -19, -18, -15]</span></span></code> </pre><br>  O n√∫mero de solu√ß√µes aumentou.  Agora vamos ver os gr√°ficos de fun√ß√µes.  Por analogia com <i>f1</i> , uma ‚Äúescada de m√£o‚Äù constr√≥i uma fun√ß√£o modificada <i>f2</i> : <br><br><img src="https://habrastorage.org/webt/fc/gs/lm/fcgslmjdbg0xaigr5mumxtmuyh0.png"><br><br>  Em alguns lugares, os gr√°ficos de fun√ß√µes se sobrep√µem, mas estamos interessados ‚Äã‚Äãapenas em pontos com um valor inteiro de coordenadas <i>x</i> : [-32, -29, -28, -26, -26, -25, -24, -23, -22, -21, -19, -18, -15], apenas 12 solu√ß√µes.  A interse√ß√£o de duas "escadas" com as etapas 3 e 4 pode ser encontrada algoritmicamente, se voc√™ desejar. <br><br><h3>  Pergunta adicional </h3><br>  No problema proposto na confer√™ncia, havia uma pergunta adicional: era necess√°rio encontrar a solu√ß√£o m√≠nima para a equa√ß√£o 2. N√£o se dizia que isso era necessariamente um n√∫mero inteiro; portanto, a resposta <i>x</i> = -32 - mostrou-se incorreta. <br><br>  Encontrar uma solu√ß√£o por for√ßa bruta n√£o funcionar√° aqui, mas resolv√™-la graficamente √© muito simples.  Este √© o valor mais pr√≥ximo de <i>x</i> a -33 √† direita: <br><br><img src="https://habrastorage.org/webt/w9/rq/cy/w9rqcyp4fwmai59369zi9ldjiu8.png"><br><br>  Parece que <i>x</i> = -32. (9).  Mas isso ainda n√£o √© verdade.  Como nosso ambiente √© JavaScript, isso significa que, na representa√ß√£o de n√∫meros, somos limitados pelo tipo de dados usado.  O n√∫mero do tipo √© float64, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">um n√∫mero de ponto flutuante de precis√£o dupla</a> (IEEE 754).  Lembrar-se disso e nomear precis√£o aproximada foram suficientes para obter uma raposa de pel√∫cia! <br><br><h3>  O lado sombrio das opera√ß√µes bit a bit </h3><br>  Como mencionado acima, as opera√ß√µes bit a bit convertem operandos em n√∫meros de 32 bits, representados pela sequ√™ncia 0 e 1 - esse √© o intervalo [-2147483648, 2147483647].  Se o n√∫mero n√£o se encaixar, os bits mais significativos ser√£o descartados. <br><br>  Na primeira equa√ß√£o, isso n√£o tem nenhum papel, pois n√£o h√° opera√ß√£o bit a bit no lado direito.  Mas no segundo, essa convers√£o de n√∫meros imp√µe um efeito interessante. <br><br>  Por exemplo, o n√∫mero -24 ser√° representado como: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">11111111111111111111111111101000</span></span></code> </pre><br>  Um valor negativo do n√∫mero √© obtido invertendo os bits (NOT bit a bit) no registro de um n√∫mero positivo com a adi√ß√£o de um. <br><br>  Qualquer n√∫mero fora do intervalo, ap√≥s a convers√£o terminar nesta sequ√™ncia de 32 bits, ser√° id√™ntico em opera√ß√µes bin√°rias ao n√∫mero -24.  Por exemplo, estes s√£o n√∫meros: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">4294967272</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">// -24 8589934568 | 0; // -24, prepend '1' 12884901864 | 0; // -24, prepend '10' 17179869160 | 0; // -24, prepend '11' 21474836456 | 0; // -24, prepend '100' // ...</span></span></code> </pre><br>  No lado direito da equa√ß√£o, antes da opera√ß√£o bit a bit, dividimos <i>x</i> por 3. Encontramos <i>x</i> entre os "equivalentes" -24 que s√£o divis√≠veis por 3. O n√∫mero mais pr√≥ximo √© 12884901864. Substitua-o na equa√ß√£o: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">9</span></span> +~ <span class="hljs-number"><span class="hljs-number">12884901864</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">6</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> = <span class="hljs-number"><span class="hljs-number">-12884901864</span></span> / <span class="hljs-number"><span class="hljs-number">3</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> +~ <span class="hljs-number"><span class="hljs-number">12884901864</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> = <span class="hljs-number"><span class="hljs-number">-4294967288</span></span> | <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> + <span class="hljs-number"><span class="hljs-number">23</span></span> &gt;&gt; <span class="hljs-number"><span class="hljs-number">2</span></span> = <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> = <span class="hljs-number"><span class="hljs-number">8</span></span></code> </pre><br>  O resultado da divis√£o por 3 (-4294967288) n√£o se encaixa nos 32 d√≠gitos alocados;  ao inverter bits, o sinal √© finalmente perdido e restam apenas 8: <br><br><pre> <code class="javascript hljs"><span class="hljs-number"><span class="hljs-number">00000000000000000000000000001000</span></span></code> </pre><br>  Al√©m disso, voc√™ pode verificar a corre√ß√£o do resultado chamando a fun√ß√£o <i>eq2</i> : <br><br><pre> <code class="javascript hljs">eq2(<span class="hljs-number"><span class="hljs-number">12884901864</span></span>); <span class="hljs-comment"><span class="hljs-comment">// true</span></span></code> </pre><br>  Se voc√™ pensar bem, ao lado desta raiz, voc√™ encontrar√° as proje√ß√µes das 11 solu√ß√µes inteiras restantes. <br><br>  Assim, um grande n√∫mero de novas solu√ß√µes aparece e apenas o equivalente positivo mais pr√≥ximo de -24 √© considerado.  No entanto, isso n√£o √© t√£o interessante quanto a tarefa principal e, ao analisar as decis√µes dos participantes, essas respostas muito raras foram avaliadas separadamente.  Para n√£o ficar confuso, voc√™ pode introduzir uma restri√ß√£o nos n√∫meros inteiros desejados na condi√ß√£o do problema, como os de 32 bits assinados. <br><br>  E voc√™ n√£o pode fazer!  Em seguida, para encontrar a menor raiz, preste aten√ß√£o √† vizinhan√ßa de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Number.MAX_SAFE_INTEGER</a> com um sinal negativo, pois esse n√∫mero √© inteiro e com extrema precis√£o float64.  Bem, ent√£o por conta pr√≥pria. <br><br><h3>  Conclus√£o </h3><br>  Como resultado da confer√™ncia, a maioria dos participantes resolveu o problema com pesquisa exaustiva, enquanto o alcance da pesquisa foi completamente diferente por v√°rios motivos.  Mas, como vimos, basta executar a ~ 50 n√∫meros inteiros.  Muitos ca√≠ram em armadilhas de prioridade operacional.  Algu√©m tamb√©m decidiu graficamente que agradou.  Unidades surpreendidas pelo lan√ßamento de 32 categorias.  Voc√™ pode usar for√ßa bruta para avan√ßar ainda mais nas tarefas.  Mas, para obter um pr√™mio adicional, ainda era necess√°rio realizar algumas an√°lises quase matem√°ticas. <br><br>  Eu realmente espero que voc√™ tenha gostado da ideia de uma tarefa t√£o at√≠pica como entretenimento para o formato da confer√™ncia.  No ano passado, acumulei v√°rias tarefas JavaScript "divertidas".  Eu decidi colecion√°-los todos em um s√≥ lugar.  Siga o link se voc√™ n√£o tiver medo: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">JavaScript desafiado inesperado</a> .  As tarefas de <a href="">Look Complex</a> e <a href="">Broken Pipe</a> , que tamb√©m foram propostas na confer√™ncia, j√° foram definidas.  Sim, existem muitas dessas cole√ß√µes, mas esta √© minha!  Mais uma vez obrigado a todos. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt475594/">https://habr.com/ru/post/pt475594/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt475582/index.html">O problema da monetiza√ß√£o: por que a popular App Store exclui utilit√°rios de c√≥digo aberto</a></li>
<li><a href="../pt475584/index.html">Como est√£o as se√ß√µes de aprendizado de m√°quina nas entrevistas Yandex</a></li>
<li><a href="../pt475586/index.html">A impress√£o digital sonora do computador por meio da API AudioContext</a></li>
<li><a href="../pt475588/index.html">Tr√™s paradigmas</a></li>
<li><a href="../pt475590/index.html">Compilando programas com o Notepad ++</a></li>
<li><a href="../pt475596/index.html">Grandes hip√≥teses de n√∫mero primo comprovadas para pequenos sistemas num√©ricos</a></li>
<li><a href="../pt475598/index.html">Organiza√ß√£o da arquitetura simples em um aplicativo Android com um monte de ViewModel + LiveData, Retrofit + Coroutines</a></li>
<li><a href="../pt475600/index.html">Como conectamos Prometheus</a></li>
<li><a href="../pt475604/index.html">Configurando o modelo oficial do PostgreSQL no Zabbix 4.4</a></li>
<li><a href="../pt475608/index.html">Gerenciador de tags do Google: configura√ß√µes de gatilho n√£o √≥bvias e √∫teis</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>