<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ â› ğŸ¦ PKCSï¼ƒ11åŠ å¯†ä»¤ç‰Œï¼šæŸ¥çœ‹å’Œå¯¼å‡ºè¯ä¹¦ï¼Œæ£€æŸ¥å…¶æœ‰æ•ˆæ€§ ğŸ‘©â€ğŸ’» ğŸ™‡ğŸ¼ ğŸ›¤ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨å¯¹â€œç”¨äºæŸ¥çœ‹ä¿„ç½—æ–¯åˆæ ¼x509è¯ä¹¦çš„è‹±è¯­è·¨å¹³å°å®ç”¨ç¨‹åºâ€ä¸€æ–‡çš„è¯„è®ºä¸­ï¼Œ Pasç”¨æˆ·å¸Œæœ›ä¸ä»…å…·æœ‰â€œè¯ä¹¦è§£æâ€åŠŸèƒ½ï¼Œè€Œä¸”å¸Œæœ›è·å¾—â€œæ ¹è¯ä¹¦é“¾å¹¶è¿›è¡ŒPKIéªŒè¯ï¼Œè‡³å°‘å¯¹äºå…·æœ‰å¯æå–å¯†é’¥çš„ä»¤ç‰Œçš„è¯ä¹¦è€Œè¨€â€ â€ã€‚ åœ¨å…ˆå‰çš„æ–‡ç« ä¸­ï¼Œå·²ç»æè¿°äº†è·å¾—è¯ä¹¦é“¾çš„è¿‡ç¨‹ã€‚ æ²¡é”™ï¼Œè¿™æ˜¯å…³äºå­˜å‚¨åœ¨æ–‡ä»¶ä¸­çš„è¯ä¹¦çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æ‰¿è¯ºè¦å¢...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>PKCSï¼ƒ11åŠ å¯†ä»¤ç‰Œï¼šæŸ¥çœ‹å’Œå¯¼å‡ºè¯ä¹¦ï¼Œæ£€æŸ¥å…¶æœ‰æ•ˆæ€§</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/443480/"><img src="https://habrastorage.org/webt/jg/xr/s2/jgxrs2y4nfsgsn6ljt8l0wpevgy.png" align="left" alt="å›¾ç‰‡"> åœ¨å¯¹â€œç”¨äºæŸ¥çœ‹ä¿„ç½—æ–¯åˆæ ¼x509è¯ä¹¦çš„è‹±è¯­è·¨å¹³å°å®ç”¨ç¨‹åºâ€ä¸€æ–‡çš„è¯„è®ºä¸­ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Pas</a>ç”¨æˆ·å¸Œæœ›ä¸ä»…å…·æœ‰â€œè¯ä¹¦è§£æâ€åŠŸèƒ½ï¼Œè€Œä¸”å¸Œæœ›è·å¾—â€œæ ¹è¯ä¹¦é“¾å¹¶è¿›è¡ŒPKIéªŒè¯ï¼Œè‡³å°‘å¯¹äºå…·æœ‰å¯æå–å¯†é’¥çš„ä»¤ç‰Œçš„è¯ä¹¦è€Œè¨€â€ â€ã€‚ åœ¨å…ˆå‰çš„æ–‡ç« ä¸­ï¼Œå·²ç»æè¿°äº†è·å¾—è¯ä¹¦é“¾çš„è¿‡ç¨‹ã€‚ æ²¡é”™ï¼Œè¿™æ˜¯å…³äºå­˜å‚¨åœ¨æ–‡ä»¶ä¸­çš„è¯ä¹¦çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æ‰¿è¯ºè¦å¢åŠ ä½¿ç”¨å­˜å‚¨åœ¨PKCSï¼ƒ11ä»¤ç‰Œä¸Šçš„è¯ä¹¦çš„æœºåˆ¶ã€‚ æœ€ç»ˆå°±æ˜¯è¿™æ ·ã€‚ <a name="habracut"></a><br><br><img src="https://habrastorage.org/webt/cg/vd/fw/cgvdfwfqdxc1tbvkkpcec_vzye8.png"><br><br> è§£æå’ŒæŸ¥çœ‹å®ç”¨ç¨‹åºæ˜¯ç”¨Tcl / Tkç¼–å†™çš„ï¼Œä¸ºäº†å‘å…¶ä¸­æ·»åŠ PKCSï¼ƒ11ä»¤ç‰Œ/æ™ºèƒ½å¡ï¼ŒæŸ¥çœ‹è¯ä¹¦ä»¥åŠæ£€æŸ¥è¯ä¹¦çš„æœ‰æ•ˆæ€§ï¼Œæœ‰å¿…è¦è§£å†³ä»¥ä¸‹å‡ ä¸ªé—®é¢˜ï¼š <br><br><ul><li> ç¡®å®šä»ä»¤ç‰Œ/æ™ºèƒ½å¡è·å–è¯ä¹¦çš„æœºåˆ¶ï¼› </li><li> æ ¹æ®å·²æ’¤é”€çš„CRLè¯ä¹¦åˆ—è¡¨æ£€æŸ¥è¯ä¹¦ï¼› </li><li> é€šè¿‡OCSPæœºåˆ¶æ£€æŸ¥æœ‰æ•ˆæ€§è¯ä¹¦ã€‚ </li></ul><br><h3>  <font color="#0000ff">è®¿é—®PKCSï¼ƒ11ä»¤ç‰Œ</font> </h3><br> è¦è®¿é—®ä»¤ç‰Œå’Œå­˜å‚¨åœ¨ä»¤ç‰Œä¸Šçš„è¯ä¹¦ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">TclPKCS11</a>è½¯ä»¶åŒ…ã€‚ è¯¥è½¯ä»¶åŒ…ä»¥äºŒè¿›åˆ¶å’Œæºä»£ç å½¢å¼åˆ†å‘ã€‚ å½“æˆ‘ä»¬åœ¨ç¨‹åºåŒ…ä¸­æ·»åŠ å¸¦æœ‰ä¿„ç½—æ–¯åŠ å¯†çš„ä»¤ç‰Œæ”¯æŒæ—¶ï¼Œæºä»£ç å°†æ´¾ä¸Šç”¨åœºã€‚ æœ‰ä¸¤ç§ä¸‹è½½TclPKCS11è½¯ä»¶åŒ…çš„æ–¹æ³•ï¼Œæˆ–ä½¿ç”¨ä»¥ä¸‹å½¢å¼çš„tclå‘½ä»¤ï¼š <br><br><pre><code class="plaintext hljs">load &lt; tclpkcs11&gt; Tclpkcs11</code> </pre> <br> æˆ–å°†tclpkcs11åº“å’ŒpkgIndex.tclæ–‡ä»¶æ”¾å…¥æ‚¨æ–¹ä¾¿çš„ç›®å½•ï¼ˆåœ¨æˆ‘ä»¬çš„æƒ…å†µä¸‹ï¼Œè¿™æ˜¯å½“å‰ç›®å½•çš„pkcs11å­ç›®å½•ï¼‰ä¸­å¹¶å°†å…¶æ·»åŠ åˆ°auto_pathè·¯å¾„ä¸­ï¼Œç„¶åä»¥pki :: pkcs11è½¯ä»¶åŒ…çš„å½¢å¼ä¸‹è½½ã€‚ <br><br><pre> <code class="plaintext hljs">#lappend auto_path [file dirname [info scrypt]] lappend auto_path pkcs11 package require pki package require pki::pkcs11</code> </pre> <br> ç”±äºæˆ‘ä»¬ä¸»è¦å¯¹æ”¯æŒä¿„ç½—æ–¯åŠ å¯†çš„ä»¤ç‰Œæ„Ÿå…´è¶£ï¼Œå› æ­¤ä»TclPKCS11è½¯ä»¶åŒ…ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä»¥ä¸‹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åŠŸèƒ½</a> ï¼š <br><blockquote><pre> <code class="plaintext hljs">::pki::pkcs11::loadmodule &lt;filename&gt; -&gt; handle ::pki::pkcs11::unloadmodule &lt;handle&gt; -&gt; true/false ::pki::pkcs11::listslots &lt;handle&gt; -&gt; list: slotId label flags ::pki::pkcs11::listcerts &lt;handle&gt; &lt;slotId&gt; -&gt; list: keylist ::pki::pkcs11::login &lt;handle&gt; &lt;slotId&gt; &lt;password&gt; -&gt; true/false ::pki::pkcs11::logout &lt;handle&gt; &lt;slotId&gt; -&gt; true/false</code> </pre> </blockquote> ç«‹å³é¢„è®¢ï¼Œæ­¤å¤„å°†ä¸è€ƒè™‘ç™»å½•å’Œæ³¨é”€åŠŸèƒ½ã€‚ è¿™æ˜¯ç”±äºä»¥ä¸‹äº‹å®ï¼šåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä»…å¤„ç†è¯ä¹¦ï¼Œå®ƒä»¬æ˜¯å…¬å…±ä»¤ç‰Œå¯¹è±¡ã€‚ è¦è®¿é—®å…¬å…±å¯¹è±¡ï¼Œæ— éœ€é€šè¿‡ä»¤ç‰Œä¸Šçš„PINç ç™»å½•ã€‚ <br><br> ç¬¬ä¸€ä¸ªåŠŸèƒ½:: pki :: pkcs11 :: loadmoduleæ˜¯ç”¨äºåŠ è½½PKCSï¼ƒ11åº“ï¼Œè¯¥åº“æ”¯æŒè¯ä¹¦æ‰€åœ¨çš„ä»¤ç‰Œ/æ™ºèƒ½å¡ã€‚ å¯ä»¥é€šè¿‡è´­ä¹°ä»¤ç‰Œæ¥è·å¾—åº“ï¼Œä¹Ÿå¯ä»¥ä»Internetä¸‹è½½è¯¥åº“ï¼Œä¹Ÿå¯ä»¥å°†å…¶é¢„å…ˆå®‰è£…åœ¨è®¡ç®—æœºä¸Šã€‚ æ— è®ºå¦‚ä½•ï¼Œæ‚¨éƒ½éœ€è¦çŸ¥é“å“ªä¸ªåº“æ”¯æŒæ‚¨çš„ä»¤ç‰Œã€‚  loadmoduleå‡½æ•°è¿”å›å·²åŠ è½½åº“çš„å¥æŸ„ï¼š <br><br><pre> <code class="plaintext hljs">set filelib "/usr/local/lib64/librtpkcs11ecp_2.0.so" set handle [::pki::pkcs11::loadmodule $filelib]</code> </pre> <br> å› æ­¤ï¼Œæœ‰ä¸€ä¸ªå‡½æ•°å¯ä»¥å¸è½½å·²åŠ è½½çš„åº“ï¼š <br><br><pre> <code class="plaintext hljs">::pki::pkcs11::unloadmodule $handle</code> </pre> <br> åœ¨åŠ è½½åº“å¹¶è·å¾—å…¶å¥æŸ„ä¹‹åï¼Œæ‚¨å¯ä»¥è·å¾—è¯¥åº“æ”¯æŒçš„æ’æ§½åˆ—è¡¨ï¼š <br><br><pre> <code class="plaintext hljs">::pki::pkcs11::listslots $handle {0 {ruToken ECP } {TOKEN_PRESENT RNG LOGIN_REQUIRED USER_PIN_INITIALIZED TOKEN_INITIALIZED REMOVABLE_DEVICE HW_SLOT}} {1 { } {REMOVABLE_DEVICE HW_SLOT}} . . . {14 { } {REMOVABLE_D EVICE HW_SLOT}}</code> </pre> <br> åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œåˆ—è¡¨åŒ…å«15ä¸ªï¼ˆ0åˆ°14ä¸­çš„15ä¸ªï¼‰å…ƒç´ ã€‚  RuTokenç³»åˆ—ä»¤ç‰Œå¯ä»¥æ”¯æŒå¤šå°‘ä¸ªæ’æ§½ã€‚ åè¿‡æ¥ï¼Œåˆ—è¡¨æœ¬èº«çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸‰ä¸ªå…ƒç´ çš„åˆ—è¡¨ï¼š <br><br><pre> <code class="plaintext hljs">{{ } { } {   }}</code> </pre> <br> åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ’æ§½å·ã€‚ åˆ—è¡¨çš„ç¬¬äºŒä¸ªå…ƒç´ æ˜¯ä½äºä»¤ç‰Œæ’æ§½ä¸­çš„æ ‡ç­¾ï¼ˆ32ä¸ªå­—èŠ‚ï¼‰ã€‚ å¦‚æœæ’æ§½ä¸ºç©ºï¼Œåˆ™ç¬¬äºŒä¸ªå…ƒç´ åŒ…å«32ä¸ªç©ºæ ¼ã€‚ åˆ—è¡¨çš„æœ€åç¬¬ä¸‰ä¸ªå…ƒç´ åŒ…å«æ ‡å¿—ã€‚ æˆ‘ä»¬ä¸ä¼šè€ƒè™‘æ•´ä¸ªæ ‡å¿—é›†ã€‚ æˆ‘ä»¬å¯¹è¿™äº›æ ‡å¿—æ„Ÿå…´è¶£çš„æ˜¯TOKEN_PRESENTæ ‡å¿—çš„å­˜åœ¨ã€‚ æ­£æ˜¯è¿™ä¸ªæ ‡å¿—æŒ‡ç¤ºä»¤ç‰Œåœ¨æ’æ§½ä¸­ï¼Œè€Œæˆ‘ä»¬æ„Ÿå…´è¶£çš„è¯ä¹¦å¯ä»¥åœ¨ä»¤ç‰Œä¸Šã€‚ æ ‡å¿—æ˜¯éå¸¸æœ‰ç”¨çš„ä¸œè¥¿ï¼Œå®ƒä»¬æè¿°ä»¤ç‰Œçš„çŠ¶æ€ï¼ŒPINç çš„çŠ¶æ€ç­‰ã€‚ æ ¹æ®æ ‡å¿—çš„å€¼ï¼Œç®¡ç†PKCSï¼ƒ11ä»¤ç‰Œï¼š <br><br><img src="https://habrastorage.org/webt/yq/7x/n1/yq7xn1qbusjtjirrudo1ebhjzhc.png"><br><br> ç°åœ¨ï¼Œæ²¡æœ‰ä»€ä¹ˆå¯ä»¥é˜»æ­¢æ‚¨ç¼–å†™slot_with_tokenè¿‡ç¨‹ï¼Œè¯¥è¿‡ç¨‹å°†è¿”å›åŒ…å«ä»¤ç‰Œæ ‡è®°çš„æ’æ§½åˆ—è¡¨ï¼š <br><br><pre> <code class="plaintext hljs">#!/usr/bin/tclsh lappend auto_path pkcs11 package require pki package require pki::pkcs11 #    proc ::slots_with_token {handle} { set slots [pki::pkcs11::listslots $handle] # puts "Slots: $slots" array set listtok [] foreach slotinfo $slots { set slotid [lindex $slotinfo 0] set slotlabel [lindex $slotinfo 1] set slotflags [lindex $slotinfo 2] if {[lsearch -exact $slotflags TOKEN_PRESENT] != -1} { set listtok($slotid) $slotlabel } } #     parray listtok return [array get listtok] } set filelib "/usr/local/lib64/librtpkcs11ecp_2.0.so" if {[catch {set handle [::pki::pkcs11::loadmodule $filelib]} res]} { puts "Cannot load library $filelib : $res" exit } #   set listslots {} set listslots [::slots_with_token $handle] #        while {[llength $listslots] == 0} { puts " " after 3000 set listslots [::slots_with_token $handle] } #        foreach {slotid labeltok} $listslots { puts "Number slot: $slotid" puts "Label token: $labeltok" }</code> </pre> <br> å¦‚æœæ‰§è¡Œæ­¤è„šæœ¬ï¼Œå°†å…¶ä¿å­˜åœ¨æ–‡ä»¶slot_with_token.tclä¸­ï¼Œç»“æœæ˜¯ï¼š <br><br><pre> <code class="bash hljs">$ ./slots_with_token.tcl listtok(0) = ruToken ECP listtok(1) = RuTokenECP20 Number slot: 0 Label token: RuTokenECP20 Number slot: 1 Label token: ruToken ECP $</code> </pre> <br> åœ¨è¯¥åº“çš„15ä¸ªå¯ç”¨æ’æ§½ä¸­ï¼Œä»…æ¶‰åŠä¸¤ä¸ªï¼Œé›¶å’Œç¬¬ä¸€ä¸ªã€‚ <br> ç°åœ¨ï¼Œä»€ä¹ˆéƒ½æ— æ³•é˜»æ­¢è·å–ä½äºç‰¹å®šä»¤ç‰Œä¸Šçš„è¯ä¹¦åˆ—è¡¨ï¼š <br><br><pre> <code class="plaintext hljs">set listcerts [::pki::pkcs11::listcerts $handle $slotid]</code> </pre> <br> æ¯ä¸ªåˆ—è¡¨é¡¹éƒ½åŒ…å«æœ‰å…³ä¸€ä¸ªè¯ä¹¦çš„ä¿¡æ¯ã€‚ è¦ä»è¯ä¹¦ä¸­è·å–ä¿¡æ¯ï¼Œå‡½æ•°:: pki :: pkcs11 :: listcertsä½¿ç”¨pkiåŒ…ä¸­çš„å‡½æ•°:: pki :: x509 :: parse_certã€‚ ä½†æ˜¯åŠŸèƒ½:: pki :: pkcs11 :: listcertsç”¨PKCSï¼ƒ11åè®®ä¸­å›ºæœ‰çš„æ•°æ®æ¥è¡¥å……æ­¤åˆ—è¡¨ï¼Œå³ï¼š <br><br><ul><li>  pkcs11_æ ‡ç­¾å…ƒç´ ï¼ˆåœ¨PKCSï¼ƒ11å±æ€§CKA_LABELçš„æœ¯è¯­ä¸­ï¼‰ï¼› </li><li>  pkcs11_idå…ƒç´ ï¼ˆç”¨PKCSï¼ƒ11å±æ€§CKA_IDè¡¨ç¤ºï¼‰ï¼› </li><li>  pkcs11_handleå…ƒç´ ï¼ŒåŒ…å«å·²åŠ è½½çš„PKCSï¼ƒ11åº“çš„æŒ‡ç¤ºï¼› </li><li>  pkcs11_slotidå…ƒç´ ï¼ŒåŒ…å«å¸¦æœ‰æ­¤è¯ä¹¦æ‰€åœ¨çš„ä»¤ç‰Œçš„æ’æ§½å·ï¼› </li><li> ä¸€ä¸ªç±»å‹å…ƒç´ ï¼Œå…¶ä¸­åŒ…å«ä»¤ç‰Œä¸Šè¯ä¹¦çš„pkcs11å€¼ã€‚ </li></ul><br> å›æƒ³ä¸€ä¸‹ï¼Œå…¶ä½™å…ƒç´ ä¸»è¦ç”±pki :: parse_certå‡½æ•°ç¡®å®šã€‚ <br> ä»¥ä¸‹æ˜¯è·å–è¯ä¹¦æ ‡ç­¾åˆ—è¡¨ï¼ˆlistCertï¼‰ï¼ˆCKA_LABELï¼Œpkcs11_labelï¼‰å’Œå·²è§£ææ ‡è¯†ç¬¦æ•°ç»„ï¼ˆ:: certs_p11ï¼‰çš„è¿‡ç¨‹ã€‚ è®¿é—®è¯ä¹¦æ•°ç»„å…ƒç´ çš„å¯†é’¥æ˜¯è¯ä¹¦æ ‡ç­¾ï¼ˆCKA_LABELï¼Œpkcs11_labelï¼‰ï¼š <br><br><pre> <code class="plaintext hljs">#  proc listcerttok {handle token_slotlabel token_slotid} { #     set listCer {} #   array set ::arrayCer [] set ::certs_p11 [pki::pkcs11::listcerts $handle $token_slotid] if {[llength $::certs_p11] == 0} { puts {Certificates are not on the token:$tokenslotlabel} return $listCer } foreach certinfo_list $::certs_p11 { unset -nocomplain certinfo array set certinfo $certinfo_list set certinfo(pubkeyinfo) [::pki::x509::parse_cert_pubkeyinfo $certinfo(cert)] set ::arrayCer($certinfo(pkcs11_label)) $certinfo(cert) lappend listCer $certinfo(pkcs11_label) } return $listCer }</code> </pre> <br> ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»è§£æäº†è¯ä¹¦ï¼Œç°åœ¨å¯ä»¥åœ¨ç»„åˆæ¡†å†…é™é»˜æ˜¾ç¤ºå…¶æ ‡ç­¾åˆ—è¡¨ï¼š <br><br><img src="https://habrastorage.org/webt/wd/7_/si/wd7_siithrzlh1gfwa5tm78rpbg.png"><br><br> å¦‚ä½•è§£ææˆ‘ä»¬åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­è®¨è®ºè¿‡çš„GOSTå…¬é’¥ã€‚ <br><br> å…³äºè¯ä¹¦å¯¼å‡ºçš„ä¸¤ä¸ªè¯ã€‚ è¯ä¹¦ä»¥PEMç¼–ç å’ŒDERç¼–ç ï¼ˆDERæŒ‰é’®ï¼ŒPEMæ ¼å¼ï¼‰å¯¼å‡ºã€‚  pkiè½¯ä»¶åŒ…å…·æœ‰æ–¹ä¾¿çš„å‡½æ•°pki :: _ encode_pemï¼Œç”¨äºè½¬æ¢ä¸ºPEMæ ¼å¼ï¼š <br><br><pre> <code class="plaintext hljs">set bufpem [::pki::_encode_pem &lt;der-buffer&gt; &lt;Headline&gt; &lt;Lastline&gt;]</code> </pre> <br> ä¾‹å¦‚ï¼š <br><br><pre> <code class="plaintext hljs">set certpem [::pki::encode_pen $cert_der "-----BEGIN CERTIFICATE-----" "-----END CERTIFICATE-----"]</code> </pre> <br> é€šè¿‡åœ¨ç»„åˆæ¡†ä¸­é€‰æ‹©åŒ–ç²ªæ± è¯ä¹¦æ ‡ç­¾ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®è¯ä¹¦æ­£æ–‡ï¼š <br><br><pre> <code class="plaintext hljs">#    set nick [.saveCert.labExp.listCert get] #        foreach certinfo_list $::certs_p11 { unset -nocomplain cert_parse array set cert_parse $certinfo_list if {$cert_parse(pkcs11_label) == $nick} { #   set cert_parse(pubkeyinfo) [::pki::x509::parse_cert_pubkeyinfo $cert_parse(cert)] break } } #   file|pkcs11 set ::tekcert "pkcs11"</code> </pre> <br> å…ˆå‰åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¿™é‡Œ</a>è®¨è®ºäº†è§£æè¯ä¹¦å¹¶æ˜¾ç¤ºè¯ä¹¦çš„å¦ä¸€ç§æœºåˆ¶ã€‚ <br><br><h3>  <font color="#0000ff">è¯ä¹¦éªŒè¯</font> </h3><br> è§£æè¯ä¹¦æ—¶ï¼Œå˜é‡:: notbeforeå’Œ:: notafterå­˜å‚¨ç”¨äºåŠ å¯†æ“ä½œï¼ˆç­¾åï¼ŒåŠ å¯†ç­‰ï¼‰çš„è¯ä¹¦å¯ä»¥ä½¿ç”¨çš„æ—¥æœŸä»¥åŠè¯ä¹¦çš„åˆ°æœŸæ—¥æœŸã€‚ æ£€æŸ¥è¯ä¹¦æœ‰æ•ˆæœŸçš„è¿‡ç¨‹æ˜¯ï¼š <br><br><pre> <code class="plaintext hljs">proc cert_valid_date {} { #       #    set startdate $::notbefore #    set enddate $::notafter #      set now [clock seconds] set isvalid 1 set reason "Certificate is valid" if {$startdate &gt; $now} { set isvalid 0 #      set reason "Certificate is not yet valid" } elseif {$now &gt; $enddate} { set isvalid 0 #    set reason "Certificate has expired" } return [list $isvalid $reason] }</code> </pre> <br> è¿”å›çš„åˆ—è¡¨åŒ…å«ä¸¤ä¸ªé¡¹ç›®ã€‚ ç¬¬ä¸€ä¸ªå…ƒç´ å¯ä»¥åŒ…å«0ï¼ˆé›¶ï¼‰æˆ–1ï¼ˆä¸€ä¸ªï¼‰ã€‚ å€¼â€œ 1â€è¡¨ç¤ºè¯ä¹¦æœ‰æ•ˆï¼Œ0è¡¨ç¤ºè¯ä¹¦æ— æ•ˆã€‚ è¯ä¹¦æ— æ•ˆçš„åŸå› åœ¨ç¬¬äºŒä¸ªå…ƒç´ ä¸­å…¬å¼€ã€‚ è¯¥å…ƒç´ å¯ä»¥åŒ…å«ä»¥ä¸‹ä¸‰ä¸ªå€¼ä¹‹ä¸€ï¼š <br><br><ul><li> è¯ä¹¦æœ‰æ•ˆï¼ˆåˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º1ï¼‰ï¼š </li><li> è¯ä¹¦å°šæœªæœ‰æ•ˆï¼ˆè¯ä¹¦å°šæœªè¿‡æœŸï¼‰ </li><li> è¯ä¹¦å·²è¿‡æœŸã€‚ </li></ul><br> è¯ä¹¦çš„æœ‰æ•ˆæ€§ä¸ä»…å–å†³äºå…¶æœ‰æ•ˆæœŸã€‚ è¯ä¹¦ä¸­å¿ƒå¯ä»¥ä¸»åŠ¨æˆ–åº”è¯ä¹¦æŒæœ‰äººçš„è¦æ±‚ï¼Œä¾‹å¦‚åœ¨ä¸¢å¤±å¸¦æœ‰ç§é’¥çš„ä»‹è´¨çš„æƒ…å†µä¸‹ï¼Œç”±è¯ä¹¦ä¸­å¿ƒæš‚åœæˆ–ç»ˆæ­¢è¯ä¹¦ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè¯ä¹¦é¢å‘æœºæ„ä¼šå°†è¯ä¹¦åŒ…æ‹¬åœ¨CAåˆ†å‘çš„å·²æ’¤é”€COS / CRLè¯ä¹¦åˆ—è¡¨ä¸­ã€‚ é€šå¸¸ï¼Œè¯ä¹¦ä¸­åŒ…æ‹¬CRLåˆ†å‘ç‚¹ã€‚ ä»å·²æ’¤é”€çš„è¯ä¹¦åˆ—è¡¨ä¸­æ£€æŸ¥è¯ä¹¦çš„æœ‰æ•ˆæ€§ã€‚ <br><br><h3>  <font color="#0000ff">é€šè¿‡SOS / CRLéªŒè¯è¯ä¹¦çš„æœ‰æ•ˆæ€§</font> </h3><br> ç¬¬ä¸€æ­¥æ˜¯è·å–SOSï¼Œç„¶åè§£æå®ƒå¹¶æ£€æŸ¥è¯ä¹¦ã€‚ <br> è¯ä¹¦æ‰©å±•åä¸ºoid 2.5.29.31ï¼ˆid-ce-cRLDistributionPointsï¼‰çš„æ˜¯COC / CRLé¢å‘ç‚¹çš„åˆ—è¡¨ï¼š <br><br><pre> <code class="plaintext hljs">array set extcert $cert_parse(extensions) set ::crlfile "" if {[info exists extcert(2.5.29.31)]} { set ::crlfile [crlpoints [lindex $extcert(2.5.29.31) 1]] } else { puts "cannot load CRL" }</code> </pre> <br> å®é™…ä½¿ç”¨SOS / CRLåŠ è½½æ–‡ä»¶å¦‚ä¸‹ï¼š <br><br><pre> <code class="plaintext hljs">set filecrl "" set pointcrl "" foreach pointcrl $::crlfile { set filecrl [readca $pointcrl $dir] if {$filecrl != ""} { set f [file join $dir [file tail $pointcrl]] set fd [open $fw] chan configure $fd -translation binary puts -nonewline $fd $filecrl close $fd set filecrl $f break } # CRL  .     CRL } if {$filecrl == ""} { puts "Cannot load CRL" }</code> </pre> <br> å®é™…ä¸Šï¼Œreadcaè¿‡ç¨‹ç”¨äºåŠ è½½COC / CRLï¼š <br><br><pre> <code class="plaintext hljs">proc readca {url dir} { set cer "" #   if { "https://" == [string range $url 0 7]} { #    tls http::register https 443 ::tls::socket } #     if {[catch {set token [http::geturl $url -binary 1] #    set ere [http::status $token] if {$ere == "ok"} { #        set code [http::ncode $token] if {$code == 200} { #      set cer [http::data $token] } elseif {$code == 301 || $code == 302} { #    ,   set newURL [dict get [http::meta $token] Location] #     set cer [readca $newURL $dir] } else { #    set cer "" } } } error]} { #   ,     set cer "" } return $cer }</code> </pre><br>  dirå˜é‡å­˜å‚¨å°†åœ¨å…¶ä¸­ä¿å­˜COS / CRLçš„ç›®å½•çš„è·¯å¾„ï¼Œè€Œurlå˜é‡åŒ…å«å…ˆå‰æ¥æ”¶åˆ°çš„CRLåˆ†å‘ç‚¹åˆ—è¡¨ã€‚ <br><br> æ”¶åˆ°SOS / CRLæ—¶ï¼Œæˆ‘çªç„¶ä¸å¾—ä¸é¢å¯¹è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå¯¹äºæŸäº›è¯ä¹¦ï¼Œè¯¥åˆ—è¡¨å¿…é¡»ä»¥åŒ¿åæ–¹å¼é€šè¿‡httpsï¼ˆtlsï¼‰åè®®æ¥æ”¶ã€‚ è€å®è¯´ï¼Œè¿™ä»¤äººæƒŠè®¶ï¼šCRLåˆ—è¡¨æ˜¯å…¬å…±æ–‡æ¡£ï¼Œå…¶å®Œæ•´æ€§å—ç”µå­ç­¾åçš„ä¿æŠ¤ï¼Œæˆ‘è®¤ä¸ºæˆ‘å¯ä»¥é€šè¿‡åŒ¿åhttpsè®¿é—®å®ƒã€‚ ä½†æ˜¯æ²¡æœ‰ä»»ä½•äº‹è¦åšï¼Œæ‚¨å¿…é¡»è¿æ¥tlsè½¯ä»¶åŒ…-è½¯ä»¶åŒ…éœ€è¦tlsã€‚ <br><br> å¦‚æœæ— æ³•ä¸‹è½½SOS / CRLï¼Œåˆ™å¦‚æœæœªåœ¨è¯ä¹¦ä¸­æŒ‡å®šå…·æœ‰OCSPæœåŠ¡çš„è®¿é—®ç‚¹ï¼Œåˆ™æ— æ³•éªŒè¯è¯ä¹¦ã€‚ ä½†è¿™å°†åœ¨ä»¥ä¸‹æ–‡ç« ä¹‹ä¸€ä¸­è®¨è®ºã€‚ <br><br> å› æ­¤ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªç”¨äºéªŒè¯çš„è¯ä¹¦ï¼Œè¿˜æœ‰ä¸€ä¸ªSOS / CRLåˆ—è¡¨ï¼Œå®ƒä»ç„¶éœ€è¦æ£€æŸ¥è¯ä¹¦ã€‚ ä¸å¹¸çš„æ˜¯ï¼Œpkiè½¯ä»¶åŒ…ä¸­æ²¡æœ‰ç›¸åº”çš„åŠŸèƒ½ã€‚ å› æ­¤ï¼Œæˆ‘å¿…é¡»ç¼–å†™ä¸€ä¸ªç¨‹åºæ¥ä»å·²æ’¤é”€çš„è¯ä¹¦åˆ—è¡¨ä¸­æ£€æŸ¥è¯ä¹¦çš„æœ‰æ•ˆæ€§ï¼ˆæœªæ’¤é”€ï¼‰ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">validaty_cert_from_crlï¼š</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">proc validaty_cert_from_crl {crl sernum issuer} { array set ret [list] if { [string range $crl 0 9 ] == "-----BEGIN" } { array set parsed_crl [::pki::_parse_pem $crl "-----BEGIN X509 CRL-----" "-----END X509 CRL-----"] set crl $parsed_crl(data) } ::asn::asnGetSequence crl crl_seq ::asn::asnGetSequence crl_seq crl_base ::asn::asnPeekByte crl_base peek_tag if {$peek_tag == 0x02} { #   .CRL ::asn::asnGetInteger crl_base ret(version) incr ret(version) } else { set ret(version) 1 } ::asn::asnGetSequence crl_base crl_full ::asn::asnGetObjectIdentifier crl_full ret(signtype) ::::asn::asnGetSequence crl_base crl_issue set ret(issue) [::pki::x509::_dn_to_string $crl_issue] #     /CRL if {$ret(issue) != $issuer } { #/CRL    set ret(error) "Bad Issuer" return [array get ret] } binary scan $crl_issue H* ret(issue_hex) #  ::asn::asnGetUTCTime crl_base ret(publishDate) #   ::asn::asnGetUTCTime crl_base ret(nextDate) #   ::asn::asnPeekByte crl_base peek_tag if {$peek_tag != 0x30} { #    return [array get ret] } ::asn::asnGetSequence crl_base lcert # binary scan $lcert H* ret(lcert) while {$lcert != ""} { ::asn::asnGetSequence lcert lcerti #    ::asn::asnGetBigInteger lcerti ret(sernumrev) set ret(sernumrev) [::math::bignum::tostr $ret(sernumrev)] #      CRL if {$ret(sernumrev) != $sernum} { continue } # .    ::asn::asnGetUTCTime lcerti ret(revokeDate) if {$lcerti != ""} { #   ::asn::asnGetSequence lcerti lcertir ::asn::asnGetSequence lcertir reasone ::asn::asnGetObjectIdentifier reasone ret(reasone) ::asn::asnGetOctetString reasone reasone2 ::asn::asnGetEnumeration reasone2 ret(reasoneData) } break; } return [array get ret] }</code> </pre></div></div><br> æ­¤åŠŸèƒ½çš„å‚æ•°æ˜¯è¯ä¹¦åŠé”€åˆ—è¡¨ï¼ˆcrlï¼‰ï¼Œè¦éªŒè¯çš„è¯ä¹¦çš„åºåˆ—å·ï¼ˆåºåˆ—å·ï¼‰åŠå…¶å‘å¸ƒè€…ï¼ˆå‘è¡Œè€…ï¼‰ã€‚ <br><br> è¯ä¹¦åŠé”€åˆ—è¡¨ï¼ˆcrlï¼‰çš„åŠ è½½æ–¹å¼å¦‚ä¸‹ï¼š <br><br><pre> <code class="plaintext hljs">set f [open $filecrl r] chan configure $f -translation binary set crl [read $f] close $f</code> </pre> <br> å·²éªŒè¯çš„è¯ä¹¦ï¼ˆåºåˆ—å·ï¼‰åŠå…¶å‘å¸ƒè€…ï¼ˆå‘è¡Œè€…ï¼‰çš„åºåˆ—å·æ¥è‡ªå·²è§£æçš„è¯ä¹¦ï¼Œå¹¶å­˜å‚¨åœ¨å˜é‡:: sncertå’Œ:: issuercertä¸­ã€‚ <br><br> æ‰€æœ‰è¿‡ç¨‹éƒ½å¯ä»¥åœ¨æºä»£ç ä¸­æ‰¾åˆ°ã€‚ å¯åœ¨æ­¤å¤„æ‰¾åˆ°è¯¥å®ç”¨ç¨‹åºçš„æºä»£ç åŠå…¶Linuxï¼ŒOS Xï¼ˆmacOSï¼‰å’ŒMS Windowså‘è¡Œç‰ˆã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">åœ¨è¿™é‡Œ</b> <div class="spoiler_text"><ul><li>  <a href="">æºä»£ç </a> </li><li>  <a href="">Linux32</a> </li><li>  <a href="">Linux64</a> </li><li>  <a href="">OS X</a> </li><li>  <a href="">WIN32</a> </li><li>  <a href="">WIN64</a> </li></ul><br></div></div><br> è¯¥å®ç”¨ç¨‹åºè¿˜å…·æœ‰æŸ¥çœ‹å’ŒéªŒè¯æ–‡ä»¶ä¸­å­˜å‚¨çš„è¯ä¹¦çš„èƒ½åŠ›ï¼š <br><br><img src="https://habrastorage.org/webt/ja/tv/nl/jatvnlolqcsggytw3nn8x51zpls.png"><br><br> é¡ºä¾¿è¯´ä¸€å¥ï¼Œä»æ–‡ä»¶ä¸­æŸ¥çœ‹çš„è¯ä¹¦ä»¥åŠå­˜å‚¨åœ¨ä»¤ç‰Œä¸­çš„è¯ä¹¦ä¹Ÿå¯ä»¥å¯¼å‡ºã€‚ è¿™æ ·å¯ä»¥è½»æ¾åœ°å°†è¯ä¹¦æ–‡ä»¶ä»DERæ ¼å¼è½¬æ¢ä¸ºPEMï¼Œåä¹‹äº¦ç„¶ã€‚ <br><br> ç°åœ¨ï¼Œæˆ‘ä»¬æœ‰äº†ä¸€ä¸ªç”¨äºæŸ¥çœ‹å­˜å‚¨åœ¨æ–‡ä»¶å’ŒPKCSï¼ƒ11ä»¤ç‰Œ/æ™ºèƒ½å¡ä¸­çš„è¯ä¹¦çš„å•ä¸€æŸ¥çœ‹å™¨ã€‚ <br><br> æ˜¯çš„ï¼Œæˆ‘é”™è¿‡äº†è¦ç‚¹ï¼šè¦æ£€æŸ¥è¯ä¹¦çš„æœ‰æ•ˆæ€§ï¼Œè¯·å•å‡»â€œé™„åŠ â€æŒ‰é’®ï¼Œç„¶åé€‰æ‹©èœå•é¡¹â€œ CRLçš„æœ‰æ•ˆæ€§â€ï¼Œæˆ–è€…æŒ‰é¼ æ ‡å³é”®ï¼Œå½“å…‰æ ‡ä½äºä¸»è¦ä¿¡æ¯ä¸Šæ—¶ï¼Œå­—æ®µï¼Œç„¶åé€‰æ‹©èœå•é¡¹â€œ CRLçš„æœ‰æ•ˆæœŸâ€ï¼š <br><br><img src="https://habrastorage.org/webt/ig/ph/rm/igphrmcbunw9b8jtkdiepfjaqpm.png"><br><br> æ­¤å±å¹•å¿«ç…§æ˜¾ç¤ºäº†äº‘ä»¤ç‰Œä¸­è¯ä¹¦çš„æµè§ˆå’ŒéªŒè¯ã€‚ <br><br> æ€»ä¹‹ï¼Œæˆ‘ä»¬æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ã€‚  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">Pas</a>ç”¨æˆ·åœ¨å¯¹<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ–‡ç« çš„</a>è¯„è®ºä¸­éå¸¸æ­£ç¡®åœ°æŒ‡å‡ºäº†PKCSï¼ƒ11ä»¤ç‰Œï¼Œä»–ä»¬â€œè‡ªå·±å¯ä»¥è®¡ç®—æ‰€æœ‰ä¸œè¥¿â€ã€‚ æ˜¯çš„ï¼Œä»¤ç‰Œå®é™…ä¸Šæ˜¯åŠ å¯†è®¡ç®—æœºã€‚ åœ¨ä»¥ä¸‹æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä¸ä»…è®¨è®ºå¦‚ä½•ä½¿ç”¨OCSPåè®®éªŒè¯è¯ä¹¦ï¼Œè¿˜å°†è®¨è®ºå¦‚ä½•ä½¿ç”¨ä»¤ç‰Œ/æ™ºèƒ½çš„åŠ å¯†æœºåˆ¶ï¼ˆå½“ç„¶ï¼Œæˆ‘ä»¬æ‰€è¯´çš„GOSTåŠ å¯†ï¼‰æ¥è®¡ç®—å“ˆå¸Œå€¼ï¼ˆGOST R 34-10-ï¼‰ 94/2012ï¼‰ï¼Œç­¾åçš„å½¢æˆå’ŒéªŒè¯ç­‰ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN443480/">https://habr.com/ru/post/zh-CN443480/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN443468/index.html">å“ªäº›ç½‘ç»œç›‘æ§å·¥å…·å·²æˆä¸ºGartnerç‰ˆæœ¬ä¸­çš„é¢†å¯¼è€…</a></li>
<li><a href="../zh-CN443470/index.html">åœ¨ä¸€ä¸ªå¤§å‹é¡¹ç›®çš„ç¤ºä¾‹ä¸Šæ‰“å­—çš„å†å²</a></li>
<li><a href="../zh-CN443472/index.html">ä¸Šäº‘æœ‰é—®é¢˜å—ï¼Ÿ å…³äºä¸æä¹±çš„7æ¡æç¤º</a></li>
<li><a href="../zh-CN443476/index.html">ã€Šæ¨¡æ‹ŸåŸå¸‚ã€‹å¦‚ä½•å¯å‘äº†æ•´ä»£åŸå¸‚è§„åˆ’å¸ˆ</a></li>
<li><a href="../zh-CN443478/index.html">ç»¼åˆä¸çœŸå®æµ‹è¯•æ•°æ®ï¼šä¼˜ç¼ºç‚¹</a></li>
<li><a href="../zh-CN443482/index.html">å®è·µä¸­çš„AIOps-åä¸ºFabricInsightèƒ½åšä»€ä¹ˆ</a></li>
<li><a href="../zh-CN443484/index.html">æœ±è‰å¨…çš„6åæ„å¤–ç”·å­</a></li>
<li><a href="../zh-CN443486/index.html">ReLEx SMILEï¼šå¦‚ä½•åœ¨é¢„æµ‹ä¸­ä¸çŠ¯é”™è¯¯</a></li>
<li><a href="../zh-CN443488/index.html">å…·æœ‰React Hooksçš„åŠŸèƒ½ç»„ä»¶ã€‚ ä»–ä»¬ä¸ºä»€ä¹ˆæ›´å¥½ï¼Ÿ</a></li>
<li><a href="../zh-CN443490/index.html">ä¸ºä»€ä¹ˆæˆ‘å‡å°‘åœ¨Debianä¸Šçš„å·¥ä½œ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>