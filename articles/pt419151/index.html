<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õµÔ∏è ü§æüèº ü§úüèø Casa inteligente: uma nova dimens√£o de conforto e busca da excel√™ncia. Parte dois üóëÔ∏è üëì üë©‚Äçüé§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Na primeira parte, falei sobre a transi√ß√£o de apenas sistemas de monitoramento para uma casa inteligente. Nesse est√°gio, chegou-se √† compreens√£o do en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Casa inteligente: uma nova dimens√£o de conforto e busca da excel√™ncia. Parte dois</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sberbank/blog/419151/"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Na primeira parte,</a> falei sobre a transi√ß√£o de apenas sistemas de monitoramento para uma casa inteligente.  Nesse est√°gio, chegou-se √† compreens√£o do enorme potencial para melhorar o conforto, e os recursos da tecnologia selecionada empolgam entusiasmo no desenvolvimento e integra√ß√£o de novos componentes. <br><br><img src="https://habrastorage.org/webt/hy/yv/pf/hyyvpfrqg1tx-jp1b5zpbtyzag8.jpeg"><br><a name="habracut"></a><br>  Considere o aspecto da "excita√ß√£o" em mais detalhes.  Ap√≥s as medidas tomadas, a casa inteligente tornou-se dif√≠cil de parar no desenvolvimento.  Ap√≥s os dispositivos WiFi USR IOT, chegou a vez do microcontrolador ESP8266, amado pelo DIY-chic.  Usei as vers√µes ESP8266-12 com as portas mini USB LoLin v3 NodeMCU e Wemos D1.  Comece destacando a imagem que j√° foi mencionada acima.  Os esbo√ßos do ESP8266 s√£o convenientemente desenvolvidos no Arduino IDE ap√≥s a conex√£o do plug-in apropriado.  L√° voc√™ pode encontrar muitos exemplos que tornam o desenvolvimento muito simples, mesmo sem prepara√ß√£o.  Portanto, a prop√≥sito, listar spreads n√£o faz muito sentido. <br><br>  <i>Na foto est√° LoLin v3 NodeMCU com ESP8266-12.</i>  <i>Conector - micro USB.</i> <br><img src="https://habrastorage.org/webt/6d/gy/9y/6dgy9y-oaxk8jdbqef4jch2z6iq.jpeg" align="left">  √â importante apenas concordar com um protocolo para interagir com o openHAB.  N√£o usei o MQTT, mas fiz a integra√ß√£o diretamente, pois isso √© mais consistente com o modelo de gerenciamento centralizado selecionado. <img src="https://habrastorage.org/webt/sd/xl/bu/sdxlbuwmwlsnbmvfmwg8ycvjy8e.jpeg" align="right">  No controlador com ESP8266, o servidor mais simples aumenta, que recebe a solicita√ß√£o, analisa e executa o comando extra√≠do.  A solicita√ß√£o √© enviada ao openHAB ("manualmente" ou como resultado da regra) usando o utilit√°rio curl.  O controlador envia a confirma√ß√£o do recebimento do comando, o valor dos par√¢metros medidos, o status dos dispositivos executivos conectados via rede local de volta ao openHAB atrav√©s de sua API REST.  No total, no momento da reda√ß√£o deste artigo, de acordo com esquemas semelhantes em uma casa inteligente, est√£o integrados 4 controladores baseados no ESP8266 e um no Arduino com um m√≥dulo Ethernet conectado.  Deixe-me lembr√°-lo de que tudo isso √© feito n√£o apenas para poder ativar ou desativar algo do seu smartphone, mas, antes de tudo, para que os dispositivos sejam ligados automaticamente quando as condi√ß√µes para isso acontecerem. <br><br>  <i>Na foto, um switch Legrand convencional, automatizado com o Wemos D1 Mini.</i>  <i>Todos os componentes cabem em uma caixa padr√£o para instala√ß√£o externa.</i>  <i>Ao mesmo tempo, mede temperatura / umidade (sensor abaixo) e ilumina√ß√£o (para o futuro).</i> <br><br>  Por exemplo, a ilumina√ß√£o de uma imagem √© ligada apenas uma vez por dia quando a casa est√° desarmada e quando o n√≠vel de luz est√° abaixo de um determinado n√≠vel e quando a hora est√° pr√≥xima da hora do p√¥r do sol.  Al√©m disso, alguns dispositivos, por exemplo, l√¢mpadas de rua n√£o possuem interruptores f√≠sicos e s√£o usados ‚Äã‚Äãprincipalmente no modo autom√°tico. <br><br>  Todo mundo que esteve no Ob ou Leroy Merlin deve ter visto conjuntos de tomadas remotamente controladas ou at√© mesmo conjuntos de iniciantes com o grande nome "casa inteligente".  A maioria deles combina comunica√ß√£o de 433 MHz e essa comunica√ß√£o √© unidirecional.  I.e.  ao enviar um comando, √© imposs√≠vel saber se ele √© recebido pelo atuador ou n√£o.  Compensa esse inconveniente de baixo custo.  Por exemplo, voc√™ pode comprar soquetes controlados e um interruptor de bateria descarregado para <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">1300</a> e <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">1400</a> rublos. <img src="https://habrastorage.org/webt/mi/dk/oh/midkohmwgow3r67kg5ixjkrvk6a.jpeg" align="left">  Tais esquemas s√£o convenientes de usar para iluminar com um fio separado, para mover ou aparecer √† medida que a ideia de design se desenvolve.  Minhas arandelas se tornaram esses elementos, remanescentes de um casti√ßal antigo e uma pequena lumin√°ria de ch√£o.  Ambos no quarto.  E o interruptor est√° convenientemente localizado na mesa de cabeceira.  Por que uma introdu√ß√£o t√£o longa?  N√£o faz sentido abandonar dispositivos que tornam a vida mais confort√°vel e completa, apenas porque eles n√£o s√£o suportados pelo sistema dom√©stico inteligente instalado.  √â f√°cil entrar nessa situa√ß√£o apostando em um √∫nico fornecedor ou em uma √∫nica tecnologia. <br><br>  <i>Na foto, um conjunto de soquetes controlados e um interruptor Brenin.</i>  <i>433MHz.</i> <br><br>  Mas temos uma casa inteligente independente de tecnologia!  Portanto, estamos procurando ousadamente um dispositivo de hub para todos os componentes de 433 MHz.  Esses hubs s√£o <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Broadlink</a> , por exemplo.  No entanto, sua desvantagem significativa √© o controle indireto, o hub deve estar conectado √† nuvem.  Como voc√™ se lembra do artigo anterior, acho que essa abordagem est√° errada, embora simples e conveniente.  Como resultado, a pesquisa termina com a decis√£o de criar um hub simplificado no Arduino.  Como perif√©rico, conectamos um receptor e um transmissor de 433MHz ao Arduino.  Em seguida, usando um esbo√ßo especial, ouvimos o c√≥digo enviado pelo transmissor no comutador Brenin e aprendemos a transmiti-lo.  Todos os esbo√ßos s√£o completamente baseados em exemplos de bibliotecas e n√£o causam dificuldades.  Al√©m disso, o c√≥digo do sinal de controle pode ser representado como uma constante no openHAB e, se desejado, expandir o n√∫mero de atuadores. <br><br><img src="https://habrastorage.org/webt/ca/sn/vz/casnvzcfsiibttvtqa1mbji55py.jpeg" align="right">  <i>Hub caseiro para dispositivos 433MHz.</i>  <i>Com o tempo, a detec√ß√£o de movimento e o controle da luz na sala da caldeira foram adicionados.</i>  <i>E controle de ar condicionado (LED-IR na capa).</i>  <i>Al√©m disso, para aumentar a estabilidade, a troca de dados com o openHAB foi transferida do nRF24L01 + para uma placa Ethernet ENC82J60, um fio da LAN √© vis√≠vel.</i> <br><br>  O que aconteceu?  Acabou a ilumina√ß√£o controlada pelo kit sem fio na sala.  Al√©m disso, tornou-se poss√≠vel controlar essa ilumina√ß√£o de uma casa inteligente.  Como voc√™ se lembra, o problema com esses sistemas √© a falta de feedback.  Isso √© parcialmente resolvido neste caso devido ao fato de que os comandos transmitidos ao disjuntor 433MHz podem ser interceptados pelo hub desenvolvido e enviados ao openHAB de forma elaborada, na qual a regra √© acionada e o status do comutador na interface muda.  I.e.  O resultado foi um sistema de pseudo-feedback.  Isso √© melhor que nada.  E, claro, est√° claro que essa abordagem n√£o √© adequada para gerenciar dispositivos cr√≠ticos.  N√£o √© confi√°vel e inseguro em termos de intercepta√ß√£o. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/f8/mu/av/f8muavvft8ct9flkw4ttr8ytzao.png"></div><br>  <i>Um elemento de design que apareceu ao longo do tempo, uma arandela.</i>  <i>Controlado por uma tomada e interruptor Brenin</i> <br><br>  Mais ainda.  Eu queria fazer mudan√ßas bonitas no segundo andar.  E, claro, controlado remotamente.  A escolha recaiu sobre os interruptores de toque <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Livolo</a> .  Eles tamb√©m est√£o em 433 MHz e, principalmente, podem conectar-se "sem zero".  Isso √© verdade se o zero e a fase completos n√£o estiverem conectados ao soquete e o interruptor estiver no circuito aberto da fonte de alimenta√ß√£o do candelabro.  Embora este n√£o seja o meu caso, vale a pena considerar essas condi√ß√µes de entrada.  Como resultado, apareceram interruptores bonitos em casa, conectados √† casa inteligente usando um hub desenvolvido anteriormente. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sw/nx/jr/swnxjroitfoeq5a5bhdatpje-nw.jpeg"></div><br>  <i>Conjunto de dois bot√µes sens√≠veis ao toque e um controle remoto Livolo.</i> <br><br>  No entanto, existem dois "buts".  O primeiro.  Os disjuntores Livolo s√£o realmente desprovidos de feedback; eles n√£o transmitem nada.  I.e.  se voc√™ ativ√°-los √† moda antiga com o dedo, a casa inteligente n√£o ver√° o estado mudar.  Obviamente, isso n√£o √© um obst√°culo para quem faz do tipo fa√ßa-voc√™-mesmo, mas decidi n√£o cercar o jardim de sensores de inclus√£o adicionais e n√£o integrar dispositivos Livolo mais semelhantes.  O segundo  N√£o foi poss√≠vel decifrar os sinais de controle do controle remoto Livolo, adquirido completo com comutadores, com uma biblioteca padr√£o; tive que procurar bibliotecas desenvolvidas por entusiastas especificamente para comutadores Livolo. <br><br>  Quero encerrar a conversa sobre a integra√ß√£o de novos componentes exatamente de onde come√ßamos no artigo anterior: com o Z-Wave. <img src="https://habrastorage.org/webt/3d/qb/z0/3dqbz0fpnvaekdsen_fp30t_wgo.jpeg" align="left">  N√£o importa o qu√£o caros sejam os dispositivos Z-Wave, sua gama est√° se expandindo gradualmente e existem atuadores que n√£o fazem sentido sozinhos ou que, por algum motivo, n√£o possuem tecnologias concorrentes.  O exemplo mais impressionante s√£o as cabe√ßas termost√°ticas controladas para aquecer radiadores.  Wireless  Outro exemplo s√£o rel√©s compactos e dimmers em caixas de soquete para transformar os comutadores existentes em inteligentes, sem alterar o design.  Al√©m disso, com feedback, ou seja,  com controle mec√¢nico preservado, a casa inteligente poder√° ver o estado dos comutadores. <br>  <i>Na foto, a cabe√ßa termost√°tica Z-Wave Grundfos no radiador no corredor.</i> <br><br>  Como funciona a integra√ß√£o?  O OpenHAB possui uma liga√ß√£o correspondente para conectar um stick USB Z-Wave.  Al√©m disso, o openHAB vem com um aplicativo HABmin especial para configurar a rede de dispositivos Z-Wave.  Portanto, conecte o pendrive <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Z-Wave.Me</a> , defina o Z-Wave de liga√ß√£o, execute o HABmin, adicione dispositivos √† rede.  Em seguida, configuramos os itens correspondentes de acordo com a documenta√ß√£o para encaderna√ß√£o, escrevemos as regras para comutadores, cabe√ßotes t√©rmicos, multi-sensores e voila.  Parece que tudo √© simples.  No entanto, isso aconteceu apenas parcialmente.  O problema √© que o HABmin funciona apenas com dispositivos registrados <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">em um banco de dados aberto</a> .  Se voc√™ comprou algum dispositivo novo ou modificou um antigo que n√£o est√° no banco de dados, n√£o poder√° configurar esse dispositivo. <img src="https://habrastorage.org/webt/zm/vf/qq/zmvfqqmdnohuze6w20enx-ajbws.jpeg" align="right">  Voc√™ pode fazer uma solicita√ß√£o de recebimento nesse banco de dados; no entanto, considerei essa abordagem fundamentalmente errada, pois os dispositivos Z-Wave t√™m uma fun√ß√£o de autodescoberta.  Essa √© uma das raz√µes da alta compatibilidade de dispositivos e controladores de diferentes fabricantes de Z-Wave.  Como resultado, tive que comprar uma licen√ßa para o controlador de software Z-Wave, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">servidor Z-Way</a> , que instalei no mesmo servidor / nettop que o openHAB.  √â usado apenas quando voc√™ precisa adicionar / remover um dispositivo √† rede Z-Wave e / ou configur√°-lo.  O resto do tempo, o controlador do software √© desligado. <br><br>  <i>Na foto - interruptores Legrand comuns.</i>  <i>Automatizado usando microm√≥dulos Z-Wave nas rosetas.</i>  <i>O inferior tornou-se um dimmer.</i> <br><br>  Como resultado, obtive cabe√ßas t√©rmicas nos radiadores, um dimmer e interruptores no soquete, soquetes controlados que medem tens√£o e pot√™ncia e at√© um multissensor (movimento, temperatura, ilumina√ß√£o).  Note-se que eu n√£o montei associa√ß√µes no n√≠vel Z-Wave, pois ainda tenho um modelo de controle centralizado.  Ou seja, apesar da possibilidade de controle direto do dispositivo-dispositivo, todos eles s√£o controlados centralmente a partir do openHAB usando regras.  Bem, ou adicionalmente mecanicamente, como √© o caso dos interruptores no soquete. <br><br>  <b>O que aconteceu em termos de casa inteligente:</b> <br><br><ol><li>  Controle de luz automatizado. </li><li>  Controlado pelas escadas no segundo andar.  Dependendo do estado de prote√ß√£o, um conjunto de regras alarmantes √© acionado ou a luz no t√©rreo fica acesa, para que seja f√°cil descer as escadas √† noite.  Como um sensor m√∫ltiplo √© usado, a temperatura do ar tamb√©m √© medida. </li><li>  Controle automatizado de v√°rios radiadores de aquecimento.  Ao armar, eles alternam para a baixa temperatura definida nas configura√ß√µes para economizar energia devido a uma distribui√ß√£o mais racional do calor.  Al√©m disso, o controle da temperatura noturna no quarto foi feito - ele diminui automaticamente em 1 grau para um sono confort√°vel.  E, √© claro, a temperatura pode ser definida em uma casa inteligente. </li><li>  Controle automatizado de toalheiro aquecido.  Agora, ele n√£o precisa ser ligado / desligado manualmente.  Al√©m disso, pode ser ligado remotamente, antes da chegada. </li></ol><br>  H√° mais uma coisa.  At√© agora, falamos sobre a integra√ß√£o de componentes f√≠sicos em uma casa inteligente.  No entanto, o openHAB permite a integra√ß√£o com sistemas de software.  Por exemplo, com DVRs de software ou c√¢meras IP.  N√£o se trata apenas de exibir imagens na interface do openHAB, o que obviamente j√° foi feito, mas tamb√©m de rea√ß√£o a eventos.  Por exemplo, se o gravador ou a c√¢mera estiver configurada para detectar movimento, esse evento poder√° ser enviado ao openHAB e usado no gerenciamento.  Na regra acima, de acender a luz √† noite ao descer as escadas, a c√¢mera usa a detec√ß√£o de movimento no primeiro andar (para n√£o acender quando subo as escadas).  Outro exemplo: no modo de seguran√ßa, voc√™ pode tirar fotos do invasor e enviar a foto por correio, e a viola√ß√£o pode ser detectada com um sensor de movimento PIR convencional, que √© muito mais eficaz do que a detec√ß√£o de movimento com uma c√¢mera ou DVR.  Al√©m disso, o sensor PIR pode ser conectado a uma casa inteligente usando tecnologia arbitr√°ria. <br><br><div class="spoiler">  <b class="spoiler_title">Um exemplo de email perturbador com a fotografia de um invasor em uma casa de h√≥spedes.</b> <div class="spoiler_text">  Felizmente, o invasor tem quarenta anos.  Detectado por um sensor PIR. <br><br><img src="https://habrastorage.org/webt/yk/nn/je/yknnjecws_dpjgvmfds_unmd5mi.jpeg"><br></div></div><br>  A integra√ß√£o com o centro de m√≠dia <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Kodi</a> tamb√©m foi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">realizada</a> , para isso existe uma liga√ß√£o especial.  Quando voc√™ inicia o v√≠deo, a luz se apaga na sala de estar; quando para, acende.  Tamb√©m fez, por precau√ß√£o, o controle de uma casa inteligente pelo pr√≥prio Kodi.  Us√°-lo √© menos conveniente que o controle remoto normal do Kore, mas √© poss√≠vel iniciar o Kodi a partir da interface dom√©stica inteligente, que o Kore n√£o sabe. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2e/xe/zz/2exezzpreyb2y_wxtnjzzmlisoi.jpeg"></div><br>  <i>P√°gina de interface com o controle Kodi e o bot√£o iniciar.</i>  <i>Acima mostra o status do player, o nome da m√∫sica, o tempo e a dura√ß√£o restantes.</i> <br><br><img src="https://habrastorage.org/webt/8a/1m/jg/8a1mjgdhurjmitlmcpda60jg7q4.jpeg" align="left">  Antecipando perguntas sobre o uso do protocolo MQTT, lembro que, com um modelo de gerenciamento centralizado, s√£o poss√≠veis links intermedi√°rios entre o servidor e os dispositivos, mas, √© claro, reduzem a confiabilidade.  Portanto, at√© agora, todos os v√≠nculos de integra√ß√£o foram diretos, sem intermedi√°rios.  No entanto, se falarmos sobre uma poss√≠vel transi√ß√£o futura ou parcial para o gerenciamento descentralizado, como potencialmente mais extens√≠vel e mais tolerante a falhas, a escolha do MQTT √© padr√£o.  Esse √© um transporte comum para pares em uma rede local. <br><br>  <i>Controlador multifuncional baseado no Raspberry Pi 3B.</i>  <i>Um sensor de temperatura e umidade, um sensor de movimento, uma c√¢mera, uma tomada controlada, um interruptor que se tornou um sensor s√£o vis√≠veis.</i> <br><br>  O OpenHAB, √© claro, tem liga√ß√£o para o MQTT.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">O</a> pr√≥prio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Mosquitto</a> √© escolhido como o pr√≥prio servidor MQTT.  Mas o que instal√°-lo √© uma pergunta.  Se voc√™ busca expl√≠cita ou explicitamente a meta de descentraliza√ß√£o do gerenciamento, colocar o Mosquitto em um nettop, que j√° se tornou um ponto √∫nico de falha, est√° errado.  E aqui a seguinte l√≥gica funcionou.  O √∫nico quarto n√£o automatizado √© uma garagem.  H√° algo a ser feito l√°: detectar movimento, acender a luz por dentro e por fora da casa, abrir e monitorar o status das portas da garagem, realizar videovigil√¢ncia, controlar a tomada de equipamentos de jardim.  E at√© algo mais que s√≥ pode ser feito em um sistema operacional completo e que se relaciona √† seguran√ßa da informa√ß√£o.  Como resultado, a escolha recai sobre o Raspberry Pi.  Possui pinos para conectar perif√©ricos DIY padr√£o e Linux completo com um grande n√∫mero de aplicativos portados.  E a c√¢mera de v√≠deo pode ser conectada a ela e transmitir o fluxo para a rede.  E, o mais importante, os recursos do sistema, diferentemente do Arduino, permitem criar l√≥gica de neg√≥cios de praticamente qualquer complexidade razo√°vel, livrando-se do openHAB.  E tudo isso pode ser programado em linguagens de programa√ß√£o familiares. <br><br>  Como resultado, todas as tarefas acima foram resolvidas, al√©m de um servidor MQTT aparecer na rede, atrav√©s do qual a intera√ß√£o com o openHAB √© organizada e que ser√° usada no futuro quando novos dispositivos com controle descentralizado aparecerem. <br><br><div class="spoiler">  <b class="spoiler_title">Detalhe interessante</b> <div class="spoiler_text">  Durante o processo de desenvolvimento, tornou-se necess√°rio medir sinais anal√≥gicos (sensor de luz, sensor de corrente, sensor de qualidade do ar).  Al√©m disso, parte dos perif√©ricos se recusou a trabalhar no Raspberry Pi 3.3V padr√£o, eles precisam de 5V.  Esses problemas foram resolvidos de forma simples e barata.  Ambas as tarefas foram realizadas pelo Arduino Nano opcional, conectado aos fios Raspberry Pi usando o protocolo I2C.  I.e.  O Arduino ainda n√£o tem l√≥gica, exceto medir par√¢metros f√≠sicos e executar comandos.  Toda a l√≥gica de neg√≥cios no Raspberry Pi e no openHAB. <br></div></div><br>  O que aconteceu no final, se voc√™ descrever em termos de modelo as caracter√≠sticas de todo o sistema no momento da reda√ß√£o? <br><br>  <b>Resumo:</b> <br><br><ul><li>  N√∫mero de sensores de temperatura: 25. </li><li>  N√∫mero de pontos de controle de luz: 37, incluindo interruptores em tandem, dimmer e pontos sem interruptores mec√¢nicos. </li><li>  Al√©m da luz, s√£o controladas uma bomba de po√ßo, uma bomba de recircula√ß√£o de √°gua quente sanit√°ria, torneiras nos galhos de aquecimento, uma caldeira, uma caldeira, port√µes autom√°ticos, radiadores de aquecimento, etc.  Umidade medida, tens√£o, corrente, ilumina√ß√£o, qualidade do ar, etc. </li></ul><br>  <b>Tecnologias utilizadas:</b> <br><br><ul><li>  Software central: openHAB com liga√ß√µes, Xeoma, servidor Z-Way, TTS, servidor Mosquitto, Kodi, aplicativos C / C ++ separados.  SO - Ubuntu. </li><li>  Controladores locais: Arduino + nRF24L01 +, Arduino + ENC82J60, ESP8266-12, Raspberry Pi 3 B, software escrito em C ++. </li><li>  Dispositivos prontos: dispositivos WiFi USR IOT, Z-Wave (rel√©s, tomadas, dimmer, sensor, cabe√ßas t√©rmicas) de diferentes fabricantes, 433MHz (interruptores com controle remoto Livolo, tomadas e comutador Brenin), gateway TCP-Modbus Schneider Electric, sensores de movimento, abertura e outros </li></ul><br><div class="spoiler">  <b class="spoiler_title">O que vem a seguir?</b> <div class="spoiler_text">  O pr√≥ximo passo √© desligar os radiadores de aquecimento ao abrir as janelas acima deles, controlar a qualidade do ar na sala de estar com lareira, detec√ß√£o de movimento mais confiante na sala de estar, etc.  Existem tarefas mais comuns: quando a estufa aparecer, automatize a rega de acordo com a temperatura e a umidade do solo. <br></div></div><br>  Em vez de uma conclus√£o.  Ainda n√£o consideramos muitos aspectos, por exemplo, controle de voz, convers√£o de texto em fala, controle de infravermelho do ar condicionado, etc.  Tudo isso √© feito e est√° funcionando.  O objetivo deste artigo foi mostrar a linha de racioc√≠nio, compartilhar experi√™ncia na escolha de solu√ß√µes, mostrar as vantagens de padr√µes e tecnologias abertas por meio de uma descri√ß√£o da facilidade de integra√ß√£o.  Tudo o que foi feito poderia ser feito de maneira diferente, melhor ou pior, mais caro ou mais barato, mais funcional ou mais confi√°vel.  Voc√™ se acostuma √†s coisas boas rapidamente e, depois de algum tempo, faz perguntas aos membros da fam√≠lia como: "Voc√™ n√£o pode fazer isso no seu smartphone?"  ou "por que esse canteiro de flores deve ser regado manualmente?"  for√ßado a seguir em frente, a perfei√ß√£o inating√≠vel. <br><br>  E tamb√©m acredito nas possibilidades ilimitadas da Internet das coisas.  Tudo o que foi feito se enquadra nessa categoria, mas essa √© apenas uma pequena parte.  Se, depois de ler este artigo, o n√∫mero de entusiastas da IoT aumentar um pouco, considerarei minha tarefa como totalmente conclu√≠da. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt419151/">https://habr.com/ru/post/pt419151/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt419141/index.html">O phishing sexual est√° ganhando for√ßa nos EUA</a></li>
<li><a href="../pt419143/index.html">Criando uma m√°quina de arcade emulador. Parte 4</a></li>
<li><a href="../pt419145/index.html">Fintech Digest: a capitaliza√ß√£o da Apple ultrapassou US $ 1 trilh√£o, a IA ajudou o eBay a aumentar a receita em bilh√µes</a></li>
<li><a href="../pt419147/index.html">Cubo 1000-dimensional: √© poss√≠vel criar hoje um modelo computacional de mem√≥ria humana?</a></li>
<li><a href="../pt419149/index.html">Guia do Mikrotik RoMON</a></li>
<li><a href="../pt419153/index.html">Memorando dos Direitos de Cyborg</a></li>
<li><a href="../pt419155/index.html">Portando JS para Elbrus</a></li>
<li><a href="../pt419159/index.html">C√≥digo JS, algarismos romanos, enigmas geom√©tricos: como criptografamos nossa era</a></li>
<li><a href="../pt419161/index.html">Modelagem da superf√≠cie da √°gua usando o processador FFT e NeuroMatrix DSP</a></li>
<li><a href="../pt419165/index.html">Enviamos SMS "an√¥nimo" do console para o n√∫mero desejado usando o servi√ßo bytehand e C ++</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>