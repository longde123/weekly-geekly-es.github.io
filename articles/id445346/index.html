<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤·ğŸ¿ ğŸŒ• ğŸ‘©ğŸ¾â€ğŸ¤â€ğŸ‘¨ğŸ» Cara menulis API yang buruk ğŸ¦Š ğŸ‘¤ ğŸ‘§ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tuliskan kode seolah-olah itu akan disertai oleh psikopat kejam yang tahu di mana Anda tinggal. 


 Halo semuanya! 


 Saya bekerja sebagai pemimpin t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Cara menulis API yang buruk</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ostrovok/blog/445346/"><p>  <em>Tuliskan kode seolah-olah itu akan disertai oleh psikopat kejam yang tahu di mana Anda tinggal.</em> </p><br><p>  Halo semuanya! </p><br><p>  Saya bekerja sebagai pemimpin tim tim Pengembangan Integrasi dalam layanan reservasi hotel online <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Ostrovok.ru</a> dan hari ini saya ingin berbagi pengalaman saya dengan berbagai API. </p><br><p><img src="https://habrastorage.org/webt/h_/fd/by/h_fdbyvhycgzkw8yvclfzzscquq.gif"></p><br><p>  Sebagai pengembang sistem yang bekerja dengan penyedia eksternal, saya sering menjumpai berbagai API - yang paling sering adalah SOAP / REST atau sesuatu yang serupa dengan mereka.  Namun, bekerja dengan banyak dari mereka meninggalkan kesan bahwa mereka ditulis, tidak dipandu oleh aturan teknis atau akal sehat - seolah-olah dari buku "Bad Advice" oleh Grigory Oster.  Pada artikel ini saya akan mencoba untuk menggambarkan kasus-kasus seperti dalam gaya "saran buruk" dan mempertimbangkan contoh-contoh yang berkaitan dengan XML.  Komentar dan diskusi dipersilakan. </p><a name="habracut"></a><br><h5 id="istoricheskaya-spravka">  Latar belakang sejarah </h5><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SOAP</a> (dari bahasa Inggris. Simple Object Access Protocol - protokol sederhana untuk mengakses objek) - protokol untuk bertukar pesan terstruktur dalam lingkungan komputasi terdistribusi.  SOAP awalnya ditujukan terutama untuk mengimplementasikan panggilan prosedur jarak jauh (RPC).  Sekarang protokol digunakan untuk bertukar pesan sewenang-wenang dalam format XML, dan bukan hanya untuk prosedur panggilan. </p><br><h4 id="perehodim-k-primeram">  Pergi ke contoh </h4><br><p>  <strong>1. Melewati xml ke url</strong> </p><br><p>  Apa yang paling diinginkan pengguna API?  Tentu saja, kesederhanaan, keandalan, dan keringkasan.  Jadi jangan baca badan permintaan, tetapi terima XML sebagai informasi yang dikodekan url sebagai parameter dari jalur permintaan!  Apa yang bisa lebih baik: </p><br><pre><code class="python hljs">http://exapmple.com/xml/form.jsp?RequestName%<span class="hljs-number"><span class="hljs-number">3</span></span>DHotelRequest2%<span class="hljs-number"><span class="hljs-number">26</span></span>XML%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">3</span></span>C%<span class="hljs-number"><span class="hljs-number">3</span></span>Fxml%<span class="hljs-number"><span class="hljs-number">2</span></span>Bversion%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">221.0</span></span>%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>Bencoding%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">22</span></span>UTF<span class="hljs-number"><span class="hljs-number">-8</span></span>%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">3</span></span>F%<span class="hljs-number"><span class="hljs-number">3</span></span>E%<span class="hljs-number"><span class="hljs-number">0</span></span>A%<span class="hljs-number"><span class="hljs-number">3</span></span>CHotelRequest2%<span class="hljs-number"><span class="hljs-number">2</span></span>BBuyerId%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">22</span></span>test%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>BUserId%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">22</span></span>test%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>BPassword%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">22</span></span>test%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>BLanguage%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">22</span></span>en%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>BHotel%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">22</span></span><span class="hljs-number"><span class="hljs-number">-100</span></span>%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>BProductCode%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">221</span></span>--%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>BArrivalDate%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">2223.12</span></span><span class="hljs-number"><span class="hljs-number">.2018</span></span>%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>BDepartureDate%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">2224.12</span></span><span class="hljs-number"><span class="hljs-number">.2018</span></span>%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>BArrivalTime%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>BDepartureTime%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>BCurrency%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">222</span></span>%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>BWhereToPay%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">223</span></span>%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>BNumberOfGuests%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">220</span></span>%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>BNumberOfExtraBedsAdult%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">220</span></span>%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>BNumberOfExtraBedsChild%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">220</span></span>%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>BNumberOfExtraBedsInfant%<span class="hljs-number"><span class="hljs-number">3</span></span>D%<span class="hljs-number"><span class="hljs-number">220</span></span>%<span class="hljs-number"><span class="hljs-number">22</span></span>%<span class="hljs-number"><span class="hljs-number">2</span></span>B%<span class="hljs-number"><span class="hljs-number">2</span></span>F%<span class="hljs-number"><span class="hljs-number">3</span></span>E</code> </pre> <br><p>  Semuanya menjadi sederhana, dan tidak perlu mengurangkan beberapa badan dari kueri - Anda tidak pernah tahu masalah apa yang mungkin ada dengannya. </p><br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text"><p>  Saya tidak tahu mengapa ini dilakukan.  Masalahnya di sini adalah sebagai berikut: banyak server memiliki batas pada panjang jalur permintaan yang dapat melewatinya.  Jika XML besar dalam volume data, maka Anda bisa menyebabkan kesalahan 413 Entitas Terlalu Besar sebagai salah satu skenario.  Selain itu, jumlah informasi meningkat, karena kami melakukan penyandian-url sebelum mengirim. </p></div></div><br><p>  <strong>2. Transfer informasi melalui objek data yang bersarang secara berlebihan</strong> </p><br><p>  Mari kita pikirkan bagaimana membuat informasi dalam jawaban sesulit mungkin?  Mari kita gunakan struktur bersarang, dan bahkan dalam format berbeda!  Tidak lebih cepat dikatakan daripada dilakukan - </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Request</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InnerRequest</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RQ</span></span></span><span class="hljs-tag">&gt;</span></span>[{"someInfo":"base64Data"}] <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RQ</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">InnerRequest</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Request</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Memang, xml tingkat atas, di dalamnya adalah xml lain, dan di dalamnya adalah json, di mana data disajikan di base64, dan lagi json di dalamnya, dan itu sudah akan berisi informasi yang kita butuhkan!  Sebuah solusi hebat, hampir seperti dongeng tentang kematian Koshchei, tersembunyi di dalam telur. </p><br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text"><p>  Salah satu kelemahan yang paling nyata adalah perlambatan dalam mem-parsing respons sampai semua struktur bersarang dilewatkan, dan setelah itu mungkin ternyata kode kesalahan ditransfer dalam json, bukan pada level yang lebih tinggi.  Saya mengerti bahwa penyandian data biner di base64 di dalam xml / json adalah praktik umum, tetapi penyandian format yang berbeda di dalam format lain sudah melampaui kebaikan dan kejahatan. </p></div></div><br><p>  <strong>3. Menambahkan informasi yang tidak terkait dengan data permintaan dan tidak valid dalam format data</strong> </p><br><p>  Misalkan XML datang kepada kami di badan permintaan, kami memprosesnya dan memberikan jawaban.  Terlihat terlalu rumit untuk sistem yang dirancang dengan baik dan sarat muatan.  Mari mewajibkan pengguna untuk mengirim tipe data di badan permintaan.  Bagaimana cara melakukannya?  Tepat di badan permintaan, tentu saja. </p><br><pre> <code class="xml hljs">XML= <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Request</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Request</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Sedemikian sederhana, kita akan selalu tahu bahwa kami menerima permintaan dalam format XML. </p><br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text"><p>  Ternyata kita harus menambahkan lebih banyak byte terkemuka ke badan permintaan yang sudah terbentuk dan hanya setelah itu dimungkinkan untuk membuat permintaan.  Beruntung jika Anda tidak perlu mengubah byte terkemuka tergantung pada jenis data permintaan.  Dalam hal ini, akan lebih baik menggunakan http Header untuk menunjukkan tipe data, dan tidak mengubah badan permintaan. </p></div></div><br><p>  <strong>4. Duplikasi data tanpa perlu</strong> </p><br><p>  Misalkan kita memiliki informasi yang sangat, sangat penting dalam struktur respons XML.  Bagaimana cara menunjukkan ini kepada pengguna?  Yang paling jelas - mari kita tunjukkan beberapa kali sebagai bagian dari jawaban, maka dia pasti akan memperhatikannya. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Response</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Obj</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Info</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Important"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ObjSetting</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Info</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Important"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Name</span></span></span><span class="hljs-tag">&gt;</span></span>SomeName<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Info</span></span></span><span class="hljs-tag">&gt;</span></span>Important<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Info</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Obj</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Response</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Setelah itu, pengguna akhir pasti akan memperhatikan bidang Info. </p><br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text"><p>  Dalam hal ini, saya memikirkannya dan bahkan bertanya kepada perusahaan yang menyediakan API tentang arti bidang Info dan apakah informasi dalam tag pada tingkat yang berbeda akan berbeda.  Jawabannya adalah: tidak, tidak akan - mereka saling menduplikasi.  Mengapa menyesatkan pengguna dan membuat jawabannya lebih sulit jika ini tidak perlu? </p></div></div><br><p>  <strong>5. Melewati parameter dari jenis yang sama secara individual, bukan array</strong> </p><br><p>  Di salah satu API yang kami gunakan untuk mencari hotel, ada bidang yang menunjukkan usia tamu.  Format presentasi apa yang paling baik digunakan untuk menyampaikan informasi ini?  Biarkan formatnya seperti ini: setiap usia akan menjadi tag XML wajib yang terpisah, dan kami akan menganggap nilai 0 sebagai tidak adanya parameter ini. </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Request</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Age1</span></span></span><span class="hljs-tag">&gt;</span></span>20<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Age</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Age2</span></span></span><span class="hljs-tag">&gt;</span></span>20<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Age</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Age3</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Age</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Age4</span></span></span><span class="hljs-tag">&gt;</span></span>0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Age</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Request</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text"><p>  Ada beberapa masalah di sini sekaligus: tidak dapat diperpanjang, informasi yang berlebihan, di samping itu, usia dapat benar-benar nol jika para tamu adalah anak-anak yang baru lahir.  Dalam hal ini, Anda perlu menggunakan array, bukan tag yang diberi nama unik. </p></div></div><br><p>  <strong>6. Meneruskan informasi dari permintaan sebelumnya sebagai bagian dari rantai panggilan API</strong> </p><br><p>  Sudah waktunya untuk memikirkan keamanan API kami.  Bagaimana kami memahami bahwa pengguna menerima informasi dari jawaban kami sebelumnya?  Biarkan dia mengirimkan jawaban kita, tentu saja! </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Request</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RequestInfo</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PreviosResp</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PreviosResp</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Request</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text"><p>  Untuk terus bekerja dengan API, perlu untuk mengirim seluruh respons sistem eksternal dari langkah-langkah sebelumnya dari API, dan bukan beberapa data penting darinya, atau bahkan hash yang pasti akan sesuai dengan jawaban ini.  Kelebihan data dengan segala kejayaannya. </p></div></div><br><p>  <strong>7. Jangan gunakan penanda kesalahan yang terjadi, seperti tag kesalahan atau kode http</strong> </p><br><p>  Kami membuat API kami yang indah dan memperkenalkannya kepada dunia.  Tapi begitu ada yang tidak beres, dan kami tidak dapat merumuskan respons kepada pengguna karena kesalahan internal.  Apa yang harus dilakukan dalam kasus ini?  Berikan templat respons, tanpa data, tanpa kode kesalahan atau informasi lainnya.  Tidak seorang pun harus tahu bahwa API ideal kami terkadang tidak berfungsi! <br>  Contoh jawaban seperti itu: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Response</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ImportantInfo</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Response</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  - dengan kode respons 200 OK. </p><br><div class="spoiler">  <b class="spoiler_title">Spoiler</b> <div class="spoiler_text"><p>  Membuat kesalahan yang dibuat adalah praktik yang sangat buruk.  Masalahnya adalah segala sesuatu tampak seolah-olah tidak ada masalah dalam jawaban: tidak ada <code>&lt;Error&gt;</code> , status http mengatakan bahwa semuanya beres.  Dalam hal ini, perlu untuk melakukan validasi tambahan atas informasi yang diterima sehingga tidak ada konsekuensi yang tidak terduga dalam sistem kami. </p></div></div><br><p>  <strong>Kesimpulan</strong> <br>  Meskipun sejumlah besar dokumentasi tentang bekerja dengan teknologi SOAP / XML dan desain API, banyak masalah masih relevan, dan beberapa solusi bertentangan dengan akal sehat.  Saya berharap bahwa dengan artikel ini saya akan dapat menarik perhatian pengembang untuk bukan pendekatan yang paling sukses untuk mengurangi jumlah mereka di masa depan. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id445346/">https://habr.com/ru/post/id445346/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id445334/index.html">Kami memiliki DevOps. Mari kita memecat semua penguji</a></li>
<li><a href="../id445336/index.html">FlexiRemapÂ® vs RAID</a></li>
<li><a href="../id445338/index.html">DHCP + server Mysql dengan Python</a></li>
<li><a href="../id445340/index.html">Tingkatkan keamanan jaringan dengan menggunakan cloud analyzer</a></li>
<li><a href="../id445344/index.html">OpenVox Unified Communications Platform</a></li>
<li><a href="../id445348/index.html">SNA Hackathon 2019: Menyederhanakan Arsitektur - Menyederhanakan Fitur</a></li>
<li><a href="../id445350/index.html">Sonata - server penyedia SIP</a></li>
<li><a href="../id445352/index.html">Aplikasi Streaming Terstruktur Spark di Kubernetes. Pengalaman CEPAT RUS</a></li>
<li><a href="../id445354/index.html">Menemukan objek dalam gambar</a></li>
<li><a href="../id445356/index.html">Tinjauan umum bagian Seluler di DUMP-2019: maksimum diterapkan dan berguna dalam pekerjaan sehari-hari</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>