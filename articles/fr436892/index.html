<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õπüèº üîõ üöé Tutoriel React, partie 11: Formation de balisage dynamique et m√©thode du tableau de cartes üõ∂ üë©üèæ‚Äçü§ù‚Äçüë®üèø üëêüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans la partie d'aujourd'hui de la traduction du cours de formation React, nous parlerons de l'utilisation de la m√©thode de tableau standard map () po...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tutoriel React, partie 11: Formation de balisage dynamique et m√©thode du tableau de cartes</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/436892/">  Dans la partie d'aujourd'hui de la traduction du cours de formation React, nous parlerons de l'utilisation de la m√©thode de tableau standard map () pour organiser la formation dynamique du balisage JSX d√©crivant des ensembles d'√©l√©ments du m√™me type. <br><br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/kv/3m/yg/kv3mygzwigixivdzbagb80fvlvi.png" alt="image"></a> <br><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 1: aper√ßu du cours, raisons de la popularit√© de React, ReactDOM et JSX</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 2: composants fonctionnels</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 3: fichiers composants, structure du projet</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 4: composants parent et enfant</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 5: d√©but des travaux sur une application TODO, les bases du style</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 6: sur certaines fonctionnalit√©s du cours, JSX et JavaScript</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 7: styles en ligne</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 8: poursuite des travaux sur l'application TODO, familiarit√© avec les propri√©t√©s des composants</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 9: propri√©t√©s des composants</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 10: Atelier sur l'utilisation des propri√©t√©s et du style des composants</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 11: g√©n√©ration de balisage dynamique et m√©thode des tableaux de cartes</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 12: atelier, troisi√®me √©tape de travail sur une application TODO</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 13: composants bas√©s sur les classes</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 14: atelier sur les composants bas√©s sur les classes, √©tat des composants</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 15: ateliers sant√© composante</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 16: quatri√®me √©tape de travail sur une application TODO, gestion d'√©v√©nements</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 17: cinqui√®me √©tape de travail sur une application TODO, modifiant l'√©tat des composants</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 18: la sixi√®me √©tape de travail sur une application TODO</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 19: m√©thodes du cycle de vie des composants</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 20: la premi√®re le√ßon de rendu conditionnel</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 21: deuxi√®me le√ßon et atelier sur le rendu conditionnel</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 22: la septi√®me √©tape des travaux sur une application TODO, t√©l√©chargement de donn√©es depuis des sources externes</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 23: premi√®re le√ßon sur l'utilisation des formulaires</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 24: Deuxi√®me le√ßon sur les formulaires</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 25: Atelier sur l'utilisation des formulaires</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 26: architecture d'application, mod√®le de conteneur / composant</a> <br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Partie 27: projet de cours</a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Le√ßon 21. G√©n√©ration de balisage dynamique et m√©thode des tableaux de cartes</font> </h2><br>  ‚Üí <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Original</a> <br><br>  Nous continuerons le travail √† partir du moment o√π nous nous serons arr√™t√©s pour achever la t√¢che pratique pr√©c√©dente.  Rappelez-vous <code>App.js</code> le code du fichier <code>App.js</code> ressemblait √† ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Joke <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./Joke"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (       &lt;div&gt;           &lt;Joke punchLine="It's hard to explain puns to kleptomaniacs because they always take things literally." /&gt;                     &lt;Joke               question="What's the best thing about Switzerland?"               punchLine="I don't know, but the flag is a big plus!"           /&gt;                     &lt;Joke               question="Did you hear about the mathematician who's afraid of negative numbers?"               punchLine="He'll stop at nothing to avoid them!"           /&gt;                     &lt;Joke               question="Hear about the new restaurant called Karma?"               punchLine="There's no menu: You get what you deserve."           /&gt;                     &lt;Joke               question="Did you hear about the actor who fell through the floorboards?"               punchLine="He was just going through a stage."           /&gt;                     &lt;Joke               question="Did you hear about the claustrophobic astronaut?"               punchLine="He just needed a little space."           /&gt;                 &lt;/div&gt;   ) } export default App</code> </pre> <br>  Le composant <code>App</code> affiche un ensemble de composants <code>Joke</code> .  Voici √† quoi ressemble la page d'application √† ce stade du travail. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/65f/692/479/65f69247905cec91711f159f6a15e62a.png"></div><br>  <i><font color="#999999">Page d'application</font></i> <br><br>  Les propri√©t√©s <code>question</code> et <code>punchLine</code> sont transmises √† certains de ces composants, et uniquement <code>punchLine</code> √† <code>punchLine</code> .  Les valeurs de ces propri√©t√©s sont d√©sormais d√©finies dans le code d'instanciation du composant <code>Joke</code> en texte brut.  En r√©alit√©, la majeure partie des donn√©es affich√©es sur les pages des applications React p√©n√®tre dans l'application √† la suite de requ√™tes HTTP adress√©es √† certaines API.  Ces API sont prises en charge au moyen de serveurs qui r√©cup√®rent les informations des bases de donn√©es, les mettent en forme sous forme de code JSON et envoient ce code aux parties clientes des applications.  Nous n'avons pas encore atteint un tel niveau pour r√©pondre aux demandes d'API. Par cons√©quent, en tant que source de donn√©es, nous allons utiliser un fichier contenant des donn√©es qui pourraient √™tre obtenues en analysant la r√©ponse JSON du serveur.  √Ä savoir, ce sera un fichier <code>jokesData.js</code> avec le contenu suivant: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> jokesData = [   {       <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,       <span class="hljs-attr"><span class="hljs-attr">punchLine</span></span>: <span class="hljs-string"><span class="hljs-string">"It's hard to explain puns to kleptomaniacs because they always take things literally."</span></span>   },   {       <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>,       <span class="hljs-attr"><span class="hljs-attr">question</span></span>: <span class="hljs-string"><span class="hljs-string">"What's the best thing about Switzerland?"</span></span>,       <span class="hljs-attr"><span class="hljs-attr">punchLine</span></span>: <span class="hljs-string"><span class="hljs-string">"I don't know, but the flag is a big plus!"</span></span>   },   {       <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>,       <span class="hljs-attr"><span class="hljs-attr">question</span></span>: <span class="hljs-string"><span class="hljs-string">"Did you hear about the mathematician who's afraid of negative numbers?"</span></span>,       <span class="hljs-attr"><span class="hljs-attr">punchLine</span></span>: <span class="hljs-string"><span class="hljs-string">"He'll stop at nothing to avoid them!"</span></span>   },   {       <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">4</span></span>,       <span class="hljs-attr"><span class="hljs-attr">question</span></span>: <span class="hljs-string"><span class="hljs-string">"Hear about the new restaurant called Karma?"</span></span>,       <span class="hljs-attr"><span class="hljs-attr">punchLine</span></span>: <span class="hljs-string"><span class="hljs-string">"There's no menu: You get what you deserve."</span></span>   },   {       <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">5</span></span>,       <span class="hljs-attr"><span class="hljs-attr">question</span></span>: <span class="hljs-string"><span class="hljs-string">"Did you hear about the actor who fell through the floorboards?"</span></span>,       <span class="hljs-attr"><span class="hljs-attr">punchLine</span></span>: <span class="hljs-string"><span class="hljs-string">"He was just going through a stage."</span></span>   },   {       <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">6</span></span>,       <span class="hljs-attr"><span class="hljs-attr">question</span></span>: <span class="hljs-string"><span class="hljs-string">"Did you hear about the claustrophobic astronaut?"</span></span>,       <span class="hljs-attr"><span class="hljs-attr">punchLine</span></span>: <span class="hljs-string"><span class="hljs-string">"He just needed a little space."</span></span>   } ] <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> jokesData</code> </pre> <br>  Ce fichier sera situ√© dans le r√©pertoire <code>src</code> de notre projet. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d5e/ea7/178/d5eea71789f68d50bb17fd14a06c082b.png"></div><br>  <i><font color="#999999">Nouveau fichier dans le dossier src</font></i> <br><br>  En fait, il contient un tableau d'objets.  Un tableau similaire peut √™tre obtenu en analysant les donn√©es JSON re√ßues d'une certaine API.  Nous exportons √† partir de ce fichier un tableau de <code>jokesData</code> .  Si n√©cessaire, nous pouvons importer ce fichier dans le composant dans lequel il est n√©cessaire et imaginer que nous travaillons non pas avec les donn√©es extraites du fichier, mais avec ce qui nous a renvoy√© une API. <br><br>  Maintenant que nous avons un tableau de donn√©es source, r√©fl√©chissons √† la fa√ßon de transformer ces donn√©es en un ensemble d'instances de composants React. <br><br>  De nombreux d√©veloppeurs disent que gr√¢ce √† la ma√Ætrise de React, ils en ont appris plus sur JavaScript.  La raison en est que des actions similaires √† celle dont nous allons parler dans d'autres cadres comme Angular et Vue sont effectu√©es √† l'aide de certains outils sp√©ciaux.  Et dans React, cela se fait en utilisant du JavaScript standard. <br><br>  En particulier, nous pr√©voyons d'utiliser certaines m√©thodes standard de tableaux, qui sont des fonctions d'ordre sup√©rieur.  Ces m√©thodes peuvent, comme arguments, accepter les fonctions d√©crites par les programmeurs.  Ce sont ces fonctions qui d√©terminent ce qu'un appel √† l'une ou l'autre m√©thode standard fera avec les √©l√©ments du tableau. <br><br>  Supposons que nous ayons un tableau num√©rique: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> nums = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>]</code> </pre> <br>  Nous pouvons traiter ce tableau √† l'aide de la m√©thode de tableau standard <code>map()</code> , en lui passant une certaine fonction qui d√©finit l'ordre de conversion des √©l√©ments de ce tableau.  Dans notre cas, cette fonction transmettra, un √† la fois, les num√©ros de ce tableau.  Une fonction peut faire n'importe quoi avec eux, apr√®s quoi ce qu'elle retourne ira √† un nouveau tableau, √† un √©l√©ment dont l'index correspond √† l'index de l'√©l√©ment en cours de traitement.  Si nous devons former un nouveau tableau, dont les √©l√©ments sont des √©l√©ments du tableau d'origine, multipli√©s par 2, alors cela ressemblera √† ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> doubled = nums.map(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">num</span></span></span><span class="hljs-function">) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> num * <span class="hljs-number"><span class="hljs-number">2</span></span> })</code> </pre> <br>  V√©rifiez le fonctionnement de ce code: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(doubled) <span class="hljs-comment"><span class="hljs-comment">// [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]</span></span></code> </pre> <br>  Si vous n'avez jamais rencontr√© de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">m√©thodes de tableau</a> auparavant - telles que <code>map()</code> , <code>filter()</code> , <code>reduce()</code> et autres - il est recommand√© de les g√©rer. <br><br>  Ici, nous allons utiliser la m√©thode <code>map()</code> pour g√©n√©rer automatiquement une liste d'instances de composants. <br><br>  Revenons √† notre exemple.  Importez le fichier <code>App.js</code> dans le fichier <code>App.js</code>  C'est fait comme ceci: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> jokesData <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./jokesData"</span></span></code> </pre> <br>  Apr√®s cela, dans le code du programme, nous pouvons travailler avec le tableau <code>jokesData</code> .  √Ä savoir, nous allons utiliser la m√©thode <code>map()</code> .  Voici √† quoi ressemblera le ¬´blanc¬ª de cette m√©thode. <br><br><pre> <code class="javascript hljs">jokesData.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">joke</span></span></span><span class="hljs-function"> =&gt;</span></span> { })</code> </pre> <br>  Notez que nous transmettons ici la fonction fl√®che √† la m√©thode <code>map()</code> .  Dans notre cas, cela nous permet de rendre le code plus compact.  Puisque la fonction ne prend qu'un seul param√®tre ( <code>joke</code> ), nous, lorsqu'elle est d√©clar√©e, pouvons nous passer de parenth√®ses. <br><br>  De la fonction pass√©e √† la m√©thode <code>map()</code> , nous voulons renvoyer une nouvelle instance du composant <code>Joke</code> , √† laquelle les propri√©t√©s <code>question</code> et <code>punchLine</code> de l'√©l√©ment du tableau <code>jokesData</code> re√ßu sont <code>jokesData</code> .  Voici √† quoi cela pourrait ressembler: <br><br><pre> <code class="javascript hljs">jokesData.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">joke</span></span></span><span class="hljs-function"> =&gt;</span></span> {   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (   <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Joke</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">question</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{joke.question}</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">punchLine</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{joke.punchLine}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">   ) })</span></span></code> </pre> <br>  Ce code peut √™tre raccourci si deux faits sont pris en compte.  Tout d'abord, <code>return</code> ne renvoie qu'un seul √©l√©ment, vous pouvez donc placer cet √©l√©ment imm√©diatement apr√®s le <code>return</code> , √©liminant ainsi le besoin de parenth√®ses.  Deuxi√®mement, la fonction fl√®che ne contient que l'op√©ration de retour d'une certaine valeur, par cons√©quent, lors de la d√©claration d'une telle fonction, vous pouvez vous passer du mot cl√© <code>return</code> et sans accolades.  De plus, nous rappelons qu'√† la suite de la m√©thode <code>map()</code> , un nouveau tableau est form√©.  Ce tableau doit √™tre enregistr√© quelque part.  Toutes ces consid√©rations nous conduisent √† ce qui suit: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> jokeComponents = jokesData.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">joke</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;Joke question={joke.question} punchLine={joke.punchLine} /&gt;)</code> </pre> <br>  La constante <code>jokeComponents</code> d√©sormais un tableau, dont chaque √©l√©ment est une description d'une instance du composant <code>Joke</code> avec les propri√©t√©s <code>question</code> et <code>punchLine</code> sont transmises. <br><br>  Que faisons-nous maintenant avec cette gamme de composants?  React le rend tr√®s pratique pour travailler avec de tels tableaux.  √Ä savoir, nous parlons du fait qu'un tel tableau peut √™tre utilis√© dans le code JSX.  Voici √† quoi ressemblera maintenant le code du fichier d' <code>App</code> : <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> React <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"react"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Joke <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./Joke"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> jokesData <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">"./jokesData"</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">App</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> jokeComponents = jokesData.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">joke</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;Joke question={joke.question} punchLine={joke.punchLine} /&gt;)       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (       <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">           {jokeComponents}       </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>   ) } <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> App</code> </pre> <br>  Apr√®s cela, la page d'application aura la m√™me apparence qu'auparavant, cependant, vous verrez l'avertissement suivant dans la console du navigateur: <br><br><pre> <code class="javascript hljs">Warning: Each child <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> an array or iterator should have a unique <span class="hljs-string"><span class="hljs-string">"key"</span></span> prop. Check the render method <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-string"><span class="hljs-string">`App`</span></span>. See https:<span class="hljs-comment"><span class="hljs-comment">//fb.me/react-warning-keys for more information.   in Joke (at App.js:7)   in App (at src/index.js:6)</span></span></code> </pre> <br>  Sa signification se r√©sume au fait que les √©l√©ments du tableau doivent avoir une propri√©t√© de <code>key</code> unique.  Nous n'entrerons pas dans les d√©tails concernant les raisons pour lesquelles React attend la propri√©t√© de <code>key</code> unique <code>key</code> composants en double.  Il nous suffit de prendre en compte le fait que, lors de la cr√©ation en bloc d'instances de composant, comme celle que nous venons d'effectuer √† l'aide de la m√©thode <code>map()</code> , les instances doivent passer la propri√©t√© <code>key</code> .  De plus, une telle propri√©t√© peut √™tre transmise √† l'instance de composant elle-m√™me et, par exemple, √† la <code>&lt;div&gt;</code> , dans laquelle le code du composant est inclus.  Cela ne joue pas un r√¥le sp√©cial. <br><br>  Ainsi, la propri√©t√© <code>key</code> doit √™tre affect√©e d'une valeur unique.  En r√®gle g√©n√©rale, dans les objets de donn√©es re√ßus de l'API, il existe des identificateurs (propri√©t√©s comme <code>id</code> ).  L'essentiel pour nous est leur caract√®re unique.  Par exemple, nous pourrions d√©finir la propri√©t√© <code>key</code> sur <code>joke.question</code> - tous les textes de ces propri√©t√©s sont uniques dans notre application.  Mais nous ferons autrement.  Rappelez-vous √† quoi <code>jokesData.js</code> les objets contenant des donn√©es du tableau que nous avons export√© √† partir du fichier <code>jokesData.js</code> .  En voici un fragment: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> jokesData = [   {       <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,       <span class="hljs-attr"><span class="hljs-attr">punchLine</span></span>: <span class="hljs-string"><span class="hljs-string">"It's hard to explain puns to kleptomaniacs because they always take things literally."</span></span>   },   {       <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>,       <span class="hljs-attr"><span class="hljs-attr">question</span></span>: <span class="hljs-string"><span class="hljs-string">"What's the best thing about Switzerland?"</span></span>,       <span class="hljs-attr"><span class="hljs-attr">punchLine</span></span>: <span class="hljs-string"><span class="hljs-string">"I don't know, but the flag is a big plus!"</span></span>   }, ... ]</code> </pre> <br>  Chaque objet a une propri√©t√© <code>id</code> , dont nous maintenons l'unicit√© de mani√®re ind√©pendante.  Ce sont les valeurs de ces propri√©t√©s qui peuvent √™tre utilis√©es comme valeurs pour la propri√©t√© <code>key</code> . <br><br>  Maintenant, le code pour cr√©er un tableau d'instances de composants dans <code>App.js</code> prendra la forme suivante: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> jokeComponents = jokesData.map(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">joke</span></span></span><span class="hljs-function"> =&gt;</span></span> &lt;Joke key={joke.id} question={joke.question} punchLine={joke.punchLine} /&gt;)</code> </pre> <br>  Si vous apportez cette modification dans le code, regardez la page d'application dans le navigateur et v√©rifiez le contenu de la console, il s'av√®re que la notification concernant la propri√©t√© de <code>key</code> a disparu. <br><br>  Apr√®s toutes les transformations que nous avons soumises au projet, l'apparence de la page d'application n'a pas chang√©.  Cependant, le code du composant <code>App</code> est devenu beaucoup plus court et plus clair, et les donn√©es pour former la liste des composants proviennent d√©sormais de quelque chose qui ressemble fortement √† une source de donn√©es externe.  C'est de cette fa√ßon que fonctionnent les applications r√©elles. <br><br>  En outre, il convient de noter que le c≈ìur de la modification de code ci-dessus √©tait l'utilisation de la m√©thode de tableau standard <code>map()</code> .  Nous avons utilis√© la technique de cr√©ation d'une liste d'instances du composant <code>Joke</code> dans le composant <code>App</code> , mais rien ne nous emp√™che, si n√©cessaire, d'utiliser la m√™me approche dans le composant <code>Joke</code> , qui peut, en fonction des donn√©es qui lui sont transf√©r√©es, cr√©er notre propre liste d'instances d'un certain composant. <br><br>  En m√™me temps, comme nous l'avons d√©j√† dit, parmi les m√©thodes standard de tableaux, vous pouvez trouver d'autres outils int√©ressants.  Par exemple, la m√©thode <code>sort()</code> peut √™tre utilis√©e pour trier les √©l√©ments d'un tableau par un attribut.  La m√©thode <code>filter()</code> peut √™tre utilis√©e pour s√©lectionner uniquement les √©l√©ments du tableau qui r√©pondent √† certains crit√®res.  Tout cela s'applique au travail avec des tableaux contenant des instances de composants. <br><br>  Si vous le souhaitez, vous pouvez exp√©rimenter ces m√©thodes.  Imaginons essayer d'utiliser la m√©thode <code>filter()</code> et supprimer de la sortie g√©n√©r√©e par le composant <code>App</code> les instances du composant <code>Joke</code> dont la propri√©t√© <code>question</code> ne d√©passe pas la longueur sp√©cifi√©e.  Ou assurez-vous que seuls les composants pour lesquels la propri√©t√© <code>question</code> et la propri√©t√© <code>punchLine</code> sont <code>punchLine</code> . <br><br><h2>  <font color="#3AC1EF">R√©sum√©</font> </h2><br>  Aujourd'hui, nous avons parl√© de l'utilisation de la m√©thode de tableau standard <code>map()</code> pour compiler des listes de composants, et avons √©galement discut√© des possibilit√©s que d'autres m√©thodes de tableau standard nous offrent.  La prochaine fois, vous aurez une le√ßon pratique sur le mat√©riel √©tudi√© aujourd'hui. <br><br>  <b>Chers lecteurs!</b>  Comment r√©soudriez-vous le probl√®me de l'affichage par le composant App uniquement des instances du composant Joke dont la propri√©t√© question d√©passe la longueur sp√©cifi√©e? <br><br><div style="text-align:center;"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr436892/">https://habr.com/ru/post/fr436892/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr436880/index.html">Notions de base sur les mod√®les C ++: mod√®les de fonctions</a></li>
<li><a href="../fr436884/index.html">Nous ma√Ætrisons async / wait sur un exemple r√©el</a></li>
<li><a href="../fr436886/index.html">Utiliser Babel et Webpack pour configurer un projet React √† partir de z√©ro</a></li>
<li><a href="../fr436888/index.html">Histoire sur la conception d'une API</a></li>
<li><a href="../fr436890/index.html">Tutoriel React Partie 10: Atelier sur l'utilisation des propri√©t√©s et du style des composants</a></li>
<li><a href="../fr436894/index.html">Apocalypse informatique rampante. De nouveaux services cloud laisseront certains ing√©nieurs sans emploi</a></li>
<li><a href="../fr436896/index.html">docker-pretty-ps - enfin un ps docker lisible</a></li>
<li><a href="../fr436900/index.html">FunTech ML-meetup</a></li>
<li><a href="../fr436904/index.html">Seuil de 32 Ko pour les donn√©es dans la ROM des microcontr√¥leurs AVR</a></li>
<li><a href="../fr436908/index.html">6 fa√ßons de masquer des donn√©es dans une application Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>