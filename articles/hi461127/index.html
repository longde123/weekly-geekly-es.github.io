<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯШк ЁЯдЫЁЯП╗ ЁЯСйЁЯП┐тАНЁЯдЭтАНЁЯСиЁЯП╝ VMware vSphere рдореЗрдВ рд╡реАрдПрдо рдкреНрд░рджрд░реНрд╢рди рд╡рд┐рд╢реНрд▓реЗрд╖рдгред рднрд╛рдЧ 3: рднрдВрдбрд╛рд░рдг ЁЯдж ЁЯШЖ ЁЯЫНя╕П</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рднрд╛рдЧ 1. рд╕реАрдкреАрдпреВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ 
 рднрд╛рдЧ 2. рдореЗрдореЛрд░реА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ 

 рдЖрдЬ рд╣рдо vSphere рдореЗрдВ рдбрд┐рд╕реНрдХ рд╕рдмрд╕рд┐рд╕реНрдЯрдо рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВрдЧреЗред рд╕реНрдЯреЛрд░реЗрдЬ рдХреА рд╕рдорд╕реНрдпрд╛ рдзреАрдореА рд╡рд░реНрдЪреБрдЕрд▓...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>VMware vSphere рдореЗрдВ рд╡реАрдПрдо рдкреНрд░рджрд░реНрд╢рди рд╡рд┐рд╢реНрд▓реЗрд╖рдгред рднрд╛рдЧ 3: рднрдВрдбрд╛рд░рдг</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataline/blog/461127/"><img src="https://habrastorage.org/webt/2z/yj/ri/2zyjri-ljt0oq1lfki5jwlxuyuc.png"><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рднрд╛рдЧ 1. рд╕реАрдкреАрдпреВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рднрд╛рдЧ 2. рдореЗрдореЛрд░реА рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ</a> <br><br>  рдЖрдЬ рд╣рдо vSphere рдореЗрдВ рдбрд┐рд╕реНрдХ рд╕рдмрд╕рд┐рд╕реНрдЯрдо рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реЗрдВрдЧреЗред  рд╕реНрдЯреЛрд░реЗрдЬ рдХреА рд╕рдорд╕реНрдпрд╛ рдзреАрдореА рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреЗ рд▓рд┐рдП рд╕рдмрд╕реЗ рдЖрдо рдХрд╛рд░рдг рд╣реИред  рдпрджрд┐ рд╕реАрдкреАрдпреВ рдФрд░ рд░реИрдо рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рд╣рд╛рдЗрдкрд░рд╡рд┐рдЬрд░ рд╕реНрддрд░ рдкрд░ рд╕рдорд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдбрд┐рд╕реНрдХ рдХреЗ рд╕рд╛рде рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рд╕рд╛рде, рдЖрдкрдХреЛ рдбреЗрдЯрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рд╕реНрдЯреЛрд░реЗрдЬ рд╕рд┐рд╕реНрдЯрдо рд╕реЗ рдирд┐рдкрдЯрдирд╛ рдкрдбрд╝ рд╕рдХрддрд╛ рд╣реИред <br><br>  рдореИрдВ рднрдВрдбрд╛рд░рдг рддрдХ рдмреНрд▓реЙрдХ рдкрд╣реБрдВрдЪ рдХреЗ рдЙрджрд╛рд╣рд░рдг рдкрд░ рд╡рд┐рд╖рдп рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░реВрдВрдЧрд╛, рд╣рд╛рд▓рд╛рдВрдХрд┐ рдлрд╝рд╛рдЗрд▓ рдПрдХреНрд╕реЗрд╕ рдХреЗ рд╕рд╛рде рдХрд╛рдЙрдВрдЯрд░ рд▓рдЧрднрдЧ рд╕рдорд╛рди рд╣реИрдВред <br><a name="habracut"></a><br><h3>  рд╕рд┐рджреНрдзрд╛рдВрдд рдХреА рдмрд┐рдЯ </h3><br>  рдЬрдм рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрдиреЛрдВ рдХреЗ рдбрд┐рд╕реНрдХ рд╕рдмрд╕рд┐рд╕реНрдЯрдо рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХреА рдЬрд╛рддреА рд╣реИ, рддреЛ рдЖрдорддреМрд░ рдкрд░ рддреАрди рд╕рдВрдмрдВрдзрд┐рдд рдорд╛рдкрджрдВрдбреЛрдВ рдкрд░ рдзреНрдпрд╛рди рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><ul><li>  рдЗрдирдкреБрдЯ / рдЖрдЙрдЯрдкреБрдЯ рд╕рдВрдЪрд╛рд▓рди рдХреА рд╕рдВрдЦреНрдпрд╛ (рдЗрдирдкреБрдЯ / рдЖрдЙрдЯрдкреБрдЯ рдСрдкрд░реЗрд╢рди рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб, IOPS); </li><li>  рдмреИрдВрдбрд╡рд┐рдбреНрде (рдереНрд░реВрдкреБрдЯ); </li><li>  рдЗрдирдкреБрдЯ / рдЖрдЙрдЯрдкреБрдЯ рд╕рдВрдЪрд╛рд▓рди рдХреА рд╡рд┐рд▓рдВрдмрддрд╛ (рд╡рд┐рд▓рдВрдмрддрд╛)ред </li></ul><br>  <b>рдЖрдИрдУрдкреАрдПрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛</b> рдЖрдорддреМрд░ рдкрд░ рдпрд╛рджреГрдЪреНрдЫрд┐рдХ рдХрд╛рд░реНрдпрднрд╛рд░ рдХреЗ рд▓рд┐рдП рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ: рд╡рд┐рднрд┐рдиреНрди рд╕реНрдерд╛рдиреЛрдВ рдкрд░ рд╕реНрдерд┐рдд рдбрд┐рд╕реНрдХ рдкрд░ рдмреНрд▓реЙрдХ рддрдХ рдкрд╣реБрдВрдЪред  рдбреЗрдЯрд╛рдмреЗрд╕, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдЕрдиреБрдкреНрд░рдпреЛрдЧ (рдИрдЖрд░рдкреА, рд╕реАрдЖрд░рдПрдо), рдЖрджрд┐ рдРрд╕реЗ рднрд╛рд░ рдХреЗ рдЙрджрд╛рд╣рд░рдг рдХреЗ рд░реВрдк рдореЗрдВ рдХрд╛рд░реНрдп рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдЕрдиреБрдХреНрд░рдорд┐рдХ рднрд╛рд░ рдХреЗ рд▓рд┐рдП <b>рдереНрд░реВрдкреБрдЯ</b> рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ: рдПрдХ рдХреЗ рдмрд╛рдж рдПрдХ рд╕реНрдерд┐рдд рдмреНрд▓реЙрдХреЛрдВ рддрдХ рдкрд╣реБрдВрдЪред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдлрд╝рд╛рдЗрд▓ рд╕рд░реНрд╡рд░ (рд▓реЗрдХрд┐рди рд╣рдореЗрд╢рд╛ рдирд╣реАрдВ) рдФрд░ рд╡реАрдбрд┐рдпреЛ рдирд┐рдЧрд░рд╛рдиреА рдкреНрд░рдгрд╛рд▓реА рдЗрд╕ рддрд░рд╣ рдХреЗ рд▓реЛрдб рдХреЛ рдЙрддреНрдкрдиреНрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред <br><br>  рдереНрд░реВрдкреБрдЯ рдирд┐рдореНрдирд╛рдиреБрд╕рд╛рд░ I / O рд╕рдВрдЪрд╛рд▓рди рдХреА рд╕рдВрдЦреНрдпрд╛ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИ: <br><br>  <i>рдереНрд░реВрдкреБрдЯ = IOPS * рдмреНрд▓реЙрдХ рдЖрдХрд╛рд░</i> , рдЬрд╣рд╛рдВ рдмреНрд▓реЙрдХ рдЖрдХрд╛рд░ рдмреНрд▓реЙрдХ рдХрд╛ рдЖрдХрд╛рд░ рд╣реИред <br><br>  рдмреНрд▓реЙрдХ рдЖрдХрд╛рд░ рдПрдХ рдмрд╣реБрдд рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╡рд┐рд╢реЗрд╖рддрд╛ рд╣реИред  рдЖрдзреБрдирд┐рдХ ESXi рд╕рдВрд╕реНрдХрд░рдг 32,767 KB рдЖрдХрд╛рд░ рддрдХ рдХреЗ рдмреНрд▓реЙрдХ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред  рдпрджрд┐ рдмреНрд▓реЙрдХ рдФрд░ рднреА рдмрдбрд╝рд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ рдХрдИ рдореЗрдВ рдмрд╛рдВрдЯрд╛ рдЧрдпрд╛ рд╣реИред  рд╕рднреА рд╕реНрдЯреЛрд░реЗрдЬ рд╕рд┐рд╕реНрдЯрдо рдЗрддрдиреЗ рдмрдбрд╝реЗ рдмреНрд▓реЙрдХ рдХреЗ рд╕рд╛рде рдкреНрд░рднрд╛рд╡реА рдврдВрдЧ рд╕реЗ рдХрд╛рдо рдирд╣реАрдВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рдЗрд╕рд▓рд┐рдП рдПрдбрд╡рд╛рдВрд╕реНрдб рд╕реЗрдЯрд┐рдВрдЧреНрд╕ ESXi рдореЗрдВ DiskMaxIOSize рдкреИрд░рд╛рдореАрдЯрд░ рд╣реИред  рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рдЖрдк рд╣рд╛рдЗрдкрд░рд╡рд┐рдЬрд╝рд░ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ</a> рдЕрдзрд┐рдХ рд╡рд┐рд╡рд░рдг) рджреНрд╡рд╛рд░рд╛ рдЫреЛрдбрд╝ рджрд┐рдП рдЧрдП рдмреНрд▓реЙрдХ рдХреЗ рдЕрдзрд┐рдХрддрдо рдЖрдХрд╛рд░ рдХреЛ рдХрдо рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдореЗрд░рд╛ рд╕реБрдЭрд╛рд╡ рд╣реИ рдХрд┐ рдЖрдк рдЗрд╕ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рдмрджрд▓рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рднрдВрдбрд╛рд░рдг рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХреЗ рдирд┐рд░реНрдорд╛рддрд╛ рд╕реЗ рдкрд░рд╛рдорд░реНрд╢ рдХрд░реЗрдВ, рдпрд╛ рдХрдо рд╕реЗ рдХрдо рдкреНрд░рдпреЛрдЧрд╢рд╛рд▓рд╛ рдмреЗрдВрдЪ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВред <br><br>  рдмрдбрд╝реЗ рдмреНрд▓реЙрдХ рдЖрдХрд╛рд░ рднрдВрдбрд╛рд░рдг рдкреНрд░рджрд░реНрд╢рди рдкрд░ рдкреНрд░рддрд┐рдХреВрд▓ рдкреНрд░рднрд╛рд╡ рдбрд╛рд▓ рд╕рдХрддреЗ рд╣реИрдВред  рднрд▓реЗ рд╣реА IOPS рдФрд░ рдереНрд░реВрдкреБрдЯ рдХреА рд╕рдВрдЦреНрдпрд╛ рдЕрдкреЗрдХреНрд╖рд╛рдХреГрдд рдХрдо рд╣реЛ, рдмрдбрд╝реЗ рдмреНрд▓реЙрдХ рдЖрдХрд╛рд░ рдХреЗ рд╕рд╛рде рдЙрдЪреНрдЪ рдЕрдХреНрд╖рд╛рдВрд╢ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕рд▓рд┐рдП, рдЗрд╕ рдкреИрд░рд╛рдореАрдЯрд░ рдкрд░ рдзреНрдпрд╛рди рджреЗрдВред <br><br>  <b>рд╡рд┐рд▓рдВрдмрддрд╛</b> рд╕рдмрд╕реЗ рджрд┐рд▓рдЪрд╕реНрдк рдкреНрд░рджрд░реНрд╢рди рдкреИрд░рд╛рдореАрдЯрд░ рд╣реИред  рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреЗ рд▓рд┐рдП I / O рд╕рдВрдЪрд╛рд▓рди рдХреА рд╡рд┐рд▓рдВрдмрддрд╛ рдХрд╛ рдпреЛрдЧ рд╣реИ: <br><br><ul><li>  рд╣рд╛рдЗрдкрд░рд╡рд┐рдЬрд╝рд░ (KAVG, рдФрд╕рдд рдХрд░реНрдиреЗрд▓ рдорд┐рд▓рд┐рд╕реЗрдХ / рд░реАрдб) рдХреЗ рднреАрддрд░ рджреЗрд░реА; </li><li>  рдбреЗрдЯрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рд╕реНрдЯреЛрд░реЗрдЬ (DAVG, рдФрд╕рдд рдбреНрд░рд╛рдЗрд╡рд░ MilliSec / рдХрдорд╛рдВрдб) рджреНрд╡рд╛рд░рд╛ рджреА рдЧрдИ рд╡рд┐рд▓рдВрдмрддрд╛ред </li></ul><br>  рдЕрддрд┐рдерд┐ OS (GAVG, рдФрд╕рдд рдЕрддрд┐рдерд┐ MilliSec / рдХрдорд╛рдВрдб) рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрдиреЗ рд╡рд╛рд▓реА рдХреБрд▓ рджреЗрд░реА KAVG рдФрд░ DAVG рдХрд╛ рдпреЛрдЧ рд╣реИред <br><br>  GAVG рдФрд░ DAVG рдХреЛ рдорд╛рдкрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ KAVG рдХреА рдЧрдгрдирд╛ рдХреА рдЬрд╛рддреА рд╣реИ: GAVG - DAVGред <br><br><img src="https://habrastorage.org/webt/vl/nr/li/vlnrlisbs6bewpfc93um8pocz4c.png"><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><i>рд╕реНрд░реЛрдд</i></a> <br><br>  <b>рдХреЗрд╡реАрдЬреА</b> рдкрд░ <b>рд░рд╣рддреЗ рд╣реИрдВ</b> ред  рд╕рд╛рдорд╛рдиреНрдп рдСрдкрд░реЗрд╢рди рдореЗрдВ, рдХреЗрд╡реАрдЬреА рд╢реВрдиреНрдп рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдпрд╛ рдХрдо рд╕реЗ рдХрдо рдбреАрдПрд╡реАрдЬреА рд╕реЗ рдмрд╣реБрдд рдЫреЛрдЯрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдПрдХрдорд╛рддреНрд░ рдорд╛рдорд▓рд╛ рдЬреЛ рдореБрдЭреЗ рдкрддрд╛ рд╣реИ рдХрд┐ рдЬрдм KAVG рдХреЗ рдЙрдЪреНрдЪ рд╣реЛрдиреЗ рдХреА рдЙрдореНрдореАрдж рд╣реИ, VM рдбрд┐рд╕реНрдХ рдкрд░ IOPS рдХреА рд╕реАрдорд╛ рд╣реИред  рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЬрдм рд╕реАрдорд╛ рд╕реЗ рдЕрдзрд┐рдХ рд╣реЛрдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛, рддреЛ KAVG рдмрдврд╝реЗрдЧрд╛ред <br><br>  KAVG рдХрд╛ рд╕рдмрд╕реЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдШрдЯрдХ QAVG рд╣реИ - рд╣рд╛рдЗрдкрд░рд╡рд┐рдЬрд░ рдХреЗ рдЕрдВрджрд░ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд▓рд┐рдП рдХрддрд╛рд░ рдореЗрдВ рд▓рдЧрдиреЗ рд╡рд╛рд▓рд╛ рд╕рдордпред  KAVG рдХреЗ рд╢реЗрд╖ рдШрдЯрдХ рдирдЧрдгреНрдп рд╣реИрдВред <br><br>  рдбрд┐рд╕реНрдХ рдПрдбреЗрдкреНрдЯрд░ рдбреНрд░рд╛рдЗрд╡рд░ рдореЗрдВ рдХрддрд╛рд░ рдФрд░ рдЪрдВрджреНрд░рдорд╛ рдХрддрд╛рд░ рдореЗрдВ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдЖрдХрд╛рд░ рд╣реЛрддрд╛ рд╣реИред  рднрд╛рд░реА рднрд╛рд░ рд╡рд╛рд▓реЗ рд╡рд╛рддрд╛рд╡рд░рдг рдХреЗ рд▓рд┐рдП рдпрд╣ рдЖрдХрд╛рд░ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣</a> рд╡рд░реНрдгрди рдХрд░рддрд╛ рд╣реИ рдХрд┐ рдПрдбреЗрдкреНрдЯрд░ рдбреНрд░рд╛рдЗрд╡рд░ рдореЗрдВ рдХрддрд╛рд░ рдХреЛ рдХреИрд╕реЗ рдмрдврд╝рд╛рдпрд╛ рдЬрд╛рдП (рдЙрд╕реА рд╕рдордп, рдЪрдиреНрджреНрд░рдорд╛рдУрдВ рдХреА рдХрддрд╛рд░ рдмрдврд╝ рдЬрд╛рдПрдЧреА)ред  рдпрд╣ рд╕реЗрдЯрд┐рдВрдЧ рддрдм рдХрд╛рдо рдХрд░рддреА рд╣реИ рдЬрдм рдХреЗрд╡рд▓ рдПрдХ рд╡реАрдПрдо рдЪрдВрджреНрд░рдорд╛ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рджреБрд░реНрд▓рдн рд╣реИред  рдпрджрд┐ рдЪрдВрджреНрд░рдорд╛ рдкрд░ рдХрдИ <i>рд╡реАрдПрдо</i> рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ <i>рдбрд┐рд╕реНрдХ</i> рдХреЛ рднреА рдмрдврд╝рд╛рдирд╛ рд╣реЛрдЧрд╛ред <i>SchedNumReqOutstanding</i> рдкреИрд░рд╛рдореАрдЯрд░ ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рдирд┐рд░реНрджреЗрд╢)ред  рдХрддрд╛рд░ рдмрдврд╝рд╛рдХрд░, рдЖрдк рдХреНрд░рдорд╢рдГ QAVG рдФрд░ KAVG рдШрдЯрд╛рддреЗ рд╣реИрдВред <br><br>  рд▓реЗрдХрд┐рди, рдлрд┐рд░ рд╕реЗ, рдкрд╣рд▓реЗ рдПрдЪрдмреАрдП рд╡рд┐рдХреНрд░реЗрддрд╛ рд╕реЗ рдкреНрд░рд▓реЗрдЦрди рдкрдврд╝реЗрдВ рдФрд░ рдкреНрд░рдпреЛрдЧрд╢рд╛рд▓рд╛ рдмреЗрдВрдЪ рдкрд░ рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВред <br><br>  SIOC (рд╕реНрдЯреЛрд░реЗрдЬ I / O рдХрдВрдЯреНрд░реЛрд▓) рддрдВрддреНрд░ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдиреЗ рд╕реЗ рдХрддрд╛рд░ рд╕реЗ рдЪрдВрджреНрд░рдорд╛ рдХрд╛ рдЖрдХрд╛рд░ рдкреНрд░рднрд╛рд╡рд┐рдд рд╣реЛ рд╕рдХрддрд╛ рд╣реИред  рдпрд╣ рд╕рд░реНрд╡рд░ рдкрд░ рдЪрдВрджреНрд░рдорд╛ рдХреА рдХрддрд╛рд░ рдХреЛ рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ рдмрджрд▓рдХрд░ рдХреНрд▓рд╕реНрдЯрд░ рдХреЗ рд╕рднреА рд╕рд░реНрд╡рд░реЛрдВ рд╕реЗ рдЪрдВрджреНрд░рдорд╛ рддрдХ рд╕рдорд╛рди рдкрд╣реБрдВрдЪ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИред  рдпрд╣реА рд╣реИ, рдЕрдЧрд░ рдПрдХ рд╡реАрдПрдо рдПрдХ рд╣реЛрд╕реНрдЯ рдкрд░ рдЪрд▓рддрд╛ рд╣реИ рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП рдкреНрд░рджрд░реНрд╢рди (рд╢реЛрд░ рдкрдбрд╝реЛрд╕реА рд╡реАрдПрдо) рдХреА рдЕрдиреБрдкрд╛рддрд╣реАрди рд░рд╛рд╢рд┐ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрддреА рд╣реИ, рддреЛ SIOC рдЗрд╕ рд╣реЛрд╕реНрдЯ (DQLEN) рдкрд░ рдЪрдВрджреНрд░рдорд╛ рдХреА рдХрддрд╛рд░ рдХреА рд▓рдВрдмрд╛рдИ рдХрдо рдХрд░ рджреЗрддрд╛ рд╣реИред  рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ</a> ред <br><br>  KAVG рдХреЛ рд╣рд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛, рдЕрдм <b>DAVG рдХреЗ</b> рдмрд╛рд░реЗ рдореЗрдВ рдереЛрдбрд╝рд╛ред  рдпрд╣рд╛рдВ рд╕рдм рдХреБрдЫ рд╕рд░рд▓ рд╣реИ: рдбреАрдПрд╡реАрдЬреА рдмрд╛рд╣рд░реА рд╡рд╛рддрд╛рд╡рд░рдг (рдбреЗрдЯрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдФрд░ рднрдВрдбрд╛рд░рдг) рджреНрд╡рд╛рд░рд╛ рд╢реБрд░реВ рдХреА рдЧрдИ рджреЗрд░реА рд╣реИред  рдХрд┐рд╕реА рднреА рдЖрдзреБрдирд┐рдХ рдФрд░ рднрдВрдбрд╛рд░рдг рдкреНрд░рдгрд╛рд▓реА рдХреЗ рдЕрдкрдиреЗ рдкреНрд░рджрд░реНрд╢рди рдХрд╛рдЙрдВрдЯрд░ рдирд╣реАрдВ рд╣реИрдВред  рдбреАрдПрд╡реАрдЬреА рдХреЗ рд╕рд╛рде рд╕рдорд╕реНрдпрд╛рдУрдВ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЙрдиреНрд╣реЗрдВ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИред  рдпрджрд┐ ESXi рдФрд░ рд╕реНрдЯреЛрд░реЗрдЬ рд╕рд╛рдЗрдб рдкрд░ рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реИ, рддреЛ рдбреЗрдЯрд╛ рдиреЗрдЯрд╡рд░реНрдХ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВред <br><br>  рдкреНрд░рджрд░реНрд╢рди рдХреЗ рдореБрджреНрджреЛрдВ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рдЕрдкрдиреЗ рднрдВрдбрд╛рд░рдг рдХреЗ рд▓рд┐рдП рд╕рд╣реА рдкрде рдЪрдпрди рдиреАрддрд┐ (PSP) рдЪреБрдиреЗрдВред  рд▓рдЧрднрдЧ рд╕рднреА рдЖрдзреБрдирд┐рдХ рд╕реНрдЯреЛрд░реЗрдЬ рд╕рд┐рд╕реНрдЯрдо PSP рд░рд╛рдЙрдВрдб-рд░реЙрдмрд┐рди (ALUA рдХреЗ рд╕рд╛рде рдпрд╛ рдмрд┐рдирд╛ рдЕрд╕рдордорд┐рдд рд▓реЙрдЬрд┐рдХрд▓ рдпреВрдирд┐рдЯ рдПрдХреНрд╕реЗрд╕) рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВред  рдпрд╣ рдиреАрддрд┐ рдЖрдкрдХреЛ рднрдВрдбрд╛рд░рдг рдХреЗ рд▓рд┐рдП рд╕рднреА рдЙрдкрд▓рдмреНрдз рд░рд╛рд╕реНрддреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреА рд╣реИред  ALUA рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, рдЪрдВрджреНрд░рдорд╛ рдХреЗ рд╕реНрд╡рд╛рдорд┐рддреНрд╡ рд╡рд╛рд▓реЗ рдирд┐рдпрдВрддреНрд░рдХ рдХреЗ рд▓рд┐рдП рдХреЗрд╡рд▓ рд░рд╛рд╕реНрддреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рдИрдПрд╕рдПрдХреНрд╕рдЖрдИ рдкрд░ рд╕рднреА рд╕реНрдЯреЛрд░реЗрдЬ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдирд┐рдпрдо рдирд╣реАрдВ рд╣реИрдВ рдЬреЛ рд░рд╛рдЙрдВрдб-рд░реЙрдмрд┐рди рдкреЙрд▓рд┐рд╕реА рд╕реНрдерд╛рдкрд┐рдд рдХрд░рддреЗ рд╣реИрдВред  рдпрджрд┐ рдЖрдкрдХреЗ рд╕реНрдЯреЛрд░реЗрдЬ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рд▓рд┐рдП рдХреЛрдИ рдирд┐рдпрдо рдирд╣реАрдВ рд╣реИ, рддреЛ рд╕реНрдЯреЛрд░реЗрдЬ рдирд┐рд░реНрдорд╛рддрд╛ рд╕реЗ рдкреНрд▓рдЧ-рдЗрди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдЬреЛ рдХреНрд▓рд╕реНрдЯрд░ рдореЗрдВ рд╕рднреА рд╣реЛрд╕реНрдЯ рдкрд░ рд╕рдВрдмрдВрдзрд┐рдд рдирд┐рдпрдо рдмрдирд╛рдПрдЧрд╛, рдпрд╛ рд╕реНрд╡рдпрдВ рдирд┐рдпрдо рдмрдирд╛рдПрдЧрд╛ред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ</a> рд╡рд┐рд╡рд░рдгред <br><br>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдХреБрдЫ рд╕рдВрдЧреНрд░рд╣рдг рд╡рд┐рдХреНрд░реЗрддрд╛ 1000 рд╕реЗ 1. рдХреЗ рдорд╛рдирдХ рдорд╛рди рд╕реЗ IOPS рдкреНрд░рддрд┐ рдкрде рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЛ рдмрджрд▓рдиреЗ рдХреА рд╕рд▓рд╛рд╣ рджреЗрддреЗ рд╣реИрдВред рд╣рдорд╛рд░реЗ рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ, рдЗрд╕рдиреЗ рд╣рдореЗрдВ рд╕реНрдЯреЛрд░реЗрдЬ рд╕реЗ рдЕрдзрд┐рдХ рдкреНрд░рджрд░реНрд╢рди рдХреЛ "рдирд┐рдЪреЛрдбрд╝рдиреЗ" рдХреА рдЕрдиреБрдорддрд┐ рджреА рдФрд░ рдирд┐рдпрдВрддреНрд░рдХ рд╡рд┐рдлрд▓рддрд╛ рдпрд╛ рдЕрджреНрдпрддрди рдХреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╡рд┐рдлрд▓рддрд╛ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╕рдордп рдХреЛ рдХрд╛рдлреА рдХрдо рдХрд░ рджрд┐рдпрд╛ред  рд╡рд┐рдХреНрд░реЗрддрд╛ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢реЛрдВ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ, рдФрд░ рдпрджрд┐ рдХреЛрдИ рдорддрднреЗрдж рдирд╣реАрдВ рд╣реИрдВ, рддреЛ рдЗрд╕ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рдмрджрд▓рдиреЗ рдХрд╛ рдкреНрд░рдпрд╛рд╕ рдХрд░реЗрдВред  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдБ</a> рд╡рд┐рд╡рд░рдгред <br><br><h3>  рдХрд┐рд╕реА рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреЗ рдбрд┐рд╕реНрдХ рд╕рдмрд╕рд┐рд╕реНрдЯрдо рдХрд╛ рдореВрд▓ рдкреНрд░рджрд░реНрд╢рди рдХрд╛рдЙрдВрдЯрд░ </h3><br>  VCenter рдореЗрдВ рдбрд┐рд╕реНрдХ рд╕рдмрд╕рд┐рд╕реНрдЯрдо рдкреНрд░рджрд░реНрд╢рди рдХрд╛рдЙрдВрдЯрд░реЛрдВ рдХреЛ рдбрд╛рдЯрд╕реНрдЯреЛрд░, рдбрд┐рд╕реНрдХ, рд╡рд░реНрдЪреБрдЕрд▓ рдбрд┐рд╕реНрдХ рдореЗрдВ рдПрдХрддреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/vh/kw/s4/vhkws4yppe9rqfk5pogjaey0_im.png"><br><br>  <b>рдбреЗрдЯрд╛рд╕реНрдЯреЛрд░</b> рдЕрдиреБрднрд╛рдЧ рдореЗрдВ vSphere рдбрд┐рд╕реНрдХ рд╕реНрдЯреЛрд░реЗрдЬ (рдбреЗрдЯрд╛рд╕реНрдЯреЛрд░реНрд╕) рдХреЗ рд▓рд┐рдП рдореИрдЯреНрд░рд┐рдХреНрд╕ рд╣реЛрддреЗ рд╣реИрдВ, рдЬрд┐рд╕ рдкрд░ VM рдбрд┐рд╕реНрдХ рд╕реНрдерд┐рдд рд╣реИрдВред  рдпрд╣рд╛рдБ рдЖрдк рдХреЗ рд▓рд┐рдП рдорд╛рдирдХ рдХрд╛рдЙрдВрдЯрд░ рдорд┐рд▓ рдЬрд╛рдПрдЧрд╛: <br><br><ul><li>  IOPS (рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб рдФрд╕рдд рдкрдврд╝рдиреЗ / рд▓рд┐рдЦрдиреЗ рдХрд╛ рдЕрдиреБрд░реЛрдз), </li><li>  рдмреИрдВрдбрд╡рд┐рдбреНрде (рдкрдврд╝реЗрдВ / рд▓рд┐рдЦреЗрдВ рджрд░), </li><li>  рджреЗрд░реА (рдкрдврд╝реЗрдВ / рд▓рд┐рдЦреЗрдВ / рдЙрдЪреНрдЪрддрдо рд╡рд┐рд▓рдВрдмрддрд╛)ред </li></ul><br>  рдХрд╛рдЙрдВрдЯрд░рд░реНрд╕ рдХреЗ рдирд╛рдо рд╕реЗ, рд╕рд┐рджреНрдзрд╛рдВрдд рд░реВрдк рдореЗрдВ, рд╕рдм рдХреБрдЫ рд╕реНрдкрд╖реНрдЯ рд╣реИред  рдПрдХ рдмрд╛рд░ рдлрд┐рд░, рдореИрдВ рдЗрд╕ рддрдереНрдп рдкрд░ рдзреНрдпрд╛рди рдЖрдХрд░реНрд╖рд┐рдд рдХрд░реВрдВрдЧрд╛ рдХрд┐ рдпрд╣рд╛рдВ рдЖрдВрдХрдбрд╝реЗ рдПрдХ рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╡реАрдПрдо (рдпрд╛ рд╡реАрдПрдо рдбрд┐рд╕реНрдХ) рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдкреВрд░реЗ рдбреЗрдЯрд╛рд╕реНрдЯреЛрд░ рдХреЗ рд▓рд┐рдП рд╕рд╛рдорд╛рдиреНрдп рд╣реИрдВред  рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, ESXTOP рдореЗрдВ рдЗрди рдЖрдВрдХрдбрд╝реЛрдВ рдХреЛ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИ, рдХрдо рд╕реЗ рдХрдо рдЗрд╕ рдЖрдзрд╛рд░ рдкрд░ рдХрд┐ рдиреНрдпреВрдирддрдо рдорд╛рдк рдЕрд╡рдзрд┐ 2 рд╕реЗрдХрдВрдб рд╣реИред <br><br>  <b>рдбрд┐рд╕реНрдХ</b> рдЕрдиреБрднрд╛рдЧ рдореЗрдВ VM рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдмреНрд▓реЙрдХ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП рдореАрдЯреНрд░рд┐рдХ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред  рд╕рдорди рдкреНрд░рдХрд╛рд░ рдХреЗ IOPS рдХрд╛рдЙрдВрдЯрд░ (рдкреНрд░рддрд┐ рдорд╛рдк рдЕрд╡рдзрд┐ рдореЗрдВ I / O рд╕рдВрдЪрд╛рд▓рди рдХреА рд╕рдВрдЦреНрдпрд╛) рдФрд░ рдмреНрд▓реЙрдХ рдПрдХреНрд╕реЗрд╕ рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдХрдИ рдХрд╛рдЙрдВрдЯрд░ (рдХрдорд╛рдВрдбреНрд╕ рдирд┐рд░рд╕реНрдд, рдмрд╕ рд░реАрд╕реЗрдЯ) рд╣реИрдВред  рдореЗрд░реА рд░рд╛рдп рдореЗрдВ, рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА ESXTOP рдореЗрдВ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИред <br><br>  <b>рд╡рд░реНрдЪреБрдЕрд▓ рдбрд┐рд╕реНрдХ</b> рдЕрдиреБрднрд╛рдЧ VM рдбрд┐рд╕реНрдХ рд╕рдмрд╕рд┐рд╕реНрдЯрдо рдкреНрд░рджрд░реНрд╢рди рд╕рдорд╕реНрдпрд╛рдУрдВ рдХреЗ рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ рд╕рдмрд╕реЗ рдЙрдкрдпреЛрдЧреА рд╣реИред  рдпрд╣рд╛рдВ рдЖрдк рдкреНрд░рддреНрдпреЗрдХ рд╡рд░реНрдЪреБрдЕрд▓ рдбрд┐рд╕реНрдХ рдХреЗ рд▓рд┐рдП рдкреНрд░рджрд░реНрд╢рди рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред  рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдореЗрдВ рдХреЛрдИ рд╕рдорд╕реНрдпрд╛ рд╣реИ рдпрд╛ рдирд╣реАрдВ рдпрд╣ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА рдЖрд╡рд╢реНрдпрдХ рд╣реИред  рдЗрдирдкреБрдЯ / рдЖрдЙрдЯрдкреБрдЯ рд╕рдВрдЪрд╛рд▓рди рдХреА рд╕рдВрдЦреНрдпрд╛, рдкрдврд╝рдиреЗ / рд▓рд┐рдЦрдиреЗ рдХреА рдорд╛рддреНрд░рд╛ рдФрд░ рджреЗрд░реА рдХреЗ рд▓рд┐рдП рдорд╛рдирдХ рдХрд╛рдЙрдВрдЯрд░реЛрдВ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЗрд╕ рдЦрдВрдб рдореЗрдВ рдЙрдкрдпреЛрдЧреА рдХрд╛рдЙрдВрдЯрд░ рд╣реЛрддреЗ рд╣реИрдВ рдЬреЛ рдмреНрд▓реЙрдХ рдЖрдХрд╛рд░ рджрд┐рдЦрд╛рддреЗ рд╣реИрдВ: рдкрдврд╝реЗрдВ / рд▓рд┐рдЦреЗрдВ рдЕрдиреБрд░реЛрдз рдЖрдХрд╛рд░ред <br><br>  рдиреАрдЪреЗ рджреА рдЧрдИ рддрд╕реНрд╡реАрд░ рдореЗрдВ, рд╡реАрдПрдо рдбрд┐рд╕реНрдХ рдХреЗ рдкреНрд░рджрд░реНрд╢рди рдХрд╛ рдПрдХ рдЧреНрд░рд╛рдл, рдЬрд╣рд╛рдВ рдЖрдк рдЖрдИрдУрдкреАрдПрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛, рд╡рд┐рд▓рдВрдмрддрд╛ рдФрд░ рдмреНрд▓реЙрдХ рдЖрдХрд╛рд░ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/6_/1e/io/6_1eiop7odinrffnof8y6jkqoc4.png"><br><br>  SIOC рд╕рдХреНрд╖рдо рд╣реЛрдиреЗ рдкрд░ рдкреНрд░рджрд░реНрд╢рди рдореЗрдЯреНрд░рд┐рдХреНрд╕ рдХреЛ рдкреВрд░реЗ рдбреЗрдЯрд╛рд╕реНрдЯреЛрд░ рдореЗрдВ рднреА рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдпрд╣рд╛рдВ рдФрд╕рдд рд▓реЗрдЯреЗрдВрд╕реА рдФрд░ рдЖрдИрдУрдкреАрдПрд╕ рдкрд░ рдХреБрдЫ рдмреБрдирд┐рдпрд╛рджреА рдЬрд╛рдирдХрд╛рд░реА рджреА рдЧрдИ рд╣реИред  рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдпрд╣ рдЬрд╛рдирдХрд╛рд░реА рдХреЗрд╡рд▓ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдореЗрдВ рджреЗрдЦреА рдЬрд╛ рд╕рдХрддреА рд╣реИред <br><br><img src="https://habrastorage.org/webt/3z/fu/2f/3zfu2fvddarsk_ki3lnavc8juqs.png"><br><br><h3>  ESXTOP </h3><br>  ESXTOP рдореЗрдВ рдХрдИ рд╕реНрдХреНрд░реАрди рд╣реИрдВ рдЬреЛ рд╣реЛрд╕реНрдЯ рдбрд┐рд╕реНрдХ рд╕рдмрд╕рд┐рд╕реНрдЯрдо рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рд╕рдВрдкреВрд░реНрдг, рд╡реНрдпрдХреНрддрд┐рдЧрдд рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрдиреЛрдВ рдФрд░ рдЙрдирдХреЗ рдбрд┐рд╕реНрдХ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддреЗ рд╣реИрдВред <br><br>  рдЖрднрд╛рд╕реА рдорд╢реАрдиреЛрдВ рдкрд░ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред  "рдбрд┐рд╕реНрдХ рд╡реАрдПрдо" рд╕реНрдХреНрд░реАрди рдХреЛ "рд╡реА" рдХреБрдВрдЬреА рджреНрд╡рд╛рд░рд╛ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ: <br><br><img src="https://habrastorage.org/webt/x-/ix/kf/x-ixkfuuxxrv64gpsxezoo8lsci.png"><br><br>  <b>NVDISK</b> VM рдбрд┐рд╕реНрдХ рдХреА рд╕рдВрдЦреНрдпрд╛ рд╣реИред  рдкреНрд░рддреНрдпреЗрдХ рдбрд┐рд╕реНрдХ рдкрд░ рдЬрд╛рдирдХрд╛рд░реА рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП, "рдИ" рджрдмрд╛рдПрдВ рдФрд░ рдЙрд╕ рд╡реАрдПрдо рдХреЗ рдЬреАрдЖрдИрдбреА тАЛтАЛрдХреЛ рджрд░реНрдЬ рдХрд░реЗрдВ рдЬрд┐рд╕рдореЗрдВ рдЖрдк рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВред <br><br>  рдЗрд╕ рд╕реНрдХреНрд░реАрди рдкрд░ рд╢реЗрд╖ рдорд╛рдкрджрдВрдбреЛрдВ рдХрд╛ рдЕрд░реНрде рдЙрдирдХреЗ рдирд╛рдореЛрдВ рд╕реЗ рд╕реНрдкрд╖реНрдЯ рд╣реИред <br><br>  рд╕рдорд╕реНрдпрд╛ рдирд┐рд╡рд╛рд░рдг рдХреЗ рд▓рд┐рдП рдПрдХ рдФрд░ рдЙрдкрдпреЛрдЧреА рд╕реНрдХреНрд░реАрди рдбрд┐рд╕реНрдХ рдПрдбреЗрдкреНрдЯрд░ рд╣реИред  рдЗрд╕реЗ "d" рдХреБрдВрдЬреА рджреНрд╡рд╛рд░рд╛ рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ (рдиреАрдЪреЗ рдЪрд┐рддреНрд░ рдореЗрдВ, рдлрд╝реАрд▓реНрдб A, B, C, D, E, G рдХреЛ рдЪреБрдирд╛ рдЧрдпрд╛ рд╣реИ): <br><br><img src="https://habrastorage.org/webt/oo/yk/2n/ooyk2nk1kburs6exfrg1km9auum.png"><br><br>  <b>рдПрдирдкреАрдЯреАрдПрдЪ рдЪрд╛рдВрдж</b> рд░рд╛рд╕реНрддреЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рд╣реИ рдЬреЛ рдЗрд╕ рдПрдбреЙрдкреНрдЯрд░ рд╕реЗ рджрд┐рдЦрд╛рдИ рджреЗрддреЗ рд╣реИрдВред  рдПрдбреЙрдкреНрдЯрд░ рдкрд░ рдкреНрд░рддреНрдпреЗрдХ рдкрде рдХреА рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, "e" рджрдмрд╛рдПрдВ рдФрд░ рдПрдбреЙрдкреНрдЯрд░ рдХрд╛ рдирд╛рдо рджрд░реНрдЬ рдХрд░реЗрдВ: <br><br><img src="https://habrastorage.org/webt/nb/rl/wr/nbrlwrvqdj95qy_qqna0ultn3tw.png"><br><br>  <b>AQLEN</b> - рдПрдбреЙрдкреНрдЯрд░ рдкрд░ рдЕрдзрд┐рдХрддрдо рдХрддрд╛рд░ рдЖрдХрд╛рд░ред <br><br>  рдЗрд╕ рд╕реНрдХреНрд░реАрди рдкрд░ рднреА рджреЗрд░реА рдХрд╛рдЙрдВрдЯрд░ рд╣реИрдВ, рдЬрд┐рдирдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдореИрдВрдиреЗ рдКрдкрд░ рдмрд╛рдд рдХреА: <b>KAVG / cmd, GAVG / cmd, DAVG / cmd, QAVG / cmd</b> ред <br><br>  рдбрд┐рд╕реНрдХ рдбрд┐рд╡рд╛рдЗрд╕ рд╕реНрдХреНрд░реАрди, рдЬрд┐рд╕реЗ "рдпреВ" рдХреБрдВрдЬреА рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, рд╡реНрдпрдХреНрддрд┐рдЧрдд рдмреНрд▓реЙрдХ рдбрд┐рд╡рд╛рдЗрд╕реЛрдВ рдкрд░ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд░рддрд╛ рд╣реИ - рдЪрдиреНрджреНрд░рдорд╛ (рдиреАрдЪреЗ рдЪрд┐рддреНрд░ рдореЗрдВ, рдлрд╝реАрд▓реНрдб рдП, рдмреА, рдПрдл, рдЬреА, рдореИрдВ рдЪреБрдирд╛ рдЬрд╛рддрд╛ рд╣реИ)ред  рдпрд╣рд╛рдБ рдЖрдк рдЪрдиреНрджреНрд░рдорд╛рдУрдВ рдХреЛ рдХрддрд╛рд░ рдХреА рд╕реНрдерд┐рддрд┐ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред <br><br><img src="https://habrastorage.org/webt/ik/e0/lk/ike0lkaa77navbia1n-sjfvqwci.png"><br><br>  <b>DQLEN</b> - рдПрдХ рдмреНрд▓реЙрдХ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЗ рд▓рд┐рдП рдХрддрд╛рд░ рдЖрдХрд╛рд░ред <br>  <b>рдИрдПрд╕рдПрдХреНрд╕рдЖрдИ</b> рдХреЛрд░ рдореЗрдВ рдПрд╕реАрдЯреАрд╡реА I / O рдХрдорд╛рдВрдб рдХреА рд╕рдВрдЦреНрдпрд╛ рд╣реИред <br>  <b>QUED</b> - рдХрддрд╛рд░ рдореЗрдВ I / O рдХрдорд╛рдВрдб рдХреА рд╕рдВрдЦреНрдпрд╛ред <br>  <b>% USD</b> - ACTV / DQLEN ├Ч 100%ред <br>  <b>рд▓реЛрдб</b> - (ACTV + QUED) / DQLENред <br><br>  рдпрджрд┐% USD рдЕрдзрд┐рдХ рд╣реИ, рддреЛ рдЖрдкрдХреЛ рд▓рд╛рдЗрдирдЕрдк рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рдиреЗ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдХрддрд╛рд░ рдореЗрдВ рдЬрд┐рддрдиреА рдЕрдзрд┐рдХ рдЯреАрдореЗрдВ рд╣реЛрдВрдЧреА, рдЙрддрдиреА рд╣реА рдЕрдзрд┐рдХ QAVG рдФрд░, рддрджрдиреБрд╕рд╛рд░, KAVGред <br><br>  рдЖрдк рдбрд┐рд╕реНрдХ рдбрд┐рд╡рд╛рдЗрд╕ рд╕реНрдХреНрд░реАрди рдкрд░ рдпрд╣ рднреА рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ рдХрд┐ рдХреНрдпрд╛ VAAI (рдРрд░реЗ рдЗрдВрдЯреАрдЧреНрд░реЗрд╢рди рдХреЗ рд▓рд┐рдП vStorage API) рд╕реНрдЯреЛрд░реЗрдЬ рдкрд░ рдЪрд▓ рд░рд╣рд╛ рд╣реИред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдлрд╝реАрд▓реНрдб A рдФрд░ O рдХрд╛ рдЪрдпрди рдХрд░реЗрдВред <br><br>  VAAI рддрдВрддреНрд░ рдЖрдкрдХреЛ рд╣рд╛рдЗрдкрд░рд╡рд┐рдЬрд╝рд░ рд╕реЗ рд╕реАрдзреЗ рд╕реНрдЯреЛрд░реЗрдЬ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдХрд╛рдо рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдмреНрд▓реЙрдХрд┐рдВрдЧ рдпрд╛ рдмреНрд▓реЙрдХрд┐рдВрдЧ рдХреЛ рд╢реВрдиреНрдп рдХрд░рдирд╛ред <br><br><img src="https://habrastorage.org/webt/ue/ko/mf/uekomfb2nkqqtktz9xy2b_uarpa.png"><br><br>  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдКрдкрд░ рдЪрд┐рддреНрд░ рдореЗрдВ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, VAAI рдЗрд╕ рд╕реНрдЯреЛрд░реЗрдЬ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ: рд╢реВрдиреНрдп рдФрд░ рдПрдЯреАрдПрд╕ рдкреНрд░рд╛рдЗрдореЗрдЯрд┐рд╡ рд╕рдХреНрд░рд┐рдп рд░реВрдк рд╕реЗ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред <br><br><h3>  ESXi рдбрд┐рд╕реНрдХ рдСрдкреНрдЯрд┐рдорд╛рдЗрдЬрд╝реЗрд╢рди рдЯрд┐рдкреНрд╕ </h3><br><ul><li>  рдмреНрд▓реЙрдХ рдХреЗ рдЖрдХрд╛рд░ рдкрд░ рдзреНрдпрд╛рди рджреЗрдВред </li><li>  HBA рдкрд░ рдЗрд╖реНрдЯрддрдо рдХрддрд╛рд░ рдЖрдХрд╛рд░ рд╕реЗрдЯ рдХрд░реЗрдВред </li><li>  рдбреЗрдЯрд╛рд╕реЛрд░реНрд╕ рдкрд░ SIOC рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдирд╛ рдпрд╛рдж рд░рдЦреЗрдВред </li><li>  рдирд┐рд░реНрдорд╛рддрд╛ рдХреА рд╕рд┐рдлрд╛рд░рд┐рд╢реЛрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдЕрдкрдирд╛ PSP рдЪреБрдиреЗрдВред </li><li>  рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ VAAI рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИред </li></ul><br><div class="spoiler">  <b class="spoiler_title">рдЙрдкрдпреЛрдЧреА рд╕рдВрдмрдВрдзрд┐рдд рд▓реЗрдЦ:</b> <div class="spoiler_text">  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://www.yellow-bricks.com/2011/06/23/disk-schednumreqoutstanding-the-story/</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://www.yellow-bricks.com/2009/09/29/whats-that-alua-exactly/</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">http://www.yellow-bricks.com/2019/03/05/dqlen-changes-what-is-going-on/</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://www.codyhosterman.com/2017/02/understanding-vmware-esxi-queuing-and-the-flasharray/</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://www.codyhosterman.com/2018/03/what-is-the-latency-stat-qavg/</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://kb.vmware.com/s/article/1267</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://kb.vmware.com/s/article/1268</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://kb.vmware.com/s/article/1027901</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://kb.vmware.com/s/article/2069356</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://kb.vmware.com/s/article/2053628</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://kb.vmware.com/s/article/1003469</a> <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://www.vmware.com/content/dam/digitalmarketing/vmware/en/pdf/techpaper/performance/vsphere-esxi-vcenter-server-67-performance-best-practices.pdf</a> <br></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi461127/">https://habr.com/ru/post/hi461127/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi461105/index.html">5 рдЙрдкрдпреЛрдЧреА рд╡реЗрдмрдкреИрдХ рдкреНрд▓рдЧрдЗрдиреНрд╕</a></li>
<li><a href="../hi461107/index.html">рд╢реЗрд░реЛрдЬрд╝рд╛ рдХреЗ рд▓рд┐рдП рджреЛрд╕реАрдореАрдЯрд░ред рднрд╛рдЧ II рд╢рддрд╛рдмреНрджреА рдЯреНрдпреВрдм рдмрдирд╛рдо рд╢рд╛рдВрддрд┐рдкреВрд░реНрдг рдкрд░рдорд╛рдгреБ</a></li>
<li><a href="../hi461113/index.html">рдЙрддреНрдкрд╛рджрди рдореЗрдВ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдХреЗ рд▓рд┐рдП рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рд▓рд┐рдП C ++ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдкрд╛рдВрдЪ рд╕рд╛рд▓</a></li>
<li><a href="../hi461121/index.html">рдПрдХ рдорд╛рдЗрдХреНрд░реЛрдХрдВрдЯреНрд░реЛрд▓рд░ рдореЗрдВ рдЫреЛрдЯреЗ рдорд▓реНрдЯреАрдЯрд╛рд╕реНрдХрд┐рдВрдЧ рдкреНрд░рдпреЛрдЧ</a></li>
<li><a href="../hi461125/index.html">Visual Studio (рдЙрджрд╛ред C #) рдореЗрдВ рд╕реНрд░реЛрдд рдХреЛрдб рдореЗрдВ рд╕рдВрджреЗрд╢реЛрдВ рдХреА рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреНрд░рдорд┐рдХ рд╕рдВрдЦреНрдпрд╛рддреНрдордХ рдХреЛрдб рдмрдирд╛рдиреЗ рдХрд╛ рдХрд╛рд░реНрдпред</a></li>
<li><a href="../hi461129/index.html">рдХреЛрдЯреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ, рдкрддреНрдиреА, рджреЛ рдмреЗрдЯреЗ, рд╡рд┐рдЪрд╛рд░ ... рдФрд░ рди рдХреЗрд╡рд▓ред рдирд┐рд░рдВрддрд░рддрд╛ рдХреЗ рд╕рд╛рде рдХрд╣рд╛рдиреА</a></li>
<li><a href="../hi461131/index.html">рдЖрд░рдУрдПрд╕ рдХрд╛рд░реНрдЯ рдЯреНрд░рдХред рднрд╛рдЧ 2. рд╕реЙрдлреНрдЯрд╡реЗрдпрд░</a></li>
<li><a href="../hi461133/index.html">TSQLt рдХреЗ рд╕рд╛рде SQL рд╕рд░реНрд╡рд░ рдХреЛрдб рдХрд╛ рдкрд░реАрдХреНрд╖рдг</a></li>
<li><a href="../hi461137/index.html">рд╣рдордиреЗ рдбреНрд░рд╛рдЗрд╡рд░реЛрдВ рдХреЗ рдзреНрдпрд╛рди рдХреА рдирд┐рдЧрд░рд╛рдиреА рдХреЗ рд▓рд┐рдП рдПрдХ рдЙрдкрдХрд░рдг рдХреИрд╕реЗ рд╡рд┐рдХрд╕рд┐рдд рдХрд┐рдпрд╛ред рдЕрдиреБрднрд╡ рдпреИрдВрдбреЗрдХреНрд╕ред рдЯреЗрдХреНрд╕реА</a></li>
<li><a href="../hi461141/index.html">рд╣рд╛рдЗрдХреБ рдХреЗ рд╕рд╛рде рдореЗрд░рд╛ рдкрд╣рд▓рд╛ рджрд┐рди: рд╡рд╣ рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд░реВрдк рд╕реЗ рдЕрдЪреНрдЫрд╛ рд╣реИ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>