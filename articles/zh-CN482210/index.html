<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“‰ ğŸ—ï¸ ğŸ‘ŒğŸ» Bot for Tetriså’Œé€†å‘å·¥ç¨‹åŠ¨ç”»ã€‚ ç¬¬äºŒå±Šç¼–ç¨‹å† å†›èµ›çš„ç§»åŠ¨èµ›é“åˆ†æ ğŸ‘‡ğŸ¿ ğŸ”† ğŸšï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ç§»åŠ¨èµ›é“è·å¥–è€… 
 åœ¨è¿‡å»çš„ä¸€å¹´ä¸­ï¼ŒYandexä¸¾åŠäº†ä¸¤æ¬¡åœ¨çº¿ç¼–ç¨‹é”¦æ ‡èµ›ã€‚ æˆ‘ä»¬å°†ç»§ç»­å‘å¸ƒç¬¬äºŒå±Šé”¦æ ‡èµ›çš„ä»»åŠ¡åˆ†æã€‚ æˆ‘ä»¬æé†’æ‚¨ï¼Œä¸ºå‚ä¸è€…æä¾›äº†å››ä¸ªæ–¹é¢çš„çŸ¥è¯†ï¼šæœºå™¨å­¦ä¹ ï¼Œå‰ç«¯ï¼Œç§»åŠ¨å¼€å‘å’Œåç«¯ã€‚ è¿™æ˜¯é’ˆå¯¹ç§»åŠ¨å¼€å‘äººå‘˜çš„èµ„æ ¼å›åˆçš„è®¨è®º-é€šè¿‡èµ„æ ¼è€ƒè¯•çš„äººä¸­æœ‰121äººå‚åŠ äº†å†³èµ›ã€‚ ä»»åŠ¡æ˜¯ç”±Yandex.Bro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Bot for Tetriså’Œé€†å‘å·¥ç¨‹åŠ¨ç”»ã€‚ ç¬¬äºŒå±Šç¼–ç¨‹å† å†›èµ›çš„ç§»åŠ¨èµ›é“åˆ†æ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/482210/"><img src="https://habrastorage.org/webt/wo/ry/hf/woryhf1ol6z2mgv2exh6uasa1gi.jpeg"><br><h5>  <sup><sub>ç§»åŠ¨èµ›é“è·å¥–è€…</sub></sup> </h5><br> åœ¨è¿‡å»çš„ä¸€å¹´ä¸­ï¼ŒYandexä¸¾åŠäº†ä¸¤æ¬¡åœ¨çº¿ç¼–ç¨‹é”¦æ ‡èµ›ã€‚ æˆ‘ä»¬å°†ç»§ç»­å‘å¸ƒç¬¬äºŒå±Šé”¦æ ‡èµ›çš„ä»»åŠ¡åˆ†æã€‚ æˆ‘ä»¬æé†’æ‚¨ï¼Œä¸ºå‚ä¸è€…æä¾›äº†å››ä¸ªæ–¹é¢çš„çŸ¥è¯†ï¼šæœºå™¨å­¦ä¹ ï¼Œå‰ç«¯ï¼Œç§»åŠ¨å¼€å‘å’Œåç«¯ã€‚ è¿™æ˜¯é’ˆå¯¹ç§»åŠ¨å¼€å‘äººå‘˜çš„èµ„æ ¼å›åˆçš„è®¨è®º-é€šè¿‡èµ„æ ¼è€ƒè¯•çš„äººä¸­æœ‰121äººå‚åŠ äº†å†³èµ›ã€‚ ä»»åŠ¡æ˜¯ç”±Yandex.Browserå’Œæœç´¢é—¨æˆ·çš„å…¶ä»–å›¢é˜Ÿçš„ä¸“å®¶å‘æ˜çš„ã€‚ åœ¨è¯¥ä¸­å¿ƒï¼Œæˆ‘ä»¬å°†ä»‹ç»é—ä¼ ç®—æ³•çš„ä¸»é¢˜ï¼Œä¸ºTetrisç¼–å†™ä¸€ä¸ªbotï¼Œå¹¶ä½¿ç”¨é€‚ç”¨äºAndroidå’ŒiOSçš„ä¸åŒæ–¹æ³•æ¥å®Œæˆè¯¥ä»»åŠ¡ã€‚ <br><a name="academy"></a><br><a name="habracut"></a><h2>  A.ç”µç¼† </h2>  <sup><i>å‘è¨€è€…ï¼šè°¢å°”ç›–Â·ç±³äºšæ–¯å°¼ç§‘å¤«ï¼ˆSergey Myasnikovï¼‰</i></sup> <br><div class="scrollable-table"><table><tbody><tr><td></td><td>  <b>æ‰€æœ‰è¯­è¨€</b> </td><td>  <b>Python 3.7.3å’ŒPython 2.7</b> </td></tr><tr><td> æ—¶é—´é™åˆ¶ </td><td>  4ç§’ </td><td>  20ç§’ </td></tr><tr><td> å†…å­˜é™åˆ¶ </td><td colspan="2">  256å…†å­—èŠ‚ </td></tr><tr><td> è¿›å…¥ </td><td colspan="2"> æ ‡å‡†è¾“å…¥æˆ–input.txt </td></tr><tr><td> ç»“è®º </td><td colspan="2"> æ ‡å‡†è¾“å‡ºæˆ–output.txt </td></tr></tbody></table></div>  Nå°è®¡ç®—æœºè¢«å¸¦åˆ°äº†æ–°åŠå…¬å®¤ã€‚ é™„è¿‘çš„å°„ç”µæœ›è¿œé•œä¸å…è®¸ä½¿ç”¨Wi-Fiè¿›è¡Œé€šè®¯ï¼Œå¹¶ä¸”æœåŠ¡å°å¿…é¡»ä½¿ç”¨LANç”µç¼†æ¥ç»„ç»‡ç½‘ç»œã€‚ æ”¶é›†äº†è§’è½é‡Œæ‰€æœ‰çš„ç”µç¼†åï¼Œç®¡ç†å‘˜è®¾æ³•è¿æ¥äº†Kå¯¹è®¡ç®—æœºã€‚ ç»è¿‡æ¼«é•¿çš„ä¸€å¤©çš„å·¥ä½œåï¼Œç´¯äº†çš„æœåŠ¡å°å·¥ä½œäººå‘˜ä¼šå‘æ‚¨å¯»æ±‚å¸®åŠ©-è®¡ç®—å®Œæˆä»»åŠ¡æ‰€éœ€çš„é¢„ç®—ã€‚ å› æ­¤ï¼Œæ‚¨æœ‰å¯ä»¥è¿æ¥ç®¡ç†å‘˜çš„Må¯¹è®¡ç®—æœºçš„åˆ—è¡¨ï¼Œä»¥åŠæ¯æ¡ç”µç¼†çš„æˆæœ¬ã€‚ å¼€å§‹å·¥ä½œæ—¶ï¼Œæ‚¨å‘ç°äº†æˆæœ¬è®¡ç®—ç³»ç»Ÿä¸­çš„ä¸€ä¸ªé”™è¯¯-è€Œä¸æ˜¯å°†æˆæœ¬ç›¸åŠ ï¼Œè€Œæ˜¯å°†å®ƒä»¬ç›¸ä¹˜-å› æ­¤ï¼Œé€»è¾‘å€¼ä¸º4çš„ç”µç¼†å’Œå€¼ä¸º3çš„ç”µç¼†ä¸æ˜¯7ï¼Œè€Œæ˜¯12ã€‚ <br><br> è¦å®Œæˆæ­¤ä»»åŠ¡ï¼Œæ‚¨éœ€è¦è®¡ç®—è¶³ä»¥æ„æˆè¿æ¥ç½‘ç»œçš„ç”µç¼†æˆæœ¬ï¼Œä»¥ä½¿æ¯å°è®¡ç®—æœºç›´æ¥æˆ–é—´æ¥è¿æ¥åˆ°æ¯å°è®¡ç®—æœºã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">I / Oæ ¼å¼ï¼Œç¤ºä¾‹å’Œæ³¨é‡Š</b> <div class="spoiler_text"><h4> è¾“å…¥æ ¼å¼ </h4><br> ç¬¬ä¸€è¡ŒåŒ…å«æ•°å­—0 &lt;N &lt;10 6ï¼Œ0â‰¤K &lt;10 6ï¼Œ0â‰¤M &lt;10 <sup>6</sup> ã€‚ <br><br> æ¥ä¸‹æ¥çš„Kè¡ŒåŒ…å«æ•°å­—å¯¹0 &lt;uï¼Œvâ‰¤N-å¸®åŠ©ä¸­å¿ƒå·²è¿æ¥çš„è®¡ç®—æœºæ•°ã€‚ <br><br> æ¥ä¸‹æ¥çš„Mè¡ŒåŒ…å«ä¸‰å…ƒç»„ï¼Œä¸‰ç»„åˆ†åˆ«ä¸º0 &lt;uï¼Œvâ‰¤Nå’Œ0 &lt;pâ‰¤10 <sup>9-</sup>ç®¡ç†å‘˜å¯ä»¥ä½¿ç”¨ç”µç¼†æˆæœ¬pè¿æ¥çš„è®¡ç®—æœºæ•°ã€‚ <br><br><h4> è¾“å‡ºæ ¼å¼ </h4><br> æ‰“å°è¶³ä»¥å»ºç«‹è¿æ¥ç½‘ç»œçš„ç”µç¼†çš„æœ€ä½æˆæœ¬ï¼›å¦‚æœæ— æ³•å»ºç«‹å®Œæ•´çš„ç½‘ç»œï¼Œåˆ™æ‰“å°â€“1ã€‚ <br><br> ç­”æ¡ˆå¯èƒ½éå¸¸å¤§ï¼Œå› æ­¤æ‚¨éœ€è¦ä»¥2 31-1ä¸ºæ¨¡è¾“å‡ºã€‚ <br><br><h4> ä¾‹å­1 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>è¿›å…¥</b> </td><td>  <b>ç»“è®º</b> </td></tr><tr><td><code>2 0 1 <br> 2 1 9</code> </td> <td> <code>9</code> </td> </tr></tbody></table></div><h4> ä¾‹å­2 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>è¿›å…¥</b> </td><td>  <b>ç»“è®º</b> </td></tr><tr><td> <code>5 0 6 <br> 1 3 1 <br> 2 4 8 <br> 1 4 1 <br> 1 2 10 <br> 4 1 10 <br> 5 3 4</code> </td> <td> <code>32</code> </td> </tr></tbody></table></div><h4> ä¾‹å­3 </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>è¿›å…¥</b> </td><td>  <b>ç»“è®º</b> </td></tr><tr><td> <code>6 0 3 <br> 4 3 2 <br> 2 6 9 <br> 1 4 8</code> </td> <td> <code>â€“1</code> </td> </tr></tbody></table></div><h4> æ³¨æ„äº‹é¡¹ </h4><br> è¾“å…¥æ•°æ®é‡å¯ä»¥è¾¾åˆ°30 MB-æ³¨æ„è¯»å–é€Ÿåº¦ã€‚ </div></div><br><h4> è§£å†³æ–¹æ¡ˆ </h4><br> è§£å†³é—®é¢˜æ‰€å¿…é¡»å»ºç«‹çš„å®Œæ•´ç½‘ç»œä¸è¿‡æ˜¯æœ€å°çš„ç”Ÿæˆæ ‘ã€‚  ï¼ˆé‰´äºåœ¨æ„å»ºå¼€å§‹æ—¶å·²ç»æ·»åŠ äº†Kæ¡è¾¹ï¼Œå› æ­¤ç”Ÿæˆçš„å›¾å½¢ä¸ä¸€å®šæ˜¯æ ‘ï¼Œä½†å¯ä»¥ä¿è¯åŒ…å«å®ƒã€‚ï¼‰ <br><br> åœ¨ç»å…¸è®¾ç½®ä¸­ï¼Œæ‰¾åˆ°æœ€å°ç”Ÿæˆæ ‘çš„é—®é¢˜æ¶‰åŠæœ€å°åŒ–è¾¹ç¼˜çš„æ€»å’Œï¼Œä½†æ˜¯åœ¨è¿™é‡Œæœ‰å¿…è¦æœ€å°åŒ–ä¹˜ç§¯ã€‚ å¹¸è¿çš„æ˜¯ï¼Œè¿™ä¸¤æ£µæ ‘é‡åˆã€‚ é€šè¿‡ç”¨å¯¹æ•°æ›¿æ¢è¾¹ç¼˜çš„æƒé‡å¯ä»¥å¾ˆå®¹æ˜“åœ°è¯æ˜è¿™ä¸€ç‚¹ã€‚ <br><br> æ„é€ æœ€å°ç”Ÿæˆæ ‘çš„æœ€è‘—åç®—æ³•æ˜¯Primaå’ŒKraskalç®—æ³•ã€‚ <br><br> åœ¨å¯†é›†å›¾çš„æƒ…å†µä¸‹ï¼ŒPrymç®—æ³•å…·æœ‰æ¸è¿‘æ€§Oï¼ˆN <sup>2</sup> ï¼‰ï¼Œåœ¨é™åˆ¶N &lt;10 <sup>6çš„æƒ…å†µä¸‹</sup> ï¼Œå®ƒä¸å…è®¸å°†å…¶ç”¨äºé—®é¢˜çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚  ï¼ˆä½†è¯·æ³¨æ„ï¼Œå·²å¯¹æµ‹è¯•æ•°æ®è¿›è¡Œäº†ç¼–è¯‘ï¼Œä»¥ä½¿å…·æœ‰æ‰€ç¤ºæ¸è¿‘çº¿çš„è§£å†³æ–¹æ¡ˆçš„å¾—åˆ†ç²¾ç¡®åˆ°ä¸€åŠï¼‰ <br><br> ä½¿ç”¨æ•°ç»„ç»´æŠ¤æœ‰å…³å›¾è¿æ¥çš„ç»„ä»¶çš„å½“å‰ç»„æˆä¿¡æ¯çš„Kruskalç®—æ³•çš„å¹¼ç¨šå®ç°å…·æœ‰æ¸è¿‘Oï¼ˆM log M + N <sup>2</sup> ï¼‰ã€‚ åœ¨è¿™é‡Œï¼Œå®ƒç­‰äºOï¼ˆN <sup>2</sup> ï¼‰ã€‚ è¦è·å¾—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼Œæ‚¨éœ€è¦ä½¿ç”¨ç§°ä¸ºä¸äº¤é›†è”åˆï¼ˆDSUï¼‰ç³»ç»Ÿçš„æ•°æ®ç»“æ„ã€‚ <br><br>  DSUå…è®¸æ‚¨æ‰§è¡Œä¸¤é¡¹æ“ä½œï¼šfindï¼ˆxï¼‰æŸ¥æ‰¾xæ‰€å±é›†åˆçš„â€œé¢†å¯¼è€…â€ï¼ˆæˆ‘ä»¬å°†é¢†å¯¼è€…è½¬åŒ–ä¸ºé›†åˆçš„ç¼–å·ï¼‰ï¼› å¹¶é›†ï¼ˆxï¼Œyï¼‰ç»„åˆxå’Œyæ‰€å±çš„é›†åˆã€‚ <br><br> é€šå¸¸åœ¨ç»“æ„å®ç°ä¸­ä½¿ç”¨çš„è·¯å¾„å‹ç¼©å¯å‘å¼ç®—æ³•å’Œç­‰çº§ç»„åˆå¯å‘å¼ç®—æ³•å…è®¸äººä»¬å®ç°æ¸è¿‘è¡Œä¸ºï¼Œåœ¨å®é™…æƒ…å†µä¸‹ï¼Œç­‰æ•ˆäºOï¼ˆ1ï¼‰ã€‚ <br><br> å‡è®¾æˆ‘ä»¬åœ¨æ‰§è¡ŒKraskalç®—æ³•çš„è¿‡ç¨‹ä¸­ä½¿ç”¨DSUæ¥ç»´æŠ¤æœ‰å…³å›¾è¿æ¥æ€§ç»„ä»¶çš„ä¿¡æ¯ã€‚ é‚£ä¹ˆè¯¥ç®—æ³•çš„æ¸è¿‘è¡Œä¸ºå°†æ˜¯Oï¼ˆM log M + Nï¼‰= Oï¼ˆM log Mï¼‰ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">å†³ç­–ä»£ç </b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CablesSolution</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> MODULLO = <span class="hljs-number"><span class="hljs-number">2147483647L</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] args)</span></span></span><span class="hljs-function"> </span></span>{ InputReader in = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InputReader(System.in); PrintWriter pw = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrintWriter(System.out); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> n = in.readInt(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> k = in.readInt(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> m = in.readInt(); DisjointUnionSets dsu = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> DisjointUnionSets(n + <span class="hljs-number"><span class="hljs-number">1</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; k; i++) { <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> u = in.readInt(); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> v = in.readInt(); dsu.union(u, v); } Edge[] edges = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Edge[m]; <span class="hljs-comment"><span class="hljs-comment">// (4 + 4 + 8) * 2M = 32M for (int i = 0; i &lt; m; i++) { int u = in.readInt(); int v = in.readInt(); long p = in.readLong(); edges[i] = new Edge(u, v, p); } Arrays.sort(edges); long res = 1; boolean addedEdge = false; for (Edge edge : edges) { if (!dsu.check(edge.getU(), edge.getV())) { dsu.union(edge.getU(), edge.getV()); res = (res * edge.getP()) % MODULLO; addedEdge = true; } } if (!dsu.isJoint()) { res = -1; } else if (!addedEdge) { res = 0; } pw.println(res); pw.flush(); pw.close(); } public static class DisjointUnionSets { private int[] rank; // 4M private int[] parent; // 4M DisjointUnionSets(int size) { rank = new int[size]; parent = new int[size]; for (int i = 0; i &lt; size; i++) { parent[i] = i; } } int find(int target) { if (parent[target] != target) { parent[target] = find(parent[target]); } return parent[target]; } boolean check(int x, int y) { return find(x) == find(y); } void union(int x, int y) { int xRoot = find(x); int yRoot = find(y); if (xRoot == yRoot) { return; } if (rank[xRoot] &lt; rank[yRoot]) { parent[xRoot] = yRoot; } else if (rank[yRoot] &lt; rank[xRoot]) { parent[yRoot] = xRoot; } else { parent[yRoot] = xRoot; rank[xRoot] = rank[xRoot] + 1; } } boolean isJoint() { int parent = -1; for (int i = 1; i &lt; rank.length; i++) { if (parent == -1) { parent = find(i); } else { if (parent != find(i)) { return false; } } } return true; } } private static class Edge implements Comparable&lt;Edge&gt; { private int u; private int v; private long p; Edge(int u, int v, long p) { this.u = u; this.v = v; this.p = p; } int getU() { return u; } int getV() { return v; } long getP() { return p; } @Override public int compareTo(Edge edge) { return Long.compare(p, edge.p); } } }</span></span></code> </pre> </div></div><br><h2>  B.çŸ­è¯­ä¸¢å¤± </h2>  <sup><i>å‘è¨€è€…ï¼šå¾·ç±³ç‰¹é‡ŒÂ·è²æ–¯ç§‘ï¼ˆDmitry Fiskoï¼‰</i></sup> <br><br> åœ¨æŸ¥çœ‹åº”ç”¨ç¨‹åºçš„æŒ‡æ ‡æ—¶ï¼Œç»ç†Vasilyå‡è®¾ç•Œé¢ç¼ºä¹å¸å¼•ç”¨æˆ·çš„çƒ­æƒ…ã€‚ å› æ­¤ï¼Œç“¦è¥¿é‡Œï¼ˆVasilyï¼‰è¦æ±‚ä½¿è®¾è®¡è€…Mariaçš„åº”ç”¨ç¨‹åºç•Œé¢å¤šæ ·åŒ–ã€‚ ç»è¿‡å‡ å¹…è‰å›¾ï¼Œç›ä¸½ç»ˆäºæ˜ç™½äº†ï¼ ä»ä¸€å¼€å§‹çš„æƒ³æ³•å°±æµ®å‡ºæ°´é¢-äº‹å®è¯æ˜ï¼Œæ‚¨éœ€è¦ä¸ºæ–‡æœ¬æ·»åŠ åŠ¨ç”»ã€‚ æˆ‘ä»¬é€‰æ‹©äº†å‡ ç§æ–‡æœ¬å¹¶åˆ¶ä½œäº†åŠ¨ç”»ã€‚ ä¸å¹¸çš„æ˜¯ï¼Œåœ¨å®Œæˆå·¥ä½œä¹‹åï¼ŒåŠ¨ç”»æ··åˆåœ¨ä¸€èµ·ï¼Œå¹¶ä¸”æ¯ä¸ªåŠ¨ç”»çš„æºæ–‡æœ¬éƒ½ä¸¢å¤±äº†ã€‚ å¸®åŠ©å›¢é˜Ÿäº†è§£æ¯ç§æƒ…å†µä¸‹çš„åŠ¨ç”»æ–‡å­—ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">I / Oæ ¼å¼ï¼Œç¤ºä¾‹å’Œæ³¨é‡Š</b> <div class="spoiler_text"><h4> è¾“å…¥æ ¼å¼ </h4><br> æ‚¨æœ‰å‡ ä¸ªå¸¦æœ‰ç»™å®šåŠ¨ç”»çš„æ–‡æœ¬æ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½éœ€è¦é€‰æ‹©é€‚å½“çš„æ–‡æœ¬ã€‚ <br><br>  <a href="https://yadi.sk/d/Pidz4td7MeHV3Q">é“¾æ¥åˆ°å¸¦æœ‰åŠ¨ç”»æ–‡ä»¶çš„å­˜æ¡£</a> ã€‚ <br><br> æ¯ä¸ªåŠ¨ç”»å‡ç”±å‚æ•°å®šä¹‰ï¼š <br>  <b>-canvasWidth canvasHeight-</b>åŠ¨ç”»å®¹å™¨çš„å®½åº¦å’Œé«˜åº¦ï¼Œåœ¨è¾“å…¥çš„ç¬¬ä¸€è¡Œä¸­æŒ‡å®šï¼Œ <br>  <b>-FiguresCount-</b>è¦åŠ¨ç”»æ˜¾ç¤ºçš„å›¾å½¢æ•°åœ¨è¾“å…¥çš„ç¬¬äºŒè¡Œä¸­è®¾ç½®ï¼Œ <br>  - <b>çŸ©å½¢centerX centerYå®½åº¦é«˜åº¦è§’é¢œè‰²</b> -å£°æ˜ä¸€ä¸ªä»¥ç‚¹ï¼ˆcenterXï¼ŒcenterYï¼‰ä¸ºä¸­å¿ƒçš„çŸ©å½¢ï¼Œå®½åº¦Ã—é«˜åº¦ï¼Œæ—‹è½¬è§’åº¦è§’åº¦å’ŒæŒ‡å®šçš„é¢œè‰²ï¼Œ <br>  - <b>åœ†centerX centerYåŠå¾„é¢œè‰²</b> -å£°æ˜ä¸€ä¸ªä»¥ç‚¹ä¸ºä¸­å¿ƒçš„åœ†ï¼ˆcenterXï¼ŒcenterYï¼‰ï¼ŒåŠå¾„åŠå¾„å’ŒæŒ‡å®šçš„é¢œè‰²ã€‚ <br><br>  colorå‚æ•°çš„å€¼å¯ä»¥ä¸º{blackï¼Œredï¼Œwhiteï¼Œyellow}ã€‚ è§’åº¦å‚æ•°çš„å–å€¼èŒƒå›´ä¸ºï¼ˆ-359Â°ï¼Œ359Â°ï¼‰ã€‚ <br><br> å¯¹äºæ¯ä¸ªå›¾å½¢ï¼Œå¯ä»¥ä¸€æ¬¡æŒ‡å®šå‡ ç§ç±»å‹çš„åŠ¨ç”»ï¼Œè¿™äº›åŠ¨ç”»å¯ä»¥å¹¶è¡Œåº”ç”¨ã€‚ æ­¤å¤–ï¼Œæ¯ç§åŠ¨ç”»ç±»å‹æœ€å¤šåªèƒ½åº”ç”¨äºä¸€ä¸ªå›¾å½¢ã€‚ å£°æ˜å›¾å½¢åç«‹å³é€šè¿‡æ•°å­—0â©½FigureAnimationsCountâ©½3è®¾ç½®åº”ç”¨äºå›¾å½¢çš„åŠ¨ç”»æ•°ã€‚ <br><br> åŠ¨ç”»ç±»å‹ï¼š <br>  - <b>ç§»åŠ¨destX destYæ—¶é—´[å‘¨æœŸ]</b> -å°†å›¾å½¢ç§»è‡³ä»¥æ¯«ç§’ä¸ºå•ä½çš„ç‚¹ï¼ˆdestXï¼ŒdestYï¼‰ã€‚ <br>  - <b>æ—‹è½¬è§’åº¦æ—¶é—´[å‘¨æœŸ]</b> -å›¾å½¢æ—‹è½¬è§’åº¦çš„æ—¶é—´å•ä½ä¸ºæ¯«ç§’ã€‚ <br>  - <b>ç¼©æ”¾destScaleæ—¶é—´[å‘¨æœŸ]</b> -ä»¥æ—¶é—´æ¯«ç§’ä¸ºå•ä½ï¼Œå°†æ•°å­—å¢åŠ destScaleã€‚ <br><br> å¦‚æœæŒ‡å®šäº†cycleå‚æ•°ï¼Œåˆ™åœ¨åŠ¨ç”»ç»“æŸæ—¶ï¼Œå…¶è¿åŠ¨å°†æ²¿ç›¸åæ–¹å‘ç»§ç»­ã€‚ <br><br><h4> è¾“å‡ºæ ¼å¼ </h4><br> æ’­æ”¾åŠ¨ç”»æ—¶æ˜¾ç¤ºçš„æ–‡æœ¬ã€‚ å¯¹äºæ¯ä¸ªåŠ¨ç”»æ–‡ä»¶ï¼Œç­”æ¡ˆå¿…é¡»åœ¨æ¢è¡Œç¬¦ä¸ŠæŒ‡ç¤ºã€‚ å“åº”ä¸­å­—ç¬¦çš„å¤§å°å†™å¯ä»¥æ˜¯ä»»æ„çš„ã€‚ åŠ¨ç”»ä¸­æ‰¾åˆ°çš„æ¯ä¸ªæ–‡æœ¬çš„è¯„åˆ†ä¸º10åˆ†ã€‚ <br><br><h4> ä¾‹å­ </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>è¿›å…¥</b> </td><td>  <b>ç»“è®º</b> </td></tr><tr><td> <code>400 400 <br> 10 <br> rectangle 69.000 280.000 24.000 24.000 0.000 black <br> 1 <br> move 251.000 72.000 10000 cycle <br> rectangle 256.000 188.000 24.000 48.000 0.000 black <br> 0 <br> rectangle 232.000 152.000 72.000 24.000 0.000 black <br> 0 <br> rectangle 35.000 400.000 24.000 24.000 0.000 black <br> 1 <br> move 285.000 -96.000 10000 cycle <br> rectangle 244.000 248.000 48.000 24.000 0.000 black <br> 0 <br> rectangle 300.000 117.000 24.000 48.000 0.000 black <br> 1 <br> move 112.000 164.000 5000 <br> rectangle 136.000 200.000 72.000 24.000 0.000 black <br> 0 <br> rectangle 160.000 236.000 24.000 48.000 0.000 black <br> 0 <br> rectangle 208.000 224.000 24.000 72.000 44.797 black <br> 1 <br> rotate -44.797 5000 <br> rectangle 232.000 200.000 24.000 24.000 0.000 black <br> 0</code> </td> <td> <code>42</code> </td> </tr></tbody></table></div><h4> æ³¨æ„äº‹é¡¹ </h4><br> ç¤ºä¾‹ä¸­åŠ¨ç”»çš„å¯è§†åŒ–ï¼š <br><br><img src="https://habrastorage.org/webt/35/k7/3k/35k73kldyohxgp1pqpsfooq9lyy.gif"></div></div><br><h4> è§£å†³æ–¹æ¡ˆ </h4><br> ä»»åŠ¡æ˜¯å®ç°åŠ¨ç”»ã€‚ å¦‚æœæ­£ç¡®å®ç°äº†åŠ¨ç”»ï¼Œåˆ™åœ¨æ’­æ”¾æ—¶ï¼Œä¼šå°†è®¸å¤šåŸºå…ƒæ·»åŠ åˆ°å¯è¯»æ–‡æœ¬ä¸­ã€‚ åŠ¨ç”»å¯ä»¥ä½¿ç”¨ä»»ä½•æ–¹å¼å®Œæˆ-é›†æˆåˆ°ç§»åŠ¨å¹³å°æˆ–è¾ƒä½çº§åˆ«çš„è§£å†³æ–¹æ¡ˆä¸­ã€‚ <br><br> åŠ¨ç”»ç¤ºä¾‹ï¼ˆ <a href="https://yadi.sk/i/-LWlPWXbM2DbDg">é“¾æ¥åˆ°.movæ–‡ä»¶</a> ï¼‰ï¼š <br><br><img src="https://habrastorage.org/webt/ig/qi/le/igqile0qssc9k4crzwgste6buba.gif"><br><br><div class="spoiler">  <b class="spoiler_title">ä½¿ç”¨æ¥è‡ªPythonçš„Tkinteråº“çš„ç¤ºä¾‹å®ç°</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> copy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> math <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> tkinter <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> enum <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Enum FRAMES_PER_SECOND = <span class="hljs-number"><span class="hljs-number">60</span></span> TIME_BETWEEN_FRAMES = int(<span class="hljs-number"><span class="hljs-number">1000</span></span> / FRAMES_PER_SECOND) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Rectangle</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_x, left_y, width, height, color, angle=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.0</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> self.center_x = left_x + width / <span class="hljs-number"><span class="hljs-number">2</span></span> self.center_y = left_y + height / <span class="hljs-number"><span class="hljs-number">2</span></span> self.width = width self.height = height self.color = color self.angle = angle <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_left_x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.center_x - self.width / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set_left_x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_x)</span></span></span><span class="hljs-function">:</span></span> self.center_x = left_x + self.width / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_left_y</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.center_y - self.height / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set_left_y</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_y)</span></span></span><span class="hljs-function">:</span></span> self.center_y = left_y + self.height / <span class="hljs-number"><span class="hljs-number">2</span></span> left_x = property(get_left_x, set_left_x) left_y = property(get_left_y, set_left_y) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Circle</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_x, left_y, radius, color)</span></span></span><span class="hljs-function">:</span></span> self.center_x = left_x + radius self.center_y = left_y + radius self.radius = radius self.color = color self.angle = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_left_x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.center_x - self.radius <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set_left_x</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_x)</span></span></span><span class="hljs-function">:</span></span> self.center_x = left_x + self.radius <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_left_y</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.center_y - self.radius <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">set_left_y</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, left_y)</span></span></span><span class="hljs-function">:</span></span> self.center_y = left_y + self.radius left_x = property(get_left_x, set_left_x) left_y = property(get_left_y, set_left_y) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnimationType</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Enum)</span></span></span><span class="hljs-class">:</span></span> MOVE = <span class="hljs-number"><span class="hljs-number">1</span></span> ROTATE = <span class="hljs-number"><span class="hljs-number">2</span></span> SCALE = <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Animation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time, cycle)</span></span></span><span class="hljs-function">:</span></span> self.time = time self.cycle = cycle <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">angle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_cycle_progress</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> self.cycle: cycle_time = time_spent % (self.time * <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> cycle_time &gt; self.time: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> - (cycle_time - self.time) / self.time <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cycle_time / self.time <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> time_spent &lt; self.time: cycle_time = time_spent % self.time <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> cycle_time / self.time <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MoveAnimation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Animation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, figure, to_x, to_y, time, cycle)</span></span></span><span class="hljs-function">:</span></span> super().__init__(time, cycle) self.from_x = figure.center_x self.from_y = figure.center_y self.to_x = to_x self.to_y = to_y <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> cycle_progress = super()._cycle_progress(time_spent) diff_x = self.to_x - self.from_x diff_y = self.to_y - self.from_y <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> diff_x * cycle_progress, diff_y * cycle_progress <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScaleAnimation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Animation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, destination_scale, time, cycle)</span></span></span><span class="hljs-function">:</span></span> super().__init__(time, cycle) self.destination_scale = destination_scale <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> cycle_progress = super()._cycle_progress(time_spent) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> + (self.destination_scale - <span class="hljs-number"><span class="hljs-number">1</span></span>) * cycle_progress <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RotateAnimation</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Animation)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, rotate_angle, time, cycle)</span></span></span><span class="hljs-function">:</span></span> super().__init__(time, cycle) self.rotate_angle = rotate_angle <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">angle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> cycle_progress = super()._cycle_progress(time_spent) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.rotate_angle * cycle_progress <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Transformer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, scale)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, diff_x, diff_y)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rotate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, angle)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RectangleTransformer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Transformer)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, rectangle)</span></span></span><span class="hljs-function">:</span></span> self.rectangle = rectangle <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, scale)</span></span></span><span class="hljs-function">:</span></span> self.rectangle.width = self.rectangle.width * scale self.rectangle.height = self.rectangle.height * scale <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, diff_x, diff_y)</span></span></span><span class="hljs-function">:</span></span> self.rectangle.center_x = self.rectangle.center_x + diff_x self.rectangle.center_y = self.rectangle.center_y + diff_y <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rotate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, angle)</span></span></span><span class="hljs-function">:</span></span> self.rectangle.angle = (self.rectangle.angle + angle) % <span class="hljs-number"><span class="hljs-number">360</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CircleTransformer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Transformer)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, circle)</span></span></span><span class="hljs-function">:</span></span> self.circle = circle <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scale</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, scale)</span></span></span><span class="hljs-function">:</span></span> self.circle.radius = self.circle.radius * scale <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, diff_x, diff_y)</span></span></span><span class="hljs-function">:</span></span> self.circle.center_x = self.circle.center_x + diff_x self.circle.center_y = self.circle.center_y + diff_y <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rotate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, angle)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Drawer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, canvas, spent_time)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">pass</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnimationApplier</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">apply_animations</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(spent_time, transformer, animations)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> animation <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> animations: transformer.scale(animation.scale(spent_time)) diff_x, diff_y = animation.move(spent_time) transformer.move(diff_x, diff_y) transformer.rotate(animation.angle(spent_time)) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RectangleDrawer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Drawer)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, rectangle, animations)</span></span></span><span class="hljs-function">:</span></span> self.rectangle = rectangle self.animations = animations <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, canvas, spent_time)</span></span></span><span class="hljs-function">:</span></span> rect = self._transform_rect_with_animations(spent_time) rect_points = self._get_rectangle_points(rect) rotated_points = self._rotate(rect_points, rect.angle, [rect.center_x, rect.center_y]) canvas.create_polygon(rotated_points, fill=rect.color) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_transform_rect_with_animations</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, spent_time)</span></span></span><span class="hljs-function">:</span></span> rect = copy.copy(self.rectangle) transformer = RectangleTransformer(rect) AnimationApplier.apply_animations(spent_time, transformer, self.animations) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> transformer.rectangle @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_get_rectangle_points</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(rect)</span></span></span><span class="hljs-function">:</span></span> half_width = rect.width / <span class="hljs-number"><span class="hljs-number">2</span></span> half_height = rect.height / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ [rect.center_x - half_width, rect.center_y - half_height], [rect.center_x - half_width, rect.center_y + half_height], [rect.center_x + half_width, rect.center_y + half_height], [rect.center_x + half_width, rect.center_y - half_height] ] @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_rotate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(points, angle, center)</span></span></span><span class="hljs-function">:</span></span> angle = math.radians(angle) cos_val = math.cos(angle) sin_val = math.sin(angle) cx, cy = center new_points = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x_old, y_old <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> points: x_old -= cx y_old -= cy x_new = x_old * cos_val - y_old * sin_val y_new = x_old * sin_val + y_old * cos_val new_points.append([x_new + cx, y_new + cy]) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> new_points <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CircleDrawer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Drawer)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, circle, animations)</span></span></span><span class="hljs-function">:</span></span> self.circle = circle self.animations = animations <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, canvas, spent_time)</span></span></span><span class="hljs-function">:</span></span> circle = self._transform_rect_with_animations(spent_time) size = circle.radius * <span class="hljs-number"><span class="hljs-number">2</span></span> canvas.create_oval(circle.left_x, circle.left_y, circle.left_x + size, circle.left_y + size, fill=circle.color) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_transform_rect_with_animations</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, spent_time)</span></span></span><span class="hljs-function">:</span></span> circle = copy.copy(self.circle) transformer = CircleTransformer(circle) AnimationApplier.apply_animations(spent_time, transformer, self.animations) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> transformer.circle <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Scene</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, canvas, animated_symbols)</span></span></span><span class="hljs-function">:</span></span> self.canvas = canvas self.drawers = self._get_generated_drawers(animated_symbols) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_get_generated_drawers</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(animated_symbols)</span></span></span><span class="hljs-function">:</span></span> drawers = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> animated_symbol <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> animated_symbols: figure = animated_symbol.figure animations = animated_symbol.animations <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> isinstance(figure, Rectangle): drawer = RectangleDrawer(figure, animations) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> isinstance(figure, Circle): drawer = CircleDrawer(figure, animations) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> Exception() drawers.append(drawer) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> drawers <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">draw</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, time_spent)</span></span></span><span class="hljs-function">:</span></span> self.canvas.delete(<span class="hljs-string"><span class="hljs-string">"all"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> drawer <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.drawers: drawer.draw(self.canvas, time_spent) self.canvas.pack() <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Timer</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.started_time = <span class="hljs-keyword"><span class="hljs-keyword">None</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">start</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> self.started_time = self._current_time() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">time_spent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self)</span></span></span><span class="hljs-function">:</span></span> current_time = self._current_time() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> current_time - self.started_time @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_current_time</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> int(round(time.time() * <span class="hljs-number"><span class="hljs-number">1000</span></span>)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scene_loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(window, scene, timer)</span></span></span><span class="hljs-function">:</span></span> time_spent = timer.time_spent() scene.draw(time_spent) window.after(TIME_BETWEEN_FRAMES, scene_loop, window, scene, timer) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">configure_window_location</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(window, canvas_width, canvas_height)</span></span></span><span class="hljs-function">:</span></span> screen_width = window.winfo_screenwidth() screen_height = window.winfo_screenheight() x = (screen_width / <span class="hljs-number"><span class="hljs-number">2</span></span>) - (canvas_width / <span class="hljs-number"><span class="hljs-number">2</span></span>) y = (screen_height / <span class="hljs-number"><span class="hljs-number">2</span></span>) - (canvas_height / <span class="hljs-number"><span class="hljs-number">2</span></span>) window.geometry(<span class="hljs-string"><span class="hljs-string">'%dx%d+%d+%d'</span></span> % (canvas_width, canvas_height, x, y)) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnimatedSymbol</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, figure, animations)</span></span></span><span class="hljs-function">:</span></span> self.figure = figure self.animations = animations <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AnimationsParser</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">parse_animated_symbols</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, file_path)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> open(file_path) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> f: lines = f.readlines() canvas_width, canvas_height = self._parse_size(lines[<span class="hljs-number"><span class="hljs-number">0</span></span>]) symbols_count = int(lines[<span class="hljs-number"><span class="hljs-number">1</span></span>]) animated_symbols = [] current = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(symbols_count): figure = self._parse_figure(lines[current]) current += <span class="hljs-number"><span class="hljs-number">1</span></span> symbol_animations = self._parse_animations(figure, current, lines) current += <span class="hljs-number"><span class="hljs-number">1</span></span> + len(symbol_animations) animated_symbol = AnimatedSymbol(figure, symbol_animations) animated_symbols.append(animated_symbol) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> canvas_width, canvas_height, animated_symbols <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_size</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, line)</span></span></span><span class="hljs-function">:</span></span> parts = line.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> int(parts[<span class="hljs-number"><span class="hljs-number">0</span></span>]), int(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_animations</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, figure, current, lines)</span></span></span><span class="hljs-function">:</span></span> animations = [] animations_count = int(lines[current]) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(animations_count): parts = lines[current + i + <span class="hljs-number"><span class="hljs-number">1</span></span>].split(<span class="hljs-string"><span class="hljs-string">" "</span></span>) animation = self._parse_animation(figure, parts) animations.append(animation) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> animations <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_figure</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, line)</span></span></span><span class="hljs-function">:</span></span> parts = line.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> parts[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">'rectangle'</span></span>: center_x = float(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) center_y = float(parts[<span class="hljs-number"><span class="hljs-number">2</span></span>]) width = float(parts[<span class="hljs-number"><span class="hljs-number">3</span></span>]) height = float(parts[<span class="hljs-number"><span class="hljs-number">4</span></span>]) angle = float(parts[<span class="hljs-number"><span class="hljs-number">5</span></span>]) color = parts[<span class="hljs-number"><span class="hljs-number">6</span></span>].replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) figure = Rectangle(center_x - width / <span class="hljs-number"><span class="hljs-number">2</span></span>, center_y - height / <span class="hljs-number"><span class="hljs-number">2</span></span>, width, height, color, angle) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> parts[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">'circle'</span></span>: center_x = float(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) center_y = float(parts[<span class="hljs-number"><span class="hljs-number">2</span></span>]) radius = float(parts[<span class="hljs-number"><span class="hljs-number">3</span></span>]) color = parts[<span class="hljs-number"><span class="hljs-number">4</span></span>].replace(<span class="hljs-string"><span class="hljs-string">'\n'</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>) figure = Circle(center_x - radius, center_y - radius, radius, color) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> Exception() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> figure <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_animation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, figure, parts)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> parts[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">"move"</span></span>: animation = self._parse_move_animation(figure, parts) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> parts[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">"scale"</span></span>: animation = self._parse_scale_animation(parts) <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> parts[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-string"><span class="hljs-string">"rotate"</span></span>: animation = self._parse_rotate_animation(parts) <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">raise</span></span> Exception() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> animation @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_move_animation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(figure, parts)</span></span></span><span class="hljs-function">:</span></span> to_x = float(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) to_y = float(parts[<span class="hljs-number"><span class="hljs-number">2</span></span>]) time = float(parts[<span class="hljs-number"><span class="hljs-number">3</span></span>]) cycle = len(parts) &gt;= <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MoveAnimation(figure, to_x, to_y, time, cycle) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_scale_animation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(parts)</span></span></span><span class="hljs-function">:</span></span> destination_scale = float(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) time = float(parts[<span class="hljs-number"><span class="hljs-number">2</span></span>]) cycle = len(parts) &gt;= <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ScaleAnimation(destination_scale, time, cycle) @staticmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_parse_rotate_animation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(parts)</span></span></span><span class="hljs-function">:</span></span> rotate_angle = float(parts[<span class="hljs-number"><span class="hljs-number">1</span></span>]) time = float(parts[<span class="hljs-number"><span class="hljs-number">2</span></span>]) cycle = len(parts) &gt;= <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> RotateAnimation(rotate_angle, time, cycle) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> canvas_width, canvas_height, animated_symbols = \ AnimationsParser().parse_animated_symbols(<span class="hljs-string"><span class="hljs-string">'animation_path.txt'</span></span>) window = tkinter.Tk() configure_window_location(window, canvas_width, canvas_height) canvas = tkinter.Canvas(window, width=canvas_width, height=canvas_height) scene = Scene(canvas, animated_symbols) timer = Timer() timer.start() window.after(TIME_BETWEEN_FRAMES, scene_loop, window, scene, timer) window.mainloop() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">"__main__"</span></span>: main()</code> </pre> </div></div><br><h2>  C.ä¿„ç½—æ–¯æ–¹å—æœºå™¨äºº </h2>  <sup><i>ä½œè€…ï¼šå¾·ç±³ç‰¹é‡ŒÂ·æ¶…å¤«å¤šå§†æ–¯åŸº</i></sup> <br><div class="scrollable-table"><table><tbody><tr><td> æ—¶é—´é™åˆ¶ </td><td>  1ç§’ </td></tr><tr><td> å†…å­˜é™åˆ¶ </td><td>  256å…†å­—èŠ‚ </td></tr><tr><td> è¿›å…¥ </td><td> æ ‡å‡†è¾“å…¥æˆ–input.txt </td></tr><tr><td> ç»“è®º </td><td> æ ‡å‡†è¾“å‡ºæˆ–output.txt </td></tr></tbody></table></div> å¿™ç¢Œçš„Arkadyå–œæ¬¢èŠ±ç©ºé—²æ—¶é—´å‚åŠ å„ç§å¤å¤è®¡ç®—æœºæ‹å–ã€‚ åœ¨å…¶ä¸­ä¹‹ä¸€ä¸Šï¼Œä»–çœ‹åˆ°äº†è§è¿‡ç”Ÿæ´»çš„Commodoroï¼ŒArkadyæ€¥å¿™è´­ä¹°äº†ã€‚ è¿™æ¬¡ä»–ä¸ä»…è´­ä¹°äº†ç¡¬ä»¶ï¼Œè€Œä¸”è¿˜è´­ä¹°äº†è½¯ä»¶ï¼Œè®¡ç®—æœºä¸Šç­‰å¾…ç€ä»–çš„æ˜¯ä¸€ä¸ªæƒŠå–œ-å‰ä»»è€æ¿è¿˜æ²¡æœ‰å®Œæˆä¿„ç½—æ–¯æ–¹å—ã€‚ æ ¹æ®ç»éªŒï¼Œé˜¿å¡è¿ªï¼ˆArkadyï¼‰é˜æ˜äº†è‡ªå·±çš„è§„åˆ™ã€‚ <br><br> ä¸ºç©å®¶æä¾›äº†10ä¸ªå•å…ƒæ ¼å®½åº¦å’Œæ— é™é«˜åº¦çš„ä¿„ç½—æ–¯æ–¹å—åœºã€‚ å¿…é¡»åœ¨å­—æ®µä¸Šæ”¾ç½®çš„æ‰€æœ‰å››æ°¨åŸºçš„åˆ—è¡¨ã€‚ å››èšèƒºç«‹å³â€œä¸‹è½â€ï¼Œå³å®ƒä»¬çš„ä½ç½®ä¸ºç›¸åº”çš„ç§»åŠ¨è®¾ç½®ä¸€æ¬¡ï¼Œå¹¶ä¸”åœ¨ä¸‹è½æœŸé—´ï¼Œä½ç½®å’Œæ—‹è½¬æ— æ³•æ›´æ”¹ã€‚ <br><br>  Tetraminoæ‘”å€’ç›´åˆ°è·Œå€’åœ¨åº•éƒ¨æˆ–å…¶ä»–ç‰©ä½“ä¸Šã€‚ å¦‚æœåŒæ—¶å¡«æ»¡è¯¥å­—æ®µçš„æ•´ä¸ªè¡Œï¼Œåˆ™è¯¥è¡Œä¼šæ¶ˆå¤±ï¼Œå¹¶ä¸”å…¶ä¸Šæ–¹çš„æ‰€æœ‰å†…å®¹éƒ½å°†è½åœ¨ä¸‹æ–¹çš„ä¸€ä¸ªå•å…ƒæ ¼ä¸­ã€‚ <br><br> è·å¾—çš„ç‚¹æ•°ç”±ç ´åçš„è¡Œæ•°ç¡®å®šã€‚ æ”¾ç½®æ‰€æœ‰å»ºè®®çš„æ£‹å­åï¼Œæ¸¸æˆç»“æŸã€‚ æ¸¸æˆçš„ä½œè€…ç•™ä¸‹ä¸€å¼ è®°å½•è¡¨ï¼Œä»–æœ¬äººå æ®äº†æ‰€æœ‰ä½ç½®ã€‚ <br><br> å¦‚å‰æ‰€è¿°ï¼ŒArkadyæ˜¯ä¸€ä¸ªéå¸¸å¿™ç¢Œçš„äººã€‚ ä½†æ˜¯ä»–ä¹Ÿå¾ˆèµŒåšã€‚ å¸®åŠ©ä»–æˆä¸ºè¿™ä¸ªæ¸¸æˆä¸­æœ€å¥½çš„ã€‚ <br><br>  <b>å›¾è¡¨åŠå…¶å¯èƒ½çš„è½¬å¼¯</b> <br><img src="https://habrastorage.org/webt/kq/l2/su/kql2suwzyyoghl7iat7ryncfaty.png"><br><div class="spoiler">  <b class="spoiler_title">I / Oæ ¼å¼ï¼Œç¤ºä¾‹å’Œæ³¨é‡Š</b> <div class="spoiler_text"><h4> è¾“å…¥æ ¼å¼ </h4><br> è¾“å…¥æ•°æ®ä½äºæ–‡ä»¶input1.txtï¼Œinput2.txtï¼Œ...ï¼Œinput10.txtä¸­ã€‚  <a href="https://yadi.sk/d/YEFUMhJnnQsBYQ">å­˜æ¡£æ–‡ä»¶</a> ã€‚ <br><br> ç¬¬ä¸€è¡ŒåŒ…å«æ­£æ•°Nï¼ˆNâ‰¤100ï¼‰ã€‚ <br><br> åœ¨éšåçš„æ¯ä¸€è¡Œä¸­ï¼Œå°†ä¼ è¾“æ¥è‡ªé›†åˆ<code>{'O', 'S', 'Z', 'L', 'J', 'T', 'I'}</code>çš„å•ä¸ªæ‹‰ä¸å­—ç¬¦ã€‚ <br><br> æ¯ä¸ªç¬¦å·ä»£è¡¨ä¸€ä¸ªå››æ°¨åŸºå›¾ã€‚ <br><br><h4> è¾“å‡ºæ ¼å¼ </h4><br> ä¸ºäº†è¿›è¡ŒéªŒè¯ï¼Œæ‚¨å¿…é¡»æäº¤ä¸€ä¸ªzipå½’æ¡£æ–‡ä»¶ï¼Œå…¶è¾“å‡ºæ–‡ä»¶ä½äºå…¶æ ¹ç›®å½•ä¸­ï¼Œåç§°ä¸ºoutput1.txtï¼Œoutput2.txtï¼Œ...ï¼Œoutput10.txtï¼Œå…¶ä¸­è¾“å‡ºæ–‡ä»¶outputX.txtåº”å¯¹åº”äºè¾“å…¥æ–‡ä»¶inputX.txtã€‚ <br> å“åº”æ–‡ä»¶ç”±Nè¡Œç»„æˆï¼Œæ¯è¡Œå¯¹åº”äºè¾“å…¥æ•°æ®ä¸­çš„ä¸€ä¸ªå››ç±³è¯ºéª¨ç‰Œï¼Œå¹¶ä¸”ç”±ä¸¤ä¸ªæ•°å­—A <sub>i</sub>å’ŒB <sub>iç»„æˆ</sub> ï¼ŒæŒ‡ç¤ºç©å®¶æŒ‰ç…§å»ºè®®çš„å›¾å½¢ç§»åŠ¨ã€‚ <br><br>  1. A <sub>i</sub>è¡¨ç¤ºæœ€å·¦è¾¹çš„å››æ°¨åŸºå…ƒç´ çš„åˆ—ï¼ˆ1â‰¤A iâ‰¤10ï¼‰ã€‚ <br>  2. B <sub>i</sub>è¡¨ç¤ºå››æ°¨åŸºï¼ˆ1â‰¤B iâ‰¤4ï¼‰çš„æ—‹è½¬æ–¹å‘ã€‚ <br><br> å¦‚æœæ‰€éœ€æ–‡ä»¶ä¸åœ¨å­˜æ¡£ä¸­æˆ–æ ¼å¼ä¸æ­£ç¡®ï¼Œåˆ™å¯¹åº”çš„æµ‹è¯•å°†è·å¾—0åˆ†ã€‚ <br><br><h4> ä¾‹å­ </h4><div class="scrollable-table"><table><tbody><tr><td>  <b>è¿›å…¥</b> </td><td>  <b>ç»“è®º</b> </td></tr><tr><td> <code>15 <br> Z <br> O <br> L <br> O <br> J <br> S <br> T <br> J <br> Z <br> J <br> Z <br> S <br> Z <br> I <br> O</code> </td> <td> <code>1 2 <br> 9 1 <br> 6 4 <br> 9 1 <br> 3 2 <br> 6 1 <br> 1 2 <br> 4 1 <br> 6 2 <br> 3 1 <br> 8 2 <br> 2 2 <br> 4 1 <br> 10 1 <br> 6 1</code> </td> </tr></tbody></table></div><h4> æ³¨æ„äº‹é¡¹ </h4><br> åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå°†é”€æ¯4è¡Œã€‚ <br><br> å­—æ®µçš„æœ€ç»ˆçŠ¶æ€ï¼š <br><br><img src="https://habrastorage.org/webt/kk/l3/m3/kkl3m3iepvoc6olrzp5mmawvr1y.png"><br><br> é”™è¯¯ä»£ç ä¿¡æ¯ï¼š <br><br>  1. PE-å‘ç”Ÿè¾“å‡ºé”™è¯¯ï¼ˆä¾‹å¦‚ï¼Œè¯¥å›¾æ²¡æœ‰æ—‹è½¬ï¼‰ <br>  2. WA-æ­£ç¡®æä¾›äº†æœ‰å…³å›¾å½¢æ—‹è½¬å’Œä½ç½®çš„ä¿¡æ¯ï¼Œä½†æ˜¯è¿™ç§å¸ƒç½®è¶…å‡ºäº†é¢†åŸŸçš„èŒƒå›´ã€‚ <br>  3. TLï¼ŒMLï¼ŒOKï¼ŒRE-è¿™äº›ä»£ç ä¸Yandex.Contestç³»ç»Ÿè§„åˆ™ä¸­çš„å«ä¹‰ç›¸åŒã€‚ <br><br> ç”±äºé—®é¢˜æ˜¯NPå®Œå…¨é—®é¢˜ï¼Œå› æ­¤ä»æ•°å­¦è§’åº¦æ¥çœ‹ï¼Œè§£å†³æ–¹æ¡ˆä¸ä¸€å®šæ˜¯æœ€ä¼˜çš„ã€‚ å†³ç­–çš„æœ‰æ•ˆæ€§å–å†³äºå¾—åˆ†çš„åˆ†æ•°ã€‚ </div></div><br><h4> è§£å†³æ–¹æ¡ˆ </h4><br> è¿™æ˜¯ä¸€é¡¹å¼€æ”¾æµ‹è¯•ä»»åŠ¡ã€‚ è®©æˆ‘ä»¬å¼„æ¸…æ¥šè¿™æ„å‘³ç€ä»€ä¹ˆã€‚ <br><br> å‚ä¸è€…å¯ä»¥éšæ„ä½¿ç”¨ä¸€ä¸ªzipå­˜æ¡£ï¼Œå…¶æ ¹ç›®å½•ä¸ºæ–‡æœ¬æ–‡ä»¶input1.txtï¼Œinput2.txtï¼Œ...ï¼Œinput10.txtã€‚ ä¸€ä¸ªæ–‡ä»¶æ˜¯ä¸€ç»„è¦æ’åˆ—çš„å››æ°¨åŸºå›¾å½¢ã€‚ ä½œä¸ºå‚ä¸è€…çš„å›åº”ï¼Œåº”è¯¥ä¼šç”Ÿæˆä¸€ä¸ªzipå½’æ¡£æ–‡ä»¶ï¼Œå…¶æ ¹ç›®å½•ä¸ºæ–‡ä»¶output1.txtï¼Œoutput2.txtï¼Œ...ï¼Œoutput10.txtã€‚ æ¯ä¸ªæ–‡ä»¶éƒ½å¿…é¡»åŒ…å«åœ¨ç›¸åº”é›†åˆçš„æ–‡ä»¶ä¸­æŒ‡å®šçš„é¡ºåºç›¸åŒçš„ç§»åŠ¨é¡ºåºã€‚ <br><br> è¯¥ä»»åŠ¡æ˜¯NPå®Œæˆçš„ï¼Œè€Œ100ï¼…çš„è§£å†³æ–¹æ¡ˆåªæ˜¯ç©·ä¸¾æœç´¢ã€‚ å› æ­¤ï¼Œå¤æ‚åº¦éšç€å›¾å½¢æ•°é‡çš„å¢åŠ è€Œå‘ˆæŒ‡æ•°å¢é•¿ã€‚ ç”±äºä¸å¿…äº¤å‡ºè§£å†³æ–¹æ¡ˆä»£ç ï¼Œå› æ­¤åœ¨å†…å­˜å’Œæ‰§è¡Œæ—¶é—´ä¸Šæ²¡æœ‰ä»»ä½•é™åˆ¶ã€‚ <br><br> å½“è¾¾åˆ°â€œä»¤äººæ»¡æ„â€çš„è´¨é‡æ—¶ï¼Œè¯¥ä»»åŠ¡çš„æ»¡åˆ†ä¸º-è§£å†³æ–¹æ¡ˆåº”è·å¾—60ï¼…çš„åˆ†æ•°ã€‚ ä½œè€…å¯¹é—®é¢˜çš„è§£å†³æ–¹æ¡ˆçš„å¾—åˆ†ä¹Ÿä¸€æ ·é«˜ï¼Œè¿™æ˜¯åŸºäºåœ¨æ ‡å‡†Tetriséšæœºå‘ç”Ÿå™¨ä¸Šè®­ç»ƒçš„é—ä¼ ç®—æ³•å¾—å‡ºçš„ã€‚ è¯¥<a href="https://tetris.fandom.com/wiki/Random_Generator">æ–‡ç« </a>ä»‹ç»<a href="https://tetris.fandom.com/wiki/Random_Generator">äº†</a>æ­¤éšæœºåŒ–å™¨ã€‚ <br><br> å‰©ä¸‹çš„ä»»åŠ¡ä¸ç¼–å†™ä¿„ç½—æ–¯æ–¹å—çš„å¸¸è§„botå¹¶æ²¡æœ‰å¤ªå¤§åŒºåˆ«ï¼Œåªæ˜¯æ¯”èµ›åœºåœ°çš„â€œç»ç’ƒæ¯â€é«˜åº¦ä¸å—é™åˆ¶ã€‚ å› æ­¤ï¼Œå†³å®šæˆåŠŸä¸å¦å–å†³äºæœºå™¨äººåœ¨ä¸è¶…å‡ºâ€œçœ¼é•œâ€èŒƒå›´çš„å‰æä¸‹å¯ä»¥ç©å¤šé•¿æ—¶é—´ï¼Œè€Œæ˜¯å–å†³äºæœºå™¨äººèƒ½å¦æˆåŠŸæ’åˆ—æœ‰é™çš„ä¸€ç»„æ•°å­—ã€‚ <br><br> å‚ä¸è€…å¯ä»¥è‡ªç”±é€‰æ‹©è§£å†³æ–¹æ¡ˆç­–ç•¥ã€‚ ä»¥ä¸‹æ˜¯å…¶ä¸­ä¸€äº›é¡ºåºï¼Œä»¥å¢åŠ å¤æ‚æ€§å’Œå¢åŠ åˆ†æ•°çš„é¡ºåºï¼š <br><br>  1.æˆ‘ä»¬ä¸ä½¿ç”¨ä»£ç å°±ç©â€œæ‰‹ç‰Œâ€ï¼Œå†™ä¸‹è§£å†³æ–¹æ¡ˆä¸­çš„åŠ¨ä½œã€‚ <br>  2.æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªå¯è§†åŒ–å·¥å…·å¹¶ç©â€œæ‰‹â€ï¼Œå†™ä¸‹è§£å†³æ–¹æ¡ˆä¸­çš„åŠ¨ä½œã€‚ <br>  3.è´ªå©ªç®—æ³•ã€‚ åœ¨æ¯ä¸ªå›åˆä¸­ï¼Œæˆ‘ä»¬éƒ½ä¼šå°è¯•æ”¾ç½®ä¸€å—ï¼Œä»¥ä½¿ç ´åçš„è¡Œæ•°è¾¾åˆ°æœ€å¤§ã€‚ å¦‚æœæœ‰å¤šä¸ªè¿™æ ·çš„é€‰é¡¹ï¼Œè¯·éšæœºé€‰æ‹©å…¶ä¸­ä»»ä½•ä¸€ä¸ªã€‚ <br>  4.ä¸ç¬¬3æ®µç›¸åŒçš„è´ªå©ªç®—æ³•ï¼Œåªæ˜¯æ£€æŸ¥çš„ä¸æ˜¯è®¾ç½®ä¸€ä¸ªå›¾å½¢çš„æˆåŠŸï¼Œè€Œæ˜¯ç©·ä¸¾æœç´¢ä¸€ç»„å›¾å½¢ï¼ˆä¾‹å¦‚ï¼Œä¸€ç»„äº”ä¸ªå›¾å½¢ï¼‰çš„æˆåŠŸã€‚ <br>  5.é—ä¼ ç®—æ³•ã€‚ æˆ‘ä»¬åœ¨é€‚åº”åº¦å‡½æ•°ä¸­ä¸ä»…è€ƒè™‘äº†è´ªå©ªç®—æ³•ä¸­çš„æ–­è¡Œæ•°ï¼Œè¿˜è€ƒè™‘äº†å­—æ®µâ€œæµ®é›•â€çš„å¹³æ»‘åº¦ï¼Œä¾‹å¦‚ï¼Œå›¾å½¢ä¹‹é—´å½¢æˆçš„è‡ªç”±ç©ºé—´çš„æ•°é‡ã€‚ <br><br><h2>  Då’ŒE.Quest </h2>  <sup><i>ä½œè€…ï¼šIlimdar Ablyaevå’ŒIlya Kuteev</i></sup> <br><br>  Mishaåœ¨ä»»åŠ¡ç±»å‹ä¸­åˆ¶ä½œäº†ä¸€æ¬¾æ‰‹æœºæ¸¸æˆã€‚ ä»–åœ¨äº’è”ç½‘ä¸Šæ‰¾åˆ°äº†ä¸€ä¸ªå¸¦æœ‰æ¸¸æˆå¼•æ“çš„ç°æˆåº“ï¼Œå¹¶åŸºäºè¯¥åº“åˆ›å»ºäº†ä¸€ä¸ªç•Œé¢ã€‚  Mishaæ€¥äºå‘å¸ƒæ¸¸æˆï¼Œå¹¶åœ¨å¼€å‘è¿‡ç¨‹ä¸­çŠ¯äº†ä¸€äº›é”™è¯¯ã€‚ ä¸ºäº†æŒ‰æ—¶å®Œæˆé¡¹ç›®ï¼ŒMishaå‘æ‚¨å¯»æ±‚å¸®åŠ©ã€‚ ä¸‹è½½é¡¹ç›®ï¼Œæ›´æ­£ç¼–è¯‘é”™è¯¯ï¼Œå´©æºƒå’Œå…¶ä¸­çš„é€»è¾‘é”™è¯¯ã€‚ å®Œæˆä»»åŠ¡ï¼Œç„¶åè½¬åˆ°Bingoå±å¹•ï¼Œè¯¥å±å¹•ä¸Šä¼šå‡ºç°ä¸€ä¸ªç§˜å¯†çŸ­è¯­ã€‚ å¥¹å°†æ˜¯è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆã€‚ <br><br> ä½¿ç”¨ä»¥ä¸‹é¡¹ç›®ä¸‹è½½æ¡£æ¡ˆï¼š <a href="https://yadi.sk/d/pSevFNC3wACyGQ">Android</a> ï¼Œ <a href="https://yadi.sk/d/scriCzh0-XblPQ">iOS</a> ã€‚ è¾“å‡ºæ ¼å¼æ˜¯ä¸€ä¸ªç§˜å¯†çŸ­è¯­ï¼ˆå­—ç¬¦ä¸²ï¼Œæœ€å¤š255ä¸ªå­—ç¬¦ï¼‰ã€‚ <br><br><h4>  Androidè§£å†³æ–¹æ¡ˆ </h4><br> 1)        . <br><br> 2)        ,   IDE. <br><br><ol><li>   final  mBackButton  mTitleTextView,      . </li><li>    mTitleTextView  mBackButton   ,      ,       . </li><li>        â€”  Layout  ViewGroup. </li><li>   okButton   getTextTaskControlsLayout. </li><li>  IDE    ,    Â«Â»  Â«Â»   . </li></ol><br> 3)  .  ds     ,        Â«java.lang.IllegalStateException: You need to use a Theme.AppCompat theme (or descendant) with this activityÂ».      . <br><br> 4)  . <br><br><ul><li>        â€” java.lang.IndexOutOfBoundsException. </li><li>    :     Layout       Layout. . </li><li>         1.1 (     ). </li></ul><br> 5)   . <br><br><ul><li>    ,    . </li><li>       (   ,      ,   ). </li><li>    .    : <br> â€”       Layout. <br> â€”      . </li><li>      . </li></ul><br> 6)   .     â€”        . <br><br> 7)  Â«Â». <br><br><ul><li>     android.content.res.Resources$NotFoundException. </li><li>    .   ,    ID . </li><li>    . </li></ul><br> !         . <br><br><h4>   iOS </h4><br>       .   : <br><br><img src="https://habrastorage.org/webt/w_/n8/sh/w_n8shb8lv1tuk_hfwsv8uo0ye0.png" width="800"><br><br><cut></cut>  ,      Optional&lt;Optional&lt;Step&gt;&gt;. guard let    Optional  .    Optional,  flatMap({ $0 }),      . <br><br><img src="https://habrastorage.org/webt/qv/io/to/qviotowslanuxz3u2n7lus_d-y0.png" width="720"><br><br>  ,    . <br><br><img src="https://habrastorage.org/webt/hz/vk/v4/hzvkv4xffka4pvsvpcmjmbdyp1s.png" width="600"><br><br>   ,     QuestCore    .  : <br><br><img src="https://habrastorage.org/webt/7q/5a/vo/7q5avoteuj4nosrfndsb3lly0ie.png"><br><br>   ,       â€”  goLeft,  goRight     .   ,  goRight  . <br><br><img src="https://habrastorage.org/webt/xa/xd/nn/xaxdnn9hfvfx4x74hit0resqy1y.png" width="380"><br><br>        ,    :    TestView,   firstResponder    .   ,  TestView   firstResponder.    ,        UIKit. <br><br><img src="https://habrastorage.org/webt/cr/6l/3t/cr6l3tid8c7couuavz26b5235z4.png" width="500"><br><br>      Â«Â».     IBOutlet,     ,       .         . <br><br><img src="https://habrastorage.org/webt/32/wv/6r/32wv6rozifqs4ro2ncvwm3rdvco.png" width="600"><br><br><img src="https://habrastorage.org/webt/yt/a1/fm/yta1fmc5us8kz77j_4zdleeidoy.png" width="500"><br><br><hr><br> <a href="https://habr.com/ru/company/yandex/blog/428882/"> </a>      ,     2018 . </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN482210/">https://habr.com/ru/post/zh-CN482210/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN482196/index.html">ä»€ä¹ˆæ˜¯ç”Ÿäº§å»ºæ¨¡ï¼Œä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ</a></li>
<li><a href="../zh-CN482198/index.html">å¦‚ä½•ä¸ºç¾¤é›†åˆ›å»ºè‡ªåŠ¨ç¼©æ”¾å™¨</a></li>
<li><a href="../zh-CN482200/index.html">ç½‘ç»œå®‰å…¨çš„åŒºå—é“¾ï¼šæœŸæœ›ä¸ç°å®</a></li>
<li><a href="../zh-CN482202/index.html">å°†Check Pointè®¾å¤‡ä¸Šçš„å¯†ç æ›´æ–°ä¸ºGOST 2012çš„æ–¹æ³•</a></li>
<li><a href="../zh-CN482206/index.html">å¦‚ä½•ä½¿é£æœºé›¶ä»¶çš„3Dç”Ÿäº§æ›´åŠ ç»æµ</a></li>
<li><a href="../zh-CN482212/index.html">è°ˆè®º...å¥¶é…ªï¼Ÿ</a></li>
<li><a href="../zh-CN482216/index.html">ä¸“ä¸šç²¾ç¥ç§‘åŒ»ç”ŸMaxim Malyavinï¼ˆdpmmaxï¼‰å¯¹æŠ‘éƒç—‡çš„23ç§åº”å¯¹æªæ–½</a></li>
<li><a href="../zh-CN482218/index.html">12æœˆ27æ—¥çš„Javaæ‘˜è¦</a></li>
<li><a href="../zh-CN482220/index.html">Arucoæ ‡è®°å®šä½</a></li>
<li><a href="../zh-CN482224/index.html">å½“è®¾è®¡å¸ˆéœ€è¦æˆä¸ºä¸€åå°ç¨‹åºå‘˜æ—¶</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>