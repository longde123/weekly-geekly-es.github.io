<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ü ‚úùÔ∏è üôÖüèø Python como el √∫ltimo caso de C ++. Parte 1/2 ‚Ü™Ô∏è üë©‚Äçüíª ü§æüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Del traductor 

 Brandon Rhodes es una persona muy modesta que se presenta en Twitter como "un programador de Python que paga un pr√©stamo a la comunid...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Python como el √∫ltimo caso de C ++. Parte 1/2</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464385/"><div class="spoiler">  <b class="spoiler_title">Del traductor</b> <div class="spoiler_text"><p>  Brandon Rhodes es una persona muy modesta que se presenta en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Twitter</a> como "un programador de Python que paga un pr√©stamo a la comunidad en forma de informes o ensayos".  La cantidad de estos "informes y ensayos" es impresionante, al igual que la cantidad de proyectos gratuitos en los que Brandon fue o es colaborador.  Y Brandon ha publicado dos libros y est√° escribiendo un tercero. </p><br><p>  Muy a menudo encuentro en los comentarios sobre Habr√© un malentendido o rechazo fundamental de los lenguajes din√°micos, la tipificaci√≥n din√°mica, la programaci√≥n generalizada y otros paradigmas.  Estoy publicando esta traducci√≥n autorizada (abreviada) (transcripci√≥n) de uno de los informes de Brandon con la esperanza de que ayude a los programadores existentes en los paradigmas de los lenguajes est√°ticos a comprender mejor los lenguajes din√°micos, en particular Python. </p><br><p>  Como es habitual en m√≠, le pido que me informe en PM de mis errores y errores tipogr√°ficos. </p></div></div><br><p> ¬øQu√© significa la frase "caso marginal" en el t√≠tulo de mi informe?  El caso limitante surge cuando itera sobre una secuencia de opciones hasta que alcanza el valor extremo.  Por ejemplo, un pol√≠gono de n lados.  Si n = 3, entonces este es un tri√°ngulo, n = 4 es un cuadr√°ngulo, n = 5 es un pent√°gono, etc. A medida que n se acerca al infinito, los lados se vuelven m√°s peque√±os y m√°s grandes, y el contorno del pol√≠gono se vuelve como un c√≠rculo.  Por lo tanto, el c√≠rculo es el caso l√≠mite para los pol√≠gonos regulares.  Esto es lo que sucede cuando cierta idea es llevada al l√≠mite. </p><br><p>  Quiero hablar sobre Python como un caso extremo para C ++.  Si tomas todas las buenas ideas de C ++ y las limpias hasta su conclusi√≥n l√≥gica, estoy seguro de que terminar√°s con Python tan naturalmente como una serie de pol√≠gonos forma un c√≠rculo. </p><a name="habracut"></a><br><h1>  Activos no b√°sicos </h1><br><p> Me interes√© en Python en los a√±os 90: fue un per√≠odo en mi vida cuando me deshice de los "activos no b√°sicos", como lo llamo.  Muchas cosas comenzaron a aburrirme.  Interrupciones, por ejemplo.  ¬øRecuerda que una vez en muchas placas de computadora hubo tales contactos con puentes?  ¬øY configura estos puentes en los manuales para que la tarjeta de video reciba una interrupci√≥n de mayor prioridad, para que su juego funcione m√°s r√°pido?  Entonces, estaba cansado de asignar y liberar memoria usando <code>malloc()</code> y <code>free()</code> casi al mismo tiempo que dej√© de ajustar el rendimiento de mi computadora con puentes.  Era 1997 m√°s o menos. </p><br><p>  Quiero decir, cuando estudiamos un proceso, generalmente nos esforzamos por obtener un control completo sobre √©l, para tener a la mano todas las palancas y botones posibles.  Entonces algunas personas todav√≠a est√°n fascinadas por esta posibilidad de control.  Pero mi personaje es que, tan pronto como me acostumbro a la administraci√≥n y entiendo qu√© es qu√©, inmediatamente empiezo a buscar la oportunidad de renunciar a algunos de mis poderes, transferir palancas y botones a alguna m√°quina para que me asigne interrupciones. </p><br><p>  Por lo tanto, a fines de los a√±os 90, estaba buscando un lenguaje de programaci√≥n que me permitiera concentrarme en el √°rea tem√°tica y el modelado de tareas, en lugar de preocuparme por el √°rea de memoria de mi computadora.  ¬øC√≥mo podemos simplificar C ++ sin repetir los pecados de los famosos lenguajes de script? </p><br><p>  Por ejemplo, no podr√≠a usar Perl, y ¬øsabes por qu√©?  Este signo de d√≥lar!  Inmediatamente dej√≥ en claro que el creador de Perl no entend√≠a c√≥mo funcionaban los lenguajes de programaci√≥n.  Utiliza el d√≥lar en Bash para separar los nombres de las variables del resto de la cadena, porque un programa Bash consiste en comandos percibidos literalmente y sus par√°metros.  Pero despu√©s de conocer estos lenguajes de programaci√≥n, en los que se colocan cadenas entre pares de caracteres peque√±os llamados comillas, y no en todo el texto del programa, comienza a percibir <code>$</code> como basura visual.  El signo del d√≥lar es in√∫til, es feo, ¬°debe irse!  Si desea dise√±ar un lenguaje para programaci√≥n seria, no debe usar caracteres especiales para indicar variables. </p><br><h1>  Sintaxis </h1><br><p>  ¬øQu√© pasa con la sintaxis?  ¬°Toma C como base!  Funciona bastante bien  Deje que la asignaci√≥n se denote con un signo igual.  Esta designaci√≥n no se acepta en todos los idiomas, pero, de una forma u otra, muchos est√°n acostumbrados.  Pero no hagamos de la asignaci√≥n una expresi√≥n.  Los usuarios de nuestro lenguaje no solo ser√°n programadores profesionales, sino tambi√©n escolares, cient√≠ficos o cient√≠ficos de datos (si no sabe cu√°l de estas categor√≠as de usuarios escribe el peor c√≥digo, entonces insinuar√© que no son escolares).  No daremos a los usuarios la oportunidad de cambiar el estado de las variables en lugares inesperados, y haremos de la asignaci√≥n un operador. </p><br><p>  Entonces, ¬øqu√© se debe usar para denotar la igualdad si el signo igual ya se ha usado para la asignaci√≥n?  Por supuesto, doble asignaci√≥n, como se hace en C!  Muchos ya est√°n acostumbrados.  Tambi√©n tomaremos prestada de C la notaci√≥n para todas las operaciones aritm√©ticas y bit a bit, porque estas anotaciones funcionan, y muchas est√°n muy contentas con ellas. </p><br><p>  Por supuesto, podemos mejorar algo.  ¬øQu√© piensas cuando ves el signo de porcentaje en el texto del programa?  Sobre la interpolaci√≥n de cuerdas, por supuesto!  Aunque <code>%</code> es principalmente un operador de captura de m√≥dulos, simplemente no estaba definido para cadenas.  Y si es as√≠, ¬øpor qu√© no reutilizarlo? </p><br><p>  Literales num√©ricos y de cadena que controlan secuencias con barras invertidas: todo esto se ver√° en C. </p><br><p>  Control de flujo de ejecuci√≥n?  Lo mismo <code>if</code> , de lo <code>else</code> , <code>while</code> , se <code>break</code> y <code>continue</code> .  Por supuesto, agregaremos un poco de diversi√≥n cooptando lo bueno <code>for</code> iterar sobre estructuras de datos y rangos de valores.  Esto se propondr√° m√°s adelante en C ++ 11, pero en Python, el operador <code>for</code> inicialmente encapsul√≥ todas las operaciones para calcular tama√±os, atravesar enlaces, incrementar el contador, etc., en otras palabras, hacer todo lo necesario para proporcionar al usuario un elemento de la estructura de datos.  ¬øQu√© tipo de estructuras?  No importa, solo p√°salo <code>for</code> , lo resolver√°. </p><br><p>  Tambi√©n tomaremos prestadas excepciones de C ++, pero las haremos tan baratas en t√©rminos de consumo de recursos que pueden usarse no solo para manejar errores, sino tambi√©n para controlar el flujo de ejecuci√≥n.  Haremos que la indexaci√≥n sea m√°s interesante agregando segmentaci√≥n, la capacidad de indexar no solo elementos individuales de estructuras de datos secuenciales, sino tambi√©n sus rangos. </p><br><p>  Oh si!  Arreglaremos el defecto de dise√±o original en C: ¬°agregue una coma colgante! </p><br><p>  Esta historia comenz√≥ con Pascal, un lenguaje terrible en el que se utiliza un punto y coma como <em>delimitador de</em> expresiones.  Esto significa que el usuario debe poner un punto y coma al final de <em>cada</em> expresi√≥n en el bloque, <em>excepto la √∫ltima</em> .  Por lo tanto, cada vez que cambie el orden de las expresiones en un programa en Pascal, corre el riesgo de recibir un error de sintaxis si no se asegura de eliminar el punto y coma de la √∫ltima l√≠nea y agregarlo al final de la l√≠nea que sol√≠a ser la √∫ltima. </p><br><pre> <code class="plaintext hljs">If (n = 0) then begin writeln('N is now zero'); func := 1 end</code> </pre> <br><p>  Kernigan y Ritchie hicieron lo correcto cuando definieron el punto y coma en C como el <em>terminador de la</em> expresi√≥n, en lugar del delimitador, creando esa maravillosa simetr√≠a cuando cada l√≠nea del programa, incluida la √∫ltima, termina igual y puede intercambiarse libremente.  Desafortunadamente, en el futuro, un sentido de armon√≠a cambi√≥ para ellos, e hicieron de la coma un <em>separador</em> en inicializadores est√°ticos.  Esto se ve bien cuando la expresi√≥n se ajusta en una l√≠nea: </p><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> a[] = {<span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">6</span></span>};</code> </pre> <br><p>  pero cuando su inicializador se alarga y lo organiza verticalmente, obtiene la misma asimetr√≠a inc√≥moda que en Pascal: </p><br><pre> <code class="plaintext hljs">int a[] = { 4, 5, 6 };</code> </pre> <br><p>  En una etapa temprana de su desarrollo, Python hizo que la coma suspendida en las estructuras de datos fuera completamente opcional, independientemente de c√≥mo est√©n organizados los elementos de esta estructura: horizontal o verticalmente.  Por cierto, esto es muy conveniente para la generaci√≥n autom√°tica de c√≥digo: no necesita tratar el √∫ltimo elemento como un caso especial. </p><br><p>  M√°s tarde, los est√°ndares C99 y C ++ 11 tambi√©n corrigieron el malentendido inicial, permiti√©ndole agregar una coma despu√©s del √∫ltimo literal en el inicializador. </p><br><h1>  Espacios de nombres </h1><br><p>  Tambi√©n necesitamos implementar en nuestro lenguaje de programaci√≥n cosas como espacios de nombres o espacios de nombres.  Esta es una parte cr√≠tica del lenguaje que deber√≠a salvarnos de errores como los conflictos de nombres.  Lo haremos m√°s f√°cil que C ++: en lugar de darle al usuario la capacidad de nombrar arbitrariamente el espacio de nombres, crearemos un espacio de nombres por m√≥dulo (archivo) y los designaremos con nombres de archivo.  Por ejemplo, si crea el m√≥dulo <code>foo.py</code> , se le asignar√° el espacio de nombres <code>foo</code> . </p><br><p>  Para trabajar con un modelo de espacios de nombres tan simplificado, un usuario solo necesita un operador. </p><br><p>  Cree el directorio <code>my_package</code> , coloque el archivo <code>my_module.py</code> y declare la clase en el archivo: </p><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">C</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> READ = <span class="hljs-number"><span class="hljs-number">1</span></span> WRITE = <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> <br><p>  entonces el acceso a los atributos de clase ser√° el siguiente: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> my_package.my_module my_package.my_module.C.READ</code> </pre> <br><p>  No se preocupe, no obligaremos al usuario a imprimir el nombre completo cada vez.  Le daremos la oportunidad de usar varias versiones de la declaraci√≥n de <code>import</code> para variar el grado de "proximidad" del espacio de nombres: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> my_package.my_module my_package.my_module.C.READ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> my_package <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> my_module my_module.C.READ <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> my_package.my_module <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> C C.READ</code> </pre> <br><p>  Por lo tanto, los mismos nombres dados en diferentes paquetes nunca entrar√°n en conflicto: </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> json j = json.load(file) <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pickle p = pickle.load(file)</code> </pre> <br><p>  El hecho de que cada m√≥dulo tenga su propio espacio de nombres tambi√©n significa que no necesitamos un modificador <code>static</code> .  Sin embargo, recordamos una funci√≥n que realiz√≥ <code>static</code> : encapsular variables internas.  Para mostrar a los colegas que un nombre de pila (variable, clase o m√≥dulo) no es p√∫blico, lo comenzamos con un gui√≥n bajo, por ejemplo, <code>_ignore_this</code> .  Tambi√©n puede ser una se√±al para que el IDE no use este nombre en la finalizaci√≥n autom√°tica. </p><br><h1>  Sobrecarga de funciones </h1><br><p>  No implementaremos la sobrecarga de funciones en nuestro idioma.  El mecanismo de sobrecarga es demasiado complicado.  En su lugar, utilizaremos argumentos opcionales con valores predeterminados que se pueden omitir de la llamada, as√≠ como argumentos con nombre para "saltar" sobre los argumentos opcionales con valores predeterminados v√°lidos y establecer solo aquellos valores que difieran de los predeterminados.  Es importante destacar que la falta de sobrecarga nos salvar√° de la necesidad de determinar qu√© funci√≥n del conjunto de funciones sobrecargadas se acaba de llamar, c√≥mo funcion√≥ el administrador de llamadas: la funci√≥n siempre es una en este m√≥dulo, es f√°cil de encontrar por nombre. </p><br><h1>  API del sistema </h1><br><p>  Le daremos al usuario acceso completo a muchas API del sistema, incluidos los sockets.  No entiendo por qu√© los autores de lenguajes de script siempre ofrecen sus propias formas ingeniosas de abrir un socket.  Sin embargo, nunca se dan cuenta de la API completa de Unix Socket.  Implementan 5-6 funciones que entienden y desechan todo lo dem√°s.  Python, a diferencia de ellos, tiene m√≥dulos est√°ndar para interactuar con el sistema operativo que implementan cada llamada est√°ndar del sistema.  Eso significa que puede abrir <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">el libro de Stevens</a> ahora mismo y comenzar a escribir c√≥digo.  Y todos sus enchufes, procesos y horquillas funcionar√°n exactamente como se dice.  S√≠, es posible que Guido o los primeros contribuyentes de Python hicieran eso, porque eran demasiado flojos para escribir su implementaci√≥n de las bibliotecas del sistema, demasiado flojos para explicar nuevamente a los usuarios c√≥mo funcionan los sockets.  Pero como resultado, lograron un efecto maravilloso: puede transferir todo su conocimiento de UNIX adquirido en C y C ++ al entorno Python. </p><br><p>  Por lo tanto, decidimos qu√© caracter√≠sticas "prestaremos" de C ++ para crear nuestro lenguaje de script simple.  Ahora tenemos que decidir qu√© queremos arreglar. </p><br><h1>  Comportamiento indefinido </h1><br><p>  Comportamiento desconocido, comportamiento indefinido, comportamiento definido por la implementaci√≥n ... Todas estas son malas ideas para el lenguaje que ser√°n utilizados por escolares, cient√≠ficos y cient√≠ficos de datos.  Y la ganancia de rendimiento para la que se permiten tales cosas a menudo es insignificante en comparaci√≥n con las molestias.  En cambio, anunciaremos que cualquier programa sint√°cticamente correcto produce el mismo resultado en cualquier plataforma.  Describiremos el lenguaje est√°ndar con frases como "Python eval√∫a todas las expresiones de izquierda a derecha" en lugar de tratar de reordenar los c√°lculos seg√∫n el procesador, el sistema operativo o la fase lunar.  Si el usuario est√° seguro de que el orden de los c√°lculos es importante, tiene derecho a reescribir correctamente el c√≥digo: al final, el usuario es el principal. </p><br><h1>  Prioridades de operaci√≥n </h1><br><p>  Debes haber encontrado errores similares: expresi√≥n </p><br><pre> <code class="cpp hljs">oflags &amp; <span class="hljs-number"><span class="hljs-number">0x80</span></span> == nflags &amp; <span class="hljs-number"><span class="hljs-number">0x80</span></span></code> </pre> <br><p>  siempre devuelve 0, porque las comparaciones en C tienen prioridad sobre las operaciones bit a bit.  En otras palabras, esta expresi√≥n se eval√∫a como </p><br><pre> <code class="cpp hljs">oflags &amp; (<span class="hljs-number"><span class="hljs-number">0x80</span></span> == nflags) &amp; <span class="hljs-number"><span class="hljs-number">0x80</span></span></code> </pre> <br><p>  Oh, que C! </p><br><p>  Eliminaremos la causa potencial de tales errores en nuestro lenguaje de script simple, poniendo la prioridad de las operaciones de comparaci√≥n detr√°s de la aritm√©tica y la manipulaci√≥n de bits, de modo que la expresi√≥n de nuestro ejemplo se calcule de manera m√°s intuitiva: </p><br><pre> <code class="cpp hljs">(oflags &amp; <span class="hljs-number"><span class="hljs-number">0x80</span></span>) == (nflags &amp; <span class="hljs-number"><span class="hljs-number">0x80</span></span>)</code> </pre> <br><h1>  Otras mejoras </h1><br><p>  La legibilidad del c√≥digo es importante para nosotros.  Si las operaciones aritm√©ticas del lenguaje C son familiares para el usuario incluso por la aritm√©tica escolar, entonces la confusi√≥n entre las operaciones l√≥gicas y las bit a bit es una fuente clara de errores.  Reemplazaremos el doble ampersand con la palabra <code>and</code> , y la doble l√≠nea vertical con la palabra <code>or</code> , para que nuestro lenguaje se parezca m√°s al discurso humano que al piquete de los caracteres de "computadora". </p><br><p>  Dejaremos la posibilidad de computaci√≥n abreviada a nuestros operadores l√≥gicos ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://en.wikipedia.org/wiki/Short-circuit_evaluation</a> ), pero tambi√©n les daremos la capacidad de devolver el valor final de cualquier tipo, no solo booleano.  Entonces expresiones como </p><br><pre> <code class="python hljs">s = error.message <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-string"><span class="hljs-string">'Error'</span></span></code> </pre> <br><p>  En este ejemplo, la variable se establecer√° en <code>error.message</code> si no est√° vac√≠a, de lo contrario, la cadena 'Error'. </p><br><p>  Extendemos la idea de C de que 0 es equivalente a falso a otros objetos que no sean enteros.  Por ejemplo, en l√≠neas y contenedores vac√≠os. </p><br><p>  Destruiremos el desbordamiento de enteros.  Nuestro lenguaje ser√° consistente en la implementaci√≥n y f√°cil de usar, por lo que nuestros usuarios no necesitar√°n recordar un valor especial sospechosamente cercano a los dos mil millones, despu√©s de lo cual todo, aumentado en uno, cambia repentinamente de signo.  Implementamos esos enteros que se comportar√°n como enteros hasta que agoten toda la memoria disponible. </p><br><h1>  Escritura estricta vs d√©bil </h1><br><p>  Otro tema importante en el dise√±o del lenguaje de secuencias de comandos: el rigor de la escritura.  ¬øMuchos en la audiencia est√°n familiarizados con JavaScript?  ¬øQu√© sucede si el n√∫mero 3 se resta de la cadena '4'? </p><br><pre> <code class="javascript hljs">js&gt; <span class="hljs-string"><span class="hljs-string">'4'</span></span> - <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br><p>  Genial  ¬øY si agrega el n√∫mero 3 a la cadena '4'? </p><br><pre> <code class="javascript hljs">js&gt; <span class="hljs-string"><span class="hljs-string">'4'</span></span> + <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-string"><span class="hljs-string">"43"</span></span></code> </pre> <br><p>  Esto se llama tipeo laxo (o d√©bil).  Esto es algo as√≠ como un complejo de inferioridad cuando un lenguaje de programaci√≥n piensa que un programador lo condenar√° si no puede devolver el resultado de cualquier expresi√≥n, incluso obviamente sin sentido, al emitir tipos repetidamente.  El problema es que la conversi√≥n de tipos, que un lenguaje de tipo d√©bil produce autom√°ticamente, rara vez conduce a un resultado significativo.  Probemos conversiones un poco m√°s complejas: </p><br><pre> <code class="javascript hljs">js&gt; [] + [] <span class="hljs-string"><span class="hljs-string">""</span></span> js&gt; [] + {} <span class="hljs-string"><span class="hljs-string">"[object Object]"</span></span></code> </pre> <br><p>  Esperamos que la operaci√≥n de suma sea conmutativa, pero ¬øqu√© sucede si cambiamos los t√©rminos en el √∫ltimo caso? </p><br><pre> <code class="javascript hljs">js&gt; {} + [] <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br><p>  JavaScript no est√° solo en sus problemas.  Perl en una situaci√≥n similar tambi√©n intenta devolver al menos algo: </p><br><pre> <code class="perl hljs">perl&gt; <span class="hljs-string"><span class="hljs-string">"3"</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span></code> </pre> <br><p>  Y awk har√° algo as√≠: </p><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> | awk <span class="hljs-string"><span class="hljs-string">'{print "3" + 1}'</span></span> 4</code> </pre> <br><p>  Los creadores de los lenguajes de secuencias de comandos han cre√≠do tradicionalmente que la escritura suelta es <em>conveniente</em> .  Se equivocaron: ¬°la escritura suelta es <em>terrible</em> !  Viola el principio de localidad.  Si hay un error en el c√≥digo, entonces el lenguaje de programaci√≥n debe informar al usuario al respecto, causando una excepci√≥n lo m√°s cerca posible del lugar problem√°tico en el c√≥digo.  Pero en todos estos idiomas, que emiten tipos sin fin, hasta que algo se resuelve, el control generalmente llega al final, y obtenemos el resultado, a juzgar por lo cual, en nuestro programa, algo est√° mal en alguna parte.  Y tenemos que depurar todo nuestro programa, una l√≠nea tras otra, para encontrar este error. </p><br><p>  La escritura suelta tambi√©n degrada la legibilidad del c√≥digo, porque incluso si usamos correctamente la conversi√≥n de tipos impl√≠cita en un programa, esto sucede inesperadamente para otro programador. </p><br><p>  En Python, como en C ++, tales expresiones devolver√°n un error. </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-string"><span class="hljs-string">'4'</span></span> - <span class="hljs-number"><span class="hljs-number">3</span></span> TypeError &gt;&gt;&gt; <span class="hljs-string"><span class="hljs-string">'4'</span></span> + <span class="hljs-number"><span class="hljs-number">3</span></span> TypeError</code> </pre> <br><p>  Debido a que la conversi√≥n de tipos, si es realmente necesaria, es f√°cil de escribir expl√≠citamente: </p><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>int(<span class="hljs-string"><span class="hljs-string">'4'</span></span>) + <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> &gt;&gt;&gt; <span class="hljs-string"><span class="hljs-string">'4'</span></span> + str(<span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-string"><span class="hljs-string">'43'</span></span></code> </pre> <br><p>  Este c√≥digo es f√°cil de leer y mantener, deja en claro qu√© sucede exactamente en el programa, lo que conduce a este resultado.  Esto se debe a que los programadores de Python creen que expl√≠cito es mejor que impl√≠cito, y el error no debe pasar desapercibido. </p><br><p>  Python es un lenguaje fuertemente tipado, y la √∫nica conversi√≥n de tipo impl√≠cita en este ocurre durante operaciones aritm√©ticas en enteros, cuyo resultado debe expresarse como un n√∫mero fraccionario.  Quiz√°s esto tampoco deber√≠a permitirse en el programa, pero en este caso demasiados usuarios tendr√≠an que explicar inmediatamente la diferencia entre n√∫meros enteros y n√∫meros de coma flotante, lo que complicar√≠a sus primeros pasos en Python. </p><br><p>  Contin√∫a: ‚Äú <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Python como el √∫ltimo caso de C ++.</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Parte 2/2</a> ". </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/464385/">https://habr.com/ru/post/464385/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../464373/index.html">Edge-to-edge en Android: hacerlo bien</a></li>
<li><a href="../464375/index.html">C√≥mo funcionan los motores de b√∫squeda</a></li>
<li><a href="../464377/index.html">Ensamblador sucio piratea 6502</a></li>
<li><a href="../464381/index.html">Viaje a Alaska, o KDD'19 a trav√©s de los ojos de un testigo ocular</a></li>
<li><a href="../464383/index.html">C√≥mo pongo las cosas en orden en un proyecto donde hay un bosque de manos directas (configuraci√≥n tslint, m√°s bonita, etc.)</a></li>
<li><a href="../464387/index.html">Huella rusa en la saga escandinava de videojuegos, terminando</a></li>
<li><a href="../464391/index.html">10 informes interesantes de conferencias de hackers</a></li>
<li><a href="../464393/index.html">C√≥mo encontrar cursos de programaci√≥n y cu√°les son las garant√≠as de empleo.</a></li>
<li><a href="../464395/index.html">Blockchain basado en RSA al azar</a></li>
<li><a href="../464399/index.html">Web scraping en R, Parte 2. Acelerando el proceso con computaci√≥n paralela y usando el paquete Rcrawler</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>