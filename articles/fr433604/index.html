<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>#‚É£ ‚ùï üë®üèª‚Äçüè´ Travail confortable avec Android Studio üóùÔ∏è ‚ôíÔ∏è üï¥üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonne journ√©e √† tous! 


 Quelle est la productivit√© d'Android Studio? Pensez-vous que cela fonctionne intelligemment sur votre PC ou Mac? Ou, parfois...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Travail confortable avec Android Studio</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/433604/"><p><img src="https://habrastorage.org/webt/we/mk/6t/wemk6tsmfqmmuwmtypfern4b0yg.jpeg"><br>  Bonne journ√©e √† tous! </p><br><p>  Quelle est la productivit√© d'Android Studio?  Pensez-vous que cela fonctionne intelligemment sur votre PC ou Mac?  Ou, parfois, vous rencontrez des retards ou un long assemblage?  Et sur de grands projets? </p><br><p>  Dans tous les cas, nous voulons tous obtenir des performances maximales du mat√©riel et des logiciels.  Par cons√©quent, j'ai pr√©par√© une liste de points et de conseils pour les d√©butants et les d√©veloppeurs exp√©riment√©s qui vous aideront √† travailler confortablement avec de grands projets ou tout simplement augmenter la productivit√©.  Vous comprendrez √©galement si votre √©quipement a besoin d'une mise √† niveau. </p><br><p>  Les utilisateurs d'autres IDE populaires peuvent √©galement trouver quelque chose d'utile pour eux-m√™mes. </p><a name="habracut"></a><br><h2 id="motivaciya">  La motivation </h2><br><p>  Android Studio √©tait lent au moment de la transition d'Eclipse.  Et d√©j√†, j'ai commenc√© √† chercher des moyens d'optimiser le travail de cet IDE.  Cependant, la plupart des coll√®gues se r√©f√®rent √† ce "aucun moyen".  √áa marche.  Pas toujours rapide.  Et bien. </p><br><p>  Mais depuis un an maintenant, je travaille dans une autre entreprise.  Le climat est diff√©rent, les d√©veloppeurs lisent des rapports sur diverses technologies.  Lors de l'un de ces rapports, il m'a sembl√© que le sujet de cet article pouvait √™tre demand√©.  Surtout dans le cadre de projets de complexit√© technique accrue. </p><br><p>  Apr√®s avoir parl√© avec des coll√®gues et des connaissances de d√©veloppeurs, il est devenu clair pour moi que m√™me chaque ¬´pro¬ª ne comprend pas les nuances de fer, OS et IDE.  Parce qu'ici, j'ai essay√© de rassembler un programme √©ducatif complet bas√© sur ma propre exp√©rience. </p><br><p>  <strong>AVERTISSEMENT!</strong>  <strong>Tous les mod√®les et marques mentionn√©s dans l'article ne sont pas de la publicit√©!</strong> </p><br><h2 id="zhelezo">  Le fer </h2><br><p>  Voici ce qui est dit sur le mat√©riel sur le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">site officiel d'Android Studio</a> dans la colonne Configuration requise (sans compter l'espace disque): </p><br><pre><code class="plaintext hljs">3 GB RAM minimum, 8 GB RAM recommended; plus 1 GB for the Android Emulator 1280x800 minimum screen resolution</code> </pre> <br><p>  Cela suffit pour que le studio d√©marre et travaille.  Nous ne parlons pas de performance et de confort. </p><br><p>  Dans ce chapitre, je parlerai du type de mat√©riel souhaitable pour un travail confortable avec de grands projets et de ce qui peut devenir un ¬´goulot d'√©tranglement¬ª dans votre syst√®me. </p><br><p>  Ici, 5 param√®tres sont les plus critiques pour nous: </p><br><ul><li>  Performances CPU </li><li>  Nombre de threads mat√©riels CPU </li><li>  Quantit√© de RAM </li><li>  Vitesse de lecture et d'√©criture al√©atoire du sous-syst√®me de disque </li><li>  La vitesse de lecture de petits blocs et d'√©criture de petits blocs d'un sous-syst√®me de disque </li></ul><br><p>  Comme j'ai souvent travaill√© sur des configurations bas√©es sur des produits Intel, nous en parlerons.  Cependant, si vous avez AMD, lisez-le et corrigez les technologies rouges similaires.  Le seul inconv√©nient que j'ai rencontr√© sur AMD a <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©j√†</a> √©t√© <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d√©crit sur Habr√©</a> . </p><br><h4 id="para-slov-o-mac">  Quelques mots sur Mac </h4><br><p>  On pense que le Mac est la meilleure machine √† d√©velopper.  Cela est souvent dit √† propos du MacBook Pro. </p><br><p>  Personnellement, je consid√®re cela comme un mythe.  Avec l'av√®nement de la technologie, NVMe Mac a perdu sa ¬´magie¬ª.  Aujourd'hui, m√™me parmi les ordinateurs portables, le Mac n'est pas un leader en termes de rapport qualit√©-prix-performances.  Surtout dans le cadre du d√©veloppement pour Android Studio. </p><br><p>  Sinon, pour un d√©veloppement confortable, le MacBook Pro 2015 ou 2016 n'a pas de processeur U.  D√©couvrez les autres fonctionnalit√©s et services ci-dessous. </p><br><h4 id="processor">  CPU </h4><br><p>  Les performances du processeur sont √©videntes et compr√©hensibles.  Plus il est haut, mieux c'est.  La seule chose √† noter est que si vous avez un lecteur assez rapide, un processeur faible deviendra un goulot d'√©tranglement dans votre syst√®me.  Particuli√®rement critique dans le cas du lecteur NVMe.  Souvent, lorsque vous travaillez avec, l'accent est pr√©cis√©ment mis sur la puissance du processeur. </p><br><p>  Avec les fils, les choses sont un peu plus compliqu√©es.  J'ai lu que les utilisateurs r√©duisent la priorit√© du studio et de ses sous-processus pour que l'OS ne "se bloque" pas lors du montage.  La raison ici est un √† 1-2 threads mat√©riels.  Ce n'est pas suffisant non seulement pour l'IDE, mais aussi pour un syst√®me d'exploitation moderne.  Le seul ¬´mais¬ª - dans ma pratique, il y avait des situations o√π les processeurs U √† double c≈ìur avec Hyper Threading (c'est-√†-dire 2 c≈ìurs pour 4 threads) fonctionnaient normalement avec des projets relativement petits, mais les probl√®mes ci-dessus ont commenc√© sur les grands. </p><br><p>  Bien s√ªr, la virtualisation mat√©rielle est requise. </p><br><p>  Par cons√©quent, je recommande de regarder vers le Core i5 HQ Skylake avec plus de 4 flux et plus puissant. </p><br><h4 id="operativnaya-pamyat">  RAM </h4><br><p>  Concernant les normes, DDR3 et sup√©rieures.  Ici, je pense, c'est clair. </p><br><p>  S'il est possible de travailler en mode 2 ou 4 canaux et que vous n'√™tes pas actif, je vous recommande fortement de l'utiliser, car vous pouvez obtenir une augmentation significative de la r√©activit√© de l'IDE.  Cette fonctionnalit√© est activ√©e soit dans les param√®tres BIOS \ UEFI, soit en installant des modules RAM suppl√©mentaires (si vous avez encore un module). </p><br><p>  Quel volume est n√©cessaire?  Pour les petits (tr√®s petits) projets, 4 Go suffisent.  Sur des projets plus importants, le studio est capable d'occuper rapidement 4 Go de m√©moire et plus encore.  Ajoutez l'√©mulateur HAXM (disons 2 Go) ici et tenez compte du fait que le syst√®me d'exploitation moderne (√† l'exception de certaines distributions Linux) occupe environ 2 Go en m√©moire - et maintenant il s'av√®re que 8 Go sont d√©j√† "dos √† dos". </p><br><p>  Cela ne prend pas en compte, par exemple, Slack (qui prend en moyenne environ 500 Mo de m√©moire) et Chrome (o√π la facture passe en gigaoctets). </p><br><p>  En g√©n√©ral, avec 8 Go de RAM, vous pouvez travailler rapidement et confortablement - il enregistre un disque rapide et un fichier swap \ swap.  Mais cela vaut la peine de penser √† une mise √† niveau. </p><br><p>  Par cons√©quent, la soci√©t√© en ach√®te de nouvelles ou fournit une mise √† niveau des machines actuelles pour 12 Go de RAM ou plus. </p><br><h4 id="ssd">  SSD </h4><br><p>  Le sous-syst√®me de disques est le ¬´goulot d'√©tranglement¬ª le plus fr√©quent, il est donc n√©cessaire d'y pr√™ter attention en premier lieu. </p><br><p>  Travailler avec Android Studio sur le disque dur en 2018 est comparable au tourment - plus le projet est grand, plus vous avez de frises.  Par cons√©quent, √©videmment, utilisez uniquement SSD. </p><br><p>  Comme mentionn√© ci-dessus, il existe deux param√®tres critiques: </p><br><ul><li>  Vitesse de lecture et d'√©criture al√©atoire du sous-syst√®me de disque </li><li>  La vitesse de lecture de petits blocs et d'√©criture de petits blocs d'un sous-syst√®me de disque </li></ul><br><p>  Plus ils sont √©lev√©s, plus le studio sera r√©actif et plus il se chargera et s'assemblera rapidement. </p><br><p>  J'attire votre attention sur le fait qu'il n'est pas question de vitesses de lecture / √©criture lin√©aires - ce n'est pas critique pour un studio.  Par cons√©quent, lorsque vous choisissez un lecteur, vous devez regarder non pas sa vitesse de lecture / √©criture sur le site Web du fabricant ou du magasin, mais le nombre d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">IOPS</a> (plus il y en a, mieux c'est). </p><br><p>  Bien s√ªr, ici, nous ne parlons pas du Mac, car le lecteur a son propre standard ou est simplement soud√© sur la carte.  Le remplacement est possible, sauf pour un volume plus important.  Il est peu probable qu'il soit possible d'augmenter les caract√©ristiques de vitesse ici. </p><br><h4 id="nvme">  NVMe </h4><br><p>  Si votre carte m√®re prend en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">charge la</a> technologie <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">NVMe</a> , il est pr√©f√©rable d'utiliser un lecteur avec son support.  Il vous permet d'obtenir des vitesses comparables aux SSD sur Mac et sup√©rieures. </p><br><p>  Si vous avez un lecteur rapide, l'accent est mis sur le bus PCIe et la puissance de votre CPU.  Par cons√©quent, si, par exemple, votre carte m√®re prend en charge la sortie vers un lecteur PCIe 2.0x4 \ 3.0x2 ou si vous ne disposez pas d'un processeur tr√®s puissant, vous ne devriez pas acheter un lecteur tr√®s cher.  Regardez les capacit√©s de votre syst√®me et l'√©paisseur de votre portefeuille. </p><br><h4 id="sata3">  SATA3 </h4><br><p>  Oui, SATA3 est plus vivant que tous les vivants.  Et vous pouvez y travailler rapidement en studio. </p><br><p>  Dans ce segment, les disques haute vitesse sont plus abordables, il est donc logique de regarder imm√©diatement les meilleures solutions avec une capacit√© de 120 Go ou plus. </p><br><h4 id="intel-optane">  Intel Optane </h4><br><p>  Je n'ai pas eu √† utiliser Android Studio sur une machine avec ce lecteur (si vous pouvez l'appeler ainsi).  Si quelqu'un a de l'exp√©rience, √©crivez dans les commentaires. </p><br><h4 id="gpu">  GPU </h4><br><p>  Il n'est pas n√©cessaire de parler beaucoup. <br>  Si vous √©crivez des applications utilisateur ordinaires, quelque chose comme la s√©rie Intel HD 500 suffit pour le studio et l'√©mulateur lui-m√™me. </p><br><p>  Si vous d√©veloppez des jeux ou s'il s'agit de votre machine personnelle, les graphiques discrets ont du sens.  Lequel - regardez selon vos besoins. </p><br><h4 id="sistema-ohlazhdeniya-i-trottling">  Syst√®me de refroidissement et √©tranglement </h4><br><p>  Il ne s'agit pas de mise √† niveau, mais de maintenance. </p><br><p>  La plupart d'entre nous connaissent le ph√©nom√®ne d' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√©tranglement</a> .  Sa mise en ≈ìuvre est utilis√©e pour prot√©ger contre la surchauffe. </p><br><p>  Bien entendu, la limitation entra√Æne une baisse de la productivit√©.  Pas toujours visible.  Dans certains cas, le fonctionnement de Turbo Boost est r√©duit aux valeurs minimales, dans d'autres, une baisse des fr√©quences maximales du processeur commence.  La raison en est un fonctionnement insuffisant du syst√®me de refroidissement.  Il est √©galement important de comprendre que la plupart des tests de r√©sistance (comme AIDA) diagnostiquent le fonctionnement r√©gulier du Turbo Boost comme un √©tranglement. </p><br><p>  Dans le cas des PC de bureau, tout est en ligne depuis longtemps.  Dans le cas des syst√®mes mobiles bas√©s sur des caloducs, beaucoup d'informations contradictoires.  Cela inclut la plupart des ordinateurs portables, nettops, MacBooks et iMacs.  De plus, nous nous concentrerons sur eux. </p><br><p>  Sur les processeurs mobiles modernes et puissants, 80 √† 90 degr√©s sur une puce sous charge est la norme.  Dans le m√™me temps, les SOC avec ces processeurs ont une conception √† puce ouverte, ce qui r√©duit la zone de transfert de chaleur.  Tout ce tas de chaleur est enlev√© <del>  ce ridicule </del>  conception similaire avec un petit circuit de liquide ferm√©. </p><br><div class="spoiler">  <b class="spoiler_title">Syst√®me de refroidissement mobile moderne</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/cs/cg/fv/cscgfvz76oz4aw6o5mmgjjqbrh0.png"></p></div></div><br><p>  Il faut comprendre que ces syst√®mes de refroidissement subissent des charges plus importantes et n√©cessitent un entretien plus fr√©quent.  Surtout dans le cas des ordinateurs portables et des MacBook, lorsqu'elle est transport√©e par les vibrations, la couche de p√¢te thermique s√©ch√©e s'effondre plus rapidement.  Et une maintenance intempestive se heurte non seulement √† une perte de productivit√©, mais aussi √† des fuites de thermotubes et √† des ¬´d√©charges¬ª de cristaux. </p><br><p>  L'entretien consiste √† remplacer la p√¢te thermique et √† nettoyer le radiateur une fois tous les six mois √† un an apr√®s la fin de la p√©riode de garantie.  En tout cas, c'est ce que nous faisons. </p><br><p>  En raison de la petite surface du cristal, il est logique d'utiliser une p√¢te thermique di√©lectrique avec une conductivit√© thermique √©lev√©e (cela co√ªte environ 800-1000 r par gramme).  <strong>N'utilisez jamais de m√©tal liquide!</strong>  <strong>Sinon, vous ne pourrez probablement pas s√©parer le cristal de la plaque!</strong> </p><br><p>  Si vous n'avez pas suffisamment de comp√©tences pour cette proc√©dure, il est pr√©f√©rable de contacter le service. </p><br><h2 id="apparatnye-nastroyki">  Param√®tres mat√©riels </h2><br><p>  Ce chapitre se concentrera sur les fonctions et les r√©glages de l'√©quipement.  Tr√®s probablement, vous le connaissez d√©j√†. </p><br><h4 id="intel-hyper-threading">  Intel Hyper Threading </h4><br><p>  Il s'agit de la technologie Intel, qui divise le flux mat√©riel du noyau en deux flux "virtuels".  Gr√¢ce √† elle, le syst√®me consid√®re le processeur √† 4 c≈ìurs comme un processeur √† 8 c≈ìurs.  Cette approche vous permet d'utiliser efficacement la puissance du processeur.  AMD a une technologie similaire. </p><br><p>  Souvent, je rencontre le fait que de nombreux d√©veloppeurs ont d√©sactiv√© cette fonctionnalit√© et ils ne le savent g√©n√©ralement pas.  Cependant, son inclusion peut augmenter la r√©activit√© du studio et am√©liorer les performances.  Dans certains cas, de 10 √† 15%. </p><br><p>  Il s'active dans les param√®tres BIOS \ UEFI de votre carte m√®re ou de votre ordinateur portable.  Un √©l√©ment est appel√© d'une mani√®re similaire ou similaire.  Si vous ne connaissiez toujours pas cette technologie, il est judicieux de v√©rifier sa disponibilit√© et de l'activer si cela n'a pas √©t√© fait. </p><br><h4 id="intel-turbo-boost">  Intel Turbo Boost </h4><br><p>  Une autre technologie bien connue.  En fait, il s'agit d'un overclocking automatique √† court terme du CPU et donne une augmentation significative lors de l'assemblage.  Et, en m√™me temps, il a la capacit√© de chauffer des processeurs mobiles √† des temp√©ratures non loin de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Tjunction</a> . </p><br><p>  Par cons√©quent, si cette technologie √©tait pr√©c√©demment d√©sactiv√©e, avant de l'allumer, il est conseill√© de v√©rifier l'√©tat du syst√®me de refroidissement et, √©ventuellement, d'effectuer sa maintenance, comme d√©crit dans le chapitre pr√©c√©dent. </p><br><p>  Il peut √™tre activ√© √† la fois sur BIOS \ UEFI et dans les param√®tres du syst√®me d'exploitation. </p><br><h4 id="intel-rapid-storage">  Intel Rapid Storage </h4><br><p>  La prise en charge de cette carte m√®re technologique est fortement recommand√©e.  Plus de d√©tails peuvent √™tre trouv√©s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ici</a> . </p><br><p>  Je ne peux que recommander la mise √† jour des pilotes de cette technologie en temps opportun vers la derni√®re version du site officiel d'Intel.  M√™me si le fabricant de votre ordinateur portable vous fournit des pilotes plus anciens. </p><br><p>  Dans mon cas particulier, la mise √† jour de la version du pilote du fabricant vers la version actuelle a augment√© la vitesse d'enregistrement lin√©aire d'environ 30% et la vitesse arbitraire de 15%. </p><br><p>  Comment installer et mettre √† jour les pilotes IRST sous Linux - je ne sais pas (et en g√©n√©ral, est-ce possible?).  Si quelqu'un le sait, √©crivez dans les commentaires, je compl√©terai volontiers l'article. </p><br><h4 id="ssd-secure-erase">  Effacement s√©curis√© SSD </h4><br><p>  Les performances des mod√®les SSD √† faible co√ªt peuvent diminuer avec le temps.  Cela ne se produit pas toujours en raison de la "d√©gradation" du lecteur.  Peut-√™tre que dans votre mod√®le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TRIM n'est</a> pas mis en ≈ìuvre de mani√®re tr√®s efficace. </p><br><p>  L'effacement s√©curis√© forcera le contr√¥leur √† marquer toutes les cellules de m√©moire comme vides, ce qui, th√©oriquement, devrait restaurer les performances du SSD √† l'√©tat d'usine.  <strong>Et, aussi, effacez toutes vos donn√©es!</strong>  <strong>Soyez prudent, faites des sauvegardes!</strong> </p><br><p>  Vous pouvez effectuer la proc√©dure √† l'aide d'un utilitaire propri√©taire du fabricant.  Si votre disque est un syst√®me, vous aurez besoin d'un lecteur flash, que l'utilitaire rendra amor√ßable.  Suivez les instructions ci-dessous. </p><br><p>  √Ä un moment donn√©, vous devrez peut-√™tre reconnecter le lecteur directement pendant le fonctionnement.  Par cons√©quent, dans le cas de M.2, la pr√©sence d'un adaptateur est tr√®s souhaitable. </p><br><p>  L'utilisation d'utilitaires tiers pour cette op√©ration est fortement d√©conseill√©e. </p><br><p>  Cependant, si votre SSD a consid√©rablement perdu de la vitesse en moins d'un an, il est pr√©f√©rable de changer le lecteur pour un autre mod√®le. </p><br><h4 id="apparatnaya-virtualizaciya">  Virtualisation mat√©rielle </h4><br><p>  Cette technologie est n√©cessaire au fonctionnement rapide de l'√©mulateur x86.  Si vous l'avez d√©sactiv√©, activez-le dans les param√®tres BIOS \ UEFI.  Diff√©rents fournisseurs peuvent avoir des noms de param√®tres diff√©rents. </p><br><p>  Oui, nous connaissons tous Genymotion et BlueStacks, qui fonctionnent bien sans virtualisation mat√©rielle.  Cependant, dans les images de ces √©mulateurs, certaines ou plusieurs impl√©mentations de l'API Android sont consid√©rablement modifi√©es afin d'augmenter la vitesse de travail.  Cela peut provoquer un comportement que vous ne rencontrerez jamais sur un appareil r√©el.  Ou lors du d√©bogage, vous pouvez manquer quelques bogues.  Par cons√©quent, la pr√©sence d'un AVD fonctionnel et agile est hautement souhaitable. </p><br><h2 id="os-i-storonniy-soft">  OS et logiciels tiers </h2><br><p>  Dans ce chapitre, nous discuterons de la configuration possible du syst√®me d'exploitation et de l'installation de logiciels tiers afin d'augmenter la productivit√©. </p><br><h4 id="indeksaciya">  Indexation </h4><br><p>  Il s'agit de trouver Windows et Spotlight sur Mac OS.  Ces m√©canismes peuvent prendre jusqu'√† 15% de la puissance du processeur pendant l'assemblage car ils essaient d'indexer tout ce qui est g√©n√©r√© dans / build. </p><br><p>  Bien s√ªr, de l'indexation il faut exclure tous les r√©pertoires avec lesquels le studio travaille: </p><br><ul><li>  R√©pertoire SDK </li><li>  R√©pertoire Studio </li><li>  R√©pertoire de projets (fortement recommand√©) </li><li>  ~ / .gradle </li><li>  ~ / .android </li><li>  ~ / Android StudioX.X </li><li>  ~ / lldb </li><li>  R√©pertoire de cache Kotlin </li></ul><br><h4 id="antivirus">  Antivirus </h4><br><p>  Je sais que tout le monde dans l'environnement de d√©veloppement n'a pas d√©cid√© d'utiliser un antivirus.  Mais beaucoup l'utilisent.  Y compris, parfois, sur Linux et Mac OS.  Et son utilisation est parfaitement justifi√©e. </p><br><p>  M√™me si vous avez Windows 10 et aucun antivirus, Windows Defender remplit ses fonctions. </p><br><p>  Lors de l'assemblage d'un antivirus peut prendre une partie tr√®s importante du CPU.  Par cons√©quent, tous les r√©pertoires r√©pertori√©s dans la colonne "Indexation" doivent √™tre ajout√©s aux exceptions antivirus.  Il est √©galement judicieux d'ajouter les noms de processus du studio et de la JVM JetBrains aux exceptions. </p><br><p>  En fonction de l'impl√©mentation de l'antivirus, la consommation du processeur pendant la g√©n√©ration diminuera consid√©rablement, ou cessera de consommer du tout la puissance du processeur.  Et le temps de montage lui-m√™me diminuera sensiblement. </p><br><h4 id="shifrovanie-diska-ili-domashney-direktorii">  Chiffrement du lecteur ou du r√©pertoire personnel </h4><br><p>  Ces fonctions sont pr√©sentes sur tous les syst√®mes d'exploitation courants ou sont impl√©ment√©es par des logiciels tiers.  Bien s√ªr, le travail en studio dans un espace fichier crypt√© peut n√©cessiter plus de puissance CPU.  Combien d√©pend de la mise en ≈ìuvre du cryptage.  Par cons√©quent, il est recommand√© de d√©sactiver compl√®tement ces fonctions ou, si possible, pour les r√©pertoires r√©pertori√©s dans la colonne "Indexation". </p><br><h4 id="a-rabotaet-li-trim">  TRIM fonctionne-t-il? </h4><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TRIM</a> peut √™tre impl√©ment√© √† la fois mat√©riel et logiciel.  Dans ce dernier cas, l'obligation d'appeler TRIM incombe au syst√®me d'exploitation.  Et, pour diverses raisons, un appel p√©riodique peut √™tre d√©connect√©, ce qui entra√Æne une baisse de la vitesse du lecteur. </p><br><p>  Vous pouvez tester l'int√©grit√© et reprendre les appels TRIM √† l'aide d'utilitaires sp√©cialis√©s.  Il est recommand√© d'utiliser les utilitaires du fabricant du lecteur. </p><br><h4 id="ramdisk">  RAMDisk </h4><br><p>  Qu'est-ce que <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">RAMDisk, la</a> plupart le <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">savent</a> depuis longtemps.  Mais quelle est son efficacit√© √† travailler avec le studio? </p><br><p>  D'apr√®s ma propre exp√©rience, je ne dirai pas grand-chose.  Sauf si vous transf√©rez le projet lui-m√™me, le SDK, le studio, etc. sur RAMDisk.  Si vous avez suffisamment de RAM ... </p><br><p>  Avec un simple transfert du projet pesant plus de 500 Mo (le chiffre est indiqu√© avec le cache de build), je n'ai pas pu atteindre une augmentation de plus de 15%.  Apparemment, les appels au SDK et aux API syst√®me sont ralentis.  En cons√©quence, une telle augmentation est assez co√ªteuse. </p><br><p>  La m√©thode suivante est beaucoup plus efficace et beaucoup moins ch√®re. </p><br><h4 id="keshirovanie-zaprosov-k-nakopitelyu">  Caching Drive Requests </h4><br><p>  Quelque chose de similaire est impl√©ment√© dans Mac OS.  Cependant, en comparaison avec les technologies √©num√©r√©es ci-dessous, il n'est pas si efficace. </p><br><p>  Malheureusement, je ne connais que deux impl√©mentations, et les deux sont √©troitement li√©es aux produits des fabricants.  Il s'agit de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Samsung RAPID</a> et <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PlexTurbo</a> . </p><br><p>  Les deux technologies fonctionnent sur des principes similaires (je d√©cris ce que j'ai compris moi-m√™me): </p><br><ul><li>  S'il y avait une demande de lecture de petits volumes, ils sont report√©s dans la RAM et, lorsqu'ils sont relus, ils sont d√©j√† extraits de l√†.  Cache RAM standard. </li><li>  S'il y avait une demande d'√©criture de petites donn√©es, elles sont report√©es dans le cache RAM.  Ensuite, les demandes d'√©criture sont compar√©es au cache.  Si vous r√©√©crivez les m√™mes donn√©es sur les m√™mes chemins - pourquoi les r√©enregistrer dans le mat√©riel?  Et le SSD vivra plus longtemps. </li></ul><br><p>  La seule diff√©rence est que le RAPID utilise la RAM libre restante comme cache.  Moins d'√©quilibre - moins de taille de cache, moins d'acc√©l√©ration.  PlexTurbo vous permet de limiter la taille maximale du cache et de la charger depuis le disque dur au d√©marrage du syst√®me. </p><br><p>  S'il est utilis√© sur SATA 3, vous pouvez obtenir une augmentation allant jusqu'√† 50%.  Lorsque vous utilisez un lecteur NVMe, il est plus petit, mais souvent √©galement important. </p><br><p>  Pour le moment, j'ai un Samsung 860 EVO SATA 3. En dessous du spoiler se trouvent des r√©f√©rences avec i7 6700HQ et Turbo Boost d√©sactiv√©s. </p><br><div class="spoiler">  <b class="spoiler_title">860 EVO avant d'allumer le RAPID et deux essais apr√®s</b> <div class="spoiler_text"><p>  RAPIDE √©teint </p><br><p><img src="https://habrastorage.org/webt/n-/ej/jq/n-ejjqwzif0simqqnr9kslipkkg.png"></p><br><p>  Premi√®re course </p><br><p><img src="https://habrastorage.org/webt/hz/j7/tn/hzj7tnao03uis02skljuo--4kdu.png"></p><br><p>  Deuxi√®me manche </p><br><p><img src="https://habrastorage.org/webt/dp/in/b2/dpinb2gzcow-ze4fogmuc1og4pq.png"></p></div></div><br><p>  Vous pouvez clairement voir comment le syst√®me commence √† mettre en cache les donn√©es lors de la premi√®re ex√©cution.  Le r√©sultat final est nettement sup√©rieur √† SATA 3. Cependant, l'efficacit√© de cette technologie d√©pend davantage des capacit√©s du processeur.  Ce qui est clairement visible lorsque vous activez Turbo Boost. </p><br><div class="spoiler">  <b class="spoiler_title">860 EVO + RAPID + Turbo Boost</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ja/py/2h/japy2hmwitfdrfb8rav_vts8qoe.png"></p></div></div><br><p>  Les synth√©tiques sont bien s√ªr bons.  Mais tout fonctionne lors de la lecture / √©criture de petits fichiers r√©p√©t√©s.  Et ce sont les op√©rations les plus courantes lors de l'ex√©cution d'Android Studio. </p><br><p>  Je travaille actuellement sur un projet avec un cache total de plus de 700 Mo, compos√© de 10 modules.  L'un des modules est son propre g√©n√©rateur de code bas√© sur kapt avec une logique tr√®s lourde.  Deux modules NDK, dont l'un fait r√©f√©rence √† Boost sur un chemin externe.  Le reste est des tonnes de code Kotlin. </p><br><p>  Si nous comparons le temps d'une reconstruction compl√®te de ce projet, les r√©sultats sont les suivants: </p><br><ul><li>  Avec RAPID √©teint, le temps √©tait de 1m 47s 633ms.  Tol√©rant. </li><li>  Avec RAPID activ√©, la premi√®re reconstruction est pass√©e en 1m 41s 633ms.  Empil√© dans l'erreur. </li><li>  Avec RAPID activ√©, la deuxi√®me reconstruction s'est d√©roul√©e en 1m 7s 132m.  Voici le gain.  Un peu plus de 37%, ce qui est significatif.  Les reconstructions ult√©rieures montrent un temps encore plus court, mais avec une diff√©rence ne d√©passant pas 3-5 secondes par rapport √† la derni√®re mesure.  Ce qui est sans importance. </li></ul><br><p>  Dans les processus plus courts, la croissance dans le studio est imm√©diatement perceptible. </p><br><p>  Par cons√©quent, nous pouvons recommander ces technologies et lecteurs comme un bon moyen d'augmenter la productivit√©.  Il n'y a eu aucune plainte concernant la stabilit√©. </p><br><h2 id="android-studio">  Android Studio </h2><br><p>  Beaucoup de ces conseils sont tir√©s <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">d'ici</a> et compl√©t√©s par mes commentaires.  Le reste est le r√©sultat de mes recherches et de mon exp√©rience. </p><br><h4 id="obnovleniya">  Mises √† jour </h4><br><p>  Le conseil, bien que banal, est toujours pertinent.  Si vous n'avez pas de projet h√©rit√©, essayez si possible de maintenir √† jour les versions du studio et des composants associ√©s (tels que Gradle, Android Plugin, Kotlin Plugin).  Google et JetBrains font beaucoup de travail pour optimiser la vitesse et int√©grer de nouvelles versions. </p><br><p>  Parfois, bien s√ªr, l'embarras se produit lorsque les nouvelles versions cessent de se comporter de mani√®re pr√©visible et provoquent des erreurs.  Par cons√©quent, nous avons un r√®glement sur la fa√ßon d'agir dans de telles situations. </p><br><p>  Dans certains cas, vous devez faire Fichier-&gt; invalider les caches et red√©marrer apr√®s la restauration.  Si vous mettez √† jour le studio lui-m√™me, il est pr√©f√©rable de sauvegarder les r√©pertoires du studio et les r√©pertoires des param√®tres.  Cela est vrai si votre projet contient <del>  </del>  ,       . </p><br><h4 id="struktura-proekta">   </h4><br><p>  ,      ,       API,   library-.      .       ,  ,    . </p><br><p> ,     .     ,   . </p><br><h4 id="instant-run"> Instant Run </h4><br><p>    .            " ".        .      -. </p><br><p> ,       ,      .        . ,             -    ,   Instant Run. </p><br><p>        Build, Execution, Deployment -&gt; Instant Run  Enable Instant Run. </p><br><h4 id="attach-to-process"> Attach to Process </h4><br><p>      .   ,    (   )     .                . </p><br><p> ,               -   Attach debugger to Android process. </p><br><h4 id="gradle-build-configs"> Gradle build configs </h4><br><p>  ,      buildConfig  flavour  ,     release- (, crashlytics,  annotation-   gradle-)-    debug     .   -   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a> ,     ,   . </p><br><p>  ,     buildConfig,      PNG crunching,   -      debug-.      png  .     : </p><br><pre> <code class="plaintext hljs">android { buildTypes { myConfig { crunchPngs false } } } //   android plugin android{ aaptOptions { cruncherEnabled false } }</code> </pre> <br><h4 id="webp"> WebP </h4><br><p>  minimum api level    18,       WebP.    ,           .         . ,      -      . </p><br><h4 id="parallelnaya-sborka">   </h4><br><p>        (,  app-),       Compile independent modules in parallel  Settings-&gt;Build, Execution, Deployment -&gt; Compiler.       CPU  . -  heap size ,  ,    . </p><br><p>          gradle.properties </p><br><p> <code>org.gradle.parallel=true</code> </p> <br><h4 id="gradle-daemon"> Gradle daemon </h4><br><p>        -     ,       . </p><br><p>       jvm  gradle           .           . -    .    gradle.properties </p><br><p> <code>org.gradle.daemon=true</code> </p> <br><h4 id="offline-sborka"> Offline- </h4><br><p>   Gradle   web- ,   .    .     ,    -     . </p><br><p>   Build, Execution, Deployment -&gt; Gradle   Offline work. </p><br><h4 id="uvelichenie-heap-size-android-studio-ili-idea">  heap size Android Studio  IDEA </h4><br><p>      .      xmx1280m (  ,      RAM  ).          GC ,  ,  . </p><br><p>   heap size    ,   Gradle. </p><br><p>  Gradle   gradle.properties </p><br><p> <code>org.gradle.jvmargs=-Xms1024m -Xmx4096m</code> </p> <br><p>   1       4   .      ,      . </p><br><p>   Android Studio  IDEA    Help -&gt; Edit Custom VM Options     JVM-    . </p><br><p>       JVM  ,       - .         <code>java -X</code> . </p><br><h4 id="plaginy">  Plugins </h4><br><p>    ,    IDE.     - .        .      . </p><br><p>      -    .    Settings -&gt; Plugins   ,    ,       .  ,     - . </p><br><h4 id="inspections"> Inspections </h4><br><p>       Settings -&gt; Editor -&gt; Inspections    IDE.  . </p><br><p>      ,   . -      ,      . </p><br><h4 id="power-save-mode"> Power Save mode </h4><br><p>       File.       (,   , Spell Checking  ..).       .        , , VS Code. </p><br><p>     ,    . </p><br><h4 id="settings-repository"> Settings Repository </h4><br><p>     ,   .            .       . </p><br><p>        codestyle-          Git,    copyright     ,      codestyle    . </p><br><p> , ,  .idea  ,  -  . </p><br><h4 id="avd"> AVD </h4><br><p>      AVD    .   3     ,           (   x86-). </p><br><p>    ,   x86- Pie  AVD  .    .   ,   . </p><br><p>  ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">HAXM</a>    2  RAM . </p><br><p>  ,  AVD   CPU    - ,    . ,    CPU   -     . </p><br><p>     -        .         Settings -&gt; Advanced .     ,         .   ,     Cold Boot.       . </p><br><div class="spoiler"> <b class="spoiler_title">    AVD</b> <div class="spoiler_text"><p><img src="https://habrastorage.org/webt/dh/wt/gi/dhwtgimqz0chd6ecwtzygtg4zei.jpeg"></p></div></div><br><p>    GPU      ,   -      GPU,    .    ,     .     Cold Boot. </p><br><h2 id="itog">  R√©sum√© </h2><br><p>   ,       .       . </p><br><p> -   . ,        . </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr433604/">https://habr.com/ru/post/fr433604/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr433592/index.html">Informations: Yandex.Phone</a></li>
<li><a href="../fr433596/index.html">L'erreur de Magellan: d√©passement de tampon ou exp√©dition autour du monde avec SQLite FTS</a></li>
<li><a href="../fr433598/index.html">Comment LLVM optimise la fonction</a></li>
<li><a href="../fr433600/index.html">Pixel 3 apprend √† d√©terminer la profondeur des photos</a></li>
<li><a href="../fr433602/index.html">La simplicit√© math√©matique peut √™tre √† l'origine de la vitesse d'√©volution.</a></li>
<li><a href="../fr433606/index.html">Profondeurs SIEM: corr√©lations pr√™tes √† l'emploi. Partie 3.2. M√©thodologie de normalisation des √©v√©nements</a></li>
<li><a href="../fr433608/index.html">La voiture du futur. √âcrans au lieu de vitres automobiles?</a></li>
<li><a href="../fr433610/index.html">Notes d'un phytochimiste. Kaki</a></li>
<li><a href="../fr433612/index.html">FCC: satellites SpaceX en orbite - une source de d√©bris dangereux pour les habitants de la Terre</a></li>
<li><a href="../fr433614/index.html">Comment prendre le contr√¥le de votre infrastructure r√©seau. Chapitre un R√©tention</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>