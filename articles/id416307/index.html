<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🎓 😕 🤳🏿 iOS 12: baru dalam notifikasi 🖐🏻 🖥️ 📐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Konferensi WWDC diadakan, dan masih ada banyak laporan yang layak dilihat. Ada beberapa topik utama yang menjadi perhatian Apple. Inti ML, Pintasan Si...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>iOS 12: baru dalam notifikasi</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/e-Legion/blog/416307/"><p>  Konferensi WWDC diadakan, dan masih ada banyak laporan yang layak dilihat.  Ada beberapa topik utama yang menjadi perhatian Apple.  Inti ML, Pintasan Siri dan, tentu saja, berubah menjadi Pemberitahuan. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tn/oh/1k/tnoh1klclj31_juce5ku2drd9x8.png"></div><br><p>  Karena tidak semua orang memiliki cukup waktu luang untuk berjalan melalui hutan dokumentasi, yang, seperti biasanya terjadi, menyisakan banyak yang diinginkan pada tahap pengujian beta, saya menyiapkan tinjauan fitur baru dan memperkuat materi dengan implementasi praktis.  Baca, pahami, dan integrasikan ke dalam aplikasi Anda. </p><a name="habracut"></a><br><p>  Mari kita mulai dengan ikhtisar fitur yang telah ditambahkan Apple. </p><br><h3 id="gruppirovka-uvedomleniy">  Pengelompokan Pemberitahuan </h3><br><p>  Untuk menerapkan, Anda tidak perlu melakukan apa pun.  iOS 12 akan secara otomatis mengelompokkan pesan untuk Anda.  Tetapi ada nuansa yang berhubungan dengan penyesuaian, pelokalan dan pengelompokan, tetapi tidak didasarkan pada pengenal aplikasi, tetapi, misalnya, tergantung pada nama pengguna yang mengirim pemberitahuan. </p><br><p>  Selain itu, jika Anda akan menguji pengelompokan notifikasi, perhatikan bahwa notifikasi hanya akan mulai dikemas jika semua notifikasi tidak dapat masuk ke layar sekaligus.  Misalnya, pada layar iPhone 8 untuk ini, Anda perlu menempatkan 5 atau lebih pemberitahuan. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/kt/bi/ld/ktbild9jk0ey2gbbdbr4rhcvdow.png"></div><br><p>  Agar tidak membebani materi ini, saya memasukkan informasi dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">artikel terpisah</a> . </p><br><h3 id="izmeneniya-v-api-nsextensioncontext">  Perubahan pada API NSExtensionContext </h3><br><p>  Item berikutnya adalah peluang baru untuk pemberitahuan, dan khususnya kelas <strong>NSExtensionContext</strong> .  Dia bertanggung jawab untuk berinteraksi dengan widget, Siri, memainkan konten media.  Kami lebih tertarik pada notifikasi.  Dua metode dan satu variabel ditambahkan: </p><br><pre><code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> notificationActions: [<span class="hljs-type"><span class="hljs-type">UNNotificationAction</span></span>] { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> }</code> </pre> <br><p>  Variabel memungkinkan penggantian set tindakan yang tersedia selama interaksi dengan pemberitahuan: </p><br><pre> <code class="hljs swift"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dismissNotificationContentExtension</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">performNotificationDefaultAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span></code> </pre> <br><p>  Metode membuka aplikasi atau menyembunyikan pemberitahuan. </p><br><p>  Untuk menunjukkan kemungkinan kami akan menulis aplikasi kecil. </p><br><p>  Pertama, tambahkan ke aplikasi mengirim pemberitahuan lokal: </p><br><pre> <code class="hljs powershell">let actions = [ <span class="hljs-type"><span class="hljs-type">UNNotificationAction</span></span>(<span class="hljs-type"><span class="hljs-type">identifier</span></span>: <span class="hljs-string"><span class="hljs-string">"like-action"</span></span>, <span class="hljs-type"><span class="hljs-type">title</span></span>: <span class="hljs-string"><span class="hljs-string">"Like"</span></span>, <span class="hljs-type"><span class="hljs-type">options</span></span>: []), <span class="hljs-type"><span class="hljs-type">UNNotificationAction</span></span>(<span class="hljs-type"><span class="hljs-type">identifier</span></span>: <span class="hljs-string"><span class="hljs-string">"open-app"</span></span>, <span class="hljs-type"><span class="hljs-type">title</span></span>: <span class="hljs-string"><span class="hljs-string">"Open App"</span></span>, <span class="hljs-type"><span class="hljs-type">options</span></span>: []), <span class="hljs-type"><span class="hljs-type">UNNotificationAction</span></span>(<span class="hljs-type"><span class="hljs-type">identifier</span></span>: <span class="hljs-string"><span class="hljs-string">"dismiss"</span></span>, <span class="hljs-type"><span class="hljs-type">title</span></span>: <span class="hljs-string"><span class="hljs-string">"Dismiss"</span></span>, <span class="hljs-type"><span class="hljs-type">options</span></span>: []), ] let simpleCategory = UNNotificationCategory(identifier: <span class="hljs-string"><span class="hljs-string">"category-simple"</span></span>, actions: actions, intentIdentifiers: [], options: []) UNUserNotificationCenter.current().setNotificationCategories([<span class="hljs-type"><span class="hljs-type">simpleCategory</span></span>])</code> </pre> <br><ul><li>  Kami membuat beberapa tindakan.  Header, pengidentifikasi yang memungkinkan Anda membedakan antara tindakan pemrosesan dan opsi diteruskan ke penginisialisasi.  Opsi dapat menunjukkan bahwa otentikasi pengguna diperlukan untuk menyelesaikan tindakan. </li><li>  Kami mendefinisikan kategori dengan pengenal.  Pengidentifikasi kategori memungkinkan Anda untuk memproses dan menampilkan berbagai jenis notifikasi dengan berbagai cara. </li><li>  Langkah terakhir adalah mengatur kategori untuk pusat notifikasi. </li></ul><br><p>  Metode kedua akan mengirim pemberitahuan lokal setelah periode waktu tertentu sehingga kami dapat meminimalkan aplikasi atau mengunci ponsel: </p><br><pre> <code class="hljs pgsql">UNUserNotificationCenter.<span class="hljs-keyword"><span class="hljs-keyword">current</span></span>().getNotificationSettings { (settings) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> guard settings.authorizationStatus == .authorized <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> } let content = UNMutableNotificationContent() content.title = "Cat Title" content.subtitle = "Cat Subtitle" content.body = "Cat Body" content.sound = .<span class="hljs-keyword"><span class="hljs-keyword">default</span></span> content.categoryIdentifier = "category-simple" let <span class="hljs-keyword"><span class="hljs-keyword">trigger</span></span> = UNTimeIntervalNotificationTrigger(timeInterval: <span class="hljs-number"><span class="hljs-number">3</span></span>, repeats: <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>) let <span class="hljs-type"><span class="hljs-type">uuid</span></span> = <span class="hljs-type"><span class="hljs-type">UUID</span></span>().uuidString let request = UNNotificationRequest(identifier: <span class="hljs-type"><span class="hljs-type">uuid</span></span>, content: content, <span class="hljs-keyword"><span class="hljs-keyword">trigger</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">trigger</span></span>) UNUserNotificationCenter.<span class="hljs-keyword"><span class="hljs-keyword">current</span></span>().<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(request, withCompletionHandler: { (error) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> }) }</code> </pre> <br><ul><li>  Periksa apakah pengguna mengizinkan kami mengirim pemberitahuan. </li><li>  Kami membuat pemberitahuan dengan tajuk dan teks dan menunjukkan kategori yang akan menjadi miliknya.  Dalam hal ini, "kategori-sederhana". </li><li>  Atur pemicu setelah 3 detik. </li><li>  Isi permintaan untuk mengirim pemberitahuan.  Dalam hal ini, kami menggunakan <strong>UUID</strong> sebagai pengenal.  Pengidentifikasi ini mungkin diperlukan jika kami ingin membatalkan pemberitahuan yang dijadwalkan. </li><li>  Tambahkan permintaan kami ke pusat notifikasi. </li></ul><br><p>  Selanjutnya, Anda perlu menambahkan target <strong>Ekstensi Konten Pemberitahuan</strong> baru ke aplikasi.  Ini memungkinkan Anda untuk menyesuaikan tampilan pemberitahuan dan pemrosesan tindakan. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/y3/r1/jv/y3r1jvhoccua49gmfis7bt0gxzu.png" width="500"></div><br><p>  File plist, ViewController dan Storyboard akan dibuat: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/wx/lu/xr/wxluxrgxvmap9s-enh1-fm6c9y4.png" width="500"></div><br><p>  Dalam file plist, kami tertarik pada kunci-kunci berikut: </p><br><ul><li>  <strong>UNNotificationExtensionCategory</strong> - nama kategori yang akan diproses.  Seperti sebelumnya, tentukan "kategori-sederhana". </li><li>  <strong>UNNotificationExtensionInitialContentSizeRatio</strong> - rasio ketinggian pemberitahuan dengan lebarnya.  Mempengaruhi ukuran notifikasi setelah ditampilkan secara penuh. </li><li>  <strong>UNNotificationExtensionUserInteractionEnabled</strong> - <strong>aktifkan</strong> atau nonaktifkan interaksi dengan kontrol khusus.  Dalam kasus kami, itu akan menjadi tombol dengan hati. </li><li>  <strong>UNNotificationExtensionDefaultContentHidden</strong> - menyembunyikan konten pemberitahuan, yang dihasilkan secara default. </li></ul><br><p>  Di storyboard, buat UIImageView, UILabel untuk menampilkan judul notifikasi, dan UIButton untuk berinteraksi dengan aplikasi. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gb/2v/kr/gb2vkrmvi_vrpjajntm6eohazkc.png" width="400"></div><br><p>  Di View Controller, kami membuat metode untuk membuka aplikasi dan menyembunyikan pemberitahuan: </p><br><pre> <code class="hljs swift"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">openApp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { extensionContext?.performNotificationDefaultAction() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dismissNotification</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { extensionContext?.dismissNotificationContentExtension() }</code> </pre> <br><p>  Kami menerapkan metode protokol <strong>UNNotificationContentExtension</strong> . </p><br><p>  Yang pertama memungkinkan Anda untuk menampilkan teks yang diperlukan: </p><br><pre> <code class="hljs swift"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">didReceive</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> notification: UNNotification)</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.notificationTitleLabel.text = notification.request.content.body }</code> </pre> <br><p>  Yang kedua diperlukan untuk menangani tindakan dari <strong>UNNotificationAction</strong> .  Dalam metode yang sama, tindakan diganti menggunakan <strong>ekstensi extensionContext? .NotificationActions</strong> : </p><br><pre> <code class="hljs powershell">func didReceive(_ response: UNNotificationResponse, completionHandler completion: @escaping (UNNotificationContentExtensionResponseOption) -&gt; Void) { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> response.actionIdentifier { case <span class="hljs-string"><span class="hljs-string">"like-action"</span></span>: let actions = [ <span class="hljs-type"><span class="hljs-type">UNNotificationAction</span></span>(<span class="hljs-type"><span class="hljs-type">identifier</span></span>: <span class="hljs-string"><span class="hljs-string">"1-star"</span></span>, <span class="hljs-type"><span class="hljs-type">title</span></span>: <span class="hljs-string"><span class="hljs-string">"★"</span></span>, <span class="hljs-type"><span class="hljs-type">options</span></span>: []), <span class="hljs-type"><span class="hljs-type">UNNotificationAction</span></span>(<span class="hljs-type"><span class="hljs-type">identifier</span></span>: <span class="hljs-string"><span class="hljs-string">"2-star"</span></span>, <span class="hljs-type"><span class="hljs-type">title</span></span>: <span class="hljs-string"><span class="hljs-string">"★ ★"</span></span>, <span class="hljs-type"><span class="hljs-type">options</span></span>: []), <span class="hljs-type"><span class="hljs-type">UNNotificationAction</span></span>(<span class="hljs-type"><span class="hljs-type">identifier</span></span>: <span class="hljs-string"><span class="hljs-string">"3-star"</span></span>, <span class="hljs-type"><span class="hljs-type">title</span></span>: <span class="hljs-string"><span class="hljs-string">"★ ★ ★"</span></span>, <span class="hljs-type"><span class="hljs-type">options</span></span>: []), ] extensionContext?.notificationActions = actions case <span class="hljs-string"><span class="hljs-string">"open-app"</span></span>: openApp() default: dismissNotification() } }</code> </pre> <br><p>  Pemrosesan keran jantung dilakukan seperti biasa melalui <strong><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">IBAction</a></strong> : </p><br><pre> <code class="hljs swift"><span class="hljs-meta"><span class="hljs-meta">@IBAction</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">defaultButtonTapped</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> sender: UIButton)</span></span></span></span> { openApp() }</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/xk/kl/ip/xkklip58-bi_uwtym3svgvgqnkm.gif" width="300"></div><br><p>  Kami meluncurkan aplikasi dan melihat apa yang kami dapatkan: </p><br><ul><li>  <strong>Penekanan</strong> dari <strong>UIButton</strong> diproses. </li><li>  Menggunakan <strong>UNNotificationAction</strong> memungkinkan <strong>Anda</strong> mengganti opsi yang tersedia untuk interaksi. </li></ul><br><h3 id="vzaimodeystvie-s-nastroykami-uvedomleniy">  Interaksi dengan pengaturan notifikasi </h3><br><p>  Inovasi berikut memungkinkan Anda untuk menambahkan item menu baru ke pengaturan notifikasi.  Ketika Anda mengetuknya, sebuah metode akan dipanggil yang dapat Anda implementasikan dalam aplikasi.  Misalnya, pengguna dapat langsung masuk ke aplikasi Anda dari pengaturan sistem dan hanya menyertakan pemberitahuan yang benar-benar ingin ia terima.  Apa yang perlu dilakukan untuk implementasi? </p><br><p>  Pertama, saat mengotorisasi pemberitahuan, kami menambahkan satu parameter lagi - <strong>menyediakanAppNotificationSettings</strong> : </p><br><pre> <code class="hljs powershell">UNUserNotificationCenter.current().requestAuthorization(options: [<span class="hljs-type"><span class="hljs-type">.badge</span></span>, <span class="hljs-type"><span class="hljs-type">.alert</span></span>, <span class="hljs-type"><span class="hljs-type">.sound</span></span>, <span class="hljs-type"><span class="hljs-type">.providesAppNotificationSettings</span></span>])</code> </pre> <br><p>  Kedua, kami mengimplementasikan metode <strong>userNotificationCenter (_: openSettingsFor :)</strong> dari protokol <strong>UNUserNotificationCenterDelegate</strong> : </p><br><pre> <code class="hljs swift"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppDelegate</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UNUserNotificationCenterDelegate</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">userNotificationCenter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">_</span></span></span></span><span class="hljs-function"><span class="hljs-params"> center: UNUserNotificationCenter, openSettingsFor notification: UNNotification?)</span></span></span></span> { openSettings() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">openSettings</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> storyboard = <span class="hljs-type"><span class="hljs-type">UIStoryboard</span></span>(name: <span class="hljs-string"><span class="hljs-string">"Settings"</span></span>, bundle: <span class="hljs-literal"><span class="hljs-literal">nil</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> settings = storyboard.instantiateViewController(withIdentifier: <span class="hljs-string"><span class="hljs-string">"Settings"</span></span>) window?.rootViewController = settings } }</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ps/to/gm/pstogmnrnxt-qssgqokkysy7ljk.png"></div><br><h3 id="provisional-notifications">  Notifikasi sementara </h3><br><p>  Pengguna tidak selalu mengerti jika dia ingin menerima pemberitahuan dari aplikasi Anda.  Karena itu, ketika Anda pertama kali memulai aplikasi, sulit baginya untuk membuat pilihan seperti itu.  Dengan probabilitas tinggi dia akan menolak tawaran Anda.  Untuk situasi seperti itu, Apple menyarankan menggunakan Otorisasi Sementara.  Saat meminta otorisasi untuk mengirim pemberitahuan, satu parameter lagi ditambahkan - <strong>sementara</strong> .  status <strong>otorisasi</strong> untuk pemberitahuan tersebut juga masuk ke aplikasi dengan status <strong>sementara</strong> . </p><br><pre> <code class="hljs powershell">UNUserNotificationCenter.current().requestAuthorization(options: [<span class="hljs-type"><span class="hljs-type">.badge</span></span>, <span class="hljs-type"><span class="hljs-type">.alert</span></span>, <span class="hljs-type"><span class="hljs-type">.provisional</span></span>])</code> </pre> <br><p>  Pengguna tidak akan menerima permintaan otorisasi saat memulai aplikasi.  Namun, agar tidak mengganggunya, aplikasi tersebut ditempatkan di <em>penjara yang</em> disebut.  Untuk pemberitahuan, suara, lencana dinonaktifkan;  mereka hanya ditampilkan di Pusat Pemberitahuan.  Mereka tidak akan muncul di layar yang terkunci atau dalam bentuk spanduk. </p><br><p>  Saat pengguna menerima pemberitahuan, dua tombol tambahan muncul.  Satu akan sepenuhnya memblokir notifikasi atau menawarkan untuk pergi ke pengaturan, dan yang kedua akan menerjemahkan notifikasi Anda ke dalam status resmi: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/mg/wq/cn/mgwqcnuqeahzyuuv3e7eqrbshpo.png"></div><br><h3 id="critical-alerts">  Lansiran kritis </h3><br><p>  Perubahan terbaru menambahkan jenis pemberitahuan lain - <strong>Peringatan Kritis</strong> .  Pemberitahuan ini sepenuhnya mengabaikan pengaturan ponsel Anda, suara tidak bersuara atau tidak mengganggu mode.  Apple merekomendasikan untuk menggunakannya dalam aplikasi medis (misalnya, tingkat gula melonjak tajam pada pengguna perangkat), serta untuk memastikan keamanan pengguna di rumah atau di tempat umum. </p><br><p>  Permintaan otorisasi berisi karakter khusus: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cg/e6/ug/cge6ugnjpp9kmzr11zq_gck4tt4.png" width="200"></div><br><p>  Item baru ditambahkan dalam pengaturan, dan ikon tambahan ditampilkan pada layar pemberitahuan: </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hi/fc/oz/hifcozpqldx_qkybllpj_mwuyvm.png"></div><br><p>  Untuk mengirim pemberitahuan kritis, Anda harus melalui proses validasi aplikasi Anda di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">situs web Apple</a> . </p><br><p>  Untuk menggunakan notifikasi, gunakan parameter <strong>criticalAlert</strong> : </p><br><pre> <code class="hljs powershell">UNUserNotificationCenter.current().requestAuthorization(options: [<span class="hljs-type"><span class="hljs-type">.badge</span></span>, <span class="hljs-type"><span class="hljs-type">.alert</span></span>, <span class="hljs-type"><span class="hljs-type">.criticalAlert</span></span>])</code> </pre> <br><p>  Dan kami membentuk isi pemberitahuan: </p><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> content = <span class="hljs-type"><span class="hljs-type">UNMutableNotificationContent</span></span>() content.title = <span class="hljs-string"><span class="hljs-string">"WARNING"</span></span> content.body = <span class="hljs-string"><span class="hljs-string">"Storm alert"</span></span> content.categoryIdentifier = <span class="hljs-string"><span class="hljs-string">"storm-alert"</span></span> content.sound = <span class="hljs-type"><span class="hljs-type">UNNotificationSound</span></span>.defaultCriticalSound(withAudioVolume: <span class="hljs-number"><span class="hljs-number">1.0</span></span>)</code> </pre> <br><p>  Untuk <strong>Peringatan Kritis,</strong> Anda dapat menentukan volume yang dengannya pemberitahuan akan dipicu terlepas dari pengaturan pengguna. </p><br><p>  Saya harap materi ini akan menyederhanakan proses pengenalan notifikasi baru ke dalam aplikasi Anda.  Jika Anda tidak dapat menemukan beberapa langkah implementasi, saya sarankan Anda membiasakan diri dengan kode di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">github</a> atau mengajukan pertanyaan di komentar. </p><br><p>  Anda juga dapat menonton artikel e-Legion tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">pemberitahuan untuk iOS 10</a> atau laporan yang direkam dari WWDC - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Apa yang Baru di Pemberitahuan Pengguna.</a>  Kami akan dapat membahas inovasi di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">MBLT DEV 2018</a> di Moskow pada 28 September. </p><br><p>  Semoga harimu menyenangkan dan anjing laut berbulu untuk semua orang ^ _ ^ </p><br><p>  UPD: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Bagian kedua</a> artikel tentang pengelompokan notifikasi sudah ada di Habré. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id416307/">https://habr.com/ru/post/id416307/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id416297/index.html">plug-in ml-agent untuk persatuan</a></li>
<li><a href="../id416299/index.html">Orang-orang telah melacak gletser di Islandia selama beberapa dekade; Sekarang tekniknya akan melakukannya</a></li>
<li><a href="../id416301/index.html">Navigasi dalam aplikasi Android menggunakan koordinator</a></li>
<li><a href="../id416303/index.html">Menciptakan pemicu pertama</a></li>
<li><a href="../id416305/index.html">Standardisasi adalah petualangan Internet of Things terpanjang</a></li>
<li><a href="../id416309/index.html">Cara menggunakan file HDF5 dengan Python</a></li>
<li><a href="../id416313/index.html">Daftar Periksa Analisis Log Kejadian Keamanan</a></li>
<li><a href="../id416315/index.html">ASP.NET Razor: Memecahkan Beberapa Masalah Arsitektur untuk Model Tampilan</a></li>
<li><a href="../id416319/index.html">Latar belakang: daftar putih IMEI dan Rossvyaz</a></li>
<li><a href="../id416321/index.html">Bagaimana menjadi pembicara dalam konferensi IT internasional</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>