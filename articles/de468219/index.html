<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçÆ ‚úçüèø üë®üèª‚Äçüíª Erweiterbare Erweiterungsmechanismen in JavaScript üî¶ ‚õπüèª üßëüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Kollegen! 

 Wir erinnern Sie daran, dass wir vor nicht allzu langer Zeit die 3. Ausgabe des legend√§ren Buches ‚ÄûExpressive JavaScript ‚Äú (Eloquen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erweiterbare Erweiterungsmechanismen in JavaScript</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/468219/">  Hallo Kollegen! <br><br>  Wir erinnern Sie daran, dass wir vor nicht allzu langer Zeit die 3. Ausgabe des legend√§ren Buches <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">‚ÄûExpressive JavaScript</a> ‚Äú (Eloquent JavaScript) ver√∂ffentlicht haben - es wurde zum ersten Mal in russischer Sprache gedruckt, obwohl im Internet hochwertige √úbersetzungen fr√ºherer Ausgaben <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">gefunden wurden</a> . <br><br><img src="https://habrastorage.org/webt/xc/he/sh/xcheshyyruqmp90p5qwuga1k9cu.jpeg"><br><br>  Weder JavaScript noch die Forschungsarbeit von Herrn Haverbeke stehen jedoch nat√ºrlich nicht still.  Wir setzen das Thema des ausdrucksstarken JavaScript fort und bieten eine √úbersetzung des Artikels √ºber das Design von Erweiterungen (am Beispiel der Entwicklung eines Texteditors), der Ende August 2019 im Blog des Autors ver√∂ffentlicht wurde <br><a name="habracut"></a><br><br>  Heutzutage ist es Mode geworden, gro√üe Systeme in Form vieler separater Pakete zu strukturieren.  Die diesem Ansatz zugrunde liegende treibende Idee ist, dass es besser ist, Personen nicht durch Implementierung einer Funktion auf eine bestimmte (von Ihnen vorgeschlagene) Funktion zu beschr√§nken, sondern diese Funktion als separates Paket bereitzustellen, das eine Person zusammen mit dem Basissystempaket herunterladen kann. <br>  Um dies zu tun, ben√∂tigen Sie im Allgemeinen ... <br><br><ul><li>  Die M√∂glichkeit, nicht einmal ben√∂tigte Funktionen nicht einmal zu laden, ist besonders n√ºtzlich, wenn Sie mit clientseitigen Systemen arbeiten. </li><li>  Die M√∂glichkeit, die Funktionalit√§t, die Ihren Anforderungen nicht entspricht, durch eine andere Implementierung zu ersetzen.  Auf diese Weise wird auch der Druck auf die Kernmodule reduziert, die sonst alle m√∂glichen praktischen F√§lle abdecken m√ºssten. </li><li>  √úberpr√ºfen der Kernel-Schnittstellen unter realen Bedingungen - durch Implementieren grundlegender Funktionen √ºber der Client-Schnittstelle;  Sie m√ºssen die Benutzeroberfl√§che leistungsf√§hig genug machen, um zumindest die Unterst√ºtzung dieser Funktionen zu bew√§ltigen - und sicherstellen, dass funktional √§hnliche Elemente aus Code von Drittanbietern zusammengestellt werden k√∂nnen. </li><li>  Isolation zwischen Systemkomponenten.  Die Projektteilnehmer m√ºssen nach dem spezifischen Paket suchen, das sie interessiert.  Pakete k√∂nnen versioniert, veraltet oder durch andere ersetzt werden, und all dies hat keine Auswirkungen auf den Kernel. </li></ul><br><br>  Dieser Ansatz ist mit bestimmten Kosten verbunden, die auf zus√§tzliche Komplexit√§t hinauslaufen.  Damit Benutzer loslegen k√∂nnen, k√∂nnen Sie ihnen ein All-Inclusive-Wrapper-Paket zur Verf√ºgung stellen. Irgendwann m√ºssen sie diesen Wrapper jedoch wahrscheinlich entfernen und die Installation und Konfiguration von Zusatzpaketen selbst in Angriff nehmen. Dies ist schwieriger als das Einschlie√üen Neue Funktion in der monolithischen Bibliothek. <br>  In diesem Artikel werde ich versuchen, verschiedene M√∂glichkeiten zu untersuchen, um Erweiterungsmechanismen zu entwerfen, die ‚ÄûErweiterbarkeit im gro√üen Ma√üstab‚Äú beinhalten, und sofort neue Punkte f√ºr zuk√ºnftige Erweiterungen zu setzen. <br><br>  <b>Erweiterbarkeit</b> <br><br>  Was brauchen wir von einem erweiterbaren System?  Zun√§chst m√ºssen Sie nat√ºrlich in der Lage sein, neue Verhaltensweisen √ºber externen Code zu erstellen. <br><br>  Dies reicht jedoch kaum aus.  Lassen Sie mich abschweifen und Ihnen von einem dummen Problem erz√§hlen, auf das ich einmal gesto√üen bin.  Ich entwickle einen Texteditor.  In einer fr√ºhen Version des <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Code-Editors konnte der</a> Client <i>das</i> Erscheinungsbild einer bestimmten Zeile <i>angeben</i> .  Es war ausgezeichnet - der Benutzer konnte diese oder jene Zeile auf diese Weise selektiv ausw√§hlen. <br><br>  Wenn Sie au√üerdem versuchen, das Layout einer Zeile aus zwei voneinander unabh√§ngigen Codefragmenten zu initiieren, treten sie sich gegenseitig auf die Fersen.  Die zweite Erweiterung, die auf eine bestimmte Zeile angewendet wird, √ºberschreibt die durch die erste vorgenommenen √Ñnderungen.  Oder wenn wir zu einem sp√§teren Zeitpunkt versuchen, die √Ñnderungen im Design, die wir mit seiner Hilfe vorgenommen haben, durch den ersten Code zu l√∂schen, √ºberschreiben wir als Ergebnis das aus dem zweiten Codefragment vorgenommene Design. <br><br>  Die L√∂sung bestand darin, das <i>Hinzuf√ºgen</i> (und <i>Entfernen</i> ) von Code anstelle der Installation zuzulassen, sodass zwei Erweiterungen mit derselben Zeile interagieren konnten, ohne die Arbeit des anderen zu unterbrechen. <br><br>  In einer allgemeineren Formulierung m√ºssen Sie sicherstellen, dass Erweiterungen kombiniert werden k√∂nnen, auch wenn sie sich ‚Äû√ºberhaupt nicht bewusst‚Äú sind - und dass w√§hrend ihrer Interaktionen keine Konflikte auftreten. <br><br>  Damit dies funktioniert, muss jede Erweiterung einer beliebigen Anzahl von Agenten gleichzeitig ausgesetzt sein.  Wie die einzelnen Effekte verarbeitet werden, h√§ngt vom jeweiligen Fall ab.  Hier sind einige Strategien, die Sie vielleicht n√ºtzlich finden: <br><br><ul><li>  Alle √Ñnderungen werden wirksam.  Wenn wir beispielsweise einem Element eine CSS-Klasse hinzuf√ºgen oder ein Widget an einer bestimmten Position im Text anzeigen, k√∂nnen diese beiden Schritte sofort ausgef√ºhrt werden.  Nat√ºrlich ist eine bestimmte Reihenfolge erforderlich: Widgets sollten in einer vorhersehbaren und genau definierten Reihenfolge angezeigt werden. </li><li>  √Ñnderungen stehen in der Pipeline an.  Ein Beispiel f√ºr diesen Ansatz ist ein Handler, der √Ñnderungen an einem Dokument filtern kann, bevor sie wirksam werden.  Jedem Handler wird eine vom vorherigen Handler vorgenommene √Ñnderung zugef√ºhrt, und der nachfolgende Handler kann solche √Ñnderungen fortsetzen.  Die Reihenfolge hier ist nicht entscheidend, kann aber von Bedeutung sein. </li><li>  Der First-Come-First-Served-Ansatz.  Dieser Ansatz ist beispielsweise bei Ereignishandlern anwendbar.  Jeder Handler hat die M√∂glichkeit, an dem Ereignis zu basteln, bis einer der Handler ank√ºndigt, dass bereits alles erledigt ist, und der n√§chste Handler wiederum nicht gest√∂rt wird. </li><li>  Manchmal muss nur ein Wert ausgew√§hlt werden, um beispielsweise den Wert eines bestimmten Konfigurationsparameters zu bestimmen.  Hier w√§re es angebracht, eine Art Operator (zum Beispiel logisch oder logisch und minimal, maximal) zu verwenden, um die potenzielle Eingabe auf einen einzelnen Wert zu reduzieren.  Ein Editor kann beispielsweise in den schreibgesch√ºtzten Modus wechseln, wenn mindestens eine Erweiterung dies erfordert, oder die maximale L√§nge eines Dokuments kann das Minimum aller f√ºr diese Option angegebenen Werte sein. </li></ul><br><br>  In vielen solchen Situationen ist Ordnung wichtig.  Hier meine ich die Einhaltung der Reihenfolge, in der die Effekte angewendet werden. Diese Reihenfolge muss kontrolliert und vorhersehbar sein. <br><br>  Dies ist eine der Situationen, in denen zwingende Verl√§ngerungssysteme normalerweise nicht sehr gut sind, deren Funktion von Nebenwirkungen abh√§ngt.  F√ºr die Operation <code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">addEventListener</a></code> eines <code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">addEventListener</a></code> DOM-Modells m√ºssen beispielsweise Ereignishandler in der Reihenfolge aufgerufen werden, in der sie registriert sind.  Dies ist normal, wenn alle Anrufe von einem einzigen System gesteuert werden oder wenn die Reihenfolge der Anrufe nicht so wichtig ist.  Wenn Sie jedoch viele Softwarekomponenten haben, die Handler unabh√§ngig voneinander hinzuf√ºgen, kann es sehr schwierig sein, vorherzusagen, welche √ºberhaupt aufgerufen werden. <br><br>  <b>Einfacher Ansatz</b> <br><br>  Lassen Sie mich ein konkretes Beispiel geben: Ich habe zuerst eine solche modulare Strategie angewendet, als ich ProseMirror entwickelt habe, ein System zum Bearbeiten von Rich Text.  Der Kern dieses Systems an sich ist im Wesentlichen nutzlos: Es st√ºtzt sich auf zus√§tzliche Pakete, um die Struktur von Dokumenten zu beschreiben, Schl√ºssel zu binden und einen Verlauf von Stornierungen aufrechtzuerhalten.  Obwohl es wirklich etwas schwierig ist, dieses System zu verwenden, hat es Anwendung in Programmen gefunden, in denen Sie Dinge konfigurieren m√ºssen, die in klassischen Editoren nicht unterst√ºtzt werden. <br><br>  Der ProseMirror-Erweiterungsmechanismus ist relativ einfach.  Beim Erstellen eines Editors wird im Clientcode ein einzelnes Array verbundener Objekte angegeben.  Jedes dieser Plug-In-Objekte kann verschiedene Aspekte des Editors beeinflussen und beispielsweise Statusdatenbits hinzuf√ºgen oder Schnittstellenereignisse verarbeiten. <br>  Alle diese Aspekte wurden entwickelt, um mit einem geordneten Array von Konfigurationswerten unter Verwendung einer der oben beschriebenen Strategien zu arbeiten.  Wenn Sie beispielsweise viele W√∂rterb√ºcher mit Werten angeben m√ºssen, h√§ngt die Priorit√§t der folgenden Erweiterungsinstanzen f√ºr die Schl√ºsselbindung von der Reihenfolge ab, in der Sie diese Instanzen angeben.  Die erste Erweiterung f√ºr die Schl√ºsselbindung, die wei√ü, was mit diesem Tastenanschlag zu tun ist, verarbeitet sie. <br><br>  Normalerweise erweist sich ein solcher Mechanismus als ziemlich leistungsf√§hig und sie k√∂nnen ihn zu ihrem Vorteil nutzen.  Fr√ºher oder sp√§ter erreicht das Erweiterungssystem jedoch eine solche Komplexit√§t, dass es unpraktisch wird, es zu verwenden. <br><br><ul><li>  Wenn das Plugin viele Effekte hat, k√∂nnen Sie nur hoffen, dass entweder alle die gleiche Priorit√§t im Vergleich zu den anderen Plugins ben√∂tigen, oder Sie m√ºssen sie in kleinere Plugins aufteilen, um ihre Reihenfolge richtig zu ordnen. </li><li>  Im Allgemeinen wird das Organisieren von Plugins sehr gewissenhaft, da dem Endbenutzer nicht immer klar ist, welche Plugins welche anderen Plugins st√∂ren k√∂nnen, wenn sie eine h√∂here Priorit√§t erhalten.  In solchen F√§llen gemachte Fehler treten normalerweise nur zur Laufzeit auf, wenn eine bestimmte Gelegenheit genutzt wird, sodass sie leicht √ºbersehen werden k√∂nnen. </li><li>  Wenn Plugins auf der Basis anderer Plugins erstellt werden, sollte diese Tatsache dokumentiert werden und hoffen, dass Benutzer nicht vergessen, die entsprechenden Abh√§ngigkeiten anzugeben (bei Bedarf bei diesem Bestellschritt). </li></ul><br><br>  CodeMirror <a href="">Version 6</a> ist eine umgeschriebene Version des gleichnamigen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Code-Editors</a> .  In diesem Projekt versuche ich einen modularen Ansatz zu entwickeln.  Dazu brauche ich ein ausdrucksst√§rkeres Erweiterungssystem.  Lassen Sie uns einige der Herausforderungen diskutieren, mit denen wir uns beim Entwurf eines solchen Systems befassen mussten. <br><br>  <b>Bestellung</b> <br><br>  Es ist einfach, ein System zu entwerfen, mit dem Sie die Reihenfolge der Erweiterungen vollst√§ndig steuern k√∂nnen.  Es ist jedoch viel schwieriger, ein System zu entwerfen, mit dem es angenehm zu arbeiten ist und das es Ihnen gleichzeitig erm√∂glicht, den Code verschiedener Erweiterungen ohne zahlreiche Eingriffe aus der Kategorie ‚ÄûJetzt aufpassen‚Äú zu kombinieren. <br>  Wenn es um die Bestellung geht, m√∂chte ich wirklich auf Priorit√§tswerte zur√ºckgreifen.  Beispielsweise gibt die CSS- <code>z-index</code> Eigenschaft die Nummer der Position an, die dieses Element in der Tiefe des Stapels einnimmt. <br><br>  Wie Sie am Beispiel l√§cherlich gro√üer <code>z-index</code> Werte sehen k√∂nnen, die manchmal in Stylesheets zu finden sind, ist diese Art der Priorit√§tsanzeige problematisch.  Das Modul selbst wei√ü nicht, welche Priorit√§tswerte andere Module haben.  Optionen sind nur Punkte in der Mitte eines undifferenzierten numerischen Bereichs.  Sie k√∂nnen einen gro√üen (oder zutiefst negativen) Wert festlegen, um zu versuchen, die √§u√üersten R√§nder dieses Spektrums zu erreichen, aber der Rest der Arbeit l√§uft auf Wahrsagerei hinaus. <br><br>  Die Situation kann ein wenig verbessert werden, wenn Sie einen begrenzten Satz klar definierter Priorit√§tskategorien definieren, sodass Erweiterungen die allgemeine ‚ÄûEbene‚Äú ihrer Priorit√§t charakterisieren k√∂nnen.  Au√üerdem ben√∂tigen Sie eine bestimmte Methode, um die Links innerhalb der Kategorien zu unterbrechen. <br><br>  <b>Gruppierung und Deduplizierung</b> <br><br>  Wie oben erw√§hnt, kann es vorkommen, dass einige Erweiterungen beim Arbeiten andere verwenden, sobald Sie sich ernsthaft auf Erweiterungen verlassen.  Wenn Sie Abh√§ngigkeiten manuell verwalten, l√§sst sich dieser Ansatz nicht gut skalieren.  Daher w√§re es sch√∂n, wenn Sie eine Gruppe von Erweiterungen gleichzeitig aufrufen k√∂nnten. <br><br>  Dieser Ansatz versch√§rft jedoch nicht nur das Priorit√§tsproblem weiter, sondern f√ºhrt auch ein weiteres Problem ein: Viele andere Erweiterungen k√∂nnen von einer bestimmten Erweiterung abh√§ngen, und wenn die Erweiterungen als Werte dargestellt werden, kann es durchaus sein, dass dieselbe Erweiterung mehrmals geladen wird .  Bei einigen Arten von Erweiterungen, z. B. Ereignishandlern, ist dies normal.  In anderen F√§llen, z. B. bei einem Stornierungsverlauf und einer Tooltip-Bibliothek, ist dieser Ansatz verschwenderisch und kann sogar alles besch√§digen. <br><br>  Wenn wir also das Layout von Erweiterungen zulassen, f√ºhrt dies zu einer zus√§tzlichen Komplexit√§t unseres Systems in Bezug auf das Abh√§ngigkeitsmanagement.  Sie m√ºssen in der Lage sein, solche Erweiterungen zu erkennen, die nicht dupliziert werden d√ºrfen, und sie genau einzeln herunterladen. <br><br>  Da jedoch in den meisten F√§llen Erweiterungen konfiguriert werden k√∂nnen und daher nicht alle Instanzen derselben Erweiterung exakt gleich sind, k√∂nnen wir nicht nur eine Instanz verwenden und damit arbeiten.  Wir m√ºssen eine sinnvolle Zusammenf√ºhrung solcher F√§lle in Betracht ziehen (oder einen Fehler melden, wenn die Zusammenf√ºhrung von Interesse f√ºr uns unm√∂glich ist). <br><br>  <b>Projekt</b> <br><br>  Hier werde ich allgemein beschreiben, was wir in CodeMirror 6 tun. Dies ist nur eine Skizze, keine fehlgeschlagene L√∂sung.  Es ist m√∂glich, dass sich dieses System weiterentwickelt, wenn sich die Bibliothek stabilisiert. <br><br>  Das in diesem Ansatz verwendete Hauptprimitiv hei√üt Verhalten.  Verhalten sind nur die Funktionen, auf denen Sie mit Erweiterungen aufbauen und Werte f√ºr sie angeben k√∂nnen.  Ein Beispiel ist das Verhalten eines Statusfelds, in dem Sie mithilfe von Erweiterungen neue Felder hinzuf√ºgen und eine Beschreibung des Felds bereitstellen k√∂nnen.  Ein weiteres Beispiel ist das Verhalten von Ereignishandlern in einem Browser.  In diesem Fall k√∂nnen wir mithilfe von Erweiterungen eigene Handler hinzuf√ºgen. <br><br>  Aus Sicht des Verhaltenskonsumenten geben die Verhaltensweisen selbst, die in einer bestimmten Instanz des Editors auf eine bestimmte Weise konfiguriert wurden, eine geordnete Folge von Werten an, und die vorhergehenden Werte haben eine h√∂here Priorit√§t.  Jedes Verhalten hat einen Typ, und die daf√ºr angegebenen Werte m√ºssen mit diesem Typ √ºbereinstimmen. <br>  Das Verhalten wird als Wert dargestellt, der sowohl zum Deklarieren einer Instanz des Verhaltens als auch zum Zugreifen auf die Werte des Verhaltens verwendet wird.  Es gibt eine Reihe von integrierten Verhaltensweisen in der Bibliothek, aber externer Code kann sein eigenes Verhalten definieren.  In der Erweiterung, die das Intervall zwischen Zeilennummern definiert, kann beispielsweise ein Verhalten definiert werden, mit dem ein anderer Code zus√§tzliche Markierungen in diesem Intervall hinzuf√ºgen kann. <br><br>  Eine Erweiterung ist ein Wert, der beim Konfigurieren des Editors verwendet werden kann.  Ein Array solcher Werte wird w√§hrend der Initialisierung √ºbergeben.  Jede Erweiterung ist in null oder mehr Verhaltensweisen zul√§ssig. <br><br>  Eine solche einfache Erweiterung kann als Verhaltensinstanz betrachtet werden.  Wenn wir einen Wert f√ºr das Verhalten angeben, gibt der Code den Wert der Erweiterung zur√ºck, die dieses Verhalten generiert. <br><br>  Eine Folge von Erweiterungen kann auch zu einer einzigen Erweiterung zusammengefasst werden.  In der Konfiguration des Editors f√ºr die Arbeit mit einer bestimmten Programmiersprache k√∂nnen Sie beispielsweise mehrere andere Erweiterungen aufrufen, z. B. Grammatik zum Parsen und Hervorheben von Text, Informationen zum erforderlichen Einzug, eine Quelle f√ºr die automatische Vervollst√§ndigung, die Eingabeaufforderungen zum Vervollst√§ndigen von Zeilen in dieser Sprache korrekt anzeigt.  Somit ist es m√∂glich, eine einzelne Spracherweiterung zu erstellen, in der wir einfach alle diese entsprechenden Erweiterungen sammeln und zusammenfassen, was zu einem einzigen Wert f√ºhrt. <br><br>  Wenn Sie eine einfache Version eines solchen Systems erstellen, k√∂nnen Sie damit aufh√∂ren, indem Sie einfach alle verschachtelten Erweiterungen in einem Array von Verhaltenserweiterungen ausrichten.  Dann k√∂nnten sie nach Verhaltenstypen gruppiert werden und dann geordnete Folgen von Verhaltenswerten erstellen. <br><br>  Es bleibt jedoch die Deduplizierung und eine bessere Kontrolle √ºber die Bestellung. <br><br>  Die Werte von Erweiterungen, die sich auf den dritten Typ beziehen, eindeutige Erweiterungen, tragen lediglich zur Deduplizierung bei.  Erweiterungen, die nicht zweimal im selben Editor instanziiert werden sollten, sind von dieser Art.  Um eine solche Erweiterung zu definieren, m√ºssen Sie den <i>Spezifikationstyp</i> angeben, <i>dh</i> den Typ des vom Erweiterungskonstruktor erwarteten Konfigurationswerts, und <i>eine Instanziierungsfunktion</i> angeben, die ein Array dieser angegebenen Werte verwendet und die Erweiterung zur√ºckgibt. <br><br>  Eindeutige Erweiterungen erschweren das Aufl√∂sen einer Reihe von Erweiterungen in eine Reihe von Verhaltensweisen.  Wenn der ausgerichtete Satz von Erweiterungen eindeutige Erweiterungen enth√§lt, sollte der Aufl√∂sungsmechanismus den Typ der eindeutigen Erweiterung ausw√§hlen, alle Instanzen erfassen und die entsprechende Instanziierungsfunktion zusammen mit den Spezifikationen aufrufen und dann alle durch das Ergebnis ersetzen (in einer einzigen Kopie). <br><br>  (Es gibt noch einen weiteren Haken: Sie m√ºssen in der richtigen Reihenfolge aufgel√∂st werden. Wenn Sie zuerst die eindeutige Erweiterung X aktivieren, dann aber aufgrund der Aufl√∂sung ein weiteres X erhalten, ist dies falsch, da alle Instanzen von X zusammengef√ºgt werden m√ºssen. Seit der Instanziierungsfunktion Die Erweiterung ist sauber, das System bew√§ltigt diese Situation durch Ausprobieren, startet den Prozess neu und zeichnet Informationen dar√ºber auf, was in dieser Situation untersucht werden konnte.) <br><br>  Schlie√ülich m√ºssen Sie das Problem mit den folgenden Regeln beheben.  Der grundlegende Ansatz bleibt derselbe: Behalten Sie die Reihenfolge bei, in der Erweiterungen vorgeschlagen wurden.  Zusammengesetzte Erweiterungen werden an dem Punkt, an dem sie auftreten, in derselben Reihenfolge ausgerichtet.  Das Ergebnis der Aufl√∂sung einer eindeutigen Erweiterung wird beim ersten Einschalten eingef√ºgt. <br><br>  Erweiterungen k√∂nnen jedoch einige ihrer Untererweiterungen mit Kategorien verkn√ºpfen, die eine andere Priorit√§t haben.  Das System bietet vier solcher Kategorien: <i>Fallback</i> (wird wirksam, nachdem andere Dinge geschehen sind), <i>Standard</i> (Standard), <i>Erweitern</i> (h√∂here Priorit√§t als die Masse) und <i>√úberschreiben</i> (sollte wahrscheinlich an erster Stelle stehen).  In der Praxis erfolgt die Sortierung zuerst nach Kategorie und dann nach Startposition. <br><br>  Eine Schl√ºsselbindungserweiterung mit niedriger Priorit√§t und ein Ereignishandler mit normaler Priorit√§t basieren darauf, dass es in Mode ist, eine zusammengesetzte Erweiterung aus dem Ergebnis einer Schl√ºsselbindungserweiterung (ohne zu wissen, aus welchem ‚Äã‚ÄãVerhalten sie besteht) mit einer Fallback-Priorit√§tsstufe und einer Instanz zu erstellen mit dem Verhalten des Event-Handlers. <br><br>  Dieser Ansatz, mit dem Sie Erweiterungen kombinieren k√∂nnen, ohne dar√ºber nachzudenken, was sie ‚Äûim Inneren‚Äú tun, scheint eine gro√üartige Leistung zu sein.  Zu den Erweiterungen, die wir weiter oben in diesem Artikel modelliert haben, geh√∂ren zwei Analysesysteme, die auf Syntaxebene dasselbe Verhalten aufweisen: Syntaxhervorhebungsdienst, intelligenter Einr√ºckungsdienst, Stornierungsverlauf, Zeilenabstandsdienst, automatisch schlie√üende Klammern, Schl√ºsselbindung und Mehrfachauswahl - alles funktioniert gut. <br><br>  Es <i>gibt</i> mehrere neue Konzepte, die ein Benutzer lernen muss, um dieses System verwenden zu k√∂nnen.  Dar√ºber hinaus ist die Arbeit mit einem solchen System in der Tat etwas komplizierter als mit herk√∂mmlichen imperativen Systemen, die in der JavaScript-Community verwendet werden (wir nennen eine Methode zum Hinzuf√ºgen / Entfernen eines Effekts).  Wenn die Erweiterungen jedoch ordnungsgem√§√ü angeordnet sind, √ºberwiegen die damit verbundenen Vorteile die damit verbundenen Kosten. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de468219/">https://habr.com/ru/post/de468219/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de468205/index.html">GIT von innen: Einf√ºhrung (√úbersetzung)</a></li>
<li><a href="../de468207/index.html">Wie wir Zabbix aktualisiert haben</a></li>
<li><a href="../de468211/index.html">"Ich wollte nur einen Witz machen, aber niemand verstand" oder wie ich mich bei der Pr√§sentation des Projekts nicht begraben sollte</a></li>
<li><a href="../de468213/index.html">tinc-boot - Full-Mesh-Netzwerk ohne Schmerzen</a></li>
<li><a href="../de468217/index.html">Dr. Jekyll und Mr. Hyde Unternehmenskultur</a></li>
<li><a href="../de468223/index.html">Habr Weekly # 19 / BT-T√ºr f√ºr die Katze, warum die KI betr√ºgt, was der zuk√ºnftige Arbeitgeber fragen soll, ein Tag mit iPhone 11 Pro</a></li>
<li><a href="../de468225/index.html">Reduzieren der Bundle-Gr√∂√üe mit Webpack Analyzer und React Lazy / Suspense</a></li>
<li><a href="../de468229/index.html">Ein Hinweis zur Leere in JavaScript und TypeScript</a></li>
<li><a href="../de468231/index.html">Ist die Sicherheit in AEM ein Plattform- oder Implementierungsproblem?</a></li>
<li><a href="../de468233/index.html">Die M√∂glichkeit, 4 Millionen Zeilen Python-Code zu √ºberpr√ºfen. Teil 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>