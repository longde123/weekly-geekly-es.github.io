<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶Å üïâÔ∏è üìÇ Concepto de Bitcoin MAST üí° ü§´ üè§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En este art√≠culo, hablaremos sobre el concepto de MAST y su aplicaci√≥n en el protocolo Bitcoin. Consideraremos las propiedades que MAST permite lograr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Concepto de Bitcoin MAST</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/distributedlab/blog/414979/"> En este art√≠culo, hablaremos sobre el concepto de MAST y su aplicaci√≥n en el protocolo Bitcoin.  Consideraremos las propiedades que MAST permite lograr, as√≠ como los beneficios de su uso.  El art√≠culo ser√° interesante para los lectores aficionados al protocolo Bitcoin y otros sistemas de pago innovadores.  Tambi√©n se dedica una conferencia separada sobre este tema en el marco del curso en l√≠nea de <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">blockchain</a> " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">MAST in Bitcoin</a> ". <br><br>  El concepto de MAST implica el uso de √°rboles de Merkle y √°rboles de sintaxis abstracta para establecer las condiciones para gastar monedas en los resultados de la transacci√≥n.  Consideremos en orden c√≥mo funciona esto. <br><a name="habracut"></a><br><h2>  <b>√Årbol de Merkle</b> </h2><br>  Entonces puedes representar esquem√°ticamente el √°rbol Merkle. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/48e/207/9a6/48e2079a66901a4bca96016188623c21.png" alt="imagen"><br><br>  Hay piezas de datos para los que necesita obtener una suma de comprobaci√≥n, es decir, calcular el valor hash de todas las piezas.  Pero en lugar de concatenarlos a todos y proporcionar las funciones hash con un solo valor, Merkle Tree ofrece un enfoque diferente.  Cada dato se divide en hash por separado.  Luego, los valores hash resultantes se concatenan en pares y se vuelven a hacer hash.  Y as√≠ sucesivamente, hasta que obtenga un valor hash que cubra todos los datos.  Este valor se llama Merkle Root. <br><br>  Merkle Tree le permite verificar la aparici√≥n de una sola pieza de datos en Merkle Root, sin tener todas las otras piezas de datos.  Esta es una propiedad valiosa. <br><br>  Supongamos que un usuario tiene Merkle Root y los datos de una transacci√≥n (en el diagrama anterior se indica en rojo).  Luego, el usuario puede tomar la cadena de valores hash faltantes (se indican en azul en el diagrama) para verificar que esta transacci√≥n es parte de la ra√≠z de Merkle.  Los valores hash faltantes se denominan Merkle Branch.  Para una transacci√≥n espec√≠fica, se pueden solicitar al host que almacena el bloque completo. <br><br>  Este m√©todo de trocear m√∫ltiples datos se usa en muchos protocolos.  Los ejemplos m√°s famosos son el hash de transacciones que forman parte de un bloque y el hash de partes de archivos que se transfieren a la red BitTorrent para generar un archivo torrent. <br><br><h2>  <b>√Årbol de sintaxis abstracta</b> </h2><br>  Ahora conozcamos el √Årbol de sintaxis abstracta.  El siguiente diagrama muestra un √°rbol de sintaxis que describe un bucle muy simple.  Aqu√≠, los nodos azules del √°rbol se denotan por el √°rbol, lo que significa operaciones, el verde son variables y el rojo son constantes.  Los bordes del √°rbol indican transiciones entre operaciones. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/90e/a51/c28/90ea51c28e4eee504dd6239c4c04098c.png" alt="imagen"><br><br>  Por lo tanto, se describe un ciclo que se ejecuta en una secuencia espec√≠fica.  Primero, se verifica la igualdad de la variable A y la constante 32. Si no se mantiene, vaya al cuerpo del bucle, donde a la variable A se le asigna la suma de dos valores: la variable A y la constante 2. Esta es la estructura del √°rbol de sintaxis abstracta en t√©rminos generales. <br><br><h2>  <b>¬øQu√© es el m√°stil?</b> </h2><br>  Hemos preparado el terreno te√≥rico, ahora determinaremos qu√© es MAST y cu√°les son sus beneficios.  MAST es el √°rbol de sintaxis abstracta de Merkelized, que utiliza las ideas del √°rbol de Merkle y el √°rbol de sintaxis abstracta para especificar condiciones mutuamente excluyentes para gastar monedas.  Al mismo tiempo, Bitcoin Script act√∫a, como de costumbre, como un lenguaje para describir condiciones.  El concepto MAST mejora la privacidad y reduce el tama√±o de la transacci√≥n. <br><br><h2>  <b>Desarrollo del concepto y posici√≥n actual.</b> </h2><br>  Personas como Russell O'Connor, Pieter Wuille, Peter Todd y Johnson Lau comenzaron a desarrollar y promover la idea de MAST en la comunidad de Bitcoin.  A principios de 2016, se public√≥ una propuesta para mejorar el protocolo Bitcoin con el n√∫mero 114 (BIP114), que describ√≠a la especificaci√≥n de una de las opciones para implementar este enfoque utilizando programas de testigos, que a su vez se introdujeron con la actualizaci√≥n SegWit.  BIP114 tambi√©n ofrece una implementaci√≥n de software que agrega nuevas reglas de consenso al protocolo Bitcoin. <br><br>  M√°s tarde, en 2017, propusieron una implementaci√≥n alternativa del concepto MAST, que se describe en BIP117.  Est√° basado en BIP114 y realiza algunas modificaciones.  En el momento de 2018, ambas propuestas permanecen bajo consideraci√≥n. <br><br>  Tenga en cuenta que MAST puede integrarse en Bitcoin utilizando actualizaciones de protocolo de softfork.  Y esta es quiz√°s la caracter√≠stica m√°s importante de este concepto. <br><br><h2>  <b>MAST en el diagrama</b> </h2><br>  Esquem√°ticamente, el √°rbol de sintaxis abstracta merkelizada se ver√° as√≠. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b38/399/8e2/b383998e2a6af890c48ae15756fb98b1.png" alt="imagen"><br><br>  Aqu√≠, MAST Root es el valor de hash ra√≠z que se colocar√° en la salida de la transacci√≥n.  Los valores hash de las ramas de los √°rboles que conducen a las condiciones para gastar monedas se indican en azul.  Por lo tanto, estas ramas contienen condiciones mutuamente excluyentes bajo las cuales se pueden gastar monedas.  En consecuencia, el que gasta monedas usar√° una rama u otra. <br><br>  El color amarillo indica las condiciones que se establecen con Bitcoin Script.  Adem√°s, se recomienda que las condiciones bajo las cuales se gastar√°n las monedas se coloquen lo m√°s cerca posible de la ra√≠z del √°rbol; esto har√° que la prueba de propiedad de las monedas sea m√°s peque√±a. <br><br><h2>  <b>Problemas de transacci√≥n de Bitcoin</b> </h2><br>  Identifiquemos los problemas que ocurren durante la configuraci√≥n habitual de las condiciones para gastar monedas usando Bitcoin Script.  El primero, y el m√°s importante de ellos, es que el destinatario debe describir o transferir las condiciones bajo las cuales desea recibir el pago, de modo que el remitente las indique en la salida de su transacci√≥n.  MAST y P2SH resuelven este problema. <br><br>  El segundo problema: las condiciones dif√≠ciles ocupan una gran cantidad de memoria en la salida de la transacci√≥n.  Como resultado, el remitente debe pagar una tarifa por establecer condiciones tan dif√≠ciles para recibir monedas, aunque el destinatario las dicta.  P2SH y MAST tambi√©n hacen frente a esto, lo que elimina la necesidad de incluir grandes cantidades de datos en la transacci√≥n, que gastar√°, y en consecuencia el aumento de la comisi√≥n ser√° pagado por el destinatario, no por el remitente. <br><br>  El tercer problema es que ScriptPubKey, que se coloca en la salida de la transacci√≥n, tiene un tama√±o y una cantidad de operaciones limitados, es decir, OP_CODE.  El concepto MAST le permite escapar casi por completo de estas restricciones sin comprometer la confiabilidad debido a condiciones mutuamente excluyentes. <br><br>  El cuarto problema: al enviar monedas, todos ven de inmediato las condiciones de sus gastos.  MAST le permite ocultar las condiciones de gasto hasta el momento de gastar.  Adem√°s, solo se revelar√°n las condiciones que se usan realmente, y no todas las opciones posibles. <br><br><h2>  <b>Propiedades que MAST da en Bitcoin</b> </h2><br>  Una de ellas es aumentar el nivel de privacidad del usuario al ocultar las condiciones de gasto que no se utilizaron al final.  Esta propiedad se logra demostrando que solo ciertas condiciones se incluyen en la ra√≠z MAST y satisfaciendo estas condiciones. <br><br>  Otra caracter√≠stica positiva es la capacidad de especificar condiciones m√°s voluminosas y complejas para gastar monedas.  Por ejemplo, usando MAST, puede especificar cientos de miles de diferentes opciones de firma m√∫ltiple para una salida de transacci√≥n √∫nica.  Al mismo tiempo, las condiciones para gastar monedas y la correspondiente prueba de propiedad de las monedas ser√°n muy compactas. <br><br>  Adem√°s, es posible registrar datos de volumen arbitrario en la cadena de bloques sin aumentar el tama√±o de la transacci√≥n. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/159/3b1/1e7/1593b11e7a4b2a65f573ba45cd40ac8d.png" alt="imagen"><br><br>  Este diagrama muestra una variante de la estructura MAST de acuerdo con BIP114.  Los valores hash se indican en azul, el script de bitcoin en amarillo y los datos arbitrarios en rojo como mensaje adicional.  El valor de la versi√≥n se incluye en la parte superior del √°rbol. <br><br><h2>  <b>Esquema MAST simplificado</b> </h2><br><br><img src="https://habrastorage.org/getpro/habr/post_images/70b/bbf/2ec/70bbbf2ecd32587a91c1b4255d1c2519.png" alt="imagen"><br><br>  Aqu√≠ se especifican dos condiciones mutuamente excluyentes para gastar monedas.  En el primer caso, las monedas se pueden gastar proporcionando una firma y esperando un cierto tiempo, y en el segundo, debe proporcionar varias firmas.  Los usuarios pueden recurrir a una de las opciones, mientras que las condiciones de la segunda no ser√°n reveladas. <br><br><h2>  <b>Aplicaci√≥n pr√°ctica de MAST</b> </h2><br>  En el primer caso, MAST se puede usar para una implementaci√≥n m√°s optimizada de HTLC (Hashed Time-Lock Contracts), que se usan en el protocolo Lightning Network.  En otro, para una implementaci√≥n m√°s optimizada de Escrow. <br><br>  MAST hace posible implementar estructuras muy grandes utilizando la firma m√∫ltiple.  Esto ayudar√° a resolver problemas tan apremiantes como el robo o la p√©rdida de bitcoins y, en algunos casos, incluso le permitir√° abandonar el almacenamiento en fr√≠o. <br><br>  Gracias a MAST, en muchos casos, puede rechazar la operaci√≥n OP_RETURN para agregar datos a la cadena de bloques de Bitcoin.  En cambio, puede incluir estos datos en un √°rbol y, si es necesario, demostrar que se registraron datos espec√≠ficos en la cadena de bloques de Bitcoin.  En este caso, no necesitar√° aumentar el tama√±o de la cadena de bloques en s√≠. <br><br><h2>  <b>Optimizaci√≥n del volumen de datos</b> </h2><br>  Prestemos atenci√≥n a la optimizaci√≥n de la cantidad de datos que finalmente cae en la cadena de bloques.  Mire de cerca la tabla a continuaci√≥n.  El eje vertical indica la cantidad de datos en bytes, mientras que la escala en s√≠ misma es logar√≠tmica.  El eje horizontal indica el n√∫mero de condiciones alternativas para gastar monedas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9a7/f54/190/9a7f54190ac05fc4683581548412c1de.png" alt="imagen"><br><br>  La l√≠nea azul indica la dependencia del volumen de datos en la cantidad de condiciones sin usar MAST.  La l√≠nea roja indica la dependencia del volumen de datos en la cantidad de condiciones que usan MAST.  La l√≠nea azul es el l√≠mite de tama√±o de Script de Bitcoin para P2SH.  La l√≠nea verde es el l√≠mite de tama√±o de Script de Bitcoin en la estructura testigo. <br><br>  La conclusi√≥n es simple.  El concepto MAST le permite almacenar significativamente menos datos con la misma confiabilidad de validaci√≥n y una funcionalidad mucho mayor. <br><br>  Ahora pasemos a las preguntas frecuentes sobre este tema. <br><br><h2>  <b>Preguntas frecuentes</b> </h2><br>  <i>- ¬øSe establecer√° la ra√≠z MAST en la estructura de testigos o d√≥nde se incluir√°?</i> <br><br>  MAST Root junto con los datos que lo definen se indicar√°n en ScriptPubKey en la salida de la transacci√≥n.  Estos datos ocupar√°n 25-35 bytes y, muy probablemente, se codificar√°n f√°cilmente en la direcci√≥n habitual de Bitcoin.  Y en la estructura de testigos, donde se prueba la propiedad de las monedas, se indicar√° Merkle Branch y los datos que satisfagan las condiciones de gasto, como las firmas electr√≥nicas. <br><br>  <i>- ¬øSe ampliar√°n los muchos OP_CODE disponibles en el lenguaje de script de Bitcoin?</i> <br><br>  Por el momento, a√∫n no est√° claro, porque la propuesta est√° bajo consideraci√≥n y a√∫n se pueden hacer cambios y mejoras adicionales.  Es probable que se agregue un OP_CODE como OP_MERKLEBRANCHVERIFY por la flexibilidad de usar MAST.  Quiz√°s ofrecer√°n algo m√°s √∫til, pero esto a√∫n es inexacto. <br><br>  <i>- ¬øHay alguna posibilidad de integrar MAST en el futuro cercano?</i> <br><br>  Por supuesto que hay una probabilidad, pero es peque√±a.  Despu√©s de todo, esta actualizaci√≥n es importante, pero no urgente, por lo que puede esperar mientras los desarrolladores piensan en otras mejoras de protocolo.  M√°s tarde, pueden integrar varias mejoras a la vez en una actualizaci√≥n, como fue el caso con SegWit. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es414979/">https://habr.com/ru/post/es414979/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es414969/index.html">Extender el proceso de compilaci√≥n con MSBuild</a></li>
<li><a href="../es414971/index.html">Algunas palabras sobre aeronaves</a></li>
<li><a href="../es414973/index.html">Longevidad de mentiras</a></li>
<li><a href="../es414975/index.html">La historia del nacimiento de un servicio de b√∫squeda y reserva en l√≠nea para viajes con derechos de autor en todo el mundo: una palabra del desarrollador</a></li>
<li><a href="../es414977/index.html">Conocimiento de las exhibiciones de equipos de audio y video: de pantalla ancha a especializada - segunda parte</a></li>
<li><a href="../es414981/index.html">Biblioteca no escrita</a></li>
<li><a href="../es414983/index.html">Alan Kay: ¬øQu√© hizo que Xerox PARC fuera especial y qui√©n todav√≠a se parece a ellos hoy?</a></li>
<li><a href="../es414989/index.html">Sat√©lite de desechos espaciales lanzado desde la EEI</a></li>
<li><a href="../es414991/index.html">Detecci√≥n y reconocimiento de objetos de la c√°mara en ROS utilizando el paquete find_object_2d</a></li>
<li><a href="../es414993/index.html">Identificaci√≥n y clasificaci√≥n de comentarios t√≥xicos. Conferencia en Yandex</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>