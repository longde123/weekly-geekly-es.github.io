<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîÜ üñ±Ô∏è üèñÔ∏è Simulation de courir sous la pluie üë®üèº‚Äçüè´ ü§û üë©üèø‚Äçüîß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Simulation de courir sous la pluie 
 Entr√©e 


 Tout a commenc√© par une d√©claration extr√™mement provocatrice √† la limite de l'audace, qui ne correspon...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Simulation de courir sous la pluie</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/482622/"><h1>  Simulation de courir sous la pluie </h1><br><h2>  Entr√©e </h2><br><p>  Tout a commenc√© par une d√©claration extr√™mement provocatrice √† la limite de l'audace, qui ne correspond absolument pas √† mon id√©e du monde qui m'entoure: ¬´Vous pouvez vous mouiller moins si vous courez sous la pluie - c'est un mythe.¬ª  En d'autres termes, il r√©sulte de cette d√©claration qu'il est bien connu et g√©n√©ralement admis qu'une personne qui court sous la pluie sera mouill√©e plus que la m√™me personne qui marche sur la m√™me distance √† pied, sous la m√™me pluie.  Mais, certaines sources non v√©rifi√©es non fiables affirment le contraire, que si vous sortez rapidement de la pluie, vous serez moins mouill√©. </p><br><a name="habracut"></a><br><p>  Cette d√©claration a √©t√© faite dans l'√©mission t√©l√©vis√©e Mythbusters (√©pisode 001).  J'ai rev√©rifi√© plusieurs fois - le libell√© du mythe est exactement le suivant: <a href="https://en.wikipedia.org/wiki/MythBusters_(2003_season)" rel="nofollow">"Une personne finira par √™tre plus s√®che en courant sous la pluie plut√¥t qu'en marchant."</a> <br>  <sub>Mise √† jour: comme <a href="https://habr.com/ru/users/rezdm/" class="user_link">rezdm l'a</a> sugg√©r√©, <a href="https://habr.com/ru/users/rezdm/" class="user_link">il</a> y a une vid√©o avec un libell√© diff√©rent "Cela vaut-il la peine de courir sous la pluie"</sub> <br></p><br><p>  De plus, le r√©sultat de la v√©rification a √©t√© la destruction de ce mythe, c'est-√†-dire que le chef qui courait √©tait mouill√© plus fort que le chef qui marchait!?  Autrement dit, ces sources non v√©rifi√©es et non fiables, avec leurs stupidit√©s, ont √©t√© mises en place.  Jusqu'√† ce moment, dans mon monde, tout se passait dans l'autre sens et pour me mouiller moins, j'ai essay√© de courir au refuge. </p><br><p>  De plus, quelques saisons plus tard, ce mythe a √©t√© rev√©rifi√© et r√©fut√© (√©pisode 38).  Mais les r√©sultats dans les premier et deuxi√®me cas n'√©taient pas tr√®s r√©v√©lateurs: la diff√©rence dans l'eau collect√©e √©tait petite et n'√©tait gu√®re tr√®s diff√©rente de l'erreur statistique et de l'erreur de mesure sur la balance.  Dans la premi√®re exp√©rience, la pluie a √©t√© cr√©√©e en fournissant de l'eau aux gicleurs suspendus au plafond d'un hangar haut.  Dans la deuxi√®me exp√©rience, ils ont travaill√© avec ce qui tomberait du ciel.  Apr√®s la deuxi√®me exp√©rience, la clart√© est devenue encore moins. </p><br><p>  J'ai davantage aim√© la premi√®re exp√©rience, car il y avait des conditions contr√¥l√©es, et ces conditions pouvaient √™tre maintenues pendant le temps n√©cessaire.  Dans le cas d'une pluie ordinaire, les conditions changent constamment - la pluie peut s'arr√™ter, son intensit√© peut changer ou le vent va souffler.  √Ä mon avis, il fallait poursuivre la premi√®re √©tude: on pouvait augmenter la distance, on pouvait jouer avec les param√®tres de pluie pour r√©duire l'erreur statistique et rendre les r√©sultats plus convaincants.  Mythbusters est un excellent programme t√©l√©vis√©, mais dans ce cas particulier, je voulais le reprendre et tout refaire.  Particuli√®rement int√©ress√© par le th√®me de l'influence de la nature de la pluie sur la pluie qui en r√©sulte, car g√©n√©ralement dans de telles exp√©riences, il y a une pluie moyenne, et apr√®s tout, la pluie est diff√©rente. </p><br><p>  Comme d'habitude, j'ai surmont√© courageusement ce d√©sir insens√© et impos√© de refaire une exp√©rience et je l'ai oubli√©.  Mais l'√©t√© de cette ann√©e dans la r√©gion de Moscou semblait trop souvent r√©fl√©chir √† ¬´si je devais fuir cette pluie ou partir calmement¬ª.  En cons√©quence, j'ai d√©cid√© d'√©crire un petit projet et d'explorer ce qui √©tait int√©ressant √† l'aide de la mod√©lisation informatique.  Il s'est av√©r√© que, dans la r√©gion de Moscou, le sujet reste d'actualit√© en d√©cembre. </p><br><p>  La section suivante d√©crit ce qui s'est pass√©, mais ici, je dois dire quelques mots sur l'histoire du probl√®me.  Lors de la pr√©paration de l'article, il s'est av√©r√© que la question de ¬´marcher ou courir sous la pluie¬ª hantait de nombreux geeks dans le monde depuis un certain temps.  Apparemment, la premi√®re vague √† se lever a √©t√© le vulgarisateur bien connu de la science, Yakov Isidovich Perelman, dans son livre "Entertaining Mechanics" (il n'a vu que la 4e √©dition de 1937, mais la t√¢che √©tait possible m√™me avant 1930) ¬ª <strike>(Oui, au d√©but du XXe si√®cle, apr√®s tout) la</strike> derni√®re section est intitul√©e¬´ Quand la pluie sera-t-elle <strike>mieux mouill√©e</strike> ? ¬ª, Mais en fait la t√¢che est¬´ Dans quel cas mouillez-vous plus votre chapeau? ¬ª.  Il y a une diff√©rence - dans le livre, nous ne parlons que de la composante de la pluie que le chapeau per√ßoit d'en haut, il n'est pas question d'une collision avec la pluie dans le plan vertical.  De plus, dans la t√¢che, l'exp√©rience est r√©alis√©e en m√™me temps, sous la pluie, alors que nous nous int√©ressons √† la m√™me distance.  Il n'y a aucun doute sur la justice rendue dans le livre des d√©cisions, mais le nom m√™me de la section et les conclusions ind√©pendantes des lecteurs pourraient conduire √† des conclusions incorrectes et √† l'apparition d'un st√©r√©otype. </p><br><p>  Apr√®s Perelman, il y avait des articles dans des revues scientifiques populaires des <a href="http://kvant.mccme.ru/1989/03/kak_ubegat_ot_dozhdya.htm" rel="nofollow">anciens</a> <a href="https://inf.1sept.ru/articlef.php%3FID%3D200700503" rel="nofollow">et non</a> , puis il y avait des vid√©os, et <a href="https://www.youtube.com/watch%3Fv%3D1ic0RpHan9s" rel="nofollow">maintenant la</a> traduction est m√™me sur la plaque tournante <a href="https://habr.com/ru/company/vertdider/blog/371951/">ici</a> .  Un autre article qui est difficile √† passer est l' <a href="https://iopscience.iop.org/article/10.1088/0143-0807/33/5/1321" rel="nofollow">article de</a> 2012 <a href="https://iopscience.iop.org/article/10.1088/0143-0807/33/5/1321" rel="nofollow">du</a> physicien italien Franco Bocci dans le European Journal of Physics, l'article lui-m√™me √©tait peu susceptible d'√™tre lu par un grand nombre de personnes, mais il a √©t√© beaucoup √©crit dans les m√©dias, par exemple, il <a href="https://www.gazeta.ru/science/2012/07/24_a_4691625.shtml" rel="nofollow">est</a> int√©ressant de noter, √† mon avis .  Il existe d'autres √©tudes de gravit√© variable.  Il s'est av√©r√© que l'histoire de ce probl√®me n'est probablement pas moins int√©ressante que le probl√®me lui-m√™me, et peut √©ventuellement faire l'objet d'un article s√©par√©. </p><br><br><h2>  Mod√©lisation </h2><br><h3>  Limitations et hypoth√®ses </h3><br><p>  L'essence de la <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25BE%25D0%25B4%25D0%25B5%25D0%25BB%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5" rel="nofollow">mod√©lisation</a> est la simplification et l'abstraction d√©lib√©r√©es de la perception de la r√©alit√©.  Le mod√®le pr√©sent√© dans l'article ne fait pas exception.  Plus loin dans le texte, il peut y avoir des indications qu'une caract√©ristique particuli√®re en raison des sp√©cificit√©s de la t√¢che, des restrictions physiques, cognitives, ainsi que des restrictions li√©es aux pr√©f√©rences religieuses, raciales, politiques, sexuelles et autres de l'auteur, est une supposition ou une restriction (en d'autres termes, ces choses , ce qui √©tait non seulement trop paresseux √† faire, mais aussi trop paresseux pour expliquer pourquoi je ne les ai pas faits). </p><br><p>  Exemples de restrictions et d'hypoth√®ses: Le nombre de gouttes dans une cellule est un (limite d'intensit√© maximale), toutes les gouttes sont de la m√™me taille, on suppose qu'une personne n'agite pas les bras et les jambes en marchant et en courant (les zones de projection frontale et horizontale sont toujours les m√™mes), l'eau soulev√©e d'une chaussure sur le dos n'est pas pris en compte, il n'y a pas de vent dans l'exp√©rience, etc. </p><br><br><h3>  Espace et homme </h3><br><img src="https://habrastorage.org/webt/oa/o5/bn/oao5bnbet5xey3nkjhp1binysoa.gif"><br><br><h4>  L'espace </h4><br><p>  Le mod√®le est repr√©sent√© par deux objets, l'espace et l'homme. </p><br><p>  L'espace est un parall√©l√©pip√®de rectangulaire, divis√© en cubes de 1 x 1 x 1 cm. </p><br><p>  La largeur de l'espace est √©gale √† la largeur de la personne: dans l'exp√©rience, les cas de vent et de vent lat√©ral ne sont pas pris en compte, par cons√©quent, cela n'a aucun sens de calculer l'espace en dehors de la largeur de la personne. </p><br><p>  La hauteur de l'espace est sup√©rieure √† la hauteur d'une personne par une couche horizontale de cubes - c'est-√†-dire un centim√®tre, dans cette couche, des gouttes commencent √† √™tre enregistr√©es, qui, √† l'instant suivant, tomberont sur une personne, ou plus loin dans un espace non occup√© par une personne. </p><br><p>  La longueur (√©tendue) de l'espace - doit √™tre √©gale √† la longueur de la distance, mais cela n'est pas tr√®s √©conomique, car pour une exp√©rience, vous devez conna√Ætre uniquement l'√©tat de l'espace au-dessus d'une personne et environ plusieurs couches devant lui.  Par cons√©quent, l'espace est utilis√© de mani√®re cyclique dans le projet, et sa longueur est choisie de sorte que, au moment o√π la personne le passe compl√®tement dans la premi√®re couche verticale, toutes les cellules soient mises √† jour.  En d'autres termes, la goutte qui est apparue dans la couche imm√©diatement derri√®re le dos de la personne devrait avoir suffisamment de temps pour tomber au sol, au moment o√π la personne s'approche √† nouveau de cette couche avec son visage.  Ainsi, avec la s√©lection correcte de la longueur de l'espace, des gouttes fra√Æches couleront toujours sur une personne. </p><br><p>  Il convient de noter que pendant l'exp√©rience, la longueur de l'espace est √©tablie une fois, puis ne change pas, par cons√©quent, pour le r√©glage initial de la longueur, le rapport des param√®tres a √©t√© choisi de sorte que dans tous les cas, la longueur √©tait suffisante (la vitesse maximale de la personne et le taux de chute minimal). </p><br><p>  L'espace pour l'exp√©rience peut √™tre imagin√© de diff√©rentes mani√®res, par exemple, comme un couloir ferm√©, mais je pr√©f√®re l'imaginer comme un point de lumi√®re rectangulaire d'une lanterne qui brille d'un c√¥t√© sur une personne et qui se d√©place avec la personne.  Chaque goutte qui p√©n√®tre dans la lumi√®re √† l'int√©rieur du spot est enregistr√©e.  Cette approche nous permet de s√©parer le concept d'un espace physique infini dans lequel une personne court sous la pluie de l'espace d'une exp√©rience - une grille tridimensionnelle imaginaire, dont l'√©tat de chaque cellule est v√©rifi√© √† chaque instant de l'exp√©rience.  Dans l'article, le mot ¬´espace¬ª est utilis√© dans le deuxi√®me sens. </p><br><p>  Dans le programme, l'espace est repr√©sent√© par un tableau d'octets en trois dimensions.  Les indices de l'√©l√©ment dans le tableau correspondent aux coordonn√©es de la cellule dans l'espace (longueur, hauteur, largeur), l'√©l√©ment lui-m√™me d√©crit l'√©tat.  Il ne peut y avoir que deux √©tats - il y a une goutte de pluie dans la cellule ou la cellule est vide. </p><br><p>  L'espace peut √©galement √™tre imagin√© comme un ensemble de couches horizontales √† travers lesquelles tombe la pluie et comme un ensemble de couches verticales qu'une personne rencontre en se d√©pla√ßant.  Dans le programme, il y a des classes - wrappers responsables de ces repr√©sentations. </p><br><h4>  Homme </h4><br><p>  La personne dans le projet n'est qu'une bo√Æte rectangulaire.  Pour l'exp√©rience, nous nous int√©ressons principalement √† sa projection sur un plan horizontal pour compter les gouttelettes tombant d'en haut, et √† la projection sur un plan vertical perpendiculaire √† la direction du mouvement, pour compter les gouttelettes qu'une personne rencontre en avan√ßant.  La coordonn√©e responsable de sa position dans l'espace est √©galement utilis√©e, ainsi que les compteurs d'eau collect√©e √† l'avant et au sommet. </p><br><p>  Afin d'estimer la zone de la projection horizontale googl√©, l'une des premi√®res r√©f√©rences a √©t√© √† une <a href="http://base.garant.ru/12169057/5da741911cf9399494368b18de80fbe8/" rel="nofollow">loi r√©glementaire</a> qui utilise le minist√®re des Urgences.  L√†, la projection horizontale d'une personne est repr√©sent√©e par une ellipse de dimensions axiales de 0,5 m (la largeur de la personne dans les √©paules) et de 0,25 m (√©paisseur de la personne).  Cela semble √™tre vrai, j'ai donc pris un rectangle de presque la m√™me surface (S ellipse = pi * a * b S = 3,14 * (50/2) * (25/2) ~ 982 cm2, rectangle 48 par 20 = 960 cm2 )  Comme indiqu√© ci-dessus, ces donn√©es sont utilis√©es, notamment pour d√©terminer la largeur et l'√©tendue de l'espace.  Je n'ai pas trouv√© de d√©finition de la projection verticale d'une personne, donc pour la croissance j'ai pris une valeur l√©g√®rement inf√©rieure √† la moyenne - 160 cm. La dimension humaine change facilement dans le projet, mais l'exp√©rience a √©t√© r√©alis√©e sur un seul ensemble de param√®tres.  √âtant donn√© que cette question ne m'a pas sembl√© tr√®s int√©ressante - premi√®rement, il est peu probable que vous puissiez influencer ces param√®tres sous la pluie, et deuxi√®mement, d√©couvrir quel physique est optimal pour se mouiller sous la pluie peut sembler offensant pour quelqu'un.  Je relie cela aux limitations et aux hypoth√®ses. </p><br><p>  Vitesse humaine: 2,196 km / h prise comme limite inf√©rieure; √† <a href="https://ru.wikipedia.org/wiki/%25D0%25A5%25D0%25BE%25D0%25B4%25D1%258C%25D0%25B1%25D0%25B0_%25D1%2587%25D0%25B5%25D0%25BB%25D0%25BE%25D0%25B2%25D0%25B5%25D0%25BA%25D0%25B0" rel="nofollow">partir d'ici,</a> apparemment, ces donn√©es sont utilis√©es pour les proth√®ses, la limite sup√©rieure est de 43,9 km / h - <a href="https://ru.wikipedia.org/wiki/%25D0%2591%25D0%25BE%25D0%25BB%25D1%2582,_%25D0%25A3%25D1%2581%25D1%258D%25D0%25B9%25D0%25BD" rel="nofollow">la vitesse de course la plus rapide actuellement enregistr√©e</a> . </p><br><h3>  √Ä propos de la pluie </h3><br><p>  La pluie dans un projet est un processus qui se d√©roule dans l'espace et qui a ses propres caract√©ristiques: taille des gouttelettes, taux de chute, intensit√©. </p><br><p>  Selon <a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25BE%25D0%25B6%25D0%25B4%25D1%258C" rel="nofollow">Wikipedia, le</a> diam√®tre d'une goutte de pluie ne peut pas √™tre inf√©rieur √† 0,5 mm, car il ne s'agira plus de pluie, mais de bruine, et pas plus de 6-7 mm, dans de telles conditions, les gouttelettes se d√©composent en plus petites. </p><br><p>  Conform√©ment au m√™me article, la vitesse de goutte des gouttelettes varie de 2 √† 6 m / s pour les petites gouttelettes et de 9 √† 30 m / s pour les gouttelettes de 5 mm de diam√®tre.  Avec une taille de 5 mm √† 7 mm, le taux de chute diminue en raison du fait que de telles grosses gouttes prennent la forme d'un parachute et que la r√©sistance √† l'air augmente.  Le taux de chute des gouttes d√©pend non seulement de la taille de la gouttelette elle-m√™me, mais aussi des conditions dans lesquelles elle tombe - je suppose qu'elle d√©pend de la densit√© de l'air, de la pr√©sence de flux ascendants ou descendants, etc. </p><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t7/u4/im/t7u4imleuvfwgskwu-mu3m1nvls.jpeg"></div><br><br><p>  Le projet a √©tabli une d√©pendance lin√©aire du taux de chute sur la longueur du diam√®tre: dans la plage de diam√®tres de 0,5 √† 5 mm, la vitesse augmente lin√©airement de 2 m / s √† 30 m / s (DropSize * 6,22 - 1,11), dans la plage de 5 mm √† 7 mm, la vitesse diminue de la m√™me intensit√© ((10 - DropSize) * 6,22 - 1,11), en dehors de la plage de 0,5 - 7 mm, l'exp√©rience n'est pas men√©e. </p><br><p>  La d√©pendance lin√©aire utilis√©e dans l'exp√©rience ne contredit pas l'image existante du monde, mais elle est limit√©e, et est donc une hypoth√®se.  Par exemple, une chute de 5 mm dans un projet correspond √† une vitesse de 30 m / s - dans le monde r√©el, cela peut tr√®s bien √™tre (selon Wikipedia), mais dans le monde r√©el, il est √©galement possible qu'une goutte d'un diam√®tre de 5 mm tombe beaucoup plus lentement - √† une vitesse de 9 m / s .  Si quelqu'un est int√©ress√© et d√©cide d'exp√©rimenter lui-m√™me, vous pouvez changer la d√©pendance en une autre, ou m√™me en exp√©rimenter plusieurs.  Dans ce projet, cette fonctionnalit√© sera utilis√©e en quantit√© tr√®s limit√©e (par manque de temps). </p><br><p>  L'intensit√© est une autre caract√©ristique int√©ressante et importante de la pluie.  L'intensit√© est g√©n√©ralement indiqu√©e en millim√®tres par heure.  Un millim√®tre par heure signifie qu'en une heure, une couche d'eau d'un millim√®tre d'√©paisseur tombera sur une surface horizontale d'un m√®tre carr√©.  Il n'est pas difficile de calculer que le volume de cette couche d'eau est d'un litre.  Autrement dit, un mm / h √©quivaut √† un litre par m√®tre carr√© en une heure.  Parfois, dans les pr√©visions m√©t√©orologiques, lorsqu'ils veulent d√©crire l'ampleur de la catastrophe, ils indiquent simplement des millim√®tres - c'est la hauteur calcul√©e de la couche d'eau qui est tomb√©e pendant toute la dur√©e de la pluie.  Dans le projet, et plus loin dans l'article, l'unit√© de mesure sera utilis√©e - millim√®tres par heure. </p><br><p>  Selon Wikipedia, l'intensit√© de la pluie est g√©n√©ralement de 0,25 mm / h (bruine) √† 100 mm / h (pluie) - l'exp√©rience a √©t√© r√©alis√©e dans ces valeurs. </p><br><p></p><br><h4>  A propos de la r√©partition des gouttes dans l'espace: </h4><br><p>  Il y a un point int√©ressant sur lequel je voudrais m'arr√™ter bri√®vement.  Au stade de la conception, il √©tait pr√©vu que la couche horizontale sup√©rieure soit remplie de gouttes comme suit: une fois la probabilit√© qu'une goutte apparaissant dans une cellule soit calcul√©e, puis, en triant toutes les cellules de la couche, le randomiseur, en fonction de cette probabilit√©, placera une goutte dans la cellule ou non.  La probabilit√© a √©t√© calcul√©e comme le rapport entre le nombre requis de gouttes dans la couche et le nombre total de cellules dans la couche.  √âtant donn√© que l'espace est d√©j√† r√©duit au minimum, une telle approche semblait tout √† fait raisonnable.  Cependant, avant de commencer l'exp√©rience, j'ai d√©cid√© d'estimer le nombre de gouttes par unit√© d'espace (la m√™me probabilit√© d'occurrence) et c'est ce qui s'est pass√©: voici les graphiques du nombre de gouttes dans une couche d'une superficie d'un m√®tre carr√© et d'une √©paisseur d'un centim√®tre, selon la taille de la goutte, chaque graphique correspond √† son intensit√©: </p><br><img src="https://habrastorage.org/webt/vs/vm/po/vsvmpodlqc2hcbjj_uxdqs6mdhg.jpeg"><br><p>  Sur l'axe horizontal - la taille de la goutte, sur l'axe vertical - le nombre de gouttes.  L'axe vertical est logarithmique, car la dispersion du nombre de gouttes est tr√®s importante.  Une si grande dispersion s'explique par le fait que le volume des gouttelettes est proportionnel au troisi√®me degr√© de ses dimensions lin√©aires (diam√®tre), plus avec l'augmentation de la taille des gouttelettes, son taux de chute augmente.  En cons√©quence, avec un petit changement du diam√®tre de la gouttelette, le nombre de gouttes dans le volume change beaucoup (par exemple, pour une intensit√© de pluie de 80 mm / h, avec un diam√®tre de gouttelette de 0,8 mm, environ 215 gouttes par couche sont n√©cessaires, et lorsque le diam√®tre de la gouttelette est doubl√©, jusqu'√† 1,6 mm, total 12 gouttes par couche). </p><br><p>  Maintenant, en ce qui concerne l'optimisation: comme on peut le voir sur les graphiques, m√™me avec un volume de goutte minimum et une intensit√© maximale, le nombre de gouttes pour 10000 cellules ne d√©passe pas 2 x mille, dans la plupart des cas, le nombre de gouttes est inf√©rieur √† 100, et si le diam√®tre de la goutte est sup√©rieur √† 3 mm, le nombre de gouttes par couche moins d'un.  Par cons√©quent, it√©rer sur chaque cellule de la couche, de sorte qu'en fin de compte une seule goutte appara√Æt, ce n'est pas √©conomique.  Une option plus √©conomique consiste √† calculer le nombre de gouttes dans la couche, puis √† les disperser de mani√®re al√©atoire sur la couche.  La seule complication est le cas lorsque la cellule s√©lectionn√©e est d√©j√† pleine (dans ce cas, la r√©cursivit√© a l'air sympa).  Si nous ajoutons √† cela toute la m√©morisation des cellules remplies, pour le nettoyage ult√©rieur des couches, nous pouvons obtenir des √©conomies importantes sur le CPU, avec une l√©g√®re augmentation de l'utilisation de la RAM. </p><br><h3>  Processus d'√©mulation de pluie </h3><br><p>  Le processus de mod√©lisation se d√©roule en un cycle principal.  Chaque it√©ration de ce cycle correspond √† un intervalle de temps minimum (tick).  Chaque √©tat de tick du syst√®me est mis √† jour et corrig√©.  La dur√©e d'une tique correspond √† la dur√©e du passage d'une goutte de pluie √† travers une couche d'espace (dans notre cas 1 cm), donc une tique dans un programme peut correspondre √† diff√©rents intervalles de temps dans la vie r√©elle, en fonction des param√®tres d'entr√©e (ou plut√¥t, de la vitesse de chute des gouttelettes).  Ce qui suit d√©crit les actions qui se produisent dans chaque it√©ration: </p><br><p>  Le processus de pluie dans le projet est le suivant: premi√®rement, la couche sup√©rieure est remplie au hasard de gouttes (voir la section ci-dessus), que ce soit la couche num√©ro n.  Dans l'it√©ration suivante, les gouttes de la ni√®me couche tombent dans les cellules de la couche situ√©e directement en dessous d'elles - dans la couche num√©ro n-1, la couche sup√©rieure est √† nouveau remplie.  De plus, tout se passe de la m√™me mani√®re: les gouttes de la couche n-1 tombent dans la couche num√©ro n-2, les gouttes de n-i√®me goutte dans la couche n-1, et les n-i√®me gouttes de nouveau au hasard, et ainsi de suite.  Lorsque les gouttelettes atteignent la couche la plus basse, elles ne tombent nulle part, mais disparaissent simplement (disons, tombent au sol et sont absorb√©es), puis, apr√®s nettoyage, cette couche monte et est r√©utilis√©e. </p><br><p>         ( )  ,        .      ,     ,         (     ).         .   , ,  ,  ,       ,         ( )      ,      ,       . </p><br><h3>     </h3><br><p>     ,      ,    ( ),     ,     ,        ,       . </p><br><p>      (   ),       ( ).    ,      .      ,  ,     .       ,    .        ‚Äî      ,       .      ,       ,         ,       ,    .        ,            ,       . </p><br><p>  ,     ,  .    ,  ,      ,     . </p><br><p>   ,   ,     ,      . </p><br><h2>    </h2><br><h3>    </h3><br><p>       ,     . </p><br><p> ,     ‚Äì ¬´ ,      ,  ,     ?¬ª   ‚Äì ¬´            ?¬ª </p><br><p> .        ¬´¬ª,    ,      ,      ,   :   ,            ? </p><br><p> . ¬´            ?¬ª </p><br><p> . ¬´       ‚Äì ,  ?     ?¬ª </p><br><h3>   </h3><br><p>       ,    . :     ,     ,       ,   .           1 ,          <strong></strong> . </p><br><p> ,  ,                      .          2,2 /,    23,04 /,     ,      43,88 /.       <strong></strong> .     ‚Äì      ,      . </p><br><p> ,       ,         .         ‚Äì    ,      , ,          .           ,   .            <strong></strong> ,    .           ,        ,      <strong></strong> .     :   (0.6 ),  (7 ),    5 ()  ¬´¬ª (1.4 ).       10           (10 ‚Äì 100 /).      1, 50  100    (, ,  ).       . ,         ,               . </p><br><img src="https://habrastorage.org/webt/jp/ze/kq/jpzekqxypyrx2gfgnt2tjpyz7aw.jpeg"><br><p></p><br><p>        : </p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour chaque course: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- le volume d'eau re√ßu; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- le nombre de gouttes au total; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- le nombre (volume) de gouttes sur le dessus; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- le nombre (volume) de gouttes devant; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- croissance moyenne par tick; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- croissance moyenne par le haut en une seule fois; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- le gain moyen pour un d√©placement horizontal (total / uniquement horizontal / uniquement frontal) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour chaque ensemble </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- la diff√©rence de volume obtenue √† diff√©rentes vitesses. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- d'autres indicateurs qui me viennent √† l'esprit.</font></font><br><p></p><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> R√©sultats et conclusions </font></font></h2><br><p> ,   .     ,  , 12 ,  36    1 .      32 529 927 ,         2 .   ,    ,          ,   . </p><br><p></p><br><img src="https://habrastorage.org/webt/bf/ib/li/bfibli6lfyplxlu1e08tlzo3fjw.jpeg"><br><p></p><br><p>              . ,          .          ,     : ¬´            ?¬ª :           .     . </p><br><p> ,  ,        ¬´  ,            ?¬ª ‚Äî ,  ,   - .       : </p><br><img src="https://habrastorage.org/webt/kw/3e/bz/kw3ebzbbzcaczdspwfvo0fddvmk.jpeg"><br><p></p><br><p>           ( 20 /)   1 ,     3.2       ~ 26%  .  ,             :       0,0005841873  1   1712 ,  1   7,06  .          ‚Äì   ,      ,  ,     ,     ,           .  . </p><br><img src="https://habrastorage.org/webt/of/of/lk/ofoflkpmhtjhwb1zzk_4ns25ipe.jpeg"><br><p>      20     100 ,       .         23 /          43 /.  ,      ,             ¬´ ,       ¬ª.     :          ,       ,         ,    . </p><br><p></p><br><p>  , ¬´            ?¬ª. </p><br><p>   ,       ,     : </p><br><img src="https://habrastorage.org/webt/wf/_m/kt/wf_mktqsnwqnphz9rvor154oeua.jpeg"><br><p></p><br><p>      0.6  5     ,      ,    5 ‚Äì 7   (   7    ,    5).             ,   ,       . </p><br><img src="https://habrastorage.org/webt/oe/wa/hn/oewahnc7njt-vjof-sauej7qcui.jpeg"><br><p></p><br><p>  ,           ‚Äì   ,     .     ,      (  ),        :            ,  ,           . </p><br><p>     ‚Äì  ,          . </p><br><p>   ,        50/        (      ). ,  : </p><br><img src="https://habrastorage.org/webt/cl/5-/rk/cl5-rk2uvwwn6gmheuh3oboaulk.jpeg"><br><p></p><br><p>    ,    ,   ,            ,      . </p><br><p>        -  ,         .   ,            .  ,     ,            ,  ,      ,          ,      . </p><br><p></p><br><p>  : ¬´       ‚Äì ,  ?     ?¬ª. </p><br><p>       ,   ,     , ,       . </p><br><p></p><br><img src="https://habrastorage.org/webt/rz/3f/_v/rz3f_vrrrvhrfe5ocftoiimy_do.jpeg"><br><p></p><br><p>       ,    : </p><br><p> 1)       ‚Äì    ,      (          ). </p><br><p> 2)    ,    ,          (      2 /      50 %). </p><br><p> 3)       ,      ,  ,     ,     ( ). </p><br><img src="https://habrastorage.org/webt/ue/9e/ey/ue9eey2pbwy_9u3epnm03gbqrb4.jpeg"><br><p></p><br><p> 4)        ,      .            ,             ( ): </p><br><img src="https://habrastorage.org/webt/kr/xt/k-/krxtk-v76dbjawva9mahpjquhaa.jpeg"><br><p></p><br><p>  ,      ,          .      ,    ,       ,   .  ,    ,  ,    ,     ,       . </p><br><p> Ainsi, la r√©ponse √† la quatri√®me question est "De quel c√¥t√© une personne va-t-elle collecter plus d'eau - par le haut ou par le devant?"  De quoi d√©pend ce rapport? ¬ªIl est √©crit: Une personne qui marche sous la pluie peut collecter plus d'eau par le haut et par le devant, ce rapport d√©pend principalement de sa vitesse, mais le taux de chute qui tombe a une grande influence.  Plus la vitesse d'une personne est grande, moins les gouttes tomberont sur lui d'en haut. </p><br><p>  C‚Äôest probablement tout.  Comme le dit le Dr Scott, un pal√©ontologue, √©tudiez la nature et faites vos propres d√©couvertes, les gars.  :) </p><br><p>  PS Il peut y avoir des erreurs dans le texte, dans le mod√®le, dans les r√©sultats, dans les questions pos√©es et leurs r√©ponses, et dans tout autre endroit, donc je poste le projet dans le domaine public si quelqu'un veut v√©rifier, rev√©rifier, r√©p√©ter, compl√©ter, r√©futer, piquer nez, etc. - vous souhaite la bienvenue <a href="" rel="nofollow">github.com/sv-kopylov/raindrops-pub.git</a> . </p><br><p>  PPS Cet article est une continuation, maintenant une s√©rie d'articles sur la mod√©lisation informatique divertissante, le premier article <a href="https://habr.com/ru/post/341730/">ici.</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr482622/">https://habr.com/ru/post/fr482622/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr482608/index.html">AMA avec Habr # 15. Nouvel an et la version la plus courte! Clavarder</a></li>
<li><a href="../fr482610/index.html">Lancez l'√©cran TFT transflectif sur SSD1283A avec STM32</a></li>
<li><a href="../fr482612/index.html">Busi-board d'ing√©nierie touchante, nouvel an et b√©n√©voles</a></li>
<li><a href="../fr482614/index.html">L'utilisation de BSP dans Doom est-elle vraiment une initiative ing√©nieuse?</a></li>
<li><a href="../fr482620/index.html">Slurm: Habr, bonnes vacances ...</a></li>
<li><a href="../fr482626/index.html">Surveillance des applications avec Logger.Backends</a></li>
<li><a href="../fr482628/index.html">Regardez "Little Green Spider of Time"</a></li>
<li><a href="../fr482634/index.html">Mais l'essence est quelque chose, ou minimiser le code source est plus facile qu'il n'y para√Æt.</a></li>
<li><a href="../fr482636/index.html">Exp√©rience d'admission dans une magistrature en Allemagne (analyse d√©taill√©e)</a></li>
<li><a href="../fr482642/index.html">OSCD: Sprint Detection Sprint # 1, r√©sultats</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>