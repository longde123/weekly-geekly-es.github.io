<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚öñÔ∏è ‚ÜñÔ∏è ü§πüèª Lanzamiento de ROS en el robot de autoequilibrio EduMIP üë©üèº‚Äçüåæ ‚ûó ‚óæÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduccion 
 Esta publicaci√≥n proporciona instrucciones para instalar y ejecutar el sistema operativo del robot (ROS) en el robot m√≥vil EduMIP. EduM...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Lanzamiento de ROS en el robot de autoequilibrio EduMIP</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413677/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/8h/nj/tt/8hnjttadeo1bqubidyjqbs__zta.jpeg" width="300"></div><h4>  Introduccion </h4><br>  Esta publicaci√≥n proporciona instrucciones para instalar y ejecutar el sistema operativo del robot (ROS) en el robot m√≥vil EduMIP.  EduMiP es un robot de autoequilibrio construido alrededor de un BeagleBone Black con un microprocesador incorporado y un cabo de rob√≥tica Beaglebone Black desarrollado por James Strawson y el profesor Thomas Bewley en coordinaci√≥n con el Laboratorio de rob√≥tica coordinada de la UCSD y su personal.  BeagleBone Blue, lanzado recientemente a mediados de 2017, combina las caracter√≠sticas de BeagleBone Black y Robotics Cape en una sola placa.  El profesor Bewley utiliza este robot en su curso MAE144 - Control integrado y rob√≥tica en el Departamento de Ingenier√≠a Mec√°nica y Aeroespacial UCSD. <br>  Respondo preguntas en los comentarios. <br><a name="habracut"></a><br><h4>  Lista de componentes </h4><br>  Tenga en cuenta que necesita un Baglebone Blue o cada uno de Beaglebone Black y Robotics Cape. <br><br><ul><li>  <b>Beaglebone Blue (BBBL)</b> : lanzado recientemente a mediados de 2017, combina las caracter√≠sticas de BeagleBone Black y Robotics Cape en una computadora de placa √∫nica. <br><br><img src="https://habrastorage.org/webt/tj/1p/_z/tj1p_zumabntnzh4jqyoy4w3huy.png"></li><li>  <b>Beaglebone Black (BBB)</b> : plataforma de bajo costo compatible con la comunidad para desarrolladores y aficionados, con un procesador AM335x 1 GHz ARM Cortex, 512 MB DDR3 RAM, 4 GB emmc de 8 bits a bordo. </li><li>  <b>Robotics Cape (BBB-RC)</b> : Beaglebone Black Robotics Cape es una placa de E / S para Beaglebone Black que proporciona m√∫ltiples sensores y un rico soporte de hardware, que incluye lo siguiente: <br><br><ul><li>  Sensores: <br><br><ul><li>  IMU de 9 ejes </li><li>  Bar√≥metro </li></ul></li><li>  E / S: <br><br><ul><li>  4 codificadores cuadr√°ticos </li><li>  4 motores de puente H </li><li>  8 salidas Servo / ESC </li><li>  Interfaz de radio RC DSM est√°ndar </li><li>  I2C UART ADC SPI GPIO PWM </li><li>  Controlador de carga de bater√≠a de pol√≠mero de litio </li></ul></li></ul></li></ul><br><ul><li>  <b>Kit EduMIP</b> : el kit consta de motores de CC, engranajes, codificadores, ruedas, piezas de pl√°stico, cables y sujetadores. <br><img src="https://habrastorage.org/webt/x2/4z/se/x24zseh1x6idjkg-ytpfd684w-c.jpeg"></li><li>  <b>Tarjeta Micro-SD</b> : una <b>tarjeta</b> micro-SD de al menos 8 GB de tama√±o. </li><li>  <b>Imagen Ubuntu 16.04 LTS para BeagleBone Black and Blue</b> : j Imagen cortes√≠a de Robert Nelson, Jeff O'Brian <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Esta imagen contiene ROS Kinetic con ROS preinstalado, como una estaci√≥n de trabajo ros catkin con paquetes b√°sicos de EduMIP ros con paquetes preinstalados.  Aqu√≠ hay dos im√°genes de Ubuntu, aseg√∫rese de estar usando la imagen correcta: <br><br><ul><li>  Utilice esta imagen para BragleBonbne Blue: <br><br>  2018_02_03_beaglebone_blue_16p04_Ubuntu_LTS_EduMIP_ROS.img.zip </li><li>  Utilice esta imagen para BeagleBone Black Wireless + Robotics Cape: <br><br>  2018_02_03_beaglebone_black_wireless_16p04_Ubuntu_LTS_EduMIP_ROS.img.zip </li></ul><br>  Una imagen de 8 GB se comprime en un archivo zip de 2.5 GB.  NO NECESITA DESEMBALAR UN ARCHIVO ZIP.  El programa (Etcher) puede descomprimirlo sobre la marcha. </li><li>  <b>Memoria USB</b> : √∫til para tutoriales en el curso de programaci√≥n de sistemas de robots.  Un buen modelo econ√≥mico es el Logitech Gamepad F310 </li></ul><br><h4>  Montaje y prueba del kit EduMIP (parte del trabajo del curso de programaci√≥n de sistemas rob√≥ticos # 3) </h4><br>  Cree y pruebe EduMIP de la siguiente manera.  Ten cuidado  Se gentil. <br><br>  1. <b>EduMIP Build</b> : siga las instrucciones paso a paso de compilaci√≥n de EduMIP que se proporcionan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> . <br><br>  Mira mi video de montaje en ruso: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/3dvmGL0Sdj4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  2. <b>Algunas notas adicionales:</b> <br><br><ul><li>  Documentaci√≥n adicional est√° disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠.</a> </li><li>  <b>Si est√° utilizando BEAGLEBONE BLACK + ROBOTIC CAPE, NO MEZCLE LA ALIMENTACI√ìN + 5V y + 9V:</b> BBB tiene un conector de alimentaci√≥n para + 5V.  Robotics Cape tiene un conector de alimentaci√≥n de ballel id√©ntico para + 9V.  El infierno </li><li>  No conecte la fuente de alimentaci√≥n de + 9V directamente al conector de + 5V en el resultado BBB ser√° un BBB muerto. </li><li>  <b>Apague la alimentaci√≥n cuando no est√© usando el robot:</b> cuando no est√© usando EduMIP o cargando la bater√≠a: <br><br>  Desconecte el cable de carga de 12V de EduMIP <br>  Antes de transportar el robot Desconecte la bater√≠a del cabo de rob√≥tica. </li><li>  <b>NO DA√ëE los</b> conectores del <b>motor y el CODIFICADOR: los</b> conectores de <b>capa</b> rob√≥tica para codificadores y motores son muy peque√±os. </li></ul><br><h4>  Configuraci√≥n de Beaglebone Black / Blue y EduMIP (parte de la tarea del curso ROS # 3) </h4><br>  Configure su Beaglebone Blue para usarlo en EduMIP de la siguiente manera. <br><br>  1. <b>Verifique su placa BeagleBone Blue / Black:</b> antes de ensamblar edumip, pruebe su placa azul beaglebone: viene con Debian Jessie instalada en su unidad flash interna de 4GB. <br><br><ol><li>  Sigue las instrucciones <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> .  Para instalar las reglas de udev en su PC con Linux.  Use esta p√°gina solo para descubrir c√≥mo proteger las reglas UDEV en su PC LINUX, ignore todo lo dem√°s. </li><li>  Despu√©s de instalar las reglas udev apropiadas en su computadora Linux, establecer√° una conexi√≥n Ethernet a BBB a trav√©s de la conexi√≥n USB a trav√©s del adaptador Ethernet virtual usb0.  Su computadora host estar√° en la direcci√≥n IP 192.167.7.1, y BBB estar√° en 192.168.7.2.  SSH desde la computadora host al BBB "ssh debian@192.168.7.2".  La contrase√±a predeterminada para "debian" es "temppwd". </li><li>  Cada vez que termine de trabajar con BBBL y est√© listo para apagarlo, no lo apague, ejecute el comando "sudo poweroff" para apagar Linux y apagar la placa.  Despu√©s de que se apagan todos los LED de la placa, es normal desconectar el cable USB. </li></ol><br>  2. <b>Instale y pruebe la imagen de Linux LTS Ubuntu 16.04 de 8 gb con soporte ROS y BBBL / EduMIP en su BBBL</b> : creamos una imagen Ubuntu de 8 gb que tiene soporte cin√©tico ros y BBBL.  Su kit EduMIP tiene una tarjeta Micro-SD en blanco de 32 GB o 64 GB. <br><br><ol><li>  Descargue: La imagen preparada de Ubuntu 16.04 para soporte ARM para BBBL y ROS, consulte m√°s arriba las instrucciones tituladas "Imagen Ubuntu 16.04 LTS para beaglebone negro y azul". </li><li>  No es necesario descomprimir la imagen archivada. </li><li>  Descarga Etcher: descarga e instala Etcher en tu computadora con <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">etcher.io</a> -Etcher es un programa para escribir im√°genes de disco en tarjetas SD. </li><li>  Grabe la imagen del disco en la tarjeta micro-SD. </li><li>  Inserte cuidadosamente la tarjeta micro SD: inserte la tarjeta micro SD en la ranura para tarjetas micro SD y beaglebone.  NO LO REEMPLACE; PROPORCIONA SOLO UN TOQUE SUAVE PARA INSTALAR. </li><li>  Desc√°rgalo!  Descargue BBBL desde una imagen de tarjeta Micro-SD conect√°ndola a una computadora con un cable USB. <br><ol><li>  Si la tarjeta Micro-SD contiene una imagen de inicio, BBBL se iniciar√° desde ella y no desde su unidad flash incorporada. </li><li>  SSH en BBBL ("ssh ubuntu@192.168.7.2" con la contrase√±a "temppwd") y aseg√∫rese de que realmente est√© trabajando en una imagen de 32 GB.  El comando df -h debe mostrar al menos 2 GB de espacio libre, y el comando htop debe mostrar 1 GB del archivo de paginaci√≥n activo. </li></ol></li></ol><br>  3. <b>Prueba EduMIP</b> : verifique EduMIP iniciando sesi√≥n como usuario de ubuntu con la contrase√±a "temppwd" de la siguiente manera: <br><br><ol><li>  <b>Nota sobre los mensajes de error</b> : la √∫ltima versi√≥n de la biblioteca roboticscape, que se carga en la imagen de Ubuntu que estamos utilizando, tiene algunos errores de PRU que muestran el mensaje de error <b>"ERROR: falta el controlador pru-rproc"</b> al invocar bibliotecas roboticscape para acceder al hardware BBBL  Podemos ignorar esta advertencia, se solucionar√° en una versi√≥n posterior.  Espere ver una de estas advertencias cuando ejecute programas como rc_balance, rc_test_encoders, edumip_balance_ros, etc. <br><br>  Aqu√≠ hay un ejemplo de este mensaje de error: <br><br><pre><code class="hljs powershell">ubuntu@arm:~<span class="hljs-variable"><span class="hljs-variable">$</span></span> rc_test_imu ERROR: pru<span class="hljs-literal"><span class="hljs-literal">-rproc</span></span> driver missing <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> <span class="hljs-string"><span class="hljs-string">'test_imu -h'</span></span> to see other options Accel XYZ(m/s^<span class="hljs-number"><span class="hljs-number">2</span></span>) | Gyro XYZ (rad/s) | Mag Field XYZ(uT) | Temp (C) <span class="hljs-number"><span class="hljs-number">0.23</span></span> <span class="hljs-literal"><span class="hljs-literal">-3</span></span>.<span class="hljs-number"><span class="hljs-number">06</span></span> <span class="hljs-number"><span class="hljs-number">9.72</span></span> | <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-literal"><span class="hljs-literal">-0</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-literal"><span class="hljs-literal">-0</span></span>.<span class="hljs-number"><span class="hljs-number">0</span></span> | <span class="hljs-number"><span class="hljs-number">22.9</span></span> <span class="hljs-literal"><span class="hljs-literal">-4</span></span>.<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-literal"><span class="hljs-literal">-54</span></span>.<span class="hljs-number"><span class="hljs-number">9</span></span> | <span class="hljs-number"><span class="hljs-number">37.9</span></span></code> </pre> </li><li>  <b>Prueba del codificador</b> : ejecute el comando rc_test_encoders y gire un poco las ruedas; ver√° los codificadores E2 y E3 que muestran el cambio en el n√∫mero de revoluciones. </li><li>  <b>Prueba del motor</b> : ejecute el comando "rc_test_motors-D 0.1": cuando levante el EduMIP, las dos ruedas deben girar en direcciones opuestas. </li><li>  <b>Calibraci√≥n del giroscopio</b> : coloque el EduMIP sobre la mesa, quieto, y ejecute el comando rc_calibrate_gyro y siga las instrucciones.  Este programa de calibraci√≥n escribe la calibraci√≥n del giroscopio en /var/lib/roboticscape/gyro.cal </li><li>  <b>Prueba de giroscopio</b> : ejecute el comando "rc_test_imu" y aseg√∫rese de que los datos "Gyro XYZ (rad / s)" sean iguales a cero (o casi cero). </li><li>  <b>Calibraci√≥n del magnet√≥metro</b> : ejecute el comando "rc_calibrate_mag" y siga las instrucciones: se le pedir√° que sostenga el EduMIP en su mano y lo gire (gire) en todas las orientaciones.  Este programa de calibraci√≥n escribe el archivo de calibraci√≥n del magnet√≥metro /var/lib/roboticscape/mag.cal </li><li>  <b>Prueba de magnet√≥metro</b> : ejecute el comando rc_test_imu y verifique que los datos del campo magn√©tico XYZ (uT) no sean cero.  La magnitud del vector de campo magn√©tico de la Tierra en Baltimore y Woods Hole es de alrededor de 52uT, pero no se preocupe si su magnet√≥metro parece estar un poco apagado. <br><br>  Puede averiguar la latitud, la longitud y la intensidad del campo magn√©tico de Baltimore ingresando su c√≥digo postal en <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">esta p√°gina web</a> . </li><li>  <b>Prueba de equilibrio EduMIP</b> : ejecute el comando "rc_balance" y ponga el robot en marcha.  Su robot debe equilibrarse en su lugar. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Vp46u8LSqu4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><iframe width="560" height="315" src="https://www.youtube.com/embed/zPuyzaUQ4kU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></li></ol><br>  4. <b>Prueba de ROS en BBBL</b> <br><br><ol><li>  Verifique el archivo .bashrc.  Al final, el archivo debe tener los siguientes comandos en el siguiente orden: <br>  En primer lugar, el comando "source /opt/ros/kinetic/setup.bash" para configurar las variables de entorno ROS. <br>  En segundo lugar, el comando "source ~ / catkin_ws / devel / setup.bash" para agregar el espacio de trabajo local catkin al entorno ROS (esto se denomina "superposici√≥n de espacio de trabajo"). </li><li>  Ejecute el comando "source .bashrc" para configurar las variables de entorno ROS.  Compru√©belos con el comando printenv / grep ROS. </li><li>  Aseg√∫rese de que puede ejecutar roscore y otras utilidades ROS. </li><li>  Aseg√∫rese de que puede ejecutar "catkin_make" en el espacio de trabajo de BBBL ROS. </li><li>  Imagen verificada </li></ol><br>  5. <b>Actualice y pruebe el programa de balance ROS EduMip</b> : <br><br><ol><li>  Si a√∫n no lo ha hecho, calibre el giroscopio EduMIP con el comando "rc_calibrate_gyro" mientras el robot todav√≠a est√° sobre la mesa. </li><li>  Inicie sesi√≥n en EduMIP con el nombre de usuario "ubuntu" y la contrase√±a "temppwd" </li><li>  Configure Wi-Fi en EduMIP: configure su Wi-Fi para que pueda clonar paquetes ROS desde nuestro repositorio git. </li><li>  Si instal√≥ la imagen Ubuntu 16.04 preinstalada como se describi√≥ anteriormente, ya tendr√° los paquetes "edumip_msgs" y "edumip_ros_balance" en el directorio de origen de catkin worskace, es decir, ~ / catkin_ws / src / edumip_msgs y ~ / catkin_ws / src / edumip_balance_ros.  <b>Actualice el paquete</b> edumip_balance_ros con el comando "cd ~ / catkin_ws / src / edumip_balance_ros" y "git pull" para descargar el √∫ltimo c√≥digo para este paquete.  Si aparece el mensaje de error "error: los cambios locales en los siguientes archivos se sobrescribir√°n mediante fusi√≥n: <br><br>  src / edumip_balance_ros.cpp Por favor, confirme los cambios o gu√°rdelos antes de poder fusionarlos ", luego elimine el archivo src / edumip_balance_ros.cpp que interfiere y" git pull "nuevamente. </li><li>  Si sus <b>edumip_msgs</b> y <b>edumip_balance_ros a√∫n</b> no est√°n en el directorio <b>src</b> del espacio de trabajo catkin de su EduMIP (deber√≠a ser <b>~ / catkin_ws / src</b> ), entonces clone estos dos paquetes ROS en <b>~ / catkin_ws / src</b> ): <br><ol><li>  El paquete <b>edumip_msg</b> define el tipo de mensaje personalizado edumip_msf / EduMipState para EduMIP.  Este paquete no contiene c√≥digo fuente, solo la definici√≥n de mensajes y comunicaci√≥n CMakeLists.txt y package.xml.  Si su computadora necesita acceder a este tipo de mensaje, tambi√©n debe clonar el proyecto en su computadora.  Este paquete es independiente de la arquitectura.  Este paquete puede ser clonado por git desde esta <a href="">URL p√∫blica</a> . </li><li>  El paquete <b>edumip_balance_ros</b> contiene el nodo de edumip_ros_node C ++ ROS.cpp, que es una versi√≥n del programa ROS-ified rc_balance.  La imagen de Linux que le proporcionamos ya tiene instalados los controladores Robotics Cape y ROS.  Este paquete puede ser clonado por git desde esta <a href="">URL p√∫blica</a> . </li></ol></li><li>  Cree estos dos paquetes utilizando el comando catkin_make en el directorio principal del espacio de trabajo catkin. </li><li>  Verifique que ROS ahora sepa sobre los mensajes de usuario definidos en el paquete edumip_msgs con el comando: rosmsg show edumip_msgs / EduMipState </li><li>  Abra dos sesiones ssh remotas en EduMIP: <br><br>  Primero, en el primer shell ejecute "roslaunch edumip_balance_ros edumip_balance_ros" <br>  En segundo lugar, en el segundo shell, vea los temas ros e imprima los temas / edumip / state. <br>  Pon tu robot, debe equilibrarse. </li></ol><br>  6. <b>Apague el BBBL correctamente</b> : cuando haya terminado y est√© listo para apagar el BBBL, no lo apague simplemente, ejecute el comando "sudo poweroff" para apagar Linux y apague la placa.  Despu√©s de que todos los LED de la placa se apaguen, puede desconectar el cable USB. <br><br><h4>  Algunas notas √∫tiles de Linux para BBB y BBBL </h4><br><ul><li>  Los editores emacs y nano ya est√°n instalados en la imagen de Linux BBB provista para este tutorial. </li><li>  La utilidad de Linux "localizar" no est√° instalada de manera predeterminada, pero puede instalarla usando "sudo apt-get install localizar" e inicializar la base de datos de localizaci√≥n con el comando "sudo updatedb" (toma varios minutos). </li><li>  El servidor de hora NTP est√° instalado en la imagen de Linux BBB proporcionada para esta lecci√≥n, pero solo se sincronizar√° si BBB tiene una ruta a Internet, por ejemplo, cuando su WIFi est√° encendido.  La conexi√≥n de red USB a una computadora por defecto no se enruta a Internet.  Puede verificar el estado de ntp utilizando el comando ntpq-p. </li></ul><br><h4>  Notas sobre la configuraci√≥n de BeagleBone Black (BBB) ‚Äã‚Äãy beaglebone Blue (BBBL) con Ununtu 16.04 y ROS </h4><br>  (Se enumeran aqu√≠ solo como referencia y no deber√≠an ser pasos necesarios para completar la tarea 3). <br><br>  <b>Conecte su PC a BBB a trav√©s de USB</b> <br><br><ul><li>  Sigue las instrucciones <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠.</a> </li><li>  Despu√©s de instalar los controladores adecuados o las reglas de udev en la computadora host, establecer√° una conexi√≥n Ethernet con BBB a trav√©s de la conexi√≥n USB a trav√©s del adaptador Ethernet virtual usb0.  Su computadora host estar√° en la direcci√≥n IP 192.167.7.1, y BBB ser√° 192.168.7.2.  SSH desde la computadora host al BBB "ssh ubuntu@192.168.7.2".  La contrase√±a predeterminada para ubuntu es temppwd. </li></ul><br>  <b>C√≥mo establecer una conexi√≥n Ethernet con DNS y una ruta a Internet externo</b> <br>  WiFi (BBBL, BBB Wireless, BBB Classic + USB WiFi Adapter): <br><br><ul><li>  <b>WiFi en un santiam√©n</b> : siga las instrucciones para <b>connmanctl que</b> figuran en los comentarios en el archivo / etc / network / interfaces.  Para leer comentarios, use el comando cat / etc / network / interfaces. </li><li>  <b>Nota</b> : <b>connmanctl</b> no admite redes corporativas como hopkins, pero s√≠ admite redes WPA / WPA2. </li><li>  <b>Nota</b> : cuando se carga el adaptador BBBL WiFi no siempre es correcto.  Si no ve "wlan0" en la salida del comando ifconfig, intente habilitar BBBL manualmente como wlan0 interfce usando el comando "ifconfig wlan0 up".  Entonces deber√≠a ver wlan0 en la salida del comando ifconfig. </li><li>  <b>Ifconfig</b> : utilice el comando ifconfig para ver todas las interfaces de red configuradas (LAN, WiFi, USB, etc.) en su m√°quina. </li><li>  <b>Iwconfig</b> : use el comando "iwconfig" para ver todas las interfaces de red WiFi configuradas en su computadora. </li><li>  <b>Quien soy yo</b>  La forma m√°s f√°cil de determinar la direcci√≥n (o direcciones) IP de una m√°quina Linux es iniciar sesi√≥n y usar el comando ifconfig. </li><li>  <b>¬°D√≠a de marmota Wifi!</b>  Desafortunadamente, BBBL actualmente no recuerda la configuraci√≥n de WiFi. </li></ul><br>  La conexi√≥n WiFi preferida debe ser como BBBL y su computadora est√° conectada al mismo punto de acceso Wi-Fi, por lo que puede acceder a BBBL desde su computadora, y su BBBL tiene acceso a Internet para repositorios git, etc. <br><br>  Tambi√©n puede conectarse directamente a BBBL utiliz√°ndolo como un punto de acceso Wi-Fi conectando su computadora a la red Wi-Fi BeagleBone-XXXX, donde XXXX es exclusivo de su BBBL.  La contrase√±a de WiFi es "BeagleBone". Esta es una conexi√≥n simple, pero ni BBBL ni su computadora tendr√°n acceso a Internet para repositorios git, etc. Despu√©s de conectarse, su computadora tendr√° una direcci√≥n IP de 192.168.XXX.XXX La direcci√≥n IP de BBBL ser√° 192.168.XXX.1 <br><br>  <b>Actualizaci√≥n de su distribuci√≥n de Ubuntu BBBL</b> <br><br>  En BBB, ejecute los comandos Linux sudo apt update Y sudo apt dist-upgrade Linux <br><br>  <b>Instalaci√≥n del software Robotics Cape en BBBL</b> <br><br><ul><li>  El soporte de Robotics Cape / BBBL ya est√° disponible en la imagen de Ubuntu preconfigurada para BBBL descrita anteriormente, no necesita reinstalarla. </li><li>  Instalaci√≥n binaria en Ubuntu 16.04 en ARM: "sudo apt-get install roboticscape" </li><li>  Instalaci√≥n desde la fuente </li></ul><br>  Desea instalar una copia del c√≥digo fuente de la capa de rob√≥tica y el c√≥digo de muestra en su BBB.  Est√° disponible <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a>  Instalar una copia en el directorio de inicio: <br><br>  "Cd ~" <br>  "Git clone <a href="">github.com/StrawsonDesign/Robotics_Cape_Installer.git</a> " <br><br>  Ahora puede ver el c√≥digo fuente de la capa de rob√≥tica y seguir las instrucciones para compilar e instalar la biblioteca de capa de rob√≥tica y los programas de muestra. <br><br>  <b>Instalar paquetes b√°sicos de ROS para EduMIP</b> <br><br>  Clone estos dos repositorios git en su directorio ~ / catkin_ws / src: <br><br><ul><li>  <a href="">git.lcsr.jhu.edu/lwhitco1/edumip_msgs.git</a> </li><li>  <a href="">git.lcsr.jhu.edu/lwhitco1/edumip_balance_ros.git</a> </li></ul><br>  cd a ~ / catkin_ws y recolecte los paquetes "catkin_make". <br><br>  Para ejecutar el nodo edumip_balance_ros, el programa necesita privilegios de root.  Quiz√°s la forma m√°s f√°cil de hacer esto es cambiar los permisos y la propiedad del binario compilado utilizando estos dos comandos (en ese orden) despu√©s de compilarlo: <br><br><ul><li>  ra√≠z sudo chown: root ~ / catkin_ws / devel / lib / edumip_balance_ros </li><li>  sudo chmod u + s ~ / catkin_ws / devel / lib / edumip_balance_ros </li></ul><br>  Ejecute el nodo ROS edumip_balance_ros " <b>roslaunch edumip_balance_ros edumip_balance_ros.launch</b> ".  El robot se equilibrar√°, recibir√° mensajes de velocidad de giro del comando topic / edumip / cmd y publicar√° su estado en el tema topic / edumip / state ROS <br><br>  Si no puede encontrar el <b>archivo de</b> inicio <b>edumip_balance_ros.launch</b> en el directorio ~ / catkin_ws / src / edumip_balance_ros / launch, necesita "git pull" la √∫ltima versi√≥n de este paquete, como se describe anteriormente, y recompilar la fuente con "catkin_make". <br><br>  Consulte la asignaci√≥n de la tercera semana en la p√°gina web de este curso para obtener m√°s informaci√≥n sobre el uso de estos respaldos de ROS: Asignaci√≥n de la semana 3 de programaci√≥n de sistemas de robots <br><br><h4>  Notas sobre c√≥mo iniciar EduMIP con ROS </h4><br>  <b>¬øPor qu√© recibo errores de permisos al ejecutar edumip_balance_ros y c√≥mo puedo solucionarlo?</b> <br>  Lea esto si obtiene errores como "no se puede abrir: <br><br>  / sys / devices / platform / ocp / ocp: H18_pinmux / state <br>  Pinmux: Permiso denegado "al ejecutar edumip_balance_ros. <br><br>  Al compilar el proyecto edumip_balance_ros en edumip con catkin_make, compile el archivo ejecutable: <br><br>  "~ / catkin_ws / devel / lib / edumip_balance_ros / edumip_balance_ros" <br><blockquote>  ubuntu @ arm: ~ / catkin_ws $ ls -l devel / lib / edumip_balance_ros / <br>  total 272 <br>  -rwxrwxr-x 1 ubuntu ubuntu 278292 18 de febrero 18:48 edumip_balance_ros </blockquote><br>  Tenga en cuenta que el propietario y el grupo del archivo son ubuntu: ubuntu, y que es ejecutable ("-rwxrwxr-x"). <br><br><div class="spoiler">  <b class="spoiler_title">Cuando intente ejecutar este archivo compilado recientemente, obtendr√° errores de permiso, como se muestra a continuaci√≥n:</b> <div class="spoiler_text"><blockquote>  ubuntu @ arm: ~ / catkin_ws $ roslaunch edumip_balance_ros edumip_balance_ros.launch <br>  ... iniciando sesi√≥n en /home/ubuntu/.ros/log/a271dd92-14dc-11e8-b293-dc5360d671c6/roslaunch-arm-2845.log <br>  Comprobando el directorio de registro para el uso del disco.  Esto puede llevar un tiempo. <br>  Presione Ctrl-C para interrumpir <br>  Hecho la comprobaci√≥n del uso del disco del archivo de registro.  El uso es &lt;1 GB. <br><br>  comenz√≥ el servidor roslaunch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">192.168.10.102</a> : 37365 / <br><br>  RESUMEN <br>  ======== <br><br>  PARAMETROS <br>  * / rosdistro: cin√©tico <br>  * / rosversion: 12.1.12 <br><br>  NODOS <br>  / / <br>  edumip_balance_ros_node (edumip_balance_ros / edumip_balance_ros) <br><br>  ROS_MASTER_URI = http: //192.168.10.101: 11311 <br><br>  proceso [edumip_balance_ros_node-1]: comenz√≥ con pid [2874] <br>  [INFO] [1518979862.674565427]: Archivo /home/ubuntu/catkin_ws/src/edumip_balance_ros/src/edumip_balance_ros.cpp compilado el 3 de febrero de 2018 19:38:02. <br>  no se puede abrir: / sys / devices / platform / ocp / ocp: H18_pinmux / state <br>  Pinmux: permiso denegado <br>  no se puede abrir: / sys / devices / platform / ocp / ocp: C18_pinmux / state <br>  Pinmux: permiso denegado <br>  no se puede abrir: / sys / devices / platform / ocp / ocp: U16_pinmux / state <br>  Pinmux: permiso denegado <br>  no se puede abrir: / sys / devices / platform / ocp / ocp: D13_pinmux / state <br>  Pinmux: permiso denegado <br>  no se puede abrir: / sys / devices / platform / ocp / ocp: J15_pinmux / state <br>  Pinmux: permiso denegado <br>  no se puede abrir: / sys / devices / platform / ocp / ocp: H17_pinmux / state <br>  Pinmux: permiso denegado <br>  ADVERTENCIA: falta el controlador PINMUX <br>  Probablemente solo necesites un kernel m√°s nuevo <br>  No se puede abrir / dev / mem <br>  mmap_gpio_adc.c no pudo inicializar gpio <br>  [INFO] [1518979862.806645002]: ERROR: no se pudo inicializar la capa. <br>  El proceso [edumip_balance_ros_node-1] ha muerto [pid 2874, c√≥digo de salida 255, cmd / home / ubuntu / catkin_ws / devel / lib / edumip_balance_ros / edumip_balance_ros __name: = edumip_balance_ros_node __log: = / home / ubuntu / dd. 14dc-11e8-b293-dc5360d671c6 / edumip_balance_ros_node-1.log]. <br>  archivo de registro: /home/ubuntu/.ros/log/a271dd92-14dc-11e8-b293-dc5360d671c6/edumip_balance_ros_node-1*.log <br>  Todos los procesos en la m√°quina han muerto, Roslaunch saldr√° <br>  apagando el monitor de procesamiento ... <br>  ... apagando el monitor de procesamiento completo <br>  hecho </blockquote></div></div><br>  El problema aqu√≠ es que su ejecutable debe ejecutarse como root, y no como un usuario normal, para acceder a los registros de hardware de BeagleBone. <br><br>  Despu√©s de compilar edumip_ros_balance, puede cambiar los permisos ejecutables de la ra√≠z (sudo chown root: root &lt;nombre de archivo&gt;) y establecer su bit fijo (sudo chmod u + s &lt;nombre de archivo&gt;) ejecutando el siguiente script: <br><br>  "~ / catkin_ws / src / edumip_balance_ros / scripts / edumip_change_perms.sh" <br><br>  Si observa este script de shell, ver√° que ejecuta estos dos comandos: <br><blockquote>  ra√≠z sudo chown: root ~ / catkin_ws / devel / lib / edumip_balance_ros / edumip_balance_ros <br>  sudo chmod u + s ~ / catkin_ws / devel / lib / edumip_balance_ros / edumip_balance_ros </blockquote><br>  Despu√©s de ejecutar este script (le pedir√° la contrase√±a de sudo), los permisos y grupos del archivo ejecutable se cambiar√°n de ubuntu: ubuntu a root: root, y se instalar√° su bit adhesivo (los permisos fueron previamente "- rwxrwxr-x" y se convirtieron en "- rwsrwxr -x "): <br><blockquote>  ubuntu @ arm: ~ / catkin_ws $ ls -l devel / lib / edumip_balance_ros / <br>  total 272 <br>  -rwsrwxr-x 1 ra√≠z root 278292 18 de febrero 18:48 edumip_balance_ros </blockquote><br>  Ahora, cuando ejecutas edumip_balance_ros, deber√≠a funcionar bien, como se muestra a continuaci√≥n: <br><br><div class="spoiler">  <b class="spoiler_title">ubuntu @ arm: ~ $ roslaunch edumip_balance_ros edumip_balance_ros.launch</b> <div class="spoiler_text"><blockquote>  ubuntu @ arm: ~ $ roslaunch edumip_balance_ros edumip_balance_ros.launch <br>  ... iniciando sesi√≥n en /home/ubuntu/.ros/log/a271dd92-14dc-11e8-b293-dc5360d671c6/roslaunch-arm-2099.log <br>  Comprobando el directorio de registro para el uso del disco.  Esto puede llevar un tiempo. <br>  Presione Ctrl-C para interrumpir <br>  Hecho la comprobaci√≥n del uso del disco del archivo de registro.  El uso es &lt;1 GB. <br><br>  inici√≥ el servidor roslaunch <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">192.168.10.102</a> : 34253 / <br><br>  RESUMEN <br>  ======== <br><br>  PARAMETROS <br>  * / rosdistro: cin√©tico <br>  * / rosversion: 12.1.12 <br><br>  NODOS <br>  / / <br>  edumip_balance_ros_node (edumip_balance_ros / edumip_balance_ros) <br><br>  ROS_MASTER_URI = http: //192.168.10.101: 11311 <br><br>  proceso [edumip_balance_ros_node-1]: comenz√≥ con pid [2108] <br>  [INFO] [1518981653.978399507]: Archivo /home/ubuntu/catkin_ws/src/edumip_balance_ros/src/edumip_balance_ros.cpp compilado el 3 de febrero de 2018 19:38:02. <br>  ERROR: falta el controlador pru-rproc <br>  [INFORMACI√ìN] [1518981654.104574860]: Controlador de bucle interno D1: <br><br>  orden: 2 <br>  paso de tiempo dt: 0.0100 <br>  -4,9450z¬≤ + 8,8620z + -3,9670 <br>  - 1.0000z¬≤ + -1.4810z + 0.4812 <br>  [INFORMACI√ìN] [1518981654.107474727]: <br>  Controlador de bucle externo D2: <br><br>  orden: 2 <br>  paso de tiempo dt: 0.0100 <br>  0.1886z¬≤ + -0.3721z + 0.1835 <br>  - 1.0000z¬≤ + -1.8605z + 0.8605 <br>  [INFORMACI√ìN] [1518981654.573431369]: <br>  Mantenga su MIP en posici√≥n vertical para comenzar a equilibrar </blockquote></div></div><br>  <b>ROS no puede encontrar mi paquete ROS</b> <br><br>  Si en su entorno ROS no entiende que tiene paquetes nuevos en catkin_ws / src, intente actualizar su perfil rospack con el comando rospack profile y actualice el cach√© rosdep con el comando rosdep update. <br><br>  <b>Compilaci√≥n y enlace a las bibliotecas Robotics Cape "C"</b> <br><br>  La biblioteca Robotics Cape viene preinstalada en la imagen de Ubuntu 16.04, disponible en el enlace proporcionado anteriormente en esta p√°gina.  Se instal√≥ usando el comando sudo apt-get install roboticscape. <br><br>  La biblioteca de capa de rob√≥tica y los archivos de encabezado relacionados ya est√°n instalados en EduMIP.  Enlace a las bibliotecas /usr/lib/libroboticscape.so, y dos archivos de encabezado de nivel superior rc_usefulincludes.h y roboticscape.h. <br><br>  Puede <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">consultar el</a> proyecto <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">edumip_balance_ros</a> para aprender a usar los archivos de encabezado C de capa rob√≥tica y la biblioteca de enlaces C con el nodo C ++ ROS. <br><br>  Consulte edumip_balance_ros / src / edumip_balance_ros.cpp para ver c√≥mo incluir archivos de encabezado C en un programa C ++ con directiva externa "C". <br><br>  Consulte edumip_balance_ros / CMakeLists.txt para saber c√≥mo vincular su programa a la biblioteca roboticscape C. <br><br>  <b>Paquete Edumip_balance_ros</b> <br><br><ul><li>  Para compilar el paquete <a href="">edumip_balance_ros</a> , <a href="">tambi√©n</a> debe instalar el paquete <a href="">edumip_msgs</a> . </li><li>  El paquete edumip_balance_ros no se compilar√° en su computadora, es solo para compilar en EduMIP. </li></ul><br>  <b>Configuraci√≥n horizontal EduMIP</b> <br><br>  Varios equipos de estudiantes utilizaron EduMIP en una configuraci√≥n horizontal con una rueda giratoria. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ww/bq/yw/wwbqywxez62plhzy1rjeu0p-s_8.jpeg"></div><br>  Para hacer esto, deber√° reemplazar el proyecto "edumip_balance_ros" con su propio c√≥digo nuevo para controlar los motores de las ruedas, as√≠ como para leer y publicar codificadores de ruedas.  Y ayer examin√© en el aula uno de los paquetes posibles, puedes usar el paquete ROS de diferencial_unidad (http://wiki.ros.org/differential_drive).  Para usar el paquete diferencial_unidad, necesita escribir un nuevo nodo C ++ para edumip, que (a) lee los codificadores de rueda y los publica por tema y (b) se suscribe a los temas de comandos de motor y comandos de voltaje para motores de rueda. <br><br><img src="https://habrastorage.org/webt/kv/zb/et/kvzbetynezcub7sclpdf5bq9kdu.jpeg"><br><br><img src="https://habrastorage.org/webt/ay/on/vb/ayonvbvtzgmccqeyu5rlmp604xm.jpeg"><br><br><img src="https://habrastorage.org/webt/vd/zt/gu/vdztguslq4mgpabge6ffbdbj-yu.jpeg"><br><br>  <b>Dispositivos de puerto serie</b> <br><br>  Para interactuar con los sensores en un puerto serie, como un sensor ultras√≥nico USB demostrado en clase, deber√° poder abrir, leer y enviar a trav√©s de puertos serie. <br><br><img src="https://habrastorage.org/webt/ol/et/8g/olet8g926448yknxtl4zvn-bsiy.jpeg"><img src="https://habrastorage.org/webt/g4/y-/do/g4y-dov8fy2n99k2b1flozwbj0u.jpeg"><br><img src="https://habrastorage.org/webt/xt/b_/zu/xtb_zuhwmwpzfasvxwlilxrw3pa.jpeg"><br><br>  Buen paquete para este <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">paquete serial ROS</a> .  Puede instalarlo "sudo apt-get install ros-kinetic-serial". <br><br>  Ejemplo simple <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">aqu√≠</a> <br><br>  Se puede clonar una copia de src en el espacio de trabajo ROS utilizando el comando git clone <a href="">github.com/wjwwood/serial.git</a> y compilar utilizando catkin_make.  El directorio de ejemplos contiene ejemplos m√°s complejos del uso del puerto serie con el paquete serie. <br><br>  Tenga en cuenta que este paquete ros llamado "serial" no es un paquete "rosserial".  El paquete "serial" es una biblioteca liviana de uso general para leer y enviar datos en puertos seriales.  "Rosserial" es un paquete para emparejar dispositivos peque√±os como Arduino a medida que crec√≠an los nodos. <br><br>  <b>Adici√≥n del traductor:</b> <br><br>  Agregu√© mis fotos y videos al art√≠culo, as√≠ como fotos de los trabajos de los estudiantes.  En general, solo esta instrucci√≥n es suficiente para ejecutar, solo es deseable tener al menos una experiencia m√≠nima en la l√≠nea de comandos de Linux y una comprensi√≥n b√°sica de la arquitectura ROS.  Los guiones del robot est√°n escritos en C. <br><br>  Puedes hacer preguntas en los comentarios, leo y respondo. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es413677/">https://habr.com/ru/post/es413677/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es413665/index.html">¬øC√≥mo determinar el volumen de sus registros?</a></li>
<li><a href="../es413667/index.html">Kaggle: Amazon from Space: trucos y trucos para entrenar redes neuronales</a></li>
<li><a href="../es413669/index.html">Samsung IT School: ense√±ando a los estudiantes c√≥mo desarrollar aplicaciones m√≥viles</a></li>
<li><a href="../es413673/index.html">Sobre el tema del rendimiento de versiones antiguas y nuevas de un nodo</a></li>
<li><a href="../es413675/index.html">Joker 2018: Club de desarrolladores Java an√≥nimos</a></li>
<li><a href="../es413679/index.html">Angular 6. PWA M√≥dulos de carga lenta. Despliegue autom√°tico en Firebase</a></li>
<li><a href="../es413681/index.html">La t√©cnica de desarrollar servidores altamente confiables en Go</a></li>
<li><a href="../es413683/index.html">ILV ha desbloqueado 7 millones de direcciones IP. Permanecer bloqueado 4 millones</a></li>
<li><a href="../es413689/index.html">Debian + Postfix + Dovecot + Multidomain + SSL + IPv6 + OpenVPN + Multi-interfaces + SpamAssassin-learn + Bind</a></li>
<li><a href="../es413691/index.html">Inicio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>