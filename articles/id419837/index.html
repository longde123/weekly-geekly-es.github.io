<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐾 👨🏿‍🎨 ↖️ Saya, RoboLoyer, atau bagaimana mencari anomali dalam dokumen 🗜️ 🎠 👨🏼‍🏭</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dapatkah Anda bayangkan berapa banyak dokumen peraturan per jam yang harus dilihat oleh pengacara perusahaan dan apa akibatnya akibat kecerobohannya? ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Saya, RoboLoyer, atau bagaimana mencari anomali dalam dokumen</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digdes/blog/419837/">  Dapatkah Anda bayangkan berapa banyak dokumen peraturan per jam yang harus dilihat oleh pengacara perusahaan dan apa akibatnya akibat kecerobohannya?  Seorang pengacara yang malang harus membaca setiap kontrak, terutama jika tidak ada templat standar untuknya, yang sering terjadi. <br><br>  Melihat ke mata lelah pengacara perusahaan kami, kami memutuskan untuk membuat layanan yang akan menemukan masalah dalam dokumen dan memberi sinyal kepada pengacara yang tertidur.  Sebagai hasilnya, kami menciptakan solusi dengan agregasi pengetahuan berdasarkan kontrak dan kiat-kiat tertentu untuk pengacara, yang harus mendapat perhatian khusus.  Tentu saja, bukan tanpa sihir.  Sihir matematika yang disebut Deteksi Anomali. <br><br>  Pada dasarnya, pendekatan Deteksi Anomali digunakan untuk menganalisis perilaku berbagai peralatan untuk mendeteksi kegagalan, atau di sektor perbankan untuk menentukan penipuan.  Dan kami mencoba menerapkan algoritma ini untuk analisis dokumen hukum.  Ikuti cut untuk mengetahui bagaimana kami melakukannya. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/31/gl/sl/31glslalfw7bbz4avc_vxy-yjro.jpeg"></div><a name="habracut"></a><br><h3>  1. Kami menangani informasi terstruktur </h3><br>  Kita beruntung karena  Teks-teks dalam kontrak cukup terstruktur, kering dan disusun sesuai dengan templat tertentu.  Untuk mengerjakan proyek, ide itu diusulkan untuk mengimplementasikan prototipe berdasarkan kontrak dan kontrak dari situs zakupki.gov.ru (kami mendapat 200.000 dokumen).  Untuk 170.000 kontrak, kami dapat mengidentifikasi struktur: pembukaan, bab, paragraf dan lampiran pada kontrak, dengan mempertimbangkan kata kunci, posisi dalam teks dan penomoran. <br><br><h3>  2. Berbagai jenis kontrak </h3><br>  Penting untuk mempertimbangkan fakta bahwa kontrak dapat terdiri dari berbagai jenis.  Semuanya sangat berbeda dalam konten, subjek kontrak, bab utama, dll. Untuk mengoptimalkan analisis masing-masing jenis kontrak, perlu untuk melakukan pekerjaan klasifikasi atau pengelompokan. <br>  Mungkin Anda sudah tahu jenis kontrak apa yang ada dalam basis data Anda, dan Anda tahu tanda-tanda yang dengannya mereka dapat ditentukan.  Dalam kasus kami, kami memiliki badan kontrak mentah tanpa informasi tambahan tentang setiap kontrak dan tanpa asumsi tentang klasifikasi kontrak pengadaan.  Karena itu, kami terpaksa menggunakan pengelompokan basis kontrak kami. <br><br>  Anda dapat membakukan pengelompokan menggunakan vektor presentasi dokumen tf-idf, tetapi kami memutuskan untuk mencoba algoritma Doc2Vec, hanya untuk bersenang-senang.  Menggunakan algoritma Doc2Vec, kontrak diubah menjadi vektor, dan vektor kontrak yang dihasilkan dikirim ke input dari algoritma pengelompokan.  Kami menggunakan algoritma K-means untuk mengelompokkan vektor.  Karena kesamaan biasanya diukur menggunakan jarak cosinus, kami menggunakannya bukan jarak Euclidean. <br><br>  Setelah menerima 20 kelompok dokumen, perlu untuk memeriksa kualitas pengelompokan.  Karena kami tidak memiliki klasifikasi kontrak, kami tidak dapat membandingkan cluster yang dihasilkan dengan partisi yang ada.  Kemudian kami memutuskan untuk melihat kata-kata yang menggambarkan klaster.  Untuk melakukan ini, kami mengambil item "Subjek Perjanjian" untuk setiap cluster, menghapus kata berhenti, angka dan kata-kata yang ditemukan di sebagian besar cluster.  Lalu kami memilih 5 kata yang paling umum untuk setiap cluster sebagai kata kunci.  Sedemikian mudahnya, seseorang dapat secara subyektif menilai kualitas pengelompokan. <br><br>  Contoh kata yang menggambarkan kluster: <br><br><ul><li>  penyewa, pemilik, apartemen, persewaan, pengembang </li><li>  kompetensi, pengajaran, pendidikan, akademik, penuh waktu </li><li>  kontraktor umum, subkontraktor, konstruksi umum, perancang, perencanaan kota </li><li>  farmasi, karantina, pengeluaran, fitosanitasi, kedap udara </li><li>  detektif, penjaga keamanan, penindasan, kecemasan, pelanggaran </li><li>  penerima lisensi, sublisensi, film, pemberi lisensi, estafet </li><li>  peminjam, escrow, kreditor, pinjaman, pledger </li><li>  terpusat, pasokan energi, intrazon, pipa ledeng, saluran pembuangan </li></ul><br><h3>  3. Anomali apa yang bisa kita temui dalam kontrak </h3><br>  Mari kita tentukan kasus apa yang kita anggap abnormal dan apa yang bisa kita lakukan dengannya.  Kami mengidentifikasi skenario berikut: <br><br><ol><li>  Klausul tambahan telah ditambahkan ke kontrak yang belum pernah terlihat dalam konteks ini sebelumnya.  Penting untuk menarik perhatian seorang pengacara kepadanya. </li><li>  Tidak ada klausul dalam kontrak yang sebelumnya ditemui dalam kontrak tersebut.  Kami harus menyarankan pengacara untuk menambahkannya. </li><li>  Paragraf mirip dengan beberapa poin dari cerita, tetapi entah bagaimana diulang, beberapa kata ditambahkan atau dihapus.  Anda dapat memberi tahu pengacara dan menyarankan Anda untuk mengedit. </li></ol><br><h3>  4. Dalam bentuk apa untuk menyerahkan kontrak </h3><br>  Seperti yang telah disebutkan, kontrak terdiri dari bab-bab, bab dibagi menjadi beberapa paragraf, setiap paragraf dapat berisi sub-paragraf, dll.  Untuk membagi kontrak menjadi beberapa bab dan paragraf, kami memperhitungkan penomoran, transfer, kata kunci: "Bab", "Artikel", dll.  Setiap item terdiri dari satu kalimat atau lebih.  Untuk memecah item menjadi kalimat, sent_tokenize dari modul nltk.tokenize digunakan. <br><br>  Kontrak itu sendiri berisi beberapa bab global, esensi dan konten yang dapat ditemukan oleh pos: subjek kontrak, hak dan kewajiban para pihak, harga dan prosedur penyelesaian ... Kami mencoba menggabungkan bab dengan pos yang sama dan bekerja dengan bab yang berbeda secara mandiri.  Judul-judul bab sering diulang, memiliki kesalahan ketik atau tanda baca ekstra.  Untuk membuat kelompok bab cukup besar, kami menggabungkan judul yang dekat dalam jarak Levenshtein menjadi satu kelompok. <br><br>  Salah satu masalah yang pasti dapat kita temui adalah volume besar entitas yang disebutkan dalam kontrak, yang seringkali unik dan dapat disalahartikan sebagai anomali.  Ada banyak entitas dalam kontrak, seperti nama, nama perusahaan, tanggal, alamat, dll., Yang berbeda dari satu kontrak ke kontrak lainnya.  Adalah perlu untuk menemukan dan menghilangkan entitas tersebut dari kontrak, yaitu  bawa kontrak ke beberapa formulir templat.  Kami beruntung dengan dataset, karena  dalam pembongkaran kontrak ada sebagian besar kontrak templat, entitas bernama di mana digantikan oleh garis bawah.  Kami telah mengidentifikasi di antara frasa mana garis bawah biasanya muncul untuk menemukan frasa ini dalam dokumen yang lengkap dan menghapus entitas yang disebutkan dari mereka.  Jelas bahwa dengan cara ini kami tidak menghapus semua entitas yang disebutkan.  Karena itu, kami sekali lagi berjalan melewati lambung dengan perpustakaan Natasha dan menghapus entitas yang ia temukan. <br><br><h3>  5. Definisi klausa abnormal dalam kontrak </h3><br>  Kami telah dapat memisahkan kontrak berdasarkan jenis menggunakan pengelompokan dan mampu mengidentifikasi kelompok-kelompok dari bab yang sama.  Sekarang, dengan menggunakan akumulasi pengetahuan tentang klausa tertentu dari jenis kontrak tertentu, kita dapat memahami apa yang perlu diperbaiki dalam kontrak saat ini.  Mari kita hitung probabilitas anomali untuk setiap kalimat dalam bab ini. <br><br>  Untuk setiap kelompok bab, kami menyimpan semua penawaran yang kami temui dalam set dokumen pelatihan kami dari pengadaan Negara.  Karena  ada cukup banyak dari mereka, untuk setiap kelompok bab model Word2Vec dilatih, dan setiap kalimat dikaitkan dengan vektor jumlah vektor (dari tf-idf) tertimbang (dengan tf-idf) dari kata-kata yang termasuk di dalamnya.  Selanjutnya, vektor kalimat dibagi menjadi kelompok-kelompok yang mirip dengan pembagian vektor untuk dokumen. <br><br>  Sekarang, ketika sebuah proposal datang kepada kami, kami menentukan dari kelompok kontrak mana, dari kelompok bab mana, ke kelompok proposal mana yang paling dekat dan dalam kelompok ini kami menemukan yang terdekat.  Jarak ke penawaran terdekat dapat dianggap sebagai ukuran seberapa abnormal penawaran ini.  Jika jarak ke penawaran terdekat adalah nol, maka penawaran kami tidak abnormal.  Dengan meningkatnya jarak ini, kami semakin ragu bahwa proposal tersebut tidak mengandung anomali.  Kemungkinan besar ada sesuatu yang salah dengannya. <br><br><h3>  6. Apa yang harus dilakukan dengan barang yang hilang </h3><br>  Kami menemukan cara menemukan poin anomali dalam kontrak, tetapi tidak belajar bagaimana menemukan anomali dalam bentuk kalimat atau poin yang hilang.  Anomali semacam itu dapat dengan mudah ditemukan jika kita memiliki templat untuk jenis kontrak ini, tetapi, misalnya, ada kalanya perusahaan lain mengirimi kita kontrak yang dibuat menurut templat kita sendiri. <br>  Untuk mendeteksi anomali seperti itu, kita perlu membuat templat untuk kontrak dengan seperangkat penawaran / klausul wajib, sekali lagi hanya berdasarkan pada kontrak kita. <br><br>  Kami datang dengan dan menguji algoritma untuk membangun template.  Algoritma ini mengasumsikan bahwa dalam basis data kontrak kami terdapat bab serupa dengan set item yang benar, yang ingin kami identifikasi dan tunjukkan sebagai templat. <br><br>  Algoritma: <br><img src="https://habrastorage.org/webt/8q/35/xn/8q35xnsqxvbts0bmro19vjegnji.png"><br><br><ol><li>  Untuk setiap kelompok bab, pra-latih model yang didasarkan pada algoritma MinHashLSH, yang memungkinkan Anda menemukan teks-teks dekat dengan cepat. </li><li>  Untuk setiap bab dari kontrak yang diunduh, temukan daftar paragraf yang dekat dengannya dari database. </li><li>  Berdasarkan paragraf tutup yang diperoleh, buat model bahasa dan pilih sebagai templat paragraf dengan probabilitas tertinggi yang diprediksi oleh model bahasa. </li></ol><br>  Setelah menerima templat untuk setiap bab, kami dapat mengidentifikasi barang-barang yang hilang yang ada dalam templat tetapi tidak ada dalam kontrak saat ini, dan menyarankan pengacara untuk menambahkannya. <br><br><h3>  7. Pipa penuh </h3><br>  Untuk merangkum dan mengumpulkan semua langkah bersama: <br><br><div class="spoiler">  <b class="spoiler_title">I. Pengumpulan, pemrosesan, dan penyimpanan korps kontrak</b> <div class="spoiler_text">  A. Kumpulkan badan kontrak model. <br>  B. Mengklasifikasikan / mengelompokkan kontrak berdasarkan jenis. <br>  C. Memecah kontrak menjadi beberapa bab, paragraf dan kalimat. <br>  D. Hapus entitas yang disebutkan dari kontrak. <br>  E. Kelompokkan bab menurut judulnya. <br>  F. Untuk setiap grup bab, latih Word2Vec. <br>  G. Cocokkan setiap kalimat dengan vektor jumlah vektor dari kata-kata yang dimasukkan di dalamnya. <br>  H. Cluster vektor kalimat yang diterima dan simpan masing-masing cluster secara terpisah untuk dengan cepat mencari vektor terdekat di cluster terdekat. <br>  I. Untuk setiap grup bab, latih MinHashLSH. <br></div></div><br><div class="spoiler">  <b class="spoiler_title">II. Cari anomali dalam dokumen baru</b> <div class="spoiler_text">  <u>A. Menyoroti Poin Abnormal</u> <br>  1. Tentukan jenis kontrak (kelas atau kluster) <br>  2. Bagi dokumen menjadi beberapa bab, paragraf dan kalimat <br>  3. Untuk setiap bab, cari grup bab terkait dalam database <br>  4. Cocokkan setiap kalimat dengan vektor <br>  5. Temukan untuk setiap penawaran kontrak kluster penawaran terdekat, dan di dalamnya tawaran terdekat <br>  6. Hitung jarak antara vektor proposal dan warna kalimat berdasarkan jarak yang diperoleh. <br>  7. Warnai hanya sebagian kalimat, jika dengan yang terdekat mereka berbeda dalam beberapa kata. <br>  8. Sarankan pengeditan dalam bentuk kalimat berikutnya. <br>  <u>B. Cari barang yang hilang</u> <br>  1. Untuk setiap bab, buat templat <br>  2. Nasihat untuk menambahkan item yang hilang dari template <br></div></div><br><h3>  8. Penilaian kualitas </h3><br>  Untuk menilai kualitas solusi untuk masalah tersebut, serangkaian uji kontrak telah dibentuk.  Anomali secara artifisial ditambahkan ke dalam kontrak dalam bentuk menghapus bagian dari kata-kata, memasukkan kata-kata / frasa ke dalam kalimat, memasukkan kalimat dari bab lain, menghapus kalimat.  Kami mengevaluasi kualitas untuk setiap jenis anomali dan memperoleh distribusi kesalahan penentuan berikut: <br> <a href=""><img src="https://habrastorage.org/webt/yc/ui/qc/ycuiqcieu9q55hh_bq5v5wquvqu.png"></a> <a href=""><img src="https://habrastorage.org/webt/vm/p-/iv/vmp-ivtswrpjwkqlqoluzzw1bqu.png"></a> <br><br>  Artinya, algoritma yang diusulkan memungkinkan kami untuk menentukan inklusi yang salah dalam 4 dari 5 kasus.  Perlu dicatat bahwa dengan peningkatan volume sampel pelatihan dan pengelompokan kontrak untuk berbagai jenis, kita bisa mendapatkan peningkatan dalam penilaian ini. <br><br><h3>  9. Visualisasi </h3><br>  Untuk memvisualisasikan solusi untuk masalah tersebut, antarmuka web diimplementasikan di mana kontrak baru dapat dimuat, teks yang akan ditampilkan pada halaman dan penawaran abnormal akan disorot.  Semakin gelap warna kalimatnya, semakin kuat kita yakin bahwa itu adalah anomali.  Karena  kami menemukan penawaran terdekat, kami menyarankan pengeditan untuk pengguna dalam bentuk penawaran berikutnya, atau kami sarankan untuk mengubah bagian spesifik dari penawaran jika yang berikutnya memiliki sedikit perbedaan dengan yang asli. <br><br><img src="https://habrastorage.org/webt/t3/3j/lw/t33jlwllhryjaptkeqv_aqkm4xy.gif"><br><br><h3>  10. Di mana berlaku? </h3><br>  Aplikasi praktis dari layanan yang dihasilkan paling tepat dalam kasus-kasus di mana pemeriksaan "aliran" kemurnian hukum sejumlah besar dokumen dengan jenis yang sama diperlukan: misalnya, ketika mengeluarkan pinjaman jaminan kepada publik (hipotek, pinjaman mobil, dan asuransi).  Misalnya, dalam kasus hipotek, ini adalah kontrak untuk penjualan real estat, real estat dan kontrak asuransi peminjam, kontrak evaluasi properti, dll.  - ratusan halaman teks dalam dokumen masing-masing klien, yang dapat dianalisis hampir secara instan, dan tempat-tempat abnormal akan "disorot" ke pengacara untuk analisis risiko atau penipuan. <br><br>  Jadi, pengacara dari darah dan daging tidak dapat melakukannya tanpa sepenuhnya, tetapi teknologi modern memungkinkan mereka untuk membuat hidup lebih mudah. <br><br>  Materi disiapkan oleh Elena Sannikova ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link">helen_sunny</a> ). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id419837/">https://habr.com/ru/post/id419837/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id419825/index.html">Menguji kinerja beberapa jenis drive di lingkungan virtual</a></li>
<li><a href="../id419829/index.html">Enkripsi kunci default OpenSSH lebih buruk daripada tidak sama sekali</a></li>
<li><a href="../id419831/index.html">Cara Kerja JS: Elemen Kustom</a></li>
<li><a href="../id419833/index.html">Pekerjaan jarak jauh, cara kerjanya</a></li>
<li><a href="../id419835/index.html">Bagaimana memotivasi penulis, bernegosiasi dengan para ahli dan umumnya menulis artikel yang bagus</a></li>
<li><a href="../id419839/index.html">Peretasan ATM NCR Tingkat Rendah</a></li>
<li><a href="../id419843/index.html">GeekUniversity Membuka Pendaftaran di Fakultas Kecerdasan Buatan</a></li>
<li><a href="../id419845/index.html">Rilis 0.4.9: Implikasi</a></li>
<li><a href="../id419847/index.html">Dari 0,01 TFlops HPL ke Inovasi Aplikasi ASC'18</a></li>
<li><a href="../id419849/index.html">Investigasi motherboard: Bagaimana penjahat cyber mencuri nomor ponsel dengan bantuan perusahaan telekomunikasi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>