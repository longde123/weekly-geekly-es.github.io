<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👵🏾 👊🏻 🐴 Comment déboguer et profiler n'importe quel fichier EXE à l'aide de Visual Studio 🚴 🌍 👨🏾‍🏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Avez-vous déjà dû déboguer ou profiler un fichier exécutable (fichier .exe) pour lequel vous n'avez pas de code source ou ne pouvez pas le créer? Alor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment déboguer et profiler n'importe quel fichier EXE à l'aide de Visual Studio</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/microsoft/blog/468333/">  Avez-vous déjà dû déboguer ou profiler un fichier exécutable (fichier .exe) pour lequel vous n'avez pas de code source ou ne pouvez pas le créer?  Alors le type de projet Visual Studio le moins connu, le projet EXE, est fait pour vous! <br><br>  Dans Visual Studio, vous pouvez ouvrir n'importe quel fichier EXE en tant que «projet».  Allez simplement dans <i>Fichier -&gt; Ouvrir -&gt; Projet / Solution</i> et allez dans le <i>fichier .exe</i> .  Comme s'il s'agissait d'un fichier <i>.sln</i> .  Visual Studio ouvrira ce fichier EXE en tant que projet.  Cette fonctionnalité existe depuis longtemps.  Il fonctionne sur toutes les versions actuellement prises en charge de Visual Studio et sa documentation se trouve sur la page <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Débogage</a> de l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">application, qui ne fait pas partie de la solution Visual Studio</a> . <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/cfa/8ff/937/cfa8ff937ae80df9ab2302b84f0226bc.gif"></a> <a name="habracut"></a><br><br><h2>  Débogage </h2><br>  Comme dans un projet normal, vous pouvez commencer le débogage avec F5, qui lancera l'EXE et activera le débogueur.  Si vous souhaitez déboguer le lancement, vous pouvez commencer à utiliser F11, qui lancera l'EXE et s'arrêtera à la première ligne de code utilisateur.  Ces deux options sont disponibles dans le menu contextuel du projet EXE dans la fenêtre de l' <i>Explorateur de solutions</i> , comme indiqué ci-dessous: <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/3aa/a5c/2f3/3aaa5c2f3aa308e6a1fcc3276ab0a536.png"></a> <br><br>  Pour le débogage, vous aurez besoin de symboles, de fichiers PDB, d'EXE et de toutes les DLL qui doivent être déboguées.  Visual Studio suivra le même processus et essaiera d'obtenir les caractères de la même manière que lors du débogage d'un projet normal.  Comme il est peu probable que les fichiers PDB aient été distribués avec le fichier .exe, vous souhaiterez peut-être les trouver dans l'assembly ou, mieux encore, sur le serveur de symboles.  De plus amples informations et recommandations sur l'utilisation des symboles sont disponibles sur ce <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">blog</a> . <br><br>  Pour un débogage efficace, vous aurez également besoin du code source qui a été utilisé pour créer l'EXE, ou même pour plusieurs fichiers qui vous intéressent.  Vous devez rechercher ces fichiers et les ouvrir dans Visual Studio.  Si le code source ne correspond pas au code source qui a été compilé, Visual Studio EXE vous avertira lorsque vous essayez d'insérer un point d'arrêt et le point d'arrêt ne sera pas lié.  Ce comportement peut être modifié dans la <i>fenêtre d'aperçu des paramètres</i> .  Dans la vue des paramètres, cliquez sur le texte du lien <i>Doit correspondre à la source</i> , puis cochez la case pour résoudre la source inappropriée, comme illustré ci-dessous.  Bien sûr, avec une source inappropriée, vous ne savez jamais ce qui se passera, alors utilisez-le uniquement à vos risques et périls. <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/cc9/ae3/d26/cc9ae3d26f2ba18084defcf9d504c6d8.gif"></a> <br><br>  Si l'EXE a été compilé avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SourceLink</a> , les informations sur la source seront incluses dans la PDB et Visual Studio essaiera de charger la source automatiquement.  C'est une très bonne raison d'utiliser SourceLink avec vos projets.  Même si vous avez un ensemble local, vous ne pouvez pas avoir la version utilisée pour construire le binaire.  SourceLink est votre moyen fiable de vous assurer que la bonne source est liée au bon binaire. <br><br>  Si vous ne pouvez pas obtenir le code source, vous avez encore plusieurs options: <br><br><ol><li>  Utilisez l'outil pour décompiler les assemblys en C #, que vous pouvez recompiler dans un nouvel assemblage pour corriger l'ancien. <ol><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">ILSpy</a> est un excellent choix pour cela, mais il existe de nombreux autres outils gratuits et payants. </li></ol><br></li><li>  Utilisez la fenêtre de l'outil de désassemblage dans Visual Studio. <ol><li>  Le document <i>Source Not Found</i> contient un lien pour <i>afficher le démontage</i> .  Gardez à l'esprit que si vous avez l'habitude de déboguer du code C #, le désassemblage des vues est un dernier recours. </li></ol><br></li></ol><br>  Enfin, si vous devez transmettre des arguments à un fichier EXE débogué, vous pouvez les configurer avec d'autres paramètres sur la page <i>Propriétés</i> du <i>projet</i> ( <i>clic droit -&gt; Propriétés</i> dans le nœud de projet dans l'Explorateur de solutions). <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/dfb/c05/7ad/dfbc057ad7cee35566e9004de5668fab.png"></a> <br><br><h2>  Profilage </h2><br>  Vous pouvez également utiliser des outils de profilage avec un fichier .exe en les exécutant à partir du <i>débogage -&gt; Profilage des performances</i> .  Sur la page de lancement des outils de profilage, vous pouvez choisir les outils à utiliser contre l'EXE.  De plus amples informations sur le profilage sont disponibles dans ces documents ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">https://docs.microsoft.com/en-us/visualstudio/profiling/profiling-feature-tour?view=vs-2019</a> ). <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/a60/f0b/b0c/a60f0bb0cb8fa50d1d6c46dbc06c0c9d.gif"></a> <br><br><h3>  Conclusion </h3><br>  C’est tout.  Un bref aperçu de la façon dont vous pouvez utiliser Visual Studio pour déboguer et profiler des applications que vous ne créez pas et qui peuvent même ne pas avoir de code source.  La prochaine fois que vous devrez déboguer ou profiler un fichier .exe, assurez-vous de l'ouvrir en tant que solution dans Visual Studio! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr468333/">https://habr.com/ru/post/fr468333/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr468321/index.html">J'ai survécu à l'épuisement professionnel, ou comment arrêter un hamster dans une roue</a></li>
<li><a href="../fr468323/index.html">Quel bruit aide à se concentrer et à se détendre, et empêche également la perte d'audition dans les accidents graves</a></li>
<li><a href="../fr468327/index.html">Gap - un brillant avenir pour l'indentation dans Flexbox (comme dans Grid)</a></li>
<li><a href="../fr468329/index.html">Le test A / B ne suffit pas</a></li>
<li><a href="../fr468331/index.html">Moments de vie de Stephen Wolfram - créateur de Mathematica, Wolfram | Alpha, un nouveau type de science et bien plus encore</a></li>
<li><a href="../fr468337/index.html">Utilisation de cron pour Android et ajout d'un script shell pour l'exécution automatique au démarrage de l'appareil</a></li>
<li><a href="../fr468339/index.html">Présentation du thème sombre pour Visual Studio App Center</a></li>
<li><a href="../fr468341/index.html">Azure Cloud Shell sur Windows Terminal</a></li>
<li><a href="../fr468343/index.html">Jeff Bezos: «Aller dans l'espace pour le bien de la Terre»</a></li>
<li><a href="../fr468345/index.html">GitHub lance ses tentacules dans la gestion des CI / CD et des artefacts</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>