<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèª‚ÄçüöÄ üí∂ üì∏ Zwei-Faktor-Authentifizierung auf der Site mithilfe eines USB-Tokens. Wie mache ich den Zugriff auf das Serviceportal sicher? üîÄ üîç üí∞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hacker erhielten Zugriff auf den Hauptpostserver des internationalen Unternehmens Deloitte. Das Administratorkonto f√ºr diesen Server war nur kennwortg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Zwei-Faktor-Authentifizierung auf der Site mithilfe eines USB-Tokens. Wie mache ich den Zugriff auf das Serviceportal sicher?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/aktiv-company/blog/412809/"><img src="https://habrastorage.org/webt/ja/81/qz/ja81qz5tdk0x0wkldhshrhivtzw.jpeg"><br><p>  Hacker erhielten Zugriff auf den Hauptpostserver des internationalen Unternehmens Deloitte.  Das Administratorkonto f√ºr diesen Server war nur kennwortgesch√ºtzt. </p><br><p>  Der unabh√§ngige √∂sterreichische Forscher David Wind erhielt eine Belohnung von 5.000 US-Dollar f√ºr das Erkennen von Sicherheitsl√ºcken auf der Google-Intranet-Anmeldeseite. </p><br><p>  91% der russischen Unternehmen verbergen Datenlecks. </p><br><p>  Solche Nachrichten finden Sie fast t√§glich in Internet-Newsfeeds.  Dies ist ein direkter Beweis daf√ºr, dass die internen Dienste des Unternehmens gesch√ºtzt werden m√ºssen. </p><br><p>  Und je gr√∂√üer das Unternehmen, je mehr Mitarbeiter und je komplexer die interne IT-Infrastruktur ist, desto dringlicher ist das Problem des Informationslecks.  Welche Informationen sind f√ºr Angreifer von Interesse und wie k√∂nnen sie gesch√ºtzt werden? </p><a name="habracut"></a><br><p>  Der Verlust welcher Informationen k√∂nnte dem Unternehmen schaden? </p><br><ul><li>  Informationen √ºber Kunden und Transaktionen; </li><li>  technische Informationen zu Produkten und Know-how; </li><li>  Informationen zu Partnern und Sonderangeboten; </li><li>  personenbezogene Daten und Buchhaltung. </li></ul><br><p>  Wenn Sie verstehen, dass einige Informationen aus der obigen Liste nur durch Angabe eines Benutzernamens und eines Kennworts in einem beliebigen Segment Ihres Netzwerks verf√ºgbar sind, sollten Sie dar√ºber nachdenken, die Datensicherheit zu erh√∂hen und sie vor unbefugtem Zugriff zu sch√ºtzen. </p><br><p>  Die Zwei-Faktor-Authentifizierung auf kryptografischen Hardwaremedien (Token oder Smartcards) hat den Ruf, sehr zuverl√§ssig und gleichzeitig recht einfach zu verwenden zu sein. </p><br><p>  Wir schreiben in fast jedem Artikel √ºber die Vorteile der Zwei-Faktor-Authentifizierung.  Weitere Informationen hierzu finden Sie in den Artikeln <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">zum Schutz Ihres Windows-Dom√§nenkontos</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Ihrer</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">E-Mail-Adresse</a> . </p><br><p>  In diesem Artikel zeigen wir Ihnen, wie Sie die Zwei-Faktor-Authentifizierung verwenden, um sich bei den internen Portalen Ihres Unternehmens anzumelden. </p><br><p> Als Beispiel nehmen wir das f√ºr Unternehmen am besten geeignete Rutoken-Modell - das kryptografische USB-Token <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rutoken PKI EDS</a> . </p><br><img src="https://habrastorage.org/webt/qr/_e/-h/qr_e-h_vly-ugr2-0uyafrgkzby.jpeg"><br><br><p>  Beginnen wir mit dem Setup. </p><br><h2>  Schritt 1 - Server-Setup </h2><br><p>  Die Grundlage eines jeden Servers ist das Betriebssystem.  In unserem Fall ist dies Windows Server 2016. Zusammen mit diesem und anderen Betriebssystemen der Windows-Familie wird IIS (Internet Information Services) verteilt. </p><br><p>  IIS ist eine Gruppe von Internet-Servern, einschlie√ülich eines Webservers und eines FTP-Servers.  IIS enth√§lt Anwendungen zum Erstellen und Verwalten von Websites. </p><br><p>  IIS dient zum Erstellen von Webdiensten mithilfe von Benutzerkonten, die von einer Dom√§ne oder Active Directory bereitgestellt werden.  Auf diese Weise k√∂nnen Sie vorhandene Benutzerdatenbanken verwenden. </p><br><p>  Im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ersten Artikel haben</a> wir ausf√ºhrlich beschrieben, wie Sie eine Zertifizierungsstelle auf Ihrem Server installieren und konfigurieren.  Jetzt werden wir nicht im Detail darauf eingehen, aber wir werden davon ausgehen, dass alles bereits eingerichtet ist.  Das HTTPS-Zertifikat f√ºr den Webserver muss korrekt ausgestellt werden.  Es ist besser, es sofort zu √ºberpr√ºfen. </p><br><p>  In Windows Server 2016 ist IIS Version 10.0 integriert. </p><br><p>  Wenn IIS installiert ist, muss es noch korrekt konfiguriert werden. </p><br><p>  Bei der Auswahl der Rollendienste haben wir das <b>Kontrollk√§stchen Standardauthentifizierung</b> aktiviert. </p><br><img src="https://habrastorage.org/webt/6i/j-/ca/6ij-cax2szkbg7hywzcsa9sa3di.png"><br><br><p>  Anschlie√üend aktivierte <b>IIS</b> die <b>Standardauthentifizierung</b> . </p><br><img src="https://habrastorage.org/webt/ig/d7/ew/igd7ewwmllii3idquzqtfr9qlle.png"><br><br><p>  Und gab die Dom√§ne an, in der sich der Webserver befindet. </p><br><img src="https://habrastorage.org/webt/82/9c/fd/829cfdgizcjrp3p0udkph_xzne4.png"><br><br><img src="https://habrastorage.org/webt/8i/es/ok/8iesokqnjpm4vbgdyyppetkm_x0.png"><br><br><p>  Dann haben wir eine Site-Bindung hinzugef√ºgt. </p><br><img src="https://habrastorage.org/webt/jv/dj/d6/jvdjd6udzcigepbhbsqylydmzfw.png"><br><br><p>  Und w√§hlte die SSL-Optionen. </p><br><img src="https://habrastorage.org/webt/wo/sx/s1/wosxs1s7uxpgsrac2nhv5_xi-eg.png"><br><br><p>  Damit ist die Servereinrichtung abgeschlossen. </p><br><p>  Nach diesen Schritten kann nur ein Benutzer die Site betreten, der √ºber ein Token mit einem Zertifikat und einem Token-PIN-Code verf√ºgt. </p><br><p>  Wir erinnern noch einmal daran, dass dem Benutzer gem√§√ü dem <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ersten Artikel</a> ein Token mit Schl√ºsseln und ein Zertifikat ausgestellt wurde, das gem√§√ü einer Vorlage vom Typ <b>Benutzer mit einer Smartcard ausgestellt wurde</b> . </p><br><p>  Nun konfigurieren wir den Computer des Benutzers.  Er sollte die Browser konfigurieren, mit denen er eine Verbindung zu gesch√ºtzten Websites herstellt. </p><br><h2>  Schritt 2 - Einrichten Ihres Computers </h2><br><p>  Nehmen wir zur Vereinfachung an, unser Benutzer hat Windows 10. </p><br><p>  Angenommen, er hat die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Rootoken-Treiber f√ºr Windows</a> installiert. </p><br><p>  Die Installation des Treiberkits ist optional, da die Token-Unterst√ºtzung h√∂chstwahrscheinlich √ºber Windows Update erfolgt. </p><br><p>  Wenn dies jedoch nicht pl√∂tzlich passiert ist, werden alle Probleme durch die Installation des Rootoken Driver Kit f√ºr Windows behoben. </p><br><p>  Verbinden Sie das Token mit dem Computer des Benutzers und √∂ffnen Sie die Rootoken-Systemsteuerung. </p><br><p>  Aktivieren Sie auf der Registerkarte <b>Zertifikate das</b> Kontrollk√§stchen neben dem erforderlichen Zertifikat, wenn es sich nicht lohnt. </p><br><p>  Daher haben wir √ºberpr√ºft, ob das Token funktioniert und das erforderliche Zertifikat enth√§lt. </p><br><img src="https://habrastorage.org/webt/2k/vq/5g/2kvq5gxfi8hbsqj89nqgjau7evg.png"><br><br><p>  Alle Browser au√üer Firefox werden automatisch konfiguriert. </p><br><p>  Besonders mit ihnen m√ºssen Sie nichts tun. </p><br><p>  √ñffnen Sie nun einen beliebigen Browser und geben Sie die Adresse der Ressource ein. </p><br><p>  Bevor die Site geladen wird, wird ein Fenster zur Auswahl eines Zertifikats und anschlie√üend ein Fenster zur Eingabe des Token-PIN-Codes ge√∂ffnet. </p><br><img src="https://habrastorage.org/webt/dq/cv/ji/dqcvjidwlpu3yle54gyaglgcbic.png"><br><br><img src="https://habrastorage.org/webt/ks/dw/yh/ksdwyhim3ncwsxjdtnezor7wm6c.png"><br><br><p>  Wenn Aktiv ruToken CSP standardm√§√üig als kryptografischer Anbieter f√ºr das Ger√§t ausgew√§hlt ist, wird ein weiteres Fenster zur Eingabe des PIN-Codes ge√∂ffnet. </p><br><img src="https://habrastorage.org/webt/bw/zv/9f/bwzv9fqlvfhzbm_d4bl-hankhky.png"><br><br><p>  Und erst nach erfolgreicher Eingabe im Browser wird unsere Seite ge√∂ffnet. </p><br><img src="https://habrastorage.org/webt/j9/i-/9u/j9i-9u0qw0rp9k5vd3wvj7hw7wk.png"><br><br><p>  F√ºr Firefox sollten zus√§tzliche Einstellungen vorgenommen werden. </p><br><p>  W√§hlen Sie in den Browsereinstellungen <b>Datenschutz und Schutz aus</b> .  Klicken Sie im Abschnitt <b>Zertifikate</b> auf <b>Schutzger√§t</b> .  Das Fenster <b>Ger√§te verwalten</b> wird ge√∂ffnet. </p><br><p>  Klicken Sie auf <b>Herunterladen</b> , geben Sie den Namen des Rootoken-EDS und den Pfad C: \ windows \ system32 \ rtpkcs11ecp.dll an. </p><br><img src="https://habrastorage.org/webt/tg/wa/sq/tgwasqow522zptn8fsip_cug31c.png"><br><br><p>  Das ist alles, jetzt wei√ü Firefox, wie man mit dem Token umgeht, und erm√∂glicht es Ihnen, die Site damit zu betreten. </p><br><img src="https://habrastorage.org/webt/m5/qn/im/m5qnimykx2kaprifthdovutzfay.png"><br><br><p>  Die Token-Anmeldung auf Websites funktioniert √ºbrigens auch auf Macs in Safari, Chrome und Firefox. </p><br><p>  Sie m√ºssen nur das Schl√ºsselbund- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Unterst√ºtzungsmodul</a> von der Rutoken-Site installieren und das Zertifikat auf dem darin enthaltenen Token anzeigen. </p><br><img src="https://habrastorage.org/webt/xo/1q/ra/xo1qrarfrol_jsvfmiyuwo3rrpy.png"><br><br><p>  Sie m√ºssen Safari, Chrome, Yandex und andere Browser nicht einrichten, sondern m√ºssen die Site nur in einem dieser Browser √∂ffnen. </p><br><img src="https://habrastorage.org/webt/bb/nf/ys/bbnfysjr2vm-rixilgcxkh_xjq4.png"><br><br><p>  Der Firefox-Browser ist fast genauso konfiguriert wie unter Windows (Einstellungen - Erweitert - Zertifikate - Sicherheitsger√§te).  Nur der Bibliothekspfad unterscheidet sich geringf√ºgig von / Library / Akitv Co / Rutoken ECP / lib / librtpkcs11ecp.dylib. </p><br><h2>  Schlussfolgerungen </h2><br><p>  Wir haben Ihnen gezeigt, wie Sie die Zwei-Faktor-Authentifizierung auf Websites mithilfe kryptografischer Token konfigurieren.  Wie immer brauchten wir daf√ºr keine zus√§tzliche Software, au√üer f√ºr die Rootoken-Systembibliotheken. </p><br><p>  Sie k√∂nnen dieses Verfahren mit jeder Ihrer internen Ressourcen ausf√ºhren und Benutzergruppen flexibel konfigurieren, die wie an anderer Stelle in Windows Server Zugriff auf die Site haben. </p><br><h2>  Verwenden Sie ein anderes Betriebssystem f√ºr den Server? </h2><br><p>  Wenn Sie m√∂chten, dass wir √ºber das Einrichten anderer Betriebssysteme schreiben, schreiben Sie dar√ºber in den Kommentaren zum Artikel. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de412809/">https://habr.com/ru/post/de412809/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de412799/index.html">Immer in Kontakt: Mango Talker - Messenger und Softphone</a></li>
<li><a href="../de412801/index.html">Studie: Hacker stehlen Millionen von Dollar aufgrund der geringen Sicherheit des Kryptow√§hrungsaustauschs</a></li>
<li><a href="../de412803/index.html">Ein tieferer Blick auf die verschiedenen intelligenten Vertragsplattformen</a></li>
<li><a href="../de412805/index.html">Meine Schritte, Erfolge und Fehler in der Spielentwicklungswelt am Beispiel eines Spielbot in Telegram</a></li>
<li><a href="../de412807/index.html">Hinweise des IoT-Anbieters. Anstand</a></li>
<li><a href="../de412811/index.html">C DevTools on Elbrus: Lebendige Berichte von HolyJS 2018 Piter</a></li>
<li><a href="../de412813/index.html">Unn√∂tige HTTP-Header</a></li>
<li><a href="../de412815/index.html">Web Manager OpenVPN-Clientschl√ºssel VPNFace Lite</a></li>
<li><a href="../de412819/index.html">Freitag Aufw√§rmen f√ºr den Geist: Perfektes Karma f√ºr Habrahabr</a></li>
<li><a href="../de412821/index.html">Sehen, sehen, schauen: Was ist der Unterschied?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>