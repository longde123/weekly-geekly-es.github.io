<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õµÔ∏è üïå üññ LED alamat berwarna-warni untuk tahun baru tanpa pemrograman dan solder ü§® ü§£ üßëüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tahun Baru akan segera tiba, tetapi suasana hati karena berbagai alasan kadang-kadang bukan Tahun Baru, dan di sini iluminasi Tahun Baru datang untuk ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>LED alamat berwarna-warni untuk tahun baru tanpa pemrograman dan solder</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481566/"><p> Tahun Baru akan segera tiba, tetapi suasana hati karena berbagai alasan kadang-kadang bukan Tahun Baru, dan di sini iluminasi Tahun Baru datang untuk menyelamatkan.  Saya ingin berbicara tentang pengalaman saya dengan pita dan pita LED yang beralamat.  Saya tidak mungkin menemukan Amerika, tetapi ternyata indah dan murah. </p><br><p><img src="https://habrastorage.org/webt/eu/ks/bo/euksbogl1rav5lvy75cz1xuzkrc.gif"><br>  Saya akan mempertimbangkan dua opsi - secara terpisah tanpa otomatisasi rumah yang ada dan bekerja bersama dengan "rumah pintar". </p><a name="habracut"></a><br><p>  Cukup banyak informasi terstruktur telah muncul pada kaset LED yang dapat dialamatkan, dan karena itu Anda dapat dengan mudah membuat pilihan.  Sebagai contoh, sebelum membeli, saya dengan hati-hati menonton video terkait dari saluran <a href="https://youtu.be/tXvtxwK3jRk%3Ft%3D438">DrZzs (dalam bahasa Inggris)</a> dan <a href="https://youtu.be/QnvircC22hU%3Ft%3D213">The Hook Up (dalam bahasa Inggris)</a> dan membuat kesimpulan tentang biaya kaset yang diperlukan - karena hasil kerja dari kaset dalam kasus saya adalah penyorotan satu warna. </p><br><p>  Dia memilih dua opsi murah dari Tiongkok: </p><br><ol><li>  <a href="https://www.aliexpress.com/item/32682015405.html">WS2812B Tape - 300 LED</a> - 5 meter. </li><li>  <a href="https://www.aliexpress.com/item/32444382333.html">WS2811 Garland - 50 LED</a> x 3 buah - sekitar 10 meter (3 x 3,3 m) </li></ol><br><p><img src="https://habrastorage.org/webt/0x/gh/8o/0xgh8oibngraaijuiyih_bw-8ni.jpeg"><br>  <em>Piksel alamat di interior kantor</em> </p><br><p>  Dalam kedua kasus, 5 volt diperlukan untuk memberi daya pada kaset saya.  Saya tidak mengandalkan daya, tetapi memasang unit catu daya <a href="https://meanwellpower.ru/istochnik-pitaniya-ac-dc-mean-well-rs-150-5">Mean Well RS-150-5 yang</a> ada dan terjangkau. </p><br><p><img src="https://habrastorage.org/webt/hj/eg/v5/hjegv5csxbptdn1x0_4z4t9gxmy.jpeg"><br>  <em>Unit catu daya Berarti Yah RS-150-5</em> </p><br><p>  Dan bagian terpenting untuk mengelola program Tahun Baru adalah controller.  Saya memilih mikrokontroler ESP8266 dari pabrikan Cina Espressif Systems, yaitu, dalam kasus saya, saya menggunakan papan <a href="https://www.aliexpress.com/item/32529101036.html">mini LOLIN (WEMOS) D1 yang murah</a> . </p><br><p><img src="https://habrastorage.org/webt/7u/4m/6t/7u4m6thz8kgpqlriu89ezskz-he.jpeg"><br>  <em>LOLIN (WEMOS) D1 mini shrink terhubung ke pita di pohon Natal</em> </p><br><h2 id="hardware">  Perangkat keras </h2><br><p>  Untuk pita dan karangan bunga ada pilihan yang sangat luas - ada banyak chipset yang berbeda dan Anda perlu melihat sehingga pengontrol mendukung pita yang akan Anda beli. <br>  Tugas saya adalah menggunakan kaset piksel alamat sebagai bagian dari otomatisasi berdasarkan platform open-source <a href="https://www.home-assistant.io/">Home Assistant</a> .  Pilihan paling terjangkau untuk ini adalah menggunakan ESP8266.  Ada <a href="https://blakadder.github.io/templates/light.html">database besar pengendali buatan pabrik yang kompatibel</a> (bagian Pengontrol LED), yang disusun oleh penulis firmware Tasmota. <br>  Menurut pendapat saya, Tasmota adalah firmware yang baik, tetapi untuk piksel terkontrol dan <a href="https://habr.com/ru/post/480690/">motor stepper,</a> itu tidak terlalu cocok. </p><br><p><img src="https://habrastorage.org/webt/xv/ah/o-/xvaho-hbz991uoxukkboyrdj_a0.jpeg"><br>  <em>LOLIN (WEMOS) D1 mini terhubung ke karangan bunga</em> </p><br><h2 id="software">  Perangkat lunak </h2><br><h3 id="variant-bez-domashney-avtomatizacii">  Opsi tanpa otomatisasi rumah </h3><br><p>  Jika Anda ingin memulai cepat ‚Äútanpa registrasi dan SMS‚Äù, maka solusi paling masuk akal adalah firmware ESP8266 oleh proyek WLED <a href="https://github.com/Aircoookie/WLED">(WiFi Lighting Effects Driver)</a> .  Firmware memiliki aplikasi sendiri yang memungkinkan Anda untuk dengan mudah mengontrol LED, serta daftar besar efek yang telah ditentukan untuk kaset alamat dan karangan bunga.  WLED juga mendukung banyak protokol manajemen, termasuk <abbr title="Pesan Antrian Transport Telemetri">MQTT</abbr> , jika perlu. <br>  Menyolder untuk menghubungkan kaset ke WEMOS tidak diperlukan. </p><br><p><img src="https://habrastorage.org/webt/y0/u4/1c/y0u41c5hp2qj17vjcwm3adynbc8.png"><br>  <em>Antarmuka WLED (Pengandar Efek Pencahayaan WiFi)</em> </p><br><h3 id="adresnaya-illyuminaciya-v-sostave-umnogo-doma-na-baze-home-assistant">  Penerangan yang ditargetkan sebagai bagian dari rumah pintar berdasarkan Home Assistant </h3><br><p>  Perlu dicatat bahwa WLED baru-baru ini (pada bulan Desember 2019) muncul <a href="https://www.home-assistant.io/integrations/wled/">integrasi penuh untuk Home Assistant</a> . <br>  Tapi, sejak saya terlibat dalam karangan bunga pada bulan November, sebelum integrasi ini muncul, Home Assistant &lt;--&gt; Koneksi MQTT WLED bagi saya buggy. </p><br><p><img src="https://habrastorage.org/webt/84/zs/iz/84zsiziqm9ymyidmesj2rqorn4q.png"><br>  <em>Panel Kontrol ESPHome</em> </p><br><p>  Untuk Home Assistant, ada firmware <a href="https://esphome.io/index.html">ESPHome</a> asli yang bekerja dengan Home Assistant tanpa MQTT dan juga <a href="https://esphome.io/components/light/fastled.html">mendukung LED alamat</a> . </p><br><div class="spoiler">  <b class="spoiler_title">Berikut adalah daftar chipset yang didukung.</b> <div class="spoiler_text"><p>  Tanpa jam: <br>  NEOPIXEL <br>  WS2811 <br>  WS2811_400 (WS2811 dengan clock rate 400kHz) <br>  WS2812B <br>  WS2812 <br>  WS2813 <br>  WS2852 <br>  APA104 <br>  APA106 <br>  Gw6205 <br>  GW6205_400 (GW6205 dengan clock rate 400kHz) <br>  LPD1886 <br>  LPD1886_8BIT (LPD1886 dengan nilai saluran warna 8-bit) <br>  PL9823 <br>  SK6812 <br>  SK6822 <br>  TM1803 <br>  TM1804 <br>  TM1809 <br>  TM1829 <br>  UCS1903B <br>  UCS1903 <br>  UCS1904 <br>  UCS2903 </p><br><p>  SPI: <br>  APA102 <br>  Dotstar <br>  LPD8806 <br>  P9813 <br>  SK9822 <br>  SM16716 <br>  WS2801 <br>  WS2803 </p></div></div><br><p>  Karena saya menggunakan gambar <a href="https://www.home-assistant.io/hassio/">Hass.io</a> , saya menggunakan opsi paling sederhana untuk mengkompilasi firmware - <a href="https://github.com/esphome/hassio">add-on Add-On ESPHome Hass.io.</a> </p><br><p><img src="https://habrastorage.org/webt/vq/1_/or/vq1_orjpjkcqkmcs-f71-e0k34a.png"><br>  <em>Jendela editor firmware ESPHome</em> </p><br><p>  Firmware dan pita firmware yang dihasilkan: </p><br><div class="spoiler">  <b class="spoiler_title">ws2811_string.yaml</b> <div class="spoiler_text"><pre><code class="plaintext hljs">substitutions: devicename: ws2811_string upper_devicename: WS2811 string esphome: name: $devicename platform: ESP8266 board: d1_mini wifi: ssid: "XXX" password: "XXX" # Enable fallback hotspot (captive portal) in case wifi connection fails ap: ssid: "WS2811 string Fallback Hotspot" password: "XXX" captive_portal: web_server: port: 80 css_url: http://192.168.15.10:8123/local/webserver-v1.min.css #   -        https://github.com/esphome/issues/issues/648 js_url: http://192.168.15.10:8123/local/webserver-v1.min.js # Enable Home Assistant API api: # Enable OTA Access ota: # Enable verbose logging over serial logger: light: - platform: fastled_clockless chipset: WS2811 pin: D4 num_leds: 150 name: " WS2811" effects: - addressable_rainbow: name: Rainbow Effect With Custom Values speed: 30 width: 150 - addressable_color_wipe: name: Color Wipe Effect With Custom Values colors: - red: 10% green: 10% blue: 100% num_leds: 1 - red: 0% green: 0% blue: 0% num_leds: 1 add_led_interval: 100ms reverse: False - random: name: "My Fast Random Effect" transition_length: 4s update_interval: 5s - strobe: name: Strobe Effect With Custom Values colors: - state: True brightness: 100% red: 100% green: 90% blue: 0% duration: 500ms - state: False duration: 250ms - state: True brightness: 100% red: 0% green: 100% blue: 0% duration: 500ms - addressable_scan: name: Scan Effect With Custom Values move_interval: 60ms - addressable_fireworks: name: Fireworks Effect With Custom Values update_interval: 32ms spark_probability: 10% use_random_color: false fade_out_rate: 120 #     sensor: - platform: uptime id: uptime_sec - platform: wifi_signal name: ${upper_devicename} WiFi Signal id: wifis_signal update_interval: 900s text_sensor: - platform: template name: ${upper_devicename} Uptime lambda: |- int seconds = (id(uptime_sec).state); int days = seconds / (24 * 3600); seconds = seconds % (24 * 3600); int hours = seconds / 3600; seconds = seconds % 3600; int minutes = seconds / 60; seconds = seconds % 60; return { (String(days) +"d " + String(hours) +"h " + String(minutes) +"m "+ String(seconds) +"s").c_str() }; icon: mdi:clock-start update_interval: 113s - platform: template name: ${upper_devicename} Wifi Strength icon: "mdi:wifi" lambda: |- if (id(wifis_signal).state &gt; -50 ) { return {"Excellent"}; } else if (id(wifis_signal).state &gt; -60) { return {"Good"}; } else if (id(wifis_signal).state &gt; -70) { return {"Fair"}; } else if (id(wifis_signal).state &lt; -70) { return {"Weak"}; } else { return {"None"}; } update_interval: 900s - platform: version name: ${upper_devicename} Version - platform: template name: ${upper_devicename} MAC Address lambda: 'return {WiFi.macAddress().c_str()};' icon: mdi:fingerprint update_interval: 1d switch: - platform: restart name: ${upper_devicename} Restart</code> </pre> </div></div><br><div class="spoiler">  <b class="spoiler_title">ws2811_strip.yaml</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">substitutions: devicename: ws2811_strip upper_devicename: WS2811 strip esphome: name: $devicename platform: ESP8266 board: d1_mini_lite wifi: ssid: "XXX" password: "XXX" # Enable fallback hotspot (captive portal) in case wifi connection fails ap: ssid: "WS2811 strip Fallback Hotspot" password: "XXX" captive_portal: web_server: port: 80 css_url: http://192.168.15.10:8123/local/webserver-v1.min.css #   -        https://github.com/esphome/issues/issues/648 js_url: http://192.168.15.10:8123/local/webserver-v1.min.js # Enable Home Assistant API api: # Enable OTA Access ota: # Enable verbose logging over serial logger: light: - platform: fastled_clockless chipset: WS2811 pin: D4 num_leds: 300 rgb_order: GRB name: " WS2811" effects: - addressable_rainbow: name: Rainbow Effect With Custom Values speed: 30 width: 300 - addressable_color_wipe: name: Color Wipe Effect With Custom Values colors: - red: 10% green: 10% blue: 100% num_leds: 1 - red: 0% green: 0% blue: 0% num_leds: 1 add_led_interval: 100ms reverse: False - random: name: "My Fast Random Effect" transition_length: 4s update_interval: 5s - strobe: name: Strobe Effect With Custom Values colors: - state: True brightness: 100% red: 100% green: 90% blue: 0% duration: 500ms - state: False duration: 250ms - state: True brightness: 100% red: 0% green: 100% blue: 0% duration: 500ms - addressable_scan: name: Scan Effect With Custom Values move_interval: 60ms - addressable_fireworks: name: Fireworks Effect With Custom Values update_interval: 32ms spark_probability: 10% use_random_color: false fade_out_rate: 120 #     sensor: - platform: uptime id: uptime_sec - platform: wifi_signal name: ${upper_devicename} WiFi Signal id: wifis_signal update_interval: 900s text_sensor: - platform: template name: ${upper_devicename} Uptime lambda: |- int seconds = (id(uptime_sec).state); int days = seconds / (24 * 3600); seconds = seconds % (24 * 3600); int hours = seconds / 3600; seconds = seconds % 3600; int minutes = seconds / 60; seconds = seconds % 60; return { (String(days) +"d " + String(hours) +"h " + String(minutes) +"m "+ String(seconds) +"s").c_str() }; icon: mdi:clock-start update_interval: 113s - platform: template name: ${upper_devicename} Wifi Strength icon: "mdi:wifi" lambda: |- if (id(wifis_signal).state &gt; -50 ) { return {"Excellent"}; } else if (id(wifis_signal).state &gt; -60) { return {"Good"}; } else if (id(wifis_signal).state &gt; -70) { return {"Fair"}; } else if (id(wifis_signal).state &lt; -70) { return {"Weak"}; } else { return {"None"}; } update_interval: 900s - platform: version name: ${upper_devicename} Version - platform: template name: ${upper_devicename} MAC Address lambda: 'return {WiFi.macAddress().c_str()};' icon: mdi:fingerprint update_interval: 1d switch: - platform: restart name: ${upper_devicename} Restart</code> </pre> </div></div><br><p>  Setelah menambahkan perangkat yang dihasilkan ke Home Assistant di antarmuka, Anda dapat melihat dan mengatur opsi efek. </p><br><p><img src="https://habrastorage.org/webt/on/56/ah/on56ah882ioqsx4950ppkg-mlec.png"><br>  <em>Antarmuka Asisten Rumah</em> </p><br><p>  Juga, efek dapat digunakan dalam otomatisasi.  Misalnya, ketika Anda membuka pintu selama 30 detik, satu efek, 10 detik, efek lain, dan kemudian matikan agar tidak mengganggu.  Tapi ada satu syarat: penyertaan hanya saat jalan sudah senja. </p><br><div class="spoiler">  <b class="spoiler_title">automations.yaml</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">################################################### # # # WS2811 :    # # # ################################################### - alias: WS2811 string trigger: - platform: state entity_id: binary_sensor.dver from: 'off' to: 'on' condition: - condition: numeric_state entity_id: 'sensor.osveshchennost_u_okna' below: 1500 # action: - service: homeassistant.turn_on data: entity_id: group.new_year #light.girlianda_ws2811 brightness: 255 effect: Rainbow Effect With Custom Values - delay: '00:00:25' - service: homeassistant.turn_on data: entity_id: group.new_year brightness: 255 effect: Color Wipe Effect With Custom Values - delay: '00:00:13' - service: homeassistant.turn_off entity_id: group.new_year - alias: Table lamp ON trigger: - platform: state entity_id: binary_sensor.dver from: 'off' to: 'on' condition: - condition: numeric_state entity_id: 'sensor.osveshchennost_u_okna' below: 90 # action: - service: homeassistant.turn_on entity_id: switch.potolochnaia_lampa - alias: Table lamp OFF trigger: - platform: state entity_id: binary_sensor.dver from: 'on' to: 'off' condition: [] action: - service: homeassistant.turn_off entity_id: switch.potolochnaia_lampa</code> </pre> </div></div><br><p><img src="https://habrastorage.org/webt/gy/ci/o9/gycio9hm7fhzga6hjjxbn3yb2eg.jpeg"><br>  <em>Pohon Natal dengan strip alamat LED</em> </p><br><h2 id="itog">  Ringkasan </h2><br><p>  Seperti yang Anda lihat, dengan ketangkasan tertentu, Anda dapat dengan murah mengatur pencahayaan Tahun Baru dan memasukkannya ke dalam sistem "rumah pintar" yang ada atau menggunakannya secara terpisah tanpa otomatisasi rumah menggunakan aplikasi terpisah pada ponsel cerdas Anda. </p><br><p>  Rincian lebih lanjut dapat ditemukan di <a href="https://github.com/empenoso/diy-holiday-lighting">GitHub</a> . </p><br><p>  Dikirim oleh: <a href="https://www.facebook.com/mikhail.shardin">Mikhail Shardin</a> , <br>  23 Desember 2019 </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id481566/">https://habr.com/ru/post/id481566/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id481554/index.html">Bagaimana cara saya menempuh Master Online Sains dalam Ilmu Komputer, dan kepada siapa ini mungkin tidak cocok</a></li>
<li><a href="../id481556/index.html">Antrian Tugas PostgreSQL</a></li>
<li><a href="../id481560/index.html">Intisari bahan-bahan segar dari dunia front-end untuk minggu terakhir No. 394 (15 - 22 Desember 2019)</a></li>
<li><a href="../id481562/index.html">Tes panas Raspberry Pi 4</a></li>
<li><a href="../id481564/index.html">PHP Digest No. 170 (9-23 Desember 2019)</a></li>
<li><a href="../id481568/index.html">Acara digital di Moskow dari 23 hingga 29 Desember</a></li>
<li><a href="../id481570/index.html">Hari ini pukul 17:00 webinar DevOps: Tools and Numbers akan diadakan</a></li>
<li><a href="../id481572/index.html">Tumpukan teknologi web baru saya untuk tahun 2020</a></li>
<li><a href="../id481574/index.html">Hosting sendiri sumber daya pihak ketiga: baik, buruk, jahat</a></li>
<li><a href="../id481576/index.html">Frontend 2019: hasil tahun ini</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>