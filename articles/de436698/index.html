<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤸🏽 🆘 🤰🏻 Auf wie viele Arten kann ich Fakultät in Schema schreiben? 👨🏾‍🎤 👆🏽 🕳️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Böse Sprachen behaupten, dass funktionale Programmiersprachen „faktorielle Schreibsprachen“ sind. Dies wird am häufigsten als Haskell-Sprache definier...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Auf wie viele Arten kann ich Fakultät in Schema schreiben?</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/436698/"><p> Böse Sprachen behaupten, dass funktionale Programmiersprachen „faktorielle Schreibsprachen“ sind.  Dies wird am häufigsten als Haskell-Sprache definiert, aber wir beginnen mit der funktionalen Sprache, die sowohl Haskell als auch eine Teilmenge der funktionalen Programmierwerkzeuge für viele andere Sprachen stark beeinflusst hat - Schema.  Zumindest kamen <code>map</code> und <code>for-each</code> , <code>filter</code> und <code>reduce</code> sowie <code>apply</code> und <code>eval</code> zu unseren bevorzugten Programmiersprachen, wenn nicht aus Schema, dann von dort. </p><br><p>  Betrachten Sie <em>einige</em> Möglichkeiten, um faktorielle Berechnungen zu schreiben.  Gleichzeitig erhalten Sie eine Art Ode an die Programmiersprache Scheme.  Ich denke, diese wunderbare Sprache hat es verdient. </p><br><p>  Ich habe 10 Optionen zum Schreiben von Funktionsdefinitionen, die auf drei Hauptberechnungsmethoden reduziert werden können: den traditionellen linearen rekursiven Berechnungsprozess, die Iteration, die Erzeugung einer Folge von Zahlen, gefolgt von der Faltungsmultiplikation.  Ich schlage vor, diese Optionen genauer zu betrachten.  Auf dem Weg werden wir uns mit folgenden Themen befassen: Optimierung der Schwanzrekursion, Funktionen höherer Ordnung und Metaprogrammierung, verzögerte Berechnungen, endlose Listen, Memoisierung, eine Möglichkeit zum Erstellen einer statischen Variablen im Schema und Hygienemakros. </p><a name="habracut"></a><br><p>  Für Experimente verwendeten wir das gute alte Dialektschema <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">R5RS</a> und das populäre Prinzip der bildenden Kunst „minimale Mittel - maximale Eindrücke“. </p><br><p>  Alle Schema-Beispiele wurden in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">DrRacket</a> 6.2 im R5RS-Modus erstellt.  Laufzeitmessungen wurden in <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Guile</a> 2.0 in der OpenSUSE Leap 15-Betriebssystemumgebung durchgeführt. </p><br><p>  Zu Beginn können Sie eine rekursive Definition von Fakultät verwenden und einfach die Formel für Schema neu schreiben: </p><br><pre> <code class="plaintext hljs">(define (factorial-classic n) (if (zero? n) 1 (* n (factorial-classic (- n 1)))))</code> </pre> <br><p>  Das Ergebnis war eine Definition einer Funktion (in Bezug auf das Schema - eine Prozedur, obwohl es tatsächlich eine Funktion ist) zur Berechnung der Fakultät, die in unzähligen Programmierhandbüchern zu sehen ist, beginnend mit dem unsterblichen Buch von H. Abelson und D. Sassman „Struktur und Interpretation von Computerprogrammen“. . </p><br><p>  Sie können diesen Code folgendermaßen lesen und verstehen: Fakultät <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> n </script>  ist da <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3"><span class="MJXp-mn" id="MJXp-Span-4">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-31" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> 1 </script>  wenn <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-5"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">n</span><span class="MJXp-mo" id="MJXp-Span-7" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-8">0</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.656ex" height="1.937ex" viewBox="0 -728.2 2435.1 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3D" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1934" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> n = 0 </script>  sonst - <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-9"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">n</span><span class="MJXp-mtext" id="MJXp-Span-11">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-13">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15">t</span><span class="MJXp-mo" id="MJXp-Span-16" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">n</span><span class="MJXp-mo" id="MJXp-Span-18" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-19">1</span><span class="MJXp-mo" id="MJXp-Span-20" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-21" style="margin-left: 0.111em; margin-right: 0em;">!</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.019ex" height="2.66ex" viewBox="0 -832 6035.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-63" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-64" x="1284" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6F" x="1807" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-74" x="2293" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-28" x="2654" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="3044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-2212" x="3866" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-31" x="4867" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-29" x="5367" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-21" x="5757" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> n \ cdot (n-1)! </script>  .  Somit entspricht dieser Code der rekursiven Definition von Fakultät, die in der Mathematik übernommen wurde.  Das einzige, was wir nicht überprüfen Zugehörigkeit <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-22"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> n </script>  nicht negative Zahlen. </p><br><p>  Da der obige Code rekursiv ist, enthält er eine offensichtliche Einschränkung des Werts <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-24"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> n </script>  : rekursive Aufrufdaten werden bis auf dem Stapel gesammelt <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-26"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> n </script>  wird 0 nicht erreichen. Dies kann einen Stapelüberlauf im Allgemeinen verursachen <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-28"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-8"> n </script>  . </p><br><p>  Wie kann ich diese Einschränkung aufheben?  Es ist notwendig, die Schwanzrekursion zu optimieren: Schreiben Sie den Code neu, so dass der rekursive Aufruf zum <em>Schwanz wird</em> (d. H. Der letzte in der Prozedur).  Auf diese Weise kann der Scheme-Interpreter die Optimierung durchführen. Ersetzen Sie die rekursive Berechnung durch die iterative. </p><br><p>  Wenn Sie die Empfehlungen der Autoren des obigen Buches verwenden, können Sie Folgendes erhalten: </p><br><pre> <code class="plaintext hljs">(define (factorial-classic-tco n) (define (iteration product counter) (if (&gt; counter n) product (iteration (* product counter) (+ counter 1)))) (iteration 1 1))</code> </pre> <br><p>  Dieser Code ist ein gängiges Beispiel, und beginnend mit dem Buch „Struktur und Interpretation von Computerprogrammen“ wird in der Regel die Optimierung der Schwanzrekursion erläutert. </p><br><p>  Es war ein Klassiker.  Aber Schema ist Flexibilität selbst. Ist es möglich, dasselbe grundlegend anders zu schreiben?  Und am liebsten noch kürzer?  Zum Beispiel laut Eintrag <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-30"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">n</span><span class="MJXp-mo" id="MJXp-Span-32" style="margin-left: 0.111em; margin-right: 0em;">!</span><span class="MJXp-mo" id="MJXp-Span-33" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-34">1</span><span class="MJXp-mtext" id="MJXp-Span-35">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39">t</span><span class="MJXp-mn" id="MJXp-Span-40">2</span><span class="MJXp-mtext" id="MJXp-Span-41">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-43">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45">t</span><span class="MJXp-mn" id="MJXp-Span-46">3</span><span class="MJXp-mtext" id="MJXp-Span-47">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">t</span><span class="MJXp-mtext" id="MJXp-Span-52">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-53">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">s</span><span class="MJXp-mtext" id="MJXp-Span-59">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-60">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="36.127ex" height="2.057ex" viewBox="0 -780.1 15554.6 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-21" x="600" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3D" x="1156" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-31" x="2213" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-63" x="2963" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-64" x="3397" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6F" x="3920" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-74" x="4406" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-32" x="4767" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-63" x="5518" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-64" x="5951" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6F" x="6475" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-74" x="6960" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-33" x="7322" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-63" x="8072" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-64" x="8506" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6F" x="9029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-74" x="9515" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-63" x="10376" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-64" x="10810" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6F" x="11333" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-74" x="11819" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-73" x="12180" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-63" x="13150" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-64" x="13583" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6F" x="14107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-74" x="14592" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="14954" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> n! = 1 \ cdot 2 \ cdot 3 \ cdot ~ \ cdots ~ \ cdot n </script>  bilden eine Sequenz aus <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-66"><span class="MJXp-mn" id="MJXp-Span-67">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-31" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-10"> 1 </script>  vorher <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-68"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-69">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-11"> n </script>  (oder von <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-70"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-12"> n </script>  vorher <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-72"><span class="MJXp-mn" id="MJXp-Span-73">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="1.937ex" viewBox="0 -728.2 500.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-31" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-13"> 1 </script>  ) und dann durch Multiplikation kollabieren?  Glücklicherweise ist dies in Schema dank der integrierten <code>apply</code> Prozedur, die eine Prozedur mit einer beliebigen Anzahl von Argumenten auf die Liste <code>apply</code> , recht einfach: </p><br><pre> <code class="plaintext hljs">(define (iota n) (define (iteration sequence i) (if (&gt; in) sequence (iteration (cons i sequence) (+ i 1)))) (iteration '() 1)) (define (factorial-fold n) (apply * (iota n)))</code> </pre> <br><p>  Das Schema ist berühmt für seine Bequemlichkeit für symbolische Berechnungen aufgrund der "Einheit von Code und Daten" (wie sie manchmal über die Sprachen der Lisp-Familie sagen).  Wir verwenden diese Funktion: Wir bilden einen Ausdruck zur Berechnung der Fakultät einer Zahl <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-74"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-14"> n </script>  und dann berechnen: </p><br><pre> <code class="plaintext hljs">(define (factorial-eval n) (define expression `(* ,@(iota n))) (eval expression (interaction-environment)))</code> </pre> <br><p>  Das Symbol "einfaches Anführungszeichen" bedeutet Quasiquotation.  Ohne Quasi-Zitierung könnte ein Ausdruck zur weiteren Berechnung unter Verwendung des Codes <code>(cons '* (iota n))</code> .  Ein einfaches Anführungszeichen (Zitat, Zitat) bedeutet, dass <code>*</code> genau als Name (Symbol) und nicht als entsprechender Wert (hier - die Prozedur) in den Ausdruck eingesetzt werden muss.  Also mit <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-76"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">n</span><span class="MJXp-mo" id="MJXp-Span-78" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-79">3</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.656ex" height="1.937ex" viewBox="0 -728.2 2435.1 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3D" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-33" x="1934" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-15"> n = 3 </script>  wir bekommen <code>(* 3 2 1)</code> .  Diese Liste ist ein Ausdruck im Schema.  Sein Wert kann in einer geeigneten Umgebung ausgeführt werden, am besten in einer Umgebung <code>(interaction-environment)</code> die die integrierten Prozeduren und die von uns im Programm definierten Prozeduren enthält.  Tatsächlich ist es das, was wir im Körper der <code>factorial-eval</code> tun. </p><br><p>  Das Schema unterstützt das verzögerte Rechnen.  Haskell, der stark vom Schema beeinflusst wurde, verwendet ein faules Berechnungsmodell, d.h.  berechnet den Wert des Ausdrucks erst, wenn das Ergebnis dieser Berechnungen beansprucht wird.  Dies ermöglicht es Programmen, solche besonderen Datenstrukturen wie endlose Listen zu haben.  Wenn ihnen nur der für weitere Berechnungen erforderliche Teil entnommen wird, läuft das Programm nicht in Zyklen ab: </p><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; take <span class="hljs-number"><span class="hljs-number">4</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span> ..] [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>]</code> </pre> <br><p>  Der Ausdruck <code>[1 ..]</code> erzeugt eine unendliche Liste von ganzen Zahlen.  Der <code>take 4</code> Ausdruck erhält die ersten 4 Elemente aus dieser Liste.  Da nachfolgende Listenelemente nicht beansprucht werden, werden sie nicht berechnet. </p><br><p>  Bei Haskell bekommen <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-80"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">n</span><span class="MJXp-mo" id="MJXp-Span-82" style="margin-left: 0.111em; margin-right: 0em;">!</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.042ex" height="2.057ex" viewBox="0 -780.1 879 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-21" x="600" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-16"> n! </script>  Aus einer endlosen Liste können Sie folgendermaßen schreiben: </p><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">factorials</span></span> :: [<span class="hljs-type"><span class="hljs-type">Integer</span></span>] factorials = next <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> next n fact = <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> n' = n + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> fact : next n' (fact * n') factorial :: <span class="hljs-type"><span class="hljs-type">Integer</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Integer</span></span> factorial n = factorials !! fromIntegral n</code> </pre> <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; take <span class="hljs-number"><span class="hljs-number">7</span></span> $ factorials [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">24</span></span>,<span class="hljs-number"><span class="hljs-number">120</span></span>,<span class="hljs-number"><span class="hljs-number">720</span></span>] ghci&gt; factorial <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">720</span></span></code> </pre> <br><p>  Versuchen wir mit ein paar Formen von Schema- <code>delay</code> / <code>force</code> etwas Ähnliches zu tun.  Das Schlüsselwort <code>delay</code> erstellt ein Versprechen zur Bewertung des Werts eines Ausdrucks.  Das Schlüsselwort <code>force</code> weist an, diese Berechnungen durchzuführen. Der resultierende Wert wird berechnet und gespeichert.  Bei wiederholtem Zugriff werden keine neuen Berechnungen durchgeführt, aber der zuvor berechnete Wert wird zurückgegeben. </p><br><p>  In den Sprachen der Lisp-Familie werden Listen aus Paaren erstellt.  Um unendliche Listen zu erstellen, führen wir den Typ des „faulen Paares“ ein - ein Paar, bei dem das erste Element der berechnete Wert und das zweite das Versprechen ist, den Wert zu berechnen.  Dazu müssen wir die „heilige Dreifaltigkeit“ der Sprachen der Familie Lisp ( <code>cons</code> , <code>car</code> , <code>cdr</code> ) durch ihre faulen Versionen ergänzen: </p><br><pre> <code class="plaintext hljs">(define-syntax lazy-cons (syntax-rules () ((_ first second) (cons first (delay second))))) (define lazy-car car) (define (lazy-cdr lazy-pair) (force (cdr lazy-pair)))</code> </pre> <br><p>  Der Konstruktor des Lazy- <code>lazy-cons</code> Paares ist als Makro implementiert.  Dies geschieht, um zu vermeiden, dass der Wert des zweiten Elements des Paares beim Erstellen berechnet wird. </p><br><p>  Die Idee ist, eine endlose Liste von Werten zu erstellen und daraus zu entnehmen, was Sie brauchen.  Definieren Sie dazu die Lazy-Version der Prozedur zum Abrufen des Elements nach Index: </p><br><pre> <code class="plaintext hljs">(define (lazy-list-ref lazy-list index) (if (zero? index) (lazy-car lazy-list) (lazy-list-ref (lazy-cdr lazy-list) (- index 1)))) (define (generate-factorials) (define (next nn!) (define n+1 (+ n 1)) (lazy-cons n! (next n+1 (* n! n+1)))) (next 0 1))</code> </pre> <br><p>  Hier <code>n!</code>  und <code>n+1</code> sind die Namen der Variablen.  In Scheme gibt es im Vergleich zu anderen Sprachen nur sehr wenige Zeichen, die nicht in Bezeichnern verwendet werden können. </p><br><p>  Beachten Sie, dass der Generator <code>generate-factorials</code> Generators für unendliche Listen keinen Ausweg aus der Rekursion enthält.  Es wird jedoch keine Schleife ausgeführt, da beim Aufruf nur der Kopf der Liste berechnet wird, während der Schwanz durch ein Versprechen zur Berechnung des Werts dargestellt wird. </p><br><p>  Jetzt können Sie definieren <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-83"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">n</span><span class="MJXp-mo" id="MJXp-Span-85" style="margin-left: 0.111em; margin-right: 0em;">!</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.042ex" height="2.057ex" viewBox="0 -780.1 879 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-21" x="600" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-17"> n! </script>  wie man bekommt <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-86"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-18"> n </script>  th Element der Liste der Fakultäten: </p><br><pre> <code class="plaintext hljs">(define lazy-factorials (generate-factorials)) (define (factorial-lazy n) (lazy-list-ref lazy-factorials n))</code> </pre> <br><p>  Es funktioniert.  Wenn außerdem Fakultäten mit unterschiedlichen Zahlen in einer Sitzung des Interpreters berechnet werden, erfolgen die Berechnungen schneller als in strengen Versionen, da einige der Werte in der Lazy-Liste bereits berechnet wurden. </p><br><p>  Übrigens ist der Code in Scheme dem in Haskell sehr ähnlich.  Also, die Empfangsbestätigung <code>!!</code>  entspricht ungefähr der <code>lazy-list-ref</code> Prozedur <code>lazy-list-ref</code> <code>:</code> entspricht <code>lazy-cons</code> .  Dementsprechend erinnert sich Haskell, obwohl es sich zu einem faulen Berechnungsmodell bekennt, im Gegensatz zu <code>delay</code> / <code>force</code> im Schema nicht an die berechneten Werte. </p><br><p>  Um die Produktivität zu steigern, können Sie übrigens das Speichern bereits berechneter Werte anwenden - das Speichern.  Wir werden die berechneten Werte in einer assoziativen Liste speichern, in der die Schlüssel Zahlen und die Werte ihre Fakultäten sind.  Beim Aufruf durchsuchen wir die Liste nach bereits berechneten Werten.  Wenn der Wert in der Liste enthalten ist, geben wir diesen gespeicherten Wert zurück.  Wenn der Wert nicht in der Liste enthalten ist, berechnen wir ihn, fügen ihn in die Liste ein und geben ihn erst dann zurück.  Um sicherzustellen, dass diese Liste immer die aufgerufene Funktion enthält und nicht in der globalen Umgebung, platzieren wir sie in einer statischen Variablen: </p><br><pre> <code class="plaintext hljs">(define factorial-memoized (let ((memo '())) (lambda (n) (let ((memoized (assq n memo))) (if memoized (cadr memoized) (if (zero? n) 1 (let ((computed (* n (factorial-memoized (- n 1))))) (set! memo (cons (list n computed) memo)) computed)))))))</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Statische Variablen im Schema</b> <div class="spoiler_text"><p>  Code anzeigen </p><br><pre> <code class="plaintext hljs">(define proc (let ((static-var initial-value)) (lambda args ...)))</code> </pre> <br><p>  ist eine vom Schema akzeptierte Methode zum Erstellen einer Prozedur mit einer statischen Variablen.  Das Prinzip einer solchen Ansage kann bequem anhand eines kürzeren Beispiels erklärt werden - einer Prozedur, die die Anzahl der Anrufe zurückgibt: </p><br><pre> <code class="plaintext hljs">(define count (let ((n 0)) (lambda () (set! n (+ n 1)) n)))</code> </pre> <br><p>  In einer Dolmetschersitzung gibt der erste Anruf <code>(count)</code> 1, der zweite - 2, der dritte - 3 usw. zurück.  Wie funktioniert es </p><br><p>  Ohne syntaktischen Zucker sieht die Definition von <code>count</code> wie folgt aus: </p><br><pre> <code class="plaintext hljs">(define count ((lambda (n) (lambda () (set! n (+ n 1)) n)) 0))</code> </pre> <br><p>  Somit ist die Prozedur ohne Argumente <code>(lambda () (set! n (+ n 1)) n)</code> , die <code>n</code> frei enthält <code>n</code> mit der <code>count</code> der Namen verbunden.  Es stellt sich heraus, dass <code>n</code> in der externen Umgebung in Bezug auf <code>(lambda () (set! n (+ n 1)) n)</code> , was bedeutet, dass der Wert von <code>n</code> zwischen den zu <code>count</code> Aufrufen erhalten bleibt.  Der Wert <code>n</code> beim Programmstart auf Null initialisiert, da <code>(lambda (n) ...)</code> auf das Argument 0 angewendet wird. Daher fehlt <code>n</code> in der globalen Umgebung, ist aber immer über <code>count</code> zugänglich. </p></div></div><br><p>  Diese Implementierung verspricht auch Leistungssteigerungen durch wiederholte Berechnung von Fakultäten verschiedener Zahlen in einer Dolmetschersitzung. </p><br><p>  Natürlich ist auch hier eine Optimierung der Schwanzrekursion möglich: </p><br><pre> <code class="plaintext hljs">(define factorial-memoized-tco (let ((memo '())) (lambda (n) (define (iteration product counter) (cond ((&gt; counter n) product) (else (set! memo (cons (list counter product) memo)) (iteration (* product counter) (+ counter 1))))) (iteration 1 1))))</code> </pre> <br><p>  „Warum tanzen diese mit einem Tamburin?“, Kann der Leser sagen.  In imperativen Programmiersprachen wird dasselbe einfach geschrieben - über eine Schleife funktioniert es schnell und ohne unnötige Speicherkosten.  Das Schema hat eine Teilmenge für die imperative Programmierung, es hat auch ein Mittel zum Organisieren von Schleifen - eine <em>spezielle Form von</em> <code>do</code> .  Das mit seiner Hilfe geschriebene Verfahren zur Berechnung der Fakultät kann folgendermaßen aussehen: </p><br><pre> <code class="plaintext hljs">(define (factorial-do n) (define product 1) (do ((i 1 (+ i 1))) ((&gt; in) product) (set! product (* product i))))</code> </pre> <br><p>  Das <code>do</code> Konstrukt ist ziemlich vielseitig und deshalb nicht zu lesbar.  Ist es nicht besser, einen eigenen Zyklus in einem imperativen Stil zu organisieren?  Makros helfen dabei: </p><br><pre> <code class="plaintext hljs">(define-syntax for (syntax-rules () ((_ (variable init test step) . body) (let loop ((variable init)) (if test (begin (begin . body) (loop step)))))))</code> </pre><br><p>  Dank der Optimierung der Schwanzrekursion durch den Interpreter erhalten wir eine Schleife, die wir in imperativen Programmiersprachen gewohnt sind.  Durch die Optimierung der Schwanzrekursion wächst der Stapel nicht. </p><br><p>  Fakultät definieren mit: </p><br><pre> <code class="plaintext hljs">(define (factorial-for n) (define product 1) (for (i 1 (&lt;= in) (+ i 1)) (set! product (* product i))) product)</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Wie funktioniert es?</b> <div class="spoiler_text"><p>  In diesem Beispiel wird der Ausdruck <code>(for (i 1 (&lt;= in) (+ i 1)) (set! product (* product i)))</code> mit dem Muster <code>(_ (variable init test step) . body)</code> Syntaxregel abgeglichen.  Die folgenden Ersetzungen werden durchgeführt: </p><br><pre> <code class="plaintext hljs">for → _ i → variable 1 → init (&lt;= in) → test (+ i 1) → step (set! product (* product i)) → body</code> </pre> <br><p>  Von hier aus wird der folgende Code von der Syntaxregelvorlage generiert: </p><br><pre> <code class="plaintext hljs">(define (factorial-for n) (define product 1) (let loop ((i 1)) ;   (if (&lt;= in) ;  (begin (begin (set! product (* product i))) ;  (loop (+ i 1))))) ;  for product)</code> </pre> </div></div><br><p>  Es gibt eine weitere Option, die dem Imperativ <code>for</code> Schleife ähnelt - mit der integrierten Prozedur <code>for-each</code> Prozedur: </p><br><pre> <code class="plaintext hljs">(define (factorial-for-each n) (define product 1) (for-each (lambda (i) (set! product (* product i))) (iota n)) product)</code> </pre> <br><p>  Tolle und mächtige Schemasprache!  Was ist mit Leistung? </p><br><p>  Wir werden die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GNU Guile verwenden</a> , um die Leistung zu messen. In dieser Umgebung können Sie die Zeit messen, die erforderlich ist, um einen Ausdruck am einfachsten zu bewerten. </p><br><p>  Guile funktioniert wie folgt: Kompiliert den Quellcode des Programms in Bytecode, der dann von der virtuellen Maschine ausgeführt wird.  Dies ist nur eine der Implementierungen und eine von mehreren Möglichkeiten, ein Schema-Programm auszuführen. Es gibt andere: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Racket</a> (verwendet die JIT-Kompilierung), <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Chicken Scheme</a> (verwendet eine „ehrliche“ Interpretation oder Kompilierung in eine Teilmenge von C) usw.  Offensichtlich können sowohl die Einschränkungen als auch die Leistung von Programmen in diesen Umgebungen geringfügig variieren. </p><br><p>  Wir werden Messungen bei einem bestimmten Wert durchführen <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-88"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-19"> n </script>  .  Was soll es sein? <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-90"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-20"> n </script>  ?  Also mit dem der Größte <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-92"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-21"> n </script>  wird in der Lage sein, mit den vorgeschlagenen Optionen "fertig zu werden".  Mit den Standardeinstellungen von Guile 2.0 auf einem PC mit Intel Core i5 und 4 GB RAM habe ich Folgendes erhalten: </p><br><table><thead><tr><th>  Vorgehensweise </th><th>  Das Problem </th></tr></thead><tbody><tr><td> <code>factorial-classic</code> </td> <td>  Stapelüberlauf ein <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-94"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">n</span><span class="MJXp-mo" id="MJXp-Span-96" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mn" id="MJXp-Span-97">10</span><span class="MJXp-mn" id="MJXp-Span-98">000</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.305ex" height="1.937ex" viewBox="0 -728.2 4437.1 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3E" x="878" y="0"></use><g transform="translate(1934,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use></g><g transform="translate(2935,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-22"> n> 10 000 </script></td></tr><tr><td> <code>factorial-classic-tco</code> </td> <td>  Nein ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-99"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">n</span><span class="MJXp-mo" id="MJXp-Span-101" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-102">100</span><span class="MJXp-mspace" id="MJXp-Span-103" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-104">000</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.855ex" height="1.937ex" viewBox="0 -728.2 5104.2 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3D" x="878" y="0"></use><g transform="translate(1934,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g><g transform="translate(3602,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-23"> n = 100 \, 000 </script>  ) </td></tr><tr><td> <code>factorial-fold</code> </td> <td>  Stapelüberlauf ein <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-105"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-106">n</span><span class="MJXp-mo" id="MJXp-Span-107" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mn" id="MJXp-Span-108">10</span><span class="MJXp-mn" id="MJXp-Span-109">000</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.305ex" height="1.937ex" viewBox="0 -728.2 4437.1 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3E" x="878" y="0"></use><g transform="translate(1934,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use></g><g transform="translate(2935,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-24"> n> 10 000 </script></td></tr><tr><td> <code>factorial-eval</code> </td> <td>  Stapelüberlauf ein <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-110"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">n</span><span class="MJXp-mo" id="MJXp-Span-112" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mn" id="MJXp-Span-113">8</span><span class="MJXp-mspace" id="MJXp-Span-114" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-115">000</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.53ex" height="1.937ex" viewBox="0 -728.2 4103.2 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3E" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-38" x="1934" y="0"></use><g transform="translate(2601,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-25"> n> 8 \, 000 </script></td></tr><tr><td> <code>factorial-lazy</code> </td> <td>  bei <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-116"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">n</span><span class="MJXp-mo" id="MJXp-Span-118" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-119">100</span><span class="MJXp-mspace" id="MJXp-Span-120" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-121">000</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.855ex" height="1.937ex" viewBox="0 -728.2 5104.2 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3D" x="878" y="0"></use><g transform="translate(1934,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g><g transform="translate(3602,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-26"> n = 100 \, 000 </script>  verwendet Swap-Partition und friert ein </td></tr><tr><td> <code>factorial-memoized</code> </td> <td>  Stapelüberlauf ein <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-122"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">n</span><span class="MJXp-mo" id="MJXp-Span-124" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mn" id="MJXp-Span-125">10000</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.305ex" height="1.937ex" viewBox="0 -728.2 4437.1 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3E" x="878" y="0"></use><g transform="translate(1934,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="2002" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-27"> n> 10000 </script>  nur beim ersten Start </td></tr><tr><td> <code>factorial-memoized-tco</code> </td> <td>  bei <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-126"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">n</span><span class="MJXp-mo" id="MJXp-Span-128" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mn" id="MJXp-Span-129">1</span><span class="MJXp-mspace" id="MJXp-Span-130" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-131">000</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.53ex" height="1.937ex" viewBox="0 -728.2 4103.2 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3E" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-31" x="1934" y="0"></use><g transform="translate(2601,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-28"> n> 1 \, 000 </script>  verwendet Swap-Partition und friert ein </td></tr><tr><td> <code>factorial-do</code> </td> <td>  Nein ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-132"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">n</span><span class="MJXp-mo" id="MJXp-Span-134" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-135">100</span><span class="MJXp-mspace" id="MJXp-Span-136" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-137">000</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.855ex" height="1.937ex" viewBox="0 -728.2 5104.2 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3D" x="878" y="0"></use><g transform="translate(1934,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g><g transform="translate(3602,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-29"> n = 100 \, 000 </script>  ) </td></tr><tr><td> <code>factorial-for</code> </td> <td>  Nein ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-138"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">n</span><span class="MJXp-mo" id="MJXp-Span-140" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-141">100</span><span class="MJXp-mspace" id="MJXp-Span-142" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-143">000</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.855ex" height="1.937ex" viewBox="0 -728.2 5104.2 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3D" x="878" y="0"></use><g transform="translate(1934,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g><g transform="translate(3602,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-30"> n = 100 \, 000 </script>  ) </td></tr><tr><td> <code>factorial-for-each</code> </td> <td>  Nein ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-144"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">n</span><span class="MJXp-mo" id="MJXp-Span-146" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-147">100</span><span class="MJXp-mspace" id="MJXp-Span-148" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-149">000</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.855ex" height="1.937ex" viewBox="0 -728.2 5104.2 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3D" x="878" y="0"></use><g transform="translate(1934,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g><g transform="translate(3602,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-31"> n = 100 \, 000 </script>  ) </td></tr></tbody></table><br><p>  Von hier aus wurden Leistungstests bei durchgeführt <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-150"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-151">n</span><span class="MJXp-mo" id="MJXp-Span-152" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-153">8</span><span class="MJXp-mspace" id="MJXp-Span-154" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-155">000</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.53ex" height="1.937ex" viewBox="0 -728.2 4103.2 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3D" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-38" x="1934" y="0"></use><g transform="translate(2601,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-32"> n = 8 \, 000 </script>  .  Die Ergebnisse sind in der folgenden Tabelle dargestellt <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-156"><span class="MJXp-msubsup" id="MJXp-Span-157"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158" style="margin-right: 0.05em;">t</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-159" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162">n</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.74ex" height="2.298ex" viewBox="0 -728.2 1610.2 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-75" x="451" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="1024" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-33"> t_ {run} </script>  - Vorlaufzeit <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-163"><span class="MJXp-msubsup" id="MJXp-Span-164"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165" style="margin-right: 0.05em;">t</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-166" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">G</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">C</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.613ex" height="2.298ex" viewBox="0 -728.2 1555.4 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-43" x="786" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-34"> t_ {GC} </script>  - Garbage Collector-Laufzeit in Sekunden. <br>  Für alle Prozeduren außer faul und gespeichert werden die kleinsten Werte der Laufzeit und die entsprechende Zeit des Garbage Collectors erhalten, die aus den Ergebnissen von drei Starts bei erhalten werden <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-169"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">n</span><span class="MJXp-mo" id="MJXp-Span-171" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-172">8</span><span class="MJXp-mspace" id="MJXp-Span-173" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-174">000</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.53ex" height="1.937ex" viewBox="0 -728.2 4103.2 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3D" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-38" x="1934" y="0"></use><g transform="translate(2601,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-35"> n = 8 \, 000 </script>  . <br>  Bei gespeicherten und faulen Prozeduren wird die Ausführungszeit des ersten Aufrufs angezeigt, dann der kleinere der drei Aufrufe. </p><br><table><thead><tr><th>  Vorgehensweise </th><th><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-175"><span class="MJXp-msubsup" id="MJXp-Span-176"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177" style="margin-right: 0.05em;">t</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-178" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">n</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.74ex" height="2.298ex" viewBox="0 -728.2 1610.2 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-75" x="451" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="1024" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-36"> t_ {run} </script>  mit </th><th><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-182"><span class="MJXp-msubsup" id="MJXp-Span-183"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184" style="margin-right: 0.05em;">t</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-185" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">G</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">C</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.613ex" height="2.298ex" viewBox="0 -728.2 1555.4 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-43" x="786" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-37"> t_ {GC} </script>  mit </th><th>  Anmerkungen </th></tr></thead><tbody><tr><td> <code>factorial-classic</code> </td> <td>  0,051 </td><td>  0,034 </td><td></td></tr><tr><td> <code>factorial-classic-tco</code> </td> <td>  0,055 </td><td>  0,041 </td><td></td></tr><tr><td> <code>factorial-fold</code> </td> <td>  0,065 </td><td>  0,059 </td><td></td></tr><tr><td> <code>factorial-eval</code> </td> <td>  0,070 </td><td>  0,040 </td><td></td></tr><tr><td> <code>factorial-lazy</code> </td> <td>  0,076 </td><td>  0,036 </td><td>  erster Anruf </td></tr><tr><td> <code>factorial-lazy</code> </td> <td>  0,009 </td><td>  - - </td><td>  nachfolgende Anrufe </td></tr><tr><td> <code>factorial-memoized</code> </td> <td>  0,077 </td><td>  0,041 </td><td>  erster Anruf </td></tr><tr><td> <code>factorial-memoized</code> </td> <td>  0,002 </td><td>  - - </td><td>  nachfolgende Anrufe </td></tr><tr><td> <code>factorial-memoized-tco</code> </td> <td>  0,077 </td><td>  0,041 </td><td>  erster Anruf </td></tr><tr><td> <code>factorial-memoized-tco</code> </td> <td>  0,002 </td><td>  - - </td><td>  nachfolgende Anrufe </td></tr><tr><td> <code>factorial-do</code> </td> <td>  0,052 </td><td>  0,025 </td><td></td></tr><tr><td> <code>factorial-for</code> </td> <td>  0,059 </td><td>  0,044 </td><td></td></tr><tr><td> <code>factorial-for-each</code> </td> <td>  0,066 </td><td>  0,042 </td><td></td></tr></tbody></table><br><p>  Wir haben 4 Optionen, die mit großen arbeiten können <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-188"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-38"> n </script>  .  Bei <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-190"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">n</span><span class="MJXp-mo" id="MJXp-Span-192" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-193">100</span><span class="MJXp-mspace" id="MJXp-Span-194" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-195">000</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.855ex" height="1.937ex" viewBox="0 -728.2 5104.2 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-3D" x="878" y="0"></use><g transform="translate(1934,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g><g transform="translate(3602,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMAIN-30" x="1001" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-39"> n = 100 \, 000 </script>  Sie haben die folgenden Berechnungs- und Speicherbereinigungszeiten: </p><br><table><thead><tr><th>  Vorgehensweise </th><th><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-196"><span class="MJXp-msubsup" id="MJXp-Span-197"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198" style="margin-right: 0.05em;">t</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-199" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-200">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">n</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.74ex" height="2.298ex" viewBox="0 -728.2 1610.2 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-75" x="451" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="1024" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-40"> t_ {run} </script>  mit </th><th><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-203"><span class="MJXp-msubsup" id="MJXp-Span-204"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205" style="margin-right: 0.05em;">t</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-206" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">G</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">C</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="3.613ex" height="2.298ex" viewBox="0 -728.2 1555.4 989.6" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-74" x="0" y="0"></use><g transform="translate(361,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-43" x="786" y="0"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-41"> t_ {GC} </script>  mit </th></tr></thead><tbody><tr><td> <code>factorial-classic-tco</code> </td> <td>  8,468 </td><td>  6,628 </td></tr><tr><td> <code>factorial-do</code> </td> <td>  8,470 </td><td>  6,632 </td></tr><tr><td> <code>factorial-for</code> </td> <td>  8,440 </td><td>  6,601 </td></tr><tr><td> <code>factorial-for-each</code> </td> <td>  9.998 </td><td>  7,985 </td></tr></tbody></table><br><p>  Sie können das mit nicht zu groß sehen <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-209"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.395ex" height="1.455ex" viewBox="0 -520.7 600.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/436698/&amp;usg=ALkJrhhGCip66Nei97zx-JGi8USo1-qWXA#MJMATHI-6E" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-42"> n </script>  der schnellste und gleichzeitig der kürzeste ist der erste.  Die gleiche Option stimmt am besten mit der mathematischen Definition von Fakultät überein.  Die Option zur Optimierung der Schwanzrekursion ist der Leistung nicht viel unterlegen.  Beide Optionen werden von den Autoren der Sprache idiomatisch empfohlen.  Die Schlussfolgerung ist in vielerlei Hinsicht offensichtlich: Sofern nicht anders angegeben, wird der für die Sprache „typische“ Ansatz zumindest für die erste Implementierung eines Algorithmus oder einer Methode bevorzugt. </p><br><p>  Gleichzeitig erlaubte uns die Schemasprache, viele Optionen für die Implementierung der Fakultätsberechnung zu schreiben, wobei eine sehr begrenzte Anzahl von Grundelementen verwendet wurde (das „minimale Mittel - maximale Eindrücke“).  Trotz ihres ehrwürdigen Alters und nicht allzu weit verbreitet kann diese Sprache dennoch für die Forschungsprogrammierung empfohlen werden: Es scheint, dass Sie alles auf jede <em>Art</em> und <em>Weise</em> (und auf <em>jede</em> Art und Weise) <em>bequem</em> implementieren können. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de436698/">https://habr.com/ru/post/de436698/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de436688/index.html">Der IT-Riese verlässt den Markt für Chips für Rechenzentren - sagen Sie uns, was dies für die Branche bedeutet</a></li>
<li><a href="../de436690/index.html">[Fragen - Antworten] zu geistigem Eigentum und Datenschutz</a></li>
<li><a href="../de436692/index.html">(in) Endlicher Krieg</a></li>
<li><a href="../de436694/index.html">Mein Pascal Compiler und polnische zeitgenössische Kunst</a></li>
<li><a href="../de436696/index.html">So erzeugen Sie binauralen Sound auf einer Monokanal-Audiospur - Video hilft</a></li>
<li><a href="../de436700/index.html">Anti-Spoofing: Wie widerstehen Gesichtserkennungssysteme Betrügern?</a></li>
<li><a href="../de436704/index.html">Die Geschichte, wie wir Waagen für die Automatisierung von Registrierkassen ausgewählt haben</a></li>
<li><a href="../de436708/index.html">Woraus IoT besteht</a></li>
<li><a href="../de436710/index.html">Die Trends des Gamedev-Marktes des Jahres 2019 IMHO. Dezentralisierung?</a></li>
<li><a href="../de436712/index.html">Wie bewerbe ich ein inkrementelles Spiel? Kostenlos, schnell und effektiv *</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>