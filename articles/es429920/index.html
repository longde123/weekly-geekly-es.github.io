<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíè ü§± üë©üèæ‚Äçüíº Tragicomedia en actos de NaN: c√≥mo creamos un juego en JS y lo lanzamos en Steam üçæ üò§ üïú</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content=""Eka no se ve", dice, "no hay un juego entre los 100 mejores, por lo que no es seguro". Lo mismo es cierto. Pero durante el a√±o de desarrollo de Proto...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Tragicomedia en actos de NaN: c√≥mo creamos un juego en JS y lo lanzamos en Steam</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429920/">  "Eka no se ve", dice, "no hay un juego entre los 100 mejores, por lo que no es seguro".  Lo mismo es cierto.  Pero durante el a√±o de desarrollo de Protolife, hemos adquirido cierta experiencia que podemos compartir con el potencial futuro igrodelov.  Los veteranos de la industria, me temo, no encontrar√°n nada interesante para ellos.  Pero tal vez al menos divi√©rtete desde el coraz√≥n. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lh/-w/mm/lh-wmmcrraswwobhujdwnsinofy.png"></div><br><h3>  ¬øQu√© tipo de juego es ese?  Y qui√©nes somos </h3><br>  Somos un equipo de tres personas ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">GRaAL</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">A333</a> , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">icxon</a> ), por voluntad del destino llamado Volcanic Giraffe sin ninguna intenci√≥n.  Trabajamos juntos durante mucho tiempo, los tres participamos en el <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Ludum Dare</a> (concurso de escritura de juegos de fin de semana), y una vez decidimos traer <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">una de nuestras artesan√≠as</a> llamada Protolife. <br><br>  En resumen: esta es una torre de defensa inusual, donde tienes que ejecutar un cursor de h√©roe y construir una defensa de bloques contra la biomasa roja en constante crecimiento. <br><a name="habracut"></a><br><blockquote>  De los comentarios sobre el borrador del art√≠culo: <br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">icxon</a> : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">primero</a> debes escribir un poco sobre el juego.</i>  <i>Y luego algunas capturas de pantalla en las que el r√°bano picante comprende lo que est√° sucediendo</i> <br></blockquote><br>  Si pintas con m√°s detalle, entonces qu√© hay en el juego: <br><br><ol><li>  Hay un conjunto de niveles, en cada nivel est√° nuestra base y nuestro avatar: un robot constructor. </li><li>  Parte del nivel est√° lleno de biomasa roja en crecimiento que arroja toneladas de mobs. </li><li>  Las turbas, por supuesto, corren hacia la base e intentan aplastarla.  Y estamos construyendo una defensa desde las torres y no estamos permitiendo que se haga. </li></ol><br>  "¬øPero qu√© es tan inusual?"  - usted pregunta  Y las principales diferencias con la mayor√≠a de las torres de defensa son las siguientes: <br><br><ol><li>  Controlamos el robot de construcci√≥n directamente desde las teclas, es decir  debes apresurarte manualmente por el nivel y tener tiempo para construir / reparar todo. </li><li>  Todo lo que el robot puede hacer es construir y desmontar los bloques azules.  Uno de esos bloques no hace nada √∫til, pero varios bloques dispuestos de acuerdo con cierto patr√≥n se convierten en una estructura √∫til.  Ejemplos de plantillas: <br></li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tb/bg/wq/tbbgwqkztc9agfv9vhhezbli9lk.png"></div><br><ul><li>  Patr√≥n 1: un arma simple </li><li>  Patr√≥n 2: pared </li><li>  Patr√≥n 3: pistola AA.  aqu√≠ tienes que usar tambi√©n cristales amarillos, que ya se extraen m√°s dif√≠cil </li><li>  Plantilla 4: ametralladora </li></ul><br>  Y as√≠ contin√∫a el juego: corremos, construimos, obtenemos una respuesta, la reparamos r√°pidamente.  Se obtiene una visualizaci√≥n directa del proceso de desarrollo del juego. <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ej/aw/nh/ejawnheikmuamezlswybx7gwhfq.gif"></div><br>  Pero tal juego no funcion√≥ de inmediato.  En abril de 2017, en Ludum Dare 38, se ve√≠a as√≠: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hy/qu/kx/hyqukx8b8omlqfjtvwqoa2hlaiu.gif"></div><br>  Si no prestas atenci√≥n a la diferencia en el horario, entonces parece que no ha cambiado tanto.  Ya en la versi√≥n LD hab√≠a un generador de cursor, la construcci√≥n de torres a partir de bloques y la confrontaci√≥n con la biomasa roja.  Lo dejamos porque funcion√≥ y a la gente le gust√≥. <br><br>  Pero, de hecho, mucho ha cambiado bajo el cap√≥ adem√°s de la concentraci√≥n de grafonio por p√≠xel cuadrado.  En el camino de un a√±o, tuvimos que tomar varias decisiones: jugabilidad, t√©cnicas, organizaci√≥n e incluso marketing.  Algunos tuvieron √©xito, otros no. <br><br>  Me gustar√≠a hablar sobre tales decisiones. <br><br>  Har√© una reserva de inmediato, probablemente habr√° varios art√≠culos, porque  Si comienza a cavar, sale mucho material.  Al final de este art√≠culo, encontrar√° una breve encuesta: qu√© temas ser√≠an m√°s interesantes para usted.  Bueno, tambi√©n enlaces al juego en s√≠. <br><br><h3>  Una aburrida historia de la creaci√≥n. </h3><br>  No creo que nadie est√© realmente interesado en c√≥mo se pens√≥ el juego, as√≠ que lo eliminar√© debajo del spoiler. <br><br><div class="spoiler">  <b class="spoiler_title">De alguna manera, Conway, Matheson y Petri entraron al bar ...</b> <div class="spoiler_text">  <i>Y el camarero dice: indefinido no es una funci√≥n.</i> <i><br><br></i>  <i>En la v√≠spera del LD38, result√≥ terrible: nuestro colega y el √∫nico artista <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">A333</a> volar√° todo el LD sobre el Atl√°ntico y no podr√° ayudarnos.</i>  <i>Por lo tanto, era necesario hacer que el juego fuera poco exigente con las fuerzas restantes.</i> <i><br><br></i>  <i>El tema por cierto fue "Peque√±o mundo".</i>  <i>Y luego, durante la lluvia de ideas, todo sali√≥ m√°s o menos as√≠:</i> <i><br></i> <ul><li>  No hay artista: los gr√°ficos son simples, primitivos <br></li><li>  Mundo peque√±o: tama√±o peque√±o, o tal vez algo microsc√≥pico, como todo tipo de g√©rmenes <br></li><li>  Los microbios son un tipo de microvida. <br></li><li>  Y la vida es un aut√≥mata celular.  Bueno, c√©lulas en todos los sentidos.  Deje que el jugador pelee con una m√°quina celular contra otra m√°quina celular. <br></li><li>  Meti√≥ vida en Conway, no es bueno.  Es probable que un jugador nuevo en las reglas de la m√°quina construya algo que ser√° destruido.  Es muy dif√≠cil de controlar.  Deje que solo el adversario siga las reglas de la vida, y construiremos estructuras ordenadas. <br></li><li>  ... pero entonces el enemigo se autodestruir√° de vez en cuando.  Bien, modifiquemos las reglas para √©l.  Deja que solo crezca, pero necesitamos destruirlo. <br></li><li>  Entonces, ya tenemos: las c√©lulas rojas del enemigo, que solo est√°n creciendo, y las c√©lulas azules, que construimos nosotros mismos de acuerdo con los patrones dados.  Construiremos torres y muros, es decir  Resulta una torre de defensa.  Para variar, todav√≠a no hay suficientes enemigos en movimiento (mobs). <br></li><li>  El d√≠a antes volv√≠ a leer "Soy una leyenda" de Matheson.  Entonces, el personaje principal en la noche mantiene el asedio de los vampiros, y durante el d√≠a, cuando los vampiros est√°n inactivos, restaura la defensa y tambi√©n expande la esfera de influencia.  Parec√≠a un buen elemento de juego, por lo que las fases del d√≠a y la noche aparecieron en el juego.  Por la noche, las c√©lulas enemigas compart√≠an y <s>puntuaban casas,</s> monstruos arrastr√°ndose, durante el d√≠a: todo estaba en silencio, se pod√≠a contraatacar. <br></li><li>  Llame a nuestros p√≠xeles de color "microorganismos" y emp√∫jelos en una arena redonda: una placa de Petri. <br></li><li>  Tomamos nuestro motor Phaser.js favorito ... <br></li><li>  ... y el 31er lugar en nuestro bolsillo <br></li></ul><br>  Aqu√≠ hay una historia, no muy interesante, como advert√≠. <br><br>  "Pero Alexei, ¬øqu√© demonios lo escribiste entonces?"  Pregunta razonable  El hecho es que casi el primer comentario sobre el juego sonaba como "jajaja, todos estafaron a Creeper World".  Despu√©s de leer el juego mucho m√°s tarde LD, entiendo por qu√© la gente piensa eso.  Pero a√∫n un poco triste. <br><br>  Si de repente te sientes insultado por haber pasado tiempo en este fastidio, entonces, <s>como consuelo, escr√≠beme el c√≥digo de PM "cosas aburridas" en PM, y te enviar√© una de las 10 claves si a√∫n no han terminado.</s>  Lamentablemente, las llaves tambi√©n han terminado. <br></div></div><br><h3>  Elegir un juego para una implementaci√≥n completa </h3><br>  Como suele suceder, una vez que todos pensamos en nosotros tres, pero es hora de intentar hacer un juego completo.  A menudo, en esta etapa, se toma alg√∫n tipo de concepto de la cabeza, como el "juego de los sue√±os", y se est√° trabajando en ello.  Y luego qu√© suerte adivinar con los deseos de la audiencia. <br><br>  Nuestra tarea se simplific√≥ un poco debido a la presencia de una peque√±a "cartera" en Ludum Dare.  Vimos c√≥mo las personas reaccionan a diferentes juegos, y pudimos comparar.  Protolife tuvo la mejor respuesta, fue elogiado por su originalidad y por su interesante juego: ¬°esto tiene un nivel cero de gr√°ficos y solo 4 niveles! <br><br>  Adem√°s, itch.io nos ayud√≥ a tomar la decisi√≥n, sobre la cual publicamos nuestras manualidades.  Al final result√≥ que, hay personas que van a itch.io para jugar juegos web.  Algunos de ellos adoran el g√©nero de defensa de la torre, y de 5 a 10 personas entraron (¬°y todav√≠a entran!) Para jugar esa vieja Protolife <i>todos los d√≠as</i> . <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/74/d-/sk/74d-sk_no7c5-dkl03ppllaq6pe.png"></div>  <sup>Estad√≠sticas de llamadas antes del lanzamiento del juego en Steam</sup> <br><br>  Se puede decir, esta fue nuestra primera investigaci√≥n de mercado.  Pensamos y decidimos que una "defensa de torre no est√°ndar" bien podr√≠a disparar.  No hay tantas defensas de la Torre, muchas de ellas son similares a dos gotas de agua, y podemos destacar entre ellas. <br><br>  Mirando hacia el futuro, puedo decir que las t√°cticas valieron la pena. <br><br>  <u>Consejo no solicitado # 1:</u> Mejor no act√∫es a ciegas.  El "juego ideal" ideal en tu cabeza puede no ser necesario para nadie.  Si no participa en todo tipo de atascos, siempre tiene sentido esbozar un prototipo de juego (!) Y probarlo en usted, amigos y conocidos. <br><br>  <u>Counter-Council:</u> Si no temes que media gente juegue el "juego de los sue√±os", ¬øa qui√©n le importa?  Hazlo!  Quiz√°s con suerte. <br><br><h3>  Motor: no es la mejor soluci√≥n </h3><br>  Creamos la versi√≥n en Ludum Dare en el motor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Phaser.js</a> .  Lo sabemos bien, conocemos bien JavaScript, los juegos web obtienen m√°s comentarios, es bastante conveniente y f√°cil de aprender: un cuento de hadas, no un motor. <br><br>  Y nos enfrentamos a una pregunta importante: ¬øcambiar el motor o dejar todo como est√°? <br><br>  La pregunta fue complicada.  Ninguno de nosotros conoc√≠a o estudiaba ning√∫n otro motor en ese momento.  Pasar tiempo estudiando es algo bueno, pero fue posible perder todo entusiasmo.  Y luego, ¬øqu√© llevar?  Javascript, el √∫nico lenguaje que cada uno de nosotros sab√≠a, para tomar el motor C ++ / Java / C #, significa perder instant√°neamente la mitad de los desarrolladores.  Y los motores de nivel Unity en ese momento parec√≠an demasiado engorrosos para un "juego 2D simple". <br><br>  Y luego: ya hay un juego.  Queda por actualizar el grafeno, completar los niveles, y eso es todo.  Trabaja por un par de meses.  Y luego estudiar, reescribir ... <br><br>  En general, decidimos quedarnos en Phaser.js.  Peor a√∫n: decidimos permanecer en la misma base de c√≥digo, es decir,  Construye un juego sobre el prototipo Ludum Dare. <br><br><blockquote>  De los comentarios sobre un borrador del art√≠culo <br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">a333</a> : Lo siento, no ten√≠a esa foto con una muleta en lugar de la Torre Eiffel "</i> <br></blockquote><br>  <u>Consejo no solicitado # 2: ¬°</u> Nunca hagas eso!  Esto es especialmente cierto para la reutilizaci√≥n del prototipo.  El c√≥digo sobre los atascos siempre se escribe r√°pido y sucio, sin tener en cuenta el desarrollo futuro.  Hay una muleta, hay una muleta, y ahora entiendes que est√°s escribiendo el c√≥digo heredado de inmediato, e inmediatamente comienzas a sufrirlo.  Los prototipos deben leerse cuidadosamente, y luego quemarse en / dev / null y reescribirse, solo que ya est√©n completos y limpios. <br><br>  <u>Contra-consejo:</u> tenga en cuenta, sin embargo, las caracter√≠sticas de la psicolog√≠a.  Sucede que un retraso en un par de semanas es suficiente para "enfriarse".  Es mejor hacer un juego con una arquitectura pobre que no hacerlo en absoluto. <br><br><blockquote>  De los comentarios sobre el borrador del art√≠culo: <br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">A333</a> : Estoy muy inclinado a esta opci√≥n.</i>  <i>Hasta donde s√©, as√≠ es como se hacen la mayor√≠a de los juegos, porque el tiempo y el fusible juegan un papel clave.</i>  <i>Si tiene la oportunidad de reescribir todo limpiamente en un motor nuevo, bien, pero este no es siempre el caso.</i>  <i>No tenga miedo de escribir r√°pido y sucio, lanzar prototipos tempranos, copiar y pegar piezas de c√≥digo, y lanzar zabago ... * sonidos de golpes y gemidos amortiguados *</i> <br></blockquote><br>  En realidad, ¬øcu√°l es el problema con Phaser.js? <br><br><ul><li>  El motor, como puede suponer, est√° basado en la web.  ¬øSabes c√≥mo lanzar un juego web en Steam?  As√≠ es, entr√©galo con Chrome usando nw.js o Electron.  Creo que no es necesario explicar las desventajas de este enfoque. <br></li><li>  El rendimiento de javascript es ciertamente bastante bueno, pero el c√≥digo nativo se ejecutar√≠a m√°s r√°pido y podr√≠a ahorrar en las coincidencias. <br></li><li>  Control de renderizado muy d√©bil.  Phaser mismo lo representa todo, y lo hace en general bastante bien, pero a veces quieres entrar en el proceso o hacer algo en webGL por tu cuenta.  Por desgracia, lo √∫nico que permite Phaser es aplicar el sombreador de fragmentos a la pantalla en su conjunto o a algunos sprites separados en la pantalla, y tambi√©n con moderaci√≥n.  No permite trabajar con el sombreador de v√©rtices (y de hecho trabajar con v√©rtices), y muchas decisiones en el juego con ellos ser√≠an mucho m√°s f√°ciles. <br></li><li>  Problemas con una gran cantidad de sprites (objetos activos) en la pantalla.  Adem√°s, el "gran n√∫mero" es un par de miles, no millones.  Y el "objeto activo" ser√° incluso una piedra mentirosa sin animaciones.  Para cada tic, Phaser revisar√° todos los objetos y har√° su propia magia especial de fase, borrando el tiempo de la l√≥gica del juego. <br></li></ul><br>  Resolvimos muchos de estos problemas en el camino, algunos no se resolvieron hasta el final.  Es dif√≠cil juzgar sin experiencia con otros motores, pero me parece que cualquier otro motor permitir√≠a procesar miles de objetos de juego sin trucos infernales.  Sin embargo, podr√≠a estar equivocado. <br><br><h3>  Guerra de estilos </h3><br>  ¬øTodav√≠a recuerdas el "dise√±o original" de la versi√≥n original del juego? <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hh/bs/5r/hhbs5rkqrncm17tplvhjhbvizwu.png"></div><br>  Por supuesto, tiene su propio encanto, pero no era adecuado para un producto serio.  S√≠, y nuestro artista acaba de regresar de un viaje de negocios, ¬øqu√© es √©l para quedarse inactivo? <br><br>  No se sent√≥, habiendo hecho varios bocetos de un posible dise√±o.  La historia ha conservado dos sillas de estilo, entre las cuales hab√≠a que elegir. <br><br>  <b>Candidato 1:</b> dise√±o minimalista.  De hecho, los mismos "p√≠xeles", pero m√°s comprensivos.  Todo es brillante, contrastante.  Parece decente, pero, digamos, s√≥lido.  En el sentido de que un juego como este se ver√° bien en tel√©fonos m√≥viles o VKontakte en alg√∫n lugar entre tetris y arkanoid.  Pero de forma r√°pida y econ√≥mica. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/os/n_/tc/osn_tcppk56blw3mrmhaxmneec4.jpeg"></div><br>  <b>Candidato 2:</b> realista, fant√°stico, duro.  Aqu√≠ ya puedes ver cierta historia, contexto.  Inesperadamente, el contraste funciona no solo en colores, sino tambi√©n en formas: nuestros edificios son m√°s ordenados y cuadrados, edificios enemigos, redondos, de forma irregular. <br><br><img src="https://habrastorage.org/webt/ht/q1/zu/htq1zunnwz1-0ap6f2b8adcq9oa.jpeg"><br><br>  Esto no quiere decir que dudamos durante mucho tiempo.  Nos imaginamos cu√°l de las "capturas de pantalla" nos gustar√≠a jugar m√°s, y el primer candidato simplemente no tuvo oportunidad de sobrevivir.  No ten√≠amos idea de lo que tendr√≠amos para la trama, d√≥nde est√° sucediendo todo esto, qu√© est√° sucediendo, pero elegimos la opci√≥n dos. <br><br>  Por supuesto, no hay nada con lo que comparar, pero me parece que esta fue una buena opci√≥n.  S√≠, habr√≠amos completado la primera opci√≥n m√°s r√°pido, habr√≠a sido menos exigente en rendimiento y gr√°ficos, y probablemente incluso habr√≠a sido posible portarlo a tel√©fonos m√≥viles. <br><br>  Pero quer√≠amos jugar la segunda opci√≥n. <br><br>  Entonces, los microorganismos y la placa de Petri fueron reemplazados por un planeta distante, robots y un misterioso organismo alien√≠gena. <br><br>  <u>Consejo banal no solicitado n√∫mero 3:</u> haz lo que quieras jugar t√∫ mismo. <br><br>  <u>Contra-consejo:</u> si tiene 3 hipotecas y ning√∫n otro trabajo, nadie lo culpar√° por hacer algo que se venda bien, pero desea lavarse los ojos y las manos con jab√≥n. <br><br><h3>  Biomasa agazapada, gusano al acecho </h3><br>  Mencion√© el contraste de colores y formas, y si comparas ese boceto y la versi√≥n final, el contraste solo se intensific√≥.  Compare: los cuadrados de nuestros edificios, los edificios enemigos redondos y la redondez general de la masa roja. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/on/nl/o8/onnlo8hp_2mxhfnpd1mixvfd8-o.jpeg"></div><br>  Por cierto, la masa roja, como casi todo en el juego, en alg√∫n lugar dentro de la l√≥gica del juego se ajusta a la cuadr√≠cula de la misma manera que los bloques.  Pero ella parece al mismo tiempo ca√≥tica, como si estuviera desatada de la red. <br><br>  Todav√≠a tengo una <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">demostraci√≥n</a> donde depur√© la aparici√≥n de biomasa.  Todo se organiza de la siguiente manera: se toma un "cuadrado" condicional y se llena con c√≠rculos de diferentes tama√±os lo m√°s densamente posible.  A continuaci√≥n se muestra un ejemplo de tal relleno.  En el juego en s√≠, el relleno es m√°s denso (y, por lo tanto, peor legible). <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-t/1f/ze/-t1fzegvyxfxolxcqzg7i4kalji.png"></div><br>  Entre c√≠rculos hay l√≠neas, conexiones.  Si la biomasa necesita crecer en algunas c√©lulas, entonces se seleccionan c√≠rculos adecuados que se cruzan con las c√©lulas necesarias, y el crecimiento ocurre en ellas a lo largo de las l√≠neas. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/gw/yz/hk/gwyzhktmaoealwaw3vvo_mtgdwy.png"></div><br>  As√≠ es como se ve en movimiento: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lk/qa/x2/lkqax2obn1of0apprdpxcmsnlym.gif"></div><br><blockquote>  De los comentarios sobre el borrador del art√≠culo: <br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">icxon</a> : la primera vez que veo esta demostraci√≥n, lol</i> <br></blockquote>  En el juego en s√≠, todo funciona exactamente de la misma manera, excepto que nuestro artista ajusta todos los tama√±os, colores y velocidades para que se vean mejor. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cf/ku/jt/cfkujtznryosbjbsxdcqpakilss.gif"></div><br>  Oh, parece que me he olvidado de decir de d√≥nde vino exactamente esa decisi√≥n, c√≥mo fueron las etapas de la discusi√≥n, los candidatos fueron barridos ... <br><br>  Pero no, no lo he olvidado.  No hubo ninguno.  Inicialmente, planeamos hacer todo como en la versi√≥n LD, es decir  crecimiento por cuadrados.  Solo una noche me aburr√≠ y dibuj√© esta demostraci√≥n para practicar.  Y los muchachos se fueron.  Entonces lo hicieron. <br><br>  <u>Consejo no solicitado 4:</u> planes, planes, pero no tengas miedo de probar algo nuevo.  La intuici√≥n puede decirte una buena decisi√≥n. <br><br>  <u>Contraconsejos:</u> si ya estableci√≥ una fecha de lanzamiento y firm√≥ un contrato con un editor, tal vez no deber√≠a experimentar. <br><br><h3>  Animaci√≥n de biomasa </h3><br>  En los gifs anteriores, se puede notar la animaci√≥n inactiva de la biomasa: incluso en reposo, respira intensamente, los botones rojos parecen abrirse y cerrarse.  En un mundo ideal, estos ser√≠an sprites con animaci√≥n cuidadosamente dibujada por el artista, que est√°n dispuestos en el mismo patr√≥n con c√≠rculos.  En realidad, estos ser√≠an miles de objetos de juego que Phaser.js simplemente no pod√≠a manejar.  Y esto ya es un hecho verificado: en la versi√≥n con Ludum Dare ya encontr√© frenos infernales cuando la biomasa llen√≥ al menos la mitad del mapa, y ni siquiera hubo animaci√≥n inactiva all√≠. <br><br>  Un sombreador viene al rescate, que gira all√≠ en la GPU y no ocupa un procesador.  A√∫n mejor, si este sombreador es realmente simple, entonces no cargar√° demasiado la tarjeta de video. <br><br>  El sombreador necesita decir de alguna manera qu√© y c√≥mo dibujarlo.  ¬øCu√°les son las formas de transferir informaci√≥n al sombreador? <br><br><ul><li>  C√≥digo duro en el c√≥digo del sombreador en s√≠.  En nuestro caso, no encaja, pero en general a veces esta opci√≥n tambi√©n tiene sentido considerar. <br></li><li>  A trav√©s de variables uniformes (estas son variables que son iguales para cualquier p√≠xel en la imagen) <br></li><li>  A trav√©s de variables variables (variables que se interpolan entre dos v√©rtices) <br></li><li>  A trav√©s de texturas (codificando algunos valores con color) <br></li></ul><br>  El m√©todo 3 podr√≠a sernos √∫til, pero en el caso de Phaser.js no est√° disponible para nosotros.  No pasar√°s mucho por el uniforme (por ejemplo, una variedad de todos los c√≠rculos con sus radios no encajar√°n en los uniformes; hay restricciones).  La textura permanece. <br><br>  El truco es este: primero dibujo un estado (por ejemplo, brotes cerrados) en azul: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/2v/-z/di/2v-zdiq9rei61wbldpxjdu1keug.png"></div><br>  Entonces el segundo estado (brotes abiertos) es rojo: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/go/5p/nt/go5pntkadhxlujbnj06_tawkp94.png"></div><br>  Si los agregas, obtienes un desorden p√∫rpura: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/s0/a3/zs/s0a3zseh0fjgjxulryakplhfvqi.png"></div><br>  El sombreador, por otro lado, ve la textura, ve la hora actual y, con un cierto per√≠odo, nos muestra ese estado "azul", luego "rojo", que fluye suavemente entre ellos.  Bueno, por s√≠ mismo aplicando la paleta de colores deseada.  Resulta as√≠: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/-a/d-/gm/-ad-gmeivpaafw2x7rta_tdlyci.gif"></div><br><blockquote>  De los comentarios sobre el borrador del art√≠culo: <br>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">a333</a> : Ah, as√≠ es como funciona esta <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">mierda</a></i> <i><br></i>  <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">icxon</a> : es genial porque todav√≠a no entiendo c√≥mo funciona</i> <br></blockquote>  Lo mismo, pero con el ejemplo de los rect√°ngulos: <br><br>  Textura: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/cj/wy/c6/cjwyc6fuidzv6bjvglsxlbhq_mg.png"></div><br>  Animaci√≥n final: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lu/-p/yq/lu-pyqbuhyn5wzlkyjtvfd3l6ni.gif"></div><br>  La textura se actualiza solo a medida que crece / colapsa, el resto del tiempo funciona la animaci√≥n solo con gpu. <br><br><h3>  Cuidado del jugador </h3><br>  En el proceso de desarrollo, tratamos de no olvidarnos de los jugadores que ven nuestro juego por primera vez.  No es tan simple como parece: despu√©s de un tiempo, el ojo se vuelve borroso y comienzas a considerar obvio todo lo que t√∫, como desarrollador, ya sabes. <br><br>  Entendimos esto, por lo que la primera prueba beta se llev√≥ a cabo ya 8 meses antes del lanzamiento, tan pronto como tuvimos los primeros 10 niveles y el 40-50% del contenido listo.  Esa prueba beta dio una excelente retroalimentaci√≥n de dise√±o de nivel de la que hablar√© la pr√≥xima vez.  Al mismo tiempo, aprendimos que nosotros mismos ten√≠amos algunas buenas predicciones de algunos puntos. <br><br> <i>:</i>   ,    ‚Äî      .        ‚Äî     -.    ‚Äî    ,      .    ,  ,       ,  . <br><br> <i>:</i> -,      ,   -. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/iy/ka/3h/iyka3h19u7ekz7mclk8pnekqtqq.gif"></div><br> -,    ,      ,  ,     .      ,     . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/zk/x-/h9/zkx-h93mzuwdl17lgs3ldht1jik.gif"></div><br> <i>:</i>    Tower defense,    .      .    ‚Äî     :     ,         . <br><br> <i>:</i>     .        ,    : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/oz/wc/fx/ozwcfx0osufeixfjaqkxtnxnipq.png"></div><br> <i>:</i> , ,   ?  ,   * ? <br><br> <i>:</i>    :)     AI .       ,  ,   .   .          ,    .     .   ,  ‚Äú‚Äù  ‚Äî  .     ‚Äî     ‚Äî    .  ‚Äú ‚Äù      ,    ‚Äî .       ‚Äî  ,     LD  itchio. <br><blockquote>     : <br> <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">icxon</a> :      .     <br> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" class="user_link">GRaAL</a> : ,   </i> <br></blockquote> <sup>   ,    ,    </sup> <br><br> <i>:</i>      (),       .          , -        ‚Äî         .         ,         . <br><br> <i>:</i>      .         . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/39/zn/hs/39znhs_fwizn9x-1agfcfzphaqw.gif"></div><br>   .   -UX . <br><br><h3>   </h3><br>  LD          ‚Äî         .     .   challenge,    ,        .        : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/t-/jw/jc/t-jwjcuxapeorqdmzpoyfvur1ro.png"></div><br>       .    ,    ,      ‚Äî   .           .   LD-           ,      . <br><br>  ,     ,           ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  </a> ).         ,        22  ,        . <br><br>      ,     .    (   ),          .   ,    , ‚Äú‚Äù     . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/z3/uf/3s/z3uf3syywumwfzbbhk9oxtwcv1g.png"></div><br>  Porque    -     (       ),        .  Es decir       X, Y,       (X,Y), (X+1,Y), (X-1,Y), (X,Y+1), (X,Y-1).    ,     ,              . <br><br>     ,        .    ‚Äú‚Äù    .     -,    ,    (    ).          ,          . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sr/wl/um/srwlumjqnh3qlbbahgeyajxx_q8.png"></div><br>   ,       ,         .      - /     ‚Äî       . <br><br>           ,  1616 .       ,       ,              . <br><br><h3>     </h3><br>     ,           . ,          ?     . <br><br>      -      ,    ‚Äî   . ,    :) <br><br>   : <br><br><ul><li> Protolife: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">  Ludum Dare  itch.io</a> (). <br></li><li> Protolife: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">   Steam</a> (,  ). <br></li></ul><br>  Gracias a todos por su atenci√≥n. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/es429920/">https://habr.com/ru/post/es429920/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es429910/index.html">AppsConf Rises</a></li>
<li><a href="../es429912/index.html">Desarrollo de bibliotecas: de API a lanzamiento p√∫blico</a></li>
<li><a href="../es429914/index.html">OpenSceneGraph: Gr√°fico de escena y punteros inteligentes</a></li>
<li><a href="../es429916/index.html">C√≥mo construir y construir</a></li>
<li><a href="../es429918/index.html">Mundo virtual Intel. Parte 2: SMP</a></li>
<li><a href="../es429922/index.html">C√≥mo convertir un proyecto simple en una construcci√≥n a largo plazo o cortar todo lo innecesario</a></li>
<li><a href="../es429928/index.html">Todo lo que necesitas saber sobre el estr√©s y las emociones fuertes.</a></li>
<li><a href="../es429930/index.html">Splunk Soluci√≥n f√°cil de problemas de aplicaciones</a></li>
<li><a href="../es429934/index.html">Que hay</a></li>
<li><a href="../es429936/index.html">¬øDebo esperar a Android en iOS desde Parallels?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>