<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤›ğŸ¿ ğŸ‘¨â€ğŸ”§ ğŸ‘¶ğŸ¿ Erstellen Sie ein Monorepository mit Lernbereichen fÃ¼r Herna und Garn ğŸŒ ğŸ”§ ğŸ’‡ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In den letzten Jahren hat sich das Konzept der Mono-Repositories erfolgreich etabliert, da es den Prozess der Entwicklung modularer Softwareprojekte w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Erstellen Sie ein Monorepository mit Lernbereichen fÃ¼r Herna und Garn</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/448766/"><img src="https://habrastorage.org/webt/ka/j9/hb/kaj9hbw5yqq7pouoa9ad-aqhdio.jpeg" alt="lernen und garn"><br><br>  In den letzten Jahren hat sich das Konzept der <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Mono-Repositories</a></b> erfolgreich etabliert, da es den Prozess der Entwicklung modularer Softwareprojekte wie mikroservicebasierter Infrastrukturen erheblich vereinfachen kann.  Die Hauptvorteile dieses architektonischen Ansatzes liegen in der Praxis auf der Hand. Daher schlage ich vor, ein eigenes Test- <b>Mono-Repository</b> von Grund auf neu zu erstellen und gleichzeitig die Nuancen der Arbeit mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Garnarbeitsbereichen</a> und <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Herna zu verstehen</a> .  Nun, fangen wir an! <br><br>  Betrachten Sie die Struktur unseres Projekts, bei der es sich um drei Bibliotheken im Ordner <i>packages /</i> sowie in <i>package.json</i> im Stammverzeichnis handelt. <br><br><pre><code class="bash hljs">â”œâ”€â”€ package.json â””â”€â”€ packages â”œâ”€â”€ app â”‚  â”œâ”€â”€ index.js â”‚  â””â”€â”€ package.json â”œâ”€â”€ first â”‚  â”œâ”€â”€ index.js â”‚  â””â”€â”€ package.json â””â”€â”€ second â”œâ”€â”€ index.js â””â”€â”€ package.json</code> </pre> <br>  Es versteht sich, dass wir zuerst zwei und zwei unabhÃ¤ngige Bibliotheken sowie eine <i>App-</i> Bibliothek haben, die Funktionen aus den ersten beiden importiert.  Der Einfachheit halber werden alle drei Pakete im <i>Paketverzeichnis</i> abgelegt.  Sie kÃ¶nnen sie im Stammordner belassen oder in einem Verzeichnis mit einem anderen Namen ablegen. Um jedoch den allgemein anerkannten Konventionen zu folgen, werden sie auf diese Weise abgelegt. <br><a name="habracut"></a><br>  Die Bibliotheken <i>1</i> und <i>2 enthalten</i> zur Vereinfachung des Experiments nur eine Funktion in <i>index.js</i> , von denen jede im Namen des Moduls eine Hallo-Zeichenfolge <i>zurÃ¼ckgibt</i> .  FÃ¼r das <i>erste</i> Beispiel sieht es so aus: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// packages/first/index.js const first = () =&gt; 'Hi from the first module'; module.exports = first;</span></span></code> </pre> <br>  Im <i>App-</i> Modul zeigen wir die Meldung <i>Hallo von der App</i> in der Konsole sowie GrÃ¼ÃŸe von zwei anderen Paketen an: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// packages/app/index.js const first = require('@monorepo/first'); const second = require('@monorepo/second'); const app = () =&gt; 'Hi from the app'; const main = () =&gt; { console.log(app()); console.log(first()); console.log(second()); }; main(); module.exports = { app, main };</span></span></code> </pre> <br>  Damit <i>erstens</i> und <i>zweitens</i> in der <i>App verfÃ¼gbar sind</i> , bezeichnen wir sie als AbhÃ¤ngigkeiten in <i>AbhÃ¤ngigkeiten</i> . <br><br>  <i>FÃ¼gen Sie</i> auÃŸerdem fÃ¼r jede Bibliothek das PrÃ¤fix <i>@ monorepo /</i> im Wert von <i>name</i> zum Paketnamen vor dem <i>Hauptpaketnamen</i> in der lokalen <i>package.json hinzu</i> . <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// packages/app/package.json { "name": "@monorepo/app", "version": "1.0.0", "main": "index.js", "license": "MIT", "dependencies": { "@monorepo/first": "^1.0.0", "@monorepo/second": "^1.0.0" } }</span></span></code> </pre><br><div class="spoiler">  <b class="spoiler_title">Warum brauche ich ein PrÃ¤fix mit einem Hundesymbol vor dem Paketnamen npm (@ monorepo /)?</b> <div class="spoiler_text">  Das HinzufÃ¼gen eines PrÃ¤fixes ist optional, aber dies <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ist</a> genau <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">die Konvention der</a> Paketbenennung, an die sich viele Monorepositorys halten: <a href="">babel</a> , <br>  <a href="">Material UI</a> , <a href="">eckig</a> und andere.  Tatsache ist, dass jeder Benutzer oder jede Organisation seinen eigenen <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Bereich</a> auf der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">npm-</a> Website hat. <i>Daher</i> besteht die Garantie, dass alle Module mit dem <i>@ somescope /</i> postfix vom <i>somescope-</i> Team und nicht von Angreifern erstellt werden.  DarÃ¼ber hinaus kÃ¶nnen bereits vergebene Modulnamen aufgerufen werden.  Sie kÃ¶nnen beispielsweise nicht einfach Ihr eigenes <i>Utils-</i> Modul erstellen, da eine solche Bibliothek <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">bereits vorhanden ist</a> .  <i>Wenn</i> Sie jedoch das Postfix <i>@ myscopename / hinzufÃ¼gen</i> , kÃ¶nnen Sie unsere Utils ( <i>@ myscopename / utils</i> ) mit Blackjack und jungen Damen erhalten. <br></div></div><br>  Ein Analogon aus dem wirklichen Leben fÃ¼r unser Testprojekt kÃ¶nnen verschiedene Bibliotheken fÃ¼r die Arbeit mit Daten, Validierungswerkzeugen, Analysen oder nur eine Reihe von UI-Komponenten sein.  Wenn wir davon ausgehen, dass wir eine <i>Web-</i> und eine <i>mobile</i> Anwendung entwickeln werden (z. B. mit <i>React</i> bzw. <i>React Native</i> ) und einen Teil der wiederverwendeten Logik haben, kann es sich lohnen, sie fÃ¼r die spÃ¤tere Verwendung in anderen Projekten in separate Komponenten zu integrieren.  FÃ¼gen Sie dazu den Server auf <i>Node.js hinzu</i> und Sie erhalten einen sehr realen Fall aus dem Leben. <br><br><h3>  Garnarbeitsbereiche </h3><br>  Der letzte Schliff vor dem Erstellen eines vollwertigen <b>Mono-Repositorys</b> ist das Design von <i>package.json</i> im Stammverzeichnis unseres Repositorys.  Beachten Sie die Eigenschaft <i>workspaces</i> - wir haben den Wert von <i>packages / * angegeben</i> , was "alle UnterschlÃ¼ssel im Paketordner" bedeutet.  In unserem Fall ist dies die <i>erste</i> und <i>zweite</i> <i>App</i> . <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// package.json { "name": "monorepo", "version": "1.0.0", "main": "packages/app/index.js", "license": "MIT", "private": true, "workspaces": [ "packages/*" ] }</span></span></code> </pre> <br>  AuÃŸerdem muss in <i>package.json</i> <i>"private": true</i> angegeben <i>werden</i> , da <i>Arbeitsbereiche</i> nur in privaten Projekten verfÃ¼gbar sind. <br><br>  FÃ¼hren Sie den Befehl <i>yarn</i> (analog zu <i>yarn install</i> oder <i>npm install</i> ) aus dem Stammverzeichnis aus, damit alles abheben kann.  Da die im <i>App-</i> Modul vorhandenen AbhÃ¤ngigkeiten im <i>Stammpaket.json</i> als <i>Arbeitsbereiche</i> definiert sind, werden wir nichts von der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">npm-Registrierung</a> herunterladen, sondern einfach unsere Pakete binden ("verlinken"). <br><br><pre> <code class="bash hljs">yarn</code> </pre> <br><img src="https://habrastorage.org/webt/hp/sz/m6/hpszm6bs8xrdmb1fguwl9pzx4zg.png" alt="Bild"><br><br>  Jetzt kÃ¶nnen wir den <i>Knotenbefehl</i> ausfÃ¼hren <i>.</i>  aus dem Stammverzeichnis, in dem das Skript aus der <i>Datei packages / app / index.js ausgefÃ¼hrt wird</i> . <br><br><pre> <code class="bash hljs">node .</code> </pre> <br><img src="https://habrastorage.org/webt/xe/xl/2c/xexl2cpgenqejsz7kbusvpsn0_i.png" alt="Bild"><br><br>  Mal sehen, wie es funktioniert.  <i>Durch</i> Aufrufen von <i>Garn</i> haben wir in <i>node_modules</i> symbolische Links zu unseren Verzeichnissen im <i>Paketordner</i> <i>erstellt</i> . <br><br><img src="https://habrastorage.org/webt/y2/y-/sj/y2y-sjr7-7blo6ddwgi41ijvvuq.png" alt="Bild"><br><br>  Aufgrund dieser AbhÃ¤ngigkeitsbeziehung haben wir einen groÃŸen Vorteil: Wenn wir jetzt das <i>erste</i> und <i>zweite</i> Modul Ã¤ndern, erhÃ¤lt unsere <i>App</i> die aktuelle Version dieser Pakete, ohne sie neu zu erstellen.  In der Praxis ist es sehr praktisch, weil  Wir kÃ¶nnen Pakete lokal entwickeln und sie dennoch als AbhÃ¤ngigkeiten von Drittanbietern definieren (zu denen sie schlieÃŸlich werden). <br><br>  Der nÃ¤chste wichtige Vorteil, den Sie durch die Arbeit mit <i>Garnarbeitsbereichen</i> erzielen kÃ¶nnen, ist die Organisation der Speicherung von AbhÃ¤ngigkeiten von Drittanbietern. <br><br><div class="spoiler">  <b class="spoiler_title">Weitere Informationen zum Speichern von AbhÃ¤ngigkeiten auf oberster Ebene.</b> <div class="spoiler_text">  Angenommen, wir wollten die <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Lodash-</a></i> Bibliothek in der <i>ersten</i> und <i>zweiten verwenden</i> .  <i>Durch AusfÃ¼hren des Befehls yarn add lodash</i> aus den entsprechenden Verzeichnissen erhalten wir eine Aktualisierung der lokalen <i>package.json</i> - die aktuelle Version des Pakets wird in <i>AbhÃ¤ngigkeiten</i> <i>angezeigt</i> . <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"dependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"lodash"</span></span>: <span class="hljs-string"><span class="hljs-string">"^4.17.11"</span></span> }</code> </pre> <br>  Was das <i>lodash-</i> Paket <i>selbst betrifft</i> - physisch wird die Bibliothek einmal in <i>node_modules</i> auf der Stammebene installiert. <br>  Wenn die erforderliche Version des externen Pakets (in unserem Fall <i>lodash</i> ) fÃ¼r <i>first</i> und second unterschiedlich ist (z. B. benÃ¶tigen <i>Sie zuerst lodash v3.0.0</i> und in <i>second v4.0.0</i> ), <i>gelangt</i> ein Paket mit einer niedrigeren Version ( <i>3.0.0</i> ) zu den root <i>node_modules</i> , und die <i>lodash-</i> Version fÃ¼r das <i>zweite</i> Modul wird in den lokalen <i>Paketen / second / node_modules gespeichert</i> . <br>  ZusÃ¤tzlich zu den Vorteilen kann dieser Ansatz geringfÃ¼gige Nachteile aufweisen, die das <i>Garn</i> mit Hilfe zusÃ¤tzlicher Fahnen umgehen kann.  Weitere Informationen zu solchen Nuancen finden Sie in der <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">offiziellen Dokumentation</a> . <br></div></div><br><h2>  Lerna hinzufÃ¼gen </h2><br>  Der erste Schritt bei der Arbeit mit <i>lerna</i> ist die Installation des Pakets.  Normalerweise fÃ¼hren sie eine globale Installation durch ( <i>Garn global add lerna</i> oder <i>npm i -g lerna</i> ). Wenn Sie jedoch nicht sicher sind, ob Sie diese Bibliothek verwenden mÃ¶chten, kÃ¶nnen Sie den Aufruf mit <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">npx verwenden</a> . <br><br>  Wir werden <i>lerna</i> aus dem Stammverzeichnis initialisieren: <br><br><pre> <code class="bash hljs">lerna init</code> </pre> <br><img src="https://habrastorage.org/webt/xx/0z/pe/xx0zpe3xfvy1msih3a63tjxiu5o.png" alt="Bild"><br><br>  TatsÃ¤chlich haben wir mit Hilfe eines Befehls mehrere Aktionen gleichzeitig ausgefÃ¼hrt: ein Git-Repository erstellt (falls es zuvor nicht initialisiert worden war), eine <i>lerna.json-</i> Datei erstellt und unser <i>Stammpaket.json</i> aktualisiert. <br><br>  <i>FÃ¼gen Sie</i> nun in der neu erstellten Datei <i>lerna.json</i> zwei Zeilen hinzu - <i>"npmClient": "Garn"</i> und <i>"useWorkspaces": true</i> .  In der letzten Zeile steht, dass wir bereits <i>Garnarbeitsbereiche verwenden und der Ordner app / node_modules</i> mit symbolischen Links zum <i>ersten</i> und <i>zweiten nicht erstellt werden muss</i> . <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// lerna.json { "npmClient": "yarn", "packages": [ "packages/*" ], "version": "1.0.0", "useWorkspaces": true }</span></span></code> </pre> <br><h3>  Tests mit Lerna </h3><br>  Um die Bequemlichkeit der Arbeit mit <i>lerna</i> zu <i>demonstrieren,</i> fÃ¼gen Sie Tests fÃ¼r unsere Bibliotheken hinzu. <br>  Aus dem Stammverzeichnis installieren wir das Paket zum Testen - <i>Scherz</i> .  FÃ¼hren Sie den folgenden Befehl aus: <br><br><pre> <code class="bash hljs">yarn add -DW jest</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Warum brauche ich das Flag -DW?</b> <div class="spoiler_text">  Das Flag -D (- dev) wird benÃ¶tigt, damit das <i>Scherzpaket</i> als Dev-AbhÃ¤ngigkeit installiert wird, und das Flag -W (- ignore-workspace-root-check) ermÃ¶glicht die Installation auf der Root-Ebene (die wir benÃ¶tigen). <br></div></div><br>  Der nÃ¤chste Schritt ist das HinzufÃ¼gen einer Testdatei zu unserem Paket.  Zur Vereinfachung unseres Beispiels werden wir alle Tests Ã¤hnlich machen.  Im <i>ersten</i> Beispiel sieht die Testdatei folgendermaÃŸen aus: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// packages/first/test.js const first = require('.'); describe('first', () =&gt; { it('should return correct message', () =&gt; { const result = first(); expect(result).toBe('Hi from the first module'); }); });</span></span></code> </pre> <br>  Wir mÃ¼ssen auch ein Skript hinzufÃ¼gen, um Tests in <i>package.json</i> jeder unserer Bibliotheken <i>auszufÃ¼hren</i> : <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// packages/*/package.json ... "scripts": { "test": "../../node_modules/.bin/jest --colors" }, ...</span></span></code> </pre><br>  Der letzte Schliff wird die Aktualisierung der root <i>package.json sein</i> .  FÃ¼gen Sie ein <i>Testskript hinzu</i> , das <i>lerna run test --stream aufruft</i> .  Der Parameter nach <i>lerna run</i> definiert den Befehl, der in jedem unserer Pakete aus dem <i>Paket /</i> Ordner <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">aufgerufen</a></i> wird, und das Flag <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">--stream</a></i> ermÃ¶glicht es uns, die Ausgabe der Ergebnisse im Terminal <i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">anzuzeigen</a></i> . <br><br>  Infolgedessen <i>sieht package.json</i> aus dem Stammverzeichnis <i>folgendermaÃŸen</i> aus: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// package.json { "name": "monorepo", "version": "1.0.0", "main": "packages/app/index.js", "license": "MIT", "private": true, "workspaces": [ "packages/*" ], "scripts": { "test": "lerna run test --stream" }, "devDependencies": { "jest": "^24.7.1", "lerna": "^3.13.2" } }</span></span></code> </pre> <br>  Um die Tests auszufÃ¼hren, mÃ¼ssen wir nur den Befehl vom Stammverzeichnis unseres Projekts aus ausfÃ¼hren: <br><br><pre> <code class="bash hljs">yarn <span class="hljs-built_in"><span class="hljs-built_in">test</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/hs/8x/ti/hs8xtihl1ig7fkcxdgpum82otqy.png" alt="Bild"><br><br><h3>  Versions-Upgrade mit Lerna </h3><br>  Die nÃ¤chste beliebte Aufgabe, mit der <i>lerna</i> die QualitÃ¤t bewÃ¤ltigen kann, ist die Aktualisierung der Paketversionen.  Stellen Sie sich vor, wir haben uns nach der Implementierung der Tests entschlossen, unsere Bibliotheken von 1.0.0 auf 2.0.0 zu aktualisieren.  <i>FÃ¼gen</i> Sie dazu einfach die Zeile <i>"update: version": "lerna version --no-push"</i> in das <i>Skriptfeld</i> der <i>Datei "</i> root <i>package.json" ein</i> und fÃ¼hren Sie dann " <i>Garn update: version"</i> aus dem Stammverzeichnis aus.  Das Flag <i>--no-push</i> wird hinzugefÃ¼gt, damit die Ã„nderungen nach dem Aktualisieren der Version nicht an das Remote-Repository gesendet werden, was <i>lerna</i> standardmÃ¤ÃŸig tut (ohne dieses Flag). <br><br>  Infolgedessen <i>sieht</i> unser root <i>package.json folgendermaÃŸen</i> aus: <br><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// package.json { "name": "monorepo", "version": "1.0.0", "main": "packages/app/index.js", "license": "MIT", "private": true, "workspaces": [ "packages/*" ], "scripts": { "test": "lerna run test --stream", "update:version": "lerna version --no-push" }, "devDependencies": { "jest": "^24.7.1", "lerna": "^3.13.2" } }</span></span></code> </pre> <br>  FÃ¼hren Sie das Versionsaktualisierungsskript aus: <br><br><pre> <code class="bash hljs">yarn update:version</code> </pre> <br>  Als nÃ¤chstes werden wir aufgefordert, die Version auszuwÃ¤hlen, zu der wir wechseln mÃ¶chten: <br><br><img src="https://habrastorage.org/webt/yh/9u/_q/yh9u_q_xoiokycczph0iwzpzuqo.png" alt="Bild"><br><br>  Durch Klicken auf die <i>Eingabetaste erhalten</i> wir eine Liste der Pakete, in denen die Version aktualisiert wird. <br><br><img src="https://habrastorage.org/webt/os/p4/2p/osp42ptsjd5vkf1wm_ja7nbb1lq.png" alt="Bild"><br><br>  Wir bestÃ¤tigen das Update durch Eingabe von <i>y</i> und erhalten eine Nachricht Ã¼ber das erfolgreiche Update. <br><br><img src="https://habrastorage.org/webt/5k/ll/6b/5kll6bkqmeejvzn9f6zzy4xopzs.png" alt="Bild"><br><br>  Wenn wir versuchen, den Befehl <i>git status</i> auszufÃ¼hren, erhalten wir die Nachricht, dass <i>nichts festgeschrieben werden muss</i>  <i>Die lerna-Version</i> aktualisiert nicht nur die Paketversionen, sondern erstellt auch ein Git-Commit und ein Tag, das die neue Version angibt (in unserem Fall v2.0.0). <br><br><div class="spoiler">  <b class="spoiler_title">Funktionen der Arbeit mit dem lerna version team</b> <div class="spoiler_text">  Wenn Sie im <i>Skriptfeld</i> der <i>Datei</i> root <i>package.json</i> die Zeile <i>"version": "lerna version --no-push"</i> anstelle von <i>"update: version": "lerna version --no-push"</i> <i>hinzufÃ¼gen</i> , kÃ¶nnen Sie hÃ¶chstwahrscheinlich auf unerwartetes Verhalten stoÃŸen rote Konsole.  Tatsache ist, dass <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">npm-scripts</a> standardmÃ¤ÃŸig den <i>Versionsbefehl</i> (reserviertes Skript) unmittelbar nach dem Aktualisieren der Paketversion <i>aufruft</i> , was zu einem rekursiven Aufruf der <i>lerna-Version fÃ¼hrt</i> .  Um diese Situation zu vermeiden, reicht es aus, dem Skript einen anderen Namen zu geben, z. B. <i>update: version</i> , wie in unserem Beispiel. <br></div></div><br><h3>  Fazit </h3><br>  Diese Beispiele zeigen ein Hundertstel aller MÃ¶glichkeiten, die <i>lerna</i> in Verbindung mit <i>Garnarbeitsbereichen</i> bietet.  Leider habe ich bisher keine detaillierten Anweisungen fÃ¼r die Arbeit mit Monorepositories auf Russisch gefunden, sodass wir davon ausgehen kÃ¶nnen, dass der Anfang gemacht wurde! <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Link</a> zum Testprojekt-Repository. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de448766/">https://habr.com/ru/post/de448766/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de448756/index.html">Hintergrund: Warum Apple und Qualcomm sich stritten und sich dann versÃ¶hnten</a></li>
<li><a href="../de448758/index.html">Smartwatch mit BASIC auf physischem 6502</a></li>
<li><a href="../de448760/index.html">Entwicklung in der Cloud, Informationssicherheit und personenbezogene Daten: Zusammenfassung zum Lesen an Wochenenden von 1cloud</a></li>
<li><a href="../de448762/index.html">Aufstand auf der Picaba. Benutzer gehen massiv zu Reddit</a></li>
<li><a href="../de448764/index.html">Uhren auf ATtiny13</a></li>
<li><a href="../de448768/index.html">Mehrebenen-Lichtsteuerung: Ausfallsicherheit von LÃ¶sungen und Produkten</a></li>
<li><a href="../de448770/index.html">Aktualisierte Razor-UnterstÃ¼tzung in Visual Studio Code. Jetzt mit Blazor</a></li>
<li><a href="../de448774/index.html">SQL zu CSV mit DBMS_SQL</a></li>
<li><a href="../de448776/index.html">RxVMS - Eine praktische Architektur fÃ¼r Flatteranwendungen</a></li>
<li><a href="../de448778/index.html">EinfÃ¼hrung in das Zeitreise-Debugging fÃ¼r Visual Studio Enterprise 2019</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>