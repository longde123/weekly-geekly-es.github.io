<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ¼â€ğŸ­ ğŸ•£ âœğŸ¿ AWS Lambda - Teori, Kenalan â†”ï¸ ğŸ›¸ ğŸ¥š</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Tur singkat AWS Lambda 
 Apa ini 
 AWS Lambda: Ini adalah layanan komputasi yang memungkinkan Anda menjalankan kode untuk hampir semua jenis aplikasi ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>AWS Lambda - Teori, Kenalan</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457100/"><h2>  Tur singkat AWS Lambda </h2><br><h3>  Apa ini </h3><br>  <b>AWS Lambda:</b> Ini adalah layanan komputasi yang memungkinkan Anda menjalankan kode untuk hampir semua jenis aplikasi atau layanan server - semuanya tanpa administrasi.  AWS Lambda melakukan semua administrasi untuk Anda, termasuk pemeliharaan server dan sistem operasi, alokasi sumber daya dan penskalaan otomatis, pemantauan kode, dan pencatatan.  Yang harus Anda lakukan adalah mengirimkan kode Anda dalam salah satu bahasa yang didukung AWS Lambda. <br><br><h3>  Kenapa menggunakannya? </h3><br><ul><li>  <b>Uang</b>  Anda hanya membayar untuk saat layanan berjalan. </li><li>  <b>Kecepatan.</b>  Lambda sendiri naik dan bekerja sangat cepat. </li><li>  <b>Kenyamanan</b>  Lambda memiliki banyak fitur untuk diintegrasikan dengan layanan AWS. </li><li>  <b>Performa.</b>  Secara paralel, ini dapat dilakukan, tergantung pada wilayah, dari maksimum 1000 hingga 3000 salinan.  Dan jika Anda mau, batas ini dapat dinaikkan dengan menulis dukungan. </li></ul><br><blockquote>  Pendekatan ini memiliki kelemahannya, Anda tidak dapat mengontrol sistem operasi tempat kode dijalankan, Anda tidak dapat mengontrol CPU, memori dan sumber daya.  Semua ini dilakukan oleh AWS. <br><br>  Yang dapat Anda lakukan adalah memilih bahasa dari AWS Lambda yang didukung. </blockquote><br><h2>  Apa yang bisa? </h2><br>  <b>Berikut ini adalah daftar singkat fitur utama AWS Lambda.</b>  <b>Selanjutnya, kami akan mempertimbangkan semuanya dalam urutan.</b> <br><br><img src="https://habrastorage.org/webt/lk/ke/ur/lkkeurxtlx9itiqksndcmjbn2rq.png"><br><a name="habracut"></a><br><h3>  1. Pemicu </h3><br>  <b>Pemicu</b> adalah "patogen" lambda.  Di satu sisi, lambda dapat dibandingkan dengan PHP, dalam arti bahwa bagi kita itu <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">berjalan dan mati</a> .  Selanjutnya, kami akan mempertimbangkan secara rinci mekanisme kerja.  Untuk saat ini, Anda perlu memahami bahwa lambda adalah salah satu fungsi yang dijalankan berdasarkan permintaan dari pemicu. <br><br>  <b>Di bawah ini adalah daftar semua pemicu yang mungkin:</b> <br><br>  API Gateway <br>  AWS IoT <br>  Kit Keterampilan Alexa <br>  Alexa Smart Home <br>  Penyeimbang beban aplikasi <br>  Cloudfront <br>  Acara Cloudwatch <br>  Log cloudwatch <br>  KodeKomite <br>  Pemicu sinkronisasi Cognito <br>  Dynamodb <br>  Kinesis <br>  S3 <br>  SNS <br>  SQS <br><br>  Untuk masing-masing, Anda perlu mengkonfigurasi parameter unik yang tersedia untuk pemicu ini.  Anda juga dapat mengonfigurasi beberapa pemicu pada satu lambda.  Itu tergantung pada jenis pemicu apakah lambda akan menjalankan secara sinkron atau asinkron. <br><blockquote>  <b>Perhatikan:</b> Harap dicatat bahwa lambda dapat dibuat untuk mengeksekusi baik dengan menggunakan AWS CLI, AWS SDK dalam mode manual, melewati semua parameter yang diperlukan.  Termasuk apakah itu akan berjalan secara sinkron atau tidak </blockquote><br><h4>  Mari kita lihat sebuah contoh: </h4><br>  <b>1. Gateway API</b> - memungkinkan Anda untuk menarik lambda pada permintaan http dan mengharuskan hasilnya dikembalikan kepada pengguna.  Operasi semacam itu tidak dapat dilakukan secara tidak sinkron, karena  membutuhkan jawaban.  Untuk operasi sinkron, beberapa fungsi tidak tersedia. <br><br>  <b>2. SQS</b> - misalnya, jika lambda kami memproses pesan dari SQS, Anda tidak perlu mengembalikan hasilnya di mana pun dan itu dapat dilakukan secara tidak sinkron.  Dengan eksekusi asinkron, beberapa fitur baru muncul, misalnya, kami dapat mengonfigurasi eksekusi berulang jika terjadi kesalahan, atau mengirim permintaan tersebut lebih jauh ke antrian <b>SQS</b> "mati". <br><br><h3>  2. Izin untuk Layanan AWS </h3><br>  Ini adalah layanan AWS yang memiliki akses default ke lambda.  Apa artinya ini?  Anda selalu dapat menghubungkan AWS SDK ke fungsi yang akan Anda tulis, dan tanpa kunci atau parameter otorisasi apa pun, Anda dapat menggunakan layanan yang tersedia.  Anda mendefinisikan semua layanan yang tersedia di <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Peran IAM</a> yang Anda gunakan untuk lambda ini. <br><br>  Setiap bahasa yang digunakan memiliki SDK sendiri yang dapat berkomunikasi dengan layanan AWS utama. <br><blockquote>  <b>Perhatikan:</b> untuk setiap lambda Anda mengkonfigurasi <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Peran IAM</a> dari orang yang akan menjalankan lambda </blockquote><br><h3>  3. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">VPC</a> </h3><br>  Anda dapat mengkonfigurasi jaringan virtual untuk lambda Anda, misalnya, untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">terhubung dengan aman</a> ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RDS</a> . <br><br><h3>  4. Editor Online </h3><br>  AWS Lambda juga menyediakan kemampuan untuk mengedit kode fungsi Anda langsung dari antarmuka di browser Anda. <br><br><img src="https://habrastorage.org/webt/yy/hs/4y/yyhs4ymw2tzhj7hrsb8glnpttfm.png"><br><br><h3>  5. Penebangan </h3><br>  Semua permintaan untuk lambda masuk ke <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">CloudWatch</a> , data saat runtime dan memori juga dicatat di sana, data ini bisa sangat berguna untuk menetapkan batas.  Juga, kode ini memiliki kemampuan untuk mencatat data Anda sendiri (misalnya, di Node.js via console.log). <br><br>  Selain itu, Anda selalu dapat melihat statistik tentang penggunaan lambda pada tab <b>Monitoring</b> . <br><br><h3>  6. Variabel Lingkungan </h3><br>  Anda memiliki kesempatan untuk mentransfer variabel lingkungan dengan aman ke dalam kode, yang memungkinkan Anda untuk mengonfigurasi bagian-bagian penting dari sistem tanpa mengirimkan kode.  Dimungkinkan untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">mengenkripsi variabel lingkungan melalui kunci.</a> <br><blockquote>  <b>Perhatikan:</b> Perhatikan bahwa ada daftar variabel lingkungan yang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">telah ditentukan sebelumnya</a> </blockquote><br><h3>  7. Kode </h3><br>  <b>Sekarang bagian yang paling menarik, lambda itu sendiri terdiri dari beberapa bagian.</b> <br><br>  <b>1. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Layers</a></b> - lapisan bawah.  Ini opsional, tetapi jika Anda perlu menambahkan beberapa perpustakaan untuk menggunakan lambda, Anda harus meletakkannya secara terpisah dari kode utama, sehingga Anda sangat menghemat jumlah kode utama dan kecepatan fungsi itu sendiri. <br><br>  Lapisan dalam AWS Lambda agak mirip dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">lapisan di buruh pelabuhan</a> , dalam arti mereka permanen sehubungan dengan fungsi, dan mereka perlu diubah secara terpisah.  Mereka juga dapat digunakan kembali di lambda lainnya. <br><br>  <b>2. Function Environment</b> - kode harus berisi fungsi yang akan langsung dieksekusi setiap kali lambda <b>(Handler)</b> diluncurkan.  Tentang dia di bawah ini.  Dan di depannya adalah lingkungannya, yang kami minta.  Faktanya adalah bahwa manajemen sumber daya terjadi sedemikian rupa sehingga lingkungan ini disimpan secara terpisah dari fungsi untuk beberapa waktu setelah selesai.  Dan pada awal berikutnya, ia melanjutkan tanpa menghabiskan waktu dan sumber daya untuk inisialisasi.  Jadi, segala sesuatu yang mungkin perlu diinisialisasi ke fungsi itu sendiri, misalnya, konfigurasi, menghubungkan perpustakaan, dll. <br><br>  <b>3. Handler</b> - kode yang dieksekusi langsung itu sendiri, tergantung pada bahasanya, didefinisikan secara berbeda.  Misalnya, ambil Node.Js.  Agar kode Anda dapat dieksekusi, Anda perlu: <br><br><ol><li>  file js - 1 pc </li><li>  exports.yourFunction = () =&gt; {// Kode Anda} - 1pc </li></ol><br>  Secara default, index.js diluncurkan dan mencari fungsi yang disebut "handler" di dalamnya.  Kemudian lakukan itu.  Fungsi Anda mungkin tidak sinkron dalam kode.  Ini tidak mempengaruhi eksekusi lambda yang sinkron. <br><br>  Di bawah ini adalah contoh kode, saya akan mencoba menggambarkan apa yang terjadi di sana: <br><br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//AWS SDK  ,     e var AWS = require('aws-sdk'); //   //   ,    //   API Gateway. // ,    http  exports.handler = async(event, context) =&gt; { // event       // context     aws lambda : //   ,      console.log('testing cloud watch'); // ^       Cloud Watch   return { //     http ,     statusCode: 200, body: 'Hello world', headers: {} }; }; exports.handler = (event, context, callback) =&gt; { //    callback, // -      callback( null, //&lt;-  ,       { //     statusCode: 200, body: 'Hello world' } ); };</span></span></code> </pre> <br><h3>  8. Versi </h3><br>  Layanan ini mendukung pembuatan versi yang nyaman.  Singkatnya, kita dapat mengeluarkan versi untuk setiap salinan yang diunduh.  Dan tambahkan alias yang mengarah ke beberapa versi.  Bagaimana cara kerjanya?  Lihat grafik di bawah ini. <br><br><img src="https://habrastorage.org/webt/9n/m-/5r/9nm-5r9vatuospaqdnmjk_l5rys.png"><br><br><h3>  Jadi, sekarang mari kita mencari tahu apa yang perlu dilakukan untuk mendapatkan apa yang kita lihat dalam diagram </h3><br><h4>  Nyatakan satu </h4><br><ol><li>  Buat versi pertama lambda kami.  Bersama dengan versi pertama, kami membuat pointer ke versi <b>"$ TERBARU"</b> .  Itu selalu menunjukkan versi terbaru ditambahkan. </li><li>  Tambahkan alias <b>"Dev"</b> .  Di sini kita memilih tempat untuk mengikat, kami memiliki beberapa opsi - buat pointer ke nomor versi tertentu, dalam kasus kami <b>"1"</b> , ikat pointer ke <b>"$ TERBARU"</b> , atau ikat ke alias lain.  Dalam hal ini, kami lampirkan ke pointer <b>"$ TERBARU"</b> , dan sekarang alias <b>"Dev" kami</b> akan selalu mengarah ke cabang terakhir, jadi kami selalu dapat menguji aplikasi kami dengan versi lambda terbaru di lingkungan dev.  Dan jika tiba-tiba kita perlu memeriksa cara kerjanya pada versi lama, kita hanya perlu mengganti alias di pelatuk atau mengubah tautan ke versi di alias tanpa menyentuh aplikasi kita </li><li>  Tambahkan alias <b>Panggung</b> dan ikat ke versi pertama lambda kami </li><li>  Tambahkan alias <b>"Prod"</b> dan ulangi apa yang kami lakukan untuk <b>"Stage"</b> </li></ol><br><blockquote>  <b>Perhatikan: di</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">sini</a> dijelaskan cara bekerja dengan alias dalam praktik.  Bagian praktis pada lambda akan di artikel berikutnya bersama dengan SQS </blockquote><br>  <b>Jadi, sekarang kita punya sesuatu yang tidak bisa dimengerti, sebenarnya 3 alias merujuk ke satu versi, tidak jelas.</b>  <b>Tapi tidak ada, semuanya beres</b> <br><br><h4>  Negara kedua </h4><br><ol><li>  Buat versi kedua lambda kami (Mungkin untuk menambahkan output kedua "Hello world").  Di sini saya ingin mencatat bahwa pada saat ini <b>"$ TERBARU"</b> akan segera melihat versi kedua.  Dan karena <b>"Dev"</b> terikat dengan <b>"$ TERBARU"</b> , ia juga akan melihat versi kedua. </li><li>  Selanjutnya, kami ingin <b>Panggung</b> kami melihat versi kedua.  Sekarang ini terkait dengan versi <b>"1"</b> .  Di sini kita perlu mengubah versi yang ditunjukkan oleh <b>"Tahap</b> " secara manual. </li><li>  Bersukacitalah.  Kami mendapat apa yang kami lihat sebagai keadaan kedua di grafik.  Yaitu, <b>"Prod" kami</b> melihat versi pertama, dan <b>"Dev"</b> dan <b>"Tahap"</b> di versi kedua. </li></ol><br><h4>  Negara ketiga </h4><br>  Sekarang, untuk mendapatkan status ketiga, kita hanya perlu menambahkan beberapa baris lagi ke kode kita dan akan ada versi ketiga dari lambda kita.  Dan <b>"Dev"</b> sekarang akan melihatnya. <br><br><h2>  Ringkaslah </h2><br>  Jadi apa yang kita miliki? <br><br>  Sedikit.  Cepat  Relatif murah.  Autoscale.  Berversi.  Fungsi <br>  Pada artikel ini, kami hanya mempertimbangkan bagian teoretis, keakraban dengan layanan ini.  Sama seperti dengan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">SQS</a> di artikel terakhir.  Pada artikel selanjutnya, kita akan mempertimbangkan bagaimana kedua layanan ini saling berinteraksi dan dalam bentuk praktis kita akan belajar cara mengkonfigurasi dan menggunakannya. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id457100/">https://habr.com/ru/post/id457100/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id457090/index.html">Safety Cribs: JWT</a></li>
<li><a href="../id457092/index.html">Kami mempelajari MITER ATT & CK. Matriks Seluler: Akses Perangkat. Bagian 5</a></li>
<li><a href="../id457094/index.html">Add-in Excel yang memudahkan untuk mengatur filter saat bekerja dengan kubus (VBA)</a></li>
<li><a href="../id457096/index.html">Kami membebaskan tangan kami ke beberapa analis: API Livy untuk otomatisasi tugas perbankan yang khas</a></li>
<li><a href="../id457098/index.html">Penanganan kesalahan JavaScript yang elegan dengan Either monad</a></li>
<li><a href="../id457102/index.html">File QVD - apa yang ada di dalamnya, bagian 3</a></li>
<li><a href="../id457106/index.html">Perang robo-panggilan AS - siapa yang menang dan mengapa</a></li>
<li><a href="../id457108/index.html">WWDC19: Memulai dengan Rencana Tes untuk XCTest</a></li>
<li><a href="../id457110/index.html">Unit Pengujian Pola C ++ dan Injeksi Mock Menggunakan Sifat</a></li>
<li><a href="../id457112/index.html">Hasil HolyJS 2019 Piter</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>