<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐴 🎨 🥠 Kami mengotomatiskan pengujian UI aplikasi Android menggunakan pola Obyek Halaman 💸 ✍🏻 🌃</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pola Objek Halaman muncul dalam pengujian web dan terbukti sangat bagus di sana. Ketika saya mulai mengotomatiskan tes untuk aplikasi android, hal per...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kami mengotomatiskan pengujian UI aplikasi Android menggunakan pola Obyek Halaman</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/416397/"><img src="https://habrastorage.org/webt/4_/iz/s7/4_izs7jhyvtyy6meo09cgf1ee2c.png" alt="gambar"><br><br>  Pola Objek Halaman muncul dalam pengujian web dan terbukti sangat bagus di sana.  Ketika saya mulai mengotomatiskan tes untuk aplikasi android, hal pertama yang saya pikirkan adalah.  Saya mencari informasi di jaringan, bertanya pada kolega saya dan, pada prinsipnya, tidak menemukan alasan untuk tidak mencoba.  Saya mengusulkan untuk melihat apa yang terjadi. <br><a name="habracut"></a><br>  Objek Halaman klasik menyiratkan dua tingkat abstraksi: elemen halaman dan tes.  Saya menyoroti satu lagi - logika bisnis.  Saya perhatikan bahwa cara Anda membangun kerangka kerja Anda akan sangat mempengaruhi kemudahan penulisan tes di masa depan, serta dukungan mereka.  Saya mencoba untuk membuat kode tes terlihat seperti itu adalah tes normal yang ditulis oleh penguji biasa.  Yaitu  Saya mulai dari akhir: <br><br><ol><li>  Saya menulis kode kasus tes yang indah dan jelas, </li><li>  Saya menerapkan metode dari kasus uji di lapisan logika bisnis, </li><li>  Saya menggambarkan elemen-elemen yang diperlukan untuk pengujian. </li></ol><br>  Pendekatan ini baik karena kita tidak melakukan apa-apa ekstra - kerangka kerja dibangun di atas sebanyak yang diperlukan agar tes dapat bekerja.  Kita dapat mengatakan bahwa ini adalah konsep MVP dalam pengujian: mereka dengan cepat membuat karya, dan sudah mulai membawa manfaat.  Jika Anda pertama kali menulis ribuan baris, menggambarkan halaman aplikasi Anda dan cara berinteraksi dengannya, dan setelah tiga bulan Anda keluar dari "lubang" untuk klik pertama dan menyadari bahwa Anda harus melakukan segalanya secara berbeda, maka sebagian besar kreasi Anda akan dikutuk selamanya " mengumpulkan debu ”di ruang bawah tanah git ... Seorang penguji sejati tahu bahwa semakin cepat bug ditemukan, semakin murah untuk memperbaikinya.  Gunakan pendekatan ini dalam segala hal - menulis ujian dalam beberapa jam, mencobanya, tidak menyukainya - membuangnya, belajar pelajaran, melanjutkan. <br><br>  Jadi inputnya adalah: <br><br><ul><li>  Aplikasi Android untuk perdagangan di bursa efek; </li><li>  Java untuk bekerja di tumpukan yang sama dengan pengembang; </li><li>  kerangka dasar Automator UI; </li><li>  Anda perlu menulis tes masuk dalam aplikasi. </li></ul><br><h3>  Persiapan proyek </h3><br>  Karena saya mencoba mengintegrasikan sebanyak mungkin ke dalam proses pengembangan, saya tidak mulai membuat proyek baru.  Menurut <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> , tes instrumental harus ditempatkan di folder <code>src/androidTest/java</code> .  Dalam kasus saya, kolektor telah dikonfigurasikan, jika Anda memiliki sesuatu yang salah, kemudian baca tentang <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">konfigurasi build</a> .  Kita juga membutuhkan lingkungan pengembangan, Android SDK, Emulator, alat, platform-alat dan platform yang diperlukan untuk emulator.  Jika Anda menggunakan Android Studio, maka semua ini dapat diinstal dengan cepat melalui SDK Manager: <br><br><img src="https://habrastorage.org/webt/fi/fg/vd/fifgvdmdiqds3uyoqitomjwsmsa.png"><br><br><h3>  Lapisan uji </h3><br>  Seperti yang saya tulis di atas, kami akan mengotomatiskan uji masuk dalam aplikasi.  Ingat bahwa kode harus terlihat seperti test case biasa: <br><br>  <b>Prasyarat:</b> jalankan aplikasi. <br>  <b>Langkah 1:</b> masuk menggunakan akun myLogin / myPassword. <br>  <b>Langkah 2:</b> periksa nama pengguna saat ini. <br>  <b>Hasil yang Diharapkan:</b> pengguna saat ini adalah Ivan Ivanov. <br><br>  <i>Penafian kecil: sesuai dengan praktik terbaik uji desain, pada prasyarat Anda perlu membuat / menemukan akun.</i>  <i>Saya menghilangkan momen ini sebagai contoh sederhana.</i> <br><br>  Kelas kami akan terlihat seperti ini: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@RunWith</span></span>(AndroidJUnit4.class) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoginTests</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> TestApplication myApp; <span class="hljs-meta"><span class="hljs-meta">@Before</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ myApp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> TestApplication(); } <span class="hljs-meta"><span class="hljs-meta">@Test</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">testLogin</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ myApp.login(<span class="hljs-string"><span class="hljs-string">"myLogin"</span></span>,<span class="hljs-string"><span class="hljs-string">"myPassword"</span></span>); String currentUser = myApp.getCurrentUserName(); assertEquals(<span class="hljs-string"><span class="hljs-string">"Wrong name"</span></span>, <span class="hljs-string"><span class="hljs-string">" "</span></span>, currentUser); } <span class="hljs-meta"><span class="hljs-meta">@After</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">tearDown</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ myApp.close(); } }</code> </pre> <br><h3>  Logika bisnis </h3><br>  Tes menggunakan kelas <code>TestApplication()</code> dan dua metode: <code>login()</code> dan <code>getCurrentUserName()</code> .  Plus, Anda memerlukan konstruktor kelas (meluncurkan aplikasi di dalamnya) dan metode <code>close()</code> . Bagian depan jelas: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TestApplication</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> UiDevice device; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> PageObject page; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TestApplication</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">login</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String login, String password)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCurrentUserName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">close</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } }</code> </pre> <br>  Sebuah instance dari kelas kami akan memiliki dua variabel: <br><br><ul><li>  <code>device</code> , milik kelas <code>android.support.test.uiautomator.UiDevice</code> - melalui itu kita berinteraksi dengan perangkat kita; </li><li>  <code>page</code> , kelas <code>PageObject</code> , yang akan kita buat di bagian selanjutnya. </li></ul><br>  Mari kita mulai dengan konstruktor.  Di dalamnya, buat instance variabel kami dan jalankan aplikasi: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TestApplication</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Connect to device device = UiDevice.getInstance(InstrumentationRegistry.getInstrumentation()); device.pressHome(); // Get launch intent String packageName = InstrumentationRegistry.getTargetContext() .getPackageName(); Context context = InstrumentationRegistry.getContext(); Intent intent = context.getPackageManager() .getLaunchIntentForPackage(packageName) .addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK); // Stat application context.startActivity(intent); // Get page objects page = new PageObject(device, packageName); }</span></span></code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Beberapa tips untuk meluncurkan aplikasi</b> <div class="spoiler_text">  Untuk lebih mengontrol aplikasi yang sedang diuji, Anda dapat menambahkan harapan bagi peluncur untuk memulai (jika Anda menjalankan emulator "saat dingin") dan aplikasi itu sendiri.  Ini juga disarankan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">dokumentasi</a> . <br></div></div><br>  <i>Catatan: menjalankan aplikasi melalui <code>android.content.Context.getTargetContext()</code> hanya cocok jika tes Anda dalam proyek yang sama dengan aplikasi itu sendiri.</i>  <i>Jika secara terpisah, akan perlu dijalankan melalui menu.</i> <br><br>  Logika bisnis dari tes ini adalah langkah-langkah spesifik yang harus dilakukan pengguna untuk mendapatkan hasil yang bermakna (untuk pengguna).  Masuk dengan ultrasound Anda sendiri adalah hasil yang signifikan.  Langkah-langkah: klik tombol "Masuk", masukkan nama pengguna di bidang "Masuk", masukkan kata sandi di bidang "Kata Sandi", klik tombol "Masuk".  Dengan demikian, metode kami diisi dengan langkah-langkah: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">login</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String login, String password)</span></span></span><span class="hljs-function"> </span></span>{ page.login().click(); page.loginEntry().setText(login); page.passwordEntry().setText(password); page.signIn().click(); }</code> </pre> <br>  Untuk mendapatkan pengguna saat ini, semuanya lebih sederhana, cukup dapatkan nilai bidang: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCurrentUserName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> page.currentUserName().getText(); } }</code> </pre> <br>  Dan untuk menutup aplikasi, klik saja tombol Home: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">close</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ device.pressHome(); }</code> </pre> <br><h3>  Deskripsi elemen halaman </h3><br>  Konsep lapisan ini adalah bahwa ia harus mengembalikan elemen yang siap digunakan (dalam konteks kami, ini adalah kelas <code>android.support.test.uiautomator.UiObject2</code> ).  Artinya, konsumen tidak perlu khawatir dengan keadaan objek, jika ia kembali, maka Anda dapat langsung berinteraksi dengannya: klik, isi atau baca teks.  Ini adalah konsekuensi penting - di lapisan ini kita akan mewujudkan harapan: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> UiObject2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUiObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BySelector selector)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> device.wait(Until.findObject(selector), <span class="hljs-number"><span class="hljs-number">10000</span></span>); }</code> </pre> <br>  Metode yang didefinisikan di atas akan digunakan oleh antarmuka publik kelas <code>PageObject</code> kami.  Contoh untuk bidang Login: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> UiObject2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loginEntry</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> getUiObject(loginEntrySelector()); }</code> </pre> <br>  Masih menentukan pemilih yang akan kita temukan bidangnya.  Instance dari <code>android.support.test.uiautomator.BySelector</code> paling mudah diperoleh dengan menggunakan metode statis dari <code>android.support.test.uiautomator.By</code> .  Saya setuju dengan pengembangan bahwa di mana pun, kapan pun memungkinkan, akan ada resource-id unik: <br><br><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> BySelector </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loginEntrySelector</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> By.res(packageName, <span class="hljs-string"><span class="hljs-string">"login"</span></span>); }</code> </pre> <br>  Lebih mudah untuk memeriksa antarmuka di utilitas uiautomatorviewer yang termasuk dalam paket alat (diinstal di bagian Persiapan): <br><br><img src="https://habrastorage.org/webt/gw/yw/mv/gwywmvdmhdkyjk-orutm6xbkfja.png"><br><br>  Pilih elemen yang diinginkan dan di bagian Node detail kita melihat resource-id.  Ini terdiri dari nama paket dan, pada kenyataannya, pengidentifikasi.  Kami mendapat nama paket di konstruktor dari kelas <code>TestApplication</code> , dan menggunakannya saat membuat <code>PageObject</code> . <br><br>  Kode lengkap: <br><br><div class="spoiler">  <b class="spoiler_title">PageObject kelas</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PageObject</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> UiDevice device; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String packageName; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> BySelector </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loginButtonSelector</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> By.res(packageName, <span class="hljs-string"><span class="hljs-string">"user_view"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> BySelector </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loginEntrySelector</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> By.res(packageName, <span class="hljs-string"><span class="hljs-string">"login"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> BySelector </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">passwordEntrySelector</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> By.res(packageName, <span class="hljs-string"><span class="hljs-string">"password"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> BySelector </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">signInSelector</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> By.res(packageName, <span class="hljs-string"><span class="hljs-string">"btnLogin"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> BySelector </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">userNameSelector</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> By.res(packageName, <span class="hljs-string"><span class="hljs-string">"user_name"</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PageObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(UiDevice device, String packageName)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.device = device; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.packageName = packageName; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> UiObject2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">login</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> getUiObject(loginButtonSelector()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> UiObject2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loginEntry</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> getUiObject(loginEntrySelector()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> UiObject2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">passwordEntry</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> getUiObject(passwordEntrySelector()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> UiObject2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">signIn</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> getUiObject(signInSelector()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> UiObject2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">currentUserName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> getUiObject(userNameSelector()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> UiObject2 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUiObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(BySelector selector)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> device.wait(Until.findObject(selector), <span class="hljs-number"><span class="hljs-number">10000</span></span>); } }</code> </pre> <br></div></div><br><h3>  Menjalankan tes </h3><br>  Itu saja, masih berjalan.  Pertama, sambungkan ke perangkat atau mulai emulator.  Periksa koneksi dengan perintah <code>adb devices</code> (utilitas adb adalah bagian dari platform-tools): <br><br><pre> <code class="bash hljs">List of devices attached emulator-5554 device</code> </pre> <br>  Jika Anda memiliki gelar, maka lakukanlah <br><br><pre> <code class="bash hljs">gradlew.bat connectedAndroidTest</code> </pre> <br>  dan nikmati bagaimana "robot yang disuntikkan, bukan manusia" (c). </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id416397/">https://habr.com/ru/post/id416397/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id416379/index.html">Neurobugurt. Bagaimana kami mengajar jaringan saraf untuk menciptakan meme setahun lebih awal dari Stanford</a></li>
<li><a href="../id416381/index.html">Laporan Club of Rome 2018, Bab 3.13: Filantropi, Investasi, Crowdsourcing, dan Blockchain</a></li>
<li><a href="../id416385/index.html">Jika korelasinya keluar 100%, maka suatu kesalahan telah merayap di suatu tempat: pengalaman magang di Rambler Group</a></li>
<li><a href="../id416391/index.html">Optimalisasi penempatan mesin virtual di server</a></li>
<li><a href="../id416393/index.html">Konferensi IIDF: perusahaan tidak vs startup</a></li>
<li><a href="../id416399/index.html">Bagaimana kami menganalisis ulasan aplikasi seluler menggunakan pembelajaran mesin</a></li>
<li><a href="../id416401/index.html">Blender: model 3D chip untuk menghubungkan ke perpustakaan KiCad</a></li>
<li><a href="../id416403/index.html">Intisari Fintech: serangan terhadap bank PIR, Layanan Pajak Federal dan pajak dari transfer dari satu kartu ke kartu lainnya, serta beberapa blockchain dan cryptocurrency.</a></li>
<li><a href="../id416405/index.html">Program sarjana dalam kemitraan dengan Yandex</a></li>
<li><a href="../id416407/index.html">Menghemat lalu lintas dari sniffer Mikrotik</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>