<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîé üîâ üë©üèæ‚Äçü§ù‚Äçüë©üèº Intercambie datos entre componentes React utilizando la biblioteca RxJS üë®‚Äçüöí üë®üèæ‚Äç‚öïÔ∏è üê∂</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Aqu√≠ hay una traducci√≥n de un art√≠culo de Chidume Nnamdi publicado en blog.bitsrc.io. La traducci√≥n se publica con permiso del autor. 



 El advenimi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Intercambie datos entre componentes React utilizando la biblioteca RxJS</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/plarium/blog/453310/">  Aqu√≠ hay una traducci√≥n de un art√≠culo de Chidume Nnamdi publicado en blog.bitsrc.io.  La traducci√≥n se publica con permiso del autor. <br><br><img src="https://habrastorage.org/webt/sn/bf/h_/snbfh_weeuiwnpbdta7qdkpjxes.jpeg"><br><br>  El advenimiento de la biblioteca RxJS ha abierto un mont√≥n de nuevas posibilidades en el mundo JS.  El objetivo de RxJS es lograr mucho con una peque√±a cantidad de c√≥digo.  Despu√©s de leer este art√≠culo, aprender√° a intercambiar datos entre los componentes de la aplicaci√≥n en React, utilizando las capacidades de RxJS. <a name="habracut"></a><br><br>  <b>Consejo</b> : use <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">Bit</a> para organizar y compartir componentes React.  Esto permitir√° a su equipo desarrollar sus aplicaciones m√°s r√°pido.  Solo int√©ntalo. <br><br><img src="https://habrastorage.org/webt/dh/0w/pi/dh0wpix46rdg6rkxrqwi7e0qels.gif"><br>  Colecci√≥n React Components <br><br><h3>  Redux </h3><br>  El intercambio de datos entre componentes React no relacionados es para lo que se crearon las bibliotecas estatales.  Hay muchas plantillas de administraci√≥n de estado, pero dos son m√°s conocidas: Flux y Redux. <br><br>  Redux es popular debido a su simplicidad y al uso de caracter√≠sticas puras.  De hecho, gracias a ellos, no hay duda de que el uso de reductores no provocar√° ning√∫n efecto secundario. <br><br>  Cuando trabajamos con Redux, lo primero que hacemos es crear un almac√©n de datos centralizado: <br><br><img src="https://habrastorage.org/webt/nw/ma/im/nwmaim9uwgixbjr64pi-3oteoyw.png"><br><br>  A continuaci√≥n, asociamos los componentes con este repositorio y, si lo desea, actualizamos o eliminamos el estado.  Cualquier cambio realizado en el almac√©n se reflejar√° en los componentes asociados con √©l.  Por lo tanto, el flujo de datos se extiende a todos los componentes, independientemente de su grado de anidamiento.  Un componente ubicado en el en√©simo nivel de la estructura jer√°rquica es capaz de transmitir datos a un componente del nivel m√°s alto.  Este √∫ltimo, a su vez, puede transmitir datos al nivel del componente 21. <br><br><h3>  Rxjs </h3><br>  Con la llegada de RxJS, el uso de bibliotecas de administraci√≥n de estado se ha vuelto mucho m√°s f√°cil.  A muchos les gust√≥ el patr√≥n Observador proporcionado por RxJS. <br><br>  Simplemente creamos una secuencia <code>Observable</code> y <code>Observable</code> que todos los componentes la escuchen.  Si se agrega alg√∫n componente a la secuencia, los componentes de escucha (o "firmados") responden a la actualizaci√≥n DOM. <br><br><h3>  Instalaci√≥n </h3><br>  Creamos la aplicaci√≥n en React, usando <code>create-react-app</code> .  Si no tiene <code>create-react-app</code> , primero inst√°lela globalmente: <br><br><pre> <code class="javascript hljs">npm i create-react-app -g</code> </pre> <br>  A continuaci√≥n, generamos el proyecto en React: <br><br><pre> <code class="javascript hljs">create-react-app react-prj</code> </pre> <br>  Ve al directorio: <br><br><pre> <code class="javascript hljs">cd react-prj</code> </pre><br>  Instale la biblioteca rxjs: <br><br><pre> <code class="javascript hljs">npm i rxjs</code> </pre> <br>  Deber√≠amos tener un archivo que cree una nueva instancia de <code>BehaviourSubject</code> . <br><br><h3>  ¬øPor qu√© usamos BehaviorSubject? </h3><br>  <code>BehaviorSubject</code> es uno de los Sujetos en la biblioteca RxJS.  Al ser un componente secundario del Sujeto, <code>BehaviorSubject</code> permite que muchos observadores escuchen la transmisi√≥n, as√≠ como eventos de transmisi√≥n masiva a estos observadores.  <code>BehaviorSubject</code> guarda el √∫ltimo valor y lo pasa a todos los nuevos componentes firmados. <br><br>  Entonces <code>BehaviorSubject</code> : <br><br><ul><li>  Permite el env√≠o a granel. </li><li>  Almacena los √∫ltimos valores publicados por los suscriptores y env√≠a estos valores por correo masivo. </li></ul><br><img src="https://habrastorage.org/webt/da/bv/2q/dabv2q9qj8_aw8ng2ae6souzlki.png"><br><br>  La carpeta src contiene el archivo <code>messageService.js</code> , que exporta la instancia <code>BehaviorSubject</code> y el objeto <code>messageService</code> al <code>messageService</code> .  El objeto de suscriptor se crea al principio del archivo, por lo que est√° disponible para cualquier componente de importaci√≥n.  El objeto <code>messageService</code> tiene una funci√≥n de env√≠o que acepta el par√°metro <code>msg</code> : contiene los datos necesarios para la transmisi√≥n a todos los componentes de escucha.  En el cuerpo de la funci√≥n, llamamos al m√©todo <code>emit</code> .  Env√≠a datos de forma masiva a los componentes firmados en el objeto suscrito. <br><br>  Supongamos que tenemos los siguientes componentes: <br><br><ul><li>  ConsumidorA; </li><li>  ConsumidorB; </li><li>  ProductorA; </li><li>  Productor B. </li></ul><br>  En una estructura jer√°rquica, se ven as√≠: <br><br><img src="https://habrastorage.org/webt/xf/a5/ze/xfa5ze9qtqtjnuqevc-qiz5i5ng.png"><br><br>  El componente de aplicaci√≥n transmite el mensaje ProducerA y ConsumerB.  ProducerA env√≠a los datos a ConsumerA, y el mensaje de ConsumerB llega a ProducerB. <br><br><img src="https://habrastorage.org/webt/86/ky/qh/86kyqhhdskohzsnh_t_ec6ryq4s.png"><br><br>  Los componentes ConsumerA y ConsumerB tienen un contador de estado individual.  En su m√©todo <code>componentDidMount</code> , est√°n suscritos a la misma secuencia de <code>subscriber</code> .  Tan pronto como se publica un evento, el contador se actualiza para ambos componentes. <br><br>  ProducerA y ProducerB tienen botones de <code>Increment Counter</code> y <code>Increment Counter</code> <code>Decrement Counter</code> que, cuando se presionan, producen <code>1</code> o <code>-1</code> .  Los componentes firmados ConsumerA y ConsumerB recogen el evento y lanzan sus funciones de devoluci√≥n de llamada, actualizando el valor del contador de estado y DOM. <br><br><img src="https://habrastorage.org/webt/ei/i2/zu/eii2zufqf2-ddtuyzpl-rqzd2qi.gif"><br><br>  Veamos nuevamente la estructura jer√°rquica: <br><br><img src="https://habrastorage.org/webt/pr/v4/hs/prv4hsqntkcolmmgz1bsnxmdyuc.png"><br><br>  ProducerB transmite datos de ConsumerA, aunque no tiene ninguna relaci√≥n.  El productor A transfiere datos al consumidor B, no siendo su componente principal.  Ese es el objetivo de RxJS: acabamos de crear un nodo central de flujo de eventos y dejamos que los componentes lo escuchen.  Cuando cualquier componente genera eventos, los componentes de escucha los recogen inmediatamente. <br><br>  Puedes jugar con la aplicaci√≥n en stackblitz: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">https://react-lwzp6e.stackblitz.io</a> <br><br><h3>  Conclusi√≥n </h3><br>  Entonces, vimos c√≥mo puede intercambiar datos entre los componentes React usando RxJS.  Utilizamos <code>BehaviourSubject</code> para crear un flujo de datos centralizado y luego dejamos que el resto de los componentes se suscriban a este flujo.  Ahora, cuando uno de los componentes genera datos, los otros componentes tambi√©n los reciben.  El nivel de componentes en la estructura jer√°rquica no es importante. <br><br>  Si tiene preguntas sobre este tema o desea que agregue, corrija o elimine algo, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">escr√≠balo</a> en los comentarios, en el correo electr√≥nico o en un mensaje personal. <br><br>  Gracias por su atencion! </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/453310/">https://habr.com/ru/post/453310/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../453298/index.html">Verano: tiempo de actualizaci√≥n ... usted mismo</a></li>
<li><a href="../453300/index.html">Shaders de juegos en 3D para principiantes</a></li>
<li><a href="../453302/index.html">La primera hora de vida con Yandex.Module</a></li>
<li><a href="../453304/index.html">Beneficios clave de Zextras PowerStore</a></li>
<li><a href="../453306/index.html">Kubernetes se har√° cargo del mundo. Cuando y como</a></li>
<li><a href="../453312/index.html">Generador de correo electr√≥nico empresarial PDF basado en datos XML</a></li>
<li><a href="../453314/index.html">DIY Black Mirror: ense√±a a un bot basado en su historial de chat</a></li>
<li><a href="../453316/index.html">El fabricante brit√°nico de chips ARM deja de cooperar con Huawei</a></li>
<li><a href="../453318/index.html">5 errores en la implementaci√≥n de notificaciones push para aplicaciones m√≥viles</a></li>
<li><a href="../453322/index.html">Configure Nomad Cluster con Consul e integre con Gitlab</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>