<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òπÔ∏è üõ∏ üëÉüèΩ Fatalismus bei der Fehlerbehandlung üìº üë©üèº‚Äçüé® üï¥Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Vorwort 


 Dieser Artikel ist eine Reaktion auf den Artikel: Was passiert mit der Fehlerbehandlung in C ++ 2a? Nach jedem Absatz bekam ich einen Juck...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fatalismus bei der Fehlerbehandlung</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/426971/"><h2 id="predislovie">  Vorwort </h2><br><p>  Dieser Artikel ist eine Reaktion auf den Artikel: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Was passiert mit der Fehlerbehandlung in C ++ 2a?</a>  Nach jedem Absatz bekam ich einen Juckreiz, geheilte Wunden √∂ffneten sich und begannen zu bluten.  Vielleicht nehme ich das, was geschrieben steht, zu sehr in mein Herz.  Aber ich m√∂chte nur √ºber die Kurzsichtigkeit und den Analphabetismus heulen, die C ++ - Programmierer im 21. Jahrhundert zeigen.  Und nicht einmal am Anfang. </p><br><p>  Fangen wir an. </p><br><h2 id="klassifikaciya">  Klassifizierung </h2><br><blockquote>  Herk√∂mmlicherweise k√∂nnen alle fehlerhaften Situationen im Programm in zwei gro√üe Gruppen unterteilt werden: <br><ol><li>  Schwerwiegende Fehler. </li><li>  Keine schwerwiegenden oder erwarteten Fehler. </li></ol><br></blockquote><a name="habracut"></a><br><p> Ich werde jetzt Fehler finden.  Aber fatale Fehler - sie werden auch gewisserma√üen erwartet.  Wir erwarten, dass Ged√§chtnisreisen oft zu einem Sturz f√ºhren, aber m√∂glicherweise nicht dazu.  Und das wird erwartet, nicht wahr?  Wenn eine Klassifizierung eingef√ºhrt wird, ist es immer m√∂glich, sie auf Konsistenz zu √ºberpr√ºfen. </p><br><p>  Dies ist jedoch ein h√§ufiger subtiler Fehler. </p><br><p>  Schauen wir uns die schwerwiegenden Fehler an. </p><br><p>  <strong>Division durch 0</strong> .  Ich frage mich, warum dieser Fehler schwerwiegend ist.  Ich w√ºrde in diesem Fall gerne eine Ausnahme ausl√∂sen und sie zur weiteren Verarbeitung abfangen.  Warum ist sie t√∂dlich?  Warum wird mir ein bestimmtes Verhalten meines eigenen Programms auferlegt, und ich kann es in keiner Weise beeinflussen?  Geht es in C ++ nicht um Flexibilit√§t und darum, dass die Sprache dem Programmierer zugewandt ist?  Obwohl ... </p><br><p> <strong>Nullzeiger-Dereferenzierung</strong> .  Ich erinnere mich sofort an Java, es gibt eine <code>NullPointerException</code> , die behandelt werden kann.  Es gibt auch eine <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><code>NullPointerException</code></a> Poco-Bibliothek!  Warum wiederholen Standardentwickler mit der Hartn√§ckigkeit des Taubstummen das gleiche Mantra? </p><br><p>  Warum habe ich dieses Thema im Allgemeinen begonnen?  Es ist sehr wichtig und zeigt nur das Verst√§ndnis des Entwicklers f√ºr die Fehlerbehandlung.  Hier geht es nicht um die Fehlerbehandlung an sich, sondern um den Auftakt zu einer wichtigen Aktion.  Es geht immer um die Zuverl√§ssigkeit der Anwendung, um Fehlertoleranz und manchmal, bei den seltensten und am st√§rksten gef√§hrdeten, w√ºrde ich sogar sagen, um gef√§hrdete Programmtypen, um transaktionales und konsistentes Verhalten. </p><br><p>  In dieser Hinsicht sehen alle Streitigkeiten √ºber das Teilen durch Null und das Dereferenzieren von Zeigern wie ein Kampf der V√∂gel um eine Brotkrume aus.  Sicher ein wichtiger Prozess.  Aber nur aus Sicht der V√∂gel. </p><br><p>  Kehren wir zur Aufteilung in Fatalismus und dessen Abwesenheit zur√ºck ... Ich beginne mit einer einfachen Frage: Wenn ich √ºber das Netzwerk falsche Daten erhalten habe, ist dies ein schwerwiegender Fehler? </p><br><p>  Einfache und richtige Antwort: h√§ngt davon ab.  Es ist klar, dass dies in den meisten F√§llen kein schwerwiegender Fehler ist und alle √ºber das Netzwerk empfangenen Daten validiert und 4xx zur√ºckgegeben werden m√ºssen, wenn die Daten falsch sind.  Gibt es F√§lle, in denen Sie abst√ºrzen m√ºssen?  Und st√ºrzte mit wildem Heulen ab, so dass zum Beispiel SMS kommen w√ºrde.  Ja und nicht einer. </p><br><p>  Es gibt.  Ich kann ein Beispiel aus meinem Fachgebiet geben: einen verteilten Konsensalgorithmus.  Ein Knoten erh√§lt eine Antwort, die einen Hash aus einer √Ñnderungskette von einem anderen Knoten enth√§lt.  Und dieser Hash unterscheidet sich von dem lokalen.  Dies bedeutet, dass ein Fehler aufgetreten ist und die weitere Ausf√ºhrung einfach gef√§hrlich ist: Die Daten k√∂nnen abweichen, wenn nicht bereits.  Dies geschieht, wenn die Verf√ºgbarkeit eines Dienstes weniger wichtig ist als seine Konsistenz.  In diesem Fall m√ºssen wir fallen und br√ºllen, damit jeder herumh√∂rt.  Das hei√üt,  Wir haben Daten √ºber das Netzwerk erhalten, sie haben validiert und sind gefallen.  F√ºr uns ist dieser Fehler nirgends t√∂dlicher.  Wird dieser Fehler erwartet?  Ja, wir haben den Code mit Validierung geschrieben.  Es ist dumm, das Gegenteil zu sagen.  Nur wollen wir das Programm danach nicht mehr fortsetzen.  Manueller Eingriff erforderlich, Automatisierung funktionierte nicht. </p><br><h2 id="vybor-fatalizma">  Wahl des Fatalismus </h2><br><p>  Die offensichtlichste Sache bei der Fehlerbehandlung ist die Entscheidung, was fatal ist und was nicht.  Aber jeder Programmierer stellt sich diese Frage w√§hrend der gesamten Entwicklungsaktivit√§t.  Daher beantwortet es sich irgendwie auf diese Frage.  Die richtige Antwort kommt aus irgendeinem Grund aus der Praxis. </p><br><p>  Dies ist jedoch nur der sichtbare Teil des Eisbergs.  In den Tiefen gibt es eine viel monstr√∂sere Frage.  Um die volle Tiefe zu verstehen, m√ºssen Sie eine einfache Aufgabe festlegen und versuchen, sie zu beantworten. </p><br><p>  <em>Herausforderung</em> .  Machen Sie einen Rahmen f√ºr etwas. </p><br><p>  Alles ist einfach.  Wir bilden zum Beispiel einen Rahmen f√ºr die Netzwerkinteraktion.  Oder JSON analysieren.  Oder im schlimmsten Fall XML.  Die Frage stellt sich sofort: Aber wenn ein Fehler aus dem Socket auftritt - ist es ein schwerwiegender Fehler oder nicht?  Um es zu paraphrasieren: Soll ich eine Ausnahme ausl√∂sen oder einen Fehler zur√ºckgeben?  Ist das eine Ausnahmesituation oder nicht?  Oder kann <code>std::optional</code> ?  Oder eine Nonne?  (^ 1) </p><br><p>  Die paradoxe Schlussfolgerung ist, dass der Rahmen selbst diese Frage nicht beantworten kann.  Nur der Code, der es verwendet, wei√ü es.  Aus diesem Grund verwendet die meiner Meinung nach <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ausgezeichnete</a> Bibliothek <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">boost.asio</a> beide Optionen.  Abh√§ngig von den pers√∂nlichen Vorlieben des Autors des Codes und der angewandten Logik kann die eine oder andere Methode zur Fehlerbehandlung gew√§hlt werden.  Anfangs war mir dieser Ansatz etwas peinlich, aber im Laufe der Zeit war ich von der Flexibilit√§t dieses Ansatzes durchdrungen. </p><br><p>  Dies ist jedoch nicht alles.  Das Schlimmste kommt.  Hier schreiben wir Anwendungscode, aber es scheint uns, dass er angewendet wird.  F√ºr einen anderen Code auf h√∂herer Ebene ist unser Code eine Bibliothek.  Das hei√üt,  Die Unterteilung in Anwendungs- / Bibliothekscode (Framework usw.) ist eine reine Konvention, die vom Grad der Wiederverwendung von Komponenten abh√§ngt.  Sie k√∂nnen immer etwas oben anschrauben und der Anwendungscode wird nicht mehr so ‚Äã‚Äãsein.  Und dies bedeutet sofort, dass die Wahl, was g√ºltig ist und was nicht, bereits durch den verwendeten und nicht verwendeten Code entschieden wird. </p><br><p>  Wenn wir zur Seite springen, stellt sich heraus, dass es manchmal nicht einmal m√∂glich ist zu verstehen, wer wen benutzt.  Das hei√üt,  Komponente <strong>A</strong> kann Komponente <strong>B</strong> und Komponente <strong>B</strong> Komponente <strong>A</strong> (^ 2) verwenden.  Das hei√üt,  Wer bestimmt, was passieren wird, ist √ºberhaupt nicht klar. </p><br><h2 id="rasputyvanie-klubka">  Gewirr entwirren </h2><br><p>  Wenn man sich all diese Schande ansieht, stellt sich sofort die Frage: Wie soll man damit leben?  Was zu tun ist?  Welche Richtlinien sollten Sie w√§hlen, um nicht in Abwechslung zu ertrinken? </p><br><p>  Dazu ist es hilfreich, sich umzuschauen und zu verstehen, wie solche Probleme an anderen Stellen gel√∂st werden.  Man muss jedoch mit Bedacht suchen: Es ist notwendig, "Briefmarkensammeln" von Komplettl√∂sungen zu unterscheiden. </p><br><p>  Was ist Briefmarkensammeln?  Dies ist ein Sammelbegriff, was bedeutet, dass wir ein Ziel ausgetauscht haben, aber etwas anderes.  Zum Beispiel: Wir hatten das Ziel, unsere Lieben anzurufen und mit ihnen zu kommunizieren.  Und wir haben einmal ein teures Spielzeug gekauft, weil "modisch" und "sch√∂n" (^ 3).  Ist das bekannt?  Denken Sie, dass das Programmierern nicht passiert?  Schmeicheln Sie sich nicht. </p><br><p>  Fehlerbehandlung ist nicht das Ziel.  Immer wenn wir √ºber Fehlerbehandlung sprechen, kommen wir sofort zum Stillstand.  Weil es ein Weg ist, ein Ziel zu erreichen.  Das urspr√ºngliche Ziel ist es, unsere Software zuverl√§ssig, einfach und verst√§ndlich zu machen.  Es sind diese Ziele, die gesetzt und immer eingehalten werden m√ºssen.  Und Fehlerbehandlung ist Bullshit, der die Diskussion nicht wert ist.  Ich m√∂chte eine Ausnahme machen - aber f√ºr die Gesundheit!  R√ºckgabe eines Fehlers - gut gemacht!  Willst du eine Monade?  Herzlichen Gl√ºckwunsch, Sie haben die Illusion des Fortschritts geschaffen, aber nur in Ihrem eigenen Kopf (^ 4). </p><br><p>  Dann wollte ich schreiben, wie man es richtig macht, aber ich habe bereits geschrieben.  Die Wunden heilten und h√∂rten auf zu bluten.  Kurz gesagt, die Tipps sind: </p><br><ol><li>  In Komponenten mit klaren Grenzen trennen. </li><li>  Beschreiben Sie an den Grenzen, was und wie es fliegen kann.  Es ist w√ºnschenswert, dass es einheitlich ist.  Aber viel wichtiger ist. </li><li>  Machen Sie es einfach, Fehler im Code zu behandeln, der sie verwendet. </li><li>  Wenn etwas intern verarbeitet werden kann, ohne den Benutzercode zu laden, halten Sie es nicht heraus.  Je weniger Fehler ein Benutzer behandeln muss, desto besser. </li><li>  Respektiere deinen User, sei kein Arschloch!  Schreiben Sie intuitive Schnittstellen mit dem erwarteten Verhalten, damit er keine Kommentare lesen und schw√∂ren muss. </li></ol><br><p>  Der 5. Rat ist der wichtigste, weil  er kombiniert die ersten vier. </p><br><p>  <em>PS</em> In meiner Kindheit war ich immer neugierig auf den Ameisenhaufen.  Tausende Ameisen, jeder macht etwas, kriecht √ºber sein Gesch√§ft.  Der Prozess l√§uft.  Jetzt schaue ich auch mit Interesse zu.  Auch hinter dem Ameisenhaufen.  Wo Tausende von Menschen ihr kleines Ding machen.  Ich kann ihnen viel Gl√ºck in ihrem harten Gesch√§ft w√ºnschen! </p><br><p>  ^ 1: Die Leute lieben modische Dinge.  Als alle genug gespielt hatten, wachten C ++ - Programmierer auf und dann drehte sich alles um. </p><br><p>  ^ 2: Dies kann passieren, wenn es in Komponente <strong>B</strong> mehrere Abstraktionen gibt, die sie verbinden.  Siehe <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Umkehrung der Kontrolle</a> . </p><br><p>  ^ 3: Und am n√§chsten Tag st√ºrzte bam und der Bildschirm ab. </p><br><p>  ^ 4: Ich bin nicht gegen Monaden, ich bin gegen das Ansaugen, wie, schau, hier ist die Monade, d.h.  Monoid in der monoidalen Kategorie der Endofunktoren!  Applaus und zustimmende Nicken sind zu h√∂ren.  Und irgendwo weit, weit, kaum h√∂rbar, jemand Orgasmen. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de426971/">https://habr.com/ru/post/de426971/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de426961/index.html">Wie Microsoft den C # -Compiler in C # umschrieb und √∂ffnete</a></li>
<li><a href="../de426963/index.html">Tr√§umen Flutter-Apps von plattformbasierten Widgets?</a></li>
<li><a href="../de426965/index.html">Was passiert mit der Fehlerbehandlung in C ++ 2a?</a></li>
<li><a href="../de426967/index.html">Online ABAP Code Generator</a></li>
<li><a href="../de426969/index.html">Wachsame Lida: Automatisierung von Sicherheitstests</a></li>
<li><a href="../de426973/index.html">Firmensandwiches</a></li>
<li><a href="../de426975/index.html">Joker 2018: Das Unm√∂gliche ist m√∂glich</a></li>
<li><a href="../de426977/index.html">LibreOffice: der Albtraum eines Buchhalters</a></li>
<li><a href="../de426979/index.html">So lernen Sie kostenlos Englisch: 3 g√§ngige Tools und detaillierte Anweisungen f√ºr jedes</a></li>
<li><a href="../de426981/index.html">10 Tricks f√ºr erweitertes Dashboarding in Splunk. Teil 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>