<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤞🏾 🐝 🔋 Kubah geodesik. Tentang perangkat dan pengalaman perhitungan saya 🏏 🏴󠁧󠁢󠁳󠁣󠁴󠁿 🌋</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mungkin sulit untuk menyebut kubah geodesik sesuatu yang tidak biasa atau baru. Dalam artikel ini, saya akan berbicara sedikit tentang desain ini seca...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kubah geodesik. Tentang perangkat dan pengalaman perhitungan saya</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/481616/">  Mungkin sulit untuk menyebut kubah geodesik sesuatu yang tidak biasa atau baru.  Dalam artikel ini, saya akan berbicara sedikit tentang desain ini secara umum, tentang strukturnya, dan juga menunjukkan, sebagai contoh, bagaimana saya mempertimbangkan sesuatu tentang topik ini.  Kode juga akan. <br><br><img src="https://habrastorage.org/webt/g_/4f/g_/g_4fg_nupzjmqyhxh1gqh_hzfiw.jpeg"><a name="habracut"></a><br><br>  Saya tidak akan mengutip Wikipedia.  Mengapa saya memilih kubah sebagai rumah saya? <br><br><ul><li> Dengan volume yang sama, luas permukaan bola akan kurang dari bentuk lainnya.  Ini secara positif mempengaruhi konsumsi material dan konsumsi energi selama operasi. </li><li>  Saya suka seperti apa bola itu. </li><li>  Ini adalah proyek rekayasa yang menarik, dalam arti tertentu, bahkan sebuah tantangan.  Itu sulit, sulit dan karenanya menyenangkan! <br></li></ul><br>  Bagaimana bola geodesik ini diatur secara umum?  Pada pandangan pertama, sepertinya ini adalah semacam jalinan tepi dan sulit untuk menangkap sistem.  Kami akan mencoba memecahkannya. <br><br>  Dasar dari struktur tersebut adalah icosahedron atau octahedron.  Secara umum, polihedron biasa. <br>  Dalam kasus saya, justru icosahedron dan digunakan lebih sering.  Selanjutnya, kita mengambil satu wajah dan menggantinya dengan beberapa segitiga yang simpulnya terletak pada bola yang pusatnya bertepatan dengan pusat icosahedron.  Kedengarannya tidak terlalu bagus.  Mari kita ngelantur. <br><br>  Ada kalkulator <a href="http://www.acidome.ru/" rel="nofollow">www.acidome.ru</a> yang luar <a href="http://www.acidome.ru/" rel="nofollow">biasa</a> yang memungkinkan Anda untuk memutar surveyor secara real time.  Ambil icosahedron sebagai pangkalan, atur frekuensinya menjadi 1, bagian dari bola 1/1. <br><br><img src="https://habrastorage.org/webt/0t/af/hi/0tafhisjd7bdalic5mdbhjqhvv8.png"><br><br>  Ini adalah icosahedron utama kami.  Frekuensi adalah berapa banyak bagian yang akan kita pecahkan setiap tepi icosahedron.  Kami menetapkan 3.4, 5 dan tidak ada yang menjadi jelas.  Beralih ke mode atap dan cari pentagon.  Di tempat-tempat di mana kita memiliki puncak icosahedron - akan ada pentagon.  Antara tiga pentagon adalah wajah icosahedron. <br><br><img src="https://habrastorage.org/webt/s8/ll/is/s8llisbf4pp0qys0ssqtxlwusxs.png"><br><br>  Jika Anda hati-hati melihat geodesik dan tahu apa yang harus dicari (biasanya segi lima), maka keteraturan struktur menjadi terlihat.  Di Biosphere di Montreal, dengan uji tuntas, Anda dapat menemukan segilima dan menghitung frekuensinya.  Frekuensi kami sama dengan jumlah tepi antara dua pentagon. <br><br>  "Besar" segitiga sendiri, dengan simpul di bagian atas icosahedron, juga memiliki struktur.  Pada atap asam, ini terlihat dalam warna.  Segitiga terletak secara simetris sehubungan dengan pusat segitiga "besar".  Jumlah tipenya kurang dari jumlah total segitiga.  Dalam kasus frekuensi 5 segitiga unik 9. <br><br><img src="https://habrastorage.org/webt/iv/ky/ve/ivkyvedvegtwxidkcjgdrqvruxc.png"><br><br>  Dalam proses mendesain rumah, saya dihadapkan dengan tugas membangun bola di Dynamo.  Ini adalah alat yang memungkinkan Anda mengajarkan Autodesk Revit untuk bekerja dengan formulir yang kompleks.  Lingkungan pemrograman visual yang demikian. <br>  Googling, saya bahkan menemukan sketsa yang membuat bola geodesik di Dynamo.  Dia membangun bola, tetapi bukan yang itu. <br><br>  Ini masalahnya.  Ketika kita mengambil satu sisi icosahedron dan membaginya menjadi segitiga kecil - ini bisa dilakukan dengan beberapa cara.  Dalam acidome, saklar "metode pemisahan" bertanggung jawab untuk ini. <br><br>  Sketsa yang ditemukan membuat bola menggunakan metode akor yang sama.  Apa artinya ini?  Kami mengambil segitiga besar icosahedron, membagi masing-masing ujungnya menjadi jumlah bagian yang kami butuhkan, menghubungkan titik-titik di tepi satu sama lain dan mendapatkan kotak datar segitiga.  Lalu kami memproyeksikan kisi ini ke bola.  Semuanya akan baik-baik saja, tetapi ukuran segitiga ini sendiri sangat berbeda.  Yang paling utama.  Dapat dimengerti, pusat dari segitiga "besar" berada pada jarak maksimum dari bola.  Ini buruk, karena dalam hal ini lebih sulit untuk mengoptimalkan konsumsi bahan.  Akan ada lebih banyak limbah. <br><br>  Metode pemisahan lainnya (dengan busur yang sama) mengasumsikan bahwa kita membangun di atas segitiga "besar" dari busur dan sudah membaginya menjadi bagian yang sama.  Pendekatannya berbeda, proyeksi sederhana tidak bisa dilakukan. <br><br>  Sketsa itu tidak cocok.  Saya mencoba memperbaikinya dan pada akhirnya saya harus terjun ke bisnis ini dengan kepala. <br><br>  Ternyata, di samping lingkungan visual, Dynamo memiliki built-in Python.  Saya belum pernah melihat bahasa ini sebelumnya, tetapi di mana bahasa kita tidak hilang?  Pada akhirnya, itu hanya alat. <br><br>  Maka akan ada potongan kode, harap perhatikan bahwa ini adalah hello world saya dengan python, dan tujuannya bukan untuk membangun solusi yang paling efektif dan efisien, tetapi untuk membangun bola yang tepat. <br><br><h3>  Metode busur sama. </h3><br>  Kami mengambil salah satu wajah icosahedron dan membangun busur dari sudut segitiga ini. <br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> k, edge <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(curves): <span class="hljs-comment"><span class="hljs-comment">#   arc = Arc.ByCenterPointStartPointEndPoint(sphere_center, edge.EndPoint, edge.StartPoint) #   ,    result_points.append(edge.EndPoint) result_points.append(edge.StartPoint) #    "",       if arc.SweepAngle &gt; 90: arc = Arc.ByCenterPointStartPointEndPoint(center_point, edge.StartPoint, edge.EndPoint) #      arc_points = Arc.PointsAtEqualSegmentLength(arc, n) else: arc_points = list(reversed(Arc.PointsAtEqualSegmentLength(arc, n))) #     for p in arc_points: result_points.append(p)</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/6n/mw/ff/6nmwfffgaym7bbmdnhmysua2hpk.png"><br><br>  Kemudian kami membagi busur menjadi bagian yang sama dan menghubungkan titik pada busur dengan busur baru.  Semua busur memiliki satu pusat - pusat bola.  Poin terhubung tidak semua dengan semua, tetapi dengan nama yang sama.  Dalam gambar itu terlihat lebih sederhana daripada dalam kode. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> edge_index, point_list <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(points): edge_arcs = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> point_index, point <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(point_list): next_edge_index = edge_index + <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(points) == next_edge_index: next_edge_index = <span class="hljs-number"><span class="hljs-number">0</span></span> end_point_index = n - point_index - <span class="hljs-number"><span class="hljs-number">2</span></span> arc = Arc.ByCenterPointStartPointEndPoint(center_point, points[next_edge_index][end_point_index], point) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> arc.SweepAngle &gt; <span class="hljs-number"><span class="hljs-number">90</span></span>: arc = Arc.ByCenterPointStartPointEndPoint(center_point, point, points[next_edge_index][end_point_index]) arc_points_count = n - point_index - <span class="hljs-number"><span class="hljs-number">1</span></span>; pp = Arc.PointsAtEqualSegmentLength(arc, arc_points_count) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> po <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> pp: on_arc_points.append(po) edge_arcs.append(arc) edges_arcs.append(edge_arcs)</code> </pre> <br><img src="https://habrastorage.org/webt/dk/ts/uq/dktsuqxgjr3q3c_irgi653rd4di.png"><br><br>  Ups, dan busur tidak berpotongan!  Googling yang tidak terlalu lancar membawa saya ke sebuah buku yang menegaskan asumsi saya bahwa perlu menggunakan pusat segitiga yang dibentuk oleh persimpangan busur sebagai bagian atas tepi geodesik.  Saya juga merokok sumber asam, tetapi saya tidak ingat jika saya menemukan konfirmasi di sana.  Saya ingat itu menarik. <br>  Pusat-pusat entah bagaimana harus ditemukan.  Ini adalah pusat dari segitiga dan itu tidak sulit, tetapi perlu untuk memahami di mana segitiga ini berada di tumpukan poin.  Menurut saya, opsi termudah untuk menghubungkan titik-titik yang paling dekat satu sama lain. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> point <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> on_arc_points: distance = [] <span class="hljs-comment"><span class="hljs-comment">#       . for p2 in on_arc_points: distance.append(point.DistanceTo(p2)) distance.sort() #    three_points = [] for p2 in on_arc_points: if point.DistanceTo(p2) &lt;= distance[2]: three_points.append(p2); #   poly = Polygon.ByPoints(three_points) #   .     ,    result_points.append(poly.Center())</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/dv/wv/ab/dvwvabq-w9itkw7gppatlmspr90.png"><br><br>  Sekarang kita perlu menghubungkan titik-titik yang dikumpulkan pada tahap yang berbeda, yang merupakan simpul dari tepi bola geodesik.  Dalam gambar, titik-titik ini terlihat jelas, tetapi ketika mereka berada dalam array - semuanya lebih rumit.  Ada beberapa opsi, tetapi karena tugasnya adalah mendapatkan skrip yang berfungsi dengan sedikit usaha, ini keluar: <br><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#  -           ,    points = dict() for i, point in enumerate(projected): points[i] = dict() points[i]['point'] = point points[i]['id'] = i points[i]['distance'] = dict() for c, p2 in enumerate(projected): points[i]['distance'][c] = point.DistanceTo(p2) max_dist = 0 i = 0 for i, point in points.items(): max_distance = max(point['distance'].values()) if max_distance &gt; max_dist: root_point = i max_dist = max_distance row = dict() row[root_point] = points[root_point] del points[root_point] surfaces = [] while len(row): #for x in range(0, 2): next_row = dict() for id, item in row.items(): point = closest_point(points, id) if point is not None: tmp = points[point] del points[point] point2 = closest_point(points, id) points[point] = tmp if point2 is not None: surfaces.append(Surface.ByPerimeterPoints([item['point'], points[point]['point'], points[point2]['point']])) next_row[point] = points[point] next_row[point2] = points[point2] for id, item in next_row.items(): point = closest_point(row, id) if point is not None: tmp = row[point] del row[point] point2 = closest_point(row, id) row[point] = tmp if point2 is not None: surfaces.append(Surface.ByPerimeterPoints([row[point]['point'], row[point2]['point'], item['point']])) row.clear() for id, po in next_row.items(): if po['id'] in points: del points[po['id']] if po['id'] not in row: row[po['id']] = po face_triangles = surfaces</span></span></code> </pre> <br>  Segmen siap.  Mungkin ada semacam cara yang tepat untuk menyelesaikan masalah ini, tetapi saya membuka sendiri. <br><br><img src="https://habrastorage.org/webt/bo/sb/jj/bosbjjyr1fbo1ce3tl2igljadpa.png"><br><br>  Kemudian segmen dibuka, disalin beberapa kali, disalin, dan bola lengkap diperoleh.  Berikut adalah salah satu tikungan: <br><br><pre> <code class="python hljs">v = Vector.ByTwoPoints(sphere_center, curves[<span class="hljs-number"><span class="hljs-number">0</span></span>].StartPoint) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> face_triangle <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> face_triangles: geodesic_sphere.append(Geometry.Rotate(face_triangle, sphere_center, v, <span class="hljs-number"><span class="hljs-number">72</span></span>))</code> </pre> <br>  Script keluar jelek, saya menyalinnya beberapa kali, karena ada masalah dengan mengekspor ke Revit.  Pikir ada masalah dengan konstruksi.  Akibatnya, di forum Dynamo, orang India meminta orang Ukraina dan semuanya berhasil! <br><br>  Sekarang Anda dapat membangun bola frekuensi dan diameter apa pun.  Perbandingan ukuran dengan hasil asam menunjukkan bahwa semuanya menyatu dengan akurasi tinggi.  Pengulangan itu bagus. <br><br><img src="https://habrastorage.org/webt/7g/h4/4c/7gh44c4aj3t-tcztm81q2foipq4.png"><br><br>  Saya juga mulai mengoptimalkan ukuran untuk meminimalkan panen.  Karena semua ukuran ada di tangan saya, itu tidak begitu sulit.  Hasilnya, jari-jari bola berubah menjadi 5,65 meter pada frekuensi 5. Dimensi tersebut memungkinkan saya untuk menggunakan bahan dengan lebar 125 cm dengan cukup efektif.Lebar tersebut adalah lembaran OSB, lembaran logam, isolasi, drywall.  Dengan optimalisasi yang baik, jumlah kliping minimal.  Hasil terbaik dapat dicapai dengan menghitung tata letak segitiga pada materi, tetapi saya tidak melakukan ini. <br><br>  Lebih lanjut itu lebih mudah, karena Revit memakan bentuk yang rumit dan memungkinkan bekerja dengannya dengan keberhasilan yang hampir sama dengan paralel-persegi. <br><br>  Tentu saja, kesulitan tidak berakhir di sana, tetapi ini adalah kisah yang sama sekali berbeda. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id481616/">https://habr.com/ru/post/id481616/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id481600/index.html">Mesin Wiki Keluarga Bonsai: Hasil 2019</a></li>
<li><a href="../id481604/index.html">Bagaimana pengembang Chelyabinsk keras membuat game untuk Google Play dan jejaring sosial</a></li>
<li><a href="../id481606/index.html">Berlangganan statis menggunakan template Pengamat menggunakan C ++ dan mikrokontroler Cortex M4</a></li>
<li><a href="../id481610/index.html">PostgreSQL Antipatterns: memperbarui tabel besar yang sedang dimuat</a></li>
<li><a href="../id481612/index.html">Kontribusi Kecil Kami untuk Platform Avalonia UI's Fight for Fewer</a></li>
<li><a href="../id481618/index.html">MVP di Unity atau cara menyederhanakan hidup</a></li>
<li><a href="../id481620/index.html">Juniper SRX dan Cisco ASA: Next Series</a></li>
<li><a href="../id481624/index.html">Kami menulis aplikasi di Flutter bersama dengan Redux</a></li>
<li><a href="../id481626/index.html">Koleksi tampilan yang kompleks di iOS: masalah dan solusi pada contoh umpan VKontakte</a></li>
<li><a href="../id481628/index.html">Aturan untuk menulis langkah awal dalam kasus uji</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>