<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯеЯ ЁЯШз ЁЯПж TON: рдЕрдиреБрд╢рдВрд╕рд╛рдПрдБ рдФрд░ рд╕рд░реНрд╡реЛрддреНрддрдо рдкреНрд░рдерд╛рдПрдБ ЁЯХ║ ЁЯС╕ЁЯП╗ ЁЯС╢ЁЯП╛</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рдпрд╣ рд▓реЗрдЦ TON рдмреНрд▓реЙрдХрдЪреИрди рдкреЗрдЬ рдкрд░ рдкреНрд░рдХрд╛рд╢рд┐рдд рдПрдХ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рд╣реИ: smc-Guidelines.txt ред рд╢рд╛рдпрдж рдпрд╣ рдХрд┐рд╕реА рдХреЛ рдЗрд╕ рдмреНрд▓реЙрдХрдЪреЗрди рдХреЗ рд▓рд┐рдП рд╡рд┐рдХрд╛рд╕ рдХреА рджрд┐рд╢рд╛ рдореЗрдВ рдХрджрдо рдЙрдард╛рдиреЗ рдореЗрдВ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>TON: рдЕрдиреБрд╢рдВрд╕рд╛рдПрдБ рдФрд░ рд╕рд░реНрд╡реЛрддреНрддрдо рдкреНрд░рдерд╛рдПрдБ</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470772/"><p>  рдпрд╣ рд▓реЗрдЦ TON рдмреНрд▓реЙрдХрдЪреИрди рдкреЗрдЬ рдкрд░ рдкреНрд░рдХрд╛рд╢рд┐рдд рдПрдХ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рд╣реИ: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">smc-Guidelines.txt</a> ред  рд╢рд╛рдпрдж рдпрд╣ рдХрд┐рд╕реА рдХреЛ рдЗрд╕ рдмреНрд▓реЙрдХрдЪреЗрди рдХреЗ рд▓рд┐рдП рд╡рд┐рдХрд╛рд╕ рдХреА рджрд┐рд╢рд╛ рдореЗрдВ рдХрджрдо рдЙрдард╛рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдЧрд╛ред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЕрдВрдд рдореЗрдВ рдореИрдВрдиреЗ рдПрдХ рд╕рдВрдХреНрд╖рд┐рдкреНрдд рд╕рд╛рд░рд╛рдВрд╢ рдмрдирд╛рдпрд╛ред </p><a name="habracut"></a><br><h2 id="vnutrennie-soobscheniya">  рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ </h2><br><p>  рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯ рддрдерд╛рдХрдерд┐рдд рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ рднреЗрдЬрдХрд░ рдПрдХ-рджреВрд╕рд░реЗ рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рддреЗ рд╣реИрдВред  рдЬрдм рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ рдЕрдкрдиреЗ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдЧрдВрддрд╡реНрдп рддрдХ рдкрд╣реБрдВрдЪрддрд╛ рд╣реИ, рддреЛ рдЧрдВрддрд╡реНрдп рдЦрд╛рддреЗ рдХреЗ рдирд╛рдо рдкрд░ рдПрдХ рдирд┐рдпрдорд┐рдд рд▓реЗрдирджреЗрди рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХреЛрдб рдФрд░ рдЗрд╕ рдЦрд╛рддреЗ рдХреЗ рдирд┐рд░рдВрддрд░ рдбреЗрдЯрд╛ (рд╕реНрдорд╛рд░реНрдЯ рдЕрдиреБрдмрдВрдз) рдХреЗ рдЕрдиреБрд╕рд╛рд░ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рдПрдХ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд▓реЗрдирджреЗрди рдПрдХ рдпрд╛ рдЕрдзрд┐рдХ рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рдирдореЗрдВ рд╕реЗ рдХреБрдЫ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдП рдЬрд╛ рд░рд╣реЗ рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ рдХреЗ рд╕реНрд░реЛрдд рдкрддреЗ рдкрд░ рд╕рдВрдмреЛрдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред  рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕рд░рд▓ "рдХреНрд▓рд╛рдЗрдВрдЯ-рд╕рд░реНрд╡рд░ рдПрдкреНрд▓рд┐рдХреЗрд╢рди" рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬрдм рдПрдХ рдЕрдиреБрд░реЛрдз рдПрдХ рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ рдореЗрдВ рдПрдореНрдмреЗрдбреЗрдб (рдПрдирдХреИрдкреНрд╕реБрд▓реЗрдЯреЗрдб) рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдПрдХ рдЕрдиреНрдп рд╕реНрдорд╛рд░реНрдЯ рдЕрдиреБрдмрдВрдз рдкрд░ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬреЛ рдЕрдиреБрд░реЛрдз рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддрд╛ рд╣реИ рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╡рд╛рдкрд╕ рднреЗрдЬрддрд╛ рд╣реИ, рдлрд┐рд░ рд╕реЗ рдПрдХ рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ рдХреЗ рд░реВрдк рдореЗрдВред </p><br><p> рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рдмреАрдЪ "рдЕрдиреБрд░реЛрдз" рдФрд░ "рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛" ("рдХреНрд╡реЗрд░реА" рдХреЗ рд░реВрдк рдореЗрдВ рдпрд╛ "рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛" рдХреЗ рд░реВрдк рдореЗрдВ) рдХреЛ рднреЗрдж рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИ, рдпрд╛ рдХрд┐рд╕реА рдЕрддрд┐рд░рд┐рдХреНрдд рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ (рдЬреИрд╕реЗ рдХрд┐ рдПрдХ рд╕рд╛рдзрд╛рд░рдг рдзрди рд╣рд╕реНрддрд╛рдВрддрд░рдг)ред  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рдЬрдм рдХреЛрдИ рдЙрддреНрддрд░ рдЖрддрд╛ рд╣реИ, рддреЛ рдпрд╣ рд╕рдордЭрдиреЗ рдХрд╛ рдПрдХ рддрд░реАрдХрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдпрд╣ рдХрд┐рд╕ рдЕрдиреБрд░реЛрдз рд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рд╣реИред </p><br><p>  рдЗрд╕ рд▓рдХреНрд╖реНрдп рдХреЛ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрди рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ рдЯреЗрдореНрдкреНрд▓реЗрдЯ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрд╢рдВрд╕рд╛ рдХреА рдЬрд╛рддреА рд╣реИ (рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ TON рдмреНрд▓реЙрдХрдЪреЗрди рд╕рдВрджреЗрд╢ рдирд┐рдХрд╛рдп рдкрд░ рдХреЛрдИ рдкреНрд░рддрд┐рдмрдВрдз рдирд╣реАрдВ рд▓рдЧрд╛рддрд╛ рд╣реИ, рдЕрд░реНрдерд╛рдд рдпрд╣ рд╕рд┐рд░реНрдл рдПрдХ рд╕рд┐рдлрд╛рд░рд┐рд╢ рд╣реИ): </p><br><p>  0) рд╕рдВрджреЗрд╢ рдХрд╛ рдореБрдЦреНрдп рднрд╛рдЧ рд╕рдВрджреЗрд╢ рдореЗрдВ рд╣реА рдПрдореНрдмреЗрдб рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдпрд╛ рдЗрд╕реЗ рдПрдХ рдЕрд▓рдЧ рд╕реЗрд▓ (рд╕реЗрд▓ *) рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬрд┐рд╕реЗ рд╕рдВрджреЗрд╢ рдореЗрдВ рд╕рдВрджрд░реНрднрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐ рдЖрд░реЗрдЦ рдХреЗ рдЯреАрдПрд▓-рдмреА рдХреЗ рдЯреБрдХрдбрд╝реЗ рдореЗрдВ рдЗрдВрдЧрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ (рдЕрдВрдЧреНрд░реЗрдЬреА рдореЗрдВ рдЗрд╕реЗ рд╕рдордЭрдирд╛ рдЖрд╕рд╛рди рд╣реИ: рдпрд╛ рдПрдХ рдЕрд▓рдЧ рд╕рдВрдЧреНрд░рд╣рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ) рд╕реЗрд▓ рд╕рдВрджреЗрд╢ рд╕реЗ рд╕рдВрджрд░реНрднрд┐рдд рд╣реИ, рдЬреИрд╕рд╛ рдХрд┐ рдЯреАрдПрд▓-рдмреА рд╕реНрдХреАрдо рдЦрдВрдб рджреНрд╡рд╛рд░рд╛ рджрд░реНрд╢рд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ): </p><br><pre><code class="plaintext hljs">message$_ {X:Type} ... body:(Either X ^X) = Message X;</code> </pre> <br><p>  ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://core.telegram.org/mtproto</a> - рдпрд╣рд╛рдВ рдЖрдк TL-рдпреЛрдЬрдирд╛рдУрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ) </p><br><p>  рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдо рд╕реЗ рдХрдо рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рд╕рдВрджреЗрд╢ рдмреЙрдбреА рдХреЗ рд╕рд╛рде рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП (рднрд▓реЗ рд╣реА рд╡реЗ рд╕рдВрджреЗрд╢ рд╡рд╛рд▓реЗ рд╕реЗрд▓ рдореЗрдВ рд░рдЦреЗ рдЧрдП рд╣реЛрдВ - рдЬрдм рднреА рд╡реЗ рд╕рдВрджреЗрд╢ рд╡рд╛рд▓реЗ рд╕реЗрд▓ рдореЗрдВ рдлрд┐рдЯ рд╣реЛрддреЗ рд╣реИрдВ - рдпрд╣ рдмрд╣реБрдд рд╕реНрдкрд╖реНрдЯ рдирд╣реАрдВ рд╣реИ рдХрд┐ рдЗрд╕рдХрд╛ рдХреНрдпрд╛ рдЕрд░реНрде рд╣реИ, рдЗрд╕рд▓рд┐рдП, рдореВрд▓ рдкрд╛рда рд╕рдВрд▓рдЧреНрди рдХрд┐рдпрд╛ рдЧрдпрд╛)ред  рдпрджрд┐ рдЕрдиреБрдмрдВрдз рдЕрд▓рдЧ-рдЕрд▓рдЧ рдХрдХреНрд╖реЛрдВ рдореЗрдВ рд╕рдВрджреЗрд╢ рдирд┐рдХрд╛рдпреЛрдВ рдХреЛ рд╕реНрд╡реАрдХрд╛рд░ рдХрд░рддрд╛ рд╣реИ ("рд╕рд╣реА" рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ <code>(Either X ^X)</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ), рдЖрдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрджреЗрд╢ рдХрд╛ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд╕рдВрджреЗрд╢ рд╢рд░реАрд░ рдХреЛ рдПрдореНрдмреЗрдб рдХрд░рдиреЗ рдХреА рд╡рд┐рд╢реЗрд╖ рд╡рд┐рдзрд┐ рдкрд░ рдирд┐рд░реНрднрд░ рдирд╣реАрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рджреВрд╕рд░реА рдУрд░, рдЕрдиреБрд░реЛрдзреЛрдВ рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрд▓рдЧ рд╕реЗрд▓ рдореЗрдВ рд╕рдВрджреЗрд╢ рдирд┐рдХрд╛рдп рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рдирд╛ рдмрд┐рд▓реНрдХреБрд▓ рдХрд╛рдиреВрдиреА рд╣реИред </p><br><p>  1) рд╕рдВрджреЗрд╢ рдирд┐рдХрд╛рдп рдЖрдорддреМрд░ рдкрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреНрд╖реЗрддреНрд░реЛрдВ рд╕реЗ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ: </p><br><ul><li>  <em>рдСрдк</em> - 32-рдмрд┐рдЯ (рдмрдбрд╝рд╛-рдПрдВрдбрд┐рдпрди) рдЕрд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдкреВрд░реНрдгрд╛рдВрдХ рдЬреЛ рдСрдкрд░реЗрд╢рди рдХреЛ рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд╣рдЪрд╛рдирддрд╛ рд╣реИ, рдпрд╛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдорд╛рд░реНрдЯ рдЕрдиреБрдмрдВрдз рд╡рд┐рдзрд┐ред </li><li>  <em>query_id</em> рдПрдХ 64-рдмрд┐рдЯ (рдмрд┐рдЧ-рдПрдВрдбрд┐рдпрди) рдЕрд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рдкреВрд░реНрдгрд╛рдВрдХ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╕рднреА рдЖрдВрддрд░рд┐рдХ рдкреНрд░рд╢реНрдиреЛрдВ рдФрд░ рдЙрддреНрддрд░ рд╕рдВрджреЗрд╢реЛрдВ рдореЗрдВ рдЕрдиреБрд░реЛрдз рдХреЗ рдкреНрд░рддрд┐ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЗ рд╕рдВрдмрдВрдз рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХрд╛ <em>query_id</em> рд╕рдВрдмрдВрдзрд┐рдд рдЕрдиреБрд░реЛрдз рдХреЗ <em>query_id рдХреЗ</em> рдмрд░рд╛рдмрд░ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП)ред  рдпрджрд┐ <em>рдСрдк</em> рдПрдХ рдЕрдиреБрд░реЛрдз-рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╡рд┐рдзрд┐ рдирд╣реАрдВ рд╣реИ (рдпрд╣ рдПрдХ рдРрд╕реА рд╡рд┐рдзрд┐ рдХрд╣рд▓рд╛рддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдХреЛрдИ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдЕрдкреЗрдХреНрд╖рд┐рдд рдирд╣реАрдВ рд╣реИ), рддреЛ <em>query_id</em> рдЫреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред </li><li>  рд╕рдВрджреЗрд╢ рдХрд╛ рдореБрдЦреНрдп рднрд╛рдЧ <em>рдСрдк</em> рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рдкреНрд░рддреНрдпреЗрдХ рд╕рдорд░реНрдерд┐рдд рдорд╛рди рдХреЗ рд▓рд┐рдП рд╡рд┐рд╢рд┐рд╖реНрдЯ рд╣реИ </li></ul><br><p>  2) рдпрджрд┐ <em>op</em> рд╢реВрдиреНрдп рд╣реИ, рддреЛ рд╕рдВрджреЗрд╢ рдПрдХ рдЯрд┐рдкреНрдкрдгреА рдХреЗ рд╕рд╛рде рдПрдХ рд╕рд░рд▓ рд╣рд╕реНрддрд╛рдВрддрд░рдг рд╕рдВрджреЗрд╢ рд╣реИред  рдпрд╣ рдЯрд┐рдкреНрдкрдгреА рд╕рдВрджреЗрд╢ рдХреЗ рд╢реЗрд╖ рднрд╛рдЧ рдореЗрдВ ( <em>query_id рдХреЗ</em> рдмрд┐рдирд╛ рдФрд░ рдЗрд╕реА рддрд░рд╣, рдпрд╛рдиреА, 5 рд╡реАрдВ рдмрд╛рдЗрдЯ рд╕реЗ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ) (рд╕реНрдкрд╖реНрдЯреАрдХрд░рдг: рдпрджрд┐ <em>query_id</em> рдирд╣реАрдВ рд╣реИ, рддреЛ <em>op</em> рдлрд╝реАрд▓реНрдб рдкрд╣рд▓реЗ 4 рдмрд╛рдЗрдЯреНрд╕ рд▓реЗрддрд╛ рд╣реИ)ред  рдпрджрд┐ рдпрд╣ рдмрд╛рдЗрдЯ 0xff рд╕реЗ рд╢реБрд░реВ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЯрд┐рдкреНрдкрдгреА рдПрдХ рдкрд╛рда рд╣реИ;);  рдЗрд╕реЗ "рдХреЗ рд░реВрдк рдореЗрдВ" рд╡реЙрд▓реЗрдЯ рдХреЗ рдЕрдВрддрд┐рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рд▓рд┐рдП рдкреНрд░рджрд░реНрд╢рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ (рдЕрдорд╛рдиреНрдп рдФрд░ рдирд┐рдпрдВрддреНрд░рдг рд╡рд░реНрдгреЛрдВ рдХреЛ рдЫрд╛рдирдиреЗ рдФрд░ рдЬрд╛рдБрдЪрдиреЗ рдХреЗ рдмрд╛рдж рдХрд┐ рдпрд╣ рд╡реИрдз UTF-8 рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╣реИ)ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдЕрдкрдиреЗ рдмрдЯреБрдП рд╕реЗ рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдореЗрдВ рдХрд┐рд╕реА рдЕрдиреНрдп рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЗ рдмрдЯреБрдП рдореЗрдВ рдПрдХ рд╕рд░рд▓ рд╣рд╕реНрддрд╛рдВрддрд░рдг рдХреЗ рдЙрджреНрджреЗрд╢реНрдп рдХреЛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рджреВрд╕рд░реА рдУрд░, рдпрджрд┐ рдХреЛрдИ рдЯрд┐рдкреНрдкрдгреА рдмрд╛рдЗрдЯ 0xff рд╕реЗ рд╢реБрд░реВ рд╣реЛрддреА рд╣реИ, рддреЛ рд╢реЗрд╖ рд╕рдВрджреЗрд╢ рдПрдХ "рдмрд╛рдЗрдирд░реА рдЯрд┐рдкреНрдкрдгреА" рд╣реИ, рдЬрд┐рд╕реЗ рдЕрдВрддрд┐рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдХреЛ рдкрд╛рда рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рджрд░реНрд╢рд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП (рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рддреЛ рдХреЗрд╡рд▓ рдПрдХ рд╣реЗрдХреНрд╕ рдбрдВрдк рдХреЗ рд░реВрдк рдореЗрдВ)ред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдмрд╛рдЗрдирд░реА рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХрд╛ рдкреНрд░рд╕реНрддрд╛рд╡рд┐рдд рдЙрдкрдпреЛрдЧ, рд╕реНрдЯреЛрд░ рдореЗрдВ рднреБрдЧрддрд╛рди рдХреЗ рд▓рд┐рдП рднреБрдЧрддрд╛рди рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рдХреЛ рд╢рд╛рдорд┐рд▓ рдХрд░рдирд╛ рд╣реИ, рдФрд░ рд╕реНрдЯреЛрд░ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рджреНрд╡рд╛рд░рд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЙрддреНрдкрдиреНрди рдФрд░ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рд╣реИред </p><br><p>  рдЕрдзрд┐рдХрд╛рдВрд╢ рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯреНрд╕ рдХреЛ "рд╕рд░рд▓ рд╕реНрдерд╛рдирд╛рдВрддрд░рдг рд╕рдВрджреЗрд╢" рдкреНрд░рд╛рдкреНрдд рд╣реЛрдиреЗ рдкрд░, рдиреЙрдирд╡реЗрдЬрд┐рдпрд▓ рдПрдХреНрд╢рди рдХрд░рдиреЗ рдпрд╛ рдХрд┐рд╕реА рдЖрдиреЗ рд╡рд╛рд▓реЗ рд╕рдВрджреЗрд╢ рдХреЛ рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИред  рдЗрд╕ рдкреНрд░рдХрд╛рд░, рдЬрдм <em>рдСрдк</em> рд╢реВрдиреНрдп рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯ рдлрд╝рдВрдХреНрд╢рди (рдЬрд┐рд╕реЗ рдЖрдорддреМрд░ рдкрд░ <code>recv_internal()</code> рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ) рдХреЛ рддреБрд░рдВрдд рдХреЛрдб 0 рд╕реЗ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдирд╛ рдЪрд╛рд╣рд┐рдП, рд╕рдлрд▓рддрд╛ рдХрд╛ рд╕рдВрдХреЗрдд рджреЗрддрд╛ рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЕрдкрд╡рд╛рдж рдХреЛ рдлреЗрдВрдХрдирд╛ рдпрджрд┐ рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯ рдореЗрдВ рдХрд╕реНрдЯрдо рд╣реИрдВрдбрд▓рд░ рд╕реНрдерд╛рдкрд┐рдд рдирд╣реАрдВ рд╣реИ рдЕрдкрд╡рд╛рдж)ред  рдпрд╣ рдЗрд╕ рддрдереНрдп рдХреЛ рдЬрдиреНрдо рджреЗрдЧрд╛ рдХрд┐ рд╕рдВрджреЗрд╢ рджреНрд╡рд╛рд░рд╛ рд╣рд╕реНрддрд╛рдВрддрд░рд┐рдд рд░рд╛рд╢рд┐ рдмрд┐рдирд╛ рдХрд┐рд╕реА рдФрд░ рдкреНрд░рднрд╛рд╡ рдХреЗ рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛ рдХреЗ рдЦрд╛рддреЗ рдореЗрдВ рдЬрдорд╛ рд╣реЛ рдЬрд╛рдПрдЧреАред </p><br><p>  3) "рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХреЗ рдмрд┐рдирд╛ рдПрдХ рд╕рд░рд▓ рд╕рдВрджреЗрд╢ рд╕реНрдерд╛рдирд╛рдВрддрд░рдг" рдореЗрдВ рдПрдХ рдЦрд╛рд▓реА рд╢рд░реАрд░ рд╣реИ (рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдмрд┐рдирд╛ <em>рдСрдк</em> рдлрд╝реАрд▓реНрдб рдХреЗ рднреА)ред  рдЙрдкрд░реЛрдХреНрдд рд╡рд┐рдЪрд╛рд░ рдРрд╕реЗ рд╕рдВрджреЗрд╢реЛрдВ рдкрд░ рд▓рд╛рдЧреВ рд╣реЛрддреЗ рд╣реИрдВред  рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЗрд╕ рддрд░рд╣ рдХреЗ рд╕рдВрджреЗрд╢реЛрдВ рдХрд╛ рд╕рдВрджреЗрд╢ рд╕реЗрд▓ рдореЗрдВ рд╕реНрд╡рдпрдВ рдХрд╛ рд╢рд░реАрд░ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><p>  4) рд╣рдо рдЙрдореНрдореАрдж рдХрд░рддреЗ рд╣реИрдВ рдХрд┐ рдЕрдиреБрд░реЛрдз рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ <em>рдСрдк</em> рдлрд╝реАрд▓реНрдб рдореЗрдВ рдкрд╣рд▓реЗ рдмрд┐рдЯ ("рдЙрдЪреНрдЪ-рдХреНрд░рдо рдмрд┐рдЯ" рд╣реЛрдЧрд╛, рдкрд╣рд▓реЗ рдХреЗ рд░реВрдк рдореЗрдВ рдЕрдиреБрд╡рд╛рджрд┐рдд, рдпрд╣ рдЧрд▓рдд рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЬреИрд╕рд╛ рдХрд┐ рдмрд╛рдж рдореЗрдВ рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реЛ рдЧрдпрд╛ рд╣реИ) рдЦрд╛рд▓реА рд╣реИ, рдЕрд░реНрдерд╛рдд рдлрд╝реАрд▓реНрдб рдХрд╛ рдорд╛рди рд╕реАрдорд╛ <code>1 .. 2^31-1</code> рдореЗрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП <code>1 .. 2^31-1</code> , рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдП рдкрд╣рд▓рд╛ (рдЙрдЪреНрдЪ-рдХреНрд░рдо) рдмрд┐рдЯ 1 рдХреЗ рдмрд░рд╛рдмрд░ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП, рдЕрд░реНрдерд╛рдд <code>2^31 .. 2^32-1</code> рд░реЗрдВрдЬ рдореЗрдВ рдлрд╝реАрд▓реНрдб рдорд╛рдиред  рдпрджрд┐ рд╕рдВрджреЗрд╢ рди рддреЛ рдЕрдиреБрд░реЛрдз рд╣реИ рдФрд░ рди рд╣реА рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╣реИ (рдмреЙрдбреА рдореЗрдВ <em>рдХреНрд╡реЗрд░реА_рдб</em> рдкреИрд░рд╛рдореАрдЯрд░ рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рд╣реИ), рддреЛ рдЗрд╕рдореЗрдВ <em>рдСрдк</em> рдкреИрд░рд╛рдореАрдЯрд░ рдХреЛ рдЕрдиреБрд░реЛрдз рд╕рдВрджреЗрд╢ рдореЗрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП: <code>1 .. 2^31 - 1</code> ред </p><br><p>  5) рдХрдИ "рдорд╛рдирдХ" рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рдВрджреЗрд╢ рд╣реИрдВ рдЬрд┐рдирдХреЗ рд▓рд┐рдП <em>op</em> 0xffffffff рдФрд░ 0xffffffffe рд╣реИред  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, 0xfffffff0 рд╕реЗ 0xffffffff рддрдХ рдХреЗ рдорд╛рди рдРрд╕реЗ рдорд╛рдирдХ рдЙрддреНрддрд░реЛрдВ рдХреЗ рд▓рд┐рдП рдЖрд░рдХреНрд╖рд┐рдд рд╣реЛрддреЗ рд╣реИрдВред </p><br><ul><li>  <em>op = 0xffffff рдХрд╛</em> рдЕрд░реНрде рд╣реИ "рдСрдкрд░реЗрд╢рди рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИред"  рдЗрд╕рдХреЗ рдмрд╛рдж рдореВрд▓ рдХреНрд╡реЗрд░реА рд╕реЗ рдирд┐рдХрд╛рд▓реЗ рдЧрдП 64-рдмрд┐рдЯ <em>рдХреНрд╡реЗрд░реА_рдб</em> рдФрд░ рдореВрд▓ рдХреНрд╡реЗрд░реА рдХрд╛ 32-рдмрд┐рдЯ <em>рдСрдк рд╣реЛрддрд╛ рд╣реИ</em> ред  рд╕рднреА рд▓реЗрдХрд┐рди рд╕рдмрд╕реЗ рд╕рд░рд▓ рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯреНрд╕ рдХреЛ рдЗрд╕ рддреНрд░реБрдЯрд┐ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП рдЬрдм рдЙрдиреНрд╣реЗрдВ рдПрдХ рдЕрдЬреНрдЮрд╛рдд <em>рдУрдк</em> рдХреЗ рд╕рд╛рде рд╕реАрдорд╛ 1 ... 2 ^ 31-1 рдореЗрдВ рдЕрдиреБрд░реЛрдз рдкреНрд░рд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИред </li><li>  <em>op = 0xffffff рдХрд╛</em> рдЕрд░реНрде рд╣реИ "рдСрдкрд░реЗрд╢рди рдХреА рдЕрдиреБрдорддрд┐ рдирд╣реАрдВ рд╣реИред"  рдпрд╣ рдореВрд▓ рдХреНрд╡реЗрд░реА рдХреЗ 64-рдмрд┐рдЯ <em>query_id</em> рджреНрд╡рд╛рд░рд╛ рдкреАрдЫрд╛ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдлрд┐рд░ рдореВрд▓ рдХреНрд╡реЗрд░реА рд╕реЗ 32-рдмрд┐рдЯ <em>рдСрдк</em> рдирд┐рдХрд╛рд▓рд╛ рдЬрд╛рддрд╛ рд╣реИред </li></ul><br><p>  рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рдЕрдЬреНрдЮрд╛рдд "рдЙрддреНрддрд░" (2 рд╕реЗ 31 ^ 2 ... 2 ^ 32-1 рдХреЗ рд╕рд╛рде) рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП (рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рдЖрдкрдХреЛ 0xffffffff рдХреЗ рдмрд░рд╛рдмрд░ <em>op рдХреЗ</em> рд╕рд╛рде рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдЙрддреНрдкрдиреНрди рдирд╣реАрдВ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП), рд╕рд╛рде рд╣реА рд╕рд╛рде рдЕрдкреНрд░рддреНрдпрд╛рд╢рд┐рдд рд╡рд╛рдкрд╕реА ( рдмрд╛рдЙрдВрд╕) -messages ("рдмрд╛рдЙрдВрд╕" рдлреНрд▓реИрдЧ рд╕реЗрдЯ рдХреЗ рд╕рд╛рде)ред </p><br><h2 id="oplata-za-obrabotku-zaprosov-i-otpravlenie-otvetov">  рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдЕрдиреБрд░реЛрдзреЛрдВ рдФрд░ рдЬрд╡рд╛рдм рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рднреБрдЧрддрд╛рди </h2><br><p>  рд╕рд╛рдорд╛рдиреНрдп рддреМрд░ рдкрд░, рдпрджрд┐ рдХреЛрдИ рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯ рдХрд┐рд╕реА рджреВрд╕рд░реЗ рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯ рдХреЛ рд░рд┐рдХреНрд╡реЗрд╕реНрдЯ рднреЗрдЬрдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИ, рддреЛ рдЙрд╕реЗ рдЗрд╕ рдореИрд╕реЗрдЬ рдХреЛ рдбреЗрд╕реНрдЯрд┐рдиреЗрд╢рди (рдЧреИрд╕ рд╢реБрд▓реНрдХ) рдкрд░ рдкреНрд░реЛрд╕реЗрд╕ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЯрд╛рд░рдЧреЗрдЯ рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯ (рдореИрд╕реЗрдЬ рдлреЙрд░рд╡рд░реНрдбрд┐рдВрдЧ рдлреАрд╕) рдореЗрдВ рдЗрдВрдЯрд░рдирд▓ рдореИрд╕реЗрдЬ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рднреБрдЧрддрд╛рди рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред рдЧреИрд╕ рд╢реБрд▓реНрдХ) рдФрд░ рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ рддреЛ рдПрдХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП (рд╕рдВрджреЗрд╢ рдЕрдЧреНрд░реЗрд╖рдг рд╢реБрд▓реНрдХ)ред </p><br><p>  рдЬреНрдпрд╛рджрд╛рддрд░ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдкреНрд░реЗрд╖рдХ рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, 1 рдЧреНрд░рд╛рдо) рдХреА рдПрдХ рдЫреЛрдЯреА рд░рд╛рд╢рд┐ (рдЗрд╕ рд╕рдВрджреЗрд╢ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рднреБрдЧрддрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд) рдХреЛ рд╕рдВрд▓рдЧреНрди рдХрд░реЗрдЧрд╛ рдФрд░ рдЙрд╕ рдкрд░ "рдЙрдЫрд╛рд▓" рдзреНрд╡рдЬ рд╕реЗрдЯ рдХрд░реЗрдЧрд╛ (рдпрд╣ рдПрдХ рдмрд╛рдЙрдВрд╕рд░ рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ рднреЗрдЬреЗрдЧрд╛);  рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛ рдЬрд╡рд╛рдм рдХреЗ рд╕рд╛рде рдкреНрд░рд╛рдкреНрдд рдореВрд▓реНрдп рдХрд╛ рдЕрдкреНрд░рдпреБрдХреНрдд рднрд╛рдЧ рд╡рд╛рдкрд╕ рдХрд░ рджреЗрдЧрд╛ (рдЗрд╕рд╕реЗ рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рд╢реБрд▓реНрдХ рдШрдЯрд╛рдХрд░)ред  рдпрд╣ рдЖрдорддреМрд░ рдкрд░ SENDRAWMSG рдХреЛ рдореЛрдб = 64 (cf. рдкрд░рд┐рд╢рд┐рд╖реНрдЯ A рд╕реЗ TON VM рдкреНрд░рд▓реЗрдЦрди) рдХрд╣рдХрд░ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><p>  рдпрджрд┐ рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдП рдЧрдП рд╕рдВрджреЗрд╢ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдирд╣реАрдВ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЧреИрд░-рд╢реВрдиреНрдп рдирд┐рдХрд╛рд╕ рдХреЛрдб (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рдЕрдЦрдВрдб рд╕реЗрд▓ рдбрд┐рд╕реЗрд░рд┐рдПрд▓рд╛рдЗрдЬреЗрд╢рди рдЕрдкрд╡рд╛рдж рдХреЗ рдХрд╛рд░рдг) рдХреЗ рд╕рд╛рде рдирд┐рд╖реНрдкрд╛рджрди рд╕рдорд╛рдкреНрдд рдирд╣реАрдВ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рддреЛ рд╕рдВрджреЗрд╢ рдкреНрд░реЗрд╖рдХ рдХреЛ рд╡рд╛рдкрд╕ "рдмрд╛рдЙрдВрд╕" рд╣реЛ рдЬрд╛рдПрдЧрд╛, рдФрд░ "рдмрд╛рдЙрдВрд╕" рдзреНрд╡рдЬ рдЕрдирд┐рдпрдВрддреНрд░рд┐рдд рдФрд░ рд╕реЗрдЯ рд╣реЛ рдЬрд╛рдПрдЧрд╛ред рдЭрдВрдбрд╛ "рдмрд╛рдЙрдВрд╕"ред  рдмрд╛рдЙрдВрд╕ рдХрд┐рдП рдЧрдП рд╕рдВрджреЗрд╢ рдХрд╛ рдореБрдЦреНрдп рднрд╛рдЧ рдореВрд▓ рд╕рдВрджреЗрд╢ рдХреЗ рд╕рдорд╛рди рд╣реЛрдЧрд╛;  рдЗрд╕рд▓рд┐рдП, рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯ рдореЗрдВ <em>рдСрдк</em> рдлрд╝реАрд▓реНрдб рдХреЛ рдкрд╛рд░реНрд╕ рдХрд░рдиреЗ рдФрд░ рд╕рдВрдмрдВрдзрд┐рдд рдЕрдиреБрд░реЛрдз рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ рдХреЗ "рдмрд╛рдЙрдВрд╕" рдзреНрд╡рдЬ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛ рдорд╣рддреНрд╡рдкреВрд░реНрдг рд╣реИ (рдЕрдиреНрдпрдерд╛ рдПрдХ рдЬреЛрдЦрд┐рдо рд╣реИ рдХрд┐ рдмрд╛рдЙрдВрд╕ рдХрд┐рдП рдЧрдП рд╕рдВрджреЗрд╢ рдореЗрдВ рд╢рд╛рдорд┐рд▓ рдЕрдиреБрд░реЛрдз рдХреЛ рдЙрд╕рдХреЗ рдореВрд▓ рдкреНрд░реЗрд╖рдХ рджреНрд╡рд╛рд░рд╛ рдПрдХ рдирдП рдЕрд▓рдЧ рдЕрдиреБрд░реЛрдз рдХреЗ рд░реВрдк рдореЗрдВ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛)ред  рдпрджрд┐ "рдмрд╛рдЙрдВрд╕" рдзреНрд╡рдЬ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рддреЛ рд╡рд┐рд╢реЗрд╖ рдХреЛрдб рдпрд╣ рд╕рдордЭ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдХреМрди рд╕рд╛ рдЕрдиреБрд░реЛрдз рд╡рд┐рдлрд▓ рд╣реБрдЖ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рд╕рдВрджреЗрд╢ рд╕реЗ <em>op</em> рдФрд░ <em>query_id</em> рдХреЛ deserializing рджреНрд╡рд╛рд░рд╛) рдФрд░ рдЙрдЪрд┐рдд рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХрд░реЗрдВред  рдПрдХ рд╕рд░рд▓ рд╕реНрдорд╛рд░реНрдЯ рдЕрдиреБрдмрдВрдз рдмрд╕ рд╕рднреА рд▓реМрдЯрд╛рдП рдЧрдП рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдЕрдирджреЗрдЦрд╛ рдХрд░ рд╕рдХрддрд╛ рд╣реИ ("рдмрд╛рдЙрдВрд╕" рдзреНрд╡рдЬ рд╕реЗрдЯ рд╣реЛрдиреЗ рдкрд░ рд╢реВрдиреНрдп рдирд┐рдХрд╛рд╕ рдХреЛрдб рдХреЗ рд╕рд╛рде рд╕рдорд╛рдкреНрдд)ред </p><br><p>  рджреВрд╕рд░реА рдУрд░, рд░рд┐рд╕реАрд╡рд░ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдЕрдиреБрд░реЛрдз рдХреЛ рд╕рдлрд▓рддрд╛рдкреВрд░реНрд╡рдХ рдкрд╛рд░реНрд╕ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдпрд╣ рдкрддрд╛ рд▓рдЧрд╛ рд╕рдХрддрд╛ рд╣реИ рдХрд┐ рдЕрдиреБрд░реЛрдзрд┐рдд <em>рдСрдк</em> рд╡рд┐рдзрд┐ рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИ рдпрд╛ рдХрд┐ рдХреЛрдИ рдЕрдиреНрдп рддреНрд░реБрдЯрд┐ рд╕реНрдерд┐рддрд┐ рдкреВрд░реА рд╣реЛ рдЧрдИ рд╣реИред  рдлрд┐рд░ 0xffffffff рдпрд╛ рдПрдХ рдЕрдиреНрдп рдЙрдЪрд┐рдд рдореВрд▓реНрдп рдХреЗ рдмрд░рд╛рдмрд░ <em>op рдХреЗ</em> рд╕рд╛рде рдПрдХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореЛрдб = 64 рдХреЗ рд╕рд╛рде SENDRAWMSG рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд╡рд╛рдкрд╕ рднреЗрдЬрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЬреИрд╕рд╛ рдХрд┐ рдКрдкрд░ рдмрддрд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><p>  рдХреБрдЫ рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ, рдкреНрд░реЗрд╖рдХ рдПрдХ рд╣реА рд╕рдордп рдореЗрдВ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рдзрдирд░рд╛рд╢рд┐ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рдирд╛ рдЪрд╛рд╣рддрд╛ рд╣реИ?  рдкреНрд░реЗрд╖рдХ рдХреЛ?  (рдпрд╣рд╛рдВ, рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ, рдПрдХ рддреНрд░реБрдЯрд┐, рдФрд░ "рдкреНрд░рд╛рдкреНрддрдХрд░реНрддрд╛" рдХреЗ рд▓рд┐рдП рдереА) рдФрд░ рдПрдХ рдкреБрд╖реНрдЯрд┐рдХрд░рдг рдпрд╛ рдПрдХ рддреНрд░реБрдЯрд┐ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдПрдХ рд╡реИрдз рдЪреБрдирд╛рд╡ рд╕реНрдорд╛рд░реНрдЯ рдЕрдиреБрдмрдВрдз рдХреЛ рдПрдХ рдореВрд▓реНрдп рдХреЗ рд░реВрдк рдореЗрдВ рдПрдХ рдмреЛрд▓реА рдХреЗ рд╕рд╛рде рдЪреБрдирд╛рд╡ рдореЗрдВ рднрд╛рдЧ рд▓реЗрдиреЗ рдХрд╛ рдЕрдиреБрд░реЛрдз рдкреНрд░рд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИред  рдРрд╕реЗ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдпрд╣ рдЕрдиреБрдорд╛рдирд┐рдд рдореВрд▓реНрдп [рд▓рд╛рдЧрдд] рдХреЗ рд▓рд┐рдП рдПрдХ рдЕрддрд┐рд░рд┐рдХреНрдд рдЪрдирд╛ рд╕рдВрд▓рдЧреНрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рдордЭ рдореЗрдВ рдЖрддрд╛ рд╣реИ, (рдпрд╣рд╛рдВ рд╢рдмреНрдж рдореВрд▓реНрдп рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣рд░ рдЬрдЧрд╣ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХреБрдЫ рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЗ рд▓рд┐рдП рднреБрдЧрддрд╛рди рдХреЗ рдЕрд░реНрде рдореЗрдВ, рдЗрд╕рд▓рд┐рдП рдореИрдВрдиреЗ "рд▓рд╛рдЧрдд" рд╢рдмреНрдж рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛)ред  рдпрджрд┐ рдХреЛрдИ рддреНрд░реБрдЯрд┐ рд╣реЛрддреА рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдмреЛрд▓реА рдХрд┐рд╕реА рднреА рдХрд╛рд░рдг рд╕реЗ рд╕реНрд╡реАрдХрд╛рд░ рдирд╣реАрдВ рдХреА рдЬрд╛ рд╕рдХрддреА), рддреЛ рдкреНрд░рд╛рдкреНрдд рдХреА рдЧрдИ рдкреВрд░реА рд░рд╛рд╢рд┐ (рдЛрдг рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд╢реБрд▓реНрдХ) рддреНрд░реБрдЯрд┐ рд╕рдВрджреЗрд╢ рдХреЗ рд╕рд╛рде рдкреНрд░реЗрд╖рдХ рдХреЛ рд╡рд╛рдкрд╕ рдХрд░ рджреА рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдП (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдореЛрдб = 64 рдХреЗ рд╕рд╛рде SENDRAWMSG рдХрд╛ рдЙрдкрдпреЛрдЧ, рдЬреИрд╕рд╛ рдХрд┐ рд╡рд░реНрдгрд┐рдд рд╣реИ) рдЗрд╕рдХреЗ рдмрд╛рдж рдХреЗ рд╕рдВрд╕реНрдХрд░рдг)ред  рд╕рдлрд▓ рд╣реЛрдиреЗ рдкрд░, рдПрдХ рдкреБрд╖реНрдЯрд┐рдХрд░рдг рд╕рдВрджреЗрд╢ рдмрдирд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рдареАрдХ рдПрдХ рдЧреНрд░рд╛рдо рд╡рд╛рдкрд╕ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдЗрд╕ рдореВрд▓реНрдп рд╕реЗ рд╕рдВрджреЗрд╢ рд╣рд╕реНрддрд╛рдВрддрд░рдг рд╢реБрд▓реНрдХ рдШрдЯрд╛рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ; рдпрд╣ SENDRAWMSG рдХрд╛ рдореЛрдб = 1 рд╣реИ)ред </p><br><h2 id="ispolzovanie-nevozvratnyh-non-bounceable-soobscheniy">  рдЧреИрд░-рдкрд░рд┐рд╖рджреАрдп рд╕рдВрджреЗрд╢реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ </h2><br><p>  рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯреНрд╕ рдХреЗ рдмреАрдЪ рднреЗрдЬреЗ рдЧрдП рд▓рдЧрднрдЧ рд╕рднреА рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рд▓реМрдЯрд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП (рдЖрдк рдЗрд╕реЗ "рд╢реЗрдЦрд╝реА" рдХреЗ рд░реВрдк рдореЗрдВ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рднреНрд░рдорд┐рдд рди рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП, рдЗрд╕ рд╢рдмреНрджрд╛рд╡рд▓реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдирд╛ рдЖрд╕рд╛рди рд╣реИ), рдЕрд░реНрдерд╛рдд, рдЙрдирдХреЗ рдкрд╛рд╕ "рдмрд╛рдЙрдВрд╕" рдмрд┐рдЯ рдЦрд╛рд▓реА рдирд╣реАрдВ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдПред  рдлрд┐рд░, рдпрджрд┐ рд▓рдХреНрд╖реНрдп рд╕реНрдорд╛рд░реНрдЯ рдЕрдиреБрдмрдВрдз рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИ, рдпрд╛ рдпрджрд┐ рдпрд╣ рдЗрд╕ рд╕рдВрджреЗрд╢ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддреЗ рд╕рдордп рдПрдХ рдЕрдЦрдВрдб рдЕрдкрд╡рд╛рдж рдмрдирд╛рддрд╛ рд╣реИ, рддреЛ рд╕рдВрджреЗрд╢ рдХреЛ рдкреНрд░рд╛рд░рдВрднрд┐рдХ рд▓рд╛рдЧрдд (рдореВрд▓реНрдп) рдХреЗ рд╢реЗрд╖ (рд╕рдВрджреЗрд╢реЛрдВ рдФрд░ рдЧреИрд╕ рдХреЗ рдкреНрд░рд╕рд╛рд░рдг рдХреЗ рд▓рд┐рдП рд╕рднреА рд╢реБрд▓реНрдХ рдШрдЯрд╛рдХрд░) рд╡рд╛рдкрд╕ "рд╡рд╛рдкрд╕" рдХрд░ рджрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рд▓реМрдЯреЗ рд╕рдВрджреЗрд╢ рдореЗрдВ рдПрдХ рд╣реА рдмреЙрдбреА рд╣реЛрдЧреА, рд▓реЗрдХрд┐рди "рдмрд╛рдЙрдВрд╕" рдлреНрд▓реИрдЧ рдХреНрд▓рд┐рдпрд░ рдФрд░ "рдмрд╛рдЙрдВрд╕" рдлреНрд▓реИрдЧ рд╕реЗрдЯ рдХреЗ рд╕рд╛рдеред  рдЗрд╕рд▓рд┐рдП, рд╕рднреА рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯреНрд╕ рдХреЛ рдЖрдиреЗ рд╡рд╛рд▓реЗ рд╕рднреА рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ "рдмрд╛рдЙрдВрд╕" рдзреНрд╡рдЬ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдиреА рдЪрд╛рд╣рд┐рдП рдФрд░ рдпрд╛ рддреЛ рдЪреБрдкрдЪрд╛рдк рдЙрдиреНрд╣реЗрдВ рдкреНрд░рд╛рдкреНрдд рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдП (рддреБрд░рдВрдд рдПрдХ рд╢реВрдиреНрдп рдирд┐рдХрд╛рд╕ рдХреЛрдб рдХреЗ рд╕рд╛рде рд╕рдорд╛рдкреНрдд рдХрд░рдирд╛) рдпрд╛ рдпрд╣ рдирд┐рд░реНрдзрд╛рд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рд╡рд┐рд╢реЗрд╖ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХрд░рдирд╛ рдХрд┐ рдХреМрди рд╕рд╛ рдЖрдЙрдЯрдЧреЛрдЗрдВрдЧ рдЕрдиреБрд░реЛрдз рд╡рд┐рдлрд▓ рд░рд╣рд╛ред  рджрд┐рдП рдЧрдП рд╕рдВрджреЗрд╢ рдХреЗ рдореБрдЦреНрдп рднрд╛рдЧ рдореЗрдВ рджрд┐рдП рдЧрдП рдЕрдиреБрд░реЛрдз рдХреЛ рдХрднреА рднреА рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><p>  рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рдЧреИрд░-рдмрд╛рдЙрдВрд╕ рдХрд░рдиреЗ рдпреЛрдЧреНрдп рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдХрдо рд╕реЗ рдХрдо рдПрдХ рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдп рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ рднреЗрдЬреЗ рдмрд┐рдирд╛ рдирдпрд╛ рдЦрд╛рддрд╛ рдирд╣реАрдВ рдмрдирд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ред  рдпрджрд┐ рдЗрд╕ рд╕рдВрджреЗрд╢ рдореЗрдВ рдирдП рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯ рдХреЗ рдХреЛрдб рдФрд░ рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде StateInit рд╢рд╛рдорд┐рд▓ рдирд╣реАрдВ рд╣реИ, рддреЛ рдпрд╣ рдПрдХ рдЧреИрд░-рдЦрд╛рд▓реА рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ рдореЗрдВ рдПрдХ рдЧреИрд░-рдЦрд╛рд▓реА рдирд┐рдХрд╛рдп рд╣реЛрдиреЗ рдХрд╛ рдХреЛрдИ рдорддрд▓рдм рдирд╣реАрдВ рд╣реИред </p><br><p>  рдпрд╣ рдПрдХ рдЕрдЪреНрдЫрд╛ рд╡рд┐рдЪрд╛рд░ рд╣реИ рдХрд┐ рдЕрдВрддрд┐рдо рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ (рдЬреИрд╕реЗ, рдмрдЯреБрдП) рдХреЛ рдЕрдкрд░рд┐рд╡рд░реНрддрдиреАрдп рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рди рджреЗрдВ рдЬреЛ рдмрдбрд╝реА рдорд╛рддреНрд░рд╛ рдореЗрдВ рд▓реЗ рдЬрд╛рддреЗ рд╣реИрдВ (рдЬреИрд╕реЗ, рдкрд╛рдВрдЪ рдЧреНрд░рд╛рдо рд╕реЗ рдЕрдзрд┐рдХ), рдпрд╛ рдХрдо рд╕реЗ рдХрдо рдЙрдиреНрд╣реЗрдВ рдЪреЗрддрд╛рд╡рдиреА рджреЗрдВ рдпрджрд┐ рд╡реЗ рдРрд╕рд╛ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддреЗ рд╣реИрдВред  рдкрд╣рд▓реЗ рдПрдХ рдЫреЛрдЯреА рд░рд╛рд╢рд┐ рднреЗрдЬрдирд╛ рдмреЗрд╣рддрд░ рд╣реИ, рдлрд┐рд░ рдПрдХ рдирдпрд╛ рд╕реНрдорд╛рд░реНрдЯ рдЕрдиреБрдмрдВрдз рдмрдирд╛рдПрдВ, рдФрд░ рдлрд┐рд░ рдПрдХ рдмрдбрд╝реА рд░рд╛рд╢рд┐ рднреЗрдЬреЗрдВред </p><br><h2 id="vneshnie-soobscheniya">  рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢ </h2><br><p>  рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ TON рдмреНрд▓реЙрдХрдЪреЗрди рдкрд░ рд╕реНрдерд┐рдд рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯ рдкрд░ рдмрд╛рд╣рд░реА рд░реВрдк рд╕реЗ рднреЗрдЬрд╛ рдЬрд╛рддрд╛ рд╣реИ рддрд╛рдХрд┐ рдЙрдиреНрд╣реЗрдВ рдХреБрдЫ рдХреНрд░рд┐рдпрд╛рдПрдВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдордЬрдмреВрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╡реЙрд▓реЗрдЯ рдХреЗ рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯ рдореЗрдВ рдСрд░реНрдбрд░ рд╡рд╛рд▓реЗ рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рдЙрдореНрдореАрдж рд╣реИ (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╡реЙрд▓реЗрдЯ рдХреЗ рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯ рд╕реЗ рднреЗрдЬреЗ рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢) рд╡реЙрд▓реЗрдЯ рдорд╛рд▓рд┐рдХ рджреНрд╡рд╛рд░рд╛ рд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рд╣реЛрдВрдЧреЗ;  рдЬрдм рдЗрд╕ рддрд░рд╣ рдХреЗ рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢ рдХреЛ рд╡реЙрд▓реЗрдЯ рдХреЗ рд╕реНрдорд╛рд░реНрдЯ рдЕрдиреБрдмрдВрдз рджреНрд╡рд╛рд░рд╛ рдкреНрд░рд╛рдкреНрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддреЛ рдпрд╣ рдкрд╣рд▓реЗ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рдХреА рдкреБрд╖реНрдЯрд┐ рдХрд░рддрд╛ рд╣реИ, рдлрд┐рд░ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░рддрд╛ рд╣реИ (TVM ACCEPT рдЖрджрд┐рдо рд▓реЙрдиреНрдЪ рдХрд░рдХреЗ), рдФрд░ рдлрд┐рд░ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдХрд╛рд░реНрдп рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдХреГрдкрдпрд╛ рдзреНрдпрд╛рди рджреЗрдВ рдХрд┐ рд╕рднреА рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢реЛрдВ рдХреЛ рдлрд┐рд░ рд╕реЗ рдЦреЗрд▓рдирд╛ рд╣рдорд▓реЛрдВ рд╕реЗ рдмрдЪрд╛рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред  рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдЖрдорддреМрд░ рдкрд░ рдкреНрд░рд╕реНрддрд╛рд╡рд┐рдд рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢реЛрдВ (рдиреЗрдЯрд╡рд░реНрдХ рд╕реЗ рдкреНрд░рд╛рдкреНрдд) рдХреЗ рдкреВрд▓ рд╕реЗ рдПрдХ рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢ рдирд┐рдХрд╛рд▓рддреЗ рд╣реИрдВ;  рд╣рд╛рд▓рд╛рдБрдХрд┐, рдХреБрдЫ рд╕реНрдерд┐рддрд┐рдпреЛрдВ рдореЗрдВ, рдПрдХ рдЕрдиреНрдп рд╕рддреНрдпрд╛рдкрдирдХрд░реНрддрд╛ рдПрдХ рд╣реА рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢ рдХреЛ рджреЛ рдмрд╛рд░ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ (рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдПрдХ рд╣реА рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢ рдХреЗ рд▓рд┐рдП рджреВрд╕рд░рд╛ рд▓реЗрди-рджреЗрди рдмрдирд╛ рд╕рдХрддрд╛ рд╣реИ, рдЬреЛ рдореВрд▓ рдХреНрд░рд┐рдпрд╛ рдХреЗ рджреЛрд╣рд░рд╛рд╡ рдХреА рдУрд░ рдЬрд╛рддрд╛ рд╣реИ)ред  рдЗрд╕рд╕реЗ рднреА рдмрджрддрд░, рдПрдХ рд╣рдорд▓рд╛рд╡рд░ рдПрдХ рдмреНрд▓реЙрдХ рд╕реЗ рдПрдХ рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢ рдирд┐рдХрд╛рд▓ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рд╕рдореЗрдВ рдПрдХ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рд▓реЗрдирджреЗрди рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдмрд╛рдж рдореЗрдВ рдЗрд╕реЗ рдлрд┐рд░ рд╕реЗ рднреЗрдЬ рд╕рдХрддрд╛ рд╣реИред  рдпрд╣, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рднреБрдЧрддрд╛рди рдХреЛ рджреЛрд╣рд░рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд╕реНрдорд╛рд░реНрдЯ рд╡реЙрд▓реЗрдЯ рдЕрдиреБрдмрдВрдз рд╣реЛ рд╕рдХрддрд╛ рд╣реИред </p><br><p>  рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢реЛрдВ рд╕реЗ рдЬреБрдбрд╝реЗ рд╕реВрдВрдШрдиреЗ рд╡рд╛рд▓реЗ рд╣рдорд▓реЛрдВ рд╕реЗ рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯреНрд╕ рдХреЛ рдмрдЪрд╛рдиреЗ рдХрд╛ рд╕рдмрд╕реЗ рдЖрд╕рд╛рди рддрд░реАрдХрд╛ рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯ рдирд┐рд░рдВрддрд░ рдбреЗрдЯрд╛ рдореЗрдВ 32-рдмрд┐рдЯ <em>рдХреНрдпреВрд░-рд╕реЗрдХреНрдиреЛ рдХрд╛рдЙрдВрдЯрд░</em> рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░рдирд╛ рд╣реИ рдФрд░ рдХрд┐рд╕реА рднреА рдЖрдиреЗ рд╡рд╛рд▓реЗ рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ (рд╣рд╕реНрддрд╛рдХреНрд╖рд░рд┐рдд рднрд╛рдЧ) рдореЗрдВ <em>рд░реА-рд╕реЗрдХреНрдиреЛ рд╡реИрд▓реНрдпреВ</em> рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░рдирд╛ рд╣реИред  рддрдм рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢ рд╕реНрд╡реАрдХрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (ACCEPTed - рдЖрджрд┐рдо ACCEPT рдХрд╛ рдПрдХ рд╕рдВрдХреЗрдд) рдХреЗрд╡рд▓ рддрднреА рдЬрдм рд╣рд╕реНрддрд╛рдХреНрд╖рд░ рд╡реИрдз рд╣реЛ рдФрд░ <em>req-seqno</em> <em>cur-seqno рдХреЗ</em> рдмрд░рд╛рдмрд░ рд╣реЛред  рд╕рдлрд▓ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рдмрд╛рдж, рд▓рдЧрд╛рддрд╛рд░ рдбреЗрдЯрд╛ рдореЗрдВ <em>cur-seqno</em> рдХрд╛ рдореВрд▓реНрдп рдПрдХ рд╕реЗ рдмрдврд╝ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдПрдХ рд╣реА рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢ рдлрд┐рд░ рд╕реЗ рдкреНрд░рд╛рдкреНрдд рдирд╣реАрдВ рд╣реЛрдЧрд╛ред </p><br><p>  рдЖрдк рдХрд┐рд╕реА рдмрд╛рд╣реНрдп рд╕рдВрджреЗрд╢ рдореЗрдВ <em>рд╕рдорд╛рдкреНрддрд┐-</em> рдХреНрд╖реЗрддреНрд░ рдХреЛ рднреА рд╢рд╛рдорд┐рд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рд╕рдВрджреЗрд╢ рдХреЛ рддрднреА рд╕реНрд╡реАрдХрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрдм рд╡рд░реНрддрдорд╛рди рдпреВрдирд┐рдХреНрд╕ рд╕рдордп рдЗрд╕ рдХреНрд╖реЗрддреНрд░ рдХреЗ рдорд╛рди рд╕реЗ рдХрдо рд╣реЛред  рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ <em>рд╕реЗрдХреНрдиреЛ рдХреЗ</em> рд╕рдВрдпреЛрдЬрди рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ;  рд╡реИрдХрд▓реНрдкрд┐рдХ рд░реВрдк рд╕реЗ, рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рд╡рд╛рд▓рд╛ рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯ рдЕрдкрдиреЗ рд╕реНрдерд╛рдпреА рдбреЗрдЯрд╛ рдореЗрдВ рдкреНрд░рд╛рдкреНрдд рд╕рднреА рдЕрдВрддрд┐рдо (рд╕рдорд╛рдкреНрдд рдирд╣реАрдВ) рдХреЗ рдПрдХ рд╕реЗрдЯ (рд╣реИрд╢) рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдпрджрд┐ рд╡рд╣ рд╕рд╣реЗрдЬреЗ рдЧрдП рд╕рдВрджреЗрд╢реЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХрд╛ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рд╣реИ рддреЛ рдПрдХ рдирдП рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢ рдХреЛ рдЕрд╕реНрд╡реАрдХрд╛рд░ рдХрд░ рд╕рдХрддрд╛ рд╣реИред  рд▓рдЧрд╛рддрд╛рд░ рдбреЗрдЯрд╛ рдХреА рдЕрд╕реАрдорд┐рдд рд╡реГрджреНрдзрд┐ рд╕реЗ рдмрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдЗрд╕ рд╕реЗрдЯ рдореЗрдВ рд╕рдорд╛рдкреНрдд рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд╕рдВрдЧреНрд░рд╣ рдФрд░ рдирд┐рд╖реНрдХрд╛рд╕рди рдХреЛ рднреА рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред </p><br><p>  рдЖрдорддреМрд░ рдкрд░, рдПрдХ рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢ 256-рдмрд┐рдЯ рд╣рд╕реНрддрд╛рдХреНрд╖рд░ (рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ), 32-рдмрд┐рдЯ <em>req-seqno</em> (рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ), 32-рдмрд┐рдЯ <em>рдПрдХреНрд╕рдкрд╛рдпрд░-рдСрди</em> (рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ), рдФрд░ рд╕рдВрднрд╡рддрдГ 32-рдмрд┐рдЯ <em>рдСрдк</em> рдФрд░ рдЕрдиреНрдп рдЖрд╡рд╢реНрдпрдХ рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рд╕рд╛рде рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИред <em>рд╕реЗрд╢рди рдХреЗ</em> рдЖрдзрд╛рд░ рдкрд░ред  рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢ рдЯреЗрдореНрдкрд▓реЗрдЯ рдХреЛ рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ рдЯреЗрдореНрдкрд▓реЗрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдорд╛рдирдХреАрдХреГрдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╡рд┐рднрд┐рдиреНрди рд╕реНрдорд╛рд░реНрдЯ рдЕрдиреБрдмрдВрдзреЛрдВ (рд╡рд┐рднрд┐рдиреНрди рдбреЗрд╡рд▓рдкрд░реНрд╕ рджреНрд╡рд╛рд░рд╛ рд▓рд┐рдЦрд┐рдд рдФрд░ рд╡рд┐рднрд┐рдиреНрди рдорд╛рд▓рд┐рдХреЛрдВ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рдмрдВрдзрд┐рдд) рдХреЗ рдмреАрдЪ рдмрд╛рддрдЪреАрдд рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред </p><br><h2 id="get-metody">  рд╡рд┐рдзрд┐рдпрд╛рдВ рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ </h2><br><p>  рдХреБрдЫ рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯреНрд╕ рдХреЛ рдХреБрдЫ рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдЧреЗрдЯ-рд╡рд┐рдзрд┐рдпреЛрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреА рдЙрдореНрдореАрдж рд╣реИред  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, TON DNS рдХреЗ рд▓рд┐рдП рдХрд┐рд╕реА рднреА рдбреАрдПрдирдПрд╕ рд░рд┐рдЬрд╝реЙрд▓реНрд╡рд░ рд╕реНрдорд╛рд░реНрдЯ рдЕрдиреБрдмрдВрдз рд╕реЗ рдЙрдореНрдореАрдж рд╣реИ рдХрд┐ dnsresolve рдкрд╛рдиреЗ рдХрд╛ рддрд░реАрдХрд╛ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред  рдХрд╕реНрдЯрдо рд╕реНрдорд╛рд░реНрдЯ рдХреЙрдиреНрдЯреНрд░реИрдХреНрдЯреНрд╕ рдЙрдирдХреЗ рд╡рд┐рд╢рд┐рд╖реНрдЯ рддрд░реАрдХреЛрдВ рдХреЛ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдЗрд╕ рд╕рдордп рд╣рдорд╛рд░реА рдПрдХрдорд╛рддреНрд░ рд╕рд╛рдорд╛рдиреНрдп рдЕрдиреБрд╢рдВрд╕рд╛ "рд╕реЗрдХреНрдиреЛ" рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреА рд╡рд┐рдзрд┐ (рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рдмрд┐рдирд╛) рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рд╣реИ, рдЬреЛ рд╕реНрдорд╛рд░реНрдЯ рдЕрдиреБрдмрдВрдз рдХреЗ рд╡рд░реНрддрдорд╛рди <em>рд╕реЗрдХреНрдиреЛ рдХреЛ</em> рд▓реМрдЯрд╛рддрд╛ рд╣реИ, рдЬреЛ рдХрд┐ рдЬрдм рднреА рдРрд╕реА рд╡рд┐рдзрд┐ рд╣реЛрддреА рд╣реИ рддреЛ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдмрд╛рд╣рд░реА рддрд░реАрдХреЛрдВ рд╕реЗ рдЬреБрдбрд╝реЗ рдкреНрд▓реЗрдмреИрдХ рд╣рдорд▓реЛрдВ рдХреЛ рд░реЛрдХрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреНрд░рдо рд╕рдВрдЦреНрдпрд╛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИред </p><br><p>  рд╢рдмреНрджрдХреЛрд╢: </p><br><ul><li>  рд╕реЗрд▓ - рдПрдХ рдЯреАрд╡реАрдПрдо рд╕реЗрд▓ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЗ рдЕрдзрд┐рдХрд╛рдВрд╢ 1023 рдмрд┐рдЯреНрд╕ рд╣реЛрддреЗ рд╣реИрдВ, рдФрд░ рдЕрдиреНрдп рдХреЛрд╢рд┐рдХрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЕрдзрд┐рдХрддрдо рдЪрд╛рд░ рд╕рдВрджрд░реНрдн рд╣реЛрддреЗ рд╣реИрдВред  TON рдмреНрд▓реЙрдХрдЪреИрди рдореЗрдВ рд╕рднреА рд▓рдЧрд╛рддрд╛рд░ рдбреЗрдЯрд╛ (TVM рдХреЛрдб рд╕рд╣рд┐рдд) TVM рдХреЛрд╢рд┐рдХрд╛рдУрдВ рдХреЗ рд╕рдВрдЧреНрд░рд╣ (cf. [1, 2.5.14]) рдХреЗ рд░реВрдк рдореЗрдВ рджрд░реНрд╢рд╛рдпрд╛ рдЧрдпрд╛ рд╣реИред  - рдПрдХ рдЯреАрд╡реАрдПрдо рд╕реЗрд▓ рдореЗрдВ 1023 рдмрд┐рдЯреНрд╕ рд╕реЗ рдЕрдзрд┐рдХ рдбреЗрдЯрд╛ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдЕрдиреНрдп рдХреЛрд╢рд┐рдХрд╛рдУрдВ рдХреЗ рд▓рд┐рдП рдЪрд╛рд░ рд▓рд┐рдВрдХ рд╕реЗ рдЕрдзрд┐рдХ рдирд╣реАрдВ рд╣реЛрддреЗ рд╣реИрдВред  TON рдмреНрд▓реЙрдХрдЪреЗрди рдореЗрдВ рд╕рднреА рд▓рдЧрд╛рддрд╛рд░ рдбреЗрдЯрд╛ (TVM рдХреЛрдб рд╕рд╣рд┐рдд) TVM рдХреЛрд╢рд┐рдХрд╛рдУрдВ (cf. [1, 2.5.14]) рдХреЗ рдПрдХ рд╕реЗрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  - TON рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рд╡рд┐рд╡рд░рдг ( <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">https://test.ton.org/tvm.pdf</a> ) рдХреЗ рдЕрдВрд╢ </li></ul><br><h2 id="kakie-mozhno-sdelat-vyvody-na-osnove-prochitannogo">  рдореИрдВрдиреЗ рдЬреЛ рдкрдврд╝рд╛ рд╣реИ, рдЙрд╕рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдХреНрдпрд╛ рдирд┐рд╖реНрдХрд░реНрд╖ рдирд┐рдХрд╛рд▓рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ? </h2><br><ol><li>  рдЖрдк рдХрд╛рд░реНрд░рд╡рд╛рдИ рдХреЛ рдЯреНрд░рд┐рдЧрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдмрдВрдз рдкрд░ рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢ рднреЗрдЬ рд╕рдХрддреЗ рд╣реИрдВред </li><li>  рд╣рдорд▓реЛрдВ - рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд╣рдорд▓реЛрдВ рдХреЛ рдлрд┐рд░ рд╕реЗ рдЦреЗрд▓рдирд╛ рд╣реИ </li><li>  рд░рд┐рдкреНрд▓реЗ рд╣рдорд▓реЛрдВ рд╕реЗ рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдпрд╣ <em>рд╕реЗрдХреНрдиреЛ</em> рд╡рд┐рдзрд┐ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд╛рдпрдХ рд╣реИред </li><li>  Dns рд░рд┐рд╕реЛрд▓реНрд╡рд░ рдореЗрдВ dnsresolve рд╡рд┐рдзрд┐ рд╣реИ </li><li>  рдЖрдк рд╣рдорд▓реЛрдВ рд╕реЗ рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢реЛрдВ рдХреА рд╣реИрд╢ рд╕реНрдЯреЛрд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдЖрдкрдХреЛ рдЙрдиреНрд╣реЗрдВ рд╕рдордп рдкрд░ рд╣рдЯрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЗрд╕рдХреЗ рд▓рд┐рдП рдмрд╛рд╣рд░реА рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдП рд╕рдордп <em>рд╕реАрдорд╛ рд╕рдорд╛рдкреНрдд рд╣реЛ рдЧрдИ рд╣реИред</em> </li><li>  рдЧреИрд░-рд╡рд╛рдкрд╕реА рд╕рдВрджреЗрд╢ рдХреЗрд╡рд▓ рдЕрдиреБрдмрдВрдз рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИрдВ, рдЕрдиреНрдпрдерд╛, рд╕рднреА рдЖрдВрддрд░рд┐рдХ рд╕рдВрджреЗрд╢ рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рддреЗ рд╣реИрдВ </li><li>  рдЕрдиреБрд░реЛрдз-рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рдВрджреЗрд╢реЛрдВ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдлрд╝реАрд▓реНрдб рд╢рд╛рдорд┐рд▓ рд╣реЛрдиреЗ рдЪрд╛рд╣рд┐рдП: <em>op, query_id</em> - рд╡реИрдХрд▓реНрдкрд┐рдХ, рдФрд░ рдХреБрдЫ рдФрд░ <em>op</em> рдХреЗ рдореВрд▓реНрдп рдХреЗ рдЖрдзрд╛рд░ рдкрд░ </li><li>  рдЖрдк рд▓реЛрдЧреЛрдВ рдХреЗ рд▓рд┐рдП UTF-8 рдкреНрд░рд╛рд░реВрдк рдореЗрдВ рдкрд╛рда рдЯрд┐рдкреНрдкрдгрд┐рдпрд╛рдВ рдФрд░ рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдХреЗ рд╕реЙрдлрд╝реНрдЯрд╡реЗрдпрд░ рджреНрд╡рд╛рд░рд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рдкрдврд╝рдиреЗ рдФрд░ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдХреЗ рд▓рд┐рдП "рджреНрд╡рд┐рдЖрдзрд╛рд░реА рдЯрд┐рдкреНрдкрдгрд┐рдпрд╛рдВ" рд╕рдВрд▓рдЧреНрди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </li><li>  рдЕрдкрд╡рд╛рджреЛрдВ рдХреЛ рд╕рдВрднрд╛рд▓рдирд╛ рдФрд░ рдЗрд╕реЗ рд╕рдордЭрджрд╛рд░реА рд╕реЗ рдкреВрд░рд╛ рдХрд░рдирд╛ </li><li>  "рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдХреЗ рдмрд┐рдирд╛ рд╕рд░рд▓ рд╕рдВрджреЗрд╢" - рдПрдХ рдЦрд╛рд▓реА рд╢рд░реАрд░ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП </li><li>  рдЕрдиреБрд░реЛрдз-рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рдЙрдЪреНрдЪ-рдХреНрд░рдо рдмрд┐рдЯ рдЕрдиреБрд░реЛрдз рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдП 0 рдХрд╛ рдорд╛рди рд▓реЗрддрд╛ рд╣реИ, рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдП 1 рдХрд╛ рдорд╛рди </li><li>  рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреА рдкрд╣рдЪрд╛рди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рдВрджреЗрд╢реЛрдВ рдХреЗ рд▓рд┐рдП рдорд╛рдирдХ op рдорд╛рди рд╣реИрдВ </li><li>  рдпрджрд┐ рдХрд┐рд╕реА рдЕрдЬреНрдЮрд╛рдд рдСрдк рдХреЗ рд╕рд╛рде рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдЗрд╕реЗ рдЕрдирджреЗрдЦрд╛ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдЕрд░реНрдерд╛рдд рдХреЛрдб 0 рдХреЗ рд╕рд╛рде рдкреВрд░реНрдг рдирд┐рд╖реНрдкрд╛рджрди </li><li>  рдЖрдкрдХреЛ рд╕рдВрджреЗрд╢ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП, рдЧреИрд╕ рдХреЗ рд▓рд┐рдП рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рднреБрдЧрддрд╛рди рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред  рдЙрд╕реА рд╕рдордп, рдпрджрд┐ рдЙрд╕рдиреЗ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╕реЗ рдЕрдзрд┐рдХ рднреЗрдЬрд╛, рддреЛ рдЙрддреНрддрд░ рдореЗрдВ рдЕрддрд┐рд░рд┐рдХреНрдд рд╡рд╛рдкрд╕ рдЖ рдЬрд╛рдПрдЧрд╛ред </li><li>  рд╕рдВрджреЗрд╢ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреЗ рд╕рдордп, <em>рдкрд╣рд▓реЗ рдмрд╛рдЙрдВрд╕ рдХрд┐рдП рдЧрдП</em> рдЭрдВрдбреЗ рдХреА рдЬрд╛рдВрдЪ рдХрд░рдирд╛ рд╣рдореЗрд╢рд╛ рдпреЛрдЧреНрдп рд╣реЛрддрд╛ рд╣реИ <em>ред</em> </li></ol><br><p>  рдЖрдкрдХрд╛ рдзреНрдпрд╛рди рдХреЗ рд▓рд┐рдП рдзрдиреНрдпрд╡рд╛рдж, рдореБрдЭреЗ рд░рдЪрдирд╛рддреНрдордХ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдХреЗ рд▓рд┐рдП рдЦреБрд╢реА рд╣реЛрдЧреА! </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi470772/">https://habr.com/ru/post/hi470772/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi470750/index.html">рдЕрдореЗрдЬрд╝реЕрди рдиреЗ рд╢реАрд░реНрд╖ рдЙрддреНрдкрд╛рджреЛрдВ рдХреЛ рдкрдХрдбрд╝ рд▓рд┐рдпрд╛</a></li>
<li><a href="../hi470752/index.html">рд╡реАрдЪреИрдЯ рдкреЗрдореЗрдВрдЯреНрд╕ рдкрд╛рд░реНрд╕рд┐рдВрдЧ</a></li>
<li><a href="../hi470754/index.html">рд░рд╛рд╕рд╛ рдЪреИрдЯрдмреЛрдЯ: рд╕рдорд╛рдирддрд╛рдПрдВ рдЕрдиреБрднрд╡</a></li>
<li><a href="../hi470756/index.html">рдЕрдкреЛрд▓реЛ рдСрдирд▓рд╛рдЗрди рдЪреИрдЯ, Node.js рдХреЗ рд▓рд┐рдП рдмреИрдХрдПрдВрдб рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдирд╛рдирд╛</a></li>
<li><a href="../hi470758/index.html">рд╕рд┐рддрдВрдмрд░ 2019 рдореЗрдВ рд╡рд╛рдпрд░рд▓ рдЧрддрд┐рд╡рд┐рдзрд┐ рдХрд╛ рдЕрд╡рд▓реЛрдХрди</a></li>
<li><a href="../hi470774/index.html">рдкрд╛рдпрдерди 3.8 рдореЗрдВ рдирдП рдкреНрд░рдХрд╛рд░ рдХреЗ рдПрдиреЛрдЯреЗрд╢рди (рдкреНрд░реЛрдЯреЛрдХреЙрд▓, рдлрд╛рдЗрдирд▓, рдЯрд╛рдЗрдкреНрдбрдбрд┐рдХреНрдЯ, рд▓рд┐рдЯрд░рд▓)</a></li>
<li><a href="../hi470778/index.html">рд╕реАрдЧреЗрдЯ ST2000DM008 рдбреНрд░рд╛рдЗрд╡ рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХрд░реЗрдВ: рддреЗрдЬ "рджреЛ" рдмрд┐рдирд╛ рдЕрдзрд┐рдХрддрд╛ рдХреЗ</a></li>
<li><a href="../hi470780/index.html">рдмрд╛рд░ рдХреЛ рд▓рд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ - рднрдВрдбрд╛рд░рдг рдХреЗ рд▓рд┐рдП рд╕реАрдЧреЗрдЯ рд╕реЗ рдирдпрд╛</a></li>
<li><a href="../hi470782/index.html">рд╕реАрдорд╛ рдкрд░ рдбреЗрдЯрд╛: рдХреИрд╕реЗ рдПрдХ рдирдИ рдЖрдИрдЯреА рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП</a></li>
<li><a href="../hi470784/index.html">рдбреЗрдб рд╕реЗрд▓реНрд╕ рдХреА рд░рд╣рд╕реНрдпрдордпреА рджреБрдирд┐рдпрд╛ рдХрд╛ рд░рдВрдЧ рдбрд┐рдЬрд╛рдЗрди</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>