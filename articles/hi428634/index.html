<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯНз ЁЯСйЁЯП╗тАНтЪЦя╕П ЁЯУЗ рдкреЛрд░реНрдЯрд┐рдВрдЧ рдХреНрд╡реЗрдХ 3 ЁЯХз тЧ╗я╕П ЁЯРа</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Embox рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо (рдЬрд┐рд╕рдореЗрдВ рд╕реЗ рдореИрдВ рдбреЗрд╡рд▓рдкрд░ рд╣реВрдВ) рдореЗрдВ, OpenGL рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рдХреБрдЫ рд╕рдордп рдкрд╣рд▓реЗ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдХреЛрдИ рд╕рдордЭрджрд╛рд░ рдкреНрд░рджрд░реНрд╢рди рдХреА рдЬрд╛рдВрдЪ рдирд╣реАрдВ рдереА, рдХреЗрд╡рд▓...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>рдкреЛрд░реНрдЯрд┐рдВрдЧ рдХреНрд╡реЗрдХ 3</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/embox/blog/428634/"><img src="https://habrastorage.org/webt/or/0q/lb/or0qlb1hvs2q5j4-xfsfv5uofys.png" align="right" width="320"><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Embox</a> рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо (рдЬрд┐рд╕рдореЗрдВ рд╕реЗ рдореИрдВ рдбреЗрд╡рд▓рдкрд░ рд╣реВрдВ) рдореЗрдВ, OpenGL рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рдХреБрдЫ рд╕рдордп рдкрд╣рд▓реЗ рджрд┐рдЦрд╛рдИ рджрд┐рдпрд╛ рдерд╛, рд▓реЗрдХрд┐рди рдХреЛрдИ рд╕рдордЭрджрд╛рд░ рдкреНрд░рджрд░реНрд╢рди рдХреА рдЬрд╛рдВрдЪ рдирд╣реАрдВ рдереА, рдХреЗрд╡рд▓ рдХрдИ рдЧреНрд░рд╛рдлрд┐рдХ рдЖрджрд┐рдорддрд╛ рд╡рд╛рд▓реЗ рджреГрд╢реНрдпреЛрдВ рдХреЛ рдкреНрд░рд╕реНрддреБрдд рдХрд░рдирд╛ рдерд╛ред </p><br><p>  рдореБрдЭреЗ рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ gamedev рдореЗрдВ рдХреЛрдИ рджрд┐рд▓рдЪрд╕реНрдкреА рдирд╣реАрдВ рдереА, рд╣рд╛рд▓рд╛рдВрдХрд┐, рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдореБрдЭреЗ рдЧреЗрдо рдкрд╕рдВрдж рд╣реИ, рдФрд░ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ - рдпрд╣ рдордЬрд╝реЗ рдХрд░рдиреЗ рдХрд╛ рдПрдХ рдЕрдЪреНрдЫрд╛ рддрд░реАрдХрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рд╕рд╛рде рд╣реА рдУрдкрдирдЬреАрдПрд▓ рдХреА рдЬрд╛рдВрдЪ рдХрд░реЗрдВ рдФрд░ рджреЗрдЦреЗрдВ рдХрд┐ рдЧреЗрдо рдУрдПрд╕ рдХреЗ рд╕рд╛рде рдХреИрд╕реЗ рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдЗрд╕ рд▓реЗрдЦ рдореЗрдВ, рдореИрдВ Embox рдкрд░ Quake3 рдХреЗ рдирд┐рд░реНрдорд╛рдг рдФрд░ рдЪрд▓рд╛рдиреЗ рдХреЗ рддрд░реАрдХреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдмрд╛рдд рдХрд░реВрдВрдЧрд╛ред </p><a name="habracut"></a><br><p>  рдЕрдзрд┐рдХ рд╕рдЯреАрдХ рд░реВрдк рд╕реЗ, рд╣рдо рд╕реНрд╡рдпрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">Quake3</a> рдирд╣реАрдВ рдЪрд▓рд╛рдПрдВрдЧреЗ, рд▓реЗрдХрд┐рди <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">ioquake3 рдЗрд╕</a> рдкрд░ рдЖрдзрд╛рд░рд┐рдд рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рдУрдкрди рд╕реЛрд░реНрд╕ рдХреЛрдб рднреА рд╣реИред  рд╕рд╛рджрдЧреА рдХреЗ рд▓рд┐рдП, рд╣рдо ioquake3 рдХреЛ рд╕рд┐рд░реНрдл рднреВрдХрдВрдк рдХрд╣реЗрдВрдЧреЗ :) </p><br><p>  рдореИрдВ рддреБрд░рдВрдд рдПрдХ рдЖрд░рдХреНрд╖рдг рдХрд░ рджреВрдВрдЧрд╛ рдХрд┐ рд▓реЗрдЦ рдХреНрд╡реЗрдХ рд╕реНрд░реЛрдд рдХреЛрдб рдФрд░ рдЗрд╕рдХреА рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХрд╛ рд╡рд┐рд╢реНрд▓реЗрд╖рдг рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ (рдЖрдк рдЗрд╕рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИрдмреЗ рдкрд░ рдЕрдиреБрд╡рд╛рдж</a> рд╣реИрдВ), рдФрд░ рдпрд╣ рд▓реЗрдЦ рдЗрд╕ рдмрд╛рдд рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░реЗрдЧрд╛ рдХрд┐ рдЧреЗрдо рдХреЛ рдирдП рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдХреИрд╕реЗ рд▓реЙрдиреНрдЪ рдХрд┐рдпрд╛ рдЬрд╛рдПред </p><br><p>  рдмреЗрд╣рддрд░ рд╕рдордЭ рдХреЗ рд▓рд┐рдП рд▓реЗрдЦ рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХреЛрдб рдЕрдВрд╢реЛрдВ рдХреЛ рд╕рд░рд▓ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ: рддреНрд░реБрдЯрд┐рдпреЛрдВ рдХреЗ рд▓рд┐рдП рдЬрд╛рдБрдЪ рдХреЛ рдЫреЛрдбрд╝ рджрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЫрджреНрдо рдХреЛрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдФрд░ рдЗрд╕реА рддрд░рд╣ред  рдореВрд▓ рд╕реНрд░реЛрдд <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣рдорд╛рд░реЗ рднрдВрдбрд╛рд░</a> рдореЗрдВ рдкрд╛рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВред </p><br><h2 id="zavisimosti">  рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░рддрд╛ рд╣реИ </h2><br><p>  рд╡рд┐рдЪрд┐рддреНрд░ рд░реВрдк рд╕реЗ рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ, рдХреНрд╡реЗрдХ 3 рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП рдХрдИ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рд╣рдореЗрдВ рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛрдЧреА: </p><br><ul><li> POSIX + LibC - <code>malloc()</code> / <code>memcpy()</code> / <code>printf()</code> рдФрд░ рдЗрддрдиреЗ рдкрд░ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">libcurl</a> - рдиреЗрдЯрд╡рд░реНрдХрд┐рдВрдЧ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдореЗрд╕рд╛ 3 рдбреА</a> - рдУрдкрдирдЬреАрдПрд▓ рд╕рдкреЛрд░реНрдЯ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрд╕рдбреАрдПрд▓</a> - рдЗрдирдкреБрдЯ рдФрд░ рдСрдбрд┐рдпреЛ рдбрд┐рд╡рд╛рдЗрд╕ рдХрд╛ рд╕рдорд░реНрдерди </li></ul><br><p>  рдкрд╣рд▓реЗ рдкреИрд░рд╛рдЧреНрд░рд╛рдл рдХреЗ рд╕рд╛рде, рдФрд░ рдЗрд╕рд▓рд┐рдП рд╕рдм рдХреБрдЫ рд╕реНрдкрд╖реНрдЯ рд╣реИ - рдЗрди рдХрд╛рд░реНрдпреЛрдВ рдХреЗ рдмрд┐рдирд╛ рд╕реА рдореЗрдВ рд╡рд┐рдХрд╕рд┐рдд рд╣реЛрдиреЗ рдкрд░ рдРрд╕рд╛ рдХрд░рдирд╛ рдореБрд╢реНрдХрд┐рд▓ рд╣реИ, рдФрд░ рдЗрди рдХреЙрд▓реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдЕрдкреЗрдХреНрд╖рд┐рдд рд╣реИред  рдЗрд╕рд▓рд┐рдП, рдЗрди рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рд▓рд┐рдП рд╕рдорд░реНрдерди рд▓рдЧрднрдЧ рд╕рднреА рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рдореЗрдВ рдХрд┐рд╕реА рди рдХрд┐рд╕реА рддрд░рд╣ рд╕реЗ рдЙрдкрд▓рдмреНрдз рд╣реИ, рдФрд░ рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ, рд╡реНрдпрд╛рд╡рд╣рд╛рд░рд┐рдХ рд░реВрдк рд╕реЗ рдХрд╛рд░реНрдпрдХреНрд╖рдорддрд╛ рдЬреЛрдбрд╝рдиреЗ рдХреА рдХреЛрдИ рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реИред  рдореБрдЭреЗ рдмрд╛рдХреА рд╕реЗ рдирд┐рдкрдЯрдирд╛ рдерд╛ред </p><br><h3 id="libcurl">  libcurl </h3><br><p>  рдпрд╣ рд╕рдмрд╕реЗ рд╕рд░рд▓ рдерд╛ред  Libc libcurl рдХреЗ рдирд┐рд░реНрдорд╛рдг рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ (рдмреЗрд╢рдХ, рдХреБрдЫ рд╕реБрд╡рд┐рдзрд╛рдПрдБ рдЙрдкрд▓рдмреНрдз рдирд╣реАрдВ рд╣реЛрдВрдЧреА, рд▓реЗрдХрд┐рди рдЙрдирдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ рд╣реЛрдЧреА)ред  рдЗрд╕ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХреЛ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рдирд╛ рдФрд░ рдирд┐рд░реНрдорд╛рдг рдХрд░рдирд╛ рд╕рд╛рдВрдЦреНрдпрд┐рдХреАрдп рд░реВрдк рд╕реЗ рдмрд╣реБрдд рд╕рд░рд▓ рд╣реИред </p><br><p>  рдЖрдорддреМрд░ рдкрд░, рджреЛрдиреЛрдВ рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдФрд░ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХреЛ рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ рдЬреЛрдбрд╝рд╛ рдЬрд╛рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдХреНрдпреЛрдВрдХрд┐  Embox рдореЗрдВ, рдореБрдЦреНрдп рдореЛрдб рдПрдХ рдЫрд╡рд┐ рдореЗрдВ рд▓рд┐рдВрдХ рдХрд░ рд░рд╣рд╛ рд╣реИ, рд╣рдо рд╕рдм рдХреБрдЫ рд╕реНрдЯреЗрдЯрд┐рдХ рд░реВрдк рд╕реЗ рд▓рд┐рдВрдХ рдХрд░реЗрдВрдЧреЗред </p><br><p>  рдЙрдкрдпреЛрдЧ рдХреА рдЧрдИ рдирд┐рд░реНрдорд╛рдг рдкреНрд░рдгрд╛рд▓реА рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рд╡рд┐рд╢рд┐рд╖реНрдЯ рдЪрд░рдг рдЕрд▓рдЧ-рдЕрд▓рдЧ рд╣реЛрдВрдЧреЗ, рд▓реЗрдХрд┐рди рдЕрд░реНрде рдХреБрдЫ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рд╣реИ: </p><br><pre> <code class="hljs powershell">wget https://curl.haxx.se/download/curl<span class="hljs-literal"><span class="hljs-literal">-7</span></span>.<span class="hljs-number"><span class="hljs-number">61.1</span></span>.tar.gz tar <span class="hljs-literal"><span class="hljs-literal">-xf</span></span> curl<span class="hljs-literal"><span class="hljs-literal">-7</span></span>.<span class="hljs-number"><span class="hljs-number">61.1</span></span>.tar.gz cd curl<span class="hljs-literal"><span class="hljs-literal">-7</span></span>.<span class="hljs-number"><span class="hljs-number">61.1</span></span> ./configure -<span class="hljs-literal"><span class="hljs-literal">-enable</span></span><span class="hljs-literal"><span class="hljs-literal">-static</span></span> -<span class="hljs-literal"><span class="hljs-literal">-host</span></span>=i386<span class="hljs-literal"><span class="hljs-literal">-unknown</span></span><span class="hljs-literal"><span class="hljs-literal">-none</span></span> <span class="hljs-literal"><span class="hljs-literal">-disable</span></span><span class="hljs-literal"><span class="hljs-literal">-shared</span></span> make ls ./lib/.libs/libcurl.a <span class="hljs-comment"><span class="hljs-comment">#      </span></span></code> </pre> <br><h3 id="mesaopengl">  рдореЗрд╕рд╛ / OpenGL </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдореЗрд╕рд╛</a> рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдЦреБрд▓рд╛ рд╕реНрд░реЛрдд рдврд╛рдВрдЪрд╛ рд╣реИ, рдпрд╣ рдХрдИ рдЗрдВрдЯрд░рдлреЗрд╕ (рдУрдкрдирд╕реАрдПрд▓, рд╡рд╛рд▓рдХреИрди рдФрд░ рдЕрдиреНрдп) рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдЗрд╕ рдорд╛рдорд▓реЗ рдореЗрдВ рд╣рдо рдУрдкрдирдЬреАрдПрд▓ рдореЗрдВ рд░реБрдЪрд┐ рд░рдЦрддреЗ рд╣реИрдВред  рдЗрддрдиреЗ рдмрдбрд╝реЗ рдврд╛рдВрдЪреЗ рдХреЛ рдкреЛрд░реНрдЯ рдХрд░рдирд╛ рдПрдХ рдЕрд▓рдЧ рд▓реЗрдЦ рдХрд╛ рд╡рд┐рд╖рдп рд╣реИред  рдореИрдВ рдЦреБрдж рдХреЛ рдХреЗрд╡рд▓ рдЙрд╕ рддрдХ рд╣реА рд╕реАрдорд┐рдд рдХрд░реВрдВрдЧрд╛ рдЬреЛ Embox Mesa3D рдореЗрдВ рдкрд╣рд▓реЗ рд╕реЗ рдореМрдЬреВрдж рд╣реИ :), рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдХреЛрдИ рднреА OpenGL рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдпрд╣рд╛рдБ рдЙрдкрдпреБрдХреНрдд рд╣реИред </p><br><h3 id="sdl">  рдПрд╕рдбреАрдПрд▓ </h3><br><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрд╕рдбреАрдПрд▓</a> рдЗрдирдкреБрдЯ рдбрд┐рд╡рд╛рдЗрд╕, рдСрдбрд┐рдпреЛ рдФрд░ рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдХреНрд░реЙрд╕-рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдлреНрд░реЗрдорд╡рд░реНрдХ рд╣реИред </p><br><p>  рдЕрднреА рдХреЗ рд▓рд┐рдП, рд╣рдо рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рдХреЛ рдЫреЛрдбрд╝рдХрд░ рд╕рдм рдХреБрдЫ рд╣рдереМрдбрд╝рд╛ рдХрд░реЗрдВрдЧреЗ, рдФрд░ рдлрд╝реНрд░реЗрдо рдЦреАрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдпрд╣ рджреЗрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрдЯрдм рдлрд╝рдВрдХреНрд╢рдВрд╕ рд▓рд┐рдЦрддреЗ рд╣реИрдВ рдЬрдм рд╡реЗ рдХреЙрд▓ рдХрд░рдирд╛ рд╢реБрд░реВ рдХрд░реЗрдВрдЧреЗред </p><br><p>  рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмреИрдХрдПрдВрдб <code>SDL2-2.0.8/src/video/SDL_video.c</code> рдореЗрдВ рд╕реЗрдЯ рдХрд┐рдП рдЧрдП рд╣реИрдВред </p><br><p>  рдпрд╣ рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦрддрд╛ рд╣реИ: </p><br><pre> <code class="hljs cs"><span class="hljs-comment"><span class="hljs-comment">/* Available video drivers */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> VideoBootStrap *bootstrap[] = { <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> SDL_VIDEO_DRIVER_COCOA &amp;COCOA_bootstrap, #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> SDL_VIDEO_DRIVER_X11 &amp;X11_bootstrap, #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> ... }</span></span></code> </pre> <br><p>  рдирдП рдкреНрд▓реЗрдЯрдлрд╝реЙрд░реНрдо рдХреЗ рд▓рд┐рдП "рд╕рд╛рдорд╛рдиреНрдп" рд╕рдорд░реНрдерди рд╕реЗ рдкрд░реЗрд╢рд╛рди рди рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП, рдмрд╕ рдЕрдкрдирд╛ <code>VideoBootStrap</code> рдЬреЛрдбрд╝реЗрдВ </p><br><p>  рд╕рд╛рджрдЧреА рдХреЗ рд▓рд┐рдП, рдЖрдк рдЖрдзрд╛рд░ рдХреЗ рд░реВрдк рдореЗрдВ рдХреБрдЫ рд▓реЗ рд╕рдХрддреЗ рд╣реИрдВ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП <code>src/video/qnx/video.c</code> рдпрд╛ <code>src/video/raspberry/SDL_rpivideo.c</code> , рд▓реЗрдХрд┐рди рдкрд╣рд▓реЗ рд╣рдо рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рд▓рдЧрднрдЧ рдЦрд╛рд▓реА рдХрд░ рджреЗрдВрдЧреЗ: </p><br><pre> <code class="hljs cpp"><span class="hljs-comment"><span class="hljs-comment">/* SDL_sysvideo.h */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">typedef</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">VideoBootStrap</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *name; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *desc;``` <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> (*available) (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>); SDL_VideoDevice *(*create) (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> devindex); } VideoBootStrap; <span class="hljs-comment"><span class="hljs-comment">/* embox_video.c */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> SDL_VideoDevice *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createDevice</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> devindex)</span></span></span><span class="hljs-function"> </span></span>{ SDL_VideoDevice *device; device = (SDL_VideoDevice *)SDL_calloc(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span>(SDL_VideoDevice)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (device == <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> device; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">available</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>; } VideoBootStrap EMBOX_bootstrap = { <span class="hljs-string"><span class="hljs-string">"embox"</span></span>, <span class="hljs-string"><span class="hljs-string">"EMBOX Screen"</span></span>, available, createDevice };</code> </pre><br><p>  рдЕрдкрдиреЗ <code>VideoBootStrap</code> рдХреЛ рд╕рд░рдгреА рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ: </p><br><pre> <code class="hljs cs"><span class="hljs-comment"><span class="hljs-comment">/* Available video drivers */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> VideoBootStrap *bootstrap[] = { &amp;EMBOX_bootstrap, <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> SDL_VIDEO_DRIVER_COCOA &amp;COCOA_bootstrap, #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> SDL_VIDEO_DRIVER_X11 &amp;X11_bootstrap, #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> ... }</span></span></code> </pre> <br><p>  рдореВрд▓ рд░реВрдк рд╕реЗ, рдЗрд╕ рдмрд┐рдВрджреБ рдкрд░ рдЖрдк рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдПрд╕рдбреАрдПрд▓ рд╕рдВрдХрд▓рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  Libcurl рдХреЗ рд╕рд╛рде, рд╕рдВрдХрд▓рди рд╡рд┐рд╡рд░рдг рд╡рд┐рд╢реЗрд╖ рдмрд┐рд▓реНрдб рд╕рд┐рд╕реНрдЯрдо рдкрд░ рдирд┐рд░реНрднрд░ рдХрд░реЗрдЧрд╛, рд▓реЗрдХрд┐рди рдХрд┐рд╕реА рддрд░рд╣ рдЖрдкрдХреЛ рдХреБрдЫ рдРрд╕рд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: </p><br><pre> <code class="hljs powershell">./configure -<span class="hljs-literal"><span class="hljs-literal">-host</span></span>=i386<span class="hljs-literal"><span class="hljs-literal">-unknown</span></span><span class="hljs-literal"><span class="hljs-literal">-none</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-enable</span></span><span class="hljs-literal"><span class="hljs-literal">-static</span></span> \ -<span class="hljs-literal"><span class="hljs-literal">-enable</span></span><span class="hljs-literal"><span class="hljs-literal">-audio</span></span>=no \ -<span class="hljs-literal"><span class="hljs-literal">-enable</span></span><span class="hljs-literal"><span class="hljs-literal">-video</span></span><span class="hljs-literal"><span class="hljs-literal">-directfb</span></span>=no \ -<span class="hljs-literal"><span class="hljs-literal">-enable</span></span><span class="hljs-literal"><span class="hljs-literal">-directfb</span></span><span class="hljs-literal"><span class="hljs-literal">-shared</span></span>=no \ -<span class="hljs-literal"><span class="hljs-literal">-enable</span></span><span class="hljs-literal"><span class="hljs-literal">-video</span></span><span class="hljs-literal"><span class="hljs-literal">-vulkan</span></span>=no \ -<span class="hljs-literal"><span class="hljs-literal">-enable</span></span><span class="hljs-literal"><span class="hljs-literal">-video</span></span><span class="hljs-literal"><span class="hljs-literal">-dummy</span></span>=no \ -<span class="hljs-literal"><span class="hljs-literal">-with</span></span><span class="hljs-literal"><span class="hljs-literal">-x</span></span>=no make ls build/.libs/libSDL2.a <span class="hljs-comment"><span class="hljs-comment">#     </span></span></code> </pre> <br><h2 id="sobiraem-sam-quake">  рд╣рдо рдЦреБрдж рд╣реА рдХреНрд╡реЗрдХ рдХрд▓реЗрдХреНрдЯ рдХрд░рддреЗ рд╣реИрдВ </h2><br><p>  Quake3 рдореЗрдВ рдЧрддрд┐рд╢реАрд▓ рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рд╢рд╛рдорд┐рд▓ рд╣реИ, рд▓реЗрдХрд┐рди рд╣рдо рдЗрд╕реЗ рдмрд╛рдХреА рд╕рдм рдЪреАрдЬреЛрдВ рдХреА рддрд░рд╣, рд╕рд╛рдВрдЦреНрдпрд┐рдХреАрдп рд░реВрдк рд╕реЗ рдЬреЛрдбрд╝реЗрдВрдЧреЗред </p><br><p>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, Makefile рдореЗрдВ рдХреБрдЫ рдЪрд░ рд╕реЗрдЯ рдХрд░реЗрдВ </p><br><pre> <code class="hljs objectivec">CROSS_COMPILING=<span class="hljs-number"><span class="hljs-number">1</span></span> USE_OPENAL=<span class="hljs-number"><span class="hljs-number">0</span></span> USE_OPENAL_DLOPEN=<span class="hljs-number"><span class="hljs-number">0</span></span> USE_RENDERER_DLOPEN=<span class="hljs-number"><span class="hljs-number">0</span></span> SHLIBLDFLAGS=-<span class="hljs-keyword"><span class="hljs-keyword">static</span></span></code> </pre> <br><h2 id="pervyy-zapusk">  рдкрд╣рд▓рд╛ рд▓реЙрдиреНрдЪ </h2><br><p>  рд╕рд╛рджрдЧреА рдХреЗ рд▓рд┐рдП, рд╣рдо qemu / x86 рдкрд░ рдЪрд▓реЗрдВрдЧреЗред  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЗрд╕реЗ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ (рдпрд╣рд╛рдВ рдФрд░ рдиреАрдЪреЗ рдбреЗрдмрд┐рдпрди рдХреЗ рд▓рд┐рдП рдХрдорд╛рдВрдб рд╣реЛрдВрдЧреЗ, рдЕрдиреНрдп рд╡рд┐рддрд░рдг рдкреИрдХреЗрдЬреЛрдВ рдХреЗ рд▓рд┐рдП рдЕрд▓рдЧ-рдЕрд▓рдЧ рдХрд╣рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ)ред </p><br><pre> <code class="hljs sql">sudo apt <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> qemu-<span class="hljs-keyword"><span class="hljs-keyword">system</span></span>-i386</code> </pre> <br><p>  рдФрд░ рдЦреБрдж рд▓реЙрдиреНрдЪ: </p><br><pre> <code class="hljs powershell">qemu<span class="hljs-literal"><span class="hljs-literal">-system</span></span><span class="hljs-literal"><span class="hljs-literal">-i386</span></span> <span class="hljs-literal"><span class="hljs-literal">-kernel</span></span> build/base/bin/embox <span class="hljs-literal"><span class="hljs-literal">-m</span></span> <span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-literal"><span class="hljs-literal">-vga</span></span> std <span class="hljs-literal"><span class="hljs-literal">-serial</span></span> stdio</code> </pre> <br><p>  рд╣рд╛рд▓рд╛рдВрдХрд┐, рдХреНрд╡реЗрдХ рд╢реБрд░реВ рдХрд░рддреЗ рд╕рдордп, рд╣рдореЗрдВ рддреБрд░рдВрдд рдПрдХ рддреНрд░реБрдЯрд┐ рдорд┐рд▓рддреА рд╣реИ </p><br><pre> <code class="hljs go">&gt; quake3 EXCEPTION [<span class="hljs-number"><span class="hljs-number">0x6</span></span>]: error = <span class="hljs-number"><span class="hljs-number">00000000</span></span> EAX=<span class="hljs-number"><span class="hljs-number">00000001</span></span> EBX=<span class="hljs-number"><span class="hljs-number">00d</span></span>56370 ECX=<span class="hljs-number"><span class="hljs-number">80200001</span></span> EDX=<span class="hljs-number"><span class="hljs-number">0781</span></span>abfd GS=<span class="hljs-number"><span class="hljs-number">00000010</span></span> FS=<span class="hljs-number"><span class="hljs-number">00000010</span></span> ES=<span class="hljs-number"><span class="hljs-number">00000010</span></span> DS=<span class="hljs-number"><span class="hljs-number">00000010</span></span> EDI=<span class="hljs-number"><span class="hljs-number">007</span></span>b5740 ESI=<span class="hljs-number"><span class="hljs-number">007</span></span>b5740 EBP=<span class="hljs-number"><span class="hljs-number">338968</span></span>ec EIP=<span class="hljs-number"><span class="hljs-number">0081d</span></span>370 CS=<span class="hljs-number"><span class="hljs-number">00000008</span></span> EFLAGS=<span class="hljs-number"><span class="hljs-number">00210202</span></span> ESP=<span class="hljs-number"><span class="hljs-number">37895d</span></span>6d SS=<span class="hljs-number"><span class="hljs-number">53535353</span></span></code> </pre><br><p>  рддреНрд░реБрдЯрд┐ рдЦреЗрд▓ рджреНрд╡рд╛рд░рд╛ рдкреНрд░рджрд░реНрд╢рд┐рдд рдирд╣реАрдВ рдХреА рдЬрд╛рддреА рд╣реИ, рд▓реЗрдХрд┐рди рдСрдкрд░реЗрдЯрд┐рдВрдЧ рд╕рд┐рд╕реНрдЯрдо рджреНрд╡рд╛рд░рд╛ред <del>  рдбреЗрдмреИрдЧ рдиреЗ рджрд┐рдЦрд╛рдпрд╛ рдХрд┐ рдпрд╣ рддреНрд░реБрдЯрд┐ QEMU рдореЗрдВ x86 рдХреЗ рд▓рд┐рдП рдЕрдкреВрд░реНрдг SIMD рд╕рдорд░реНрдерди рдХреЗ рдХрд╛рд░рдг рдереА: рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рд╣рд┐рд╕реНрд╕рд╛ рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИ рдФрд░ рдПрдХ рдЕрдЬреНрдЮрд╛рдд рдХрдорд╛рдВрдб рдЕрдкрд╡рд╛рдж (рдЕрдорд╛рдиреНрдп Opcode) рдХреЛ рдлреЗрдВрдХрддрд╛ рд╣реИред </del>  <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдкрдбреЗрдЯ</a> : рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">WGH</a> рджреНрд╡рд╛рд░рд╛ рд╕реБрдЭрд╛рдП рдЧрдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдиреБрд╕рд╛рд░</a> , рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдорд╕реНрдпрд╛ рдпрд╣ рдереА рдХрд┐ рдореИрдВ cr0 / cr4 рдореЗрдВ SSE рд╕рдорд░реНрдерди рдХреЛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рд╕рдХреНрд╖рдо рдХрд░рдирд╛ рднреВрд▓ рдЧрдпрд╛, рдЗрд╕рд▓рд┐рдП QEMU рдХреЗ рд╕рд╛рде рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реИред</em> </p><br><p>  рдпрд╣ рдХреЗрд╡рд▓ рдХреНрд╡реЗрдХ рдореЗрдВ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдУрдкрди рд▓рд┐рд▓рд┐рдВрдм рдореЗрдВ (рдпрд╣ рд╡рд╣ рдкреБрд╕реНрддрдХрд╛рд▓рдп рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╣рдо рдЧрдгрд┐рддреАрдп рдХрд╛рд░реНрдпреЛрдВ - <code>sin()</code> , <code>expf()</code> рдФрд░ рдЗрд╕реА рддрд░рд╣) рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВред  OpenLibm рдкреИрдЪ рдХрд░реЗрдВ рддрд╛рдХрд┐ <code>__test_sse()</code> SSE рдкрд░ рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЬрд╛рдБрдЪ рди рдХрд░реЗ, рд▓реЗрдХрд┐рди рдмрд╕ рдпрд╣ рдорд╛рдирддрд╛ рд╣реИ рдХрд┐ рдХреЛрдИ рд╕рдорд░реНрдерди рдирд╣реАрдВ рд╣реИред </p><br><p>  рдЙрдкрд░реЛрдХреНрдд рдЪрд░рдг рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИрдВ, рдирд┐рдореНрди рдЖрдЙрдЯрдкреБрдЯ рдХрдВрд╕реЛрд▓ рдореЗрдВ рджрд┐рдЦрд╛рдИ рджреЗрддрд╛ рд╣реИ: </p><br><pre> <code class="hljs coffeescript">&gt; quake3 ioq3 <span class="hljs-number"><span class="hljs-number">1.36</span></span> linux-x86_64 Nov <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2018</span></span> SSE instruction set <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> available ----- FS_Startup ----- We are looking <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the current search path: <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>.q3a/baseq3 ./baseq3 ---------------------- <span class="hljs-number"><span class="hljs-number">0</span></span> files <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> pk3 files <span class="hljs-string"><span class="hljs-string">"pak0.pk3"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> missing. Please copy it <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> your legitimate Q3 CDROM. Point Release files are missing. Please re-install the <span class="hljs-number"><span class="hljs-number">1.32</span></span> point release. Also check that your ioq3 executable <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the correct place <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> that every file <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the <span class="hljs-string"><span class="hljs-string">"baseq3 "</span></span> directory <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> present <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> readable ERROR: couldn<span class="hljs-string"><span class="hljs-string">'t open crashlog.txt</span></span></code> </pre> <br><p>  рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдмреБрд░рд╛ рдирд╣реАрдВ рд╣реИ, рдХреНрд╡реЗрдХ 3 рд╢реБрд░реВ рдХрд░рдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдПрдХ рддреНрд░реБрдЯрд┐ рд╕рдВрджреЗрд╢ рднреА рджрд┐рдЦрд╛рддрд╛ рд╣реИ!  рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, рдЙрд╕рдХреЗ рдкрд╛рд╕ <code>baseq3</code> рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдлрд╛рдЗрд▓реЛрдВ рдХрд╛ рдЕрднрд╛рд╡ рд╣реИред  рдЗрд╕рдореЗрдВ рдзреНрд╡рдирд┐рдпрд╛рдБ, рдмрдирд╛рд╡рдЯ рдФрд░ рд╡рд╣ рд╕рдм рд╢рд╛рдорд┐рд▓ рд╣реИред  рдзреНрдпрд╛рди рджреЗрдВ, <code>pak0.pk3</code> рдХреЛ рдПрдХ рд▓рд╛рдЗрд╕реЗрдВрд╕ рдкреНрд░рд╛рдкреНрдд рд╕реАрдбреА-рд░реЙрдо рд╕реЗ рд▓рд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП (рд╣рд╛рдВ, рдЦреБрд▓рд╛ рд╕реНрд░реЛрдд рдХрд╛ рдореБрдлреНрдд рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ)ред </p><br><h3 id="podgotovka-diska">  рдбрд┐рд╕реНрдХ рдХреА рддреИрдпрд╛рд░реА </h3><br><pre> <code class="hljs pgsql">sudo apt install qemu-utils #  qcow2- qemu-img <span class="hljs-keyword"><span class="hljs-keyword">create</span></span> -f qcow2 quake.img <span class="hljs-number"><span class="hljs-number">1</span></span>G #   nbd sudo modprobe nbd max_part=<span class="hljs-number"><span class="hljs-number">63</span></span> #  qcow2-      sudo qemu-nbd -c /dev/nbd0 quake.img sudo mkfs.ext4 /dev/nbd0 sudo mount /dev/nbd0 /mnt cp -r <span class="hljs-type"><span class="hljs-type">path</span></span>/<span class="hljs-keyword"><span class="hljs-keyword">to</span></span>/q3/baseq3 /mnt sync sudo umount /mnt sudo qemu-nbd -d /dev/nbd0</code> </pre> <br><p>  рдЕрдм рдЖрдк рдмреНрд▓реЙрдХ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЛ рдХреНрдпреВрдореВ рдореЗрдВ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ </p><br><pre> <code class="hljs powershell">qemu<span class="hljs-literal"><span class="hljs-literal">-system</span></span><span class="hljs-literal"><span class="hljs-literal">-i386</span></span> <span class="hljs-literal"><span class="hljs-literal">-kernel</span></span> build/base/bin/embox <span class="hljs-literal"><span class="hljs-literal">-m</span></span> <span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-literal"><span class="hljs-literal">-vga</span></span> std <span class="hljs-literal"><span class="hljs-literal">-serial</span></span> stdio <span class="hljs-literal"><span class="hljs-literal">-hda</span></span> quake.img</code> </pre> <br><p>  рдЬрдм рд╕рд┐рд╕реНрдЯрдо рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдбрд┐рд╕реНрдХ рдХреЛ <code>/mnt</code> рдкрд░ рдорд╛рдЙрдВрдЯ рдХрд░реЗрдВ рдФрд░ рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдореЗрдВ quake3 рдЪрд▓рд╛рдПрдВ, рдЗрд╕ рдмрд╛рд░ рдмрд╛рдж рдореЗрдВ рдХреНрд░реИрд╢ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ </p><br><pre> <code class="hljs dos">&gt; mount -t ext4 /dev/hda1 /mnt &gt; <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /mnt &gt; quake3 ioq3 <span class="hljs-number"><span class="hljs-number">1</span></span>.<span class="hljs-number"><span class="hljs-number">36</span></span> linux-x86_64 Nov <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2018</span></span> SSE instruction <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> available ----- FS_Startup ----- We are looking <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the current search <span class="hljs-built_in"><span class="hljs-built_in">path</span></span>: //.q3a/baseq3 ./baseq3 ./baseq3/pak8.pk3 (<span class="hljs-number"><span class="hljs-number">9</span></span> files) ./baseq3/pak7.pk3 (<span class="hljs-number"><span class="hljs-number">4</span></span> files) ./baseq3/pak6.pk3 (<span class="hljs-number"><span class="hljs-number">64</span></span> files) ./baseq3/pak5.pk3 (<span class="hljs-number"><span class="hljs-number">7</span></span> files) ./baseq3/pak4.pk3 (<span class="hljs-number"><span class="hljs-number">272</span></span> files) ./baseq3/pak3.pk3 (<span class="hljs-number"><span class="hljs-number">4</span></span> files) ./baseq3/pak2.pk3 (<span class="hljs-number"><span class="hljs-number">148</span></span> files) ./baseq3/pak1.pk3 (<span class="hljs-number"><span class="hljs-number">26</span></span> files) ./baseq3/pak0.pk3 (<span class="hljs-number"><span class="hljs-number">3539</span></span> files) ---------------------- <span class="hljs-number"><span class="hljs-number">4073</span></span> files <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> pk3 files execing default.cfg couldn't exec q3config.cfg couldn't exec autoexec.cfg Hunk_Clear: reset the hunk ok Com_RandomBytes: using weak randomization ----- Client Initialization ----- Couldn't read q3history. ----- Initializing Renderer ---- ------------------------------- QKEY building random string Com_RandomBytes: using weak randomization QKEY generated ----- Client Initialization Complete ----- ----- R_Init ----- tty]EXCEPTION [<span class="hljs-number"><span class="hljs-number">0</span></span>xe]: error = <span class="hljs-number"><span class="hljs-number">00000000</span></span> EAX=<span class="hljs-number"><span class="hljs-number">00000000</span></span> EBX=<span class="hljs-number"><span class="hljs-number">00</span></span>d2a2d4 ECX=<span class="hljs-number"><span class="hljs-number">00000000</span></span> EDX=<span class="hljs-number"><span class="hljs-number">111011</span></span>e0 GS=<span class="hljs-number"><span class="hljs-number">00000010</span></span> <span class="hljs-built_in"><span class="hljs-built_in">FS</span></span>=<span class="hljs-number"><span class="hljs-number">00000010</span></span> ES=<span class="hljs-number"><span class="hljs-number">00000010</span></span> DS=<span class="hljs-number"><span class="hljs-number">00000010</span></span> EDI=<span class="hljs-number"><span class="hljs-number">0366</span></span>d158 ESI=<span class="hljs-number"><span class="hljs-number">111011</span></span>e0 EBP=<span class="hljs-number"><span class="hljs-number">37869918</span></span> EIP=<span class="hljs-number"><span class="hljs-number">00000000</span></span> CS=<span class="hljs-number"><span class="hljs-number">00000008</span></span> EFLAGS=<span class="hljs-number"><span class="hljs-number">00010212</span></span> ESP=<span class="hljs-number"><span class="hljs-number">006</span></span>ef6ca SS=<span class="hljs-number"><span class="hljs-number">111011</span></span>e0 EXCEPTION [<span class="hljs-number"><span class="hljs-number">0</span></span>xe]: error = <span class="hljs-number"><span class="hljs-number">00000000</span></span></code> </pre> <br><p><del>  рдпрд╣ рддреНрд░реБрдЯрд┐ рдлрд┐рд░ рд╕реЗ Qemu рдореЗрдВ SIMD рдХреЗ рд╕рд╛рде рд╣реИред </del>  <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдкрдбреЗрдЯ</a> : рдЯрд┐рдкреНрдкрдгрд┐рдпреЛрдВ рдореЗрдВ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">WGH</a> рджреНрд╡рд╛рд░рд╛ рд╕реБрдЭрд╛рдП рдЧрдП <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдЕрдиреБрд╕рд╛рд░</a> , рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдорд╕реНрдпрд╛ рдпрд╣ рдереА рдХрд┐ рдореИрдВ cr0 / cr4 рдореЗрдВ SSE рд╕рдорд░реНрдерди рдХреЛ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рд╕рдХреНрд╖рдо рдХрд░рдирд╛ рднреВрд▓ рдЧрдпрд╛, рдЗрд╕рд▓рд┐рдП QEMU рдХреЗ рд╕рд╛рде рд╕рдм рдХреБрдЫ рдареАрдХ рд╣реИред</em>  рдЗрд╕ рд╕рдордп, рдирд┐рд░реНрджреЗрд╢реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ Quake3 x86 рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдореЗрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред  X86 рдХреЗ рд▓рд┐рдП рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреЛ рдПрдХ рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХрд┐рдП рдЧрдП VM (Quake3 рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдХреЗ рд╕рд╛рде рдФрд░, рд╕реИрджреНрдзрд╛рдВрддрд┐рдХ рд░реВрдк рд╕реЗ, рд╡рд╛рд╕реНрддреБрд╢рд┐рд▓реНрдк рд╕реБрд╡рд┐рдзрд╛рдУрдВ рдореЗрдВ, рдЖрдк <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдПрдХ рд╣реА рд▓реЗрдЦ рдореЗрдВ</a> рд╕рдм рдХреБрдЫ рдкрдврд╝ рд╕рдХрддреЗ рд╣реИрдВ) рдХреЗ рд╕рд╛рде рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред  рдЙрд╕рдХреЗ рдмрд╛рдж, рдПрд╕рдбреАрдПрд▓ рдХреЗ рд▓рд┐рдП рд╣рдорд╛рд░реЗ рдХрд╛рд░реНрдпреЛрдВ рдХреЛ рдмреБрд▓рд╛рдпрд╛ рдЬрд╛рдирд╛ рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ, рдХреБрдЫ рднреА рдирд╣реАрдВ рд╣реЛрддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐  рдпреЗ рдХрд╛рд░реНрдп рдЕрднреА рддрдХ рдХреБрдЫ рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред </p><br><h2 id="dobavlyaem-podderzhku-grafiki">  рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рд╕рдорд░реНрдерди рдЬреЛрдбрд╝реЗрдВ </h2><br><pre> <code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> SDL_VideoDevice *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createDevice</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> devindex)</span></span></span><span class="hljs-function"> </span></span>{ ... device-&gt;GL_GetProcAddress = glGetProcAddress; device-&gt;GL_CreateContext = glCreateContext; ... } <span class="hljs-comment"><span class="hljs-comment">/*   OpenGL- */</span></span> <span class="hljs-function"><span class="hljs-function">SDL_GLContext </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">glCreateContext</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_THIS, SDL_Window *window)</span></span></span><span class="hljs-function"> </span></span>{ OSMesaContext ctx; <span class="hljs-comment"><span class="hljs-comment">/*   -  --    .. */</span></span> sdl_init_buffers(); <span class="hljs-comment"><span class="hljs-comment">/*    Mesa */</span></span> ctx = OSMesaCreateContextExt(OSMESA_BGRA, <span class="hljs-number"><span class="hljs-number">16</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>); OSMesaMakeCurrent(ctx, fb_base, GL_UNSIGNED_BYTE, fb_width, fb_height); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ctx; }</code> </pre> <br><p>  рдПрд╕рдбреАрдПрд▓ рдХреЛ рдпрд╣ рдмрддрд╛рдиреЗ рдХреЗ рд▓рд┐рдП рджреВрд╕рд░реЗ рд╣реИрдВрдбрд▓рд░ рдХреА рдЬрд░реВрд░рдд рд╣реИ рдЬреЛ рдУрдкрдирдЬреАрдПрд▓ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рддреЗ рд╕рдордп рдХреЙрд▓ рдХрд░рддрд╛ рд╣реИред </p><br><p>  рдРрд╕рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рд╣рдо рдПрдХ рд╕рд░рдгреА рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рд╢реБрд░реВ рд╕реЗ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВ рд╣рдо рдЬрд╛рдВрдЪрддреЗ рд╣реИрдВ рдХрд┐ рдХреМрди рд╕реА рдХреЙрд▓ рдЧрд╛рдпрдм рд╣реИрдВ, рдХреБрдЫ рдЗрд╕ рддрд░рд╣ рд╕реЗ: </p><br><pre> <code class="hljs cpp"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">struct</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> *proc; <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> *fn; } embox_sdl_tbl[] = { { <span class="hljs-string"><span class="hljs-string">"glClear"</span></span>, glClear }, { <span class="hljs-string"><span class="hljs-string">"glClearColor"</span></span>, glClearColor }, { <span class="hljs-string"><span class="hljs-string">"glColor4f"</span></span>, glColor4f }, { <span class="hljs-string"><span class="hljs-string">"glColor4ubv"</span></span>, glColor4ubv }, { <span class="hljs-number"><span class="hljs-number">0</span></span> }, }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">glGetProcAddress</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(_THIS, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">const</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">char</span></span></span></span><span class="hljs-function"><span class="hljs-params"> *proc)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; embox_sdl_tbl[i].proc != <span class="hljs-number"><span class="hljs-number">0</span></span>; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!<span class="hljs-built_in"><span class="hljs-built_in">strcmp</span></span>(embox_sdl_tbl[i].proc, proc)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> embox_sdl_tbl[i].fn; } } <span class="hljs-built_in"><span class="hljs-built_in">printf</span></span>(<span class="hljs-string"><span class="hljs-string">"embox/sdl: Failed to find %s\n"</span></span>, proc); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre> <br><p>  рдХреБрдЫ рдкреБрдирд░рд╛рд░рдВрдн рдореЗрдВ, рд╕реНрдкреНрд▓реИрд╢ рд╕реНрдХреНрд░реАрди рдФрд░ рдореЗрдиреВ рдХреЛ рдЦреАрдВрдЪрдиреЗ рдХреЗ рд▓рд┐рдП рд╕реВрдЪреА рдкрд░реНрдпрд╛рдкреНрдд рд╣реЛ рдЬрд╛рддреА рд╣реИред  рд╕реМрднрд╛рдЧреНрдп рд╕реЗ, рдореЗрд╕рд╛ рдХреЗ рдкрд╛рд╕ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рдХрд╛рд░реНрдп рд╣реИрдВред  рдХреЗрд╡рд▓ рдПрдХ рдЪреАрдЬ рдпрд╣ рд╣реИ рдХрд┐ рдХрд┐рд╕реА рдХрд╛рд░рдг рд╕реЗ рдХреЛрдИ <code>glGetString()</code> рдлрд╝рдВрдХреНрд╢рди рдирд╣реАрдВ рд╣реИ, <code>_mesa_GetString()</code> <code>glGetString()</code> рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдерд╛ред </p><br><p>  рдЕрдм рдЬрдм рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╢реБрд░реВ рд╣реЛрддрд╛ рд╣реИ, рддреЛ рдПрдХ рд╕реНрдкреНрд▓реИрд╢ рд╕реНрдХреНрд░реАрди рджрд┐рдЦрд╛рдИ рджреЗрддреА рд╣реИ, рдЪреАрдпрд░реНрд╕! </p><br><img src="https://habrastorage.org/webt/_o/te/pv/_otepvhrhcyqp1aotjvgcylm4fs.png"><br><br><h2 id="dobavlyaem-ustroystva-vvoda">  рдЗрдирдкреБрдЯ рдбрд┐рд╡рд╛рдЗрд╕ рдЬреЛрдбрд╝реЗрдВ </h2><br><p>  рдПрд╕рдбреАрдПрд▓ рдореЗрдВ рдХреАрдмреЛрд░реНрдб рдФрд░ рдорд╛рдЙрд╕ рд╕рдорд░реНрдерди рдЬреЛрдбрд╝реЗрдВред </p><br><p>  рдШрдЯрдирд╛рдУрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдПрдХ рд╣реИрдВрдбрд▓рд░ рдЬреЛрдбрд╝рдирд╛ рд╣реЛрдЧрд╛ </p><br><pre> <code class="hljs cpp"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> SDL_VideoDevice *</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createDevice</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> devindex)</span></span></span><span class="hljs-function"> </span></span>{ ... device-&gt;PumpEvents = pumpEvents; ... }</code> </pre> <br><p>  рдЖрдЗрдП рдХреАрдмреЛрд░реНрдб рд╕реЗ рд╢реБрд░реВ рдХрд░рддреЗ рд╣реИрдВред  рд╣рдо рдПрдХ рдХреБрдВрдЬреА рдХреЛ рджрдмрд╛рдиреЗ / рдЬрд╛рд░реА рдХрд░рдиреЗ рдореЗрдВ рдмрд╛рдзрд╛ рдбрд╛рд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рдлрд╝рдВрдХреНрд╢рди рд▓рдЯрдХрд╛рддреЗ рд╣реИрдВред  рдЗрд╕ рдлрд╝рдВрдХреНрд╢рди рдХреЛ рдШрдЯрдирд╛ рдХреЛ рдпрд╛рдж рд░рдЦрдирд╛ рдЪрд╛рд╣рд┐рдП (рд╕рд░рд▓рддрдо рдорд╛рдорд▓реЗ рдореЗрдВ, рд╣рдо рдмрд╕ рдПрдХ рд╕реНрдерд╛рдиреАрдп рдЪрд░ рдкрд░ рд▓рд┐рдЦрддреЗ рд╣реИрдВ, рдпрджрд┐ рд╡рд╛рдВрдЫрд┐рдд рд╣реЛ рддреЛ рдХрддрд╛рд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ), рд╕рд╛рджрдЧреА рдХреЗ рд▓рд┐рдП рд╣рдо рдХреЗрд╡рд▓ рдЕрдВрддрд┐рдо рдШрдЯрдирд╛ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░реЗрдВрдЧреЗред </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">struct</span></span> input_event last_event; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sdl_indev_eventhnd</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">struct</span></span></span></span><span class="hljs-function"><span class="hljs-params"> input_dev *indev</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">/*    ,   last_event */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span> == input_dev_event(indev, &amp;last_event)) { } }</code> </pre><br><p>  рдлрд┐рд░, <code>pumpEvents()</code> рдИрд╡реЗрдВрдЯ рдХреЛ рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдЗрд╕реЗ рдПрд╕рдбреАрдПрд▓ рдХреЛ рдкрд╛рд╕ рдХрд░рддреЗ рд╣реИрдВ: </p><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pumpEvents</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_THIS</span></span></span><span class="hljs-function">)</span></span> { SDL_Scancode scancode; <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span> pressed; scancode = scancode_from_event(&amp;last_event); pressed = is_press(last_event); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pressed) { SDL_SendKeyboardKey(SDL_PRESSED, scancode); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { SDL_SendKeyboardKey(SDL_RELEASED, scancode); } }</code> </pre><br><div class="spoiler">  <b class="spoiler_title">рдХреБрдВрдЬреА рдХреЛрдб рдФрд░ SDL_Scancode рдкрд░ рдЕрдзрд┐рдХ</b> <div class="spoiler_text"><p>  рдПрд╕рдбреАрдПрд▓ рдХреБрдВрдЬреА рдХреЛрдб рдХреЗ рд▓рд┐рдП рдЕрдкрдиреЗ рд╕реНрд╡рдпрдВ рдХреЗ рдПрдирдо рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдЖрдкрдХреЛ рдУрдПрд╕ рдХреБрдВрдЬреА рдХреЛрдб рдХреЛ рдПрд╕рдбреАрдПрд▓ рдХреЛрдб рдореЗрдВ рдмрджрд▓рдирд╛ рд╣реЛрдЧрд╛ред </p><br><p>  рдЗрди рдХреЛрдб рдХреА рдПрдХ рд╕реВрдЪреА <code>SDL_scancode.h</code> рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдкрд░рд┐рднрд╛рд╖рд┐рдд рдХреА <code>SDL_scancode.h</code> рд╣реИ </p><br><p>  рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЖрдк ASCII рдХреЛрдб рдХреЛ рдЗрд╕ рддрд░рд╣ рдкрд░рд┐рд╡рд░реНрддрд┐рдд рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рд╕рднреА ASCII рд╡рд░реНрдг рдпрд╣рд╛рдВ рдирд╣реАрдВ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдпреЗ рдХрд╛рдлреА рдкрд░реНрдпрд╛рдкреНрдд рд╣реИрдВ): </p><br><pre> <code class="hljs powershell"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> int key_to_sdl[] = { [<span class="hljs-string"><span class="hljs-string">' '</span></span>] = SDL_SCANCODE_SPACE, [<span class="hljs-string"><span class="hljs-string">'\r'</span></span>] = SDL_SCANCODE_RETURN, [<span class="hljs-number"><span class="hljs-number">27</span></span>] = SDL_SCANCODE_ESCAPE, [<span class="hljs-string"><span class="hljs-string">'0'</span></span>] = SDL_SCANCODE_0, [<span class="hljs-string"><span class="hljs-string">'1'</span></span>] = SDL_SCANCODE_1, ... [<span class="hljs-string"><span class="hljs-string">'8'</span></span>] = SDL_SCANCODE_8, [<span class="hljs-string"><span class="hljs-string">'9'</span></span>] = SDL_SCANCODE_9, [<span class="hljs-string"><span class="hljs-string">'a'</span></span>] = SDL_SCANCODE_A, [<span class="hljs-string"><span class="hljs-string">'b'</span></span>] = SDL_SCANCODE_B, [<span class="hljs-string"><span class="hljs-string">'c'</span></span>] = SDL_SCANCODE_C, ... [<span class="hljs-string"><span class="hljs-string">'x'</span></span>] = SDL_SCANCODE_X, [<span class="hljs-string"><span class="hljs-string">'y'</span></span>] = SDL_SCANCODE_Y, [<span class="hljs-string"><span class="hljs-string">'z'</span></span>] = SDL_SCANCODE_Z, };</code> </pre></div></div><br><p>  рдпрд╣ рд╕рдм рдХреАрдмреЛрд░реНрдб рдХреЗ рд╕рд╛рде рд╣реИ, рдмрд╛рдХреА рдХреЛ рдПрд╕рдбреАрдПрд▓ рдФрд░ рдХреНрд╡реЗрдХ рдЦреБрдж рд╕рдВрднрд╛рд▓реЗрдВрдЧреЗред  рд╡реИрд╕реЗ, рдпрд╣ рдЗрдзрд░-рдЙрдзрд░ рд╣реЛ рдЧрдпрд╛ рдХрд┐ рдХрд╣реАрдВ рдХреАрд╕реНрдЯреНрд░реЛрдХреНрд╕ рдХреЗ рдкреНрд░рд╕рдВрд╕реНрдХрд░рдг рдореЗрдВ, рднреВрдХрдВрдк рдХреЗ рдирд┐рд░реНрджреЗрд╢ QEMU рджреНрд╡рд╛рд░рд╛ рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИрдВ, рддреЛ рдЖрдкрдХреЛ x86 рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рд╕реЗ рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХреА рдЧрдИ рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди рдкрд░ рд╕реНрд╡рд┐рдЪ рдХрд░рдирд╛ рд╣реЛрдЧрд╛, рдЗрд╕рдХреЗ рд▓рд┐рдП рд╣рдо <code>BASE_CFLAGS += -DNO_VM_COMPILED</code> рдХреЛ Makefile рдореЗрдВ <code>BASE_CFLAGS += -DNO_VM_COMPILED</code> ред </p><br><p>  рдЙрд╕рдХреЗ рдмрд╛рдж, рдЖрдЦрд┐рд░рдХрд╛рд░, рдЖрдк рд╕реНрдХреНрд░реАрдирд╕реЗрд╡рд░ рдХреЛ рдкреВрд░реА рддрд░рд╣ рд╕реЗ "рд╕реНрдХрд┐рдк" рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЦреЗрд▓ рд╢реБрд░реВ рднреА рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдХреБрдЫ рддреНрд░реБрдЯрд┐ рдХреЛ рд╣реИрдХ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ :))ред  рдпрд╣ рд╕реБрдЦрдж рдЖрд╢реНрдЪрд░реНрдп рдерд╛ рдХрд┐ рд╕рдм рдХреБрдЫ рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рд╕реНрддреБрдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рдпрджреНрдпрдкрд┐ рдмрд╣реБрдд рдХрдо рдПрдлрдкреАрдПрд╕ рдХреЗ рд╕рд╛рдеред </p><br><p><img src="https://habrastorage.org/webt/fk/rx/cj/fkrxcjn_k-kheteoo4ak1tdwb2q.png"></p><br><p>  рдЕрдм рдЖрдк рдорд╛рдЙрд╕ рд╕рдкреЛрд░реНрдЯ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред  рдорд╛рдЙрд╕ рдЗрдВрдЯрд░рдкреНрдЯ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдПрдХ рдФрд░ рд╣реИрдВрдбрд▓рд░ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдФрд░ рдЗрд╡реЗрдВрдЯ рд╣реИрдВрдбрд▓рд┐рдВрдЧ рдХреЛ рдереЛрдбрд╝рд╛ рдЬрдЯрд┐рд▓ рд╣реЛрдирд╛ рд╣реЛрдЧрд╛ред  рд╣рдо рдЦреБрдж рдХреЛ рдХреЗрд╡рд▓ рдмрд╛рдИрдВ рдорд╛рдЙрд╕ рдмрдЯрди рддрдХ рд╕реАрдорд┐рдд рд░рдЦрддреЗ рд╣реИрдВред  рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд╣реИ рдХрд┐ рдЙрд╕реА рддрд░рд╣, рдЖрдк рд╕рд╣реА рдХреБрдВрдЬреА, рдкрд╣рд┐рдпрд╛, рдЖрджрд┐ рдЬреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред </p><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pumpEvents</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">_THIS</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (from_keyboard(&amp;last_event)) { <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> ... } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_left_click(&amp;last_event)) { <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> SDL_SendMouseButton(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, SDL_PRESSED, SDL_BUTTON_LEFT); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (is_left_release(&amp;last_event)) { <span class="hljs-comment"><span class="hljs-comment">/*     */</span></span> SDL_SendMouseButton(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, SDL_RELEASED, SDL_BUTTON_LEFT); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> SDL_SendMouseMotion(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, mouse_diff_x(), <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> mouse_diff_y()); <span class="hljs-comment"><span class="hljs-comment">/*      */</span></span> } } }</code> </pre> <br><p>  рдЙрд╕рдХреЗ рдмрд╛рдж, рдХреИрдорд░реЗ рдХреЛ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдирд╛ рдФрд░ рд╢реВрдЯ рдХрд░рдирд╛, рдЪреАрдпрд░реНрд╕ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ!  рд╡рд╛рд╕реНрддрд╡ рдореЗрдВ, рдпрд╣ рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЦреЗрд▓рдиреЗ рдХреЗ рд▓рд┐рдП рдкрд░реНрдпрд╛рдкреНрдд рд╣реИ :) </p><br><p><img src="https://habrastorage.org/webt/q5/pz/lb/q5pzlbtkbrinpcmgdggt4e5vfma.png"></p><br><h2 id="optimizaciya">  рдЕрдиреБрдХреВрд▓рди </h2><br><p>  рдпрд╣ рдирд┐рд╢реНрдЪрд┐рдд рд░реВрдк рд╕реЗ рд╢рд╛рдВрдд рд╣реИ рдХрд┐ рдирд┐рдпрдВрддреНрд░рдг рдФрд░ рдХреБрдЫ рдкреНрд░рдХрд╛рд░ рдХреЗ рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рд╣реИрдВ, рд▓реЗрдХрд┐рди рдРрд╕рд╛ рдПрдлрдкреАрдПрд╕ рдмрд┐рд▓реНрдХреБрд▓ рдмреЗрдХрд╛рд░ рд╣реИред  рд╕рдмрд╕реЗ рдЕрдзрд┐рдХ рд╕рдВрднрд╛рд╡рдирд╛ рд╣реИ, рдЬреНрдпрд╛рджрд╛рддрд░ рд╕рдордп рдУрдкрдирдЬреАрдПрд▓ рдкрд░ рдЦрд░реНрдЪ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рдФрд░ рдпрд╣ рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рд╣реИ, рдФрд░, рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, SIMD рдХрд╛ рдЙрдкрдпреЛрдЧ рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ), рдФрд░ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рд╕рдорд░реНрдерди рдХрд╛ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдмрд╣реБрдд рд▓рдВрдмрд╛ рдФрд░ рдХрдард┐рди рдХрд╛рдо рд╣реИред </p><br><p>  рдЖрдЗрдП рдереЛрдбрд╝рд╛ рдЦреВрди рд╕реЗ рдЦреЗрд▓ рдХреЛ рдЧрддрд┐ рджреЗрдиреЗ рдХреА рдХреЛрд╢рд┐рд╢ рдХрд░реЗрдВред </p><br><h3 id="optimizaciya-kompilyatora-i-snizhenie-razresheniya">  рд╕рдВрдХрд▓рдХ рдЕрдиреБрдХреВрд▓рди рдФрд░ рдХрдо рд╕рдВрдХрд▓реНрдк </h3><br><p>  рд╣рдо рдЦреЗрд▓ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рд╕рднреА рдкреБрд╕реНрддрдХрд╛рд▓рдпреЛрдВ, рдФрд░ рдУрдПрд╕ рдХреЗ рд╕рд╛рде рд╣реА <code>-O3</code> (рдпрджрд┐, рдЕрдЪрд╛рдирдХ, рдХреЛрдИ рдЗрд╕ рдЬрдЧрд╣ рдкрд░ рдкрдврд╝рддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рдирд╣реАрдВ рдЬрд╛рдирддрд╛ рдХрд┐ рдпрд╣ рдзреНрд╡рдЬ рдХреНрдпрд╛ рд╣реИ - рдЬреАрд╕реАрд╕реА рдЕрдиреБрдХреВрд▓рди рдЭрдВрдбреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рдпрд╣рд╛рдВ</a> рдорд┐рд▓ рд╕рдХрддреА <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=">рд╣реИ</a> )ред </p><br><p>  рдЗрд╕рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдо рдкреНрд░реЛрд╕реЗрд╕рд░ рдХреЗ рдХрд╛рдо рдХреЛ рд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдиреНрдпреВрдирддрдо рд░рд┐рдЬрд╝реЙрд▓реНрдпреВрд╢рди - 320x240 рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВред </p><br><h3 id="kvm">  рдХреЗрд╡реАрдПрдо </h3><br><p>  KVM (рдХрд░реНрдиреЗрд▓-рдЖрдзрд╛рд░рд┐рдд рд╡рд░реНрдЪреБрдЕрд▓ рдорд╢реАрди) рдЖрдкрдХреЛ рдкреНрд░рджрд░реНрд╢рди рдХреЛ рдмреЗрд╣рддрд░ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди (Intel VT рдФрд░ AMD-V) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред  Qemu рдЗрд╕ рддрдВрддреНрд░ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдирд┐рдореНрди рдХрд╛рд░реНрдп рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред </p><br><p>  рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЖрдкрдХреЛ BIOS рдореЗрдВ рд╡рд░реНрдЪреБрдЕрд▓рд╛рдЗрдЬреЗрд╢рди рд╕рдорд░реНрдерди рдХреЛ рд╕рдХреНрд╖рдо рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред  рдореЗрд░реЗ рдкрд╛рд╕ рдПрдХ рдЧреАрдЧрд╛рдмрд╛рдЗрдЯ B450M DS3H рдорджрд░рдмреЛрд░реНрдб рд╣реИ, рдФрд░ AMD-V рдХреЛ MIT -&gt; рдЙрдиреНрдирдд рдлреНрд░реАрдХреНрд╡реЗрдВрд╕реА рд╕реЗрдЯрд┐рдВрдЧреНрд╕ -&gt; рдЙрдиреНрдирдд CPU рдХреЛрд░ рд╕реЗрдЯрд┐рдВрдЧреНрд╕ -&gt; SVM рдореЛрдб -&gt; рд╕рдХреНрд╖рдо (рдЧреАрдЧрд╛рдмрд╛рдЗрдЯ, рдЖрдкрдХреЗ рд╕рд╛рде рдХреНрдпрд╛ рдЧрд▓рдд рд╣реИ?) рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЪрд╛рд▓реВ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред </p><br><p>  рдлрд┐рд░ рд╣рдо рдЖрд╡рд╢реНрдпрдХ рдкреИрдХреЗрдЬ рдбрд╛рд▓рддреЗ рд╣реИрдВ рдФрд░ рдЙрдкрдпреБрдХреНрдд рдореЙрдбреНрдпреВрд▓ рдЬреЛрдбрд╝рддреЗ рд╣реИрдВ </p><br><pre> <code class="hljs powershell">sudo apt install qemu<span class="hljs-literal"><span class="hljs-literal">-kvm</span></span> sudo modprobe kvm<span class="hljs-literal"><span class="hljs-literal">-amd</span></span> <span class="hljs-comment"><span class="hljs-comment">#  kvm-intel</span></span></code> </pre> <br><p>  рдпрд╣реА рд╣реИ, рдЕрдм рдЖрдк qemu <code>-enable-kvm</code> рдлреНрд▓реИрдЧ рдХреЛ рдкрд╛рд╕ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ (рдпрд╛ <code>-no-kvm</code> рддрд╛рдХрд┐ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рддреНрд╡рд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рди рдХрд░реЗрдВ)ред </p><br><h2 id="itog">  рдкрд░рд┐рдгрд╛рдо </h2><br><iframe width="560" height="315" src="https://www.youtube.com/embed/t6k_FSF-py0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  рдЦреЗрд▓ рд╢реБрд░реВ рд╣реБрдЖ, рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рдЖрд╡рд╢реНрдпрдХрддрд╛рдиреБрд╕рд╛рд░ рдкреНрд░рджрд░реНрд╢рд┐рдд рд╣реЛрддреЗ рд╣реИрдВ, рдирд┐рдпрдВрддреНрд░рдг рдХрд╛рдо рдХрд░ рд░рд╣рд╛ рд╣реИред  рджреБрд░реНрднрд╛рдЧреНрдп рд╕реЗ, рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рдПрдХ рд╕реНрдЯреНрд░реАрдо рдореЗрдВ рд╕реАрдкреАрдпреВ рдкрд░ рдЦреАрдВрдЪреЗ рдЬрд╛рддреЗ рд╣реИрдВ, рд╡рд╣ рднреА рдмрд┐рдирд╛ рд╕рд┐рдордб рдХреЗ, рдХрдо рдПрдлрдкреАрдПрд╕ (2-3 рдлреНрд░реЗрдо рдкреНрд░рддрд┐ рд╕реЗрдХрдВрдб) рдХреА рд╡рдЬрд╣ рд╕реЗ рдЗрд╕реЗ рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдирд╛ рдмрд╣реБрдд рдЕрд╕реБрд╡рд┐рдзрд╛рдЬрдирдХ рд╣реИред </p><br><p>  рдкреЛрд░реНрдЯрд┐рдВрдЧ рдкреНрд░рдХреНрд░рд┐рдпрд╛ рджрд┐рд▓рдЪрд╕реНрдк рдереАред  рд╢рд╛рдпрдж рднрд╡рд┐рд╖реНрдп рдореЗрдВ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ рдЧреНрд░рд╛рдлрд┐рдХреНрд╕ рддреНрд╡рд░рдг рдХреЗ рд╕рд╛рде рдПрдХ рдкреНрд▓реЗрдЯрдлреЙрд░реНрдо рдкрд░ рднреВрдХрдВрдк рд▓реЙрдиреНрдЪ рдХрд░рдирд╛ рд╕рдВрднрд╡ рд╣реЛрдЧрд╛, рд▓реЗрдХрд┐рди рдЕрдм рдореИрдВ рдЗрд╕ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд░реВрдВрдЧрд╛ рдХрд┐ рдХреНрдпрд╛ рд╣реИред </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/hi428634/">https://habr.com/ru/post/hi428634/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi428624/index.html">рдЬреЗрдлрд░реА рд░рд┐рдХреНрдЯрд░, рдкрд╛рд╡реЗрд▓ рдпреЛрд╕рд┐рдлреЛрд╡рд┐рдЪ, рдЧреНрд░реЗрдЧ рдпрдВрдЧ рдФрд░ рдСрд▓-рдСрд▓-рдСрд▓ред DotNext 2018 рдорд╛рд╕реНрдХреЛ рдореЗрдВ рдХрдЯреНрдЯрд░ рдФрд░ рд╡рд╛рд╕реНрддреБрдХрд▓рд╛</a></li>
<li><a href="../hi428626/index.html">PHP7 рдореЗрдВ рдПрдХреНрд╕рдЯреЗрдВрд╢рди рдХреЛ "рд╣реИрд▓реЛ, рджреБрдирд┐рдпрд╛" рд╕реЗ рдЕрдзрд┐рдХ рдХрдард┐рди рдХреИрд╕реЗ рдмрдирд╛рдпрд╛ рдЬрд╛рдП, рдФрд░ рд▓рд╛рд▓-рдЖрдВрдЦреЛрдВ рд╡рд╛рд▓рд╛ рдмрдирдиреЗ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВред рднрд╛рдЧ 1</a></li>
<li><a href="../hi428628/index.html">рдЕрдореВрд░реНрдд рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рд╕рд┐рдВрдЯреИрдХреНрд╕ рдкреЗрдбрд╝реЛрдВ рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдВ</a></li>
<li><a href="../hi428630/index.html">рдирд╣реАрдВ, рдмрд┐рдЯрдХреЙрдЗрди 2033 рддрдХ рд╣рдорд╛рд░реА рдЬрд▓рд╡рд╛рдпреБ рдХреЛ рдирд╖реНрдЯ рдирд╣реАрдВ рдХрд░реЗрдЧрд╛ред</a></li>
<li><a href="../hi428632/index.html">рд░рд┐рдПрдХреНрдЯ рдореЗрдВ рдЗрдВрдЯрд░рд╕реЗрдкреНрдЯрд░ рд╕реЗ рдирд┐рдкрдЯрдирд╛</a></li>
<li><a href="../hi428636/index.html">Roskomnadzor рдЧреВрдЧрд▓ рд╕реЗ рдЬреБрд░реНрдорд╛рдирд╛ рд╡рд╕реВрд▓рдиреЗ рдЬрд╛ рд░рд╣рд╛ рд╣реИ</a></li>
<li><a href="../hi428638/index.html">рджрд┐рд▓ рд▓реМ рдореЛрдЯрд░: QardioCore рд╣рд╛рд░реНрдЯ рдореЙрдирд┐рдЯрд░ рдХреА рд╕рдореАрдХреНрд╖рд╛</a></li>
<li><a href="../hi428640/index.html">рдЕрдкрдиреА рдЬреЗрдм рдореЗрдВ рд╣реИрдВрдбрд╕реЗрдЯ рдХреЗ рд╕рд╛рде: рддрд╛рд░рд░рд╣рд┐рдд рдЯреЗрд▓реАрдлреЛрди рдиреЗрдЯрд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП рд╕реНрдиреЛрдо DECT рдЙрдкрдХрд░рдг</a></li>
<li><a href="../hi428644/index.html">рдирд┐рдореНрди-рд╕реНрддрд░ рдХрд╛ рджрд┐рдорд╛рдЧреА рдлрд┐рддреВрд░</a></li>
<li><a href="../hi428646/index.html">рдкрд┐рдЫрд▓реЗ рд╕рд╛рд▓ рдХреЗ iPhone рдореЙрдбрд▓ рднреА рдмреИрдЯрд░реА рдкрд╣рдирдиреЗ рдХреЗ рд░реВрдк рдореЗрдВ рдзреАрдорд╛ рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>