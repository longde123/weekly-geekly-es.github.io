<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฃ ๐ฎ ๐ 3D ูุนุจุฉ ุชุธููู ูููุจุชุฏุฆูู ๐ ๐๐พ ๐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ูู ุชุฑูุฏ ูุนุฑูุฉ ููููุฉ ุฅุถุงูุฉ ุงูููุงู ุ ูุงูุฅุถุงุกุฉ ุ ูุงูุธูุงู ุ ูุงูุฎุฑุงุฆุท ุงูุนุงุฏูุฉ ุ ูุงููุงุฆูุงุช ุงููุชููุฌุฉ ุ ูุงูุงูุณุฏุงุฏ ุงููุญูุท ุ ูุบูุฑูุง ูู ุงูุชุฃุซูุฑุงุช ุนูู ูุนุจุชู ุซูุงุซู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>3D ูุนุจุฉ ุชุธููู ูููุจุชุฏุฆูู</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453300/" style=";text-align:right;direction:rtl"><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ba2/494/983/ba2494983fe869e14d259f717aa8fc19.gif" alt="ุตูุฑุฉ"></div><br>  ูู ุชุฑูุฏ ูุนุฑูุฉ ููููุฉ ุฅุถุงูุฉ ุงูููุงู ุ ูุงูุฅุถุงุกุฉ ุ ูุงูุธูุงู ุ ูุงูุฎุฑุงุฆุท ุงูุนุงุฏูุฉ ุ ูุงููุงุฆูุงุช ุงููุชููุฌุฉ ุ ูุงูุงูุณุฏุงุฏ ุงููุญูุท ุ ูุบูุฑูุง ูู ุงูุชุฃุซูุฑุงุช ุนูู ูุนุจุชู ุซูุงุซูุฉ ุงูุฃุจุนุงุฏุ  ! ููุชุงุฒ  ุชูุฏู ูุฐู ุงูููุงูุฉ ูุฌููุนุฉ ูู ุฃุณุงููุจ ุงูุชุธููู ุงูุชู ูููููุง ุฑูุน ูุณุชูู ุฑุณููุงุช ูุนุจุชู ุฅูู ุขูุงู ุฌุฏูุฏุฉ.  ุฃุดุฑุญ ูู ุฃุณููุจ ุจุทุฑููุฉ ููููู ูู ุฎูุงููุง ุชุทุจูู / ููู ูุฐู ุงููุนูููุงุช ุนูู ุฃู ูุฌููุนุฉ ุฃุฏูุงุช ุ ุณูุงุก ูุงูุช Godot ุฃู Unity ุฃู ุฃู ุดูุก ุขุฎุฑ. <br><br>  ู "ุบุฑุงุก" ุจูู ุงูุชุธููู ุ ูุฑุฑุช ุงุณุชุฎุฏุงู ูุญุฑู ุงููุนุจุฉ ุงูููุชุงุฒ Panda3D ู OpenGL Shading Language (GLSL).  ุฅุฐุง ููุช ุชุณุชุฎุฏู ุงูููุฏุณ ููุณู ุ ูุณุชุญุตู ุนูู ููุฒุฉ ุฅุถุงููุฉ - ุณุชุชุนูู ููููุฉ ุงุณุชุฎุฏุงู ุชูููุงุช ุงูุชุธููู ุนูู ูุฌู ุงูุชุญุฏูุฏ ูู Panda3D ู OpenGL. <br><a name="habracut"></a><br><h2 style=";text-align:right;direction:rtl">  ุชุฏุฑูุจ </h2><br>  ููุฌุฏ ุฃุฏูุงู ุงููุธุงู ุงูุฐู ุงุณุชุฎุฏูุชู ูุชุทููุฑ ูุงุฎุชุจุงุฑ ูููุฐุฌ ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุฃุฑุจุนุงุก </h3><br>  ุชู ุชุทููุฑ ูููุฐุฌ ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ ูุงุฎุชุจุงุฑูุง ูู ุงูุจูุฆุฉ ุงูุชุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  Linux manjaro 4.9.135-1-MANJARO </li><li style=";text-align:right;direction:rtl">  ุณูุณูุฉ ุชูุฏูู OpenGL: GeForce GTX 970 / PCIe / SSE2 </li><li style=";text-align:right;direction:rtl">  ุณูุณูุฉ ุฅุตุฏุงุฑ OpenGL: 4.6.0 NVIDIA 410.73 </li><li style=";text-align:right;direction:rtl">  g ++ (GCC) 8.2.1 20180831 </li><li style=";text-align:right;direction:rtl">  Panda3D 1.10.1-1 </li></ul><br><h3 style=";text-align:right;direction:rtl">  ุงูููุงุฏ </h3><br>  ุชุญุชูู ูู ูุงุฏุฉ ูู ููุงุฏ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">Blender</a> ุงููุณุชุฎุฏูุฉ ูุฅูุดุงุก <code>mill-scene.egg</code> . <br><br>  ุงููููุณ ุงูุฃูู ุนุจุงุฑุฉ ุนู ุฎุฑูุทุฉ ุนุงุฏูุฉ ุ ูุงูุซุงูู ูู ุฎุฑูุทุฉ ููุชุดุฑุฉ.  ุฅุฐุง ูุงู ุงููุงุฆู ูุณุชุฎุฏู ุงูููุงุนุฏ ุงูุทุจูุนูุฉ ูุฑุคูุณู ุ ูุณูุชู ุงุณุชุฎุฏุงู ุฎุฑูุทุฉ ุนุงุฏูุฉ "ุจุงูููู ุงูุฃุฒุฑู ุงูุนุงุฏู".  ูุธุฑูุง ูุญูููุฉ ุฃู ุฌููุน ุงูุทูุฑุฒ ููุง ููุณ ุงูุจุทุงูุงุช ูู ููุณ ุงูููุงุถุน ุ ูููู ุชุนููู ุงูุชุธููู ูุชุทุจููู ุนูู ุงูุนูุฏุฉ ุงูุฌุฐุฑูุฉ ููุฑุณู ุงูุจูุงูู ูููุดูุฏ. <br><br>  ูุงุญุธ ุฃู ุงูุฑุณู ุงูุจูุงูู ูููุดูุฏ ูู ุฅุญุฏู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ููุฒุงุช ุชุทุจูู</a> ูุญุฑู Panda3D. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/19f/9c0/14f/19f9c014f06aee0e2204aa95f87c6306.png"></div><br>  ุฅููู ุฎุฑูุทุฉ ุนุงุฏูุฉ ุฃุญุงุฏูุฉ ุงูููู ุชุญุชูู ููุท ุนูู ุงูููู <code>[red = 128, green = 128, blue = 255]</code> . <br><br>  ูุดูุฑ ูุฐุง ุงูููู ุฅูู ุงููุญุฏุฉ ุงูุทุจูุนูุฉ ุ ููุง ูุดูุฑ ุฅูู ุงูุงุชุฌุงู ุงูุฅูุฌุงุจู ูููุญูุฑ z <code>[0, 0, 1]</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">[<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>] = [ round((<span class="hljs-number"><span class="hljs-number">0</span></span> * <span class="hljs-number"><span class="hljs-number">0.5</span></span> + <span class="hljs-number"><span class="hljs-number">0.5</span></span>) * <span class="hljs-number"><span class="hljs-number">255</span></span>) , round((<span class="hljs-number"><span class="hljs-number">0</span></span> * <span class="hljs-number"><span class="hljs-number">0.5</span></span> + <span class="hljs-number"><span class="hljs-number">0.5</span></span>) * <span class="hljs-number"><span class="hljs-number">255</span></span>) , round((<span class="hljs-number"><span class="hljs-number">1</span></span> * <span class="hljs-number"><span class="hljs-number">0.5</span></span> + <span class="hljs-number"><span class="hljs-number">0.5</span></span>) * <span class="hljs-number"><span class="hljs-number">255</span></span>) ] = [<span class="hljs-number"><span class="hljs-number">128</span></span>, <span class="hljs-number"><span class="hljs-number">128</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>] = [ round(<span class="hljs-number"><span class="hljs-number">128</span></span> / <span class="hljs-number"><span class="hljs-number">255</span></span> * <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>) , round(<span class="hljs-number"><span class="hljs-number">128</span></span> / <span class="hljs-number"><span class="hljs-number">255</span></span> * <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>) , round(<span class="hljs-number"><span class="hljs-number">255</span></span> / <span class="hljs-number"><span class="hljs-number">255</span></span> * <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>) ] = [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>]</code> </pre> <br>  ููุง ูุฑู ุงููุญุฏุฉ ุงูุนุงุฏูุฉ <code>[0, 0, 1]</code> ุชุญููููุง ุฅูู ููู ุฃุฒุฑู ุนุงุฏู <code>[128, 128, 255]</code> ุ ููุชู ุชุญููู ุงูููู ุงูุฃุฒุฑู ุงูุตูุจ ุฅูู ูุญุฏุฉ ุนุงุฏูุฉ. <br><br>  ุชู ุชูุถูุญ ุฐูู ุจูุฒูุฏ ูู ุงูุชูุตูู ูู ุงููุณู ุงูุฎุงุต ุจุชูููุงุช ุชุฑุงูุจ ุงูุฎุฑูุทุฉ ุงูุนุงุฏูุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  Panda3D </h3><br>  ูู ูุซุงู ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุฐุง ุ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ูุชู</a> ุงุณุชุฎุฏุงู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">Panda3D</a> ูู "ุบุฑุงุก" ุจูู ุงูุชุธููู.  ูุฐุง ูุง ูุคุซุฑ ุนูู ุงูุชูููุงุช ุงูููุถุญุฉ ุฃุฏูุงู ุ ุฃู ุฃูู ููููู ุงุณุชุฎุฏุงู ุงููุนูููุงุช ุงูุชู ุชูุช ุฏุฑุงุณุชูุง ููุง ูู ุฃู ูุญุฑู ุฑุต ุฃู ูุนุจุฉ ูุญุฏุฏุฉ.  ูููุฑ Panda3D ุจุนุถ ูุณุงุฆู ุงูุฑุงุญุฉ.  ูู ุงูููุงูุฉ ุงูุชู ุชุญุฏุซุช ุนููุง ุ ุญุชู ุชุชููู ูู ุงูุนุซูุฑ ุนูู ูุธูุฑูุง ูู ูุฌููุนุชู ุ ุฃู ุฅุนุงุฏุฉ ุฅูุดุงุฆูุง ุจููุณู ุฅุฐุง ูู ุชูู ูู ุงููุฌููุนุฉ. <br><br>  ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅูู ุฃูู ุชู ุฅุถุงูุฉ <code>gl-coordinate-system default</code> ู <code>textures-power-2 down</code> ู <code>textures-auto-power-2 1</code> ุฅูู <code>config.prc</code> .  ูุง ูุชู ุชุถููููุง ูู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุชูููู Panda3D</a> ุงูููุงุณู. <br><br>  ุงูุชุฑุงุถููุง ุ ูุณุชุฎุฏู Panda3D ูุธุงู ุฅุญุฏุงุซู ูููููุง ูุน ูุญูุฑ z ุชุตุงุนุฏููุง ุ ูู ุญูู ูุณุชุฎุฏู OpenGL ูุธุงู ุฅุญุฏุงุซูุงุช ููููู ุฐู ูุญูุฑ ุต ุตุงุนุฏ. <br><br>  ูุณูุญ ูู <code>gl-coordinate-system default</code> ุจุงูุชุฎูุต ูู ุงูุชุญูููุงุช ุจูู ูุธุงููู ููุฅุญุฏุงุซูุงุช ุฏุงุฎู ุชุธููู. <br><br>  ูุชูุญ ููุง <code>textures-auto-power-2 1</code> ุงุณุชุฎุฏุงู ุฃุญุฌุงู ูุณูุฌ ููุณุช ููุฉ ูุงุซููู ุ ุฅุฐุง ูุงู ุงููุธุงู ูุฏุนููู. <br><br>  ูููู ูุฐุง ููุงุณุจูุง ุนูุฏ ุฅุฌุฑุงุก SSAO ุฃู ุชูููุฐ ุชูููุงุช ุฃุฎุฑู ุฏุงุฎู ุดุงุดุฉ / ูุงูุฐุฉ ุ ูุฃู ุญุฌู ุงูุดุงุดุฉ / ุงููุงูุฐุฉ ุนุงุฏุฉ ูุง ูููู ููุฉ ูุงุซููู. <br><br>  ูููู <code>textures-power-2 down</code> ูู ุญุฌู ุงูููุงู ุฅูู ููุฉ ูู ุงุซููู ุฅุฐุง ูุงู ุงููุธุงู ูุฏุนู ููุท ุงูููุงู ุจุฃุญุฌุงู ูุณุงููุฉ ูููู ุงุซููู. <br><br><h2 style=";text-align:right;direction:rtl">  ุจูุงุก ุฑูุฒ ุงููุซุงู </h2><br>  ุฅุฐุง ููุช ุชุฑุบุจ ูู ุชุดุบูู ูููุฐุฌ ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ ุ ููุฌุจ ุนููู ุฃููุงู ุฅูุดุงุคู. <br><br>  ูุนูู Panda3D ุนูู ุฃูุธูุฉ Linux ู Mac ู Windows. <br><br><h3 style=";text-align:right;direction:rtl">  ููููุณ </h3><br>  ุงุจุฏุฃ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุจุชุซุจูุช</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">Panda3D SDK</a> ููุชูุฒูุน. <br><br>  ุงุจุญุซ ุนู ููุงู ุฑุคูุณ Panda3D ูุงูููุชุจุงุช.  ุนูู ุงูุฃุฑุฌุญ ุ ุชูุน ูู <code>/usr/include/panda3d/</code> ู <code>/usr/lib/panda3d/</code> . <br><br>  ุซู ุงุณุชูุณุงุฎ ูุฐุง ุงููุณุชูุฏุน ูุงูุชูู ุฅูู ุงูุฏููู ุงูุฎุงุต ุจู. <br><br> <code>git clone https://github.com/lettier/3d-game-shaders-for-beginners.git <br> cd 3d-game-shaders-for-beginners</code> <br> <br>  ุงูุขู ุชุฌููุน ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ ูู ููู ุงูุฅุฎุฑุงุฌ. <br><br> <code>g++ \ <br> -c main.cxx \ <br> -o 3d-game-shaders-for-beginners.o \ <br> -std=gnu++11 \ <br> -O2 \ <br> -I/usr/include/python2.7/ \ <br> -I/usr/include/panda3d/</code> <br> <br>  ุจุนุฏ ุฅูุดุงุก ููู ุงูุฅุฎุฑุงุฌ ุ ูู ุจุฅูุดุงุก ููู ูุงุจู ููุชูููุฐ ุนู ุทุฑูู ุฑุจุท ููู ุงูุฅุฎุฑุงุฌ ุจุชุจุนูุงุชู. <br><br> <code>g++ \ <br> 3d-game-shaders-for-beginners.o \ <br> -o 3d-game-shaders-for-beginners \ <br> -L/usr/lib/panda3d \ <br> -lp3framework \ <br> -lpanda \ <br> -lpandafx \ <br> -lpandaexpress \ <br> -lp3dtoolconfig \ <br> -lp3dtool \ <br> -lp3pystub \ <br> -lp3direct \ <br> -lpthread</code> <br> <br>  ุฑุงุฌุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุฏููู Panda3D</a> ููุฒูุฏ ูู ุงููุนูููุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  ูุงู </h3><br>  ุงุจุฏุฃ ุจุชุซุจูุช <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">Panda3D SDK</a> ููุธุงู ุงูุชุดุบูู Mac. <br><br>  ุงุจุญุซ ุนู ุงูุฑุคูุณ ูุงูููุชุจุงุช ูู Panda3D. <br><br>  ุซู ุงุณุชูุณุงุฎ ุงููุณุชูุฏุน ูุงูุชูู ุฅูู ุงูุฏููู ุงูุฎุงุต ุจู. <br><br> <code>git clone https://github.com/lettier/3d-game-shaders-for-beginners.git <br> cd 3d-game-shaders-for-beginners</code> <br> <br>  ุงูุขู ุชุฌููุน ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ุงููุตุฏุฑ ูู ููู ุงูุฅุฎุฑุงุฌ.  ููุฒูู ุงูุนุซูุฑ ุนูู ุฃุฏูุฉ ุงูุฏูุงุฆู ูู Python 2.7 ู Panda3D. <br><br> <code>clang++ \ <br> -c main.cxx \ <br> -o 3d-game-shaders-for-beginners.o \ <br> -std=gnu++11 \ <br> -g \ <br> -O2 \ <br> -I/usr/include/python2.7/ \ <br> -I/Developer/Panda3D/include/</code> <br> <br>  ุจุนุฏ ุฅูุดุงุก ููู ุงูุฅุฎุฑุงุฌ ุ ูู ุจุฅูุดุงุก ููู ูุงุจู ููุชูููุฐ ุนู ุทุฑูู ุฑุจุท ููู ุงูุฅุฎุฑุงุฌ ุจุชุจุนูุงุชู. <br><br>  ุชุญุชุงุฌ ุฅูู ุงูุนุซูุฑ ุนูู ููุงู ุงูููุชุจุงุช Panda3D. <br><br> <code>clang++ \ <br> 3d-game-shaders-for-beginners.o \ <br> -o 3d-game-shaders-for-beginners \ <br> -L/Developer/Panda3D/lib \ <br> -lp3framework \ <br> -lpanda \ <br> -lpandafx \ <br> -lpandaexpress \ <br> -lp3dtoolconfig \ <br> -lp3dtool \ <br> -lp3pystub \ <br> -lp3direct \ <br> -lpthread</code> <br> <br>  ุฑุงุฌุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุฏููู Panda3D</a> ููุฒูุฏ ูู ุงููุนูููุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  ููุงูุฐ </h3><br>  ุงุจุฏุฃ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุจุชุซุจูุช</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">Panda3D SDK</a> ููุธุงู ุงูุชุดุบูู Windows. <br><br>  ุงุจุญุซ ุนู ููุงู ุฑุคูุณ Panda3D ูุงูููุชุจุงุช. <br><br>  ุงุณุชูุณุงุฎ ูุฐุง ุงููุณุชูุฏุน ูุงูุชูู ุฅูู ุงูุฏููู ุงูุฎุงุต ุจู. <br><br> <code>git clone https://github.com/lettier/3d-game-shaders-for-beginners.git <br> cd 3d-game-shaders-for-beginners</code> <br> <br>  ุฑุงุฌุน <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุฏููู Panda3D</a> ููุฒูุฏ ูู ุงููุนูููุงุช. <br><br><h2 style=";text-align:right;direction:rtl">  ุฅุทูุงู ุงูุนุฑุถ ุงูุชูุถูุญู </h2><br>  ุจุนุฏ ุจูุงุก ูููุฐุฌ ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ ุ ููููู ุชุดุบูู ุงูููู ุงููุงุจู ููุชูููุฐ ุฃู ุงูุนุฑุถ ุงูุชูุถูุญู.  ูุฐู ูู ุงูุทุฑููุฉ ุงูุชู ุชุนูู ุจูุง ุนูู ููููุณ ุฃู ูุงู. <br><br> <code>./3d-game-shaders-for-beginners</code> <br> <br>  ูุจุงูุชุงูู ููู ุชุนูู ุนูู ูููุฏูุฒ: <br><br> <code>3d-game-shaders-for-beginners.exe</code> <br> <br><h3 style=";text-align:right;direction:rtl">  ุงูุชุญูู ูู ููุญุฉ ุงูููุงุชูุญ </h3><br>  ูุญุชูู ุงูุนุฑุถ ุงูุชูุถูุญู ุนูู ุนูุตุฑ ุชุญูู ูู ููุญุฉ ุงูููุงุชูุญ ูุชูุญ ูู ุชุญุฑูู ุงููุงููุฑุง ูุชุจุฏูู ุญุงูุฉ ุงูุชุฃุซูุฑุงุช ุงููุฎุชููุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุญุฑูุฉ </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>w</code> - ุงูุชุญุฑู ูู ุนูู ุงููุดูุฏ. </li><li style=";text-align:right;direction:rtl">  <code>a</code> - ุชุฏููุฑ ุงููุดูุฏ ูู ุงุชุฌุงู ุนูุงุฑุจ ุงูุณุงุนุฉ. </li><li style=";text-align:right;direction:rtl">  <code>s</code> - ุงูุงุจุชุนุงุฏ ุนู ููุงู ุงูุญุงุฏุซ. </li><li style=";text-align:right;direction:rtl">  <code>d</code> - ุชุฏููุฑ ุงููุดูุฏ ุนูุณ ุงุชุฌุงู ุนูุงุฑุจ ุงูุณุงุนุฉ. </li></ul><br><h3 style=";text-align:right;direction:rtl">  ุขุซุงุฑ ููุชุญููู </h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  <code>y</code> - ุชูููู SSAO. </li><li style=";text-align:right;direction:rtl">  <code>Shift</code> + <code>y</code> - ุชุนุทูู SSAO. </li><li style=";text-align:right;direction:rtl">  <code>u</code> - ุฅุฏุฑุงุฌ ุงูุฏูุงุฆุฑ. </li><li style=";text-align:right;direction:rtl">  <code>Shift</code> + <code>u</code> - ุชุนุทูู ููุงูุญ. </li><li style=";text-align:right;direction:rtl">  <code>i</code> - ุชูููู ุงุฒูุฑ. </li><li style=";text-align:right;direction:rtl">  <code>Shift</code> + <code>i</code> - ุชุนุทูู ุงูุฅุฒูุงุฑ. </li><li style=";text-align:right;direction:rtl">  <code>o</code> - ุชูููู ุงูุฎุฑุงุฆุท ุงูุนุงุฏูุฉ. </li><li style=";text-align:right;direction:rtl">  <code>Shift</code> + <code>o</code> - ุชุนุทูู ุงูุฎุฑุงุฆุท ุงูุนุงุฏูุฉ. </li><li style=";text-align:right;direction:rtl">  <code>p</code> - ุฅุฏุฑุงุฌ ุงูุถุจุงุจ. </li><li style=";text-align:right;direction:rtl">  <code>Shift</code> + <code>p</code> - ุฅููุงู ุงูุถุจุงุจ. </li><li style=";text-align:right;direction:rtl">  <code>h</code> - ุฅุฏุฑุงุฌ ุนูู ุงููุฌุงู. </li><li style=";text-align:right;direction:rtl">  <code>Shift</code> + <code>h</code> - ุชุนุทูู ุนูู ุงููุฌุงู. </li><li style=";text-align:right;direction:rtl">  <code>j</code> - ุชูููู posterization. </li><li style=";text-align:right;direction:rtl">  <code>Shift</code> + <code>j</code> - ุชุนุทูู ุงูุชุญููู </li><li style=";text-align:right;direction:rtl">  <code>k</code> - ุชูููู ุงูุจูุณู. </li><li style=";text-align:right;direction:rtl">  <code>Shift</code> + <code>k</code> - ุชุนุทูู ุงูุจููุณู. </li><li style=";text-align:right;direction:rtl">  <code>l</code> - ุดุญุฐ. </li><li style=";text-align:right;direction:rtl">  <code>Shift</code> + <code>l</code> - ุชุนุทูู ุงูุญุฏุฉ. </li><li style=";text-align:right;direction:rtl">  <code>n</code> ุฅุฏุฑุงุฌ ุงูุญุจูุจ ุงููููู. </li><li style=";text-align:right;direction:rtl">  <code>Shift</code> + <code>n</code> - ุชุนุทูู ูููู ุงูุญุจูุจ. </li></ul><br><h2 style=";text-align:right;direction:rtl">  ุงููุธุงู ุงููุฑุฌุนู </h2><br>  ูุจู ุงูุจุฏุก ูู ูุชุงุจุฉ ุชุธููู ุ ุชุญุชุงุฌ ุฅูู ุงูุชุนุฑู ุนูู ุงูุฃูุธูุฉ ุงููุฑุฌุนูุฉ ุงูุชุงููุฉ ุฃู ุฃูุธูุฉ ุงูุชูุณูู.  ูู ูููู ููุฒู ุฅูู ูุง ูุชู ุฅุญุถุงุฑู ูู ุงูุฅุญุฏุงุซูุงุช ุงูุญุงููุฉ ูุฃุตู ุงููุฑุฌุน ูู <code>(0, 0, 0)</code> .  ุจูุฌุฑุฏ ุฃู ููุชุดู ุฐูู ุ ูููููุง ุชุญููููุง ุจุงุณุชุฎุฏุงู ููุน ูู ุงููุตูููุฉ ุฃู ูุณุงุญุฉ ูุชุฌู ุฃุฎุฑู.  ุนุงุฏุฉู ุ ุฅุฐุง ูุงู ูุงุชุฌ ุงูุชุธููู ูุง ูุจุฏู ุตุญูุญูุง ุ ูุฅู ุงูุณุจุจ ูู ุฎูุท ุฃูุธูุฉ ุงูุฅุญุฏุงุซูุงุช. <br><br><h3 style=";text-align:right;direction:rtl">  ูููุฐุฌ </h3><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/e06/9ce/863/e069ce863ffc7bd3b94394dc20b25687.gif"></div><br>  ูุชูุงุณุจ ูุธุงู ุงูุฅุญุฏุงุซูุงุช ุงูุฎุงุต ุจุงููููุฐุฌ ุฃู ุงููุงุฆู ูุน ุฃุตู ุงููููุฐุฌ.  ูู ุจุฑุงูุฌ ุงูููุฐุฌุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุ ุนูู ุณุจูู ุงููุซุงู ุ ูู Blender ุ ูุชู ูุถุนูุง ุนุงุฏุฉู ูู ูุฑูุฒ ุงููููุฐุฌ. <br><br><h3 style=";text-align:right;direction:rtl">  ุงูุนุงูู </h3><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/d0a/9de/1f7/d0a9de1f741bb90174efd93d174ef1f9.gif"></div><br>  ูุณุงุญุฉ ุงูุนุงูู ูุฑุชุจุทุฉ ุจุฃุตู ุงููุดูุฏ / ุงููุณุชูู / ุงูููู ุงูุฐู ููุช ุจุฅูุดุงุฆู. <br><br><h3 style=";text-align:right;direction:rtl">  ูุธุฑุฉ ุนุงูุฉ </h3><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/bd2/15b/b6e/bd215bb6ee79a6904eba3f6ad4ff56d3.gif"></div><br>  ุงููุณุงุญุฉ ุงูุฅุญุฏุงุซูุฉ ููุนุฑุถ ูุณุจุฉ ุฅูู ููุถุน ุงููุงููุฑุง ุงููุดุทุฉ. <br><br><h3 style=";text-align:right;direction:rtl">  ุจุชุฑ </h3><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/d77/505/a34/d77505a349f37a695f77625400857d58.png"></div><br>  ููุทุฉ ูุณุงุญุฉ ูุณุจุฉ ุฅูู ูุฑูุฒ ุฅุทุงุฑ ุงููุงููุฑุง.  ุฌููุน ุงูุฅุญุฏุงุซูุงุช ููู ูุชุฌุงูุณุฉ ููู ุงููุงุตู <code>(-1, 1)</code> .  X ู y ูุชูุงุฒูุงู ูุน ูููู ุงููุงููุฑุง ุ ูุงูุฅุญุฏุงุซู z ูู ุงูุนูู. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/dc7/0be/d7c/dc70bed7ca78c39cc9f538b127d7176e.gif"></div><br>  ูุชู ูุทุน ุฃู ุงูุชุฎูุต ูู ุฌููุน ุงูููู ุงูุชู ูุง ุชูุน ุฏุงุฎู ุญุฏูุฏ ูุฑู ุงูุฑุคูุฉ ุฃู ุฑุคูุฉ ุงููุงููุฑุง.  ูุฑู ููู ูุญุฏุซ ูุฐุง ูุน ููุนุจ ุชู ุงูุชุทุงุนู ุฎูู ุงูุทุงุฆุฑุฉ ุงูุจุนูุฏุฉ ูููุงููุฑุง ุ ูููุนุจ ููุฌูุฏ ุนูู ุงูุฌุงูุจ. <br><br><h3 style=";text-align:right;direction:rtl">  ุนุฑุถ </h3><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/e5b/47d/336/e5b47d33660b9c1744faa12fec8ef256.png"></div><br>  ูุณุงุญุฉ ุงูุดุงุดุฉ (ุนุงุฏุฉ) ูุณุจุฉ ุฅูู ุงูุฑูู ุงูุฃูุณุฑ ุงูุณููู ูู ุงูุดุงุดุฉ.  ูุชุบูุฑ X ูู ุงูุตูุฑ ุฅูู ุนุฑุถ ุงูุดุงุดุฉ.  Y ูุชุบูุฑ ูู ุงูุตูุฑ ุฅูู ุงุฑุชูุงุน ุงูุดุงุดุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  GLSL </h2><br>  ุจุฏูุงู ูู ุงูุนูู ูุน ุฎุท ุฃูุงุจูุจ ูู ุงููุธุงุฆู ุงูุซุงุจุชุฉ ุ ุณูุณุชุฎุฏู ุฎุท ุฃูุงุจูุจ ุชูุฏูู GPU ูุงุจู ููุจุฑูุฌุฉ.  ูุธุฑูุง ูุฃูู ูุงุจู ููุจุฑูุฌุฉ ุ ูุฌุจ ุนูููุง ูุญู ุฃููุณูุง ุชูุฑูุฑู ุฑูุฒ ุงูุจุฑูุงูุฌ ูู ุดูู ุชุธููู.  ุงูุชุธููู ุนุจุงุฑุฉ ุนู ุจุฑูุงูุฌ (ุนุงุฏุฉู ุตุบูุฑ) ุชู ุฅูุดุงุคู ุจุงุณุชุฎุฏุงู ุจูุงุก ุฌููุฉ ูุดุจู ูุบุฉ C. ูุชููู ุฎุท ุฃูุงุจูุจ GPU ุงููุงุจู ููุจุฑูุฌุฉ ูู ุนุฏุฉ ุฎุทูุงุช ูููู ุจุฑูุฌุชูุง ุจุงุณุชุฎุฏุงู ุชุธููู.  ุฃููุงุน ูุฎุชููุฉ ูู ุงูุชุธููู ุชุดูู ุชุธููู ููุฉ ุงูุฑุฃุณ ุ ุชุธููู ุงูุชุบุทูุฉ ุจุงููุณููุณุงุก ุ ุชุธููู ููุฏุณู ุ ุดุธุงูุง ูุงูุญุณุงุจ.  ูุงุณุชุฎุฏุงู ุงูุชูููุงุช ุงูููุถุญุฉ ูู ุงูููุงูุฉ ุ ูููู ุงุณุชุฎุฏุงู ุงูุฑุฃุณ ูุงูุดุธูุฉ <br>  ูุฑุงุญู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 140 void main() {}</span></span></code> </pre> <br>  ูููุง ููู ุงูุญุฏ ุงูุฃุฏูู ูู ุชุธููู GLSL ุ ุงูุฐู ูุชููู ูู ุฑูู ุฅุตุฏุงุฑ GLSL ูุงููุธููุฉ ุงูุฑุฆูุณูุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 140 uniform mat4 p3d_ModelViewProjectionMatrix; in vec4 p3d_Vertex; void main() { gl_Position = p3d_ModelViewProjectionMatrix * p3d_Vertex; }</span></span></code> </pre> <br>  ููุง ูู ุชุธููู ููุฉ ุงูุฑุฃุณ ุงูููุทูุน GLSL ุ ุงูุฐู ูุญูู ููุฉ ุงูุฑุฃุณ ุงููุฏุฎูุฉ ุฅูู ูุณุงุญุฉ ุงููุทุน ููุนุฑุถ ูุฐุง ุงูููุถุน ุงูุฌุฏูุฏ ูููุถุน ููุฉ ูุชูุงุณู. <br><br>  ูุง ูุนูุฏ ุงูุฅุฌุฑุงุก <code>main</code> ุฃู ุดูุก ุ ูุฃูู <code>void</code> ุ ูุงููุชุบูุฑ <code>gl_Position</code> ูู ุงูุฅุฎุฑุงุฌ ุงููุถูู. <br><br>  ูููุชูู ุฃุณุงุณูุชูู ุชุฌุฏุฑ ุงูุฅุดุงุฑุฉ ุฅููููุง: <code>uniform</code> ููู. <br><br>  ุชุนูู ุงููููุฉ ุงูุฃุณุงุณูุฉ <code>uniform</code> ุฃู ูุฐุง ุงููุชุบูุฑ ุงูุนุงู ูู ููุณู ุจุงููุณุจุฉ ูุฌููุน ุงูููู.  Panda3D ููุณู ูุนูู <code>p3d_ModelViewProjectionMatrix</code> ูููู ููุฉ ูู ููุณ ุงููุตูููุฉ. <br><br>  ุชุนูู ุงููููุฉ ุงูุฃุณุงุณูุฉ <code>in</code> ุฃู ูุฐุง ุงููุชุบูุฑ ุงูุนูููู ูุชู ุชูุฑูุฑู ุฅูู ุงูุชุธููู.  ูุญุตู ุชุธููู ููุฉ ุงูุฑุฃุณ ุนูู ูู ููุฉ ุชุชุฃูู ูููุง ุงูููุฏุณุฉ ุ ูุงูุชู ูุฑุจุท ุจูุง ุชุธููู ููุฉ ุงูุฑุฃุณ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 140 out vec4 fragColor; void main() { fragColor = vec4(0, 1, 0, 1); }</span></span></code> </pre> <br>  ููุง ุชุธููู ุดุธูุฉ GLSL ุงููุดุฐุจ ุ ูุนุฑุถ ุงูููู ุงูุฃุฎุถุฑ ุงูุบุงูู ุจููู ุงูุดุธูุฉ. <br><br>  ูุง ุชูุณ ุฃู ุงูุฌุฒุก ูุคุซุฑ ุนูู ุจูุณู ุดุงุดุฉ ูุงุญุฏ ููุท ุ ูููู ูููู ุฃู ุชุคุซุฑ ุนุฏุฉ ุฃุฌุฒุงุก ุนูู ุจูุณู ูุงุญุฏ. <br><br>  ุงูุชุจู ูููููุฉ ุงูุฑุฆูุณูุฉ <br><br>  ุชุนูู ุงููููุฉ ุงูุฃุณุงุณูุฉ <code>out</code> ุฃู ูุฐุง ุงููุชุบูุฑ ุงูุนูููู ูุชู ุชุนูููู ุจูุงุณุทุฉ ุงูุชุธููู. <br><br>  ุงุณู <code>fragColor</code> ุงุฎุชูุงุฑู ุ ุจุญูุซ ููููู ุงุฎุชูุงุฑ ุฃู ุดูุก ุขุฎุฑ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/8b4/276/b2d/8b4276b2d7e735cc05484e80e0c046e8.gif"></div><br>  ููุง ูู ุฅุฎุฑุงุฌ ุงุซููู ูู ุชุธููู ุงููุจูู ุฃุนูุงู. <br><br><h2 style=";text-align:right;direction:rtl">  ุชูุฏูู ุงููููุณ </h2><br>  ุจุฏูุงู ูู ุงูุชูุฏูู / ุงูุฑุณู ูุจุงุดุฑุฉู ุนูู ุงูุดุงุดุฉ ุ ูุณุชุฎุฏู ูููุฐุฌ ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ ุชูููุฉ ูู <br>  ุงุณู "ุชูุฏูู ุฅูู ูุณูุฌ" (ุชูุฏูู ุฅูู ูุณูุฌ).  ููุชูุฏูู ุฅูู ูุณูุฌ ุ ุชุญุชุงุฌ ุฅูู ุชูููู ูุฎุฒู ูุคูุช ููุฅุทุงุฑ ูุฑุจุทู ุจู.  ููููู ุฑุจุท ููุงุฏ ูุชุนุฏุฏุฉ ุจูุฎุฒู ูุคูุช ูุฅุทุงุฑ ูุงุญุฏ. <br><br>  ุชุฎุฒู ุงูููุงุฏ ุงูููุถูุฉ ุฅูู ุงููุฎุฒู ุงููุคูุช ููุฅุทุงุฑ ุงููุชุฌูุงุช ุงูุชู ูุชู ุฅุฑุฌุงุนูุง ุจูุงุณุทุฉ ุชุธููู ุงูุชุฌุฒุฆุฉ.  ุนุงุฏุฉู ูุง ุชููู ูุฐู ุงููุชุฌูุงุช ุนุจุงุฑุฉ ุนู ูุงูู ููู <code>(r, g, b, a)</code> ุ ููููุง ูููู ุฃู ุชููู ุฅูุง ููุงุถุน ุฃู ูุชุฌูุงุช ุนุงุฏูุฉ <code>(x, y, z, w)</code> .  ููู ูุณูุฌ ููุถู ุ ูููู ูุชุธููู ุงูุฌุฒุก ุฅุฎุฑุงุฌ ูุชุฌู ูููุตู.  ุนูู ุณุจูู ุงููุซุงู ุ ูููููุง ุฃู ูุณุชูุชุฌ ูู ุฃุญุฏ ุงููุฑุงุช ูุถุน ููุฉ ุงูุฑุฃุณ ูุทุจูุนุชู. <br><br>  ุงูุฌุฒุก ุงูุฃูุจุฑ ูู ุฑูุฒ ุงููุซุงู ุงูุฐู ูุนูู ูุน Panda3D ูุฑุชุจุท ุจุชุนููู <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ุงูููุงู ุงููุฎุฒู ุงููุคูุช ููุฅุทุงุฑ</a> .  ููุญูุงุธ ุนูู ุงูุฃููุฑ ุจุณูุทุฉ ุ ูู ุชุธููู ุฌุฒุก ูู ุฑูุฒ ุงููุซุงู ูุญุชูู ุนูู ุฅุฎุฑุงุฌ ูุงุญุฏ ููุท.  ููุน ุฐูู ุ ูุถูุงู ูุนุฏู ุฑุชู ุนุงูู (FPS) ุ ูุญุชุงุฌ ุฅูู ุฅูุชุงุฌ ุฃูุจุฑ ูุฏุฑ ูููู ูู ุงููุนูููุงุช ูู ูู ุชูุฑูุฑุฉ ุชูุฏูู. <br><br>  ูููุง ููู ุจููุชุงู ูุณูุฌูุฉ ูููุฎุฒู ุงููุคูุช ููุฅุทุงุฑ ูู ูููุฐุฌ ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/ac9/d2b/d50/ac9d2bd50cd1c0bc991ffe7569bf5432.gif"></div><br>  ุงููููู ุงูุฃูู ูุฌุนู ูุดูุฏ ุทุงุญููุฉ ูุงุฆูุฉ ูู ูุณูุฌ ุนุงุฒู ููุฅุทุงุฑ ุจุงุณุชุฎุฏุงู ูุฌููุนุฉ ูุชููุนุฉ ูู ุชุธููู ุงูุฑุฃุณ ูุงูุฌุฒุก.  ููุฑ ูุฐุง ุงููููู ุนุจุฑ ูู ูู ููู ุงููุฑุญูุฉ ูุน ุงูุทุงุญููุฉ ูุนูู ุทูู ุงูุฃุฌุฒุงุก ุงูููุงุจูุฉ. <br><br>  ูู ูุฐุง ุงููููู ุ ูุนูู ุฑูุฒ ุงููุซุงู ุนูู ุงููุญู ุงูุชุงูู. <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุญูุธ ุงูุจูุงูุงุช ุงูููุฏุณูุฉ (ุนูู ุณุจูู ุงููุซุงู ุ ุงูููุถุน ุฃู ููุฉ ุงูุฑุฃุณ ุงูุนุงุฏูุฉ) ููุงุณุชุฎุฏุงู ูู ุงููุณุชูุจู. </li><li style=";text-align:right;direction:rtl">  ูุญูุธ ุจูุงูุงุช ุงูููุงุฏ (ูุซู ุงูููู ุงูููุชุดุฑ) ููุงุณุชุฎุฏุงู ูู ุงููุณุชูุจู. </li><li style=";text-align:right;direction:rtl">  ููุดุฆ ุฑุจุทูุง ุจุงูุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ ูุฃูุณุฌุฉ ูุฎุชููุฉ (ููุชุดุฑุฉ ุ ุฎุฑุงุฆุท ุนุงุฏูุฉ ุ ุฎุฑุงุฆุท ุงูุธู ุ ุฅูุฎ). </li><li style=";text-align:right;direction:rtl">  ูุญุณุจ ุงูุฅุถุงุกุฉ ุงููุญูุทุฉ ูุงูููุชุดุฑุฉ ูุงูููุนูุณุฉ ูุงูููุจุนุซุฉ. </li><li style=";text-align:right;direction:rtl">  ูุฌุนู ุงูุถุจุงุจ. </li></ul><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/7e5/554/0c2/7e55540c20fe190246f3180b3f06a731.png"></div><br>  ุงููููู ุงูุซุงูู ูู ูุงููุฑุง ูุชุนุงูุฏุฉ ุชูุฏู ุฅูู ูุณุชุทูู ุนูู ุดูู ุดุงุดุฉ. <br>  ูุนูู ูุฐุง ุงููููู ุฎูุงู ุฃุฑุจุนุฉ ููู ููุท ูุดุธุงูุงูุง ุงูููุงุจูุฉ. <br><br>  ูู ุงูุจููุฉ ุงูุซุงููุฉ ุ ูููู ูููุฐุฌ ุงูุชุนูููุฉ ุงูุจุฑูุฌูุฉ ุจุชูููุฐ ุงูุฅุฌุฑุงุกุงุช ุงูุชุงููุฉ: <br><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  ูุนุงูุฌ ุฅุฎุฑุงุฌ ูุณูุฌ ุงูุนุงุฒูุฉ ุงูุฅุทุงุฑ ุขุฎุฑ. </li><li style=";text-align:right;direction:rtl">  ูุฌูุน ุจูู ูุฎุชูู ุงูููุงู ุงูุนุงุฒูุฉ ุงูุฅุทุงุฑ ูู ูุงุญุฏ. </li></ul><br>  ูู ูุซุงู ุงูููุฏ ุ ูููููุง ุฃู ูุฑู ูุฎุฑุฌุงุช ุฅุทุงุฑ ุงููุฎุฒู ุงููุคูุช ูุฅุทุงุฑ ูุงุญุฏ ุ ููุถุจุท ุงูุฅุทุงุฑ ุงูููุงุจู ุนูู ุตูุงุจ ุ ูุฎุทุฃ ูุฌููุน ุงูุขุฎุฑูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... bool showPositionBuffer = false; bool showNormalBuffer = false; bool showSsaoBuffer = false; bool showSsaoBlurBuffer = false; bool showMaterialDiffuseBuffer = false; bool showOutlineBuffer = false; bool showBaseBuffer = false; bool showSharpenBuffer = false; bool showBloomBuffer = false; bool showCombineBuffer = false; bool showCombineBlurBuffer = false; bool showDepthOfFieldBuffer = false; bool showPosterizeBuffer = false; bool showPixelizeBuffer = false; bool showFilmGrainBuffer = true; // ...</span></span></code> </pre> <br><h2 style=";text-align:right;direction:rtl">  ุงูุชุฑููุจ </h2><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/d1c/0eb/1c6/d1c0eb1c650b9b05e2372b33259ed8a6.gif"></div><br>  ุงูุชุฑููุจ ูู ุฑุจุท ุงูููู ุฃู ุจุนุถ ุงููุชุฌูุงุช ุงูุฃุฎุฑู ุจุดุธูุฉ ุจุงุณุชุฎุฏุงู ุฅุญุฏุงุซูุงุช ุงูุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ.  ุชุฎุชูู ููู U ู V ูู ุตูุฑ ุฅูู ูุงุญุฏ.  ูุชููู ูู ุฑุฃุณ ุชูุณูู ุฅุญุฏุงุซู ููุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ ููุชู ุนุฑุถู ูู ุชุธููู ุงูุฑุฃุณ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/519/487/fee/519487fee2bb16357b225ce32649fb91.png"></div><br>  ุดุงุฏุฑ ุดุธูุฉ ูุญุตู ุนูู ุชูุณูู ุงูุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ ูุญุฑู.  ุงูุงุณุชููุงุก ูุนูู ุฃู ุชูุณูู ุงูุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ ููุฌุฒุก ููุน ูู ููุงู ูุง ุจูู ุฅุญุฏุงุซูุงุช ุงูุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ ูู ุงูููู ุงูุชู ุชุดูู ูุฌู ุงููุซูุซ. <br><br><h3 style=";text-align:right;direction:rtl">  ููุฑุชูุณ ุดุงุฏุฑ </h3><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 140 uniform mat4 p3d_ModelViewProjectionMatrix; in vec2 p3d_MultiTexCoord0; in vec4 p3d_Vertex; out vec2 texCoord; void main() { texCoord = p3d_MultiTexCoord0; gl_Position = p3d_ModelViewProjectionMatrix * p3d_Vertex; }</span></span></code> </pre> <br>  ููุง ูุฑู ุฃู ุชุธููู ููุฉ ุงูุฑุฃุณ ูุฎุฑุฌ ุฅุญุฏุงุซูุฉ ุงููููุณ ุฅูู ุชุธููู ุงููุทุนุฉ.  ูุงุญุธ ุฃู ูุฐุง ูู ูุงูู ุซูุงุฆู ุงูุฃุจุนุงุฏ: ูููุฉ ูุงุญุฏุฉ ูู U ููุงุญุฏ ูู V. <br><br><h3 style=";text-align:right;direction:rtl">  ุดุธูุฉ ุดุธูุฉ </h3><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 140 uniform sampler2D p3d_Texture0; in vec2 texCoord; out vec2 fragColor; void main() { texColor = texture(p3d_Texture0, texCoord); fragColor = texColor; }</span></span></code> </pre> <br>  ููุง ูุฑู ุฃู ุชุธููู ุงููุทุนุฉ ูุจุญุซ ุนู ุงูููู ูู ุฅุญุฏุงุซูุงุช ุงูุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ ููุนุฑุถู ุจููู ุงูุดุธูุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  ููุก ุงูุดุงุดุฉ ุงููููุณ </h4><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#version 140 uniform sampler2D screenSizedTexture; out vec2 fragColor; void main() { vec2 texSize = textureSize(texture, 0).xy; vec2 texCoord = gl_FragCoord.xy / texSize; texColor = texture(screenSizedTexture, texCoord); fragColor = texColor; }</span></span></code> </pre> <br>  ุนูุฏ ุงูุฑุฌูุน ุฅูู ูุณูุฌ ูุง ุ ุชููู ุงูุดุจูุฉ ุนุจุงุฑุฉ ุนู ูุณุชุทูู ูุณุทุญ ุจููุณ ูุณุจุฉ ุงูุนุฑุถ ุฅูู ุงูุงุฑุชูุงุน ูู ุงูุดุงุดุฉ.  ูุฐูู ุ ูููููุง ุญุณุงุจ ุฅุญุฏุงุซูุงุช ุงูุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ ุ ูุน ุงูุนูู ููุท <br><br>  ุฃ) ุนุฑุถ ูุงุฑุชูุงุน ุงููุณูุฌ ูุน ุญุฌู ุงูุดุงุดุฉ ุงููุชุฑุงูุจ ุนูู ุงููุณุชุทูู ุจุงุณุชุฎุฏุงู ุฅุญุฏุงุซูุงุช ุงูุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ ุ ู <br>  ุจ) ุฅุญุฏุงุซูุงุช ุณ ู ุต ููุดุธูุฉ. <br><br>  ูุฑุจุท x ุฅูู U ุ ุชุญุชุงุฌ ุฅูู ุชูุณูู x ุนูู ุนุฑุถ ุงููููุณ ุงููุงุฑุฏ.  ูุจุงููุซู ุ ูุฑุจุท y ุจู V ุ ุชุญุชุงุฌ ุฅูู ุชูุณูู y ุนูู ุงุฑุชูุงุน ุงููุณูุฌ ุงููุงุฑุฏ.  ุณุชุฑู ุฃู ูุฐู ุงูุชูููุฉ ุชุณุชุฎุฏู ูู ูููุฐุฌ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ. <br><br><h2 style=";text-align:right;direction:rtl">  ุฅุถุงุกุฉ </h2><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/f98/05e/0ca/f9805e0ca9717c961dd9618f49475381.gif"></div><br>  ูุชุญุฏูุฏ ุงูุฅุถุงุกุฉ ุ ูู ุงูุถุฑูุฑู ุญุณุงุจ ูุฏูุฌ ุฌูุงูุจ ุงูุฅุถุงุกุฉ ุงููุญูุทุฉ ูุงูููุชุดุฑุฉ ูุงูููุนูุณุฉ ูุงูููุจุนุซุฉ.  ุฑูุฒ ุนููุฉ ูุณุชุฎุฏู ุงูุฅุถุงุกุฉ ูููุฌ. <br><br><h3 style=";text-align:right;direction:rtl">  ููุฑุชูุณ ุดุงุฏุฑ </h3><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// ... uniform struct p3d_LightSourceParameters { vec4 color ; vec4 ambient ; vec4 diffuse ; vec4 specular ; vec4 position ; vec3 spotDirection ; float spotExponent ; float spotCutoff ; float spotCosCutoff ; float constantAttenuation ; float linearAttenuation ; float quadraticAttenuation ; vec3 attenuation ; sampler2DShadow shadowMap ; mat4 shadowViewMatrix ; } p3d_LightSource[NUMBER_OF_LIGHTS]; // ...</span></span></code> </pre><br>  ููู ูุตุฏุฑ ููุถูุก ุ ุจุงุณุชุซูุงุก ุงูุฅุถุงุกุฉ ุงููุญูุทุฉ ุ ูููุฑ ููุง Panda3D ูููููุง ููุงุณุจูุง ูุชุงุญูุง ูุชุธููู ูู ูู ุงูุฑุฃุณ ูุงูุธูุงู.  ุงูุดูุก ุงูุฃูุซุฑ ููุงุกูุฉ ูู ุฎุฑูุทุฉ ุงูุธู ููุตูููุฉ ูุนุฑุถ ุงูุธูุงู ูุชุญููู ุงูููู ุฅูู ูุณุงุญุฉ ูู ุงูุธูุงู ุฃู ุงูุฅุถุงุกุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... vertexPosition = p3d_ModelViewMatrix * p3d_Vertex; // ... for (int i = 0; i &lt; p3d_LightSource.length(); ++i) { vertexInShadowSpaces[i] = p3d_LightSource[i].shadowViewMatrix * vertexPosition; } // ...</span></span></code> </pre> <br>  ุจุฏุกูุง ูู ุชุธููู ููุฉ ุงูุฑุฃุณ ุ ูุฌุจ ุนูููุง ุชุญููู ููุฉ ุงูุฑุฃุณ ูุฅุฒุงูุชูุง ูู ูุณุงุญุฉ ุงููุดุงูุฏุฉ ุฅูู ุงูุธู ุฃู ูุณุงุญุฉ ุงูุฅุถุงุกุฉ ููู ูุตุฏุฑ ุฅุถุงุกุฉ ูู ุงููุดูุฏ.  ุณูููู ูุฐุง ูููุฏูุง ูู ุงููุณุชูุจู ูุชุธููู ุงูุดุธุงูุง ูุชูุฏูู ุงูุธูุงู.  ูุณุงุญุฉ ุงูุธู ุฃู ุงูุฅุถุงุกุฉ ูู ูุณุงุญุฉ ูููู ูููุง ูู ุฅุญุฏุงุซู ุฐุง ุตูุฉ ุจููุถุน ูุตุฏุฑ ุงูุถูุก (ุงูุฃุตู ูู ูุตุฏุฑ ุงูุถูุก). <br><br><h3 style=";text-align:right;direction:rtl">  ุดุธูุฉ ุดุธูุฉ </h3><br>  ูููู ุฌุฒุก ุงูุชุธููู ุจุงูุฌุฒุก ุงูุฃูุจุฑ ูู ุญุณุงุจ ุงูุฅุถุงุกุฉ. <br><br><h4 style=";text-align:right;direction:rtl">  ูุงุฏุฉ </h4><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// ... uniform struct { vec4 ambient ; vec4 diffuse ; vec4 emission ; vec3 specular ; float shininess ; } p3d_Material; // ...</span></span></code> </pre> <br>  ูุฒูุฏูุง Panda3D ุจููุงุฏ (ูู ุดูู ุจููุฉ) ููุดุจูุฉ ุฃู ุงููููุฐุฌ ุงูุฐู ููุฏูู ุญุงูููุง. <br><br><h4 style=";text-align:right;direction:rtl">  ูุตุงุฏุฑ ุงูุฅุถุงุกุฉ ุงููุชุนุฏุฏุฉ </h4><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... vec4 diffuseSpecular = vec4(0.0, 0.0, 0.0, 0.0); // ...</span></span></code> </pre> <br>  ูุจู ุฃู ูุชุฌูู ูู ูุตุงุฏุฑ ุฅุถุงุกุฉ ุงููุดูุฏ ุ ุณูููู ุจุฅูุดุงุก ูุญุฑู ุฃูุฑุงุต ูุญุชูู ุนูู ุฃููุงู ููุชุดุฑุฉ ูุนุงูุณุฉ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... for (int i = 0; i &lt; p3d_LightSource.length(); ++i) { // ... } // ...</span></span></code> </pre> <br>  ูููููุง ุงูุขู ุงูุงูุชูุงู ุนูู ูุตุงุฏุฑ ุงูุถูุก ูู ุฏูุฑุฉ ูุง ุ ุจุญุณุงุจ ุงูุฃููุงู ุงูููุชุดุฑุฉ ูุงูุฃููุงู ุงูููุนูุณุฉ ููู ูููุง. <br><br><h4 style=";text-align:right;direction:rtl">  ูุงููุงุช ุงูุฅุถุงุกุฉ ุฐุงุช ุงูุตูุฉ </h4><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/307/035/ce7/307035ce7bf5a52b8f25c7aeb862b9d4.gif"></div><br>  ูููุง ููู ุฃุฑุจุนุฉ ูุชุฌูุงุช ุฃุณุงุณูุฉ ูุทููุจุฉ ูุญุณุงุจ ุงูุฃููุงู ุงูููุนูุณุฉ ูุงูููุนูุณุฉ ุงูุชู ููุฏููุง ูู ูุตุฏุฑ ููุถูุก.  ูุงูู ุงุชุฌุงู ุงูุฅุถุงุกุฉ ุนุจุงุฑุฉ ุนู ุณูู ุฃุฒุฑู ูุดูุฑ ุฅูู ูุตุฏุฑ ุงูุถูุก.  ุงููุชุฌู ุงูุนุงุฏู ูู ุณูู ุฃุฎุถุฑ ูุดูุฑ ุนููุฏูุง ุฅูู ุงูุฃุนูู.  ูุชุฌู ุงูุงูุนูุงุณ ูู ุณูู ุฃุฒุฑู ูุนูุณ ูุชุฌู ุงุชุฌุงู ุงูุถูุก.  ุงูุนูู ุฃู ูุชุฌู ุงูุฑุคูุฉ ูู ุงูุณูู ุงูุจุฑุชูุงูู ุงูุฐู ูุดูุฑ ุฅูู ุงููุงููุฑุง. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... vec3 lightDirection = p3d_LightSource[i].position.xyz - vertexPosition.xyz * p3d_LightSource[i].position.w; // ...</span></span></code> </pre> <br>  ุงุชุฌุงู ุงูุฅุถุงุกุฉ ูู ุงููุชุฌู ูู ููุถุน ุงูุฑุฃุณ ุฅูู ููุถุน ูุตุฏุฑ ุงูุถูุก. <br><br>  ุฅุฐุง ูุงูุช ูุฐู ูู ุงูุฅุถุงุกุฉ ุงูุงุชุฌุงููุฉ ุ ูุฅู Panda3D ูุนูู <code>p3d_LightSource[i].position.w</code> ุงูุตูุฑ.  ุงูุฅุถุงุกุฉ ุงูุงุชุฌุงููุฉ ูุง ููุฌุฏ ูุฏูู ูููู ุ ููุท ุงูุงุชุฌุงู.  ูุฐูู ุ ุฅุฐุง ูุงูุช ูุฐู ูู ุงูุฅุถุงุกุฉ ุงูุงุชุฌุงููุฉ ุ ูุฅู ุงุชุฌุงู ุงูุฅุถุงุกุฉ ุณูููู ุงุชุฌุงููุง ุณูุจููุง ุฃู ูุนุงูุณูุง ูููุตุฏุฑ ุ ูุฃูู ุจุงููุณุจุฉ ููุฅุถุงุกุฉ ุงูุงุชุฌุงููุฉ ูุญุฏุฏ <code>p3d_LightSource[i].position.xyz</code> ุฅูู <code>-direction</code> . <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... normal = normalize(vertexNormal); // ...</span></span></code> </pre> <br>  ูุฌุจ ุฃู ูููู ุงููุถุน ุงูุทุจูุนู ูู ุงูุฑุฃุณ ูุชุฌููุง ูููุญุฏุฉ.  ูุชุฌูุงุช ุงููุญุฏุฉ ููุง ูููุฉ ุชุณุงูู ูุงุญุฏ. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... vec3 unitLightDirection = normalize(lightDirection); vec3 eyeDirection = normalize(-vertexPosition.xyz); vec3 reflectedDirection = normalize(-reflect(unitLightDirection, normal)); // ...</span></span></code> </pre> <br>  ุจุนุฏ ุฐูู ุ ูุญู ุจุญุงุฌุฉ ุฅูู ุซูุงุซุฉ ูุงููุงุช ุฃุฎุฑู. <br><br>  ูุญุชุงุฌ ุฅูู ููุชุฌ ุนุฏุฏู ุจูุดุงุฑูุฉ ุงุชุฌุงู ุงูุฅุถุงุกุฉ ุ ูุฐูู ูู ุงูุฃูุถู ุชุทุจูุนู.  ูุฐุง ูุนุทููุง ูุณุงูุฉ ุฃู ุญุฌู ูุณุงูู ูููุญุฏุฉ (ูุญุฏุฉ ุงูููุฌู). <br><br>  ูููู ุงุชุฌุงู ุงูุนุฑุถ ูุนุงูุณูุง ูููุถุน ุงูุฑุฃุณ / ุงูุฌุฒุก ุ ูุฃู ููุถุน ุงูุฑุฃุณ / ุงูุฌุฒุก ุฌุฒุก ูู ููุถุน ุงููุงููุฑุง.  ูุง ุชูุณู ุฃู ููุถุน ููุฉ ุงูุฑุฃุณ / ุงูุฌุฒุก ูู ูู ูุณุงุญุฉ ุงููุดุงูุฏุฉ.  ูุฐูู ุ ุจุฏูุงู ูู ุงูุงูุชูุงู ูู ุงููุงููุฑุง (ุงูุนูู) ุฅูู ุงูุฑุฃุณ / ุงูุฌุฒุก ุ ููุชูู ูู ุงูุฑุฃุณ / ุงูุฌุฒุก ุฅูู ุงููุงููุฑุง (ุงูุนูู). <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ูุชุฌู ุงูุงูุนูุงุณ</a> ูู ุงูุนูุงุณ ูุงุชุฌุงู ุงูุฅุถุงุกุฉ ุงูุทุจูุนู ุนูู ุงูุณุทุญ.  ุนูุฏูุง ูููุณ "ุดุนุงุน" ุงูุถูุก ุงูุณุทุญ ุ ููุนูุณ ูู ููุณ ุงูุฒุงููุฉ ุงูุชู ุณูุท ูููุง.  ุชุณูู ุงูุฒุงููุฉ ุจูู ูุชุฌู ุงูุงุชุฌุงู ููุฅุถุงุกุฉ ูุงูุฒุงููุฉ "ุฒุงููุฉ ุงูุณููุท".  ุชุณูู ุงูุฒุงููุฉ ุจูู ูุชุฌู ุงูุงูุนูุงุณ ูุงูุนุงุฏู "ุฒุงููุฉ ุงูุงูุนูุงุณ". <br><br>  ุชุญุชุงุฌ ุฅูู ุชุบููุฑ ุนูุงูุฉ ูุชุฌู ุงูุถูุก ุงูููุนูุณ ุ ูุฃูู ูุฌุจ ุฃู ูุดูุฑ ูู ููุณ ุงุชุฌุงู ูุชุฌู ุงูุนูู.  ูุง ุชูุณ ุฃู ุงุชุฌุงู ุงูุนูู ููุชูู ูู ุงูุฌุฒุก ุงูุนููู / ุงูุฌุฒุก ุฅูู ููุถุน ุงููุงููุฑุง.  ุณูู ูุณุชุฎุฏู ูุชุฌู ุงูุงูุนูุงุณ ูุญุณุงุจ ุณุทูุน ุงูุถูุก ุงูููุนูุณ. <br><br><h4 style=";text-align:right;direction:rtl">  ููุชุดุฑ ุงูุฅุถุงุกุฉ </h4><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... float diffuseIntensity = max(dot(normal, unitLightDirection), 0.0); if (diffuseIntensity &gt; 0) { // ... } // ...</span></span></code> </pre> <br>  ุณุทูุน ุงูุฅุถุงุกุฉ ุงูููุชุดุฑุฉ ูู ูุชุงุฌ ุงูุนุฏุฏูุฉ ูู ุงูุทุจูุนู ุฅูู ุงูุณุทุญ ูุงุชุฌุงู ุงูุฅุถุงุกุฉ ูู ูุงูู ูุงุญุฏ.  ูููู ููููุชุฌ ุงูููุงุณู ุฃู ูุชุฑุงูุญ ูู ูุงูุต ูุงุญุฏ ุฅูู ูุงุญุฏ.  ุฅุฐุง ุฃุดุงุฑ ููุง ุงูุงุชุฌุงููู ูู ููุณ ุงูุงุชุฌุงู ุ ูุฅู ุงูุณุทูุน ูู ุงููุญุฏุฉ.  ูู ุฌููุน ุงูุญุงูุงุช ุงูุฃุฎุฑู ุ ุณูููู ุฃูู ูู ุงููุญุฏุฉ. <br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/168/5bc/5e7/1685bc5e759e638b5c2bcc4a6c56bbd3.gif"></div><br>  ุฅุฐุง ุงูุชุฑุจ ูุชุฌู ุงูุฅุถุงุกุฉ ูู ููุณ ุงูุงุชุฌุงู ูุงููุนุชุงุฏ ุ ุนูุฏุฆุฐ ูููู ุณุทูุน ุงูุฅุถุงุกุฉ ุงูููุชุดุฑุฉ ุฅูู ุงููุญุฏุฉ. <br><br>  ุฅุฐุง ูุงู ุณุทูุน ุงูุฅุถุงุกุฉ ุงูููุชุดุฑุฉ ุฃูู ูู ุฃู ูุณุงูู ุงูุตูุฑ ุ ูุฃูุช ุจุญุงุฌุฉ ุฅูู ุงูุงูุชูุงู ุฅูู ูุตุฏุฑ ุงูุฅุถุงุกุฉ ุงูุชุงูู. <br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... vec4 diffuse = vec4 ( clamp ( diffuseTex.rgb * p3d_LightSource[i].diffuse.rgb * diffuseIntensity , 0 , 1 ) , 1 ); diffuse.r = clamp(diffuse.r, 0, diffuseTex.r); diffuse.g = clamp(diffuse.g, 0, diffuseTex.g); diffuse.b = clamp(diffuse.b, 0, diffuseTex.b); // ...</span></span></code> </pre> <br>  ุงูุขู ูููููุง ุญุณุงุจ ุงูููู ุงูููุชุดุฑ ุงูุฐู ููุฏูู ูุฐุง ุงููุตุฏุฑ.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฅุฐุง ูุงู ุณุทูุน ุงูุฅุถุงุกุฉ ุงูููุชุดุฑุฉ ูุณุงูู ุงููุญุฏุฉ ุ ูุณูููู ุงูููู ุงูููุชุดุฑ ูุฒูุฌูุง ูู ููู ุงููุณูุฌ ุงูููุชุดุฑ ูููู ุงูุฅุถุงุกุฉ. </font><font style="vertical-align: inherit;">ูู ุฃู ุณุทูุน ุขุฎุฑ ุ ุณูููู ุงูููู ุงูููุชุดุฑ ุฃุบูู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุญุธ ุฃููู ุฃูุตุฑ ุงูููู ุงูููุชุดุฑ ุจุญูุซ ูุง ูููู ุฃูุซุฑ ุฅุดุฑุงููุง ูู ููู ุงููุณูุฌ ุงูููุชุดุฑ. </font><font style="vertical-align: inherit;">ูุฐุง ุณูููุน ุงูุชุนุฑุถ ุงูููุฑุท ูููุดูุฏ.</font></font><br><br><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุถูุก ุงูููุนูุณ </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุนุฏ ุงูุฅุถุงุกุฉ ุงูููุชุดุฑุฉ ุ ูุชู ุญุณุงุจ ุงูุงูุนูุงุณ. </font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/989/ade/77c/989ade77c01b7137f437f97fe83ccd17.gif"></div><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... vec4 specular = clamp ( vec4(p3d_Material.specular, 1) * p3d_LightSource[i].specular * pow ( max(dot(reflectedDirection, eyeDirection), 0) , p3d_Material.shininess ) , 0 , 1 ); // ...</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุณุทูุน ุงูุถูุก ุงูููุนูุณ ูู ุงูููุชุฌ ุงูููุงุณู ุจูู ูุชุฌู ุงูุนูู ููุชุฌู ุงูุงูุนูุงุณ. </font><font style="vertical-align: inherit;">ููุง ูู ุญุงูุฉ ุณุทูุน ุงูุฅุถุงุกุฉ ุงูููุชุดุฑุฉ ุ ุฅุฐุง ูุงู ูุชุฌูุงู ูุดูุฑุงู ูู ููุณ ุงูุงุชุฌุงู ุ ูุฅู ุฏุฑุฌุฉ ุณุทูุน ุงูุฅุถุงุกุฉ ุงูููุนูุณุฉ ุชุณุงูู ุงููุญุฏุฉ. </font><font style="vertical-align: inherit;">ุฃู ุณุทูุน ุขุฎุฑ ุณูู ูููู ูู ูููุฉ ุงูุฃููุงู ุงูููุนูุณุฉ ุงูุชู ููุฏููุง ูุตุฏุฑ ุงูุถูุก ูุฐุง.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/c2e/046/570/c2e046570e770e1804544d6ae67ae2f8.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุฏุฏ ุจุฑูู ุงููุงุฏุฉ ููุฏุงุฑ ุงูุชุดุงุฑ ุงูุฅุถุงุกุฉ ุงูููุนูุณุฉ. </font><font style="vertical-align: inherit;">ุนุงุฏุฉ ูุง ูุชู ุถุจุทู ูู ุจุฑูุงูุฌ ูุญุงูุงุฉ ุ ุนูู ุณุจูู ุงููุซุงู ูู Blender. </font><font style="vertical-align: inherit;">ูู Blender ุ ูุทูู ุนููู ุตูุงุจุฉ ุจุฑุงู.</font></font><br><br><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูุฃุถูุงุก </font></font></h4><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... float unitLightDirectionDelta = dot ( normalize(p3d_LightSource[i].spotDirection) , -unitLightDirection ); if (unitLightDirectionDelta &gt;= p3d_LightSource[i].spotCosCutoff) { // ... } // ... }</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฐุง ุงูุฑูุฒ ูุง ูุณูุญ ููุฅุถุงุกุฉ ุจุงูุชุฃุซูุฑ ุนูู ุงูุฃุฌุฒุงุก ุงูููุฌูุฏุฉ ุฎุงุฑุฌ ูุฎุฑูุท ุงูุฃุถูุงุก ุฃู ุงููุฑู. </font><font style="vertical-align: inherit;">ูุญุณู ุงูุญุธุ ูููู Panda3D </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุชุญุฏูุฏ</font></font></a> <code>spotDirection</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ู </font></font><code>spotCosCutoff</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุนูู ูุน ุฃุถูุงุก ุงูุงุชุฌุงู ูุงูููุงู. </font><font style="vertical-align: inherit;">ุงูุฃุถูุงุก ูุฏููุง ูู ูููู ูุงุชุฌุงู. </font><font style="vertical-align: inherit;">ููุน ุฐูู ุ ูุฅู ุงูุฅุถุงุกุฉ ุงูุงุชุฌุงููุฉ ููุง ุงุชุฌุงู ููุท ุ ููุตุงุฏุฑ ุงูููุงุท ููุง ููุถุน ููุท. </font><font style="vertical-align: inherit;">ููุน ุฐูู ุ ูุนูู ูุฐุง ุงูุฑูุฒ ูุฌููุน ุฃููุงุน ุงูุฅุถุงุกุฉ ุงูุซูุงุซุฉ ุฏูู ุงูุญุงุฌุฉ ุฅูู ุงูุฎูุท ุฅุฐุง ุงูุนุจุงุฑุงุช.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">spotCosCutoff = cosine(<span class="hljs-number"><span class="hljs-number">0.5</span></span> * spotlightLensFovAngle);</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุญุงูุฉ ุฅุถุงุกุฉ ุงูุฅุณูุงุท ุ ูุฅู ุงููุงุชุฌ ุงูุนุฏุฏู ุงูุฎุงุต ุจู "ุฌุฒุก ูุตุฏุฑ ุงูุฅุถุงุกุฉ" ุงูุฎุงุต ุจุงููุงูู ููููู ูุงูู ุงูุงุชุฌุงู ูุฌูุงุฒ ุงูุฅุณูุงุท ุฃูู ูู ุฌูุจ ุชูุงู ูุตู ุฒุงููุฉ ูุฌุงู ุฑุคูุฉ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฌูุงุฒ ุงูุฅุณูุงุท ุ ููุง ูุฃุฎุฐ ุงูุชุธููู ูู ุงูุงุนุชุจุงุฑ ุชุฃุซูุฑ ูุฐุง ุงููุตุฏุฑ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุญุธ ุฃูู ูุฌุจ ุนููู ุชุบููุฑ ุนูุงูุฉ </font></font><code>unitLightDirection</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><code>unitLightDirection</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุชูู ูู ุงูุฌุฒุก ุฅูู ุงููุดุงู ุ ููุญู ุจุญุงุฌุฉ ุฅูู ุงูุงูุชูุงู ูู ุงููุดุงู ุฅูู ุงููุณุฑ ุ ูุฃูู </font></font><code>spotDirection</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุชูู ูุจุงุดุฑุฉ ุฅูู ูุฑูุฒ ูุฑู ุงููุดุงู ุนูู ูุณุงูุฉ ูุนููุฉ ูู ููุถุน ุงููุดุงู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุญุงูุฉ ุงูุฅุถุงุกุฉ ุงูุงุชุฌุงููุฉ ูุงูุฅุถุงุกุฉ ุงูููุถุนูุฉ ุ ูููู Panda3D ุจุชุนููู </font></font><code>spotCosCutoff</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููููุฉ ุฅูู -1. ุชุฐูุฑ ุฃู ุงูููุชุฌ ุงูููุงุณู ูุฎุชูู ูู ุงููุทุงู ูู -1 ุฅูู 1. ูุฐูู ุ ูุง ููู ูุง ุณูููู ุนููู </font></font><code>unitLightDirectionDelta</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุฃูู ุฏุงุฆููุง ุฃูุจุฑ ูู ุฃู ูุณุงูู -1.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... diffuse *= pow(unitLightDirectionDelta, p3d_LightSource[i].spotExponent); // ...</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุซู ุงูุฑูุฒ </font></font><code>unitLightDirectionDelta</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุนูู ูุฐุง ุงูุฑูุฒ ุฃูุถูุง ูุน ุฌููุน ุฃููุงุน ูุตุงุฏุฑ ุงูุฅุถุงุกุฉ ุงูุซูุงุซุฉ. </font><font style="vertical-align: inherit;">ูู ุญุงูุฉ ุงูุฃุถูุงุก ุ ูุฅูู ุณูุฌุนู ุงูุดุธุงูุง ุฃูุซุฑ ุฅุดุฑุงููุง ูุน ุงูุชุฑุงุจู ูู ูุฑูุฒ ูุฑู ุงูุฃุถูุงุก. </font><font style="vertical-align: inherit;">ููุตุงุฏุฑ ุงูุงุชุฌุงู ูููุทุฉ ุงูุถูุก </font></font><code>spotExponent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูู ุตูุฑ. </font><font style="vertical-align: inherit;">ุชุฐูุฑ ุฃู ุฃู ูููุฉ ูููุฉ ุงูุตูุฑ ุชุณุงูู ุงููุญุฏุฉ ุ ูุจุงูุชุงูู ูุฅู ุงูููู ุงูููุชุดุฑ ูุณุงูู ููุณู ุ ูุถุฑูุจูุง ุจูุงุญุฏ ุ ุฃู ุฃูู ูุง ูุชุบูุฑ.</font></font><br><br><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุดุจุญ </font></font></h4><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... float shadow = textureProj ( p3d_LightSource[i].shadowMap , vertexInShadowSpaces[i] ); diffuse.rgb *= shadow; specular.rgb *= shadow; // ...</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนูู Panda3D ุนูู ุชุจุณูุท ุงุณุชุฎุฏุงู ุงูุธูุงู ูุฃูู ููุดุฆ ุฎุฑูุทุฉ ุงูุธู ููุตูููุฉ ุชุญููู ุงูุธู ููู ูุตุฏุฑ ุถูุก ูู ุงููุดูุฏ. ูุฅูุดุงุก ูุตูููุฉ ุชุญููู ุจููุณู ุ ุชุญุชุงุฌ ุฅูู ุฌูุน ูุตูููุฉ ุชุญูู ุฅุญุฏุงุซูุงุช ูุณุงุญุฉ ุงูุนุฑุถ ุฅูู ูุณุงุญุฉ ุงูุฅุถุงุกุฉ (ุงูุฅุญุฏุงุซูุงุช ูุณุจุฉ ุฅูู ููุถุน ูุตุฏุฑ ุงูุถูุก). ูุฅูุดุงุก ุฎุฑูุทุฉ ุงูุธู ุจููุณู ุ ุชุญุชุงุฌ ุฅูู ุชุญููู ุงููุดูุฏ ูู ูุฌูุฉ ูุธุฑ ูุตุฏุฑ ุงูุถูุก ุฅูู ูุณูุฌ ุงูุฅุทุงุฑ ุงููุคูุช ููุฅุทุงุฑ. ูุฌุจ ุฃู ูุญุชูู ูุณูุฌ ุงูุฅุทุงุฑ ุงููุคูุช ุนูู ุงููุณุงูุฉ ูู ูุตุฏุฑ ุงูุถูุก ุฅูู ุงูุฃุฌุฒุงุก. ููุฐุง ูุง ูุณูู "ุฎุฑูุทุฉ ุงูุนูู". ุฃุฎูุฑูุง ุ ุชุญุชุงุฌ ุฅูู ููู ุงูุฎุฑูุทุฉ ุงูุนูู ูุญููุฉ ุงูุตูุน ุฅูู ุงูุชุธููู ูุฏูููุง </font></font><code>uniform sampler2DShadow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุตูููุฉ ุชุญููู ุงูุธู ูู </font></font><code>uniform mat4</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ูุฐูู ุณูููู ุจุฅุนุงุฏุฉ ุฅูุดุงุก ูุง ููุนูู Panda3D ุชููุงุฆููุง ุจุงููุณุจุฉ ููุง.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชู ุงุณุชุฎุฏุงู ููุชุทู ุงูุดูุฑุฉ ุงูููุถุญ </font></font><code>textureProj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ ูุงูุฐู ูุฎุชูู ุนู ุงููุธููุฉ ุงูููุถุญุฉ ุฃุนูุงู </font></font><code>texture</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><code>textureProj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุงููุณุงูุงุช ุงูุฃููู </font></font><code>vertexInShadowSpaces[i].xyz</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนูู </font></font><code>vertexInShadowSpaces[i].w</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุซู ุชุณุชุฎุฏูู </font></font><code>vertexInShadowSpaces[i].xy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุนุซูุฑ ุนูู ุงูุนูู ุงููุฎุฒู ูู ุฎุฑูุทุฉ ุงูุธู. ุซู ุชุณุชุฎุฏู </font></font><code>vertexInShadowSpaces[i].z</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููุงุฑูุฉ ุนูู ุงูุฌุฒุก ุงูุนููู ุจุนูู ุฎุฑูุทุฉ ุงูุธู ููู </font></font><code>vertexInShadowSpaces[i].xy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. ุฅุฐุง ูุฌุญุช ุงูููุงุฑูุฉ ุ </font></font><code>textureProj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชูุฑุฌุน ูุงุญุฏุฉ. ุฎูุงู ุฐูู ุ ูุฅูู ูุนูุฏ ุตูุฑ. ุงูุตูุฑ ูุนูู ุฃู ูุฐู ุงูููุฉ / ุงูุดุธูุฉ ูู ุงูุธู ุ ูุฃุฎุฑู ุชุนูู ุฃู ุงูููุฉ / ุงูุดุธูุฉ ููุณุช ูู ุงูุธู. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุญุธ </font></font><code>textureProj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃูู ูููู ุฃูุถูุง ุฅุฑุฌุงุน ูููุฉ ูู ุตูุฑ ุฅูู ูุงุญุฏ ุ ุงุนุชูุงุฏูุง ุนูู ููููุฉ ุชูููู ุฎุฑูุทุฉ ุงูุธู. ูู ูุฐุง ุงููุซุงู</font></font><code>textureProj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุจุฅุฌุฑุงุก ุงุฎุชุจุงุฑุงุช ุนูู ูุชุนุฏุฏุฉ ุงุณุชูุงุฏูุง ุฅูู ุงูุฃุนูุงู ุงููุฌุงูุฑุฉ ููุนูุฏ ุจูุนุฏู ูุฑุฌุญ. </font><font style="vertical-align: inherit;">ูุฐุง ุงููุชูุณุท โโุงููุฑุฌุญ ูููู ุฃู ูุนุทู ูุนููุฉ ุงูุธูุงู.</font></font><br><br><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุฎููู </font></font></h4><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/381/e8d/bfb/381e8dbfb118dac85b139d0c1ec41bad.png"></div><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... float lightDistance = length(lightDirection); float attenuation = 1 / ( p3d_LightSource[i].constantAttenuation + p3d_LightSource[i].linearAttenuation * lightDistance + p3d_LightSource[i].quadraticAttenuation * (lightDistance * lightDistance) ); diffuse.rgb *= attenuation; specular.rgb *= attenuation; // ...</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุณุงูุฉ ุฅูู ูุตุฏุฑ ุงูุถูุก ูู ุจุจุณุงุทุฉ ุญุฌู ุฃู ุทูู ูุชุฌู ุงุชุฌุงู ุงูุฅุถุงุกุฉ. </font><font style="vertical-align: inherit;">ูุงุญุธ ุฃููุง ูุง ูุณุชุฎุฏู ุงูุงุชุฌุงู ุงูุทุจูุนู ููุฅุถุงุกุฉ ุ ูุฃู ูุฐู ุงููุณุงูุฉ ุณุชููู ูุณุงููุฉ ูููุญุฏุฉ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุณุงูุฉ ุฅูู ูุตุฏุฑ ุงูุถูุก ุถุฑูุฑูุฉ ูุญุณุงุจ ุงูุชูููู. </font><font style="vertical-align: inherit;">ุงูุชูููู ูุนูู ุฃู ุชุฃุซูุฑ ุงูุถูุก ุจุนูุฏุง ุนู ุงููุตุฏุฑ ูุชูุงูุต. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงููุนููุงุช </font></font><code>constantAttenuation</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ </font></font><code>linearAttenuation</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>quadraticAttenuation</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููู ุชุญุฏูุฏ ุฃู ูููุฉ. </font><font style="vertical-align: inherit;">ุงูุฃูุฑ ูุณุชุญู ุฃู ุชุจุฏุฃ </font></font><code>constantAttenuation = 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุ </font></font><code>linearAttenuation = 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ู </font></font><code>quadraticAttenuation = 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">ูุน ูุฐู ุงููุนููุงุช ุ ูู ูููุน ูุตุฏุฑ ุงูุถูุก ุ ุชููู ูุณุงููุฉ ูููุญุฏุฉ ูุชููู ุฅูู ุงูุตูุฑ ุนูุฏ ุงูุงุจุชุนุงุฏ ุนููุง.</font></font><br><br><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅุถุงุกุฉ ุงูููู ุงูููุงุฆู </font></font></h4><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... diffuseSpecular += (diffuse + specular); // ...</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญุณุงุจ ุงูููู ุงูููุงุฆู ููุฅุถุงุกุฉ ุ ุชุญุชุงุฌ ุฅูู ุฅุถุงูุฉ ุงูููู ุงูููุชุดุฑ ูุงูุงูุนูุงุณ. </font><font style="vertical-align: inherit;">ูู ุงูุถุฑูุฑู ุฅุถุงูุฉ ูุฐุง ุฅูู ูุญุฑู ุงูุฃูุฑุงุต ูู ุฏูุฑุฉ ุชุฌุงูุฒ ูุตุงุฏุฑ ุงูุถูุก ูู ุงููุดูุฏ.</font></font><br><br><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงููุญูุทุฉ </font></font></h4><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// ... uniform sampler2D p3d_Texture1; // ... uniform struct { vec4 ambient ; } p3d_LightModel; // ... in vec2 diffuseCoord; // ... vec4 diffuseTex = texture(p3d_Texture1, diffuseCoord); // ... vec4 ambient = p3d_Material.ambient * p3d_LightModel.ambient * diffuseTex; // ...</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุนุชูุฏ ูููู ุงูุฅุถุงุกุฉ ุงููุญูุทุฉ ูู ูููุฐุฌ ุงูุฅุถุงุกุฉ ุนูู ุงูููู ุงููุญูุท ูููุงุฏุฉ ูููู ุงูุฅุถุงุกุฉ ุงููุญูุทุฉ ูููู ุงููุณูุฌ ุงูููุชุดุฑ. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ููุจุบู ุฃู ูููู ููุงู ุฃูุซุฑ ูู ูุตุฏุฑ ุฅุถุงุกุฉ ูุญูุท ุ ูุฐูู ูุฌุจ ุฅุฌุฑุงุก ูุฐุง ุงูุญุณุงุจ ูุฑุฉ ูุงุญุฏุฉ ููุท ุ ุนูู ุนูุณ ุญุณุงุจุงุช ุงูุฃููุงู ุงูููุชุดุฑุฉ ูุงูุฃููุงู ุงูููุนูุณุฉ ุงููุชุฑุงููุฉ ููู ูุตุฏุฑ ููุถูุก. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุฑุฌู ููุงุญุธุฉ ุฃู ููู ุงูุฅุถุงุกุฉ ุงููุญูุทุฉ ูููู ูููุฏูุง ุนูุฏ ุฅุฌุฑุงุก SSAO.</font></font><br><br><h4 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุถุน ูู ุฐูู ูุนุง </font></font></h4><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... vec4 outputColor = ambient + diffuseSpecular + p3d_Material.emission; // ...</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุงูููู ุงูููุงุฆู ูู ูุฌููุน ุงูููู ุงููุญูุท ุ ุงูููู ุงูููุชุดุฑ ุ ุงูููู ุงูููุนูุณ ุ ูุงูููู ุงูููุจุนุซ. </font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุดูุฑุฉ ุงููุตุฏุฑ </font></font></h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main.cxx</font></font></a> </li><li style=";text-align:right;direction:rtl"> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">base.vert</font></font></a> </li><li style=";text-align:right;direction:rtl"> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">base.frag</font></font></a> </li></ul><br><h2 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฎุฑุงุฆุท ุทุจูุนูุฉ </font></font></h2><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/6d1/6bb/9de/6d16bb9deae1520429083896b7492a3f.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุชูุญ ูู ุงุณุชุฎุฏุงู ุงูุฎุฑุงุฆุท ุงูุนุงุฏูุฉ ุฅุถุงูุฉ ุฃุฌุฒุงุก ุฌุฏูุฏุฉ ุฅูู ุงูุณุทุญ ุฏูู ููุฏุณุฉ ุฅุถุงููุฉ. </font><font style="vertical-align: inherit;">ุนุงุฏุฉ ุ ุนูุฏ ุงูุนูู ูู ุจุฑูุงูุฌ ุงูููุฐุฌุฉ ุซูุงุซูุฉ ุงูุฃุจุนุงุฏ ุ ูุชู ุฅูุดุงุก ุฅุตุฏุงุฑุงุช ุจููู ุนุงููุฉ ูููุฎูุถุฉ ููุดุจูุฉ. </font><font style="vertical-align: inherit;">ุซู ุชุคุฎุฐ ูู ุงูุฃุณุงุณูุงุช ูู ุงูููู ูู ุดุจูุฉ ุจููู ุนุงููุฉ ููุฎุจุฒ ูู ุงููููุณ. </font><font style="vertical-align: inherit;">ูุฐุง ุงููููุณ ูู ุฎุฑูุทุฉ ุทุจูุนูุฉ. </font><font style="vertical-align: inherit;">ุซู ุฏุงุฎู ุดุธุงูุง ุงูุดุธุงูุง ุ ูุณุชุจุฏู ุงูุนูุงุตุฑ ุงูุทุจูุนูุฉ ูุฑุคูุณ ุดุจูุฉ ุจููู ููุฎูุถุฉ ุจุนูุงุตุฑ ุดุจูุฉ ุจููู ุนุงููุฉ ูุฎุจูุฒ ูู ุงูุฎุฑูุทุฉ ุงูุนุงุฏูุฉ. </font><font style="vertical-align: inherit;">ูุชูุฌุฉ ููุฐุง ุ ุนูุฏ ุฅุถุงุกุฉ ุดุจูุฉ ุ ูุจุฏู ุฃู ูุฏููุง ูุถูุนุงุช ุฃูุซุฑ ููุง ูู ุนููู ุจุงููุนู. </font><font style="vertical-align: inherit;">ูุฐุง ูุณูุญ ูู ุจุงูุญูุงุธ ุนูู FPS ุนุงููุฉ ุ ุฃุซูุงุก ููู ูุนุธู ุงูุชูุงุตูู ูู ุงูุฅุตุฏุงุฑ ุนุงูู ุงููุซุงูุฉ.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/8e1/92b/4ae/8e192b4ae48d96a65b92456ba640c7d0.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุง ูุฑู ุงูุงูุชูุงู ูู ูููุฐุฌ ุจููู ุนุงูู ุฅูู ูููุฐุฌ ุจููู ููุฎูุถ ุ ููู ุซู ุฅูู ูููุฐุฌ ุจููู ููุฎูุถ ูุน ุฎุฑูุทุฉ ุนุงุฏูุฉ ูุชุฑุงูุจุฉ. </font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/987/20d/ee1/98720dee1f77246721e1905abf2ebea4.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุน ุฐูู ุ ูุง ุชูุณ ุฃู ุชุฑุงูุจ ุงูุฎุฑูุทุฉ ุงูุนุงุฏูุฉ ูู ูุฌุฑุฏ ููู. </font><font style="vertical-align: inherit;">ูู ุฒุงููุฉ ูุนููุฉ ุ ูุจุฏุฃ ุงูุณุทุญ ูู ุฃู ูุจุฏู ูุณุทุญูุง ูุฑุฉ ุฃุฎุฑู.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุฑุชูุณ ุดุงุฏุฑ </font></font></h3><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// ... uniform mat3 p3d_NormalMatrix; // ... in vec3 p3d_Normal; // ... in vec3 p3d_Binormal; in vec3 p3d_Tangent; // ... vertexNormal = normalize(p3d_NormalMatrix * p3d_Normal); binormal = normalize(p3d_NormalMatrix * p3d_Binormal); tangent = normalize(p3d_NormalMatrix * p3d_Tangent); // ...</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุฏุงูุฉู ูู ุชุธููู ููุฉ ุงูุฑุฃุณ ุ ูุญุชุงุฌ ุฅูู ุฅุฎุฑุงุฌ ุงููุชุฌู ุงูุนุงุฏู ุ ุงูููุฌู ุฐู ุงูุญุฏูู ุ ููุงูู ุงูููุงุณ ุฅูู ุชุธููู ุงูุดุธูุฉ. </font><font style="vertical-align: inherit;">ูุชู ุงุณุชุฎุฏุงู ูุฐู ุงููุชุฌูุงุช ูู ุชุธููู ุงูุฃุฌุฒุงุก ูุชุญููู ุงูุตูุฑุฉ ุงูุทุจูุนูุฉ ููุฎุฑูุทุฉ ุงูุนุงุฏูุฉ ูู ูุณุงุญุฉ ุงูุธู ุฅูู ูุณุงุญุฉ ุงููุดุงูุฏุฉ. </font></font><br><br> <code>p3d_NormalMatrix</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุญูู ุงููุชุฌูุงุช ุงูุทุจูุนูุฉ ูููุงููุงุช ุงูุฑุฃุณูุฉ ูุงููุงููุฉ ูุงูุดูููุฉ ุฅูู ูุณุงุญุฉ ุงููุดุงูุฏุฉ. </font><font style="vertical-align: inherit;">ูุง ุชูุณู ุฃู ุฌููุน ุงูุฅุญุฏุงุซูุงุช ูู ูุณุงุญุฉ ุงูุนุฑุถ ูุชุนููุฉ ุจููุถุน ุงููุงููุฑุง.</font></font><br><br><blockquote style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[p3d_NormalMatrix] ูู ุฃูู ุนูุงุตุฑ ุงูุชุจุฏูู ุงูุนูุณู 3x3 ูู ModelViewMatrix. </font><font style="vertical-align: inherit;">ุชุณุชุฎุฏู ูุฐู ุงูุจููุฉ ูุชุญููู ุงููุชุฌู ุงูุนุงุฏู ุฅูู ุฅุญุฏุงุซูุงุช ูุณุงุญุฉ ุงููุดุงูุฏุฉ.</font></font><br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=" rel="nofollow">ูุตุฏุฑ</a> </blockquote><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// ... in vec2 p3d_MultiTexCoord0; // ... out vec2 normalCoord; // ... normalCoord = p3d_MultiTexCoord0; // ...</span></span></code> </pre> <br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/b40/f21/575/b40f21575482aa633de61643a1c497aa.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ูุญุชุงุฌ ุฃูุถูุง ุฅูู ุฅุฎุฑุงุฌ ุฅุญุฏุงุซูุงุช ุงูุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ ููุฎุฑูุทุฉ ุงูุนุงุฏูุฉ ุฅูู ุชุธููู ุงููุทุนุฉ. </font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุดุธูุฉ ุดุธูุฉ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุฐูุฑ ุฃู ููุฉ ุงูุฑุฃุณ ุงูุนุงุฏูุฉ ูุงูุช ุชุณุชุฎุฏู ูุญุณุงุจ ุงูุฅุถุงุกุฉ. </font><font style="vertical-align: inherit;">ููุน ุฐูู ุ ูุญุณุงุจ ุงูุฅุถุงุกุฉ ุ ุงูุฎุฑูุทุฉ ุงูุนุงุฏูุฉ ุชุนุทููุง ุงูุญุงูุงุช ุงูุทุจูุนูุฉ ุงูุฃุฎุฑู. </font><font style="vertical-align: inherit;">ูู ุงูุชุธููู ุงูุฌุฒุฆู ุ ูุญุชุงุฌ ุฅูู ุงุณุชุจุฏุงู ุงูููุงุนุฏ ุงูุทุจูุนูุฉ ููููู ุจุงููุณุชููุงุช ุงูุทุจูุนูุฉ ุงูููุฌูุฏุฉ ูู ุงูุฎุฑูุทุฉ ุงูุนุงุฏูุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">// ... uniform sampler2D p3d_Texture0; // ... in vec2 normalCoord; // ... /* Find */ vec4 normalTex = texture(p3d_Texture0, normalCoord); // ...</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุจุงุณุชุฎุฏุงู ุฅุญุฏุงุซูุงุช ุงูุฎุฑูุทุฉ ุงูุนุงุฏูุฉ ุงูุชู ูุชู ููููุง ุจูุงุณุทุฉ ุชุธููู ููุฉ ุงูุฑุฃุณ ุ ูููู ุจุงุณุชุฎุฑุงุฌ ุงููููุฉ ุงูุทุจูุนูุฉ ุงูููุงุจูุฉ ูู ุงูุฎุฑูุทุฉ. </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... vec3 normal; // ... /* Unpack */ normal = normalize ( normalTex.rgb * 2.0 - 1.0 ); // ...</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฃุนูุงู ุ ููุฏ ุฃูุถุญุช ููู ูุชู ุชุญููู ุงูุญุงูุงุช ุงูุทุจูุนูุฉ ุฅูู ุฃููุงู ูุฅูุดุงุก ุฎุฑุงุฆุท ุทุจูุนูุฉ. </font><font style="vertical-align: inherit;">ูุญุชุงุฌ ุงูุขู ุฅูู ุนูุณ ูุฐู ุงูุนูููุฉ ุญุชู ูุชููู ูู ุงูุญุตูู ุนูู ุงูููุงุนุฏ ุงูุฃุตููุฉ ุงููุฎุจูุฒุฉ ุนูู ุงูุฎุฑูุทุฉ.</font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs">[ r, g, b] = [ r * <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>, g * <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>, b * <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>] = [ x, y, z]</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฅููู ูุง ุชุจุฏู ุนููู ุนูููุฉ ุชูุฑูุบ ุงูููุงุนุฏ ุงูุทุจูุนูุฉ ูู ุงูุฎุฑูุทุฉ ุงูุนุงุฏูุฉ. </font></font><br><br><pre style=";text-align:right;direction:rtl"> <code class="cpp hljs"> <span class="hljs-comment"><span class="hljs-comment">// ... /* Transform */ normal = normalize ( mat3 ( tangent , binormal , vertexNormal ) * normal ); // ...</span></span></code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูููุงุนุฏ ุงูุทุจูุนูุฉ ุงูุชู ุชู ุงูุญุตูู ุนูููุง ูู ุงูุฎุฑูุทุฉ ุงูุนุงุฏูุฉ ุนุงุฏุฉ ูุง ุชููู ูู ูุณุงุญุฉ ุงูุธู. </font><font style="vertical-align: inherit;">ููุน ุฐูู ุ ูููู ุฃู ูููููุง ูู ููุงู ุขุฎุฑ. </font><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู ุ ูุณูุญ ูู Blender ุจุฎุจุฒ ุงูุฃุดูุงุก ุงูุทุจูุนูุฉ ูู ูุณุงุญุฉ ุงูุธู ููุณุงุญุฉ ุงููุงุฆู ููุณุงุญุฉ ุงูุนุงูู ููุณุงุญุฉ ุงููุงููุฑุง.</font></font><br><br><div style="text-align:center;;text-align:right;direction:rtl"><img src="https://habrastorage.org/getpro/habr/post_images/009/cfc/62c/009cfc62c03b455a1e22b68e8636e735.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูููู ุงููุถุน ุงูุทุจูุนู ููุฎุฑูุทุฉ ุงูุนุงุฏูุฉ ูู ูุณุงุญุฉ ุงูุธู ุฅูู ูุณุงุญุฉ ุงููุดุงูุฏุฉ ุ ูู ุจุฅูุดุงุก ูุตูููุฉ 3 ร 3 ุจูุงุกู ุนูู ูุชุฌู ุงูุธู ุ ููุงููุงุช ุซูุงุฆูุฉ ุงูุดูู ุ ูููุฉ ุงูุฑุฃุณ ุงูุนุงุฏูุฉ. </font><font style="vertical-align: inherit;">ุงุถุฑุจ ุงูุนุงุฏู ุจูุฐู ุงููุตูููุฉ ูุชุทุจูุนูุง. </font><font style="vertical-align: inherit;">ูุฐุง ูู ุงูููุงู ุงูุฐู ุงูุชูู ุจูุง ุงูุฃูุฑ ุฅูู ุงูุญุงูุฉ ุงูุทุจูุนูุฉ. </font><font style="vertical-align: inherit;">ูุง ูุฒุงู ูุชู ุชูููุฐ ุฌููุน ุญุณุงุจุงุช ุงูุฅุถุงุกุฉ ุงูุฃุฎุฑู.</font></font><br><br><h3 style=";text-align:right;direction:rtl"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุดูุฑุฉ ุงููุตุฏุฑ </font></font></h3><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl"> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main.cxx</font></font></a> </li><li style=";text-align:right;direction:rtl"> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">base.vert</font></font></a> </li><li style=";text-align:right;direction:rtl"> <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">base.frag</font></font></a> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar453300/">https://habr.com/ru/post/ar453300/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar453290/index.html">ููุฎุต ุนูู ุงูุจูุงูุงุช (ูุงูู 2019)</a></li>
<li><a href="../ar453292/index.html">"ูุชุงุจ ุตุบูุฑ ุนู ุงูุซููุจ ุงูุณูุฏุงุก"</a></li>
<li><a href="../ar453294/index.html">ุฑุฏ ูุนู. ุชุญููู ูุณูู</a></li>
<li><a href="../ar453296/index.html">ุฅุฏุงุฑุฉ ุนุฏู ุงูุชุฒุงูู ูู PHP: ูู ุงููุนูุฏ ุฅูู Coroutines</a></li>
<li><a href="../ar453298/index.html">ุงูุตูู: ููุช ุงูุชุฑููุฉ ... ููุณู</a></li>
<li><a href="../ar453302/index.html">ุงูุณุงุนุฉ ุงูุฃููู ูู ุงูุญูุงุฉ ูุน Yandex.Module</a></li>
<li><a href="../ar453304/index.html">ุงูููุงุฆุฏ ุงูุฑุฆูุณูุฉ ู Zextras PowerStore</a></li>
<li><a href="../ar453306/index.html">ุณูู Kubernetes ุงูุณูุทุฑุฉ ุนูู ุงูุนุงูู. ูุชู ููููุ</a></li>
<li><a href="../ar453310/index.html">ุชุจุงุฏู ุงูุจูุงูุงุช ุจูู ููููุงุช React ุจุงุณุชุฎุฏุงู ููุชุจุฉ RxJS</a></li>
<li><a href="../ar453312/index.html">ููุงุช ุงูุฏูุงุน ุงูุดุนุจู ูููุฏ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุนูู ุฃุณุงุณ ุจูุงูุงุช XML</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>