<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â˜®ï¸ ğŸ  ğŸ¤” Magento 2 REST APIä»¥ä¸€ä¸ªç®€å•çš„æ¨¡å—ä¸ºä¾‹ ğŸ•·ï¸ ğŸ“­ ğŸ‘»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="äº²çˆ±çš„å“ˆä¼¯æ‹‰ç»´å…¹ï¼Œæˆ‘æ¬¢è¿æ‚¨ï¼ è‡ªä»2013å¹´ä»¥æ¥æˆ‘ä¸€ç›´åœ¨Magentoç”µå­å•†åŠ¡å¹³å°ä¸Šè¿›è¡Œå¼€å‘ä»¥æ¥ï¼Œæˆ‘ç§¯æ·€äº†å‹‡æ°”ï¼Œå¹¶ç›¸ä¿¡è‡³å°‘åœ¨è¿™ä¸ªé¢†åŸŸæˆ‘å¯ä»¥ç§°è‡ªå·±ä¸ºä¸€ä¸ªè‡ªä¿¡çš„å¼€å‘äººå‘˜ï¼Œå› æ­¤æˆ‘å†³å®šåœ¨è¯¥ä¸­å¿ƒä¸Šæ’°å†™æœ‰å…³è¯¥ç³»ç»Ÿçš„ç¬¬ä¸€ç¯‡æ–‡ç« ã€‚ æˆ‘å°†ä»Magento 2ä¸­REST APIçš„å®ç°å¼€å§‹ã€‚è¿™é‡Œï¼Œå¼€ç®±å³ç”¨çš„æ˜¯ç”¨äºå¤„ç†è¯·æ±‚...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Magento 2 REST APIä»¥ä¸€ä¸ªç®€å•çš„æ¨¡å—ä¸ºä¾‹</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/413463/"> äº²çˆ±çš„å“ˆä¼¯æ‹‰ç»´å…¹ï¼Œæˆ‘æ¬¢è¿æ‚¨ï¼ è‡ªä»2013å¹´ä»¥æ¥æˆ‘ä¸€ç›´åœ¨Magentoç”µå­å•†åŠ¡å¹³å°ä¸Šè¿›è¡Œå¼€å‘ä»¥æ¥ï¼Œæˆ‘ç§¯æ·€äº†å‹‡æ°”ï¼Œå¹¶ç›¸ä¿¡è‡³å°‘åœ¨è¿™ä¸ªé¢†åŸŸæˆ‘å¯ä»¥ç§°è‡ªå·±ä¸ºä¸€ä¸ªè‡ªä¿¡çš„å¼€å‘äººå‘˜ï¼Œå› æ­¤æˆ‘å†³å®šåœ¨è¯¥ä¸­å¿ƒä¸Šæ’°å†™æœ‰å…³è¯¥ç³»ç»Ÿçš„ç¬¬ä¸€ç¯‡æ–‡ç« ã€‚ æˆ‘å°†ä»Magento 2ä¸­REST APIçš„å®ç°å¼€å§‹ã€‚è¿™é‡Œï¼Œå¼€ç®±å³ç”¨çš„æ˜¯ç”¨äºå¤„ç†è¯·æ±‚çš„åŠŸèƒ½ï¼Œæˆ‘å°†å°è¯•ä½¿ç”¨ä¸€ä¸ªç®€å•æ¨¡å—çš„ç¤ºä¾‹è¿›è¡Œæ¼”ç¤ºã€‚ æœ¬æ–‡æ›´é€‚åˆå·²ä¸Magentaåˆä½œçš„äººå‘˜ã€‚ å› æ­¤ï¼Œæœ‰å…´è¶£çš„äººè¯·æ³¨æ„ã€‚ <br><a name="habracut"></a><br><h4> é¢†å¸¦ </h4><br> æˆ‘çš„æƒ³è±¡åŠ›å¾ˆå·®ï¼Œæ‰€ä»¥æˆ‘æƒ³å‡ºäº†ä»¥ä¸‹ç¤ºä¾‹ï¼šå‡è®¾æˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªåšå®¢ï¼Œåªæœ‰ç®¡ç†é¢æ¿ä¸­çš„ç”¨æˆ·æ‰èƒ½ç¼–å†™æ–‡ç« ã€‚ æœ‰æ—¶ï¼ŒæŸäº›CRMä¼šè”ç³»æˆ‘ä»¬ï¼Œå¹¶å°†è¿™äº›æ–‡ç« ä¸Šä¼ åˆ°è‡ªå·±ï¼ˆä¸ºä»€ä¹ˆå°šä¸æ¸…æ¥šï¼Œä½†è¿™å°±æ˜¯æˆ‘ä»¬ä½¿ç”¨REST APIçš„ç†ç”±ï¼‰ã€‚ ä¸ºäº†ç®€åŒ–è¯¥æ¨¡å—ï¼Œæˆ‘ç‰¹åˆ«çœç•¥äº†åœ¨å‰ç«¯å’Œç®¡ç†é¢æ¿ä¸­æ˜¾ç¤ºæ–‡ç« çš„å®ç°ï¼ˆæ‚¨å¯ä»¥è‡ªå·±å®ç°ï¼Œæˆ‘æ¨è<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¸€ç¯‡</a>å…³äºç½‘æ ¼çš„å¥½<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ–‡ç« </a> ï¼‰ã€‚ è¿™é‡Œä»…æŸ¥è¯¢å¤„ç†åŠŸèƒ½ä¼šå—åˆ°å½±å“ã€‚ <br><br><h4> è¡ŒåŠ¨å‘å±• </h4><br> é¦–å…ˆï¼Œåˆ›å»ºæ¨¡å—çš„<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ç»“æ„</a> ï¼Œæˆ‘ä»¬å°†å…¶<i>ç§°ä¸ºAlexPoletaev_Blog</i> ï¼ˆç¼ºä¹æƒ³è±¡åŠ›å¹¶æ²¡æœ‰æ¶ˆå¤±ï¼‰ã€‚ æˆ‘ä»¬å°†æ¨¡å—æ”¾åœ¨<i>app / code</i>ç›®å½•ä¸­ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">AlexPoletaev /åšå®¢/ etc / module.xml</b> <div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">config</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:noNamespaceSchemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:magento:framework:Module/etc/module.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">module</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AlexPoletaev_Blog"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">setup_version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0.0"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">config</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">AlexPoletaev /åšå®¢/ registration.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> \Magento\Framework\Component\ComponentRegistrar::register( \Magento\Framework\Component\ComponentRegistrar::MODULE, <span class="hljs-string"><span class="hljs-string">'AlexPoletaev_Blog'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span> );</code> </pre><br></div></div><br> è¿™ä¸¤ä¸ªæ–‡ä»¶æ˜¯æ¨¡å—æ‰€éœ€çš„æœ€ä½è¦æ±‚ã€‚ <br><br> å¦‚æœä¸€åˆ‡åœ¨é£æ°´ä¸­å®Œæˆï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦åˆ›å»ºæœåŠ¡åˆåŒï¼ˆæ´‹çº¢è‰²ä¸­çš„å†…å®¹ä»¥åŠå®ƒçš„å·¥ä½œæ–¹å¼ï¼Œæ‚¨å¯ä»¥<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">åœ¨æ­¤å¤„</a>å’Œ<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ­¤å¤„</a>é˜…è¯»ï¼‰ï¼Œæˆ‘ä»¬å°†è¿™æ ·åšï¼š <br><br><div class="spoiler">  <b class="spoiler_title">AlexPoletaev /åšå®¢/ Api /æ•°æ®/ PostInterface.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>\<span class="hljs-title"><span class="hljs-title">Data</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Interface PostInterface * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@package</span></span></span><span class="hljs-comment"> AlexPoletaev\Api\Data * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@api</span></span></span><span class="hljs-comment"> */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PostInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**#@+ * Constants * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ID = <span class="hljs-string"><span class="hljs-string">'id'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> AUTHOR_ID = <span class="hljs-string"><span class="hljs-string">'author_id'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> TITLE = <span class="hljs-string"><span class="hljs-string">'title'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> CONTENT = <span class="hljs-string"><span class="hljs-string">'content'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> CREATED_AT = <span class="hljs-string"><span class="hljs-string">'created_at'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> UPDATED_AT = <span class="hljs-string"><span class="hljs-string">'updated_at'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/**#@-*/</span></span> <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> int */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> int $id * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> $this */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($id)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> int */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getAuthorId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> int $authorId * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> $this */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setAuthorId</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($authorId)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getTitle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $title * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> $this */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setTitle</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $title)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $content * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> $this */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setContent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $content)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCreatedAt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $createdAt * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> $this */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setCreatedAt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $createdAt)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getUpdatedAt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> string $updatedAt * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> $this */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setUpdatedAt</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(string $updatedAt)</span></span></span></span>; }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">AlexPoletaev /åšå®¢/ Api / PostRepositoryInterface.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>\<span class="hljs-title"><span class="hljs-title">Data</span></span>\<span class="hljs-title"><span class="hljs-title">PostInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>\<span class="hljs-title"><span class="hljs-title">SearchCriteriaInterface</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Interface PostRepositoryInterface * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@package</span></span></span><span class="hljs-comment"> AlexPoletaev\Api * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@api</span></span></span><span class="hljs-comment"> */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PostRepositoryInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> int $id * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> \AlexPoletaev\Blog\Api\Data\PostInterface */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $id)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> \Magento\Framework\Api\SearchCriteriaInterface $searchCriteria * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> \AlexPoletaev\Blog\Api\Data\PostSearchResultInterface */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SearchCriteriaInterface $searchCriteria)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> \AlexPoletaev\Blog\Api\Data\PostInterface $post * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> \AlexPoletaev\Blog\Api\Data\PostInterface */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">save</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PostInterface $post)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> \AlexPoletaev\Blog\Api\Data\PostInterface $post * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> bool */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PostInterface $post)</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> int $id * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> bool */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deleteById</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $id)</span></span></span></span>; }</code> </pre><br></div></div><br> è®©æˆ‘ä»¬æ›´è¯¦ç»†åœ°åˆ†æè¿™ä¸¤ä¸ªæ¥å£ã€‚  <i>PostInterface</i>ç•Œé¢æ˜¾ç¤ºä¸€ä¸ªè¡¨æ ¼ï¼Œå…¶ä¸­åŒ…å«æ¥è‡ªæˆ‘ä»¬åšå®¢çš„æ–‡ç« ã€‚ åœ¨ä¸‹é¢åˆ›å»ºä¸€ä¸ªè¡¨ã€‚ æ•°æ®åº“ä¸­çš„æ¯ä¸€åˆ—åœ¨æ­¤æ¥å£ä¸­éƒ½å¿…é¡»å…·æœ‰è‡ªå·±çš„getterå’Œsetterï¼Œæˆ‘ä»¬ç¨åå°†æ‰¾å‡ºä¸ºä»€ä¹ˆè¿™å¾ˆé‡è¦ã€‚  <i>PostRepositoryInterface</i>æ¥å£æä¾›äº†ä¸€ç»„æ ‡å‡†æ–¹æ³•ï¼Œç”¨äºä¸æ•°æ®åº“è¿›è¡Œäº¤äº’å¹¶å°†å·²åŠ è½½çš„å®ä½“å­˜å‚¨åœ¨ç¼“å­˜ä¸­ã€‚  APIä½¿ç”¨ç›¸åŒçš„æ–¹æ³•ã€‚ å¦ä¸€ä¸ªé‡è¦è¯´æ˜æ˜¯ï¼Œè¿™äº›æ¥å£ä¸­<b>å¿…é¡»</b>å­˜åœ¨æ­£ç¡®çš„PHPDocsï¼Œå› ä¸ºMagentaåœ¨å¤„ç†RESTè¯·æ±‚æ—¶ä¼šä½¿ç”¨åå°„æ¥ç¡®å®šæ–¹æ³•ä¸­çš„è¾“å…¥å‚æ•°å’Œè¿”å›å€¼ã€‚ <br><br> ä½¿ç”¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®‰è£…è„šæœ¬ï¼Œ</a>åˆ›å»ºä¸€ä¸ªè¡¨ï¼Œè¯¥è¡¨å°†å­˜å‚¨æ¥è‡ªåšå®¢çš„å¸–å­ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">AlexPoletaev /åšå®¢/è®¾ç½®/ InstallSchema.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Setup</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>\<span class="hljs-title"><span class="hljs-title">Data</span></span>\<span class="hljs-title"><span class="hljs-title">PostInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">ResourceModel</span></span>\<span class="hljs-title"><span class="hljs-title">Post</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">PostResource</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">DB</span></span>\<span class="hljs-title"><span class="hljs-title">Adapter</span></span>\<span class="hljs-title"><span class="hljs-title">AdapterInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">DB</span></span>\<span class="hljs-title"><span class="hljs-title">Ddl</span></span>\<span class="hljs-title"><span class="hljs-title">Table</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Setup</span></span>\<span class="hljs-title"><span class="hljs-title">InstallSchemaInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Setup</span></span>\<span class="hljs-title"><span class="hljs-title">ModuleContextInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Setup</span></span>\<span class="hljs-title"><span class="hljs-title">SchemaSetupInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Security</span></span>\<span class="hljs-title"><span class="hljs-title">Setup</span></span>\<span class="hljs-title"><span class="hljs-title">InstallSchema</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">SecurityInstallSchema</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Class InstallSchema * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@package</span></span></span><span class="hljs-comment"> AlexPoletaev\Blog\Setup */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InstallSchema</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">InstallSchemaInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * Installs DB schema for a module * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> SchemaSetupInterface $setup * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> ModuleContextInterface $context * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> void */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">install</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SchemaSetupInterface $setup, ModuleContextInterface $context)</span></span></span><span class="hljs-function"> </span></span>{ $setup-&gt;startSetup(); $table = $setup-&gt;getConnection() -&gt;newTable( $setup-&gt;getTable(PostResource::TABLE_NAME) ) -&gt;addColumn( PostInterface::ID, Table::TYPE_INTEGER, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, [<span class="hljs-string"><span class="hljs-string">'identity'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-string"><span class="hljs-string">'unsigned'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-string"><span class="hljs-string">'nullable'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-string"><span class="hljs-string">'primary'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>], <span class="hljs-string"><span class="hljs-string">'Post ID'</span></span> ) -&gt;addColumn( PostInterface::AUTHOR_ID, Table::TYPE_INTEGER, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, [<span class="hljs-string"><span class="hljs-string">'unsigned'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-string"><span class="hljs-string">'nullable'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>,], <span class="hljs-string"><span class="hljs-string">'Author ID'</span></span> ) -&gt;addColumn( PostInterface::TITLE, Table::TYPE_TEXT, <span class="hljs-number"><span class="hljs-number">255</span></span>, [], <span class="hljs-string"><span class="hljs-string">'Title'</span></span> ) -&gt;addColumn( PostInterface::CONTENT, Table::TYPE_TEXT, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, [], <span class="hljs-string"><span class="hljs-string">'Content'</span></span> ) -&gt;addColumn( <span class="hljs-string"><span class="hljs-string">'created_at'</span></span>, Table::TYPE_TIMESTAMP, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, [<span class="hljs-string"><span class="hljs-string">'nullable'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-string"><span class="hljs-string">'default'</span></span> =&gt; Table::TIMESTAMP_INIT], <span class="hljs-string"><span class="hljs-string">'Creation Time'</span></span> ) -&gt;addColumn( <span class="hljs-string"><span class="hljs-string">'updated_at'</span></span>, Table::TYPE_TIMESTAMP, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, [<span class="hljs-string"><span class="hljs-string">'nullable'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-string"><span class="hljs-string">'default'</span></span> =&gt; Table::TIMESTAMP_INIT_UPDATE], <span class="hljs-string"><span class="hljs-string">'Update Time'</span></span> ) -&gt;addForeignKey( $setup-&gt;getFkName( PostResource::TABLE_NAME, PostInterface::AUTHOR_ID, SecurityInstallSchema::ADMIN_USER_DB_TABLE_NAME, <span class="hljs-string"><span class="hljs-string">'user_id'</span></span> ), PostInterface::AUTHOR_ID, $setup-&gt;getTable(SecurityInstallSchema::ADMIN_USER_DB_TABLE_NAME), <span class="hljs-string"><span class="hljs-string">'user_id'</span></span>, Table::ACTION_SET_NULL ) -&gt;addIndex( $setup-&gt;getIdxName( PostResource::TABLE_NAME, [PostInterface::AUTHOR_ID], AdapterInterface::INDEX_TYPE_INDEX ), [PostInterface::AUTHOR_ID], [<span class="hljs-string"><span class="hljs-string">'type'</span></span> =&gt; AdapterInterface::INDEX_TYPE_INDEX] ) -&gt;setComment(<span class="hljs-string"><span class="hljs-string">'Posts'</span></span>) ; $setup-&gt;getConnection()-&gt;createTable($table); $setup-&gt;endSetup(); } }</code> </pre><br></div></div><br> è¯¥è¡¨å°†åŒ…å«ä»¥ä¸‹å‡ åˆ—ï¼ˆåˆ«å¿˜äº†ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰å†…å®¹éƒ½å°½å¯èƒ½ç®€åŒ–ï¼‰ï¼š <br><br><ul><li>  id-è‡ªåŠ¨é€’å¢ </li><li>  author_id-ç®¡ç†å‘˜ç”¨æˆ·æ ‡è¯†ï¼ˆadmin_userè¡¨ä¸­user_idå­—æ®µä¸Šçš„å¤–é”®ï¼‰ </li><li> æ ‡é¢˜-æ ‡é¢˜ </li><li> å†…å®¹-æ–‡ç« æ–‡å­— </li><li>  created_at-åˆ›å»ºæ—¥æœŸ </li><li>  Updated_at-ç¼–è¾‘æ—¥æœŸ </li></ul><br> ç°åœ¨ï¼Œæ‚¨éœ€è¦åˆ›å»ºä¸€ç»„æ ‡å‡†çš„æ´‹çº¢è‰²<i>æ¨¡å‹</i> ï¼Œ <i>ResourceModel</i>å’Œ<i>Collection</i>ç±»ã€‚ ä¸ºä»€ä¹ˆæˆ‘ä¸ç”»è¿™äº›ç±»ï¼Œæ‰€ä»¥è¿™ä¸ªä¸»é¢˜å¾ˆå¹¿æ³›ï¼Œè¶…å‡ºäº†æœ¬æ–‡çš„è®¨è®ºèŒƒå›´ï¼Œæœ‰å…´è¶£çš„äººå¯ä»¥è‡ªå·±æœç´¢ã€‚ ç®€è€Œè¨€ä¹‹ï¼Œéœ€è¦è¿™äº›ç±»æ¥æ“ä½œæ•°æ®åº“ä¸­çš„å®ä½“ï¼ˆæ–‡ç« ï¼‰ã€‚ æˆ‘å»ºè®®æ‚¨é˜…è¯»æœ‰å…³åŸŸæ¨¡å‹ï¼Œå­˜å‚¨åº“å’ŒæœåŠ¡å±‚æ¨¡å¼çš„ä¿¡æ¯ã€‚ <br><br><div class="spoiler">  <b class="spoiler_title">AlexPoletaev /åšå®¢/æ¨¡å‹/ Post.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>\<span class="hljs-title"><span class="hljs-title">Data</span></span>\<span class="hljs-title"><span class="hljs-title">PostInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">ResourceModel</span></span>\<span class="hljs-title"><span class="hljs-title">Post</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">PostResource</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">AbstractModel</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Class Post * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@package</span></span></span><span class="hljs-comment"> AlexPoletaev\Blog\Model */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Post</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractModel</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PostInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> $_idFieldName = PostInterface::ID; <span class="hljs-comment"><span class="hljs-comment">//@codingStandardsIgnoreLine /** * @inheritdoc */ protected function _construct() //@codingStandardsIgnoreLine { $this-&gt;_init(PostResource::class); } /** * @return int */ public function getAuthorId() { return $this-&gt;getData(PostInterface::AUTHOR_ID); } /** * @param int $authorId * @return $this */ public function setAuthorId($authorId) { $this-&gt;setData(PostInterface::AUTHOR_ID, $authorId); return $this; } /** * @return string */ public function getTitle() { return $this-&gt;getData(PostInterface::TITLE); } /** * @param string $title * @return $this */ public function setTitle(string $title) { $this-&gt;setData(PostInterface::TITLE, $title); return $this; } /** * @return string */ public function getContent() { return $this-&gt;getData(PostInterface::CONTENT); } /** * @param string $content * @return $this */ public function setContent(string $content) { $this-&gt;setData(PostInterface::CONTENT, $content); return $this; } /** * @return string */ public function getCreatedAt() { return $this-&gt;getData(PostInterface::CREATED_AT); } /** * @param string $createdAt * @return $this */ public function setCreatedAt(string $createdAt) { $this-&gt;setData(PostInterface::CREATED_AT, $createdAt); return $this; } /** * @return string */ public function getUpdatedAt() { return $this-&gt;getData(PostInterface::UPDATED_AT); } /** * @param string $updatedAt * @return $this */ public function setUpdatedAt(string $updatedAt) { $this-&gt;setData(PostInterface::UPDATED_AT, $updatedAt); return $this; } }</span></span></code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">AlexPoletaev /åšå®¢/æ¨¡å‹/ ResourceModel / Post.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">ResourceModel</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>\<span class="hljs-title"><span class="hljs-title">Data</span></span>\<span class="hljs-title"><span class="hljs-title">PostInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">ResourceModel</span></span>\<span class="hljs-title"><span class="hljs-title">Db</span></span>\<span class="hljs-title"><span class="hljs-title">AbstractDb</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Class Post * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@package</span></span></span><span class="hljs-comment"> AlexPoletaev\Blog\Model\ResourceModel */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Post</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractDb</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> TABLE_NAME = <span class="hljs-string"><span class="hljs-string">'alex_poletaev_blog_post'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Resource initialization * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> void */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> //@</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">codingStandardsIgnoreLine</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_init(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::TABLE_NAME, PostInterface::ID); } }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">AlexPoletaev /åšå®¢/æ¨¡å‹/ ResourceModel / Post / Collection.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">ResourceModel</span></span>\<span class="hljs-title"><span class="hljs-title">Post</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">Post</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">ResourceModel</span></span>\<span class="hljs-title"><span class="hljs-title">Post</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">PostResource</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">ResourceModel</span></span>\<span class="hljs-title"><span class="hljs-title">Db</span></span>\<span class="hljs-title"><span class="hljs-title">Collection</span></span>\<span class="hljs-title"><span class="hljs-title">AbstractCollection</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Class Collection * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@package</span></span></span><span class="hljs-comment"> AlexPoletaev\Blog\Model\ResourceModel\Post */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Collection</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AbstractCollection</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment"> */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> //@</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">codingStandardsIgnoreLine</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;_init(Post::class, PostResource::class); } }</code> </pre><br></div></div><br> ç»†å¿ƒçš„è¯»è€…ä¼šæ³¨æ„åˆ°ï¼Œæˆ‘ä»¬çš„æ¨¡å‹å®ç°äº†å…ˆå‰åˆ›å»ºçš„æ¥å£åŠå…¶æ‰€æœ‰çš„getterå’Œsetterã€‚ <br><br> åŒæ—¶ï¼Œæˆ‘ä»¬å®ç°å­˜å‚¨åº“åŠå…¶æ–¹æ³•ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">AlexPoletaev /åšå®¢/æ¨¡å‹/ PostRepository.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>\<span class="hljs-title"><span class="hljs-title">Data</span></span>\<span class="hljs-title"><span class="hljs-title">PostInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>\<span class="hljs-title"><span class="hljs-title">Data</span></span>\<span class="hljs-title"><span class="hljs-title">PostSearchResultInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>\<span class="hljs-title"><span class="hljs-title">Data</span></span>\<span class="hljs-title"><span class="hljs-title">PostSearchResultInterfaceFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>\<span class="hljs-title"><span class="hljs-title">PostRepositoryInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">ResourceModel</span></span>\<span class="hljs-title"><span class="hljs-title">Post</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">PostResource</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">ResourceModel</span></span>\<span class="hljs-title"><span class="hljs-title">Post</span></span>\<span class="hljs-title"><span class="hljs-title">Collection</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">PostCollection</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">ResourceModel</span></span>\<span class="hljs-title"><span class="hljs-title">Post</span></span>\<span class="hljs-title"><span class="hljs-title">CollectionFactory</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">PostCollectionFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">PostFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>\<span class="hljs-title"><span class="hljs-title">SearchCriteriaInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Exception</span></span>\<span class="hljs-title"><span class="hljs-title">NoSuchEntityException</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Exception</span></span>\<span class="hljs-title"><span class="hljs-title">StateException</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Class PostRepository * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@package</span></span></span><span class="hljs-comment"> AlexPoletaev\Blog\Model */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PostRepository</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PostRepositoryInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> array */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $registry = []; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> PostResource */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $postResource; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> PostFactory */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $postFactory; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> PostCollectionFactory */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $postCollectionFactory; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> PostSearchResultInterfaceFactory */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $postSearchResultFactory; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> PostResource $postResource * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> PostFactory $postFactory * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> PostCollectionFactory $postCollectionFactory * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> PostSearchResultInterfaceFactory $postSearchResultFactory */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( PostResource $postResource, PostFactory $postFactory, PostCollectionFactory $postCollectionFactory, PostSearchResultInterfaceFactory $postSearchResultFactory )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;postResource = $postResource; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;postFactory = $postFactory; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;postCollectionFactory = $postCollectionFactory; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;postSearchResultFactory = $postSearchResultFactory; } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> int $id * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> PostInterface * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> NoSuchEntityException */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $id)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!array_key_exists($id, <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;registry)) { $post = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;postFactory-&gt;create(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;postResource-&gt;load($post, $id); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!$post-&gt;getId()) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> NoSuchEntityException(__(<span class="hljs-string"><span class="hljs-string">'Requested post does not exist'</span></span>)); } <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;registry[$id] = $post; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;registry[$id]; } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> \Magento\Framework\Api\SearchCriteriaInterface $searchCriteria * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> \AlexPoletaev\Blog\Api\Data\PostSearchResultInterface */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getList</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(SearchCriteriaInterface $searchCriteria)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> PostCollection $collection */</span></span> $collection = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;postCollectionFactory-&gt;create(); <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($searchCriteria-&gt;getFilterGroups() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $filterGroup) { <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> ($filterGroup-&gt;getFilters() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> $filter) { $condition = $filter-&gt;getConditionType() ? $filter-&gt;getConditionType() : <span class="hljs-string"><span class="hljs-string">'eq'</span></span>; $collection-&gt;addFieldToFilter($filter-&gt;getField(), [$condition =&gt; $filter-&gt;getValue()]); } } <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> PostSearchResultInterface $searchResult */</span></span> $searchResult = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;postSearchResultFactory-&gt;create(); $searchResult-&gt;setSearchCriteria($searchCriteria); $searchResult-&gt;setItems($collection-&gt;getItems()); $searchResult-&gt;setTotalCount($collection-&gt;getSize()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $searchResult; } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> \AlexPoletaev\Blog\Api\Data\PostInterface $post * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> PostInterface * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> StateException */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">save</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PostInterface $post)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> Post $post */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;postResource-&gt;save($post); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;registry[$post-&gt;getId()] = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;get($post-&gt;getId()); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (\<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> $exception) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StateException(__(<span class="hljs-string"><span class="hljs-string">'Unable to save post #%1'</span></span>, $post-&gt;getId())); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;registry[$post-&gt;getId()]; } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> \AlexPoletaev\Blog\Api\Data\PostInterface $post * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> bool * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> StateException */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">delete</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(PostInterface $post)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> Post $post */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;postResource-&gt;delete($post); <span class="hljs-keyword"><span class="hljs-keyword">unset</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;registry[$post-&gt;getId()]); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (\<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> $e) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StateException(__(<span class="hljs-string"><span class="hljs-string">'Unable to remove post #%1'</span></span>, $post-&gt;getId())); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> int $id * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> bool */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">deleteById</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(int $id)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;delete(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;get($id)); } }</code> </pre><br></div></div><br> æ–¹æ³•<code>\AlexPoletaev\Blog\Model\PostRepository::getList()</code>åº”è¯¥è¿”å›æŸç§æ ¼å¼çš„æ•°æ®ï¼Œå› æ­¤æˆ‘ä»¬è¿˜å°†éœ€è¦æ­¤æ¥å£ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">AlexPoletaev /åšå®¢/ Api /æ•°æ®/ PostSearchResultInterface.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>\<span class="hljs-title"><span class="hljs-title">Data</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>\<span class="hljs-title"><span class="hljs-title">SearchResultsInterface</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Interface PostSearchResultInterface * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@package</span></span></span><span class="hljs-comment"> AlexPoletaev\Blog\Api\Data */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PostSearchResultInterface</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SearchResultsInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> \AlexPoletaev\Blog\Api\Data\PostInterface[] */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getItems</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> \AlexPoletaev\Blog\Api\Data\PostInterface[] $items * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> $this */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setItems</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $items)</span></span></span></span>; }</code> </pre><br></div></div><br> ä¸ºäº†ä½¿æµ‹è¯•æ¨¡å—æ›´å®¹æ˜“ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸¤ä¸ªæ§åˆ¶å°è„šæœ¬ï¼Œè¿™äº›è„šæœ¬å¯åœ¨è¡¨ä¸­æ·»åŠ å’Œåˆ é™¤æµ‹è¯•æ•°æ®ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">AlexPoletaev /åšå®¢/æ§åˆ¶å°/å‘½ä»¤/ DeploySampleDataCommand.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Console</span></span>\<span class="hljs-title"><span class="hljs-title">Command</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>\<span class="hljs-title"><span class="hljs-title">PostRepositoryInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">Post</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">PostFactory</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">User</span></span>\<span class="hljs-title"><span class="hljs-title">Api</span></span>\<span class="hljs-title"><span class="hljs-title">Data</span></span>\<span class="hljs-title"><span class="hljs-title">UserInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">User</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">User</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Console</span></span>\<span class="hljs-title"><span class="hljs-title">Command</span></span>\<span class="hljs-title"><span class="hljs-title">Command</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Console</span></span>\<span class="hljs-title"><span class="hljs-title">Input</span></span>\<span class="hljs-title"><span class="hljs-title">InputArgument</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Console</span></span>\<span class="hljs-title"><span class="hljs-title">Input</span></span>\<span class="hljs-title"><span class="hljs-title">InputInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Console</span></span>\<span class="hljs-title"><span class="hljs-title">Output</span></span>\<span class="hljs-title"><span class="hljs-title">OutputInterface</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Class DeploySampleDataCommand * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@package</span></span></span><span class="hljs-comment"> AlexPoletaev\Blog\Console\Command */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">DeploySampleDataCommand</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Command</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/**#@+ * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ARGUMENT_USERNAME = <span class="hljs-string"><span class="hljs-string">'username'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> ARGUMENT_NUMBER_OF_RECORDS = <span class="hljs-string"><span class="hljs-string">'number_of_records'</span></span>; <span class="hljs-comment"><span class="hljs-comment">/**#@-*/</span></span> <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> PostFactory */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $postFactory; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> PostRepositoryInterface */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $postRepository; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> UserInterface */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $user; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> PostFactory $postFactory * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> PostRepositoryInterface $postRepository * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> UserInterface $user */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( PostFactory $postFactory, PostRepositoryInterface $postRepository, UserInterface $user )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::__construct(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;postFactory = $postFactory; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;postRepository = $postRepository; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;user = $user; } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment"> */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">configure</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;setName(<span class="hljs-string"><span class="hljs-string">'alex_poletaev:blog:deploy_sample_data'</span></span>) -&gt;setDescription(<span class="hljs-string"><span class="hljs-string">'Blog: deploy sample data'</span></span>) -&gt;setDefinition([ <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InputArgument( <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::ARGUMENT_USERNAME, InputArgument::REQUIRED, <span class="hljs-string"><span class="hljs-string">'Username'</span></span> ), <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InputArgument( <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::ARGUMENT_NUMBER_OF_RECORDS, InputArgument::OPTIONAL, <span class="hljs-string"><span class="hljs-string">'Number of test records'</span></span> ), ]) ; <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::configure(); } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment"> */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(InputInterface $input, OutputInterface $output)</span></span></span><span class="hljs-function"> </span></span>{ $username = $input-&gt;getArgument(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::ARGUMENT_USERNAME); <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> User $user */</span></span> $user = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;user-&gt;loadByUsername($username); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!$user-&gt;getId() &amp;&amp; $output-&gt;getVerbosity() &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) { $output-&gt;writeln(<span class="hljs-string"><span class="hljs-string">'&lt;error&gt;User is not found&lt;/error&gt;'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } $records = $input-&gt;getArgument(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::ARGUMENT_NUMBER_OF_RECORDS) ?: <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> ($i = <span class="hljs-number"><span class="hljs-number">1</span></span>; $i &lt;= (int)$records; $i++) { <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> Post $post */</span></span> $post = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;postFactory-&gt;create(); $post-&gt;setAuthorId($user-&gt;getId()); $post-&gt;setTitle(<span class="hljs-string"><span class="hljs-string">'test title '</span></span> . $i); $post-&gt;setContent(<span class="hljs-string"><span class="hljs-string">'test content '</span></span> . $i); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;postRepository-&gt;save($post); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($output-&gt;getVerbosity() &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) { $output-&gt;writeln(<span class="hljs-string"><span class="hljs-string">'&lt;info&gt;Post with the ID #'</span></span> . $post-&gt;getId() . <span class="hljs-string"><span class="hljs-string">' has been created.&lt;/info&gt;'</span></span>); } } } }</code> </pre><br></div></div><br><div class="spoiler">  <b class="spoiler_title">AlexPoletaev /åšå®¢/æ§åˆ¶å°/å‘½ä»¤/ RemoveSampleDataCommand.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Console</span></span>\<span class="hljs-title"><span class="hljs-title">Command</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">AlexPoletaev</span></span>\<span class="hljs-title"><span class="hljs-title">Blog</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">ResourceModel</span></span>\<span class="hljs-title"><span class="hljs-title">Post</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">PostResource</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Magento</span></span>\<span class="hljs-title"><span class="hljs-title">Framework</span></span>\<span class="hljs-title"><span class="hljs-title">App</span></span>\<span class="hljs-title"><span class="hljs-title">ResourceConnection</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Console</span></span>\<span class="hljs-title"><span class="hljs-title">Command</span></span>\<span class="hljs-title"><span class="hljs-title">Command</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Console</span></span>\<span class="hljs-title"><span class="hljs-title">Input</span></span>\<span class="hljs-title"><span class="hljs-title">InputInterface</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Symfony</span></span>\<span class="hljs-title"><span class="hljs-title">Component</span></span>\<span class="hljs-title"><span class="hljs-title">Console</span></span>\<span class="hljs-title"><span class="hljs-title">Output</span></span>\<span class="hljs-title"><span class="hljs-title">OutputInterface</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** * Class RemoveSampleDataCommand * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@package</span></span></span><span class="hljs-comment"> AlexPoletaev\Blog\Console\Command */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RemoveSampleDataCommand</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Command</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> ResourceConnection */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $resourceConnection; <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> ResourceConnection $resourceConnection */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__construct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( ResourceConnection $resourceConnection )</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::__construct(); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resourceConnection = $resourceConnection; } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment"> */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">configure</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;setName(<span class="hljs-string"><span class="hljs-string">'alex_poletaev:blog:remove_sample_data'</span></span>) -&gt;setDescription(<span class="hljs-string"><span class="hljs-string">'Blog: remove sample data'</span></span>) ; <span class="hljs-keyword"><span class="hljs-keyword">parent</span></span>::configure(); } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment"> */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">execute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(InputInterface $input, OutputInterface $output)</span></span></span><span class="hljs-function"> </span></span>{ $connection = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;resourceConnection-&gt;getConnection(); $connection-&gt;truncateTable($connection-&gt;getTableName(PostResource::TABLE_NAME)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($output-&gt;getVerbosity() &gt; <span class="hljs-number"><span class="hljs-number">1</span></span>) { $output-&gt;writeln(<span class="hljs-string"><span class="hljs-string">'&lt;info&gt;Sample data has been successfully removed.&lt;/info&gt;'</span></span>); } } }</code> </pre><br></div></div><br>  Magento 2çš„ä¸»è¦ç‰¹å¾æ˜¯å…¶<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ä¾èµ–æ³¨å…¥</a>å®ç°çš„å¹¿æ³›ä½¿ç”¨ã€‚ ä¸ºäº†ä½¿MagentaçŸ¥é“å®ç°å¯¹åº”çš„æ¥å£ï¼Œæˆ‘ä»¬éœ€è¦åœ¨di.xmlæ–‡ä»¶ä¸­æŒ‡å®šè¿™äº›ä¾èµ–é¡¹ã€‚ åŒæ—¶ï¼Œæˆ‘ä»¬å°†åœ¨æ­¤æ–‡ä»¶ä¸­æ³¨å†Œæ–°åˆ›å»ºçš„æ§åˆ¶å°è„šæœ¬ï¼š <br><br><div class="spoiler">  <b class="spoiler_title">AlexPoletaev /åšå®¢/ etc / di.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">config</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:noNamespaceSchemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:magento:framework:ObjectManager/etc/config.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">preference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AlexPoletaev\Blog\Api\Data\PostInterface"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AlexPoletaev\Blog\Model\Post"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">preference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AlexPoletaev\Blog\Api\PostRepositoryInterface"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AlexPoletaev\Blog\Model\PostRepository"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">preference</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AlexPoletaev\Blog\Api\Data\PostSearchResultInterface"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Magento\Framework\Api\SearchResults"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">type</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Magento\Framework\Console\CommandList"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">arguments</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">argument</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"commands"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"array"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"deploy_sample_data"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"object"</span></span></span><span class="hljs-tag">&gt;</span></span>AlexPoletaev\Blog\Console\Command\DeploySampleDataCommand<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"remove_sample_data"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"object"</span></span></span><span class="hljs-tag">&gt;</span></span>AlexPoletaev\Blog\Console\Command\RemoveSampleDataCommand<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">argument</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">arguments</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">type</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">config</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br> ç°åœ¨æ³¨å†ŒREST APIçš„è·¯ç”±ï¼Œè¿™åœ¨webapi.xmlæ–‡ä»¶ä¸­å®Œæˆï¼š <br><br><div class="spoiler">  <b class="spoiler_title">AlexPoletaev /åšå®¢/ etc / webapi.xml</b> <div class="spoiler_text"><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">routes</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:noNamespaceSchemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"urn:magento:module:Magento_Webapi:etc/webapi.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">route</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/V1/blog/posts"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"POST"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">service</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AlexPoletaev\Blog\Api\PostRepositoryInterface"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"save"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resource</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"anonymous"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">route</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">route</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/V1/blog/posts/:id"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"DELETE"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">service</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AlexPoletaev\Blog\Api\PostRepositoryInterface"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"deleteById"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resource</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"anonymous"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">route</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">route</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/V1/blog/posts/:id"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"GET"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">service</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AlexPoletaev\Blog\Api\PostRepositoryInterface"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"get"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resource</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"anonymous"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">route</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">route</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/V1/blog/posts"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"GET"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">service</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"AlexPoletaev\Blog\Api\PostRepositoryInterface"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"getList"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resource</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"anonymous"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">resources</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">route</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">routes</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å‘Šè¯‰Magenteåœ¨è¯·æ±‚ç‰¹å®šçš„URLå’Œç‰¹å®šçš„httpæ–¹æ³•ï¼ˆPOSTï¼ŒGETç­‰ï¼‰æ—¶ä½¿ç”¨å“ªä¸ªæ¥å£å’Œè¯¥æ¥å£ä¸­çš„å“ªä¸ªæ–¹æ³•ã€‚ å¦å¤–ï¼Œä¸ºç®€åŒ–èµ·è§ï¼Œä½¿ç”¨äº†<code>anonymous</code>èµ„æºï¼Œè¿™ç»å¯¹å…è®¸ä»»ä½•äººæ•²æˆ‘ä»¬çš„APIï¼Œå¦åˆ™æ‚¨éœ€è¦é…ç½®è®¿é—®æƒé™ï¼ˆACLï¼‰ã€‚ <br><br><h4> é«˜æ½® </h4><br> æ‰€æœ‰å…¶ä»–æ­¥éª¤å‡å‡å®šæ‚¨å¯ç”¨äº†å¼€å‘äººå‘˜æ¨¡å¼ã€‚ è¿™æ ·å¯ä»¥é¿å…åœ¨éƒ¨ç½²å†…å®¹é™æ€å’ŒDIç¼–è¯‘æ—¶è¿›è¡Œä¸å¿…è¦çš„æ“ä½œã€‚ <br><br> æ³¨å†Œæˆ‘ä»¬çš„æ–°æ¨¡å—ï¼Œè¿è¡Œå‘½ä»¤ï¼š <code>php bin/magento setup:upgrade</code> ã€‚ <br><br> æ£€æŸ¥æ˜¯å¦å·²<i>åˆ›å»º</i>æ–°çš„<i>alex_poletaev_blog_post</i>è¡¨ã€‚ <br><br> æ¥ä¸‹æ¥ï¼Œä½¿ç”¨æˆ‘ä»¬çš„è‡ªå®šä¹‰è„šæœ¬åŠ è½½æµ‹è¯•æ•°æ®ï¼š <br><br><pre> <code class="hljs pgsql">php bin/magento -v alex_poletaev:blog:deploy_sample_data <span class="hljs-keyword"><span class="hljs-keyword">admin</span></span></code> </pre> <br> æ­¤è„šæœ¬ä¸­çš„<i>admin</i>å‚æ•°æ˜¯<i>admin_user</i>è¡¨ä¸­çš„<i>ç”¨æˆ·å</i> ï¼ˆå¯èƒ½ä¸æ‚¨ä¸åŒï¼‰ï¼Œä¹Ÿå°±æ˜¯adâ€‹â€‹miné¢æ¿ä¸­çš„ç”¨æˆ·ï¼Œè¯¥ç”¨æˆ·åå°†å†™åœ¨author_idåˆ—ä¸­ã€‚ <br><br> ç°åœ¨æ‚¨å¯ä»¥å¼€å§‹æµ‹è¯•äº†ã€‚ ä¸ºäº†è¿›è¡Œæµ‹è¯•ï¼Œæˆ‘ä½¿ç”¨äº†Magento 2.2.4ï¼ŒåŸŸä¸º<code>http://m224ce.local/</code> ã€‚ <br><br> æµ‹è¯•REST APIçš„ä¸€ç§æ–¹æ³•æ˜¯æ‰“å¼€<code>http://m224ce.local/swagger</code>å¹¶ä½¿ç”¨swaggeråŠŸèƒ½ï¼Œä½†è¯·è®°ä½ï¼Œ <code>getList</code>æ–¹æ³•æ— æ³•åœ¨å…¶ä¸­æ­£å¸¸å·¥ä½œã€‚ æˆ‘è¿˜ç”¨curlæµ‹è¯•äº†æ‰€æœ‰æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š <br><br> è·å–<i>ID = 2</i>çš„æ–‡ç«  <br><br><pre> <code class="hljs powershell">curl <span class="hljs-literal"><span class="hljs-literal">-X</span></span> GET <span class="hljs-literal"><span class="hljs-literal">-H</span></span> <span class="hljs-string"><span class="hljs-string">"Accept: application/json"</span></span> <span class="hljs-string"><span class="hljs-string">"http://m224ce.local/rest/all/V1/blog/posts/2"</span></span></code> </pre> <br> ç­”æ¡ˆæ˜¯ï¼š <br><br><pre> <code class="hljs json">{<span class="hljs-attr"><span class="hljs-attr">"id"</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-attr"><span class="hljs-attr">"author_id"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-attr"><span class="hljs-attr">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">"test title 2"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"content"</span></span>:<span class="hljs-string"><span class="hljs-string">"test content 2"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"created_at"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-06-06 21:35:54"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"updated_at"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-06-06 21:35:54"</span></span>}</code> </pre> <br> è·å–<i>author_id = 2</i>çš„æ–‡ç« åˆ—è¡¨ <br><br><pre> <code class="hljs markdown">curl -g -X GET -H "Accept: application/json" "http://m224ce.local/rest/all/V1/blog/posts?searchCriteria[<span class="hljs-string"><span class="hljs-string">filterGroups</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>][<span class="hljs-string"><span class="hljs-string">filters</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>][<span class="hljs-string"><span class="hljs-string">field</span></span>]=author_id&amp;searchCriteria[<span class="hljs-string"><span class="hljs-string">filterGroups</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>][<span class="hljs-string"><span class="hljs-string">filters</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>][<span class="hljs-string"><span class="hljs-string">value</span></span>]=1&amp;searchCriteria[<span class="hljs-string"><span class="hljs-string">filterGroups</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>][<span class="hljs-string"><span class="hljs-string">filters</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>][<span class="hljs-string"><span class="hljs-string">conditionType</span></span>]=eq"</code> </pre> <br> ç­”æ¡ˆæ˜¯ï¼š <br><br><pre> <code class="hljs json">{<span class="hljs-attr"><span class="hljs-attr">"items"</span></span>:[{<span class="hljs-attr"><span class="hljs-attr">"id"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-attr"><span class="hljs-attr">"author_id"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-attr"><span class="hljs-attr">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">"test title 1"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"content"</span></span>:<span class="hljs-string"><span class="hljs-string">"test content 1"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"created_at"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-06-06 21:35:54"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"updated_at"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-06-06 21:35:54"</span></span>},{<span class="hljs-attr"><span class="hljs-attr">"id"</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-attr"><span class="hljs-attr">"author_id"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-attr"><span class="hljs-attr">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">"test title 2"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"content"</span></span>:<span class="hljs-string"><span class="hljs-string">"test content 2"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"created_at"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-06-06 21:35:54"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"updated_at"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-06-06 21:35:54"</span></span>},{<span class="hljs-attr"><span class="hljs-attr">"id"</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-attr"><span class="hljs-attr">"author_id"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-attr"><span class="hljs-attr">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">"test title 3"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"content"</span></span>:<span class="hljs-string"><span class="hljs-string">"test content 3"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"created_at"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-06-06 21:35:54"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"updated_at"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-06-06 21:35:54"</span></span>}],<span class="hljs-attr"><span class="hljs-attr">"search_criteria"</span></span>:{<span class="hljs-attr"><span class="hljs-attr">"filter_groups"</span></span>:[{<span class="hljs-attr"><span class="hljs-attr">"filters"</span></span>:[{<span class="hljs-attr"><span class="hljs-attr">"field"</span></span>:<span class="hljs-string"><span class="hljs-string">"author_id"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"value"</span></span>:<span class="hljs-string"><span class="hljs-string">"1"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"condition_type"</span></span>:<span class="hljs-string"><span class="hljs-string">"eq"</span></span>}]}]},<span class="hljs-attr"><span class="hljs-attr">"total_count"</span></span>:<span class="hljs-number"><span class="hljs-number">3</span></span>}</code> </pre> <br> åˆ é™¤<i>ID = 3çš„</i>æ–‡ç«  <br><br><pre> <code class="hljs powershell">curl <span class="hljs-literal"><span class="hljs-literal">-X</span></span> DELETE <span class="hljs-literal"><span class="hljs-literal">-H</span></span> <span class="hljs-string"><span class="hljs-string">"Accept: application/json"</span></span> <span class="hljs-string"><span class="hljs-string">"http://m224ce.local/rest/all/V1/blog/posts/3"</span></span></code> </pre> <br> ç­”æ¡ˆæ˜¯ï¼š <br><br><pre> <code class="hljs objectivec"><span class="hljs-literal"><span class="hljs-literal">true</span></span></code> </pre> <br> ä¿å­˜æ–°æ–‡ç«  <br><br><pre> <code class="hljs swift">curl -<span class="hljs-type"><span class="hljs-type">X</span></span> <span class="hljs-type"><span class="hljs-type">POST</span></span> -<span class="hljs-type"><span class="hljs-type">H</span></span> <span class="hljs-string"><span class="hljs-string">"Content-Type: application/json"</span></span> -<span class="hljs-type"><span class="hljs-type">H</span></span> <span class="hljs-string"><span class="hljs-string">"Accept: application/json"</span></span> -d '{<span class="hljs-string"><span class="hljs-string">"post"</span></span>: {<span class="hljs-string"><span class="hljs-string">"author_id"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"title"</span></span>: <span class="hljs-string"><span class="hljs-string">"test title 4"</span></span>, <span class="hljs-string"><span class="hljs-string">"content"</span></span>: <span class="hljs-string"><span class="hljs-string">"test content 4"</span></span>}}' <span class="hljs-string"><span class="hljs-string">"http://m224ce.local/rest/all/V1/blog/posts"</span></span></code> </pre> <br> ç­”æ¡ˆæ˜¯ï¼š <br><br><pre> <code class="hljs json">{<span class="hljs-attr"><span class="hljs-attr">"id"</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-attr"><span class="hljs-attr">"author_id"</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-attr"><span class="hljs-attr">"title"</span></span>:<span class="hljs-string"><span class="hljs-string">"test title 4"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"content"</span></span>:<span class="hljs-string"><span class="hljs-string">"test content 4"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"created_at"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-06-06 21:44:24"</span></span>,<span class="hljs-attr"><span class="hljs-attr">"updated_at"</span></span>:<span class="hljs-string"><span class="hljs-string">"2018-06-06 21:44:24"</span></span>}</code> </pre> <br> è¯·æ³¨æ„ï¼Œå¯¹äºå¸¦æœ‰http POSTæ–¹æ³•çš„è¯·æ±‚ï¼Œå¿…é¡»ä¼ é€’<i>post</i>é”®ï¼Œè¯¥é”®å®é™…ä¸Šå¯¹åº”äºè¯¥æ–¹æ³•çš„è¾“å…¥å‚æ•°ï¼ˆ$ postï¼‰ <br><br><pre> <code class="hljs tex"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AlexPoletaev</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Blog</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Api</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PostRepositoryInterface</span></span></span></span>::save()</code> </pre> <br><h4> ç»“å±€ </h4><br> å¯¹äºé‚£äº›å¯¹è¯·æ±‚è¿‡ç¨‹ä¸­å‘ç”Ÿçš„äº‹æƒ…ä»¥åŠMagentaå¦‚ä½•å¤„ç†è¯·æ±‚æ„Ÿå…´è¶£çš„äººï¼Œä¸‹é¢æˆ‘å°†åœ¨æ³¨é‡Šä¸­æä¾›ä¸€äº›æ–¹æ³•é“¾æ¥ã€‚ å¦‚æœæŸäº›æ–¹æ³•ä¸èµ·ä½œç”¨ï¼Œåˆ™å¿…é¡»é¦–å…ˆä»è¿™äº›æ–¹æ³•ä¸­æ‰£é™¤ã€‚ <br><br> è´Ÿè´£å¤„ç†è¯·æ±‚çš„æ§åˆ¶å™¨ <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">\ Magento \ Webapi \æ§åˆ¶å™¨\ Rest ::æ´¾é£ï¼ˆï¼‰</a> <br><br> ä¸‹ä¸€ä¸ªå« <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">\ Magento \ Webapi \ Controller \ Rest :: processApiRequestï¼ˆï¼‰</a> <br><br> åœ¨<code>processApiRequest</code>å†…éƒ¨è°ƒç”¨äº†è®¸å¤šå…¶ä»–æ–¹æ³•ï¼Œä½†ç¬¬äºŒä¸ªæœ€é‡è¦çš„æ–¹æ³• <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">\ Magento \ Webapi \æ§åˆ¶å™¨\ä¼‘æ¯\ InputParamsResolver :: resolveï¼ˆï¼‰</a> <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">\ Magento \ Webapi \æ§åˆ¶å™¨\ Rest \è·¯ç”±å™¨:: matchï¼ˆï¼‰</a> -ç¡®å®šç‰¹å®šçš„è·¯ç”±ï¼ˆåœ¨å†…éƒ¨ï¼Œé€šè¿‡<code>\Magento\Webapi\Model\Rest\Config::getRestRoutes()</code>æ–¹æ³•ï¼Œæ‰€æœ‰åˆé€‚çš„è·¯ç”±å‡ä»è¯·æ±‚ä¸­è¢«æ‹‰å‡ºï¼‰ã€‚ è·¯ç”±å¯¹è±¡åŒ…å«å¤„ç†è¯·æ±‚çš„æ‰€æœ‰å¿…è¦æ•°æ®-ç±»ï¼Œæ–¹æ³•ï¼Œè®¿é—®æƒé™ç­‰ã€‚ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">\ Magento \ Framework \ Webapi \ ServiceInputProcessor ::è¿›ç¨‹ï¼ˆï¼‰</a> <br>  -ä½¿ç”¨<code>\Magento\Framework\Reflection\MethodsMap::getMethodParams()</code> ï¼Œå…¶ä¸­æ–¹æ³•å‚æ•°é€šè¿‡åå°„è·å– <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">\ Magento \ Framework \ Webapi \ ServiceInputProcessor :: convertValueï¼ˆï¼‰</a> -ç”¨äºå°†æ•°ç»„è½¬æ¢ä¸ºDataObjectæˆ–ä»DataObjectè½¬æ¢ä¸ºæ•°ç»„çš„å‡ ä¸ªé€‰é¡¹ <br><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">\ Magento \ Framework \ Webapi \ ServiceInputProcessor :: _ createFromArrayï¼ˆï¼‰</a> -ç›´æ¥è½¬æ¢ï¼Œé€šè¿‡åå°„æ£€æŸ¥getterå’Œsetterçš„å­˜åœ¨ï¼ˆè®°ä½ï¼Œæˆ‘åœ¨ä¸Šé¢è¯´è¿‡ï¼Œæˆ‘ä»¬å°†è¿”å›åˆ°å®ƒä»¬å—ï¼Ÿï¼‰å¹¶ä¸”å®ƒä»¬å…·æœ‰å…¬å…±ä½œç”¨åŸŸã€‚ æ¥ä¸‹æ¥ï¼Œé€šè¿‡è®¾ç½®å™¨å°†æ•°æ®å¡«å……åˆ°å¯¹è±¡ä¸­ã€‚ <br><br> åœ¨æ–¹æ³•çš„æœ€å <br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">\ Magento \ Webapi \ Controller \ Rest :: processApiRequestï¼ˆï¼‰</a> ï¼Œé€šè¿‡<code>call_user_func_array</code>è°ƒç”¨å­˜å‚¨åº“å¯¹è±¡<code>call_user_func_array</code>æ–¹æ³•ã€‚ <br><br><h4> ç»“è¯­ </h4><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Githubæ¨¡å—å­˜å‚¨åº“</a> <br><br> æœ‰ä¸¤ç§å®‰è£…æ–¹æ³•ï¼š <br><br>  1ï¼‰é€šè¿‡ä½œæ›²å®¶ã€‚ ä¸ºæ­¤ï¼Œè¯·å°†ä»¥ä¸‹å¯¹è±¡æ·»åŠ åˆ°composer.jsonæ–‡ä»¶ä¸­çš„<code>repositories</code>æ•°ç»„ä¸­ <br><br><pre> <code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"type"</span></span>: <span class="hljs-string"><span class="hljs-string">"git"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"url"</span></span>: <span class="hljs-string"><span class="hljs-string">"https://github.com/alexpoletaev/magento2-blog-demo"</span></span> }</code> </pre><br> ç„¶ååœ¨ç»ˆç«¯ä¸­é”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼š <br><br><pre> <code class="hljs powershell">composer require alexpoletaev/magento2<span class="hljs-literal"><span class="hljs-literal">-blog</span></span><span class="hljs-literal"><span class="hljs-literal">-demo</span></span>:dev<span class="hljs-literal"><span class="hljs-literal">-master</span></span></code> </pre> <br>  2ï¼‰ä¸‹è½½æ¨¡å—æ–‡ä»¶ï¼Œç„¶åæ‰‹åŠ¨å°†å…¶å¤åˆ¶åˆ°<code>app/code/AlexPoletaev/Blog</code>ç›®å½•ä¸­ <br><br> æ— è®ºé€‰æ‹©å“ªç§æ–¹æ³•ï¼Œæœ€åéƒ½éœ€è¦è¿è¡Œå‡çº§ï¼š <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">php</span></span> bin/magento setup:upgrade</code> </pre> <br> æˆ‘å¸Œæœ›æœ¬æ–‡å¯¹æŸäººæœ‰ç”¨ã€‚ å¦‚æœæ‚¨æœ‰ä»»ä½•æ„è§ï¼Œå»ºè®®æˆ–é—®é¢˜ï¼Œè¯·å‘è¡¨è¯„è®ºã€‚ è°¢è°¢æ‚¨çš„å…³æ³¨ã€‚ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN413463/">https://habr.com/ru/post/zh-CN413463/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN413451/index.html">ä»å­¦ç”Ÿåˆ°å®ä¹ ç”Ÿå’Œå¼€å‘äººå‘˜ï¼šæˆ‘çš„å®ä¹ ç»å†</a></li>
<li><a href="../zh-CN413455/index.html">ä½¿ç”¨Veeam Availability Consoleï¼šé…ç½®æ‰˜ç®¡å¤‡ä»½æœåŠ¡æ‰˜ç®¡å¤‡ä»½</a></li>
<li><a href="../zh-CN413457/index.html">ç»´çè½¨é“-æ–°çš„äºšè½¨é“åŠ©æ¨å™¨å¸‚åœºå‚ä¸è€…</a></li>
<li><a href="../zh-CN413459/index.html">ITæ‹›è˜äººå‘˜çš„æ‰èƒ½-åˆ›ä½œè€…ä¸å·¥åŒ æœ‰ä½•ä¸åŒï¼Ÿ</a></li>
<li><a href="../zh-CN413461/index.html">ReactOSåœ¨å…¶21å‘¨å¹´çºªå¿µå¹´å†…å®ç°äº†è‡ªç»™è‡ªè¶³</a></li>
<li><a href="../zh-CN413465/index.html">AMDå®£å¸ƒæ¨å‡º32æ ¸Threadripper 2</a></li>
<li><a href="../zh-CN413467/index.html">å¿«é€Ÿå¯é çš„æ•°æ®å¤‡ä»½åˆ°äº‘</a></li>
<li><a href="../zh-CN413469/index.html">å†…å­˜æµ‹è¯•æ€æ­»ç¬”è®°æœ¬ç”µè„‘å‡ ä¹æ˜¯ä¸ªä¾¦æ¢æ•…äº‹</a></li>
<li><a href="../zh-CN413471/index.html">Friday Mini TomyèŠ±å¼ç©å…·å›é¡¾å±•</a></li>
<li><a href="../zh-CN413473/index.html">å¸¦å‘å…‰æŒ‰é’®çš„ç”µæ± è§¦æ‘¸Z-Waveå¼€å…³çš„å¼€å‘</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>