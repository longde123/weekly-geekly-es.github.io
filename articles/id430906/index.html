<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕛 🔶 👩🏻‍🤝‍👨🏿 Ibu tidur dengan tenang di malam hari - kami mengumpulkan OpenCV untuk Raspbian'a 🔖 🥇 👩🏿‍🏫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Beberapa minggu terakhir sulit bagi tim kami. OpenCV 4 dirilis , dan dengan itu, mereka bersiap untuk OpenVINO toolkit Intel R4, yang mencakup OpenCV....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Ibu tidur dengan tenang di malam hari - kami mengumpulkan OpenCV untuk Raspbian'a</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/430906/"><p> Beberapa minggu terakhir sulit bagi tim kami.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">OpenCV 4 dirilis</a> , dan dengan itu, mereka bersiap untuk <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">OpenVINO toolkit Intel</a> R4, yang mencakup OpenCV.  Anda pikir, saya terganggu untuk sementara waktu, saya akan melihat, seperti biasa, tentang forum OpenCV, dan komentar pengguna, dan di sini menjadi modis bagi Anda untuk mengatakan bahwa OpenCV bukan IoT, bahwa di bawah Raspberry Pi itu cukup untuk berkumpul - tidak ada cukup solder untuk <code>make -j2</code> - di pagi hari itu akan siap jika Anda beruntung. </p><br><p>  Oleh karena itu, saya mengusulkan untuk bergandengan tangan dan melihat bagaimana Anda dapat merakit perpustakaan OpenCV untuk sistem operasi 32-bit yang berjalan pada prosesor ARM menggunakan sumber daya mesin dengan OS 64-bit, didorong oleh arsitektur CPU yang sangat baik. <del>  Sihir </del>  Kompilasi silang, bukan sebaliknya! </p><a name="habracut"></a><br><h2 id="postanovka-zadachi">  Pernyataan masalah </h2><br><p>  Mengompilasi langsung di papan, yang biasa disebut asli, benar-benar melelahkan, jadi di sini kami akan mempertimbangkan cara untuk membangun proyek yang memungkinkan perangkat komputasi yang lebih kuat (sebut saja mereka host) untuk menyiapkan binari untuk kerabat kecil mereka.  Selain itu, kedua mesin dapat memiliki arsitektur CPU yang berbeda.  Ini adalah kompilasi silang. </p><br><p>  Jadi, untuk menyiapkan pai raspberry yang diisi dengan OpenCV, kita perlu: </p><br><ul><li>  Ubuntu 16,04 bangkai buruh pelabuhan gambar </li><li>  Mesin host lebih kuat daripada Raspberry Pi (jika tidak, apa gunanya, bukan?) </li><li>  Kompilator silang untuk ARMhf, serta pustaka arsitektur yang sesuai </li></ul><br><p>  Seluruh proses pembangunan OpenCV akan berlangsung di mesin host.  Saya menggunakan Ubuntu di rumah.  Dengan versi Linux yang lain, masalah pemutaran seharusnya tidak terjadi.  Untuk pengguna Windows - keinginan tulus saya untuk tidak menyerah dan mencoba mencari tahu sendiri. </p><br><h2 id="ustanovka-docker">  Instal Docker </h2><br><p>  Saya mulai berkenalan dengan buruh pelabuhan sekitar seminggu yang lalu, jadi tambahkan garam gourmet dan gula sintaksis secukupnya.  Tiga bahan sudah cukup untuk Anda dan saya - Dockerfile, konsep gambar dan wadah. </p><br><p>  Docker sendiri adalah alat untuk membuat dan mereproduksi konfigurasi sistem operasi dengan set komponen yang diperlukan.  Dockerfile adalah seperangkat perintah shell yang biasanya Anda gunakan pada mesin host, tetapi dalam kasus ini, semuanya berlaku untuk apa yang disebut gambar <code>docker</code> . </p><br><p>  Untuk memasang buruh pelabuhan, pertimbangkan cara paling sederhana: pesan paket melalui layanan pengiriman <code>apt-get</code> : </p><br><pre> <code class="bash hljs">sudo apt-get install -y docker.io</code> </pre> <br><p>  Kami akan memberikan daemon docker segala yang diminta dan kami akan keluar dari sistem (perhatikan login yang sesuai). </p><br><pre> <code class="bash hljs">sudo usermod -a -G docker <span class="hljs-variable"><span class="hljs-variable">$USER</span></span></code> </pre> <br><h2 id="podgotavlivaem-rabochee-prostranstvo">  Mempersiapkan ruang kerja </h2><br><p>  Raspberry Pi (dalam kasus saya RPI 2 Model B) dalam persiapan yang paling umum adalah CPU ARMv7 dengan sistem operasi Raspbian (berbasis Debian).  Kami akan membuat gambar <code>docker</code> berdasarkan Ubuntu 16.04, di mana kami akan melaporkan cross-compiler, pustaka tentara dan mengumpulkan OpenCV di tempat yang sama. </p><br><p>  Buat ayah di mana <code>Dockerfile</code> kami akan berbohong: </p><br><pre> <code class="bash hljs">mkdir ubuntu16_armhf_opencv &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ubuntu16_armhf_opencv touch Dockerfile</code> </pre> <br><p>  Tambahkan informasi tentang OS dasar dan arsitektur <code>armhf</code> untuk installer paket <code>apt-get</code> : </p><br><pre> <code class="plaintext hljs">FROM ubuntu:16.04 USER root RUN dpkg --add-architecture armhf RUN apt-get update</code> </pre> <br><p>  Harap perhatikan bahwa perintah seperti <code>FROM ...</code> , <code>RUN ...</code> adalah sintaks <code>docker</code> dan ditulis dalam file uji <code>Dockerfile</code> dibuat. </p><br><p>  Mari kita kembali ke direktori induk <code>ubuntu16_armhf_opencv</code> dan mencoba membuat gambar buruh pelabuhan kami: </p><br><pre> <code class="bash hljs">docker image build ubuntu16_armhf_opencv</code> </pre> <br><p>  Selama pelaksanaan perintah <code>apt-get update</code> , Anda harus diarahkan untuk melihat kesalahan dari jenis berikut: Kesalahan <code>Err:[] [url] xenial[-] armhf Packages</code> </p><br><pre> <code class="bash hljs">Ign:30 http://archive.ubuntu.com/ubuntu xenial-backports/main armhf Packages Ign:32 http://archive.ubuntu.com/ubuntu xenial-backports/universe armhf Packages Err:7 http://archive.ubuntu.com/ubuntu xenial/main armhf Packages 404 Not Found Ign:9 http://archive.ubuntu.com/ubuntu xenial/restricted armhf Packages Ign:18 http://archive.ubuntu.com/ubuntu xenial/universe armhf Packages Ign:20 http://archive.ubuntu.com/ubuntu xenial/multiverse armhf Packages Err:22 http://archive.ubuntu.com/ubuntu xenial-updates/main armhf Packages 404 Not Found Ign:24 http://archive.ubuntu.com/ubuntu xenial-updates/restricted armhf Packages Ign:26 http://archive.ubuntu.com/ubuntu xenial-updates/universe armhf Packages Ign:28 http://archive.ubuntu.com/ubuntu xenial-updates/multiverse armhf Packages Err:30 http://archive.ubuntu.com/ubuntu xenial-backports/main armhf Packages 404 Not Found Ign:32 http://archive.ubuntu.com/ubuntu xenial-backports/universe armhf Packages</code> </pre> <br><p>  Jika Anda melihat file <code>/etc/apt/sources.list</code> maka setiap kesalahan tersebut terkait dengan beberapa baris, misalnya: </p><br><p>  <strong>Kesalahan</strong> </p><br><pre> <code class="plaintext hljs">Err:22 http://archive.ubuntu.com/ubuntu xenial-updates/main armhf Packages 404 Not Found</code> </pre> <br><p>  <strong>Baris dalam /etc/apt/sources.list</strong> : </p><br><pre> <code class="plaintext hljs">deb http://archive.ubuntu.com/ubuntu/ xenial-updates main restricted</code> </pre> <br><p>  <strong>Solusi</strong> : <br>  Dibagi menjadi dua: </p><br><pre> <code class="plaintext hljs">deb [arch=amd64] http://archive.ubuntu.com/ubuntu/ xenial-updates main restricted deb [arch=armhf] http://ports.ubuntu.com/ubuntu-ports/ xenial-updates main restricted</code> </pre> <br><p>  Dengan demikian, Anda harus mengganti beberapa sumber paket.  Di buruh pelabuhan kami, kami akan mengganti semuanya dengan satu perintah: </p><br><pre> <code class="plaintext hljs">RUN sed -i -E 's|^deb ([^ ]+) (.*)$|deb [arch=amd64] \1 \2\ndeb [arch=armhf] http://ports.ubuntu.com/ubuntu-ports/ \2|' /etc/apt/sources.list</code> </pre> <br><p>  Sekarang <code>apt-get update</code> harus bekerja tanpa kesalahan. </p><br><h2 id="stavim-neobhodimye-pakety">  Kami menempatkan paket yang diperlukan </h2><br><p>  Kita perlu menyediakan paket host seperti <code>git</code> , <code>python-pip</code> , <code>cmake</code> dan <code>pkg-config</code> , serta <code>crossbuild-essential-armhf</code> , yang merupakan seperangkat kompiler silang gcc / g ++ ( <code>arm-linux-gnueabihf-gcc</code> dan <code>arm-linux-gnueabihf-g++</code> ) dan pustaka sistem dari arsitektur yang sesuai: </p><br><pre> <code class="plaintext hljs">RUN apt-get install -y git python-pip cmake pkg-config crossbuild-essential-armhf</code> </pre> <br><p>  Dari yang tidak biasa - kami juga mengunduh GTK (digunakan untuk menggambar windows di modul highgui), GStreamer dan Python, tetapi dengan indikasi eksplisit dari arsitektur asing: </p><br><pre> <code class="plaintext hljs">RUN apt-get install -y --no-install-recommends \ libgtk2.0-dev:armhf \ libpython-dev:armhf \ libgstreamer1.0-dev:armhf \ libgstreamer-plugins-base1.0-dev:armhf \ libgstreamer-plugins-good1.0-dev:armhf \ libgstreamer-plugins-bad1.0-dev:armhf</code> </pre> <br><p>  Dan kemudian kita mengkloning dan mengumpulkan, menunjukkan bendera yang diperlukan: </p><br><pre> <code class="plaintext hljs">RUN git clone https://github.com/opencv/opencv --depth 1 RUN mkdir opencv/build &amp;&amp; cd opencv/build &amp;&amp; \ export PKG_CONFIG_PATH=/usr/lib/arm-linux-gnueabihf/pkgconfig &amp;&amp; \ cmake -DCMAKE_BUILD_TYPE=Release \ -DOPENCV_CONFIG_INSTALL_PATH="cmake" \ -DCMAKE_TOOLCHAIN_FILE="../opencv/platforms/linux/arm-gnueabi.toolchain.cmake" \ -DWITH_IPP=OFF \ -DBUILD_TESTS=OFF \ -DBUILD_PERF_TESTS=OFF \ -DOPENCV_ENABLE_PKG_CONFIG=ON \ -DPYTHON2_INCLUDE_PATH="/usr/include/python2.7" \ -DPYTHON2_NUMPY_INCLUDE_DIRS="/usr/local/lib/python2.7/dist-packages/numpy/core/include" \ -DENABLE_NEON=ON \ -DCPU_BASELINE="NEON" ..</code> </pre> <br><p>  dimana </p><br><ul><li><p>  <code>CMAKE_TOOLCHAIN_FILE</code> - path ke file cmake yang mendefinisikan proses kompilasi silang (set kompiler yang diinginkan, membatasi penggunaan perpustakaan host. </p><br></li><li><p>  <code>WITH_IPP=OFF</code> , - nonaktifkan dependensi berat. </p><br></li><li><p>  <code>BUILD_TESTS=OFF</code> , <code>BUILD_PERF_TESTS=OFF</code> , nonaktifkan build uji. </p><br></li><li><p>  <code>OPENCV_ENABLE_PKG_CONFIG=ON</code> - sehingga pkg-config dapat menemukan dependensi seperti GTK.  <code>PKG_CONFIG_PATH</code> adalah jalur yang benar di mana <code>pkg-config</code> akan mencari perpustakaan. </p><br></li><li><p>  <code>PYTHON2_INCLUDE_PATH</code> , <code>PYTHON2_NUMPY_INCLUDE_DIRS</code> - jalur yang diperlukan untuk pembungkus kompilasi silang untuk python2. </p><br></li><li><p>  <code>ENABLE_NEON=ON</code> , <code>CPU_BASELINE="NEON"</code> - aktifkan NEON optimisasi. </p><br></li><li><p>  <code>OPENCV_CONFIG_INSTALL_PATH</code> - menyesuaikan lokasi file di direktori <code>install</code> . </p><br></li></ul><br><p>  Hal utama yang harus Anda perhatikan setelah eksekusi <code>cmake</code> adalah bahwa semua modul yang diperlukan dirakit (python2, misalnya): </p><br><pre> <code class="plaintext hljs">-- OpenCV modules: -- To be built: calib3d core dnn features2d flann gapi highgui imgcodecs imgproc java_bindings_generator ml objdetect photo python2 python_bindings_generator stitching ts video videoio -- Disabled: world -- Disabled by dependency: - -- Unavailable: java js python3 -- Applications: tests perf_tests apps -- Documentation: NO -- Non-free algorithms: NO</code> </pre> <br><p>  dan dependensi yang diperlukan, seperti GTK, ditemukan: </p><br><pre> <code class="plaintext hljs">-- GUI: -- GTK+: YES (ver 2.24.30) -- GThread : YES (ver 2.48.2) -- GtkGlExt: NO -- -- Video I/O: -- GStreamer: -- base: YES (ver 1.8.3) -- video: YES (ver 1.8.3) -- app: YES (ver 1.8.3) -- riff: YES (ver 1.8.3) -- pbutils: YES (ver 1.8.3) -- v4l/v4l2: linux/videodev2.h</code> </pre> <br><p>  Yang tersisa hanyalah memanggil <code>make</code> , <code>make install</code> dan tunggu build selesai: </p><br><pre> <code class="plaintext hljs">Successfully built 4dae6b1a7d32</code> </pre> <br><p>  Gunakan <code>id</code> gambar ini untuk memberi tag dan membuat wadah: </p><br><pre> <code class="plaintext hljs">docker tag 4dae6b1a7d32 ubuntu16_armhf_opencv:latest docker run ubuntu16_armhf_opencv</code> </pre> <br><p>  Dan kita hanya perlu memompa OpenCV rakitan keluar dari wadah.  Pertama, mari kita lihat pengidentifikasi wadah yang dibuat: </p><br><pre> <code class="plaintext hljs">$ docker container ls --all CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES e94667fe60d2 ubuntu16_armhf_opencv "/bin/bash" 6 seconds ago Exited (0) 5 seconds ago clever_yalow</code> </pre> <br><p>  Dan salin direktori instal dengan OpenCV yang diinstal: </p><br><pre> <code class="plaintext hljs">docker cp e94667fe60d2:/opencv/build/install/ ./ mv install ocv_install</code> </pre> <br><h2 id="nakryvaem-na-stol">  Atur meja </h2><br><p>  Salin <code>ocv_install</code> ke Raspberry Pi, set path dan coba jalankan OpenCV dari python. </p><br><pre> <code class="plaintext hljs">export LD_LIBRARY_PATH=/path/to/ocv_install/lib/:$LD_LIBRARY_PATH export PYTHONPATH=/path/to/ocv_install/python/:$PYTHONPATH</code> </pre> <br><p>  Jalankan contoh deteksi menggunakan jaringan saraf MobileNet-SSD dari <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://github.com/chuanqi305/MobileNet-SSD</a> : </p><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> cv2 <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> cv <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> cv.__file__ classes = [<span class="hljs-string"><span class="hljs-string">'backgroud'</span></span>, <span class="hljs-string"><span class="hljs-string">'aeroplane'</span></span>, <span class="hljs-string"><span class="hljs-string">'bicycle'</span></span>, <span class="hljs-string"><span class="hljs-string">'bird'</span></span>, <span class="hljs-string"><span class="hljs-string">'boat'</span></span>, <span class="hljs-string"><span class="hljs-string">'bottle'</span></span>, <span class="hljs-string"><span class="hljs-string">'bus'</span></span>, <span class="hljs-string"><span class="hljs-string">'car'</span></span>, <span class="hljs-string"><span class="hljs-string">'cat'</span></span>, <span class="hljs-string"><span class="hljs-string">'chair'</span></span>, <span class="hljs-string"><span class="hljs-string">'cow'</span></span>, <span class="hljs-string"><span class="hljs-string">'diningtable'</span></span>, <span class="hljs-string"><span class="hljs-string">'dog'</span></span>, <span class="hljs-string"><span class="hljs-string">'horse'</span></span>, <span class="hljs-string"><span class="hljs-string">'motorbike'</span></span>, <span class="hljs-string"><span class="hljs-string">'person'</span></span>, <span class="hljs-string"><span class="hljs-string">'pottedplant'</span></span>, <span class="hljs-string"><span class="hljs-string">'sheep'</span></span>, <span class="hljs-string"><span class="hljs-string">'sofa'</span></span>, <span class="hljs-string"><span class="hljs-string">'train'</span></span>, <span class="hljs-string"><span class="hljs-string">'tvmonitor'</span></span>] cap = cv.VideoCapture(<span class="hljs-number"><span class="hljs-number">0</span></span>) net = cv.dnn.readNet(<span class="hljs-string"><span class="hljs-string">'MobileNetSSD_deploy.caffemodel'</span></span>, <span class="hljs-string"><span class="hljs-string">'MobileNetSSD_deploy.prototxt'</span></span>) cv.namedWindow(<span class="hljs-string"><span class="hljs-string">'Object detection'</span></span>, cv.WINDOW_NORMAL) <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> cv.waitKey(<span class="hljs-number"><span class="hljs-number">1</span></span>) != <span class="hljs-number"><span class="hljs-number">27</span></span>: hasFrame, frame = cap.read() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> hasFrame: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> frame_height, frame_width = frame.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>], frame.shape[<span class="hljs-number"><span class="hljs-number">1</span></span>] blob = cv.dnn.blobFromImage(frame, scalefactor=<span class="hljs-number"><span class="hljs-number">0.007843</span></span>, size=(<span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-number"><span class="hljs-number">300</span></span>), mean=(<span class="hljs-number"><span class="hljs-number">127.5</span></span>, <span class="hljs-number"><span class="hljs-number">127.5</span></span>, <span class="hljs-number"><span class="hljs-number">127.5</span></span>)) net.setInput(blob) out = net.forward() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> detection <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> out.reshape(<span class="hljs-number"><span class="hljs-number">-1</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>): classId = int(detection[<span class="hljs-number"><span class="hljs-number">1</span></span>]) confidence = float(detection[<span class="hljs-number"><span class="hljs-number">2</span></span>]) xmin = int(detection[<span class="hljs-number"><span class="hljs-number">3</span></span>] * frame_width) ymin = int(detection[<span class="hljs-number"><span class="hljs-number">4</span></span>] * frame_height) xmax = int(detection[<span class="hljs-number"><span class="hljs-number">5</span></span>] * frame_width) ymax = int(detection[<span class="hljs-number"><span class="hljs-number">6</span></span>] * frame_height) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> confidence &gt; <span class="hljs-number"><span class="hljs-number">0.5</span></span>: cv.rectangle(frame, (xmin, ymin), (xmax, ymax), color=(<span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>), thickness=<span class="hljs-number"><span class="hljs-number">3</span></span>) label = <span class="hljs-string"><span class="hljs-string">'%s: %.2f'</span></span> % (classes[classId], confidence) labelSize, baseLine = cv.getTextSize(label, cv.FONT_HERSHEY_SIMPLEX, <span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>) ymin = max(ymin, labelSize[<span class="hljs-number"><span class="hljs-number">1</span></span>]) cv.rectangle(frame, (xmin, ymin - labelSize[<span class="hljs-number"><span class="hljs-number">1</span></span>]), (xmin + labelSize[<span class="hljs-number"><span class="hljs-number">0</span></span>], ymin + baseLine), (<span class="hljs-number"><span class="hljs-number">255</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">255</span></span>), cv.FILLED) cv.putText(frame, label, (xmin, ymin), cv.FONT_HERSHEY_SIMPLEX, <span class="hljs-number"><span class="hljs-number">0.5</span></span>, (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)) cv.imshow(<span class="hljs-string"><span class="hljs-string">'Object detection'</span></span>, frame)</code> </pre> <br><p><img src="https://habrastorage.org/webt/1h/sd/0m/1hsd0mmmse6gslxx169tw4lc2wu.png"></p><br><p>  Itu saja, perakitan lengkap membutuhkan waktu tidak lebih dari 20 menit.  Saya melampirkan versi final <code>Dockerfile</code> bawah ini dan mengambil kesempatan ini, saya mengusulkan untuk mengambil survei singkat dari tim OpenCV bagi mereka yang pernah memiliki pengalaman dengan perpustakaan: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">https://opencv.org/survey-2018.html</a> . </p><br><p>  Dan ya, selamat di OpenCV 4!  Ini bukan hanya pekerjaan tim yang terpisah, ini adalah pekerjaan seluruh komunitas - OpenCV 4 Anda. </p><br><pre> <code class="plaintext hljs">FROM ubuntu:16.04 USER root RUN dpkg --add-architecture armhf RUN sed -i -E 's|^deb ([^ ]+) (.*)$|deb [arch=amd64] \1 \2\ndeb [arch=armhf] http://ports.ubuntu.com/ubuntu-ports/ \2|' /etc/apt/sources.list RUN apt-get update &amp;&amp; \ apt-get install -y --no-install-recommends \ cmake \ pkg-config \ crossbuild-essential-armhf \ git \ python-pip \ libgtk2.0-dev:armhf \ libpython-dev:armhf \ libgstreamer1.0-dev:armhf \ libgstreamer-plugins-base1.0-dev:armhf \ libgstreamer-plugins-good1.0-dev:armhf \ libgstreamer-plugins-bad1.0-dev:armhf RUN pip install numpy==1.12.1 RUN git clone https://github.com/opencv/opencv --depth 1 RUN mkdir opencv/build &amp;&amp; cd opencv/build &amp;&amp; \ export PKG_CONFIG_PATH=/usr/lib/arm-linux-gnueabihf/pkgconfig &amp;&amp; \ cmake -DCMAKE_BUILD_TYPE=Release \ -DOPENCV_CONFIG_INSTALL_PATH="cmake" \ -DCMAKE_TOOLCHAIN_FILE="../opencv/platforms/linux/arm-gnueabi.toolchain.cmake" \ -DWITH_IPP=OFF \ -DBUILD_TESTS=OFF \ -DBUILD_PERF_TESTS=OFF \ -DOPENCV_ENABLE_PKG_CONFIG=ON \ -DPYTHON2_INCLUDE_PATH="/usr/include/python2.7" \ -DPYTHON2_NUMPY_INCLUDE_DIRS="/usr/local/lib/python2.7/dist-packages/numpy/core/include" \ -DENABLE_NEON=ON \ -DCPU_BASELINE="NEON" .. &amp;&amp; make -j4 &amp;&amp; make install</code> </pre> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id430906/">https://habr.com/ru/post/id430906/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id430892/index.html">Kombinasi dari cross-platform dan pendekatan asli dalam pengembangan aplikasi mobile</a></li>
<li><a href="../id430894/index.html">Situasi: merek semakin banyak menghabiskan uang untuk beriklan di podcast - kami mengerti mengapa</a></li>
<li><a href="../id430896/index.html">Linux Foundation telah membentuk dana untuk GraphQL dan Ceph - mengapa mereka dibutuhkan dan apa yang diharapkan dari mereka</a></li>
<li><a href="../id430900/index.html">Laser pertama dalam sejarah: apa itu</a></li>
<li><a href="../id430902/index.html">Elf dalam memori. Menjalankan ELF di Linux RAM</a></li>
<li><a href="../id430908/index.html">Modul Kontrol Konverter Daya: Pengembangan dan Perakitan</a></li>
<li><a href="../id430910/index.html">Beasiswa Fulbright: Bagaimana dan Mengapa?</a></li>
<li><a href="../id430912/index.html">Kami membawa pembohong ke air bersih: wawancara bukanlah hubungan kerja. Secara alami</a></li>
<li><a href="../id430914/index.html">Analisis harga pasar gelap untuk data pribadi dan menerobos</a></li>
<li><a href="../id430916/index.html">Detektor Karbon Dioksida MT8057S. TINJAUAN DENGAN PARTISIPASI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>