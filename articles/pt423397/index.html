<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚ùÑÔ∏è üòü üí∞ Integra√ß√£o 3CX com 1C: Trade Management - M√©todo para instalar uma extens√£o de configura√ß√£o ü§≥üèª üõµ ‚öïÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Com as in√∫meras solicita√ß√µes de parceiros e clientes, lan√ßamos a integra√ß√£o do servidor 3CX v15.5 com o popular sistema 1C: Enterprise. 

 A integra√ß√£...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Integra√ß√£o 3CX com 1C: Trade Management - M√©todo para instalar uma extens√£o de configura√ß√£o</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/3cx/blog/423397/">  Com as in√∫meras solicita√ß√µes de parceiros e clientes, lan√ßamos a integra√ß√£o do servidor 3CX v15.5 com o popular sistema 1C: Enterprise. <br><br>  A integra√ß√£o √© uma extens√£o da configura√ß√£o t√≠pica ‚ÄúTrade management, edi√ß√£o 11 (11.4.3.167) para a R√∫ssia‚Äù ( <a href="">arquivo .cfe</a> ), que √© instalada na configura√ß√£o da maneira padr√£o (veja abaixo).  No lado do servidor 3CX, um modelo de CRM √© carregado para interagir com o servi√ßo da web de configura√ß√£o publicado 1C. <br><br>  Extens√£o de configura√ß√£o 1C: o gerenciamento de transa√ß√µes implementa uma API REST que mapeia os n√∫meros de chamadas recebidas para n√∫meros de contrapartida em 1C.  Quando uma chamada chega no 3CX, solicita atrav√©s do REST da 1C os dados da contraparte associados ao ID do chamador do assinante.  Se a contraparte for encontrada, seus dados ser√£o adicionados aos Contatos 3CX e exibidos no Web client 3CX (nome e sobrenome). <br><br>  Se a op√ß√£o Ativar registro no di√°rio de chamadas estiver ativada no 3CX, o 1C manter√° um registro de chamadas no 1C. <a name="habracut"></a><br><br><h3>  1C: Requisitos de configura√ß√£o corporativa </h3><br>  Para usar a extens√£o, √© necess√°ria uma vers√£o da plataforma 1C: Enterprise n√£o inferior a 8.3.11.  A configura√ß√£o t√≠pica ‚ÄúTrade management, edi√ß√£o 11‚Äù (11.4.3.167) √© entregue no modo de compatibilidade com a plataforma 8.3.10.  Para usar a extens√£o 3CX, voc√™ deve definir o modo de compatibilidade de configura√ß√£o como N√£o usar.  Se a configura√ß√£o for suportada, voc√™ dever√° habilitar a capacidade de alterar a configura√ß√£o. <br><br>  Demonstraremos isso nas capturas de tela: <br><br>  No Configurator 1C, v√° para a se√ß√£o Configuration - Support - Support Settings. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/dd8/4f7/221/dd84f7221ce8952dbf7e63d462a0f27f.png"><br><br>  Clique no bot√£o Habilitar capacidade de altera√ß√£o e confirme na janela pop-up. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/774/775/e7d/774775e7ddbec8a9508b5231c6eae5b5.png"><br><br>  Na janela Configura√ß√µes para regras de suporte, selecione Objetos com a regra "Altera√ß√µes permitidas" - o objeto do provedor √© editado enquanto mant√©m o suporte e Objetos com a regra "Altera√ß√µes n√£o recomendadas" - O objeto do provedor n√£o √© editado. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ab9/9e4/afe/ab99e4afea19cf2c65fee167cd68f058.png"><br><br>  Clique com o bot√£o direito do mouse na se√ß√£o raiz de Trade Management, selecione Propriedades e defina o Modo de Compatibilidade para N√£o Usar. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9f2/63a/90b/9f263a90b8be85c746335c5446233fe9.png"><br><br>  Escolha Configura√ß√£o - Atualizar configura√ß√£o do banco de dados. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e17/2be/cdb/e172becdbb2db3034a9d30ac9a3c54aa.png"><br><br>  E clique em Aceitar para concluir as altera√ß√µes. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cfe/3a5/740/cfe3a574011492d196b5402d5cfea0b0.png"><br><br><h3>  Conectando uma extens√£o para interagir com o 3CX </h3><br>  Feche o Configurator e execute a configura√ß√£o 1C no modo Enterprise.  No menu superior esquerdo, selecione Todas as fun√ß√µes ... <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3bd/18f/64c/3bd18f64ce5e40abbf1086f193623d1a.png"><br><br>  Selecione Gerenciar extens√µes de configura√ß√£o. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c73/897/66c/c7389766ccaed307412c87e20e62be44.png"><br><br>  Certifique-se de que o escopo esteja definido ao instalar a extens√£o de configura√ß√£o - <a href="">Infobase</a> , clique no bot√£o Adicionar e adicione a extens√£o, especificando o <a href="">arquivo 3cx1cextension.cfe no arquivo morto</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e60/3d9/c11/e603d9c117e64665d54940f1c4151d0f.png"><br><br>  Depois de instalar a extens√£o, a guia Gerenciar extens√µes de configura√ß√£o deve aparecer como mostrado abaixo. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fc0/47a/49e/fc047a49ea0b67fa0880c3dc0233c9d3.png"><br><br><h3>  Publica√ß√£o do servi√ßo HTTP da extens√£o 1C: Enterprise em um servidor da web </h3><br>  A publica√ß√£o da configura√ß√£o 1C no servidor da Web √© realizada de maneira padr√£o, levando em considera√ß√£o os recursos do ambiente de software. <br><br><ul><li>  O procedimento de publica√ß√£o √© descrito em detalhes em 1C: ITS neste <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">link</a> . <br></li><li>  Instru√ß√µes para configurar servi√ßos da web para 1C v8.3 e IIS 8.5 no recurso <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Infostart</a> . <br></li><li>  Artigo de coment√°rio <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Publica√ß√£o de bancos de dados 1C: Enterprise 8.3 no servidor Web IIS no Microsoft Windows Server 2008/2012</a> . <br></li></ul><br>  Ao publicar, defina a op√ß√£o Publicar padr√µes dos servi√ßos de extens√£o HTTP. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/83e/d18/692/83ed18692599571142b1d0b8a0c21364.png"><br><br>  Se houver usu√°rios na configura√ß√£o (em casos raros, configura√ß√µes sem usu√°rios s√£o usadas), voc√™ deve alterar a cadeia de conex√£o para o banco de dados 1C: Enterprise. <br><br>  Considere isso usando o servidor Web IIS como exemplo: <br><br>  No diret√≥rio de publica√ß√£o, localize o arquivo default.vrd. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/170/04b/674/17004b67411136ac24f1f1be4f64af96.png"><br><br>  Altere a cadeia de conex√£o nela, adicionando as credenciais do usu√°rio em cujo nome o banco de dados responder√° √†s solicita√ß√µes HTTP.  A cadeia de conex√£o deve se parecer com isso. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ecc/96e/7a3/ecc96e7a37895fe1a51560454c6a8cd3.png"><br><br><h3>  Instalando o CRM 1C: modelo XML corporativo no 3CX </h3><br>  Abra a interface de gerenciamento 3CX e v√° para a guia Configura√ß√µes - Integra√ß√£o com CRM - Lado do servidor. <br><br>  Na se√ß√£o Integra√ß√µes dispon√≠veis do CRM, selecione 1C e clique em Download selecionado. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d82/877/15f/d8287715fa623a980ab1371ff0e07cf0.png"><br><br>  Em seguida, no campo Parte do Dom√≠nio, especifique a URL do servi√ßo HTTP de configura√ß√£o 1C publicado. <br>  Para contabilizar as chamadas em 1C, ative a op√ß√£o Ativar registro no di√°rio de chamadas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/6f3/78a/46e/6f378a46eab8127c9dea16c0cdef6c62.png"><br><h3>  Recursos de integra√ß√£o 1C: Enterprise with 3CX </h3><br>  Como mencionado acima, o ramal compara as identifica√ß√µes de chamadas recebidas com os n√∫meros de contraparte no banco de dados 1C.  Se uma correspond√™ncia for encontrada, o 3CX Web Client exibir√° o nome e o sobrenome do chamador. <br><br><h4>  Contabilidade de chamadas em 1C </h4><br>  Se o registro de chamadas estiver ativado no modelo de CRM, 1C registrar√° as chamadas recebidas e efetuadas com os seguintes par√¢metros: <br><br><ul><li>  Data da chamada <br></li><li>  Tipo de chamada: recebida / efetuada / perdida por ramal / sem resposta externa <br></li><li>  Dura√ß√£o da chamada <br></li><li>  N√∫mero externo (identifica√ß√£o de chamadas) <br></li><li>  N√∫mero do ramal (ramal 3CX) <br></li><li>  Contraparte 1C (se a conformidade for encontrada) <br></li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/25e/4ea/958/25e4ea958461fddcb3e2ad74df646931.png"><br><br>  No log de chamadas, voc√™ pode especificar as condi√ß√µes de sele√ß√£o e classifica√ß√£o das colunas de seu interesse para analisar rapidamente a situa√ß√£o de chamadas perdidas ou com falha na organiza√ß√£o. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/337/d30/fe0/337d30fe0686f55bc823bc62d832c88e.png"><br><br><h4>  Di√°rio T√©cnico de Intera√ß√£o 3CX e 1C </h4><br>  O di√°rio t√©cnico 3CX mant√©m um log de todas as chamadas 3CX para 1C atrav√©s da API REST. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/45a/3ae/2d8/45a3ae2d859a476bce2e370ad68f21d6.png"><br><br>  Esse log pode ser usado para diagn√≥stico pelo administrador ou programador 1C. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/677/e6e/169/677e6e169544975c37523367536e85d2.png"><br><br><h3>  Downloads e documenta√ß√£o </h3><br><ul><li>  <a href="">Extens√£o da configura√ß√£o padr√£o 1C: Empresa "Trade Management, edi√ß√£o 11 (11.4.3.167) para a R√∫ssia"</a> <br></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Discuss√£o sobre integra√ß√£o de f√≥rum 3CX</a> <br></li></ul><br><h3>  Perguntas frequentes </h3><br><ol><li>  O que acontece se um cliente n√£o for encontrado?  No momento, a plataforma 1C n√£o tem a capacidade de chamar o formul√°rio para adicionar um novo cliente por meio de um link HTTP. <br></li><li>  Se o contato for exibido no Web client, √© poss√≠vel abrir o cart√£o completo em 1C?  No momento, a plataforma 1C n√£o tem a capacidade de chamar um cart√£o de cliente por meio de um link HTTP. <br></li><li>  √â poss√≠vel fazer uma chamada de um cliente 1C fino ou grosso?  √â poss√≠vel, mas para isso, o suporte apropriado da API 3CX REST deve ser implementado. <br></li><li>  √â poss√≠vel redirecionar uma chamada da 1C ou implementar um monte de "gerenciador fixo de cliente"?  √â poss√≠vel, mas para isso, o suporte apropriado da API 3CX REST deve ser implementado. <br></li><li>  √â poss√≠vel implementar um painel de monitoramento em tempo real (painel de telefonia) de chamadas em 1C?  Atualmente, com uma chamada recebida, o 3CX transmite apenas o ID do chamador do assinante sem informa√ß√µes de servi√ßo auxiliar (por exemplo, ocupa√ß√£o de uma linha espec√≠fica, n√∫mero do ramal do destinat√°rio da chamada, etc.).  Informa√ß√µes de servi√ßo adicionais s√£o transmitidas ap√≥s a conclus√£o da chamada.  Al√©m disso, o painel envolve a intera√ß√£o do usu√°rio com as chamadas, mas isso requer suporte da API REST 3CX. <br></li><li>  Posso ver as chamadas perdidas no cart√£o da contraparte?  Use o Log de chamadas 1C, que implementa o ramal.  Nele, voc√™ pode selecionar rapidamente os contratados nos quais est√° interessado. <br></li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt423397/">https://habr.com/ru/post/pt423397/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt423383/index.html">Ajax js modifica√ß√£o para ajax Asp .net mvc</a></li>
<li><a href="../pt423385/index.html">Curso "Fundamentos de Programa√ß√£o"</a></li>
<li><a href="../pt423391/index.html">CLRium # 4: Reuni√£o da Comunidade .Net</a></li>
<li><a href="../pt423393/index.html">Redes neurais baseadas em regras</a></li>
<li><a href="../pt423395/index.html">Tesla estabeleceu recorde trimestral para carros el√©tricos produzidos</a></li>
<li><a href="../pt423399/index.html">Um exemplo de registro de vers√£o simples do PostgreSQL</a></li>
<li><a href="../pt423403/index.html">Test drive VW e-Golf, Nissan Leaf e Tesla Modelo 3</a></li>
<li><a href="../pt423405/index.html">Aprenda t√°ticas, t√©cnicas e conhecimentos comuns do advers√°rio (ATT @ CK). T√°ticas corporativas. Parte 1</a></li>
<li><a href="../pt423407/index.html">Geralmente, tenho medo de filhos, meu caro senhor, s√£o barulhentos, cru√©is e ego√≠stas, e se os filhos governam o estado?</a></li>
<li><a href="../pt423409/index.html">Como fazer o pr√≥prio Lunokhod</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>