<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§üüèæ ‚õπüèº üëßüèº Entwicklerkochbuch: DDD-Rezepte (Teil 3, Anwendungsarchitektur) üïñ ‚û°Ô∏è üë©üèæ‚Äçü§ù‚Äçüë©üèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Einf√ºhrung 


 In fr√ºheren Artikeln haben wir den Umfang des Ansatzes identifiziert und die grundlegenden methodischen Prinzipien des Domain Driven De...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Entwicklerkochbuch: DDD-Rezepte (Teil 3, Anwendungsarchitektur)</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429750/"><h1 id="vvedenie">  Einf√ºhrung </h1><br><p>  In fr√ºheren Artikeln haben wir den <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Umfang des</a> Ansatzes identifiziert und die <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">grundlegenden methodischen Prinzipien des Domain Driven Design untersucht</a> . </p><br><p> In diesem Artikel m√∂chte ich die wichtigsten modernen Ans√§tze zum Aufbau der Architektur von Unternehmenssystemen skizzieren: Supple, Screaming, Clean und meine klare Interpretation in Form einer schl√ºsselfertigen Komplettl√∂sung geben. </p><br><p><img src="https://habrastorage.org/webt/jw/jt/mr/jwjtmrixh99-s5hje6sn32l-0s4.jpeg" alt="WM"></p><br><p>  In Zukunft werden wir jedes Entwurfsmuster im Detail betrachten: Wir geben den Umfang an, geben Codebeispiele an und heben empfohlene Vorgehensweisen hervor.  Als Ergebnis werden wir einen vorgefertigten Microservice schreiben. </p><a name="habracut"></a><br><h1 id="gibkaya-arhitektura">  Flexible Architektur </h1><br><p>  Im <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">letzten Artikel haben</a> wir uns auf die Tatsache konzentriert, dass DDD die Praxis der Implementierung durch das Modell beinhaltet.  Der Themenbereich sollte durch Ihren Code beschrieben werden.  Versuchen wir herauszufinden, wie das geht. </p><br><p>  Eric Evans bietet in seinem Buch eine Reihe empfohlener Entwurfsmuster und bezeichnet diesen Ansatz als flexibel: </p><br><blockquote>  Im Namen der Architekturflexibilit√§t wurden viele unn√∂tige Konstruktionen in Programmen angeh√§uft.  √úberm√§√üige Abstraktionsebenen und indirekte Verkn√ºpfungen st√∂ren eher als helfen in dieser Angelegenheit.  Schauen Sie sich die Architektur an, die Programmierer wirklich dazu inspiriert, sie zu verfeinern, und Sie werden normalerweise etwas sehr Einfaches sehen.  Einfach hei√üt aber nicht einfach auszuf√ºhren.  Um solche Elemente zu schaffen, die zu komplexen Systemen zusammengesetzt werden k√∂nnen und gleichzeitig leicht zu verstehen sind, ist es notwendig, "Engagement" f√ºr das Entwerfen nach dem Modell mit einem ziemlich strengen Architekturstil zu kombinieren.  Eine bestimmte Designf√§higkeit ist nicht nur erforderlich, um etwas zu erstellen, sondern auch, um das fertige zu verwenden. <br><br>  Eric Evans, Domain-Driven Design: Komplexit√§t im Herzen von Software angehen </blockquote><p>  Die vorgestellten Entwurfsmuster sind keine strenge Architektur oder vorgefertigte L√∂sung, sondern Denkanst√∂√üe. </p><br><h1 id="krichaschaya-arhitektura">  Auff√§llige Architektur </h1><br><p>  √Ñhnliche Gedanken kamen in den K√∂pfen vieler Entwickler und Designer komplexer Systeme auf. </p><br><p>  Im Jahr 2011 wurde ein Artikel von Robert Martin - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Screaming Architecture</a> ver√∂ffentlicht, der besagt, dass Ihr Code den Themenbereich nicht nur beschreiben, sondern vorzugsweise obsz√∂n dar√ºber schreien sollte. </p><br><blockquote>  Was schreit die Architektur Ihrer Anwendung?  Wenn Sie sich die Verzeichnisstruktur der obersten Ebene und die Quelldateien im Paket der h√∂chsten Ebene ansehen.  schreien sie: Gesundheitssystem oder Buchhaltungssystem oder Bestandsverwaltungssystem?  Oder schreien sie: Rails oder Spring / Hibernate oder ASP? <br><br>  Robert C. Martin, 30. September 2011 </blockquote><p>  Robert sagt, dass Ihr Anwendungscode die Aktivit√§t der Anwendung widerspiegeln sollte, anstatt sich an die Regeln des Frameworks anzupassen.  Die Framework-Struktur sollte Ihre Architektur nicht einschr√§nken.  Die Anwendung sollte wiederum nicht an die Datenbank oder das http-Protokoll angeh√§ngt werden. Dies sind lediglich Speicher- und √úbermittlungsmechanismen.  Der Begrenzungsrahmen ist ein Werkzeug.  Sie sollten kein Anh√§nger des Frameworks werden.  Die Tests Ihrer Anwendung sind Tests der Funktionslogik und keine Tests des http-Protokolls. </p><br><h1 id="chistaya-arhitektura">  Saubere Architektur </h1><br><p>  Ein Jahr sp√§ter der n√§chste Artikel von Robert Martin - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">The Clean Architecture</a> .  Darin erkl√§rt der Autor, wie man den Code zum Schreien bringt.  Nachdem er mehrere Architekturen studiert hat, identifiziert er die Grundprinzipien: </p><br><ol><li>  Rahmenunabh√§ngigkeit.  Die Architektur ist nicht von einer vorhandenen Bibliothek abh√§ngig.  Auf diese Weise k√∂nnen Sie Frameworks als Werkzeuge verwenden und nicht die Einschr√§nkungen, die Ihre H√§nde binden. </li><li>  Testbarkeit.  Gesch√§ftsregeln k√∂nnen ohne Benutzeroberfl√§che, Datenbank, Webserver oder andere technische Mittel getestet werden. </li><li>  Unabh√§ngigkeit der Benutzeroberfl√§che.  Die Benutzeroberfl√§che kann einfach ge√§ndert werden, ohne den Rest des Systems zu √§ndern.  Beispielsweise kann die Weboberfl√§che durch die Konsolenschnittstelle ersetzt werden, ohne die Gesch√§ftslogik zu √§ndern. </li><li>  Datenbankunabh√§ngigkeit.  Sie k√∂nnen Oracle oder SQL Server gegen Mongo, BigTable, CouchDB oder etwas anderes austauschen.  Ihre Anwendungslogik sollte nicht datenbankgebunden sein. </li><li>  Unabh√§ngigkeit von Umwelteinfl√ºssen.  Tats√§chlich wissen Ihre Gesch√§ftsregeln einfach nichts √ºber die Au√üenwelt. </li></ol><br><p>  Auf einem habr wurde bereits ein sehr guter Artikel <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Misconceptions Clean Architecture ver√∂ffentlicht</a> .  Sein Autor <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" class="user_link">Jeevuz hat</a> die Feinheiten des Verst√§ndnisses dieses Ansatzes sehr gut gekaut.  Ich empfehle Ihnen dringend, sich sowohl mit ihm als auch mit den Originalmaterialien vertraut zu machen. </p><br><h1 id="variativnaya-arhitektura">  Variable Architektur </h1><br><p>  Die Beschreibung des obigen Ansatzes sieht nicht so einfach aus.  Im Rahmen der Entwicklung der Architektur einer Reihe komplexer Unternehmenssysteme haben meine Kollegen und ich eine ziemlich klare Interpretation der beschriebenen Ans√§tze entwickelt, die ich im Folgenden vorstellen m√∂chte. </p><br><p>  Vor dem Aufkommen von Computern und Programmiersprachen wurde der Papierworkflow verwendet, um Systeme mit komplexer Gesch√§ftslogik zu erstellen und zu verwalten.  Das Ergebnis eines Prozesses war ein Dokument, das letztendlich ein bestimmtes Gesch√§ftsobjekt beschrieb.  Infolgedessen bestand der Papierkram aus drei einfachen <em>Aktionen</em> : </p><br><ol><li>  Dokumenterstellung </li><li>  Dokumentenverarbeitung </li><li>  Arbeiten Sie mit dem Archiv der Dokumente </li><li>  Einreichung von Dokumenten </li></ol><br><blockquote>  Dokument - Aufzeichnen von Informationen √ºber wirtschaftliche Aktivit√§ten eines bestimmten realen Gesch√§ftsobjekts. </blockquote><p>  Bitte beachten Sie, dass das Dokument selbst kein echtes Gesch√§ftsobjekt ist, sondern nur sein <em>Modell</em> .  Derzeit werden Papierdokumente durch elektronische Dokumente ersetzt.  Ein Dokument kann eine Aufzeichnung in einer Tabelle, einem Bild, einer Datei, einem gesendeten Brief oder einer anderen Information sein. <br>  Ich m√∂chte das Word-Dokument in Zukunft nicht mehr verwenden, da es verwirrender sein wird, werden wir das Konzept der Entit√§t aus der DDD-Terminologie verwenden.  Sie k√∂nnen sich jedoch vorstellen, dass Ihr gesamtes System jetzt ein elektronisches Dokumentenverwaltungssystem ist, das vier einfache <em>Aktionen</em> ausf√ºhrt. </p><br><ol><li>  Sammeln </li><li>  Verarbeitung </li><li>  Lagerung </li><li>  Repr√§sentativeation </li></ol><br><blockquote>  Aktion - eine strukturelle Aktivit√§tseinheit eines Gesch√§ftsmodells;  ein relativ abgeschlossener separater Akt eines bewussten Ziels, die Willk√ºr und Intentionalit√§t der individuellen Aktivit√§t eines Gesch√§ftsobjekts, die vom Endbenutzer unterschieden wird. </blockquote><p>  Ein gutes Beispiel f√ºr <em>Action</em> ist ein Theaterakt.  Das Theater modelliert Ereignisse aus dem wirklichen Leben.  Die Handlung ist ein bedeutender Teil des St√ºcks.  Um die Geschichte zu vervollst√§ndigen, m√ºssen Sie jedoch mehrere Akte in einer genau festgelegten Reihenfolge spielen.  Eine solche Reihenfolge in unserer Architektur werden wir den <em>Modus nennen</em> . </p><br><blockquote>  Modus (Leitung) - Eine Reihe von <em>Aktionen</em> in einer bestimmten Reihenfolge, die eine vollst√§ndige Bedeutung haben und f√ºr den Endbenutzer von Vorteil sind. </blockquote><p><img src="https://habrastorage.org/webt/yp/i7/2z/ypi72zofhbqjsziq17lyis6odiw.png" alt="Leitung"></p><br><p>  F√ºr solche Betriebsarten wurde ein selektiver Leiter oder Selektor erfunden.  Genauer gesagt, "Zeitsteuerungsmechanismus zum Durchf√ºhren eines ausgew√§hlten aus einer Vielzahl von Betriebssequenzen", f√ºr die das Patent <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">US2870278A</a> erhalten wurde.  Wir kennen dieses Ger√§t als die "Drehung" der Waschmaschine.  Die architektonische Wendung wird am Anfang des Artikels angegeben. </p><br><p>  Die Variabilit√§t des Ansatzes zeigt sich in der Tatsache, dass Sie mit dieser Architektur einen der vier <em>Modi</em> ausw√§hlen k√∂nnen, bei denen Sie keine unn√∂tigen <em>Aktionen</em> ausf√ºhren. </p><br><p>  Beim Starten der Waschmaschine k√∂nnen Sie den Modus ausw√§hlen: Waschen, Sp√ºlen oder Schleudern.  Wenn Sie sich f√ºr das Waschen entscheiden, sp√ºlt Ihre Maschine die W√§sche trotzdem aus und dr√ºckt sie dann zusammen.  Mit der Sp√ºlung im Kit werden Sie sicher einen Spin bekommen.  Schleudern - die letzte <em>Aktion</em> im Waschprozess ist die ‚Äûeinfachste‚Äú.  In unserer Architektur ist die einfachste <em>Aktion</em> die <em>Repr√§sentation</em> , und wir werden damit beginnen. </p><br><h2 id="predstavlenie-representation">  Vertretung </h2><br><p>  Wenn wir von einer reinen Pr√§sentation sprechen, ohne auf eine Datenbank oder eine externe Quelle zur√ºckzugreifen, geben wir einige statische Informationen aus: eine HTML-Seite, eine Datei, ein Verzeichnis in Form von json.  Wir k√∂nnen sogar nur eine <em>Code-Antwort ausgeben</em> - 200: </p><br><p>  Schreiben wir den einfachsten "Health Checker" </p><br><pre><code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Health</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Endpoints</span></span></span><span class="hljs-class"> &lt; Sinatra::Base </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">get</span></span></span><span class="hljs-class"> '/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">check</span></span></span><span class="hljs-class">' </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">do</span></span></span><span class="hljs-class">;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br><p>  In seiner primitivsten Form wird unser Schema folgenderma√üen aussehen: </p><br><p><img src="https://habrastorage.org/webt/-g/b4/ah/-gb4ahfzxvwn1zhxfrrqmoagzcm.png" alt="Repr√§sentativeation"></p><br><div class="spoiler">  <b class="spoiler_title">Lyrischer Exkurs</b> <div class="spoiler_text"><p>  Ich bitte Sie zu beachten, dass im Sinatra-Framework die <em>Endpoints-</em> Klasse sowohl <em>Router</em> als auch <em>Controller</em> in einer Klasse kombiniert.  Verst√∂√üt dies gegen den Grundsatz der alleinigen Verantwortung?  Tats√§chlich ist Endpoints keine Klasse, sondern eine Ebene, die durch eine Klasse und ihren Verantwortungsbereich auf einer h√∂heren Ebene ausgedr√ºckt wird. </p><br><p>  Ok, was ist mit <em>Router</em> und <em>Controller</em> ?  Sie werden nicht durch eine Reihe von Klassen dargestellt, sondern durch den Namen und die Implementierung einer Funktion.  Eine statische Datei ist im Allgemeinen eine Datei.  Eine Klasse ist f√ºr eine Verantwortung verantwortlich, aber versuchen Sie nicht, jede Verantwortung durch eine Klasse auszudr√ºcken.  Verwenden Sie Praktikabilit√§t, nicht Dogmatismus. </p></div></div><br><h2 id="rabota-s-sistemoy-hraneniya-storage">  Arbeiten Sie mit dem Speichersystem </h2><br><p>  Unternehmen fordern die Verf√ºgbarkeit Ihrer Anwendung.  Warum sollte jemand Ihren Service ben√∂tigen, wenn wir ihn nicht zum richtigen Zeitpunkt nutzen k√∂nnen?  Um die Datenintegrit√§t sicherzustellen, zeichnen wir nach jeder Verarbeitung eine √Ñnderung des Status eines Gesch√§ftsobjekts auf. </p><br><p>  Zum Abrufen eines Objekts aus dem Speicher ist kein Zugriff auf die Gesch√§ftslogik erforderlich.  Stellen Sie sich vor, wir automatisieren die Aktivit√§ten einer Hotelkette und haben ein Gastmagazin an der Rezeption.  Wir haben uns entschlossen, Informationen √ºber den Besucher zu sehen. </p><br><pre> <code class="ruby hljs"> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Reception</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Endpoints</span></span></span><span class="hljs-class"> &lt; Sinatra::Base </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment"># Show item get '/residents/:id', provides: :json do resident = Repository::Residents.find params[:id] status 200 serialize(resident) end end end</span></span></span></span></code> </pre> <br><p>  <em>Arbeiten Sie mit dem Speichersystem</em> in Form eines grafischen Diagramms: </p><br><p><img src="https://habrastorage.org/webt/dt/1c/ek/dt1cektbpcmlrvz76utwko6tbk4.png" alt="Lagerung"></p><br><p>  Wie wir sehen k√∂nnen, wird die Kommunikation zwischen der f√ºr das Speichern verantwortlichen Schicht und der f√ºr die Darstellung von Daten verantwortlichen Schicht √ºber das Antwortmodell implementiert.  Dieses Modell geh√∂rt zu keiner dieser Ebenen.  Tats√§chlich ist dies ein Gesch√§ftsobjekt und befindet sich auf der Ebene, die f√ºr die Gesch√§ftslogik verantwortlich ist. </p><br><h2 id="obrabotka-processing">  Verarbeitung </h2><br><p>  Wenn sich das Objektmodell aufgrund seiner Eigenschaften √§ndert, ohne neue Daten einzuf√ºhren, wenden wir uns direkt der <em>Interactor-</em> Ebene zu.  Die <em>Interactor-</em> Schicht ist der Schl√ºssel in unserer Anwendung. Sie beschreibt die gesamte Gesch√§ftslogik in Form separater Anwendungsf√§lle und √§ndert sich darauf. </p><br><p>  Betrachten Sie diesen Anwendungsfall.  Der Besucher ist bereits in unserem Hotel registriert, aber wir feiern jede Ankunft oder Abreise. </p><br><pre> <code class="ruby hljs"> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Reception</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Endpoints</span></span></span><span class="hljs-class"> &lt; Sinatra::Base </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment"># Register resident arrival post '/residents/:uid/arrival', provides: :json do result = Interactors::Arrival.call(resident_id: params[:id]) check!(result) do status 201 serialize result.data end end # Register resident departure post '/residents/:uid/departure', provides: :json do result = Interactors::Departure.call(resident_id: params[:id]) check!(result) do status 201 serialize result.data end end end end</span></span></span></span></code> </pre> <br><p>  Lass uns ein bisschen aufh√∂ren.  Warum nicht die Implementierung zu einer einzigen Methode mit dem <code>status</code> ?  <em>Die Interaktoren f√ºr</em> <code>Arrival</code> und <code>Departure</code> unterscheiden sich grundlegend.  Wenn ein Gast zu uns kommt, m√ºssen wir pr√ºfen, ob die Reinigung beendet ist, ob neue Nachrichten f√ºr ihn eingegangen sind usw.  Im Gegenteil, bei seiner Abreise m√ºssen wir gegebenenfalls die Reinigung einleiten.  Im Gegenzug erinnern wir uns nicht einmal an die Nachrichten, denn wenn er in einem Hotel gewesen w√§re, h√§tten wir ihn sofort angerufen.  Es ist all diese Gesch√§ftslogik, die wir auf der <em>Interactor-</em> Ebene vorschreiben. </p><br><p><img src="https://habrastorage.org/webt/of/hk/al/ofhkalijd4o2u3xrwtptgtzjko0.png" alt="Verarbeitung"></p><br><p>  Aber was sollen wir tun, wenn wir Daten von au√üen haben?  Hier ist die Aktion der <em>Datenerfassung</em> verbunden. </p><br><h3 id="sbor-dannyh-collecting">  Daten sammeln </h3><br><p>  Bei der erstmaligen Anmeldung eines Gastes im Hotel f√ºllt er das Anmeldeformular aus.  Dieses Formular wird √ºberpr√ºft.  Wenn die Daten korrekt sind, findet der Gesch√§ftsprozess Registrierung statt.  Der Prozess gibt Daten zur√ºck - das erstellte Gesch√§ftsmodell "Mandant".  Wir pr√§sentieren dem Gast dieses Modell in lesbarer Form: </p><br><pre> <code class="ruby hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">module</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Reception</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Endpoints</span></span></span><span class="hljs-class"> &lt; Sinatra::Base </span><span class="hljs-comment"><span class="hljs-class"><span class="hljs-comment"># Register new resident post '/residents', provides: [:json] do form = Forms::Registration.new(params) complete! form do check! form.result do status 201 serialize form.result.data end end end end end</span></span></span></span></code> </pre> <br><p>  Schematisch sieht es so aus: </p><br><p><img src="https://habrastorage.org/webt/fy/ci/dv/fycidvf5npkklovkk6quaatn3oi.png" alt="Sammeln"></p><br><h1 id="pravila-igry-rules">  Spielregeln (Regeln) </h1><br><ul><li>  In Bezug auf Prozesse ist ein variatives System in <em>Aktionen unterteilt</em> . </li><li>  Die Reihenfolge der <em>Aktionen</em> wird durch den <em>Modus bestimmt</em> . </li><li>  <em>Die Modi sind</em> inkrementell. </li><li>  Ein ‚Äûkomplexerer‚Äú <em>Modus</em> erg√§nzt einen ‚Äûeinfacheren‚Äú <em>Modus</em> f√ºr nur eine Aktion. </li><li>  Jede Aktion findet im Rahmen einer <em>Ebene statt</em> . </li><li>  Jede Ebene wird durch eine <em>Klasse dargestellt</em> . </li><li>  Innerhalb einer Ebene k√∂nnen sich <em>Ebenenklassen</em> <em>und Verantwortungsklassen befinden</em> . </li><li>  Die Kommunikation findet nur zwischen der <em>Schicht</em> und der Zwischenschichtklasse statt. </li><li>  <em>Darstellungsmodelle</em> sind Ausnahmen. </li><li>  Die Fehlerbehandlung sollte auf <em>Klassenebene erfolgen</em> . </li></ul><br><p><img src="https://habrastorage.org/webt/mb/hz/xk/mbhzxk9rdmqlijg-xsmissqeu1w.png" alt="Baum"></p><br><h1 id="obschaya-shema">  Allgemeines Schema </h1><br><p>  Dieser Ansatz hat eine hohe Eintrittsschwelle.  Die Anwendung erfordert viel Erfahrung des Designers, um die zu l√∂senden Aufgaben klar zu verstehen.  Die Komplexit√§t repr√§sentiert auch die Vielfalt der Auswahlm√∂glichkeiten des erforderlichen Werkzeugs.  Trotz der Komplexit√§t der Struktur ist die Implementierung auf Codeebene unglaublich einfach und ausdrucksstark.  Obwohl es eine Reihe von Konventionen und Vollmachten enth√§lt.  In Zukunft werden wir jede Entwurfsvorlage einzeln analysieren, beschreiben, wie sie erstellt, getestet und der Umfang festgelegt wird.  Und um nicht in ihrer Vielfalt verwirrt zu werden, wird eine vollst√§ndige Karte angeboten: <br><img src="https://habrastorage.org/webt/ln/co/g5/lncog5svcpzab3kc0su-q59aafu.png"></p><br><p>  <a href="">Hochaufl√∂sende Karte</a> </p><br><hr><br><div class="spoiler">  <b class="spoiler_title">Inspirationsquellen</b> <div class="spoiler_text"><ul><li>  Problemorientiertes Design, Eric J. Evans </li><li>  Kate Matsudeira: Skalierbare Webarchitektur und verteilte Systeme </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://blog.cleancoder.com/uncle-bob/2011/09/30/Screaming-Architecture.html</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">https://habr.com/company/mobileup/blog/335382/</a> <br><br></li></ul></div></div></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de429750/">https://habr.com/ru/post/de429750/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de429732/index.html">Du wirst das oder eine Geschichte dar√ºber hassen, wie gut Code aussehen sollte</a></li>
<li><a href="../de429734/index.html">Der Traum vom Fliegen mit elektrischer Vorspannung</a></li>
<li><a href="../de429736/index.html">Hogweed von Sosnowski. In MO wurden Bu√ügelder f√ºr den Vertrieb eingef√ºhrt</a></li>
<li><a href="../de429738/index.html">Optimale Shard-Anordnung im Elasticsearch-Petabyte-Cluster: Lineare Programmierung</a></li>
<li><a href="../de429744/index.html">Lerne OpenGL. Lektion 6.4 - IBL. Spiegelexposition</a></li>
<li><a href="../de429754/index.html">Schwerwiegende Hardware-Integrationsfehler</a></li>
<li><a href="../de429756/index.html">So konfigurieren Sie die Installation der Umgebungsvariablen von Nuxt.j zur Laufzeit oder wie Sie alles tun, was nicht jedem gef√§llt, und es nicht bereuen</a></li>
<li><a href="../de429758/index.html">Warum SRE-Dokumentation wichtig ist. Teil 1</a></li>
<li><a href="../de429762/index.html">MiniDV Camcorder Streamer</a></li>
<li><a href="../de429764/index.html">Spiel "Life" auf FPGA Altera Cyclone IV</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>