<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üå™Ô∏è üè¥ üë©‚Äç‚úàÔ∏è Como escolhemos a base de componentes para uma casa inteligente: sobre sensores e um controlador üíõ üåÖ ü¶â</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kauri desenvolve equipamentos para solu√ß√µes de IoT e escreve software para ele. Recentemente, testamos com sucesso a rede Zigbee com uma placa de depu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Como escolhemos a base de componentes para uma casa inteligente: sobre sensores e um controlador</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/kauri_iot/blog/472430/">  <i>Kauri desenvolve equipamentos para solu√ß√µes de IoT e escreve software para ele.</i>  <i>Recentemente, testamos com sucesso a rede Zigbee com uma placa de depura√ß√£o e sensores, por isso fizemos um pequeno guia.</i> <i><br><br></i>  <i>Vamos falar sobre os crit√©rios de sele√ß√£o, fabricantes, pre√ßos, um pouco repreendendo o mercado russo.</i> <i><br></i> <br><img src="https://habrastorage.org/webt/vt/5f/fw/vt5ffwzvdfn_drf1po1oqppc_88.jpeg" alt="imagem"><br><a name="habracut"></a><br>  N√≥s compilamos para n√≥s mesmos a seguinte lista de sensores que s√£o de nosso interesse, respons√°veis ‚Äã‚Äãpela indica√ß√£o: <br><br><ol><li>  Vazamento </li><li>  Fuma√ßa </li><li>  Penetra√ß√£o (contato magn√©tico) </li><li>  Movimentos de objetos </li><li>  Quebra de vidro </li></ol><br>  Al√©m de sensores de medi√ß√£o: <br><br><ol><li>  Temperatura </li><li>  Consumo de g√°s / √°gua </li><li>  Consumo de energia </li><li>  Umidade </li></ol><br>  Desses, adquirimos sensores para movimento / n√≠vel de ilumina√ß√£o, intrus√£o, vazamento e temperatura / umidade (com base em solu√ß√µes para uma casa inteligente - evitando roubos, inc√™ndios, inunda√ß√µes). <br><br><h3>  <font color="#5dbd35">Como escolhemos um fabricante?</font> </h3><br>  O crit√©rio mais simples para a sele√ß√£o √© o custo do sensor e sua disponibilidade na R√∫ssia.  O sensor em si √© um dispositivo simples, diferentes empresas oferecem aproximadamente a mesma qualidade, por isso fomos guiados pelo pre√ßo do produto - quanto mais barato, melhor.  Afinal, no final, o cliente pagar√° por tudo e centenas de sensores podem ir para uma casa grande.  Se voc√™ pagar 1.000 rublos ou mais por cada um, ficar√° caro. <br><br><img src="https://habrastorage.org/webt/pm/ct/bg/pmctbgqz3rzdczdbsqm7w_jmdec.jpeg" alt="imagem"><br><br>  Outro crit√©rio importante √© o consumo de energia (nossos sensores, por exemplo, operam com energia da bateria).  Alguns dispositivos s√£o colocados em locais de dif√≠cil acesso, a substitui√ß√£o constante das baterias pode ser um problema desagrad√°vel.  Observamos sensores compat√≠veis com a tecnologia ZigBee, que √© o padr√£o de comunica√ß√£o com maior efici√™ncia energ√©tica.  Portanto, nossos sensores podem estar no modo de suspens√£o, consumindo uma quantidade m√≠nima de energia e alternar para o modo de recep√ß√£o-transmiss√£o somente quando necess√°rio. <br><br>  E o ZigBee, embora tenha uma baixa taxa de transfer√™ncia, √© considerado uma rede completamente confi√°vel e auto-repar√°vel, f√°cil de implantar e operar. <br><br><h3>  <font color="#5dbd35">Quem faz esses sensores?</font> </h3><br>  Existem muitas empresas, apenas vimos a lista.  A Xiaomi √© a l√≠der - eles t√™m um produto barato, uma grande variedade, voc√™ pode at√© pedir no Aliexpress.  Ainda assim, os sensores devem ser facilmente acess√≠veis e populares. <br><br>  Os sensores em si s√£o in√∫teis; eles devem estar conectados √† rede.  Portanto, √© ainda necess√°rio decidir qual base de elemento e SoC zigbish escolher para testar este padr√£o de comunica√ß√£o. <br><br>  Escolhemos entre os cristais Texas Instruments e Silicon Labs.  Ent√£o eles come√ßaram a ver como est√£o as coisas com o apoio desses microprocessadores na R√∫ssia.  Quando voc√™ come√ßa a entender o trabalho deles, podem surgir quest√µes t√©cnicas: a documenta√ß√£o detalhada do fabricante ajudar√° aqui. <br><img src="https://habrastorage.org/webt/6t/pk/7e/6tpk7e8kpxeovlmyrupj-kuy_ks.jpeg" alt="imagem"><br>  Tamb√©m existem alguns componentes dif√≠ceis de comprar na R√∫ssia - n√£o h√° distribuidores diretos.  E isso √© importante: voc√™ deve ser capaz de concluir um contrato de parceria: voc√™ escolheu um cristal e concordou em comprar um lote mensalmente.  Assim, eles far√£o uma oferta especial para voc√™ a pre√ßos, etc.  A prop√≥sito, alguns fabricantes podem "apresentar" amostras de teste ao registrar um projeto. <br><br>  Como resultado, voltamos aos distribuidores da Silicon Labs, podemos concluir um acordo com eles, os pre√ßos s√£o adequados, h√° suporte n√£o apenas ao hardware, mas tamb√©m ao software (todos os tipos de bibliotecas especializadas, DLLs - tudo isso facilita a vida dos desenvolvedores). <br><br>  Em seguida, precisamos de uma placa eletr√¥nica para trabalhar com o chip.  Este √© um processo longo.  E para que os programadores possam come√ßar a trabalhar imediatamente, o Silicon Labs fornece, em particular, placas de depura√ß√£o (um pacote completo para desenvolvedores), drivers. <br><br><h3>  <font color="#5dbd35">Sobre o controlador</font> </h3><br><img src="https://habrastorage.org/webt/v2/a2/vw/v2a2vwie7_pk_0as8vrqbfv-kq0.jpeg" alt="imagem"><br><br>  O controlador coleta dados sobre a opera√ß√£o dos sensores e os envia ao servidor para processamento adicional.  Criamos nosso pr√≥prio controlador modular Kauri para que ele possa trabalhar com o maior n√∫mero poss√≠vel de padr√µes de comunica√ß√£o modernos para diferentes ind√∫strias.  Da log√≠stica, onde o LoRa √© usado principalmente, ao varejo, onde a tecnologia RFID √© necess√°ria. <br><br>  Tamb√©m √© importante para n√≥s que o controlador funcione autonomamente.  E, mesmo se houver problemas com a rede, a casa deve permanecer "inteligente" e segura.  Os controladores da Xiaomi, por exemplo, n√£o fornecem essa solu√ß√£o.  Eles transmitem todas as informa√ß√µes para os servidores na China (a prop√≥sito, informa√ß√µes sobre a localiza√ß√£o das moradias tamb√©m podem ser transportadas para l√°). <br><br>  O controlador Kauri gerencia todos os dispositivos na LAN ZigBee usando scripts Python.  Portanto, em caso de problemas com a Internet, o sistema continuar√° executando adequadamente suas tarefas. <br><br>  A "caixa" para o pr√≥prio controlador - o caso - √© fabricada por muitas empresas.  Ao escolher, √© melhor come√ßar da esfera da explora√ß√£o - uma rua, uma casa.  Se o controlador estiver na rua, selecione IP pelo menos 65 (para suportar chuvas).  O controlador para as instala√ß√µes (casa, f√°brica, armaz√©m) √© selecionado com IP40.  Se precisarmos de um dispositivo selado (para trabalhar debaixo d'√°gua) - selecione IP66. <br><br>  Ao escolher um alojamento para o quarto, voc√™ deve prestar aten√ß√£o √† sua apar√™ncia, ele deve parecer esteticamente agrad√°vel em casa.  Para o controlador, usamos o processador da fam√≠lia iMX 8M, Cortex A53. <br><br><h3>  <font color="#5dbd35">Sobre seguran√ßa</font> </h3><br><img src="https://habrastorage.org/webt/6l/zw/q5/6lzwq5yggvibvrskndaenezps1u.jpeg" alt="imagem"><br><br>  Pegamos a placa de depura√ß√£o, o sensor e o programador reconstruindo a rede Zigbee.  Depois, verificamos se os sensores apareceram na rede e se eles reagiram normalmente.  E aqui pensamos em seguran√ßa.  A pr√≥pria rede ZigBee fornece prote√ß√£o de dados criptogr√°ficos. <br><br>  O quadro de depura√ß√£o √© o coordenador da rede Zigbee.  A rede pode ser relativamente aberta (as chaves de seguran√ßa s√£o trocadas quando um novo sensor √© conectado) e fechada (nenhuma chave √© trocada, ou seja, a chave de seguran√ßa desejada √© costurada no pr√≥prio sensor). <br><br>  A desvantagem de uma rede aberta √© que, se algu√©m no momento da conex√£o puder interceptar a chave, descriptografar todas as informa√ß√µes transmitidas n√£o ser√° dif√≠cil.  E isso √© especialmente perigoso quando se trata do trabalho da planta, por exemplo. <br><br>  No nosso caso, as configura√ß√µes ser√£o definidas no n√≠vel de configura√ß√£o da rede, o que significa que o cliente escolher√° o m√©todo de conex√£o dos sensores e o tipo de seguran√ßa. <br><br><h3>  <font color="#5dbd35">Sobre a ind√∫stria russa e estrangeira</font> </h3><br>  Usamos a base de elementos da produ√ß√£o estrangeira.  Na R√∫ssia, infelizmente, eles n√£o fabricam componentes adequados.  Toda a tecnologia ZigBee, microprocessadores, matrizes - tudo isso pertence aos americanos. <br><br>  Na R√∫ssia, a microeletr√¥nica praticamente n√£o √© desenvolvida, nem mesmo os resistores.  Principalmente componentes dom√©sticos s√£o produzidos para a ind√∫stria espacial, e tudo isso custa muito dinheiro.  E, de qualquer forma, isso n√£o √© adequado para nossas decis√µes. <br><br><h3>  <font color="#5dbd35">Onde voc√™ pediu e quanto custou?</font> </h3><br>  Era uma compra regular para um indiv√≠duo (sem contratos) no varejo em uma loja online regular.  Em termos de custo, ficou assim: <br><br><ul><li>  Um sensor de movimento custa 989 rublos </li><li>  Janela e sensor de abertura da janela - 989 rublos </li><li>  Vazamentos de √°gua - 929 rublos </li><li>  Temperatura umidade - 700 rublos </li></ul><br>  Mas n√≥s o compramos no escrit√≥rio para testar.  No mesmo Aliexpress, esses sensores podem ser comprados pela metade do pre√ßo. </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt472430/">https://habr.com/ru/post/pt472430/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt472418/index.html">Como manter os direitos de desenvolvimento personalizado</a></li>
<li><a href="../pt472420/index.html">Tornando a interface mais responsiva gra√ßas ao Promessa adiada</a></li>
<li><a href="../pt472422/index.html">Sber X RamblerFront & Meet Up</a></li>
<li><a href="../pt472426/index.html">Semana de Seguran√ßa 43: A Vida Secreta dos Hanipots da IoT</a></li>
<li><a href="../pt472428/index.html">Operador Tarantool kubernetes</a></li>
<li><a href="../pt472432/index.html">Python 3.8: O que h√° de novo e como us√°-lo?</a></li>
<li><a href="../pt472434/index.html">Atualize seus lan√ßamentos</a></li>
<li><a href="../pt472438/index.html">Como os proxies s√£o usados ‚Äã‚Äãna seguran√ßa da informa√ß√£o: 6 casos de uso pr√°tico</a></li>
<li><a href="../pt472440/index.html">Um dia no Joker 2019</a></li>
<li><a href="../pt472442/index.html">A situa√ß√£o: todo mundo est√° falando sobre o retorno de formatos de √°udio esquecidos - por que eles est√£o destinados a permanecer nichos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>