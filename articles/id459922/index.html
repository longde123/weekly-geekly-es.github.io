<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤞 💆🏽 👉🏾 Menghapus kebisingan frekuensi tinggi dari sinyal sensor getaran selama diagnostik getaran bantalan 🥀 👨‍🎤 👨🏼‍🎓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foto diambil dari publikasi 

 Pendahuluan 
 Salah satu tugas paling mendesak dari pemrosesan sinyal digital adalah tugas membersihkan sinyal dari keb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Menghapus kebisingan frekuensi tinggi dari sinyal sensor getaran selama diagnostik getaran bantalan</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459922/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/59/zj/kb/59zjkb8gnd_phkp1allrzocs6by.png"></div><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Foto diambil dari publikasi</a> <br><br><h3>  Pendahuluan </h3><br>  Salah satu tugas paling mendesak dari pemrosesan sinyal digital adalah tugas membersihkan sinyal dari kebisingan.  Setiap sinyal praktis tidak hanya berisi informasi yang bermanfaat, tetapi juga jejak beberapa efek interferensi atau kebisingan yang tidak ada.  Selain itu, selama diagnostik getaran, sinyal dari sensor getaran memiliki spektrum frekuensi non-stasioner, yang memperumit tugas penyaringan. <br><br>  Ada banyak cara untuk menghilangkan noise frekuensi tinggi dari suatu sinyal.  Misalnya, perpustakaan Scipy berisi filter berdasarkan berbagai metode penyaringan: Kalman;  menghaluskan sinyal dengan rata-rata sepanjang sumbu waktu, dan lainnya. <br><br>  Namun, keuntungan dari metode transformasi wavelet diskrit (DWT) adalah berbagai bentuk wavelet.  Anda dapat memilih wavelet, yang akan memiliki karakteristik bentuk dari fenomena yang diharapkan.  Misalnya, Anda dapat memilih sinyal dalam rentang frekuensi tertentu, yang bentuknya bertanggung jawab atas tampilan cacat. <br><br>  <b>Tujuan publikasi ini</b> adalah untuk menganalisis metode penyaringan sinyal sensor getaran menggunakan konversi sinyal DWT, filter Kalman dan metode moving average. <br><br><h3>  Sumber data untuk analisis </h3><br>  Dalam publikasi, pengoperasian filter berdasarkan berbagai metode penyaringan akan dianalisis menggunakan <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">set data NASA</a> .  Data diperoleh pada platform eksperimental PRONOSTIA: <br><br><img src="https://habrastorage.org/webt/yt/bz/9l/ytbz9lrxw2h8roaaokvclm7qqgc.png"><br><br>  Kit ini berisi data tentang sinyal sensor getaran untuk keausan berbagai jenis bantalan.  Tujuan folder dengan file sinyal diberikan dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">tabel</a> : <br><br><img src="https://habrastorage.org/webt/2w/ap/wr/2wapwr4x6xe5r-a2y2_nwc_oski.png"><br><br>  Pemantauan kondisi bantalan disediakan oleh sinyal sensor getaran (akselerometer horizontal dan vertikal), gaya dan suhu. <br><br><img src="https://habrastorage.org/webt/wl/o1/a0/wlo1a0i6430fko-l5lijoa5tu4c.png"><br><br>  Sinyal diterima untuk tiga muatan berbeda: <br><br><ul><li>  Kondisi kerja pertama: 1800 rpm dan 4000 N; </li><li>  Kondisi kerja kedua: 1650 rpm dan 4200 N; </li><li>  Kondisi operasi ketiga: 1500 rpm dan 5000 N. </li></ul><br><a name="habracut"></a><br>  Untuk kondisi ini, menggunakan konversi sinyal wavelet kontinu, kami membuat <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">skalogram daya spektro</a> untuk data dari set tes - satu file (untuk satu jenis bantalan) dari folder: ['Test_set / Bearing1_3 / acc_00001.csv', 'Test_set / Bearing2_3 / acc_00001. csv ',' Test_set / Bearing3_3 / acc_00001.csv '] (lihat tabel 1). <br><br><div class="spoiler">  <b class="spoiler_title">Daftar Scaleogram</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> scaleogram <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> scg <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt filename_n = [<span class="hljs-string"><span class="hljs-string">'Test_set/Bearing1_3/acc_00001.csv'</span></span>, <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span>, <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing3_3/acc_00001.csv'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> filename <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> filename_n: df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values wavelet = <span class="hljs-string"><span class="hljs-string">'cmor1-0.5'</span></span> ax = scg.cws(signal, scales=arange(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>), wavelet=wavelet, figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>), cmap=<span class="hljs-string"><span class="hljs-string">"jet"</span></span>, cbar=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">' '</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">" "</span></span>, yscale=<span class="hljs-string"><span class="hljs-string">"log"</span></span>, title=<span class="hljs-string"><span class="hljs-string">'-  %s \n( )'</span></span>%filename) show()</code> </pre> <br></div></div><br><img src="https://habrastorage.org/webt/zb/k4/v7/zbk4v74jffmfkopfqkhecmjjelu.png"><br><img src="https://habrastorage.org/webt/hz/nh/nh/hznhnhcpyg3thjqs4deu4dleq0s.png"><br><img src="https://habrastorage.org/webt/n2/ii/jv/n2iijvml8h0tq-bq38rcabkz8ny.png"><br><br>  Ini mengikuti dari skala yang diberikan bahwa momen peningkatan kekuatan spektrum muncul lebih awal dalam waktu dan menunjukkan frekuensi untuk kondisi operasi: 1650 rpm dan 4200 N, yang menunjukkan degradasi dipercepat bantalan dalam pita frekuensi ini untuk gaya berkurang.  Kami akan menggunakan sinyal ini ('Test_set / Bearing2_3 / acc_00001.csv') untuk menganalisis metode penghilangan derau. <br><br><h3>  Dekonstruksi Sinyal Menggunakan DWT </h3><br>  Dalam <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">publikasi,</a> kami melihat bagaimana bank filter diimplementasikan pada DWT yang dapat mendekonstruksi sinyal ke dalam subbands frekuensinya.  Koefisien perkiraan (cA) mewakili bagian frekuensi rendah dari sinyal (filter rata-rata).  Koefisien Detail (cD) mewakili bagian frekuensi tinggi dari sinyal.  Selanjutnya, kita akan memeriksa bagaimana DWT dapat digunakan untuk mendekonstruksi sinyal ke dalam subbands frekuensinya dan mengembalikan sinyal aslinya. <br><br>  Ada dua cara untuk memecahkan masalah dekonstruksi sinyal menggunakan alat PyWavelets: <br><br>  Cara pertama adalah menerapkan pywt.dwt () pada sinyal untuk mengekstraksi perkiraan dan koefisien detail (cA1, cD1).  Kemudian, untuk mengembalikan sinyal, kita akan menggunakan pywt.idwt (): <br><br><div class="spoiler">  <b class="spoiler_title">Daftar</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values (cA1, cD1) = pywt .dwt (signal, <span class="hljs-string"><span class="hljs-string">'db2'</span></span>, <span class="hljs-string"><span class="hljs-string">'smooth'</span></span>) r_signal = pywt.idwt (cA1, cD1, <span class="hljs-string"><span class="hljs-string">'db2'</span></span>, <span class="hljs-string"><span class="hljs-string">'smooth'</span></span>) fig, ax =subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.plot(signal, <span class="hljs-string"><span class="hljs-string">'b'</span></span>,label=<span class="hljs-string"><span class="hljs-string">' '</span></span>) ax.plot(r_signal, <span class="hljs-string"><span class="hljs-string">'r'</span></span>, label=<span class="hljs-string"><span class="hljs-string">'  '</span></span>, linestyle=<span class="hljs-string"><span class="hljs-string">'--'</span></span>) ax.legend(loc=<span class="hljs-string"><span class="hljs-string">'upper left'</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_title(<span class="hljs-string"><span class="hljs-string">'   ( pywt.dwt()) \n   ( pywt.idwt()) '</span></span>) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/iv/fm/pi/ivfmpiij21temoybrrrdqkflkxw.png"><br><br>  Cara kedua untuk menerapkan fungsi pywt.wavedec () pada sinyal adalah mengembalikan semua perkiraan dan koefisien detail ke level tertentu.  Fungsi ini mengambil sinyal dan level input sebagai input dan mengembalikan satu set koefisien perkiraan (level ke-n) dan n set koefisien detail (dari level 1 ke level ke-ke-1).  Untuk dekonstruksi, terapkan pywt.waverec (): <br><br><div class="spoiler">  <b class="spoiler_title">Daftar</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing3_3/acc_00026.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values coeffs = pywt.wavedec(signal, <span class="hljs-string"><span class="hljs-string">'db2'</span></span>, level=<span class="hljs-number"><span class="hljs-number">8</span></span>) r_signal = pywt.waverec(coeffs, <span class="hljs-string"><span class="hljs-string">'db2'</span></span>) fig, ax = plt.subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.plot(signal, <span class="hljs-string"><span class="hljs-string">'b'</span></span>,label=<span class="hljs-string"><span class="hljs-string">' '</span></span>) ax.plot(r_signal, <span class="hljs-string"><span class="hljs-string">'r '</span></span>,label= <span class="hljs-string"><span class="hljs-string">' '</span></span>, linestyle=<span class="hljs-string"><span class="hljs-string">'--'</span></span>) ax.legend(loc=<span class="hljs-string"><span class="hljs-string">'upper left'</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_title(<span class="hljs-string"><span class="hljs-string">'    - level.\n   ( pywt.wavedec()) '</span></span>) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/qq/ao/bn/qqaobnxdnlkrjllymvd3aqxti44.png"><br>  Cara kedua untuk mendekonstruksi dan mengembalikan sinyal lebih mudah, ini memungkinkan Anda untuk segera mengatur tingkat dekonstruksi yang diinginkan. <br><br><h3>  Menghilangkan noise frekuensi tinggi dengan menghilangkan beberapa koefisien detail selama dekonstruksi sinyal </h3><br>  Kami akan mengembalikan sinyal dengan menghapus beberapa koefisien detail.  Karena koefisien detail mewakili bagian frekuensi tinggi dari sinyal, kami cukup memfilter bagian spektrum frekuensi ini.  Jika ada noise frekuensi tinggi dalam sinyal, ini adalah salah satu cara untuk memfilternya. <br><br>  Di pustaka PyWavelets, ini bisa dilakukan menggunakan fungsi pemrosesan threshold pywt.threshol (): <br><br>  pywt.threshold (data, nilai, mode = 'soft', pengganti = 0) ¶ <br>  <b>data: seperti</b> array_ <br>  <i>Data numerik.</i> <br>  <b>nilai:</b> skalar <br>  <i>Nilai ambang batas.</i> <br>  <b>mode:</b> {'soft', 'hard', 'garrote', 'Greater', 'less'} <br>  <i>Menentukan jenis ambang yang akan diterapkan pada input.</i>  <i>Standarnya adalah 'lunak'.</i> <br>  <b>pengganti:</b> float, opsional <br>  <i>Nilai pergantian (standar: 0).</i> <br>  <b>output:</b> array <br>  <i>Array ambang batas.</i> <br><br>  Penerapan fungsi pemrosesan ambang untuk nilai ambang yang diberikan sebaiknya dipertimbangkan dengan menggunakan contoh berikut: <br><br><pre> <code class="python hljs">&gt;&gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt &gt;&gt;&gt; data =linspace(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>) &gt;&gt;&gt; data array([<span class="hljs-number"><span class="hljs-number">1.</span></span> , <span class="hljs-number"><span class="hljs-number">1.5</span></span>, <span class="hljs-number"><span class="hljs-number">2.</span></span> , <span class="hljs-number"><span class="hljs-number">2.5</span></span>, <span class="hljs-number"><span class="hljs-number">3.</span></span> , <span class="hljs-number"><span class="hljs-number">3.5</span></span>, <span class="hljs-number"><span class="hljs-number">4.</span></span> ]) &gt;&gt;&gt; pywt.threshold(data, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'soft'</span></span>) array([<span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.5</span></span>, <span class="hljs-number"><span class="hljs-number">1.</span></span> , <span class="hljs-number"><span class="hljs-number">1.5</span></span>, <span class="hljs-number"><span class="hljs-number">2.</span></span> ]) &gt;&gt;&gt; pywt.threshold(data, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'hard'</span></span>) array([<span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">2.</span></span> , <span class="hljs-number"><span class="hljs-number">2.5</span></span>, <span class="hljs-number"><span class="hljs-number">3.</span></span> , <span class="hljs-number"><span class="hljs-number">3.5</span></span>, <span class="hljs-number"><span class="hljs-number">4.</span></span> ]) &gt;&gt;&gt; pywt.threshold(data, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">'garrote'</span></span>) array([<span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.</span></span> , <span class="hljs-number"><span class="hljs-number">0.</span></span>, <span class="hljs-number"><span class="hljs-number">0.9</span></span>,<span class="hljs-number"><span class="hljs-number">1.66666667</span></span>, <span class="hljs-number"><span class="hljs-number">2.35714286</span></span>, <span class="hljs-number"><span class="hljs-number">3.</span></span>])</code> </pre><br>  Kami memplot grafik fungsi ambang menggunakan daftar berikut: <br><div class="spoiler">  <b class="spoiler_title">Daftar</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt s = linspace(<span class="hljs-number"><span class="hljs-number">-4</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">1000</span></span>) s_soft = pywt.threshold(s, value=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, mode=<span class="hljs-string"><span class="hljs-string">'soft'</span></span>) s_hard = pywt.threshold(s, value=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, mode=<span class="hljs-string"><span class="hljs-string">'hard'</span></span>) s_garrote = pywt.threshold(s, value=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, mode=<span class="hljs-string"><span class="hljs-string">'garrote'</span></span>) figsize=(<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) plot(s, s_soft) plot(s, s_hard) plot(s, s_garrote) legend([<span class="hljs-string"><span class="hljs-string">'soft (0.5)'</span></span>, <span class="hljs-string"><span class="hljs-string">'hard (0.5)'</span></span>, <span class="hljs-string"><span class="hljs-string">'non-neg. garrote (0.5)'</span></span>]) xlabel(<span class="hljs-string"><span class="hljs-string">'   '</span></span>) ylabel(<span class="hljs-string"><span class="hljs-string">'  '</span></span>) show()</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/gd/lp/oo/gdlpoowyfgb1iv0kd-wm1vpb8vg.png"><br><br>  Grafik menunjukkan bahwa ambang batas Garott non-negatif adalah perantara antara ambang lunak dan keras.  Sepasang ambang batas diperlukan untuk menentukan lebar wilayah transisi. <br><br><h3>  Pengaruh fungsi ambang pada karakteristik filter </h3><br>  Sebagai berikut dari grafik di atas, hanya dua fungsi ambang 'lunak' dan 'garrote' yang cocok untuk kami, untuk mempelajari pengaruhnya terhadap karakteristik filter, kami menuliskan daftar: <br><br><div class="spoiler">  <b class="spoiler_title">Daftar</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values v=<span class="hljs-string"><span class="hljs-string">'bior4.4'</span></span> thres=[<span class="hljs-string"><span class="hljs-string">'soft'</span></span> ,<span class="hljs-string"><span class="hljs-string">'garrote'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> thres: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lowpassfilter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(signal, thresh, wavelet=v)</span></span></span><span class="hljs-function">:</span></span> thresh = thresh*nanmax(signal) coeff = pywt.wavedec(signal, wavelet, level=<span class="hljs-number"><span class="hljs-number">8</span></span>,mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:] = (pywt.threshold(i, value=thresh, mode=w ) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:]) reconstructed_signal = pywt.waverec(coeff, wavelet, mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> reconstructed_signal fig, ax = subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.plot(signal, color=<span class="hljs-string"><span class="hljs-string">"b"</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, label=<span class="hljs-string"><span class="hljs-string">' '</span></span>) rec = lowpassfilter(signal, <span class="hljs-number"><span class="hljs-number">0.4</span></span>) ax.plot(rec, <span class="hljs-string"><span class="hljs-string">'r'</span></span>, label=<span class="hljs-string"><span class="hljs-string">'DWT  '</span></span>, linewidth=<span class="hljs-number"><span class="hljs-number">2</span></span>) ax.legend() ax.set_title(<span class="hljs-string"><span class="hljs-string">'      :%s\n   :%s'</span></span>%(v,w), fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) show()</code> </pre> </div></div><br><img src="https://habrastorage.org/webt/yx/th/g8/yxthg8ew_lkh-koeq6bnfvw6tla.png"><br><img src="https://habrastorage.org/webt/8q/nn/35/8qnn353spuea5_mtc6jb_t1tmty.png"><br><br>  Sebagai berikut dari grafik, fungsi lunak memberikan perataan yang lebih baik daripada fungsi 'garrote', jadi kami akan menggunakan fungsi lunak di masa mendatang. <br><br><h3>  Pengaruh ambang detail pada karakteristik filter </h3><br>  Untuk jenis filter yang dipertimbangkan, ambang batas untuk mengubah koefisien detail adalah karakteristik penting, oleh karena itu, kami mempelajari efeknya menggunakan daftar berikut: <br><br><div class="spoiler">  <b class="spoiler_title">Daftar</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values v=<span class="hljs-string"><span class="hljs-string">'bior4.4'</span></span> thres=[<span class="hljs-number"><span class="hljs-number">0.1</span></span>,<span class="hljs-number"><span class="hljs-number">0.4</span></span>,<span class="hljs-number"><span class="hljs-number">0.6</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> thres: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lowpassfilter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(signal, thresh, wavelet=v)</span></span></span><span class="hljs-function">:</span></span> thresh = thresh*nanmax(signal) coeff = pywt.wavedec(signal, wavelet, level=<span class="hljs-number"><span class="hljs-number">8</span></span>,mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:] = (pywt.threshold(i, value=thresh, mode=<span class="hljs-string"><span class="hljs-string">'soft'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:]) reconstructed_signal = pywt.waverec(coeff, wavelet, mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> reconstructed_signal fig, ax = subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.plot(signal, color=<span class="hljs-string"><span class="hljs-string">"b"</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, label=<span class="hljs-string"><span class="hljs-string">' '</span></span>) rec = lowpassfilter(signal,w) ax.plot(rec, <span class="hljs-string"><span class="hljs-string">'r'</span></span>, label=<span class="hljs-string"><span class="hljs-string">'DWT  '</span></span>, linewidth=<span class="hljs-number"><span class="hljs-number">2</span></span>) ax.legend() ax.set_title(<span class="hljs-string"><span class="hljs-string">'      :%s\n    %s'</span></span>%(v,w), fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/nu/vp/te/nuvptehfyqvcheixzbsqac506ci.png"><br><img src="https://habrastorage.org/webt/2o/vg/nn/2ovgnnncwq4b4yc0odhhj_bteae.png"><br><img src="https://habrastorage.org/webt/sk/ep/_r/skep_rwbarrrdfhmnxbobzlxiyc.png"><br><br>  Sebagai berikut dari grafik yang diperoleh, tingkat ambang detail mempengaruhi skala bagian yang disaring.  Dengan peningkatan ambang, wavelet mengurangi kebisingan dari tingkat yang terus meningkat sampai terjadi pembesaran skala detail yang berlebihan dan transformasi mulai mengubah bentuk sinyal asli.Untuk sinyal kami, ambang batas tidak boleh lebih tinggi dari 0,63. <br><br><h3>  Efek wavelet pada karakteristik filter </h3><br>  Pustaka PyWavelets memiliki jumlah wavelet yang cukup untuk konversi DWT, yang dapat diperoleh seperti ini: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt &gt;&gt;&gt; print(pywt.wavelist(kind= <span class="hljs-string"><span class="hljs-string">'discrete'</span></span>)) [<span class="hljs-string"><span class="hljs-string">'bior1.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior1.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior1.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior2.2'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior2.4'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior2.6'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior2.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior3.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior3.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior3.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior3.7'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior3.9'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior4.4'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior5.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'bior6.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif1'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif2'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif3'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif4'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif5'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif6'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif7'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif8'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif9'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif10'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif11'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif12'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif13'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif14'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif15'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif16'</span></span>, <span class="hljs-string"><span class="hljs-string">'coif17'</span></span>, <span class="hljs-string"><span class="hljs-string">'db1'</span></span>, <span class="hljs-string"><span class="hljs-string">'db2'</span></span>, <span class="hljs-string"><span class="hljs-string">'db3'</span></span>, <span class="hljs-string"><span class="hljs-string">'db4'</span></span>, <span class="hljs-string"><span class="hljs-string">'db5'</span></span>, <span class="hljs-string"><span class="hljs-string">'db6'</span></span>, <span class="hljs-string"><span class="hljs-string">'db7'</span></span>, <span class="hljs-string"><span class="hljs-string">'db8'</span></span>, <span class="hljs-string"><span class="hljs-string">'db9'</span></span>, <span class="hljs-string"><span class="hljs-string">'db10'</span></span>, <span class="hljs-string"><span class="hljs-string">'db11'</span></span>, <span class="hljs-string"><span class="hljs-string">'db12'</span></span>, <span class="hljs-string"><span class="hljs-string">'db13'</span></span>, <span class="hljs-string"><span class="hljs-string">'db14'</span></span>, <span class="hljs-string"><span class="hljs-string">'db15'</span></span>, <span class="hljs-string"><span class="hljs-string">'db16'</span></span>, <span class="hljs-string"><span class="hljs-string">'db17'</span></span>, <span class="hljs-string"><span class="hljs-string">'db18'</span></span>, <span class="hljs-string"><span class="hljs-string">'db19'</span></span>, <span class="hljs-string"><span class="hljs-string">'db20'</span></span>, <span class="hljs-string"><span class="hljs-string">'db21'</span></span>, <span class="hljs-string"><span class="hljs-string">'db22'</span></span>, <span class="hljs-string"><span class="hljs-string">'db23'</span></span>, <span class="hljs-string"><span class="hljs-string">'db24'</span></span>, <span class="hljs-string"><span class="hljs-string">'db25'</span></span>, <span class="hljs-string"><span class="hljs-string">'db26'</span></span>, <span class="hljs-string"><span class="hljs-string">'db27'</span></span>, <span class="hljs-string"><span class="hljs-string">'db28'</span></span>, <span class="hljs-string"><span class="hljs-string">'db29'</span></span>, <span class="hljs-string"><span class="hljs-string">'db30'</span></span>, <span class="hljs-string"><span class="hljs-string">'db31'</span></span>, <span class="hljs-string"><span class="hljs-string">'db32'</span></span>, <span class="hljs-string"><span class="hljs-string">'db33'</span></span>, <span class="hljs-string"><span class="hljs-string">'db34'</span></span>, <span class="hljs-string"><span class="hljs-string">'db35'</span></span>, <span class="hljs-string"><span class="hljs-string">'db36'</span></span>, <span class="hljs-string"><span class="hljs-string">'db37'</span></span>, <span class="hljs-string"><span class="hljs-string">'db38'</span></span>, <span class="hljs-string"><span class="hljs-string">'dmey'</span></span>, <span class="hljs-string"><span class="hljs-string">'haar'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio1.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio1.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio1.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio2.2'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio2.4'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio2.6'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio2.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio3.1'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio3.3'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio3.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio3.7'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio3.9'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio4.4'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio5.5'</span></span>, <span class="hljs-string"><span class="hljs-string">'rbio6.8'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym2'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym3'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym4'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym5'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym6'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym7'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym8'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym9'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym10'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym11'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym12'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym13'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym14'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym15'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym16'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym17'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym18'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym19'</span></span>, <span class="hljs-string"><span class="hljs-string">'sym20'</span></span>]</code> </pre> <br>  Pengaruh wavelet pada karakteristik filter tergantung pada fungsi primitifnya.  Untuk menunjukkan ketergantungan ini, kami memilih dua wavelet dari keluarga Dobeshi - db1 dan db38, dan mempertimbangkan keluarga-keluarga ini: <br><br><div class="spoiler">  <b class="spoiler_title">Daftar</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* db_wavelets = [<span class="hljs-string"><span class="hljs-string">'db1'</span></span>, <span class="hljs-string"><span class="hljs-string">'db38'</span></span>] fig, axarr = subplots(ncols=<span class="hljs-number"><span class="hljs-number">2</span></span>, nrows=<span class="hljs-number"><span class="hljs-number">5</span></span>, figsize=(<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>)) fig.suptitle(<span class="hljs-string"><span class="hljs-string">'  : db1,db38'</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">14</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> col_no, waveletname <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(db_wavelets): wavelet = pywt.Wavelet(waveletname) no_moments = wavelet.vanishing_moments_psi family_name = wavelet.family_name <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> row_no, level <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> enumerate(range(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>)): wavelet_function, scaling_function, x_values = wavelet.wavefun(level = level) axarr[row_no, col_no].set_title(<span class="hljs-string"><span class="hljs-string">"{} : {}.   : {}. :: {} "</span></span>.format( waveletname, level, no_moments, len(x_values)), loc=<span class="hljs-string"><span class="hljs-string">'left'</span></span>) axarr[row_no, col_no].plot(x_values, wavelet_function, <span class="hljs-string"><span class="hljs-string">'b--'</span></span>) axarr[row_no, col_no].set_yticks([]) axarr[row_no, col_no].set_yticklabels([]) tight_layout() subplots_adjust(top=<span class="hljs-number"><span class="hljs-number">0.9</span></span>) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/fs/0m/sq/fs0msqniw-dcixmdhfbrxrwpwfg.png"><br><br>  Pada kolom pertama kita melihat wavelet Daubeshi dari orde pertama (db1), di kolom kedua dari orde tiga puluh delapan (db38).  Dengan demikian, db1 memiliki satu momen kepunahan, dan db38 memiliki 38 saat kepunahan.  Jumlah momen penghilangan terkait dengan urutan aproksimasi dan kelancaran wavelet.  Jika wavelet memiliki P poin menghilang, ia dapat mendekati polinomial derajat P - 1. <br><br>  Wavelet yang lebih halus menghasilkan aproksimasi sinyal yang lebih halus, dan sebaliknya - wavelet "pendek" lebih baik melacak puncak fungsi yang didekati.  Saat memilih wavelet, kita juga dapat menunjukkan tingkat dekomposisi yang seharusnya.  Secara default, PyWavelets memilih tingkat dekomposisi maksimum yang mungkin untuk sinyal input.  Level dekomposisi maksimum tergantung pada panjang sinyal input dan wavelet: <br><br><div class="spoiler">  <b class="spoiler_title">Daftar</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) data = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values w=[<span class="hljs-string"><span class="hljs-string">'db1'</span></span>, <span class="hljs-string"><span class="hljs-string">'db38'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> w: n_level=pywt.dwt_max_level(len(data),v) print(<span class="hljs-string"><span class="hljs-string">'  %s   : %s '</span></span> %(v,n_level))</code> </pre> <br></div></div><br>  Untuk db1 wavelet, level dekomposisi maksimum: 11 <br>  Untuk db38 wavelet, level dekomposisi maksimum: 5 <br><br>  Untuk nilai yang diperoleh dari level maksimum dekomposisi wavelet, kami mempertimbangkan pengoperasian filter untuk menghilangkan noise frekuensi tinggi: <br><br><div class="spoiler">  <b class="spoiler_title">Daftar</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> scaleogram <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> scg <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values discrete_wavelets =[(<span class="hljs-string"><span class="hljs-string">'db38'</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>),(<span class="hljs-string"><span class="hljs-string">'db1'</span></span>,<span class="hljs-number"><span class="hljs-number">11</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> v <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> discrete_wavelets: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">lowpassfilter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(signal, thresh = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0.63</span></span></span></span><span class="hljs-function"><span class="hljs-params">, wavelet=v[</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">])</span></span></span><span class="hljs-function">:</span></span> thresh = thresh*nanmax(signal) coeff = pywt.wavedec(signal, wavelet, mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:] = (pywt.threshold(i, value=thresh, mode=<span class="hljs-string"><span class="hljs-string">'soft'</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> coeff[<span class="hljs-number"><span class="hljs-number">1</span></span>:]) reconstructed_signal = pywt.waverec(coeff, wavelet, mode=<span class="hljs-string"><span class="hljs-string">"per"</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> reconstructed_signal wavelet = pywt.DiscreteContinuousWavelet(v[<span class="hljs-number"><span class="hljs-number">0</span></span>]) phi, psi, x = wavelet.wavefun(level=v[<span class="hljs-number"><span class="hljs-number">1</span></span>]) fig, ax = subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.set_title(<span class="hljs-string"><span class="hljs-string">"   : %s,level=%s"</span></span>%(v[<span class="hljs-number"><span class="hljs-number">0</span></span>],v[<span class="hljs-number"><span class="hljs-number">1</span></span>]), fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.plot(x,phi,linewidth=<span class="hljs-number"><span class="hljs-number">2</span></span>) fig, ax = subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>)) ax.plot(signal, color=<span class="hljs-string"><span class="hljs-string">"b"</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.5</span></span>, label=<span class="hljs-string"><span class="hljs-string">'   '</span></span>) rec = lowpassfilter(signal, <span class="hljs-number"><span class="hljs-number">0.4</span></span>) ax.plot(rec, <span class="hljs-string"><span class="hljs-string">'r'</span></span>, label=<span class="hljs-string"><span class="hljs-string">'DWT  '</span></span>, linewidth=<span class="hljs-number"><span class="hljs-number">2</span></span>) ax.legend() ax.set_title(<span class="hljs-string"><span class="hljs-string">'   \n   :%s,level=%s'</span></span>%(v[<span class="hljs-number"><span class="hljs-number">0</span></span>],v[<span class="hljs-number"><span class="hljs-number">1</span></span>]),fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) wavelet = <span class="hljs-string"><span class="hljs-string">'cmor1-0.5'</span></span> ax = ax = scg.cws(rec, scales=arange(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">128</span></span>), wavelet=wavelet,figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>), cmap=<span class="hljs-string"><span class="hljs-string">"jet"</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">' '</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">" "</span></span>, yscale=<span class="hljs-string"><span class="hljs-string">"log"</span></span>, title=<span class="hljs-string"><span class="hljs-string">'CWT  \n(   DWT  )'</span></span>) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/ox/ye/ly/oxyelyqw4xi75vxu8sgn57jy2ek.png"><br><img src="https://habrastorage.org/webt/iv/-s/sy/iv-ssyb2yau4ym95tk7ks37hddo.png"><br><img src="https://habrastorage.org/webt/1f/vm/4t/1fvm4trkcng-igaafvxppvadkvo.png"><br><img src="https://habrastorage.org/webt/w1/zm/ls/w1zmlsmgqnlnbj2ww5v6nijdmyo.png"><br><img src="https://habrastorage.org/webt/js/wc/l3/jswcl3-b_tcy_cth70tlktwc6ka.png"><br><img src="https://habrastorage.org/webt/z8/c-/83/z8c-83mpmq8p5ewenjbkudpjh5s.png"><br><br>  Ini mengikuti dari skalogram yang diberikan sinyal pada output filter yang, untuk wavelet db38, kekuatan puncak spektrum diikuti oleh daerah terlokalisasi, untuk wavelet db1, wilayah ini menghilang.  Perlu dicatat bahwa, misalnya, wavelet db38 dapat mendekati sinyal polinomial derajat 37.  Ini memperluas klasifikasi sinyal, misalnya, untuk mengidentifikasi kerusakan peralatan sesuai dengan sinyal sensor getaran. <br><br>  <b>Karena sinyal setelah filter dengan wavelet Daubechies membentuk deret waktu menggunakan koefisien aproksimasi dan dekomposisi sebagai karakteristik dari deret tersebut, seseorang dapat menentukan tingkat kedekatan deret tersebut, yang sangat menyederhanakan pencarian dan klasifikasi mereka.</b> <br><br><h3>  Filter Kalman untuk menghilangkan noise frekuensi tinggi </h3><br>  Filter Kalman banyak digunakan untuk menyaring kebisingan di berbagai sistem dinamis.  Pertimbangkan sistem dinamis dengan vektor keadaan x. <br><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">x</span><span class="MJXp-mo" id="MJXp-Span-3" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">F</span><span class="MJXp-mtext" id="MJXp-Span-5">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">x</span><span class="MJXp-mo" id="MJXp-Span-11" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">w</span><span class="MJXp-mo" id="MJXp-Span-13" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">Q</span><span class="MJXp-mo" id="MJXp-Span-15" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="20.421ex" height="2.66ex" viewBox="0 -832 8792.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-3D" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-46" x="1906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-63" x="2906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-64" x="3339" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-6F" x="3863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-74" x="4348" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-78" x="4710" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-2B" x="5504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-77" x="6505" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-28" x="7222" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-51" x="7611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-29" x="8403" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> x = F \ cdot x + w (Q) </script><br><br>  di mana F adalah matriks transisi <br>  w (Q) adalah proses acak (noise) dengan nol harapan matematika dan matriks kovarians Q. <br><br>  Kami akan mengamati keadaan transisi sistem dengan kesalahan pengukuran yang diketahui pada setiap saat.  Menghapus kebisingan menggunakan metode Kalman terdiri dari dua langkah - ekstrapolasi dan koreksi, sepertinya ini. <br><br>  Atur parameter sistem: <br><br>  Q-matrix dari kovarians kebisingan (process covariance noise). <br>  H adalah matriks observasi (pengukuran). <br>  R - kovarians noise pengamatan (pengukuran kovarians noise). <br>  P = Q adalah nilai awal dari matriks kovarians untuk vektor keadaan. <br>  z (t) adalah keadaan sistem yang diamati. <br>  x = z (0) adalah nilai awal dari penilaian kondisi sistem. <br><br>  Untuk setiap pengamatan z, kami akan menghitung status yang disaring x <br>  dan untuk ini kami melakukan langkah-langkah berikut. <br><br>  • langkah 1: ekstrapolasi <br>  1. ekstrapolasi (prediksi) dari keadaan sistem <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-16"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17">x</span><span class="MJXp-mo" id="MJXp-Span-18" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">F</span><span class="MJXp-mtext" id="MJXp-Span-20">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">x</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.269ex" height="2.057ex" viewBox="0 -780.1 5282.6 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-3D" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-46" x="1906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-63" x="2906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-64" x="3339" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-6F" x="3863" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-74" x="4348" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-78" x="4710" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> x = F \ cdot x </script><br>  2. menghitung matriks kovarians untuk vektor keadaan terekstrapolasi <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-26"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27">F</span><span class="MJXp-mo" id="MJXp-Span-28" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29">F</span><span class="MJXp-mtext" id="MJXp-Span-30">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35">P</span><span class="MJXp-mtext" id="MJXp-Span-36">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">t</span><span class="MJXp-msubsup" id="MJXp-Span-41"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42" style="margin-right: 0.05em;">F</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-43" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">T</span></span></span><span class="MJXp-mo" id="MJXp-Span-45" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">Q</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="25.749ex" height="2.78ex" viewBox="0 -935.7 11086.5 1197.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-3D" x="1027" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-46" x="2083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-63" x="3083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-64" x="3516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-6F" x="4040" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-74" x="4525" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-50" x="4887" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-63" x="5888" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-64" x="6322" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-6F" x="6845" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-74" x="7331" y="0"></use><g transform="translate(7692,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-46" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-54" x="1104" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-2B" x="9294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-51" x="10295" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> F = F \ cdot P \ cdot F ^ {T} + Q </script><br><br>  • langkah 2: koreksi <br>  1. menghitung vektor kesalahan, penyimpangan pengamatan dari keadaan yang diharapkan <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-47"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48">y</span><span class="MJXp-mo" id="MJXp-Span-49" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">z</span><span class="MJXp-mo" id="MJXp-Span-51" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">H</span><span class="MJXp-mtext" id="MJXp-Span-53">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">x</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.346ex" height="2.419ex" viewBox="0 -780.1 7038 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-79" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-3D" x="775" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-7A" x="1831" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-2212" x="2522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-48" x="3523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-63" x="4661" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-64" x="5095" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-6F" x="5618" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-74" x="6104" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-78" x="6465" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> y = z-H \ cdot x </script><br>  2. menghitung matriks kovarians untuk vektor deviasi (vektor kesalahan) <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-59"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">S</span><span class="MJXp-mo" id="MJXp-Span-61" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">H</span><span class="MJXp-mtext" id="MJXp-Span-63">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">P</span><span class="MJXp-mtext" id="MJXp-Span-69">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">t</span><span class="MJXp-msubsup" id="MJXp-Span-74"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75" style="margin-right: 0.05em;">H</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-76" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">T</span></span></span><span class="MJXp-mo" id="MJXp-Span-78" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">R</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.045ex" height="2.539ex" viewBox="0 -935.7 11213.8 1093.4" role="img" focusable="false" style="vertical-align: -0.366ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-3D" x="923" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-48" x="1979" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-63" x="3118" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-64" x="3551" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-6F" x="4075" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-74" x="4560" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-50" x="4922" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-63" x="5923" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-64" x="6357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-6F" x="6880" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-74" x="7366" y="0"></use><g transform="translate(7727,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-48" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-54" x="1280" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-2B" x="9453" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-52" x="10454" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> S = H \ cdot P \ cdot H ^ {T} + R </script><br>  3. menghitung keuntungan Kalman <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-80"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">K</span><span class="MJXp-mo" id="MJXp-Span-82" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">P</span><span class="MJXp-mtext" id="MJXp-Span-84">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">H</span><span class="MJXp-mtext" id="MJXp-Span-90">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94">t</span><span class="MJXp-msubsup" id="MJXp-Span-95"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96" style="margin-right: 0.05em;">H</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-97" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">T</span></span></span><span class="MJXp-mtext" id="MJXp-Span-99">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">t</span><span class="MJXp-msubsup" id="MJXp-Span-104"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105" style="margin-right: 0.05em;">S</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-106" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-107">−</span><span class="MJXp-mn" id="MJXp-Span-108">1</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="30.632ex" height="2.419ex" viewBox="0 -935.7 13188.9 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-4B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-3D" x="1167" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-50" x="2223" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-63" x="3225" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-64" x="3658" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-6F" x="4182" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-74" x="4667" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-48" x="5029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-63" x="6167" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-64" x="6601" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-6F" x="7124" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-74" x="7610" y="0"></use><g transform="translate(7971,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-48" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-54" x="1280" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-63" x="9725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-64" x="10158" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-6F" x="10682" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-74" x="11167" y="0"></use><g transform="translate(11529,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-53" x="0" y="0"></use><g transform="translate(655,362)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-2212" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-31" x="778" y="0"></use></g></g></g></svg></span><script type="math/tex" id="MathJax-Element-6"> K = P \ cdot H \ cdot H ^ {T} \ cdot S ^ {- 1} </script><br>  4. koreksi estimasi vektor negara <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-109"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">x</span><span class="MJXp-mo" id="MJXp-Span-111" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">x</span><span class="MJXp-mo" id="MJXp-Span-113" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">K</span><span class="MJXp-mtext" id="MJXp-Span-115">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">y</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.59ex" height="2.419ex" viewBox="0 -780.1 7143 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-78" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-3D" x="850" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-78" x="1906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-2B" x="2701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-4B" x="3702" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-63" x="4841" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-64" x="5275" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-6F" x="5798" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-74" x="6284" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-79" x="6645" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> x = x + K \ cdot y </script><br>  5. kami mengoreksi matriks kovarians untuk memperkirakan vektor status sistem <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-121"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">P</span><span class="MJXp-mo" id="MJXp-Span-123" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-124" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">I</span><span class="MJXp-mo" id="MJXp-Span-126" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">K</span><span class="MJXp-mtext" id="MJXp-Span-128">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">H</span><span class="MJXp-mo" id="MJXp-Span-134" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-135">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-136">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">P</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.082ex" height="2.66ex" viewBox="0 -832 11229.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-3D" x="1029" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-28" x="2085" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-49" x="2475" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-2212" x="3201" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-4B" x="4202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-63" x="5342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-64" x="5775" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-6F" x="6299" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-74" x="6784" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-48" x="7146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMAIN-29" x="8034" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-63" x="8674" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-64" x="9107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-6F" x="9631" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-74" x="10116" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-50" x="10478" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-8"> P = (I-K \ cdot H) \ cdot P </script><br><br><div class="spoiler">  <b class="spoiler_title">Daftar untuk implementasi algoritma</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span>* <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">kalman_filter</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( z, F = eye</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, #     </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(transitionMatrix)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> Q = eye</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">*</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3e-3</span></span></span></span><span class="hljs-function"><span class="hljs-params">, #   </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(processNoiseCov)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> H = eye</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">, #   </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(measurement)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> R = eye</span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">2</span></span></span></span></span><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-function"><span class="hljs-params">*</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">3e-1</span></span></span></span><span class="hljs-function"><span class="hljs-params"> #    </span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"><span class="hljs-params">(measurementNoiseCov)</span></span></span></span><span class="hljs-function"><span class="hljs-params"> )</span></span></span><span class="hljs-function">:</span></span> n = z.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-comment"><span class="hljs-comment">#   #m = z.shape[1] #   x = z[0,:].transpose() #      P = Q #       r = [ x ] #  for i in range(1,n): # : x = F.dot( x ) #  ()   P = F.dot(P).dot( F.transpose() ) + Q #       # : y = z[i] - H.dot(x) #  ,      ()  S = H.dot(P).dot(H.transpose()) + R #      ( ) K = P.dot(H.transpose()).dot(linalg.inv(S)) #     x = x + K.dot(y) #     P = ( eye(z.shape[1]) - K.dot(H) ).dot(P) #       r.append( x.transpose()) return array(r) filename = 'Test_set/Bearing2_3/acc_00001.csv' df = pd.read_csv(filename, header=None) signal = df[4].values N= signal .shape[0] #   # 2 dimensions y0 =linspace(0.0,2500.0,N) y1 =signal d = array(list(zip(y0,y1))) dn = dr = kalman_filter(dn) fig, ax = subplots(figsize=(8,4)) ax.plot( d[:,0], d[:,1],'b', label=' ' ) ax.plot( r[:,0], r[:,1],'r', label='kalman' ) ax.legend(loc='upper left') ax.set_title('       \n (  )', fontsize=12) ax.set_ylabel(' ', fontsize=12) ax.set_xlabel('', fontsize=12) show()</span></span></code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/zp/ql/ln/zpqllnxdxf-fgpt2gyhxg4xekwm.png"><br><br>  Untuk model dinamis yang diberikan, Anda dapat menggunakan pustaka pyKalman: <br><br><div class="spoiler">  <b class="spoiler_title">Daftar</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pykalman <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> KalmanFilter <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> scaleogram <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> scg filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) signal = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values measurements =signal kf = KalmanFilter(transition_matrices=[<span class="hljs-number"><span class="hljs-number">1</span></span>] ,<span class="hljs-comment"><span class="hljs-comment"># A      t  t+1 observation_matrices=[1],# C   initial_state_mean=measurements[0],#   initial_state_covariance=[1],#    observation_covariance=[1],# R    transition_covariance= 0.01) # Q     state_means, state_covariances = kf.filter(measurements)# ,   state_means=[w[0] for w in state_means] state_std = sqrt(state_covariances[:,0]) fig, ax = subplots(figsize=(8,4)) ax.plot(measurements ,'b', label=' ') ax.plot(state_means ,'r', label='kalman- ') ax.legend() ax.set_title('      \n ( pyKalman)', fontsize=14) ax.set_ylabel(' ', fontsize=12) ax.set_xlabel('', fontsize=12) wavelet = 'cmor1-0.5' ax = ax = scg.cws(signal, scales=arange(1,40), wavelet=wavelet, figsize=(8, 4),cmap="jet", ylabel=' ', xlabel=" ", yscale="log", title='CWT    \n( )') ax = ax = scg.cws(state_means, scales=arange(1,40), wavelet=wavelet, figsize=(8, 4), cmap="jet", ylabel=' ', xlabel=" ", yscale="log", title='CWT     \n(  )') show()</span></span></code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/z8/uh/p-/z8uhp-7gzngp1uzvix5bxhjadd0.png"><br><img src="https://habrastorage.org/webt/ti/qd/gy/tiqdgyoia3_ilxnbcqq8pmwoyi8.png"><br><img src="https://habrastorage.org/webt/ws/ws/il/wswsilmi0tqwgrtwp-ezkdkdvy4.png"><br><br>  Sumur filter Kalman menghilangkan noise frekuensi tinggi, namun, itu tidak memungkinkan mengubah bentuk sinyal output. <br><br><h3>  Metode rata-rata bergerak </h3><br>  Dalam menentukan arah perubahan utama dalam urutan berosilasi kuat, masalah timbul karena memuluskannya menggunakan metode rata-rata bergerak.  Ini mungkin pembacaan sensor level bahan bakar di dalam mobil atau, seperti dalam kasus kami, data sensor frekuensi tinggi mengenai degradasi dipercepat bantalan.  Masalahnya dapat dianggap sebagai pemulihan beberapa urutan r di mana kebisingan ditumpangkan. <br><br>  Simple Moving Average untuk pendek - SMA (Simple Moving Average).  Untuk menghitung nilai filter saat ini <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-141"><span class="MJXp-msubsup" id="MJXp-Span-142"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143" style="margin-right: 0.05em;">r</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-144" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">i</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.848ex" height="1.817ex" viewBox="0 -520.7 795.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=https://habr.com/ru/post/459922/&amp;usg=ALkJrhhc-leUOiIhjN2aBSd86u2oAdh1TQ#MJMATHI-69" x="638" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> r_ {i} </script>  kita hanya rata-rata elemen n sebelumnya dari urutan, sehingga filter mulai bekerja dengan elemen urutan n. <br><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-146"><span class="MJXp-msubsup" id="MJXp-Span-147"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-148" style="margin-right: 0.05em;">r</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-149" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-151" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-152">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">c</span><span class="MJXp-mrow" id="MJXp-Span-157"><span class="MJXp-mn" id="MJXp-Span-158">1</span></span><span class="MJXp-mrow" id="MJXp-Span-159"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">n</span></span><span class="MJXp-mtext" id="MJXp-Span-161">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">t</span><span class="MJXp-mtext" id="MJXp-Span-166">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">u</span><span class="MJXp-msubsup" id="MJXp-Span-169"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-175"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176">n</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-171"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">j</span><span class="MJXp-mo" id="MJXp-Span-173">=</span><span class="MJXp-mn" id="MJXp-Span-174">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-177"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178" style="margin-right: 0.05em;">y</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-179" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-180">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">i</span><span class="MJXp-mo" id="MJXp-Span-182">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">j</span><span class="MJXp-mo" id="MJXp-Span-184">)</span></span></span><span class="MJXp-mo" id="MJXp-Span-185" style="margin-left: 0em; margin-right: 0.222em;">;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">i</span><span class="MJXp-mo" id="MJXp-Span-187" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-10"> r_ {i} = \ frac {1} {n} \ cdot \ sum_ {j = 1} ^ {n} y _ {(i-j)}; i> n </script><br><br><div class="spoiler">  <b class="spoiler_title">Daftar</b> <div class="spoiler_text"><pre> <code class="python hljs">&lt;source lang=<span class="hljs-string"><span class="hljs-string">"python"</span></span>&gt;<span class="hljs-keyword"><span class="hljs-keyword">from</span></span> scipy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> pylab <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pywt <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> scaleogram <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> scg <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">get_ave_values</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(xvalues, yvalues, n = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">6</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> signal_length = len(xvalues) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> signal_length % n == <span class="hljs-number"><span class="hljs-number">0</span></span>: padding_length = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: padding_length = n - signal_length//n % n xarr = array(xvalues) yarr = array(yvalues) xarr.resize(signal_length//n, n) yarr.resize(signal_length//n, n) xarr_reshaped = xarr.reshape((<span class="hljs-number"><span class="hljs-number">-1</span></span>,n)) yarr_reshaped = yarr.reshape((<span class="hljs-number"><span class="hljs-number">-1</span></span>,n)) x_ave = xarr_reshaped[:,<span class="hljs-number"><span class="hljs-number">0</span></span>] y_ave = nanmean(yarr_reshaped, axis=<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x_ave, y_ave <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">plot_signal_plus_average</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(time, signal, average_over = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">5</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> fig, ax = subplots(figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)) time_ave, signal_ave = get_ave_values(time, signal, average_over) ax.plot(time_ave, signal_ave,<span class="hljs-string"><span class="hljs-string">"b"</span></span>, label = <span class="hljs-string"><span class="hljs-string">'   (n={})'</span></span>.format(<span class="hljs-number"><span class="hljs-number">5</span></span>)) ax.set_xlim([time[<span class="hljs-number"><span class="hljs-number">0</span></span>], time[<span class="hljs-number"><span class="hljs-number">-1</span></span>]]) ax.set_ylabel(<span class="hljs-string"><span class="hljs-string">' '</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.set_title(<span class="hljs-string"><span class="hljs-string">'     SMA'</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">14</span></span>) ax.set_xlabel(<span class="hljs-string"><span class="hljs-string">''</span></span>, fontsize=<span class="hljs-number"><span class="hljs-number">12</span></span>) ax.legend() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> signal_ave filename = <span class="hljs-string"><span class="hljs-string">'Test_set/Bearing2_3/acc_00001.csv'</span></span> df = pd.read_csv(filename, header=<span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) df_nino = df[<span class="hljs-number"><span class="hljs-number">4</span></span>].values N = df_nino.shape[<span class="hljs-number"><span class="hljs-number">0</span></span>] time = arange(<span class="hljs-number"><span class="hljs-number">0</span></span>, N) signal = df_nino signal_ave=plot_signal_plus_average(time, signal) wavelet = <span class="hljs-string"><span class="hljs-string">'cmor1-0.5'</span></span> ax = ax = scg.cws(signal, scales=arange(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">40</span></span>), wavelet=wavelet, figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>),cmap=<span class="hljs-string"><span class="hljs-string">"jet"</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">' '</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">" "</span></span>, yscale=<span class="hljs-string"><span class="hljs-string">"log"</span></span>, title=<span class="hljs-string"><span class="hljs-string">'CWT  %s \n(     )'</span></span>%filename) ax = ax = scg.cws(signal_ave, scales=arange(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">40</span></span>), wavelet=wavelet, figsize=(<span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>), cmap=<span class="hljs-string"><span class="hljs-string">"jet"</span></span>, ylabel=<span class="hljs-string"><span class="hljs-string">' '</span></span>, xlabel=<span class="hljs-string"><span class="hljs-string">" "</span></span>, yscale=<span class="hljs-string"><span class="hljs-string">"log"</span></span>, title=<span class="hljs-string"><span class="hljs-string">'CWT  %s \n(    )'</span></span>%filename) show()</code> </pre><br></div></div><br><img src="https://habrastorage.org/webt/dj/r1/jy/djr1jyeyltohdhpij257vpmsk0u.png"><br><img src="https://habrastorage.org/webt/hd/4n/dy/hd4ndykwienlrz68dnh4ijw7l-8.png"><br><img src="https://habrastorage.org/webt/0n/xd/d4/0nxdd44imz5dmgwlvpfmbpf8o2i.png"><br><br>  Sebagai berikut dari skalogram, metode SMA membersihkan sinyal dari noise frekuensi tinggi, dan <br>  seperti yang disebutkan di atas digunakan untuk menghaluskan. <br><br><h3>  Kesimpulan: </h3><br><ol><li>  Menggunakan modul scaleogram, skalogram wavelet CWT dari tiga sinyal sensor getaran uji diperoleh untuk kondisi pengujian yang berbeda untuk bantalan dari jenis yang sama.  Menurut data skalogram, dipilih sinyal dengan tanda-tanda degradasi lambat yang dinyatakan dengan jelas.  Sinyal ini digunakan untuk menunjukkan operasi filter dalam semua contoh yang diberikan. </li><li>  Metode perpustakaan PyWavelets untuk dekonstruksi DWT dan pemulihan sinyal sensor getaran menggunakan modul pywt.dwt (), pywt.idwt () dan modul pywt.wavedec () untuk level wavelet yang diberikan dipertimbangkan. </li><li>  Contoh-contoh menunjukkan fitur aplikasi modul pywt.threshol () untuk memfilter koefisien penyempitan DWT, yang bertanggung jawab untuk bagian spektrum frekuensi tinggi menggunakan fungsi ambang untuk nilai ambang tertentu. </li><li>  Efek dari gelombang DWT antiderivatif pada bentuk sinyal yang dibersihkan dari kebisingan dipertimbangkan. </li><li>  Model filter Kalman untuk media dinamis diperoleh, model diuji pada sinyal uji sensor getaran.  Plot penghilangan derau sama dengan yang diperoleh menggunakan modul pyKalman.  Sifat grafik bertepatan dengan skalogram. </li><li>          . </li></ol></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id459922/">https://habr.com/ru/post/id459922/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id459902/index.html">Peta interaktif wilayah Rusia untuk pemula. Kesalahan yang saya buat dan yang tidak boleh Anda lakukan</a></li>
<li><a href="../id459906/index.html">Tic Tac Toe, bagian 3: Undo / Redo dengan penyimpanan perintah</a></li>
<li><a href="../id459910/index.html">Situasi: perusahaan tidak terburu-buru untuk mengembangkan layanan untuk asisten suara - apa risikonya</a></li>
<li><a href="../id459914/index.html">SQL Index Manager - alat gratis untuk mendefrag dan mempertahankan indeks</a></li>
<li><a href="../id459918/index.html">Pemecahan masalah dengan pwnable.kr 03 - bof. Buffer overflow pada stack</a></li>
<li><a href="../id459924/index.html">Siklus Pengujian Reaksi Penuh. Laporan Auto.ru</a></li>
<li><a href="../id459928/index.html">Jalur siswa ke pengembangan aplikasi seluler</a></li>
<li><a href="../id459930/index.html">Otomasi impor Python</a></li>
<li><a href="../id459934/index.html">Intisari materi menarik untuk pengembang ponsel # 306 (pada 8-14 Juli)</a></li>
<li><a href="../id459936/index.html">9 trik lagi untuk bekerja dengan Visual Studio</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>