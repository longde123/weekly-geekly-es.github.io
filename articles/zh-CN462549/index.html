<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘‚ğŸ¾ ğŸ¥“ ğŸ” QuorumåŒºå—é“¾ï¼šé›†æˆåˆ°Javaä»£ç ä¸­ ğŸ§‘ğŸ¿â€ğŸ¤â€ğŸ§‘ğŸ½ ğŸ“Ÿ ğŸ±</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å“ˆHaï¼ 


 å¯¹äºé‚£äº›å¯¹åŒºå—é“¾æ„Ÿå…´è¶£çš„äººæ¥è¯´ï¼Œè¿™ä¸æ˜¯ä»€ä¹ˆç§˜å¯†ï¼Œé™¤äº†ä»¥å¤ªåŠ ï¼Œ æ¯”ç‰¹å¸ ï¼Œ Zcashç­‰å…¬å…±åŒºå—é“¾ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›â€œä¼ä¸šï¼ˆç§æœ‰ï¼‰â€â€œå…„å¼Ÿâ€åœ¨æŸäº›æ–¹é¢è¦æ¯”å…¬å…±ç½‘ç»œæ›´å¥½ï¼Œä½†åœ¨æŸäº›æ–¹é¢ä»–ä»¬è¾“ç»™äº†ä»–ä»¬ã€‚ åœ¨æœ€çŸ¥åçš„ç½‘ç»œä¸­ï¼Œæˆ‘è®¤ä¸ºæ‚¨å¯ä»¥å‘½åQuorum ï¼ˆä¾›åº”å•†-JP Morgan Chase...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>QuorumåŒºå—é“¾ï¼šé›†æˆåˆ°Javaä»£ç ä¸­</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462549/"><p> å“ˆHaï¼ </p><br><p> å¯¹äºé‚£äº›å¯¹<em>åŒºå—</em>é“¾æ„Ÿå…´è¶£çš„äººæ¥è¯´ï¼Œè¿™ä¸æ˜¯ä»€ä¹ˆç§˜å¯†ï¼Œé™¤äº†<em>ä»¥å¤ªåŠ</em> ï¼Œ <em>æ¯”ç‰¹å¸</em> ï¼Œ <em>Zcash</em>ç­‰å…¬å…±<em>åŒºå—</em>é“¾ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›â€œä¼ä¸šï¼ˆç§æœ‰ï¼‰â€â€œå…„å¼Ÿâ€åœ¨æŸäº›æ–¹é¢è¦æ¯”å…¬å…±ç½‘ç»œæ›´å¥½ï¼Œä½†åœ¨æŸäº›æ–¹é¢ä»–ä»¬è¾“ç»™äº†ä»–ä»¬ã€‚ åœ¨æœ€çŸ¥åçš„ç½‘ç»œä¸­ï¼Œæˆ‘è®¤ä¸ºæ‚¨å¯ä»¥å‘½å<em>Quorum</em> ï¼ˆä¾›åº”å•†<strong>-JP Morgan Chase</strong> ï¼‰ï¼Œ <em>Pantheon</em> ï¼ˆä¾›åº”å•†<strong>-PegaSys</strong> ï¼‰å’Œ<em>Hyperledger</em> ï¼ˆç”±<strong>Linux Foundation</strong>ç®¡ç†ï¼‰ã€‚ å°½ç®¡å­˜åœ¨è®¸å¤šå…¬å…±å†³ç­–ï¼Œä½†ä¼ä¸šå¯¹ç§æœ‰åŒºå—é“¾è¶Šæ¥è¶Šæ„Ÿå…´è¶£ï¼Œå› ä¸ºå®ƒä»¬èƒ½å¤Ÿæä¾›å¿…è¦çš„éšç§çº§åˆ«ï¼Œäº¤æ˜“é€Ÿåº¦æ›´å¿«ç­‰ç­‰ã€‚ <a name="habracut"></a> ç§æœ‰å’Œå…¬å…±åŒºå—é“¾ä¹‹é—´çš„å·®å¼‚ä»¥åŠå®ƒä»¬çš„ä¼˜ç¼ºç‚¹ä¸æ˜¯æœ¬æ–‡çš„ä¸»é¢˜ã€‚ å¦‚æœæ‚¨æœ‰å…´è¶£é˜…è¯»å®ƒï¼Œä¾‹å¦‚ï¼Œåœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Medium</a>ä¸Šæœ‰è¿™æ ·çš„æ–‡ç« ã€‚ </p><br><p> åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘æƒ³å‘Šè¯‰æ‚¨å¦‚ä½•ä½¿ç”¨<em>Quorum</em>åŒºå—é“¾æ¥å¼€å‘æ”¯æŒç§æœ‰å’Œå…¬å…±äº¤æ˜“çš„åº”ç”¨ç¨‹åºã€‚ ä¸ºäº†æ¼”ç¤ºè¿™äº›åŠŸèƒ½ï¼Œæˆ‘ä»¬å°†ç¼–å†™ä¸€ä¸ªå°å‹<em>Java / Spring</em>åº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºå°†æ¥å—éƒ¨ç½²ï¼ˆéƒ¨ç½²ï¼‰æ™ºèƒ½åˆçº¦ï¼Œæ‰§è¡Œäº¤æ˜“ä»¥åŠä»æ™ºèƒ½åˆçº¦è¯»å–æ•°æ®çš„è¯·æ±‚ã€‚ å®é™…ä¸Šï¼Œè¿™æ˜¯æœ¬æ–‡ä¸­å°†ä½¿ç”¨çš„æŠ€æœ¯å †æ ˆï¼š </p><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Java 8</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ‘‡ç¯®5.2.1</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">æ˜¥å­£æ¡†æ¶</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Web3j</a> ï¼ˆç”¨äºåœ¨ä»¥å¤ªåŠå¼ç½‘ç»œä¸­è¿›è¡Œå…¬å…±äº¤æ˜“çš„åº“ï¼‰ </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Web3j-quorum</a> ï¼ˆç”¨äºåœ¨Quorumç½‘ç»œä¸­å¤„ç†ç§äººäº¤æ˜“çš„åº“ï¼‰ </li></ul><br><h1 id="nemnogo-obschey-informacii-o-quorum"> æœ‰å…³Quorumçš„ä¸€äº›å¸¸è§„ä¿¡æ¯ </h1><br><p>  <em>Quorum</em>æ˜¯ä¸€ä¸ªåœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GitHubä¸Š</a>å…·æœ‰å¼€æºä»£ç çš„é¡¹ç›®ï¼Œå…¶ç›®çš„æ˜¯æä¾›ä¸€ä¸ªåŒºå—é“¾ï¼Œä½¿å®ƒä¸ä»…å¯ä»¥å…¬å¼€è¿›è¡Œäº¤æ˜“ï¼Œè¿˜å¯ä»¥ä»¥ç§æœ‰æ¨¡å¼è¿›è¡Œäº¤æ˜“ã€‚ ä»æŠ€æœ¯è§’åº¦æ¥çœ‹ï¼Œ <em>Quorum</em>æ˜¯ä¸€ä¸ª<em>ä»¥å¤ªåŠ</em>å‡çº§ï¼Œå®ƒè¿˜å…·æœ‰è‡ªå·±çš„ç»è¿‡ä¿®æ”¹çš„<em>Geth</em>å®¢æˆ·ç«¯ï¼Œèƒ½å¤Ÿè¿›è¡Œç§äººäº¤æ˜“ã€‚ </p><br><p>  <em>é£åœ°</em>æœåŠ¡ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦çš„è¡¥å……ï¼Œ <em>é£åœ°</em>æœåŠ¡è´Ÿè´£åœ¨å®ƒä»¬ä¹‹é—´å­˜å‚¨ï¼ŒåŠ å¯†å’Œåˆ†å‘ç§äººäº¤æ˜“ã€‚ ç°åœ¨æœ‰2ç§æ­¤ç±»<em>é£åœ°</em>æœåŠ¡ï¼š </p><br><ol><li>  <strong>æ˜Ÿåº§</strong> -ç”¨<em>é£åœ°</em>çš„ç¬¬ä¸€ä¸ªç‰ˆæœ¬Haskellç¼–å†™ï¼Œä½†æ˜¯ç°åœ¨å®ƒä¸å†å‘å±•äº†ï¼Œå¹¶ä¸”å¾ˆå¯èƒ½åœ¨å°†æ¥è¢«æŠ›å¼ƒï¼Œå–è€Œä»£ä¹‹çš„æ˜¯æ–°çš„<strong>æ˜Ÿåº§</strong> ã€‚ </li><li>  <strong>Tessera</strong>æ˜¯ä¸€é¡¹ç”¨<em>Java</em>ç¼–å†™çš„æ–°æœåŠ¡ï¼Œç”±JP Morgan Chaseçš„å¼€å‘äººå‘˜æ”¯æŒï¼Œå®ƒæä¾›äº†æ›´å¤šä¸æ•°æ®åº“é›†æˆå’Œæ•æ„Ÿä¿¡æ¯ç®¡ç†çš„é€‰é¡¹ï¼ˆä¾‹å¦‚ï¼Œå¯ä»¥ä¸<em>HashiCorp Vault</em>é›†æˆä»¥ç®¡ç†ç§˜å¯†ï¼‰ã€‚ </li></ol><br><p> è‡³äºäº¤æ˜“ï¼Œä»æ™®é€š<em>ä»¥å¤ªåŠ</em>çš„ç•Œé¢<em>æ¥çœ‹ï¼Œ</em>å˜åŒ–ä¸å¤§ï¼ˆè¿™å¾ˆå¥½ï¼‰ã€‚ ä¸ºäº†å‘é€ç§æœ‰äº‹åŠ¡ï¼Œé™¤äº†æœ‰å…³äº‹åŠ¡çš„å¸¸è§„ä¿¡æ¯å¤–ï¼Œè¿˜å¿…é¡»æŒ‡å®š<strong>privateFor</strong>å‚æ•°-è¿™æ˜¯è¡Œçš„<strong>æ•°ç»„</strong> ï¼Œè¿™äº›è¡Œæ˜¯å®‰å…¨<em>åŒº</em>èŠ‚ç‚¹çš„å…¬é’¥ã€‚ ä½¿ç”¨è¿™äº›å¯†é’¥ï¼Œ <em>æœ‰æ•ˆè½½è·</em>äº¤æ˜“è¢«<em>åŠ å¯†ï¼Œ</em>å¹¶ä¸”<em>payoad</em>åœ¨<em>åŒºå—</em>é“¾å†…çš„<strong>Tessera</strong>èŠ‚ç‚¹ä¹‹é—´åˆ†é…ã€‚ </p><br><p> è¦æ›´æ·±å…¥åœ°äº†è§£<em>Quorum</em> ï¼Œå¦‚ä½•å·¥ä½œä»¥åŠå¦‚ä½•å»ºç«‹åŒºå—é“¾ç½‘ç»œï¼Œå¯ä»¥åœ¨å®˜æ–¹ç½‘ç«™ä¸Šæ‰¾åˆ°å®ƒï¼ˆæ–‡æ¡£çš„é“¾æ¥ä»¥åŠæœ‰å…³å¦‚ä½•å¯åŠ¨æµ‹è¯•åŒºå—é“¾çš„æ•™ç¨‹çš„é“¾æ¥ï¼Œæˆ‘å°†åœ¨æœ¬æ–‡ç»“å°¾å¤„ä»‹ç»ï¼‰ã€‚ </p><br><h1 id="razrabotka-java-prilozheniya">  Javaåº”ç”¨å¼€å‘ </h1><br><p> ä½œä¸ºç¤ºä¾‹ï¼Œæˆ‘å°†å±•ç¤ºä¸€ä¸ªç”¨<em>Java / Spring</em>ç¼–å†™çš„å°å‹RESTful APIï¼Œå¹¶å°†<em>Gradle</em>ä½œä¸ºæ„å»ºå’Œä¾èµ–é¡¹ç®¡ç†å·¥å…·ï¼Œå®ƒå°†æ™ºèƒ½åˆçº¦åŠ è½½åˆ°åŒºå—é“¾ä¸­ï¼Œæ‰§è¡Œæ›´æ”¹åˆçº¦çŠ¶æ€å¹¶ä»æ™ºèƒ½åˆçº¦ä¸­è¯»å–çŠ¶æ€çš„åŠŸèƒ½ã€‚ </p><br><p> åœ¨å¼€å§‹å¼€å‘æœ¬èº«ä¹‹å‰ï¼Œæˆ‘å¿…é¡»æ¾„æ¸…ä¸€äº›äº‹æƒ…ã€‚ å°½ç®¡<em>Quorum</em>æ­£å¼æä¾›äº†2ç§äº¤æ˜“é€‰é¡¹ï¼Œä½†æˆ‘è¿˜æ˜¯å€¾å‘äºå°†å…¶åˆ†ä¸º3ç§ç±»å‹ï¼š </p><br><ol><li>  <em>å…¬å…±</em>äº‹åŠ¡-äº‹åŠ¡å¯¹æ‰€æœ‰ç½‘ç»œå‚ä¸è€…ï¼ˆåŒ…æ‹¬<em>æœ‰æ•ˆè´Ÿè½½</em> ï¼‰å®Œå…¨å¯è§ï¼Œå®‰å…¨<em>åŒº</em>èŠ‚ç‚¹ä¸å‚ä¸å¤„ç†æˆ–å­˜å‚¨äº‹åŠ¡ã€‚  <em>Quorumä¸­çš„</em>å…¬å…±äº¤æ˜“ä¸<em>ä»¥å¤ªåŠ</em>ç½‘ç»œä¸­çš„äº¤æ˜“æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼› </li><li>  <em>è®¸å¯çš„</em>äº¤æ˜“-äº¤æ˜“æœ¬è´¨ä¸Šæ˜¯ç§æœ‰çš„ï¼Œä½†æ˜¯å¯¹äºå‡ ä¸ªç½‘ç»œå‚ä¸è€…ï¼Œå³åœ¨å…¬å…±ç½‘ç»œä¸Šï¼Œæˆ‘ä»¬å…·æœ‰æœ‰å…³äº¤æ˜“åŠå…¶æ‰§è¡ŒçŠ¶æ€çš„ä¿¡æ¯ï¼Œä½†æ˜¯é™¤äº†å…¬å…±ç½‘ç»œä¸Šçš„å®é™…<em>æœ‰æ•ˆè´Ÿè½½å¤–</em> ï¼Œæˆ‘ä»¬åªæœ‰ä¸€ä¸ª64ä½å“ˆå¸Œå­—ç¬¦ä¸²ï¼Œå³é€šè¿‡<em>é£åœ°</em>èŠ‚ç‚¹ä¸­å®é™…<em>æœ‰æ•ˆè½½è·</em>çš„æ ‡è¯†ç¬¦ï¼Œ <em>é£åœ°</em>èŠ‚ç‚¹æœ¬èº«è´Ÿè´£åœ¨äº¤æ˜“çš„æŒ‡ç¤ºæ–¹ä¹‹é—´ç­¾åï¼ŒåŠ å¯†ï¼Œå­˜å‚¨å’Œåˆ†é…<em>æœ‰æ•ˆè½½è·</em> ï¼› </li><li>  <em>ç§æœ‰</em>äº¤æ˜“-ä¸<em>å…è®¸çš„</em>äº¤æ˜“ä¸åŒï¼Œè¯¥äº¤æ˜“ä»…å¯ç”¨äºåˆ›å»ºè¯¥äº¤æ˜“çš„èŠ‚ç‚¹ï¼Œå…¶ä»–ç½‘ç»œå‚ä¸è€…æ— æ³•çœ‹åˆ°<em>æœ‰æ•ˆè½½è·</em>äº¤æ˜“ã€‚ <br> åœ¨æ•´ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†ä½¿ç”¨è¿™ç§åˆ†ç±»ã€‚ </li></ol><br><p>é¦–å…ˆï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºæ„å»ºæ–‡ä»¶çš„å¤–è§‚<code>gradle.build</code> ï¼š </p><br><pre> <code class="plaintext hljs">plugins { id 'org.springframework.boot' version '2.1.6.RELEASE' id 'java' } apply plugin: 'io.spring.dependency-management' group = 'com.github' version = '1.0' sourceCompatibility = '1.8' configurations { compileOnly { extendsFrom annotationProcessor } } repositories { mavenCentral() } test { testLogging.showStandardStreams = true } dependencies { implementation 'org.springframework.boot:spring-boot-starter-webflux' implementation group: 'org.web3j', name: 'quorum', version: '4.0.6' implementation group: 'org.web3j', name: 'core', version: '4.1.0' implementation group: 'org.web3j', name: 'codegen', version: '4.1.0' compileOnly 'org.projectlombok:lombok' annotationProcessor 'org.projectlombok:lombok' annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor' testImplementation 'org.springframework.boot:spring-boot-starter-test' testImplementation 'io.projectreactor:reactor-test' } task generateWrappers(type: JavaExec) { group 'Demo' description 'Generates wrappers for smart-contracts' classpath = sourceSets.main.runtimeClasspath main = 'com.github.quorum.utils.WrappersGenerator' }</code> </pre> <br><p> ä¸€ç‚¹è§£é‡Šï¼š </p><br><ol><li>  <code>org.web3j.core</code>ç”¨äºåœ¨<em>ä»¥å¤ªåŠ</em>ç½‘ç»œä¸Šè¿›è¡Œäº¤æ˜“å’Œåœ¨<em>Quorum</em>ç½‘ç»œä¸Šè¿›è¡Œå…¬å…±äº¤æ˜“çš„ä¾èµ–é¡¹ </li><li>  <code>org.web3j.quorum</code>åœ¨<em>Quorum</em>ç½‘ç»œä¸Šä½¿ç”¨ç§äººäº¤æ˜“çš„ä¾èµ– </li><li>  <code>org.web3j.codegen</code>ä¾èµ–ä¸º<code>org.web3j.codegen</code>æ™ºèƒ½åˆçº¦ç”Ÿæˆ<code>org.web3j.codegen</code> </li><li>  <em>generateWrappers-</em>ç”¨äºä»<em>Solidity</em>æ™ºèƒ½åˆçº¦ç”Ÿæˆ<em>Java</em>åŒ…è£…å™¨çš„Gradleä»»åŠ¡ </li></ol><br><p> æ¥ä¸‹æ¥ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå°†åœ¨æœ¬æ–‡ä¸­ä½¿ç”¨çš„æ™ºèƒ½åˆçº¦ä»£ç ï¼š <code>QuorumDemo.sol</code>æ–‡ä»¶ï¼š </p><br><pre> <code class="plaintext hljs">pragma solidity 0.5.0; /** * @dev Smart-Contract for demonstration purposes. */ contract QuorumDemo { string public user; /** * @dev Rewrite user name in storage. */ function writeUser(string calldata _user) public { user = _user; } }</code> </pre> <br><p> æ•…æ„å°†åˆåŒç®€åŒ–ï¼Œä½†å¯¹äºæˆ‘ä»¬çš„æ–‡ç« è€Œè¨€ï¼ŒåˆåŒå·²è¶³å¤Ÿã€‚ å¦‚æœæ‚¨çŸ¥é“<em>Solidity</em> ï¼Œé‚£ä¹ˆå¯ä»¥è·³è¿‡è¯´æ˜ï¼š </p><br><ul><li>  <code>string public user</code>ç±»å‹ä¸º<em>string</em>ä¸”åç§°ä¸º<em>user</em>çš„å…¬å…±å˜é‡ã€‚ ä¸<em>Java</em>ä¸åŒï¼Œ <em>Solidity</em>è‡ªåŠ¨ä¸ºå…¬å…±å˜é‡ç”Ÿæˆä¸€ä¸ª<em>getter</em> ï¼Œå› æ­¤æ‚¨æ— éœ€æ‰‹åŠ¨å®ç°å®ƒã€‚ </li><li>  <code>function writeUser(...)</code> -æ›´æ”¹å˜é‡å€¼çš„åŠŸèƒ½ï¼Œå®é™…ä¸Šæ˜¯<em>setter</em> ã€‚ </li></ul><br><p> ä¸ºäº†ä»æ™ºèƒ½åˆçº¦åˆ›å»º<code>Java-wrapper</code> ï¼Œæ‚¨éœ€è¦å°†æ–‡ä»¶ä»¥ä»»ä½•åç§°ï¼ˆä¾‹å¦‚<code>QuorumDemo.sol</code>æ”¾åœ¨<code>src/main/solidity/contracts</code> <code>QuorumDemo.sol</code> <code>src/main/solidity/contracts</code>æ–‡ä»¶å¤¹ä¸­ã€‚ <br> æ¥ä¸‹æ¥ï¼Œ <em>ä½¿ç”¨ä»¥ä¸‹</em>å‘½ä»¤è¿è¡ŒGradle-task <em>generateWrappers</em> ï¼š </p><br><pre> <code class="plaintext hljs">gradle generateWrappers</code> </pre> <br><p> å®Œæˆæ­¤ä»»åŠ¡åï¼Œå°†åœ¨<code>src/main/java/com/github/quorum/component/wrappers</code>åˆ›å»ºä¸€ä¸ª<em>JavaåŒ…è£…</em> <code>src/main/java/com/github/quorum/component/wrappers</code> ï¼Œæ‚¨å·²ç»å¯ä»¥åœ¨<em>Java</em>ä»£ç ä¸­ä½¿ç”¨å®ƒã€‚ </p><br><p> ä¸ºäº†ä½¿åç«¯èƒ½å¤Ÿç­¾ç½²äº¤æ˜“ï¼Œæˆ‘ä»¬éœ€è¦èƒ½å¤Ÿåœ¨å‘é€ä¹‹å‰æ¥æ”¶<em>æœ‰æ•ˆè½½è·</em>äº¤æ˜“ã€‚ ä¸ºæ­¤ï¼Œæœ€å¥½ç›´æ¥ä»<em>Java-wrapper</em>ç±»è·å–å®ƒã€‚ åœ¨è¿™é‡Œï¼Œæˆ‘åœ¨åŒ…è£…å™¨å†…åˆ›å»ºäº†2ä¸ªæ–¹æ³•ã€‚ ç¬¬ä¸€ç§æ–¹æ³•åªæ˜¯è¿”å›åˆåŒçš„<em>ABIï¼Œ</em>å¯ç”¨äºä¸‹è½½æ–°çš„æ™ºèƒ½åˆåŒã€‚ ç¬¬äºŒç§æ–¹æ³•æ˜¯å½¢æˆäº¤æ˜“ä»¥æ›´æ”¹æ™ºèƒ½åˆçº¦çš„çŠ¶æ€ã€‚ è¿™æ˜¯è¿™äº›æ–¹æ³•çš„ä»£ç ï¼š </p><br><pre> <code class="plaintext hljs">public static String getBinary() { return BINARY; } public static String getDataOnWriteUser(final String user) { final Function function = new Function( FUNC_WRITEUSER, Arrays.asList(new Utf8String(user)), Collections.emptyList() ); return FunctionEncoder.encode(function); }</code> </pre> <br><p> é€šè¿‡å°†å®ƒä»¬æ’å…¥ç”Ÿæˆçš„<em>JavaåŒ…è£…ç¨‹åºä¸­</em> ï¼Œæ‚¨å¯ä»¥æ¥æ”¶äº‹åŠ¡çš„<em>æœ‰æ•ˆè´Ÿè½½</em> ã€‚ </p><br><p> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹ä¾¿çš„æ–¹å¼å°†äº¤æ˜“å‘é€åˆ°åŒºå—é“¾ï¼Œæœ€å¥½ä½¿ç”¨ç›¸åŒçš„æ¥å£è¿›è¡Œç§äººå’Œå…¬å…±äº¤æ˜“ã€‚ å› æ­¤ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªäº‹åŠ¡ç®¡ç†å™¨æ¥å£åŠå…¶å®ç°2ï¼š </p><br><ol><li>  <code>TesseraTransactionManager</code> ï¼Œç”¨äºå‘é€ç§äººäº¤æ˜“ </li><li>  <code>GethTransactionManager</code> ï¼Œç”¨äºå‘é€å…¬å…±äº¤æ˜“ </li></ol><br><p> è®©æˆ‘ä»¬æŠŠå®ƒä»¬åˆ†å¼€ã€‚  <code>TesseraTransactionManager</code>ä»£ç ï¼š </p><br><pre> <code class="plaintext hljs">@Slf4j public class TesseraTransactionManager implements TransactionManager { private static final byte ATTEMPTS = 20; private static final int SLEEP_DURATION = 100; private final Quorum quorum; private final String fromAddress; private final QuorumTransactionManager quorumTxManager; private final TransactionReceiptProcessor txReceiptProcessor; public TesseraTransactionManager( Quorum quorum, Credentials credentials, String publicKey, List&lt;String&gt; privateFor, Tessera tessera ) { this.quorum = quorum; this.fromAddress = credentials.getAddress(); this.quorumTxManager = new QuorumTransactionManager(quorum, credentials, publicKey, privateFor, tessera); this.txReceiptProcessor = new PollingTransactionReceiptProcessor(quorum, SLEEP_DURATION, ATTEMPTS); } @Override public TransactionReceipt executeTransaction( final BigInteger gasPrice, final BigInteger gasLimit, final String to, final String data) { while (true) { try { final EthSendTransaction ethSendTx = sendTransaction(gasPrice, gasLimit, to, data); if (ethSendTx.hasError() &amp;&amp; NONCE_TOO_LOW_ERROR_MESSAGE.equals(ethSendTx.getError().getMessage())) { log.warn("[BLOCKCHAIN] try to re-send transaction cause error {}", ethSendTx.getError().getMessage()); continue; } return processResponse(ethSendTx); } catch (TransactionException ex) { log.error("[BLOCKCHAIN] exception while receiving TransactionReceipt from Quorum node", ex); throw new RuntimeException(ex); } catch (Exception ex) { log.error("[BLOCKCHAIN] exception while sending transaction to Quorum node", ex); throw new RuntimeException(ex); } } } private EthSendTransaction sendTransaction( final BigInteger gasPrice, final BigInteger gasLimit, final String to, final String data) throws IOException { final BigInteger nonce = getNonce(); final RawTransaction rawTransaction = RawTransaction.createTransaction(nonce, gasPrice, gasLimit, to, data); return this.quorumTxManager.signAndSend(rawTransaction); } private TransactionReceipt processResponse(final EthSendTransaction transactionResponse) throws IOException, TransactionException { if (transactionResponse.hasError()) { throw new RuntimeException( "[BLOCKCHAIN] error processing transaction request: " + transactionResponse.getError().getMessage() ); } final String transactionHash = transactionResponse.getTransactionHash(); return this.txReceiptProcessor.waitForTransactionReceipt(transactionHash); } private BigInteger getNonce() throws IOException { final EthGetTransactionCount ethGetTxCount = this.quorum.ethGetTransactionCount( this.fromAddress, DefaultBlockParameterName.PENDING).send(); return ethGetTxCount.getTransactionCount(); } }</code> </pre> <br><ul><li>  <code>TransactionReceipt executeTransaction(...)</code> -æ¥å£çš„å®ç°ï¼Œä¸€ç§ç”¨äºåœ¨ç½‘ç»œä¸Šæ‰§è¡Œäº‹åŠ¡å¹¶å¤„ç†é”™è¯¯ï¼ˆå¦‚æœå‘ç”Ÿï¼‰çš„æ–¹æ³•ã€‚ è¿”å›å¸¦æœ‰äº¤æ˜“ç»“æœçš„å¯¹è±¡ï¼› </li><li>  <code>EthSendTransaction sendTransaction(...)</code> -ä¸€ç§å°†äº¤æ˜“ç­¾å<code>EthSendTransaction sendTransaction(...)</code>é“¾çš„æ–¹æ³•ã€‚ è¿”å›å…·æœ‰äº¤æ˜“çŠ¶æ€åŠå…¶å“ˆå¸Œå€¼çš„å¯¹è±¡ï¼› </li><li>  <code>TransactionReceipt processResponse(...)</code> -ç­‰å¾…äº‹åŠ¡å®Œæˆå¹¶åœ¨æ‰§è¡Œåè¿”å›<code>TransactionReceipt</code> ï¼› </li><li>  <code>BigInteger getNonce()</code> -ä»ç½‘ç»œè¿”å›â€œ nonceâ€ã€‚ </li></ul><br><p> å’Œ<code>GethTransactionManager</code>ä»£ç ï¼š </p><br><pre> <code class="plaintext hljs">@Slf4j public class GethTransactionManager extends FastRawTransactionManager implements TransactionManager { private static final byte ATTEMPTS = 20; private static final int SLEEP_DURATION = 100; private final TransactionReceiptProcessor txReceiptProcessor; public GethTransactionManager(Web3j web3j, Credentials credentials) { this(web3j, credentials, new PollingTransactionReceiptProcessor(web3j, SLEEP_DURATION, ATTEMPTS)); } public GethTransactionManager(Web3j web3j, Credentials credentials, TransactionReceiptProcessor txReceiptProcessor) { super(web3j, credentials, txReceiptProcessor); this.txReceiptProcessor = txReceiptProcessor; } @Override public TransactionReceipt executeTransaction( final BigInteger gasPrice, final BigInteger gasLimit, final String to, final String data) { while (true) { try { final EthSendTransaction ethSendTx = sendTransaction(gasPrice, gasLimit, to, data, BigInteger.ZERO); if (ethSendTx != null &amp;&amp; ethSendTx.hasError() &amp;&amp; NONCE_TOO_LOW_ERROR_MESSAGE.equals(ethSendTx.getError().getMessage())) { log.warn("[BLOCKCHAIN] try to re-send transaction cause error: {}", ethSendTx.getError().getMessage()); continue; } return this.txReceiptProcessor.waitForTransactionReceipt(ethSendTx.getTransactionHash()); } catch (TransactionException ex) { log.error("[BLOCKCHAIN] exception while receiving TransactionReceipt from Quorum node", ex); throw new RuntimeException(ex); } catch (IOException ex) { log.error("[BLOCKCHAIN] exception while sending transaction to Quorum node", ex); throw new RuntimeException(ex); } } } @Override public EthSendTransaction sendTransaction( final BigInteger gasPrice, final BigInteger gasLimit, final String to, final String data, final BigInteger value ) throws IOException { return super.sendTransaction(gasPrice, gasLimit.add(BigInteger.valueOf(21_000L)), to, data, value); } }</code> </pre> <br><ul><li>  <code>TransactionReceipt executeTransaction(...)</code> -æ¥å£çš„å®ç°ï¼Œä¸€ç§ç”¨äºåœ¨ç½‘ç»œä¸Šæ‰§è¡Œäº‹åŠ¡å¹¶å¤„ç†é”™è¯¯ï¼ˆå¦‚æœå‘ç”Ÿï¼‰çš„æ–¹æ³•ã€‚ è¿”å›å¸¦æœ‰äº¤æ˜“ç»“æœçš„å¯¹è±¡ï¼› </li><li>  <code>EthSendTransaction sendTransaction(...)</code>æ˜¯ä¸€ç§è°ƒç”¨<code>EthSendTransaction sendTransaction(...)</code>æ–¹æ³•ä»¥å°†äº¤æ˜“å‘é€åˆ°åŒºå—é“¾çš„æ–¹æ³•ã€‚ </li></ul><br><p> åˆ°è¾¾<em>APIçš„</em>è¯·æ±‚çš„å¤„ç†ç¨‹åºï¼š </p><br><pre> <code class="plaintext hljs">@Slf4j @Component public class RequestHandler { private final Web3j web3j; private final Quorum quorum; private final Tessera tessera; private final Credentials credentials; private final BlockchainConfig blockchainConfig; private String deployedContract; @Autowired public RequestHandler( @Qualifier("initWeb3j") Web3j web3j, Quorum quorum, Tessera tessera, Credentials credentials, BlockchainConfig blockchainConfig ) { this.web3j = web3j; this.quorum = quorum; this.tessera = tessera; this.credentials = credentials; this.blockchainConfig = blockchainConfig; } /** * Deploy new smart-contract. * * @param serverRequest * - {@link ServerRequest} object with request information * @return {@link ServerResponse} object with response data */ public Mono&lt;ServerResponse&gt; deployContract(final ServerRequest serverRequest) { return serverRequest .bodyToMono(APIRequest.class) .map(this::getTransactionManager) .map(this::deployContract) .flatMap(this::generateResponse); } private TransactionManager getTransactionManager(final APIRequest apiRequest) { log.info("[HANDLER] privateFor = {}", apiRequest.getPrivateFor()); TransactionManager txManager; if (isPrivate(apiRequest.getPrivateFor())) { if (apiRequest.getPrivateFor().size() == 0) { apiRequest.getPrivateFor().add(this.blockchainConfig.getTesseraPublicKey()); } txManager = new TesseraTransactionManager(this.quorum, this.credentials, this.blockchainConfig.getTesseraPublicKey(), apiRequest.getPrivateFor(), this.tessera); } else { txManager = new GethTransactionManager(this.web3j, this.credentials); } return txManager; } private boolean isPrivate(final List&lt;String&gt; limitedTo) { return limitedTo == null || limitedTo.size() == 0 || !limitedTo.get(0).equals("public"); } private APIResponse deployContract(final TransactionManager txManager) { log.info("[HANDLER] deploying new smart-contract"); final String data = QuorumDemo.getBinary(); final TransactionReceipt txReceipt = txManager.executeTransaction(GAS_PRICE, DEPLOY_GAS_LIMIT, null, data); final APIResponse apiResponse = APIResponse.newInstance(txReceipt); this.deployedContract = txReceipt.getContractAddress(); log.info("[HANDLER] contract has been successfully deployed. Result: {}", apiResponse.getMap()); return apiResponse; } private Mono&lt;ServerResponse&gt; generateResponse(final APIResponse apiResponse) { return ServerResponse .ok() .body(Mono.just(apiResponse.getMap()), Map.class); } /** * Send transaction on update user in smart-contract. * * @param serverRequest * - {@link ServerRequest} object with request information * @return {@link ServerResponse} object with response data */ public Mono&lt;ServerResponse&gt; updateUser(final ServerRequest serverRequest) { return serverRequest .bodyToMono(APIRequest.class) .map(this::sendTransaction) .flatMap(this::generateResponse); } private APIResponse sendTransaction(final APIRequest apiRequest) { final TransactionManager txManager = getTransactionManager(apiRequest); log.info("[HANDLER] sending new transaction"); final String data = QuorumDemo.getDataOnWriteUser(apiRequest.getUser()); final TransactionReceipt txReceipt = txManager.executeTransaction(GAS_PRICE, TX_GAS_LIMIT, this.deployedContract, data); final APIResponse apiResponse = APIResponse.newInstance(txReceipt); log.info("[HANDLER] transaction has been successfully executed. Result: {}", apiResponse.getMap()); return apiResponse; } /** * Read user from smart-contract. * * @param serverRequest * - {@link ServerRequest} object with request information * @return {@link ServerResponse} object with response data */ public Mono&lt;ServerResponse&gt; getUser(final ServerRequest serverRequest) { final APIResponse apiResponse = getUser(); return generateResponse(apiResponse); } private APIResponse getUser() { log.info("[HANDLER] reading user from smart-contract"); final QuorumDemo quorumDemo = QuorumDemo.load(this.deployedContract, this.web3j, this.credentials, new StaticGasProvider(GAS_PRICE, DEPLOY_GAS_LIMIT)); final String user = readUserFromSmartContract(quorumDemo); final APIResponse apiResponse = APIResponse.newInstance(user); log.info("[HANDLER] user: '{}'", user); return apiResponse; } private String readUserFromSmartContract(final QuorumDemo quorumDemo) { try { return quorumDemo.user().send().getValue(); } catch (Exception ex) { log.info("[HANDLER] exception while reading user from smart-contract: {}", ex); return null; } } }</code> </pre> <br><p> ç°åœ¨ï¼Œæˆ‘å°†è§£é‡Šå“ªç§æ–¹æ³•è´Ÿè´£ä»€ä¹ˆã€‚ <br>  <code>Mono&lt;ServerResponse&gt; deployContract(...)</code>æ–¹æ³•<code>Mono&lt;ServerResponse&gt; deployContract(...)</code> -æè¿°äº†<code>Mono&lt;ServerResponse&gt; deployContract(...)</code>å…¬å…±å’Œç§æœ‰æ™ºèƒ½åˆçº¦çš„ä¸€èˆ¬é€»è¾‘ã€‚ <br>  <code>TransactionManager getTransactionManager(...)</code>æ–¹æ³•<code>TransactionManager getTransactionManager(...)</code> -æ ¹æ®äº‹åŠ¡çš„ç±»å‹è¿”å›äº‹åŠ¡ç®¡ç†å™¨çš„å®ç°å¯¹è±¡ã€‚ ä¸ºæ­¤ï¼Œè¯·æ±‚å‚æ•°å°†åŒ…å«<strong>privateFor</strong>å‚æ•°ï¼Œè¯¥å‚æ•°æ˜¯<em>Tessera</em>å…¬é’¥çš„å­—ç¬¦ä¸²æ•°ç»„ã€‚ <br>  <code>boolean isPrivate(...)</code>æ–¹æ³•<code>boolean isPrivate(...)</code> -å¦‚æœ<strong>privateFor</strong>å‚æ•°<strong>ä¸º</strong>ç©ºï¼ˆ <em>ç§æœ‰</em>äº¤æ˜“ï¼‰æˆ–å…·æœ‰å…¬å…±å¯†é’¥åˆ—è¡¨ï¼ˆ <em>å…è®¸</em>äº¤æ˜“ï¼‰ï¼Œåˆ™è¿”å›â€œ trueâ€ã€‚ å¦‚æœ<strong>privateFor</strong>å‚æ•°ä¸ä¸ºç©ºï¼Œå¹¶ä¸”ç¬¬ä¸€ä¸ªæ•°ç»„å…ƒç´ ç­‰äºâ€œ publicâ€ï¼Œåˆ™è¿”å›â€œ falseâ€ã€‚ <br>  <code>APIResponse deployContract(...)</code>æ–¹æ³•-å°†éƒ¨ç½²äº‹åŠ¡å‘é€åˆ°<code>APIResponse deployContract(...)</code>é“¾ã€‚ <br>  <code>Mono&lt;ServerResponse&gt; generateResponse(...)</code>æ–¹æ³•<code>Mono&lt;ServerResponse&gt; generateResponse(...)</code> -ç”Ÿæˆä¸€ä¸ªå¸¦æœ‰å¯¹å®¢æˆ·ç«¯å“åº”çš„å¯¹è±¡ã€‚ <br>  <code>Mono&lt;ServerResponse&gt; updateUser(...)</code>æ–¹æ³•<code>Mono&lt;ServerResponse&gt; updateUser(...)</code> -æè¿°ç”¨äºæ›´æ”¹æ™ºèƒ½åˆçº¦çŠ¶æ€çš„äº‹åŠ¡çš„ä¸€èˆ¬é€»è¾‘ã€‚ <br>  <code>APIResponse sendTransaction(...)</code>æ–¹æ³•-å°†çŠ¶æ€æ›´æ”¹äº¤æ˜“å‘é€åˆ°<code>APIResponse sendTransaction(...)</code>é“¾ã€‚ <br>  <code>APIResponse getUser()</code>æ–¹æ³•-æè¿°ä»æ™ºèƒ½åˆçº¦è¯»å–ä¿¡æ¯å¹¶å‘å®¢æˆ·ç«¯è¿”å›å“åº”çš„ä¸€èˆ¬é€»è¾‘ã€‚ <br>  <code>String readUserFromSmartContract(...)</code>æ–¹æ³•<code>String readUserFromSmartContract(...)</code> -ä»æ™ºèƒ½åˆçº¦ä¸­è¯»å–çŠ¶æ€å¹¶è¿”å›ç»“æœã€‚ </p><br><p> å®Œæ•´çš„åº”ç”¨ç¨‹åºä»£ç å¯åœ¨<em>GitHub</em>å­˜å‚¨åº“ä¸­<em>æ‰¾åˆ°</em> ï¼Œå…¶é“¾æ¥å°†åœ¨æœ¬æ–‡ç»“å°¾å¤„ã€‚ </p><br><h1 id="proverka"> æ£€æŸ¥ä¸€ä¸‹ </h1><br><p> ä¸ºäº†æµ‹è¯•æ‰€æœ‰ä¸‰ç§äº¤æ˜“ç±»å‹ï¼Œæˆ‘ç¼–å†™äº†æµ‹è¯•ç±»ï¼ˆä»£ç åœ¨<em>GitHub</em>å­˜å‚¨åº“ä¸­ï¼‰ã€‚ ä¸ºæ­¤ï¼Œæˆ‘éƒ¨ç½²äº†ä¸€ä¸ªå…·æœ‰3ä¸ª<em>Quorum</em>èŠ‚ç‚¹ï¼ˆ3ä¸ª<em>Geth</em>èŠ‚ç‚¹+ 3ä¸ª<em>Tessera</em>èŠ‚ç‚¹ï¼‰çš„<em>åŒºå—</em>é“¾ã€‚  3 <em>Quorum</em>èŠ‚ç‚¹æ˜¯éªŒè¯æ‰€æœ‰ç±»å‹çš„äº¤æ˜“æ‰€éœ€çš„æœ€å°èŠ‚ç‚¹ã€‚ å¦‚æœæ‚¨æƒ³è‡ªå·±å°è¯•ï¼Œè¯·è®°ä½è¿™ä¸€ç‚¹ã€‚ </p><br><h2 id="public-tranzakcii"> å…¬å¼€äº¤æ˜“ </h2><br><p> è¦ä½¿ç”¨å…¬å…±äº‹åŠ¡æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Œå¿…é¡»è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š </p><br><pre> <code class="plaintext hljs">gradle test --tests *.PublicTransactionsTests</code> </pre> <br><p> è¯¥æµ‹è¯•ç”¨ä¾‹å°†å‘é€3ä¸ª<em>API</em>è¯·æ±‚ã€‚ ç¬¬ä¸€ä¸ªæ˜¯å°†æ™ºèƒ½åˆçº¦éƒ¨ç½²åˆ°åŒºå—é“¾ï¼Œç¬¬äºŒä¸ªæ˜¯åˆçº¦çŠ¶æ€çš„æ›´æ”¹ï¼Œç¬¬ä¸‰ä¸ªè¯·æ±‚æ˜¯ä»æ™ºèƒ½åˆçº¦ä¸­è¯»å–ä¿¡æ¯ã€‚ æµ‹è¯•çš„ç»“æœæ˜¯ï¼Œæ‚¨å°†å¤§è‡´çœ‹åˆ°ä»¥ä¸‹æ—¥å¿—ï¼ˆç½‘ç»œä¸Šçš„åœ°å€ä»¥åŠäº‹åŠ¡å“ˆå¸Œå°†æœ‰æ‰€ä¸åŒï¼‰ï¼š </p><br><pre> <code class="plaintext hljs">[HANDLER] privateFor = [public] [HANDLER] deploying new smart-contract [HANDLER] contract has been successfully deployed. Result: {contract_address=0xf9425b94e459805da09950f5988071692d925097, transaction_hash=0x31bc179f8cd12c640d1663f3df51ce6da1fbc2875f2b724c3911108fcd19a5d0} [HANDLER] privateFor = [public] [HANDLER] sending new transaction [HANDLER] transaction has been successfully executed. Result: {contract_address=null, transaction_hash=0x33ba66d5deec33f3142bfa190a0d37d0ff07c2e66b06037f5b5ff9578154a3ff} [HANDLER] reading user from smart-contract [HANDLER] user: 'Public Test User'</code> </pre> <br><p> é€šå¸¸ï¼Œè¿™äº›æ—¥å¿—è¡¨æ˜æ‰€æœ‰3ä¸ªæ“ä½œå‡æˆåŠŸã€‚ å‰3ä¸ªæ—¥å¿—-å±äºéƒ¨ç½²æ™ºèƒ½åˆçº¦çš„è¯·æ±‚ï¼Œå3ä¸ªæ—¥å¿—-å±äºäº¤æ˜“è®°å½•ï¼Œå2ä¸ªæ—¥å¿—-ä»æ™ºèƒ½åˆçº¦è¯»å–ä¿¡æ¯ã€‚ <br> åœ¨åŠ è½½åˆåŒçš„ç»“æœä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„æ˜¯<strong>contract_address</strong> ï¼Œä½†æ˜¯åœ¨ç®€å•äº‹åŠ¡çš„æƒ…å†µä¸‹-ä¸ï¼Œè¿™æ˜¯å¾ˆæ­£å¸¸çš„ï¼Œå› ä¸ºç¬¬äºŒæ¬¡æˆ‘ä»¬ä¸éƒ¨ç½²åˆåŒï¼Œè€Œæ˜¯åœ¨ç°æœ‰çš„æ™ºèƒ½åˆåŒä¸Šæ‰§è¡Œäº‹åŠ¡ã€‚ </p><br><p> ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹<em>Geth</em>å‘<em>æˆ‘ä»¬</em>æ˜¾ç¤ºçš„å†…å®¹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥è¿æ¥åˆ°å®¢æˆ·ç«¯çš„<em>Geth</em>è¿›ç¨‹<em>IPC</em>ç•Œé¢ï¼š </p><br><pre> <code class="plaintext hljs">geth attach /path/to/ipc</code> </pre> <br><p> åœ¨æˆ‘ä»¬â€œä¹ æƒ¯â€è¯¥è¿‡ç¨‹ä¹‹åï¼Œæ‚¨å¯ä»¥å®Œå…¨æŸ¥çœ‹æ‰€æœ‰å¿…è¦çš„ä¿¡æ¯ã€‚ è®©æˆ‘ä»¬é€šè¿‡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹éƒ¨ç½²æ–°æ™ºèƒ½åˆçº¦æ—¶çš„<code>TransactionReceipt</code>äº‹åŠ¡ï¼ˆå¿…é¡»è®¾ç½®äº‹åŠ¡å“ˆå¸Œå¹¶ä»æµ‹è¯•æ—¥å¿—ä¸­è·å–è¯¥å“ˆå¸Œï¼‰ï¼š </p><br><pre> <code class="plaintext hljs">web3.eth.getTransactionReceipt('0x31bc179f8cd12c640d1663f3df51ce6da1fbc2875f2b724c3911108fcd19a5d0');</code> </pre> <br><p> ç»“æœï¼Œæˆ‘ä»¬çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š </p><br><p><img src="https://habrastorage.org/webt/so/jm/yw/sojmyw_4gei16afdq47ypzmvtru.png"></p><br><p> æˆ‘ä»¬å¯¹ä»¥ä¸‹å‚æ•°æ„Ÿå…´è¶£ï¼š </p><br><ul><li>  â€œ contractAddressâ€-å¦‚æœä¸æ˜¯â€œ nullâ€ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç†è§£è¿™æ˜¯ç”¨äºéƒ¨ç½²æ™ºèƒ½åˆçº¦çš„äº¤æ˜“ï¼› </li><li>  â€œçŠ¶æ€â€-åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒç­‰äºâ€œ 0x1â€-è¡¨ç¤ºäº¤æ˜“æˆåŠŸã€‚ </li></ul><br><p> è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹äº¤æ˜“æœ¬èº«ã€‚ é€šè¿‡è¿è¡Œå‘½ä»¤ï¼š </p><br><pre> <code class="plaintext hljs">web3.eth.getTransaction('0x31bc179f8cd12c640d1663f3df51ce6da1fbc2875f2b724c3911108fcd19a5d0');</code> </pre> <br><p> ç»“æœï¼š </p><br><p><img src="https://habrastorage.org/webt/ju/jq/86/jujq86cugnifanot96ypy_hvusm.png"></p><br><p> åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¯¹ä»¥ä¸‹å‚æ•°æ„Ÿå…´è¶£ï¼š </p><br><ul><li>  â€œè¾“å…¥â€æ˜¯<em>æœ‰æ•ˆè½½è·</em>äº¤æ˜“ï¼› </li><li>  â€œ vâ€-é€šå¸¸ï¼Œè¿™æ˜¯<em>ECDSA</em> ï¼ˆæ•°å­—ç­¾åç®—æ³•ï¼‰çš„å‚æ•°ï¼Œä½†ç°åœ¨æˆ‘ä»¬å¯¹å…¶ä»–å†…å®¹æ„Ÿå…´è¶£-å˜é‡çš„å«ä¹‰ã€‚ è¿™å¾ˆé‡è¦ï¼Œå› ä¸ºåœ¨å…¬å…±å’Œç§äººäº¤æ˜“ä¸­ï¼Œå®ƒä¼šæœ‰æ‰€ä¸åŒã€‚ å…¬å…±äº¤æ˜“é€šå¸¸ä½¿ç”¨â€œ 0x1câ€ï¼ˆåè¿›åˆ¶ç³»ç»Ÿä¸­çš„â€œ 28â€ï¼‰å’Œâ€œ 0x1bâ€ï¼ˆåè¿›åˆ¶ç³»ç»Ÿä¸­çš„â€œ 27â€ï¼‰ï¼Œä»¥åŠâ€œ 0x25â€ï¼ˆåè¿›åˆ¶ç³»ç»Ÿä¸­çš„â€œ 37â€ï¼‰å’Œâ€œ 0x26â€ï¼ˆåè¿›åˆ¶ç³»ç»Ÿä¸­çš„â€œ 38â€ç³»ç»Ÿï¼‰-è¿™äº›æ˜¯ç§äººäº¤æ˜“ä»£ç ã€‚ </li></ul><br><p> æ‚¨è¿˜å¯ä»¥æ£€æŸ¥å…¶ä»–èŠ‚ç‚¹ä¸Šçš„ä¿¡æ¯æ˜¯å¦ä¸æˆ‘ä»¬ç°åœ¨çœ‹åˆ°çš„ä¿¡æ¯ç›¸åŒã€‚ </p><br><p> ç°åœ¨ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹æ™ºèƒ½åˆçº¦çš„äº¤æ˜“çŠ¶æ€æ›´æ”¹ã€‚ è¿è¡Œå‘½ä»¤ï¼š </p><br><pre> <code class="plaintext hljs">web3.eth.getTransactionReceipt('0x33ba66d5deec33f3142bfa190a0d37d0ff07c2e66b06037f5b5ff9578154a3ff');</code> </pre> <br><p> ç»“æœï¼š </p><br><p><img src="https://habrastorage.org/webt/zz/8g/a-/zz8ga-le8lswmr7vkizq5tu_zog.png"></p><br><p> æˆ‘ä»¬å¯¹ä»¥ä¸‹å‚æ•°æ„Ÿå…´è¶£ï¼š </p><br><ul><li>  â€œè‡³â€-æˆ‘ä»¬çœ‹åˆ°äº¤æ˜“å·²ç»è¿›å…¥äº†åˆšåˆšç­‰å¾…çš„æ™ºèƒ½åˆçº¦ï¼› </li><li>  â€œçŠ¶æ€â€-ç­‰äºâ€œ 0x1â€ï¼Œè¡¨ç¤ºäº¤æ˜“æˆåŠŸã€‚ </li></ul><br><p> äº¤æ˜“ï¼š </p><br><p><img src="https://habrastorage.org/webt/t9/yh/xp/t9yhxp0-hzbkvylmous8p--ft2e.png"></p><br><p> æ²¡ä»€ä¹ˆå¼‚å¸¸ï¼Œä½†æ˜¯æ‚¨å¯ä»¥æ£€æŸ¥å…¶ä»–èŠ‚ç‚¹ä¸Šçš„ä¿¡æ¯ï¼Œè¿™å¾ˆæœ‰ç”¨ã€‚ </p><br><h2 id="private-tranzakcii"> ç§äººäº¤æ˜“ </h2><br><p> è¦ä½¿ç”¨ç§æœ‰äº‹åŠ¡æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Œå¿…é¡»è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š </p><br><pre> <code class="plaintext hljs">gradle test --tests *.PrivateTransactionsTests</code> </pre> <br><p> ä¸å…·æœ‰å…¬å…±äº¤æ˜“çš„æµ‹è¯•ç”¨ä¾‹ä¸€æ ·ï¼Œè¯¥æµ‹è¯•ç”¨ä¾‹å°†éƒ¨ç½²æ–°çš„æ™ºèƒ½åˆçº¦ï¼Œæ‰§è¡ŒçŠ¶æ€æ›´æ”¹äº¤æ˜“å¹¶ä»æ™ºèƒ½åˆçº¦ä¸­çš„æ›´æ”¹ä¸­è¯»å–ä¿¡æ¯ã€‚ </p><br><p> ç»“æœï¼Œè¯¥ç¨‹åºå°†å†™å…¥ä»¥ä¸‹æ—¥å¿—ï¼š </p><br><pre> <code class="plaintext hljs">[HANDLER] privateFor = [] [HANDLER] deploying new smart-contract [HANDLER] contract has been successfully deployed. Result: {contract_address=0x3e2284d92842f781b83cc7e56fbb074ab15f9a90, transaction_hash=0x8fd619bd9a526f83e29d7b417551e174862f7503ef430eb45793509d05039595} [HANDLER] privateFor = [] [HANDLER] sending new transaction [HANDLER] transaction has been successfully executed. Result: {contract_address=null, transaction_hash=0x72a0458a7b313c8a1c18269ae160e140c6a6e41cb2fd087c64cf665b08a6aefb} [HANDLER] reading user from smart-contract [HANDLER] user: 'Private Test User'</code> </pre> <br><p> ä¸å…¬å…±äº¤æ˜“ç›¸æ¯”ï¼Œè¯¥æ›´æ”¹ä¸º<strong>privateFor</strong>å‚æ•°-ç°åœ¨å®ƒå…·æœ‰ç©ºæ•°ç»„çš„å€¼ã€‚ <br> è®©æˆ‘ä»¬æ£€æŸ¥<code>TransactionReceipt</code>æ˜¯å¦æœ‰äº¤æ˜“ã€‚ å›¢é˜Ÿï¼š </p><br><pre> <code class="plaintext hljs">web3.eth.getTransactionReceipt('0x8fd619bd9a526f83e29d7b417551e174862f7503ef430eb45793509d05039595');</code> </pre> <br><p> ç»“æœï¼š </p><br><p><img src="https://habrastorage.org/webt/qx/aj/1g/qxaj1gluf9gl-o-rwbwaa6-oww8.png"></p><br><p> åœ¨æ›´æ”¹ä¸­ï¼Œä¸å…¬å…±äº¤æ˜“ç›¸æ¯”ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œæ‚¨ä¸ä¼šçœ‹åˆ°äº¤æ˜“ä¸­èŠ±è´¹çš„å¤©ç„¶æ°”é‡<strong>-gasUsed</strong>å’Œ<strong>cumulativeGasUsed</strong>çš„å€¼ä¸ºâ€œ 0â€ã€‚ <br> ç°åœ¨è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹äº¤æ˜“æœ¬èº«ã€‚ è¿è¡Œå‘½ä»¤ï¼š </p><br><pre> <code class="plaintext hljs">web3.eth.getTransaction('0x8fd619bd9a526f83e29d7b417551e174862f7503ef430eb45793509d05039595');</code> </pre> <br><p> ç»“æœï¼Œæˆ‘ä»¬å°†çœ‹åˆ°ï¼š </p><br><p><img src="https://habrastorage.org/webt/of/zj/ud/ofzjuds-akmr-koc9ed9dasubnq.png"></p><br><p> åœ¨æ­¤äº¤æ˜“ä¸­å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š </p><br><ol><li> æ­£å¦‚æˆ‘åœ¨æœ¬æ–‡å¼€å¤´æ‰€æåˆ°çš„ï¼Œæ‚¨å°†åœ¨<strong>è¾“å…¥</strong>å­—æ®µä¸­çœ‹åˆ°64è¡Œï¼ˆ128ä¸ªå­—ç¬¦ï¼‰çš„å›ºå®šè¡Œï¼Œè€Œä¸æ˜¯å®é™…çš„<em>æœ‰æ•ˆè´Ÿè½½</em>äº‹åŠ¡ã€‚ è¯¥è¡Œæ˜¯<em>Tessera</em>å­˜å‚¨åº“ä¸­æ•°æ®çš„æ ‡è¯†ç¬¦ï¼Œæ‚¨å¯ä»¥æ ¹æ®è¦æ±‚å‘<em>Tessera</em>è·å–çœŸå®æ•°æ®ã€‚ </li><li>  â€œ vâ€-ä»£æ›¿å…¬å…±äº¤æ˜“ä¸­çš„ä»£ç â€œ 0x1câ€æˆ–â€œ 0x1bâ€ï¼Œå¯¹äºç§äººäº¤æ˜“ï¼Œæ‚¨å°†çœ‹åˆ°â€œ 0x26â€æˆ–â€œ 0x25â€ã€‚ </li></ol><br><p> ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ£€æŸ¥<code>TransactionReceipt</code>å’Œäº‹åŠ¡æœ¬èº«ä»¥æ›´æ”¹åˆåŒçš„çŠ¶æ€ï¼ˆæ‚¨å·²ç»çŸ¥é“å‘½ä»¤ï¼‰ã€‚ ç»“æœï¼š </p><br><p><img src="https://habrastorage.org/webt/of/zj/ud/ofzjuds-akmr-koc9ed9dasubnq.png"></p><br><p><img src="https://habrastorage.org/webt/cw/mp/vk/cwmpvk3hjzcnh51isapyhecpkf0.png"></p><br><p> åŸåˆ™ä¸Šï¼Œæˆ‘ä»¬ä¸ä¼šä»è¿™é¡¹ç§äººäº¤æ˜“ä¸­å­¦åˆ°ä»»ä½•æ–°ä¸œè¥¿ã€‚ </p><br><h2 id="permissioned-tranzakcii"> è®¸å¯äº¤æ˜“ </h2><br><p> ç”±äºè¿™äº›ä¹Ÿæ˜¯ç§æœ‰äº¤æ˜“ï¼Œå› æ­¤å®ƒä»¬åªæ˜¯ç§æœ‰çš„ï¼Œä¸æ˜¯é’ˆå¯¹1ä¸ªèŠ‚ç‚¹ï¼Œè€Œæ˜¯é’ˆå¯¹å¤šä¸ªèŠ‚ç‚¹ï¼Œæ­¤ç±»äº¤æ˜“çš„ç»“æœä¸ç§æœ‰äº¤æ˜“ä¸ä¼šæœ‰ä¸åŒã€‚ å¦‚æœå°è¯•ä»<strong>privateFor</strong>ä¸­æŒ‡å®šçš„èŠ‚ç‚¹å’Œæœªåœ¨<strong>privateForä¸­</strong>æ³¨å†Œå…¶å…¬é’¥çš„èŠ‚ç‚¹è·å–ä¿¡æ¯ï¼Œåˆ™å¯ä»¥<strong>æœ‰æ‰€ä½œä¸º</strong> ï¼ˆæ‚¨å¯ä»¥ä»ç¬¬ä¸€ä¸ªèŠ‚ç‚¹è·å–ä¿¡æ¯ï¼Œè€Œä¸èƒ½ä»ç¬¬äºŒä¸ªèŠ‚ç‚¹è·å–ä¿¡æ¯ï¼‰ã€‚ <br> è¦ä½¿ç”¨é’ˆå¯¹å¤šä¸ªç½‘ç»œå‚ä¸è€…çš„ç§æœ‰äº‹åŠ¡ï¼ˆå…è®¸çš„äº‹åŠ¡ï¼‰è¿è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Œæ‚¨éœ€è¦è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š </p><br><pre> <code class="plaintext hljs">gradle test --tests *.PermissionTransactionsTests</code> </pre> <br><p>  <em>Java API</em>æ—¥å¿—ï¼š </p><br><pre> <code class="plaintext hljs">[HANDLER] privateFor = [wQTHrl/eqa7TvOz9XJcazsp4ZuncfxHb8c1J1njIOGA=] [HANDLER] deploying new smart-contract [HANDLER] contract has been successfully deployed. Result: {contract_address=0xf1cc0ba22bd0d18fc9acb22dd57795a3f2fb4ebd, transaction_hash=0x585980bec88aa8a0fe5caffe6d6f24b82d3cd381fcf72fdd8e2102ce67799f01} [HANDLER] privateFor = [wQTHrl/eqa7TvOz9XJcazsp4ZuncfxHb8c1J1njIOGA=] [HANDLER] sending new transaction [HANDLER] transaction has been successfully executed. Result: {contract_address=null, transaction_hash=0x47edc0d00fa9447b2da9f5a78f44602f96145497238cb1ce1d879afb351a3cbe} [HANDLER] reading user from smart-contract [HANDLER] user: 'Permissioned Test User'</code> </pre> <br><p> åœ¨<em>Geth</em>å®¢æˆ·ç«¯ä¸­ï¼Œåˆ†åˆ«éƒ¨ç½²æ–°æ™ºèƒ½åˆçº¦<code>TransactionReceipt</code>å’Œäº¤æ˜“æœ¬èº«çš„ç»“æœï¼š </p><br><p><img src="https://habrastorage.org/webt/nk/cs/do/nkcsdozorvcuh7gv7kxspwovxmm.png"></p><br><p><img src="https://habrastorage.org/webt/bc/z5/1u/bcz51u6c28aussavjw7fdieayuq.png"></p><br><p> çŠ¶æ€æ›´æ”¹äº‹åŠ¡ï¼Œ <code>TransactionReceipt</code>å’Œäº‹åŠ¡æœ¬èº«ï¼š </p><br><p><img src="https://habrastorage.org/webt/4f/al/lt/4falltfjniekypa5r38xu8j6tzo.png"></p><br><p><img src="https://habrastorage.org/webt/tq/-s/ta/tq-stauf7_6a00ts7qgkzif0p18.png"></p><br><h3 id="http-zaprosy">  HTTPè¯·æ±‚ </h3><br><p> å°½ç®¡ä»<em>Geth</em>å®¢æˆ·çš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å…¬å…±äº¤æ˜“ä¸ç§äººäº¤æ˜“æœ‰ä½•ä¸åŒï¼Œä½†è¿™å¹¶æ²¡æœ‰æ˜¾ç¤ºå‡ºå¯¹è·å–ä¿¡æ¯çš„çœŸæ­£é™åˆ¶ã€‚ å› æ­¤ï¼Œä¸ºäº†å‘æ‚¨å±•ç¤ºç¡®å®æœ‰å¯èƒ½é™åˆ¶å¯ä»¥è¯»å–äº¤æ˜“çš„èŠ‚ç‚¹æ•°é‡ï¼Œæˆ‘å°†ä½¿ç”¨<em>CURL</em>å‘å‡º3ä¸ªèŠ‚ç‚¹ä»¥ä»æ™ºèƒ½åˆçº¦ä¸­è¯»å–ä¿¡æ¯çš„å¤šä¸ªè¯·æ±‚ï¼ˆè¿™äº›è¯·æ±‚å°†æ¶‰åŠ<em>ç§äºº</em>äº¤æ˜“å’Œ<em>è®¸å¯</em>äº¤æ˜“ï¼‰ã€‚ <br>  HTTPè¯·æ±‚åœ¨è¯·æ±‚æ­£æ–‡ä¸­å°†å…·æœ‰2ä¸ªå‚æ•°ï¼š </p><br><ol><li>  â€œç«¯ç‚¹â€-ç›´æ¥ç«¯ç‚¹åˆ°<em>Quorum</em>èŠ‚ç‚¹ï¼Œæ‚¨éœ€è¦è¿æ¥åˆ°è¯¥èŠ‚ç‚¹ã€‚ </li><li>  â€œ contractAddressâ€æ˜¯å°†ä»ä¸­è¯»å–æ•°æ®çš„åˆåŒçš„åœ°å€ã€‚ </li></ol><br><p> åœ¨æˆ‘çš„æƒ…å†µä¸‹ï¼Œâ€œ endopintâ€å°†å…·æœ‰ä¸€ä¸ªä¸»æœº- <em>æœ¬åœ°ä¸»æœº</em> -ä½†3ä¸ª<em>Quorum</em>èŠ‚ç‚¹å…·æœ‰ä¸åŒçš„ç«¯å£ï¼š22000ï¼ˆæ‰€æœ‰äº‹åŠ¡å‡ä»è¯¥èŠ‚ç‚¹è¿›è¡Œï¼‰ï¼Œ22001ï¼ˆå…¶å…¬é’¥åœ¨è®¸å¯çš„äº‹åŠ¡ä¸­æŒ‡å®šï¼‰ï¼Œ22002ï¼ˆä¸åº”è®¿é—®ä¿¡æ¯ï¼‰ã€‚ </p><br><p> è®©æˆ‘ä»¬ä»ä¸€ä¸ª<em>ç§æœ‰</em>äº¤æ˜“å¼€å§‹ï¼ˆåªæœ‰22000ç«¯å£ä¸Šçš„ä¸€ä¸ªèŠ‚ç‚¹æ‰èƒ½æŸ¥çœ‹æ™ºèƒ½åˆçº¦ä¸­çš„ä¿¡æ¯ï¼‰ã€‚ </p><br><p> è¿›è¡Œäº¤æ˜“çš„èŠ‚ç‚¹ä¸Šçš„<em>CURL</em>è¯·æ±‚ï¼š </p><br><pre> <code class="plaintext hljs">curl -X POST \ http://127.0.0.1:8080/user \ -H 'Content-Type: application/json' \ -d '{ "endpoint": "http://127.0.0.1:22000", "contractAddress": "0x3e2284d92842f781b83cc7e56fbb074ab15f9a90" }'</code> </pre> <br><p> ç»“æœï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä»¥ä¸‹å†…å®¹ï¼š </p><br><pre> <code class="plaintext hljs">{"data":{"user":"Private Test User"}}</code> </pre> <br><p> è¿™æ„å‘³ç€è¯¥èŠ‚ç‚¹å…·æœ‰æŸ¥çœ‹æ™ºèƒ½åˆçº¦ä¸­ä¿¡æ¯çš„èƒ½åŠ›ã€‚ </p><br><p> ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹22001ç«¯å£ä¸Šçš„èŠ‚ç‚¹è¿”å›ç»™æˆ‘ä»¬ä»€ä¹ˆã€‚  <em>CURL</em>è¯·æ±‚ï¼š </p><br><pre> <code class="plaintext hljs">curl -X POST \ http://127.0.0.1:8080/user \ -H 'Content-Type: application/json' \ -d '{ "endpoint": "http://127.0.0.1:22001", "contractAddress": "0x3e2284d92842f781b83cc7e56fbb074ab15f9a90" }'</code> </pre> <br><p> å¤ªå¥½äº†ï¼        : </p><br><pre> <code class="plaintext hljs">{"data":{"status_code":500,"description":"Something went wrong"}}</code> </pre> <br><p>     ,        - â€”    ! </p><br><p>     , 3- . <em>CURL</em> : </p><br><pre> <code class="plaintext hljs">curl -X POST \ http://127.0.0.1:8080/user \ -H 'Content-Type: application/json' \ -d '{ "endpoint": "http://127.0.0.1:22002", "contractAddress": "0x3e2284d92842f781b83cc7e56fbb074ab15f9a90" }'</code> </pre> <br><p> å¤ªå¥½äº†ï¼ API  : </p><br><pre> <code class="plaintext hljs">{"data":{"status_code":500,"description":"Something went wrong"}}</code> </pre> <br><p>   ,        .     "permissioned" . </p><br><p>  <em>CURL</em>       "permissioned" -  ,    22000: </p><br><pre> <code class="plaintext hljs">curl -X POST \ http://127.0.0.1:8080/user \ -H 'Content-Type: application/json' \ -d '{ "endpoint": "http://127.0.0.1:22000", "contractAddress": "0xf1cc0ba22bd0d18fc9acb22dd57795a3f2fb4ebd" }'</code> </pre> <br><p> : </p><br><pre> <code class="plaintext hljs">{"data":{"user":"Permissioned Test User"}}</code> </pre> <br><p>  ,         ,   ,       . </p><br><p>       -   ,         -,       . <em>CURL</em> : </p><br><pre> <code class="plaintext hljs">curl -X POST \ http://127.0.0.1:8080/user \ -H 'Content-Type: application/json' \ -d '{ "endpoint": "http://127.0.0.1:22001", "contractAddress": "0xf1cc0ba22bd0d18fc9acb22dd57795a3f2fb4ebd" }'</code> </pre> <br><p> å¤ªå¥½äº†ï¼         : </p><br><pre> <code class="plaintext hljs">{"data":{"user":"Permissioned Test User"}}</code> </pre> <br><p>      ,          ,    . <em>CURL</em> : </p><br><pre> <code class="plaintext hljs">curl -X POST \ http://127.0.0.1:8080/user \ -H 'Content-Type: application/json' \ -d '{ "endpoint": "http://127.0.0.1:22002", "contractAddress": "0xf1cc0ba22bd0d18fc9acb22dd57795a3f2fb4ebd" }'</code> </pre> <br><p> å¤ªå¥½äº†ï¼         -.    . </p><br><h1 id="zaklyuchenie"> ç»“è®º </h1><br><p>      ,    <em>Quorum blockchain</em>   Java .      ,    -     . </p><br><p>   : </p><br><ol><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  <em>Quorum</em></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   <em>Quorum</em></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">  <em>GitHub</em></a> </li><li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><em>Quorum</em>   <em>Slack</em></a> </li></ol><br><p> æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼ </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN462549/">https://habr.com/ru/post/zh-CN462549/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN462539/index.html">é¿å…ä¸‰è§’å­¦</a></li>
<li><a href="../zh-CN462541/index.html">åœ¨æ˜¥å­£ä½¿ç”¨æ¡ä»¶å¼</a></li>
<li><a href="../zh-CN462543/index.html">Raiffeisenbankçš„Javaèšä¼š</a></li>
<li><a href="../zh-CN462545/index.html">ç”µæŠ¥å±è”½ï¼ŒHetznerå­ç½‘/ 16ï¼Œä½¿ç”¨ILVçš„ç»éªŒ</a></li>
<li><a href="../zh-CN462547/index.html">SGX Malvarï¼šæ¶æ£å¦‚ä½•ä»¥é”™è¯¯çš„ç›®çš„åˆ©ç”¨è‹±ç‰¹å°”çš„æ–°æŠ€æœ¯</a></li>
<li><a href="../zh-CN462551/index.html">å¼€å‘äººå‘˜å…³äºæµ‹è¯•çš„çƒ­é—¨é—®é¢˜</a></li>
<li><a href="../zh-CN462553/index.html">å…³äºç®€å•çš„ä¸€ç‚¹ã€‚ æµ‹è¯•è®¾è®¡ã€‚ ç¬¬ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN462555/index.html">è®¨è®ºï¼šå¦‚æœä¸ä½¿ç”¨cookieï¼Œè¯¥æ€ä¹ˆåŠ-æˆ‘ä»¬å‘Šè¯‰æ‚¨æœ‰å“ªäº›æ›¿ä»£æ–¹æ³•</a></li>
<li><a href="../zh-CN462563/index.html">ç½‘ç»œç ”è®¨ä¼šâ€œå¦‚ä½•åœ¨åˆè§„æ€§ä¸­ç”Ÿå­˜ï¼Ÿâ€ æ»¡è¶³æ³•è§„è¦æ±‚çš„æœ€ä½³æ–¹æ³•â€</a></li>
<li><a href="../zh-CN462565/index.html">å¦‚ä½•ä¸ºCelonisä¸ºSAP Process Miningå‡†å¤‡æ•°æ®</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>