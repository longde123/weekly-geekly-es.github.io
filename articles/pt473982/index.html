<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•´ üå≥ üë©‚Äçüë©‚Äçüëß‚Äçüëß NB-IoT: como funciona? Parte 3: SCEF - uma √∫nica janela de acesso aos servi√ßos do operador üë®‚Äç‚ù§Ô∏è‚Äçüë® üïî üïç</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="No artigo " NB-IoT: como funciona?" Parte 2 ‚Äù, falando sobre a arquitetura do n√∫cleo de pacotes da rede NB-IoT, mencionamos a apar√™ncia de um novo n√≥ ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>NB-IoT: como funciona? Parte 3: SCEF - uma √∫nica janela de acesso aos servi√ßos do operador</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ru_mts/blog/473982/">  <b>No artigo " <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">NB-IoT: como funciona?"</a></b>  <b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Parte 2</a> ‚Äù, falando sobre a arquitetura do n√∫cleo de pacotes da rede NB-IoT, mencionamos a apar√™ncia de um novo n√≥ SCEF.</b>  <b>Explicamos na terceira parte, o que √© e por que √© necess√°rio?</b> <br><br><img src="https://habrastorage.org/webt/76/cr/em/76cremp-e3xgn0thazxk_jvws8k.png"><br><br>  Ao criar um servi√ßo M2M, os desenvolvedores de aplicativos s√£o confrontados com as seguintes perguntas: <br><br><ul><li>  Como identificar dispositivos </li><li>  Qual autentica√ß√£o e algoritmo de autentica√ß√£o usar; </li><li>  qual protocolo de transporte usar para interagir com dispositivos; </li><li>  Como entregar dados com seguran√ßa aos dispositivos </li><li>  como organizar e estabelecer regras para a troca de dados com eles; </li><li>  como monitorar e receber informa√ß√µes on-line sobre seu status; </li><li>  como entregar dados simultaneamente a um grupo de seus dispositivos; </li><li>  Como enviar dados simultaneamente de um dispositivo para v√°rios clientes; </li><li>  como obter acesso unificado a servi√ßos adicionais da operadora para gerenciar seu dispositivo. </li></ul><br>  Para resolv√™-los, √© preciso criar solu√ß√µes tecnicamente ‚Äúpesadas‚Äù propriet√°rias, o que leva a um aumento nos custos de m√£o-de-obra e nos servi√ßos de time-to-market.  √â aqui que o novo n√≥ SCEF vem ao resgate. <a name="habracut"></a><br><br>  De acordo com a defini√ß√£o de 3GPP, o SCEF (fun√ß√£o de exposi√ß√£o de capacidade de servi√ßo) √© um componente completamente novo da arquitetura 3GPP, cuja fun√ß√£o √© expor com seguran√ßa os servi√ßos e recursos fornecidos pelas interfaces de rede 3GPP por meio da API. <br><br>  Em palavras simples, o SCEF √© um intermedi√°rio entre a rede e o servidor de aplicativos (AS), uma √∫nica janela de acesso aos servi√ßos do operador para gerenciar seu dispositivo M2M na rede NB-IoT por meio de uma API padronizada e intuitiva. <br><br>  O SCEF oculta a complexidade da rede da operadora, permitindo que os desenvolvedores de aplicativos abstrajam de mecanismos espec√≠ficos complexos para interagir com os dispositivos. <br><br>  Ao transformar protocolos de rede em familiares aos desenvolvedores de aplicativos, a API do SCEF facilita a cria√ß√£o de novos servi√ßos e reduz o tempo de coloca√ß√£o no mercado.  Al√©m disso, o novo n√≥ inclui as fun√ß√µes de identifica√ß√£o / autentica√ß√£o de dispositivos m√≥veis, determinando as regras para a troca de dados entre o dispositivo e o AS, eliminando a necessidade de implementa√ß√£o dessas fun√ß√µes pelos desenvolvedores de aplicativos, deslocando essas fun√ß√µes para os ombros do operador. <br><br>  O SCEF fecha as interfaces necess√°rias para autentica√ß√£o e autoriza√ß√£o de servidores de aplicativos, mantendo a mobilidade do UE, transfer√™ncia de dados e acionamento de dispositivos, acesso a servi√ßos adicionais e recursos de rede da operadora. <br><br>  Em rela√ß√£o ao AS, existe uma √∫nica interface T8, uma API (HTTP / JSON), um 3GPP padronizado.  Todas as interfaces, com exce√ß√£o do T8, operam com base no protocolo DIAMETER (Fig. 1). <br><br><img src="https://habrastorage.org/webt/zr/gv/ej/zrgvejwzuyyxg2jegzpavpkjzbk.png"><br><br>  T6a √© a interface entre o SCEF e o MME.  Usado para procedimentos de gerenciamento de mobilidade / sess√£o, transmiss√£o de dados n√£o IP, provisionamento de eventos de monitoramento e recebimento de relat√≥rios sobre eles. <br><br>  S6t √© a interface entre o SCEF e o HSS.  √â necess√°rio para autentica√ß√£o do assinante, autoriza√ß√£o dos servidores de aplicativos, obten√ß√£o de um ID externo e IMSI / MSISDN, fornecendo eventos de monitoramento e recebendo relat√≥rios sobre eles. <br><br>  S6m / T4 - interfaces do SCEF para HSS e SMS-C (o n√≥ MTC-IWF √© definido no 3GPP, usado para acionar dispositivos e enviar SMS nas redes NB-IoT. No entanto, em todas as implementa√ß√µes, a funcionalidade desse n√≥ √© integrada ao SCEF, portanto, para simplifica√ß√£o do esquema, n√£o o consideraremos separadamente).  Usado para obter informa√ß√µes de roteamento para enviar SMS e interagir com o centro de SMS. <br><br>  T8 - API SCEF para intera√ß√£o com servidores de aplicativos.  Os comandos de controle e o tr√°fego s√£o transmitidos por essa interface. <br><br>  * Na realidade, existem mais interfaces, apenas as mais b√°sicas est√£o listadas aqui.  Uma lista completa √© fornecida no 3GPP 23.682 (4.3.2 Lista de pontos de refer√™ncia). <br><br>  Abaixo est√£o os principais recursos e servi√ßos do SCEF: <br><br><ul><li>  vincular um identificador de cart√£o SIM (IMSI) a um ID externo; </li><li>  entrega de tr√°fego n√£o IP (entrega de dados n√£o IP, NIDD); </li><li>  opera√ß√µes de grupo usando um ID de grupo externo; </li><li>  suporte para o modo de transfer√™ncia de dados com confirma√ß√£o; </li><li>  buffer de dados MO (Mobile Originated) e MT (Mobile Terminated); </li><li>  autentica√ß√£o e autoriza√ß√£o de dispositivos e servidores de aplicativos; </li><li>  uso simult√¢neo dos dados de um UE por v√°rios SA; </li><li>  suporte de fun√ß√µes especiais de monitoramento do status do UE (MONTE - Monitoring Events); </li><li>  disparo de dispositivo; </li><li>  Fornecendo dados n√£o IP de roaming. </li></ul><br>  O princ√≠pio b√°sico de intera√ß√£o entre AS e SCEF baseia-se no chamado  assinaturas.  Se voc√™ precisar acessar qualquer servi√ßo SCEF para um UE espec√≠fico, o servidor de aplicativos precisar√° criar uma assinatura enviando um comando para a API espec√≠fica do servi√ßo solicitado e em resposta para receber um identificador exclusivo.  Depois disso, todas as a√ß√µes e comunica√ß√µes adicionais com o UE dentro da estrutura deste servi√ßo ocorrer√£o usando esse identificador. <br><br>  <b>ID externo: identificador universal do dispositivo</b> <br><br>  Uma das mudan√ßas mais importantes no esquema de intera√ß√£o entre o AS e os dispositivos ao trabalhar com o SCEF √© o surgimento de um identificador universal.  Agora, em vez de um n√∫mero de telefone (MSISDN) ou endere√ßo IP, como na rede 2G / 3G / LTE cl√°ssica, o identificador de dispositivo do servidor de aplicativos se torna "ID externo".  √â definido pelo padr√£o no formato familiar aos desenvolvedores de aplicativos "&lt;Identificador Local&gt; @ &lt;Identificador de Dom√≠nio&gt;". <br><br>  Os desenvolvedores n√£o precisam mais implementar algoritmos de autentica√ß√£o de dispositivo, a rede assume completamente essa fun√ß√£o.  O ID externo est√° anexado ao IMSI, e o desenvolvedor pode ter certeza de que, referindo-se a um ID externo espec√≠fico, ele interage com um cart√£o SIM espec√≠fico.  Ao usar um chip SIM, uma situa√ß√£o geralmente √∫nica √© obtida quando o ID externo identifica exclusivamente um dispositivo espec√≠fico! <br><br>  Al√©m disso, v√°rios IDs externos podem ser atribu√≠dos a um IMSI - uma situa√ß√£o ainda mais interessante √© obtida quando o ID externo identifica exclusivamente um aplicativo espec√≠fico respons√°vel por um servi√ßo espec√≠fico em um dispositivo espec√≠fico. <br><br>  Um identificador de grupo tamb√©m aparece - um ID de grupo externo, que inclui um conjunto de IDs externos separados.  Agora, com uma √∫nica solicita√ß√£o ao SCEF, o AS pode iniciar opera√ß√µes de grupo - enviando dados ou comandos de controle para v√°rios dispositivos combinados em um √∫nico grupo l√≥gico. <br><br>  Devido ao fato de que, para desenvolvedores de AS, a transi√ß√£o para um novo identificador de dispositivo n√£o pode ser instant√¢nea, a SCEF deixou a possibilidade de comunica√ß√£o de AS com o UE atrav√©s do n√∫mero padr√£o - MSISDN. <br><br>  <b>Entrega de dados n√£o IP (NIDD)</b> <br><br>  No NB-IoT, al√©m de otimizar os mecanismos de transfer√™ncia de pequenas quantidades de dados, al√©m dos tipos de PDNs existentes, como IPv4, IPv6 e IPv4v6, apareceu outro tipo - n√£o IP.  Nesse caso, o dispositivo (UE) n√£o recebe um endere√ßo IP e os dados s√£o transmitidos sem o uso do protocolo IP.  O tr√°fego para essas conex√µes pode ser roteado de duas maneiras: classic - MME -&gt; SGW -&gt; PGW e, em seguida, atrav√©s do t√∫nel PtP para AS (Fig. 2) ou usando SCEF (Fig. 3). <br><br><img src="https://habrastorage.org/webt/2j/zy/7v/2jzy7vfxlilxzphit8uegwa9r6e.png"><br><br>  O m√©todo cl√°ssico n√£o possui vantagens especiais sobre o tr√°fego IP, exceto para reduzir o tamanho dos pacotes transmitidos devido √† aus√™ncia de cabe√ßalhos IP.  O uso do SCEF abre v√°rias novas oportunidades e simplifica bastante os procedimentos para interagir com os dispositivos. <br><br>  Ao transmitir dados atrav√©s do SCEF, existem duas vantagens muito importantes sobre o tr√°fego IP cl√°ssico: <br><br>  <u>Entrega de tr√°fego MT ao dispositivo por ID externo</u> <br><br>  Para enviar uma mensagem para um dispositivo IP cl√°ssico, o AS deve saber seu endere√ßo IP.  Aqui surge um problema: como o dispositivo geralmente se registra com um endere√ßo IP ‚Äúcinza‚Äù, ele se comunica com o servidor de aplicativos, localizado na Internet, atrav√©s do n√≥ NAT, onde o endere√ßo cinza √© traduzido para branco.  Um monte de endere√ßos IP cinza e branco dura um tempo limitado, dependendo das configura√ß√µes de NAT.  Em m√©dia, para TCP ou UDP - n√£o mais que cinco minutos.  Ou seja, se dentro de 5 minutos n√£o houve troca de dados com este dispositivo, o pacote ser√° interrompido e o dispositivo n√£o estar√° mais acess√≠vel no endere√ßo branco com o qual a sess√£o com o AS foi iniciada.  Existem v√°rias solu√ß√µes: <br><br>  1. Use um batimento card√≠aco.  Depois que uma conex√£o √© estabelecida, o dispositivo deve trocar com pacotes AS a cada poucos minutos, impedindo o fechamento das tradu√ß√µes NAT.  Mas n√£o h√° d√∫vida de efici√™ncia energ√©tica. <br><br>  2. Sempre que necess√°rio, verifique se h√° pacotes para o dispositivo no AS - envie uma mensagem para o uplink. <br><br>  3. Crie um APN privado (VRF), onde o servidor de aplicativos e os dispositivos estar√£o na mesma sub-rede e atribua endere√ßos IP est√°ticos aos dispositivos.  Funcionar√°, mas isso √© quase imposs√≠vel quando se trata de uma frota de milhares, dezenas de milhares de dispositivos. <br><br>  4. Finalmente, a op√ß√£o mais adequada: use o IPv6, ele n√£o precisa de NAT, pois os endere√ßos IPv6 s√£o diretamente acess√≠veis na Internet.  No entanto, mesmo nesse caso, ao registrar novamente o dispositivo, ele receber√° um novo endere√ßo IPv6 e n√£o estar√° mais dispon√≠vel no endere√ßo anterior. <br><br>  Portanto, √© necess√°rio enviar um determinado pacote de inicializa√ß√£o com o identificador do dispositivo para o servidor para relatar o novo endere√ßo IP do dispositivo.  Depois aguarde o pacote de confirma√ß√£o do AS, que tamb√©m afeta a efici√™ncia energ√©tica. <br><br>  Esses m√©todos funcionam bem para dispositivos 2G / 3G / LTE, onde o dispositivo n√£o possui requisitos r√≠gidos de autonomia e, como resultado, n√£o h√° limites de tempo no ar e no tr√°fego.  Para NB-IoT, esses m√©todos n√£o s√£o adequados devido ao seu alto consumo de energia. <br><br>  O SCEF resolve esse problema: como o √∫nico identificador de dispositivo para o AS √© um ID externo, basta que o AS envie um pacote de dados ao SCEF para um ID externo espec√≠fico, o SCEF cuidar√° do resto.  Se o dispositivo estiver no modo de economia de energia PSM ou eDRX, os dados ser√£o armazenados em buffer e entregues quando o dispositivo estiver dispon√≠vel.  Se o dispositivo estiver dispon√≠vel para tr√°fego, os dados ser√£o entregues imediatamente.  O mesmo vale para as equipes de gerenciamento. <br><br>  A qualquer momento, o AS pode retirar a mensagem em buffer para o UE ou substitu√≠-la por uma nova. <br><br>  O mecanismo de tamponamento tamb√©m pode ser usado ao transferir dados MO do UE para o lado AS.  Se o SCEF n√£o conseguir entregar dados ao AS imediatamente, por exemplo, se o servi√ßo estiver em andamento nos servidores do AS, esses pacotes ser√£o armazenados em buffer e garantidos para entrega assim que o AS estiver dispon√≠vel. <br><br>  Como observado acima, o acesso a um servi√ßo espec√≠fico e o UE para AS (e o NIDD √© um servi√ßo) √© regulado por regras e pol√≠ticas do lado do SCEF, o que permite perceber a capacidade exclusiva de usar simultaneamente os dados de um UE por v√°rios ASs.  I.e.  se v√°rios ASs se inscreveram em um UE, depois de receber dados do UE, o SCEF os enviar√° a todos os ASs assinados.  Isso √© adequado para casos em que o criador de uma frota de dispositivos especializados confunde dados entre v√°rios clientes.  Por exemplo, ao criar uma rede de esta√ß√µes meteorol√≥gicas operando no NB-IoT, voc√™ pode vender dados deles para v√°rios servi√ßos ao mesmo tempo. <br><br>  <b>Mecanismo de Entrega de Mensagens Garantido</b> <br><br>  Servi√ßo de dados confi√°veis ‚Äã‚Äã- um mecanismo para entrega garantida de mensagens MO e MT sem o uso de algoritmos especializados no n√≠vel do protocolo, como, por exemplo, handshake no TCP.  Funciona incluindo uma bandeira especial na parte de servi√ßo da mensagem durante a troca entre o UE e o SCEF.  A ativa√ß√£o ou n√£o desse mecanismo ao transmitir tr√°fego √© decidida pelo AS. <br><br>  Se o mecanismo estiver ativado, o UE, se necess√°rio, entrega garantida de tr√°fego MO inclui um sinalizador especial na parte de servi√ßo do pacote.  Ap√≥s o recebimento de tal pacote, o SCEF responde ao UE com uma confirma√ß√£o.  Se o UE n√£o recebeu um pacote de confirma√ß√£o, o pacote ser√° encaminhado para o SCEF.  O mesmo acontece com o tr√°fego MT. <br><br>  <b>Monitoramento de dispositivos (eventos de monitoramento - MONTE)</b> <br><br>  Como mencionado acima, o SCEF funcional, entre outras coisas, inclui fun√ß√µes para monitorar o estado do UE, o chamado  monitoramento de dispositivos.  E se novos identificadores e mecanismos de transfer√™ncia de dados s√£o otimiza√ß√µes (embora muito s√©rias) dos procedimentos existentes, o MONTE √© uma funcionalidade completamente nova que n√£o est√° dispon√≠vel nas redes 2G / 3G / LTE.  O MONTE permite que o AS monitore os par√¢metros do dispositivo, como status da conex√£o, disponibilidade de comunica√ß√£o, localiza√ß√£o, status de roaming etc.  Falaremos mais sobre cada um deles mais tarde. <br><br>  Se for necess√°rio ativar um evento de monitoramento para um dispositivo ou grupo de dispositivos, o AS assina o servi√ßo correspondente enviando ao SCEF o comando MONTE API correspondente, que inclui par√¢metros como ID externo ou ID do grupo externo, identificador AS, tipo de monitoramento, n√∫mero de relat√≥rios, qual AS deseja receber.  Se o AS estiver autorizado a executar a solicita√ß√£o, o SCEF, dependendo do tipo, acionar√° o evento no HSS ou MME (Fig. 4).  Quando um evento ocorre, o MME ou HSS gera um relat√≥rio para o lado do SCEF, que o envia ao AS. <br><br>  Todos os eventos, exceto "N√∫mero de UEs presentes em uma √°rea geogr√°fica" s√£o fornecidos pelo HSS.  Os dois eventos "Altera√ß√£o da associa√ß√£o IMSI-IMEI" e "Status de roaming" s√£o rastreados diretamente no HSS; o restante do HSS ser√° provisionado no MME. <br>  Os eventos podem ser √∫nicos ou peri√≥dicos e s√£o determinados por seu tipo. <br><br><img src="https://habrastorage.org/webt/rx/o_/px/rxo_pxe6tfzeoj0eeuue2s0s8gi.png"><br><br>  O relat√≥rio de eventos (relat√≥rio) √© enviado pelo n√≥ de rastreamento de eventos diretamente para o SCEF (Fig. 5). <br><br><img src="https://habrastorage.org/webt/jw/oz/-7/jwoz-70hshog3zslpoh21-8n-m8.png"><br><br>  <b>Um ponto importante:</b> os eventos de monitoramento podem ser aplicados tanto a dispositivos n√£o IP conectados via SCEF quanto a dispositivos IP que transmitem dados de maneira cl√°ssica via MME-SGW-PGW. <br><br>  Vamos dar uma olhada em cada um dos eventos de monitoramento: <br><br>  <u>Perda de conectividade</u> - informa que o UE n√£o est√° mais dispon√≠vel para tr√°fego de dados ou sinaliza√ß√£o.  O evento ocorre quando o "timer de acessibilidade m√≥vel" para o UE expira no MME.  Na solicita√ß√£o para esse tipo de monitoramento, o AS pode indicar seu valor "Tempo M√°ximo de Detec√ß√£o" - se o UE n√£o mostrar nenhuma atividade durante esse tempo, o AS ser√° informado de que o UE est√° indispon√≠vel, indicando o motivo.  O evento tamb√©m ocorre se o UE foi removido √† for√ßa pela rede por qualquer motivo. <br><br>  * Para que a rede saiba que o dispositivo ainda est√° dispon√≠vel, inicia periodicamente o procedimento de atualiza√ß√£o - Atualiza√ß√£o da √°rea de rastreamento (TAU).  A frequ√™ncia deste procedimento √© definida pela rede usando o timer T3412 ou (T3412_ extendido no caso de PSM), cujo valor √© transmitido ao dispositivo durante o procedimento Attach ou a pr√≥xima TAU.  O cron√¥metro de acessibilidade m√≥vel geralmente √© v√°rios minutos mais longo que o T3412.  Se o UE n√£o fizer uma TAU antes que o cron√¥metro de acessibilidade m√≥vel expire, a rede considerar√° que ela n√£o est√° mais dispon√≠vel. <br><br>  <u>Acessibilidade no UE</u> - Mostra quando o UE fica dispon√≠vel para tr√°fego DL ou SMS.  Isso acontece quando o UE fica dispon√≠vel para pagina√ß√£o (para o UE no modo eDRX) ou quando o UE alterna para o modo CONECTADO ECM (para o UE no modo PSM ou eDRX), ou seja,  faz uma TAU ou envia um pacote de liga√ß√£o ascendente. <br><br>  <u>Relat√≥rio de localiza√ß√£o</u> - Este tipo de evento de monitoramento permite que o AS solicite dados de localiza√ß√£o do UE.  √â poss√≠vel solicitar o local atual (√öltimo local) ou o √∫ltimo conhecido (√öltimo local conhecido, determinado pelo ID da c√©lula a partir da qual o dispositivo efetuou a TAU ou o tr√°fego transmitido pela √∫ltima vez), o que √© importante para dispositivos nos modos de economia de energia PSM ou eDRX.  Para "Local atual", o AS pode solicitar repeti√ß√µes repetidas, com o MME informando o AS cada vez que a localiza√ß√£o do dispositivo √© alterada. <br><br>  <u>Altera√ß√£o da associa√ß√£o IMSI-IMEI</u> - Quando esse evento √© ativado, o SCEF come√ßa a rastrear a altera√ß√£o na conex√£o entre IMSI (identificador de cart√£o SIM) e IMEI (identificador de dispositivo).  Quando ocorre um evento - informa AS.  Ele pode ser usado para reatribuir automaticamente o ID externo ao dispositivo durante o trabalho de substitui√ß√£o planejado ou servir como um identificador para o roubo do dispositivo. <br><br>  <u>Status de roaming</u> - esse tipo de monitoramento √© usado pelo AS para determinar se o UE est√° na rede dom√©stica ou na rede do parceiro de roaming.  Opcionalmente, o PLMN (Rede M√≥vel Terrestre P√∫blica) da operadora na qual o dispositivo est√° registrado pode ser transferido. <br><br>  <u>Falha na comunica√ß√£o</u> - Este tipo de monitoramento informa o SA sobre falhas na comunica√ß√£o com o dispositivo, com base nos motivos da conex√£o (c√≥digo de causa da libera√ß√£o) recebida da rede de acesso por r√°dio (protocolo S1-AP).  Este evento pode ajudar a determinar o motivo da falha de comunica√ß√£o - devido a problemas de rede, por exemplo, quando o eNodeb (recursos de r√°dio n√£o dispon√≠vel) est√° sobrecarregado ou porque o pr√≥prio dispositivo (conex√£o de r√°dio com UE perdida) falhou. <br><br>  <u>Disponibilidade ap√≥s falha no DDN</u> - esse evento informa ao AS que o dispositivo ficou dispon√≠vel ap√≥s uma falha de comunica√ß√£o.  Pode ser utilizado quando √© necess√°rio transferir dados para o dispositivo, mas a tentativa anterior n√£o teve √™xito, uma vez que o UE n√£o respondeu √† notifica√ß√£o da rede (pagina√ß√£o) e os dados n√£o foram entregues.  Se esse tipo de monitoramento foi solicitado para o UE, assim que o dispositivo fizer a comunica√ß√£o de entrada, fizer uma TAU ou enviar dados para a liga√ß√£o ascendente, o AS ser√° informado de que o dispositivo ficou dispon√≠vel.  Como o procedimento DDN (notifica√ß√£o de dados de downlink) funciona entre o MME e o S / P-GW, esse tipo de monitoramento est√° dispon√≠vel apenas para dispositivos IP. <br><br>  <u>Status de conectividade do PDN</u> - informa o AS ao alterar o status do dispositivo (status de conectividade do PDN) - conectar (ativar o PDN) ou desconectar (excluir o PDN).  Isso pode ser usado pelo AS para iniciar a comunica√ß√£o com o UE, ou vice-versa, para entender que a comunica√ß√£o n√£o √© mais poss√≠vel.  Esse tipo de monitoramento est√° dispon√≠vel para dispositivos IP e n√£o IP. <br><br>  <u>N√∫mero de UEs presentes em uma √°rea geogr√°fica</u> - esse tipo de monitoramento √© usado pelo AS para determinar o n√∫mero de UEs em uma √°rea geogr√°fica espec√≠fica. <br><br>  <b>Disparo do dispositivo</b> <br><br>  Nas redes 2G / 3G, o procedimento de registro na rede era de duas etapas: primeiro, o dispositivo era registrado no SGSN (procedimento de conex√£o) e, se necess√°rio, transmitia o contexto do PDP ativado por dados - conex√£o ao gateway de pacote (GGSN).  Nas redes 3G, esses dois procedimentos foram seq√ºenciais, ou seja,  o dispositivo n√£o esperou o momento em que era necess√°rio transferir dados, mas ativou o PDP imediatamente ap√≥s a conclus√£o do procedimento de conex√£o.  No LTE, esses dois procedimentos foram combinados em um, ou seja, quando conectado, o dispositivo solicitou imediatamente a ativa√ß√£o da conex√£o PDN (anal√≥gica do PDP em 2G / 3G) via eNodeB para MME-SGW-PGW. <br><br>  NB-IoT define um m√©todo de conex√£o como "anexar sem PDN", ou seja, o UE faz a conex√£o sem estabelecer uma conex√£o PDN.  Nesse caso, ele n√£o est√° dispon√≠vel para transmiss√£o de tr√°fego e s√≥ pode receber ou enviar SMS.  Para enviar um comando para ativar um PDN e conectar-se ao AS nesse dispositivo, foi desenvolvida a funcionalidade "Device triggering". <br><br>  Ap√≥s o recebimento de um comando para conectar esse UE do AS, o SCEF atrav√©s do centro de SMS inicia o envio de um SMS de controle para o dispositivo.  Ao receber um SMS, o dispositivo ativa o PDN e se conecta ao AS para receber instru√ß√µes subseq√ºentes ou transferir dados. <br><br>  Pode haver momentos em que uma assinatura de um dispositivo expire no SCEF.  Sim, a assinatura tem seu pr√≥prio tempo de vida, definido pelo operador ou acordado com o AS.     MME   PDN,      AS.       ‚ÄúDevice triggering‚Äù.      AS SCEF         SMS-. <br><br>  <b>Conclus√£o</b> <br><br>  SCEF,  ,         .     SCEF     .           ,       . <br><br> <b>   ,       ¬´¬ª-       ?   .       nidd_scef@mts.ru,      ,        . <br></b> <br>   ! <br><br> <i>: <br><br></i> <ul><li> <i>          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">sanov</a> ,</i> </li><li> <i>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link">aslapsh</a></i> </li></ul></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/pt473982/">https://habr.com/ru/post/pt473982/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt473972/index.html">Por ordem dos desenvolvedores incorporados: procurando bugs no Amazon FreeRTOS</a></li>
<li><a href="../pt473974/index.html">Intercom'19 - uma confer√™ncia sobre automa√ß√£o de comunica√ß√µes da Voximplant ser√° realizada em 14 de novembro</a></li>
<li><a href="../pt473976/index.html">AWS Elasticsearch: produto fundamentalmente defeituoso</a></li>
<li><a href="../pt473978/index.html">Tanta dor, tanta dor, caixa registradora como 2: 0</a></li>
<li><a href="../pt473980/index.html">Tecnologia e o mundo real: 4 startups que est√£o mudando o futuro do design de interiores</a></li>
<li><a href="../pt473984/index.html">Data Science Digest (outubro de 2019)</a></li>
<li><a href="../pt473986/index.html">‚ÄúMeu sonho √© ver uma pessoa atrav√©s das √°rvores‚Äù - fundadora da Lisa Alert sobre as modernas tecnologias de pesquisa</a></li>
<li><a href="../pt473988/index.html">Otimizando a Distribui√ß√£o do Servidor nos Racks</a></li>
<li><a href="../pt473990/index.html">Aprenda o OpenGL. Li√ß√£o 7.2 - Texto de desenho</a></li>
<li><a href="../pt473992/index.html">Vis√£o geral de protocolos modernos em sistemas de automa√ß√£o industrial</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>