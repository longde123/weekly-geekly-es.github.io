<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôç üöΩ üîñ Construction d'entonnoirs comportementaux en langage R, bas√©s sur les donn√©es obtenues √† partir de l'API Yandex.Metrica Logs üê± ü§öüèø ‚òπÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'analyse d'un entonnoir de vente est une t√¢che typique du marketing Internet, et en particulier du commerce √©lectronique. Avec son aide, vous pouvez:...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Construction d'entonnoirs comportementaux en langage R, bas√©s sur les donn√©es obtenues √† partir de l'API Yandex.Metrica Logs</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462279/"><p>  L'analyse d'un entonnoir de vente est une t√¢che typique du marketing Internet, et en particulier du commerce √©lectronique.  Avec son aide, vous pouvez: </p><br><ul><li>  D√©couvrez laquelle des √©tapes de l'achat vous perdez des clients potentiels. </li><li>  Simuler le volume des entr√©es de revenus suppl√©mentaires, en cas d'extension de chaque √©tape sur le chemin d'achat. </li><li> √âvaluez la qualit√© du trafic achet√© sur diff√©rentes plateformes publicitaires. </li><li>  √âvaluez la qualit√© du traitement des demandes entrantes pour chacun des gestionnaires. </li></ul><br><p>  Dans cet article, je vais vous expliquer comment demander des donn√©es √† l'API Yandex Metrics Logs dans le langage R, cr√©er et visualiser un entonnoir bas√© sur celles-ci. </p><br><p> L'un des principaux avantages du langage R est la pr√©sence d'un grand nombre de packages qui √©tendent ses fonctionnalit√©s de base.  Dans cet article, nous examinerons les <code>rym</code> , <code>funneljoin</code> et <code>ggplot2</code> . </p><br><p>  √Ä l'aide de <code>rym</code> nous chargeons les donn√©es de l'API Logs, utilisons <code>funneljoin</code> pour cr√©er un entonnoir comportemental et utilisons <code>ggplot2</code> visualiser le r√©sultat. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/903/ac7/75e/903ac775e293295d418a628a673f73d6.jpg" alt="image"></p><a name="habracut"></a><br><h1 id="soderzhanie">  Table des mati√®res </h1><br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Demander des donn√©es √† l'API Logs Yandex Metrics</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Installation du package Rym</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Utilisation de l'API Logs Yandex Metrics √† l'aide du package rym</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Autorisation dans l'API Yandex Metrics</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Demander des donn√©es √† l'API Yandex Metrica</a> </li></ul></li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Package d'entonnoir de construction d'entonnoir</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Installation de funneljoin</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Post-traitement des donn√©es re√ßues de l'API Logs</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Types d'entonnoir</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">√âtapes de l'entonnoir</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Visualisation en entonnoir</a> <br><ul><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Visualisation de l'entonnoir commun</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Visualisation de l'entonnoir par les canaux de trafic</a> </li></ul></li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">PS</a> </li><li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Conclusion</a> </li></ul><br><h1 id="zapros-dannyh-iz-logs-api-yandeks-metriki">  Demander des donn√©es √† l'API Logs Yandex Metrics </h1><br><p>  Qui ne sait pas ce qu'est l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API Logs</a> est une citation de l'aide officielle de Yandex. </p><br><blockquote>  L'API Logs vous permet de recevoir des donn√©es non agr√©g√©es collect√©es par Yandex.Metrica.  Cette API est destin√©e aux utilisateurs du service qui souhaitent traiter ind√©pendamment des donn√©es statistiques et les utiliser pour r√©soudre des probl√®mes analytiques uniques. </blockquote><p>  Pour travailler avec l'API Yandex.Metrica Logs dans R, nous utiliserons le package <code>rym</code> . </p><br><div class="spoiler">  <b class="spoiler_title">Liens utiles vers le package rym</b> <div class="spoiler_text"><p>  R√©f√©rences: </p><br><ul><li>  <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Documentation du paquet Rym</a></em> </li><li>  <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Page du paquet Rym sur CRAN</a></em> </li><li>  <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Page du paquet Rym sur Github</a></em> </li><li>  <em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Webinaire sur le package Rym</a></em> </li></ul></div></div><br><p>  <code>rym</code> - R qui est une interface pour interagir avec l'API Yandex Metrica.  Vous permet de travailler avec <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">l'</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API de</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">gestion</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">, l'</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API de</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">cr√©ation de rapports</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">, l'API Gore conforme √† Google Analytics v3</a> et l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">API Logs</a> . </p><br><h2 id="ustnovka-paketa-rym">  Installation du package Rym </h2><br><p>  Pour fonctionner avec n'importe quel package dans R, il doit d'abord √™tre install√© et t√©l√©charg√©.  Installez un package une fois √† l'aide de la commande <code>install.packages()</code> .  Il est n√©cessaire de connecter le package √† chaque nouvelle session de travail dans R √† l'aide de la fonction <code>library()</code> . </p><br><p>  Pour installer et connecter le package <code>rym</code> utilisez le code suivant: </p><br><pre> <code class="plaintext hljs">install.packages("rym") library(rym)</code> </pre> <br><h2 id="rabota-s-logs-api-yandeks-metriki-s-pomoschyu-paketa-rym">  Utilisation de l'API Logs Yandex Metrics √† l'aide du package rym </h2><br><p>  Afin de cr√©er des entonnoirs comportementaux, nous devons t√©l√©charger un tableau de toutes les visites effectu√©es sur votre site et pr√©parer les donn√©es pour une analyse plus approfondie. </p><br><h3 id="avtorizaciya-v-api-yandeks-metriki">  Autorisation dans l'API Yandex Metrics </h3><br><p>  Le travail avec l'API commence par l'autorisation.  Dans le package <code>rym</code> le processus d'autorisation est partiellement automatis√© et d√©marre lorsque l'une de ses fonctions est appel√©e. </p><br><p>  La premi√®re fois que vous acc√©dez √† l'API, vous serez redirig√© vers le navigateur pour confirmer l'autorisation d'acc√©der √† vos m√©triques Yandex pour le package <code>rym</code> .  Apr√®s confirmation, vous serez redirig√© vers la page o√π un code de confirmation d'autorisation sera g√©n√©r√© pour vous.  Il doit √™tre copi√© et coll√© dans la console R en r√©ponse √† la demande <code>"Enter authorize code:"</code> . </p><br><p>  Ensuite, vous pouvez enregistrer les informations d'identification dans un fichier local en r√©pondant <code>y</code> ou <code>yes</code> √† la demande <code>"Do you want save API credential in local file ..."</code> .  Dans ce cas, lors des prochains appels √† l'API, vous n'aurez pas besoin de vous r√©authentifier via le navigateur et les informations d'identification seront charg√©es √† partir du fichier local. </p><br><h3 id="zapros-dannyh-iz-api-yandeks-metriki">  Demander des donn√©es √† l'API Yandex Metrica </h3><br><p>  La premi√®re chose que nous demandons √† l'API Yandex Metrics est une liste des compteurs disponibles et des objectifs configur√©s.  Cela se fait √† l'aide des fonctions <code>rym_get_counters()</code> et <code>rym_get_goals()</code> . </p><br><pre> <code class="plaintext hljs">#   library(rym) #    counters &lt;- rym_get_counters(login = " ") #    goals &lt;- rym_get_goals("0000000", #    login = " ")</code> </pre> <br><p>  En utilisant l'exemple de code ci-dessus, remplacez <code>" "</code> par votre nom d'utilisateur dans Yandex, sous lequel les m√©triques Yandex dont vous avez besoin sont disponibles.  Et <code>"0000000"</code> au num√©ro du compteur dont vous avez besoin.  Vous pouvez voir les num√©ros des compteurs disponibles dans le tableau des <em>compteurs</em> charg√©s. </p><br><p>  Le tableau des compteurs disponibles - <em>compteurs</em> a la forme suivante: </p><br><pre> <code class="plaintext hljs"># A tibble: 2 x 9 id status owner_login name code_status site permission type gdpr_agreement_accepted &lt;int&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;fct&gt; &lt;int&gt; 1 11111111 Active site.ru1 Aerosus CS_NOT_FOUND site.ru edit simple 0 2 00000000 Active site.ru Aerosus RU CS_OK site.ru edit simple 1</code> </pre> <br><p>  Le champ <em>id</em> affiche les num√©ros de tous les compteurs m√©triques Yandex disponibles. </p><br><p>  Le tableau des <em>objectifs</em> est le suivant: </p><br><pre> <code class="plaintext hljs"># A tibble: 4 x 5 id name type is_retargeting conditions &lt;int&gt; &lt;fct&gt; &lt;fct&gt; &lt;int&gt; &lt;fct&gt; 1 47873638    url 0 type:contain, url:site.ru/checkout/cart/ 2 47873764    url 0 type:contain, url:site.ru/onestepcheckout/ 3 47874133     url 0 type:contain, url:/checkout/onepage/success 4 50646283     action 0 type:exact, url:click_phone</code> </pre> <br><p>  C'est-√†-dire  dans le compteur avec lequel je travaille, les actions suivantes sont configur√©es: </p><br><ul><li>  Aller au panier </li><li>  Aller au paiement </li><li>  Page de remerciement pour la commande </li><li>  Cliquez sur le bouton t√©l√©phone </li></ul><br><p>  √Ä l'avenir, pour la conversion des donn√©es, nous utiliserons les packages inclus dans la biblioth√®que <code>tidyr</code> : <code>tidyr</code> , <code>dplyr</code> .  Par cons√©quent, avant d'utiliser l'exemple de code suivant, installez et connectez ces packages ou l'int√©gralit√© de la biblioth√®que <code>tidyverse</code> . </p><br><pre> <code class="plaintext hljs"># install.packages("tidyverse") # library(tidyverse) install.packages(c("dplyr", "tidyr")) library(dplyr) library(tidyr)</code> </pre> <br><p>  La fonction <code>rym_get_logs()</code> vous permet de demander des donn√©es aux m√©triques de l'API Yandex metrics Logs. </p><br><pre> <code class="plaintext hljs">#      logs &lt;- rym_get_logs(counter = "0000000", date.from = "2019-04-01", date.to = "2019-06-30", fields = "ym:s:visitID, ym:s:clientID, ym:s:date, ym:s:goalsID, ym:s:lastTrafficSource, ym:s:isNewUser", login = " ") %&gt;% mutate(ym.s.date = as.Date(ym.s.date), ym.s.clientID = as.character(ym.s.clientID))</code> </pre> <br><p>  Les principaux arguments de la fonction <code>rym_get_logs()</code> : </p><br><ul><li>  compteur - num√©ro de compteur √† partir duquel vous demandez des journaux; </li><li>  date.from - date de d√©but; </li><li>  date.to - date de fin; </li><li>  champs - une liste des champs que vous souhaitez charger; </li><li>  login - Login Yandex sous lequel le <em>compteur</em> sp√©cifi√© dans <em>counter</em> est disponible. </li></ul><br><p>  Ainsi, nous avons demand√© des donn√©es de visite √† l'API Logs qui contient les colonnes suivantes: </p><br><ul><li>  ym: s: visitID - ID visite </li><li>  ym: s: clientID - ID utilisateur sur le site </li><li>  ym: s: date - Date de visite </li><li>  ym: s: butsID - Identifiant des buts atteints lors de cette visite </li><li>  ym: s: lastTrafficSource - Source de trafic </li><li>  ym: s: isNewUser - Premi√®re visite du visiteur </li></ul><br><blockquote>  Pour une liste compl√®te des champs disponibles, consultez l' <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">aide de l'</a> API Logs. </blockquote><p>  Les donn√©es re√ßues nous suffisent pour construire un entonnoir, dans le cadre duquel le travail avec l'API Logs est termin√©, et nous passons √† l'√©tape suivante - le post-traitement des donn√©es t√©l√©charg√©es. </p><br><h1 id="postroenie-voronok-paket-funneljoin">  Package d'entonnoir de construction d'entonnoir </h1><br><blockquote>  Une partie importante des informations fournies dans cette section est obtenue √† partir du package funneljoin README, disponible par <a href="">r√©f√©rence</a> . </blockquote><p>  <code>funneljoin</code> objectif <code>funneljoin</code> est de simplifier l'analyse en entonnoir du comportement des utilisateurs.  Par exemple, votre t√¢che consiste √† rechercher les personnes qui ont visit√© votre site puis se sont enregistr√©es, et √† savoir combien de temps s'est √©coul√© entre la premi√®re visite et l'inscription.  Ou vous devez trouver les utilisateurs qui ont consult√© la fiche produit et l'ont ajout√©e au panier dans les deux jours.  Le package <code>funneljoin</code> et la fonction <code>after_join()</code> aident √† r√©soudre ces probl√®mes. </p><br><p>  <strong>Arguments <code>after_join()</code> :</strong> </p><br><ul><li>  x - un ensemble de donn√©es contenant des informations sur la r√©alisation du premier √©v√©nement (dans le premier exemple, visite du site, dans le second affichage de la fiche produit). </li><li>  y - un ensemble de donn√©es avec des informations sur l'ach√®vement du deuxi√®me √©v√©nement (dans le premier exemple d'inscription, dans le second ajout du produit au panier). </li><li>  by_time - une colonne contenant des informations sur la date √† laquelle les √©v√©nements se sont produits dans les tableaux <em>x</em> et <em>y</em> . </li><li>  by_user - une colonne avec des identifiants d'utilisateur dans les tableaux <em>x</em> et <em>y</em> . </li><li>  mode - la m√©thode utilis√©e pour se connecter: "int√©rieure", "compl√®te", "anti", "semi", "droite", "gauche".  Au lieu de cela, vous pouvez √©galement utiliser <code>after_mode_join</code> (par exemple, <code>after_inner_join</code> au lieu de <code>after_join (..., mode = "inner")</code> ). </li><li>  type - le type de s√©quence utilis√© pour d√©finir des paires d'√©v√©nements, tels que "premier-premier", "dernier-premier", "tout-premier apr√®s".  Plus de d√©tails sont d√©crits dans la section "Types d'entonnoir". </li><li>  max_gap / min_gap (facultatif) - filtre par la dur√©e maximale et minimale entre les premier et deuxi√®me √©v√©nements. </li><li>  gap_col (facultatif) - Indique s'il faut renvoyer une colonne num√©rique <em>.gap</em> avec une diff√©rence de temps entre les √©v√©nements.  La valeur par d√©faut est FALSE. </li></ul><br><h2 id="ustanovka-funneljoin">  Installation de funneljoin </h2><br><p>  Au moment d'√©crire ces <code>funneljoin</code> , le package <code>funneljoin</code> pas publi√© sur CRAN, vous pouvez donc l'installer √† partir de GitHub.  Pour installer des packages √† partir de GitHub, vous aurez besoin d'un package suppl√©mentaire - <code>devtools</code> . </p><br><pre> <code class="plaintext hljs">install.packages("devtools") devtools::install_github("robinsones/funneljoin")</code> </pre> <br><h2 id="postobrabotka-dannyh-poluchennyh-iz-logs-api">  Post-traitement des donn√©es re√ßues de l'API Logs </h2><br><p>  Pour une √©tude plus d√©taill√©e de la fonctionnalit√© de construction de l'entonnoir, nous devons amener les donn√©es obtenues √† partir de l'API Logs sous la forme souhait√©e.  Le moyen le plus pratique pour manipuler les donn√©es, comme je l'ai √©crit ci-dessus, est fourni par les <code>tidyr</code> et <code>dplyr</code> . </p><br><p>  Pour commencer, proc√©dez comme suit: </p><br><ol><li>  Dans ce cas, une ligne du tableau des <em>journaux</em> contient des informations sur une visite et la colonne <em>ym.s.goalsID</em> est un tableau de la forme - <code>[0,1,0,...]</code> , qui contient les identificateurs des objectifs atteints au cours de cette visite.  Afin d'amener le tableau sous une forme appropri√©e pour un travail ult√©rieur, il est n√©cessaire d'en supprimer les caract√®res suppl√©mentaires, dans notre cas les crochets. </li><li>  Il est n√©cessaire de reformater le tableau afin qu'une ligne contienne des informations sur un objectif atteint lors de la visite.  C'est-√†-dire  si trois objectifs ont √©t√© atteints au cours d'une visite, cette visite sera divis√©e en trois lignes et chaque ligne, dans la colonne <em>ym.s.goalsID,</em> contiendra l'identifiant d'un seul objectif. </li><li>  Joignez un tableau avec une liste d'objectifs au tableau du journal pour comprendre exactement quels objectifs ont √©t√© atteints lors de chaque visite. </li><li>  Renommez la colonne de <em>nom</em> avec les noms d'objectif en <em>√©v√©nements</em> . </li></ol><br><p>  Toutes les actions ci-dessus sont impl√©ment√©es √† l'aide du code suivant: </p><br><div class="spoiler">  <b class="spoiler_title">Code de post-traitement des donn√©es re√ßues de l'API Logs</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#      logs_goals &lt;- logs %&gt;% mutate(ym.s.goalsID = str_replace_all(ym.s.goalsID, #     "\\[|\\]", "") %&gt;% str_split(",")) %&gt;% #     unnest(cols = c(ym.s.goalsID)) %&gt;% mutate(ym.s.goalsID = as.integer(ym.s.goalsID)) %&gt;% #  id     left_join(goals, by = c("ym.s.goalsID" = "id")) %&gt;% #      rename(events = name) #     events</code> </pre> </div></div><br><p>  Une petite explication du code.  L'op√©rateur <code>%&gt;%</code> est appel√© pipeline et rend le code plus lisible et compact.  En fait, il prend le r√©sultat de l'ex√©cution d'une fonction et le transmet comme premier argument √† la fonction suivante.  Ainsi, une sorte de convoyeur est obtenue, ce qui vous permet de ne pas obstruer la RAM avec des variables superflues qui stockent des r√©sultats interm√©diaires. </p><br><p>  La fonction <code>str_replace_all</code> supprime les crochets dans la colonne <em>ym.s.goalsID</em> .  <code>str_split</code> s√©pare les identifiants cibles de la colonne <em>ym.s.goalsID</em> en valeurs distinctes, et <code>unnest</code> divise en lignes distinctes, dupliquant les valeurs de toutes les autres colonnes. </p><br><p>  En utilisant <code>mutate</code> nous convertissons les identifiants cibles en type entier. </p><br><p>  <code>left_join</code> table des <em>objectifs</em> au r√©sultat, qui stocke des informations sur les objectifs configur√©s.  Utiliser la colonne <em>ym.s.goalsID</em> de la table actuelle et la colonne <em>id</em> de la table d' <em>objectifs</em> comme cl√©. </p><br><p>  Enfin, la fonction <code>rename</code> renomme la colonne de <em>nom</em> en <em>√©v√©nements</em> . </p><br><p>  Maintenant, la table <em>logs_goals</em> a l' <em>apparence</em> n√©cessaire pour un travail ult√©rieur. </p><br><p>  Ensuite, cr√©ez trois nouvelles tables: </p><br><ul><li>  first_visits - dates des premi√®res sessions pour tous les nouveaux utilisateurs </li><li>  panier - dates d'ajout de produits au panier </li><li>  commandes - commandes </li></ul><br><div class="spoiler">  <b class="spoiler_title">Code de cr√©ation de table</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#      first_visits &lt;- logs_goals %&gt;% filter(ym.s.isNewUser == 1 ) %&gt;% #     select(ym.s.clientID, #   clientID ym.s.date) #   date #       cart &lt;- logs_goals %&gt;% filter(events == "  ") %&gt;% select(ym.s.clientID, ym.s.date) #   orders &lt;- logs_goals %&gt;% filter(events == "   ") %&gt;% select(ym.s.clientID, ym.s.date)</code> </pre> </div></div><br><p>  Chaque nouvelle table est le r√©sultat du filtrage de la table principale <em>logs_goals</em> obtenue √† la derni√®re √©tape.  Le filtrage est effectu√© par la fonction de <code>filter</code> . </p><br><p>  Pour cr√©er des entonnoirs, il nous suffit de laisser des informations sur l'ID utilisateur et la date de l'√©v√©nement, qui sont stock√©es dans les colonnes <em>ym.s.clientID</em> et <em>ym.s.date</em> , dans les nouvelles tables.  Les colonnes souhait√©es ont √©t√© s√©lectionn√©es √† l'aide de la fonction de <code>select</code> . </p><br><h2 id="tipy-voronok">  Types d'entonnoir </h2><br><p>  L'argument <em>type</em> accepte toute combinaison des <code>lastbefore</code> <code>first</code> , <code>last</code> , <code>any</code> et <code>firstafter</code> avec <code>first</code> , <code>last</code> , <code>any</code> et <code>firstafter</code> .  Voici un exemple des combinaisons les plus utiles que vous pouvez utiliser: </p><br><ul><li>  <code>first-first</code> : obtenez les premiers √©v√©nements <em>x</em> et <em>y</em> pour chaque utilisateur.  Par exemple, nous voulons obtenir la date de la <strong>premi√®re</strong> visite et la date du <strong>premier</strong> achat, auquel cas utilisez d'abord le type d'entonnoir. </li></ul><br><pre> <code class="plaintext hljs">#    first-first first_visits %&gt;% after_inner_join(orders, by_user = "ym.s.clientID", by_time = "ym.s.date", type = "first-first")</code> </pre> <br><pre> <code class="plaintext hljs"># A tibble: 42 x 3 ym.s.clientID ym.s.date.x ym.s.date.y &lt;chr&gt; &lt;date&gt; &lt;date&gt; 1 1552251706539589249 2019-04-18 2019-05-15 2 1554193975665391000 2019-04-02 2019-04-15 3 1554317571426012455 2019-04-03 2019-04-04 4 15544716161033564779 2019-04-05 2019-04-08 5 1554648729526295287 2019-04-07 2019-04-11 6 1554722099539384487 2019-04-08 2019-04-17 7 1554723388680198551 2019-04-08 2019-04-08 8 15547828551024398507 2019-04-09 2019-05-13 9 1554866701619747784 2019-04-10 2019-04-10 10 1554914125524519624 2019-04-10 2019-04-10 # ... with 32 more rows</code> </pre> <br><p>  Nous avons obtenu un tableau dans lequel 1 ligne contient des donn√©es sur la date de la premi√®re visite de l'utilisateur sur le site et la date de sa premi√®re commande. </p><br><ul><li>  <code>first-firstafter</code> : obtenez le premier <em>x</em> , puis le premier <em>y</em> est arriv√© apr√®s le premier <em>x</em> .  Par exemple, un utilisateur a visit√© √† plusieurs reprises votre site et, au cours des visites, il a ajout√© des produits au panier, si vous avez besoin d'obtenir la date d'ajout du tout <strong>premier</strong> produit au panier et la date de la commande la <strong>plus proche</strong> , utilisez le type d'entonnoir <code>first-firstafter</code> . </li></ul><br><pre> <code class="plaintext hljs">cart %&gt;% after_inner_join(orders, by_user = "ym.s.clientID", by_time = "ym.s.date", type = "first-firstafter")</code> </pre> <br><pre> <code class="plaintext hljs"># A tibble: 49 x 3 ym.s.clientID ym.s.date.x ym.s.date.y &lt;chr&gt; &lt;date&gt; &lt;date&gt; 1 1551433754595068897 2019-04-02 2019-04-05 2 1552251706539589249 2019-05-15 2019-05-15 3 1552997205196001429 2019-05-23 2019-05-23 4 1553261825377658768 2019-04-11 2019-04-11 5 1553541720631103579 2019-04-04 2019-04-05 6 1553761108775329787 2019-04-16 2019-04-16 7 1553828761648236553 2019-04-03 2019-04-03 8 1554193975665391000 2019-04-13 2019-04-15 9 1554317571426012455 2019-04-04 2019-04-04 10 15544716161033564779 2019-04-08 2019-04-08 # ... with 39 more rows</code> </pre> <br><ul><li>  <code>lastbefore-firstafter</code> : premier <em>x</em> suivi de <em>y</em> avant le <em>x</em> suivant.  Par exemple, un utilisateur a visit√© √† plusieurs reprises votre site, certaines sessions se sont termin√©es par un achat.  Si vous devez obtenir la date de la derni√®re session avant d'acheter et la date d'achat qui a suivi, utilisez le type d'entonnoir <code>lastbefore-firstafter</code> . </li></ul><br><pre> <code class="plaintext hljs">first_visits %&gt;% after_inner_join(orders, by_user = "ym.s.clientID", by_time = "ym.s.date", type = "lastbefore-firstafter")</code> </pre> <br><pre> <code class="plaintext hljs"># A tibble: 50 x 3 ym.s.clientID ym.s.date.x ym.s.date.y &lt;chr&gt; &lt;date&gt; &lt;date&gt; 1 1551433754595068897 2019-04-05 2019-04-05 2 1552251706539589249 2019-05-15 2019-05-15 3 1552251706539589249 2019-05-16 2019-05-16 4 1552997205196001429 2019-05-23 2019-05-23 5 1553261825377658768 2019-04-11 2019-04-11 6 1553541720631103579 2019-04-05 2019-04-05 7 1553761108775329787 2019-04-16 2019-04-16 8 1553828761648236553 2019-04-03 2019-04-03 9 1554193975665391000 2019-04-15 2019-04-15 10 1554317571426012455 2019-04-04 2019-04-04 # ... with 40 more rows</code> </pre> <br><p>  Dans ce cas, nous avons re√ßu un tableau dans lequel une ligne contient la date √† laquelle le dernier produit a √©t√© ajout√© au panier avant la fin de chaque commande et la date de la commande elle-m√™me. </p><br><ul><li>  <code>any-firstafter</code> : r√©cup√®re tous les <em>x</em> et les premiers <em>y</em> apr√®s.  Par exemple, un utilisateur a visit√© √† plusieurs reprises votre site, lors de chaque visite, ajout√© divers produits au panier et pass√© p√©riodiquement des commandes avec tous les produits ajout√©s.  Si vous avez besoin d'obtenir les dates de tous les ajouts de marchandises au panier et les dates de commande, utilisez d'abord le type d'entonnoir. </li></ul><br><pre> <code class="plaintext hljs">cart %&gt;% after_inner_join(orders, by_user = "ym.s.clientID", by_time = "ym.s.date", type = "any-firstafter")</code> </pre> <br><pre> <code class="plaintext hljs"># A tibble: 239 x 3 ym.s.clientID ym.s.date.x ym.s.date.y &lt;chr&gt; &lt;date&gt; &lt;date&gt; 1 1551433754595068897 2019-04-02 2019-04-05 2 1551433754595068897 2019-04-02 2019-04-05 3 1551433754595068897 2019-04-03 2019-04-05 4 1551433754595068897 2019-04-03 2019-04-05 5 1551433754595068897 2019-04-03 2019-04-05 6 1551433754595068897 2019-04-05 2019-04-05 7 1551433754595068897 2019-04-05 2019-04-05 8 1551433754595068897 2019-04-05 2019-04-05 9 1551433754595068897 2019-04-05 2019-04-05 10 1551433754595068897 2019-04-05 2019-04-05 # ... with 229 more rows</code> </pre> <br><ul><li>  any-any: obtenir tous les <em>x</em> et tous les <em>y √†</em> c√¥t√© de chaque <em>x</em> .  Par exemple, vous souhaitez recevoir une liste de toutes les visites sur le site avec toutes les commandes ult√©rieures effectu√©es par chaque utilisateur. </li></ul><br><pre> <code class="plaintext hljs">first_visits %&gt;% after_inner_join(orders, by_user = "ym.s.clientID", by_time = "ym.s.date", type = "any-any")</code> </pre> <br><pre> <code class="plaintext hljs"># A tibble: 122 x 3 ym.s.clientID ym.s.date.x ym.s.date.y &lt;chr&gt; &lt;date&gt; &lt;date&gt; 1 1552251706539589249 2019-04-18 2019-05-15 2 1552251706539589249 2019-04-18 2019-05-15 3 1552251706539589249 2019-04-18 2019-05-15 4 1552251706539589249 2019-04-18 2019-05-16 5 1554193975665391000 2019-04-02 2019-04-15 6 1554193975665391000 2019-04-02 2019-04-25 7 1554317571426012455 2019-04-03 2019-04-04 8 15544716161033564779 2019-04-05 2019-04-08 9 1554648729526295287 2019-04-07 2019-04-11 10 1554722099539384487 2019-04-08 2019-04-17 # ... with 112 more rows</code> </pre> <br><h3 id="shagi-po-voronke">  √âtapes de l'entonnoir </h3><br><p>  Les exemples ci-dessus montrent <code>after_inner_join()</code> travailler avec la fonction <code>after_inner_join()</code> , il est pratique de l'utiliser dans les cas o√π vous avez tous les √©v√©nements s√©par√©s par des tables s√©par√©es, dans notre cas selon les <em>tables first_visits</em> , <em>cart</em> et <em>Orders</em> . </p><br><p>  Mais l'API Logs vous donne des donn√©es sur tous les √©v√©nements dans une table, et les fonctions <code>funnel_start()</code> et <code>funnel_step()</code> seront un moyen plus pratique de cr√©er une s√©quence d'actions.  <code>funnel_start</code> aide √† d√©finir la premi√®re √©tape de l'entonnoir et prend cinq arguments: </p><br><ul><li>  tbl - Table d'√©v√©nements; </li><li>  moment_type - Le premier √©v√©nement dans l'entonnoir; </li><li>  moment - Le nom de la colonne qui contient le nom de l'√©v√©nement; </li><li>  tstamp - Nom de la colonne avec la date √† laquelle l'√©v√©nement s'est produit; </li><li>  user - Le nom de la colonne avec les identifiants utilisateur. </li></ul><br><pre> <code class="plaintext hljs">logs_goals %&gt;% select(events, ym.s.clientID, ym.s.date) %&gt;% funnel_start(moment_type = "   ", moment = "events", tstamp = "ym.s.date", user = "ym.s.clientID")</code> </pre> <br><pre> <code class="plaintext hljs"># A tibble: 52 x 2 ym.s.clientID `ym.s.date_   ` &lt;chr&gt; &lt;date&gt; 1 1556018960123772801 2019-04-24 2 1561216372134023321 2019-06-22 3 1556955573636389438 2019-05-04 4 1559220890220134879 2019-05-30 5 1553261825377658768 2019-04-11 6 1561823182372545402 2019-06-29 7 1556047887455246275 2019-04-23 8 1554722099539384487 2019-04-17 9 1555420652241964245 2019-04-17 10 1553541720631103579 2019-04-05 # ... with 42 more rows</code> </pre> <br><p>  <code>funnel_start</code> renvoie une table avec la colonne <em>ym.s.clientI</em> et <em>ym.s.date_</em> <code>ym.s.date_   </code> (le nom de votre colonne avec la date, _ et le nom de l'√©v√©nement). </p><br><p>  Les √©tapes suivantes peuvent √™tre ajout√©es √† l'aide de la fonction <code>funnel_step()</code> .  Dans <code>funnel_start</code> nous avons d√©j√† sp√©cifi√© les identifiants de toutes les colonnes requises, nous devons maintenant sp√©cifier quel √©v√©nement sera la prochaine √©tape dans l'entonnoir en utilisant l'argument <em>moment_type</em> , et le <em>type de</em> connexion est <em>type</em> (par exemple, <code>"first-first"</code> , <code>"first-any"</code> ). </p><br><pre> <code class="plaintext hljs">logs_goals %&gt;% select(events, ym.s.clientID, ym.s.date) %&gt;% funnel_start(moment_type = "  ", moment = "events", tstamp = "ym.s.date", user = "ym.s.clientID") %&gt;% funnel_step(moment_type = "   ", type = "first-last")</code> </pre> <br><pre> <code class="plaintext hljs"># A tibble: 319 x 3 ym.s.clientID `ym.s.date_  ` `ym.s.date_   ` &lt;chr&gt; &lt;date&gt; &lt;date&gt; 1 1550828847886891355 2019-04-01 NA 2 1551901759770098825 2019-04-01 NA 3 1553595703262002507 2019-04-01 NA 4 1553856088331234886 2019-04-01 NA 5 1554044683888242311 2019-04-01 NA 6 1554095525459102609 2019-04-01 NA 7 1554100987632346537 2019-04-01 NA 8 1551433754595068897 2019-04-02 2019-04-05 9 1553627918798485452 2019-04-02 NA 10 155418104743178061 2019-04-02 NA # ... with 309 more rows</code> </pre> <br><p>  Avec <code>funnel_step</code> vous pouvez cr√©er des entonnoirs en plusieurs √©tapes.  Pour cr√©er un entonnoir complet pour chaque utilisateur, dans mon exemple, vous pouvez utiliser le code suivant: </p><br><div class="spoiler">  <b class="spoiler_title">Code pour construire un entonnoir complet pour chaque utilisateur</b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#         #     events - " " logs_goals &lt;- logs_goals %&gt;% filter(ym.s.isNewUser == 1 ) %&gt;% mutate(events = " ") %&gt;% bind_rows(logs_goals) #     logs_goals %&gt;% select(events, ym.s.clientID, ym.s.date) %&gt;% funnel_start(moment_type = " ", moment = "events", tstamp = "ym.s.date", user = "ym.s.clientID") %&gt;% funnel_step(moment_type = "  ", type = "first-last") %&gt;% funnel_step(moment_type = "  ", type = "first-last") %&gt;% funnel_step(moment_type = "   ", type = "first-last")</code> </pre> </div></div><br><p>  Et maintenant, la cerise sur le g√¢teau est <code>summarize_funnel()</code> .  Une fonction qui vous permet d'afficher le pourcentage d'utilisateurs qui sont pass√©s de l'√©tape pr√©c√©dente √† la suivante et le pourcentage d'utilisateurs qui sont pass√©s de la premi√®re √©tape √† chaque √©tape suivante. </p><br><pre> <code class="plaintext hljs">my_funnel &lt;- logs_goals %&gt;% select(events, ym.s.clientID, ym.s.date) %&gt;% funnel_start(moment_type = " ", moment = "events", tstamp = "ym.s.date", user = "ym.s.clientID") %&gt;% funnel_steps(moment_type = c("  ", "  ", "   "), type = "first-last") %&gt;% summarize_funnel()</code> </pre> <br><pre> <code class="plaintext hljs"># A tibble: 4 x 4 moment_type nb_step pct_cumulative pct_step &lt;fct&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; 1   18637 1 NA 2    1589 0.0853 0.0853 3    689 0.0494 0.579 4     34 0.0370 0.749</code> </pre> <br><p> <code>nb_step</code> ‚Äî   ,   , <code>pct_cumulative</code> ‚Äî      ,  <code>pct_step</code> ‚Äî    . </p><br><h1 id="vizualizaciya-voronki">   </h1><br><p>    <em>my_funnel</em>   ,        <code>ggplot2</code> . </p><br><p> <code>ggplot2</code> ‚Äî       R,      .     ,      ,  . </p><br><p>  <code>ggplot2</code>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  </a> ,     2005 .    ,    photoshop,  ,       . </p><br><h3 id="vizualizaciya-obschey-voronki">    </h3><br><div class="spoiler"> <b class="spoiler_title">    </b> <div class="spoiler_text"><pre> <code class="plaintext hljs"># install.packages("ggplot2") library(ggplot2) my_funnel %&gt;% mutate(padding = (sum(my_funnel$nb_step) - nb_step) / 2) %&gt;% gather(key = "variable", value = "val", -moment_type) %&gt;% filter(variable %in% c("nb_step", "padding")) %&gt;% arrange(desc(variable)) %&gt;% mutate(moment_type = factor(moment_type, levels = c("   ", "  ", "  ", " "))) %&gt;% ggplot( aes(x = moment_type) ) + geom_bar(aes(y = val, fill = variable), stat='identity', position='stack') + scale_fill_manual(values = c('coral', NA) ) + geom_text(data = my_funnel, aes(y = sum(my_funnel$nb_step) / 2, label = paste(round(round(pct_cumulative * 100,2)), '%')), colour='tomato4', fontface = "bold") + coord_flip() + theme(legend.position = 'none') + labs(x='moment', y='volume')</code> </pre> </div></div><br><p>         : </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/260/763/bcf/260763bcf4c60a84ab713d2931e95ebe.png" alt="Visualisation en entonnoir"></p><br><p>     . </p><br><ol><li>         <em>my_funnel</em> . </li><li> <code>ggplot</code> ‚Äî      ,    ,     ,    X     <em>moment_type</em> . </li><li> <code>geom_bar</code> ‚Äî  ‚Äî  ,            <code>aes</code> . </li><li> <code>scale_fill_manual</code> ‚Äî    ,         ,    . </li><li> <code>geom_text</code> ‚Äî   ,   %    . </li><li> <code>coord_flip</code> ‚Äî   ,     . </li><li> <code>theme</code> ‚Äî      : ,   ..           . </li><li> <code>labs</code> ‚Äî     . </li></ol><br><h3 id="vizualizaciya-voronki-v-razreze-kanalov-trafika">       </h3><br><p>     ,   ,  ,      ,    . </p><br><p>           <code>lapply</code> ,       R.        ,      ,        <code>bind_rows</code> . </p><br><div class="spoiler"> <b class="spoiler_title">    </b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#        first_visits &lt;- rename(first_visits, firstSource = ym.s.lastTrafficSource) #          logs_goals &lt;- select(first_visits, ym.s.clientID, firstSource) %&gt;% left_join(logs_goals, ., by = "ym.s.clientID") #     my_multi_funnel &lt;- lapply(c("ad", "organic", "direct"), function(source) { logs_goals %&gt;% filter(firstSource == source) %&gt;% select(events, ym.s.clientID, ym.s.date) %&gt;% funnel_start(moment_type = " ", moment = "events", tstamp = "ym.s.date", user = "ym.s.clientID") %&gt;% funnel_steps(moment_type = c("  ", "  ", "   "), type = "first-last") %&gt;% summarize_funnel() %&gt;% mutate(firstSource = source) }) %&gt;% bind_rows() #  </code> </pre></div></div><br><pre> <code class="plaintext hljs"># A tibble: 12 x 5 moment_type nb_step pct_cumulative pct_step firstSource &lt;fct&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; 1   14392 1 NA ad 2    154 0.0107 0.0107 ad 3    63 0.00438 0.409 ad 4     14 0.000973 0.222 ad 5   3372 1 NA organic 6    68 0.0202 0.0202 organic 7    37 0.0110 0.544 organic 8     13 0.00386 0.351 organic 9   607 1 NA direct 10    49 0.0807 0.0807 direct 11    21 0.0346 0.429 direct 12     8 0.0132 0.381 direct</code> </pre> <br><p>     <em>my_multi_funnel</em> ,        . </p><br><div class="spoiler"> <b class="spoiler_title">       </b> <div class="spoiler_text"><pre> <code class="plaintext hljs">#    my_multi_funnel %&gt;% mutate(padding = ( 1 - pct_cumulative) / 2 ) %&gt;% gather(key = "variable", value = "val", -moment_type, -firstSource) %&gt;% filter(variable %in% c("pct_cumulative", "padding")) %&gt;% arrange(desc(variable)) %&gt;% mutate(moment_type = factor(moment_type, levels = c("   ", "  ", "  ", " ")), variable = factor(variable, levels = c("pct_cumulative", "padding"))) %&gt;% ggplot( aes(x = moment_type) ) + geom_bar(aes(y = val, fill = variable), stat='identity', position='stack') + scale_fill_manual(values = c('coral', NA) ) + geom_text(data = my_multi_funnel_df, aes(y = 1 / 2, label =paste(round(round(pct_cumulative * 100, 2)), '%')), colour='tomato4', fontface = "bold") + coord_flip() + theme(legend.position = 'none') + labs(x='moment', y='volume') + facet_grid(. ~ firstSource)</code> </pre> </div></div><br><p>      : <br><img src="https://habrastorage.org/getpro/habr/post_images/12d/9a7/631/12d9a7631235b42f1081d996fa7eec62.png" alt="Entonnoir de canaux"></p><br><p>     ? </p><br><ol><li>   <code>first_visits</code>    <code>ym.s.lastTrafficSource</code>  <code>firstSource</code> . </li><li>   <code>left_join</code>          <em>ym.s.clientID</em> .                 <code>firstSource</code> . </li><li>   <code>lapply</code>        ad, organic  direct.         <code>bind_rows</code> . </li><li>      <code>facet_grid(. ~ firstSource)</code> ,         <code>firstSource</code> . </li></ol><br><h1 id="ps">  PS </h1><br><p>    .       <strong>PS</strong>      ,       R.           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">R4marketing</a> ,          R        . </p><br><p>    : </p><br><ul><li> ; </li><li> ; </li><li> ; </li><li>         R. </li></ul><br><h1 id="zaklyuchenie">  Conclusion </h1><br><p>  ,    ,        R     : </p><br><ol><li>             .; </li><li>   R    RStudio; </li><li>   <code>rym</code> , <code>funneljoin</code>  <code>ggplot2</code> ; </li><li>    <code>rym</code>   <code>rym_get_logs()</code>    .; </li><li>    <code>funneljoin</code>      . </li><li>      <code>ggplot2</code> . </li></ol><br><p>           ,     Logs API  ,      : CRM, 1   . ,         :  ,    -. </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr462279/">https://habr.com/ru/post/fr462279/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr462269/index.html">John Romero √† Doom: 80s Game Dev</a></li>
<li><a href="../fr462271/index.html">Code de verrouillage dans iOS: comment Apple est pass√© de la d√©fense en d√©fense √† la protection d'une seule fronti√®re</a></li>
<li><a href="../fr462273/index.html">G√©rez votre support d'ordinateur portable avec digispark</a></li>
<li><a href="../fr462275/index.html">Pr√©sentation de PVS-Studio Static Analyzer pour Java</a></li>
<li><a href="../fr462277/index.html">Tech release Mail.ru Group 2019</a></li>
<li><a href="../fr462283/index.html">Jouet GAZ-66 sur le panneau de commande. Partie 1</a></li>
<li><a href="../fr462293/index.html">Comment les technologies de d√©veloppement rapide peuvent devenir une source de vuln√©rabilit√©s d√©sagr√©ables</a></li>
<li><a href="../fr462295/index.html">La taille du r√©pertoire ne vaut pas la peine</a></li>
<li><a href="../fr462297/index.html">Habr Weekly # 12 / OneWeb, stations contre les agr√©gateurs, salaires dans l'informatique, ¬´cher, nous tuons Internet¬ª n'√©taient pas autoris√©s dans la F√©d√©ration de Russie</a></li>
<li><a href="../fr462299/index.html">Arrondi √† l'ensemble dans .NET</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>