<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕺🏾 💭 🤪 Kami mengontrol pencahayaan di apartemen (NooLite, Raspberry Pi, dan WebIOPi) 🍲 👩🏿‍💼 👼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya ingin berbagi pengalaman menggunakan sistem rumah pintar NooLite bersama dengan Raspberry Pi Model B (selanjutnya disebut RPI ) di apartemen dua ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Kami mengontrol pencahayaan di apartemen (NooLite, Raspberry Pi, dan WebIOPi)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/382689/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya ingin berbagi pengalaman menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sistem</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> rumah pintar </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">NooLite</font></a><font style="vertical-align: inherit;"> bersama dengan Raspberry Pi Model B (selanjutnya disebut </font></font><abbr title="Raspberry pi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RPI</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) di apartemen dua kamar. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentang sistem NooLite berulang kali ditulis pada hub:</font></font><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NooLite - sistem pencahayaan yang dikendalikan radio, atau langkah pertama menuju rumah pintar</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NooLite-2, atau rumah pintar untuk boneka</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cari di Habr untuk tag "noolite" atau ketik bilah pencarian google "situs: habrahabr.ru noolite"</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam artikel ini saya akan memberi tahu:</font></font><br>
<ul>
<li>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">WebIOPi</a>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">Raspbian</a>    UART     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> MT1132 NooLite</a></li>
<li>    WebIOPi      HTTP REST  GPIO UART</li>
<li>      Android     REST </li>
</ul><br>
<a name="habracut"></a><br>
<h4></h4><br>
<ul>
<li><b></b> ( ): <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">RPI</a> + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">WebIOPi</a> (UART+REST) + <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">NooLite </a></li>
<li><b> </b>:   NooLite   —   </li>
<li><b></b> ( , ):   Android, WEB-,  bash shell (python script)</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mungkin seseorang akan berpikir: "Saya tidak akan repot-repot dengan RPI demi fungsi sederhana seperti itu - untuk mengontrol pencahayaan di apartemen dari ponsel, tetapi akan menyadari semuanya </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan cangkir plastik, kerikil dan benang</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pada Arduino dengan perisai Wi-Fi atau perisai yang lebih sederhana implementasi ringkas pada mikrokontroler AVR. " </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi, karena saya sudah mengumpulkan debu di rak RPI dan diatasi oleh keinginan untuk membuat pencahayaan "pintar" menggunakan platform RPI, saya memutuskan untuk menjadikannya sebagai dasar. </font><font style="vertical-align: inherit;">Juga, kemungkinan menggunakan RPI memberikan margin yang baik untuk memperluas fungsionalitas "rumah pintar".</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memasukan data</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apartemen 2 kamar P44T tanpa perbaikan di gedung baru</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RPI (diakuisisi dua tahun lalu untuk kepentingan)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">keinginan untuk mewujudkan pencahayaan yang cerdas</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk beberapa waktu saya melihat berbagai platform dan teknologi rumah pintar, sebagai hasilnya, pilihan jatuh pada sistem NooLite, berdasarkan pada hal-hal berikut:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">harga yang memadai dibandingkan dengan sistem serupa (Z-Wave, EnOcean, ZigBee)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya percaya barang-barang buatan Belarus</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">protokol terbuka</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">banyak contoh penggunaan di Internet</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">433 MHz </font><font style="vertical-align: inherit;">tersebar luas dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disahkan oleh SCRF</font></font></a><font style="vertical-align: inherit;"></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya juga menarik perhatian </font><font style="vertical-align: inherit;">pada </font><font style="vertical-align: inherit;">platform </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wiren Board</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berbasis ARM9 </font><font style="vertical-align: inherit;">untuk otomatisasi rumah </font><font style="vertical-align: inherit;">dengan fungsionalitas yang kaya untuk semua kebutuhan yang dapat dibayangkan dan tidak terbayangkan. </font><font style="vertical-align: inherit;">Saya sangat senang dengan fitur mematikan - modul radio 433 MHz, yang dalam kasus saya cocok untuk mengendalikan unit daya NooLite. </font><font style="vertical-align: inherit;">Tapi karena saya sudah memiliki RPI, kami akan membangun ini. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menerapkan pencahayaan "pintar" di apartemen, saya harus menyelesaikan tugas-tugas berikut:</font></font><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menentukan skenario pencahayaan optimal di apartemen dua kamar</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mendefinisikan metode untuk berintegrasi dengan RPI dan menempatkan arus rendah</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pilih pembungkus untuk dikontrol</font></font></a><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggambar arsitektur interaksi umum</font></font></a></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">buat daftar belanja </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengoordinasikan hal di atas dengan istrinya</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beli komponen yang diperlukan</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bind remote dan debug integrasi RPI&gt; NooLite</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">temukan dan beli sakelar yang cocok untuk kendali jarak jauh</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tempatkan blok daya dan sakelar </font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengembangkan aplikasi seluler untuk Android</font></font></a></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Item 1 dan 4-6 dapat diulang dalam satu siklus. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Harga Masalah:</font></font></b><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RPI [1 pc]</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modul NooLite MT1132 [1 140 ₽ X 1 pc] 1 140 ₽</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blok daya NL [1 240 ₽ X 11 pcs] 13 640 ₽</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Panel kontrol stasioner NL [1 340 ₽ X 7 pcs] 9 380 ₽</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gantungan kunci kendali jarak jauh NL [1 550 ₽ X 1 pc] 1 550 ₽</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sensor gerak NL [1 550 ₽ X 1 pc] 1 550 ₽</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kotak pemasangan, dukungan, modul keyboard / tombol (sakelar), bingkai (dibeli terpisah)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berteman dengan printer 3D - gratis</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total: ~ 27 000 ₽</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + pengontrol dari 3 000 ₽.</font></font><br>
<a name="block1"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Skenario pencahayaan apartemen</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tata letak rompi dua kamar sudut P44T dengan jendela rongga diberikan di bawah ini. </font></font><br>
<img src="https://habrastorage.org/files/f24/f3a/512/f24f3a512d94401ebf9d36ae27b645a2.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Direncanakan untuk mengontrol pencahayaan dengan NooLite di semua kamar kecuali loggia, kamar mandi dan toilet.</font></font><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Koridor</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 titik pencahayaan dengan mode relai (on / off). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Satu titik cahaya yang tidak terlalu terang harus dikendalikan oleh </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sensor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gerak </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">PM111</font></a><font style="vertical-align: inherit;"> . Ini akan memungkinkan dalam gelap untuk menerangi jalan pengembara malam mencari cahaya malam kelaparan. </font></font><br>
<img src="https://habrastorage.org/files/82b/981/6b6/82b9816b645c43f09360010da4b2d6bd.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kedua titik pencahayaan harus dikontrol oleh saklar tetap yang terletak di sebelah pintu depan. Switch harus mencakup skenario "matikan lampu di seluruh apartemen." </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sensor gerak termal beralih ke mode siaga (mulai merespons pergerakan benda-benda termal) ketika Anda mengatur tingkat pencahayaan dan sensitivitas ruangan yang diperlukan. Biasanya di siang hari tidak perlu berkedip cahaya di koridor untuk lulus. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dari instruksi untuk sensor:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika iluminasi dekat sensor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PM111</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lebih tinggi dari yang ditetapkan oleh regulator Illuminance, maka sensor berada dalam mode siaga. </font><font style="vertical-align: inherit;">Pada saat yang sama, konsumsi saat ini minimal (kurang dari 1 μA), dan sensor gerak termal dinonaktifkan. </font><font style="vertical-align: inherit;">Ketika iluminasi jatuh di bawah level yang telah ditentukan, sensor memasuki mode siaga.</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lampu di toilet dan kamar mandi dikendalikan oleh saklar stasioner klasik. </font><font style="vertical-align: inherit;">Lampu dan kipas di toilet terhubung melalui </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">relay waktu F&amp;F PO-415</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (juga Belarusia) pada rel DIN.</font></font><br>
<img src="https://habrastorage.org/files/761/0dd/00a/7610dd00a0d14e85bfb6aad508fd7570.png"><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebagai akibat dari penutupan kontak kontrol 6, kontak relai 11, 12 ditutup. </font><font style="vertical-align: inherit;">Membuka kontak kontrol 6 menyebabkan hitungan mundur dari waktu yang ditetapkan, setelah itu operasi PO-415 berhenti.</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saklar koridor stasioner harus dari jenis tombol-tekan, karena menjalankan skrip melibatkan menekan tombol (skrip tidak memiliki status ON / OFF). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juga, tombol ini diperlukan jika kita perlu mematikan lampu yang sudah dinyalakan oleh sensor gerak, ketika timer sensor dikonfigurasikan untuk tidak mematikan lampu selama beberapa menit setelah dipicu. </font><font style="vertical-align: inherit;">Kuncinya tidak cocok dalam kasus ini. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total menyusuri lorong:</font></font></b><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dua unit daya tipe relai 200 W ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SU111-200</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam mode relai)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">satu saklar 3 tombol stasioner (Remote </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PK313</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tombol 1 - lampu titik nyala / mati 1</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tombol 2 - menyalakan / mematikan lampu titik 2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tombol 3 - mematikan lampu di seluruh apartemen (skrip)</font></font></li>
</ul><br>
 </li>
</ul><br>
<img src="https://habrastorage.org/files/d15/e11/fde/d15e11fde6b544e0b8b4a39329018f58.png"><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dapur</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tiga titik pencahayaan:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lampu di atas meja ( </font><font style="vertical-align: inherit;">mode relai </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SU111-200</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pencahayaan spot di plafon peregangan ( </font><font style="vertical-align: inherit;">mode relai </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SU111-200</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Strip LED untuk menerangi permukaan kerja dapur ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SU111-200</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mode relai)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Titik pencahayaan dikendalikan oleh sakelar 3 tombol (remote </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PK311</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) yang terletak di pintu masuk dapur.</font></font><br>
<img src="https://habrastorage.org/files/f5e/6db/293/f5e6db29310044d7a028093a8bf6dcfc.png"><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ruang tamu dan balkon</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dua titik pencahayaan dalam mode relai ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SU111-200</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pencahayaan utama di ruang tamu</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cahaya di balkon</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setiap titik pencahayaan dikendalikan oleh 2 sakelar:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sakelar stasioner 2 tombol di balkon (Remote </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PK313</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tombol 1 - lampu on / off di balkon</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tombol 2 - menghidupkan / mematikan lampu di ruang tamu</font></font></li>
</ul><br>
 </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sakelar stasioner 2-kunci di ruang tamu (Remote </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PK314</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kunci 1 - menghidupkan / mematikan lampu di ruang tamu</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tombol 2 - lampu on / off di balkon</font></font></li>
</ul><br>
 </li>
</ul><br>
<img src="https://habrastorage.org/files/2cd/d9e/241/2cdd9e24183442d089566677dee0de8c.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mungkin seseorang akan bertanya "mengapa tidak meletakkan saklar 2 tombol di balkon seperti di ruang tamu?" </font><font style="vertical-align: inherit;">atau "mengapa tidak meletakkan tombol di seluruh apartemen?". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kebetulan, mula-mula ia seharusnya memasang sakelar 3 tombol dengan satu tombol skenario di balkon, tetapi kemudian berubah pikiran ketika memilih desain sakelar itu sendiri. </font><font style="vertical-align: inherit;">Juga diasumsikan bahwa akan ada tombol di koridor dan di dapur, dan tombol kunci di ruang tamu, kamar tidur dan balkon untuk melestarikan desain. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian saya ingin meredupkan lampu dengan saklar di tempat tidur, jadi semuanya serba salah. </font><font style="vertical-align: inherit;">Untuk melestarikan desain pemutus sirkuit, saya harus berkeliling di banyak pasar konstruksi, mengunjungi selusin situs Internet, lebih lanjut tentang ini nanti di bagian " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Temukan dan beli pemutus sirkuit yang cocok untuk kontrol jarak jauh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ".</font></font><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kamar tidur</font></font></h5><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian 1 (tempat tidur)</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Biasanya blok daya terletak di setiap titik pencahayaan. </font><font style="vertical-align: inherit;">Satu titik pencahayaan - satu unit daya. </font><font style="vertical-align: inherit;">Dalam skenario pencahayaan saya, ada satu penyimpangan dari logika tradisional. </font><font style="vertical-align: inherit;">Di kamar tidur "bagian 1" itu seharusnya memasang lampu dengan dua unit daya, salah satunya akan diredupkan. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian 2 (jendela rongga)</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Selain sakelar stasioner, semua titik pencahayaan harus dikontrol dari sakelar kendali jarak jauh sebagai konsol cadangan dan RPI. </font><font style="vertical-align: inherit;">Untuk gantungan kunci:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tombol A (menyalakan / mematikan lampu di lorong dan di dapur)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tombol B (menyalakan / mematikan lampu di ruang tamu dan di balkon)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tombol C (nyalakan / matikan lampu di kamar tidur)</font></font></li>
</ul><br>
<img src="https://habrastorage.org/files/a78/f82/e8d/a78f82e8da434711aa8a66d6c40d7050.png"><br>
<a name="block2"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menentukan Metode Integrasi Penempatan Rendah dan NooLite C untuk RPI</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan katakan segera, integrasi itu sederhana. </font><font style="vertical-align: inherit;">NooLite memiliki modul </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MT1132</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Modul menerima paket kontrol melalui UART dari beberapa pengontrol, dalam kasus saya ini adalah RPI, mentransmisikan perintah melalui udara ke perangkat eksekutif (blok daya) dan merespons dengan konstruksi OK / r \ n, semuanya dijelaskan dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instruksi modul</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tegangan pasokan modul (VCC Upit)</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.7-5.5 V</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rentang tegangan input pada Rx </font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 - Atas</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TTL LVL TINGGI (unit logis) pada Upit = 5 V</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 - Upit (5 V)</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TTL RENDAH LVL (nol logis) pada Upit = 5 V</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0-0.8 V</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TTL LVL TINGGI (unit logis) pada Upit = 3,3 V</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2-3.3 V</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TTL RENDAH LVL (nol logis) pada Upit = 3,3 V</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0-0.8 V</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kecepatan UART</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9600 baud</font></font></td>
</tr>
</tbody></table><br>
<img src="https://habrastorage.org/files/ffe/4ee/a4d/ffe4eea4d7a14c25ae45f94c3bef4204.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena garis RPART UART beroperasi dengan level TTL 3,3 V, maka kita akan menggunakan 3,3 V sebagai daya modul U. </font></font><br>
<img src="https://habrastorage.org/files/d37/959/89e/d3795989ef37427ab127ad82d02e2ed0.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat menggunakan tiga baris pada MT1132: VCC, GND, dan RX, untuk mengirimkan paket kontrol. </font><font style="vertical-align: inherit;">Saya melakukan ini ketika debugging - Saya tidak membaca jawaban "OK \ r \ n" dari MT1132, itu sudah cukup bagi saya untuk mengamati indikator unit daya yang terpasang. </font><font style="vertical-align: inherit;">Setelah berhasil menerima perintah "mengikat", sering berkedip LED internal dimulai pada unit daya. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Poin lain, kekuatan pemancar radio dengan daya U dari 3,3 V hingga 3,3 mW, dengan daya U dari 5 V hingga 5 mW. </font><font style="vertical-align: inherit;">Jarak maksimum ke unit daya adalah 70 m.</font></font><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tentang paket kontrol</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paket kontrol terdiri dari 12 byte: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ST, B0, B1, B2, B3, B4, B5, B6, B7, B8, CS, SP </font></font></b><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ST</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - byte awal, selalu 85 </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B0..B8</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - payload (perintah kontrol) </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - periksa jumlah. </font><font style="vertical-align: inherit;">Byte paling tidak </font><font style="vertical-align: inherit;">signifikan </font><font style="vertical-align: inherit;">dari jumlah 10 byte pertama (ST ke B8) </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SP</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - stop byte </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menurut instruksi, saya menuliskan byte kontrol yang saya butuhkan: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - perintah kontrol dengan nilai:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 - matikan beban</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 - hidupkan beban</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 - aktifkan atau matikan beban</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 - decoupling (mulai proses menghapus alamat dari memori unit daya)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15 - binding (catat alamat modul di unit daya)</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - alamat saluran (dari 0 hingga 31). </font><font style="vertical-align: inherit;">Hanya 32 saluran. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
byte lain secara default kecuali untuk checksum. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - mengatur mode transmisi modul. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika </font><font style="vertical-align: inherit;">nilai 80 (0x50) diteruskan </font><font style="vertical-align: inherit;">ke </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">B0,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> maka:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jumlah pengulangan - 2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bitrate 2-1000 bps</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mode 0 - mengirim perintah</font></font></li>
</ul><br>
<img src="https://habrastorage.org/files/034/067/d82/034067d8239e4139b06ce9408ce2d87f.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akibatnya, saya mengkompilasi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tabel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> seperti itu </font><font style="vertical-align: inherit;">dengan paket kontrol yang diperlukan untuk saya.</font></font><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penempatan pada panel listrik</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diputuskan untuk menginstal arus lemah di switchboard internal:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RPI dipasang pada rel DIN dengan melampirkan teman yang dicetak pada printer 3D</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modul MT1132 untuk mengontrol unit daya melalui udara</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dua ~ 220 soket pada DIN untuk koneksi unit catu daya router dan RPI</font></font></li>
</ul><br>
<img src="https://habrastorage.org/files/9ab/684/784/9ab6847847b94274ab95a4cdac7379b3.jpg"><br>
<a name="block3"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Debugging integrasi dan pemilihan pembungkus untuk manajemen</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prasyarat:</font></font></b><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RPI</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modul MT1132</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kabel dari ibu ke ibu untuk menghubungkan pin MT1132 dan RPI GPIO</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kartu SD dengan gambar RPI yang sudah diinstal sebelumnya</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akses ke SHELL (bash, csh, korn, dll.) RPI konsol (keyboard langsung atau jarak jauh melalui SSH)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">paket kontrol yang disiapkan</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perpustakaan untuk bekerja dengan UART melalui header GPIO di RPI</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat menyiapkan gambar, saya menangkap bug bawaan yang keren di Macbook Air sambil merekam gambar Raspbian-wheezy di bawah root (meskipun bagi saya ini adalah fitur - perlindungan penulisan tambahan, pikirkan kembali sebelum menimpa data):</font></font><br>
<pre><code class="bash hljs">dd bs=1m <span class="hljs-keyword">if</span>=2015-02-16-raspbian-wheezy.img of=/dev/disk2</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Konsol kembali:</font></font><br>
<pre><code class="bash hljs">dd: /dev/disk2: Permission denied </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan kunci yang dilepaskan pada kartu SD, di bawah root dan mod yang benar di / dev / disk2 .... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lalu saya menemukan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pertukaran pada topik ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , seseorang membantu meniup ke slot SD pada poppy, seseorang mendapat mesin slot. Mengalahkan macbook adalah pemborosan hari ini, dan sebagai hasilnya, sedikit celah membantu saya: jika kartu SD tidak sepenuhnya dimasukkan, semuanya akan berfungsi. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selama debugging, saya harus ke pertanian kolektif, karena tidak ada konektor ibu-ibu yang cocok. </font></font><br>
<img src="https://habrastorage.org/files/ebf/f89/c4f/ebff89c4f54a444da08cee2965451eda.jpg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menimbang bahwa saya memerlukan pembungkus untuk mengontrol unit daya melalui WEB, kemampuan untuk membuat permintaan REST di masa depan dan pustaka UART dari satu kotak - pilihan ada di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebIOPi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<img src="https://habrastorage.org/files/3da/fa4/85e/3dafa485e4fe44f8b9f0c0b7bfffc282.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Walaupun saya ingin membangun OpenHAB karena arsitekturnya yang keren. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Platform otomatisasi dijelaskan pada Habré</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya pasti akan menggunakan platform ini di masa depan, tetapi untuk sekarang, untuk "Daftar Keinginan" saya, platform yang dipilih sudah cukup.</font></font><br>
<a name="arch"></a><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arsitektur interaksi umum</font></font></h5><br>
<img src="https://habrastorage.org/files/ebb/55d/b61/ebb55db6163f476fb505ca4e498f2d7f.png"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menyiapkan WebIOPi minimum</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Menggunakan instruksi yang disediakan di situs web proyek:</font></font><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instal kerangka kerja WebIOPi dengan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mengikuti langkah-langkah ini</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalasi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menjalankan WebIOPi (Daemon)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mulai otomatis saat boot</font></font></li>
</ul><br>
 </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">konfigurasikan UART</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dengan mengubah 3 file: / etc / inittab, /boot/cmdline.txt, / etc / webiopi / config. </font><font style="vertical-align: inherit;">Langkah:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uart on-board</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurasi WebIOPi</font></font></li>
</ul><br>
 </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kami mereproduksi tindakan yang dijelaskan dalam bagian ini</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trik Serial Loopback (mengirim "string" ke diri kita sendiri melalui UART dan membaca antarmuka WEBIOPi di bagian Serial Monitor)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">video di bagian Serial Monitor menampilkan proses</font></font></li>
</ul><br>
 </li>
</ol><br>
<img src="https://habrastorage.org/files/39b/9d6/224/39b9d6224a214d16bb931577c750497c.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instal jumper untuk menguji loop UART. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menggunakan tabel yang sebelumnya dikompilasi dengan paket kontrol, kita akan menulis skrip Python sederhana untuk mengelola modul dari RPI SHELL.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Skrip RPI Shell untuk modul MT1132</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment">#!/usr/bin/python</span><font></font>
<span class="hljs-keyword">import</span> sys, getopt<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">main</span>(<span class="hljs-params">argv</span>):</span><font></font>
   ch = <span class="hljs-string">''</span><font></font>
   cmd = <span class="hljs-string">''</span><font></font>
   <span class="hljs-keyword">try</span>:<font></font>
      opts, args = getopt.getopt(argv,<span class="hljs-string">"h:"</span>,[<span class="hljs-string">"ch="</span>,<span class="hljs-string">"cmd="</span>])<font></font>
   <span class="hljs-keyword">except</span> getopt.GetoptError:<font></font>
      <span class="hljs-keyword">print</span> <span class="hljs-string">'mt1132.py --ch &lt;channel_number&gt; --cmd &lt;ON/OFF/BIND/UNBIND&gt;'</span><font></font>
      sys.exit(<span class="hljs-number">2</span>)<font></font>
   <span class="hljs-keyword">for</span> opt, arg <span class="hljs-keyword">in</span> opts:<font></font>
      <span class="hljs-keyword">if</span> opt == <span class="hljs-string">'-h'</span>:<font></font>
         <span class="hljs-keyword">print</span> <span class="hljs-string">'mt1132.py --ch &lt;channel_number&gt; --cmd &lt;ON/OFF/BIND/UNBIND&gt;'</span><font></font>
         sys.exit()<font></font>
      <span class="hljs-keyword">elif</span> opt <span class="hljs-keyword">in</span> (<span class="hljs-string">"--ch"</span>):<font></font>
         ch = arg<font></font>
      <span class="hljs-keyword">elif</span> opt <span class="hljs-keyword">in</span> (<span class="hljs-string">"--cmd"</span>):<font></font>
         cmd = arg<font></font>
   <span class="hljs-keyword">print</span> <span class="hljs-string">'Channel: '</span>, ch<font></font>
   <span class="hljs-keyword">print</span> <span class="hljs-string">'Command: '</span>, cmd<font></font>
   <span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'ON'</span> <span class="hljs-keyword">and</span> ch!=<span class="hljs-string">''</span>:<font></font>
        <span class="hljs-keyword">if</span> ch==<span class="hljs-string">'0'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 0'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a7</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'1'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 1'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x01</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a8</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'2'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 2'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a9</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'3'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 3'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x03</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00aa</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'4'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 4'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x04</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ab</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'5'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 5'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x05</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ac</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'6'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 6'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x06</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ad</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'7'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 7'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x07</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ae</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'8'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 8'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x08</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00af</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'9'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 9'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b0</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'10'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch ON channel 10'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x0a</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b1</span>, <span class="hljs-number">0x00aa</span>])<font></font>
   <span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'OFF'</span> <span class="hljs-keyword">and</span> ch!=<span class="hljs-string">''</span>:<font></font>
        <span class="hljs-keyword">if</span> ch==<span class="hljs-string">'0'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 0'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a5</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'1'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 1'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x01</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a6</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'2'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 2'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a7</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'3'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 3'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x03</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a8</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'4'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 4'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x04</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a9</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'5'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 5'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x05</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00aa</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'6'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 6'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x06</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ab</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'7'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 7'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x07</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ac</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'8'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 8'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x08</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ad</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'9'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 9'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ae</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'10'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'Switch OFF channel 10'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x0a</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ae</span>, <span class="hljs-number">0x00aa</span>])<font></font>
   <span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'BIND'</span> <span class="hljs-keyword">and</span> ch!=<span class="hljs-string">''</span>:<font></font>
        <span class="hljs-keyword">if</span> ch==<span class="hljs-string">'0'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 0'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b4</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'1'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 1'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x01</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b5</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'2'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 2'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b6</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'3'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 3'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x03</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b7</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'4'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 4'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x04</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b8</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'5'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 5'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x05</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b9</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'6'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 6'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x06</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ba</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'7'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 7'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x07</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00bb</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'8'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 8'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x08</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00bc</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'9'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 9'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00bd</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'10'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'BIND channel 10'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x0a</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00be</span>, <span class="hljs-number">0x00aa</span>])<font></font>
   <span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'UNBIND'</span> <span class="hljs-keyword">and</span> ch!=<span class="hljs-string">''</span>:<font></font>
        <span class="hljs-keyword">if</span> ch==<span class="hljs-string">'0'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 0'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ae</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'1'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 1'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x01</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00af</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'2'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 2'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b0</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'3'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 3'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x03</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b1</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'4'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 4'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x04</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b2</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'5'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 5'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x05</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b3</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'6'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 6'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x06</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b4</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'7'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 7'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x07</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b5</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'8'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 8'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x08</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b6</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'9'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 9'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b7</span>, <span class="hljs-number">0x00aa</span>])<font></font>
        <span class="hljs-keyword">elif</span> ch==<span class="hljs-string">'10'</span>:<font></font>
                <span class="hljs-keyword">print</span> <span class="hljs-string">'UNBIND channel 10'</span><font></font>
                serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x0a</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b8</span>, <span class="hljs-number">0x00aa</span>])<font></font>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:<font></font>
   main(sys.argv[<span class="hljs-number">1</span>:])<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengontrol MT1132 dari konsol shell, jalankan perintah berikut </font></font><br>
<pre><code class="bash hljs"><font></font>
mt1132.py --ch &lt;channel_number&gt; --cmd &lt;ON/OFF/BIND/UNBIND&gt;<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami kencangkan API REST</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Kerangka kerja WebIOPi menyediakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kontrol melalui permintaan HTTP dengan gaya REST</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang memfasilitasi pengikatan klien seluler dan menyederhanakan interaksi klien-server. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salin tempel kerangka REST API menggunakan tautan di atas:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dapatkan fungsi GPIO</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atur fungsi GPIO</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dapatkan nilai GPIO</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tetapkan nilai GPIO</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keluarkan satu pulsa</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Urutan bit output</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Output PWM dengan rasio siklus kerja</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Output PWM dengan sudut untuk servos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Panggil makro di server</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dapatkan status / konfigurasi GPIO lengkap</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kasus kami adalah "Panggil makro di server". </font><font style="vertical-align: inherit;">Uraiannya tidak berminyak, tetapi cukup untuk percobaan: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTTP POST / macro / (macro) / (args)</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengembalikan nilai yang dikembalikan oleh makro</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena (makro) belum disiapkan, kami akan memeriksa REST "Dapatkan status GPIO penuh / konfigurasi", dan untuk ini kita perlu membuat permintaan HTTP GET / *. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membuka Klien REST API, saya menggunakan klien DHC untuk browser Chrome. Kami mencoba melakukan permintaan REST untuk mendapatkan waktu saat ini. </font></font><br>
<img src="https://habrastorage.org/files/b21/fc2/c33/b21fc2c3392b49c6b4f3f36220f97268.png"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurasi WebIOPi (/ etc / webiopi / config) </font></font></b><br>
<img src="https://habrastorage.org/files/9c0/861/2fa/9c08612fa2024ef892a0e31b641c90e7.png"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di bagian [PERANGKAT]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambahkan perangkat </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">serial</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (UART GPIO) - ini adalah modul MT1132 kami, di mana </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ttyAMA0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah perangkat (port) yang dilihat oleh kernel Raspbian, </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">baudrate</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah kecepatan dalam Baud pertukaran informasi melalui antarmuka UART ini. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9600 baud / (8 + 1 bit awal + 1 stop bit) = 960 byte / s. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di bagian [SCRIPTS]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (skrip khusus):</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambahkan string </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myscrypt = /home/pi/smarthome/python/mt1132.py</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - untuk menghubungkan skrip kami ke framework. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di bagian [REST]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (pengaturan kontrol GPIO melalui API REST. Opsional): </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpio-post-value = false - melarang mengubah level RENDAH / TINGGI logis pada pin GPIO melalui permintaan REST; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gpio-post-function = false - melarang mengubah pengaturan IN / OUT pada pin GPIO melalui permintaan REST. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengaturan yang tersisa dibiarkan tidak berubah. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[COAP]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak menyentuh, memutuskan </font><b><font style="vertical-align: inherit;">koneksi</font></b><font style="vertical-align: inherit;"> . Sementara saya tidak tahu apa yang dimakan dan di mana itu digunakan. Saya mencatat hanya baris ini di kepala saya: oAP - adalah protokol transfer web khusus untuk digunakan dengan node terbatas dan jaringan terbatas di</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Internet of Things</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dirancang untuk aplikasi mesin-ke-mesin (M2M) seperti energi pintar dan otomatisasi bangunan. " </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mungkin di Habr seseorang membuka kasus penggunaan yang bermanfaat.</font></font><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tambahkan makro untuk permintaan REST ke skrip yang disiapkan sebelumnya.</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"># Channel 0	</span><font></font>
<span class="hljs-meta">@webiopi.macro	</span><font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">ch0</span>(<span class="hljs-params">cmd</span>):</span><font></font>
	<span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'on'</span>:<font></font>
		serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x02</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a7</span>, <span class="hljs-number">0x00aa</span>])<font></font>
		webiopi.sleep(<span class="hljs-number">1</span>)<font></font>
		resp = <span class="hljs-string">'Channel: 0, Cmd: '</span> + cmd + <span class="hljs-string">', Status: '</span> + serial.readString()<font></font>
	<span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'off'</span>:<font></font>
		serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00a5</span>, <span class="hljs-number">0x00aa</span>])<font></font>
		webiopi.sleep(<span class="hljs-number">1</span>)<font></font>
		resp = <span class="hljs-string">'Channel: 0, Cmd: '</span> + cmd + <span class="hljs-string">', Status: '</span> + serial.readString()<font></font>
	<span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'unbind'</span>:<font></font>
		serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x09</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00ae</span>, <span class="hljs-number">0x00aa</span>])<font></font>
		webiopi.sleep(<span class="hljs-number">1</span>)<font></font>
		resp = <span class="hljs-string">'Channel: 0, Cmd: '</span> + cmd + <span class="hljs-string">', Status: '</span> + serial.readString()<font></font>
	<span class="hljs-keyword">if</span> cmd==<span class="hljs-string">'bind'</span>:<font></font>
		serial.writeBytes([<span class="hljs-number">0x55</span>, <span class="hljs-number">0x50</span>, <span class="hljs-number">0x0f</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00b4</span>, <span class="hljs-number">0x00aa</span>])<font></font>
		webiopi.sleep(<span class="hljs-number">1</span>)<font></font>
		resp = <span class="hljs-string">'Channel: 0, Cmd: '</span> + cmd + <span class="hljs-string">', Status: '</span> + serial.readString()<font></font>
	<span class="hljs-keyword">return</span> resp <font></font>
</code></pre><br>
</div></div><br>
<h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menguji permintaan REST dengan makro</font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mengirim permintaan REST untuk "mengikat alamat saluran ke-3 NooLite MT1132 ke blok daya tempat pengikatan dimulai" melalui DHC. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika paket kontrol berhasil dikirim, modul MT1132 akan merespons melalui UART TX ke GPIO UART RX “OK”. </font><font style="vertical-align: inherit;">Jika berhasil, unit daya akan mengingat alamat saluran dan berkedip intens dengan LED hijau bawaan.</font></font><br>
<img src="https://habrastorage.org/files/ea3/e94/eb7/ea3e94eb7784412f8e909c7fb5af18a6.png"><br>
<a name="block5"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klien sederhana untuk Android</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Awalnya, saya tidak berencana untuk menulis aplikasi untuk Android, karena fakta bahwa saya tidak tahu, saya bermaksud membatasi diri ke browser. </font><font style="vertical-align: inherit;">Kemudian dia secara tidak sengaja berkeliaran di saluran </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mulai Android</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Penulis, Dmitry, menceritakan secara terperinci dengan Andryukha cara memulai proyek pertamanya dengan cepat di bawah platform Androyd. </font><font style="vertical-align: inherit;">Terima kasih banyak kepada penulis untuk proyek dan kerja kerasnya! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah menonton dan menyelesaikan tidak lebih dari dua puluh pelajaran, saya mulai membuat aplikasi kontrol pencahayaan sederhana saya. </font><font style="vertical-align: inherit;">Untuk pengembangan saya menggunakan IDE Android Studio, seperti yang diminta Google - berdasarkan IntelliJ IDEA. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antarmuka</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Hasilnya adalah antarmuka yang sangat asketis:</font></font><br>
<img src="https://habrastorage.org/files/771/334/b07/771334b07db9439381afe676f597f189.png"><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">main.xml SEBAGAIMANA ADANYA</font></font></b><div class="spoiler_text"><pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span><font></font><span class="hljs-tag">
    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span></span><font></font><span class="hljs-tag">
    <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl7"</span></span><font></font><span class="hljs-tag">
    <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"2dp"</span></span><font></font><span class="hljs-tag">
    <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"false"</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-comment">&lt;!-- --&gt;</span><font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"50dp"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1c1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"18sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"110dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl4"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/white"</span> /&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/white"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"18sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1c2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"120dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">" "</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl4"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/white"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"18sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1c3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"150dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl4"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>/&gt;</span><font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-comment">&lt;!--  --&gt;</span><font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"110dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/black"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"16sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/room1txt"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/room1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/holotheme_color"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textStyle</span>=<span class="hljs-string">"bold"</span> /&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"120dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center|top"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place1txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1switch1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place5txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1switch2"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place2txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1switch3"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"150dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1b1on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1b1off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1b2on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1b2off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1b3on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r1b3off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-comment">&lt;!--  --&gt;</span><font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"40dp"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"110dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"16sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/room2txt"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/room2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/holotheme_color"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/black"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textStyle</span>=<span class="hljs-string">"bold"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"120dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place1txt"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r2switch1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center|left"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"150dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r2b1on"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r2b1off"</span> /&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-comment">&lt;!--  --&gt;</span><font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"40dp"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"110dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"16sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/room3txt"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/room3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/black"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/holotheme_color"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textStyle</span>=<span class="hljs-string">"bold"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"120dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place1txt"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r3switch1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center|left"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"150dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r3b1on"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r3b1off"</span> /&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
<font></font>
    <span class="hljs-comment">&lt;!--    --&gt;</span><font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"110dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"16sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/room4txt"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/room4"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/holotheme_color"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/black"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textStyle</span>=<span class="hljs-string">"bold"</span> /&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"120dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"37dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place6txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4switch1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"37dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place8txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4switch3"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"37dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place7txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4switch2"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"150dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"37dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4b1on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4b1off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4b3on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4b3off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4b2on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r4b2off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
<font></font>
<font></font>
    <span class="hljs-comment">&lt;!--  --&gt;</span><font></font>
    <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
        <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"110dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"16sp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/room5txt"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/room5"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/black"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/holotheme_color"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:textStyle</span>=<span class="hljs-string">"bold"</span> /&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"120dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"2"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place3txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r5switch1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">"13sp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"37dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:textColor</span>=<span class="hljs-string">"@color/hl9"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:text</span>=<span class="hljs-string">"@string/place4txt"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r5switch2"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:padding</span>=<span class="hljs-string">"4dp"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center_vertical|left"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@drawable/hover1"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">"true"</span>/&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:background</span>=<span class="hljs-string">"@color/hl8"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"vertical"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"150dp"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"3"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">"center"</span></span><font></font><span class="hljs-tag">
            <span class="hljs-attr">android:layout_margin</span>=<span class="hljs-string">"1dp"</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"36dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r5b1on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r5b1off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
            <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">"horizontal"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"37dp"</span>&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r5b2on"</span> /&gt;</span><font></font>
                <span class="hljs-tag">&lt;<span class="hljs-name">Button</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">style</span>=<span class="hljs-string">"?android:attr/buttonStyleSmall"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">"wrap_content"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">"1"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">"match_parent"</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:text</span>=<span class="hljs-string">""</span></span><font></font><span class="hljs-tag">
                    <span class="hljs-attr">android:id</span>=<span class="hljs-string">"@+id/r5b2off"</span> /&gt;</span><font></font>
            <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
    <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
<font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Metode OnClick terikat ke tombol.</font></font><br>
<pre><code class="java hljs"><span class="hljs-meta">@Override</span><font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span><span class="hljs-params">(View v)</span> </span>{<font></font>
        <span class="hljs-comment">// define the button switch that invoked the listener by id</span><font></font>
        <span class="hljs-keyword">switch</span> (v.getId()) {<font></font>
            <span class="hljs-comment">// Buttons room1 </span><font></font>
            <span class="hljs-keyword">case</span> R.id.r1b1on: <span class="hljs-comment">// </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room1txt)+<span class="hljs-string">" &gt; "</span>+r1sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch4url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Switch mendefinisikan tampilan ID dari elemen tombol, menampilkan pesan TOAST di layar, dan membuat permintaan HTTP ke RPI melalui HttpURLConnection di dalam AsyncTask (panggil ParseTask (). Execute (); Execute (); </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interaksi dengan backend</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
HttpURLConnection - kelas untuk interaksi melalui protokol HTTP. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kelas AsyncTask metode doInBackground - melakukan tugas berat dalam aliran latar belakang yang terpisah dan mengembalikan hasilnya ke aliran UI. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HttpURLConnection dieksekusi dalam metode doInBackground. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teknik ini sering ditemukan di Internet untuk mengimplementasikan pertukaran data melalui protokol HTTP.</font></font><br>
<pre><code class="java hljs">webiopiurl = getString(R.string.ch4url) + <span class="hljs-string">"on"</span>;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengganti konstanta dari file strings.xml dalam sumber daya proyek</font></font><br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">string</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"ch4url"</span>&gt;</span>http://192.168.1.154:8000/macros/ch4/<span class="hljs-tag">&lt;/<span class="hljs-name">string</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi URL lengkap untuk mengaktifkan saluran 4 terlihat seperti ini</font></font><br>
<pre><code class="html hljs xml">http://192.168.1.154:8000/macros/ch4/on
</code></pre><br>
<pre><code class="java hljs"><span class="hljs-comment">// HTTP Query to backend in REST style</span><font></font>
    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ParseTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AsyncTask</span>&lt;<span class="hljs-title">Void</span>, <span class="hljs-title">Void</span>, <span class="hljs-title">String</span>&gt; </span>{<font></font>
        HttpURLConnection urlConnection = <span class="hljs-keyword">null</span>;<font></font>
        BufferedReader reader = <span class="hljs-keyword">null</span>;<font></font>
        String result = <span class="hljs-string">""</span>;<font></font>
        String BASIC_AUTH = <span class="hljs-string">"Basic "</span><font></font>
                + Base64.encodeToString((getString(R.string.login) + <span class="hljs-string">":"</span> + getString(R.string.pwd)).getBytes(), Base64.NO_WRAP);<font></font>
<font></font>
        <span class="hljs-meta">@Override</span><font></font>
        <span class="hljs-function"><span class="hljs-keyword">protected</span> String <span class="hljs-title">doInBackground</span><span class="hljs-params">(Void... params)</span> </span>{<font></font>
            <span class="hljs-comment">//    REST </span><font></font>
            <span class="hljs-keyword">try</span> {<font></font>
                URL url = <span class="hljs-keyword">new</span> URL(webiopiurl);<font></font>
                urlConnection = (HttpURLConnection) url.openConnection();<font></font>
                urlConnection.setRequestMethod(<span class="hljs-string">"POST"</span>);<font></font>
                urlConnection.setRequestProperty(<span class="hljs-string">"Authorization"</span>, BASIC_AUTH);<font></font>
                urlConnection.connect();<font></font>
                <span class="hljs-comment">//    backend webiopi</span><font></font>
                InputStream inputStream = urlConnection.getInputStream();<font></font>
                StringBuffer buffer = <span class="hljs-keyword">new</span> StringBuffer();<font></font>
                reader = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(inputStream));<font></font>
                String line;<font></font>
                <span class="hljs-keyword">while</span> ((line = reader.readLine()) != <span class="hljs-keyword">null</span>) {<font></font>
                    buffer.append(line);<font></font>
                }<font></font>
                result = buffer.toString();<font></font>
            } <span class="hljs-keyword">catch</span> (Exception e) {<font></font>
                e.printStackTrace();<font></font>
            }<font></font>
            <span class="hljs-keyword">return</span> result;<font></font>
        }<font></font>
</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kode MainActivity.java SEBAGAIMANA ADANYA</font></font></b><div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword">package</span> ru.bbq.smarthome_App;<font></font>
<font></font>
<span class="hljs-keyword">import</span> android.os.AsyncTask;<font></font>
<span class="hljs-keyword">import</span> android.os.Bundle;<font></font>
<span class="hljs-keyword">import</span> android.support.v7.app.ActionBarActivity;<font></font>
<span class="hljs-keyword">import</span> android.util.Base64;<font></font>
<span class="hljs-keyword">import</span> android.util.Log;<font></font>
<span class="hljs-keyword">import</span> android.view.View;<font></font>
<span class="hljs-keyword">import</span> android.widget.Button;<font></font>
<span class="hljs-keyword">import</span> android.widget.TextView;<font></font>
<span class="hljs-keyword">import</span> android.widget.Toast;<font></font>
<font></font>
<span class="hljs-keyword">import</span> java.io.BufferedReader;<font></font>
<span class="hljs-keyword">import</span> java.io.InputStream;<font></font>
<span class="hljs-keyword">import</span> java.io.InputStreamReader;<font></font>
<span class="hljs-keyword">import</span> java.net.HttpURLConnection;<font></font>
<span class="hljs-keyword">import</span> java.net.URL;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ActionBarActivity</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">View</span>.<span class="hljs-title">OnClickListener</span> </span>{<font></font>
    <span class="hljs-comment">// Add logger</span><font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String LOG_TAG = <span class="hljs-string">"my_log"</span>;<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String webiopiurl = <span class="hljs-string">""</span>;<font></font>
    <span class="hljs-comment">// switch buttons</span><font></font>
    TextView r1sw1;<font></font>
    TextView r1sw2;<font></font>
    TextView r1sw3;<font></font>
    TextView r2sw1;<font></font>
    TextView r3sw1;<font></font>
    TextView r4sw1;<font></font>
    TextView r4sw2;<font></font>
    TextView r4sw3;<font></font>
    TextView r5sw1;<font></font>
    TextView r5sw2;<font></font>
    <span class="hljs-comment">// ON OFF buttons</span><font></font>
    Button r1b1on;<font></font>
    Button r1b1off;<font></font>
    Button r1b2on;<font></font>
    Button r1b2off;<font></font>
    Button r1b3on;<font></font>
    Button r1b3off;<font></font>
    Button r2b1on;<font></font>
    Button r2b1off;<font></font>
    Button r3b1on;<font></font>
    Button r3b1off;<font></font>
    Button r4b1on;<font></font>
    Button r4b1off;<font></font>
    Button r4b2on;<font></font>
    Button r4b2off;<font></font>
    Button r4b3on;<font></font>
    Button r4b3off;<font></font>
    Button r5b1on;<font></font>
    Button r5b1off;<font></font>
    Button r5b2on;<font></font>
    Button r5b2off;<font></font>
    <span class="hljs-meta">@Override</span><font></font>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> </span>{<font></font>
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState);<font></font>
        setContentView(R.layout.main);<font></font>
        <span class="hljs-comment">// find View-elements and buttons</span><font></font>
        r1sw1 = (TextView) findViewById(R.id.r1switch1); <span class="hljs-comment">// room1switch1</span><font></font>
        r1sw2 = (TextView) findViewById(R.id.r1switch2); <span class="hljs-comment">// room1switch2</span><font></font>
        r1sw3 = (TextView) findViewById(R.id.r1switch3); <span class="hljs-comment">// room1switch3</span><font></font>
        r2sw1 = (TextView) findViewById(R.id.r2switch1); <span class="hljs-comment">// room2switch1</span><font></font>
        r3sw1 = (TextView) findViewById(R.id.r3switch1); <span class="hljs-comment">// room3switch1</span><font></font>
        r4sw1 = (TextView) findViewById(R.id.r4switch1); <span class="hljs-comment">// room4switch1</span><font></font>
        r4sw2 = (TextView) findViewById(R.id.r4switch2); <span class="hljs-comment">// room4switch2</span><font></font>
        r4sw3 = (TextView) findViewById(R.id.r4switch3); <span class="hljs-comment">// room4switch3</span><font></font>
        r5sw1 = (TextView) findViewById(R.id.r5switch1); <span class="hljs-comment">// room5switch1</span><font></font>
        r5sw2 = (TextView) findViewById(R.id.r5switch2); <span class="hljs-comment">// room5switch2</span><font></font>
        r1b1on = (Button) findViewById(R.id.r1b1on);    <span class="hljs-comment">// room1 button1 ON</span><font></font>
        r1b1off = (Button) findViewById(R.id.r1b1off);  <span class="hljs-comment">// room1 button1 OFF</span><font></font>
        r1b2on = (Button) findViewById(R.id.r1b2on);    <span class="hljs-comment">// room1 button2 ON</span><font></font>
        r1b2off = (Button) findViewById(R.id.r1b2off);  <span class="hljs-comment">// room1 button2 OFF</span><font></font>
        r1b3on = (Button) findViewById(R.id.r1b3on);    <span class="hljs-comment">// room1 button3 ON</span><font></font>
        r1b3off = (Button) findViewById(R.id.r1b3off);  <span class="hljs-comment">// room1 button3 OFF</span><font></font>
        r2b1on = (Button) findViewById(R.id.r2b1on);    <span class="hljs-comment">// room2 button1 ON</span><font></font>
        r2b1off = (Button) findViewById(R.id.r2b1off);  <span class="hljs-comment">// room2 button1 OFF</span><font></font>
        r3b1on = (Button) findViewById(R.id.r3b1on);    <span class="hljs-comment">// room3 button1 ON</span><font></font>
        r3b1off = (Button) findViewById(R.id.r3b1off);  <span class="hljs-comment">// room3 button1 OFF</span><font></font>
        r4b1on = (Button) findViewById(R.id.r4b1on);    <span class="hljs-comment">// room4 button1 ON</span><font></font>
        r4b1off = (Button) findViewById(R.id.r4b1off);  <span class="hljs-comment">// room4 button1 OFF</span><font></font>
        r4b2on = (Button) findViewById(R.id.r4b2on);    <span class="hljs-comment">// room4 button2 ON</span><font></font>
        r4b2off = (Button) findViewById(R.id.r4b2off);  <span class="hljs-comment">// room4 button2 OFF</span><font></font>
        r4b3on = (Button) findViewById(R.id.r4b3on);    <span class="hljs-comment">// room4 button3 ON</span><font></font>
        r4b3off = (Button) findViewById(R.id.r4b3off);  <span class="hljs-comment">// room4 button3 OFF</span><font></font>
        r5b1on = (Button) findViewById(R.id.r5b1on);    <span class="hljs-comment">// room5 button1 ON</span><font></font>
        r5b1off = (Button) findViewById(R.id.r5b1off);  <span class="hljs-comment">// room5 button1 OFF</span><font></font>
        r5b2on = (Button) findViewById(R.id.r5b2on);    <span class="hljs-comment">// room5 button2 ON</span><font></font>
        r5b2off = (Button) findViewById(R.id.r5b2off);  <span class="hljs-comment">// room5 button2 OFF</span><font></font>
<font></font>
        <span class="hljs-comment">//assign listeners to buttons</span><font></font>
        r1b1on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r1b1off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r1b2on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r1b2off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r1b3on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r1b3off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r2b1on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r2b1off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r3b1on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r3b1off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r4b1on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r4b1off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r4b2on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r4b2off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r4b3on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r4b3off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r5b1on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r5b1off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r5b2on.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
        r5b2off.setOnClickListener(<span class="hljs-keyword">this</span>);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">// Define On ClickView method</span><font></font>
    <span class="hljs-meta">@Override</span><font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onClick</span><span class="hljs-params">(View v)</span> </span>{<font></font>
        <span class="hljs-comment">// define the button switch that invoked the listener by id</span><font></font>
        <span class="hljs-keyword">switch</span> (v.getId()) {<font></font>
            <span class="hljs-comment">// Buttons room1 </span><font></font>
            <span class="hljs-keyword">case</span> R.id.r1b1on: <span class="hljs-comment">// </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room1txt)+<span class="hljs-string">" &gt; "</span>+r1sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch4url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r1b1off: <span class="hljs-comment">// </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room1txt)+<span class="hljs-string">" &gt; "</span>+r1sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch4url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r1b2on: <span class="hljs-comment">//  </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room1txt)+<span class="hljs-string">" &gt; "</span>+r1sw2.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch3url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r1b2off: <span class="hljs-comment">//  </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room1txt)+<span class="hljs-string">" &gt; "</span>+r1sw2.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch3url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r1b3on: <span class="hljs-comment">// LED </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room1txt)+<span class="hljs-string">" &gt; "</span>+r1sw3.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch2url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r1b3off: <span class="hljs-comment">// LED </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room1txt)+<span class="hljs-string">" &gt; "</span>+r1sw3.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch2url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-comment">// Buttons room2 </span><font></font>
            <span class="hljs-keyword">case</span> R.id.r2b1on:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room2txt)+<span class="hljs-string">" &gt; "</span>+r2sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch6url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r2b1off:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room2txt)+<span class="hljs-string">" &gt; "</span>+r2sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch6url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-comment">// Buttons room3 </span><font></font>
            <span class="hljs-keyword">case</span> R.id.r3b1on:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room3txt)+<span class="hljs-string">" &gt; "</span>+r3sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch5url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r3b1off:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room3txt)+<span class="hljs-string">" &gt; "</span>+r3sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch5url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-comment">// Buttons room4 bedroom</span><font></font>
            <span class="hljs-keyword">case</span> R.id.r4b1on: <span class="hljs-comment">//    </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room4txt)+<span class="hljs-string">" &gt; "</span>+r4sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch8url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r4b1off: <span class="hljs-comment">//    </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room4txt)+<span class="hljs-string">" &gt; "</span>+r4sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch8url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r4b2on: <span class="hljs-comment">//    </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room4txt)+<span class="hljs-string">" &gt; "</span>+r4sw2.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch7url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r4b2off: <span class="hljs-comment">//    </span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room4txt)+<span class="hljs-string">" &gt; "</span>+r4sw2.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch7url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r4b3on: <span class="hljs-comment">//   dimmer</span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room4txt)+<span class="hljs-string">" &gt; "</span>+r4sw3.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch9url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r4b3off: <span class="hljs-comment">//   dimmer</span><font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room4txt)+<span class="hljs-string">" &gt; "</span>+r4sw3.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch9url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-comment">// Buttons room5 corridor</span><font></font>
            <span class="hljs-keyword">case</span> R.id.r5b1on:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room5txt)+<span class="hljs-string">" &gt; "</span>+r5sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch1url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r5b1off:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room5txt)+<span class="hljs-string">" &gt; "</span>+r5sw1.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch1url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r5b2on:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.bon)+<span class="hljs-string">" '"</span>+getString(R.string.room5txt)+<span class="hljs-string">" &gt; "</span>+r5sw2.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch0url) + <span class="hljs-string">"on"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
            <span class="hljs-keyword">case</span> R.id.r5b2off:<font></font>
                Toast.makeText(<span class="hljs-keyword">this</span>, getString(R.string.boff)+<span class="hljs-string">" '"</span>+getString(R.string.room5txt)+<span class="hljs-string">" &gt; "</span>+r5sw2.getText()+<span class="hljs-string">"'"</span>, Toast.LENGTH_SHORT).show();<font></font>
                webiopiurl = getString(R.string.ch0url) + <span class="hljs-string">"off"</span>;<font></font>
                <span class="hljs-keyword">new</span> ParseTask().execute();<font></font>
                <span class="hljs-keyword">break</span>;<font></font>
        }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">// HTTP Query to backend in REST style</span><font></font>
    <span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ParseTask</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AsyncTask</span>&lt;<span class="hljs-title">Void</span>, <span class="hljs-title">Void</span>, <span class="hljs-title">String</span>&gt; </span>{<font></font>
        HttpURLConnection urlConnection = <span class="hljs-keyword">null</span>;<font></font>
        BufferedReader reader = <span class="hljs-keyword">null</span>;<font></font>
        String result = <span class="hljs-string">""</span>;<font></font>
        String BASIC_AUTH = <span class="hljs-string">"Basic "</span><font></font>
                + Base64.encodeToString((getString(R.string.login) + <span class="hljs-string">":"</span> + getString(R.string.pwd)).getBytes(), Base64.NO_WRAP);<font></font>
        <span class="hljs-meta">@Override</span><font></font>
        <span class="hljs-function"><span class="hljs-keyword">protected</span> String <span class="hljs-title">doInBackground</span><span class="hljs-params">(Void... params)</span> </span>{<font></font>
            <span class="hljs-comment">//    REST </span><font></font>
            <span class="hljs-keyword">try</span> {<font></font>
                URL url = <span class="hljs-keyword">new</span> URL(webiopiurl);<font></font>
                urlConnection = (HttpURLConnection) url.openConnection();<font></font>
                urlConnection.setRequestMethod(<span class="hljs-string">"POST"</span>);<font></font>
                urlConnection.setRequestProperty(<span class="hljs-string">"Authorization"</span>, BASIC_AUTH);<font></font>
                urlConnection.connect();<font></font>
                <span class="hljs-comment">//    backend webiopi</span><font></font>
                InputStream inputStream = urlConnection.getInputStream();<font></font>
                StringBuffer buffer = <span class="hljs-keyword">new</span> StringBuffer();<font></font>
                reader = <span class="hljs-keyword">new</span> BufferedReader(<span class="hljs-keyword">new</span> InputStreamReader(inputStream));<font></font>
                String line;<font></font>
                <span class="hljs-keyword">while</span> ((line = reader.readLine()) != <span class="hljs-keyword">null</span>) {<font></font>
                    buffer.append(line);<font></font>
                }<font></font>
                result = buffer.toString();<font></font>
            } <span class="hljs-keyword">catch</span> (Exception e) {<font></font>
                e.printStackTrace();<font></font>
            }<font></font>
            <span class="hljs-keyword">return</span> result;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-meta">@Override</span><font></font>
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onPostExecute</span><span class="hljs-params">(String str)</span> </span>{<font></font>
            <span class="hljs-keyword">super</span>.onPostExecute(str);<font></font>
            <span class="hljs-comment">//  ,    plain text ( JSON)</span><font></font>
            <span class="hljs-comment">//    log</span><font></font>
            Log.d(LOG_TAG, str);<font></font>
            <span class="hljs-comment">//  TOAST -   webiopi     MT1132</span><font></font>
            Toast.makeText(getApplicationContext(), str, Toast.LENGTH_SHORT).show();<font></font>
        }<font></font>
    }<font></font>
<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<a name="block4"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Temukan dan beli sakelar yang cocok untuk kendali jarak jauh</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berdasarkan skenario pencahayaan, proyek ini menggunakan keyboard NooLite dan tombol / built-in yang stasioner, perlu untuk menyediakan kemampuan untuk menginstal switch dengan tiga modul (tombol / tombol), menjaga desain switch (semua switch harus terlihat sama). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat memilih sakelar, pertimbangkan kemungkinan:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pemasangan dua hingga tiga modul untuk mendukung sakelar</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pemasangan modul tombol dan keyboard</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saklar lampu hidup bticino cocok untuk kondisi ini. </font><font style="vertical-align: inherit;">Pada foto di bawah ini, modul yang dirakit dengan remote control NooLite. </font></font><br>
<img src="https://habrastorage.org/files/f6e/6b0/d1a/f6e6b0d1a7b9428cbba0d6e6670c1cb9.jpg"><br>
<img src="https://habrastorage.org/files/57d/47e/4f9/57d47e4f9b90491980fa5cff309ec226.jpg"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unit daya di langit-langit selama debugging, debugging </font></font></b> <br>
<img src="https://habrastorage.org/files/d08/495/843/d08495843ec84300bc851d70e0b011ab.jpg"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di tempat, </font></font></b><br>
<img src="https://habrastorage.org/files/ceb/2c6/51a/ceb2c651a47145a2b51daab51abb32d6.png"><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">panel listrik dengan arus lemah terletak di dalam,</font></font></b><br>
<img src="https://habrastorage.org/files/128/1f8/00a/1281f800ac6e40dd829cdde1e7b7f3cf.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
terima kasih atas perhatian Anda. </font><font style="vertical-align: inherit;">Semoga harimu menyenangkan!</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/id382689/">https://habr.com/ru/post/id382689/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id382677/index.html">Internet Hal-Hal Saya: Kastil Tamu (Bagian 2)</a></li>
<li><a href="../id382679/index.html">Para astronom dapat mengambil gambar danau lava di permukaan Io, satelit Jupiter</a></li>
<li><a href="../id382681/index.html">5 jam pendekatan Soyuz ke ISS - dalam setengah menit video di YouTube</a></li>
<li><a href="../id382685/index.html">Lihatlah ke luar cakrawala</a></li>
<li><a href="../id382687/index.html">Para ilmuwan CERN sedang mempersiapkan "medan gaya" untuk melindungi astronot dari radiasi</a></li>
<li><a href="../id382693/index.html">Satelit Roskosmos METEOR-M2 jatuh [perangkat dipulihkan]</a></li>
<li><a href="../id382695/index.html">Penggabungan Umum</a></li>
<li><a href="../id382697/index.html">Realitas Virtual dan Pasar Konsumen</a></li>
<li><a href="../id382699/index.html">Perpustakaan Inggris meminta bantuan untuk menguraikan ukiran pada pedang abad ke-13</a></li>
<li><a href="../id382701/index.html">Dalam film "John Wick" akan membuat penembak orang pertama untuk kacamata VR</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>