<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßïüèø üòæ üç£ Comment dupliquer les objectifs de Yandex.Metrica dans Google Analytics ü§òüèæ üë∞üèø üôçüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Que dois-je faire si vous d√©finissez un grand nombre d'objectifs dans Yandex.Metrica via Google Tag Manager (GTM) et que vous devez d'urgence transf√©r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Comment dupliquer les objectifs de Yandex.Metrica dans Google Analytics</h1><div class="post__body post__body_full"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458328/"> Que dois-je faire si vous d√©finissez un grand nombre d'objectifs dans Yandex.Metrica via Google Tag Manager (GTM) et que vous devez d'urgence transf√©rer ces objectifs en tant qu'√©v√©nements vers Google Analytics (GA)?  Bien s√ªr, vous pouvez reconfigurer chaque balise pour envoyer des √©v√©nements √† GA et √† Metric en parall√®le, mais s'il y a beaucoup d'objectifs dans Metric, cela prendra du temps. <br><br>  La situation inverse est possible lorsque les objectifs n'ont pas √©t√© d√©finis par vous, mais par les d√©veloppeurs dans le code du site lui-m√™me.  Et vous, en tant qu'analyste d'une entreprise, devez configurer l'envoi des m√™mes √©v√©nements √† GA, et vous n'avez que GTM √† port√©e de main.  Dans ce cas, m√™me avec un petit nombre d'objectifs, des difficult√©s peuvent survenir.  Les d√©clencheurs d'√©v√©nements dans GTM devront √™tre personnalis√©s autant que possible afin que les objectifs dans Metric et les √©v√©nements dans GA suivent la m√™me logique, et qu'il n'y ait pas de diff√©rences significatives dans les diff√©rents syst√®mes d'analyse. <br><br>  Dans les deux cas, plus d'une heure devra √™tre consacr√©e √† tout ajuster manuellement.  Mais vous pouvez trouver une option plus pratique.  Il existe une fonction qui vous permet d'intercepter l'envoi de cibles √† la m√©trique et d'envoyer simultan√©ment des push √† la couche de donn√©es.  Ainsi, vous n'aurez pas besoin de vous rappeler ou de comprendre comment l'envoi de cibles vers Yandex.Metrica a √©t√© configur√© - utilisez simplement la fonction souhait√©e.  La version de travail de la fonction d√©pendra de la version du compteur Yandex.Metrica que vous avez install√©e. <br><a name="habracut"></a><br><h3>  Comment distinguer un nouveau compteur m√©trique d'un ancien </h3><br>  Pour d√©terminer la version de travail d'une fonction, vous devez comprendre quelle version du compteur est install√©e sur votre site. <br><br>  Si votre compteur a √©t√© install√© plus t√¥t le 12/10/2018 et n'a pas √©t√© mis √† jour plus tard, alors vous avez une ancienne version: <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> &gt;</span></span><span class="javascript"><span class="javascript"> (</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">d, w, c</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ (w[c] = w[c] || []).push(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">try</span></span></span><span class="javascript"> { w.yaCounterXXXXXXXX = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">new</span></span></span><span class="javascript"> Ya.Metrika({ </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">id</span></span></span><span class="javascript">: XXXXXXXX, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">clickmap</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">trackLinks</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">accurateTrackBounce</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">webvisor</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript"> }); } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">catch</span></span></span><span class="javascript"> (e) {} }); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> n = d.getElementsByTagName(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"script"</span></span></span><span class="javascript">)[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">], s = d.createElement(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"script"</span></span></span><span class="javascript">), f = </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ n.parentNode.insertBefore(s, n); }; s.type = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"text/javascript"</span></span></span><span class="javascript">; s.async = </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">; s.src = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"https://mc.yandex.ru/metrika/watch.js"</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript"> (w.opera == </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"[object Opera]"</span></span></span><span class="javascript">) { d.addEventListener(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"DOMContentLoaded"</span></span></span><span class="javascript">, f, </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript">); } </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">else</span></span></span><span class="javascript"> { f(); })(</span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">, </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"yandex_metrika_callbacks"</span></span></span><span class="javascript">); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  o√π: <br><br>  <b>XXXXXXXX</b> est votre num√©ro de compteur. <br><blockquote>  w.yaCounterXXXXXXXX dans le code indique clairement qu'il s'agit de l'ancienne version du compteur. <br></blockquote>  Un exemple d'envoi d'une cible dans un ancien compteur: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> yaCounterXXXXXXXX.reachGoal(</span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'TARGET_NAME'</span></span></span><span class="actionscript">); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  o√π: <br><br>  <b>XXXXXXXX</b> - votre num√©ro de compteur; <br>  <b>TARGET_NAME</b> est l'identifiant de la cible. <br><br>  Une nouvelle version du compteur est apparue le 12/10/2018. <br><br>  Cela ressemble √† ceci: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> &gt;</span></span><span class="javascript"><span class="javascript"> (</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">m, e, t, r, i, k, a</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ m[i] = m[i] || </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ (m[i].a = m[i].a || []).push(</span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">arguments</span></span></span><span class="javascript">) }; m[i].l = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1</span></span></span><span class="javascript"> * </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">new</span></span></span><span class="javascript"> </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">Date</span></span></span><span class="javascript">(); k = e.createElement(t), a = e.getElementsByTagName(t)[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">], k.async = </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">1</span></span></span><span class="javascript">, k.src = r, a.parentNode.insertBefore(k, a) })(</span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">window</span></span></span><span class="javascript">, </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"script"</span></span></span><span class="javascript">, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"https://mc.yandex.ru/metrika/tag.js"</span></span></span><span class="javascript">, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"ym"</span></span></span><span class="javascript">); ym(XXXXXXXX, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">"init"</span></span></span><span class="javascript">, { </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">clickmap</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">trackLinks</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">accurateTrackBounce</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">webvisor</span></span></span><span class="javascript">: </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">true</span></span></span><span class="javascript"> }); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  o√π: <br><br>  <b>XXXXXXXX</b> est votre num√©ro de compteur. <br><blockquote>  ym (XXXXXXXX dans le code indique clairement qu'il s'agit de la nouvelle version du compteur. </blockquote>  Exemple d'envoi d'une cible dans un nouveau compteur: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> ym(XXXXXX, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'reachGoal'</span></span></span><span class="actionscript">, </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'TARGET_NAME'</span></span></span><span class="actionscript">); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  o√π: <br><br>  <b>XXXXXXXX</b> - votre num√©ro de compteur; <br>  <b>TARGET_NAME</b> est l'identifiant de la cible. <br><br><h3>  Fonction pour l'ancienne version de Yandex.Metrica </h3><br>  Si vous avez une ancienne version du compteur Yandex.Metrica install√©e (voir ci-dessus), la fonction d'interception des cibles d'envoi ressemblera √† ceci: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">mainTagFunction</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">reachGoal</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ yaCounterXXXXXXXX.reachGoal = </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> param = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">arguments</span></span></span><span class="javascript">[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">]; reachGoal.apply(</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">this</span></span></span><span class="javascript">, </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">arguments</span></span></span><span class="javascript">); </span><span class="hljs-comment"><span class="javascript"><span class="hljs-comment">//     dataLayer.push({ 'event': 'metrika', 'event_param': param }); }; } var yCounter = 0; function ySearch() { if (window.yaCounterXXXXXXXX) mainTagFunction(yaCounterXXXXXXXX.reachGoal); else { if (yCounter &lt; 100) { setTimeout(ySearch, 100); yCounter++; } else console.log(' .  '); } } ySearch(); </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  o√π: <br><br>  <b>XXXXXXXX</b> - votre num√©ro de compteur; <br><br>  Le code est d√©clench√© √† chaque appel de la fonction yaCounterXXXXXXXXX avec la m√©thode reachGoal.  La fonction fait un push dans le dataLayer, lors du push, le nom de l'√©v√©nement (metrika) et le param√®tre sont transmis, l'identifiant de la cible est pass√© dans le param√®tre. <br><br><h3>  Fonction pour la nouvelle version de Yandex.Metrica </h3><br>  Si une nouvelle version du compteur Yandex.Metrica est install√©e, la fonction d'interception des cibles d'envoi est la suivante: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-function"><span class="hljs-keyword"><span class="actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="actionscript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="actionscript"><span class="hljs-function"><span class="hljs-title">func</span></span></span></span><span class="actionscript"><span class="hljs-function"> </span></span><span class="hljs-params"><span class="actionscript"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span></span><span class="actionscript">{ </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">//   var yCounter = 0; //   . function ySearch(){ if (window.ym){ window.zm = window.ym; mainTagFunction(); }else if (yCounter &lt; 100){ setTimeout(ySearch, 100); yCounter++; }else console.log(' .  '); } //  function mainTagFunction(){ window.ym = function(){ window.zm.a.push(arguments); if (arguments[1] === 'reachGoal') dataLayer.push({ 'event': 'metrika', 'event_param': arguments[2] }); }; } //  ySearch(); }; setTimeout(func, 1000); </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Il fonctionne chaque fois que la fonction ym () est appel√©e, et si la m√©thode <b>reachgoal a</b> √©t√© appel√©e, elle envoie un push √† dataLayer.  Le nom de l'√©v√©nement (metrika) et le param√®tre sont pass√©s au dataLayer, l'identifiant de la cible est pass√© au param√®tre event_param. <br><br><h3>  Configurer l'envoi d'√©v√©nements √† GA via GTM </h3><br>  Afin de configurer GTM pour envoyer des √©v√©nements avec les objectifs de la m√©trique dans GA, vous devez: <br><br>  1. Cr√©ez un d√©clencheur " <b>Afficher la page - DOM mod√®le pr√™t</b> ", vous pouvez √©galement sp√©cifier sur quelles pages vous souhaitez dupliquer les objectifs de Metric dans GA <br><br><img src="https://habrastorage.org/webt/e3/kg/-j/e3kg-jcklhzz5wpnltwhxjxqzdg.png"><br><br>  2. Cr√©ez une <b>balise</b> ¬´ <b>HTML personnalis√©</b> ¬ª et ins√©rez-y le code de fonction souhait√©.  Un d√©clencheur cr√©√© pr√©c√©demment est install√© sur cette balise. <br><br><img src="https://habrastorage.org/webt/hw/e4/rq/hwe4rqvxcd6jhqhl7kdx4vx3ppw.png"><br><br>  3. Cr√©ez un d√©clencheur ¬´ <b>√âv√©nement personnalis√©</b> ¬ª avec le nom d'√©v√©nement metrika. <br><br><img src="https://habrastorage.org/webt/nt/-_/mm/nt-_mmswakvog6y4dhrwgjz13ag.png"><br><br>  4. Cr√©ez une variable " <b>Data level variable</b> " avec un nom comme indiqu√© dans l'exemple: <br><br><img src="https://habrastorage.org/webt/pi/y2/ft/piy2ftold0soogxxppce_tuwxgg.png"><br><br>  5. Cr√©ez une balise ¬´ <b>Google Analytics - Universal Analytics</b> ¬ª avec un d√©clencheur et une variable cr√©√©s pr√©c√©demment. <br><br><img src="https://habrastorage.org/webt/33/o7/fa/33o7fayg2zrj4eb8es6m69qbs1m.png"><br><br>  o√π: <br><br>  <b>UA-XXXXXXXX-XX</b> - votre num√©ro de compteur Google Analytics <br><br>  6. Publiez le conteneur GTM. <br><br><img src="https://habrastorage.org/webt/my/xa/kg/myxakg2xydyr0tleuancksvnoqm.png"><br><br>  Avec ces param√®tres, Google Analytics recevra des √©v√©nements avec la cat√©gorie de l'√©v√©nement - Metrika, et les actions pour ces √©v√©nements seront les identifiants des objectifs de Yandex.Metrica. <br><br><img src="https://habrastorage.org/webt/pf/ne/ee/pfneeebnbknnxjuascxwchfvtbc.png"><br><br><h3>  V√©rifier les param√®tres </h3><br>  Pour v√©rifier l'exactitude des param√®tres d'envoi d'√©v√©nements √† GA, vous devez entrer le code suivant dans la console de votre navigateur: <br><br>  a) Pour le nouveau compteur m√©trique <br><br><pre> <code class="javascript hljs">ym(XXXXXX, <span class="hljs-string"><span class="hljs-string">'reachGoal'</span></span>, <span class="hljs-string"><span class="hljs-string">'TARGET_NAME'</span></span>)</code> </pre> <br>  o√π: <br><br>  <b>XXXXXXXX</b> - le num√©ro de votre compteur dans Yandex.Metrica. <br><br>  b) Pour l'ancien compteur m√©trique <br><br><pre> <code class="javascript hljs">yaCounterXXXXXXXX.reachGoal(<span class="hljs-string"><span class="hljs-string">'TARGET_NAME'</span></span>);</code> </pre> <br>  o√π: <br><br>  <b>XXXXXXXX</b> - le num√©ro de votre compteur dans Yandex.Metrica. <br><br>  La console de chaque navigateur s'ouvre √† sa mani√®re, par exemple, pour Chrome, la console s'ouvre avec la combinaison de <b>touches Ctrl + Maj + j</b> : <br><br><img src="https://habrastorage.org/webt/d8/-u/b1/d8-ub114bjwr5ca7pccnzkpwl-y.png"><br><br>  Apr√®s avoir appuy√© sur Entr√©e, votre √©v√©nement devrait aller non seulement √† Metric, mais aussi √† GA. <br><br>  Pour le v√©rifier, ouvrez le rapport ¬´√âv√©nements¬ª dans la section ¬´ <b>En temps r√©el</b> ¬ª: <br><br><img src="https://habrastorage.org/webt/el/tf/7c/eltf7c1lb7geeb4okpr0oxn9r88.png"><br><br>  Si tout a √©t√© configur√© correctement, vous verrez une ligne avec les valeurs Metrika et TARGET_NAME. <br><br>  F√©licitations, vous avez configur√© le transfert des objectifs de Metric vers Google Analytics! <br><br>  <i>Du mat√©riel a √©t√© pr√©par√© pour le portail Cossa.</i> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr458328/">https://habr.com/ru/post/fr458328/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr458310/index.html">Collecter des m√©triques √† partir d'applications .NET √† l'aide de Telegraf</a></li>
<li><a href="../fr458312/index.html">Android Academy √† Moscou: cours avanc√©</a></li>
<li><a href="../fr458316/index.html">Yandex Retro Games Battle 2019 - d√©veloppement de jeux pour ZX Spectrum</a></li>
<li><a href="../fr458324/index.html">Tout ce dont vous avez besoin pour commencer avec Vue.js</a></li>
<li><a href="../fr458326/index.html">Yandex ouvre des ensembles de donn√©es Toloka pour les chercheurs</a></li>
<li><a href="../fr458330/index.html">Il n'y a pas de limite √† la perfection: comment les interfaces neuronales aident l'humanit√©</a></li>
<li><a href="../fr458332/index.html">Programmation asynchrone - performances asynchrones: comprendre les co√ªts de l'async et attendre</a></li>
<li><a href="../fr458334/index.html">R√©plication continue de l'ancien vers le nouveau PostgreSQL avec Slony</a></li>
<li><a href="../fr458336/index.html">Le cycle complet de d√©veloppement de produits informatiques en utilisant l'exemple de projet: r√¥les d'√©quipe, t√¢ches client, √©tapes</a></li>
<li><a href="../fr458338/index.html">Gestionnaire de s√©curit√© des applications. D√©veloppeur ou s√©curit√©?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>