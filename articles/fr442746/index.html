<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏷️ 👨🏾‍🌾 💿 Fool App pour le Windows Store 🏴󠁧󠁢󠁷󠁬󠁳󠁿 🍦 👨🏾‍⚖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Paul Cezanne, joueurs de cartes 

 Il était une fois, dans Windows 95, il y avait un jeu Microsoft Hearts. Jouer aux cartes en ligne, avec des adversa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>Fool App pour le Windows Store</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/442746/"><img src="https://habrastorage.org/webt/7x/g3/iz/7xg3izubdk1ga_uynaprmjeeyuc.jpeg"><br>  <i>Paul Cezanne, joueurs de cartes</i> <br><br>  Il était une fois, dans Windows 95, il y avait un jeu Microsoft Hearts.  Jouer aux cartes en ligne, avec des adversaires du monde entier.  Si la mémoire me sert bien, alors dans Windows pour Workgroups 3.11 (oui, j'ai trouvé tous ces artefacts!) Il y avait une version pour jouer sur un réseau local en utilisant le soi-disant NetDDE. <br><a name="habracut"></a><br>  Je n'ai pas eu à choisir un jeu de cartes depuis longtemps.  Comme on dit, ce qui est riche ... Le pont de haut vol et la préférence ont disparu en raison de leur ignorance totale.  Il ne restait plus qu'une chose: <s>disparaître comme un</s> idiot stupide. <br><br>  La situation était compliquée par le fait que jusqu'à présent je n'ai jamais été impliqué dans le développement d'un «backend».  La recherche sur Google m'a conduit au bon endroit - <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">SignalR</a> . <br><br>  Ici, je veux dire quelques mots enthousiastes à SignalR.  Une bibliothèque bien documentée qui correspond parfaitement à mes besoins.  Bores dira que ce n'est que pour Windows, eh bien, laissez-les grincer des dents avec envie.  Bien qu'il semble qu'il existe des clients de ferme collective pour iOS, je n'ai pas étudié ce problème en détail. <br><br>  La prochaine question est l'hébergement.  Alors je n'ai pas réfléchi longtemps, Azure était sous mes bras. <br><br><h2>  Alors qu'est-ce que je voulais? </h2><br><ul><li>  La façon dont les joueurs se connectent doit être similaire à Microsoft Hearts.  Les joueurs se connectent un par un, dès que la bonne somme est gagnée - le jeu commence.  Pour ma part, j'ai décidé de me limiter à un match en un contre un - et personne ne tire! </li><li>  Il y aura peu de joueurs au tout début - comment se découvrent-ils?  Puis l'idée est venue d'envoyer à tous ceux qui veulent jouer des notifications push au moment où quelqu'un lance l'application et se connecte au serveur de jeu.  Afin de ne pas étrangler les utilisateurs avec des poussées, il a fait une restriction «pas plus d'une fois toutes les N minutes». </li><li>  Je veux des statistiques détaillées, des prix, des réalisations, etc. </li><li>  Je veux des cartes de différents designs </li><li>  Je veux jouer avec ma connaissance, et non avec quelqu'un "que Dieu a envoyé". </li></ul><br><h2>  Qu'est-ce que j'utilise avec Azure? </h2><br><ul><li>  AppService est, en fait, une application à laquelle tous les clients se connectent. </li><li>  Serveur SQL + base de données SQL - pour stocker les statistiques du jeu. </li></ul><br>  C’est tout. <br><br>  Récemment, j'ai également utilisé leur service de distribution de notifications push.  Mais cela semblait cher (10 dollars par mois), en plus, il s'est avéré qu'en raison d'un problème de facturation de Microsoft, j'avais payé ces deux services pendant plus d'un an!  L'aboutissement du soutien a conduit au fait qu'ils ont reconnu l'erreur et ont offert jusqu'à un mois d'indemnisation.  Après un certain temps, j'ai complètement abandonné ce service, ajoutant une autre table à ma base de données pour stocker les signataires pour push et les envoyer moi-même depuis l'application principale. <br><br>  A cette époque, le coût d'hébergement mensuel d'environ 400 r.  Ce n'est que le coût du serveur SQL.  J'ai un petit trafic sortant et il s'inscrit dans les 5 Go gratuits par mois. <br><br><h2>  Développement </h2><br>  Le développement a eu lieu à Visual Studio 2015, pour le client le framework MVVM MVVM light a été utilisé. <br><br><h4>  Un petit serveur "cuisine" (les esthètes et les faibles de coeur vaut mieux ne pas regarder) </h4><br><div class="spoiler">  <b class="spoiler_title">connexion utilisateur, poussée</b> <div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">override</span></span></span><span class="hljs-function"> Task </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">OnConnected</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (((DateTime.Now - LastPush).TotalSeconds) &gt; <span class="hljs-number"><span class="hljs-number">360</span></span>) { LastPush = DateTime.Now; Task.Run(() =&gt; SendNotifications()); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">base</span></span>.OnConnected(); }</code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">créer un jeu anonyme</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">   .        </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;returns&gt;</span></span></span><span class="hljs-comment">ID  </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/returns&gt;</span></span></span><span class="hljs-comment"> async public Task</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;String&gt;</span></span></span><span class="hljs-comment"> ConnectAnonymous(PlayerInformation pi) { MainSemaphore.WaitOne(); try { string res = String.Empty; string p_ip = Context.Request.GetHttpContext().Request.UserHostAddress; if (NextAnonymGame == null) { NextAnonymGame = new FoolGame(Context.ConnectionId, pi, p_ip, false); res = NextAnonymGame.strGameID; } else { await NextAnonymGame.Start(Context.ConnectionId, pi, p_ip); ActiveGames.Add(NextAnonymGame.strGameID, NextAnonymGame); res = NextAnonymGame.strGameID; NextAnonymGame = null; } return res; } finally { MainSemaphore.Release(); } }</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">création d'une salle de jeux</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">    </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;returns&gt;</span></span></span><span class="hljs-comment">   </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/returns&gt;</span></span></span><span class="hljs-comment"> public String CreatePrivateGame(PlayerInformation pi) { MainSemaphore.WaitOne(); try { string p_ip = Context.Request.GetHttpContext().Request.UserHostAddress; FoolGame game = new FoolGame(Context.ConnectionId, pi, p_ip, true); WaitingPrivateGames.Add(game.strGameID, game); return game.PrivatePass; } finally { MainSemaphore.Release(); } }</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">jetez un œil à la carte du dessus dans le jeu</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">     - </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;param name="gameid"&gt;</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/param&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;returns&gt;</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/returns&gt;</span></span></span><span class="hljs-comment"> async public Task PeekCard(string gameid) { FoolGame game = null; game = ActiveGames.FirstOrDefault(games =&gt; games.Value.strGameID == gameid).Value; if (game != null) { game.GameSemaphore.Wait(); await Task.Delay(35); try { await Clients.Caller.PeekedCard(game.Deck.Peek()); } finally { game.GameSemaphore.Release(); } } }</span></span></code> </pre> <br></div></div><br><div class="spoiler">  <b class="spoiler_title">envoyer un message à un adversaire</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">  </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;param name="gameid"&gt;</span></span></span><span class="hljs-comment">ID  (  )</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/param&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;param name="ChatMessage"&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/param&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;returns&gt;</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/returns&gt;</span></span></span><span class="hljs-comment"> async public Task ChatMessage(string gameid, string ChatMessage) { FoolGame game = null; game = ActiveGames.FirstOrDefault(games =&gt; games.Value.strGameID == gameid).Value; if (game != null) { game.GameSemaphore.Wait(); await Task.Delay(35); try { await Clients.OthersInGroup(gameid).ChatMessage(ChatMessage); } finally { game.GameSemaphore.Release(); } } }</span></span></code> </pre><br></div></div><br><br><h4>  À propos du client </h4><br>  Pour identifier les joueurs, la fonctionnalité LiveId a d'abord été utilisée, puis l'API Graph.  Lors du premier lancement de l'application, le joueur est invité à donner accès à son compte (je n'en retiens que le nom et le soi-disant identifiant anonyme, qui ressemble à ceci: "ed4dd29dda5f982a").  Cependant, le joueur peut jouer de manière anonyme, mais les statistiques de ses parties ne sont pas conservées. <br><br>  Pour chaque joueur non anonyme sont stockés: <br><br>  1. date du premier match / date du dernier match <br>  2. nom / pseudo du joueur <br>  3. nombre de parties jouées / combien d'entre elles ont gagné <br>  4. dernière adresse IP <br>  5. prix reçus <br><br>  Si deux joueurs non anonymes jouent dans le jeu, alors avant qu'il ne commence, je reçois les statistiques des jeux de ces joueurs particuliers (combien de jeux ils ont joué ensemble et qui a gagné combien).  Pour ce faire, l'ID anonyme reçu est utilisé dans la requête SQL. <br><br>  Dans la capture d'écran en haut à gauche, vous pouvez voir un exemple (cliquable): <br><br> <a href=""><img src="https://habrastorage.org/webt/kf/f6/zy/kff6zyaelk9orpazyvgnvosfxg4.png"></a> <br><br>  Capture d'écran des statistiques générales (cliquable): <br><br> <a href=""><img src="https://habrastorage.org/webt/rn/hi/fy/rnhifyxjr_frp_txbsjzeks4wsq.png"></a> <br><br>  De plus, un «concours» est organisé dans tous les pays (des joueurs anonymes y participent également, les informations sont extraites de l'adresse IP): <br><br><img src="https://habrastorage.org/webt/_s/7h/hf/_s7hhfg4sog_aczekl47_crehii.png"><br><br>  Les joueurs peuvent échanger de courts messages. <br><br><pre> <code class="cs hljs">FoolHubProxy.On&lt;<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"ChatMessage"</span></span>, (chatmessage) =&gt; synchrocontext.Post(<span class="hljs-keyword"><span class="hljs-keyword">delegate</span></span> { PlayChatSound(); ShowMessageToast(chatmessage); }, <span class="hljs-literal"><span class="hljs-literal">null</span></span>));</code> </pre> <br>  Un exemple de gestionnaire de situation "Je prends des cartes et l'adversaire m'en ajoute un autre" après "": <br><br><pre> <code class="cs hljs">FoolHubProxy.On&lt;<span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt;(<span class="hljs-string"><span class="hljs-string">"TakeOneMoreCard"</span></span>, (addedcard, lastcard) =&gt; synchrocontext.Post(<span class="hljs-keyword"><span class="hljs-keyword">delegate</span></span> { CardModel card = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CardModel(addedcard, DeckIndex); CardsOnTable_Low.Add(card); OpponentsCards.Remove(OpponentsCards.Last()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (lastcard) { AppMode = AppModeEnum.defeated; } }, <span class="hljs-literal"><span class="hljs-literal">null</span></span>));</code> </pre> <br><h2>  À propos des prix, cookies, etc. </h2><br>  Chaque mois, les cinq premiers joueurs qui ont remporté le plus de victoires reçoivent un badge <s>«Pour la capture de Berlin»</s> .  Les participants dans le top 50 reçoivent des badges pour le meilleur pourcentage de victoires (également cinq).  De plus, il y a des badges pour gagner «express» (une situation où au dernier coup vous avez 2, 3 ou 4, disons six ou jacks).  Ensuite, ils ont tout mis sur la table d'un seul coup et vous - bravo.  Il y a des cookies pour la victoire, lorsque l'adversaire vous donne une "liste".  Il en reçoit également un réconfortant, avec un crâne et des os. <br><br><h2>  À propos de toute fonctionnalité supplémentaire </h2><br>  L'application est gratuite, mais elle contient plusieurs "petits pains" supplémentaires décorés comme des achats InApp: <br><br><ul><li>  regrouper vos cartes par couleur et astuces pendant le jeu (lorsque vous devez frapper ou lancer, les cartes appropriées sont poussées vers le haut) </li><li>  la possibilité de ne pas montrer à l'adversaire combien de cartes vous avez entre les mains.  Dans une situation normale, il le voit </li><li>  la possibilité de toujours commencer le jeu en premier.  Sinon, le premier coup est joué au hasard. </li><li>  la possibilité de voir les cartes battues dans le jeu </li><li>  l'occasion de jeter un coup d'œil dans le jeu une fois par partie et de découvrir la prochaine carte </li><li>  la capacité de tricher.  Vous pouvez battre 3 fois par partie ou lancer la mauvaise carte, généralement n'importe laquelle.  Mais l'adversaire a la possibilité, après l'avoir remarqué, de vous retourner la mauvaise carte. </li></ul><br><h2>  Conclusion </h2><br>  Suite au développement de cette application, j'ai: <br><br><ul><li>  rencontré SignalR </li><li>  SQL actualisé en mémoire (requêtes, procédures stockées, fonctions) </li><li>  J'ai appris à héberger des applications sur Azure </li><li>  Abasourdi de jouer le "fou". </li></ul><br><h2>  Question </h2><br>  Et qu'en est-il de la situation avec Habré avec la <s>dispersion d'argent d'un hélicoptère en</s> distribuant des codes promotionnels aux personnes intéressées dans un cadre personnel?  S'ils ne donnent pas un coup de pied pour cela, alors contactez. <br><br><h2>  Mettre à jour </h2><br>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=nl&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">YouTube: enregistrez quelques jeux</a> </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr442746/">https://habr.com/ru/post/fr442746/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr442736/index.html">6 jeux de société pour niveler l'anglais</a></li>
<li><a href="../fr442738/index.html">Profilage et traçage avec perf</a></li>
<li><a href="../fr442740/index.html">Rétro-ingénierie au format binaire utilisant les fichiers Korg SNG comme exemple 2e partie</a></li>
<li><a href="../fr442742/index.html">Ordinateur portable Compaq LTE 5000, deuxième partie et demie - Bonus</a></li>
<li><a href="../fr442744/index.html">La solution RIPE et ses conséquences pour l'exclusion de deux LIR russes (Netup, gcxc.net)</a></li>
<li><a href="../fr442748/index.html">La chose à propos du chapeau: les 10 meilleurs rapports de Heisenbug 2018 Moscou</a></li>
<li><a href="../fr442750/index.html">Djinn virtuel le 8 mars - ou comment surprendre vos employés un jour de printemps</a></li>
<li><a href="../fr442754/index.html">Fonctionnement vs bases de données analytiques: stockage colonne vs stockage</a></li>
<li><a href="../fr442758/index.html">5 astuces pour optimiser les requêtes SQL dans Greenplum</a></li>
<li><a href="../fr442760/index.html">Un article sur la façon dont CommVault sauvegarde PostgreSQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>