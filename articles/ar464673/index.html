<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏼 👩🏿‍🤝‍👩🏻 🏔️ TinyFL - متحكم سائق مصباح يدوي 🏴󠁧󠁢󠁷󠁬󠁳󠁿 ♦️ 😤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="مرحباً هبر! 


 أريد أن أحكي قصة عن كيفية وصولي إلى المصباح الأمامي الصيني على مصباح Cree XM-L وماذا حدث بعد ذلك. 



 قبل التاريخ 


 ذات مرة ، أمرت ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>TinyFL - متحكم سائق مصباح يدوي</h1><div class="post__body post__body_full" style=";text-align:right;direction:rtl"><div class="post__text post__text-html" id="post-content-body" data-io-article-url="https://habr.com/ru/post/464673/" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  مرحباً هبر! </p><br><p style=";text-align:right;direction:rtl">  أريد أن أحكي قصة عن كيفية وصولي إلى المصباح الأمامي الصيني على مصباح Cree XM-L وماذا حدث بعد ذلك. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ec/vx/uq/ecvxuq8hlp8-x_b6iacutkxyrmo.jpeg"></p><a name="habracut"></a><br><h2 id="predystoriya" style=";text-align:right;direction:rtl">  قبل التاريخ </h2><br><p style=";text-align:right;direction:rtl">  ذات مرة ، أمرت مصباح يدوي مع الصمام مشرق من موقع صيني واحد.  تبين أن المصباح مريح للغاية (على الرغم من أنه قد يكون أسهل) ، إلا أن سائقه ترك الكثير مما هو مرغوب فيه. </p><br><p style=";text-align:right;direction:rtl">  لقد أشرق ساطعًا بدرجة كافية ، لكن كان لدى برنامج التشغيل 3 أوضاع فقط - مشرق للغاية ومشرق وقوي ، وقد تم التبديل بينه وبين لمسة زر واحدة.  من أجل تشغيل المصباح وإيقافه ببساطة ، كان من الضروري الفرز بين هذه الأوضاع الثلاثة في كل مرة.  بالإضافة إلى ذلك ، عند تشغيل المصباح ، قام هذا المصباح بتفريغ البطارية إلى آخرها - لذا فقد تم تفريغ عبوة من علب 18650 الخاصة بي. </p><br><p style=";text-align:right;direction:rtl">  كل هذا كان غير مريح ومزعج ، لذلك في مرحلة ما قررت أن أجعل سائقي من أجل ذلك ، والتي ستكون القصة الإضافية. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">مصباح يدوي مع سائق قديم</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">  <em>وإليك مصباح يدوي ، وربما تعامل الكثير مع مماثلة</em> <br><img src="https://habrastorage.org/webt/lp/8j/cy/lp8jcyodmsrehdop-qawqouaw-g.jpeg"></p><br><p style=";text-align:right;direction:rtl">  <em>يبدو أن برنامج التشغيل الأصلي</em> <br><img src="https://habrastorage.org/webt/g-/cr/-w/g-cr-w88dmljau5oknxtpcxbrmu.jpeg"></p></div></div><br><h2 id="tehnicheskoe-zadanie" style=";text-align:right;direction:rtl">  الاختصاصات </h2><br><p style=";text-align:right;direction:rtl">  كما تعلمون ، من أجل تحقيق نتيجة جيدة ، يجب أن يكون لأي تطوير مواصفات تقنية جيدة ، لذلك سأحاول إعدادها بنفسي.  لذلك ، يجب على السائق: </p><br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  لتكون قادراً على تشغيل / إيقاف تشغيل بضغطة زر واحدة (زر دون إصلاح).  ربما هذا هو السبب الرئيسي وراء كل هذا بدأ. </li><li style=";text-align:right;direction:rtl">  تمتع بتحكم سلس في السطوع (بدون خطوات) ، بدءًا من ألمع - "تيربو" إلى "ضوء القمر" عندما يضاء الصمام الثنائي بالكاد.  يجب أن يتغير السطوع بالتساوي. </li><li style=";text-align:right;direction:rtl">  تذكر سطوع مجموعة للراحة. </li><li style=";text-align:right;direction:rtl">  راقب شحن البطارية ، وحذر عند تفريغها تقريبًا (حوالي 3.3 فولت) وإيقافها عند شحنها بالكامل (حوالي 2.9 فولت).  بالنسبة للبطاريات المختلفة ، قد تكون هذه المعلمات مختلفة.  وفقا لذلك ، يجب أن يكون الجهد التشغيل في حدود 2.7 ~ 4.5V. </li><li style=";text-align:right;direction:rtl">  لديك وضعين خاصين - منارة للطوارئ وقوية (حسناً ، لم لا؟) </li><li style=";text-align:right;direction:rtl">  لتكون قادراً على تشغيل / إيقاف تشغيل مؤشر LED الخلفي (هذا صحيح عند ركوب دراجة في الليل ، فإنه يتحول إلى شيء يشبه ضوء علامة). </li><li style=";text-align:right;direction:rtl">  لديهم حماية ضد قطبية عكسية والكهرباء الساكنة.  ليس بالضرورة ، ولكنه سيكون إضافة لطيفة ، لأنه في الظلام يمكنك وضع البطارية عن طريق الخطأ في الجانب الخطأ. </li><li style=";text-align:right;direction:rtl">  تكون أصغر من حجم برنامج التشغيل الأصلي ، لكن لها نفس المساحة.  السائق الصيني ضخم ببساطة ، مما يجعله أكبر لن يكون سهلاً. </li></ul><br><p style=";text-align:right;direction:rtl">  حسنًا ، إذا كان المصباح مضبطًا ، فلماذا لا يتم إنشاء شاحن مع موصل micro-USB؟  لديّ دائمًا مثل هذا الكابل وشحن USB في متناول اليد ، ويجب أن أبحث عن مصدر طاقة أصلي. </p><br><h2 id="zhelezo" style=";text-align:right;direction:rtl">  حديد </h2><br><p style=";text-align:right;direction:rtl">  لديّ بعض الخبرة مع Arduino ، لذلك تقرر إنشاء برنامج تشغيل على AVR family MK.  فهي متوفرة على نطاق واسع ، وسهلة البرمجة ، ولها أوضاع منخفضة الطاقة (النوم). </p><br><p style=";text-align:right;direction:rtl">  تم اختيار متحكم Attiny13a ليكون "عقل" السائق - إنه أحد أرخص Atmel MCs (تمتصه الآن Microchip) ، يحتوي على كل شيء على متن - GPIO لتوصيل زر و LED ، وجهاز توقيت لتوليد إشارة PWM ، ADC لقياس الجهد و EEPROM لحفظ المعلمات.  يتوفر فقط 1 كيلوبايت من ذاكرة الفلاش (ولكن كم يلزم لمصباح كهربائي) ، بالإضافة إلى ذاكرة الوصول العشوائي (RAM) 64 B والمقدار نفسه من EEPROM. <br>  يتوفر Attiny13 في العديد من خيارات الإسكان ، خاصة في DIP-8 ، والذي يمكن إدراجه مباشرةً في اللوح العادي بحجم 2.54 ملم. </p><br><p style=";text-align:right;direction:rtl">  نظرًا لأن 3 أسلاك فقط تنتقل من الخلف إلى رأس المصباح ، يتم إجبار الزر على الانتقال إلى الأرض (حول استحالة التقلص إلى زائد - لاحقًا) ، سيتعين عليك تبديل مؤشر LED في زائد - مما يعني أنك بحاجة إلى عمود P-channel.  لقد أخذت AO3401 كترانزستور ، لكن يمكنك أن تأخذ SI2323 ، فهي أغلى ثمناً ، لكن لديها مقاومة قناة مفتوحة أقل (40 مللي أمبير ، في حين أن AO3401 بها 60 مللي أمبير ، عند 4.5 فولت) ، وبالتالي ، فإن السائق سوف يسخن بدرجة أقل. </p><br><p style=";text-align:right;direction:rtl">  <em>من الكلمات إلى الأفعال ، أقوم بجمع نسخة أولية على اللوح</em> <br><img src="https://habrastorage.org/webt/6g/tx/89/6gtx89n9apulzr9kwouv9v-vkn8.jpeg"></p><br><p style=";text-align:right;direction:rtl">  يتم تشغيله حاليًا مباشرةً من المبرمج ، بجهد 5 فولت (أقل فعليًا بسبب الفقد في كبل USB).  بدلاً من LED ، تمسك XM-L حتى الآن بمصباح LED منتظم على الساقين ووضع ترانزستور ضعيف بجهد عتبة عالٍ. <br>  بعد ذلك ، في برنامج Altium Designer ، تم رسم مخطط بياني ، استكملته بحماية ضد قطبية عكسية و ESD. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/nt/cv/re/ntcvrepefjh36tyfclmcwze_e4o.png"></p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">وصف مفصل والغرض من جميع المكونات</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><h4 id="obyazatelnye-komponenty" style=";text-align:right;direction:rtl">  الشروط: </h4><br><p style=";text-align:right;direction:rtl">  U1 - Attiny13a متحكم في حزمة 8S1 (مؤشر SSU) </p><br><p style=";text-align:right;direction:rtl">  C1 - يجب أن يكون مكثف فك وحدة تزويد متحكم الطاقة ، في حدود 0.1 microfarads ، الحالة 1206 أو 0805 ، معامل درجة الحرارة X7R </p><br><p style=";text-align:right;direction:rtl">  R1-R2 هو مقسم المقاوم لقياس الجهد البطارية ، يمكن تعيين أي تصنيفات ، وهنا النسبة الرئيسية (750K / 220K ، نسبة القسمة 4.41) وتيار التسرب ، والتي ستكون أكبر إذا تم زيادة التصنيفات (في الوقت الراهن فهو حوالي 4 μA).  نظرًا لاستخدام ION داخلي (1.1 فولت ، وفقًا لورقة البيانات ، يمكن أن يكون ما بين 1.0 فولت إلى 1.2 فولت) ، يجب ألا يتجاوز الحد الأقصى للجهد عند إخراج الفاصل 1 فولت. مع الفاصل 750/220 ، سيكون الحد الأقصى للجهد المسموح به عند إدخال الفاصل 4.41 فولت ، والذي أكثر من كافية لجميع أنواع بطاريات الليثيوم. <br>  لقد حسبت الفاصل باستخدام هذه <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">الآلة الحاسبة</a> . </p><br><p style=";text-align:right;direction:rtl">  R3 - يحمي إخراج منفذ متحكم التيار من دائرة كهربائية قصيرة (إذا تم سحب PB1 فجأة إلى VCC ، فسوف يتدفق تيار كبير عبر السنون وقد يحترق MC) </p><br><p style=";text-align:right;direction:rtl">  R4 - سحب RESET MK إلى السلطة ، وبدون ذلك ، يمكن إعادة تمهيد من التقاطات. </p><br><p style=";text-align:right;direction:rtl">  Q1 - ترانزستور تأثير المجال P-channel في حزمة SOT-23 ، لقد قمت بتثبيت AO3401 ، ولكن أي شيء آخر مع pinout مناسب (على سبيل المثال ، SI2323) </p><br><p style=";text-align:right;direction:rtl">  R7 هو المقاوم بوابة الحد الحالي.  نظرًا لأن بوابة الترانزستور لديها قدرة معينة ، عند شحن هذه السعة ، يمكن أن يمر تيار كبير عبر الدبوس وقد يفشل الدبوس.  يمكنك ضبطه في منطقة 100-220 أوم (لا ينبغي أن يكون بعد الآن ، سيبدأ الترانزستور في حالة نصف مغلقة لفترة طويلة ، ونتيجة لذلك ، سوف يسخن أكثر). </p><br><p style=";text-align:right;direction:rtl">  R6 - مصراع سحب المقاومة إلى السلطة.  في حالة دخول PB0 إلى حالة مقاومة عالية ، سيتم تثبيت المنطق 1 من خلال هذا المقاوم على البوابة Q1 وسيتم إغلاق الترانزستور.  يمكن أن يحدث هذا بسبب خطأ في التعليمات البرمجية أو في وضع البرمجة. </p><br><p style=";text-align:right;direction:rtl">  D2 - الصمام الثنائي "locking" - يسمح "بترهل" الجهد (عند تشغيل LED لفترة قصيرة وسطوع كامل) لتغذية MK من المكثف لفترة من الوقت ، كما أنه يحمي من القطبية العكسية. <br>  يمكنك وضع أي الصمام الثنائي شوتكي في حزمة SOD323 مع انخفاض الجهد الحد الأدنى ، أضع BAT60. </p><br><p style=";text-align:right;direction:rtl">  في البداية ، تم إجراء حماية ضد قطبية عكسية لإمداد الطاقة على ترانزستور التأثير الميداني (يمكن ملاحظة ذلك على الألواح المصنوعة من قبل المسروقات).  ظهرت ميزة غير سارة بعد الأسلاك - عند تشغيل الحمل ، حدث انخفاض في الجهد وإعادة تشغيل MK ، نظرًا لأن العامل الميداني لا يحد من التيار في الاتجاه المعاكس.  في البداية كنت ملحومًا بمكثف إلكتروليتي 200 فائق التوهج بين VCC و GND ، لكنني لم أحب هذا الحل بسبب حجمه.  اضطررت إلى لحام الترانزستور ووضع الصمام الثنائي في مكانها ، لأن SOT-23 و SOD-323 لها أبعاد مماثلة. </p><br><p style=";text-align:right;direction:rtl">  المجموع ، في الدائرة هناك فقط 10 مكونات مطلوبة للتثبيت. </p><br><h4 id="neobyazatelnye-komponenty" style=";text-align:right;direction:rtl">  مكونات اختيارية: </h4><br><p style=";text-align:right;direction:rtl">  R5 و D1 مسؤولون عن الإضاءة الخلفية (LED2).  الحد الأدنى لتصنيف R5 هو 100 أوم.  كلما زاد التصنيف ، كان مؤشر LED الخلفي أضاء (يتم تشغيله في الوضع الثابت ، بدون PWM).  D1 - أي الصمام في حالة 1206 ، أضع الأخضر ، ل  بصريا هم أكثر إشراقا في نفس التيارات من غيرها. </p><br><p style=";text-align:right;direction:rtl">  D3 و D4 هي الثنائيات الواقية (TVS) ، لقد استخدمت PESD5V0 (5.0V) في حزمة SOD323.  D3 يحمي من الجهد الزائد من الطاقة ، D4 - عن طريق زر.  إذا غطى الزر غشاء ، فلا يوجد معنى خاص به.  قد يكون من المفيد استخدام الثنائيات الوقائية ثنائية الاتجاه ، وإلا ، فعند عكس القطبية ، سوف يتدفق التيار من خلالها وسيحترق (راجع CVC لصمام ثنائي وقائي ثنائي الاتجاه). </p><br><p style=";text-align:right;direction:rtl">  C2 - مكثف التنتالوم في الحالة A (يشبه 1206) ، فمن المنطقي ضبطه عندما يكون السائق غير مستقر (قد يتم ضغط فولطية الإمداد عند تيارات تحويل عالية من LED) </p><br><p style=";text-align:right;direction:rtl">  جميع المقاومات من حجم 0603 (بالنسبة لي ، وهذا هو الحد المناسب للحام يدوي) </p></div></div><br><p style=";text-align:right;direction:rtl">  كل شيء واضح مع المكونات ، يمكنك جعل لوحة الدوائر المطبوعة وفقا للمخطط أعلاه. <br>  أول ما يجب فعله هو إنشاء نموذج ثلاثي الأبعاد للوحة المستقبلية ، إلى جانب الثقوب - IMHO ، في Altium Designer ، هذه هي الطريقة الأكثر ملاءمة لتحديد هندسة PCB. <br>  قمت بقياس أبعاد برنامج التشغيل القديم وثقوبه المتصاعدة - يجب أن تكون اللوحة متصلة به ، لكن لها أبعاد أصغر (للتنوع ، فجأة عليك أن تبنيه في مكان آخر). <br>  تحول الحد الأدنى المعقول هنا في مكان ما حوالي 25 × 12.5 مم (نسبة العرض إلى الارتفاع 2: 1) مع فتحتين يبلغ قطرهما 2 مم للتركيب على غطاء المصباح بواسطة براغي أصلية. </p><br><p style=";text-align:right;direction:rtl">  لقد صنعت نموذجًا ثلاثي الأبعاد في SolidWorks ، ثم قمت بالتصدير إلى Altium Designer كـ STEP. <br>  ثم وضعت المكونات على السبورة ، وقمت بالاتصال في الزوايا (وهو أكثر ملاءمة وأسهل لحام الأرض) ، ووضع Attiny13 في الوسط ، والترانزستور أقرب إلى جهات اتصال LED. <br>  قمت بنشر مسارات السلطة ، وضعت المكونات المتبقية كما اتضح وفصلت مسارات الإشارة.  لتوفير الراحة في توصيل الذاكرة ، أخرجت جهات اتصال منفصلة لها ، والتي تكرر اتصالات البطارية. <br>  لقد صنعت جميع الأسلاك (باستثناء وصلة واحدة) على الطبقة العليا - لكي أكون قادرًا على صنع لوحة في المنزل باستخدام LUT. <br>  الحد الأدنى لعرض مسارات الإشارات هو 0.254 مم / 10 مل ، ويكون لتلك القدرة أقصى عرض ممكن. </p><br><p style=";text-align:right;direction:rtl">  <em>هذه هي الطريقة التي تبدو بها اللوحة السلكية في مصمم Altium</em> <br><img src="https://habrastorage.org/webt/yu/i4/bo/yui4bosmzwqjagvmj_clljr09ck.png"></p><br><p style=";text-align:right;direction:rtl">  يتمتع Altium Designer بفرصة للتعرف على الشكل الذي ستبدو فيه اللوحة في شكل ثلاثي الأبعاد (لذلك ستحتاج إلى نماذج لجميع المكونات ، والتي كان عليك بناء بعضها). <br>  ربما يقول شخص ما هنا أن الوضع ثلاثي الأبعاد ليس ضروريًا للتتبع ، لكن بالنسبة لي شخصيًا ، إنها وظيفة ملائمة تسهل وضع المكونات لتوفير الراحة للحام. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/my/jk/1r/myjk1rvgvm50odtu4iy77czuy3i.png"></p><br><p style=";text-align:right;direction:rtl">  في وقت كتابة هذا التقرير ، تم عمل 3 نسخ من اللوحة - أول إصدار لـ LUT ، والثاني للتصنيع الصناعي والثالث ، مع بعض التصحيحات. </p><br><h2 id="izgotovlenie-plat" style=";text-align:right;direction:rtl">  صنع المجلس </h2><br><h3 id="samodelnyy-sposob" style=";text-align:right;direction:rtl">  طريقة محلية الصنع </h3><br><p style=";text-align:right;direction:rtl">  LUT - تقنية الكي بالليزر ، طريقة لإنتاج لوحات الدوائر باستخدام الحفر على قناع تم الحصول عليه عن طريق تحويل الحبر من الورق إلى النحاس.  هذه الطريقة رائعة للوحات بسيطة أحادية الجانب مثل برنامج التشغيل هذا. <br>  تحتوي الشبكة على الكثير من المقالات حول هذه التقنية ، لذلك لن أخوض في التفاصيل ، لكني أخبرك بإيجاز كيف أفعل ذلك. </p><br><p style=";text-align:right;direction:rtl">  تحتاج أولاً إلى إعداد قالب سيتم طباعته على ورق حراري.  أقوم بتصدير طبقة top_layer إلى PDF ، وأحصل على صورة متجهة. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/lq/f3/dm/lqf3dmub3ivxcx3y32uijk9dy2a.png"></p><br><p style=";text-align:right;direction:rtl">  نظرًا لأن اللوحة صغيرة ، فمن المنطقي أن تأخذ قطعة من ثنائي الفينيل متعدد الكلور بأبعاد أكبر عدة مرات وتفعل ما تسميه الصناعة الألواح. <br>  لهذه الأغراض ، يكون CorelDraw مريحًا للغاية ، ولكن يمكنك استخدام أي محرر متجه آخر. <br>  أضع نسخًا من القوالب على المستند ، أقوم بعمل فجوات بين 0.5 إلى 1 مم بين الألواح (يعتمد ذلك على طريقة الفصل ، وأكثر على ذلك لاحقًا) ، يجب تحديد موقع الألواح بشكل متماثل - وإلا سيكون من الصعب فصلها. </p><br><p style=";text-align:right;direction:rtl">  لقد التقطت قطعة من ثنائي الفينيل متعدد الكلور أحادي الجانب ذي أبعاد أكبر قليلاً من اللوحة المجمعة ، ونظيفة وإزالة الشحوم (أفضل أن أفرك بممحاة ثم بالكحول).  أقوم بطباعة قالب للحفر على ورق حراري (من المهم هنا ألا تنسى نسخ القالب). <br>  بمساعدة من الحديد والصبر ، التمسيد بلطف على الورق ، وأنا أترجم إلى textolite.  انتظر حتى يبرد و انزع الورقة بعناية. <br>  يمكن تلميع المساحات الخالية من النحاس (غير المغلفة بالحبر) أو تسجيلها (كلما كانت مساحة النحاس أصغر ، كان رد فعل الحفر أسرع). </p><br><p style=";text-align:right;direction:rtl">  <em>مثل هذه الألواح المنزلية - يمكن أن يعوض عدد كبير من اللوحات عن عيوب التصنيع</em> <br><img src="https://habrastorage.org/webt/ob/f-/fk/obf-fkjp7lq5fcrxrr_x7rprgw8.jpeg"></p><br><p style=";text-align:right;direction:rtl">  أسّم الألواح بحمض الستريك في محلول من بيروكسيد الهيدروجين ، وهذه هي الطريقة الأكثر بأسعار معقولة ، على الرغم من أنها بطيئة إلى حد ما. <br>  النسب هي كالتالي: بالنسبة إلى 100 مل من البيروكسيد 3 ٪ هو 30 غرام من حامض الستريك وحوالي 5 غرامات من الملح ، يتم خلطها كلها وتصب في حاوية مع textolite. <br>  يؤدي تسخين المحلول إلى تسريع التفاعل ، ولكنه قد يتسبب في تقشر الحبر. </p><br><p style=";text-align:right;direction:rtl">  <em>يبدأ سحر كيميائي غير معروف: النحاس مغطى بالفقاعات ، والحل يأخذ لونًا أزرق</em> <br><img src="https://habrastorage.org/webt/bc/jh/pz/bcjhpzjgqcrcmqq1wr8j_def1yw.jpeg"></p><br><p style=";text-align:right;direction:rtl">  بعد بعض الوقت ، أخرج اللوحة المحفورة وأقوم بتنظيفها من الحبر.  لا يمكنني غسلها بأي مذيبات ، لذلك أزيلها ميكانيكياً بورق صنفرة ناعم الحبيبات. </p><br><p style=";text-align:right;direction:rtl">  الآن يبقى قصدير اللوحة - هذا سيساعد في لحام وحماية النحاس من الأكسدة وتسهيل لحام.  أفضّل التعليب باستخدام سبيكة Rose - تذوب هذه السبيكة عند درجة حرارة تبلغ حوالي 95 درجة ، مما يسمح بتغليفها في الماء المغلي (نعم ، ربما لا يكون التكوين الأكثر موثوقية في التعليب ، ولكن بالنسبة لوحات الدوائر المنزلية). </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/a5/fs/lk/a5fslka8zacdyhd2mrfad4irlx0.jpeg"></p><br><p style=";text-align:right;direction:rtl">  بعد التثقيب ، أقوم بالبحث عن لوحة (بالنسبة إلى جهات الاتصال التي أستخدمها التدريبات كربيد f1.0 ، لاعبا - f0.7) ، أنا الحفر مع dremel لعدم وجود أداة أخرى.  لا أرغب في قطع نسيج القماش بسبب الغبار ، وبالتالي ، بعد الحفر ، قمت بقطع الألواح بسكين مكتب - على كلا الجانبين أجري عدة قطع في سطر واحد ، ثم أقسمها إلى قطع.  هذا يذكرنا بالطريقة V-cut المستخدمة في الصناعة ، فقط هناك شق تم صنعه بواسطة مطحنة. </p><br><p style=";text-align:right;direction:rtl">  <em>يبدو مثل لوحة جاهزة لحام</em> <br><img src="https://habrastorage.org/webt/xw/3v/6n/xw3v6ns0nrje-n8saj5gobrvces.jpeg"></p><br><p style=";text-align:right;direction:rtl">  عندما تكون اللوحة جاهزة ، يمكنك البدء في توصيل المكونات.  أولا ، أنا لحام تافه (المقاومات 0603) ، ثم كل شيء آخر.  المقاومات متاخمة لعضو الكنيست ، لذلك يمكن أن يكون اللحام بالترتيب العكسي مشكلة.  بعد اللحام ، أتحقق مما إذا كانت هناك دائرة كهربائية قصيرة لتشغيل برنامج التشغيل ، وبعد ذلك من الممكن بالفعل بدء تشغيل البرامج الثابتة MK. </p><br><p style=";text-align:right;direction:rtl">  <em>برامج التشغيل جاهزة لتنزيل البرامج الثابتة</em> <br><img src="https://habrastorage.org/webt/4u/au/jk/4uaujk48pqllmzplxcxuy_yfig8.jpeg"></p><br><h3 id="promyshlennyy-sposob" style=";text-align:right;direction:rtl">  الطريقة الصناعية </h3><br><p style=";text-align:right;direction:rtl">  LUT سريعة وبأسعار معقولة ، لكن التكنولوجيا لها عيوبها (مثل جميع طرق تصنيع PP "المنزلية" تقريبًا).  من الصعب إنشاء لوحة على الوجهين ، يمكن حفر المسارات ، ويمكنك فقط أن تحلم بتعدين الثقوب. </p><br><p style=";text-align:right;direction:rtl">  لحسن الحظ ، منذ فترة طويلة الصينيين المغامرة تقدم خدمات لتصنيع لوحات الدوائر المطبوعة بطريقة صناعية. <br>  من الغريب أن تكلف لوحة صينية أحادية الطبقة أكثر من لوحة ذات طبقتين ، لذلك قررت إضافة طبقة (أسفل) ثانية إلى لوحة الدوائر المطبوعة.  يتم نسخ مسارات الطاقة والأرض في هذه الطبقة.  أيضًا ، أصبح من الممكن عمل مصدر حرارة من الترانزستور (المضلعات النحاسية في الطبقة السفلى) ، مما سيسمح للسائق بالعمل في التيارات العالية. </p><br><p style=";text-align:right;direction:rtl">  <em>الطبقة السفلى من اللوحة في Altium Designer</em> <br><img src="https://habrastorage.org/webt/x0/hf/b9/x0hfb9uk6flm6d7pat30fzm9lyu.png"></p><br><p style=";text-align:right;direction:rtl">  بالنسبة لهذا المشروع ، قررت أن أطلب لوحة دوائر مطبوعة على موقع PcbWay.  يحتوي الموقع على آلة حاسبة ملائمة لحساب تكلفة اللوحات ، اعتمادًا على معاييرها وأحجامها وكميتها.  بعد حساب التكلفة ، قمت بتنزيل ملف gerber الذي تم إنشاؤه في وقت سابق في Altium Designer ، وقام الصينيون بفحصه وانتقلت اللوحة إلى الإنتاج. </p><br><p style=";text-align:right;direction:rtl">  صنع مجموعة من 10 لوحات TinyFL كلفني 5 دولارات.  عند تسجيل مستخدم جديد ، يتم تقديم خصم بقيمة 5 دولارات للطلب الأول ، لذلك دفعت فقط للشحن ، والذي يكلف أيضًا حوالي 5 دولارات. <br>  توجد على هذا الموقع فرصة لوضع المشروع في المجال العام ، لذلك إذا أراد شخص ما طلب هذه اللوحات ، يمكنك ببساطة إضافة <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">هذا المشروع</a> إلى السلة. </p><br><p style=";text-align:right;direction:rtl">  بعد بضعة أسابيع ، جاءت لي نفس الألواح ، فقط <del>  krasivenkie </del>  المصنعة صناعيا.  يمكن فك ضغطها وتعبئتها فقط مع البرامج الثابتة. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/lp/j7/jk/lpj7jktyacb_h-atbtpze-9qzcw.jpeg"></p><br><h2 id="programma-proshivka" style=";text-align:right;direction:rtl">  البرنامج (البرامج الثابتة) </h2><br><p style=";text-align:right;direction:rtl">  الصعوبة الرئيسية التي نشأت عند كتابة البرنامج الثابت لبرنامج التشغيل ، ترتبط بالحجم الصغير للغاية لذاكرة فلاش - لا يحتوي Attiny13 إلا على 1024 بايت. <br>  أيضًا ، نظرًا لأن التغير في السطوع يتسم بالسلاسة ، كانت المهمة غير التافهة هي تغييره بشكل موحد - لهذا كان علينا إجراء تصحيح جاما. </p><br><h4 id="algoritm-upravleniya-drayverom" style=";text-align:right;direction:rtl">  خوارزمية تحكم السائق </h4><br><p style=";text-align:right;direction:rtl">  يتم تشغيل السائق بضغطة قصيرة على الزر ، وينطفئ به. <br>  يتم تخزين وضع السطوع المحدد طوال فترة إيقاف التشغيل. </p><br><p style=";text-align:right;direction:rtl">  إذا قمت بالضغط على زر تشغيل قصير مزدوج أثناء النقر (النقر المزدوج) ، فسيتم تشغيل / إيقاف تشغيل مؤشر LED الإضافي. <br>  مع الضغط لفترة طويلة أثناء التشغيل ، سيتغير سطوع المصباح تدريجياً.  الصحافة المتكررة المتكررة تغير الاتجاه (أقوى / أضعف). </p><br><p style=";text-align:right;direction:rtl">  يقوم برنامج التشغيل بفحص جهد البطارية بشكل دوري ، وإذا كان أقل من القيم المحددة ، فإنه يحذر المستخدم من التفريغ ، ثم ينطفئ لتجنب التفريغ العميق. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">وصف أكثر تفصيلا لخوارزمية السائق</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  عندما يتم توفير الطاقة إلى MK ، يتم إعداد الأجهزة الطرفية وينتهي MK (في حالة تحديد STARTSLEEP).  عندما يتم توفير الطاقة إلى برنامج التشغيل ، يضيء كل من LEDs عددًا معينًا من المرات إذا تم تعريف STARTBLINKS. </li><li style=";text-align:right;direction:rtl">  النوم.  يغرق Attiny13 في وضع إيقاف التشغيل (هذا هو الوضع الأكثر اقتصادا ، وفقًا لصفحة البيانات ، سيكون استهلاك MK هو ~ 1 μA) ، حيث لا يمكن الخروج منه إلا عن طريق أي مقاطعة.  في هذه الحالة ، هذا مقاطعة INT0 - الضغط على زر (إعداد PC1 إلى 0 المنطقية). <br>  على PC1 ، يجب تشغيل سحب داخلي ضعيف.  تعد ADC والمقارنة هما المستهلكان الرئيسيان للتيار من المحيط بأكمله ، لذلك يجب إيقافهما أيضًا.  أثناء النوم ، يتم تخزين محتويات السجلات وذاكرة الوصول العشوائي ، وبالتالي فإن EEPROM ليست ضرورية لتذكر السطوع. </li><li style=";text-align:right;direction:rtl">  بعد النوم ، يتم تشغيل الأجهزة الطرفية و PWM ويدخل برنامج التشغيل دورة لا نهاية لها يتم فيها مراقبة الزر وفحص جهد البطارية بشكل دوري. </li><li style=";text-align:right;direction:rtl">  إذا تم الضغط على الزر ، يتم ضغط الوقت. <br>  4.1.  إذا كانت الصحافة قصيرة ، فمن المتوقع النقر المزدوج (إذا تم تعريف BTN_DBCLICK). <br>  إذا كان كذلك ، فإن مفاتيح LED2 الإضافية <br>  إذا لم يكن كذلك ، انتقل إلى الخطوة 2 (النوم) <br>  4.2.  إذا كانت الصحافة طويلة (أطول من BTN_ONOFF_DELAY) - يتم تنشيط وضع التحكم في السطوع.  في هذا الوضع: <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  اتجاه التغيير مقلوب (أكثر / أقل) وتغير٪ PWM تعبئة أثناء الضغط على الزر. </li><li style=";text-align:right;direction:rtl">   /  (RATE_MAX / RATE_MIN),   ; </li><li style=";text-align:right;direction:rtl">   n- (AUXMODES_DELAY)     ,   .    —  (   25 ,  8 )    (     50,  1 ).        ,     -    . </li></ul></li><li style=";text-align:right;direction:rtl">       —    ADC2,     . <br><ul style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">      BAT_WARNING –   </li><li style=";text-align:right;direction:rtl">   BAT_WARNING –    ,    . -     . ,         5 . </li><li style=";text-align:right;direction:rtl">   BAT_SHUTDOWN —    .2 (). </li></ul></li></ol></div></div><br><h4 id="upravlenie-yarkostyu-svetodioda" style=";text-align:right;direction:rtl">    </h4><br><p style=";text-align:right;direction:rtl">  ,      —   ,     -     ,  . -    ,     ,       .     P-  ,        ,    — ,  .               . <br>      rate, 255 rate = 100% . <br>    1.2      1,     1200000/256 = 4.7 .     (  ),         (,   ,  ,   ).  ,      9.6 (CKSEL[1:0]=10, CKDIV8=1)  4.8  (CKSEL[1:0]=01, CKDIV8=1),      8   4  ,       . </p><br><p style=";text-align:right;direction:rtl"> ,         ,         .     ,      (      )      ,         ,  ,               1.5 ,   2        (   Cree XM-L   — 3 ). <br>               ,     (rate=255)     3.          ,        .   ,    RATE_MAX     .   ,     SI2323DS      4 ,     2 ,     . </p><br><h4 id="gamma-korrekciya" style=";text-align:right;direction:rtl"> - </h4><br><p style=";text-align:right;direction:rtl">      .     ,   5-10%       ,     75-100%      .     ,   n   ,  ,            ,        . </p><br><p style=";text-align:right;direction:rtl">   ,          -.    ,       1      12   .       ,      rate_step_array.  , ,       . </p><br><h4 id="kontrol-napryazheniya-batarei" style=";text-align:right;direction:rtl">    </h4><br><p style=";text-align:right;direction:rtl">  n- (      BAT_PERIOD)    .   ,    VIN      R1-R2,       PB4 (  ADC2   ). </p><br><p style=";text-align:right;direction:rtl">        ,    ,      Vref,          1.1 .        —     ,      (,  1.1       1023  255,   8- ).   ,        6   ,  255     1.1 ,   4.33  (  4.03),      . </p><br><p style=";text-align:right;direction:rtl">     ,        .    BAT_WARNING       (  ,    —    BAT_INFO_STEP,   ),    BAT_SHUTDOWN  . <br>         , ..    ,      . </p><br><p style=";text-align:right;direction:rtl"> ,     ,      . ,   4.03  R1 = 1M  R2 = 330,    R = 1330K     4  = 3 . <br>      ()    1 .      ,    ,     (  -       —  ). </p><br><h4 id="vnesenie-izmeneniy-v-proshivku" style=";text-align:right;direction:rtl">     </h4><br><p style=";text-align:right;direction:rtl">   ,       Arduino    C/C++. <br>      ,          (defines)   flashlight.h. <br>        Arduino IDE   Attiny13(a)  Atmel Studio –   ,  Arduino IDE,   . </p><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">Arduino IDE</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">      Attiny13  IDE.      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="></a> . <br>      Tools&gt;Board Attiny13(a)    Tools&gt;Frequency 1.2MHz. <br> ""      .ino,       —      .   ,   —      Arduino IDE.       - ,    .cpp. <br>       ,  ,          *.hex.        . </p></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">Atmel Studio</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">    IDE    flashlight.atsln,   —   flashlight.h   ()  flashlight.cpp   . <br>         —    . <br>        F7,   ( ,   ,  ).   debug  flashlight.hex,        . </p></div></div><br><div class="spoiler" style=";text-align:right;direction:rtl"> <b class="spoiler_title">   </b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl">          USBASP     AVRDUDEPROG.      GUI   avrdude,      —      .       (   Attiny13(a),    Fuses    read.   ,      ,   .     programm,      .       flashlight.h </p><br><p style=";text-align:right;direction:rtl"> لتحميل البرامج الثابتة ، انتقل إلى علامة التبويب "البرنامج" ، في سطر Flash ، حدد ملف البرنامج الثابت المترجم بتنسيق HEX (flashlight.hex) وانقر فوق "برنامج".  سيتم عرض حالة البرامج الثابتة في النافذة أدناه.  إذا لم ينجح التنزيل ، فقد يكون اتصالًا سيئًا ، يحدث - إنه يستحق المحاولة مرة أخرى.  بالمناسبة ، لهذا السبب تم إنشاء المعلمة STARTBLINKS - وميض واحد من LED2 في لحظة توفير الطاقة لبرنامج التشغيل بمثابة مؤشر على اتصال السائق مع مبرمج. <br>  بدلاً من USBASP ، يمكنك استخدام Arduino لتنزيل البرامج الثابتة ، مزيد من التفاصيل <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">هنا</a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">وهنا</a> </p><br><p style=";text-align:right;direction:rtl">  <em>USBASP مبرمج متصلا السائق عن طريق مقطع مع حلقة</em> <br><img src="https://habrastorage.org/webt/7f/b2/sy/7fb2syr5zqnwqejhoqpxqqa_-vw.jpeg"></p><br><p style=";text-align:right;direction:rtl">  لتوصيل USBASP إلى tinka ، أستخدم مقطعًا لـ SOIC ذي 8 أسنان.  ليس جهازًا مريحًا للغاية ، يجب عليك عذاب 10 دقائق قبل التقاط جهة الاتصال (ربما صادفت مقطعًا معيبًا).  هناك أيضًا محولات SOIC-DIP حيث يتم إدخال الدائرة الدقيقة قبل اللحام ويتم سكب البرنامج الثابت فيه - هذا الخيار أكثر ملاءمة ، ولكن يتم فقد القدرة على برمجة برنامج التشغيل داخل الدائرة (أي ، تحديث البرنامج الثابت بعد لحام MK في اللوحة). <br>  إذا لم يكن كل هذا موجودًا ، فيمكنك ببساطة لحام الأسلاك الطرفية لأجهزة MK ، والتي تعلق بعد ذلك على Arduino. </p></div></div><br><h4 id="kalibrovka" style=";text-align:right;direction:rtl">  معايرة </h4><br><p style=";text-align:right;direction:rtl">  يجب ألا تتجاوز التيارات التي تمر عبر السائق والصمام الحد الأقصى للقيم.  بالنسبة إلى XM-L LED ، هذا هو 3 أ ، لأنه يعتمد على الترانزستور المستخدم ، على سبيل المثال ، بالنسبة إلى SI2323 ، يبلغ الحد الأقصى الحالي حوالي 4 أ ، لكن من الأفضل القيادة عند التيارات السفلية بسبب التسخين الزائد.  لتقليل التيار عند أقصى درجة سطوع ، يتم استخدام المعلمة RATE_MAX (#define RATE_MAX xx ، حيث xx هي أقصى سطوع من 0 إلى 255). <br>  ليست معايرة ADC إجراءً إلزاميًا ، ولكن إذا كنت ترغب في أن يراقب السائق بدقة عتبة الجهد الكهربائي ، فيجب عليك العبث بها. </p><br><p style=";text-align:right;direction:rtl">  لن تعطي الحسابات دقة عالية للقياسات ، حيث إن المقاومات أولاً يمكن أن تختلف في حدود التسامح (عادةً ما بين 1-5٪) ، وثانياً ، يمكن أن يكون للأيونات الداخلية مبعثر من 1.0 إلى 1.2 فولت. <br>  لذلك ، فإن الطريقة الوحيدة المقبولة هي تعيين القيمة في وحدات ADC (BAT_WARNING و BAT_SHUTDOWN) ، واختيارها تجريبياً للقيمة المطلوبة.  للقيام بذلك ، سوف تحتاج إلى الصبر ، مبرمج ومصدر طاقة قابل للتعديل. <br>  قمت بتعيين قيمة BAT_PERIOD على 1000 في البرامج الثابتة (فحص الجهد مرة واحدة في الثانية) وتخفيض الجهد الكهربائي تدريجياً.  عندما بدأ السائق في التحذير من التفريغ ، تركت القيمة الحالية لـ BAT_WARNING حسب الحاجة. <br>  ليست هذه هي الطريقة الأكثر ملاءمة ، ربما تحتاج في المستقبل إلى إجراء إجراء معايرة تلقائية مع توفير القيم في EEPROM. </p><br><h2 id="sborka-fonarika" style=";text-align:right;direction:rtl">  التجمع مصباح يدوي </h2><br><p style=";text-align:right;direction:rtl">  عندما تكون اللوحة جاهزة وغمرت المياه ، يمكنك أخيرًا وضعها في مكان السائق القديم.  ألغيت السائق القديم وألحمت مكانًا جديدًا في مكانه. </p><br><div class="spoiler" style=";text-align:right;direction:rtl">  <b class="spoiler_title">يتم توصيل برنامج التشغيل الجديد بدلاً من برنامج التشغيل القديم وفقًا لهذا المخطط</b> <div class="spoiler_text" style=";text-align:right;direction:rtl"><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/ar/7c/6j/ar7c6jgy4zprzi6crl9aogualo8.png"></p></div></div><br><p style=";text-align:right;direction:rtl">  بعد التحقق مما إذا كانت هناك دائرة كهربائية قصيرة في وحدة الإمداد بالطاقة ، قمت بتوصيل وحدة الإمداد بالطاقة وفحص إمكانية التشغيل.  ثم قمت بتركيب لوحة الشحن (TP4056) ، لذلك كان عليّ أن أقوم بحفر فتحة في موصل الشحن بقليل من دريميل ، وثبتها بالغراء الساخن (كان من المهم ألا يتدفق الغراء في الموصل ، سيكون من الصعب إخراجه من هناك). </p><br><p style=";text-align:right;direction:rtl">  لم أقم بربط اللوحة بمسامير ، لأن الخيط الموجود في العلبة قد انشق عن التواء المتكرر ، ولكن بسكته بالغراء ببساطة ، قام أيضًا بلصق الأسلاك في أماكن اللحام حتى لا يندثر.  قررت أن تغطي السائق والشاحن بورنيش عديم اللون من الاكريليك ، وهذا من شأنه أن يساعد في مقاومة التآكل. </p><br><p style=";text-align:right;direction:rtl"><img src="https://habrastorage.org/webt/5g/qs/do/5gqsdoxgldinymg3njvlpsmnxz8.jpeg"></p><br><h2 id="testirovanie-i-raschet-stoimosti-izgotovleniya" style=";text-align:right;direction:rtl">  اختبار وحساب تكاليف التصنيع </h2><br><p style=";text-align:right;direction:rtl">  بعد كل العمليات ، كان من الممكن البدء في اختبار برامج التشغيل.  تم قياس التيار بمقياس متعدد تقليدي يربطه بالدائرة المفتوحة لمزود الطاقة. </p><br><p style=";text-align:right;direction:rtl">  استهلاك الطاقة للسائق القديم (يقاس 4.04 فولت): </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  أثناء النوم - لا تقاس </li><li style=";text-align:right;direction:rtl">  الوضع الأقصى: 0.60 أ </li><li style=";text-align:right;direction:rtl">  الوضع المتوسط: 0.30 أ </li><li style=";text-align:right;direction:rtl">  ستروبوسكوب: 0.28 A </li></ol><br><p style=";text-align:right;direction:rtl">  استهلاك الطاقة لبرنامج التشغيل الجديد (يقاس 4.0 فولت): </p><br><ol style=";text-align:right;direction:rtl"><li style=";text-align:right;direction:rtl">  في وضع السكون ، يستهلك حوالي 4 μA ، وهو أقل بكثير من تيار التفريغ الذاتي لبطارية ليثيوم أيون.  التيار الرئيسي في هذا الوضع يتدفق عبر مقسم المقاوم. </li><li style=";text-align:right;direction:rtl">  في الوضع الأدنى ، يكون "ضوء القمر" حوالي 5-7 مللي أمبير ، إذا افترضنا أن سعة خلية 18650 واحدة تبلغ حوالي 2500 مللي أمبير * ساعة ، فسنحصل على حوالي <strong>20 يومًا من التشغيل المستمر</strong> .  MK نفسها تستهلك في مكان ما 1.2-1.5 مللي أمبير (على تردد التشغيل من 1.2 ميغاهيرتز). </li><li style=";text-align:right;direction:rtl">  في الوضع الأقصى ، يستهلك "turbo" حوالي 1.5 A ، في هذا الوضع سيعمل لمدة ساعة ونصف تقريبًا.  يبدأ ارتفاع درجة حرارة مؤشر LED في هذه التيارات ، لذلك هذا الوضع غير مخصص للتشغيل على المدى الطويل. </li><li style=";text-align:right;direction:rtl">  منارة الطوارئ - تستهلك حوالي 80 مللي أمبير في المتوسط ​​، في هذا الوضع ، سيعمل المصباح حتى 30 ساعة. </li><li style=";text-align:right;direction:rtl">  ستروبوسكوب - تستهلك حوالي 0.35 ألف ، ستعمل حتى 6 ساعات. </li></ol><br><h4 id="cena-voprosa" style=";text-align:right;direction:rtl">  سعر الإصدار </h4><br><p style=";text-align:right;direction:rtl">  إذا قمت بشراء مكونات في Chip و Deep ، فسيخرج حوالي 100 روبل (60 روبل Attiny13 ، ~ 40 روبل باقي مسحوق فضفاض).  من المنطقي أن تطلب من الصين ، إذا تم صنع عدة قطع - فمن حيث قطعة ، ستكون أرخص ، وعادة ما يبيع الصينيون على دفعات من 10 قطع أو أكثر. <br>  سيتم إصدار الرسوم بسعر 300 روبل مقابل 10 قطع (بدون تسليم) ، إذا تم طلبها في الصين. <br>  الأسلاك وامض سائق واحد يستغرق حوالي ساعة. </p><br><h2 id="zaklyuchenie" style=";text-align:right;direction:rtl">  استنتاج </h2><br><p style=";text-align:right;direction:rtl">  أصبح المصباح الصيني أكثر ملاءمة ، على الرغم من أنني الآن لدي شكاوى حول ميكانيكاه - الجزء الأمامي ثقيل للغاية ، والتركيز ليس مطلوبًا حقًا. <br>  في المستقبل ، أخطط لإنشاء إصدار من برنامج التشغيل هذا للمصابيح الكهربائية بواسطة زر تشغيل (مع تثبيت).  صحيح ، أنا في حيرة من وفرة هذه المشاريع.  هل تعتقد أنه يستحق القيام واحد آخر؟ </p><br><p style=";text-align:right;direction:rtl">  <em>برنامج التشغيل عن قرب (الإصدار 2_t)</em> <br><img src="https://habrastorage.org/webt/2f/sd/sl/2fsdslzywcu7izjgclyshshwjvy.jpeg"></p><br><p style=";text-align:right;direction:rtl">  <strong>محدث</strong> : أضيفت الدعم لاردوينو IDE. </p><br><p style=";text-align:right;direction:rtl">  الكود المصدري للبرامج الثابتة والدائرة وأسلاك اللوحة الآن على github ، يمكنك تنزيله من هنا: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u=">https://github.com/madcatdev/tinyfl_t</a> </p></div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/ar464673/">https://habr.com/ru/post/ar464673/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar464657/index.html">عكس الهندسة الكهربائية كورنيش AM82TV</a></li>
<li><a href="../ar464659/index.html">أمان التطبيق أو كيفية تضمين الأمان في تطوير مخصص. تجربة شخصية في AGIMA</a></li>
<li><a href="../ar464661/index.html">لمن يعهد إلى تصميم إعادة المعدات التقنية ومرافق إعادة الإعمار</a></li>
<li><a href="../ar464665/index.html">التقسيم في SQL Server</a></li>
<li><a href="../ar464671/index.html">تلقي رسائل نصية قصيرة منتظمة إلى مراسلة Viber و Telegram الفورية (باستخدام بوابات GoIP)</a></li>
<li><a href="../ar464675/index.html">تحليل آليات توطين واجهة التطبيق في Splunk</a></li>
<li><a href="../ar464677/index.html">الاستثمارات في البورصة والتكاليف المرتبطة بها: كم هي خدمات شركة الوساطة</a></li>
<li><a href="../ar464679/index.html">Voxgun - خدمة لإنشاء محتوى فيديو احترافي دون أي جهد إضافي</a></li>
<li><a href="../ar464685/index.html">التلغراف البصري ، شبكة الميكروويف وبرج تسلا: أبراج اتصالات غير عادية</a></li>
<li><a href="../ar464687/index.html">إذا كنت تريد إنقاذ العالم ، فالتربية النباتية ليست خيارًا</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>