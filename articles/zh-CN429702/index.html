<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-6');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤µğŸ¾ ğŸ’ƒğŸ¾ ğŸˆ´ è°·æ­Œåˆ†æ Pixel Sync Facebookï¼ŒVKï¼ŒYandexï¼ŒMyTarget ğŸ§• ğŸŒ® ğŸ˜ª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å“ˆHaï¼ éšç€æ—¶é—´çš„æµé€ï¼Œè¥é”€äººå‘˜å¼€å§‹å¸Œæœ›ä¸ºäº‹ä»¶å†è¥é”€å»ºç«‹æ¸ é“ï¼Œç„¶ååˆé€šè¿‡æ‰€æœ‰æ¸ é“è¿›è¡Œè¿½é€ã€‚ 

 è¦å¼€å§‹è¿›è¡Œå†è¥é”€ï¼Œæ‚¨éœ€è¦åœ¨æ¯ä¸ªç³»ç»Ÿä¸­é…ç½®å—ä¼—ç¾¤ä½“é›†åˆã€‚ ä¸ºäº†å‡å°‘ä¸ä»–ä»¬çš„æ··æ·†ï¼Œæˆ‘æå‡ºäº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ-ä¸ºäº‹ä»¶åˆ›å»ºå•ä¸€æ ¼å¼ï¼Œä»è€Œå½¢æˆè§‚ä¼—ã€‚ 

 ä¸ºäº†æ›´è½»æ¾åœ°å°†å†è¥é”€æ‰©å±•åˆ°å…¶ä»–ç³»ç»Ÿï¼Œç°åœ¨æˆ‘ä»¬å°†åŒæ­¥Metr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly-es.github.io/index.html"></a>
    <div class="page-header-text">Geekly articles weekly</div>
  </header>
  <section class="page js-page"><h1>è°·æ­Œåˆ†æ Pixel Sync Facebookï¼ŒVKï¼ŒYandexï¼ŒMyTarget</h1><div class="post__body post__body_full"><div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/429702/">å“ˆHaï¼ éšç€æ—¶é—´çš„æµé€ï¼Œè¥é”€äººå‘˜å¼€å§‹å¸Œæœ›ä¸ºäº‹ä»¶å†è¥é”€å»ºç«‹æ¸ é“ï¼Œç„¶ååˆé€šè¿‡æ‰€æœ‰æ¸ é“è¿›è¡Œè¿½é€ã€‚ <br><br> è¦å¼€å§‹è¿›è¡Œå†è¥é”€ï¼Œæ‚¨éœ€è¦åœ¨æ¯ä¸ªç³»ç»Ÿä¸­é…ç½®å—ä¼—ç¾¤ä½“é›†åˆã€‚ ä¸ºäº†å‡å°‘ä¸ä»–ä»¬çš„æ··æ·†ï¼Œæˆ‘æå‡ºäº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ-ä¸ºäº‹ä»¶åˆ›å»ºå•ä¸€æ ¼å¼ï¼Œä»è€Œå½¢æˆè§‚ä¼—ã€‚ <br><br> ä¸ºäº†æ›´è½»æ¾åœ°å°†å†è¥é”€æ‰©å±•åˆ°å…¶ä»–ç³»ç»Ÿï¼Œç°åœ¨æˆ‘ä»¬å°†åŒæ­¥Metricaï¼ŒFacebookï¼ŒVKï¼ŒMyTargetä¸­çš„GAäº‹ä»¶ã€‚ <br><br><img src="https://habrastorage.org/webt/5i/9n/4a/5i9n4ahbete9hkx28brejn-zli4.png"><br> èµ°å§ <br><a name="habracut"></a><br>  <i>//ä¸ä¼šè€ƒè™‘å®‰è£…è®¡æ•°å™¨å’Œåƒç´ ï¼Œæˆ‘ä»¬è®¤ä¸ºå®ƒä»¬å·²ç»é€šè¿‡Googleè·Ÿè¸ªä»£ç ç®¡ç†å™¨è¿›è¡Œäº†é…ç½®</i> <br><br> å¦‚æœæ‚¨å·²ç»åœ¨Google Adsä¸­è¿›è¡Œè¿‡å†è¥é”€å·¥ä½œï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½å·²ç»æœ‰äº†ä¸€ä¸ªåˆ›å»ºå†è¥é”€å—ä¼—çš„æ´»åŠ¨ç›®å½•ï¼š <br><br><img src="https://habrastorage.org/webt/k1/ql/4c/k1ql4cbd3uax1nmlcrbuy1qrw2s.png"><br>  <i>ï¼ˆå¯¹é…ç½®äº†å†è¥é”€å—ä¼—ç¾¤ä½“çš„GAäº‹ä»¶çš„æè¿°ï¼‰</i> <br><br><h3> å¦‚ä½•å°†äº‹ä»¶å‘é€åˆ°å…¶ä»–ç³»ç»Ÿ </h3><br>  <b>Yandex.Metrica</b> <br><pre><code class="hljs cs">yaCounterXXXXXX.reachGoal(<span class="hljs-string"><span class="hljs-string">'customeventname'</span></span>);</code> </pre>  â†’ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¸®åŠ©</a> <br><br>  <b>è„¸ä¹¦</b> <br><pre> <code class="hljs perl">fb<span class="hljs-string"><span class="hljs-string">q('track', 'customeventname')</span></span>;</code> </pre>  â†’ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¸®åŠ©</a> <br><br>  <b>VK</b> <br><pre> <code class="hljs cs">VK.Retargeting.Event(<span class="hljs-string"><span class="hljs-string">'customeventname'</span></span>);</code> </pre>  â†’ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¸®åŠ©</a> <br><br>  <b>MyTargetï¼ˆTop.Mail.ruï¼‰</b> <br><pre> <code class="hljs pgsql">var _tmr = <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>._tmr || (<span class="hljs-keyword"><span class="hljs-keyword">window</span></span>._tmr = []); _tmr.push({ id: <span class="hljs-string"><span class="hljs-string">'counterID'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">type</span></span>: <span class="hljs-string"><span class="hljs-string">'reachGoal'</span></span>, goal: <span class="hljs-string"><span class="hljs-string">'arrows'</span></span> });</code> </pre>  â†’ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¸®åŠ©</a> <br><br> æˆ‘ä»¬çŸ¥é“æˆ‘ä»¬éœ€è¦æ•°æ®ï¼šäº‹ä»¶ç±»åˆ«ï¼Œäº‹ä»¶æ“ä½œï¼Œäº‹ä»¶æ ‡ç­¾ï¼Œæˆ‘ä»¬å°†åœ¨ä»¥ä¸‹è¡Œä¸­åˆå¹¶è¿™äº›æ•°æ®ï¼šï¼…ecï¼…_ï¼…eaï¼…_ï¼…elï¼… <br><br><h3>  Google Analyticsï¼ˆåˆ†æï¼‰å¦‚ä½•æ”¶é›†ä¿¡æ¯ </h3><br> æ€»ä½“è€Œè¨€ï¼ŒGAè®¡æ•°å™¨æ­£åœ¨æ”¶é›†ä¿¡æ¯ï¼Œæˆ‘ä»¬å°†ä¸å¯¹å…¶è¿›è¡Œåˆ†æï¼Œæ­¤é—®é¢˜åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è§†é¢‘è¯´æ˜</a>ä¸­è¿›è¡Œäº†è¯¦ç»†<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¯´æ˜</a> ã€‚ <br><br> è§¦å‘é…ç½®çš„äº‹ä»¶åï¼Œè¡¨å•çš„è¯·æ±‚ä¼šè½¬åˆ°Google Analyticsï¼ˆåˆ†æï¼‰ï¼š <br><br><pre> <code class="hljs perl">https:<span class="hljs-regexp"><span class="hljs-regexp">//www</span></span>.google-analytics.com/collect?v=<span class="hljs-number"><span class="hljs-number">1</span></span>&amp;_v=j72&amp;a=<span class="hljs-number"><span class="hljs-number">557659108</span></span>&amp;t=event&amp;ni=<span class="hljs-number"><span class="hljs-number">0</span></span>&amp;_s=<span class="hljs-number"><span class="hljs-number">1</span></span>&amp;dl=http%3A%2F%2Fgtm1.marketello.ru%2F&amp;ul=en-us&amp;de=UTF-<span class="hljs-number"><span class="hljs-number">8</span></span>&amp;dt=Marketello%20GTM%20%E2%80%94%20Just%20another%20WordPress%20site&amp;sd=<span class="hljs-number"><span class="hljs-number">24</span></span>-bit&amp;sr=<span class="hljs-number"><span class="hljs-number">1920</span></span>x108<span class="hljs-number"><span class="hljs-number">0</span></span>&amp;vp=<span class="hljs-number"><span class="hljs-number">743</span></span>x978&amp;je=<span class="hljs-number"><span class="hljs-number">0</span></span>&amp;ec=ecaterogy&amp;ea=eaction&amp;el=elabel&amp;_u=SACAAEAB~&amp;jid=&amp;gjid=&amp;cid=<span class="hljs-number"><span class="hljs-number">976245273.1518533705</span></span>&amp;tid=UA-<span class="hljs-number"><span class="hljs-number">108448586</span></span>-<span class="hljs-number"><span class="hljs-number">6</span></span>&amp;_gid=<span class="hljs-number"><span class="hljs-number">55313625.1542000243</span></span>&amp;gtm=<span class="hljs-number"><span class="hljs-number">2</span></span>wgas3TT5B95L&amp;z=<span class="hljs-number"><span class="hljs-number">2122252649</span></span></code> </pre> <br> è®©æˆ‘ä»¬å°†è¯·æ±‚ä¸­çš„å‚æ•°è½¬æ¢ä¸ºæ›´æ˜“äºç†è§£çš„å½¢å¼ï¼š <br><br><pre> <code class="hljs powershell">v: <span class="hljs-number"><span class="hljs-number">1</span></span> _v: j72 a: <span class="hljs-number"><span class="hljs-number">557659108</span></span> t: event ni: <span class="hljs-number"><span class="hljs-number">0</span></span> _s: <span class="hljs-number"><span class="hljs-number">1</span></span> dl: http://gtm1.marketello.ru/ ul: en<span class="hljs-literal"><span class="hljs-literal">-us</span></span> de: UTF<span class="hljs-literal"><span class="hljs-literal">-8</span></span> dt: Marketello GTM â€” Just another WordPress site sd: <span class="hljs-number"><span class="hljs-number">24</span></span><span class="hljs-literal"><span class="hljs-literal">-bit</span></span> sr: <span class="hljs-number"><span class="hljs-number">1920</span></span>x1080 vp: <span class="hljs-number"><span class="hljs-number">743</span></span>x978 je: <span class="hljs-number"><span class="hljs-number">0</span></span> ec: ecaterogy ea: eaction el: elabel _u: SACAAEAB~ jid: gjid: cid: <span class="hljs-number"><span class="hljs-number">976245273.1518533705</span></span> tid: UA<span class="hljs-literal"><span class="hljs-literal">-108448586</span></span><span class="hljs-literal"><span class="hljs-literal">-6</span></span> _gid: <span class="hljs-number"><span class="hljs-number">55313625.1542000243</span></span> gtm: <span class="hljs-number"><span class="hljs-number">2</span></span>wgas3TT5B95L z: <span class="hljs-number"><span class="hljs-number">2122252649</span></span></code> </pre><br> å¯ä»¥åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å®˜æ–¹å¸®åŠ©ä¸­</a>æ‰¾åˆ°æ‰€æœ‰å‚æ•°çš„è¯´æ˜ã€‚ <br><br> æˆ‘ä»¬å¯¹ä»¥ä¸‹å‚æ•°æ„Ÿå…´è¶£ï¼šecï¼ˆäº‹ä»¶ç±»åˆ«ï¼‰ï¼Œeaï¼ˆäº‹ä»¶åŠ¨ä½œï¼‰ï¼Œelï¼ˆäº‹ä»¶æ ‡ç­¾ï¼‰ã€‚ <br><br><h3> å°†å‚æ•°ä¼ é€’ç»™GTMå˜é‡ </h3><br>  <i>å¦‚æœæ‚¨åˆšå¼€å§‹ä½¿ç”¨Googleè·Ÿè¸ªä»£ç ç®¡ç†å™¨ï¼Œ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">è¯·æŸ¥çœ‹æœ¬æŒ‡å—çš„è§†é¢‘ç‰ˆæœ¬</a> ã€‚</i> <br><br>  <b>åˆ›å»ºä¸€ä¸ªCustomTaskå˜é‡</b> <br><br> åœ¨GTMä¸­æ‰“å¼€â€œå˜é‡â€éƒ¨åˆ†ã€‚ åˆ›å»ºä¸€ä¸ªç±»å‹ä¸ºCustom JavaScriptçš„æ–°å˜é‡ã€‚ æˆ‘å°†è¿™ä¸ªå˜é‡å‘½åä¸ºCustomTaskã€‚ <br><br><img src="https://habrastorage.org/webt/5p/v7/i3/5pv7i3mumo8uapxrh45merpbv-8.png"><br><br><pre> <code class="hljs lua"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(tracker)</span></span></span></span> { var originalSendHitTask = tracker.get(<span class="hljs-string"><span class="hljs-string">'sendHitTask'</span></span>); tracker.set(<span class="hljs-string"><span class="hljs-string">'sendHitTask'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(model)</span></span></span></span> { originalSendHitTask(model); var hitPayload = model.get(<span class="hljs-string"><span class="hljs-string">'hitPayload'</span></span>); //        console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(hitPayload); //   ,     var GaEventVars = {}; //        hitPayload.replace(/([^=&amp;]+)=([^&amp;]*)/g, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(m, key, value)</span></span></span></span> { GaEventVars[decodeURIComponent(key)] = decodeURIComponent(value); }); //      DataLayer   <span class="hljs-string"><span class="hljs-string">'GaEventParams'</span></span>   gtm- GaEvent window.dataLayer.push({<span class="hljs-string"><span class="hljs-string">'event'</span></span>:<span class="hljs-string"><span class="hljs-string">'GaEvent'</span></span>, <span class="hljs-string"><span class="hljs-string">'GaEventParams'</span></span>: GaEventVars}); }); } }</code> </pre><br> æˆ‘ä»¬ä¼šå°†è¿™ä¸ªå˜é‡æ·»åŠ åˆ°Google Analyticsï¼ˆåˆ†æï¼‰è·Ÿè¸ªå™¨çš„customTaskä¸­ã€‚ æ‚¨å¯ä»¥åœ¨<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">å¸®åŠ©ä¸­</a>é˜…è¯»æœ‰å…³ä»»åŠ¡çš„æ›´å¤šä¿¡æ¯ã€‚ <br><br>  <b>æˆ‘ä»¬å°†customTaskè¿æ¥åˆ°Google Analyticsï¼ˆåˆ†æï¼‰è®¡æ•°å™¨</b> <br><br> æ‰“å¼€Googâ€‹â€‹le Analyticsï¼ˆåˆ†æï¼‰çš„å…¨å±€è®¾ç½®ï¼ˆè¿™æ˜¯GTMä¸­çš„â€œå˜é‡â€éƒ¨åˆ†ï¼‰ã€‚ åœ¨â€œå…¶ä»–è®¾ç½®â€éƒ¨åˆ†ä¸­ï¼Œé€‰æ‹©è¦è®¾ç½®çš„å­—æ®µã€‚ æˆ‘ä»¬ç§°ä¸ºå­—æ®µåç§°ï¼šcustomTaskï¼ˆæ­¤æ ¼å¼å¿…éœ€ï¼‰ã€‚ ç„¶ååœ¨å€¼ä¸­æŠ›å‡ºå˜é‡{{customTask}}ï¼š <br><br><img src="https://habrastorage.org/webt/8h/e6/we/8he6webl5l8ytj8md59f7lkcxxc.png"><br><br> éªŒè¯æ˜¯å¦ä½¿ç”¨äº†GTMä¸­é…ç½®çš„æ‰€æœ‰Google Analyticsï¼ˆåˆ†æï¼‰äº‹ä»¶ <br>  GAå…¨å±€è®¾ç½®ã€‚ <br><br> å®Œæˆè¿™äº›è®¾ç½®åï¼Œå¯¹äºæ¯ä¸ªGoogle Analyticsï¼ˆåˆ†æï¼‰åŒ¹é…ï¼ˆä¾‹å¦‚é¡µé¢æµè§ˆæˆ–äº‹ä»¶ï¼‰ï¼Œæˆ‘ä»¬éƒ½ä¼šåœ¨è·Ÿè¸ªä»£ç ç®¡ç†å™¨è°ƒè¯•å™¨ä¸­çœ‹åˆ°ä¸€ä¸ªæ–°çš„GaEvent GTMäº‹ä»¶ï¼Œå…¶ä¸­åŒ…å«å®Œæ•´çš„å‚æ•°åˆ—è¡¨ï¼š <br><br><img src="https://habrastorage.org/webt/3q/dz/1i/3qdz1ikm4l0-0qufba1v3litnns.png"><br><br>  <b>ä»DataLayeré…ç½®å˜é‡æ£€ç´¢</b> <br><br> åœ¨GTMä¸­æ‰“å¼€â€œå˜é‡â€éƒ¨åˆ†ã€‚ åˆ›å»ºä¸€ä¸ªâ€œ DataLayer Variableâ€ç±»å‹çš„æ–°å˜é‡ã€‚ æˆ‘ä»¬æŒ‡å®šçš„åç§°ä¸äº‹ä»¶ä¸­æ¨é€çš„åç§°ç›¸åŒ-GaEventParamsã€‚ <br><br><img src="https://habrastorage.org/webt/oh/yi/7q/ohyi7qabadci3vgn5ma-snwquzk.png"><br><br> æˆ‘ä»¬æ›´æ–°æµ‹è¯•é¡µï¼Œæ£€æŸ¥å˜é‡æ˜¯å¦å‡ºç°åœ¨â€œè°ƒè¯•â€çª—å£ä¸­ï¼š <br><br><img src="https://habrastorage.org/webt/bu/ew/6k/buew6kngupvd_wvitar6fmi7ul8.png"><br><br>  <b>é…ç½®GaEventè§¦å‘å™¨</b> <br><br> åœ¨GTMä¸­ï¼Œæ‰“å¼€â€œè§¦å‘å™¨â€éƒ¨åˆ†ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„äº‹ä»¶å°†åœ¨æ´»åŠ¨æœŸé—´è¿›è¡Œã€‚ è§¦å‘ç±»å‹ä¸ºâ€œè‡ªå®šä¹‰äº‹ä»¶â€ã€‚ äº‹ä»¶åç§°ä¸ºGaEventï¼ˆæ˜¯çš„ï¼Œè¿™æ˜¯æˆ‘ä»¬ä»customTaskä¸­çš„å‡½æ•°å‘é€åˆ°DataLayerçš„äº‹ä»¶ï¼‰ã€‚ <br><br><img src="https://habrastorage.org/webt/rg/es/es/rgeseshbr7pjdzv83pwd4_lpklo.png"><br><br>  <b>è®¾ç½®å°†äº‹ä»¶å‘é€åˆ°å…¶ä»–ç³»ç»Ÿçš„æ ‡ç­¾</b> <br><br> æˆ‘ä»¬å°†é…ç½®ä¸€ä¸ªæ ‡ç­¾ï¼Œè¯¥æ ‡ç­¾å°†åœ¨ç³»ç»Ÿä¸Šå‘é€äº‹ä»¶ã€‚ <br><br> è°ƒç”¨æ ‡ç­¾â€œå‘å¹¿å‘Šå‘é€äº‹ä»¶â€ï¼Œè¾“å…¥â€œè‡ªå®šä¹‰HTMLâ€ã€‚ åˆ†é…GAäº‹ä»¶è§¦å‘å™¨ã€‚ å¹¶æ·»åŠ å†…å®¹ï¼š <br><br><pre> <code class="hljs matlab">&lt;script&gt; (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">{ </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">var</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gaEventParams</span></span></span><span class="hljs-function"> = {{</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GaEventParams</span></span></span><span class="hljs-function">}}; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">console</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">log</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(gaEventParams)</span></span></span><span class="hljs-function">; //     </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(gaEventParams.t == "event")</span></span></span><span class="hljs-function"> { //   </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( ec,ea,el   )</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">var</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">event_name</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gaEventParams</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ec</span></span></span><span class="hljs-function"> + '</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_</span></span></span><span class="hljs-function">' + </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gaEventParams</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ea</span></span></span><span class="hljs-function"> + '</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_</span></span></span><span class="hljs-function">' + </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">gaEventParams</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">el</span></span></span><span class="hljs-function">; //     </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">try</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">yaCounter51115808</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">reachGoal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(event_name)</span></span></span><span class="hljs-function">; } </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">catch</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(e)</span></span></span><span class="hljs-function"> {} //   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Facebook</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">try</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fbq</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">('track', event_name)</span></span></span><span class="hljs-function">; } </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">catch</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(e)</span></span></span><span class="hljs-function"> {} //   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VK</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">try</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VK</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Retargeting</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Event</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(event_name)</span></span></span><span class="hljs-function">; } </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">catch</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(e)</span></span></span><span class="hljs-function"> {} //   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyTarget</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Mail.ru)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">try</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">var</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_tmr</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">window</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_tmr</span></span></span><span class="hljs-function"> || </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(window._tmr = [])</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">_tmr</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">push</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">({ id: 3067973, type: 'reachGoal', goal: event_name })</span></span></span><span class="hljs-function">; } </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">catch</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(e)</span></span></span><span class="hljs-function"> {} } })</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">; &lt;/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">script</span></span></span><span class="hljs-function">&gt;</span></span></code> </pre><br> æˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨ï¼Œæ‰§è¡Œå°†äº‹ä»¶ä»…å‘é€åˆ°GAçš„æ“ä½œï¼Œç„¶åçœ‹åˆ°è¯·æ±‚ä¹Ÿå‘é€åˆ°å…¶ä»–æœåŠ¡ï¼š <br><br><img src="https://habrastorage.org/webt/ms/gu/ld/msguldjcaanyvgh5i9c3aptyisi.png"><br><br> å› æ­¤ï¼Œæ‚¨æ— éœ€ä¸ºæ¯ä¸ªç³»ç»Ÿåˆ†åˆ«è¿æ¥äº‹ä»¶ã€‚ åœ¨GAä¸­é…ç½®æ–°äº‹ä»¶å°±è¶³å¤Ÿäº†ï¼Œå®ƒå°†è‡ªåŠ¨å‘é€åˆ°å…¶ä»–ç³»ç»Ÿã€‚ <br><br> æ‚¨åªéœ€è¦è°ƒæ•´å¹¿å‘ŠæŸœä¸­äº‹ä»¶çš„å†è¥é”€å—ä¼—å½¢æˆæ¡ä»¶å³å¯ã€‚ <br><br> ç¥ä½ å¥½è¿ï¼ </div></div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN429702/">https://habr.com/ru/post/zh-CN429702/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN429692/index.html">Angularä¸­çš„äº‹ä»¶å¤„ç†ä¼˜åŒ–</a></li>
<li><a href="../zh-CN429694/index.html">Mail.Ruç§°Yandexæ’åâ€œè’è°¬â€ï¼Œå¹¶è¦æ±‚ä»ä¸­åˆ é™¤å…¶å“ç‰Œ</a></li>
<li><a href="../zh-CN429696/index.html">å¸¦æœ‰MOSDROIDï¼ƒ13é“çš„è§†é¢‘æŠ¥å‘Š</a></li>
<li><a href="../zh-CN429698/index.html">å¦‚ä½•ä¸Lebedev Studioåˆä½œï¼šTutu.ruç»éªŒ</a></li>
<li><a href="../zh-CN429700/index.html">è€³æœµæ•°å­—çš„å®šä¹‰</a></li>
<li><a href="../zh-CN429704/index.html">å°†å¤šè·¯å¾„LUNå­˜å‚¨è¿æ¥åˆ°Windows Server 2008å’ŒWindows Server 2012</a></li>
<li><a href="../zh-CN429706/index.html">A1ï¼š2017å¹´-æ³¨å°„å‰‚ï¼ˆç¬¬3éƒ¨åˆ†å’Œæœ€åéƒ¨åˆ†ï¼‰</a></li>
<li><a href="../zh-CN429708/index.html">è«æ–¯ç§‘HolyJS 2018è®¡åˆ’çš„ä¸€éƒ¨åˆ†</a></li>
<li><a href="../zh-CN429710/index.html">å›½é™…ç©ºé—´ç«™ä¸Šçš„äºŒæ°§åŒ–ç¢³</a></li>
<li><a href="../zh-CN429712/index.html">Reacté’©å­ç®€ä»‹</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter57283870 = new Ya.Metrika({
                  id:57283870,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/57283870" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-6', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Weekly-Geekly ES | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=9uU9J9pq8z7k8xEBHYSfs6DenIBAHs3vLIHcPIJW9d0&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>